globalThis.$localize=Object.assign(globalThis.$localize || {},{locale:"it"});
"use strict";(function(global,_global$ng,_global$ng2,_global$ng2$common,_global$ng$common,_global$ng$common$loc){(_global$ng=global.ng)!==null&&_global$ng!==void 0?_global$ng:global.ng={};(_global$ng2$common=(_global$ng2=global.ng).common)!==null&&_global$ng2$common!==void 0?_global$ng2$common:_global$ng2.common={};(_global$ng$common$loc=(_global$ng$common=global.ng.common).locales)!==null&&_global$ng$common$loc!==void 0?_global$ng$common$loc:_global$ng$common.locales={};const u=undefined;function plural(val){const n=val,i=Math.floor(Math.abs(val)),v=val.toString().replace(/^[^.]*\.?/,"").length,e=parseInt(val.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;if(i===1&&v===0)return 1;if(e===0&&!(i===0)&&i%1000000===0&&v===0||!(e>=0&&e<=5))return 4;return 5}global.ng.common.locales["it"]=["it",[["m.","p."],["AM","PM"],u],u,[["D","L","M","M","G","V","S"],["dom","lun","mar","mer","gio","ven","sab"],["domenica","luned\xEC","marted\xEC","mercoled\xEC","gioved\xEC","venerd\xEC","sabato"],["dom","lun","mar","mer","gio","ven","sab"]],u,[["G","F","M","A","M","G","L","A","S","O","N","D"],["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]],u,[["aC","dC"],["a.C.","d.C."],["avanti Cristo","dopo Cristo"]],1,[6,0],["dd/MM/yy","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",u,"{1} {0}",u],[",",".",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{"BRL":[u,"R$"],"BYN":[u,"Br"],"EGP":[u,"\xA3E"],"HKD":[u,"$"],"INR":[u,"\u20B9"],"JPY":[u,"\xA5"],"KRW":[u,"\u20A9"],"MXN":[u,"$"],"NOK":[u,"NKr"],"THB":["\u0E3F"],"TWD":[u,"NT$"],"USD":[u,"$"],"VND":[u,"\u20AB"]},"ltr",plural,[[["mezzanotte","mezzogiorno","di mattina","di pomeriggio","di sera","di notte"],u,["mezzanotte","mezzogiorno","di mattina","del pomeriggio","di sera","di notte"]],[["mezzanotte","mezzogiorno","mattina","pomeriggio","sera","notte"],u,u],["00:00","12:00",["06:00","12:00"],["12:00","18:00"],["18:00","24:00"],["00:00","06:00"]]]]})(globalThis);;
(self.webpackChunklacos=self.webpackChunklacos||[]).push([[792],{359:(Ds,an,_e)=>{"use strict";var st={};_e.r(st),_e.d(st,{Point:()=>Ie,Rect:()=>yn,transform:()=>wi});var Y={};_e.r(Y),_e.d(Y,{append:()=>GI,bindEvents:()=>dq,defined:()=>jt,deg:()=>sS,elementOffset:()=>N1e,elementSize:()=>UI,eventCoordinates:()=>A1e,eventElement:()=>x1e,hashKey:()=>U1e,last:()=>oa,limitValue:()=>d5,objectKey:()=>G1e,rad:()=>af,round:()=>ms,unbindEvents:()=>hq,valueOrDefault:()=>u5});var ze={};_e.r(ze),_e.d(ze,{easeOutElastic:()=>MIt,linear:()=>TIt,swing:()=>OIt});var ot={};_e.r(ot),_e.d(ot,{Arc:()=>m8t,Circle:()=>Ad,Group:()=>Pn,Path:()=>lt,Surface:()=>Pk,Text:()=>fee});var nt={};_e.r(nt),_e.d(nt,{byHour:()=>LQt,byMinute:()=>PQt,byMonth:()=>IQt,byMonthDay:()=>RQt,bySecond:()=>GQt,byWeekDay:()=>NQt,byWeekNumber:()=>xQt,byYearDay:()=>AQt});var s=_e(438);let rt=null;function Wt(){return rt}class dt{}const de=new s.nKC("");let Cn=(()=>{class i{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275prov=s.jDH({token:i,factory:()=>(0,s.WQX)(un),providedIn:"platform"})}return i})();const it=new s.nKC("");let un=(()=>{class i extends Cn{constructor(){super(),this._doc=(0,s.WQX)(de),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wt().getBaseHref(this._doc)}onPopState(e){const t=Wt().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=Wt().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,t,o){this._history.pushState(e,t,o)}replaceState(e,t,o){this._history.replaceState(e,t,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275prov=s.jDH({token:i,factory:()=>new i,providedIn:"platform"})}return i})();function di(i,n){if(0==i.length)return n;if(0==n.length)return i;let e=0;return i.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?i+n.substring(1):1==e?i+n:i+"/"+n}function qn(i){const n=i.match(/#|\?|$/),e=n&&n.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function wn(i){return i&&"?"!==i[0]?"?"+i:i}let ui=(()=>{class i{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275prov=s.jDH({token:i,factory:()=>(0,s.WQX)(ai),providedIn:"root"})}return i})();const ls=new s.nKC("");let ai=(()=>{class i extends ui{constructor(e,t){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=t??this._platformLocation.getBaseHrefFromDOM()??(0,s.WQX)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return di(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+wn(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${t}${o}`:t}pushState(e,t,o,r){const a=this.prepareExternalUrl(o+wn(r));this._platformLocation.pushState(e,t,a)}replaceState(e,t,o,r){const a=this.prepareExternalUrl(o+wn(r));this._platformLocation.replaceState(e,t,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Cn),s.KVO(ls,8))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),mt=(()=>{class i extends ui{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const t=this._platformLocation.hash??"#";return t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=di(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,o,r){let a=this.prepareExternalUrl(o+wn(r));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,t,a)}replaceState(e,t,o,r){let a=this.prepareExternalUrl(o+wn(r));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Cn),s.KVO(ls,8))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})(),qt=(()=>{class i{constructor(e){this._subject=new s.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const t=this._locationStrategy.getBaseHref();this._basePath=function Yd(i){if(new RegExp("^(https?:)?//").test(i)){const[,e]=i.split(/\/\/[^\/]+/);return e}return i}(qn(ln(t))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+wn(t))}normalize(e){return i.stripTrailingSlash(function ws(i,n){if(!i||!n.startsWith(i))return n;const e=n.substring(i.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,ln(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,t="",o=null){this._locationStrategy.pushState(o,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+wn(t)),o)}replaceState(e,t="",o=null){this._locationStrategy.replaceState(o,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+wn(t)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}),()=>{const t=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(t,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(o=>o(e,t))}subscribe(e,t,o){return this._subject.subscribe({next:e,error:t,complete:o})}static#e=this.normalizeQueryParams=wn;static#t=this.joinWithSlash=di;static#n=this.stripTrailingSlash=qn;static#i=this.\u0275fac=function(t){return new(t||i)(s.KVO(ui))};static#s=this.\u0275prov=s.jDH({token:i,factory:()=>function As(){return new qt((0,s.KVO)(ui))}(),providedIn:"root"})}return i})();function ln(i){return i.replace(/\/index.html$/,"")}var gp=function(i){return i[i.Decimal=0]="Decimal",i[i.Percent=1]="Percent",i[i.Currency=2]="Currency",i[i.Scientific=3]="Scientific",i}(gp||{}),vr=function(i){return i[i.Format=0]="Format",i[i.Standalone=1]="Standalone",i}(vr||{}),Mi=function(i){return i[i.Narrow=0]="Narrow",i[i.Abbreviated=1]="Abbreviated",i[i.Wide=2]="Wide",i[i.Short=3]="Short",i}(Mi||{}),Tt=function(i){return i[i.Short=0]="Short",i[i.Medium=1]="Medium",i[i.Long=2]="Long",i[i.Full=3]="Full",i}(Tt||{});const kn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ng(i,n){return ya((0,s.H5H)(i)[s.KH2.DateFormat],n)}function Lv(i,n){return ya((0,s.H5H)(i)[s.KH2.TimeFormat],n)}function Sp(i,n){return ya((0,s.H5H)(i)[s.KH2.DateTimeFormat],n)}function Ya(i,n){const e=(0,s.H5H)(i),t=e[s.KH2.NumberSymbols][n];if(typeof t>"u"){if(n===kn.CurrencyDecimal)return e[s.KH2.NumberSymbols][kn.Decimal];if(n===kn.CurrencyGroup)return e[s.KH2.NumberSymbols][kn.Group]}return t}function Pg(i){if(!i[s.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[s.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ya(i,n){for(let e=n;e>-1;e--)if(typeof i[e]<"u")return i[e];throw new Error("Locale data API: locale data undefined")}function Zb(i){const[n,e]=i.split(":");return{hours:+n,minutes:+e}}const vp=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,uc={},Jd=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var hc=function(i){return i[i.Short=0]="Short",i[i.ShortGMT=1]="ShortGMT",i[i.Long=2]="Long",i[i.Extended=3]="Extended",i}(hc||{}),hi=function(i){return i[i.FullYear=0]="FullYear",i[i.Month=1]="Month",i[i.Date=2]="Date",i[i.Hours=3]="Hours",i[i.Minutes=4]="Minutes",i[i.Seconds=5]="Seconds",i[i.FractionalSeconds=6]="FractionalSeconds",i[i.Day=7]="Day",i}(hi||{}),Qn=function(i){return i[i.DayPeriods=0]="DayPeriods",i[i.Days=1]="Days",i[i.Months=2]="Months",i[i.Eras=3]="Eras",i}(Qn||{});function y6(i,n,e,t){let o=function nE(i){if(Bv(i))return i;if("number"==typeof i&&!isNaN(i))return new Date(i);if("string"==typeof i){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){const[o,r=1,a=1]=i.split("-").map(l=>+l);return zi(o,r-1,a)}const e=parseFloat(i);if(!isNaN(i-e))return new Date(e);let t;if(t=i.match(vp))return function NO(i){const n=new Date(0);let e=0,t=0;const o=i[8]?n.setUTCFullYear:n.setFullYear,r=i[8]?n.setUTCHours:n.setHours;i[9]&&(e=Number(i[9]+i[10]),t=Number(i[9]+i[11])),o.call(n,Number(i[1]),Number(i[2])-1,Number(i[3]));const a=Number(i[4]||0)-e,l=Number(i[5]||0)-t,c=Number(i[6]||0),u=Math.floor(1e3*parseFloat("0."+(i[7]||0)));return r.call(n,a,l,c,u),n}(t)}const n=new Date(i);if(!Bv(n))throw new Error(`Unable to convert "${i}" into a date`);return n}(i);n=id(e,n)||n;let l,a=[];for(;n;){if(l=Jd.exec(n),!l){a.push(n);break}{a=a.concat(l.slice(1));const f=a.pop();if(!f)break;n=f}}let c=o.getTimezoneOffset();t&&(c=xO(t,c),o=function w6(i,n,e){const t=e?-1:1,o=i.getTimezoneOffset();return function D6(i,n){return(i=new Date(i.getTime())).setMinutes(i.getMinutes()+n),i}(i,t*(xO(n,o)-o))}(o,t,!0));let u="";return a.forEach(f=>{const _=function AO(i){if(pc[i])return pc[i];let n;switch(i){case"G":case"GG":case"GGG":n=cs(Qn.Eras,Mi.Abbreviated);break;case"GGGG":n=cs(Qn.Eras,Mi.Wide);break;case"GGGGG":n=cs(Qn.Eras,Mi.Narrow);break;case"y":n=Vn(hi.FullYear,1,0,!1,!0);break;case"yy":n=Vn(hi.FullYear,2,0,!0,!0);break;case"yyy":n=Vn(hi.FullYear,3,0,!1,!0);break;case"yyyy":n=Vn(hi.FullYear,4,0,!1,!0);break;case"Y":n=Fv(1);break;case"YY":n=Fv(2,!0);break;case"YYY":n=Fv(3);break;case"YYYY":n=Fv(4);break;case"M":case"L":n=Vn(hi.Month,1,1);break;case"MM":case"LL":n=Vn(hi.Month,2,1);break;case"MMM":n=cs(Qn.Months,Mi.Abbreviated);break;case"MMMM":n=cs(Qn.Months,Mi.Wide);break;case"MMMMM":n=cs(Qn.Months,Mi.Narrow);break;case"LLL":n=cs(Qn.Months,Mi.Abbreviated,vr.Standalone);break;case"LLLL":n=cs(Qn.Months,Mi.Wide,vr.Standalone);break;case"LLLLL":n=cs(Qn.Months,Mi.Narrow,vr.Standalone);break;case"w":n=hm(1);break;case"ww":n=hm(2);break;case"W":n=hm(1,!0);break;case"d":n=Vn(hi.Date,1);break;case"dd":n=Vn(hi.Date,2);break;case"c":case"cc":n=Vn(hi.Day,1);break;case"ccc":n=cs(Qn.Days,Mi.Abbreviated,vr.Standalone);break;case"cccc":n=cs(Qn.Days,Mi.Wide,vr.Standalone);break;case"ccccc":n=cs(Qn.Days,Mi.Narrow,vr.Standalone);break;case"cccccc":n=cs(Qn.Days,Mi.Short,vr.Standalone);break;case"E":case"EE":case"EEE":n=cs(Qn.Days,Mi.Abbreviated);break;case"EEEE":n=cs(Qn.Days,Mi.Wide);break;case"EEEEE":n=cs(Qn.Days,Mi.Narrow);break;case"EEEEEE":n=cs(Qn.Days,Mi.Short);break;case"a":case"aa":case"aaa":n=cs(Qn.DayPeriods,Mi.Abbreviated);break;case"aaaa":n=cs(Qn.DayPeriods,Mi.Wide);break;case"aaaaa":n=cs(Qn.DayPeriods,Mi.Narrow);break;case"b":case"bb":case"bbb":n=cs(Qn.DayPeriods,Mi.Abbreviated,vr.Standalone,!0);break;case"bbbb":n=cs(Qn.DayPeriods,Mi.Wide,vr.Standalone,!0);break;case"bbbbb":n=cs(Qn.DayPeriods,Mi.Narrow,vr.Standalone,!0);break;case"B":case"BB":case"BBB":n=cs(Qn.DayPeriods,Mi.Abbreviated,vr.Format,!0);break;case"BBBB":n=cs(Qn.DayPeriods,Mi.Wide,vr.Format,!0);break;case"BBBBB":n=cs(Qn.DayPeriods,Mi.Narrow,vr.Format,!0);break;case"h":n=Vn(hi.Hours,1,-12);break;case"hh":n=Vn(hi.Hours,2,-12);break;case"H":n=Vn(hi.Hours,1);break;case"HH":n=Vn(hi.Hours,2);break;case"m":n=Vn(hi.Minutes,1);break;case"mm":n=Vn(hi.Minutes,2);break;case"s":n=Vn(hi.Seconds,1);break;case"ss":n=Vn(hi.Seconds,2);break;case"S":n=Vn(hi.FractionalSeconds,1);break;case"SS":n=Vn(hi.FractionalSeconds,2);break;case"SSS":n=Vn(hi.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=lh(hc.Short);break;case"ZZZZZ":n=lh(hc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=lh(hc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=lh(hc.Long);break;default:return null}return pc[i]=n,n}(f);u+=_?_(o,e,c):"''"===f?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function zi(i,n,e){const t=new Date(0);return t.setFullYear(i,n,e),t.setHours(0,0,0),t}function id(i,n){const e=function ni(i){return(0,s.H5H)(i)[s.KH2.LocaleId]}(i);if(uc[e]??={},uc[e][n])return uc[e][n];let t="";switch(n){case"shortDate":t=Ng(i,Tt.Short);break;case"mediumDate":t=Ng(i,Tt.Medium);break;case"longDate":t=Ng(i,Tt.Long);break;case"fullDate":t=Ng(i,Tt.Full);break;case"shortTime":t=Lv(i,Tt.Short);break;case"mediumTime":t=Lv(i,Tt.Medium);break;case"longTime":t=Lv(i,Tt.Long);break;case"fullTime":t=Lv(i,Tt.Full);break;case"short":const o=id(i,"shortTime"),r=id(i,"shortDate");t=um(Sp(i,Tt.Short),[o,r]);break;case"medium":const a=id(i,"mediumTime"),l=id(i,"mediumDate");t=um(Sp(i,Tt.Medium),[a,l]);break;case"long":const c=id(i,"longTime"),u=id(i,"longDate");t=um(Sp(i,Tt.Long),[c,u]);break;case"full":const f=id(i,"fullTime"),_=id(i,"fullDate");t=um(Sp(i,Tt.Full),[f,_])}return t&&(uc[e][n]=t),t}function um(i,n){return n&&(i=i.replace(/\{([^}]+)}/g,function(e,t){return null!=n&&t in n?n[t]:e})),i}function Bn(i,n,e="-",t,o){let r="";(i<0||o&&i<=0)&&(o?i=1-i:(i=-i,r=e));let a=String(i);for(;a.length<n;)a="0"+a;return t&&(a=a.slice(a.length-n)),r+a}function Vn(i,n,e=0,t=!1,o=!1){return function(r,a){let l=function Gv(i,n){switch(i){case hi.FullYear:return n.getFullYear();case hi.Month:return n.getMonth();case hi.Date:return n.getDate();case hi.Hours:return n.getHours();case hi.Minutes:return n.getMinutes();case hi.Seconds:return n.getSeconds();case hi.FractionalSeconds:return n.getMilliseconds();case hi.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}(i,r);if((e>0||l>-e)&&(l+=e),i===hi.Hours)0===l&&-12===e&&(l=12);else if(i===hi.FractionalSeconds)return function tE(i,n){return Bn(i,3).substring(0,n)}(l,n);const c=Ya(a,kn.MinusSign);return Bn(l,n,c,t,o)}}function cs(i,n,e=vr.Format,t=!1){return function(o,r){return function RO(i,n,e,t,o,r){switch(e){case Qn.Months:return function TO(i,n,e){const t=(0,s.H5H)(i),r=ya([t[s.KH2.MonthsFormat],t[s.KH2.MonthsStandalone]],n);return ya(r,e)}(n,o,t)[i.getMonth()];case Qn.Days:return function v6(i,n,e){const t=(0,s.H5H)(i),r=ya([t[s.KH2.DaysFormat],t[s.KH2.DaysStandalone]],n);return ya(r,e)}(n,o,t)[i.getDay()];case Qn.DayPeriods:const a=i.getHours(),l=i.getMinutes();if(r){const u=function at(i){const n=(0,s.H5H)(i);return Pg(n),(n[s.KH2.ExtraData][2]||[]).map(t=>"string"==typeof t?Zb(t):[Zb(t[0]),Zb(t[1])])}(n),f=function ah(i,n,e){const t=(0,s.H5H)(i);Pg(t);const r=ya([t[s.KH2.ExtraData][0],t[s.KH2.ExtraData][1]],n)||[];return ya(r,e)||[]}(n,o,t),_=u.findIndex(S=>{if(Array.isArray(S)){const[v,b]=S,D=a>=v.hours&&l>=v.minutes,k=a<b.hours||a===b.hours&&l<b.minutes;if(v.hours<b.hours){if(D&&k)return!0}else if(D||k)return!0}else if(S.hours===a&&S.minutes===l)return!0;return!1});if(-1!==_)return f[_]}return function Xr(i,n,e){const t=(0,s.H5H)(i),r=ya([t[s.KH2.DayPeriodsFormat],t[s.KH2.DayPeriodsStandalone]],n);return ya(r,e)}(n,o,t)[a<12?0:1];case Qn.Eras:return function MO(i,n){return ya((0,s.H5H)(i)[s.KH2.Eras],n)}(n,t)[i.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(o,r,i,n,e,t)}}function lh(i){return function(n,e,t){const o=-1*t,r=Ya(e,kn.MinusSign),a=o>0?Math.floor(o/60):Math.ceil(o/60);switch(i){case hc.Short:return(o>=0?"+":"")+Bn(a,2,r)+Bn(Math.abs(o%60),2,r);case hc.ShortGMT:return"GMT"+(o>=0?"+":"")+Bn(a,1,r);case hc.Long:return"GMT"+(o>=0?"+":"")+Bn(a,2,r)+":"+Bn(Math.abs(o%60),2,r);case hc.Extended:return 0===t?"Z":(o>=0?"+":"")+Bn(a,2,r)+":"+Bn(Math.abs(o%60),2,r);default:throw new Error(`Unknown zone width "${i}"`)}}}const Kt=0,ch=4;function Uv(i){const n=i.getDay(),e=0===n?-3:ch-n;return zi(i.getFullYear(),i.getMonth(),i.getDate()+e)}function hm(i,n=!1){return function(e,t){let o;if(n){const r=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();o=1+Math.floor((a+r)/7)}else{const r=Uv(e),a=function Wr(i){const n=zi(i,Kt,1).getDay();return zi(i,0,1+(n<=ch?ch:ch+7)-n)}(r.getFullYear()),l=r.getTime()-a.getTime();o=1+Math.round(l/6048e5)}return Bn(o,i,Ya(t,kn.MinusSign))}}function Fv(i,n=!1){return function(e,t){return Bn(Uv(e).getFullYear(),i,Ya(t,kn.MinusSign),n)}}const pc={};function xO(i,n){i=i.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(e)?n:e}function Bv(i){return i instanceof Date&&!isNaN(i.valueOf())}const iE=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function sd(i){const n=parseInt(i);if(isNaN(n))throw new Error("Invalid integer literal when parsing "+i);return n}function Vg(i,n){n=encodeURIComponent(n);for(const e of i.split(";")){const t=e.indexOf("="),[o,r]=-1==t?[e,""]:[e.slice(0,t),e.slice(t+1)];if(o.trim()===n)return decodeURIComponent(r)}return null}const zg=/\s+/,Hg=[];let Be=(()=>{class i{constructor(e,t){this._ngEl=e,this._renderer=t,this.initialClasses=Hg,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(zg):Hg}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(zg):e}ngDoCheck(){for(const t of this.initialClasses)this._updateState(t,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const t of e)this._updateState(t,!0);else if(null!=e)for(const t of Object.keys(e))this._updateState(t,!!e[t]);this._applyStateDiff()}_updateState(e,t){const o=this.stateMap.get(e);void 0!==o?(o.enabled!==t&&(o.changed=!0,o.enabled=t),o.touched=!0):this.stateMap.set(e,{enabled:t,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const t=e[0],o=e[1];o.changed?(this._toggleClass(t,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(t,!1),this.stateMap.delete(t)),o.touched=!1}}_toggleClass(e,t){(e=e.trim()).length>0&&e.split(zg).forEach(o=>{t?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(s.aKT),s.rXU(s.sFG))};static#t=this.\u0275dir=s.FsC({type:i,selectors:[["","ngClass",""]],inputs:{klass:[s.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return i})();class T6{constructor(n,e,t,o){this.$implicit=n,this.ngForOf=e,this.index=t,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ut=(()=>{class i{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,t,o){this._viewContainer=e,this._template=t,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=this._viewContainer;e.forEachOperation((o,r,a)=>{if(null==o.previousIndex)t.createEmbeddedView(this._template,new T6(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)t.remove(null===r?void 0:r);else if(null!==r){const l=t.get(r);t.move(l,a),GO(l,o)}});for(let o=0,r=t.length;o<r;o++){const l=t.get(o).context;l.index=o,l.count=r,l.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{GO(t.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,t){return!0}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(s.c1b),s.rXU(s.C4Q),s.rXU(s._q3))};static#t=this.\u0275dir=s.FsC({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return i})();function GO(i,n){i.context.$implicit=n.item}let q=(()=>{class i{constructor(e,t){this._viewContainer=e,this._context=new zv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){fm("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){fm("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(s.c1b),s.rXU(s.C4Q))};static#t=this.\u0275dir=s.FsC({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return i})();class zv{constructor(){this.$implicit=null,this.ngIf=null}}function fm(i,n){if(n&&!n.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,s.Tbb)(n)}'.`)}class Da{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let wa=(()=>{class i{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const t=e===this._ngSwitch;return this._lastCasesMatched||=t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const t of this._defaultViews)t.enforceState(e)}}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275dir=s.FsC({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return i})(),od=(()=>{class i{constructor(e,t,o){this.ngSwitch=o,o._addCase(),this._view=new Da(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(s.c1b),s.rXU(s.C4Q),s.rXU(wa,9))};static#t=this.\u0275dir=s.FsC({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return i})(),Yt=(()=>{class i{constructor(e,t,o){o._addDefault(new Da(e,t))}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(s.c1b),s.rXU(s.C4Q),s.rXU(wa,9))};static#t=this.\u0275dir=s.FsC({type:i,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return i})(),Wn=(()=>{class i{constructor(e,t,o){this._ngEl=e,this._differs=t,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[o,r]=e.split("."),a=-1===o.indexOf("-")?void 0:s.czy.DashCase;null!=t?this._renderer.setStyle(this._ngEl.nativeElement,o,r?`${t}${r}`:t,a):this._renderer.removeStyle(this._ngEl.nativeElement,o,a)}_applyChanges(e){e.forEachRemovedItem(t=>this._setStyle(t.key,null)),e.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),e.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(s.aKT),s.rXU(s.MKu),s.rXU(s.sFG))};static#t=this.\u0275dir=s.FsC({type:i,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return i})(),qe=(()=>{class i{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const t=this._viewContainerRef;if(this._viewRef&&t.remove(t.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const o=this._createContextForwardProxy();this._viewRef=t.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,t,o)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,t,o),get:(e,t,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,t,o)}})}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(s.c1b))};static#t=this.\u0275dir=s.FsC({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.OA$]})}return i})();function hn(i,n){return new s.wOt(2100,!1)}class $g{createSubscription(n,e){return(0,s.O8t)(()=>n.subscribe({next:e,error:t=>{throw t}}))}dispose(n){(0,s.O8t)(()=>n.unsubscribe())}}class hE{createSubscription(n,e){return n.then(e,t=>{throw t})}dispose(n){}}const Kr=new hE,pE=new $g;let Cp=(()=>{class i{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(e){if((0,s.jNT)(e))return Kr;if((0,s.zjR)(e))return pE;throw hn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(s.gRc,16))};static#t=this.\u0275pipe=s.EJ8({name:"async",type:i,pure:!1,standalone:!0})}return i})();const mE=new s.nKC(""),$v=new s.nKC("");let To=(()=>{class i{constructor(e,t,o){this.locale=e,this.defaultTimezone=t,this.defaultOptions=o}transform(e,t,o,r){if(null==e||""===e||e!=e)return null;try{return y6(e,t??this.defaultOptions?.dateFormat??"mediumDate",r||this.locale,o??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(a){throw hn()}}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(s.xe9,16),s.rXU(mE,24),s.rXU($v,24))};static#t=this.\u0275pipe=s.EJ8({name:"date",type:i,pure:!0,standalone:!0})}return i})(),bp=(()=>{class i{constructor(e){this._locale=e}transform(e,t,o){if(!function _m(i){return!(null==i||""===i||i!=i)}(e))return null;o||=this._locale;try{return function rE(i,n,e){return function oE(i,n,e,t,o,r,a=!1){let l="",c=!1;if(isFinite(i)){let u=function Fg(i){let t,o,r,a,l,n=Math.abs(i)+"",e=0;for((o=n.indexOf("."))>-1&&(n=n.replace(".","")),(r=n.search(/e/i))>0?(o<0&&(o=r),o+=+n.slice(r+1),n=n.substring(0,r)):o<0&&(o=n.length),r=0;"0"===n.charAt(r);r++);if(r===(l=n.length))t=[0],o=1;else{for(l--;"0"===n.charAt(l);)l--;for(o-=r,t=[],a=0;r<=l;r++,a++)t[a]=Number(n.charAt(r))}return o>22&&(t=t.splice(0,21),e=o-1,o=1),{digits:t,exponent:e,integerLen:o}}(i);a&&(u=function aE(i){if(0===i.digits[0])return i;const n=i.digits.length-i.integerLen;return i.exponent?i.exponent+=2:(0===n?i.digits.push(0,0):1===n&&i.digits.push(0),i.integerLen+=2),i}(u));let f=n.minInt,_=n.minFrac,S=n.maxFrac;if(r){const I=r.match(iE);if(null===I)throw new Error(`${r} is not a valid digit info`);const x=I[1],P=I[3],L=I[5];null!=x&&(f=sd(x)),null!=P&&(_=sd(P)),null!=L?S=sd(L):null!=P&&_>S&&(S=_)}!function Qd(i,n,e){if(n>e)throw new Error(`The minimum number of digits after fraction (${n}) is higher than the maximum (${e}).`);let t=i.digits,o=t.length-i.integerLen;const r=Math.min(Math.max(n,o),e);let a=r+i.integerLen,l=t[a];if(a>0){t.splice(Math.max(i.integerLen,a));for(let _=a;_<t.length;_++)t[_]=0}else{o=Math.max(0,o),i.integerLen=1,t.length=Math.max(1,a=r+1),t[0]=0;for(let _=1;_<a;_++)t[_]=0}if(l>=5)if(a-1<0){for(let _=0;_>a;_--)t.unshift(0),i.integerLen++;t.unshift(1),i.integerLen++}else t[a-1]++;for(;o<Math.max(0,r);o++)t.push(0);let c=0!==r;const u=n+i.integerLen,f=t.reduceRight(function(_,S,v,b){return b[v]=(S+=_)<10?S:S-10,c&&(0===b[v]&&v>=u?b.pop():c=!1),S>=10?1:0},0);f&&(t.unshift(f),i.integerLen++)}(u,_,S);let v=u.digits,b=u.integerLen;const D=u.exponent;let k=[];for(c=v.every(I=>!I);b<f;b++)v.unshift(0);for(;b<0;b++)v.unshift(0);b>0?k=v.splice(b,v.length):(k=v,v=[0]);const O=[];for(v.length>=n.lgSize&&O.unshift(v.splice(-n.lgSize,v.length).join(""));v.length>n.gSize;)O.unshift(v.splice(-n.gSize,v.length).join(""));v.length&&O.unshift(v.join("")),l=O.join(Ya(e,t)),k.length&&(l+=Ya(e,o)+k.join("")),D&&(l+=Ya(e,kn.Exponential)+"+"+D)}else l=Ya(e,kn.Infinity);return l=i<0&&!c?n.negPre+l+n.negSuf:n.posPre+l+n.posSuf,l}(i,function pm(i,n="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},t=i.split(";"),o=t[0],r=t[1],a=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],l=a[0],c=a[1]||"";e.posPre=l.substring(0,l.indexOf("#"));for(let f=0;f<c.length;f++){const _=c.charAt(f);"0"===_?e.minFrac=e.maxFrac=f+1:"#"===_?e.maxFrac=f+1:e.posSuf+=_}const u=l.split(",");if(e.gSize=u[1]?u[1].length:0,e.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,r){const f=o.length-e.posPre.length-e.posSuf.length,_=r.indexOf("#");e.negPre=r.substring(0,_).replace(/'/g,""),e.negSuf=r.slice(_+f).replace(/'/g,"")}else e.negPre=n+e.posPre,e.negSuf=e.posSuf;return e}(function Jb(i,n){return(0,s.H5H)(i)[s.KH2.NumberFormats][n]}(n,gp.Decimal),Ya(n,kn.MinusSign)),n,kn.Group,kn.Decimal,e)}(function Kg(i){if("string"==typeof i&&!isNaN(Number(i)-parseFloat(i)))return Number(i);if("number"!=typeof i)throw new Error(`${i} is not a number`);return i}(e),o,t)}catch(r){throw hn()}}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(s.xe9,16))};static#t=this.\u0275pipe=s.EJ8({name:"number",type:i,pure:!0,standalone:!0})}return i})();let Ge=(()=>{class i{static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275mod=s.$C({type:i});static#n=this.\u0275inj=s.G2t({})}return i})();const Kv="browser";function br(i){return"server"===i}let Sm=(()=>{class i{static#e=this.\u0275prov=(0,s.jDH)({token:i,providedIn:"root",factory:()=>function gE(i){return i===Kv}((0,s.WQX)(s.Agw))?new Jg((0,s.WQX)(de),window):new vE})}return i})();class Jg{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){const e=function I6(i,n){const e=i.getElementById(n)||i.getElementsByName(n)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&"function"==typeof i.body.attachShadow){const t=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let o=t.currentNode;for(;o;){const r=o.shadowRoot;if(r){const a=r.getElementById(n)||r.querySelector(`[name="${n}"]`);if(a)return a}o=t.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){const e=n.getBoundingClientRect(),t=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(t-r[0],o-r[1])}}class vE{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}}class BO{}class V6 extends dt{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class QO extends V6{static makeCurrent(){!function zt(i){rt??=i}(new QO)}onAndCancel(n,e,t){return n.addEventListener(e,t),()=>{n.removeEventListener(e,t)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function lH(){return uh=uh||document.querySelector("base"),uh?uh.getAttribute("href"):null}();return null==e?null:function cH(i){return new URL(i,document.baseURI).pathname}(e)}resetBaseElement(){uh=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Vg(document.cookie,n)}}let uh=null,uH=(()=>{class i{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();const ZO=new s.nKC("");let z6=(()=>{class i{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,t,o){return this._findPluginFor(t).addEventListener(e,t,o)}getZone(){return this._zone}_findPluginFor(e){let t=this._eventNameToPlugin.get(e);if(t)return t;if(t=this._plugins.find(r=>r.supports(e)),!t)throw new s.wOt(5101,!1);return this._eventNameToPlugin.set(e,t),t}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(ZO),s.KVO(s.SKi))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();class RE{constructor(n){this._doc=n}}const e1="ng-app-id";let xs=(()=>{class i{constructor(e,t,o,r={}){this.doc=e,this.appId=t,this.nonce=o,this.platformId=r,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=br(r),this.resetHostNodes()}addStyles(e){for(const t of e)1===this.changeUsageCount(t,1)&&this.onStyleAdded(t)}removeStyles(e){for(const t of e)this.changeUsageCount(t,-1)<=0&&this.onStyleRemoved(t)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(t=>t.remove()),e.clear());for(const t of this.getAllStyles())this.onStyleRemoved(t);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const t of this.getAllStyles())this.addStyleToHost(e,t)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const t of this.hostNodes)this.addStyleToHost(t,e)}onStyleRemoved(e){const t=this.styleRef;t.get(e)?.elements?.forEach(o=>o.remove()),t.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${e1}="${this.appId}"]`);if(e?.length){const t=new Map;return e.forEach(o=>{null!=o.textContent&&t.set(o.textContent,o)}),t}return null}changeUsageCount(e,t){const o=this.styleRef;if(o.has(e)){const r=o.get(e);return r.usage+=t,r.usage}return o.set(e,{usage:t,elements:[]}),t}getStyleElement(e,t){const o=this.styleNodesInDOM,r=o?.get(t);if(r?.parentNode===e)return o.delete(t),r.removeAttribute(e1),r;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=t,this.platformIsServer&&a.setAttribute(e1,this.appId),e.appendChild(a),a}}addStyleToHost(e,t){const o=this.getStyleElement(e,t),r=this.styleRef,a=r.get(t)?.elements;a?a.push(o):r.set(t,{elements:[o],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(de),s.KVO(s.sZ2),s.KVO(s.BIS,8),s.KVO(s.Agw))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();const Ue={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},At=/%COMP%/g,t1=new s.nKC("",{providedIn:"root",factory:()=>!0});function gc(i,n){return n.map(e=>e.replace(At,i))}let Qt=(()=>{class i{constructor(e,t,o,r,a,l,c,u=null){this.eventManager=e,this.sharedStylesHost=t,this.appId=o,this.removeStylesOnCompDestroy=r,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=br(l),this.defaultRenderer=new Cm(e,a,c,this.platformIsServer)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;this.platformIsServer&&t.encapsulation===s.gXe.ShadowDom&&(t={...t,encapsulation:s.gXe.Emulated});const o=this.getOrCreateRenderer(e,t);return o instanceof nu?o.applyToHost(e):o instanceof wp&&o.applyStyles(),o}getOrCreateRenderer(e,t){const o=this.rendererByCompId;let r=o.get(t.id);if(!r){const a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(t.encapsulation){case s.gXe.Emulated:r=new nu(c,u,t,this.appId,f,a,l,_);break;case s.gXe.ShadowDom:return new e2(c,u,e,t,a,l,this.nonce,_);default:r=new wp(c,u,t,f,a,l,_)}o.set(t.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(z6),s.KVO(xs),s.KVO(s.sZ2),s.KVO(t1),s.KVO(de),s.KVO(s.Agw),s.KVO(s.SKi),s.KVO(s.BIS))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();class Cm{constructor(n,e,t,o){this.eventManager=n,this.doc=e,this.ngZone=t,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(Ue[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(Vs(n)?n.content:n).appendChild(e)}insertBefore(n,e,t){n&&(Vs(n)?n.content:n).insertBefore(e,t)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let t="string"==typeof n?this.doc.querySelector(n):n;if(!t)throw new s.wOt(-5104,!1);return e||(t.textContent=""),t}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,t,o){if(o){e=o+":"+e;const r=Ue[o];r?n.setAttributeNS(r,e,t):n.setAttribute(e,t)}else n.setAttribute(e,t)}removeAttribute(n,e,t){if(t){const o=Ue[t];o?n.removeAttributeNS(o,e):n.removeAttribute(`${t}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,t,o){o&(s.czy.DashCase|s.czy.Important)?n.style.setProperty(e,t,o&s.czy.Important?"important":""):n.style[e]=t}removeStyle(n,e,t){t&s.czy.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,t){null!=n&&(n[e]=t)}setValue(n,e){n.nodeValue=e}listen(n,e,t){if("string"==typeof n&&!(n=Wt().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(t))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function Vs(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}class e2 extends Cm{constructor(n,e,t,o,r,a,l,c){super(n,r,a,c),this.sharedStylesHost=e,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=gc(o.id,o.styles);for(const f of u){const _=document.createElement("style");l&&_.setAttribute("nonce",l),_.textContent=f,this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,t){return super.insertBefore(this.nodeOrShadowRoot(n),e,t)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class wp extends Cm{constructor(n,e,t,o,r,a,l,c){super(n,r,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o,this.styles=c?gc(c,t.styles):t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class nu extends wp{constructor(n,e,t,o,r,a,l,c){const u=o+"-"+t.id;super(n,e,t,r,a,l,c,u),this.contentAttr=function ks(i){return"_ngcontent-%COMP%".replace(At,i)}(u),this.hostAttr=function Gr(i){return"_nghost-%COMP%".replace(At,i)}(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const t=super.createElement(n,e);return super.setAttribute(t,this.contentAttr,""),t}}let t2=(()=>{class i extends RE{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,o){return e.addEventListener(t,o,!1),()=>this.removeEventListener(e,t,o)}removeEventListener(e,t,o){return e.removeEventListener(t,o)}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(de))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();const eT=["alt","control","meta","shift"],kp={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},AE={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let bm=(()=>{class i extends RE{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,t,o){const r=i.parseEventName(t),a=i.eventCallback(r.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wt().onAndCancel(e,r.domEventName,a))}static parseEventName(e){const t=e.toLowerCase().split("."),o=t.shift();if(0===t.length||"keydown"!==o&&"keyup"!==o)return null;const r=i._normalizeKey(t.pop());let a="",l=t.indexOf("code");if(l>-1&&(t.splice(l,1),a="code."),eT.forEach(u=>{const f=t.indexOf(u);f>-1&&(t.splice(f,1),a+=u+".")}),a+=r,0!=t.length||0===r.length)return null;const c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(e,t){let o=kp[e.key]||e.key,r="";return t.indexOf("code.")>-1&&(o=e.code,r="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),eT.forEach(a=>{a!==o&&(0,AE[a])(e)&&(r+=a+".")}),r+=o,r===t)}static eventCallback(e,t,o){return r=>{i.matchEventFullKeyCode(r,e)&&o.runGuarded(()=>t(r))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(de))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();const Qr=(0,s.oH4)(s.fpN,"browser",[{provide:s.Agw,useValue:Kv},{provide:s.PLl,useValue:function xE(){QO.makeCurrent()},multi:!0},{provide:de,useFactory:function Mo(){return(0,s.TL$)(document),document},deps:[]}]),Zr=new s.nKC(""),LE=[{provide:s.e01,useClass:class dH{addToWindow(n){s.JZv.getAngularTestability=(t,o=!0)=>{const r=n.findTestabilityInTree(t,o);if(null==r)throw new s.wOt(5103,!1);return r},s.JZv.getAllAngularTestabilities=()=>n.getAllTestabilities(),s.JZv.getAllAngularRootElements=()=>n.getAllRootElements(),s.JZv.frameworkStabilizers||(s.JZv.frameworkStabilizers=[]),s.JZv.frameworkStabilizers.push(t=>{const o=s.JZv.getAllAngularTestabilities();let r=o.length;const a=function(){r--,0==r&&t()};o.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(n,e,t){return null==e?null:n.getTestability(e)??(t?Wt().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:s.WHO,useClass:s.NYb,deps:[s.SKi,s.giA,s.e01]},{provide:s.NYb,useClass:s.NYb,deps:[s.SKi,s.giA,s.e01]}],Op=[{provide:s.H8p,useValue:"root"},{provide:s.zcH,useFactory:function s1(){return new s.zcH},deps:[]},{provide:ZO,useClass:t2,multi:!0,deps:[de,s.SKi,s.Agw]},{provide:ZO,useClass:bm,multi:!0,deps:[de]},Qt,xs,z6,{provide:s._9s,useExisting:Qt},{provide:BO,useClass:uH,deps:[]},[]];let n2=(()=>{class i{constructor(e){}static withServerTransition(e){return{ngModule:i,providers:[{provide:s.sZ2,useValue:e.appId}]}}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Zr,12))};static#t=this.\u0275mod=s.$C({type:i});static#n=this.\u0275inj=s.G2t({providers:[...Op,...LE],imports:[Ge,s.Hbi]})}return i})(),hH=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(de))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),J6=(()=>{class i{static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275prov=s.jDH({token:i,factory:function(t){let o=null;return o=t?new(t||i):s.KVO(Gce),o},providedIn:"root"})}return i})(),Gce=(()=>{class i extends J6{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case s.WPN.NONE:return t;case s.WPN.HTML:return(0,s.ZF7)(t,"HTML")?(0,s.rcV)(t):(0,s.h9k)(this._doc,String(t)).toString();case s.WPN.STYLE:return(0,s.ZF7)(t,"Style")?(0,s.rcV)(t):t;case s.WPN.SCRIPT:if((0,s.ZF7)(t,"Script"))return(0,s.rcV)(t);throw new s.wOt(5200,!1);case s.WPN.URL:return(0,s.ZF7)(t,"URL")?(0,s.rcV)(t):(0,s.$MX)(String(t));case s.WPN.RESOURCE_URL:if((0,s.ZF7)(t,"ResourceURL"))return(0,s.rcV)(t);throw new s.wOt(5201,!1);default:throw new s.wOt(5202,!1)}}bypassSecurityTrustHtml(e){return(0,s.Kcf)(e)}bypassSecurityTrustStyle(e){return(0,s.cWb)(e)}bypassSecurityTrustScript(e){return(0,s.UyX)(e)}bypassSecurityTrustUrl(e){return(0,s.osQ)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.e5t)(e)}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(de))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Zt=function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i}(Zt||{});const Sc="*";function Em(i,n){return{type:Zt.Trigger,name:i,definitions:n,options:{}}}function ii(i,n=null){return{type:Zt.Animate,styles:n,timings:i}}function s2(i,n=null){return{type:Zt.Sequence,steps:i,options:n}}function Xe(i){return{type:Zt.Style,styles:i,offset:null}}function cd(i,n,e){return{type:Zt.State,name:i,styles:n,options:e}}function q6(i){return{type:Zt.Keyframes,steps:i}}function oo(i,n,e=null){return{type:Zt.Transition,expr:i,animation:n,options:e}}let pi=(()=>{class i{static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275prov=s.jDH({token:i,factory:()=>(0,s.WQX)(o2),providedIn:"root"})}return i})();class iT{}let o2=(()=>{class i extends pi{constructor(e,t){if(super(),this.animationModuleType=(0,s.WQX)(s.bc$,{optional:!0}),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:s.gXe.None,styles:[],data:{animation:[]}}),null===this.animationModuleType&&!function Tl(i){const n=i.\u0275type;return 0===n||1===n}(this._renderer))throw new s.wOt(3600,!1)}build(e){const t=this._nextAnimationId;this._nextAnimationId++;const o=Array.isArray(e)?s2(e):e;return o1(this._renderer,null,t,"register",[o]),new Ta(t,this._renderer)}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(s._9s),s.KVO(de))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class Ta extends iT{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new CH(this._id,n,e||{},this._renderer)}}class CH{constructor(n,e,t,o){this.id=n,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",t)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){o1(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return function r1(i){const n=i.\u0275type;return 0===n?i:1===n?i.animationRenderer:null}(this._renderer)?.engine?.players[this.id]?.getPosition()??0}}function o1(i,n,e,t,o){i.setProperty(n,`@@${e}:${t}`,o)}class r2{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class GE{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,t=0,o=0;const r=this.players.length;0==r?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==r&&this._onFinish()}),a.onDestroy(()=>{++t==r&&this._onDestroy()}),a.onStart(()=>{++o==r&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(t=>{const o=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(o)})}getPosition(){const n=this.players.reduce((e,t)=>null===e||t.totalTime>e.totalTime?t:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function oT(i){return new s.wOt(3e3,!1)}function mh(i){switch(i.length){case 0:return new r2;case 1:return i[0];default:return new GE(i)}}function vc(i,n,e=new Map,t=new Map){const o=[],r=[];let a=-1,l=null;if(n.forEach(c=>{const u=c.get("offset"),f=u==a,_=f&&l||new Map;c.forEach((S,v)=>{let b=v,D=S;if("offset"!==v)switch(b=i.normalizePropertyName(b,o),D){case"!":D=e.get(v);break;case Sc:D=t.get(v);break;default:D=i.normalizeStyleValue(v,b,D,o)}_.set(b,D)}),f||r.push(_),l=_,a=u}),o.length)throw function nN(i){return new s.wOt(3502,!1)}();return r}function dd(i,n,e,t){switch(n){case"start":i.onStart(()=>t(e&&uT(e,"start",i)));break;case"done":i.onDone(()=>t(e&&uT(e,"done",i)));break;case"destroy":i.onDestroy(()=>t(e&&uT(e,"destroy",i)))}}function uT(i,n,e){const r=FE(i.element,i.triggerName,i.fromState,i.toState,n||i.phaseName,e.totalTime??i.totalTime,!!e.disabled),a=i._data;return null!=a&&(r._data=a),r}function FE(i,n,e,t,o="",r=0,a){return{element:i,triggerName:n,fromState:e,toState:t,phaseName:o,totalTime:r,disabled:!!a}}function Ml(i,n,e){let t=i.get(n);return t||i.set(n,t=e),t}function oN(i){const n=i.indexOf(":");return[i.substring(1,n),i.slice(n+1)]}const hT=typeof document>"u"?null:document.documentElement;function c2(i){const n=i.parentNode||i.host||null;return n===hT?null:n}let ou=null,rN=!1;function fT(i,n){for(;n;){if(n===i)return!0;n=c2(n)}return!1}function mT(i,n,e){if(e)return Array.from(i.querySelectorAll(n));const t=i.querySelector(n);return t?[t]:[]}let d2=(()=>{class i{validateStyleProperty(e){return function aN(i){ou||(ou=function cN(){return typeof document<"u"?document.body:null}()||{},rN=!!ou.style&&"WebkitAppearance"in ou.style);let n=!0;return ou.style&&!function pT(i){return"ebkit"==i.substring(1,6)}(i)&&(n=i in ou.style,!n&&rN&&(n="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in ou.style)),n}(e)}matchesElement(e,t){return!1}containsElement(e,t){return fT(e,t)}getParentElement(e){return c2(e)}query(e,t,o){return mT(e,t,o)}computeStyle(e,t,o){return o||""}animate(e,t,o,r,a,l=[],c){return new r2(o,r)}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();class _T{static#e=this.NOOP=new d2}class yr{}const Os=1e3,BE="ng-enter",VE="ng-leave",u2="ng-trigger",h2=".ng-trigger",l1="ng-animating",Cc=".ng-animating";function _h(i){if("number"==typeof i)return i;const n=i.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:c1(parseFloat(n[1]),n[2])}function c1(i,n){return"s"===n?i*Os:i}function wm(i,n,e){return i.hasOwnProperty("duration")?i:function zE(i,n,e){let o,r=0,a="";if("string"==typeof i){const l=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return n.push(oT()),{duration:0,delay:0,easing:""};o=c1(parseFloat(l[1]),l[2]);const c=l[3];null!=c&&(r=c1(parseFloat(c),l[4]));const u=l[5];u&&(a=u)}else o=i;if(!e){let l=!1,c=n.length;o<0&&(n.push(function bH(){return new s.wOt(3100,!1)}()),l=!0),r<0&&(n.push(function Z6(){return new s.wOt(3101,!1)}()),l=!0),l&&n.splice(c,0,oT())}return{duration:o,delay:r,easing:a}}(i,n,e)}function ud(i,n,e){n.forEach((t,o)=>{const r=bT(o);e&&!e.has(o)&&e.set(o,i.style[r]),i.style[r]=t})}function km(i,n){n.forEach((e,t)=>{const o=bT(t);i.style[o]=""})}function ru(i){return Array.isArray(i)?1==i.length?i[0]:s2(i):i}const CT=new RegExp("{{\\s*(.+?)\\s*}}","g");function HE(i){let n=[];if("string"==typeof i){let e;for(;e=CT.exec(i);)n.push(e[1]);CT.lastIndex=0}return n}function f2(i,n,e){const t=`${i}`,o=t.replace(CT,(r,a)=>{let l=n[a];return null==l&&(e.push(function aT(i){return new s.wOt(3003,!1)}()),l=""),l.toString()});return o==t?i:o}const NH=/-+([a-z0-9])/g;function bT(i){return i.replace(NH,(...n)=>n[1].toUpperCase())}function Ur(i,n,e){switch(n.type){case Zt.Trigger:return i.visitTrigger(n,e);case Zt.State:return i.visitState(n,e);case Zt.Transition:return i.visitTransition(n,e);case Zt.Sequence:return i.visitSequence(n,e);case Zt.Group:return i.visitGroup(n,e);case Zt.Animate:return i.visitAnimate(n,e);case Zt.Keyframes:return i.visitKeyframes(n,e);case Zt.Style:return i.visitStyle(n,e);case Zt.Reference:return i.visitReference(n,e);case Zt.AnimateChild:return i.visitAnimateChild(n,e);case Zt.AnimateRef:return i.visitAnimateRef(n,e);case Zt.Query:return i.visitQuery(n,e);case Zt.Stagger:return i.visitStagger(n,e);default:throw function a2(i){return new s.wOt(3004,!1)}()}}function yT(i,n){return window.getComputedStyle(i)[n]}const m2=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class jE extends yr{normalizePropertyName(n,e){return bT(n)}normalizeStyleValue(n,e,t,o){let r="";const a=t.toString().trim();if(m2.has(e)&&0!==t&&"0"!==t)if("number"==typeof t)r="px";else{const l=t.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&o.push(function UE(i,n){return new s.wOt(3005,!1)}())}return a+r}}const $E="*";const Om=new Set(["true","1"]),d1=new Set(["false","0"]);function uN(i,n){const e=Om.has(i)||d1.has(i),t=Om.has(n)||d1.has(n);return(o,r)=>{let a=i==$E||i==o,l=n==$E||n==r;return!a&&e&&"boolean"==typeof o&&(a=o?Om.has(i):d1.has(i)),!l&&t&&"boolean"==typeof r&&(l=r?Om.has(n):d1.has(n)),a&&l}}const hN=new RegExp("s*:selfs*,?","g");function WE(i,n,e,t){return new GH(i).build(n,e,t)}class GH{constructor(n){this._driver=n}build(n,e,t){const o=new UH(e);return this._resetContextStyleTimingState(o),Ur(this,ru(n),o)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,e){let t=e.queryCount=0,o=e.depCount=0;const r=[],a=[];return"@"==n.name.charAt(0)&&e.errors.push(function lT(){return new s.wOt(3006,!1)}()),n.definitions.forEach(l=>{if(this._resetContextStyleTimingState(e),l.type==Zt.State){const c=l,u=c.name;u.toString().split(/\s*,\s*/).forEach(f=>{c.name=f,r.push(this.visitState(c,e))}),c.name=u}else if(l.type==Zt.Transition){const c=this.visitTransition(l,e);t+=c.queryCount,o+=c.depCount,a.push(c)}else e.errors.push(function ym(){return new s.wOt(3007,!1)}())}),{type:Zt.Trigger,name:n.name,states:r,transitions:a,queryCount:t,depCount:o,options:null}}visitState(n,e){const t=this.visitStyle(n.styles,e),o=n.options&&n.options.params||null;if(t.containsDynamicStyles){const r=new Set,a=o||{};t.styles.forEach(l=>{l instanceof Map&&l.forEach(c=>{HE(c).forEach(u=>{a.hasOwnProperty(u)||r.add(u)})})}),r.size&&e.errors.push(function pn(i,n){return new s.wOt(3008,!1)}(0,r.values()))}return{type:Zt.State,name:n.name,style:t,options:o?{params:o}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const t=Ur(this,ru(n.animation),e),o=function XE(i,n){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(t=>function wT(i,n,e){if(":"==i[0]){const c=function dN(i,n){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return n.push(function TH(i){return new s.wOt(3016,!1)}()),"* => *"}}(i,e);if("function"==typeof c)return void n.push(c);i=c}const t=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==t||t.length<4)return e.push(function OH(i){return new s.wOt(3015,!1)}()),n;const o=t[1],r=t[2],a=t[3];n.push(uN(o,a)),"<"==r[0]&&(o!=$E||a!=$E)&&n.push(uN(a,o))}(t,e,n)):e.push(i),e}(n.expr,e.errors);return{type:Zt.Transition,matchers:o,animation:t,queryCount:e.queryCount,depCount:e.depCount,options:bc(n.options)}}visitSequence(n,e){return{type:Zt.Sequence,steps:n.steps.map(t=>Ur(this,t,e)),options:bc(n.options)}}visitGroup(n,e){const t=e.currentTime;let o=0;const r=n.steps.map(a=>{e.currentTime=t;const l=Ur(this,a,e);return o=Math.max(o,e.currentTime),l});return e.currentTime=o,{type:Zt.Group,steps:r,options:bc(n.options)}}visitAnimate(n,e){const t=function fN(i,n){if(i.hasOwnProperty("duration"))return i;if("number"==typeof i)return Tp(wm(i,n).duration,0,"");const e=i;if(e.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=Tp(0,0,"");return r.dynamic=!0,r.strValue=e,r}const o=wm(e,n);return Tp(o.duration,o.delay,o.easing)}(n.timings,e.errors);e.currentAnimateTimings=t;let o,r=n.styles?n.styles:Xe({});if(r.type==Zt.Keyframes)o=this.visitKeyframes(r,e);else{let a=n.styles,l=!1;if(!a){l=!0;const u={};t.easing&&(u.easing=t.easing),a=Xe(u)}e.currentTime+=t.duration+t.delay;const c=this.visitStyle(a,e);c.isEmptyStep=l,o=c}return e.currentAnimateTimings=null,{type:Zt.Animate,timings:t,style:o,options:null}}visitStyle(n,e){const t=this._makeStyleAst(n,e);return this._validateStyleAst(t,e),t}_makeStyleAst(n,e){const t=[],o=Array.isArray(n.styles)?n.styles:[n.styles];for(let l of o)"string"==typeof l?l===Sc?t.push(l):e.errors.push(new s.wOt(3002,!1)):t.push(new Map(Object.entries(l)));let r=!1,a=null;return t.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(a=l.get("easing"),l.delete("easing")),!r))for(let c of l.values())if(c.toString().indexOf("{{")>=0){r=!0;break}}),{type:Zt.Style,styles:t,easing:a,offset:n.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(n,e){const t=e.currentAnimateTimings;let o=e.currentTime,r=e.currentTime;t&&r>0&&(r-=t.duration+t.delay),n.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,c)=>{const u=e.collectedStyles.get(e.currentQuerySelector),f=u.get(c);let _=!0;f&&(r!=o&&r>=f.startTime&&o<=f.endTime&&(e.errors.push(function EH(i,n,e,t,o){return new s.wOt(3010,!1)}()),_=!1),r=f.startTime),_&&u.set(c,{startTime:r,endTime:o}),e.options&&function p2(i,n,e){const t=n.params||{},o=HE(i);o.length&&o.forEach(r=>{t.hasOwnProperty(r)||e.push(function rT(i){return new s.wOt(3001,!1)}())})}(l,e.options,e.errors)})})}visitKeyframes(n,e){const t={type:Zt.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function yH(){return new s.wOt(3011,!1)}()),t;let r=0;const a=[];let l=!1,c=!1,u=0;const f=n.steps.map(O=>{const I=this._makeStyleAst(O,e);let x=null!=I.offset?I.offset:function pN(i){if("string"==typeof i)return null;let n=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){const t=e;n=parseFloat(t.get("offset")),t.delete("offset")}});else if(i instanceof Map&&i.has("offset")){const e=i;n=parseFloat(e.get("offset")),e.delete("offset")}return n}(I.styles),P=0;return null!=x&&(r++,P=I.offset=x),c=c||P<0||P>1,l=l||P<u,u=P,a.push(P),I});c&&e.errors.push(function DH(){return new s.wOt(3012,!1)}()),l&&e.errors.push(function tN(){return new s.wOt(3200,!1)}());const _=n.steps.length;let S=0;r>0&&r<_?e.errors.push(function a1(){return new s.wOt(3202,!1)}()):0==r&&(S=1/(_-1));const v=_-1,b=e.currentTime,D=e.currentAnimateTimings,k=D.duration;return f.forEach((O,I)=>{const x=S>0?I==v?1:S*I:a[I],P=x*k;e.currentTime=b+D.delay+P,D.duration=P,this._validateStyleAst(O,e),O.offset=x,t.styles.push(O)}),t}visitReference(n,e){return{type:Zt.Reference,animation:Ur(this,ru(n.animation),e),options:bc(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:Zt.AnimateChild,options:bc(n.options)}}visitAnimateRef(n,e){return{type:Zt.AnimateRef,animation:this.visitReference(n.animation,e),options:bc(n.options)}}visitQuery(n,e){const t=e.currentQuerySelector,o=n.options||{};e.queryCount++,e.currentQuery=n;const[r,a]=function KE(i){const n=!!i.split(/\s*,\s*/).find(e=>":self"==e);return n&&(i=i.replace(hN,"")),i=i.replace(/@\*/g,h2).replace(/@\w+/g,e=>h2+"-"+e.slice(1)).replace(/:animating/g,Cc),[i,n]}(n.selector);e.currentQuerySelector=t.length?t+" "+r:r,Ml(e.collectedStyles,e.currentQuerySelector,new Map);const l=Ur(this,ru(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=t,{type:Zt.Query,selector:r,limit:o.limit||0,optional:!!o.optional,includeSelf:a,animation:l,originalSelector:n.selector,options:bc(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function wH(){return new s.wOt(3013,!1)}());const t="full"===n.timings?{duration:0,delay:0,easing:"full"}:wm(n.timings,e.errors,!0);return{type:Zt.Stagger,animation:Ur(this,ru(n.animation),e),timings:t,options:null}}}class UH{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function bc(i){return i?(i={...i}).params&&(i.params=function Tm(i){return i?{...i}:null}(i.params)):i={},i}function Tp(i,n,e){return{duration:i,delay:n,easing:e}}function Io(i,n,e,t,o,r,a=null,l=!1){return{type:1,element:i,keyframes:n,preStyleProps:e,postStyleProps:t,duration:o,delay:r,totalTime:o+r,easing:a,subTimeline:l}}class YE{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let t=this._map.get(n);t||this._map.set(n,t=[]),t.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const FH=new RegExp(":enter","g"),JE=new RegExp(":leave","g");function MT(i,n,e,t,o,r=new Map,a=new Map,l,c,u=[]){return(new gN).buildKeyframes(i,n,e,t,o,r,a,l,c,u)}class gN{buildKeyframes(n,e,t,o,r,a,l,c,u,f=[]){u=u||new YE;const _=new h1(n,e,u,o,r,f,[]);_.options=c;const S=c.delay?_h(c.delay):0;_.currentTimeline.delayNextStep(S),_.currentTimeline.setStyles([a],null,_.errors,c),Ur(this,t,_);const v=_.timelines.filter(b=>b.containsAnimation());if(v.length&&l.size){let b;for(let D=v.length-1;D>=0;D--){const k=v[D];if(k.element===e){b=k;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([l],null,_.errors,c)}return v.length?v.map(b=>b.buildKeyframes()):[Io(e,[],[],[],0,S,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const t=e.subInstructions.get(e.element);if(t){const o=e.createSubContext(n.options),r=e.currentTimeline.currentTime,a=this._visitSubInstructions(t,o,o.options);r!=a&&e.transformIntoNewTimeline(a)}e.previousNode=n}visitAnimateRef(n,e){const t=e.createSubContext(n.options);t.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],e,t),this.visitReference(n.animation,t),e.transformIntoNewTimeline(t.currentTimeline.currentTime),e.previousNode=n}_applyAnimationRefDelays(n,e,t){for(const o of n){const r=o?.delay;if(r){const a="number"==typeof r?r:_h(f2(r,o?.params??{},e.errors));t.delayNextStep(a)}}}_visitSubInstructions(n,e,t){let r=e.currentTimeline.currentTime;const a=null!=t.duration?_h(t.duration):null,l=null!=t.delay?_h(t.delay):null;return 0!==a&&n.forEach(c=>{const u=e.appendInstructionToTimeline(c,a,l);r=Math.max(r,u.duration+u.delay)}),r}visitReference(n,e){e.updateOptions(n.options,!0),Ur(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const t=e.subContextCount;let o=e;const r=n.options;if(r&&(r.params||r.delay)&&(o=e.createSubContext(r),o.transformIntoNewTimeline(),null!=r.delay)){o.previousNode.type==Zt.Style&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=u1);const a=_h(r.delay);o.delayNextStep(a)}n.steps.length&&(n.steps.forEach(a=>Ur(this,a,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>t&&o.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const t=[];let o=e.currentTimeline.currentTime;const r=n.options&&n.options.delay?_h(n.options.delay):0;n.steps.forEach(a=>{const l=e.createSubContext(n.options);r&&l.delayNextStep(r),Ur(this,a,l),o=Math.max(o,l.currentTimeline.currentTime),t.push(l.currentTimeline)}),t.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(o),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const t=n.strValue;return wm(e.params?f2(t,e.params,e.errors):t,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const t=e.currentAnimateTimings=this._visitTiming(n.timings,e),o=e.currentTimeline;t.delay&&(e.incrementTime(t.delay),o.snapshotCurrentStyles());const r=n.style;r.type==Zt.Keyframes?this.visitKeyframes(r,e):(e.incrementTime(t.duration),this.visitStyle(r,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const t=e.currentTimeline,o=e.currentAnimateTimings;!o&&t.hasCurrentStyleProperties()&&t.forwardFrame();const r=o&&o.easing||n.easing;n.isEmptyStep?t.applyEmptyStep(r):t.setStyles(n.styles,r,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const t=e.currentAnimateTimings,o=e.currentTimeline.duration,r=t.duration,l=e.createSubContext().currentTimeline;l.easing=t.easing,n.styles.forEach(c=>{l.forwardTime((c.offset||0)*r),l.setStyles(c.styles,c.easing,e.errors,e.options),l.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(l),e.transformIntoNewTimeline(o+r),e.previousNode=n}visitQuery(n,e){const t=e.currentTimeline.currentTime,o=n.options||{},r=o.delay?_h(o.delay):0;r&&(e.previousNode.type===Zt.Style||0==t&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=u1);let a=t;const l=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=l.length;let c=null;l.forEach((u,f)=>{e.currentQueryIndex=f;const _=e.createSubContext(n.options,u);r&&_.delayNextStep(r),u===e.element&&(c=_.currentTimeline),Ur(this,n.animation,_),_.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,_.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const t=e.parentContext,o=e.currentTimeline,r=n.timings,a=Math.abs(r.duration),l=a*(e.currentQueryTotal-1);let c=a*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":c=l-c;break;case"full":c=t.currentStaggerTime}const f=e.currentTimeline;c&&f.delayNextStep(c);const _=f.currentTime;Ur(this,n.animation,e),e.previousNode=n,t.currentStaggerTime=o.currentTime-_+(o.startTime-t.currentTimeline.startTime)}}const u1={};class h1{constructor(n,e,t,o,r,a,l,c){this._driver=n,this.element=e,this.subInstructions=t,this._enterClassName=o,this._leaveClassName=r,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=u1,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new _2(this._driver,e,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const t=n;let o=this.options;null!=t.duration&&(o.duration=_h(t.duration)),null!=t.delay&&(o.delay=_h(t.delay));const r=t.params;if(r){let a=o.params;a||(a=this.options.params={}),Object.keys(r).forEach(l=>{(!e||!a.hasOwnProperty(l))&&(a[l]=f2(r[l],a,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const t=n.params={};Object.keys(e).forEach(o=>{t[o]=e[o]})}}return n}createSubContext(n=null,e,t){const o=e||this.element,r=new h1(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,t||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(n),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(n){return this.previousNode=u1,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,t){const o={duration:e??n.duration,delay:this.currentTimeline.currentTime+(t??0)+n.delay,easing:""},r=new BH(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,o,n.stretchStartingKeyframe);return this.timelines.push(r),o}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,t,o,r,a){let l=[];if(o&&l.push(this.element),n.length>0){n=(n=n.replace(FH,"."+this._enterClassName)).replace(JE,"."+this._leaveClassName);let u=this._driver.query(this.element,n,1!=t);0!==t&&(u=t<0?u.slice(u.length+t,u.length):u.slice(0,t)),l.push(...u)}return!r&&0==l.length&&a.push(function kH(i){return new s.wOt(3014,!1)}()),l}}class _2{constructor(n,e,t,o){this._driver=n,this.element=e,this.startTime=t,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new _2(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles.set(n,e),this._globalTimelineStyles.set(n,e),this._styleSummary.set(n,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[e,t]of this._globalTimelineStyles)this._backFill.set(e,t||Sc),this._currentKeyframe.set(e,Sc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,t,o){e&&this._previousKeyframe.set("easing",e);const r=o&&o.params||{},a=function VH(i,n){const e=new Map;let t;return i.forEach(o=>{if("*"===o){t??=n.keys();for(let r of t)e.set(r,Sc)}else for(let[r,a]of o)e.set(r,a)}),e}(n,this._globalTimelineStyles);for(let[l,c]of a){const u=f2(c,r,t);this._pendingStyles.set(l,u),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??Sc),this._updateStyle(l,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,e)=>{this._currentKeyframe.set(e,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,n)}))}snapshotCurrentStyles(){for(let[n,e]of this._localTimelineStyles)this._pendingStyles.set(n,e),this._updateStyle(n,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((e,t)=>{const o=this._styleSummary.get(t);(!o||e.time>o.time)&&this._updateStyle(t,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,t=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((l,c)=>{const u=new Map([...this._backFill,...l]);u.forEach((f,_)=>{"!"===f?n.add(_):f===Sc&&e.add(_)}),t||u.set("offset",c/this.duration),o.push(u)});const r=[...n.values()],a=[...e.values()];if(t){const l=o[0],c=new Map(l);l.set("offset",0),c.set("offset",1),o=[l,c]}return Io(this.element,o,r,a,this.duration,this.startTime,this.easing,!1)}}class BH extends _2{constructor(n,e,t,o,r,a,l=!1){super(n,e,a.delay),this.keyframes=t,this.preStyleProps=o,this.postStyleProps=r,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:t,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],a=t+e,l=e/a,c=new Map(n[0]);c.set("offset",0),r.push(c);const u=new Map(n[0]);u.set("offset",SN(l)),r.push(u);const f=n.length-1;for(let _=1;_<=f;_++){let S=new Map(n[_]);const v=S.get("offset");S.set("offset",SN((e+v*t)/a)),r.push(S)}t=a,e=0,o="",n=r}return Io(this.element,n,this.preStyleProps,this.postStyleProps,t,e,o,!0)}}function SN(i,n=3){const e=Math.pow(10,n-1);return Math.round(i*e)/e}function IT(i,n,e,t,o,r,a,l,c,u,f,_,S){return{type:0,element:i,triggerName:n,isRemovalTransition:o,fromState:e,fromStyles:r,toState:t,toStyles:a,timelines:l,queriedElements:c,preStyleProps:u,postStyleProps:f,totalTime:_,errors:S}}const RT={};class AT{constructor(n,e,t){this._triggerName=n,this.ast=e,this._stateStyles=t}match(n,e,t,o){return function zH(i,n,e,t,o){return i.some(r=>r(n,e,t,o))}(this.ast.matchers,n,e,t,o)}buildStyles(n,e,t){let o=this._stateStyles.get("*");return void 0!==n&&(o=this._stateStyles.get(n?.toString())||o),o?o.buildStyles(e,t):new Map}build(n,e,t,o,r,a,l,c,u,f){const _=[],S=this.ast.options&&this.ast.options.params||RT,b=this.buildStyles(t,l&&l.params||RT,_),D=c&&c.params||RT,k=this.buildStyles(o,D,_),O=new Set,I=new Map,x=new Map,P="void"===o,L={params:HH(D,S),delay:this.ast.options?.delay},H=f?[]:MT(n,e,this.ast.animation,r,a,b,k,L,u,_);let j=0;return H.forEach(J=>{j=Math.max(J.duration+J.delay,j)}),_.length?IT(e,this._triggerName,t,o,P,b,k,[],[],I,x,j,_):(H.forEach(J=>{const te=J.element,ce=Ml(I,te,new Set);J.preStyleProps.forEach(Le=>ce.add(Le));const oe=Ml(x,te,new Set);J.postStyleProps.forEach(Le=>oe.add(Le)),te!==e&&O.add(te)}),IT(e,this._triggerName,t,o,P,b,k,H,[...O.values()],I,x,j))}}function HH(i,n){const e={...n};return Object.entries(i).forEach(([t,o])=>{null!=o&&(e[t]=o)}),e}class vN{constructor(n,e,t){this.styles=n,this.defaultParams=e,this.normalizer=t}buildStyles(n,e){const t=new Map,o=HH(n,this.defaultParams);return this.styles.styles.forEach(r=>{"string"!=typeof r&&r.forEach((a,l)=>{a&&(a=f2(a,o,e));const c=this.normalizer.normalizePropertyName(l,e);a=this.normalizer.normalizeStyleValue(l,c,a,e),t.set(l,a)})}),t}}class Il{constructor(n,e,t){this.name=n,this.ast=e,this._normalizer=t,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new vN(o.style,o.options&&o.options.params||{},t))}),xT(this.states,"true","1"),xT(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new AT(n,o,this.states))}),this.fallbackTransition=function Hce(i,n,e){return new AT(i,{type:Zt.Transition,animation:{type:Zt.Sequence,steps:[],options:null},matchers:[(a,l)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,t,o){return this.transitionFactories.find(a=>a.match(n,e,t,o))||null}matchStyles(n,e,t){return this.fallbackTransition.buildStyles(n,e,t)}}function xT(i,n,e){i.has(n)?i.has(e)||i.set(e,i.get(n)):i.has(e)&&i.set(n,i.get(e))}const jce=new YE;class NT{constructor(n,e,t){this.bodyNode=n,this._driver=e,this._normalizer=t,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,e){const t=[],r=WE(this._driver,e,t,[]);if(t.length)throw function iN(i){return new s.wOt(3503,!1)}();this._animations.set(n,r)}_buildPlayer(n,e,t){const o=n.element,r=vc(this._normalizer,n.keyframes,e,t);return this._driver.animate(o,r,n.duration,n.delay,n.easing,[],!0)}create(n,e,t={}){const o=[],r=this._animations.get(n);let a;const l=new Map;if(r?(a=MT(this._driver,e,r,BE,VE,new Map,new Map,t,jce,o),a.forEach(f=>{const _=Ml(l,f.element,new Map);f.postStyleProps.forEach(S=>_.set(S,null))})):(o.push(function Hi(){return new s.wOt(3300,!1)}()),a=[]),o.length)throw function sN(i){return new s.wOt(3504,!1)}();l.forEach((f,_)=>{f.forEach((S,v)=>{f.set(v,this._driver.computeStyle(_,v,Sc))})});const u=mh(a.map(f=>{const _=l.get(f.element);return this._buildPlayer(f,new Map,_)}));return this._playersById.set(n,u),u.onDestroy(()=>this.destroy(n)),this.players.push(u),u}destroy(n){const e=this._getPlayer(n);e.destroy(),this._playersById.delete(n);const t=this.players.indexOf(e);t>=0&&this.players.splice(t,1)}_getPlayer(n){const e=this._playersById.get(n);if(!e)throw function l2(i){return new s.wOt(3301,!1)}();return e}listen(n,e,t,o){const r=FE(e,"","","");return dd(this._getPlayer(n),t,r,o),()=>{}}command(n,e,t,o){if("register"==t)return void this.register(n,o[0]);if("create"==t)return void this.create(n,e,o[0]||{});const r=this._getPlayer(n);switch(t){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(n)}}}const au="ng-animate-queued",Mp="ng-animate-disabled",$ce=[],XH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Xce={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},lu="__ng_removed";class yN{get params(){return this.options.params}constructor(n,e=""){this.namespaceId=e;const t=n&&n.hasOwnProperty("value");if(this.value=function cu(i){return i??null}(t?n.value:n),t){const{value:r,...a}=n;this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const e=n.params;if(e){const t=this.options.params;Object.keys(e).forEach(o=>{null==t[o]&&(t[o]=e[o])})}}}const g2="void",Ip=new yN(g2);class S2{constructor(n,e,t){this.id=n,this.hostElement=e,this._engine=t,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Rl(e,this._hostClassName)}listen(n,e,t,o){if(!this._triggers.has(e))throw function su(i,n){return new s.wOt(3302,!1)}();if(null==t||0==t.length)throw function cT(i){return new s.wOt(3303,!1)}();if(!function QE(i){return"start"==i||"done"==i}(t))throw function dT(i,n){return new s.wOt(3400,!1)}();const r=Ml(this._elementListeners,n,[]),a={name:e,phase:t,callback:o};r.push(a);const l=Ml(this._engine.statesByElement,n,new Map);return l.has(e)||(Rl(n,u2),Rl(n,u2+"-"+e),l.set(e,Ip)),()=>{this._engine.afterFlush(()=>{const c=r.indexOf(a);c>=0&&r.splice(c,1),this._triggers.has(e)||l.delete(e)})}}register(n,e){return!this._triggers.has(n)&&(this._triggers.set(n,e),!0)}_getTrigger(n){const e=this._triggers.get(n);if(!e)throw function IH(i){return new s.wOt(3401,!1)}();return e}trigger(n,e,t,o=!0){const r=this._getTrigger(e),a=new LT(this.id,e,n);let l=this._engine.statesByElement.get(n);l||(Rl(n,u2),Rl(n,u2+"-"+e),this._engine.statesByElement.set(n,l=new Map));let c=l.get(e);const u=new yN(t,this.id);if(!(t&&t.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),l.set(e,u),c||(c=Ip),u.value!==g2&&c.value===u.value){if(!function WH(i,n){const e=Object.keys(i),t=Object.keys(n);if(e.length!=t.length)return!1;for(let o=0;o<e.length;o++){const r=e[o];if(!n.hasOwnProperty(r)||i[r]!==n[r])return!1}return!0}(c.params,u.params)){const D=[],k=r.matchStyles(c.value,c.params,D),O=r.matchStyles(u.value,u.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{km(n,k),ud(n,O)})}return}const S=Ml(this._engine.playersByElement,n,[]);S.forEach(D=>{D.namespaceId==this.id&&D.triggerName==e&&D.queued&&D.destroy()});let v=r.matchTransition(c.value,u.value,n,u.params),b=!1;if(!v){if(!o)return;v=r.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:v,fromState:c,toState:u,player:a,isFallbackTransition:b}),b||(Rl(n,au),a.onStart(()=>{Sh(n,au)})),a.onDone(()=>{let D=this.players.indexOf(a);D>=0&&this.players.splice(D,1);const k=this._engine.playersByElement.get(n);if(k){let O=k.indexOf(a);O>=0&&k.splice(O,1)}}),this.players.push(a),S.push(a),a}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(e=>e.delete(n)),this._elementListeners.forEach((e,t)=>{this._elementListeners.set(t,e.filter(o=>o.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const t=this._engine.driver.query(n,h2,!0);t.forEach(o=>{if(o[lu])return;const r=this._engine.fetchNamespacesByElement(o);r.size?r.forEach(a=>a.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>t.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(n,e,t,o){const r=this._engine.statesByElement.get(n),a=new Map;if(r){const l=[];if(r.forEach((c,u)=>{if(a.set(u,c.value),this._triggers.has(u)){const f=this.trigger(n,u,g2,o);f&&l.push(f)}}),l.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,a),t&&mh(l).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),t=this._engine.statesByElement.get(n);if(e&&t){const o=new Set;e.forEach(r=>{const a=r.name;if(o.has(a))return;o.add(a);const c=this._triggers.get(a).fallbackTransition,u=t.get(a)||Ip,f=new yN(g2),_=new LT(this.id,a,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:a,transition:c,fromState:u,toState:f,player:_,isFallbackTransition:!0})})}}removeNode(n,e){const t=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let o=!1;if(t.totalAnimations){const r=t.players.length?t.playersByQueriedElement.get(n):[];if(r&&r.length)o=!0;else{let a=n;for(;a=a.parentNode;)if(t.statesByElement.get(a)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(n),o)t.markElementAsRemoved(this.id,n,!1,e);else{const r=n[lu];(!r||r===XH)&&(t.afterFlush(()=>this.clearElementCache(n)),t.destroyInnerAnimations(n),t._onRemovalComplete(n,e))}}insertNode(n,e){Rl(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(t=>{const o=t.player;if(o.destroyed)return;const r=t.element,a=this._elementListeners.get(r);a&&a.forEach(l=>{if(l.name==t.triggerName){const c=FE(r,t.triggerName,t.fromState.value,t.toState.value);c._data=n,dd(t.player,l.phase,c,l.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(t)}),this._queue=[],e.sort((t,o)=>{const r=t.transition.ast.depCount,a=o.transition.ast.depCount;return 0==r||0==a?r-a:this._engine.driver.containsElement(t.element,o.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class DN{_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}constructor(n,e,t,o){this.bodyNode=n,this.driver=e,this._normalizer=t,this.scheduler=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(t=>{t.queued&&n.push(t)})}),n}createNamespace(n,e){const t=new S2(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(t,e):(this.newHostElements.set(e,t),this.collectEnterElement(e)),this._namespaceLookup[n]=t}_balanceNamespaceList(n,e){const t=this._namespaceList,o=this.namespacesByHostElement;if(t.length-1>=0){let a=!1,l=this.driver.getParentElement(e);for(;l;){const c=o.get(l);if(c){const u=t.indexOf(c);t.splice(u+1,0,n),a=!0;break}l=this.driver.getParentElement(l)}a||t.unshift(n)}else t.push(n);return o.set(e,n),n}register(n,e){let t=this._namespaceLookup[n];return t||(t=this.createNamespace(n,e)),t}registerTrigger(n,e,t){let o=this._namespaceLookup[n];o&&o.register(e,t)&&this.totalAnimations++}destroy(n,e){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const t=this._fetchNamespace(n);this.namespacesByHostElement.delete(t.hostElement);const o=this._namespaceList.indexOf(t);o>=0&&this._namespaceList.splice(o,1),t.destroy(e),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,t=this.statesByElement.get(n);if(t)for(let o of t.values())if(o.namespaceId){const r=this._fetchNamespace(o.namespaceId);r&&e.add(r)}return e}trigger(n,e,t,o){if(qE(e)){const r=this._fetchNamespace(n);if(r)return r.trigger(e,t,o),!0}return!1}insertNode(n,e,t,o){if(!qE(e))return;const r=e[lu];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(n){const a=this._fetchNamespace(n);a&&a.insertNode(e,t)}o&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Rl(n,Mp)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Sh(n,Mp))}removeNode(n,e,t){if(qE(e)){this.scheduler?.notify();const o=n?this._fetchNamespace(n):null;o?o.removeNode(e,t):this.markElementAsRemoved(n,e,!1,t);const r=this.namespacesByHostElement.get(e);r&&r.id!==n&&r.removeNode(e,t)}else this._onRemovalComplete(e,t)}markElementAsRemoved(n,e,t,o,r){this.collectedLeaveElements.push(e),e[lu]={namespaceId:n,setForRemoval:o,hasAnimation:t,removedBeforeQueried:!1,previousTriggersValues:r}}listen(n,e,t,o,r){return qE(e)?this._fetchNamespace(n).listen(e,t,o,r):()=>{}}_buildInstruction(n,e,t,o,r){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,t,o,n.fromState.options,n.toState.options,e,r)}destroyInnerAnimations(n){let e=this.driver.query(n,h2,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,Cc,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return mh(this.players).onDone(()=>n());n()})}processLeaveNode(n){const e=n[lu];if(e&&e.setForRemoval){if(n[lu]=XH,e.namespaceId){this.destroyInnerAnimations(n);const t=this._fetchNamespace(e.namespaceId);t&&t.clearElementCache(n)}this._onRemovalComplete(n,e.setForRemoval)}n.classList?.contains(Mp)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,o)=>this._balanceNamespaceList(t,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let t=0;t<this.collectedEnterElements.length;t++)Rl(this.collectedEnterElements[t],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const t=[];try{e=this._flushAnimations(t,n)}finally{for(let o=0;o<t.length;o++)t[o]()}}else for(let t=0;t<this.collectedLeaveElements.length;t++)this.processLeaveNode(this.collectedLeaveElements[t]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?mh(e).onDone(()=>{t.forEach(o=>o())}):t.forEach(o=>o())}}reportError(n){throw function Fce(i){return new s.wOt(3402,!1)}()}_flushAnimations(n,e){const t=new YE,o=[],r=new Map,a=[],l=new Map,c=new Map,u=new Map,f=new Set;this.disabledNodes.forEach(ee=>{f.add(ee);const ae=this.driver.query(ee,".ng-animate-queued",!0);for(let Se=0;Se<ae.length;Se++)f.add(ae[Se])});const _=this.bodyNode,S=Array.from(this.statesByElement.keys()),v=GT(S,this.collectedEnterElements),b=new Map;let D=0;v.forEach((ee,ae)=>{const Se=BE+D++;b.set(ae,Se),ee.forEach(ve=>Rl(ve,Se))});const k=[],O=new Set,I=new Set;for(let ee=0;ee<this.collectedLeaveElements.length;ee++){const ae=this.collectedLeaveElements[ee],Se=ae[lu];Se&&Se.setForRemoval&&(k.push(ae),O.add(ae),Se.hasAnimation?this.driver.query(ae,".ng-star-inserted",!0).forEach(ve=>O.add(ve)):I.add(ae))}const x=new Map,P=GT(S,Array.from(O));P.forEach((ee,ae)=>{const Se=VE+D++;x.set(ae,Se),ee.forEach(ve=>Rl(ve,Se))}),n.push(()=>{v.forEach((ee,ae)=>{const Se=b.get(ae);ee.forEach(ve=>Sh(ve,Se))}),P.forEach((ee,ae)=>{const Se=x.get(ae);ee.forEach(ve=>Sh(ve,Se))}),k.forEach(ee=>{this.processLeaveNode(ee)})});const L=[],H=[];for(let ee=this._namespaceList.length-1;ee>=0;ee--)this._namespaceList[ee].drainQueuedTransitions(e).forEach(Se=>{const ve=Se.player,Me=Se.element;if(L.push(ve),this.collectedEnterElements.length){const Mt=Me[lu];if(Mt&&Mt.setForMove){if(Mt.previousTriggersValues&&Mt.previousTriggersValues.has(Se.triggerName)){const as=Mt.previousTriggersValues.get(Se.triggerName),rn=this.statesByElement.get(Se.element);if(rn&&rn.has(Se.triggerName)){const Hn=rn.get(Se.triggerName);Hn.value=as,rn.set(Se.triggerName,Hn)}}return void ve.destroy()}}const Lt=!_||!this.driver.containsElement(_,Me),Ne=x.get(Me),Jt=b.get(Me),Ce=this._buildInstruction(Se,t,Jt,Ne,Lt);if(Ce.errors&&Ce.errors.length)return void H.push(Ce);if(Lt)return ve.onStart(()=>km(Me,Ce.fromStyles)),ve.onDestroy(()=>ud(Me,Ce.toStyles)),void o.push(ve);if(Se.isFallbackTransition)return ve.onStart(()=>km(Me,Ce.fromStyles)),ve.onDestroy(()=>ud(Me,Ce.toStyles)),void o.push(ve);const Ot=[];Ce.timelines.forEach(Mt=>{Mt.stretchStartingKeyframe=!0,this.disabledNodes.has(Mt.element)||Ot.push(Mt)}),Ce.timelines=Ot,t.append(Me,Ce.timelines),a.push({instruction:Ce,player:ve,element:Me}),Ce.queriedElements.forEach(Mt=>Ml(l,Mt,[]).push(ve)),Ce.preStyleProps.forEach((Mt,as)=>{if(Mt.size){let rn=c.get(as);rn||c.set(as,rn=new Set),Mt.forEach((Hn,Xn)=>rn.add(Xn))}}),Ce.postStyleProps.forEach((Mt,as)=>{let rn=u.get(as);rn||u.set(as,rn=new Set),Mt.forEach((Hn,Xn)=>rn.add(Xn))})});if(H.length){const ee=[];H.forEach(ae=>{ee.push(function Ma(i,n){return new s.wOt(3505,!1)}())}),L.forEach(ae=>ae.destroy()),this.reportError(ee)}const j=new Map,J=new Map;a.forEach(ee=>{const ae=ee.element;t.has(ae)&&(J.set(ae,ae),this._beforeAnimationBuild(ee.player.namespaceId,ee.instruction,j))}),o.forEach(ee=>{const ae=ee.element;this._getPreviousPlayers(ae,!1,ee.namespaceId,ee.triggerName,null).forEach(ve=>{Ml(j,ae,[]).push(ve),ve.destroy()})});const te=k.filter(ee=>ON(ee,c,u)),ce=new Map;wN(ce,this.driver,I,u,Sc).forEach(ee=>{ON(ee,c,u)&&te.push(ee)});const Le=new Map;v.forEach((ee,ae)=>{wN(Le,this.driver,new Set(ee),c,"!")}),te.forEach(ee=>{const ae=ce.get(ee),Se=Le.get(ee);ce.set(ee,new Map([...ae?.entries()??[],...Se?.entries()??[]]))});const ue=[],ye=[],ie={};a.forEach(ee=>{const{element:ae,player:Se,instruction:ve}=ee;if(t.has(ae)){if(f.has(ae))return Se.onDestroy(()=>ud(ae,ve.toStyles)),Se.disabled=!0,Se.overrideTotalTime(ve.totalTime),void o.push(Se);let Me=ie;if(J.size>1){let Ne=ae;const Jt=[];for(;Ne=Ne.parentNode;){const Ce=J.get(Ne);if(Ce){Me=Ce;break}Jt.push(Ne)}Jt.forEach(Ce=>J.set(Ce,Me))}const Lt=this._buildAnimation(Se.namespaceId,ve,j,r,Le,ce);if(Se.setRealPlayer(Lt),Me===ie)ue.push(Se);else{const Ne=this.playersByElement.get(Me);Ne&&Ne.length&&(Se.parentPlayer=mh(Ne)),o.push(Se)}}else km(ae,ve.fromStyles),Se.onDestroy(()=>ud(ae,ve.toStyles)),ye.push(Se),f.has(ae)&&o.push(Se)}),ye.forEach(ee=>{const ae=r.get(ee.element);if(ae&&ae.length){const Se=mh(ae);ee.setRealPlayer(Se)}}),o.forEach(ee=>{ee.parentPlayer?ee.syncPlayerEvents(ee.parentPlayer):ee.destroy()});for(let ee=0;ee<k.length;ee++){const ae=k[ee],Se=ae[lu];if(Sh(ae,VE),Se&&Se.hasAnimation)continue;let ve=[];if(l.size){let Lt=l.get(ae);Lt&&Lt.length&&ve.push(...Lt);let Ne=this.driver.query(ae,Cc,!0);for(let Jt=0;Jt<Ne.length;Jt++){let Ce=l.get(Ne[Jt]);Ce&&Ce.length&&ve.push(...Ce)}}const Me=ve.filter(Lt=>!Lt.destroyed);Me.length?ZE(this,ae,Me):this.processLeaveNode(ae)}return k.length=0,ue.forEach(ee=>{this.players.push(ee),ee.onDone(()=>{ee.destroy();const ae=this.players.indexOf(ee);this.players.splice(ae,1)}),ee.play()}),ue}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,t,o,r){let a=[];if(e){const l=this.playersByQueriedElement.get(n);l&&(a=l)}else{const l=this.playersByElement.get(n);if(l){const c=!r||r==g2;l.forEach(u=>{u.queued||!c&&u.triggerName!=o||a.push(u)})}}return(t||o)&&(a=a.filter(l=>!(t&&t!=l.namespaceId||o&&o!=l.triggerName))),a}_beforeAnimationBuild(n,e,t){const r=e.element,a=e.isRemovalTransition?void 0:n,l=e.isRemovalTransition?void 0:e.triggerName;for(const c of e.timelines){const u=c.element,f=u!==r,_=Ml(t,u,[]);this._getPreviousPlayers(u,f,a,l,e.toState).forEach(v=>{const b=v.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),v.destroy(),_.push(v)})}km(r,e.fromStyles)}_buildAnimation(n,e,t,o,r,a){const l=e.triggerName,c=e.element,u=[],f=new Set,_=new Set,S=e.timelines.map(b=>{const D=b.element;f.add(D);const k=D[lu];if(k&&k.removedBeforeQueried)return new r2(b.duration,b.delay);const O=D!==c,I=function UT(i){const n=[];return kN(i,n),n}((t.get(D)||$ce).map(j=>j.getRealPlayer())).filter(j=>!!j.element&&j.element===D),x=r.get(D),P=a.get(D),L=vc(this._normalizer,b.keyframes,x,P),H=this._buildPlayer(b,L,I);if(b.subTimeline&&o&&_.add(D),O){const j=new LT(n,l,D);j.setRealPlayer(H),u.push(j)}return H});u.forEach(b=>{Ml(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function PT(i,n,e){let t=i.get(n);if(t){if(t.length){const o=t.indexOf(e);t.splice(o,1)}0==t.length&&i.delete(n)}return t}(this.playersByQueriedElement,b.element,b))}),f.forEach(b=>Rl(b,l1));const v=mh(S);return v.onDestroy(()=>{f.forEach(b=>Sh(b,l1)),ud(c,e.toStyles)}),_.forEach(b=>{Ml(o,b,[]).push(v)}),v}_buildPlayer(n,e,t){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,t):new r2(n.duration,n.delay)}}class LT{constructor(n,e,t){this.namespaceId=n,this.triggerName=e,this.element=t,this._player=new r2,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((e,t)=>{e.forEach(o=>dd(n,t,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Ml(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function qE(i){return i&&1===i.nodeType}function p1(i,n){const e=i.style.display;return i.style.display=n??"none",e}function wN(i,n,e,t,o){const r=[];e.forEach(c=>r.push(p1(c)));const a=[];t.forEach((c,u)=>{const f=new Map;c.forEach(_=>{const S=n.computeStyle(u,_,o);f.set(_,S),(!S||0==S.length)&&(u[lu]=Xce,a.push(u))}),i.set(u,f)});let l=0;return e.forEach(c=>p1(c,r[l++])),a}function GT(i,n){const e=new Map;if(i.forEach(l=>e.set(l,[])),0==n.length)return e;const o=new Set(n),r=new Map;function a(l){if(!l)return 1;let c=r.get(l);if(c)return c;const u=l.parentNode;return c=e.has(u)?u:o.has(u)?1:a(u),r.set(l,c),c}return n.forEach(l=>{const c=a(l);1!==c&&e.get(c).push(l)}),e}function Rl(i,n){i.classList?.add(n)}function Sh(i,n){i.classList?.remove(n)}function ZE(i,n,e){mh(e).onDone(()=>i.processLeaveNode(n))}function kN(i,n){for(let e=0;e<i.length;e++){const t=i[e];t instanceof GE?kN(t.players,n):n.push(t)}}function ON(i,n,e){const t=e.get(i);if(!t)return!1;let o=n.get(i);return o?t.forEach(r=>o.add(r)):n.set(i,t),e.delete(i),!0}class f1{constructor(n,e,t,o){this._driver=e,this._normalizer=t,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new DN(n.body,e,t,o),this._timelineEngine=new NT(n.body,e,t),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(n,e,t,o,r){const a=n+"-"+o;let l=this._triggerCache[a];if(!l){const c=[],f=WE(this._driver,r,c,[]);if(c.length)throw function si(i,n){return new s.wOt(3404,!1)}();l=function CN(i,n,e){return new Il(i,n,e)}(o,f,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(e,o,l)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,t,o){this._transitionEngine.insertNode(n,e,t,o)}onRemove(n,e,t){this._transitionEngine.removeNode(n,e,t)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,t,o){if("@"==t.charAt(0)){const[r,a]=oN(t);this._timelineEngine.command(r,e,a,o)}else this._transitionEngine.trigger(n,e,t,o)}listen(n,e,t,o,r){if("@"==t.charAt(0)){const[a,l]=oN(t);return this._timelineEngine.listen(a,e,l,r)}return this._transitionEngine.listen(n,e,t,o,r)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}class v2{static#e=this.initialStylesByElement=new WeakMap;constructor(n,e,t){this._element=n,this._startStyles=e,this._endStyles=t,this._state=0;let o=v2.initialStylesByElement.get(n);o||v2.initialStylesByElement.set(n,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ud(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ud(this._element,this._initialStyles),this._endStyles&&(ud(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(v2.initialStylesByElement.delete(this._element),this._startStyles&&(km(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(km(this._element,this._endStyles),this._endStyles=null),ud(this._element,this._initialStyles),this._state=3)}}function ea(i){let n=null;return i.forEach((e,t)=>{(function FT(i){return"display"===i||"position"===i})(t)&&(n=n||new Map,n.set(t,e))}),n}class BT{constructor(n,e,t,o){this.element=n,this.keyframes=e,this.options=t,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const e=[];return n.forEach(t=>{e.push(Object.fromEntries(t))}),e}_triggerWebAnimation(n,e,t){return n.animate(this._convertKeyframesToObject(e),t)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((t,o)=>{"offset"!==o&&n.set(o,this._finished?t:yT(this.element,o))}),this.currentSnapshot=n}triggerCallback(n){const e="start"===n?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ey{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,e){return!1}containsElement(n,e){return fT(n,e)}getParentElement(n){return c2(n)}query(n,e,t){return mT(n,e,t)}computeStyle(n,e,t){return yT(n,e)}animate(n,e,t,o,r,a=[]){const c={duration:t,delay:o,fill:0==o?"both":"forwards"};r&&(c.easing=r);const u=new Map,f=a.filter(v=>v instanceof BT);(function Bce(i,n){return 0===i||0===n})(t,o)&&f.forEach(v=>{v.currentSnapshot.forEach((b,D)=>u.set(D,b))});let _=function ST(i){return i.length?i[0]instanceof Map?i:i.map(n=>new Map(Object.entries(n))):[]}(e).map(v=>new Map(v));_=function ET(i,n,e){if(e.size&&n.length){let t=n[0],o=[];if(e.forEach((r,a)=>{t.has(a)||o.push(a),t.set(a,r)}),o.length)for(let r=1;r<n.length;r++){let a=n[r];o.forEach(l=>a.set(l,yT(i,l)))}}return n}(n,_,u);const S=function KH(i,n){let e=null,t=null;return Array.isArray(n)&&n.length?(e=ea(n[0]),n.length>1&&(t=ea(n[n.length-1]))):n instanceof Map&&(e=ea(n)),e||t?new v2(i,e,t):null}(n,_);return new BT(n,_,c,S)}}const VT="@.disabled";class TN{constructor(n,e,t,o){this.namespaceId=n,this.delegate=e,this.engine=t,this._onDestroy=o,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,t,o=!0){this.delegate.insertBefore(n,e,t),this.engine.onInsert(this.namespaceId,e,n,o)}removeChild(n,e,t){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,t,o){this.delegate.setAttribute(n,e,t,o)}removeAttribute(n,e,t){this.delegate.removeAttribute(n,e,t)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,t,o){this.delegate.setStyle(n,e,t,o)}removeStyle(n,e,t){this.delegate.removeStyle(n,e,t)}setProperty(n,e,t){"@"==e.charAt(0)&&e==VT?this.disableAnimations(n,!!t):this.delegate.setProperty(n,e,t)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,t){return this.delegate.listen(n,e,t)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class MN extends TN{constructor(n,e,t,o,r){super(e,t,o,r),this.factory=n,this.namespaceId=e}setProperty(n,e,t){"@"==e.charAt(0)?"."==e.charAt(1)&&e==VT?this.disableAnimations(n,t=void 0===t||!!t):this.engine.process(this.namespaceId,n,e.slice(1),t):this.delegate.setProperty(n,e,t)}listen(n,e,t){if("@"==e.charAt(0)){const o=function YH(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(n);let r=e.slice(1),a="";return"@"!=r.charAt(0)&&([r,a]=function IN(i){const n=i.indexOf(".");return[i.substring(0,n),i.slice(n+1)]}(r)),this.engine.listen(this.namespaceId,o,r,a,l=>{this.factory.scheduleListenerCallback(l._data||-1,t,l)})}return this.delegate.listen(n,e,t)}}class JH{constructor(n,e,t){this.delegate=n,this.engine=e,this._zone=t,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(o,r)=>{const a=r?.parentNode(o);a&&r.removeChild(a,o)}}createRenderer(n,e){const o=this.delegate.createRenderer(n,e);if(!n||!e?.data?.animation){const u=this._rendererCache;let f=u.get(o);return f||(f=new TN("",o,this.engine,()=>u.delete(o)),u.set(o,f)),f}const r=e.id,a=e.id+"-"+this._currentId;this._currentId++,this.engine.register(a,n);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(r,a,n,u.name,u)};return e.data.animation.forEach(l),new MN(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,e,t){if(n>=0&&n<this._microtaskId)return void this._zone.run(()=>e(t));const o=this._animationCallbacksBuffer;0==o.length&&queueMicrotask(()=>{this._zone.run(()=>{o.forEach(r=>{const[a,l]=r;a(l)}),this._animationCallbacksBuffer=[]})}),o.push([e,t])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let RN=(()=>{class i extends f1{constructor(e,t,o){super(e,t,o,(0,s.WQX)(s.An2,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(de),s.KVO(_T),s.KVO(yr))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();const AN=[{provide:yr,useFactory:function qH(){return new jE}},{provide:f1,useClass:RN},{provide:s._9s,useFactory:function QH(i,n,e){return new JH(i,n,e)},deps:[Qt,f1,s.SKi]}],zT=[{provide:_T,useFactory:()=>new ey},{provide:s.bc$,useValue:"BrowserAnimations"},...AN],HT=[{provide:_T,useClass:d2},{provide:s.bc$,useValue:"NoopAnimations"},...AN];let xN=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?HT:zT}}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275mod=s.$C({type:i});static#n=this.\u0275inj=s.G2t({providers:zT,imports:[n2]})}return i})();var Qi=_e(985),zs=_e(71);function ny(i,n){var e={};for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&n.indexOf(t)<0&&(e[t]=i[t]);if(null!=i&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(t=Object.getOwnPropertySymbols(i);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(i,t[o])&&(e[t[o]]=i[t[o]])}return e}function Ap(i){return this instanceof Ap?(this.v=i,this):new Ap(i)}function FN(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=i[Symbol.asyncIterator];return n?n.call(i):(i=function iy(i){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&i[n],t=0;if(e)return e.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&t>=i.length&&(i=void 0),{value:i&&i[t++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),e={},t("next"),t("throw"),t("return"),e[Symbol.asyncIterator]=function(){return this},e);function t(r){e[r]=i[r]&&function(a){return new Promise(function(l,c){!function o(r,a,l,c){Promise.resolve(c).then(function(u){r({value:u,done:l})},a)}(l,c,(a=i[r](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const xp=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function oy(i){return(0,zs.T)(i?.then)}var ry=_e(494);function E2(i){return(0,zs.T)(i[ry.s])}function rj(i){return Symbol.asyncIterator&&(0,zs.T)(i?.[Symbol.asyncIterator])}function ay(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const BN=function y2(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function nM(i){return(0,zs.T)(i?.[BN])}function VN(i){return function UN(i,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,t=e.apply(i,n||[]),r=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(S){t[S]&&(o[S]=function(v){return new Promise(function(b,D){r.push([S,v,b,D])>1||l(S,v)})})}function l(S,v){try{!function c(S){S.value instanceof Ap?Promise.resolve(S.value.v).then(u,f):_(r[0][2],S)}(t[S](v))}catch(b){_(r[0][3],b)}}function u(S){l("next",S)}function f(S){l("throw",S)}function _(S,v){S(v),r.shift(),r.length&&l(r[0][0],r[0][1])}}(this,arguments,function*(){const e=i.getReader();try{for(;;){const{value:t,done:o}=yield Ap(e.read());if(o)return yield Ap(void 0);yield yield Ap(t)}}finally{e.releaseLock()}})}function zN(i){return(0,zs.T)(i?.getReader)}var iM=_e(334);function Wo(i){if(i instanceof Qi.c)return i;if(null!=i){if(E2(i))return function aj(i){return new Qi.c(n=>{const e=i[ry.s]();if((0,zs.T)(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if(xp(i))return function lj(i){return new Qi.c(n=>{for(let e=0;e<i.length&&!n.closed;e++)n.next(i[e]);n.complete()})}(i);if(oy(i))return function D2(i){return new Qi.c(n=>{i.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,iM.m)})}(i);if(rj(i))return ly(i);if(nM(i))return function HN(i){return new Qi.c(n=>{for(const e of i)if(n.next(e),n.closed)return;n.complete()})}(i);if(zN(i))return function cj(i){return ly(VN(i))}(i)}throw ay(i)}function ly(i){return new Qi.c(n=>{(function Zce(i,n){var e,t,o,r;return function WT(i,n,e,t){return new(e||(e=Promise))(function(r,a){function l(f){try{u(t.next(f))}catch(_){a(_)}}function c(f){try{u(t.throw(f))}catch(_){a(_)}}function u(f){f.done?r(f.value):function o(r){return r instanceof e?r:new e(function(a){a(r)})}(f.value).then(l,c)}u((t=t.apply(i,n||[])).next())})}(this,void 0,void 0,function*(){try{for(e=FN(i);!(t=yield e.next()).done;)if(n.next(t.value),n.closed)return}catch(a){o={error:a}}finally{try{t&&!t.done&&(r=e.return)&&(yield r.call(e))}finally{if(o)throw o.error}}n.complete()})})(i,n).catch(e=>n.error(e))})}function Np(i,n,e,t=0,o=!1){const r=n.schedule(function(){e(),o?i.add(this.schedule(null,t)):this.unsubscribe()},t);if(i.add(r),!o)return r}var Ri=_e(974),Ai=_e(360);function w2(i,n=0){return(0,Ri.N)((e,t)=>{e.subscribe((0,Ai._)(t,o=>Np(t,i,()=>t.next(o),n),()=>Np(t,i,()=>t.complete(),n),o=>Np(t,i,()=>t.error(o),n)))})}function cy(i,n=0){return(0,Ri.N)((e,t)=>{t.add(i.schedule(()=>e.subscribe(t),n))})}function k2(i,n){if(!i)throw new Error("Iterable cannot be null");return new Qi.c(e=>{Np(e,n,()=>{const t=i[Symbol.asyncIterator]();Np(e,n,()=>{t.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function Zi(i,n){return n?function XN(i,n){if(null!=i){if(E2(i))return function dj(i,n){return Wo(i).pipe(cy(n),w2(n))}(i,n);if(xp(i))return function sM(i,n){return new Qi.c(e=>{let t=0;return n.schedule(function(){t===i.length?e.complete():(e.next(i[t++]),e.closed||this.schedule())})})}(i,n);if(oy(i))return function jN(i,n){return Wo(i).pipe(cy(n),w2(n))}(i,n);if(rj(i))return k2(i,n);if(nM(i))return function dy(i,n){return new Qi.c(e=>{let t;return Np(e,n,()=>{t=i[BN](),Np(e,n,()=>{let o,r;try{({value:o,done:r}=t.next())}catch(a){return void e.error(a)}r?e.complete():e.next(o)},0,!0)}),()=>(0,zs.T)(t?.return)&&t.return()})}(i,n);if(zN(i))return function $N(i,n){return k2(VN(i),n)}(i,n)}throw ay(i)}(i,n):Wo(i)}function O2(i){return i&&(0,zs.T)(i.schedule)}function T2(i){return i[i.length-1]}function Lp(i){return(0,zs.T)(T2(i))?i.pop():void 0}function M2(i){return O2(T2(i))?i.pop():void 0}function ft(...i){return Zi(i,M2(i))}var An=_e(412);const{isArray:oM}=Array,{getPrototypeOf:WN,prototype:KN,keys:YN}=Object;function Pp(i){if(1===i.length){const n=i[0];if(oM(n))return{args:n,keys:null};if(function hj(i){return i&&"object"==typeof i&&WN(i)===KN}(n)){const e=YN(n);return{args:e.map(t=>n[t]),keys:e}}}return{args:i,keys:null}}var Mm=_e(669),V=_e(354);const{isArray:pj}=Array;function hd(i){return(0,V.T)(n=>function fj(i,n){return pj(n)?i(...n):i(n)}(i,n))}function Im(i,n){return i.reduce((e,t,o)=>(e[t]=n[o],e),{})}function vh(...i){const n=M2(i),e=Lp(i),{args:t,keys:o}=Pp(i);if(0===t.length)return Zi([],n);const r=new Qi.c(function mj(i,n,e=Mm.D){return t=>{JN(n,()=>{const{length:o}=i,r=new Array(o);let a=o,l=o;for(let c=0;c<o;c++)JN(n,()=>{const u=Zi(i[c],n);let f=!1;u.subscribe((0,Ai._)(t,_=>{r[c]=_,f||(f=!0,l--),l||t.next(e(r.slice()))},()=>{--a||t.complete()}))},t)},t)}}(t,n,o?a=>Im(o,a):Mm.D));return e?r.pipe(hd(e)):r}function JN(i,n,e){i?Np(e,i,n):n()}const uy=(0,_e(853).L)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function ar(i,n,e=1/0){return(0,zs.T)(n)?ar((t,o)=>(0,V.T)((r,a)=>n(t,r,o,a))(Wo(i(t,o))),e):("number"==typeof n&&(e=n),(0,Ri.N)((t,o)=>function gj(i,n,e,t,o,r,a,l){const c=[];let u=0,f=0,_=!1;const S=()=>{_&&!c.length&&!u&&n.complete()},v=D=>u<t?b(D):c.push(D),b=D=>{r&&n.next(D),u++;let k=!1;Wo(e(D,f++)).subscribe((0,Ai._)(n,O=>{o?.(O),r?v(O):n.next(O)},()=>{k=!0},void 0,()=>{if(k)try{for(u--;c.length&&u<t;){const O=c.shift();a?Np(n,a,()=>b(O)):b(O)}S()}catch(O){n.error(O)}}))};return i.subscribe((0,Ai._)(n,v,()=>{_=!0,S()})),()=>{l?.()}}(t,o,i,e)))}function _1(i=1/0){return ar(Mm.D,i)}function I2(...i){return function Sj(){return _1(1)}()(Zi(i,M2(i)))}function qN(i){return new Qi.c(n=>{Wo(i()).subscribe(n)})}var hy=_e(203);function Al(i,n){const e=(0,zs.T)(i)?i:()=>i,t=o=>o.error(e());return new Qi.c(n?o=>n.schedule(t,0,o):t)}const Dr=new Qi.c(i=>i.complete());var be=_e(740);function ZN(){return(0,Ri.N)((i,n)=>{let e=null;i._refCount++;const t=(0,Ai._)(n,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(e=null);const o=i._connection,r=e;e=null,o&&(!r||o===r)&&o.unsubscribe(),n.unsubscribe()});i.subscribe(t),t.closed||(e=i.connect())})}class Cj extends Qi.c{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Ri.S)(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new be.yU;const e=this.getSubject();n.add(this.source.subscribe((0,Ai._)(e,void 0,()=>{this._teardown(),e.complete()},t=>{this._teardown(),e.error(t)},()=>this._teardown()))),n.closed&&(this._connection=null,n=be.yU.EMPTY)}return n}refCount(){return ZN()(this)}}var Ke=_e(413);function le(i,n){return(0,Ri.N)((e,t)=>{let o=null,r=0,a=!1;const l=()=>a&&!o&&t.complete();e.subscribe((0,Ai._)(t,c=>{o?.unsubscribe();let u=0;const f=r++;Wo(i(c,f)).subscribe(o=(0,Ai._)(t,_=>t.next(n?n(c,_,f,u++):_),()=>{o=null,l()}))},()=>{a=!0,l()}))})}function We(i){return i<=0?()=>Dr:(0,Ri.N)((n,e)=>{let t=0;n.subscribe((0,Ai._)(e,o=>{++t<=i&&(e.next(o),i<=t&&e.complete())}))})}function e8(...i){const n=M2(i);return(0,Ri.N)((e,t)=>{(n?I2(i,e,n):I2(i,e)).subscribe(t)})}function X(i,n){return(0,Ri.N)((e,t)=>{let o=0;e.subscribe((0,Ai._)(t,r=>i.call(n,r,o++)&&t.next(r)))})}function R2(i){return(0,Ri.N)((n,e)=>{let t=!1;n.subscribe((0,Ai._)(e,o=>{t=!0,e.next(o)},()=>{t||e.next(i),e.complete()}))})}function t8(i=bj){return(0,Ri.N)((n,e)=>{let t=!1;n.subscribe((0,Ai._)(e,o=>{t=!0,e.next(o)},()=>t?e.complete():e.error(i())))})}function bj(){return new uy}function Rm(i,n){const e=arguments.length>=2;return t=>t.pipe(i?X((o,r)=>i(o,r,t)):Mm.D,We(1),e?R2(n):t8(()=>new uy))}function du(i,n){return(0,zs.T)(n)?ar(i,n,1):ar(i,1)}function F(i,n,e){const t=(0,zs.T)(i)||n||e?{next:i,error:n,complete:e}:i;return t?(0,Ri.N)((o,r)=>{var a;null===(a=t.subscribe)||void 0===a||a.call(t);let l=!0;o.subscribe((0,Ai._)(r,c=>{var u;null===(u=t.next)||void 0===u||u.call(t,c),r.next(c)},()=>{var c;l=!1,null===(c=t.complete)||void 0===c||c.call(t),r.complete()},c=>{var u;l=!1,null===(u=t.error)||void 0===u||u.call(t,c),r.error(c)},()=>{var c,u;l&&(null===(c=t.unsubscribe)||void 0===c||c.call(t)),null===(u=t.finalize)||void 0===u||u.call(t)}))}):Mm.D}function pd(i){return(0,Ri.N)((n,e)=>{let r,t=null,o=!1;t=n.subscribe((0,Ai._)(e,void 0,void 0,a=>{r=Wo(i(a,pd(i)(n))),t?(t.unsubscribe(),t=null,r.subscribe(e)):o=!0})),o&&(t.unsubscribe(),t=null,r.subscribe(e))})}function i8(i,n){return(0,Ri.N)(function n8(i,n,e,t,o){return(r,a)=>{let l=e,c=n,u=0;r.subscribe((0,Ai._)(a,f=>{const _=u++;c=l?i(c,f,_):(l=!0,f),t&&a.next(c)},o&&(()=>{l&&a.next(c),a.complete()})))}}(i,n,arguments.length>=2,!0))}function rM(i){return i<=0?()=>Dr:(0,Ri.N)((n,e)=>{let t=[];n.subscribe((0,Ai._)(e,o=>{t.push(o),i<t.length&&t.shift()},()=>{for(const o of t)e.next(o);e.complete()},void 0,()=>{t=null}))})}function A2(i){return(0,V.T)(()=>i)}function Ch(i){return(0,Ri.N)((n,e)=>{try{n.subscribe(e)}finally{e.add(i)}})}var x2=_e(343);function mo(i){return(0,Ri.N)((n,e)=>{Wo(i).subscribe((0,Ai._)(e,()=>e.complete(),x2.l)),!e.closed&&n.subscribe(e)})}const Sn="primary",g1=Symbol("RouteTitle");class Ej{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Gp(i){return new Ej(i)}function o8(i,n,e){const t=e.path.split("/");if(t.length>i.length||"full"===e.pathMatch&&(n.hasChildren()||t.length<i.length))return null;const o={};for(let r=0;r<t.length;r++){const a=t[r],l=i[r];if(a.startsWith(":"))o[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:i.slice(0,t.length),posParams:o}}function fd(i,n){const e=i?aM(i):void 0,t=n?aM(n):void 0;if(!e||!t||e.length!=t.length)return!1;let o;for(let r=0;r<e.length;r++)if(o=e[r],!r8(i[o],n[o]))return!1;return!0}function aM(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function r8(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;const e=[...i].sort(),t=[...n].sort();return e.every((o,r)=>t[r]===o)}return i===n}function lM(i){return i.length>0?i[i.length-1]:null}function Am(i){return function NN(i){return!!i&&(i instanceof Qi.c||(0,zs.T)(i.lift)&&(0,zs.T)(i.subscribe))}(i)?i:(0,s.jNT)(i)?Zi(Promise.resolve(i)):ft(i)}const ede={exact:function l8(i,n,e){if(!C1(i.segments,n.segments)||!py(i.segments,n.segments,e)||i.numberOfChildren!==n.numberOfChildren)return!1;for(const t in n.children)if(!i.children[t]||!l8(i.children[t],n.children[t],e))return!1;return!0},subset:d8},S1={exact:function Dj(i,n){return fd(i,n)},subset:function c8(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(e=>r8(i[e],n[e]))},ignored:()=>!0};function a8(i,n,e){return ede[e.paths](i.root,n.root,e.matrixParams)&&S1[e.queryParams](i.queryParams,n.queryParams)&&!("exact"===e.fragment&&i.fragment!==n.fragment)}function d8(i,n,e){return u8(i,n,n.segments,e)}function u8(i,n,e,t){if(i.segments.length>e.length){const o=i.segments.slice(0,e.length);return!(!C1(o,e)||n.hasChildren()||!py(o,e,t))}if(i.segments.length===e.length){if(!C1(i.segments,e)||!py(i.segments,e,t))return!1;for(const o in n.children)if(!i.children[o]||!d8(i.children[o],n.children[o],t))return!1;return!0}{const o=e.slice(0,i.segments.length),r=e.slice(i.segments.length);return!!(C1(i.segments,o)&&py(i.segments,o,t)&&i.children[Sn])&&u8(i.children[Sn],n,r,t)}}function py(i,n,e){return n.every((t,o)=>S1[e](i[o].parameters,t.parameters))}class v1{constructor(n=new es([],{}),e={},t=null){this.root=n,this.queryParams=e,this.fragment=t}get queryParamMap(){return this._queryParamMap??=Gp(this.queryParams),this._queryParamMap}toString(){return nde.serialize(this)}}class es{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dM(this)}}class N2{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap??=Gp(this.parameters),this._parameterMap}toString(){return hM(this)}}function C1(i,n){return i.length===n.length&&i.every((e,t)=>e.path===n[t].path)}let Up=(()=>{class i{static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275prov=s.jDH({token:i,factory:()=>new h8,providedIn:"root"})}return i})();class h8{parse(n){const e=new ode(n);return new v1(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${fy(n.root,!0)}`,t=function Oj(i){const n=Object.entries(i).map(([e,t])=>Array.isArray(t)?t.map(o=>`${my(e)}=${my(o)}`).join("&"):`${my(e)}=${my(t)}`).filter(e=>e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${t}${"string"==typeof n.fragment?`#${function _y(i){return encodeURI(i)}(n.fragment)}`:""}`}}const nde=new h8;function dM(i){return i.segments.map(n=>hM(n)).join("/")}function fy(i,n){if(!i.hasChildren())return dM(i);if(n){const e=i.children[Sn]?fy(i.children[Sn],!1):"",t=[];return Object.entries(i.children).forEach(([o,r])=>{o!==Sn&&t.push(`${o}:${fy(r,!1)}`)}),t.length>0?`${e}(${t.join("//")})`:e}{const e=function tde(i,n){let e=[];return Object.entries(i.children).forEach(([t,o])=>{t===Sn&&(e=e.concat(n(o,t)))}),Object.entries(i.children).forEach(([t,o])=>{t!==Sn&&(e=e.concat(n(o,t)))}),e}(i,(t,o)=>o===Sn?[fy(i.children[Sn],!1)]:[`${o}:${fy(t,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Sn]?`${dM(i)}/${e[0]}`:`${dM(i)}/(${e.join("//")})`}}function wj(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function my(i){return wj(i).replace(/%3B/gi,";")}function b1(i){return wj(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function E1(i){return decodeURIComponent(i)}function uM(i){return E1(i.replace(/\+/g,"%20"))}function hM(i){return`${b1(i.path)}${function kj(i){return Object.entries(i).map(([n,e])=>`;${b1(n)}=${b1(e)}`).join("")}(i.parameters)}`}const p8=/^[^\/()?;#]+/;function Fp(i){const n=i.match(p8);return n?n[0]:""}const xl=/^[^\/()?;=#]+/,f8=/^[^=?&#]+/,Tj=/^[^&#]+/;class ode{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new es([],{}):new es([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(t[Sn]=new es(n,e)),t}parseSegment(){const n=Fp(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new s.wOt(4009,!1);return this.capture(n),new N2(E1(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function Bp(i){const n=i.match(xl);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){const o=Fp(this.remaining);o&&(t=o,this.capture(t))}n[E1(e)]=E1(t)}parseQueryParam(n){const e=function ide(i){const n=i.match(f8);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let t="";if(this.consumeOptional("=")){const a=function sde(i){const n=i.match(Tj);return n?n[0]:""}(this.remaining);a&&(t=a,this.capture(t))}const o=uM(e),r=uM(t);if(n.hasOwnProperty(o)){let a=n[o];Array.isArray(a)||(a=[a],n[o]=a),a.push(r)}else n[o]=r}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const t=Fp(this.remaining),o=this.remaining[t.length];if("/"!==o&&")"!==o&&";"!==o)throw new s.wOt(4010,!1);let r;t.indexOf(":")>-1?(r=t.slice(0,t.indexOf(":")),this.capture(r),this.capture(":")):n&&(r=Sn);const a=this.parseChildren();e[r]=1===Object.keys(a).length?a[Sn]:new es([],a),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new s.wOt(4011,!1)}}function pM(i){return i.segments.length>0?new es([],{[Sn]:i}):i}function fM(i){const n={};for(const[t,o]of Object.entries(i.children)){const r=fM(o);if(t===Sn&&0===r.segments.length&&r.hasChildren())for(const[a,l]of Object.entries(r.children))n[a]=l;else(r.segments.length>0||r.hasChildren())&&(n[t]=r)}return function rde(i){if(1===i.numberOfChildren&&i.children[Sn]){const n=i.children[Sn];return new es(i.segments.concat(n.segments),n.children)}return i}(new es(i.segments,n))}function bh(i){return i instanceof v1}function gy(i){let n;const o=pM(function e(r){const a={};for(const c of r.children){const u=e(c);a[c.outlet]=u}const l=new es(r.url,a);return r===i&&(n=l),l}(i.root));return n??o}function m8(i,n,e,t){let o=i;for(;o.parent;)o=o.parent;if(0===n.length)return Sy(o,o,o,e,t);const r=function Mj(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new L2(!0,0,i);let n=0,e=!1;const t=i.reduce((o,r,a)=>{if("object"==typeof r&&null!=r){if(r.outlets){const l={};return Object.entries(r.outlets).forEach(([c,u])=>{l[c]="string"==typeof u?u.split("/"):u}),[...o,{outlets:l}]}if(r.segmentPath)return[...o,r.segmentPath]}return"string"!=typeof r?[...o,r]:0===a?(r.split("/").forEach((l,c)=>{0==c&&"."===l||(0==c&&""===l?e=!0:".."===l?n++:""!=l&&o.push(l))}),o):[...o,r]},[]);return new L2(e,n,t)}(n);if(r.toRoot())return Sy(o,o,new es([],{}),e,t);const a=function _8(i,n,e){if(i.isAbsolute)return new Cy(n,!0,0);if(!e)return new Cy(n,!1,NaN);if(null===e.parent)return new Cy(e,!0,0);const t=Eh(i.commands[0])?0:1;return function Ij(i,n,e){let t=i,o=n,r=e;for(;r>o;){if(r-=o,t=t.parent,!t)throw new s.wOt(4005,!1);o=t.segments.length}return new Cy(t,!1,o-r)}(e,e.segments.length-1+t,i.numberOfDoubleDots)}(r,o,i),l=a.processChildren?y1(a.segmentGroup,a.index,r.commands):g8(a.segmentGroup,a.index,r.commands);return Sy(o,a.segmentGroup,l,e,t)}function Eh(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function xm(i){return"object"==typeof i&&null!=i&&i.outlets}function Sy(i,n,e,t,o){let a,r={};t&&Object.entries(t).forEach(([c,u])=>{r[c]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`}),a=i===n?e:vy(i,n,e);const l=pM(fM(a));return new v1(l,r,o)}function vy(i,n,e){const t={};return Object.entries(i.children).forEach(([o,r])=>{t[o]=r===n?e:vy(r,n,e)}),new es(i.segments,t)}class L2{constructor(n,e,t){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=t,n&&t.length>0&&Eh(t[0]))throw new s.wOt(4003,!1);const o=t.find(xm);if(o&&o!==lM(t))throw new s.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Cy{constructor(n,e,t){this.segmentGroup=n,this.processChildren=e,this.index=t}}function g8(i,n,e){if(i??=new es([],{}),0===i.segments.length&&i.hasChildren())return y1(i,n,e);const t=function P2(i,n,e){let t=0,o=n;const r={match:!1,pathIndex:0,commandIndex:0};for(;o<i.segments.length;){if(t>=e.length)return r;const a=i.segments[o],l=e[t];if(xm(l))break;const c=`${l}`,u=t<e.length-1?e[t+1]:null;if(o>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!v8(c,u,a))return r;t+=2}else{if(!v8(c,{},a))return r;t++}o++}return{match:!0,pathIndex:o,commandIndex:t}}(i,n,e),o=e.slice(t.commandIndex);if(t.match&&t.pathIndex<i.segments.length){const r=new es(i.segments.slice(0,t.pathIndex),{});return r.children[Sn]=new es(i.segments.slice(t.pathIndex),i.children),y1(r,0,o)}return t.match&&0===o.length?new es(i.segments,{}):t.match&&!i.hasChildren()?D1(i,n,e):t.match?y1(i,0,o):D1(i,n,e)}function y1(i,n,e){if(0===e.length)return new es(i.segments,{});{const t=function Rj(i){return xm(i[0])?i[0].outlets:{[Sn]:i}}(e),o={};if(Object.keys(t).some(r=>r!==Sn)&&i.children[Sn]&&1===i.numberOfChildren&&0===i.children[Sn].segments.length){const r=y1(i.children[Sn],n,e);return new es(i.segments,r.children)}return Object.entries(t).forEach(([r,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(o[r]=g8(i.children[r],n,a))}),Object.entries(i.children).forEach(([r,a])=>{void 0===t[r]&&(o[r]=a)}),new es(i.segments,o)}}function D1(i,n,e){const t=i.segments.slice(0,n);let o=0;for(;o<e.length;){const r=e[o];if(xm(r)){const c=_M(r.outlets);return new es(t,c)}if(0===o&&Eh(e[0])){t.push(new N2(i.segments[n].path,S8(e[0]))),o++;continue}const a=xm(r)?r.outlets[Sn]:`${r}`,l=o<e.length-1?e[o+1]:null;a&&l&&Eh(l)?(t.push(new N2(a,S8(l))),o+=2):(t.push(new N2(a,{})),o++)}return new es(t,{})}function _M(i){const n={};return Object.entries(i).forEach(([e,t])=>{"string"==typeof t&&(t=[t]),null!==t&&(n[e]=D1(new es([],{}),0,t))}),n}function S8(i){const n={};return Object.entries(i).forEach(([e,t])=>n[e]=`${t}`),n}function v8(i,n,e){return i==e.path&&fd(n,e.parameters)}const Nm="imperative";var li=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(li||{});class ta{constructor(n,e){this.id=n,this.url=e}}class G2 extends ta{constructor(n,e,t="imperative",o=null){super(n,e),this.type=li.NavigationStart,this.navigationTrigger=t,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class md extends ta{constructor(n,e,t){super(n,e),this.urlAfterRedirects=t,this.type=li.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Nl=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(Nl||{}),gM=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(gM||{});class yh extends ta{constructor(n,e,t,o){super(n,e),this.reason=t,this.code=o,this.type=li.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class w1 extends ta{constructor(n,e,t,o){super(n,e),this.reason=t,this.code=o,this.type=li.NavigationSkipped}}class U2 extends ta{constructor(n,e,t,o){super(n,e),this.error=t,this.target=o,this.type=li.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class SM extends ta{constructor(n,e,t,o){super(n,e),this.urlAfterRedirects=t,this.state=o,this.type=li.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class C8 extends ta{constructor(n,e,t,o){super(n,e),this.urlAfterRedirects=t,this.state=o,this.type=li.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vM extends ta{constructor(n,e,t,o,r){super(n,e),this.urlAfterRedirects=t,this.state=o,this.shouldActivate=r,this.type=li.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class b8 extends ta{constructor(n,e,t,o){super(n,e),this.urlAfterRedirects=t,this.state=o,this.type=li.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class by extends ta{constructor(n,e,t,o){super(n,e),this.urlAfterRedirects=t,this.state=o,this.type=li.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class F2{constructor(n){this.route=n,this.type=li.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class E8{constructor(n){this.route=n,this.type=li.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class CM{constructor(n){this.snapshot=n,this.type=li.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class B2{constructor(n){this.snapshot=n,this.type=li.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y8{constructor(n){this.snapshot=n,this.type=li.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bM{constructor(n){this.snapshot=n,this.type=li.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class V2{constructor(n,e,t){this.routerEvent=n,this.position=e,this.anchor=t,this.type=li.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class EM{}class Ey{constructor(n){this.url=n}}class Aj{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new z2,this.attachRef=null}}let z2=(()=>{class i{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const o=this.getOrCreateContext(e);o.outlet=t,this.contexts.set(e,o)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Aj,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();class yM{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=yy(n,this._root);return e?e.children.map(t=>t.value):[]}firstChild(n){const e=yy(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=bn(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return bn(n,this._root).map(e=>e.value)}}function yy(i,n){if(i===n.value)return n;for(const e of n.children){const t=yy(i,e);if(t)return t}return null}function bn(i,n){if(i===n.value)return[n];for(const e of n.children){const t=bn(i,e);if(t.length)return t.unshift(n),t}return[]}class Ec{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Lm(i){const n={};return i&&i.children.forEach(e=>n[e.value.outlet]=e),n}class Pm extends yM{constructor(n,e){super(n),this.snapshot=e,Gm(this,n)}toString(){return this.snapshot.toString()}}function DM(i){const n=function D8(i){const r=new Vp([],{},{},"",{},Sn,i,null,{});return new Dy("",new Ec(r,[]))}(i),e=new An.t([new N2("",{})]),t=new An.t({}),o=new An.t({}),r=new An.t({}),a=new An.t(""),l=new Dh(e,t,r,a,o,Sn,i,n.root);return l.snapshot=n.root,new Pm(new Ec(l,[]),n)}class Dh{constructor(n,e,t,o,r,a,l,c){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=t,this.fragmentSubject=o,this.dataSubject=r,this.outlet=a,this.component=l,this._futureSnapshot=c,this.title=this.dataSubject?.pipe((0,V.T)(u=>u[g1]))??ft(void 0),this.url=n,this.params=e,this.queryParams=t,this.fragment=o,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,V.T)(n=>Gp(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,V.T)(n=>Gp(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function k1(i,n,e="emptyOnly"){let t;const{routeConfig:o}=i;return t=null===n||"always"!==e&&""!==o?.path&&(n.component||n.routeConfig?.loadComponent)?{params:{...i.params},data:{...i.data},resolve:{...i.data,...i._resolvedData??{}}}:{params:{...n.params,...i.params},data:{...n.data,...i.data},resolve:{...i.data,...n.data,...o?.data,...i._resolvedData}},o&&wy(o)&&(t.resolve[g1]=o.title),t}class Vp{get title(){return this.data?.[g1]}constructor(n,e,t,o,r,a,l,c,u){this.url=n,this.params=e,this.queryParams=t,this.fragment=o,this.data=r,this.outlet=a,this.component=l,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Gp(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Gp(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Dy extends yM{constructor(n,e){super(e),this.url=n,Gm(this,e)}toString(){return wM(this._root)}}function Gm(i,n){n.value._routerState=i,n.children.forEach(e=>Gm(i,e))}function wM(i){const n=i.children.length>0?` { ${i.children.map(wM).join(", ")} } `:"";return`${i.value}${n}`}function H2(i){if(i.snapshot){const n=i.snapshot,e=i._futureSnapshot;i.snapshot=e,fd(n.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),fd(n.params,e.params)||i.paramsSubject.next(e.params),function yj(i,n){if(i.length!==n.length)return!1;for(let e=0;e<i.length;++e)if(!fd(i[e],n[e]))return!1;return!0}(n.url,e.url)||i.urlSubject.next(e.url),fd(n.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function j2(i,n){const e=fd(i.params,n.params)&&function cM(i,n){return C1(i,n)&&i.every((e,t)=>fd(e.parameters,n[t].parameters))}(i.url,n.url);return e&&!(!i.parent!=!n.parent)&&(!i.parent||j2(i.parent,n.parent))}function wy(i){return"string"==typeof i.title||null===i.title}let ky=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=Sn,this.activateEvents=new s.bkB,this.deactivateEvents=new s.bkB,this.attachEvents=new s.bkB,this.detachEvents=new s.bkB,this.parentContexts=(0,s.WQX)(z2),this.location=(0,s.WQX)(s.c1b),this.changeDetector=(0,s.WQX)(s.gRc),this.environmentInjector=(0,s.WQX)(s.uvJ),this.inputBinder=(0,s.WQX)(Oy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:t,previousValue:o}=e.name;if(t)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.wOt(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new s.wOt(4013,!1);this._activatedRoute=e;const o=this.location,a=e.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new kM(e,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:t??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275dir=s.FsC({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.OA$]})}return i})();class kM{constructor(n,e,t){this.route=n,this.childContexts=e,this.parent=t}get(n,e){return n===Dh?this.route:n===z2?this.childContexts:this.parent.get(n,e)}}const Oy=new s.nKC("");let w8=(()=>{class i{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:t}=e,o=vh([t.queryParams,t.params,t.data]).pipe(le(([r,a,l],c)=>(l={...r,...a,...l},0===c?ft(l):Promise.resolve(l)))).subscribe(r=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==t||null===t.component)return void this.unsubscribeFromRouteData(e);const a=(0,s.HJs)(t.component);if(a)for(const{templateName:l}of a.inputs)e.activatedComponentRef.setInput(l,r[l]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,o)}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();function O1(i,n,e){if(e&&i.shouldReuseRoute(n.value,e.value.snapshot)){const t=e.value;t._futureSnapshot=n.value;const o=function Nj(i,n,e){return n.children.map(t=>{for(const o of e.children)if(i.shouldReuseRoute(t.value,o.value.snapshot))return O1(i,t,o);return O1(i,t)})}(i,n,e);return new Ec(t,o)}{if(i.shouldAttach(n.value)){const r=i.retrieve(n.value);if(null!==r){const a=r.route;return a.value._futureSnapshot=n.value,a.children=n.children.map(l=>O1(i,l)),a}}const t=function Lj(i){return new Dh(new An.t(i.url),new An.t(i.params),new An.t(i.queryParams),new An.t(i.fragment),new An.t(i.data),i.outlet,i.component,i)}(n.value),o=n.children.map(r=>O1(i,r));return new Ec(t,o)}}const k8="ngNavigationCancelingError";function O8(i,n){const{redirectTo:e,navigationBehaviorOptions:t}=bh(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=OM(!1,Nl.Redirect);return o.url=e,o.navigationBehaviorOptions=t,o}function OM(i,n){const e=new Error(`NavigationCancelingError: ${i||""}`);return e[k8]=!0,e.cancellationCode=n,e}function M8(i){return!!i&&i[k8]}let I8=(()=>{class i{static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["ng-component"]],standalone:!0,features:[s.aNF],decls:1,vars:0,template:function(t,o){1&t&&s.nrm(0,"router-outlet")},dependencies:[ky],encapsulation:2})}return i})();function Ty(i){const n=i.children&&i.children.map(Ty),e=n?{...i,children:n}:{...i};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Sn&&(e.component=I8),e}function uu(i){return i.outlet||Sn}function Um(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let n=i.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Bj{constructor(n,e,t,o,r){this.routeReuseStrategy=n,this.futureState=e,this.currState=t,this.forwardEvent=o,this.inputBindingEnabled=r}activate(n){const e=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,t,n),H2(this.futureState.root),this.activateChildRoutes(e,t,n)}deactivateChildRoutes(n,e,t){const o=Lm(e);n.children.forEach(r=>{const a=r.value.outlet;this.deactivateRoutes(r,o[a],t),delete o[a]}),Object.values(o).forEach(r=>{this.deactivateRouteAndItsChildren(r,t)})}deactivateRoutes(n,e,t){const o=n.value,r=e?e.value:null;if(o===r)if(o.component){const a=t.getContext(o.outlet);a&&this.deactivateChildRoutes(n,e,a.children)}else this.deactivateChildRoutes(n,e,t);else r&&this.deactivateRouteAndItsChildren(e,t)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const t=e.getContext(n.value.outlet),o=t&&n.value.component?t.children:e,r=Lm(n);for(const a of Object.values(r))this.deactivateRouteAndItsChildren(a,o);if(t&&t.outlet){const a=t.outlet.detach(),l=t.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:a,route:n,contexts:l})}}deactivateRouteAndOutlet(n,e){const t=e.getContext(n.value.outlet),o=t&&n.value.component?t.children:e,r=Lm(n);for(const a of Object.values(r))this.deactivateRouteAndItsChildren(a,o);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(n,e,t){const o=Lm(e);n.children.forEach(r=>{this.activateRoutes(r,o[r.value.outlet],t),this.forwardEvent(new bM(r.value.snapshot))}),n.children.length&&this.forwardEvent(new B2(n.value.snapshot))}activateRoutes(n,e,t){const o=n.value,r=e?e.value:null;if(H2(o),o===r)if(o.component){const a=t.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,a.children)}else this.activateChildRoutes(n,e,t);else if(o.component){const a=t.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const l=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),H2(l.route.value),this.activateChildRoutes(n,null,a.children)}else{const l=Um(o.snapshot);a.attachRef=null,a.route=o,a.injector=l,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(n,null,a.children)}}else this.activateChildRoutes(n,null,t)}}class x8{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class My{constructor(n,e){this.component=n,this.route=e}}function hu(i,n,e){const t=i._root;return $2(t,n?n._root:null,e,[t.value])}function T1(i,n){const e=Symbol(),t=n.get(i,e);return t===e?"function"!=typeof i||(0,s.LfX)(i)?n.get(i):i:t}function $2(i,n,e,t,o={canDeactivateChecks:[],canActivateChecks:[]}){const r=Lm(n);return i.children.forEach(a=>{(function N8(i,n,e,t,o={canDeactivateChecks:[],canActivateChecks:[]}){const r=i.value,a=n?n.value:null,l=e?e.getContext(i.value.outlet):null;if(a&&r.routeConfig===a.routeConfig){const c=function L8(i,n,e){if("function"==typeof e)return e(i,n);switch(e){case"pathParamsChange":return!C1(i.url,n.url);case"pathParamsOrQueryParamsChange":return!C1(i.url,n.url)||!fd(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!j2(i,n)||!fd(i.queryParams,n.queryParams);default:return!j2(i,n)}}(a,r,r.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new x8(t)):(r.data=a.data,r._resolvedData=a._resolvedData),$2(i,n,r.component?l?l.children:null:e,t,o),c&&l&&l.outlet&&l.outlet.isActivated&&o.canDeactivateChecks.push(new My(l.outlet.component,a))}else a&&zp(n,l,o),o.canActivateChecks.push(new x8(t)),$2(i,null,r.component?l?l.children:null:e,t,o)})(a,r[a.value.outlet],e,t.concat([a.value]),o),delete r[a.value.outlet]}),Object.entries(r).forEach(([a,l])=>zp(l,e.getContext(a),o)),o}function zp(i,n,e){const t=Lm(i),o=i.value;Object.entries(t).forEach(([r,a])=>{zp(a,o.component?n?n.children.getContext(r):null:n,e)}),e.canDeactivateChecks.push(new My(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}function Fm(i){return"function"==typeof i}function pu(i){return i instanceof uy||"EmptyError"===i?.name}const Ry=Symbol("INITIAL_VALUE");function M1(){return le(i=>vh(i.map(n=>n.pipe(We(1),e8(Ry)))).pipe((0,V.T)(n=>{for(const e of n)if(!0!==e){if(e===Ry)return Ry;if(!1===e||e instanceof v1)return e}return!0}),X(n=>n!==Ry),We(1)))}function AM(i){return(0,hy.F)(F(n=>{if(bh(n))throw O8(0,n)}),(0,V.T)(n=>!0===n))}class xM{constructor(n){this.segmentGroup=n||null}}class NM extends Error{constructor(n){super(),this.urlTree=n}}function R1(i){return Al(new xM(i))}class pde{constructor(n,e){this.urlSerializer=n,this.urlTree=e}lineralizeSegments(n,e){let t=[],o=e.root;for(;;){if(t=t.concat(o.segments),0===o.numberOfChildren)return ft(t);if(o.numberOfChildren>1||!o.children[Sn])return Al(new s.wOt(4e3,!1));o=o.children[Sn]}}applyRedirectCommands(n,e,t){const o=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,t);if(e.startsWith("/"))throw new NM(o);return o}applyRedirectCreateUrlTree(n,e,t,o){const r=this.createSegmentGroup(n,e.root,t,o);return new v1(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const t={};return Object.entries(n).forEach(([o,r])=>{if("string"==typeof r&&r.startsWith(":")){const l=r.substring(1);t[o]=e[l]}else t[o]=r}),t}createSegmentGroup(n,e,t,o){const r=this.createSegments(n,e.segments,t,o);let a={};return Object.entries(e.children).forEach(([l,c])=>{a[l]=this.createSegmentGroup(n,c,t,o)}),new es(r,a)}createSegments(n,e,t,o){return e.map(r=>r.path.startsWith(":")?this.findPosParam(n,r,o):this.findOrReturn(r,t))}findPosParam(n,e,t){const o=t[e.path.substring(1)];if(!o)throw new s.wOt(4001,!1);return o}findOrReturn(n,e){let t=0;for(const o of e){if(o.path===n.path)return e.splice(t),o;t++}return n}}const LM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $j(i,n,e,t,o){const r=xy(i,n,e);return r.matched?(t=function Qa(i,n){return i.providers&&!i._injector&&(i._injector=(0,s.Ol2)(i.providers,n,`Route: ${i.path}`)),i._injector??n}(n,t),function zj(i,n,e,t){const o=n.canMatch;return o&&0!==o.length?ft(o.map(a=>{const l=T1(a,i);return Am(function MM(i){return i&&Fm(i.canMatch)}(l)?l.canMatch(n,e):(0,s.N4e)(i,()=>l(n,e)))})).pipe(M1(),AM()):ft(!0)}(t,n,e).pipe((0,V.T)(a=>!0===a?r:{...LM}))):ft(r)}function xy(i,n,e){if("**"===n.path)return function Xj(i){return{matched:!0,parameters:i.length>0?lM(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===n.path)return"full"===n.pathMatch&&(i.hasChildren()||e.length>0)?{...LM}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(n.matcher||o8)(e,i,n);if(!o)return{...LM};const r={};Object.entries(o.posParams??{}).forEach(([l,c])=>{r[l]=c.path});const a=o.consumed.length>0?{...r,...o.consumed[o.consumed.length-1].parameters}:r;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:a,positionalParamSegments:o.posParams??{}}}function V8(i,n,e,t){return e.length>0&&function H8(i,n,e){return e.some(t=>Hp(i,n,t)&&uu(t)!==Sn)}(i,e,t)?{segmentGroup:new es(n,PM(t,new es(e,i.children))),slicedSegments:[]}:0===e.length&&function Y2(i,n,e){return e.some(t=>Hp(i,n,t))}(i,e,t)?{segmentGroup:new es(i.segments,z8(i,e,t,i.children)),slicedSegments:e}:{segmentGroup:new es(i.segments,i.children),slicedSegments:e}}function z8(i,n,e,t){const o={};for(const r of e)if(Hp(i,n,r)&&!t[uu(r)]){const a=new es([],{});o[uu(r)]=a}return{...t,...o}}function PM(i,n){const e={};e[Sn]=n;for(const t of i)if(""===t.path&&uu(t)!==Sn){const o=new es([],{});e[uu(t)]=o}return e}function Hp(i,n,e){return(!(i.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class Kj{}class GM{constructor(n,e,t,o,r,a,l){this.injector=n,this.configLoader=e,this.rootComponentType=t,this.config=o,this.urlTree=r,this.paramsInheritanceStrategy=a,this.urlSerializer=l,this.applyRedirects=new pde(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new s.wOt(4002,`'${n.segmentGroup}'`)}recognize(){const n=V8(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe((0,V.T)(e=>{const t=new Vp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Sn,this.rootComponentType,null,{}),o=new Ec(t,e),r=new Dy("",o),a=function mM(i,n,e=null,t=null){return m8(gy(i),n,e,t)}(t,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(r._root,null),{state:r,tree:a}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n,Sn).pipe(pd(t=>{if(t instanceof NM)return this.urlTree=t.urlTree,this.match(t.urlTree.root);throw t instanceof xM?this.noMatchError(t):t}))}inheritParamsAndData(n,e){const t=n.value,o=k1(t,e,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data),n.children.forEach(r=>this.inheritParamsAndData(r,t))}processSegmentGroup(n,e,t,o){return 0===t.segments.length&&t.hasChildren()?this.processChildren(n,e,t):this.processSegment(n,e,t,t.segments,o,!0).pipe((0,V.T)(r=>r instanceof Ec?[r]:[]))}processChildren(n,e,t){const o=[];for(const r of Object.keys(t.children))"primary"===r?o.unshift(r):o.push(r);return Zi(o).pipe(du(r=>{const a=t.children[r],l=function Uj(i,n){const e=i.filter(t=>uu(t)===n);return e.push(...i.filter(t=>uu(t)!==n)),e}(e,r);return this.processSegmentGroup(n,l,a,r)}),i8((r,a)=>(r.push(...a),r)),R2(null),function s8(i,n){const e=arguments.length>=2;return t=>t.pipe(i?X((o,r)=>i(o,r,t)):Mm.D,rM(1),e?R2(n):t8(()=>new uy))}(),ar(r=>{if(null===r)return R1(t);const a=qj(r);return function Jj(i){i.sort((n,e)=>n.value.outlet===Sn?-1:e.value.outlet===Sn?1:n.value.outlet.localeCompare(e.value.outlet))}(a),ft(a)}))}processSegment(n,e,t,o,r,a){return Zi(e).pipe(du(l=>this.processSegmentAgainstRoute(l._injector??n,e,l,t,o,r,a).pipe(pd(c=>{if(c instanceof xM)return ft(null);throw c}))),Rm(l=>!!l),pd(l=>{if(pu(l))return function Wj(i,n,e){return 0===n.length&&!i.children[e]}(t,o,r)?ft(new Kj):R1(t);throw l}))}processSegmentAgainstRoute(n,e,t,o,r,a,l){return function J2(i,n,e,t){return!!(uu(i)===t||t!==Sn&&Hp(n,e,i))&&xy(n,i,e).matched}(t,o,r,a)?void 0===t.redirectTo?this.matchSegmentAgainstRoute(n,o,t,r,a):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(n,o,e,t,r,a):R1(o):R1(o)}expandSegmentAgainstRouteUsingRedirect(n,e,t,o,r,a){const{matched:l,consumedSegments:c,positionalParamSegments:u,remainingSegments:f}=xy(e,o,r);if(!l)return R1(e);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const _=this.applyRedirects.applyRedirectCommands(c,o.redirectTo,u);return this.applyRedirects.lineralizeSegments(o,_).pipe(ar(S=>this.processSegment(n,t,e,S.concat(f),a,!1)))}matchSegmentAgainstRoute(n,e,t,o,r){const a=$j(e,t,o,n);return"**"===t.path&&(e.children={}),a.pipe(le(l=>l.matched?this.getChildConfig(n=t._injector??n,t,o).pipe(le(({routes:c})=>{const u=t._loadedInjector??n,{consumedSegments:f,remainingSegments:_,parameters:S}=l,v=new Vp(f,S,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Qj(i){return i.data||{}}(t),uu(t),t.component??t._loadedComponent??null,t,function _de(i){return i.resolve||{}}(t)),{segmentGroup:b,slicedSegments:D}=V8(e,f,_,c);if(0===D.length&&b.hasChildren())return this.processChildren(u,c,b).pipe((0,V.T)(O=>null===O?null:new Ec(v,O)));if(0===c.length&&0===D.length)return ft(new Ec(v,[]));const k=uu(t)===r;return this.processSegment(u,c,b,D,k?Sn:r,!0).pipe((0,V.T)(O=>new Ec(v,O instanceof Ec?[O]:[])))})):R1(e)))}getChildConfig(n,e,t){return e.children?ft({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?ft({routes:e._loadedRoutes,injector:e._loadedInjector}):function B8(i,n,e,t){const o=n.canLoad;return void 0===o||0===o.length?ft(!0):ft(o.map(a=>{const l=T1(a,i);return Am(function P8(i){return i&&Fm(i.canLoad)}(l)?l.canLoad(n,e):(0,s.N4e)(i,()=>l(n,e)))})).pipe(M1(),AM())}(n,e,t).pipe(ar(o=>o?this.configLoader.loadChildren(n,e).pipe(F(r=>{e._loadedRoutes=r.routes,e._loadedInjector=r.injector})):function jj(i){return Al(OM(!1,Nl.GuardRejected))}())):ft({routes:[],injector:n})}}function fde(i){const n=i.value.routeConfig;return n&&""===n.path}function qj(i){const n=[],e=new Set;for(const t of i){if(!fde(t)){n.push(t);continue}const o=n.find(r=>t.value.routeConfig===r.value.routeConfig);void 0!==o?(o.children.push(...t.children),e.add(o)):n.push(t)}for(const t of e){const o=qj(t.children);n.push(new Ec(t.value,o))}return n.filter(t=>!e.has(t))}function j8(i){const n=i.children.map(e=>j8(e)).flat();return[i,...n]}function Bm(i){return le(n=>{const e=i(n);return e?Zi(e).pipe((0,V.T)(()=>n)):ft(n)})}let Ly=(()=>{class i{buildTitle(e){let t,o=e.root;for(;void 0!==o;)t=this.getResolvedTitleForRoute(o)??t,o=o.children.find(r=>r.outlet===Sn);return t}getResolvedTitleForRoute(e){return e.data[g1]}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275prov=s.jDH({token:i,factory:()=>(0,s.WQX)(Py),providedIn:"root"})}return i})(),Py=(()=>{class i extends Ly{constructor(e){super(),this.title=e}updateTitle(e){const t=this.buildTitle(e);void 0!==t&&this.title.setTitle(t)}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(hH))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Vm=new s.nKC("",{providedIn:"root",factory:()=>({})}),fu=new s.nKC("");let Gy=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,s.WQX)(s.Ql9)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return ft(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const t=Am(e.loadComponent()).pipe((0,V.T)(FM),F(r=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=r}),Ch(()=>{this.componentLoaders.delete(e)})),o=new Cj(t,()=>new Ke.B).pipe(ZN());return this.componentLoaders.set(e,o),o}loadChildren(e,t){if(this.childrenLoaders.get(t))return this.childrenLoaders.get(t);if(t._loadedRoutes)return ft({routes:t._loadedRoutes,injector:t._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(t);const r=function n$(i,n,e,t){return Am(i.loadChildren()).pipe((0,V.T)(FM),ar(o=>o instanceof s.Co$||Array.isArray(o)?ft(o):Zi(n.compileModuleAsync(o))),(0,V.T)(o=>{t&&t(i);let r,a,l=!1;return Array.isArray(o)?(a=o,!0):(r=o.create(e).injector,a=r.get(fu,[],{optional:!0,self:!0}).flat()),{routes:a.map(Ty),injector:r}}))}(t,this.compiler,e,this.onLoadEndListener).pipe(Ch(()=>{this.childrenLoaders.delete(t)})),a=new Cj(r,()=>new Ke.B).pipe(ZN());return this.childrenLoaders.set(t,a),a}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function FM(i){return function q2(i){return i&&"object"==typeof i&&"default"in i}(i)?i.default:i}let BM=(()=>{class i{static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275prov=s.jDH({token:i,factory:()=>(0,s.WQX)($8),providedIn:"root"})}return i})(),$8=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const X8=new s.nKC(""),Q2=new s.nKC("");function i$(i,n,e){const t=i.get(Q2),o=i.get(de);return i.get(s.SKi).runOutsideAngular(()=>{if(!o.startViewTransition||t.skipNextTransition)return t.skipNextTransition=!1,Promise.resolve();let r;const a=new Promise(u=>{r=u}),l=o.startViewTransition(()=>(r(),function s$(i){return new Promise(n=>{(0,s.mal)(n,{injector:i})})}(i))),{onViewTransitionCreated:c}=t;return c&&(0,s.N4e)(i,()=>c({transition:l,from:n,to:e})),a})}let Uy=(()=>{class i{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ke.B,this.transitionAbortSubject=new Ke.B,this.configLoader=(0,s.WQX)(Gy),this.environmentInjector=(0,s.WQX)(s.uvJ),this.urlSerializer=(0,s.WQX)(Up),this.rootContexts=(0,s.WQX)(z2),this.location=(0,s.WQX)(qt),this.inputBindingEnabled=null!==(0,s.WQX)(Oy,{optional:!0}),this.titleStrategy=(0,s.WQX)(Ly),this.options=(0,s.WQX)(Vm,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,s.WQX)(BM),this.createViewTransition=(0,s.WQX)(X8,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ft(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new E8(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new F2(o))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const t=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:t})}setupNavigations(e,t,o){return this.transitions=new An.t({id:0,currentUrlTree:t,currentRawUrl:t,extractedUrl:this.urlHandlingStrategy.extract(t),urlAfterRedirects:this.urlHandlingStrategy.extract(t),rawUrl:t,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Nm,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(X(r=>0!==r.id),(0,V.T)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),le(r=>{let a=!1,l=!1;return ft(r).pipe(le(c=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Nl.SupersededByNewNavigation),Dr;this.currentTransition=r,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const u=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!u&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const _="";return this.events.next(new w1(c.id,this.urlSerializer.serialize(c.rawUrl),_,gM.IgnoredSameUrlNavigation)),c.resolve(null),Dr}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ft(c).pipe(le(_=>{const S=this.transitions?.getValue();return this.events.next(new G2(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),S!==this.transitions?.getValue()?Dr:Promise.resolve(_)}),function Zj(i,n,e,t,o,r){return ar(a=>function Yj(i,n,e,t,o,r,a="emptyOnly"){return new GM(i,n,e,t,o,a,r).recognize()}(i,n,e,t,a.extractedUrl,o,r).pipe((0,V.T)(({state:l,tree:c})=>({...a,targetSnapshot:l,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),F(_=>{r.targetSnapshot=_.targetSnapshot,r.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:_.urlAfterRedirects};const S=new SM(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(S)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:_,extractedUrl:S,source:v,restoredState:b,extras:D}=c,k=new G2(_,this.urlSerializer.serialize(S),v,b);this.events.next(k);const O=DM(this.rootComponentType).snapshot;return this.currentTransition=r={...c,targetSnapshot:O,urlAfterRedirects:S,extras:{...D,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=S,ft(r)}{const _="";return this.events.next(new w1(c.id,this.urlSerializer.serialize(c.extractedUrl),_,gM.IgnoredByUrlHandlingStrategy)),c.resolve(null),Dr}}),F(c=>{const u=new C8(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),(0,V.T)(c=>(this.currentTransition=r={...c,guards:hu(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},r)),function IM(i,n){return ar(e=>{const{targetSnapshot:t,currentSnapshot:o,guards:{canActivateChecks:r,canDeactivateChecks:a}}=e;return 0===a.length&&0===r.length?ft({...e,guardsResult:!0}):function Vj(i,n,e,t){return Zi(i).pipe(ar(o=>function K2(i,n,e,t,o){const r=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return r&&0!==r.length?ft(r.map(l=>{const c=Um(n)??o,u=T1(l,c);return Am(function Iy(i){return i&&Fm(i.canDeactivate)}(u)?u.canDeactivate(i,n,e,t):(0,s.N4e)(c,()=>u(i,n,e,t))).pipe(Rm())})).pipe(M1()):ft(!0)}(o.component,o.route,e,n,t)),Rm(o=>!0!==o,!0))}(a,t,o,i).pipe(ar(l=>l&&function hde(i){return"boolean"==typeof i}(l)?function X2(i,n,e,t){return Zi(n).pipe(du(o=>I2(function I1(i,n){return null!==i&&n&&n(new CM(i)),ft(!0)}(o.route.parent,t),function F8(i,n){return null!==i&&n&&n(new y8(i)),ft(!0)}(o.route,t),function RM(i,n,e){const t=n[n.length-1],r=n.slice(0,n.length-1).reverse().map(a=>function TM(i){const n=i.routeConfig?i.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:i,guards:n}:null}(a)).filter(a=>null!==a).map(a=>qN(()=>ft(a.guards.map(c=>{const u=Um(a.node)??e,f=T1(c,u);return Am(function U8(i){return i&&Fm(i.canActivateChild)}(f)?f.canActivateChild(t,i):(0,s.N4e)(u,()=>f(t,i))).pipe(Rm())})).pipe(M1())));return ft(r).pipe(M1())}(i,o.path,e),function W2(i,n,e){const t=n.routeConfig?n.routeConfig.canActivate:null;if(!t||0===t.length)return ft(!0);const o=t.map(r=>qN(()=>{const a=Um(n)??e,l=T1(r,a);return Am(function G8(i){return i&&Fm(i.canActivate)}(l)?l.canActivate(n,i):(0,s.N4e)(a,()=>l(n,i))).pipe(Rm())}));return ft(o).pipe(M1())}(i,o.route,e))),Rm(o=>!0!==o,!0))}(t,r,i,n):ft(l)),(0,V.T)(l=>({...e,guardsResult:l})))})}(this.environmentInjector,c=>this.events.next(c)),F(c=>{if(r.guardsResult=c.guardsResult,bh(c.guardsResult))throw O8(0,c.guardsResult);const u=new vM(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),X(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",Nl.GuardRejected),!1)),Bm(c=>{if(c.guards.canActivateChecks.length)return ft(c).pipe(F(u=>{const f=new b8(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),le(u=>{let f=!1;return ft(u).pipe(function gde(i,n){return ar(e=>{const{targetSnapshot:t,guards:{canActivateChecks:o}}=e;if(!o.length)return ft(e);const r=new Set(o.map(c=>c.route)),a=new Set;for(const c of r)if(!a.has(c))for(const u of j8(c))a.add(u);let l=0;return Zi(a).pipe(du(c=>r.has(c)?function e$(i,n,e,t){const o=i.routeConfig,r=i._resolve;return void 0!==o?.title&&!wy(o)&&(r[g1]=o.title),function t$(i,n,e,t){const o=aM(i);if(0===o.length)return ft({});const r={};return Zi(o).pipe(ar(a=>function UM(i,n,e,t){const o=Um(n)??t,r=T1(i,o);return Am(r.resolve?r.resolve(n,e):(0,s.N4e)(o,()=>r(n,e)))}(i[a],n,e,t).pipe(Rm(),F(l=>{r[a]=l}))),rM(1),A2(r),pd(a=>pu(a)?Dr:Al(a)))}(r,i,n,t).pipe((0,V.T)(a=>(i._resolvedData=a,i.data=k1(i,i.parent,e).resolve,null)))}(c,t,i,n):(c.data=k1(c,c.parent,i).resolve,ft(void 0))),F(()=>l++),rM(1),ar(c=>l===a.size?ft(e):Dr))})}(this.paramsInheritanceStrategy,this.environmentInjector),F({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(u,"",Nl.NoDataFromResolver)}}))}),F(u=>{const f=new by(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}))}),Bm(c=>{const u=f=>{const _=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(f.routeConfig).pipe(F(S=>{f.component=S}),(0,V.T)(()=>{})));for(const S of f.children)_.push(...u(S));return _};return vh(u(c.targetSnapshot.root)).pipe(R2(null),We(1))}),Bm(()=>this.afterPreactivation()),le(()=>{const{currentSnapshot:c,targetSnapshot:u}=r,f=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return f?Zi(f).pipe((0,V.T)(()=>r)):ft(r)}),(0,V.T)(c=>{const u=function xj(i,n,e){const t=O1(i,n._root,e?e._root:void 0);return new Pm(t,n)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=r={...c,targetRouterState:u},this.currentNavigation.targetRouterState=u,r}),F(()=>{this.events.next(new EM)}),((i,n,e,t)=>(0,V.T)(o=>(new Bj(n,o.targetRouterState,o.currentRouterState,e,t).activate(i),o)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),We(1),F({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new md(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),mo(this.transitionAbortSubject.pipe(F(c=>{throw c}))),Ch(()=>{!a&&!l&&this.cancelNavigationTransition(r,"",Nl.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),pd(c=>{if(l=!0,M8(c))this.events.next(new yh(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode)),function T8(i){return M8(i)&&bh(i.url)}(c)?this.events.next(new Ey(c.url)):r.resolve(!1);else{this.events.next(new U2(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0));try{r.resolve(e.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Dr}))}))}cancelNavigationTransition(e,t,o){const r=new yh(e.id,this.urlSerializer.serialize(e.extractedUrl),t,o);this.events.next(r),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function o$(i){return i!==Nm}let r$=(()=>{class i{static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275prov=s.jDH({token:i,factory:()=>(0,s.WQX)(Z2),providedIn:"root"})}return i})();class VM{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let Z2=(()=>{class i extends VM{static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=s.xGo(i)))(o||i)}})();static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),W8=(()=>{class i{static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275prov=s.jDH({token:i,factory:()=>(0,s.WQX)(Fy),providedIn:"root"})}return i})(),Fy=(()=>{class i extends W8{constructor(){super(...arguments),this.location=(0,s.WQX)(qt),this.urlSerializer=(0,s.WQX)(Up),this.options=(0,s.WQX)(Vm,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,s.WQX)(BM),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new v1,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=DM(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(t=>{"popstate"===t.type&&e(t.url,t.state)})}handleRouterEvent(e,t){if(e instanceof G2)this.stateMemento=this.createStateMemento();else if(e instanceof w1)this.rawUrlTree=t.initialUrl;else if(e instanceof SM){if("eager"===this.urlUpdateStrategy&&!t.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(t.finalUrl,t.initialUrl);this.setBrowserUrl(o,t)}}else e instanceof EM?(this.currentUrlTree=t.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(t.finalUrl,t.initialUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t))):e instanceof yh&&(e.code===Nl.GuardRejected||e.code===Nl.NoDataFromResolver)?this.restoreHistory(t):e instanceof U2?this.restoreHistory(t,!0):e instanceof md&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,t){const o=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(o)||t.extras.replaceUrl){const a={...t.extras.state,...this.generateNgRouterState(t.id,this.browserPageId)};this.location.replaceState(o,"",a)}else{const r={...t.extras.state,...this.generateNgRouterState(t.id,this.browserPageId+1)};this.location.go(o,"",r)}}restoreHistory(e,t=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-this.browserPageId;0!==r?this.location.historyGo(r):this.currentUrlTree===e.finalUrl&&0===r&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:t}:{navigationId:e}}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=s.xGo(i)))(o||i)}})();static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var jp=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(jp||{});function a$(i,n){i.events.pipe(X(e=>e instanceof md||e instanceof yh||e instanceof U2||e instanceof w1),(0,V.T)(e=>e instanceof md||e instanceof w1?jp.COMPLETE:e instanceof yh&&(e.code===Nl.Redirect||e.code===Nl.SupersededByNewNavigation)?jp.REDIRECTING:jp.FAILED),X(e=>e!==jp.REDIRECTING),We(1)).subscribe(()=>{n()})}function l$(i){throw i}const c$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ns=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,s.WQX)(s.H3F),this.stateManager=(0,s.WQX)(W8),this.options=(0,s.WQX)(Vm,{optional:!0})||{},this.pendingTasks=(0,s.WQX)(s.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,s.WQX)(Uy),this.urlSerializer=(0,s.WQX)(Up),this.location=(0,s.WQX)(qt),this.urlHandlingStrategy=(0,s.WQX)(BM),this._events=new Ke.B,this.errorHandler=this.options.errorHandler||l$,this.navigated=!1,this.routeReuseStrategy=(0,s.WQX)(r$),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,s.WQX)(fu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,s.WQX)(Oy,{optional:!0}),this.eventsSubscription=new be.yU,this.isNgZoneEnabled=(0,s.WQX)(s.SKi)instanceof s.SKi&&s.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(t=>{try{const o=this.navigationTransitions.currentTransition,r=this.navigationTransitions.currentNavigation;if(null!==o&&null!==r)if(this.stateManager.handleRouterEvent(t,r),t instanceof yh&&t.code!==Nl.Redirect&&t.code!==Nl.SupersededByNewNavigation)this.navigated=!0;else if(t instanceof md)this.navigated=!0;else if(t instanceof Ey){const a=this.urlHandlingStrategy.merge(t.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||o$(o.source)};this.scheduleNavigation(a,Nm,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function d$(i){return!(i instanceof EM||i instanceof Ey)})(t)&&this._events.next(t)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Nm,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,t)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",t)},0)})}navigateToSyncWithBrowser(e,t,o){const r={replaceUrl:!0},a=o?.navigationId?o:null;if(o){const c={...o};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(r.state=c)}const l=this.parseUrl(e);this.scheduleNavigation(l,t,a,r)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Ty),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,t={}){const{relativeTo:o,queryParams:r,fragment:a,queryParamsHandling:l,preserveFragment:c}=t,u=c?this.currentUrlTree.fragment:a;let _,f=null;switch(l){case"merge":f={...this.currentUrlTree.queryParams,...r};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=r||null}null!==f&&(f=this.removeEmptyProps(f));try{_=gy(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),_=this.currentUrlTree.root}return m8(_,e,f,u??null)}navigateByUrl(e,t={skipLocationChange:!1}){const o=bh(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(r,Nm,null,t)}navigate(e,t={skipLocationChange:!1}){return function K8(i){for(let n=0;n<i.length;n++)if(null==i[n])throw new s.wOt(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,t){let o;if(o=!0===t?{...c$}:!1===t?{...zM}:t,bh(e))return a8(this.currentUrlTree,e,o);const r=this.parseUrl(e);return a8(this.currentUrlTree,r,o)}removeEmptyProps(e){return Object.entries(e).reduce((t,[o,r])=>(null!=r&&(t[o]=r),t),{})}scheduleNavigation(e,t,o,r,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((_,S)=>{l=_,c=S});const f=this.pendingTasks.add();return a$(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:t,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:r,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(_=>Promise.reject(_))}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),mu=(()=>{class i{constructor(e,t,o,r,a,l){this.router=e,this.route=t,this.tabIndexAttribute=o,this.renderer=r,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new Ke.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=e.events.subscribe(u=>{u instanceof md&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,t,o,r,a){const l=this.urlTree;return!!(null===l||this.isAnchorElement&&(0!==e||t||o||r||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(l,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const e=this.urlTree;this.href=null!==e&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;const t=null===this.href?null:(0,s.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(e,t){const o=this.renderer,r=this.el.nativeElement;null!==t?o.setAttribute(r,e,t):o.removeAttribute(r,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(Ns),s.rXU(Dh),s.kS0("tabindex"),s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(ui))};static#t=this.\u0275dir=s.FsC({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,o){1&t&&s.bIt("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&s.BMQ("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[s.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",s.L39],skipLocationChange:[s.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",s.L39],replaceUrl:[s.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",s.L39],routerLink:"routerLink"},standalone:!0,features:[s.GFd,s.OA$]})}return i})(),By=(()=>{class i{get isActive(){return this._isActive}constructor(e,t,o,r,a){this.router=e,this.element=t,this.renderer=o,this.cdr=r,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.bkB,this.routerEventsSubscription=e.events.subscribe(l=>{l instanceof md&&this.update()})}ngAfterContentInit(){ft(this.links.changes,ft(null)).pipe(_1()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Zi(e).pipe(_1()).subscribe(t=>{this._isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const t=function u$(i){return!!i.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{const r=o.urlTree;return!!r&&e.isActive(r,t)}}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(Ns),s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(s.gRc),s.rXU(mu,8))};static#t=this.\u0275dir=s.FsC({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(t,o,r){if(1&t&&s.wni(r,mu,5),2&t){let a;s.mGM(a=s.lsd())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[s.OA$]})}return i})();class Y8{}let h$=(()=>{class i{constructor(e,t,o,r,a){this.router=e,this.injector=o,this.preloadingStrategy=r,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(X(e=>e instanceof md),du(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const o=[];for(const r of t){r.providers&&!r._injector&&(r._injector=(0,s.Ol2)(r.providers,e,`Route: ${r.path}`));const a=r._injector??e,l=r._loadedInjector??a;(r.loadChildren&&!r._loadedRoutes&&void 0===r.canLoad||r.loadComponent&&!r._loadedComponent)&&o.push(this.preloadConfig(a,r)),(r.children||r._loadedRoutes)&&o.push(this.processRoutes(l,r.children??r._loadedRoutes))}return Zi(o).pipe(_1())}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>{let o;o=t.loadChildren&&void 0===t.canLoad?this.loader.loadChildren(e,t):ft(null);const r=o.pipe(ar(a=>null===a?ft(void 0):(t._loadedRoutes=a.routes,t._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));return t.loadComponent&&!t._loadedComponent?Zi([r,this.loader.loadComponent(t)]).pipe(_1()):r})}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Ns),s.KVO(s.Ql9),s.KVO(s.uvJ),s.KVO(Y8),s.KVO(Gy))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Vy=new s.nKC("");let J8=(()=>{class i{constructor(e,t,o,r,a={}){this.urlSerializer=e,this.transitions=t,this.viewportScroller=o,this.zone=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof G2?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof md?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof w1&&e.code===gM.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof V2&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new V2(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(t){s.QTQ()};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();function _u(i,n){return{\u0275kind:i,\u0275providers:n}}function q8(){const i=(0,s.WQX)(s.zZn);return n=>{const e=i.get(s.o8S);if(n!==e.components[0])return;const t=i.get(Ns),o=i.get(zy);1===i.get(Q8)&&t.initialNavigation(),i.get(eL,null,s.$GK.Optional)?.setUpPreloading(),i.get(Vy,null,s.$GK.Optional)?.init(),t.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const zy=new s.nKC("",{factory:()=>new Ke.B}),Q8=new s.nKC("",{providedIn:"root",factory:()=>1}),eL=new s.nKC("");function Cde(i){return _u(0,[{provide:eL,useExisting:h$},{provide:Y8,useExisting:i}])}function S$(i){return _u(9,[{provide:X8,useValue:i$},{provide:Q2,useValue:{skipNextTransition:!!i?.skipInitialTransition,...i}}])}const jM=new s.nKC("ROUTER_FORROOT_GUARD"),iL=[qt,{provide:Up,useClass:h8},Ns,z2,{provide:Dh,useFactory:function f$(i){return i.routerState.root},deps:[Ns]},Gy,[]];let $M=(()=>{class i{constructor(e){}static forRoot(e,t){return{ngModule:i,providers:[iL,[],{provide:fu,multi:!0,useValue:e},{provide:jM,useFactory:sL,deps:[[Ns,new s.Xx1,new s.kdw]]},{provide:Vm,useValue:t||{}},t?.useHash?{provide:ui,useClass:mt}:{provide:ui,useClass:ai},{provide:Vy,useFactory:()=>{const i=(0,s.WQX)(Sm),n=(0,s.WQX)(s.SKi),e=(0,s.WQX)(Vm),t=(0,s.WQX)(Uy),o=(0,s.WQX)(Up);return e.scrollOffset&&i.setOffset(e.scrollOffset),new J8(o,t,i,n,e)}},t?.preloadingStrategy?Cde(t.preloadingStrategy).\u0275providers:[],t?.initialNavigation?XM(t):[],t?.bindToComponentInputs?_u(8,[w8,{provide:Oy,useExisting:w8}]).\u0275providers:[],t?.enableViewTransitions?S$().\u0275providers:[],[{provide:oL,useFactory:q8},{provide:s.iLQ,multi:!0,useExisting:oL}]]}}static forChild(e){return{ngModule:i,providers:[{provide:fu,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(jM,8))};static#t=this.\u0275mod=s.$C({type:i});static#n=this.\u0275inj=s.G2t({})}return i})();function sL(i){return"guarded"}function XM(i){return["disabled"===i.initialNavigation?_u(3,[{provide:s.hnV,multi:!0,useFactory:()=>{const n=(0,s.WQX)(Ns);return()=>{n.setUpLocationChangeListener()}}},{provide:Q8,useValue:2}]).\u0275providers:[],"enabledBlocking"===i.initialNavigation?_u(2,[{provide:Q8,useValue:0},{provide:s.hnV,multi:!0,deps:[s.zZn],useFactory:n=>{const e=n.get(it,Promise.resolve());return()=>e.then(()=>new Promise(t=>{const o=n.get(Ns),r=n.get(zy);a$(o,()=>{t(!0)}),n.get(Uy).afterPreactivation=()=>(t(!0),r.closed?ft(void 0):r),o.initialNavigation()}))}}]).\u0275providers:[]]}const oL=new s.nKC("");class fn{static#e=this.baseUrl="../lacos";static#t=this.baseApiUrl=`${fn.baseUrl}/api`;static#n=this.baseAttachmentsUrl=`${fn.baseUrl}/attachments`}class y${constructor(n,e){this.userName=n,this.password=e}}class $p{constructor(n,e,t,o,r){this.id=n,this.userName=e,this.enabled=t,this.role=o,this.accessToken=r}static build(n){return new $p(n.id,n.userName,n.enabled,n.role,n.accessToken)}}var ci=function(i){return i[i.Administrator=0]="Administrator",i[i.Operator=1]="Operator",i[i.Customer=2]="Customer",i}(ci||{});class yc{constructor(n,e,t,o){this.userName=n,this.enabled=e,this.role=t,this.password=o}static empty(){return new yc(null,!0,ci.Operator,null)}static fromUser(n){return new yc(n.userName,n.enabled,n.role,null)}}const xi=i=>null!=i,KM=i=>null==i,A1=i=>Array.isArray(i),YM=i=>"function"==typeof i,nC=i=>"string"==typeof i,x1=i=>!(i=>KM(i)||0===i.trim().length)(i),jm=i=>!isNaN(i-parseFloat(i)),Xp=i=>i&&i.getTime,Su=i=>xi(i.filters),jy=(i,n,e)=>t=>i(t)?n(t):e(t),Dc=(...i)=>n=>i.reduceRight((e,t)=>t(e),n),k$=i=>i,$m=("",{}),uL=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;$m.undefined=i=>i;const vu=(i,n)=>{const e=i+n;if($m[e])return $m[e];const t=[];return i.replace(uL,(o,r,a,l)=>{t.push(xi(r)?r:a||l)}),$m[e]=o=>{let r=o;for(let a=0;a<t.length;a++)if(r=r[t[a]],!xi(r)&&n)return r;return r},$m[e]},hL=({field:i,value:n,ignoreCase:e,operator:t})=>({value:`'${n.replace(/'/g,"''")}'`,field:i,ignoreCase:e,operator:t}),pL=({field:i,value:n,ignoreCase:e,operator:t})=>({value:`${encodeURIComponent(n)}`,field:i,ignoreCase:e,operator:t}),I$=i=>nC(i.value),Xm=i=>n=>[i,n],R$=()=>null,t3=i=>n=>xi(i(n)),mL=i=>n=>(i=>xi(i)&&A1(i)&&i.length>0)(i(n)),Wm=(i,n)=>jy(i,n,R$),iC=(i,n)=>e=>i(e).map(n).join("~"),gL=Dc(...[['"',""],[":","-"]].map(([n,e])=>t=>t.replace(new RegExp(n,"g"),e))),N$=n=>n.slice(0,n.indexOf(".")),s3=({field:i,dir:n="asc"})=>`${i}-${n}`,Xy=vu("take"),o3=vu("aggregates"),SL=vu("skip"),P$=vu("group"),vL=vu("sort",!0),G$=iC(vL,s3),CL=iC(P$,s3),bL=iC(o3,({field:i,aggregate:n})=>`${i}-${n}`),yL=Dc(i=>`datetime'${i}'`,N$,gL,JSON.stringify,i=>new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()))),kL=Dc(Xm("page"),({skip:i,take:n})=>Math.floor((i||0)/n)+1),U$=Dc(Xm("pageSize"),Xy),kde=Dc(Xm("group"),CL),Ode=Dc(Xm("sort"),G$),Tde=Dc(Xm("aggregate"),bL),Mde=Wm(t3(SL),kL),Ide=Wm(t3(Xy),U$),Rde=Wm(mL(P$),kde),Ade=Wm(t3(o3),Tde),xde=Dc(Wm(mL(vL),Ode),i=>Object.assign({},i,{sort:(vL(i)||[]).filter(({dir:n})=>x1(n))})),OL=({field:i})=>x1(i),Wy=({field:i,operator:n,value:e})=>`${i}~${n}~${e}`,Nde=jy(i=>Xp(i.value),Dc(Wy,({field:i,value:n,ignoreCase:e,operator:t})=>({value:yL(n),field:i,ignoreCase:e,operator:t})),Wy),Pde=({logic:i})=>`~${i}~`,F$=i=>((i,n)=>e=>(i=>(n,...e)=>i()?`${n[0]}${e[0]}${n[1]}`:e[0])(()=>e.filters.length>1)`(${e.filters.map(i).join(n(e))})`)(n=>jy(Su,F$(i),(i=>Wm(OL,jy(I$,Dc(Wy,hL,i?pL:k$),Nde)))(i))(n),Pde),Gde=({filter:i},n)=>{if(i&&i.filters){const e=F$(n)(i);if(e.length)return["filter",e]}return null},_d=i=>(i=>i.reduce((n,[e,t])=>[...n,`${e}=${t}`],[]))(Object.keys(i).map(((i,n=!0)=>e=>({aggregates:Ade(i),filter:Gde(i,n),group:Rde(i),skip:Mde(i),sort:xde(i),take:Ide(i)}[e]))(i)).filter(xi)).join("&"),r3=(i,n,e)=>(n[i]=e,n),Wp=i=>n=>{const e=n[i];return xi(e)?e:n[(i=>i.replace(/(^[A-Z])/g,(n,e)=>e.toLowerCase()))(i)]},a3=(Wp("Member"),Wp("AggregateMethodName"),Wp("Value"),i=>n=>Object.keys(n).reduce(i.bind(null,n),{})),H$=a3((i,n,e)=>r3(e.toLowerCase(),n,i[e])),Fde=a3((i,n,e)=>r3(e,n,H$(i[e]))),TL=(i,n)=>xi(i)?i:n,ML=Dc(({field:i,hasSubgroups:n,value:e,aggregates:t,items:o})=>({aggregates:Fde(t),field:i,items:n?o.map(ML):o,value:e}),i=>({aggregates:i.Aggregates||i.aggregates,field:i.Member||i.member||i.field,hasSubgroups:i.HasSubgroups||i.hasSubgroups||!1,items:i.Items||i.items,value:TL(i.Key,TL(i.key,i.value))})),Ra=i=>i.map(ML),IL=(i,n)=>KM(i)?i===n?0:-1:KM(n)?1:i.localeCompare?i.localeCompare(n):i>n?1:i<n?-1:0,RL=(i,n)=>IL(n,i),Vde=i=>{if("function"==typeof i.compare)return i.compare;const n=vu(i.field,!0);return(e,t)=>("asc"===i.dir?IL:RL)(n(e),n(t))},AL=(i,n)=>0,Ky=(i,n)=>(i.push(n),i),NL=i=>n=>(e,t,o)=>n(e,i(t,o)),LL=i=>n=>(e,t)=>i(t)?n(e,t):e,PL=i=>xi(i.__value),Yy=(i,n,e)=>{let t=n;for(let o=0,r=e.length;o<r;o++)if(t=i(t,e[o],o),PL(t)){t=t.__value;break}return t},UL=NL(i=>i),J$=(i,n=[],e=UL)=>{const t={};return n.length?((i={})=>(Object.keys(i).forEach(n=>{const e=i[n];Object.keys(e).forEach(t=>{e[t]=e[t].result()})}),i))(Yy(e((i=>{const n=i.map(e=>{const t=vu(e.field,!0),o=(e.aggregate||"").toLowerCase(),r=vu(o,!0);return(a,l)=>{const c=a[e.field]||{},u=r(c)||(i=>({average:()=>{let n=0,e=0;return{calc:t=>{jm(t)?(n+=t,e++):n=t},result:()=>jm(n)?n/e:n}},count:()=>{let n=0;return{calc:()=>n++,result:()=>n}},max:()=>{let n=Number.NEGATIVE_INFINITY;return{calc:e=>{n=jm(n)||Xp(n)?n:e,n<e&&(jm(e)||Xp(e))&&(n=e)},result:()=>n}},min:()=>{let n=Number.POSITIVE_INFINITY;return{calc:e=>{n=jm(n)||Xp(n)?n:e,n>e&&(jm(e)||Xp(e))&&(n=e)},result:()=>n}},sum:()=>{let n=0;return{calc:e=>{e=xi(e)?e:0,n+=e},result:()=>n}}}[i]()))(o);return u.calc(t(l)),c[e.aggregate]=u,a[e.field]=c,a}});return(e,t)=>n.reduce((o,r)=>r(o,t),e)})(n)),t,i)):t},c3=i=>{i.filters&&(i.filters=i.filters.map(n=>{const e=Object.assign({},n);return!Su(n)&&nC(n.operator)&&(e.operator=(i=>({"!=":"neq","<":"lt","<=":"lte","==":"eq",">":"gt",">=":"gte",equal:"eq",equals:"eq",equalto:"eq",ge:"gte",greater:"gt",greaterthan:"gt",greaterthanequal:"gte",isempty:"isempty",isequalto:"eq",isgreaterthan:"gt",isgreaterthanorequalto:"gte",islessthan:"lt",islessthanorequalto:"lte",isnotempty:"isnotempty",isnotequalto:"neq",isnull:"isnull",le:"lte",less:"lt",lessthan:"lt",lessthanequal:"lte",ne:"neq",notequal:"neq",notequals:"neq",notequalto:"neq",notsubstringof:"doesnotcontain"}[i.toLowerCase()]||i))(n.operator)),Su(n)&&c3(e),e}))},Kp=i=>(xi(i)&&(i=(i=>Su(i)?Object.assign({},i):{filters:A1(i)?i:[i],logic:"and"})(i),c3(i)),i),BL={or:{concat:(i,n)=>e=>i(e)||n(e),identity:()=>!1},and:{concat:(i,n)=>e=>i(e)&&n(e),identity:()=>!0}},q$={contains:(i,n)=>(i||"").indexOf(n)>=0,doesnotcontain:(i,n)=>-1===(i||"").indexOf(n),doesnotendwith:(i,n)=>(i||"").indexOf(n,(i||"").length-(n||"").length)<0,doesnotstartwith:(i,n)=>-1===(i||"").lastIndexOf(n,0),endswith:(i,n)=>(i||"").indexOf(n,(i||"").length-(n||"").length)>=0,eq:(i,n)=>i===n,gt:(i,n)=>i>n,gte:(i,n)=>i>=n,isempty:i=>""===i,isnotempty:i=>""!==i,isnotnull:i=>xi(i),isnull:i=>KM(i),lt:(i,n)=>i<n,lte:(i,n)=>i<=n,neq:(i,n)=>i!=n,startswith:(i,n)=>0===(i||"").lastIndexOf(n,0)},Q$=/^\/Date\((.*?)\)\/$/,h3=i=>{const n=BL[i.logic];return i.filters.filter(xi).map(e=>Su(e)?h3(e):(({field:i,ignoreCase:n,value:e,operator:t})=>{i=xi(i)?i:a=>a,n=!xi(n)||n;const o=((i,n,e)=>{if(!xi(n))return i;let t=i;if(nC(n)){const o=Q$.exec(n);o?n=new Date(+o[1]):t=r=>{const a=i(r);return"string"==typeof a&&e?a.toLowerCase():jm(a)?a+"":a}}return Xp(n)?o=>{const r=t(o);return Xp(r)?r.getTime():r}:t})(YM(i)?i:vu(i,!0),e,n);e=((i,n)=>{if(null!=i&&nC(i)){const e=Q$.exec(i);if(e)return new Date(+e[1]).getTime();if(n)return i.toLowerCase()}else if(null!=i&&Xp(i))return i.getTime();return i})(e,n);const r=YM(t)?t:q$[t];return a=>r(o(a),e,n)})(e)).reduce(n.concat,n.identity)},Jy=i=>i&&0!==i.filters.length?h3(i):()=>!0,VL=(i,n)=>!xi(n)||Su(n)&&0===n.filters.length?i:i.filter(Jy(Kp(n))),sC=i=>(i=A1(i)?i:[i]).map(n=>Object.assign({dir:"asc"},n)),eX=NL(i=>i),qy=(i,n=[],e=eX,t=i)=>{if(!(n=sC(n)).length)return i;const o=n[0],a=Yy(e((i=>{const n=vu(i,!0);let e=0;return(t,o)=>{t[i]=t[i]||{};const r=n(o),a=(i=>(i=xi(i)&&i.getTime?i.getTime():i)+"")(r),l=t[i][a]||{__position:e++,aggregates:{},items:[],value:r};return l.items.push(o),t[i][a]=l,t}})(o.field)),{},i),l=[];return Object.keys(a).forEach(c=>{Object.keys(a[c]).forEach(u=>{const f=a[c][u];let _={},S=t;xi(o.aggregates)&&(S=VL(t,{field:o.field,ignoreCase:!1,operator:"eq",value:f.value}),_=J$(S,o.aggregates)),l[f.__position]={aggregates:_,field:c,items:n.length>1?qy(f.items,n.slice(1),eX,S):f.items,value:f.value}})}),l},Yp=(i,n)=>{if(n.some(e=>xi(e.dir)||xi(e.compare))){i=i.slice(0);const e=(i=>i.filter(n=>xi(n.dir)||xi(n.compare)).map(n=>Vde(n)).reduce((n,e)=>(t,o)=>n(t,o)||e(t,o),AL))(n);i.sort(e)}return i},nX=(i,n)=>n?i.filter(n):i,oC=(i,n)=>{const{skip:e,take:t,filter:o,sort:r,group:a}=n,l=[...sC(a||[]),...r||[]];l.length&&(i=Yp(i,l));const c=xi(o)&&LL.length,u=xi(a)&&a.length;if(!c&&!u)return{data:t?i.slice(e,e+t):i,total:i.length};let f;const _=[];let S;if(c?(S=Jy(Kp(o)),f=((i,n)=>{let e=0;for(let t=0,o=i.length;t<o;t++)n(i[t])&&e++;return e})(i,S),_.push(LL(S))):f=i.length,xi(e)&&xi(t)&&(_.push((i=>n=>(e,t)=>i--<=0?n(e,t):e)(e)),_.push((i=>n=>(e,t)=>i-- >0?n(e,t):(i=>PL(i)?i:{__value:i,reduced:!0})(e))(t))),_.length){const v=Dc(..._);return{data:u?qy(i,a,v,nX(i,S)):Yy(v(Ky),[],i),total:f}}return{data:u?qy(i,a):i,total:f}};_e(467);class Jp{}class Hs{}class Ro{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const o=e.slice(0,t),r=o.toLowerCase(),a=e.slice(t+1).trim();this.maybeSetNormalizedName(o,r),this.headers.has(r)?this.headers.get(r).push(a):this.headers.set(r,[a])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((e,t)=>{this.setHeaderEntries(t,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([e,t])=>{this.setHeaderEntries(e,t)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof Ro?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new Ro;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ro?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let t=n.value;if("string"==typeof t&&(t=[t]),0===t.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...t),this.headers.set(e,o);break;case"d":const r=n.value;if(r){let a=this.headers.get(e);if(!a)return;a=a.filter(l=>-1===r.indexOf(l)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(n,e){const t=(Array.isArray(e)?e:[e]).map(r=>r.toString()),o=n.toLowerCase();this.headers.set(o,t),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class wc{encodeKey(n){return m3(n)}encodeValue(n){return m3(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const sX=/%(\d[a-f0-9])/gi,P1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function m3(i){return encodeURIComponent(i).replace(sX,(n,e)=>P1[e]??n)}function aC(i){return`${i}`}class qp{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new wc,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function rC(i,n){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(o=>{const r=o.indexOf("="),[a,l]=-1==r?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,r)),n.decodeValue(o.slice(r+1))],c=e.get(a)||[];c.push(l),e.set(a,c)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const t=n.fromObject[e],o=Array.isArray(t)?t.map(aC):[aC(t)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(t=>{const o=n[t];Array.isArray(o)?o.forEach(r=>{e.push({param:t,value:r,op:"a"})}):e.push({param:t,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new qp({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(aC(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let t=this.map.get(n.param)||[];const o=t.indexOf(aC(n.value));-1!==o&&t.splice(o,1),t.length>0?this.map.set(n.param,t):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class Ao{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function HL(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function _o(i){return typeof Blob<"u"&&i instanceof Blob}function G1(i){return typeof FormData<"u"&&i instanceof FormData}class Za{constructor(n,e,t,o){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function zL(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==t?t:null,r=o):r=t,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers??=new Ro,this.context??=new Ao,this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const l=e.indexOf("?");this.urlWithParams=e+(-1===l?"?":l<e.length-1?"&":"")+a}}else this.params=new qp,this.urlWithParams=e}serializeBody(){return null===this.body?null:HL(this.body)||_o(this.body)||G1(this.body)||function U1(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof qp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||G1(this.body)?null:_o(this.body)?this.body.type||null:HL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const e=n.method||this.method,t=n.url||this.url,o=n.responseType||this.responseType,r=void 0!==n.body?n.body:this.body,a=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,l=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let c=n.headers||this.headers,u=n.params||this.params;const f=n.context??this.context;return void 0!==n.setHeaders&&(c=Object.keys(n.setHeaders).reduce((_,S)=>_.set(S,n.setHeaders[S]),c)),n.setParams&&(u=Object.keys(n.setParams).reduce((_,S)=>_.set(S,n.setParams[S]),u)),new Za(e,t,r,{params:u,headers:c,context:f,reportProgress:l,responseType:o,withCredentials:a})}}var wr=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(wr||{});class F1{constructor(n,e=Zp.Ok,t="OK"){this.headers=n.headers||new Ro,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||t,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class lC extends F1{constructor(n={}){super(n),this.type=wr.ResponseHeader}clone(n={}){return new lC({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Sd extends F1{constructor(n={}){super(n),this.type=wr.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Sd({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Qp extends F1{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}var Zp=function(i){return i[i.Continue=100]="Continue",i[i.SwitchingProtocols=101]="SwitchingProtocols",i[i.Processing=102]="Processing",i[i.EarlyHints=103]="EarlyHints",i[i.Ok=200]="Ok",i[i.Created=201]="Created",i[i.Accepted=202]="Accepted",i[i.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",i[i.NoContent=204]="NoContent",i[i.ResetContent=205]="ResetContent",i[i.PartialContent=206]="PartialContent",i[i.MultiStatus=207]="MultiStatus",i[i.AlreadyReported=208]="AlreadyReported",i[i.ImUsed=226]="ImUsed",i[i.MultipleChoices=300]="MultipleChoices",i[i.MovedPermanently=301]="MovedPermanently",i[i.Found=302]="Found",i[i.SeeOther=303]="SeeOther",i[i.NotModified=304]="NotModified",i[i.UseProxy=305]="UseProxy",i[i.Unused=306]="Unused",i[i.TemporaryRedirect=307]="TemporaryRedirect",i[i.PermanentRedirect=308]="PermanentRedirect",i[i.BadRequest=400]="BadRequest",i[i.Unauthorized=401]="Unauthorized",i[i.PaymentRequired=402]="PaymentRequired",i[i.Forbidden=403]="Forbidden",i[i.NotFound=404]="NotFound",i[i.MethodNotAllowed=405]="MethodNotAllowed",i[i.NotAcceptable=406]="NotAcceptable",i[i.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",i[i.RequestTimeout=408]="RequestTimeout",i[i.Conflict=409]="Conflict",i[i.Gone=410]="Gone",i[i.LengthRequired=411]="LengthRequired",i[i.PreconditionFailed=412]="PreconditionFailed",i[i.PayloadTooLarge=413]="PayloadTooLarge",i[i.UriTooLong=414]="UriTooLong",i[i.UnsupportedMediaType=415]="UnsupportedMediaType",i[i.RangeNotSatisfiable=416]="RangeNotSatisfiable",i[i.ExpectationFailed=417]="ExpectationFailed",i[i.ImATeapot=418]="ImATeapot",i[i.MisdirectedRequest=421]="MisdirectedRequest",i[i.UnprocessableEntity=422]="UnprocessableEntity",i[i.Locked=423]="Locked",i[i.FailedDependency=424]="FailedDependency",i[i.TooEarly=425]="TooEarly",i[i.UpgradeRequired=426]="UpgradeRequired",i[i.PreconditionRequired=428]="PreconditionRequired",i[i.TooManyRequests=429]="TooManyRequests",i[i.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",i[i.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",i[i.InternalServerError=500]="InternalServerError",i[i.NotImplemented=501]="NotImplemented",i[i.BadGateway=502]="BadGateway",i[i.ServiceUnavailable=503]="ServiceUnavailable",i[i.GatewayTimeout=504]="GatewayTimeout",i[i.HttpVersionNotSupported=505]="HttpVersionNotSupported",i[i.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",i[i.InsufficientStorage=507]="InsufficientStorage",i[i.LoopDetected=508]="LoopDetected",i[i.NotExtended=510]="NotExtended",i[i.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",i}(Zp||{});function cC(i,n){return{body:n,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}let Yo=(()=>{class i{constructor(e){this.handler=e}request(e,t,o={}){let r;if(e instanceof Za)r=e;else{let c,u;c=o.headers instanceof Ro?o.headers:new Ro(o.headers),o.params&&(u=o.params instanceof qp?o.params:new qp({fromObject:o.params})),r=new Za(e,t,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}const a=ft(r).pipe(du(c=>this.handler.handle(c)));if(e instanceof Za||"events"===o.observe)return a;const l=a.pipe(X(c=>c instanceof Sd));switch(o.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return l.pipe((0,V.T)(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe((0,V.T)(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe((0,V.T)(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return l.pipe((0,V.T)(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new qp).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,o={}){return this.request("PATCH",e,cC(o,t))}post(e,t,o={}){return this.request("POST",e,cC(o,t))}put(e,t,o={}){return this.request("PUT",e,cC(o,t))}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Jp))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();function S3(i,n){return n(i)}function $L(i,n){return(e,t)=>n.intercept(e,{handle:o=>i(o,t)})}const Zy=new s.nKC(""),dC=new s.nKC(""),uC=new s.nKC(""),eD=new s.nKC("");function v3(){let i=null;return(n,e)=>{null===i&&(i=((0,s.WQX)(Zy,{optional:!0})??[]).reduceRight($L,S3));const t=(0,s.WQX)(s.TgB),o=t.add();return i(n,e).pipe(Ch(()=>t.remove(o)))}}let C3=(()=>{class i extends Jp{constructor(e,t){super(),this.backend=e,this.injector=t,this.chain=null,this.pendingTasks=(0,s.WQX)(s.TgB);const o=(0,s.WQX)(eD,{optional:!0});this.backend=o??e}handle(e){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(dC),...this.injector.get(uC,[])]));this.chain=o.reduceRight((r,a)=>function rX(i,n,e){return(t,o)=>(0,s.N4e)(e,()=>n(t,r=>i(r,o)))}(r,a,this.injector),S3)}const t=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe(Ch(()=>this.pendingTasks.remove(t)))}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Hs),s.KVO(s.uvJ))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();const pX=/^\)\]\}',?\n/;let b3=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new s.wOt(-2800,!1);const t=this.xhrFactory;return(t.\u0275loadImpl?Zi(t.\u0275loadImpl()):ft(null)).pipe(le(()=>new Qi.c(r=>{const a=t.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((D,k)=>a.setRequestHeader(D,k.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const D=e.detectContentTypeHeader();null!==D&&a.setRequestHeader("Content-Type",D)}if(e.responseType){const D=e.responseType.toLowerCase();a.responseType="json"!==D?D:"text"}const l=e.serializeBody();let c=null;const u=()=>{if(null!==c)return c;const D=a.statusText||"OK",k=new Ro(a.getAllResponseHeaders()),O=function fX(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(a)||e.url;return c=new lC({headers:k,status:a.status,statusText:D,url:O}),c},f=()=>{let{headers:D,status:k,statusText:O,url:I}=u(),x=null;k!==Zp.NoContent&&(x=typeof a.response>"u"?a.responseText:a.response),0===k&&(k=x?Zp.Ok:0);let P=k>=200&&k<300;if("json"===e.responseType&&"string"==typeof x){const L=x;x=x.replace(pX,"");try{x=""!==x?JSON.parse(x):null}catch(H){x=L,P&&(P=!1,x={error:H,text:x})}}P?(r.next(new Sd({body:x,headers:D,status:k,statusText:O,url:I||void 0})),r.complete()):r.error(new Qp({error:x,headers:D,status:k,statusText:O,url:I||void 0}))},_=D=>{const{url:k}=u(),O=new Qp({error:D,status:a.status||0,statusText:a.statusText||"Unknown Error",url:k||void 0});r.error(O)};let S=!1;const v=D=>{S||(r.next(u()),S=!0);let k={type:wr.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(k.total=D.total),"text"===e.responseType&&a.responseText&&(k.partialText=a.responseText),r.next(k)},b=D=>{let k={type:wr.UploadProgress,loaded:D.loaded};D.lengthComputable&&(k.total=D.total),r.next(k)};return a.addEventListener("load",f),a.addEventListener("error",_),a.addEventListener("timeout",_),a.addEventListener("abort",_),e.reportProgress&&(a.addEventListener("progress",v),null!==l&&a.upload&&a.upload.addEventListener("progress",b)),a.send(l),r.next({type:wr.Sent}),()=>{a.removeEventListener("error",_),a.removeEventListener("abort",_),a.removeEventListener("load",f),a.removeEventListener("timeout",_),e.reportProgress&&(a.removeEventListener("progress",v),null!==l&&a.upload&&a.upload.removeEventListener("progress",b)),a.readyState!==a.DONE&&a.abort()}})))}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(BO))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();const tD=new s.nKC(""),_X=new s.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),nD=new s.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class iD{}let SX=(()=>{class i{constructor(e,t,o){this.doc=e,this.platform=t,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Vg(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(de),s.KVO(s.Agw),s.KVO(_X))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();function vX(i,n){const e=i.url.toLowerCase();if(!(0,s.WQX)(tD)||"GET"===i.method||"HEAD"===i.method||e.startsWith("http://")||e.startsWith("https://"))return n(i);const t=(0,s.WQX)(iD).getToken(),o=(0,s.WQX)(nD);return null!=t&&!i.headers.has(o)&&(i=i.clone({headers:i.headers.set(o,t)})),n(i)}var ef=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(ef||{});function CX(...i){const n=[Yo,b3,C3,{provide:Jp,useExisting:C3},{provide:Hs,useExisting:b3},{provide:dC,useValue:vX,multi:!0},{provide:tD,useValue:!0},{provide:iD,useClass:SX}];for(const e of i)n.push(...e.\u0275providers);return(0,s.EmA)(n)}const YL=new s.nKC("");function bX(){return function Jm(i,n){return{\u0275kind:i,\u0275providers:n}}(ef.LegacyInterceptors,[{provide:YL,useFactory:v3},{provide:dC,useExisting:YL,multi:!0}])}let EX=(()=>{class i{static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275mod=s.$C({type:i});static#n=this.\u0275inj=s.G2t({providers:[CX(bX())]})}return i})(),Ll=(()=>{class i{constructor(){this._baseKey="lacos_"}get(e,t){e=this._formatKey(e);const o=this._getStorage(t).getItem(e);return null==o?null:JSON.parse(o)}save(e,t,o){t=this._formatKey(t);const r=JSON.stringify(e);this._getStorage(o).setItem(t,r)}delete(e,t){e=this._formatKey(e),this._getStorage(t).removeItem(e)}_getStorage(e){return e?sessionStorage:localStorage}_formatKey(e){return this._baseKey+e}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})(),ro=(()=>{class i{constructor(e){this._storage=e,this._userChanged=new Ke.B,this._userKey="currentUser",this._currentUser=null,this.userChanged=this._userChanged.asObservable()}getUser(){if(this._currentUser)return this._currentUser;const e=this._storage.get(this._userKey,!1);return e&&(this._currentUser=$p.build(e)),this._currentUser}setUser(e){return this._removeUser(),e=$p.build(e),this._storage.save(e,this._userKey,!1),this._currentUser=e,this._userChanged.next(this._currentUser),this._currentUser}removeUser(){this._removeUser(),this._userChanged.next(null)}hasUser(){return!!this._storage.get(this._userKey,!1)}_removeUser(){this._storage.delete(this._userKey,!1),this._currentUser=null}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Ll))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})(),el=(()=>{class i{constructor(e,t){this._http=e,this._userService=t,this._baseUrl=`${fn.baseApiUrl}/security`}login(e){return this._http.post(`${this._baseUrl}/login`,e).pipe((0,V.T)(t=>this._userService.setUser(t)))}logout(){return this._http.post(`${this._baseUrl}/logout`,null).pipe((0,V.T)(()=>this._userService.removeUser()))}isAuthenticated(){const e=this._userService.getUser();return!!e&&e.enabled}isAuthorized(...e){if(!this.isAuthenticated())return!1;const t=this._userService.getUser();return e&&e.length&&e.indexOf(t.role)>=0||!e||!e.length}refreshUserData(){return this._http.get(`${this._baseUrl}/users/current`).pipe((0,V.T)(e=>this._userService.setUser(e)))}changePassword(e){return this._http.post(`${this._baseUrl}/users/current/changepassword`,e).pipe((0,V.T)(t=>this._userService.setUser(t)))}readUsers(e){const t=_d(e),o=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/users?${t}`).pipe((0,V.T)(r=>({data:o?Ra(r.data):r.data,total:r.total})))}createUser(e){return this._http.post(`${this._baseUrl}/users`,e).pipe((0,V.T)(t=>$p.build(t)))}updateUser(e,t){return this._http.put(`${this._baseUrl}/users/${t}`,e).pipe((0,V.T)(()=>{}))}getUser(e){return this._http.get(`${this._baseUrl}/users/${e}`).pipe((0,V.T)(t=>$p.build(t)))}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Yo),s.KVO(ro))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();function H1(i,n){return()=>n.hasUser()&&i.refreshUserData().toPromise()}let js=(()=>{class i{static#e=this.asInjectableGuard=(e,t)=>(0,s.WQX)(i).canActivate(e,t);constructor(e,t){this._security=e,this._router=t}canActivate(e,t){if(!this._security.isAuthenticated())return this._router.navigate(["/login"]),!1;const o=`/${e.url.join("/")}`;switch(!0){case"/"===o:case"/home"===o:case/^\/activities\/([0-9]{1,}?)$/gi.test(o):case"/interventions"===o:case"/interventions-list"===o:case"/tickets"===o:case"/orders"===o:case"/activities"===o:case"/users"===o:case"/customers"===o:case"/suppliers"===o:case"/operators"===o:case"/vehicles"===o:case"/checklist"===o:case"/products"===o:case"/activitytypes"===o:case"/producttypes"===o:case"/jobs"===o:case"/jobs-completed"===o:case"/purchase-orders"===o:return this._security.isAuthenticated();default:throw new Error(`Url ${o} sconosciuto`)}}static#t=this.\u0275fac=function(t){return new(t||i)(s.KVO(el),s.KVO(Ns))};static#n=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})(),Tn=(()=>{class i{constructor(){this._subscriptions=[],this.console=window.console}ngOnDestroy(){this._subscriptions.forEach(e=>e.unsubscribe())}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275dir=s.FsC({type:i})}return i})();function Bt(...i){const n=M2(i),e=function uj(i,n){return"number"==typeof T2(i)?i.pop():n}(i,1/0),t=i;return t.length?1===t.length?Wo(t[0]):_1(e)(Zi(t,n)):Dr}var T3=_e(707);function mC(i={}){const{connector:n=(()=>new Ke.B),resetOnError:e=!0,resetOnComplete:t=!0,resetOnRefCountZero:o=!0}=i;return r=>{let a,l,c,u=0,f=!1,_=!1;const S=()=>{l?.unsubscribe(),l=void 0},v=()=>{S(),a=c=void 0,f=_=!1},b=()=>{const D=a;v(),D?.unsubscribe()};return(0,Ri.N)((D,k)=>{u++,!_&&!f&&S();const O=c=c??n();k.add(()=>{u--,0===u&&!_&&!f&&(l=sD(b,o))}),O.subscribe(k),!a&&u>0&&(a=new T3.Ms({next:I=>O.next(I),error:I=>{_=!0,S(),l=sD(v,e,I),O.error(I)},complete:()=>{f=!0,S(),l=sD(v,t),O.complete()}}),Wo(D).subscribe(a))})(r)}}function sD(i,n,...e){if(!0===n)return void i();if(!1===n)return;const t=new T3.Ms({next:()=>{t.unsubscribe(),i()}});return Wo(n(...e)).subscribe(t)}function M3(i){return X((n,e)=>i<=e)}let Cu=(()=>{class i{constructor(){this.changes=new An.t({rtl:void 0})}notify(e){this.changes.next({rtl:e})}get(e){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),yi=(()=>{class i{get override(){return!1}ngOnChanges(e){this.register(e),Object.keys(e).some(t=>!e[t].isFirstChange())&&this.service.notifyChanges()}ngOnInit(){this.subscription=this.service.changes.pipe(M3(1)).subscribe(()=>this.register(this))}register(e){Object.keys(e).forEach(o=>this.service.register(o,this[o],this.override))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.FsC({type:i,features:[s.OA$]}),i})();const kc=new s.nKC("Kendo UI Right-to-Left token"),He=new s.nKC("Localization key prefix");let z=(()=>{class i{constructor(e,t,o){this.prefix=e,this.messageService=t,this._rtl=o,this.changes=new An.t({rtl:this._rtl}),this.dictionary={},t&&(this.subscription=t.changes.pipe((0,V.T)(({rtl:r})=>void 0!==r?r:this._rtl),F(r=>this._rtl=r)).subscribe(r=>{this.dictionary={},this.changes.next({rtl:r})}))}get rtl(){return this._rtl}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}get(e){const t=this.key(e);return this.dictionary[t]}register(e,t,o=!1){const r=this.key(e);let a=t;if(!o){if(Object.hasOwnProperty.call(this.dictionary,r))return;a=this.defaultValue(r,t)}this.dictionary[r]=a}notifyChanges(){this.changes.next({rtl:this.rtl})}key(e){return this.prefix+"."+e}defaultValue(e,t){if(!this.messageService)return t;const o=this.messageService.get(e);return void 0===o?t:o}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(He),s.KVO(Cu,8),s.KVO(kc,8))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const bu={name:"caret-alt-up",content:'<path d="m256 160 128 192H128z" />',viewBox:"0 0 512 512"},Jo={name:"caret-alt-right",content:'<path d="M352 256 160 384V128z" />',viewBox:"0 0 512 512"},qo={name:"caret-alt-down",content:'<path d="M256 352 128 160h256z" />',viewBox:"0 0 512 512"},tl={name:"caret-alt-left",content:'<path d="m160 256 192-128v256z" />',viewBox:"0 0 512 512"},oue={name:"caret-alt-to-right",content:'<path d="m128 128 192 128-192 128zm224 256V128h-32v256z" />',viewBox:"0 0 512 512"},DX={name:"caret-alt-to-left",content:'<path d="M352 384 160 256l192-128zM128 128v256h32V128z" />',viewBox:"0 0 512 512"},ZL={name:"caret-alt-expand",content:'<path d="M128 288h256L256 480zM256 32 128 224h256.001z" />',viewBox:"0 0 512 512"},R3={name:"chevron-up",content:'<path d="m129.941 353.941 126.06-126.06 126.061 126.06L416 320 256.001 160 96 320z" />',viewBox:"0 0 512 512"},eP={name:"chevron-right",content:'<path d="m158.059 129.941 126.06 126.06-126.06 126.061L192 416l160-159.999L192 96z" />',viewBox:"0 0 512 512"},A3={name:"chevron-down",content:'<path d="m382.059 158.059-126.06 126.06-126.061-126.06L96 192l159.999 160L416 192z" />',viewBox:"0 0 512 512"},x3={name:"chevron-left",content:'<path d="m353.941 382.059-126.06-126.06 126.06-126.061L320 96 160 255.999 320 416z" />',viewBox:"0 0 512 512"},kX={name:"arrow-right",content:'<path d="M224 384v-96H96v-64h128v-96l192 128z" />',viewBox:"0 0 512 512"},tP={name:"arrow-left",content:'<path d="M288 128v96h128v64l-128 .001V384L96 256.001z" />',viewBox:"0 0 512 512"},N3={name:"columns",content:'<path d="M64 32h96v448H64zm128 448h96V32h-96zM320 32v448h96V32z" />',viewBox:"0 0 512 512"},gC={name:"reorder",content:'<path d="M480 128v64H32v-64zM32 224v64h448v-64zm448 96H32v64h448z" />',viewBox:"0 0 512 512"},oD={name:"more-vertical",content:'<path d="M240 128c26.4 0 48-21.6 48-48s-21.6-48-48-48-48 21.6-48 48 21.6 48 48 48m0 64c-26.4 0-48 21.6-48 48s21.6 48 48 48 48-21.6 48-48-21.6-48-48-48m0 160c-26.4 0-48 21.6-48 48s21.6 48 48 48 48-21.6 48-48-21.6-48-48-48" />',viewBox:"0 0 512 512"},RX={name:"more-horizontal",content:'<path d="M128 240c0-26.4-21.6-48-48-48s-48 21.6-48 48 21.6 48 48 48 48-21.6 48-48m64 0c0 26.4 21.6 48 48 48s48-21.6 48-48-21.6-48-48-48-48 21.6-48 48m160 0c0 26.4 21.6 48 48 48s48-21.6 48-48-21.6-48-48-48-48 21.6-48 48" />',viewBox:"0 0 512 512"},FX={name:"display-inline-flex",content:'<path d="M96 416h320V96H96zm32-288h256v256H128zm32 32h64v192h-64zm128 0h64v192h-64zM32 32h32v448H32zm416 0h32v448h-32z" />',viewBox:"0 0 512 512"},BX={name:"droplet-slider",content:'<path d="M192 384v32c-53 0-96-43-96-96h32c0 35.3 28.7 64 64 64m160-72c0 92.8-71.6 168-160 168S32 404.8 32 312C32 181.3 192 32 192 32s160 149.3 160 280m-32 0c0-46.3-25.3-104.7-73-169-20-27-40.3-49.8-55-65.4-14.7 15.6-34.9 38.5-55 65.4-47.8 64.3-73 122.8-73 169 0 75 57.4 136 128 136s128-61 128-136m128-88h-32v256h32zm0-192h-32v64h32zm-64 96v64h96v-64z" />',viewBox:"0 0 512 512"},zX={name:"max-width",content:'<path d="M0 96v288h32V96zm479 0v143.4L352 160v64H160v-64L32 240l128 80v-64h192v64l127-79.4V384h32V96z" />',viewBox:"0 0 512 512"},H3={name:"arrow-rotate-cw",content:'<path d="M480 288c0 123.7-100.3 224-224 224S32 411.7 32 288 132.3 64 256 64V0l160 96-160 96v-64c-88.2 0-160 71.8-160 160s71.8 160 160 160 160-71.8 160-160c0-29.1-7.8-56.4-21.5-80l55.5-32c19.1 32.9 30 71.2 30 112" />',viewBox:"0 0 512 512"},Qm={name:"arrows-no-repeat",content:'<path d="m321 434.2 47.5 47.5C335.5 501 297 512 256 512 132.3 512 32 411.7 32 288c0-41 11-79.5 30.3-112.6l47.5 47.5c-8.9 19.9-13.8 41.9-13.8 65 0 88.2 71.8 160 160 160 23.1.1 45.2-4.8 65-13.7m118.3-17.5c12.9-18.3 23.1-38.7 30.1-60.4 6.9-21.5 10.6-44.5 10.6-68.3 0-40.8-10.9-79.1-30-112l-55.5 32c13.6 23.5 21.5 50.9 21.5 80 0 4.8-.2 9.5-.6 14.2-2.2 24.8-10.1 47.9-22.3 68.2L173.6 150.9c20.3-12.2 43.4-20.1 68.2-22.3 4.7-.4 9.4-.6 14.2-.6v64l160-96L256 0v64c-23.8 0-46.7 3.7-68.3 10.6-21.8 7-42.1 17.2-60.4 30.1L22.6 0 0 22.6 489.4 512l22.6-22.6z" />',viewBox:"0 0 512 512"},eW={name:"arrow-rotate-cw-small",content:'<path d="M416 280c0 88.4-71.6 160-160 160S96 368.4 96 280s71.6-160 160-160V64l128 80-128 80v-56c-61.8 0-112 50.2-112 112s50.2 112 112 112 112-50.2 112-112c0-10-1.3-19.7-3.8-29l46.4-12.4c3.5 13.2 5.4 27.1 5.4 41.4" />',viewBox:"0 0 512 512"},j3={name:"clock",content:'<path d="M256 128h-32v160h160v-32H256zm0-96C132.3 32 32 132.3 32 256s100.3 224 224 224 224-100.3 224-224S379.7 32 256 32m0 416c-105.9 0-192-86.1-192-192S150.1 64 256 64s192 86.1 192 192-86.1 192-192 192" />',viewBox:"0 0 512 512"},lD={name:"calendar",content:'<path d="M416 416H288V288h128zm64-352v384c0 17.6-14.4 32-32 32H64c-17.6 0-32-14.4-32-32V64c0-17.6 14.4-32 32-32h64V0h64v32h128V0h64v32h64c17.6 0 32 14.4 32 32m-32 128H64v255.9l.1.1 383.9-.1zm0-127.9c-.1-.1-.1-.1 0 0l-64-.1v32h-64V64H192v32h-64V64H64.1l-.1.1V160h384z" />',viewBox:"0 0 512 512"},bC={name:"save",content:'<path d="M384 32H64c-17.6 0-32 14.4-32 32v384c0 17.6 14.4 32 32 32h384c17.6 0 32-14.4 32-32V128zm-64 32v128h-64V64zm128 384-383.9.1-.1-.1V64.1l.1-.1H96v160h256V64h18.7l77.3 77.3z" />',viewBox:"0 0 512 512"},vP={name:"lock",content:'<path d="M384 224h-32v-96c0-53-43-96-96-96s-96 43-96 96v96h-32c-17.6 0-32 14.4-32 32v192c0 17.6 14.4 32 32 32h256c17.6 0 32-14.4 32-32V256c0-17.6-14.4-32-32-32m-192-96c0-35.3 28.7-64 64-64s64 28.7 64 64v96H192zm64 256c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32" />',viewBox:"0 0 512 512"},rW={name:"unlock",content:'<path d="M416 224H224v-96c0-53-43-96-96-96s-96 43-96 96v128h32V128c0-35.3 28.7-64 64-64s64 28.7 64 64v96h-32c-17.6 0-32 14.4-32 32v192c0 17.6 14.4 32 32 32h256c17.6 0 32-14.4 32-32V256c0-17.6-14.4-32-32-32M288 384c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32" />',viewBox:"0 0 512 512"},cD={name:"cancel",content:'<path d="M256 32c-50.3 0-96.8 16.6-134.1 44.6-17.2 12.8-32.4 28.1-45.3 45.3C48.6 159.2 32 205.7 32 256c0 123.7 100.3 224 224 224 50.3 0 96.8-16.6 134.1-44.6 17.2-12.8 32.4-28.1 45.3-45.3 28-37.4 44.6-83.8 44.6-134.1 0-123.7-100.3-224-224-224m0 384c-88.2 0-160-71.8-160-160 0-32.6 9.8-62.9 26.6-88.2l221.6 221.6C318.9 406.2 288.6 416 256 416m133.4-71.8L167.8 122.6C193.1 105.8 223.4 96 256 96c88.2 0 160 71.8 160 160 0 32.6-9.8 62.9-26.6 88.2" />',viewBox:"0 0 512 512"},ahe={name:"cancel-outline",content:'<path d="M256 32c-56.1 0-107.4 20.6-146.7 54.7-8.1 7-15.6 14.6-22.6 22.6C52.6 148.6 32 199.9 32 256c0 123.7 100.3 224 224 224 56.1 0 107.4-20.6 146.7-54.7 8.1-7 15.6-14.6 22.6-22.6C459.4 363.4 480 312.1 480 256c0-123.7-100.3-224-224-224m0 416c-106 0-192-86-192-192 0-47.2 17.1-90.5 45.4-124L380 402.6c-33.5 28.3-76.8 45.4-124 45.4m146.6-68L132 109.4C165.5 81.1 208.8 64 256 64c106 0 192 86 192 192 0 47.2-17.1 90.5-45.4 124" />',viewBox:"0 0 512 512"},EC={name:"check",content:'<path d="M434.7 82.7 480 128 192 416 32 256l45.3-45.3L192 325.5z" />',viewBox:"0 0 512 512"},dD={name:"check-outline",content:'<path d="M256 32C132.3 32 32 132.3 32 256s100.3 224 224 224 224-100.3 224-224S379.7 32 256 32m0 416c-106 0-192-86-192-192S150 64 256 64s192 86 192 192-86 192-192 192m-32-154-83-83-45 45 128 128 176-176-45-45z" />',viewBox:"0 0 512 512"},go={name:"x",content:'<path d="M416 141.3 301.3 256 416 370.7 370.7 416 256 301.3 141.3 416 96 370.7 210.7 256 96 141.3 141.3 96 256 210.7 370.7 96z" />',viewBox:"0 0 512 512"},CP={name:"x-outline",content:'<path d="M384 338.7 338.7 384 256 301.3 173.3 384 128 338.7l82.7-82.7-82.7-82.7 45.3-45.3 82.7 82.7 82.7-82.7 45.3 45.3-82.7 82.7zM256 32C132.3 32 32 132.3 32 256s100.3 224 224 224 224-100.3 224-224S379.7 32 256 32m0 416c-106 0-192-86-192-192S150 64 256 64s192 86 192 192-86 192-192 192" />',viewBox:"0 0 512 512"},nf={name:"x-circle",content:'<path d="M256 32C132.3 32 32 132.3 32 256s100.3 224 224 224 224-100.3 224-224S379.7 32 256 32m128 306.7L338.7 384 256 301.3 173.3 384 128 338.7l82.7-82.7-82.7-82.7 45.3-45.3 82.7 82.7 82.7-82.7 45.3 45.3-82.7 82.7z" />',viewBox:"0 0 512 512"},uD={name:"plus",content:'<path d="M288 224V96h-64v128H96v64h128v128h64V288h128v-64z" />',viewBox:"0 0 512 512"},lW={name:"minus",content:'<path d="M96 224v64h320v-64z" />',viewBox:"0 0 512 512"},Zm={name:"sort-asc-small",content:'<path d="M256 192v224h-32V192h-96L240 64l112 128z" />',viewBox:"0 0 512 512"},$3={name:"sort-desc-small",content:'<path d="M352 288 240 416 128 288h96V64h32v224z" />',viewBox:"0 0 512 512"},yC={name:"filter",content:'<path d="M64 64v32l160 160v224l64-64V256L448 96V64z" />',viewBox:"0 0 512 512"},dW={name:"filter-clear",content:'<path d="m143.5 64 168.2 168.2L288 256v160l-64 64V256L64 96V64zm236.1 100.4L448 96V64H279.3l-64-64L192 22l298 298 22-23.3z" />',viewBox:"0 0 512 512"},EP={name:"upload",content:'<path d="M32 384v96h448v-96zm192-64h64V192h96L256 32 128 192h96z" />',viewBox:"0 0 512 512"},_W={name:"window",content:'<path d="M96 96v320h320V96zm288 288H128V192h256z" />',viewBox:"0 0 512 512"},DP={name:"window-restore",content:'<path d="M448 32v288h-32V128H160V32zM64 192h288v288H64zm32 256h224V288H96z" />',viewBox:"0 0 512 512"},gW={name:"window-minimize",content:'<path d="M416 288v64H96v-64z" />',viewBox:"0 0 512 512"},hD={name:"search",content:'<path d="M365.3 320h-22.7l-26.7-26.7C338.5 265.7 352 230.4 352 192c0-88.4-71.6-160-160-160S32 103.6 32 192s71.6 160 160 160c38.4 0 73.7-13.5 101.3-36.1l26.7 26.7v22.7L434.7 480l45.3-45.3zM64 192c0-70.7 57.3-128 128-128s128 57.3 128 128-57.3 128-128 128S64 262.7 64 192" />',viewBox:"0 0 512 512"},MP={name:"stick",content:'<path d="M192 96c0-17.7-14.3-32-32-32H96c-17.7 0-32 14.3-32 32v32h128zm128 160c0 35.3-28.7 64-64 64s-64-28.7-64-64v-96H64v96c0 106 86 192 192 192s192-86 192-192v-96H320zm96-192h-64c-17.7 0-32 14.3-32 32v32h128V96c0-17.7-14.3-32-32-32" />',viewBox:"0 0 512 512"},IP={name:"unstick",content:'<path d="M290.6 131.4c12.4-12.4 12.4-32.6 0-45l-45-45c-12.4-12.4-32.6-12.4-45 0L178 63.8l90.1 90zM268.1 334c-24.9 24.9-65.2 24.9-90.1 0s-24.9-65.2 0-90.1l67.5-67.5-90-90.1L88 153.9C13.4 228.5 13.4 349.4 88 424s195.5 74.6 270.1 0l67.5-67.5-90-90.1zm202.6-67.5-45-45c-12.4-12.4-32.6-12.4-45 0L358.2 244l90 90 22.5-22.5c12.4-12.4 12.4-32.6 0-45" />',viewBox:"0 0 512 512"},RP={name:"set-column-position",content:'<path d="M448 32H64c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h384c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32M192 416H96V96h96zm224 0H224v-32h192zm0-64H224v-64h192zm0-96H224v-64h192zm0-96H224V96h192z" />',viewBox:"0 0 512 512"},UW={name:"play-sm",content:'<path d="M96 416V96l320 160z" />',viewBox:"0 0 512 512"},AP={name:"pause-sm",content:'<path d="M288 96h96v320h-96zM96 416h96V96H96z" />',viewBox:"0 0 512 512"},LP={name:"info-circle",content:'<path d="M288 352h32v32H192v-32h32v-96h-32v-32h96zm0-224h-64v64h64zm192 128c0 123.7-100.3 224-224 224S32 379.7 32 256 132.3 32 256 32s224 100.3 224 224m-32 0c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192" />',viewBox:"0 0 512 512"},pD={name:"exclamation-circle",content:'<path d="M224 128h64v160h-64zm0 256h64v-64h-64zm256-128c0 123.7-100.3 224-224 224S32 379.7 32 256 132.3 32 256 32s224 100.3 224 224m-32 0c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192" />',viewBox:"0 0 512 512"},K3={name:"palette",content:'<path d="m206 256.6 160-160c-2.2-5.7-4.8-11.1-7.9-16.3-24.2-40.8-60.1-66-107.8-75.9-2.3-.5-4.7-1-7.1-1.4C192-5.8 143.1 4.8 96.5 34.6 49.3 64.7 19.2 107.2 6.1 162c-13 54.8-5.2 106.4 23.4 154.6 14.2 23.8 31.3 43.2 51.4 58.4 3.8-25.2 13.4-52 36.4-75 31.3-31.4 64-41.3 88.7-43.4M288 64c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32m-96-32c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32M64 256c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32m0-128c0-17.7 14.3-32 32-32s32 14.3 32 32-14.3 32-32 32-32-14.3-32-32m438.7 12.9L480 118.3c-12.4-12.4-32.8-12.4-45.3 0L281.1 271.9c11.5 5.8 20.8 12.2 27.7 17.6 5.3 4.2 9.2 7.7 11.3 9.8l11.3 12.7c5.4 6.8 11.8 16.2 17.6 27.6l153.5-153.5c12.6-12.4 12.6-32.8.2-45.2M354.3 289.3c-4.8-5.8-8.6-9.9-10.6-11.9-2.3-2.3-6.3-6.1-12-10.7L457.4 141h.1l22.5 22.5zm-78.7 169c-23.8 23.7-48.4 33-70.7 37.7-49.6 10.4-96 16-96 16s34.7-17.3 33.9-77c-.4-32.7-3.7-66.4 19.7-89.8 56.6-56.7 113.3.2 113.3.2s56.7 56-.2 112.9" />',viewBox:"0 0 512 512"},tK={name:"sliders",content:'<path d="M480 96v32H285.3c-6.6 18.6-24.4 32-45.3 32s-38.7-13.4-45.3-32H32V96h162.7c6.6-18.6 24.4-32 45.3-32s38.7 13.4 45.3 32zm-112 96c-20.9 0-38.7 13.4-45.3 32H32v32h290.7c6.6 18.6 24.4 32 45.3 32s38.7-13.4 45.3-32H480v-32h-66.7c-6.6-18.6-24.4-32-45.3-32M176 320c-20.9 0-38.7 13.4-45.3 32H32v32h98.7c6.6 18.6 24.4 32 45.3 32s38.7-13.4 45.3-32H480v-32H221.3c-6.6-18.6-24.4-32-45.3-32" />',viewBox:"0 0 512 512"},q3={name:"droplet-slash",content:'<path d="m317.9 431 23.2 23.2C316.5 470.6 287.3 480 256 480c-88.4 0-160-75.2-160-168 0-27.8 7.2-56.4 18.6-84.2l24.8 24.8C131.9 274 128 293.9 128 312c0 75 57.4 136 128 136 22.4 0 43.5-6.2 61.9-17M256 416v-32c-35.3 0-64-28.7-64-64h-32c0 53 43 96 96 96m224 41.4L457.4 480 32 54.6 54.6 32l108.7 108.7C207 77.7 256 32 256 32s160 149.3 160 280c0 24.1-4.9 47.1-13.6 67.8zM384 312c0-46.3-25.3-104.7-73-169-20-27-40.3-49.8-55-65.4-14.7 15.6-34.9 38.5-55 65.4-1.4 1.9-2.7 3.7-4.1 5.6-.8 1.1-1.5 2.1-2.3 3.2l-1.5 2.1-3 4.2c-.2.3-.4.5-.6.8-1 1.5-2.1 3-3.1 4.5-.1.1-.1.2-.2.3l191.2 191.2c.5-1.6 1-3.3 1.4-4.9 0-.2.1-.4.1-.5.4-1.5.8-2.9 1.1-4.4.1-.3.1-.6.2-.9.3-1.4.6-2.7.9-4.1.1-.4.2-.8.2-1.2.2-1.3.5-2.6.7-3.9.1-.5.2-1 .2-1.5.2-1.2.3-2.5.5-3.7.1-.5.1-1.1.2-1.6l.3-3.6c0-.6.1-1.1.1-1.7.1-1.3.2-2.5.2-3.8 0-.5.1-1 .1-1.6.4-1.9.4-3.7.4-5.5" />',viewBox:"0 0 512 512"},qP={name:"insert-middle",content:'<path d="M192 128h192v32H192zm0 128h288v-32H192zm192 64H192v32h192zM32 128v224l96-112z" />',viewBox:"0 0 512 512"},Ype={name:"copy",content:'<path d="M384 96H192c-17.7 0-32 14.3-32 32v320c0 17.7 14.3 32 32 32h256c17.7 0 32-14.3 32-32V192zm64 352H192V128h160v96h96zM64 384h64v32H64c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32h192l32 32H64z" />',viewBox:"0 0 512 512"},iY={name:"apply-format",content:'<path d="M380.984 313.69c12.445 12.445 12.445 32.81 0 45.255L266.529 470.658c-12.445 12.445-32.787 12.467-45.255 0L0 248.898c18.584 18.584 40.255-4.835 40.255-4.835L154.71 132.671c12.445-12.445 32.81-12.445 45.255 0zm89.682-227.101-45.255-45.255c-12.445-12.445-32.81-12.445-45.255 0l-67.882 67.882-22.627-22.627c-12.445-12.445-32.81-12.445-45.255 0l-22.627 22.627 181.019 181.019 22.627-22.627c12.445-12.445 12.445-32.81 0-45.255l-22.627-22.627 67.882-67.882c12.445-12.446 12.445-32.81 0-45.255" />',viewBox:"0 0 512 512"},Nfe={name:"file",content:'<path d="M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96z" />',viewBox:"0 0 512 512"},CG={name:"file-image",content:'<path d="M298.7 385.2S272.2 288 213.1 288s-85 128-85 128h256s-11.9-78.7-42.7-78.7-42.7 47.9-42.7 47.9M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96zM288 256c0 17.7 14.3 32 32 32s32-14.3 32-32-14.3-32-32-32-32 14.3-32 32" />',viewBox:"0 0 512 512"},cBe=["addListener","removeListener"],dBe=["addEventListener","removeEventListener"],uBe=["on","off"];function Dt(i,n,e,t){if((0,zs.T)(e)&&(t=e,e=void 0),t)return Dt(i,n,e).pipe(hd(t));const[o,r]=function fBe(i){return(0,zs.T)(i.addEventListener)&&(0,zs.T)(i.removeEventListener)}(i)?dBe.map(a=>l=>i[a](n,l,e)):function hBe(i){return(0,zs.T)(i.addListener)&&(0,zs.T)(i.removeListener)}(i)?cBe.map(ame(i,n)):function pBe(i){return(0,zs.T)(i.on)&&(0,zs.T)(i.off)}(i)?uBe.map(ame(i,n)):[];if(!o&&xp(i))return ar(a=>Dt(a,n,e))(Wo(i));if(!o)throw new TypeError("Invalid event target");return new Qi.c(a=>{const l=(...c)=>a.next(1<c.length?c:c[0]);return o(l),()=>r(l)})}function ame(i,n){return e=>t=>i[e](n,t)}const lme=()=>typeof window<"u",$Y={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)(\.(\d+(\.\d+)?))?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},mBe={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},XY={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},_Be={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},cme=(i,n,e)=>{for(let t in n)if(n.hasOwnProperty(t)&&n[t].test(i))return t;return void 0!==e?e:i},bG=i=>{let n,e=[];for(let t in $Y)if($Y.hasOwnProperty(t)){if(e=i.match($Y[t]),!e)continue;if("windows"===t&&"plugins"in window.navigator)return null;const o={};return o.device=t,o.browser=cme(i,_Be,"default"),o.name=cme(t,mBe),o[o.name]=!0,o.majorVersion=e[2],o.minorVersion=e[3]?e[3].replace("_","."):".0",n=o.minorVersion.replace(".","").substr(0,2),o.flatVersion=o.majorVersion+n+new Array(3-(n.length<3?n.length:2)).join("0"),o.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,o.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||o.cordova,o}return null},WY=i=>{let n=null,e=[];for(let t in XY)if(XY.hasOwnProperty(t)&&(e=i.match(XY[t]),e)){n={},n[t]=!0,n[e[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,n.version=parseInt(document.documentMode||e[2],10);break}return n},EG=lme()&&window.navigator?window.navigator.userAgent:null,CD=EG?WY(EG):null,dme=EG?bG(EG):null,gBe=lme()&&"ontouchstart"in window,SBe=CD&&!CD.chrome&&window.MSPointerEvent,ume=CD&&!CD.chrome&&window.PointerEvent,uI=dme&&(gBe||SBe||ume),vBe=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;const hI={};function lr(i){if(hI[i])return hI[i];const n=function hme(i){const n=[];return i.replace(vBe,function(e,t,o,r){n.push(void 0!==t?t:o||r)}),n}(i);return hI[i]=function(e){let t=e;for(let o=0;o<n.length&&t;o++)t=t[n[o]];return t},hI[i]}hI.undefined=i=>i;const bD=(i,n)=>e=>n(i(e)),Oh=(i,n,e)=>i.addEventListener&&i.addEventListener(n,e),Ul=(i,n,e)=>i&&i.removeEventListener&&i.removeEventListener(n,e),ED=()=>{},YY=i=>i.preventDefault(),bBe=/touch/;function yD(i){return i.type.match(bBe)?{pageX:i.changedTouches[0].pageX,pageY:i.changedTouches[0].pageY,clientX:i.changedTouches[0].clientX,clientY:i.changedTouches[0].clientY,type:i.type,originalEvent:i,isTouch:!0}:{pageX:i.pageX,pageY:i.pageY,clientX:i.clientX,clientY:i.clientY,offsetX:i.offsetX,offsetY:i.offsetY,type:i.type,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,altKey:i.altKey,originalEvent:i}}let yG=(()=>{class i{static supportPointerEvent(){return typeof window<"u"&&window.PointerEvent}get document(){return this._element?this._element.ownerDocument:document}constructor({press:e=ED,drag:t=ED,release:o=ED,mouseOnly:r=!1}){this._pressHandler=bD(yD,e),this._dragHandler=bD(yD,t),this._releaseHandler=bD(yD,o),this._ignoreMouse=!1,this._mouseOnly=r,this._touchstart=a=>{1===a.touches.length&&this._pressHandler(a)},this._touchmove=a=>{1===a.touches.length&&this._dragHandler(a)},this._touchend=a=>{0===a.touches.length&&1===a.changedTouches.length&&(this._releaseHandler(a),this._ignoreMouse=!0,setTimeout(this._restoreMouse,2e3))},this._restoreMouse=()=>{this._ignoreMouse=!1},this._mousedown=a=>{const{which:l}=a;l&&l>1||this._ignoreMouse||(Oh(this.document,"mousemove",this._mousemove),Oh(this.document,"mouseup",this._mouseup),this._pressHandler(a))},this._mousemove=a=>{this._dragHandler(a)},this._mouseup=a=>{Ul(this.document,"mousemove",this._mousemove),Ul(this.document,"mouseup",this._mouseup),this._releaseHandler(a)},this._pointerdown=a=>{a.isPrimary&&0===a.button&&(Oh(this.document,"pointermove",this._pointermove),Oh(this.document,"pointerup",this._pointerup),Oh(this.document,"pointercancel",this._pointerup),Oh(this.document,"contextmenu",YY),this._pressHandler(a))},this._pointermove=a=>{a.isPrimary&&this._dragHandler(a)},this._pointerup=a=>{a.isPrimary&&(Ul(this.document,"pointermove",this._pointermove),Ul(this.document,"pointerup",this._pointerup),Ul(this.document,"pointercancel",this._pointerup),Ul(this.document,"contextmenu",YY),this._releaseHandler(a))}}bindTo(e){e!==this._element&&(this._element&&this._unbindFromCurrent(),this._element=e,this._bindToCurrent())}_bindToCurrent(){const e=this._element;this._usePointers()?Oh(e,"pointerdown",this._pointerdown):(Oh(e,"mousedown",this._mousedown),this._mouseOnly||(Oh(e,"touchstart",this._touchstart),Oh(e,"touchmove",this._touchmove),Oh(e,"touchend",this._touchend)))}_unbindFromCurrent(){const e=this._element;if(this._usePointers())return Ul(e,"pointerdown",this._pointerdown),Ul(this.document,"pointermove",this._pointermove),Ul(this.document,"pointerup",this._pointerup),Ul(this.document,"contextmenu",YY),void Ul(this.document,"pointercancel",this._pointerup);Ul(e,"mousedown",this._mousedown),this._mouseOnly||(Ul(e,"touchstart",this._touchstart),Ul(e,"touchmove",this._touchmove),Ul(e,"touchend",this._touchend))}_usePointers(){return!this._mouseOnly&&i.supportPointerEvent()}update({press:e=ED,drag:t=ED,release:o=ED,mouseOnly:r=!1}){this._pressHandler=bD(yD,e),this._dragHandler=bD(yD,t),this._releaseHandler=bD(yD,o),this._mouseOnly=r}destroy(){this._unbindFromCurrent(),this._element=null}}return i.default=i,i})();class yBe extends be.yU{constructor(n,e){super()}schedule(n,e=0){return this}}const DG={setInterval(i,n,...e){const{delegate:t}=DG;return t?.setInterval?t.setInterval(i,n,...e):setInterval(i,n,...e)},clearInterval(i){const{delegate:n}=DG;return(n?.clearInterval||clearInterval)(i)},delegate:void 0};var pme=_e(908);class fme extends yBe{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){var t;if(this.closed)return this;this.state=n;const o=this.id,r=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(r,o,e)),this.pending=!0,this.delay=e,this.id=null!==(t=this.id)&&void 0!==t?t:this.requestAsyncId(r,this.id,e),this}requestAsyncId(n,e,t=0){return DG.setInterval(n.flush.bind(n,this),t)}recycleAsyncId(n,e,t=0){if(null!=t&&this.delay===t&&!1===this.pending)return e;null!=e&&DG.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const t=this._execute(n,e);if(t)return t;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let o,t=!1;try{this.work(n)}catch(r){t=!0,o=r||new Error("Scheduled action threw falsy error")}if(t)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:t}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pme.o)(t,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const JY={now:()=>(JY.delegate||Date).now(),delegate:void 0};class fI{constructor(n,e=fI.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,t){return new this.schedulerActionCtor(this,n).schedule(t,e)}}fI.now=JY.now;class mme extends fI{constructor(n,e=fI.now){super(n,e),this.actions=[],this._active=!1}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let t;this._active=!0;do{if(t=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,t){for(;n=e.shift();)n.unsubscribe();throw t}}}const DD=new mme(fme),DBe=DD;function wG(i=0,n,e=DBe){let t=-1;return null!=n&&(O2(n)?e=n:t=n),new Qi.c(o=>{let r=function kBe(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;r<0&&(r=0);let a=0;return e.schedule(function(){o.closed||(o.next(a++),0<=t?this.schedule(void 0,t):o.complete())},r)})}function TC(i,n=DD){return function wBe(i){return(0,Ri.N)((n,e)=>{let t=!1,o=null,r=null,a=!1;const l=()=>{if(r?.unsubscribe(),r=null,t){t=!1;const u=o;o=null,e.next(u)}a&&e.complete()},c=()=>{r=null,a&&e.complete()};n.subscribe((0,Ai._)(e,u=>{t=!0,o=u,r||Wo(i(u)).subscribe(r=(0,Ai._)(e,l,c))},()=>{a=!0,(!t||!r||r.closed)&&e.complete()}))})}(()=>wG(i,n))}const OBe=["banner"],TBe=["kendoWatermarkOverlay",""],MBe=()=>({display:"flex",alignSelf:"center",marginRight:"8px"}),IBe=()=>({display:"flex",alignItems:"center",marginLeft:"24px"}),RBe=()=>({marginRight:"8px",display:"flex"});function ABe(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",2,0)(2,"span",2),s.qSk(),s.j41(3,"svg",3),s.nrm(4,"path",4),s.k0s()(),s.joV(),s.j41(5,"span"),s.EFF(6,"No valid license found for Kendo UI for Angular. Learn how to activate your license."),s.k0s(),s.j41(7,"div",2)(8,"a",5)(9,"button",6),s.qSk(),s.j41(10,"svg",3),s.nrm(11,"path",7),s.k0s()()(),s.joV(),s.j41(12,"button",8),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.closeBanner())}),s.qSk(),s.j41(13,"svg",3),s.nrm(14,"path",9),s.k0s()()()()}if(2&i){const e=s.XpG();s.Y8G("ngStyle",e.bannerStyles),s.R7$(2),s.Y8G("ngStyle",s.lJ4(7,MBe)),s.R7$(5),s.Y8G("ngStyle",s.lJ4(8,IBe)),s.R7$(),s.Y8G("href",e.licenseKeyUrl,s.B4B)("ngStyle",s.lJ4(9,RBe)),s.R7$(),s.Y8G("ngStyle",e.buttonStyles),s.R7$(3),s.Y8G("ngStyle",e.buttonStyles)}}const ne=()=>typeof document<"u",wt=(i,n,e=!0)=>typeof n[i]<"u"&&(!n[i].isFirstChange()||!e)&&n[i].previousValue!==n[i].currentValue,Fi=(i,n,e=!0)=>i.some(t=>wt(t,n,e)),Te=i=>i&&i.observers.length>0,tn=()=>{let i="";for(let n=0;n<32;n++){const e=16*Math.random()|0;(8===n||12===n||16===n||20===n)&&(i+="-"),i+=(12===n?4:16===n?3&e|8:e).toString(16)}return i},kG=i=>WY(i).safari||bG(i)&&"mobilesafari"===bG(i).browser,_me=(i,n,e)=>{for(const t in i)t&&n.setAttribute(e,t,i[t])};let vd=(()=>{class i{constructor(e,t){this.element=e,this.ngZone=t,this.enableDrag=!0,this.kendoPress=new s.bkB,this.kendoDrag=new s.bkB,this.kendoRelease=new s.bkB}ngOnInit(){this.toggleDraggable()}ngOnChanges(e){wt("enableDrag",e)&&this.toggleDraggable()}ngOnDestroy(){this.destroyDraggable()}toggleDraggable(){ne()&&(this.destroyDraggable(),this.enableDrag&&(this.draggable=new yG({drag:e=>this.kendoDrag.next(e),press:e=>this.kendoPress.next(e),release:e=>this.kendoRelease.next(e)}),this.ngZone.runOutsideAngular(()=>this.draggable?.bindTo(this.element.nativeElement))))}destroyDraggable(){this.draggable&&(this.draggable.destroy(),this.draggable=void 0)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.SKi))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoDraggable",""]],inputs:{enableDrag:"enableDrag"},outputs:{kendoPress:"kendoPress",kendoDrag:"kendoDrag",kendoRelease:"kendoRelease"},features:[s.OA$]}),i})(),wD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge]]}),i})();const Fl=(i,n)=>{for(;i&&!n(i);)i=i.parentNode;return i},OG=(i,n,e=!1)=>{if(!Fl(n,r=>r===i))return!1;const o=Fl(n,r=>r===n);return o&&(e||o!==i)},qY=(i,n,e=!0)=>{if(i){if(e&&n(i))return i;for(i=i.firstChild;i;){if(1===i.nodeType){const t=qY(i,n);if(t)return t}i=i.nextSibling}}},LBe=/^(?:a|input|select|option|textarea|button|object)$/i,gme=i=>{if(!i.tagName)return!1;const n=i.tagName.toLowerCase(),e=!!i.getAttribute("tabIndex");return!i.disabled&&LBe.test(n)||e},Sme=i=>{const n=i.getBoundingClientRect();return(n.width>0&&n.height>0||0!==n.x&&0!==n.y)&&"hidden"!==window.getComputedStyle(i).visibility},Cme=(i,n=!0)=>qY(i,e=>((i,n=!0)=>{if(!gme(i))return!1;const e=i.getAttribute("tabIndex");return(!n||Sme(i))&&"-1"!==e})(e,n),!1);let xo=(()=>{class i{constructor(e,t,o){this.element=e,this.ngZone=t,this.renderer=o,this.events={}}ngOnInit(){if(!this.element||!this.element.nativeElement)return;const e=this.events;this.subscriptions=[],this.ngZone.runOutsideAngular(()=>{for(const t in e)Object.hasOwnProperty.call(e,t)&&this.subscriptions?.push(this.renderer.listen(this.element.nativeElement,t,this.scope?e[t].bind(this.scope):e[t]))})}ngOnDestroy(){if(this.subscriptions){for(let e=0;e<this.subscriptions.length;e++)this.subscriptions[e]();this.subscriptions=null}}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.SKi),s.rXU(s.sFG))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoEventsOutsideAngular",""]],inputs:{events:[s.Mj6.None,"kendoEventsOutsideAngular","events"],scope:"scope"}}),i})(),No=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({}),i})();class Eme{constructor(n){this.resizeBatchService=n,this.resize=new s.bkB,this.acceptedSize=!1,this.state=0}acceptSize(n=this.measure()){this.lastWidth=n.width,this.lastHeight=n.height,this.acceptedSize=!0}checkChanges(){ne()&&0===this.state&&(this.state=1,this.resizeBatchService.schedule(this,this.init))}destroy(){this.resizeBatchService.cancel(this)}checkSize(){if(!this.parentElement)return!1;const{width:n,height:e}=this.measure();return(n!==this.lastWidth||e!==this.lastHeight)&&(this.lastWidth=n,this.lastHeight=e,this.acceptedSize=!1,this.resize.emit(),!0)}initSize(){const n=this.measure();this.lastWidth=n.width,this.lastHeight=n.height}measure(){let n=0,e=0;return this.parentElement&&(e=this.parentElement.offsetHeight,n=this.parentElement.offsetWidth),{height:e,width:n}}}const TG=i=>{const n=document.createElement("div");return n.style.cssText=i,n},ZY="position: absolute; display: block; left: 0; top: 0; right: 0; bottom: 0; z-index: -1;overflow: hidden; visibility: hidden;",yme="position: absolute; left: 0; top: 0; transition: 0s;",FBe=yme+"width: 200%; height: 200%;";class BBe extends Eme{constructor(n,e,t){super(n),this.element=e,this.ngZone=t}checkChanges(){2!==this.state?super.checkChanges():this.resizeBatchService.isScheduled(this)||this.resizeBatchService.schedule(this,this.checkSize)}destroy(){if(super.destroy(),this.subscription&&this.subscription.unsubscribe(),this.expand){const n=this.element?.nativeElement;n.removeChild(this.expand),n.removeChild(this.shrink),this.expand.removeChild(this.expandChild),this.expand=this.expandChild=this.shrink=this.element=null}}checkSize(){return!!super.checkSize()&&(this.reset(),!0)}init(){const n=this.parentElement=this.element?.nativeElement.parentElement;"static"===((i,n)=>getComputedStyle(i,null).getPropertyValue("position"))(n)&&(n.style.position="relative"),this.state=2,this.render(),this.reset(),this.initSize(),this.subscribe()}render(){const n=this.element?.nativeElement;n.style.cssText=ZY,n.setAttribute("dir","ltr"),this.expand=TG(ZY),this.expandChild=TG(yme),this.expand.appendChild(this.expandChild),n.appendChild(this.expand),this.shrink=TG(ZY);const e=TG(FBe);this.shrink.appendChild(e),n.appendChild(this.shrink)}reset(){const n=this.expandChild;n.style.width="100000px",n.style.height="100000px";const e=this.expand;e.scrollLeft=1e5,e.scrollTop=1e5;const t=this.shrink;t.scrollLeft=1e5,t.scrollTop=1e5}subscribe(){this.ngZone.runOutsideAngular(()=>{this.subscription=Bt(Dt(this.shrink,"scroll"),Dt(this.expand,"scroll")).subscribe(()=>{this.checkSize()})})}}const VBe=typeof ResizeObserver<"u";class Dme extends Eme{constructor(n,e,t){super(n),this.element=e,this.ngZone=t}static supported(){return VBe}destroy(){super.destroy(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.parentElement=null}init(){this.parentElement=this.element.nativeElement.parentElement,this.initSize(),this.state=2,this.ngZone.runOutsideAngular(()=>{this.resizeObserver=new ResizeObserver(()=>{this.checkSize()}),this.resizeObserver.observe(this.parentElement)})}}let wme=(()=>{class i{constructor(e){this.ngZone=e,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}schedule(e,t){this.scheduled.push({instance:e,method:t}),this.subscription||this.ngZone.runOutsideAngular(()=>{this.subscription=Zi(this.resolvedPromise).subscribe(this.flush)})}isScheduled(e){return!!this.scheduled.find(t=>t.instance===e)}cancel(e){const t=this.scheduled,o=t.length;for(let r=0;r<o;r++)if(t[r].instance===e)return t.splice(r,1),void(t.length||this.unsubscribe())}ngOnDestroy(){this.unsubscribe()}unsubscribe(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}flush(){this.scheduled.forEach(e=>{e.method.call(e.instance)}),this.scheduled=[],this.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(s.SKi))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),hs=(()=>{class i{constructor(e,t,o){this.rateLimit=10,this.resize=new s.bkB;const r=Dme.supported()?Dme:BBe;this.resizeService=new r(e,t,o),this.subscription=this.resizeService.resize.pipe(TC(1e3/(this.rateLimit||10))).subscribe(()=>{this.resizeService.acceptedSize||this.resize.emit()})}ngAfterViewChecked(){this.resizeService.checkChanges()}ngOnDestroy(){this.subscription.unsubscribe(),this.resizeService.destroy()}acceptSize(e){this.resizeService.acceptSize(e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(wme),s.rXU(s.aKT),s.rXU(s.SKi))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-resize-sensor"]],inputs:{rateLimit:"rateLimit"},outputs:{resize:"resize"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),Mr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({providers:[wme]}),i})();class ji{}var G=function(i){return i[i.Alt=18]="Alt",i[i.ArrowDown=40]="ArrowDown",i[i.ArrowLeft=37]="ArrowLeft",i[i.ArrowRight=39]="ArrowRight",i[i.ArrowUp=38]="ArrowUp",i[i.Backspace=8]="Backspace",i[i.Control=17]="Control",i[i.Delete=46]="Delete",i[i.Digit0=48]="Digit0",i[i.Digit1=49]="Digit1",i[i.Digit2=50]="Digit2",i[i.Digit3=51]="Digit3",i[i.Digit4=52]="Digit4",i[i.Digit5=53]="Digit5",i[i.Digit6=54]="Digit6",i[i.Digit7=55]="Digit7",i[i.Digit8=56]="Digit8",i[i.Digit9=57]="Digit9",i[i.End=35]="End",i[i.Enter=13]="Enter",i[i.Escape=27]="Escape",i[i.F1=112]="F1",i[i.F2=113]="F2",i[i.F10=121]="F10",i[i.Home=36]="Home",i[i.Insert=45]="Insert",i[i.KeyA=65]="KeyA",i[i.KeyB=66]="KeyB",i[i.KeyC=67]="KeyC",i[i.KeyD=68]="KeyD",i[i.KeyE=69]="KeyE",i[i.KeyF=70]="KeyF",i[i.KeyG=71]="KeyG",i[i.KeyH=72]="KeyH",i[i.KeyI=73]="KeyI",i[i.KeyJ=74]="KeyJ",i[i.KeyK=75]="KeyK",i[i.KeyL=76]="KeyL",i[i.KeyM=77]="KeyM",i[i.KeyN=78]="KeyN",i[i.KeyO=79]="KeyO",i[i.KeyP=80]="KeyP",i[i.KeyQ=81]="KeyQ",i[i.KeyR=82]="KeyR",i[i.KeyS=83]="KeyS",i[i.KeyT=84]="KeyT",i[i.KeyU=85]="KeyU",i[i.KeyV=86]="KeyV",i[i.KeyW=87]="KeyW",i[i.KeyX=88]="KeyX",i[i.KeyY=89]="KeyY",i[i.KeyZ=90]="KeyZ",i[i.NumpadDecimal=110]="NumpadDecimal",i[i.PageDown=34]="PageDown",i[i.PageUp=33]="PageUp",i[i.Shift=16]="Shift",i[i.Space=32]="Space",i[i.Tab=9]="Tab",i}(G||{});const MG=['a[href]:not([tabindex^="-"]):not([disabled])','area[href]:not([tabindex^="-"]):not([disabled])','input:not([tabindex^="-"]):not([disabled])','select:not([tabindex^="-"]):not([disabled])','textarea:not([tabindex^="-"]):not([disabled])','button:not([tabindex^="-"]):not([disabled])','iframe:not([tabindex^="-"]):not([disabled])','object:not([tabindex^="-"]):not([disabled])','embed:not([tabindex^="-"]):not([disabled])','*[tabindex]:not([tabindex^="-"]):not([disabled])','*[contenteditable]:not([tabindex^="-"]):not([disabled]):not([contenteditable="false"])'].join(","),$s=i=>null!=i,eJ=i=>i.trim().replace(/\s+/g," ").split(" "),tJ=i=>Array.isArray(i)?XBe(i):(i=>$s(i)&&!Array.isArray(i)&&"object"==typeof i)(i)?jBe(i):(i=>i instanceof String||"string"==typeof i)(i)?$Be(i):void 0,jBe=i=>{const n=[];return Object.keys(i).forEach(e=>{const t=eJ(e);i[e]&&t.length&&n.push(...t)}),n},$Be=i=>{const n=[];return eJ(i).forEach(t=>{n.push(t)}),n},XBe=i=>{const n=[];return i.forEach(e=>{const t=eJ(e);t[0]&&n.push(...t)}),n},KBe={display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",top:"16px",right:"16px",padding:"12px",borderRadius:"4px",boxShadow:"0px 4px 5px 0px rgba(0, 0, 0, 0.04), 0px 2px 4px 0px rgba(0, 0, 0, 0.03)",fontSize:"14px",fontWeight:400,lineHeight:"20px",backgroundColor:"#FFC000",color:"#1E1E1E",zIndex:999},YBe={display:"inline-flex",position:"relative",border:"none",borderRadius:"4px",padding:"5px",backgroundColor:"transparent",transition:"color 0.2s ease-in-out",outline:"none",cursor:"pointer"};let Ome=!1,n_=(()=>{class i{constructor(){this.watermarkStyle="\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    opacity: 0.2;\n    zIndex: 101;\n    pointerEvents: none;\n    backgroundImage: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABVxSURBVHgB7Z3tVRtJE4WL9zgANgLLGRCCnAGOADmCxRGgDFAGYiOADKQMIAGO9J8ji42g37mjqlUjBgOanpn+uM85sjC2sKzbVd1dVV0tQgghhBBCCCGEEEIIKRPn3Gn1GAlJmmN1pP558J6OX9540ejh4WGlX09OTk7+EZIclXYXlY43+vVflY7PH3wd9c+AY/Wvvcb9/b0bjUYOz/hBQpICmh1oOPrEa6l/4rTR337AhIMgTSqtzg+0m8gnof7p0mD8EzmGhkFwJiR6np6e7luLL9Q/RTDTBzF+7wfWg2CxWOCHjYVET6XTdLPZrFuLL9Q/NeCkoVUQ4/d+6Ijev1yof1rAUVMvQgjJHebrSRu+CEmWo/O8hISgCjStKpgiGoDWed4AUP/hwGf++Pi4hQYyFHgDzBP3T7A8b0uo/zD4+sMBy1CwWKR/YjF+fS/Uv2di0t/eEAdBT0QnvlD/PolR/xoOgu4JUd7bFdS/e6I1foODoFuqz3M2mUziFF+of5dEb/xGwyAYCwmCVuPNYv5MqX94Yl75NWKD4PLyEm92KqQoqH9Y8Bnis0zC+A14LbxxVqiVCfUPh678plxNFYQe5pjRgAgpDAv4IOAHJyCEkDJoiPaeCyG5UA1oRIYWHNivSSbV0wLq/zbQXz+bS8kV/AeZJ35NCcYPqH8zvv4VS8kVFou8phTjB9T/NcVt+zgI9rjQDRwTgPrvKcn5v4CDYIfT/vtFiS/UHxRr/AYHwQ4t9DiVwihZ/+KN36ATKJsS9U+utr9r/EGQdQSUNFKa/geZkImQ/2rHlznnQDG7oX9b9Xwl5AUl6G9oLcSSxl8Q/p4P13YJIaQMisvzEkJ2lJjnJyQY3lnoJGfNUvP8oUhZf7c70s2eCG1wL7uhRJ0iQnCveiDIhzf7t/f9IvP8IUhJfx/b9rErUkvgRVPIE1fv6xrvbzweu7OzM3d7e4v3OhfSilT092HMJzCxF4u43eWctfFvt1uHu9nxXvF1CWmtroldfx9W+HVErINAjX+M65ngAPxnOAJ1AiMhrUjBCdD4Oya2QYBlPwx8vV47WwFg+a+XZbrz83NzANz/ByBmJ0Dj74lYBgECfrbnt6U/DB/vC7388L2rqyu8vzshwYjRCdD4e8YfBLidVgYA0X7M9jB8PGazmbu5ualnfiz9dSAsufwPTwz6+5jjp/H3CD5ofPB9343u9v3u6+U+0jyY7eEA8Hx3d4c/QjvvMyGdMZT+TeA9wBHR+DPHUn3T6bRe7uMxn89tn18v/TH7O17gQEheYM9vEX7M9hbsg/FbHED3/IPPSISQgNhyE0au+7x7PPtOQFcB3PMTMjTYf4cyRN3zL2DgMHgs/7XU99acgDIWEgUh9W/4uWMh8QKBvCh8qxSR7fmxt0eEv8kJ6MzP8/2REFL/g59bp/o0xsMAb6xAnBB5Yr+6D3X9KOpBxP/ACWA0jFnoEw+h9D/4mYd5/pGQeAlRLFK95tJy+35578PDQ+0E9LAPi3wixAUsFmKRT6I0DIIPzdJuf6R3i+UeZnsz/nqjPx47/fMpZ/54OVb/g5/BZi4pY4Pgo8s2d3CkF0Z/cXFRL/+Xy2W9BdBUH4/5JsBn9W94PZu5pI77QzMOjepiNp/j71hO//fv31sr7qmtfT73i3xWjnvAZHhH/4nquXrLwB2bueSJ27Vmvodhq4df4BmzvQb3IPxWl/zgRl/DwZA4GrhdYFUHfbHE1y0enXsJ2FLfCnggvjqBejDoTI8o38ocgJAscNq8BY4fv/Uf+J46gjkdQcbA+19fXzs7zQfR8TWcgH+kFw/u+fMDKz/o3OQETk9PLcWLPSBbeeWELd91eb+CcTc5gXr6r9J8PNKbF/7S3z+6DYcvDasBOv6M0GUduNDfv+cEYPhjIVmA+I3Vc4gaOQzfHAECvb4joAPICCzlrIJP93h/dAIYDBQ/L8wBNC37rXUblv5CB5AfGvi5h6F7Ed9GJ2CZP0b780O1vreVnnhOAFsBOoCMscg/HMBbTsCO+grJFkvvHmYCSnYA/5MMcbsiH6TykNgfr9fry58/f0oltFxcXMj379+l+h42gBcnJyfr6iXfq1nhJ56FZIeuAq+fn59Xv379Oq0CgVJNBEIydAAavLv98ePHeSX4bfX1OQSv9noQ/a7y9A8HTuAcTqB63FSPZyE5Mq3GwOW3b99kNpu9+5e/fv2Kp3+FpAW8vB3cwbLOOvZYfl9LfGdW9KOn+mZCskZXhCuL9vtLfjvshd97hWArpn8TxGn5rhZzOL/gB19DYBzzxcEeTQEtGfArB7c7xbmyVu4YExoTuNcYEL6eCkkTxHYOmna4wzQfvq8z/+o949e940hIkjTp5/ZXjm/1+VQfr856UP/EcLtqr9s/OQENDl5+wPhH3nHQZK6mJjucNvNo2w+A+icC0jaY4a2LT5MT+Mye3+l58JSupiY7XIA2XtQ/IZw2f7D9v+X6D53AZ/f8LqGrqckOF7CNF/VPAF3Or6xvv53r951Amx5+DYOAXWEjxXXQxov6R4zTSzusht8OfABE+r3U39y1iPbbIODVX3ED4/Tagk8kENQ/QiyaC1Fg7PX6frm0Mk6/wUOQ8l799+j9I0cDwcF1ov4R4Xbde2vjxi92ogsPzPrY92szD7buJiQn3K6+v17q2yxvlV1u3+TRAn4jIYTkAfbymOWx1AcwfHMEXp5/JISQ9PEDd867ohvGbvt+cwRe6+5ee7ltNpuVf7yYdA8+68fHxy0+exkY6t8RGnSxJX19yAd7fWvhjEs7NOCHb2D9/+AGqO3HQGSeuD/8PD/GggwM9e8IBPCwr7ciHnzA6NrqtW5+4QRkIByLRXrDRXhXH/XvCKRccEuPX8mHD9jr7Vc7AV32D9rJh4Oge2I0foP6d8QHnADO9kdxYw8HQXfEbPwG9e+It5yAlvdG1beNgyA8KRi/Qf07oskJIEYQw8x/SMMgGAs5CmR0UjF+g/oHwh00YzAn0OZgT1/YINBU5VTIUeCzw2eYivEb1L8l7o1mDm7X220a48x/iNtVLE4dC5OOxu2794wlMaj/kbgAzRwIIQmS4p6PEBKIp6enexo/IYWCPdNms1nnbPxat7BwvH/+P7Dt08/kUjKH+hcOxGeeeI8f86lYSuZQ/8JhsciehoBv9rMi9VdcwZcucBCkVeEXmuL1dy0vbciBkgdBycZvFKs/8/x7ShwENP49xelP8V9T0iBgncdritGfxv82/iDIORJ+EAGfCKnJXn8a//to7fgy51y45sCX1P812erPZR8hBVMZ/Ax9+2j8hBSIHumcpXikkxBCBsXtz8QnUyXndvfz8Sx8AFLUnwTEveyKE32KyAK+7IYThqT0V88/o+cPBz7TVPLEJdb2d00y+pv4elHHTEgwUigWYaq3O6LXn56/e2IeBDT+7olWf4rfHzEOAurfH9HpT/H7J6ZBQP37Jxr9Kf5w+IMAt9PKQOB6NurfP4Prjyg/jX9Y8JnDAHE/vQwE/m0MQOrfP4PqX/3jp15Dj4kQQspCK5SK7OZDCCGEEBIfbneH4kgCoT9vLCQJguqPaD8CDdXzlZDogaEuFotgKSLL9uBnYmAJiZqg+vupPlzbJSR6YKSh8sSODVyTI5j+LO9NlxDFIqzzSJfW+jPPnz4Ng+DDGRvqnz5t9GeePxNsEHx2+U798+BY/e3FzPNnwLE6Uv88oI6EEEIIIYQQQgghhBBCCCGEEEIIIYQQQkiRoHyQxz/T51gdqX8evKfjlzdeNHp4eFjp15OTk5N/hCQHjoFWOt7o139VOj5/8HXUPwOO1f+/02ApXEhJmmnTzIP6p49r28wlRFMJMgwhmnlQ/3RB854g/RwaBgF7wkVOyGYe1D9N0L4vWDMXGwTaFHIsJGpgpF5TyIm0hPqnR6XTdLPZrF2oZi7aVIDePxFgqCH1ov6EEEIIITHRtl7jixBCkuToPH8ocGMQrihmiqh/8Jnjau6hrwen/sPQOs8fAgxA5on7xxcfBigDQf2HIUSdR6g3wmKRnolGfKH+QxCT/vaGOAh6Ijrxhfr3SYz613AQdE+04gv174Ng5b1dwUHQHTEbv0H9u6X6PGeTySTu69oaBsFYSCui9/we1L87tBpzFv1naoPg8vISA2AqpBX4DPFZxm78BvUn9awF8R07yrRGPf80pdmU+hNCyJHoYa4ZHSghhWEBXwT84ASEEFIGDdmec8mJ6j+EyNAiu/9YACC+fjaXkinU/21SSPW2BuIzT/waX/yKpWQK9W+mCOMHLBZ5TfbLPg/q/5pijN/gINhTnPhC/X1cwAauScFBUKbxG9R/h9P7F0rTv6bkQVCy8Rt0Aju00OtUSqTEQZBSbX/X0AmQF4Mg5wi4cRAJn0jhlKY/aUBrx5c558ANzYUvafx7StAfqxv0UKyer4QQUg5+zAfXdgkhpAxKqvMghHgUm+cPhdufhU/Oa+qRTp6Jb0HK+oOi8/whcC+74SSTIrJlH7vitCMl/RHcqx4I8uHN/u19v9w8f1swi6aWJ+aeLxyp6F+9r2u8v/F47M7Oztzt7S3e61xIe1IqFmGFX3hi19/tLuesjX+73brFYlG/V3xdQlq7F1JwAjT+7ohVfzX+Ma5ngwPwn+EI1AmMhLQnZidA4++e2PTHsh8Gvl6vna0AsPzXy1Ld+fm5OQDu/0MRoxOg8fdHLPoj4Gd7flv6w/DxvtDLD9+7urrC+7sTEhZ/EOB2WhkYE57G3w8x6I9oP2Z7GD4es9nM3dzc1DM/lv46FpZc/ncEBgEMD7XVMjB4DxiINP7+GEp/t7/voF7uI0WJ2R4OAM93d3f4I7TzPhNCSD5Yqm86ndbLfTzm87nt8+ulP2Z/x+vQCMkL7Pktwo/Z3oJ9MH6LA+ief/AVKSEkILbdgJHr3v4ez74T0FUA9/wxgP1XF0Lozx0LiZqQ+uuefwEDh8Fj+a+lvrfmBJSxkOGBEF4UNliKyFJ9usdjgCdSQupve37s7RHhb3ICOvPzfH8swDhD54kb8vwjIVESSn+/ug91/SjqQcT/wAlgNhiz0CcyQhaLsMgnPULoX73m0nL7fnnvw8ND7QT0sA+LfGKlYRB82ks7NnNIlmP1d/sjvVtsJTDbm/HXG/3x2OmfTznzR44NgmOX7Y7NHJLms/q7gyO9MPqLi4t6+b9cLustgKb6eMw3FdwfmjFggKg3X71l4I7NHJLmHf3PVPs5/o7l9H///r214p7a2udzv8hn5RgDShsN3Czg1SE4lom6xKO4heB2rdnvYdi6QljgGbO9BvfgOLa65Ac3+hpOBinjtHkDhMdv/Qe+p45gTkeQL7bUtwIeaK5OoJ4MdKZHlG9lDkBIPsDzQ/QmJ3B6emopHqwB2corQzDDX19fOzvNh7GAr+EE/CO9eHDPnxH+0t8/ugnBpWE1QOHzwpbvurxfwbibnEA9/VdpPh7pzQjs3yyfK2rkMHxzBAj0+I6ADiAvdFsHLvT37zkBGP5YSB6YA2ha9lvrJiz9hQ4gO7CVswo+jfH80QlgMqD2GaKC35unF88JYCtAB5AnGvi9h6F7GZ9GJ2CZP0b7M8XSO4eZADqAvLHIPxzAW07AjvpKYfxPCkBngevn5+fVr1+/TqtAoFQDQUieuF2RD1J5SOyP1+v15c+fP6Vy9HJxcSHfv3+X6nsIAF2cnJysq5d8r1YAP/EshVGEA6iYVkZ/+e3bN5nNZu/+5a9fv+LpXyHJocG72x8/fpxXDv+2+vocDr+K9cDp31UrvYcDJ3AOJ1A9bqrHs5D80BlhZdF+f8lvhz3we68QZMX0T3pglWcHd6Cjdeyx/L6W+M6s6EdP9c2ElIHbneJaWStnFIRoTOBe94D4eiokSZyW72oxl/MLfvA1jB6642CPpoCXDPhljO79RwffG6kj2OrzqT5e1Xo3vZ7EC2K7B0073GGaD9/XmX/1nvFT/4Rx2syjbT+AIW+gIZ/D7ao9b//kBDQ4ePkB46f+qeICtPFy2g8gpavJSwZpW8zw1sWnyQl8Zs9P/RPFBWzj5RK6mrxkTCfb/1uu/9AJfHbPT/0Tw3XQxqthELArcETocn5lffvtXL/vBNr08KP+CQFxvLbQEwmEDQJe/RQXTi/tsBp+O/AFEOn3Un9z1yLaT/0TQgNBwb20Zg/o/SPBsjkwShh7vb5fLq2M22/wEqS8V/+9sRBChsXtuvfWxo1f7EQnHpj1se/XZh5s3U1ITrhdfX+91LdZ3io73b7JqwX8RkIIyQPs5THLY6kPYPjmCLw8/0hI3iAd8/j4uN1sNisZGLwH/3gpCYcfuHPeFd0wdtv3myPwWnf32suR+veMn+fHBy8DA0fEPHF4NOhmS/r6kA/2+tbCHZd2aMAP38D6/8ENUNtP/XvERXhXn2OxSCcggId9vRXx4LNF12avdfsLJyADQf17IkbjNzgIwoOUK27p8Sv58Nl6vf1qJ6DL/kE7+VD/jonZ+A0OgvB8wAngbH8UN/ZQ/45IwfgNDoLwvOUEtLw3qr6N1D8wiOimYvxGwyAYC2lFkxNAjCCGmf8Q6h8QRHeR7knF+A0bBJqqmgr5NO6gGYc5gTYHe/qC+gfC7bv3jCUx3K5ibepYmPJp3BvNXNyut+M0xpn/EOpPyBG4AM1cCCEJkmLMhxASiKenp3saf4Fg2Vc9FsjpSuZo3hr/115r1lMAe+bNZrPO2fip/wH+nq9iKZkD8ZknLhfq79EQ8MneK7JYpGyov5JShV9oOAjKvnSjeP1LNn6j5EHgWl7akgPF6k/j31PiIGCef09x+jPP+5qSBgGd/2uKcgIHEdCJkBp/EOSaCaHxv00J+tdoDnRJ8V+jtePLHGshaPzvk7P+pGC47SOkYCqDn6FvH42fkAJxuyPdaN01FlIGbnc/37TkFE8o3L4nAmvHCyQ5/S3gw24oYXAvuyKxbLgwktK/xNr+rsFqKpU8sa78Zlz5hSMZ/Znq6Y4UikVMf72oYyYkGNHrT+PvnpgHAVd+3ROt/jT+/ohxEFD//ohOf4rfPzENAurfP1E5AVzPRPH7xx8EuJ1WBoDGPxyH+ruhjlTjbnR9AxMhvYLPHA4YGkjPIMpP4x+WIfUnhYMZx2voMRFCSFlohVqR3XwIIaQc3O5OtrGQJFC9RkKKRCsyRxICi/YuFgvs986ERA3Eh1ahUkT4GQg0Vc9XQqInqP6ODRyTA046VJ7Y1x/XdgmJnmD6M8+bLiGKRVjemy6t9WeeN30aBsGHI/bUP33a6M88bybYIPjs9o3658Gx+tuLmefNgGN1pP55QB0JIYQQQgghhBBCCJGy+T9ftRg+rVNPfAAAAABJRU5ErkJggg==');\n",this.isOpen=!0,this.bannerMounted=!1,this.bannerStyles=KBe,this.buttonStyles=YBe,this.licenseKeyUrl="https://www.telerik.com/kendo-angular-ui/components/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-banner"}ngOnInit(){Ome||(this.bannerMounted=!0,Ome=!0)}ngAfterViewInit(){this.isBannerRendered&&document.body.appendChild(this.banner.nativeElement)}ngOnDestroy(){this.isBannerRendered&&document.body.removeChild(this.banner.nativeElement)}closeBanner(){this.isOpen=!1}get isBannerRendered(){return ne()&&this.banner&&this.banner.nativeElement}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.VBU({type:i,selectors:[["div","kendoWatermarkOverlay",""]],viewQuery:function(e,t){if(1&e&&s.GBs(OBe,5),2&e){let o;s.mGM(o=s.lsd())&&(t.banner=o.first)}},hostVars:2,hostBindings:function(e,t){2&e&&s.Aen(t.watermarkStyle)},attrs:TBe,decls:1,vars:1,consts:[["banner",""],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],["width","16","height","16","viewBox","0 0 16 16","fill","none"],["fill-rule","evenodd","clip-rule","evenodd","d","M8 1L0 15H16L8 1ZM7 6V11H9V6H7ZM7 14V12H9V14H7Z","fill","#1E1E1E"],[3,"href","ngStyle"],["title","Learn More",3,"ngStyle"],["d","M15 8C15 11.8656 11.8656 15 8 15C4.13437 15 1 11.8656 1 8C1 4.13437 4.13437 1 8 1C11.8656 1 15 4.13437 15 8ZM14 8C14 4.6875 11.3125 2 8 2C4.6875 2 2 4.6875 2 8C2 11.3125 4.6875 14 8 14C11.3125 14 14 11.3125 14 8ZM11 6C11 7.4125 10.2687 8.05937 9.73125 8.53125C9.25937 8.94688 9 9.17813 9 10H7C7 8.275 7.84688 7.525 8.40938 7.03125C8.84062 6.65312 9 6.50938 9 6C9 5.45 8.55 5 8 5C7.45 5 7 5.45 7 6H5C5 4.34375 6.34375 3 8 3C9.65625 3 11 4.34375 11 6ZM9 13V11H7V13H9Z","fill","#1E1E1E"],["title","Close",3,"click","ngStyle"],["d","M13 4.41562L9.41563 8L13 11.5844L11.5844 13L8 9.41563L4.41562 13L3 11.5844L6.58437 8L3 4.41562L4.41562 3L8 6.58437L11.5844 3L13 4.41562Z","fill","#1E1E1E"]],template:function(e,t){1&e&&s.DNE(0,ABe,15,10,"div",1),2&e&&s.Y8G("ngIf",t.isOpen&&t.bannerMounted)},dependencies:[q,Wn],encapsulation:2}),i})(),i_=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge]]}),i})();const qBe=["telerik.com","progress.com","stackblitz.io","csb.app"];function s_(i){return!qBe.some(e=>globalThis.document?.location.hostname.endsWith(e))&&!i}let mI=(()=>{class i{constructor(e){this.templateRef=e,this._showSeparator=!1}set showSeparator(e){this._showSeparator=e}get showSeparator(){return this._showSeparator}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoPrefixTemplate",""]],inputs:{showSeparator:"showSeparator"}}),i})(),_I=(()=>{class i{constructor(e){this.templateRef=e,this._showSeparator=!1}set showSeparator(e){this._showSeparator=e}get showSeparator(){return this._showSeparator}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoSuffixTemplate",""]],inputs:{showSeparator:"showSeparator"}}),i})(),IG=(()=>{class i{constructor(){this.orientation="vertical",this.hostClass=!0}get vertical(){return"vertical"===this.orientation}get horizontal(){return"horizontal"===this.orientation}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-separator"]],hostVars:6,hostBindings:function(e,t){2&e&&s.AVh("k-input-separator-vertical",t.vertical)("k-input-separator-horizontal",t.horizontal)("k-input-separator",t.hostClass)},inputs:{orientation:"orientation"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),Oc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({}),i})();class il{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}const nJ=()=>{let i=0;if(ne()&&document.createElement){const n=document.createElement("div");n.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",n.innerHTML="&nbsp;",document.body.appendChild(n),i=n.offsetWidth-n.scrollWidth,document.body.removeChild(n)}return i};let MC=(()=>{class i{constructor(){this.changes=new s.bkB,typeof window<"u"&&ne()&&document.body.style.setProperty("--kendo-scrollbar-width",`${nJ()}px`)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var _t=_e(987);function eVe(i,n){if(1&i&&(s.qSk(),s.nrm(0,"svg",1)),2&i){const e=s.XpG();s.xc7("pointer-events","none"),s.Y8G("innerHTML",e.content,s.npT),s.BMQ("viewBox",e.icon.viewBox)}}function tVe(i,n){if(1&i&&s.nrm(0,"kendo-svgicon",3),2&i){const e=s.XpG();s.Y8G("ngClass",e.innerCssClass)("icon",e.svgIcon)("size",e.size||(null==e.iconSettings?null:e.iconSettings.size))("themeColor",null==e.iconSettings?null:e.iconSettings.themeColor)("flip",null==e.iconSettings?null:e.iconSettings.flip)}}function nVe(i,n){if(1&i&&s.nrm(0,"kendo-icon",5),2&i){const e=s.XpG(2);s.Y8G("ngClass",e.innerCssClass)("name",e.name)("size",e.size||(null==e.iconSettings?null:e.iconSettings.size))("themeColor",null==e.iconSettings?null:e.iconSettings.themeColor)("flip",null==e.iconSettings?null:e.iconSettings.flip)}}function iVe(i,n){if(1&i&&s.nrm(0,"span",6),2&i){const e=s.XpG(2);s.Y8G("ngClass",e.customClasses)}}function sVe(i,n){if(1&i&&s.DNE(0,nVe,1,5,"kendo-icon",4)(1,iVe,1,1,"ng-template",null,1,s.C5r),2&i){const e=s.sdS(2),t=s.XpG();s.Y8G("ngIf",!t.customFontIconClass)("ngIfElse",e)}}const oVe={name:"@progress/kendo-angular-icons",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925013,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},Tme={default:"k-icon",xsmall:"k-icon-xs",small:"k-icon-sm",medium:"k-icon-md",large:"k-icon-lg",xlarge:"k-icon-xl",xxlarge:"k-icon-xxl",xxxlarge:"k-icon-xxxl"};let Mme=(()=>{class i{constructor(e,t){this.element=e,this.renderer=t,(0,_t.$)(oVe)}get horizontalFlip(){return"horizontal"===this.flip||"both"===this.flip}get verticalFlip(){return"vertical"===this.flip||"both"===this.flip}set themeColor(e){const t=this.element.nativeElement;this._themeColor&&this.renderer.removeClass(t,`!k-color-${this._themeColor}`),this._themeColor=e,e&&this.renderer.addClass(t,`!k-color-${e}`)}get themeColor(){return this._themeColor}set size(e){const o=Tme[e],r=this.element.nativeElement;this.renderer.removeClass(r,Tme[this.size]),e&&"default"!==e&&this.renderer.addClass(r,o),this._size=e}get size(){return this._size}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoIconBase",""]],hostVars:4,hostBindings:function(e,t){2&e&&s.AVh("k-flip-h",t.horizontalFlip)("k-flip-v",t.verticalFlip)},inputs:{flip:"flip",themeColor:"themeColor",size:"size"}}),i})(),iJ=(()=>{class i extends Mme{constructor(e,t){super(e,t),this.element=e,this.renderer=t,this.hostClass=!0,this.hostAriaHidden=!0}set name(e){if(ne()){const t=this.element.nativeElement;this.renderer.removeClass(t,`k-i-${this.name}`),this.renderer.addClass(t,`k-i-${e}`)}this._name=e}get name(){return this._name}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-icon"]],hostVars:5,hostBindings:function(e,t){2&e&&(s.BMQ("aria-hidden",t.hostAriaHidden),s.AVh("k-icon",t.hostClass)("k-font-icon",t.hostClass))},inputs:{name:"name"},exportAs:["kendoIcon"],features:[s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),Ime=(()=>{class i extends Mme{constructor(e,t,o){super(t,o),this.domSanitizer=e,this.element=t,this.renderer=o,this.hostClass=!0,this.hostAriaHidden=!0}set icon(e){const t=this.element.nativeElement,o=ne();this._icon&&this._icon.name&&o&&this.renderer.removeClass(t,`k-svg-i-${this._icon.name}`),this._icon=e,o&&this.renderer.addClass(t,`k-svg-i-${this._icon.name}`)}get icon(){return this._icon}get content(){return this.domSanitizer.bypassSecurityTrustHtml(this.icon.content)}get visible(){return this.icon&&ne()}ngOnInit(){this.verifyIconProperty()}verifyIconProperty(){if((0,s.naY)()&&!this._icon)throw new Error("\n                Invalid configuration.\n                The input [icon] is required for the Kendo UI SVG Icon component for Angular.\n                See https://www.telerik.com/kendo-angular-ui/components/icons/svg-icon\n            ")}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(J6),s.rXU(s.aKT),s.rXU(s.sFG))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-svg-icon"],["kendo-svgicon"]],hostVars:5,hostBindings:function(e,t){2&e&&(s.BMQ("aria-hidden",t.hostAriaHidden),s.AVh("k-svg-icon",t.hostClass)("k-icon",t.hostClass))},inputs:{icon:"icon"},exportAs:["kendoSVGIcon"],features:[s.Vt3],decls:1,vars:1,consts:[["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",3,"pointerEvents","innerHTML",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",3,"innerHTML"]],template:function(e,t){1&e&&s.DNE(0,eVe,1,4,"svg",0),2&e&&s.Y8G("ngIf",t.visible)},dependencies:[q],encapsulation:2}),i})(),aVe=(()=>{class i{constructor(){this.changes=new Ke.B}notify(e){this.changes.next(e)}getSvgIcon(e){return null}getCustomFontIconClass(e){return null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const lVe=new s.nKC("Kendo UI Icon-Settings token");let sJ=(()=>{class i{constructor(e,t){this._iconSettings=e,this.iconSettingsService=t,this.changes=new An.t(this.iconSettings||{type:"svg"}),this.subs=new be.yU,t&&this.subs.add(t.changes.pipe((0,V.T)(o=>(i=>null!=i)(o)?o:this._iconSettings),F(o=>this._iconSettings=o)).subscribe(o=>this.changes.next(o)))}get iconSettings(){return this._iconSettings}ngOnDestroy(){this.subs.unsubscribe()}getSvgIcon(e){return this.iconSettingsService&&this.iconSettingsService.getSvgIcon(e)}getCustomFontIconClass(e){return this.iconSettingsService&&this.iconSettingsService.getCustomFontIconClass(e)}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(lVe,8),s.KVO(aVe,8))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),Qe=(()=>{class i{constructor(e){this.iconsService=e,this.hostClass=!0,this.innerCssClass="",this.customFontClass="",this.subs=new be.yU,this.subs=e.changes.subscribe(t=>{this.iconSettings=t})}get customClasses(){return[this.customFontClass,this.innerCssClass,this.customFontIconClass].filter(t=>!!t).join(" ")}get hasSvgIcon(){return this.svgIcon=this.iconsService.getSvgIcon(this.name)||this.svgIcon,!!this.svgIcon||((0,s.naY)()&&(console.groupCollapsed(`Kendo UI for Angular: Icon type is set to 'svg', but only font icon name is provided. The "${this.name}" font icon will be rendered instead.`),console.warn('\nStarting from v7.0.0 (October, 2023) of the Kendo Themes, the font icons will be removed from the theme.\n* To render an SVG icon, update the component configuration by setting the "svgIcon" input to the respective icon definition.\n* To continue to use font icons, install the "@progress/kendo-font-icons" package and import "@progress/kendo-font-icons/dist/index.css".\n\nPlease note, that font icons are not compatible with a strict Content Security Policy and require the use of the "unsafe-inline" override.\n\nFor further details, check the following documentation articles:\nhttps://www.telerik.com/kendo-angular-ui/components/icons/icon-settings\nhttps://www.telerik.com/kendo-angular-ui/components/styling/icons/\nhttps://www.telerik.com/kendo-angular-ui/components/styling/svg-icons/\nhttps://www.telerik.com/design-system/docs/foundation/iconography/font-icons/\nhttps://www.telerik.com/design-system/docs/foundation/iconography/icon-list/\n            '),console.groupEnd()),!1)}get customFontIconClass(){return this.iconsService.getCustomFontIconClass(this.name)||this.customFontClass}ngOnDestroy(){this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(sJ))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-icon-wrapper"]],hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-icon-wrapper-host",t.hostClass)},inputs:{name:"name",svgIcon:"svgIcon",innerCssClass:"innerCssClass",customFontClass:"customFontClass",size:"size"},exportAs:["kendoIconWrapper"],decls:3,vars:2,consts:[["font",""],["custom",""],[3,"ngClass","icon","size","themeColor","flip",4,"ngIf","ngIfElse"],[3,"ngClass","icon","size","themeColor","flip"],[3,"ngClass","name","size","themeColor","flip",4,"ngIf","ngIfElse"],[3,"ngClass","name","size","themeColor","flip"],[3,"ngClass"]],template:function(e,t){if(1&e&&s.DNE(0,tVe,1,5,"kendo-svgicon",2)(1,sVe,3,2,"ng-template",null,0,s.C5r),2&e){const o=s.sdS(2);s.Y8G("ngIf","svg"===(null==t.iconSettings?null:t.iconSettings.type)&&t.hasSvgIcon)("ngIfElse",o)}},dependencies:[Ime,iJ,q,Be],encapsulation:2}),i})(),Rme=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge],Ge]}),i})(),Ame=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge]]}),i})(),xn=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({providers:[sJ],imports:[[Rme,Ame],Rme,Ame]}),i})();function Lme(i){return i.ownerDocument||i.document||i}const oJ=i=>Lme(i).defaultView,RG=i=>Lme(i).documentElement;let rJ=0;function AG(i){const n=oJ(i),e=RG(i),t={height:n.innerHeight,width:n.innerWidth};return e.scrollHeight-e.clientHeight>0&&(t.width-=function cVe(){if(!rJ&&typeof document<"u"){const i=document.createElement("div");i.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",i.innerHTML="&nbsp;",document.body.appendChild(i),rJ=i.offsetWidth-i.scrollWidth,document.body.removeChild(i)}return rJ}()),t}const Th=i=>{let n=i.getBoundingClientRect(),{left:e,top:t}=n;return!n.height&&!n.width&&(n=(i=>{const{display:n,left:e,position:t}=i.style;i.style.display="",i.style.left="-10000px",i.style.position="absolute";const o=i.getBoundingClientRect();return i.style.display=n,i.style.left=e,i.style.position=t,o})(i)),{top:t,left:e,height:n.height,width:n.width}},aJ=(i,n)=>{const e=[];let t=i.parentNode;for(;t&&(e.push(t),t!==n);)t=t.parentNode;return e};function xG(i){const n=RG(i),e=oJ(i);return{x:e.pageXOffset||n.scrollLeft||0,y:e.pageYOffset||n.scrollTop||0}}const Gme=i=>i===(i.ownerDocument||{}).body?xG(i):{x:i.scrollLeft,y:i.scrollTop},lJ=i=>{let n=i.offsetParent;for(;n&&"static"===n.style.position;)n=n.offsetParent;return n||RG(i)},cJ=(i,n,e=1)=>{const t=n?lJ(n):null,{top:o,left:r,height:a,width:l}=((i,n)=>{const e=oJ(i),t=e.getComputedStyle(i),o=Th(i),r=n||lJ(i),a=i.ownerDocument;let c={top:0,left:0};if("fixed"!==t.position&&r!==a.body&&r!==a.documentElement){const u=e.getComputedStyle(r);c=Th(r),c.top+=parseInt(u.borderTopWidth,10),c.left+=parseInt(u.borderLeftWidth,10)}return{top:o.top-c.top,left:o.left-c.left,height:o.height,width:o.width}})(i,t),{x:c,y:u}=((i,n)=>i?Gme(i):function uVe(i){const n=lJ(i);return n?Gme(n):{x:0,y:0}}(n))(t,i),f=i.ownerDocument,_=t===f.body||t===f.documentElement?1:e;return{top:o+u*_,left:r+c*_,height:a,width:l}};const Fme=function(i,n,e){let t=0;return i+n>e&&(t=e-(i+n)),i<0&&(t=-i),t},Bme=function({offset:i,size:n,anchorSize:e,viewPortSize:t,anchorAlignPoint:o,elementAlignPoint:r,margin:a}){let l=0;const f=2*a;if(r!==o&&"center"!==r&&"middle"!==r&&"center"!==o&&"middle"!==o){const _="top"===o||"left"===o;i<0&&_?(l=n+e+f,i+l+n>t&&(l=0)):i>=0&&!_&&(i+n>t&&(l+=-(e+n+f)),i+l<0&&(l=0))}return l},fVe=i=>{const n=[];let e=i.parentNode.firstElementChild;for(;e;)e!==i&&n.push(e),e=e.nextElementSibling;return n};!function SVe(i){let n,e=!1}(i=>{if(!Hme())return!1;const n=i?i.ownerDocument:document;if(!n||!n.body)return!1;const t=n.createElement("div");t.style.transform="matrix(10, 0, 0, 10, 0, 0)",t.innerHTML='<div style="position: fixed; top: 10px;">child</div>',n.body.appendChild(t);const o=10!==t.children[0].getBoundingClientRect().top;return n.body.removeChild(t),o});const Hme=()=>!!(typeof window<"u"&&window.document&&window.document.createElement),FVe=["container"],BVe=["*"];function VVe(i,n){}const dJ=(i,n)=>i||{height:0,left:n.left,top:n.top,width:0},LG=()=>typeof window<"u",jVe=/auto|scroll/,WVe=i=>(i=>`${i.style.overflow}${i.style.overflowX}${i.style.overflowY}`)(i)||(i=>{const n=window.getComputedStyle(i);return`${n.overflow}${n.overflowX}${n.overflowY}`})(i),Xme=1e3/60,JVe=function YVe(i){let n,e=!1;return(...t)=>(e||(n=i(...t),e=!0),n)}(()=>{if(!ne()&&null!==document.body)return!1;const n=document.createElement("div");n.style.transform="matrix(10, 0, 0, 10, 0, 0)";const e=document.createElement("div");e.style.position="fixed",e.style.top="10px",e.textContent="child",n.appendChild(e),document.body.appendChild(n);const t=10!==n.children[0].getBoundingClientRect().top;return document.body.removeChild(n),t}),vI=(i,n)=>i&&1!==n?{height:i.height/n,left:i.left/n,top:i.top/n,width:i.width/n}:i,QVe=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];let kD=(()=>{class i{addOffset(e,t){return{left:e.left+t.left,top:e.top+t.top}}addScroll(e,t){return function Nme(i,n){return{top:i.top+n.y,left:i.left+n.x,height:i.height,width:i.width}}(e,t)}align(e){return(i=>{const{anchorRect:n,anchorAlign:e,elementRect:t,elementAlign:o,margin:r={}}=i,a=e.horizontal,l=e.vertical,c=o.horizontal,u=o.vertical;let f=r.horizontal||0,_=r.vertical||0,S=n.top,v=n.left;return"bottom"===l&&(S+=n.height),("center"===l||"middle"===l)&&(S+=Math.round(n.height/2)),"bottom"===u&&(S-=t.height,_*=-1),("center"===u||"middle"===u)&&(S-=Math.round(t.height/2),_*=-1),"right"===a&&(v+=n.width),("center"===a||"middle"===a)&&(v+=Math.round(n.width/2)),"right"===c&&(v-=t.width,f*=-1),("center"===c||"middle"===c)&&(v-=Math.round(t.width/2),f*=-1),{top:S+_,left:v+f}})(e)}boundingOffset(e){return(i=>{if(!i.getBoundingClientRect){const r=AG(i);return{bottom:r.height,left:0,right:r.width,top:0}}const{bottom:n,left:e,right:t,top:o}=i.getBoundingClientRect();return{bottom:n,left:e,right:t,top:o}})(e)}getFontStyles(e){const t=this.getWindow();if(!t||!e)return[];const o=t.getComputedStyle(e);return QVe.map(r=>({key:r,value:o[r]}))}getWindow(){return LG()?window:null}hasOffsetParent(e){return!(!e||!ne()||!this.nativeElement(e).offsetParent)}offset(e){return e&&ne()?Th(e):null}offsetAtPoint(e,t){if(!e||!ne())return null;const o=this.nativeElement(e),{left:r,top:a,transition:l}=o.style;o.style.transition="none",o.style.left=`${t.left}px`,o.style.top=`${t.top}px`;const c=Th(o);return o.style.left=r,o.style.top=a,this._dummy=o.offsetHeight,o.style.transition=l,c}nativeElement(e){return e&&ne()?e.nativeElement||e:null}position(e,t,o=1){return e&&t?cJ(e,this.nativeElement(t),o):null}removeScroll(e,t){return function Ume(i,n){return{top:i.top-n.y,left:i.left-n.x,height:i.height,width:i.width}}(e,t)}restrictToView(e){return(i=>{const{anchorRect:n,anchorAlign:e,elementRect:t,elementAlign:o,collisions:r,viewPort:a,margin:l={}}=i,{top:c,left:u,height:f,width:_}=t,{height:S,width:v}=a,b=l.horizontal||0,D=l.vertical||0;let k=0,O=0;const I="fit"===r.vertical,x="fit"===r.horizontal,P="flip"===r.vertical,L="flip"===r.horizontal;I&&(O+=Fme(c,f,S)),x&&(k+=Fme(u,_,v)),P&&(O+=Bme({margin:D,offset:c,size:f,anchorSize:n.height,viewPortSize:S,anchorAlignPoint:e.vertical,elementAlignPoint:o.vertical})),L&&(k+=Bme({margin:b,offset:u,size:_,anchorSize:n.width,viewPortSize:v,anchorAlignPoint:e.horizontal,elementAlignPoint:o.horizontal}));const H=P&&0!==O,j=L&&0!==k,J=I&&0!==O,te=x&&0!==k;return{flipped:j||H,fitted:J||te,flip:{horizontal:j,vertical:H},fit:{horizontal:te,vertical:J},offset:{left:k,top:O}}})(e)}scrollPosition(e){return xG(this.nativeElement(e))}scrollableParents(e){return(i=>{const n=[];if(!ne()||!LG())return n;let e=i.parentElement;for(;e;)(jVe.test(WVe(e))||e.hasAttribute("data-scrollable"))&&n.push(e),e=e.parentElement;return n.push(window),n})(e)}stackingElementOffset(e){const t=this.getRelativeContextElement(e);return t?Th(t):null}stackingElementScroll(e){const t=this.getRelativeContextElement(e);return t?{x:t.scrollLeft,y:t.scrollTop}:{x:0,y:0}}getRelativeContextElement(e){if(!e||!JVe())return null;let t=this.nativeElement(e).parentElement;for(;t;){if("none"!==window.getComputedStyle(t).transform)return t;t=t.parentElement}return null}useRelativePosition(e){return!!this.getRelativeContextElement(e)}windowViewPort(e){return AG(this.nativeElement(e))}zIndex(e,t){return((i,n)=>{if(!i||!ne()||!LG())return null;const e=((i,n)=>{const e=aJ(i);let o,r,t=n;for(;t&&(o=fVe(t),r=e.reduce((a,l)=>a.concat(o.filter(c=>c===l)),[])[0],!r);)t=t.parentElement;return r})(i,n);if(!e)return null;const t=[i].concat(aJ(i,e)).reduce((o,r)=>{const a=r.style.zIndex||window.getComputedStyle(r).zIndex,l=parseInt(a,10);return l>o?l:o},0);return t?t+1:null})(e,this.nativeElement(t))}zoomLevel(){return ne()&&LG()&&parseFloat((document.documentElement.clientWidth/window.innerWidth).toFixed(2))||1}isZoomed(){return this.zoomLevel()>1}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const Wme=new s.nKC("Popup Document Scale");let Kme=(()=>{class i{constructor(e,t=1){this._dom=e,this.scale=t}alignElement(e){const{anchor:t,element:o,anchorAlign:r,elementAlign:a,margin:l,offset:c,positionMode:u}=e,f=this.scale||1,S="fixed"!==u&&this._dom.hasOffsetParent(o)?this.relativeRect(t,o,c,f):this.absoluteRect(t,o,c,f),v=vI(this._dom.offset(o.nativeElement),f);return this._dom.align({anchorAlign:r,anchorRect:S,elementAlign:a,elementRect:v,margin:l})}absoluteRect(e,t,o,r){const a=this.elementScrollPosition(e,t),l=dJ(this._dom.offset(e),o),c=2*r,u=this._dom.stackingElementScroll(t);1!==r&&u&&(u.x/=c,u.y/=c);const f=this._dom.stackingElementOffset(t);return 1!==r&&f&&(f.left/=c,f.top/=c),this._dom.removeScroll(this._dom.addScroll(((i,n)=>n?{height:i.height,left:i.left-n.left,top:i.top-n.top,width:i.width}:i)(vI(l,r),f),u),a)}elementScrollPosition(e,t){return e?{x:0,y:0}:this._dom.scrollPosition(t)}relativeRect(e,t,o,r){const a=dJ(this._dom.position(e,t,r),o);return vI(a,r)}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(kD),s.KVO(Wme,8))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),Yme=(()=>{class i{constructor(e,t=1){this._dom=e,this.scale=t}positionElement(e){const{anchor:t,currentLocation:o,element:r,anchorAlign:a,elementAlign:l,collisions:c,margin:u}=e,f=this._dom,_=this.scale||1,S=f.offsetAtPoint(r,o),v=vI(S,_),b=vI(f.offset(t),_),D=dJ(b,o),k=e.viewPort||f.windowViewPort(r);k.width=k.width/_,k.height=k.height/_;const O=f.restrictToView({anchorAlign:a,anchorRect:D,collisions:c,elementAlign:l,elementRect:v,margin:u,viewPort:k}),I=f.addOffset(o,O.offset);return{flip:O.flip,flipped:O.flipped,offset:I}}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(kD),s.KVO(Wme,8))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),Jme=(()=>{class i{constructor(e,t){this._dom=e,this._zone=t}subscribe(e){ne()&&this._zone.runOutsideAngular(()=>{this.subscription=Dt(this._dom.getWindow(),"resize").pipe(TC(Xme)).subscribe(()=>e())})}unsubscribe(){this.subscription&&this.subscription.unsubscribe()}isUnsubscribed(){return this.subscription&&this.subscription.closed}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(kD),s.KVO(s.SKi))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),qme=(()=>{class i{constructor(e,t){this._dom=e,this._zone=t}forElement(e){return this.unsubscribe(),this.element=e,this}subscribe(e){if(!e||!ne()||!this.element)return;const t=this._dom.scrollableParents(this.element);this._zone.runOutsideAngular(()=>{const o=t.map(a=>Dt(a,"scroll").pipe(TC(Xme)));this.subscription=Bt(...o).subscribe(a=>{const l=a.target;(t.filter(_=>_===l).length>0||l===document||l===window)&&e(this.isVisible(this.element,l))})})}unsubscribe(){this.subscription&&this.subscription.unsubscribe()}isVisible(e,t){const o=this._dom.boundingOffset(e),r=this._dom.boundingOffset(this._dom.nativeElement(t));return!(1<r.top-o.bottom||1<o.top-r.bottom||1<o.left-r.right||1<r.left-o.right)}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(kD),s.KVO(s.SKi))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const CI="left",OD="right",TD="down",bI={expand:i=>{const n="up"===i||i===TD?"scaleY":"scaleX";let o;return o=i===TD?"top":i===CI?OD:i===OD?CI:"bottom",{start:{transform:`${n}(0)`,transformOrigin:o},end:{transform:`${n}(1)`}}},slide:i=>{const n=i===CI||i===OD?"translateX":"translateY";return{start:{transform:`${n}(${i===OD||i===TD?-100:100}%)`},end:{transform:`${n}(0%)`}}},fade:()=>({start:{opacity:0},end:{opacity:1}}),zoom:()=>({start:{transform:"scale(0)"},end:{transform:"scale(1)"}})};let Qme=(()=>{class i{constructor(e){this.animationBuilder=e,this.start=new s.bkB,this.end=new s.bkB}play(e,t,o){if(!this.flip||this.flip.horizontal!==o.horizontal||this.flip.vertical!==o.vertical){this.flip=o;const r=t.type||"slide",a=bI[r];if(a){const c=a(this.getDirection(o,t));this.playStates(e,c,t)}else if((0,s.naY)())throw new Error(`Unsupported animation type: "${r}". The supported types are slide, expand, fade and zoom.`)}}ngOnDestroy(){this.stopPlayer()}playStates(e,t,o){this.stopPlayer();const r=o.duration||100,a=this.animationBuilder.build([Xe(t.start),ii(`${r}ms ease-in`,Xe(t.end))]),l=this.player=a.create(e);l.onDone(()=>{this.end.emit(),this.stopPlayer()}),this.start.emit(),l.play()}getDirection(e,t){let o=t.direction||TD;return e.horizontal&&(o===CI?o=OD:o===OD&&(o=CI)),e.vertical&&(o===TD?o="up":"up"===o&&(o=TD)),o}stopPlayer(){this.player&&(this.player.destroy(),this.player=null)}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(pi))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const t9e={name:"@progress/kendo-angular-popup",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925018,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"},Zme={left:-1e4,top:0};let e_e=(()=>{class i{constructor(e,t,o,r,a,l,c,u,f){this.container=e,this._alignService=t,this.domService=o,this._positionService=r,this._resizeService=a,this._scrollableService=l,this.animationService=c,this._renderer=u,this._zone=f,this.animate=!0,this.anchorAlign={horizontal:"left",vertical:"bottom"},this.collision={horizontal:"fit",vertical:"flip"},this.popupAlign={horizontal:"left",vertical:"top"},this.copyAnchorStyles=!1,this.positionMode="fixed",this.offset=Zme,this.anchorViewportLeave=new s.bkB,this.close=new s.bkB,this.open=new s.bkB,this.positionChange=new s.bkB,this.resolvedPromise=Promise.resolve(null),this.initialCheck=!0,(0,_t.$)(t9e),this._renderer.addClass(e.nativeElement,"k-animation-container"),this.updateFixedClass()}ngOnInit(){this.reposition=this.reposition.bind(this),this._resizeService.subscribe(this.reposition),this.animationSubscriptions=this.animationService.start.subscribe(this.onAnimationStart.bind(this)),this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this))),this._scrollableService.forElement(this.domService.nativeElement(this.anchor)||this.container.nativeElement).subscribe(this.onScroll.bind(this)),this.currentOffset=Zme,this.setZIndex(),this.copyFontStyles(),this.updateFixedClass(),this.reposition()}ngOnChanges(e){e.copyAnchorStyles&&this.copyFontStyles(),e.positionMode&&this.updateFixedClass()}ngAfterViewInit(){this.animate||this.resolvedPromise.then(()=>{this.onAnimationEnd()}),this.reposition()}ngAfterViewChecked(){this.initialCheck?this.initialCheck=!1:this._zone.runOutsideAngular(()=>{this.unsubscribeReposition(),this.repositionSubscription=Zi(this.resolvedPromise).subscribe(this.reposition)})}ngOnDestroy(){this.anchorViewportLeave.complete(),this.positionChange.complete(),this.close.emit(),this.close.complete(),this._resizeService.unsubscribe(),this._scrollableService.unsubscribe(),this.animationSubscriptions.unsubscribe(),this.unsubscribeReposition()}onResize(){this.reposition()}onAnimationStart(){this._renderer.removeClass(this.container.nativeElement,"k-animation-container-shown")}onAnimationEnd(){this._renderer.addClass(this.container.nativeElement,"k-animation-container-shown"),this.open.emit(),this.open.complete()}get currentOffset(){return this._currentOffset}set currentOffset(e){this.setContainerStyle("left",`${e.left}px`),this.setContainerStyle("top",`${e.top}px`),this._currentOffset=e}setZIndex(){this.anchor&&this.setContainerStyle("z-index",String(this.domService.zIndex(this.domService.nativeElement(this.anchor),this.container)))}reposition(){if(!ne())return;const{flip:e,offset:t}=this.position();(!this.currentOffset||((i,n)=>{const{left:e,top:t}=i,{left:o,top:r}=n;return Math.abs(e-o)>=1||Math.abs(t-r)>=1})(this.currentOffset,t))&&(this.currentOffset=t,Te(this.positionChange)&&this._zone.run(()=>this.positionChange.emit({offset:t,flip:e}))),this.animate&&this.animationService.play(this.contentContainer.nativeElement,this.animate,e),this.resizeSensor.acceptSize()}position(){const e=this._alignService.alignElement({anchor:this.domService.nativeElement(this.anchor),anchorAlign:this.anchorAlign,element:this.container,elementAlign:this.popupAlign,margin:this.margin,offset:this.offset,positionMode:this.positionMode});return this._positionService.positionElement({anchor:this.domService.nativeElement(this.anchor),anchorAlign:this.anchorAlign,collisions:this.collision,currentLocation:e,element:this.container,elementAlign:this.popupAlign,margin:this.margin})}onScroll(e){const t=Te(this.anchorViewportLeave);e||!t?this.reposition():t&&this._zone.run(()=>{this.anchorViewportLeave.emit()})}copyFontStyles(){!this.anchor||!this.copyAnchorStyles||this.domService.getFontStyles(this.domService.nativeElement(this.anchor)).forEach(e=>this.setContainerStyle(e.key,e.value))}updateFixedClass(){this._renderer["fixed"===this.positionMode?"addClass":"removeClass"](this.container.nativeElement,"k-animation-container-fixed")}setContainerStyle(e,t){this._renderer.setStyle(this.container.nativeElement,e,t)}unsubscribeReposition(){this.repositionSubscription&&this.repositionSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(Kme),s.rXU(kD),s.rXU(Yme),s.rXU(Jme),s.rXU(qme),s.rXU(Qme),s.rXU(s.sFG),s.rXU(s.SKi))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-popup"]],viewQuery:function(e,t){if(1&e&&(s.GBs(FVe,7),s.GBs(hs,7)),2&e){let o;s.mGM(o=s.lsd())&&(t.contentContainer=o.first),s.mGM(o=s.lsd())&&(t.resizeSensor=o.first)}},inputs:{animate:"animate",anchor:"anchor",anchorAlign:"anchorAlign",collision:"collision",popupAlign:"popupAlign",copyAnchorStyles:"copyAnchorStyles",popupClass:"popupClass",positionMode:"positionMode",offset:"offset",margin:"margin"},outputs:{anchorViewportLeave:"anchorViewportLeave",close:"close",open:"open",positionChange:"positionChange"},exportAs:["kendo-popup"],features:[s.Jv_([Kme,Qme,kD,Yme,Jme,qme]),s.OA$],ngContentSelectors:BVe,decls:6,vars:4,consts:[["container",""],[1,"k-child-animation-container"],[1,"k-popup",3,"ngClass"],[3,"ngTemplateOutlet","ngIf"],[3,"resize","rateLimit"]],template:function(e,t){if(1&e){const o=s.RV6();s.NAR(),s.j41(0,"div",1)(1,"div",2,0),s.SdG(3),s.DNE(4,VVe,0,0,"ng-template",3),s.j41(5,"kendo-resize-sensor",4),s.bIt("resize",function(){return s.eBV(o),s.Njj(t.onResize())}),s.k0s()()()}2&e&&(s.R7$(),s.Y8G("ngClass",t.popupClass),s.R7$(3),s.Y8G("ngTemplateOutlet",t.content)("ngIf",t.content),s.R7$(),s.Y8G("rateLimit",100))},dependencies:[hs,Be,qe,q],encapsulation:2}),i})();const o9e=new s.nKC("Popup Container");let Ts=(()=>{class i{constructor(e,t,o,r){this.applicationRef=e,this.componentFactoryResolver=t,this.injector=o,this.container=r}get rootViewContainer(){const e=this.applicationRef.components||[];if(e[0])return e[0];throw new Error("\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        ")}get rootViewContainerNode(){return this.container?this.container.nativeElement:this.getComponentRootNode(this.rootViewContainer)}open(e={}){const{component:t,nodes:o}=this.contentFrom(e.content),r=this.appendPopup(o,e.appendTo),a=r.instance;this.projectComponentInputs(r,e),r.changeDetectorRef.detectChanges(),t&&t.changeDetectorRef.detectChanges();const l=this.getComponentRootNode(r);return{close:()=>{t&&t.destroy(),r.destroy(),(i=>{i&&i.parentNode&&i.parentNode.removeChild(i)})(l)},content:t,popup:r,popupAnchorViewportLeave:a.anchorViewportLeave,popupClose:a.close,popupElement:l,popupOpen:a.open,popupPositionChange:a.positionChange}}appendPopup(e,t){const o=this.createComponent(e_e,e,t);return t||this.rootViewContainerNode.appendChild(this.getComponentRootNode(o)),o}getComponentRootNode(e){return e.location.nativeElement}getComponentFactory(e){return this.componentFactoryResolver.resolveComponentFactory(e)}createComponent(e,t,o){const r=this.getComponentFactory(e);if(o)return o.createComponent(r,void 0,this.injector,t);{const a=r.create(this.injector,t);return this.applicationRef.attachView(a.hostView),a}}projectComponentInputs(e,t){return Object.getOwnPropertyNames(t).filter(o=>"content"!==o||t.content instanceof s.C4Q).map(o=>{e.instance[o]=t[o]}),e}contentFrom(e){if(!e||e instanceof s.C4Q)return{component:null,nodes:[[]]};const t=this.createComponent(e);return{component:t,nodes:[t?[t.location.nativeElement]:[]]}}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(s.o8S),s.KVO(s.OM3),s.KVO(s.zZn),s.KVO(o9e,8))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),ia=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({providers:[Ts],imports:[[Ge,Mr]]}),i})();const r9e=["kendoButton",""],EI=["*"];function a9e(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",4),2&i){const e=s.XpG();s.Y8G("name",e.icon)("svgIcon",e.svgIcon)}}function l9e(i,n){if(1&i&&(s.j41(0,"span",5),s.nrm(1,"img",6),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("src",e.imageUrl,s.B4B)}}function c9e(i,n){if(1&i&&s.nrm(0,"span",7),2&i){const e=s.XpG();s.Y8G("ngClass",e.iconClass)}}function d9e(i,n){if(1&i&&s.nrm(0,"span",7),2&i){const e=s.XpG();s.Y8G("ngClass",e.arrowIcon.iconClass)}}function u9e(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",4),2&i){const e=s.XpG();s.Y8G("name",e.arrowIcon.icon||"caret-alt-down")("svgIcon",e.arrowIcon.svgIcon||e.caretAltDownIcon)}}const h9e=[[["","kendoButton",""],["kendo-button"]]],p9e=["[kendoButton], kendo-button"];function O9e(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",9),2&i){const e=s.XpG();s.Y8G("name",e.icon)("svgIcon",e.svgIcon)}}function T9e(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",10),2&i){const e=s.XpG();s.Y8G("customFontClass",e.customIconClass)}}function M9e(i,n){if(1&i&&(s.j41(0,"span",11),s.nrm(1,"span",12),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngClass",e.chipAvatarClass)}}function I9e(i,n){if(1&i&&(s.j41(0,"span",13),s.EFF(1),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.SpI(" ",e.label," ")}}function R9e(i,n){1&i&&s.SdG(0,0,["*ngIf","!label"])}function A9e(i,n){if(1&i){const e=s.RV6();s.j41(0,"span",14),s.bIt("click",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onMenuClick(o))}),s.nrm(1,"kendo-icon-wrapper",15),s.k0s()}if(2&i){const e=s.XpG();s.R7$(),s.Y8G("svgIcon",e.defaultMenuIcon||e.menuSvgIcon)("customFontClass",e.menuIcon)}}function x9e(i,n){if(1&i){const e=s.RV6();s.j41(0,"span",16),s.bIt("click",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onRemoveClick(o))}),s.nrm(1,"kendo-icon-wrapper",17),s.k0s()}if(2&i){const e=s.XpG();s.R7$(),s.Y8G("svgIcon",e.removeSvgIcon||e.defaultRemoveIcon)("customFontClass",e.removeIcon)}}let fJ=(()=>{class i{constructor(){this.buttonClicked=new Ke.B,this.buttonClicked$=this.buttonClicked.asObservable()}click(e){this.buttonClicked.next(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const IC={name:"@progress/kendo-angular-buttons",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925130,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},Ir=(Promise.resolve(null),i=>null!=i);function q9e(i){return 9===i.nodeType}function X1(i,n){if(i.closest)return i.closest(n);const e=Element.prototype.matches?(o,r)=>o.matches(r):(o,r)=>o.msMatchesSelector(r);let t=i;for(;t&&!q9e(t);){if(e(t,n))return t;t=t.parentNode}}const mJ={small:"sm",medium:"md",large:"lg"},n_e={small:"sm",medium:"md",large:"lg",full:"full"},GG=(i,n,e,t)=>{switch(n){case"size":return{toRemove:`k-${i}-${mJ[e]}`,toAdd:"none"!==t?`k-${i}-${mJ[t]}`:""};case"rounded":return{toRemove:`k-rounded-${n_e[e]}`,toAdd:"none"!==t?`k-rounded-${n_e[t]}`:""};case"fillMode":return{toRemove:`k-${i}-${e}`,toAdd:"none"!==t?`k-${i}-${t}`:""}}},i_e=(i,n,e,t,o)=>({toRemove:`k-${i}-${n}-${t}`,toAdd:"none"!==o?`k-${i}-${e}-${o}`:""}),_J="BUTTON";let Ht=(()=>{class i{constructor(e,t,o,r,a){this.renderer=t,this.service=o,this.ngZone=a,this.arrowIcon=!1,this.toggleable=!1,this.role="button",this.selectedChange=new s.bkB,this.click=new s.bkB,this.isDisabled=!1,this.caretAltDownIcon=qo,this._size="medium",this._rounded="medium",this._fillMode="solid",this._themeColor="base",this._focused=!1,this.subs=new be.yU,(0,_t.$)(IC),this.direction=r.rtl?"rtl":"ltr",this.subs.add(r.changes.subscribe(({rtl:l})=>this.direction=l?"rtl":"ltr")),this.element=e.nativeElement}get togglable(){return this.toggleable}set togglable(e){this.toggleable=e}get selected(){return this._selected||!1}set selected(e){this._selected=e}set tabIndex(e){this.element.tabIndex=e}get tabIndex(){return this.element.tabIndex}set iconClass(e){if((0,s.naY)()&&e&&(this.icon||this.svgIcon))throw new Error("Setting both icon/svgIcon and iconClass options at the same time is not supported.");this._iconClass=e}get iconClass(){return this._iconClass}set icon(e){if((0,s.naY)()&&e&&this.iconClass)throw new Error("Setting both icon/svgIcon and iconClass options at the same time is not supported.");this._icon=e}get icon(){return this._icon}set disabled(e){e&&ne()&&(i=>{const n=WY(i),e=bG(i);return n&&n.mozilla||e&&"firefox"===e.browser})(navigator.userAgent)&&this.blur(),this.isDisabled=e,this.renderer.setProperty(this.element,"disabled",e)}get disabled(){return this.isDisabled}set size(e){const t=e||"medium";this.handleClasses(t,"size"),this._size=t}get size(){return this._size}set rounded(e){const t=e||"medium";this.handleClasses(t,"rounded"),this._rounded=t}get rounded(){return this._rounded}set fillMode(e){const t=e||"solid";this.handleClasses(t,"fillMode"),this._fillMode=t}get fillMode(){return this._fillMode}set themeColor(e){const t=e||"base";this.handleThemeColor(t),this._themeColor=t}get themeColor(){return this._themeColor}set svgIcon(e){if((0,s.naY)()&&e&&this.iconClass)throw new Error("Setting both icon/svgIcon and iconClass options at the same time is not supported.");this._svgIcon=e}get svgIcon(){return this._svgIcon}set isFocused(e){this.toggleClass("k-focus",e),this._focused=e}get isFocused(){return this._focused}get classButton(){return!0}get isToggleable(){return this.toggleable}get iconButtonClass(){return(this.icon||this.iconClass||this.imageUrl||this.svgIcon)&&!this.hasText}get roleSetter(){return this.element.tagName===_J&&"button"===this.role?void 0:this.role}get classDisabled(){return this.isDisabled}get classActive(){return this.selected}get getDirection(){return this.direction}onFocus(){this.isFocused=!0}onBlur(){this.isFocused=!1}set primary(e){this.themeColor=e?"primary":"base"}set look(e){this.fillMode="default"===e?"solid":e}get nativeElement(){return this.element}ngOnInit(){const e=this.element.tagName,t="SPAN"===e||"KENDO-BUTTON"===e;!this.element.hasAttribute("role")&&this.togglable&&this.toggleAriaPressed(this.toggleable),this.role&&(e===_J&&"button"===this.role||this.setAttribute("role",this.role)),t&&!this.isDisabled&&(this.tabIndex=0),this.ngZone.runOutsideAngular(()=>{this.subs.add(this.renderer.listen(this.element,"click",this._onButtonClick.bind(this))),this.subs.add(this.renderer.listen(this.element,"keydown",o=>{t&&(o.keyCode===G.Space||o.keyCode===G.Enter)&&(this.ngZone.run(()=>{this.click.emit(o)}),this._onButtonClick())})),this.subs.add(this.renderer.listen(this.element,"mousedown",o=>{const a=this.element.tagName===_J,l=ne()&&kG(navigator.userAgent);!this.isDisabled&&a&&l&&(o.preventDefault(),this.element.focus())}))})}ngOnChanges(e){(wt("togglable",e)||wt("toggleable",e))&&this.toggleAriaPressed(this.toggleable)}ngAfterViewInit(){["size","rounded","fillMode"].forEach(t=>{this.handleClasses(this[t],t)})}ngOnDestroy(){this.subs.unsubscribe()}get hasText(){return ne()&&this.element.textContent.trim().length>0}focus(){ne()&&(this.element.focus(),this.isFocused=!0)}blur(){ne()&&(this.element.blur(),this.isFocused=!1)}setAttribute(e,t){this.renderer.setAttribute(this.element,e,t)}removeAttribute(e){this.renderer.removeAttribute(this.element,e)}setSelected(e){const t=this.selected!==e;this.selected=e,this.setAttribute("aria-pressed",this.selected.toString()),this.toggleClass("k-selected",this.selected),t&&Te(this.selectedChange)&&this.ngZone.run(()=>{this.selectedChange.emit(e)})}toggleAriaPressed(e){ne()&&(e?this.setAttribute("aria-pressed",this.selected.toString()):this.removeAttribute("aria-pressed"))}toggleClass(e,t){t?this.renderer.addClass(this.element,e):this.renderer.removeClass(this.element,e)}_onButtonClick(){!this.disabled&&this.service&&this.ngZone.run(()=>{this.service.click(this)}),this.togglable&&!this.service&&this.setSelected(!this.selected)}handleClasses(e,t){const o=this.element,r=GG("button",t,this[t],e);"fillMode"===t&&this.handleThemeColor(this.themeColor,this[t],e),r.toRemove&&this.renderer.removeClass(o,r.toRemove),r.toAdd&&this.renderer.addClass(o,r.toAdd)}handleThemeColor(e,t,o){const r=this.element,l=o||this.fillMode,c=i_e("button",t||this.fillMode,l,this.themeColor,e);this.renderer.removeClass(r,c.toRemove),"none"!==l&&"none"!==o&&c.toAdd&&this.renderer.addClass(r,c.toAdd)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(fJ,8),s.rXU(z),s.rXU(s.SKi))},i.\u0275cmp=s.VBU({type:i,selectors:[["button","kendoButton",""],["span","kendoButton",""],["kendo-button"]],hostVars:13,hostBindings:function(e,t){1&e&&s.bIt("focus",function(){return t.onFocus()})("blur",function(){return t.onBlur()}),2&e&&(s.BMQ("role",t.roleSetter)("aria-disabled",t.classDisabled)("dir",t.getDirection),s.AVh("k-button",t.classButton)("k-toggle-button",t.isToggleable)("k-icon-button",t.iconButtonClass)("k-disabled",t.classDisabled)("k-selected",t.classActive))},inputs:{arrowIcon:"arrowIcon",toggleable:"toggleable",togglable:"togglable",selected:"selected",tabIndex:"tabIndex",imageUrl:"imageUrl",iconClass:"iconClass",icon:"icon",disabled:"disabled",size:"size",rounded:"rounded",fillMode:"fillMode",themeColor:"themeColor",svgIcon:"svgIcon",role:"role",primary:"primary",look:"look"},outputs:{selectedChange:"selectedChange",click:"click"},exportAs:["kendoButton"],features:[s.Jv_([z,{provide:He,useValue:"kendo.button"}]),s.OA$],attrs:r9e,ngContentSelectors:EI,decls:7,vars:5,consts:[["innerCssClass","k-button-icon",3,"name","svgIcon",4,"ngIf"],["class","k-button-icon k-icon",4,"ngIf"],["class","k-button-icon",3,"ngClass",4,"ngIf"],[1,"k-button-text"],["innerCssClass","k-button-icon",3,"name","svgIcon"],[1,"k-button-icon","k-icon"],["role","presentation",1,"k-image",3,"src"],[1,"k-button-icon",3,"ngClass"]],template:function(e,t){1&e&&(s.NAR(),s.DNE(0,a9e,1,2,"kendo-icon-wrapper",0)(1,l9e,2,1,"span",1)(2,c9e,1,1,"span",2),s.j41(3,"span",3),s.SdG(4),s.k0s(),s.DNE(5,d9e,1,1,"span",2)(6,u9e,1,2,"kendo-icon-wrapper",0)),2&e&&(s.Y8G("ngIf",t.icon||t.svgIcon),s.R7$(),s.Y8G("ngIf",t.imageUrl),s.R7$(),s.Y8G("ngIf",t.iconClass),s.R7$(3),s.Y8G("ngIf",t.arrowIcon.iconClass),s.R7$(),s.Y8G("ngIf",t.arrowIcon&&!t.arrowIcon.iconClass))},dependencies:[Qe,q,Be],encapsulation:2}),i})();class gJ{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}const MD="tabindex";let SJ=(()=>{class i{constructor(e,t,o,r){this.service=e,this.renderer=o,this.element=r,this.selection="multiple",this.navigable=!0,this.navigate=new s.bkB,this._tabIndex=0,this.currentTabIndex=0,this.lastFocusedIndex=-1,this.subs=new be.yU,this.role="group",this.focusHandler=()=>{this.currentTabIndex=-1,this.defocus(this.buttons.toArray());const a=this.buttons.toArray().findIndex(c=>!c.disabled),l=-1===this.lastFocusedIndex?a:this.lastFocusedIndex;this.focus(this.buttons.filter((c,u)=>u===l))},(0,_t.$)(IC),this.subs.add(t.changes.subscribe(({rtl:a})=>this.direction=a?"rtl":"ltr"))}set tabIndex(e){this._tabIndex=e,this.currentTabIndex=e}get tabIndex(){return this._tabIndex}get wrapperClass(){return!0}get disabledClass(){return this.disabled}get stretchedClass(){return!!this.width}get dir(){return this.direction}get ariaDisabled(){return this.disabled}get wrapperWidth(){return this.width}get wrapperTabIndex(){return this.disabled?void 0:this.navigable?this.currentTabIndex:void 0}ngOnInit(){this.subs.add(this.service.buttonClicked$.subscribe(e=>{let t;this.isSelectionSingle()?(t=!0,this.deactivate(this.buttons.filter(o=>o!==e))):(this.navigable&&this.defocus(this.buttons.toArray()),t=!e.selected),e.togglable&&e.setSelected(t),this.navigable&&(this.currentTabIndex=-1,this.renderer.setAttribute(e,MD,"0"))})),this.handleSubs("focus",()=>this.navigable,this.focusHandler),this.handleSubs("keydown",()=>this.navigable&&!this.disabled,e=>this.navigateFocus(e)),this.handleSubs("focusout",e=>this.navigable&&e.relatedTarget&&e.relatedTarget.parentNode!==this.element.nativeElement,()=>{this.lastFocusedIndex=this.buttons.toArray().findIndex(e=>-1!==e.tabIndex),this.defocus(this.buttons.toArray()),this.currentTabIndex=this.tabIndex}),this.subs.add(Dt(this.element.nativeElement,"focusout").pipe(X(e=>this.navigable&&e.relatedTarget&&e.relatedTarget.parentNode!==this.element.nativeElement)).subscribe(()=>{this.defocus(this.buttons.toArray()),this.currentTabIndex=this.tabIndex}))}ngOnChanges(e){wt("disabled",e)&&this.buttons.forEach(t=>{Ir(this.disabled)&&(t.disabled=this.disabled)}),wt("navigable",e)&&(e.navigable.currentValue?(this.defocus(this.buttons.toArray()),this.currentTabIndex=0):(this.currentTabIndex=-1,this.buttons.forEach(t=>this.renderer.setAttribute(t,MD,"0"))))}ngAfterContentInit(){this.navigable&&this.defocus(this.buttons.toArray())}ngAfterViewChecked(){this.buttons.length&&(this.renderer.addClass(this.buttons.first.element,"k-group-start"),this.renderer.addClass(this.buttons.last.element,"k-group-end"))}ngOnDestroy(){this.subs.unsubscribe()}ngAfterContentChecked(){this.verifySettings()}navigateFocus(e){const t=this.buttons.toArray().filter(c=>!c.disabled),o=t.findIndex(c=>-1!==c.element.tabIndex),a=t.length-1,l=new gJ;e.keyCode===G.ArrowRight&&o<a&&(this.navigate.emit(l),l.isDefaultPrevented()||(this.defocus(t),this.focus(t.filter((c,u)=>u===o+1)))),e.keyCode===G.ArrowLeft&&o>0&&(this.navigate.emit(l),l.isDefaultPrevented()||(this.defocus(t),this.focus(t.filter((c,u)=>u===o-1))))}deactivate(e){e.forEach(t=>{t.setSelected(!1),this.navigable&&this.renderer.setAttribute(t,MD,"-1")})}activate(e){e.forEach(t=>{t.setSelected(!0),this.navigable&&this.renderer.setAttribute(t,MD,"0"),t.focus()})}defocus(e){e.forEach(t=>{this.renderer.setAttribute(t,MD,"-1")})}focus(e){e.forEach(t=>{this.renderer.setAttribute(t,MD,"0"),t.focus()})}verifySettings(){if((0,s.naY)()&&this.isSelectionSingle()&&this.buttons.filter(e=>e.selected).length>1)throw new Error("Having multiple selected buttons with single selection mode is not supported")}isSelectionSingle(){return"single"===this.selection}handleSubs(e,t,o){this.subs.add(Dt(this.element.nativeElement,e).pipe(X(t)).subscribe(o))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(fJ),s.rXU(z),s.rXU(s.sFG),s.rXU(s.aKT))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-buttongroup"]],contentQueries:function(e,t,o){if(1&e&&s.wni(o,Ht,4),2&e){let r;s.mGM(r=s.lsd())&&(t.buttons=r)}},hostVars:12,hostBindings:function(e,t){2&e&&(s.BMQ("role",t.role)("dir",t.dir)("aria-disabled",t.ariaDisabled)("tabindex",t.wrapperTabIndex),s.xc7("width",t.wrapperWidth),s.AVh("k-button-group",t.wrapperClass)("k-disabled",t.disabledClass)("k-button-group-stretched",t.stretchedClass))},inputs:{disabled:"disabled",selection:"selection",width:"width",tabIndex:"tabIndex",navigable:"navigable"},outputs:{navigate:"navigate"},exportAs:["kendoButtonGroup"],features:[s.Jv_([fJ,z,{provide:He,useValue:"kendo.buttongroup"}]),s.OA$],ngContentSelectors:p9e,decls:1,vars:0,template:function(e,t){1&e&&(s.NAR(h9e),s.SdG(0))},encapsulation:2}),i})(),cr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[xn]]}),i})(),tze=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,cr]]}),i})(),yI=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,xn]]}),i})();new s.nKC("navigation.config");let oze=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,ia,cr,yI],yI]}),i})(),f_e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,ia,yI,cr],yI]}),i})(),yJ=(()=>{class i{constructor(e,t,o,r){this.element=e,this.renderer=t,this.ngZone=o,this.localizationService=r,this.selected=!1,this.removable=!1,this.hasMenu=!1,this.disabled=!1,this.remove=new s.bkB,this.menuToggle=new s.bkB,this.contentClick=new s.bkB,this.tabIndex=0,this.hostClass=!0,this.defaultRemoveIcon=nf,this.defaultMenuIcon=oD,this._size="medium",this._rounded="medium",this._fillMode="solid",this._themeColor="base",this.focused=!1,this.subs=new be.yU,(0,_t.$)(IC),this.direction=r.rtl?"rtl":"ltr"}set size(e){const t=e||"medium";this.handleClasses(t,"size"),this._size=t}get size(){return this._size}set rounded(e){const t=e||"medium";this.handleClasses(t,"rounded"),this._rounded=t}get rounded(){return this._rounded}set fillMode(e){const t=e||"solid";this.handleClasses(t,"fillMode"),this._fillMode=t}get fillMode(){return this._fillMode}set themeColor(e){const t=e||"base";this.handleThemeColor(t),this._themeColor=t}get themeColor(){return this._themeColor}get hasIconClass(){return!!(this.icon||this.iconClass||this.avatarClass)}get disabledClass(){return this.disabled}get selectedClass(){return this.selected}get focusedClass(){return this.focused}ngOnInit(){this.subs.add(this.localizationService.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr")),this.renderer.setAttribute(this.element.nativeElement,"role","button")}ngOnDestroy(){this.subs.unsubscribe()}ngOnChanges(e){e&&e.selected&&(this.element.nativeElement.hasAttribute("aria-selected")||this.renderer.setAttribute(this.element.nativeElement,"aria-pressed",`${this.selected}`))}ngAfterViewInit(){const e=this.element.nativeElement;["size","rounded","fillMode"].forEach(o=>{this.handleClasses(this[o],o)}),this.attachElementEventHandlers(e)}get kendoIconClass(){return this.verifyIconSettings([this.iconClass,this.avatarClass]),`k-i-${this.icon}`}get customIconClass(){return this.verifyIconSettings([this.icon,this.avatarClass]),this.iconClass}get chipAvatarClass(){return this.verifyIconSettings([this.icon,this.iconClass]),this.avatarClass}get removeIconClass(){return this.removeIcon?this.removeIcon:"k-i-x-circle"}focus(){ne()&&this.element.nativeElement.focus()}blur(){ne()&&this.element.nativeElement.blur()}onRemoveClick(e){this.removable&&this.remove.emit({sender:this,originalEvent:e})}onMenuClick(e){this.hasMenu&&this.menuToggle.emit({sender:this,originalEvent:e})}attachElementEventHandlers(e){this.ngZone.runOutsideAngular(()=>{this.subs.add(this.renderer.listen(e,"focus",()=>{this.renderer.addClass(e,"k-focus")})),this.subs.add(this.renderer.listen(e,"blur",()=>{this.renderer.removeClass(e,"k-focus")})),this.subs.add(this.renderer.listen(e,"click",t=>{X1(t.target,".k-chip-action")||this.ngZone.run(()=>{this.contentClick.emit({sender:this,originalEvent:t})})})),this.subs.add(this.renderer.listen(e,"keydown",this.keyDownHandler.bind(this)))})}verifyIconSettings(e){if((0,s.naY)()&&e.filter(t=>null!=t).length>0)throw this.renderer.removeClass(this.element.nativeElement,"k-chip-has-icon"),new Error("Invalid configuration: Having multiple icons is not supported. Only a single icon on a chip can be displayed.")}handleClasses(e,t){const o=this.element.nativeElement,r=GG("chip",t,this[t],e);"fillMode"===t&&this.handleThemeColor(this.themeColor,this[t],e),r.toRemove&&this.renderer.removeClass(o,r.toRemove),r.toAdd&&this.renderer.addClass(o,r.toAdd)}handleThemeColor(e,t,o){const r=this.element.nativeElement,l=o||this.fillMode,c=i_e("chip",t||this.fillMode,l,this.themeColor,e);this.renderer.removeClass(r,c.toRemove),"none"!==l&&"none"!==o&&c.toAdd&&this.renderer.addClass(r,c.toAdd)}keyDownHandler(e){const o=e.keyCode===G.Delete||e.keyCode===G.Backspace;this.disabled||(e.keyCode===G.Enter||e.keyCode===G.Space?this.ngZone.run(()=>{this.contentClick.emit({sender:this,originalEvent:e})}):o&&this.removable&&this.ngZone.run(()=>{this.remove.emit({sender:this,originalEvent:e})}))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(s.SKi),s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-chip"]],hostVars:13,hostBindings:function(e,t){2&e&&(s.BMQ("tabindex",t.tabIndex)("aria-disabled",t.disabledClass)("dir",t.direction),s.AVh("k-chip",t.hostClass)("k-chip-has-icon",t.hasIconClass)("k-disabled",t.disabledClass)("k-selected",t.selectedClass)("k-focus",t.focusedClass))},inputs:{label:"label",icon:"icon",svgIcon:"svgIcon",iconClass:"iconClass",avatarClass:"avatarClass",selected:"selected",removable:"removable",removeIcon:"removeIcon",removeSvgIcon:"removeSvgIcon",hasMenu:"hasMenu",menuIcon:"menuIcon",menuSvgIcon:"menuSvgIcon",disabled:"disabled",size:"size",rounded:"rounded",fillMode:"fillMode",themeColor:"themeColor"},outputs:{remove:"remove",menuToggle:"menuToggle",contentClick:"contentClick"},features:[s.Jv_([z,{provide:He,useValue:"kendo.chip"}]),s.OA$],ngContentSelectors:EI,decls:9,vars:7,consts:[["size","small","innerCssClass","k-chip-icon",3,"name","svgIcon",4,"ngIf"],["size","small","innerCssClass","k-chip-icon",3,"customFontClass",4,"ngIf"],["class","k-chip-avatar k-avatar k-avatar-md k-avatar-solid k-avatar-solid-primary k-rounded-full",4,"ngIf"],[1,"k-chip-content"],["class","k-chip-label",4,"ngIf"],[4,"ngIf"],[1,"k-chip-actions"],["class","k-chip-action",3,"click",4,"ngIf"],["class","k-chip-action k-chip-remove-action",3,"click",4,"ngIf"],["size","small","innerCssClass","k-chip-icon",3,"name","svgIcon"],["size","small","innerCssClass","k-chip-icon",3,"customFontClass"],[1,"k-chip-avatar","k-avatar","k-avatar-md","k-avatar-solid","k-avatar-solid-primary","k-rounded-full"],[1,"k-avatar-image",3,"ngClass"],[1,"k-chip-label"],[1,"k-chip-action",3,"click"],["name","more-vertical","size","small",3,"svgIcon","customFontClass"],[1,"k-chip-action","k-chip-remove-action",3,"click"],["name","x-circle","size","small",3,"svgIcon","customFontClass"]],template:function(e,t){1&e&&(s.NAR(),s.DNE(0,O9e,1,2,"kendo-icon-wrapper",0)(1,T9e,1,1,"kendo-icon-wrapper",1)(2,M9e,2,1,"span",2),s.j41(3,"span",3),s.DNE(4,I9e,2,1,"span",4)(5,R9e,1,0,"ng-content",5),s.k0s(),s.j41(6,"span",6),s.DNE(7,A9e,2,2,"span",7)(8,x9e,2,2,"span",8),s.k0s()),2&e&&(s.Y8G("ngIf",t.icon||t.svgIcon),s.R7$(),s.Y8G("ngIf",t.iconClass),s.R7$(),s.Y8G("ngIf",t.avatarClass),s.R7$(2),s.Y8G("ngIf",t.label),s.R7$(),s.Y8G("ngIf",!t.label),s.R7$(2),s.Y8G("ngIf",t.hasMenu),s.R7$(),s.Y8G("ngIf",t.removable))},dependencies:[Qe,q,Be],encapsulation:2}),i})(),m_e=(()=>{class i{constructor(e,t,o,r){this.localizationService=e,this.renderer=t,this.element=o,this.ngZone=r,this.hostClass=!0,this.orientation="horizontal",this.selection="none",this.selectedChange=new s.bkB,this.remove=new s.bkB,this.role="listbox",this._size="medium",this.subs=new be.yU,this._navigable=!1,this.currentActiveIndex=0,(0,_t.$)(IC),this.direction=e.rtl?"rtl":"ltr"}set size(e){const t=e||"medium";this.handleClasses(t,"size"),this._size=t}get size(){return this._size}get single(){return"single"===this.selection}get multiple(){return"multiple"===this.selection}onClick(e){const t=e.target,o=X1(t,".k-chip-remove-action"),r=X1(t,".k-chip"),a=this.chips.find(l=>r===l.element.nativeElement);this.currentActiveIndex=this.chips.toArray().indexOf(a),a&&a.focus(),a&&this.navigable&&(this.chips.forEach(l=>{this.renderer.setAttribute(l.element.nativeElement,"tabindex","-1")}),this.renderer.setAttribute(a.element.nativeElement,"tabindex","0")),o&&r&&this.remove.emit({sender:this,originalEvent:e,removedChip:a}),"none"!==this.selection&&r&&!o&&this.setSelection(a)}set navigable(e){this._navigable=e,this.chips?.forEach(t=>this.renderer.setAttribute(t.element.nativeElement,"tabindex",e?"-1":"0")),this.chips?.first&&this.renderer.setAttribute(this.chips.first.element.nativeElement,"tabindex","0")}get navigable(){return this._navigable}ngOnInit(){this.dynamicRTLSubscription=this.localizationService.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr")}ngAfterViewInit(){["size"].forEach(t=>{this.handleClasses(this[t],t)}),this.attachElementEventHandlers(),this.updateChips()}ngAfterContentInit(){this.subs.add(this.chips?.changes.subscribe(()=>this.updateChips()))}ngOnDestroy(){this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe(),this.subs.unsubscribe()}selectedChips(){return this.chips.reduce((e,t,o)=>t.selected?e.concat(o):e,[])}setSelection(e){"single"===this.selection&&this.clearSelection(e),e.selected=!e.selected,this.renderer.setAttribute(e.element.nativeElement,"aria-selected",`${e.selected}`),this.selectedChange.emit(this.selectedChips())}clearSelection(e){this.chips.forEach(t=>{e!==t&&(t.selected=!1,this.renderer.setAttribute(t.element.nativeElement,"aria-selected","false"))})}handleClasses(e,t){const o=this.element.nativeElement,r=GG("chip-list",t,this[t],e);r.toRemove&&this.renderer.removeClass(o,r.toRemove),r.toAdd&&this.renderer.addClass(o,r.toAdd)}attachElementEventHandlers(){const e=this.element.nativeElement;this.ngZone.runOutsideAngular(()=>{this.subs.add(this.renderer.listen(e,"keydown",this.keyDownHandler.bind(this)))})}keyDownHandler(e){const o=e.keyCode===G.Delete||e.keyCode===G.Backspace,r=e.keyCode===G.ArrowLeft,a=e.keyCode===G.ArrowRight;if(e.keyCode===G.Enter||e.keyCode===G.Space){const c=X1(e.target,".k-chip"),u=this.chips.find(f=>c===f.element.nativeElement);this.currentActiveIndex=this.chips.toArray().findIndex(f=>c===f.element.nativeElement),"none"!==this.selection&&c&&this.ngZone.run(()=>{this.setSelection(u)})}else if(o){const c=X1(e.target,".k-chip"),u=this.chips.find(f=>c===f.element.nativeElement);if(c){const f={sender:this,originalEvent:e,removedChip:u};this.ngZone.run(()=>{this.remove.emit(f)})}}else r?this.handleArrowKeys("left"):a&&this.handleArrowKeys("right")}handleArrowKeys(e){this.navigable&&(this.currentActiveIndex=this.currentActiveIndex+("left"===e?-1:1),this.currentActiveIndex>=this.chips.length?this.currentActiveIndex=0:this.currentActiveIndex<0&&(this.currentActiveIndex=this.chips.length-1),this.chips.forEach((o,r)=>{this.renderer.setAttribute(o.element.nativeElement,"tabindex","-1"),r===this.currentActiveIndex&&(this.renderer.setAttribute(o.element.nativeElement,"tabindex","0"),o.focus())}))}updateChips(){this.normalizeActiveIndex(),this.chips.forEach((e,t)=>{const o=e.element.nativeElement;this.renderer.removeAttribute(o,"aria-pressed"),this.renderer.setAttribute(o,"aria-selected",`${e.selected}`),"listbox"===this.role&&this.renderer.setAttribute(o,"role","option"),this.navigable&&(this.renderer.setAttribute(o,"tabindex","-1"),t===this.currentActiveIndex&&(this.renderer.setAttribute(o,"tabindex","0"),ne()&&document.activeElement.closest(".k-chip-list")&&e.focus()),e.removable&&this.renderer.setAttribute(o,"aria-keyshortcuts","Enter Delete"))})}normalizeActiveIndex(){this.currentActiveIndex>=this.chips.length&&(this.currentActiveIndex=Math.max(this.chips.length-1,0))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z),s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(s.SKi))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-chiplist"],["kendo-chip-list"]],contentQueries:function(e,t,o){if(1&e&&s.wni(o,yJ,4),2&e){let r;s.mGM(r=s.lsd())&&(t.chips=r)}},hostVars:10,hostBindings:function(e,t){1&e&&s.bIt("click",function(r){return t.onClick(r)}),2&e&&(s.BMQ("aria-orientation",t.orientation)("dir",t.direction)("aria-multiselectable",t.multiple)("role",t.role),s.AVh("k-chip-list",t.hostClass)("k-selection-single",t.single)("k-selection-multiple",t.multiple))},inputs:{selection:"selection",size:"size",role:"role",navigable:"navigable"},outputs:{selectedChange:"selectedChange",remove:"remove"},features:[s.Jv_([z,{provide:He,useValue:"kendo.chiplist"}])],ngContentSelectors:EI,decls:1,vars:0,template:function(e,t){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2}),i})(),__e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,xn]]}),i})(),vze=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,ia,yI,No,xn]]}),i})(),ID=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[tze,cr,oze,f_e,__e,vze]}),i})();const AC=["*"];function Cze(i,n){1&i&&s.SdG(0,0,["*ngIf","!actions"])}function bze(i,n){1&i&&(s.qex(0),s.nrm(1,"span",6),s.bVm())}function Eze(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",7),s.bIt("click",function(o){s.eBV(e);const r=s.XpG().$implicit,a=s.XpG(2);return s.Njj(a.onButtonClick(r,o))}),s.EFF(1),s.k0s()}if(2&i){const e=s.XpG().$implicit,t=s.XpG(2);s.Y8G("ngClass",t.buttonClass(e)),s.BMQ("aria-label",e.text),s.R7$(),s.SpI(" ",e.text," ")}}function yze(i,n){if(1&i&&(s.qex(0),s.DNE(1,bze,2,0,"ng-container",3)(2,Eze,2,3,"ng-template",null,1,s.C5r),s.bVm()),2&i){const e=n.$implicit,t=s.sdS(3),o=s.XpG(2);s.R7$(),s.Y8G("ngIf",o.isDivider(e))("ngIfElse",t)}}function Dze(i,n){if(1&i&&(s.qex(0),s.DNE(1,yze,4,2,"ng-container",5),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngForOf",e.actionsArray)}}function wze(i,n){}const kze=["dialog"],Oze=[[["kendo-dialog-titlebar"]],"*",[["kendo-dialog-actions"]]],Tze=["kendo-dialog-titlebar","*","kendo-dialog-actions"];function Mze(i,n){if(1&i&&(s.j41(0,"kendo-dialog-titlebar",9),s.EFF(1),s.k0s()),2&i){const e=s.XpG();s.Y8G("closeTitle",e.closeTitle)("id",e.titleId),s.R7$(),s.JRh(e.title)}}function Ize(i,n){1&i&&s.SdG(0,0,["*ngIf","!title"])}function Rze(i,n){1&i&&s.SdG(0,1,["*ngIf","!contentTemplate"])}function Aze(i,n){}function xze(i,n){if(1&i&&s.DNE(0,Aze,0,0,"ng-template",10),2&i){const e=s.XpG();s.Y8G("ngTemplateOutlet",e.contentTemplate)}}function Nze(i,n){1&i&&s.SdG(0,2,["*ngIf","!actions"])}function Lze(i,n){if(1&i&&s.nrm(0,"kendo-dialog-actions",11),2&i){const e=s.XpG();s.Y8G("actions",e.actions)("layout",e.actionsLayout)}}function Pze(i,n){1&i&&s.nrm(0,"div",12)}const Gze=i=>({$implicit:i});function Uze(i,n){1&i&&s.SdG(0,0,["*ngIf","!template"])}function Fze(i,n){}function Bze(i,n){if(1&i&&s.DNE(0,Fze,0,0,"ng-template",1),2&i){const e=s.XpG();s.Y8G("ngTemplateOutlet",e.template)("ngTemplateOutletContext",s.eq3(2,Gze,e.service))}}const Vze=["kendoWindowMinimizeAction",""];function zze(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",4),2&i){const e=s.XpG();s.Y8G("svgIcon",e.windowMinimizeIcon)}}function Hze(i,n){if(1&i&&(s.j41(0,"span",5),s.nrm(1,"img",6),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("src",e.imageUrl,s.B4B)}}function jze(i,n){if(1&i&&s.nrm(0,"span",7),2&i){const e=s.XpG();s.Y8G("ngClass",e.iconClass)}}const $ze=["kendoWindowMaximizeAction",""];function Xze(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",4),2&i){const e=s.XpG();s.Y8G("svgIcon",e.windowIcon)}}function Wze(i,n){if(1&i&&(s.j41(0,"span",5),s.nrm(1,"img",6),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("src",e.imageUrl,s.B4B)}}function Kze(i,n){if(1&i&&s.nrm(0,"span",7),2&i){const e=s.XpG();s.Y8G("ngClass",e.iconClass)}}const Yze=["kendoWindowRestoreAction",""];function Jze(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",4),2&i){const e=s.XpG();s.Y8G("svgIcon",e.windowRestoreIcon)}}function qze(i,n){if(1&i&&(s.j41(0,"span",5),s.nrm(1,"img",6),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("src",e.imageUrl,s.B4B)}}function Qze(i,n){if(1&i&&s.nrm(0,"span",7),2&i){const e=s.XpG();s.Y8G("ngClass",e.iconClass)}}const Zze=["kendoWindowCloseAction",""];function eHe(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",4),2&i){const e=s.XpG();s.Y8G("svgIcon",e.xIcon)}}function tHe(i,n){if(1&i&&(s.j41(0,"span",5),s.nrm(1,"img",6),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("src",e.imageUrl,s.B4B)}}function nHe(i,n){if(1&i&&s.nrm(0,"span",7),2&i){const e=s.XpG();s.Y8G("ngClass",e.iconClass)}}const iHe=[[["kendo-window-titlebar"]],"*"],sHe=["kendo-window-titlebar","*"];function oHe(i,n){if(1&i&&(s.j41(0,"kendo-window-titlebar",6)(1,"span",7),s.EFF(2),s.k0s(),s.j41(3,"div",8),s.nrm(4,"button",9)(5,"button",10)(6,"button",11)(7,"button",12),s.k0s()()),2&i){const e=s.XpG();s.Y8G("template",e.titleBarTemplate)("id",e.titleId),s.R7$(2),s.JRh(e.title),s.R7$(2),s.BMQ("title",e.minimizeButtonTitle)("aria-label",e.minimizeButtonTitle),s.R7$(),s.BMQ("title",e.maximizeButtonTitle)("aria-label",e.maximizeButtonTitle),s.R7$(),s.BMQ("title",e.restoreButtonTitle)("aria-label",e.restoreButtonTitle),s.R7$(),s.BMQ("title",e.closeButtonTitle)("aria-label",e.closeButtonTitle)}}function rHe(i,n){1&i&&s.SdG(0,0,["*ngIf","!showDefaultTitleBar"])}function aHe(i,n){1&i&&s.SdG(0,1,["*ngIf","!contentTemplate"])}function lHe(i,n){}function cHe(i,n){if(1&i&&s.DNE(0,lHe,0,0,"ng-template",14),2&i){const e=s.XpG(2);s.Y8G("ngTemplateOutlet",e.contentTemplate)}}function dHe(i,n){if(1&i&&(s.j41(0,"div",13),s.DNE(1,aHe,1,0,"ng-content",2)(2,cHe,1,1,null,2),s.k0s()),2&i){const e=s.XpG();s.Y8G("hidden","minimized"===e.state&&e.keepContent),s.R7$(),s.Y8G("ngIf",!e.contentTemplate),s.R7$(),s.Y8G("ngIf",e.contentTemplate)}}function uHe(i,n){1&i&&s.nrm(0,"div",16),2&i&&s.Y8G("direction",n.$implicit)}function hHe(i,n){if(1&i&&s.DNE(0,uHe,1,1,"div",15),2&i){const e=s.XpG();s.Y8G("ngForOf",e.resizeDirections)}}function pHe(i,n){1&i&&s.nrm(0,"div",17)}const Mn=i=>null!=i,O_e=i=>String(i).trim().split(" "),mHe=/^(?:a|input|select|textarea|button|object)$/i;var Ms=function(i){return i[i.esc=27]="esc",i[i.tab=9]="tab",i[i.enter=13]="enter",i[i.space=32]="space",i[i.ctrl=17]="ctrl",i[i.shift=16]="shift",i[i.left=37]="left",i[i.up=38]="up",i[i.right=39]="right",i[i.down=40]="down",i}(Ms||{});const T_e="k-dialog-wrapper k-actions k-dialog-titlebar-action",RD=(i,n)=>{const e=O_e(n);return!!O_e(i.className).find(t=>e.indexOf(t)>=0)},M_e=(i,n=!0)=>{if(i.tagName){const e=i.tagName.toLowerCase(),t=i.getAttribute("tabIndex"),o=null!==t&&!isNaN(t)&&t>-1;let r=!1;return r=mHe.test(e)?!i.disabled:o,r&&(!n||(i=>{const n=i.getBoundingClientRect();return!(!n.width||!n.height)&&"hidden"!==window.getComputedStyle(i).visibility})(i))}return!1},wI=i=>yHe(i)?vHe(i):DJ(i)?CHe(i):Array.isArray(i)?bHe(i):void 0,vHe=i=>{const n=[];return Object.keys(i).forEach(e=>{const t=wJ(e);i[e]&&t[0]&&n.push(...t)}),n},CHe=i=>{const n=[];return wJ(i).forEach(t=>{n.push(t)}),n},bHe=i=>{const n=[];return i.forEach(e=>{const t=wJ(e);t[0]&&n.push(...t)}),n},I_e=({originalEvent:i})=>{i.stopPropagation(),i.preventDefault()},EHe=["n","e","s","w","se","sw","ne","nw"],kI=["top","left","width","height"],DJ=i=>i instanceof String||"string"==typeof i,yHe=i=>Mn(i)&&!Array.isArray(i)&&"object"==typeof i,AD=i=>i+((i=>"number"==typeof i&&isFinite(i))(i)?"px":""),wJ=i=>i.trim().replace(/\s+/g," ").split(" ");let Cd=(()=>{class i{constructor(e){this.el=e,this.layout="stretched",this.action=new s.bkB,this.hostClasses=!0}set actions(e){if(e instanceof s.C4Q)this.actionsTemplate=e;else{if(!Array.isArray(e))throw new Error('"actions" must be either TemplateRef or DialogAction[] instance.');this.actionsArray=e}}get startClassName(){return"start"===this.layout}get centerClassName(){return"center"===this.layout}get endClassName(){return"end"===this.layout}get stretchedClassName(){return"stretched"===this.layout}onButtonClick(e,t){this.action.emit(e)}buttonClass(e){let t=["k-button k-button-md k-rounded-md"];const o=e.fillMode?e.fillMode:"solid",r=e.themeColor?e.themeColor:"base",a=e.cssClass?wI(e.cssClass):[];return t.push(`k-button-${o} k-button-${o}-${r}`),a.length>0&&(t=t.concat(a)),t.join(" ")}isDivider(e){return"spacer"===e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-dialog-actions"]],hostVars:16,hostBindings:function(e,t){2&e&&s.AVh("k-actions",t.hostClasses)("k-actions-horizontal",t.hostClasses)("k-window-actions",t.hostClasses)("k-dialog-actions",t.hostClasses)("k-actions-start",t.startClassName)("k-actions-center",t.centerClassName)("k-actions-end",t.endClassName)("k-actions-stretched",t.stretchedClassName)},inputs:{actions:"actions",layout:"layout"},outputs:{action:"action"},ngContentSelectors:AC,decls:4,vars:4,consts:[["actionTemplate",""],["defaultAction",""],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet"],[4,"ngFor","ngForOf"],[1,"k-spacer"],["type","button",3,"click","ngClass"]],template:function(e,t){if(1&e&&(s.NAR(),s.DNE(0,Cze,1,0,"ng-content",2)(1,Dze,2,1,"ng-container",3)(2,wze,0,0,"ng-template",4,0,s.C5r)),2&e){const o=s.sdS(3);s.Y8G("ngIf",!t.actions),s.R7$(),s.Y8G("ngIf",t.actionsArray)("ngIfElse",o),s.R7$(),s.Y8G("ngTemplateOutlet",t.actionsTemplate)}},dependencies:[q,ut,Be,qe],encapsulation:2}),i})();class kJ{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}const R_e=new s.nKC("Dialog LocalizationService");let A_e=(()=>{class i extends z{constructor(e,t,o,r){super(e,t,o),this.dialogLocalization=r}get(e){return this.dialogLocalization?this.dialogLocalization.get(e):super.get(e)}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(He),s.KVO(Cu,8),s.KVO(kc,8),s.KVO(R_e,8))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),BG=(()=>{class i extends yi{}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275dir=s.FsC({type:i,selectors:[["kendo-dialog-messages-base"]],inputs:{closeTitle:"closeTitle",restoreTitle:"restoreTitle",maximizeTitle:"maximizeTitle",minimizeTitle:"minimizeTitle"},features:[s.Vt3]}),i})(),VG=(()=>{class i extends BG{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoDialogLocalizedMessages",""],["","kendoWindowLocalizedMessages",""],["","kendoDialogTitleBarLocalizedMessages",""]],features:[s.Jv_([{provide:BG,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})(),bd=(()=>{class i{constructor(e,t,o){this.zone=e,this.hostElement=t,this.localizationService=o,this.close=new s.bkB,this.xIcon=go}get className(){return!0}get closeButtonTitle(){return this.closeTitle||this.localizationService.get("closeTitle")}ngAfterViewInit(){this.zone.onStable.pipe(We(1)).subscribe(()=>{this.hostElement.nativeElement.querySelector(".k-dialog-title").setAttribute("id",this.id)})}onCloseClick(e){e.preventDefault();const t=new kJ;this.close.emit(t)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.SKi),s.rXU(s.aKT),s.rXU(z,8))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-dialog-titlebar"]],hostVars:4,hostBindings:function(e,t){2&e&&s.AVh("k-window-titlebar",t.className)("k-dialog-titlebar",t.className)},inputs:{id:"id",closeTitle:"closeTitle"},outputs:{close:"close"},features:[s.Jv_([A_e,{provide:z,useExisting:A_e},{provide:He,useValue:"kendo.dialog"}])],ngContentSelectors:AC,decls:5,vars:3,consts:()=>{let n;return n="Chiudi",[["kendoDialogTitleBarLocalizedMessages","","closeTitle",n],[1,"k-window-title","k-dialog-title"],[1,"k-window-titlebar-actions","k-dialog-titlebar-actions"],["kendoButton","","fillMode","flat","type","button","icon","close",1,"k-window-titlebar-action","k-dialog-titlebar-action",3,"click","svgIcon"]]},template:function(e,t){1&e&&(s.NAR(),s.qex(0,0),s.j41(1,"span",1),s.SdG(2),s.k0s(),s.j41(3,"div",2)(4,"button",3),s.bIt("click",function(r){return t.onCloseClick(r)}),s.k0s()(),s.bVm()),2&e&&(s.R7$(4),s.Y8G("svgIcon",t.xIcon),s.BMQ("title",t.closeButtonTitle)("aria-label",t.closeButtonTitle))},dependencies:[Ht,VG],encapsulation:2}),i})();const x_e={name:"@progress/kendo-angular-dialog",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925201,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};class xC{}const MHe={duration:300,type:"translate"};let OJ=(()=>{class i{constructor(e,t,o,r,a,l){this.wrapper=e,this.renderer=t,this.cdr=r,this.ngZone=a,this.builder=l,this.actionsLayout="stretched",this.animation=!0,this.titleId=null,this.contentId=null,this.showLicenseWatermark=!1,this.action=new s.bkB,this.close=new s.bkB,this.tabIndex=0,this._themeColor=null,this.subscriptions=[],this.domSubs=new be.yU;const c=(0,_t.$)(x_e);this.showLicenseWatermark=s_(c),this.direction=o.rtl?"rtl":"ltr",this.subscriptions.push(o.changes.subscribe(({rtl:u})=>this.direction=u?"rtl":"ltr")),this.titleId=this.generateTitleId(),this.contentId=this.generateContentId()}set themeColor(e){this.handleThemeColorClass(this.themeColor,e),this._themeColor=e}get themeColor(){return this._themeColor}set htmlAttributes(e){_me(e,this.renderer,this.wrapper.nativeElement);const t=this.wrapper.nativeElement,o=t.getAttribute("dir"),r=t.getAttribute("tabindex");this.direction!==o&&o&&(this.direction=o),this.tabIndex!==r&&r&&(this.tabIndex=r),this._htmlAttributes=e}get htmlAttributes(){return this._htmlAttributes}set cssClass(e){this.setServiceClasses(this._cssClass,e),this._cssClass=e}get cssClass(){return this._cssClass}get dir(){return this.direction}ngAfterContentInit(){this.bubble("close",this.titlebarContent.first),this.renderer.setAttribute(this.wrapper.nativeElement.querySelector(".k-dialog"),"aria-describedby",this.contentId),this.titlebarContent.first?this.titlebarContent.first.id=this.titleId:this.subscriptions.push(this.titlebarContent.changes.subscribe(()=>{Mn(this.titlebarContent.first)&&(this.titlebarContent.first.id=this.titleId,this.ngZone.onStable.pipe(We(1)).subscribe(()=>{this.bubble("close",this.titlebarContent.first),this.renderer.setAttribute(this.wrapper.nativeElement.querySelector(".k-dialog"),"aria-labelledby",this.titleId)}))}))}ngAfterViewInit(){ne()&&(this.handleInitialFocus(),this.bubble("close",this.titlebarView.first),this.bubble("action",this.actionsView),this.titlebarView.first||this.titlebarContent.first?this.renderer.setAttribute(this.wrapper.nativeElement.querySelector(".k-dialog"),"aria-labelledby",this.titleId):this.subscriptions.push(this.titlebarView.changes.subscribe(()=>{Mn(this.titlebarView.first)&&(this.titlebarView.first.id=this.titleId,this.ngZone.onStable.pipe(We(1)).subscribe(()=>{this.bubble("close",this.titlebarView.first),this.renderer.setAttribute(this.wrapper.nativeElement.querySelector(".k-dialog"),"aria-labelledby",this.titleId)}))})),this.initDomEvents(),this.handleThemeColorClass(null,this.themeColor))}ngOnInit(){this.animation&&((i,n,e,t)=>{let o=n;"boolean"!=typeof i&&(o=i,o.duration=o.duration?o.duration:n.duration);const r=function kHe(i,n,e){switch(e){case"slide":{const t="left"===n||"right"===n?"translateX":"translateY";return[Xe({transform:`${t}(${"right"===n||"down"===n?-100:100}%)`}),ii(`${i}ms ease-in`,Xe({transform:`${t}(0%)`}))]}case"expand":{const t="up"===n||"down"===n?"scaleY":"scaleX",r=1;let a;return a="down"===n?"top":"left"===n?"right":"right"===n?"left":"bottom",[Xe({transform:`${t}(0)`,transformOrigin:a}),ii(`${i}ms ease-in`,Xe({transform:`${t}(${r})`}))]}case"zoom":return[ii(i,q6([Xe({transform:"scale(0)"}),Xe({transform:"scale(1)"})]))];case"fade":return[ii(i,q6([Xe({opacity:"0"}),Xe({opacity:"1"})]))];default:return[Xe({transform:"translate(0, -10%)"}),ii(`${i}ms cubic-bezier(.2, 1, .2, 1)`)]}}(o.duration,o.direction,o.type);((i,n,e)=>{let o=i.build(n).create(e);return o.onDone(()=>{o&&(o.destroy(),o=null)}),o})(t,r,e).play()})(this.animation,MHe,this.dialog.nativeElement,this.builder),this.renderer.removeAttribute(this.wrapper.nativeElement,"title"),this.cdr.detectChanges()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.subscriptions=[],this.domSubs&&this.domSubs.unsubscribe()}focus(){const e=this.wrapper.nativeElement;Mn(e)&&e.focus()}initDomEvents(){this.wrapper&&this.ngZone.runOutsideAngular(()=>{this.domSubs.add(this.renderer.listen(this.wrapper.nativeElement,"keydown",e=>{this.onKeyDown(e)}))})}onKeyDown(e){const t=e.target,o=t.parentElement;(RD(t,T_e)||RD(o,T_e))&&e.keyCode===Ms.esc&&this.ngZone.run(()=>{this.close.emit(new xC)}),RD(t,"k-button")&&RD(o,"k-actions")&&(e.keyCode===Ms.left||e.keyCode===Ms.right)&&this.ngZone.run(()=>{this.handleActionButtonFocus(o,e.keyCode)}),e.keyCode===Ms.tab&&this.ngZone.run(()=>{this.keepFocusWithinComponent(t,e)})}setServiceClasses(e,t){const o=this.wrapper.nativeElement;e&&wI(e).forEach(r=>{this.renderer.removeClass(o,r)}),t&&wI(t).forEach(r=>{this.renderer.addClass(o,r)})}handleInitialFocus(){const e=this.wrapper.nativeElement,t=this.findPrimary(e);if(this.autoFocusedElement){const o=e.querySelector(this.autoFocusedElement);o&&o.focus()}else this.shouldFocusPrimary(t)?t.focus():e.focus()}findPrimary(e){return(i=>{for(let n=i.length-1;n>=0;n--){const e=i[n].classList;for(let t=0;t<e.length;t++)if(e[t].endsWith("-primary"))return i[n]}})(e.querySelectorAll(".k-actions .k-button"))}handleActionButtonFocus(e,t){const o=this.getAllFocusableChildren(e);for(let r=0;r<o.length;r++)if(o[r]===document.activeElement){if(t===Ms.left&&r>0){o[r-1].focus();break}if(t===Ms.right&&r<o.length-1){o[r+1].focus();break}}}keepFocusWithinComponent(e,t){const o=this.wrapper.nativeElement,[r,a]=this.getFirstAndLastFocusable(o),c=t.shiftKey&&e===r;!t.shiftKey&&e===a&&(t.preventDefault(),r.focus()),c&&(t.preventDefault(),a.focus())}shouldFocusPrimary(e){return Mn(e)&&M_e(e)}getAllFocusableChildren(e){return e.querySelectorAll(MG)}getFirstAndLastFocusable(e){const t=this.getAllFocusableChildren(e);return[t.length>0?t[0]:e,t.length>0?t[t.length-1]:e]}generateTitleId(){return"kendo-dialog-title-"+Math.ceil(1e6*Math.random()).toString()}generateContentId(){return"kendo-dialog-content-"+Math.ceil(1e6*Math.random()).toString()}get wrapperClass(){return!0}get styles(){const e={};return this.width&&(e.width=AD(this.width)),this.height&&(e.height=AD(this.height)),this.minWidth&&(e.minWidth=AD(this.minWidth)),this.maxWidth&&(e.maxWidth=AD(this.maxWidth)),this.minHeight&&(e.minHeight=AD(this.minHeight)),this.maxHeight&&(e.maxHeight=AD(this.maxHeight)),e}bubble(e,t){if(t){const r=t[e].subscribe(a=>this[e].emit(a));this.subscriptions.push(r)}}handleThemeColorClass(e,t){const o=this.dialog.nativeElement;e&&this.renderer.removeClass(o,`k-dialog-${e}`),t&&this.renderer.addClass(o,`k-dialog-${t}`)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(z),s.rXU(s.gRc),s.rXU(s.SKi),s.rXU(pi))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-dialog"]],contentQueries:function(e,t,o){if(1&e&&s.wni(o,bd,4),2&e){let r;s.mGM(r=s.lsd())&&(t.titlebarContent=r)}},viewQuery:function(e,t){if(1&e&&(s.GBs(Cd,5),s.GBs(kze,7),s.GBs(bd,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.actionsView=o.first),s.mGM(o=s.lsd())&&(t.dialog=o.first),s.mGM(o=s.lsd())&&(t.titlebarView=o)}},hostVars:4,hostBindings:function(e,t){2&e&&(s.BMQ("dir",t.dir)("tabIndex",t.tabIndex),s.AVh("k-dialog-wrapper",t.wrapperClass))},inputs:{actions:"actions",actionsLayout:"actionsLayout",autoFocusedElement:"autoFocusedElement",title:"title",width:"width",minWidth:"minWidth",maxWidth:"maxWidth",height:"height",minHeight:"minHeight",maxHeight:"maxHeight",animation:"animation",themeColor:"themeColor"},outputs:{action:"action",close:"close"},exportAs:["kendoDialog"],features:[s.Jv_([z,{provide:R_e,useExisting:z},{provide:He,useValue:"kendo.dialog"}])],ngContentSelectors:Tze,decls:12,vars:10,consts:()=>{let n;return n="Chiudi",[["dialog",""],["kendoDialogLocalizedMessages","","closeTitle",n],[1,"k-overlay"],["role","dialog","aria-modal","true",1,"k-window","k-dialog",3,"ngStyle"],[3,"closeTitle","id",4,"ngIf"],[4,"ngIf"],[1,"k-window-content","k-dialog-content",3,"id"],[3,"actions","layout",4,"ngIf"],["kendoWatermarkOverlay","",4,"ngIf"],[3,"closeTitle","id"],[3,"ngTemplateOutlet"],[3,"actions","layout"],["kendoWatermarkOverlay",""]]},template:function(e,t){1&e&&(s.NAR(Oze),s.qex(0,1),s.nrm(1,"div",2),s.j41(2,"div",3,0),s.DNE(4,Mze,2,3,"kendo-dialog-titlebar",4)(5,Ize,1,0,"ng-content",5),s.j41(6,"div",6),s.DNE(7,Rze,1,0,"ng-content",5)(8,xze,1,1,null,5),s.k0s(),s.DNE(9,Nze,1,0,"ng-content",5)(10,Lze,1,2,"kendo-dialog-actions",7)(11,Pze,1,0,"div",8),s.k0s(),s.bVm()),2&e&&(s.R7$(),s.Y8G("@overlayAppear",void 0),s.R7$(),s.Y8G("ngStyle",t.styles),s.R7$(2),s.Y8G("ngIf",t.title),s.R7$(),s.Y8G("ngIf",!t.title),s.R7$(),s.Y8G("id",t.contentId),s.R7$(),s.Y8G("ngIf",!t.contentTemplate),s.R7$(),s.Y8G("ngIf",t.contentTemplate),s.R7$(),s.Y8G("ngIf",!t.actions),s.R7$(),s.Y8G("ngIf",t.actions),s.R7$(),s.Y8G("ngIf",t.showLicenseWatermark))},dependencies:[bd,Cd,n_,VG,Wn,q,qe],encapsulation:2,data:{animation:[Em("overlayAppear",[cd("in",Xe({opacity:1})),oo("void => *",[Xe({opacity:.1}),ii(".3s cubic-bezier(.2, .6, .4, 1)")])])]}}),i})();class sf{}let r_=(()=>{class i{constructor(e){this.dialog=e}ngAfterViewInit(){this.dialogTitleBar&&this.dialogTitleBar.close.pipe(X(e=>!e.isDefaultPrevented())).subscribe(()=>{this.dialog.close()}),this.dialogActions&&this.dialogActions.actions&&this.dialogActions.action.subscribe(e=>this.dialog.dialog.instance.action.emit(e))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(sf))},i.\u0275dir=s.FsC({type:i,viewQuery:function(e,t){if(1&e&&(s.GBs(bd,5),s.GBs(Cd,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.dialogTitleBar=o.first),s.mGM(o=s.lsd())&&(t.dialogActions=o.first)}}}),i})(),TJ=(()=>{class i{set container(e){i.container=e}get container(){return i.container}}return i.container=null,i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();class RHe{constructor(n,e){this.getDialogRef=n,this.parentInjector=e}get(n,e){return n===sf?this.getDialogRef():this.parentInjector.get(n,e)}}let a_=(()=>{class i{constructor(e,t){this.resolver=e,this.containerService=t}open(e){const t=this.resolver.resolveComponentFactory(OJ),o=e.appendTo||this.containerService.container;if(!o)throw new Error("\nCannot attach dialog to the page.\nAdd an element that uses the kendoDialogContainer directive, or set the 'appendTo' property.\nSee https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service/.\n          ");return this.initializeDialog(e.content,t,o,{close:()=>{},content:null,dialog:null,result:null},e)}initializeDialog(e,t,o,r,a){const l=this.contentFrom(e,o,r),c=o.createComponent(t,void 0,void 0,l.nodes);r.dialog=c,c.changeDetectorRef.markForCheck(),this.applyOptions(c.instance,a);const u=new Ke.B,f=S=>{S instanceof kJ&&(S=new xC),u.next(S||new xC),l.componentRef&&l.componentRef.destroy(),c.destroy()},_=Bt(u,Bt(c.instance.close,c.instance.action).pipe((0,V.T)(S=>S instanceof kJ?new xC:S),X(S=>{if(a.preventAction){const v=(i=>DJ(i)||i instanceof s.C4Q)(e)?void 0:r;return!a.preventAction(S,v)}return!0}))).pipe(We(1),mC());if(_.subscribe(f),r.close=f,r.result=_,e&&(0,s.naY)()){const S=l.nodes[0]&&l.nodes[0].length>0,v=l.nodes[2]&&l.nodes[2].length>0;e.prototype instanceof r_?(a.title&&S||a.actions&&v)&&console.warn("\n                    Multiple Title and/or Actions configurations detected.\n                    When using a component as content, provide the title and actions either in the component's markup\n                    or via the title and actions properties of the DialogSettings object, but not both.\n                    See https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service/#toc-passing-title-content-and-actions-as-a-single-component'"):(S||v)&&console.warn("\n                    When Title and/or Actions markup is provided in content component's template,\n                    the component needs to inherit the DialogContentBase class to ensure that close and result events are properly hooked.\n                    See https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service/#toc-passing-title-content-and-actions-as-a-single-component'")}return r}applyOptions(e,t){e.title=t.title,e.actions=t.actions,e.actionsLayout=t.actionsLayout||"stretched",e.width=t.width,e.minWidth=t.minWidth,e.maxWidth=t.maxWidth,e.height=t.height,e.minHeight=t.minHeight,e.maxHeight=t.maxHeight,e.autoFocusedElement=t.autoFocusedElement,e.closeTitle=t.closeTitle,e.cssClass=t.cssClass,e.htmlAttributes=t.htmlAttributes,e.animation=void 0===t.animation||t.animation,t.content instanceof s.C4Q&&(e.contentTemplate=t.content)}contentFrom(e,t,o){const r=t.injector.get(s.sFG);let a=[],l=[],c=[],u=null;if("string"==typeof e)a=[r.createText(e)];else if(e&&!(e instanceof s.C4Q)){const f=new RHe(()=>o,t.injector),_=this.resolver.resolveComponentFactory(e);u=t.createComponent(_,void 0,f),l=Array.from(u.location.nativeElement.querySelectorAll("kendo-dialog-titlebar")),a=[u.location.nativeElement],c=Array.from(u.location.nativeElement.querySelectorAll("kendo-dialog-actions")),o.content=u}return{componentRef:u,nodes:[l,a,c]}}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(s.OM3),s.KVO(TJ))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),N_e=10002;const AHe={draggable:!0,height:null,left:null,minHeight:100,minWidth:120,position:"absolute",resizable:!0,state:"default",top:null,width:null},L_e=(i,n)=>e=>i.kendoDrag.pipe(mo(i.kendoRelease.pipe(F(()=>{n.emit()}))),(0,V.T)(({pageX:t,pageY:o})=>({originalX:e.pageX,originalY:e.pageY,pageX:t,pageY:o})));let l_=(()=>{class i{constructor(e){this.ngZone=e,this.close=new s.bkB,this.focus=new s.bkB,this.change=new s.bkB,this.stateChange=new s.bkB,this.dragStart=new s.bkB,this.dragEnd=new s.bkB,this.resizeStart=new s.bkB,this.resizeEnd=new s.bkB,this.options=Object.assign({},AHe),this.lastAction=null,this.subscriptions=new be.yU,this.dragSubscription=new be.yU}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),this.dragSubscription&&this.dragSubscription.unsubscribe()}init(e){const t=this.options.state,o=this.options;this.window=e,"default"!==t&&(this.restoreOptions=Object.assign({},o)),"minimized"===t&&(o.height=0,o.minHeight=0),"maximized"===t&&(o.position="fixed")}onDrag(e){this.subscriptions.add(this.ngZone.runOutsideAngular(()=>{let t,o;this.dragSubscription=e.kendoPress.pipe(F(r=>{r.isTouch||I_e(r),this.focus.emit(),t=this.currentPosition(),o=!1}),le(L_e(e,this.dragEnd))).subscribe(({pageX:r,pageY:a,originalX:l,originalY:c})=>{o||(this.ensureWidth(),this.dragStart.emit(),o=!0),this.handleDrag({originalX:l,originalY:c,pageX:r,pageY:a,startPosition:t})})}))}handleDrag({originalX:e,originalY:t,pageX:o,pageY:r,startPosition:a}){this.options.left=a.x+o-e,this.options.top=a.y+r-t,"minimized"===this.options.state&&Mn(this.restoreOptions)&&(this.restoreOptions.left=this.options.left,this.restoreOptions.top=this.options.top),this.change.emit({left:a.x+o-e,top:a.y+r-t})}onResize(e,t){this.subscriptions.add(this.ngZone.runOutsideAngular(()=>{let o,r=!1;e.kendoPress.pipe(F(a=>{I_e(a),this.focus.emit(),o=this.currentOffsetAndPosition(),r=!1}),le(L_e(e,this.resizeEnd))).subscribe(({pageX:a,pageY:l,originalX:c,originalY:u})=>{r||(this.resizeStart.emit(t),r=!0),this.handleResize(o,t,a-c,l-u)})}))}handleResize(e,t,o,r){const a=this.options,l={};if(t.indexOf("e")>=0){const c=e.width+o;c!==a.width&&c>=a.minWidth&&(l.width=c)}if(t.indexOf("n")>=0){const c=e.height-r,u=e.y+r;c!==a.height&&c>=a.minHeight&&u!==a.top&&(l.height=c,l.top=u)}if(t.indexOf("s")>=0){const c=e.height+r;c!==a.height&&c>=a.minHeight&&(l.height=c)}if(t.indexOf("w")>=0){const c=e.x+o,u=e.width-o;u!==a.width&&u>=a.minWidth&&c!==a.left&&(l.width=u,l.left=c)}(Mn(l.width)||Mn(l.height))&&(kI.forEach(c=>{Mn(l[c])&&(this.options[c]=l[c])}),this.change.emit(l))}restoreAction(){this.lastAction="restore",this.defaultState()}defaultState(){Mn(this.restoreOptions)&&(this.options=Object.assign({},this.restoreOptions)),this.options.state="default",this.stateChange.emit("default")}storeOptions(){this.restoreOptions=Object.assign({},this.options)}maximizeAction(){this.lastAction="maximize",this.maximizeState()}maximizeState(){this.storeOptions();const e=this.windowViewPort;this.options=Object.assign({},this.options,{height:e.height,left:0,position:"fixed",state:"maximized",top:0,width:e.width}),this.stateChange.emit("maximized")}minimizeAction(){this.lastAction="minimize",this.minimizeState()}minimizeState(){this.storeOptions(),this.options=Object.assign({},this.options,{height:null,minHeight:0,state:"minimized"}),this.stateChange.emit("minimized")}applyManualState(){switch(this.options.state){case"default":this.clearHeight(),this.defaultState();break;case"maximized":this.clearHeight(),this.maximizeState();break;case"minimized":this.minimizeState()}}closeAction(){this.close.emit()}ensureWidth(){const e=Th(this.window.nativeElement);Mn(this.options.width)||(this.options.width=e.width,this.change.emit({width:e.width}))}clearHeight(){0===this.options.height&&delete this.options.height,0===this.options.minHeight&&delete this.options.minHeight}center(){if("maximized"===this.options.state)return;const e=xG(this.window.nativeElement),t=this.windowViewPort,o=Th(this.window.nativeElement),r={};Mn(this.options.left)||(this.options.left=e.x+Math.max(0,(t.width-o.width)/2),r.left=this.options.left),Mn(this.options.top)||(this.options.top=e.y+Math.max(0,(t.height-o.height)/2),r.top=this.options.top),this.change.emit(r)}currentOffsetAndPosition(){const e=this.options,t=Th(this.window.nativeElement);return Object.assign({},this.currentPosition(),{height:e.height?e.height:t.height,width:e.width?e.width:t.width})}currentPosition(){const e=this.options;return(!e.top||!e.left)&&this.setPosition(),{x:this.options.left,y:this.options.top}}setPosition(){const e=cJ(this.window.nativeElement,RG(this.window.nativeElement));this.options.left=e.left,this.options.top=e.top}setRestoreOption(e,t){Mn(this.restoreOptions)&&(this.restoreOptions[e]=t)}get nextPossibleZIndex(){return N_e}get nextZIndex(){return N_e++}get windowViewPort(){return AG(this.window.nativeElement)}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(s.SKi))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),MJ=(()=>{class i{constructor(e,t,o,r){this.draggable=e,this.el=t,this.renderer=o,this.service=r,this.subscriptions=new be.yU}get hostClass(){return!0}ngOnInit(){this.setDisplay(),this.renderer.addClass(this.el.nativeElement,"k-resize-"+this.direction),this.subscriptions.add(ft(this.draggable).subscribe(e=>{this.service.onResize(e,this.direction)})),this.subscriptions.add(this.service.resizeStart.subscribe(e=>{e!==this.direction&&this.setDisplay("none")})),this.subscriptions.add(this.service.dragStart.subscribe(()=>{this.setDisplay("none")})),this.subscriptions.add(Bt(this.service.resizeEnd,this.service.dragEnd).subscribe(()=>{this.setDisplay("block")})),this.subscriptions.add(this.service.stateChange.subscribe(e=>{this.setDisplay("default"===e?"block":"none")}))}ngOnDestroy(){this.subscriptions.unsubscribe()}setDisplay(e="block"){this.renderer.setStyle(this.el.nativeElement,"display","default"===this.service.options.state?e:"none")}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(vd,1),s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(l_))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoWindowResizeHandle",""]],hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-resize-handle",t.hostClass)},inputs:{direction:"direction"}}),i})(),Ni=(()=>{class i{constructor(e,t,o){this.el=e,this.ngZone=o,this.service=t}ngOnInit(){this.dragDirective=new vd(this.el,this.ngZone),this.dragDirective.ngOnInit(),this.isDraggable&&this.subscribeDrag(),this.subscribeStateChange()}ngAfterViewInit(){const e=this.el.nativeElement.querySelector(".k-window-title");Mn(e)&&e.setAttribute("id",this.id)}ngOnDestroy(){this.dragDirective.ngOnDestroy(),this.unsubscribeDrag(),this.unsubscribeState()}subscribeDrag(){this.unsubscribeDrag(),this.dragSubscription=ft(this.dragDirective).subscribe(e=>{this.service.onDrag(e)})}subscribeStateChange(){this.stateSubscription=this.service.stateChange.subscribe(e=>{this.service.options.draggable&&("maximized"===e?this.unsubscribeDrag():this.subscribeDrag())})}unsubscribeDrag(){this.dragSubscription&&(this.service.dragSubscription.unsubscribe(),this.dragSubscription.unsubscribe(),this.dragSubscription=null)}unsubscribeState(){this.stateSubscription&&(this.stateSubscription.unsubscribe(),this.stateSubscription=null)}get className(){return!0}get touchAction(){if(this.isDraggable)return"none"}handle(e){const t=e.target,o=this.service.options.state;!RD(t,"k-icon")&&!M_e(t,!1)&&this.service.options.resizable&&("default"===o?this.service.maximizeAction():"maximized"===o&&this.service.restoreAction())}get isDraggable(){const e=this.service.options;return e.draggable&&"maximized"!==e.state}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(l_),s.rXU(s.SKi))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-window-titlebar"]],hostVars:4,hostBindings:function(e,t){1&e&&s.bIt("dblclick",function(r){return t.handle(r)}),2&e&&(s.xc7("touch-action",t.touchAction),s.AVh("k-window-titlebar",t.className))},inputs:{template:"template",id:"id"},ngContentSelectors:AC,decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(s.NAR(),s.DNE(0,Uze,1,0,"ng-content",0)(1,Bze,1,4,null,0)),2&e&&(s.Y8G("ngIf",!t.template),s.R7$(),s.Y8G("ngIf",t.template))},dependencies:[q,qe],encapsulation:2}),i})(),P_e=(()=>{class i{constructor(e,t){this.window=e,this.ngZone=t}process(e){const t=e.keyCode;switch(t){case Ms.up:case Ms.down:case Ms.left:case Ms.right:e.preventDefault(),this.ngZone.run(()=>{this.handleArrow(t,e)});break;case Ms.esc:this.ngZone.run(()=>{this.handleEscape()})}}handleArrow(e,t){const o=this.window.options;t.altKey?this.handleStateChange(e,o.state):(t.ctrlKey||t.metaKey)&&"default"===o.state?this.handleResize(e):this.handleDrag(e)}handleEscape(){this.window.closeAction()}handleDrag(e){const t=this.window.options;if(!t.draggable)return;const o=this.window.currentOffsetAndPosition(),r=this.window.restoreOptions,a={};let l=10;switch((e===Ms.left||e===Ms.up)&&(l*=-1),e){case Ms.left:case Ms.right:a.left=o.x+l,t.left=a.left;break;case Ms.up:case Ms.down:a.top=o.y+l,t.top=a.top}"minimized"===t.state&&Mn(r)&&(r.left=t.left,r.top=t.top),this.window.change.emit(a)}handleResize(e){const t=this.window.options;if(!t.resizable)return;const o=this.window.currentOffsetAndPosition();let r,a;const l={};let c=10;switch((e===Ms.left||e===Ms.up)&&(c*=-1),e){case Ms.left:case Ms.right:r=o.width+c,r!==t.width&&r>=t.minWidth&&(l.width=r);break;case Ms.up:case Ms.down:a=o.height+c,a!==t.height&&a>=t.minHeight&&(l.height=a)}(Mn(l.width)||Mn(l.height))&&(kI.forEach(u=>{Mn(l[u])&&(this.window.options[u]=l[u])}),this.window.change.emit(l))}handleStateChange(e,t){"minimized"===t&&e===Ms.up||"maximized"===t&&e===Ms.down?this.window.restoreAction():"default"===t&&(e===Ms.up?this.window.maximizeAction():e===Ms.down&&this.window.minimizeAction())}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(l_),s.KVO(s.SKi))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),W1=(()=>{class i extends Ht{constructor(e,t,o,r,a){super(e,t,null,r,a),this.buttonType="button",this.buttonClass=!0,this.windowMinimizeIcon=gW,this.window=o,this.fillMode="flat",this.icon="window-minimize"}onClick(){this.isDisabled||this.window.minimizeAction()}get visible(){return"default"===this.window.options.state?"inline-flex":"none"}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(l_,8),s.rXU(z),s.rXU(s.SKi))},i.\u0275cmp=s.VBU({type:i,selectors:[["button","kendoWindowMinimizeAction",""]],hostVars:5,hostBindings:function(e,t){1&e&&s.bIt("click",function(){return t.onClick()}),2&e&&(s.BMQ("type",t.buttonType),s.xc7("display",t.visible),s.AVh("k-window-titlebar-action",t.buttonClass))},inputs:{window:"window"},exportAs:["kendoWindowMinimizeAction"],features:[s.Jv_([z,{provide:He,useValue:"kendo.button"}]),s.Vt3],attrs:Vze,ngContentSelectors:AC,decls:5,vars:3,consts:[["innerCssClass","k-button-icon","name","window-minimize",3,"svgIcon",4,"ngIf"],["class","k-button-icon k-icon",4,"ngIf"],["class","k-button-icon",3,"ngClass",4,"ngIf"],[1,"k-button-text"],["innerCssClass","k-button-icon","name","window-minimize",3,"svgIcon"],[1,"k-button-icon","k-icon"],["role","presentation",1,"k-image",3,"src"],[1,"k-button-icon",3,"ngClass"]],template:function(e,t){1&e&&(s.NAR(),s.DNE(0,zze,1,1,"kendo-icon-wrapper",0)(1,Hze,2,1,"span",1)(2,jze,1,1,"span",2),s.j41(3,"span",3),s.SdG(4),s.k0s()),2&e&&(s.Y8G("ngIf",!t.imageUrl&&!t.iconClass),s.R7$(),s.Y8G("ngIf",t.imageUrl),s.R7$(),s.Y8G("ngIf",t.iconClass))},dependencies:[Qe,q,Be],encapsulation:2}),i})(),K1=(()=>{class i extends Ht{constructor(e,t,o,r,a){super(e,t,null,r,a),this.buttonType="button",this.buttonClass=!0,this.windowIcon=_W,this.window=o,this.fillMode="flat",this.icon="window"}onClick(){this.isDisabled||this.window.maximizeAction()}get visible(){return"default"===this.window.options.state?"inline-flex":"none"}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(l_,8),s.rXU(z),s.rXU(s.SKi))},i.\u0275cmp=s.VBU({type:i,selectors:[["button","kendoWindowMaximizeAction",""]],hostVars:5,hostBindings:function(e,t){1&e&&s.bIt("click",function(){return t.onClick()}),2&e&&(s.BMQ("type",t.buttonType),s.xc7("display",t.visible),s.AVh("k-window-titlebar-action",t.buttonClass))},inputs:{window:"window"},exportAs:["kendoWindowMaximizeAction"],features:[s.Jv_([z,{provide:He,useValue:"kendo.button"}]),s.Vt3],attrs:$ze,ngContentSelectors:AC,decls:5,vars:3,consts:[["innerCssClass","k-button-icon","name","window",3,"svgIcon",4,"ngIf"],["class","k-button-icon k-icon",4,"ngIf"],["class","k-button-icon",3,"ngClass",4,"ngIf"],[1,"k-button-text"],["innerCssClass","k-button-icon","name","window",3,"svgIcon"],[1,"k-button-icon","k-icon"],["role","presentation",1,"k-image",3,"src"],[1,"k-button-icon",3,"ngClass"]],template:function(e,t){1&e&&(s.NAR(),s.DNE(0,Xze,1,1,"kendo-icon-wrapper",0)(1,Wze,2,1,"span",1)(2,Kze,1,1,"span",2),s.j41(3,"span",3),s.SdG(4),s.k0s()),2&e&&(s.Y8G("ngIf",!t.imageUrl&&!t.iconClass),s.R7$(),s.Y8G("ngIf",t.imageUrl),s.R7$(),s.Y8G("ngIf",t.iconClass))},dependencies:[Qe,q,Be],encapsulation:2}),i})(),Y1=(()=>{class i extends Ht{constructor(e,t,o,r,a){super(e,t,null,r,a),this.windowRestoreIcon=DP,this.buttonType="button",this.buttonClass=!0,this.window=o,this.fillMode="flat",this.icon="window-restore"}onClick(){this.isDisabled||this.window.restoreAction()}get visible(){return"default"===this.window.options.state?"none":"inline-flex"}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(l_,8),s.rXU(z),s.rXU(s.SKi))},i.\u0275cmp=s.VBU({type:i,selectors:[["button","kendoWindowRestoreAction",""]],hostVars:5,hostBindings:function(e,t){1&e&&s.bIt("click",function(){return t.onClick()}),2&e&&(s.BMQ("type",t.buttonType),s.xc7("display",t.visible),s.AVh("k-window-titlebar-action",t.buttonClass))},inputs:{window:"window"},exportAs:["kendoWindowRestoreAction"],features:[s.Jv_([z,{provide:He,useValue:"kendo.button"}]),s.Vt3],attrs:Yze,ngContentSelectors:AC,decls:5,vars:3,consts:[["innerCssClass","k-button-icon","name","window-restore",3,"svgIcon",4,"ngIf"],["class","k-button-icon k-icon",4,"ngIf"],["class","k-button-icon",3,"ngClass",4,"ngIf"],[1,"k-button-text"],["innerCssClass","k-button-icon","name","window-restore",3,"svgIcon"],[1,"k-button-icon","k-icon"],["role","presentation",1,"k-image",3,"src"],[1,"k-button-icon",3,"ngClass"]],template:function(e,t){1&e&&(s.NAR(),s.DNE(0,Jze,1,1,"kendo-icon-wrapper",0)(1,qze,2,1,"span",1)(2,Qze,1,1,"span",2),s.j41(3,"span",3),s.SdG(4),s.k0s()),2&e&&(s.Y8G("ngIf",!t.imageUrl&&!t.iconClass),s.R7$(),s.Y8G("ngIf",t.imageUrl),s.R7$(),s.Y8G("ngIf",t.iconClass))},dependencies:[Qe,q,Be],encapsulation:2}),i})(),ts=(()=>{class i extends Ht{constructor(e,t,o,r,a){super(e,t,null,r,a),this.xIcon=go,this.buttonType="button",this.buttonClass=!0,this.window=o,this.fillMode="flat",this.icon="x"}onClick(){this.isDisabled||this.window.closeAction()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(l_,8),s.rXU(z),s.rXU(s.SKi))},i.\u0275cmp=s.VBU({type:i,selectors:[["button","kendoWindowCloseAction",""]],hostVars:3,hostBindings:function(e,t){1&e&&s.bIt("click",function(){return t.onClick()}),2&e&&(s.BMQ("type",t.buttonType),s.AVh("k-window-titlebar-action",t.buttonClass))},inputs:{window:"window"},exportAs:["kendoWindowCloseAction"],features:[s.Jv_([z,{provide:He,useValue:"kendo.button"}]),s.Vt3],attrs:Zze,ngContentSelectors:AC,decls:5,vars:3,consts:[["innerCssClass","k-button-icon","name","close",3,"svgIcon",4,"ngIf"],["class","k-button-icon k-icon",4,"ngIf"],["class","k-button-icon",3,"ngClass",4,"ngIf"],[1,"k-button-text"],["innerCssClass","k-button-icon","name","close",3,"svgIcon"],[1,"k-button-icon","k-icon"],["role","presentation",1,"k-image",3,"src"],[1,"k-button-icon",3,"ngClass"]],template:function(e,t){1&e&&(s.NAR(),s.DNE(0,eHe,1,1,"kendo-icon-wrapper",0)(1,tHe,2,1,"span",1)(2,nHe,1,1,"span",2),s.j41(3,"span",3),s.SdG(4),s.k0s()),2&e&&(s.Y8G("ngIf",!t.imageUrl&&!t.iconClass),s.R7$(),s.Y8G("ngIf",t.imageUrl),s.R7$(),s.Y8G("ngIf",t.iconClass))},dependencies:[Qe,q,Be],encapsulation:2}),i})(),$i=(()=>{class i{constructor(e,t,o,r,a,l){this.el=e,this.renderer=t,this.service=o,this.navigation=r,this.ngZone=a,this.localization=l,this.keepContent=!1,this.dragStart=new s.bkB,this.dragEnd=new s.bkB,this.resizeStart=new s.bkB,this.resizeEnd=new s.bkB,this.close=new s.bkB,this.widthChange=new s.bkB,this.heightChange=new s.bkB,this.topChange=new s.bkB,this.leftChange=new s.bkB,this.stateChange=new s.bkB,this.messages={},this.showLicenseWatermark=!1,this.tabIndex=0,this.role="dialog",this.hostClass=!0,this.titleId=null,this._themeColor=null,this.draged=!1,this.resized=!1,this.windowSubscription=new be.yU,this.domSubs=new be.yU;const c=(0,_t.$)(x_e);this.showLicenseWatermark=s_(c),this.direction=this.localization.rtl?"rtl":"ltr",this.localizationChangeSubscription=this.localization.changes.subscribe(({rtl:u})=>this.direction=u?"rtl":"ltr"),this.resizeDirections=EHe,this.subscribeEvents(),this.titleId=this.generateTitleId()}set draggable(e){this.options.draggable=e}get draggable(){return this.options.draggable}set resizable(e){this.options.resizable=e}get resizable(){return this.options.resizable}set themeColor(e){this.handleThemeColorClass(this.themeColor,e),this._themeColor=e}get themeColor(){return this._themeColor}set cssClass(e){this.setServiceClasses(this._cssClass,e),this._cssClass=e}get cssClass(){return this._cssClass}set htmlAttributes(e){_me(e,this.renderer,this.el.nativeElement);const t=this.el.nativeElement,o=t.getAttribute("dir"),r=t.getAttribute("tabindex");this.direction!==o&&(this.direction=o),this.tabIndex!==r&&(this.tabIndex=r),this._htmlAttributes=e}get htmlAttributes(){return this._htmlAttributes}set state(e){this.options.state=e}get state(){return this.options.state}set minWidth(e){this.setOption("minWidth",e)}get minWidth(){return this.options.minWidth}set minHeight(e){this.setOption("minHeight",e)}get minHeight(){return this.options.minHeight}set width(e){this.setOption("width",e)}get width(){return this.options.width}set height(e){this.setOption("height",e)}get height(){return this.options.height}set top(e){this.setOption("top",e)}get top(){return this.options.top}set left(e){this.setOption("left",e)}get left(){return this.options.left}get closeButtonTitle(){return this.messages&&this.messages.closeTitle?this.messages.closeTitle:this.localization.get("closeTitle")}get restoreButtonTitle(){return this.messages&&this.messages.restoreTitle?this.messages.restoreTitle:this.localization.get("restoreTitle")}get maximizeButtonTitle(){return this.messages&&this.messages.maximizeTitle?this.messages.maximizeTitle:this.localization.get("maximizeTitle")}get minimizeButtonTitle(){return this.messages&&this.messages.minimizeTitle?this.messages.minimizeTitle:this.localization.get("minimizeTitle")}get dir(){return this.direction}ngAfterViewInit(){ne()&&(this.setNextZIndex(),this.handleInitialFocus(),this.ngZone.runOutsideAngular(()=>Promise.resolve(null).then(()=>this.setInitialOffset())),this.initDomEvents(),(this.titleBarView||this.titleBarContent)&&this.renderer.setAttribute(this.el.nativeElement,"aria-labelledby",this.titleId),this.handleThemeColorClass(null,this.themeColor))}ngOnInit(){this.renderer.removeAttribute(this.el.nativeElement,"title"),this.service.init(this.el)}ngOnChanges(e){if(kI.forEach(t=>{wt(t,e)&&this.setStyle(t,this.options[t])}),wt("draggable",e)){const t=Mn(this.titleBarContent)?this.titleBarContent:this.titleBarView;(i=>!!i)(e.draggable.currentValue)?t.subscribeDrag():t.unsubscribeDrag()}wt("state",e)&&(Mn(this.service.lastAction)?this.service.lastAction=null:(this.service.applyManualState(),this.updateAllOffset()))}ngOnDestroy(){this.windowSubscription&&this.windowSubscription.unsubscribe(),this.domSubs&&this.domSubs.unsubscribe(),this.localizationChangeSubscription.unsubscribe()}focus(){const e=this.el.nativeElement;Mn(e)&&e.focus()}bringToFront(){this.setNextZIndex()}setDimension(e,t){this.setOption(e,t),this.setStyle(e,t)}setOffset(e,t){this.setOption(e,t),this.setStyle(e,t)}get showDefaultTitleBar(){return!Mn(this.titleBarContent)}get styleMinWidth(){return this.minWidth+"px"}get styleMinHeight(){return this.minHeight+"px"}get stylePosition(){return this.options.position}get wrapperMaximizedClass(){return"maximized"===this.state}get wrapperMinimizedClass(){return"minimized"===this.state}onComponentFocus(){this.renderer.addClass(this.el.nativeElement,"k-focus"),this.setNextZIndex()}onComponentBlur(){this.renderer.removeClass(this.el.nativeElement,"k-focus")}subscribeEvents(){ne()&&(this.windowSubscription.add(this.service.focus.subscribe(()=>{this.el.nativeElement.focus()})),this.windowSubscription.add(this.service.dragStart.subscribe(()=>{this.draged=!0,this.ngZone.run(()=>{this.dragStart.emit()})})),this.windowSubscription.add(this.service.dragEnd.subscribe(()=>{this.draged&&(this.draged=!1,this.ngZone.run(()=>{this.dragEnd.emit()}))})),this.windowSubscription.add(this.service.close.subscribe(()=>{this.close.emit()})),this.windowSubscription.add(this.service.resizeStart.subscribe(()=>{this.resized=!0,this.ngZone.run(()=>{this.resizeStart.emit()})})),this.windowSubscription.add(this.service.resizeEnd.subscribe(()=>{this.resized&&(this.resized=!1,this.ngZone.run(()=>{this.resizeEnd.emit()}))})),this.windowSubscription.add(this.service.change.subscribe(e=>{kI.forEach(t=>{if(Mn(e[t])&&(this.setStyle(t,e[t]),"maximized"!==this.state)){const o=this[t+"Change"];o.observers.length&&this.ngZone.run(()=>{o.emit(e[t])})}})})),this.windowSubscription.add(this.service.stateChange.subscribe(e=>{Mn(this.service.lastAction)&&(this.updateAllOffset(),this.stateChange.emit(e))})))}initDomEvents(){this.el&&this.ngZone.runOutsideAngular(()=>{this.domSubs.add(this.renderer.listen(this.el.nativeElement,"keydown",e=>{this.onKeyDown(e)}))})}onKeyDown(e){RD(e.target,"k-window")&&this.navigation.process(e)}setServiceClasses(e,t){const o=this.el.nativeElement;e&&wI(e).forEach(r=>{this.renderer.removeClass(o,r)}),t&&wI(t).forEach(r=>{this.renderer.addClass(o,r)})}setNextZIndex(){const e=this.el.nativeElement.style["z-index"];(!e||this.service.nextPossibleZIndex-e>1)&&this.renderer.setStyle(this.el.nativeElement,"z-index",this.service.nextZIndex)}setInitialOffset(){if("maximized"!==this.state)this.updateAllOffset(),(!Mn(this.left)||!Mn(this.top))&&this.service.center();else{const e=this.service.windowViewPort;this.setStyle("width",e.width),this.setStyle("height",e.height),this.setStyle("top",0),this.setStyle("left",0)}}updateAllOffset(){kI.forEach(e=>{Mn(this[e])?this.setStyle(e,this[e]):this.removeStyle(e)})}setStyle(e,t){this.renderer.setStyle(this.el.nativeElement,e,t+"px")}removeStyle(e){this.renderer.removeStyle(this.el.nativeElement,e)}get options(){return this.service.options}setOption(e,t){if("number"!=typeof t&&"string"!=typeof t)return;const o="number"==typeof t?t:parseInt(t,10);this.options[e]=o,this.service.setRestoreOption(e,o)}handleInitialFocus(){if(this.autoFocusedElement){const t=this.el.nativeElement.querySelector(this.autoFocusedElement);t&&t.focus()}else this.focus()}generateTitleId(){return"kendo-window-title-"+Math.ceil(1e6*Math.random()).toString()}handleThemeColorClass(e,t){const o=this.el.nativeElement;e&&this.renderer.removeClass(o,`k-window-${e}`),t&&this.renderer.addClass(o,`k-window-${t}`)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(l_),s.rXU(P_e),s.rXU(s.SKi),s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-window"]],contentQueries:function(e,t,o){if(1&e&&s.wni(o,Ni,5),2&e){let r;s.mGM(r=s.lsd())&&(t.titleBarContent=r.first)}},viewQuery:function(e,t){if(1&e&&(s.GBs(Ni,5),s.GBs(MJ,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.titleBarView=o.first),s.mGM(o=s.lsd())&&(t.resizeHandles=o)}},hostVars:15,hostBindings:function(e,t){1&e&&s.bIt("focus",function(){return t.onComponentFocus()})("blur",function(){return t.onComponentBlur()}),2&e&&(s.BMQ("tabIndex",t.tabIndex)("role",t.role)("dir",t.dir),s.xc7("min-width",t.styleMinWidth)("min-height",t.styleMinHeight)("position",t.stylePosition),s.AVh("k-window",t.hostClass)("k-window-maximized",t.wrapperMaximizedClass)("k-window-minimized",t.wrapperMinimizedClass))},inputs:{autoFocusedElement:"autoFocusedElement",title:"title",draggable:"draggable",resizable:"resizable",themeColor:"themeColor",keepContent:"keepContent",state:"state",minWidth:"minWidth",minHeight:"minHeight",width:"width",height:"height",top:"top",left:"left"},outputs:{dragStart:"dragStart",dragEnd:"dragEnd",resizeStart:"resizeStart",resizeEnd:"resizeEnd",close:"close",widthChange:"widthChange",heightChange:"heightChange",topChange:"topChange",leftChange:"leftChange",stateChange:"stateChange"},exportAs:["kendoWindow"],features:[s.Jv_([l_,P_e,z,{provide:He,useValue:"kendo.window"}]),s.OA$],ngContentSelectors:sHe,decls:7,vars:5,consts:()=>{let n,e,t,o;return n="Chiudi",e="Ripristina",t="Massimizza",o="Minimizza",[["kendoWindowLocalizedMessages","","closeTitle",n,"restoreTitle",e,"maximizeTitle",t,"minimizeTitle",o],[3,"template","id",4,"ngIf"],[4,"ngIf"],["class","k-window-content",3,"hidden",4,"ngIf"],[3,"ngIf"],["kendoWatermarkOverlay","",4,"ngIf"],[3,"template","id"],[1,"k-window-title"],[1,"k-window-titlebar-actions"],["kendoWindowMinimizeAction",""],["kendoWindowMaximizeAction",""],["kendoWindowRestoreAction",""],["kendoWindowCloseAction",""],[1,"k-window-content",3,"hidden"],[3,"ngTemplateOutlet"],["kendoWindowResizeHandle","","kendoDraggable","",3,"direction",4,"ngFor","ngForOf"],["kendoWindowResizeHandle","","kendoDraggable","",3,"direction"],["kendoWatermarkOverlay",""]]},template:function(e,t){1&e&&(s.NAR(iHe),s.qex(0,0)(1),s.DNE(2,oHe,8,11,"kendo-window-titlebar",1)(3,rHe,1,0,"ng-content",2)(4,dHe,3,3,"div",3)(5,hHe,1,1,"ng-template",4)(6,pHe,1,0,"div",5),s.bVm()()),2&e&&(s.R7$(2),s.Y8G("ngIf",t.showDefaultTitleBar),s.R7$(),s.Y8G("ngIf",!t.showDefaultTitleBar),s.R7$(),s.Y8G("ngIf","minimized"!==t.state||t.keepContent),s.R7$(),s.Y8G("ngIf",t.resizable),s.R7$(),s.Y8G("ngIf",t.showLicenseWatermark))},dependencies:[Ni,W1,K1,Y1,ts,n_,VG,q,qe,ut,MJ,vd],encapsulation:2}),i})();class G_e{}class xHe{}let U_e=(()=>{class i{set container(e){i.container=e}get container(){return i.container}}return i.container=null,i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();class LHe{constructor(n,e){this.getWindowRef=n,this.parentInjector=e}get(n,e){return n===xHe?this.getWindowRef():this.parentInjector.get(n,e)}}let PHe=(()=>{class i{constructor(e,t){this.resolver=e,this.containerService=t}open(e){const t=this.resolver.resolveComponentFactory($i),o=e.appendTo||this.containerService.container;if(!o)throw new Error("Cannot attach window to the page.\n                Add an element that uses the kendoWindowContainer directive, or set the 'appendTo' property.\n                See https://www.telerik.com/kendo-angular-ui/components/dialogs/window/service/\n            ");const r={close:()=>{},content:null,result:null,window:null},a=this.contentFrom(e.content,o,r),l=o.createComponent(t,void 0,void 0,a.nodes);r.window=l,this.applyOptions(l.instance,e);const c=new Ke.B,u=_=>{c.next(_||new G_e),a.componentRef&&a.componentRef.destroy(),l.destroy()},f=Bt(c,l.instance.close.pipe((0,V.T)(_=>_||new G_e),X(_=>{if(e.preventClose){const S=(i=>DJ(i)||i instanceof s.C4Q)(e.content)?void 0:r;return!e.preventClose(_,S)}return!0}))).pipe(We(1),mC());return f.subscribe(u),r.close=u,r.result=f,l.changeDetectorRef.markForCheck(),r}applyOptions(e,t){Mn(t.htmlAttributes)&&(e.htmlAttributes=t.htmlAttributes),Mn(t.cssClass)&&(e.cssClass=t.cssClass),Mn(t.title)&&(e.title=t.title),Mn(t.keepContent)&&(e.keepContent=t.keepContent),Mn(t.width)&&(e.width=t.width),Mn(t.minWidth)&&(e.minWidth=t.minWidth),Mn(t.height)&&(e.height=t.height),Mn(t.minHeight)&&(e.minHeight=t.minHeight),Mn(t.left)&&(e.left=t.left),Mn(t.top)&&(e.top=t.top),Mn(t.draggable)&&(e.draggable=t.draggable),Mn(t.resizable)&&(e.resizable=t.resizable),Mn(t.messages&&t.messages.closeTitle)&&(e.messages.closeTitle=t.messages.closeTitle),Mn(t.messages&&t.messages.restoreTitle)&&(e.messages.restoreTitle=t.messages.restoreTitle),Mn(t.messages&&t.messages.maximizeTitle)&&(e.messages.maximizeTitle=t.messages.maximizeTitle),Mn(t.messages&&t.messages.minimizeTitle)&&(e.messages.minimizeTitle=t.messages.minimizeTitle),Mn(t.autoFocusedElement)&&(e.autoFocusedElement=t.autoFocusedElement),Mn(t.state)&&(e.state=t.state,"minimized"===t.state&&(e.keepContent=!0)),t.content instanceof s.C4Q&&(e.contentTemplate=t.content),t.titleBarContent instanceof s.C4Q&&(e.titleBarTemplate=t.titleBarContent)}contentFrom(e,t,o){const r=t.injector.get(s.sFG);let a=[],l=null;if("string"==typeof e)a=[r.createText(e)];else if(e&&!(e instanceof s.C4Q)){const c=new LHe(()=>o,t.injector),u=this.resolver.resolveComponentFactory(e);l=t.createComponent(u,void 0,c),a=[l.location.nativeElement],o.content=l}return{componentRef:l,nodes:[[],a]}}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(s.OM3),s.KVO(U_e))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),GHe=(()=>{class i{constructor(e,t){t.container=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.c1b),s.rXU(TJ))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoDialogContainer",""]]}),i})(),F_e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,xn,cr],Ge,xn,cr]}),i})(),IJ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({providers:[TJ,a_],imports:[[F_e,i_]]}),i})(),UHe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({providers:[U_e,PHe],imports:[[F_e,wD,i_]]}),i})(),B_e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[IJ,UHe]}),i})();const V_e=["container"];function FHe(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",8),2&i){const e=s.XpG();s.Y8G("name",e.typeIconClass())("svgIcon",e.typeSVGIcon())}}function BHe(i,n){}function VHe(i,n){if(1&i&&s.EFF(0),2&i){const e=s.XpG();s.SpI(" ",e.templateString," ")}}function zHe(i,n){if(1&i){const e=s.RV6();s.j41(0,"span",9)(1,"span",10),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onCloseClick())}),s.nrm(2,"kendo-icon-wrapper",11),s.k0s()()}if(2&i){const e=s.XpG();s.R7$(),s.BMQ("title",e.closeButtonTitle),s.R7$(),s.Y8G("svgIcon",e.xIcon)}}const HHe=["group"],jHe={name:"@progress/kendo-angular-notification",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925121,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};let YHe=(()=>{class i extends yi{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoNotificationLocalizedMessages",""]],inputs:{closeTitle:"closeTitle"},features:[s.Jv_([{provide:yi,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})(),JHe=(()=>{class i{constructor(e,t,o,r,a){this.cdr=e,this.element=t,this.renderer=o,this.builder=r,this.localizationService=a,this.xIcon=go,this.contentId=`k-${tn()}`,this.close=new s.bkB,this.width=null,this.height=null,this.notificationLabel="Notification",this.defaultHideAfter=5e3,this.animationEnd=new s.bkB,this.rtl=!1,(0,_t.$)(jHe),this.dynamicRTLSubscription=a.changes.subscribe(({rtl:l})=>{this.rtl=l,this.direction=this.rtl?"rtl":"ltr"})}get closeButtonTitle(){return this.closeTitle||this.localizationService.get("closeTitle")}notificationClasses(){return`${this.type?this.typeClass():""}\n            ${this.closable?"k-notification-closable":""}`}ngOnInit(){clearTimeout(this.hideTimeout)}ngOnDestroy(){clearTimeout(this.hideTimeout),this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe()}ngAfterViewInit(){!this.closable&&!this.animation&&this.setHideTimeout(),!this.closable&&this.animation&&this.animationEnd.pipe(We(1)).subscribe(()=>this.setHideTimeout()),this.animation&&this.animate(this.animation)}typeClass(){return{none:"",success:"k-notification-success",warning:"k-notification-warning",error:"k-notification-error",info:"k-notification-info"}[this.type.style]}typeIconClass(){return{none:"",success:"check-outline",warning:"exclamation-circle",error:"x-outline",info:"info-circle"}[this.type.style]}typeSVGIcon(){return{none:null,success:dD,warning:pD,error:CP,info:LP}[this.type.style]}onCloseClick(){clearTimeout(this.hideTimeout),this.hide()}hide(e){const t=getComputedStyle(this.element.nativeElement).height;if(this.animation&&t)return this.animate(this.animation,!0),void this.animationEnd.subscribe(()=>{this.emitClose(e)});this.emitClose(e)}setHideTimeout(){this.hideTimeout=window.setTimeout(()=>this.onCloseClick(),this.hideAfter||this.defaultHideAfter)}emitClose(e){e&&e.destroy(),this.close.emit()}play(e,t){const o=this.builder.build(e),r=this.element.nativeElement;this.renderer.addClass(r,"k-notification-container-animating");let a=o.create(t);a.onDone(()=>{this.renderer.removeClass(r,"k-notification-container-animating"),this.animationEnd.emit(),a&&(a.destroy(),a=null)}),a.play()}animate(e,t){const o=this.element.nativeElement,r=e.duration,l="slide"===e.type?this.slideAnimation(o.offsetHeight,r,t):this.fadeAnimation(r,t);this.play(l,o)}slideAnimation(e,t,o){return o?function XHe(i,n){return[Xe({height:`${i}px`}),ii(`${n}ms ease-in`,Xe({overflow:"hidden",height:0}))]}(e,t):function $He(i,n){return[Xe({overflow:"hidden",height:0}),ii(`${n}ms ease-in`,Xe({height:`${i}px`}))]}(e,t)}fadeAnimation(e,t){return t?function KHe(i){return[Xe({opacity:1}),ii(`${i}ms ease-in`,Xe({opacity:0}))]}(e):function WHe(i){return[Xe({opacity:0}),ii(`${i}ms ease-in`,Xe({opacity:1}))]}(e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(pi),s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-notification"]],viewQuery:function(e,t){if(1&e&&s.GBs(V_e,7,s.c1b),2&e){let o;s.mGM(o=s.lsd())&&(t.container=o.first)}},hostVars:1,hostBindings:function(e,t){2&e&&s.BMQ("dir",t.direction)},inputs:{templateRef:"templateRef",templateString:"templateString",width:"width",height:"height",notificationLabel:"notificationLabel",cssClass:"cssClass",hideAfter:"hideAfter",closable:"closable",type:"type",animation:"animation"},features:[s.Jv_([z,{provide:He,useValue:"kendo.notification"}])],decls:9,vars:16,consts:()=>{let n;return n="Chiudi",[["container",""],["kendoNotificationLocalizedMessages","","closeTitle",n],["role","alert","aria-live","polite",3,"ngClass"],["innerCssClass","k-notification-status",3,"name","svgIcon",4,"ngIf"],[1,"k-notification-content",3,"id"],[3,"ngIf","ngTemplateOutlet"],[3,"ngIf"],["class","k-notification-actions","aria-hidden","true",4,"ngIf"],["innerCssClass","k-notification-status",3,"name","svgIcon"],["aria-hidden","true",1,"k-notification-actions"],[1,"k-notification-action","k-notification-close-action",3,"click"],["name","x",3,"svgIcon"]]},template:function(e,t){1&e&&(s.eu8(0,1),s.j41(1,"div",2),s.DNE(2,FHe,1,2,"kendo-icon-wrapper",3),s.j41(3,"div",4),s.DNE(4,BHe,0,0,"ng-template",5)(5,VHe,1,1,"ng-template",6),s.eu8(6,null,0),s.k0s(),s.DNE(8,zHe,3,2,"span",7),s.k0s()),2&e&&(s.R7$(),s.ZvI("k-notification k-notification-base ",t.notificationClasses(),""),s.xc7("height",t.height,"px")("width",t.width,"px"),s.Y8G("ngClass",t.cssClass),s.BMQ("aria-describedby",t.contentId)("aria-label",t.notificationLabel),s.R7$(),s.Y8G("ngIf",t.type&&t.type.icon&&"none"!==t.type.style),s.R7$(),s.Y8G("id",t.contentId),s.R7$(),s.Y8G("ngIf",t.templateRef)("ngTemplateOutlet",t.templateRef),s.R7$(),s.Y8G("ngIf",t.templateString),s.R7$(3),s.Y8G("ngIf",t.closable))},dependencies:[Qe,YHe,Be,q,qe],encapsulation:2}),i})(),qHe=(()=>{class i{constructor(e,t,o){this.element=e,this.renderer=t,this.resolver=o,this.id="",this.notifications=[]}ngOnDestroy(){this.notifications.forEach(e=>{e.closeClickSubscription&&e.closeClickSubscription.unsubscribe()}),this.notifications=[]}addNotification(e){this.position=e.position,this.id=`${this.position.horizontal} ${this.position.vertical}`;const t=this.resolver.resolveComponentFactory(JHe),o=this.container.createComponent(t);this.applySettings(o,e);let r=null;if("function"==typeof e.content){const a=this.resolver.resolveComponentFactory(e.content);r=o.instance.container.createComponent(a)}return o.changeDetectorRef.detectChanges(),this.notifications.push(o.instance),e.appendTo&&this.applyAbsolutePosition(e.appendTo),this.applyPosition(),this.applyContainerWrap(),{afterHide:o.instance.close,hide:()=>o.instance.hide(r),notification:o,content:r||null}}hide(e){const t=e.instance,o=this.notifications.indexOf(t);this.notifications.splice(o,1),t.closeClickSubscription&&t.closeClickSubscription.unsubscribe(),t.templateRef=null,t.templateString=null,e.destroy()}applyContainerWrap(){this.renderer.setStyle(this.group.nativeElement,"flex-wrap","right"===this.position.horizontal?"wrap-reverse":"wrap")}applySettings(e,t){const o=e.instance,r=t.content,a=t.animation||null;o.closeClickSubscription=o.close.subscribe(()=>this.hide(e)),"string"==typeof r&&(o.templateString=r),r instanceof s.C4Q&&(o.templateRef=r),o.animation=a;const l=t.type;l&&void 0===l.style&&(l.style="none"),l&&void 0===l.icon&&(l.icon=!0),o.type=l,o.closeTitle=t.closeTitle,t.cssClass&&(o.cssClass=t.cssClass),o.closable=t.closable,o.hideAfter=t.hideAfter,o.width=t.width,o.height=t.height}applyAbsolutePosition(e){const t=e.element.nativeElement,o=this.element.nativeElement.children[0];"static"===window.getComputedStyle(t).position&&this.renderer.setStyle(t,"position","relative"),this.renderer.setStyle(o,"position","absolute")}applyPosition(){const e=this.element.nativeElement.children[0],t=e.getBoundingClientRect().width/2,o=this.setContainerPosition(this.position,t);Object.keys(o).forEach(r=>{e.style[r]=o[r]})}setContainerPosition(e,t){const o={horizontal:{left:{left:0,alignItems:"flex-start"},right:{right:0,alignItems:"flex-start"},center:{left:"50%",marginLeft:-t+"px",alignItems:"center"}},vertical:{top:{top:0},bottom:{bottom:0}}};return Object.assign({},o.horizontal[e.horizontal],o.vertical[e.vertical])}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(s.OM3))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-notification-container"]],viewQuery:function(e,t){if(1&e&&(s.GBs(V_e,7,s.c1b),s.GBs(HHe,7)),2&e){let o;s.mGM(o=s.lsd())&&(t.container=o.first),s.mGM(o=s.lsd())&&(t.group=o.first)}},inputs:{id:"id"},decls:4,vars:0,consts:[["group",""],["container",""],[1,"k-notification-group"]],template:function(e,t){1&e&&(s.j41(0,"div",2,0),s.eu8(2,null,1),s.k0s())},encapsulation:2}),i})();const QHe=new s.nKC("Notification Container");let z_e=(()=>{class i{constructor(e,t,o){this.resolver=e,this.injector=t,this.container=o,this.notificationContainers=[],this.position={horizontal:"right",vertical:"top"}}show(e){if(!e)throw new Error("NotificationSettings settings are required");const t=this.findGroupContainer(e),o=e.position||this.position,r=`${o.horizontal} ${o.vertical}`;let a,l,c=this.notificationContainers.find(u=>t.nativeElement.contains(u.element.nativeElement)&&u.id===r);if(!c){a=this.resolver.resolveComponentFactory(qHe).create(this.injector),c=a.instance,this.appRef.attachView(a.hostView);const u=a.location.nativeElement,f=this.findGroupContainer(e);if(!f)throw new Error("\n                    View Container not found! Inject the NOTIFICATION_CONTAINER or define a specific ViewContainerRef via\n                    the appendTo option. See http://www.telerik.com/kendo-angular-ui/components/notification/api/NOTIFICATION_CONTAINER/\n                    for more details.\n                ");f.nativeElement.appendChild(u),this.notificationContainers.push(c)}return e.position=o,l=c.addNotification(e),l}get appRef(){return this.applicationRef||(this.applicationRef=this.injector.get(s.o8S)),this.applicationRef}findGroupContainer(e){let t;if(e.appendTo)t=e.appendTo.element;else if(this.container)t=this.container;else{const o=this.appRef.components&&this.appRef.components[0];t=o?o.location:null}return t}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(s.OM3),s.KVO(s.zZn),s.KVO(QHe,8))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),ZHe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({providers:[z_e],imports:[[Ge,xn]]}),i})(),vn=(()=>{class i{constructor(e,t){this._notification=e,this._dialog=t}info(e){this._notify("info",e)}success(e){this._notify("success",e)}warning(e){this._notify("warning",e)}error(e){this._notify("error",e)}confirm(e,t,o="Si",r="No"){return this._dialog.open({title:t,content:e,actions:[{text:r},{text:o}],width:450,height:200,minWidth:250,cssClass:"confirm-dialog"}).result.pipe((0,V.T)(c=>!(c instanceof xC)&&c.text===o))}alert(e,t,o){return this._dialog.open({title:t,content:e,actions:[{text:o||"Ok",primary:!0}],width:450,height:200,minWidth:250}).result.pipe((0,V.T)(()=>{}))}_notify(e,t){this._notification.show({content:t,hideAfter:5e3,animation:{type:"slide",duration:400},position:{horizontal:"right",vertical:"bottom"},type:{style:e,icon:!0}})}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(z_e),s.KVO(a_))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();function NC(i=0,n=DD){return i<0&&(i=0),wG(i,i,n)}const{isArray:eje}=Array;function H_e(...i){const n=Lp(i),e=function tje(i){return 1===i.length&&eje(i[0])?i[0]:i}(i);return e.length?new Qi.c(t=>{let o=e.map(()=>[]),r=e.map(()=>!1);t.add(()=>{o=r=null});for(let a=0;!t.closed&&a<e.length;a++)Wo(e[a]).subscribe((0,Ai._)(t,l=>{if(o[a].push(l),o.every(c=>c.length)){const c=o.map(u=>u.shift());t.next(n?n(...c):c),o.some((u,f)=>!u.length&&r[f])&&t.complete()}},()=>{r[a]=!0,!o[a].length&&t.complete()}));return()=>{o=r=null}}):Dr}function zG(i,n){return(0,zs.T)(n)?le(()=>i,n):le(()=>i)}function j_e(i,n){return n?e=>I2(n.pipe(We(1),function nje(){return(0,Ri.N)((i,n)=>{i.subscribe((0,Ai._)(n,x2.l))})}()),e.pipe(j_e(i))):ar((e,t)=>Wo(i(e,t)).pipe(We(1),A2(e)))}function c_(i,n=DD){const e=wG(i,n);return j_e(()=>e)}function RJ(i,n=Mm.D){return i=i??ije,(0,Ri.N)((e,t)=>{let o,r=!0;e.subscribe((0,Ai._)(t,a=>{const l=n(a);(r||!i(o,l))&&(r=!1,o=l,t.next(a))}))})}function ije(i,n){return i===n}function AJ(i,n=DD,e){const t=wG(i,n);return function sje(i,n){return(0,Ri.N)((e,t)=>{const{leading:o=!0,trailing:r=!1}=n??{};let a=!1,l=null,c=null,u=!1;const f=()=>{c?.unsubscribe(),c=null,r&&(v(),u&&t.complete())},_=()=>{c=null,u&&t.complete()},S=b=>c=Wo(i(b)).subscribe((0,Ai._)(t,f,_)),v=()=>{if(a){a=!1;const b=l;l=null,t.next(b),!u&&S(b)}};e.subscribe((0,Ai._)(t,b=>{a=!0,l=b,(!c||c.closed)&&(o?v():S(b))},()=>{u=!0,(!(r&&a&&c)||c.closed)&&t.complete()}))})}(()=>t,e)}function J1(i,n=DD){return(0,Ri.N)((e,t)=>{let o=null,r=null,a=null;const l=()=>{if(o){o.unsubscribe(),o=null;const u=r;r=null,t.next(u)}};function c(){const u=a+i,f=n.now();if(f<u)return o=this.schedule(void 0,u-f),void t.add(o);l()}e.subscribe((0,Ai._)(t,u=>{r=u,a=n.now(),o||(o=n.schedule(c,i),t.add(o))},()=>{l(),t.complete()},void 0,()=>{r=o=null}))})}let $_e=(()=>{class i{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(s.sFG),s.rXU(s.aKT))};static#t=this.\u0275dir=s.FsC({type:i})}return i})(),LC=(()=>{class i extends $_e{static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=s.xGo(i)))(o||i)}})();static#t=this.\u0275dir=s.FsC({type:i,features:[s.Vt3]})}return i})();const zn=new s.nKC(""),aje={provide:zn,useExisting:(0,s.Rfq)(()=>xD),multi:!0};let xD=(()=>{class i extends LC{writeValue(e){this.setProperty("checked",e)}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=s.xGo(i)))(o||i)}})();static#t=this.\u0275dir=s.FsC({type:i,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,o){1&t&&s.bIt("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},features:[s.Jv_([aje]),s.Vt3]})}return i})();const lje={provide:zn,useExisting:(0,s.Rfq)(()=>Qo),multi:!0},dje=new s.nKC("");let Qo=(()=>{class i extends $_e{constructor(e,t,o){super(e,t),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cje(){const i=Wt()?Wt().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(dje,8))};static#t=this.\u0275dir=s.FsC({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,o){1&t&&s.bIt("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[s.Jv_([lje]),s.Vt3]})}return i})();function q1(i){return null==i||("string"==typeof i||Array.isArray(i))&&0===i.length}function X_e(i){return null!=i&&"number"==typeof i.length}const Lo=new s.nKC(""),Q1=new s.nKC(""),uje=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class OI{static min(n){return function W_e(i){return n=>{if(q1(n.value)||q1(i))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<i?{min:{min:i,actual:n.value}}:null}}(n)}static max(n){return function K_e(i){return n=>{if(q1(n.value)||q1(i))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>i?{max:{max:i,actual:n.value}}:null}}(n)}static required(n){return Y_e(n)}static requiredTrue(n){return function J_e(i){return!0===i.value?null:{required:!0}}(n)}static email(n){return function q_e(i){return q1(i.value)||uje.test(i.value)?null:{email:!0}}(n)}static minLength(n){return function Q_e(i){return n=>q1(n.value)||!X_e(n.value)?null:n.value.length<i?{minlength:{requiredLength:i,actualLength:n.value.length}}:null}(n)}static maxLength(n){return Z_e(n)}static pattern(n){return function ege(i){if(!i)return HG;let n,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),n=new RegExp(e)):(e=i.toString(),n=i),t=>{if(q1(t.value))return null;const o=t.value;return n.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(n)}static nullValidator(n){return null}static compose(n){return rge(n)}static composeAsync(n){return age(n)}}function Y_e(i){return q1(i.value)?{required:!0}:null}function Z_e(i){return n=>X_e(n.value)&&n.value.length>i?{maxlength:{requiredLength:i,actualLength:n.value.length}}:null}function HG(i){return null}function tge(i){return null!=i}function nge(i){return(0,s.jNT)(i)?Zi(i):i}function ige(i){let n={};return i.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function sge(i,n){return n.map(e=>e(i))}function oge(i){return i.map(n=>function hje(i){return!i.validate}(n)?n:e=>n.validate(e))}function rge(i){if(!i)return null;const n=i.filter(tge);return 0==n.length?null:function(e){return ige(sge(e,n))}}function xJ(i){return null!=i?rge(oge(i)):null}function age(i){if(!i)return null;const n=i.filter(tge);return 0==n.length?null:function(e){return function rje(...i){const n=Lp(i),{args:e,keys:t}=Pp(i),o=new Qi.c(r=>{const{length:a}=e;if(!a)return void r.complete();const l=new Array(a);let c=a,u=a;for(let f=0;f<a;f++){let _=!1;Wo(e[f]).subscribe((0,Ai._)(r,S=>{_||(_=!0,u--),l[f]=S},()=>c--,void 0,()=>{(!c||!_)&&(u||r.next(t?Im(t,l):l),r.complete())}))}});return n?o.pipe(hd(n)):o}(sge(e,n).map(nge)).pipe((0,V.T)(ige))}}function NJ(i){return null!=i?age(oge(i)):null}function lge(i,n){return null===i?[n]:Array.isArray(i)?[...i,n]:[i,n]}function cge(i){return i._rawValidators}function dge(i){return i._rawAsyncValidators}function LJ(i){return i?Array.isArray(i)?i:[i]:[]}function jG(i,n){return Array.isArray(i)?i.includes(n):i===n}function uge(i,n){const e=LJ(n);return LJ(i).forEach(o=>{jG(e,o)||e.push(o)}),e}function hge(i,n){return LJ(n).filter(e=>!jG(i,e))}class pge{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=xJ(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=NJ(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Bl extends pge{get formDirective(){return null}get path(){return null}}class Ci extends pge{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fge{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Di=(()=>{class i extends fge{constructor(e){super(e)}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(Ci,2))};static#t=this.\u0275dir=s.FsC({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,o){2&t&&s.AVh("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[s.Vt3]})}return i})(),Ls=(()=>{class i extends fge{constructor(e){super(e)}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(Bl,10))};static#t=this.\u0275dir=s.FsC({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,o){2&t&&s.AVh("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[s.Vt3]})}return i})();const TI="VALID",XG="INVALID",ND="PENDING",MI="DISABLED";function UJ(i){return(WG(i)?i.validators:i)||null}function FJ(i,n){return(WG(n)?n.asyncValidators:i)||null}function WG(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class BJ{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===TI}get invalid(){return this.status===XG}get pending(){return this.status==ND}get disabled(){return this.status===MI}get enabled(){return this.status!==MI}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(uge(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(uge(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(hge(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(hge(n,this._rawAsyncValidators))}hasValidator(n){return jG(this._rawValidators,n)}hasAsyncValidator(n){return jG(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=ND,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=MI,this.errors=null,this._forEachChild(t=>{t.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(t=>t(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=TI,this._forEachChild(t=>{t.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===TI||this.status===ND)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?MI:TI}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=ND,this._hasOwnPendingAsyncValidator=!0;const e=nge(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((t,o)=>t&&t._find(o),this)}getError(n,e){const t=e?this.get(e):this;return t&&t.errors?t.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new s.bkB,this.statusChanges=new s.bkB}_calculateStatus(){return this._allControlsDisabled()?MI:this.errors?XG:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ND)?ND:this._anyControlsHaveStatus(XG)?XG:TI}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){WG(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function _je(i){return Array.isArray(i)?xJ(i):i||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function gje(i){return Array.isArray(i)?NJ(i):i||null}(this._rawAsyncValidators)}}class Mh extends BJ{constructor(n,e,t){super(UJ(e),FJ(t,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,t={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function gge(i,n,e){i._forEachChild((t,o)=>{if(void 0===e[o])throw new s.wOt(1002,"")})})(this,0,n),Object.keys(n).forEach(t=>{(function _ge(i,n,e){const t=i.controls;if(!(n?Object.keys(t):t).length)throw new s.wOt(1e3,"");if(!t[e])throw new s.wOt(1001,"")})(this,!0,t),this.controls[t].setValue(n[t],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(t=>{const o=this.controls[t];o&&o.patchValue(n[t],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((t,o)=>{t.reset(n?n[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,t)=>(n[t]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const t=this.controls[e];t&&n(t,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,t]of Object.entries(this.controls))if(this.contains(e)&&n(t))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,t,o)=>((t.enabled||this.disabled)&&(e[o]=t.value),e))}_reduceChildren(n,e){let t=n;return this._forEachChild((o,r)=>{t=e(t,o,r)}),t}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const Sje=Mh,PC=new s.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>II}),II="always";function KG(i,n){return[...n.path,i]}function RI(i,n,e=II){VJ(i,n),n.valueAccessor.writeValue(i.value),(i.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(i.disabled),function bje(i,n){n.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&Sge(i,n)})}(i,n),function yje(i,n){const e=(t,o)=>{n.valueAccessor.writeValue(t),o&&n.viewToModelUpdate(t)};i.registerOnChange(e),n._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,n),function Eje(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&Sge(i,n),"submit"!==i.updateOn&&i.markAsTouched()})}(i,n),function Cje(i,n){if(n.valueAccessor.setDisabledState){const e=t=>{n.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(e),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,n)}function YG(i,n,e=!0){const t=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(t),n.valueAccessor.registerOnTouched(t)),qG(i,n),i&&(n._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function JG(i,n){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function VJ(i,n){const e=cge(i);null!==n.validator?i.setValidators(lge(e,n.validator)):"function"==typeof e&&i.setValidators([e]);const t=dge(i);null!==n.asyncValidator?i.setAsyncValidators(lge(t,n.asyncValidator)):"function"==typeof t&&i.setAsyncValidators([t]);const o=()=>i.updateValueAndValidity();JG(n._rawValidators,o),JG(n._rawAsyncValidators,o)}function qG(i,n){let e=!1;if(null!==i){if(null!==n.validator){const o=cge(i);if(Array.isArray(o)&&o.length>0){const r=o.filter(a=>a!==n.validator);r.length!==o.length&&(e=!0,i.setValidators(r))}}if(null!==n.asyncValidator){const o=dge(i);if(Array.isArray(o)&&o.length>0){const r=o.filter(a=>a!==n.asyncValidator);r.length!==o.length&&(e=!0,i.setAsyncValidators(r))}}}const t=()=>{};return JG(n._rawValidators,t),JG(n._rawAsyncValidators,t),e}function Sge(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function vge(i,n){VJ(i,n)}function HJ(i,n){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function Cge(i,n){i._syncPendingControls(),n.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function jJ(i,n){if(!n)return null;let e,t,o;return Array.isArray(n),n.forEach(r=>{r.constructor===Qo?e=r:function kje(i){return Object.getPrototypeOf(i.constructor)===LC}(r)?t=r:o=r}),o||t||e||null}const Tje={provide:Bl,useExisting:(0,s.Rfq)(()=>ps)},AI=Promise.resolve();let ps=(()=>{class i extends Bl{constructor(e,t,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.bkB,this.form=new Mh({},xJ(e),NJ(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){AI.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),RI(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){AI.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){AI.then(()=>{const t=this._findContainer(e.path),o=new Mh({});vge(o,e),t.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){AI.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){AI.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Cge(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(Lo,10),s.rXU(Q1,10),s.rXU(PC,8))};static#t=this.\u0275dir=s.FsC({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,o){1&t&&s.bIt("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[s.Mj6.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s.Jv_([Tje]),s.Vt3]})}return i})();function bge(i,n){const e=i.indexOf(n);e>-1&&i.splice(e,1)}function Ege(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}const sl=class extends BJ{constructor(n=null,e,t){super(UJ(e),FJ(t,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),WG(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Ege(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){bge(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){bge(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){Ege(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},Mje=sl,Aje={provide:Ci,useExisting:(0,s.Rfq)(()=>fs)},wge=Promise.resolve();let fs=(()=>{class i extends Ci{constructor(e,t,o,r,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new sl,this._registered=!1,this.name="",this.update=new s.bkB,this._parent=e,this._setValidators(t),this._setAsyncValidators(o),this.valueAccessor=jJ(0,r)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const t=e.name.previousValue;this.formDirective.removeControl({name:t,path:this._getPath(t)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),HJ(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){RI(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){wge.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const t=e.isDisabled.currentValue,o=0!==t&&(0,s.L39)(t);wge.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?KG(e,this._parent):[e]}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(Bl,9),s.rXU(Lo,10),s.rXU(Q1,10),s.rXU(zn,10),s.rXU(s.gRc,8),s.rXU(PC,8))};static#t=this.\u0275dir=s.FsC({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[s.Mj6.None,"disabled","isDisabled"],model:[s.Mj6.None,"ngModel","model"],options:[s.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s.Jv_([Aje]),s.Vt3,s.OA$]})}return i})(),Ps=(()=>{class i{static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275dir=s.FsC({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return i})();const Nje={provide:zn,useExisting:(0,s.Rfq)(()=>$J),multi:!0};let Lje=(()=>{class i{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),$J=(()=>{class i extends LC{constructor(e,t,o,r){super(e,t),this._registry=o,this._injector=r,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,s.WQX)(PC,{optional:!0})??II}ngOnInit(){this._control=this._injector.get(Ci),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(Lje),s.rXU(s.zZn))};static#t=this.\u0275dir=s.FsC({type:i,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,o){1&t&&s.bIt("change",function(){return o.onChange()})("blur",function(){return o.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[s.Jv_([Nje]),s.Vt3]})}return i})();const XJ=new s.nKC(""),Gje={provide:Ci,useExisting:(0,s.Rfq)(()=>GC)};let GC=(()=>{class i extends Ci{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,t,o,r,a){super(),this._ngModelWarningConfig=r,this.callSetDisabledState=a,this.update=new s.bkB,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(t),this.valueAccessor=jJ(0,o)}ngOnChanges(e){if(this._isControlChanged(e)){const t=e.form.previousValue;t&&YG(t,this,!1),RI(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}HJ(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&YG(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static#t=this.\u0275fac=function(t){return new(t||i)(s.rXU(Lo,10),s.rXU(Q1,10),s.rXU(zn,10),s.rXU(XJ,8),s.rXU(PC,8))};static#n=this.\u0275dir=s.FsC({type:i,selectors:[["","formControl",""]],inputs:{form:[s.Mj6.None,"formControl","form"],isDisabled:[s.Mj6.None,"disabled","isDisabled"],model:[s.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[s.Jv_([Gje]),s.Vt3,s.OA$]})}return i})();const Uje={provide:Bl,useExisting:(0,s.Rfq)(()=>xI)};let xI=(()=>{class i extends Bl{constructor(e,t,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.bkB,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qG(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return RI(t,e,this.callSetDisabledState),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){YG(e.control||null,e,!1),function Oje(i,n){const e=i.indexOf(n);e>-1&&i.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,Cge(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=e.control,o=this.form.get(e.path);t!==o&&(YG(t||null,e),(i=>i instanceof sl)(o)&&(RI(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const t=this.form.get(e.path);vge(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const t=this.form.get(e.path);t&&function Dje(i,n){return qG(i,n)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){VJ(this.form,this),this._oldForm&&qG(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(Lo,10),s.rXU(Q1,10),s.rXU(PC,8))};static#t=this.\u0275dir=s.FsC({type:i,selectors:[["","formGroup",""]],hostBindings:function(t,o){1&t&&s.bIt("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[s.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s.Jv_([Uje]),s.Vt3,s.OA$]})}return i})();const Vje={provide:Ci,useExisting:(0,s.Rfq)(()=>QG)};let QG=(()=>{class i extends Ci{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,t,o,r,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new s.bkB,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(t),this._setAsyncValidators(o),this.valueAccessor=jJ(0,r)}ngOnChanges(e){this._added||this._setUpControl(),HJ(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return KG(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(t){return new(t||i)(s.rXU(Bl,13),s.rXU(Lo,10),s.rXU(Q1,10),s.rXU(zn,10),s.rXU(XJ,8))};static#n=this.\u0275dir=s.FsC({type:i,selectors:[["","formControlName",""]],inputs:{name:[s.Mj6.None,"formControlName","name"],isDisabled:[s.Mj6.None,"disabled","isDisabled"],model:[s.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[s.Jv_([Vje]),s.Vt3,s.OA$]})}return i})();let UC=(()=>{class i{constructor(){this._validator=HG}ngOnChanges(e){if(this.inputName in e){const t=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(t),this._validator=this._enabled?this.createValidator(t):HG,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275dir=s.FsC({type:i,features:[s.OA$]})}return i})();const Jje={provide:Lo,useExisting:(0,s.Rfq)(()=>lo),multi:!0};let lo=(()=>{class i extends UC{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.L39,this.createValidator=e=>Y_e}enabled(e){return e}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=s.xGo(i)))(o||i)}})();static#t=this.\u0275dir=s.FsC({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,o){2&t&&s.BMQ("required",o._enabled?"":null)},inputs:{required:"required"},features:[s.Jv_([Jje]),s.Vt3]})}return i})();const e$e={provide:Lo,useExisting:(0,s.Rfq)(()=>Ed),multi:!0};let Ed=(()=>{class i extends UC{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function Rge(i){return"number"==typeof i?i:parseInt(i,10)}(e),this.createValidator=e=>Z_e(e)}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=s.xGo(i)))(o||i)}})();static#t=this.\u0275dir=s.FsC({type:i,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,o){2&t&&s.BMQ("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[s.Jv_([e$e]),s.Vt3]})}return i})(),Fge=(()=>{class i{static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275mod=s.$C({type:i});static#n=this.\u0275inj=s.G2t({})}return i})(),Z1=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:PC,useValue:e.callSetDisabledState??II}]}}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275mod=s.$C({type:i});static#n=this.\u0275inj=s.G2t({imports:[Fge]})}return i})(),eS=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:XJ,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:PC,useValue:e.callSetDisabledState??II}]}}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275mod=s.$C({type:i});static#n=this.\u0275inj=s.G2t({imports:[Fge]})}return i})();const qJ=i=>i&&i.ownerDocument||window.document,QJ=i=>{const n_browser=(()=>{const i=window&&window.navigator.userAgent;if(!i)return!1;let n=!1,e=[],t={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var o in t)if(t.hasOwnProperty(o)&&(e=i.match(t[o]),e)){n={},n[o]=!0,n[e[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,n.version=parseInt(document.DOCUMENT_NODE||e[2],10);break}return n})(),e=qJ(i);return n_browser.edge||n_browser.safari?e.body:e.documentElement},a$e=i=>{if(i&&i.className&&"string"==typeof i.className&&i.className.indexOf("k-auto-scrollable")>-1)return!0;let n=window.getComputedStyle(i,"overflow").overflow;return n.indexOf("auto")>-1||n.indexOf("scroll")>-1},FC=i=>{const n=QJ(i);if(!i||i===document.body||i===document.documentElement)return n;let e=i;for(;e&&e!==document.body&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&e.nodeType!==Node.DOCUMENT_NODE&&!a$e(e);)e=e.parentNode;return!e||e!==document.body&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE?e:n};var Xs=function(i){return i.POINTER_DOWN="pointerdown",i.POINTER_MOVE="pointermove",i.POINTER_UP="pointerup",i.POINTER_CANCEL="pointercancel",i.MOUSE_DOWN="mousedown",i.MOUSE_MOVE="mousemove",i.MOUSE_UP="mouseup",i.CONTEXT_MENU="contextmenu",i.TOUCH_START="touchstart",i.TOUCH_MOVE="touchmove",i.TOUCH_END="touchend",i.TOUCH_CANCEL="touchcancel",i.SCROLL="scroll",i.START="KENDO_DRAG_AND_DROP_START",i.MOVE="KENDO_DRAG_AND_DROP_MOVE",i.END="KENDO_DRAG_AND_DROP_END",i.CANCEL="KENDO_DRAG_AND_DROP_CANCEL",i}(Xs||{});const tS=()=>{},f$e=(i,n,e={})=>{const{onIsPressedChange:t=tS,onIsScrollingChange:o=tS,onVelocityChange:r=tS,onOffsetChange:a=tS,onPageOffsetChange:l=tS,onClientOffsetChange:c=tS,onScrollOffsetChange:u=tS,onInitialScrollOffsetChange:f=tS}=e,_=n.payload,S=_.element,v=_.hint,b=i.autoScrollDirection,D=i.scrollableParent,k=((i,n)=>(i=>/^touch/.test(i.type))(i)?{pageX:i.changedTouches[0].pageX,pageY:i.changedTouches[0].pageY,clientX:i.changedTouches[0].clientX,clientY:i.changedTouches[0].clientY,scrollX:n.scrollOffset.x,scrollY:n.scrollOffset.y,offsetX:n.offset.x,offsetY:n.offset.y,type:i.type,originalEvent:i,isTouch:!0,altKey:!1,ctrlKey:!1,shiftKey:!1,metaKey:!1}:(i=>/^(scroll)/.test(i.type))(i)?{pageX:n.pageOffset.x,pageY:n.pageOffset.y,clientX:n.clientOffset.x,clientY:n.clientOffset.y,scrollX:n.scrollOffset.x,scrollY:n.scrollOffset.y,offsetX:n.offset.x,offsetY:n.offset.y,type:i.type,originalEvent:i,altKey:!1,ctrlKey:!1,shiftKey:!1,metaKey:!1}:{pageX:i.pageX,pageY:i.pageY,clientX:i.clientX,clientY:i.clientY,offsetX:i.offsetX,offsetY:i.offsetY,scrollX:n.scrollOffset.x,scrollY:n.scrollOffset.y,type:i.type,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,altKey:i.altKey,metaKey:i.metaKey,originalEvent:i})(n.event,i);switch(k.type){case Xs.POINTER_DOWN:if(k.type===Xs.POINTER_DOWN&&(!k.originalEvent.isPrimary||0!==k.originalEvent.button))break;case Xs.MOUSE_DOWN:if(k.type===Xs.MOUSE_DOWN&&k.originalEvent.which&&k.originalEvent.which>1||i.ignoreMouse)break;case Xs.TOUCH_START:if(k.type===Xs.TOUCH_START&&1!==k.originalEvent.touches.length)break;case Xs.START:{const x=D||FC(n.payload.element);f(x instanceof Window?{x:x.scrollX,y:x.scrollY}:{x:x.scrollLeft,y:x.scrollTop}),c({x:k.clientX,y:k.clientY}),l({x:k.pageX,y:k.pageY}),a({x:k.offsetX,y:k.offsetY}),t(!0),_.onPress&&_.onPress(k);break}case Xs.SCROLL:if(k.type===Xs.SCROLL&&!i.pressed)break;const O=D||FC(S),I=O instanceof Window?{x:O.scrollX,y:O.scrollY}:{x:O.scrollLeft,y:O.scrollTop};k.scrollX=I.x-i.initialScrollOffset.x,k.scrollY=I.y-i.initialScrollOffset.y,u({x:k.scrollX,y:k.scrollY});case Xs.POINTER_MOVE:if(k.type===Xs.POINTER_MOVE&&!k.originalEvent.isPrimary)break;case Xs.MOUSE_MOVE:case Xs.TOUCH_MOVE:if(k.type===Xs.TOUCH_MOVE&&1!==k.originalEvent.touches.length)break;case Xs.MOVE:if(i.pressed){if(i.autoScroll&&"scroll"!==k.originalEvent.type&&S){const L=qJ(S),H=D||FC(L.elementFromPoint(k.clientX,k.clientY)),j=((i,n,e)=>{let t={x:0,y:0},o=50;return i-e.left<o?t.x=-(o-(i-e.left)):e.right-i<o&&(t.x=o-(e.right-i)),n-e.top<o?t.y=-(o-(n-e.top)):e.bottom-n<o&&(t.y=o-(e.bottom-n)),t})(k.clientX,k.clientY,((i,n)=>{let e=QJ(i);if(i===e)return{top:e.scrollTop,left:e.scrollLeft,bottom:e.scrollTop+n.innerHeight,right:e.scrollLeft+n.innerWidth};{const t=i.getBoundingClientRect();return{bottom:t.top+t.height,right:t.left+t.width,left:t.left,top:t.top}}})(H,(i=>{const n=qJ(i);return n&&n.defaultView||window})(S)));r({x:b&&!1===b.horizontal?0:j.x,y:b&&!1===b.vertical?0:j.y}),o(0!==j.y||0!==j.x)}!i.drag&&_.onDragStart&&_.onDragStart(k),_.onDrag&&_.onDrag(k);const x=((i,n)=>{let e=0,t=null;return n.forEach(o=>{if(o&&i){const r=((i,n)=>{const e=i.getBoundingClientRect(),t=n.getBoundingClientRect(),o=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),l=Math.min(t.top+t.height,e.top+e.height);if(r<a&&o<l){const S=(a-r)*(l-o);return Number((S/(t.width*t.height+e.width*e.height-S)).toFixed(4))}return 0})(i,o);r>e&&(e=r,t=o)}}),t})(v||S,i.drops.map(L=>L&&L.element).filter(L=>L!==(v||S))),P=i.drops.find(L=>L.element===x);P&&x&&((i,n,e)=>{const t=e.getBoundingClientRect();return t.top<=n&&t.left<=i&&n<=t.bottom&&i<=t.right})(k.clientX,k.clientY,D||FC(x))&&x!==S?(i.drop&&i.drop.element)!==x?(i.drop&&i.drop.onDragLeave&&i.drop.onDragLeave(k),P.onDragEnter&&P.onDragEnter(k)):P.onDragOver&&P.onDragOver(k):i.drop&&i.drop.onDragLeave&&i.drop.onDragLeave(k)}c({x:k.clientX,y:k.clientY}),l({x:k.pageX,y:k.pageY});break;case Xs.POINTER_UP:if(k.type===Xs.POINTER_UP&&!k.originalEvent.isPrimary)break;case Xs.MOUSE_UP:case Xs.TOUCH_END:if(k.type===Xs.TOUCH_END&&1!==k.originalEvent.touches.length)break;case Xs.END:t(!1),o(!1),u({x:0,y:0}),_.onRelease&&_.onRelease(k),i.drop&&i.drop.onDrop&&i.drop.onDrop(k),i.drag&&_.onDragEnd&&_.onDragEnd(k);break;case Xs.POINTER_CANCEL:case Xs.CONTEXT_MENU:case Xs.TOUCH_CANCEL:case Xs.CANCEL:t(!1),o(!1),u({x:0,y:0}),_.onDragEnd&&_.onDragEnd(k),i.drop&&i.drop.onDragLeave&&i.drop.onDragLeave(k)}},_$e=(i,n,e)=>({$implicit:i,index:n,data:e});function g$e(i,n){1&i&&s.eu8(0)}const ZG={name:"@progress/kendo-angular-utils",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925031,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};function S$e(i){return 9===i.nodeType}const LD=(i,n)=>({event:i,payload:n}),nn=i=>null!=i;function zge(i,n){if(i.closest)return i.closest(n);const e=Element.prototype.matches?(o,r)=>o.matches(r):(o,r)=>o.msMatchesSelector(r);let t=i;for(;t&&!S$e(t);){if(e(t,n))return t;t=t.parentNode}}const e5=(i,n,e)=>{Object.keys(e).forEach(o=>{i.setStyle(n,o,e[o])})},b$e=["pointerdown","mousedown","touchstart"],E$e=["pointermove","mousemove","touchmove"],y$e=["pointerup","pointercancel","mouseup","contextmenu","touchend","touchcancel"];let t5=(()=>{class i{constructor(){this.dragTarget=null,this.dropTarget=null,this.dragTargets=[],this.dropTargets=[],this.pressed=!1,this.ignoreMouse=!1,this.autoScroll=!0,this.isScrolling=!1,this.scrollableParent=null,this.autoScrollDirection={horizontal:!0,vertical:!0},this.initialClientOffset={x:0,y:0},this.clientOffset={x:0,y:0},this.initialScrollOffset={x:0,y:0},this.scrollOffset={x:0,y:0},this.offset={x:0,y:0},this.pageOffset={x:0,y:0},this.velocity={x:0,y:0},this.dragIndex=null,this.dropIndex=null,this.callbacks={},this.scrollInterval=null,this.setCallbacks()}handleDragAndDrop(e){this.updateState(),f$e(this.state,e,this.callbacks)}setPressed(e){this.pressed=e}setScrolling(e){if(this.isScrolling=e,e){const t=FC(document.elementFromPoint(this.clientOffset.x,this.clientOffset.y));window.clearInterval(this.scrollInterval),this.scrollInterval=window.setInterval(()=>{((i,n)=>{if(!i)return;let e,t;i===QJ(i)?(e=document.body.scrollHeight>window.innerHeight,t=document.body.scrollWidth>window.innerWidth):(e=i.offsetHeight<=i.scrollHeight,t=i.offsetWidth<=i.scrollWidth);let r=i.scrollTop+n.y,l=i.scrollLeft+n.x,c=t&&l>0&&l<i.scrollWidth;e&&r>0&&r<i.scrollHeight?i.scrollTop+=n.y:e&&r<0&&(i.scrollTop=0),c?i.scrollLeft+=n.x:t&&l<0&&(i.scrollLeft=0)})(t,{x:this.velocity.x,y:this.velocity.y})},50)}else this.scrollInterval&&(window.clearInterval(this.scrollInterval),this.scrollInterval=null)}setVelocity(e){this.velocity=e}setOffset(e){this.offset=e}setClientOffset(e){this.clientOffset=e}setPageOffset(e){this.pageOffset=e}setInitialClientOffset(e){this.initialClientOffset=e}setScrollOffset(e){this.scrollOffset=e}setInitialScrollOffset(e){this.initialScrollOffset=e}get dragTargetPresent(){return nn(this.dragTarget?.element)}get dropTargetPresent(){return nn(this.dropTarget?.element)}updateState(){this.state={drag:this.dragTarget,drop:this.dropTarget,drags:this.dragTargets,drops:this.dropTargets,pressed:this.pressed,ignoreMouse:this.ignoreMouse,autoScroll:this.autoScroll,isScrolling:this.isScrolling,scrollableParent:this.scrollableParent,autoScrollDirection:this.autoScrollDirection,initialClientOffset:this.initialClientOffset,clientOffset:this.clientOffset,initialScrollOffset:this.initialScrollOffset,scrollOffset:this.scrollOffset,offset:this.offset,pageOffset:this.pageOffset,velocity:this.velocity}}setCallbacks(){this.callbacks={onVelocityChange:this.setVelocity.bind(this),onOffsetChange:this.setOffset.bind(this),onClientOffsetChange:this.setClientOffset.bind(this),onPageOffsetChange:this.setPageOffset.bind(this),onInitialClientOffsetChange:this.setInitialClientOffset.bind(this),onScrollOffsetChange:this.setScrollOffset.bind(this),onInitialScrollOffsetChange:this.setInitialScrollOffset.bind(this),onIsPressedChange:this.setPressed.bind(this),onIsScrollingChange:this.setScrolling.bind(this)}}ngOnDestroy(){this.scrollInterval&&(window.clearInterval(this.scrollInterval),this.scrollInterval=null)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),NI=(()=>{class i{constructor(e){this.element=e,this.pointerEvents="none"}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-draghint"]],hostVars:2,hostBindings:function(e,t){2&e&&s.xc7("pointer-events",t.pointerEvents)},inputs:{template:"template",directive:"directive",targetIndex:"targetIndex",contextData:"contextData"},decls:1,vars:6,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&s.DNE(0,g$e,1,0,"ng-container",0),2&e&&s.Y8G("ngTemplateOutlet",t.template)("ngTemplateOutletContext",s.sMw(2,_$e,t.directive,t.targetIndex,t.contextData))},dependencies:[qe],encapsulation:2}),i})();class Hge{constructor(n){Object.assign(this,n)}get normalizedEvent(){return this.dragEvent}get hostElement(){return this.dragTarget}}class jge{constructor(n){Object.assign(this,n)}}class $ge extends il{constructor(n){super(),Object.assign(this,n)}get normalizedEvent(){return this.dragEvent}get hostElement(){return this.dragTarget}}class Xge{constructor(n){Object.assign(this,n)}get normalizedEvent(){return this.dragEvent}get hostElement(){return this.dragTarget}}class Wge extends il{constructor(n){super(),Object.assign(this,n)}get normalizedEvent(){return this.dragEvent}get hostElement(){return this.dragTarget}}class Kge{constructor(n){Object.assign(this,n)}get normalizedEvent(){return this.dragEvent}get hostElement(){return this.dragTarget}}class Yge{constructor(n){Object.assign(this,n)}get normalizedEvent(){return this.dragEvent}get hostElement(){return this.dropTarget}}let i5=!1,eq=!1,tq=(()=>{class i{constructor(e,t,o,r,a,l){this.wrapper=e,this.ngZone=t,this.renderer=o,this.service=r,this.viewContainer=a,this.cdr=l,this.hint=!1,this.dragDelay=0,this.threshold=0,this.mode="auto",this.onDragReady=new s.bkB,this.onPress=new s.bkB,this.onDragStart=new s.bkB,this.onDrag=new s.bkB,this.onRelease=new s.bkB,this.onDragEnd=new s.bkB,this.currentDragTarget=null,this.dragTimeout=null,this.pressed=!1,this.dragStarted=!1,this.hintComponent=null,this.defaultHint=null,this.currentDragTargetElement=null,this.scrollableParent=null,this.previousDragTargets=[],this.initialPosition={x:0,y:0},this.position={x:0,y:0},this.positionsMap=new Map,this._dragTargetFilter=null,this._dragDisabled=!1,this._dragData=()=>null,this._dragTargetId=()=>null,(0,_t.$)(ZG)}set dragTargetFilter(e){this._dragTargetFilter=e,this.dragDisabled||this.initializeDragTargets()}get dragTargetFilter(){return this._dragTargetFilter}set dragTargetId(e){if(s.naY&&"function"!=typeof e)throw new Error(`dragTargetId must be a function, but received ${JSON.stringify(e)}.`);this._dragTargetId=e}get dragTargetId(){return this._dragTargetId}set dragData(e){if(s.naY&&"function"!=typeof e)throw new Error(`dragData must be a function, but received ${JSON.stringify(e)}.`);this._dragData=e}get dragData(){return this._dragData}set dragDisabled(e){this._dragDisabled=e,e?(this.clearPreviousTargets(),this.unsubscribe(),nn(this.hintElem)&&this.destroyHint()):((nn(this.wrapper)||nn(this.currentDragTarget))&&this.subscribe(),this.initializeDragTargets())}get dragDisabled(){return this._dragDisabled}notify(){this.cdr.detectChanges(),this.initializeDragTargets()}get allDragTargets(){return this.queryHost(this.dragTargetFilter)}get dragHandles(){return this.isHandleSelectorValid?this.queryHost(this.dragHandle):null}get hintTemplate(){return nn(this.hint)&&"object"==typeof this.hint?this.hint.hintTemplate:null}ngAfterViewInit(){const e=nn(this.wrapper)||nn(this.currentDragTarget);!this.dragDisabled&&e&&this.subscribe(),!this.dragDisabled&&this.initializeDragTargets()}onPointerDown(e){if(nn(this.dragHandles)&&!this.isDragHandle(e.target))return;const t=LD(e,this.currentDragTarget);this.service.handleDragAndDrop(t),this.subscribe()}onPointerMove(e){e.preventDefault();const t=LD(e,this.currentDragTarget);this.service.handleDragAndDrop(t)}onPointerUp(e){e.preventDefault();const t=LD(e,this.currentDragTarget);this.service.handleDragAndDrop(t),this.ngZone.runOutsideAngular(()=>{this.subscribe()})}handlePress(e){this.dragDelay>0?this.dragTimeout=window.setTimeout(()=>{this.pressed=!0,this.emitZoneAwareEvent("onDragReady",e)},this.dragDelay):this.pressed=!0,this.currentDragTargetElement=zge(e.originalEvent.target,this.dragTargetFilter),this.currentDragTarget.element=this.currentDragTargetElement,this.service.dragIndex=this.getDragIndex(),this.scrollableParent=this.hintTemplate?document.body:this.currentDragTargetElement?FC(this.currentDragTargetElement):null,this.emitZoneAwareEvent("onPress",e)}handleDragStart(e){if(!this.pressed)return void(this.dragTimeout&&(window.clearTimeout(this.dragTimeout),this.dragTimeout=null));if(i5=this.emitZoneAwareEvent("onDragStart",e).isDefaultPrevented(),i5)return;this.position=this.positionsMap.has(this.currentDragTargetElement)?this.positionsMap.get(this.currentDragTargetElement):{x:0,y:0},this.hint?(this.createHint(),"auto"===this.mode&&this.renderer.setStyle(this.currentDragTargetElement,"opacity","0.7")):this.initialPosition={x:e.clientX-this.position.x,y:e.clientY-this.position.y},this.dragStarted=0===this.threshold,this.service.dragTarget=this.currentDragTarget;const t={dragTarget:this.currentDragTargetElement,dragTargetIndex:this.service.dragIndex};this.service.dragTargetId=this.dragTargetId(t);const o=Object.assign({dragTargetId:this.service.dragTargetId},t);this.service.dragData=this.dragData(o)}handleDrag(e){if(!this.pressed||i5)return;this.position=this.calculatePosition(this.hint?this.hintElem:this.currentDragTargetElement,e);const o=Math.abs(this.position.x)<this.threshold&&Math.abs(this.position.y)<this.threshold;!this.dragStarted&&o||(!this.dragStarted&&this.threshold>0&&(this.dragStarted=!0),eq=this.emitZoneAwareEvent("onDrag",e).isDefaultPrevented(),!eq&&("auto"===this.mode?this.performDrag():this.dragStarted=!0))}handleRelease(e){this.dragStarted&&this.positionsMap.set(this.currentDragTargetElement,this.position),this.dragTimeout&&(clearTimeout(this.dragTimeout),this.dragTimeout=null,this.pressed=!1),this.emitZoneAwareEvent("onRelease",e)}handleDragEnd(e){if(this.dragStarted){if("auto"===this.mode){const t=nn(this.service.dropTarget)&&!OG(this.service.dropTarget?.element,this.service.dragTarget?.element,!0),o=this.hint?this.hintElem:this.currentDragTargetElement;(t||this.service.dropTargets.length>0&&nn(o))&&(this.renderer.removeStyle(o,"transform"),e5(this.renderer,o,{transition:"transform .3s ease-in-out"}),this.positionsMap.delete(this.currentDragTargetElement))}this.hint&&nn(this.hintElem)&&(this.destroyHint(),"auto"===this.mode&&this.renderer.removeStyle(this.currentDragTargetElement,"opacity")),this.service.dragTarget=null,this.service.dragIndex=null,this.currentDragTarget.element=null,this.emitZoneAwareEvent("onDragEnd",e),!i5&&!eq&&(this.dragStarted=!1)}}get nativeElement(){return this.wrapper.nativeElement}get hintElem(){return this.hintTemplate&&nn(this.hintComponent)?this.hintComponent.instance.element.nativeElement:this.defaultHint}unsubscribe(){this.pointerDownSubscription&&this.pointerDownSubscription.unsubscribe(),this.pointerMoveSubscription&&this.pointerMoveSubscription.unsubscribe(),this.pointerUpSubscription&&this.pointerUpSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe()}subscribe(){this.ngZone.runOutsideAngular(()=>{if(this.unsubscribe(),!ne()||!nn(this.wrapper))return;const e=this.nativeElement;if(this.service.pressed){const t=E$e.map(r=>Dt(document,r)),o=y$e.map(r=>Dt(document,r));this.pointerMoveSubscription=Bt(...t).pipe(X(()=>""!==this.dragTargetFilter)).subscribe(r=>this.onPointerMove(r)),this.pointerUpSubscription=Bt(...o).subscribe(r=>this.onPointerUp(r)),nn(this.scrollableParent)&&(this.scrollSubscription=Dt(this.scrollableParent,"scroll").subscribe(r=>this.onPointerMove(r)))}else{const t=b$e.map(o=>Dt(e,o));this.pointerDownSubscription=Bt(...t).pipe(X(()=>""!==this.dragTargetFilter)).subscribe(o=>{zge(o.target,this.isHandleSelectorValid?this.dragHandle:this.dragTargetFilter)&&this.onPointerDown(o)})}})}emitZoneAwareEvent(e,t){const r={dragTarget:this.currentDragTargetElement,dragEvent:t,dragTargetIndex:this.service.dragIndex,dragTargetId:this.dragTargetId({dragTarget:this.currentDragTargetElement,dragTargetIndex:this.service.dragIndex})};let a;switch(this.hint&&nn(this.hintElem)&&(r.hintElement=this.hintElem),e){case"onDragReady":a=new jge(r);break;case"onPress":a=new Hge(r);break;case"onDragStart":a=new $ge(r);break;case"onDrag":a=new Wge(r);break;case"onRelease":a=new Kge(r);break;case"onDragEnd":a=new Xge(r)}return this.ngZone.run(()=>{this[e].emit(a)}),a}createHint(){ne()&&nn(this.wrapper)&&(nn(this.hint)&&"object"==typeof this.hint&&nn(this.hint.hintTemplate)?this.createCustomHint():this.createDefaultHint(),this.currentDragTarget.hint=this.hintElem,"object"==typeof this.hint&&nn(this.hint.appendTo)?this.hint.appendTo.element.nativeElement.appendChild(this.hintElem):document.body.appendChild(this.hintElem))}createDefaultHint(){this.defaultHint=this.currentDragTargetElement.cloneNode(!0),"object"==typeof this.hint&&nn(this.hint.hintClass)&&tJ(this.hint.hintClass).forEach(t=>this.renderer.addClass(this.defaultHint,t))}createCustomHint(){this.hintComponent=nn(this.hint.appendTo)?this.hint.appendTo.createComponent(NI):this.viewContainer.createComponent(NI),this.hintComponent.instance.template=this.hintTemplate,this.hintComponent.instance.directive=this,this.hintComponent.instance.targetIndex=this.service.dragIndex,this.hintComponent.instance.contextData=this.dragData({dragTarget:this.currentDragTargetElement,dragTargetId:this.service.dragTargetId,dragTargetIndex:this.service.dragIndex}),this.hintComponent.changeDetectorRef.detectChanges()}destroyHint(){nn(this.hintTemplate)?(this.hintComponent.destroy(),this.hintComponent.changeDetectorRef.detectChanges(),this.hintComponent=null):(document.body.removeChild(this.defaultHint),this.defaultHint=null),this.currentDragTarget.hint=null}getDragIndex(){return this.allDragTargets.indexOf(this.currentDragTargetElement)}initializeDragTargets(){nn(this.allDragTargets)?(this.allDragTargets.forEach(e=>{this.service.dragTargets.find(o=>o.element===e)||this.service.dragTargets.push({element:e,hint:null,onPress:this.handlePress.bind(this),onRelease:this.handleRelease.bind(this),onDragStart:this.handleDragStart.bind(this),onDrag:this.handleDrag.bind(this),onDragEnd:this.handleDragEnd.bind(this)})}),this.previousDragTargets.length>0&&this.previousDragTargets.filter(t=>!this.allDragTargets.includes(t)).forEach(t=>{const o=this.service.dragTargets.findIndex(r=>r.element===t);o>-1&&this.service.dragTargets.splice(o,1)}),this.previousDragTargets=this.allDragTargets,this.currentDragTarget={element:null,hint:null,onPress:this.handlePress.bind(this),onRelease:this.handleRelease.bind(this),onDragStart:this.handleDragStart.bind(this),onDrag:this.handleDrag.bind(this),onDragEnd:this.handleDragEnd.bind(this)},this.setCursorStyle()):this.previousDragTargets.length>0&&this.clearPreviousTargets()}isDragHandle(e){return this.dragHandles.some(t=>OG(t,e,!0))}get isHandleSelectorValid(){return nn(this.dragHandle)&&""!==this.dragHandle}setCursorStyle(){ne()&&(nn(this.dragHandle)&&""!==this.dragHandle?nn(this.dragHandles)&&this.dragHandles.length>0&&this.dragHandles.forEach(e=>{this.renderer.setStyle(e,"cursor","move")}):this.allDragTargets.forEach(e=>{this.renderer.setStyle(e,"cursor","move")}))}queryHost(e){if(nn(e)&&""!==e)return Array.from(this.nativeElement.querySelectorAll(e))}clearPreviousTargets(){this.previousDragTargets.forEach(e=>{const t=this.service.dragTargets.findIndex(o=>o.element===e);t>-1&&this.service.dragTargets.splice(t,1)}),this.previousDragTargets=[]}performDrag(){const e=this.hint?this.hintElem:this.currentDragTargetElement;if(e){const t=this.getStylesPerElement(e);e5(this.renderer,e,t)}}calculatePosition(e,t){let o=null;return o=e===this.hintElem?{x:t.clientX,y:t.clientY}:{x:t.clientX-this.initialPosition.x+t.scrollX,y:t.clientY-this.initialPosition.y+t.scrollY},o}getStylesPerElement(e){if(e===this.hintElem){const t={x:this.position.x-this.initialPosition.x,y:this.position.y-this.initialPosition.y};return{top:`${t.y}px`,left:`${t.x}px`,transition:"none",position:"absolute",zIndex:1999}}return{transform:`translate(${this.position.x}px, ${this.position.y}px)`,transition:"none"}}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.SKi),s.rXU(s.sFG),s.rXU(t5),s.rXU(s.c1b),s.rXU(s.gRc))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoDragTargetContainer",""]],inputs:{hint:"hint",dragTargetFilter:"dragTargetFilter",dragHandle:"dragHandle",dragDelay:"dragDelay",threshold:"threshold",dragTargetId:"dragTargetId",dragData:"dragData",dragDisabled:"dragDisabled",mode:"mode"},outputs:{onDragReady:"onDragReady",onPress:"onPress",onDragStart:"onDragStart",onDrag:"onDrag",onRelease:"onRelease",onDragEnd:"onDragEnd"},exportAs:["kendoDragTargetContainer"]}),i})(),nq=(()=>{class i{constructor(e,t,o,r){this.service=e,this.element=t,this.ngZone=o,this.cdr=r,this.onDragEnter=new s.bkB,this.onDragOver=new s.bkB,this.onDragLeave=new s.bkB,this.onDrop=new s.bkB,this.currentDropTargetElement=null,this.previousDropTargets=[],this._dropTargetFilter=null,this._dropDisabled=!1,(0,_t.$)(ZG)}set dropTargetFilter(e){this._dropTargetFilter=e,this.dropDisabled||this.initializeDropTargets()}get dropTargetFilter(){return this._dropTargetFilter}set dropDisabled(e){this._dropDisabled=e,e?this.clearPreviousTargets():this.initializeDropTargets()}get dropDisabled(){return this._dropDisabled}notify(){this.cdr.detectChanges(),this.initializeDropTargets()}get nativeElement(){return this.element.nativeElement}ngAfterViewInit(){!this.dropDisabled&&this.initializeDropTargets()}get allDropTargets(){if(nn(this.dropTargetFilter)&&""!==this.dropTargetFilter)return Array.from(this.nativeElement.querySelectorAll(this.dropTargetFilter))}handleDragEnter(e){if(!this.service.dragTargetPresent||this.service.dropTargetPresent)return;const o=((i,n)=>{let e=0,t=null;return this.allDropTargets.forEach(o=>{if(o&&i){const r=((i,n)=>{const e=i.getBoundingClientRect(),t=n.getBoundingClientRect(),o=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),l=Math.min(t.top+t.height,e.top+e.height);if(r<a&&o<l){const S=(a-r)*(l-o);return Number((S/(t.width*t.height+e.width*e.height-S)).toFixed(4))}return 0})(i,o);r>e&&(e=r,t=o)}}),t})(e.originalEvent.target),r=this.service.dropTargets.find(a=>a.element===o);!nn(o)||!nn(r)||(this.currentDropTargetElement=o,this.service.dropTarget=r,this.service.dropIndex=this.getDropIndex(),this.emitZoneAwareEvent("onDragEnter",e))}handleDragLeave(e){!this.service.dragTargetPresent||!this.service.dropTargetPresent||(this.emitZoneAwareEvent("onDragLeave",e),this.currentDropTargetElement=null,this.service.dropTarget=null,this.service.dropIndex=null)}handleDragOver(e){!this.service.dragTargetPresent||!this.service.dropTargetPresent||this.emitZoneAwareEvent("onDragOver",e)}handleDrop(e){!this.service.dragTargetPresent||!this.service.dropTargetPresent||(this.emitZoneAwareEvent("onDrop",e),this.currentDropTargetElement=null,this.service.dropTarget=null,this.service.dropIndex=null)}initializeDropTargets(){nn(this.allDropTargets)?(this.allDropTargets.forEach(e=>{this.service.dropTargets.find(o=>o.element===e)||this.service.dropTargets.push({element:e,onDragEnter:this.handleDragEnter.bind(this),onDragLeave:this.handleDragLeave.bind(this),onDragOver:this.handleDragOver.bind(this),onDrop:this.handleDrop.bind(this)})}),this.previousDropTargets.length>0&&this.previousDropTargets.filter(t=>!this.allDropTargets.includes(t)).forEach(t=>{const o=this.service.dropTargets.findIndex(r=>r.element===t);o>-1&&this.service.dropTargets.splice(o,1)}),this.previousDropTargets=this.allDropTargets):this.previousDropTargets.length>0&&this.clearPreviousTargets()}emitZoneAwareEvent(e,t){const o={dragTarget:this.service.dragTarget?.element,dropTarget:this.currentDropTargetElement,dragData:this.service.dragData,dragEvent:t,dropTargetIndex:this.service.dropIndex};nn(this.service.dragTarget?.hint)&&(o.hintElement=this.service.dragTarget.hint);const r=new Yge(o);this.ngZone.run(()=>{this[e].emit(r)})}getDropIndex(){return this.allDropTargets.indexOf(this.currentDropTargetElement)}clearPreviousTargets(){this.previousDropTargets.forEach(e=>{const t=this.service.dropTargets.findIndex(o=>o.element===e);t>-1&&this.service.dropTargets.splice(t,1)}),this.previousDropTargets=[]}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(t5),s.rXU(s.aKT),s.rXU(s.SKi),s.rXU(s.gRc))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoDropTargetContainer",""]],inputs:{dropTargetFilter:"dropTargetFilter",dropDisabled:"dropDisabled"},outputs:{onDragEnter:"onDragEnter",onDragOver:"onDragOver",onDragLeave:"onDragLeave",onDrop:"onDrop"},exportAs:["kendoDropTargetContainer"]}),i})(),k$e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge]]}),i})();function O$e(i,n){return(e,t)=>!i.call(n,e,t)}function Jge(i){return(0,Ri.N)((n,e)=>{let t=!1,o=0;n.subscribe((0,Ai._)(e,r=>(t||(t=!i(r,o++)))&&e.next(r)))})}class qge extends Ke.B{constructor(n=1/0,e=1/0,t=JY){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=t,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:t,_infiniteTimeWindow:o,_timestampProvider:r,_windowTime:a}=this;e||(t.push(n),!o&&t.push(r.now()+a)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:t,_buffer:o}=this,r=o.slice();for(let a=0;a<r.length&&!n.closed;a+=t?1:2)n.next(r[a]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:t,_infiniteTimeWindow:o}=this,r=(o?1:2)*n;if(n<1/0&&r<t.length&&t.splice(0,t.length-r),!o){const a=e.now();let l=0;for(let c=1;c<t.length&&t[c]<=a;c+=2)l=c;l&&t.splice(0,l+1)}}}const Zge=i=>({$implicit:i}),cXe=["kendoActionSheetItem",""];function dXe(i,n){}function uXe(i,n){if(1&i&&s.DNE(0,dXe,0,0,"ng-template",2),2&i){const e=s.XpG();s.Y8G("ngTemplateOutlet",e.itemTemplate)("ngTemplateOutletContext",s.eq3(2,Zge,e.item))}}function hXe(i,n){if(1&i&&(s.j41(0,"span",6),s.nrm(1,"kendo-icon-wrapper",7),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.Aen(e.manageIconStyles(e.item)),s.HbH(e.manageIconClasses(e.item)),s.Y8G("name",e.item.icon)("customFontClass",e.item.iconClass)("svgIcon",e.item.svgIcon)}}function pXe(i,n){if(1&i&&(s.j41(0,"span",11),s.EFF(1),s.k0s()),2&i){const e=s.XpG(3);s.R7$(),s.JRh(e.item.title)}}function fXe(i,n){if(1&i&&(s.j41(0,"span",12),s.EFF(1),s.k0s()),2&i){const e=s.XpG(3);s.R7$(),s.JRh(e.item.description)}}function mXe(i,n){if(1&i&&(s.j41(0,"span",8),s.DNE(1,pXe,2,1,"span",9)(2,fXe,2,1,"span",10),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.Y8G("ngIf",e.item.title),s.R7$(),s.Y8G("ngIf",e.item.description)}}function _Xe(i,n){if(1&i&&(s.j41(0,"span",3),s.DNE(1,hXe,2,7,"span",4)(2,mXe,3,2,"span",5),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngIf",e.item.icon||e.item.iconClass||e.item.svgIcon),s.R7$(),s.Y8G("ngIf",e.item.title||e.item.description)}}const gXe=["kendoActionSheetList",""];function SXe(i,n){if(1&i&&s.nrm(0,"span",1),2&i){const e=n.$implicit,t=s.XpG();s.AVh("k-actionsheet-item",!0)("k-disabled",e.disabled),s.Y8G("ngClass",e.cssClass)("ngStyle",e.cssStyle)("itemTemplate",t.itemTemplate)("item",e),s.BMQ("aria-disabled",e.disabled)("kendo-actionsheet-item-index",t.setAttrIndex(e))}}const vXe=["childContainer"];function CXe(i,n){}function bXe(i,n){if(1&i&&s.DNE(0,CXe,0,0,"ng-template",10),2&i){const e=s.XpG(2);s.Y8G("ngTemplateOutlet",null==e.actionSheetTemplate?null:e.actionSheetTemplate.templateRef)}}function EXe(i,n){}function yXe(i,n){if(1&i&&s.DNE(0,EXe,0,0,"ng-template",10),2&i){const e=s.XpG(4);s.Y8G("ngTemplateOutlet",null==e.headerTemplate?null:e.headerTemplate.templateRef)}}function DXe(i,n){if(1&i&&(s.j41(0,"div",19),s.EFF(1),s.k0s()),2&i){const e=s.XpG(5);s.R7$(),s.JRh(e.title)}}function wXe(i,n){if(1&i&&(s.j41(0,"div",20),s.EFF(1),s.k0s()),2&i){const e=s.XpG(5);s.R7$(),s.JRh(e.subtitle)}}function kXe(i,n){if(1&i&&(s.j41(0,"div",15)(1,"div",16),s.DNE(2,DXe,2,1,"div",17)(3,wXe,2,1,"div",18),s.k0s()()),2&i){const e=s.XpG(4);s.R7$(),s.Y8G("id",e.titleId),s.R7$(),s.Y8G("ngIf",e.title),s.R7$(),s.Y8G("ngIf",e.subtitle)}}function OXe(i,n){if(1&i&&(s.j41(0,"div",14),s.DNE(1,yXe,1,1,null,9)(2,kXe,4,3,"ng-template",null,2,s.C5r),s.k0s()),2&i){const e=s.sdS(3),t=s.XpG(3);s.R7$(),s.Y8G("ngIf",t.headerTemplate)("ngIfElse",e)}}function TXe(i,n){}function MXe(i,n){if(1&i&&s.DNE(0,TXe,0,0,"ng-template",10),2&i){const e=s.XpG(4);s.Y8G("ngTemplateOutlet",null==e.contentTemplate?null:e.contentTemplate.templateRef)}}function IXe(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",24),s.bIt("itemClick",function(o){s.eBV(e);const r=s.XpG(5);return s.Njj(r.onItemClick(o))}),s.k0s()}if(2&i){const e=s.XpG(5);s.Y8G("groupItems",e.topGroupItems)("allItems",e.items)("itemTemplate",null==e.itemTemplate?null:e.itemTemplate.templateRef)}}function RXe(i,n){1&i&&s.nrm(0,"hr",25)}function AXe(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",24),s.bIt("itemClick",function(o){s.eBV(e);const r=s.XpG(5);return s.Njj(r.onItemClick(o))}),s.k0s()}if(2&i){const e=s.XpG(5);s.Y8G("groupItems",e.bottomGroupItems)("allItems",e.items)("itemTemplate",null==e.itemTemplate?null:e.itemTemplate.templateRef)}}function xXe(i,n){if(1&i&&s.DNE(0,IXe,1,3,"div",22)(1,RXe,1,0,"hr",23)(2,AXe,1,3,"div",22),2&i){const e=s.XpG(4);s.Y8G("ngIf",e.topGroupItems),s.R7$(),s.Y8G("ngIf",e.shouldRenderSeparator),s.R7$(),s.Y8G("ngIf",e.bottomGroupItems)}}function NXe(i,n){if(1&i&&(s.j41(0,"div",21),s.DNE(1,MXe,1,1,null,9)(2,xXe,3,3,"ng-template",null,3,s.C5r),s.k0s()),2&i){const e=s.sdS(3),t=s.XpG(3);s.R7$(),s.Y8G("ngIf",t.contentTemplate)("ngIfElse",e)}}function LXe(i,n){}function PXe(i,n){if(1&i&&(s.j41(0,"div",26),s.DNE(1,LXe,0,0,"ng-template",10),s.k0s()),2&i){const e=s.XpG(3);s.R7$(),s.Y8G("ngTemplateOutlet",null==e.footerTemplate?null:e.footerTemplate.templateRef)}}function GXe(i,n){if(1&i&&s.DNE(0,OXe,4,2,"div",11)(1,NXe,4,2,"div",12)(2,PXe,2,1,"div",13),2&i){const e=s.XpG(2);s.Y8G("ngIf",e.title||e.subtitle||e.headerTemplate),s.R7$(),s.Y8G("ngIf",e.items||e.contentTemplate),s.R7$(),s.Y8G("ngIf",e.footerTemplate)}}function UXe(i,n){if(1&i){const e=s.RV6();s.qex(0),s.j41(1,"div",5),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onOverlayClick())}),s.k0s(),s.j41(2,"div",6)(3,"div",7,0)(5,"div",8),s.DNE(6,bXe,1,1,null,9)(7,GXe,3,3,"ng-template",null,1,s.C5r),s.k0s()()(),s.bVm()}if(2&i){const e=s.sdS(8),t=s.XpG();s.R7$(3),s.Aen("bottom: 0px; width: 100%;"),s.R7$(2),s.Y8G("ngClass",t.cssClass),s.BMQ("aria-labelledby",t.titleId),s.R7$(),s.Y8G("ngIf",t.actionSheetTemplate)("ngIfElse",e)}}const s5={name:"@progress/kendo-angular-navigation",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925128,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},Ih=i=>null!=i,e1e=i=>{const n=VXe(i);return[n.length>0?n[0]:i,n.length>0?n[n.length-1]:i]},VXe=i=>i.querySelectorAll(MG);let zXe=0;const t1e=/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,n1e="kendo-actionsheet-item-index",i1e=(i,n,e)=>{const t=XXe(i,n,e);if(t)return jXe(t,n)},jXe=(i,n)=>+i.getAttribute(n),XXe=(i,n,e)=>((i,n,e)=>{for(;i&&i!==e&&!n(i);)i=i.parentNode;if(i!==e)return i})(i,t=>((i,n)=>Ih(i.getAttribute(n)))(t,n),e);let WXe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge]]}),i})();const h1e=i=>n=>n.find(e=>(i=>i.item.context.collapsed)(e)===i).item.context.collapsed=!i;h1e(!1),h1e(!0);let sWe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,Mr,xn]]}),i})(),lWe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,xn]]}),i})(),_1e=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoActionSheetHeaderTemplate",""]]}),i})(),g1e=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoActionSheetItemTemplate",""]]}),i})(),S1e=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoActionSheetContentTemplate",""]]}),i})(),v1e=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoActionSheetFooterTemplate",""]]}),i})(),BC=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoActionSheetTemplate",""]]}),i})(),C1e=(()=>{class i{constructor(){this.pointerClass=!0}manageIconClasses(e){const t=["k-actionsheet-item-icon"],o=Ih(e.iconColor)&&t1e.test(e.iconColor);return Ih(e.iconColor)&&""!==e.iconColor&&!o&&t.push(`k-text-${e.iconColor}`),t.join(" ")}manageIconStyles(e){const t=Ih(e.iconColor)&&t1e.test(e.iconColor),o=Ih(e.iconSize)&&""!==e.iconSize,r={};return t&&(r.color=e.iconColor),o&&(r.fontSize=e.iconSize),r}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoActionSheetItem",""]],hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-cursor-pointer",t.pointerClass)},inputs:{itemTemplate:"itemTemplate",item:"item"},attrs:cXe,decls:3,vars:2,consts:[["defaultTemplate",""],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-actionsheet-action"],["class","k-icon-wrap",4,"ngIf"],["class","k-actionsheet-item-text",4,"ngIf"],[1,"k-icon-wrap"],[3,"name","customFontClass","svgIcon"],[1,"k-actionsheet-item-text"],["class","k-actionsheet-item-title",4,"ngIf"],["class","k-actionsheet-item-description",4,"ngIf"],[1,"k-actionsheet-item-title"],[1,"k-actionsheet-item-description"]],template:function(e,t){if(1&e&&s.DNE(0,uXe,1,4,null,1)(1,_Xe,3,2,"ng-template",null,0,s.C5r),2&e){const o=s.sdS(2);s.Y8G("ngIf",t.itemTemplate)("ngIfElse",o)}},dependencies:[Qe,q,qe],encapsulation:2}),i})(),b1e=(()=>{class i{constructor(e,t,o){this.renderer=e,this.ngZone=t,this.element=o,this.groupItems=[],this.allItems=[],this.itemClick=new s.bkB,this.subscriptions=new be.yU}ngAfterViewInit(){this.initDomEvents()}ngOnDestroy(){this.subscriptions.unsubscribe()}initDomEvents(){this.element&&this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(this.element.nativeElement,"click",this.clickHandler.bind(this)))})}clickHandler(e){const t=i1e(e.target,n1e,this.element.nativeElement),o=this.allItems[t];if(o){if(o.disabled)return void e.preventDefault();this.ngZone.run(()=>{this.itemClick.emit({item:o,originalEvent:e})})}}setAttrIndex(e){return this.allItems.indexOf(e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.sFG),s.rXU(s.SKi),s.rXU(s.aKT))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoActionSheetList",""]],inputs:{groupItems:"groupItems",allItems:"allItems",itemTemplate:"itemTemplate"},outputs:{itemClick:"itemClick"},attrs:gXe,decls:1,vars:1,consts:[["kendoActionSheetItem","","tabindex","0","role","button",3,"k-actionsheet-item","k-disabled","ngClass","ngStyle","itemTemplate","item",4,"ngFor","ngForOf"],["kendoActionSheetItem","","tabindex","0","role","button",3,"ngClass","ngStyle","itemTemplate","item"]],template:function(e,t){1&e&&s.DNE(0,SXe,1,10,"span",0),2&e&&s.Y8G("ngForOf",t.groupItems)},dependencies:[C1e,ut,Be,Wn],encapsulation:2}),i})();let VC=(()=>{class i{constructor(e,t,o,r,a,l){this.element=e,this.ngZone=t,this.renderer=o,this.localizationService=r,this.builder=a,this.cdr=l,this.animation=!0,this.expanded=!1,this.titleId="k-actionsheet-title"+ ++zXe,this.expandedChange=new s.bkB,this.expand=new s.bkB,this.collapse=new s.bkB,this.itemClick=new s.bkB,this.overlayClick=new s.bkB,this.rtl=!1,this.domSubs=new be.yU,this.animationEnd=new s.bkB,(0,_t.$)(s5),this.dynamicRTLSubscription=this.localizationService.changes.subscribe(({rtl:c})=>{this.rtl=c,this.direction=this.rtl?"rtl":"ltr"})}get hostClass(){return this.expanded}ngAfterViewInit(){this.initDomEvents(),this.setCssVariables()}ngOnChanges(e){e.expanded&&this.expanded&&this.setExpanded(!0)}ngOnDestroy(){this.domSubs.unsubscribe(),this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe(),this.player&&this.player.destroy()}toggle(e){const t=this.expanded,o=$s(e)?e:!t;o!==t&&(!0===o?this.setExpanded(!0):!1===o&&!this.animation&&this.setExpanded(!1),this.animation?(this.animationEnd.pipe(We(1)).subscribe(()=>{this.onAnimationEnd(o)}),this.playAnimation(o)):this[o?"expand":"collapse"].emit())}get topGroupItems(){return this.items?.filter(e=>!e.group||"top"===e.group)}get bottomGroupItems(){return this.items?.filter(e=>"bottom"===e.group)}onItemClick(e){this.itemClick.emit(e)}onOverlayClick(){this.overlayClick.emit()}get shouldRenderSeparator(){return this.topGroupItems?.length>0&&this.bottomGroupItems?.length>0}initDomEvents(){this.element&&this.ngZone.runOutsideAngular(()=>{this.domSubs.add(this.renderer.listen(this.element.nativeElement,"keydown",e=>{this.onKeyDown(e)}))})}setCssVariables(){!this.element||!ne()||(this.element.nativeElement.style.setProperty("--kendo-actionsheet-height","auto"),this.element.nativeElement.style.setProperty("--kendo-actionsheet-max-height","none"))}onKeyDown(e){const t=e.target;e.keyCode===G.Tab&&this.ngZone.run(()=>{this.keepFocusWithinComponent(t,e)}),e.keyCode===G.Escape&&this.ngZone.run(()=>{this.overlayClick.emit()}),e.keyCode===G.Enter&&this.ngZone.run(()=>{this.triggerItemClick(t,e)})}handleInitialFocus(){const[e]=e1e(this.element.nativeElement);e&&e.focus()}keepFocusWithinComponent(e,t){const o=this.element.nativeElement,[r,a]=e1e(o),c=t.shiftKey&&e===r;!t.shiftKey&&e===a&&(t.preventDefault(),r.focus()),c&&(t.preventDefault(),a.focus())}triggerItemClick(e,t){const o=i1e(e,n1e,this.element.nativeElement),r=$s(o)?this.items[o]:null;!r||r.disabled||this.itemClick.emit({item:r,originalEvent:t})}setExpanded(e){this.expanded=e,this.expandedChange.emit(e),this.expanded&&(this.cdr.detectChanges(),this.handleInitialFocus())}onAnimationEnd(e){e?this.expand.emit():(this.setExpanded(!1),this.collapse.emit())}playAnimation(e){const t="boolean"!=typeof this.animation&&this.animation.duration?this.animation.duration:300,o=getComputedStyle(this.childContainer.nativeElement).height,r=e?function cWe(i,n){return[Xe({overflow:"hidden",display:"block",height:0}),ii(`${i}ms ease-in`,Xe({height:`${n}`}))]}(t,o):function dWe(i,n){return[Xe({overflow:"hidden",height:`${n}`}),ii(`${i}ms ease-in`,Xe({overflow:"hidden",height:0}))]}(t,o),a=this.builder.build(r);this.player=a.create(this.childContainer.nativeElement),this.player.onDone(()=>{this.player&&(this.animationEnd.emit(),this.player.destroy(),this.player=null)}),this.player.play()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.SKi),s.rXU(s.sFG),s.rXU(z),s.rXU(pi),s.rXU(s.gRc))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-actionsheet"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,BC,5),s.wni(o,_1e,5),s.wni(o,S1e,5),s.wni(o,g1e,5),s.wni(o,v1e,5)),2&e){let r;s.mGM(r=s.lsd())&&(t.actionSheetTemplate=r.first),s.mGM(r=s.lsd())&&(t.headerTemplate=r.first),s.mGM(r=s.lsd())&&(t.contentTemplate=r.first),s.mGM(r=s.lsd())&&(t.itemTemplate=r.first),s.mGM(r=s.lsd())&&(t.footerTemplate=r.first)}},viewQuery:function(e,t){if(1&e&&s.GBs(vXe,5),2&e){let o;s.mGM(o=s.lsd())&&(t.childContainer=o.first)}},hostVars:3,hostBindings:function(e,t){2&e&&(s.BMQ("dir",t.direction),s.AVh("k-actionsheet-container",t.hostClass))},inputs:{title:"title",subtitle:"subtitle",items:"items",cssClass:"cssClass",animation:"animation",expanded:"expanded",titleId:"titleId"},outputs:{expandedChange:"expandedChange",expand:"expand",collapse:"collapse",itemClick:"itemClick",overlayClick:"overlayClick"},exportAs:["kendoActionSheet"],features:[s.Jv_([z,{provide:He,useValue:"kendo.actionsheet.component"}]),s.OA$],decls:1,vars:1,consts:[["childContainer",""],["defaultTemplate",""],["defaultHeaderTemplate",""],["defaultContentTemplate",""],[4,"ngIf"],[1,"k-overlay",3,"click"],[1,"k-animation-container"],[1,"k-child-animation-container"],["role","dialog","aria-modal","true",1,"k-actionsheet","k-actionsheet-bottom",3,"ngClass"],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet"],["class","k-actionsheet-titlebar",4,"ngIf"],["class","k-actionsheet-content",4,"ngIf"],["class","k-actionsheet-footer",4,"ngIf"],[1,"k-actionsheet-titlebar"],[1,"k-actionsheet-titlebar-group","k-hbox"],[1,"k-actionsheet-title",3,"id"],["class","k-text-center",4,"ngIf"],["class","k-actionsheet-subtitle k-text-center",4,"ngIf"],[1,"k-text-center"],[1,"k-actionsheet-subtitle","k-text-center"],[1,"k-actionsheet-content"],["kendoActionSheetList","","class","k-list-ul","role","group",3,"groupItems","allItems","itemTemplate","itemClick",4,"ngIf"],["class","k-hr",4,"ngIf"],["kendoActionSheetList","","role","group",1,"k-list-ul",3,"itemClick","groupItems","allItems","itemTemplate"],[1,"k-hr"],[1,"k-actionsheet-footer"]],template:function(e,t){1&e&&s.DNE(0,UXe,9,6,"ng-container",4),2&e&&s.Y8G("ngIf",t.expanded)},dependencies:[b1e,q,Be,qe],encapsulation:2}),i})(),rq=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,xn]]}),i})(),E1e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[WXe,sWe,lWe,rq]}),i})();var xt=_e(446);class pt{}let r5=null;const Rh={get browser(){return typeof window>"u"||r5||(r5=function hWe(i){const n={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+))/i};let e={};for(let t in n)if(n.hasOwnProperty(t)){const o=i.match(n[t]);if(o){e[t]=!0,e[o[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,e.version=parseInt(document.documentMode||o[2],10);break}}return e}(window.navigator.userAgent)),r5}},PD={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},y1e=Rh.browser;let D1e=i=>{const n=Object.keys(PD);n.push("transparent");const e=new RegExp("^("+n.join("|")+")(\\W|$)","i");return D1e=t=>e.exec(t),e.exec(i)};class a5 extends pt{constructor(){super()}toHSV(){return this}toRGB(){return this}toHex(n){return this.toBytes().toHex(n)}toBytes(){return this}toCss(n){return"#"+this.toHex(n)}toCssRgba(){const n=this.toBytes();return`rgba(${n.r}, ${n.g}, ${n.b}, ${parseFloat(Number(this.a).toFixed(3))})`}toDisplay(){return y1e.msie&&y1e.version<9?this.toCss():this.toCssRgba()}equals(n){return n===this||null!=n&&this.toCssRgba()===wu(n).toCssRgba()}diff(n){if(null===n)return NaN;const e=this.toBytes(),t=n.toBytes();return Math.sqrt(Math.pow(.3*(e.r-t.r),2)+Math.pow(.59*(e.g-t.g),2)+Math.pow(.11*(e.b-t.b),2))}clone(){let n=this.toBytes();return n===this&&(n=new d_(n.r,n.g,n.b,n.a)),n}}class nS extends a5{constructor(n,e,t,o){super(),this.r=n,this.g=e,this.b=t,this.a=o}toHSV(){const{r:n,g:e,b:t}=this,o=Math.min(n,e,t),r=Math.max(n,e,t),a=r-o,l=r;let c,u;return 0===a?new aq(0,0,l,this.a):(0!==r?(u=a/r,c=n===r?(e-t)/a:e===r?2+(t-n)/a:4+(n-e)/a,c*=60,c<0&&(c+=360)):(u=0,c=-1),new aq(c,u,l,this.a))}toHSL(){const{r:n,g:e,b:t}=this,o=Math.max(n,e,t),r=Math.min(n,e,t);let a,l,c=(o+r)/2;if(o===r)a=l=0;else{const u=o-r;switch(l=c>.5?u/(2-o-r):u/(o+r),o){case n:a=(e-t)/u+(e<t?6:0);break;case e:a=(t-n)/u+2;break;case t:a=(n-e)/u+4}}return new w1e(60*a,100*l,100*c,this.a)}toBytes(){return new d_(255*this.r,255*this.g,255*this.b,this.a)}}class d_ extends nS{constructor(n,e,t,o){super(Math.round(n),Math.round(e),Math.round(t),o)}toRGB(){return new nS(this.r/255,this.g/255,this.b/255,this.a)}toHSV(){return this.toRGB().toHSV()}toHSL(){return this.toRGB().toHSL()}toHex(n){let e=l5(this.r,2)+l5(this.g,2)+l5(this.b,2);return n&&n.alpha&&(e+=l5(Math.round(255*this.a),2)),e}toBytes(){return this}}function l5(i,n,e="0"){let t=i.toString(16);for(;n>t.length;)t=e+t;return t}class aq extends a5{constructor(n,e,t,o){super(),this.h=n,this.s=e,this.v=t,this.a=o}toRGB(){let o,r,a,{h:n,s:e,v:t}=this;if(0===e)o=r=a=t;else{n/=60;const l=Math.floor(n),c=n-l,u=t*(1-e),f=t*(1-e*c),_=t*(1-e*(1-c));switch(l){case 0:o=t,r=_,a=u;break;case 1:o=f,r=t,a=u;break;case 2:o=u,r=t,a=_;break;case 3:o=u,r=f,a=t;break;case 4:o=_,r=u,a=t;break;default:o=t,r=u,a=f}}return new nS(o,r,a,this.a)}toHSL(){return this.toRGB().toHSL()}toBytes(){return this.toRGB().toBytes()}}class w1e extends a5{constructor(n,e,t,o){super(),this.h=n,this.s=e,this.l=t,this.a=o}toRGB(){let o,r,a,n=this.h/360,e=this.s/100,t=this.l/100;if(0===e)o=r=a=t;else{const l=t<.5?t*(1+e):t+e-t*e,c=2*t-l;o=lq(c,l,n+1/3),r=lq(c,l,n),a=lq(c,l,n-1/3)}return new nS(o,r,a,this.a)}toHSV(){return this.toRGB().toHSV()}toBytes(){return this.toRGB().toBytes()}}function lq(i,n,e){let t=e;return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+6*(n-i)*t:t<.5?n:t<2/3?i+(n-i)*(2/3-t)*6:i}function k1e(i){return parseFloat(parseFloat(parseInt(i,16)/255).toFixed(3))}function wu(i,n){let e,t;if(null==i||"none"===i)return null;if(i instanceof a5)return i;let o=i.toLowerCase();if(e=D1e(o))return o="transparent"===e[1]?new nS(1,1,1,0):wu(PD[e[1]],n),o.match=[e[1]],o;if((e=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(o))?t=new d_(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),1):(e=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(o))?t=new d_(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),1):(e=/^#?([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(o))?t=new d_(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),k1e(e[4]+e[4])):(e=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(o))?t=new d_(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),k1e(e[4])):(e=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(o))?t=new d_(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),1):(e=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(o))?t=new d_(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4])):(e=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(o))?t=new nS(parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])/100,1):(e=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(o))&&(t=new nS(parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])/100,parseFloat(e[4]))),t)t.match=e;else if(!n)throw new Error("Cannot parse color: "+o);return t}const ku=(()=>{class i extends pt{constructor(e){if(super(),1===arguments.length){const t=i.formats,o=this.resolveColor(e);for(let r=0;r<t.length;r++){const l=t[r].process,c=t[r].re.exec(o);if(c){const u=l(c);this.r=u[0],this.g=u[1],this.b=u[2]}}}else this.r=arguments[0],this.g=arguments[1],this.b=arguments[2];this.r=this.normalizeByte(this.r),this.g=this.normalizeByte(this.g),this.b=this.normalizeByte(this.b)}toHex(){const e=this.padDigit,t=this.r.toString(16),o=this.g.toString(16),r=this.b.toString(16);return"#"+e(t)+e(o)+e(r)}resolveColor(e){let t=e||"black";return"#"===t.charAt(0)&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase(),t=i.namedColors[t]||t,t}normalizeByte(e){return e<0||isNaN(e)?0:e>255?255:e}padDigit(e){return 1===e.length?"0"+e:e}brightness(e){const t=Math.round;return this.r=t(this.normalizeByte(this.r*e)),this.g=t(this.normalizeByte(this.g*e)),this.b=t(this.normalizeByte(this.b*e)),this}percBrightness(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)}isDark(){return this.percBrightness()<180}static fromBytes(e,t,o,r){return new d_(e,t,o,r??1)}static fromRGB(e,t,o,r){return new nS(e,t,o,r??1)}static fromHSV(e,t,o,r){return new aq(e,t,o,r??1)}static fromHSL(e,t,o,r){return new w1e(e,t,o,r??1)}}return i.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(n){return[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(n){return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(n){return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]}}],i.namedColors=PD,i})(),Ou=class gWe extends pt{observers(){return this._observers=this._observers||[],this._observers}addObserver(n){return this._observers?this._observers.push(n):this._observers=[n],this}removeObserver(n){const e=this.observers(),t=e.indexOf(n);return-1!==t&&e.splice(t,1),this}trigger(n,e){const t=this._observers;if(t&&!this._suspended)for(let o=0;o<t.length;o++){let r=t[o];r[n]&&r[n](e)}return this}optionsChange(n={}){n.element=this,this.trigger("optionsChange",n)}geometryChange(){this.trigger("geometryChange",{element:this})}suspend(){return this._suspended=(this._suspended||0)+1,this}resume(){return this._suspended=Math.max((this._suspended||0)-1,0),this}_observerField(n,e){this[n]&&this[n].removeObserver(this),this[n]=e,e.addObserver(this)}};function SWe(i){return function(n){return this[i]!==n&&(this[i]=n,this.geometryChange()),this}}function vWe(i){return function(){return this[i]}}const c5=(i,n)=>{const e=class extends i{};return function CWe(i,n){for(let e=0;e<n.length;e++){let t=n[e],o=t.charAt(0).toUpperCase()+t.substring(1,t.length);i["set"+o]=SWe(t),i["get"+o]=vWe(t)}}(e.prototype,n),e};function ms(i,n){const e=function bWe(i){return i?Math.pow(10,i):1}(n);return Math.round(i*e)/e}const EWe="undefined";function jt(i){return typeof i!==EWe}const I1e=Math.PI/180,LI=Number.MAX_VALUE,PI=-Number.MAX_VALUE;function af(i){return i*I1e}class Ah extends pt{constructor(n=0,e=0,t=0,o=0,r=0,a=0){super(),this.a=n,this.b=e,this.c=t,this.d=o,this.e=r,this.f=a}multiplyCopy(n){return new Ah(this.a*n.a+this.c*n.b,this.b*n.a+this.d*n.b,this.a*n.c+this.c*n.d,this.b*n.c+this.d*n.d,this.a*n.e+this.c*n.f+this.e,this.b*n.e+this.d*n.f+this.f)}invert(){const{a:n,b:e,c:t,d:o,e:r,f:a}=this,l=n*o-e*t;return 0===l?null:new Ah(o/l,-e/l,-t/l,n/l,(t*a-o*r)/l,(e*r-n*a)/l)}clone(){return new Ah(this.a,this.b,this.c,this.d,this.e,this.f)}equals(n){return!!n&&this.a===n.a&&this.b===n.b&&this.c===n.c&&this.d===n.d&&this.e===n.e&&this.f===n.f}round(n){return this.a=ms(this.a,n),this.b=ms(this.b,n),this.c=ms(this.c,n),this.d=ms(this.d,n),this.e=ms(this.e,n),this.f=ms(this.f,n),this}toArray(n){const e=[this.a,this.b,this.c,this.d,this.e,this.f];if(jt(n))for(let t=0;t<e.length;t++)e[t]=ms(e[t],n);return e}toString(n,e=","){return this.toArray(n).join(e)}static translate(n,e){return new Ah(1,0,0,1,n,e)}static unit(){return new Ah(1,0,0,1,0,0)}static rotate(n,e,t){const o=new Ah;return o.a=Math.cos(af(n)),o.b=Math.sin(af(n)),o.c=-o.b,o.d=o.a,o.e=e-e*o.a+t*o.b||0,o.f=t-t*o.a-e*o.b||0,o}static scale(n,e){return new Ah(n,0,0,e,0,0)}}Ah.IDENTITY=Ah.unit();const sa=Ah;function zC(i){return i&&"function"==typeof i.matrix?i.matrix():i}class yd extends(c5(Ou,["x","y"])){constructor(n,e){super(),this.x=n||0,this.y=e||0}equals(n){return n&&n.x===this.x&&n.y===this.y}clone(){return new yd(this.x,this.y)}rotate(n,e){const t=yd.create(e)||yd.ZERO;return this.transform(sa.rotate(n,t.x,t.y))}translate(n,e){return this.x+=n,this.y+=e,this.geometryChange(),this}translateWith(n){return this.translate(n.x,n.y)}move(n,e){return this.x=this.y=0,this.translate(n,e)}scale(n,e=n){return this.x*=n,this.y*=e,this.geometryChange(),this}scaleCopy(n,e){return this.clone().scale(n,e)}transform(n){const e=zC(n),{x:t,y:o}=this;return this.x=e.a*t+e.c*o+e.e,this.y=e.b*t+e.d*o+e.f,this.geometryChange(),this}transformCopy(n){const e=this.clone();return n&&e.transform(n),e}distanceTo(n){const e=this.x-n.x,t=this.y-n.y;return Math.sqrt(e*e+t*t)}round(n){return this.x=ms(this.x,n),this.y=ms(this.y,n),this.geometryChange(),this}toArray(n){const e=jt(n);return[e?ms(this.x,n):this.x,e?ms(this.y,n):this.y]}toString(n,e=" "){let{x:t,y:o}=this;return jt(n)&&(t=ms(t,n),o=ms(o,n)),t+e+o}static create(n,e){if(jt(n))return n instanceof yd?n:1===arguments.length&&2===n.length?new yd(n[0],n[1]):new yd(n,e)}static min(){let n=LI,e=LI;for(let t=0;t<arguments.length;t++){let o=arguments[t];n=Math.min(o.x,n),e=Math.min(o.y,e)}return new yd(n,e)}static max(){let n=PI,e=PI;for(let t=0;t<arguments.length;t++){const o=arguments[t];n=Math.max(o.x,n),e=Math.max(o.y,e)}return new yd(n,e)}static minPoint(){return new yd(PI,PI)}static maxPoint(){return new yd(LI,LI)}static get ZERO(){return new yd(0,0)}}const Ie=yd;class HC extends(c5(Ou,["width","height"])){constructor(n,e){super(),this.width=n||0,this.height=e||0}equals(n){return n&&n.width===this.width&&n.height===this.height}clone(){return new HC(this.width,this.height)}toArray(n){const e=jt(n);return[e?ms(this.width,n):this.width,e?ms(this.height,n):this.height]}static create(n,e){if(jt(n))return n instanceof HC?n:1===arguments.length&&2===n.length?new HC(n[0],n[1]):new HC(n,e)}static get ZERO(){return new HC(0,0)}}const jC=HC;class iS extends Ou{constructor(n=new Ie,e=new jC,t=0){super(),this.setOrigin(n),this.setSize(e),this.setCornerRadius(t)}clone(){return new iS(this.origin.clone(),this.size.clone())}equals(n){return n&&n.origin.equals(this.origin)&&n.size.equals(this.size)}setOrigin(n){return this._observerField("origin",Ie.create(n)),this.geometryChange(),this}getOrigin(){return this.origin}setCornerRadius(n){return this.cornerRadius=Array.isArray(n)?n:[n,n],this.geometryChange(),this}getCornerRadius(){return this.cornerRadius}setSize(n){return this._observerField("size",jC.create(n)),this.geometryChange(),this}getSize(){return this.size}width(){return this.size.width}height(){return this.size.height}topLeft(){return this.origin.clone()}bottomRight(){return this.origin.clone().translate(this.width(),this.height())}topRight(){return this.origin.clone().translate(this.width(),0)}bottomLeft(){return this.origin.clone().translate(0,this.height())}center(){return this.origin.clone().translate(this.width()/2,this.height()/2)}bbox(n){const e=this.topLeft().transformCopy(n),t=this.topRight().transformCopy(n),o=this.bottomRight().transformCopy(n),r=this.bottomLeft().transformCopy(n);return iS.fromPoints(e,t,o,r)}transformCopy(n){return iS.fromPoints(this.topLeft().transform(n),this.bottomRight().transform(n))}expand(n,e=n){return this.size.width+=2*n,this.size.height+=2*e,this.origin.translate(-n,-e),this}expandCopy(n,e){return this.clone().expand(n,e)}containsPoint(n){const e=this.origin,t=this.bottomRight();return!(n.x<e.x||n.y<e.y||t.x<n.x||t.y<n.y)}_isOnPath(n,e){const t=this.expandCopy(e,e),o=this.expandCopy(-e,-e);return t.containsPoint(n)&&!o.containsPoint(n)}static fromPoints(){const n=Ie.min.apply(null,arguments),e=Ie.max.apply(null,arguments),t=new jC(e.x-n.x,e.y-n.y);return new iS(n,t)}static union(n,e){return iS.fromPoints(Ie.min(n.topLeft(),e.topLeft()),Ie.max(n.bottomRight(),e.bottomRight()))}static intersect(n,e){const t={left:n.topLeft().x,top:n.topLeft().y,right:n.bottomRight().x,bottom:n.bottomRight().y},o={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y};if(t.left<=o.right&&o.left<=t.right&&t.top<=o.bottom&&o.top<=t.bottom)return iS.fromPoints(new Ie(Math.max(t.left,o.left),Math.max(t.top,o.top)),new Ie(Math.min(t.right,o.right),Math.min(t.bottom,o.bottom)))}}const yn=iS;class cq extends Ou{constructor(n=sa.unit()){super(),this._matrix=n}clone(){return new cq(this._matrix.clone())}equals(n){return n&&n._matrix.equals(this._matrix)}translate(n,e){return this._matrix=this._matrix.multiplyCopy(sa.translate(n,e)),this._optionsChange(),this}scale(n,e=n,t=null){let o=t;return o&&(o=Ie.create(o),this._matrix=this._matrix.multiplyCopy(sa.translate(o.x,o.y))),this._matrix=this._matrix.multiplyCopy(sa.scale(n,e)),o&&(this._matrix=this._matrix.multiplyCopy(sa.translate(-o.x,-o.y))),this._optionsChange(),this}rotate(n,e){const t=Ie.create(e)||Ie.ZERO;return this._matrix=this._matrix.multiplyCopy(sa.rotate(n,t.x,t.y)),this._optionsChange(),this}multiply(n){const e=zC(n);return this._matrix=this._matrix.multiplyCopy(e),this._optionsChange(),this}matrix(n){return n?(this._matrix=n,this._optionsChange(),this):this._matrix}_optionsChange(){this.optionsChange({field:"transform",value:this})}}const R1e=cq;function wi(i){return null===i?null:i instanceof R1e?i:new R1e(i)}function GI(i,n){return i.push.apply(i,n),i}function sS(i){return i/I1e}function A1e(i){return jt((i.x||{}).location)?{x:i.x.location,y:i.y.location}:{x:i.pageX||i.clientX||0,y:i.pageY||i.clientY||0}}function x1e(i={}){return i.touch?i.touch.initialTouch:i.target}function oa(i){if(i)return i[i.length-1]}function d5(i,n,e){return Math.max(Math.min(i,e),n)}function u5(i,n){return jt(i)?i:n}function dq(i,n){for(let e in n){const t=e.trim().split(" ");for(let o=0;o<t.length;o++)i.addEventListener(t[o],n[e],!1)}}function N1e(i){const n=i.getBoundingClientRect(),e=document.documentElement;return{top:n.top+(window.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}}function uq(i,n){const e={},t=window.getComputedStyle(i)||{},o=Array.isArray(n)?n:[n];for(let r=0;r<o.length;r++){let a=o[r];e[a]=t[a]}return e}function L1e(i){return isNaN(i)?i:i+"px"}function UI(i,n){if(!n){const e=uq(i,["width","height"]);return{width:parseInt(e.width,10),height:parseInt(e.height,10)}}{const{width:e,height:t}=n;jt(e)&&(i.style.width=L1e(e)),jt(t)&&(i.style.height=L1e(t))}}function hq(i,n={}){for(let e in n){const t=e.trim().split(" ");for(let o=0;o<t.length;o++)i.removeEventListener(t[o],n[e],!1)}}const yWe=/\r?\n|\r|\t/g;function P1e(i){return String(i).replace(yWe," ")}function G1e(i){const n=[];for(let e in i)n.push(e+i[e]);return n.sort().join("")}function U1e(i){let n=2166136261;for(let e=0;e<i.length;++e)n+=(n<<1)+(n<<4)+(n<<7)+(n<<8)+(n<<24),n^=i.charCodeAt(e);return n>>>0}const PWe=["wrap"],B1e=["track"],GWe=["sliderSelection"],V1e=["ticks"],UWe=["tickElement"],FWe=["kendoSliderTicks",""];function BWe(i,n){if(1&i&&(s.j41(0,"span",7),s.eu8(1,8),s.k0s()),2&i){const e=s.XpG().$implicit,t=s.XpG(),o=s.sdS(2);s.R7$(),s.Y8G("ngTemplateOutlet",t.labelTemplate||o)("ngTemplateOutletContext",e)}}function VWe(i,n){1&i&&(s.qex(0),s.EFF(1,"\xa0"),s.bVm())}function zWe(i,n){if(1&i&&(s.j41(0,"li",3,1),s.qex(2,4),s.DNE(3,BWe,2,2,"span",5)(4,VWe,2,0,"ng-container",6),s.bVm(),s.k0s()),2&i){const e=n.$implicit,t=s.XpG();s.FS9("title",t.tickTitle(e.value)),s.Y8G("ngClass",e.classes),s.R7$(2),s.Y8G("ngSwitch",e.large),s.R7$(),s.Y8G("ngSwitchCase",!0),s.R7$(),s.Y8G("ngSwitchCase",!1)}}function HWe(i,n){if(1&i&&s.EFF(0),2&i){const e=n.value,t=s.XpG();s.SpI(" ",t.tickTitle(e)," ")}}const jWe=["draghandle"],$We=["decreaseButton"],XWe=["increaseButton"],WWe=(i,n)=>({click:i,keydown:n});function KWe(i,n){if(1&i&&s.nrm(0,"button",16,4),2&i){const e=s.XpG();s.Y8G("icon",e.decreaseButtonArrowIcon)("svgIcon",e.decreaseButtonArrowSVGIcon)("title",e.decrementMessage),s.BMQ("tabindex",-1)}}function YWe(i,n){if(1&i&&s.nrm(0,"ul",17,5),2&i){const e=s.XpG();s.Y8G("tickTitle",e.title)("vertical",e.vertical)("step",e.smallStep)("largeStep",e.largeStep)("min",e.min)("max",e.max)("labelTemplate",null==e.labelTemplate?null:e.labelTemplate.templateRef),s.BMQ("aria-hidden",!0)}}function JWe(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",18,6),s.bIt("click",function(o){return s.eBV(e),s.Njj(o.preventDefault())}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("icon",e.increaseButtonArrowIcon)("svgIcon",e.increaseButtonArrowSVGIcon)("title",e.incrementMessage),s.BMQ("tabindex",-1)("aria-label",e.currentValue)}}const qWe=["thumb"],QWe=["numericInput"],ZWe=(i,n,e,t,o,r,a)=>({mousedown:i,dragenter:n,keydown:e,input:t,focus:o,blur:r,paste:a}),eKe=(i,n)=>({mouseup:i,mouseleave:n}),z1e=i=>({mousedown:i});function tKe(i,n){}function nKe(i,n){if(1&i&&(s.j41(0,"span",8),s.DNE(1,tKe,0,0,"ng-template",9),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngTemplateOutlet",null==e.prefixTemplate?null:e.prefixTemplate.templateRef)}}function iKe(i,n){1&i&&s.nrm(0,"kendo-input-separator")}function sKe(i,n){1&i&&s.nrm(0,"kendo-input-separator")}function oKe(i,n){}function rKe(i,n){if(1&i&&(s.j41(0,"span",10),s.DNE(1,oKe,0,0,"ng-template",9),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngTemplateOutlet",null==e.suffixTemplate?null:e.suffixTemplate.templateRef)}}function aKe(i,n){if(1&i&&(s.j41(0,"span",11)(1,"button",12),s.nrm(2,"kendo-icon-wrapper",13),s.k0s(),s.j41(3,"button",14),s.nrm(4,"kendo-icon-wrapper",15),s.k0s()()),2&i){const e=s.XpG();s.Y8G("kendoEventsOutsideAngular",s.l_i(15,eKe,e.releaseArrow,e.releaseArrow)),s.R7$(),s.AVh("k-active",e.arrowDirection===e.ArrowDirection.Up),s.Y8G("kendoEventsOutsideAngular",s.eq3(18,z1e,e.increasePress))("title",e.incrementTitle),s.BMQ("aria-hidden",!0)("aria-label",e.incrementTitle),s.R7$(),s.Y8G("svgIcon",e.arrowUpIcon),s.R7$(),s.AVh("k-active",e.arrowDirection===e.ArrowDirection.Down),s.Y8G("kendoEventsOutsideAngular",s.eq3(20,z1e,e.decreasePress))("title",e.decrementTitle),s.BMQ("aria-hidden",!0)("aria-label",e.decrementTitle),s.R7$(),s.Y8G("svgIcon",e.arrowDownIcon)}}const H1e=["input"],j1e=(i,n,e)=>({focus:i,blur:n,input:e});function dKe(i,n){}function uKe(i,n){if(1&i&&(s.j41(0,"span",9),s.DNE(1,dKe,0,0,"ng-template",10),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngTemplateOutlet",null==e.prefix?null:e.prefix.templateRef)}}function hKe(i,n){1&i&&s.nrm(0,"kendo-input-separator")}function pKe(i,n){if(1&i){const e=s.RV6();s.j41(0,"span",11),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.clearValue())})("mousedown",function(o){return s.eBV(e),s.Njj(o.preventDefault())})("keydown.enter",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.clearValue(o))})("keydown.space",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.clearValue(o))}),s.nrm(1,"kendo-icon-wrapper",12),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("tabindex",e.tabIndex)("title",e.clearTitle()),s.BMQ("aria-label",e.clearTitle()),s.R7$(),s.Y8G("name",e.clearButtonClass)("customFontClass",e.customClearButtonClasses)("svgIcon",e.clearButtonSvgIcon||e.svgIcon("xIcon"))}}function fKe(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",13),2&i){const e=s.XpG();s.Y8G("name",e.errorIconClasses)("customFontClass",e.customIconClasses)("svgIcon",e.errorSvgIcon||e.svgIcon("exclamationCircleIcon"))}}function mKe(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",13),2&i){const e=s.XpG();s.Y8G("name",e.successIconClasses)("customFontClass",e.customSuccessIconClasses)("svgIcon",e.successSvgIcon||e.svgIcon("checkIcon"))}}function _Ke(i,n){1&i&&s.nrm(0,"kendo-input-separator")}function gKe(i,n){}function SKe(i,n){if(1&i&&(s.j41(0,"span",14),s.DNE(1,gKe,0,0,"ng-template",10),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngTemplateOutlet",null==e.suffix?null:e.suffix.templateRef)}}const p5=["*"],vKe=[[["kendo-textarea-prefix"]],[["kendo-textarea-suffix"]]],CKe=["kendo-textarea-prefix","kendo-textarea-suffix"];function bKe(i,n){if(1&i&&s.nrm(0,"kendo-input-separator",4),2&i){const e=s.XpG();s.Y8G("orientation",e.separatorOrientation)}}function EKe(i,n){if(1&i&&s.nrm(0,"kendo-input-separator",4),2&i){const e=s.XpG();s.Y8G("orientation",e.separatorOrientation)}}const yKe=["opacityInput"],DKe=["hexInput"],wKe=["blue"],kKe=["toggleFormatButton"];function OKe(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",6)(1,"input",10,1),s.bIt("blur",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.handleHexInputBlur())})("input",function(){s.eBV(e);const o=s.sdS(2),r=s.XpG();return s.Njj(r.handleHexValueChange(o.value))})("keydown.tab",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.focusDragHandle(o))}),s.k0s(),s.j41(3,"label",11),s.EFF(4,"HEX"),s.k0s()()}if(2&i){const e=s.XpG();s.R7$(),s.AVh("k-readonly",e.readonly),s.Y8G("id",e.focusableId)("disabled",e.disabled)("readonly",e.readonly)("value",e.hex||"")("tabindex",e.tabindex.toString()),s.R7$(2),s.Y8G("for",e.focusableId)}}function TKe(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",6)(1,"kendo-numerictextbox",15,5),s.mxI("valueChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.rgba.a,o)||(r.rgba.a=o),s.Njj(o)}),s.bIt("blur",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.handleRgbaInputBlur())})("valueChange",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.handleRgbaValueChange())})("keydown.tab",function(o){s.eBV(e);const r=s.XpG(2);return s.Njj(r.focusDragHandle(o))}),s.k0s(),s.j41(4,"label",11),s.EFF(5,"A"),s.k0s()()}if(2&i){const e=s.sdS(3),t=s.XpG(2);s.R7$(),s.Y8G("localizationService",t.localizationService)("disabled",t.disabled)("readonly",t.readonly)("tabindex",t.tabindex)("min",0)("max",1),s.R50("value",t.rgba.a),s.Y8G("autoCorrect",!0)("spinners",!1)("step",.01)("format","n2")("decimals",2),s.R7$(3),s.Y8G("for",e.focusableId)}}function MKe(i,n){if(1&i){const e=s.RV6();s.qex(0),s.j41(1,"div",6)(2,"kendo-numerictextbox",12,2),s.mxI("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.rgba.r,o)||(r.rgba.r=o),s.Njj(o)}),s.bIt("blur",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.handleRgbaInputBlur())})("valueChange",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.handleRgbaValueChange())}),s.k0s(),s.j41(4,"label",11),s.EFF(5,"R"),s.k0s()(),s.j41(6,"div",6)(7,"kendo-numerictextbox",13,3),s.mxI("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.rgba.g,o)||(r.rgba.g=o),s.Njj(o)}),s.bIt("blur",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.handleRgbaInputBlur())})("valueChange",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.handleRgbaValueChange())}),s.k0s(),s.j41(9,"label",11),s.EFF(10,"G"),s.k0s()(),s.j41(11,"div",6)(12,"kendo-numerictextbox",14,4),s.mxI("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.rgba.b,o)||(r.rgba.b=o),s.Njj(o)}),s.bIt("blur",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.handleRgbaInputBlur())})("valueChange",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.handleRgbaValueChange())})("keydown.tab",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onTab())}),s.k0s(),s.j41(14,"label",11),s.EFF(15,"B"),s.k0s()(),s.DNE(16,TKe,6,13,"div",8),s.bVm()}if(2&i){const e=s.sdS(3),t=s.sdS(8),o=s.sdS(13),r=s.XpG();s.R7$(2),s.Y8G("localizationService",r.localizationService)("disabled",r.disabled)("readonly",r.readonly)("tabindex",r.tabindex)("min",0)("max",255),s.R50("value",r.rgba.r),s.Y8G("autoCorrect",!0)("spinners",!1)("format","n")("decimals",0),s.R7$(2),s.Y8G("for",e.focusableId),s.R7$(3),s.Y8G("localizationService",r.localizationService)("disabled",r.disabled)("readonly",r.readonly)("tabindex",r.tabindex)("min",0)("max",255),s.R50("value",r.rgba.g),s.Y8G("autoCorrect",!0)("spinners",!1)("format","n")("decimals",0),s.R7$(2),s.Y8G("for",t.focusableId),s.R7$(3),s.Y8G("localizationService",r.localizationService)("disabled",r.disabled)("readonly",r.readonly)("tabindex",r.tabindex)("min",0)("max",255),s.R50("value",r.rgba.b),s.Y8G("autoCorrect",!0)("spinners",!1)("format","n")("decimals",0),s.R7$(2),s.Y8G("for",o.focusableId),s.R7$(2),s.Y8G("ngIf",r.opacity)}}const IKe=["kendoColorContrastSvg",""];function RKe(i,n){1&i&&(s.qSk(),s.nrm(0,"path",1)),2&i&&s.BMQ("d",n.$implicit)}const AKe=["kendoContrastValidation",""];function xKe(i,n){if(1&i&&(s.j41(0,"span",3),s.EFF(1),s.nrm(2,"kendo-icon-wrapper",4),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.SpI(" ",e.passMessage," "),s.R7$(),s.Y8G("svgIcon",e.checkIcon)}}function NKe(i,n){if(1&i&&(s.j41(0,"span",5),s.EFF(1),s.nrm(2,"kendo-icon-wrapper",6),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.SpI(" ",e.failMessage," "),s.R7$(),s.Y8G("svgIcon",e.xCircleIcon)}}function LKe(i,n){if(1&i&&(s.qex(0),s.DNE(1,xKe,3,2,"span",1)(2,NKe,3,2,"span",2),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngIf",e.pass),s.R7$(),s.Y8G("ngIf",!e.pass)}}const PKe=["kendoContrastTool",""];function GKe(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",8),2&i){const e=s.XpG(3);s.Y8G("svgIcon",e.checkIcon)}}function UKe(i,n){if(1&i&&(s.j41(0,"span",7),s.nrm(1,"kendo-icon-wrapper",8),s.DNE(2,GKe,1,1,"kendo-icon-wrapper",9),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.Y8G("svgIcon",e.checkIcon),s.R7$(),s.Y8G("ngIf",e.satisfiesAAACondition)}}function FKe(i,n){if(1&i&&(s.j41(0,"span",10),s.nrm(1,"kendo-icon-wrapper",11),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.Y8G("svgIcon",e.xCircleIcon)}}function BKe(i,n){if(1&i&&(s.qex(0),s.DNE(1,UKe,3,2,"span",5)(2,FKe,2,1,"span",6),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngIf",e.satisfiesAACondition),s.R7$(),s.Y8G("ngIf",!e.satisfiesAACondition)}}const VKe=["gradientDragHandle"],zKe=["inputs"],HKe=["alphaSlider"],jKe=["gradientWrapper"],$Ke=["hsvRectangle"],$1e=i=>({"k-align-self-end":i});function XKe(i,n){if(1&i&&(s.qSk(),s.nrm(0,"svg",16)),2&i){const e=s.XpG(),t=s.sdS(5);s.Aen("position: absolute; overflow: visible; pointer-events: none; left: 0px; top: 0px;"),s.Y8G("wrapper",t||void 0)("hsva",e.hsva)("backgroundColor",e.contrastTool)}}function WKe(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",17),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.reset())})("keydown.enter",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.reset())})("keydown.space",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.reset())}),s.k0s()}if(2&i){const e=s.XpG();s.Aen("position: absolute; top: 0; left: 50%; transform: translateX(-50%);"),s.Y8G("svgIcon",e.dropletSlashIcon)("tabindex",e.innerTabIndex.toString()),s.BMQ("aria-label",e.clearButtonTitle)("title",e.clearButtonTitle)}}function KKe(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-slider",18,4),s.bIt("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleAlphaSliderChange(o))}),s.k0s()}if(2&i){const e=s.XpG();s.xc7("height",e.clearButton?"140":null,"px"),s.Y8G("tabindex",e.innerTabIndex)("ngClass",s.eq3(14,$1e,e.clearButton))("dragHandleTitle",e.opacitySliderTitle)("disabled",e.disabled)("readonly",e.readonly)("showButtons",!1)("vertical",!0)("min",0)("max",100)("smallStep",1)("largeStep",10)("value",e.alphaSliderValue)}}function YKe(i,n){if(1&i&&s.nrm(0,"div",19),2&i){const e=s.XpG();s.Y8G("value",e.value)("ratio",e.contrastTool)}}const JKe=(i,n,e,t)=>({backgroundColor:i,width:n,height:e,minWidth:t});function qKe(i,n){if(1&i){const e=s.RV6();s.j41(0,"td",5),s.bIt("click",function(){const o=s.eBV(e),r=o.$implicit,a=o.index,l=s.XpG().index,c=s.XpG();return s.Njj(c.handleCellSelection(r,{row:l,col:a}))}),s.k0s()}if(2&i){const e=n.$implicit,t=n.index,o=s.XpG().index,r=s.XpG();s.AVh("k-selected",(null==r.selectedCell?null:r.selectedCell.row)===o&&(null==r.selectedCell?null:r.selectedCell.col)===t)("k-focus",r.focusInComponent&&(null==r.focusedCell?null:r.focusedCell.row)===o&&(null==r.focusedCell?null:r.focusedCell.col)===t),s.Y8G("id","k-"+o+"-"+t+"-"+r.uniqueId)("ngStyle",s.ziG(9,JKe,e,r.tileLayout.width+"px",r.tileLayout.height+"px",r.tileLayout.width+"px")),s.BMQ("aria-selected",(null==r.selectedCell?null:r.selectedCell.row)===o&&(null==r.selectedCell?null:r.selectedCell.col)===t?"true":void 0)("aria-label",e)("value",e)}}function QKe(i,n){if(1&i&&(s.j41(0,"tr",3),s.DNE(1,qKe,1,14,"td",4),s.k0s()),2&i){const e=n.$implicit;s.R7$(),s.Y8G("ngForOf",e)}}const ZKe=["clearButton"],eYe=["viewButtons"],tYe=["kendoFlatColorPickerHeader",""];function nYe(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",9,0),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG(2);return s.Njj(r.onViewButtonClick(o))})("keydown.shift.tab",function(o){const r=s.eBV(e).index,a=s.XpG(2);return s.Njj(a.onHeaderTabOut(o,r))}),s.k0s()}if(2&i){const e=n.$implicit,t=s.XpG(2);s.Y8G("tabindex",t.innerTabIndex.toString())("icon",t.getViewButtonIcon(e))("svgIcon",t.getViewButtonsSVGIcon(e))("ngClass",t.activeView===e?"k-selected":""),s.BMQ("title",t.getText("gradient"===e?"gradientView":"paletteView"))("aria-label",t.getText("gradient"===e?"gradientView":"paletteView"))("aria-pressed",t.activeView===e)}}function iYe(i,n){if(1&i&&(s.j41(0,"div",7),s.DNE(1,nYe,2,7,"button",8),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngForOf",e.views)}}function sYe(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",10,1),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.clearButtonClick.emit())}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("tabindex",e.innerTabIndex.toString())("svgIcon",e.dropletSlashIcon),s.BMQ("aria-label",e.getText("clearButton"))("title",e.getText("clearButton"))}}function oYe(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",11),s.nrm(1,"span",12),s.j41(2,"span",13),s.bIt("click",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.valuePaneClick.emit(o))}),s.k0s()()}if(2&i){const e=s.XpG();s.R7$(),s.xc7("background-color",e.selection),s.BMQ("title",e.getText("previewColor")),s.R7$(),s.xc7("background-color",e.value),s.BMQ("title",e.getText("revertSelection"))}}const rYe=["first"],aYe=["last"],lYe=["kendoFlatColorPickerActionButtons",""],X1e=["header"],W1e=["gradient"],cYe=["palette"],dYe=["footer"];function uYe(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",10,0),s.bIt("clearButtonClick",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onClearButtonClick())})("viewChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onViewChange(o))})("valuePaneClick",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.resetSelection(o))})("tabOut",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.lastFocusable(o))}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("innerTabIndex",e.innerTabIndex)("clearButton",e.clearButton)("activeView",e.activeView)("views",e.views)("value",e.value)("selection",e.selection)("preview",e.preview)}}function hYe(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-colorgradient",11,1),s.bIt("keydown.tab",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.focusFirstHeaderButton())})("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleValueChange(o))}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("tabindex",e.innerTabIndex)("value",e.selection)("format",e.format)("opacity",e.gradientSettings.opacity)("delay",e.gradientSettings.delay)("contrastTool",e.gradientSettings.contrastTool)("gradientSliderSmallStep",e.gradientSettings.gradientSliderSmallStep)("gradientSliderStep",e.gradientSettings.gradientSliderStep)("readonly",e.readonly)}}function pYe(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-colorpalette",12,2),s.bIt("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleValueChange(o))}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("tabindex",e.innerTabIndex)("palette",e.paletteSettings.palette)("columns",e.paletteSettings.columns)("tileSize",e.paletteSettings.tileSize)("format",e.format)("value",e.selection)("readonly",e.readonly)}}function fYe(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",13,3),s.bIt("actionButtonClick",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onAction(o))})("tabOut",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.firstFocusable.focus())}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("innerTabIndex",e.innerTabIndex)("ngClass","k-justify-content-"+e.actionsLayout)}}const mYe=["container"],_Ye=["activeColor"],gYe=["popupTemplate"],SYe=["flatColorPicker"],vYe=(i,n)=>({"k-icon-color-preview":i,"k-no-color":n});function CYe(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",10),2&i){const e=s.XpG();s.Y8G("name",e.iconStyles)("customFontClass",e.customIconStyles)("svgIcon",e.svgIcon)}}function bYe(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-flatcolorpicker",11,3),s.bIt("cancel",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleCancelEvent(o))})("focusout",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handlePopupBlur(o))})("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleValueChange(o))})("keydown",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handlePopupKeyDown(o))})("activeViewChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.activeViewChange.emit(o))})("clearButtonClick",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.clearButtonClick.emit())})("actionButtonClick",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.togglePopup())}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("value",e.value)("format",e.format)("views",e.views)("activeView",e.activeView)("actionsLayout",e.actionsLayout)("preview",e.preview)("gradientSettings",e.gradientSettings)("paletteSettings",e.paletteSettings)("clearButton",e.clearButton)}}const EYe=[[["label"],["kendo-label"]],"*",[["kendo-formhint"]],[["kendo-formerror"]]],yYe=["label, kendo-label","*","kendo-formhint","kendo-formerror"];function DYe(i,n){1&i&&s.SdG(0,2,["*ngIf","hasHints"])}function wYe(i,n){1&i&&s.SdG(0,3,["*ngIf","hasErrors"])}const Ln=i=>null!=i,u_=(i,n)=>i===n||null===i&&void 0===n||void 0===i&&null===n,GD=i=>i&&(!i.touched||i.control&&"blur"===i.control.updateOn),xa=(i,n,e)=>!Ln(i)||isNaN(i)||i<=n?n:i>=e?e:i,K1e={small:"sm",medium:"md",large:"lg"},Y1e={small:"sm",medium:"md",large:"lg",full:"full"},h_=(i,n,e,t)=>{switch(n){case"size":return{toRemove:`k-${i}-${K1e[e]}`,toAdd:"none"!==t?`k-${i}-${K1e[t]}`:""};case"rounded":return{toRemove:`k-rounded-${Y1e[e]}`,toAdd:"none"!==t?`k-rounded-${Y1e[t]}`:""};case"fillMode":return{toRemove:`k-${i}-${e}`,toAdd:"none"!==t?`k-${i}-${t}`:""}}},J1e=i=>Math.min(i,20),FI=i=>(String(i).split(".")[1]||"").length,q1e=(i,n)=>Math.max(FI(i),FI(n)),f5=(i,n)=>{const e=J1e(n);return parseFloat(i.toFixed(e))},$C=(i,n)=>{const e=q1e(i,n);return f5(i+n,e)},p_=(i,n)=>$C(i,-n),m5=(i,n)=>{const e=FI(i)+FI(n);return f5(i*n,e)},Q1e=(i,n)=>{if(0===n)return NaN;const e=q1e(i,n),t=Math.pow(10,e);return t*i/(t*n)},Z1e=(i,n)=>Math.abs(p_(i,m5(n,Math.floor(Q1e(i,n))))),_q=({max:i,min:n,smallStep:e,fixedTickWidth:t})=>(i-n)/e*t,gq=(i=0,n=0,e=1)=>{if(e<=0)throw new Error("Invalid argument: smallStep must be a positive number");const t=Math.abs(p_(n,i)),o=Math.floor(Q1e(t,e));return $C(o,1)},eSe=(i,{max:n,min:e,smallStep:t,reverse:o,vertical:r})=>{const a=$C(e,m5(i,t));return r||o?Math.abs(p_(a,n)):a},BI=(i,{max:n,min:e,smallStep:t,largeStep:o},r=!1)=>{const a=r&&o?m5(t,o):t,l=p_(i,e);let c;const u=Z1e(l,a);return c=p_(l,0===u?a:u),Cq($C(c,e),e,n)},VI=(i,{max:n,min:e,smallStep:t,largeStep:o},r=!1)=>{const a=r&&o?m5(t,o):t,l=p_(i,e),c=Z1e(l,a),u=$C(p_(l,c),a);return Cq($C(u,e),e,n)},UD=(i,n,e)=>e>i?i:e<n?n:e,nSe=i=>i,Cq=(i,n,e)=>Math.max(Math.min(i,e),n),bq=(i,n,e)=>{const{min:t,max:o,vertical:r,rtl:a}=e,l=(i=>{const n=i.getBoundingClientRect(),e=document.documentElement;return{left:n.left+(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0),top:n.top+(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}})(n),f=(o-t)/(r?n.clientHeight:n.clientWidth)*(r?i.pageY-l.top:i.pageX-l.left);let _=a||r?o-f:t+f;const S=FI(e.smallStep);return _=f5(_,S+1),((i,n)=>{const{smallStep:e,min:t,max:o}=n,r=Cq(i,t,o);if(i!==r)return r;const a=BI(i,n),l=VI(i,n);return(i-t)%e==0?i:l-i<=(l-a)/2?l:a})(_,e)},g5=i=>VI(i.value,i),S5=i=>BI(i.value,i),iSe=i=>VI(i.value,i,!0),sSe=i=>BI(i.value,i,!0);class eJe{constructor(n,e,t,o,r){this.props=n,this.wrapper=e,this.track=t,this.renderer=o,this.button=r,this.props=n,this.wrapper=e,this.track=t,this.tickSizes=this.getTickSizes()}resizeTrack(){const n=this.props.vertical?"height":"width",e=this.props.vertical?"width":"height",t=this.trackWidth();this.track.parentElement.style[n]=`${t}px`,this.track.parentElement.style[e]=""}resizeTicks(n,e){const t=this.props.vertical?"height":"width";[...e].map((o,r)=>o.style[t]=`${this.tickSizes[r]}px`),this.props.vertical&&this.adjustPadding(n)}resizeWrapper(){const n=this.props.vertical?"height":"width";_q(this.props)&&(this.wrapper.parentElement.style[n]="auto")}trackWidth(){return this.props.fixedTickWidth?_q(this.props):this.elementSize(this.wrapper.parentElement)-this.getTrackOffset()}getTickSizes(){const{min:n,max:e,smallStep:t}=this.props,o=gq(n,e,t),r=this.trackWidth(),a=r/p_(e,n),l=[];let c=0,u=0;for(let f=0;f<o;f++){u+=0===f||f===o-1?t/2*a:t*a,u=+u.toFixed(2)-.01;const _=Math.round(u-c);l.push(_),c+=_}return c>=r&&(l[l.length-1]-=1),l}adjustPadding(n){const e=this.tickSizes.reduce((r,a)=>r+a,0),o=this.trackWidth()-e;if(0!==o){const r=o+this.elementOffset(this.track);n.style.paddingTop=`${r}px`}}elementOffset(n){const{vertical:e}=this.props,t=getComputedStyle(n);return parseInt(e?t.bottom:t.left,10)}elementSize(n){const{vertical:e}=this.props;return e?n.clientHeight:n.clientWidth}getTrackOffset(){if(!this.props.buttons||!Ln(this.button))return 0;const t=this.button.nativeElement.getBoundingClientRect(),o=parseInt(window.getComputedStyle(this.wrapper.parentElement).gap);return 2*((this.props.vertical?t?.height:t?.width)+o)}}class tJe extends eJe{positionHandle(n){const{max:e,min:t,reverse:o,vertical:r}=this.props,a=r?"bottom":o?"right":"left",l=this.trackWidth(),c=UD(e,t,this.props.value);this.handlePosition=(({trackWidth:i,min:n,max:e,value:t})=>{const o=i/Math.abs(e-n),r=Ln(t)?o*(t-n):n;return Math.floor(r)})({min:t,max:e,reverse:o,value:c,trackWidth:l}),this.renderer.setStyle(n,a,`${this.handlePosition}px`)}positionSelection(n){const{vertical:e}=this.props;this.renderer.setStyle(n,e?"height":"width",`${this.handlePosition}px`)}}function f_(i,n,...e){if(i&&i.nativeElement)return i.nativeElement[n].apply(i.nativeElement,e)}const Tu={name:"@progress/kendo-angular-inputs",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925236,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};let lJe=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoSliderLabelTemplate",""]]}),i})(),cJe=(()=>{class i{constructor(e,t,o,r,a,l){this.localizationService=e,this.injector=t,this.renderer=o,this.ngZone=r,this.changeDetector=a,this.hostElement=l,this.title=nSe,this.tickPlacement="both",this.vertical=!1,this.min=0,this.max=10,this.smallStep=1,this.largeStep=null,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.onFocus=new s.bkB,this.onBlur=new s.bkB,this.valueChange=new s.bkB,this.sliderClass=!0,this.subscriptions=new be.yU,this.ifEnabled=(c,u)=>{this.isDisabled||c.call(this,u)},(0,_t.$)(Tu),this.direction=e.rtl?"rtl":"ltr"}get horizontalClass(){return!this.vertical}get verticalClass(){return this.vertical}get disabledClass(){return this.disabled}setDisabledState(e){this.changeDetector.markForCheck(),this.disabled=e}ngOnInit(){this.subscriptions.add(this.localizationService.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.sizeComponent()})),this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.control=this.injector.get(Ci,null)}get isDisabled(){return this.disabled||this.readonly}isEmpty(){return!1}get reverse(){return this.localizationService.rtl&&!this.vertical}get keyBinding(){const e=this.reverse;return{[G.ArrowLeft]:e?g5:S5,[G.ArrowRight]:e?S5:g5,[G.ArrowDown]:S5,[G.ArrowUp]:g5,[G.PageUp]:iSe,[G.PageDown]:sSe,[G.Home]:({min:t})=>t,[G.End]:({max:t})=>t}}resetStyles(e){e.forEach(t=>{t&&(this.vertical?(this.renderer.removeStyle(t,"width"),this.renderer.removeStyle(t,"left"),this.renderer.removeStyle(t,"right")):(this.renderer.removeStyle(t,"height"),this.renderer.removeStyle(t,"bottom")),this.renderer.removeStyle(t,"padding-top"))})}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z),s.rXU(s.zZn),s.rXU(s.sFG),s.rXU(s.SKi),s.rXU(s.gRc),s.rXU(s.aKT))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-slider-base"]],contentQueries:function(e,t,o){if(1&e&&s.wni(o,lJe,5),2&e){let r;s.mGM(r=s.lsd())&&(t.labelTemplate=r.first)}},viewQuery:function(e,t){if(1&e&&(s.GBs(PWe,7),s.GBs(B1e,7),s.GBs(GWe,7),s.GBs(V1e,5,s.aKT),s.GBs(V1e,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.wrapper=o.first),s.mGM(o=s.lsd())&&(t.track=o.first),s.mGM(o=s.lsd())&&(t.sliderSelection=o.first),s.mGM(o=s.lsd())&&(t.ticksContainer=o.first),s.mGM(o=s.lsd())&&(t.ticks=o.first)}},hostVars:11,hostBindings:function(e,t){2&e&&(s.BMQ("dir",t.direction),s.AVh("k-readonly",t.readonly)("k-slider-horizontal",t.horizontalClass)("k-slider-vertical",t.verticalClass)("k-slider",t.sliderClass)("k-disabled",t.disabledClass))},inputs:{title:"title",tickPlacement:"tickPlacement",vertical:"vertical",min:"min",max:"max",smallStep:"smallStep",largeStep:"largeStep",fixedTickWidth:"fixedTickWidth",disabled:"disabled",readonly:"readonly",tabindex:"tabindex"},outputs:{onFocus:"focus",onBlur:"blur",valueChange:"valueChange"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})();class dJe{constructor(n){this.value=n,this.classes={"k-tick":!0}}}let uJe=(()=>{class i{constructor(){this.wrapperClasses="k-reset k-slider-items",this.ticks=[]}ngOnChanges(e){this.createTicks()}createTicks(){const e=gq(this.min,this.max,this.step),t=this.largeStep,o={max:this.max,min:this.min,smallStep:this.step},r=[];for(let a=0;a<e;a++)r.push(new dJe(eSe(a,o))),t&&a%t==0&&(r[a].large=!0,r[a].classes["k-tick-large"]=!0);r.length>0&&(Object.assign(r[0].classes,this.endTickClasses(!0)),Object.assign(r[r.length-1].classes,this.endTickClasses(!1))),this.ticks=r}endTickClasses(e){return{"k-first":e&&!this.vertical||!e&&this.vertical,"k-last":!e&&!this.vertical||e&&this.vertical}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoSliderTicks",""]],viewQuery:function(e,t){if(1&e&&s.GBs(UWe,5),2&e){let o;s.mGM(o=s.lsd())&&(t.tickElements=o)}},hostVars:2,hostBindings:function(e,t){2&e&&s.HbH(t.wrapperClasses)},inputs:{tickTitle:"tickTitle",vertical:"vertical",step:"step",largeStep:"largeStep",min:"min",max:"max",labelTemplate:"labelTemplate"},features:[s.OA$],attrs:FWe,decls:3,vars:1,consts:[["defaultLabel",""],["tickElement",""],["role","presentation",3,"ngClass","title",4,"ngFor","ngForOf"],["role","presentation",3,"ngClass","title"],[3,"ngSwitch"],["class","k-label",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"k-label"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&s.DNE(0,zWe,5,5,"li",2)(1,HWe,1,1,"ng-template",null,0,s.C5r),2&e&&s.Y8G("ngForOf",t.ticks)},dependencies:[ut,Be,wa,od,qe],encapsulation:2}),i})(),oSe=(()=>{class i extends yi{}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275dir=s.FsC({type:i,selectors:[["kendo-slider-messages-base"]],inputs:{decrement:"decrement",increment:"increment",dragHandle:"dragHandle"},features:[s.Vt3]}),i})(),hJe=(()=>{class i extends oSe{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoSliderLocalizedMessages",""]],features:[s.Jv_([{provide:oSe,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})();const v5="k-pressed";let pJe=(()=>{class i extends cJe{constructor(e,t,o,r,a,l){super(e,t,o,r,a,l),this.localization=e,this.injector=t,this.renderer=o,this.ngZone=r,this.changeDetector=a,this.hostElement=l,this.focusableId=`k-${tn()}`,this.animate=!0,this.showButtons=!0,this.value=this.min,this.arrowUpIcon=bu,this.arrowDownIcon=qo,this.arrowLeftIcon=tl,this.arrowRightIcon=Jo,this.focusChangedProgrammatically=!1,this.onWrapClick=c=>{if(!this.isDisabled&&!c.target.closest(".k-button")){const f=bq(c,this.track.nativeElement,this.getProps());this.changeValue(f)}f_(this.draghandle,"focus")},this.onKeyDown=c=>{const u=this.getProps(),{max:f,min:_}=u,S=this.keyBinding[c.keyCode];if(this.isDisabled||!S)return;const v=S(u);this.changeValue(UD(f,_,v)),c.preventDefault()},this.ngChange=c=>{},this.ngTouched=()=>{},this.decreaseValue=()=>{this.changeValue(BI(this.value,this.getProps()))},this.increaseValue=()=>{this.changeValue(VI(this.value,this.getProps()))},this.handleBlur=()=>{this.changeDetector.markForCheck(),this.focused=!1,(Te(this.onBlur)||GD(this.control))&&this.ngZone.run(()=>{this.ngTouched(),this.focusChangedProgrammatically||this.onBlur.emit()})}}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}get currentValue(){return Ln(this.value)?this.value.toString():""}focus(){this.disabled||(this.focusChangedProgrammatically=!0,f_(this.draghandle,"focus"),this.focusChangedProgrammatically=!1)}blur(){this.focusChangedProgrammatically=!0,f_(this.draghandle,"blur"),this.handleBlur(),this.focusChangedProgrammatically=!1}ngOnChanges(e){Fi(["value","fixedTickWidth","tickPlacement"],e,!0)&&this.ngZone.onStable.asObservable().pipe(We(1)).subscribe(()=>{this.sizeComponent(!1)})}ngAfterViewInit(){ne()&&(this.showButtons&&(this.setValueChangeInterval(this.increaseButton.nativeElement,()=>this.increaseValue()),this.setValueChangeInterval(this.decreaseButton.nativeElement,()=>this.decreaseValue())),this.sizeComponent(!1),this.ticks&&this.ticks.tickElements.changes.subscribe(()=>this.sizeComponent(!1)),this.attachElementEventHandlers(),this.isSliderInvalid())}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}get incrementMessage(){return this.incrementTitle||this.localizationService.get("increment")}get decrementMessage(){return this.decrementTitle||this.localizationService.get("decrement")}get dragHandleMessage(){return this.dragHandleTitle||this.localizationService.get("dragHandle")}handleDragPress(e){e.originalEvent&&e.originalEvent.preventDefault(),this.renderer.removeClass(this.hostElement.nativeElement,"k-slider-transitions")}onHandleDrag(e){this.dragging=!0,this.changeValue(bq(e,this.track.nativeElement,this.getProps()))}onHandleRelease(){this.dragging=!1,this.renderer.addClass(this.hostElement.nativeElement,"k-slider-transitions")}writeValue(e){this.changeDetector.markForCheck(),this.value=e,this.sizeComponent(this.animate)}registerOnChange(e){this.ngChange=e}registerOnTouched(e){this.ngTouched=e}changeValue(e){u_(this.value,e)||this.ngZone.run(()=>{this.value=e,this.ngChange(e),this.valueChange.emit(e),this.sizeComponent(this.animate),this.changeDetector.markForCheck()}),this.isSliderInvalid()}sizeComponent(e){if(!ne())return;const t=this.wrapper.nativeElement,o=this.track.nativeElement,r=this.sliderSelection.nativeElement,a=this.draghandle.nativeElement,l=this.ticks?this.ticksContainer.nativeElement:null;e||this.renderer.removeClass(this.hostElement.nativeElement,"k-slider-transitions"),this.resetStyles([o,r,a,l,this.hostElement.nativeElement]);const c=this.getProps(),u=new tJe(c,t,o,this.renderer,this.increaseButton);u.resizeTrack(),this.ticks&&u.resizeTicks(this.ticksContainer.nativeElement,this.ticks.tickElements.map(f=>f.nativeElement)),u.positionHandle(a),u.positionSelection(r),e||(this.hostElement.nativeElement.getBoundingClientRect(),this.renderer.addClass(this.hostElement.nativeElement,"k-slider-transitions")),this.fixedTickWidth&&u.resizeWrapper()}set focused(e){this.isFocused!==e&&this.hostElement&&(this.isFocused=e)}set dragging(e){if(this.isDragged!==e&&this.sliderSelection&&this.draghandle){const t=this.sliderSelection.nativeElement,o=this.draghandle.nativeElement;e?(this.renderer.addClass(t,v5),this.renderer.addClass(o,v5)):(this.renderer.removeClass(t,v5),this.renderer.removeClass(o,v5)),this.isDragged=e}}setValueChangeInterval(e,t){this.ngZone.runOutsideAngular(()=>{const o=Dt(e,"mousedown"),r=Dt(e,"mouseup"),a=Dt(e,"mouseout"),l=o.pipe(X(c=>0===c.button&&!this.isDisabled),du(()=>NC(150).pipe(e8(-1),mo(Bt(r,a))))).subscribe(()=>{this.isFocused||f_(this.draghandle,"focus"),t()});this.subscriptions.add(l)})}getProps(){return{buttons:this.showButtons,disabled:this.disabled,fixedTickWidth:this.fixedTickWidth,largeStep:this.largeStep,max:this.max,min:this.min,readonly:this.readonly,reverse:this.reverse,rtl:this.localizationService.rtl,smallStep:this.smallStep,value:UD(this.max,this.min,this.value),vertical:this.vertical}}isSliderInvalid(){this.isInvalid=!!this.hostElement.nativeElement.classList.contains("ng-invalid"),this.renderer.setAttribute(this.draghandle.nativeElement,"aria-invalid",`${this.isInvalid}`)}attachElementEventHandlers(){const e=this.hostElement.nativeElement;let t=!1,o=!1;this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(e,"focusin",()=>{this.isFocused||this.ngZone.run(()=>{this.focusChangedProgrammatically||this.onFocus.emit(),this.focused=!0})})),this.subscriptions.add(this.renderer.listen(e,"focusout",r=>{this.isFocused&&(t?(r.relatedTarget!==this.draghandle.nativeElement&&this.handleBlur(),t=!1):o||this.handleBlur())})),this.subscriptions.add(this.renderer.listen(e,"mouseenter",()=>{o=!0})),this.subscriptions.add(this.renderer.listen(e,"mouseleave",()=>{o=!1})),this.subscriptions.add(this.renderer.listen(e,"keydown",r=>{t=r.keyCode===G.Tab}))})}get decreaseButtonArrowIcon(){return this.vertical?"caret-alt-down":"ltr"===this.direction?"caret-alt-left":"caret-alt-right"}get increaseButtonArrowIcon(){return this.vertical?"caret-alt-up":"ltr"===this.direction?"caret-alt-right":"caret-alt-left"}get decreaseButtonArrowSVGIcon(){return this.vertical?this.arrowDownIcon:"ltr"===this.direction?this.arrowLeftIcon:this.arrowRightIcon}get increaseButtonArrowSVGIcon(){return this.vertical?this.arrowUpIcon:"ltr"===this.direction?this.arrowRightIcon:this.arrowLeftIcon}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z),s.rXU(s.zZn),s.rXU(s.sFG),s.rXU(s.SKi),s.rXU(s.gRc),s.rXU(s.aKT))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-slider"]],viewQuery:function(e,t){if(1&e&&(s.GBs(jWe,7),s.GBs($We,5,s.aKT),s.GBs(XWe,5,s.aKT)),2&e){let o;s.mGM(o=s.lsd())&&(t.draghandle=o.first),s.mGM(o=s.lsd())&&(t.decreaseButton=o.first),s.mGM(o=s.lsd())&&(t.increaseButton=o.first)}},inputs:{focusableId:"focusableId",dragHandleTitle:"dragHandleTitle",incrementTitle:"incrementTitle",animate:"animate",decrementTitle:"decrementTitle",showButtons:"showButtons",value:"value",tabIndex:"tabIndex"},exportAs:["kendoSlider"],features:[s.Jv_([z,{provide:He,useValue:"kendo.slider"},{multi:!0,provide:zn,useExisting:(0,s.Rfq)(()=>i)},{provide:ji,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3,s.OA$],decls:13,vars:23,consts:()=>{let n,e,t;return n="Aumenta",e="Decrementa",t="Trascina",[["wrap",""],["track",""],["sliderSelection",""],["draghandle",""],["decreaseButton",""],["ticks",""],["increaseButton",""],["kendoSliderLocalizedMessages","","increment",n,"decrement",e,"dragHandle",t],["kendoButton","","type","button","rounded","full","class","k-button-decrease",3,"icon","svgIcon","title",4,"ngIf"],[1,"k-slider-track-wrap",3,"kendoEventsOutsideAngular"],["kendoSliderTicks","",3,"tickTitle","vertical","step","largeStep","min","max","labelTemplate",4,"ngIf"],[1,"k-slider-track"],[1,"k-slider-selection"],["role","slider","kendoDraggable","",1,"k-draghandle",3,"kendoPress","kendoDrag","kendoRelease","title","id"],["kendoButton","","type","button","rounded","full","class","k-button-increase",3,"icon","svgIcon","title","click",4,"ngIf"],[3,"resize"],["kendoButton","","type","button","rounded","full",1,"k-button-decrease",3,"icon","svgIcon","title"],["kendoSliderTicks","",3,"tickTitle","vertical","step","largeStep","min","max","labelTemplate"],["kendoButton","","type","button","rounded","full",1,"k-button-increase",3,"click","icon","svgIcon","title"]]},template:function(e,t){if(1&e){const o=s.RV6();s.qex(0,7),s.DNE(1,KWe,2,4,"button",8),s.j41(2,"div",9,0),s.DNE(4,YWe,2,8,"ul",10),s.j41(5,"div",11,1),s.nrm(7,"div",12,2),s.j41(9,"span",13,3),s.bIt("kendoPress",function(a){return s.eBV(o),s.Njj(t.ifEnabled(t.handleDragPress,a))})("kendoDrag",function(a){return s.eBV(o),s.Njj(t.ifEnabled(t.onHandleDrag,a))})("kendoRelease",function(a){return s.eBV(o),s.Njj(t.ifEnabled(t.onHandleRelease,a))}),s.k0s()()(),s.DNE(11,JWe,2,5,"button",14),s.j41(12,"kendo-resize-sensor",15),s.bIt("resize",function(){return s.eBV(o),s.Njj(t.sizeComponent(!1))}),s.k0s(),s.bVm()}2&e&&(s.R7$(),s.Y8G("ngIf",t.showButtons),s.R7$(),s.AVh("k-slider-topleft","before"===t.tickPlacement)("k-slider-bottomright","after"===t.tickPlacement),s.Y8G("kendoEventsOutsideAngular",s.l_i(20,WWe,t.onWrapClick,t.onKeyDown)),s.R7$(2),s.Y8G("ngIf","none"!==t.tickPlacement),s.R7$(5),s.xc7("touch-action",t.isDisabled?"":"none"),s.Y8G("title",t.dragHandleMessage)("id",t.focusableId),s.BMQ("aria-valuemin",t.min)("aria-valuemax",t.max)("aria-valuenow",t.currentValue)("aria-valuetext",t.currentValue)("aria-disabled",!!t.disabled||void 0)("aria-readonly",!!t.readonly||void 0)("aria-orientation",t.vertical?"vertical":"horizontal")("tabindex",t.disabled?"-1":t.tabIndex),s.R7$(2),s.Y8G("ngIf",t.showButtons))},dependencies:[Ht,uJe,hs,hJe,q,xo,vd],encapsulation:2}),i})(),rSe=(()=>{class i extends yi{}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275dir=s.FsC({type:i,selectors:[["kendo-switch-messages-base"]],inputs:{on:"on",off:"off"},features:[s.Vt3]}),i})(),fJe=(()=>{class i extends rSe{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoSwitchLocalizedMessages",""]],features:[s.Jv_([{provide:rSe,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})(),oS=(()=>{class i{constructor(e,t,o,r,a,l){this.renderer=e,this.hostElement=t,this.localizationService=o,this.injector=r,this.changeDetector=a,this.ngZone=l,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.onFocus=new s.bkB,this.onBlur=new s.bkB,this.valueChange=new s.bkB,this.hostRole="switch",this.hostClasses=!0,this.initialized=!1,this.domSubscriptions=[],this._checked=!1,this._size="medium",this._trackRounded="full",this._thumbRounded="full",this.ngChange=c=>{},this.ngTouched=()=>{},this.handleFocus=c=>{this.isFocused||(c.stopImmediatePropagation(),this.focused=!0,Te(this.onFocus)&&this.ngZone.run(()=>{this.onFocus.emit({originalEvent:c})}))},this.handleBlur=c=>{this.hostElement.nativeElement.contains(c&&c.relatedTarget)||(c.stopImmediatePropagation(),this.changeDetector.markForCheck(),this.focused=!1,(Te(this.onBlur)||GD(this.control))&&this.ngZone.run(()=>{this.ngTouched(),this.onBlur.emit({originalEvent:c})}))},(0,_t.$)(Tu),this.direction=o.rtl?"rtl":"ltr",this.keyDownHandler=this.keyDownHandler.bind(this),this.clickHandler=this.clickHandler.bind(this)}get focusableId(){return this.hostElement.nativeElement.hasAttribute("id")?this.hostElement.nativeElement.getAttribute("id"):`k-${tn()}`}set checked(e){this.setHostClasses(e),this._checked=e}get checked(){return this._checked}set size(e){const t=e||"medium";this.handleClasses(t,"size"),this._size=t}get size(){return this._size}set thumbRounded(e){const t=e||"full";this.handleThumbClasses(t),this._thumbRounded=t}get thumbRounded(){return this._thumbRounded}set trackRounded(e){const t=e||"full";this.handleTrackClasses(t),this._trackRounded=t}get trackRounded(){return this._trackRounded}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}get ieClass(){return CD&&CD.msie}get hostId(){return this.focusableId}get ariaChecked(){return this.checked}get ariaInvalid(){return!!this.isControlInvalid||void 0}get hostTabIndex(){return this.disabled?void 0:this.tabIndex}get ariaDisabled(){return!!this.disabled||void 0}get ariaReadonly(){return this.readonly}get disabledClass(){return this.disabled}get onLabelMessage(){return void 0!==this.onLabel?this.onLabel:this.localizationService.get("on")}get offLabelMessage(){return void 0!==this.offLabel?this.offLabel:this.localizationService.get("off")}get isEnabled(){return!this.disabled&&!this.readonly}ngOnInit(){this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.localizationChangeSubscription=this.localizationService.changes.pipe(M3(1)).subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr"}),this.control=this.injector.get(Ci,null),this.ngZone.onStable.pipe(We(1)).subscribe(()=>this.initialized=!0)}ngAfterViewInit(){const e=this.hostElement.nativeElement;!this.checked&&!e.classList.contains("k-switch-off")&&this.renderer.addClass(e,"k-switch-off"),this.handleClasses(this.size,"size"),this.handleTrackClasses(this.trackRounded),this.handleThumbClasses(this.thumbRounded),this.attachHostHandlers()}ngOnDestroy(){this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.domSubscriptions.forEach(t=>t());const e=this.hostElement.nativeElement;e.removeEventListener("focus",this.handleFocus,!0),e.removeEventListener("blur",this.handleBlur,!0)}focus(){this.hostElement&&this.hostElement.nativeElement.focus()}blur(){this.hostElement&&this.hostElement.nativeElement.blur()}setDisabledState(e){this.disabled=e,this.changeDetector.markForCheck()}get isControlInvalid(){return this.control&&this.control.touched&&!this.control.valid}writeValue(e){this.checked=null!==e&&e,this.changeDetector.markForCheck()}registerOnChange(e){this.ngChange=e}registerOnTouched(e){this.ngTouched=e}keyDownHandler(e){const t=e.keyCode;this.isEnabled&&(t===G.Space||t===G.Enter)&&(this.changeValue(!this.checked),e.preventDefault())}clickHandler(){this.isEnabled&&this.changeValue(!this.checked)}isEmpty(){return!1}changeValue(e){this.checked!==e&&this.ngZone.run(()=>{this.checked=e,this.ngChange(e),this.valueChange.emit(e),this.changeDetector.markForCheck()})}set focused(e){if(this.isFocused!==e&&this.hostElement){const t=this.hostElement.nativeElement;e?this.renderer.addClass(t,"k-focus"):this.renderer.removeClass(t,"k-focus"),this.isFocused=e}}attachHostHandlers(){this.ngZone.runOutsideAngular(()=>{const e=this.hostElement.nativeElement;this.domSubscriptions.push(this.renderer.listen(e,"click",this.clickHandler),this.renderer.listen(e,"keydown",this.keyDownHandler)),e.addEventListener("focus",this.handleFocus,!0),e.addEventListener("blur",this.handleBlur,!0)})}setHostClasses(e){const t=this.hostElement.nativeElement;e?(this.renderer.removeClass(t,"k-switch-off"),this.renderer.addClass(t,"k-switch-on")):(this.renderer.removeClass(t,"k-switch-on"),this.renderer.addClass(t,"k-switch-off"))}handleClasses(e,t){const o=this.hostElement.nativeElement,r=h_("switch",t,this[t],e);r.toRemove&&this.renderer.removeClass(o,r.toRemove),r.toAdd&&this.renderer.addClass(o,r.toAdd)}handleTrackClasses(e){const t=this.hostElement?.nativeElement,o=this.track?.nativeElement;if(!t||!o)return;const r=h_("switch","rounded",this.trackRounded,e);r.toRemove&&(this.renderer.removeClass(t,r.toRemove),this.renderer.removeClass(o,r.toRemove)),r.toAdd&&(this.renderer.addClass(t,r.toAdd),this.renderer.addClass(o,r.toAdd))}handleThumbClasses(e){const t=this.thumb?.nativeElement;if(!t)return;const o=h_("switch","rounded",this.thumbRounded,e);o.toRemove&&this.renderer.removeClass(t,o.toRemove),o.toAdd&&this.renderer.addClass(t,o.toAdd)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(z),s.rXU(s.zZn),s.rXU(s.gRc),s.rXU(s.SKi))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-switch"]],viewQuery:function(e,t){if(1&e&&(s.GBs(B1e,7),s.GBs(qWe,7)),2&e){let o;s.mGM(o=s.lsd())&&(t.track=o.first),s.mGM(o=s.lsd())&&(t.thumb=o.first)}},hostVars:16,hostBindings:function(e,t){2&e&&(s.BMQ("dir",t.direction)("role",t.hostRole)("id",t.hostId)("aria-checked",t.ariaChecked)("aria-invalid",t.ariaInvalid)("tabindex",t.hostTabIndex)("aria-disabled",t.ariaDisabled)("aria-readonly",t.ariaReadonly),s.AVh("k-readonly",t.readonly)("k-ie",t.ieClass)("k-switch",t.hostClasses)("k-disabled",t.disabledClass))},inputs:{focusableId:"focusableId",onLabel:"onLabel",offLabel:"offLabel",checked:"checked",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",size:"size",thumbRounded:"thumbRounded",trackRounded:"trackRounded",tabIndex:"tabIndex"},outputs:{onFocus:"focus",onBlur:"blur",valueChange:"valueChange"},exportAs:["kendoSwitch"],features:[s.Jv_([z,{provide:He,useValue:"kendo.switch"},{multi:!0,provide:zn,useExisting:(0,s.Rfq)(()=>i)},{provide:ji,useExisting:(0,s.Rfq)(()=>i)}])],decls:10,vars:8,consts:()=>{let n,e;return n="On",e="Off",[["track",""],["thumb",""],["kendoSwitchLocalizedMessages","","on",n,"off",e],[1,"k-switch-track"],[1,"k-switch-label-on"],[1,"k-switch-label-off"],[1,"k-switch-thumb-wrap"],[1,"k-switch-thumb"]]},template:function(e,t){1&e&&(s.qex(0,2),s.j41(1,"span",3,0)(3,"span",4),s.EFF(4),s.k0s(),s.j41(5,"span",5),s.EFF(6),s.k0s()(),s.j41(7,"span",6),s.nrm(8,"span",7,1),s.k0s(),s.bVm()),2&e&&(s.R7$(),s.xc7("transition-duration",t.initialized?"200ms":"0ms"),s.R7$(2),s.BMQ("aria-hidden",!0),s.R7$(),s.JRh(t.onLabelMessage),s.R7$(),s.BMQ("aria-hidden",!0),s.R7$(),s.JRh(t.offLabelMessage),s.R7$(),s.xc7("transition-duration",t.initialized?"200ms":"0ms"))},dependencies:[fJe],encapsulation:2}),i})(),lSe=(()=>{class i{constructor(e,t,o){this.renderer=e,this.inputElement=t,this.ngZone=o,this.hostClasses=!0,this.onFocus=new s.bkB,this.onBlur=new s.bkB,this.onValueChange=new s.bkB,this.autoFillStart=new s.bkB,this.autoFillEnd=new s.bkB,this.listeners=[]}set value(e){this.inputElement&&(this.inputElement.nativeElement.value=e??"",this.onValueChange.emit())}get value(){return this.inputElement.nativeElement.value}get id(){return this.inputElement.nativeElement.id}set id(e){this.renderer.setAttribute(this.inputElement.nativeElement,"id",e)}ngAfterViewInit(){const e=this.inputElement.nativeElement;this.listeners=[this.renderer.listen(e,"focus",()=>this.onFocus.emit()),this.renderer.listen(e,"blur",()=>this.onBlur.emit())],this.ngZone.runOutsideAngular(()=>{this.renderer.listen(e,"animationstart",t=>{"autoFillStart"===t.animationName?this.autoFillStart.emit():"autoFillEnd"===t.animationName&&this.autoFillEnd.emit()})})}ngOnDestroy(){this.listeners.forEach(e=>e())}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(s.SKi))},i.\u0275dir=s.FsC({type:i,selectors:[["input","kendoTextBox",""]],hostVars:10,hostBindings:function(e,t){2&e&&s.AVh("k-textbox",t.hostClasses)("k-input",t.hostClasses)("k-input-md",t.hostClasses)("k-rounded-md",t.hostClasses)("k-input-solid",t.hostClasses)},inputs:{value:"value"},features:[s.Jv_([{provide:ji,useExisting:(0,s.Rfq)(()=>i)}])]}),i})(),cSe=(()=>{class i{constructor(e,t,o,r,a,l){this.renderer=e,this.element=t,this.zone=o,this.changeDetector=r,this.injector=a,this.elementClasses=!0,this.autofillClass=!0,this.valueChange=new s.bkB,this.autoSize=!1,this.onFocus=new s.bkB,this.onBlur=new s.bkB,this.onValueChange=new s.bkB,this.autoFillStart=new s.bkB,this.autoFillEnd=new s.bkB,this.listeners=[],this.ngChange=c=>{},this.ngTouched=()=>{},this.direction=l?"rtl":"ltr"}get id(){return this.element.nativeElement.id}set id(e){this.renderer.setAttribute(this.element.nativeElement,"id",e)}writeValue(e){this.elementValue=e,this.resize()}registerOnChange(e){this.ngChange=e}registerOnTouched(e){this.ngTouched=e}setDisabledState(e){this.setElementProperty("disabled",e)}ngOnInit(){const e=this.element.nativeElement;this.zone.runOutsideAngular(()=>{this.listeners=[this.renderer.listen(e,"focus",this.handleFocus.bind(this)),this.renderer.listen(e,"blur",this.handleBlur.bind(this)),this.renderer.listen(e,"animationstart",t=>{"autoFillStart"===t.animationName?this.autoFillStart.emit():"autoFillEnd"===t.animationName&&this.autoFillEnd.emit()})],ne()&&this.autoSize&&(this.resizeSubscription=Dt(window,"resize").pipe(J1(50)).subscribe(()=>this.resize())),this.inputSubscription=Dt(e,"input").subscribe(this.handleInput.bind(this))}),this.control=this.injector.get(Ci,null)}ngOnChanges(e){const t=this.element.nativeElement;e.value&&(this.elementValue=this.value),e.autoSize&&(this.autoSize?(this.initialHeight=t.offsetHeight,this.renderer.setStyle(t,"resize","none")):(this.renderer.setStyle(t,"overflow-y","auto"),this.renderer.setStyle(t,"resize","both"),t.style.height=`${this.initialHeight}px`)),this.zone.onStable.pipe(We(1)).subscribe(()=>this.resize())}ngOnDestroy(){this.listeners.forEach(e=>e()),this.inputSubscription&&this.inputSubscription.unsubscribe(),this.resizeSubscription&&this.resizeSubscription.unsubscribe()}get elementValue(){return this.element?this.element.nativeElement.value:""}set elementValue(e){this.setElementProperty("value",e??"")}setElementProperty(e,t){this.element&&this.renderer.setProperty(this.element.nativeElement,e,t)}resize(){if(!this.autoSize)return;const e=this.element.nativeElement;this.renderer.setStyle(e,"overflow-y","hidden"),e.style.height=`${this.initialHeight}px`;const t=e.scrollHeight;t>this.initialHeight&&(e.style.height=`${t}px`)}handleInput(){const e=this.elementValue;this.value=e,(this.control||Te(this.onValueChange)||Te(this.valueChange))&&this.zone.run(()=>{this.ngChange(e),this.onValueChange.emit(e),this.valueChange.emit(e),this.changeDetector.markForCheck()}),this.resize()}handleFocus(){Te(this.onFocus)&&this.zone.run(()=>{this.onFocus.emit()})}handleBlur(){(Te(this.onBlur)||GD(this.control))&&this.zone.run(()=>{this.ngTouched(),this.onBlur.emit(),this.changeDetector.markForCheck()})}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(s.SKi),s.rXU(s.gRc),s.rXU(s.zZn),s.rXU(kc,8))},i.\u0275dir=s.FsC({type:i,selectors:[["textarea","kendoTextArea",""]],hostVars:13,hostBindings:function(e,t){2&e&&(s.BMQ("dir",t.direction),s.AVh("k-textarea",t.elementClasses)("k-input",t.elementClasses)("k-input-md",t.elementClasses)("k-rounded-md",t.elementClasses)("k-input-solid",t.elementClasses)("k-autofill",t.autofillClass))},inputs:{autoSize:"autoSize",value:"value"},outputs:{valueChange:"valueChange"},features:[s.Jv_([{provide:zn,useExisting:(0,s.Rfq)(()=>i),multi:!0},{provide:ji,useExisting:(0,s.Rfq)(()=>i)}]),s.OA$]}),i})();const dSe=/[eE][\-+]?([0-9]+)/,uSe=i=>i>=0?Math.floor(i):Math.ceil(i),XC=i=>{},WC=i=>!isNaN(i)&&null!==i;function hSe(i,n){const e=n-String(i).length;let t=i;if(e>0){const o=new Array(e+1).join("0");t=parseFloat(i+o)}return t}var KC=function(i){return i[i.Down=-1]="Down",i[i.None=0]="None",i[i.Up=1]="Up",i}(KC||{});let b5=(()=>{class i{constructor(){this.orientation="vertical",this.hostClass=!0}get vertical(){return"vertical"===this.orientation}get horizontal(){return"horizontal"===this.orientation}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-input-separator"],["kendo-textbox-separator"]],hostVars:6,hostBindings:function(e,t){2&e&&s.AVh("k-input-separator-vertical",t.vertical)("k-input-separator-horizontal",t.horizontal)("k-input-separator",t.hostClass)},inputs:{orientation:"orientation"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),E5=(()=>{class i extends yi{}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275dir=s.FsC({type:i,selectors:[["kendo-numerictextbox-messages-base"]],inputs:{decrement:"decrement",increment:"increment"},features:[s.Vt3]}),i})(),IJe=(()=>{class i extends E5{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoNumericTextBoxLocalizedMessages",""]],features:[s.Jv_([{provide:E5,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})(),Eq=(()=>{class i{constructor(e,t,o){this.ngZone=e,this.renderer=t,this.cdr=o,this.isFocusedChange=new s.bkB,this.onFocus=new s.bkB,this.handleBlur=new s.bkB,this.subscriptions=new be.yU}ngAfterViewInit(){const e=this.hostElement.nativeElement;let t=!1,o=!1;this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(e,"focusin",()=>{this.cdr.detectChanges(),this.isFocused||this.ngZone.run(()=>{this.onFocus.emit(),this.isFocused=!0,this.isFocusedChange.emit(this.isFocused)})})),this.subscriptions.add(this.renderer.listen(e,"focusout",r=>{this.isFocused&&(o?(((i,n)=>{for(;i&&i!==e;)i=i.parentNode;return i})(r.relatedTarget)||this.handleBlur.emit(),o=!1):!t&&!this?.clearButtonClicked&&this.handleBlur.emit())})),this.subscriptions.add(this.renderer.listen(e,"mouseenter",()=>{t=!0})),this.subscriptions.add(this.renderer.listen(e,"mouseleave",()=>{t=!1})),this.subscriptions.add(this.renderer.listen(e,"keydown",r=>{o=r.keyCode===G.Tab}))})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.SKi),s.rXU(s.sFG),s.rXU(s.gRc))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoInputSharedEvents",""]],inputs:{hostElement:"hostElement",clearButtonClicked:"clearButtonClicked",isFocused:"isFocused"},outputs:{isFocusedChange:"isFocusedChange",onFocus:"onFocus",handleBlur:"handleBlur"}}),i})();const pSe=["min","max","step","decimals"],RJe={decimals:null,max:null,min:null,step:1};let Dd=(()=>{class i{constructor(e,t,o,r,a,l,c){this.intl=e,this.renderer=t,this.localizationService=o,this.injector=r,this.ngZone=a,this.changeDetector=l,this.hostElement=c,this.focusableId=`k-${tn()}`,this.disabled=!1,this.readonly=!1,this.title="",this.autoCorrect=!1,this.decimals=null,this.step=1,this.spinners=!0,this.rangeValidation=!0,this.tabindex=0,this.changeValueOnScroll=!0,this.selectOnFocus=!0,this.value=null,this.valueChange=new s.bkB,this.onFocus=new s.bkB,this.onBlur=new s.bkB,this.inputFocus=new s.bkB,this.inputBlur=new s.bkB,this.ArrowDirection=KC,this.arrowDirection=KC.None,this.hostClasses=!0,this.arrowUpIcon=bu,this.arrowDownIcon=qo,this.inputValue="",this.minValidateFn=XC,this.maxValidateFn=XC,this._format="n2",this.isPasted=!1,this.mouseDown=!1,this._size="medium",this._rounded="medium",this._fillMode="solid",this.ngChange=XC,this.ngTouched=XC,this.ngValidatorChange=XC,this.domEvents=[],this.increasePress=u=>{this.arrowPress(KC.Up,u)},this.decreasePress=u=>{this.arrowPress(KC.Down,u)},this.releaseArrow=()=>{clearTimeout(this.spinTimeout),this.arrowDirection!==KC.None&&(this.arrowDirection=KC.None,this.changeDetector.detectChanges())},this.handlePaste=()=>{this.isPasted=!0},this.handleInput=()=>{const u=this.numericInput.nativeElement;let{selectionStart:f,selectionEnd:_,value:S}=u;if(this.pressedKey===G.NumpadDecimal&&(S=this.replaceNumpadDotValue()),this.isPasted&&(S=this.formatInputValue(this.intl.parseNumber(S))),!this.isValid(S))return u.value=this.inputValue,void this.setSelection(f-1,_-1);const v=this.intl.parseNumber(S);let b=this.restrictDecimals(v);if(this.autoCorrect){const D=this.limitInputValue(b);b=D.value,f=D.selectionStart,_=D.selectionEnd}v!==b||this.hasTrailingZeros(S)||!this.focused?(this.setInputValue(b),this.setSelection(f,_)):this.inputValue=S,this.isPasted&&(u.value=this.inputValue),this.updateValue(b),this.previousSelection=null,this.isPasted=!1},this.handleDragEnter=()=>{!this.focused&&!this.isDisabled&&this.setInputValue(this.value,!0)},this.handleMouseDown=()=>{this.mouseDown=!0},this.handleInputFocus=()=>{if(!this.focused){if(this.focused=!0,!this.isDisabled){const u=this.selectOnFocus||!this.mouseDown;this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{u?this.selectAll():this.selectCaret()},0)})}Te(this.onFocus)&&this.ngZone.run(()=>{this.onFocus.emit()})}this.mouseDown=!1,Te(this.inputFocus)&&this.ngZone.run(()=>{this.inputFocus.emit()})},this.handleBlur=()=>{this.changeDetector.markForCheck(),this.focused=!1,this.inputValue!==this.elementValue&&this.handleInput(),this.setInputValue(),Te(this.onBlur)&&this.ngZone.run(()=>{this.ngTouched(),this.onBlur.emit()})},this.handleInputBlur=()=>{this.changeDetector.markForCheck(),this.inputValue!==this.elementValue&&this.handleInput(),this.setInputValue(),(Te(this.inputBlur)||GD(this.control))&&this.ngZone.run(()=>{this.ngTouched(),this.inputBlur.emit()})},this.handleKeyDown=u=>{if(this.isDisabled)return;let f;u.keyCode===G.ArrowDown?f=-1:u.keyCode===G.ArrowUp&&(f=1),f&&this.step&&(u.preventDefault(),this.addStep(f));const _=this.numericInput.nativeElement;this.previousSelection={end:_.selectionEnd,start:_.selectionStart},this.pressedKey=u.keyCode},this.handleWheel=u=>{if(this.focused&&!this.isDisabled&&this.changeValueOnScroll){u.preventDefault();const f=(i=>{let n=0;return i.wheelDelta?(n=i.wheelDelta/120,n=n>0?Math.ceil(n):Math.floor(n)):i.detail&&(n=Math.round(-i.detail/3)),n})(u);this.addStep(f)}},(0,_t.$)(Tu),this.direction=o.rtl?"rtl":"ltr"}get format(){return this._format??"n2"}set format(e){this._format=e}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set size(e){const t=e||"medium";this.handleClasses(t,"size"),this._size=t}get size(){return this._size}set rounded(e){const t=e||"medium";this.handleClasses(t,"rounded"),this._rounded=t}get rounded(){return this._rounded}set fillMode(e){const t=e||"solid";this.handleClasses(t,"fillMode"),this._fillMode=t}get fillMode(){return this._fillMode}get disableClass(){return this.disabled}ngOnInit(){this.subscriptions=this.localizationService.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr"}),this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.control=this.injector.get(Ci,null),this.ngZone.runOutsideAngular(()=>{this.domEvents.push(this.renderer.listen(this.hostElement.nativeElement,"mousewheel",this.handleWheel.bind(this))),this.domEvents.push(this.renderer.listen(this.hostElement.nativeElement,"DOMMouseScroll",this.handleWheel.bind(this)))})}ngAfterViewInit(){["size","rounded","fillMode"].forEach(t=>{this.handleClasses(this[t],t)})}ngOnChanges(e){Fi(pSe,e,!1)&&this.parseOptions(pSe.filter(t=>e[t])),this.verifySettings(),Fi(["min","max","rangeValidation"],e,!1)&&(this.minValidateFn=this.rangeValidation?(i=>n=>!Ln(i)||!Ln(n.value)||n.value>=i?null:{minError:{minValue:i,value:n.value}})(this.min):XC,this.maxValidateFn=this.rangeValidation?(i=>n=>!Ln(i)||!Ln(n.value)||n.value<=i?null:{maxError:{maxValue:i,value:n.value}})(this.max):XC,this.ngValidatorChange()),Fi(["autoCorrect","decimals","min"],e)&&delete this.numericRegex,Fi(["value","format"],e,!1)&&(this.verifyValue(this.value),this.value=this.restrictModelValue(this.value),(!this.focused||this.intl.parseNumber(this.elementValue)!==this.value)&&this.setInputValue())}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),clearTimeout(this.spinTimeout),this.domEvents.forEach(e=>e())}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)}registerOnValidatorChange(e){this.ngValidatorChange=e}writeValue(e){this.verifyValue(e);const t=this.restrictModelValue(e);this.value=t,this.setInputValue()}registerOnChange(e){this.ngChange=e}registerOnTouched(e){this.ngTouched=e}setDisabledState(e){this.changeDetector.markForCheck(),this.disabled=e}focus(){f_(this.numericInput,"focus")}blur(){f_(this.numericInput,"blur")}notifyValueChange(){this.setInputValue()}handleFocus(){this.ngZone.run(()=>{!this.focused&&Te(this.onFocus)&&this.onFocus.emit(),this.focused=!0})}get incrementTitle(){return this.localizationService.get("increment")}get decrementTitle(){return this.localizationService.get("decrement")}get isControlInvalid(){return this.control&&this.control.touched&&!this.control.valid}get focused(){return this.isFocused}set focused(e){if(this.isFocused!==e&&this.hostElement){const t=this.hostElement.nativeElement;e?this.renderer.addClass(t,"k-focus"):this.renderer.removeClass(t,"k-focus"),this.isFocused=e}}get decimalSeparator(){return this.intl.numberSymbols().decimal}get elementValue(){return this.numericInput.nativeElement.value}set elementValue(e){this.renderer.setProperty(this.numericInput.nativeElement,"value",e)}get hasDecimals(){return null!==this.decimals&&this.decimals>=0}get isDisabled(){return this.disabled||this.readonly}arrowPress(e,t){t.preventDefault(),!this.isDisabled&&!(i=>i.button&&2===i.button||i.which&&3===i.which)(t)&&(dme||(this.focus(),this.focused=!0),this.arrowDirection!==e&&(this.arrowDirection=e,this.changeDetector.detectChanges()),this.step?this.spin(e,500):this.setInputValue())}updateValue(e){u_(this.value,e)||this.ngZone.run(()=>{this.value=e,this.ngChange(e),this.valueChange.emit(e),this.changeDetector.markForCheck()})}replaceNumpadDotValue(){let e=this.inputValue||"";if(this.previousSelection){const t=this.numericInput.nativeElement,{selectionStart:o,selectionEnd:r}=t,{start:a,end:l}=this.previousSelection;t.value=e=e.substring(0,a)+this.decimalSeparator+e.substring(l),this.setSelection(o,r)}return e}isValid(e){return this.numericRegex||(this.numericRegex=(i=>{const{autoCorrect:n,decimals:e,min:t}=i;let a,o=i.separator;return"."===o&&(o="\\"+o),a=0===e?"\\d*":`(?:(?:\\d+(${o}\\d*)?)|(?:${o}\\d*))?`,new RegExp(`^${n&&null!==t&&t>=0?"":"-?"}${a}$`)})({autoCorrect:this.autoCorrect,decimals:this.decimals,min:this.min,separator:this.decimalSeparator})),this.numericRegex.test(e)}spin(e,t){clearTimeout(this.spinTimeout),this.spinTimeout=window.setTimeout(()=>{this.spin(e,50)},t),this.addStep(e)}addStep(e){let t=$C(this.value||0,this.step*e);t=this.limitValue(t),t=this.restrictDecimals(t),this.setInputValue(t),this.updateValue(t)}setSelection(e,t){this.focused&&f_(this.numericInput,"setSelectionRange",e,t)}limitValue(e){let t=e;return this.isInRange(e)||(WC(this.max)&&e>this.max&&(t=this.max),WC(this.min)&&e<this.min&&(t=this.min)),t}limitInputValue(e){const{selectionStart:t,selectionEnd:o,value:r}=this.numericInput.nativeElement;let a=e,l=!1;if(!this.isInRange(e)){const c=r.length-String(this.inputValue).length,{min:u,max:f}=this,_=WC(f),S=WC(u);let v,b,D=e;if(0===t&&this.inputValue.substr(1)===r)return{selectionEnd:o,selectionStart:t,value:null};if(_&&e>f?e>0?b=!0:v=f:S&&e<u&&(e>0?v=u:b=!0),v){const k=this.tryPadValue(e,v);k&&uSe(e)!==uSe(v)&&(D=k,l=!0)}else b&&this.inputValue&&t!==r.length&&(D=parseFloat(r.substr(0,t)+r.substr(t+c)));a=this.limitValue(D),l=(l||a!==D)&&this.previousSelection&&this.previousSelection.end-this.previousSelection.start+c>0}return{selectionEnd:l?String(a).length:o,selectionStart:t,value:a}}tryPadValue(e,t){const o=String(Math.floor(t)).length,r=hSe(e,o),a=hSe(e,o+1);let l;return this.isInRange(r)?l=r:this.isInRange(a)&&(l=a),l}isInRange(e){return!WC(e)||(!WC(this.min)||this.min<=e)&&(!WC(this.max)||e<=this.max)}restrictModelValue(e){let t=this.restrictDecimals(e,!0);return this.autoCorrect&&this.limitValue(t)!==t&&(t=null),t}restrictDecimals(e,t){let o=e;if(e&&this.hasDecimals){const r=this.decimals,a=String(e);if(t||dSe.test(a))o=f5(e,r);else{const l=a.split(".");let c=l[1];c&&c.length>r&&(c=c.substr(0,r),o=parseFloat(`${l[0]}.${c}`))}}return o}formatInputValue(e){let t=Object.is(e,-0)?"-0":String(e);const o=dSe.exec(t);return o&&(t=e.toFixed(J1e(parseInt(o[1],10)))),t.replace(".",this.decimalSeparator)}formatValue(e,t){let o;return o=null!==e&&(i=>typeof i<"u")(e)&&""!==e?t&&!this.readonly?this.formatInputValue(e):this.intl.formatNumber(e,this.format):"",o}setInputValue(e=this.value,t=this.focused){const o=this.formatValue(e,t);this.elementValue=o,this.inputValue=o}verifySettings(){if((0,s.naY)()&&null!==this.min&&null!==this.max&&this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-max.")}verifyValue(e){if((0,s.naY)()&&e&&"number"!=typeof e)throw new Error(`The NumericTextBox component requires value of type Number and ${JSON.stringify(e)} was set.`)}parseOptions(e){for(let t=0;t<e.length;t++){const o=e[t],r=this[o];if("string"==typeof r){const a=parseFloat(r),l=!isNaN(a);if((0,s.naY)()&&!l&&""!==r)throw new Error(`The NumericTextBox component requires value of type Number or a String representing a number for the ${o} property and ${JSON.stringify(r)} was set.`);this[o]=l?a:RJe[o]}}}intlChange(){delete this.numericRegex,this.numericInput&&(!this.focused||!this.isValid(this.elementValue))&&this.setInputValue()}hasTrailingZeros(e){if(this.hasDecimals&&this.focused){const t=e.split(this.decimalSeparator)[1];return t&&t.length>this.decimals&&t.lastIndexOf("0")===t.length-1}}selectAll(){this.setInputValue(),this.setSelection(0,this.inputValue.length)}selectCaret(){const e=(i=>this.numericInput.nativeElement.selectionStart)(),t=this.elementValue,o=t.substring(0,e);if(this.setInputValue(),o.length){const r=((i,n)=>{const e=`${this.decimalSeparator}0123456789-`;return i.split("").reduce((t,o)=>e.includes(o)?++t:t,0)})(o),a=this.adjustSignificantChars(t,r);this.setSelection(a,a)}else this.setSelection(0,0)}numberOfLeadingZeroes(e){const t=e.indexOf(this.decimalSeparator),o=e.match(/^[^1-9]*?(0+)/);if(o){const a=o[1].length;return o[0].length===t?a-1:a}return 0}adjustSignificantChars(e,t){const o=this.numberOfLeadingZeroes(e);return o>0?Math.max(0,t-o):t}handleClasses(e,t){const o=this.hostElement.nativeElement,r=h_("input",t,this[t],e);r.toRemove&&this.renderer.removeClass(o,r.toRemove),r.toAdd&&this.renderer.addClass(o,r.toAdd)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(xt.Bs),s.rXU(s.sFG),s.rXU(z),s.rXU(s.zZn),s.rXU(s.SKi),s.rXU(s.gRc),s.rXU(s.aKT))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-numerictextbox"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,_I,5),s.wni(o,mI,5)),2&e){let r;s.mGM(r=s.lsd())&&(t.suffixTemplate=r.first),s.mGM(r=s.lsd())&&(t.prefixTemplate=r.first)}},viewQuery:function(e,t){if(1&e&&s.GBs(QWe,7),2&e){let o;s.mGM(o=s.lsd())&&(t.numericInput=o.first)}},hostVars:9,hostBindings:function(e,t){2&e&&(s.BMQ("dir",t.direction),s.AVh("k-readonly",t.readonly)("k-disabled",t.disableClass)("k-input",t.hostClasses)("k-numerictextbox",t.hostClasses))},inputs:{focusableId:"focusableId",disabled:"disabled",readonly:"readonly",title:"title",autoCorrect:"autoCorrect",format:"format",max:"max",min:"min",decimals:"decimals",placeholder:"placeholder",step:"step",spinners:"spinners",rangeValidation:"rangeValidation",tabindex:"tabindex",tabIndex:"tabIndex",changeValueOnScroll:"changeValueOnScroll",selectOnFocus:"selectOnFocus",value:"value",maxlength:"maxlength",size:"size",rounded:"rounded",fillMode:"fillMode"},outputs:{valueChange:"valueChange",onFocus:"focus",onBlur:"blur",inputFocus:"inputFocus",inputBlur:"inputBlur"},exportAs:["kendoNumericTextBox"],features:[s.Jv_([z,{provide:He,useValue:"kendo.numerictextbox"},{provide:zn,useExisting:(0,s.Rfq)(()=>i),multi:!0},{provide:Lo,useExisting:(0,s.Rfq)(()=>i),multi:!0},{provide:ji,useExisting:(0,s.Rfq)(()=>i)}]),s.OA$],decls:9,vars:27,consts:()=>{let n,e;return n="Aumenta",e="Decrementa",[["numericInput",""],["kendoNumericTextBoxLocalizedMessages","","increment",n,"decrement",e],["kendoInputSharedEvents","",3,"isFocusedChange","handleBlur","onFocus","hostElement","isFocused"],["class","k-input-prefix k-input-prefix-horizontal",4,"ngIf"],[4,"ngIf"],["role","spinbutton","autocomplete","off","autocorrect","off",1,"k-input-inner",3,"id","tabindex","disabled","readonly","kendoEventsOutsideAngular"],["class","k-input-suffix k-input-suffix-horizontal",4,"ngIf"],["class","k-input-spinner k-spin-button",3,"kendoEventsOutsideAngular",4,"ngIf"],[1,"k-input-prefix","k-input-prefix-horizontal"],[3,"ngTemplateOutlet"],[1,"k-input-suffix","k-input-suffix-horizontal"],[1,"k-input-spinner","k-spin-button",3,"kendoEventsOutsideAngular"],["type","button","tabindex","-1",1,"k-spinner-increase","k-button","k-button-md","k-icon-button","k-button-solid","k-button-solid-base",3,"kendoEventsOutsideAngular","title"],["name","caret-alt-up","innerCssClass","k-button-icon",3,"svgIcon"],["type","button","tabindex","-1",1,"k-spinner-decrease","k-button","k-button-md","k-icon-button","k-button-solid","k-button-solid-base",3,"kendoEventsOutsideAngular","title"],["name","caret-alt-down","innerCssClass","k-button-icon",3,"svgIcon"]]},template:function(e,t){if(1&e){const o=s.RV6();s.eu8(0,1),s.qex(1,2),s.mxI("isFocusedChange",function(a){return s.eBV(o),s.DH7(t.focused,a)||(t.focused=a),s.Njj(a)}),s.bIt("handleBlur",function(){return s.eBV(o),s.Njj(t.handleBlur())})("onFocus",function(){return s.eBV(o),s.Njj(t.handleFocus())}),s.DNE(2,nKe,2,1,"span",3)(3,iKe,1,0,"kendo-input-separator",4),s.nrm(4,"input",5,0),s.DNE(6,sKe,1,0,"kendo-input-separator",4)(7,rKe,2,1,"span",6)(8,aKe,5,22,"span",7),s.bVm()}2&e&&(s.R7$(),s.Y8G("hostElement",t.hostElement),s.R50("isFocused",t.focused),s.R7$(),s.Y8G("ngIf",t.prefixTemplate),s.R7$(),s.Y8G("ngIf",t.prefixTemplate&&t.prefixTemplate.showSeparator),s.R7$(),s.Y8G("id",t.focusableId)("tabindex",t.tabIndex)("disabled",t.disabled)("readonly",t.readonly)("kendoEventsOutsideAngular",s.sGs(19,ZWe,t.handleMouseDown,t.handleDragEnter,t.handleKeyDown,t.handleInput,t.handleInputFocus,t.handleInputBlur,t.handlePaste)),s.BMQ("aria-valuemin",t.min)("aria-valuemax",t.max)("aria-valuenow",t.value)("title",t.title)("placeholder",t.placeholder)("maxLength",t.maxlength)("aria-invalid",t.isControlInvalid),s.R7$(2),s.Y8G("ngIf",t.suffixTemplate&&(null==t.suffixTemplate?null:t.suffixTemplate.showSeparator)),s.R7$(),s.Y8G("ngIf",t.suffixTemplate),s.R7$(),s.Y8G("ngIf",t.spinners))},dependencies:[b5,Qe,IJe,Eq,q,qe,xo],encapsulation:2}),i})(),zI=(()=>{class i extends E5{constructor(e){super(),this.service=e}get override(){return!0}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-numerictextbox-messages"]],features:[s.Jv_([{provide:E5,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})();Promise.resolve(null);let gSe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,wD,No,Mr],wD,No,Mr]}),i})(),SSe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,gSe,xn,cr]]}),i})(),UJe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,gSe]]}),i})(),vSe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,No,Mr]]}),i})(),y5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({}),i})(),D5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({}),i})(),FD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,No,xn,y5,Oc,D5],Oc]}),i})(),FJe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,No,y5,Oc,D5],Oc]}),i})(),VJe=(()=>{class i{constructor(e){this.templateRef=e,this._showSeparator=!1}set showSeparator(e){this._showSeparator=e}get showSeparator(){return this._showSeparator}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoTextBoxSuffixTemplate",""]],inputs:{showSeparator:"showSeparator"}}),i})(),yq=(()=>{class i{constructor(e){this.templateRef=e,this._showSeparator=!1}set showSeparator(e){this._showSeparator=e}get showSeparator(){return this._showSeparator}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoTextBoxPrefixTemplate",""]],inputs:{showSeparator:"showSeparator"}}),i})(),CSe=(()=>{class i extends yi{}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275dir=s.FsC({type:i,selectors:[["kendo-textbox-messages-base"]],inputs:{clear:"clear"},features:[s.Vt3]}),i})(),zJe=(()=>{class i extends CSe{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoTextBoxLocalizedMessages",""]],features:[s.Jv_([{provide:CSe,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})();const XJe={checkIcon:EC,exclamationCircleIcon:pD,xIcon:go};let xh=(()=>{class i{constructor(e,t,o,r,a,l){this.localizationService=e,this.ngZone=t,this.changeDetector=o,this.renderer=r,this.injector=a,this.hostElement=l,this.focusableId=`k-${tn()}`,this.title="",this.type="text",this.disabled=!1,this.readonly=!1,this.tabindex=0,this.value=null,this.selectOnFocus=!1,this.showSuccessIcon=!1,this.showErrorIcon=!1,this.clearButton=!1,this.valueChange=new s.bkB,this.inputFocus=new s.bkB,this.inputBlur=new s.bkB,this.onFocus=new s.bkB,this.onBlur=new s.bkB,this.hostClasses=!0,this._isFocused=!1,this.focusChangedProgrammatically=!1,this._size="medium",this._rounded="medium",this._fillMode="solid",this.handleInputFocus=()=>{this.disabled||(this.selectOnFocus&&this.value&&this.ngZone.run(()=>{setTimeout(()=>{this.selectAll()})}),this.isFocused||this.handleFocus(),Te(this.inputFocus)&&(!this.focusChangedProgrammatically||this.focusChangedProgrammatically&&this.clearButtonClicked)&&this.ngZone.run(()=>{this.inputFocus.emit()}))},this.handleInputBlur=()=>{this.changeDetector.markForCheck(),(Te(this.inputBlur)||GD(this.control))&&this.ngZone.run(()=>{this.ngTouched(),this.inputBlur.emit()})},this.handleInput=c=>{const u=c.target,f=kG(navigator.userAgent),_=f&&(i=>/[\u3000-\u303F]|[\u3040-\u309F]|[\u30A0-\u30FF]|[\uFF00-\uFFEF]|[\u4E00-\u9FAF]|[\u2605-\u2606]|[\u2190-\u2195]|\u203B/g.test(i))(u.value)?c.data:u.value,[S,v]=[u.selectionStart,u.selectionEnd];this.updateValue(_),f&&u.setSelectionRange(S,v)},this.ngChange=c=>{},this.ngTouched=()=>{},(0,_t.$)(Tu),this.direction=e.rtl?"rtl":"ltr"}set size(e){const t=e||"medium";this.handleClasses(t,"size"),this._size=t}get size(){return this._size}set rounded(e){const t=e||"medium";this.handleClasses(t,"rounded"),this._rounded=t}get rounded(){return this._rounded}set fillMode(e){const t=e||"solid";this.handleClasses(t,"fillMode"),this._fillMode=t}get fillMode(){return this._fillMode}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}get disabledClass(){return this.disabled}ngOnInit(){this.control=this.injector.get(Ci,null),this.checkClearButton(),this.subscriptions=this.localizationService.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr"})}ngAfterViewInit(){["size","rounded","fillMode"].forEach(t=>{this.handleClasses(this[t],t)})}ngAfterContentInit(){this.configureAdornments(),this.subscriptions.add(this.textBoxPrefixTemplate.changes.subscribe(this.configureAdornments.bind(this))),this.subscriptions.add(this.textBoxSuffixTemplate.changes.subscribe(this.configureAdornments.bind(this)))}ngOnChanges(e){(e.disabled||e.readonly||e.value)&&this.checkClearButton()}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}svgIcon(e){return XJe[e]}focus(){this.input&&(this.focusChangedProgrammatically=!0,this.isFocused=!0,this.input.nativeElement.focus(),this.focusChangedProgrammatically=!1)}blur(){this.focusChangedProgrammatically=!0;const e=this.hostElement.nativeElement.querySelector(":focus");e&&e.blur(),this.isFocused=!1,this.focusChangedProgrammatically=!1}clearTitle(){return this.localizationService.get("clear")}checkClearButton(){this.showClearButton=!this.disabled&&!this.readonly&&this.clearButton&&!!this.value}clearValue(e){e&&e.preventDefault(),this.clearButtonClicked=!0,this.input.nativeElement.value="",this.input.nativeElement.focus(),this.updateValue(""),this.checkClearButton(),this.clearButtonClicked=!1}writeValue(e){this.value=e,this.checkClearButton()}registerOnChange(e){this.ngChange=e}registerOnTouched(e){this.ngTouched=e}setDisabledState(e){this.changeDetector.markForCheck(),this.disabled=e}showErrorsInitial(){if(!this.control)return!1;const{invalid:e,dirty:t,touched:o}=this.control;return e&&(t||o)}showSuccessInitial(){if(!this.control)return!1;const{valid:e,dirty:t,touched:o}=this.control;return e&&(t||o)}get isControlInvalid(){return this.control&&this.control.touched&&!this.control.valid}get successIconClasses(){if(!this.successIcon)return"check"}get customSuccessIconClasses(){if(this.successIcon)return this.successIcon}get errorIconClasses(){if(!this.errorIcon)return"exclamation-circle"}get customIconClasses(){if(this.errorIcon)return this.errorIcon}get customClearButtonClasses(){if(this.clearButtonIcon)return this.clearButtonIcon}get clearButtonClass(){if(!this.clearButtonIcon)return"x"}get hasErrors(){return"initial"===this.showErrorIcon?this.showErrorsInitial():this.showErrorIcon}get isSuccessful(){return"initial"===this.showSuccessIcon?this.showSuccessInitial():this.showSuccessIcon}get isFocused(){return this._isFocused}set isFocused(e){if(this._isFocused!==e&&this.hostElement){const t=this.hostElement.nativeElement;e&&!this.disabled?this.renderer.addClass(t,"k-focus"):this.renderer.removeClass(t,"k-focus"),this._isFocused=e}}setSelection(e,t){this.isFocused&&f_(this.input,"setSelectionRange",e,t)}selectAll(){this.value&&this.setSelection(0,this.value.length)}updateValue(e){u_(this.value,e)||this.ngZone.run(()=>{this.value=e,this.ngChange(e),this.valueChange.emit(e),this.checkClearButton(),this.changeDetector.markForCheck()})}handleFocus(){this.ngZone.run(()=>{!this.focusChangedProgrammatically&&Te(this.onFocus)&&this.onFocus.emit(),this.isFocused=!0})}handleBlur(){this.ngZone.run(()=>{this.focusChangedProgrammatically||this.onBlur.emit(),this.isFocused=!1})}handleClasses(e,t){const o=this.hostElement.nativeElement,r=h_("input",t,this[t],e);r.toRemove&&this.renderer.removeClass(o,r.toRemove),r.toAdd&&this.renderer.addClass(o,r.toAdd)}configureAdornments(){this.prefix=this.textBoxPrefixTemplate.first||this.prefixTemplate,this.suffix=this.textBoxSuffixTemplate.first||this.suffixTemplate}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z),s.rXU(s.SKi),s.rXU(s.gRc),s.rXU(s.sFG),s.rXU(s.zZn),s.rXU(s.aKT))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-textbox"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,_I,5),s.wni(o,mI,5),s.wni(o,VJe,4),s.wni(o,yq,4)),2&e){let r;s.mGM(r=s.lsd())&&(t.suffixTemplate=r.first),s.mGM(r=s.lsd())&&(t.prefixTemplate=r.first),s.mGM(r=s.lsd())&&(t.textBoxSuffixTemplate=r),s.mGM(r=s.lsd())&&(t.textBoxPrefixTemplate=r)}},viewQuery:function(e,t){if(1&e&&s.GBs(H1e,7),2&e){let o;s.mGM(o=s.lsd())&&(t.input=o.first)}},hostVars:9,hostBindings:function(e,t){2&e&&(s.BMQ("dir",t.direction),s.AVh("k-readonly",t.readonly)("k-disabled",t.disabledClass)("k-textbox",t.hostClasses)("k-input",t.hostClasses))},inputs:{focusableId:"focusableId",title:"title",type:"type",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",value:"value",selectOnFocus:"selectOnFocus",showSuccessIcon:"showSuccessIcon",showErrorIcon:"showErrorIcon",clearButton:"clearButton",successIcon:"successIcon",successSvgIcon:"successSvgIcon",errorIcon:"errorIcon",errorSvgIcon:"errorSvgIcon",clearButtonIcon:"clearButtonIcon",clearButtonSvgIcon:"clearButtonSvgIcon",size:"size",rounded:"rounded",fillMode:"fillMode",tabIndex:"tabIndex",placeholder:"placeholder",maxlength:"maxlength"},outputs:{valueChange:"valueChange",inputFocus:"inputFocus",inputBlur:"inputBlur",onFocus:"focus",onBlur:"blur"},exportAs:["kendoTextBox"],features:[s.Jv_([z,{provide:He,useValue:"kendo.textbox"},{provide:zn,useExisting:(0,s.Rfq)(()=>i),multi:!0},{provide:ji,useExisting:(0,s.Rfq)(()=>i)}]),s.OA$],decls:12,vars:25,consts:()=>{let n;return n="Cancella",[["input",""],["kendoTextBoxLocalizedMessages","","clear",n],["kendoInputSharedEvents","",3,"isFocusedChange","handleBlur","onFocus","hostElement","isFocused","clearButtonClicked"],["class","k-input-prefix k-input-prefix-horizontal",4,"ngIf"],[4,"ngIf"],[1,"k-input-inner",3,"id","disabled","readonly","value","kendoEventsOutsideAngular"],["role","button","class","k-clear-value",3,"tabindex","title","click","mousedown","keydown.enter","keydown.space",4,"ngIf"],["innerCssClass","k-input-validation-icon",3,"name","customFontClass","svgIcon",4,"ngIf"],["class","k-input-suffix k-input-suffix-horizontal",4,"ngIf"],[1,"k-input-prefix","k-input-prefix-horizontal"],[3,"ngTemplateOutlet"],["role","button",1,"k-clear-value",3,"click","mousedown","keydown.enter","keydown.space","tabindex","title"],[3,"name","customFontClass","svgIcon"],["innerCssClass","k-input-validation-icon",3,"name","customFontClass","svgIcon"],[1,"k-input-suffix","k-input-suffix-horizontal"]]},template:function(e,t){if(1&e){const o=s.RV6();s.eu8(0,1),s.qex(1,2),s.mxI("isFocusedChange",function(a){return s.eBV(o),s.DH7(t.isFocused,a)||(t.isFocused=a),s.Njj(a)}),s.bIt("handleBlur",function(){return s.eBV(o),s.Njj(t.handleBlur())})("onFocus",function(){return s.eBV(o),s.Njj(t.handleFocus())}),s.DNE(2,uKe,2,1,"span",3)(3,hKe,1,0,"kendo-input-separator",4),s.nrm(4,"input",5,0),s.DNE(6,pKe,2,6,"span",6)(7,fKe,1,3,"kendo-icon-wrapper",7)(8,mKe,1,3,"kendo-icon-wrapper",7)(9,_Ke,1,0,"kendo-input-separator",4)(10,SKe,2,1,"span",8),s.eu8(11),s.bVm()}2&e&&(s.R7$(),s.Y8G("hostElement",t.hostElement),s.R50("isFocused",t.isFocused),s.Y8G("clearButtonClicked",t.clearButtonClicked),s.R7$(),s.Y8G("ngIf",t.prefix),s.R7$(),s.Y8G("ngIf",t.prefix&&t.prefix.showSeparator),s.R7$(),s.Y8G("id",t.focusableId)("disabled",t.disabled)("readonly",t.readonly)("value",t.value)("kendoEventsOutsideAngular",s.sMw(21,j1e,t.handleInputFocus,t.handleInputBlur,t.handleInput)),s.BMQ("tabindex",t.disabled?void 0:t.tabindex)("type",t.type)("placeholder",t.placeholder)("title",t.title)("maxlength",t.maxlength)("aria-invalid",t.isControlInvalid),s.R7$(2),s.Y8G("ngIf",t.showClearButton),s.R7$(),s.Y8G("ngIf",t.hasErrors),s.R7$(),s.Y8G("ngIf",t.isSuccessful),s.R7$(),s.Y8G("ngIf",t.suffix&&t.suffix.showSeparator),s.R7$(),s.Y8G("ngIf",t.suffix))},dependencies:[b5,Qe,zJe,Eq,q,qe,xo],encapsulation:2}),i})(),YC=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,No,y5,xn,Oc,D5],No,Oc]}),i})(),WJe=(()=>{class i{constructor(e,t,o,r,a,l){this.localizationService=e,this.ngZone=t,this.changeDetector=o,this.renderer=r,this.injector=a,this.hostElement=l,this.title="",this.disabled=!1,this.readonly=!1,this.value=null,this.selectOnFocus=!1,this.inputFocus=new s.bkB,this.inputBlur=new s.bkB,this.subscriptions=new be.yU,this._isFocused=!1,this.focusChangedProgrammatically=!1,this.handleInputBlur=()=>{this.changeDetector.markForCheck(),(Te(this.inputBlur)||GD(this.control))&&this.ngZone.run(()=>{this.ngTouched(),this.inputBlur.emit()})},this.ngChange=c=>{},this.ngTouched=()=>{}}get disabledClass(){return this.disabled}ngOnDestroy(){this.subscriptions.unsubscribe()}setDisabledState(e){this.changeDetector.markForCheck(),this.disabled=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z),s.rXU(s.SKi),s.rXU(s.gRc),s.rXU(s.sFG),s.rXU(s.zZn),s.rXU(s.aKT))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-textfield-base"]],viewQuery:function(e,t){if(1&e&&s.GBs(H1e,7),2&e){let o;s.mGM(o=s.lsd())&&(t.input=o.first)}},hostVars:5,hostBindings:function(e,t){2&e&&(s.BMQ("dir",t.direction),s.AVh("k-readonly",t.readonly)("k-disabled",t.disabledClass))},inputs:{title:"title",disabled:"disabled",readonly:"readonly",value:"value",selectOnFocus:"selectOnFocus",placeholder:"placeholder"},outputs:{inputFocus:"inputFocus",inputBlur:"inputBlur"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),KJe=(()=>{class i{constructor(){this.flow="vertical",this.orientation="horizontal",this.hostClass=!0}get verticalOrientation(){return"vertical"===this.orientation}get horizontalOrientation(){return"horizontal"===this.orientation}get alignItems(){return this.flow===this.orientation}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-textarea-prefix"]],hostVars:8,hostBindings:function(e,t){2&e&&s.AVh("k-input-prefix",t.hostClass)("k-input-prefix-vertical",t.verticalOrientation)("k-input-prefix-horizontal",t.horizontalOrientation)("!k-align-items-start",t.alignItems)},inputs:{flow:"flow",orientation:"orientation"},exportAs:["kendoTextAreaPrefix"],ngContentSelectors:p5,decls:1,vars:0,template:function(e,t){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2}),i})(),YJe=(()=>{class i{constructor(){this.flow="vertical",this.orientation="horizontal",this.hostClass=!0}get verticalOrientation(){return"vertical"===this.orientation}get horizontalOrientation(){return"horizontal"===this.orientation}get alignItems(){return this.flow===this.orientation}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-textarea-suffix"]],hostVars:8,hostBindings:function(e,t){2&e&&s.AVh("k-input-suffix",t.hostClass)("k-input-suffix-vertical",t.verticalOrientation)("k-input-suffix-horizontal",t.horizontalOrientation)("!k-align-items-start",t.alignItems)},inputs:{flow:"flow",orientation:"orientation"},exportAs:["kendoTextAreaSuffix"],ngContentSelectors:p5,decls:1,vars:0,template:function(e,t){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2}),i})();const JJe={vertical:"k-resize-y",horizontal:"k-resize-x",both:"k-resize",none:"k-resize-none",auto:"k-resize-none"};let Dq=(()=>{class i extends WJe{constructor(e,t,o,r,a,l){super(e,t,o,r,a,l),this.localizationService=e,this.ngZone=t,this.changeDetector=o,this.renderer=r,this.injector=a,this.hostElement=l,this.focusableId=`k-${tn()}`,this.hostClasses=!0,this._flow="vertical",this.tabindex=0,this.resizable="vertical",this.showPrefixSeparator=!1,this.showSuffixSeparator=!1,this.onFocus=new s.bkB,this.onBlur=new s.bkB,this.valueChange=new s.bkB,this._size="medium",this._rounded="medium",this._fillMode="solid",this._adornmentsOrientation="horizontal",this.handleInput=c=>{this.updateValue(c.target.value),this.resize()},this.handleInputFocus=()=>{this.disabled||(this.selectOnFocus&&this.value&&this.ngZone.run(()=>{setTimeout(()=>{this.selectAll()})}),this.isFocused||this.handleFocus(),Te(this.inputFocus)&&(this.focusChangedProgrammatically||this.ngZone.run(()=>{this.inputFocus.emit()})))},(0,_t.$)(Tu),this.direction=e.rtl?"rtl":"ltr"}get flowCol(){return"vertical"===this.flow}get flowRow(){return"horizontal"===this.flow}set flow(e){this._flow=e,this.prefix&&(this.prefix.flow=e),this.suffix&&(this.suffix.flow=e)}get flow(){return this._flow}set adornmentsOrientation(e){this._adornmentsOrientation=e,this.prefix&&(this.prefix.orientation=e),this.suffix&&(this.suffix.orientation=e)}get adornmentsOrientation(){return this._adornmentsOrientation}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set size(e){const t=e||"medium";this.handleClasses(t,"size"),this._size=t}get size(){return this._size}set rounded(e){const t=e||"medium";this.handleClasses(t,"rounded"),this._rounded=t}get rounded(){return this._rounded}set fillMode(e){const t=e||"solid";this.handleClasses(t,"fillMode"),this._fillMode=t}get fillMode(){return this._fillMode}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.handleFlow()}),["size","rounded","fillMode"].forEach(t=>{this.handleClasses(this[t],t)})}ngOnInit(){this.control=this.injector.get(Ci,null),ne()&&"auto"===this.resizable&&(this.resizeSubscription=Dt(window,"resize").pipe(J1(50)).subscribe(()=>this.resize())),this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.subscriptions=this.localizationService.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr"})}ngOnChanges(e){const t=this.hostElement.nativeElement,o=this.input.nativeElement;e.flow&&this.handleFlow(),e.resizable&&("auto"===this.resizable?(this.renderer.removeClass(o,"!k-overflow-y-auto"),this.initialHeight=o.offsetHeight):(this.renderer.addClass(o,"!k-overflow-y-auto"),o.style.height=`${this.initialHeight}px`)),e.cols&&(Ln(e.cols.currentValue)?this.renderer.setStyle(t,"width","auto"):this.renderer.removeStyle(t,"width")),e.value&&this.resize()}writeValue(e){this.value=e,this.resize()}registerOnChange(e){this.ngChange=e}registerOnTouched(e){this.ngTouched=e}updateValue(e){u_(this.value,e)||this.ngZone.run(()=>{this.value=e,this.ngChange(e),this.valueChange.emit(e),this.changeDetector.markForCheck()})}ngOnDestroy(){super.ngOnDestroy(),this.resizeSubscription&&this.resizeSubscription.unsubscribe()}get resizableClass(){return JJe[this.resizable]}get isControlInvalid(){return this.control&&this.control.touched&&!this.control.valid}get separatorOrientation(){return"horizontal"===this.flow?"vertical":"horizontal"}get isFocused(){return this._isFocused}set isFocused(e){if(this._isFocused!==e&&this.hostElement){const t=this.hostElement.nativeElement;e&&!this.disabled?this.renderer.addClass(t,"k-focus"):this.renderer.removeClass(t,"k-focus"),this._isFocused=e}}focus(){this.input&&(this.focusChangedProgrammatically=!0,this.isFocused=!0,this.input.nativeElement.focus(),this.focusChangedProgrammatically=!1)}blur(){this.focusChangedProgrammatically=!0;const e=this.hostElement.nativeElement.querySelector(":focus");e&&e.blur(),this.isFocused=!1,this.focusChangedProgrammatically=!1}resize(){"auto"===this.resizable&&this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{const e=this.hostElement.nativeElement,t=this.input.nativeElement;this.renderer.setStyle(t,"height",`${this.initialHeight}px`);const o=t.scrollHeight;this.renderer.setStyle(e,"min-height",`${o}px`),o>this.initialHeight&&this.renderer.setStyle(t,"height",`${o}px`)},0)})}handleFocus(){this.ngZone.run(()=>{!this.focusChangedProgrammatically&&Te(this.onFocus)&&this.onFocus.emit(),this.isFocused=!0})}handleBlur(){this.ngZone.run(()=>{this.focusChangedProgrammatically||this.onBlur.emit(),this.isFocused=!1})}setSelection(e,t){this.isFocused&&f_(this.input,"setSelectionRange",e,t)}selectAll(){this.value&&this.setSelection(0,this.value.length)}handleClasses(e,t){const o=this.hostElement.nativeElement,r=h_("input",t,this[t],e);r.toRemove&&this.renderer.removeClass(o,r.toRemove),r.toAdd&&this.renderer.addClass(o,r.toAdd)}handleFlow(){this.renderer["vertical"===this.flow?"addClass":"removeClass"](this.input.nativeElement,"!k-flex-none")}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z),s.rXU(s.SKi),s.rXU(s.gRc),s.rXU(s.sFG),s.rXU(s.zZn),s.rXU(s.aKT))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-textarea"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,KJe,5),s.wni(o,YJe,5)),2&e){let r;s.mGM(r=s.lsd())&&(t.prefix=r.first),s.mGM(r=s.lsd())&&(t.suffix=r.first)}},hostVars:8,hostBindings:function(e,t){2&e&&s.AVh("k-textarea",t.hostClasses)("k-input",t.hostClasses)("!k-flex-col",t.flowCol)("!k-flex-row",t.flowRow)},inputs:{focusableId:"focusableId",flow:"flow",adornmentsOrientation:"adornmentsOrientation",rows:"rows",cols:"cols",maxlength:"maxlength",tabindex:"tabindex",tabIndex:"tabIndex",resizable:"resizable",size:"size",rounded:"rounded",fillMode:"fillMode",showPrefixSeparator:"showPrefixSeparator",showSuffixSeparator:"showSuffixSeparator"},outputs:{onFocus:"focus",onBlur:"blur",valueChange:"valueChange"},exportAs:["kendoTextArea"],features:[s.Jv_([z,{provide:He,useValue:"kendo.textarea"},{provide:zn,useExisting:(0,s.Rfq)(()=>i),multi:!0},{provide:ji,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3,s.OA$],ngContentSelectors:CKe,decls:8,vars:24,consts:[["input",""],["kendoInputSharedEvents","",3,"isFocusedChange","handleBlur","onFocus","hostElement","isFocused"],[3,"orientation",4,"ngIf"],[1,"k-input-inner","!k-overflow-auto",3,"ngClass","id","value","disabled","readonly","kendoEventsOutsideAngular"],[3,"orientation"]],template:function(e,t){if(1&e){const o=s.RV6();s.NAR(vKe),s.qex(0,1),s.mxI("isFocusedChange",function(a){return s.eBV(o),s.DH7(t.isFocused,a)||(t.isFocused=a),s.Njj(a)}),s.bIt("handleBlur",function(){return s.eBV(o),s.Njj(t.handleBlur())})("onFocus",function(){return s.eBV(o),s.Njj(t.handleFocus())}),s.SdG(1),s.DNE(2,bKe,1,1,"kendo-input-separator",2),s.j41(3,"textarea",3,0),s.EFF(5,"            "),s.k0s(),s.DNE(6,EKe,1,1,"kendo-input-separator",2),s.SdG(7,1),s.bVm()}2&e&&(s.Y8G("hostElement",t.hostElement),s.R50("isFocused",t.isFocused),s.R7$(2),s.Y8G("ngIf",t.prefix&&t.showPrefixSeparator),s.R7$(),s.Y8G("ngClass",t.resizableClass)("id",t.focusableId)("value",t.value)("disabled",t.disabled)("readonly",t.readonly)("kendoEventsOutsideAngular",s.sMw(20,j1e,t.handleInputFocus,t.handleInputBlur,t.handleInput)),s.BMQ("aria-multiline",!0)("aria-disabled",!!t.disabled||void 0)("aria-readonly",!!t.readonly||void 0)("placeholder",t.placeholder)("rows",t.rows)("cols",t.cols)("tabindex",t.tabIndex)("title",t.title)("maxlength",t.maxlength)("aria-invalid",t.isControlInvalid),s.R7$(3),s.Y8G("ngIf",t.suffix&&t.showSuffixSeparator))},dependencies:[b5,Eq,q,Be,xo],encapsulation:2}),i})(),wq=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,No,y5,Oc,D5],No,Oc]}),i})(),kq=(()=>{class i extends z{constructor(e,t,o){super(e,t,o)}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(He),s.KVO(Cu,8),s.KVO(kc,8))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),w5=(()=>{class i extends z{constructor(e,t,o,r){super(e,t,o),this.colorPickerLocalization=r}get(e){return this.colorPickerLocalization?this.colorPickerLocalization.get(e):super.get(e)}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(He),s.KVO(Cu,8),s.KVO(kc,8),s.KVO(kq,8))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const kSe="accessible",JC={basic:{colors:"000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",columns:10},office:{colors:"ffffff, 000000, e6e6e6, 435569, 4371c4, ed7e32, a5a4a5, febf04, 5a9bd5, 71ae48, f2f2f3, 7f7f7f, d1cece, d5dde3, dae1f4, fce5d4, deeded, fff2cc, deeaf6, e1efd9, d7d8d8, 585959, aeabab, adbaca, b4c5e7, f6caac, dbdbdb, ffe498, bcd6ee, c5e0b2, bfbfc0, 3f3f3f, 767070, 8595b1, 8fabdb, f5b183, c9c8c9, fed965, 9bc4e5, a8d08d, a5a5a6, 262625, 393939, 334050, 2e5496, c45a11, 7b7b7a, bf9000, 2f75b5, 548235, 7f7f7f, 0b0c0c, 161616, 222a34, 203764, 843d0b, 525252, 7f6000, 1d4d79, 375623",columns:10},apex:{colors:"ffffff, 000000, c9c2d1, 69676d, ceb966, 9cb084, 6bb1c9, 6585cf, 7e6bc9, a379bb, f2f2f2, 7f7f7f, f4f2f5, e0e0e2, f5f1e0, ebefe6, e1eff4, e0e6f5, e5e1f4, ece4f1, d8d8d8, 595959, e9e6ec, c2c1c5, ebe3c1, d7dfcd, c3dfe9, c1ceeb, cbc3e9, dac9e3, bfbfbf, 3f3f3f, dedae3, a4a3a8, e1d5a3, c3cfb5, a6d0de, a2b5e2, b1a6de, c7aed6, a5a5a5, 262626, 9688a5, 4e4d51, ae9638, 758c5a, 3d8da9, 365bb0, 533da9, 7d4d99, 7f7f7f, 0c0c0c, 635672, 343336, 746425, 4e5d3c, 295e70, 243c75, 372970, 533366",columns:10},austin:{colors:"ffffff, 000000, caf278, 3e3d2d, 94c600, 71685a, ff6700, 909465, 956b43, fea022, f2f2f2, 7f7f7f, f4fce4, dddcd0, efffc0, e3e1dc, ffe0cb, e8e9df, ece1d6, feecd2, d8d8d8, 595959, e9f9c9, bbb9a1, dfff82, c8c3ba, ffc299, d2d4c0, dac3ad, fed9a6, bfbfbf, 3f3f3f, dff7ae, ada598, cfff43, ada598, ffa365, bcbfa1, c8a585, fec67a, a5a5a5, 262626, a9ea25, 2e2d21, 6f9400, 544e43, bf4d00, 6c6f4b, 6f5032, d77b00, 7f7f7f, 0c0c0c, 74a50f, 1f1e16, 4a6300, 38342d, 7f3300, 484a32, 4a3521, 8f5200",columns:10},clarity:{colors:"ffffff, 292934, f3f2dc, d2533c, 93a299, ad8f67, 726056, 4c5a6a, 808da0, 79463d, f2f2f2, e7e7ec, e7e5b9, f6dcd8, e9ecea, eee8e0, e4dedb, d8dde3, e5e8ec, e9d6d3, d8d8d8, c4c4d1, d5d185, edbab1, d3d9d6, ded2c2, c9beb8, b2bcc8, ccd1d9, d3aea7, bfbfbf, 8a8aa3, aca73b, e4978a, bec7c1, cdbba3, af9e94, 8c9bac, b2bac6, bd857c, a5a5a5, 56566e, 56531d, a43925, 6b7c72, 866b48, 554840, 39434f, 5c697b, 5a342d, 7f7f7f, 3b3b4b, 22210b, 6d2619, 47534c, 594730, 39302b, 262d35, 3d4652, 3c231e",columns:10},slipstream:{colors:"ffffff, 000000, b4dcfa, 212745, 4e67c8, 5eccf3, a7ea52, 5dceaf, ff8021, f14124, f2f2f2, 7f7f7f, 8bc9f7, c7cce4, dbe0f4, def4fc, edfadc, def5ef, ffe5d2, fcd9d3, d8d8d8, 595959, 4facf3, 909aca, b8c2e9, beeafa, dbf6b9, beebdf, ffcca6, f9b3a7, bfbfbf, 3f3f3f, 0d78c9, 5967af, 94a3de, 9ee0f7, caf297, 9de1cf, ffb279, f68d7b, a5a5a5, 262626, 063c64, 181d33, 31479f, 11b2eb, 81d319, 34ac8b, d85c00, c3260c, 7f7f7f, 0c0c0c, 021828, 101322, 202f6a, 0b769c, 568c11, 22725c, 903d00, 821908",columns:10},metro:{colors:"ffffff, 000000, d6ecff, 4e5b6f, 7fd13b, ea157a, feb80a, 00addc, 738ac8, 1ab39f, f2f2f2, 7f7f7f, a7d6ff, d9dde4, e5f5d7, fad0e4, fef0cd, c5f2ff, e2e7f4, c9f7f1, d8d8d8, 595959, 60b5ff, b3bcca, cbecb0, f6a1c9, fee29c, 8be6ff, c7d0e9, 94efe3, bfbfbf, 3f3f3f, 007dea, 8d9baf, b2e389, f272af, fed46b, 51d9ff, aab8de, 5fe7d5, a5a5a5, 262626, 003e75, 3a4453, 5ea226, af0f5b, c58c00, 0081a5, 425ea9, 138677, 7f7f7f, 0c0c0c, 00192e, 272d37, 3f6c19, 750a3d, 835d00, 00566e, 2c3f71, 0c594f",columns:10},flow:{colors:"ffffff, 000000, dbf5f9, 04617b, 0f6fc6, 009dd9, 0bd0d9, 10cf9b, 7cca62, a5c249, f2f2f2, 7f7f7f, b2e9f2, b4ecfc, c7e2fa, c4eeff, c9fafc, c9faed, e4f4df, edf2da, d8d8d8, 595959, 76d9e8, 6adafa, 90c6f6, 89deff, 93f5f9, 94f6db, cae9c0, dbe6b6, bfbfbf, 3f3f3f, 21b2c8, 20c8f7, 59a9f2, 4fceff, 5df0f6, 5ff2ca, b0dfa0, c9da91, a5a5a5, 262626, 105964, 02485c, 0b5394, 0075a2, 089ca2, 0b9b74, 54a838, 7e9532, 7f7f7f, 0c0c0c, 062328, 01303d, 073763, 004e6c, 05686c, 07674d, 387025, 546321",columns:10},hardcover:{colors:"ffffff, 000000, ece9c6, 895d1d, 873624, d6862d, d0be40, 877f6c, 972109, aeb795, f2f2f2, 7f7f7f, e1dca5, f2e0c6, f0d0c9, f6e6d5, f5f2d8, e7e5e1, fbc7bc, eef0e9, d8d8d8, 595959, d0c974, e6c28d, e2a293, eeceaa, ece5b2, cfccc3, f78f7a, dee2d4, bfbfbf, 3f3f3f, a29a36, daa454, d4735e, e6b681, e2d88c, b7b2a5, f35838, ced3bf, a5a5a5, 262626, 514d1b, 664515, 65281a, a2641f, a39428, 655f50, 711806, 879464, 7f7f7f, 0c0c0c, 201e0a, 442e0e, 431b11, 6c4315, 6d621a, 433f35, 4b1004, 5a6243",columns:10},trek:{colors:"ffffff, 000000, fbeec9, 4e3b30, f0a22e, a5644e, b58b80, c3986d, a19574, c17529, f2f2f2, 7f7f7f, f7e09e, e1d6cf, fcecd5, eddfda, f0e7e5, f3eae1, ece9e3, f5e3d1, d8d8d8, 595959, f3cc5f, c4ad9f, f9d9ab, dcc0b6, e1d0cc, e7d5c4, d9d4c7, ebc7a3, bfbfbf, 3f3f3f, d29f0f, a78470, f6c781, cba092, d2b9b2, dbc1a7, c6bfab, e1ac76, a5a5a5, 262626, 694f07, 3a2c24, c87d0e, 7b4b3a, 926255, a17242, 7b7153, 90571e, 7f7f7f, 0c0c0c, 2a1f03, 271d18, 855309, 523226, 614138, 6b4c2c, 524b37, 603a14",columns:10},verve:{colors:"ffffff, 000000, d2d2d2, 666666, ff388c, e40059, 9c007f, 68007f, 005bd3, 00349e, f2f2f2, 7f7f7f, bdbdbd, e0e0e0, ffd7e8, ffc6dc, ffb8f1, f1b2ff, c3dcff, b8cfff, d8d8d8, 595959, 9d9d9d, c1c1c1, ffafd1, ff8eba, ff71e4, e365ff, 87baff, 72a0ff, bfbfbf, 3f3f3f, 696969, a3a3a3, ff87ba, ff5597, ff2ad7, d519ff, 4b98ff, 2b71ff, a5a5a5, 262626, 343434, 4c4c4c, e90062, ab0042, 75005f, 4e005f, 00449e, 002676, 7f7f7f, 0c0c0c, 151515, 333333, 9b0041, 72002c, 4e003f, 34003f, 002d69, 00194f",columns:10},monochrome:{colors:"000000, 1a1a1a, 333333, 4d4d4d, 666666, 808080, 999999, b3b3b3, cccccc, e6e6e6, f2f2f2, ffffff",columns:12},accessible:{colors:"black, grey, darkred, red, darkorange, gold, green, blue, darkblue, purple, white, darkgrey, saddlebrown, pink, orange, yellow, lightgreen, lightskyblue, lightblue, mediumpurple",columns:10}};let OSe=(()=>{class i{getPaletteSettings(e,t){const r=e.palette;return{palette:r||("name"!==t?"office":kSe),tileSize:e.tileSize||24,columns:e.columns||("string"==typeof r&&JC[r]?JC[r].columns:void 0)||10}}paletteTileLayout(e){return"number"==typeof e?{width:e,height:e}:{width:e.width?e.width:e.height,height:e.height?e.height:e.width}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();class nqe extends il{constructor(n){super(),this.originalEvent=n}}class iqe extends il{}class sqe extends il{}class oqe{constructor(n){this.color=n,this.openPrevented=!1}preventOpen(){this.openPrevented=!0}isOpenPrevented(){return this.openPrevented}}const Rr=(i,n,e=!1,t=!0)=>{if(-1===["hex","rgba","name"].indexOf(n))throw new Error(`Unsupported color output format '${n}'. The available options are 'hex', 'rgba' or 'name'.`);if(!Ln(i))return;if("name"===n)return function lqe(i,n){if(i=i.toLowerCase().trim(),Ln(PD[i]))return i;wu(i,n)&&(i=wu(i,n).toHex());const e=Object.keys(PD).find(t=>PD[t]===i);if(!e&&!n)throw new Error(`The provided color ${i} is not supported for 'format="name"' property.To display ${i} color, the component 'format' property should be set to 'hex' or 'rgba' `);return e}(i,t);const r=wu(i.trim(),t);return Ln(r)?"hex"===n?TSe(r,e):r.toCssRgba():void 0},rS=(i,n=!0)=>{const e=wu(i,n);return Ln(e)?e.toBytes():{}},aS=(i,n="rgba",e=!1)=>{const t=xa(i.h,0,359.9),o=xa(i.s,0,1),r=xa(i.v,0,1),a=xa(i.a,0,1),l=ku.fromHSV(t,o,r,a);return"hex"===n?TSe(l,e):l.toCssRgba()},TSe=(i,n)=>n&&i.a<1?i.toCss({alpha:!0}):i.toCss(),MSe=i=>aS({h:i,s:1,v:1,a:1}),ISe=(i,n)=>{const e=xa(i.r,0,255),t=xa(i.g,0,255),o=xa(i.b,0,255),r=xa(i.a,0,1),a=xa(n.r,0,255),l=xa(n.g,0,255),c=xa(n.b,0,255);return{r:Math.round((1-r)*a+r*e),g:Math.round((1-r)*l+r*t),b:Math.round((1-r)*c+r*o)}},RSe=i=>{const n=[i.r,i.g,i.b].map(function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return.2126*n[0]+.7152*n[1]+.0722*n[2]},ASe=(i,n)=>((i,n)=>(Math.max(i,n)+.05)/(Math.min(i,n)+.05))(RSe(ISe(i,n)),RSe(ISe(n,{r:0,g:0,b:0,a:1}))),hqe=(i,n)=>{const e=n[0]-i[0],t=n[1]-i[1];return{length:Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),angle:Math.atan2(t,e)}},M5=(i,n)=>0===i.length?"":i.reduce((t,o,r,a)=>0===r?`M ${o[0]},${o[1]}`:`${t} ${n(o,r,a)}`,"");let xSe=(()=>{class i extends z{constructor(e,t,o,r){super(e,t,o),this.flatColorPickerLocalization=r}get(e){return this.flatColorPickerLocalization?this.flatColorPickerLocalization.get(e):super.get(e)}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(He),s.KVO(Cu,8),s.KVO(kc,8),s.KVO(w5,8))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),NSe=(()=>{class i{constructor(e){this.host=e}ngOnInit(){this.host.numericInput.nativeElement.setAttribute("aria-label",this.localizationService.get(`${this.kendoAdditionalNumericLabel}ChannelLabel`))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Dd))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoAdditionalNumericLabel",""]],inputs:{kendoAdditionalNumericLabel:"kendoAdditionalNumericLabel",localizationService:"localizationService"}}),i})(),LSe=(()=>{class i{constructor(e,t,o){this.host=e,this.renderer=t,this.localizationService=o,this.focusableId=`k-${tn()}`,this.tabindex=-1,this.opacity=!0,this.disabled=!1,this.readonly=!1,this.valueChange=new s.bkB,this.tabOut=new s.bkB,this.colorInputClass=!0,this.rgba={},this.caretAltExpandIcon=ZL,this.subscriptions=new be.yU}get isFocused(){if(!ne()||!Ln(this.host))return!1;const e=document.activeElement;return this.host.nativeElement.contains(e)}get rgbaInputValid(){return Object.keys(this.rgba).every(e=>Ln(this.rgba[e]))}ngAfterViewInit(){this.initDomEvents()}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}ngOnChanges(e){Ln(e.value)&&!this.isFocused&&(this.hex=Rr(this.value,"hex",this.opacity),this.rgba=rS(this.value),this.rgba.a=Rr(this.value,"rgba",this.opacity)?this.rgba.a:1)}get formatButtonTitle(){return this.localizationService.get("formatButton")}handleRgbaValueChange(){const e=(i=>{const n=xa(i.r,0,255),e=xa(i.g,0,255),t=xa(i.b,0,255),o=xa(i.a,0,1);return ku.fromBytes(n,e,t,o).toCssRgba()})(this.rgba);!this.rgbaInputValid||e===this.value||(this.value=e,this.rgba=rS(this.value),this.hex=Rr(e,"hex",this.opacity),this.valueChange.emit(e))}focusDragHandle(e){e.preventDefault(),e.stopImmediatePropagation(),this.tabOut.emit()}handleHexValueChange(e){this.hex=e;const t=Rr(e,"rgba",this.opacity);!Ln(t)||t===this.value||(this.value=t,this.rgba=rS(t),this.valueChange.emit(t))}handleRgbaInputBlur(){this.rgbaInputValid||(this.rgba=rS(this.value))}handleHexInputBlur(){this.hex=Rr(this.value,"hex",this.opacity)}focusLast(){this.lastInput().focus()}onTab(){}toggleFormatView(){this.formatView="hex"===this.formatView?"rgba":"hex"}initDomEvents(){this.host&&this.subscriptions.add(this.renderer.listen(this.toggleFormatButton.nativeElement,"click",()=>this.toggleFormatView()))}lastInput(){return this.hexInput?.nativeElement||this.opacityInput||this.blueInput}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-colorinput"]],viewQuery:function(e,t){if(1&e&&(s.GBs(yKe,5),s.GBs(DKe,5),s.GBs(wKe,5),s.GBs(kKe,5,s.aKT)),2&e){let o;s.mGM(o=s.lsd())&&(t.opacityInput=o.first),s.mGM(o=s.lsd())&&(t.hexInput=o.first),s.mGM(o=s.lsd())&&(t.blueInput=o.first),s.mGM(o=s.lsd())&&(t.toggleFormatButton=o.first)}},hostVars:4,hostBindings:function(e,t){2&e&&s.AVh("k-colorgradient-inputs",t.colorInputClass)("k-hstack",t.colorInputClass)},inputs:{focusableId:"focusableId",formatView:"formatView",tabindex:"tabindex",value:"value",opacity:"opacity",disabled:"disabled",readonly:"readonly"},outputs:{valueChange:"valueChange",tabOut:"tabOut"},features:[s.OA$],decls:5,vars:7,consts:[["toggleFormatButton",""],["hexInput",""],["red",""],["green",""],["blue",""],["opacityInput","","alpha",""],[1,"k-vstack"],["kendoButton","","type","button","fillMode","flat","icon","caret-alt-expand",1,"k-colorgradient-toggle-mode",3,"svgIcon","disabled","tabindex"],["class","k-vstack",4,"ngIf"],[4,"ngIf"],[1,"k-input","k-textbox","k-input-solid","k-input-md","k-rounded-md","k-hex-value",3,"blur","input","keydown.tab","id","disabled","readonly","value","tabindex"],[1,"k-colorgradient-input-label",3,"for"],["kendoAdditionalNumericLabel","red",3,"valueChange","blur","localizationService","disabled","readonly","tabindex","min","max","value","autoCorrect","spinners","format","decimals"],["kendoAdditionalNumericLabel","green",3,"valueChange","blur","localizationService","disabled","readonly","tabindex","min","max","value","autoCorrect","spinners","format","decimals"],["kendoAdditionalNumericLabel","blue",3,"valueChange","blur","keydown.tab","localizationService","disabled","readonly","tabindex","min","max","value","autoCorrect","spinners","format","decimals"],["kendoAdditionalNumericLabel","alpha",3,"valueChange","blur","keydown.tab","localizationService","disabled","readonly","tabindex","min","max","value","autoCorrect","spinners","step","format","decimals"]],template:function(e,t){1&e&&(s.j41(0,"div",6),s.nrm(1,"button",7,0),s.k0s(),s.DNE(3,OKe,5,8,"div",8)(4,MKe,17,37,"ng-container",9)),2&e&&(s.R7$(),s.Y8G("svgIcon",t.caretAltExpandIcon)("disabled",t.disabled)("tabindex",t.tabindex.toString()),s.BMQ("aria-label",t.formatButtonTitle)("title",t.formatButtonTitle),s.R7$(2),s.Y8G("ngIf","hex"===t.formatView),s.R7$(),s.Y8G("ngIf","rgba"===t.formatView))},dependencies:[Ht,Dd,q,NSe],encapsulation:2}),i})(),PSe=(()=>{class i{constructor(){this.hostClass=!0}ngAfterViewInit(){ne()&&(this.metrics=this.wrapper.getBoundingClientRect(),this.oldA=this.hsva.value.a,this.oldH=this.hsva.value.h,this.hsva.subscribe(e=>{(e.h!==this.oldH||e.a!==this.oldA)&&(this.oldH=e.h,this.oldA=e.a,this.setPaths())}))}ngOnChanges(e){Ln(e.backgroundColor)&&this.metrics&&this.setPaths()}setPaths(){const e=(i=>(n,e,t)=>{const[o,r]=i(t[e-1],t[e-2],n),[a,l]=i(n,t[e-1],t[e+1],!0);return`C ${o},${r} ${a},${l} ${n[0]},${n[1]}`})((i=>(n,e,t,o)=>{const c=i(e||n,t||n),u=c.angle+(o?Math.PI:0),f=.1*c.length;return[n[0]+Math.cos(u)*f,n[1]+Math.sin(u)*f]})(hqe));this.paths=[M5(this.getPaths(4.5,16),e),M5(this.getPaths(4.5,16,!0),e),M5(this.getPaths(7,16),e),M5(this.getPaths(7,16,!0),e)]}findValue(e,t,o,r,a){const l=(o+r)/2,c=Object.assign({},this.hsva.value,{s:t/this.metrics.width,v:1-l/this.metrics.height}),u=ASe(rS(aS(c)),rS(this.backgroundColor||""));return o+.5>r?u<e+1&&u>e-1?l:null:a(u,e)?this.findValue(e,t,o,r-(r-o)/2,a):this.findValue(e,t,o+(r-o)/2,r,a)}getPaths(e,t,o=!1){const r=[];for(let a=0;a<=this.metrics.width;a+=this.metrics.width/t){const l=this.findValue(e,a,0,this.metrics.height,o?(c,u)=>c<u:(c,u)=>c>u);null!==l&&r.push([a,l])}return r}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoColorContrastSvg",""]],hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-color-contrast-svg",t.hostClass)},inputs:{wrapper:"wrapper",hsva:"hsva",backgroundColor:"backgroundColor"},features:[s.OA$],attrs:IKe,decls:1,vars:1,consts:[["fill","none","stroke","white","stroke-width","1",4,"ngFor","ngForOf"],["fill","none","stroke","white","stroke-width","1"]],template:function(e,t){1&e&&s.DNE(0,RKe,1,1,"path",0),2&e&&s.Y8G("ngForOf",t.paths)},dependencies:[ut],encapsulation:2}),i})(),GSe=(()=>{class i{constructor(e){this.localization=e,this.checkIcon=EC,this.xCircleIcon=nf}get passMessage(){return this.localization.get("passContrast")}get failMessage(){return this.localization.get("failContrast")}get contrastText(){return`${this.type}: ${("AA"===this.type?4.5:7).toFixed(1)}`}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoContrastValidation",""]],inputs:{type:"type",pass:"pass",value:"value"},attrs:AKe,decls:3,vars:2,consts:[[4,"ngIf"],["class","k-contrast-validation k-text-success",4,"ngIf"],["class","k-contrast-validation k-text-error",4,"ngIf"],[1,"k-contrast-validation","k-text-success"],["name","check",3,"svgIcon"],[1,"k-contrast-validation","k-text-error"],["name","x",3,"svgIcon"]],template:function(e,t){1&e&&(s.j41(0,"span"),s.EFF(1),s.k0s(),s.DNE(2,LKe,3,2,"ng-container",0)),2&e&&(s.R7$(),s.JRh(t.contrastText),s.R7$(),s.Y8G("ngIf",t.value))},dependencies:[Qe,q],encapsulation:2}),i})(),USe=(()=>{class i{constructor(e){this.localization=e,this.checkIcon=EC,this.xCircleIcon=nf}get formatedRatio(){return this.contrastRatio.toFixed(2)}get contrastRatioText(){return`${this.localization.get("contrastRatio")}: ${this.value?this.formatedRatio:"n/a"}`}get satisfiesAACondition(){return this.contrastRatio>=4.5}get satisfiesAAACondition(){return this.contrastRatio>=7}get contrastRatio(){return ASe(rS(this.value),rS(this.ratio))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoContrastTool",""]],inputs:{value:"value",ratio:"ratio"},attrs:PKe,decls:6,vars:6,consts:[[1,"k-contrast-ratio"],[1,"k-contrast-ratio-text"],[4,"ngIf"],["kendoContrastValidation","","type","AA",3,"value","pass"],["kendoContrastValidation","","type","AAA",3,"value","pass"],["class","k-contrast-validation k-text-success",4,"ngIf"],["class","k-contrast-validation k-text-error",4,"ngIf"],[1,"k-contrast-validation","k-text-success"],["name","check",3,"svgIcon"],["name","check",3,"svgIcon",4,"ngIf"],[1,"k-contrast-validation","k-text-error"],["name","x",3,"svgIcon"]],template:function(e,t){1&e&&(s.j41(0,"div",0)(1,"span",1),s.EFF(2),s.k0s(),s.DNE(3,BKe,3,2,"ng-container",2),s.k0s(),s.nrm(4,"div",3)(5,"div",4)),2&e&&(s.R7$(2),s.JRh(t.contrastRatioText),s.R7$(),s.Y8G("ngIf",t.value),s.R7$(),s.Y8G("value",t.value)("pass",t.satisfiesAACondition),s.R7$(),s.Y8G("value",t.value)("pass",t.satisfiesAAACondition))},dependencies:[Qe,GSe,q],encapsulation:2}),i})(),I5=(()=>{class i extends yi{}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275dir=s.FsC({type:i,selectors:[["kendo-colorpicker-messages-base"]],inputs:{colorPaletteNoColor:"colorPaletteNoColor",colorGradientNoColor:"colorGradientNoColor",flatColorPickerNoColor:"flatColorPickerNoColor",colorPickerNoColor:"colorPickerNoColor",colorGradientHandle:"colorGradientHandle",clearButton:"clearButton",hueSliderHandle:"hueSliderHandle",opacitySliderHandle:"opacitySliderHandle",hexInputPlaceholder:"hexInputPlaceholder",redInputPlaceholder:"redInputPlaceholder",greenInputPlaceholder:"greenInputPlaceholder",blueInputPlaceholder:"blueInputPlaceholder",alphaInputPlaceholder:"alphaInputPlaceholder",redChannelLabel:"redChannelLabel",greenChannelLabel:"greenChannelLabel",blueChannelLabel:"blueChannelLabel",alphaChannelLabel:"alphaChannelLabel",passContrast:"passContrast",failContrast:"failContrast",contrastRatio:"contrastRatio",previewColor:"previewColor",revertSelection:"revertSelection",gradientView:"gradientView",paletteView:"paletteView",formatButton:"formatButton",applyButton:"applyButton",cancelButton:"cancelButton"},features:[s.Vt3]}),i})(),HI=(()=>{class i extends I5{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoColorPickerLocalizedMessages",""],["","kendoFlatColorPickerLocalizedMessages",""],["","kendoColorGradientLocalizedMessages",""],["","kendoColorPaletteLocalizedMessages",""]],features:[s.Jv_([{provide:I5,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})(),pqe=0,FSe=(()=>{class i{constructor(e,t,o,r,a,l){this.host=e,this.ngZone=t,this.renderer=o,this.cdr=r,this.localizationService=a,this.injector=l,this.hostClasses=!0,this.ariaRole="textbox",this.id="k-colorgradient-"+pqe++,this.opacity=!0,this.disabled=!1,this.readonly=!1,this.clearButton=!1,this.delay=0,this.format="rgba",this.valueChange=new s.bkB,this.backgroundColor="rgba(255, 0, 0, 1)",this.hsva=new An.t({}),this.gradientSliderStep=5,this.gradientSliderSmallStep=2,this.internalNavigation=!1,this.dropletSlashIcon=q3,this._tabindex=0,this.listeners=[],this.hueSliderTouched=!1,this.alphaSliderTouched=!1,this.updateValues=new Ke.B,this.hsvHandleCoordinates={x:0,y:0},this.notifyNgChanged=()=>{},this.notifyNgTouched=()=>{},(0,_t.$)(Tu),this.dynamicRTLSubscription=a.changes.subscribe(({rtl:c})=>{this.direction=c?"rtl":"ltr"})}get readonlyAttribute(){return this.readonly}get disabledClass(){return this.disabled}get gradientId(){return this.id}get hostTabindex(){return this.tabindex?.toString()||"0"}get isControlInvalid(){return this.control?.invalid?.toString()}get isDisabled(){return this.disabled?.toString()||void 0}enterHandler(e){e.target===this.host.nativeElement&&(this.internalNavigation=!0,this.gradientDragHandle.nativeElement.focus())}escapeHandler(e){this.host.nativeElement.matches(":focus")||e.stopImmediatePropagation(),this.internalNavigation=!1,this.host.nativeElement.focus()}focusHandler(e){this.internalNavigation=e.target!==this.host.nativeElement}set value(e){this._value=Rr(e,this.format,this.opacity)}get value(){return this._value}set contrastTool(e){this._contrastTool=Rr(e,this.format,this.opacity)}get contrastTool(){return this._contrastTool}set tabindex(e){if(Ln(e)){const t=Number(e);this._tabindex=isNaN(t)?0:t}else this._tabindex=e}get tabindex(){return this.disabled?void 0:this._tabindex}get isFocused(){return!(!ne()||!Ln(this.host))&&(this.host.nativeElement===document.activeElement||this.host.nativeElement.contains(document.activeElement))}get alphaSliderValue(){if(Ln(this.hsva.value)&&Ln(this.hsva.value.a))return 100*this.hsva.value.a}get gradientRect(){return this.gradientWrapper.nativeElement.getBoundingClientRect()}get hsvSliderValueText(){return`X: ${this.hsvHandleCoordinates.x} Y: ${this.hsvHandleCoordinates.y}`}get contrastToolVisible(){return this.contrastTool&&this.contrastTool.length>0}get innerTabIndex(){return this.internalNavigation?0:-1}ngOnInit(){this.control=this.injector.get(Ci,null)}ngAfterViewInit(){this.ngZone.onStable.pipe(We(1)).subscribe(()=>{this.updateUI(),this.cdr.detectChanges()}),this.addEventListeners(),this.subscribeChanges()}ngOnChanges(e){wt("value",e)&&!this.isFocused&&this.updateUI(),wt("delay",e)&&(this.unsubscribeChanges(),this.subscribeChanges())}ngOnDestroy(){this.listeners.forEach(e=>e()),this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe(),this.unsubscribeChanges()}focus(){this.disabled||this.gradientDragHandle.nativeElement.focus()}reset(){this.handleValueChange(void 0),this.updateUI()}handleDragPress(e){this.disabled||this.readonly||!Ln(e.originalEvent)||(this.focus(),e.originalEvent.preventDefault())}onHandleDrag(e){this.disabled||this.readonly||(this.renderer.addClass(this.gradientWrapper.nativeElement,"k-dragging"),this.changePosition(e))}onHandleRelease(){this.disabled||this.readonly||(this.renderer.removeClass(this.gradientWrapper.nativeElement,"k-dragging"),this.handleValueChange(aS(this.hsva.value,this.format,this.opacity)))}onKeyboardAction(e){if(!this.disabled&&!this.readonly&&e.key&&-1!==e.key.indexOf("Arrow")){e.preventDefault();const t=this.gradientDragHandle.nativeElement;this.renderer.addClass(this.gradientWrapper.nativeElement,"k-dragging");let o=0,r=0;const a=e.shiftKey;switch(e.key){case"ArrowRight":o=a?this.gradientSliderSmallStep:this.gradientSliderStep;break;case"ArrowLeft":o=a?-this.gradientSliderSmallStep:-this.gradientSliderStep;break;case"ArrowUp":r=a?-this.gradientSliderSmallStep:-this.gradientSliderStep;break;case"ArrowDown":r=a?this.gradientSliderSmallStep:this.gradientSliderStep}const l=parseInt(t.style.top,10)+r,c=parseInt(t.style.left,10)+o;this.renderer.setStyle(t,"top",`${l}px`),this.renderer.setStyle(t,"left",`${c}px`),this.ngZone.run(()=>this.moveDragHandle(c,l))}}changePosition(e){if(this.disabled||this.readonly)return;this.gradientDragHandle.nativeElement.focus();const t=this.gradientRect,o=e.clientX-t.left,r=e.clientY-t.top;this.ngZone.run(()=>this.moveDragHandle(o,r))}handleHueSliderChange(e){const t=this.hsva.value;t.h=e,this.hsva.next(t),this.handleValueChange(aS(this.hsva.value,this.format,this.opacity)),this.backgroundColor=MSe(e),this.setBackgroundColor(this.backgroundColor),this.setAlphaSliderBackground(this.backgroundColor),this.hueSliderTouched=!0}handleAlphaSliderChange(e){const t=this.hsva.value;t.a=e/100,this.hsva.next(t),this.handleValueChange(aS(this.hsva.value,this.format,this.opacity)),this.alphaSliderTouched=!0}handleInputsValueChange(e){const t=Rr(e,this.format,this.opacity);this.value!==t&&(this.handleValueChange(t),this.updateUI())}writeValue(e){this.value=e,Ln(this.gradientWrapper)&&this.updateUI()}registerOnChange(e){this.notifyNgChanged=e}registerOnTouched(e){this.notifyNgTouched=e}setDisabledState(e){this.cdr.markForCheck(),this.disabled=e}get colorGradientHandleTitle(){return this.localizationService.get("colorGradientHandle")}get colorGradientHandleAriaLabel(){const e=Rr(this.value,this.format,this.opacity);return`${this.value?e:this.localizationService.get("colorGradientNoColor")}`}get hueSliderTitle(){return this.localizationService.get("hueSliderHandle")}get opacitySliderTitle(){return this.localizationService.get("opacitySliderHandle")}get clearButtonTitle(){return this.localizationService.get("clearButton")}isEmpty(){return!1}moveDragHandle(e,t){const o=this.gradientRect,r=o.width,a=o.height,l=xa(t,0,a),c=xa(e,0,r);this.setDragHandleElementPosition(l,c);const u=this.hsva.value;u.s=c/r,u.v=1-l/a,this.hsva.next(u),this.updateValues.next(aS(this.hsva.value,this.format,this.opacity)),this.setAlphaSliderBackground(aS({...this.hsva.value,a:1},this.format,this.opacity))}handleValueChange(e){this.value!==e&&(this.value=e,this.valueChange.emit(e),this.notifyNgChanged(e),this.setHostElementAriaLabel())}setDragHandleElementPosition(e,t){const o=this.gradientDragHandle.nativeElement;this.hsvHandleCoordinates={x:t,y:e},this.renderer.setStyle(o,"top",`${e}px`),this.renderer.setStyle(o,"left",`${t}px`)}setAlphaSliderBackground(e){Ln(this.alphaSlider)&&this.renderer.setStyle(this.alphaSlider.track.nativeElement,"background",`linear-gradient(to top, transparent, ${e})`)}setHostElementAriaLabel(){const e=Rr(this.value,this.format,this.opacity);this.renderer.setAttribute(this.host.nativeElement,"aria-label",`${this.value?e:this.localizationService.get("colorGradientNoColor")}`)}setBackgroundColor(e){this.renderer.setStyle(this.hsvRectangle.nativeElement,"background",e)}updateUI(){if(!ne())return;if(this.hueSliderTouched||this.alphaSliderTouched)return this.hueSliderTouched=!1,void(this.alphaSliderTouched=!1);this.hsva.next(this.value?((i,n=!0)=>{const e=wu(this.value,n);return Ln(e)?e.toHSV():{}})():{h:0,s:0,v:1,a:1});const e=this.gradientRect;this.setDragHandleElementPosition((1-this.hsva.value.v)*e.height,this.hsva.value.s*e.width),this.backgroundColor=MSe(this.hsva.value.h),this.setBackgroundColor(this.backgroundColor),this.setAlphaSliderBackground(this.backgroundColor),this.setHostElementAriaLabel()}addEventListeners(){this.ngZone.runOutsideAngular(()=>{const e=this.renderer.listen(this.host.nativeElement,"focusout",l=>{!((i,n)=>i&&n&&(i===n||i.contains(n)))(this.host.nativeElement,l.relatedTarget)&&(i=>i&&i.nativeElement&&((i,n)=>!!(i=>String(i).trim().split(" "))(i.className).find(e=>e===n))(i.nativeElement,"ng-untouched"))(this.host)&&this.ngZone.run(()=>this.notifyNgTouched())}),t=this.renderer.listen(this.gradientDragHandle.nativeElement,"keydown",l=>{this.onKeyboardAction(l)}),o=this.renderer.listen(this.gradientDragHandle.nativeElement,"keyup",()=>{this.renderer.removeClass(this.gradientWrapper.nativeElement,"k-dragging"),!this.readonly&&!this.disabled&&this.ngZone.run(()=>this.handleValueChange(aS(this.hsva.value,this.format,this.opacity)))}),r=this.renderer.listen(this.gradientDragHandle.nativeElement,"focusin",()=>{this.renderer.addClass(this.gradientDragHandle.nativeElement,"k-focus")}),a=this.renderer.listen(this.gradientDragHandle.nativeElement,"focusout",()=>{this.renderer.removeClass(this.gradientDragHandle.nativeElement,"k-focus")});this.listeners.push(e,t,o,r,a)})}subscribeChanges(){this.changeRequestsSubscription=this.updateValues.pipe(AJ(this.delay)).subscribe(e=>{this.handleValueChange(e)})}unsubscribeChanges(){this.changeRequestsSubscription&&this.changeRequestsSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.SKi),s.rXU(s.sFG),s.rXU(s.gRc),s.rXU(z),s.rXU(s.zZn))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-colorgradient"]],viewQuery:function(e,t){if(1&e&&(s.GBs(VKe,5),s.GBs(zKe,5),s.GBs(HKe,5),s.GBs(jKe,5),s.GBs($Ke,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.gradientDragHandle=o.first),s.mGM(o=s.lsd())&&(t.inputs=o.first),s.mGM(o=s.lsd())&&(t.alphaSlider=o.first),s.mGM(o=s.lsd())&&(t.gradientWrapper=o.first),s.mGM(o=s.lsd())&&(t.hsvRectangle=o.first)}},hostVars:13,hostBindings:function(e,t){1&e&&s.bIt("keydown.enter",function(r){return t.enterHandler(r)})("keydown.escape",function(r){return t.escapeHandler(r)})("focusin",function(r){return t.focusHandler(r)}),2&e&&(s.BMQ("aria-readonly",t.readonlyAttribute)("id",t.gradientId)("dir",t.direction)("tabindex",t.hostTabindex)("role",t.ariaRole)("aria-invalid",t.isControlInvalid)("aria-disabled",t.isDisabled),s.AVh("k-colorgradient",t.hostClasses)("k-disabled",t.disabledClass)("k-readonly",t.readonly))},inputs:{id:"id",opacity:"opacity",disabled:"disabled",readonly:"readonly",clearButton:"clearButton",delay:"delay",value:"value",contrastTool:"contrastTool",tabindex:"tabindex",format:"format",gradientSliderStep:"gradientSliderStep",gradientSliderSmallStep:"gradientSliderSmallStep"},outputs:{valueChange:"valueChange"},exportAs:["kendoColorGradient"],features:[s.Jv_([{multi:!0,provide:zn,useExisting:(0,s.Rfq)(()=>i)},{provide:ji,useExisting:(0,s.Rfq)(()=>i)},xSe,{provide:z,useExisting:xSe},{provide:He,useValue:"kendo.colorgradient"}]),s.OA$],decls:16,vars:37,consts:()=>{let n,e,t,o,r,a,l,c,u,f,_,S,v,b,D,k,O;return n="Colorgradient nessun colore selezionato",e="Scegli un colore",t="Cancella il valore",o="Imposta la hue",r="Imposta l'opacit\xE0",a="Pass",l="Fail",c="Contrast ratio",u="Change color format",f="Canale rosso",_="Canale verde",S="Canale blu",v="Canale alpha",b="Canale rosso",D="Verde",k="Blu",O="Colore HEX",[["hsvRectangle",""],["gradientWrapper",""],["gradientDragHandle",""],["inputs",""],["alphaSlider",""],["kendoColorGradientLocalizedMessages","","colorGradientNoColor",n,"colorGradientHandle",e,"clearButton",t,"hueSliderHandle",o,"opacitySliderHandle",r,"passContrast",a,"failContrast",l,"contrastRatio",c,"formatButton",u,"redChannelLabel",f,"greenChannelLabel",_,"blueChannelLabel",S,"alphaChannelLabel",v,"redChannelLabel",b,"greenInputPlaceholder",D,"blueInputPlaceholder",k,"hexInputPlaceholder",O],[1,"k-colorgradient-canvas","k-hstack"],[1,"k-hsv-rectangle"],["kendoDraggable","",1,"k-hsv-gradient",3,"click","kendoPress","kendoDrag","kendoRelease"],["role","slider",1,"k-hsv-draghandle","k-draghandle",3,"keydown.shift.tab","tabindex"],["kendoColorContrastSvg","","class","k-color-contrast-svg","xmlns","http://www.w3.org/2000/svg",3,"wrapper","hsva","backgroundColor","style",4,"ngIf"],["kendoButton","","class","k-clear-color","fillMode","flat","icon","droplet-slash",3,"svgIcon","tabindex","style","click","keydown.enter","keydown.space",4,"ngIf"],["tickPlacement","none",1,"k-hue-slider","k-colorgradient-slider",3,"valueChange","ngClass","dragHandleTitle","tabindex","disabled","readonly","showButtons","vertical","min","max","value","smallStep","largeStep"],["class","k-alpha-slider k-colorgradient-slider","tickPlacement","none",3,"tabindex","ngClass","height","dragHandleTitle","disabled","readonly","showButtons","vertical","min","max","smallStep","largeStep","value","valueChange",4,"ngIf"],[3,"valueChange","tabOut","tabindex","opacity","formatView","value","disabled","readonly"],["class","k-colorgradient-color-contrast k-vbox","kendoContrastTool","",3,"value","ratio",4,"ngIf"],["kendoColorContrastSvg","","xmlns","http://www.w3.org/2000/svg",1,"k-color-contrast-svg",3,"wrapper","hsva","backgroundColor"],["kendoButton","","fillMode","flat","icon","droplet-slash",1,"k-clear-color",3,"click","keydown.enter","keydown.space","svgIcon","tabindex"],["tickPlacement","none",1,"k-alpha-slider","k-colorgradient-slider",3,"valueChange","tabindex","ngClass","dragHandleTitle","disabled","readonly","showButtons","vertical","min","max","smallStep","largeStep","value"],["kendoContrastTool","",1,"k-colorgradient-color-contrast","k-vbox",3,"value","ratio"]]},template:function(e,t){if(1&e){const o=s.RV6();s.eu8(0,5),s.j41(1,"div",6)(2,"div",7,0)(4,"div",8,1),s.bIt("click",function(a){return s.eBV(o),s.Njj(t.changePosition(a))})("kendoPress",function(a){return s.eBV(o),s.Njj(t.handleDragPress(a))})("kendoDrag",function(a){return s.eBV(o),s.Njj(t.onHandleDrag(a))})("kendoRelease",function(){return s.eBV(o),s.Njj(t.onHandleRelease())}),s.j41(6,"div",9,2),s.bIt("keydown.shift.tab",function(a){s.eBV(o);const l=s.sdS(14);return a.preventDefault(),s.Njj(l.focusLast())}),s.k0s()(),s.DNE(8,XKe,1,5,"svg",10),s.k0s(),s.j41(9,"div"),s.DNE(10,WKe,1,6,"button",11),s.j41(11,"kendo-slider",12),s.bIt("valueChange",function(a){return s.eBV(o),s.Njj(t.handleHueSliderChange(a))}),s.k0s(),s.DNE(12,KKe,2,16,"kendo-slider",13),s.k0s()(),s.j41(13,"kendo-colorinput",14,3),s.bIt("valueChange",function(a){return s.eBV(o),s.Njj(t.handleInputsValueChange(a))})("tabOut",function(){s.eBV(o);const a=s.sdS(7);return s.Njj(a.focus())}),s.k0s(),s.DNE(15,YKe,1,2,"div",15)}if(2&e){const o=s.sdS(5);s.R7$(6),s.Y8G("tabindex",t.innerTabIndex.toString()),s.BMQ("title",t.colorGradientHandleTitle)("aria-label",t.colorGradientHandleTitle+" "+t.colorGradientHandleAriaLabel)("aria-valuetext",t.hsvSliderValueText)("aria-readonly",t.readonly?t.readonly:void 0)("aria-disabled",t.disabled?t.disabled:void 0)("aria-orientation","undefined")("aria-valuenow","0"),s.R7$(2),s.Y8G("ngIf",t.contrastToolVisible&&o),s.R7$(),s.ZvI("k-hsv-controls k-hstack ",t.clearButton?"k-sliders-wrap-clearable":"",""),s.R7$(),s.Y8G("ngIf",t.clearButton),s.R7$(),s.xc7("height",t.clearButton?"140":null,"px"),s.Y8G("ngClass",s.eq3(35,$1e,t.clearButton))("dragHandleTitle",t.hueSliderTitle)("tabindex",t.innerTabIndex)("disabled",t.disabled)("readonly",t.readonly)("showButtons",!1)("vertical",!0)("min",0)("max",360)("value",t.hsva.value.h)("smallStep",5)("largeStep",10),s.R7$(),s.Y8G("ngIf",t.opacity),s.R7$(),s.Y8G("tabindex",t.innerTabIndex)("opacity",t.opacity)("formatView",t.format)("value",t.value)("disabled",t.disabled)("readonly",t.readonly),s.R7$(2),s.Y8G("ngIf",t.contrastToolVisible)}},dependencies:[PSe,Ht,pJe,LSe,USe,HI,vd,q,Be],encapsulation:2}),i})(),BSe=(()=>{class i extends z{constructor(e,t,o,r){super(e,t,o),this.flatColorPickerLocalization=r}get(e){return this.flatColorPickerLocalization?this.flatColorPickerLocalization.get(e):super.get(e)}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(He),s.KVO(Cu,8),s.KVO(kc,8),s.KVO(w5,8))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),VSe=(()=>{class i{constructor(){this.colorRows=[]}setColorMatrix(e,t){if(this.colorRows=[],Ln(e)&&e.length){t=t||e.length;for(let o=0;o<e.length;o+=t){const r=e.slice(o,t+o);this.colorRows.push(r)}}}getCellCoordsFor(e){if(Ln(e))for(let t=0;t<this.colorRows.length;t++)for(let o=0;o<this.colorRows[t].length;o++)if(this.colorRows[t][o]===e)return{row:t,col:o}}getColorAt(e){if(Ln(e)&&Ln(this.colorRows[e.row]))return this.colorRows[e.row][e.col]}getNextCell(e,t,o){if(!(Ln(e)&&Ln(e.row)&&Ln(e.col)))return{row:0,col:0};const r=this.clampIndex(e.row+o,this.colorRows.length-1);return{row:r,col:this.clampIndex(e.col+t,this.colorRows[r].length-1)}}clampIndex(e,t){return e<0?0:e>t?t:e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),_qe=0,jSe=(()=>{class i{constructor(e,t,o,r,a,l){this.host=e,this.service=t,this.cdr=o,this.renderer=r,this.localizationService=a,this.ngZone=l,this.role="grid",this.id="k-colorpalette-"+_qe++,this.format="hex",this.disabled=!1,this.readonly=!1,this.tileSize={width:24,height:24},this.selectionChange=new s.bkB,this.valueChange=new s.bkB,this.cellSelection=new s.bkB,this.hostClasses=!0,this.uniqueId=tn(),this._tabindex=0,this.subs=new be.yU,this.notifyNgTouched=()=>{},this.notifyNgChanged=()=>{},(0,_t.$)(Tu),this.dynamicRTLSubscription=a.changes.subscribe(({rtl:c})=>{this.direction=c?"rtl":"ltr"})}get activeDescendant(){return this.activeCellId}get paletteId(){return this.id}set value(e){this._value=Rr(e,this.format)}get value(){return this._value}set columns(e){this._columns=e>1?e:1}get columns(){return this._columns}set palette(e){Ln(e)||(e="office"),"string"==typeof e&&Ln(JC[e])&&(this.columns=this.columns||JC[e].columns,e=JC[e].colors);const t="string"==typeof e?e.split(","):e;this._palette=t.map(o=>Rr(o,this.format,!1,!1))}get palette(){return this._palette}set tabindex(e){const t=Number(e);this._tabindex=isNaN(t)?0:t}get tabindex(){return this.disabled?void 0:this._tabindex}get tileLayout(){return"number"!=typeof this.tileSize?this.tileSize:{width:this.tileSize,height:this.tileSize}}get colorRows(){return this.service.colorRows}get hostTabindex(){return this.tabindex}get disabledClass(){return this.disabled}get readonlyAttribute(){return this.readonly}ngOnInit(){0===this.colorRows.length&&(this.palette=this.palette||("name"!==this.format?"office":"accessible"),this.setRows());const e=this.host.nativeElement;this.subs.add(this.renderer.listen(e,"keydown",t=>this.handleKeydown(t))),this.subs.add(this.renderer.listen(e,"focus",()=>this.handleFocus())),this.subs.add(this.renderer.listen(e,"blur",()=>this.handleHostBlur()))}ngAfterViewInit(){this.setHostElementAriaLabel(),this.value&&this.ngZone.onStable.pipe(We(1)).subscribe(()=>{this.selectCell(this.value)})}ngOnDestroy(){this.subs.unsubscribe(),this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe()}ngOnChanges(e){(e.palette||e.columns)&&this.setRows(),(e.palette||e.value||e.columns)&&(this.selectCell(this.value),this.setHostElementAriaLabel())}handleKeydown(e){const t="rtl"===this.direction;switch(e.keyCode){case G.ArrowDown:this.handleCellNavigation(0,1);break;case G.ArrowUp:this.handleCellNavigation(0,-1);break;case G.ArrowRight:this.handleCellNavigation(t?-1:1,0);break;case G.ArrowLeft:this.handleCellNavigation(t?1:-1,0);break;case G.Enter:this.handleEnter();break;default:return}e.preventDefault()}handleFocus(){this.focusInComponent||this.focus()}handleHostBlur(){this.notifyNgTouched(),this.handleCellFocusOnBlur()}handleCellSelection(e,t){if(this.readonly)return;this.selectedCell=t,this.focusedCell=this.selectedCell,this.focusInComponent=!0;const o=Rr(e,this.format,!1,!1);this.cellSelection.emit(o),this.handleValueChange(o),this.selection!==o&&(this.selection=o,this.selectionChange.emit(o)),t&&(this.activeCellId=`k-${this.selectedCell.row}-${this.selectedCell.col}-${this.uniqueId}`)}writeValue(e){this.value=e,this.selectCell(e)}registerOnChange(e){this.notifyNgChanged=e}registerOnTouched(e){this.notifyNgTouched=e}setDisabledState(e){this.cdr.markForCheck(),this.disabled=e}focus(){this.host.nativeElement.focus(),!this.focusedCell&&!this.readonly&&!this.disabled&&(this.focusedCell={row:0,col:0},this.activeCellId=`k-${this.focusedCell.row}-${this.focusedCell.col}-${this.uniqueId}`)}isEmpty(){return!1}reset(){this.focusedCell=null,Ln(this.value)&&this.handleValueChange(void 0),this.selectedCell=void 0}handleValueChange(e){this.value!==e&&(this.value=e,this.valueChange.emit(e),this.notifyNgChanged(e),this.setHostElementAriaLabel())}handleCellFocusOnBlur(){this.focusInComponent=!1,this.focusedCell=this.selectedCell}selectCell(e){const t=Rr(e,"hex");this.selectedCell=this.service.getCellCoordsFor(t),this.focusedCell=this.selectedCell}setRows(){Ln(this.palette)&&(this.columns=this.columns||10,this.service.setColorMatrix(this.palette,this.columns))}handleCellNavigation(e,t){this.readonly||(this.focusedCell=this.service.getNextCell(this.focusedCell,e,t),this.focusInComponent=!0,this.focusedCell&&(this.activeCellId=`k-${this.focusedCell.row}-${this.focusedCell.col}-${this.uniqueId}`))}setHostElementAriaLabel(){const e=Rr(this.value,this.format);this.renderer.setAttribute(this.host.nativeElement,"aria-label",`${this.value?e:this.localizationService.get("colorPaletteNoColor")}`)}handleEnter(){if(!Ln(this.focusedCell))return;const e=this.service.getColorAt(this.focusedCell);this.handleCellSelection(e,this.focusedCell)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(VSe),s.rXU(s.gRc),s.rXU(s.sFG),s.rXU(z),s.rXU(s.SKi))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-colorpalette"]],hostVars:13,hostBindings:function(e,t){2&e&&(s.BMQ("dir",t.direction)("role",t.role)("aria-activedescendant",t.activeDescendant)("id",t.paletteId)("tabindex",t.hostTabindex)("aria-disabled",t.disabledClass)("aria-readonly",t.readonlyAttribute),s.AVh("k-readonly",t.readonly)("k-colorpalette",t.hostClasses)("k-disabled",t.disabledClass))},inputs:{id:"id",format:"format",value:"value",columns:"columns",palette:"palette",tabindex:"tabindex",disabled:"disabled",readonly:"readonly",tileSize:"tileSize"},outputs:{selectionChange:"selectionChange",valueChange:"valueChange",cellSelection:"cellSelection"},exportAs:["kendoColorPalette"],features:[s.Jv_([{multi:!0,provide:zn,useExisting:(0,s.Rfq)(()=>i)},{provide:ji,useExisting:(0,s.Rfq)(()=>i)},VSe,BSe,{provide:z,useExisting:BSe},{provide:He,useValue:"kendo.colorpalette"}]),s.OA$],decls:4,vars:1,consts:()=>{let n;return n="Colorpalette nessun colore scelto",[["kendoColorPaletteLocalizedMessages","","colorPaletteNoColor",n],["role","presentation",1,"k-colorpalette-table"],["role","row",4,"ngFor","ngForOf"],["role","row"],["role","gridcell","class","k-colorpalette-tile",3,"k-selected","k-focus","id","ngStyle","click",4,"ngFor","ngForOf"],["role","gridcell",1,"k-colorpalette-tile",3,"click","id","ngStyle"]]},template:function(e,t){1&e&&(s.eu8(0,0),s.j41(1,"table",1)(2,"tbody"),s.DNE(3,QKe,2,1,"tr",2),s.k0s()()),2&e&&(s.R7$(3),s.Y8G("ngForOf",t.colorRows))},dependencies:[HI,ut,Wn],encapsulation:2}),i})(),$Se=(()=>{class i{constructor(e,t){this.localizationService=e,this.renderer=t,this.hostClasses=!0,this.innerTabIndex=-1,this.viewChange=new s.bkB,this.valuePaneClick=new s.bkB,this.clearButtonClick=new s.bkB,this.tabOut=new s.bkB,this.dropletSliderIcon=BX,this.paletteIcon=K3,this.dropletSlashIcon=q3}ngAfterViewInit(){this.viewButtonsCollection.length>0&&this.viewButtonsCollection.forEach(e=>{const t=e.nativeElement;"true"===t.getAttribute("aria-pressed")&&this.renderer.addClass(t,"k-selected")})}onViewButtonClick(e){this.activeView=e,this.viewChange.emit(e)}get viewButtons(){return this.views&&this.views.indexOf("gradient")>=0&&this.views.indexOf("palette")>=0}getViewButtonIcon(e){return"gradient"===e?"color-canvas":"palette"}getViewButtonsSVGIcon(e){return"gradient"===e?this.dropletSliderIcon:this.paletteIcon}getText(e){return this.localizationService.get(e)}onHeaderTabOut(e,t){0===t&&(e.preventDefault(),this.tabOut.emit(e))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z),s.rXU(s.sFG))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoFlatColorPickerHeader",""]],viewQuery:function(e,t){if(1&e&&(s.GBs(ZKe,5,s.aKT),s.GBs(eYe,5,s.aKT)),2&e){let o;s.mGM(o=s.lsd())&&(t.clearButtonElement=o.first),s.mGM(o=s.lsd())&&(t.viewButtonsCollection=o)}},hostVars:4,hostBindings:function(e,t){2&e&&s.AVh("k-coloreditor-header",t.hostClasses)("k-hstack",t.hostClasses)},inputs:{clearButton:"clearButton",activeView:"activeView",views:"views",preview:"preview",innerTabIndex:"innerTabIndex",value:"value",selection:"selection"},outputs:{viewChange:"viewChange",valuePaneClick:"valuePaneClick",clearButtonClick:"clearButtonClick",tabOut:"tabOut"},attrs:tYe,decls:6,vars:3,consts:[["viewButtons",""],["clearButton",""],[1,"k-coloreditor-header-actions","k-hstack"],["class","k-button-group k-button-group-flat","role","group",4,"ngIf"],[1,"k-spacer"],["kendoButton","","type","button","fillMode","flat","icon","reset-color","class","k-coloreditor-reset",3,"tabindex","svgIcon","click",4,"ngIf"],["class","k-coloreditor-preview k-vstack","aria-hidden","true",4,"ngIf"],["role","group",1,"k-button-group","k-button-group-flat"],["kendoButton","","type","button","fillMode","flat","class","k-button k-button-md k-button-flat k-button-flat-base k-icon-button",3,"tabindex","icon","svgIcon","ngClass","click","keydown.shift.tab",4,"ngFor","ngForOf"],["kendoButton","","type","button","fillMode","flat",1,"k-button","k-button-md","k-button-flat","k-button-flat-base","k-icon-button",3,"click","keydown.shift.tab","tabindex","icon","svgIcon","ngClass"],["kendoButton","","type","button","fillMode","flat","icon","reset-color",1,"k-coloreditor-reset",3,"click","tabindex","svgIcon"],["aria-hidden","true",1,"k-coloreditor-preview","k-vstack"],[1,"k-coloreditor-preview-color","k-color-preview"],[1,"k-coloreditor-current-color","k-color-preview",3,"click"]],template:function(e,t){1&e&&(s.j41(0,"div",2),s.DNE(1,iYe,2,1,"div",3),s.k0s(),s.nrm(2,"div",4),s.j41(3,"div",2),s.DNE(4,sYe,2,4,"button",5)(5,oYe,3,6,"div",6),s.k0s()),2&e&&(s.R7$(),s.Y8G("ngIf",t.viewButtons),s.R7$(3),s.Y8G("ngIf",t.clearButton),s.R7$(),s.Y8G("ngIf",t.preview))},dependencies:[Ht,q,ut,Be],encapsulation:2}),i})(),XSe=(()=>{class i{constructor(e){this.localizationService=e,this.hostClasses=!0,this.innerTabIndex=-1,this.actionButtonClick=new s.bkB,this.tabOut=new s.bkB}getText(e){return this.localizationService.get(e)}onActionButtonClick(e,t){this.actionButtonClick.emit({target:e,originalEvent:t})}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoFlatColorPickerActionButtons",""]],viewQuery:function(e,t){if(1&e&&(s.GBs(rYe,5,s.aKT),s.GBs(aYe,5,s.aKT)),2&e){let o;s.mGM(o=s.lsd())&&(t.firstButton=o.first),s.mGM(o=s.lsd())&&(t.lastButton=o.first)}},hostVars:6,hostBindings:function(e,t){2&e&&s.AVh("k-coloreditor-footer",t.hostClasses)("k-actions",t.hostClasses)("k-actions-horizontal",t.hostClasses)},inputs:{innerTabIndex:"innerTabIndex"},outputs:{actionButtonClick:"actionButtonClick",tabOut:"tabOut"},attrs:lYe,decls:6,vars:6,consts:[["first",""],["last",""],["type","button",1,"k-coloreditor-cancel","k-button","k-button-md","k-button-solid","k-button-solid-base",3,"click","tabindex"],["type","button",1,"k-coloreditor-apply","k-button","k-button-md","k-button-solid","k-button-solid-primary",3,"click","keydown.tab","tabindex"]],template:function(e,t){if(1&e){const o=s.RV6();s.j41(0,"button",2,0),s.bIt("click",function(a){return s.eBV(o),s.Njj(t.onActionButtonClick("cancel",a))}),s.EFF(2),s.k0s(),s.j41(3,"button",3,1),s.bIt("click",function(a){return s.eBV(o),s.Njj(t.onActionButtonClick("apply",a))})("keydown.tab",function(a){return s.eBV(o),a.preventDefault(),s.Njj(t.tabOut.emit())}),s.EFF(5),s.k0s()}2&e&&(s.Y8G("tabindex",t.innerTabIndex.toString()),s.BMQ("title",t.getText("cancelButton")),s.R7$(2),s.JRh(t.getText("cancelButton")),s.R7$(),s.Y8G("tabindex",t.innerTabIndex.toString()),s.BMQ("title",t.getText("applyButton")),s.R7$(2),s.JRh(t.getText("applyButton")))},encapsulation:2}),i})(),WSe=(()=>{class i{constructor(e,t,o,r,a,l,c){this.host=e,this.service=t,this.localizationService=o,this.cdr=r,this.renderer=a,this.ngZone=l,this.injector=c,this.hostClasses=!0,this.ariaRole="textbox",this.readonly=!1,this.disabled=!1,this.format="rgba",this.clearButton=!0,this.preview=!0,this.actionsLayout="end",this.views=["gradient","palette"],this.valueChange=new s.bkB,this.cancel=new s.bkB,this.activeViewChange=new s.bkB,this.clearButtonClick=new s.bkB,this.actionButtonClick=new s.bkB,this._tabindex=0,this._gradientSettings={opacity:!0,delay:0,gradientSliderStep:5,gradientSliderSmallStep:2},this._paletteSettings={},this.subscriptions=new be.yU,this.internalNavigation=!1,this.notifyNgChanged=()=>{},this.notifyNgTouched=()=>{},(0,_t.$)(Tu),this.dynamicRTLSubscription=this.localizationService.changes.subscribe(({rtl:u})=>{this.direction=u?"rtl":"ltr"})}get disabledClass(){return this.disabled}get ariaReadonly(){return this.readonly}get hostTabindex(){return this.tabindex?.toString()||"0"}get isControlInvalid(){return this.control?.invalid?.toString()}get isDisabled(){return this.disabled?.toString()||void 0}enterHandler(e){e.target===this.host.nativeElement&&(e.preventDefault(),this.internalNavigation=!0,this.ngZone.onStable.pipe(We(1)).subscribe(()=>this.firstFocusable?.focus()))}escapeHandler(){this.internalNavigation=!1,this.host.nativeElement.focus()}focusHandler(e){this.internalNavigation=e.target!==this.host.nativeElement}set value(e){this._value=Rr(e,this.format,this.gradientSettings.opacity)}get value(){return this._value}set tabindex(e){if(Ln(e)){const t=Number(e);this._tabindex=isNaN(t)?0:t}else this._tabindex=e}get tabindex(){return this.disabled?void 0:this._tabindex}set gradientSettings(e){Object.assign(this._gradientSettings,e)}get gradientSettings(){return this._gradientSettings}set paletteSettings(e){Object.assign(this._paletteSettings,e)}get paletteSettings(){return this._paletteSettings}get innerTabIndex(){return this.internalNavigation?0:-1}get firstFocusable(){return this.headerHasContent?this.headerElement.nativeElement.querySelector(".k-button"):"gradient"===this.activeView?this.gradient:this.palette}ngOnInit(){this.selection=this.value,this.control=this.injector.get(Ci,null),this._paletteSettings=this.service.getPaletteSettings(this._paletteSettings,this.format),this.setActiveView()}ngAfterViewInit(){this.setHostElementAriaLabel(),this.initDomEvents(),this.setSizingVariables(),this.ngZone.onStable.pipe(We(1)).subscribe(()=>this.removeGradientAttributes())}ngOnChanges(e){wt("value",e)&&(this.selection=this.value,this.setHostElementAriaLabel()),wt("paletteSettings",e)&&this.setSizingVariables()}ngOnDestroy(){this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe(),this.subscriptions.unsubscribe()}focusFirstHeaderButton(){this.gradientElement.nativeElement===document.activeElement&&this.headerHasContent&&!this.preview&&this.headerElement.nativeElement.querySelector(".k-button").focus()}lastFocusable(e){if(this.preview)return void this.footer.lastButton.nativeElement.focus();e.stopImmediatePropagation();const t=this.gradientElement?.nativeElement,o=this.palette?.host.nativeElement;"gradient"===this.activeView?t.focus():o.focus()}onTab(e){const{shiftKey:t}=e,o=this.preview?this.footer.firstButton.nativeElement:this.headerHasContent?Cme(this.headerElement.nativeElement):null,r=this.headerHasContent?Cme(this.headerElement.nativeElement):this.preview?this.footer.lastButton.nativeElement:null;!o&&!r||(e.preventDefault(),t?r?.focus():o?.focus())}get headerHasContent(){return this.preview||this.views.length>1||this.clearButton}isEmpty(){return!1}focus(){this.disabled||this.focused||(this.host.nativeElement.focus(),this.focused=!0)}blur(){this.focused&&(this.notifyNgTouched(),this.host.nativeElement.blur(),this.focused=!1)}reset(){Ln(this.value)&&(this.value=void 0,this.notifyNgChanged(void 0),this.setHostElementAriaLabel())}onViewChange(e){this.activeView!==e&&(this.activeView=e,this.activeViewChange.emit(e),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this[this.activeView]?.focus()})}),"gradient"===this.activeView&&this.removeGradientAttributes())}onClearButtonClick(){this.resetInnerComponentValue(),this.clearButtonClick.emit()}handleValueChange(e){this.preview?this.changeCurrentValue(e):this.setFlatColorPickerValue(e)}onAction(e){"apply"===e.target?this.setFlatColorPickerValue(this.selection):this.resetSelection(e.originalEvent),this.actionButtonClick.emit()}writeValue(e){this.value=e}registerOnChange(e){this.notifyNgChanged=e}registerOnTouched(e){this.notifyNgTouched=e}setDisabledState(e){this.cdr.markForCheck(),this.disabled=e}resetSelection(e){const t=new nqe(e);this.cancel.emit(t),t.isDefaultPrevented()||(this.selection=this.value),this.notifyNgTouched()}setHostElementAriaLabel(){const e=Rr(this.value,this.format,this.gradientSettings.opacity),t=`${this.value?e:this.localizationService.get("flatColorPickerNoColor")}`;this.renderer.setAttribute(this.host.nativeElement,"aria-label",t)}setSizingVariables(){const e=this.service.paletteTileLayout(this.paletteSettings.tileSize),t=this.host.nativeElement.querySelector(".k-coloreditor-views.k-vstack");this.renderer.setProperty(t,"style",`\n            --kendo-color-preview-columns: ${this.paletteSettings.columns};\n            --kendo-color-preview-width: ${e.width}px;\n            --kendo-color-preview-height: ${e.height}px;\n        `)}changeCurrentValue(e){this.selection=e,this.notifyNgTouched()}resetInnerComponentValue(){this.selection=null,this.gradient?this.gradient.reset():this.palette.reset()}setFlatColorPickerValue(e){this.value!==e&&(this.value=e,this.valueChange.emit(e),this.notifyNgChanged(e),this.setHostElementAriaLabel())}setActiveView(){if(Ln(this.activeView)){if((0,s.naY)()&&-1===this.views.indexOf(this.activeView))throw new Error("Invalid configuration: The current activeView is not present in the views collection")}else this.activeView=this.views[0]}initDomEvents(){if(!this.host)return;const e=this.host.nativeElement;this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(e,"focus",()=>{this.focused=!0})),this.subscriptions.add(this.renderer.listen(e,"blur",()=>{this.focused=!1,this.notifyNgTouched()}))})}removeGradientAttributes(){this.gradientElement&&this.renderer.removeAttribute(this.gradientElement.nativeElement,"role"),this.gradientElement&&this.renderer.removeAttribute(this.gradientElement.nativeElement,"aria-label")}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(OSe),s.rXU(z),s.rXU(s.gRc),s.rXU(s.sFG),s.rXU(s.SKi),s.rXU(s.zZn))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-flatcolorpicker"]],viewQuery:function(e,t){if(1&e&&(s.GBs(X1e,5),s.GBs(X1e,5,s.aKT),s.GBs(W1e,5),s.GBs(W1e,5,s.aKT),s.GBs(cYe,5),s.GBs(dYe,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.header=o.first),s.mGM(o=s.lsd())&&(t.headerElement=o.first),s.mGM(o=s.lsd())&&(t.gradient=o.first),s.mGM(o=s.lsd())&&(t.gradientElement=o.first),s.mGM(o=s.lsd())&&(t.palette=o.first),s.mGM(o=s.lsd())&&(t.footer=o.first)}},hostVars:14,hostBindings:function(e,t){1&e&&s.bIt("keydown.enter",function(r){return t.enterHandler(r)})("keydown.escape",function(){return t.escapeHandler()})("focusin",function(r){return t.focusHandler(r)}),2&e&&(s.BMQ("aria-disabled",t.isDisabled)("aria-readonly",t.ariaReadonly)("dir",t.direction)("tabindex",t.hostTabindex)("role",t.ariaRole)("aria-invalid",t.isControlInvalid),s.AVh("k-flatcolorpicker",t.hostClasses)("k-coloreditor",t.hostClasses)("k-disabled",t.disabledClass)("k-readonly",t.readonly))},inputs:{readonly:"readonly",disabled:"disabled",format:"format",value:"value",tabindex:"tabindex",clearButton:"clearButton",preview:"preview",actionsLayout:"actionsLayout",activeView:"activeView",views:"views",gradientSettings:"gradientSettings",paletteSettings:"paletteSettings"},outputs:{valueChange:"valueChange",cancel:"cancel",activeViewChange:"activeViewChange",clearButtonClick:"clearButtonClick",actionButtonClick:"actionButtonClick"},exportAs:["kendoFlatColorPicker"],features:[s.Jv_([{multi:!0,provide:zn,useExisting:(0,s.Rfq)(()=>i)},{provide:ji,useExisting:(0,s.Rfq)(()=>i)},OSe,w5,{provide:z,useExisting:w5},{provide:He,useValue:"kendo.flatcolorpicker"}]),s.OA$],decls:6,vars:4,consts:()=>{let n,e,t,o,r,a,l,c,u,f,_,S,v,b,D,k,O,I,x,P,L,H,j;return n="Flatcolorpicker nessun colore scelto",e="Colorgradient nessun colore scelto",t="Colorpalette nessun colore scelto",o="Scegli un colore",r="Cancella il valore",a="Imposta la hue",l="Imposta l'opacit\xE0",c="Rapporto di contrasto",u="Anteprima del colore",f="Ripristina la selezione",_="Vista gradiente",S="Vista palette",v="Cambia formato del colore",b="Applica",D="Annulla",k="Canale rosso",O="Canale verde",I="Canale blu",x="Canale alpha",P="Canale rosso",L="G",H="B",j="HEX",[["header",""],["gradient",""],["palette",""],["footer",""],["kendoFlatColorPickerLocalizedMessages","","flatColorPickerNoColor",n,"colorGradientNoColor",e,"colorPaletteNoColor",t,"colorGradientHandle",o,"clearButton",r,"hueSliderHandle",a,"opacitySliderHandle",l,"contrastRatio",c,"previewColor",u,"revertSelection",f,"gradientView",_,"paletteView",S,"formatButton",v,"applyButton",b,"cancelButton",D,"redChannelLabel",k,"greenChannelLabel",O,"blueChannelLabel",I,"alphaChannelLabel",x,"redChannelLabel",P,"greenInputPlaceholder",L,"blueInputPlaceholder",H,"hexInputPlaceholder",j],["kendoFlatColorPickerHeader","",3,"innerTabIndex","clearButton","activeView","views","value","selection","preview","clearButtonClick","viewChange","valuePaneClick","tabOut",4,"ngIf"],[1,"k-coloreditor-views","k-vstack"],[3,"tabindex","value","format","opacity","delay","contrastTool","gradientSliderSmallStep","gradientSliderStep","readonly","keydown.tab","valueChange",4,"ngIf"],[3,"tabindex","palette","columns","tileSize","format","value","readonly","valueChange",4,"ngIf"],["kendoFlatColorPickerActionButtons","",3,"innerTabIndex","ngClass","actionButtonClick","tabOut",4,"ngIf"],["kendoFlatColorPickerHeader","",3,"clearButtonClick","viewChange","valuePaneClick","tabOut","innerTabIndex","clearButton","activeView","views","value","selection","preview"],[3,"keydown.tab","valueChange","tabindex","value","format","opacity","delay","contrastTool","gradientSliderSmallStep","gradientSliderStep","readonly"],[3,"valueChange","tabindex","palette","columns","tileSize","format","value","readonly"],["kendoFlatColorPickerActionButtons","",3,"actionButtonClick","tabOut","innerTabIndex","ngClass"]]},template:function(e,t){1&e&&(s.eu8(0,4),s.DNE(1,uYe,2,7,"div",5),s.j41(2,"div",6),s.DNE(3,hYe,2,9,"kendo-colorgradient",7)(4,pYe,2,7,"kendo-colorpalette",8),s.k0s(),s.DNE(5,fYe,2,2,"div",9)),2&e&&(s.R7$(),s.Y8G("ngIf",t.headerHasContent),s.R7$(2),s.Y8G("ngIf","gradient"===t.activeView),s.R7$(),s.Y8G("ngIf","palette"===t.activeView),s.R7$(),s.Y8G("ngIf",t.preview))},dependencies:[$Se,FSe,jSe,XSe,HI,q,Be],encapsulation:2}),i})();const KSe=["focus","blur"];let Cqe=0,qC=(()=>{class i{constructor(e,t,o,r,a,l,c){this.host=e,this.popupService=t,this.cdr=o,this.localizationService=r,this.ngZone=a,this.renderer=l,this.injector=c,this.hostClasses=!0,this.role="combobox",this.hasPopup="dialog",this.views=["gradient","palette"],this.readonly=!1,this.disabled=!1,this.format="rgba",this.clearButton=!0,this.preview=!1,this.actionsLayout="end",this.valueChange=new s.bkB,this.open=new s.bkB,this.close=new s.bkB,this.onFocus=new s.bkB,this.onBlur=new s.bkB,this.cancel=new s.bkB,this.activeColorClick=new s.bkB,this.clearButtonClick=new s.bkB,this.activeViewChange=new s.bkB,this.isFocused=!1,this.arrowDownIcon=qo,this._tabindex=0,this._popupSettings={animate:!0},this._paletteSettings={},this._gradientSettings={opacity:!0,delay:0},this._size="medium",this._rounded="medium",this._fillMode="solid",this.subscriptions=new be.yU,this.popupSubs=new be.yU,this.notifyNgTouched=()=>{},this.notifyNgChanged=()=>{},this.domFocusListener=u=>u.stopImmediatePropagation(),(0,_t.$)(Tu),this.dynamicRTLSubscription=this.localizationService.changes.subscribe(({rtl:u})=>{this.direction=u?"rtl":"ltr"}),this.colorPickerId=Cqe++}get focusedClass(){return this.isFocused}get disabledClass(){return this.disabled}get ariaReadonly(){return this.readonly}get ariaExpanded(){return this.isOpen}get hostTabindex(){return this.tabindex}get isControlInvalid(){return this.control?.invalid?.toString()}set view(e){this.views=[e]}get view(){return this.views&&this.views.length>0?this.views[0]:null}set value(e){this._value=Rr(e,this.format,this.gradientSettings.opacity)}get value(){return this._value}set popupSettings(e){this._popupSettings=Object.assign(this._popupSettings,e)}get popupSettings(){return this._popupSettings}set paletteSettings(e){this._paletteSettings=Object.assign(this._paletteSettings,e)}get paletteSettings(){return this._paletteSettings}set gradientSettings(e){this._gradientSettings=Object.assign(this._gradientSettings,e)}get gradientSettings(){return this._gradientSettings}set svgIcon(e){if((0,s.naY)()&&e&&this.icon&&this.iconClass)throw new Error("Setting both icon/svgIcon and iconClass options at the same time is not supported.");this._svgIcon=e}get svgIcon(){return this._svgIcon}set tabindex(e){const t=Number(e);this._tabindex=isNaN(t)?0:t}get tabindex(){return this.disabled?void 0:this._tabindex}set size(e){const t=e||"medium";this.handleClasses(t,"size"),this._size=t}get size(){return this._size}set rounded(e){const t=e||"medium";this.handleClasses(t,"rounded"),this._rounded=t}get rounded(){return this._rounded}set fillMode(e){const t=e||"solid";this.handleClasses(t,"fillMode"),this._fillMode=t}get fillMode(){return this._fillMode}get isOpen(){return Ln(this.popupRef)}get customIconStyles(){if(this.iconClass){let e="";return tJ(this.iconClass).forEach(t=>{e+=t+" "}),e.slice(0,-1)}return""}get iconStyles(){return this.icon&&!this.iconClass?`${this.icon}`:""}ngOnInit(){const t=this._paletteSettings.palette;this._paletteSettings={palette:t||("name"!==this.format?"office":kSe),tileSize:this._paletteSettings.tileSize||24,columns:this._paletteSettings.columns||("string"==typeof t&&JC[t]?JC[t].columns:void 0)||10},this.handleHostId(),this.renderer.setAttribute(this.host.nativeElement,"aria-controls",`k-colorpicker-popup-${this.colorPickerId}`),this.control=this.injector.get(Ci,null)}ngAfterViewInit(){["size","rounded","fillMode"].forEach(t=>{this.handleClasses(this[t],t)}),this.setHostElementAriaLabel(),this.initDomEvents()}ngOnChanges(e){e.format&&"name"===e.format.currentValue&&(this.activeView="palette"),"gradient"===this.activeView&&this.gradientSettings.opacity&&(this.format="rgba",this.value=Rr(this.value,this.format,this.gradientSettings.opacity)),wt("value",e)&&this.setHostElementAriaLabel()}ngOnDestroy(){this.closePopup(),this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe(),this.subscriptions.unsubscribe(),this.handleDomEvents("remove",KSe)}handleCancelEvent(e){this.cancel.emit(e)}togglePopup(){this.focus(),this.toggleWithEvents(!this.isOpen)}handleWrapperClick(e){if(!this.disabled){if(this.focus(),Fl(e.target,t=>t===this.activeColor.nativeElement)){const t=new oqe(this.value);return this.activeColorClick.emit(t),void((!t.isOpenPrevented()||this.isOpen)&&this.toggleWithEvents(!this.isOpen))}this.toggleWithEvents(!this.isOpen)}}focus(){this.isFocused=!0,this.host.nativeElement.focus()}handleWrapperFocus(){this.isFocused||this.ngZone.run(()=>{this.focus(),this.onFocus.emit()})}blur(){this.isFocused=!1,this.host.nativeElement.blur(),this.notifyNgTouched()}handleWrapperBlur(){this.isOpen||this.ngZone.run(()=>{this.onBlur.emit(),this.isFocused=!1})}reset(){Ln(this.value)&&(this._value=void 0,this.setHostElementAriaLabel(),this.notifyNgChanged(void 0))}toggle(e){this.disabled||this.readonly||(this.cdr.markForCheck(),this.closePopup(),(e=Ln(e)?e:!this.isOpen)&&(this.openPopup(),this.focusFirstElement()))}handleValueChange(e){const t=Rr(e,this.format,this.gradientSettings.opacity);t!==this.value&&(this.value=t,this.valueChange.emit(t),this.setHostElementAriaLabel(),this.notifyNgChanged(t))}handlePopupBlur(e){this.popupBlurInvalid(e)||(this.isFocused=!1,this.onBlur.emit(),this.notifyNgTouched(),this.toggleWithEvents(!1))}writeValue(e){this.value=e}registerOnChange(e){this.notifyNgChanged=e}registerOnTouched(e){this.notifyNgTouched=e}setDisabledState(e){this.cdr.markForCheck(),this.disabled=e}handleWrapperKeyDown(e){(e.keyCode===G.ArrowDown||e.keyCode===G.Enter)&&(e.preventDefault(),this.ngZone.run(()=>{this.toggleWithEvents(!0)}))}handlePopupKeyDown(e){if(e.keyCode===G.Escape&&(this.toggleWithEvents(!1),this.host.nativeElement.focus()),e.keyCode===G.Tab){const o=e.shiftKey?this.lastFocusableElement.nativeElement:this.firstFocusableElement.nativeElement;e.target===(e.shiftKey?this.firstFocusableElement.nativeElement:this.lastFocusableElement.nativeElement)&&(e.preventDefault(),o.focus())}}isEmpty(){return!1}setHostElementAriaLabel(){const e=`${this.value?this.value:this.localizationService.get("colorPickerNoColor")}`;this.renderer.setAttribute(this.host.nativeElement,"aria-label",e)}handleClasses(e,t){const o=this.host.nativeElement,r=h_("picker",t,this[t],e);r.toRemove&&this.renderer.removeClass(o,r.toRemove),r.toAdd&&this.renderer.addClass(o,r.toAdd)}popupBlurInvalid(e){const t=this.popupRef.popupElement.contains(e.relatedTarget);return!(!Fl(e.relatedTarget,r=>r===this.host.nativeElement)&&!t)}toggleWithEvents(e){if(this.disabled||this.readonly||this.isOpen===e)return;let o;e?(o=new sqe,this.open.emit(o)):(o=new iqe,this.close.emit(o)),o.isDefaultPrevented()||this.toggle(e),e&&this.focusFirstElement()}focusFirstElement(){this.ngZone.onStable.pipe(We(1)).subscribe(()=>{if(this.flatColorPicker){const e=this.flatColorPicker.gradient?.gradientDragHandle,t=this.flatColorPicker.palette?.host;(e||t).nativeElement.focus()}})}openPopup(){const e="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.activeColor,animate:this.popupSettings.animate,appendTo:this.popupSettings.appendTo,popupAlign:{horizontal:e,vertical:"top"},anchorAlign:{horizontal:e,vertical:"bottom"},popupClass:"k-colorpicker-popup",content:this.popupTemplate,positionMode:"absolute"}),this.renderer.setAttribute(this.popupRef.popupElement.querySelector(".k-colorpicker-popup"),"id",`k-colorpicker-popup-${this.colorPickerId}`),this.popupSubs.add(this.popupRef.popupAnchorViewportLeave.subscribe(()=>{this.toggleWithEvents(!1),this.isOpen||this.host.nativeElement.focus({preventScroll:!0})}))}closePopup(){this.isOpen&&(this.popupSubs.unsubscribe(),this.popupRef.close(),this.popupRef=null)}get firstFocusableElement(){if(!this.flatColorPicker.header||this.views.length<=1&&!this.flatColorPicker.clearButton){const e=this.flatColorPicker.gradient;return e?e.gradientDragHandle:this.flatColorPicker.palette.host}return this.views.length>1?this.flatColorPicker.header.viewButtonsCollection.toArray()[0]:this.flatColorPicker.header.clearButtonElement}get lastFocusableElement(){if(this.preview)return this.flatColorPicker.footer.lastButton;if(this.flatColorPicker.palette)return this.flatColorPicker.palette.host;const e=this.flatColorPicker.gradient,t=e&&e.inputs;return e&&t&&"hex"===t.formatView?t.hexInput:this.gradientSettings.opacity?t.opacityInput.numericInput:t.blueInput.numericInput}handleDomEvents(e,t){const o=this.host.nativeElement;t.forEach(r=>o[`${e}EventListener`](r,this.domFocusListener,!0))}initDomEvents(){if(!this.host)return;const e=this.host.nativeElement;this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(e,"focusin",()=>{this.handleWrapperFocus()})),this.subscriptions.add(this.renderer.listen(e,"focusout",t=>{const o=!!this.popupRef&&Fl(t.relatedTarget,a=>a===this.flatColorPicker.host.nativeElement),r=Fl(t.relatedTarget,a=>a===this.host.nativeElement);!o&&!r&&this.handleWrapperBlur()})),this.handleDomEvents("add",KSe),this.subscriptions.add(this.renderer.listen(e,"keydown",t=>{this.handleWrapperKeyDown(t)})),this.subscriptions.add(this.renderer.listen(e,"click",t=>{this.ngZone.run(()=>{this.handleWrapperClick(t)})}))})}handleHostId(){const e=this.host.nativeElement,t=e.getAttribute("id");if(t)this.focusableId=t;else{const o=`k-${tn()}`;e.setAttribute("id",o),this.focusableId=o}}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(Ts),s.rXU(s.gRc),s.rXU(z),s.rXU(s.SKi),s.rXU(s.sFG),s.rXU(s.zZn))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-colorpicker"]],viewQuery:function(e,t){if(1&e&&(s.GBs(mYe,7,s.c1b),s.GBs(_Ye,7),s.GBs(gYe,7),s.GBs(SYe,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.container=o.first),s.mGM(o=s.lsd())&&(t.activeColor=o.first),s.mGM(o=s.lsd())&&(t.popupTemplate=o.first),s.mGM(o=s.lsd())&&(t.flatColorPicker=o.first)}},hostVars:20,hostBindings:function(e,t){2&e&&(s.BMQ("aria-disabled",t.disabledClass)("aria-readonly",t.ariaReadonly)("aria-expanded",t.ariaExpanded)("tabindex",t.hostTabindex)("dir",t.direction)("role",t.role)("aria-haspopup",t.hasPopup)("aria-invalid",t.isControlInvalid),s.AVh("k-colorpicker",t.hostClasses)("k-icon-picker",t.hostClasses)("k-picker",t.hostClasses)("k-focus",t.focusedClass)("k-disabled",t.disabledClass)("k-readonly",t.readonly))},inputs:{views:"views",view:"view",activeView:"activeView",readonly:"readonly",disabled:"disabled",format:"format",value:"value",popupSettings:"popupSettings",paletteSettings:"paletteSettings",gradientSettings:"gradientSettings",icon:"icon",iconClass:"iconClass",svgIcon:"svgIcon",clearButton:"clearButton",tabindex:"tabindex",preview:"preview",actionsLayout:"actionsLayout",size:"size",rounded:"rounded",fillMode:"fillMode"},outputs:{valueChange:"valueChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur",cancel:"cancel",activeColorClick:"activeColorClick",clearButtonClick:"clearButtonClick",activeViewChange:"activeViewChange"},exportAs:["kendoColorPicker"],features:[s.Jv_([{multi:!0,provide:zn,useExisting:(0,s.Rfq)(()=>i)},{provide:ji,useExisting:(0,s.Rfq)(()=>i)},kq,{provide:z,useExisting:kq},{provide:He,useValue:"kendo.colorpicker"}]),s.OA$],decls:11,vars:8,consts:()=>{let n,e,t,o,r,a,l,c,u,f,_,S,v,b,D,k,O,I,x,P,L,H,j,J;return n="Colorpicker nessun colore scelto",e="Flatcolorpicker nessun colore scelto",t="Colorgradient nessun colore scelto",o="Colorpalette nessun colore scelto",r="Scegli un colore",a="Cancella il valore",l="Imposta la hue",c="Imposta l'opacit\xE0",u="Rapporto di contrasto",f="Anteprima del colore",_="Ripristina la selezione",S="Vista gradiente",v="Vista palette",b="Cambia formato del colore",D="Applica",k="Annulla",O="Canale rosso",I="Canale verde",x="Canale blu",P="Canale alpha",L="Canale rosso",H="Verde",j="Blu",J="Colore HEX",[["activeColor",""],["popupTemplate",""],["container",""],["flatColorPicker",""],["kendoColorPickerLocalizedMessages","","colorPickerNoColor",n,"flatColorPickerNoColor",e,"colorGradientNoColor",t,"colorPaletteNoColor",o,"colorGradientHandle",r,"clearButton",a,"hueSliderHandle",l,"opacitySliderHandle",c,"contrastRatio",u,"previewColor",f,"revertSelection",_,"gradientView",S,"paletteView",v,"formatButton",b,"applyButton",D,"cancelButton",k,"redChannelLabel",O,"greenChannelLabel",I,"blueChannelLabel",x,"alphaChannelLabel",P,"redChannelLabel",L,"greenInputPlaceholder",H,"blueInputPlaceholder",j,"hexInputPlaceholder",J],[1,"k-input-inner"],[1,"k-value-icon","k-color-preview",3,"ngClass"],["innerCssClass","k-color-preview-icon",3,"name","customFontClass","svgIcon",4,"ngIf"],[1,"k-color-preview-mask"],["kendoButton","","tabindex","-1","type","button","icon","caret-alt-down","aria-hidden","true",1,"k-input-button",3,"svgIcon"],["innerCssClass","k-color-preview-icon",3,"name","customFontClass","svgIcon"],[3,"cancel","focusout","valueChange","keydown","activeViewChange","clearButtonClick","actionButtonClick","value","format","views","activeView","actionsLayout","preview","gradientSettings","paletteSettings","clearButton"]]},template:function(e,t){1&e&&(s.eu8(0,4),s.j41(1,"span",5,0)(3,"span",6),s.DNE(4,CYe,1,3,"kendo-icon-wrapper",7),s.nrm(5,"span",8),s.k0s()(),s.nrm(6,"button",9),s.DNE(7,bYe,2,9,"ng-template",null,1,s.C5r),s.eu8(9,null,2)),2&e&&(s.R7$(3),s.Y8G("ngClass",s.l_i(5,vYe,t.customIconStyles||t.iconStyles||t.svgIcon,!t.value)),s.R7$(),s.Y8G("ngIf",t.iconClass||t.icon||t.svgIcon),s.R7$(),s.xc7("background-color",t.value),s.R7$(),s.Y8G("svgIcon",t.arrowDownIcon))},dependencies:[Qe,Ht,WSe,HI,Be,q],encapsulation:2}),i})(),YSe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[SSe,FD,Ge,ia,wD,cr,xn]]}),i})(),Oq=(()=>{class i{constructor(e,t){this.renderer=e,this.hostElement=t,this.kendoClass=!0,this._size="medium",this._rounded="medium"}set size(e){const t=e||"medium";this.handleClasses(t,"size"),this._size=t}get size(){return this._size}set rounded(e){const t=e||"medium";this.handleClasses(t,"rounded"),this._rounded=t}get rounded(){return this._rounded}ngAfterViewInit(){["size","rounded"].forEach(t=>{this.handleClasses(this[t],t)})}handleClasses(e,t){const o=this.hostElement.nativeElement,r=h_("checkbox",t,this[t],e);r.toRemove&&this.renderer.removeClass(o,r.toRemove),r.toAdd&&this.renderer.addClass(o,r.toAdd)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.sFG),s.rXU(s.aKT))},i.\u0275dir=s.FsC({type:i,selectors:[["input","kendoCheckBox",""]],hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-checkbox",t.kendoClass)},inputs:{size:"size",rounded:"rounded"}}),i})(),Tq=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge]]}),i})(),kqe=(()=>{class i{constructor(e,t){this.renderer=e,this.hostElement=t,this.kendoClass=!0,this._size="medium",(0,_t.$)(Tu)}set size(e){const t=e||"medium";this.handleClasses(t,"size"),this._size=t}get size(){return this._size}ngAfterViewInit(){["size"].forEach(t=>{this.handleClasses(this[t],t)})}handleClasses(e,t){const o=this.hostElement.nativeElement,r=h_("radio",t,this[t],e);r.toRemove&&this.renderer.removeClass(o,r.toRemove),r.toAdd&&this.renderer.addClass(o,r.toAdd)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.sFG),s.rXU(s.aKT))},i.\u0275dir=s.FsC({type:i,selectors:[["input","kendoRadioButton",""]],hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-radio",t.kendoClass)},inputs:{size:"size"}}),i})(),Oqe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge]]}),i})(),Tqe=0,__=(()=>{class i{constructor(){this.hostClass=!0,this.align="start",this.id="kendo-error-"+Tqe++,this.roleAttribute="alert"}get startClass(){return"start"===this.align}get endClass(){return"end"===this.align}get idAttribute(){return this.id}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-formerror"]],hostVars:8,hostBindings:function(e,t){2&e&&(s.BMQ("role",t.roleAttribute)("id",t.idAttribute),s.AVh("k-form-error",t.hostClass)("k-text-start",t.startClass)("k-text-end",t.endClass))},inputs:{align:"align"},ngContentSelectors:p5,decls:1,vars:0,template:function(e,t){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2}),i})(),Mqe=0,Iqe=(()=>{class i{constructor(){this.align="start",this.id="kendo-hint-"+Mqe++,this.hostClass=!0}get startClass(){return"start"===this.align}get endClass(){return"end"===this.align}get idAttribute(){return this.id}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-formhint"]],hostVars:7,hostBindings:function(e,t){2&e&&(s.BMQ("id",t.idAttribute),s.AVh("k-form-hint",t.hostClass)("k-text-start",t.startClass)("k-text-end",t.endClass))},inputs:{align:"align"},ngContentSelectors:p5,decls:1,vars:0,template:function(e,t){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2}),i})(),ol=(()=>{class i{constructor(e,t,o){this.renderer=e,this.localizationService=t,this.hostElement=o,this.hostClass=!0,this.showHints="initial",this.orientation="vertical",this.showErrors="initial",this.subscriptions=new be.yU,this.rtl=!1,(0,_t.$)(Tu),this.subscriptions.add(this.localizationService.changes.subscribe(({rtl:r})=>{this.rtl=r,this.direction=this.rtl?"rtl":"ltr"}))}get errorClass(){return!!this.control&&this.control.invalid&&(this.control.touched||this.control.dirty)}get disabledClass(){return!(!this.control||this.isRadioControl(this.control))&&(this.disabledControl()||this.disabledElement()||this.disabledKendoInput())}set formControls(e){this.validateFormControl(e),this.control=e.first}get horizontal(){return"horizontal"===this.orientation}get hasHints(){return"always"===this.showHints||this.showHintsInitial()}get hasErrors(){return"always"===this.showErrors||this.showErrorsInitial()}ngAfterViewInit(){this.setDescription()}ngAfterViewChecked(){this.updateDescription()}ngOnDestroy(){this.subscriptions.unsubscribe()}disabledKendoInput(){return this.kendoInput&&this.kendoInput.disabled}disabledControl(){return this.control.disabled}disabledElement(){return this.controlElementRefs.toArray().every(t=>t.nativeElement.hasAttribute("disabled"))}validateFormControl(e){if((0,s.naY)()&&1!==e.length&&!this.isControlGroup(e))throw new Error("The `kendo-formfield` component should contain only one control of type NgControl with a formControlName(https://angular.io/api/forms/FormControlName)or an ngModel(https://angular.io/api/forms/NgModel) binding.")}isControlGroup(e){if(!e.length)return!1;const t=e.first.name;return e.toArray().every(o=>o.name===t&&this.isRadioControl(o))}isRadioControl(e){return e.valueAccessor instanceof $J}updateDescription(){const e=this.findControlElements();e&&e.forEach(t=>{if(this.errorChildren.length>0||this.hintChildren.length>0){const o=this.generateDescriptionIds(t);""!==o?this.renderer.setAttribute(t,"aria-describedby",o):this.renderer.removeAttribute(t,"aria-describedby")}})}findControlElements(){if(this.controlElementRefs)return this.kendoInput&&this.kendoInput.focusableId&&ne()?[this.hostElement.nativeElement.querySelector(`#${this.kendoInput.focusableId}`)]:this.controlElementRefs.map(e=>e.nativeElement)}generateDescriptionIds(e){const t=new Set;let o="";if(e.hasAttribute("aria-describedby")){const r=e.getAttribute("aria-describedby").split(" ");o=r.filter(a=>a.includes("kendo-error-"))[0],r.forEach(a=>{a.includes("kendo-hint-")||a.includes("kendo-error-")||t.add(a)})}return this.hintChildren.forEach(r=>{t.add(r.id)}),this.hasErrors?this.errorChildren.forEach(r=>{t.add(r.id)}):t.delete(o),Array.from(t).join(" ")}showHintsInitial(){if(!this.control)return!0;const{valid:e,untouched:t,pristine:o}=this.control;return e||t&&o}showErrorsInitial(){if(!this.control)return!1;const{invalid:e,dirty:t,touched:o}=this.control;return e&&(t||o)}setDescription(){this.updateDescription(),this.subscriptions.add(this.errorChildren.changes.subscribe(()=>this.updateDescription())),this.subscriptions.add(this.hintChildren.changes.subscribe(()=>this.updateDescription()))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.sFG),s.rXU(z),s.rXU(s.aKT))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-formfield"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,ji,7),s.wni(o,Ci,5),s.wni(o,Ci,5,s.aKT),s.wni(o,__,5),s.wni(o,Iqe,5)),2&e){let r;s.mGM(r=s.lsd())&&(t.kendoInput=r.first),s.mGM(r=s.lsd())&&(t.formControls=r),s.mGM(r=s.lsd())&&(t.controlElementRefs=r),s.mGM(r=s.lsd())&&(t.errorChildren=r),s.mGM(r=s.lsd())&&(t.hintChildren=r)}},hostVars:7,hostBindings:function(e,t){2&e&&(s.BMQ("dir",t.direction),s.AVh("k-form-field",t.hostClass)("k-form-field-error",t.errorClass)("k-form-field-disabled",t.disabledClass))},inputs:{showHints:"showHints",orientation:"orientation",showErrors:"showErrors"},features:[s.Jv_([z,{provide:He,useValue:"kendo.formfield"}])],ngContentSelectors:yYe,decls:5,vars:2,consts:[[1,"k-form-field-wrap"],[4,"ngIf"]],template:function(e,t){1&e&&(s.NAR(EYe),s.SdG(0),s.j41(1,"div",0),s.SdG(2,1),s.DNE(3,DYe,1,0,"ng-content",1)(4,wYe,1,0,"ng-content",1),s.k0s()),2&e&&(s.R7$(3),s.Y8G("ngIf",t.hasHints),s.R7$(),s.Y8G("ngIf",t.hasErrors))},dependencies:[q],encapsulation:2}),i})(),Mq=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge]]}),i})(),Aqe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[cr,Ge,B_e,xn]]}),i})(),xqe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,xn]]}),i})(),jI=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge],wq,YC,SSe,UJe,vSe,FD,FJe,YSe,Tq,Oqe,Mq,Aqe,xqe]}),i})();const Nqe=["kendoTreeViewGroup",""],Lqe=(i,n)=>({$implicit:i,index:n}),Pqe=i=>({index:i});function Gqe(i,n){if(1&i){const e=s.RV6();s.j41(0,"span",12),s.bIt("click",function(){s.eBV(e);const o=s.XpG(),r=o.$implicit,a=o.index,l=s.XpG();return s.Njj(l.expandNode(l.nodeIndex(a),r,!l.isExpanded(r,l.nodeIndex(a))))}),s.nrm(1,"kendo-icon-wrapper",13),s.k0s()}if(2&i){const e=s.XpG(),t=e.$implicit,o=e.index,r=s.XpG();s.AVh("k-disabled",!r.isItemExpandable(t,o)),s.Y8G("kendoTreeViewLoading",r.nodeIndex(o)),s.R7$(),s.Y8G("name",r.getFontIcon(t,r.nodeIndex(o)))("svgIcon",r.getSvgIcon(t,r.nodeIndex(o)))}}function Uqe(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-checkbox",14),s.bIt("checkStateChange",function(){s.eBV(e);const o=s.XpG().index,r=s.XpG();return s.Njj(r.checkNode(r.nodeIndex(o)))}),s.k0s()}if(2&i){const e=s.XpG(),t=e.$implicit,o=e.index,r=s.XpG();s.AVh("k-disabled",r.isItemDisabled(t,o)),s.Y8G("size",r.size)("node",t)("index",r.nodeIndex(o))("isChecked",r.isChecked)("tabindex",-1)("labelledby",r.nodeIndex(o))}}function Fqe(i,n){}function Bqe(i,n){if(1&i&&(s.qex(0),s.DNE(1,Fqe,0,0,"ng-template",15),s.bVm()),2&i){const e=s.XpG(),t=e.$implicit,o=e.index,r=s.XpG();s.R7$(),s.Y8G("ngTemplateOutlet",r.nodeTemplateRef)("ngTemplateOutletContext",s.l_i(2,Lqe,t,r.nodeIndex(o)))}}function Vqe(i,n){if(1&i&&(s.qex(0),s.EFF(1),s.bVm()),2&i){const e=s.XpG().$implicit,t=s.XpG();s.R7$(),s.SpI(" ",t.nodeText(e)," ")}}function zqe(i,n){if(1&i&&s.nrm(0,"ul",16),2&i){const e=s.XpG(),t=e.$implicit,o=e.index,r=s.XpG();s.Y8G("size",r.size)("nodes",r.fetchChildren)("loadOnDemand",r.loadOnDemand)("checkboxes",r.checkboxes)("expandIcons",r.expandIcons)("selectable",r.selectable)("touchActions",r.touchActions)("children",r.children)("hasChildren",r.hasChildren)("isChecked",r.isChecked)("isDisabled",r.isDisabled)("hasCheckbox",r.hasCheckbox)("disabled",r.isItemDisabled(t,o))("expandDisabledNodes",r.expandDisabledNodes)("isExpanded",r.isExpanded)("isSelected",r.isSelected)("isVisible",r.isVisible)("nodeTemplateRef",r.nodeTemplateRef)("loadMoreButtonTemplateRef",r.loadMoreButtonTemplateRef)("parentIndex",r.nodeIndex(o))("parentDataItem",t)("textField",r.nextFields)("loadMoreService",r.loadMoreService)("@toggle",!0)("trackBy",r.trackBy)("disableParentNodesOnly",r.disableParentNodesOnly)}}function Hqe(i,n){if(1&i&&(s.j41(0,"li",2)(1,"div",3),s.DNE(2,Gqe,2,5,"span",4)(3,Uqe,1,8,"kendo-checkbox",5),s.j41(4,"span",6)(5,"span",7),s.qex(6,8),s.DNE(7,Bqe,2,5,"ng-container",9)(8,Vqe,2,1,"ng-container",10),s.bVm(),s.k0s()()(),s.DNE(9,zqe,1,26,"ul",11),s.k0s()),2&i){const e=n.$implicit,t=n.index,o=s.XpG();s.AVh("k-hidden",!o.isVisible(e,o.nodeIndex(t))),s.Y8G("dataItem",e)("index",o.nodeIndex(t))("parentDataItem",o.parentDataItem)("parentIndex",o.parentIndex)("loadOnDemand",o.loadOnDemand)("checkable",o.checkboxes)("isChecked",o.isChecked(e,o.nodeIndex(t)))("isDisabled",o.isItemDisabled(e,t))("isVisible",o.isVisible(e,o.nodeIndex(t)))("expandable",o.expandIcons&&o.hasChildren(e))("isExpanded",o.isExpanded(e,o.nodeIndex(t)))("selectable",o.selectable)("isSelected",o.isSelected(e,o.nodeIndex(t))),s.BMQ("aria-setsize",o.totalNodesCount)("data-treeindex",o.nodeIndex(t)),s.R7$(),s.Y8G("ngClass",o.setItemClasses(o.data.length,t)),s.R7$(),s.Y8G("ngIf",o.expandIcons&&o.hasChildren(e)),s.R7$(),s.Y8G("ngIf",o.checkboxes&&o.hasCheckbox(e,o.nodeIndex(t))),s.R7$(),s.xc7("touch-action",o.touchActions?"":"none"),s.AVh("k-disabled",o.isItemDisabled(e,t)),s.Y8G("id",o.nodeIndex(t))("dataItem",e)("index",o.nodeIndex(t))("initialSelection",o.isSelected(e,o.nodeIndex(t)))("isSelected",o.isSelected),s.BMQ("data-treeindex",o.nodeIndex(t)),s.R7$(2),s.Y8G("ngSwitch",o.hasTemplate),s.R7$(),s.Y8G("ngSwitchCase",!0),s.R7$(2),s.Y8G("ngIf",o.isExpanded(e,o.nodeIndex(t))&&o.hasChildren(e))}}function jqe(i,n){1&i&&s.nrm(0,"span",22)}function $qe(i,n){}function Xqe(i,n){if(1&i&&s.DNE(0,$qe,0,0,"ng-template",15),2&i){const e=s.XpG(2);s.Y8G("ngTemplateOutlet",e.loadMoreButtonTemplateRef)("ngTemplateOutletContext",s.eq3(2,Pqe,e.loadMoreButtonIndex))}}function Wqe(i,n){if(1&i&&(s.qex(0),s.EFF(1),s.bVm()),2&i){const e=s.XpG(2);s.R7$(),s.SpI(" ",e.loadMoreTitle," ")}}function Kqe(i,n){if(1&i&&(s.j41(0,"li",17)(1,"div",18),s.DNE(2,jqe,1,0,"span",19),s.j41(3,"span",20)(4,"span",7),s.DNE(5,Xqe,1,4,null,21)(6,Wqe,2,1,"ng-container",21),s.k0s()()()()),2&i){const e=s.XpG();s.AVh("k-treeview-load-more-checkboxes-container",e.checkboxes),s.Y8G("selectable",!1)("checkable",!1)("expandable",!1)("index",e.loadMoreButtonIndex)("parentDataItem",e.parentDataItem)("parentIndex",e.parentIndex),s.BMQ("data-treeindex",e.loadMoreButtonIndex),s.R7$(2),s.Y8G("ngIf",e.loadingMoreNodes),s.R7$(),s.Y8G("index",e.loadMoreButtonIndex),s.BMQ("data-treeindex",e.loadMoreButtonIndex),s.R7$(2),s.Y8G("ngIf",e.loadMoreButtonTemplateRef),s.R7$(),s.Y8G("ngIf",!e.loadMoreButtonTemplateRef)}}const Yqe=["assetsContainer"],Jqe=["searchbox"];function qqe(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",8),2&i){const e=s.XpG(2);s.Y8G("svgIcon",e.searchIcon)}}function Qqe(i,n){if(1&i){const e=s.RV6();s.j41(0,"span",5)(1,"kendo-textbox",6,1),s.bIt("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.filterChange.emit(o))}),s.DNE(3,qqe,1,1,"ng-template",7),s.k0s()()}if(2&i){const e=s.XpG();s.R7$(),s.Y8G("size",e.size)("value",e.filter)("clearButton",!0)("placeholder",e.filterInputPlaceholder)}}const lQe={name:"@progress/kendo-angular-treeview",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925267,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};class Iq{constructor(){this.changes=new s.bkB}notify(){this.changes.emit()}}const cQe=()=>!1,dQe=()=>"none",uQe=()=>!1,hQe=()=>!0,pQe=()=>!0,ZSe=()=>!1,eve=()=>!0,fQe=(i,n)=>n;let $I=(()=>{class i{constructor(){this.changes=new Ke.B}expand(e,t){this.changes.next({dataItem:t,index:e,expand:!0})}collapse(e,t){this.changes.next({dataItem:t,index:e,expand:!1})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),BD=(()=>{class i{constructor(){this.INDEX_SEPARATOR="_"}nodeIndex(e="",t=""){return`${t}${t?this.INDEX_SEPARATOR:""}${e}`}indexForLevel(e,t){return e.split(this.INDEX_SEPARATOR).slice(0,t).join(this.INDEX_SEPARATOR)}lastLevelIndex(e=""){const t=e.split(this.INDEX_SEPARATOR);return t.length?parseInt(t[t.length-1],10):NaN}level(e){return e.split(this.INDEX_SEPARATOR).length}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),Rq=(()=>{class i{constructor(){this.changes=new Ke.B}notifyLoaded(e){this.changes.next(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const mQe=/^(?:a|input|select|option|textarea|button|object)$/i,QC=(i,n)=>{const e=i.matches||i.msMatchesSelector||i.webkitMatchesSelector;return!!e&&e.call(i,n)},VD=(i,n)=>{if(!document.documentElement.contains(i))return null;let e=i;for(;null!==e&&1===e.nodeType;){if(QC(e,n))return e;e=e.parentElement||e.parentNode}return null},ke=i=>null!=i,ive=i=>Array.isArray(i),ZC=i=>{const n="li.k-treeview-item";return ne()?i.closest?i.closest(n):VD(i,n):null},sve=i=>{if(i.tagName){const n=i.tagName.toLowerCase(),e=i.getAttribute("tabIndex"),t="-1"===e;let o=null!==e&&!t;return mQe.test(n)&&(o=!i.disabled&&!t),o}return!1},ove=i=>ke(VD(i,".k-treeview-leaf.k-treeview-load-more-button")),Nq=(i,n)=>!!((i,n)=>{for(;i&&!n(i);)i=i.parentNode;return i})(i,e=>e===n),rve=i=>i.nativeElement.querySelector('li[tabindex="0"]'),Lq=i=>i?i.getAttribute("data-treeindex"):"",lf=i=>(i||{}).index,XI=(i,n)=>[i,n].filter(e=>ke(e)).join("_"),A5=(i,n)=>({small:`k-${i}-sm`,medium:`k-${i}-md`,large:`k-${i}-lg`}[n]),Pq=i=>i||{},Gq=i=>Pq(i).children||[],Uq=i=>{if(!Array.isArray(i)||0===i.length)return null;for(let t=i.length-1;t>=0;t-=1){const o=i[t];if(o.visible)return o}return null};class yQe{constructor(){this.ib=new BD,this.nodes=[]}firstVisibleNode(){return(this.nodes||[]).find(n=>n.visible)}lastVisibleNode(){let n=Uq(this.nodes);for(;ke(n)&&Gq(n).length>0;){const e=Gq(n),t=Uq(e);if(!ke(t))return n;n=t}return n}closestNode(n){const{prev:e}=Pq(this.findNode(n)),t=e||this.firstVisibleNode();return Pq(t).index===n?this.visibleSibling(t,1):t}firstFocusableNode(){return this.nodes.find(n=>!n.disabled&&n.visible)}findNode(n){return this.find(n,this.nodes)}findParent(n){const e=this.ib.level(n)-1;return this.findNode(this.ib.indexForLevel(n,e))}findVisibleChild(n){const e=this.findNode(n);return Gq(e).find(o=>o.visible)}findVisiblePrev(n){const e=n.index,t=this.findParent(e),o=this.ib.lastLevelIndex(e),a=this.container(t).slice(0,o).every(u=>!u.visible);if(0===o||a)return t;const l=this.findNode(e);let c=this.visibleSibling(l,-1);if(c){let u=this.container(c);for(;u.length>0&&u.some(f=>f.visible);)c=Uq(u),u=this.container(c)}return c}findVisibleNext(n){const e=this.container(n),t=e.some(o=>o.visible);return 0!==e.length&&t?e.find(o=>o.visible):this.visibleSibling(n,1)}registerItem(n,e,t,o=!1,r=!0){const a=[],l=this.ib.level(e),c=this.findParent(e);(c||1===l)&&this.insert({id:n,children:a,index:e,parent:c,disabled:t,loadMoreButton:o,visible:r},c)}unregisterItem(n,e){const t=this.find(e,this.nodes);if(!t||t.id!==n)return;const o=this.container(t.parent);o.splice(o.indexOf(t),1)}childLevel(n){const e=n.filter(t=>ke(t));return e&&e.length?this.ib.level(e[0].index):1}container(n){return n?n.children:this.nodes}find(n,e){const t=this.childLevel(e),o=this.ib.indexForLevel(n,t),r=t===this.ib.level(n),a=e.find(l=>l&&l.index===o);return a?r?a:this.find(n,a.children):null}insert(n,e){this.container(e).splice(this.ib.lastLevelIndex(n.index),0,n)}visibleSibling(n,e){if(!n)return null;const t=this.findParent(n.index),o=this.container(t);let r=o.indexOf(n)+e,a=o[r];for(;ke(a);){if(a.visible)return a;r+=e,a=o[r]}return this.visibleSibling(t,e)}}let HD=(()=>{class i{constructor(e){this.localization=e,this.expands=new Ke.B,this.moves=new Ke.B,this.checks=new Ke.B,this.selects=new Ke.B,this.deselectAllButCurrentItem=new Ke.B,this.loadMore=new Ke.B,this.navigable=!0,this.selection="single",this.actions={[G.ArrowUp]:()=>this.activate(this.model.findVisiblePrev(this.focusableItem),!0),[G.ArrowDown]:()=>this.activate(this.model.findVisibleNext(this.focusableItem),!0),[G.ArrowLeft]:()=>!this.isLoadMoreButton&&this.expand({expand:this.localization.rtl,intercept:this.localization.rtl?this.moveToFirstVisibleChild:this.moveToParent}),[G.ArrowRight]:()=>!this.isLoadMoreButton&&this.expand({expand:!this.localization.rtl,intercept:this.localization.rtl?this.moveToParent:this.moveToFirstVisibleChild}),[G.Home]:()=>this.activate(this.model.firstVisibleNode(),!0),[G.End]:()=>this.activate(this.model.lastVisibleNode(),!0),[G.Enter]:t=>this.handleEnter(t),[G.Space]:()=>this.handleSpace()},this.isFocused=!1,this.shouldScroll=!1,this._model=new yQe,this.moveToFirstVisibleChild=this.moveToFirstVisibleChild.bind(this),this.moveToParent=this.moveToParent.bind(this)}get model(){return this._model}set model(e){this._model=e}get activeIndex(){return lf(this.activeItem)||null}get isActiveExpanded(){return this.activeItem&&this.activeItem.children.length>0}get isLoadMoreButton(){return this.activeItem&&this.activeItem.loadMoreButton}get focusableItem(){return this.activeItem||this.model.firstFocusableNode()}activate(e,t=!1){!this.navigable||!e||this.isActive(lf(e))||(this.isFocused=!0,this.activeItem=e||this.activeItem,this.shouldScroll=t,this.notifyMove())}activateParent(e){this.activate(this.model.findParent(e))}activateIndex(e){e&&this.activate(this.model.findNode(e))}activateClosest(e){!e||lf(this.focusableItem)!==e||(this.activeItem=this.model.closestNode(e),this.notifyMove())}activateFocusable(){this.activeItem||(this.activeItem=this.model.firstVisibleNode(),this.notifyMove())}deactivate(){!this.navigable||!this.isFocused||(this.isFocused=!1,this.notifyMove())}checkIndex(e){this.isDisabled(e)||this.checks.next(e)}selectIndex(e){this.isDisabled(e)||this.selects.next(e)}notifyLoadMore(e){ke(e)&&this.loadMore.next(e)}isActive(e){return!!e&&this.isFocused&&this.activeIndex===e}isFocusable(e){return lf(this.focusableItem)===e}isDisabled(e){return!!e&&this.model.findNode(e).disabled}registerItem(e,t,o,r=!1,a=!0){const l=this.model.findNode(t);ke(l)&&(this.model.unregisterItem(l.id,l.index),this.isActive(t)&&this.deactivate()),this.model.registerItem(e,t,o,r,a)}updateItem(e,t,o=!0){const r=this.model.findNode(e);ke(r)&&this.isActive(e)&&this.deactivate(),r.disabled=t,r.visible=o}unregisterItem(e,t){this.isActive(t)&&this.activateParent(t),this.model.unregisterItem(e,t)}move(e){if(!this.navigable)return;const t=this.actions[e.keyCode];t&&(t(e),e.preventDefault())}expand({expand:e,intercept:t}){const o=lf(this.activeItem);!o||t(o)||this.notifyExpand(e)}moveToParent(){return!this.isActiveExpanded&&(this.activate(this.model.findParent(lf(this.activeItem))),!0)}moveToFirstVisibleChild(){return!!this.isActiveExpanded&&(this.activate(this.model.findVisibleChild(lf(this.activeItem))),!0)}notifyExpand(e){this.expands.next(this.navigationState(e))}notifyMove(){this.moves.next(this.navigationState())}navigationState(e=!1){return{expand:e,index:this.activeIndex,isFocused:this.isFocused,shouldScroll:this.shouldScroll}}handleEnter(e){this.navigable&&(this.isLoadMoreButton?this.notifyLoadMore(this.activeIndex):e.ctrlKey||e.metaKey?this.selectIndex(this.activeIndex):"multiple"===this.selection?this.deselectAllButCurrentItem.next({dataItem:this.activeItem,index:this.activeIndex}):this.selectIndex(this.activeIndex))}handleSpace(){this.navigable&&(this.isLoadMoreButton?this.notifyLoadMore(this.activeIndex):this.checkIndex(this.activeIndex))}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(z))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),Fq=(()=>{class i{constructor(){this.changes=new Ke.B}childrenLoaded(e,t){this.changes.next({item:e,children:t})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),Bq=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoTreeViewNodeTemplate",""]]}),i})(),Vq=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoTreeViewLoadMoreButtonTemplate",""]]}),i})(),cf=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),WI=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),x5=(()=>{class i{constructor(){this.changes=new Ke.B}isFirstSelected(e){return this.firstIndex===e}setFirstSelected(e,t){this.firstIndex===e&&!1===t?this.firstIndex=null:!this.firstIndex&&t&&(this.firstIndex=e)}select(e,t){this.changes.next({dataItem:t,index:e})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const DQe=/\d+$/;let N5=(()=>{class i{constructor(){this.map=new Map}reset(){this.map.clear()}registerItem(e,t){const o={children:[],item:e,parent:this.item(lf(t))};this.map.set(e.index,o)}registerChildren(e,t){const o=this.item(e);o&&(o.children=t)}unregisterItem(e,t){const o=this.item(e);o&&o.item.dataItem===t&&(this.map.delete(e),o.parent&&o.parent.children&&(o.parent.children=o.parent.children.filter(r=>r.dataItem!==t)))}replaceItem(e,t,o){t&&(this.unregisterItem(e,t.dataItem),this.registerItem(t,o),this.addToParent(t,o))}itemLookup(e){const t=this.item(e);return t?{children:this.mapChildren(t.children),item:t.item,parent:t.parent}:null}hasItem(e){return this.map.has(e)}item(e){return this.map.get(e)||null}addToParent(e,t){if(t){const o=this.item(t.index),r=parseInt(DQe.exec(e.index)[0],10);o.children=o.children||[],o.children.splice(r,0,e)}}mapChildren(e=[]){return e.map(t=>{const{item:o,parent:r,children:a}=this.item(t.index);return{children:this.mapChildren(a),item:o,parent:r}})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),hve=(()=>{class i{constructor(e,t,o){this.element=e,this.renderer=t,this.changeDetector=o,this.id=`_${tn()}`,this.tabindex=0,this.size="medium",this.checkStateChange=new s.bkB,this.checkState="none"}get classWrapper(){return!0}get indeterminate(){return"indeterminate"===this.checkState}get checked(){return"checked"===this.checkState}get checkBoxClasses(){return`k-checkbox ${this.size?A5("checkbox",this.size):""} k-rounded-md`}ngOnInit(){this.renderer.removeAttribute(this.element.nativeElement,"tabindex")}ngDoCheck(){this.checkState=this.isChecked(this.node,this.index)}handleChange(e){const t=e.target.checked?"checked":"none";this.checkState=t,this.changeDetector.detectChanges(),this.checkStateChange.emit(t)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(s.gRc))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-checkbox"]],hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-checkbox-wrap",t.classWrapper)},inputs:{id:"id",isChecked:"isChecked",node:"node",index:"index",labelledby:"labelledby",tabindex:"tabindex",size:"size"},outputs:{checkStateChange:"checkStateChange"},decls:1,vars:8,consts:[["type","checkbox","role","none",3,"change","id","checked","indeterminate","tabindex"]],template:function(e,t){1&e&&(s.j41(0,"input",0),s.bIt("change",function(r){return t.handleChange(r)}),s.k0s()),2&e&&(s.HbH(t.checkBoxClasses),s.Y8G("id",t.id)("checked",t.checked)("indeterminate",t.indeterminate)("tabindex",t.tabindex),s.BMQ("aria-hidden","true")("aria-labelledby",t.labelledby))},encapsulation:2}),i})();const pve=(i,n)=>({dataItem:n,index:i});let wQe=0,fve=(()=>{class i{constructor(e,t,o,r,a,l,c){this.element=e,this.expandService=t,this.navigationService=o,this.selectionService=r,this.lookupService=a,this.renderer=l,this.ib=c,this.role="treeitem",this.loadOnDemand=!0,this.isDisabled=!1,this.isVisible=!0,this.ariaChecked="false",this.id=wQe++,this.isInitialized=!1,this.subscriptions=[],this.subscribe()}set isChecked(e){this.ariaChecked="checked"===e?"true":"indeterminate"===e?"mixed":"false"}get isExpanded(){return this._isExpanded||!1}set isExpanded(e){this._isExpanded=e}get isSelected(){return this._isSelected||!1}set isSelected(e){this._isSelected=e}get isButton(){return"button"===this.role}get treeItem(){return pve(this.index,this.dataItem)}get parentTreeItem(){return this.parentDataItem?pve(this.parentIndex,this.parentDataItem):null}ngOnInit(){this.loadOnDemand&&!this.isButton&&this.lookupService.registerItem(this.treeItem,this.parentTreeItem),this.registerNavigationItem(),this.isInitialized=!0,this.setAttribute("role",this.role),this.setAriaAttributes(),this.updateTabIndex()}ngOnChanges(e){const{index:t}=e;Fi(["index","checkable","isChecked","expandable","isExpanded","selectable","isSelected"],e)&&this.setAriaAttributes(),this.loadOnDemand&&!this.isButton&&this.moveLookupItem(e),this.moveNavigationItem(t),Fi(["isDisabled","isVisible"],e)&&this.updateNodeAvailability()}ngOnDestroy(){this.navigationService.unregisterItem(this.id,this.index),this.loadOnDemand&&!this.isButton&&this.lookupService.unregisterItem(this.index,this.dataItem),this.subscriptions=this.subscriptions.reduce((e,t)=>(t.unsubscribe(),e),[])}subscribe(){this.subscriptions=[this.navigationService.moves.subscribe(e=>{this.updateTabIndex(),this.focusItem(e.shouldScroll)}),this.navigationService.expands.pipe(X(({index:e})=>e===this.index&&!this.isDisabled)).subscribe(({expand:e})=>this.expand(e))]}registerNavigationItem(){this.navigationService.registerItem(this.id,this.index,this.isDisabled,this.isButton,this.isVisible),this.activateItem()}activateItem(){if(this.isDisabled)return;const e=this.navigationService,t=this.selectionService,o=this.index;t.setFirstSelected(o,this.isSelected),!e.isActive(o)&&t.isFirstSelected(o)&&e.activateIndex(o)}expand(e){this.expandService[e?"expand":"collapse"](this.index,this.dataItem)}isFocusable(){return!this.isDisabled&&this.navigationService.isFocusable(this.index)}focusItem(e=!1){this.isInitialized&&this.navigationService.isActive(this.index)&&this.element.nativeElement.focus({preventScroll:!e})}moveLookupItem(e={}){const{dataItem:t,index:o,parentDataItem:r,parentIndex:a}=e;o&&o.firstChange||!(t||o||r||a)||this.lookupService.replaceItem((o||{}).previousValue||this.index,this.treeItem,this.parentTreeItem)}moveNavigationItem(e={}){const{currentValue:t,firstChange:o,previousValue:r}=e;!o&&ke(t)&&ke(r)&&(this.navigationService.unregisterItem(this.id,r),this.navigationService.registerItem(this.id,t,this.isDisabled,this.isButton))}updateNodeAvailability(){const e=this.navigationService;this.isDisabled||!this.isVisible?e.activateClosest(this.index):e.activateFocusable(),e.updateItem(this.index,this.isDisabled,this.isVisible)}setAriaAttributes(){this.setAttribute("aria-level",this.ib.level(this.index).toString()),this.setAttribute("aria-expanded",this.expandable?this.isExpanded.toString():null),this.setAttribute("aria-selected",this.selectable?this.isSelected.toString():null),this.setAttribute("aria-checked",this.checkable?this.ariaChecked:null)}updateTabIndex(){this.setAttribute("tabIndex",this.isFocusable()?"0":"-1")}setAttribute(e,t){ke(t)?this.renderer.setAttribute(this.element.nativeElement,e,t):this.renderer.removeAttribute(this.element.nativeElement,e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU($I),s.rXU(HD),s.rXU(x5),s.rXU(N5),s.rXU(s.sFG),s.rXU(BD))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoTreeViewItem",""]],inputs:{dataItem:"dataItem",index:"index",parentDataItem:"parentDataItem",parentIndex:"parentIndex",role:"role",loadOnDemand:"loadOnDemand",checkable:"checkable",selectable:"selectable",expandable:"expandable",isChecked:"isChecked",isDisabled:"isDisabled",isVisible:"isVisible",isExpanded:"isExpanded",isSelected:"isSelected"},features:[s.OA$]}),i})(),mve=(()=>{class i{constructor(e,t,o){this.expandService=e,this.loadingService=t,this.cd=o,this._loading=!1}get loading(){return this._loading}set loading(e){this._loading=e,this.cd.markForCheck()}ngOnInit(){const e=this.loadingService.changes.pipe(X(t=>t===this.index));this.subscription=this.expandService.changes.pipe(X(({index:t})=>t===this.index),F(({expand:t})=>{!t&&this.loading&&(this.loading=!1)}),X(({expand:t})=>t),le(t=>ft(t).pipe(c_(100),mo(e)))).subscribe(()=>this.loading=!0),this.subscription.add(e.subscribe(()=>this.loading=!1))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU($I),s.rXU(Rq),s.rXU(s.gRc))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoTreeViewLoading",""]],hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-i-loading",t.loading)},inputs:{index:[s.Mj6.None,"kendoTreeViewLoading","index"]}}),i})(),_ve=(()=>{class i{constructor(e,t,o,r){this.element=e,this.navigationService=t,this.selectionService=o,this.renderer=r,this.initialSelection=!1,this.isSelected=ZSe,this.subscriptions=new be.yU,this.subscriptions.add(this.navigationService.moves.subscribe(this.updateFocusClass.bind(this))),this.subscriptions.add(this.navigationService.selects.pipe(X(a=>a===this.index)).subscribe(a=>this.selectionService.select(a,this.dataItem))),this.subscriptions.add(this.selectionService.changes.subscribe(()=>{this.updateSelectionClass(this.isSelected(this.dataItem,this.index))}))}ngOnChanges(e){e.initialSelection&&this.updateSelectionClass(this.initialSelection),e.index&&this.updateFocusClass()}ngOnDestroy(){this.subscriptions.unsubscribe()}updateFocusClass(){this.render(this.navigationService.isActive(this.index),"k-focus")}updateSelectionClass(e){this.render(e,"k-selected")}render(e,t){this.renderer[e?"addClass":"removeClass"](this.element.nativeElement,t)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(HD),s.rXU(x5),s.rXU(s.sFG))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoTreeViewItemContent",""]],inputs:{dataItem:"dataItem",index:"index",initialSelection:"initialSelection",isSelected:"isSelected"},features:[s.OA$]}),i})();const gve="k-treeview-top",Sve="k-treeview-mid",zq="k-treeview-bot";let vve=(()=>{class i{constructor(e,t,o,r,a,l,c,u,f){this.expandService=e,this.loadingService=t,this.indexBuilder=o,this.treeViewLookupService=r,this.navigationService=a,this.nodeChildrenService=l,this.dataChangeNotification=c,this.changeDetectorRef=u,this.localization=f,this.caretAltDownIcon=qo,this.caretAltRightIcon=Jo,this.caretAltLeftIcon=tl,this.kGroupClass=!0,this.loadOnDemand=!0,this.textField="",this.size="medium",this.initialNodesLoaded=!1,this.loadingMoreNodes=!1,this.isItemExpandable=(_,S)=>this.expandDisabledNodes||!this.isItemDisabled(_,S),this._data=[],this.singleRecordSubscriptions=new be.yU,this.localizationSubscriptions=new be.yU,this.isChecked=()=>"none",this.isDisabled=()=>!1,this.hasCheckbox=()=>!0,this.isExpanded=()=>!1,this.isVisible=()=>!0,this.isSelected=()=>!1,this.children=()=>ft([]),this.hasChildren=()=>!1}get role(){return this.parentIndex?"group":"tree"}getFontIcon(e,t){return this.isExpanded(e,t)?"caret-alt-down":this.localization.rtl?"caret-alt-left":"caret-alt-right"}getSvgIcon(e,t){return this.isExpanded(e,t)?qo:this.localization.rtl?tl:Jo}get moreNodesAvailable(){return!(!ke(this.loadMoreService)||0===this.data.length)&&this.pageSize<this.totalNodesCount}get pageSize(){return ke(this.loadMoreService)?this.loadMoreService.getGroupSize(this.parentDataItem):null}set pageSize(e){this.loadMoreService.setGroupSize(this.parentDataItem,e)}get data(){return ke(this.pageSize)?this._data.slice(0,this.pageSize>0?this.pageSize:0):this._data}set data(e){this._data=e,this.registerLoadedNodes(this.data)}get loadMoreButtonIndex(){return this.loadMoreService?this.nodeIndex(this.data.length):null}get totalNodesCount(){return this.loadMoreService?this.loadMoreService.getTotalNodesCount(this.parentDataItem,this._data.length):this.data.length}get hasTemplate(){return ke(this.nodeTemplateRef)}expandNode(e,t,o){o?this.expandService.expand(e,t):this.expandService.collapse(e,t)}checkNode(e){this.navigationService.checkIndex(e),this.navigationService.activateIndex(e)}nodeIndex(e){return this.indexBuilder.nodeIndex(e.toString(),this.parentIndex)}nodeText(e){return lr(ive(this.textField)?this.textField[0]:this.textField)(e)}ngOnDestroy(){ke(this.nodesSubscription)&&this.nodesSubscription.unsubscribe(),ke(this.loadMoreNodesSubscription)&&this.loadMoreNodesSubscription.unsubscribe(),this.singleRecordSubscriptions.unsubscribe(),this.localizationSubscriptions.unsubscribe()}ngOnInit(){this.subscribeToNodesChange(),this.singleRecordSubscriptions.add(this.dataChangeNotification.changes.subscribe(this.subscribeToNodesChange.bind(this))),this.singleRecordSubscriptions.add(this.navigationService.loadMore.pipe(X(e=>e===this.loadMoreButtonIndex)).subscribe(this.loadMoreNodes.bind(this))),this.localizationSubscriptions.add(this.localization.changes.subscribe(this.l10nChange.bind(this)))}ngOnChanges(e){e.parentIndex&&this.loadOnDemand&&this.setNodeChildren(this.mapToTreeItem(this.data)),this.localization.get("loadMore")&&(this.loadMoreTitle=this.localization.get("loadMore"))}l10nChange(){this.localization.get("loadMore")&&(this.loadMoreTitle=this.localization.get("loadMore")),this.changeDetectorRef.markForCheck()}fetchChildren(e,t){return this.children(e).pipe(pd(()=>(this.loadingService.notifyLoaded(t),Dr)),F(()=>this.loadingService.notifyLoaded(t)))}get nextFields(){return ive(this.textField)?this.textField.length>1?this.textField.slice(1):this.textField:[this.textField]}loadMoreNodes(){ke(this.loadMoreService.loadMoreNodes)?this.fetchMoreNodes():this.loadMoreLocalNodes()}isItemDisabled(e,t){return this.disabled&&!this.disableParentNodesOnly||this.isDisabled(e,this.nodeIndex(t))}setItemClasses(e,t){return 1===e?this.parentIndex?zq:`${gve} ${zq}`:0===t?gve:t>0&&t<e-1?Sve:t===this.totalNodesCount-1?zq:Sve}loadMoreLocalNodes(){const e=this.loadMoreButtonIndex;this.pageSize+=this.loadMoreService.getInitialPageSize(this.parentDataItem),this.registerLoadedNodes(this.data),this.changeDetectorRef.detectChanges(),this.reselectItemAt(e)}fetchMoreNodes(){this.loadingMoreNodes||(this.loadingMoreNodes=!0,ke(this.loadMoreNodesSubscription)&&this.loadMoreNodesSubscription.unsubscribe(),this.loadMoreNodesSubscription=this.loadMoreService.loadMoreNodes({dataItem:this.parentDataItem,skip:this.data.length,take:this.loadMoreService.getInitialPageSize(this.parentDataItem)}).pipe(Ch(()=>this.loadingMoreNodes=!1)).subscribe(e=>{if(!(Array.isArray(e)&&e.length>0))return;const t=this.loadMoreButtonIndex;this.pageSize+=e.length,this.data=this.data.concat(e),this.navigationService.isActive(t)&&(this.changeDetectorRef.detectChanges(),this.reselectItemAt(t))}))}setNodeChildren(e){this.treeViewLookupService.registerChildren(this.parentIndex,e)}mapToTreeItem(e){return this.parentIndex?e.map((t,o)=>({dataItem:t,index:this.nodeIndex(o)})):[]}emitChildrenLoaded(e){if(!this.parentIndex)return;const t=e.filter(o=>o.dataItem);this.nodeChildrenService.childrenLoaded({dataItem:this.parentDataItem,index:this.parentIndex},t)}subscribeToNodesChange(){this.nodesSubscription&&this.nodesSubscription.unsubscribe(),this.nodesSubscription=this.nodes(this.parentDataItem,this.parentIndex).subscribe(e=>{this.data=e,this.initialNodesLoaded=!0})}reselectItemAt(e){ke(e)&&(this.navigationService.deactivate(),this.navigationService.activateIndex(e))}registerLoadedNodes(e=[]){const t=this.mapToTreeItem(e);this.loadOnDemand&&this.setNodeChildren(t),this.emitChildrenLoaded(t)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU($I),s.rXU(Rq),s.rXU(BD),s.rXU(N5),s.rXU(HD),s.rXU(Fq),s.rXU(Iq),s.rXU(s.gRc),s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoTreeViewGroup",""]],hostVars:3,hostBindings:function(e,t){2&e&&(s.BMQ("role",t.role),s.AVh("k-treeview-group",t.kGroupClass))},inputs:{checkboxes:"checkboxes",expandIcons:"expandIcons",disabled:"disabled",selectable:"selectable",touchActions:"touchActions",disableParentNodesOnly:"disableParentNodesOnly",loadOnDemand:"loadOnDemand",trackBy:"trackBy",nodes:"nodes",textField:"textField",parentDataItem:"parentDataItem",parentIndex:"parentIndex",nodeTemplateRef:"nodeTemplateRef",loadMoreButtonTemplateRef:"loadMoreButtonTemplateRef",loadMoreService:"loadMoreService",size:"size",expandDisabledNodes:"expandDisabledNodes",isChecked:"isChecked",isDisabled:"isDisabled",hasCheckbox:"hasCheckbox",isExpanded:"isExpanded",isVisible:"isVisible",isSelected:"isSelected",children:"children",hasChildren:"hasChildren"},features:[s.OA$],attrs:Nqe,decls:2,vars:3,consts:[["class","k-treeview-item","kendoTreeViewItem","",3,"k-hidden","dataItem","index","parentDataItem","parentIndex","loadOnDemand","checkable","isChecked","isDisabled","isVisible","expandable","isExpanded","selectable","isSelected",4,"ngFor","ngForOf","ngForTrackBy"],["class","k-treeview-item","kendoTreeViewItem","","role","button",3,"k-treeview-load-more-checkboxes-container","selectable","checkable","expandable","index","parentDataItem","parentIndex",4,"ngIf"],["kendoTreeViewItem","",1,"k-treeview-item",3,"dataItem","index","parentDataItem","parentIndex","loadOnDemand","checkable","isChecked","isDisabled","isVisible","expandable","isExpanded","selectable","isSelected"],[3,"ngClass"],["class","k-treeview-toggle",3,"k-disabled","kendoTreeViewLoading","click",4,"ngIf"],[3,"k-disabled","size","node","index","isChecked","tabindex","labelledby","checkStateChange",4,"ngIf"],["kendoTreeViewItemContent","",1,"k-treeview-leaf",3,"id","dataItem","index","initialSelection","isSelected"],[1,"k-treeview-leaf-text"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["kendoTreeViewGroup","","role","group",3,"size","nodes","loadOnDemand","checkboxes","expandIcons","selectable","touchActions","children","hasChildren","isChecked","isDisabled","hasCheckbox","disabled","expandDisabledNodes","isExpanded","isSelected","isVisible","nodeTemplateRef","loadMoreButtonTemplateRef","parentIndex","parentDataItem","textField","loadMoreService","trackBy","disableParentNodesOnly",4,"ngIf"],[1,"k-treeview-toggle",3,"click","kendoTreeViewLoading"],[3,"name","svgIcon"],[3,"checkStateChange","size","node","index","isChecked","tabindex","labelledby"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["kendoTreeViewGroup","","role","group",3,"size","nodes","loadOnDemand","checkboxes","expandIcons","selectable","touchActions","children","hasChildren","isChecked","isDisabled","hasCheckbox","disabled","expandDisabledNodes","isExpanded","isSelected","isVisible","nodeTemplateRef","loadMoreButtonTemplateRef","parentIndex","parentDataItem","textField","loadMoreService","trackBy","disableParentNodesOnly"],["kendoTreeViewItem","","role","button",1,"k-treeview-item",3,"selectable","checkable","expandable","index","parentDataItem","parentIndex"],[1,"k-treeview-bot"],["class","k-icon k-i-loading",4,"ngIf"],["kendoTreeViewItemContent","",1,"k-treeview-leaf","k-treeview-load-more-button",3,"index"],[4,"ngIf"],[1,"k-icon","k-i-loading"]],template:function(e,t){1&e&&s.DNE(0,Hqe,10,33,"li",0)(1,Kqe,7,14,"li",1),2&e&&(s.Y8G("ngForOf",t.data)("ngForTrackBy",t.trackBy),s.R7$(),s.Y8G("ngIf",t.initialNodesLoaded&&t.moreNodesAvailable))},dependencies:[Qe,hve,i,ut,fve,Be,q,mve,_ve,wa,od,qe,Yt],encapsulation:2,data:{animation:[Em("toggle",[oo("void => *",[Xe({height:0}),ii("0.1s ease-in",Xe({height:"*"}))]),oo("* => void",[Xe({height:"*"}),ii("0.1s ease-in",Xe({height:0}))])])]}}),i})(),L5=(()=>{class i extends yi{}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275dir=s.FsC({type:i,selectors:[["kendo-treeview-messages-base"]],inputs:{loadMore:"loadMore"},features:[s.Vt3]}),i})(),Hq=(()=>{class i extends L5{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoTreeViewLocalizedMessages",""]],features:[s.Jv_([{provide:L5,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})(),Cve=0;const MQe=[$I,BD,N5,Rq,Fq,HD,x5,Iq,z,{provide:He,useValue:"kendo.treeview"},{provide:cf,useExisting:(0,s.Rfq)(()=>wd)},{provide:WI,useExisting:(0,s.Rfq)(()=>wd)}];let wd=(()=>{class i{constructor(e,t,o,r,a,l,c,u,f,_,S){this.element=e,this.changeDetectorRef=t,this.expandService=o,this.navigationService=r,this.nodeChildrenService=a,this.selectionService=l,this.treeViewLookupService=c,this.ngZone=u,this.renderer=f,this.dataChangeNotification=_,this.localization=S,this.searchIcon=hD,this.classNames=!0,this.filterInputPlaceholder="",this.fetchNodes=()=>this.data,this.childrenLoaded=new s.bkB,this.onBlur=new s.bkB,this.onFocus=new s.bkB,this.expand=new s.bkB,this.collapse=new s.bkB,this.nodeDragStart=new s.bkB,this.nodeDrag=new s.bkB,this.filterStateChange=new s.bkB,this.nodeDrop=new s.bkB,this.nodeDragEnd=new s.bkB,this.addItem=new s.bkB,this.removeItem=new s.bkB,this.checkedChange=new s.bkB,this.selectionChange=new s.bkB,this.filterChange=new s.bkB,this.nodeClick=new s.bkB,this.nodeDblClick=new s.bkB,this.trackBy=fQe,this.isDisabled=uQe,this.hasCheckbox=hQe,this.isVisible=eve,this.navigable=!0,this.children=()=>ft([]),this.loadOnDemand=!0,this.filterable=!1,this.filter="",this.disableParentNodesOnly=!1,this.checkboxes=!1,this.expandIcons=!1,this.selectable=!1,this.touchActions=!0,this.isActive=!1,this.data=new An.t([]),this._animate=!0,this._size="medium",this.subscriptions=new be.yU,this.domSubscriptions=[],this._nextId=Cve,(0,_t.$)(lQe),Cve++}get direction(){return this.localization.rtl?"rtl":"ltr"}set animate(e){this._animate=e}get animate(){return!this._animate}set nodeTemplateRef(e){this._nodeTemplateRef=e}get nodeTemplateRef(){return this._nodeTemplateRef||this.nodeTemplateQuery}set loadMoreButtonTemplateRef(e){this._loadMoreButtonTemplateRef=e}get loadMoreButtonTemplateRef(){return this._loadMoreButtonTemplateRef||this.loadMoreButtonTemplateQuery}set nodes(e){this.data.next(e||[]),this.dataChangeNotification.notify()}get nodes(){return this.data.value}get hasChildren(){return this._hasChildren||cQe}set hasChildren(e){this._hasChildren=e,this.expandIcons=!(!this._isExpanded||!this._hasChildren)}get isChecked(){return this._isChecked||dQe}set isChecked(e){this._isChecked=e,this.checkboxes=!!this._isChecked}get isExpanded(){return this._isExpanded||pQe}set isExpanded(e){this._isExpanded=e,this.expandIcons=!(!this._isExpanded||!this._hasChildren)}get isSelected(){return this._isSelected||ZSe}set isSelected(e){this._isSelected=e,this.selectable=!!this._isSelected}set size(e){const t=e||"medium";"none"!==this.size&&this.renderer.removeClass(this.element.nativeElement,A5("treeview",this.size)),this.renderer.addClass(this.element.nativeElement,A5("treeview",t)),this._size=e}get size(){return this._size}get treeviewId(){return`treeview_${this._nextId}`}ngOnChanges(e){this.navigationService.navigable=!!this.navigable,Fi(["nodes","children","hasChildren","loadOnDemand"],e,!1)&&!this.loadOnDemand&&this.preloadChildNodes()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.domSubscriptions.forEach(e=>e())}ngOnInit(){this.subscriptions.add(this.nodeChildrenService.changes.subscribe(e=>this.childrenLoaded.emit(e))),this.subscriptions.add(this.expandService.changes.subscribe(({index:e,dataItem:t,expand:o})=>o?this.expand.emit({index:e,dataItem:t}):this.collapse.emit({index:e,dataItem:t}))),this.subscriptions.add(this.navigationService.checks.subscribe(e=>this.checkedChange.emit(this.treeViewLookupService.itemLookup(e)))),this.subscriptions.add(this.selectionService.changes.subscribe(e=>{Te(this.selectionChange)&&this.ngZone.run(()=>{this.selectionChange.emit(e)})})),this.element&&this.ngZone.runOutsideAngular(()=>{this.attachDomHandlers()}),this.size&&this.renderer.addClass(this.element.nativeElement,A5("treeview",this.size))}ngAfterViewInit(){this.searchbox&&(this.renderer.setAttribute(this.searchbox.input.nativeElement,"role","searchbox"),this.renderer.setAttribute(this.searchbox.input.nativeElement,"aria-controls",this.treeviewId),this.renderer.setAttribute(this.searchbox.input.nativeElement,"aria-label","searchbar"))}blur(){if(!ne())return;const e=rve(this.element);document.activeElement===e&&e.blur()}focus(e){const t=e||lf(this.navigationService.focusableItem);this.navigationService.activateIndex(t);const o=rve(this.element);o&&o.focus()}itemLookup(e){return this.treeViewLookupService.itemLookup(e)}rebindChildren(){this.dataChangeNotification.notify()}expandNode(e,t){this.expandService.expand(t,e)}collapseNode(e,t){this.expandService.collapse(t,e)}getNodePageSize(e){return this.verifyLoadMoreService(),this.loadMoreService.getGroupSize(e)}setNodePageSize(e,t){this.verifyLoadMoreService(),this.loadMoreService.setGroupSize(e,t)}preloadChildNodes(){this.treeViewLookupService.reset(),this.registerLookupItems(this.nodes)}attachDomHandlers(){const e=this.element.nativeElement;this.clickHandler=this.clickHandler.bind(this),this.domSubscriptions.push(this.renderer.listen(e,"contextmenu",this.clickHandler),this.renderer.listen(e,"click",this.clickHandler),this.renderer.listen(e,"dblclick",this.clickHandler),this.renderer.listen(e,"focusin",this.focusHandler.bind(this)),this.renderer.listen(e,"focusout",this.blurHandler.bind(this)),this.renderer.listen(e,"keydown",this.keydownHandler.bind(this)))}focusHandler(e){let t;if(QC(e.target,".k-treeview-item")?t=e.target:sve(e.target)||(t=ZC(e.target)),t){const o=Lq(e.target);if(this.navigationService.isDisabled(o))return;this.navigationService.activateIndex(o),!this.isActive&&Te(this.onFocus)&&this.ngZone.run(()=>{this.onFocus.emit()}),this.isActive=!0}}blurHandler(e){this.isActive&&QC(e.target,".k-treeview-item")&&(!e.relatedTarget||!QC(e.relatedTarget,".k-treeview-item")||!Nq(e.relatedTarget,this.element.nativeElement))&&(this.navigationService.deactivate(),this.isActive=!1,Te(this.onBlur)&&this.ngZone.run(()=>{this.onBlur.emit()}))}clickHandler(e){const t=e.target;if("contextmenu"===e.type&&!Te(this.nodeClick)||"click"===e.type&&!Te(this.nodeClick)&&!Te(this.selectionChange)&&!ove(t)||"dblclick"===e.type&&!Te(this.nodeDblClick)||sve(t)||!(i=>{if(!ne())return null;let e=i;for(;e&&!QC(e,".k-treeview-leaf:not(.k-treeview-load-more-button),.k-treeview-item,.k-treeview");)e=e.parentNode;return e?QC(e,".k-treeview-leaf:not(.k-treeview-load-more-button)"):void 0})(t)&&!ove(t)||!Nq(t,this.element.nativeElement))return;const o=Lq(ZC(t));!o||this.navigationService.isDisabled(o)||this.ngZone.run(()=>{const r=this.treeViewLookupService.itemLookup(o);if("click"===e.type){if(this.navigationService.model.findNode(o).loadMoreButton)return void this.navigationService.notifyLoadMore(o);this.navigationService.selectIndex(o)}("dblclick"===e.type?this.nodeDblClick:this.nodeClick).emit({item:r.item,originalEvent:e,type:e.type})})}keydownHandler(e){this.isActive&&this.navigable&&this.ngZone.run(()=>{this.navigationService.move(e)})}verifyLoadMoreService(){if((0,s.naY)()&&!ke(this.loadMoreService))throw new Error("To use the TreeView paging functionality, you need to assign the `kendoTreeViewLoadMore` directive. See http://www.telerik.com/kendo-angular-ui/components/treeview/load-more-button/.")}registerLookupItems(e,t=null){if(!ke(e)||0===e.length)return;const o=lf(t),r=e.map((a,l)=>((i,n,e)=>ke(i)?{dataItem:i,index:XI(e,n)}:null)(a,l,o));ke(t)&&this.treeViewLookupService.registerChildren(o,r),r.forEach(a=>{this.treeViewLookupService.registerItem(a,t),this.hasChildren(a.dataItem)&&this.children(a.dataItem).subscribe(l=>this.registerLookupItems(l,a))})}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.gRc),s.rXU($I),s.rXU(HD),s.rXU(Fq),s.rXU(x5),s.rXU(N5),s.rXU(s.SKi),s.rXU(s.sFG),s.rXU(Iq),s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-treeview"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,Bq,5),s.wni(o,Vq,5)),2&e){let r;s.mGM(r=s.lsd())&&(t.nodeTemplateQuery=r.first),s.mGM(r=s.lsd())&&(t.loadMoreButtonTemplateQuery=r.first)}},viewQuery:function(e,t){if(1&e&&(s.GBs(Yqe,7,s.c1b),s.GBs(Jqe,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.assetsContainer=o.first),s.mGM(o=s.lsd())&&(t.searchbox=o.first)}},hostVars:4,hostBindings:function(e,t){2&e&&(s.zvX("@.disabled",t.animate),s.BMQ("dir",t.direction),s.AVh("k-treeview",t.classNames))},inputs:{filterInputPlaceholder:"filterInputPlaceholder",expandDisabledNodes:"expandDisabledNodes",animate:"animate",nodeTemplateRef:[s.Mj6.None,"nodeTemplate","nodeTemplateRef"],loadMoreButtonTemplateRef:[s.Mj6.None,"loadMoreButtonTemplate","loadMoreButtonTemplateRef"],trackBy:"trackBy",nodes:"nodes",textField:"textField",hasChildren:"hasChildren",isChecked:"isChecked",isDisabled:"isDisabled",hasCheckbox:"hasCheckbox",isExpanded:"isExpanded",isSelected:"isSelected",isVisible:"isVisible",navigable:"navigable",children:"children",loadOnDemand:"loadOnDemand",filterable:"filterable",filter:"filter",size:"size",disableParentNodesOnly:"disableParentNodesOnly"},outputs:{childrenLoaded:"childrenLoaded",onBlur:"blur",onFocus:"focus",expand:"expand",collapse:"collapse",nodeDragStart:"nodeDragStart",nodeDrag:"nodeDrag",filterStateChange:"filterStateChange",nodeDrop:"nodeDrop",nodeDragEnd:"nodeDragEnd",addItem:"addItem",removeItem:"removeItem",checkedChange:"checkedChange",selectionChange:"selectionChange",filterChange:"filterChange",nodeClick:"nodeClick",nodeDblClick:"nodeDblClick"},exportAs:["kendoTreeView"],features:[s.Jv_(MQe),s.OA$],decls:5,vars:24,consts:()=>{let n;return n="Load more...",[["assetsContainer",""],["searchbox",""],["kendoTreeViewLocalizedMessages","","loadMore",n],["class","k-treeview-filter",4,"ngIf"],["kendoTreeViewGroup","","role","tree",1,"k-treeview-lines",3,"size","loadOnDemand","checkboxes","expandIcons","selectable","touchActions","children","hasChildren","isChecked","isDisabled","hasCheckbox","disableParentNodesOnly","isExpanded","isSelected","isVisible","nodeTemplateRef","loadMoreButtonTemplateRef","textField","nodes","loadMoreService","trackBy","expandDisabledNodes"],[1,"k-treeview-filter"],[3,"valueChange","size","value","clearButton","placeholder"],["kendoTextBoxPrefixTemplate",""],["innerCssClass","k-input-icon","name","search",3,"svgIcon"]]},template:function(e,t){1&e&&(s.eu8(0,2),s.DNE(1,Qqe,4,4,"span",3),s.nrm(2,"ul",4),s.eu8(3,null,0)),2&e&&(s.R7$(),s.Y8G("ngIf",t.filterable),s.R7$(),s.Y8G("size",t.size)("loadOnDemand",t.loadOnDemand)("checkboxes",t.checkboxes)("expandIcons",t.expandIcons)("selectable",t.selectable)("touchActions",t.touchActions)("children",t.children)("hasChildren",t.hasChildren)("isChecked",t.isChecked)("isDisabled",t.isDisabled)("hasCheckbox",t.hasCheckbox)("disableParentNodesOnly",t.disableParentNodesOnly)("isExpanded",t.isExpanded)("isSelected",t.isSelected)("isVisible",t.isVisible)("nodeTemplateRef",null==t.nodeTemplateRef?null:t.nodeTemplateRef.templateRef)("loadMoreButtonTemplateRef",null==t.loadMoreButtonTemplateRef?null:t.loadMoreButtonTemplateRef.templateRef)("textField",t.textField)("nodes",t.fetchNodes)("loadMoreService",t.loadMoreService)("trackBy",t.trackBy)("expandDisabledNodes",t.expandDisabledNodes),s.BMQ("id",t.treeviewId))},dependencies:[xh,Qe,vve,Hq,q,yq],encapsulation:2}),i})();!function LQe(i){let n,e=!1}(()=>{if(!ne()||!ke(document.body))return!1;const n=document.createElement("div");n.style.transform="matrix(10, 0, 0, 10, 0, 0)";const e=document.createElement("div");e.innerText="child",e.style.position="fixed",e.style.top="10px",n.appendChild(e),document.body.appendChild(n);const t=10!==n.children[0].getBoundingClientRect().top;return document.body.removeChild(n),t}),new RegExp("(auto|scroll)"),new BD,new BD;let JQe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({}),i})(),qQe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,JQe,jI,xn]]}),i})(),QQe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[qQe]]}),i})();const ZQe=["input"],eZe=(i,n)=>({focus:i,blur:n}),tZe=["content"],nZe=["list"],iZe=["virtualContainer"],Xve=(i,n,e)=>({"height.px":i,"minHeight.px":n,boxSizing:e}),df=(i,n)=>({templateRef:i,$implicit:n}),Wve=(i,n)=>({"k-disabled":i,"k-table-alt-row":n});function sZe(i,n){}function oZe(i,n){if(1&i&&s.DNE(0,sZe,0,0,"ng-template",12),2&i){const e=s.XpG(2);s.Y8G("templateContext",s.l_i(1,df,e.fixedGroupTemplate.templateRef,e.currentGroup))}}function rZe(i,n){if(1&i&&(s.j41(0,"span"),s.EFF(1),s.k0s()),2&i){const e=s.XpG(2);s.HbH(e.listGroupStickyHeaderTextClass),s.R7$(),s.JRh(e.currentGroup)}}function aZe(i,n){if(1&i&&(s.j41(0,"div",10),s.DNE(1,oZe,1,4,null,7)(2,rZe,2,3,"ng-template",11),s.k0s()),2&i){const e=s.XpG();s.HbH(e.listGroupStickyHeaderClass),s.Y8G("ngStyle",s.sMw(5,Xve,null==e.virtual?null:e.virtual.itemHeight,null==e.virtual?null:e.virtual.itemHeight,e.virtual?"border-box":"inherit")),s.R7$(),s.Y8G("ngIf",e.fixedGroupTemplate),s.R7$(),s.Y8G("ngIf",!e.fixedGroupTemplate)}}function lZe(i,n){if(1&i){const e=s.RV6();s.j41(0,"input",16),s.bIt("change",function(o){s.eBV(e);const r=s.XpG().index,a=s.XpG(2);return s.Njj(a.onCheckedChange(o,r))}),s.k0s()}if(2&i){const e=s.XpG().index,t=s.XpG(2);s.Y8G("ngClass",t.checkboxClasses)("checked",t.isChecked(e))}}function cZe(i,n){}function dZe(i,n){if(1&i&&s.DNE(0,cZe,0,0,"ng-template",12),2&i){const e=s.XpG().$implicit,t=s.XpG(2);s.Y8G("templateContext",s.l_i(1,df,t.template.templateRef,e))}}function uZe(i,n){if(1&i&&(s.j41(0,"span",17),s.EFF(1),s.k0s()),2&i){const e=s.XpG().$implicit,t=s.XpG(2);s.R7$(),s.JRh(t.getText(e))}}function hZe(i,n){if(1&i&&(s.j41(0,"li",14),s.DNE(1,lZe,1,2,"input",15)(2,dZe,1,4,null,7)(3,uZe,2,1,"ng-template",11),s.k0s()),2&i){const e=n.index,t=s.XpG(2);s.HbH(t.listItemClass),s.Y8G("checkboxes",t.checkboxes)("height",null==t.virtual?null:t.virtual.itemHeight)("index",e+t.startFrom)("multipleSelection",t.multipleSelection)("ngClass",s.l_i(13,Wve,t.isDisabled(e),t.isAltRow(e))),s.BMQ("id",t.optionPrefix+"-"+e)("tabIndex",-1)("aria-selected",t.isItemSelected(e)),s.R7$(),s.Y8G("ngIf",t.checkboxes.enabled),s.R7$(),s.Y8G("ngIf",t.template),s.R7$(),s.Y8G("ngIf",!t.template)}}function pZe(i,n){if(1&i&&s.DNE(0,hZe,4,16,"ng-template",13),2&i){const e=s.XpG();s.Y8G("ngForOf",e.data)}}function fZe(i,n){}function mZe(i,n){if(1&i&&s.DNE(0,fZe,0,0,"ng-template",12),2&i){const e=s.XpG(2).$implicit,t=s.XpG(2);s.Y8G("templateContext",s.l_i(1,df,t.groupTemplate.templateRef,e.value))}}function _Ze(i,n){if(1&i&&s.EFF(0),2&i){const e=s.XpG(2).$implicit;s.JRh(e.value)}}function gZe(i,n){if(1&i&&(s.j41(0,"li",20,2)(2,"span"),s.DNE(3,mZe,1,4,null,7)(4,_Ze,1,1,"ng-template",11),s.k0s()()),2&i){const e=s.XpG(),t=e.$implicit,o=e.index,r=s.XpG(2);s.HbH(r.listGroupItemClass),s.AVh("k-table-alt-row",r.isAltRow(o-1)),s.Y8G("ngStyle",s.sMw(12,Xve,null==r.virtual?null:r.virtual.itemHeight,null==r.virtual?null:r.virtual.itemHeight,r.virtual?"border-box":"inherit")),s.BMQ("group-index",t.index)("id",r.optionPrefix+"-"+o)("tabIndex",-1),s.R7$(2),s.HbH(r.listGroupItemTextClass),s.R7$(),s.Y8G("ngIf",r.groupTemplate),s.R7$(),s.Y8G("ngIf",!r.groupTemplate)}}function SZe(i,n){}function vZe(i,n){if(1&i&&s.DNE(0,SZe,0,0,"ng-template",12),2&i){const e=s.XpG(2).$implicit,t=s.XpG(2);s.Y8G("templateContext",s.l_i(1,df,t.template.templateRef,e.value))}}function CZe(i,n){if(1&i&&(s.j41(0,"span",17),s.EFF(1),s.k0s()),2&i){const e=s.XpG(2).$implicit,t=s.XpG(2);s.R7$(),s.JRh(t.getText(e.value))}}function bZe(i,n){if(1&i&&(s.j41(0,"li",21,2),s.DNE(2,vZe,1,4,null,7)(3,CZe,2,1,"ng-template",11),s.k0s()),2&i){const e=s.XpG(),t=e.$implicit,o=e.index,r=s.XpG(2);s.HbH(r.listItemClass),s.Y8G("height",null==r.virtual?null:r.virtual.itemHeight)("index",t.offsetIndex)("multipleSelection",r.multipleSelection)("ngClass",s.l_i(12,Wve,r.isDisabled(t.offsetIndex),r.isAltRow(o-1))),s.BMQ("absolute-index",t.index)("id",r.optionPrefix+"-"+o)("tabIndex",-1)("aria-selected",r.isItemSelected(t.offsetIndex)),s.R7$(2),s.Y8G("ngIf",r.template),s.R7$(),s.Y8G("ngIf",!r.template)}}function EZe(i,n){if(1&i&&s.DNE(0,gZe,5,16,"li",18)(1,bZe,4,15,"li",19),2&i){const e=n.$implicit;s.Y8G("ngIf",e.header),s.R7$(),s.Y8G("ngIf",!e.header)}}function yZe(i,n){if(1&i&&s.DNE(0,EZe,2,2,"ng-template",13),2&i){const e=s.XpG();s.Y8G("ngForOf",e.data)}}function DZe(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-resize-sensor",22),s.bIt("resize",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.listResize.emit())}),s.k0s()}}function wZe(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",23,3)(2,"div")(3,"kendo-resize-sensor",22),s.bIt("resize",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.listResize.emit())}),s.k0s()()()}if(2&i){const e=s.XpG();s.R7$(2),s.xc7("height",e.scrollHeight,"px")}}const kZe=["actionSheetSearchBar"],OZe=i=>({duration:i});function TZe(i,n){1&i&&s.nrm(0,"kendo-icon",19)}function MZe(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-textbox",17,1),s.bIt("valueChange",function(o){s.eBV(e);const r=s.XpG(2);return s.Njj(r.onValueChange(o))}),s.DNE(2,TZe,1,0,"ng-template",18),s.k0s()}if(2&i){const e=s.XpG(2);s.Y8G("value",e.searchBarValue)("size",e.size)}}function IZe(i,n){1&i&&s.eu8(0)}function RZe(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",20)(1,"button",21),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.onCancel.emit())})("keydown.enter",function(o){return s.eBV(e),s.Njj(o.stopImmediatePropagation())}),s.EFF(2),s.k0s(),s.j41(3,"button",22),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.onApply.emit())})("keydown.enter",function(o){return s.eBV(e),s.Njj(o.stopImmediatePropagation())}),s.EFF(4),s.k0s()()}if(2&i){const e=s.XpG(2);s.R7$(),s.Y8G("size",e.size),s.R7$(),s.SpI(" ",e.messageFor("cancelButton")," "),s.R7$(),s.Y8G("size",e.size),s.R7$(),s.SpI(" ",e.messageFor("applyButton")," ")}}function AZe(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),s.EFF(4),s.k0s(),s.j41(5,"div",8),s.EFF(6),s.k0s()(),s.j41(7,"div",9)(8,"button",10),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.closePopup.emit())}),s.k0s()()(),s.j41(9,"div",11),s.DNE(10,MZe,3,2,"kendo-textbox",12),s.k0s()(),s.j41(11,"div",13)(12,"div",14),s.DNE(13,IZe,1,0,"ng-container",15),s.k0s()(),s.DNE(14,RZe,5,4,"div",16)}if(2&i){const e=s.XpG();s.R7$(4),s.JRh(e.title),s.R7$(2),s.JRh(e.subtitle),s.R7$(2),s.Y8G("svgIcon",e.xIcon)("size",e.size)("tabIndex",-1),s.BMQ("title",e.messageFor("clearTitle")),s.R7$(2),s.Y8G("ngIf",e.showTextInput),s.R7$(3),s.Y8G("ngTemplateOutlet",e.sharedPopupActionSheetTemplate),s.R7$(),s.Y8G("ngIf",e.showActionButtons)}}const jD=["container"],$D=["popupTemplate"],U5=["optionsList"],er=i=>({templateRef:i});function xZe(i,n){}function NZe(i,n){if(1&i&&(s.j41(0,"span",15),s.DNE(1,xZe,0,0,"ng-template",16),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngTemplateOutlet",null==e.prefixTemplate?null:e.prefixTemplate.templateRef)}}function LZe(i,n){1&i&&s.nrm(0,"kendo-separator")}function PZe(i,n){if(1&i){const e=s.RV6();s.j41(0,"span",17),s.bIt("click",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.clearValue(o))})("mousedown",function(o){return s.eBV(e),s.Njj(o.preventDefault())}),s.nrm(1,"kendo-icon-wrapper",18),s.k0s()}if(2&i){const e=s.XpG();s.xc7("visibility",e.clearButtonVisiblity),s.BMQ("title",e.messageFor("clearTitle")),s.R7$(),s.Y8G("svgIcon",e.xIcon)}}function GZe(i,n){1&i&&s.nrm(0,"span",19)}function UZe(i,n){1&i&&s.nrm(0,"kendo-separator")}function FZe(i,n){}function BZe(i,n){if(1&i&&(s.j41(0,"span",20),s.DNE(1,FZe,0,0,"ng-template",16),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngTemplateOutlet",null==e.suffixTemplate?null:e.suffixTemplate.templateRef)}}function VZe(i,n){1&i&&s.eu8(0)}function zZe(i,n){if(1&i&&s.DNE(0,VZe,1,0,"ng-container",21),2&i){s.XpG();const e=s.sdS(17);s.Y8G("ngTemplateOutlet",e)}}function HZe(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-resize-sensor",22),s.bIt("resize",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onResize())}),s.k0s()}}function jZe(i,n){}function $Ze(i,n){if(1&i&&s.DNE(0,jZe,0,0,"ng-template",25),2&i){const e=s.XpG(2);s.Y8G("templateContext",s.eq3(1,er,e.headerTemplate.templateRef))}}function XZe(i,n){}function WZe(i,n){if(1&i&&(s.j41(0,"div"),s.EFF(1),s.k0s()),2&i){const e=s.XpG(3);s.R7$(),s.JRh(e.messageFor("noDataText"))}}function KZe(i,n){if(1&i&&(s.j41(0,"div",26),s.DNE(1,XZe,0,0,"ng-template",27)(2,WZe,2,1,"ng-template",28),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.Y8G("ngIf",e.noDataTemplate)("templateContext",s.eq3(3,er,null==e.noDataTemplate?null:e.noDataTemplate.templateRef)),s.R7$(),s.Y8G("ngIf",!e.noDataTemplate)}}function YZe(i,n){}function JZe(i,n){if(1&i&&s.DNE(0,YZe,0,0,"ng-template",25),2&i){const e=s.XpG(2);s.Y8G("templateContext",s.eq3(1,er,e.footerTemplate.templateRef))}}function qZe(i,n){if(1&i){const e=s.RV6();s.DNE(0,$Ze,1,3,null,8),s.j41(1,"kendo-list",23,4),s.bIt("pageChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.pageChange(o))}),s.k0s(),s.DNE(3,KZe,3,5,"div",24)(4,JZe,1,3,null,8)}if(2&i){const e=s.XpG();s.Y8G("ngIf",e.headerTemplate),s.R7$(),s.Y8G("size",e.size)("rounded",e.rounded)("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.valueField)("valueField",e.valueField)("template",e.template)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("virtual",e.virtual)("showStickyHeader",e.showStickyHeader),s.R7$(2),s.Y8G("ngIf",0===e.data.length),s.R7$(),s.Y8G("ngIf",e.footerTemplate)}}const QZe=["select"],YI=i=>({mousedown:i});function ZZe(i,n){}function eet(i,n){if(1&i&&(s.j41(0,"span",18),s.DNE(1,ZZe,0,0,"ng-template",19),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngTemplateOutlet",null==e.prefixTemplate?null:e.prefixTemplate.templateRef)}}function tet(i,n){1&i&&s.nrm(0,"kendo-separator")}function net(i,n){if(1&i){const e=s.RV6();s.j41(0,"span",20),s.bIt("click",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.clearValue(o))}),s.nrm(1,"kendo-icon-wrapper",21),s.k0s()}if(2&i){const e=s.XpG();s.xc7("visibility",e.clearButtonVisiblity),s.Y8G("kendoEventsOutsideAngular",s.eq3(5,YI,e.preventEventDefault)),s.BMQ("title",e.messageFor("clearTitle")),s.R7$(),s.Y8G("svgIcon",e.xIcon)}}function iet(i,n){1&i&&s.nrm(0,"span",22)}function set(i,n){1&i&&s.nrm(0,"kendo-separator")}function oet(i,n){}function ret(i,n){if(1&i&&(s.j41(0,"span",23),s.DNE(1,oet,0,0,"ng-template",19),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngTemplateOutlet",null==e.suffixTemplate?null:e.suffixTemplate.templateRef)}}function aet(i,n){1&i&&s.eu8(0)}function cet(i,n){if(1&i&&s.DNE(0,aet,1,0,"ng-container",24),2&i){s.XpG();const e=s.sdS(20);s.Y8G("ngTemplateOutlet",e)}}function det(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-resize-sensor",25),s.bIt("resize",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onResize())}),s.k0s()}}function uet(i,n){}function het(i,n){if(1&i&&s.DNE(0,uet,0,0,"ng-template",28),2&i){const e=s.XpG(2);s.Y8G("templateContext",s.eq3(1,er,e.headerTemplate.templateRef))}}function pet(i,n){}function fet(i,n){if(1&i&&(s.j41(0,"div"),s.EFF(1),s.k0s()),2&i){const e=s.XpG(3);s.R7$(),s.JRh(e.messageFor("noDataText"))}}function met(i,n){if(1&i&&(s.j41(0,"div",29),s.DNE(1,pet,0,0,"ng-template",30)(2,fet,2,1,"ng-template",31),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.Y8G("ngIf",e.noDataTemplate)("templateContext",s.eq3(3,er,e.noDataTemplate?e.noDataTemplate.templateRef:void 0)),s.R7$(),s.Y8G("ngIf",!e.noDataTemplate)}}function _et(i,n){}function get(i,n){if(1&i&&s.DNE(0,_et,0,0,"ng-template",28),2&i){const e=s.XpG(2);s.Y8G("templateContext",s.eq3(1,er,e.footerTemplate.templateRef))}}function vet(i,n){if(1&i){const e=s.RV6();s.DNE(0,het,1,3,null,9),s.j41(1,"kendo-list",26,5),s.bIt("pageChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.pageChange(o))}),s.k0s(),s.DNE(3,met,3,5,"div",27)(4,get,1,3,null,9)}if(2&i){const e=s.XpG();s.Y8G("ngIf",e.headerTemplate),s.R7$(),s.Y8G("size",e.size)("rounded",e.rounded)("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.textField)("valueField",e.valueField)("template",e.template)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("virtual",e.virtual)("showStickyHeader",e.showStickyHeader),s.R7$(2),s.Y8G("ngIf",0===e.data.length),s.R7$(),s.Y8G("ngIf",e.footerTemplate)}}const Kve=i=>({"k-disabled":i});function Cet(i,n){}function bet(i,n){if(1&i&&s.DNE(0,Cet,0,0,"ng-template",15),2&i){const e=s.XpG();s.Y8G("templateContext",s.l_i(1,df,e.valueTemplate.templateRef,e.dataItem))}}function Eet(i,n){if(1&i&&s.EFF(0),2&i){const e=s.XpG();s.JRh(e.getText())}}function yet(i,n){1&i&&s.nrm(0,"span",16)}function Det(i,n){1&i&&s.eu8(0)}function wet(i,n){if(1&i&&s.DNE(0,Det,1,0,"ng-container",17),2&i){s.XpG();const e=s.sdS(15);s.Y8G("ngTemplateOutlet",e)}}function ket(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-resize-sensor",18),s.bIt("resize",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onResize())}),s.k0s()}}function Oet(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",21),s.bIt("click",function(o){return s.eBV(e),s.Njj(o.stopImmediatePropagation())}),s.j41(1,"span",22),s.nrm(2,"kendo-icon-wrapper",23),s.j41(3,"input",24,4),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.filterText,o)||(r.filterText=o),s.Njj(o)}),s.bIt("keydown",function(o){s.eBV(e);const r=s.sdS(4),a=s.XpG(2);return s.Njj(a.keydown(o,r))})("input",function(o){s.eBV(e);const r=s.XpG(2);return s.Njj(r.handleFilter(o))})("focus",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.onFilterFocus())})("blur",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.blurFilterInput())})("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.handleClick())}),s.k0s()()()}if(2&i){const e=s.XpG(2);s.R7$(),s.Y8G("ngClass",e.filterInputClasses),s.R7$(),s.Y8G("svgIcon",e.searchIcon),s.R7$(),s.Y8G("filterInput",e.isFocused&&!e.touchEnabled)("dir",e.direction),s.R50("ngModel",e.filterText),s.BMQ("aria-controls",e.isOpen?e.ariaControls:void 0)("aria-activedescendant",e.ariaActivedescendant)("aria-label",e.messageFor("filterInputLabel"))}}function Tet(i,n){if(1&i&&(s.j41(0,"div",25)(1,"div",26),s.EFF(2),s.k0s()()),2&i){const e=s.XpG(2);s.Y8G("ngClass",e.optionLabelSizeClass),s.R7$(),s.Y8G("ngClass",s.eq3(4,Kve,e.isDisabledDefaultItem))("index",-1),s.R7$(),s.SpI(" ",e.getDefaultItemText()," ")}}function Met(i,n){}function Iet(i,n){if(1&i&&(s.j41(0,"div",25)(1,"div",26),s.DNE(2,Met,0,0,"ng-template",15),s.k0s()()),2&i){const e=s.XpG(2);s.Y8G("ngClass",e.optionLabelSizeClass),s.R7$(),s.Y8G("ngClass",s.eq3(4,Kve,e.isDisabledDefaultItem))("index",-1),s.R7$(),s.Y8G("templateContext",s.l_i(6,df,e.itemTemplate.templateRef,e.defaultItem))}}function Ret(i,n){}function Aet(i,n){if(1&i&&s.DNE(0,Ret,0,0,"ng-template",15),2&i){const e=s.XpG(2);s.Y8G("templateContext",s.eq3(1,er,e.headerTemplate.templateRef))}}function xet(i,n){}function Net(i,n){if(1&i&&(s.j41(0,"div"),s.EFF(1),s.k0s()),2&i){const e=s.XpG(3);s.R7$(),s.JRh(e.messageFor("noDataText"))}}function Let(i,n){if(1&i&&(s.j41(0,"div",27),s.DNE(1,xet,0,0,"ng-template",28)(2,Net,2,1,"ng-template",9),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.Y8G("ngIf",e.noDataTemplate)("templateContext",s.eq3(3,er,e.noDataTemplate?e.noDataTemplate.templateRef:void 0)),s.R7$(),s.Y8G("ngIf",!e.noDataTemplate)}}function Pet(i,n){}function Get(i,n){if(1&i&&s.DNE(0,Pet,0,0,"ng-template",15),2&i){const e=s.XpG(2);s.Y8G("templateContext",s.eq3(1,er,e.footerTemplate.templateRef))}}function Uet(i,n){if(1&i){const e=s.RV6();s.DNE(0,Oet,5,8,"ng-template",9)(1,Tet,3,6,"ng-template",9)(2,Iet,3,9,"ng-template",9)(3,Aet,1,3,null,8),s.j41(4,"kendo-list",19,3),s.bIt("pageChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.pageChange(o))}),s.k0s(),s.DNE(6,Let,3,5,"div",20)(7,Get,1,3,null,8)}if(2&i){const e=s.XpG();s.Y8G("ngIf",e.filterable&&!e.isActionSheetExpanded),s.R7$(),s.Y8G("ngIf",e.defaultItem&&!e.itemTemplate),s.R7$(),s.Y8G("ngIf",e.defaultItem&&e.itemTemplate),s.R7$(),s.Y8G("ngIf",e.headerTemplate),s.R7$(),s.Y8G("id",e.listBoxId)("size",e.size)("rounded",e.rounded)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.textField)("valueField",e.valueField)("template",e.itemTemplate)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("virtual",e.virtual)("ariaLive",e.ariaLive)("showStickyHeader",e.showStickyHeader),s.R7$(2),s.Y8G("ngIf",0===e.data.length),s.R7$(),s.Y8G("ngIf",e.footerTemplate)}}const Fet=["*"],Bet=(i,n,e,t,o,r,a,l,c,u,f,_)=>({"k-focus":i,"k-disabled":n,"k-chip-sm":e,"k-chip-md":t,"k-chip-lg":o,"k-rounded-sm":r,"k-rounded-md":a,"k-rounded-lg":l,"k-rounded-full":c,"k-chip-solid k-chip-solid-base":u,"k-chip-flat k-chip-flat-base":f,"k-chip-outline k-chip-outline-base":_});function Vet(i,n){}function zet(i,n){1&i&&s.DNE(0,Vet,0,0,"ng-template")}function Het(i,n){}function jet(i,n){if(1&i&&s.DNE(0,Het,0,0,"ng-template",12),2&i){const e=s.XpG(2).$implicit,t=s.XpG();s.Y8G("templateContext",s.l_i(1,df,t.groupTemplate.templateRef,e))}}function $et(i,n){if(1&i&&s.EFF(0),2&i){const e=s.XpG(2).$implicit;s.Lme("",e.length," ",1===e.length?"item":"items"," selected")}}function Xet(i,n){if(1&i&&(s.j41(0,"span",9),s.DNE(1,jet,1,4,null,10)(2,$et,1,2,"ng-template",11),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.Y8G("ngIf",e.groupTemplate),s.R7$(),s.Y8G("ngIf",!e.groupTemplate)}}function Wet(i,n){}function Ket(i,n){if(1&i&&s.DNE(0,Wet,0,0,"ng-template",12),2&i){const e=s.XpG(2).$implicit,t=s.XpG();s.Y8G("templateContext",s.l_i(1,df,t.template.templateRef,e))}}function Yet(i,n){if(1&i&&s.EFF(0),2&i){const e=s.XpG(2),t=e.$implicit,o=e.index,r=s.XpG();s.JRh(r.tagProp(t,r.textField,o))}}function Jet(i,n){if(1&i&&(s.j41(0,"span",9),s.DNE(1,Ket,1,4,null,10)(2,Yet,1,1,"ng-template",11),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.Y8G("ngIf",e.template),s.R7$(),s.Y8G("ngIf",!e.template)}}function qet(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",3)(1,"span",4),s.DNE(2,zet,1,0,null,5)(3,Xet,3,2,"ng-template",null,0,s.C5r)(5,Jet,3,2,"ng-template",null,1,s.C5r),s.k0s(),s.j41(7,"span",6)(8,"span",7)(9,"kendo-icon-wrapper",8),s.bIt("mousedown",function(o){const r=s.eBV(e),a=r.$implicit,l=r.index,c=s.XpG();return s.Njj(c.deleteTag(o,a,l))}),s.k0s()()()()}if(2&i){const e=n.$implicit,t=n.index,o=s.sdS(4),r=s.sdS(6),a=s.XpG();s.Y8G("ngClass",s.zJS(8,Bet,[t===a.focused,a.isTagDisabled(e,t),"small"===a.size,"medium"===a.size,"large"===a.size,"small"===a.rounded,"medium"===a.rounded,"large"===a.rounded,"full"===a.rounded,"solid"===a.fillMode,"flat"===a.fillMode,"outline"===a.fillMode])),s.BMQ("id",a.itemId(e,t))("aria-hidden",a.tagAriaHidden(t)),s.R7$(2),s.Y8G("ngIf",a.isGroupTag(e))("ngIfThen",o)("ngIfElse",r),s.R7$(6),s.BMQ("aria-hidden",t!==a.focused),s.R7$(),s.Y8G("svgIcon",a.xCircleIcon)}}function Qet(i,n){}function Zet(i,n){if(1&i&&(s.j41(0,"span",18),s.DNE(1,Qet,0,0,"ng-template",19),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngTemplateOutlet",null==e.prefixTemplate?null:e.prefixTemplate.templateRef)}}function ett(i,n){1&i&&s.nrm(0,"kendo-separator")}function ttt(i,n){if(1&i){const e=s.RV6();s.j41(0,"span",20),s.bIt("mousedown",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.clearAll(o))}),s.nrm(1,"kendo-icon-wrapper",21),s.k0s()}if(2&i){const e=s.XpG();s.xc7("visibility",e.clearButtonVisiblity),s.BMQ("title",e.messageFor("clearTitle")),s.R7$(),s.Y8G("svgIcon",e.xIcon)}}function ntt(i,n){1&i&&s.nrm(0,"span",22)}function itt(i,n){1&i&&s.nrm(0,"kendo-separator")}function stt(i,n){}function ott(i,n){if(1&i&&(s.j41(0,"span",23),s.DNE(1,stt,0,0,"ng-template",19),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngTemplateOutlet",null==e.suffixTemplate?null:e.suffixTemplate.templateRef)}}function rtt(i,n){1&i&&s.eu8(0)}function att(i,n){if(1&i&&s.DNE(0,rtt,1,0,"ng-container",24),2&i){s.XpG();const e=s.sdS(19);s.Y8G("ngTemplateOutlet",e)}}function ltt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-resize-sensor",25),s.bIt("resize",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onResize())}),s.k0s()}}function ctt(i,n){}function dtt(i,n){if(1&i&&s.DNE(0,ctt,0,0,"ng-template",29),2&i){const e=s.XpG(2);s.Y8G("templateContext",s.eq3(1,er,e.headerTemplate.templateRef))}}function utt(i,n){}function htt(i,n){if(1&i&&s.DNE(0,utt,0,0,"ng-template",29),2&i){const e=s.XpG(3);s.Y8G("templateContext",s.l_i(1,df,e.customItemTemplate.templateRef,e.text))}}function ptt(i,n){if(1&i&&s.EFF(0),2&i){const e=s.XpG(3);s.JRh(e.text)}}function ftt(i,n){if(1&i&&(s.j41(0,"div",30)(1,"div",31),s.DNE(2,htt,1,4,null,32)(3,ptt,1,1,"ng-template",null,5,s.C5r),s.nrm(5,"kendo-icon-wrapper",33),s.k0s()()),2&i){const e=s.sdS(4),t=s.XpG(2);s.Y8G("ngClass",t.customItemSizeClass),s.R7$(),s.Y8G("multipleSelection",!0)("index",-1),s.R7$(),s.Y8G("ngIf",t.customItemTemplate)("ngIfElse",e),s.R7$(3),s.Y8G("svgIcon",t.plusIcon)}}function mtt(i,n){}function _tt(i,n){if(1&i&&(s.j41(0,"div"),s.EFF(1),s.k0s()),2&i){const e=s.XpG(3);s.R7$(),s.JRh(e.messageFor("noDataText"))}}function gtt(i,n){if(1&i&&(s.j41(0,"div",34),s.DNE(1,mtt,0,0,"ng-template",35)(2,_tt,2,1,"ng-template",36),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.Y8G("ngIf",e.noDataTemplate)("templateContext",s.eq3(3,er,e.noDataTemplate?e.noDataTemplate.templateRef:void 0)),s.R7$(),s.Y8G("ngIf",!e.noDataTemplate)}}function Stt(i,n){}function vtt(i,n){if(1&i&&s.DNE(0,Stt,0,0,"ng-template",29),2&i){const e=s.XpG(2);s.Y8G("templateContext",s.eq3(1,er,e.footerTemplate.templateRef))}}function Ctt(i,n){if(1&i){const e=s.RV6();s.DNE(0,dtt,1,3,null,9)(1,ftt,6,6,"div",26),s.j41(2,"kendo-list",27,4),s.bIt("pageChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.pageChange(o))}),s.k0s(),s.DNE(4,gtt,3,5,"div",28)(5,vtt,1,3,null,9)}if(2&i){const e=s.XpG();s.Y8G("ngIf",e.headerTemplate),s.R7$(),s.Y8G("ngIf",e.allowCustom&&e.text),s.R7$(),s.Y8G("size",e.size)("rounded",e.rounded)("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.textField)("valueField",e.valueField)("template",e.template)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("multipleSelection",!0)("virtual",e.virtual)("checkboxes",e.checkboxes)("isMultiselect",!0)("isActionSheetExpanded",e.isActionSheetExpanded)("showStickyHeader",e.showStickyHeader),s.R7$(2),s.Y8G("ngIf",0===e.data.length),s.R7$(),s.Y8G("ngIf",e.footerTemplate)}}const F5={name:"@progress/kendo-angular-dropdowns",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925302,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},se=i=>null!=i,zl=()=>{let n,e,i="";for(n=0;n<32;n++)e=16*Math.random()|0,(8===n||12===n||16===n||20===n)&&(i+="-"),i+=(12===n?4:16===n?3&e|8:e).toString(16);return i},aa=i=>Array.isArray(i),t0=i=>se(i)&&"object"==typeof i,qve=i=>"string"==typeof i&&0===i.length,B5=i=>aa(i)&&i.every(n=>t0(n)),Qq=(i,n,e)=>{const t=n.map(o=>se(o)&&se(Ze(o,e))?Ze(o,e):o);return i.reduce((o,r)=>{const a=se(r)&&se(Ze(r,e))?Ze(r,e):r,l=t.indexOf(a);return-1!==l&&o.push(l),o},[])},Ze=(i,n)=>se(i)?se(n)&&t0(i)?lr(n)(i):i:null,Qve=(i,n,e)=>{if(!se(i))return!1;let t=String(i);return e&&(t=t.toLowerCase()),0===t.indexOf(n)},g_=i=>i.className.includes("ng-untouched"),n0=i=>{},$nt=(i,n)=>{const e=i.matches||i.msMatchesSelector||i.webkitMatchesSelector;return!!e&&e.call(i,n)},JI=(i,n,e)=>i.nativeElement.contains(n)||e&&e.popupElement.contains(n),ki=(i,n)=>({small:`k-${i}-sm`,medium:`k-${i}-md`,large:`k-${i}-lg`}[n]),tr=i=>({small:"k-rounded-sm",medium:"k-rounded-md",large:"k-rounded-lg",full:"k-rounded-full"}[i]),la=(i,n)=>({solid:`k-${i}-solid`,flat:`k-${i}-flat`,outline:`k-${i}-outline`}[n]),Si=()=>{if(typeof window<"u")return window.innerWidth>768?"large":window.innerWidth>500?"medium":"small"},XD=i=>!!i,WD=(i,n,e)=>{const t=i.element.nativeElement.querySelector(".k-actionsheet"),o=i.element.nativeElement.querySelector(".k-child-animation-container");"medium"===n?(e.removeClass(t,"k-actionsheet-fullscreen"),e.addClass(t,"k-actionsheet-bottom"),e.addClass(t,"k-adaptive-actionsheet"),e.removeStyle(o,"top"),e.removeStyle(o,"height"),e.setStyle(o,"bottom","0px")):"small"===n&&(e.removeClass(t,"k-actionsheet-bottom"),e.addClass(t,"k-actionsheet-fullscreen"),e.addClass(t,"k-adaptive-actionsheet"),e.setStyle(o,"bottom","0px"),e.setStyle(o,"height","100%"))},cS=(i,n,e)=>{const t=i.wrapper.nativeElement.querySelector("kendo-list ul"),o=n.nativeElement.getAttribute("aria-labelledby");o&&e.setAttribute(t,"aria-labelledby",o)},KD=(i,n)=>{const e=i.nativeElement.getAttribute("aria-labelledby");return!n&&e?document.getElementById(e).innerText:n};let uS=(()=>{class i{constructor(e,t,o){this.localization=e,this.injector=o,this.ariaExpanded=null,this.valueChange=new s.bkB,this.onBlur=new s.bkB,this.onFocus=new s.bkB,this.onClick=new s.bkB,this.onNavigate=new s.bkB,this.searchBarClass=!0,this._userInput="",this._previousValue="",this._placeholder="",this._isSuggestable=!1,this._isFilterable=!1,this.subs=new be.yU,this.direction=e.rtl?"rtl":"ltr",this.renderer=t}set isSuggestable(e){this._isSuggestable=e,this.setAriaAutocomplete()}get isSuggestable(){return this._isSuggestable}set isFilterable(e){this._isFilterable=e,this.setAriaAutocomplete()}get isFilterable(){return this._isFilterable}get userInput(){return this._userInput}set userInput(e){this._userInput=e||""}get formControl(){return this.injector.get(Ci,null)?.control||null}get value(){return this.input.nativeElement.value}set placeholder(e){this._placeholder=e||"",this.setInputSize()}get placeholder(){return this._placeholder}ngOnInit(){this.subs.add(this.localization.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr"))}ngOnChanges(e){if(!ne())return;let t;if(this.input&&(e.userInput||e.suggestedText)){t=e.userInput&&e.userInput.previousValue?this._previousValue===e.userInput.previousValue?this._previousValue:e.userInput.currentValue||"":this._previousValue;const o=this.input.nativeElement.selectionStart,r=t.length===o;this.writeInputValue(this.suggestedText?((i,n)=>i.concat(n.substr(n.toLowerCase().indexOf(i.toLowerCase())+i.length)))(this.userInput,this.suggestedText):this.userInput),this.suggestedText?this.setInputSelection(this.userInput.length,this.suggestedText.length):kG(navigator.userAgent)&&!r?this.setInputSelection(o,this.userInput.length):r?this.setInputSelection(this.userInput.length,this.userInput.length):this.setInputSelection(o,o),this._previousValue=this.userInput}}ngOnDestroy(){this.subs.unsubscribe()}writeInputValue(e){ne()&&this.renderer.setProperty(this.input.nativeElement,"value",e)}setInputSelection(e,t){if(ne()&&this.input.nativeElement===document.activeElement)try{this.input.nativeElement.setSelectionRange(e,t)}catch{}}setAriaAutocomplete(){this.isFilterable&&this.renderer.setAttribute(this.input.nativeElement,"aria-autocomplete","list"),this.isSuggestable&&this.renderer.setAttribute(this.input.nativeElement,"aria-autocomplete","inline"),this.isFilterable&&this.isSuggestable&&this.renderer.setAttribute(this.input.nativeElement,"aria-autocomplete","both"),!this.isFilterable&&!this.isSuggestable&&this.renderer.removeAttribute(this.input.nativeElement,"aria-autocomplete")}handleInput(e){const t=e.target,r=kG(navigator.userAgent)&&(i=>/[\u3000-\u303F]|[\u3040-\u309F]|[\u30A0-\u30FF]|[\uFF00-\uFFEF]|[\u4E00-\u9FAF]|[\u2605-\u2606]|[\u2190-\u2195]|\u203B/g.test(i))(t.value)?e.data:t.value;r!==this.userInput&&(this._previousValue=r,this.valueChange.emit(r))}handleFocus(e){this.onFocus.emit(e)}handleBlur(e){this.onBlur.emit(e)}handleKeydown(e){[G.ArrowUp,G.ArrowDown,G.ArrowLeft,G.ArrowRight,G.Enter,G.Escape,G.Delete,G.Backspace,G.Home,G.End,G.PageDown,G.PageUp].indexOf(e.keyCode)>-1&&this.onNavigate.emit(e)}focus(){ne()&&this.input.nativeElement.focus()}blur(){ne()&&this.input.nativeElement.blur()}setInputSize(){const e=l=>l?l.length:0,t=this.input.nativeElement,o=e(this.placeholder),r=e(this.value),a=Math.max(o,r,1);this.renderer.setAttribute(t,"size",a.toString())}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z),s.rXU(s.sFG),s.rXU(s.zZn))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-searchbar"]],viewQuery:function(e,t){if(1&e&&s.GBs(ZQe,7),2&e){let o;s.mGM(o=s.lsd())&&(t.input=o.first)}},hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-searchbar",t.searchBarClass)},inputs:{id:"id",tagListId:"tagListId",activeDescendant:"activeDescendant",disabled:"disabled",readonly:"readonly",tabIndex:"tabIndex",role:"role",isLoading:"isLoading",ariaControls:"ariaControls",ariaExpanded:"ariaExpanded",isSuggestable:"isSuggestable",isFilterable:"isFilterable",userInput:"userInput",suggestedText:"suggestedText",placeholder:"placeholder"},outputs:{valueChange:"valueChange",onBlur:"onBlur",onFocus:"onFocus",onClick:"onClick",onNavigate:"onNavigate"},features:[s.OA$],decls:2,vars:18,consts:[["input",""],["autocomplete","off","aria-haspopup","listbox",1,"k-input-inner",3,"input","keydown","id","disabled","readonly","placeholder","kendoEventsOutsideAngular","scope"]],template:function(e,t){if(1&e){const o=s.RV6();s.j41(0,"input",1,0),s.bIt("input",function(a){return s.eBV(o),s.Njj(t.handleInput(a))})("keydown",function(a){return s.eBV(o),s.Njj(t.handleKeydown(a))}),s.k0s()}2&e&&(s.Y8G("id",t.id)("disabled",t.disabled)("readonly",t.readonly)("placeholder",t.placeholder)("kendoEventsOutsideAngular",s.l_i(15,eZe,t.handleFocus,t.handleBlur))("scope",t),s.BMQ("tabIndex",t.tabIndex)("dir",t.direction)("role",t.role)("aria-expanded",t.ariaExpanded)("aria-controls",t.ariaControls)("aria-describedby",t.tagListId)("aria-activedescendant",t.activeDescendant)("aria-busy",t.isLoading)("aria-invalid",null==t.formControl?null:t.formControl.invalid))},dependencies:[xo],encapsulation:2}),i})(),Na=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoDropDownListItemTemplate",""],["","kendoComboBoxItemTemplate",""],["","kendoAutoCompleteItemTemplate",""],["","kendoMultiSelectItemTemplate",""]]}),i})(),s0=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoDropDownListHeaderTemplate",""],["","kendoComboBoxHeaderTemplate",""],["","kendoDropDownTreeHeaderTemplate",""],["","kendoMultiColumnComboBoxHeaderTemplate",""],["","kendoAutoCompleteHeaderTemplate",""],["","kendoMultiSelectHeaderTemplate",""],["","kendoMultiSelectTreeHeaderTemplate",""]]}),i})(),o0=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoDropDownListFooterTemplate",""],["","kendoComboBoxFooterTemplate",""],["","kendoDropDownTreeFooterTemplate",""],["","kendoMultiColumnComboBoxFooterTemplate",""],["","kendoAutoCompleteFooterTemplate",""],["","kendoMultiSelectFooterTemplate",""],["","kendoMultiSelectTreeFooterTemplate",""]]}),i})(),qI=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoDropDownListGroupTemplate",""],["","kendoComboBoxGroupTemplate",""],["","kendoMultiColumnComboBoxGroupTemplate",""],["","kendoAutoCompleteGroupTemplate",""],["","kendoMultiSelectGroupTemplate",""]]}),i})(),QI=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoDropDownListFixedGroupTemplate",""],["","kendoComboBoxFixedGroupTemplate",""],["","kendoMultiColumnComboBoxFixedGroupTemplate",""],["","kendoAutoCompleteFixedGroupTemplate",""],["","kendoMultiSelectFixedGroupTemplate",""]]}),i})(),Tc=(()=>{class i{constructor(){this.grouped=!1,this.groupIndices=[]}set data(e){this._data=e,this.grouped=this.isGrouped(e),this.grouped&&(this.groupIndices=this.getGroupIndices(e),this._flatData=this.flatten(e))}get data(){return this.grouped?this._flatData:this._data}get itemsCount(){return se(this.data)&&0!==this.data.length?(this.grouped?this._flatData.filter(t=>!t.header):this.data).length:0}isGrouped(e){return se(e)&&0!==e.length&&se(e[0])&&((i,n)=>!!se(i)&&n.every(e=>i.hasOwnProperty(e)))(e[0],["aggregates","field","items","value"])}getGroupIndices(e){const t=[];for(let o=0;o<=e.length-1;o++)t[o]=(t[o-1]||0)+e[o].items.length;return t}filter(e){let t=[];if(this.isGrouped(this.data))for(let o=0;o<=this.groupIndices.length-1;o++){const r=this.data[o].items.filter(e);r&&(t=t.concat(r))}else t=this.data.filter(e);return t}indexOf(e,t=0){let o=r=>r===e;return this.grouped&&(o=r=>r.value===e),this.findIndex(o,t)}findIndex(e,t=0){let o=-1;if(this.grouped){const r=this._flatData.filter(a=>!a.header&&a.offsetIndex>=t);o=r.findIndex(e),o=r[o]?r[o].offsetIndex:-1}else{const a=this.data.slice(t).findIndex(e);o=-1!==a?a+t:-1}return o}closestGroup(e){for(let t=e;t>=0;t--)if(this._flatData[t].header)return this._flatData[t]}find(e){const t=this.findIndex(e);return this.itemAt(t)}flatIndex(e){if(0===this.itemsCount)return-1;if(!this.grouped)return e;{const t=this._flatData.find(o=>!o.header&&o.offsetIndex===e);if(t)return t.index}return-1}itemAt(e){let t;if(0===this.itemsCount)return t;if(this.grouped){const o=this._flatData.find(r=>!r.header&&r.offsetIndex===e);o&&(t=o.value)}else t=this.data[e];return t}groupAt(e){if(0!==this.itemsCount&&this.isGrouped)return this._flatData.find(t=>t.header&&t.index===e)}groupItemsIndices(){return this.isGrouped?((i,n,e)=>this.data.reduce((t,o)=>(e=>e.header)(o)?[...t,e(o)]:t,[]))(0,0,e=>e.index):[]}groupField(){return 0!==this.itemsCount&&this.isGrouped?this._data[0].field:null}itemGroup(e){if(!e||0===this.itemsCount||!this.isGrouped)return;const t=this.groupField();return t?Ze(e,t):void 0}flatten(e,t=void 0,o=0,r=0){let a=[];se(t)&&a.push({header:!0,index:r+o,offsetIndex:r,value:t});for(let l=0;l<e.length;l++){let c=[];e[l].items?(c=this.flatten(e[l].items,e[l].value,o,l),o+=e[l].items.length):c.push({header:!1,index:r+o+l+1,offsetIndex:o+l,value:e[l]}),a=a.concat(c)}return a}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),Hl=(()=>{class i{constructor(e){this.dataService=e,this.itemDisabled=null}isIndexDisabled(e){if(this.itemDisabled){const t=this.dataService.itemAt(e);if(se(t))return this.itemDisabled({dataItem:t,index:e});if(se(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}isItemDisabled(e){if(this.itemDisabled){const t=this.dataService.indexOf(e);if(-1!==t)return this.itemDisabled({dataItem:e,index:t});if(se(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(Tc))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),jl=(()=>{class i{constructor(e){this.disabledItemsService=e,this.onSelect=new s.bkB,this.onChange=new s.bkB,this.onFocus=new s.bkB,this.total=0,this.selectedIndices=[],this.indicesToBeRemoved=[],this.indicesToBeAdded=[]}getTotal(){return this.total}isSelected(e){return se(this.selectedIndices.find(t=>t===e))}isFocused(e){return e===this.focused}focus(e){this.isFocused(e)||(this.focused=e,this.onFocus.emit(e))}select(e){this.isSelected(e)||(this.selectedIndices=[e],this.focused=e,this.onSelect.emit({indices:[e],newSelection:se(e)}))}add(e,t){this.isSelected(e)||(this.selectedIndices.push(e),this.focused=e,this.onChange.emit({added:e,indices:this.selectedIndices.slice(),preventClosingPopup:t}))}emitMultipleAddedRemoved(){this.onChange.emit({added:this.indicesToBeAdded,removed:this.indicesToBeRemoved,indices:this.selectedIndices.slice(),preventClosingPopup:!0,isMultipleSelection:!0}),this.indicesToBeAdded=[],this.indicesToBeRemoved=[]}addMultiple(e){this.indicesToBeAdded=e.slice(),this.selectedIndices.push(...e)}deselect(e,t){if(!this.isSelected(e))return;const o=this.selectedIndices.indexOf(e);this.selectedIndices.splice(o,1),this.focused=e,0===this.selected.length&&(this.lastClickedIndex=null),this.onChange.emit({indices:this.selectedIndices.slice(),removed:e,preventClosingPopup:t})}unselectMultiple(e){e.forEach(t=>{const o=this.selectedIndices.indexOf(t);this.selectedIndices.splice(o,1)}),this.indicesToBeRemoved=e.slice()}change(e){const t=se(e)&&!this.isSelected(e);this.selectedIndices=[e],this.focused=e,this.onChange.emit({indices:[e],newSelection:t})}resetSelection(e){this.selectedIndices=e instanceof Array?e:[e],this.focused=this.selectedIndices[this.selectedIndices.length-1]}get selected(){return this.selectedIndices.slice()}get focused(){return this.focusedIndex}set focused(e){this.focusedIndex!==e&&(this.focusedIndex=e,this.onFocus.emit(e))}selectFromTo(e,t){const o=[];for(let r=e;r<=t;r++)!this.isSelected(r)&&!this.disabledItemsService.isIndexDisabled(r)&&o.push(r);this.addMultiple(o)}unselectFromTo(e,t){const o=[];for(let r=e;r>=t;r--)this.isSelected(r)&&!this.disabledItemsService.isIndexDisabled(r)&&o.push(r);this.unselectMultiple(o)}unselectNotNeededIndices(e,t,o){const r=[];for(let a=0;a<e;a++)this.isSelected(a)&&r.push(a);for(let a=t+1;a<o;a++)this.isSelected(a)&&r.push(a);this.unselectMultiple(r)}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(Hl))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();var gt=function(i){return i[i.Undefined=0]="Undefined",i[i.Open=1]="Open",i[i.Close=2]="Close",i[i.Enter=3]="Enter",i[i.Tab=4]="Tab",i[i.Esc=5]="Esc",i[i.Delete=6]="Delete",i[i.Backspace=7]="Backspace",i[i.Home=8]="Home",i[i.End=9]="End",i[i.Up=10]="Up",i[i.Down=11]="Down",i[i.Left=12]="Left",i[i.Right=13]="Right",i[i.PageDown=14]="PageDown",i[i.PageUp=15]="PageUp",i[i.SelectPrevious=16]="SelectPrevious",i[i.SelectNext=17]="SelectNext",i[i.SelectAll=18]="SelectAll",i[i.SelectAllToBeginning=19]="SelectAllToBeginning",i[i.SelectAllToEnd=20]="SelectAllToEnd",i}(gt||{});class n2e{constructor(n,e){this.index=n,this.originalEvent=e}}let Mc=(()=>{class i{constructor(e,t){this.disabledItemsService=e,this.selectionService=t,this.open=new s.bkB,this.close=new s.bkB,this.enter=new s.bkB,this.tab=new s.bkB,this.esc=new s.bkB,this.up=new s.bkB,this.right=new s.bkB,this.down=new s.bkB,this.left=new s.bkB,this.delete=new s.bkB,this.backspace=new s.bkB,this.home=new s.bkB,this.end=new s.bkB,this.pagedown=new s.bkB,this.pageup=new s.bkB,this.selectnext=new s.bkB,this.selectprevious=new s.bkB,this.selectall=new s.bkB,this.selectalltobeginning=new s.bkB,this.selectalltoend=new s.bkB}process(e){const t=e.originalEvent.keyCode,o=e.originalEvent.altKey,r=e.originalEvent.shiftKey,a=e.originalEvent.ctrlKey||e.originalEvent.metaKey;let l,c=gt.Undefined;o&&t===G.ArrowDown?c=gt.Open:o&&t===G.ArrowUp?c=gt.Close:r&&t===G.ArrowUp?c=gt.SelectPrevious:r&&t===G.ArrowDown?c=gt.SelectNext:a&&t===G.KeyA?c=gt.SelectAll:a&&r&&t===G.Home?c=gt.SelectAllToBeginning:a&&r&&t===G.End?c=gt.SelectAllToEnd:t===G.Enter?c=gt.Enter:t===G.Escape?c=gt.Esc:t===G.Tab?c=gt.Tab:t===G.ArrowUp?(l=this.next({current:e.current,start:e.min,end:e.max,step:-1}),c=gt.Up):t===G.ArrowLeft?(l=this.next({current:e.current,start:e.min,end:e.max,step:-1}),c=gt.Left):t===G.ArrowDown?(l=this.next({current:e.current,start:e.min,end:e.max,step:1}),c=gt.Down):t===G.ArrowRight?(l=this.next({current:e.current,start:e.min,end:e.max,step:1}),c=gt.Right):t===G.Home?(l=this.isDisabled(0)?e.current:0,c=gt.Home):t===G.End?(l=this.isDisabled(e.max)?e.current:e.max,c=gt.End):t===G.Delete?c=gt.Delete:t===G.Backspace?c=gt.Backspace:t===G.PageDown?c=gt.PageDown:t===G.PageUp&&(c=gt.PageUp);const u=new n2e(l,e.originalEvent);return c!==gt.Undefined&&this[gt[c].toLowerCase()].emit(u),c}next(e){const{current:t,start:o,end:r,step:a}=e,l=se(t)?this.clampIndex(t+a,o,r):o,c=this.firstFocusableIndex(l,o,r,a);return se(c)?c:this.selectionService.isSelected(t)&&t>=o?t:this.firstFocusableIndex(l,o,r,-1*a)}clampIndex(e,t,o){return!se(e)||e<t?t:e>o?o:e}firstFocusableIndex(e,t,o,r){for(;t<=e&&e<=o;){if(!this.isDisabled(e))return e;e+=r}}isDisabled(e){if(this.disabledItemsService)return this.disabledItemsService.isIndexDisabled(e)}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(Hl),s.KVO(jl))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),r0=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoDropDownListNoDataTemplate",""],["","kendoDropDownTreeNoDataTemplate",""],["","kendoComboBoxNoDataTemplate",""],["","kendoMultiColumnComboBoxNoDataTemplate",""],["","kendoAutoCompleteNoDataTemplate",""],["","kendoMultiSelectNoDataTemplate",""],["","kendoMultiSelectTreeNoDataTemplate",""]]}),i})();class a0{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class YD{}let eQ=(()=>{class i{constructor(e){this.element=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT))},i.\u0275dir=s.FsC({type:i,selectors:[["li","role","option"],["li","role","group"]]}),i})(),uf=(()=>{class i{constructor(e){this.viewContainerRef=e}set templateContext(e){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.c1b))},i.\u0275dir=s.FsC({type:i,selectors:[["","templateContext",""]],inputs:{templateContext:"templateContext"}}),i})(),H5=(()=>{class i{constructor(e){this.checkboxes={enabled:!1},this.multipleSelection=!1,this.selectionService=e}get focusedClassName(){return this.selectionService.isFocused(this.index)}get selectedClassName(){return!this.checkboxes.enabled&&this.selectionService.isSelected(this.index)}onClick(e){e.stopPropagation(),this.selectionService.lastClickedIndex=this.index,(!this.checkboxes.enabled||this.checkboxes.checkOnClick)&&(this.multipleSelection?this.selectionService.isSelected(this.index)?this.selectionService.deselect(this.index):this.selectionService.add(this.index):this.selectionService.change(this.index))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(jl))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoDropDownsSelectable",""]],hostVars:9,hostBindings:function(e,t){1&e&&s.bIt("click",function(r){return t.onClick(r)}),2&e&&(s.BMQ("index",t.index),s.xc7("height",t.height,"px")("min-height",t.height,"px"),s.AVh("k-focus",t.focusedClassName)("k-selected",t.selectedClassName))},inputs:{index:"index",checkboxes:"checkboxes",height:"height",isMultiselect:"isMultiselect",multipleSelection:"multipleSelection"}}),i})(),JD=(()=>{class i{constructor(e,t,o,r,a,l,c){this.dataService=e,this.wrapper=t,this.selectionService=o,this.disabledItemsService=r,this.cdr=a,this.zone=l,this.renderer=c,this.selected=[],this.focused=-1,this.show=!0,this.multipleSelection=!1,this.type="list",this.checkboxes={enabled:!1},this.rounded="medium",this.onClick=new s.bkB,this.pageChange=new s.bkB,this.listResize=new s.bkB,this.popupListScroll=new s.bkB,this.startFrom=0,this.lastLoaded=0,this.lastScrollTop=0,this.scrollToFocused=!1,this._size="medium",this.selectSubscription=Bt(this.selectionService.onSelect.pipe((0,V.T)(u=>u.indices[0])),this.selectionService.onFocus).pipe(le(u=>this.zone.onStable.pipe(We(1),(0,V.T)(()=>u)))).subscribe(this.scrollToItem.bind(this)),this.prepareClasses()}set data(e){this._data=e[0]&&e[0].header?e.slice(0):e}get data(){return this._data}set size(e){"list"===this.type&&(this.renderer.removeClass(this.wrapper.nativeElement,ki("list",this.size)),e&&this.renderer.addClass(this.wrapper.nativeElement,ki("list",e)),this._size=e)}get size(){return this._size}get pageSize(){return this.virtual.pageSize?this.virtual.pageSize:Math.round(this.height/this.virtual.itemHeight)}get scrollHeight(){return this.virtual.total*this.virtual.itemHeight}get overflowY(){if(se(this.virtual))return this.hasVirtualScrollbar()?"scroll":"hidden"}get checkboxClasses(){return`${this.size?ki("checkbox",this.size):""} ${this.rounded?tr(this.rounded):""}`}ngOnChanges(e){wt("data",e,!1)&&(this.lastLoaded<=0&&(this.lastLoaded=this.data.length-1,this.scrollToFocused=!e.data.isFirstChange()),this.setOverflow()),wt("virtual",e,!1)&&this.setOverflow(),wt("type",e,!1)&&this.prepareClasses()}ngAfterViewInit(){this.setComponentClasses(),this.zone.runOutsideAngular(()=>{this.scrollSubscription=Dt(this.content.nativeElement,"scroll").pipe(TC(100),F(this.prefetchData.bind(this)),F(this.findCurrentGroup.bind(this))).subscribe(()=>{this.lastScrollTop=this.content.nativeElement.scrollTop})}),this.setGroupAttributes(),this.setOverflow()}setGroupAttributes(){const e=document.querySelectorAll("li");let t,a,o=[],r=!1;e.forEach((l,c)=>{t="group"===l.getAttribute("role"),!t&&r&&(this.renderer.setAttribute(l,"aria-describedby",a.getAttribute("id")),o.push(l.getAttribute("id")),(c+1>=e.length||"group"===e[c+1]?.getAttribute("role"))&&(this.renderer.setAttribute(a,"aria-owns",o.join(" ")),o=[])),t&&(r=!0,a=l)})}ngAfterViewChecked(){this.virtual&&this.positionItems(),this.items&&this.scrollToFocused&&(this.scrollToFocused=!1,this.scrollToItem(this.items.length&&-1===this.selectionService.focused?0:this.selectionService.focused)),this.dataService.grouped&&this.findCurrentGroup()}ngOnDestroy(){this.selectSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe()}onCheckedChange(e,t){const o=e.target.checked;o&&!this.selectionService.isSelected(t)&&this.selectionService.add(t),!o&&this.selectionService.isSelected(t)&&this.selectionService.deselect(t)}prepareClasses(){"list"===this.type?(this.listContentClass="k-list-content",this.listClass="k-list-ul",this.listItemClass="k-list-item",this.listVirtualClass="k-virtual-list",this.listGroupStickyHeaderClass="k-list-group-sticky-header",this.listGroupStickyHeaderTextClass="k-list-header-text",this.listGroupItemClass="k-list-group-item",this.listGroupItemTextClass="k-list-item-text"):(this.listContentClass="k-table-body k-table-scroller",this.listClass="k-table k-table-list",this.listItemClass="k-table-row",this.listVirtualClass="k-virtual-table",this.listGroupStickyHeaderClass="k-table-group-sticky-header",this.listGroupStickyHeaderTextClass="k-table-th",this.listGroupItemClass="k-table-group-row",this.listGroupItemTextClass="k-table-th")}isChecked(e){return this.selectionService.isSelected(this.virtual?e+this.virtual.skip:e)}firstVisibleItem(){const e=this.content.nativeElement,t=e.getBoundingClientRect(),o=Array.prototype.slice.call(e.querySelectorAll(".k-disabled"));o.forEach(a=>this.renderer.setStyle(a,"pointer-events","auto"));const r=document.elementFromPoint(t.left+1,t.top+1);return o.forEach(a=>this.renderer.setStyle(a,"pointer-events","none")),((i,n)=>{let e=i;for(;null!==e&&1===e.nodeType;){if($nt(e,"li"))return e;e=e.parentElement||e.parentNode}return null})(r)}findCurrentGroup(){if(!this.dataService.grouped)return void(this.currentGroup=void 0);const e=this.firstVisibleItem();if(e){let t;"group"===e.getAttribute("role")?(t=parseInt(e.getAttribute("group-index"),10),this.currentGroup=this.dataService.groupAt(t).value):(t=parseInt(e.getAttribute("index"),10),this.currentGroup=this.dataService.itemGroup(this.dataService.itemAt(t)))}else this.currentGroup=void 0;this.cdr.detectChanges()}prefetchData(){if(!this.virtual)return;const e=Math.trunc(this.content.nativeElement.clientHeight/this.virtual.itemHeight),t=this.content.nativeElement.scrollTop,o=Math.trunc(t/this.virtual.itemHeight),r=t>this.lastScrollTop,c=this.lastLoaded-this.pageSize+e>=o-(this.pageSize-(this.lastLoaded-this.startFrom));r&&o+e>=this.lastLoaded&&this.lastLoaded<this.virtual.total-1&&this.changePage(o),!r&&c&&this.changePage(o-this.pageSize+e+1)}changePage(e){this.zone.run(()=>{let t=this.pageSize+e;t>this.virtual.total&&(e--,t=this.virtual.total),e<0&&(e=0),this.startFrom=e,this.lastLoaded=t,this.pageChange.emit({skip:e,take:this.pageSize})}),this.setGroupAttributes()}index(e,t){return e>0?this.dataService.groupIndices[e-1]+t:t}getText(e){return Ze(e,this.textField)}getValue(e){return Ze(e,this.valueField)}isDisabled(e){return se(this.virtual)&&(e+=this.virtual.skip),this.disabledItemsService.isIndexDisabled(e)}isAltRow(e){return"dropdowngrid"===this.type&&e%2!=0}scrollToItem(e){let t=e;if(this.dataService.grouped&&(t=this.dataService.flatIndex(e)),this.virtual&&t>-1)return void this.scrollToIndex(t);const o=this.items.toArray();se(o[t])&&-1!==t&&this.scroll(o[t].element)}scrollWithOnePage(e){const t=this.content.nativeElement,o=t.clientHeight;e===gt.PageDown?t.scrollTop+=o:e===gt.PageUp&&(t.scrollTop-=o)}scrollToIndex(e){const t=this.content.nativeElement;let o=t.scrollTop;const r=e*this.virtual.itemHeight,l=t.clientHeight,c=r+this.virtual.itemHeight;o>r?o=r:c>o+l&&(o=c-l),t.scrollTop=o}scroll(e){if(!e)return;const t=e.nativeElement,o=this.content.nativeElement,r=t.offsetTop;let l=o.scrollTop;const c=o.clientHeight,u=r+t.offsetHeight;l>r?l=r:u>l+c&&(l=u-c),o.scrollTop=l}hasScrollbar(){return!!(se(this.items)&&this.items.length&&se(this.list)&&se(this.content))&&(se(this.virtual)&&this.hasVirtualScrollbar()||this.list.nativeElement.scrollHeight>this.content.nativeElement.offsetHeight)}isItemSelected(e){return this.selectionService.isSelected(e)||null}setOverflow(){if(this.virtual){const e=this.hasVirtualScrollbar()?"scroll":"hidden";this.renderer.setStyle(this.content.nativeElement,"overflow-y",e)}}hasVirtualScrollbar(){return this.virtualContainer&&(this.virtualContainer&&this.virtualContainer.nativeElement.offsetHeight)>this.content.nativeElement.offsetHeight}positionItems(){this.items.forEach((e,t)=>{this.renderer.setStyle(e.element.nativeElement,"transform",`translateY(${(t+this.startFrom)*this.virtual.itemHeight}px`)})}firstGroupHeaderInTargetedPage(e){return!se(this.virtual)||0===this.virtual.skip&&this.virtual.pageSize>e}setComponentClasses(){"list"===this.type&&(this.renderer.addClass(this.wrapper.nativeElement,"k-list"),this.size&&this.renderer.addClass(this.wrapper.nativeElement,ki("list",this.size))),"dropdowngrid"===this.type&&this.renderer.setStyle(this.wrapper.nativeElement,"overflow-y","scroll"),se(this.virtual)&&this.renderer.addClass(this.wrapper.nativeElement,this.listVirtualClass)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Tc),s.rXU(s.aKT),s.rXU(jl),s.rXU(Hl),s.rXU(s.gRc),s.rXU(s.SKi),s.rXU(s.sFG))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-list"]],viewQuery:function(e,t){if(1&e&&(s.GBs(tZe,7),s.GBs(nZe,7),s.GBs(iZe,5),s.GBs(eQ,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.content=o.first),s.mGM(o=s.lsd())&&(t.list=o.first),s.mGM(o=s.lsd())&&(t.virtualContainer=o.first),s.mGM(o=s.lsd())&&(t.items=o)}},inputs:{selected:"selected",focused:"focused",textField:"textField",valueField:"valueField",height:"height",template:"template",groupTemplate:"groupTemplate",fixedGroupTemplate:"fixedGroupTemplate",show:"show",id:"id",optionPrefix:"optionPrefix",multipleSelection:"multipleSelection",virtual:"virtual",type:"type",checkboxes:"checkboxes",ariaLive:"ariaLive",isMultiselect:"isMultiselect",isActionSheetExpanded:"isActionSheetExpanded",showStickyHeader:"showStickyHeader",data:"data",size:"size",rounded:"rounded"},outputs:{onClick:"onClick",pageChange:"pageChange",listResize:"listResize",popupListScroll:"popupListScroll"},features:[s.OA$],decls:9,vars:17,consts:[["content",""],["list",""],["li",""],["virtualContainer",""],[3,"class","ngStyle",4,"ngIf"],["unselectable","on",3,"scroll"],["role","listbox"],[4,"ngIf"],[3,"resize",4,"ngIf"],["class","k-height-container","role","presentation",4,"ngIf"],[3,"ngStyle"],[3,"ngIf"],[3,"templateContext"],["ngFor","",3,"ngForOf"],["role","option","kendoDropDownsSelectable","",3,"checkboxes","height","index","multipleSelection","ngClass"],["type","checkbox","class","k-checkbox","role","presentation","tabindex","-1","aria-hidden","true",3,"ngClass","checked","change",4,"ngIf"],["type","checkbox","role","presentation","tabindex","-1","aria-hidden","true",1,"k-checkbox",3,"change","ngClass","checked"],[1,"k-list-item-text"],["role","group",3,"class","k-table-alt-row","ngStyle",4,"ngIf"],["role","option","kendoDropDownsSelectable","",3,"height","index","multipleSelection","class","ngClass",4,"ngIf"],["role","group",3,"ngStyle"],["role","option","kendoDropDownsSelectable","",3,"height","index","multipleSelection","ngClass"],[3,"resize"],["role","presentation",1,"k-height-container"]],template:function(e,t){if(1&e){const o=s.RV6();s.DNE(0,aZe,3,9,"div",4),s.j41(1,"div",5,0),s.bIt("scroll",function(a){return s.eBV(o),s.Njj(t.popupListScroll.emit(a))}),s.j41(3,"ul",6,1),s.DNE(5,pZe,1,1,null,7)(6,yZe,1,1,null,7)(7,DZe,1,0,"kendo-resize-sensor",8),s.k0s(),s.DNE(8,wZe,4,2,"div",9),s.k0s()}2&e&&(s.Y8G("ngIf",t.dataService.grouped&&t.showStickyHeader),s.R7$(),s.HbH(t.listContentClass),s.xc7("overscroll-behavior","none")("max-height",t.height,"px"),s.R7$(2),s.HbH(t.listClass),s.BMQ("id",t.id)("aria-live",t.ariaLive)("aria-multiselectable",t.isMultiselect)("aria-hidden",!t.show),s.R7$(2),s.Y8G("ngIf",!t.dataService.grouped&&t.show),s.R7$(),s.Y8G("ngIf",t.dataService.grouped),s.R7$(),s.Y8G("ngIf",!t.virtual),s.R7$(),s.Y8G("ngIf",t.virtual))},dependencies:[hs,q,Wn,uf,ut,eQ,H5,Be],encapsulation:2}),i})();const i2e={pageSize:50,itemHeight:28},j5=(i,n)=>{const e=Object.assign({},i2e,n);return!0===i?e:i?{pageSize:i2e.pageSize,...i}:null},v_=new s.nKC("dropdowns-touch-enabled");let Ic=(()=>{class i{constructor(e){this.localization=e,this.closePopup=new s.bkB,this.textInputChange=new s.bkB,this.navigate=new s.bkB,this.onExpand=new s.bkB,this.onCollapse=new s.bkB,this.onApply=new s.bkB,this.onCancel=new s.bkB,this.searchBarValue="",this.animationDuration=300,this.xIcon=go}messageFor(e){return this.localization.get(e)}onValueChange(e){this.searchBarValue=e,this.textInputChange.emit(e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["responsive-renderer"]],viewQuery:function(e,t){if(1&e&&(s.GBs(VC,5),s.GBs(kZe,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.actionSheet=o.first),s.mGM(o=s.lsd())&&(t.actionSheetSearchBar=o.first)}},inputs:{title:"title",showActionButtons:"showActionButtons",subtitle:"subtitle",size:"size",showTextInput:"showTextInput",sharedPopupActionSheetTemplate:"sharedPopupActionSheetTemplate",isActionSheetExpanded:"isActionSheetExpanded",text:"text",placeholder:"placeholder"},outputs:{closePopup:"closePopup",textInputChange:"textInputChange",navigate:"navigate",onExpand:"onExpand",onCollapse:"onCollapse",onApply:"onApply",onCancel:"onCancel"},decls:3,vars:4,consts:[["actionSheet",""],["actionSheetSearchBar",""],[3,"overlayClick","keydown","expand","collapse","animation","expanded"],["kendoActionSheetTemplate",""],[1,"k-text-center","k-actionsheet-titlebar"],[1,"k-actionsheet-titlebar-group","k-hbox"],[1,"k-actionsheet-title"],[1,"k-text-center"],[1,"k-actionsheet-subtitle","k-text-center"],[1,"k-actionsheet-actions"],["kendoButton","","icon","x","type","button","fillMode","flat","aria-hidden","true","innerCssClass","k-button-icon",3,"click","svgIcon","size","tabIndex"],[1,"k-actionsheet-titlebar-group","k-actionsheet-filter"],["placeholder","Filter","class","k-searchbox","autocomplete","off",3,"value","size","valueChange",4,"ngIf"],[1,"k-actionsheet-content","!k-overflow-hidden"],[1,"k-list-container"],[4,"ngTemplateOutlet"],["class","k-actionsheet-footer k-actions k-actions-stretched",4,"ngIf"],["placeholder","Filter","autocomplete","off",1,"k-searchbox",3,"valueChange","value","size"],["kendoTextBoxPrefixTemplate",""],["name","search"],[1,"k-actionsheet-footer","k-actions","k-actions-stretched"],["kendoButton","","tabindex","0","aria-disabled","false","type","button","themeColor","base",3,"click","keydown.enter","size"],["kendoButton","","tabindex","0","aria-disabled","false","type","button","themeColor","primary",3,"click","keydown.enter","size"]],template:function(e,t){if(1&e){const o=s.RV6();s.j41(0,"kendo-actionsheet",2,0),s.bIt("overlayClick",function(){return s.eBV(o),s.Njj(t.closePopup.emit())})("keydown",function(a){return s.eBV(o),s.Njj(t.navigate.emit(a))})("expand",function(){return s.eBV(o),s.Njj(t.onExpand.emit())})("collapse",function(){return s.eBV(o),s.Njj(t.onCollapse.emit())}),s.DNE(2,AZe,15,9,"ng-template",3),s.k0s()}2&e&&s.Y8G("animation",s.eq3(2,OZe,t.animationDuration))("expanded",t.isActionSheetExpanded)},dependencies:[VC,Ht,xh,iJ,BC,q,yq,qe],encapsulation:2}),i})(),$5=(()=>{class i extends yi{}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275dir=s.FsC({type:i,inputs:{noDataText:"noDataText",clearTitle:"clearTitle",checkAllText:"checkAllText",selectButtonText:"selectButtonText",filterInputLabel:"filterInputLabel",popupLabel:"popupLabel",applyButton:"applyButton",cancelButton:"cancelButton"},features:[s.Vt3]}),i})(),hS=(()=>{class i extends $5{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoDropDownListLocalizedMessages",""],["","kendoDropDownTreeLocalizedMessages",""],["","kendoComboBoxLocalizedMessages",""],["","kendoMultiColumnComboBoxLocalizedMessages",""],["","kendoAutoCompleteLocalizedMessages",""],["","kendoMultiSelectLocalizedMessages",""],["","kendoMultiSelectTreeLocalizedMessages",""]],features:[s.Jv_([{provide:$5,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})(),X5=(()=>{class i{constructor(e,t,o){this.ngZone=e,this.renderer=t,this.cdr=o,this.isFocusedChange=new s.bkB,this.onFocus=new s.bkB,this.handleBlur=new s.bkB,this.subscriptions=new be.yU}ngAfterViewInit(){const e=this.hostElement.nativeElement;let t=!1,o=!1;this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(e,"focusin",()=>{this.cdr.detectChanges(),this.isFocused||this.ngZone.run(()=>{this.onFocus.emit(),this.isFocused=!0,this.isFocusedChange.emit(this.isFocused)})})),this.subscriptions.add(this.renderer.listen(e,"focusout",r=>{this.isFocused&&(o?(Fl(r.relatedTarget,l=>l===e)||this.handleBlur.emit(),o=!1):t||this.handleBlur.emit())})),this.subscriptions.add(this.renderer.listen(e,"mouseenter",()=>{t=!0})),this.subscriptions.add(this.renderer.listen(e,"mouseleave",()=>{t=!1})),this.subscriptions.add(this.renderer.listen(e,"keydown",r=>{o=r.keyCode===G.Tab}))})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.SKi),s.rXU(s.sFG),s.rXU(s.gRc))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoDropDownSharedEvents",""]],inputs:{hostElement:"hostElement",clearButtonClicked:"clearButtonClicked",isFocused:"isFocused"},outputs:{isFocusedChange:"isFocusedChange",onFocus:"onFocus",handleBlur:"handleBlur"}}),i})();const Qnt={multi:!0,provide:zn,useExisting:(0,s.Rfq)(()=>tQ)};let tQ=(()=>{class i{constructor(e,t,o,r,a,l,c,u,f,_,S,v){this.localization=e,this.dataService=t,this.popupService=o,this.selectionService=r,this.navigationService=a,this.disabledItemsService=l,this._zone=c,this.cdr=u,this.renderer=f,this.hostElement=_,this.touchEnabled=S,this.injector=v,this.animationDuration=300,this.xIcon=go,this.highlightFirst=!0,this.showStickyHeader=!0,this.focusableId=`k-${zl()}`,this.placeholder="",this.adaptiveMode="none",this.title="",this._listHeight=200,this.clearButton=!0,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.filterable=!1,this.valueChange=new s.bkB,this.filterChange=new s.bkB,this.open=new s.bkB,this.opened=new s.bkB,this.close=new s.bkB,this.closed=new s.bkB,this.onFocus=new s.bkB,this.onBlur=new s.bkB,this.inputFocus=new s.bkB,this.inputBlur=new s.bkB,this.widgetClasses=!0,this.listBoxId=`k-${zl()}`,this.optionPrefix=`k-${zl()}`,this.windowSize="large",this.onChangeCallback=n0,this.onTouchedCallback=n0,this.popupMouseDownHandler=b=>b.preventDefault(),this._popupSettings={animate:!0},this._open=!1,this._value="",this.subs=new be.yU,this.valueChangeSubject=new Ke.B,this._isFocused=!1,this._size="medium",this._rounded="medium",this._fillMode="solid",(0,_t.$)(F5),this.direction=e.rtl?"rtl":"ltr",this.wrapper=this.hostElement.nativeElement,this.data=[],this.subscribeEvents(),this.subscribeTouchEvents(),this.selectionService.resetSelection([-1])}get actionSheet(){return this.responsiveRendererComponent?.actionSheet}get actionSheetSearchBar(){return this.responsiveRendererComponent?.actionSheetSearchBar}get width(){let e=0;ne()&&(e=this.wrapper.offsetWidth);const t=this.popupSettings.width||e;return{min:isNaN(e)?e:`${e}px`,max:isNaN(t)?t:`${t}px`}}get height(){const e=this.popupSettings.height;return se(e)?`${e}px`:"auto"}get listContainerClasses(){const e=["k-list-container","k-autocomplete-popup"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}get suggestion(){if(!this.text||!this.suggestedText)return void(this.suggestedText=void 0);const e=this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase());return this.suggest&&!this.backspacePressed&&e?this.suggestedText:void 0}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}get clearButtonVisiblity(){if(this.touchEnabled)return"visible"}get ariaControls(){return this.isOpen?this.listBoxId:void 0}toggle(e){Promise.resolve(null).then(()=>{const t=se(e)?e:!this._open;this._toggle(t)})}get isOpen(){return XD(this._open||this.isActionSheetExpanded)}handleClick(){this.windowSize=Si(),this.isAdaptive&&this.togglePopup(!0)}togglePopup(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||this._toggle(e)}get activeDescendant(){if(!this.isOpen||!se(this.selectionService.focused)||-1===this.selectionService.focused)return null;const e=this.dataService.itemAt(this.selectionService.focused);return this.optionPrefix+"-"+Ze(e,this.valueField)}set data(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.filterable&&(this.selectionService.focused=this.isOpen&&this.data.length&&this.highlightFirst?this.firstFocusableIndex(0):-1),this.suggest&&this.dataService.itemsCount>0&&(this.suggestedText=Ze(this.dataService.itemAt(0),this.valueField))}get data(){const e=this.virtual;if(e){const t=e.skip||0,o=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,o)}return this.dataService.data}set value(e){this.verifySettings(e),this._value=e||"",this.text=this.value,this.cdr.markForCheck()}get value(){return this._value||""}set subtitle(e){this._subtitle=e}get subtitle(){return this._subtitle||this.placeholder}get isAdaptiveModeEnabled(){return"auto"===this.adaptiveMode}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set listHeight(e){this._listHeight=e}get listHeight(){if(!this.isAdaptive)return this._listHeight}set itemDisabled(e){if("function"!=typeof e)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set virtual(e){this._virtualSettings=j5(e)}get virtual(){return this._virtualSettings}set size(e){const t=e||"medium";this.renderer.removeClass(this.wrapper,ki("input",this.size)),"none"!==e&&this.renderer.addClass(this.wrapper,ki("input",t)),this._size=t}get size(){return this._size}set rounded(e){const t=e||"medium";this.renderer.removeClass(this.wrapper,tr(this.rounded)),"none"!==e&&this.renderer.addClass(this.wrapper,tr(t)),this._rounded=t}get rounded(){return this._rounded}set fillMode(e){const t=e||"solid";this.renderer.removeClass(this.wrapper,la("input",this.fillMode)),"none"!==e&&this.renderer.addClass(this.wrapper,la("input",t)),this._fillMode=t}get fillMode(){return this._fillMode}get isFocused(){return this._isFocused}set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper,"k-focus"),this._isFocused=e}get isDisabled(){return this.disabled}get isLoading(){return this.loading}get dir(){return this.direction}get isActionSheetExpanded(){return this.actionSheet?.expanded}get isAdaptive(){return this.isAdaptiveModeEnabled&&"large"!==this.windowSize}get formControl(){return this.injector.get(Ci,null)?.control||null}ngOnInit(){this.renderer.removeAttribute(this.wrapper,"tabindex"),this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.cdr.detectChanges()})),this.setComponentClasses()}ngAfterViewInit(){this.windowSize=Si(),this.cdr.detectChanges(),this.actionSheet&&ne()&&(this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-height","60vh"),this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-max-height","none"))}ngOnDestroy(){this.destroyPopup(),this.subs.unsubscribe(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler()}ngOnChanges(e){const t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize})}reset(){this.value=""}messageFor(e){return this.localization.get(e)}onAdaptiveTextBoxChange(e){this.search(e)}clearValue(e){e.stopImmediatePropagation(),this.focus(),this.change(""),this.filterable&&this.filterChange.emit(""),this.selectionService.resetSelection([])}writeValue(e){this.value=e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.cdr.markForCheck(),this.disabled=e}focusItemAt(e){const t=e>=0&&e<this.data.length;se(e)&&t&&!this.disabledItemsService.isIndexDisabled(e)?this.selectionService.focus(e):this.selectionService.focus(-1)}focus(){this.disabled||this.searchbar.focus()}blur(){this.disabled||this.searchbar.blur()}onResize(){if(this.isAdaptiveModeEnabled&&this.windowSize!==Si()&&(this.isOpen&&this.togglePopup(!1),this.windowSize=Si(),this.cdr.detectChanges()),this._open&&!this.isActionSheetExpanded){const e=this.popupRef.popupElement,{min:t,max:o}=this.width;e.style.minWidth=t,e.style.width=o}}emitChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}verifySettings(e){if((0,s.naY)()&&se(e)&&"string"!=typeof e)throw new Error("Expected value of type string. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/autocomplete/value-binding/")}search(e,t=0){const o=this.findIndex(e,t);this.disabledItemsService.isIndexDisabled(o)?o+1<this.dataService.itemsCount?this.search(e,o+1):this.selectionService.focus(-1):(this.selectionService.focus(o),this.suggest&&(this.suggestedText=Ze(this.dataService.itemAt(o),this.valueField)))}navigate(e){this.isOpen&&this.selectionService.focus(e)}handleNavigate(e){const t=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused;if(this.disabled||this.readonly||isNaN(t))return;const o=this.navigationService.process({current:t,max:this.dataService.itemsCount-1,min:0,originalEvent:e});o!==gt.Undefined&&o!==gt.Backspace&&o!==gt.Delete&&o!==gt.Home&&o!==gt.End&&o!==gt.Left&&o!==gt.Right&&o!==gt.PageDown&&o!==gt.PageUp&&(o===gt.Enter&&this.isOpen||o!==gt.Enter)&&e.preventDefault(),o===gt.Tab&&this.isActionSheetExpanded&&(e.stopImmediatePropagation(),this.togglePopup(!1))}handleEnter(e){const t=this.selectionService.focused;let o;if(this.isOpen&&e.originalEvent.preventDefault(),t>=0)o=Ze(this.dataService.itemAt(t),this.valueField);else{const r=this.suggest&&this.suggestedText&&this.data.length&&Ze(this.dataService.itemAt(0),this.valueField).toLowerCase()===this.searchbar.value.toLowerCase();o=this.isOpen&&r?this.suggestedText:this.searchbar.value}this.isActionSheetExpanded&&t>=0&&this.togglePopup(!1),this.change(o)}handleEscape(){this.isOpen?this.togglePopup(!1):this.value="",this.selectionService.focused=-1,this.suggestedText=null}searchBarChange(e){const t=se(this.text)?this.text.length:0;this.backspacePressed=e.length<t,this.text=e,this.togglePopup(e.length>0),this.highlightFirst||(this.selectionService.focused=-1),this.filterable?this.filterChange.emit(e):this.highlightFirst&&this.search(e)}onFilterChange(e){this.filterable?this.filterChange.emit(e):this.highlightFirst&&this.search(e)}handleInputFocus(){this.handleFocus(),Te(this.inputFocus)&&this._zone.run(()=>{this.inputFocus.emit()})}handleFocus(){this._zone.run(()=>{!this.isFocused&&Te(this.onFocus)&&this.onFocus.emit(),this.isFocused=!0})}handleBlur(){if(!this.isActionSheetExpanded){this.isFocused=!1;const e=this.value!==this.text;Te(this.onBlur)||Te(this.close)||g_(this.wrapper)||e?this._zone.run(()=>{e&&this.change(this.searchbar.value),this.onBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}}handleInputBlur(){if(!this.isActionSheetExpanded){const e=this.filterable?this.selectionService.focused:-1;let t,o;this.searchbar.input.nativeElement.scrollLeft=0,-1!==e?(t=this.dataService.itemAt(e),o=Ze(t,this.valueField)||""):o=this.searchbar.value;const r=o===this.searchbar.value,a=o.toLowerCase()===this.searchbar.value.toLowerCase();!r&&a&&this.selectionService.resetSelection([]);const l=this.value!==this.text;Te(this.inputBlur)||Te(this.close)||g_(this.wrapper)||l||"blur"===this.formControl?.updateOn?this._zone.run(()=>{l&&this.change(this.searchbar.value),this.inputBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}}pageChange(e){this.virtual.skip=e.skip}change(e){this.togglePopup(!1),this.valueChangeSubject.next(e)}subscribeEvents(){ne()&&(this.subs.add(this.valueChangeSubject.subscribe(e=>{const t=this.value!==e,o=this.findIndex(e);this.selectionService.focused=o,this.value=e,this.text=e,t&&this.emitChange(e)})),this.subs.add(this.selectionService.onChange.subscribe(this.handleItemChange.bind(this))),this.subs.add(this.selectionService.onFocus.subscribe(this.handleItemFocus.bind(this))),this.subs.add(Bt(this.navigationService.up,this.navigationService.down).subscribe(e=>this.navigate(e.index))),this.subs.add(this.navigationService.close.subscribe(()=>this.togglePopup(!1))),this.subs.add(this.navigationService.open.subscribe(()=>this.togglePopup(!0))),this.subs.add(this.navigationService.enter.subscribe(this.handleEnter.bind(this))),this.subs.add(this.navigationService.esc.subscribe(this.handleEscape.bind(this))),this.subs.add(Bt(this.navigationService.pagedown,this.navigationService.pageup).subscribe(e=>{this.isOpen&&(e.originalEvent.preventDefault(),this.optionsList.scrollWithOnePage(gt[e.originalEvent.code]))})))}findIndex(e,t=0){let o;return o=e&&e.length&&this.dataService.itemsCount?this.dataService.findIndex(this.findIndexPredicate(e),t):-1,o}subscribeTouchEvents(){!ne()||!this.touchEnabled||this._zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",e=>{this.isFocused&&!JI(this.hostElement,e.target,this.popupRef)&&this._zone.run(()=>this.blur())}))}handleItemChange(e){const t=e.indices.length?e.indices[0]:void 0;if(this.selectionService.resetSelection([-1]),!se(t))return;const o=Ze(this.dataService.itemAt(t),this.valueField);this.change(o),this.isActionSheetExpanded&&this.togglePopup(!1)}handleItemFocus(e){const t=this.selectionService.focused;this.suggest&&this.data&&this.data.length&&t>=0&&(this.suggestedText=Ze(this.dataService.itemAt(t),this.valueField))}createPopup(){if(this.virtual&&(this.virtual.skip=0),this.windowSize=Si(),this.isAdaptive)return void this.openActionSheet();const e="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:"absolute",popupAlign:{horizontal:e,vertical:"top"},anchorAlign:{horizontal:e,vertical:"bottom"}});const r=this.popupRef.popupElement,{min:a,max:l}=this.width;r.addEventListener("mousedown",this.popupMouseDownHandler),r.style.minWidth=a,r.style.width=l,r.style.height=this.height,r.setAttribute("dir",this.direction),this.appendTo||(this.renderer.setAttribute(r,"role","region"),this.renderer.setAttribute(r,"aria-label",this.messageFor("popupLabel"))),this.subs.add(this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),cS(this.optionsList,this.searchbar.input,this.renderer),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.opened.emit()})),this.subs.add(this.popupRef.popupClose.subscribe(()=>{this.closed.emit()})),this.subs.add(this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1)))}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}_toggle(e){this._open=e,this.destroyPopup(),this.isActionSheetExpanded&&this.closeActionSheet(),this._open&&this.createPopup()}triggerPopupEvents(e){const t=new a0;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}firstFocusableIndex(e){const t=this.data.length-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}findIndexPredicate(e){return this.dataService.grouped?t=>{let o=Ze(t.value,this.valueField);return o=se(o)?o.toString().toLowerCase():"",o.startsWith(e.toLowerCase())}:t=>{let o=Ze(t,this.valueField);return o=se(o)?o.toString().toLowerCase():"",o.startsWith(e.toLowerCase())}}setComponentClasses(){"none"!==this.size&&this.renderer.addClass(this.wrapper,ki("input",this.size)),"none"!==this.rounded&&this.renderer.addClass(this.wrapper,tr(this.rounded)),"none"!==this.fillMode&&this.renderer.addClass(this.wrapper,la("input",this.fillMode))}closeActionSheet(){this.actionSheet.toggle(!1),this.actionSheetSearchBar.value="",this.filterable&&this.filterChange.emit(""),this.searchbar.input.nativeElement.focus(),this.closed.emit()}openActionSheet(){this.actionSheet.toggle(!0),this.cdr.detectChanges(),cS(this.optionsList,this.searchbar.input,this.renderer),this.title=KD(this.searchbar.input,this.title),WD(this.actionSheet,this.windowSize,this.renderer),this.cdr.detectChanges(),this.opened.emit(),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.actionSheetSearchBar.focus()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z),s.rXU(Tc),s.rXU(Ts),s.rXU(jl),s.rXU(Mc),s.rXU(Hl),s.rXU(s.SKi),s.rXU(s.gRc),s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(v_,8),s.rXU(s.zZn))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-autocomplete"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,Na,5),s.wni(o,s0,5),s.wni(o,o0,5),s.wni(o,r0,5),s.wni(o,qI,5),s.wni(o,QI,5),s.wni(o,_I,5),s.wni(o,mI,5)),2&e){let r;s.mGM(r=s.lsd())&&(t.template=r.first),s.mGM(r=s.lsd())&&(t.headerTemplate=r.first),s.mGM(r=s.lsd())&&(t.footerTemplate=r.first),s.mGM(r=s.lsd())&&(t.noDataTemplate=r.first),s.mGM(r=s.lsd())&&(t.groupTemplate=r.first),s.mGM(r=s.lsd())&&(t.fixedGroupTemplate=r.first),s.mGM(r=s.lsd())&&(t.suffixTemplate=r.first),s.mGM(r=s.lsd())&&(t.prefixTemplate=r.first)}},viewQuery:function(e,t){if(1&e&&(s.GBs(Ic,5),s.GBs(jD,7,s.c1b),s.GBs($D,7),s.GBs(uS,7),s.GBs(U5,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.responsiveRendererComponent=o.first),s.mGM(o=s.lsd())&&(t.container=o.first),s.mGM(o=s.lsd())&&(t.popupTemplate=o.first),s.mGM(o=s.lsd())&&(t.searchbar=o.first),s.mGM(o=s.lsd())&&(t.optionsList=o.first)}},hostVars:11,hostBindings:function(e,t){2&e&&(s.BMQ("dir",t.dir),s.AVh("k-readonly",t.readonly)("k-autocomplete",t.widgetClasses)("k-input",t.widgetClasses)("k-disabled",t.isDisabled)("k-loading",t.isLoading))},inputs:{highlightFirst:"highlightFirst",showStickyHeader:"showStickyHeader",focusableId:"focusableId",data:"data",value:"value",valueField:"valueField",placeholder:"placeholder",adaptiveMode:"adaptiveMode",title:"title",subtitle:"subtitle",popupSettings:"popupSettings",listHeight:"listHeight",loading:"loading",clearButton:"clearButton",suggest:"suggest",disabled:"disabled",itemDisabled:"itemDisabled",readonly:"readonly",tabindex:"tabindex",tabIndex:"tabIndex",filterable:"filterable",virtual:"virtual",size:"size",rounded:"rounded",fillMode:"fillMode"},outputs:{valueChange:"valueChange",filterChange:"filterChange",open:"open",opened:"opened",close:"close",closed:"closed",onFocus:"focus",onBlur:"blur",inputFocus:"inputFocus",inputBlur:"inputBlur"},exportAs:["kendoAutoComplete"],features:[s.Jv_([Qnt,Tc,jl,Mc,Hl,z,{provide:He,useValue:"kendo.autocomplete"},{provide:YD,useExisting:(0,s.Rfq)(()=>i)},{provide:ji,useExisting:(0,s.Rfq)(()=>i)}]),s.OA$],decls:18,vars:29,consts:()=>{let n,e,t;return n="Nessun dato trovato",e="cancella",t="Options list",[["searchbar",""],["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["optionsList",""],["kendoAutoCompleteLocalizedMessages","","noDataText",n,"clearTitle",e,"popupLabel",t],["kendoDropDownSharedEvents","",3,"isFocusedChange","handleBlur","onFocus","hostElement","isFocused"],["class","k-input-prefix k-input-prefix-horizontal",4,"ngIf"],[4,"ngIf"],[3,"onNavigate","valueChange","onBlur","onFocus","click","role","ariaExpanded","isSuggestable","isFilterable","isLoading","ariaControls","id","activeDescendant","userInput","suggestedText","disabled","readonly","tabIndex","placeholder"],["class","k-clear-value","role","button","tabindex","-1",3,"visibility","click","mousedown",4,"ngIf"],["class","k-icon k-i-loading k-input-loading-icon",4,"ngIf"],["class","k-input-suffix k-input-suffix-horizontal",4,"ngIf"],[3,"resize",4,"ngIf"],[3,"closePopup","textInputChange","navigate","sharedPopupActionSheetTemplate","isActionSheetExpanded","title","showTextInput","subtitle","placeholder"],[1,"k-input-prefix","k-input-prefix-horizontal"],[3,"ngTemplateOutlet"],["role","button","tabindex","-1",1,"k-clear-value",3,"click","mousedown"],["name","x",3,"svgIcon"],[1,"k-icon","k-i-loading","k-input-loading-icon"],[1,"k-input-suffix","k-input-suffix-horizontal"],[4,"ngTemplateOutlet"],[3,"resize"],[3,"pageChange","size","rounded","id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","showStickyHeader"],["class","k-no-data",4,"ngIf"],[3,"templateContext"],[1,"k-no-data"],[3,"ngIf","templateContext"],[3,"ngIf"]]},template:function(e,t){if(1&e){const o=s.RV6();s.eu8(0,5),s.qex(1,6),s.mxI("isFocusedChange",function(a){return s.eBV(o),s.DH7(t.isFocused,a)||(t.isFocused=a),s.Njj(a)}),s.bIt("handleBlur",function(){return s.eBV(o),s.Njj(t.handleBlur())})("onFocus",function(){return s.eBV(o),s.Njj(t.handleFocus())}),s.DNE(2,NZe,2,1,"span",7)(3,LZe,1,0,"kendo-separator",8),s.j41(4,"kendo-searchbar",9,0),s.bIt("onNavigate",function(a){return s.eBV(o),s.Njj(t.handleNavigate(a))})("valueChange",function(a){return s.eBV(o),s.Njj(t.searchBarChange(a))})("onBlur",function(){return s.eBV(o),s.Njj(t.handleInputBlur())})("onFocus",function(){return s.eBV(o),s.Njj(t.handleInputFocus())})("click",function(){return s.eBV(o),s.Njj(t.handleClick())}),s.k0s(),s.DNE(6,PZe,2,4,"span",10)(7,GZe,1,0,"span",11)(8,UZe,1,0,"kendo-separator",8)(9,BZe,2,1,"span",12),s.bVm(),s.DNE(10,zZe,1,1,"ng-template",null,1,s.C5r),s.eu8(12,null,2),s.DNE(14,HZe,1,0,"kendo-resize-sensor",13),s.j41(15,"responsive-renderer",14),s.bIt("closePopup",function(){return s.eBV(o),s.Njj(t.togglePopup(!1))})("textInputChange",function(a){return s.eBV(o),s.Njj(t.onFilterChange(a))})("navigate",function(a){return s.eBV(o),s.Njj(t.handleNavigate(a))}),s.k0s(),s.DNE(16,qZe,5,17,"ng-template",null,3,s.C5r)}if(2&e){const o=s.sdS(17);s.R7$(),s.Y8G("hostElement",t.hostElement),s.R50("isFocused",t.isFocused),s.R7$(),s.Y8G("ngIf",t.prefixTemplate),s.R7$(),s.Y8G("ngIf",t.prefixTemplate&&t.prefixTemplate.showSeparator),s.R7$(),s.Y8G("role","combobox")("ariaExpanded",t.isOpen)("isSuggestable",t.suggest)("isFilterable",t.filterable)("isLoading",t.isLoading)("ariaControls",t.ariaControls)("id",t.focusableId)("activeDescendant",t.activeDescendant)("userInput",t.text)("suggestedText",t.suggestion)("disabled",t.disabled)("readonly",t.readonly||t.isAdaptive)("tabIndex",t.tabIndex)("placeholder",t.placeholder),s.R7$(2),s.Y8G("ngIf",!t.loading&&!t.readonly&&t.clearButton&&(null==t.text?null:t.text.length)),s.R7$(),s.Y8G("ngIf",t.loading),s.R7$(),s.Y8G("ngIf",t.suffixTemplate&&t.suffixTemplate.showSeparator),s.R7$(),s.Y8G("ngIf",t.suffixTemplate),s.R7$(5),s.Y8G("ngIf",t.isOpen||t.isAdaptiveModeEnabled),s.R7$(),s.Y8G("sharedPopupActionSheetTemplate",o)("isActionSheetExpanded",t.isActionSheetExpanded)("title",t.title)("showTextInput",!0)("subtitle",t.subtitle)("placeholder",t.placeholder)}},dependencies:[IG,uS,Qe,hs,Ic,JD,hS,X5,q,qe,uf],encapsulation:2}),i})();const Znt={multi:!0,provide:zn,useExisting:(0,s.Rfq)(()=>ca)};let ca=(()=>{class i{constructor(e,t,o,r,a,l,c,u,f,_,S,v,b){this.wrapper=e,this.localization=t,this.popupService=o,this.selectionService=r,this.navigationService=a,this.disabledItemsService=l,this.dataService=c,this.zone=u,this.cdr=f,this.renderer=_,this.touchEnabled=S,this.injector=v,this.hostElement=b,this.animationDuration=300,this.xIcon=go,this.caretAltDownIcon=qo,this.selected=[],this.showStickyHeader=!0,this.focusableId=`k-${zl()}`,this.allowCustom=!1,this.valueNormalizer=D=>D.pipe((0,V.T)(k=>k)),this.placeholder="",this.adaptiveMode="none",this.title="",this._listHeight=200,this.suggest=!1,this.clearButton=!0,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.filterable=!1,this.valueChange=new s.bkB,this.selectionChange=new s.bkB,this.filterChange=new s.bkB,this.open=new s.bkB,this.opened=new s.bkB,this.close=new s.bkB,this.closed=new s.bkB,this.onFocus=new s.bkB,this.onBlur=new s.bkB,this.inputFocus=new s.bkB,this.inputBlur=new s.bkB,this.widgetClasses=!0,this._isFocused=!1,this.windowSize="large",this.listBoxId=`k-${zl()}`,this.optionPrefix=`k-${zl()}`,this.onChangeCallback=D=>{},this.onTouchedCallback=D=>{},this.defaultVirtualItemHeight=28,this.defaultVirtualPageSize=50,this._filtering=!1,this._text="",this.filterText="",this._open=!1,this._popupSettings={animate:!0},this.popupMouseDownHandler=D=>D.preventDefault(),this.customValueSubject=new Ke.B,this.valueSubject=new Ke.B,this.clearValueSubject=new Ke.B,this.subs=new be.yU,this._size="medium",this._rounded="medium",this._fillMode="solid",(0,_t.$)(F5),this.direction=t.rtl?"rtl":"ltr",this.data=[]}get actionSheet(){return this.responsiveRendererComponent?.actionSheet}get actionSheetSearchBar(){return this.responsiveRendererComponent?.actionSheetSearchBar}set text(e){this._text=se(e)?e.toString():""}get text(){return this._text}get ariaControls(){return this.isOpen?this.listBoxId:void 0}togglePopup(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||this._toggle(e)}get activeDescendant(){if(!this.isOpen||!se(this.selectionService.focused)||-1===this.selectionService.focused)return null;const e=this.dataService.itemAt(this.selectionService.focused);return this.optionPrefix+"-"+(e?Ze(e,this.valueField):"")}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}set data(e){if(this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState(),this._filtering){const o=this.text.length>0&&this.dataService.itemsCount>0?this.firstFocusableIndex(0):-1;this.selectionService.focused=o}this.suggest&&this.dataService.itemsCount&&this.text&&(this.suggestedText=Ze(this.dataService.itemAt(0),this.textField))}get data(){const e=this.virtual;if(e){const t=e.skip||0,o=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,o)}return this.dataService.data}set value(e){this._value=e,this.setState(),this.cdr.markForCheck()}get value(){return this._value}set valuePrimitive(e){this._valuePrimitive=e}get valuePrimitive(){return se(this._valuePrimitive)?this._valuePrimitive:!se(this.valueField)}set subtitle(e){this._subtitle=e}get subtitle(){return this._subtitle||this.placeholder}get isAdaptiveModeEnabled(){return"auto"===this.adaptiveMode}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set listHeight(e){this._listHeight=e}get listHeight(){if(!this.isAdaptive)return this._listHeight}set itemDisabled(e){if("function"!=typeof e)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set virtual(e){this._virtualSettings=j5(e,{itemHeight:this.defaultVirtualItemHeight,pageSize:this.defaultVirtualPageSize})}get virtual(){return this._virtualSettings}set size(e){const t=e||"medium";this.renderer.removeClass(this.wrapper.nativeElement,ki("input",this.size)),"none"!==e&&this.renderer.addClass(this.wrapper.nativeElement,ki("input",t)),this._size=t}get size(){return this._size}set rounded(e){const t=e||"medium";this.renderer.removeClass(this.wrapper.nativeElement,tr(this.rounded)),"none"!==e&&this.renderer.addClass(this.wrapper.nativeElement,tr(t)),this._rounded=t}get rounded(){return this._rounded}set fillMode(e){const t=e||"solid";this.renderer.removeClass(this.wrapper.nativeElement,la("input",this.fillMode)),"none"!==e&&this.renderer.addClass(this.wrapper.nativeElement,la("input",t)),this._fillMode=t}get fillMode(){return this._fillMode}get isDisabled(){return this.disabled}get isLoading(){return this.loading}get dir(){return this.direction}get isFocused(){return this._isFocused}set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-focus"),this._isFocused=e}get clearButtonVisiblity(){if(this.touchEnabled)return"visible"}get formControl(){return this.injector.get(Ci,null)?.control||null}get isActionSheetExpanded(){return this.actionSheet?.expanded}get isAdaptive(){return this.isAdaptiveModeEnabled&&"large"!==this.windowSize}get popupWidth(){let e=0;ne()&&(e=this.wrapper.nativeElement.offsetWidth);const t=this.popupSettings.width||e;return{min:isNaN(e)?e:`${e}px`,max:isNaN(t)?t:`${t}px`}}get popupHeight(){const e=this.popupSettings.height;return se(e)?`${e}px`:"auto"}ngOnInit(){this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex"),this.attachStreams(),this.createValueStream(),this.subscribeTouchEvents(),this.attachSelectClickHandler(),this.setComponentClasses()}ngAfterViewInit(){this.windowSize=Si(),this.cdr.detectChanges(),this.actionSheet&&ne()&&(this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-height","60vh"),this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-max-height","none"))}createValueStream(){const e=this.valueSubject.pipe(X(c=>{const u=Ze(this.value,this.valueField),f=Ze(c,this.valueField);let _=Ze(c,this.textField);return!(!se(this.value)&&!se(f)||(se(_)&&(_=_.toString()),u===f&&this.text===_&&(this.clearFilter(),1)))}),(0,V.T)(c=>{const u=Ze(c,this.valueField);return{dataItem:c,text:Ze(c,this.textField),value:this.valuePrimitive?u:c}})),t=function T$e(i,n){return e=>[X(i,n)(e),X(O$e(i,n))(e)]}(()=>this.allowCustom)(this.customValueSubject.pipe(AJ(300))),o=t[0].pipe(F(()=>{this.loading=!0,this.disabled=!0,this.cdr.detectChanges()}),X(()=>{const c=this.text!==Ze(this.value,this.valueField);return this.loading=c,this.disabled=c,c||this.clearFilter(),c}),this.valueNormalizer,(0,V.T)(c=>({custom:!0,dataItem:c,text:this.text,value:c}))),r=t[1].pipe((0,V.T)(()=>({custom:!0,dataItem:void 0,text:void 0,value:void 0}))),a=this.clearValueSubject.pipe((0,V.T)(()=>({dataItem:void 0,text:void 0,value:void 0})));this.valueSubscription&&this.valueSubscription.unsubscribe();const l=Bt(e,o,r,a);this.valueSubscription=l.pipe(pd(()=>{const c=void 0!==Ze(this.dataItem,this.valueField);return this.dataItem=void 0,this.value=void 0,this.text=void 0,this.loading=!1,this.disabled=!1,c&&this.selectionChange.emit(void 0),this.emitValueChange(),this.createValueStream(),ft(null)})).subscribe(c=>{const u=Ze(this.dataItem,this.valueField)!==Ze(c.dataItem,this.valueField);this.dataItem=c.dataItem,this.value=c.value,this.text=c.text,this.loading=!1,this.disabled=!1,this.clearFilter(),c.custom&&(this.selectionService.focused=-1),u&&this.selectionChange.emit(c.custom?void 0:this.dataItem),this.emitValueChange()})}attachStreams(){ne()&&(this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.cdr.detectChanges()})),this.subs.add(Bt(this.navigationService.up,this.navigationService.down,this.navigationService.home,this.navigationService.end).pipe(X(e=>se(e.index))).subscribe(e=>this.navigate(e.index))),this.subs.add(this.navigationService.open.subscribe(this.handleNavigationOpen.bind(this))),this.subs.add(this.navigationService.close.subscribe(()=>this.togglePopup(!1))),this.subs.add(Bt(this.navigationService.pagedown,this.navigationService.pageup).subscribe(e=>{this.isOpen&&(e.originalEvent.preventDefault(),this.optionsList.scrollWithOnePage(gt[e.originalEvent.code]))})),this.subs.add(this.navigationService.esc.subscribe(this.handleEscape.bind(this))),this.subs.add(this.navigationService.enter.pipe(F(e=>{this.isOpen&&e.originalEvent.preventDefault()})).subscribe(this.handleEnter.bind(this))),this.subs.add(Bt(this.selectionService.onChange,this.selectionService.onSelect.pipe(X(e=>!this.isOpen))).pipe(F(e=>{this._filtering=!1,this.togglePopup(!1)}),(0,V.T)(e=>this.dataService.itemAt(e.indices[0]))).subscribe(e=>{this.change(e)})),this.subs.add(this.selectionService.onSelect.pipe(X(e=>this.isOpen),F(e=>this._filtering=!1),(0,V.T)(e=>this.dataService.itemAt(e.indices[0]))).subscribe(e=>{const t=Ze(e,this.valueField)!==Ze(this.dataItem,this.valueField);this.updateState({dataItem:e}),t&&this.selectionChange.emit(e)})))}ngOnDestroy(){this.destroyPopup(),this.subs.unsubscribe(),se(this.valueSubscription)&&this.valueSubscription.unsubscribe(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler(),this.selectClickDisposeHandler&&this.selectClickDisposeHandler()}ngOnChanges(e){const t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),wt("valueNormalizer",e)&&this.createValueStream(),Fi(["textField","valueField","valuePrimitive"],e,!1)&&this.setState()}ngAfterContentChecked(){this.verifySettings()}focusItemAt(e){const t=e>=0&&e<this.data.length;se(e)&&t&&!this.disabledItemsService.isIndexDisabled(e)?this.selectionService.focus(e):this.selectionService.focus(-1)}focus(){this.disabled||this.searchbar.focus()}blur(){this.disabled||this.searchbar.blur()}toggle(e){Promise.resolve(null).then(()=>{const t=se(e)?e:!this._open;this._toggle(t),this.cdr.markForCheck()})}get isOpen(){return XD(this._open||this.isActionSheetExpanded)}handleClick(){this.windowSize=Si(),this.isAdaptive&&this.togglePopup(!0)}reset(){this.value=void 0,this.clearState(),this.resetSelection()}isEmpty(){const e=!se(this.text)||qve(this.text),t=!se(this.value)||qve(this.value);return e&&t}messageFor(e){return this.localization.get(e)}clearValue(e){e?.stopImmediatePropagation(),e&&this.focus(),this._previousDataItem=void 0,this.selectionService.resetSelection([]),this.clearValueSubject.next(),this._filtering=!1}writeValue(e){this.value=null===e?void 0:e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.cdr.markForCheck(),this.disabled=e}get selectButtonClasses(){return`${this.size?ki("button",this.size):""} ${this.fillMode?"k-button-"+this.fillMode:""} ${this.fillMode?"k-button-"+this.fillMode+"-base":""}\n        `}onResize(){if(this.isAdaptiveModeEnabled&&this.windowSize!==Si()&&(this.isOpen&&this.togglePopup(!1),this.windowSize=Si(),this.cdr.detectChanges()),this.isOpen&&!this.isActionSheetExpanded){const e=this.popupRef.popupElement,{min:t,max:o}=this.popupWidth;e.style.minWidth=t,e.style.width=o}}verifySettings(){if((0,s.naY)()){if(!0===this.valuePrimitive&&se(this.value)&&"object"==typeof this.value)throw new Error("Expected value of primitive type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/value-binding/#toc-primitive-values");if(!1===this.valuePrimitive&&se(this.value)&&"object"!=typeof this.value)throw new Error("Expected value of type Object. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/value-binding/#toc-object-values");if(!se(this.valueField)!=!se(this.textField))throw new Error("Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/data-binding/#toc-arrays-of-complex-data");if(this.virtual&&isNaN(this.virtual.itemHeight))throw new Error("Expected virtual.itemHeight of type number.")}}setState(){if(this._filtering)return;const e=this.value,o=this.findDataItem({valueField:this.valueField,value:e});se(o.index)&&-1!==o.index?(this.updateState({dataItem:o.dataItem,confirm:!0}),this.resetSelection(o.index)):se(e)&&this.allowCustom?(this.updateState({dataItem:e}),this.resetSelection(-1)):this._previousDataItem&&this.value?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection(-1))}updateState({dataItem:e,confirm:t=!1}){this.dataItem=e,this.text=Ze(e,this.textField),t&&(this._previousDataItem=e)}clearState(){this.text=void 0,this.dataItem=void 0}resetSelection(e){const t=!se(e)||e<0;this.selectionService.resetSelection(t?[]:[e]),this.selectionService.focused=e}firstFocusableIndex(e){const t=this.data.length-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}findIndexPredicate(e){return this.dataService.grouped?t=>{let o=Ze(t.value,this.textField);return o=se(o)?o.toString().toLowerCase():"",o.startsWith(e.toLowerCase())}:t=>{let o=Ze(t,this.textField);return o=se(o)?o.toString().toLowerCase():"",o.startsWith(e.toLowerCase())}}findDataItem({valueField:e,value:t}){const o={dataItem:null,index:-1},a=this.dataService.findIndex(l=>Ze(this.dataService.grouped?l.value:l,e)===Ze(t,e));return o.dataItem=this.dataService.itemAt(a),o.index=a,o}search(e,t=0){const o=this.findIndex(e,t);this.disabledItemsService.isIndexDisabled(o)?o+1<this.dataService.itemsCount?this.search(e,o+1):this.selectionService.focus(-1):(this.selectionService.focus(o),this.suggest&&(this.suggestedText=Ze(this.dataService.itemAt(o),this.textField)))}onAdaptiveTextBoxChange(e){this.filterable&&this.filterText!==e?(this.filterText=e,this.filterChange.emit(e)):this.search(e)}getSuggestion(){if(!this.selectionService.selected.length&&this.suggest&&!this.backspacePressed&&this.suggestedText&&this.text&&this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase()))return this.suggestedText;this.suggestedText=void 0}navigate(e){0!==this.dataService.itemsCount&&(this.text=Ze(this.dataService.itemAt(e),this.textField),this.selectionService.select(e))}handleNavigate(e){const t=se(this.selectionService.selected[0]),o=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused;let r=0;if(this.disabled||this.readonly||e.keyCode===G.Home||e.keyCode===G.End)return;t||(e.keyCode===G.ArrowDown?r=-1:e.keyCode===G.ArrowUp&&(r=1));const a=this.navigationService.process({current:r+o,max:this.dataService.itemsCount-1,min:0,originalEvent:e});a!==gt.Undefined&&a!==gt.Left&&a!==gt.Right&&a!==gt.Backspace&&a!==gt.Delete&&a!==gt.PageDown&&a!==gt.PageUp&&(a===gt.Enter&&this.isOpen||a!==gt.Enter)&&e.preventDefault(),a===gt.Tab&&this.isActionSheetExpanded&&(e.stopImmediatePropagation(),this.togglePopup(!1))}handleEnter(){const e=this.text,t=this.selectionService.focused,o=se(t)&&-1!==t,r=Ze(this._previousDataItem,this.textField)||"",a=Ze(this.dataService.itemAt(t),this.textField),l=e!==r;this.togglePopup(!1),this._filtering=!1,this.allowCustom&&l&&(e===a||this.useSuggestion()?this.selectionService.change(t):this.change(e,!0)),this.allowCustom||(o?this.selectionService.change(t):l&&this.change(e,!0))}handleFocus(){this.zone.run(()=>{!this.isFocused&&Te(this.onFocus)&&this.onFocus.emit(),this.isFocused=!0})}handleBlur(){if(!this.isActionSheetExpanded){this._filtering=!1,this.searchbar.input.nativeElement.scrollLeft=0,this.isFocused=!1;const e=Ze(this.dataItem,this.valueField)!==Ze(this.value,this.valueField),t=this.searchbar.value,o=t!==(Ze(this.dataItem,this.textField)||""),r=e||o;r||Te(this.onBlur)||Te(this.close)||g_(this.wrapper.nativeElement)?this.zone.run(()=>{r&&(se(this.focusedItemText)&&this.focusedItemText.toLowerCase()===t.toLowerCase()||e?this.selectionService.change(this.selectionService.focused):this.change(t,!0)),this.onBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}}handleInputBlur(){if(!this.isActionSheetExpanded){this._filtering=!1,this.searchbar.input.nativeElement.scrollLeft=0;const e=Ze(this.dataItem,this.valueField)!==Ze(this.value,this.valueField),t=this.searchbar.value,o=t!==(Ze(this.dataItem,this.textField)||""),r=e||o;r||Te(this.onBlur)||Te(this.close)||g_(this.wrapper.nativeElement)||"blur"===this.formControl?.updateOn?this.zone.run(()=>{r&&(se(this.focusedItemText)&&this.focusedItemText.toLowerCase()===t.toLowerCase()||e?this.selectionService.change(this.selectionService.focused):this.change(t,!0)),this.inputBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}}handleEscape(){this.isOpen?this.togglePopup(!1):this.clearValue(),this.selectionService.selected.length>0||(this.suggestedText=null,this.selectionService.focused=-1)}handleNavigationOpen(){this.restoreItemFocus(),this.togglePopup(!0)}searchBarChange(e){this.backspacePressed=e.length<(this.text?this.text.length:0),this.text=e,this.selectionService.resetSelection([]),this.togglePopup(!0),this._filtering=!0,this.filterable&&this.filterText!==e?(this.filterText=e,this.filterChange.emit(e)):this.search(e)}handleInputFocus(){this.handleFocus(),Te(this.inputFocus)&&this.zone.run(()=>this.inputFocus.emit())}pageChange(e){this.virtual.skip=e.skip}change(e,t=!1){t?this.customValueSubject.next(e):(this.valueSubject.next(e),this.isActionSheetExpanded&&this.togglePopup(!1))}emitValueChange(){this.onChangeCallback(this.value),this.valueChange.emit(this.value),this._previousDataItem=this.dataItem}selectClick(){this.touchEnabled||(this.searchbar.focus(),this.isFocused=!0),this.isOpen||this.restoreItemFocus(),this.togglePopup(!this.isOpen)}get listContainerClasses(){return["k-list-container","k-combobox-popup"].concat(this.popupSettings.popupClass||[])}preventEventDefault(e){e.preventDefault()}get focusedItemText(){const e=this.selectionService.focused;if(!se(e)||-1===e)return null;const t=Ze(this.dataService.itemAt(e),this.textField);return se(t)?t.toString():""}restoreItemFocus(){!(se(this.selectionService.focused)&&this.selectionService.focused>-1)&&this.text&&this.dataService.itemsCount&&(this.filterable?this.selectionService.focused=this.firstFocusableIndex(0):this.search(this.text))}useSuggestion(){if(!this.suggest||!se(this.searchbar.value))return!1;const e=this.dataService.itemAt(this.selectionService.focused),t=Ze(e,this.textField);return!!se(t)&&this.searchbar.value.toLowerCase()===t.toLowerCase()}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}createPopup(){if(this.virtual&&(this.virtual.skip=0),this.windowSize=Si(),this.isAdaptive)return void this.openActionSheet();const e="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:"absolute",anchorAlign:{horizontal:e,vertical:"bottom"},popupAlign:{horizontal:e,vertical:"top"}});const r=this.popupRef.popupElement,{min:a,max:l}=this.popupWidth;r.addEventListener("mousedown",this.popupMouseDownHandler),r.style.minWidth=a,r.style.width=l,r.style.height=this.popupHeight,r.setAttribute("dir",this.direction),this.appendTo||(this.renderer.setAttribute(r,"role","region"),this.renderer.setAttribute(r,"aria-label",this.messageFor("popupLabel")));const c=this.popupRef.popupElement.querySelector("ul"),u=this.searchbar.input.nativeElement.getAttribute("aria-labelledby");u&&c.setAttribute("aria-labelledby",u),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),cS(this.optionsList,this.searchbar.input,this.renderer),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.opened.emit()}),this.popupRef.popupClose.subscribe(()=>{this.closed.emit()}),this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1))}_toggle(e){this._open=e,this.destroyPopup(),this.isActionSheetExpanded&&this.closeActionSheet(),this._open&&(this.windowSize=Si(),this.createPopup())}triggerPopupEvents(e){const t=new a0;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}clearFilter(){this.filterable&&this.filterText&&(this.filterText="",this.filterChange.emit(this.filterText))}subscribeTouchEvents(){!ne()||!this.touchEnabled||this.zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",e=>{const o=JI(this.wrapper,e.target,this.popupRef);this.isFocused&&!o?this.zone.run(()=>this.blur()):this.isOpen&&!o&&this.zone.run(()=>this.togglePopup(!1))}))}attachSelectClickHandler(){this.selectClickDisposeHandler=this.renderer.listen(this.select.nativeElement,ume?"pointerdown":"click",this.selectClick.bind(this))}setComponentClasses(){"none"!==this.size&&this.renderer.addClass(this.wrapper.nativeElement,ki("input",this.size)),"none"!==this.rounded&&this.renderer.addClass(this.wrapper.nativeElement,tr(this.rounded)),"none"!==this.fillMode&&this.renderer.addClass(this.wrapper.nativeElement,la("input",this.fillMode))}findIndex(e,t=0){let o;return o=e&&e.length&&this.dataService.itemsCount?this.dataService.findIndex(this.findIndexPredicate(e),t):-1,o}closeActionSheet(){this.actionSheet.toggle(!1),this.actionSheetSearchBar.value="",this.filterable&&this.filterChange.emit(""),this.searchbar.input.nativeElement.focus(),this.closed.emit()}openActionSheet(){this.windowSize=Si(),this.actionSheet.toggle(!0),this.cdr.detectChanges(),cS(this.optionsList,this.searchbar.input,this.renderer),this.title=KD(this.searchbar.input,this.title),WD(this.actionSheet,this.windowSize,this.renderer),this.cdr.detectChanges(),this.opened.emit(),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.actionSheetSearchBar.focus()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(z),s.rXU(Ts),s.rXU(jl),s.rXU(Mc),s.rXU(Hl),s.rXU(Tc),s.rXU(s.SKi),s.rXU(s.gRc),s.rXU(s.sFG),s.rXU(v_,8),s.rXU(s.zZn),s.rXU(s.aKT))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-combobox"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,Na,5),s.wni(o,s0,5),s.wni(o,o0,5),s.wni(o,r0,5),s.wni(o,qI,5),s.wni(o,QI,5),s.wni(o,_I,5),s.wni(o,mI,5)),2&e){let r;s.mGM(r=s.lsd())&&(t.template=r.first),s.mGM(r=s.lsd())&&(t.headerTemplate=r.first),s.mGM(r=s.lsd())&&(t.footerTemplate=r.first),s.mGM(r=s.lsd())&&(t.noDataTemplate=r.first),s.mGM(r=s.lsd())&&(t.groupTemplate=r.first),s.mGM(r=s.lsd())&&(t.fixedGroupTemplate=r.first),s.mGM(r=s.lsd())&&(t.suffixTemplate=r.first),s.mGM(r=s.lsd())&&(t.prefixTemplate=r.first)}},viewQuery:function(e,t){if(1&e&&(s.GBs(Ic,5),s.GBs(jD,7,s.c1b),s.GBs($D,7),s.GBs(uS,7),s.GBs(U5,5),s.GBs(QZe,7)),2&e){let o;s.mGM(o=s.lsd())&&(t.responsiveRendererComponent=o.first),s.mGM(o=s.lsd())&&(t.container=o.first),s.mGM(o=s.lsd())&&(t.popupTemplate=o.first),s.mGM(o=s.lsd())&&(t.searchbar=o.first),s.mGM(o=s.lsd())&&(t.optionsList=o.first),s.mGM(o=s.lsd())&&(t.select=o.first)}},hostVars:11,hostBindings:function(e,t){2&e&&(s.BMQ("dir",t.dir),s.AVh("k-readonly",t.readonly)("k-combobox",t.widgetClasses)("k-input",t.widgetClasses)("k-disabled",t.isDisabled)("k-loading",t.isLoading))},inputs:{icon:"icon",svgIcon:"svgIcon",showStickyHeader:"showStickyHeader",focusableId:"focusableId",allowCustom:"allowCustom",data:"data",value:"value",textField:"textField",valueField:"valueField",valuePrimitive:"valuePrimitive",valueNormalizer:"valueNormalizer",placeholder:"placeholder",adaptiveMode:"adaptiveMode",title:"title",subtitle:"subtitle",popupSettings:"popupSettings",listHeight:"listHeight",loading:"loading",suggest:"suggest",clearButton:"clearButton",disabled:"disabled",itemDisabled:"itemDisabled",readonly:"readonly",tabindex:"tabindex",tabIndex:"tabIndex",filterable:"filterable",virtual:"virtual",size:"size",rounded:"rounded",fillMode:"fillMode"},outputs:{valueChange:"valueChange",selectionChange:"selectionChange",filterChange:"filterChange",open:"open",opened:"opened",close:"close",closed:"closed",onFocus:"focus",onBlur:"blur",inputFocus:"inputFocus",inputBlur:"inputBlur"},exportAs:["kendoComboBox"],features:[s.Jv_([Znt,Tc,jl,Mc,Hl,z,{provide:He,useValue:"kendo.combobox"},{provide:YD,useExisting:(0,s.Rfq)(()=>i)},{provide:ji,useExisting:(0,s.Rfq)(()=>i)}]),s.OA$],decls:21,vars:36,consts:()=>{let n,e,t,o;return n="Nessun dato trovato",e="cancella",t="Seleziona",o="Options list",[["searchbar",""],["select",""],["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["optionsList",""],["kendoComboBoxLocalizedMessages","","noDataText",n,"clearTitle",e,"selectButtonText",t,"popupLabel",o],["kendoDropDownSharedEvents","",3,"isFocusedChange","handleBlur","onFocus","hostElement","isFocused"],["class","k-input-prefix k-input-prefix-horizontal",4,"ngIf"],[4,"ngIf"],[3,"onNavigate","valueChange","onBlur","onFocus","click","role","ariaExpanded","ariaControls","id","isLoading","isSuggestable","isFilterable","activeDescendant","userInput","suggestedText","disabled","readonly","tabIndex","placeholder"],["class","k-clear-value","aria-hidden","true",3,"visibility","kendoEventsOutsideAngular","click",4,"ngIf"],["class","k-i-loading k-input-loading-icon k-icon",4,"ngIf"],["class","k-input-suffix k-input-suffix-horizontal",4,"ngIf"],["tabindex","-1","unselectable","on","type","button",1,"k-input-button","k-button","k-icon-button",3,"ngClass","kendoEventsOutsideAngular"],["innerCssClass","k-button-icon",3,"name","svgIcon"],[3,"resize",4,"ngIf"],[3,"closePopup","textInputChange","navigate","sharedPopupActionSheetTemplate","isActionSheetExpanded","title","showTextInput","subtitle","placeholder"],[1,"k-input-prefix","k-input-prefix-horizontal"],[3,"ngTemplateOutlet"],["aria-hidden","true",1,"k-clear-value",3,"click","kendoEventsOutsideAngular"],["name","x",3,"svgIcon"],[1,"k-i-loading","k-input-loading-icon","k-icon"],[1,"k-input-suffix","k-input-suffix-horizontal"],[4,"ngTemplateOutlet"],[3,"resize"],[3,"pageChange","size","rounded","id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","showStickyHeader"],["class","k-no-data",4,"ngIf"],[3,"templateContext"],[1,"k-no-data"],[3,"ngIf","templateContext"],[3,"ngIf"]]},template:function(e,t){if(1&e){const o=s.RV6();s.eu8(0,6),s.qex(1,7),s.mxI("isFocusedChange",function(a){return s.eBV(o),s.DH7(t.isFocused,a)||(t.isFocused=a),s.Njj(a)}),s.bIt("handleBlur",function(){return s.eBV(o),s.Njj(t.handleBlur())})("onFocus",function(){return s.eBV(o),s.Njj(t.handleFocus())}),s.DNE(2,eet,2,1,"span",8)(3,tet,1,0,"kendo-separator",9),s.j41(4,"kendo-searchbar",10,0),s.bIt("onNavigate",function(a){return s.eBV(o),s.Njj(t.handleNavigate(a))})("valueChange",function(a){return s.eBV(o),s.Njj(t.searchBarChange(a))})("onBlur",function(){return s.eBV(o),s.Njj(t.handleInputBlur())})("onFocus",function(){return s.eBV(o),s.Njj(t.handleInputFocus())})("click",function(){return s.eBV(o),s.Njj(t.handleClick())}),s.k0s(),s.DNE(6,net,2,7,"span",11)(7,iet,1,0,"span",12)(8,set,1,0,"kendo-separator",9)(9,ret,2,1,"span",13),s.j41(10,"button",14,1),s.nrm(12,"kendo-icon-wrapper",15),s.k0s(),s.bVm(),s.DNE(13,cet,1,1,"ng-template",null,2,s.C5r)(15,det,1,0,"kendo-resize-sensor",16),s.eu8(16,null,3),s.j41(18,"responsive-renderer",17),s.bIt("closePopup",function(){return s.eBV(o),s.Njj(t.togglePopup(!1))})("textInputChange",function(a){return s.eBV(o),s.Njj(t.onAdaptiveTextBoxChange(a))})("navigate",function(a){return s.eBV(o),s.Njj(t.handleNavigate(a))}),s.k0s(),s.DNE(19,vet,5,17,"ng-template",null,4,s.C5r)}if(2&e){const o=s.sdS(20);s.R7$(),s.Y8G("hostElement",t.hostElement),s.R50("isFocused",t.isFocused),s.R7$(),s.Y8G("ngIf",t.prefixTemplate),s.R7$(),s.Y8G("ngIf",t.prefixTemplate&&t.prefixTemplate.showSeparator),s.R7$(),s.Y8G("role","combobox")("ariaExpanded",t.isOpen)("ariaControls",t.ariaControls)("id",t.focusableId)("isLoading",t.loading)("isSuggestable",t.suggest)("isFilterable",t.filterable)("activeDescendant",t.activeDescendant)("userInput",t.text)("suggestedText",t.getSuggestion())("disabled",t.disabled)("readonly",t.readonly||t.isAdaptive)("tabIndex",t.tabIndex)("placeholder",t.placeholder),s.R7$(2),s.Y8G("ngIf",t.clearButton&&!t.loading&&!t.disabled&&!t.readonly&&(null==t.text?null:t.text.length)),s.R7$(),s.Y8G("ngIf",t.loading),s.R7$(),s.Y8G("ngIf",t.suffixTemplate&&t.suffixTemplate.showSeparator),s.R7$(),s.Y8G("ngIf",t.suffixTemplate),s.R7$(),s.Y8G("ngClass",t.selectButtonClasses)("kendoEventsOutsideAngular",s.eq3(34,YI,t.preventEventDefault)),s.BMQ("aria-label",t.messageFor("selectButtonText")),s.R7$(2),s.Y8G("name",t.icon||"caret-alt-down")("svgIcon",t.svgIcon||t.caretAltDownIcon),s.R7$(3),s.Y8G("ngIf",t.isOpen||t.isAdaptiveModeEnabled),s.R7$(3),s.Y8G("sharedPopupActionSheetTemplate",o)("isActionSheetExpanded",t.isActionSheetExpanded)("title",t.title)("showTextInput",!0)("subtitle",t.subtitle)("placeholder",t.placeholder)}},dependencies:[IG,uS,Qe,hs,Ic,JD,hS,X5,q,qe,xo,Be,uf],encapsulation:2}),i})(),C_=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoDropDownListValueTemplate",""],["","kendoDropDownTreeValueTemplate",""]]}),i})(),q5=(()=>{class i{constructor(e,t){this.element=e,this.zone=t}ngOnChanges(){this.focused&&this.nextTick(()=>this.element.nativeElement.focus())}nextTick(e){this.zone.runOutsideAngular(()=>setTimeout(e))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.SKi))},i.\u0275dir=s.FsC({type:i,selectors:[["","filterInput",""]],inputs:{focused:[s.Mj6.None,"filterInput","focused"]},features:[s.OA$]}),i})();const iit={multi:!0,provide:zn,useExisting:(0,s.Rfq)(()=>Ws)};let Ws=(()=>{class i{constructor(e,t,o,r,a,l,c,u,f,_,S,v){this.wrapper=e,this.localization=t,this.popupService=o,this.selectionService=r,this.navigationService=a,this.disabledItemsService=l,this.dataService=c,this._zone=u,this.renderer=f,this.cdr=_,this.touchEnabled=S,this.injector=v,this.animationDuration=300,this.xIcon=go,this.searchIcon=hD,this.caretAltDownSVGIcon=qo,this.listBoxId=`k-${zl()}`,this.showStickyHeader=!0,this.adaptiveMode="none",this.title="",this.subtitle="",this.windowSize="large",this._listHeight=200,this.readonly=!1,this.filterable=!1,this.ignoreCase=!0,this.delay=500,this.tabindex=0,this.leftRightArrowsNavigation=!0,this.valueChange=new s.bkB,this.filterChange=new s.bkB,this.selectionChange=new s.bkB,this.open=new s.bkB,this.opened=new s.bkB,this.close=new s.bkB,this.closed=new s.bkB,this.onFocus=new s.bkB,this.onBlur=new s.bkB,this.hostClasses=!0,this.focusableId=`k-${zl()}`,this.role="combobox",this.haspopup="listbox",this.groupIndices=[],this.optionPrefix=`k-${zl()}`,this.filterText="",this.subs=new be.yU,this._isFocused=!1,this.onTouchedCallback=b=>{},this.onChangeCallback=b=>{},this.word="",this.last="",this.filterFocused=new s.bkB,this.filterBlurred=new s.bkB,this.hostElementFocused=new s.bkB,this.hostElementBlurred=new s.bkB,this._open=!1,this._popupSettings={animate:!0},this._size="medium",this._rounded="medium",this._fillMode="solid",(0,_t.$)(F5),this.direction=t.rtl?"rtl":"ltr",this.data=[],this.subscribeEvents(),this.subscribeTouchEvents(),this.subscribeFocusEvents(),this.popupMouseDownHandler=this.onMouseDown.bind(this)}get actionSheet(){return this.responsiveRendererComponent?.actionSheet}get actionSheetSearchBar(){return this.responsiveRendererComponent?.actionSheetSearchBar}get width(){const e=ne()?this.wrapper.nativeElement.offsetWidth:0,t=this.popupSettings.width||e;return{min:isNaN(e)?e:`${e}px`,max:isNaN(t)?t:`${t}px`}}get height(){const e=this.popupSettings.height;return se(e)?`${e}px`:"auto"}get widgetTabIndex(){if(this.disabled)return;const e=Number(this.tabIndex);return isNaN(e)?0:e}get ariaExpanded(){return this.isOpen}get ariaControls(){if(this.isOpen)return this.listBoxId}get ariaActivedescendant(){if(se(this.dataItem)&&this.isOpen)return this.optionPrefix+"-"+Ze(this.dataItem,this.valueField)}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}onFilterChange(e){this.filterable&&this.filterChange.emit(e)}get ariaLive(){return this.filterable?"polite":"off"}set data(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState()}get data(){const e=this.virtual;if(e){const t=e.skip||0,o=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,o)}return this.dataService.data}set value(e){se(e)||(this._previousDataItem=void 0),this._value=e,this.setState(),this.cdr.markForCheck()}get value(){return this._value}get isAdaptiveModeEnabled(){return"auto"===this.adaptiveMode}get isActionSheetExpanded(){return this.actionSheet?.expanded}get isAdaptive(){return this.isAdaptiveModeEnabled&&"large"!==this.windowSize}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set listHeight(e){this._listHeight=e}get listHeight(){if(!this.isAdaptive)return this._listHeight}set itemDisabled(e){if("function"!=typeof e)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}set virtual(e){this._virtualSettings=j5(e)}get virtual(){return this._virtualSettings}set valuePrimitive(e){this._valuePrimitive=e}get valuePrimitive(){return se(this._valuePrimitive)?this._valuePrimitive:!se(this.valueField)}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set size(e){const t=e||"medium";this.renderer.removeClass(this.wrapper.nativeElement,ki("picker",this.size)),"none"!==e&&this.renderer.addClass(this.wrapper.nativeElement,ki("picker",t)),this._size=t}get size(){return this._size}set rounded(e){const t=e||"medium";this.renderer.removeClass(this.wrapper.nativeElement,tr(this.rounded)),"none"!==e&&this.renderer.addClass(this.wrapper.nativeElement,tr(t)),this._rounded=e}get rounded(){return this._rounded}set fillMode(e){const t=e||"solid";this.renderer.removeClass(this.wrapper.nativeElement,la("picker",this.fillMode)),"none"!==e&&this.renderer.addClass(this.wrapper.nativeElement,la("picker",t)),this._fillMode=t}get fillMode(){return this._fillMode}blurComponent(e){e.target===this.wrapper.nativeElement&&(e.stopImmediatePropagation(),this.hostElementBlurred.emit())}blurFilterInput(){this.filterBlurred.emit()}focusComponent(e){e.target===this.wrapper.nativeElement&&(e.stopImmediatePropagation(),this.hostElementFocused.emit(),this.isFocused||(this.isFocused=!0,Te(this.onFocus)&&this._zone.run(()=>{this.onFocus.emit()})))}onResize(){if(this.isAdaptiveModeEnabled&&this.windowSize!==Si()&&(this.isOpen&&this.togglePopup(!1),this.windowSize=Si()),this.isOpen&&!this.isActionSheetExpanded){const e=this.popupRef.popupElement,{min:t,max:o}=this.width;e.style.minWidth=t,e.style.width=o}}get isDisabledClass(){return this.disabled}get isDisabledAttribute(){return this.disabled?"":null}get isLoading(){return this.loading}get dir(){return this.direction}get hostTabIndex(){return this.widgetTabIndex}get readonlyClass(){return this.readonly}get readonlyAttr(){return this.readonly?"":null}get isBusy(){return this.isLoading}get isAriaExpanded(){return this.ariaExpanded}get hostAriaInvalid(){return this.formControl?this.formControl?.invalid.toString():null}get hostAriaActivedescendant(){return this.ariaActivedescendant}keydown(e,t){t&&e.stopPropagation();const o=se(this.defaultItem)?-1:0,r=isNaN(this.selectionService.focused)?this.firstFocusableIndex(o):this.selectionService.focused;let a=0;if(this.disabled||this.readonly)return;if(this.filterable&&this.isFocused&&this.isOpen&&(e.keyCode===G.Home||e.keyCode===G.End))return;const u=se(this.selectionService.selected[0]),f=se(this.selectionService.focused)&&!this.selectionService.isSelected(this.selectionService.focused);(!u||f)&&(e.keyCode===G.ArrowDown||e.keyCode===G.ArrowRight&&this.leftRightArrowsNavigation?a=-1:(e.keyCode===G.ArrowUp||e.keyCode===G.ArrowLeft&&this.leftRightArrowsNavigation)&&(a=1));const _=e,S=this.navigationService.process({current:r+a,max:this.dataService.itemsCount-1,min:this.defaultItem?-1:0,originalEvent:_});S!==gt.Undefined&&S!==gt.Tab&&S!==gt.Backspace&&S!==gt.Delete&&S!==gt.PageDown&&S!==gt.PageUp&&S!==gt.SelectAll&&!((S===gt.Left||S===gt.Right&&this.leftRightArrowsNavigation)&&this.filterable)&&S!==gt.Enter&&_.preventDefault(),S===gt.Tab&&this.isActionSheetExpanded&&this.togglePopup(!1)}keypress(e){this.disabled||this.readonly||this.filterable||this.onKeyPress(e)}click(){this.isActionSheetExpanded||(this.focus(),this.togglePopup(!this.isOpen))}set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-focus"),this._isFocused=e}get isFocused(){return this._isFocused}ngOnInit(){this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex"),this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.cdr.detectChanges()})),this.assignAriaDescribedBy(),this.setComponentClasses()}ngAfterViewInit(){this.windowSize=Si(),this.actionSheet&&ne()&&(this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-height","60vh"),this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-max-height","none"))}isEmpty(){const e=this.value;return!(0===e||!1===e||e||this.defaultItem)}onFilterFocus(){this.filterFocused.emit()}ngOnDestroy(){this.destroyPopup(),this.subs.unsubscribe(),this.unSubscribeFocusEvents(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler()}ngOnChanges(e){const t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),wt("defaultItem",e,!1)&&(this.disabledItemsService.defaultItem=this.defaultItem),Fi(["textField","valueField","valuePrimitive","defaultItem","itemDisabled"],e,!1)&&this.setState()}ngAfterContentChecked(){this.verifySettings()}get formControl(){return this.injector.get(Ci,null)?.control||null}focusItemAt(e){const o=(se(this.defaultItem)?-1:0)<=e&&e<this.data.length;se(e)&&o&&!this.disabledItemsService.isIndexDisabled(e)?this.selectionService.focus(e):this.selectionService.focus(null)}focus(){this.disabled||this.wrapper.nativeElement.focus()}blur(){this.disabled||(this.wrapper.nativeElement.blur(),this.cdr.detectChanges())}toggle(e){Promise.resolve(null).then(()=>{const t=se(e)?e:!this._open;this._toggle(t)})}_toggle(e){this._open=e,this.destroyPopup(),this.isActionSheetExpanded&&this.closeActionSheet(),this._open&&this.createPopup()}triggerPopupEvents(e){const t=new a0;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}togglePopup(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||(!e&&this.filterable&&this.isFocused&&this.focus(),this._toggle(e))}get isOpen(){return XD(this._open||this.isActionSheetExpanded)}reset(){this.value=void 0}messageFor(e){return this.localization.get(e)}writeValue(e){this.value=null===e?void 0:e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.cdr.markForCheck(),this.disabled=e}get selectButtonClasses(){return`${this.size?ki("button",this.size):""} ${this.fillMode?"k-button-"+this.fillMode:""} ${this.fillMode?"k-button-"+this.fillMode+"-base":""}`}get filterInputClasses(){return`${this.size?ki("input",this.size):""} ${this.fillMode?"k-input-"+this.fillMode:""} ${this.rounded?tr(this.rounded):""}`}get optionLabelSizeClass(){return`${this.size?ki("list",this.size):""}`}get listContainerClasses(){const e=["k-list-container","k-dropdownlist-popup"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}get isDisabledDefaultItem(){return this.disabledItemsService.isItemDisabled(this.defaultItem)}getText(){return this.text}getDefaultItemText(){return Ze(this.defaultItem,this.textField)}createPopup(){if(this.virtual&&(this.virtual.skip=0),this.windowSize=Si(),this.isAdaptive)return void this.openActionSheet();const e="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{horizontal:e,vertical:"bottom"},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{horizontal:e,vertical:"top"},popupClass:this.listContainerClasses,positionMode:"absolute"});const r=this.popupRef.popupElement,{min:a,max:l}=this.width;r.addEventListener("mousedown",this.popupMouseDownHandler),r.style.minWidth=a,r.style.width=l,r.style.height=this.height,r.setAttribute("dir",this.direction),this.appendTo||(this.renderer.setAttribute(r,"role","region"),this.renderer.setAttribute(r,"aria-label",this.messageFor("popupLabel")));const c=r.querySelector("ul.k-list-ul"),u=this.wrapper.nativeElement.getAttribute("aria-labelledby");u&&c.setAttribute("aria-labelledby",u),this.subs.add(this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),cS(this.optionsList,this.wrapper,this.renderer),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.opened.emit()})),this.subs.add(this.popupRef.popupClose.subscribe(()=>{this.closed.emit()})),this.filterable||this.subs.add(this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1)))}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}updateState({dataItem:e,confirm:t=!1}){this.dataItem=e,this.text=Ze(e,this.textField),t&&(this._previousDataItem=e)}clearState(){this.text=void 0,this.dataItem=void 0}resetSelection(e){const t=!se(e);this.selectionService.resetSelection(t?[]:[e]),this.selectionService.focused=t?this.firstFocusableIndex(0):e}onSelectionChange({dataItem:e}){this.updateState({dataItem:e}),this.selectionChange.emit(e),this.assignAriaDescribedBy()}subscribeEvents(){ne()&&(this.subs.add(this.selectionService.onSelect.pipe(X(e=>this.isOpen),(0,V.T)(this.itemFromEvent.bind(this))).subscribe(this.onSelectionChange.bind(this))),this.subs.add(Bt(this.selectionService.onSelect.pipe(X(e=>!this.isOpen)),this.selectionService.onChange).pipe((0,V.T)(this.itemFromEvent.bind(this)),F(e=>this.togglePopup(!1))).subscribe(({dataItem:e,value:t,newSelection:o})=>{o&&this.onSelectionChange({dataItem:e});const r=!se(e)&&this._previousDataItem,a=t!==Ze(this.value,this.valueField);r?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):a&&(this.value=this.valuePrimitive?t:e,this._previousDataItem=e,this.emitChange(this.value)),this.clearFilter()})),this.subs.add(Bt(this.navigationService.up,this.navigationService.down,this.navigationService.left.pipe(X(()=>this.leftRightArrowsNavigation),Jge(()=>this.filterable)),this.navigationService.right.pipe(X(()=>this.leftRightArrowsNavigation),Jge(()=>this.filterable)),this.navigationService.home,this.navigationService.end).pipe(X(e=>!isNaN(e.index))).subscribe(e=>this.selectionService.select(e.index))),this.subs.add(Bt(this.navigationService.pagedown,this.navigationService.pageup).subscribe(e=>{this.isOpen&&(e.originalEvent.preventDefault(),this.optionsList.scrollWithOnePage(gt[e.originalEvent.code]))})),this.subs.add(this.navigationService.open.subscribe(()=>this.togglePopup(!0))),this.subs.add(this.navigationService.close.subscribe(()=>{this.togglePopup(!1),this.focus()})),this.subs.add(this.navigationService.enter.pipe(F(e=>e.originalEvent.preventDefault())).subscribe(this.handleEnter.bind(this))),this.subs.add(this.navigationService.esc.subscribe(this.handleEscape.bind(this))),this.subs.add(this.filterBlurred.pipe(du(()=>NC(10).pipe(We(1),mo(this.hostElementFocused)))).subscribe(()=>{this.hostElementBlurred.emit()})),this._zone.runOutsideAngular(()=>{this.subs.add(Bt(this.hostElementBlurred.pipe(du(()=>NC(10).pipe(We(1),mo(this.filterFocused)))),this.navigationService.tab).pipe(F(e=>e instanceof n2e&&this.focus()),X(()=>this.isFocused)).subscribe(()=>this.componentBlur()))}))}subscribeTouchEvents(){!ne()||!this.touchEnabled||this._zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",e=>{this.isFocused&&!JI(this.wrapper,e.target,this.popupRef)&&this._zone.run(()=>{this.filterFocused&&this.togglePopup(!1),this.blur()})}))}subscribeFocusEvents(){ne()&&(this.focusComponent=this.focusComponent.bind(this),this.blurComponent=this.blurComponent.bind(this),this._zone.runOutsideAngular(()=>{document.addEventListener("focus",this.focusComponent,!0),document.addEventListener("blur",this.blurComponent,!0)}))}unSubscribeFocusEvents(){ne()&&(document.removeEventListener("focus",this.focusComponent,!0),document.removeEventListener("blur",this.blurComponent,!0))}itemFromEvent(e){const t=e.indices[0];let o=this.dataService.itemAt(t);o=se(o)?o:this.currentOrDefault(t);const r=Ze(o,this.valueField);return{dataItem:o,index:t,newSelection:e.newSelection,value:r}}currentOrDefault(e){return se(this.dataItem)&&-1!==e?this.dataItem:this.defaultItem}firstFocusableIndex(e){const t=this.dataService.itemsCount-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}handleEnter(){this.isOpen?(this.selectionService.change(this.selectionService.focused),this.focus()):this.togglePopup(!0)}handleEscape(){se(this.selectionService.selected[0])?this.selectionService.change(this.selectionService.selected[0]):(this.togglePopup(!1),this.clearFilter()),this.focus()}clearFilter(){this.filterable&&this.filterText&&(this.filterText="",this.cdr.markForCheck(),this.filterChange.emit(this.filterText))}verifySettings(){if((0,s.naY)()){if(this.defaultItem&&this.valueField&&"object"!=typeof this.defaultItem)throw new Error("defaultItem and data items must be of same type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/api/DropDownListComponent/#toc-defaultitem");if(!0===this.valuePrimitive&&se(this.value)&&"object"==typeof this.value)throw new Error("Expected value of primitive type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/value-binding/#toc-primitive-values");if(!1===this.valuePrimitive&&se(this.value)&&"object"!=typeof this.value)throw new Error("Expected value of type Object. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/value-binding/#toc-object-values");if(!se(this.valueField)!=!se(this.textField))throw new Error("Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/data-binding/#toc-arrays-of-complex-data")}}componentBlur(){if(!this.isActionSheetExpanded){this.isFocused=!1;const t=se(this.selectionService.selected[0])&&Ze(this.value,this.valueField)!==Ze(this.dataService.itemAt(this.selectionService.selected[0]),this.valueField);t||Te(this.close)||Te(this.onBlur)||Te(this.filterChange)||g_(this.wrapper.nativeElement)||"blur"===this.formControl?.updateOn?this._zone.run(()=>{t&&this.selectionService.change(this.selectionService.selected[0]),this.togglePopup(!1),this.clearFilter(),this.onBlur.emit(),this.onTouchedCallback()}):this.togglePopup(!1)}}onMouseDown(e){"input"!==e.target.tagName.toLowerCase()&&e.preventDefault()}onKeyPress(e){if(0===e.which||e.keyCode===G.Enter)return;let t=String.fromCharCode(e.charCode||e.keyCode);this.ignoreCase&&(t=t.toLowerCase())," "===t&&e.preventDefault(),this.word+=t,this.last=t,this.search()}search(){clearTimeout(this.typingTimeout),this.filterable||(this.typingTimeout=setTimeout(()=>{this.word=""},this.delay),this.selectNext())}selectNext(){let e=this.dataService.filter(f=>se(f)&&!f.header&&!this.disabledItemsService.isItemDisabled(f)).map(f=>this.dataService.grouped?{item:f.value,itemIndex:f.offsetIndex}:{item:f,itemIndex:this.dataService.indexOf(f)});const t=((i,n)=>{for(let e=0;e<i.length;e++)if(i.charAt(e)!==n)return!1;return!0})(this.word,this.last);let o=e.length;const r=!isNaN(this.selectionService.selected[0]);let l,c,u,a=r?this.selectionService.selected[0]:0;for(this.defaultItem&&!this.disabledItemsService.isItemDisabled(this.defaultItem)&&(u={item:this.defaultItem,itemIndex:-1},o+=1,a+=1),a+=t&&r?1:0,e=((i,n,e)=>{let t=i;return e&&(t=[e].concat(t)),t.slice(n).concat(t.slice(0,n))})(e,a,u),c=0;c<o;c++){l=Ze(e[c].item,this.textField);const f=!(!t||!Qve(l,this.last,this.ignoreCase)),_=!!Qve(l,this.word,this.ignoreCase);if(f||_){c=e[c].itemIndex;break}}c!==o&&this.navigate(c)}emitChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}navigate(e){this.selectionService.select(e)}findDataItem({valueField:e,value:t}){const o={dataItem:null,index:-1},r=c=>Ze(c,e);let a;a=this.dataService.grouped?c=>r(c.value)===r(t):c=>r(c)===r(t);const l=this.dataService.findIndex(a);return o.dataItem=this.dataService.itemAt(l),o.index=l,o}setState(){const e=this.value,t=this.valueField,o=this.textField,r=this.valuePrimitive;if(this.defaultItem){const c=Ze(this.defaultItem,t),u=Ze(e,t);if(!se(e)||u===c)return this.updateState({dataItem:this.defaultItem,confirm:!0}),this.resetSelection(-1),void(this.filterable&&this.filterText&&this.dataService.itemsCount&&(this.selectionService.focused=this.firstFocusableIndex(0)))}const a=this.findDataItem({valueField:t,value:e}),l=!(r&&o);a.dataItem?(this.updateState({dataItem:a.dataItem,confirm:!0}),this.resetSelection(a.index)):se(e)&&l?(this.updateState({dataItem:e}),this.resetSelection()):this._previousDataItem?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection())}handleFilter(e){this.filterChange.emit(e.target.value)}handleClick(){this.windowSize=Si(),this.isAdaptive&&this.togglePopup(!0)}pageChange(e){this.virtual.skip=e.skip}assignAriaDescribedBy(){const t=(this.wrapper.nativeElement.getAttribute("aria-describedby")||"").replace(this.valueLabelId,"").trim();this.valueLabelId=`k-${zl()}`;const o=`${this.valueLabelId} ${t}`.trim();this.renderer.setAttribute(this.wrapper.nativeElement,"aria-describedby",o)}setComponentClasses(){"none"!==this.size&&this.renderer.addClass(this.wrapper.nativeElement,ki("picker",this.size)),"none"!==this.rounded&&this.renderer.addClass(this.wrapper.nativeElement,tr(this.rounded)),"none"!==this.fillMode&&this.renderer.addClass(this.wrapper.nativeElement,la("picker",this.fillMode))}closeActionSheet(){this.actionSheet.toggle(!1),this.filterable&&(this.actionSheetSearchBar.value="",this.filterChange.emit("")),this.closed.emit()}openActionSheet(){this.windowSize=Si(),this.actionSheet.toggle(!0),this.cdr.detectChanges(),cS(this.optionsList,this.wrapper,this.renderer),this.title=KD(this.wrapper,this.title),WD(this.actionSheet,this.windowSize,this.renderer),this.cdr.detectChanges(),this.opened.emit(),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.filterable&&this.actionSheetSearchBar.focus()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(z),s.rXU(Ts),s.rXU(jl),s.rXU(Mc),s.rXU(Hl),s.rXU(Tc),s.rXU(s.SKi),s.rXU(s.sFG),s.rXU(s.gRc),s.rXU(v_,8),s.rXU(s.zZn))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-dropdownlist"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,Na,5),s.wni(o,qI,5),s.wni(o,QI,5),s.wni(o,C_,5),s.wni(o,s0,5),s.wni(o,o0,5),s.wni(o,r0,5)),2&e){let r;s.mGM(r=s.lsd())&&(t.itemTemplate=r.first),s.mGM(r=s.lsd())&&(t.groupTemplate=r.first),s.mGM(r=s.lsd())&&(t.fixedGroupTemplate=r.first),s.mGM(r=s.lsd())&&(t.valueTemplate=r.first),s.mGM(r=s.lsd())&&(t.headerTemplate=r.first),s.mGM(r=s.lsd())&&(t.footerTemplate=r.first),s.mGM(r=s.lsd())&&(t.noDataTemplate=r.first)}},viewQuery:function(e,t){if(1&e&&(s.GBs(Ic,5),s.GBs(jD,7,s.c1b),s.GBs($D,7),s.GBs(U5,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.responsiveRendererComponent=o.first),s.mGM(o=s.lsd())&&(t.container=o.first),s.mGM(o=s.lsd())&&(t.popupTemplate=o.first),s.mGM(o=s.lsd())&&(t.optionsList=o.first)}},hostVars:22,hostBindings:function(e,t){1&e&&s.bIt("keydown",function(r){return t.keydown(r)})("keypress",function(r){return t.keypress(r)})("click",function(){return t.click()}),2&e&&(s.BMQ("aria-controls",t.ariaControls)("disabled",t.isDisabledAttribute)("id",t.focusableId)("dir",t.dir)("tabindex",t.hostTabIndex)("readonly",t.readonlyAttr)("aria-busy",t.isBusy)("role",t.role)("aria-haspopup",t.haspopup)("aria-expanded",t.isAriaExpanded)("aria-invalid",t.hostAriaInvalid)("aria-activedescendant",t.hostAriaActivedescendant),s.AVh("k-readonly",t.readonly)("k-dropdownlist",t.hostClasses)("k-picker",t.hostClasses)("k-disabled",t.isDisabledClass)("k-loading",t.isLoading))},inputs:{customIconClass:"customIconClass",showStickyHeader:"showStickyHeader",icon:"icon",svgIcon:"svgIcon",loading:"loading",data:"data",value:"value",textField:"textField",valueField:"valueField",adaptiveMode:"adaptiveMode",title:"title",subtitle:"subtitle",popupSettings:"popupSettings",listHeight:"listHeight",defaultItem:"defaultItem",disabled:"disabled",itemDisabled:"itemDisabled",readonly:"readonly",filterable:"filterable",virtual:"virtual",ignoreCase:"ignoreCase",delay:"delay",valuePrimitive:"valuePrimitive",tabindex:"tabindex",tabIndex:"tabIndex",size:"size",rounded:"rounded",fillMode:"fillMode",leftRightArrowsNavigation:"leftRightArrowsNavigation",focusableId:[s.Mj6.None,"id","focusableId"]},outputs:{valueChange:"valueChange",filterChange:"filterChange",selectionChange:"selectionChange",open:"open",opened:"opened",close:"close",closed:"closed",onFocus:"focus",onBlur:"blur"},exportAs:["kendoDropDownList"],features:[s.Jv_([iit,Tc,jl,Mc,Hl,z,{provide:He,useValue:"kendo.dropdownlist"},{provide:YD,useExisting:(0,s.Rfq)(()=>i)},{provide:ji,useExisting:(0,s.Rfq)(()=>i)}]),s.OA$],decls:16,vars:18,consts:()=>{let n,e,t,o;return n="Nessun dato trovato",e="Seleziona",t="Filter",o="Options list",[["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["optionsList",""],["searchInput",""],["kendoDropDownListLocalizedMessages","","noDataText",n,"selectButtonText",e,"filterInputLabel",t,"popupLabel",o],["unselectable","on",1,"k-input-inner",3,"click","id"],[1,"k-input-value-text"],[4,"ngIf"],[3,"ngIf"],["class","k-i-loading k-input-loading-icon k-icon",4,"ngIf"],["tabindex","-1","unselectable","on","type","button",1,"k-input-button","k-button","k-icon-button",3,"ngClass","kendoEventsOutsideAngular"],["unselectable","on","innerCssClass","k-button-icon",3,"name","customFontClass","svgIcon"],[3,"resize",4,"ngIf"],[3,"closePopup","textInputChange","sharedPopupActionSheetTemplate","isActionSheetExpanded","title","showTextInput","subtitle"],[3,"templateContext"],[1,"k-i-loading","k-input-loading-icon","k-icon"],[4,"ngTemplateOutlet"],[3,"resize"],[3,"pageChange","id","size","rounded","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","ariaLive","showStickyHeader"],["class","k-no-data",4,"ngIf"],[1,"k-list-filter",3,"click"],[1,"k-searchbox","k-input",3,"ngClass"],["innerCssClass","k-input-icon","name","search",1,"k-icon",3,"svgIcon"],["role","searchbox","aria-autocomplete","list","aria-haspopup","listbox","tabindex","-1",1,"k-input-inner",3,"ngModelChange","keydown","input","focus","blur","click","filterInput","dir","ngModel"],[1,"k-list",3,"ngClass"],["kendoDropDownsSelectable","",1,"k-list-optionlabel",3,"ngClass","index"],[1,"k-no-data"],[3,"ngIf","templateContext"]]},template:function(e,t){if(1&e){const o=s.RV6();s.eu8(0,5),s.j41(1,"span",6),s.bIt("click",function(a){return s.eBV(o),s.Njj(a.preventDefault())}),s.j41(2,"span",7),s.DNE(3,bet,1,4,null,8)(4,Eet,1,1,"ng-template",9),s.k0s()(),s.DNE(5,yet,1,0,"span",10),s.j41(6,"button",11),s.nrm(7,"kendo-icon-wrapper",12),s.k0s(),s.DNE(8,wet,1,1,"ng-template",null,0,s.C5r)(10,ket,1,0,"kendo-resize-sensor",13),s.eu8(11,null,1),s.j41(13,"responsive-renderer",14),s.bIt("closePopup",function(){return s.eBV(o),s.Njj(t.togglePopup(!1))})("textInputChange",function(a){return s.eBV(o),s.Njj(t.onFilterChange(a))}),s.k0s(),s.DNE(14,Uet,8,21,"ng-template",null,2,s.C5r)}if(2&e){const o=s.sdS(15);s.R7$(),s.Y8G("id",t.valueLabelId),s.R7$(2),s.Y8G("ngIf",t.valueTemplate),s.R7$(),s.Y8G("ngIf",!t.valueTemplate),s.R7$(),s.Y8G("ngIf",t.loading),s.R7$(),s.Y8G("ngClass",t.selectButtonClasses)("kendoEventsOutsideAngular",s.eq3(16,YI,t.onMouseDown)),s.BMQ("aria-label",t.messageFor("selectButtonText")),s.R7$(),s.Y8G("name",t.icon||"caret-alt-down")("customFontClass",t.customIconClass)("svgIcon",t.svgIcon||t.caretAltDownSVGIcon),s.R7$(3),s.Y8G("ngIf",t.isOpen||t.isAdaptiveModeEnabled),s.R7$(3),s.Y8G("sharedPopupActionSheetTemplate",o)("isActionSheetExpanded",t.isActionSheetExpanded)("title",t.title)("showTextInput",t.filterable)("subtitle",t.subtitle)}},dependencies:[Qe,hs,Ic,JD,hS,q,uf,Be,xo,qe,Qo,q5,Di,fs,H5],encapsulation:2}),i})(),o2e=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoMultiSelectCustomItemTemplate",""]]}),i})(),eR=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoMultiSelectTagTemplate",""],["","kendoMultiSelectTreeTagTemplate",""]]}),i})(),nQ=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoMultiSelectGroupTagTemplate",""],["","kendoMultiSelectTreeGroupTagTemplate",""]]}),i})();class r2e extends a0{constructor(n){super(),this.dataItem=n}}let iQ=(()=>{class i{constructor(e,t){this.renderer=e,this.hostElement=t,this.xCircleIcon=nf,this.rounded="medium",this.fillMode="solid",this.disabledIndices=new Set,this.removeTag=new s.bkB,this.hostClasses=!0,this._size="medium"}set size(e){this.renderer.removeClass(this.hostElement.nativeElement,ki("chip-list",this.size)),e&&this.renderer.addClass(this.hostElement.nativeElement,ki("chip-list",e)),this._size=e}get size(){return this._size}get hostId(){return this.id}tagProp(e,t,o){const r=t&&this.getPropField(e,t,o);return Ze(e,r)}isTagDisabled(e,t){return this.isGroupTag(e)?e.every((o,r)=>this.disabledIndices.has(r+t)):this.disabledIndices.has(t)}deleteTag(e,t,o){e.preventDefault(),e.stopImmediatePropagation(),!this.disabled&&1===e.which&&this.removeTag.emit({tag:t,index:o})}itemId(e,t){if(e)return this.tagPrefix+"-"+this.tagProp(e,this.valueField,t)}isGroupTag(e){return e instanceof Array}tagAriaHidden(e){return se(this.focused)&&this.focused!==e}getPropField(e,t,o){const r=t.length-1;if("string"==typeof t)return t;if(this.valueDepth){const a=this.valueDepth[o];return r<a?t[r]:t[a]}return t.find(a=>a in e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.sFG),s.rXU(s.aKT))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-taglist"]],hostVars:5,hostBindings:function(e,t){2&e&&(s.BMQ("id",t.hostId),s.AVh("k-chip-list",t.hostClasses)("k-selection-multiple",t.hostClasses))},inputs:{tags:"tags",textField:"textField",valueField:"valueField",valueDepth:"valueDepth",focused:"focused",template:"template",groupTemplate:"groupTemplate",disabled:"disabled",tagPrefix:"tagPrefix",id:"id",size:"size",rounded:"rounded",fillMode:"fillMode",disabledIndices:"disabledIndices"},outputs:{removeTag:"removeTag"},ngContentSelectors:Fet,decls:2,vars:1,consts:[["groupTag",""],["singleTag",""],["class","k-chip",3,"ngClass",4,"ngFor","ngForOf"],[1,"k-chip",3,"ngClass"],[1,"k-chip-content"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"k-chip-actions"],["aria-label","delete",1,"k-chip-action","k-chip-remove-action"],["name","x-circle",3,"mousedown","svgIcon"],[1,"k-chip-label","k-text-ellipsis"],[4,"ngIf"],[3,"ngIf"],[3,"templateContext"]],template:function(e,t){1&e&&(s.NAR(),s.DNE(0,qet,10,21,"div",2),s.SdG(1)),2&e&&s.Y8G("ngForOf",t.tags)},dependencies:[Qe,ut,Be,q,uf],encapsulation:2}),i})();const lit={multi:!0,provide:zn,useExisting:(0,s.Rfq)(()=>l0)};let l0=(()=>{class i{constructor(e,t,o,r,a,l,c,u,f,_,S,v,b,D){this.wrapper=e,this.localization=t,this.popupService=o,this.dataService=r,this.selectionService=a,this.navigationService=l,this.disabledItemsService=c,this.cdr=u,this.differs=f,this.renderer=_,this._zone=S,this.touchEnabled=v,this.injector=b,this.hostElement=D,this.animationDuration=300,this.xIcon=go,this.plusIcon=uD,this.listBoxId=`k-${zl()}`,this.tagListId=`k-${zl()}`,this.tagPrefix="tag-"+zl(),this.optionPrefix="option-"+zl(),this.focusedTagIndex=void 0,this.showStickyHeader=!0,this.focusableId=`k-${zl()}`,this.autoClose=!0,this.tabindex=0,this.adaptiveMode="none",this.title="",this.disabled=!1,this.readonly=!1,this.filterable=!1,this._listHeight=200,this.clearButton=!0,this.tagMapper=k=>k||[],this.allowCustom=!1,this.valueNormalizer=k=>k.pipe((0,V.T)(O=>{const I=L=>"string"==typeof L&&O.toLowerCase()===L.toLowerCase(),x=this.value.find(I);return x||(this.dataService.find(I)||O)})),this.filterChange=new s.bkB,this.valueChange=new s.bkB,this.open=new s.bkB,this.opened=new s.bkB,this.close=new s.bkB,this.closed=new s.bkB,this.onFocus=new s.bkB,this.onBlur=new s.bkB,this.inputFocus=new s.bkB,this.inputBlur=new s.bkB,this.removeTag=new s.bkB,this.hostClasses=!0,this.windowSize="large",this.initialized=!1,this._size="medium",this._rounded="medium",this._fillMode="solid",this._valueHolder=[],this.onChangeCallback=k=>{},this.onTouchedCallback=k=>{},this._placeholder="",this._open=!1,this._value=[],this._popupSettings={animate:!0},this._checkboxes={enabled:!1},this._isFocused=!1,this.selectedDataItems=[],this.customValueSubject=new Ke.B,this.subs=new be.yU,(0,_t.$)(F5),this.popupMouseDownHandler=this.onMouseDown.bind(this),this.data=[],this.direction=this.localization.rtl?"rtl":"ltr",this.subscribeEvents(),this.subscribeTouchEvents()}get actionSheet(){return this.responsiveRendererComponent?.actionSheet}get actionSheetSearchBar(){return this.responsiveRendererComponent?.actionSheetSearchBar}get ariaControls(){return this.isOpen?this.listBoxId:void 0}get formControl(){return this.injector.get(Ci,null)?.control||null}focusItemAt(e){const o=(this.allowCustom?-1:0)<=0&&e<this.data.length;se(e)&&o&&!this.disabledItemsService.isIndexDisabled(e)?this.selectionService.focus(e):this.selectionService.focus(null)}focus(){this.disabled||this.searchbar.focus()}handleInputFocus(){this.handleFocus(),Te(this.inputFocus)&&this._zone.run(()=>{this.inputFocus.emit()})}onAdaptiveTextBoxChange(e){this.filterable?this.filterChange.emit(e):this.searchTextAndFocus(e)}blur(){this.disabled||this.searchbar.blur()}handleFocus(){this._zone.run(()=>{!this.isFocused&&Te(this.onFocus)&&this.onFocus.emit(),this.isFocused=!0})}handleBlur(){if(!this.isActionSheetExpanded){if(!this.isFocused)return;this.isFocused=!1,Te(this.onBlur)||Te(this.filterChange)||Te(this.close)||g_(this.wrapper.nativeElement)?this._zone.run(()=>{this.closePopup(),this.isOpen&&this.allowCustom||this.clearFilter(),this.onBlur.emit(),this.onTouchedCallback()}):(this.allowCustom||this.clearFilter(),this.closePopup())}}handleInputBlur(){if(!this.isActionSheetExpanded){if(!this.isFocused)return;Te(this.inputBlur)||Te(this.filterChange)||Te(this.close)||g_(this.wrapper.nativeElement)||"blur"===this.formControl?.updateOn?this._zone.run(()=>{this.closePopup(),this.isOpen&&this.allowCustom||this.clearFilter(),this.inputBlur.emit(),this.onTouchedCallback()}):(this.allowCustom||this.clearFilter(),this.closePopup())}}onMouseDown(e){e.preventDefault()}onResize(){if(this.isAdaptiveModeEnabled&&this.windowSize!==Si()&&(this.isOpen&&this.togglePopup(!1),this.windowSize=Si(),this.cdr.detectChanges()),this.isOpen&&!this.isActionSheetExpanded){const e=this.popupRef.popupElement,{min:t,max:o}=this.width;e.style.minWidth=t,e.style.width=o}}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}set data(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.initialized&&this.setState(this.value)}get data(){const e=this.virtual;if(e){const t=e.skip||0,o=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,o)}return this.dataService.data}set value(e){this._value=e||[],!this.differ&&this.value&&(this.differ=this.differs.find(this.value).create()),this.valueChangeDetected=!0,this.initialized&&this.setState(this.value)}get value(){return this._value}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set size(e){const t=e||"medium";this.renderer.removeClass(this.wrapper.nativeElement,ki("input",this.size)),"none"!==e&&this.renderer.addClass(this.wrapper.nativeElement,ki("input",t)),this._size=t}get size(){return this._size}set rounded(e){const t=e||"medium";this.renderer.removeClass(this.wrapper.nativeElement,tr(this.rounded)),"none"!==e&&this.renderer.addClass(this.wrapper.nativeElement,tr(t)),this._rounded=t}get rounded(){return this._rounded}set fillMode(e){const t=e||"solid";this.renderer.removeClass(this.wrapper.nativeElement,la("input",this.fillMode)),"none"!==e&&this.renderer.addClass(this.wrapper.nativeElement,la("input",t)),this._fillMode=t}get fillMode(){return this._fillMode}set placeholder(e){this._placeholder=e||""}get placeholder(){return this.selectedDataItems.length?"":this._placeholder}set subtitle(e){this._subtitle=e}get subtitle(){return this._subtitle||this.placeholder}get isAdaptiveModeEnabled(){return"auto"===this.adaptiveMode}set itemDisabled(e){if("function"!=typeof e)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}set checkboxes(e){this._checkboxes=(i=>t0(i)?Object.assign({},{enabled:!0,checkOnClick:!0},i):{enabled:!!i,checkOnClick:!0})(e)}get checkboxes(){return this._checkboxes}set virtual(e){this._virtualSettings=j5(e)}get virtual(){return this._virtualSettings}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set listHeight(e){this._listHeight=e}get listHeight(){if(!this.isAdaptive)return this._listHeight}set valuePrimitive(e){this._valuePrimitive=e}get valuePrimitive(){return se(this._valuePrimitive)?this._valuePrimitive:!se(this.valueField)}get dir(){return this.direction}get disabledClass(){return this.disabled}get isLoading(){return this.loading}get isActionSheetExpanded(){return this.actionSheet?.expanded}get isAdaptive(){return this.isAdaptiveModeEnabled&&"large"!==this.windowSize}get listContainerClasses(){const e=["k-list-container","k-multiselect-popup"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}get customItemSizeClass(){return`${this.size?ki("list",this.size):""}`}get width(){let e=0;ne()&&(e=this.wrapper.nativeElement.offsetWidth);const t=this.popupSettings.width||e;return{min:isNaN(e)?e:`${e}px`,max:isNaN(t)?t:`${t}px`}}get height(){const e=this.popupSettings.height;return se(e)?`${e}px`:"auto"}get activeDescendant(){const e=this.focusedTagIndex,t=this.selectionService.focused;let o,r;if(se(e)&&!this.isOpen)r=this.tags[e],o=this.tagPrefix;else{if(!se(t)||-1===t||!this.isOpen)return null;r=this.dataService.itemAt(t),o=this.optionPrefix}return o+"-"+Ze(r,this.valueField)}get clearButtonVisiblity(){if(this.touchEnabled)return"visible"}applyValue(){this.value=this._valueHolder,this._valueHolder=[],this.emitValueChange(),this.togglePopup(!1)}cancelValue(){this._valueHolder=[],this.togglePopup(!1)}verifySettings(){if((0,s.naY)()&&0!==this.value.length){if(!aa(this.value))throw new Error("Expected values of array type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/value-binding");if(!0===this.valuePrimitive&&B5(this.value))throw new Error("Expected values of primitive type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/value-binding/#toc-primitive-values");if(!1===this.valuePrimitive&&!B5(this.value))throw new Error("Expected values of Object type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/value-binding/#toc-object-values");if(!se(this.valueField)!=!se(this.textField))throw new Error("Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/data-binding/#toc-arrays-of-complex-data")}}change(e){if(e.isMultipleSelection)se(e.added)&&e.added.length>0&&e.added.forEach(t=>{const o=this.dataService.itemAt(t),r=this.valuePrimitive&&se(o)&&se(o[this.valueField])?o[this.valueField]:o;r&&(this.isAdaptive&&this.isActionSheetExpanded?this._valueHolder=[...this._valueHolder,r]:this.value=[...this.value,r])}),se(e.removed)&&e.removed.length>0&&(e.removed.forEach(t=>{const o=this.dataService.itemAt(t),r=a=>Ze(a,this.valueField)!==Ze(o,this.valueField);this.isAdaptive&&this.isActionSheetExpanded?this._valueHolder=this._valueHolder.filter(r):this.value=this.value.filter(r)}),this.cdr.detectChanges());else{if((se(e.added)||se(e.removed))&&(-1===e.added||-1===e.removed))return void this.addCustomValue(this.text);if(se(e.added)){const o=this.dataService.itemAt(e.added),r=this.valuePrimitive&&se(o)&&se(o[this.valueField])?o[this.valueField]:o;this.isAdaptive&&this.isActionSheetExpanded?this._valueHolder=[...this._valueHolder,r]:this.value=[...this.value,r]}if(se(e.removed)){const o=this.dataService.itemAt(e.removed),r=a=>Ze(a,this.valueField)!==Ze(o,this.valueField);this.isAdaptive&&this.isActionSheetExpanded?this._valueHolder=this._valueHolder.filter(r):this.value=this.value.filter(r),this.selectionService.focused=e.removed,this.cdr.detectChanges()}}(!this.isAdaptive||!this.isActionSheetExpanded)&&this.emitValueChange()}setState(e){let t=this.dataService.data;this.dataService.grouped&&(t=t.filter(r=>!r.header).map(r=>r.value));const o=Qq(this.value,t,this.valueField);this.selectionService.resetSelection(o),this.disabledItemsService.isIndexDisabled(this.selectionService.focused)&&(this.selectionService.focused=this.firstFocusableIndex(0)),this.isOpen&&void 0===this.selectionService.focused&&(this.dataService.itemsCount>0?this.selectionService.focused=this.firstFocusableIndex(0):this.allowCustom&&(this.selectionService.focused=-1)),this.valuePrimitive&&!this.valueField&&(this.selectedDataItems=e.slice()),(B5(e)||this.valuePrimitive&&this.valueField)&&(this.selectedDataItems=((i,n,e)=>{const t=((i,n)=>aa(i)&&i.filter(e=>t0(e)&&void 0!==Ze(e,n)))(i,e)||[];return(((i,n=[],e)=>i.map(t=>n.find(o=>Ze(o,e)===t)).filter(t=>void 0!==t))(i,n,e)||[]).concat(t)})(e,t,this.valueField)),this.selectedDataItems.length<e.length&&(this.selectedDataItems=e.map(r=>{const a=this.selectedDataItems.find(l=>Ze(l,this.valueField)===Ze(r,this.valueField));return se(a)?a:this.resolveDataItemFromTags(r)}).filter(r=>se(r))),this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.disabledIndices=this.disabledItemsMapper(),this.cdr.markForCheck()}handleFilter(e){this.text=e,e&&!this.isOpen&&this.openPopup(),this.filterable?this.filterChange.emit(e):this.searchTextAndFocus(e),this.searchbar.setInputSize()}pageChange(e){this.virtual.skip=e.skip}clearFilter(){this.filterable&&this.text&&this.filterChange.emit(""),this.text="",this.searchbar.input.nativeElement.value="",this.searchbar.setInputSize()}handleNavigate(e){const t=this.text&&e.keyCode!==G.ArrowDown&&e.keyCode!==G.ArrowUp,o=this.text&&e.keyCode===G.Enter||e.keyCode===G.Escape;if(e.keyCode===G.Backspace&&this.isActionSheetExpanded)return;if(!this.text&&e.keyCode===G.Backspace&&this.tags.length>0)return void this.handleBackspace();if(this.disabled||t&&!o)return;const a=e,l=isNaN(this.selectionService.focused)?-1:this.selectionService.focused,c=this.navigationService.process({current:l,max:this.dataService.itemsCount-1,min:this.allowCustom&&this.text?-1:0,open:this.isOpen,originalEvent:a});c!==gt.Undefined&&(c===gt.Enter&&this.isOpen||c!==gt.Enter)&&!this.isActionSheetExpanded&&c===gt.Tab&&e.preventDefault()}handleRemoveTag({tag:e}){const t=new r2e(e);this.disabled||this.readonly||(this.focus(),this.removeTag.emit(t),!t.isDefaultPrevented()&&(e instanceof Array?this.removeGroupTag(e):this.removeSingleTag(e),this.cdr.detectChanges()))}clearAll(e){e?.stopImmediatePropagation(),e?.preventDefault(),this.focus(),this.clearFilter(),this.selectionService.lastClickedIndex=null;const t=this.selectionService.selected;this.value=this.value.filter((o,r)=>this.disabledItemsService.isIndexDisabled(t[r])),this.emitValueChange()}addCustomValue(e){this.customValueSubject.next(e)}ngAfterContentChecked(){this.verifySettings()}ngDoCheck(){this.differ&&this.differ.diff(this.value)&&!this.valueChangeDetected&&this.setState(this.value),this.valueChangeDetected=!1}ngOnInit(){this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex"),this.createCustomValueStream(),this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.cdr.markForCheck()})),this.setState(this.value),this.setComponentClasses(),this.initialized=!0}ngOnChanges(e){const t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),wt("valueNormalizer",e)&&this.createCustomValueStream(),Fi(["textField","valueField","valuePrimitive"],e)&&this.setState(this.value)}ngAfterViewInit(){this.windowSize=Si(),this.cdr.detectChanges(),this.searchbar.setInputSize(),this.subs.add(this.renderer.listen(this.searchbar.input.nativeElement,"mousedown",this.handleMousedown.bind(this))),this.subs.add(this.renderer.listen(this.wrapper.nativeElement,"keydown",this.handleKeydown.bind(this))),this.actionSheet&&ne()&&(this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-height","60vh"),this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-max-height","none"))}ngOnDestroy(){this._toggle(!1),this.unsubscribeEvents()}toggle(e){Promise.resolve(null).then(()=>{const t=se(e)?e:!this._open;this._toggle(t),this.cdr.markForCheck()})}get isOpen(){return XD(this._open||this.isActionSheetExpanded)}reset(){this.text="",this.value=[]}messageFor(e){return this.localization.get(e)}writeValue(e){this.value=e||[]}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.cdr.markForCheck(),this.disabled=e}onTagMapperChange(){this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck()}handleClick(){this.windowSize=Si(),this.isAdaptive&&this.togglePopup(!0)}set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-focus"),this._isFocused=e}get isFocused(){return this._isFocused}subscribeEvents(){if(!ne())return;const e=()=>this.isOpen,t=()=>!this.isOpen,o=()=>!this.isOpen&&void 0!==this.focusedTagIndex;[this.selectionService.onChange.subscribe(this.handleItemChange.bind(this)),this.navigationService.esc.subscribe(this.closePopup.bind(this)),this.navigationService.enter.pipe(X(e)).subscribe(this.handleEnter.bind(this)),this.navigationService.open.subscribe(this.openPopup.bind(this)),this.navigationService.close.subscribe(this.handleClose.bind(this)),this.navigationService.up.pipe(X(e)).subscribe(r=>this.handleUp(r.index)),this.navigationService.home.pipe(X(()=>t)).subscribe(this.handleHome.bind(this)),this.navigationService.end.pipe(X(()=>t)).subscribe(this.handleEnd.bind(this)),this.navigationService.backspace.pipe(X(o)).subscribe(this.handleBackspace.bind(this)),this.navigationService.delete.pipe(X(o)).subscribe(this.handleDelete.bind(this)),this.navigationService.left.subscribe("rtl"===this.direction?this.handleRightKey.bind(this):this.handleLeftKey.bind(this)),this.navigationService.right.subscribe("rtl"===this.direction?this.handleLeftKey.bind(this):this.handleRightKey.bind(this)),this.navigationService.down.subscribe(r=>this.handleDownKey(r.index)),this.navigationService.selectprevious.pipe(X(e)).subscribe(r=>this.handleSelectUpDown(r)),this.navigationService.selectnext.pipe(X(e)).subscribe(r=>this.handleSelectUpDown(r)),this.navigationService.selectalltobeginning.pipe(X(e)).subscribe(()=>this.handleSelectAllToBeginning()),this.navigationService.selectalltoend.pipe(X(e)).subscribe(()=>this.handleSelectAllToEnd()),Bt(this.navigationService.pagedown,this.navigationService.pageup).subscribe(r=>{this.isOpen&&(r.originalEvent.preventDefault(),this.optionsList.scrollWithOnePage(gt[r.originalEvent.code]))})].forEach(r=>this.subs.add(r))}subscribeTouchEvents(){!ne()||!this.touchEnabled||this._zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",e=>{(this.isFocused||this.isOpen)&&!JI(this.wrapper,e.target,this.popupRef)&&this._zone.run(()=>{this.blur(),this.isOpen&&this.togglePopup(!1)})}))}unsubscribeEvents(){ne()&&(this.subs.unsubscribe(),this.customValueSubscription&&this.customValueSubscription.unsubscribe(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler())}removeGroupTag(e){let t=this.dataService.data;this.dataService.grouped&&(t=t.filter(r=>!r.header).map(r=>r.value));const o=new Set(e.map(r=>Ze(r,this.valueField)));this.value=this.value.filter(r=>{const a=Qq([r],t,this.valueField)[0],l=this.disabledItemsService.isIndexDisabled(a);return!o.has(Ze(r,this.valueField))||l}),this.emitValueChange()}removeSingleTag(e){let t=this.dataService.data;this.dataService.grouped&&(t=t.filter(r=>!r.header).map(r=>r.value));const o=Qq([e],t,this.valueField)[0];this.disabledItemsService.isIndexDisabled(o)||((i=>!isNaN(i))(o)?(this.selectionService.deselect(o),this.selectionService.focused=o,this.togglePopup(!1)):(this.value=this.value.filter(a=>Ze(a,this.valueField)!==Ze(e,this.valueField)),this.emitValueChange()))}disabledItemsMapper(){const{selected:e}=this.selectionService;return new Set(this.selectedDataItems.reduce((t,o,r)=>(this.disabledItemsService.isIndexDisabled(e[r])&&t.push(r),t),[]))}createCustomValueStream(){this.customValueSubscription&&this.customValueSubscription.unsubscribe(),this.customValueSubscription=this.customValueSubject.pipe(F(()=>{this.loading=!0,this.disabled=!0,this.cdr.detectChanges()}),this.valueNormalizer,pd(()=>(this.loading=!1,this.disabled=!1,this.autoClose&&this.togglePopup(!1),(this.autoClose||!this.filterable)&&this.clearFilter(),this.nextTick(()=>{this.searchbar.focus()}),this.createCustomValueStream(),ft(null)))).subscribe(e=>{if(this.loading=!1,this.disabled=!1,se(e)){const t=this.valuePrimitive?Ze(e,this.valueField):e,o=this.dataService.indexOf(t),r=-1===o;-1===this.value.indexOf(t)?(this.tags=this.tagMapper([...this.selectedDataItems,e]),r?this.value=[...this.value,t]:this.selectionService.add(o)):!r&&this.selectionService.isSelected(o)?(this.selectionService.deselect(o),this.selectionService.focused=o):this.value=this.value.filter(a=>Ze(a,this.valueField)!==t),this.emitValueChange()}this.autoClose&&this.togglePopup(!1),(this.autoClose||!this.filterable)&&this.clearFilter(),this.nextTick(()=>{this.searchbar.focus()})})}handleItemChange(e){this.change(e),this.autoClose&&!e.preventClosingPopup&&!this.isActionSheetExpanded&&this.togglePopup(!1),(this.autoClose||!this.filterable)&&this.clearFilter()}handleMousedown(e){if(!this.isActionSheetExpanded&&0===e.button){if(this.isFocused&&this.isOpen&&e.target===this.searchbar.input.nativeElement||((!this.touchEnabled||this.touchEnabled&&"SPAN"!==e.target.tagName)&&this.searchbar.focus(),this.popupRef&&this.popupRef.popupElement.contains(e.target)))return;e.preventDefault(),this.togglePopup(!this.isOpen)}}handleKeydown(e){this.isFocused&&this.isOpen&&(e.ctrlKey||e.metaKey)&&e.keyCode===G.KeyA&&(e.preventDefault(),this.handleSelectAll())}handleEnter(e){const t=this.selectionService,o=this.selectionService.focused;this.selectionService.lastClickedIndex=o,this.isOpen&&e.originalEvent.preventDefault(),-1!==o?(t.isSelected(o)?(t.deselect(o),t.focused=o):t.add(o),this.autoClose&&!this.isActionSheetExpanded&&this.togglePopup(!1),(this.autoClose||!this.filterable)&&this.clearFilter()):this.allowCustom&&this.text&&this.addCustomValue(this.text)}handleClose(){this.closePopup(),this.searchbar.focus()}handleEnd(){this.focusedTagIndex=this.tags.length-1}handleHome(){this.focusedTagIndex=0}sortSelectionAscending(){return this.selectionService.selected.sort((e,t)=>e-t)}handleSelectAll(){const e=this.selectionService.selected.length,t=this.dataService.data.length,o=this.dataService.data.filter(r=>!r.header).length;!this.dataService.grouped&&e===t||this.dataService.grouped&&e===o?this.clearAll():(this.selectionService.selectFromTo(0,t-1),this.selectionService.emitMultipleAddedRemoved())}handleSelectAllToBeginning(){const e=this.selectionService.selected.length,t=this.dataService.data.length,o=this.selectionService.focused,r=this.sortSelectionAscending()[e-1];e!==t&&(this.selectionService.unselectFromTo(r,o+1),this.selectionService.selectFromTo(0,o)),this.nextTick(()=>this.selectionService.focus(0)),this.selectionService.emitMultipleAddedRemoved()}handleSelectAllToEnd(){const t=this.dataService.data.length,o=this.selectionService.focused;if(this.selectionService.selected.length!==t&&(this.selectionService.unselectFromTo(o-1,0),this.selectionService.selectFromTo(o,t-1)),this.dataService.grouped){const r=this.dataService.groupIndices[this.dataService.groupIndices.length-1]-1;this.nextTick(()=>this.selectionService.focus(r))}else this.nextTick(()=>this.selectionService.focus(t-1));this.selectionService.emitMultipleAddedRemoved()}handleSelectUpDown(e){const t=this.selectionService.focused;if(!se(t))return;let o;o="ArrowUp"===e.originalEvent.key?t>0?t-1:t:t<this.dataService.data.length-1?t+1:t,se(this.selectionService.lastClickedIndex)||(this.selectionService.lastClickedIndex=t),this.selectRangeFromTo(o)}selectRangeFromTo(e){const t=this.selectionService.lastClickedIndex;t>e?(this.selectionService.unselectNotNeededIndices(e,t,this.dataService.data.length),this.selectionService.selectFromTo(e,this.selectionService.lastClickedIndex),this.selectionService.emitMultipleAddedRemoved()):(this.selectionService.unselectNotNeededIndices(t,e,this.dataService.data.length),this.selectionService.selectFromTo(t,e),this.selectionService.emitMultipleAddedRemoved()),this.nextTick(()=>this.selectionService.focus(e))}handleUp(e){this.selectionService.focused=e}handleBackspace(){void 0!==this.focusedTagIndex?this.handleDelete():(this.handleRemoveTag({tag:this.tags[this.tags.length-1]}),this.searchbar.focus())}handleDelete(){this.handleRemoveTag({tag:this.tags[this.focusedTagIndex]}),this.focusedTagIndex===this.tags.length&&(this.focusedTagIndex=void 0)}handleLeftKey(){void 0===this.focusedTagIndex||this.focusedTagIndex<0?this.focusedTagIndex=this.tags.length-1:0!==this.focusedTagIndex&&this.focusedTagIndex--}handleDownKey(e){this.isOpen?this.selectionService.focused=e||this.firstFocusableIndex(0):this.openPopup()}handleRightKey(){const e=this.tags.length-1;this.focusedTagIndex===e?this.focusedTagIndex=void 0:this.focusedTagIndex<e&&this.focusedTagIndex++}findIndex(e,t=0){let o;e=e.toLowerCase();const r=this.dataService.findIndex(a=>(o=Ze(this.dataService.grouped?a.value:a,this.textField),o=se(o)?o.toString().toLowerCase():"",e&&o.startsWith(e)),t);return this.disabledItemsService.isIndexDisabled(r)?r+1>this.dataService.itemsCount?-1:this.findIndex(e,r+1):r}searchTextAndFocus(e){const t=this.findIndex(e);this.selectionService.focused=t}closePopup(){this.togglePopup(!1),this.focusedTagIndex=void 0}openPopup(){this.togglePopup(!0),this.focusedTagIndex=void 0}togglePopup(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||this._toggle(e)}triggerPopupEvents(e){const t=new a0;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}_toggle(e){this._open=e,this.destroyPopup(),this.isActionSheetExpanded&&(this.closeActionSheet(),this.focus()),this._open&&this.createPopup()}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}createPopup(){if(this.virtual&&(this.virtual.skip=0),this.windowSize=Si(),this.isAdaptive)return void this.openActionSheet();const e="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{horizontal:e,vertical:"bottom"},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{horizontal:e,vertical:"top"},popupClass:this.listContainerClasses,positionMode:"absolute"});const r=this.popupRef.popupElement,{min:a,max:l}=this.width;this.appendTo||(this.renderer.setAttribute(r,"role","region"),this.renderer.setAttribute(r,"aria-label",this.messageFor("popupLabel"))),r.addEventListener("mousedown",this.popupMouseDownHandler),r.style.minWidth=a,r.style.width=l,r.style.height=this.height,r.setAttribute("dir",this.direction);const c=r.querySelector("ul.k-list-ul"),u=this.searchbar.input.nativeElement.getAttribute("aria-labelledby");u&&c.setAttribute("aria-labelledby",u),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),cS(this.optionsList,this.searchbar.input,this.renderer),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.opened.emit()}),this.popupRef.popupClose.subscribe(()=>{this.closed.emit()}),this.popupRef.popupAnchorViewportLeave.subscribe(()=>{this.togglePopup(!1)})}emitValueChange(){this.onChangeCallback(this.value),this.valueChange.emit(this.value)}resolveDataItemFromTags(e){return this.tags&&this.tags.length&&se(e)?this.tags.reduce((o,r)=>{const a=aa(r)?r:[r];return o.push(...a),o},[]).find(o=>Ze(o,this.valueField)===Ze(e,this.valueField)):void 0}firstFocusableIndex(e){const t=this.dataService.itemsCount;if(this.disabledItemsService.isIndexDisabled(e)){const o=e+1;return o<t?this.firstFocusableIndex(o):void 0}return e}nextTick(e){this._zone.runOutsideAngular(()=>{setTimeout(()=>this._zone.run(e))})}setComponentClasses(){"none"!==this.size&&this.renderer.addClass(this.wrapper.nativeElement,ki("input",this.size)),"none"!==this.rounded&&this.renderer.addClass(this.wrapper.nativeElement,tr(this.rounded)),"none"!==this.fillMode&&this.renderer.addClass(this.wrapper.nativeElement,la("input",this.fillMode))}closeActionSheet(){this.actionSheet.toggle(!1),this.actionSheetSearchBar.value="",this.filterable&&this.filterChange.emit(""),this.closed.emit()}openActionSheet(){this.windowSize=Si(),this.actionSheet.toggle(!0),this._valueHolder=[...this.value],this.cdr.detectChanges(),cS(this.optionsList,this.searchbar.input,this.renderer),this.title=KD(this.searchbar.input,this.title),WD(this.actionSheet,this.windowSize,this.renderer),this.cdr.detectChanges(),this.opened.emit(),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.actionSheetSearchBar.focus()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(z),s.rXU(Ts),s.rXU(Tc),s.rXU(jl),s.rXU(Mc),s.rXU(Hl),s.rXU(s.gRc),s.rXU(s.MKu),s.rXU(s.sFG),s.rXU(s.SKi),s.rXU(v_,8),s.rXU(s.zZn),s.rXU(s.aKT))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-multiselect"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,Na,5),s.wni(o,o2e,5),s.wni(o,qI,5),s.wni(o,QI,5),s.wni(o,s0,5),s.wni(o,o0,5),s.wni(o,eR,5),s.wni(o,nQ,5),s.wni(o,r0,5),s.wni(o,_I,5),s.wni(o,mI,5)),2&e){let r;s.mGM(r=s.lsd())&&(t.template=r.first),s.mGM(r=s.lsd())&&(t.customItemTemplate=r.first),s.mGM(r=s.lsd())&&(t.groupTemplate=r.first),s.mGM(r=s.lsd())&&(t.fixedGroupTemplate=r.first),s.mGM(r=s.lsd())&&(t.headerTemplate=r.first),s.mGM(r=s.lsd())&&(t.footerTemplate=r.first),s.mGM(r=s.lsd())&&(t.tagTemplate=r.first),s.mGM(r=s.lsd())&&(t.groupTagTemplate=r.first),s.mGM(r=s.lsd())&&(t.noDataTemplate=r.first),s.mGM(r=s.lsd())&&(t.suffixTemplate=r.first),s.mGM(r=s.lsd())&&(t.prefixTemplate=r.first)}},viewQuery:function(e,t){if(1&e&&(s.GBs(Ic,5),s.GBs(jD,7,s.c1b),s.GBs(uS,7),s.GBs($D,7),s.GBs(U5,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.responsiveRendererComponent=o.first),s.mGM(o=s.lsd())&&(t.container=o.first),s.mGM(o=s.lsd())&&(t.searchbar=o.first),s.mGM(o=s.lsd())&&(t.popupTemplate=o.first),s.mGM(o=s.lsd())&&(t.optionsList=o.first)}},hostVars:11,hostBindings:function(e,t){2&e&&(s.BMQ("dir",t.dir),s.AVh("k-readonly",t.readonly)("k-multiselect",t.hostClasses)("k-input",t.hostClasses)("k-disabled",t.disabledClass)("k-loading",t.isLoading))},inputs:{showStickyHeader:"showStickyHeader",focusableId:"focusableId",autoClose:"autoClose",loading:"loading",data:"data",value:"value",valueField:"valueField",textField:"textField",tabindex:"tabindex",tabIndex:"tabIndex",size:"size",rounded:"rounded",fillMode:"fillMode",placeholder:"placeholder",adaptiveMode:"adaptiveMode",title:"title",subtitle:"subtitle",disabled:"disabled",itemDisabled:"itemDisabled",checkboxes:"checkboxes",readonly:"readonly",filterable:"filterable",virtual:"virtual",popupSettings:"popupSettings",listHeight:"listHeight",valuePrimitive:"valuePrimitive",clearButton:"clearButton",tagMapper:"tagMapper",allowCustom:"allowCustom",valueNormalizer:"valueNormalizer"},outputs:{filterChange:"filterChange",valueChange:"valueChange",open:"open",opened:"opened",close:"close",closed:"closed",onFocus:"focus",onBlur:"blur",inputFocus:"inputFocus",inputBlur:"inputBlur",removeTag:"removeTag"},exportAs:["kendoMultiSelect"],features:[s.Jv_([lit,Tc,jl,Mc,Hl,z,{provide:He,useValue:"kendo.multiselect"},{provide:YD,useExisting:(0,s.Rfq)(()=>i)},{provide:ji,useExisting:(0,s.Rfq)(()=>i)}]),s.OA$],decls:20,vars:42,consts:()=>{let n,e,t,o,r;return n="Nessun dato trovato",e="cancella",t="Options list",o="Apply",r="Cancel",[["searchbar",""],["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["optionsList",""],["default_custom_item_template",""],["kendoMultiSelectLocalizedMessages","","noDataText",n,"clearTitle",e,"popupLabel",t,"applyButton",o,"cancelButton",r],["kendoDropDownSharedEvents","",3,"isFocusedChange","handleBlur","onFocus","hostElement","isFocused"],["class","k-input-prefix k-input-prefix-horizontal",4,"ngIf"],[4,"ngIf"],[1,"k-input-values"],[3,"removeTag","size","rounded","fillMode","id","tags","textField","valueField","focused","disabled","template","groupTemplate","tagPrefix","disabledIndices"],[3,"onNavigate","valueChange","onBlur","onFocus","click","ariaExpanded","ariaControls","id","role","tagListId","isLoading","isFilterable","activeDescendant","userInput","disabled","readonly","tabIndex","placeholder"],["class","k-clear-value","role","button","tabindex","-1",3,"visibility","mousedown",4,"ngIf"],["class","k-icon k-i-loading k-input-loading-icon",4,"ngIf"],["class","k-input-suffix k-input-suffix-horizontal",4,"ngIf"],[3,"resize",4,"ngIf"],[3,"closePopup","textInputChange","navigate","onApply","onCancel","sharedPopupActionSheetTemplate","isActionSheetExpanded","title","showTextInput","showActionButtons","subtitle","placeholder"],[1,"k-input-prefix","k-input-prefix-horizontal"],[3,"ngTemplateOutlet"],["role","button","tabindex","-1",1,"k-clear-value",3,"mousedown"],["name","x",1,"k-icon",3,"svgIcon"],[1,"k-icon","k-i-loading","k-input-loading-icon"],[1,"k-input-suffix","k-input-suffix-horizontal"],[4,"ngTemplateOutlet"],[3,"resize"],["class","k-list",3,"ngClass",4,"ngIf"],[3,"pageChange","size","rounded","id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","multipleSelection","virtual","checkboxes","isMultiselect","isActionSheetExpanded","showStickyHeader"],["class","k-no-data",4,"ngIf"],[3,"templateContext"],[1,"k-list",3,"ngClass"],["kendoDropDownsSelectable","",1,"k-list-item","k-custom-item",3,"multipleSelection","index"],[4,"ngIf","ngIfElse"],["name","plus",1,"k-icon",3,"svgIcon"],[1,"k-no-data"],[3,"ngIf","templateContext"],[3,"ngIf"]]},template:function(e,t){if(1&e){const o=s.RV6();s.eu8(0,6),s.qex(1,7),s.mxI("isFocusedChange",function(a){return s.eBV(o),s.DH7(t.isFocused,a)||(t.isFocused=a),s.Njj(a)}),s.bIt("handleBlur",function(){return s.eBV(o),s.Njj(t.handleBlur())})("onFocus",function(){return s.eBV(o),s.Njj(t.handleFocus())}),s.DNE(2,Zet,2,1,"span",8)(3,ett,1,0,"kendo-separator",9),s.j41(4,"div",10)(5,"kendo-taglist",11),s.bIt("removeTag",function(a){return s.eBV(o),s.Njj(t.handleRemoveTag(a))}),s.k0s(),s.j41(6,"kendo-searchbar",12,0),s.bIt("onNavigate",function(a){return s.eBV(o),s.Njj(t.handleNavigate(a))})("valueChange",function(a){return s.eBV(o),s.Njj(t.handleFilter(a))})("onBlur",function(){return s.eBV(o),s.Njj(t.handleInputBlur())})("onFocus",function(){return s.eBV(o),s.Njj(t.handleInputFocus())})("click",function(){return s.eBV(o),s.Njj(t.handleClick())}),s.k0s()(),s.DNE(8,ttt,2,4,"span",13)(9,ntt,1,0,"span",14)(10,itt,1,0,"kendo-separator",9)(11,ott,2,1,"span",15),s.bVm(),s.DNE(12,att,1,1,"ng-template",null,1,s.C5r)(14,ltt,1,0,"kendo-resize-sensor",16),s.eu8(15,null,2),s.j41(17,"responsive-renderer",17),s.bIt("closePopup",function(){return s.eBV(o),s.Njj(t.togglePopup(!1))})("textInputChange",function(a){return s.eBV(o),s.Njj(t.onAdaptiveTextBoxChange(a))})("navigate",function(a){return s.eBV(o),s.Njj(t.handleNavigate(a))})("onApply",function(){return s.eBV(o),s.Njj(t.applyValue())})("onCancel",function(){return s.eBV(o),s.Njj(t.cancelValue())}),s.k0s(),s.DNE(18,Ctt,6,22,"ng-template",null,3,s.C5r)}if(2&e){const o=s.sdS(19);s.R7$(),s.Y8G("hostElement",t.hostElement),s.R50("isFocused",t.isFocused),s.R7$(),s.Y8G("ngIf",t.prefixTemplate),s.R7$(),s.Y8G("ngIf",t.prefixTemplate&&t.prefixTemplate.showSeparator),s.R7$(2),s.Y8G("size",t.size)("rounded",t.rounded)("fillMode",t.fillMode)("id",t.tagListId)("tags",t.tags)("textField",t.textField)("valueField",t.valueField)("focused",t.focusedTagIndex)("disabled",t.disabled)("template",t.tagTemplate)("groupTemplate",t.groupTagTemplate)("tagPrefix",t.tagPrefix)("disabledIndices",t.disabledIndices),s.R7$(),s.Y8G("ariaExpanded",t.isOpen)("ariaControls",t.ariaControls)("id",t.focusableId)("role","combobox")("tagListId",t.tagListId)("isLoading",t.loading)("isFilterable",t.filterable)("activeDescendant",t.activeDescendant)("userInput",t.text)("disabled",t.disabled)("readonly",t.readonly||t.isAdaptive)("tabIndex",t.tabIndex)("placeholder",t.placeholder),s.R7$(2),s.Y8G("ngIf",!t.loading&&!t.readonly&&t.clearButton&&((null==t.tags?null:t.tags.length)||(null==t.text?null:t.text.length))),s.R7$(),s.Y8G("ngIf",t.loading),s.R7$(),s.Y8G("ngIf",t.suffixTemplate&&t.suffixTemplate.showSeparator),s.R7$(),s.Y8G("ngIf",t.suffixTemplate),s.R7$(3),s.Y8G("ngIf",t.isOpen||t.isAdaptiveModeEnabled),s.R7$(3),s.Y8G("sharedPopupActionSheetTemplate",o)("isActionSheetExpanded",t.isActionSheetExpanded)("title",t.title)("showTextInput",!0)("showActionButtons",!0)("subtitle",t.subtitle)("placeholder",t.placeholder)}},dependencies:[IG,iQ,uS,Qe,hs,Ic,JD,hS,X5,q,qe,uf,Be,H5],encapsulation:2}),i})();const Vit={caseSensitive:!1,operator:"startsWith"};let qD=(()=>{class i{constructor(e){this.component=e,this.filterable=!0,this._data=[]}set data(e){this._data=e||[]}get data(){return this._data}ngOnInit(){this.component.filterable=this.filterable,this.filterChangeSubscription=this.component.filterChange.subscribe(this.handleFilterChange.bind(this))}ngOnDestroy(){se(this.filterChangeSubscription)&&this.filterChangeSubscription.unsubscribe()}handleFilterChange(e){this.component.data=this.data.filter(t=>this.matchesAnyField(t,e))}matchesAnyField(e,t){const o=this.normalizeValue(t),{fields:r}=this.filterSettings;return 0===r.length?this.checkItem(e,o):r.some(a=>this.checkItem(Ze(e,a),o))}checkItem(e,t){return e=this.normalizeValue(e),"contains"===this.filterSettings.operator?-1!==e.indexOf(t):0===e.indexOf(t)}normalizeValue(e){const t=se(e)?e.toString():"";return this.filterSettings.caseSensitive?t:t.toLowerCase()}getFilterFields(e){return this.component.textField||this.component.valueField?aa(e)&&e.length>0?e:[this.component.textField||this.component.valueField]:[]}get filterSettings(){const e=this.rawSettings,t=se(e)&&"object"==typeof e?e.fields:[];return Object.assign({},Vit,e,{fields:this.getFilterFields(t)})}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(YD))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoDropDownFilter",""]],inputs:{data:"data",rawSettings:[s.Mj6.None,"kendoDropDownFilter","rawSettings"],filterable:"filterable"}}),i})(),c0=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({}),i})(),tR=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,Z1,eS,ia,Mr,c0,No,xn,rq,cr,YC],Ge,Z1,eS,ia,Mr,c0,No,xn,rq,cr,YC]}),i})(),zit=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[tR,QQe],c0]}),i})(),aQ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({}),i})(),lQ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[tR,Oc,aQ],c0,Oc]}),i})(),jit=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({providers:[{provide:v_,useValue:uI}],imports:[[tR,Oc,aQ],c0,Oc]}),i})(),cQ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[tR],c0]}),i})(),$it=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({providers:[{provide:v_,useValue:uI}],imports:[[tR,Oc,aQ],c0,Oc]}),i})(),Q5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[lQ,jit,cQ,$it,zit]}),i})();const C2e=["*"];function Kit(i,n){if(1&i&&(s.j41(0,"span",3),s.EFF(1),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.SpI("(",e.textFor("optional"),")")}}let d0=(()=>{class i{constructor(e,t,o){this.label=e,this.renderer=t,this.zone=o,this.labelClass=!0,this.handleClick=()=>{const r=this.getFocusableComponent();r&&r.focus&&r.focus()}}get labelFor(){if("string"==typeof this.for)return this.for;if(!ne())return null;const e=this.getFocusableComponent()||{};return(i=>i instanceof HTMLElement)(e)&&!((i,n)=>i.hasAttribute("id"))(e)&&this.renderer.setAttribute(e,"id",`k-${tn()}`),e.focusableId||e.id||null}ngAfterViewInit(){this.setAriaLabelledby(),this.zone.runOutsideAngular(()=>this.clickListener=this.renderer.listen(this.label.nativeElement,"click",this.handleClick))}ngOnDestroy(){this.clickListener&&this.clickListener()}setAriaLabelledby(){if(!ne())return;const e=this.getFocusableComponent();if(e&&e.focusableId){const o=(i=>{if(!i)return null;let n=i;for(;n.parentElement;)n=n.parentElement;return n})(this.label.nativeElement).querySelector(`#${e.focusableId}`),r=this.label.nativeElement,a=r.id||`k-${tn()}`;if(r.getAttribute("id")||this.renderer.setAttribute(r,"id",a),e.focusableId.startsWith("k-editor")&&e.iframe&&e.contentAreaLoaded.subscribe(()=>{this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.renderer.setAttribute(e.container.element.nativeElement.contentDocument.body.firstElementChild,"aria-label",r.textContent)})})}),!o)return;this.renderer.setAttribute(o,"aria-labelledby",a)}}getFocusableComponent(){const e=this.for;return e&&void 0!==e.focus?e:null}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(s.SKi))},i.\u0275dir=s.FsC({type:i,selectors:[["label","for",""]],hostVars:3,hostBindings:function(e,t){2&e&&(s.BMQ("for",t.labelFor),s.AVh("k-label",t.labelClass))},inputs:{for:"for",labelClass:"labelClass"}}),i})(),Z5=(()=>{class i extends yi{}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275dir=s.FsC({type:i,selectors:[["kendo-label-messages-base"]],inputs:{optional:"optional"},features:[s.Vt3]}),i})(),dQ=(()=>{class i extends Z5{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoLabelLocalizedMessages",""],["","kendoFloatingLabelLocalizedMessages",""]],features:[s.Jv_([{provide:Z5,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})(),eU=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({}),i})();const b2e={name:"@progress/kendo-angular-label",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925255,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};let est=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,eU],eU]}),i})(),pf=(()=>{class i{constructor(e,t,o){this.elementRef=e,this.renderer=t,this.localization=o,this.subscriptions=new be.yU,(0,_t.$)(b2e),this.direction=o.rtl?"rtl":"ltr",this.renderer.removeAttribute(this.elementRef.nativeElement,"id")}ngAfterContentInit(){if(this.for)return void(this.control=this.for);const e=(i=>this.elementRef.nativeElement.querySelector("kendo-label > input, kendo-label > textarea, kendo-label > select"))();if(e)return e.hasAttribute("id")||this.renderer.setAttribute(e,"id",`k-${tn()}`),void(this.control=e);this.control=this.kendoInput}ngOnInit(){this.subscriptions.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr"}))}ngAfterViewInit(){this.labelDirective.setAriaLabelledby()}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}textFor(e){return this.localization.get(e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-label"]],contentQueries:function(e,t,o){if(1&e&&s.wni(o,ji,7),2&e){let r;s.mGM(r=s.lsd())&&(t.kendoInput=r.first)}},viewQuery:function(e,t){if(1&e&&s.GBs(d0,7),2&e){let o;s.mGM(o=s.lsd())&&(t.labelDirective=o.first)}},hostVars:1,hostBindings:function(e,t){2&e&&s.BMQ("dir",t.direction)},inputs:{text:"text",for:"for",optional:"optional",labelCssStyle:"labelCssStyle",labelCssClass:"labelCssClass"},exportAs:["kendoLabel"],features:[s.Jv_([z,{provide:He,useValue:"kendo.label"}])],ngContentSelectors:C2e,decls:5,vars:7,consts:()=>{let n;return n="Facoltativo",[["kendoLabelLocalizedMessages","","optional",n],[3,"for","ngClass","ngStyle"],["class","k-label-optional",4,"ngIf"],[1,"k-label-optional"]]},template:function(e,t){1&e&&(s.NAR(),s.eu8(0,0),s.j41(1,"label",1),s.EFF(2),s.DNE(3,Kit,2,1,"span",2),s.k0s(),s.SdG(4)),2&e&&(s.R7$(),s.AVh("k-label-empty",!t.text),s.Y8G("for",t.control)("ngClass",t.labelCssClass)("ngStyle",t.labelCssStyle),s.R7$(),s.SpI(" ",t.text,""),s.R7$(),s.Y8G("ngIf",t.optional))},dependencies:[dQ,d0,Be,Wn,q],encapsulation:2}),i})(),uQ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,eU],est,eU]}),i})();const he=i=>i?new Date(i.getTime()):null,nR=36e5,pQ=864e5,iR=(i,n)=>{const e=he(i);return 0===n&&23===e.getHours()&&e.setHours(e.getHours()+2),e},_s=(i,n)=>{const e=he(i);return e.setDate(e.getDate()+n),iR(e,i.getHours())},rl=(i,n,e,t=0,o=0,r=0,a=0)=>{const l=new Date(i,n,e,t,o,r,a);return i>-1&&i<100&&l.setFullYear(l.getFullYear()-1900),iR(l,t)},En=i=>rl(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0),Xi=(i,n)=>!i&&!n||i&&n&&i.getTime()===n.getTime(),Nh=i=>{const n=rl(i.getFullYear(),i.getMonth()+1,1,i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds());return _s(n,-1)},So=(i,n)=>{const e=he(i),o=(12+(e.getMonth()+n)%12)%12;return e.setMonth(e.getMonth()+n),((i,n)=>i.getMonth()!==n?Nh(So(i,-1)):i)(iR(e,i.getHours()),o)},y2e=(i,n)=>{const e=i.getMonth(),t=rl(n,e,i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds());return t.getMonth()===e?t:Nh(So(t,-1))},al=(i,n)=>iR(y2e(i,i.getFullYear()+n),i.getHours()),Iu=(i,n)=>al(i,10*n),sR=(i,n)=>al(i,100*n),tU=(i,n)=>y2e(i,n(i.getFullYear())),u0=i=>tU(i,n=>n-n%100),nU=i=>tU(i,n=>n-n%100+90),$l=i=>tU(i,n=>n-n%10),oR=i=>tU(i,n=>n-n%10+9),D2e=(i,n)=>{const e=i.getDate(),t=rl(i.getFullYear(),n,e,i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds());return t.getDate()===e?t:Nh(So(t,-1))},rR=i=>D2e(i,11),w2e=(i,n)=>(u0(n).getFullYear()-u0(i).getFullYear())/100,k2e=(i,n)=>($l(n).getFullYear()-$l(i).getFullYear())/10,O2e=(i,n)=>_s(i,7*n),h0=i=>rl(i.getFullYear(),i.getMonth(),1,i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds());var mQ=function(i){return i[i.Forward=1]="Forward",i[i.Backward=-1]="Backward",i}(mQ||{});const T2e=(i,n,e=mQ.Forward)=>{const t=he(i),o=(n-t.getDay()+7*e)%7;return t.setDate(t.getDate()+o),iR(t,i.getHours())},M2e=(i,n)=>12*(n.getFullYear()-i.getFullYear())+(n.getMonth()-i.getMonth()),I2e=i=>D2e(i,0),R2e=(i,n)=>n.getFullYear()-i.getFullYear();var Rc=function(i){return i[i.Sunday=0]="Sunday",i[i.Monday=1]="Monday",i[i.Tuesday=2]="Tuesday",i[i.Wednesday=3]="Wednesday",i[i.Thursday=4]="Thursday",i[i.Friday=5]="Friday",i[i.Saturday=6]="Saturday",i}(Rc||{});const _Q=(i,n)=>{const e=rl(i.getFullYear(),0,1,-6),o=((i,n)=>n!==Rc.Monday?_s(((i,n)=>T2e(i,n,mQ.Backward))(i,n),4):_s(i,4-(i.getDay()||7)))(i,n).getTime()-e.getTime(),r=Math.floor(o/pQ);return 1+Math.floor(r/7)},A2e=(i,n=Rc.Monday)=>{i=En(i);const e=_s(i,-7),t=_s(i,7),o=_Q(i,n);return 0===o?_Q(e,n)+1:53===o&&_Q(t,n)>1?1:o},aR={schedule(i){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:t}=aR;t&&(n=t.requestAnimationFrame,e=t.cancelAnimationFrame);const o=n(r=>{e=void 0,i(r)});return new be.yU(()=>e?.(o))},requestAnimationFrame(...i){const{delegate:n}=aR;return(n?.requestAnimationFrame||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:n}=aR;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...i)},delegate:void 0},rst=new class ost extends mme{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:t}=this;let o;n=n||t.shift();do{if(o=n.execute(n.state,n.delay))break}while((n=t[0])&&n.id===e&&t.shift());if(this._active=!1,o){for(;(n=t[0])&&n.id===e&&t.shift();)n.unsubscribe();throw o}}}(class sst extends fme{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,t=0){return null!==t&&t>0?super.requestAsyncId(n,e,t):(n.actions.push(this),n._scheduled||(n._scheduled=aR.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,t=0){var o;if(null!=t?t>0:this.delay>0)return super.recycleAsyncId(n,e,t);const{actions:r}=n;null!=e&&(null===(o=r[r.length-1])||void 0===o?void 0:o.id)!==e&&(aR.cancelAnimationFrame(e),n._scheduled=void 0)}});function x2e(i,n=!1){return(0,Ri.N)((e,t)=>{let o=0;e.subscribe((0,Ai._)(t,r=>{const a=i(r,o++);(a||n)&&t.next(r),!a&&t.complete()}))})}class ast{constructor(){this.symbols="",this.partMap=[]}}const QD=i=>new Array(Math.max(i,0)).fill("0").join(""),N2e=i=>i.replace(/^0*/,""),cst=(i,n)=>(i[n.pattern[0]]=n.type,i),Ys=i=>null!=i,L2e=i=>Ys(i)&&"number"==typeof i&&!Number.isNaN(i),cR=i=>parseInt(i,10),p0=(i,n,e)=>Math.min(e,Math.max(n,i)),Gs=(...i)=>Object.assign(...i),mst=(n,e)=>{const t=he(n);return t.setFullYear(e),t},gQ=(i,n,e,t,o,r,a,l)=>!(!i||i.getFullYear()!==n||i.getMonth()!==e||i.getDate()!==t||i.getHours()!==o||i.getMinutes()!==r||i.getSeconds()!==a||i.getMilliseconds()!==l),pS=i=>Ys(i)&&i.getTime&&L2e(i.getTime()),Cst=/d|M|H|h|m|s/;class Est{constructor({intlService:n,formatPlaceholder:e,format:t,cycleTime:o=!1,twoDigitYearMax:r=68,value:a=null,autoCorrectParts:l=!0}){if(this.year=!0,this.month=!0,this.date=!0,this.hours=!0,this.minutes=!0,this.seconds=!0,this.milliseconds=!0,this.dayperiod=!0,this.leadingZero=null,this.typedMonthPart="",this.knownParts="adHhmMsEyS",this.symbols={E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",y:"y",S:"S"},this._value=En(new Date),this.cycleTime=!1,this._partiallyInvalidDate={startDate:null,invalidDateParts:{E:{value:null,date:null,startDateOffset:0},H:{value:null,date:null,startDateOffset:0},M:{value:null,date:null,startDateOffset:0},a:{value:null,date:null,startDateOffset:0},d:{value:null,date:null,startDateOffset:0},h:{value:null,date:null,startDateOffset:0},m:{value:null,date:null,startDateOffset:0},s:{value:null,date:null,startDateOffset:0},y:{value:null,date:null,startDateOffset:0},S:{value:null,date:null,startDateOffset:0}}},this.setOptions({intlService:n,formatPlaceholder:e,format:t,cycleTime:o,twoDigitYearMax:r,value:a,autoCorrectParts:l}),a)this._value=he(a);else{this._value=En(new Date);const c=this.dateFormatString(this.value,this.format).symbols;for(let u=0;u<c.length;u++)this.setExisting(c[u],!1)}}set value(n){n&&!(n instanceof Date)||(this._value=n,this.resetInvalidDate())}get value(){return this._value}get localeId(){let n="en";const e=Object.keys(this.intl.cldr);for(let t=0;t<e.length;t++){const r=this.intl.cldr[e[t]];if(r.name&&r.calendar&&r.numbers&&"en"!==r.name){n=r.name;break}}return n}setOptions(n){this.intl=n.intlService,this.formatPlaceholder=n.formatPlaceholder||"wide",this.format=n.format,this.cycleTime=n.cycleTime,this.monthNames=this.allFormattedMonths(this.localeId),this.dayPeriods=this.allDayPeriods(this.localeId),this.twoDigitYearMax=n.twoDigitYearMax,this.autoCorrectParts=n.autoCorrectParts}setValue(n){n?Xi(n,this._value)||(this._value=he(n),this.modifyExisting(!0)):(this._value=En(new Date),this.modifyExisting(!1)),this.resetInvalidDate()}hasValue(){return this.intl.splitDateFormat(this.format,this.localeId).reduce((e,t)=>e||"literal"!==t.type&&"dayperiod"!==t.type&&this.getExisting(t.pattern[0]),!1)}getValue(){for(let n=0;n<this.knownParts.length;n++)if(!this.getExisting(this.knownParts[n]))return null;return he(this.value)}getFormattedDate(n){return this.intl.formatDate(this.getValue(),n,this.localeId)}getTextAndFormat(n=""){const e=n||this.format;let t=this.intl.formatDate(this.value,e,this.localeId);const o=this.dateFormatString(this.value,e);if(!this.autoCorrectParts&&this._partiallyInvalidDate.startDate){let a="";const l=this.intl.formatDate(this.value,e,this.localeId),c=this.getFormattedInvalidDates(e);for(let u=0;u<l.length;u++){const f=o.symbols[u];if("literal"===o.partMap[u].type)a+=t[u];else if(this.getInvalidDatePartValue(f)){const _=this.getPartsForSegment(o,u);if("M"===f){const S=(cR(this.getInvalidDatePartValue(f))+1).toString();_.length>2?a+=c[f][u]:this.getInvalidDatePartValue(f)?(a+=QD(_.length-S.length)+S,u+=_.length-1):a+=c[f][u]}else if(this.getInvalidDatePartValue(f)){const S=this.getInvalidDatePartValue(f).toString();a+=QD(_.length-S.length)+S,u+=_.length-1}else a+=c[f][u]}else a+=t[u]}t=a}return this.merge(t,o)}getFormattedInvalidDates(n=""){const e=n||this.format;let t={E:"",H:"",M:"",a:"",d:"",h:"",m:"",s:"",y:"",S:""};return Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach(o=>{const r=this.getInvalidDatePart(o).date;if(r){const a=this.intl.formatDate(r,e,this.localeId);t[o]=a}}),t}modifyExisting(n){const e=this.dateFormatString(this.value,this.format).symbols;for(let t=0;t<e.length;t++)this.setExisting(e[t],n)}getExisting(n){switch(n){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"t":case"a":return this.dayperiod;case"m":return this.minutes;case"s":return this.seconds;case"S":return this.milliseconds;default:return!0}}setExisting(n,e){switch(n){case"y":this.year=e,!1===e&&this._value.setFullYear(2e3);break;case"M":this.month=e,!1===e&&this.autoCorrectParts&&this._value.setMonth(0);break;case"d":this.date=e;break;case"h":case"H":this.hours=e;break;case"t":case"a":this.dayperiod=e;break;case"m":this.minutes=e;break;case"s":this.seconds=e;break;case"S":this.milliseconds=e}this.getValue()&&this.resetInvalidDate()}modifyPart(n,e){if(!Ys(n)||!Ys(e)||0===e)return;let r,t=he(this.value),o=!1;const a="M"===n,l="d"===n||"E"===n,c=this.getExisting(n);if(this.autoCorrectParts||!l&&!a)switch(n){case"y":t.setFullYear(t.getFullYear()+e);break;case"M":t=So(this.value,e);break;case"d":case"E":t.setDate(t.getDate()+e);break;case"h":case"H":t.setHours(t.getHours()+e),o=!0;break;case"m":t.setMinutes(t.getMinutes()+e),o=!0;break;case"s":t.setSeconds(t.getSeconds()+e),o=!0;break;case"S":t.setMilliseconds(t.getMilliseconds()+e);break;case"a":t.setHours(t.getHours()+12*e),o=!0}else{const u=this._partiallyInvalidDate.invalidDateParts||{},f=this.getInvalidDatePartValue(n);let _=u.y.value||t.getFullYear(),S=u.M.value||t.getMonth(),v=u.d.value||u.E.value||t.getDate(),b=u.h.value||u.H.value||t.getHours(),D=u.m.value||t.getMinutes(),k=u.s.value||t.getSeconds(),O=u.S.value||t.getMilliseconds();switch(n){case"y":_+=e;break;case"M":S+=e;break;case"d":case"E":v+=e}if("M"===n){if((S<0||S>11)&&c)return this.setExisting(n,!1),void this.resetInvalidDateSymbol(n);if(!c){if(S<0)S=p0(S%11+1+11,0,11);else{const L=Ys(f)?S:(e-1)%12;S=p0(L,0,11)}S=p0(S,0,11)}S=p0(S,0,11)}else if("d"===n)if(c){if(v<=0||v>31)return this.setExisting(n,!1),void this.resetInvalidDateSymbol(n)}else if(!c){if(Ys(f)&&(v<=0||v>31))return this.setExisting(n,!1),void this.resetInvalidDateSymbol(n);if(e<0){const L=Ys(f)?v:31-Math.abs(e%31)+1;v=p0(L,1,31)}else{const L=Ys(f)?v:e%31;v=p0(L,1,31)}v=p0(v,1,31)}const I=rl(_,S,v,b,D,k,O),x=a||l?this.modifyDateSymbolWithValue(t,n,a?S:v):null,P=gQ(I,_,S,v,b,D,k,O);this.getValue()&&gQ(I,_,S,v,b,D,k,O)?(t=he(I),this.markDatePartsAsExisting()):a&&x?x.getMonth()===S?this.getExisting("d")?P?(t=he(I),this.resetInvalidDateSymbol(n)):(r=!0,this.setInvalidDatePart(n,{value:S,date:he(x),startDateOffset:e,startDate:he(this.value)}),this.setExisting(n,!1)):P?(this.resetInvalidDateSymbol(n),t=he(I),this.getExisting("M")&&this.getExisting("y")&&(this.setExisting("d",!0),this.resetInvalidDateSymbol("d"))):(this.resetInvalidDateSymbol(n),t=he(x)):(r=!0,this.setInvalidDatePart(n,{value:S,date:he(x),startDateOffset:e,startDate:he(this.value)}),this.setExisting(n,!1)):l&&x&&(x.getDate()===v?this.getExisting("M")?P?(t=he(I),this.resetInvalidDateSymbol(n)):(r=!0,this.setInvalidDatePart(n,{value:v,date:he(x),startDateOffset:e,startDate:he(this.value)}),this.setExisting(n,!1)):P?(t=he(I),this.resetInvalidDateSymbol(n),this.getExisting("d")&&this.getExisting("y")&&(this.setExisting("M",!0),this.resetInvalidDateSymbol("M"))):(this.resetInvalidDateSymbol(n),t=he(x)):(r=!0,this.setInvalidDatePart(n,{value:v,date:he(this.value),startDateOffset:e,startDate:he(this.value)}),this.setExisting(n,!1)))}this.shouldNormalizeCentury()&&(t=this.normalizeCentury(t)),o&&!this.cycleTime&&(t.getDate(),this._value.getDate()),r||(this.setExisting(n,!0),this._value=t,this.getValue()&&this.resetInvalidDate())}parsePart({symbol:n,currentChar:e,resetSegmentValue:t,cycleSegmentValue:o,rawTextValue:r,isDeleting:a,originalFormat:l}){const c=!o,u=this.dateFormatString(this.value,this.format),f=u.partMap.filter(Ce=>"literal"===Ce.type).map((Ce,Ot)=>({datePartIndex:Ot,type:Ce.type,pattern:Ce.pattern,literal:""})),_=u.partMap.map(Ce=>({type:Ce.type,pattern:Ce.pattern,text:""}));for(let Ce=0;Ce<f.length;Ce++){const Ot=f[Ce];for(let Rt=0;Rt<Ot.pattern.length;Rt++)f[Ce+Rt]&&(f[Ce+Rt].literal=Ot.pattern[Rt]);Ce+=Ot.pattern.length-1}for(let Ce=0;Ce<_.length;Ce++){const Ot=_[Ce];for(let Rt=0;Rt<Ot.pattern.length;Rt++)_[Ce+Rt]&&(_[Ce+Rt].text=Ot.pattern[Rt]);Ce+=Ot.pattern.length-1}let v={value:null,switchToNext:!1,resetPart:c&&"M"===n&&u.partMap.filter(Ce=>"month"===Ce.type).some(Ce=>Ce.pattern.length>2),hasInvalidDatePart:!1};if(!e){if(!c)return this.resetLeadingZero(),this.setExisting(n,!1),this.resetInvalidDateSymbol(n),Gs(v,{value:null,switchToNext:!1});for(let Ce=0;Ce<f.length;Ce++){const Ot=f[Ce].literal,Rt=r.startsWith(Ot),Mt=r.endsWith(Ot),as=r.indexOf(Ot+Ot)>=0;if(Rt||Mt||as)return this.resetLeadingZero(),this.setExisting(n,!1),this.resetInvalidDateSymbol(n),Gs(v,{value:null,switchToNext:!1})}}const b=this.intl.formatDate(this.value,this.format,this.localeId),D=u.symbols;let k=!1,O="",I="",x="",P="",L="",H="",j="";for(let Ce=0;Ce<_.length;Ce++)j+=_[Ce].text;const J=this.format===D||this.format===j||this.format===l||this.format.length===l.length,te=(J?j:l).indexOf(n),oe=(J?j:l).lastIndexOf(n)-te+1;let Le=l.length-r.length;if(c||!c&&!this.autoCorrectParts){for(let Ce=0;Ce<b.length;Ce++)D[Ce]===n?(I+=this.getExisting(n)?b[Ce]:"0",Le>0?x.length+Le<oe&&(x+=r[Ce]||""):x+=r[Ce]||"",k=!0):k?(H+=b[Ce],L+=b[Ce]):(O+=b[Ce],P+=b[Ce]);if(J&&(j.length<r.length&&(x+=e),x.length>oe))return Gs(v,{value:null,switchToNext:!1});if(!J||J&&!this.autoCorrectParts){I="",x="",O="",H="",k=!1;for(let Ce=0;Ce<l.length;Ce++)l[Ce]===n?(I+=this.getExisting(n)?b[Ce]||"":"0",Le>0?x.length+Le<oe&&(x+=r[Ce]||""):x+=r[Ce]||"",k=!0):k?H+=r[Ce-Le]||"":O+=r[Ce]||"";l.length<r.length&&(x+=e)}}if(!c)if(this.autoCorrectParts){I="",x="",O="",H="",k=!1;for(let Ce=0;Ce<b.length;Ce++)D[Ce]===n?(I+=this.getExisting(n)?b[Ce]:"0",k=!0):k?H+=b[Ce]:O+=b[Ce]}else I=t?x:I;let ue=null,ye=this.matchMonth(e);const ie=this.matchDayPeriod(e,n),ee="0"===e,ae=this.leadingZero||{};ee?("0"===x&&(x=I),0===cR(t?e:(c?x:I)+e)&&!this.isAbbrMonth(u.partMap,n)&&this.incrementLeadingZero(n)):this.resetLeadingZero();const Se=this.partPattern(u.partMap,n),ve=Se?Se.pattern:null,Me=this.patternLength(ve)||ve.length;if(c&&a&&!x)return this.setExisting(n,!1),Gs(v,{value:null,switchToNext:!1});let Ne=!0,Jt=c?x:I;for(let Ce=Math.max(0,I.length-3);Ce<=I.length&&Ne;Ce++){Jt=t?e:c?x:I.substring(Ce)+e,(c||!this.autoCorrectParts)&&(Ne=!1,Jt=N2e(Jt),Jt=QD(Me-Jt.length)+Jt);let Ot=parseInt(Jt,10);ue=this.intl.parseDate(O+Jt+H,this.format,this.localeId);let Mt=!1;c&&!pS(ue)&&this.autoCorrectParts&&(ue=this.intl.parseDate(P+Jt+L,this.format,this.localeId),Mt=!0);const as=!isNaN(parseInt(e,10))||c&&a&&""===e;if(!ue&&!isNaN(Ot)&&as&&this.autoCorrectParts){if("M"===n&&!ye){const rn=Ot-1;rn>-1&&rn<12&&(ue=he(this.value),ue.setMonth(rn),ue.getMonth()!==rn&&(ue=Nh(So(ue,-1))))}"y"===n&&(ue=rl(parseInt(Jt,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),(c&&pS(ue)||!c&&ue)&&this.date&&ue.getDate()!==this.value.getDate()&&(ue=Nh(So(ue,-1))))}if(c&&pS(ue)||!c&&ue){const rn=this.peek(Jt,ve),Xn=this.intl.parseDate(Mt?`${P}${rn}${L}`:`${O}${rn}${H}`,this.format,this.localeId),ti=((this.leadingZero||{})[n]||0)+N2e(Jt).length>=Me;let ys=null===Xn||(ae[n]?ve.length<=Jt.length:ti);return this.shouldNormalizeCentury()&&(ue=this.normalizeCentury(ue)),this._value=ue,this.setExisting(n,!0),this.resetInvalidDateSymbol(n),this.autoCorrectParts||("M"===n?this.getExisting("M")&&this.getExisting("y")&&(this.setExisting("d",!0),this.resetInvalidDateSymbol("d")):"d"===n&&this.getExisting("d")&&this.getExisting("y")&&(this.setExisting("M",!0),this.resetInvalidDateSymbol("M")),this.hasInvalidDatePart()||this.markDatePartsAsExisting()),Gs(v,{value:this.value,switchToNext:ys})}}if(ye&&(ue=this.intl.parseDate(O+ye+H,this.format,this.localeId),ue))return this._value=ue,this.setExisting(n,!0),Gs(v,{value:this.value,switchToNext:!1});if(ie&&(ue=this.intl.parseDate(O+ie+H,this.format)||this.intl.parseDate(P+ie+L,this.format),ue))return this._value=ue,this.setExisting(n,!0),Gs(v,{value:this.value,switchToNext:!0});if(ee&&this.setExisting(n,!1),!this.autoCorrectParts){let Ce;const Ot=c?x:Jt,Rt=cR(Ot);if(L2e(Rt)){if("d"===n&&(Rt<=0||Rt>31)||"M"===n&&(Rt<0||Rt>11))return Gs(v,{value:null,switchToNext:!1});Ce="M"===n?Rt-1:Rt;const Mt="M"===n,as="d"===n;let rn=he(this._value);const Hn=this._partiallyInvalidDate.invalidDateParts||{};let Xn=Hn.y.value||rn.getFullYear(),ho=Mt?Ce:Hn.M.value||rn.getMonth(),ti=as?Ce:Hn.d.value||Hn.E.value||rn.getDate(),ys=Hn.h.value||Hn.H.value||rn.getHours(),Zc=Hn.m.value||rn.getMinutes(),ed=Hn.s.value||rn.getSeconds(),td=Hn.S.value||rn.getMilliseconds();const wl=rl(Xn,ho,ti,ys,Zc,ed,td),Kd=gQ(wl,Xn,ho,ti,ys,Zc,ed,td),Ea=Mt||as?this.modifyDateSymbolWithValue(rn,n,Mt?ho:ti):null;let Ct=!1;if(Mt&&Ea?Ea.getMonth()===ho?this.getExisting("d")?Kd?(rn=he(wl),this.resetInvalidDateSymbol(n)):(Ct=!0,this.setInvalidDatePart(n,{value:ho,date:he(Ea),startDate:he(this.value)}),this.setExisting(n,!1)):Kd?(this.resetInvalidDateSymbol(n),rn=he(wl),this.getExisting("M")&&this.getExisting("y")&&(this.setExisting("d",!0),this.resetInvalidDateSymbol("d"))):(this.resetInvalidDateSymbol(n),rn=he(Ea)):(Ct=!0,this.setInvalidDatePart(n,{value:ho,date:he(Ea),startDate:he(this.value)}),this.setExisting(n,!1)):as&&Ea&&(Ea.getDate()===ti?this.getExisting("M")?Kd?(rn=he(wl),this.resetInvalidDateSymbol(n)):(Ct=!0,this.setInvalidDatePart(n,{value:ti,date:he(Ea),startDate:he(this.value)}),this.setExisting(n,!1)):Kd?(rn=he(wl),this.resetInvalidDateSymbol(n),this.getExisting("d")&&this.getExisting("y")&&(this.setExisting("M",!0),this.resetInvalidDateSymbol("M"))):(this.resetInvalidDateSymbol(n),rn=he(Ea)):(Ct=!0,this.setInvalidDatePart(n,{value:ti,date:he(this.value),startDate:he(this.value)}),this.setExisting(n,!1))),!Ct){if(this.setExisting(n,!0),c&&!pS(ue)){const Nv=this.intl.parseDate(P+Jt+L,this.format,this.localeId);pS(Nv)&&(this._value=Nv)}else this._value=rn;this.getValue()&&this.resetInvalidDate()}let cm=!1;return cm="M"===n?Rt>=2||Ot.length>=2:J?Ot.length===oe:Ot.length>oe,Gs(v,{value:null,switchToNext:cm,hasInvalidDatePart:Ct})}}return Gs(v,{value:null,switchToNext:!1})}symbolMap(n){return this.intl.splitDateFormat(this.format,this.localeId).reduce(cst,{})[n]}resetLeadingZero(){const n=null!==this.leadingZero;return this.setLeadingZero(null),n}setLeadingZero(n){this.leadingZero=n}getLeadingZero(){return this.leadingZero||{}}normalizeCentury(n){if(!Ys(n))return n;const e=(i=>!Ys(i)||isNaN(i.getTime())?0:Number(i.getFullYear().toString().slice(-2)))(n),t=this.getNormalizedCenturyBase(e);return mst(n,t+e)}incrementLeadingZero(n){const e=this.leadingZero||{};e[n]=(e[n]||0)+1,this.leadingZero=e}isAbbrMonth(n,e){const t=this.partPattern(n,e);return"month"===t.type&&t.names}partPattern(n,e){return n.filter(t=>-1!==t.pattern.indexOf(e))[0]}peek(n,e){const t=n.replace(/^0*/,"")+"0";return QD(e.length-t.length)+t}matchMonth(n){if(this.typedMonthPart+=n.toLowerCase(),0===this.monthNames.length)return"";for(;this.typedMonthPart.length>0;){for(let t=0;t<this.monthNames.length;t++)if(0===this.monthNames[t].toLowerCase().indexOf(this.typedMonthPart))return this.monthNames[t];const e=parseInt(this.typedMonthPart,10);if(e>=1&&e<=12&&e.toString()===this.typedMonthPart)return this.monthNames[e-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""}matchDayPeriod(n,e){const t=n.toLowerCase();if("a"===e&&this.dayPeriods){if(this.dayPeriods.am.toLowerCase().startsWith(t))return this.dayPeriods.am;if(this.dayPeriods.pm.toLowerCase().startsWith(t))return this.dayPeriods.pm}return""}allFormattedMonths(n="en"){const e=this.intl.splitDateFormat(this.format,this.localeId);for(let t=0;t<e.length;t++)if("month"===e[t].type&&e[t].names)return this.intl.dateFormatNames(n,e[t].names);return[]}allDayPeriods(n="en"){const e=this.intl.splitDateFormat(this.format);for(let t=0;t<e.length;t++)if("dayperiod"===e[t].type&&e[t].names)return this.intl.dateFormatNames(n,e[t].names);return null}patternLength(n){return"y"===n[0]?4:Cst.test(n)?2:0}dateFormatString(n,e){const t=this.intl.splitDateFormat(e,this.localeId),o=[],r=[];for(let l=0;l<t.length;l++){let c=this.intl.formatDate(n,{pattern:t[l].pattern},this.localeId).length;for(;c>0;)o.push(this.symbols[t[l].pattern[0]]||"_"),r.push(t[l]),c--}const a=new ast;return a.symbols=o.join(""),a.partMap=r,a}merge(n,e){let t="",o="",r=e.symbols,a=!1,l=0;const c=this.getFormattedInvalidDates(r);for(let u=r.length-1;u>=0;u--){const f=this.getPartsForSegment(e,u);if(-1===this.knownParts.indexOf(r[u])||this.getExisting(r[u]))this.autoCorrectParts?t=n[u]+t:n.length!==r.length?a?t=n[u]+t:l>0?(t=n[u]+t,l--,l<=0&&(a=!0)):t=(n[u+n.length-r.length]||"")+t:t=n[u]+t,o=r[u]+o;else{const _=r[u];let S=0;if(this.autoCorrectParts||!this.autoCorrectParts&&!this.getInvalidDatePartValue(_)){for(;u>=0&&_===r[u];)u--;u++}if(this.leadingZero&&this.leadingZero[_])t="0"+t;else if(!this.autoCorrectParts&&this.getInvalidDatePartValue(_)){let v=this.getInvalidDatePartValue(_).toString();"M"===_?(v=(cR(this.getInvalidDatePartValue(_))+1).toString(),f.length>2?t=c[_][u]+t:(v=(cR(this.getInvalidDatePartValue(_))+1).toString(),t=QD(f.length-v.length)+v+t,S=f.length-1,l=v.length-f.length)):(t=QD(f.length-v.length)+v+t,S=f.length-1,l=v.length-f.length)}else t=this.dateFieldName(e.partMap[u])+t;for(;o.length<t.length;)o=r[u]+o;0!==S&&(u=u-S+(n.length-r.length))}}return{text:t,format:o}}dateFieldName(n){const e=this.formatPlaceholder||"wide";return e[n.type]?e[n.type]:"formatPattern"===e?n.pattern:this.intl.dateFieldName(Object.assign(n,{nameType:e}))}getNormalizedCenturyBase(n){return n>this.twoDigitYearMax?1900:2e3}shouldNormalizeCentury(){return this.intl.splitDateFormat(this.format).some(n=>"yy"===n.pattern)}resetInvalidDate(){this._partiallyInvalidDate.startDate=null,Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach(n=>{this.resetInvalidDatePart(n)})}resetInvalidDateSymbol(n){this.resetInvalidDatePart(n);let e=!0;Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach(t=>{this._partiallyInvalidDate.invalidDateParts[t]&&Ys(this._partiallyInvalidDate.invalidDateParts[t].value)&&(e=!1)}),e&&this.resetInvalidDate()}resetInvalidDatePart(n){this._partiallyInvalidDate.invalidDateParts[n]&&(this._partiallyInvalidDate.invalidDateParts[n]={value:null,date:null,startDateOffset:0})}getInvalidDatePart(n){return this._partiallyInvalidDate.invalidDateParts[n]||{}}getInvalidDatePartValue(n){return(this._partiallyInvalidDate.invalidDateParts[n]||{}).value}setInvalidDatePart(n,{value:e=null,date:t=null,startDateOffset:o=0,startDate:r=null}){this._partiallyInvalidDate.invalidDateParts[n]&&(this._partiallyInvalidDate.invalidDateParts[n].value=e,this._partiallyInvalidDate.invalidDateParts[n].date=t,this._partiallyInvalidDate.invalidDateParts[n].startDateOffset=o,this._partiallyInvalidDate.startDate=r)}hasInvalidDatePart(){let n=!1;return Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach(e=>{this._partiallyInvalidDate.invalidDateParts[e]&&Ys(this._partiallyInvalidDate.invalidDateParts[e].value)&&(n=!0)}),n}modifyDateSymbolWithOffset(n,e,t){let o=he(n),r=!1;switch(e){case"y":o.setFullYear(o.getFullYear()+t);break;case"M":o=So(this.value,t);break;case"d":case"E":o.setDate(o.getDate()+t);break;case"h":case"H":o.setHours(o.getHours()+t),r=!0;break;case"m":o.setMinutes(o.getMinutes()+t),r=!0;break;case"s":o.setSeconds(o.getSeconds()+t),r=!0;break;case"S":o.setMilliseconds(o.getMilliseconds()+t);break;case"a":o.setHours(o.getHours()+12*t),r=!0}return{date:o,timeModified:r}}modifyDateSymbolWithValue(n,e,t){let o=he(n);switch(e){case"y":o.setFullYear(t);break;case"M":o=So(n,t-n.getMonth());break;case"d":case"E":o.setDate(t);break;case"h":case"H":case"a":o.setHours(t);break;case"m":o.setMinutes(t);break;case"s":o.setSeconds(t);break;case"S":o.setMilliseconds(t)}return o}markDatePartsAsExisting(){this.modifyExisting(!0)}getPartsForSegment(n,e){const t=n.partMap[e],o=[];for(let r=e;r<n.partMap.length;r++){const a=n.partMap[r];if(t.type!==a.type||t.pattern!==a.pattern)break;o.push(a)}for(let r=e-1;r>=0;r--){const a=n.partMap[r];if(t.type!==a.type||t.pattern!==a.pattern)break;o.unshift(a)}return o}}const yst={events:{}};class Dst{constructor(n){this.options=Gs({},yst,n)}destroy(){}trigger(n,e={}){let t={defaultPrevented:!1,preventDefault:()=>{t.defaultPrevented=!0}};return!!(i=>"function"==typeof i)(this.options.events[n])&&(this.options.events[n](Gs(t,e,{sender:this})),t.defaultPrevented)}}var Xl=function(i){return i.None="none",i.Caret="caret",i.Selection="selection",i}(Xl||{});const F2e="touchstart",sU="input",oU="keydown",rU="focus",aU="blur",j2e="DOMMouseScroll",lU="mousewheel",$2e="valueChange",cU="change",vQ={format:"d",hasPlaceholder:!1,placeholder:null,cycleTime:!0,locale:null,steps:{millisecond:1,second:1,minute:1,hour:1,day:1,month:1,year:1},formatPlaceholder:null,events:{[$2e]:null,[sU]:null,inputEnd:null,[rU]:null,focusEnd:null,[aU]:null,blurEnd:null,[oU]:null,[lU]:null,[cU]:null},selectNearestSegmentOnFocus:!1,selectPreviousSegmentOnBackspace:!1,enableMouseWheel:!1,allowCaretMode:!1,autoSwitchParts:!0,autoSwitchKeys:[],twoDigitYearMax:68,autoCorrectParts:!0,autoFill:!1};class wst extends Dst{constructor(n,e){super(e),this.dateObject=null,this.currentText="",this.currentFormat="",this.interactionMode=Xl.None,this.previousElementSelection={start:0,end:0},this.init(n,e)}get value(){return this.dateObject&&this.dateObject.getValue()}init(n,e){let t=pS(this.options.value)?he(this.options.value):new Date(e.formattedValue);pS(t)||(t=null),this.element=n,this.options=Gs({},vQ,e,{steps:Object.assign({},vQ.steps,e.steps)}),this.intl=this.options.intlService,this.dateObject=this.createDateObject(),this.dateObject.setValue(t),this.setTextAndFormat(),this.bindEvents(),this.resetSegmentValue=!0,this.interactionMode=Xl.None,this.forceUpdate()}destroy(){this.unbindEvents(),this.dateObject=null,super.destroy()}bindEvents(){this.onElementDragStart=this.onElementDragStart.bind(this),this.element.addEventListener("dragStart",this.onElementDragStart),this.onElementDrop=this.onElementDrop.bind(this),this.element.addEventListener("drop",this.onElementDrop),this.onElementClick=this.onElementClick.bind(this),this.element.addEventListener("click",this.onElementClick),this.onElementMouseDown=this.onElementMouseDown.bind(this),this.element.addEventListener("mousedown",this.onElementMouseDown),this.element.addEventListener(F2e,this.onElementMouseDown),this.onElementMouseUp=this.onElementMouseUp.bind(this),this.element.addEventListener("mouseup",this.onElementMouseUp),this.onElementInput=this.onElementInput.bind(this),this.element.addEventListener(sU,this.onElementInput),this.onElementKeyDown=this.onElementKeyDown.bind(this),this.element.addEventListener(oU,this.onElementKeyDown),this.onElementFocus=this.onElementFocus.bind(this),this.element.addEventListener(rU,this.onElementFocus),this.onElementBlur=this.onElementBlur.bind(this),this.element.addEventListener(aU,this.onElementBlur),this.onElementChange=this.onElementChange.bind(this),this.element.addEventListener(cU,this.onElementChange),this.onElementPaste=this.onElementPaste.bind(this),this.element.addEventListener("paste",this.onElementPaste),this.onElementMouseWheel=this.onElementMouseWheel.bind(this),this.element.addEventListener(j2e,this.onElementMouseWheel),this.element.addEventListener(lU,this.onElementMouseWheel)}unbindEvents(){this.element.removeEventListener("dragStart",this.onElementDragStart),this.element.removeEventListener("drop",this.onElementDrop),this.element.removeEventListener(F2e,this.onElementMouseDown),this.element.removeEventListener("mousedown",this.onElementMouseDown),this.element.removeEventListener("mouseup",this.onElementMouseUp),this.element.removeEventListener("click",this.onElementClick),this.element.removeEventListener(sU,this.onElementInput),this.element.removeEventListener(oU,this.onElementKeyDown),this.element.removeEventListener(rU,this.onElementFocus),this.element.removeEventListener(aU,this.onElementBlur),this.element.removeEventListener(cU,this.onElementChange),this.element.removeEventListener("paste",this.onElementPaste),this.element.removeEventListener(j2e,this.onElementMouseWheel),this.element.removeEventListener(lU,this.onElementMouseWheel)}setOptions(n,e=!1){this.options=Gs({},this.options,n,{steps:Object.assign({},vQ.steps,n.steps)}),this.setDateObjectOptions(),e&&(this.unbindEvents(),this.init(this.element,this.options))}setDateObjectOptions(){if(this.dateObject){const n=this.getDateObjectOptions();this.dateObject.setOptions(n)}}resetLocale(){this.unbindEvents(),this.init(this.element,this.options)}isInCaretMode(){return this.interactionMode===Xl.Caret}focus(){this.element.focus(),this.options.selectNearestSegmentOnFocus&&this.selectNearestSegment(0)}onElementDragStart(n){n.preventDefault()}onElementDrop(n){n.preventDefault()}onElementMouseDown(){this.mouseDownStarted=!0,this.focusedPriorToMouseDown=this.isActive}onElementMouseUp(n){this.mouseDownStarted=!1,n.preventDefault()}onElementClick(n){this.mouseDownStarted=!1,this.switchedPartOnPreviousKeyAction=!1;const e=this.selection;if(this.isInCaretMode()&&this.forceUpdate(),3!==n.detail)if(this.isActive&&this.options.selectNearestSegmentOnFocus){const t=this.element.selectionStart!==this.element.selectionEnd,o=Ys(this.options.placeholder)&&!this.dateObject.hasValue()&&!this.focusedPriorToMouseDown,a=!t&&o?0:this.caret()[0];this.selectNearestSegment(a)}else this.setSelection(this.selectionByIndex(e.start))}onElementInput(n){if(this.triggerInput({event:n}),!this.element||!this.dateObject)return;const e=this.switchedPartOnPreviousKeyAction;if(this.isPasteInProgress)return this.options.allowCaretMode&&(this.resetSegmentValue=!1),this.updateOnPaste(n),void(this.isPasteInProgress=!1);const t=this.keyDownEvent||{},o=8===t.keyCode||"Backspace"===t.key,r=46===t.keyCode||"Delete"===t.key,a=this.interactionMode;this.options.allowCaretMode&&a!==Xl.Caret&&!r&&!o&&(this.resetSegmentValue=!0),this.interactionMode=this.options.allowCaretMode?Xl.Caret:Xl.Selection;const l=this.isInCaretMode();if(l&&" "===this.keyDownEvent.key)return void this.restorePreviousInputEventState();const c=this.dateObject&&this.dateObject.getValue(),u=this.dateObject?this.dateObject.value:null,{text:f,format:_}=this.dateObject.getTextAndFormat();this.currentFormat=_;let S="";S=l&&(o||r||a===Xl.Caret)?this.previousElementValue:f;let b=(({oldText:i,newText:n,formatPattern:e,selectionStart:t,isInCaretMode:o,keyEvent:r})=>{const a=t+i.length-n.length,l=i[a],c=i.substring(0,a),u=n.substring(0,t),f=[];if(c===u&&t>0)return f.push([e[t-1],u[t-1]]),f;if(0===c.indexOf(u)&&o&&("Delete"===r.key||"Backspace"===r.key)||0===c.indexOf(u)&&!o&&(0===u.length||e[u.length-1]!==e[u.length])){let S="";!o&&1===u.length&&f.push([e[0],u[0]]);for(let v=u.length;v<c.length;v++)e[v]!==S&&"_"!==e[v]&&(S=e[v],f.push([S,""]));return f}if(o&&(0===u.indexOf(c)||"_"===e[t-1])||!o&&(0===u.indexOf(c)||"_"===e[t-1])){let S=e[0];for(let v=Math.max(0,c.length-1);v<e.length;v++)if("_"!==e[v]){S=e[v];break}return[[S,u[t-1]]]}return" "===u[u.length-1]||u[u.length-1]===l&&"_"===e[a]?[[e[t-1],"_"]]:[[e[t-1],u[t-1]]]})({oldText:S,newText:this.elementValue,formatPattern:this.currentFormat,selectionStart:this.selection.start,isInCaretMode:l,keyEvent:this.keyDownEvent});if(b&&b.length&&b[0]&&"_"!==b[0][1]&&(this.switchedPartOnPreviousKeyAction=!1),l&&(!b||0===b.length))return void this.restorePreviousInputEventState();if(l&&1===b.length){if(!b[0]||!b[0][0])return void this.restorePreviousInputEventState();if(l&&b[0]&&("_"===b[0][0]||"_"===b[0][1]))return void this.restorePreviousInputEventState()}const D=1===b.length&&"_"===b[0][1],k=[];let O=!1,I=null;if(!D)for(let ue=0;ue<b.length;ue++){const ye=this.dateObject.parsePart({symbol:b[ue][0],currentChar:b[ue][1],resetSegmentValue:this.resetSegmentValue,cycleSegmentValue:!this.isInCaretMode(),rawTextValue:this.element.value,isDeleting:o||r,originalFormat:this.currentFormat});k.push(ye),ye.value||(I={type:"parse"}),O=ye.switchToNext}this.options.autoSwitchParts||(O=!1),this.resetSegmentValue=!1;const x=this.options.format===this.currentFormat||Ys(this.options.format)&&this.options.format.length>1,P=k[k.length-1],L=P&&!Ys(P.value),H=l&&(o||r)&&L,j=!!P&&P.resetPart,J=this.dateObject.getValue(),te=!Xi(c,J),ce=this.dateObject.value;let oe;const Le=this.selection;if(l){const ue=b&&b.length>0?b[0][0]:null;let ye=this.dateObject.getLeadingZero()[ue];b.length&&"_"!==b[0][0]?O?(this.forceUpdateWithSelection(),this.switchDateSegment(1)):j?(oe=this.currentFormat[Le.start],oe?(this.forceUpdate(),this.setSelection(this.selectionBySymbol(oe))):this.restorePreviousInputEventState()):H?(this.forceUpdate(),b.length&&"_"!==b[0][0]&&this.setSelection(this.selectionBySymbol(b[0][0]))):L?"0"===n.data&&ye||(Ys(c)&&!Ys(J)?this.restorePreviousInputEventState():!Ys(c)&&Ys(J)?this.forceUpdateWithSelection():Ys(c)&&Ys(J)?te?this.forceUpdateWithSelection():this.restorePreviousInputEventState():Ys(c)||Ys(J)?u!==ce||this.restorePreviousInputEventState():this.forceUpdateWithSelection()):L||x||this.forceUpdateWithSelection():!this.options.autoSwitchParts&&"_"===b[0][1]||this.setSelection(this.selectionBySymbol(b[0][0]))}else l||(this.forceUpdate(),b.length&&"_"!==b[0][0]&&this.setSelection(this.selectionBySymbol(b[0][0])),this.options.autoSwitchParts?D?(this.resetSegmentValue=!0,e||this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!0):O&&(this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!0):P&&P.switchToNext?this.resetSegmentValue=!0:D&&(this.resetSegmentValue=!0,e||this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!0),o&&this.options.selectPreviousSegmentOnBackspace&&this.switchDateSegment(-1));this.tryTriggerValueChange({oldValue:c,event:n}),this.triggerInputEnd({event:n,error:I}),l&&this.setTextAndFormat()}onElementFocus(n){this.triggerFocus({event:n})||(this.isActive=!0,this.interactionMode=Xl.None,this.switchedPartOnPreviousKeyAction=!1,this.refreshElementValue(),this.mouseDownStarted||this.caret(0,this.elementValue.length),this.mouseDownStarted=!1,this.triggerFocusEnd({event:n}))}onElementBlur(n){this.resetSegmentValue=!0,this.isActive=!1,!this.triggerBlur({event:n})&&(this.options.autoFill&&this.autoFill(),this.interactionMode=Xl.None,this.switchedPartOnPreviousKeyAction=!1,this.refreshElementValue(),this.triggerBlurEnd({event:n}))}onElementChange(n){this.triggerChange({event:n})}onElementKeyDown(n){if(this.triggerKeyDown({event:n}))return;const{start:e,end:t}=this.selection;if(this.keyDownEvent=n,this.previousElementValue=this.element.value,this.previousElementSelection={start:e,end:t},this.keyEventMatchesAutoSwitchKeys(n)){const l=9===n.keyCode;if(!l)return n.preventDefault(),void this.switchDateSegment(1);{const{start:c,end:u}=this.selection;if(this.switchDateSegment(n.shiftKey&&l?-1:1),c!==this.selection.start||u!==this.selection.end)return void n.preventDefault()}}const o=this.currentFormat[this.selection.start],r=this.getStepFromSymbol(o);let a=!1;if(!(n.altKey||n.ctrlKey||n.metaKey||9===n.keyCode)){switch(n.keyCode){case 37:this.switchDateSegment(-1),a=!0,this.switchedPartOnPreviousKeyAction=!1;break;case 38:this.modifyDateSegmentValue(r,o,event),a=!0,this.switchedPartOnPreviousKeyAction=!1;break;case 39:this.switchDateSegment(1),a=!0,this.switchedPartOnPreviousKeyAction=!1;break;case 40:this.modifyDateSegmentValue(-r,o,event),a=!0,this.switchedPartOnPreviousKeyAction=!1;break;case 13:break;case 36:this.selectNearestSegment(0),a=!0,this.switchedPartOnPreviousKeyAction=!1,this.resetSegmentValue=!0;break;case 35:this.selectNearestSegment(this.elementValue.length),a=!0,this.switchedPartOnPreviousKeyAction=!1,this.resetSegmentValue=!0;break;default:return}a&&n.preventDefault()}}onElementPaste(){this.isPasteInProgress=!0}onElementMouseWheel(n){if(!this.options.enableMouseWheel||this.triggerMouseWheel({event:n})||!this.isActive)return;const e=n;e.shiftKey?this.switchDateSegment((e.wheelDelta||-e.detail)>0?-1:1):this.modifyDateSegmentValue((e.wheelDelta||-e.detail)>0?1:-1),e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()}updateOnPaste(n){let e=this.intl.parseDate(this.elementValue,this.inputFormat)||this.value;Ys(e)&&this.dateObject.shouldNormalizeCentury()&&(e=this.dateObject.normalizeCentury(e));const t=this.dateObject&&this.dateObject.getValue();this.writeValue(e),this.tryTriggerValueChange({oldValue:t,event:n})}get elementValue(){return(this.element||{}).value||""}get inputFormat(){return this.options.format?"string"==typeof this.options.format?this.options.format:this.options.format.inputFormat:"d"}get displayFormat(){return this.options.format?"string"==typeof this.options.format?this.options.format:this.options.format.displayFormat:"d"}get selection(){let n={start:0,end:0};return null!==this.element&&void 0!==this.element.selectionStart&&(n={start:this.element.selectionStart,end:this.element.selectionEnd}),n}setSelection(n){this.element&&document.activeElement===this.element&&(this.element.setSelectionRange(n.start,n.end),n.start!==n.end&&(this.interactionMode=Xl.Selection))}selectionBySymbol(n){let e=-1,t=0;for(let o=0;o<this.currentFormat.length;o++)this.currentFormat[o]===n&&(t=o+1,-1===e&&(e=o));return e<0&&(e=0),!this.options.autoCorrectParts&&this.currentFormat.length!==this.currentText.length&&(this.currentFormat.length<this.currentText.length?t+=this.currentText.length-this.currentFormat.length:t=Math.max(0,t-(this.currentFormat.length-this.currentText.length))),{start:e,end:t}}selectionByIndex(n){let e={start:n,end:n};for(let t=n,o=n-1;t<this.currentFormat.length||o>=0;t++,o--){if(t<this.currentFormat.length&&"_"!==this.currentFormat[t]){e=this.selectionBySymbol(this.currentFormat[t]);break}if(o>=0&&"_"!==this.currentFormat[o]){e=this.selectionBySymbol(this.currentFormat[o]);break}}return e}switchDateSegment(n){const e=this.selection;if(this.isInCaretMode()){let c=e.start;const u=this.currentFormat[c-1];let f="",_="";if(n<0){for(let S=c+n;S>=0;S--)if(_=this.currentFormat[S],"_"!==_&&_!==u){c=S,f=_;break}}else for(let S=c+n;S<this.currentFormat.length;S++)if(_=this.currentFormat[S],"_"!==_&&_!==u){c=S,f=_;break}if(f)return this.forceUpdate(),this.setSelection(this.selectionBySymbol(f)),void(this.interactionMode=Xl.Selection)}this.interactionMode=Xl.None;let{start:t,end:o}=this.selection;if(t<o&&this.currentFormat[t]!==this.currentFormat[o-1])return this.setSelection(this.selectionByIndex(n>0?t:o-1)),this.resetSegmentValue=!0,void(this.interactionMode=Xl.None);const r=this.currentFormat[t];let a=t+n;for(;a>0&&a<this.currentFormat.length&&(this.currentFormat[a]===r||"_"===this.currentFormat[a]);)a+=n;if("_"===this.currentFormat[a])return;let l=a;for(;l>=0&&l<this.currentFormat.length&&this.currentFormat[l]===this.currentFormat[a];)l+=n;a>l&&(l+1!==t||a+1!==o)?(this.setSelection({start:l+1,end:a+1}),this.resetSegmentValue=!0):a<l&&(a!==t||l!==o)&&(this.setSelection({start:a,end:l}),this.resetSegmentValue=!0),this.interactionMode=Xl.None}modifyDateSegmentValue(n,e="",t={}){if(!this.dateObject||this.options.readonly)return;const o=this.value;let r=1;const a=this.caret();if("S"===(e=e||this.currentFormat[a[0]])&&(!this.options.steps.millisecond||1===this.options.steps.millisecond)){const l=(i=>{const n=i&&i.match(/S+(\1)/);return n?n[0].length:0})(this.inputFormat);r=(i=>Math.pow(10,3-i))(l)}this.dateObject.modifyPart(e,r*n),this.tryTriggerValueChange({oldValue:o,event:t}),this.forceUpdate(),this.setSelection(this.selectionBySymbol(e))}tryTriggerValueChange(n={oldValue:null,event:{}}){if(!Xi(this.value,n.oldValue))return this.triggerValueChange(n)}triggerValueChange(n={oldValue:null,event:{}}){return this.trigger($2e,Gs(n,{value:this.value}))}triggerInput(n={event:{}}){return this.trigger(sU,Gs(n,{value:this.value}))}triggerInputEnd(n={event:{},error:null}){return this.trigger("inputEnd",Gs(n,{value:this.value}))}triggerFocus(n={event:{}}){return this.trigger(rU,Gs({},n))}triggerFocusEnd(n={event:{}}){return this.trigger("focusEnd",Gs({},n))}triggerBlur(n={event:{}}){return this.trigger(aU,Gs({},n))}triggerBlurEnd(n={event:{}}){return this.trigger("blurEnd",Gs({},n))}triggerChange(n={event:{}}){return this.trigger(cU,Gs(n,{value:this.value}))}triggerKeyDown(n={event:{}}){return this.trigger(oU,Gs({},n))}triggerMouseWheel(n={event:{}}){return this.trigger(lU,Gs({},n))}forceUpdate(){this.setTextAndFormat(),this.refreshElementValue()}forceUpdateWithSelection(){const{start:n,end:e}=this.selection,t=this.elementValue.length;this.forceUpdate();const o=this.elementValue.length-t;this.setSelection({start:n+o,end:e+o})}setTextAndFormat(){const{text:n,format:e}=this.dateObject.getTextAndFormat();this.currentFormat=e,this.currentText=n}setElementValue(n){this.element.value=n}getStepFromSymbol(n){switch(n){case"S":return Number(this.options.steps.millisecond);case"s":return Number(this.options.steps.second);case"m":return Number(this.options.steps.minute);case"h":case"H":return Number(this.options.steps.hour);case"M":return Number(this.options.steps.month);case"d":case"E":return Number(this.options.steps.day);case"y":return Number(this.options.steps.year);default:return 1}}restorePreviousInputEventState(){this.restorePreviousElementValue(),this.restorePreviousElementSelection()}restorePreviousElementValue(){this.setElementValue(this.previousElementValue||"")}restorePreviousElementSelection(){const{start:n,end:e}=this.previousElementSelection;this.setSelection({start:n||0,end:e||0})}writeValue(n){this.verifyValue(n),this.dateObject=this.getDateObject(n),this.refreshElementValue()}verifyValue(n){if(n&&!pS(n))throw new Error("The 'value' should be a valid JavaScript Date instance.")}refreshElementValue(){const n=this.element,e=this.isActive?this.inputFormat:this.displayFormat,{text:t,format:o}=this.dateObject.getTextAndFormat(e);this.currentFormat=o,this.currentText=t;const r=this.options.hasPlaceholder||Ys(this.options.placeholder),a=!this.isActive&&r&&!this.dateObject.hasValue();r&&Ys(this.options.placeholder)&&(n.placeholder=this.options.placeholder);const l=a?"":t;this.previousElementValue=this.elementValue,this.setElementValue(l)}caret(n,e=n){const t=void 0!==n;let o=[n,n];const r=this.element;if(!t||!this.options.disabled&&!this.options.readonly){try{void 0!==r.selectionStart&&(t&&(!!document&&document.activeElement!==r&&r.focus(),r.setSelectionRange(n,e)),o=[r.selectionStart,r.selectionEnd])}catch{o=[]}return o}}selectNearestSegment(n){for(let e=n,t=n-1;e<this.currentFormat.length||t>=0;e++,t--){if(e<this.currentFormat.length&&"_"!==this.currentFormat[e])return void this.selectDateSegment(this.currentFormat[e]);if(t>=0&&"_"!==this.currentFormat[t])return void this.selectDateSegment(this.currentFormat[t])}}selectDateSegment(n){let e=-1,t=0;for(let o=0;o<this.currentFormat.length;o++)this.currentFormat[o]===n&&(t=o+1,-1===e&&(e=o));e<0&&(e=0),this.caret(0,0),this.caret(e,t)}getDateObject(n){const{leadingZero:e}=this.dateObject||{};this.options.value=n;const t=this.createDateObject();return t.setLeadingZero(this.isActive?e:null),t}createDateObject(){const n=this.getDateObjectOptions();return new Est(Gs({},n))}getDateObjectOptions(){return{intlService:this.options.intlService,formatPlaceholder:this.options.formatPlaceholder?this.options.formatPlaceholder:"formatPattern",format:this.inputFormat,cycleTime:this.options.cycleTime,twoDigitYearMax:this.options.twoDigitYearMax,autoCorrectParts:this.options.autoCorrectParts,value:this.options.value}}keyEventMatchesAutoSwitchKeys(n){const e=(this.options.autoSwitchKeys||[]).map(t=>t.toString().toLowerCase().trim());return e.indexOf(n.keyCode.toString())>=0||e.indexOf(n.keyCode)>=0||e.indexOf(n.key.toLowerCase().trim())>=0}autoFill(){let t,o,r,a,l,c,n=this.dateObject,e=new Date;(n.date||n.month||n.year||n.hours||n.minutes||n.seconds)&&(r=n.year?n.value.getFullYear():e.getFullYear(),o=n.month?n.value.getMonth():e.getMonth(),t=n.date?n.value.getDate():e.getDate(),a=n.hours?n.value.getHours():e.getHours(),l=n.minutes?n.value.getMinutes():e.getMinutes(),c=n.seconds?n.value.getSeconds():e.getSeconds(),n.setValue(new Date(r,o,t,a,l,c)),this.refreshElementValue(),this.triggerValueChange())}}const kst=["kendoCalendarView",""],f0=i=>({click:i}),Y2e=(i,n)=>({$implicit:i,cellContext:n});function Ost(i,n){1&i&&(s.j41(0,"td",3),s.EFF(1,"\xa0"),s.k0s())}function Tst(i,n){if(1&i&&(s.j41(0,"tr",4)(1,"th",5),s.EFF(2),s.k0s()()),2&i){const e=s.XpG();s.BMQ("aria-hidden",e.ariaHidden),s.R7$(),s.Y8G("colSpan",e.colSpan),s.R7$(),s.JRh(e.title)}}function Mst(i,n){if(1&i&&s.EFF(0),2&i){const e=s.XpG(3).$implicit,t=s.XpG();s.SpI(" ",t.getWeekNumber(t.firstDate(e))," ")}}function Ist(i,n){}function Rst(i,n){if(1&i&&(s.j41(0,"td",9),s.DNE(1,Mst,1,1,"ng-template",6)(2,Ist,0,0,"ng-template",10),s.k0s()),2&i){const e=s.XpG(2).$implicit,t=s.XpG();s.Y8G("kendoEventsOutsideAngular",s.eq3(5,f0,t.handleWeekNumberClick.bind(t,e))),s.R7$(),s.Y8G("ngIf",!t.weekNumberTemplateRef),s.R7$(),s.Y8G("ngIf",t.weekNumberTemplateRef)("ngTemplateOutlet",t.weekNumberTemplateRef)("ngTemplateOutletContext",s.l_i(7,Y2e,t.firstDate(e),t.getWeekNumberContext(e)))}}function Ast(i,n){if(1&i&&s.DNE(0,Rst,3,10,"td",8),2&i){const e=s.XpG().$implicit,t=s.XpG(),o=s.sdS(1);s.Y8G("ngIf",t.firstDate(e))("ngIfElse",o)}}function xst(i,n){if(1&i&&s.EFF(0),2&i){const e=s.XpG(2).$implicit;s.JRh(e.formattedValue)}}function Nst(i,n){}function Lst(i,n){if(1&i&&s.DNE(0,Nst,0,0,"ng-template",15),2&i){const e=s.XpG(2).$implicit,t=s.XpG(2);s.Y8G("ngTemplateOutlet",t.templateRef)("ngTemplateOutletContext",s.l_i(2,Y2e,e.value,e))}}function Pst(i,n){if(1&i&&(s.j41(0,"td",12)(1,"span",13),s.DNE(2,xst,1,1,"ng-template",6)(3,Lst,1,5,null,14),s.k0s()()),2&i){const e=s.XpG(),t=e.$implicit,o=e.index,r=s.XpG().index,a=s.XpG();s.Y8G("ngClass",a.getStyles(t))("title",t.title),s.BMQ("id",t.id)("data-cell-index",a.tableCellIndex(r,o))("aria-selected",t.isSelected||t.isRangeStart||t.isRangeMid||t.isRangeEnd)("aria-disabled",t.isDisabled)("aria-label",a.getMonthLabel(t.value)),s.R7$(2),s.Y8G("ngIf",!a.templateRef),s.R7$(),s.Y8G("ngIf",a.templateRef)}}function Gst(i,n){if(1&i&&(s.qex(0),s.DNE(1,Pst,4,9,"td",11),s.bVm()),2&i){const e=n.$implicit,t=s.XpG(2),o=s.sdS(1);s.R7$(),s.Y8G("ngIf",t.shouldRenderCellContent(e))("ngIfElse",o)}}function Ust(i,n){if(1&i&&(s.j41(0,"tr",4),s.DNE(1,Ast,1,2,"ng-template",6)(2,Gst,2,2,"ng-container",7),s.k0s()),2&i){const e=n.$implicit,t=s.XpG();s.R7$(),s.Y8G("ngIf",t.weekNumber),s.R7$(),s.Y8G("kForOf",e)}}const J2e=i=>({date:i,className:"k-pointer-events-none"}),Fst=i=>({date:i});function Bst(i,n){if(1&i&&(s.j41(0,"caption",7),s.EFF(1),s.k0s()),2&i){const e=s.XpG().date,t=s.XpG();s.Y8G("ngClass",t.getCaptionClass()),s.R7$(),s.JRh(t.getCaptionTitle(e))}}function Vst(i,n){if(1&i&&(s.j41(0,"th",11),s.EFF(1),s.k0s()),2&i){const e=n.$implicit,t=n.index,o=s.XpG(3);s.BMQ("aria-label",o.wideWeekNames[t]),s.R7$(),s.JRh(e)}}function zst(i,n){if(1&i&&(s.j41(0,"thead",8)(1,"tr",9),s.DNE(2,Vst,2,2,"th",10),s.k0s()()),2&i){const e=s.XpG(2);s.R7$(2),s.Y8G("ngForOf",e.weekNames)}}function Hst(i,n){if(1&i){const e=s.RV6();s.j41(0,"table",3),s.bIt("focus",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.handleClassicCalendarFocus())})("blur",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleClassicCalendarBlur(o))}),s.DNE(1,Bst,2,2,"caption",4)(2,zst,3,1,"thead",5),s.j41(3,"tbody",6),s.bIt("cellClick",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.cellClick.emit(o))})("weekNumberCellClick",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.weekNumberCellClick.emit(o))})("cellEnter",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.cellEnter.emit(o))})("cellLeave",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.cellLeave.emit(o))})("focusedCellId",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.focusedCellChange.emit(o))}),s.k0s()()}if(2&i){const e=n.date,t=n.className,o=s.XpG();s.Y8G("ngClass",t),s.BMQ("role",o.views>=2?"none":"grid")("aria-labelledby",o.id)("aria-activedescendant",o.getActiveDescendant)("tabindex",o.getTabIndex),s.R7$(),s.Y8G("ngIf",o.showViewHeader),s.R7$(),s.Y8G("ngIf",o.isMonthView()),s.R7$(),s.Y8G("showOtherMonthDays",o.showOtherMonthDays)("activeView",o.activeView)("isActive",o.isActive)("min",o.min)("max",o.max)("cellUID",o.cellUID)("focusedDate",o.focusedDate)("selectedDates",o.selectedDates)("selectionRange",o.selectionRange)("activeRangeEnd",o.activeRangeEnd)("weekNumber",o.weekNumber)("templateRef",o.cellTemplateRef)("weekNumberTemplateRef",o.weekNumberTemplateRef)("viewDate",e)}}function jst(i,n){}function $st(i,n){if(1&i&&s.DNE(0,jst,0,0,"ng-template",12),2&i){const e=s.XpG(),t=s.sdS(1);s.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",s.eq3(2,J2e,e.nextAnimationDate))}}function Xst(i,n){}function Wst(i,n){if(1&i&&s.DNE(0,Xst,0,0,"ng-template",12),2&i){const e=n.$implicit;s.XpG();const t=s.sdS(1);s.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",s.eq3(2,Fst,e))}}function Kst(i,n){}function Yst(i,n){if(1&i&&s.DNE(0,Kst,0,0,"ng-template",12),2&i){const e=s.XpG(),t=s.sdS(1);s.Y8G("ngTemplateOutlet",t)("ngTemplateOutletContext",s.eq3(2,J2e,e.prevAnimationDate))}}const q2e=(i,n,e)=>({$implicit:i,activeView:n,date:e});function Jst(i,n){if(1&i&&s.EFF(0),2&i){const e=s.XpG();s.JRh(e.title)}}function qst(i,n){}function Qst(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",8),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.prevButtonClick.emit())}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("svgIcon",e.chevronLeftIcon)("disabled",e.isPrevDisabled)("title",e.prevButtonTitle),s.BMQ("aria-disabled",e.isPrevDisabled)}}function Zst(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",9),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.nextButtonClick.emit())}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("svgIcon",e.chevronRightIcon)("disabled",e.isNextDisabled)("title",e.nextButtonTitle),s.BMQ("aria-disabled",e.isNextDisabled)}}function eot(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-calendar-header",3),s.bIt("todayButtonClick",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleTodayButtonClick({selectedDates:[o],focusedDate:o}))})("prevButtonClick",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.navigateView(o.prevView))})("nextButtonClick",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.navigateView(o.nextView))}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("activeView",e.activeViewEnum)("currentDate",e.activeDate)("min",e.min)("max",e.max)("id",e.headerId)("rangeLength",e.views)("templateRef",null==e.headerTitleTemplateRef?null:e.headerTitleTemplateRef.templateRef)("isPrevDisabled",e.isPrevDisabled)("isNextDisabled",e.isNextDisabled)("showNavigationButtons",!0)("orientation",e.orientation)}}const Q2e=["*"],Z2e=["list"];function tot(i,n){if(1&i&&s.EFF(0),2&i){const e=s.XpG().$implicit,t=s.XpG();s.JRh(t.service.navigationTitle(e))}}function not(i,n){}function iot(i,n){if(1&i&&(s.j41(0,"li")(1,"span"),s.DNE(2,tot,1,1,"ng-template",5)(3,not,0,0,"ng-template",6),s.k0s()()),2&i){const e=n.$implicit,t=n.index,o=s.XpG();s.BMQ("data-date-index",t),s.R7$(),s.AVh("k-calendar-navigation-marker",o.service.isRangeStart(e)),s.R7$(),s.Y8G("ngIf",!o.templateRef),s.R7$(),s.Y8G("ngIf",o.templateRef)("ngTemplateOutlet",o.templateRef)("ngTemplateOutletContext",s.sMw(7,q2e,o.service.navigationTitle(e),o.activeViewValue,e))}}function sot(i,n){if(1&i&&(s.j41(0,"th",11),s.EFF(1),s.k0s()),2&i){const e=n.$implicit,t=n.index,o=s.XpG(2);s.BMQ("aria-label",o.wideWeekNames[t]),s.R7$(),s.JRh(e)}}function oot(i,n){if(1&i&&(s.j41(0,"table",7)(1,"thead",8)(2,"tr",9),s.DNE(3,sot,2,2,"th",10),s.k0s()()()),2&i){const e=s.XpG();s.xc7("table-layout","auto"),s.R7$(3),s.Y8G("ngForOf",e.weekNames)}}function rot(i,n){1&i&&s.nrm(0,"col")}function aot(i,n){if(1&i){const e=s.RV6();s.j41(0,"tbody",12),s.bIt("cellClick",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.cellClick.emit(o))})("weekNumberCellClick",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.weekNumberCellClick.emit(o))})("focusedCellId",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.focusedCellChange.emit(o))}),s.k0s()}if(2&i){const e=n.$implicit,t=s.XpG();s.Y8G("showOtherMonthDays",t.showOtherMonthDays)("headerTitle",t.headerTitle)("activeView",t.activeView)("isActive",t.isActive)("min",t.min)("max",t.max)("cellUID",t.cellUID)("focusedDate",t.focusedDate)("selectedDates",t.selectedDates)("weekNumber",t.weekNumber)("templateRef",t.cellTemplateRef)("weekNumberTemplateRef",t.weekNumberTemplateRef)("viewDate",e)}}function lot(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-calendar-navigation",6),s.bIt("valueChange",function(o){s.eBV(e);const r=s.XpG(2);return s.Njj(r.handleNavigation(o))})("pageChange",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.onPageChange())}),s.k0s()}if(2&i){const e=s.XpG(2);s.Y8G("activeView",e.activeViewEnum)("focusedDate",e.focusedDate)("min",e.min)("max",e.max)("templateRef",null==e.navigationItemTemplateRef?null:e.navigationItemTemplateRef.templateRef)}}function cot(i,n){if(1&i){const e=s.RV6();s.qex(0),s.DNE(1,lot,1,5,"kendo-calendar-navigation",3),s.j41(2,"kendo-calendar-viewlist",4),s.bIt("todayButtonClick",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleDateChange({selectedDates:[o],focusedDate:o}))})("cellClick",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleCellClick(o))})("weekNumberCellClick",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleWeekNumberClick(o))})("activeDateChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleActiveDateChange(o))})("pageChange",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onPageChange())})("focusCalendar",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.handleFocus())})("blurCalendar",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleBlur(o))}),s.k0s(),s.j41(3,"kendo-resize-sensor",5),s.bIt("resize",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onResize())}),s.k0s(),s.bVm()}if(2&i){let e;const t=s.XpG();s.R7$(),s.Y8G("ngIf",t.navigation),s.R7$(),s.Y8G("activeView",t.activeViewEnum)("showOtherMonthDays",t.showOtherMonthDays)("isActive",t.isActive)("id",t.headerId)("cellTemplateRef",null==(e=t.activeCellTemplate())?null:e.templateRef)("headerTitleTemplateRef",null==t.headerTitleTemplateRef?null:t.headerTitleTemplateRef.templateRef)("weekNumberTemplateRef",null==t.weekNumberTemplateRef?null:t.weekNumberTemplateRef.templateRef)("cellUID",t.cellUID)("min",t.min)("max",t.max)("focusedDate",t.focusedDate)("weekNumber",t.weekNumber)("selectedDates",t.selectedDates)("tabIndex",t.tabIndex)("disabled",t.disabled)}}function dot(i,n){if(1&i){const e=s.RV6();s.qex(0),s.j41(1,"kendo-multiviewcalendar",7,0),s.bIt("activeViewChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleActiveViewChange(o))})("navigate",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleNavigate(o))})("valueChange",function(o){s.eBV(e);const r=s.sdS(2),a=s.XpG();return s.Njj(a.handleMultiViewCalendarValueChange(o,r.focusedDate))})("focusCalendar",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.handleFocus())})("blur",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleBlur(o))})("blurEvent",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleBlur(o))})("keydown",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleMultiViewCalendarKeydown(o))}),s.nrm(3,"kendo-multiviewcalendar-messages",8),s.k0s(),s.bVm()}if(2&i){const e=s.XpG();s.R7$(),s.Y8G("views",1)("min",e.min)("max",e.max)("id",e.id)("disabled",e.disabled)("isActive",e.isActive)("showOtherMonthDays",e.showOtherMonthDays)("tabIndex",e.tabIndex)("activeView",e.activeView)("bottomView",e.bottomView)("topView",e.topView)("weekNumber",e.weekNumber)("animateNavigation",e.animateNavigation)("cellTemplate",e.activeCellTemplate())("monthCellTemplate",e.monthCellTemplateRef)("yearCellTemplate",e.yearCellTemplateRef)("decadeCellTemplate",e.decadeCellTemplateRef)("centuryCellTemplate",e.centuryCellTemplateRef)("headerTitleTemplate",e.headerTitleTemplateRef)("weekNumberTemplate",e.weekNumberTemplateRef)("focusedDate",e.focusedDate)("selection",e.selection)("value",e.value)("disabledDates",e.disabledDates),s.R7$(2),s.Y8G("today",e.localization.get("today"))("prevButtonTitle",e.localization.get("prevButtonTitle"))("nextButtonTitle",e.localization.get("nextButtonTitle"))("parentViewButtonTitle",e.localization.get("parentViewButtonTitle"))}}const uot=["dateInput"],hot=["spinup"],pot=["spindown"],fot=(i,n)=>({dragstart:i,drop:n});function mot(i,n){if(1&i){const e=s.RV6();s.j41(0,"span",6),s.bIt("mousedown",function(o){return s.eBV(e),s.Njj(o.preventDefault())}),s.j41(1,"button",7,1),s.bIt("mousedown",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.arrowDirection=o.arrow.Up)})("mouseleave",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.arrowDirection=o.arrow.None)})("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.handleButtonClick(1))}),s.nrm(3,"kendo-icon-wrapper",8),s.k0s(),s.j41(4,"button",9,2),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.handleButtonClick(-1))})("mousedown",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.arrowDirection=o.arrow.Down)})("mouseleave",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.arrowDirection=o.arrow.None)}),s.nrm(6,"kendo-icon-wrapper",10),s.k0s()()}if(2&i){const e=s.XpG();s.R7$(),s.AVh("k-active",e.arrowDirection===e.arrow.Up),s.Y8G("title",e.localization.get("increment")),s.BMQ("aria-label",e.localization.get("increment")),s.R7$(2),s.Y8G("svgIcon",e.caretAltUpIcon),s.R7$(),s.AVh("k-active",e.arrowDirection===e.arrow.Down),s.Y8G("title",e.localization.get("decrement")),s.BMQ("aria-label",e.localization.get("decrement")),s.R7$(2),s.Y8G("svgIcon",e.caretAltDownIcon)}}const dU=["container"],CQ=["popupTemplate"],bQ=["toggleButton"],uU=["actionSheet"],eCe=(i,n)=>({click:i,mousedown:n}),tCe=i=>({keydown:i});function _ot(i,n){1&i&&s.eu8(0)}function got(i,n){if(1&i&&s.DNE(0,_ot,1,0,"ng-container",14),2&i){s.XpG();const e=s.sdS(15);s.Y8G("ngTemplateOutlet",e)}}function Sot(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-resize-sensor",15),s.bIt("resize",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onResize())}),s.k0s()}}function vot(i,n){1&i&&s.eu8(0)}function Cot(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",16)(1,"div",17)(2,"div",18)(3,"div",19),s.EFF(4),s.k0s(),s.j41(5,"div",20),s.EFF(6),s.k0s()(),s.j41(7,"div",21)(8,"button",22),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.show=!1)}),s.k0s()()()(),s.j41(9,"div",23),s.DNE(10,vot,1,0,"ng-container",14),s.k0s()}if(2&i){const e=s.XpG(),t=s.sdS(15);s.R7$(4),s.JRh(e.title),s.R7$(2),s.JRh(e.subtitle),s.R7$(2),s.Y8G("svgIcon",e.xIcon)("tabIndex",-1),s.BMQ("title",e.localization.get("clearTitle")),s.R7$(2),s.Y8G("ngTemplateOutlet",t)}}function bot(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-calendar",24,6),s.bIt("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleChange(r.mergeTime(o)))}),s.nrm(2,"kendo-calendar-messages",25),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("size",e.isAdaptive?"large":"medium")("type",e.calendarType)("min",e.min)("max",e.max)("navigation",e.navigation)("animateNavigation",e.animateCalendarNavigation)("activeView",e.activeView)("bottomView",e.bottomView)("showOtherMonthDays",e.showOtherMonthDays)("topView",e.topView)("weekNumber",e.weekNumber)("cellTemplate",e.cellTemplate)("monthCellTemplate",e.monthCellTemplate)("yearCellTemplate",e.yearCellTemplate)("decadeCellTemplate",e.decadeCellTemplate)("centuryCellTemplate",e.centuryCellTemplate)("weekNumberTemplate",e.weekNumberTemplate)("headerTitleTemplate",e.headerTitleTemplate)("navigationItemTemplate",e.navigationItemTemplate)("focusedDate",e.focusedDate)("value",e.value)("kendoEventsOutsideAngular",s.eq3(28,tCe,e.handleKeydown))("scope",e)("disabledDates",e.disabledDates),s.R7$(2),s.Y8G("today",e.localization.get("today"))("prevButtonTitle",e.localization.get("prevButtonTitle"))("nextButtonTitle",e.localization.get("nextButtonTitle"))("parentViewButtonTitle",e.localization.get("parentViewButtonTitle"))}}function Eot(i,n){if(1&i&&(s.j41(0,"li",3)(1,"span"),s.EFF(2),s.k0s()()),2&i){const e=n.$implicit,t=n.index,o=s.XpG();s.BMQ("data-timelist-item-index",t)("role","option")("aria-selected",t===o.currentSelectedIndex),s.R7$(2),s.JRh(e.text)}}const yot=["accept"],Dot=["cancel"],wot=["now"],kot=["listWrapper"],nCe=(i,n,e)=>({click:i,focus:n,blur:e}),Oot=(i,n)=>({focus:i,blur:n}),Tot=(i,n,e,t)=>({click:i,focus:n,blur:e,keydown:t});function Mot(i,n){if(1&i&&(s.j41(0,"button",12,0),s.EFF(2),s.k0s()),2&i){const e=s.XpG();s.Y8G("kendoEventsOutsideAngular",s.sMw(6,nCe,e.handleNow,e.handleFocus,e.handleBlur))("scope",e)("disabled",e.disabled),s.BMQ("title",e.localization.get("nowLabel"))("aria-label",e.localization.get("nowLabel")),s.R7$(2),s.JRh(e.localization.get("now"))}}function Iot(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",15,1)(2,"span",6),s.EFF(3),s.k0s(),s.j41(4,"kendo-timelist",16),s.mxI("valueChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.current,o)||(r.current=o),s.Njj(o)}),s.bIt("tabOutLastPart",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.tabOutLastPart.emit())}),s.k0s()()}if(2&i){const e=s.XpG(),t=e.$implicit,o=e.index,r=s.XpG();s.R7$(3),s.JRh(r.intl.dateFieldName(t)),s.R7$(),s.Y8G("isLast",o===r.dateFormatParts.length-1)("min",r.min)("max",r.max)("part",t)("step",r.partStep(t))("disabled",r.disabled),s.R50("value",r.current),s.Y8G("kendoEventsOutsideAngular",s.l_i(11,Oot,r.handleListFocus,r.handleBlur))("scope",r),s.BMQ("data-timelist-index",o)}}function Rot(i,n){if(1&i&&(s.j41(0,"div",17),s.EFF(1),s.k0s()),2&i){const e=s.XpG().$implicit;s.R7$(),s.SpI(" ",e.pattern," ")}}function Aot(i,n){if(1&i&&s.DNE(0,Iot,5,14,"div",13)(1,Rot,2,1,"div",14),2&i){const e=n.$implicit;s.Y8G("ngIf","literal"!==e.type),s.R7$(),s.Y8G("ngIf","literal"===e.type)}}function xot(i,n){if(1&i&&(s.j41(0,"button",21,2),s.EFF(2),s.k0s()),2&i){const e=s.XpG(2);s.Y8G("kendoEventsOutsideAngular",s.ziG(6,Tot,e.handleAccept,e.handleFocus,e.handleBlur,e.handleTabOut))("scope",e)("disabled",e.disabled),s.BMQ("title",e.localization.get("acceptLabel"))("aria-label",e.localization.get("acceptLabel")),s.R7$(2),s.JRh(e.localization.get("accept"))}}function Not(i,n){if(1&i&&(s.j41(0,"button",22,3),s.EFF(2),s.k0s()),2&i){const e=s.XpG(2);s.Y8G("kendoEventsOutsideAngular",s.sMw(6,nCe,e.handleReject,e.handleFocus,e.handleBlur))("scope",e)("disabled",e.disabled),s.BMQ("title",e.localization.get("cancelLabel"))("aria-label",e.localization.get("cancelLabel")),s.R7$(2),s.JRh(e.localization.get("cancel"))}}function Lot(i,n){if(1&i&&(s.j41(0,"div",18),s.DNE(1,xot,3,11,"button",19)(2,Not,3,10,"button",20),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngIf",e.setButton),s.R7$(),s.Y8G("ngIf",e.cancelButton)}}const Hot=(i,n)=>({mousedown:i,click:n}),jot=(i,n)=>({mousedown:i,keydown:n}),iCe=(i,n)=>({focusin:i,focusout:n}),$ot=(i,n)=>({click:i,"keydown.shift.tab":n}),Xot=i=>({transitionend:i}),Wot=i=>({"k-calendar-lg":i}),Kot=i=>({"k-timeselector-lg":i}),sCe=(i,n)=>({click:i,"keydown.tab":n});function Yot(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",15),2&i){const e=s.XpG();s.Y8G("svgIcon",e.calendarIcon)}}function Jot(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",16),2&i){const e=s.XpG();s.Y8G("svgIcon",e.clockIcon)}}function qot(i,n){1&i&&s.eu8(0)}function Qot(i,n){if(1&i&&s.DNE(0,qot,1,0,"ng-container",17),2&i){s.XpG();const e=s.sdS(15);s.Y8G("ngTemplateOutlet",e)}}function Zot(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-resize-sensor",18),s.bIt("resize",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onResize())}),s.k0s()}}function ert(i,n){1&i&&s.eu8(0)}function trt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22),s.EFF(4),s.k0s(),s.j41(5,"div",23),s.EFF(6),s.k0s()(),s.j41(7,"div",24)(8,"button",25),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.toggleDateTime(!1))}),s.k0s()()()(),s.j41(9,"div",26),s.DNE(10,ert,1,0,"ng-container",17),s.k0s(),s.j41(11,"div",27)(12,"button",28),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.handleCancel())}),s.EFF(13),s.k0s(),s.j41(14,"button",29),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.handleAccept())}),s.EFF(15),s.k0s()()}if(2&i){const e=s.XpG(),t=s.sdS(15);s.R7$(4),s.JRh(e.title),s.R7$(2),s.JRh(e.subtitle),s.R7$(2),s.Y8G("svgIcon",e.xIcon)("tabIndex",-1),s.BMQ("title",e.localization.get("clearTitle")),s.R7$(2),s.Y8G("ngTemplateOutlet",t),s.R7$(2),s.BMQ("title",e.localization.get("cancelLabel"))("aria-label",e.localization.get("cancelLabel")),s.R7$(),s.SpI(" ",e.localization.get("cancel")," "),s.R7$(),s.BMQ("title",e.localization.get("acceptLabel"))("aria-label",e.localization.get("acceptLabel")),s.R7$(),s.SpI(" ",e.localization.get("accept")," ")}}function nrt(i,n){if(1&i&&(s.j41(0,"button",46),s.EFF(1),s.k0s()),2&i){const e=s.XpG(3);s.Y8G("ngClass",e.popupButtonsClasses())("kendoEventsOutsideAngular",s.l_i(6,sCe,e.handleCancel,e.handleTab))("scope",e),s.BMQ("title",e.localization.get("cancelLabel"))("aria-label",e.localization.get("cancelLabel")),s.R7$(),s.SpI(" ",e.localization.get("cancel")," ")}}function irt(i,n){if(1&i&&(s.j41(0,"div",43)(1,"button",44),s.EFF(2),s.k0s(),s.DNE(3,nrt,2,9,"button",45),s.k0s()),2&i){const e=s.XpG(2);s.Y8G("kendoEventsOutsideAngular",s.l_i(10,iCe,e.handleFocus,e.handleBlur))("scope",e),s.R7$(),s.Y8G("ngClass",e.popupButtonsClasses("primary"))("disabled",!e.calendarValue)("kendoEventsOutsideAngular",s.l_i(13,sCe,e.handleAccept,e.handleTab))("scope",e),s.BMQ("title",e.localization.get("acceptLabel"))("aria-label",e.localization.get("acceptLabel")),s.R7$(),s.SpI(" ",e.localization.get("accept")," "),s.R7$(),s.Y8G("ngIf",e.cancelButton)}}function srt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",30)(1,"div",31)(2,"div",32)(3,"button",33),s.EFF(4),s.k0s(),s.j41(5,"button",34),s.EFF(6),s.k0s()()(),s.j41(7,"div",35,5)(9,"div",36)(10,"kendo-calendar",37,6),s.mxI("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.calendarValue,o)||(r.calendarValue=o),s.Njj(o)}),s.bIt("valueChange",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.handleCalendarValueChange())}),s.nrm(12,"kendo-calendar-messages",38),s.k0s()(),s.j41(13,"div",39)(14,"kendo-timeselector",40),s.bIt("tabOutLastPart",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onTabOutLastPart())}),s.nrm(15,"kendo-timeselector-messages",41),s.k0s()()(),s.DNE(16,irt,4,16,"div",42),s.k0s()}if(2&i){const e=s.sdS(8),t=s.XpG();s.ZvI("k-datetime-wrap k-",t.activeTab,"-tab"),s.Y8G("kendoEventsOutsideAngular",s.l_i(73,jot,t.preventMouseDown,t.handleKeyDown))("scope",t),s.R7$(),s.Y8G("kendoEventsOutsideAngular",s.l_i(76,iCe,t.handleFocus,t.handleBlur))("scope",t),s.R7$(2),s.AVh("k-active","date"===t.activeTab),s.Y8G("ngClass",t.popupButtonsClasses())("kendoEventsOutsideAngular",s.l_i(79,$ot,t.changeActiveTab.bind(t,"date"),t.handleTab))("scope",t),s.BMQ("aria-pressed","date"===t.activeTab?"true":"false")("title",t.localization.get("dateTabLabel"))("aria-label",t.localization.get("dateTabLabel")),s.R7$(),s.SpI(" ",t.localization.get("dateTab")," "),s.R7$(),s.AVh("k-active","time"===t.activeTab),s.Y8G("ngClass",t.popupButtonsClasses())("kendoEventsOutsideAngular",s.eq3(82,f0,t.changeActiveTab.bind(t,"time"))),s.BMQ("aria-pressed","time"===t.activeTab?"true":"false")("title",t.localization.get("timeTabLabel"))("aria-label",t.localization.get("timeTabLabel")),s.R7$(),s.SpI(" ",t.localization.get("timeTab")," "),s.R7$(),s.xc7("transition",t.tabSwitchTransition),s.Y8G("kendoEventsOutsideAngular",s.eq3(84,Xot,t.handleTabChangeTransitionEnd.bind(t,e))),s.R7$(3),s.Y8G("ngClass",s.eq3(86,Wot,t.isAdaptive))("focusedDate",t.focusedDate),s.R50("value",t.calendarValue),s.Y8G("type",t.calendarType)("min",t.calendarMin)("max",t.calendarMax)("weekNumber",t.weekNumber)("navigation",!1)("animateNavigation",t.animateCalendarNavigation)("showOtherMonthDays",t.showOtherMonthDays)("cellTemplate",t.cellTemplate)("monthCellTemplate",t.monthCellTemplate)("yearCellTemplate",t.yearCellTemplate)("decadeCellTemplate",t.decadeCellTemplate)("centuryCellTemplate",t.centuryCellTemplate)("weekNumberTemplate",t.weekNumberTemplate)("headerTitleTemplate",t.headerTitleTemplate)("disabled",t.disableCalendar)("disabledDates",t.disabledDates),s.R7$(2),s.Y8G("today",t.localization.get("today"))("prevButtonTitle",t.localization.get("prevButtonTitle"))("nextButtonTitle",t.localization.get("nextButtonTitle"))("parentViewButtonTitle",t.localization.get("parentViewButtonTitle")),s.R7$(2),s.Y8G("ngClass",s.eq3(88,Kot,t.isAdaptive))("value",t.value)("format",t.timeSelectorFormat)("min",t.timeSelectorMin)("max",t.timeSelectorMax)("setButton",!1)("cancelButton",!1)("steps",t.steps)("disabled",t.disableTimeSelector)("isAdaptiveEnabled",t.isAdaptiveModeEnabled)("isDateTimePicker",!0),s.R7$(),s.Y8G("acceptLabel",t.localization.get("acceptLabel"))("accept",t.localization.get("accept"))("cancelLabel",t.localization.get("cancelLabel"))("cancel",t.localization.get("cancel"))("nowLabel",t.localization.get("nowLabel"))("now",t.localization.get("now"))("hour",t.localization.get("hour"))("minute",t.localization.get("minute"))("second",t.localization.get("second"))("millisecond",t.localization.get("millisecond"))("dayperiod",t.localization.get("dayperiod")),s.R7$(),s.Y8G("ngIf",!t.isAdaptive)}}const ew={name:"@progress/kendo-angular-dateinputs",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925295,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};var mn=function(i){return i[i.Left=0]="Left",i[i.Right=1]="Right",i[i.Up=2]="Up",i[i.Down=3]="Down",i[i.PrevView=4]="PrevView",i[i.NextView=5]="NextView",i[i.FirstInView=6]="FirstInView",i[i.LastInView=7]="LastInView",i[i.LowerView=8]="LowerView",i[i.UpperView=9]="UpperView",i}(mn||{});const Wl={start:null,end:null},mf=new Date(1980,0,1),Ru=new Date(1900,0,1),Au=new Date(2099,11,31),tw=new Date(1980,0,1),m0=new Date(1980,0,1,23,59,59),hU=i=>i&&(!i.touched||i.control&&"blur"===i.control.updateOn),drt=i=>i.preventDefault(),EQ=i=>i.relatedTarget||document.activeElement,Nt=i=>null!=i,oCe=i=>i.shiftKey&&(i.keyCode===dR.ArrowRight||i.keyCode===dR.ArrowLeft||i.keyCode===dR.ArrowDown||i.keyCode===dR.ArrowUp);var dR=function(i){return i[i.ArrowDown=40]="ArrowDown",i[i.ArrowLeft=37]="ArrowLeft",i[i.ArrowRight=39]="ArrowRight",i[i.ArrowUp=38]="ArrowUp",i}(dR||{});const rCe=i=>null!=i,uR=i=>(n,e)=>{const t=he(n);return t[i](e),t},b_=(i,n)=>{const e=he(i);return e.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e},aCe=i=>i.getHours()*nR+6e4*i.getMinutes()+1e3*i.getSeconds()+i.getMilliseconds(),lCe=(i,n,e)=>({candidateValue:b_(mf,i),maxValue:_s(b_(mf,e),aCe(n)<aCe(e)?0:1),minValue:b_(mf,n)}),pU=(uR("setFullYear"),uR("setHours")),fU=uR("setMinutes"),mU=uR("setSeconds"),_U=uR("setMilliseconds"),ll=(i,n,e=1)=>{const t=[];for(let o=i;o<n;o+=e)t.push(o);return t},nw=(i,n,e)=>!i||!(n&&n>i||e&&e<i),DQ=(i,n)=>!rCe(i)||!rCe(n)||i<=n,E_=(i,n,e)=>i&&(n&&i<n?he(n):e&&i>e?he(e):i),wQ=()=>new Date,kd=()=>En(new Date),Xt=i=>{},gU=()=>typeof window<"u",dCe=(i,n)=>i.slice(n).concat(i.slice(0,n)),Od=i=>(n,e="",t={})=>{const o=document.createElement(i);return o.className=e,Object.keys(t).map(r=>o.style[r]=t[r]),"string"==typeof n?o.innerHTML=n||"":(n||[]).forEach(r=>r&&o.appendChild(r)),o},y_=(i,n)=>void 0!==i[n],uCe=(i,n)=>i[n]&&null!=i[n].currentValue,fS=(i=[])=>i&&i[i.length-1],SU=(i,n)=>{const{start:e,end:t}=n||Wl;return!(!e||!t)&&e<i&&i<t},CU=(i,n)=>(i=i||[]).length===(n=n||[]).length&&i.every((e,t)=>Xi(e,n[t])),pCe=i=>i.filter(n=>Nt(n)).sort((n,e)=>n.getTime()-e.getTime()),OQ=(i,n)=>i&&n?new Date(i.getFullYear(),i.getMonth(),i.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()):null,fCe=i=>i?new Date(i.getFullYear(),i.getMonth(),i.getDate(),23,59,59,999):null,Js=(i,n)=>({small:`k-${i}-sm`,medium:`k-${i}-md`,large:`k-${i}-lg`}[n]),Td=i=>({small:"k-rounded-sm",medium:"k-rounded-md",large:"k-rounded-lg",full:"k-rounded-full"}[i]),dr=(i,n)=>({solid:`k-${i}-solid`,flat:`k-${i}-flat`,outline:`k-${i}-outline`}[n]),mS="medium",_f="medium",_S="solid",cl=()=>{if(ne())return window.innerWidth>768?"large":window.innerWidth>500?"medium":"small"},Srt=[[]],Ert={[mn.Left]:i=>Iu(i,-1),[mn.Up]:i=>Iu(i,(i=>{const n=Number(i.toString().slice(-2,-1));return n<2?-2:n<4?-6:-4})(i.getFullYear())),[mn.Right]:i=>Iu(i,1),[mn.Down]:i=>Iu(i,(i=>{const n=Number(i.toString().slice(-2,-1));return n>7?2:n>5?6:4})(i.getFullYear())),[mn.PrevView]:i=>sR(i,-1),[mn.NextView]:i=>sR(i,1),[mn.FirstInView]:i=>u0(i),[mn.LastInView]:i=>nU(i)};let MQ=(()=>{class i{constructor(){this.dateRange=(e,t)=>{if(!Nt(e)||!Nt(t))return[];const o=[];let r=e;for(;r<=t;)o.push(r),r=Iu(r,1);return o}}addToDate(e,t){return sR(e,t)}datesList(e,t){return ll(0,t).map(o=>sR(e,o))}data(e){const{cellUID:t,focusedDate:o,isActiveView:r,max:a,min:l,selectedDates:c,selectionRange:u=Wl,viewDate:f}=e;if(!f)return Srt;const _=ll(0,4),S=u0(f),v=nU(f),b=kd();return ll(0,3).map(D=>{const k=Iu(S,4*D);return _.map(O=>{const I=this.normalize(Iu(k,O),l,a),x=I.getFullYear()>v.getFullYear();if(!this.isInRange(I,l,a)||x)return null;const P=this.isEqual(I,u.start),L=this.isEqual(I,u.end),j=!P&&!L&&SU(I,u);return{formattedValue:this.value(I),id:`${t}${I.getTime()}`,isFocused:this.isEqual(I,o),isSelected:r&&c.some(J=>this.isEqual(I,J)),isWeekend:!1,isRangeStart:P,isRangeMid:j,isRangeEnd:L,isRangeSplitEnd:j&&this.isEqual(I,v),isRangeSplitStart:j&&this.isEqual(I,S),isToday:this.isEqual(I,b),title:this.cellTitle(I),value:I}})})}isEqual(e,t){return!(!e||!t)&&$l(e).getFullYear()===$l(t).getFullYear()}isInArray(e,t){if(!t.length)return!1;const o=e.getFullYear();return t[0].getFullYear()<=o&&o<=t[t.length-1].getFullYear()+99}isInRange(e,t,o){const r=$l(e).getFullYear(),a=!t||$l(t).getFullYear()<=r,l=!o||r<=$l(o).getFullYear();return a&&l}beginningOfPeriod(e){if(!e)return e;const t=$l(u0(e));return rl(t.getFullYear(),0,1)}lastDayOfPeriod(e){const t=nU(e),o=oR(t),r=rR(o);return Nh(r)}isRangeStart(e){return e.getFullYear()%1e3==0}move(e,t){const o=Ert[t];return o?o(e):e}cellTitle(e){return $l(e).getFullYear().toString()}navigationTitle(e){return e?u0(e).getFullYear().toString():""}title(e){return e?`${u0(e).getFullYear()} - ${nU(e).getFullYear()}`:""}rowLength(){return 4}skip(e,t){return w2e(t,e)}total(e,t){return w2e(e,t)+1}value(e){return e?$l(e).getFullYear().toString():""}viewDate(e,t,o=1){const r=this.total(e,t);return r<o?sR(e,-1*(o-r)):e}normalize(e,t,o){return e<t&&this.isEqual(e,t)?he(t):e>o&&this.isEqual(e,o)?he(o):e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const yrt=[[]],Ort={[mn.Left]:i=>al(i,-1),[mn.Up]:i=>al(i,(i=>{const n=Number(i.toString().slice(-1));return n<2?-2:n<4?-6:-4})(i.getFullYear())),[mn.Right]:i=>al(i,1),[mn.Down]:i=>al(i,(i=>{const n=Number(i.toString().slice(-1));return n>7?2:n>5?6:4})(i.getFullYear())),[mn.PrevView]:i=>Iu(i,-1),[mn.NextView]:i=>Iu(i,1),[mn.FirstInView]:i=>$l(i),[mn.LastInView]:i=>oR(i)};let RQ=(()=>{class i{constructor(){this.dateRange=(e,t)=>{if(!Nt(e)||!Nt(t))return[];const o=[];let r=e;for(;r<=t;)o.push(r),r=al(r,1);return o}}addToDate(e,t){return Iu(e,t)}datesList(e,t){return ll(0,t).map(o=>Iu(e,o))}data(e){const{cellUID:t,focusedDate:o,isActiveView:r,max:a,min:l,selectedDates:c,selectionRange:u=Wl,viewDate:f}=e;if(!f)return yrt;const _=ll(0,4),S=$l(f),v=oR(f),b=kd();return ll(0,3).map(D=>{const k=al(S,4*D);return _.map(O=>{const I=this.normalize(al(k,O),l,a),x=I.getFullYear()>v.getFullYear();if(!this.isInRange(I,l,a)||x)return null;const P=this.isEqual(I,u.start),L=this.isEqual(I,u.end),j=!P&&!L&&SU(I,u);return{formattedValue:this.value(I),id:`${t}${I.getTime()}`,isFocused:this.isEqual(I,o),isSelected:r&&c.some(J=>this.isEqual(I,J)),isWeekend:!1,isRangeStart:P,isRangeMid:j,isRangeEnd:L,isRangeSplitEnd:j&&this.isEqual(I,v),isRangeSplitStart:j&&this.isEqual(I,S),isToday:this.isEqual(I,b),title:this.cellTitle(I),value:I}})})}isEqual(e,t){return!(!e||!t)&&e.getFullYear()===t.getFullYear()}isInArray(e,t){if(!t.length)return!1;const o=e.getFullYear();return t[0].getFullYear()<=o&&o<=t[t.length-1].getFullYear()+9}isInRange(e,t,o){const r=e.getFullYear(),a=!t||t.getFullYear()<=r,l=!o||r<=o.getFullYear();return a&&l}beginningOfPeriod(e){if(!e)return e;const t=$l(e);return rl(t.getFullYear(),0,1)}lastDayOfPeriod(e){const t=oR(e),o=rR(t);return Nh(o)}isRangeStart(e){return e.getFullYear()%100==0}move(e,t){const o=Ort[t];return o?o(e):e}cellTitle(e){return e.getFullYear().toString()}navigationTitle(e){return e?$l(e).getFullYear().toString():""}title(e){return e?`${$l(e).getFullYear()} - ${oR(e).getFullYear()}`:""}rowLength(){return 4}skip(e,t){return k2e(t,e)}total(e,t){return k2e(e,t)+1}value(e){return e?e.getFullYear().toString():""}viewDate(e,t,o=1){const r=this.total(e,t);return r<o?Iu(e,-1*(o-r)):e}normalize(e,t,o){return e<t&&this.isEqual(e,t)?he(t):e>o&&this.isEqual(e,o)?he(o):e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const Trt=[[]],Irt={[mn.Left]:i=>_s(i,-1),[mn.Up]:i=>O2e(i,-1),[mn.Right]:i=>_s(i,1),[mn.Down]:i=>O2e(i,1),[mn.PrevView]:i=>So(i,-1),[mn.NextView]:i=>So(i,1),[mn.FirstInView]:i=>h0(i),[mn.LastInView]:i=>Nh(i)};let xQ=(()=>{class i{constructor(e){this._intlService=e,this.dateRange=(t,o)=>{if(!Nt(t)||!Nt(o))return[];const r=[];let a=t;for(;a<=o;)r.push(a),a=_s(a,1);return r}}addToDate(e,t){return So(e,t)}datesList(e,t){return ll(0,t).map(o=>So(e,o))}data(e){const{cellUID:t,focusedDate:o,isActiveView:r,max:a,min:l,selectedDates:c,selectionRange:u=Wl,viewDate:f,isDateDisabled:_=(()=>!1)}=e;if(!f)return Trt;const S=h0(f),v=En(S),b=Nh(f),D=En(b),O=T2e(S,this._intlService.firstDay(),-1),I=ll(0,7),x=kd();return ll(0,6).map(P=>{const L=_s(O,7*P);return I.map(H=>{const j=this.normalize(_s(L,H),l,a),J=En(j),te=J<v||J>D;if(j<l||j>a)return null;const oe=this.isEqual(j,u.start),Le=this.isEqual(j,u.end),ye=!oe&&!Le&&SU(j,u);return{formattedValue:this.value(j),id:`${t}${te?j.getTime()+"1":j.getTime()}`,isFocused:this.isEqual(j,o),isSelected:r&&c.some(ie=>this.isEqual(j,ie)),isWeekend:this.isWeekend(j),isRangeStart:oe,isRangeMid:ye,isRangeEnd:Le,isRangeSplitStart:ye&&this.isEqual(j,S),isRangeSplitEnd:ye&&this.isEqual(j,b),isToday:this.isEqual(j,x),title:this.cellTitle(j),value:j,isDisabled:_(j),isOtherMonth:te}})})}isEqual(e,t){return!(!e||!t)&&En(e).getTime()===En(t).getTime()}isInArray(e,t){if(0===t.length)return!1;const o=this.beginningOfPeriod(t[0]),r=this.beginningOfPeriod(So(t[t.length-1],1));return o<=e&&e<r}isInRange(e,t,o){const r=En(e),a=!t||En(t)<=r,l=!o||r<=En(o);return a&&l}beginningOfPeriod(e){return e&&rl(e.getFullYear(),e.getMonth(),1)}lastDayOfPeriod(e){return Nh(e)}isRangeStart(e){return!e.getMonth()}move(e,t){const o=Irt[t];return o?o(e):e}cellTitle(e){return this._intlService.formatDate(e,"D")}navigationTitle(e){return e?this.isRangeStart(e)?e.getFullYear().toString():this.abbrMonthNames()[e.getMonth()]:""}title(e){return`${this.wideMonthNames()[e.getMonth()]} ${e.getFullYear()}`}rowLength(e={}){return 7+(e.prependCell?1:0)}skip(e,t){return M2e(t,e)}total(e,t){return M2e(e,t)+1}value(e){return e?e.getDate().toString():""}viewDate(e,t,o=1){const r=this.total(e,t);return r<o?So(e,-1*(o-r)):e}isWeekend(e){const{start:t,end:o}=this._intlService.weekendRange(),r=e.getDay();return o<t?r<=o||t<=r:t<=r&&r<=o}abbrMonthNames(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(e,t,o){return e<t&&this.isEqual(e,t)?he(t):e>o&&this.isEqual(e,o)?he(o):e}wideMonthNames(){return this._intlService.dateFormatNames({nameType:"wide",type:"months"})}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(xt.Bs))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const Rrt=[[]],xrt={[mn.Left]:i=>So(i,-1),[mn.Up]:i=>So(i,-4),[mn.Right]:i=>So(i,1),[mn.Down]:i=>So(i,4),[mn.PrevView]:i=>al(i,-1),[mn.NextView]:i=>al(i,1),[mn.FirstInView]:i=>I2e(i),[mn.LastInView]:i=>rR(i)};let LQ=(()=>{class i{constructor(e){this._intlService=e,this.dateRange=(t,o)=>{if(!Nt(t)||!Nt(o))return[];const r=[];let a=t;for(;a<=o;)r.push(a),a=So(a,1);return r}}addToDate(e,t){return al(e,t)}datesList(e,t){return ll(0,t).map(o=>al(e,o))}data(e){const{cellUID:t,focusedDate:o,isActiveView:r,max:a,min:l,selectedDates:c,selectionRange:u=Wl,viewDate:f}=e;if(!f)return Rrt;const _=this.abbrMonthNames(),S=I2e(f),v=rR(f),b=S.getFullYear(),D=ll(0,4),k=kd();return ll(0,3).map(O=>{const I=So(S,4*O);return D.map(x=>{const P=this.normalize(So(I,x),l,a),L=b<P.getFullYear();if(!this.isInRange(P,l,a)||L)return null;const H=this.isEqual(P,u.start),j=this.isEqual(P,u.end),te=!H&&!j&&SU(P,u);return{formattedValue:_[P.getMonth()],id:`${t}${P.getTime()}`,isFocused:this.isEqual(P,o),isSelected:r&&c.some(ce=>this.isEqual(P,ce)),isWeekend:!1,isRangeStart:H,isRangeMid:te,isRangeEnd:j,isRangeSplitEnd:te&&this.isEqual(P,v),isRangeSplitStart:te&&this.isEqual(P,S),isToday:this.isEqual(P,k),title:this.cellTitle(P),value:P}})})}isEqual(e,t){return!(!e||!t)&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}isInArray(e,t){if(!t.length)return!1;const o=e.getFullYear();return t[0].getFullYear()<=o&&o<=t[t.length-1].getFullYear()}isInRange(e,t,o){const r=rl(e.getFullYear(),e.getMonth(),1),a=!t||rl(t.getFullYear(),t.getMonth(),1)<=r,l=!o||r<=rl(o.getFullYear(),o.getMonth(),1);return a&&l}beginningOfPeriod(e){return e&&rl(e.getFullYear(),0,1)}lastDayOfPeriod(e){const t=rR(e);return Nh(t)}isRangeStart(e){return e.getFullYear()%10==0}move(e,t){const o=xrt[t];return o?o(e):e}cellTitle(e){return`${e.getFullYear()} ${this.value(e)}`}navigationTitle(e){return this.title(e)}title(e){return e?e.getFullYear().toString():""}rowLength(){return 4}skip(e,t){return R2e(t,e)}total(e,t){return R2e(e,t)+1}value(e){return e?this.abbrMonthNames()[e.getMonth()]:""}viewDate(e,t,o=1){const r=this.total(e,t);return r<o?al(e,-1*(o-r)):e}abbrMonthNames(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(e,t,o){return e<t&&this.isEqual(e,t)?he(t):e>o&&this.isEqual(e,o)?he(o):e}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(xt.Bs))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();var Et=function(i){return i[i.month=0]="month",i[i.year=1]="year",i[i.decade=2]="decade",i[i.century=3]="century",i}(Et||{});const Nrt={[Et.month]:xQ,[Et.year]:LQ,[Et.decade]:RQ,[Et.century]:MQ};let Prt=0,Md=(()=>{class i{constructor(e){this.injector=e,this.viewChanged=new s.bkB,this.bottom=Et.month,this.top=Et.century,this.calendarId=Prt++}configure(e,t){this.bottom=e,this.top=t}service(e){const t=Nrt[e];return t?this.injector.get(t):null}moveDown(e){this.move(e,-1)}moveUp(e){this.move(e,1)}moveToBottom(e){e!==this.bottom&&this.viewChanged.emit({view:this.bottom})}canMoveDown(e){return this.bottom<e}canMoveUp(e){return e<this.top}clamp(e){return e<this.bottom?this.bottom:e>this.top?this.top:e}move(e,t){const o=this.clamp(((i,n)=>{const e=Et[Et[i+n]];return void 0!==e?e:i})(e,t));o!==e&&this.viewChanged.emit({view:o})}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(s.zZn))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),PQ=(()=>{class i{constructor(e){this.intl=e}getWeekNames(e=!1,t){const o=dCe(this.intl.dateFormatNames({nameType:t,type:"days"}),this.intl.firstDay());return e?[""].concat(o):o}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(xt.Bs))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const mCe=()=>!1;let gf=(()=>{class i{constructor(){this.changes=new Ke.B,this.isDateDisabled=mCe}initialize(e){if("function"==typeof e)this.isDateDisabled=t=>e(En(t));else if((i=>Array.isArray(i)&&i.length>0&&i.every(n=>"number"==typeof n))(e)){const t=new Set(e);this.isDateDisabled=o=>t.has(o.getDay())}else if((i=>Array.isArray(i)&&i.length>0&&i.every(n=>n instanceof Date))(e)){const t=new Set(e.map(o=>En(o).getTime()));this.isDateDisabled=o=>t.has(En(o).getTime())}else this.isDateDisabled=mCe,this.notifyInvalidInput(e);this.notifyServiceChange()}notifyInvalidInput(e){if(Nt(e)&&(0,s.naY)())throw new Error("The 'disabledDates' value should be a function, a Day array or a Date array. Check https://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/disabled-dates/ for more information.")}notifyServiceChange(){this.changes.next()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const GQ=(i,n,e)=>{for(;i&&i!==e&&!n(i);)i=i.parentNode;if(i!==e)return i},UQ=(i,n)=>{for(;i&&!n(i);)i=i.parentNode;return i};class Urt{constructor(n,e,t,o){this.$implicit=n,this.kForOf=e,this.index=t,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bU=(()=>{class i{constructor(e,t,o){this._viewContainer=e,this._template=t,this._differs=o,this._differ=null}set kForTemplate(e){e&&(this._template=e)}ngOnChanges(e){if("kForOf"in e){const t=e.kForOf.currentValue;if(this._differ||!t)return;try{this._differ=this._differs.find(t).create(this.kForTrackBy)}catch{throw new Error(`Cannot find a differ supporting object '${t}' of type '${function Frt(i){return i.name||typeof i}(t)}'.`)}}}ngDoCheck(){if(this._differ){const e=this._differ.diff(this.kForOf);e&&this._applyChanges(e)}}_applyChanges(e){if(!ne())return;const t=this._viewContainer.length,o=this.kForOf.length,r={};e.forEachOperation((a,l,c)=>{null!==c&&(r[c]=a.item)});for(let a=t;a<o;a++)this._viewContainer.createEmbeddedView(this._template,new Urt(null,this.kForOf,-1,-1),a);for(let a=this._viewContainer.length;a>o;a--)this._viewContainer.remove(a-1);for(let a=0;a<this._viewContainer.length;a++){const l=this._viewContainer.get(a);l.context.index=a,l.context.count=length,l.context.$implicit=r[a]||null}}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.c1b),s.rXU(s.C4Q),s.rXU(s._q3))},i.\u0275dir=s.FsC({type:i,selectors:[["","kFor","","kForOf",""]],inputs:{kForOf:"kForOf",kForTrackBy:"kForTrackBy",kForTemplate:"kForTemplate"},features:[s.OA$]}),i})(),_Ce=(()=>{class i{constructor(e,t,o,r,a,l,c){this.bus=e,this.intl=t,this.cdr=o,this.element=r,this.zone=a,this.renderer=l,this.disabledDatesService=c,this.direction="vertical",this.isActive=!0,this.selectedDates=[],this.cellClick=new s.bkB,this.weekNumberCellClick=new s.bkB,this.cellEnter=new s.bkB,this.cellLeave=new s.bkB,this.focusedCellId=new s.bkB,this.colSpan=0,this.subscriptions=new be.yU,this.domEvents=[],this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.subscriptions.add(this.disabledDatesService.changes.subscribe(this.disabledDatesChange.bind(this)))}get weekNumber(){return this.showWeekNumbers&&this.activeView===Et.month}set weekNumber(e){this.showWeekNumbers=e}get ariaHidden(){return this.headerTitle!==this.title||null}ngOnInit(){this.element&&this.zone.runOutsideAngular(()=>{this.bindEvents()})}ngOnChanges(e){this.service=this.bus.service(this.activeView),this.service&&(this.colSpan=this.service.rowLength({prependCell:this.weekNumber}),this.title=this.service.title(this.viewDate),this.updateData(),e.activeView&&(this.currentCellIndex=null))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.domEvents.forEach(e=>e())}isHorizontal(){return"horizontal"===this.direction}isMonthView(){return this.activeView===Et.month}shouldRenderCellContent(e){return Nt(e)&&(!e.isOtherMonth||e.isOtherMonth&&this.showOtherMonthDays)}firstDate(e){const t=this.firstWeekDateContext(e);return t?t.value:null}getWeekNumber(e){return this.weekNumber?A2e(e,this.intl.firstDay()):null}getWeekNumberContext(e){const t=this.firstWeekDateContext(e);if(!this.weekNumber||!t)return null;const o=A2e(t.value,this.intl.firstDay()).toString();return{formattedValue:o,id:null,isFocused:!1,isSelected:!1,isWeekend:!1,title:o,value:he(t.value)}}getStyles(e){!e.isOtherMonth&&this.isActive&&e.isFocused&&this.focusedCellId.emit(e.id);const{isRangeEnd:t,isRangeStart:o}=e;return(i=>Object.keys(i).reduce((e,t)=>i[t]?e.concat(t):e,[]).join(" "))({"k-range-end":!e.isOtherMonth&&t,"k-range-mid":!e.isOtherMonth&&e.isRangeMid,"k-range-split-end":!e.isOtherMonth&&e.isRangeSplitEnd,"k-range-split-start":!e.isOtherMonth&&e.isRangeSplitStart,"k-range-start":!e.isOtherMonth&&o,"k-active":"start"===this.activeRangeEnd&&o||"end"===this.activeRangeEnd&&t,"k-focus":!e.isOtherMonth&&this.isActive&&e.isFocused,"k-selected":!e.isOtherMonth&&(e.isSelected||o||t),"k-today":!e.isOtherMonth&&e.isToday,"k-weekend":e.isWeekend,"k-disabled":e.isDisabled,"k-other-month":e.isOtherMonth})}tableCellIndex(e,t){return`${e}:${t}`}handleWeekNumberClick(e){const t=e.map(o=>o.value).filter(o=>!this.disabledDatesService.isDateDisabled(o));this.weekNumberCellClick.emit(t)}getMonthLabel(e){return 1===this.activeView?this.intl.formatDate(e,"MMMM"):null}firstWeekDateContext(e){if(!this.weekNumber)return null;let t=0,o=this.shouldRenderCellContent(e[t])?e[t]:null;for(;!o&&t<e.length;){const r=e[++t];o=this.shouldRenderCellContent(r)?r:null}return o}updateData(){const e=fS(this.selectedDates)||kd(),t=b_(this.viewDate,e);this.data=this.service.data({cellUID:this.cellUID,focusedDate:this.focusedDate,isActiveView:!this.bus.canMoveDown(this.activeView),max:this.max,min:this.min,selectedDates:this.selectedDates,selectionRange:this.selectionRange,viewDate:t,isDateDisabled:this.disabledDatesService.isDateDisabled,direction:this.direction})}intlChange(){this.updateData(),this.cdr.markForCheck()}disabledDatesChange(){this.updateData(),this.cdr.markForCheck()}bindEvents(){const e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"mouseover",this.cellMouseoverHandler.bind(this)),this.renderer.listen(e,"mouseleave",this.mouseLeaveHandler.bind(this)),this.renderer.listen(e,"click",this.clickHandler.bind(this)))}clickHandler(e){const t=this.closestCell(e);if(!t)return;const o=t.getAttribute("data-cell-index"),r=this.cellByIndex(o);if(!r.isDisabled){const{ctrlKey:a,metaKey:l,shiftKey:c}=e;this.cellClick.emit({date:r.value,modifiers:{ctrlKey:a,metaKey:l,shiftKey:c}})}}mouseLeaveHandler(){this.currentCellIndex&&this.emitCellLeave()}cellMouseoverHandler(e){const t=this.closestCell(e);if(t){const o=t.getAttribute("data-cell-index");this.currentCellIndex&&this.currentCellIndex!==o&&this.emitCellLeave();const r=this.cellByIndex(o).value;this.cellEnter.emit(r),this.currentCellIndex=o}else this.currentCellIndex&&this.emitCellLeave()}closestCell(e){return GQ(e.target,t=>t.hasAttribute("data-cell-index"),this.element.nativeElement)}emitCellLeave(){const e=this.cellByIndex(this.currentCellIndex);e&&this.cellLeave.emit(e.value),this.currentCellIndex=null}cellByIndex(e){const[t,o]=e.split(":");return this.data[t][o]}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Md),s.rXU(xt.Bs),s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi),s.rXU(s.sFG),s.rXU(gf))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoCalendarView",""]],inputs:{showOtherMonthDays:"showOtherMonthDays",direction:"direction",isActive:"isActive",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate",viewDate:"viewDate",activeRangeEnd:"activeRangeEnd",selectionRange:"selectionRange",min:"min",max:"max",selectedDates:"selectedDates",weekNumber:"weekNumber",viewIndex:"viewIndex",templateRef:"templateRef",weekNumberTemplateRef:"weekNumberTemplateRef",headerTitle:"headerTitle"},outputs:{cellClick:"cellClick",weekNumberCellClick:"weekNumberCellClick",cellEnter:"cellEnter",cellLeave:"cellLeave",focusedCellId:"focusedCellId"},features:[s.OA$],attrs:kst,decls:4,vars:2,consts:[["emptyCell",""],["class","k-calendar-tr","role","row",4,"ngIf"],["class","k-calendar-tr","role","row",4,"kFor","kForOf"],["role","gridcell",1,"k-empty","k-calendar-td"],["role","row",1,"k-calendar-tr"],["scope","col",1,"k-calendar-caption",3,"colSpan"],[3,"ngIf"],[4,"kFor","kForOf"],["class","k-alt k-calendar-td","role","gridcell",3,"kendoEventsOutsideAngular",4,"ngIf","ngIfElse"],["role","gridcell",1,"k-alt","k-calendar-td",3,"kendoEventsOutsideAngular"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],["class","k-calendar-td","role","gridcell",3,"ngClass","title",4,"ngIf","ngIfElse"],["role","gridcell",1,"k-calendar-td",3,"ngClass","title"],[1,"k-link"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&s.DNE(0,Ost,2,0,"ng-template",null,0,s.C5r)(2,Tst,3,3,"tr",1)(3,Ust,3,2,"tr",2),2&e&&(s.R7$(2),s.Y8G("ngIf",!t.isHorizontal()),s.R7$(),s.Y8G("kForOf",t.data))},dependencies:[q,bU,xo,qe,Be],encapsulation:2}),i})(),SCe=(()=>{class i{constructor(e,t,o,r,a,l){this.bus=e,this.intl=t,this.weekService=o,this.cdr=r,this.element=a,this.renderer=l,this.showOtherMonthDays=!0,this.activeView=Et.month,this.isActive=!0,this.min=new Date(Ru),this.max=new Date(Au),this.selectedDates=[],this.views=2,this.showViewHeader=!1,this.animateNavigation=!1,this.orientation="horizontal",this.tabIndex=0,this.disabled=!1,this.cellClick=new s.bkB,this.weekNumberCellClick=new s.bkB,this.cellEnter=new s.bkB,this.cellLeave=new s.bkB,this.activeDateChange=new s.bkB,this.focusCalendar=new s.bkB,this.blurCalendar=new s.bkB,this.focusedCellChange=new s.bkB,this.getComponentClass=!0,this.weekNames=[],this.wideWeekNames=[],this.dates=[],this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}handleMultiViewCalendarFocus(){this.focusCalendar.emit()}handleMultiViewCalendarBlur(e){this.blurCalendar.emit(e)}get weekNumber(){return this.showWeekNumbers&&this.isMonthView()}set weekNumber(e){this.showWeekNumbers=e}get horizontalHostClass(){return"horizontal"===this.orientation}get verticalHostClass(){return"vertical"===this.orientation}get getComponentMonthClass(){return this.activeView===Et.month}get getComponentYearClass(){return this.activeView===Et.year}get getComponentDecadeClass(){return this.activeView===Et.decade}get getComponentCenturyClass(){return this.activeView===Et.century}get role(){return this.views>=2?"grid":null}get tabindex(){return this.views>=2?"0":null}get getActiveDescendant(){return 1===this.views?this.activeDescendant:null}get getTabIndex(){return this.disabled||this.views>=2?null:this.tabIndex}ngOnChanges(e){if(this.initService(),(0===this.weekNames.length||e.weekNumber)&&(this.weekNames=this.getWeekNames("short"),this.wideWeekNames=this.getWeekNames("wide")),!this.service)return;this.views=this.views||2;const t=this.focusedDate,o=this.clampDate(this.service.viewDate(t,this.max,this.views));this.skip=this.service.skip(o,this.min),this.total=this.service.total(this.min,this.max);const r=y_(e,"activeView"),a=this.views>0&&y_(e,"views");(r||!this.isInDates(t)||a||!this.activeDate)&&(this.dates=this.service.datesList(o,this.getTake(this.skip)),this.activeDate=he(this.dates[0]),this.activeDateChange.emit(this.activeDate)),this.setAriaActivedescendant(),this.views>=2&&this.renderer.setAttribute(this.element.nativeElement,"tabindex",this.tabIndex.toString())}ngAfterViewInit(){1===this.views&&this.setTableMinWidth()}ngOnDestroy(){this.intlSubscription.unsubscribe()}initService(){this.service=this.bus.service(this.activeView)}isMonthView(){return this.activeView===Et.month}getCaptionTitle(e){return this.service.title(e)}getCaptionClass(){return this.isMonthView()?"k-month-header":"k-meta-header"}handleClassicCalendarFocus(){this.focusCalendar.emit()}handleClassicCalendarBlur(e){this.blurCalendar.emit(e)}animateView(e){const t=this.element.nativeElement,o=t.querySelector("table"),r=parseFloat(getComputedStyle(t).width),a=parseFloat(getComputedStyle(o).width);this.renderer.setStyle(t,"width",`${r}px`),this.renderer.setStyle(t,"overflow","visible"),e===mn.NextView?this.nextAnimationDate=he(this.dates[0]):this.prevAnimationDate=he(this.dates[this.dates.length-1]),this.cdr.detectChanges(),t.querySelectorAll("table").forEach(_=>{this.renderer.setStyle(_,"width",`${a}px`),1===this.views&&this.renderer.setStyle(_,"min-width",`${r}px`)});const l=o.getBoundingClientRect(),c=parseFloat(getComputedStyle(t).columnGap),u=e===mn.NextView?"translateX(0)":`translateX(-${l.width+c}px)`,f=e===mn.NextView?`translateX(-${l.width+c}px)`:"translateX(0)";this.animation?this.animation.cancel():(this.animation=t.animate([{transform:u},{transform:f}],{duration:500,easing:"ease-out"}),this.animation.oncancel=this.animation.onfinish=()=>{this.renderer.removeStyle(t,"width"),this.renderer.removeStyle(t,"overflow"),t.querySelectorAll("table").forEach(_=>{this.renderer.removeStyle(_,"width")}),this.animation=null,this.nextAnimationDate=null,this.prevAnimationDate=null,this.cdr.detectChanges()})}navigate(e){this.animateNavigation&&ne()&&Nt(this.element.nativeElement.animate)&&this.animateView(e);const t=this.move(e),o=this.service.datesList(t,this.getTake(this.skip));return this.isListInRange(o)&&(this.dates=o),this.activeDate=he(this.dates[0]),this.focusedDate=he(t),this.cdr.markForCheck(),this.activeDateChange.emit(this.activeDate),he(t)}canNavigate(e){return!!this.service&&this.isListInRange(this.service.datesList(this.move(e),this.getTake(this.skip)))}getWeekNames(e){return this.weekService.getWeekNames(this.weekNumber,e)}setTableMinWidth(){const e=this.element.nativeElement,t=e.querySelector("table");if(t){const o=parseFloat(getComputedStyle(e).width);this.renderer.setStyle(t,"min-width",`${o}px`)}}intlChange(){this.weekNames=this.getWeekNames("short"),this.wideWeekNames=this.getWeekNames("wide"),this.cdr.markForCheck()}clampDate(e){return E_(e,this.min,this.max)}move(e){return this.service.move(this.dates[0]||this.focusedDate,e)}isListInRange(e){const t=this.service.beginningOfPeriod(this.min),o=this.service.beginningOfPeriod(this.service.addToDate(this.max,1));return t<=e[0]&&e[e.length-1]<o}isInDates(e){return this.service.isInArray(e,this.dates)}getTake(e){return Math.min(this.total-e,this.views)}setAriaActivedescendant(){this.views>=2&&this.renderer.setAttribute(this.element.nativeElement,"aria-activedescendant",this.activeDescendant)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Md),s.rXU(xt.Bs),s.rXU(PQ),s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.sFG))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-calendar-horizontal"]],hostVars:20,hostBindings:function(e,t){1&e&&s.bIt("focus",function(){return t.handleMultiViewCalendarFocus()})("blur",function(r){return t.handleMultiViewCalendarBlur(r)}),2&e&&(s.BMQ("role",t.role)("tabindex",t.tabindex),s.AVh("k-calendar-view",t.getComponentClass)("k-align-items-start",t.getComponentClass)("k-justify-content-center",t.getComponentClass)("k-hstack",t.horizontalHostClass)("k-vstack",t.verticalHostClass)("k-calendar-monthview",t.getComponentMonthClass)("k-calendar-yearview",t.getComponentYearClass)("k-calendar-decadeview",t.getComponentDecadeClass)("k-calendar-centuryview",t.getComponentCenturyClass))},inputs:{showOtherMonthDays:"showOtherMonthDays",cellTemplateRef:"cellTemplateRef",weekNumberTemplateRef:"weekNumberTemplateRef",activeRangeEnd:"activeRangeEnd",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate",isActive:"isActive",min:"min",max:"max",selectionRange:"selectionRange",selectedDates:"selectedDates",views:"views",showViewHeader:"showViewHeader",animateNavigation:"animateNavigation",orientation:"orientation",activeDescendant:"activeDescendant",tabIndex:"tabIndex",disabled:"disabled",id:"id",weekNumber:"weekNumber"},outputs:{cellClick:"cellClick",weekNumberCellClick:"weekNumberCellClick",cellEnter:"cellEnter",cellLeave:"cellLeave",activeDateChange:"activeDateChange",focusCalendar:"focusCalendar",blurCalendar:"blurCalendar",focusedCellChange:"focusedCellChange"},features:[s.OA$],decls:5,vars:3,consts:[["tableTemplate",""],[4,"ngIf"],[4,"kFor","kForOf"],[1,"k-content","k-calendar-table",3,"focus","blur","ngClass"],[3,"ngClass",4,"ngIf"],["class","k-calendar-thead","role","rowgroup",4,"ngIf"],["kendoCalendarView","","role","rowgroup","direction","horizontal",1,"k-calendar-tbody",3,"cellClick","weekNumberCellClick","cellEnter","cellLeave","focusedCellId","showOtherMonthDays","activeView","isActive","min","max","cellUID","focusedDate","selectedDates","selectionRange","activeRangeEnd","weekNumber","templateRef","weekNumberTemplateRef","viewDate"],[3,"ngClass"],["role","rowgroup",1,"k-calendar-thead"],["role","row",1,"k-calendar-tr"],["class","k-calendar-th","scope","col","role","columnheader",4,"ngFor","ngForOf"],["scope","col","role","columnheader",1,"k-calendar-th"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&s.DNE(0,Hst,4,21,"ng-template",null,0,s.C5r)(2,$st,1,4,null,1)(3,Wst,1,4,null,2)(4,Yst,1,4,null,1),2&e&&(s.R7$(2),s.Y8G("ngIf",t.nextAnimationDate),s.R7$(),s.Y8G("kForOf",t.dates),s.R7$(),s.Y8G("ngIf",t.prevAnimationDate))},dependencies:[_Ce,Be,q,ut,qe,bU],encapsulation:2,changeDetection:0}),i})(),EU=(()=>{class i{constructor(e,t,o,r,a){this.bus=e,this.cdr=t,this.localization=o,this.intl=r,this.disabledDatesService=a,this.chevronRightIcon=eP,this.chevronLeftIcon=x3,this.navigate=!0,this.todayAvailable=!0,this.min=new Date(Ru),this.max=new Date(Au),this.rangeLength=1,this.isPrevDisabled=!0,this.isNextDisabled=!0,this.showNavigationButtons=!1,this.orientation="horizontal",this.todayButtonClick=new s.bkB,this.prevButtonClick=new s.bkB,this.nextButtonClick=new s.bkB,this.getComponentClass=!0,this.subscriptions=new be.yU}get horizontalHostClass(){return"horizontal"===this.orientation}get verticalHostClass(){return"vertical"===this.orientation}ngOnInit(){this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.subscriptions.add(this.localization.changes.subscribe(this.l10nChange.bind(this))),this.subscriptions.add(this.disabledDatesService.changes.subscribe(this.setTodayAvailability.bind(this)))}ngOnChanges(e){this.bus.service(this.activeView)&&(this.activeViewValue=Et[this.activeView],this.todayMessage=this.localization.get("today"),this.parentViewButtonTitle=this.localization.get("parentViewButtonTitle"),this.setTodayAvailability(),this.navigate=this.bus.canMoveUp(this.activeView),this.title=this.getTitle())}ngOnDestroy(){this.subscriptions.unsubscribe()}handleTodayClick(){this.todayAvailable&&(this.bus.moveToBottom(this.activeView),this.todayButtonClick.emit(E_(kd(),this.min,this.max)))}handleNavigation(){this.navigate&&this.bus.moveUp(this.activeView)}isDisabled(){return this.navigate?null:""}intlChange(){this.currentDate&&this.bus.service(this.activeView)&&(this.title=this.getTitle(),this.cdr.markForCheck())}l10nChange(){this.prevButtonTitle=this.localization.get("prevButtonTitle"),this.nextButtonTitle=this.localization.get("nextButtonTitle"),this.parentViewButtonTitle=this.localization.get("parentViewButtonTitle"),this.todayMessage=this.localization.get("today"),this.cdr.markForCheck()}getTitle(){if(!this.currentDate)return"";const e=this.bus.service(this.activeView),t=this.rangeLength-1,o=e.title(this.currentDate),r=e.addToDate(this.currentDate,t);return t<1||!e.isInRange(r,this.min,this.max)?o:`${o} - ${e.title(r)}`}setTodayAvailability(){const e=kd(),t=nw(e,En(this.min),En(this.max)),o=this.disabledDatesService.isDateDisabled(e);this.todayAvailable=t&&!o,this.cdr.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Md),s.rXU(s.gRc),s.rXU(z),s.rXU(xt.Bs),s.rXU(gf))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-calendar-header"]],hostVars:6,hostBindings:function(e,t){2&e&&s.AVh("k-calendar-header",t.getComponentClass)("k-hstack",t.horizontalHostClass)("k-vstack",t.verticalHostClass)},inputs:{activeView:"activeView",currentDate:"currentDate",min:"min",max:"max",rangeLength:"rangeLength",templateRef:"templateRef",isPrevDisabled:"isPrevDisabled",isNextDisabled:"isNextDisabled",showNavigationButtons:"showNavigationButtons",orientation:"orientation",id:"id"},outputs:{todayButtonClick:"todayButtonClick",prevButtonClick:"prevButtonClick",nextButtonClick:"nextButtonClick"},features:[s.OA$],decls:9,vars:26,consts:[["role","button","tabindex","-1",1,"k-button","k-nav-fast","k-button-md","k-rounded-md","k-button-flat","k-button-flat-base","k-calendar-title",3,"id","kendoEventsOutsideAngular","title","scope"],[3,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-spacer"],[1,"k-calendar-nav","k-hstack"],["kendoButton","","fillMode","flat","icon","chevron-left","tabindex","-1","type","button","class","k-calendar-nav-prev",3,"svgIcon","disabled","title","click",4,"ngIf"],["tabindex","-1","type","button",1,"k-calendar-nav-today","k-button","k-button-md","k-button-flat","k-button-flat-primary","k-rounded-md",3,"kendoEventsOutsideAngular","scope"],["kendoButton","","fillMode","flat","icon","chevron-right","class","k-calendar-nav-next","tabindex","-1","type","button",3,"svgIcon","disabled","title","click",4,"ngIf"],["kendoButton","","fillMode","flat","icon","chevron-left","tabindex","-1","type","button",1,"k-calendar-nav-prev",3,"click","svgIcon","disabled","title"],["kendoButton","","fillMode","flat","icon","chevron-right","tabindex","-1","type","button",1,"k-calendar-nav-next",3,"click","svgIcon","disabled","title"]],template:function(e,t){1&e&&(s.j41(0,"span",0),s.DNE(1,Jst,1,1,"ng-template",1)(2,qst,0,0,"ng-template",2),s.k0s(),s.nrm(3,"span",3),s.j41(4,"span",4),s.DNE(5,Qst,1,4,"button",5),s.j41(6,"button",6),s.EFF(7),s.k0s(),s.DNE(8,Zst,1,4,"button",7),s.k0s()),2&e&&(s.AVh("k-disabled",!t.navigate),s.Y8G("id",t.id)("kendoEventsOutsideAngular",s.eq3(18,f0,t.handleNavigation))("title",t.parentViewButtonTitle)("scope",t),s.BMQ("aria-disabled",t.isDisabled()),s.R7$(),s.Y8G("ngIf",!t.templateRef),s.R7$(),s.Y8G("ngIf",t.templateRef)("ngTemplateOutlet",t.templateRef)("ngTemplateOutletContext",s.sMw(20,q2e,t.title,t.activeViewValue,t.currentDate)),s.R7$(3),s.Y8G("ngIf",t.showNavigationButtons),s.R7$(),s.AVh("k-disabled",!t.todayAvailable),s.Y8G("kendoEventsOutsideAngular",s.eq3(24,f0,t.handleTodayClick))("scope",t),s.R7$(),s.SpI(" ",t.todayMessage," "),s.R7$(),s.Y8G("ngIf",t.showNavigationButtons))},dependencies:[Ht,xo,q,qe],encapsulation:2}),i})(),yU=(()=>{class i{constructor(e){this.bus=e}performSelection(e){let{date:t,modifiers:o,selectionMode:r,activeViewEnum:a,rangePivot:l}=e,c=e.selectedDates.slice();if("multiple"===r)if(o.ctrlKey||o.metaKey)this.isDateSelected(c,t)?c=c.filter(u=>!Xi(u,t)):c.push(t),l=t;else if(o.shiftKey){const[u,f]=pCe([l||t,t]);if(c=this.bus.service(a).dateRange(u,f),l=t>c[0]?c[0]:fS(c),o.anyArrow){const[_,S]=pCe([this.lastClicked||t,t]);c=this.bus.service(0).dateRange(_,S)}}else c=[t],l=t;else c=[t],l=t;return{selectedDates:c,rangePivot:l}}isDateSelected(e,t){return e.some(o=>Xi(o,t))}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(Md))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),DU=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoCalendarCellTemplate",""]]}),i})(),hR=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoCalendarMonthCellTemplate",""]]}),i})(),wU=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoCalendarYearCellTemplate",""]]}),i})(),kU=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoCalendarDecadeCellTemplate",""]]}),i})(),OU=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoCalendarCenturyCellTemplate",""]]}),i})(),TU=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoCalendarWeekNumberCellTemplate",""]]}),i})(),MU=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoCalendarHeaderTitleTemplate",""]]}),i})();const pR=i=>n=>i&&n.value&&n.value<i?{minError:{minValue:i,value:n.value}}:null,fR=i=>n=>i&&n.value&&n.value>i?{maxError:{maxValue:i,value:n.value}}:null,Brt=()=>null,zrt={33:mn.PrevView,34:mn.NextView,35:mn.LastInView,36:mn.FirstInView,37:mn.Left,38:mn.Up,39:mn.Right,40:mn.Down,"meta+38":mn.UpperView,"meta+40":mn.LowerView};let mR=(()=>{class i{constructor(e){this.bus=e}action(e){return zrt[`${e.ctrlKey||e.metaKey?"meta+":""}${e.keyCode}`]}move(e,t,o){const r=this.bus.service(o);return r?t===mn.UpperView&&this.bus.canMoveUp(o)?(this.bus.moveUp(o),e):t===mn.LowerView&&this.bus.canMoveDown(o)?(this.bus.moveDown(o),e):r.move(e,t):e}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(Md))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),IU=(()=>{class i extends yi{}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275dir=s.FsC({type:i,selectors:[["kendo-multiview-calendar-messages-base"]],inputs:{today:"today",prevButtonTitle:"prevButtonTitle",nextButtonTitle:"nextButtonTitle",parentViewButtonTitle:"parentViewButtonTitle"},features:[s.Vt3]}),i})(),Hrt=(()=>{class i extends IU{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoMultiViewCalendarLocalizedMessages",""]],features:[s.Jv_([{provide:IU,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})();const vCe="http://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/#toc-using-with-json",Krt={multi:!0,provide:zn,useExisting:(0,s.Rfq)(()=>Sf)},Yrt={multi:!0,provide:Lo,useExisting:(0,s.Rfq)(()=>Sf)};let Sf=(()=>{class i{constructor(e,t,o,r,a,l,c,u){this.bus=e,this.element=t,this.navigator=o,this.renderer=r,this.cdr=a,this.zone=l,this.disabledDatesService=c,this.selectionService=u,this.showOtherMonthDays=!0,this.showCalendarHeader=!0,this.rangeValidation=!1,this.disabledDatesRangeValidation=!1,this.selection="single",this.disabled=!1,this.tabindex=0,this.isActive=!1,this.activeView=Et[Et.month],this.bottomView=Et[Et.month],this.topView=Et[Et.century],this.showViewHeader=!1,this.animateNavigation=!1,this.weekNumber=!1,this.views=2,this.orientation="horizontal",this.activeViewChange=new s.bkB,this.navigate=new s.bkB,this.cellEnter=new s.bkB,this.cellLeave=new s.bkB,this.valueChange=new s.bkB,this.blurEvent=new s.bkB,this.focusEvent=new s.bkB,this.focusCalendar=new s.bkB,this.onClosePopup=new s.bkB,this.onTabPress=new s.bkB,this.onShiftTabPress=new s.bkB,this.cellUID=tn(),this.isHovered=!1,this.isPrevDisabled=!0,this.isNextDisabled=!0,this.prevView=mn.PrevView,this.nextView=mn.NextView,this.selectedDates=[],this._min=new Date(Ru),this._max=new Date(Au),this._focusedDate=kd(),this.resolvedPromise=Promise.resolve(),this.onControlChange=Xt,this.onControlTouched=Xt,this.onValidatorChange=Xt,this.minValidateFn=Xt,this.maxValidateFn=Xt,this.disabledDatesRangeValidateFn=Xt,this.subscriptions=new be.yU,this.setClasses(t.nativeElement),this.id=`kendo-multiviewcalendarid-${this.bus.calendarId}-`}set focusedDate(e){this._focusedDate=e||kd()}get focusedDate(){return this._focusedDate}get headerId(){return this.id+"header-"}get multiViewCalendarHeaderIdLabel(){return this.views>=2?this.id+"header-":null}get calendarHeaderIdLabel(){return 1===this.views?this.id+"header-":null}set min(e){this._min=e||new Date(Ru)}get min(){return this._min}set max(e){this._max=e||new Date(Au)}get max(){return this._max}get value(){return this._value}set value(e){this.verifyValue(e),this._value=Array.isArray(e)?e.filter(o=>Nt(o)).map(o=>he(o)):he(e);const t=[].concat(e).filter(o=>Nt(o)).map(o=>he(o));if(!CU(t,this.selectedDates)){const o=fS(t);this.rangePivot=he(o),this.focusedDate=he(o)||this.focusedDate,this.selectedDates=t}}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set disabledDates(e){this.disabledDatesService.initialize(e)}set selectionRange(e){this._selectionRange=e,this.disabledDatesRangeValidation&&this.onValidatorChange()}get selectionRange(){return this._selectionRange}set cellTemplateRef(e){this._cellTemplateRef=e}get cellTemplateRef(){return this._cellTemplateRef||this.cellTemplate}set monthCellTemplateRef(e){this._monthCellTemplateRef=e}get monthCellTemplateRef(){return this._monthCellTemplateRef||this.monthCellTemplate}set yearCellTemplateRef(e){this._yearCellTemplateRef=e}get yearCellTemplateRef(){return this._yearCellTemplateRef||this.yearCellTemplate}set decadeCellTemplateRef(e){this._decadeCellTemplateRef=e}get decadeCellTemplateRef(){return this._decadeCellTemplateRef||this.decadeCellTemplate}set centuryCellTemplateRef(e){this._centuryCellTemplateRef=e}get centuryCellTemplateRef(){return this._centuryCellTemplateRef||this.centuryCellTemplate}set weekNumberTemplateRef(e){this._weekNumberTemplateRef=e}get weekNumberTemplateRef(){return this._weekNumberTemplateRef||this.weekNumberTemplate}set headerTitleTemplateRef(e){this._headerTitleTemplateRef=e}get headerTitleTemplateRef(){return this._headerTitleTemplateRef||this.headerTitleTemplate}get activeViewEnum(){const e=Et[this.activeView];return e<this.bottomViewEnum?this.bottomViewEnum:e}get bottomViewEnum(){return Et[this.bottomView]}get topViewEnum(){return Et[this.topView]}get widgetId(){return this.views>=2?this.id:null}get ariaDisabled(){return this.disabled}get ariaActivedescendant(){return this.cellUID+this.focusedDate.getTime()}handleFocusout(e){this.element.nativeElement.contains(e.relatedTarget)||(1===this.views?this.blurEvent.emit(e):this.blurEvent.emit(),this.onControlTouched()),this.isActive=!1,this.isHovered=!1}handleFocus(){this.isActive=!0,1===this.views?this.focusCalendar.emit():this.focusEvent.emit(),this.focusEvent.emit()}handleMouseEnter(){this.isHovered=!0}handleMouseLeave(){this.isHovered=!1}handleMousedown(e){e.preventDefault()}handleClick(){this.isActive||this.focus()}keydown(e){const t=-1!==[G.ArrowUp,G.ArrowDown].indexOf(e.keyCode),o=e.ctrlKey||e.metaKey,a=e.keyCode===G.ArrowLeft&&o,l=e.keyCode===G.KeyT,c=e.keyCode===G.Enter,u=e.keyCode===G.ArrowUp,f=e.altKey,_=e.keyCode===G.Escape,S=e.keyCode===G.Tab,v=e.shiftKey;if(e.keyCode===G.ArrowRight&&o)return e.preventDefault(),void this.navigateView(this.nextView);if(a)return e.preventDefault(),void this.navigateView(this.prevView);if(o&&t)e.preventDefault();else{if(l)return this.focusedDate=kd(),void this.bus.moveToBottom(this.activeViewEnum);c&&(this.selectionService.lastClicked=this.focusedDate,this.performSelection(this.focusedDate,e))}this.views>=2&&(_||f&&u?this.onClosePopup.emit(e):S&&v?this.onShiftTabPress.emit(e):S&&!v&&this.onTabPress.emit(e));const b=E_(this.navigator.move(this.focusedDate,this.navigator.action(e),this.activeViewEnum),this.min,this.max);Xi(this.focusedDate,b)||(this.focusedDate=b,e.preventDefault(),this.bus.service(this.activeViewEnum).isInArray(this.focusedDate,this.viewList.dates)||this.emitNavigate(this.focusedDate),oCe(e)&&(e.anyArrow=!0,this.performSelection(this.focusedDate,e)))}ngOnInit(){this.subscriptions.add(this.bus.viewChanged.subscribe(({view:e})=>{this.activeView=Et[e],this.activeViewChange.emit(this.activeView),this.cdr.detectChanges(),this.updateButtonState()}))}ngOnChanges(e){this.verifyChanges(),this.bus.configure(this.bottomViewEnum,this.topViewEnum),uCe(e,"focusedDate")&&(this.focusedDate=E_(e.focusedDate.currentValue,this.min,this.max)),(e.min||e.max||e.rangeValidation||e.disabledDates||e.disabledDatesRangeValidation)&&(this.minValidateFn=this.rangeValidation?pR(this.min):Xt,this.maxValidateFn=this.rangeValidation?fR(this.max):Xt,this.disabledDatesRangeValidateFn=this.disabledDatesRangeValidation?(i=>Nt(i)?n=>{if(!(Nt(n)&&Nt(n.start)&&Nt(n.end))||n.start>n.end)return null;const t=((i,n,e)=>{if(!(i&&n&&e)||i>n)return[];const t=[];let o=i;for(;o<=n;)e(o)&&t.push(o),o=_s(o,1);return t})(n.start,n.end,i);return t.length?{disabledDatesInRange:t}:null}:Brt)(this.disabledDatesService.isDateDisabled):Xt,this.onValidatorChange()),(e.min||e.max||e.focusedDate||e.activeView)&&this.updateButtonState()}ngOnDestroy(){this.subscriptions.unsubscribe()}ngAfterViewInit(){this.updateButtonState()}focus(){this.element&&this.element.nativeElement.querySelector(".k-calendar-view").focus({preventScroll:!0})}blur(){this.element&&this.element.nativeElement.querySelector(this.views>=2?".k-calendar-view":".k-content.k-calendar-table").blur()}handleDateChange(e){const t=this.bus.canMoveDown(this.activeViewEnum),o=e.selectedDates.filter(a=>!this.disabledDatesService.isDateDisabled(a));this.focusedDate=e.focusedDate||this.focusedDate;const r=!t&&CU(o,this.selectedDates);if(!this.disabled&&!r){if(t)return void this.bus.moveDown(this.activeViewEnum);this.disabledDatesService.isDateDisabled(this.focusedDate)||(this.selectedDates=o.map(a=>he(a)),this.value=this.parseSelectionToValue(o),this.onControlChange(this.parseSelectionToValue(o)),this.valueChange.emit(this.parseSelectionToValue(o)))}}handleTodayButtonClick(e){const t=e.focusedDate,o=this.bus.service(this.activeViewEnum).isInArray(t,this.viewList.dates),r=!this.bus.canMoveDown(this.activeViewEnum);!o&&r&&this.emitNavigate(t),this.handleDateChange(e)}setActiveDate(e){this.activeDate=he(e),this.cdr.detectChanges()}writeValue(e){this.verifyValue(e),this.value=e,this.cdr.markForCheck()}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)||this.disabledDatesRangeValidateFn(this.selectionRange)}registerOnValidatorChange(e){this.onValidatorChange=e}activeCellTemplate(){switch(this.activeViewEnum){case Et.month:return this.monthCellTemplateRef||this.cellTemplateRef;case Et.year:return this.yearCellTemplateRef;case Et.decade:return this.decadeCellTemplateRef;case Et.century:return this.centuryCellTemplateRef;default:return null}}navigateView(e){this.focusedDate=this.viewList.navigate(e),this.updateButtonState(),this.emitNavigate(this.focusedDate)}emitNavigate(e){this.navigate.emit({activeView:Et[this.activeViewEnum],focusedDate:e})}emitCellEvent(e,t){Te(e)&&this.zone.run(()=>{e.emit(t)})}handleCellClick({date:e,modifiers:t}){this.selectionService.lastClicked=e,this.performSelection(e,t),this.bus.service(this.activeViewEnum).isInArray(this.focusedDate,this.viewList.dates)||this.emitNavigate(this.focusedDate)}handleWeekNumberClick(e){"single"!==this.selection&&this.zone.run(()=>{this.handleDateChange({selectedDates:e,focusedDate:fS(e)})})}setClasses(e){this.renderer.addClass(e,"k-widget"),this.renderer.addClass(e,"k-calendar"),this.renderer.addClass(e,"k-calendar-range")}verifyChanges(){if((0,s.naY)()){if(this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-max.");if(this.bottomViewEnum>this.topViewEnum)throw new Error("The topView should be greater than bottomView. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-bottomview and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-topview.")}}verifyValue(e){if((0,s.naY)()){if("single"===this.selection&&e&&!(e instanceof Date))throw new Error(`The 'value' should be a valid JavaScript Date instance. Check ${vCe} for possible resolution.`);if("multiple"===this.selection&&e&&Array.isArray(e)&&!e.every(o=>o instanceof Date))throw new Error(`The 'value' should be an array of valid JavaScript Date instances. Check ${vCe} for possible resolution.`)}}updateButtonState(){this.resolvedPromise.then(()=>{this.isPrevDisabled=!this.viewList.canNavigate(this.prevView),this.isNextDisabled=!this.viewList.canNavigate(this.nextView),this.cdr.markForCheck()})}parseSelectionToValue(e){return e=e||[],"single"===this.selection?he(fS(e)):e.map(t=>he(t))}performSelection(e,t){const o=this.selectionService.performSelection({date:e,modifiers:t,selectionMode:this.selection,activeViewEnum:this.activeViewEnum,rangePivot:this.rangePivot,selectedDates:this.selectedDates});this.rangePivot=o.rangePivot,this.handleDateChange({selectedDates:o.selectedDates,focusedDate:e})}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Md),s.rXU(s.aKT),s.rXU(mR),s.rXU(s.sFG),s.rXU(s.gRc),s.rXU(s.SKi),s.rXU(gf),s.rXU(yU))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-multiviewcalendar"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,DU,5),s.wni(o,hR,5),s.wni(o,wU,5),s.wni(o,kU,5),s.wni(o,OU,5),s.wni(o,TU,5),s.wni(o,MU,5)),2&e){let r;s.mGM(r=s.lsd())&&(t.cellTemplate=r.first),s.mGM(r=s.lsd())&&(t.monthCellTemplate=r.first),s.mGM(r=s.lsd())&&(t.yearCellTemplate=r.first),s.mGM(r=s.lsd())&&(t.decadeCellTemplate=r.first),s.mGM(r=s.lsd())&&(t.centuryCellTemplate=r.first),s.mGM(r=s.lsd())&&(t.weekNumberTemplate=r.first),s.mGM(r=s.lsd())&&(t.headerTitleTemplate=r.first)}},viewQuery:function(e,t){if(1&e&&(s.GBs(EU,5,s.aKT),s.GBs(SCe,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.headerElement=o.first),s.mGM(o=s.lsd())&&(t.viewList=o.first)}},hostVars:4,hostBindings:function(e,t){1&e&&s.bIt("mouseenter",function(){return t.handleMouseEnter()})("mouseleave",function(){return t.handleMouseLeave()})("mousedown",function(r){return t.handleMousedown(r)})("click",function(){return t.handleClick()})("keydown",function(r){return t.keydown(r)}),2&e&&(s.BMQ("id",t.widgetId)("aria-disabled",t.ariaDisabled),s.AVh("k-disabled",t.ariaDisabled))},inputs:{showOtherMonthDays:"showOtherMonthDays",showCalendarHeader:"showCalendarHeader",id:"id",focusedDate:"focusedDate",min:"min",max:"max",rangeValidation:"rangeValidation",disabledDatesRangeValidation:"disabledDatesRangeValidation",selection:"selection",value:"value",disabled:"disabled",tabindex:"tabindex",tabIndex:"tabIndex",isActive:"isActive",disabledDates:"disabledDates",activeView:"activeView",bottomView:"bottomView",topView:"topView",showViewHeader:"showViewHeader",animateNavigation:"animateNavigation",weekNumber:"weekNumber",activeRangeEnd:"activeRangeEnd",selectionRange:"selectionRange",views:"views",orientation:"orientation",cellTemplateRef:[s.Mj6.None,"cellTemplate","cellTemplateRef"],monthCellTemplateRef:[s.Mj6.None,"monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:[s.Mj6.None,"yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:[s.Mj6.None,"decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:[s.Mj6.None,"centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:[s.Mj6.None,"weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:[s.Mj6.None,"headerTitleTemplate","headerTitleTemplateRef"]},outputs:{activeViewChange:"activeViewChange",navigate:"navigate",cellEnter:"cellEnter",cellLeave:"cellLeave",valueChange:"valueChange",blurEvent:"blur",focusEvent:"focus",focusCalendar:"focusCalendar",onClosePopup:"onClosePopup",onTabPress:"onTabPress",onShiftTabPress:"onShiftTabPress"},exportAs:["kendo-multiviewcalendar"],features:[s.Jv_([Md,Krt,Yrt,z,gf,{provide:He,useValue:"kendo.multiviewcalendar"},mR,yU]),s.OA$],decls:3,vars:23,consts:()=>{let n,e,t,o;return n="Oggi",e="Vai alla vista precedente",t="Vai alla vista successiva",o="Vai alla vista genitore",[["kendoMultiViewCalendarLocalizedMessages","","today",n,"prevButtonTitle",e,"nextButtonTitle",t,"parentViewButtonTitle",o],[3,"activeView","currentDate","min","max","id","rangeLength","templateRef","isPrevDisabled","isNextDisabled","showNavigationButtons","orientation","todayButtonClick","prevButtonClick","nextButtonClick",4,"ngIf"],[3,"cellClick","weekNumberCellClick","cellEnter","cellLeave","activeDateChange","focusCalendar","blurCalendar","showOtherMonthDays","id","activeView","activeDescendant","isActive","cellTemplateRef","weekNumberTemplateRef","cellUID","views","min","max","focusedDate","animateNavigation","showViewHeader","weekNumber","activeRangeEnd","selectionRange","selectedDates","orientation","tabIndex","disabled"],[3,"todayButtonClick","prevButtonClick","nextButtonClick","activeView","currentDate","min","max","id","rangeLength","templateRef","isPrevDisabled","isNextDisabled","showNavigationButtons","orientation"]]},template:function(e,t){if(1&e&&(s.eu8(0,0),s.DNE(1,eot,1,11,"kendo-calendar-header",1),s.j41(2,"kendo-calendar-horizontal",2),s.bIt("cellClick",function(r){return t.handleCellClick(r)})("weekNumberCellClick",function(r){return t.handleWeekNumberClick(r)})("cellEnter",function(r){return t.emitCellEvent(t.cellEnter,r)})("cellLeave",function(r){return t.emitCellEvent(t.cellLeave,r)})("activeDateChange",function(r){return t.setActiveDate(r)})("focusCalendar",function(){return t.handleFocus()})("blurCalendar",function(r){return t.handleFocusout(r)}),s.k0s()),2&e){let o;s.R7$(),s.Y8G("ngIf",t.showCalendarHeader),s.R7$(),s.Y8G("showOtherMonthDays",t.showOtherMonthDays)("id",t.calendarHeaderIdLabel)("activeView",t.activeViewEnum)("activeDescendant",t.ariaActivedescendant)("isActive",t.isActive||t.isHovered)("cellTemplateRef",null==(o=t.activeCellTemplate())?null:o.templateRef)("weekNumberTemplateRef",null==t.weekNumberTemplateRef?null:t.weekNumberTemplateRef.templateRef)("cellUID",t.cellUID)("views",t.views)("min",t.min)("max",t.max)("focusedDate",t.focusedDate)("animateNavigation",t.animateNavigation)("showViewHeader",t.showViewHeader)("weekNumber",t.weekNumber)("activeRangeEnd",t.activeRangeEnd)("selectionRange",t.selectionRange)("selectedDates",t.selectedDates)("orientation",t.orientation)("tabIndex",t.tabIndex)("disabled",t.disabled),s.BMQ("aria-labelledby",t.multiViewCalendarHeaderIdLabel)}},dependencies:[EU,SCe,Hrt,q],encapsulation:2,changeDetection:0}),i})();const RU=Od("div"),Jrt=Od("ul"),qrt=Od("li"),Qrt=Od("td"),CCe=Od("th"),FQ=Od("tr"),Zrt=Od("tbody"),eat=Od("thead"),bCe=Od("table"),ECe=(i,n)=>new Array(i).fill("1").map(n),yCe=i=>RU(i,"k-flex k-content k-scrollable"),oat=(()=>{let i;return()=>ne?(i||(i=RU([yCe([Jrt([qrt("<span>FEB</span>")])])],"k-calendar-navigation",{left:"0px",position:"absolute"})),i):null})(),BQ=({cells:i,rows:n},e,t)=>{let o;return()=>ne?(o||(o=((i,n,e)=>RU([RU('\n            <span class="k-button k-nav-fast k-button-md k-rounded-md k-button-flat k-button-flat-base k-calendar-title">March 2017</span>\n            <span class="k-spacer"></span>\n            <span class="k-calendar-nav k-hstack">\n                <button class="k-calendar-nav-today k-button k-button-md k-button-flat k-button-flat-primary k-rounded-md">TODAY</button>\n            </span>\n        ',"k-calendar-header k-hstack"),e?bCe([eat([FQ([CCe("MO","k-calendar-th")],"k-calendar-tr")],"k-calendar-thead")],"k-calendar-weekdays k-calendar-table"):null,yCe([i,i])],n,{left:"-10000px",position:"absolute"}))(((i,n=1)=>bCe([Zrt([FQ([CCe("1","k-calendar-th")],"k-calendar-tr")].concat(ECe(i,()=>FQ(ECe(n,e=>Qrt(`<span class="k-link">${e}</span>`,"k-calendar-td")),"k-calendar-tr"))),"k-calendar-tbody")],"k-calendar-table"))(n,i),e,t)),o):null},AU=i=>i.querySelector(".k-scrollable"),VQ=i=>(AU(i).classList.add("k-scrollable-horizontal"),i),DCe=BQ({cells:7,rows:6},"k-vstack k-calendar-view k-calendar-monthview",!0),wCe=BQ({cells:4,rows:3},"k-vstack k-calendar-view k-calendar-yearview",!1),kCe=BQ({cells:4,rows:3},"k-vstack k-calendar-view k-calendar-decadeview",!1),gS=i=>parseFloat(window.getComputedStyle(i).height)||i.offsetHeight,_R=i=>{const n=window.getComputedStyle(i);return parseFloat(n.width)+parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)||i.offsetWidth},iw=i=>i.querySelector("tbody");let gR=(()=>{class i{ensureHeights(){void 0===this.calendarHeight&&this.calculateHeights()}calculateHeights(e){ne()&&(this.hostContainer=e,this.batch(DCe(),t=>{const o=iw(t);this.calendarHeight=gS(t),this.monthViewHeight=gS(o),this.headerHeight=gS(o.children[0]),this.scrollableContentHeight=gS(AU(t))}),this.batch(VQ(DCe()),t=>{const o=iw(t);this.calendarWidth=_R(t),this.monthViewWidth=_R(o),this.scrollableContentWidth=_R(AU(t))}),this.batch(wCe(),t=>{this.yearViewHeight=gS(iw(t)),this.scrollableYearContentHeight=gS(AU(t))}),this.batch(VQ(wCe()),t=>{this.yearViewWidth=_R(iw(t))}),this.batch(kCe(),t=>{this.decadeViewHeight=gS(iw(t)),this.centuryViewHeight=this.decadeViewHeight}),this.batch(VQ(kCe()),t=>{this.decadeViewWidth=_R(iw(t)),this.centuryViewWidth=this.decadeViewWidth}),this.batch(oat(),t=>{this.navigationItemHeight=gS(t.querySelector("li"))}))}viewHeight(e){return this.viewDimension(e,"height")}viewWidth(e){return this.viewDimension(e,"width")}viewDimension(e,t){const o="height"===t?"ViewHeight":"ViewWidth";switch(e){case Et.month:return this[`month${o}`];case Et.year:return this[`year${o}`];case Et.decade:return this[`decade${o}`];case Et.century:return this[`century${o}`];default:return 1}}batch(e,t){if(!Nt(this.hostContainer))return;const o=this.hostContainer.cloneNode();document.body.appendChild(o);try{t(o.appendChild(e))}finally{document.body.removeChild(o)}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();class dat{constructor(n=0,e,t){this.total=n,this.rowHeight=e,this.detailRowHeight=t,this.offsets=[],this.heights=[];let o=0;for(let r=0;r<n;r++)this.offsets.push(o),o+=e,this.heights.push(e)}height(n){return this.heights[n]}expandDetail(n){this.height(n)===this.rowHeight&&this.updateRowHeight(n,this.detailRowHeight)}collapseDetail(n){this.height(n)>this.rowHeight&&this.updateRowHeight(n,-1*this.detailRowHeight)}index(n){if(n<0)return;const e=this.offsets.reduce((t,o,r)=>void 0!==t?t:o===n?r:o>n?r-1:void 0,void 0);return void 0===e?this.total-1:e}offset(n){return this.offsets[n]}totalHeight(){return this.heights.reduce((n,e)=>n+e,0)}updateRowHeight(n,e){this.heights[n]+=e,this.offsets=((i,n,e)=>[...i.slice(0,n+1),...i.slice(n+1).map(t=>t+e)])(this.offsets,n,e)}}const xU=i=>Math.max(i,0);class zQ{constructor(n){this.offset=n}}class NU{constructor(n){this.skip=n}}class uat{constructor(n){this.scrollObservable=n,this.firstLoaded=0,this.bottomOffset=0,this.topOffset=0}create(n,e,t,o,r=0,a=0,l="vertical"){this.rowHeightService=n,this.firstLoaded=e,this.lastLoaded=e+t,this.take=t,this.total=o,this.lastScroll=0,this.topOffset=r,this.bottomOffset=a,this.direction=l;const c=new qge(2),u=this.rowsForHeight(r),f=xU(e-u);return c.next(new zQ(this.rowOffset(f))),u&&c.next(new NU(f)),this.subscription=new Qi.c(_=>{this.unsubscribe(),this.scrollSubscription=this.scrollObservable.subscribe(S=>this.onScroll(S,_))}).subscribe(_=>c.next(_)),c}destroy(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}onScroll({scrollLeft:n,scrollTop:e,offsetHeight:t,offsetWidth:o},r){const a="vertical"===this.direction?e:n,l="vertical"===this.direction?t:o;if(this.lastScroll===a)return;const c=this.lastScroll>=a;this.lastScroll=a;const u=this.rowHeightService.index(xU(a-this.topOffset)),f=this.rowHeightService.index(xU(a+l-this.bottomOffset));if(!c&&f>=this.lastLoaded&&this.lastLoaded<this.total&&(this.firstLoaded=u,r.next(new zQ(this.rowOffset(u))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),r.next(new NU(this.firstLoaded))),c&&u<=this.firstLoaded){const _=Math.floor(.3*this.take);this.firstLoaded=xU(u-_),r.next(new zQ(this.rowOffset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),r.next(new NU(this.firstLoaded))}}rowOffset(n){return this.rowHeightService.offset(n)+this.topOffset}rowsForHeight(n){return Math.ceil(n/this.rowHeightService.height(0))}unsubscribe(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=null)}}const OCe=new s.nKC("dateinputs-scroll-service-factory");function hat(i){return new uat(i)}var vf=function(i){return i[i.Backward=0]="Backward",i[i.Forward=1]="Forward",i}(vf||{});const fat={[vf.Forward]:i=>n=>n+i,[vf.Backward]:i=>n=>n-i},mat={[vf.Forward]:i=>n=>Math.min(n,i),[vf.Backward]:i=>n=>Math.max(n,i)},_at={[vf.Forward]:i=>n=>n<i,[vf.Backward]:i=>n=>n>i};let _0=(()=>{class i{constructor(e,t,o,r,a){this.container=t,this.renderer=o,this.zone=r,this.scrollBarWidthService=a,this.direction="vertical",this.itemHeight=1,this.itemWidth=1,this.topOffset=0,this.bottomOffset=0,this.maxScrollDifference=100,this.scrollOffsetSize=0,this.scrollDuration=150,this.activeIndexChange=new s.bkB,this.pageChange=new s.bkB,this.scrollChange=new s.bkB,this.wrapperClasses=!0,this.resolvedPromise=Promise.resolve(null),this.dispatcher=new Ke.B,this.scroller=e(this.dispatcher)}get horizontalClass(){return"horizontal"===this.direction}get totalVertexLength(){const e=`${this.totalSize}px`;return"vertical"===this.direction?{height:e}:{width:e}}get containerOffsetSize(){return this.getContainerProperty("vertical"===this.direction?"offsetHeight":"offsetWidth")}get containerScrollSize(){return this.getContainerProperty("vertical"===this.direction?"scrollHeight":"scrollWidth")}get containerScrollPosition(){return this.getContainerProperty("vertical"===this.direction?"scrollTop":"scrollLeft")}ngOnChanges(e){(e.direction||e.take||e.total)&&(this.initServices(),this.totalSize=this.rowHeightService.totalHeight()+this.bottomOffset)}ngOnInit(){this.rowHeightService||(this.rowHeightService=this.createRowHeightService())}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{this.containerScrollSubscription=this.scroll$().pipe((0,V.T)(e=>e.target)).subscribe(e=>{this.dispatcher.next(e),this.emitActiveIndex()})})}ngOnDestroy(){this.containerScrollSubscription&&this.containerScrollSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.animationSubscription&&this.animationSubscription.unsubscribe()}getContainerProperty(e){return this.container.nativeElement[e]}activeIndex(){return this.itemIndex(Math.ceil(this.containerScrollPosition))}itemIndex(e){return this.rowHeightService.index(e)}itemOffset(e){return this.rowHeightService.offset(e)}isIndexVisible(e){if(!this.rowHeightService)return!1;const t=this.containerScrollPosition,o=t+this.containerOffsetSize,r=this.rowHeightService.offset(e),a=r+this.rowHeightService.height(e);return r>=t&&a<=o}isListScrolled(e){return this.containerScrollPosition!==this.rowHeightService.offset(e)}scrollTo(e){this.renderer.setProperty(this.container.nativeElement,"vertical"===this.direction?"scrollTop":"scrollLeft",e)}scrollToIndex(e){this.zone.runOutsideAngular(()=>{this.resolvedPromise.then(()=>{this.scrollTo(this.rowHeightService.offset(e))})})}scrollToBottom(){this.scrollTo(this.totalSize)}animateToIndex(e){this.animationSubscription&&this.animationSubscription.unsubscribe();const t=this.rowHeightService.offset(e),o=this.getContainerScrollDirection(t),{start:r,end:a}=this.scrollRange(t,o);if(r===a)return;const l=this.scrollStep(r,a),c=fat[o](l),u=mat[o](a),f=_at[o](c(a));this.zone.runOutsideAngular(()=>{this.animationSubscription=vh(ft(r),NC(0,rst)).pipe((0,V.T)(_=>_[0]),i8(c),x2e(f),(0,V.T)(u)).subscribe(_=>this.scrollTo(_))})}scrollRange(e,t){const o=this.containerScrollPosition;if(parseInt(e,10)===parseInt(o,10))return{start:e,end:e};const r=this.containerMaxScroll(),a=t===vf.Backward?1:-1,l=((i,n,e)=>Math.min(Math.abs(n-i),e))(o,e,this.maxScrollDifference),c=Math.min(e,r);return{start:Math.min(Math.max(c+a*l,0),r),end:c}}scrollStep(e,t){return Math.abs(t-e)/(this.scrollDuration/17)}scroll$(){return ne()?Dt(this.container.nativeElement,"scroll"):Dr}initServices(){this.rowHeightService=this.createRowHeightService(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.scrollSubscription=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total,this.topOffset,this.scrollOffsetSize,this.direction).subscribe(e=>{e instanceof NU?this.pageChange.emit(e):this.scrollChange.emit(e)})}createRowHeightService(){return new dat(this.total,"vertical"===this.direction?this.itemHeight:this.itemWidth,0)}emitActiveIndex(){const e=this.rowHeightService.index(this.containerScrollPosition-this.topOffset);this.lastActiveIndex!==e&&(this.lastActiveIndex=e,this.activeIndexChange.emit(e))}containerMaxScroll(){return this.containerScrollSize-this.containerOffsetSize}getContainerScrollDirection(e){return e<this.containerScrollPosition?vf.Backward:vf.Forward}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(OCe),s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(s.SKi),s.rXU(MC))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-virtualization"]],hostVars:8,hostBindings:function(e,t){2&e&&s.AVh("k-flex",t.wrapperClasses)("k-content",t.wrapperClasses)("k-scrollable",t.wrapperClasses)("k-scrollable-horizontal",t.horizontalClass)},inputs:{direction:"direction",itemHeight:"itemHeight",itemWidth:"itemWidth",topOffset:"topOffset",bottomOffset:"bottomOffset",maxScrollDifference:"maxScrollDifference",scrollOffsetSize:"scrollOffsetSize",scrollDuration:"scrollDuration",skip:"skip",take:"take",total:"total"},outputs:{activeIndexChange:"activeIndexChange",pageChange:"pageChange",scrollChange:"scrollChange"},features:[s.Jv_([{provide:OCe,useValue:hat}]),s.OA$],ngContentSelectors:Q2e,decls:2,vars:3,consts:[[1,"k-scrollable-placeholder",3,"ngStyle"]],template:function(e,t){1&e&&(s.NAR(),s.SdG(0),s.nrm(1,"div",0)),2&e&&(s.R7$(),s.AVh("k-scrollable-horizontal-placeholder","horizontal"===t.direction),s.Y8G("ngStyle",t.totalVertexLength))},dependencies:[Wn],encapsulation:2}),i})(),TCe=(()=>{class i{constructor(e,t,o,r,a){this.bus=e,this.dom=t,this.intl=o,this.cdr=r,this.renderer=a,this.min=new Date(Ru),this.max=new Date(Au),this.focusedDate=new Date,this.valueChange=new s.bkB,this.pageChange=new s.bkB,this.dates=[],this.take=30,this.indexToScroll=-1}get getComponentClass(){return!0}ngOnInit(){this.dom.ensureHeights();const e=this.dom.calendarHeight;this.itemHeight=this.dom.navigationItemHeight,this.maxViewHeight=this.dom.monthViewHeight,this.topOffset=(e-this.itemHeight)/2,this.bottomOffset=e-this.itemHeight,this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}ngOnChanges(e){if(this.service=this.bus.service(this.activeView),!this.service)return;this.activeViewValue=Et[this.activeView];const t=E_(this.focusedDate,this.min,this.max),o=this.service.total(this.min,this.max),r=this.total&&this.total!==o;this.skip=this.service.skip(t,this.min),this.total=o,(r||!this.service.isInArray(t,this.dates))&&(this.dates=this.service.datesList(t,this.getTake(this.skip))),(e.focusedDate||r)&&(this.indexToScroll=this.service.skip(this.focusedDate,this.min))}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe()}ngAfterViewInit(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}ngAfterViewChecked(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}onPageChange({skip:e}){this.dates=this.service.datesList(this.service.addToDate(this.min,e),this.getTake(e)),this.pageChange.emit()}scrollChange({offset:e}){const t=this.list.nativeElement,o=`translateY(${e}px)`;this.renderer.setStyle(t,"transform",o),this.renderer.setStyle(t,"-ms-transform",o)}handleDateChange(e){const t=GQ(e.target,o=>o.hasAttribute("data-date-index"),this.list.nativeElement);if(t){const o=parseInt(t.getAttribute("data-date-index"),10);this.valueChange.emit(he(this.dates[o]))}}getTake(e){return Math.min(this.total-e,this.take)}intlChange(){this.activeView===Et.month&&this.cdr.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Md),s.rXU(gR),s.rXU(xt.Bs),s.rXU(s.gRc),s.rXU(s.sFG))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-calendar-navigation"]],viewQuery:function(e,t){if(1&e&&(s.GBs(_0,5),s.GBs(Z2e,7)),2&e){let o;s.mGM(o=s.lsd())&&(t.virtualization=o.first),s.mGM(o=s.lsd())&&(t.list=o.first)}},hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-calendar-navigation",t.getComponentClass)},inputs:{activeView:"activeView",min:"min",max:"max",focusedDate:"focusedDate",templateRef:"templateRef"},outputs:{valueChange:"valueChange",pageChange:"pageChange"},features:[s.OA$],decls:5,vars:12,consts:[["list",""],[1,"k-calendar-navigation-highlight"],[3,"pageChange","scrollChange","skip","take","total","itemHeight","topOffset","bottomOffset","maxScrollDifference"],[1,"k-reset",3,"kendoEventsOutsideAngular","scope"],[4,"kFor","kForOf"],[3,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){if(1&e){const o=s.RV6();s.nrm(0,"span",1),s.j41(1,"kendo-virtualization",2),s.bIt("pageChange",function(a){return s.eBV(o),s.Njj(t.onPageChange(a))})("scrollChange",function(a){return s.eBV(o),s.Njj(t.scrollChange(a))}),s.j41(2,"ul",3,0),s.DNE(4,iot,4,11,"li",4),s.k0s()()}2&e&&(s.R7$(),s.Y8G("skip",t.skip)("take",t.take)("total",t.total)("itemHeight",t.itemHeight)("topOffset",t.topOffset)("bottomOffset",t.bottomOffset)("maxScrollDifference",t.maxViewHeight),s.R7$(),s.Y8G("kendoEventsOutsideAngular",s.eq3(10,f0,t.handleDateChange))("scope",t),s.R7$(2),s.Y8G("kForOf",t.dates))},dependencies:[_0,xo,bU,q,qe],encapsulation:2,changeDetection:0}),i})(),MCe=(()=>{class i{constructor(e,t,o,r,a){this.bus=e,this.cdr=t,this.intl=o,this.dom=r,this.renderer=a,this.isActive=!0,this.min=new Date(Ru),this.max=new Date(Au),this.selectedDates=[],this.tabIndex=0,this.disabled=!1,this.cellClick=new s.bkB,this.weekNumberCellClick=new s.bkB,this.activeDateChange=new s.bkB,this.todayButtonClick=new s.bkB,this.pageChange=new s.bkB,this.focusCalendar=new s.bkB,this.blurCalendar=new s.bkB,this.focusedCellChange=new s.bkB,this.getComponentClass=!0,this.dates=[],this.cols=[],this.weekNames=[],this.wideWeekNames=[],this.take=5,this.animateToIndex=!0,this.indexToScroll=-1,this.minViewsToRender=1}get weekNumber(){return this.showWeekNumbers&&this.isMonthView()}set weekNumber(e){this.showWeekNumbers=e}get headerTitle(){return this.headerComponent?.title}get getComponentMonthClass(){return this.activeView===Et.month}get getComponentYearClass(){return this.activeView===Et.year}get getComponentDecadeClass(){return this.activeView===Et.decade}get getComponentCenturyClass(){return this.activeView===Et.century}ngOnInit(){this.weekNames=this.getWeekNames("short"),this.wideWeekNames=this.getWeekNames("wide"),this.bottomOffset=this.getBottomOffset(),this.viewOffset=-1*this.dom.headerHeight,this.viewHeight=this.dom.viewHeight(this.activeView),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}ngOnChanges(e){if(this.service=this.bus.service(this.activeView),!this.service)return;this.cols=new Array(this.service.rowLength({prependCell:this.weekNumber})).fill(""),this.weekNames=y_(e,"weekNumber")&&this.weekNumber?this.getWeekNames("short"):this.weekNames,this.wideWeekNames=y_(e,"weekNumber")&&this.weekNumber?this.getWeekNames("wide"):this.weekNames;const t=y_(e,"activeView"),o=this.focusedDate,r=E_(this.service.viewDate(o,this.max,this.minViewsToRender),this.min,this.max),a=this.service.total(this.min,this.max),c=this.total&&this.total!==a||!this.service.isInArray(o,this.dates);this.skip=this.service.skip(r,this.min),this.total=a,this.animateToIndex=!t,this.bottomOffset=this.getBottomOffset(),this.viewHeight=this.dom.viewHeight(this.activeView),c&&(this.dates=this.service.datesList(r,this.getTake(this.skip))),((i,n)=>i&&n&&i.getFullYear()===n.getFullYear()&&i.getMonth()===n.getMonth())(this.activeDate,o)||(this.activeDate=he(o));const u=y_(e,"focusedDate")||t;(c||u||this.virtualization.isIndexVisible(this.skip))&&(this.indexToScroll=this.service.skip(o,this.min))}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe()}ngAfterViewInit(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}ngAfterViewChecked(){-1!==this.indexToScroll&&(this.virtualization[this.animateToIndex?"animateToIndex":"scrollToIndex"](this.indexToScroll),this.animateToIndex=!0,this.indexToScroll=-1)}onPageChange({skip:e}){this.dates=this.service.datesList(this.service.addToDate(this.min,e),this.getTake(e)),this.pageChange.emit()}scrollChange({offset:e}){const t=this.list.nativeElement,o=`translateY(${e}px)`;this.renderer.setStyle(t,"transform",o),this.renderer.setStyle(t,"-ms-transform",o)}setActiveDate(e){const t=this.service.addToDate(this.min,e);this.activeDate=t,this.activeDateChange.emit(t),this.cdr.detectChanges()}isMonthView(){return this.activeView===Et.month}isScrolled(){return this.virtualization.isListScrolled(this.service.skip(this.focusedDate,this.min))}getTabIndex(){return this.disabled?null:this.tabIndex}getBottomOffset(){return this.getScrollableHeight()-this.dom.viewHeight(this.activeView)}getScrollableHeight(){return this.activeView===Et.month?this.dom.scrollableContentHeight:this.dom.scrollableYearContentHeight}getTake(e){return Math.min(this.total-e,this.take)}getWeekNames(e){const t=dCe(this.intl.dateFormatNames({nameType:e,type:"days"}),this.intl.firstDay());return this.weekNumber?[""].concat(t):t}intlChange(){this.weekNames=this.getWeekNames("short"),this.wideWeekNames=this.getWeekNames("wide"),this.isMonthView()&&this.cdr.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Md),s.rXU(s.gRc),s.rXU(xt.Bs),s.rXU(gR),s.rXU(s.sFG))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-calendar-viewlist"]],viewQuery:function(e,t){if(1&e&&(s.GBs(_0,5),s.GBs(EU,5),s.GBs(Z2e,7)),2&e){let o;s.mGM(o=s.lsd())&&(t.virtualization=o.first),s.mGM(o=s.lsd())&&(t.headerComponent=o.first),s.mGM(o=s.lsd())&&(t.list=o.first)}},hostVars:12,hostBindings:function(e,t){2&e&&s.AVh("k-vstack",t.getComponentClass)("k-calendar-view",t.getComponentClass)("k-calendar-monthview",t.getComponentMonthClass)("k-calendar-yearview",t.getComponentYearClass)("k-calendar-decadeview",t.getComponentDecadeClass)("k-calendar-centuryview",t.getComponentCenturyClass)},inputs:{cellTemplateRef:"cellTemplateRef",weekNumberTemplateRef:"weekNumberTemplateRef",headerTitleTemplateRef:"headerTitleTemplateRef",showOtherMonthDays:"showOtherMonthDays",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate",isActive:"isActive",min:"min",max:"max",selectedDates:"selectedDates",tabIndex:"tabIndex",disabled:"disabled",id:"id",weekNumber:"weekNumber"},outputs:{cellClick:"cellClick",weekNumberCellClick:"weekNumberCellClick",activeDateChange:"activeDateChange",todayButtonClick:"todayButtonClick",pageChange:"pageChange",focusCalendar:"focusCalendar",blurCalendar:"blurCalendar",focusedCellChange:"focusedCellChange"},features:[s.OA$],decls:8,vars:20,consts:[["list",""],[3,"todayButtonClick","currentDate","min","max","id","activeView","templateRef"],["class","k-calendar-weekdays k-calendar-table",3,"table-layout",4,"ngIf"],[3,"pageChange","scrollChange","activeIndexChange","tabindex","skip","take","total","itemHeight","topOffset","bottomOffset","scrollOffsetSize","maxScrollDifference"],["role","grid",1,"k-calendar-table",3,"focus","blur"],[4,"ngFor","ngForOf"],["class","k-calendar-tbody","kendoCalendarView","","role","rowgroup",3,"showOtherMonthDays","headerTitle","activeView","isActive","min","max","cellUID","focusedDate","selectedDates","weekNumber","templateRef","weekNumberTemplateRef","viewDate","cellClick","weekNumberCellClick","focusedCellId",4,"kFor","kForOf"],[1,"k-calendar-weekdays","k-calendar-table"],[1,"k-calendar-thead"],[1,"k-calendar-tr"],["class","k-calendar-th","scope","col","role","columnheader",4,"ngFor","ngForOf"],["scope","col","role","columnheader",1,"k-calendar-th"],["kendoCalendarView","","role","rowgroup",1,"k-calendar-tbody",3,"cellClick","weekNumberCellClick","focusedCellId","showOtherMonthDays","headerTitle","activeView","isActive","min","max","cellUID","focusedDate","selectedDates","weekNumber","templateRef","weekNumberTemplateRef","viewDate"]],template:function(e,t){if(1&e){const o=s.RV6();s.j41(0,"kendo-calendar-header",1),s.bIt("todayButtonClick",function(a){return s.eBV(o),s.Njj(t.todayButtonClick.emit(a))}),s.k0s(),s.DNE(1,oot,4,3,"table",2),s.j41(2,"kendo-virtualization",3),s.bIt("pageChange",function(a){return s.eBV(o),s.Njj(t.onPageChange(a))})("scrollChange",function(a){return s.eBV(o),s.Njj(t.scrollChange(a))})("activeIndexChange",function(a){return s.eBV(o),s.Njj(t.setActiveDate(a))}),s.j41(3,"table",4,0),s.bIt("focus",function(){return s.eBV(o),s.Njj(t.focusCalendar.emit())})("blur",function(a){return s.eBV(o),s.Njj(t.blurCalendar.emit(a))}),s.j41(5,"colgroup"),s.DNE(6,rot,1,0,"col",5),s.k0s(),s.DNE(7,aot,1,13,"tbody",6),s.k0s()()}2&e&&(s.Y8G("currentDate",t.activeDate)("min",t.min)("max",t.max)("id",t.id)("activeView",t.activeView)("templateRef",t.headerTitleTemplateRef),s.R7$(),s.Y8G("ngIf",t.isMonthView()),s.R7$(),s.Y8G("tabindex",-1)("skip",t.skip)("take",t.take)("total",t.total)("itemHeight",t.viewHeight)("topOffset",t.viewOffset)("bottomOffset",t.bottomOffset)("scrollOffsetSize",t.viewOffset)("maxScrollDifference",t.viewHeight),s.R7$(),s.BMQ("tabindex",t.getTabIndex())("aria-labelledby",t.id),s.R7$(3),s.Y8G("ngForOf",t.cols),s.R7$(),s.Y8G("kForOf",t.dates))},dependencies:[EU,_0,_Ce,q,ut,bU],encapsulation:2,changeDetection:0}),i})(),ICe=(()=>{class i{constructor(e,t){this.dom=e,this.zone=t}configure(e){const t=Math.max(this.dom.viewHeight(e)/this.dom.navigationItemHeight,1);this.divideByMagnitude=(i=>n=>Math.floor(n/i))(t),this.powerByMagnitude=(i=>n=>n*i)(t)}sync(e,t){this.unsubscribe(),e&&t&&(this.navigator=e,this.view=t,this.zone.runOutsideAngular(()=>{let o,r;this.navSubscription=e.scroll$().subscribe(a=>{r?r=!1:(o=!0,this.scrollSiblingOf(a.target))}),this.viewSubscription=t.scroll$().subscribe(a=>{o?o=!1:(r=!0,this.scrollSiblingOf(a.target))})}))}scrollSiblingOf(e){const t=this.siblingComponent(e),o=this.calculateScroll(t,e.scrollTop);t.scrollTo(o)}siblingComponent(e){return this.navigator.container.nativeElement===e?this.view:this.navigator}calculateScroll(e,t){return(e===this.navigator?this.divideByMagnitude:this.powerByMagnitude)(t)}destroy(){this.unsubscribe()}unsubscribe(){this.navSubscription&&this.navSubscription.unsubscribe(),this.viewSubscription&&this.viewSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(gR),s.KVO(s.SKi))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),RCe=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoCalendarNavigationItemTemplate",""]]}),i})();class D_{constructor(){this.onFocus=new s.bkB,this.onBlur=new s.bkB,this.sameDateSelected=new s.bkB,this.dateCompletenessChange=new s.bkB}}let yat=(()=>{class i extends IU{constructor(e){super(),this.service=e}get override(){return!0}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-multiviewcalendar-messages"]],features:[s.Jv_([{provide:IU,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),LU=(()=>{class i extends yi{}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275dir=s.FsC({type:i,selectors:[["kendo-calendar-messages-base"]],inputs:{today:"today",prevButtonTitle:"prevButtonTitle",nextButtonTitle:"nextButtonTitle",parentViewButtonTitle:"parentViewButtonTitle"},features:[s.Vt3]}),i})(),Dat=(()=>{class i extends LU{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoCalendarLocalizedMessages",""]],features:[s.Jv_([{provide:LU,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})();const ACe="http://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/#toc-using-with-json",xCe=i=>i?i.virtualization:null,Mat={multi:!0,provide:zn,useExisting:(0,s.Rfq)(()=>sw)},Iat={multi:!0,provide:Lo,useExisting:(0,s.Rfq)(()=>sw)},Rat={provide:ji,useExisting:(0,s.Rfq)(()=>sw)};let sw=(()=>{class i{constructor(e,t,o,r,a,l,c,u,f,_,S,v,b){this.bus=e,this.dom=t,this.element=o,this.navigator=r,this.renderer=a,this.cdr=l,this.ngZone=c,this.injector=u,this.scrollSyncService=f,this.disabledDatesService=_,this.localization=S,this.selectionService=v,this.pickerService=b,this.rangeValidation=!1,this.selection="single",this.disabled=!1,this.tabindex=0,this.navigation=!0,this.activeView=Et[Et.month],this.bottomView=Et[Et.month],this.topView=Et[Et.century],this.animateNavigation=!1,this.weekNumber=!1,this.activeViewChange=new s.bkB,this.navigate=new s.bkB,this.activeViewDateChange=new s.bkB,this.onBlur=new s.bkB,this.onFocus=new s.bkB,this.valueChange=new s.bkB,this._size=_f,this.isActive=!1,this.cellUID=tn(),this.selectedDates=[],this._min=new Date(Ru),this._max=new Date(Au),this._focusedDate=kd(),this.onControlChange=Xt,this.onControlTouched=Xt,this.onValidatorChange=Xt,this.minValidateFn=Xt,this.maxValidateFn=Xt,this.syncNavigation=!0,this._type="infinite",this.domEvents=[],this.resolvedPromise=Promise.resolve(null),this.destroyed=!1,(0,_t.$)(ew),this.id=`kendo-calendarid-${this.bus.calendarId}`,this.setClasses(o.nativeElement),this.pickerService&&(this.pickerService.calendar=this)}set showOtherMonthDays(e){this._showOtherMonthDays=e}get showOtherMonthDays(){return void 0===this._showOtherMonthDays?"classic"===this.type:this._showOtherMonthDays}get popupId(){return`kendo-popup-${this.bus.calendarId}`}set focusedDate(e){if(this.activeViewDate&&!Xi(this._focusedDate,e)){const t=this.bus.service(this.activeViewEnum),o=t.lastDayOfPeriod(this.activeViewDate);t.isInRange(e,this.activeViewDate,o)||this.emitNavigate(e)}this._focusedDate=e||kd(),this.setAriaActivedescendant()}get focusedDate(){return this._focusedDate>this.max?this.max:this._focusedDate<this.min?this.min:this._focusedDate}get headerId(){return this.id+"-header"}set min(e){this._min=e||new Date(Ru)}get min(){return this._min}set max(e){this._max=e||new Date(Au)}get max(){return this._max}get value(){return this._value}set value(e){this.verifyValue(e),this._value=Array.isArray(e)?e.filter(o=>Nt(o)).map(o=>he(o)):he(e);const t=[].concat(e).filter(o=>Nt(o)).map(o=>he(o));if(!CU(t,this.selectedDates)){const o=fS(t);this.rangePivot=he(o),this.focusedDate=he(o)||this.focusedDate,this.selectedDates=t}}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set disabledDates(e){this.disabledDatesService.initialize(e),this._disabledDates=e}get disabledDates(){return this._disabledDates}set type(e){this.renderer.removeClass(this.element.nativeElement,`k-calendar-${this.type}`),this.renderer.addClass(this.element.nativeElement,`k-calendar-${e}`),this._type=e}get type(){return this._type}set cellTemplateRef(e){this._cellTemplateRef=e}get cellTemplateRef(){return this._cellTemplateRef||this.cellTemplate}set monthCellTemplateRef(e){this._monthCellTemplateRef=e}get monthCellTemplateRef(){return this._monthCellTemplateRef||this.monthCellTemplate}set yearCellTemplateRef(e){this._yearCellTemplateRef=e}get yearCellTemplateRef(){return this._yearCellTemplateRef||this.yearCellTemplate}set decadeCellTemplateRef(e){this._decadeCellTemplateRef=e}get decadeCellTemplateRef(){return this._decadeCellTemplateRef||this.decadeCellTemplate}set centuryCellTemplateRef(e){this._centuryCellTemplateRef=e}get centuryCellTemplateRef(){return this._centuryCellTemplateRef||this.centuryCellTemplate}set weekNumberTemplateRef(e){this._weekNumberTemplateRef=e}get weekNumberTemplateRef(){return this._weekNumberTemplateRef||this.weekNumberTemplate}set headerTitleTemplateRef(e){this._headerTitleTemplateRef=e}get headerTitleTemplateRef(){return this._headerTitleTemplateRef||this.headerTitleTemplate}set navigationItemTemplateRef(e){this._navigationItemTemplateRef=e}get navigationItemTemplateRef(){return this._navigationItemTemplateRef||this.navigationItemTemplate}set size(e){const t="infinite"===this.type?this.element:this.multiViewCalendar.element;this.renderer.removeClass(t.nativeElement,Js("calendar",this.size));const o=e||_f;"none"!==o&&this.renderer.addClass(t.nativeElement,Js("calendar",o)),this._size=o}get size(){return this._size}get activeViewEnum(){const e=Et[this.activeView];return e<this.bottomViewEnum?this.bottomViewEnum:e}get bottomViewEnum(){return Et[this.bottomView]}get topViewEnum(){return Et[this.topView]}get widgetId(){return this.id}get ariaDisabled(){return"classic"===this.type?void 0:this.disabled}ngOnInit(){"infinite"===this.type&&(this.dom.calculateHeights(this.element.nativeElement),this.scrollSyncService.configure(this.activeViewEnum)),this.localizationChangeSubscription=this.localization.changes.subscribe(()=>this.cdr.markForCheck()),this.viewChangeSubscription=this.bus.viewChanged.subscribe(({view:e})=>this.handleActiveViewChange(Et[e])),this.control=this.injector.get(Ci,null),this.element&&this.ngZone.runOutsideAngular(()=>{this.bindEvents()})}ngOnChanges(e){this.verifyChanges(),this.bus.configure(this.bottomViewEnum,this.topViewEnum),this.scrollSyncService.configure(this.activeViewEnum),uCe(e,"focusedDate")&&(this.focusedDate=E_(e.focusedDate.currentValue,this.min,this.max)),e.navigation&&(this.syncNavigation=!0),(e.min||e.max||e.rangeValidation)&&(this.minValidateFn=this.rangeValidation?pR(this.min):Xt,this.maxValidateFn=this.rangeValidation?fR(this.max):Xt,this.onValidatorChange())}ngAfterViewInit(){this.setAriaActivedescendant(),"none"!==this.size&&this.renderer.addClass(("infinite"===this.type?this.element:this.multiViewCalendar.element).nativeElement,Js("calendar",this.size))}ngAfterViewChecked(){this.syncNavigation&&(this.syncNavigation=!1,this.scrollSyncService.sync(xCe(this.navigationView),xCe(this.monthView)))}ngOnDestroy(){this.scrollSyncService.destroy(),this.domEvents.forEach(e=>e()),this.pickerService&&(this.pickerService.calendar=null),this.viewChangeSubscription&&this.viewChangeSubscription.unsubscribe(),this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.destroyed=!0}onResize(){this.focusedDate=new Date(this.focusedDate),this.cdr.detectChanges()}focus(){this.currentlyFocusedElement="infinite"===this.type?this.element?.nativeElement.querySelector(".k-content .k-calendar-table"):this.currentlyFocusedElement=this.element?.nativeElement.querySelector(".k-content.k-calendar-table"),this.currentlyFocusedElement?.focus()}blur(){const e="infinite"===this.type?this.currentlyFocusedElement:this.multiViewCalendar;Nt(e)&&e.blur()}containsElement(e){return!!UQ(e,t=>t===this.element.nativeElement)}handleNavigation(e){if(this.disabled)return;const t=e?new Date(he(e).setDate(1)):this.focusedDate;this.focusedDate=E_(t,this.min,this.max),this.detectChanges()}onPageChange(){s.SKi.isInAngularZone()||(this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.pageChangeSubscription=Zi(this.resolvedPromise).subscribe(()=>{this.detectChanges()}))}handleMultiViewCalendarValueChange(e,t){const o=Array.isArray(e)?e:[e];this.handleDateChange({selectedDates:o,focusedDate:t})}handleDateChange(e){const t=Array.isArray(e.selectedDates)?e.selectedDates:[e.selectedDates],o=this.bus.canMoveDown(this.activeViewEnum),r=t.filter(a=>!this.disabledDatesService.isDateDisabled(a));if(this.focusedDate=e.focusedDate||this.focusedDate,!this.disabled){if(!o&&CU(r,this.selectedDates))return void this.emitSameDate();if(o)return void this.bus.moveDown(this.activeViewEnum);this.disabledDatesService.isDateDisabled(this.focusedDate)||this.ngZone.run(()=>{this.selectedDates=r.map(a=>he(a)),this.value=this.parseSelectionToValue(r),this.onControlChange(this.parseSelectionToValue(r)),this.valueChange.emit(this.parseSelectionToValue(r)),this.cdr.markForCheck()})}}writeValue(e){this.verifyValue(e),this.value=e,this.cdr.markForCheck()}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)}registerOnValidatorChange(e){this.onValidatorChange=e}activeCellTemplate(){switch(this.activeViewEnum){case Et.month:return this.monthCellTemplateRef||this.cellTemplateRef;case Et.year:return this.yearCellTemplateRef;case Et.decade:return this.decadeCellTemplateRef;case Et.century:return this.centuryCellTemplateRef;default:return null}}handleNavigate(e){this.focusedDate=e.focusedDate,this.activeView=e.activeView,this.emitNavigate(this.focusedDate)}emitNavigate(e){this.navigate.emit({activeView:Et[this.activeViewEnum],focusedDate:e})}emitEvent(e,t){Te(e)&&this.ngZone.run(()=>{e.emit(t)})}handleActiveDateChange(e){this.activeViewDate=e,this.emitEvent(this.activeViewDateChange,e)}handleActiveViewChange(e){this.activeView=e,this.emitEvent(this.activeViewChange,e),"infinite"===this.type&&this.scrollSyncService.configure(this.activeViewEnum),this.detectChanges()}handleCellClick({date:e,modifiers:t}){this.focus(),this.selectionService.lastClicked=e,this.performSelection(e,t)}handleWeekNumberClick(e){"single"!==this.selection&&this.ngZone.run(()=>{this.handleDateChange({selectedDates:e,focusedDate:fS(e)})})}handleBlur(e){this.element.nativeElement.contains(e.relatedTarget)||(this.isActive=!1,!this.pickerService&&hU(this.control)?this.ngZone.run(()=>{this.onControlTouched(),this.emitBlur(e),this.cdr.markForCheck()}):(this.emitBlur(e),this.detectChanges()))}handleFocus(){this.isActive=!0,s.SKi.isInAngularZone()||this.detectChanges(),this.emitFocus()}handleMultiViewCalendarKeydown(e){Nt(this.pickerService)&&e.keyCode===G.Enter&&e.preventDefault()}setClasses(e){this.renderer.addClass(e,"k-widget"),this.renderer.addClass(e,"k-calendar"),this.renderer.addClass(e,`k-calendar-${this.type}`)}verifyChanges(){if((0,s.naY)()){if(this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-max.");if(this.bottomViewEnum>this.topViewEnum)throw new Error("The topView should be greater than bottomView. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-bottomview and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-topview.")}}verifyValue(e){if((0,s.naY)()){if("single"===this.selection&&e&&!(e instanceof Date))throw new Error(`The 'value' should be a valid JavaScript Date instance. Check ${ACe} for possible resolution.`);if("multiple"===this.selection&&e&&Array.isArray(e)&&!e.every(o=>o instanceof Date))throw new Error(`The 'value' should be an array of valid JavaScript Date instances. Check ${ACe} for possible resolution.`)}}bindEvents(){const e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"focus",this.handleFocus.bind(this)),this.renderer.listen(e,"mousedown",drt),this.renderer.listen(e,"click",this.handleComponentClick.bind(this)),this.renderer.listen(e,"keydown",this.handleKeydown.bind(this)))}emitBlur(e){this.pickerService&&this.pickerService.onBlur.emit(e),this.onBlur.emit()}emitFocus(){this.pickerService&&this.pickerService.onFocus.emit(),this.onFocus.emit()}handleComponentClick(){this.isActive||("infinite"===this.type&&this.monthView.isScrolled()&&(this.focusedDate=he(this.focusedDate),this.detectChanges()),this.focus())}handleKeydown(e){if("infinite"===this.type){const t=e.ctrlKey||e.metaKey,o=-1!==[G.ArrowUp,G.ArrowRight,G.ArrowDown,G.ArrowLeft].indexOf(e.keyCode);if(Nt(this.pickerService)&&o&&e.altKey)return;t&&o&&e.preventDefault(),Nt(this.pickerService)&&e.keyCode===G.Enter&&e.preventDefault();const l=E_(this.navigator.move(this.focusedDate,this.navigator.action(e),this.activeViewEnum),this.min,this.max);Xi(this.focusedDate,l)||(this.focusedDate=l,this.detectChanges(),e.preventDefault()),e.keyCode===G.Enter&&(this.selectionService.lastClicked=this.focusedDate,this.performSelection(this.focusedDate,e)),e.keyCode===G.KeyT&&this.focusToday(),oCe(e)&&(e.anyArrow=!0,this.performSelection(this.focusedDate,e))}}focusToday(){this.focusedDate=kd(),this.bus.moveToBottom(this.activeViewEnum),this.cdr.detectChanges()}detectChanges(){this.destroyed||this.cdr.detectChanges()}emitSameDate(){this.pickerService&&this.pickerService.sameDateSelected.emit()}setAriaActivedescendant(){const e=this.element.nativeElement?.querySelector(".k-content .k-calendar-table");if(!Nt(e)||"classic"===this.type&&!e.hasAttribute("aria-activedescendant"))return;if("classic"===this.type)return void this.renderer.removeAttribute(e,"aria-activedescendant");const o=this.cellUID+this.focusedDate.getTime();this.renderer.setAttribute(e,"aria-activedescendant",o)}parseSelectionToValue(e){return e=e||[],"single"===this.selection?he(fS(e)):e.map(t=>he(t))}performSelection(e,t){const o=this.selectionService.performSelection({date:e,modifiers:t,selectionMode:this.selection,activeViewEnum:this.activeViewEnum,rangePivot:this.rangePivot,selectedDates:this.selectedDates});this.rangePivot=o.rangePivot,this.handleDateChange({selectedDates:o.selectedDates,focusedDate:e})}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Md),s.rXU(gR),s.rXU(s.aKT),s.rXU(mR),s.rXU(s.sFG),s.rXU(s.gRc),s.rXU(s.SKi),s.rXU(s.zZn),s.rXU(ICe),s.rXU(gf),s.rXU(z),s.rXU(yU),s.rXU(D_,8))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-calendar"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,DU,5),s.wni(o,hR,5),s.wni(o,wU,5),s.wni(o,kU,5),s.wni(o,OU,5),s.wni(o,TU,5),s.wni(o,MU,5),s.wni(o,RCe,5)),2&e){let r;s.mGM(r=s.lsd())&&(t.cellTemplate=r.first),s.mGM(r=s.lsd())&&(t.monthCellTemplate=r.first),s.mGM(r=s.lsd())&&(t.yearCellTemplate=r.first),s.mGM(r=s.lsd())&&(t.decadeCellTemplate=r.first),s.mGM(r=s.lsd())&&(t.centuryCellTemplate=r.first),s.mGM(r=s.lsd())&&(t.weekNumberTemplate=r.first),s.mGM(r=s.lsd())&&(t.headerTitleTemplate=r.first),s.mGM(r=s.lsd())&&(t.navigationItemTemplate=r.first)}},viewQuery:function(e,t){if(1&e&&(s.GBs(TCe,5),s.GBs(MCe,5),s.GBs(Sf,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.navigationView=o.first),s.mGM(o=s.lsd())&&(t.monthView=o.first),s.mGM(o=s.lsd())&&(t.multiViewCalendar=o.first)}},hostVars:6,hostBindings:function(e,t){2&e&&(s.BMQ("id",t.widgetId)("aria-disabled",t.ariaDisabled),s.AVh("k-week-number",t.weekNumber)("k-disabled",t.ariaDisabled))},inputs:{showOtherMonthDays:"showOtherMonthDays",id:"id",focusedDate:"focusedDate",min:"min",max:"max",rangeValidation:"rangeValidation",selection:"selection",value:"value",disabled:"disabled",tabindex:"tabindex",tabIndex:"tabIndex",disabledDates:"disabledDates",navigation:"navigation",activeView:"activeView",bottomView:"bottomView",topView:"topView",type:"type",animateNavigation:"animateNavigation",weekNumber:"weekNumber",cellTemplateRef:[s.Mj6.None,"cellTemplate","cellTemplateRef"],monthCellTemplateRef:[s.Mj6.None,"monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:[s.Mj6.None,"yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:[s.Mj6.None,"decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:[s.Mj6.None,"centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:[s.Mj6.None,"weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:[s.Mj6.None,"headerTitleTemplate","headerTitleTemplateRef"],navigationItemTemplateRef:[s.Mj6.None,"navigationItemTemplate","navigationItemTemplateRef"],size:"size"},outputs:{activeViewChange:"activeViewChange",navigate:"navigate",activeViewDateChange:"activeViewDateChange",onBlur:"blur",onFocus:"focus",valueChange:"valueChange"},exportAs:["kendo-calendar"],features:[s.Jv_([Md,Mat,Iat,Rat,z,gf,{provide:He,useValue:"kendo.calendar"},mR,ICe,yU]),s.OA$],decls:3,vars:2,consts:()=>{let n,e,t,o;return n="Oggi",e="Vai alla vista precedente",t="Vai alla vista successiva",o="Vai alla vista genitore",[["multiviewcalendar",""],["kendoCalendarLocalizedMessages","","today",n,"prevButtonTitle",e,"nextButtonTitle",t,"parentViewButtonTitle",o],[4,"ngIf"],[3,"activeView","focusedDate","min","max","templateRef","valueChange","pageChange",4,"ngIf"],[3,"todayButtonClick","cellClick","weekNumberCellClick","activeDateChange","pageChange","focusCalendar","blurCalendar","activeView","showOtherMonthDays","isActive","id","cellTemplateRef","headerTitleTemplateRef","weekNumberTemplateRef","cellUID","min","max","focusedDate","weekNumber","selectedDates","tabIndex","disabled"],[3,"resize"],[3,"valueChange","pageChange","activeView","focusedDate","min","max","templateRef"],[3,"activeViewChange","navigate","valueChange","focusCalendar","blur","blurEvent","keydown","views","min","max","id","disabled","isActive","showOtherMonthDays","tabIndex","activeView","bottomView","topView","weekNumber","animateNavigation","cellTemplate","monthCellTemplate","yearCellTemplate","decadeCellTemplate","centuryCellTemplate","headerTitleTemplate","weekNumberTemplate","focusedDate","selection","value","disabledDates"],[3,"today","prevButtonTitle","nextButtonTitle","parentViewButtonTitle"]]},template:function(e,t){1&e&&(s.eu8(0,1),s.DNE(1,cot,4,16,"ng-container",2)(2,dot,4,28,"ng-container",2)),2&e&&(s.R7$(),s.Y8G("ngIf","infinite"===t.type),s.R7$(),s.Y8G("ngIf","classic"===t.type))},dependencies:[TCe,MCe,hs,Sf,yat,Dat,q],encapsulation:2,changeDetection:0}),i})();const PU=()=>(i,n)=>!Nt(i.value)&&n?{incompleteDate:!0}:null;var GU=function(i){return i[i.Up=0]="Up",i[i.Down=1]="Down",i[i.None=2]="None",i}(GU||{});let NCe=(()=>{class i extends yi{}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275dir=s.FsC({type:i,selectors:[["kendo-dateinput-messages-base"]],inputs:{decrement:"decrement",increment:"increment"},features:[s.Vt3]}),i})(),Aat=(()=>{class i extends NCe{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoDateInputLocalizedMessages",""]],features:[s.Jv_([{provide:NCe,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})(),LCe=0;const Uat=/year|month|<day>/,Fat=/hour|minute|second|millisecond/;class Bat{constructor(n){this.service=n,this.cldr={},this.localeId=n.localeId,this.format=n.format,this.toString=n.toString,this.formatDate=n.formatDate,this.parseDate=n.parseDate,this.parseNumber=n.parseNumber,this.formatNumber=n.formatNumber,this.splitDateFormat=n.splitDateFormat,this.numberSymbols=n.numberSymbols,this.firstDay=n.firstDay,this.weekendRange=n.weekendRange,this.dateFieldName=n.dateFieldName,this.dateFormatNames=(t,o)=>this.service.dateFormatNames(o,t||this.localeId);const e=(0,xt.fK)(this.localeId);this.cldr[e.name]=e}}let SR=(()=>{class i{constructor(e,t,o,r,a,l,c,u){this.cdr=e,this.intl=t,this.renderer=o,this.wrapper=r,this.ngZone=a,this.injector=l,this.localization=c,this.pickerService=u,this.caretAltUpIcon=bu,this.caretAltDownIcon=qo,this.disabled=!1,this.readonly=!1,this.title="",this.tabindex=0,this.role="textbox",this.ariaReadOnly=!1,this.format="d",this.placeholder=null,this.steps={second:1,minute:1,hour:1,day:1,month:1,year:1},this.rangeValidation=!0,this.autoCorrectParts=!0,this.autoSwitchParts=!0,this.autoSwitchKeys=[],this.allowCaretMode=!1,this.autoFill=!1,this.incompleteDateValidation=!1,this.twoDigitYearMax=68,this.enableMouseWheel=!0,this.spinners=!1,this.valueChange=new s.bkB,this.valueUpdate=new s.bkB,this.onFocus=new s.bkB,this.onBlur=new s.bkB,this.arrow=GU,this.arrowDirection=GU.None,this.formatSections={date:!1,time:!1},this.hasMousedown=!1,this.focusedPriorToMousedown=!1,this.isDateIncomplete=!1,this.currentFormat="",this.minValidator=Xt,this.maxValidator=Xt,this.incompleteValidator=Xt,this._value=null,this._active=!1,this._focusableId="dateinput-"+LCe++,this._formatPlaceholder="wide",this.kendoDate=null,this.kendoDateObject=null,this.domEvents=[],this.onControlChange=Xt,this.onControlTouched=Xt,this.onValidatorChange=Xt,this._size=_f,this._rounded=mS,this._fillMode=_S,this.subs=new be.yU,(0,_t.$)(ew),this.pickerService?this.pickerService.input=this:this.ariaReadOnly=null}set focusableId(e){e&&(this._focusableId=e)}get focusableId(){return this._focusableId}set pickerType(e){e&&(this.focusableId=`${e}-${LCe}`)}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set formatPlaceholder(e){this._formatPlaceholder=e||"wide"}get formatPlaceholder(){return this._formatPlaceholder}set value(e){this.verifyValue(e),this._value=he(e),this.valueUpdate.emit(he(e))}get value(){return this._value}set size(e){this.renderer.removeClass(this.wrapper.nativeElement,Js("input",this.size));const t=e||_f;"none"!==t&&this.renderer.addClass(this.wrapper.nativeElement,Js("input",t)),this._size=t}get size(){return this._size}set rounded(e){this.renderer.removeClass(this.wrapper.nativeElement,Td(this.rounded));const t=e||mS;"none"!==t&&this.renderer.addClass(this.wrapper.nativeElement,Td(t)),this._rounded=t}get rounded(){return this._rounded}set fillMode(e){this.renderer.removeClass(this.wrapper.nativeElement,dr("input",this.fillMode));const t=e||_S;"none"!==t&&(this.renderer.addClass(this.wrapper.nativeElement,dr("input",t)),this.spinners&&this.spinup&&this.spindown&&(this.setSpinnerFill(this.spinup.nativeElement,t,this.fillMode),this.setSpinnerFill(this.spindown.nativeElement,t,this.fillMode))),this._fillMode=t}get fillMode(){return this._fillMode}get wrapperClass(){return!0}get disabledClass(){return this.disabled}get inputElement(){return this.dateInput?this.dateInput.nativeElement:null}get inputValue(){return(this.inputElement||{}).value||""}get isActive(){return this._active}set isActive(e){if(this._active=e,this.wrapper&&!Nt(this.pickerService)){const t=this.wrapper.nativeElement;e?this.renderer.addClass(t,"k-focus"):this.renderer.removeClass(t,"k-focus")}}get formControl(){return this.injector.get(Ci,null)?.control||null}get options(){return{format:this.format,steps:this.steps,readonly:this.readonly,formatPlaceholder:this.formatPlaceholder,placeholder:this.placeholder,autoCorrectParts:this.autoCorrectParts,autoSwitchParts:this.autoSwitchParts,selectPreviousSegmentOnBackspace:!0,autoSwitchKeys:this.autoSwitchKeys,twoDigitYearMax:this.twoDigitYearMax,enableMouseWheel:this.enableMouseWheel,selectNearestSegmentOnFocus:!0,allowCaretMode:this.allowCaretMode,autoFill:this.autoFill,value:this.value,intlService:new Bat(this.intl)}}isEmpty(){const e=this.dateInput.nativeElement.value;return!e||!String(e).trim()}handleDragAndDrop(e){e.preventDefault()}containsElement(e){return!!UQ(e,t=>t===this.wrapper.nativeElement)}ngOnInit(){this.kendoDate&&this.kendoDate.destroy(),this.kendoDate=this.initKendoDate(),this.kendoDateObject=this.kendoDate.dateObject,this.updateFormatSections(),this.subs.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.ngControl=this.injector.get(Ci,null),this.wrapper&&this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex")}ngOnChanges(e){if(this.verifyRange(),(e.min||e.max||e.rangeValidation||e.incompleteDateValidation)&&(this.minValidator=this.rangeValidation?pR(this.min):Xt,this.maxValidator=this.rangeValidation?fR(this.max):Xt,this.incompleteValidator=this.incompleteDateValidation?PU():Xt,this.onValidatorChange()),!this.kendoDate||!Xi(this.value,this.kendoDate.value)){if(!this.kendoDate)return;this.kendoDate.writeValue(this.value)}if(e.format||e.placeholder){if(!this.kendoDate)return;this.kendoDate?.setOptions(this.options,!0),this.updateFormatSections()}}updateFormatSections(){this.formatSections=this.intl.splitDateFormat(this.kendoDate.inputFormat).reduce(({date:e,time:t},o)=>({date:e||Uat.test(o.type),time:t||Fat.test(o.type)}),{date:!1,time:!1})}updateIncompleteValidationStatus(){const e=this.isDateIncomplete;this.isDateIncomplete=this.kendoDateObject.hasValue()&&null===this.value,e!==this.isDateIncomplete&&this.incompleteDateValidation&&(Nt(this.ngControl)&&!Nt(this.pickerService)?(this.cdr.markForCheck(),this.ngZone.run(()=>this.onValidatorChange())):Nt(this.pickerService)&&this.pickerService.dateCompletenessChange.emit())}ngAfterViewInit(){this.setComponentClasses();const e=this.injector.get(Ci,null)?.control;this.control=e,this.subs.add(this.formControl?.statusChanges.subscribe(()=>this.setAriaInvalid())),this.setAriaInvalid()}ngOnDestroy(){this.subs.unsubscribe(),this.pickerService&&(this.pickerService.input=null),this.domEvents.forEach(e=>e())}setAriaInvalid(){this.control&&this.renderer.setAttribute(this.inputElement,"aria-invalid",this.control.invalid?"true":"false")}validate(e){return this.minValidator(e)||this.maxValidator(e)||this.incompleteValidator(e,this.isDateIncomplete)}registerOnValidatorChange(e){this.onValidatorChange=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}writeValue(e){this.verifyValue(e),this.value=he(e),this.kendoDate?.setOptions(this.options,!0),this.kendoDateObject?.setValue(this.value),this.kendoDate?.refreshElementValue()}triggerChange(){const e=this.kendoDate.value;+e!=+this.value&&(this.value=he(e),this.notify())}notify(){this.ngZone.run(()=>{this.onControlChange(he(this.value)),this.valueChange.emit(he(this.value))})}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}focus(){this.kendoDate&&this.kendoDate.focus()}blur(){const e=this.inputElement;e&&e.blur()}handleButtonClick(e){this.arrowDirection=GU.None,this.kendoDate.focus(),this.kendoDate.modifyDateSegmentValue(e)}initKendoDate(){return new wst(this.dateInput.nativeElement,{...this.options,events:{valueChange:this.onWidgetValueChange.bind(this),inputEnd:this.onWidgetInputEnd.bind(this),focusEnd:this.onWidgetFocus.bind(this),blurEnd:this.onWidgetBlur.bind(this),keydown:this.onWidgetKeyDown.bind(this)}})}onWidgetValueChange(){this.triggerChange()}onWidgetKeyDown(){this.kendoDateObject=this.kendoDate.dateObject}onWidgetInputEnd(){this.updateIncompleteValidationStatus()}onWidgetFocus({}){this.isActive=!0,Te(this.onFocus)?this.ngZone.run(()=>{this.emitFocus(event)}):this.emitFocus(event)}onWidgetBlur({}){this.isActive=!1,Te(this.onBlur)||hU(this.ngControl)?this.ngZone.run(()=>{this.onControlTouched(),this.emitBlur(event),this.cdr.markForCheck()}):this.emitBlur(event)}verifyRange(){if((0,s.naY)()&&!DQ(this.min,this.max))throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-max.")}verifyValue(e){if((0,s.naY)()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance or null. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/dateinput/#toc-using-with-json for possible resolution.")}intlChange(){this.kendoDate.setOptions(this.options,!0),this.updateFormatSections()}emitFocus(e){this.onFocus.emit(),this.pickerService&&this.pickerService.onFocus.emit(e)}emitBlur(e){this.onBlur.emit(),this.pickerService&&this.pickerService.onBlur.emit(e)}setSpinnerFill(e,t,o){"none"!==o&&(this.renderer.removeClass(e,`k-button-${o}`),this.renderer.removeClass(e,`k-button-${o}-base`)),this.renderer.addClass(e,`k-button-${t}`),this.renderer.addClass(e,`k-button-${t}-base`)}setComponentClasses(){"none"!==this.size&&this.renderer.addClass(this.wrapper.nativeElement,Js("input",this.size)),"none"!==this.rounded&&this.renderer.addClass(this.wrapper.nativeElement,Td(this.rounded)),"none"!==this.fillMode&&this.renderer.addClass(this.wrapper.nativeElement,dr("input",this.fillMode)),this.spinners&&"none"!==this.fillMode&&(this.setSpinnerFill(this.spinup.nativeElement,this.fillMode),this.setSpinnerFill(this.spindown.nativeElement,this.fillMode))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.gRc),s.rXU(xt.Bs),s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(s.SKi),s.rXU(s.zZn),s.rXU(z),s.rXU(D_,8))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-dateinput"]],viewQuery:function(e,t){if(1&e&&(s.GBs(uot,7),s.GBs(hot,5),s.GBs(pot,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.dateInput=o.first),s.mGM(o=s.lsd())&&(t.spinup=o.first),s.mGM(o=s.lsd())&&(t.spindown=o.first)}},hostVars:8,hostBindings:function(e,t){2&e&&s.AVh("k-readonly",t.readonly)("k-input",t.wrapperClass)("k-dateinput",t.wrapperClass)("k-disabled",t.disabledClass)},inputs:{focusableId:"focusableId",pickerType:"pickerType",disabled:"disabled",readonly:"readonly",title:"title",tabindex:"tabindex",role:"role",ariaReadOnly:"ariaReadOnly",tabIndex:"tabIndex",format:"format",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",steps:"steps",max:"max",min:"min",rangeValidation:"rangeValidation",autoCorrectParts:"autoCorrectParts",autoSwitchParts:"autoSwitchParts",autoSwitchKeys:"autoSwitchKeys",allowCaretMode:"allowCaretMode",autoFill:"autoFill",incompleteDateValidation:"incompleteDateValidation",twoDigitYearMax:"twoDigitYearMax",enableMouseWheel:"enableMouseWheel",value:"value",spinners:"spinners",isPopupOpen:"isPopupOpen",hasPopup:"hasPopup",size:"size",rounded:"rounded",fillMode:"fillMode"},outputs:{valueChange:"valueChange",valueUpdate:"valueUpdate",onFocus:"focus",onBlur:"blur"},exportAs:["kendo-dateinput"],features:[s.Jv_([{provide:zn,useExisting:(0,s.Rfq)(()=>i),multi:!0},{provide:Lo,useExisting:(0,s.Rfq)(()=>i),multi:!0},{provide:He,useValue:"kendo.dateinput"},{provide:ji,useExisting:(0,s.Rfq)(()=>i)},z]),s.OA$],decls:4,vars:16,consts:()=>{let n,e;return n="Aumenta",e="Decrementa",[["dateInput",""],["spinup",""],["spindown",""],["kendoDateInputLocalizedMessages","","increment",n,"decrement",e],["autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"k-input-inner",3,"id","title","tabindex","disabled","readonly","placeholder","kendoEventsOutsideAngular","scope"],["class","k-input-spinner k-spin-button",3,"mousedown",4,"ngIf"],[1,"k-input-spinner","k-spin-button",3,"mousedown"],["tabindex","-1",1,"k-spinner-increase","k-button","k-icon-button",3,"mousedown","mouseleave","click","title"],["name","caret-alt-up","innerCssClass","k-button-icon",3,"svgIcon"],["tabindex","-1",1,"k-spinner-decrease","k-button","k-icon-button",3,"click","mousedown","mouseleave","title"],["name","caret-alt-down","innerCssClass","k-button-icon",3,"svgIcon"]]},template:function(e,t){1&e&&(s.eu8(0,3),s.nrm(1,"input",4,0),s.DNE(3,mot,7,10,"span",5)),2&e&&(s.R7$(),s.Y8G("id",t.focusableId)("title",t.title)("tabindex",t.tabindex)("disabled",t.disabled)("readonly",t.readonly)("placeholder",t.placeholder)("kendoEventsOutsideAngular",s.l_i(13,fot,t.handleDragAndDrop,t.handleDragAndDrop))("scope",t),s.BMQ("role",t.role)("aria-readonly",t.ariaReadOnly)("aria-expanded",t.isPopupOpen)("aria-haspopup",t.hasPopup),s.R7$(2),s.Y8G("ngIf",t.spinners))},dependencies:[Qe,Aat,xo,q],encapsulation:2,changeDetection:0}),i})();class vR{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}const ow=new s.nKC("dateinputs-touch-enabled"),GCe=i=>n=>i&&n.value&&i(n.value)?{disabledDate:!0}:null;let HQ=(()=>{class i extends LU{constructor(e){super(),this.service=e}get override(){return!0}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-calendar-messages"]],features:[s.Jv_([{provide:LU,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),UU=(()=>{class i extends yi{}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275dir=s.FsC({type:i,selectors:[["kendo-datepicker-messages-base"]],inputs:{today:"today",toggle:"toggle",prevButtonTitle:"prevButtonTitle",nextButtonTitle:"nextButtonTitle",parentViewButtonTitle:"parentViewButtonTitle"},features:[s.Vt3]}),i})(),Vat=(()=>{class i extends UU{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoDatePickerLocalizedMessages",""]],features:[s.Jv_([{provide:UU,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})(),Ph=(()=>{class i{constructor(e,t,o,r,a,l,c,u,f,_){this.zone=e,this.localization=t,this.cdr=o,this.popupService=r,this.wrapper=a,this.renderer=l,this.injector=c,this.pickerService=u,this.disabledDatesService=f,this.touchEnabled=_,this.calendarIcon=lD,this.activeView=Et[Et.month],this.bottomView=Et[Et.month],this.topView=Et[Et.century],this.calendarType="infinite",this.animateCalendarNavigation=!1,this.disabled=!1,this.readonly=!1,this.readOnlyInput=!1,this._navigation=!0,this.min=he(Ru),this.max=he(Au),this.incompleteDateValidation=!1,this.autoCorrectParts=!0,this.autoSwitchParts=!0,this.autoSwitchKeys=[],this.enableMouseWheel=!0,this.allowCaretMode=!1,this.autoFill=!1,this.focusedDate=null,this.format="d",this.twoDigitYearMax=68,this.placeholder=null,this.tabindex=0,this.title="",this.rangeValidation=!0,this.disabledDatesValidation=!0,this.weekNumber=!1,this.adaptiveMode="none",this.valueChange=new s.bkB,this.onFocus=new s.bkB,this.onBlur=new s.bkB,this.open=new s.bkB,this.close=new s.bkB,this.wrapperClasses=!0,this.xIcon=go,this._popupSettings={animate:!0},this._show=!1,this._value=null,this._active=!1,this.onControlChange=Xt,this.onControlTouched=Xt,this.onValidatorChange=Xt,this.minValidateFn=Xt,this.maxValidateFn=Xt,this.disabledDatesValidateFn=Xt,this.incompleteValidator=Xt,this.resolvedPromise=Promise.resolve(null),this.domEvents=[],this._size=_f,this._rounded=mS,this._fillMode=_S,(0,_t.$)(ew),this.pickerSubscriptions=this.pickerService.onFocus.subscribe(this.handleFocus.bind(this)),this.pickerSubscriptions.add(this.pickerService.onBlur.subscribe(this.handleBlur.bind(this))),this.pickerSubscriptions.add(this.pickerService.sameDateSelected.subscribe(this.handleSameSelection.bind(this))),this.pickerSubscriptions.add(this.pickerService.dateCompletenessChange.subscribe(this.handleDateCompletenessChange.bind(this)))}set cellTemplateRef(e){this.cellTemplate=e}set monthCellTemplateRef(e){this.monthCellTemplate=e}set yearCellTemplateRef(e){this.yearCellTemplate=e}set decadeCellTemplateRef(e){this.decadeCellTemplate=e}set centuryCellTemplateRef(e){this.centuryCellTemplate=e}set weekNumberTemplateRef(e){this.weekNumberTemplate=e}set headerTitleTemplateRef(e){this.headerTitleTemplate=e}set navigationItemTemplateRef(e){this.navigationItemTemplate=e}set popupSettings(e){this._popupSettings=Object.assign({},{animate:!0},e)}get popupSettings(){return this._popupSettings}set navigation(e){this._navigation=e}get navigation(){if(!this.isAdaptive)return this._navigation}set value(e){this.verifyValue(e),this._value=he(e)}get value(){return this._value}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set disabledDates(e){this._disabledDates=e,this.disabledDatesService.initialize(e)}get disabledDates(){return this._disabledDates}set subtitle(e){this._subtitle=e}get subtitle(){return this._subtitle||this.placeholder}set size(e){this.renderer.removeClass(this.wrapper.nativeElement,Js("input",this.size)),this.renderer.removeClass(this.toggleButton.nativeElement,Js("button",this.size));const t=e||_f;"none"!==t&&(this.renderer.addClass(this.wrapper.nativeElement,Js("input",t)),this.renderer.addClass(this.toggleButton.nativeElement,Js("button",t))),this._size=t}get size(){return this._size}set rounded(e){this.renderer.removeClass(this.wrapper.nativeElement,Td(this.rounded));const t=e||mS;"none"!==t&&this.renderer.addClass(this.wrapper.nativeElement,Td(t)),this._rounded=t}get rounded(){return this._rounded}set fillMode(e){this.renderer.removeClass(this.wrapper.nativeElement,dr("input",this.fillMode)),this.renderer.removeClass(this.toggleButton.nativeElement,dr("button",this.fillMode)),this.renderer.removeClass(this.toggleButton.nativeElement,`k-button-${this.fillMode}-base`);const t=e||_S;"none"!==t&&(this.renderer.addClass(this.toggleButton.nativeElement,dr("button",t)),this.renderer.addClass(this.toggleButton.nativeElement,`k-button-${t}-base`),this.renderer.addClass(this.wrapper.nativeElement,dr("input",t))),this._fillMode=t}get fillMode(){return this._fillMode}get disabledClass(){return this.disabled}get popupUID(){return this.calendar?.popupId}get isActive(){return this._active}set isActive(e){if(this._active=e,!this.wrapper)return;const t=this.wrapper.nativeElement;e?this.renderer.addClass(t,"k-focus"):this.renderer.removeClass(t,"k-focus")}get show(){return this._show}set show(e){e&&(this.disabled||this.readonly)||(e||this._show&&(Te(this.close)||Te(this.open))?this.zone.run(()=>{const o=new vR;!this._show&&e?this.open.emit(o):this._show&&!e&&this.close.emit(o),!o.isDefaultPrevented()&&this.toggleCalendar(e)}):this.toggleCalendar(e))}get inputElement(){return this.wrapper.nativeElement.querySelector("input")}isEmpty(){return!this.value&&this.dateInput.isEmpty()}ngOnInit(){this.localizationChangeSubscription=this.localization.changes.subscribe(()=>this.cdr.markForCheck()),this.control=this.injector.get(Ci,null),this.wrapper&&(this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex"),this.zone.runOutsideAngular(()=>{this.bindEvents()})),this.focusableId=this.dateInput?.focusableId}ngAfterViewInit(){this.setComponentClasses(),this.actionSheet&&ne()&&(this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-height","60vh"),this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-max-height","none"))}ngOnChanges(e){this.verifySettings(),(e.min||e.max||e.rangeValidation||e.disabledDatesValidation||e.disabledDates||e.incompleteDateValidation)&&(this.minValidateFn=this.rangeValidation?pR(this.min):Xt,this.maxValidateFn=this.rangeValidation?fR(this.max):Xt,this.disabledDatesValidateFn=this.disabledDatesValidation?GCe(this.disabledDatesService.isDateDisabled):Xt,this.incompleteValidator=this.incompleteDateValidation?PU():Xt,this.onValidatorChange()),(!this.focusableId||e.focusableId)&&(this.focusableId=this.dateInput?.focusableId)}ngOnDestroy(){this.isActive=!1,this.show=!1,this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.windowBlurSubscription&&this.windowBlurSubscription.unsubscribe(),this.domEvents.forEach(e=>e()),this.pickerSubscriptions.unsubscribe()}get isOpen(){return this.show}writeValue(e){this.verifyValue(e),this.value=he(e),this.cdr.markForCheck(),!e&&this.dateInput&&(this.dateInput.placeholder=this.placeholder,this.dateInput.writeValue(e))}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)||this.disabledDatesValidateFn(e)||this.incompleteValidator(e,this.dateInput&&this.dateInput.isDateIncomplete)}registerOnValidatorChange(e){this.onValidatorChange=e}handleActionSheetCollapse(){this.cdr.markForCheck()}handleActionSheetClick(e){e.preventDefault()}focus(){this.dateInput.focus()}blur(){(this.calendar||this.dateInput).blur()}toggle(e){this.disabled||this.readonly||this.resolvedPromise.then(()=>{this.toggleCalendar(void 0===e?!this.show:e)})}handleIconClick(e){this.disabled||this.readonly||(e.preventDefault(),this.focusInput(),this.handleFocus(),this.show=!this.show,this.cdr.markForCheck())}handleDateInputClick(){this.windowSize=cl(),this.isAdaptive&&(this.show=!0)}handleMousedown(e){e.preventDefault()}handleChange(e){this.cdr.markForCheck(),this.value=e,this.show&&(this.focusInput(),this.show=!1),this.onControlChange(he(e)),this.valueChange.emit(he(e))}handleInputChange(e){this.handleChange(this.dateInput.formatSections.time?e:this.mergeTime(e))}get popupClasses(){return["k-datepicker-popup","k-calendar-container"].concat(this.popupSettings.popupClass||[])}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}get dateInput(){return this.pickerService.input}get calendar(){return this.pickerService.calendar}get isAdaptiveModeEnabled(){return"auto"===this.adaptiveMode}get isAdaptive(){return this.isAdaptiveModeEnabled&&"large"!==this.windowSize}onResize(){!this.isOpen||this.windowSize===cl()||(this.actionSheet.expanded?this.toggleActionSheet(!1):this.togglePopup(!1),this.windowSize=cl())}mergeTime(e){return this.value&&e?b_(e,this.value):e}handleKeydown(e){const{altKey:t,shiftKey:o,keyCode:r,target:a}=e;r===G.Escape&&(this.show=!1),t&&(r===G.ArrowDown&&!this.show&&(this.show=!0),r===G.ArrowUp&&(this.show=!1)),r===G.Tab&&this.show&&this.calendar.isActive&&((i,n,e)=>!!Nt(n)&&("infinite"===i||"classic"===i&&e&&n.classList.contains("k-calendar-table")||!e&&n.classList.contains("k-calendar-table")))(this.calendarType,a,o)&&(this.dateInput.focus(),this.show=!1)}toggleCalendar(e){this.windowSize=cl(),this.isAdaptive?this.toggleActionSheet(e):this.togglePopup(e),this.toggleFocus()}togglePopup(e){if(e!==this._show)if(this._show=e,e){const t=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{vertical:"bottom",horizontal:t},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{vertical:"top",horizontal:t},popupClass:this.popupClasses,positionMode:"absolute"}),this.setAriaActiveDescendant(),this.popupRef.popupElement.setAttribute("id",this.popupUID),this.renderer.setAttribute(this.dateInput?.inputElement,"aria-controls",this.popupUID),this.subscription=this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.show=!1)}else this.popupRef.close(),this.popupRef=null,this.subscription.unsubscribe(),this.ariaActiveDescendantSubscription.unsubscribe(),this.dateInput&&(this.renderer.removeAttribute(this.dateInput.inputElement,"aria-controls"),this.renderer.removeAttribute(this.dateInput.inputElement,"aria-activedescendant")),this.cdr.detectChanges()}toggleActionSheet(e){e!==this._show&&(e&&!this.isOpen?(this.actionSheet.toggle(),this.updateActionSheetAdaptiveAppearance(),this.setAriaActiveDescendant(),this.actionSheet.element.nativeElement.setAttribute("id",this.popupUID),this.renderer.setAttribute(this.dateInput?.inputElement,"aria-controls",this.popupUID)):!e&&this.isOpen&&(this.actionSheet.toggle(),this.ariaActiveDescendantSubscription.unsubscribe(),this.renderer.removeAttribute(this.dateInput?.inputElement,"aria-activedescendant"),this.renderer.removeAttribute(this.dateInput?.inputElement,"aria-controls")),this._show=e)}updateActionSheetAdaptiveAppearance(){let e,t;this.actionSheet&&(e=this.actionSheet.element.nativeElement.querySelector(".k-actionsheet"),t=this.actionSheet.element.nativeElement.querySelector(".k-child-animation-container"),"medium"===this.windowSize?(this.renderer.removeClass(e,"k-actionsheet-fullscreen"),this.renderer.removeStyle(t,"height")):"small"===this.windowSize&&(this.renderer.addClass(e,"k-actionsheet-fullscreen"),this.renderer.setStyle(t,"height","100%")),this.renderer.addClass(e,"k-adaptive-actionsheet"),this.renderer.addClass(e,"k-actionsheet-bottom"),this.renderer.setStyle(t,"bottom","0px"))}setAriaActiveDescendant(){this.ariaActiveDescendantSubscription=("infinite"===this.calendar.type?this.calendar.monthView.focusedCellChange:this.calendar.multiViewCalendar.viewList.focusedCellChange).subscribe(t=>this.renderer.setAttribute(this.dateInput?.inputElement,"aria-activedescendant",t))}focusInput(){this.touchEnabled||this.dateInput.focus()}toggleFocus(){this.isActive&&(this.show?(this.calendar||this.cdr.detectChanges(),this.calendar&&this.calendar.focus()):this.touchEnabled?this.dateInput.isActive||this.handleBlur():this.dateInput.focus())}verifySettings(){if((0,s.naY)()&&!DQ(this.min,this.max))throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-max.")}verifyValue(e){if((0,s.naY)()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance or null. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/datepicker/#toc-using-with-json for possible resolution.")}bindEvents(){this.domEvents.push(this.renderer.listen(this.wrapper.nativeElement,"keydown",this.handleKeydown.bind(this))),gU()&&(this.windowBlurSubscription=Dt(window,"blur").subscribe(this.handleWindowBlur.bind(this)))}handleFocus(){this.isActive||(this.isActive=!0,Te(this.onFocus)&&this.zone.run(()=>{this.onFocus.emit()}))}handleWindowBlur(){!this.isOpen||this.actionSheet.expanded||(this.show=!1)}handleBlur(e){const t=e&&EQ(e),r=this.actionSheet&&(this.actionSheet.element.nativeElement.contains(e&&e.target)||this.actionSheet.element.nativeElement.contains(t));t&&(this.dateInput.containsElement(t)||this.calendar&&this.calendar.containsElement(t)||r)||(Te(this.onBlur)||this.show&&Te(this.close)||hU(this.control)?this.zone.run(()=>{this.blurComponent(),this.cdr.markForCheck()}):this.blurComponent())}blurComponent(){this.isActive=!1,this.show=!1,this.cdr.detectChanges(),this.onControlTouched(),this.onBlur.emit()}handleSameSelection(){this.show&&(this.focusInput(),this.show=!1)}handleDateCompletenessChange(){this.cdr.markForCheck(),this.zone.run(()=>this.onValidatorChange())}setComponentClasses(){this.size&&(this.renderer.addClass(this.wrapper.nativeElement,Js("input",this.size)),this.renderer.addClass(this.toggleButton.nativeElement,Js("button",this.size))),this.rounded&&this.renderer.addClass(this.wrapper.nativeElement,Td(this.rounded)),this.fillMode&&(this.renderer.addClass(this.wrapper.nativeElement,dr("input",this.fillMode)),this.renderer.addClass(this.toggleButton.nativeElement,dr("button",this.fillMode)),this.renderer.addClass(this.toggleButton.nativeElement,`k-button-${this.fillMode}-base`))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.SKi),s.rXU(z),s.rXU(s.gRc),s.rXU(Ts),s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(s.zZn),s.rXU(D_),s.rXU(gf),s.rXU(ow,8))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-datepicker"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,DU,5),s.wni(o,hR,5),s.wni(o,wU,5),s.wni(o,kU,5),s.wni(o,OU,5),s.wni(o,TU,5),s.wni(o,MU,5),s.wni(o,RCe,5)),2&e){let r;s.mGM(r=s.lsd())&&(t.cellTemplate=r.first),s.mGM(r=s.lsd())&&(t.monthCellTemplate=r.first),s.mGM(r=s.lsd())&&(t.yearCellTemplate=r.first),s.mGM(r=s.lsd())&&(t.decadeCellTemplate=r.first),s.mGM(r=s.lsd())&&(t.centuryCellTemplate=r.first),s.mGM(r=s.lsd())&&(t.weekNumberTemplate=r.first),s.mGM(r=s.lsd())&&(t.headerTitleTemplate=r.first),s.mGM(r=s.lsd())&&(t.navigationItemTemplate=r.first)}},viewQuery:function(e,t){if(1&e&&(s.GBs(dU,7,s.c1b),s.GBs(CQ,7),s.GBs(bQ,7),s.GBs(uU,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.container=o.first),s.mGM(o=s.lsd())&&(t.popupTemplate=o.first),s.mGM(o=s.lsd())&&(t.toggleButton=o.first),s.mGM(o=s.lsd())&&(t.actionSheet=o.first)}},hostVars:8,hostBindings:function(e,t){2&e&&s.AVh("k-readonly",t.readonly)("k-datepicker",t.wrapperClasses)("k-input",t.wrapperClasses)("k-disabled",t.disabledClass)},inputs:{focusableId:"focusableId",cellTemplateRef:[s.Mj6.None,"cellTemplate","cellTemplateRef"],monthCellTemplateRef:[s.Mj6.None,"monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:[s.Mj6.None,"yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:[s.Mj6.None,"decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:[s.Mj6.None,"centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:[s.Mj6.None,"weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:[s.Mj6.None,"headerTitleTemplate","headerTitleTemplateRef"],navigationItemTemplateRef:[s.Mj6.None,"navigationItemTemplate","navigationItemTemplateRef"],showOtherMonthDays:"showOtherMonthDays",activeView:"activeView",bottomView:"bottomView",topView:"topView",calendarType:"calendarType",animateCalendarNavigation:"animateCalendarNavigation",disabled:"disabled",readonly:"readonly",readOnlyInput:"readOnlyInput",popupSettings:"popupSettings",navigation:"navigation",min:"min",max:"max",incompleteDateValidation:"incompleteDateValidation",autoCorrectParts:"autoCorrectParts",autoSwitchParts:"autoSwitchParts",autoSwitchKeys:"autoSwitchKeys",enableMouseWheel:"enableMouseWheel",allowCaretMode:"allowCaretMode",autoFill:"autoFill",focusedDate:"focusedDate",value:"value",format:"format",twoDigitYearMax:"twoDigitYearMax",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",tabindex:"tabindex",tabIndex:"tabIndex",disabledDates:"disabledDates",title:"title",subtitle:"subtitle",rangeValidation:"rangeValidation",disabledDatesValidation:"disabledDatesValidation",weekNumber:"weekNumber",size:"size",rounded:"rounded",fillMode:"fillMode",adaptiveMode:"adaptiveMode"},outputs:{valueChange:"valueChange",onFocus:"focus",onBlur:"blur",open:"open",close:"close"},exportAs:["kendo-datepicker"],features:[s.Jv_([{provide:zn,useExisting:(0,s.Rfq)(()=>i),multi:!0},{provide:Lo,useExisting:(0,s.Rfq)(()=>i),multi:!0},{provide:ji,useExisting:(0,s.Rfq)(()=>i)},z,D_,gf,{provide:He,useValue:"kendo.datepicker"}]),s.OA$],decls:16,vars:37,consts:()=>{let n,e,t,o,r;return n="Oggi",e="Mostra calendario",t="Vai al precedente",o="Vai al prossimo",r="Navigate to parent view",[["input",""],["toggleButton",""],["container",""],["popupTemplate",""],["actionSheet",""],["calendarTemplate",""],["calendar",""],["kendoDatePickerLocalizedMessages","","today",n,"toggle",e,"prevButtonTitle",t,"nextButtonTitle",o,"parentViewButtonTitle",r],["pickerType","datepicker","hasPopup","grid","fillMode","none","rounded","none","size","none",3,"valueChange","click","role","isPopupOpen","disabled","readonly","ariaReadOnly","tabindex","title","focusableId","format","twoDigitYearMax","formatPlaceholder","placeholder","min","max","incompleteDateValidation","autoCorrectParts","autoSwitchParts","autoSwitchKeys","enableMouseWheel","allowCaretMode","autoFill","value"],["type","button",1,"k-input-button","k-button","k-icon-button",3,"tabindex","kendoEventsOutsideAngular","scope"],["name","calendar","innerCssClass","k-button-icon",3,"svgIcon"],[3,"resize",4,"ngIf"],[3,"overlayClick","collapse","kendoEventsOutsideAngular","scope","titleId"],["kendoActionSheetTemplate",""],[4,"ngTemplateOutlet"],[3,"resize"],[1,"k-actionsheet-titlebar"],[1,"k-actionsheet-titlebar-group","k-hbox"],[1,"k-actionsheet-title"],[1,"k-text-center"],[1,"k-actionsheet-subtitle","k-text-center"],[1,"k-actionsheet-actions"],["kendoButton","","type","button","icon","x","fillMode","flat","aria-hidden","true","size","large","innerCssClass","k-button-icon",3,"click","svgIcon","tabIndex"],[1,"k-actionsheet-content","!k-overflow-hidden"],[3,"valueChange","size","type","min","max","navigation","animateNavigation","activeView","bottomView","showOtherMonthDays","topView","weekNumber","cellTemplate","monthCellTemplate","yearCellTemplate","decadeCellTemplate","centuryCellTemplate","weekNumberTemplate","headerTitleTemplate","navigationItemTemplate","focusedDate","value","kendoEventsOutsideAngular","scope","disabledDates"],[3,"today","prevButtonTitle","nextButtonTitle","parentViewButtonTitle"]]},template:function(e,t){if(1&e){const o=s.RV6();s.eu8(0,7),s.j41(1,"kendo-dateinput",8,0),s.bIt("valueChange",function(a){return s.eBV(o),s.Njj(t.handleInputChange(a))})("click",function(){return s.eBV(o),s.Njj(t.handleDateInputClick())}),s.k0s(),s.j41(3,"button",9,1),s.nrm(5,"kendo-icon-wrapper",10),s.k0s(),s.eu8(6,null,2),s.DNE(8,got,1,1,"ng-template",null,3,s.C5r)(10,Sot,1,0,"kendo-resize-sensor",11),s.j41(11,"kendo-actionsheet",12,4),s.bIt("overlayClick",function(){return s.eBV(o),s.Njj(t.show=!1)})("collapse",function(){return s.eBV(o),s.Njj(t.handleActionSheetCollapse())}),s.DNE(13,Cot,11,6,"ng-template",13),s.k0s(),s.DNE(14,bot,3,30,"ng-template",null,5,s.C5r)}2&e&&(s.R7$(),s.Y8G("role","combobox")("isPopupOpen",t.show)("disabled",t.disabled)("readonly",t.readonly||t.readOnlyInput)("ariaReadOnly",t.readonly)("tabindex",t.tabindex)("title",t.title)("focusableId",t.focusableId)("format",t.format)("twoDigitYearMax",t.twoDigitYearMax)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("min",t.min)("max",t.max)("incompleteDateValidation",t.incompleteDateValidation)("autoCorrectParts",t.autoCorrectParts)("autoSwitchParts",t.autoSwitchParts)("autoSwitchKeys",t.autoSwitchKeys)("enableMouseWheel",t.enableMouseWheel)("allowCaretMode",t.allowCaretMode)("autoFill",t.autoFill)("value",t.value),s.R7$(2),s.Y8G("tabindex",-1)("kendoEventsOutsideAngular",s.l_i(32,eCe,t.handleIconClick,t.handleMousedown))("scope",t),s.BMQ("title",t.localization.get("toggle"))("aria-label",t.localization.get("toggle")),s.R7$(2),s.Y8G("svgIcon",t.calendarIcon),s.R7$(5),s.Y8G("ngIf",t.isAdaptiveModeEnabled),s.R7$(),s.Y8G("kendoEventsOutsideAngular",s.eq3(35,f0,t.handleActionSheetClick))("scope",t)("titleId",null==t.calendar?null:t.calendar.headerId))},dependencies:[SR,Qe,hs,VC,Ht,sw,HQ,Vat,xo,qe,q,BC],encapsulation:2,changeDetection:0}),i})();const ua=Od("div"),Kat=Od("ul"),Yat=Od("li"),UCe=Od("span"),FCe=()=>UCe("hour","k-title k-timeselector-title"),BCe=()=>ua([Kat([Yat("<span>02</span>","k-item")],"k-reset")],"k-time-container k-flex k-content k-scrollable"),VCe=i=>[i?ua([ua("button","k-button k-button-lg")],"k-datetime-buttongroup"):null,ua([ua([UCe("title","k-title")],"k-time-header"),ua([FCe(),ua([BCe()],"k-time-list")],"k-time-list-wrapper")],"k-timeselector k-timeselector-lg")],zCe=(i=!1,n,e)=>ne()?i?ua([ua([ua([ua([ua([],"k-i-x k-button-icon k-icon")],"k-icon-wrapper-host")],"k-button k-icon-button k-button-lg")],"k-actionsheet-titlebar"),ua([e?ua([...VCe(e)],"k-datetime-wrap k-time-tab"):VCe(e)[1]],"k-actionsheet-content"),ua([ua("button","k-button k-button-lg")],"k-adaptive-actionsheet k-actionsheet-footer")],"k-actionsheet k-adaptive-actionsheet "+("small"===n?"k-actionsheet-fullscreen":""),{height:"small"===n?"100%":"60vh",left:"-10000px",position:"absolute",top:0}):ua([FCe(),ua([BCe()],"k-time-list")],"k-time-list-wrapper",{left:"-10000px",position:"absolute"}):null;let jQ=(()=>{class i{get windowSize(){return cl()}ensureHeights(){void 0===this.timeListHeight&&this.calculateHeights()}calculateHeights(e){if(!ne())return;let t,o;this.isAdaptiveEnabled&&"large"!==this.windowSize?(o=document.body,t=o.appendChild(zCe(!0,this.windowSize,this.isDateTimePicker))):(o=e&&e.querySelector(".k-time-list-container")||document.body,t=o.appendChild(zCe())),this.timeListHeight=t.querySelector(".k-scrollable").getBoundingClientRect().height,this.itemHeight=t.querySelector("li").getBoundingClientRect().height,o.removeChild(t)}isActive(e){return!(!ne()||!e)&&(e.nativeElement||e)===document.activeElement}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const HCe=n=>n%24,jCe=(i,n)=>HCe(24+i-n),$Ce=i=>(n,e)=>e&&En(n).getTime()!==En(e).getTime()?pU(n,i):n,Zat=$Ce(0),elt=$Ce(23);let XCe=(()=>{class i{constructor(e){this.intl=e,this.boundRange=!1,this.insertUndividedMax=!1}apply(e,t){return pU(e,t.getHours())}configure(e){const{boundRange:t=this.boundRange,insertUndividedMax:o=this.insertUndividedMax,min:r=this.min,max:a=this.max,part:l,step:c=this.step}=e;this.boundRange=t,this.insertUndividedMax=o,this.toListItem=u=>{const f=pU(mf,u);return{text:this.intl.formatDate(f,l.pattern),value:f}},this.min=r,this.max=a,this.step=c}data(e){const[t]=this.range(e),o=((i,n)=>e=>HCe(i+e*n))(t,this.step),a=ll(0,this.countFromMin(e)).map(l=>this.toListItem(o(l)));return this.addLast(a),this.addMissing(a,e),a}isRangeChanged(e,t){return!Xi(this.min,e)||!Xi(this.max,t)}limitRange(e,t,o){return this.boundRange?[Zat(e,o),elt(t,o)]:[e,t]}total(e){const t=this.insertUndividedMax&&this.isLastMissing(e)?1:0,o=this.isMissing(e)?1:0;return this.countFromMin(e)+o+t}selectedIndex(e){return Math.ceil(this.divideByStep(e))}valueInList(e){return!e||this.insertUndividedMax&&this.lastHour(e)===e.getHours()||!this.isMissing(e)}addLast(e,t){return this.insertUndividedMax&&this.isLastMissing(t)&&e.push(this.toListItem(this.lastHour(t))),e}addMissing(e,t){if(this.valueInList(t))return e;const o=this.toListItem(t.getHours());return e.splice(this.selectedIndex(t),0,o),e}countFromMin(e){const[t,o]=this.range(e);return Math.floor(jCe(o,t)/this.step)+1}isMissing(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}isLastMissing(e){return this.isMissing(pU(this.max,this.lastHour(e)))}divideByStep(e){return jCe(e.getHours(),this.min.getHours())/this.step}lastHour(e){return this.range(e)[1]}range(e){const[t,o]=this.limitRange(this.min,this.max,e);return[t.getHours(),o.getHours()]}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(xt.Bs))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const WCe=n=>n%60,KCe=(i,n)=>WCe(60+i-n),YCe=i=>(n,e)=>e&&n.getHours()!==e.getHours()?fU(n,i):n,nlt=YCe(0),ilt=YCe(59);let JCe=(()=>{class i{constructor(e){this.intl=e,this.insertUndividedMax=!1}apply(e,t){return fU(e,t.getMinutes())}configure(e){const{insertUndividedMax:t=this.insertUndividedMax,min:o=this.min,max:r=this.max,part:a,step:l=this.step}=e;this.insertUndividedMax=t,this.toListItem=c=>{const u=fU(mf,c);return{text:this.intl.formatDate(u,a.pattern),value:u}},this.min=o,this.max=r,this.step=l}data(e){const[t]=this.range(e),o=((i,n)=>e=>WCe(i+e*n))(t,this.step),a=ll(0,this.countFromMin(e)).map(l=>this.toListItem(o(l)));return this.addLast(a),this.addMissing(a,e),a}isRangeChanged(e,t){return!Xi(this.min,e)||!Xi(this.max,t)}limitRange(e,t,o){return[nlt(e,o),ilt(t,o)]}total(e){const t=this.insertUndividedMax&&this.isLastMissing(e)?1:0,o=this.isMissing(e)?1:0;return this.countFromMin(e)+o+t}selectedIndex(e){return Math.ceil(this.divideByStep(e))}valueInList(e){return!e||this.insertUndividedMax&&this.lastMinute(e)===e.getMinutes()||!this.isMissing(e)}addLast(e,t){return this.insertUndividedMax&&this.isLastMissing(t)&&e.push(this.toListItem(this.lastMinute(t))),e}addMissing(e,t){if(this.valueInList(t))return e;const o=this.toListItem(t.getMinutes());return e.splice(this.selectedIndex(t),0,o),e}countFromMin(e){const[t,o]=this.range(e);return Math.floor(KCe(o,t)/this.step)+1}isMissing(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}isLastMissing(e){return this.isMissing(fU(this.max,this.lastMinute(e)))}divideByStep(e){return KCe(e.getMinutes(),this.min.getMinutes())/this.step}lastMinute(e){return this.range(e)[1]}range(e){const[t,o]=this.limitRange(this.min,this.max,e);return[t.getMinutes(),o.getMinutes()]}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(xt.Bs))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const qCe=n=>n%60,QCe=(i,n)=>qCe(60+i-n),ZCe=i=>(n,e)=>!e||n.getHours()===e.getHours()&&n.getMinutes()===e.getMinutes()?n:mU(n,i),olt=ZCe(0),rlt=ZCe(59);let e0e=(()=>{class i{constructor(e){this.intl=e,this.insertUndividedMax=!1}apply(e,t){return mU(e,t.getSeconds())}configure(e){const{insertUndividedMax:t=this.insertUndividedMax,min:o=this.min,max:r=this.max,part:a,step:l=this.step}=e;this.insertUndividedMax=t,this.toListItem=c=>{const u=mU(mf,c);return{text:this.intl.formatDate(u,a.pattern),value:u}},this.min=o,this.max=r,this.step=l}data(e){const[t]=this.range(e),o=((i,n)=>e=>qCe(i+e*n))(t,this.step),a=ll(0,this.countFromMin(e)).map(l=>this.toListItem(o(l)));return this.addLast(a),this.addMissing(a,e),a}isRangeChanged(e,t){return!Xi(this.min,e)||!Xi(this.max,t)}limitRange(e,t,o){return[olt(e,o),rlt(t,o)]}total(e){const t=this.insertUndividedMax&&this.isLastMissing(e)?1:0,o=this.isMissing(e)?1:0;return this.countFromMin(e)+o+t}selectedIndex(e){return Math.ceil(this.divideByStep(e))}valueInList(e){return!e||this.insertUndividedMax&&this.lastSecond(e)===e.getSeconds()||!this.isMissing(e)}divideByStep(e){return QCe(e.getSeconds(),this.min.getSeconds())/this.step}addLast(e,t){return this.insertUndividedMax&&this.isLastMissing(t)&&e.push(this.toListItem(this.lastSecond(t))),e}addMissing(e,t){if(this.valueInList(t))return e;const o=this.toListItem(t.getSeconds());return e.splice(this.selectedIndex(t),0,o),e}countFromMin(e){const[t,o]=this.range(e);return Math.floor(QCe(o,t)/this.step)+1}isMissing(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}isLastMissing(e){return this.isMissing(mU(this.max,this.lastSecond(e)))}lastSecond(e){return this.range(e)[1]}range(e){const[t,o]=this.limitRange(this.min,this.max,e);return[t.getSeconds(),o.getSeconds()]}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(xt.Bs))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const t0e=n=>n%1e3,n0e=(i,n)=>t0e(1e3+i-n),i0e=i=>(n,e)=>!e||n.getHours()===e.getHours()&&n.getMinutes()===e.getMinutes()&&n.getSeconds()===e.getSeconds()?n:_U(n,i),llt=i0e(0),clt=i0e(999);let s0e=(()=>{class i{constructor(e){this.intl=e,this.insertUndividedMax=!1}apply(e,t){return _U(e,t.getMilliseconds())}configure(e){const{insertUndividedMax:t=this.insertUndividedMax,min:o=this.min,max:r=this.max,step:a=this.step}=e;this.insertUndividedMax=t,this.toListItem=l=>{const c=_U(mf,l);return{text:this.intl.formatDate(c,"SSS"),value:c}},this.min=o,this.max=r,this.step=a}data(e){const[t]=this.range(e),o=((i,n)=>e=>t0e(i+e*n))(t,this.step),a=ll(0,this.countFromMin(e)).map(l=>this.toListItem(o(l)));return this.addLast(a),this.addMissing(a,e),a}isRangeChanged(e,t){return!Xi(this.min,e)||!Xi(this.max,t)}limitRange(e,t,o){return[llt(e,o),clt(t,o)]}total(e){const t=this.insertUndividedMax&&this.isLastMissing(e)?1:0,o=this.isMissing(e)?1:0;return this.countFromMin(e)+o+t}selectedIndex(e){return Math.ceil(this.divideByStep(e))}valueInList(e){return!e||this.insertUndividedMax&&this.lastMillisecond(e)===e.getMilliseconds()||!this.isMissing(e)}divideByStep(e){return n0e(e.getMilliseconds(),this.min.getMilliseconds())/this.step}addLast(e,t){return this.insertUndividedMax&&this.isLastMissing(t)&&e.push(this.toListItem(this.lastMillisecond(t))),e}addMissing(e,t){if(this.valueInList(t))return e;const o=this.toListItem(t.getMilliseconds());return e.splice(this.selectedIndex(t),0,o),e}countFromMin(e){const[t,o]=this.range(e);return Math.floor(n0e(o,t)/this.step)+1}isMissing(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}isLastMissing(e){return this.isMissing(_U(this.max,this.lastMillisecond(e)))}lastMillisecond(e){return this.range(e)[1]}range(e){const[t,o]=this.limitRange(this.min,this.max,e);return[t.getMilliseconds(),o.getMilliseconds()]}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(xt.Bs))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const YQ=(i,n)=>{const e=he(i);return e.setHours(n),e},JQ=i=>null!==i&&i<12,ult=(i,n,e)=>!n&&!e||i>=n&&i<=e,hlt=(i,n,e)=>!n&&!e||i>=n||i<=e;let o0e=(()=>{class i{constructor(e){this.intl=e}apply(e,t){const o=e.getHours(),r=JQ(o),a=JQ(t.getHours());if(r&&a||!r&&!a)return e;const[l,c=24]=this.normalizedRange();return YQ(e,Math.min(Math.max(l,o+(a?-12:12)),c||24))}configure(e){const{min:t=this.min,max:o=this.max,part:r=this.part}=e;this.min=t,this.max=o,this.part=r}data(e){const t=this.part.names;if(!t)return[];const o=[],[r,a]=this.normalizedRange(),l=this.intl.dateFormatNames(t);return JQ(r)&&o.push({text:l.am,value:YQ(this.min,r)}),(i=>null!==i&&(!i||i>11))(a)&&o.push({text:l.pm,value:YQ(this.min,Math.max(12,a))}),this.min.getHours()!==r?o.reverse():o}isRangeChanged(e,t){return!1}limitRange(e,t,o){return[e,t]}total(){const[e,t]=this.normalizedRange();return(e||t)&&(e>11||t<12)?1:2}selectedIndex(e){if(!this.valueInList(e))return-1;const t=Math.floor(e.getHours()/12);return this.min.getHours()===this.normalizedRange()[0]?t:0===t?1:0}valueInList(e){return(this.min.getHours()!==this.normalizedRange()[0]?hlt:ult)(e.getHours(),this.min.getHours(),this.max.getHours())}normalizedRange(){const e=this.min.getHours(),t=this.max.getHours();return[Math.min(e,t),Math.max(e,t)]}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(xt.Bs))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const flt=()=>null,mlt={35:(i,n)=>i[i.length-1],36:(i,n)=>i[0],38:(i,n)=>i[n-1],40:(i,n)=>i[n+1]},_lt={dayperiod:o0e,hour:XCe,minute:JCe,second:e0e,millisecond:s0e};let qQ=(()=>{class i{constructor(e,t,o,r,a,l){this.element=e,this.injector=t,this.dom=o,this.renderer=r,this.zone=a,this.localization=l,this.min=he(mf),this.max=he(m0),this.step=1,this.disabled=!1,this.isLast=!1,this.valueChange=new s.bkB,this.tabOutLastPart=new s.bkB,this.componentClass=!0,this.animateToIndex=!0,this.isActive=!1,this.skip=0,this.total=60,this.data=[],this.indexToScroll=-1,this.domEvents=[]}get roleAttribute(){return"listbox"}get ariaLabel(){return this.localization.get(this.part?.type)}get tabIndex(){return this.disabled?void 0:0}get isDayPeriod(){return"dayperiod"===this.part?.type}get currentSelectedIndex(){return this.selectedIndex(this.value)}ngOnChanges(e){e.part&&(this.service=this.injector.get(_lt[this.part.type]),this.service.configure(this.serviceSettings()));const t=this.value,o=e.value||{},[r,a]=this.service.limitRange(this.min,this.max,t);(this.service.isRangeChanged(r,a)||e.min||e.max||e.step)&&(this.data=[],this.service.configure(this.serviceSettings({min:r,max:a}))),(!this.data.length||this.hasMissingValue(o))&&(this.animateToIndex=!1,this.data=this.service.data(t)),this.animateToIndex=this.animateToIndex&&this.textHasChanged(o),this.total=this.service.total(t),this.indexToScroll=this.selectedIndex(t)}ngOnInit(){this.animateToIndex=!0,this.dom.ensureHeights(),this.itemHeight=this.dom.itemHeight,this.listHeight=this.dom.timeListHeight,this.topOffset=(this.listHeight-this.itemHeight)/2,this.bottomOffset=this.listHeight-this.itemHeight,this.topThreshold=.05*this.itemHeight,this.bottomThreshold=.95*this.itemHeight;const e=`translateY(${this.topOffset}px)`;this.style={transform:e,"-ms-transform":e},this.element&&this.zone.runOutsideAngular(()=>{this.bindEvents()})}ngOnDestroy(){this.scrollSubscription.unsubscribe(),this.domEvents.forEach(e=>e())}ngAfterViewInit(){this.scrollOnce(e=>this.virtualization.scrollToIndex(e))}ngAfterViewChecked(){this.scrollOnce(e=>{this.virtualization[this.animateToIndex?"animateToIndex":"scrollToIndex"](e),this.animateToIndex=!0})}getCurrentItem(){return this.indexToScroll>=0?this.data[this.indexToScroll]:null}handleChange(e){const t=this.service.apply(this.value,e.value);this.value.getTime()!==t.getTime()&&(this.indexToScroll=this.data.indexOf(e),this.value=t,this.valueChange.emit(t))}handleItemClick(e){const t=GQ(e.target,o=>o.hasAttribute("data-timelist-item-index"),this.element.nativeElement);if(t){const o=t.getAttribute("data-timelist-item-index");this.handleChange(this.data[o])}}focus(){this.element&&this.element.nativeElement.focus()}blur(){this.element&&this.element.nativeElement.blur()}itemOffset(e){const t=this.selectedIndex(this.value),o=this.virtualization.activeIndex(),r=this.virtualization.itemOffset(o),a=Math.abs(Math.ceil(e)-r);if(t===o&&a<2)return r;const l=t>o;return l&&a>=this.bottomThreshold||!l&&a>this.topThreshold?this.virtualization.itemOffset(o+1):r}hasMissingValue({previousValue:e,currentValue:t}){const o=e&&!this.service.valueInList(e),r=t&&!this.service.valueInList(t);return o||r}scrollOnce(e){-1!==this.indexToScroll&&(e(this.indexToScroll),this.indexToScroll=-1)}serviceSettings(e){const o=Object.assign({},{boundRange:!1,insertUndividedMax:!1,max:this.max,min:this.min,part:this.part,step:this.step},e);return o.boundRange="hour"!==o.part.type,o}selectedIndex(e){return e?this.service.selectedIndex(e):-1}textHasChanged({previousValue:e,currentValue:t}){if(!e||!t)return!1;const o=this.data[this.selectedIndex(e)],r=this.data[this.selectedIndex(t)];return o&&r&&o.text!==r.text}handleKeyDown(e){e.keyCode===G.Tab&&!e.shiftKey&&this.isLast&&(e.preventDefault(),this.tabOutLastPart.emit());const o=(mlt[e.keyCode]||flt)(this.data,this.service.selectedIndex(this.value));o&&(this.handleChange(o),e.preventDefault())}bindEvents(){this.scrollSubscription=this.virtualization.scroll$().pipe(J1(100),(0,V.T)(t=>t.target.scrollTop),(0,V.T)(t=>this.itemOffset(t)),(0,V.T)(t=>this.virtualization.itemIndex(t))).subscribe(t=>{this.virtualization.scrollToIndex(t),this.handleChange(this.data[t])});const e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"mouseover",()=>!this.isActive&&this.focus()),this.renderer.listen(e,"click",()=>this.focus()),this.renderer.listen(e,"blur",()=>this.isActive=!1),this.renderer.listen(e,"focus",()=>this.isActive=!0),this.renderer.listen(e,"keydown",this.handleKeyDown.bind(this)))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.zZn),s.rXU(jQ),s.rXU(s.sFG),s.rXU(s.SKi),s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-timelist"]],viewQuery:function(e,t){if(1&e&&s.GBs(_0,7),2&e){let o;s.mGM(o=s.lsd())&&(t.virtualization=o.first)}},hostVars:5,hostBindings:function(e,t){2&e&&(s.BMQ("role",t.roleAttribute)("aria-label",t.ariaLabel)("tabindex",t.tabIndex),s.AVh("k-time-list",t.componentClass))},inputs:{min:"min",max:"max",part:"part",step:"step",disabled:"disabled",value:"value",isLast:"isLast"},outputs:{valueChange:"valueChange",tabOutLastPart:"tabOutLastPart"},features:[s.OA$],decls:3,vars:14,consts:[["role","presentation",1,"k-time-container",3,"skip","take","total","itemHeight","maxScrollDifference","topOffset","bottomOffset"],[1,"k-reset",3,"ngStyle","kendoEventsOutsideAngular","scope"],["class","k-item",4,"ngFor","ngForOf"],[1,"k-item"]],template:function(e,t){1&e&&(s.j41(0,"kendo-virtualization",0)(1,"ul",1),s.DNE(2,Eot,3,4,"li",2),s.k0s()()),2&e&&(s.Y8G("skip",t.skip)("take",t.total)("total",t.total)("itemHeight",t.itemHeight)("maxScrollDifference",t.listHeight)("topOffset",t.topOffset)("bottomOffset",t.bottomOffset),s.R7$(),s.Y8G("ngStyle",t.style)("kendoEventsOutsideAngular",s.eq3(12,f0,t.handleItemClick))("scope",t),s.BMQ("role","presentation"),s.R7$(),s.Y8G("ngForOf",t.data))},dependencies:[_0,Wn,xo,ut],encapsulation:2}),i})();const a0e=(i,n)=>i.getHours()===n.getHours()&&i.getMinutes()===n.getMinutes(),l0e=(i,n)=>a0e(i,n)&&i.getSeconds()===n.getSeconds(),c0e=[{type:"hour",getter:i=>i.getHours(),minGetter:(i,n)=>n.getHours()},{type:"minute",getter:i=>i.getMinutes(),minGetter:(i,n)=>a0e(i,n)?n.getMinutes():0},{type:"second",getter:i=>i.getSeconds(),minGetter:(i,n)=>l0e(i,n)?n.getSeconds():0},{type:"millisecond",getter:i=>i.getMilliseconds(),minGetter:(i,n)=>((i,n)=>l0e(i,n)&&i.getMilliseconds()===n.getMilliseconds())(i,n)?n.getMilliseconds():0}],d0e=(i=>n=>i.map((i=>n=>i[n.type]?(i=>(n,e)=>i(e))(n.getter):(i=>(n,e)=>i(n))(n.getter))((i=>i.reduce((n,e)=>(n[e.type]=e.type,n),{}))(n))))(c0e),wlt=(i=>n=>i.map(e=>{const t=n[e.type];return t?((i,n,e)=>(t,o)=>{const r=i(t),a=n(t,o),l=r-a;if(l<0)return a;const c=l%e;return r-c+(c>e/2?e:0)})(e.getter,e.minGetter,t):e.getter}))(c0e),u0e=i=>(n,e)=>(n.setHours(...i.map(t=>t(n,e))),n);let SS=(()=>{class i extends yi{}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275dir=s.FsC({type:i,selectors:[["kendo-timepicker-messages-base"]],inputs:{accept:"accept",acceptLabel:"acceptLabel",cancel:"cancel",cancelLabel:"cancelLabel",now:"now",nowLabel:"nowLabel",toggle:"toggle",hour:"hour",minute:"minute",second:"second",millisecond:"millisecond",dayperiod:"dayperiod"},features:[s.Vt3]}),i})(),h0e=(()=>{class i extends SS{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoTimeSelectorLocalizedMessages",""]],features:[s.Jv_([{provide:SS,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})();const Olt=(i,n,e,t)=>i.length||!n.isActive?i:[{next:t[e+1]||n,prev:t[e-1]||n}];var FU=function(i){return i[i.Left=0]="Left",i[i.Right=1]="Right",i}(FU||{});let QQ=(()=>{class i{constructor(e,t,o,r,a,l,c,u){this.localization=e,this.cdr=t,this.element=o,this.intl=r,this.dom=a,this.zone=l,this.renderer=c,this.pickerService=u,this.format="t",this.min=he(tw),this.max=he(m0),this.cancelButton=!0,this.setButton=!0,this.nowButton=!0,this.disabled=!1,this.value=null,this.valueChange=new s.bkB,this.valueReject=new s.bkB,this.tabOutLastPart=new s.bkB,this.isActive=!1,this.showNowButton=!0,this._activeListIndex=-1,this._steps={},this.domEvents=[],this.pickerService&&(this.pickerService.timeSelector=this)}get disabledClass(){return this.disabled}set steps(e){this._steps=e||{}}get steps(){return this._steps}set current(e){this._current=((i,n,e)=>{if(!i||!n||!e)return i;const{candidateValue:t,minValue:o,maxValue:r}=lCe(i,n,e);return t<o?b_(i,n):t>r?b_(i,e):i})(this.snapTime(he(e||mf),this.min),this.min,this.max),s.SKi.isInAngularZone()||this.cdr.detectChanges()}get current(){return this._current}get activeListIndex(){return this._activeListIndex}set activeListIndex(e){if(this._activeListIndex=e,this.timeListWrappers&&this.timeListWrappers.length&&(this.timeListWrappers.forEach(t=>{this.renderer.removeClass(t.nativeElement,"k-focus")}),e>=0)){const t=this.listIndex(e),o=this.timeListWrappers.toArray()[t];o&&this.renderer.addClass(o.nativeElement,"k-focus")}}ngOnInit(){this.subscriptions=this.intl.changes.subscribe(this.intlChange.bind(this)),this.localization&&this.subscriptions.add(this.localization.changes.subscribe(()=>this.cdr.markForCheck())),this.renderer.addClass(this.element.nativeElement,"k-timeselector"),this.dom.isAdaptiveEnabled=this.isAdaptiveEnabled,this.dom.isDateTimePicker=this.isDateTimePicker,this.dom.calculateHeights(this.element.nativeElement),this.init(),this.bindEvents()}ngAfterViewInit(){this.subscriptions.add(Dt(this.timeListWrappers.first.nativeElement,"keydown").subscribe(e=>{const{keyCode:t,shiftKey:o}=e;t===G.Tab&&o&&(e.preventDefault(),this.renderer.removeClass(this.timeListWrappers.first.nativeElement,"k-focus"),this.accept.nativeElement.focus())})),this.subscriptions.add(Dt(this.timeListWrappers.last.nativeElement,"keydown").subscribe(e=>{const{keyCode:t,shiftKey:o}=e;t===G.Tab&&!o&&this.renderer.removeClass(this.timeListWrappers.last.nativeElement,"k-focus")}))}ngOnChanges(e){this.init()}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),this.pickerService&&(this.pickerService.timeSelector=null),this.domEvents.forEach(e=>e())}focus(){const e=this.timeLists.first;e&&e.focus()}blur(){const e=this.timeLists.first;e&&e.blur()}handleAccept(){this.handleChange(this.mergeValue(he(this.value||En(wQ())),this.current))}handleNow(){this.current=wQ(),this.handleChange(this.current),this.cdr.markForCheck()}handleReject(){this.current=this.value,this.valueReject.emit()}handleFocus(e){this.isActive||(this.isActive=!0,this.emitFocus(e))}handleListFocus(e){const t=parseInt(e.target.getAttribute("data-timelist-index"),10);this.activeListIndex=t,this.handleFocus(e)}handleBlur(e){const t=EQ(e);t&&this.containsElement(t)||(this.activeListIndex=-1,this.isActive=!1,this.emitBlur(e))}containsElement(e){return!!UQ(e,t=>t===this.element.nativeElement)}handleTabOut(e){const{keyCode:t,shiftKey:o}=e;t===G.Tab&&!o&&(e.preventDefault(),this.timeLists.first.focus())}partStep(e){return this.steps[e.type]||1}init(e){(!e||y_(e,"format"))&&(this.dateFormatParts=this.intl.splitDateFormat(this.format),this.mergeValue=u0e(d0e(this.dateFormatParts))),(!e||y_(e,"steps"))&&(this.snapTime=(i=>(n,e)=>{const t=he(n);return t.setHours(...i.map(o=>o(t,e))),t})(wlt(this.steps))),(!e||y_(e,"value"))&&(this.current=this.value),this.showNowButton=!this.hasSteps()&&this.nowButton&&((i,n,e)=>{if(!i||!n||!e)return!0;const{candidateValue:t,minValue:o,maxValue:r}=lCe(i,n,e);return o<=t&&t<=r})(wQ(),this.min,this.max)}focusList(e){this.timeLists.length&&this.timeLists.reduce(Olt,[]).map(t=>e===FU.Right?t.next:t.prev).map(t=>t&&t.focus())}handleChange(e){this.value=e,this.valueChange.emit(he(e))}hasActiveButton(){return!!this.accept&&[this.accept,this.cancel,this.now].reduce((e,t)=>e||this.dom.isActive(t),!1)}hasSteps(){const e=Object.keys(this.steps);return e.length!==e.reduce((t,o)=>t+this.steps[o],0)}intlChange(){this.dateFormatParts=this.intl.splitDateFormat(this.format),this.mergeValue=u0e(d0e(this.dateFormatParts)),this.cdr.markForCheck()}bindEvents(){this.element&&this.zone.runOutsideAngular(()=>{this.domEvents.push(this.renderer.listen(this.element.nativeElement,"keydown",this.handleKeydown.bind(this)))})}handleKeydown(e){const{keyCode:t,altKey:o}=e,r=-1!==[G.ArrowLeft,G.ArrowRight].indexOf(t);Nt(this.pickerService)&&r&&o||(t!==G.Enter||this.hasActiveButton()?(t===G.ArrowLeft||t===G.ArrowRight)&&this.focusList(t===G.ArrowLeft?FU.Left:FU.Right):this.handleAccept())}emitBlur(e){this.pickerService&&this.pickerService.onBlur.emit(e)}emitFocus(e){this.pickerService&&this.pickerService.onFocus.emit(e)}listIndex(e){let t=0,o=0;for(;o<e;)"literal"!==this.dateFormatParts[o].type&&t++,o++;return t}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z),s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(xt.Bs),s.rXU(jQ),s.rXU(s.SKi),s.rXU(s.sFG),s.rXU(D_,8))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-timeselector"]],viewQuery:function(e,t){if(1&e&&(s.GBs(yot,5),s.GBs(Dot,5),s.GBs(wot,5),s.GBs(qQ,5),s.GBs(kot,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.accept=o.first),s.mGM(o=s.lsd())&&(t.cancel=o.first),s.mGM(o=s.lsd())&&(t.now=o.first),s.mGM(o=s.lsd())&&(t.timeLists=o),s.mGM(o=s.lsd())&&(t.timeListWrappers=o)}},hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-disabled",t.disabledClass)},inputs:{format:"format",min:"min",max:"max",cancelButton:"cancelButton",setButton:"setButton",nowButton:"nowButton",disabled:"disabled",isAdaptiveEnabled:"isAdaptiveEnabled",isDateTimePicker:"isDateTimePicker",steps:"steps",value:"value"},outputs:{valueChange:"valueChange",valueReject:"valueReject",tabOutLastPart:"tabOutLastPart"},exportAs:["kendo-timeselector"],features:[s.Jv_([z,{provide:He,useValue:"kendo.timeselector"}]),s.OA$],decls:9,vars:4,consts:()=>{let n,e,t,o,r,a;return n="Set",e="Set time",t="Cancel",o="Cancel changes",r="Now",a="Select now",[["now",""],["listWrapper",""],["accept",""],["cancel",""],["kendoTimeSelectorLocalizedMessages","","accept",n,"acceptLabel",e,"cancel",t,"cancelLabel",o,"now",r,"nowLabel",a],[1,"k-time-header"],[1,"k-title","k-timeselector-title"],["type","button","class","k-button k-button-md k-rounded-md k-button-flat k-button-flat-primary k-time-now",3,"kendoEventsOutsideAngular","scope","disabled",4,"ngIf"],[1,"k-time-list-container"],[1,"k-time-highlight"],["ngFor","",3,"ngForOf"],["class","k-time-footer k-actions k-actions-stretched k-actions-horizontal",4,"ngIf"],["type","button",1,"k-button","k-button-md","k-rounded-md","k-button-flat","k-button-flat-primary","k-time-now",3,"kendoEventsOutsideAngular","scope","disabled"],["class","k-time-list-wrapper","role","presentation","tabindex","-1",4,"ngIf"],["class","k-time-separator",4,"ngIf"],["role","presentation","tabindex","-1",1,"k-time-list-wrapper"],[3,"valueChange","tabOutLastPart","isLast","min","max","part","step","disabled","value","kendoEventsOutsideAngular","scope"],[1,"k-time-separator"],[1,"k-time-footer","k-actions","k-actions-stretched","k-actions-horizontal"],["type","button","class","k-button k-time-accept k-button-md k-rounded-md k-button-solid k-button-solid-primary",3,"kendoEventsOutsideAngular","scope","disabled",4,"ngIf"],["class","k-button k-time-cancel k-button-md k-rounded-md k-button-solid k-button-solid-base","type","button",3,"kendoEventsOutsideAngular","scope","disabled",4,"ngIf"],["type","button",1,"k-button","k-time-accept","k-button-md","k-rounded-md","k-button-solid","k-button-solid-primary",3,"kendoEventsOutsideAngular","scope","disabled"],["type","button",1,"k-button","k-time-cancel","k-button-md","k-rounded-md","k-button-solid","k-button-solid-base",3,"kendoEventsOutsideAngular","scope","disabled"]]},template:function(e,t){1&e&&(s.eu8(0,4),s.j41(1,"div",5)(2,"span",6),s.EFF(3),s.k0s(),s.DNE(4,Mot,3,10,"button",7),s.k0s(),s.j41(5,"div",8),s.nrm(6,"span",9),s.DNE(7,Aot,2,2,"ng-template",10),s.k0s(),s.DNE(8,Lot,3,2,"div",11)),2&e&&(s.R7$(3),s.SpI(" ",t.intl.formatDate(t.current,t.format)," "),s.R7$(),s.Y8G("ngIf",t.showNowButton),s.R7$(3),s.Y8G("ngForOf",t.dateFormatParts),s.R7$(),s.Y8G("ngIf",t.setButton||t.cancelButton))},dependencies:[qQ,h0e,q,xo,ut],encapsulation:2,changeDetection:0}),i})(),ZQ=(()=>{class i extends SS{constructor(e){super(),this.service=e}get override(){return!0}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-timeselector-messages"]],features:[s.Jv_([{provide:SS,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})();new RegExp("hour|minute|second|millisecond|dayperiod|literal");let BU=(()=>{class i extends yi{}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275dir=s.FsC({type:i,selectors:[["kendo-datetimepicker-messages-base"]],inputs:{toggle:"toggle",dateTab:"dateTab",dateTabLabel:"dateTabLabel",timeTab:"timeTab",timeTabLabel:"timeTabLabel",accept:"accept",acceptLabel:"acceptLabel",cancel:"cancel",cancelLabel:"cancelLabel",today:"today",now:"now",nowLabel:"nowLabel",prevButtonTitle:"prevButtonTitle",nextButtonTitle:"nextButtonTitle",parentViewButtonTitle:"parentViewButtonTitle",hour:"hour",minute:"minute",second:"second",millisecond:"millisecond",dayperiod:"dayperiod"},features:[s.Vt3]}),i})(),f0e=(()=>{class i extends BU{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoDateTimePickerLocalizedMessages",""]],features:[s.Jv_([{provide:BU,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})();const m0e=new RegExp("hour|minute|second|dayperiod|literal"),eZ="date";let tZ=(()=>{class i{constructor(e,t,o,r,a,l,c,u,f,_){this.popupService=e,this.intl=t,this.cdr=o,this.pickerService=r,this.ngZone=a,this.wrapper=l,this.touchEnabled=c,this.localization=u,this.disabledDatesService=f,this.renderer=_,this.calendarIcon=lD,this.clockIcon=j3,this.hostClasses=!0,this.twoDigitYearMax=68,this.title="",this.disabled=!1,this.readonly=!1,this.readOnlyInput=!1,this.cancelButton=!0,this.steps={second:1,minute:1,hour:1,day:1,month:1,year:1},this.calendarType="infinite",this.animateCalendarNavigation=!1,this.weekNumber=!1,this.rangeValidation=!0,this.disabledDatesValidation=!0,this.incompleteDateValidation=!1,this.autoCorrectParts=!0,this.autoSwitchParts=!0,this.autoSwitchKeys=[],this.enableMouseWheel=!0,this.allowCaretMode=!1,this.autoFill=!1,this.adaptiveMode="none",this.valueChange=new s.bkB,this.open=new s.bkB,this.close=new s.bkB,this.onFocus=new s.bkB,this.onBlur=new s.bkB,this.activeTab=eZ,this.timeSelectorFormat="t",this.timeSelectorMin=he(tw),this.timeSelectorMax=he(m0),this.calendarValue=null,this.calendarMin=he(Ru),this.calendarMax=fCe(Au),this.xIcon=go,this._popupSettings={animate:!0},this._value=null,this._format="g",this._tabindex=0,this._defaultTab=eZ,this._min=OQ(Ru,tw),this._max=OQ(Au,m0),this._isActive=!1,this.onControlTouched=Xt,this.onControlChange=Xt,this.onValidatorChange=Xt,this.minValidateFn=Xt,this.maxValidateFn=Xt,this.disabledDatesValidateFn=Xt,this.incompleteValidator=Xt,this.subscriptions=new be.yU,this._size=_f,this._rounded=mS,this._fillMode=_S,(0,_t.$)(ew)}get disabledClass(){return this.disabled}get dateInput(){return this.pickerService.input}get calendar(){return this.pickerService.calendar}get timeSelector(){return this.pickerService.timeSelector}set value(e){this.verifyValue(e),this._value=he(e),this.setCalendarValue(e),this.cdr.markForCheck()}get value(){return this._value}set format(e){this._format=e;const t=this.getDisplayFormat(e);this.timeSelectorFormat=this.getTimeSelectorFormat(t)}get format(){return this._format}set tabindex(e){const t=Number(e);this._tabindex=isNaN(t)?0:t}get tabindex(){return this.disabled?-1:this._tabindex}set disabledDates(e){this._disabledDates=e,this.disabledDatesService.initialize(e)}get disabledDates(){return this._disabledDates}set popupSettings(e){this._popupSettings=Object.assign({},{animate:!0},e)}get popupSettings(){return this._popupSettings}set subtitle(e){this._subtitle=e}get subtitle(){return this._subtitle||this.placeholder}set min(e){this._min=he(e),this.calendarMin=En(e||Ru)}get min(){return this._min}set max(e){this._max=he(e),this.calendarMax=fCe(e||Au)}get max(){return this._max}get isOpen(){return this.isAdaptive?(i=>!!this.actionSheet?.expanded)():Nt(this.popupRef)}get isActive(){return this._isActive}set isActive(e){e?this.renderer.addClass(this.wrapper.nativeElement,"k-focus"):this.renderer.removeClass(this.wrapper.nativeElement,"k-focus"),this._isActive=e}set defaultTab(e){this._defaultTab=e||eZ,this.activeTab=this.defaultTab}get defaultTab(){return this._defaultTab}set size(e){this.renderer.removeClass(this.wrapper.nativeElement,Js("input",this.size)),this.renderer.removeClass(this.toggleButton.nativeElement,Js("button",this.size));const t=e||_f;"none"!==t&&(this.renderer.addClass(this.wrapper.nativeElement,Js("input",t)),this.renderer.addClass(this.toggleButton.nativeElement,Js("button",t))),this._size=t}get size(){return this._size}set rounded(e){this.renderer.removeClass(this.wrapper.nativeElement,Td(this.rounded));const t=e||mS;"none"!==t&&this.renderer.addClass(this.wrapper.nativeElement,Td(t)),this._rounded=t}get rounded(){return this._rounded}set fillMode(e){this.renderer.removeClass(this.wrapper.nativeElement,dr("input",this.fillMode)),this.renderer.removeClass(this.toggleButton.nativeElement,dr("button",this.fillMode)),this.renderer.removeClass(this.toggleButton.nativeElement,`k-button-${this.fillMode}-base`);const t=e||_S;"none"!==t&&(this.renderer.addClass(this.wrapper.nativeElement,dr("input",t)),this.renderer.addClass(this.toggleButton.nativeElement,dr("button",t)),this.renderer.addClass(this.toggleButton.nativeElement,`k-button-${t}-base`)),this._fillMode=t}get fillMode(){return this._fillMode}get tabSwitchTransition(){return this.isOpen?null:"none"}get disableCalendar(){return"date"!==this.activeTab&&!this.calendar.isActive}get disableTimeSelector(){return"time"!==this.activeTab&&!this.timeSelector.isActive}get isAdaptiveModeEnabled(){return"auto"===this.adaptiveMode}get isAdaptive(){return this.isAdaptiveModeEnabled&&"large"!==this.windowSize}onResize(){!this.isOpen||this.windowSize===cl()||(this.actionSheet.expanded?this.toggleActionSheet(!1):this._togglePopup(!1),this.windowSize=cl())}get activeTabComponent(){if(this.isOpen)return Nt(this.calendar)||Nt(this.timeSelector)||this.cdr.detectChanges(),"date"===this.activeTab?this.calendar:this.timeSelector}get appendTo(){const{appendTo:e}=this.popupSettings;if(Nt(e)&&"root"!==e)return"component"===e?this.container:e}get popupUID(){return this.calendar?.popupId}get acceptButton(){return this.popupRef?.popup.instance.container.nativeElement.querySelector(".k-button.k-time-accept")}get cancelButtonElement(){return this.popupRef?.popup.instance.container.nativeElement.querySelector(".k-button.k-time-cancel")}get dateTabButton(){return this.popupRef?.popup.instance.container.nativeElement.querySelector(".k-button.k-date-tab")}ngOnInit(){this.subscriptions.add(this.pickerService.onFocus.pipe(F(this.detectPopupChanges.bind(this))).subscribe(this.handleFocus.bind(this))),this.subscriptions.add(this.pickerService.onBlur.subscribe(this.handleBlur.bind(this))),this.subscriptions.add(this.pickerService.sameDateSelected.subscribe(this.handleCalendarValueChange.bind(this))),this.subscriptions.add(this.localization.changes.subscribe(()=>this.cdr.markForCheck())),this.subscriptions.add(this.pickerService.dateCompletenessChange.subscribe(this.handleDateCompletenessChange.bind(this))),gU()&&this.subscriptions.add(this.ngZone.runOutsideAngular(()=>Dt(window,"blur").subscribe(()=>{this.isAdaptive||this.handleCancel()}))),this.focusableId=this.dateInput?.focusableId}ngAfterViewInit(){this.setComponentClasses(),this.actionSheet&&ne()&&(this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-height","60vh"),this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-max-height","none"))}ngOnChanges(e){(Nt(e.min)||Nt(e.max))&&this.verifyMinMaxRange(),(e.min||e.max||e.rangeValidation||e.disabledDatesValidation||e.disabledDates||e.incompleteDateValidation)&&(this.minValidateFn=this.rangeValidation?pR(this.min):Xt,this.maxValidateFn=this.rangeValidation?fR(this.max):Xt,this.disabledDatesValidateFn=this.disabledDatesValidation?GCe(this.disabledDatesService.isDateDisabled):Xt,this.incompleteValidator=this.incompleteDateValidation?PU():Xt,this.onValidatorChange()),(!this.focusableId||e.focusableId)&&(this.focusableId=this.dateInput?.focusableId)}ngOnDestroy(){this.isOpen&&this.closePopup(),this.subscriptions.unsubscribe()}focus(){this.disabled||(this.isOpen?this.activeTabComponent.focus():this.dateInput.focus())}blur(){this.isOpen&&this.activeTabComponent.isActive?this.activeTabComponent.blur():this.dateInput.blur()}toggle(e){this.disabled||this.readonly||e===this.isOpen||(this.windowSize=cl(),this.isAdaptive?this.toggleActionSheet(e):this._togglePopup(e))}writeValue(e){this.verifyValue(e),this.value=he(e),this.cdr.markForCheck(),!e&&this.dateInput&&(this.dateInput.placeholder=this.placeholder,this.dateInput.writeValue(e))}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)||this.disabledDatesValidateFn(e)||this.incompleteValidator(e,this.dateInput&&this.dateInput.isDateIncomplete)}registerOnValidatorChange(e){this.onValidatorChange=e}isEmpty(){return!Nt(this.value)&&this.dateInput.isEmpty()}handleIconClick(e){if(this.disabled||this.readonly)return;e.preventDefault();const t=!this.isOpen||Te(this.close);this.run(t,()=>{const o=!this.isOpen;this.handleFocus(),this.toggleDateTime(o),this.switchFocus()})}handleFocus(){this.isActive||(this.isActive=!0,Te(this.onFocus)&&this.ngZone.run(()=>this.onFocus.emit()))}handleBlur(e){if(!this.isActive||this.focusTargetInComponent(e))return;this.isActive=!1;const o=this.wrapper.nativeElement.classList.contains("ng-untouched")||Te(this.onBlur)||this.isOpen&&Te(this.close);this.run(o,()=>{this.onBlur.emit(),this.onControlTouched(),this.toggleDateTime(!1),this.cdr.markForCheck()})}changeActiveTab(e){!this.isOpen||this.activeTab===e||(Xi(this.timeSelector.value,this.timeSelector.current)||this.timeSelector.handleAccept(),this.activeTab=e,this.cdr.detectChanges(),this.detectPopupChanges())}handleTabChangeTransitionEnd(e,t){t.target===e&&("time"===this.activeTab&&this.renderer.removeAttribute(this.dateInput?.inputElement,"aria-activedescendant"),this.activeTabComponent.focus())}onTabOutLastPart(){this.cancelButton||this.calendarValue?!this.cancelButton&&this.calendarValue?this.acceptButton.focus():this.cancelButton&&this.cancelButtonElement.focus():this.dateTabButton.focus()}handleAccept(){if(!this.isOpen)return;const e=OQ(this.calendar.value,this.timeSelector.current),o=!Xi(this.value,e)||Te(this.close);this.run(o,()=>{this.handleValueChange(e),this.toggleDateTime(!1)})}handleCancel(){if(!this.isOpen)return;const e=Te(this.close);this.run(e,()=>this.toggleDateTime(!1))}handleInputValueChange(e){this.handleValueChange(e),this.isOpen&&this.toggleDateTime(!1)}handleDateInputClick(){this.windowSize=cl(),this.isAdaptive&&this.toggleDateTime(!0)}handleCalendarValueChange(){this.setTimeSelectorMinMax(this.calendar.value),this.changeActiveTab("time")}handleKeyDown(e){if(this.disabled||this.readonly)return;const{keyCode:t,altKey:o}=e;switch(t){case o&&G.ArrowUp:case G.Escape:this.handleCancel();break;case!this.isOpen&&o&&G.ArrowDown:this.ngZone.run(()=>this.toggleDateTime(!0));break;case o&&G.ArrowRight:this.changeActiveTab("time");break;case o&&G.ArrowLeft:this.changeActiveTab("date");break;case this.isOpen&&this.timeSelector.isActive&&Nt(this.calendarValue)&&G.Enter:this.handleAccept();break;default:return}e.preventDefault()}handleTab(e){e.preventDefault();const{shiftKey:t}=e;switch(e.target){case this.acceptButton:!t&&this.calendarValue&&this.dateTabButton.focus();break;case this.cancelButtonElement:t||this.calendarValue?!t&&this.calendarValue&&this.acceptButton.focus():this.dateTabButton.focus();break;case this.dateTabButton:this.calendarValue?this.acceptButton.focus():!this.calendarValue&&this.cancelButton?this.cancelButtonElement.focus():!this.calendarValue&&!this.cancelButton&&("date"===this.activeTab?this.calendar.monthView.list.nativeElement.focus():this.timeSelector.focus())}}handleActionSheetCollapse(){this.cdr.markForCheck(),this.resetActiveTab()}popupButtonsClasses(e){const t=e||"base";return`${this.isAdaptive?Js("button","large"):this.size?Js("button",this.size):""} ${this.rounded?Td(this.rounded):""} ${this.fillMode?"k-button-"+this.fillMode+" k-button-"+this.fillMode+"-"+t:""}`}preventMouseDown(e){e.preventDefault()}_togglePopup(e){(Nt(e)?!e:this.isOpen)?(this.closePopup(),this.resetActiveTab()):this.openPopup()}toggleActionSheet(e){Nt(e)&&e&&!this.isOpen?(this.actionSheet.toggle(),this.updateActionSheetAdaptiveAppearance(),this.renderer.setAttribute(this.actionSheet.element.nativeElement,"id",this.popupUID),this.renderer.setAttribute(this.dateInput?.inputElement,"aria-controls",this.popupUID),this.setAriaActiveDescendant()):Nt(e)&&!e&&this.isOpen&&(this.actionSheet.toggle(),this.ariaActiveDescendantSubscription.unsubscribe(),this.dateInput&&(this.renderer.removeAttribute(this.dateInput.inputElement,"aria-activedescendant"),this.renderer.removeAttribute(this.dateInput.inputElement,"aria-controls")))}updateActionSheetAdaptiveAppearance(){let e,t;this.actionSheet&&(e=this.actionSheet.element.nativeElement.querySelector(".k-actionsheet"),t=this.actionSheet.element.nativeElement.querySelector(".k-child-animation-container"),"medium"===this.windowSize?(this.renderer.removeClass(e,"k-actionsheet-fullscreen"),this.renderer.removeStyle(t,"height")):"small"===this.windowSize&&(this.renderer.addClass(e,"k-actionsheet-fullscreen"),this.renderer.setStyle(t,"height","100%")),this.renderer.addClass(e,"k-adaptive-actionsheet"),this.renderer.addClass(e,"k-actionsheet-bottom"),this.renderer.setStyle(t,"bottom","0px"))}resetActiveTab(){this.activeTab!==this.defaultTab&&(this.activeTab=this.defaultTab,this.cdr.detectChanges())}verifyValue(e){if((0,s.naY)()&&Nt(e)&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance or null. Check https://www.telerik.com/kendo-angular-ui/components/dateinputs/datetimepicker/integration-with-json/ for possible resolution.")}verifyMinMaxRange(){if((0,s.naY)()&&!DQ(this.min,this.max))throw new Error("The max value should be bigger than the min. See https://www.telerik.com/kendo-angular-ui/components/dateinputs/datetimepicker/date-time-limits/.")}getTimeSelectorFormat(e){return this.intl.splitDateFormat(e).filter(this.timeFormatPartFilter).reduce((o,r)=>o+r.pattern,"")||"t"}getDisplayFormat(e){return e?"string"==typeof e?e:e.displayFormat:"g"}timeFormatPartFilter(e,t,o){const r=t>=1&&o[t-1];return m0e.test(r&&"literal"===e.type?r.type:e.type)}toggleDateTime(e){if(e===this.isOpen)return;const t=new vR;e?this.open.emit(t):this.close.emit(t),!t.isDefaultPrevented()&&(this.toggle(e),this.switchFocus())}switchFocus(){this.isActive&&(this.isOpen?this.activeTabComponent.focus():this.touchEnabled?this.dateInput.isActive||this.handleBlur():this.dateInput.focus())}openPopup(){this.setCalendarValue(this.value),this.setTimeSelectorMinMax(this.value);const e=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,content:this.popupTemplate,positionMode:"absolute",animate:this.popupSettings.animate,appendTo:this.appendTo,popupClass:`k-datetime-container k-datetimepicker-popup ${this.popupSettings.popupClass||""}`,anchorAlign:{vertical:"bottom",horizontal:e},popupAlign:{vertical:"top",horizontal:e}}),this.popupRef.popupElement.setAttribute("id",this.popupUID),this.renderer.setAttribute(this.dateInput?.inputElement,"aria-controls",this.popupUID),this.setAriaActiveDescendant(),this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.handleCancel()),"infinite"===this.calendar.type&&this.subscriptions.add(Dt(this.calendar.monthView.list.nativeElement,"keydown").subscribe(t=>{const{keyCode:o,shiftKey:r}=t;o===G.Tab&&!r&&!this.cancelButton&&!this.calendarValue&&(t.preventDefault(),this.dateTabButton.focus())}))}setAriaActiveDescendant(){this.ariaActiveDescendantSubscription=("infinite"===this.calendar.type?this.calendar.monthView.focusedCellChange:this.calendar.multiViewCalendar.viewList.focusedCellChange).subscribe(t=>this.renderer.setAttribute(this.dateInput?.inputElement,"aria-activedescendant",t))}closePopup(){this.isOpen&&(this.ariaActiveDescendantSubscription.unsubscribe(),this.renderer.removeAttribute(this.dateInput?.inputElement,"aria-controls"),this.renderer.removeAttribute(this.dateInput?.inputElement,"aria-activedescendant"),this.popupRef.close(),this.popupRef=null)}handleValueChange(e){Xi(this.value,e)||(this.value=he(e),this.onControlChange(he(e)),this.valueChange.emit(he(e)))}focusTargetInComponent(e){if(!Nt(e))return!1;const t=e.relatedTarget||document.activeElement,o=Nt(this.popupRef)&&this.popupRef.popupElement.contains(t),r=this.wrapper.nativeElement.contains(t),a=this.actionSheet&&(this.actionSheet.element.nativeElement.contains(e.target)||this.actionSheet.element.nativeElement.contains(t));return o||r||a}setTimeSelectorMinMax(e){const t=Nt(e)&&Nt(this.min)&&Xi(En(e),En(this.min));this.timeSelectorMin=he(t?this.min:tw);const o=Nt(e)&&Nt(this.max)&&Xi(En(e),En(this.max));this.timeSelectorMax=he(o?this.max:m0)}setCalendarValue(e){const t=Nt(e)&&nw(e,this.calendarMin,this.calendarMax);this.calendarValue=t?En(e):null}detectPopupChanges(){!this.isOpen||this.isAdaptive||this.popupRef.popup.changeDetectorRef.detectChanges()}run(e,t){e?this.ngZone.run(()=>t()):t()}handleDateCompletenessChange(){this.cdr.markForCheck(),this.ngZone.run(()=>this.onValidatorChange())}setComponentClasses(){this.size&&(this.renderer.addClass(this.wrapper.nativeElement,Js("input",this.size)),this.renderer.addClass(this.toggleButton.nativeElement,Js("button",this.size))),this.rounded&&this.renderer.addClass(this.wrapper.nativeElement,Td(this.rounded)),this.fillMode&&(this.renderer.addClass(this.wrapper.nativeElement,dr("input",this.fillMode)),this.renderer.addClass(this.toggleButton.nativeElement,dr("button",this.fillMode)),this.renderer.addClass(this.toggleButton.nativeElement,`k-button-${this.fillMode}-base`))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Ts),s.rXU(xt.Bs),s.rXU(s.gRc),s.rXU(D_),s.rXU(s.SKi),s.rXU(s.aKT),s.rXU(ow),s.rXU(z),s.rXU(gf),s.rXU(s.sFG))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-datetimepicker"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,DU,5),s.wni(o,hR,5),s.wni(o,wU,5),s.wni(o,kU,5),s.wni(o,OU,5),s.wni(o,TU,5),s.wni(o,MU,5)),2&e){let r;s.mGM(r=s.lsd())&&(t.cellTemplate=r.first),s.mGM(r=s.lsd())&&(t.monthCellTemplate=r.first),s.mGM(r=s.lsd())&&(t.yearCellTemplate=r.first),s.mGM(r=s.lsd())&&(t.decadeCellTemplate=r.first),s.mGM(r=s.lsd())&&(t.centuryCellTemplate=r.first),s.mGM(r=s.lsd())&&(t.weekNumberTemplate=r.first),s.mGM(r=s.lsd())&&(t.headerTitleTemplate=r.first)}},viewQuery:function(e,t){if(1&e&&(s.GBs(bQ,7),s.GBs(dU,7,s.c1b),s.GBs(CQ,7,s.C4Q),s.GBs(uU,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.toggleButton=o.first),s.mGM(o=s.lsd())&&(t.container=o.first),s.mGM(o=s.lsd())&&(t.popupTemplate=o.first),s.mGM(o=s.lsd())&&(t.actionSheet=o.first)}},hostVars:8,hostBindings:function(e,t){2&e&&s.AVh("k-datetimepicker",t.hostClasses)("k-input",t.hostClasses)("k-disabled",t.disabledClass)("k-readonly",t.readonly)},inputs:{focusableId:"focusableId",showOtherMonthDays:"showOtherMonthDays",value:"value",format:"format",twoDigitYearMax:"twoDigitYearMax",tabindex:"tabindex",disabledDates:"disabledDates",popupSettings:"popupSettings",title:"title",subtitle:"subtitle",disabled:"disabled",readonly:"readonly",readOnlyInput:"readOnlyInput",cancelButton:"cancelButton",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",steps:"steps",focusedDate:"focusedDate",calendarType:"calendarType",animateCalendarNavigation:"animateCalendarNavigation",weekNumber:"weekNumber",min:"min",max:"max",rangeValidation:"rangeValidation",disabledDatesValidation:"disabledDatesValidation",incompleteDateValidation:"incompleteDateValidation",autoCorrectParts:"autoCorrectParts",autoSwitchParts:"autoSwitchParts",autoSwitchKeys:"autoSwitchKeys",enableMouseWheel:"enableMouseWheel",allowCaretMode:"allowCaretMode",autoFill:"autoFill",adaptiveMode:"adaptiveMode",defaultTab:"defaultTab",size:"size",rounded:"rounded",fillMode:"fillMode"},outputs:{valueChange:"valueChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur"},exportAs:["kendo-datetimepicker"],features:[s.Jv_([D_,z,gf,{provide:He,useValue:"kendo.datetimepicker"},{provide:zn,useExisting:(0,s.Rfq)(()=>i),multi:!0},{provide:Lo,useExisting:(0,s.Rfq)(()=>i),multi:!0},{provide:ji,useExisting:(0,s.Rfq)(()=>i)}]),s.OA$],decls:16,vars:42,consts:()=>{let n,e,t,o,r,a,l,c,u,f,_,S,v,b,D,k,O,I,x,P;return n="Data",e="Data",t="Ora",o="Ora",r="Mostra popup",a="Accetta",l="Accetta",c="Cancella",u="Cancella",f="ADESSO",_="Seleziona adesso",S="OGGI",v="Vai al precedente",b="Vai al prossimo",D="Navigate to parent view",k="Hour",O="Minute",I="Second",x="Millisecond",P="Dayperiod",[["toggleButton",""],["container",""],["popupTemplate",""],["actionSheet",""],["dateTimeTemplate",""],["dateTimeSelector",""],["calendar",""],["kendoDateTimePickerLocalizedMessages","","dateTab",n,"dateTabLabel",e,"timeTab",t,"timeTabLabel",o,"toggle",r,"accept",a,"acceptLabel",l,"cancel",c,"cancelLabel",u,"now",f,"nowLabel",_,"today",S,"prevButtonTitle",v,"nextButtonTitle",b,"parentViewButtonTitle",D,"hour",k,"minute",O,"second",I,"millisecond",x,"dayperiod",P],["pickerType","datetimepicker","hasPopup","dialog",3,"valueChange","click","value","format","twoDigitYearMax","min","max","incompleteDateValidation","autoCorrectParts","autoSwitchParts","autoSwitchKeys","enableMouseWheel","allowCaretMode","autoFill","formatPlaceholder","placeholder","disabled","focusableId","readonly","role","ariaReadOnly","steps","tabindex","title","isPopupOpen","kendoEventsOutsideAngular","scope","fillMode","rounded","size"],["type","button",1,"k-input-button","k-button","k-icon-button",3,"tabindex","kendoEventsOutsideAngular","scope"],["name","calendar","innerCssClass","k-button-icon",3,"svgIcon",4,"ngIf"],["name","clock","innerCssClass","k-button-icon",3,"svgIcon",4,"ngIf"],[3,"resize",4,"ngIf"],[3,"overlayClick","collapse","titleId"],["kendoActionSheetTemplate",""],["name","calendar","innerCssClass","k-button-icon",3,"svgIcon"],["name","clock","innerCssClass","k-button-icon",3,"svgIcon"],[4,"ngTemplateOutlet"],[3,"resize"],[1,"k-actionsheet-titlebar"],[1,"k-actionsheet-titlebar-group","k-hbox"],[1,"k-actionsheet-title"],[1,"k-text-center"],[1,"k-actionsheet-subtitle","k-text-center"],[1,"k-actionsheet-actions"],["kendoButton","","type","button","icon","x","fillMode","flat","aria-hidden","true","size","large","innerCssClass","k-button-icon",3,"click","svgIcon","tabIndex"],[1,"k-actionsheet-content","!k-overflow-hidden"],[1,"k-actions","k-actions-stretched","k-actions-horizontal","k-actionsheet-footer"],["kendoButton","","type","button","size","large",3,"click"],["kendoButton","","type","button","size","large","themeColor","primary",3,"click"],[3,"kendoEventsOutsideAngular","scope"],[1,"k-datetime-buttongroup",3,"kendoEventsOutsideAngular","scope"],["role","group",1,"k-button-group","k-button-group-stretched"],["type","button",1,"k-button","k-group-start","k-date-tab",3,"ngClass","kendoEventsOutsideAngular","scope"],["type","button",1,"k-button","k-group-end","k-time-tab",3,"ngClass","kendoEventsOutsideAngular"],[1,"k-datetime-selector",3,"kendoEventsOutsideAngular"],[1,"k-datetime-calendar-wrap"],[3,"valueChange","ngClass","focusedDate","value","type","min","max","weekNumber","navigation","animateNavigation","showOtherMonthDays","cellTemplate","monthCellTemplate","yearCellTemplate","decadeCellTemplate","centuryCellTemplate","weekNumberTemplate","headerTitleTemplate","disabled","disabledDates"],[3,"today","prevButtonTitle","nextButtonTitle","parentViewButtonTitle"],[1,"k-datetime-time-wrap"],[3,"tabOutLastPart","ngClass","value","format","min","max","setButton","cancelButton","steps","disabled","isAdaptiveEnabled","isDateTimePicker"],[3,"acceptLabel","accept","cancelLabel","cancel","nowLabel","now","hour","minute","second","millisecond","dayperiod"],["class","k-datetime-footer k-actions k-actions-stretched k-actions-horizontal",3,"kendoEventsOutsideAngular","scope",4,"ngIf"],[1,"k-datetime-footer","k-actions","k-actions-stretched","k-actions-horizontal",3,"kendoEventsOutsideAngular","scope"],["type","button",1,"k-button","k-time-accept",3,"ngClass","disabled","kendoEventsOutsideAngular","scope"],["type","button","class","k-button k-time-cancel",3,"ngClass","kendoEventsOutsideAngular","scope",4,"ngIf"],["type","button",1,"k-button","k-time-cancel",3,"ngClass","kendoEventsOutsideAngular","scope"]]},template:function(e,t){if(1&e){const o=s.RV6();s.eu8(0,7),s.j41(1,"kendo-dateinput",8),s.bIt("valueChange",function(a){return s.eBV(o),s.Njj(t.handleInputValueChange(a))})("click",function(){return s.eBV(o),s.Njj(t.handleDateInputClick())}),s.k0s(),s.j41(2,"button",9,0),s.DNE(4,Yot,1,1,"kendo-icon-wrapper",10)(5,Jot,1,1,"kendo-icon-wrapper",11),s.k0s(),s.eu8(6,null,1),s.DNE(8,Qot,1,1,"ng-template",null,2,s.C5r)(10,Zot,1,0,"kendo-resize-sensor",12),s.j41(11,"kendo-actionsheet",13,3),s.bIt("overlayClick",function(){return s.eBV(o),s.Njj(t.toggleDateTime(!1))})("collapse",function(){return s.eBV(o),s.Njj(t.handleActionSheetCollapse())}),s.DNE(13,trt,16,12,"ng-template",14),s.k0s(),s.DNE(14,srt,17,90,"ng-template",null,4,s.C5r)}2&e&&(s.R7$(),s.Y8G("value",t.value)("format",t.format)("twoDigitYearMax",t.twoDigitYearMax)("min",t.min)("max",t.max)("incompleteDateValidation",t.incompleteDateValidation)("autoCorrectParts",t.autoCorrectParts)("autoSwitchParts",t.autoSwitchParts)("autoSwitchKeys",t.autoSwitchKeys)("enableMouseWheel",t.enableMouseWheel)("allowCaretMode",t.allowCaretMode)("autoFill",t.autoFill)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("disabled",t.disabled)("focusableId",t.focusableId)("readonly",t.readonly||t.readOnlyInput)("role","combobox")("ariaReadOnly",t.readonly)("steps",t.steps)("tabindex",t.tabindex)("title",t.title)("isPopupOpen",t.isOpen)("kendoEventsOutsideAngular",s.eq3(37,tCe,t.handleKeyDown))("scope",t)("fillMode",t.fillMode)("rounded",t.rounded)("size",t.size),s.R7$(),s.Y8G("tabindex",-1)("kendoEventsOutsideAngular",s.l_i(39,Hot,t.preventMouseDown,t.handleIconClick))("scope",t),s.BMQ("title",t.localization.get("toggle"))("aria-label",t.localization.get("toggle")),s.R7$(2),s.Y8G("ngIf","date"===t.activeTab),s.R7$(),s.Y8G("ngIf","time"===t.activeTab),s.R7$(5),s.Y8G("ngIf",t.isAdaptiveModeEnabled),s.R7$(),s.Y8G("titleId",null==t.calendar?null:t.calendar.headerId))},dependencies:[SR,Qe,hs,VC,Ht,sw,HQ,QQ,ZQ,f0e,xo,q,qe,BC,Be],encapsulation:2,changeDetection:0}),i})(),zU=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,No,cr]]}),i})(),vS=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({}),i})(),HU=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({providers:[mR,MQ,RQ,xQ,LQ,PQ],imports:[[Ge,zU,xt.W5,vS,ia,No],zU,vS]}),i})(),b0e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge]]}),i})(),CR=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({providers:[gR,MQ,RQ,xQ,LQ,PQ],imports:[[Ge,zU,HU,xt.W5,vS,b0e,No,Mr],zU,vS]}),i})(),oZ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[CR,HU],CR,HU]}),i})(),rw=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,xt.W5,No,xn]]}),i})(),jU=(()=>{class i extends UU{constructor(e){super(),this.service=e}get override(){return!0}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-datepicker-messages"]],features:[s.Jv_([{provide:UU,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})();const zlt=[E1e,Mr,cr,YC];let $U=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[...zlt],E1e,Mr,cr,YC]}),i})(),bR=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({providers:[{provide:ow,useValue:uI}],imports:[[Ge,rw,CR,xt.W5,ia,vS,No,xn,$U],vS]}),i})();const Hlt=[HU,rw,ia,No,$U];let E0e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,Hlt]]}),i})();const jlt=[rw,xt.W5,ia,b0e,No,xn,$U],$lt=[jQ,XCe,JCe,e0e,s0e,o0e,{provide:ow,useValue:uI}];let rZ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({providers:$lt,imports:[[Ge,...jlt]]}),i})(),y0e=(()=>{class i extends BU{constructor(e){super(),this.service=e}get override(){return!0}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-datetimepicker-messages"]],features:[s.Jv_([{provide:BU,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),D0e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({providers:[{provide:ow,useValue:uI}],imports:[[Ge,xt.W5,rw,CR,rZ,ia,No,vS,xn,$U],vS]}),i})();const Xlt=[oZ,rw,bR,rZ,E0e,D0e];let w0e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[Xlt,oZ,rw,bR,rZ,E0e,D0e]}),i})();const Wlt=["progressStatus"],Klt=["progressStatusWrap"];function Ylt(i,n){if(1&i&&(s.j41(0,"span",7),s.EFF(1),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.JRh(e.formattedLabelValue)}}function Jlt(i,n){if(1&i&&(s.j41(0,"span",7),s.EFF(1),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.JRh(e.formattedLabelValue)}}const k0e={name:"@progress/kendo-angular-progressbar",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925102,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},O0e=(i,n,e)=>Math.max(Math.min(e,n),i),aZ=(i,n,e)=>Math.max((e-i)/(n-i),1e-4),lZ=(i,n,e)=>i[n]&&void 0!==i[n].currentValue?i[n].currentValue:e;let M0e=(()=>{class i{constructor(e,t,o){this.elem=e,this.renderer=t,this.localization=o,this.hostClasses=!0,this.roleAttribute="progressbar",this.max=100,this.min=0,this.value=0,this.orientation="horizontal",this.disabled=!1,this.reverse=!1,this.indeterminate=!1,this.displayValue=0,this.previousValue=0,(0,_t.$)(k0e),this.localizationChangeSubscription=o.changes.subscribe(({rtl:r})=>{this.direction=r?"rtl":"ltr"})}get isHorizontal(){return"horizontal"===this.orientation}get isVertical(){return"vertical"===this.orientation}get disabledClass(){return this.disabled}get reverseClass(){return this.reverse}get indeterminateClass(){return this.indeterminate}get dirAttribute(){return this.direction}get ariaMinAttribute(){return String(this.min)}get ariaMaxAttribute(){return String(this.max)}get ariaValueAttribute(){return this.indeterminate?void 0:String(this.displayValue)}get isCompleted(){return this.value===this.max}get statusWidth(){return"horizontal"===this.orientation?100*this._progressRatio:100}get statusHeight(){return"vertical"===this.orientation?100*this._progressRatio:100}get statusWrapperWidth(){return"horizontal"===this.orientation?100/this._progressRatio:100}get statusWrapperHeight(){return"vertical"===this.orientation?100/this._progressRatio:100}get _progressRatio(){return aZ(this.min,this.max,this.displayValue)}ngAfterViewInit(){const e=this.elem.nativeElement,t=this.localization.get("progressBarLabel");this.renderer.setAttribute(e,"aria-label",t)}ngOnChanges(e){const t=lZ(e,"min",this.min),o=lZ(e,"max",this.max),r=lZ(e,"value",this.value);if(e.min||e.max||e.value){if((e.min||e.max)&&((i,n)=>{if(s.naY&&i>n)throw new Error("The max value should be greater than the min.")})(t,o),e.value){(null==r||Number.isNaN(r))&&(this.value=t);const a=this.displayValue;this.displayValue=O0e(this.min,this.max,r),this.previousValue=a}this.min=t,this.max=o,this.displayValue=O0e(this.min,this.max,r)}}ngOnDestroy(){this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["ng-component"]],hostVars:17,hostBindings:function(e,t){2&e&&(s.BMQ("dir",t.dirAttribute)("role",t.roleAttribute)("aria-valuemin",t.ariaMinAttribute)("aria-valuemax",t.ariaMaxAttribute)("aria-valuenow",t.ariaValueAttribute),s.AVh("k-progressbar",t.hostClasses)("k-progressbar-horizontal",t.isHorizontal)("k-progressbar-vertical",t.isVertical)("k-disabled",t.disabledClass)("k-progressbar-reverse",t.reverseClass)("k-progressbar-indeterminate",t.indeterminateClass))},inputs:{max:"max",min:"min",value:"value",orientation:"orientation",disabled:"disabled",reverse:"reverse",indeterminate:"indeterminate"},features:[s.OA$],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),XU=(()=>{class i extends yi{}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275dir=s.FsC({type:i,inputs:{progressBarLabel:"progressBarLabel"},features:[s.Vt3]}),i})(),WU=(()=>{class i extends XU{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoProgressBarLocalizedMessages",""]],features:[s.Jv_([{provide:XU,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})(),KU=(()=>{class i extends M0e{constructor(e,t,o,r){super(t,o,e),this.localization=e,this.elem=t,this.renderer=o,this.zone=r,this.label=!0,this.animation=!1,this.animationEnd=new s.bkB}get showLabel(){return"boolean"==typeof this.label?this.label:(this.label&&!this.label.hasOwnProperty("visible")&&(this.label.visible=!0),this.label.visible)}get labelPosition(){return"boolean"==typeof this.label?"end":(this.label&&!this.label.hasOwnProperty("position")&&(this.label.position="end"),this.label.position)}get isPositionStart(){return"start"===this.labelPosition}get isPositionCenter(){return"center"===this.labelPosition}get isPositionEnd(){return"end"===this.labelPosition}get formattedLabelValue(){return((i,n,e,t)=>{const o=(i=>{const n=i.toString().split(".");return 1===n.length?`${n[0]}`:`${n[0]}.${n[1].substr(0,3)}`})(i);if("boolean"!=typeof t){if("string"!=typeof t.format)return"function"==typeof t.format?t.format(i):o;switch(t.format){case"value":default:return o;case"percent":return`${Math.floor(((i,n,e)=>100*Math.abs((i-n)/(e-n)))(i,n,e))}%`}}return o})(this.displayValue,this.min,this.max,this.label)}ngOnChanges(e){super.ngOnChanges(e),this.isAnimationInProgress&&(i=>{const n=!!i.animation;return n&&!(n&&i.animation.currentValue)})(e)&&(this.cancelCurrentAnimation=!0),((i,n,e,t)=>this.animation&&typeof requestAnimationFrame<"u"&&i.value&&this.previousValue!==this.displayValue)(e)&&!e.value.firstChange&&this.startAnimation(this.previousValue)}ngOnDestroy(){this.animationFrame&&cancelAnimationFrame(this.animationFrame)}startAnimation(e){this.isAnimationInProgress=!0;const t=this.progressStatusElement.nativeElement,o=this.progressStatusWrapperElement.nativeElement,r=this.getAnimationOptions(e);this.zone.runOutsideAngular(()=>{this.animationFrame&&cancelAnimationFrame(this.animationFrame);const a=()=>{const l=(new Date).getTime()-r.startTime,c=Math.min(l/r.duration,1),u=r.startSize+r.deltaSize*c;if(this.renderValueChange(t,o,r.property,u,100/u*100),c<1){if(this.cancelCurrentAnimation)return void this.resetProgress(t,o,r.property);this.animationFrame=requestAnimationFrame(a)}else this.stopAnimation(e)};a()})}get animationDuration(){return"boolean"==typeof this.animation?400:(this.animation&&!this.animation.hasOwnProperty("duration")&&(this.animation.duration=400),this.animation.duration)}stopAnimation(e){Te(this.animationEnd)&&this.zone.run(()=>{this.animationEnd.emit({from:e,to:this.displayValue})}),this.zone.run(()=>{this.isAnimationInProgress=!1})}getAnimationOptions(e){const t="horizontal"===this.orientation,o=aZ(this.min,this.max,e),r=t?100*o:100,a=t?100:100*o,l=t?"width":"height",c=(new Date).getTime(),f=t?this.statusWidth-r:this.statusHeight-a;return{property:l,startTime:c,startSize:t?r:a,deltaSize:f,duration:this.animationDuration*Math.abs(f/100)}}renderValueChange(e,t,o,r,a){this.renderer.setStyle(e,o,r+"%"),this.renderer.setStyle(t,o,a+"%")}resetProgress(e,t,o){const r=aZ(this.min,this.max,this.value);this.renderValueChange(e,t,o,100*r,100/r),this.zone.run(()=>{this.cancelCurrentAnimation=!1,this.isAnimationInProgress=!1})}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z),s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(s.SKi))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-progressbar"]],viewQuery:function(e,t){if(1&e&&(s.GBs(Wlt,5),s.GBs(Klt,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.progressStatusElement=o.first),s.mGM(o=s.lsd())&&(t.progressStatusWrapperElement=o.first)}},inputs:{label:"label",progressCssStyle:"progressCssStyle",progressCssClass:"progressCssClass",emptyCssStyle:"emptyCssStyle",emptyCssClass:"emptyCssClass",animation:"animation"},outputs:{animationEnd:"animationEnd"},exportAs:["kendoProgressBar"],features:[s.Jv_([z,{provide:He,useValue:"kendo.progressbar"}]),s.Vt3,s.OA$],decls:8,vars:28,consts:()=>{let n;return n="Progressbar",[["progressStatus",""],["progressStatusWrap",""],["kendoProgressBarLocalizedMessages","","progressBarLabel",n],[1,"k-progress-status-wrap",3,"ngStyle","ngClass"],["class","k-progress-status",4,"ngIf"],[1,"k-selected","k-progressbar-value",3,"ngStyle","ngClass"],[1,"k-progress-status-wrap"],[1,"k-progress-status"]]},template:function(e,t){1&e&&(s.eu8(0,2),s.j41(1,"span",3),s.DNE(2,Ylt,2,1,"span",4),s.k0s(),s.j41(3,"div",5,0)(5,"span",6,1),s.DNE(7,Jlt,2,1,"span",4),s.k0s()()),2&e&&(s.R7$(),s.AVh("k-progress-start",t.isPositionStart)("k-progress-center",t.isPositionCenter)("k-progress-end",t.isPositionEnd),s.Y8G("ngStyle",t.emptyCssStyle)("ngClass",t.emptyCssClass),s.R7$(),s.Y8G("ngIf",t.showLabel),s.R7$(),s.xc7("width",t.statusWidth,"%")("height",t.statusHeight,"%"),s.AVh("k-complete",t.isCompleted),s.Y8G("ngStyle",t.progressCssStyle)("ngClass",t.progressCssClass),s.R7$(2),s.xc7("width",t.statusWrapperWidth,"%")("height",t.statusWrapperHeight,"%"),s.AVh("k-progress-start",t.isPositionStart)("k-progress-center",t.isPositionCenter)("k-progress-end",t.isPositionEnd),s.R7$(2),s.Y8G("ngIf",t.showLabel))},dependencies:[WU,Wn,Be,q],encapsulation:2}),i})();const mct=[Ge,Mr];let R0e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[mct]}),i})();const A0e=["header"],_ct=["contentWrapper"],x0e=[[["kendo-panelbar-item"]]],N0e=["kendo-panelbar-item"],gct=(i,n,e,t,o,r,a,l,c,u,f)=>({title:i,id:n,icon:e,iconClass:t,svgIcon:o,imageUrl:r,selected:a,expanded:l,disabled:c,focused:u,content:f}),Sct=i=>({item:i}),L0e=(i,n,e,t,o,r)=>({title:i,id:n,icon:e,imageUrl:t,disabled:o,content:r}),P0e=i=>({$implicit:i});function vct(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",7),2&i){const e=s.XpG();s.Y8G("name",e.iconClasses)("customFontClass",e.customIconClasses)("svgIcon",e.svgIcon)}}function Cct(i,n){if(1&i&&s.nrm(0,"img",8),2&i){const e=s.XpG();s.Y8G("src",e.imageUrl,s.B4B)}}function bct(i,n){if(1&i&&(s.qex(0),s.j41(1,"span",9),s.EFF(2),s.k0s(),s.bVm()),2&i){const e=s.XpG();s.R7$(2),s.JRh(e.title)}}function Ect(i,n){}function yct(i,n){if(1&i&&s.DNE(0,Ect,0,0,"ng-template",10),2&i){const e=s.XpG();s.Y8G("ngTemplateOutlet",e.titleTemplate)("ngTemplateOutletContext",s.eq3(14,Sct,s.zJS(2,gct,[e.title,e.id,e.icon,e.iconClass,e.svgIcon,e.imageUrl,e.selected,e.expanded,e.disabled,e.focused,e.content])))}}function Dct(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",11),2&i){const e=s.XpG();s.Y8G("name",e.expanded?"arrow-chevron-up":"chevron-down")("svgIcon",e.expanderSVGIcon)("innerCssClass",e.dirInnerCssClasses)}}function wct(i,n){if(1&i&&(s.j41(0,"div",14),s.SdG(1),s.k0s()),2&i){const e=s.XpG(2);s.xc7("overflow",e.contentOverflow)("height",e.contentHeight)}}function kct(i,n){}function Oct(i,n){if(1&i&&(s.j41(0,"div",15),s.DNE(1,kct,0,0,"ng-template",10),s.k0s()),2&i){const e=s.XpG(2);s.xc7("overflow",e.contentOverflow)("height",e.contentHeight),s.R7$(),s.Y8G("ngTemplateOutlet",e.contentTemplate.first.templateRef)("ngTemplateOutletContext",s.eq3(13,P0e,s.l4e(6,L0e,e.title,e.id,e.icon,e.imageUrl,e.disabled,e.content)))}}function Tct(i,n){if(1&i&&s.nrm(0,"kendo-panelbar-item",18),2&i){const e=s.XpG().$implicit,t=s.XpG(3);s.Y8G("title",e.title)("id",e.id)("icon",e.icon)("iconClass",e.iconClass)("svgIcon",e.svgIcon)("imageUrl",e.imageUrl)("selected",!!e.selected)("expanded",!!e.expanded)("disabled",!!e.disabled)("template",t.template)("items",e.children)("content",e.content)}}function Mct(i,n){if(1&i&&(s.qex(0),s.DNE(1,Tct,1,12,"kendo-panelbar-item",17),s.bVm()),2&i){const e=n.$implicit;s.R7$(),s.Y8G("ngIf",!e.hidden)}}function Ict(i,n){if(1&i&&(s.j41(0,"div",14),s.DNE(1,Mct,2,1,"ng-container",16),s.k0s()),2&i){const e=s.XpG(2);s.xc7("overflow",e.contentOverflow)("height",e.contentHeight),s.R7$(),s.Y8G("ngForOf",e.items)}}function Rct(i,n){}function Act(i,n){if(1&i&&s.EFF(0),2&i){const e=s.XpG(3);s.JRh(e.content)}}function xct(i,n){if(1&i&&(s.j41(0,"div",15),s.DNE(1,Rct,0,0,"ng-template",10)(2,Act,1,1,"ng-template",19),s.k0s()),2&i){const e=s.XpG(2);s.xc7("overflow",e.contentOverflow)("height",e.contentHeight),s.R7$(),s.Y8G("ngTemplateOutlet",e.template)("ngTemplateOutletContext",s.eq3(14,P0e,s.l4e(7,L0e,e.title,e.id,e.icon,e.imageUrl,e.disabled,e.content))),s.R7$(),s.Y8G("ngIf",!e.template)}}function Nct(i,n){if(1&i&&(s.j41(0,"div",null,1),s.DNE(2,wct,2,4,"div",12)(3,Oct,2,15,"div",13)(4,Ict,2,5,"div",12)(5,xct,3,16,"div",13),s.k0s()),2&i){const e=s.XpG();s.Y8G("@toggle",e.state),s.BMQ("role","group")("aria-hidden",!e.disabled&&!e.expanded),s.R7$(2),s.Y8G("ngIf",e.hasChildItems&&!(null!=e.items&&e.items.length)),s.R7$(),s.Y8G("ngIf",e.hasContent&&!e.content),s.R7$(),s.Y8G("ngIf",e.hasItems),s.R7$(),s.Y8G("ngIf",e.content)}}function Lct(i,n){1&i&&s.SdG(0,0,["*ngIf","contentChildItems && !items"])}function Pct(i,n){if(1&i&&s.nrm(0,"kendo-panelbar-item",5),2&i){const e=s.XpG().$implicit,t=s.XpG(2);s.Y8G("title",e.title)("id",e.id)("icon",e.icon)("iconClass",e.iconClass)("svgIcon",e.svgIcon)("imageUrl",e.imageUrl)("selected",!!e.selected)("expanded",!!e.expanded)("disabled",!!e.disabled)("template",t.templateRef)("items",e.children)("content",e.content)}}function Gct(i,n){if(1&i&&(s.qex(0),s.DNE(1,Pct,1,12,"kendo-panelbar-item",4),s.bVm()),2&i){const e=n.$implicit;s.R7$(),s.Y8G("ngIf",!e.hidden)}}function Uct(i,n){if(1&i&&s.DNE(0,Gct,2,1,"ng-container",3),2&i){const e=s.XpG();s.Y8G("ngForOf",e.items)}}function Fct(i,n){1&i&&s.nrm(0,"div",6)}const Yct=["kendoTabStripScrollableButton",""],Jct=["kendoTabStripTab",""];function qct(i,n){if(1&i&&(s.j41(0,"span",5),s.EFF(1),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.JRh(e.tab.title)}}function Qct(i,n){}function Zct(i,n){if(1&i&&(s.j41(0,"span",5),s.DNE(1,Qct,0,0,"ng-template",2),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.Y8G("ngTemplateOutlet",null==e.tab.tabTitle?null:e.tab.tabTitle.templateRef)}}function edt(i,n){if(1&i&&(s.qex(0),s.DNE(1,qct,2,1,"span",4)(2,Zct,2,1,"span",4),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngIf",!e.tab.tabTitle),s.R7$(),s.Y8G("ngIf",e.tab.tabTitle)}}function tdt(i,n){}function ndt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",6),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.closeTab(o.index))}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("icon",e.closeButtonClasses)("iconClass",e.customCloseButtonClasses)("svgIcon",e.closeSVGIconClass)("title",e.closeButtonTitle),s.BMQ("aria-label",e.closeButtonTitle)}}const idt=["tablist"],sdt=["prevScrollButton"],odt=["nextScrollButton"],rdt=["tabHeaderContainer"];function adt(i,n){1&i&&s.eu8(0)}function ldt(i,n){1&i&&s.eu8(0)}function cdt(i,n){if(1&i&&(s.qex(0),s.DNE(1,ldt,1,0,"ng-container",10),s.bVm()),2&i){s.XpG(2);const e=s.sdS(6);s.R7$(),s.Y8G("ngTemplateOutlet",e)}}function ddt(i,n){if(1&i&&(s.qex(0),s.DNE(1,adt,1,0,"ng-container",10)(2,cdt,2,1,"ng-container",7),s.bVm()),2&i){const e=s.XpG(),t=s.sdS(4);s.R7$(),s.Y8G("ngTemplateOutlet",t),s.R7$(),s.Y8G("ngIf",e.showContentArea)}}function udt(i,n){1&i&&s.eu8(0)}function hdt(i,n){if(1&i&&(s.qex(0),s.DNE(1,udt,1,0,"ng-container",10),s.bVm()),2&i){s.XpG(2);const e=s.sdS(6);s.R7$(),s.Y8G("ngTemplateOutlet",e)}}function pdt(i,n){1&i&&s.eu8(0)}function fdt(i,n){if(1&i&&(s.qex(0),s.DNE(1,hdt,2,1,"ng-container",7)(2,pdt,1,0,"ng-container",10),s.bVm()),2&i){const e=s.XpG(),t=s.sdS(4);s.R7$(),s.Y8G("ngIf",e.showContentArea),s.R7$(),s.Y8G("ngTemplateOutlet",t)}}function mdt(i,n){if(1&i){const e=s.RV6();s.j41(0,"span",15,3),s.bIt("tabScroll",function(o){s.eBV(e);const r=s.XpG(2);return s.Njj(r.tabScroll.emit(o))})("onClick",function(o){s.eBV(e);const r=s.XpG(2);return s.Njj(r.onScrollButtonClick(o))}),s.k0s()}if(2&i){const e=s.XpG(2);s.Y8G("scrollable",e.scrollable)("tabPosition",e.tabPosition)("prev",!0)("title",e.localization.get("previousTabButton"))}}function _dt(i,n){if(1&i){const e=s.RV6();s.qex(0),s.j41(1,"li",16,4),s.bIt("tabClose",function(o){s.eBV(e);const r=s.XpG(2);return s.Njj(r.tabClose.emit(o))})("click",function(o){const r=s.eBV(e).index,a=s.XpG(2);return s.Njj(a.onTabClick(o,r))}),s.k0s(),s.bVm()}if(2&i){const e=n.$implicit,t=n.index,o=s.XpG(2);s.R7$(),s.Y8G("ngClass",e.cssClass)("ngStyle",e.cssStyle)("tab",e)("index",t)("tabStripClosable",o.closable)("tabStripCloseIcon",o.closeIcon)("customTabstripCloseIcon",o.closeIconClass)("closeSVGIcon",o.closeSVGIcon)("id",o.getTabId(t)),s.BMQ("aria-controls",o.showContentArea&&e.selected?o.getTabPanelId(t):void 0)}}function gdt(i,n){if(1&i){const e=s.RV6();s.j41(0,"span",15,5),s.bIt("tabScroll",function(o){s.eBV(e);const r=s.XpG(2);return s.Njj(r.tabScroll.emit(o))})("onClick",function(o){s.eBV(e);const r=s.XpG(2);return s.Njj(r.onScrollButtonClick(o))}),s.k0s()}if(2&i){const e=s.XpG(2);s.Y8G("scrollable",e.scrollable)("tabPosition",e.tabPosition)("prev",!1)("title",e.localization.get("nextTabButton"))}}function Sdt(i,n){if(1&i&&(s.j41(0,"div",11),s.DNE(1,mdt,2,4,"span",12),s.j41(2,"ul",13,2),s.DNE(4,_dt,3,10,"ng-container",14),s.k0s(),s.DNE(5,gdt,2,4,"span",12),s.k0s()),2&i){const e=s.XpG();s.Y8G("ngClass",e.itemsWrapperClass),s.R7$(),s.Y8G("ngIf",e.hasScrollButtons),s.R7$(),s.xc7("justify-content",e.tabsAlignmentStyles)("width",e.tabListWidth)("height",e.tabListHeight),s.BMQ("aria-orientation","left"===e.tabPosition||"right"===e.tabPosition?"vertical":"horizontal"),s.R7$(2),s.Y8G("ngForOf",e.tabs),s.R7$(),s.Y8G("ngIf",e.hasScrollButtons)}}function vdt(i,n){}function Cdt(i,n){if(1&i&&(s.j41(0,"div",19),s.DNE(1,vdt,0,0,"ng-template",20),s.k0s()),2&i){const e=s.XpG(),t=e.$implicit,o=e.index,r=s.XpG(2);s.Y8G("@state",t.selected&&r.animate?"active":"inactive")("ngClass",!r.keepTabContent||t.selected?"k-tabstrip-content k-active":"k-tabstrip-content")("tabIndex",0)("id",r.getTabPanelId(o)),s.BMQ("aria-hidden",!t.selected)("aria-expanded",t.selected)("aria-labelledby",r.getTabId(o))("aria-disabled",t.disabled),s.R7$(),s.Y8G("ngTemplateOutlet",null==t.tabContent?null:t.tabContent.templateRef)}}function bdt(i,n){if(1&i&&s.DNE(0,Cdt,2,9,"div",18),2&i){const e=n.$implicit,t=s.XpG(2);s.Y8G("ngIf",e.selected||t.keepTabContent)}}function Edt(i,n){if(1&i&&s.DNE(0,bdt,1,1,"ng-template",17),2&i){const e=s.XpG();s.Y8G("ngForOf",e.tabs)}}function ydt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-resize-sensor",21),s.bIt("resize",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onResize())}),s.k0s()}}function Ddt(i,n){1&i&&s.nrm(0,"div",22)}const Gh={name:"@progress/kendo-angular-layout",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925211,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"};var w_=function(i){return i[i.Single=0]="Single",i[i.Full=1]="Full",i[i.Multiple=2]="Multiple",i[i.Default=2]="Default",i}(w_||{});let Put=0,uZ=(()=>{class i{constructor(){this.parentSource=new Ke.B,this.keepContentSource=new An.t(!1),this.childSource=new Ke.B,this.itemClick=new Ke.B,this.parent$=this.parentSource.asObservable(),this.children$=this.childSource.asObservable(),this.keepContent$=this.keepContentSource.asObservable(),this.pbId=Put++}onKeepContent(e){this.keepContentSource.next(e)}onSelect(e){this.childSource.next(e)}onFocus(){this.parentSource.next(!0)}onBlur(){this.parentSource.next(!1)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),hZ=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoPanelBarContent",""]]}),i})(),G0e=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoPanelBarItemTitle",""]]}),i})(),Gut=0;const B0e=i=>i.map(n=>(Is(n.id)||(n.id="default-"+Gut++),n.children&&(n.children=B0e(n.children)),n)),Is=i=>null!=i,V0e=i=>i===G.ArrowLeft||i===G.ArrowRight,z0e=i=>i===G.ArrowUp||i===G.ArrowDown,H0e=i=>i===G.PageUp||i===G.PageDown||i===G.Home||i===G.End,Hut=/^(?:a|input|select|option|textarea|button|object)$/i,ER=i=>{if(i.tagName){const n=i.tagName.toLowerCase(),e=i.getAttribute("tabIndex"),t="-1"===e;let o=null!==e&&!t;return Hut.test(n)&&(o=!i.disabled&&!t),o}return!1},YU=(i,n)=>!!(i=>String(i).trim().split(" "))(i.className).find(e=>e===n);let Xut=0,lw=(()=>{class i{constructor(e,t,o,r){this.parent=e,this.eventService=t,this.element=o,this.renderer=r,this.id="default-"+Xut++,this.icon="",this.iconClass="",this.imageUrl="",this.disabled=!1,this.selected=!1,this.keepContent=!1,this.hasChildItems=!1,this.hasItems=!1,this.hasContent=!1,this.state="inactive",this.role="treeitem",this.titleAttribute=null,this.kItemClass=!0,this.focused=!1,this.wrapperFocused=!1,this.subscriptions=new be.yU(()=>{}),this._expanded=!1,this.subscriptions.add(t.parent$.subscribe(a=>this.onWrapperFocusChange(a))),this.subscriptions.add(t.keepContent$.subscribe(a=>this.keepContent=a)),this.wrapperFocused=!!e&&e.focused,this.level=this.parent?this.parent.level+1:0}set svgIcon(e){if((0,s.naY)()&&e&&this.icon&&this.iconClass)throw new Error("Setting both icon/svgIcon and iconClass options at the same time is not supported.");this._svgIcon=e}get svgIcon(){return this._svgIcon}set expanded(e){this.state=e?this.animate?"active":"activeWithoutAnimation":"inactive",this.keepContent||this.toggleExpandedChildAnimations(e),this._expanded=e}get expanded(){return this._expanded}get animate(){return this.eventService.animate}get kStateDefaultClass(){return!this.disabled}get kStateExpandedClass(){return!this.disabled&&this.expanded&&(this.hasChildItems||this.hasContent)}get itemId(){return"k-panelbar-"+this.eventService.pbId+"-item-"+this.id}get ariaExpanded(){return this.hasChildItems||this.hasContent?!this.disabled&&this.expanded:null}get ariaSelected(){return!this.disabled&&this.selected}get ariaDisabled(){return!!this.disabled||null}get headerClass(){return!this.parent||null}get titleTemplate(){return this.titleTemplates.length>0?this.titleTemplates.toArray()[0].templateRef:void 0}headerHeight(){return this.element.nativeElement.offsetHeight-(this.contentWrapper?this.contentWrapper.nativeElement.offsetHeight:0)}ngOnInit(){this.addLevelClass()}ngAfterContentChecked(){this.hasItems=this.items&&this.items.filter(e=>!e.hidden).length>0,this.hasChildItems=this.contentItems.filter(e=>e!==this).length>0||this.hasItems,this.hasContent=void 0!==this.contentTemplate&&this.contentTemplate.length>0||void 0!==this.content,this.validateConfiguration()}ngAfterViewChecked(){this.childrenItems=this.items?this.viewChildItems.toArray():this.contentItems.filter(e=>e!==this)}ngOnDestroy(){this.subscriptions.unsubscribe()}onItemAction(){this.disabled||this.eventService.onSelect(this)}onItemClick(e){ER(e.target)||(this.eventService.itemClick.next({item:this.serialize(),originalEvent:e}),this.onItemAction())}get iconClasses(){if(this.icon)return`${this.icon}`}get customIconClasses(){if(this.iconClass)return`${this.iconClass}`}get dirInnerCssClasses(){return"k-panelbar-toggle "+(this.expanded?"k-panelbar-collapse":"k-panelbar-expand")}get expanderSVGIcon(){return this.expanded?R3:A3}serialize(){return{content:this.content,disabled:this.disabled,expanded:this.expanded,focused:this.focused,icon:this.icon,iconClass:this.iconClass,svgIcon:this.svgIcon,id:this.id,imageUrl:this.imageUrl,selected:this.selected,title:this.title,children:this.items}}subTreeViewItems(){let e=[];return this.viewChildItems.forEach(t=>{e=e.concat(t.subTreeViewItems()),e.push(t)}),e}validateConfiguration(){if((0,s.naY)()&&this.content&&void 0!==this.contentTemplate&&this.contentTemplate.length>0)throw new Error("Invalid configuration: mixed template components and component property.")}toggleAnimationState(e){this.animate&&(this.state=e&&this.eventService.expandMode!==w_.Single?"active":"activeWithoutAnimation")}toggleExpandedChildAnimations(e){this.childrenItems&&this.childrenItems.forEach(t=>{t.expanded&&(t.toggleAnimationState(e),t.toggleExpandedChildAnimations(e))})}addLevelClass(){this.level>=0&&this.renderer.addClass(this.element.nativeElement,`k-level-${this.level}`)}onWrapperFocusChange(e){this.wrapperFocused=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(i,13),s.rXU(uZ),s.rXU(s.aKT),s.rXU(s.sFG))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-panelbar-item"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,i,4),s.wni(o,hZ,4),s.wni(o,G0e,4)),2&e){let r;s.mGM(r=s.lsd())&&(t.contentItems=r),s.mGM(r=s.lsd())&&(t.contentTemplate=r),s.mGM(r=s.lsd())&&(t.titleTemplates=r)}},viewQuery:function(e,t){if(1&e&&(s.GBs(A0e,5),s.GBs(_ct,5),s.GBs(i,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.header=o.first),s.mGM(o=s.lsd())&&(t.contentWrapper=o.first),s.mGM(o=s.lsd())&&(t.viewChildItems=o)}},hostVars:14,hostBindings:function(e,t){2&e&&(s.Mr5("id",t.itemId),s.BMQ("role",t.role)("title",t.titleAttribute)("aria-expanded",t.ariaExpanded)("aria-selected",t.ariaSelected)("aria-disabled",t.ariaDisabled),s.AVh("k-panelbar-item",t.kItemClass)("k-state-default",t.kStateDefaultClass)("k-expanded",t.kStateExpandedClass)("k-panelbar-header",t.headerClass))},inputs:{title:"title",id:"id",icon:"icon",iconClass:"iconClass",svgIcon:"svgIcon",imageUrl:"imageUrl",disabled:"disabled",expanded:"expanded",selected:"selected",content:"content",items:"items",template:"template"},exportAs:["kendoPanelbarItem"],ngContentSelectors:N0e,decls:8,vars:14,consts:[["header",""],["contentWrapper",""],[3,"click"],["innerCssClass","k-panelbar-item-icon",3,"name","customFontClass","svgIcon",4,"ngIf"],["class","k-image k-panelbar-item-icon","alt","",3,"src",4,"ngIf"],[4,"ngIf"],[3,"name","svgIcon","innerCssClass",4,"ngIf"],["innerCssClass","k-panelbar-item-icon",3,"name","customFontClass","svgIcon"],["alt","",1,"k-image","k-panelbar-item-icon",3,"src"],[1,"k-panelbar-item-text"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"name","svgIcon","innerCssClass"],["class","k-panel k-group k-panelbar-group",3,"overflow","height",4,"ngIf"],["class","k-content k-panelbar-content",3,"overflow","height",4,"ngIf"],[1,"k-panel","k-group","k-panelbar-group"],[1,"k-content","k-panelbar-content"],[4,"ngFor","ngForOf"],[3,"title","id","icon","iconClass","svgIcon","imageUrl","selected","expanded","disabled","template","items","content",4,"ngIf"],[3,"title","id","icon","iconClass","svgIcon","imageUrl","selected","expanded","disabled","template","items","content"],[3,"ngIf"]],template:function(e,t){if(1&e){const o=s.RV6();s.NAR(x0e),s.j41(0,"span",2,0),s.bIt("click",function(a){return s.eBV(o),s.Njj(t.onItemClick(a))}),s.DNE(2,vct,1,3,"kendo-icon-wrapper",3)(3,Cct,1,1,"img",4)(4,bct,3,1,"ng-container",5)(5,yct,1,16,null,5)(6,Dct,1,3,"kendo-icon-wrapper",6),s.k0s(),s.DNE(7,Nct,6,7,"div",5)}2&e&&(s.AVh("k-link",!0)("k-selected",!t.disabled&&t.selected)("k-focus",t.focused&&t.wrapperFocused)("k-disabled",t.disabled),s.R7$(2),s.Y8G("ngIf",t.icon||t.iconClass||t.svgIcon),s.R7$(),s.Y8G("ngIf",t.imageUrl),s.R7$(),s.Y8G("ngIf",!t.titleTemplate),s.R7$(),s.Y8G("ngIf",t.titleTemplate),s.R7$(),s.Y8G("ngIf",t.hasChildItems||t.hasContent),s.R7$(),s.Y8G("ngIf",t.keepContent||!t.disabled&&t.expanded&&(t.hasChildItems||t.hasContent)))},dependencies:[Qe,i,q,qe,ut],encapsulation:2,data:{animation:[Em("toggle",[cd("inactive",Xe({display:"none"})),oo("* => active",[Xe({overflow:"hidden",display:"block",height:0}),ii(200,Xe({height:Sc}))]),oo("active => *",[Xe({overflow:"hidden",height:Sc}),ii(200,Xe({height:0,display:"none"}))])])]}}),i})(),X0e=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoPanelBarItemTemplate",""]]}),i})();class fZ{constructor(n){this.prevented=!1,Object.assign(this,n)}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class Wut extends fZ{}class Kut extends fZ{}class Yut extends fZ{}class W0e{}let K0e=(()=>{class i{constructor(e,t,o){this.localization=o,this.expandMode=w_.Default,this.selectable=!0,this.animate=!0,this.height="400px",this.stateChange=new s.bkB,this.select=new s.bkB,this.expand=new s.bkB,this.collapse=new s.bkB,this.itemClick=new s.bkB,this.hostClasses=!0,this.tabIndex=0,this.role="tree",this.activeDescendant="",this.showLicenseWatermark=!1,this.isViewInit=!0,this.focused=!1,this._keepItemContent=!1,this.subs=new be.yU,this.updateChildrenHeight=()=>{let a=0;const l=this.elementRef.nativeElement.offsetHeight,c=this.expandMode===w_.Full?"auto":"visible";this.childrenItems.forEach(u=>{a+=u.headerHeight()}),this.childrenItems.forEach(u=>{u.contentHeight=w_.Full===this.expandMode?l-a+"px":"auto",u.contentOverflow=c})};const r=(0,_t.$)(Gh);this.showLicenseWatermark=s_(r),this.keyBindings=this.computedKeys,this.elementRef=e,this.eventService=t,this.subs.add(this.eventService.children$.subscribe(a=>this.onItemAction(a))),this.subs.add(this.eventService.itemClick.subscribe(a=>this.itemClick.emit(a)))}get keepItemContent(){return this._keepItemContent}set keepItemContent(e){this._keepItemContent=e,this.eventService.onKeepContent(e)}set items(e){e&&(this._items=B0e(e))}get items(){return this._items}get hostHeight(){return this.expandMode===w_.Full?this.height:"auto"}get overflow(){return this.expandMode===w_.Full?"hidden":"visible"}get dir(){return this.localization.rtl?"rtl":"ltr"}invertKeys(e,t){return this.localization.rtl?t:e}get computedKeys(){return{[G.Space]:()=>this.selectFocusedItem(),[G.Enter]:()=>this.selectFocusedItem(),[G.ArrowUp]:()=>this.focusPreviousItem(),[this.invertKeys(G.ArrowLeft,G.ArrowRight)]:()=>this.collapseItem(),[G.ArrowDown]:()=>this.focusNextItem(),[this.invertKeys(G.ArrowRight,G.ArrowLeft)]:()=>this.expandItem(),[G.End]:()=>this.focusLastItem(),[G.Home]:()=>this.focusFirstItem()}}ngOnDestroy(){this.subs.unsubscribe()}ngOnInit(){this.subs.add(this.localization.changes.subscribe(()=>this.keyBindings=this.computedKeys)),this.eventService.animate=this.animate,this.eventService.expandMode=this.expandMode}ngAfterViewChecked(){this.items?(this.childrenItems=this.viewChildItems.toArray(),this.allItems=this.viewItems):(this.childrenItems=this.contentChildItems.toArray(),this.allItems=this.contentItems.toArray()),this.isViewInit&&this.childrenItems.length&&(this.isViewInit=!1,setTimeout(()=>this.updateChildrenHeight())),this.validateConfiguration()}ngOnChanges(e){(e.height||e.expandMode||e.items)&&this.childrenItems&&setTimeout(this.updateChildrenHeight),e.animate&&(this.eventService.animate=this.animate),e.expandMode&&(this.eventService.expandMode=this.expandMode)}get templateRef(){return this.template?this.template.templateRef:void 0}onComponentClick(e){const t=this.visibleItems().some(o=>o.header.nativeElement.contains(e.target));!ER(e.target)&&!this.focused&&t&&this.elementRef.nativeElement.focus()}onComponentFocus(){if(this.eventService.onFocus(),this.focused=!0,this.allItems.length>0){const e=this.visibleItems();!e.filter(o=>o.focused).length&&e.length>0&&(e[0].focused=!0,this.activeDescendant=e[0].itemId)}}onComponentBlur(){this.eventService.onBlur(),this.focused=!1,this.activeDescendant=""}onComponentKeyDown(e){if(e.target===this.elementRef.nativeElement){(e.keyCode===G.Space||e.keyCode===G.ArrowUp||e.keyCode===G.ArrowDown||e.keyCode===G.ArrowLeft||e.keyCode===G.ArrowRight||e.keyCode===G.Home||e.keyCode===G.End||e.keyCode===G.PageUp||e.keyCode===G.PageDown)&&e.preventDefault();const t=this.keyBindings[e.keyCode];t&&t()}}emitEvent(e,t){let o;switch(e){case"select":o=new Yut;break;case"collapse":o=new Wut;break;default:o=new Kut}return o.item=t.serialize(),this[e].emit(o),o}get viewItems(){let e=[];return this.viewChildItems.toArray().forEach(t=>{e.push(t),e=e.concat(t.subTreeViewItems())}),e}validateConfiguration(){if((0,s.naY)()&&this.items&&this.contentItems&&this.contentItems.length>0)throw new Error("Invalid configuration: mixed template components and items property.")}onItemAction(e){if(!e)return;const t=new Array,o=[];if(this.allItems.forEach(r=>{let a=r===e;const l=a;a=this.selectable?a:r.selected,(r.selected!==a||r.focused!==l)&&(a&&this.emitEvent("select",r).isDefaultPrevented()?o.push(r):(r.selected=a,r.focused=l,this.activeDescendant=l?r.itemId:"",t.push(r)))}),this.expandMode===w_.Multiple)(e.hasChildItems||e.hasContent)&&!o.includes(e)&&((e.expanded?this.emitEvent("collapse",e).isDefaultPrevented():this.emitEvent("expand",e).isDefaultPrevented())||(e.expanded=!e.expanded,t.indexOf(e)<0&&t.push(e)));else{const r=e.parent?e.parent.childrenItems:this.childrenItems;let a;const l=[];(e.hasChildItems||e.hasContent)&&!o.includes(e)&&(r.forEach(c=>{const u=c===e;if(c.expanded!==u){const f=c.expanded?this.emitEvent("collapse",c).isDefaultPrevented():this.emitEvent("expand",c).isDefaultPrevented();f?f&&c.expanded&&(a=c):(c.expanded=u,c.expanded&&l.push(c),t.indexOf(c)<0&&t.push(c))}else c.expanded===u&&u&&(this.emitEvent("collapse",c).isDefaultPrevented()||(c.expanded=!c.expanded,t.indexOf(c)<0&&t.push(c)))}),l.forEach(c=>{if(a&&c.id!==a.id&&(c.expanded=!1,(0,s.naY)())){const u=w_[this.expandMode].toLowerCase();console.warn(`\n                            The ${u} expandMode allows the expansion of only one item at a time.\n                            See https://www.telerik.com/kendo-angular-ui-develop/components/layout/panelbar/expand-modes/`)}}))}if(t.length>0){const r=new W0e;r.items=t.map(a=>a.serialize()),this.stateChange.emit(r)}}isVisible(e){return this.visibleItems().some(o=>o===e)}getVisibleParent(e){const t=this.visibleItems();return e.parent?t.some(o=>o===e.parent)?e.parent:this.getVisibleParent(e.parent):e}focusItem(e){const t=this.visibleItems();let a,o=t.findIndex(l=>l.focused),r=t[o];if(-1===o){const l=this.allItems.find(c=>c.focused);l.focused=!1,r=this.getVisibleParent(l),o=t.findIndex(c=>c===r)}switch(e){case"lastItem":a=t[t.length-1];break;case"firstItem":a=t[0];break;case"nextItem":a=t[o<t.length-1?o+1:0];break;case"previousItem":a=t[o>0?o-1:t.length-1]}r&&a&&r!==a&&this.moveFocus(r,a)}moveFocus(e,t){e.focused=!1,t.focused=!0,this.activeDescendant=t.itemId;const o=new Array(e.serialize(),t.serialize()),r=new W0e;r.items=o,this.stateChange.emit(r)}focusLastItem(){this.focusItem("lastItem")}focusFirstItem(){this.focusItem("firstItem")}focusNextItem(){this.focusItem("nextItem")}focusPreviousItem(){this.focusItem("previousItem")}expandItem(){let e=this.allItems.filter(t=>t.focused)[0];if(this.isVisible(e)||(e.focused=!1,e=this.getVisibleParent(e)),e.hasChildItems||e.hasContent)if(e.expanded){if(e.hasChildItems){const t=e.childrenItems.findIndex(o=>!o.disabled);t>-1&&this.moveFocus(e,e.childrenItems[t])}}else this.onItemAction(e)}collapseItem(){const e=this.allItems.filter(t=>t.focused)[0];e.expanded?this.onItemAction(e):e.parent&&this.moveFocus(e,e.parent)}selectFocusedItem(){let e=this.allItems.filter(t=>t.focused)[0];this.isVisible(e)||(e.focused=!1,e=this.getVisibleParent(e)),e&&e.onItemAction()}visibleItems(){return this.flatVisibleItems(this.childrenItems)}flatVisibleItems(e=new Array,t=new Array){return e.forEach(o=>{t.push(o),o.expanded&&o.hasChildItems&&this.flatVisibleItems(o.childrenItems,t)}),t}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(uZ),s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-panelbar"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,X0e,5),s.wni(o,lw,5),s.wni(o,lw,4)),2&e){let r;s.mGM(r=s.lsd())&&(t.template=r.first),s.mGM(r=s.lsd())&&(t.contentItems=r),s.mGM(r=s.lsd())&&(t.contentChildItems=r)}},viewQuery:function(e,t){if(1&e&&s.GBs(lw,5),2&e){let o;s.mGM(o=s.lsd())&&(t.viewChildItems=o)}},hostVars:12,hostBindings:function(e,t){1&e&&s.bIt("click",function(r){return t.onComponentClick(r)})("focus",function(){return t.onComponentFocus()})("blur",function(){return t.onComponentBlur()})("keydown",function(r){return t.onComponentKeyDown(r)}),2&e&&(s.BMQ("tabIndex",t.tabIndex)("role",t.role)("aria-activedescendant",t.activeDescendant)("dir",t.dir),s.xc7("height",t.hostHeight)("overflow",t.overflow),s.AVh("k-panelbar",t.hostClasses)("k-pos-relative",t.hostClasses))},inputs:{expandMode:"expandMode",selectable:"selectable",animate:"animate",height:"height",keepItemContent:"keepItemContent",items:"items"},outputs:{stateChange:"stateChange",select:"select",expand:"expand",collapse:"collapse",itemClick:"itemClick"},exportAs:["kendoPanelbar"],features:[s.Jv_([uZ,z,{provide:He,useValue:"kendo.panelbar"}]),s.OA$],ngContentSelectors:N0e,decls:3,vars:3,consts:[[4,"ngIf"],[3,"ngIf"],["kendoWatermarkOverlay","",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"title","id","icon","iconClass","svgIcon","imageUrl","selected","expanded","disabled","template","items","content",4,"ngIf"],[3,"title","id","icon","iconClass","svgIcon","imageUrl","selected","expanded","disabled","template","items","content"],["kendoWatermarkOverlay",""]],template:function(e,t){1&e&&(s.NAR(x0e),s.DNE(0,Lct,1,0,"ng-content",0)(1,Uct,1,1,"ng-template",1)(2,Fct,1,0,"div",2)),2&e&&(s.Y8G("ngIf",t.contentChildItems&&!t.items),s.R7$(),s.Y8G("ngIf",null==t.items?null:t.items.length),s.R7$(),s.Y8G("ngIf",t.showLicenseWatermark))},dependencies:[lw,n_,q,ut],encapsulation:2}),i})(),JU=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoTabContent",""]]}),i})(),qU=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoTabTitle",""]]}),i})(),Y0e=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoTabTemplate",""]]}),i})(),QU=(()=>{class i{constructor(){this.disabled=!1,this._tabDirective=new s.rOR,this._tabContent=new s.rOR,this.focused=!1}get tabContent(){return this._tabContent.first}get tabTitle(){return this._tabTitleDirective.first}get tabTemplate(){return this._tabDirective.first}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-tabstrip-tab"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,Y0e,4),s.wni(o,JU,4),s.wni(o,qU,4)),2&e){let r;s.mGM(r=s.lsd())&&(t._tabDirective=r),s.mGM(r=s.lsd())&&(t._tabContent=r),s.mGM(r=s.lsd())&&(t._tabTitleDirective=r)}},inputs:{title:"title",disabled:"disabled",cssClass:"cssClass",cssStyle:"cssStyle",selected:"selected",closable:"closable",closeIcon:"closeIcon",closeIconClass:"closeIconClass",closeSVGIcon:"closeSVGIcon"},exportAs:["kendoTabStripTab"],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})();class sht{constructor(n,e){this.index=n,this.tab=e}}class oht extends il{constructor(n,e){super(),this.index=n,this.title=e}}const J0e=i=>i.enabled&&i.mouseScroll,vZ=i=>{let n,e,t=-1,o=-1;return i.forEach((r,a)=>{r.selected?(e=r,o=a):r.focused&&(n=r,t=a)}),t>=0?{tab:n,index:t}:{tab:e,index:o}},CZ=(i,n)=>{const e=i.filter((t,o)=>o===n);return e.length>0?e[0]:null},dl=i=>"top"===i||"bottom"===i,q0e=(i,n,e)=>`${i}-${n}-${e}`;let Q0e=(()=>{class i{constructor(e,t){this.localization=e,this.ngZone=t}onKeyDown(e){if(!(i=>{const n=i.getAttribute("id");return!!(Is(n)||n.indexOf("k-tabstrip-tab-")>=0)})(e.target))return;const t=e.keyCode;this.shouldHandleKey(t)&&(e.preventDefault(),H0e(t)||(i=>V0e(i)||z0e(i))(t)?this.onNavigate(t):t===G.Delete&&this.onDelete())}onTabSelect(e,t){const o=new oht(t,e.title);if(this.owner.tabSelect.emit(o),!o.isDefaultPrevented()){if(e.selected)return void this.focusTabHeader(t);this.selectTab(e,t)}}selectTab(e,t){(i=>{this.owner.tabs.forEach(n=>{n.selected=!1})})(),this.focusTabHeader(t),e.selected=!0,this.owner.isScrollable&&this.owner.scrollToSelectedTab()}onNavigate(e){const{tab:t,index:o}=vZ(this.owner.tabs);s.SKi.isInAngularZone()||this.ngZone.run(()=>{if(o<0)return void this.owner.selectTab(this.firstNavigatableIndex());t.focused=!1;const r=this.computeNextIndex(o,e);this.activateTab(r)})}onDelete(){const{tab:e,index:t}=vZ(this.owner.tabs);((i,n)=>void 0!==i.closable?i.closable:this.owner.closable)(e)&&!e.disabled&&this.ngZone.run(()=>{this.owner.tabClose.emit({tab:e,index:t})})}activateTab(e){const t=CZ(this.owner.tabs,e);t.disabled?(this.focusTabHeader(e),t.focused=!0):this.onTabSelect(t,e)}focusTabHeader(e){((i,n)=>{const e=this.owner.tabHeaderContainers.filter((t,o)=>o===n);return e.length>0?e[0]:null})(0,e).nativeElement.focus()}shouldHandleKey(e){return!!(H0e(e)||dl(this.owner.tabPosition)&&V0e(e)||!dl(this.owner.tabPosition)&&z0e(e)||e===G.Delete)}computeNextIndex(e,t){switch(t){case this.invertKeys(G.ArrowLeft,G.ArrowRight):case this.invertKeys(G.ArrowUp,G.ArrowDown):return this.prevNavigatableIndex(e);case this.invertKeys(G.ArrowRight,G.ArrowLeft):case this.invertKeys(G.ArrowDown,G.ArrowUp):return this.nextNavigatableIndex(e);case G.Home:return this.firstNavigatableIndex();case G.End:return this.lastNavigatableIndex();default:return}}invertKeys(e,t){return this.localization.rtl?t:e}firstNavigatableIndex(){return 0}lastNavigatableIndex(){return this.owner.tabs.length-1}prevNavigatableIndex(e){return e-1<0?this.lastNavigatableIndex():e-1}nextNavigatableIndex(e){return e+1>=this.owner.tabs.length?this.firstNavigatableIndex():e+1}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(z),s.KVO(s.SKi))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();let ebe=(()=>{class i{constructor(e){this.ngZone=e,this.position=0,this.scrollButtonActiveStateChange=new Ke.B,this.isDisabled=t=>this.owner[`${t}ScrollButton`].host.nativeElement.classList.contains("k-disabled")}get tablistElement(){return this.owner.tablist.nativeElement}get tabstripSize(){const e=this.owner.wrapper.nativeElement,t=parseFloat(getComputedStyle(e).width),o=parseFloat(getComputedStyle(e).height);return dl(this.owner.tabPosition)?t:o}get tablistOverflowSize(){if(!ne())return 0;const e=dl(this.owner.tabPosition),t=Math.floor(this.tablistElement[e?"scrollWidth":"scrollHeight"]-this.tablistElement.getBoundingClientRect()[e?"width":"height"]);return t<0?0:t}get tabsOverflow(){return this.tablistOverflowSize>0}get scrollButtonsSize(){if(!this.owner.hasScrollButtons)return 0;const e=this.owner.prevScrollButton.hostBoundingClientRect,t=dl(this.owner.tabPosition)?e.width:e.height,o=this.owner.nextScrollButton.hostBoundingClientRect;return t+(dl(this.owner.tabPosition)?o.width:o.height)}toggleScrollButtonsState(){if(!this.owner.hasScrollButtons)return;const t=!this.isDisabled("prev"),o=!this.isDisabled("next"),r=this.position>0&&this.tablistOverflowSize>0,a=this.position<this.tablistOverflowSize+this.scrollButtonsSize&&this.tablistOverflowSize>0;r!==t&&this.ngZone.run(()=>this.toggleButtonActiveState("prev",r)),a!==o&&this.ngZone.run(()=>this.toggleButtonActiveState("next",a))}scrollToSelectedTab(){if(!this.tabsOverflow)return;const{index:e}=vZ(this.owner.tabs);if(-1===e||(this.position+=this.getScrollOffset(e),dl(this.owner.tabPosition)?this.tablistElement.scrollLeft=this.position:this.tablistElement.scrollTop=this.position,this.toggleScrollButtonsState(),!this.owner.hasScrollButtons))return;const r=e===this.owner.tabs.length-1;0===e&&!this.isDisabled("prev")&&this.ngZone.run(()=>this.toggleButtonActiveState("prev",!1)),r&&!this.isDisabled("next")&&this.ngZone.run(()=>this.toggleButtonActiveState("next",!1))}getScrollOffset(e){if(!ne())return 0;const t=dl(this.owner.tabPosition);this.tablistElement["scroll"+(t?"Left":"Top")]=this.position;const o=this.tablistElement.children[e].getBoundingClientRect(),r=this.tablistElement.getBoundingClientRect(),a=t?"right":"bottom",l=t?"left":"top",c=o[l],u=o[a],f=r[l],_=r[a],S=u<=_,v=c>=f;return S&&v?0:S?v?void 0:c-f:u-_}onMouseScroll(e){e.preventDefault(),J0e(this.owner.scrollable)&&(this.calculateListPosition(e.deltaY<0?"prev":"next",this.owner.scrollable.mouseScrollSpeed),dl(this.owner.tabPosition)?this.tablistElement.scrollLeft=this.position:this.tablistElement.scrollTop=this.position,this.toggleScrollButtonsState())}scrollTabs(e){this.calculateListPosition(e,this.owner.scrollable.buttonScrollSpeed),dl(this.owner.tabPosition)&&this.tablistElement?this.tablistElement.scrollTo({left:this.position,behavior:"smooth"}):this.tablistElement.scrollTo({top:this.position,behavior:"smooth"}),this.toggleScrollButtonsState()}calculateListPosition(e,t){const o=this.tablistOverflowSize+this.scrollButtonsSize;if("prev"===e&&this.position>0)this.position=this.position-t<=0?0:this.position-t;else if("next"===e&&this.position<o){if(this.position+t>o)return void(this.position=o);this.position+=t}}restoreScrollPosition(){dl(this.owner.tabPosition)?this.tablistElement.scrollLeft=this.position:this.tablistElement.scrollTop=this.position,this.toggleScrollButtonsState()}toggleButtonActiveState(e,t){this.scrollButtonActiveStateChange.next({buttonType:e,active:t})}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(s.SKi))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const tbe=i=>(({enabled:i=!0,scrollButtons:n="auto",mouseScroll:e=!0,buttonScrollSpeed:t=100,mouseScrollSpeed:o=10,prevButtonIcon:r,nextButtonIcon:a,prevSVGButtonIcon:l,nextSVGButtonIcon:c})=>({enabled:i,scrollButtons:n,mouseScroll:e,buttonScrollSpeed:t,mouseScrollSpeed:o,prevButtonIcon:r,nextButtonIcon:a,prevSVGButtonIcon:l,nextSVGButtonIcon:c}))(!1===i?{enabled:!1}:i);class nbe extends il{constructor(n){super(),Object.assign(this,n)}}let ibe=(()=>{class i{constructor(e,t,o,r){this.host=e,this.renderer=t,this.ngZone=o,this.localization=r,this.prev=!1,this.tabScroll=new s.bkB,this.onClick=new s.bkB,this.caretAltLeftIcon=tl,this.caretAltRightIcon=Jo,this.caretAltUpIcon=bu,this.caretAltDownIcon=qo,this.subs=new be.yU,this.clickHandler=a=>{this.emitScrollEvent(a).isDefaultPrevented()||this.onClick.emit(this.prev?"prev":"next")}}get prevClass(){return this.prev}get nextClass(){return!this.prev}get hostBoundingClientRect(){return this.host.nativeElement.getBoundingClientRect()}get iconClass(){return this.scrollButtonIconClass}get customIconClass(){return this.customScrollButtonIconClass}get svgIcon(){return this.scrollButtonSVGIcon}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.subs.add(this.renderer.listen(this.host.nativeElement,"click",this.clickHandler))})}ngOnDestroy(){this.subs.unsubscribe()}toggle(e){this.renderer[e?"removeClass":"addClass"](this.host.nativeElement,"k-hidden")}get scrollButtonIconClass(){const e=dl(this.tabPosition)?this.localization.rtl?"caret-alt-right":"caret-alt-left":"caret-alt-up",t=dl(this.tabPosition)?this.localization.rtl?"caret-alt-left":"caret-alt-right":"caret-alt-down";if("object"==typeof this.scrollable){const o=typeof this.scrollable.prevButtonIcon>"u"?e:"",r=typeof this.scrollable.nextButtonIcon>"u"?t:"";if(o&&this.prev)return o;if(r&&!this.prev)return r}}get customScrollButtonIconClass(){if("object"==typeof this.scrollable){const e=this.scrollable.prevButtonIcon,t=this.scrollable.nextButtonIcon;if(e&&this.prev)return`k-icon ${e}`;if(t&&!this.prev)return`k-icon ${t}`}}get scrollButtonSVGIcon(){const e=dl(this.tabPosition)?this.localization.rtl?this.caretAltRightIcon:this.caretAltLeftIcon:this.caretAltUpIcon,t=dl(this.tabPosition)?this.localization.rtl?this.caretAltLeftIcon:this.caretAltRightIcon:this.caretAltDownIcon;if("object"==typeof this.scrollable){const o=void 0!==this.scrollable.prevSVGButtonIcon?this.scrollable.prevSVGButtonIcon:e,r=void 0!==this.scrollable.nextSVGButtonIcon?this.scrollable.nextSVGButtonIcon:t;if(o||r)return this.prev?o:r}}emitScrollEvent(e){const t=new nbe({originalEvent:e});return this.tabScroll.emit(t),t}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(s.SKi),s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoTabStripScrollableButton",""]],hostVars:4,hostBindings:function(e,t){2&e&&s.AVh("k-tabstrip-prev",t.prevClass)("k-tabstrip-next",t.nextClass)},inputs:{prev:"prev",tabPosition:"tabPosition",scrollable:"scrollable"},outputs:{tabScroll:"tabScroll",onClick:"onClick"},attrs:Yct,decls:1,vars:3,consts:[["innerCssClass","k-button-icon",3,"name","customFontClass","svgIcon"]],template:function(e,t){1&e&&s.nrm(0,"kendo-icon-wrapper",0),2&e&&s.Y8G("name",t.iconClass)("customFontClass",t.customIconClass)("svgIcon",t.svgIcon)},dependencies:[Qe],encapsulation:2}),i})(),sbe=(()=>{class i{constructor(e){this.localization=e,this.tabClose=new s.bkB,this.hostClasses=!0}get activeClass(){return this.tab.selected}get disabledClass(){return this.tab.disabled}get focusedClass(){return this.tab.focused}get tabIndex(){return this.tab.selected||this.tab.focused?0:-1}get tabClosable(){return void 0!==this.tab.closable?this.tab.closable:this.tabStripClosable}get closeSVGIconClass(){if(!this.customCloseButtonClasses)return this.tab.closeSVGIcon?this.tab.closeSVGIcon:this.closeSVGIcon?this.closeSVGIcon:go}get closeButtonClasses(){if(!this.customTabstripCloseIcon&&this.tabStripCloseIcon&&!this.tab.closeIconClass)return this.tab.closeIcon?this.tab.closeIcon:this.tabStripCloseIcon}get customCloseButtonClasses(){if(this.customTabstripCloseIcon||this.tab.closeIconClass)return this.tab.closeIconClass?this.tab.closeIconClass:this.customTabstripCloseIcon}get closeButtonTitle(){return this.localization.get("closeTitle")}closeTab(e){const t=new sht(e,this.tab);this.tabClose.emit(t)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoTabStripTab",""]],hostVars:13,hostBindings:function(e,t){2&e&&(s.BMQ("aria-selected",t.activeClass)("aria-disabled",t.disabledClass)("tabindex",t.tabIndex),s.AVh("k-item",t.hostClasses)("k-tabstrip-item",t.hostClasses)("k-active",t.activeClass)("k-disabled",t.disabledClass)("k-focus",t.focusedClass))},inputs:{tab:"tab",index:"index",tabStripClosable:"tabStripClosable",tabStripCloseIcon:"tabStripCloseIcon",customTabstripCloseIcon:"customTabstripCloseIcon",closeSVGIcon:"closeSVGIcon"},outputs:{tabClose:"tabClose"},attrs:Jct,decls:4,vars:4,consts:[["tabTemplate",""],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet"],["kendoButton","","type","button","role","button","fillMode","flat","class","k-remove-tab k-icon-button",3,"icon","iconClass","svgIcon","title","click",4,"ngIf"],["class","k-link",4,"ngIf"],[1,"k-link"],["kendoButton","","type","button","role","button","fillMode","flat",1,"k-remove-tab","k-icon-button",3,"click","icon","iconClass","svgIcon","title"]],template:function(e,t){if(1&e&&s.DNE(0,edt,3,2,"ng-container",1)(1,tdt,0,0,"ng-template",2,0,s.C5r)(3,ndt,1,5,"button",3),2&e){const o=s.sdS(2);s.Y8G("ngIf",!t.tab.tabTemplate)("ngIfElse",o),s.R7$(),s.Y8G("ngTemplateOutlet",null==t.tab.tabTemplate?null:t.tab.tabTemplate.templateRef),s.R7$(2),s.Y8G("ngIf",t.tabClosable)}},dependencies:[Ht,q,qe],encapsulation:2}),i})(),ZU=(()=>{class i extends yi{}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275dir=s.FsC({type:i,selectors:[["kendo-tabstrip-messages-base"]],inputs:{closeTitle:"closeTitle",previousTabButton:"previousTabButton",nextTabButton:"nextTabButton"},features:[s.Vt3]}),i})(),obe=(()=>{class i extends ZU{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoTabStripLocalizedMessages",""]],features:[s.Jv_([{provide:ZU,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})(),eF=(()=>{class i{constructor(e,t,o,r,a,l){this.localization=e,this.renderer=t,this.wrapper=o,this.tabstripService=r,this.scrollService=a,this.ngZone=l,this.animate=!0,this.tabPosition="top",this.keepTabContent=!1,this.closable=!1,this.closeIcon="x",this.showContentArea=!0,this.tabSelect=new s.bkB,this.tabClose=new s.bkB,this.tabScroll=new s.bkB,this.hostClasses=!0,this.tabs=new s.rOR,this.showLicenseWatermark=!1,this._scrollableSettings=tbe(!1),this.subscriptions=new be.yU,this.subscriptionsArePresent=!1,this.tabStripId=tn();const c=(0,_t.$)(Gh);this.showLicenseWatermark=s_(c),this.tabstripService.owner=this,this.scrollService.owner=this,this.subscriptions.add(this.scrollService.scrollButtonActiveStateChange.subscribe(u=>{this.hasScrollButtons&&this.renderer[(u.active?"remove":"add")+"Class"](this[`${u.buttonType}ScrollButton`].host.nativeElement,"k-disabled")}))}set height(e){this._height=e,this.renderer.setStyle(this.wrapper.nativeElement,"height",e)}get height(){return this._height}set scrollable(e){this._scrollableSettings=tbe(e),this.tablist&&(this.toggleScrollButtons(this.scrollService.tabsOverflow),this.attachWheelHandler(this.tablist.nativeElement))}get scrollable(){return this._scrollableSettings}set closeSVGIcon(e){if((0,s.naY)()&&e&&this.closeIcon&&"x"!==this.closeIcon)throw new Error("Setting both closeIcon and svgIcon options at the same time is not supported.");this._closeSVGIcon=e}get closeSVGIcon(){return this._closeSVGIcon}get tabsAtTop(){return"top"===this.tabPosition}get tabsAtRight(){return"right"===this.tabPosition}get tabsAtBottom(){return"bottom"===this.tabPosition}get tabsAtLeft(){return"left"===this.tabPosition}get dir(){return this.localization.rtl?"rtl":"ltr"}get tabStripScrollable(){return this._scrollableSettings.enabled}ngAfterViewInit(){ne()&&(this.ngZone.runOutsideAngular(()=>{this.toggleScrollButtons(!!this.scrollService.tabsOverflow),setTimeout(()=>{this.scrollToSelectedTab()})}),this.initDomEvents(),this.tabsChangesSub=this.tabs.changes.subscribe(()=>{this.toggleScrollButtons(this.scrollService.tabsOverflow),this.scrollService.toggleScrollButtonsState()}))}ngOnChanges(e){if(!ne())return;const t=e.tabPosition;if(t){const o="bottom"===t.previousValue||"bottom"===t.currentValue;this.ngZone.onStable.pipe(We(1)).subscribe(()=>{o&&(this.subscriptionsArePresent&&(this.subscriptions.unsubscribe(),this.subscriptions=new be.yU,this.subscriptionsArePresent=!1,this.activeStateChangeSub=this.scrollService.scrollButtonActiveStateChange.subscribe(r=>{this.hasScrollButtons&&this.renderer[(r.active?"remove":"add")+"Class"](this[`${r.buttonType}ScrollButton`].host.nativeElement,"k-disabled")})),this.initDomEvents()),this.scrollService.restoreScrollPosition()})}}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),this.tabsChangesSub&&this.tabsChangesSub.unsubscribe(),this.activeStateChangeSub&&this.activeStateChangeSub.unsubscribe()}get tabsAlignmentStyles(){return{start:"flex-start",end:"flex-end",center:"center",justify:"space-between"}[this.tabAlignment]}get tabListWidth(){return"top"===this.tabPosition||"bottom"===this.tabPosition?"100%":null}get tabListHeight(){return"left"===this.tabPosition||"right"===this.tabPosition?"100%":null}get isScrollable(){return this._scrollableSettings.enabled}get hasScrollButtons(){return(i=>i.enabled&&"hidden"!==i.scrollButtons)(this._scrollableSettings)}get mouseScrollEnabled(){return J0e(this._scrollableSettings)}get itemsWrapperClass(){return dl(this.tabPosition)?"k-hstack":"k-vstack"}selectTab(e){const t=CZ(this.tabs,e);!t||t.disabled||(this.tabstripService.selectTab(t,e),this.scrollToSelectedTab())}getTabId(e){return q0e("k-tabstrip-tab",this.tabStripId,e)}getTabPanelId(e){return q0e("k-tabstrip-tabpanel",this.tabStripId,e)}onTabClick(e,t){if(ER(e.target))return;const o=e.target;if(YU(o,"k-remove-tab")||YU(o.parentElement,"k-remove-tab"))return;const a=CZ(this.tabs,t);this.tabstripService.onTabSelect(a,t),this.scrollToSelectedTab()}onResize(){this.toggleScrollButtons(!!this.scrollService.tabsOverflow),this.ngZone.runOutsideAngular(()=>{this.scrollService.toggleScrollButtonsState()})}scrollToSelectedTab(){this._scrollableSettings.enabled&&this.scrollService.scrollToSelectedTab()}onScrollButtonClick(e){this.scrollService.scrollTabs(e)}initDomEvents(){if(!this.wrapper||this.subscriptionsArePresent)return;const e=this.tablist.nativeElement;this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(e,"keydown",t=>{this.tabstripService.onKeyDown(t)}))}),this.subscriptions.add(this.renderer.listen(e,"focusout",()=>{(i=>{this.tabs.forEach(n=>{n.focused=!1})})()})),this.isScrollable&&this.mouseScrollEnabled&&this.attachWheelHandler(e),this.subscriptionsArePresent=!0}toggleScrollButtons(e){this.ngZone.onStable.pipe(We(1)).subscribe(()=>{const t=this._scrollableSettings.scrollButtons,o=this.prevScrollButton&&this.nextScrollButton,r=o&&e,l="visible"===t;o&&!e&&"visible"!==t?(this.prevScrollButton.toggle(!1),this.nextScrollButton.toggle(!1)):(r||l)&&(this.prevScrollButton.toggle(!0),this.nextScrollButton.toggle(!0)),o&&l&&this.ngZone.runOutsideAngular(()=>{this.scrollService.toggleScrollButtonsState()})})}attachWheelHandler(e){this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(e,"wheel",t=>{const o=new nbe({originalEvent:t});this.tabScroll.emit(o),!o.isDefaultPrevented()&&this.scrollService.tabsOverflow&&this.scrollService.onMouseScroll(t)}))})}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z),s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(Q0e),s.rXU(ebe),s.rXU(s.SKi))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-tabstrip"]],contentQueries:function(e,t,o){if(1&e&&s.wni(o,QU,4),2&e){let r;s.mGM(r=s.lsd())&&(t.tabs=r)}},viewQuery:function(e,t){if(1&e&&(s.GBs(idt,5),s.GBs(sdt,5),s.GBs(odt,5),s.GBs(rdt,5,s.aKT)),2&e){let o;s.mGM(o=s.lsd())&&(t.tablist=o.first),s.mGM(o=s.lsd())&&(t.prevScrollButton=o.first),s.mGM(o=s.lsd())&&(t.nextScrollButton=o.first),s.mGM(o=s.lsd())&&(t.tabHeaderContainers=o)}},hostVars:15,hostBindings:function(e,t){2&e&&(s.BMQ("dir",t.dir),s.AVh("k-tabstrip",t.hostClasses)("k-pos-relative",t.hostClasses)("k-tabstrip-top",t.tabsAtTop)("k-tabstrip-right",t.tabsAtRight)("k-tabstrip-bottom",t.tabsAtBottom)("k-tabstrip-left",t.tabsAtLeft)("k-tabstrip-scrollable",t.tabStripScrollable))},inputs:{height:"height",animate:"animate",tabAlignment:"tabAlignment",tabPosition:"tabPosition",keepTabContent:"keepTabContent",closable:"closable",scrollable:"scrollable",closeIcon:"closeIcon",closeIconClass:"closeIconClass",closeSVGIcon:"closeSVGIcon",showContentArea:"showContentArea"},outputs:{tabSelect:"tabSelect",tabClose:"tabClose",tabScroll:"tabScroll"},exportAs:["kendoTabStrip"],features:[s.Jv_([Q0e,ebe,z,{provide:He,useValue:"kendo.tabstrip"}]),s.OA$],decls:9,vars:4,consts:()=>{let n,e,t;return n="Close",e="Scheda precedente",t="Scheda successiva",[["heading",""],["content",""],["tablist",""],["prevScrollButton",""],["tabHeaderContainer",""],["nextScrollButton",""],["kendoTabStripLocalizedMessages","","closeTitle",n,"previousTabButton",e,"nextTabButton",t],[4,"ngIf"],[3,"resize",4,"ngIf"],["kendoWatermarkOverlay","",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"k-tabstrip-items-wrapper",3,"ngClass"],["role","button","kendoTabStripScrollableButton","","class","k-icon-button k-button k-button-md k-rounded-md k-button-flat k-button-flat-base",3,"scrollable","tabPosition","prev","title","tabScroll","onClick",4,"ngIf"],["role","tablist",1,"k-reset","k-tabstrip-items"],[4,"ngFor","ngForOf"],["role","button","kendoTabStripScrollableButton","",1,"k-icon-button","k-button","k-button-md","k-rounded-md","k-button-flat","k-button-flat-base",3,"tabScroll","onClick","scrollable","tabPosition","prev","title"],["kendoTabStripTab","","role","tab",3,"tabClose","click","ngClass","ngStyle","tab","index","tabStripClosable","tabStripCloseIcon","customTabstripCloseIcon","closeSVGIcon","id"],["ngFor","",3,"ngForOf"],["role","tabpanel",3,"ngClass","tabIndex","id",4,"ngIf"],["role","tabpanel",3,"ngClass","tabIndex","id"],[3,"ngTemplateOutlet"],[3,"resize"],["kendoWatermarkOverlay",""]]},template:function(e,t){1&e&&(s.eu8(0,6),s.DNE(1,ddt,3,2,"ng-container",7)(2,fdt,3,2,"ng-container",7)(3,Sdt,6,11,"ng-template",null,0,s.C5r)(5,Edt,1,1,"ng-template",null,1,s.C5r)(7,ydt,1,0,"kendo-resize-sensor",8)(8,Ddt,1,0,"div",9)),2&e&&(s.R7$(),s.Y8G("ngIf",!t.tabsAtBottom),s.R7$(),s.Y8G("ngIf",t.tabsAtBottom),s.R7$(5),s.Y8G("ngIf",t.isScrollable),s.R7$(),s.Y8G("ngIf",t.showLicenseWatermark))},dependencies:[ibe,sbe,hs,n_,obe,q,qe,Be,ut,Wn],encapsulation:2,data:{animation:[Em("state",[cd("active",Xe({opacity:1})),oo("* => active",[Xe({opacity:0}),ii("400ms ease-in")])])]}}),i})();const Cf={};Cf[G.ArrowLeft]="left",Cf[G.ArrowRight]="right",Cf[G.ArrowUp]="up",Cf[G.ArrowDown]="down",Cf[G.Home]="home",Cf[G.End]="end",Cf[G.Enter]="enter",Cf[G.Space]="enter";const EZ=Object.assign({},Cf);EZ[G.ArrowLeft]="right",EZ[G.ArrowRight]="left";let fpt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,xn]]}),i})(),mpt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge]]}),i})(),_pt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,xn,i_]]}),i})(),gpt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,No,xn]]}),i})(),Spt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,xn,i_]]}),i})(),vpt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,wD,xn]]}),i})(),Cpt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,R0e,xn]]}),i})(),Gbe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,Mr,xn,cr,i_]]}),i})(),bpt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,i_]]}),i})(),Opt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge]]}),i})(),Tpt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge]]}),i})(),Mpt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[fpt,mpt,_pt,Spt,gpt,vpt,Cpt,Gbe,bpt,Opt,Tpt]}),i})();const k_=10;function Fbe(i,n,e=k_){return 0===ms(Math.abs(i-n),e)}function RZ(i,n,e){return i<n||Fbe(i,n,e)}function Bbe(i,n,e,t){let o=0,r=0;return t&&(o=Math.atan2(t.c*e,t.a*n),0!==t.b&&(r=Math.atan2(t.d*e,t.b*n))),{x:o,y:r}}const aF=Math.pow,Apt=["radiusX","radiusY","startAngle","endAngle","anticlockwise"];class lF extends(c5(Ou,Apt)){constructor(n=new Ie,e={}){super(),this.setCenter(n),this.radiusX=e.radiusX,this.radiusY=e.radiusY||e.radiusX,this.startAngle=e.startAngle,this.endAngle=e.endAngle,this.anticlockwise=e.anticlockwise||!1,this.xRotation=e.xRotation}clone(){return new lF(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})}setCenter(n){return this._observerField("center",Ie.create(n)),this.geometryChange(),this}getCenter(){return this.center}pointAt(n){const e=this.center,t=af(n);return new Ie(e.x+this.radiusX*Math.cos(t),e.y+this.radiusY*Math.sin(t))}curvePoints(){const n=this.startAngle,e=this.anticlockwise?-1:1,t=[this.pointAt(n)],o=this._arcInterval(),r=o.endAngle-o.startAngle,a=Math.ceil(r/45),l=r/a;let u,c=n;this.xRotation&&(u=wi().rotate(this.xRotation,this.center));for(let f=1;f<=a;f++){const _=c+e*l,S=this._intervalCurvePoints(c,_,u);t.push(S.cp1,S.cp2,S.p2),c=_}return t}bbox(n){const e=this._arcInterval(),t=e.startAngle,o=e.endAngle,r=Bbe(0,this.radiusX,this.radiusY,n),a=sS(r.x),l=sS(r.y),c=this.pointAt(o).transformCopy(n);let u=zbe(a,t),f=zbe(l,t),_=this.pointAt(t).transformCopy(n),S=Ie.min(_,c),v=Ie.max(_,c);for(;u<o||f<o;){let b,D;u<o&&(b=this.pointAt(u).transformCopy(n),u+=90),f<o&&(D=this.pointAt(f).transformCopy(n),f+=90),_=new Ie(b.x,D.y),S=Ie.min(S,_),v=Ie.max(v,_)}return yn.fromPoints(S,v)}_arcInterval(){let{startAngle:n,endAngle:e,anticlockwise:t}=this;if(t){let o=n;n=e,e=o}return(n>e||t&&n===e)&&(e+=360),{startAngle:n,endAngle:e}}_intervalCurvePoints(n,e,t){const o=this.pointAt(n),r=this.pointAt(e),a=this._derivativeAt(n),l=this._derivativeAt(e),c=(af(e)-af(n))/3,u=new Ie(o.x+c*a.x,o.y+c*a.y),f=new Ie(r.x-c*l.x,r.y-c*l.y);return t&&(o.transform(t),r.transform(t),u.transform(t),f.transform(t)),{p1:o,cp1:u,cp2:f,p2:r}}_derivativeAt(n){const e=af(n);return new Ie(-this.radiusX*Math.sin(e),this.radiusY*Math.cos(e))}containsPoint(n){const e=this._arcInterval(),t=e.endAngle-e.startAngle,{center:o,radiusX:r,radiusY:a}=this,l=o.distanceTo(n),c=Math.atan2(n.y-o.y,n.x-o.x),u=r*a/Math.sqrt(aF(r,2)*aF(Math.sin(c),2)+aF(a,2)*aF(Math.cos(c),2)),f=this.pointAt(this.startAngle).round(k_),_=this.pointAt(this.endAngle).round(k_),S=function Ipt(i,n,e,t){const o=n.x-i.x,r=t.x-e.x,a=n.y-i.y,l=t.y-e.y,c=i.x-e.x,u=i.y-e.y,f=o*l-r*a,_=(o*u-a*c)/f,S=(r*u-l*c)/f;if(_>=0&&_<=1&&S>=0&&S<=1)return new Ie(i.x+S*o,i.y+S*a)}(o,n.round(k_),f,_);let v;if(t<180)v=S&&RZ(o.distanceTo(S),l)&&RZ(l,u);else{let b=Vbe(o.x,o.y,r,a,n.x,n.y);360!==b&&(b=(360+b)%360);let D=e.startAngle<=b&&b<=e.endAngle;v=D&&RZ(l,u)||!D&&(!S||S.equals(n))}return v}_isOnPath(n,e){const t=this._arcInterval(),o=this.center;let r=Vbe(o.x,o.y,this.radiusX,this.radiusY,n.x,n.y);return 360!==r&&(r=(360+r)%360),t.startAngle<=r&&r<=t.endAngle&&this.pointAt(r).distanceTo(n)<=e}static fromPoints(n,e,t,o,r,a,l){const c=function xpt(i){let{x1:n,y1:e,x2:t,y2:o,rx:r,ry:a,largeArc:l,swipe:c,rotation:u=0}=i;const f=af(u),_=Math.cos(f),S=Math.sin(f),v=_*(n-t)/2+S*(e-o)/2,b=-S*(n-t)/2+_*(e-o)/2,D=l!==c?1:-1,k=Math.pow(v,2),O=Math.pow(b,2);let I=Math.pow(r,2),x=Math.pow(a,2),P=k/I+O/x;P>1&&(P=Math.sqrt(k/I+O/x),r*=P,I=Math.pow(r,2),a*=P,x=Math.pow(a,2));let L=D*Math.sqrt((I*x-I*O-x*k)/(I*O+x*k));isNaN(L)&&(L=0);const H=L*(r*b)/a,j=a*v*-L/r,J=_*H-S*j+(n+t)/2,te=S*H+_*j+(e+o)/2,ce=(v-H)/r,oe=(b-j)/a,Le=-(v+H)/r,ue=-(b+j)/a,ye=(oe>=0?1:-1)*sS(Math.acos(ce/Math.sqrt(ce*ce+oe*oe))),ie=ms((ce*Le+oe*ue)/(Math.sqrt(ce*ce+oe*oe)*Math.sqrt(Le*Le+ue*ue)),10);let ee=(ce*ue-oe*Le>=0?1:-1)*sS(Math.acos(ie));!c&&ee>0&&(ee-=360),c&&ee<0&&(ee+=360);let ae=ye+ee;const Se=ae>=0?1:-1;return ae=Math.abs(ae)%360*Se,{center:new Ie(J,te),startAngle:ye,endAngle:ae,radiusX:r,radiusY:a,xRotation:u}}({x1:n.x,y1:n.y,x2:e.x,y2:e.y,rx:t,ry:o,largeArc:r,swipe:a,rotation:l});return new lF(c.center,{startAngle:c.startAngle,endAngle:c.endAngle,radiusX:c.radiusX,radiusY:c.radiusY,xRotation:c.xRotation,anticlockwise:0===a})}}function Vbe(i,n,e,t,o,r){const a=ms((o-i)/e,3),l=ms((r-n)/t,3);return ms(sS(Math.atan2(l,a)))}function zbe(i,n){let e=i;for(;e<n;)e+=90;return e}const O_=lF,Hbe=Math.PI/2;class AZ extends(c5(Ou,["radius"])){constructor(n=new Ie,e=0){super(),this.setCenter(n),this.setRadius(e)}setCenter(n){return this._observerField("center",Ie.create(n)),this.geometryChange(),this}getCenter(){return this.center}equals(n){return n&&n.center.equals(this.center)&&n.radius===this.radius}clone(){return new AZ(this.center.clone(),this.radius)}pointAt(n){return this._pointAt(af(n))}bbox(n){const e=Bbe(0,this.radius,this.radius,n);let t=Ie.maxPoint(),o=Ie.minPoint();for(let r=0;r<4;r++){let a=this._pointAt(e.x+r*Hbe).transformCopy(n),l=this._pointAt(e.y+r*Hbe).transformCopy(n),c=new Ie(a.x,l.y);t=Ie.min(t,c),o=Ie.max(o,c)}return yn.fromPoints(t,o)}_pointAt(n){const{center:e,radius:t}=this;return new Ie(e.x+t*Math.cos(n),e.y+t*Math.sin(n))}containsPoint(n){const{center:e,radius:t}=this;return Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)<=Math.pow(t,2)}_isOnPath(n,e){const{center:t,radius:o}=this,r=t.distanceTo(n);return o-e<=r&&r<=o+e}}const ul=AZ,bS=typeof Uint8Array<"u"&&Rh.browser&&(!Rh.browser.msie||Rh.browser.version>9),xZ=function(){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{decode:function(n){for(var e=n.replace(/[^A-Za-z0-9\+\/\=]/g,""),t=0,o=e.length,r=[];t<o;){var a=i.indexOf(e.charAt(t++)),l=i.indexOf(e.charAt(t++)),c=i.indexOf(e.charAt(t++)),u=i.indexOf(e.charAt(t++)),_=(15&l)<<4|c>>>2,S=(3&c)<<6|u;r.push(a<<2|l>>>4),64!=c&&r.push(_),64!=u&&r.push(S)}return r},encode:function(n){for(var e=0,t=n.length,o="";e<t;){var r=n[e++],a=n[e++],l=n[e++],u=(3&r)<<4|a>>>4,f=(15&a)<<2|l>>>6,_=63&l;e-t==2?f=_=64:e-t==1&&(_=64),o+=i.charAt(r>>>2)+i.charAt(u)+i.charAt(f)+i.charAt(_)}return o}}}();function qs(i){var n=0,e=0;null==i?i=bS?new Uint8Array(256):[]:e=i.length;var t=bS?function(oe){if(oe>=i.length){var Le=new Uint8Array(Math.max(oe+256,2*i.length));Le.set(i,0),i=Le}}:function(){},o=bS?function(){return new Uint8Array(i.buffer,0,e)}:function(){return i},r=bS?function(oe){if("string"==typeof oe)return J(oe);var Le=oe.length;t(n+Le),i.set(oe,n),(n+=Le)>e&&(e=n)}:function(oe){if("string"==typeof oe)return J(oe);for(var Le=0;Le<oe.length;++Le)u(oe[Le])};function c(){return n<e?i[n++]:0}function u(oe){t(n),i[n++]=255&oe,n>e&&(e=n)}function f(){return c()<<8|c()}function _(oe){u(oe>>8),u(oe)}function b(){return 65536*f()+f()}function D(oe){_(oe>>>16&65535),_(65535&oe)}function k(){var oe=b();return oe>=2147483648?oe-4294967296:oe}function O(oe){D(oe<0?oe+4294967296:oe)}function H(oe){return te(oe,c)}function J(oe){for(var Le=0;Le<oe.length;++Le)u(oe.charCodeAt(Le))}function te(oe,Le){for(var ue=new Array(oe),ye=0;ye<oe;++ye)ue[ye]=Le();return ue}var ce={eof:function l(){return n>=e},readByte:c,writeByte:u,readShort:f,writeShort:_,readLong:b,writeLong:D,readFixed:function I(){return b()/65536},writeFixed:function x(oe){D(Math.round(65536*oe))},readShort_:function S(){var oe=f();return oe>=32768?oe-65536:oe},writeShort_:function v(oe){_(oe<0?oe+65536:oe)},readLong_:k,writeLong_:O,readFixed_:function P(){return k()/65536},writeFixed_:function L(oe){O(Math.round(65536*oe))},read:H,write:r,readString:function j(oe){return String.fromCharCode.apply(String,H(oe))},writeString:J,times:te,get:o,slice:bS?function(oe,Le){if(i.buffer.slice)return new Uint8Array(i.buffer.slice(oe,oe+Le));var ue=new Uint8Array(Le);return ue.set(new Uint8Array(i.buffer,oe,Le)),ue}:function(oe,Le){return i.slice(oe,oe+Le)},offset:function(oe){return null!=oe?(n=oe,ce):n},skip:function(oe){n+=oe},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(){return e},saveExcursion:function(oe){var Le=n;try{return oe()}finally{n=Le}},writeBase64:function(oe){window.atob?J(window.atob(oe)):r(xZ.decode(oe))},base64:function(){return xZ.encode(o())}};return ce}class bf{constructor(n,e){this.definition=e,this.length=e.length,this.offset=e.offset,this.file=n,this.rawData=n.raw,this.parse(n.raw)}raw(){return this.rawData.slice(this.offset,this.length)}parse(){}}!function(){var i=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g)}();const Lu=String.fromCharCode,OF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var Uo={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"};function I_(i,n){i=i.toLowerCase(),Uo[i]=function(){return Uo[n]},Uo[i+"|bold"]=function(){return Uo[n+"|bold"]},Uo[i+"|italic"]=function(){return Uo[n+"|italic"]},Uo[i+"|bold|italic"]=function(){return Uo[n+"|bold|italic"]}}function yw(){let i,n;const e=new Promise((t,o)=>{i=r=>(e._state="resolved",t(r),e),n=r=>(e._state="rejected",o(r),e)});return e._state="pending",e.resolve=i,e.reject=n,e.state=()=>e._state,e}I_("Times New Roman","serif"),I_("Courier New","monospace"),I_("Arial","sans-serif"),I_("Helvetica","sans-serif"),I_("Verdana","sans-serif"),I_("Tahoma","sans-serif"),I_("Georgia","sans-serif"),I_("Monaco","monospace"),I_("Andale Mono","monospace");const s_t=class i_t extends pt{constructor(n){super(),this._size=n,this._length=0,this._map={}}put(n,e){const t=this._map,o={key:n,value:e};t[n]=o,this._head?(this._tail.newer=o,o.older=this._tail,this._tail=o):this._head=this._tail=o,this._length>=this._size?(t[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++}get(n){const e=this._map[n];if(e)return e===this._head&&e!==this._tail&&(this._head=e.newer,this._head.older=null),e!==this._tail&&(e.older&&(e.older.newer=e.newer,e.newer.older=e.older),e.older=this._tail,e.newer=null,this._tail.newer=e,this._tail=e),e.value}},o_t={baselineMarkerSize:1};let cee;typeof document<"u"&&(cee=document.createElement("div"),cee.style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");class dee extends pt{constructor(n){super(),this._cache=new s_t(1e3),this.options=Object.assign({},o_t,n)}measure(n,e,t={}){if(typeof n>"u"||null===n)return{width:0,height:0,baseline:0};const r=U1e(n+G1e(e)),a=this._cache.get(r);if(a)return a;const l={width:0,height:0,baseline:0},c=t.box||cee,u=this._baselineMarker().cloneNode(!1);for(let _ in e){let S=e[_];typeof S<"u"&&(c.style[_]=S)}const f=!1!==t.normalizeText?P1e(n):String(n);return c.textContent=f,c.appendChild(u),document.body.appendChild(c),f.length&&(l.width=c.offsetWidth-this.options.baselineMarkerSize,l.height=c.offsetHeight,l.baseline=u.offsetTop+this.options.baselineMarkerSize),l.width>0&&l.height>0&&this._cache.put(r,l),c.parentNode.removeChild(c),l}_baselineMarker(){const n=document.createElement("div");return n.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",n}}dee.current=new dee;const r_t=dee;function TF(i,n,e){return r_t.current.measure(i,n,e)}const c_t={}.toString;class UR extends Ou{constructor(n,e=""){super(),this.prefix=e;for(let t in n){let o=n[t];o=this._wrap(o,t),this[t]=o}}get(n){const e=n.split(".");let t=this;for(;e.length&&t;)t=t[e.shift()];return t}set(n,e){this.get(n)!==e&&(this._set(n,this._wrap(e,n)),this.optionsChange({field:this.prefix+n,value:e}))}_set(n,e){const t=n.indexOf(".")>=0;let o=this,r=n;if(t){const a=r.split(".");let l=this.prefix;for(;a.length>1;){r=a.shift(),l+=r+".";let c=o[r];c||(c=new UR({},l),c.addObserver(this),o[r]=c),o=c}r=a[0]}o._clear(r),o[r]=e}_clear(n){const e=this[n];e&&e.removeObserver&&e.removeObserver(this)}_wrap(n,e){const t=c_t.call(n);let o=n;return null!==o&&jt(o)&&"[object Object]"===t&&(!(n instanceof UR)&&!(n instanceof pt)&&(o=new UR(o,this.prefix+e+".")),o.addObserver(this)),o}}const Dye=UR;let d_t=1;function pee(){return"kdef"+d_t++}function Dw(i){return""===i||null===i||"none"===i||"transparent"===i||!jt(i)}const R_=class u_t extends Ou{get nodeType(){return"Rect"}constructor(n){super(),this._initOptions(n)}_initOptions(n={}){const{clip:e,transform:t}=n;t&&(n.transform=wi(t)),e&&!e.id&&(e.id=pee()),this.options=new Dye(n),this.options.addObserver(this)}transform(n){if(!jt(n))return this.options.get("transform");this.options.set("transform",wi(n))}parentTransform(){let e,n=this;for(;n.parent;){n=n.parent;let t=n.transform();t&&(e=t.matrix().multiplyCopy(e||sa.unit()))}if(e)return wi(e)}currentTransform(n=this.parentTransform()){const t=zC(this.transform());let r,o=zC(n);if(r=t&&o?o.multiplyCopy(t):t||o,r)return wi(r)}visible(n){return jt(n)?(this.options.set("visible",n),this):!1!==this.options.get("visible")}clip(n){const e=this.options;return jt(n)?(n&&!n.id&&(n.id=pee()),e.set("clip",n),this):e.get("clip")}opacity(n){return jt(n)?(this.options.set("opacity",n),this):u5(this.options.get("opacity"),1)}className(n){return jt(n)?(this.options.set("className",n),this):this.options.get("className")}clippedBBox(n){const e=this._clippedBBox(n);if(e){const t=this.clip();return t?yn.intersect(e,t.bbox(n)):e}}containsPoint(n,e){if(this.visible()){const t=this.currentTransform(e);let o=n;return t&&(o=n.transformCopy(t.matrix().invert())),this._hasFill()&&this._containsPoint(o)||this._isOnPath&&this._hasStroke()&&this._isOnPath(o)}return!1}_hasFill(){const n=this.options.fill;return n&&!Dw(n.color)}_hasStroke(){const n=this.options.stroke;return n&&n.width>0&&!Dw(n.color)}_clippedBBox(n){return this.bbox(n)}},ww=i=>class extends i{fill(n,e){const t=this.options;if(jt(n)){if(n&&"Gradient"!==n.nodeType){const o={color:n};jt(e)&&(o.opacity=e),t.set("fill",o)}else t.set("fill",n);return this}return t.get("fill")}stroke(n,e,t){return jt(n)?(this.options.set("stroke.color",n),jt(e)&&this.options.set("stroke.width",e),jt(t)&&this.options.set("stroke.opacity",t),this):this.options.get("stroke")}};function p_t(i){const n="_"+i;return function(e){return jt(e)?(this._observerField(n,Ie.create(e)),this.geometryChange(),this):this[n]}}const MF=(i,n)=>{const e=class extends i{};return function f_t(i,n){for(let e=0;e<n.length;e++)i[n[e]]=p_t(n[e])}(e.prototype,n),e};class g_t extends(ww(MF(R_,["position"]))){get nodeType(){return"Text"}constructor(n,e=new Ie,t={}){super(t),this.content(n),this.position(e),this.options.font||(this.options.font="12px sans-serif"),jt(this.options.fill)||this.fill("#000")}content(n){return jt(n)?(this.options.set("content",n),this):this.options.get("content")}measure(){return TF(this.content(),{font:this.options.get("font")})}rect(){const n=this.measure(),e=this.position().clone();return new yn(e,[n.width,n.height])}bbox(n){const e=zC(this.currentTransform(n));return this.rect().bbox(e)}rawBBox(){return this.rect().bbox()}_containsPoint(n){return this.rect().containsPoint(n)}}const fee=g_t,mee=(i,n)=>class extends i{traverse(e){const t=this[n];for(let o=0;o<t.length;o++){let r=t[o];r.traverse?r.traverse(e):e(r)}return this}};function IF(i,n,e){let t;for(let o=0;o<i.length;o++){let r=i[o];if(r.visible()){let a=n?r.bbox(e):r.rawBBox();a&&(t=t?yn.union(t,a):a)}}return t}function wye(i,n){let e;for(let t=0;t<i.length;t++){let o=i[t];if(o.visible()){let r=o.clippedBBox(n);r&&(e=e?yn.union(e,r):r)}}return e}class S_t extends(mee(R_,"children")){get nodeType(){return"Group"}constructor(n){super(n),this.children=[]}childrenChange(n,e,t){this.trigger("childrenChange",{action:n,items:e,index:t})}append(){return GI(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this}insert(n,e){return this.children.splice(n,0,e),e.parent=this,this.childrenChange("add",[e],n),this}insertAt(n,e){return this.insert(e,n)}remove(n){const e=this.children.indexOf(n);return e>=0&&(this.children.splice(e,1),n.parent=null,this.childrenChange("remove",[n],e)),this}removeAt(n){if(0<=n&&n<this.children.length){let e=this.children[n];this.children.splice(n,1),e.parent=null,this.childrenChange("remove",[e],n)}return this}clear(){const n=this.children;return this.children=[],this._reparent(n,null),this.childrenChange("remove",n,0),this}bbox(n){return IF(this.children,!0,this.currentTransform(n))}rawBBox(){return IF(this.children,!1)}_clippedBBox(n){return wye(this.children,this.currentTransform(n))}currentTransform(n){return R_.prototype.currentTransform.call(this,n)||null}containsPoint(n,e){if(this.visible()){const t=this.children,o=this.currentTransform(e);for(let r=0;r<t.length;r++)if(t[r].containsPoint(n,o))return!0}return!1}_reparent(n,e){for(let t=0;t<n.length;t++){const o=n[t],r=o.parent;r&&r!==this&&r.remove&&r.remove(o),o.parent=e}}}const Pn=S_t,v_t=[].push,C_t=[].pop,b_t=[].splice,E_t=[].shift,kye=[].slice,y_t=[].unshift,Oye=class D_t extends Ou{constructor(n=[]){super(),this.length=0,this._splice(0,n.length,n)}elements(n){return n?(this._splice(0,this.length,n),this._change(),this):this.slice(0)}push(){const n=arguments,e=v_t.apply(this,n);return this._add(n),e}slice(){return kye.call(this)}pop(){const n=this.length,e=C_t.apply(this);return n&&this._remove([e]),e}splice(n,e){const t=kye.call(arguments,2),o=this._splice(n,e,t);return this._change(),o}shift(){const n=this.length,e=E_t.apply(this);return n&&this._remove([e]),e}unshift(){const n=arguments,e=y_t.apply(this,n);return this._add(n),e}indexOf(n){const e=this.length;for(let t=0;t<e;t++)if(this[t]===n)return t;return-1}_splice(n,e,t){const o=b_t.apply(this,[n,e].concat(t));return this._clearObserver(o),this._setObserver(t),o}_add(n){this._setObserver(n),this._change()}_remove(n){this._clearObserver(n),this._change()}_setObserver(n){for(let e=0;e<n.length;e++)n[e].addObserver(this)}_clearObserver(n){for(let e=0;e<n.length;e++)n[e].removeObserver(this)}_change(){}},Tye=class w_t extends Oye{_change(){this.geometryChange()}};function Mye(i,n,e){const t=sS(Math.atan2(n.y-i.y,n.x-i.x));return e.transformCopy(wi().rotate(-t,i)).x<i.x}function RF(i,n,e){const t=1-i;return Math.pow(t,3)*e[0][n]+3*Math.pow(t,2)*i*e[1][n]+3*Math.pow(i,2)*t*e[2][n]+Math.pow(i,3)*e[3][n]}function Iye(i,n){return[3*i[1][n]-i[0][n]-3*i[2][n]+i[3][n],3*(i[0][n]-2*i[1][n]+i[2][n]),3*(-i[0][n]+i[1][n]),i[0][n]]}class TS extends pt{constructor(n=0,e=0){super(),this.real=n,this.img=e}add(n){return new TS(ms(this.real+n.real,k_),ms(this.img+n.img,k_))}addConstant(n){return new TS(this.real+n,this.img)}negate(){return new TS(-this.real,-this.img)}multiply(n){return new TS(this.real*n.real-this.img*n.img,this.real*n.img+this.img*n.real)}multiplyConstant(n){return new TS(this.real*n,this.img*n)}nthRoot(n){const e=Math.atan2(this.img,this.real),t=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2)),o=Math.pow(t,1/n);return new TS(o*Math.cos(e/n),o*Math.sin(e/n))}equals(n){return this.real===n.real&&this.img===n.img}isReal(){return 0===this.img}}const FR=TS;function Rye(i){return i<0?-1:1}function Aye(i,n,e,t){if(0===i)return function k_t(i,n,e){const t=Math.sqrt(Math.pow(n,2)-4*i*e);return[(-n+t)/(2*i),(-n-t)/(2*i)]}(n,e,t);const o=(3*i*e-Math.pow(n,2))/(3*Math.pow(i,2)),r=(2*Math.pow(n,3)-9*i*n*e+27*Math.pow(i,2)*t)/(27*Math.pow(i,3)),a=Math.pow(o/3,3)+Math.pow(r/2,2),l=new FR(0,1),c=-n/(3*i);let u,f,_,S,v,b,D;a<0?(u=new FR(-r/2,Math.sqrt(-a)).nthRoot(3),f=new FR(-r/2,-Math.sqrt(-a)).nthRoot(3)):(u=-r/2+Math.sqrt(a),u=new FR(Rye(u)*Math.pow(Math.abs(u),1/3)),f=-r/2-Math.sqrt(a),f=new FR(Rye(f)*Math.pow(Math.abs(f),1/3))),_=u.add(f),b=u.add(f).multiplyConstant(-.5),D=u.add(f.negate()).multiplyConstant(Math.sqrt(3)/2),S=b.add(l.multiply(D)),v=b.add(l.negate().multiply(D));const k=[];return _.isReal()&&k.push(ms(_.real+c,k_)),S.isReal()&&k.push(ms(S.real+c,k_)),v.isReal()&&k.push(ms(v.real+c,k_)),k}function AF(i,n,e,t,o){const r=Iye(i,t),a=Aye(r[0],r[1],r[2],r[3]-n[t]);let l;for(let c=0;c<a.length;c++)if(0<=a[c]&&a[c]<=1&&(l=RF(a[c],e,i),Math.abs(l-n[e])<=o))return!0}function xye(i,n,e){let t;if(i.x!==n.x){const o=Math.min(i.x,n.x),r=Math.max(i.x,n.x),a=Math.min(i.y,n.y),l=Math.max(i.y,n.y),c=o<=e.x&&e.x<r;t=a===l?e.y<=a&&c:c&&(l-a)*((i.x-n.x)*(i.y-n.y)>0?e.x-o:r-e.x)/(r-o)+a-e.y>=0}return t?1:0}const T_t=["anchor","controlIn","controlOut"];class M_t extends(MF(Ou,T_t)){constructor(n,e,t){super(),this.anchor(n||new Ie),this.controlIn(e),this.controlOut(t)}bboxTo(n,e){const t=this.anchor().transformCopy(e),o=n.anchor().transformCopy(e);let r;return r=this.controlOut()&&n.controlIn()?this._curveBoundingBox(t,this.controlOut().transformCopy(e),n.controlIn().transformCopy(e),o):this._lineBoundingBox(t,o),r}_lineBoundingBox(n,e){return yn.fromPoints(n,e)}_curveBoundingBox(n,e,t,o){const r=[n,e,t,o],a=this._curveExtremesFor(r,"x"),l=this._curveExtremesFor(r,"y"),c=Nye([a.min,a.max,n.x,o.x]),u=Nye([l.min,l.max,n.y,o.y]);return yn.fromPoints(new Ie(c.min,u.min),new Ie(c.max,u.max))}_curveExtremesFor(n,e){const t=this._curveExtremes(n[0][e],n[1][e],n[2][e],n[3][e]);return{min:RF(t.min,e,n),max:RF(t.max,e,n)}}_curveExtremes(n,e,t,o){const r=n-3*e+3*t-o,a=-2*(n-2*e+t),l=n-e,c=Math.sqrt(a*a-4*r*l);let u=0,f=1;0===r?0!==a&&(u=f=-l/a):isNaN(c)||(u=(-a+c)/(2*r),f=(-a-c)/(2*r));let _=Math.max(Math.min(u,f),0);(_<0||_>1)&&(_=0);let S=Math.min(Math.max(u,f),1);return(S>1||S<0)&&(S=1),{min:_,max:S}}_intersectionsTo(n,e){let t;return t=this.controlOut()&&n.controlIn()?function O_t(i,n,e){const t=Iye(i,"x"),o=Aye(t[0],t[1],t[2],t[3]-n.x);let r,a,l=0;for(let c=0;c<o.length;c++)r=RF(o[c],"y",i),a=Fbe(r,n.y)||r>n.y,a&&((0===o[c]||1===o[c])&&e.bottomRight().x>n.x||0<o[c]&&o[c]<1)&&l++;return l}([this.anchor(),this.controlOut(),n.controlIn(),n.anchor()],e,this.bboxTo(n)):xye(this.anchor(),n.anchor(),e),t}_isOnCurveTo(n,e,t,o){if(this.bboxTo(n).expand(t,t).containsPoint(e)){const a=this.anchor(),l=this.controlOut(),c=n.controlIn(),u=n.anchor();if("start"===o&&a.distanceTo(e)<=t)return!Mye(a,l,e);if("end"===o&&u.distanceTo(e)<=t)return!Mye(u,c,e);const f=[a,l,c,u];if(AF(f,e,"x","y",t)||AF(f,e,"y","x",t))return!0;const _=wi().rotate(45,e),S=[a.transformCopy(_),l.transformCopy(_),c.transformCopy(_),u.transformCopy(_)];return AF(S,e,"x","y",t)||AF(S,e,"y","x",t)}}_isOnLineTo(n,e,t){const o=this.anchor(),r=n.anchor(),a=sS(Math.atan2(r.y-o.y,r.x-o.x));return new yn([o.x,o.y-t/2],[o.distanceTo(r),t]).containsPoint(e.transformCopy(wi().rotate(-a,o)))}_isOnPathTo(n,e,t,o){let r;return r=this.controlOut()&&n.controlIn()?this._isOnCurveTo(n,e,t/2,o):this._isOnLineTo(n,e,t),r}}function Nye(i){let n=i.length,e=LI,t=PI;for(let o=0;o<n;o++)t=Math.max(t,i[o]),e=Math.min(e,i[o]);return{min:e,max:t}}const Ga=M_t,Lye=.333,I_t=.01,Pu="x",Gu="y";function Gye(i,n){for(;n[i+1]&&(n[i].equals(n[i+1])||n[i+1].equals(n[i+2]));)n.splice(i+1,1)}function Uye(i,n){const e=(n.y-i.y)/(n.x-i.x);return[i.y-e*i.x,e]}function _ee(i,n,e){let l,t=Pu,o=Gu,r=!1,a=!1;if(function A_t(i,n,e){const o=zye(Uye(i,n),e.x);return i.x===n.x&&n.x===e.x||ms(o,1)===ms(e.y,1)}(i,n,e))l=BR(i,n,Pu,Gu);else{const f={x:Bye(i,n,e,Pu),y:Bye(i,n,e,Gu)};if(f.x&&f.y)l=BR(i,e,Pu,Gu),r=!0;else if(function R_t(i,n,e){let t=!1;if(i.x===n.x)t=!0;else if(n.x===e.x)(n.y<e.y&&i.y<=n.y||e.y<n.y&&n.y<=i.y)&&(t=!0);else{const r=zye(Uye(i,n),e.x);i.y<=n.y&&e.y<=r||n.y<=i.y&&e.y>=r||(t=!0)}return t}(i,n,e)&&(t=Gu,o=Pu),f[t])l=0;else{let _;_=e[o]<i[o]&&i[o]<=n[o]||i[o]<e[o]&&n[o]<=i[o]?Hye((e[o]-i[o])*(n[t]-i[t])):-Hye((e[t]-i[t])*(n[o]-i[o])),l=I_t*_,a=!0}}const c=See(l,i,n,t,o);if(a){const f=t;t=o,o=f}const u=gee(l,n,e,t,o);return r&&(Fye(i,n,c,l),Fye(n,e,u,l)),[c,u]}function Fye(i,n,e,t){i.y<n.y?n.y<e.y?(e.x=i.x+(n.y-i.y)/t,e.y=n.y):e.y<i.y&&(e.x=n.x-(n.y-i.y)/t,e.y=i.y):e.y<n.y?(e.x=i.x-(i.y-n.y)/t,e.y=n.y):i.y<e.y&&(e.x=n.x+(i.y-n.y)/t,e.y=i.y)}function BR(i,n,e,t){const o=n[e]-i[e];let a;return a=0===o?0:(n[t]-i[t])/o,a}function Bye(i,n,e,t){return e[t]>n[t]&&n[t]>i[t]||e[t]<n[t]&&n[t]<i[t]}function gee(i,n,e,t,o){const r=n[t],l=(e[t]-r)*Lye;return Vye(r+l,n[o]+l*i,t,o)}function See(i,n,e,t,o){const a=e[t],l=(a-n[t])*Lye;return Vye(a-l,e[o]-l*i,t,o)}function Vye(i,n,e,t){const o=new Ie;return o[e]=i,o[t]=n,o}function zye(i,n){const e=i.length;let t=0;for(let o=0;o<e;o++)t+=Math.pow(n,o)*i[o];return t}function Hye(i){return i<=0?-1:1}const x_t=sa.IDENTITY.toString(),VR=i=>class extends i{bbox(n){const e=zC(this.currentTransform(n)),t=e?e.toString():x_t;let o;this._bboxCache&&this._matrixHash===t?o=this._bboxCache.clone():(o=this._bbox(e),this._bboxCache=o?o.clone():null,this._matrixHash=t);const r=this.options.get("stroke.width");return r&&o&&o.expand(r/2),o}geometryChange(){delete this._bboxCache,this.trigger("geometryChange",{element:this})}},N_t={l:function(i,n){const{parameters:e,position:t}=n;for(let o=0;o<e.length;o+=2){let r=new Ie(e[o],e[o+1]);n.isRelative&&r.translateWith(t),i.lineTo(r.x,r.y),t.x=r.x,t.y=r.y}},c:function(i,n){const{parameters:e,position:t}=n;for(let o=0;o<e.length;o+=6){let r=new Ie(e[o],e[o+1]),a=new Ie(e[o+2],e[o+3]),l=new Ie(e[o+4],e[o+5]);n.isRelative&&(a.translateWith(t),r.translateWith(t),l.translateWith(t)),i.curveTo(r,a,l),t.x=l.x,t.y=l.y}},v:function(i,n){jye(n.parameters,!0,n.isRelative?0:n.position.x),this.l(i,n)},h:function(i,n){jye(n.parameters,!1,n.isRelative?0:n.position.y),this.l(i,n)},a:function(i,n){const{parameters:e,position:t}=n;for(let o=0;o<e.length;o+=7){const r=e[o],a=e[o+1],l=e[o+2],c=e[o+3],u=e[o+4],f=new Ie(e[o+5],e[o+6]);n.isRelative&&f.translateWith(t),(t.x!==f.x||t.y!==f.y)&&(i.arcTo(f,r,a,c,u,l),t.x=f.x,t.y=f.y)}},s:function(i,n){const{parameters:e,position:t,previousCommand:o}=n;let r;("s"===o||"c"===o)&&(r=oa(oa(i.paths).segments).controlIn());for(let a=0;a<e.length;a+=4){let u,l=new Ie(e[a],e[a+1]),c=new Ie(e[a+2],e[a+3]);n.isRelative&&(l.translateWith(t),c.translateWith(t)),u=r?$ye(r,t):t.clone(),r=l,i.curveTo(u,l,c),t.x=c.x,t.y=c.y}},q:function(i,n){const{parameters:e,position:t}=n;for(let o=0;o<e.length;o+=4){let r=new Ie(e[o],e[o+1]),a=new Ie(e[o+2],e[o+3]);n.isRelative&&(r.translateWith(t),a.translateWith(t));let l=Wye(t,r,a);i.curveTo(l.controlOut,l.controlIn,a),t.x=a.x,t.y=a.y}},t:function(i,n){const{parameters:e,position:t,previousCommand:o}=n;let r;("q"===o||"t"===o)&&(r=oa(oa(i.paths).segments).controlIn().clone().translateWith(t.scaleCopy(-1/3)).scale(1.5));for(let a=0;a<e.length;a+=2){let l=new Ie(e[a],e[a+1]);n.isRelative&&l.translateWith(t),r=r?$ye(r,t):t.clone();let c=Wye(t,r,l);i.curveTo(c.controlOut,c.controlIn,l),t.x=l.x,t.y=l.y}}};function jye(i,n,e){const t=n?0:1;for(let o=0;o<i.length;o+=2)i.splice(o+t,0,e)}function $ye(i,n){if(i&&n)return n.scaleCopy(2).translate(-i.x,-i.y)}const Xye=1/3;function Wye(i,n,e){const t=n.clone().scale(.6666666666666666);return{controlOut:t.clone().translateWith(i.scaleCopy(Xye)),controlIn:t.translateWith(e.scaleCopy(Xye))}}const Kye=N_t,L_t=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,P_t=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g,z_t=(i,n)=>i.controlOut()&&n.controlIn()?"C":"L";class lt extends(ww(VR(R_))){get nodeType(){return"Path"}constructor(n){super(n),this.segments=new Tye,this.segments.addObserver(this),jt(this.options.stroke)||(this.stroke("#000"),jt(this.options.stroke.lineJoin)||this.options.set("stroke.lineJoin","miter"))}moveTo(n,e){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(n,e),this}lineTo(n,e){const t=jt(e)?new Ie(n,e):n,o=new Ga(t);return this.segments.push(o),this}curveTo(n,e,t){if(this.segments.length>0){const o=oa(this.segments),r=new Ga(t,e);this.suspend(),o.controlOut(n),this.resume(),this.segments.push(r)}return this}arc(n,e,t,o,r){if(this.segments.length>0){const l=oa(this.segments).anchor(),c=af(n),u=new Ie(l.x-t*Math.cos(c),l.y-o*Math.sin(c)),f=new O_(u,{startAngle:n,endAngle:e,radiusX:t,radiusY:o,anticlockwise:r});this._addArcSegments(f)}return this}arcTo(n,e,t,o,r,a){if(this.segments.length>0){const c=oa(this.segments).anchor(),u=O_.fromPoints(c,Ie.create(n),e,t,o,r,a);this._addArcSegments(u)}return this}_addArcSegments(n){this.suspend();const e=n.curvePoints();for(let t=1;t<e.length;t+=3)this.curveTo(e[t],e[t+1],e[t+2]);this.resume(),this.geometryChange()}close(){return this.options.closed=!0,this.geometryChange(),this}rawBBox(){return this._bbox()}toString(n){let e="";const t=this.segments,o=t.length;if(o>0){const r=[],a=(i=>(...n)=>n.map(e=>e.toString(i)).join(" "))(n);let l;for(let c=1;c<o;c++){let u=z_t(t[c-1],t[c]);u!==l&&(l=u,r.push(u)),r.push("L"===u?a(t[c].anchor()):a(t[c-1].controlOut(),t[c].controlIn(),t[c].anchor()))}e="M"+a(t[0].anchor())+" "+r.join(" "),this.options.closed&&(e+="Z")}return e}_containsPoint(n){const e=this.segments,t=e.length;let r,a,o=0;for(let l=1;l<t;l++)r=e[l-1],a=e[l],o+=r._intersectionsTo(a,n);return(this.options.closed||!e[0].anchor().equals(e[t-1].anchor()))&&(o+=xye(e[0].anchor(),e[t-1].anchor(),n)),o%2!=0}_isOnPath(n,e){const t=this.segments,o=t.length,r=e||this.options.stroke.width;if(o>1){if(t[0]._isOnPathTo(t[1],n,r,"start"))return!0;for(let a=2;a<=o-2;a++)if(t[a-1]._isOnPathTo(t[a],n,r))return!0;if(t[o-2]._isOnPathTo(t[o-1],n,r,"end"))return!0}return!1}_bbox(n){const e=this.segments,t=e.length;let o;if(1===t){let r=e[0].anchor().transformCopy(n);o=new yn(r,jC.ZERO)}else if(t>0)for(let r=1;r<t;r++){let a=e[r-1].bboxTo(e[r],n);o=o?yn.union(o,a):a}return o}static parse(n,e){return Lc.parse(n,e)}static fromRect(n,e){const t=new lt(e);let[o,r]=n.cornerRadius;if(0===o&&0===r)t.moveTo(n.topLeft()).lineTo(n.topRight()).lineTo(n.bottomRight()).lineTo(n.bottomLeft()).close();else{const a=n.origin,{x:l,y:c}=a,u=n.width(),f=n.height();o=d5(o,0,u/2),r=d5(r,0,f/2),t.moveTo(l+o,c).lineTo(l+u-o,c).arcTo([l+u,c+r],o,r,!1).lineTo(l+u,c+f-r).arcTo([l+u-o,c+f],o,r,!1).lineTo(l+o,c+f).arcTo([l,c+f-r],o,r,!1).lineTo(l,c+r).arcTo([l+o,c],o,r,!1)}return t}static fromPoints(n,e){if(n){const t=new lt(e);for(let o=0;o<n.length;o++){let r=Ie.create(n[o]);r&&(0===o?t.moveTo(r):t.lineTo(r))}return t}}static curveFromPoints(n,e){if(n){const t=function Pye(i,n){const e=i.slice(0),t=[];let o=e.length;if(o>2&&(Gye(0,e),o=e.length),o<2||2===o&&e[0].equals(e[1]))return t;let c,u,r=e[0],a=e[1],l=e[2];for(t.push(new Ga(r));r.equals(e[o-1]);)n=!0,e.pop(),o--;if(2===o){const _=BR(r,a,Pu,Gu);return oa(t).controlOut(gee(_,r,a,Pu,Gu)),t.push(new Ga(a,See(_,r,a,Pu,Gu))),t}if(n){r=e[o-1],a=e[0],l=e[1];const _=_ee(r,a,l);c=_[1],u=_[0]}else c=gee(BR(r,a,Pu,Gu),r,a,Pu,Gu);let f=c;for(let _=0;_<=o-3;_++)if(Gye(_,e),o=e.length,_+3<=o){r=e[_],a=e[_+1],l=e[_+2];const S=_ee(r,a,l);oa(t).controlOut(f),f=S[1],t.push(new Ga(a,S[0]))}if(n){r=e[o-2],a=e[o-1],l=e[0];const _=_ee(r,a,l);oa(t).controlOut(f),t.push(new Ga(a,_[0])),oa(t).controlOut(_[1]),t.push(new Ga(l,u))}else{const _=BR(a,l,Pu,Gu);oa(t).controlOut(f),t.push(new Ga(l,See(_,a,l,Pu,Gu)))}return t}(n),o=new lt(e);return o.segments.push.apply(o.segments,t),o}}static fromArc(n,e){const t=new lt(e),o=n.startAngle,r=n.pointAt(o);return t.moveTo(r.x,r.y),t.arc(o,n.endAngle,n.radiusX,n.radiusY,n.anticlockwise),t}}class Lc extends(ww(VR(R_))){static parse(n,e){return function F_t(i,n){const e=new Ie;let t;return n.replace(L_t,(o,r,a,l)=>{let c=r.toLowerCase();const u=c===r,f=function U_t(i){const n=[];return i.replace(P_t,function(e,t){n.push(parseFloat(t))}),n}(a.trim());if("m"===c&&(u?(e.x+=f[0],e.y+=f[1]):(e.x=f[0],e.y=f[1]),i.moveTo(e.x,e.y),f.length>2&&(c="l",f.splice(0,2))),Kye[c])Kye[c](i,{parameters:f,position:e,isRelative:u,previousCommand:t}),l&&"z"===l.toLowerCase()&&i.close();else if("m"!==c)throw new Error("Error while parsing SVG path. Unsupported command: "+c);t=c}),i}(new Lc(e),n)}toString(n){const e=this.paths;let t="";if(e.length>0){const o=[];for(let r=0;r<e.length;r++)o.push(e[r].toString(n));t=o.join(" ")}return t}get nodeType(){return"MultiPath"}constructor(n){super(n),this.paths=new Tye,this.paths.addObserver(this),jt(this.options.stroke)||this.stroke("#000")}moveTo(n,e){const t=new lt;return t.moveTo(n,e),this.paths.push(t),this}lineTo(n,e){return this.paths.length>0&&oa(this.paths).lineTo(n,e),this}curveTo(n,e,t){return this.paths.length>0&&oa(this.paths).curveTo(n,e,t),this}arc(n,e,t,o,r){return this.paths.length>0&&oa(this.paths).arc(n,e,t,o,r),this}arcTo(n,e,t,o,r,a){return this.paths.length>0&&oa(this.paths).arcTo(n,e,t,o,r,a),this}close(){return this.paths.length>0&&oa(this.paths).close(),this}_bbox(n){return IF(this.paths,!0,n)}rawBBox(){return IF(this.paths,!1)}_containsPoint(n){const e=this.paths;for(let t=0;t<e.length;t++)if(e[t]._containsPoint(n))return!0;return!1}_isOnPath(n){const e=this.paths,t=this.options.stroke.width;for(let o=0;o<e.length;o++)if(e[o]._isOnPath(n,t))return!0;return!1}_clippedBBox(n){return wye(this.paths,this.currentTransform(n))}}function H_t(i){const n="_"+i;return function(e){return jt(e)?(this._observerField(n,e),this.geometryChange(),this):this[n]}}const NF=(i,n=["geometry"])=>{const e=class extends i{};return function j_t(i,n){for(let e=0;e<n.length;e++)i[n[e]]=H_t(n[e])}(e.prototype,n),e};class $_t extends(NF(R_,["rect"])){get nodeType(){return"Image"}constructor(n,e=new yn,t={}){super(t),this.src(n),this.rect(e)}src(n){return jt(n)?(this.options.set("src",n),this):this.options.get("src")}bbox(n){const e=zC(this.currentTransform(n));return this._rect.bbox(e)}rawBBox(){return this._rect.bbox()}_containsPoint(n){return this._rect.containsPoint(n)}_hasFill(){return this.src()}}const vee=$_t,W_t=class X_t extends Oye{_change(){this.optionsChange({field:"stops"})}};function K_t(i){return function(n){return jt(n)?(this.options.set(i,n),this):this.options.get(i)}}const q_t=["offset","color","opacity"];class zR extends(((i,n)=>{const e=class extends i{};return function Y_t(i,n){for(let e=0;e<n.length;e++)i[n[e]]=K_t(n[e])}(e.prototype,n),e})(Ou,q_t)){constructor(n,e,t){super(),this.options=new Dye({offset:n,color:e,opacity:jt(t)?t:1}),this.options.addObserver(this)}static create(n){if(jt(n)){let e;return e=n instanceof zR?n:n.length>1?new zR(n[0],n[1],n[2]):new zR(n.offset,n.color,n.opacity),e}}}const Jye=zR,HR=class Q_t extends Ou{get nodeType(){return"Gradient"}constructor(n={}){super(),this.stops=new W_t(this._createStops(n.stops)),this.stops.addObserver(this),this._userSpace=n.userSpace,this.id=pee()}userSpace(n){return jt(n)?(this._userSpace=n,this.optionsChange(),this):this._userSpace}_createStops(n=[]){const e=[];for(let t=0;t<n.length;t++)e.push(Jye.create(n[t]));return e}addStop(n,e,t){this.stops.push(new Jye(n,e,t))}removeStop(n){const e=this.stops.indexOf(n);e>=0&&this.stops.splice(e,1)}optionsChange(n){this.trigger("optionsChange",{field:"gradient"+(n?"."+n.field:""),value:this})}geometryChange(){this.optionsChange()}},Z_t=["start","end"];class egt extends(MF(HR,Z_t)){constructor(n={}){super(n),this.start(n.start||new Ie),this.end(n.end||new Ie(1,0))}}const LF=egt;ww(VR(NF(R_)));class sgt extends(ww(VR(NF(R_)))){get nodeType(){return"Circle"}constructor(n=new ul,e={}){super(e),this.geometry(n),jt(this.options.stroke)||this.stroke("#000")}rawBBox(){return this._geometry.bbox()}_bbox(n){return this._geometry.bbox(n)}_containsPoint(n){return this.geometry().containsPoint(n)}_isOnPath(n){return this.geometry()._isOnPath(n,this.options.stroke.width/2)}}const Ad=sgt;var Dn={};Dn._root=Dn,typeof Element<"u"&&Element.prototype&&Element,typeof window<"u"&&window.kendo&&window;class Igt extends(MF(HR,["center"])){constructor(n={}){super(n),this.center(n.center||new Ie),this._radius=jt(n.radius)?n.radius:1,this._fallbackFill=n.fallbackFill}radius(n){return jt(n)?(this._radius=n,this.geometryChange(),this):this._radius}fallbackFill(n){return jt(n)?(this._fallbackFill=n,this.optionsChange(),this):this._fallbackFill}}const FF=Igt;const DDe=()=>document.createElement("a"),Wgt=()=>"download"in DDe();function Kgt(i,n){let e=i;if("string"==typeof i){const t=i.split(";base64,"),o=t[0],r=atob(t[1]),a=new Uint8Array(r.length);for(let l=0;l<r.length;l++)a[l]=r.charCodeAt(l);e=new Blob([a.buffer],{type:o})}navigator.msSaveBlob(e,n)}function Ygt(i,n){let e=i;window.Blob&&i instanceof Blob&&(e=URL.createObjectURL(i));const t=DDe();t.download=n,t.href=e;const o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(o),setTimeout(()=>URL.revokeObjectURL(e))}function Jgt(i,n,e){if(!e.proxyURL)return;const t=document.createElement("form");t.setAttribute("action",e.proxyURL),t.setAttribute("method","POST"),t.setAttribute("target",e.proxyTarget||"_self");const o=e.proxyData||{};o.fileName=n;const r=i.split(";base64,");o.contentType=r[0].replace("data:",""),o.base64=r[1];for(let a in o)if(o.hasOwnProperty(a)){const l=document.createElement("input");l.setAttribute("type","hidden"),l.setAttribute("name",a),l.setAttribute("value",o[a]),t.appendChild(l)}document.body.appendChild(t),t.submit(),document.body.removeChild(t)}let t1t=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({}),i})(),ODe={toString:i=>i};function Zs(i,n){let e="";if(null!=i)if(Array.isArray(i))for(let t=0;t<i.length;++t)e+=n(i[t],t);else"object"==typeof i&&Object.keys(i).forEach((t,o)=>{e+=n(i[t],t,o)});return e}!function QDe(i,n,e){return(1461*(i+4800+((n-13)/12|0))/4|0)+(367*(n-1-12*((n-13)/12|0))/12|0)-(3*((i+4900+((n-13)/12|0))/100|0)/4|0)+e-32075}(1900,0,-1),JSON.parse.bind(JSON);const PSt=({logic:i,criteria:n})=>`\n<customFilters ${"and"===i?'and="1"':""}>\n${Zs(n,e=>{let t=I0.customOperator(e);return`<customFilter ${t?`operator="${t}"`:""} val="${I0.customValue(e)}"/>`})}\n</customFilters>`,GSt=({type:i})=>`<dynamicFilter type="${I0.dynamicFilterType(i)}" />`,USt=({type:i,value:n})=>`<top10 percent="${/percent$/i.test(i)?1:0}"\n       top="${/^top/i.test(i)?1:0}"\n       val="${n}" />`,FSt=({blanks:i,values:n})=>`<filters ${i?'blank="1"':""}>\n    ${Zs(n,e=>`\n      <filter val="${e}" />`)}\n  </filters>`;function I0(i){return(({ref:i,columns:n,generators:e})=>`\n<autoFilter ref="${i}">\n  ${Zs(n,t=>`\n    <filterColumn colId="${t.index}">\n      ${e[t.filter](t)}\n    </filterColumn>\n  `)}\n</autoFilter>`)({ref:i.ref,columns:i.columns,generators:{custom:PSt,dynamic:GSt,top:USt,value:FSt}})}I0.customOperator=function(i){return{eq:"equal",gt:"greaterThan",gte:"greaterThanOrEqual",lt:"lessThan",lte:"lessThanOrEqual",ne:"notEqual",doesnotstartwith:"notEqual",doesnotendwith:"notEqual",doesnotcontain:"notEqual",doesnotmatch:"notEqual"}[i.operator.toLowerCase()]},I0.customValue=function(i){function n(e){return e.replace(/([*?])/g,"~$1")}switch(i.operator.toLowerCase()){case"startswith":case"doesnotstartwith":return n(i.value)+"*";case"endswith":case"doesnotendwith":return"*"+n(i.value);case"contains":case"doesnotcontain":return"*"+n(i.value)+"*";default:return i.value}},I0.dynamicFilterType=function(i){return{quarter1:"Q1",quarter2:"Q2",quarter3:"Q3",quarter4:"Q4",january:"M1",february:"M2",march:"M3",april:"M4",may:"M5",june:"M6",july:"M7",august:"M8",september:"M9",october:"M10",november:"M11",december:"M12"}[i.toLowerCase()]||i};var VSt=_e(910);(class n1t{static register(n){ODe=n}static toString(n,e){return ODe.toString(n,e)}}).register({toString:VSt.dI});let YSt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({}),i})();function JSt(i,n){}function qSt(i,n){if(1&i&&s.DNE(0,JSt,0,0,"ng-template",1),2&i){const e=s.XpG();s.Y8G("ngTemplateOutlet",e.toolbarTemplateRef)("ngTemplateOutletContext",e.context)}}const QSt=["select"],ZSt=["numbers"],evt=(i,n)=>({"k-picker-sm":i,"k-picker-md":n}),tvt=i=>({"k-selected":i});function nvt(i,n){if(1&i&&(s.j41(0,"option",10),s.EFF(1,"... "),s.k0s()),2&i){const e=s.XpG();s.Y8G("selected",!1),s.BMQ("aria-label",e.pageLabel(e.start-1))}}function ivt(i,n){if(1&i&&(s.j41(0,"option",11),s.EFF(1),s.k0s()),2&i){const e=n.$implicit,t=s.XpG();s.Y8G("value",e.toString())("selected",e===t.currentPage)("ngClass",s.eq3(6,tvt,t.currentPage===e)),s.BMQ("aria-label",t.pageLabel(e))("aria-current",t.currentPage===e?"page":void 0),s.R7$(),s.SpI(" ",e," ")}}function svt(i,n){if(1&i&&(s.j41(0,"option",12),s.EFF(1,"... "),s.k0s()),2&i){const e=s.XpG();s.Y8G("selected",!1),s.BMQ("aria-label",e.pageLabel(e.end+1))}}function ovt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",13),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.changePage(o.start-2))}),s.EFF(1,"..."),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("size",e.size),s.BMQ("aria-label",e.pageLabel(e.start-1))("title",e.pageLabel(e.start-1))}}function rvt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",14),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.changePage(o-1))}),s.EFF(1),s.k0s()}if(2&i){const e=n.$implicit,t=s.XpG();s.Y8G("size",t.size)("selected",t.currentPage===e),s.BMQ("aria-label",t.pageLabel(e))("title",t.pageLabel(e))("aria-current",t.currentPage===e?"page":void 0),s.R7$(),s.SpI(" ",e," ")}}function avt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",13),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.changePage(o.end))}),s.EFF(1,"..."),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("size",e.size),s.BMQ("aria-label",e.pageLabel(e.end+1))("title",e.pageLabel(e.end+1))}}const lvt=(i,n)=>({keydown:i,focusout:n});function cvt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",4),s.bIt("focusin",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onInnerFocusIn(o,"start"))}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("tabindex",e.focusTrapTabIndex),s.BMQ("aria-hidden",!0)}}function dvt(i,n){if(1&i&&s.eu8(0,5),2&i){const e=s.XpG();s.Y8G("ngTemplateOutlet",e.template.templateRef)("ngTemplateOutletContext",e.templateContext)}}function uvt(i,n){if(1&i&&s.nrm(0,"kendo-pager-prev-buttons",10),2&i){const e=s.XpG(2);s.Y8G("size",e.size)}}function hvt(i,n){if(1&i&&s.nrm(0,"kendo-pager-numeric-buttons",11),2&i){const e=s.XpG(2);s.Y8G("size",e.size)("buttonCount",e.settings.buttonCount)}}function pvt(i,n){if(1&i&&s.nrm(0,"kendo-pager-input",10),2&i){const e=s.XpG(2);s.Y8G("size",e.size)}}function fvt(i,n){if(1&i&&s.nrm(0,"kendo-pager-next-buttons",10),2&i){const e=s.XpG(2);s.Y8G("size",e.size)}}function mvt(i,n){1&i&&s.nrm(0,"kendo-pager-info")}function _vt(i,n){if(1&i&&s.nrm(0,"kendo-pager-page-sizes",12),2&i){const e=s.XpG(2);s.Y8G("size",e.size)("pageSizes",e.settings.pageSizes)}}function gvt(i,n){if(1&i&&(s.qex(0),s.j41(1,"div",6),s.DNE(2,uvt,1,1,"kendo-pager-prev-buttons",7)(3,hvt,1,2,"kendo-pager-numeric-buttons",8)(4,pvt,1,1,"kendo-pager-input",7)(5,fvt,1,1,"kendo-pager-next-buttons",7),s.k0s(),s.DNE(6,mvt,1,0,"kendo-pager-info",2)(7,_vt,1,2,"kendo-pager-page-sizes",9),s.bVm()),2&i){const e=s.XpG();s.R7$(2),s.Y8G("ngIf",e.settings.previousNext),s.R7$(),s.Y8G("ngIf","numeric"===e.settings.type),s.R7$(),s.Y8G("ngIf","input"===e.settings.type),s.R7$(),s.Y8G("ngIf",e.settings.previousNext),s.R7$(),s.Y8G("ngIf",e.settings.info),s.R7$(),s.Y8G("ngIf",e.settings.pageSizes)}}function Svt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",4),s.bIt("focusin",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onInnerFocusIn(o,"end"))}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("tabindex",e.focusTrapTabIndex),s.BMQ("aria-hidden",!0)}}function vvt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-resize-sensor",13),s.bIt("resize",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.resizeHandler())}),s.k0s()}}const gwe=["defaultTemplate"],Swe=()=>({lastTarget:!0}),Cvt=(i,n,e)=>({field:i,type:"groupIndicator",hint:n,target:e}),bvt=(i,n)=>({keydown:i,click:n});function Evt(i,n){if(1&i&&(s.j41(0,"div",4),s.EFF(1),s.k0s()),2&i){const e=s.XpG();s.Y8G("context",s.lJ4(2,Swe)),s.R7$(),s.SpI(" ",e.text," ")}}function yvt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-chip",7,1),s.bIt("contentClick",function(){const o=s.eBV(e).$implicit,r=s.XpG(2);return s.Njj(r.directionChange(o))})("remove",function(){const o=s.eBV(e).$implicit,r=s.XpG(2);return s.Njj(r.remove(o))})("menuToggle",function(){const o=s.eBV(e),r=o.$implicit,a=o.first,l=o.last,c=s.sdS(1),u=s.XpG(2);return s.Njj(u.toggleMenu(c,a,l,r.field))})("keydown.alt.arrowdown",function(o){const r=s.eBV(e),a=r.$implicit,l=r.first,c=r.last,u=s.sdS(1),f=s.XpG(2);return o.preventDefault(),s.Njj(f.toggleMenu(u,l,c,a.field))}),s.k0s()}if(2&i){const e=n.$implicit,t=n.index,o=s.sdS(1),r=s.XpG(2);s.Y8G("title",r.getTitle(e))("enableDrag",!0)("context",s.sMw(11,Cvt,e.field,r.groupTitles[t],o))("label",r.groupTitles[t])("removable",!0)("hasMenu",!0)("icon",r.getDirectionIcon(e))("svgIcon",r.getDirectionSvgIcon(e)),s.BMQ("aria-haspopup","menu")("aria-expanded",r.isChipMenuOpen)("aria-controls",r.gridId)}}function Dvt(i,n){if(1&i&&(s.j41(0,"kendo-chiplist",5),s.DNE(1,yvt,2,15,"kendo-chip",6),s.k0s()),2&i){const e=s.XpG();s.Y8G("navigable",e.navigable),s.R7$(),s.Y8G("ngForOf",e.groups)}}function wvt(i,n){1&i&&(s.j41(0,"div",4),s.EFF(1,"\xa0"),s.k0s()),2&i&&s.Y8G("context",s.lJ4(1,Swe))}function kvt(i,n){if(1&i&&(s.j41(0,"ul",8)(1,"li",9)(2,"span",10),s.nrm(3,"kendo-icon-wrapper",11),s.j41(4,"span",12),s.EFF(5),s.k0s()()(),s.j41(6,"li",9)(7,"span",10),s.nrm(8,"kendo-icon-wrapper",11),s.j41(9,"span",12),s.EFF(10),s.k0s()()()()),2&i){const e=s.XpG();s.Y8G("kendoEventsOutsideAngular",s.l_i(13,bvt,e.handleKeyDown,e.handleClick)),s.R7$(),s.BMQ("aria-disabled",e.first),s.R7$(),s.AVh("k-disabled",e.first),s.R7$(),s.Y8G("name",e.rtl?"arrow-right":"arrow-left")("svgIcon",e.rtl?e.arrowRightIcon:e.arrowLeftIcon),s.R7$(2),s.JRh(e.messageFor("groupChipMenuPrevious")),s.R7$(),s.BMQ("aria-disabled",e.last),s.R7$(),s.AVh("k-disabled",e.last),s.R7$(),s.Y8G("name",e.rtl?"arrow-left":"arrow-right")("svgIcon",e.rtl?e.arrowLeftIcon:e.arrowRightIcon),s.R7$(2),s.JRh(e.messageFor("groupChipMenuNext"))}}const Ovt=["kendoGridColGroup",""];function Tvt(i,n){1&i&&s.nrm(0,"col"),2&i&&s.AVh("k-group-col",!0)}function Mvt(i,n){1&i&&s.nrm(0,"col"),2&i&&s.AVh("k-hierarchy-col",!0)}function Ivt(i,n){if(1&i&&s.nrm(0,"col"),2&i){const e=n.$implicit,t=s.XpG();s.xc7("width",e.width,"px"),s.AVh("k-sorted",t.isSorted(t.getColumnComponent(e)))}}const Rf=["*"];function Rvt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-dropdownlist",3),s.bIt("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.logicChange(o))}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("filterMenuDropDownLabel",e.filterMenuDropDownLabel)("data",e.logicOperators)("valuePrimitive",!0)("value",null==e.filter?null:e.filter.logic)}}function Avt(i,n){if(1&i&&s.nrm(0,"kendo-grid-string-filter-menu-input",4),2&i){const e=s.XpG();s.Y8G("operators",e.operators)("currentFilter",e.secondFilter)("filterService",e.filterService)("column",e.column)("filter",e.filter)("menuTabbingService",e.menuTabbingService)}}function xvt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-dropdownlist",3),s.bIt("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.logicChange(o))}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("filterMenuDropDownLabel",e.filterMenuDropDownLabel)("data",e.logicOperators)("valuePrimitive",!0)("value",null==e.filter?null:e.filter.logic)}}function Nvt(i,n){if(1&i&&s.nrm(0,"kendo-grid-numeric-filter-menu-input",4),2&i){const e=s.XpG();s.Y8G("operators",e.operators)("currentFilter",e.secondFilter)("filterService",e.filterService)("column",e.column)("filter",e.filter)("format",e.format)("decimals",e.decimals)("spinners",e.spinners)("min",e.min)("max",e.max)("step",e.step)("menuTabbingService",e.menuTabbingService)}}function Lvt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-dropdownlist",3),s.bIt("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.logicChange(o))}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("filterMenuDropDownLabel",e.filterMenuDropDownLabel)("data",e.logicOperators)("valuePrimitive",!0)("value",null==e.filter?null:e.filter.logic)}}function Pvt(i,n){if(1&i&&s.nrm(0,"kendo-grid-date-filter-menu-input",4),2&i){const e=s.XpG();s.Y8G("operators",e.operators)("currentFilter",e.secondFilter)("filterService",e.filterService)("column",e.column)("filter",e.filter)("activeView",e.activeView)("bottomView",e.bottomView)("topView",e.topView)("format",e.format)("formatPlaceholder",e.formatPlaceholder)("placeholder",e.placeholder)("min",e.min)("max",e.max)("weekNumber",e.weekNumber)("menuTabbingService",e.menuTabbingService)}}function Gvt(i,n){if(1&i){const e=s.RV6();s.j41(0,"li")(1,"input",3,0),s.bIt("change",function(){const o=s.eBV(e).$implicit,r=s.sdS(2),a=s.XpG();return s.Njj(a.onChange(o.value,r))})("keydown.shift.tab",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onShiftTab(o))}),s.k0s(),s.j41(3,"label",4),s.EFF(4),s.k0s()()}if(2&i){const e=n.$implicit,t=s.XpG();s.R7$(),s.Y8G("columnLabel",t.columnLabel)("name",t.idPrefix)("checked",t.isSelected(e.value)),s.BMQ("id",t.radioId(e.value)),s.R7$(2),s.BMQ("for",t.radioId(e.value)),s.R7$(),s.JRh(e.text)}}const vwe=["resetButton"],Uvt=["filterButton"];function Fvt(i,n){if(1&i&&(s.qex(0),s.eu8(1,9),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.Y8G("filterService",e.childService)("column",e.column)("filter",e.childFilter)("menuTabbingService",e.menuTabbingService)}}function Bvt(i,n){}function Vvt(i,n){if(1&i&&s.DNE(0,Bvt,0,0,"ng-template",11),2&i){const e=s.XpG(2);s.Y8G("ngTemplateOutlet",e.column.filterMenuTemplateRef)("ngTemplateOutletContext",e.templateContext)}}function zvt(i,n){if(1&i&&(s.qex(0),s.DNE(1,Vvt,1,2,null,10),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngIf",e.column.filterMenuTemplateRef)}}const Jee=["anchor"],Cwe=["template"];function Hvt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-grid-filter-menu-container",4),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.close())})("keydown.escape",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.close())})("keydown.enter",function(o){return s.eBV(e),s.Njj(o.stopImmediatePropagation())}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("column",e.column)("filter",e.filter)}}function jvt(i,n){if(1&i&&(s.j41(0,"div",3),s.eu8(1,4),s.nrm(2,"div"),s.k0s()),2&i){const e=s.XpG();s.xc7("overflow","hidden"),s.Y8G("@state",e.contentState),s.BMQ("id",e.contentId),s.R7$(),s.Y8G("ngTemplateOutlet",e.contentTemplate.templateRef)}}function $vt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-grid-columnmenu-lock",3),s.bIt("keydown.tab",function(o){s.eBV(e);const r=s.XpG(2);return s.Njj(r.onTab(o,!r.showStick))}),s.k0s()}if(2&i){const e=s.XpG(2);s.Y8G("service",e.service)}}function Xvt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-grid-columnmenu-stick",3),s.bIt("keydown.tab",function(o){s.eBV(e);const r=s.XpG(2);return s.Njj(r.onTab(o,!0))}),s.k0s()}if(2&i){const e=s.XpG(2);s.Y8G("service",e.service)}}function Wvt(i,n){if(1&i&&s.DNE(0,$vt,1,1,"kendo-grid-columnmenu-lock",2)(1,Xvt,1,1,"kendo-grid-columnmenu-stick",2),2&i){const e=s.XpG();s.Y8G("ngIf",e.showLock),s.R7$(),s.Y8G("ngIf",e.showStick)}}const Kvt=["applyButton"];function Yvt(i,n){if(1&i&&(s.j41(0,"label",5),s.nrm(1,"input",6),s.j41(2,"span",7),s.EFF(3),s.k0s()()),2&i){const e=n.$implicit,t=n.index,o=s.XpG();s.Y8G("kendoColumnMenuChooserItemChecked",!e.hidden),s.R7$(),s.Y8G("checked",!e.hidden)("disabled",o.isDisabled(e)),s.BMQ("data-index",t)("aria-hidden",!0),s.R7$(2),s.JRh(e.displayTitle)}}function Jvt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",8)(1,"button",9,0),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.applyChanges())})("keydown.enter",function(o){s.eBV(e);const r=s.XpG();return o.preventDefault(),s.Njj(r.applyChanges())})("keydown.space",function(o){s.eBV(e);const r=s.XpG();return o.preventDefault(),s.Njj(r.applyChanges())}),s.EFF(3),s.k0s(),s.j41(4,"button",10,1),s.bIt("keydown.tab",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onTab(o))})("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.cancelChanges())})("keydown.enter",function(o){s.eBV(e);const r=s.XpG();return o.preventDefault(),s.Njj(r.cancelChanges())})("keydown.space",function(o){s.eBV(e);const r=s.XpG();return o.preventDefault(),s.Njj(r.cancelChanges())}),s.EFF(6),s.k0s()()}if(2&i){const e=s.XpG();s.Y8G("ngClass",e.actionsClass),s.R7$(3),s.JRh(e.applyText),s.R7$(3),s.JRh(e.resetText)}}function qvt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-grid-columnlist",2),s.bIt("apply",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onApply(o))}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("applyText",e.ctx.localization.get("columnsApply"))("resetText",e.ctx.localization.get("columnsReset"))("ariaLabel",e.ctx.localization.get("columns"))("columns",e.columns)("autoSync",!1)("allowHideAll",!1)("actionsClass",e.actionsClass)("isLast",e.isLast)("isExpanded",e.expanded)("service",e.service)}}function Qvt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-grid-filter-menu-container",2),s.bIt("keydown.shift.tab",function(o){return s.eBV(e),s.Njj(o.stopImmediatePropagation())})("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.close())}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("column",e.service.column)("menuTabbingService",e.service.menuTabbingService)("filter",e.service.filter)("actionsClass",e.actionsClass)("isLast",e.isLast)("isExpanded",e.expanded)}}function Zvt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-grid-columnmenu-item",1),s.bIt("itemClick",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.autoSizeColumn())}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("text",e.ctx.localization.get("autosizeThisColumn"))("svgIcon",e.maxWidthIcon)}}function e2t(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-grid-columnmenu-item",1),s.bIt("itemClick",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.autoSizeAllColumns())}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("text",e.ctx.localization.get("autosizeAllColumns"))("svgIcon",e.displayInlineFlexIcon)}}const t2t=["tabbedInterfaceTemplate"],n2t=i=>({"k-active":i}),i2t=(i,n)=>({service:i,column:n});function s2t(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-grid-columnmenu-container",15),s.bIt("keydown.escape",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.close(!0))})("keydown.enter",function(o){return s.eBV(e),s.Njj(o.stopImmediatePropagation())}),s.eu8(1,16),s.k0s()}if(2&i){const e=s.XpG(),t=s.sdS(6),o=s.sdS(8);s.R7$(),s.Y8G("ngTemplateOutlet",e.column.columnMenuTemplateRef||e.columnMenuTemplate||("tabbed"===e.settings.view?o:t))("ngTemplateOutletContext",s.l_i(2,i2t,e.service,e.column))}}function o2t(i,n){if(1&i&&s.nrm(0,"kendo-grid-columnmenu-sort",23,4),2&i){const e=s.sdS(1),t=s.XpG(2);s.Y8G("kendoGridColumnMenuItem",e)("service",t.service)}}function r2t(i,n){if(1&i&&s.nrm(0,"kendo-grid-columnmenu-lock",23,5),2&i){const e=s.sdS(1),t=s.XpG(2);s.Y8G("kendoGridColumnMenuItem",e)("service",t.service)}}function a2t(i,n){if(1&i&&s.nrm(0,"kendo-grid-columnmenu-stick",23,6),2&i){const e=s.sdS(1),t=s.XpG(2);s.Y8G("kendoGridColumnMenuItem",e)("service",t.service)}}function l2t(i,n){if(1&i&&s.nrm(0,"kendo-grid-columnmenu-position",24,7),2&i){const e=s.sdS(1),t=s.XpG(2);s.Y8G("showLock",t.hasLock)("showStick",t.hasStick)("kendoGridColumnMenuItem",e)("service",t.service)("expanded",t.expandedPosition)}}function c2t(i,n){1&i&&s.nrm(0,"span",25),2&i&&s.xc7("border-color","rgba(0, 0, 0, 0.08)")}function d2t(i,n){if(1&i&&s.nrm(0,"kendo-grid-columnmenu-chooser",26,8),2&i){const e=s.sdS(1),t=s.XpG(2);s.Y8G("kendoGridColumnMenuItem",e)("service",t.service)("expanded",t.expandedColumns)}}function u2t(i,n){if(1&i&&s.nrm(0,"kendo-grid-columnmenu-autosize-column",27,9),2&i){const e=s.sdS(1),t=s.XpG(2);s.Y8G("service",t.service)("kendoGridColumnMenuItem",e)("column",t.column)}}function h2t(i,n){if(1&i&&s.nrm(0,"kendo-grid-columnmenu-autosize-all-columns",28,10),2&i){const e=s.sdS(1),t=s.XpG(2);s.Y8G("service",t.service)("kendoGridColumnMenuItem",e)}}function p2t(i,n){1&i&&s.nrm(0,"span",25),2&i&&s.xc7("border-color","rgba(0, 0, 0, 0.08)")}function f2t(i,n){if(1&i&&s.nrm(0,"kendo-grid-columnmenu-filter",26,11),2&i){const e=s.sdS(1),t=s.XpG(2);s.Y8G("kendoGridColumnMenuItem",e)("service",t.service)("expanded",t.expandedFilter)}}function m2t(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-grid-columnmenu-container",15),s.bIt("keydown.escape",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.close(!0))})("keydown.enter",function(o){return s.eBV(e),s.Njj(o.stopImmediatePropagation())}),s.DNE(1,o2t,2,2,"kendo-grid-columnmenu-sort",17)(2,r2t,2,2,"kendo-grid-columnmenu-lock",17)(3,a2t,2,2,"kendo-grid-columnmenu-stick",17)(4,l2t,2,5,"kendo-grid-columnmenu-position",18)(5,c2t,1,2,"span",19)(6,d2t,2,3,"kendo-grid-columnmenu-chooser",20)(7,u2t,2,3,"kendo-grid-columnmenu-autosize-column",21)(8,h2t,2,2,"kendo-grid-columnmenu-autosize-all-columns",22)(9,p2t,1,2,"span",19)(10,f2t,2,3,"kendo-grid-columnmenu-filter",20),s.k0s()}if(2&i){const e=s.XpG();s.R7$(),s.Y8G("ngIf",e.hasSort),s.R7$(),s.Y8G("ngIf",e.hasLock&&!e.hasPosition),s.R7$(),s.Y8G("ngIf",e.hasStick&&!e.hasPosition),s.R7$(),s.Y8G("ngIf",e.hasPosition),s.R7$(),s.Y8G("ngIf",e.hasColumnChooser||e.hasAutoSizeColumn||e.hasAutoSizeAllColumns),s.R7$(),s.Y8G("ngIf",e.hasColumnChooser),s.R7$(),s.Y8G("ngIf",e.hasAutoSizeColumn),s.R7$(),s.Y8G("ngIf",e.hasAutoSizeAllColumns),s.R7$(),s.Y8G("ngIf",e.hasColumnChooser||e.hasAutoSizeColumn||e.hasAutoSizeAllColumns),s.R7$(),s.Y8G("ngIf",e.hasFilter)}}function _2t(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",33),2&i){const e=s.XpG(3);s.Y8G("svgIcon",e.filterIcon),s.BMQ("title",e.ctx.localization.get("columnMenuFilterTabTitle"))}}function g2t(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-grid-filter-menu-container",34),s.bIt("keydown.shift.tab",function(o){return s.eBV(e),s.Njj(o.stopImmediatePropagation())})("close",function(){s.eBV(e);const o=s.XpG(3);return s.Njj(o.close())}),s.k0s()}if(2&i){const e=s.XpG(3);s.Y8G("column",e.service.column)("menuTabbingService",e.service.menuTabbingService)("filter",e.service.filter)("actionsClass",e.actionsClass)}}function S2t(i,n){1&i&&(s.j41(0,"kendo-tabstrip-tab"),s.DNE(1,_2t,1,2,"ng-template",31)(2,g2t,1,4,"ng-template",32),s.k0s())}function v2t(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",35),2&i){const e=s.XpG(3);s.Y8G("svgIcon",e.slidersIcon),s.BMQ("title",e.ctx.localization.get("columnMenuGeneralTabTitle"))}}function C2t(i,n){if(1&i&&s.nrm(0,"kendo-grid-columnmenu-sort",23,4),2&i){const e=s.sdS(1),t=s.XpG(4);s.Y8G("kendoGridColumnMenuItem",e)("service",t.service)}}function b2t(i,n){1&i&&s.nrm(0,"span",25),2&i&&s.xc7("border-color","rgba(0, 0, 0, 0.08)")}function E2t(i,n){if(1&i&&s.nrm(0,"kendo-grid-columnmenu-lock",23,5),2&i){const e=s.sdS(1),t=s.XpG(4);s.Y8G("kendoGridColumnMenuItem",e)("service",t.service)}}function y2t(i,n){if(1&i&&s.nrm(0,"kendo-grid-columnmenu-stick",23,6),2&i){const e=s.sdS(1),t=s.XpG(4);s.Y8G("kendoGridColumnMenuItem",e)("service",t.service)}}function D2t(i,n){1&i&&s.nrm(0,"span",25),2&i&&s.xc7("border-color","rgba(0, 0, 0, 0.08)")}function w2t(i,n){if(1&i&&s.nrm(0,"kendo-grid-columnmenu-position",24,7),2&i){const e=s.sdS(1),t=s.XpG(4);s.Y8G("showLock",t.hasLock)("showStick",t.hasStick)("kendoGridColumnMenuItem",e)("service",t.service)("expanded",t.expandedPosition)}}function k2t(i,n){1&i&&s.nrm(0,"span",25),2&i&&s.xc7("border-color","rgba(0, 0, 0, 0.08)")}function O2t(i,n){if(1&i&&s.nrm(0,"kendo-grid-columnmenu-autosize-column",27,9),2&i){const e=s.sdS(1),t=s.XpG(4);s.Y8G("service",t.service)("kendoGridColumnMenuItem",e)("column",t.column)}}function T2t(i,n){if(1&i&&s.nrm(0,"kendo-grid-columnmenu-autosize-all-columns",28,10),2&i){const e=s.sdS(1),t=s.XpG(4);s.Y8G("service",t.service)("kendoGridColumnMenuItem",e)}}function M2t(i,n){if(1&i&&s.DNE(0,C2t,2,2,"kendo-grid-columnmenu-sort",17)(1,b2t,1,2,"span",19)(2,E2t,2,2,"kendo-grid-columnmenu-lock",17)(3,y2t,2,2,"kendo-grid-columnmenu-stick",17)(4,D2t,1,2,"span",19)(5,w2t,2,5,"kendo-grid-columnmenu-position",18)(6,k2t,1,2,"span",19)(7,O2t,2,3,"kendo-grid-columnmenu-autosize-column",21)(8,T2t,2,2,"kendo-grid-columnmenu-autosize-all-columns",22),2&i){const e=s.XpG(3);s.Y8G("ngIf",e.hasSort),s.R7$(),s.Y8G("ngIf",e.hasSort&&(e.hasLock||e.hasStick||e.hasPosition||e.hasAutoSizeColumn||e.hasAutoSizeAllColumns)),s.R7$(),s.Y8G("ngIf",e.hasLock&&!e.hasPosition),s.R7$(),s.Y8G("ngIf",e.hasStick&&!e.hasPosition),s.R7$(),s.Y8G("ngIf",(e.hasLock||e.hasStick)&&!e.hasPosition&&(e.hasAutoSizeColumn||e.hasAutoSizeAllColumns)),s.R7$(),s.Y8G("ngIf",e.hasPosition),s.R7$(),s.Y8G("ngIf",e.hasPosition&&(e.hasAutoSizeColumn||e.hasAutoSizeAllColumns)),s.R7$(),s.Y8G("ngIf",e.hasAutoSizeColumn),s.R7$(),s.Y8G("ngIf",e.hasAutoSizeAllColumns)}}function I2t(i,n){1&i&&(s.j41(0,"kendo-tabstrip-tab"),s.DNE(1,v2t,1,2,"ng-template",31)(2,M2t,9,9,"ng-template",32),s.k0s())}function R2t(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",36),2&i){const e=s.XpG(3);s.Y8G("svgIcon",e.columnsIcon),s.BMQ("title",e.ctx.localization.get("columnMenuColumnsTabTitle"))}}function A2t(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-grid-columnlist",37),s.bIt("apply",function(o){s.eBV(e);const r=s.XpG(3);return s.Njj(r.onApply(o))}),s.k0s()}if(2&i){const e=s.XpG(3);s.Y8G("applyText",e.ctx.localization.get("columnsApply"))("resetText",e.ctx.localization.get("columnsReset"))("columns",e.columns)("autoSync",!1)("allowHideAll",!1)("actionsClass",e.actionsClass)("service",e.service)}}function x2t(i,n){1&i&&(s.j41(0,"kendo-tabstrip-tab"),s.DNE(1,R2t,1,2,"ng-template",31)(2,A2t,1,7,"ng-template",32),s.k0s())}function N2t(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-tabstrip",29,12),s.bIt("keydown.escape",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.close(!0))}),s.DNE(2,S2t,3,0,"kendo-tabstrip-tab",30)(3,I2t,3,0,"kendo-tabstrip-tab",30)(4,x2t,3,0,"kendo-tabstrip-tab",30),s.k0s()}if(2&i){const e=s.XpG();s.R7$(2),s.Y8G("ngIf",e.hasFilter),s.R7$(),s.Y8G("ngIf",e.showGeneralTab),s.R7$(),s.Y8G("ngIf",e.hasColumnChooser)}}const L2t=["dropdown"],bwe=()=>({width:"auto"});function P2t(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-dropdownlist",3,0),s.bIt("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onChange(o))})("keydown",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.dropdownKeydown(o))}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("data",e.operators)("value",e.value)("svgIcon",e.filterSVGIcon)("valuePrimitive",!0)("popupSettings",s.lJ4(7,bwe))("size",e.size),s.BMQ("aria-label",e.column&&e.columnLabel)}}function G2t(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",4),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.clearClick())})("keydown",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.clearKeydown(o))}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("svgIcon",e.filterClearIcon)("title",e.clearText)("size",e.size)}}const U2t=["kendoGridFilterCell",""];function F2t(i,n){if(1&i&&(s.qex(0),s.eu8(1,3),s.bVm()),2&i){const e=s.XpG(2);s.R7$(),s.Y8G("column",e.column)("filter",e.filter)}}function B2t(i,n){}function V2t(i,n){if(1&i&&s.DNE(0,B2t,0,0,"ng-template",4),2&i){const e=s.XpG(3);s.Y8G("ngTemplateOutlet",e.column.filterCellTemplateRef)("ngTemplateOutletContext",e.templateContext)}}function z2t(i,n){if(1&i&&(s.qex(0),s.DNE(1,V2t,1,2,null,0),s.bVm()),2&i){const e=s.XpG(2);s.R7$(),s.Y8G("ngIf",e.column.filterCellTemplateRef)}}function H2t(i,n){if(1&i&&(s.qex(0)(1,1),s.DNE(2,F2t,2,2,"ng-container",2)(3,z2t,2,1,"ng-container",2),s.bVm()()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngSwitch",e.hasTemplate),s.R7$(),s.Y8G("ngSwitchCase",!1),s.R7$(),s.Y8G("ngSwitchCase",!0)}}const j2t=["kendoGridFilterRow",""];function $2t(i,n){1&i&&s.nrm(0,"td",3),2&i&&s.AVh("k-group-cell",!0)}function X2t(i,n){1&i&&s.nrm(0,"td",3),2&i&&s.AVh("k-hierarchy-cell",!0)}function W2t(i,n){if(1&i&&s.nrm(0,"td",4),2&i){const e=n.$implicit,t=n.index,o=s.XpG();s.AVh("k-grid-header-sticky",e.sticky),s.Y8G("ngStyle",o.addStickyStyles(e))("ngClass",e.filterClass)("column",e)("filter",o.filter)("logicalRowIndex",o.logicalRowIndex)("logicalColIndex",o.getLogicalColIndex(t)),s.BMQ("aria-label",o.filterLabel(e))}}const K2t=["kendoGridHeader",""],Y2t=(i,n,e,t)=>({field:i,type:"column",column:n,hint:e,lastColumn:t}),QF=(i,n,e,t)=>({templateRef:i,columnIndex:n,column:e,$implicit:t}),J2t=(i,n,e)=>({type:"columnGroup",column:i,hint:n,lastColumn:e});function q2t(i,n){1&i&&s.nrm(0,"th",7)}function Q2t(i,n){1&i&&s.nrm(0,"th",8)}function Z2t(i,n){}function eCt(i,n){if(1&i&&(s.qex(0),s.j41(1,"span",19),s.EFF(2),s.k0s(),s.bVm()),2&i){const e=s.XpG(3).$implicit;s.R7$(2),s.JRh(e.displayTitle)}}function tCt(i,n){if(1&i&&s.nrm(0,"kendo-grid-filter-menu",20),2&i){const e=s.XpG(3).$implicit,t=s.XpG(2);s.Y8G("column",t.getColumnComponent(e))("filter",t.filter)("tabIndex",t.tabIndex)}}function nCt(i,n){if(1&i&&s.nrm(0,"kendo-grid-column-menu",21),2&i){const e=s.XpG(3).$implicit,t=s.XpG(2);s.Y8G("standalone",!1)("settings",t.columnMenuSettings)("column",e)("columnMenuTemplate",t.columnMenuTemplate)("sort",t.sort)("filter",t.filter)("sortable",t.sortable)("tabIndex",t.tabIndex)}}function iCt(i,n){if(1&i&&(s.qex(0),s.j41(1,"span",14)(2,"span",15),s.DNE(3,Z2t,0,0,"ng-template",16)(4,eCt,3,1,"ng-container",12),s.k0s(),s.DNE(5,tCt,1,3,"kendo-grid-filter-menu",17)(6,nCt,1,8,"kendo-grid-column-menu",18),s.k0s(),s.bVm()),2&i){const e=s.XpG(2).$implicit,t=s.XpG(2);s.R7$(3),s.Y8G("templateContext",s.ziG(4,QF,e.headerTemplateRef,e.leafIndex,e,e)),s.R7$(),s.Y8G("ngIf",!e.headerTemplateRef),s.R7$(),s.Y8G("ngIf",t.showFilterMenu&&t.isFilterable(t.getColumnComponent(e))),s.R7$(),s.Y8G("ngIf",t.showColumnMenu(e))}}function sCt(i,n){}function oCt(i,n){if(1&i&&(s.qex(0),s.j41(1,"span",19),s.EFF(2),s.k0s(),s.bVm()),2&i){const e=s.XpG(3).$implicit;s.R7$(2),s.JRh(e.displayTitle)}}function rCt(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",26),2&i){const e=s.XpG(3).$implicit,t=s.XpG(2);s.Mz_("name","sort-",t.sortDescriptor(t.getColumnComponent(e).field).dir,"-small"),s.Y8G("svgIcon","asc"===t.sortDescriptor(t.getColumnComponent(e).field).dir?t.sortAscSmallIcon:t.sortDescSmallIcon),s.BMQ("aria-label",t.sortableLabel)}}function aCt(i,n){if(1&i&&(s.j41(0,"span",27),s.EFF(1),s.k0s()),2&i){const e=s.XpG(3).$implicit,t=s.XpG(2);s.R7$(),s.JRh(t.sortOrder(t.getColumnComponent(e).field))}}function lCt(i,n){if(1&i&&s.nrm(0,"kendo-grid-filter-menu",20),2&i){const e=s.XpG(3).$implicit,t=s.XpG(2);s.Y8G("column",t.getColumnComponent(e))("filter",t.filter)("tabIndex",t.tabIndex)}}function cCt(i,n){if(1&i&&s.nrm(0,"kendo-grid-column-menu",21),2&i){const e=s.XpG(3).$implicit,t=s.XpG(2);s.Y8G("standalone",!1)("settings",t.columnMenuSettings)("column",e)("columnMenuTemplate",t.columnMenuTemplate)("sort",t.sort)("filter",t.filter)("sortable",t.sortable)("tabIndex",t.tabIndex)}}function dCt(i,n){if(1&i){const e=s.RV6();s.qex(0),s.j41(1,"span",14)(2,"span",22,0),s.bIt("click",function(o){s.eBV(e);const r=s.sdS(3),a=s.XpG(2).$implicit,l=s.XpG(2);return s.Njj(l.onSortClick(l.getColumnComponent(a),o,r))}),s.DNE(4,sCt,0,0,"ng-template",16)(5,oCt,3,1,"ng-container",12),s.j41(6,"span",23),s.DNE(7,rCt,1,4,"kendo-icon-wrapper",24),s.k0s(),s.DNE(8,aCt,2,1,"span",25),s.k0s(),s.DNE(9,lCt,1,3,"kendo-grid-filter-menu",17)(10,cCt,1,8,"kendo-grid-column-menu",18),s.k0s(),s.bVm()}if(2&i){const e=s.XpG(2).$implicit,t=s.XpG(2);s.R7$(4),s.Y8G("templateContext",s.ziG(6,QF,e.headerTemplateRef,e.leafIndex,e,e)),s.R7$(),s.Y8G("ngIf",!e.headerTemplateRef),s.R7$(2),s.Y8G("ngIf",t.sortDescriptor(t.getColumnComponent(e).field).dir),s.R7$(),s.Y8G("ngIf",t.showSortNumbering(t.getColumnComponent(e))),s.R7$(),s.Y8G("ngIf",t.showFilterMenu&&t.isFilterable(t.getColumnComponent(e))),s.R7$(),s.Y8G("ngIf",t.showColumnMenu(e))}}function uCt(i,n){if(1&i&&(s.qex(0),s.j41(1,"span",28),s.nrm(2,"input",29),s.k0s(),s.bVm()),2&i){const e=s.XpG(4);s.R7$(2),s.BMQ("id",e.selectAllCheckboxId())("aria-label",e.selectAllCheckboxLabel)}}function hCt(i,n){if(1&i&&s.nrm(0,"span",30),2&i){const e=s.XpG(2).$implicit,t=s.XpG(2);s.Y8G("column",e)("columns",t.columns)}}function pCt(i,n){if(1&i){const e=s.RV6();s.j41(0,"th",11),s.bIt("keydown",function(o){s.eBV(e);const r=s.XpG().$implicit,a=s.XpG(2);return s.Njj(a.onHeaderKeydown(a.getColumnComponent(r),o))}),s.DNE(1,iCt,7,9,"ng-container",12)(2,dCt,11,11,"ng-container",12)(3,uCt,3,2,"ng-container",12)(4,hCt,1,2,"span",13),s.k0s()}if(2&i){const e=s.XpG(),t=e.$implicit,o=e.index,r=e.last,a=s.XpG().index,l=s.XpG();s.AVh("k-sorted",!!l.sortState(l.getColumnComponent(t)))("k-filterable",l.showFilterMenu&&l.isFilterable(l.getColumnComponent(t))||l.showColumnMenu(t))("k-first",l.isFirstOnRow(l.getColumnComponent(t),o))("k-grid-header-sticky",t.sticky),s.Y8G("logicalRowIndex",a)("logicalColIndex",l.logicalColumnIndex(t))("headerLabelText",t.title||l.getColumnComponent(t).field)("colSpan",t.colspan)("rowSpan",t.rowspan(l.totalColumnLevels))("enableDrag",l.shouldActivate(t))("context",s.ziG(27,Y2t,l.getColumnComponent(t).field,t,t.title||l.getColumnComponent(t).field,r&&0===o))("ngClass",t.headerClass)("ngStyle",t.sticky?l.addStickyStyles(t):t.headerStyle),s.BMQ("aria-sort",l.sortState(l.getColumnComponent(t)))("rowspan",t.rowspan(l.totalColumnLevels))("colspan",t.colspan)("aria-haspopup",l.isNavigable&&(l.showFilterMenu||l.showColumnMenu(t))?"dialog":void 0)("aria-expanded",(!l.isNavigable||!l.showFilterMenu&&!l.showColumnMenu(t))&&void 0)("aria-keyshortcuts",l.isNavigable?"Alt + ArrowDown":void 0),s.R7$(),s.Y8G("ngIf",!l.isSortable(l.getColumnComponent(t))),s.R7$(),s.Y8G("ngIf",l.isSortable(l.getColumnComponent(t))),s.R7$(),s.Y8G("ngIf",l.isCheckboxColumn(t)&&!t.headerTemplateRef&&t.showSelectAll),s.R7$(),s.Y8G("ngIf",l.resizable)}}function fCt(i,n){}function mCt(i,n){if(1&i&&(s.qex(0),s.j41(1,"span",19),s.EFF(2),s.k0s(),s.bVm()),2&i){const e=s.XpG(2).$implicit;s.R7$(2),s.JRh(e.displayTitle)}}function _Ct(i,n){if(1&i&&s.nrm(0,"kendo-grid-column-menu",33),2&i){const e=s.XpG(2).$implicit,t=s.XpG(2);s.Y8G("standalone",!1)("settings",t.columnMenuSettings)("column",e)("columnMenuTemplate",t.columnMenuTemplate)}}function gCt(i,n){if(1&i&&s.nrm(0,"span",30),2&i){const e=s.XpG(2).$implicit,t=s.XpG(2);s.Y8G("column",e)("columns",t.columns)}}function SCt(i,n){if(1&i&&(s.j41(0,"th",31)(1,"span",14)(2,"span",15),s.DNE(3,fCt,0,0,"ng-template",16)(4,mCt,3,1,"ng-container",12),s.k0s(),s.DNE(5,_Ct,1,4,"kendo-grid-column-menu",32),s.k0s(),s.DNE(6,gCt,1,2,"span",13),s.k0s()),2&i){const e=s.XpG(),t=e.$implicit,o=e.index,r=e.last,a=s.XpG().index,l=s.XpG();s.AVh("k-first",l.isFirstOnRow(l.getColumnComponent(t),o))("k-filterable",l.showColumnMenu(t))("k-grid-content-sticky",t.sticky),s.Y8G("logicalRowIndex",a)("logicalColIndex",l.logicalColumnIndex(t))("rowSpan",t.rowspan(l.totalColumnLevels))("colSpan",t.colspan)("headerLabelText",t.title||l.getColumnComponent(t).field)("enableDrag",l.shouldActivate(t))("context",s.sMw(21,J2t,t,t.title,r&&0===o))("ngClass",t.headerClass)("ngStyle",t.headerStyle),s.BMQ("rowspan",t.rowspan(l.totalColumnLevels))("colspan",t.colspan),s.R7$(3),s.Y8G("templateContext",s.ziG(25,QF,t.headerTemplateRef,l.lockedColumnsCount+o,t,t)),s.R7$(),s.Y8G("ngIf",!t.headerTemplateRef),s.R7$(),s.Y8G("ngIf",l.showColumnMenu(t)),s.R7$(),s.Y8G("ngIf",l.resizable)}}function vCt(i,n){if(1&i&&(s.qex(0),s.DNE(1,pCt,5,32,"th",9)(2,SCt,7,30,"th",10),s.bVm()),2&i){const e=n.$implicit,t=s.XpG(2);s.R7$(),s.Y8G("ngIf",!t.isColumnGroupComponent(e)),s.R7$(),s.Y8G("ngIf",t.isColumnGroupComponent(e))}}function CCt(i,n){if(1&i&&(s.j41(0,"tr",3),s.DNE(1,q2t,1,0,"th",4)(2,Q2t,1,0,"th",5)(3,vCt,3,2,"ng-container",6),s.k0s()),2&i){const e=n.index,t=s.XpG();s.Y8G("logicalRowIndex",e)("logicalSlaveRow",t.lockedColumnsCount>0)("logicalCellsCount",t.columns.length)("logicalSlaveCellsCount",t.unlockedColumnsCount)("totalColumns",t.totalColumns),s.R7$(),s.Y8G("ngForOf",t.groups),s.R7$(),s.Y8G("ngIf",null==t.detailTemplate?null:t.detailTemplate.templateRef),s.R7$(),s.Y8G("ngForOf",t.columnsForLevel(e))("ngForTrackBy",t.trackByIndex)}}function bCt(i,n){if(1&i&&s.nrm(0,"tr",34),2&i){const e=s.XpG();s.Y8G("columns",e.leafColumns)("filter",e.filter)("groups",e.groups)("detailTemplate",e.detailTemplate)("lockedColumnsCount",e.lockedColumnsCount)("logicalRowIndex",e.totalColumnLevels+1)("logicalSlaveRow",e.lockedColumnsCount>0)("logicalCellsCount",e.columns.length)("logicalSlaveCellsCount",e.unlockedColumnsCount)("totalColumns",e.totalColumns)}}const ECt=["kendoGridCell",""],yCt=i=>({$implicit:i});function DCt(i,n){}function wCt(i,n){if(1&i&&s.DNE(0,DCt,0,0,"ng-template",5),2&i){const e=s.XpG(3);s.Y8G("ngTemplateOutlet",e.column.templateRef)("ngTemplateOutletContext",e.templateContext)}}function kCt(i,n){if(1&i&&(s.qex(0),s.EFF(1),s.nI1(2,"valueOf"),s.bVm()),2&i){const e=n.$implicit,t=s.XpG(4);s.R7$(),s.SpI(" ",s.brH(2,1,t.dataItem,e.field,e.format)," ")}}function OCt(i,n){if(1&i&&(s.qex(0),s.DNE(1,kCt,3,5,"ng-container",6),s.bVm()),2&i){const e=s.XpG(3);s.R7$(),s.Y8G("ngForOf",e.childColumns)}}function TCt(i,n){if(1&i&&(s.qex(0),s.EFF(1),s.nI1(2,"valueOf"),s.bVm()),2&i){const e=s.XpG(3);s.R7$(),s.JRh(s.brH(2,1,e.dataItem,e.column.field,e.column.format))}}function MCt(i,n){if(1&i&&(s.qex(0),s.j41(1,"span",7),s.nrm(2,"input",8),s.k0s(),s.bVm()),2&i){const e=s.XpG(3);s.R7$(2),s.Y8G("kendoGridSelectionCheckbox",e.rowIndex),s.BMQ("id",e.selectionCheckboxId)("aria-label",e.selectionCheckboxLabel)}}function ICt(i,n){if(1&i&&(s.qex(0),s.nrm(1,"kendo-icon-wrapper",9),s.bVm()),2&i){const e=s.XpG(3);s.R7$(),s.Y8G("svgIcon",e.reorderIcon)}}function RCt(i,n){if(1&i&&(s.qex(0),s.DNE(1,wCt,1,2,null,4)(2,OCt,2,1,"ng-container",4)(3,TCt,3,5,"ng-container",4)(4,MCt,3,3,"ng-container",4)(5,ICt,2,1,"ng-container",4),s.bVm()),2&i){const e=s.XpG(2);s.R7$(),s.Y8G("ngIf",e.column.templateRef),s.R7$(),s.Y8G("ngIf",e.isSpanColumn),s.R7$(),s.Y8G("ngIf",e.isBoundColumn),s.R7$(),s.Y8G("ngIf",e.isCheckboxColumn&&!e.isNew),s.R7$(),s.Y8G("ngIf",e.isRowReorderColumn&&!e.isNew)}}function ACt(i,n){}function xCt(i,n){if(1&i&&s.DNE(0,ACt,0,0,"ng-template",5),2&i){const e=s.XpG(3);s.Y8G("ngTemplateOutlet",e.loadingTemplate)("ngTemplateOutletContext",s.eq3(2,yCt,e.column))}}function NCt(i,n){1&i&&s.nrm(0,"div",11)}function LCt(i,n){if(1&i&&s.DNE(0,xCt,1,4,null,4)(1,NCt,1,0,"div",10),2&i){const e=s.XpG(2);s.Y8G("ngIf",e.loadingTemplate),s.R7$(),s.Y8G("ngIf",!e.loadingTemplate)}}function PCt(i,n){if(1&i&&(s.qex(0),s.DNE(1,RCt,6,5,"ng-container",3)(2,LCt,2,2,"ng-template",null,0,s.C5r),s.bVm()),2&i){const e=s.sdS(3),t=s.XpG();s.R7$(),s.Y8G("ngIf",!t.showLoading)("ngIfElse",e)}}function GCt(i,n){}function UCt(i,n){if(1&i&&s.DNE(0,GCt,0,0,"ng-template",5),2&i){const e=s.XpG(2);s.Y8G("ngTemplateOutlet",e.column.editTemplateRef)("ngTemplateOutletContext",e.editTemplateContext)}}function FCt(i,n){if(1&i&&s.nrm(0,"kendo-numerictextbox",16),2&i){const e=s.XpG(3);s.Y8G("format",e.format)("formControl",e.formGroup.get(e.column.field))}}function BCt(i,n){if(1&i&&s.nrm(0,"kendo-datepicker",16),2&i){const e=s.XpG(3);s.Y8G("format",e.format)("formControl",e.formGroup.get(e.column.field))}}function VCt(i,n){if(1&i&&s.nrm(0,"input",17),2&i){const e=s.XpG(3);s.Y8G("formControl",e.formGroup.get(e.column.field))}}function zCt(i,n){if(1&i&&s.nrm(0,"input",18),2&i){const e=s.XpG(3);s.Y8G("formControl",e.formGroup.get(e.column.field))}}function HCt(i,n){if(1&i&&(s.qex(0,1),s.DNE(1,FCt,1,2,"kendo-numerictextbox",13)(2,BCt,1,2,"kendo-datepicker",13),s.j41(3,"span",7),s.DNE(4,VCt,1,1,"input",14),s.k0s(),s.DNE(5,zCt,1,1,"input",15),s.bVm()),2&i){const e=s.XpG(2);s.Y8G("ngSwitch",e.column.editor),s.R7$(),s.Y8G("ngSwitchCase","numeric"),s.R7$(),s.Y8G("ngSwitchCase","date"),s.R7$(2),s.Y8G("ngSwitchCase","boolean")}}function jCt(i,n){if(1&i&&(s.qex(0),s.DNE(1,UCt,1,2,null,4)(2,HCt,6,4,"ng-container",12),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngIf",e.column.editTemplateRef),s.R7$(),s.Y8G("ngIf",!e.column.editTemplateRef)}}const $Ct=["kendoGridGroupHeader",""],XCt=(i,n,e,t,o,r,a,l)=>({templateRef:i,group:n,aggregates:e,value:t,field:o,index:r,expanded:a,$implicit:l}),WCt=(i,n,e,t,o,r)=>({group:i,aggregates:n,value:e,field:t,index:o,$implicit:r});function KCt(i,n){1&i&&s.nrm(0,"td",3)}function YCt(i,n){if(1&i&&(s.qex(0),s.DNE(1,KCt,1,0,"td",2),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngForOf",e.prefixGroupCell(e.item))}}function JCt(i,n){if(1&i&&(s.qex(0),s.EFF(1),s.nI1(2,"valueOf"),s.bVm()),2&i){const e=s.XpG(3);s.R7$(),s.Lme(" ",e.groupTitle(e.item),": ",s.brH(2,2,e.item.data,"value",e.formatForGroup(e.item))," ")}}function qCt(i,n){}function QCt(i,n){if(1&i){const e=s.RV6();s.qex(0),s.j41(1,"a",6),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.toggleGroup(o.item))}),s.nrm(2,"kendo-icon-wrapper",7),s.k0s(),s.DNE(3,JCt,3,6,"ng-container",0)(4,qCt,0,0,"ng-template",8),s.bVm()}if(2&i){const e=s.XpG(2);s.R7$(),s.BMQ("title",e.groupButtonTitle)("aria-label",e.groupButtonTitle),s.R7$(),s.Y8G("name",e.arrowIcon)("svgIcon",e.arrowSVGIcon),s.R7$(),s.Y8G("ngIf",!e.groupHeaderTemplate(e.item)),s.R7$(),s.Y8G("templateContext",s.lV(6,XCt,e.groupHeaderTemplate(e.item),e.item.data,null==e.item.data?null:e.item.data.aggregates,null==e.item.data?null:e.item.data.value,null==e.item.data?null:e.item.data.field,e.item.index,e.isExpanded,e.item.data))}}function ZCt(i,n){if(1&i&&(s.j41(0,"td",4)(1,"p",5),s.DNE(2,QCt,5,15,"ng-container",0),s.k0s()()),2&i){const e=s.XpG();s.Y8G("logicalRowIndex",e.logicalRowIndex)("logicalColIndex",0)("logicalSlaveCell",e.skipGroupDecoration)("groupItem",e.item)("colSpan",e.logicalColSpan()),s.BMQ("colspan",e.groupSpan(e.item))("role",e.ariaRole())("aria-expanded",e.isExpanded),s.R7$(2),s.Y8G("ngIf",!e.skipGroupDecoration)}}function e0t(i,n){}function t0t(i,n){if(1&i&&s.DNE(0,e0t,0,0,"ng-template",11),2&i){const e=s.XpG().$implicit,t=s.XpG(2);s.Y8G("ngTemplateOutlet",e.groupHeaderColumnTemplateRef)("ngTemplateOutletContext",s.l4e(2,WCt,t.item.data,null==t.item.data?null:t.item.data.aggregates,null==t.item.data?null:t.item.data.value,null==t.item.data?null:t.item.data.field,t.item.index,t.item.data))}}function n0t(i,n){if(1&i&&(s.j41(0,"td",10),s.DNE(1,t0t,1,9,null,0),s.k0s()),2&i){const e=n.$implicit,t=n.index,o=s.XpG(2);s.Y8G("logicalRowIndex",o.logicalRowIndex)("logicalColIndex",t+1)("logicalSlaveCell",!1)("groupItem",o.item)("colSpan",1),s.R7$(),s.Y8G("ngIf",e.groupHeaderColumnTemplateRef)}}function i0t(i,n){if(1&i&&(s.qex(0),s.DNE(1,n0t,2,6,"td",9),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngForOf",e.groupHeaderColumns)}}const s0t=["kendoGridTableBody",""],o0t=i=>({templateRef:i}),Ewe=(i,n)=>({dataItem:i,index:n}),r0t=(i,n,e)=>({dataItem:i,rowIndex:n,$implicit:e}),a0t=(i,n,e,t,o,r)=>({templateRef:i,group:n,field:e,column:t,aggregates:o,$implicit:r});function l0t(i,n){1&i&&s.nrm(0,"td",8)}function c0t(i,n){if(1&i&&(s.qex(0),s.DNE(1,l0t,1,0,"td",7),s.bVm()),2&i){const e=s.XpG(2);s.R7$(),s.Y8G("ngForOf",e.groups)}}function d0t(i,n){if(1&i&&s.nrm(0,"td",9),2&i){const e=s.XpG(2);s.Y8G("logicalRowIndex",e.addRowLogicalIndex())("logicalColIndex",0)}}function u0t(i,n){if(1&i&&s.nrm(0,"td",10),2&i){const e=n.$implicit,t=n.index,o=s.XpG(2);s.xc7("left",e.sticky?"0":void 0),s.AVh("k-grid-content-sticky",e.sticky),s.Y8G("rowIndex",-1)("columnIndex",o.lockedColumnsCount+t)("isNew",!0)("column",e)("dataItem",o.newDataItem)("ngClass",e.cssClass)("ngStyle",e.sticky?o.addStickyColumnStyles(e):e.style)("logicalRowIndex",o.addRowLogicalIndex())("logicalColIndex",o.logicalColIndex(e))("colSpan",e.colspan),s.BMQ("colspan",e.colspan)("role",e.tableCellsRole)}}function h0t(i,n){if(1&i&&(s.qex(0),s.j41(1,"tr",4),s.DNE(2,c0t,2,1,"ng-container",0)(3,d0t,1,2,"td",5)(4,u0t,1,16,"td",6),s.k0s(),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.Y8G("logicalRowIndex",e.addRowLogicalIndex())("logicalSlaveRow",e.lockedColumnsCount>0)("logicalCellsCount",e.columns.length)("logicalSlaveCellsCount",e.unlockedColumnsCount())("totalColumns",e.totalColumns),s.R7$(),s.Y8G("ngIf",!e.skipGroupDecoration),s.R7$(),s.Y8G("ngIf",null==e.detailTemplate?null:e.detailTemplate.templateRef),s.R7$(),s.Y8G("ngForOf",e.columns)("ngForTrackBy",e.trackByColumns)}}function p0t(i,n){}function f0t(i,n){if(1&i&&s.DNE(0,p0t,0,0,"ng-template",13),2&i){const e=s.XpG(2);s.Y8G("templateContext",s.eq3(1,o0t,null==e.noRecordsTemplate?null:e.noRecordsTemplate.templateRef))}}function m0t(i,n){if(1&i&&(s.qex(0),s.EFF(1),s.bVm()),2&i){const e=s.XpG(2);s.R7$(),s.SpI(" ",e.noRecordsText," ")}}function _0t(i,n){if(1&i&&(s.j41(0,"tr",11)(1,"td",12),s.DNE(2,f0t,1,3,null,0)(3,m0t,2,1,"ng-container",0),s.k0s()()),2&i){const e=s.XpG();s.R7$(),s.BMQ("colspan",e.colSpan),s.R7$(),s.Y8G("ngIf",null==e.noRecordsTemplate?null:e.noRecordsTemplate.templateRef),s.R7$(),s.Y8G("ngIf",!(null!=e.noRecordsTemplate&&e.noRecordsTemplate.templateRef))}}function g0t(i,n){if(1&i&&s.nrm(0,"tr",18),2&i){const e=s.XpG(),t=e.$implicit,o=e.index,r=s.XpG();s.Y8G("columns",r.columns)("groups",r.groups)("item",t)("hasDetails",!(null==r.detailTemplate||!r.detailTemplate.templateRef))("skipGroupDecoration",r.skipGroupDecoration)("hasGroupHeaderColumn",r.hasGroupHeaderColumn)("groupHeaderColumns",r.groupHeaderColumns)("rowIndex",o+1)("totalColumnsCount",r.totalColumnsCount)("logicalRowIndex",r.logicalRowIndex(o))("logicalSlaveRow",r.lockedColumnsCount>0)("totalColumns",r.totalColumns)("logicalCellsCount",r.columns.length)("logicalSlaveCellsCount",r.groupHeaderSlaveCellsCount)}}function S0t(i,n){1&i&&s.nrm(0,"td",8)}function v0t(i,n){if(1&i&&(s.qex(0),s.DNE(1,S0t,1,0,"td",7),s.bVm()),2&i){const e=s.XpG(3);s.R7$(),s.Y8G("ngForOf",e.groups)}}function C0t(i,n){if(1&i){const e=s.RV6();s.j41(0,"a",24),s.bIt("click",function(){s.eBV(e);const o=s.XpG(3).$implicit,r=s.XpG();return s.Njj(r.toggleRow(o.index,o.data))}),s.nrm(1,"kendo-icon-wrapper",25),s.k0s()}if(2&i){const e=s.XpG(3).$implicit,t=s.XpG();s.BMQ("title",t.detailButtonTitle(e))("aria-label",t.detailButtonTitle(e)),s.R7$(),s.Y8G("name",t.detailButtonIconName(e))("svgIcon",t.detailButtonSvgIcon(e))}}function b0t(i,n){if(1&i&&(s.j41(0,"td",22),s.DNE(1,C0t,2,4,"a",23),s.k0s()),2&i){const e=s.XpG(2),t=e.$implicit,o=e.index,r=s.XpG();s.Y8G("logicalRowIndex",r.logicalRowIndex(o))("logicalColIndex",0)("dataRowIndex",t.index)("dataItem",t.data)("detailExpandCell",!0),s.R7$(),s.Y8G("ngIf",r.detailTemplate.showIf(t.data,t.index))}}function E0t(i,n){if(1&i&&s.nrm(0,"td",26),2&i){const e=n.$implicit,t=n.index,o=s.XpG(2),r=o.$implicit,a=o.index,l=s.XpG();s.AVh("k-grid-content-sticky",e.sticky)("k-touch-action-none",l.isSelectable()&&l.selectable.drag)("k-touch-action-auto",!(l.isSelectable()&&l.selectable.drag))("k-grid-edit-cell",l.isEditingCell(r.index,e))("k-selected",l.isSelectable&&l.cellSelectionService.isCellSelected(r,e)),s.Y8G("rowIndex",r.index)("columnIndex",l.lockedColumnsCount+t)("column",e)("dataItem",r.data)("isLoading",l.isLoading)("isVirtual",l.isVirtual)("loadingTemplate",l.cellLoadingTemplate)("logicalRowIndex",l.logicalRowIndex(a))("logicalColIndex",l.logicalColIndex(e))("dataRowIndex",r.index)("dataItem",r.data)("colIndex",t)("colSpan",e.colspan)("ngClass",e.cssClass)("ngStyle",e.sticky?l.addStickyColumnStyles(e):e.style),s.BMQ("data-kendo-grid-column-index",l.lockedColumnsCount+t)("role",e.tableCellsRole)("aria-selected",l.lockedColumnsCount<1&&l.isSelectable()?l.isAriaSelected(r,e):void 0)("colspan",e.colspan)}}function y0t(i,n){if(1&i&&(s.j41(0,"tr",19),s.DNE(1,v0t,2,1,"ng-container",0)(2,b0t,2,6,"td",20)(3,E0t,1,29,"td",21),s.k0s()),2&i){const e=s.XpG(),t=e.$implicit,o=e.index,r=s.XpG();s.HbH(r.isOdd(t)?"k-alt k-table-alt-row":""),s.AVh("k-grid-row-sticky",!!r.rowSticky&&r.rowSticky(s.l_i(25,Ewe,t.data,t.index)))("k-master-row",!0)("k-grid-edit-row",r.isEditingRow(t.index))("k-selected",r.isSelectable()&&r.isRowSelected(t)),s.Y8G("dataRowIndex",t.index)("dataItem",t.data)("logicalRowIndex",r.logicalRowIndex(o))("logicalSlaveRow",r.lockedColumnsCount>0)("totalColumns",r.totalColumns)("logicalCellsCount",r.columns.length)("logicalSlaveCellsCount",r.unlockedColumnsCount(t))("ngClass",r.rowClass(s.l_i(28,Ewe,t.data,t.index))),s.BMQ("aria-selected",r.lockedColumnsCount<1?r.isSelectable()&&r.isRowSelected(t):void 0)("data-kendo-grid-item-index",t.index),s.R7$(),s.Y8G("ngIf",!r.skipGroupDecoration),s.R7$(),s.Y8G("ngIf",null==r.detailTemplate?null:r.detailTemplate.templateRef),s.R7$(),s.Y8G("ngForOf",r.columns)("ngForTrackBy",r.trackByColumns)}}function D0t(i,n){1&i&&s.nrm(0,"td",32)}function w0t(i,n){}function k0t(i,n){if(1&i&&(s.j41(0,"tr",27),s.DNE(1,D0t,1,0,"td",28),s.nrm(2,"td",29),s.j41(3,"td",30),s.DNE(4,w0t,0,0,"ng-template",31),s.k0s()()),2&i){const e=s.XpG(),t=e.$implicit,o=e.index,r=s.XpG();s.AVh("k-alt",r.isOdd(t)),s.Y8G("dataRowIndex",t.index)("dataItem",t.data)("logicalRowIndex",r.logicalRowIndex(o)+1)("logicalSlaveRow",!1)("logicalCellsCount",1),s.R7$(),s.Y8G("ngForOf",r.groups),s.R7$(2),s.Y8G("logicalRowIndex",r.logicalRowIndex(o)+1)("logicalColIndex",0)("dataRowIndex",t.index)("dataItem",t.data)("colIndex",0)("colSpan",r.allColumnsSpan+1),s.BMQ("colspan",r.columnsSpan),s.R7$(),s.Y8G("ngTemplateOutlet",r.detailTemplate.templateRef)("ngTemplateOutletContext",s.sMw(17,r0t,t.data,t.index,t.data))}}function O0t(i,n){1&i&&s.nrm(0,"td",32)}function T0t(i,n){if(1&i&&(s.qex(0),s.DNE(1,O0t,1,0,"td",28),s.bVm()),2&i){const e=s.XpG(3);s.R7$(),s.Y8G("ngForOf",e.groups)}}function M0t(i,n){if(1&i&&s.nrm(0,"td",9),2&i){const e=s.XpG(2).index,t=s.XpG();s.Y8G("logicalRowIndex",t.logicalRowIndex(e))("logicalColIndex",0)}}function I0t(i,n){}function R0t(i,n){if(1&i&&(s.j41(0,"td",35),s.DNE(1,I0t,0,0,"ng-template",13),s.k0s()),2&i){const e=n.$implicit,t=s.XpG(2),o=t.$implicit,r=t.index,a=s.XpG();s.Y8G("logicalRowIndex",a.logicalRowIndex(r))("logicalColIndex",a.logicalColIndex(e)),s.BMQ("data-skip",a.skipGroupDecoration),s.R7$(),s.Y8G("templateContext",s.l4e(4,a0t,e.groupFooterTemplateRef,o.data,e.field,e,null==o.data?null:o.data.aggregates,null==o.data?null:o.data.aggregates))}}function A0t(i,n){if(1&i&&(s.j41(0,"tr",33),s.DNE(1,T0t,2,1,"ng-container",0)(2,M0t,1,2,"td",5)(3,R0t,2,11,"td",34),s.k0s()),2&i){const e=s.XpG(),t=e.$implicit,o=e.index,r=s.XpG();s.Y8G("logicalRowIndex",r.logicalRowIndex(o))("logicalSlaveRow",r.lockedColumnsCount>0)("totalColumns",r.totalColumns)("logicalCellsCount",r.columns.length)("logicalSlaveCellsCount",r.unlockedColumnsCount(t)),s.R7$(),s.Y8G("ngIf",!r.skipGroupDecoration),s.R7$(),s.Y8G("ngIf",null==r.detailTemplate?null:r.detailTemplate.templateRef),s.R7$(),s.Y8G("ngForOf",r.footerColumns)("ngForTrackBy",r.trackByColumns)}}function x0t(i,n){if(1&i&&(s.qex(0),s.DNE(1,g0t,1,14,"tr",14)(2,y0t,4,31,"tr",15)(3,k0t,5,21,"tr",16)(4,A0t,4,9,"tr",17),s.bVm()),2&i){const e=n.$implicit,t=s.XpG();s.R7$(),s.Y8G("ngIf",t.isGroup(e)&&t.isParentGroupExpanded(e)&&t.showGroupHeader(e)),s.R7$(),s.Y8G("ngIf",t.isDataItem(e)&&(!e.group||t.isDataItemInExpandedGroup(e))),s.R7$(),s.Y8G("ngIf",t.isDataItem(e)&&(!e.group||t.isDataItemInExpandedGroup(e))&&(null==t.detailTemplate?null:t.detailTemplate.templateRef)&&t.detailTemplate.showIf(e.data,e.index)&&t.isExpanded(e)),s.R7$(),s.Y8G("ngIf",t.isFooter(e)&&e.group&&(t.isFooterItemInExpandedGroup(e)||t.showGroupFooters&&t.isParentGroupExpanded(e.group))&&!e.data.hideFooter)}}function N0t(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-resize-sensor",36),s.bIt("resize",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.resizeHandler())}),s.k0s()}}const L0t=["container"],P0t=["lockedContainer"],G0t=["lockedTable"],U0t=["table"],lA=()=>[],F0t=(i,n,e,t)=>({keydown:i,scroll:n,mousewheel:e,DOMMouseScroll:t});function B0t(i,n){if(1&i&&(s.j41(0,"div",13,2)(2,"div",6)(3,"table",14,3),s.nrm(5,"colgroup",8)(6,"tbody",15),s.k0s(),s.nrm(7,"kendo-resize-sensor"),s.k0s(),s.j41(8,"div",11),s.nrm(9,"div"),s.k0s()()),2&i){const e=s.XpG();s.xc7("width",e.lockedWidth,"px"),s.Y8G("kendoEventsOutsideAngular",s.ziG(31,F0t,e.lockedKeydown,e.lockedScroll,e.lockedMousewheel,e.lockedMousewheel))("scope",e),s.R7$(3),s.xc7("width",e.lockedWidth,"px"),s.Y8G("locked",!0)("size",e.size),s.R7$(2),s.Y8G("groups",e.groups)("columns",e.lockedLeafColumns)("detailTemplate",e.detailTemplate)("sort",e.sort),s.R7$(),s.Y8G("groups",e.groups)("isLocked",!0)("data",e.data)("noRecordsText","")("columns",e.lockedLeafColumns)("totalColumnsCount",e.leafColumns.length)("totalColumns",e.columns)("detailTemplate",e.detailTemplate)("showGroupFooters",e.showFooter)("skip",e.skip)("selectable",e.selectable)("trackBy",e.trackBy)("filterable",e.filterable)("rowClass",e.rowClass)("isLoading",e.loading)("isVirtual",e.isVirtual)("cellLoadingTemplate",e.cellLoadingTemplate),s.R7$(3),s.xc7("height",e.totalHeight,"px")}}function V0t(i,n){1&i&&s.nrm(0,"kendo-resize-sensor")}function z0t(i,n){1&i&&s.nrm(0,"kendo-resize-sensor")}function H0t(i,n){if(1&i&&(s.j41(0,"div",16),s.nrm(1,"div"),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.xc7("width",e.totalWidth,"px")}}const j0t=["kendoGridFooter",""];function $0t(i,n){1&i&&s.nrm(0,"td",4)}function X0t(i,n){1&i&&s.nrm(0,"td",5)}function W0t(i,n){}function K0t(i,n){if(1&i&&(s.j41(0,"td",6),s.DNE(1,W0t,0,0,"ng-template",7),s.k0s()),2&i){const e=n.$implicit,t=n.index,o=s.XpG();s.AVh("k-grid-footer-sticky",e.sticky),s.Y8G("logicalRowIndex",o.logicalRowIndex)("logicalColIndex",o.logicalColumnIndex(e))("ngClass",e.footerClass)("ngStyle",e.sticky?o.addStickyStyles(e):e.footerStyle),s.R7$(),s.Y8G("templateContext",s.ziG(7,QF,e.footerTemplateRef,o.lockedColumnsCount+t,e,e))}}const Y0t=["kendoGridLoading",""];function J0t(i,n){if(1&i&&(s.qex(0),s.j41(1,"span",1),s.EFF(2),s.k0s(),s.nrm(3,"div",2)(4,"div",3),s.bVm()),2&i){const e=s.XpG();s.R7$(2),s.JRh(e.loadingText)}}function q0t(i,n){}function Q0t(i,n){if(1&i&&s.DNE(0,q0t,0,0,"ng-template",4),2&i){const e=s.XpG();s.Y8G("ngTemplateOutlet",null==e.loadingTemplate?null:e.loadingTemplate.templateRef)}}const Z0t=i=>({aggregates:i});function ebt(i,n){}function tbt(i,n){if(1&i&&s.DNE(0,ebt,0,0,"ng-template",1),2&i){const e=s.XpG();s.Y8G("ngTemplateOutlet",null==e.statusBarTemplate?null:e.statusBarTemplate.templateRef)("ngTemplateOutletContext",s.eq3(2,Z0t,e.aggregates))}}const nbt=["lockedHeader"],ibt=["header"],sbt=["ariaRoot"],obt=["footer"],rbt=i=>({hintTemplate:i});function abt(i,n){if(1&i&&s.nrm(0,"kendo-grid-toolbar",17),2&i){const e=s.XpG();s.Y8G("size",e.size)("navigable",e.navigation.toolbarEnabled),s.BMQ("aria-label",e.messageFor("topToolbarLabel"))("aria-controls",e.ariaRootId)}}function lbt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-pager",18),s.bIt("pageChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.notifyPageChange("pager",o))}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("tabindex",e.navigation.pagerEnabled?"0":"-1")("template",e.pagerTemplate)("pageSize",e.pageSize)("total",e.view.total)("skip",e.skip)("size",e.size)("options",e.pageable),s.BMQ("role",e.navigation.pagerEnabled?"application":void 0)}}function cbt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-grid-group-panel",19),s.bIt("change",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.groupChange.emit(o))}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("navigable",e.navigation.toolbarEnabled)("text",e.groupableEmptyText)("groups",e.group),s.BMQ("aria-label",e.messageFor("groupPanelLabel"))("aria-controls",e.ariaRootId)}}function dbt(i,n){if(1&i&&(s.j41(0,"div",30,3)(2,"table",31),s.nrm(3,"colgroup",27)(4,"thead",32),s.k0s()()),2&i){const e=s.XpG(3);s.xc7("width",e.lockedWidth,"px"),s.R7$(2),s.xc7("width",e.lockedWidth,"px"),s.Y8G("locked",!0)("size",e.size),s.R7$(),s.Y8G("columns",e.lockedLeafColumns)("groups",e.group)("detailTemplate",e.detailTemplate),s.R7$(),s.Y8G("resizable",e.resizable)("scrollable",!0)("columns",e.lockedColumns)("totalColumnLevels",e.totalColumnLevels)("sort",e.sort)("groups",e.group)("filter",e.filter)("filterable",e.filterable)("groupable",e.showGroupPanel)("reorderable",e.reorderable)("sortable",e.sortable)("columnMenu",e.columnMenuOptions)("columnMenuTemplate",e.columnMenuTemplate)("totalColumnsCount",e.leafColumns.length)("totalColumns",e.columnsContainer)("detailTemplate",e.detailTemplate)("tabIndex",e.navigation.tableEnabled?"-1":"0")}}function ubt(i,n){if(1&i&&(s.j41(0,"div",33),s.nrm(1,"div"),s.k0s()),2&i){const e=s.XpG(3);s.R7$(),s.xc7("width",e.columnsContainer.unlockedWidth,"px")}}function hbt(i,n){if(1&i&&(s.j41(0,"div",23),s.DNE(1,dbt,5,26,"div",24),s.j41(2,"div",25,2)(4,"table",26),s.nrm(5,"colgroup",27)(6,"thead",28),s.k0s(),s.DNE(7,ubt,2,2,"div",29),s.k0s()()),2&i){const e=s.XpG(2);s.xc7("padding",e.headerPadding),s.R7$(),s.Y8G("ngIf",e.isLocked),s.R7$(),s.Y8G("kendoGridResizableContainer",e.lockedLeafColumns.length>0)("lockedWidth",e.lockedWidth+e.scrollbarWidth+2),s.R7$(2),s.xc7("width",e.nonLockedWidth,"px"),s.Y8G("virtualColumns",e.virtualColumns)("size",e.size),s.R7$(),s.Y8G("columns",e.headerLeafColumns)("groups",e.isLocked?s.lJ4(31,lA):e.group)("detailTemplate",e.detailTemplate),s.R7$(),s.Y8G("resizable",e.resizable)("scrollable",!0)("columns",e.headerColumns)("totalColumnLevels",e.totalColumnLevels)("sort",e.sort)("filter",e.filter)("filterable",e.filterable)("groupable",e.showGroupPanel)("reorderable",e.reorderable)("groups",e.isLocked?s.lJ4(32,lA):e.group)("sortable",e.sortable)("columnMenu",e.columnMenuOptions)("columnMenuTemplate",e.columnMenuTemplate)("lockedColumnsCount",e.lockedLeafColumns.length)("totalColumnsCount",e.leafColumns.length)("totalColumns",e.columnsContainer)("detailTemplate",e.detailTemplate)("tabIndex",e.navigation.tableEnabled?"-1":"0"),s.R7$(),s.Y8G("ngIf",e.virtualColumns)}}function pbt(i,n){if(1&i&&(s.j41(0,"div",39)(1,"table",40),s.nrm(2,"colgroup",27)(3,"tfoot",41),s.k0s()()),2&i){const e=s.XpG(3);s.xc7("width",e.lockedWidth,"px"),s.R7$(),s.xc7("width",e.lockedWidth,"px"),s.Y8G("locked",!0)("size",e.size),s.R7$(),s.Y8G("columns",e.lockedLeafColumns)("groups",e.group)("detailTemplate",e.detailTemplate),s.R7$(),s.Y8G("scrollable",!0)("groups",e.group)("columns",e.lockedLeafColumns)("detailTemplate",e.detailTemplate)("logicalRowIndex",e.ariaRowCount)("totalColumns",e.columnsContainer)}}function fbt(i,n){if(1&i&&(s.j41(0,"div",34),s.DNE(1,pbt,4,15,"div",35),s.j41(2,"div",36,4)(4,"table",37),s.nrm(5,"colgroup",27)(6,"tfoot",38),s.k0s()()()),2&i){const e=s.XpG(2);s.xc7("padding",e.headerPadding),s.R7$(),s.Y8G("ngIf",e.lockedLeafColumns.length),s.R7$(),s.Y8G("kendoGridResizableContainer",e.lockedLeafColumns.length>0)("lockedWidth",e.lockedWidth+e.scrollbarWidth+3),s.R7$(2),s.xc7("width",e.nonLockedWidth,"px"),s.Y8G("size",e.size),s.R7$(),s.Y8G("columns",e.nonLockedLeafColumns)("groups",e.isLocked?s.lJ4(18,lA):e.group)("detailTemplate",e.detailTemplate),s.R7$(),s.Y8G("logicalRowIndex",e.ariaRowCount)("scrollable",!0)("groups",e.isLocked?s.lJ4(19,lA):e.group)("columns",e.nonLockedLeafColumns)("lockedColumnsCount",e.lockedLeafColumns.length)("detailTemplate",e.detailTemplate)("totalColumns",e.columnsContainer)}}function mbt(i,n){if(1&i){const e=s.RV6();s.qex(0),s.DNE(1,hbt,8,33,"div",20),s.j41(2,"kendo-grid-list",21),s.bIt("onPress",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleReorderEvents(o,"press"))})("onDragStart",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleReorderEvents(o,"dragStart"))})("onDrag",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleReorderEvents(o,"drag"))})("onDragEnter",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleReorderEvents(o,"dragEnter"))})("onDragLeave",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleReorderEvents(o,"dragLeave"))})("onDragEnd",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleReorderEvents(o,"dragEnd"))})("onDrop",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleReorderEvents(o,"drop"))})("pageChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.notifyPageChange("list",o))})("scrollBottom",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.notifyScrollBottom())})("contentScroll",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.contentScroll.emit(o))}),s.k0s(),s.DNE(3,fbt,7,20,"div",22),s.bVm()}if(2&i){const e=s.XpG(),t=s.sdS(14);s.R7$(),s.Y8G("ngIf",!e.hideHeader),s.R7$(),s.Y8G("dragDisabled",!e.rowReorderable)("dropDisabled",!e.rowReorderable)("dragTargetFilter",e.getDefaultSelectors("dragTarget"))("dropTargetFilter",e.getDefaultSelectors("dropTarget"))("dragHandle",e.getDefaultSelectors("handle"))("hint",s.eq3(33,rbt,t))("dragData",e.gridData)("data",e.view)("rowHeight",e.rowHeight)("detailRowHeight",e.detailRowHeight)("total",e.totalCount)("take",e.pageSize)("groups",e.group)("groupable",e.groupable)("skip",e.skip)("trackBy",e.trackBy)("columns",e.columnsContainer)("selectable",e.selectable)("filterable",e.filterable)("detailTemplate",e.detailTemplate)("noRecordsTemplate",e.noRecordsTemplate)("size",e.size)("rowClass",e.rowClass)("rowSticky",e.rowSticky)("loading",e.loading)("isVirtual",e.isVirtual)("cellLoadingTemplate",null==e.cellLoadingTemplate?null:e.cellLoadingTemplate.templateRef)("loadingTemplate",null==e.loadingTemplate?null:e.loadingTemplate.templateRef)("virtualColumns",e.virtualColumns)("enableDrag",e.marqueeSelection)("sort",e.sort),s.R7$(),s.Y8G("ngIf",e.showFooter)}}function _bt(i,n){if(1&i&&s.nrm(0,"thead",46),2&i){const e=s.XpG(2);s.Y8G("resizable",e.resizable)("scrollable",!1)("columns",e.visibleColumns)("totalColumnLevels",e.totalColumnLevels)("totalColumns",e.columnsContainer)("groups",e.group)("groupable",e.showGroupPanel)("reorderable",e.reorderable)("sort",e.sort)("sortable",e.sortable)("filter",e.filter)("filterable",e.filterable)("columnMenu",e.columnMenuOptions)("columnMenuTemplate",e.columnMenuTemplate)("detailTemplate",e.detailTemplate)("tabIndex",e.navigation.tableEnabled?"-1":"0")}}function gbt(i,n){if(1&i&&s.nrm(0,"tfoot",47),2&i){const e=s.XpG(2);s.Y8G("scrollable",!1)("logicalRowIndex",e.ariaRowCount)("groups",e.group)("columns",e.leafColumns)("detailTemplate",e.detailTemplate)("totalColumns",e.columnsContainer)}}function Sbt(i,n){if(1&i&&(s.qex(0),s.j41(1,"table",42),s.nrm(2,"colgroup",27),s.DNE(3,_bt,1,16,"thead",43),s.nrm(4,"tbody",44),s.DNE(5,gbt,1,6,"tfoot",45),s.k0s(),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.xc7("table-layout",e.resizable?"fixed":null),s.Y8G("size",e.size),s.R7$(),s.Y8G("columns",e.leafColumns)("groups",e.group)("detailTemplate",e.detailTemplate),s.R7$(),s.Y8G("ngIf",!e.hideHeader),s.R7$(),s.Y8G("isLoading",e.loading)("groups",e.group)("data",e.view)("skip",e.skip)("columns",e.leafColumns)("selectable",e.selectable)("filterable",e.filterable)("noRecordsTemplate",e.noRecordsTemplate)("detailTemplate",e.detailTemplate)("showGroupFooters",e.showGroupFooters)("trackBy",e.trackBy)("rowClass",e.rowClass)("enableDrag",e.marqueeSelection),s.R7$(),s.Y8G("ngIf",e.showFooter)}}function vbt(i,n){if(1&i&&s.nrm(0,"div",48),2&i){const e=s.XpG();s.Y8G("loadingTemplate",e.loadingTemplate)}}function Cbt(i,n){if(1&i&&s.nrm(0,"kendo-grid-status-bar",49),2&i){const e=s.XpG();s.Y8G("statusBarTemplate",e.statusBarTemplate)}}function bbt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-pager",50),s.bIt("pageChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.notifyPageChange("pager",o))}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("tabindex",e.navigation.pagerEnabled?"0":"-1")("template",e.pagerTemplate)("pageSize",e.pageSize)("total",e.view.total)("skip",e.skip)("size",e.size)("options",e.pageable),s.BMQ("role",e.navigation.pagerEnabled?"application":void 0)}}function Ebt(i,n){if(1&i&&s.nrm(0,"kendo-grid-toolbar",51),2&i){const e=s.XpG();s.Y8G("size",e.size)("navigable",e.navigation.toolbarEnabled),s.BMQ("aria-label",e.messageFor("bottomToolbarLabel"))("aria-controls",e.ariaRootId)}}function ybt(i,n){if(1&i&&(s.nrm(0,"kendo-icon-wrapper",52),s.EFF(1)),2&i){const e=s.XpG();s.Y8G("name",e.getHintSettings("hintIcon"))("svgIcon",e.getHintSettings("hintSVGIcon")),s.R7$(),s.SpI(" ",e.hintText," ")}}function Dbt(i,n){1&i&&s.nrm(0,"div",53)}const wbt=["columnList"];function kbt(i,n){if(1&i){const e=s.RV6();s.j41(0,"span",4),s.EFF(1),s.k0s(),s.j41(2,"kendo-grid-columnlist",5,2),s.bIt("apply",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onApply(o))})("columnChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onChange(o))})("keydown.shift.tab",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onShiftTab(o))}),s.k0s()}if(2&i){const e=s.XpG();s.R7$(),s.JRh(e.ctx.localization.get("columns")),s.R7$(),s.Y8G("columns",e.columns)("ariaLabel",e.ctx.localization.get("columns"))("isLast",!0)("applyText",e.ctx.localization.get("columnsApply"))("resetText",e.ctx.localization.get("columnsReset"))("autoSync",e.autoSync)("allowHideAll",e.allowHideAll)}}const Obt=["kendoGridEditCommand",""];function Tbt(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",4),2&i){const e=s.XpG();s.Y8G("name",e.icon)("svgIcon",e.svgIcon)}}function Mbt(i,n){if(1&i&&(s.j41(0,"span",5),s.nrm(1,"img",6),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("src",e.imageUrl,s.B4B)}}function Ibt(i,n){if(1&i&&s.nrm(0,"span",7),2&i){const e=s.XpG();s.Y8G("ngClass",e.iconClass)}}const Rbt=["kendoGridCancelCommand",""];function Abt(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",4),2&i){const e=s.XpG();s.Y8G("name",e.icon)("svgIcon",e.svgIcon)}}function xbt(i,n){if(1&i&&(s.j41(0,"span",5),s.nrm(1,"img",6),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("src",e.imageUrl,s.B4B)}}function Nbt(i,n){if(1&i&&s.nrm(0,"span",7),2&i){const e=s.XpG();s.Y8G("ngClass",e.iconClass)}}const Lbt=["kendoGridSaveCommand",""];function Pbt(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",4),2&i){const e=s.XpG();s.Y8G("name",e.icon)("svgIcon",e.svgIcon)}}function Gbt(i,n){if(1&i&&(s.j41(0,"span",5),s.nrm(1,"img",6),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("src",e.imageUrl,s.B4B)}}function Ubt(i,n){if(1&i&&s.nrm(0,"span",7),2&i){const e=s.XpG();s.Y8G("ngClass",e.iconClass)}}const Fbt=["kendoGridRemoveCommand",""];function Bbt(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",4),2&i){const e=s.XpG();s.Y8G("name",e.icon)("svgIcon",e.svgIcon)}}function Vbt(i,n){if(1&i&&(s.j41(0,"span",5),s.nrm(1,"img",6),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("src",e.imageUrl,s.B4B)}}function zbt(i,n){if(1&i&&s.nrm(0,"span",7),2&i){const e=s.XpG();s.Y8G("ngClass",e.iconClass)}}const Hbt=["kendoGridAddCommand",""];function jbt(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",4),2&i){const e=s.XpG();s.Y8G("name",e.icon)("svgIcon",e.svgIcon)}}function $bt(i,n){if(1&i&&(s.j41(0,"span",5),s.nrm(1,"img",6),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("src",e.imageUrl,s.B4B)}}function Xbt(i,n){if(1&i&&s.nrm(0,"span",7),2&i){const e=s.XpG();s.Y8G("ngClass",e.iconClass)}}const tEt=/^\s*$/,xe=i=>null!=i,cA=i=>null==i,ZF=i=>Array.isArray(i),Pc=i=>!!i,nr=i=>cA(i)||tEt.test(i),e7=i=>Bt(ft(i),i.changes),R0=()=>typeof document>"u",qee=i=>"string"==typeof i,ywe=i=>"number"==typeof i&&!isNaN(i),Qee=i=>qee(i)&&!nr(i)&&i.startsWith("{0:")?i.slice(3,i.length-1):i,dA=i=>(...n)=>!i(...n),t7=(...i)=>n=>i.reduce((e,t)=>e||t(n),!1),Zee=(...i)=>n=>i.reduce((e,t)=>e&&t(n),!0),Af=(new s.nKC("Skip"),function iEt(){if("function"==typeof Symbol&&Symbol.iterator)return Symbol.iterator;const i=Object.getOwnPropertyNames(Map.prototype),n=Map.prototype;for(let e=0;e<i.length;++e){const t=i[e];if("entries"!==t&&"size"!==t&&n[t]===n.entries)return t}}()),n7=typeof window<"u"?window:{},oEt=n7.requestAnimationFrame||n7.msRequestAnimationFrame||(i=>setTimeout(i,16.666666666666668)),rEt=n7.cancelAnimationFrame||n7.msCancelRequestAnimationFrame||clearTimeout,pa=(i,n,e)=>i.replace(new RegExp(`{\\s*${n}\\s*}`,"g"),e),ete=i=>cEt(i)?i.items.flatMap(ete):[{...i}],cEt=i=>"aggregates"in i&&"items"in i&&"field"in i&&"value"in i;let A0=(()=>{class i{constructor(){this.cellClick=new s.bkB,this.cellMousedown=new s.bkB,this.cellMouseup=new s.bkB,this.click=new s.bkB,this.keydown=new s.bkB,this.focus=new s.bkB,this.focusIn=new s.bkB,this.focusOut=new s.bkB,this.windowBlur=new s.bkB,this.paste=new s.bkB}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),xf=(()=>{class i{constructor(){this.changes=new s.bkB}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const tte=new s.nKC("focus-root-initial-active-state");let RS=(()=>{class i{constructor(e=!1){this.active=e,this.groups=new Set}registerGroup(e){this.active&&this.groups.add(e)}unregisterGroup(e){this.active&&this.groups.delete(e)}activate(){this.active&&this.groups.forEach(e=>e.activate())}deactivate(){this.active&&this.groups.forEach(e=>e.deactivate())}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(tte,8))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const dEt=/^(?:a|input|select|option|textarea|button|object)$/i,nte={},wwe=i=>String(i).trim().split(" "),Aw=(i,n)=>{const e=wwe(n);return!!wwe(i.className).find(t=>e.indexOf(t)>=0)},Nf=i=>n=>Aw(n,i),Ba=i=>(nte[i]||(nte[i]=n=>String(n.nodeName).toLowerCase()===i.toLowerCase()),nte[i]),fa=(i,n)=>{for(;i&&!n(i);)i=i.parentNode;return i},ite=(i,n,e)=>{for(;i&&i!==e&&!n(i);)i=i.parentNode;if(i!==e)return i},kwe=(i,n,e=!1)=>{if(!fa(n,r=>r===i))return!1;const o=fa(n,r=>r===n);return o&&(e||o!==i)},ste=i=>{if(!ne())return;const n=i.getBoundingClientRect();return(n.width>0&&n.height>0||0!==n.x&&0!==n.y)&&"hidden"!==window.getComputedStyle(i).visibility},Owe=i=>{if(!i.tagName)return!1;const n=i.tagName.toLowerCase(),e=!!i.getAttribute("tabIndex");return!i.disabled&&dEt.test(n)||e},uA=(i,n=!0)=>{if(!Owe(i))return!1;const e=!n||ste(i),t="true"===i.getAttribute("aria-hidden"),o=i.getAttribute("tabIndex");return e&&!t&&"-1"!==o},Bh=(i,n,e=!0)=>{if(i){if(e&&n(i))return i;for(i=i.firstChild;i;){if(1===i.nodeType){const t=Bh(i,n);if(t)return t}i=i.nextSibling}}},Twe=(i,n=!0)=>Bh(i,e=>uA(e,n),!1),mEt=Ba("button"),_Et=Ba("input"),gEt=/(button|checkbox|color|file|radio|reset|submit)/i;class CEt{constructor(n,e){this.renderer=e,this.element=n.nativeElement,this.focusable=((i,n=!0)=>Bh(this.element,e=>uA(e,n)))(0,!1)||this.element}get enabled(){return this.focusable&&!this.focusable.disabled}get visible(){return this.focusable&&ste(this.focusable)}isNavigable(){return this.canFocus()&&(i=>!i.disabled&&(mEt(i)||(i=>_Et(i)&&gEt.test(i.type))(i)))(this.element)}toggle(n){this.renderer.setAttribute(this.focusable,"tabIndex",n?"0":"-1")}focus(){this.focusable&&this.focusable.focus()}canFocus(){return this.visible&&this.enabled}hasFocus(){return ne()&&document.activeElement!==this.element&&fa(document.activeElement,n=>n===this.element)}}const x_=new s.nKC("grid-cell-context"),bEt={};let Mwe=(()=>{class i{constructor(e){this.renderer=e,this.navigableElements=[],this.currentActiveIndex=0,this.defaultFocusableSelector="\n        [kendogridtoolbarfocusable],\n        [kendogridaddcommand],\n        [kendogridcancelcommand],\n        [kendogrideditcommand],\n        [kendogridremovecommand],\n        [kendogridsavecommand],\n        [kendogridexcelcommand],\n        [kendogridpdfcommand]\n    "}notify(){this.navigableElements=this.navigableElements.length&&Array.from(this.navigableElements[0].parentElement.querySelectorAll(this.defaultFocusableSelector))||[],this.currentActiveIndex=0,this.updateFocus()}focus(){this.navigableElements[this.currentActiveIndex]?.focus()}updateFocus(){this.navigableElements.length&&(this.navigableElements.forEach(e=>{this.renderer.setAttribute(e,"tabindex","-1")}),this.renderer.setAttribute(this.navigableElements[this.currentActiveIndex],"tabindex","0"),ne()&&document.activeElement.closest(".k-toolbar")&&this.navigableElements[this.currentActiveIndex].focus())}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(s.sFG))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),Fe=(()=>{class i{constructor(e,t){this.renderer=e,this.localization=t,this.topToolbarNavigation=new Mwe(this.renderer),this.bottomToolbarNavigation=new Mwe(this.renderer)}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(s.sFG),s.KVO(z))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),Jl=(()=>{class i{constructor(e,t,o,r){this.cellContext=e,this.hostElement=t,this.renderer=o,this.ctx=r,this.active=!0,this._enabled=!0,this.cellContext&&(this.group=this.cellContext.focusGroup),this.group&&this.group.registerElement(this)}set enabled(e){(e=""===e||!!e)!==this.enabled&&(this._enabled=e,this.element&&this.element.toggle(this.active&&e))}get enabled(){return this._enabled}ngAfterViewInit(){!this.element&&this.ctx.navigable&&(this.element=new CEt(this.hostElement,this.renderer)),this.group&&this.element&&this.toggle(this.group.isActive)}ngOnDestroy(){this.group&&this.group.unregisterElement(this)}toggle(e){this.element&&e!==this.active&&(this.element.toggle(this.enabled&&e),this.active=e)}canFocus(){return this.enabled&&this.element&&this.element.canFocus()}isNavigable(){return this.enabled&&this.element&&this.element.isNavigable()}focus(){this.enabled&&this.element&&this.element.focus()}hasFocus(){return this.enabled&&this.element&&this.element.hasFocus()}registerElement(e){this.element=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(x_,12),s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(Fe))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridFocusable",""],["","kendoGridEditCommand",""],["","kendoGridRemoveCommand",""],["","kendoGridSaveCommand",""],["","kendoGridCancelCommand",""],["","kendoGridSelectionCheckbox",""]],inputs:{enabled:[s.Mj6.None,"kendoGridFocusable","enabled"]}}),i})();class EEt{constructor(n){this.navigationService=n}focus(){this.navigationService.focusCell()}toggle(n){this.navigationService.toggle(n)}canFocus(){return!0}hasFocus(){return this.navigationService.hasFocus()}isNavigable(){return!1}}class yEt{constructor(n){this.model=n,this.changes=new Ke.B,this.activeRow=0,this.activeCol=0,this.virtualCol=0,this.virtualRow=0}set metadata(n){if(this._metadata=n,xe(n)){const e=n.hasDetailTemplate?1:0;this.activeRow<n.headerRows&&0===this.activeCol&&e!==this.activeCol&&(this.activeCol=e,this.reset())}}get metadata(){return this._metadata}get row(){return this.model.findRow(this.activeRow)}get cell(){const n=this.row;if(n)return this.model.findCell(this.activeCol,n)}get dataRowIndex(){const n=this.row;return n?n.dataRowIndex:-1}reset(n=this.activeRow,e=this.activeCol,t=!0){this.activate(n,e,t)&&(this.virtualRow=n,this.virtualCol=e)}activate(n,e,t){if(!t&&this.isActiveRange(n,e))return!1;const o=this.activeCol,r=this.activeRow;return this.activeCol=e,this.activeRow=n,this.changes.next({colIndex:e,prevColIndex:o,prevRowIndex:r,rowIndex:n}),!0}isActiveRange(n,e){if(this.activeRow!==n)return!1;const t=this.cell,{start:o,end:r}=this.model.cellRange(t);return!t||o<=e&&e<=r}assume(n=this.activeRow,e=this.activeCol){this.virtualRow=n,this.virtualCol=e,this.activeCol=e,this.activeRow=n}announce(){this.changes.next({colIndex:this.activeCol,prevColIndex:this.activeCol,prevRowIndex:this.activeRow,rowIndex:this.activeRow})}activateVirtualCell(n){const e=this.model.rowRange(n),t=this.model.cellRange(n),o=this.activeCol,r=this.activeRow;if(e.start<=r&&r<=e.end&&t.start<=o&&o<=t.end)return this.activeRow=n.rowIndex,this.activeCol=n.colIndex,!0}isActive(n,e){return this.activeCol===e&&this.activeRow===n}moveUp(n=1){return this.offsetRow(-n)}moveDown(n=1){return this.offsetRow(n)}moveLeft(n=1){return this.offsetCol(-n)}moveRight(n=1){return this.offsetCol(n)}lastCellIndex(n){return this.metadata.columns.leafColumnsToRender.length-1+(!this.metadata.hasDetailTemplate||n&&n.groupItem?0:1)}offsetCol(n){const e=this.model.findRow(this.virtualRow),t=this.lastCellIndex(e),o=this.virtualCol;this.virtualCol=Math.max(0,Math.min(o+n,t));let r=this.virtualCol;const a=this.virtualRow;let l=this.model.findCell(this.virtualCol,e);if(!l&&this.metadata.virtualColumns)return this.activate(a,r);if(!l&&this.metadata.hasDetailTemplate)return this.virtualCol+=1,!1;if(l.colSpan>1&&l.colIndex<=o&&o<l.colIndex+l.colSpan){r=n>0?Math.min(l.colIndex+l.colSpan,t):Math.max(0,l.colIndex+n);const c=this.model.findCell(r,e);l!==c?(l=c,this.virtualCol=l.colIndex):this.virtualCol=o}return this.activate(l.rowIndex,l.colIndex)}offsetRow(n){let e=this.virtualCol;if(this.metadata&&this.metadata.isVirtual){const r=this.metadata.maxLogicalRowIndex;let a=Math.max(0,Math.min(this.activeRow+n,r));this.metadata.hasDetailTemplate&&!this.model.findRow(a)&&(a=n>0?a+1:a-1,a=Math.max(0,Math.min(a,r))),this.metadata.hasDetailTemplate&&a===r&&this.model.lastRow.index!==r&&a--;const l=this.model.findRow(a);if(l){let c=this.model.findCell(this.virtualCol,l);if(!c)return;c.rowIndex<=this.virtualRow&&n>0&&c.rowSpan>1&&(c=this.model.findCell(this.virtualCol,this.model.findRow(c.rowIndex+c.rowSpan-1+n))),a=c.rowIndex,e=c.colIndex}return this.virtualRow=a,this.activate(a,e)}const t=this.model.findRow(this.virtualRow+n)||this.model.nextRow(this.virtualRow,n);if(!t)return!1;let o=this.model.findCell(this.virtualCol,t);return o&&o.rowIndex<=this.virtualRow&&n>0&&o.rowSpan>1&&(o=this.model.findCell(this.virtualCol,this.model.findRow(o.rowIndex+o.rowSpan-1+n))),o||!this.metadata.virtualColumns&&!this.metadata.hasDetailTemplate?(this.virtualRow=o.rowIndex,this.activate(this.virtualRow,o.colIndex)):this.activate(this.virtualRow+n,this.virtualCol)}}class Iwe{constructor(){this.count=0,this.items={}}get first(){if(this.count>0){let n;return this.forEach(e=>(n=e,!0)),n}}get last(){if(this.count>0){const n=Object.keys(this.items);return this.items[n[n.length-1]]}}removeItem(n){this.items[n]&&(delete this.items[n],this.count--)}setItem(n,e){this.items[n]||this.count++,this.items[n]=e}getItem(n){return this.items[n]}toArray(){const n=[];return this.forEach(e=>{n.push(e)}),n}forEach(n){for(const e in this.items)if(this.items.hasOwnProperty(e)&&n(this.items[e]))return this.items[e]}find(n){return this.forEach(n)}}class DEt{constructor(){this.rows=new Iwe}get firstRow(){return this.rows.first}get lastRow(){return this.rows.last}registerCell(n){const e=this.rows.getItem(n.logicalRowIndex);if(!e)return;const t=n.logicalColIndex,o={uid:n.uid,colIndex:t,rowIndex:e.index,colSpan:n.colSpan,rowSpan:n.rowSpan,detailExpandCell:n.detailExpandCell,dataItem:e.dataItem,dataRowIndex:e.dataRowIndex,focusGroup:n.focusGroup};return e.cells.setItem(t,o),n.groupItem&&(e.groupItem=n.groupItem),o}unregisterCell(n,e,t){const o=this.rows.getItem(e);if(o){const r=o.cells.getItem(n);r&&r.uid===t.uid&&o.cells.removeItem(n)}}registerRow(n){const e={uid:n.uid,index:n.logicalRowIndex,dataItem:n.dataItem,dataRowIndex:n.dataRowIndex,cells:new Iwe};this.rows.setItem(n.logicalRowIndex,e)}updateRow(n){const e=this.rows.getItem(n.logicalRowIndex);e&&Object.assign(e,{dataItem:n.dataItem,dataRowIndex:n.dataRowIndex})}unregisterRow(n,e){const t=this.rows.getItem(n);t&&t.uid===e.uid&&this.rows.removeItem(n)}cellRange(n){return n?{start:n.colIndex,end:n.colIndex+(n.colSpan||1)-1}:{}}rowRange(n){return n?{start:n.rowIndex,end:n.rowIndex+(n.rowSpan||1)-1}:{}}nextRow(n,e){const t=this.rows.toArray(),o=this.rows.getItem(n),r=t.indexOf(o);return t[r+e]}findRow(n){return this.rows.getItem(n)}findCell(n,e){if(!e)return;const t=e.index;let o=e.cells.getItem(n),r=t;for(;!o&&e;)e=this.rows.getItem(r),o=this.rowCell(n,e),r--;return o&&t<=e.index+(o.rowSpan||1)-1?o:void 0}rowCell(n,e){if(!e||!e.cells.count)return;const t=e.cells.first;let o,r=n;for(;!o&&r>=t.colIndex;)o=e.cells.getItem(r),r--;return o&&n<=o.colIndex+(o.colSpan||1)-1?o:void 0}}class x0{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class wEt extends x0{constructor(n){super(),this.action="cellClose",Object.assign(this,n)}}const N0=i=>-1===i||void 0===i;let Vh=(()=>{class i{constructor(e){this.ngZone=e,this.changes=new s.bkB,this.editedIndices=[],this.keepEditCell=!1,this.closingCell=!1,this.changedSource=new Ke.B,this.changed=this.changedSource.asObservable().pipe(le(()=>this.ngZone.onStable.asObservable().pipe(We(1))))}editRow(e,t=void 0){this.editedIndices.push({index:e,group:t}),this.onChanged()}addRow(e){this.newItemGroup={group:e},this.onChanged()}editCell(e,t,o){N0(e)||!1===t.editable||!t.editTemplate&&!t.field||(this.preventCellClose(),this.closeCell()||(this.editRow(e,o),this.column=t,this.onChanged()))}isEditing(){return this.editedIndices.length>0}isEditingCell(){return this.isEditing()&&void 0!==this.column}get hasNewItem(){return xe(this.newItemGroup)}get newDataItem(){return this.hasNewItem?this.newItemGroup.group.value:{}}close(e){N0(e)?this.newItemGroup=void 0:(this.editedIndices=this.editedIndices.filter((i=>n=>n.index!==i)(e)),delete this.column,this.onChanged())}closeCell(e){if(this.column&&!this.closingCell)return this.ngZone.run(()=>{const{index:t,group:o}=this.editedIndices[0],r=new wEt({column:this.column,formGroup:o,originalEvent:e,rowIndex:t});return this.closingCell=!0,this.changes.emit(r),this.closingCell=!1,r.isDefaultPrevented()||this.cancelCell(),r.isDefaultPrevented()})}cancelCell(){this.column&&(this.editedIndices=[],delete this.column,this.onChanged())}shouldCloseCell(){return this.column&&!this.keepEditCell}preventCellClose(){this.ngZone.runOutsideAngular(()=>{window.clearTimeout(this.keepCellTimeout),this.keepEditCell=!0,this.keepCellTimeout=window.setTimeout(()=>{this.keepEditCell=!1},0)})}context(e){return N0(e)?this.newItemGroup:this.findByIndex(e)}columnContext(e,t){return N0(e)?this.newItemGroup:this.column&&t!==this.column?void 0:this.findByIndex(e)}isEdited(e){return!(!N0(e)||!xe(this.newItemGroup))||!this.column&&xe(this.findByIndex(e))}hasEdited(e){return xe(this.context(e))}isEditedColumn(e,t){return!(!this.column||this.column!==t)&&xe(this.findByIndex(e))}beginEdit(e){this.changes.emit({action:"edit",rowIndex:e})}beginAdd(){this.changes.emit({action:"add"})}endEdit(e){const{group:t}=this.context(e);this.changes.emit({action:"cancel",rowIndex:e,formGroup:t,isNew:N0(e)})}save(e){const{group:t}=this.context(e);this.changes.emit({action:"save",rowIndex:e,formGroup:t,isNew:N0(e)})}remove(e){this.changes.emit({action:"remove",rowIndex:e})}findByIndex(e){return this.editedIndices.find((i=>n=>n.index===i)(e))}onChanged(){this.ngZone.runOutsideAngular(()=>{this.changedSource.next()})}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(s.SKi))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const i7=i=>xe(i)?{group:i.data,groupIndex:i.index,parentGroup:i7(i.parentGroup)}:null;let L0=(()=>{class i{constructor(){this.changes=new Ke.B,this.rowState=new Set}reset(){this.rowState.clear()}ngOnDestroy(){this.reset()}isExpanded(e){return this.userCallback?this.userCallback(e):!this.rowState.has(e.groupIndex)}isInExpandedGroup(e){let t=!0;for(;e&&t;)t=this.isExpanded({group:e.data,groupIndex:e.index,parentGroup:i7(e.parentGroup)}),e=e.parentGroup;return t}toggleRow(e,t=!0){const o=i7(e.parentGroup),r=!this.isExpanded({group:e.data,groupIndex:e.index,parentGroup:o});this.changes.next({group:e.data,expand:r,groupIndex:e.index,parentGroup:o,emit:t}),!this.userCallback&&(r?this.rowState.delete(e.index):this.rowState.add(e.index))}expandChildren(e){this.rowState.forEach(t=>((i,n)=>{const e=n===i,t=i.lastIndexOf("_"),o=i.substring(0,t)===n;return!e&&o})(t,e)&&this.rowState.delete(t))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();class Lf{constructor(){this.changes=new Ke.B,this.pageChange=new Ke.B}get currentPage(){return this.skip/this.pageSize}notifyChanges(n){this.total=n.total,this.pageSize=n.pageSize,this.skip=n.skip,this.changes.next(n)}changePage(n){this.pageChange.next({skip:n*this.pageSize,take:this.pageSize})}changePageSize(n){this.pageChange.next({skip:0,take:n})}nextPage(){const n=this.currentPage+1;n*this.pageSize<this.total&&this.changePage(n)}prevPage(){const n=this.currentPage-1;n*this.pageSize>=0&&this.changePage(n)}}class MEt extends x0{constructor(n){super(),Object.assign(this,n)}}class IEt extends x0{constructor(n){super(),Object.assign(this,n)}}let hA=(()=>{class i{constructor(){this.changes=new Ke.B,this.rowState=new Set}ngOnDestroy(){this.rowState.clear()}isExpanded(e,t){return this.userCallback?this.userCallback({index:e,dataItem:t}):this.rowState.has(e)}toggleRow(e,t){this.isExpanded(e,t)?this.collapseRow(e,t):this.expandRow(e,t)}expandRow(e,t){!this.emitEvent({dataItem:t,index:e,expand:!0})&&!this.userCallback&&this.rowState.add(e)}collapseRow(e,t){!this.emitEvent({dataItem:t,index:e,expand:!1})&&!this.userCallback&&this.rowState.delete(e)}emitEvent(e){const t=new(e.expand?IEt:MEt)(e);return this.changes.next(t),t.isDefaultPrevented()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),s7=(()=>{class i{constructor(){this.requests=new Ke.B}scrollTo(e,t=!0){this.requests.next({request:e,adjustIndex:t})}scrollToItem(e){this.requests.next({request:e})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const REt=(i,n)=>fa(i,Ba("kendo-grid"))===n,AEt=Ba("th"),xEt=Ba("td"),NEt=Ba(".k-grid-footer td"),Rwe=i=>xEt(i)||AEt(i)||NEt(i),ote=(i,n)=>{const e=((i,n)=>{let e=fa(i,Rwe);for(;e&&!REt(e,n);)e=fa(e.parentElement,Rwe);return e})(i,n),t=fa(e,Ba("tr"));if(e&&t){let o=t.getAttribute("aria-rowindex")||t.getAttribute("data-kendo-grid-row-index");o=o?parseInt(o,10)-1:null;let r=e.getAttribute("aria-colindex");if(r=r?parseInt(r,10)-1:null,null!==o&&null!==r)return{colIndex:r,rowIndex:o,element:e}}},Awe=i=>(i=>i===G.ArrowLeft||i===G.ArrowRight||i===G.ArrowUp||i===G.ArrowDown)(i)||i===G.PageUp||i===G.PageDown||i===G.Home||i===G.End,GEt=Ba("input");class xwe{constructor(n,e){this.firstItemIndex=n,this.lastItemIndex=e}containsRow(n){return n<0||n>=this.firstItemIndex&&n<=this.lastItemIndex}intersects(n,e){return n<=this.firstItemIndex&&this.lastItemIndex<=e||this.firstItemIndex<=n&&n<=this.lastItemIndex||this.firstItemIndex<=e&&e<=this.lastItemIndex}}let Va=(()=>{class i{constructor(e,t,o,r,a,l,c,u,f,_,S){this.zone=e,this.domEvents=t,this.pagerContextService=o,this.scrollRequestService=r,this.groupsService=a,this.detailsService=l,this.focusRoot=c,this.editService=u,this.cd=f,this.ctx=_,this.focusableParent=S,this.cellKeydown=new s.bkB,this.activeRowIndex=0,this.alive=!1,this.active=!0,this.mode=0,this.model=new DEt,this.cursor=new yEt(this.model),this.pagerIsNavigable=!1,this.tableIsNavigable=!1,this.toolbarIsNavigable=!1,this.changes=this.cursor.changes}set metadata(e){this.meta=e,this.cursor.metadata=e}get metadata(){return this.meta}get enabled(){return this.alive}get pagerEnabled(){return this.alive&&this.pagerIsNavigable}get tableEnabled(){return this.alive&&this.tableIsNavigable}get toolbarEnabled(){return this.alive&&this.toolbarIsNavigable}get activeCell(){if(0!==this.mode)return this.cursor.cell}get activeRow(){if(0!==this.mode)return Object.assign({},this.cursor.row,{cells:this.cursor.row.cells.toArray()})}get activeDataRow(){return Math.max(0,this.activeRowIndex-this.meta.headerRows)}init(e,t){this.setActiveSections(t),this.alive=!0,this.focusRoot.active=!0,this.metadata=e;const o=(...a)=>l=>this.zone.isStable?Zi([!0]).pipe((0,V.T)(()=>l)):this.zone.onStable.pipe(We(1),(0,V.T)(()=>l),...a),r=o();if(this.subs=new be.yU,this.subs.add(this.cursor.changes.subscribe(a=>this.onCursorChanges(a))),this.subs.add(this.domEvents.focus.pipe(le(r)).subscribe(a=>this.navigateTo(a.target))),this.subs.add(this.domEvents.focusOut.pipe(X(()=>0!==this.mode),le(o(mo(this.domEvents.focus)))).subscribe(a=>this.onFocusOut(a))),this.subs.add(this.domEvents.windowBlur.pipe(X(()=>0!==this.mode)).subscribe(()=>this.onWindowBlur())),this.subs.add(this.editService.changes.pipe(X(a=>"edit"!==a.action&&2===this.mode),X(a=>"cellClose"===a.action&&!a.prevented),le(r)).subscribe(()=>this.leaveCell())),this.subs.add(this.pagerContextService.pageChange.subscribe(()=>this.cursor.reset(0,0))),this.subs.add(this.domEvents.keydown.subscribe(a=>this.onKeydown(a))),this.subs.add(this.domEvents.keydown.pipe(X(a=>a.keyCode===G.Tab&&2===this.mode),zG(this.domEvents.focusOut.pipe(mo(NC(0).pipe(We(1)))))).subscribe(()=>this.onTabout())),this.focusableParent){const a=new EEt(this);this.focusableParent.registerElement(a)}this.deactivateElements()}ngOnDestroy(){this.subs&&this.subs.unsubscribe(),this.alive=!1}registerCell(e){if(e.logicalRowIndex!==this.pendingRowIndex){const t=this.model.registerCell(e);this.virtualCell&&this.cursor.activateVirtualCell(t)&&(this.virtualCell=!1)}}registerCellOnCurrentRow(e){e.logicalRowIndex===this.pendingRowIndex&&this.model.registerCell(e)}unregisterCell(e,t,o){this.model.unregisterCell(e,t,o)}registerRow(e){this.model.registerRow(e),this.pendingRowIndex=e.logicalRowIndex}updateRow(e){this.model.updateRow(e)}unregisterRow(e,t){this.model.unregisterRow(e,t);const o=this.model.lastRow;if(o&&0===this.mode){const r=this.needsViewport()&&this.viewport?this.viewport.lastItemIndex:o.index;this.activeRowIndex>r&&this.cursor.reset(0,0)}}isCellFocusable(e){return this.alive&&this.active&&2!==this.mode&&this.cursor.isActive(e.logicalRowIndex,e.logicalColIndex)}isCellFocused(e){return 1===this.mode&&this.isCellFocusable(e)}navigateTo(e){if(!this.alive||!ne())return;const t=ote(e,this.meta.gridElement.nativeElement);if(!t)return;const o=this.mode,r=kwe(t.element,document.activeElement),a=2===this.mode&&this.activeRowIndex===t.rowIndex&&e!==t.element;if(r)this.mode=2,this.cursor.reset(t.rowIndex,t.colIndex),this.activateRow();else if(!a){this.mode=1,this.deactivateElements();const l=this.cursor.isActive(t.rowIndex,t.colIndex);1===o&&l||this.cursor.reset(t.rowIndex,t.colIndex)}}tryFocus(e){this.activateElements();const t=Twe(e);if(t){const o=ote(t,this.meta.gridElement.nativeElement);o&&(this.cursor.reset(o.rowIndex,o.colIndex),this.deactivateElements(),this.enterCell()),t.focus()}else this.deactivateElements();return!!t}needsViewport(){return this.meta&&this.meta.isVirtual}setViewport(e,t){if(this.viewport=new xwe(e,t),this.meta&&this.meta.isVirtual&&this.activeDataRow>-1){const o=this.activeDataRow,a=o-t;e-o>0?this.cursor.reset(e+this.meta.headerRows):a>0&&this.cursor.reset(t-this.meta.headerRows)}}setColumnViewport(e,t){this.columnViewport=new xwe(e,t)}focusCell(e=void 0,t=void 0){return this.mode=1,this.cursor.reset(e,t),this.activeCell}focusCellByElement(e){const t=ote(e,this.meta.gridElement.nativeElement);if(t)return this.focusCell(t.rowIndex,t.colIndex)}focusNextCell(e=!0){return this.focusAdjacentCell(!0,e)}focusPrevCell(e=!0){return this.focusAdjacentCell(!1,e)}toggle(e){this.active=e,this.cursor.announce()}hasFocus(){return 1===this.mode||2===this.mode}autoFocusCell(e,t){return!this.meta.virtualColumns||t<this.meta.columns.lockedLeafColumns.length||this.columnViewport.intersects(e,t)}setActiveSections(e){this.pagerIsNavigable=e.includes("pager"),this.tableIsNavigable=e.includes("table"),this.toolbarIsNavigable=e.includes("toolbar")}focusAdjacentCell(e,t){this.focusCell();let o=e?this.moveCursorFwd():this.moveCursorBwd();if(t&&!o&&(o=e?this.cursor.moveDown(1):this.cursor.moveUp(1),o)){const r=this.cursor.row,a=e?0:this.cursor.lastCellIndex(r);this.cursor.reset(r.index,a)}return o?this.activeCell:(this.mode=0,this.cursor.announce(),null)}enterCell(){const e=this.cursor.cell;if(!e)return;const t=e.focusGroup,o=t&&t.canFocus();this.mode=o?2:1,this.cursor.announce(),o&&(this.activateRow(),t.focus())}leaveCell(){const e=this.cursor.cell;if(!e)return;const t=e.focusGroup;t&&t.canFocus()||this.deactivateElements(),this.mode=1,this.cursor.announce()}activateElements(){this.focusRoot.activate()}deactivateElements(){this.focusRoot.deactivate()}activateRow(){this.cursor.row.cells.forEach(e=>e.focusGroup&&e.focusGroup.activate())}moveCursorFwd(){return this.ctx.localization.rtl?this.cursor.moveLeft():this.cursor.moveRight()}moveCursorBwd(){return this.ctx.localization.rtl?this.cursor.moveRight():this.cursor.moveLeft()}onCursorKeydown(e){let t=!1;const o=e.ctrlKey||e.metaKey,r=o?5:1;if(!this.onCellKeydown(e))return;const a=this.cursor.row;switch(e.keyCode){case G.ArrowDown:t=this.cursor.moveDown(r);break;case G.ArrowUp:t=this.cursor.moveUp(r);break;case G.ArrowRight:t=this.moveCursorFwd();break;case G.ArrowLeft:t=this.moveCursorBwd();break;case G.PageDown:if(this.metadata.isVirtual&&this.viewport){let l=this.meta.headerRows+this.viewport.lastItemIndex+1;this.metadata.hasDetailTemplate&&l++,l=Math.min(this.meta.maxLogicalRowIndex,l),this.cursor.reset(l),t=!0}else this.metadata.hasPager&&(this.zone.run(()=>this.pagerContextService.nextPage()),t=!0);break;case G.PageUp:if(this.metadata.isVirtual&&this.viewport){const u=Math.max(this.meta.headerRows,this.viewport.firstItemIndex-(this.viewport.lastItemIndex-this.viewport.firstItemIndex)-1);this.cursor.reset(u),t=!0}else this.metadata.hasPager&&(this.zone.run(()=>this.pagerContextService.prevPage()),t=!0);break;case G.Home:if(o)this.cursor.reset(this.meta.isVirtual?this.meta.headerRows:this.model.firstRow.index,0,!1);else{let l=0;this.meta.hasDetailTemplate&&a.index<this.meta.headerRows&&(l=1),this.cursor.reset(a.index,l,!1)}t=!0;break;case G.End:if(o)if(this.meta.isVirtual){let l=this.meta.maxLogicalRowIndex;this.meta.hasDetailTemplate&&l--,this.cursor.reset(l,this.cursor.lastCellIndex(),!1)}else this.cursor.reset(this.model.lastRow.index,this.cursor.lastCellIndex(this.model.lastRow),!1);else{const l=this.cursor.lastCellIndex(a),c=this.model.findCell(l,a);c?this.cursor.reset(c.rowIndex,c.colIndex):this.cursor.reset(a.index,l)}t=!0;break;case G.Enter:case G.F2:{const l=a.groupItem;l?this.zone.run(()=>this.groupsService.toggleRow(l)):this.cursor.cell.detailExpandCell?this.zone.run(()=>this.detailsService.toggleRow(a.dataRowIndex,a.dataItem)):(this.enterCell(),this.cursor.cell.focusGroup.isNavigable()||(t=!0));break}default:!e.ctrlKey&&!e.altKey&&(i=>1===i.length&&i.match(/\S/))(e.key)&&this.enterCell()}t&&e.preventDefault()}onContentKeydown(e){if(!this.onCellKeydown(e))return;const t=!e.defaultPrevented&&e.keyCode===G.Enter&&(i=>i&&GEt(i)&&"text"===i.type.toLowerCase())(e.srcElement);e.keyCode===G.Escape||e.keyCode===G.F2||t?(this.leaveCell(),this.cursor.reset(),e.stopPropagation()):Awe(e.keyCode)&&this.cursor.cell.focusGroup.isNavigable()&&(this.onCursorKeydown(e),e.defaultPrevented&&this.leaveCell())}onCellKeydown(e){if(this.editService.isEditingCell()){const t=e.keyCode===G.Enter,o=e.keyCode===G.Escape,r=Awe(e.keyCode);if(t)this.editService.closeCell(e);else if(o)this.editService.closeCell(e),this.cd.detectChanges();else if(r)return!1}return this.cellKeydown.emit(e),!0}onCursorChanges(e){this.activeRowIndex=e.rowIndex;const t=this.activeDataRow;if(this.meta&&this.meta.isVirtual&&e.rowIndex>=this.meta.headerRows&&this.viewport&&!this.viewport.containsRow(t)&&t>-1&&this.scrollRequestService.scrollTo({row:t}),this.meta.virtualColumns&&e.colIndex>=this.meta.columns.lockedLeafColumns.length){const o=this.activeCell,{start:r,end:a}=this.model.cellRange(o);o||(this.virtualCell=!0),(!o&&0!==this.mode||o&&!this.columnViewport.intersects(r,a))&&this.scrollRequestService.scrollTo({column:e.colIndex-(this.metadata.hasDetailTemplate?1:0)})}}onFocusOut(e){this.mode=ste(e.target)?0:1,this.deactivateElements(),this.cursor.announce()}onWindowBlur(){this.mode=0,this.deactivateElements(),this.cursor.announce()}onKeydown(e){1===this.mode?this.onCursorKeydown(e):2===this.mode&&this.onContentKeydown(e)}onTabout(){this.cursor.cell.focusGroup.isNavigable()||(this.leaveCell(),this.cursor.reset())}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(s.SKi),s.KVO(A0),s.KVO(Lf),s.KVO(s7),s.KVO(L0),s.KVO(hA),s.KVO(RS),s.KVO(Vh),s.KVO(s.gRc),s.KVO(Fe),s.KVO(Jl,8))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),BEt=0,Gc=(()=>{class i{constructor(){this.prefix="k-grid"+BEt++}gridId(){return this.prefix}cellId(e,t){return`${this.prefix}-r${e}c${t}`}selectionCheckboxId(e){return`${this.prefix}-checkbox${e}`}selectAllCheckboxId(){return`${this.prefix}-select-all`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),rte=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridHeaderTemplate",""]]}),i})(),ate=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridFooterTemplate",""]]}),i})(),o7=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridColumnMenuTemplate",""]]}),i})();const pA_autoSizeColumn="The auto size column does not work with enabled virtual columns.\n    See https://www.telerik.com/kendo-angular-ui/components/grid/accessories/column-menu/#toc-autosize-column-item.",pA_autoSizeAllColumns="The auto size all columns does not work with enabled virtual columns.\n    See https://www.telerik.com/kendo-angular-ui/components/grid/accessories/column-menu/#toc-autosize-all-columns-item.",pA_serviceInput="The service input of the predefined column menu components is mandatory.\n    See https://www.telerik.com/kendo-angular-ui/components/grid/accessories/column-menu/#toc-customizing-the-content.",Pd_requiredWidth=i=>`${i} columns feature requires all columns to have set width.\n    See https://www.telerik.com/kendo-angular-ui/components/grid/columns/${i.toLowerCase()}.`,Pd_requiredScroll=i=>`${i} columns are only supported when scrolling is enabled.\n    See https://www.telerik.com/kendo-angular-ui/components/grid/columns/${i.toLowerCase()}/`,Pd_nestedInside=(i,n)=>`${i} cannot be nested inside ${n}.`,Fo_functionType=(i,n)=>`${i} must be a function, but received ${JSON.stringify(n)}.`,Fo_incompatibleFeatures=(i,n)=>`'Having both ${i} and ${n} is not supported.'`,Fo_nonLockedColumnPresent="There should be at least one non-locked column. See https://www.telerik.com/kendo-angular-ui/components/grid/columns/locked/#toc-known-limitations",Fo_rowHeightVirtual="The virtual scrolling functionality requires setting the rowHeight (and detailRowHeight when there are detail rows).\n        Row height and detail row height settings should be set only when virtual scrolling mode is enabled.\n        See https://www.telerik.com/kendo-angular-ui/components/grid/scroll-modes/virtual/#toc-getting-started.",Fo_focusNavigable="The Grid should be configured as navigable to control focus. See https://www.telerik.com/kendo-angular-ui/components/grid/keyboard-navigation/.",Fo_expandCollapseMethods=(i,n,e,t)=>`The ${i} and ${n} methods should not be called\n        when using the ${e} directive or the ${t} callback.\n        These methods are provided only for backwards compatibility with legacy versions.`,Fo_requiredModule=(i,n,e)=>`Creating ${i} requires including the ${n} and adding the ${e} component.`,cte=i=>i.isSpanColumn,Nwe=i=>i.isCheckboxColumn,dte=i=>i.isRowReorderColumn;let Bo=(()=>{class i{constructor(e,t){if(this.parent=e,this.matchesMedia=!0,this.orderIndex=0,this.isColumnGroup=!1,this.isSpanColumn=!1,this.resizable=!0,this.reorderable=!0,this.minResizableWidth=10,this._locked=!1,this.sticky=!1,this.lockable=!0,this.stickable=!0,this.columnMenu=!0,this.includeInChooser=!0,this.tableCellsRole="gridcell",this.headerTemplates=new s.rOR,this.columnMenuTemplates=new s.rOR,this.idService=t,e&&t&&e.idService.gridId()===t.gridId()&&!(i=>i.isColumnGroup||cte(i))(e))throw new Error("Columns can be nested only inside ColumnGroupComponent")}set leafIndex(e){this._leafIndex=e}get leafIndex(){return this._leafIndex}set width(e){if("string"==typeof e){const t=this._width=parseInt(e,10);(0,s.naY)()&&console.warn(((i,n)=>`Expected numeric value for column width, but got a string "${i}". Treating as ${n}px.`)(e,t))}else this._width=e}get width(){return this._width}set locked(e){this._locked=e}get locked(){return this._locked}get level(){return this.parent&&cte(this.parent)?this.parent.level:this.parent?this.parent.level+1:0}get isLocked(){return this.parent?this.parent.isLocked:this.locked}get colspan(){return 1}rowspan(e){return this.level<e?e-this.level+1:1}get headerTemplateRef(){const e=this.headerTemplates.first;return e?e.templateRef:void 0}get footerTemplateRef(){return this.footerTemplate?this.footerTemplate.templateRef:void 0}get columnMenuTemplateRef(){const e=this.columnMenuTemplates.first;return e?e.templateRef:null}get displayTitle(){return this.title}get isVisible(){return!this.hidden&&this.matchesMedia}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(i),s.rXU(Gc))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-column-base"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,ate,5),s.wni(o,rte,4),s.wni(o,o7,4)),2&e){let r;s.mGM(r=s.lsd())&&(t.footerTemplate=r.first),s.mGM(r=s.lsd())&&(t.headerTemplates=r),s.mGM(r=s.lsd())&&(t.columnMenuTemplates=r)}},inputs:{resizable:"resizable",reorderable:"reorderable",minResizableWidth:"minResizableWidth",maxResizableWidth:"maxResizableWidth",title:"title",width:"width",autoSize:"autoSize",locked:"locked",sticky:"sticky",hidden:"hidden",media:"media",lockable:"lockable",stickable:"stickable",columnMenu:"columnMenu",includeInChooser:"includeInChooser",tableCellsRole:"tableCellsRole",style:"style",headerStyle:"headerStyle",filterStyle:"filterStyle",footerStyle:"footerStyle",cssClass:[s.Mj6.None,"class","cssClass"],headerClass:"headerClass",filterClass:"filterClass",footerClass:"footerClass"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),Us=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridCellTemplate",""]]}),i})(),r7=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridEditTemplate",""]]}),i})(),ute=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridGroupHeaderTemplate",""]]}),i})(),hte=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridGroupHeaderColumnTemplate",""]]}),i})(),pte=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridGroupFooterTemplate",""]]}),i})(),fte=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridFilterCellTemplate",""]]}),i})(),N_=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridFilterMenuTemplate",""]]}),i})();function fA(i){return xe(i.field)}let Oi=(()=>{class i extends Bo{constructor(e,t){super(e,t),this.sortable=!0,this.groupable=!0,this.editor="text",this.filter="text",this.filterable=!0,this.editable=!0}get templateRef(){return this.template?this.template.templateRef:void 0}get groupHeaderTemplateRef(){return this.groupHeaderTemplate?this.groupHeaderTemplate.templateRef:void 0}get groupHeaderColumnTemplateRef(){return this.groupHeaderColumnTemplate?this.groupHeaderColumnTemplate.templateRef:void 0}get groupFooterTemplateRef(){return this.groupFooterTemplate?this.groupFooterTemplate.templateRef:void 0}get editTemplateRef(){return this.editTemplate?this.editTemplate.templateRef:void 0}get filterCellTemplateRef(){return this.filterCellTemplate?this.filterCellTemplate.templateRef:void 0}get filterMenuTemplateRef(){return this.filterMenuTemplate?this.filterMenuTemplate.templateRef:void 0}get displayTitle(){return void 0===this.title?this.field:this.title}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Bo,13),s.rXU(Gc,8))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-column"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,Us,5),s.wni(o,ute,5),s.wni(o,hte,5),s.wni(o,pte,5),s.wni(o,r7,5),s.wni(o,fte,5),s.wni(o,N_,5)),2&e){let r;s.mGM(r=s.lsd())&&(t.template=r.first),s.mGM(r=s.lsd())&&(t.groupHeaderTemplate=r.first),s.mGM(r=s.lsd())&&(t.groupHeaderColumnTemplate=r.first),s.mGM(r=s.lsd())&&(t.groupFooterTemplate=r.first),s.mGM(r=s.lsd())&&(t.editTemplate=r.first),s.mGM(r=s.lsd())&&(t.filterCellTemplate=r.first),s.mGM(r=s.lsd())&&(t.filterMenuTemplate=r.first)}},inputs:{field:"field",format:"format",sortable:"sortable",groupable:"groupable",editor:"editor",filter:"filter",filterable:"filterable",editable:"editable"},features:[s.Jv_([{provide:Bo,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})();function a7(i){return i.isSpanColumn}let mte=(()=>{class i extends Bo{constructor(e,t){if(super(e,t),this.isSpanColumn=!0,this.template=new s.rOR,this.editTemplate=new s.rOR,this.childColumns=new s.rOR,this.includeInChooser=!1,this._editable=!0,e&&e.isSpanColumn)throw new Error(Pd_nestedInside("SpanColumnComponent","SpanColumnComponent"))}set editable(e){this._editable=e}get editable(){return xe(this.editTemplateRef)&&this._editable}set width(e){}get width(){return this.childColumns.reduce((e,t)=>e+t.width,0)}get leafIndex(){return this.childColumns.first.leafIndex}get templateRef(){const e=this.template.first;return e?e.templateRef:void 0}get editTemplateRef(){const e=this.editTemplate.first;return e?e.templateRef:void 0}get colspan(){return this.childColumns.filter(e=>e.isVisible).length}set locked(e){this._locked=e}get locked(){return this._locked||this.childColumns.some(e=>e.locked)}get childrenArray(){return this.childColumns.toArray()}get hasChildren(){return this.childColumns.length>0}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Bo,13),s.rXU(Gc,8))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-span-column"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,Us,4),s.wni(o,r7,4),s.wni(o,Oi,4)),2&e){let r;s.mGM(r=s.lsd())&&(t.template=r),s.mGM(r=s.lsd())&&(t.editTemplate=r),s.mGM(r=s.lsd())&&(t.childColumns=r)}},inputs:{editable:"editable",locked:"locked"},features:[s.Jv_([{provide:Bo,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})();const Pf=i=>i.reduce((n,e)=>n.concat(a7(e)?e.childrenArray:[e]),[]),Lwe=i=>i.reduce((n,e)=>n.concat(a7(e)?[e].concat(e.childrenArray):[e]),[]),L_=i=>Pf(i).filter(n=>n.isVisible),Pwe=i=>n=>(n||[]).reduce((e,t)=>e+(t[i]||0),0),zEt=Pwe("width"),l7=Pwe("colspan"),HEt=new RegExp("^[$A-Z_a-z][$A-Z_a-z0-9\\.]*$"),mA=i=>i.reduce((n,e)=>(e.isColumnGroup?n=n.concat(mA((i=>i.children.filter(n=>n!==i))(e))):e.isSpanColumn?n=n.concat(e.childrenArray):n.push(e),n),[]).filter(n=>n.isVisible),_te=(i,...n)=>mA(n).some(i),P0=i=>Yp(i,[{field:"orderIndex",dir:"asc"}]),Gwe=i=>Pc(i.parent)&&a7(i.parent);function xw(i){return i.isColumnGroup}let gte=(()=>{class i extends Bo{constructor(e,t){if(super(e,t),this.parent=e,this.includeInChooser=!1,this.isColumnGroup=!0,this.minResizableWidth=10,e&&e.isSpanColumn)throw new Error(Pd_nestedInside("ColumnGroupComponent","SpanColumnComponent"))}rowspan(){return 1}get colspan(){return this.children?l7(this.children.filter(e=>e!==this&&e.isVisible)):1}get leafIndex(){return this.children?(this.firstChild||{}).leafIndex:-1}get childrenArray(){return this.children.filter(e=>e!==this)}get hasChildren(){return!!this.firstChild}get firstChild(){return this.children.find(e=>e!==this)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Bo,13),s.rXU(Gc,8))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-column-group"]],contentQueries:function(e,t,o){if(1&e&&s.wni(o,Bo,4),2&e){let r;s.mGM(r=s.lsd())&&(t.children=r)}},features:[s.Jv_([{provide:Bo,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})();class Ste{constructor(n){this.columns=n,this.allColumns=new s.rOR,this.leafColumns=new s.rOR,this.lockedColumns=new s.rOR,this.nonLockedColumns=new s.rOR,this.lockedLeafColumns=new s.rOR,this.nonLockedLeafColumns=new s.rOR,this.totalLevels=0,this.changes=new s.bkB,this.leafColumnsToRender=[],this.lockedColumnsToRender=[],this.nonLockedColumnsToRender=[],this.hasGroupHeaderColumn=!1,this.hasGroupFooter=!1,this.hasFooter=!1,this.unlockedWidth=0}refresh(){const n=this.totalLevels,e=new Array,t=new Array,o=new Array,r=new Array,a=new Array,l=new Array,c=new Array,u=new Array,f=new Array;let _=!1,S=!1,v=!1,b=0,D=0;this.totalLevels=0,this.columns().forEach(O=>{const I=!0===O.isLocked?t:o,x=!0===O.isLocked?r:a,P=!0===O.isLocked?u:f;xw(O)||(I.push(O),e.push(O),c.push(...L_([O])),P.push(...L_([O])),_=_||_te(L=>!!L.groupHeaderColumnTemplateRef,O),S=S||_te(L=>!!L.groupFooterTemplateRef,O),v=v||_te(L=>!!L.footerTemplateRef,O),O.isLocked||(b+=O.width||0),O.isSpanColumn?O.childColumns.forEach(L=>{L.leafIndex=D++}):O.leafIndex=D++),x.push(O),l.push(O),this.totalLevels=O.level>this.totalLevels?O.level:this.totalLevels}),this.hasGroupHeaderColumn=_,this.hasGroupFooter=S,this.hasFooter=v,this.leafColumnsToRender=c,this.lockedColumnsToRender=u,this.nonLockedColumnsToRender=f,this.unlockedWidth=b;const k=((...i)=>{let n=!1;for(let e=0;e<i.length;e++){const[t,o]=i[e];n=n||t.length!==o.length,t.reset(o)}return n})([this.leafColumns,e],[this.lockedLeafColumns,t],[this.nonLockedLeafColumns,o],[this.lockedColumns,r],[this.allColumns,l],[this.nonLockedColumns,a])||n!==this.totalLevels;return k&&this.changes.emit(),k}}const KEt={left:"0px",right:"0px"};let ql=(()=>{class i{constructor(){this.visibilityChange=new s.bkB,this.lockedChange=new s.bkB,this.stickyChange=new s.bkB,this.columnRangeChange=new s.bkB,this.columnsContainer=new Ste(()=>[])}get lockedLeafColumns(){return this.columnsContainer.lockedLeafColumns}get nonLockedLeafColumns(){return this.columnsContainer.nonLockedLeafColumns}get isLocked(){return this.lockedLeafColumns.length>0}get totalLevels(){return this.columnsContainer.totalLevels}get hiddenColumns(){return this.list?this.list().filter(e=>!e.isVisible):[]}get leafNamedColumns(){const e=Pf(this.list().filterSort(t=>!t.isColumnGroup)).filter(t=>t.matchesMedia&&t.displayTitle);return Yp(e,[{field:"locked",dir:"desc"}])}get unlockedRootCount(){return this.list().rootColumns().filter(e=>!e.locked&&e.isVisible).length}stickyColumnsStyles(e){if(this.stickyColumns||(this.stickyColumns=this.list().rootColumns().filter(o=>o.sticky&&!o.locked&&o.isVisible)),0===this.stickyColumns.length)return KEt;const t=this.stickyColumns.reduce((o,r)=>(r.leafIndex<e.leafIndex?o.left+=r.width:r.leafIndex>e.leafIndex&&(o.right+=r.width),o),{left:0,right:0});return{left:`${t.left}px`,right:`${t.right}px`}}init(e,t){this.columnsContainer=e,this.list=t,this.stickyColumns=null}changeVisibility(e){this.stickyColumns=null,this.visibilityChange.emit(e)}changeLocked(e){this.stickyColumns=null,this.lockedChange.emit(e)}changeStuck(e){this.stickyColumns=null,this.stickyChange.emit(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),_A=(()=>{class i{constructor(e,t,o){this.ctx=e,this.dataChanges=t,this.columnInfoService=o,this.selectedItems=[],this.groupedAggregates={dates:[],numbers:[],booleans:[]},this.aggregates={sum:null,average:null,min:null,max:null,count:null,isTrue:null,isFalse:null,earliest:null,latest:null}}isAggregateIncluded(e){const{cellAggregates:t}=this.ctx.grid.selectable;return"boolean"==typeof t||t?.includes(e)}init(){if(this.ctx.grid.selectable.cellAggregates){this.data=this.dataChanges.data?this.dataChanges.data:this.ctx.grid.data,this.isAggregateIncluded("count")&&(this.aggregates.count=0);const e=this.ctx.grid.selectionDirective;e&&!this.isRowSelection&&(this.selectedItems=e.selectedKeys)}}onSelectionChange(e){return this.handleSelectedItems(e),this.nullifyAggregates(),this.handleAggregateChanges(),this.aggregates}get isRowSelection(){return"boolean"==typeof this.ctx.grid.selectable||!this.ctx.grid.selectable.cell}handleAggregateChanges(){const e=this.columnInfoService.lockedLeafColumns.toArray(),t=this.columnInfoService.nonLockedLeafColumns.toArray(),o=this.selectedItems.length,r=[...e,...t],a=r.map(l=>l.field);this.isAggregateIncluded("count")&&(this.aggregates.count=this.isRowSelection?o*r.length:o),this.selectedItems.forEach(l=>{if(this.isRowSelection)a.forEach(c=>{const u=l.dataItem;u&&u.hasOwnProperty(c)&&this.groupAggregates(l.dataItem[c])});else if(!this.isRowSelection){const c=this.data[l.itemKey];c&&c.hasOwnProperty(a[l.columnKey])&&this.groupAggregates(c[a[l.columnKey]])}}),this.calculateAggregates()}groupAggregates(e){"number"==typeof e?this.groupedAggregates.numbers.push(e):"boolean"==typeof e?this.groupedAggregates.booleans.push(e):e instanceof Date&&this.groupedAggregates.dates.push(e)}calculateAggregates(){if(this.groupedAggregates.numbers.length>0&&(this.isAggregateIncluded("min")&&(this.aggregates.min=Math.min(...this.groupedAggregates.numbers)),this.isAggregateIncluded("max")&&(this.aggregates.max=Math.max(...this.groupedAggregates.numbers)),this.isAggregateIncluded("sum")&&(this.aggregates.sum=this.groupedAggregates.numbers.reduce((e,t)=>e+t,0)),this.isAggregateIncluded("average")&&(this.aggregates.average=this.aggregates.sum/this.groupedAggregates.numbers.length)),this.groupedAggregates.booleans.length>0){if(this.isAggregateIncluded("isTrue")){const e=this.groupedAggregates.booleans.filter(t=>t).length;this.aggregates.isTrue=e>0?e:null}if(this.isAggregateIncluded("isFalse")){const e=this.groupedAggregates.booleans.length-this.aggregates.isTrue;this.aggregates.isFalse=e>0?e:null}}this.groupedAggregates.dates.length>0&&(this.isAggregateIncluded("earliest")&&(this.aggregates.earliest=new Date(Math.min(...this.groupedAggregates.dates))),this.isAggregateIncluded("latest")&&(this.aggregates.latest=new Date(Math.max(...this.groupedAggregates.dates))))}handleSelectedItems(e){const r=e[this.isRowSelection?"selectedRows":"selectedCells"],a=e[this.isRowSelection?"deselectedRows":"deselectedCells"];this.isRowSelection||a.forEach((l,c)=>{c+1<a.length&&l.itemKey===a[c+1].itemKey&&l.columnKey===a[c+1].columnKey&&a.splice(c,1)}),r.length>0&&r.forEach(l=>{this.selectedItems=[...this.selectedItems,l]}),a.length>0&&a.forEach(this.isRowSelection?l=>{this.selectedItems=this.selectedItems.filter(c=>c.dataItem!==l.dataItem)}:l=>{const c=this.selectedItems.findIndex(u=>u.itemKey===l.itemKey&&u.columnKey===l.columnKey);this.selectedItems.splice(c,1)})}nullifyAggregates(){this.groupedAggregates={dates:[],numbers:[],booleans:[]},this.aggregates.count=null,this.aggregates.sum=this.aggregates.average=null,this.aggregates.max=this.aggregates.min=null,this.aggregates.isFalse=this.aggregates.isTrue=null,this.aggregates.earliest=this.aggregates.latest=null}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(Fe),s.KVO(xf),s.KVO(ql))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),Nw=(()=>{class i{constructor(e,t,o,r,a){this.domEvents=e,this.aggregateService=t,this.localDataChangesService=o,this.navigationService=r,this.ctxService=a,this.changes=new s.bkB,this.currentSelection=[],this.selectAllChecked=!1,this.active=!1,this.dragging=!1,this.lastSelectionData={},this.addSubscriptions()}get enableMarquee(){if(!this.settings||this.settings&&"object"==typeof this.settings&&this.settings.checkboxOnly)return!1;const t=this.settings.selectable,o="object"==typeof t&&xe(t)&&"multiple"===t.mode&&!1!==t.enabled&&!t.checkboxOnly&&t.drag;return this.active&&o}init(e){if(this.settings=e,xe(this.lastSelectionStartIndex)||(this.lastSelectionStartIndex=this.ctxService?.grid.selectionDirective?.rangeSelectionStartRow?.index||0,this.lastSelectionData=this.ctxService?.grid.selectionDirective?.rangeSelectionStartRow?.dataItem||{}),this.currentSelection=[],e.selectable&&!1!==e.selectable.enabled){const t=this.getIterator();this._selectAllState=!0;let o=t.next();for(;!o.done;){if(o.value&&"data"===o.value.type){const r={dataItem:o.value.data,index:o.value.index};e.rowSelected(r)?this.currentSelection[o.value.index]=r:this._selectAllState=void 0}o=t.next()}0===this.currentSelection.length&&(this._selectAllState=!1)}}isSelected(e){if(this.settings&&this.active)return this.options.enabled&&xe(this.currentSelection[e])}handleClick(e,t){if(this.dragging)return void(this.dragging=!1);let o;const r=t.ctrlKey||t.metaKey;"single"===this.options.mode&&r&&this.isSelected(e.index)?o=this.toggle(e):"multiple"===this.options.mode&&(r&&!t.shiftKey?o=this.toggle(e):t.shiftKey&&(o=this.addAllTo(e,r))),xe(o)||(o=this.select(e),this.currentSelection[e.index]={dataItem:e.data,index:e.index}),(o.selectedRows.length||o.deselectedRows.length)&&(o.ctrlKey=r,o.shiftKey=t.shiftKey,this.options.cellAggregates&&(o.cellAggregates=this.aggregateService.onSelectionChange(o)),o.shiftKey&&(o.rangeStartRow={dataItem:this.lastSelectionData,index:this.lastSelectionStartIndex},o.rangeEndRow={dataItem:e.data,index:e.index}),this.changes.emit(o))}toggle(e){const t=[],o=[];this.lastSelectionStartIndex=e.index,this.lastSelectionData=e.data;const r={dataItem:e.data,index:e.index};return this.isSelected(e.index)?o.push(r):t.push(r),{deselectedRows:o,selectedRows:t}}toggleByIndex(e){const t=this.getIterator();this.selectAllChecked&&this.isSelected(e)&&(this.selectAllChecked=!1);let o=t.next();for(;!o.done;){if(o.value&&"data"===o.value.type&&o.value.index===e){const r={data:o.value.data,index:o.value.index};return this.isSelected(e)||"multiple"===this.options.mode?this.toggle(r):this.select(r)}o=t.next()}}select(e){const t=[],o=[];return this.lastSelectionStartIndex=e.index,this.lastSelectionData=e.data,this.isSelected(e.index)||o.push({dataItem:e.data,index:e.index}),this.currentSelection.forEach(r=>{r.index!==e.index&&t.push(r)}),{deselectedRows:t,selectedRows:o}}deselect(e){const t=this.getIterator();let o=t.next();for(;!o.done;){if(o.value&&"data"===o.value.type&&o.value.data===e){const r={dataItem:o.value.data,index:o.value.index};this.isSelected(r.index)&&this.changes.emit({ctrlKey:!1,deselectedRows:[r],selectedRows:[]})}o=t.next()}}addAllTo(e,t){const o=[],r=[],a=Math.min(this.lastSelectionStartIndex,e.index),l=Math.max(this.lastSelectionStartIndex,e.index),c=this.getIterator();let u=c.next();for(;!u.done;){if(u.value&&"data"===u.value.type){const f=u.value.index,_={dataItem:u.value.data,index:f};(f<a||f>l)&&this.isSelected(f)&&!t&&r.push(_),f>=a&&f<=l&&!this.isSelected(f)&&o.push(_)}u=c.next()}return{deselectedRows:r,selectedRows:o}}updateAll(e){this.selectAllChecked=e;const t=[],o=[],r=this.getIterator();let a=r.next();for(;!a.done;){if(a.value&&"data"===a.value.type){const c=a.value.index,u={dataItem:a.value.data,index:c};this.isSelected(c)&&!e&&o.push(u),!this.isSelected(c)&&e&&t.push(u)}a=r.next()}if(!t.length&&!o.length)return;const l={ctrlKey:!0,deselectedRows:o,selectedRows:t,shiftKey:!0};this.options.cellAggregates&&(l.cellAggregates=this.aggregateService.onSelectionChange(l)),this.changes.emit(l)}selectRange(e,t){const o=[],r=[],a=Math.min(e,t),l=Math.max(e,t),c=this.getIterator();let f,u=c.next();for(;!u.done;){if(u.value&&"data"===u.value.type){const _=u.value.index,S={dataItem:u.value.data,index:_};(_<a||_>l)&&this.isSelected(_)&&r.push(S),_>=a&&_<=l&&!this.isSelected(_)&&o.push(S)}u=c.next()}return this.options.cellAggregates&&(f=this.aggregateService.onSelectionChange({selectedRows:o,deselectedRows:r})),{deselectedRows:r,selectedRows:o,cellAggregates:f}}get selectAllState(){return this._selectAllState}get selected(){return this.currentSelection.map(e=>e.index).filter(e=>"number"==typeof e)}get options(){const e={cellAggregates:!1,checkboxOnly:!1,enabled:!0,mode:"multiple"};return xe(this.settings)?"boolean"==typeof this.settings.selectable?{cellAggregates:!1,checkboxOnly:!1,enabled:this.settings.selectable,mode:"multiple"}:Object.assign(e,this.settings.selectable):e}ngOnDestroy(){this.removeSubscriptions()}targetArgs(){return{index:this.mouseDownEventArgs.rowIndex,dataItem:this.mouseDownEventArgs.dataItem}}addSubscriptions(){this.cellClickSubscription||(this.cellClickSubscription=this.domEvents.cellClick.subscribe(e=>{this.options.enabled&&!this.options.checkboxOnly&&"contextmenu"!==e.type&&this.active&&this.handleClick({index:e.rowIndex,data:e.dataItem},e.originalEvent)})),this.mousedownSubscription||(this.mousedownSubscription=this.domEvents.cellMousedown.subscribe(e=>{this.mouseDownEventArgs=e,this.options.enabled&&(!this.options.mode||"multiple"===this.options.mode)&&!this.options.checkboxOnly&&e.originalEvent.shiftKey&&this.active&&(e.originalEvent.preventDefault(),this.navigationService.focusCellByElement(e.originalEvent.target))})),this.localDataChangesService&&!this.dataChangedSubscription&&(this.dataChangedSubscription=this.localDataChangesService.changes.subscribe(e=>{this.active&&xe(e.action)&&"remove"===e.action&&this.deselect(e.item)}))}getIterator(){const e=this.settings.view.accessor();if(e)return e[Af]()}removeSubscriptions(){this.cellClickSubscription&&(this.cellClickSubscription.unsubscribe(),this.cellClickSubscription=null),this.mousedownSubscription&&(this.mousedownSubscription.unsubscribe(),this.mousedownSubscription=null),this.dataChangedSubscription&&(this.dataChangedSubscription.unsubscribe(),this.dataChangedSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(A0),s.KVO(_A),s.KVO(xf),s.KVO(Va),s.KVO(Fe))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),c7=(()=>{class i{constructor(e,t,o,r){this.domEvents=e,this.aggregateService=t,this.localDataChangesService=o,this.navigationService=r,this.changes=new s.bkB,this.mouseUpEvent=new s.bkB,this.currentSelection=[],this.active=!1,this.dragging=!1,this.dragSelectDeselect=!1,this.lastSelectionItem={itemKey:0,columnKey:0},this.lastSelectionItemRowIndex=0,this.lastSelectionItemColIndex=0,this.addSubscriptions()}get enableMarquee(){if(!this.settings||this.settings&&"object"==typeof this.settings&&this.settings.checkboxOnly)return!1;const t=this.settings.selectable,o="object"==typeof t&&xe(t)&&"multiple"===t.mode&&t.cell&&!1!==t.enabled&&t.drag;return this.active&&o}init(e){if(this.settings=e,this.currentSelection=[],e.selectable&&!1!==e.selectable.enabled){const t=this.getIterator();let o=t.next();for(;!o.done;){if(o.value&&"data"===o.value.type){const r={dataItem:o.value.data,index:o.value.index};e.columns.forEach(a=>{const l=e.cellSelected(r,a,a.leafIndex);l.selected&&this.currentSelection.push(l.item)})}o=t.next()}}}isCellSelected(e,t){if(this.settings&&this.active){const o=this.settings.cellSelected({dataItem:e.data,index:e.index},t,t.leafIndex);return this.options.enabled&&o.selected}return!1}handleClick(e,t){if(this.dragging)return void(this.dragging=!1);let o;const r=t.ctrlKey||t.metaKey;if("single"===this.options.mode&&r&&this.isCellSelected(e,e.column))o=this.toggle(e);else if("multiple"===this.options.mode)if(r&&!t.shiftKey)o=this.toggle(e);else if(t.shiftKey){const a=Math.min(this.lastSelectionItemRowIndex,e.index),l=Math.min(this.lastSelectionItemColIndex,e.column.leafIndex),c=Math.max(this.lastSelectionItemRowIndex,e.index),u=Math.max(this.lastSelectionItemColIndex,e.column.leafIndex);o=this.selectRange(a,l,c,u)}xe(o)||(o=this.select(e),this.currentSelection=[this.lastSelectionItem]),(o.selectedCells.length||o.deselectedCells.length)&&(o.ctrlKey=r,o.shiftKey=t.shiftKey,this.options.cellAggregates&&!t.shiftKey&&(o.cellAggregates=this.aggregateService.onSelectionChange(o)),o.shiftKey&&(o.rangeStartCell=this.lastSelectionItem,o.rangeEndCell={...this.settings.cellSelected({dataItem:e.data,index:e.index},e.column,e.column.leafIndex).item}),this.changes.emit(o))}toggle(e){const t=[],o=[];return this.lastSelectionItem=this.settings.cellSelected({dataItem:e.data,index:e.index},e.column,e.column.leafIndex).item,this.lastSelectionItemRowIndex=e.index,this.lastSelectionItemColIndex=e.column.leafIndex,this.isCellSelected(e,e.column)?o.push(this.lastSelectionItem):t.push(this.lastSelectionItem),{deselectedCells:o,selectedCells:t}}select(e){const t=[],o=[];return this.lastSelectionItem=this.settings.cellSelected({dataItem:e.data,index:e.index},e.column,e.column.leafIndex).item,this.lastSelectionItemRowIndex=e.index,this.lastSelectionItemColIndex=e.column.leafIndex,this.isCellSelected(e,e.column)||t.push(this.lastSelectionItem),this.currentSelection.forEach(r=>{(r.itemKey!==this.lastSelectionItem.itemKey||r.columnKey!==this.lastSelectionItem.columnKey)&&o.push(r)}),{deselectedCells:o,selectedCells:t}}deselect(e){const t=this.getIterator();let r,o=t.next();for(;!o.done;){if(o.value&&"data"===o.value.type&&o.value.data===e){r={dataItem:o.value.data,index:o.value.index};break}o=t.next()}if(r){const a=this.currentSelection.filter(l=>{const c=this.settings.cellSelected(r,null,null).item;return l.itemKey===c.itemKey});a.length&&this.changes.emit({ctrlKey:!1,deselectedCells:a,selectedCells:[]})}}selectRange(e,t,o,r){const a=[],l=[],c=Math.min(e,o),u=Math.min(t,r),f=Math.max(e,o),_=Math.max(t,r),S=this.getIterator();let b,v=S.next();for(;!v.done;){if(v.value&&"data"===v.value.type){const D=v.value.index,O={dataItem:v.value.data,index:D};this.settings.columns.forEach(I=>{const{item:x}=this.settings.cellSelected(O,I,I.leafIndex),P=this.isCellSelected(v.value,I),j=c<=D&&D<=f&&u<=I.leafIndex&&I.leafIndex<=_;!j&&P&&l.push(x),j&&!P&&a.push(x)})}v=S.next()}return this.options.cellAggregates&&(b=this.aggregateService.onSelectionChange({selectedCells:a,deselectedCells:l})),{deselectedCells:l,selectedCells:a,cellAggregates:b}}get options(){const e={cellAggregates:!1,checkboxOnly:!1,enabled:!0,mode:"multiple"};return xe(this.settings)?"boolean"==typeof this.settings.selectable?{cellAggregates:!1,checkboxOnly:!1,enabled:this.settings.selectable,mode:"multiple"}:Object.assign(e,this.settings.selectable):e}ngOnDestroy(){this.removeSubscriptions()}addSubscriptions(){this.cellClickSubscription||(this.cellClickSubscription=this.domEvents.cellClick.subscribe(e=>{this.options.enabled&&!this.options.checkboxOnly&&"contextmenu"!==e.type&&this.active&&this.handleClick({index:e.rowIndex,data:e.dataItem,column:e.column},e.originalEvent)})),this.mousedownSubscription||(this.mousedownSubscription=this.domEvents.cellMousedown.subscribe(e=>{this.mouseDownEventArgs=e,this.options.enabled&&(!this.options.mode||"multiple"===this.options.mode)&&!this.options.checkboxOnly&&e.originalEvent.shiftKey&&this.active&&(e.originalEvent.preventDefault(),this.navigationService.focusCellByElement(e.originalEvent.target))})),this.localDataChangesService&&!this.dataChangedSubscription&&(this.dataChangedSubscription=this.localDataChangesService.changes.subscribe(e=>{this.active&&xe(e.action)&&"remove"===e.action&&this.deselect(e.item)}))}getIterator(){const e=this.settings.view.accessor();if(e)return e[Af]()}removeSubscriptions(){this.cellClickSubscription&&(this.cellClickSubscription.unsubscribe(),this.cellClickSubscription=null),this.mousedownSubscription&&(this.mousedownSubscription.unsubscribe(),this.mousedownSubscription=null),this.dataChangedSubscription&&(this.dataChangedSubscription.unsubscribe(),this.dataChangedSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(A0),s.KVO(_A),s.KVO(xf),s.KVO(Va))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const Uwe={topLeft:{x:2,y:2},topRight:{x:-2,y:2},bottomLeft:{x:2,y:-2},bottomRight:{x:-2,y:-2}};let Fwe=(()=>{class i{constructor(e,t,o,r,a,l){this.draggable=e,this.selection=t,this.cellSelection=o,this.domEvents=r,this.host=a,this.renderer=l,this.selectionStarted=!1}ngOnInit(){this.subscriptions=this.draggable.kendoPress.subscribe(this.start.bind(this)),this.subscriptions.add(this.draggable.kendoDrag.subscribe(this.moveMarquee.bind(this)))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.clean()}start(e){const t=e.originalEvent.target.matches(".k-grid-content, .k-grid-content-locked, .k-grid-aria-root, .k-checkbox"),o=$s(e.originalEvent.target.closest(".k-drag-cell"));t||o?this.pressArgs=null:(this.pressArgs=e,this.pressTarget=null)}moveMarquee(e){this.pressTarget||(this.pressTarget=this.cellSelection.active?this.cellSelection.mouseDownEventArgs:this.selection.mouseDownEventArgs);const t=this.pressArgs;if(!t)return;if(!this.selectionStarted){if(!(Math.sqrt((e.pageX-t.pageX)**2+(e.pageY-t.pageY)**2)>5))return;this.selectionStarted=!0,this.renderer.addClass(this.host.nativeElement,"user-select-none"),this.renderer.setStyle(this.host.nativeElement,"user-select","none"),this.dragEndSubscription=Bt(this.domEvents.cellMouseup.pipe(We(1)),this.draggable.kendoRelease.pipe(c_(1),We(1))).subscribe(this.endSelection.bind(this))}this.initMarquee();const o=this.marqueeElement,r=this.getMarqueeQuadrant(e.pageX,e.pageY,t.pageX,t.pageY);let a=Math.min(e.pageX,t.pageX),l=Math.min(e.pageY,t.pageY);const c=Math.abs(e.pageX-t.pageX),u=Math.abs(e.pageY-t.pageY);r&&(a+=Uwe[r].x,l+=Uwe[r].y),o.style.left=`${a}px`,o.style.top=`${l}px`,o.style.width=`${c}px`,o.style.height=`${u}px`}endSelection(e){("mouseup"===e.type||"touchend"===e.type)&&(this.cellSelection.active?(this.cellSelection.dragging=!0,this.cellSelection.changes.emit(this.cellSelection.selectRange(this.pressTarget.rowIndex,this.pressTarget.column.leafIndex,e.rowIndex,e.column.leafIndex))):this.selection.active&&(this.selection.dragging=!0,this.selection.changes.emit(this.selection.selectRange(this.pressTarget.rowIndex,e.rowIndex)))),this.clean()}clean(){this.marqueeElement&&(document.body.removeChild(this.marqueeElement),this.marqueeElement=null),this.dragEndSubscription&&this.dragEndSubscription.unsubscribe(),this.renderer.removeClass(this.host.nativeElement,"user-select-none"),this.renderer.removeStyle(this.host.nativeElement,"user-select"),this.dragEndSubscription=null,this.pressTarget=null,this.pressArgs=null,this.selectionStarted=!1,this.cellSelection.active?this.cellSelection.dragging=!1:this.selection.dragging=!1}initMarquee(){ne()&&(this.marqueeElement||(this.marqueeElement=(()=>{if(!ne())return;const i=document.createElement("div");i.className="k-marquee";const n=document.createElement("div");return n.className="k-marquee-color",i.appendChild(n),i})(),document.body.appendChild(this.marqueeElement)))}getMarqueeQuadrant(e,t,o,r){const a=e<o,l=e>o,c=t<r,u=t>r;return a&&c?"topLeft":a&&u?"bottomLeft":l&&c?"topRight":l&&u?"bottomRight":null}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(vd),s.rXU(Nw),s.rXU(c7),s.rXU(A0),s.rXU(s.aKT),s.rXU(s.sFG))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridSelectionMarquee",""]]}),i})();class vte extends s.bkB{constructor(n,e=!1){super(e),this.ngZone=n}subscribe(n,e,t){let o,r=l=>null,a=()=>null;return n&&"object"==typeof n?(o=l=>{this.ngZone.run(()=>n.next(l))},n.error&&(r=l=>{this.ngZone.run(()=>n.error(l))}),n.complete&&(a=()=>{this.ngZone.run(()=>n.complete())})):(o=l=>{this.ngZone.run(()=>n(l))},e&&(r=l=>{this.ngZone.run(()=>e(l))}),t&&(a=()=>{this.ngZone.run(()=>t())})),super.subscribe(o,r,a)}}const qEt={name:"@progress/kendo-angular-grid",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925440,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};let Lw=(()=>{class i{constructor(e){this.templateRef=e,this._condition=()=>!0}set showIf(e){if("function"!=typeof e)throw new Error(Fo_functionType("showIf",e));this._condition=e}get showIf(){return this._condition}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridDetailTemplate",""]],inputs:{showIf:[s.Mj6.None,"kendoGridDetailTemplateShowIf","showIf"]}}),i})();const Bwe=()=>ne()&&document.createElement;let Vwe,d7=null,Cte=null,bte=(()=>{class i{constructor(e,t){this.zone=e,this.changeDetector=t,this.changes=new s.bkB,!(typeof window>"u")&&this.zone.runOutsideAngular(()=>{this.subscriptions=Dt(window,"resize").pipe(TC(100)).subscribe(()=>{Vwe!==window.devicePixelRatio&&e.run(()=>{d7=null,this.changes.emit(),this.changeDetector.markForCheck()})})})}ngOnDestroy(){this.subscriptions&&(this.subscriptions.unsubscribe(),this.subscriptions=null)}get scrollbarWidth(){return function QEt(){if(null===d7&&Bwe()){Vwe=window.devicePixelRatio||1;const i=document.createElement("div");i.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",i.innerHTML="&nbsp;",document.body.appendChild(i),d7=i.offsetWidth-i.scrollWidth,document.body.removeChild(i)}return d7}()}get rtlScrollLeft(){return function ZEt(){if(null===Cte&&Bwe()){const i=document.createElement("div");i.style.direction="rtl",i.style.display="block",i.style.clear="both",i.style.width="100px",i.style.visibility="hidden",i.style.position="absolute",i.style.left="-10000px",i.style.overflow="scroll",i.style.zoom="1";const n=document.createElement("div");n.style.width="200px",n.style.height="1px",i.append(n),document.body.appendChild(i);const e=i.scrollLeft;i.scrollLeft=-1,Cte=i.scrollLeft<0?i.scrollLeft:e,document.body.removeChild(i)}return Cte}()}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(s.SKi),s.KVO(s.gRc))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const Ete=i=>void 0!==i.items&&void 0!==i.field,zwe=i=>i.reduce((n,e)=>Ete(e)?n.concat(zwe(e.items)):n.concat([e]),[]),Hwe=(i,{footers:n,level:e,dataIndex:t,parentGroupIndex:o,groupIndex:r,parentGroup:a})=>{const l=i[0];return xe(l)&&Ete(l)?((i=>void 0!==i.offset&&void 0!==i.skipHeader)(l)&&(r=xe(l.offset)?l.offset:r),new oyt(i,n,e,t,o,r,a)):new iyt(i,t,o,a)};class nyt{constructor(n,e=0){this.arr=n,this.idx=e,this.arr=n||[]}[Af](){return this}next(){return this.idx<this.arr.length?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}}}class jwe{constructor(n,e=0,t=(o=>o)){this.dataIndex=e,this.resultMap=t,this._innerIterator=n[Af]?n[Af]():new nyt(n)}[Af](){return this}next(){return this.resultMap(this._innerIterator.next(),this.dataIndex++)}}class iyt extends jwe{constructor(n,e,t,o){super(n,e,(r,a)=>({done:r.done,value:{data:r.value,groupIndex:t,index:a,type:"data",group:o}}))}get index(){return this.dataIndex}}class oyt{constructor(n,e=!1,t=0,o=0,r="",a=0,l=void 0){this.arr=n,this.outputFooters=e,this.level=t,this.dataIndex=o,this.parentIndex=r,this.groupIndex=a,this.parentGroup=l,this.currentGroupIndex="",this.arr=n||[],this._iterator=new jwe(this.arr,this.dataIndex)}[Af](){return this}nextGroupItem(){return this.current=this._iterator.next().value,this._innerIterator=null,this.current?(this.currentGroupIndex=((i,n)=>`${i&&i+"_"}${this.groupIndex++}`)(this.parentIndex),{done:!1,value:{data:this.current,index:this.currentGroupIndex,level:this.level,type:"group",parentGroup:this.parentGroup}}):(this.current=null,{done:!0,value:void 0})}footerItem(){if(this.current){const n=this.current;return this.current=null,{done:!1,value:{data:n,groupIndex:this.currentGroupIndex,level:this.level,type:"footer",group:{data:n,index:this.currentGroupIndex,level:this.level,type:"group",parentGroup:this.parentGroup}}}}return this.current=null,{done:!0,value:void 0}}innerIterator(n){return this._innerIterator||(this._innerIterator=Hwe(n.items,{dataIndex:this.dataIndex,footers:this.outputFooters,level:this.level+1,parentGroupIndex:this.currentGroupIndex,parentGroup:{data:this.current,index:this.currentGroupIndex,level:this.level,type:"group",parentGroup:this.parentGroup}})),this._innerIterator}nextDataItem(n){const t=this.innerIterator(n).next();return xe(t.value)&&!t.done&&"data"===t.value.type&&(this.dataIndex=t.value.index+1),t.done?void 0:t}next(){return xe(this.current)?this.nextDataItem(this.current)||(this.outputFooters?this.footerItem():this.nextGroupItem()):this.nextGroupItem()}get index(){return this.dataIndex+1}}class ryt{constructor(n,e=0,t=!1){this.source=n,this.skip=e,this.groupFooters=t,this.source=this.source?this.source:[],this.isObject=this.isGridDataResult(this.source)}isGridDataResult(n){return void 0!==n.total&&void 0!==n.data}get total(){return this.isObject?this.source.total:this.source.length}get data(){return this.isObject?this.source.data:this.source}map(n){return this.data.map(n)}filter(n){return this.data.filter(n)}reduce(n,e){return this.data.reduce(n,e)}forEach(n){this.data.forEach(n)}some(n){return this.data.some(n)}[Af](){return Hwe(this.data,{dataIndex:this.skip,footers:this.groupFooters,groupIndex:this.skip})}toString(){return this.data.toString()}}class ayt{constructor(n){this.accessor=n}get total(){return this.accessor().total}get length(){return this.accessor().data.length}get first(){return this.accessor().data[0]}get last(){return this.accessor().data[this.length-1]}at(n){return((i,n)=>{const e=i[0];return xe(e)&&Ete(e)?zwe(i)[n]:i[n]})(this.accessor().data,n)}map(n){return this.accessor().map(n)}filter(n){return this.accessor().filter(n)}reduce(n,e){return this.accessor().reduce(n,e)}forEach(n){this.accessor().forEach(n)}some(n){return this.accessor().some(n)}[Af](){return this.accessor()[Af]()}toString(){return this.accessor().toString()}}class $we{constructor(n,e,t){this.keysX=new Map,this.totalKeysCount=0,n&&e&&t&&n.forEach(o=>this.add(o[e],o[t]))}get size(){return this.totalKeysCount}add(n,e){this.keysX.has(n)||this.keysX.set(n,new Set),this.has(n,e)||(this.keysX.get(n).add(e),this.totalKeysCount+=1)}delete(n,e){this.has(n,e)&&(this.keysX.get(n).delete(e),this.totalKeysCount-=1)}has(n,e){return this.keysX.has(n)&&this.keysX.get(n).has(e)}clear(){this.keysX.clear(),this.totalKeysCount=0}toArray(n,e){return Array.from(this.keysX).reduce((t,o)=>{const[r,a]=o;return Array.from(a).forEach(l=>t.push({[n]:r,[e]:l})),t},[])}}let Xwe=(()=>{class i{constructor(e,t){this.ctx=e,this.cd=t,this.selectedKeys=[],this.rangeSelectionStartColumnIndex=0,this.selectedKeysChange=new s.bkB,this.rowSelectionState=new Set,this.cellSelectionState=new $we,this.init()}get isCellSelectionMode(){return xe(this.ctx.grid.selectable)&&this.ctx.grid.selectable.cell}ngOnChanges(e){xe(e.selectedKeys)&&this.lastSelectionState!==this.selectedKeys&&this.setState(this.selectedKeys)}init(){xe(this.ctx.grid.rowSelected)||(this.ctx.grid.rowSelected=e=>this.rowSelectionState.has(this.getItemKey(e))),xe(this.ctx.grid.cellSelected)||(this.ctx.grid.cellSelected=(e,t,o)=>{const r=this.getSelectionItem(e,t,o);return{selected:this.cellSelectionState.has(r.itemKey,r.columnKey),item:r}}),this.selectionChangeSubscription=this.ctx.grid.selectionChange.subscribe(this.onSelectionChange.bind(this))}destroy(){this.selectionChangeSubscription.unsubscribe()}reset(){this.rowSelectionState.clear(),this.cellSelectionState.clear()}getItemKey(e){if(this.selectionKey){if("string"==typeof this.selectionKey)return e.dataItem[this.selectionKey];if("function"==typeof this.selectionKey)return this.selectionKey(e)}return e.index}stateToArray(){return this.isCellSelectionMode?this.cellSelectionState.toArray("itemKey","columnKey"):Array.from(this.rowSelectionState)}getSelectionItem(e,t,o){const r={};return r.itemKey=this.getItemKey(e),xe(t)||xe(o)?(this.columnKey&&("string"==typeof this.columnKey&&(r.columnKey=e.dataItem[this.columnKey]),"function"==typeof this.columnKey&&(r.columnKey=this.columnKey(t,o))),{itemKey:r.itemKey,columnKey:r.columnKey?r.columnKey:o}):r}onSelectionChange(e){e.selectedRows?(e.deselectedRows.forEach(t=>{const o=this.getItemKey(t);this.rowSelectionState.delete(o)}),"single"===this.ctx.grid.selectableSettings.mode&&this.rowSelectionState.size>0&&this.reset(),e.selectedRows.forEach(t=>{const o=this.getItemKey(t);this.rowSelectionState.add(o)})):(e.deselectedCells.forEach(({itemKey:t,columnKey:o})=>{this.cellSelectionState.delete(t,o)}),"single"===this.ctx.grid.selectableSettings.mode&&this.cellSelectionState.size>0&&this.reset(),e.selectedCells.forEach(({itemKey:t,columnKey:o})=>{this.cellSelectionState.add(t,o)})),this.cd.markForCheck(),this.notifyChange()}notifyChange(){this.lastSelectionState=this.stateToArray(),this.selectedKeysChange.emit(this.lastSelectionState)}setState(e){this.reset(),this.isCellSelectionMode?this.cellSelectionState=new $we(e,"itemKey","columnKey"):this.rowSelectionState=new Set(e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe),s.rXU(s.gRc))},i.\u0275dir=s.FsC({type:i,selectors:[["kendo-grid-selection-base"]],inputs:{selectedKeys:"selectedKeys",rangeSelectionStartRow:"rangeSelectionStartRow",rangeSelectionStartColumnIndex:"rangeSelectionStartColumnIndex",selectionKey:[s.Mj6.None,"kendoGridSelectBy","selectionKey"],columnKey:"columnKey"},outputs:{selectedKeysChange:"selectedKeysChange"},features:[s.OA$]}),i})();const u7=(i,n)=>{i.forEach(e=>{n(e),e.isColumnGroup&&e.hasChildren&&u7(e.childrenArray,n)})},Wwe=(i,n)=>{P0(i).forEach(e=>{n(e),e.isColumnGroup&&e.hasChildren&&Wwe(e.childrenArray,n)})},yte=(i,n)=>{const e=[];return P0(i).forEach(t=>{if(n(t))if(t.isColumnGroup){const o=yte(t.childrenArray,n);o.length&&e.push(t,...o)}else(!t.isSpanColumn||yte(t.childrenArray,n).length)&&e.push(t)}),e.sort((t,o)=>Number(o.locked)-Number(t.locked))};class gA{constructor(n){this.columns=n}static empty(){return new gA(new s.rOR)}forEach(n){u7(this.columns,n)}filter(n){const e=[];return u7(this.columns,t=>{n(t)&&e.push(t)}),e}filterHierarchy(n){return yte(this.columns.toArray(),n)}filterSort(n){const e=[];return Wwe(this.columns.toArray(),t=>{n(t)&&e.push(t)}),e}toArray(){const n=[];return u7(this.columns,e=>{n.push(e)}),n}rootColumns(){return this.columns.toArray()}totalColumnLevels(){let n=0;return this.forEach(e=>{n=Math.max(e.level,n)}),n}}class h7{constructor(){this._columnList=gA.empty}get columns(){return Pf(this._columnList().toArray()).filter(fA)}registerColumnsContainer(n){this._columnList=n}formatForGroup(n){const e=this.columnForGroup(n);return e?e.format:""}isGroupable(n){const[e]=this.columns.filter(t=>t.field===n);return!e||e.groupable}groupTitle(n){const e=this.columnForGroup(n);return e?e.title||e.field:this.groupField(n)}groupHeaderTemplate(n){const e=this.columnForGroup(n);return e?e.groupHeaderTemplateRef||e.groupHeaderColumnTemplateRef:void 0}groupField(n){return n.data?n.data.field:n.field}columnForGroup(n){const e=this.groupField(n),[t]=this.columns.filter(o=>o.field===e);return t}}let p7=(()=>{class i{constructor(e){this.ngZone=e,this.changes=new s.bkB}notify(){(!this.subscription||this.subscription.closed)&&(this.subscription=this.ngZone.onStable.asObservable().pipe(We(1)).subscribe(()=>this.changes.emit()))}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(s.SKi))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),Dte=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridNoRecordsTemplate",""]]}),i})();const Kwe=i=>n=>n.forEach(e=>e.style.height=i),Ywe=(i,n)=>{if(!ne())return;const e=document.activeElement,t=((i,n)=>{const e=[];for(let t=0,o=i.length;t<o&&n[t];t++)e.push([i[t],n[t]]);return e})(i.rows,n.rows);(i=>{i.filter(([n,e])=>n.style.height||e.style.height).forEach(Kwe(""))})(t);const o=(i=>i.map(([n,e])=>{const t=n.offsetHeight,o=e.offsetHeight;return t<o?o:t}))(t);[i,n].forEach(r=>r.style.display="none"),t.forEach((i=>(n,e)=>Kwe(`${i[e]+1}px`)(n))(o)),[i,n].forEach(r=>r.style.display=""),document.activeElement!==e&&(i.contains(e)||n.contains(e))&&e.focus()};let SA=(()=>{class i{constructor(){this.isColumnMenu=!1,this.isPopupOpen=!1,this.isTabbedInterface=!1}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),ma=(()=>{class i{constructor(e){this.changes=new Ke.B,this.menuTabbingService=e}filter(e){this.changes.next(e)}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(SA,8))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),wte=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoPagerTemplate",""]]}),i})(),vA=(()=>{class i{constructor(){this.savePDF=new s.bkB,this.drawPDF=new s.bkB,this.exportClick=new s.bkB,this.dataChanged=new s.bkB}save(e){this.emitEvent(this.savePDF,e)}draw(e,t){this.emitEvent(this.drawPDF,{component:e,promise:t})}emitEvent(e,t){if(0===e.observers.length){if((0,s.naY)())throw new Error(Fo_requiredModule("PDF","PDFModule","<kendo-grid-pdf>"))}else e.emit(t)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();class hyt extends x0{constructor(){super()}}let kte=(()=>{class i{constructor(){this.scroll=!1}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const fyt=i=>window.matchMedia(i).matches;let Jwe=(()=>{class i{constructor(){this.matchMedia=fyt}matchesMedia(e){return!e||this.matchMedia((i=>({xs:"(max-width: 576px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"}[i]||i))(e))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),f7=(()=>{class i{constructor(){this.saveToExcel=new s.bkB,this.exportClick=new s.bkB}save(e){if(0===this.saveToExcel.observers.length){if((0,s.naY)())throw new Error(Fo_requiredModule("excel","ExcelModule","<kendo-grid-excel>"))}else this.saveToExcel.emit(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),Ote=(()=>{class i{constructor(e){this.templateRef=e,this._position="top"}set position(e){this._position=e}get position(){return this._position}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridToolbarTemplate",""]],inputs:{position:"position"}}),i})(),m7=(()=>{class i{constructor(e){this.ngZone=e,this.changes=new Ke.B,this.elements=[],this.subscriptions=new be.yU,this.headerSubscription=new be.yU,this.bodySubscription=new be.yU,this.subscriptions.add(this.changes.subscribe(t=>this.scrollLeft(t)))}registerEmitter(e,t){this.unregister(t),this.elements.push({element:e,sourceType:t}),("body"===t||"header"===t)&&this.ngZone.runOutsideAngular(()=>{const o=Dt(e,"scroll").pipe((0,V.T)(({target:{scrollLeft:a}})=>({scrollLeft:a,sourceType:t}))),r=o.pipe(RJ((a,l)=>a.scrollLeft===l.scrollLeft),X(a=>!this.source||this.source===a.sourceType),F(a=>this.source=a.sourceType)).subscribe(a=>this.changes.next(a));r.add(o.pipe(X(a=>this.source&&this.source!==a.sourceType)).subscribe(()=>this.source=void 0)),"body"===t?this.bodySubscription.add(r):this.headerSubscription.add(r)})}destroy(){this.subscriptions.unsubscribe(),this.headerSubscription.unsubscribe(),this.bodySubscription.unsubscribe()}scrollLeft({scrollLeft:e,sourceType:t}){this.ngZone.runOutsideAngular(()=>{this.elements.filter(o=>t!==o.sourceType).forEach(({element:o})=>o.scrollLeft=e)})}unregister(e){const t=this.elements.findIndex(o=>o.sourceType===e);t>-1&&("header"===e?(this.headerSubscription.unsubscribe(),this.headerSubscription=new be.yU):"body"===e&&(this.bodySubscription.unsubscribe(),this.bodySubscription=new be.yU),this.elements.splice(t,1))}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(s.SKi))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),Tte=(()=>{class i{constructor(){this.resizeSubscription=new be.yU(()=>{}),this.dispatcher=new Ke.B,this.changes=this.dispatcher.asObservable().pipe(AJ(100))}connect(e){this.resizeSubscription.add(e.subscribe(this.dispatcher))}destroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const Mte=i=>i.parent?Mte(i.parent):!!i.locked,qwe=(i,n)=>Object.assign({columns:mA([i]),locked:Mte(i)},n);let CA=(()=>{class i{constructor(){this.changes=new s.bkB,this.tables=[],this.batch=null}start(e){this.trackColumns(e);const t=(this.column.isColumnGroup?[e]:[]).concat(mA([e]));this.changes.emit({columns:t,locked:Mte(this.column),type:"start"})}resizeColumns(e){const t=qwe(this.column,{deltaPercent:e,type:"resizeColumn"});this.changes.emit(t)}resizeTable(e,t){const o=qwe(e,{delta:t,type:"resizeTable"});this.changes.emit(o)}resizedColumn(e){this.resizedColumns.push(e)}end(){this.changes.emit({columns:[],resizedColumns:this.resizedColumns,type:"end"})}registerTable(e){return this.tables.push(e),()=>{this.tables.splice(this.tables.indexOf(e),1)}}measureColumns(e){null!==this.batch?this.batch.push(...e):this.autoFitBatch(e,()=>this.end())}autoFit(...e){const t=e.filter(o=>!o.isLocked);this.autoFitStart(t),this.autoFitBatch(this.batch,()=>{if(t.length<e.length){const o=e.filter(r=>r.isLocked);this.autoFitStart(o),this.autoFitBatch(this.batch,()=>this.end())}else this.end()})}trackColumns(e){this.resizedColumns=[],this.column=e}autoFitStart(e){if(this.batch=[],this.resizedColumns=[],0===e.length)return;const t=e[0].isLocked;this.changes.emit({type:"start",columns:e,locked:t}),this.changes.emit({type:"triggerAutoFit",columns:e,locked:t})}autoFitBatch(e,t){const o=e.length>0&&e[0].column.isLocked;H_e(...this.tables.filter(a=>a.locked===o).map(a=>a.autoFit(e))).pipe(We(1)).subscribe(a=>{this.changes.emit({columns:e.map(l=>l.column),type:"autoFitComplete",widths:a,locked:o}),t&&t()}),this.batch=null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const bA=i=>!0===i||"string"==typeof i&&i.indexOf("row")>-1;class gyt extends x0{constructor(n){super(),this.originalEvent=n}}let EA=(()=>{class i{constructor(e,t,o,r,a){this.popupService=e,this.renderer=t,this.ngZone=o,this.ctx=a,this.onClose=new Ke.B,this.pointerEventsSub=new be.yU,this.scrollSubscription=r.changes.subscribe(()=>this.destroy())}open(e,t,o,r="k-grid-filter-popup"){const a=xe(o)&&this.popupRef===o;if(this.destroy(),!a){const c=this.ctx.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchorAlign:{vertical:"bottom",horizontal:c},popupAlign:{vertical:"top",horizontal:c},anchor:e,popupClass:r,content:t,positionMode:"absolute"}),this.renderer.setAttribute(this.popupRef.popupElement,"dir",this.ctx.localization.rtl?"rtl":"ltr"),this.attachClose(e)}const l=this.popupRef?.popupElement;return l&&this.attachMouseListeners(l),this.popupRef}destroy(){this.popupRef&&(this.detachClose(),this.pointerEventsSub.unsubscribe(),this.pointerEventsSub=null,this.popupRef.close(),this.popupRef=null)}ngOnDestroy(){this.destroy(),this.scrollSubscription.unsubscribe()}detachClose(){this.removeClick&&this.removeClick()}attachClose(e){ne()&&(this.detachClose(),this.ngZone.runOutsideAngular(()=>this.removeClick=this.renderer.listen("document","click",t=>{if(!((i,n)=>{for(;i;){if(n(i))return!0;i=i.parentNode}return!1})(t.target,o=>this.popupRef.popupElement===o||o===e)){const o=new gyt(t);this.onClose.next(o),!o.isDefaultPrevented()&&this.canClosePopup&&this.destroy(),this.canClosePopup=!0}})))}attachMouseListeners(e){this.pointerEventsSub=new be.yU,this.ngZone.runOutsideAngular(()=>{this.pointerEventsSub.add(this.renderer.listen(e,"pointerdown",t=>{t.stopImmediatePropagation(),this.canClosePopup=!1})),this.pointerEventsSub.add(this.renderer.listen(e,"pointerup",()=>{this.canClosePopup=!0}))})}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(Ts),s.KVO(s.sFG),s.KVO(s.SKi),s.KVO(m7),s.KVO(Fe))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const Qwe=i=>{if(!ne())return;let n=!1;return()=>(n||(document.body.appendChild(i),n=!0),i)},Zwe=i=>{const{clientTop:n,clientLeft:e}=(i=>i.ownerDocument.documentElement)(i),{pageYOffset:t,pageXOffset:o}=(i=>i.ownerDocument.defaultView)(i),{top:r,left:a}=i.getBoundingClientRect();return{top:r+t-n,left:a+o-e}},eke=(i,n)=>!!(4&n.compareDocumentPosition(i)),byt=(i,n)=>i===n||!!(16&n.compareDocumentPosition(i)),tke=(i,n)=>{const e=Zwe(i),{offsetWidth:t,offsetHeight:o}=i;return{left:e.left+(n?0:t),top:e.top,height:o}};let Ite=(()=>{class i{constructor(){this.changes=new s.bkB,this.register=[],this.lastTarget=null}add(e){this.register.push(e)}remove(e){this.register=this.register.filter(t=>t!==e)}notifyDrag(e,t,o){const r=this.targetFor(t);this.lastTarget!==r&&(this.changes.next({draggable:e,mouseEvent:o,target:this.lastTarget,type:"leave"}),r&&this.changes.next({draggable:e,mouseEvent:o,target:r,type:"enter"}),this.lastTarget=r)}notifyDrop(e,t){this.changes.next({draggable:e,mouseEvent:t,target:this.lastTarget,type:"drop"}),this.lastTarget=null}targetFor(e){const t=byt.bind(null,e);return this.register.find(({element:{nativeElement:o}})=>t(o))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const nke=(i,n,e)=>{const t=i.querySelector(".k-icon");if(e){const o=t.firstElementChild;o.removeChild(o.firstElementChild),t.firstElementChild.innerHTML=(n?uD.content:cD.content)+t.firstElementChild.innerHTML}t.setAttribute("class",t.getAttribute("class").replace(/(plus|cancel)/,n?"plus":"cancel"))},ike=(i,n=null,e)=>{const t=i.querySelectorAll(".k-icon")[1],o=null===n?"":n?`k${e?"-svg":""}-i-lock`:`k${e?"-svg":""}-i-unlock`;e?(t.setAttribute("class",t.getAttribute("class").replace(/(k-svg-i-unlock|k-svg-i-lock)/,"").trim()+` ${o}`),t.firstElementChild.innerHTML=n?vP.content:rW.content):t.setAttribute("class",t.getAttribute("class").replace(/(k-i-unlock|k-i-lock)/,"").trim()+` ${o}`)};let _7=(()=>{class i{constructor(e,t){this.santizer=e,this.iconsService=t,this.cancelIcon=cD}create(e){if(!ne())return;this.dom=document.createElement("div"),(i=>{i.className="k-header k-drag-clue",i.style.position="absolute",i.style.zIndex="20000"})(this.dom);const t=this.santizer.sanitize(s.WPN.HTML,e),o=this.isSVG?((i,n,e)=>`\n    <span class="k-icon k-svg-icon k-drag-status k-svg-i-cancel">\n        <svg \n            xmlns="http://www.w3.org/2000/svg"\n            xmlns:xlink="http://www.w3.org/1999/xlink"\n            viewBox="${i}"\n            aria-hidden="true">\n            ${this.cancelIcon.content}\n        </svg>\n        <span class="k-icon k-svg-icon k-icon-modifier">\n            <svg\n                xmlns="http://www.w3.org/2000/svg"\n                xmlns:xlink="http://www.w3.org/1999/xlink"\n                viewBox="${i}"\n                aria-hidden="true">\n            </svg>\n        </span>\n    </span>\n    ${e}`)(this.cancelIcon.viewBox,0,t):(i=>`\n    <span class="k-icon k-font-icon k-drag-status k-i-cancel">\n        <span class="k-icon k-font-icon k-icon-modifier"></span>\n    </span>\n    ${i}`)(t);this.dom.innerHTML=o}attach(){return Qwe(this.dom)}remove(){var e;this.dom&&this.dom.parentNode&&(e=this.dom,setTimeout(()=>document.body.removeChild(e)),this.dom=null)}show(){this.dom.style.display=""}hide(){this.dom.style.display="none"}enable(){nke(this.dom,!0,this.isSVG)}disable(){nke(this.dom,!1,this.isSVG)}removeLock(){ike(this.dom,!1,this.isSVG)}toggleLock(e){ike(this.dom,e,this.isSVG)}move(e){this.dom.style.top=e.pageY+"px",this.dom.style.left=e.pageX+"px"}get isSVG(){return"svg"===(this.iconsService.iconSettings?.type||this.iconsService.changes.value.type)}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(J6),s.KVO(sJ))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),g7=(()=>{class i{create(){ne()&&(this.dom=document.createElement("div"),this.dom.className="k-grouping-dropclue",this.hide())}attach(){return Qwe(this.dom)}remove(){this.dom&&this.dom.parentElement&&(document.body.removeChild(this.dom),this.dom=null)}hide(){this.dom.style.display="none"}position({left:e,top:t,height:o}){this.dom.style.display="block",this.dom.style.height=o+"px",this.dom.style.top=t+"px",this.dom.style.left=e-this.dom.offsetWidth/2+"px"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),Rte=(()=>{class i{constructor(){this.changes=new s.bkB}reorder(e){this.changes.emit(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();class ske extends x0{constructor({column:n,newIndex:e,oldIndex:t}){super(),this.column=n,this.newIndex=e,this.oldIndex=t}}class wyt{constructor(n,e,t,o,r,a,l,c){this.dataRows=n,this.headerRows=e,this.isVirtual=t,this.hasPager=o,this.hasDetailTemplate=r,this.gridElement=a,this.virtualColumns=l,this.columns=c}get maxLogicalRowIndex(){return this.headerRows+(this.hasDetailTemplate?2*this.dataRows:this.dataRows)-1}}class S7{constructor(){this.changes=new Ke.B}sort(n){this.changes.next(n)}}class kyt{constructor(n){this.columns=n}}class oke{constructor(n){this.columns=n}}function Ate(i,n){return"data"===n.type&&n.isEditing?n.data:i}class Tyt{constructor(n){this.columns=n}}let xte=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridCellLoadingTemplate",""]]}),i})(),Nte=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridLoadingTemplate",""]]}),i})(),xS=(()=>{class i{constructor(){this.changes=new Ke.B}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const xyt={forbidden:"cancel",before:"insert-middle",after:"insert-middle"},Nyt={forbidden:cD,before:qP,after:qP},ake={zIndex:"20000",display:"flex",position:"fixed"},Lyt=["k-drag-clue","k-reorder-clue"],lke={zIndex:"19000",position:"absolute"},Pyt=["k-drop-hint","k-drop-hint-h"],Gyt={handle:".k-table-td.k-drag-cell",dragTarget:".k-master-row",dropTarget:".k-master-row"};let Lte=(()=>{class i{constructor(e){this.renderer=e,this.hintElement=null,this.defaultSelectors=Gyt,this.hintText="",this.lastDropPosition="forbidden",this.dragTarget=null,this.dropTarget=null,this.rowReorder=new s.bkB}press(e){this.dragTarget=e.dragTarget,this.offsetY=e.dragEvent.offsetY}dragStart(){this.createDropIndicator()}drag(e){$s(e.hintElement)&&!$s(this.hintElement)&&(this.hintElement=e.hintElement,this.decorateHint());const t_x=e.dragEvent.clientX,t_y=e.dragEvent.clientY-this.offsetY;$s(this.hintElement)&&(this.renderer.setStyle(this.hintElement,"left",`${t_x}px`),this.renderer.setStyle(this.hintElement,"top",`${t_y}px`)),this.positionDropIndicator(e)}dragEnter(e){this.dropTarget=e.dropTarget}dragLeave(){this.dropTarget=null,this.hide()}dragEnd(){this.destroyDropIndicator(),this.dragTarget=null,this.dropTarget=null,this.hintElement=null}drop(e){this.destroyDropIndicator();const t=this.rowReorderArgs(this.dragTarget,this.dropTarget,e.dragData);this.rowReorder.emit(t)}reorderRows(e,t){if("forbidden"===this.lastDropPosition)return;const{draggedRows:o,dropTargetRow:r}=e,a=o[0].dataItem,l=r.dataItem,c=t.indexOf(a),u=t.indexOf(l),f=this.calculateIndexToAdd(c,u);t.splice(c,1),t.splice(f,0,a)}get hintIcon(){return xyt[this.lastDropPosition]}get hintSVGIcon(){return Nyt[this.lastDropPosition]}getDefaultHintText(e,t){let o="";const r=e.toArray().filter(c=>!c.hidden&&$s(c.field)).map(c=>c.field),l=this.getDragRowPerElement(this.dragTarget,t)?.dataItem;return $s(l)&&r.forEach(c=>{const u=l[c];$s(u)&&(o+=`${u} `)}),o.trim()}rowReorderArgs(e,t,o){return{draggedRows:[this.getDragRowPerElement(e,o)],dropTargetRow:this.getDragRowPerElement(t,o),dropPosition:this.lastDropPosition}}getDragRowPerElement(e,t){let o=e?.getAttribute("data-kendo-grid-item-index");return o=o?parseInt(o,10):-1,{dataItem:-1===o?null:t[o-(this.skip||0)],rowIndex:o,element:e}}createDropIndicator(){ne()&&(this.dropIndicator=document.createElement("div"),this.decorateDropIndicator(),this.dropIndicator.innerHTML='\n            <div class="k-drop-hint-start"></div>\n            <div class="k-drop-hint-line"></div>\n        ',document.body.appendChild(this.dropIndicator),this.hide())}destroyDropIndicator(){ne()&&this.dropIndicator&&this.dropIndicator.parentElement&&(document.body.removeChild(this.dropIndicator),this.dropIndicator=null)}decorateHint(){Lyt.forEach(e=>this.renderer.addClass(this.hintElement,e)),Object.keys(ake).forEach(e=>this.renderer.setStyle(this.hintElement,e,ake[e]))}positionDropIndicator(e){this.lastDropPosition=this.getDropPosition(e.dragEvent),this.updateDropIndicatorPosition()}calculateIndexToAdd(e,t){return e>t&&"after"===this.lastDropPosition?t+1:e>t&&"before"===this.lastDropPosition||e<t&&"after"===this.lastDropPosition?t:e<t&&"before"===this.lastDropPosition?t-1:void 0}decorateDropIndicator(){Pyt.forEach(e=>this.renderer.addClass(this.dropIndicator,e)),Object.keys(lke).forEach(e=>this.renderer.setStyle(this.dropIndicator,e,lke[e]))}getDropPosition(e){if(this.dropTarget===this.dragTarget||!$s(this.dropTarget)||((i,n)=>i?.parentElement!==n?.parentElement)(this.dropTarget,this.dragTarget))return"forbidden";const t=this.dropTarget.getBoundingClientRect(),r=t.height/2,a=e.clientY,l=t.top;let c=null;return a<l+r?c="before":a>=l+t.height-r&&(c="after"),("before"===c&&((i,n)=>this.dropTarget===this.dragTarget.nextElementSibling)()||"after"===c&&((i,n)=>this.dropTarget===this.dragTarget.previousElementSibling)())&&(c="forbidden"),c}updateDropIndicatorPosition(){if(this.shouldHideDropIndicator()||!this.dropTarget)return void this.hide();this.show();const e=function Ayt(i){const{clientTop:n,clientLeft:e}=(i=>i?.ownerDocument.documentElement)(i),{pageYOffset:t,pageXOffset:o}=(i=>i?.ownerDocument.defaultView)(i),{top:r,left:a}=i.getBoundingClientRect();return{top:r+t-n,left:a+o-e}}(this.dropTarget);let t=e.top;"after"===this.lastDropPosition&&(t+=this.dropTarget.offsetHeight),this.renderer.setStyle(this.dropIndicator,"left",`${e.left+this.dropIndicator.offsetWidth/2}px`),this.renderer.setStyle(this.dropIndicator,"top",`${t}px`)}shouldHideDropIndicator(){return"forbidden"===this.lastDropPosition}hide(){$s(this.dropIndicator)&&(this.dropIndicator.style.display="none")}show(){$s(this.dropIndicator)&&(this.dropIndicator.style.display="")}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(s.sFG))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),Pte=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridStatusBarTemplate",""]]}),i})(),Gte=(()=>{class i{constructor(e){this.contextService=e,this.itemToString=(t,o)=>o.length?o.map(r=>t[r.field]).join("\t"):null}createClipboardData(e,t,o){let r={gridItems:[],dataString:""};const a=t.flatMap(u=>u instanceof Oi&&$s(u.field)?[u]:[]),l={items:[],dataStrings:[]},c=a.map(u=>u.field);if(o.wholeRow)this.targetColField=a[0]?.field,this.targetRowIndex=e[0].dataRowIndex,e.forEach(u=>{l.items.push({dataItem:{...u.dataItem},fields:c}),l.dataStrings.push(this.itemToString(u.dataItem,a))}),r={gridItems:"cut"===o.operationType?l.items.map(u=>(u.fields.forEach(f=>u.dataItem[f]=null),u)):[...l.items],dataString:o.copyHeaders?this.addHeaders(l.dataStrings.join("\r\n"),a):l.dataStrings.join("\n")};else if("selection"===o.target){const{tabular:u,groups:f}=this.groupSelection(),_=this.contextService.grid.selectionDirective,S=_.columnKey;if(u){const v=f[0].items.map(k=>k.columnKey),b=t.flatMap((k,O)=>k instanceof Oi&&k.field&&$s(v.find(I=>"function"==typeof S?I===S(k,O):I===O))?[k]:[]),D=b.map(k=>k.field);this.targetColField=D[0],r.dataString=e.flatMap(k=>{const O=this.itemToString(k.dataItem,b),I=$s(O);return!$s(this.targetRowIndex)&&$s(O)&&(this.targetRowIndex=k.dataRowIndex),"cut"===o.operationType&&D.forEach(x=>k.dataItem[x]=null),r.gridItems.push({dataItem:k.dataItem,fields:D}),I?[O]:[]}).join("\r\n"),o.copyHeaders&&(r.dataString=this.addHeaders(r.dataString,b))}else{const v=_.selectionKey;r.dataString=e.flatMap(b=>{const D=v?"string"==typeof v?b.dataItem[v]:v({index:b.dataRowIndex,dataItem:b.dataItem}):b.dataRowIndex,k=f.find(L=>L.value===D).items.map(L=>L.columnKey),O=t.flatMap((L,H)=>L instanceof Oi&&L.field&&$s(k.find(j=>"function"==typeof S?j===S(L,H):j===H))?[L]:[]),I=O.map(L=>L.field);this.targetColField||(this.targetColField=I[0]);const x=this.itemToString(b.dataItem,O),P=$s(x);return!$s(this.targetRowIndex)&&P&&(this.targetRowIndex=b.dataRowIndex),P&&("cut"===o.operationType&&I.forEach(L=>b.dataItem[L]=null),r.gridItems.push({dataItem:b.dataItem,fields:I})),P?o.copyHeaders?[this.addHeaders(x,O)]:[x]:[]}).join("\r\n")}}else{const u=e[0],f=t[u.colIndex],_=f.field,S=f.title,v=u.dataItem[_];this.targetRowIndex=u.dataRowIndex,this.targetColField=_,"cut"===o.operationType&&_&&(u.dataItem[_]=null),r={gridItems:[{dataItem:u.dataItem,fields:_?[_]:[]}],dataString:o.copyHeaders?[S||_,v].join("\r\n"):_?v:""}}return r}getGridData(e,t,o,r,a){const l=e.includes("\r\n")?"\r\n":e.includes("\n")?"\n":null,c=l?e.split(l).filter(f=>f.length):[e];if(this.targetRowIndex=r,"activeCell"===o)if(a.wholeRow)this.targetColField=t.find(f=>f instanceof Oi&&f.field)?.field;else{const f=this.contextService.grid.activeCell.colIndex;for(let _=0;_<t.length;_++){const S=t[_];if(S instanceof Oi&&S.field&&_>=f){this.targetColField=S.field;break}}}else if(a.wholeRow||!a.isCellSelection)this.targetColField=t.filter(f=>f instanceof Oi&&f.field)[0].field;else{const{groups:f}=this.groupSelection(),S=this.contextService.grid.selectionDirective.columnKey,v=t.filter(O=>O.isVisible),b=f[0].items.map(O=>O.columnKey),k=v.flatMap((O,I)=>O instanceof Oi&&O.field&&$s(b.find(x=>"function"==typeof S?x===S(O,I):x===I))?[O]:[]).map(O=>O.field);this.targetColField=k[0]}return c.map(f=>{const _=f.includes("\t")?f.split("\t"):[f],S=t.flatMap(k=>k instanceof Oi&&k.field?[k.field]:[]),v=S.indexOf(this.targetColField),b=S.slice(v,v+_.length),D={};return S.slice(v,v+_.length).forEach((k,O)=>D[k]=_[O]),{dataItem:D,fields:b}})}groupSelection(){const t=qy(this.contextService.grid.selection,[{field:"itemKey"}]).map(o=>(o.items.sort((r,a)=>r.columnKey-a.columnKey),o));for(let o=1;o<t.length;o++)if(!this.areEqual(t[o].items,t[o-1].items))return{tabular:!1,groups:t};return{tabular:!0,groups:t}}areEqual(e,t){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(e[o].columnKey!==t[o].columnKey)return!1;return!0}addHeaders(e,t){return`${t.map(r=>r.title||r.field).join("\t")}\r\n${e}`}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(Fe))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),Ute=(()=>{class i{constructor(e,t){this.ctx=e,this.wrapper=t,this.context={},this.role="toolbar",this._size="medium",this.navigationService=this.ctx[`${this.wrapper.nativeElement.getAttribute("position")}ToolbarNavigation`]}get sizeSmallClass(){return"small"===this.size}get sizeMediumClass(){return"medium"===this.size||!this.size}set position(e){this.context.position=e}set size(e){this._size=e,"none"===e&&this.wrapper.nativeElement.classList.remove("k-toolbar-sm","k-toolbar-md")}get size(){return this._size}clickHandler(e){if(this.navigable&&ne()){const t=Fl(e.target,gme),o=this.navigationService.navigableElements.indexOf(t);o>-1&&(this.navigationService.currentActiveIndex=o),this.navigationService.updateFocus(),e.target===this.wrapper.nativeElement&&this.navigationService.focus()}}arrowLeftListener(){this.navigable&&ne()&&this.navigationService.navigableElements.length&&(this.navigationService.currentActiveIndex--,this.navigationService.currentActiveIndex<0&&(this.navigationService.currentActiveIndex=this.navigationService.navigableElements.length-1),this.navigationService.updateFocus())}arrowRightListener(){this.navigable&&ne()&&this.navigationService.navigableElements.length&&(this.navigationService.currentActiveIndex++,this.navigationService.currentActiveIndex>=this.navigationService.navigableElements.length&&(this.navigationService.currentActiveIndex=0),this.navigationService.updateFocus())}homeKeyListener(e){this.navigable&&ne()&&this.navigationService.navigableElements.length&&(e.preventDefault(),this.navigationService.currentActiveIndex=0,this.navigationService.updateFocus())}endKeyListener(e){this.navigable&&ne()&&this.navigationService.navigableElements.length&&(e.preventDefault(),this.navigationService.currentActiveIndex=this.navigationService.navigableElements.length-1,this.navigationService.updateFocus())}get toolbarTemplateRef(){return this.ctx.grid.toolbarTemplate?this.ctx.grid.toolbarTemplate.templateRef:void 0}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe),s.rXU(s.aKT))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-toolbar"]],hostVars:5,hostBindings:function(e,t){1&e&&s.bIt("click",function(r){return t.clickHandler(r)})("keydown.arrowleft",function(r){return t.arrowLeftListener(r)})("keydown.arrowright",function(r){return t.arrowRightListener(r)})("keydown.home",function(r){return t.homeKeyListener(r)})("keydown.end",function(r){return t.endKeyListener(r)}),2&e&&(s.BMQ("role",t.role),s.AVh("k-toolbar-sm",t.sizeSmallClass)("k-toolbar-md",t.sizeMediumClass))},inputs:{position:"position",size:"size",navigable:"navigable"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&s.DNE(0,qSt,1,2,null,0),2&e&&s.Y8G("ngIf",t.toolbarTemplateRef)},dependencies:[q,qe],encapsulation:2}),i})();const cke=i=>(({buttonCount:i=10,info:n=!0,type:e="numeric",pageSizes:t=!1,previousNext:o=!0,responsive:r=!0,position:a="bottom"})=>({buttonCount:i,info:n,pageSizes:!0===t?[5,10,20]:t,previousNext:o,type:e,responsive:r,position:a}))(!0===i?{}:i);let Pw=(()=>{class i{constructor(e){this.root=e,this.active=!0,this.children=[],this.root.registerGroup(this)}get focusableChildren(){return this.children.filter(e=>e.canFocus())}get isActive(){return this.active}ngOnDestroy(){this.root.unregisterGroup(this),this.active=!0}registerElement(e){this.unregisterElement(e),this.children.push(e)}unregisterElement(e){this.children=this.children.filter(t=>t!==e)}isNavigable(){const e=this.focusableChildren;return 1===e.length&&e[0].isNavigable()}canFocus(){return this.focusableChildren.length>0}focus(){this.canFocus()&&!this.hasFocus()&&this.focusableChildren[0].focus()}activate(){this.toggleState(!0)}deactivate(){this.toggleState(!1)}hasFocus(){return this.children.reduce((e,t)=>e||t.hasFocus(),!1)}toggleState(e){this.active!==e&&(this.active=e,this.children.forEach(t=>t.toggle(e)))}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(RS))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),Gw=(()=>{class i{constructor(e,t,o){this.ctx=e,this.pagerContext=t,this.cd=o,this.total=this.pagerContext.total,this.skip=this.pagerContext.skip,this.pageSize=this.pagerContext.pageSize,this.caretAltLeftIcon=tl,this.caretAltToLeftIcon=DX,this.caretAltRightIcon=Jo,this.caretAltToRightIcon=oue,this.size="medium"}get currentPage(){return Math.floor((this.skip||0)/this.pageSize)+1}get totalPages(){return Math.ceil((this.total||0)/this.pageSize)}textFor(e){return this.ctx.localization.get(e)}changePage(e){return this.pagerContext.changePage(e),!1}ngOnInit(){this.subscriptions=this.pagerContext.changes.subscribe(this.onChanges.bind(this)),this.subscriptions.add(this.ctx.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}get prevArrowIcons(){return this.ctx.localization.rtl?["caret-alt-to-right","caret-alt-right"]:["caret-alt-to-left","caret-alt-left"]}get prevArrowSVGIcons(){return this.ctx.localization.rtl?[this.caretAltToRightIcon,this.caretAltRightIcon]:[this.caretAltToLeftIcon,this.caretAltLeftIcon]}get nextArrowIcons(){return this.ctx.localization.rtl?["caret-alt-left","caret-alt-to-left"]:["caret-alt-right","caret-alt-to-right"]}get nextArrowSVGIcons(){return this.ctx.localization.rtl?[this.caretAltLeftIcon,this.caretAltToLeftIcon]:[this.caretAltRightIcon,this.caretAltToRightIcon]}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe),s.rXU(Lf),s.rXU(s.gRc))},i.\u0275dir=s.FsC({type:i,inputs:{size:"size"}}),i})(),C7=(()=>{class i extends Gw{constructor(e,t,o){super(e,o,t),this.pagerContext=o}get maxItems(){return Math.min(this.currentPage*this.pageSize,this.total)}get currentPageText(){return this.total?(this.currentPage-1)*this.pageSize+1:0}get classes(){return!0}onChanges({total:e,skip:t,pageSize:o}){this.total=e,this.skip=t,this.pageSize=o,this.cd.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe),s.rXU(s.gRc),s.rXU(Lf))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-pager-info"]],hostVars:4,hostBindings:function(e,t){2&e&&s.AVh("k-pager-info",t.classes)("k-label",t.classes)},features:[s.Vt3],decls:1,vars:5,template:function(e,t){1&e&&s.EFF(0),2&e&&s.SjE("",t.currentPageText," - ",t.maxItems," ",t.textFor("pagerOf")," ",t.total," ",t.textFor("pagerItems"),"")},encapsulation:2,changeDetection:0}),i})(),Fte=(()=>{class i{constructor(e){this.host=e,this.keydownHandler=t=>{t.keyCode===G.Escape&&this.host.isOpen&&(t.stopPropagation(),this.host.toggle(!1))}}ngAfterViewInit(){this.host.wrapper.nativeElement.addEventListener("keydown",this.keydownHandler,!0)}ngOnDestroy(){this.host.wrapper.nativeElement.removeEventListener("keydown",this.keydownHandler)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Ws))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridPagerDropDown",""]]}),i})(),b7=(()=>{class i extends Gw{constructor(e,t,o,r){super(e,o,t),this.pagerContext=o,this.navigationService=r,this._pageSizes=[]}set pageSizes(e){let t=[];e.forEach(o=>{t.push("number"==typeof o?{text:o.toString(),value:o}:o)}),this.pageSize&&!t.some(o=>o.value===this.pageSize)&&(t=[{text:this.pageSize.toString(),value:this.pageSize},...t]),this._pageSizes=t}get pageSizes(){return this._pageSizes}get classes(){return!0}get showInitialPageSize(){return 0===this.pageSizes.filter(e=>"number"==typeof e.value?e.value===Number(this.pageSize):this.total===Number(this.pageSize)).length}pageSizeChange(e){this.pageSize="number"==typeof e?e:this.total,this.pagerContext.changePageSize(this.pageSize)}getValue(e){return"number"==typeof e.value?e.value:this.total}onChanges({total:e,skip:t,pageSize:o}){this.total=e,this.skip=t,this.pageSize="number"==typeof o?o:this.total,this.cd.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe),s.rXU(s.gRc),s.rXU(Lf),s.rXU(Va))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-pager-page-sizes"]],hostVars:4,hostBindings:function(e,t){2&e&&s.AVh("k-pager-sizes",t.classes)("k-label",t.classes)},inputs:{pageSizes:"pageSizes"},features:[s.Vt3],decls:3,vars:7,consts:[["dropdownlist",""],["kendoGridPagerDropDown","","kendoGridFocusable","","textField","text","valueField","value",1,"k-dropdown",3,"valueChange","size","tabindex","data","valuePrimitive","value"],[3,"for","text"]],template:function(e,t){if(1&e){const o=s.RV6();s.j41(0,"kendo-dropdownlist",1,0),s.bIt("valueChange",function(a){return s.eBV(o),s.Njj(t.pageSizeChange(a))}),s.k0s(),s.nrm(2,"kendo-label",2)}if(2&e){const o=s.sdS(1);s.Y8G("size",t.size)("tabindex",0)("data",t.pageSizes)("valuePrimitive",!0)("value",t.pageSize),s.R7$(2),s.Y8G("for",o)("text",t.textFor("pagerItemsPerPage"))}},dependencies:[Ws,pf,Fte,Jl],encapsulation:2,changeDetection:0}),i})(),E7=(()=>{class i extends Gw{constructor(e,t,o){super(e,o,t),this.pagerContext=o}get buttons(){const e=[];for(let t=this.start;t<=this.end;t++)e.push(t);return e}get end(){return Math.min(this.start+this.buttonCount-1,this.totalPages)}get start(){const e=this.currentPage,t=this.buttonCount;if(e>t){const o=e%t;return 0===o?e-t+1:e-o+1}return 1}pageLabel(e){const t=this.textFor("pagerPage");return t?t+" "+e:e.toString()}onSelectChange(e){const t=e.target,o=Number(t.value);Number.isNaN(o)?this.changePage("previousButtons"===t.value?this.start-2:this.end):this.changePage(o-1)}onChanges({total:e,skip:t,pageSize:o}){this.total=e,this.skip=t,this.pageSize=o,this.cd.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe),s.rXU(s.gRc),s.rXU(Lf))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-pager-numeric-buttons"]],viewQuery:function(e,t){if(1&e&&(s.GBs(QSt,5,s.aKT),s.GBs(ZSt,5,s.aKT)),2&e){let o;s.mGM(o=s.lsd())&&(t.selectElement=o.first),s.mGM(o=s.lsd())&&(t.numbersElement=o.first)}},inputs:{buttonCount:"buttonCount"},features:[s.Vt3],decls:10,vars:14,consts:[["select",""],["numbers",""],["kendoGridFocusable","",1,"k-dropdown-list","k-dropdown","k-picker","k-picker-solid","k-rounded-md",3,"change","ngClass"],["value","previousButtons",3,"selected",4,"ngIf"],[3,"value","selected","ngClass",4,"ngFor","ngForOf"],["value","nextButtons",3,"selected",4,"ngIf"],[1,"k-pager-numbers"],["type","button","kendoGridFocusable","","kendoButton","","fillMode","flat","themeColor","primary","class","k-pager-nav","rounded","none",3,"size","click",4,"ngIf"],["type","button","kendoGridFocusable","","kendoButton","","fillMode","flat","themeColor","primary","class","k-pager-nav","rounded","none",3,"size","selected","click",4,"ngFor","ngForOf"],["type","button","kendoGridFocusable","","kendoButton","","class","k-pager-nav","fillMode","flat","themeColor","primary","rounded","none",3,"size","click",4,"ngIf"],["value","previousButtons",3,"selected"],[3,"value","selected","ngClass"],["value","nextButtons",3,"selected"],["type","button","kendoGridFocusable","","kendoButton","","fillMode","flat","themeColor","primary","rounded","none",1,"k-pager-nav",3,"click","size"],["type","button","kendoGridFocusable","","kendoButton","","fillMode","flat","themeColor","primary","rounded","none",1,"k-pager-nav",3,"click","size","selected"]],template:function(e,t){if(1&e){const o=s.RV6();s.j41(0,"select",2,0),s.bIt("change",function(a){return s.eBV(o),s.Njj(t.onSelectChange(a))}),s.DNE(2,nvt,2,2,"option",3)(3,ivt,2,8,"option",4)(4,svt,2,2,"option",5),s.k0s(),s.j41(5,"div",6,1),s.DNE(7,ovt,2,3,"button",7)(8,rvt,2,6,"button",8)(9,avt,2,3,"button",9),s.k0s()}2&e&&(s.xc7("display","none"),s.Y8G("ngClass",s.l_i(11,evt,"small"===t.size,"medium"===t.size||!t.size)),s.BMQ("title",t.textFor("selectPage"))("aria-label",t.textFor("selectPage")),s.R7$(2),s.Y8G("ngIf",t.start>1),s.R7$(),s.Y8G("ngForOf",t.buttons),s.R7$(),s.Y8G("ngIf",t.end<t.totalPages),s.R7$(3),s.Y8G("ngIf",t.start>1),s.R7$(),s.Y8G("ngForOf",t.buttons),s.R7$(),s.Y8G("ngIf",t.end<t.totalPages))},dependencies:[Ht,Jl,Be,q,ut],encapsulation:2,changeDetection:0}),i})(),Bte=(()=>{class i extends Gw{constructor(e,t,o,r){super(e,t,o),this.navigationService=r}get disabled(){return 1===this.currentPage||!this.total}onChanges({total:e,skip:t,pageSize:o}){this.total=e,this.skip=t,this.pageSize=o,this.cd.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe),s.rXU(Lf),s.rXU(s.gRc),s.rXU(Va))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-pager-prev-buttons"]],features:[s.Vt3],decls:2,vars:14,consts:[["kendoButton","","type","button","role","button","fillMode","flat","rounded","none",1,"k-pager-nav","k-pager-first",3,"click","kendoGridFocusable","title","icon","svgIcon","disabled","size"],["kendoButton","","type","button","fillMode","flat","rounded","none",1,"k-pager-nav",3,"click","kendoGridFocusable","disabled","icon","svgIcon","size","title"]],template:function(e,t){1&e&&(s.j41(0,"button",0),s.bIt("click",function(){return 1!==t.currentPage&&t.changePage(0)}),s.k0s(),s.j41(1,"button",1),s.bIt("click",function(){return 1!==t.currentPage&&t.changePage(t.currentPage-2)}),s.k0s()),2&e&&(s.Y8G("kendoGridFocusable",!t.disabled)("title",t.textFor("pagerFirstPage"))("icon",t.prevArrowIcons[0])("svgIcon",t.prevArrowSVGIcons[0])("disabled",t.disabled)("size",t.size),s.BMQ("aria-label",t.textFor("pagerFirstPage")),s.R7$(),s.Y8G("kendoGridFocusable",!t.disabled)("disabled",t.disabled)("icon",t.prevArrowIcons[1])("svgIcon",t.prevArrowSVGIcons[1])("size",t.size)("title",t.textFor("pagerPreviousPage")),s.BMQ("aria-label",t.textFor("pagerPreviousPage")))},dependencies:[Ht,Jl],encapsulation:2,changeDetection:0}),i})(),Vte=(()=>{class i{constructor(e,t){this.host=e,this.renderer=t}ngAfterViewInit(){this.renderer.addClass(this.host.numericInput.nativeElement,"k-pager-nav")}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Dd),s.rXU(s.sFG))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridPagerInput",""]]}),i})(),zte=(()=>{class i extends Gw{constructor(e,t,o,r,a){super(e,t,a),this.pagerContext=t,this.zone=o,this.navigationService=r,this.handleKeyDown=l=>{const c=this.numericInput.value||this.current;l.keyCode===G.Enter&&(l.preventDefault(),c!==this.current&&this.zone.run(()=>{this.changePage(c-1)}))},this.handleBlur=()=>{const l=this.numericInput.value;l?l!==this.current&&this.zone.run(()=>{this.changePage(l-1)}):this.numericInput.writeValue(this.current)}}get current(){return this.hasPages?this.currentPage:0}get hasPages(){return 0!==this.totalPages}onChanges({total:e,skip:t,pageSize:o}){this.total=e,this.skip=t,this.pageSize=o,this.cd.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe),s.rXU(Lf),s.rXU(s.SKi),s.rXU(Va),s.rXU(s.gRc))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-pager-input"]],viewQuery:function(e,t){if(1&e&&s.GBs(Dd,5),2&e){let o;s.mGM(o=s.lsd())&&(t.numericInput=o.first)}},features:[s.Vt3],decls:4,vars:17,consts:[[1,"k-pager-input","k-label"],["kendoGridPagerInput","","format","n0",3,"kendoGridFocusable","spinners","decimals","disabled","value","min","max","size","autoCorrect","title","kendoEventsOutsideAngular"]],template:function(e,t){1&e&&(s.j41(0,"span",0),s.EFF(1),s.nrm(2,"kendo-numerictextbox",1),s.EFF(3),s.k0s()),2&e&&(s.R7$(),s.SpI(" ",t.textFor("pagerPage")," "),s.R7$(),s.Y8G("kendoGridFocusable",t.hasPages)("spinners",!1)("decimals",0)("disabled",!t.hasPages)("value",t.current)("min",t.hasPages?1:0)("max",t.totalPages)("size",t.size)("autoCorrect",!0)("title",t.textFor("pagerPageNumberInputTitle"))("kendoEventsOutsideAngular",s.l_i(14,lvt,t.handleKeyDown,t.handleBlur)),s.R7$(),s.Lme(" ",t.textFor("pagerOf")," ",t.totalPages," "))},dependencies:[Dd,Vte,Jl,xo],encapsulation:2}),i})(),Hte=(()=>{class i extends Gw{constructor(e,t,o,r){super(e,t,o),this.navigationService=r}get disabled(){return this.currentPage===this.totalPages||!this.total}onChanges({total:e,skip:t,pageSize:o}){this.total=e,this.skip=t,this.pageSize=o,this.cd.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe),s.rXU(Lf),s.rXU(s.gRc),s.rXU(Va))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-pager-next-buttons"]],features:[s.Vt3],decls:2,vars:14,consts:[["kendoButton","","type","button","fillMode","flat","rounded","none",1,"k-pager-nav",3,"click","kendoGridFocusable","size","icon","svgIcon","disabled","title"],["kendoButton","","type","button","fillMode","flat","rounded","none",1,"k-pager-nav","k-pager-last",3,"click","kendoGridFocusable","size","icon","svgIcon","disabled","title"]],template:function(e,t){1&e&&(s.j41(0,"button",0),s.bIt("click",function(){return t.currentPage!==t.totalPages&&t.changePage(t.currentPage)}),s.k0s(),s.j41(1,"button",1),s.bIt("click",function(){return t.currentPage!==t.totalPages&&t.changePage(t.totalPages-1)}),s.k0s()),2&e&&(s.Y8G("kendoGridFocusable",!t.disabled)("size",t.size)("icon",t.nextArrowIcons[0])("svgIcon",t.nextArrowSVGIcons[0])("disabled",t.disabled)("title",t.textFor("pagerNextPage")),s.BMQ("aria-label",t.textFor("pagerNextPage")),s.R7$(),s.Y8G("kendoGridFocusable",!t.disabled)("size",t.size)("icon",t.nextArrowIcons[1])("svgIcon",t.nextArrowSVGIcons[1])("disabled",t.disabled)("title",t.textFor("pagerLastPage")),s.BMQ("aria-label",t.textFor("pagerLastPage")))},dependencies:[Ht,Jl],encapsulation:2,changeDetection:0}),i})(),jte=(()=>{class i{constructor(e,t,o,r,a,l,c,u,f){this.pagerContext=e,this.navigationService=t,this.element=o,this.renderer=r,this.zone=a,this.ctx=l,this.cellContext=c,this.focusRoot=u,this.focusGroup=f,this.total=0,this.skip=1,this.pageChange=new s.bkB,this.gridPagerClass=!0,this.settings=cke({}),this.subscriptions=new be.yU,this._templateContext={},this._isFocused=!1,this._size="medium",this.resizeHandler=()=>{const _=this.element.nativeElement;this.template||!_||this.zone.runOutsideAngular(()=>{setTimeout(()=>{const S=_.offsetWidth;if(this.numericButtons){const v=this.numericButtons.selectElement.nativeElement,b=this.numericButtons.numbersElement.nativeElement;this.renderer.removeStyle(b,"display"),this.renderer.setStyle(v,"display","none"),S<600&&(this.renderer.removeStyle(v,"display"),this.renderer.setStyle(b,"display","none"))}this.pagerInfo&&(this.renderer.removeStyle(this.pagerInfo.nativeElement,"display"),S<768&&this.renderer.setStyle(this.pagerInfo.nativeElement,"display","none")),this.pagerPageSizes&&(this.renderer.removeStyle(this.pagerPageSizes.nativeElement,"display"),S<600&&this.renderer.setStyle(this.pagerPageSizes.nativeElement,"display","none"))})})}}set options(e){this.settings=cke(e)}set size(e){this._size=e,"none"===e&&this.element.nativeElement.classList.remove("k-pager-sm","k-pager-md")}get size(){return this._size}get sizeSmallClass(){return"small"===this.size}get sizeMediumClass(){return"medium"===this.size||!this.size}get isFocused(){return this._isFocused}get pagerAriaLabel(){return this.navigationService.pagerEnabled?this.pagerLabel:void 0}get pagerLabel(){const e=this.ctx.localization.get("pagerLabel")||"";return pa(pa(e,"currentPage",this.currentPage.toString()),"totalPages",this.totalPages.toString())}get focusTrapTabIndex(){return this.focusGroup.isActive?"0":"-1"}onFocusIn(e){this.navigationService.pagerEnabled&&(e.target===this.element.nativeElement?(this._isFocused=!0,this.focusRoot.deactivate()):this.focusRoot.activate())}onFocusOut(){this.navigationService.pagerEnabled&&(this._isFocused=!1)}onEscape(){this.navigationService.pagerEnabled&&(this.focusRoot.deactivate(),this.element.nativeElement.focus())}onEnter(e){this.navigationService.pagerEnabled&&e.target===this.element.nativeElement&&(e.preventDefault(),this.focusRoot.activate(),this.focusFirstElement())}navigateToPreviousPage(e){e.preventDefault(),this.shouldTriggerPageChange(e.target,this.currentPage>1)&&this.pagerContext.prevPage()}navigateToNextPage(e){e.preventDefault(),this.shouldTriggerPageChange(e.target,this.currentPage<this.totalPages)&&this.pagerContext.nextPage()}navigateToFirstPage(e){e.preventDefault(),this.shouldTriggerPageChange(e.target,this.currentPage>1)&&this.pagerContext.changePage(0)}navigateToLastPage(e){e.preventDefault(),this.shouldTriggerPageChange(e.target,this.currentPage<this.totalPages)&&this.pagerContext.changePage(this.totalPages-1)}get totalPages(){return Math.ceil((this.total||0)/this.pageSize)}get currentPage(){return Math.floor((this.skip||0)/this.pageSize)+1}get templateContext(){const e=this._templateContext;return e.totalPages=this.totalPages,e.total=this.total,e.skip=this.skip,e.pageSize=this.pageSize,e.currentPage=this.currentPage,e}ngOnInit(){this.subscriptions.add(this.pagerContext.pageChange.subscribe(this.changePage.bind(this))),this.navigationService.pagerEnabled&&this.focusRoot.deactivate()}ngDoCheck(){this.updateCellContext()}ngOnChanges(e){Fi(["pageSize","skip","total"],e,!1)&&this.pagerContext.notifyChanges({pageSize:this.pageSize,skip:this.skip,total:this.total});const t=e.template;t&&(t.currentValue?this.clearResponsiveStyling():this.resizeHandler()),e.options&&(this.settings.responsive?this.resizeHandler():this.clearResponsiveStyling())}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}changePage(e){this.pageChange.emit(e)}onInnerFocusIn(e,t){this.zone.onStable.pipe(We(1)).subscribe(()=>{"start"===t?e.relatedTarget===this.element.nativeElement?this.focusFirstElement():this.focusLastElement():this.focusFirstElement()})}shouldTriggerPageChange(e,t){return this.navigationService.pagerEnabled&&e===this.element.nativeElement&&t}focusFirstElement(){const e=Twe(this.element.nativeElement,!0);e&&e.focus()}focusLastElement(){const e=((i,n=!0)=>((i,n,e=!0)=>{let t=null;return Bh(i,o=>(n(o)&&(t=o),!1),e),t})(i,e=>uA(e,n),!1))(this.element.nativeElement,!0);e&&e.focus()}updateCellContext(){this.cellContext&&(this.cellContext.focusGroup=this.focusGroup)}clearResponsiveStyling(){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.numericButtons&&(this.renderer.removeStyle(this.numericButtons.numbersElement.nativeElement,"display"),this.renderer.setStyle(this.numericButtons.selectElement.nativeElement,"display","none")),this.pagerInfo&&this.renderer.removeStyle(this.pagerInfo.nativeElement,"display"),this.pagerPageSizes&&this.renderer.removeStyle(this.pagerPageSizes.nativeElement,"display")})})}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Lf),s.rXU(Va),s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(s.SKi),s.rXU(Fe),s.rXU(x_,8),s.rXU(RS),s.rXU(Pw))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-pager"]],viewQuery:function(e,t){if(1&e&&(s.GBs(C7,5,s.aKT),s.GBs(b7,5,s.aKT),s.GBs(E7,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.pagerInfo=o.first),s.mGM(o=s.lsd())&&(t.pagerPageSizes=o.first),s.mGM(o=s.lsd())&&(t.numericButtons=o.first)}},hostVars:9,hostBindings:function(e,t){1&e&&s.bIt("focusin",function(r){return t.onFocusIn(r)})("focusout",function(){return t.onFocusOut()})("keydown.escape",function(){return t.onEscape()})("keydown.enter",function(r){return t.onEnter(r)})("keydown.arrowleft",function(r){return t.navigateToPreviousPage(r)})("keydown.pageup",function(r){return t.navigateToPreviousPage(r)})("keydown.arrowright",function(r){return t.navigateToNextPage(r)})("keydown.pagedown",function(r){return t.navigateToNextPage(r)})("keydown.home",function(r){return t.navigateToFirstPage(r)})("keydown.end",function(r){return t.navigateToLastPage(r)}),2&e&&(s.BMQ("aria-label",t.pagerAriaLabel),s.AVh("k-grid-pager",t.gridPagerClass)("k-pager-sm",t.sizeSmallClass)("k-pager-md",t.sizeMediumClass)("k-focus",t.isFocused))},inputs:{total:"total",skip:"skip",pageSize:"pageSize",options:"options",size:"size",template:"template"},outputs:{pageChange:"pageChange"},features:[s.Jv_([{provide:tte,useValue:!0},{provide:RS,deps:[tte],useClass:RS},{provide:Pw,deps:[RS],useClass:Pw}]),s.OA$],decls:5,vars:5,consts:[["class","k-sr-only",3,"tabindex","focusin",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngIf"],[3,"resize",4,"ngIf"],[1,"k-sr-only",3,"focusin","tabindex"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-pager-numbers-wrap"],[3,"size",4,"ngIf"],[3,"size","buttonCount",4,"ngIf"],[3,"size","pageSizes",4,"ngIf"],[3,"size"],[3,"size","buttonCount"],[3,"size","pageSizes"],[3,"resize"]],template:function(e,t){1&e&&s.DNE(0,cvt,1,2,"div",0)(1,dvt,1,2,"ng-container",1)(2,gvt,8,6,"ng-container",2)(3,Svt,1,2,"div",0)(4,vvt,1,0,"kendo-resize-sensor",3),2&e&&(s.Y8G("ngIf",t.navigationService.pagerEnabled),s.R7$(),s.Y8G("ngIf",null==t.template?null:t.template.templateRef),s.R7$(),s.Y8G("ngIf",!(null!=t.template&&t.template.templateRef)),s.R7$(),s.Y8G("ngIf",t.navigationService.pagerEnabled),s.R7$(),s.Y8G("ngIf",t.settings.responsive))},dependencies:[Bte,E7,zte,Hte,C7,b7,hs,q,qe],encapsulation:2}),i})(),yA=(()=>{class i{constructor(e,t){this.element=e,this.service=t,this.context={},this.enter=new s.bkB,this.leave=new s.bkB,this.drop=new s.bkB,this.subscriptions=new be.yU}ngOnInit(){this.service.add(this);const e=this.service.changes.pipe(X(({target:t})=>t===this));this.subscriptions.add(e.pipe(X(({type:t})=>"leave"===t)).subscribe(t=>{this.leave.next(this.eventArgs(t))})),this.subscriptions.add(e.pipe(X(({type:t})=>"enter"===t)).subscribe(t=>{this.enter.next(this.eventArgs(t))})),this.subscriptions.add(e.pipe(X(({type:t})=>"drop"===t)).subscribe(t=>{this.drop.next(this.eventArgs(t))}))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}eventArgs(e){return{target:this,mouseEvent:e.mouseEvent,draggable:e.draggable}}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(Ite))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoDropTarget",""]],inputs:{context:"context"},outputs:{enter:"enter",leave:"leave",drop:"drop"}}),i})();const G0=i=>n=>new RegExp(`(^| )${i}( |$)`).test(n.className),zyt=t7(G0("k-i-x"),G0("k-svg-i-x"),G0("k-icon-button")),Hyt=t7(G0("k-i-sort-asc-small"),G0("k-i-sort-desc-small"),G0("k-svg-i-sort-asc-small"),G0("k-svg-i-sort-desc-small")),jyt=Zee(dA(zyt),dA(Hyt),dA(uA),dA(Ba("label"))),dke=({clientX:i,clientY:n})=>ne()&&document.elementFromPoint(i,n);let $te=(()=>{class i{constructor(e,t,o,r,a,l,c,u){this.draggable=e,this.element=t,this.zone=o,this.service=r,this.hint=a,this.cue=l,this.nav=c,this.renderer=u,this.context={},this.drag=new s.bkB,this.subscriptions=new be.yU}set enableDrag(e){this.enabled=e,this.updateTouchAction()}get hostClass(){return this.enabled}ngOnInit(){this.subscriptions.add(this.zone.runOutsideAngular(()=>this.draggable.kendoPress.pipe(X(e=>this.enabled),X(({originalEvent:{target:e}})=>e===this.element.nativeElement||jyt(e)),F(e=>{const t=e.originalEvent;e.isTouch||t.preventDefault(),this.nav.navigateTo(t.target)}),le((i=>n=>ft(n).pipe(c_(150),mo(i)))(this.draggable.kendoRelease)),F(e=>{this.hint.create(this.context.hint),this.cue.create()}),le(e=>this.draggable.kendoDrag.pipe(F(t=>{t.isTouch&&t.originalEvent.preventDefault()}),F(this.hint.attach()),F(this.cue.attach()),mo(this.draggable.kendoRelease),(0,V.T)(t=>({move:t,down:e})))),F(this.performDrag.bind(this)),zG(this.draggable.kendoRelease)).subscribe(this.drop.bind(this))))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}drop(e){this.hint.remove(),this.cue.remove(),this.service.notifyDrop(this,e)}performDrag({move:e}){this.hint.move(e);const t=this.elementUnderCursor(e);t&&this.service.notifyDrag(this,t,e),this.drag.emit({draggable:this,mouseEvent:e})}elementUnderCursor(e){this.hint.hide();let t=dke(e);return t&&/k-grouping-dropclue/.test(t.className)&&(t=((i,n)=>{i.style.display="none";const e=n();return i.style.display="block",e})(t,dke.bind(this,e))),this.hint.show(),t}updateTouchAction(){this.element&&(this.enabled?this.renderer.addClass(this.element.nativeElement,"k-touch-action-none"):this.renderer.removeClass(this.element.nativeElement,"k-touch-action-none"))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(vd,1),s.rXU(s.aKT),s.rXU(s.SKi),s.rXU(Ite),s.rXU(_7),s.rXU(g7),s.rXU(Va),s.rXU(s.sFG))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoDraggableColumn",""]],hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-grid-draggable-header",t.hostClass)},inputs:{context:"context",enableDrag:"enableDrag"},outputs:{drag:"drag"}}),i})();const Xyt=({field:i})=>nr(i),Wyt=({groups:i,field:n})=>i.some(e=>e.field===n),Zyt=t7(({target:i,field:n})=>i.field===n,Zee(({target:i})=>i.lastTarget,({groups:i,field:n})=>i.map(e=>e.field).indexOf(n)===i.length-1));let uke=(()=>{class i{constructor(e,t,o,r,a,l,c,u){this.hint=e,this.cue=t,this.groupInfoService=o,this.ctx=r,this.cd=a,this.popupService=l,this.ngZone=c,this.renderer=u,this.change=new s.bkB,this.groups=[],this.dropTargets=new s.rOR,this.groupTitles=[],this.isChipMenuOpen=!1,this.rtl=!1,this.arrowLeftIcon=tP,this.arrowRightIcon=kX,this.handleKeyDown=f=>{if(f.keyCode===G.ArrowDown||f.keyCode===G.ArrowUp){f.preventDefault();const _=f.target.matches(":first-child")?"next":"previous";this.activateMenuItem(f.target,_)}else f.keyCode===G.Escape||f.keyCode===G.Tab?this.destroyMenu(!0):(f.keyCode===G.Space||f.keyCode===G.Enter)&&this.handleMenuClick(f)},this.handleClick=f=>{f.preventDefault();const _=f.target.closest(".k-menu-item");if(!_.matches('[aria-disabled="true"]'))return void this.handleMenuClick(f);if("0"===_.getAttribute("tabindex"))return;const S=_.closest(".k-menu-group").querySelector('[tabindex="0"]'),v=S.matches(":first-child")?"next":"previous";this.activateMenuItem(S,v)}}get groupHeaderClass(){return!0}set text(e){this.emptyText=e}get text(){return this.emptyText?this.emptyText:this.ctx.localization.get("groupPanelEmpty")}get gridId(){return this.ctx.grid?.ariaRootId}ngAfterViewInit(){this.subscription=this.ctx.localization.changes.subscribe(({rtl:e})=>{this.rtl=e,this.cd.markForCheck()}),this.subscription.add(e7(this.dropTargets).subscribe(this.attachTargets.bind(this)))}ngDoCheck(){const e=this.groups.map(t=>this.groupInfoService.groupTitle(t));(e.length!==this.groupTitles.length||e.some((t,o)=>t!==this.groupTitles[o]))&&(this.groupTitles=e,this.cd.markForCheck())}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.targetSubscription&&this.targetSubscription.unsubscribe(),this.destroyMenu()}messageFor(e){return this.ctx.localization.get(e)}getTitle(e){return this.messageFor("desc"===e.dir?"sortedDescending":"sortedAscending")}getDirectionIcon(e){return"desc"===e.dir?"sort-desc-sm":"sort-asc-sm"}getDirectionSvgIcon(e){return"desc"===e.dir?$3:Zm}directionChange(e){e.dir=e.dir?e.dir:"asc",e.dir="asc"===e.dir?"desc":"asc";const t=this.groups.findIndex(r=>r.field===e.field),o=[...this.groups.slice(0,t),e,...this.groups.slice(t+1)];this.change.emit(o)}insert(e,t){const o=this.groups.filter(r=>r.field!==e);(o.length||0===this.groups.length)&&this.change.emit([...o.slice(0,t),{field:e},...o.slice(t)])}remove(e){this.change.emit(this.groups.filter(t=>t.field!==e.field))}toggleMenu(e,t,o,r){const a=e.element.nativeElement.querySelector(".k-chip-action");if(this.popupRef){const u=this.popupRef.popup.instance.anchor;if(this.destroyMenu(),a===u)return}this.first=t,this.last=o;const l=this.ctx.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:a,content:this.defaultTemplate,anchorAlign:{vertical:"bottom",horizontal:l},popupAlign:{vertical:"top",horizontal:l},positionMode:"absolute"}),this.activeItem=this.dropTargets.find(u=>u.context.field===r),this.renderer.setAttribute(this.popupRef.popupElement,"dir",this.ctx.localization.rtl?"rtl":"ltr");const c=Array.from(this.popupRef.popupElement.querySelectorAll(".k-menu-item"));this.activateMenuItem(c[1],"previous"),this.popupSubs=this.popupRef.popupAnchorViewportLeave.subscribe(()=>{this.destroyMenu(!0)}),!R0()&&this.ngZone.runOutsideAngular(()=>{this.popupSubs.add(Dt(document,"click").pipe(X(u=>!fa(u.target,f=>f===this.popupRef.popupElement||f.matches&&f.matches(".k-chip-action")))).subscribe(()=>{this.destroyMenu()}))})}canDrop(e,t){return!("groupIndicator"===e.type?Zyt:(i=>t7(Xyt,Wyt,(i=>({field:n})=>!i.isGroupable(n))(this.groupInfoService)))())({field:e.field,groups:this.groups,target:t})}attachTargets(){this.targetSubscription&&this.targetSubscription.unsubscribe(),this.targetSubscription=new be.yU;const e=this.dropTargets.reduce((r,a)=>Bt(r,a.enter),Zi([])),t=this.dropTargets.reduce((r,a)=>Bt(r,a.leave),Zi([])),o=this.dropTargets.reduce((r,a)=>Bt(r,a.drop),Zi([]));this.targetSubscription.add(e.pipe(F(r=>{this.hint.removeLock(),this.destroyMenu()}),X(({draggable:r,target:a})=>this.canDrop(r.context,a.context)),F(this.enter.bind(this)),zG(o.pipe(mo(t.pipe(F(this.leave.bind(this))))))).subscribe(this.drop.bind(this)))}enter({draggable:e,target:t}){this.hint.enable();let o=t.context.lastTarget||eke(e.element.nativeElement,t.element.nativeElement);this.ctx.localization.rtl&&(o=!o),this.cue.position(tke(t.element.nativeElement,o))}leave(){this.hint.disable(),this.cue.hide()}drop({target:e,draggable:t}){const o=t.context.field,r=this.dropTargets.toArray().indexOf(e);this.insert(o,r)}destroyMenu(e){this.popupRef&&(this.popupRef.close(),this.popupRef=null,this.popupSubs&&this.popupSubs.unsubscribe(),e&&this.activeItem.context.target.focus())}activateMenuItem(e,t){this.renderer.setAttribute(e,"tabindex","-1"),this.renderer.removeClass(e,"k-focus");const o=e[`${t}ElementSibling`];this.renderer.setAttribute(o,"tabindex","0"),this.renderer.addClass(o,"k-focus"),this.ngZone.runOutsideAngular(()=>setTimeout(()=>o.focus()))}handleMenuClick(e){if(e.preventDefault(),"true"!==e.target.getAttribute("aria-disabled")){const t=this.dropTargets.toArray().slice(0,this.dropTargets.length-1);let o,r;for(let l=0;l<t.length;l++)if(t[l].element.nativeElement===this.popupRef.popup.instance.anchor.closest(".k-chip")){o=t[l],r=l;break}const a=e.target.closest(".k-menu-item").matches(":first-child");a&&r>0?this.insert(o.context.field,r-1):!a&&r<t.length-1&&this.insert(o.context.field,r+1),this.destroyMenu(!0)}}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(_7),s.rXU(g7),s.rXU(h7),s.rXU(Fe),s.rXU(s.gRc),s.rXU(Ts),s.rXU(s.SKi),s.rXU(s.sFG))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-group-panel"]],viewQuery:function(e,t){if(1&e&&(s.GBs(gwe,7,s.C4Q),s.GBs(yA,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.defaultTemplate=o.first),s.mGM(o=s.lsd())&&(t.dropTargets=o)}},hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-grouping-header",t.groupHeaderClass)},inputs:{text:"text",navigable:"navigable",groups:"groups"},outputs:{change:"change"},decls:5,vars:3,consts:[["defaultTemplate",""],["chip",""],["class","k-grouping-drop-container","kendoDropTarget","",3,"context",4,"ngIf"],["role","none",3,"navigable",4,"ngIf"],["kendoDropTarget","",1,"k-grouping-drop-container",3,"context"],["role","none",3,"navigable"],["kendoDropTarget","","kendoDraggableColumn","","kendoDraggable","",3,"title","enableDrag","context","label","removable","hasMenu","icon","svgIcon","contentClick","remove","menuToggle","keydown.alt.arrowdown",4,"ngFor","ngForOf"],["kendoDropTarget","","kendoDraggableColumn","","kendoDraggable","",3,"contentClick","remove","menuToggle","keydown.alt.arrowdown","title","enableDrag","context","label","removable","hasMenu","icon","svgIcon"],["unselectable","on","role","menu",1,"k-group","k-menu-group","k-reset","k-menu-group-md",3,"kendoEventsOutsideAngular"],["role","menuitem","unselectable","on",1,"k-item","k-menu-item"],[1,"k-link","k-menu-link"],[3,"name","svgIcon"],[1,"k-menu-link-text"]],template:function(e,t){1&e&&s.DNE(0,Evt,2,3,"div",2)(1,Dvt,2,2,"kendo-chiplist",3)(2,wvt,2,2,"div",2)(3,kvt,11,16,"ng-template",null,0,s.C5r),2&e&&(s.Y8G("ngIf",0===t.groups.length),s.R7$(),s.Y8G("ngIf",0!==t.groups.length),s.R7$(),s.Y8G("ngIf",0!==t.groups.length))},dependencies:[m_e,yJ,Qe,q,yA,ut,$te,vd,xo],encapsulation:2,changeDetection:0}),i})(),Xte=(()=>{class i{constructor(){this.columns=[],this.groups=[],this.sort=new Array}get columnsToRender(){return L_(this.columns)}trackBy(e,t){return e}isSorted(e){const t=this.sortDescriptor(e.field);return this.isSortable(e)&&("asc"===t.dir||"desc"===t.dir)}getColumnComponent(e){return e}isSortable(e){return!nr(e.field)&&Pc(e.sortable)}sortDescriptor(e){return this.sort.find(t=>t.field===e)||{field:e}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoGridColGroup",""]],inputs:{columns:"columns",groups:"groups",detailTemplate:"detailTemplate",sort:"sort"},attrs:Ovt,decls:4,vars:4,consts:[[3,"k-group-col",4,"ngFor","ngForOf"],[3,"k-hierarchy-col",4,"ngIf"],[3,"width","k-sorted",4,"ngFor","ngForOf","ngForTrackBy"]],template:function(e,t){1&e&&(s.qex(0),s.DNE(1,Tvt,1,2,"col",0)(2,Mvt,1,2,"col",1)(3,Ivt,1,4,"col",2),s.bVm()),2&e&&(s.R7$(),s.Y8G("ngForOf",t.groups),s.R7$(),s.Y8G("ngIf",null==t.detailTemplate?null:t.detailTemplate.templateRef),s.R7$(),s.Y8G("ngForOf",t.columnsToRender)("ngForTrackBy",t.trackBy))},dependencies:[ut,q],encapsulation:2}),i})();const eDt={allowUnsort:!0,mode:"single",showIndexes:!0,initialDirection:"asc",multiSortKey:"none"},y7=(...i)=>Object.assign({},eDt,...i),hke=(i,n)=>!1!==i.filter&&n.field&&n.filterable,pke=(i,n)=>!1!==i.sort&&n.field&&n.sortable,fke=(i,n)=>i.lock&&n.lockable&&!(n.parent&&!n.parent.isSpanColumn),mke=i=>!1!==i.columnChooser,_ke=i=>i.autoSizeColumn,gke=i=>i.autoSizeAllColumns,Ske=(i,n,e)=>{e?i.autoFitColumn(e):i.autoFitColumns(),n.close()},vke=(i=>n=>Object.keys(i).reduce((e,t)=>(e[i[t]]=n.get(t),e),{}))({filterEqOperator:"eq",filterNotEqOperator:"neq",filterGteOperator:"gte",filterGtOperator:"gt",filterLteOperator:"lte",filterLtOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty",filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterAfterOrEqualOperator:"after-eq",filterAfterOperator:"after",filterBeforeOrEqualOperator:"before-eq",filterBeforeOperator:"before"}),D7=i=>i.map(n=>n.toJSON());let fi=(()=>{class i{constructor(e,t){this.operator=e,this.ctx=t,this.messages=vke(this.ctx.localization),this._text=this.messages[this.operator],this.subscription=this.ctx.localization.changes.subscribe(this.refreshText.bind(this))}get text(){return this._text}set text(e){this._text=nr(e)?this.messages[this.operator]:e}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}toJSON(){return{text:this.text,value:this.operator}}refreshText(){const e=this._text===this.messages[this.operator];this.messages=vke(this.ctx.localization),e&&(this._text=this.messages[this.operator])}}return i.\u0275fac=function(e){return new(e||i)(s.rXU("filterOperator"),s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-filter-operator-base"]],inputs:{text:"text"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})();const Uw=(i,n,e,t)=>xe(n)&&xe(n.filters)&&n.filters.length>i?n.filters[i]:((i,n,e)=>((n=n||{filters:[],logic:"and"}).filters[i]=e,e))(i,n,{field:e,operator:t}),Fw=i=>[{text:i.get("filterAndLogic"),value:"and"},{text:i.get("filterOrLogic"),value:"or"}],Wte=i=>xe(i.filters)?i.filters.reduce((n,e)=>n.concat(Su(e)?Wte(e):[e]),[]):[],Cke=(i,n)=>{xe(i)&&xe(i.filters)&&(i.filters=i.filters.filter(e=>Su(e)?(Cke(e,n),e.filters.length):e.field!==n))},DA=(i,n)=>Wte(i||{}).filter(e=>e.field===n),Kte=(i,n)=>(Cke(i,n),i),w7=i=>n=>Object.keys(i).map(e=>({text:n.get(e),value:i[e]}));let Bw=(()=>{class i{constructor(e){this.filterService=e,this.operatorList=new s.rOR,this.size="medium"}get hostClasses(){return!0}get operators(){return this._operators?.length?this._operators:this.defaultOperators}set operators(e){this._operators=e}ngAfterContentInit(){this.operationListSubscription=e7(this.operatorList).pipe((0,V.T)(e=>e.toArray()),(0,V.T)(D7)).subscribe(e=>{this.operators=e})}ngOnDestroy(){this.operationListSubscription&&this.operationListSubscription.unsubscribe()}filterByField(e){return((i,n)=>{const[e]=DA(i,n);return e})(this.filter,e)}filtersByField(e){return DA(this.filter,e)}removeFilter(e){return Kte(this.filter,e)}updateFilter(e){const t=this.filter||{filters:[],logic:"and"},[o]=Wte(t).filter(r=>r.field===e.field);return xe(o)?Object.assign(o,e):t.filters.push(e),t}applyFilter(e){this.filterService.filter(e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(ma))},i.\u0275dir=s.FsC({type:i,contentQueries:function(e,t,o){if(1&e&&s.wni(o,fi,4),2&e){let r;s.mGM(r=s.lsd())&&(t.operatorList=r)}},hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-filtercell",t.hostClasses)},inputs:{operators:"operators"}}),i})();const wA=i=>{if(i)return Su(i)?{filters:wA(i.filters),logic:i.logic}:Array.isArray(i)?i.map(wA):(i=>(i=>{const n={};if(Object.assign(n,i),i.constructor!==Object){const e=i.constructor.prototype;Object.getOwnPropertyNames(e).forEach(t=>{"constructor"!==t&&e.hasOwnProperty(t)&&(n[t]=i[t])})}return n})(i))(i)};let Eke=(()=>{class i{constructor(e,t){this.host=e,this.resolver=t}ngOnInit(){this.component=this.host.createComponent(this.resolver.resolveComponentFactory(this.componentType())),this.initComponent({column:this.column,filter:this.filter})}ngOnDestroy(){this.component&&(this.component.destroy(),this.component=null)}ngOnChanges(e){Fi(["column","filter"],e)&&this.initComponent({column:this.column,filter:this.filter})}initComponent({column:e,filter:t}){const o=this.component.instance;o.column=e,o.filter=t}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.c1b),s.rXU(s.OM3))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridFilterHostBase",""]],inputs:{column:"column",filter:"filter"},features:[s.OA$]}),i})();const dDt=w7({filterEqOperator:"eq",filterNotEqOperator:"neq",filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty"});let yke=(()=>{class i extends Bw{constructor(e,t){super(e),this.ctx=t,this.operator="contains"}get currentFilter(){return this.filterByField((this.column||{}).field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}ngOnInit(){this.subscription=this.ctx.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.defaultOperators=dDt(this.ctx.localization),this.operatorList.length&&(this.operators=D7(this.operatorList.toArray()))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(ma),s.rXU(Fe))},i.\u0275dir=s.FsC({type:i,inputs:{column:"column",filter:"filter",operator:"operator"},features:[s.Vt3]}),i})(),Gf=(()=>{class i{constructor(e,t,o,r){this.element=o,this.renderer=r,this.change=new s.bkB,this.composing=!1,this.filterDelay=500,this.changeRequests=new Ke.B,this.accessor=e[0],t.runOutsideAngular(()=>{const a=r.listen(o.nativeElement,"compositionstart",()=>this.composing=!0),l=r.listen(o.nativeElement,"compositionend",()=>this.composing=!1);this.unsubscribeEvents=()=>{a(),l()}})}set value(e){this.accessor.writeValue(e)}set disabled(e){this.accessor.setDisabledState(e)}ngAfterViewInit(){this.addAriaAttributes(),this.accessor.registerOnChange(e=>this.filterDelay>0?this.changeRequests.next(e):this.change.emit(e)),this.subscribeChanges()}ngOnChanges(e){wt("filterDelay",e)&&(this.unsubscribeChanges(),this.subscribeChanges())}ngOnDestroy(){this.unsubscribeChanges(),this.unsubscribeEvents()}subscribeChanges(){this.changeRequestsSubscription=this.changeRequests.pipe(J1(this.filterDelay),X(()=>!this.composing)).subscribe(e=>this.change.emit(e))}unsubscribeChanges(){this.changeRequestsSubscription&&this.changeRequestsSubscription.unsubscribe()}addAriaAttributes(){const e=this.columnLabel;if(this.kendoInput&&this.kendoInput.focusableId&&ne()){const t=this.element.nativeElement.querySelector(`#${this.kendoInput.focusableId}`)||this.element.nativeElement;this.renderer.setAttribute(t,"aria-label",e)}else{const t=this.element.nativeElement.querySelector(".k-input-inner");e&&this.renderer.setAttribute(t||this.element.nativeElement,"aria-label",e)}}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(zn,2),s.rXU(s.SKi),s.rXU(s.aKT),s.rXU(s.sFG))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoFilterInput",""]],contentQueries:function(e,t,o){if(1&e&&s.wni(o,ji,7),2&e){let r;s.mGM(r=s.lsd())&&(t.kendoInput=r.first)}},inputs:{filterDelay:"filterDelay",columnLabel:"columnLabel",value:"value"},features:[s.OA$]}),i})();const uDt=new Set(["isnull","isnotnull","isempty","isnotempty"]),k7=i=>uDt.has(i);let Dke=(()=>{class i extends Bw{constructor(e){super(e)}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){const e=this.currentFilter;return this._operator||(this._operator=e?e.operator:this.defaultOperator),this._operator}set currentOperator(e){this._operator=e;const t=k7(e);this.filterInputDisabled=t,t?this.applyNoValueFilter(e):!cA(e)&&xe(this.currentFilter)&&this.onChange(this.currentFilter.value)}get defaultOperator(){return nr(this._defaultOperator)?this.operators&&this.operators.length?this.operators[0].value:"eq":this._defaultOperator}set defaultOperator(e){this._defaultOperator=e}set filterInputDisabled(e){this.input&&(this.input.disabled=e)}ngAfterContentInit(){xe(this.input)&&(this.changeSubscription=this.input.change.subscribe(this.onChange.bind(this)),this.filterInputDisabled=k7(this.currentOperator))}ngOnDestroy(){super.ngOnDestroy(),this.changeSubscription&&this.changeSubscription.unsubscribe()}onChange(e){(!nr(e)||this.filterByField(this.column.field))&&this.filterChange(nr(e)?this.removeFilter(this.column.field):this.updateFilter({field:this.column.field,operator:this.currentOperator,value:e}))}onClear(){this.onChange(null),this.filterInputDisabled=k7(this.defaultOperator)}applyNoValueFilter(e){this.filterChange(this.updateFilter({field:this.column.field,operator:e,value:null}))}ngOnChanges(e){wt("filter",e,!1)&&(this._operator=null,this.filterInputDisabled=k7(this.currentOperator))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(ma))},i.\u0275dir=s.FsC({type:i,contentQueries:function(e,t,o){if(1&e&&s.wni(o,Gf,5),2&e){let r;s.mGM(r=s.lsd())&&(t.input=r.first)}},inputs:{column:"column",filter:"filter",defaultOperator:"defaultOperator"},features:[s.Vt3,s.OA$]}),i})(),Vw=(()=>{class i{constructor(e){this.host=e,this.keydownHandler=t=>{t.keyCode===G.Escape&&this.host.isOpen&&(t.stopPropagation(),this.host.toggle(!1))}}ngAfterViewInit(){const e=this.host.wrapper.nativeElement;e.setAttribute("aria-label",this.filterMenuDropDownLabel),e.addEventListener("keydown",this.keydownHandler,!0)}ngOnDestroy(){this.host.wrapper.nativeElement.removeEventListener("keydown",this.keydownHandler)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Ws))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoFilterMenuDropDown",""]],inputs:{filterMenuDropDownLabel:"filterMenuDropDownLabel"}}),i})(),O7=(()=>{class i extends Dke{constructor(e){super(null),this.ctx=e}get hostClasses(){return!1}ngAfterViewInit(){const e=this.isFirstDropDown&&this.filterService&&this.filterService.menuTabbingService,t=this.menuTabbingService?.isTabbedInterface;e&&!t&&(this.filterService.menuTabbingService.firstFocusable=this.firstOperatorDropDown,this.firstOperatorDropDown.focus())}operatorChange(e){this.currentOperator=e}filterChange(e){this.applyFilter(e)}get currentFilter(){return this._currentFilter}set currentFilter(e){this._currentFilter=e}updateFilter(e){return Object.assign(this.currentFilter,e),this.filter}onChange(e){this.filterChange(this.updateFilter({field:this.column.field,operator:this.currentOperator,value:e}))}onShiftTab(e){e.stopImmediatePropagation(),(!this.menuTabbingService||!this.menuTabbingService.isColumnMenu)&&this.isFirstDropDown&&this.filterService.menuTabbingService.lastFocusable&&(e.preventDefault(),this.filterService.menuTabbingService.lastFocusable.focus())}get filterMenuDropDownLabel(){const e=this.ctx.localization.get("filterMenuOperatorsDropDownLabel")||"";return pa(e,"columnName",this.column?this.column.title||this.column.field:"")}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-filter-menu-input-wrapper"]],viewQuery:function(e,t){if(1&e&&s.GBs(Ws,5),2&e){let o;s.mGM(o=s.lsd())&&(t.firstOperatorDropDown=o.first)}},inputs:{filterService:"filterService",isFirstDropDown:"isFirstDropDown",menuTabbingService:"menuTabbingService",currentFilter:"currentFilter"},features:[s.Vt3],ngContentSelectors:Rf,decls:2,vars:4,consts:[["kendoFilterMenuDropDown","","textField","text","valueField","value",3,"valueChange","keydown.shift.tab","filterMenuDropDownLabel","data","value","valuePrimitive"]],template:function(e,t){1&e&&(s.NAR(),s.j41(0,"kendo-dropdownlist",0),s.bIt("valueChange",function(r){return t.operatorChange(r)})("keydown.shift.tab",function(r){return t.onShiftTab(r)}),s.k0s(),s.SdG(1)),2&e&&s.Y8G("filterMenuDropDownLabel",t.filterMenuDropDownLabel)("data",t.operators)("value",t.currentOperator)("valuePrimitive",!0)},dependencies:[Ws,Vw],encapsulation:2}),i})(),wke=(()=>{class i{constructor(e){this.ctx=e,this.operators=[]}get columnLabel(){const e=this.ctx.localization.get("filterInputLabel")||"";return pa(e,"columnName",this.column?this.column.title||this.column.field:"")}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-string-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",isFirstDropDown:"isFirstDropDown",menuTabbingService:"menuTabbingService"},decls:2,vars:11,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService","isFirstDropDown","menuTabbingService"],["kendoTextBox","","kendoFilterInput","",3,"columnLabel","filterDelay","ngModel"]],template:function(e,t){1&e&&(s.j41(0,"kendo-grid-filter-menu-input-wrapper",0),s.nrm(1,"input",1),s.k0s()),2&e&&(s.Y8G("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService)("isFirstDropDown",t.isFirstDropDown)("menuTabbingService",t.menuTabbingService),s.R7$(),s.Y8G("columnLabel",t.columnLabel)("filterDelay",0)("ngModel",null==t.currentFilter?null:t.currentFilter.value))},dependencies:[O7,lSe,Qo,Gf,Di,fs],encapsulation:2}),i})(),kA=(()=>{class i extends yke{constructor(e){super(null,e),this.logicOperators=Fw(this.ctx.localization),this.filter={filters:[],logic:"and"},this.extra=!0}get hostClasses(){return!1}get firstFilter(){return Uw(0,this.filter,(this.column||{}).field,this.operator)}get secondFilter(){return Uw(1,this.filter,(this.column||{}).field,this.operator)}logicChange(e){this.filter.logic=e}get filterMenuDropDownLabel(){const e=this.ctx.localization.get("filterMenuLogicDropDownLabel")||"";return pa(e,"columnName",this.column?this.column.title||this.column.field:"")}localizationChange(){this.logicOperators=Fw(this.ctx.localization),super.localizationChange()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-string-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-filtercell",t.hostClasses)},inputs:{column:"column",filter:"filter",extra:"extra",filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[s.Vt3],decls:3,vars:9,consts:[[3,"currentFilter","operators","filterService","column","filter","isFirstDropDown","menuTabbingService"],["kendoFilterMenuDropDown","","class","k-filter-and","textField","text","valueField","value",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","menuTabbingService",4,"ngIf"],["kendoFilterMenuDropDown","","textField","text","valueField","value",1,"k-filter-and",3,"valueChange","filterMenuDropDownLabel","data","valuePrimitive","value"],[3,"operators","currentFilter","filterService","column","filter","menuTabbingService"]],template:function(e,t){1&e&&(s.nrm(0,"kendo-grid-string-filter-menu-input",0),s.DNE(1,Rvt,1,4,"kendo-dropdownlist",1)(2,Avt,1,6,"kendo-grid-string-filter-menu-input",2)),2&e&&(s.Y8G("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter)("isFirstDropDown",!0)("menuTabbingService",t.menuTabbingService),s.R7$(),s.Y8G("ngIf",t.extra),s.R7$(),s.Y8G("ngIf",t.extra))},dependencies:[wke,Ws,q,Vw],encapsulation:2}),i})();const kke=w7({filterEqOperator:"eq",filterNotEqOperator:"neq",filterGteOperator:"gte",filterGtOperator:"gt",filterLteOperator:"lte",filterLtOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull"});let Oke=(()=>{class i extends Bw{constructor(e,t){super(e),this.ctx=t,this.operator="eq",this.step=1,this.spinners=!0,this.defaultOperators=kke(this.ctx.localization)}get format(){return nr(this._format)?this.columnFormat:this._format}set format(e){this._format=e}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}get columnFormat(){return this.column&&!nr(this.column.format)?Qee(this.column.format):"n2"}ngOnInit(){this.subscription=this.ctx.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.defaultOperators=kke(this.ctx.localization),this.operatorList.length&&(this.operators=D7(this.operatorList.toArray()))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(ma),s.rXU(Fe))},i.\u0275dir=s.FsC({type:i,inputs:{column:"column",filter:"filter",operator:"operator",step:"step",min:"min",max:"max",spinners:"spinners",decimals:"decimals",format:"format"},features:[s.Vt3]}),i})(),Tke=(()=>{class i{constructor(e){this.ctx=e,this.operators=[],this.step=1,this.spinners=!0}messageFor(e){return this.ctx.localization.get(e)}get columnLabel(){const e=this.ctx.localization.get("filterInputLabel")||"";return pa(e,"columnName",this.column?this.column.title||this.column.field:"")}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-numeric-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",filterDelay:"filterDelay",isFirstDropDown:"isFirstDropDown",menuTabbingService:"menuTabbingService",step:"step",min:"min",max:"max",spinners:"spinners",decimals:"decimals",format:"format"},decls:3,vars:20,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService","isFirstDropDown","menuTabbingService"],["kendoFilterInput","",3,"columnLabel","filterDelay","autoCorrect","value","format","decimals","spinners","min","max","step"],[3,"increment","decrement"]],template:function(e,t){1&e&&(s.j41(0,"kendo-grid-filter-menu-input-wrapper",0)(1,"kendo-numerictextbox",1),s.nrm(2,"kendo-numerictextbox-messages",2),s.k0s()()),2&e&&(s.Y8G("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService)("isFirstDropDown",t.isFirstDropDown)("menuTabbingService",t.menuTabbingService),s.R7$(),s.Y8G("columnLabel",t.columnLabel)("filterDelay",t.filterDelay)("autoCorrect",!0)("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step),s.R7$(),s.Y8G("increment",t.messageFor("filterNumericIncrement"))("decrement",t.messageFor("filterNumericDecrement")))},dependencies:[O7,Dd,zI,Gf],encapsulation:2}),i})(),T7=(()=>{class i extends Oke{constructor(e){super(null,e),this.logicOperators=Fw(this.ctx.localization),this.filter={filters:[],logic:"and"},this.extra=!0,this.filterDelay=500}get hostClasses(){return!1}get firstFilter(){return Uw(0,this.filter,(this.column||{}).field,this.operator)}get secondFilter(){return Uw(1,this.filter,(this.column||{}).field,this.operator)}logicChange(e){this.filter.logic=e}get filterMenuDropDownLabel(){const e=this.ctx.localization.get("filterMenuLogicDropDownLabel")||"";return pa(e,"columnName",this.column?this.column.title||this.column.field:"")}localizationChange(){this.logicOperators=Fw(this.ctx.localization),super.localizationChange()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-numeric-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-filtercell",t.hostClasses)},inputs:{column:"column",filter:"filter",extra:"extra",filterService:"filterService",filterDelay:"filterDelay",menuTabbingService:"menuTabbingService"},features:[s.Vt3],decls:3,vars:16,consts:[[3,"currentFilter","operators","filterService","column","filter","filterDelay","format","decimals","spinners","min","max","step","menuTabbingService","isFirstDropDown"],["kendoFilterMenuDropDown","","class","k-filter-and","textField","text","valueField","value",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","format","decimals","spinners","min","max","step","menuTabbingService",4,"ngIf"],["kendoFilterMenuDropDown","","textField","text","valueField","value",1,"k-filter-and",3,"valueChange","filterMenuDropDownLabel","data","valuePrimitive","value"],[3,"operators","currentFilter","filterService","column","filter","format","decimals","spinners","min","max","step","menuTabbingService"]],template:function(e,t){1&e&&(s.nrm(0,"kendo-grid-numeric-filter-menu-input",0),s.DNE(1,xvt,1,4,"kendo-dropdownlist",1)(2,Nvt,1,12,"kendo-grid-numeric-filter-menu-input",2)),2&e&&(s.Y8G("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter)("filterDelay",t.filterDelay)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step)("menuTabbingService",t.menuTabbingService)("isFirstDropDown",!0),s.R7$(),s.Y8G("ngIf",t.extra),s.R7$(),s.Y8G("ngIf",t.extra))},dependencies:[Tke,Ws,q,Vw],encapsulation:2}),i})();const Mke=w7({filterEqOperator:"eq",filterNotEqOperator:"neq",filterAfterOrEqualOperator:"gte",filterAfterOperator:"gt",filterBeforeOrEqualOperator:"lte",filterBeforeOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull"});let Ike=(()=>{class i extends Bw{constructor(e,t){super(e),this.ctx=t,this.operator="gte",this.activeView="month",this.bottomView="month",this.topView="century",this.weekNumber=!1,this.defaultOperators=Mke(this.ctx.localization)}get currentFilter(){return this.filterByField(this.column.field)}set format(e){this._format=e}get format(){return nr(this._format)?this.columnFormat:this._format}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}get columnFormat(){return this.column&&!nr(this.column.format)?Qee(this.column.format):"d"}ngOnInit(){this.subscription=this.ctx.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.defaultOperators=Mke(this.ctx.localization),this.operatorList.length&&(this.operators=D7(this.operatorList.toArray()))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(ma),s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-date-filter-base"]],inputs:{column:"column",filter:"filter",operator:"operator",format:"format",min:"min",max:"max",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber"},features:[s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),Rke=(()=>{class i{constructor(e,t){this.popupService=e,this.ctx=t,this.operators=[]}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}open(e){this.subscription=this.popupService.onClose.pipe(X(()=>e.isActive)).subscribe(t=>t.preventDefault())}messageFor(e){return this.ctx.localization.get(e)}get columnLabel(){const e=this.ctx.localization.get("filterInputLabel")||"";return pa(e,"columnName",this.column?this.column.title||this.column.field:"")}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(EA),s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-date-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",menuTabbingService:"menuTabbingService",format:"format",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",min:"min",max:"max",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber",isFirstDropDown:"isFirstDropDown"},decls:4,vars:22,consts:[["picker",""],[3,"column","filter","operators","defaultOperator","currentFilter","filterService","isFirstDropDown","menuTabbingService"],["kendoFilterInput","",3,"open","columnLabel","filterDelay","value","placeholder","formatPlaceholder","format","min","max","activeView","bottomView","topView","weekNumber"],[3,"toggle","today"]],template:function(e,t){if(1&e){const o=s.RV6();s.j41(0,"kendo-grid-filter-menu-input-wrapper",1)(1,"kendo-datepicker",2,0),s.bIt("open",function(){s.eBV(o);const a=s.sdS(2);return s.Njj(t.open(a))}),s.nrm(3,"kendo-datepicker-messages",3),s.k0s()()}2&e&&(s.Y8G("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService)("isFirstDropDown",t.isFirstDropDown)("menuTabbingService",t.menuTabbingService),s.R7$(),s.Y8G("columnLabel",t.columnLabel)("filterDelay",0)("value",null==t.currentFilter?null:t.currentFilter.value)("placeholder",t.placeholder)("formatPlaceholder",t.formatPlaceholder)("format",t.format)("min",t.min)("max",t.max)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("weekNumber",t.weekNumber),s.R7$(2),s.Y8G("toggle",t.messageFor("filterDateToggle"))("today",t.messageFor("filterDateToday")))},dependencies:[O7,Ph,jU,Gf],encapsulation:2}),i})(),M7=(()=>{class i extends Ike{constructor(e){super(null,e),this.logicOperators=Fw(this.ctx.localization),this.filter={filters:[],logic:"and"},this.extra=!0}get hostClasses(){return!1}get firstFilter(){return Uw(0,this.filter,(this.column||{}).field,this.operator)}get secondFilter(){return Uw(1,this.filter,(this.column||{}).field,this.operator)}logicChange(e){this.filter.logic=e}get filterMenuDropDownLabel(){const e=this.ctx.localization.get("filterMenuLogicDropDownLabel")||"";return pa(e,"columnName",this.column?this.column.title||this.column.field:"")}localizationChange(){this.logicOperators=Fw(this.ctx.localization),super.localizationChange()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-date-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-filtercell",t.hostClasses)},inputs:{column:"column",filter:"filter",extra:"extra",filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[s.Vt3],decls:3,vars:18,consts:[[3,"currentFilter","operators","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber","isFirstDropDown","menuTabbingService"],["kendoFilterMenuDropDown","","class","k-filter-and","textField","text","valueField","value",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber","menuTabbingService",4,"ngIf"],["kendoFilterMenuDropDown","","textField","text","valueField","value",1,"k-filter-and",3,"valueChange","filterMenuDropDownLabel","data","valuePrimitive","value"],[3,"operators","currentFilter","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber","menuTabbingService"]],template:function(e,t){1&e&&(s.nrm(0,"kendo-grid-date-filter-menu-input",0),s.DNE(1,Lvt,1,4,"kendo-dropdownlist",1)(2,Pvt,1,15,"kendo-grid-date-filter-menu-input",2)),2&e&&(s.Y8G("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("format",t.format)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("min",t.min)("max",t.max)("weekNumber",t.weekNumber)("isFirstDropDown",!0)("menuTabbingService",t.menuTabbingService),s.R7$(),s.Y8G("ngIf",t.extra),s.R7$(),s.Y8G("ngIf",t.extra))},dependencies:[Rke,Ws,q,Vw],encapsulation:2}),i})(),Ake=(()=>{class i extends Bw{constructor(e,t){super(e),this.ctx=t,this.operator="eq",this.items=[{text:this.ctx.localization.get("filterIsTrue"),value:!0},{text:this.ctx.localization.get("filterIsFalse"),value:!1}],this.defaultItem={text:this.ctx.localization.get("filterBooleanAll"),value:null}}get hostClasses(){return!0}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}ngOnInit(){this.subscription=this.ctx.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.items=[{text:this.ctx.localization.get("filterIsTrue"),value:!0},{text:this.ctx.localization.get("filterIsFalse"),value:!1}],this.defaultItem={text:this.ctx.localization.get("filterBooleanAll"),value:null}}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(ma),s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-boolean-filter-base"]],hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-filtercell-boolean",t.hostClasses)},inputs:{column:"column",filter:"filter"},features:[s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),I7=(()=>{class i{constructor(e,t){this.hostElement=e,this.renderer=t}ngAfterViewInit(){this.radioButtonEl=this.hostElement.nativeElement,this.renderer.setAttribute(this.hostElement.nativeElement,"aria-label",this.columnLabel)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoFilterMenuRadioButton",""]],inputs:{columnLabel:"columnLabel"}}),i})(),R7=(()=>{class i extends Ake{constructor(e){super(null,e),this.filter={filters:[],logic:"and"},this.idPrefix=tn()}get hostClasses(){return!1}ngAfterViewInit(){this.filterService.menuTabbingService.firstFocusable=this.radioButtons.first.radioButtonEl,this.menuTabbingService?.isTabbedInterface||this.radioButtons.first.radioButtonEl.focus()}radioId(e){return`${this.idPrefix}_${e}`}onChange(e,t){this.applyFilter(this.updateFilter({field:this.column.field,operator:"eq",value:e})),this.filterService.menuTabbingService.firstFocusable=t}isSelected(e){return this.filtersByField(this.column.field).some(({value:t})=>t===e)}onShiftTab(e){(!this.menuTabbingService||!this.menuTabbingService.isColumnMenu)&&this.filterService.menuTabbingService.lastFocusable&&(e.preventDefault(),this.filterService.menuTabbingService.lastFocusable.focus())}get columnLabel(){const e=this.ctx.localization.get("filterInputLabel")||"";return pa(e,"columnName",this.column.title||this.column.field)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-boolean-filter-menu"]],viewQuery:function(e,t){if(1&e&&s.GBs(I7,5),2&e){let o;s.mGM(o=s.lsd())&&(t.radioButtons=o)}},hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-filtercell",t.hostClasses)},inputs:{filter:"filter",filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[s.Vt3],decls:2,vars:1,consts:[["input",""],[1,"k-radio-list","k-reset"],[4,"ngFor","ngForOf"],["type","radio","kendoFilterMenuRadioButton","","kendoRadioButton","",3,"change","keydown.shift.tab","columnLabel","name","checked"],[1,"k-radio-label"]],template:function(e,t){1&e&&(s.j41(0,"ul",1),s.DNE(1,Gvt,5,6,"li",2),s.k0s()),2&e&&(s.R7$(),s.Y8G("ngForOf",t.items))},dependencies:[ut,kqe,I7],encapsulation:2}),i})(),xke=(()=>{class i extends Eke{constructor(e,t){super(e,t)}componentType(){return xe(this.column)&&!nr(this.column.filter)?(i=>({boolean:R7,date:M7,numeric:T7,text:kA}[this.column.filter]))():kA}initComponent(e){super.initComponent(e),this.component.instance.filterService=this.filterService,this.component.instance.menuTabbingService=this.menuTabbingService}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.c1b),s.rXU(s.OM3))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoFilterMenuHost",""]],inputs:{filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[s.Vt3]}),i})();const Nke=({value:i,operator:n})=>!nr(i)||(i=>"isnull"===i||"isnotnull"===i||"isempty"===i||"isnotempty"===i)(n),Lke=(i,n,e)=>i.reduce((t,o)=>t||(o.filters?Lke(o.filters,n,o):o.field===n?e:t),void 0),mDt=(i,n,e="and")=>{const t=Lke((i||{}).filters||[],n);return xe(t)?t.logic:e};let A7=(()=>{class i{constructor(e,t,o,r,a){this.parentService=e,this.childService=t,this.ctx=o,this.cd=r,this.close=new s.bkB,this.actionsClass="k-actions k-actions-stretched k-actions-horizontal",this._templateContext={},this.menuTabbingService=a}set filter(e){this._filter=wA(e)}get filter(){return this._filter}get childFilter(){return xe(this._childFilter)||(this._childFilter={filters:DA(this.filter,(this.column||{}).field),logic:mDt(this.filter,(this.column||{}).field)}),this._childFilter}ngOnInit(){this.subscription=this.childService.changes.subscribe(e=>this._childFilter=e),this.subscription.add(this.ctx.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngAfterViewChecked(){(!this.menuTabbingService.isColumnMenu||this.isLast&&this.isExpanded)&&(this.menuTabbingService.lastFocusable=this.disabled?this.resetButton.nativeElement:this.filterButton.nativeElement)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.menuTabbingService.lastFocusable=void 0}get disabled(){return!this.childFilter.filters.some(Nke)}get templateContext(){return this._templateContext.column=this.column,this._templateContext.filter=this.childFilter,this._templateContext.filterService=this.childService,this._templateContext.$implicit=this.childFilter,this._templateContext}get hasTemplate(){return xe(this.column)&&xe(this.column.filterMenuTemplateRef)}submit(){const e=(i=>(i.filters=i.filters.filter(Nke),i))(this.childFilter);if(e.filters.length){const t=this.filter||{filters:[],logic:"and"};Kte(t,this.column.field),t.filters.push(e),this.parentService.filter(t)}return this.close.emit(),!1}reset(){const e=this.filter||{filters:[],logic:"and"};Kte(e,this.column.field),this.parentService.filter(e),this.close.emit()}onTab(e,t){this.menuTabbingService.firstFocusable&&(!this.menuTabbingService.isColumnMenu||this.isLast)&&(e.preventDefault(),"reset"===t||this.disabled?this.menuTabbingService.firstFocusable.focus():this.resetButton.nativeElement.focus())}get clearText(){return this.ctx.localization.get("filterClearButton")}get filterText(){return this.ctx.localization.get("filterFilterButton")}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(ma,4),s.rXU(ma),s.rXU(Fe),s.rXU(s.gRc),s.rXU(SA))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-filter-menu-container"]],viewQuery:function(e,t){if(1&e&&(s.GBs(vwe,5),s.GBs(Uvt,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.resetButton=o.first),s.mGM(o=s.lsd())&&(t.filterButton=o.first)}},inputs:{column:"column",isLast:"isLast",isExpanded:"isExpanded",menuTabbingService:"menuTabbingService",filter:"filter",actionsClass:"actionsClass"},outputs:{close:"close"},features:[s.Jv_([ma,SA])],decls:12,vars:7,consts:[["filterButton",""],["resetButton",""],[1,"k-filter-menu",3,"submit","reset"],[1,"k-filter-menu-container"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngClass"],["type","submit",1,"k-button","k-button-solid-primary","k-button-solid","k-button-md","k-rounded-md","k-button-rectangle",3,"keydown.tab","disabled"],["type","reset",1,"k-button","k-button-solid-base","k-button-solid","k-button-md","k-rounded-md","k-button-rectangle",3,"keydown.tab"],["kendoFilterMenuHost","",3,"filterService","column","filter","menuTabbingService"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){if(1&e){const o=s.RV6();s.j41(0,"form",2),s.bIt("submit",function(){return s.eBV(o),s.Njj(t.submit())})("reset",function(){return s.eBV(o),s.Njj(t.reset())}),s.j41(1,"div",3),s.qex(2,4),s.DNE(3,Fvt,2,4,"ng-container",5)(4,zvt,2,1,"ng-container",5),s.bVm(),s.j41(5,"div",6)(6,"button",7,0),s.bIt("keydown.tab",function(a){return s.eBV(o),s.Njj(t.onTab(a,"filter"))}),s.EFF(8),s.k0s(),s.j41(9,"button",8,1),s.bIt("keydown.tab",function(a){return s.eBV(o),s.Njj(t.onTab(a,"reset"))}),s.EFF(11),s.k0s()()()()}2&e&&(s.R7$(2),s.Y8G("ngSwitch",t.hasTemplate),s.R7$(),s.Y8G("ngSwitchCase",!1),s.R7$(),s.Y8G("ngSwitchCase",!0),s.R7$(),s.Y8G("ngClass",t.actionsClass),s.R7$(),s.Y8G("disabled",t.disabled),s.R7$(2),s.JRh(t.filterText),s.R7$(3),s.JRh(t.clearText))},dependencies:[Ps,Ls,ps,wa,od,xke,q,qe,Be],encapsulation:2}),i})(),_Dt=0,Yte=(()=>{class i{constructor(e,t,o,r,a,l,c){this.filterService=e,this.popupService=t,this.ctx=o,this.navigationService=r,this.renderer=a,this.cdr=l,this.idService=c,this.filterIcon=yC,this.tabIndex="-1"}get hasFilters(){return DA(this.filter,(this.column||{}).field).length>0}get filterLabel(){const e=this.ctx.localization.get("filterMenuTitle")||"";return pa(e,"columnName",this.column.title||this.column.field)}get isNavigable(){return this.navigationService.tableEnabled}toggle(e,t){this.popupRef=this.popupService.open(e,t,this.popupRef);const o=this.isNavigable?e.closest(".k-table-th"):e;if(this.popupRef){this.popupRef.popup.instance.close.pipe(We(1)).subscribe(()=>{this.popupRef=null;const a=this.isNavigable?e.closest(".k-table-th"):e;a&&this.renderer.removeAttribute(a,"aria-controls"),a&&this.renderer.setAttribute(a,"aria-expanded","false")});const r=this.popupRef.popupElement.querySelector(".k-grid-filter-popup");if(r){const a=(i=>`${this.idService?.gridId()}-filter-menu-${_Dt++}`)();this.renderer.setAttribute(r,"id",a),this.renderer.setAttribute(r,"role","dialog"),this.renderer.setAttribute(r,"aria-label",this.filterLabel),o&&this.renderer.setAttribute(o,"aria-controls",a),o&&this.renderer.setAttribute(o,"aria-expanded","true")}}else this.navigationService.tableEnabled?this.navigationService.focusCell(0,this.column.leafIndex):this.anchor.nativeElement.focus();return!1}close(){this.popupService.destroy(),this.popupRef=null,this.cdr.markForCheck(),this.navigationService.tableEnabled?this.navigationService.focusCell(0,this.column.leafIndex):this.anchor.nativeElement.focus()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(ma),s.rXU(EA),s.rXU(Fe),s.rXU(Va),s.rXU(s.sFG),s.rXU(s.gRc),s.rXU(Gc,8))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-filter-menu"]],viewQuery:function(e,t){if(1&e&&(s.GBs(Jee,7),s.GBs(Cwe,7,s.C4Q)),2&e){let o;s.mGM(o=s.lsd())&&(t.anchor=o.first),s.mGM(o=s.lsd())&&(t.template=o.first)}},inputs:{column:"column",filter:"filter",tabIndex:"tabIndex"},decls:5,vars:7,consts:[["anchor",""],["template",""],["href","#",1,"k-grid-filter-menu","k-grid-header-menu",3,"click","keydown.enter","tabindex"],["name","filter",3,"svgIcon"],[3,"close","keydown.escape","keydown.enter","column","filter"]],template:function(e,t){if(1&e){const o=s.RV6();s.j41(0,"a",2,0),s.bIt("click",function(){s.eBV(o);const a=s.sdS(1),l=s.sdS(4);return s.Njj(t.toggle(a,l))})("keydown.enter",function(a){return s.eBV(o),s.Njj(a.stopImmediatePropagation())}),s.nrm(2,"kendo-icon-wrapper",3),s.k0s(),s.DNE(3,Hvt,1,2,"ng-template",null,1,s.C5r)}2&e&&(s.AVh("k-active",t.hasFilters),s.Y8G("tabindex",t.tabIndex),s.BMQ("title",t.filterLabel)("aria-haspopup",t.isNavigable?void 0:"dialog")("aria-expanded",!!t.isNavigable&&void 0),s.R7$(2),s.Y8G("svgIcon",t.filterIcon))},dependencies:[Qe,A7],encapsulation:2}),i})(),Jte=(()=>{class i{constructor(e){this.closeMenu=new s.bkB,this.menuTabbingService=e}close(){this.closeMenu.emit()}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(SA))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),NS=(()=>{class i{constructor(){this.hostClass=!0}ngOnInit(){if((0,s.naY)()&&!this.service)throw new Error(pA_serviceInput)}close(){this.service.close()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-column-menu-item-base"]],hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-columnmenu-item-wrapper",t.hostClass)},inputs:{service:"service"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),zw=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridColumnMenuItemContentTemplate",""]]}),i})(),Uf=(()=>{class i{constructor(){this.itemClick=new s.bkB,this.expand=new s.bkB,this.collapse=new s.bkB,this.contentState="collapsed"}ngAfterViewInit(){this.contentTemplate&&(this.contentId=`k-${tn()}`)}ngOnChanges(e){e.expanded&&this.updateContentState()}onClick(e){this.itemClick.emit(e),this.contentTemplate&&(this.expanded=!this.expanded,this.updateContentState(),this.expanded?this.expand.emit():this.collapse.emit())}updateContentState(){this.contentState=this.expanded?"expanded":"collapsed"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-columnmenu-item"]],contentQueries:function(e,t,o){if(1&e&&s.wni(o,zw,5),2&e){let r;s.mGM(r=s.lsd())&&(t.contentTemplate=r.first)}},inputs:{icon:"icon",svgIcon:"svgIcon",text:"text",selected:"selected",disabled:"disabled",expanded:"expanded",service:"service"},outputs:{itemClick:"itemClick",expand:"expand",collapse:"collapse"},features:[s.OA$],decls:4,vars:10,consts:[["role","button",1,"k-columnmenu-item",3,"click","keydown.enter"],[3,"name","svgIcon"],["class","k-columnmenu-item-content",3,"overflow",4,"ngIf"],[1,"k-columnmenu-item-content"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&(s.j41(0,"div",0),s.bIt("click",function(r){return t.onClick(r)})("keydown.enter",function(r){return t.onClick(r)}),s.nrm(1,"kendo-icon-wrapper",1),s.EFF(2),s.k0s(),s.DNE(3,jvt,3,5,"div",2)),2&e&&(s.AVh("k-selected",t.selected)("k-disabled",t.disabled),s.BMQ("aria-expanded",t.expanded)("aria-controls",t.expanded?t.contentId:void 0),s.R7$(),s.Y8G("name",t.icon)("svgIcon",t.svgIcon),s.R7$(),s.SpI(" ",t.text," "),s.R7$(),s.Y8G("ngIf",t.contentTemplate))},dependencies:[Qe,q,qe],encapsulation:2,data:{animation:[Em("state",[cd("collapsed",Xe({display:"none"})),cd("expanded",Xe({display:"block"})),oo("collapsed => expanded",[Xe({height:"0px",display:"block"}),ii("100ms ease-in",Xe({height:"*"}))]),oo("expanded => collapsed",[Xe({height:"*"}),ii("100ms ease-in",Xe({height:"0px"}))])])]}}),i})(),x7=(()=>{class i extends NS{constructor(e,t,o){super(),this.ctx=e,this.columnInfoService=t,this.changeDetector=o,this.unlockIcon=rW,this.lockIcon=vP}get text(){return this.ctx.localization.get(this.locked?"unlock":"lock")}get icon(){return this.locked?"unlock":"lock"}get svgIcon(){return this.locked?this.unlockIcon:this.lockIcon}get disabled(){return!this.locked&&this.columnInfoService.unlockedRootCount<2}toggleColumn(){this.toggleHierarchy(!this.locked),this.close(),this.changeDetector.markForCheck()}toggleHierarchy(e){let t=this.service.column;for(;t.parent;)t=t.parent;const o=[t],r=[];for(;o.length;){const a=o.shift();a.locked=e,r.push(a),a.hasChildren&&o.push(...a.childrenArray)}this.columnInfoService.changeLocked(r)}get locked(){return this.service.column.locked}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe),s.rXU(ql),s.rXU(s.gRc))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-columnmenu-lock"]],features:[s.Vt3],decls:1,vars:4,consts:[[3,"itemClick","text","icon","svgIcon","disabled"]],template:function(e,t){1&e&&(s.j41(0,"kendo-grid-columnmenu-item",0),s.bIt("itemClick",function(){return t.toggleColumn()}),s.k0s()),2&e&&s.Y8G("text",t.text)("icon",t.icon)("svgIcon",t.svgIcon)("disabled",t.disabled)},dependencies:[Uf],encapsulation:2}),i})(),N7=(()=>{class i extends NS{constructor(e,t,o){super(),this.ctx=e,this.columnInfoService=t,this.changeDetector=o,this.stickIcon=MP,this.unstickIcon=IP}get text(){return this.ctx.localization.get(this.sticky?"unstick":"stick")}get icon(){return this.sticky?"unstick":"stick"}get svgIcon(){return this.sticky?this.unstickIcon:this.stickIcon}get disabled(){return!this.sticky&&this.columnInfoService.unlockedRootCount<2}toggleColumn(){this.toggleHierarchy(!this.sticky),this.close(),this.changeDetector.markForCheck()}toggleHierarchy(e){let t=this.service.column;for(;t.parent;)t=t.parent;const o=[t],r=[];for(;o.length;){const a=o.shift();a.sticky=e,r.push(a),a.hasChildren&&o.push(...a.childrenArray)}this.columnInfoService.changeStuck(r)}get sticky(){return this.service.column.sticky}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe),s.rXU(ql),s.rXU(s.gRc))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-columnmenu-stick"]],features:[s.Vt3],decls:1,vars:4,consts:[[3,"itemClick","text","icon","svgIcon","disabled"]],template:function(e,t){1&e&&(s.j41(0,"kendo-grid-columnmenu-item",0),s.bIt("itemClick",function(){return t.toggleColumn()}),s.k0s()),2&e&&s.Y8G("text",t.text)("icon",t.icon)("svgIcon",t.svgIcon)("disabled",t.disabled)},dependencies:[Uf],encapsulation:2}),i})(),L7=(()=>{class i extends NS{constructor(e,t){super(),this.ctx=e,this.hostElement=t,this.expand=new s.bkB,this.collapse=new s.bkB,this.expanded=!1,this.actionsClass="k-actions",this.setColumnPositionIcon=RP,this._isLast=!1}set isLast(e){this.service.menuTabbingService.lastFocusable=this.getLastFocusableItem(),this._isLast=e}get isLast(){return this._isLast}onTab(e,t){this.isLast&&t&&(e.preventDefault(),e.stopImmediatePropagation(),this.service&&this.service.menuTabbingService.firstFocusable.focus())}onCollapse(){this.expanded=!1,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.getLastFocusableItem()),this.collapse.emit()}onExpand(){this.expanded=!0,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.getLastFocusableItem()),this.expand.emit()}getLastFocusableItem(){const e=this.hostElement.nativeElement.querySelectorAll(".k-columnmenu-item");return e[this.expanded?e.length-1:0]}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe),s.rXU(s.aKT))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-columnmenu-position"]],inputs:{expanded:"expanded",showLock:"showLock",showStick:"showStick",isLast:"isLast"},outputs:{expand:"expand",collapse:"collapse"},features:[s.Vt3],decls:2,vars:3,consts:[["icon","set-column-position",3,"keydown.tab","collapse","expand","text","svgIcon","expanded"],["kendoGridColumnMenuItemContentTemplate",""],[3,"service","keydown.tab",4,"ngIf"],[3,"keydown.tab","service"]],template:function(e,t){1&e&&(s.j41(0,"kendo-grid-columnmenu-item",0),s.bIt("keydown.tab",function(r){return t.onTab(r,!t.expanded)})("collapse",function(){return t.onCollapse()})("expand",function(){return t.onExpand()}),s.DNE(1,Wvt,2,2,"ng-template",1),s.k0s()),2&e&&s.Y8G("text",t.ctx.localization.get("setColumnPosition"))("svgIcon",t.setColumnPositionIcon)("expanded",t.expanded)},dependencies:[Uf,x7,N7,zw,q],encapsulation:2}),i})(),Pke=(()=>{class i{constructor(e){this.renderer=e,this.activeIndex=0}next(){this.toggle(this.activeIndex,!1),this.activeIndex=Math.min(this.activeIndex+1,this.items.length-1),this.toggle(this.activeIndex,!0)}prev(){this.toggle(this.activeIndex,!1),this.activeIndex=Math.max(this.activeIndex-1,0),this.toggle(this.activeIndex,!0)}toggle(e,t){const o=this.items[e]?.host.nativeElement;o&&this.renderer.setAttribute(this.items[e].host.nativeElement,"tabindex",t?"0":"-1"),t&&o&&o.focus()}toggleCheckedState(){this.items[this.activeIndex].host.nativeElement.firstElementChild.click()}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(s.sFG))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),qte=(()=>{class i{constructor(e,t){this.host=e,this.renderer=t,this.checkedChangeSub=new be.yU}ngAfterViewInit(){this.checkedChangeSub.add(this.renderer.listen(this.host.nativeElement.firstElementChild,"change",e=>{this.kendoColumnMenuChooserItemChecked=e.target.checked}))}ngOnDestroy(){this.checkedChangeSub.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoColumnMenuChooserItemChecked",""]],hostVars:1,hostBindings:function(e,t){2&e&&s.BMQ("aria-checked",t.kendoColumnMenuChooserItemChecked)},inputs:{kendoColumnMenuChooserItemChecked:"kendoColumnMenuChooserItemChecked"}}),i})(),P7=(()=>{class i{constructor(e,t,o,r){this.element=e,this.ngZone=t,this.renderer=o,this.listNavigationService=r,this.reset=new s.bkB,this.apply=new s.bkB,this.columnChange=new s.bkB,this.autoSync=!0,this.allowHideAll=!1,this.actionsClass="k-actions k-actions-stretched k-actions-horizontal",this.unlockedCount=0,this.domSubscriptions=new be.yU,this.onKeydown=a=>{a.keyCode!==G.Tab&&a.preventDefault(),a.keyCode===G.ArrowDown?this.listNavigationService.next():a.keyCode===G.ArrowUp?this.listNavigationService.prev():a.keyCode===G.Space&&a.target.classList.contains("k-column-list-item")&&this.listNavigationService.toggleCheckedState()}}get className(){return!0}isChecked(e){return e.checked}set columns(e){this._columns=e.filter(t=>!1!==t.includeInChooser),this.allColumns=e,this.updateColumnState()}get columns(){return this._columns}ngOnInit(){this.element&&this.ngZone.runOutsideAngular(()=>{this.domSubscriptions.add(this.renderer.listen(this.element.nativeElement,"click",e=>{const t=e.target.closest(".k-column-list-item");if(t){const o=t.querySelector(".k-checkbox"),r=parseInt(o.getAttribute("data-index"),10);if(e.target===o?t.focus():(e.preventDefault(),o.checked=!o.checked),this.autoSync){const a=this.columns[r],l=!o.checked;!!a.hidden!==l&&this.ngZone.run(()=>{a.hidden=l,this.columnChange.emit([a])})}else this.updateDisabled();r!==this.listNavigationService.activeIndex&&(this.listNavigationService.toggle(this.listNavigationService.activeIndex,!1),this.listNavigationService.activeIndex=r,this.listNavigationService.toggle(r,!0))}})),this.domSubscriptions.add(this.renderer.listen(this.element.nativeElement,"keydown",this.onKeydown))})}ngAfterViewInit(){this.listNavigationService.items=this.options.toArray(),this.listNavigationService.toggle(0,!0),this.updateDisabled()}ngOnChanges(e){this.service&&(e.isLast&&this.isLast&&(this.service.menuTabbingService.lastFocusable=this.applyButton.nativeElement),e.isExpanded&&this.isExpanded&&this.isLast&&this.applyButton&&(this.service.menuTabbingService.lastFocusable=this.applyButton.nativeElement))}ngOnDestroy(){this.domSubscriptions.unsubscribe()}isDisabled(e){return!(this.allowHideAll||this.hasFiltered||e.hidden||this.columns.find(t=>t!==e&&!t.hidden))||this.hasVisibleLocked&&!this.hasUnlockedFiltered&&1===this.unlockedCount&&!e.locked&&!e.hidden}cancelChanges(){this.forEachCheckBox((e,t)=>{e.checked=!this.columns[t].hidden}),this.updateDisabled(),this.reset.emit()}applyChanges(){const e=[];this.forEachCheckBox((t,o)=>{const r=this.columns[o],a=!t.checked;!!r.hidden!==a&&(r.hidden=a,e.push(r))}),this.updateDisabled(),this.apply.emit(e)}onTab(e){this.isLast&&(e.preventDefault(),this.service?this.service.menuTabbingService.firstFocusable.focus():this.listNavigationService.toggle(this.listNavigationService.activeIndex,!0))}forEachCheckBox(e){const t=this.element.nativeElement.getElementsByClassName("k-checkbox"),o=t.length;for(let r=0;r<o;r++)e(t[r],r)}updateDisabled(){if(this.allowHideAll&&!this.hasLocked)return;const e=[];if(this.forEachCheckBox((t,o)=>{t.checked&&e.push({checkbox:t,index:o}),this.setDisabledState(t,!1)}),this.allowHideAll||1!==e.length||this.hasFiltered){if(this.hasLocked&&!this.hasUnlockedFiltered){const t=this.columns,o=e.filter(r=>!t[r.index].locked);1===o.length&&this.setDisabledState(o[0].checkbox,!0)}}else this.setDisabledState(e[0].checkbox,!0)}updateColumnState(){this.hasLocked=this.allColumns.filter(t=>t.locked&&(!t.hidden||!1!==t.includeInChooser)).length>0,this.hasVisibleLocked=this.allColumns.filter(t=>t.locked&&!t.hidden).length>0,this.unlockedCount=this.columns.filter(t=>!t.locked&&!t.hidden).length;const e=this.allColumns.filter(t=>!1===t.includeInChooser&&!t.hidden);e.length?(this.hasFiltered=e.length>0,this.hasUnlockedFiltered=e.filter(t=>!t.locked).length>0):(this.hasFiltered=!1,this.hasUnlockedFiltered=!1)}setDisabledState(e,t){e.disabled=t;const o=e.parentElement,a=t?"setAttribute":"removeAttribute";this.renderer[t?"addClass":"removeClass"](o,"k-disabled"),this.renderer[a](o,"aria-disabled",t?"true":void 0)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.SKi),s.rXU(s.sFG),s.rXU(Pke))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-columnlist"]],viewQuery:function(e,t){if(1&e&&(s.GBs(vwe,5),s.GBs(Kvt,5),s.GBs(qte,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.resetButton=o.first),s.mGM(o=s.lsd())&&(t.applyButton=o.first),s.mGM(o=s.lsd())&&(t.options=o)}},hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-column-list-wrapper",t.className)},inputs:{columns:"columns",autoSync:"autoSync",ariaLabel:"ariaLabel",allowHideAll:"allowHideAll",applyText:"applyText",resetText:"resetText",actionsClass:"actionsClass",isLast:"isLast",isExpanded:"isExpanded",service:"service"},outputs:{reset:"reset",apply:"apply",columnChange:"columnChange"},features:[s.Jv_([Pke]),s.OA$],decls:3,vars:3,consts:[["applyButton",""],["resetButton",""],["role","listbox","aria-multiselectable","true",1,"k-column-list"],["class","k-column-list-item","role","option",3,"kendoColumnMenuChooserItemChecked",4,"ngFor","ngForOf"],[3,"ngClass",4,"ngIf"],["role","option",1,"k-column-list-item",3,"kendoColumnMenuChooserItemChecked"],["type","checkbox","tabindex","-1",1,"k-checkbox","k-checkbox-md","k-rounded-md",3,"checked","disabled"],[1,"k-checkbox-label"],[3,"ngClass"],["type","button",1,"k-button","k-button-solid-primary","k-button-solid","k-button-md","k-rounded-md","k-button-rectangle",3,"click","keydown.enter","keydown.space"],["type","button",1,"k-button","k-button-solid-base","k-button-solid","k-button-md","k-rounded-md","k-button-rectangle",3,"keydown.tab","click","keydown.enter","keydown.space"]],template:function(e,t){1&e&&(s.j41(0,"div",2),s.DNE(1,Yvt,4,6,"label",3),s.k0s(),s.DNE(2,Jvt,7,3,"div",4)),2&e&&(s.BMQ("aria-label",t.ariaLabel),s.R7$(),s.Y8G("ngForOf",t.columns),s.R7$(),s.Y8G("ngIf",!t.autoSync))},dependencies:[ut,qte,q,Be],encapsulation:2}),i})(),G7=(()=>{class i extends NS{constructor(e,t,o,r){super(),this.ctx=e,this.columnInfoService=t,this.changeDetector=o,this.hostElement=r,this.expand=new s.bkB,this.collapse=new s.bkB,this.expanded=!1,this.isLast=!1,this.actionsClass="k-actions k-actions-stretched k-actions-horizontal",this.columnsIcon=N3}get columns(){return this.columnInfoService.leafNamedColumns}onApply(e){this.close(),e.length&&(this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e))}onCollapse(){this.expanded=!1,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.hostElement.nativeElement.querySelector(".k-columnmenu-item")),this.collapse.emit()}onExpand(){this.expanded=!0,this.expand.emit()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe),s.rXU(ql),s.rXU(s.gRc),s.rXU(s.aKT))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-columnmenu-chooser"]],inputs:{expanded:"expanded",isLast:"isLast"},outputs:{expand:"expand",collapse:"collapse"},features:[s.Vt3],decls:2,vars:3,consts:[["icon","columns",3,"collapse","expand","text","svgIcon","expanded"],["kendoGridColumnMenuItemContentTemplate",""],[3,"apply","applyText","resetText","ariaLabel","columns","autoSync","allowHideAll","actionsClass","isLast","isExpanded","service"]],template:function(e,t){1&e&&(s.j41(0,"kendo-grid-columnmenu-item",0),s.bIt("collapse",function(){return t.onCollapse()})("expand",function(){return t.onExpand()}),s.DNE(1,qvt,1,10,"ng-template",1),s.k0s()),2&e&&s.Y8G("text",t.ctx.localization.get("columns"))("svgIcon",t.columnsIcon)("expanded",t.expanded)},dependencies:[Uf,P7,zw],encapsulation:2}),i})(),OA=(()=>{class i extends NS{constructor(e,t){super(),this.ctx=e,this.hostElement=t,this.expand=new s.bkB,this.collapse=new s.bkB,this.expanded=!1,this.isLast=!1,this.actionsClass="k-actions k-actions-stretched k-actions-horizontal",this.filterIcon=yC}onCollapse(){this.expanded=!1,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.hostElement.nativeElement.querySelector(".k-columnmenu-item")),this.collapse.emit()}onExpand(){this.expanded=!0,this.expand.emit()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe),s.rXU(s.aKT))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-columnmenu-filter"]],inputs:{expanded:"expanded",isLast:"isLast"},outputs:{expand:"expand",collapse:"collapse"},features:[s.Vt3],decls:2,vars:3,consts:[["icon","filter",3,"collapse","expand","text","svgIcon","expanded"],["kendoGridColumnMenuItemContentTemplate",""],[3,"keydown.shift.tab","close","column","menuTabbingService","filter","actionsClass","isLast","isExpanded"]],template:function(e,t){1&e&&(s.j41(0,"kendo-grid-columnmenu-item",0),s.bIt("collapse",function(){return t.onCollapse()})("expand",function(){return t.onExpand()}),s.DNE(1,Qvt,1,6,"ng-template",1),s.k0s()),2&e&&s.Y8G("text",t.ctx.localization.get("filter"))("svgIcon",t.filterIcon)("expanded",t.expanded)},dependencies:[Uf,A7,zw],encapsulation:2}),i})(),U7=(()=>{class i{constructor(e,t,o){this.hostElement=e,this.renderer=t,this.ngZone=o,this._isFirst=!1,this._isLast=!1,this.subs=new be.yU,this.onTab=r=>{r.keyCode===G.Tab&&(this.isFirst&&r.shiftKey&&r.target===this.columnMenuItems[0]&&(r.preventDefault(),this.menuItemComponent.service.menuTabbingService.lastFocusable.focus()),this.isLast&&!r.shiftKey)&&this.getLastColumnMenuItem()===r.target&&!this.menuItemComponent.expanded&&(r.preventDefault(),this.menuItemComponent.service.menuTabbingService.firstFocusable.focus())}}set isFirst(e){if(e){const t=this.columnMenuItems[0];this.menuItemComponent.service.menuTabbingService.firstFocusable=t,this.ngZone.runOutsideAngular(()=>{const o=this.renderer.listen(t,"keydown",this.onTab);this.subs.add(o)})}this._isFirst=e}get isFirst(){return this._isFirst}set isLast(e){if(this.columnMenuItems){if(e){const t=this.getLastColumnMenuItem();this.menuItemComponent.service.menuTabbingService.lastFocusable=t,this.ngZone.runOutsideAngular(()=>{const o=this.renderer.listen(t,"keydown",this.onTab);this.subs.add(o)}),this.isExpandableItem()&&(this.menuItemComponent.isLast=!0)}this._isLast=e}}get isLast(){return this._isLast}ngAfterViewInit(){this.columnMenuItems=this.hostElement.nativeElement.querySelectorAll(".k-columnmenu-item"),[].slice.apply(this.columnMenuItems).forEach(e=>this.renderer.setAttribute(e,"tabindex","0")),this.menuItemComponent instanceof OA&&(this.menuItemComponent.service.menuTabbingService.isColumnMenu=!0),this.menuItemComponent.service?.columnMenuContainer.templateMenuItems.push(this)}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}getLastColumnMenuItem(){return 1===this.columnMenuItems.length?this.columnMenuItems[0]:this.columnMenuItems[1]}isExpandableItem(){return this.menuItemComponent instanceof OA||this.menuItemComponent instanceof G7||this.menuItemComponent instanceof L7}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(s.SKi))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridColumnMenuItem",""]],inputs:{menuItemComponent:[s.Mj6.None,"kendoGridColumnMenuItem","menuItemComponent"]}}),i})(),Qte=(()=>{class i{constructor(e,t){this.service=e,this.ngZone=t,this.templateMenuItems=[],e.columnMenuContainer=this}ngAfterViewInit(){if(this.columnMenuItems.length)this.columnMenuItems.first.isFirst=!0,this.columnMenuItems.last.isLast=!0;else{if(!this.templateMenuItems.length)return;this.templateMenuItems[0].isFirst=!0,this.templateMenuItems[this.templateMenuItems.length-1].isLast=!0}this.ngZone.onStable.pipe(We(1)).subscribe(()=>this.service.menuTabbingService.firstFocusable.focus())}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Jte),s.rXU(s.SKi))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-columnmenu-container"]],contentQueries:function(e,t,o){if(1&e&&s.wni(o,U7,5),2&e){let r;s.mGM(r=s.lsd())&&(t.columnMenuItems=r)}},ngContentSelectors:Rf,decls:1,vars:0,template:function(e,t){1&e&&(s.NAR(),s.SdG(0))},encapsulation:2}),i})(),Zte=(()=>{class i extends NS{constructor(e,t,o){super(),this.ctx=e,this.sortService=t,this.renderer=o,this.sortAscSmallIcon=Zm,this.sortDescSmallIcon=$3}get sortedAsc(){const e=this.descriptor;return e&&(!e.dir||"asc"===e.dir)}get sortedDesc(){const e=this.descriptor;return e&&"desc"===e.dir}toggleSort(e){const t=this.service.column.field,{mode:o,allowUnsort:r}=y7(this.service.sortable),a=this.descriptor,l="multiple"===o?this.service.sort.filter(c=>c.field!==t):[];if(a&&a.dir===e){if(!r)return}else l.push({field:t,dir:e});this.sortService.sort(l),this.close()}get descriptor(){return[].concat(this.service.sort||[]).find(e=>e.field===this.service.column.field)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe),s.rXU(S7),s.rXU(s.sFG))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-columnmenu-sort"]],features:[s.Vt3],decls:2,vars:6,consts:[["icon","sort-asc-small",3,"itemClick","text","svgIcon","selected"],["icon","sort-desc-small",3,"itemClick","text","svgIcon","selected"]],template:function(e,t){1&e&&(s.j41(0,"kendo-grid-columnmenu-item",0),s.bIt("itemClick",function(){return t.toggleSort("asc")}),s.k0s(),s.j41(1,"kendo-grid-columnmenu-item",1),s.bIt("itemClick",function(){return t.toggleSort("desc")}),s.k0s()),2&e&&(s.Y8G("text",t.ctx.localization.get("sortAscending"))("svgIcon",t.sortAscSmallIcon)("selected",t.sortedAsc),s.R7$(),s.Y8G("text",t.ctx.localization.get("sortDescending"))("svgIcon",t.sortDescSmallIcon)("selected",t.sortedDesc))},dependencies:[Uf],encapsulation:2}),i})(),ene=(()=>{class i extends NS{constructor(e){super(),this.ctx=e,this.maxWidthIcon=zX}ngOnInit(){this.ctx.grid.columnMenuTemplate&&this.ctx.grid.virtualColumns&&(0,s.naY)()&&console.warn(pA_autoSizeColumn)}autoSizeColumn(){Ske(this.ctx.grid,this.service,this.column)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-columnmenu-autosize-column"]],inputs:{column:"column"},features:[s.Vt3],decls:1,vars:1,consts:[["class","k-grid-columnmenu-autosize-column","icon","max-width",3,"text","svgIcon","itemClick",4,"ngIf"],["icon","max-width",1,"k-grid-columnmenu-autosize-column",3,"itemClick","text","svgIcon"]],template:function(e,t){1&e&&s.DNE(0,Zvt,1,2,"kendo-grid-columnmenu-item",0),2&e&&s.Y8G("ngIf",!t.ctx.grid.virtualColumns)},dependencies:[Uf,q],encapsulation:2}),i})(),tne=(()=>{class i extends NS{constructor(e){super(),this.ctx=e,this.displayInlineFlexIcon=FX}ngOnInit(){this.ctx.grid.columnMenuTemplate&&this.ctx.grid.virtualColumns&&(0,s.naY)()&&console.warn(pA_autoSizeAllColumns)}autoSizeAllColumns(){Ske(this.ctx.grid,this.service)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-columnmenu-autosize-all-columns"]],features:[s.Vt3],decls:1,vars:1,consts:[["icon","display-inline-flex",3,"text","svgIcon","itemClick",4,"ngIf"],["icon","display-inline-flex",3,"itemClick","text","svgIcon"]],template:function(e,t){1&e&&s.DNE(0,e2t,1,2,"kendo-grid-columnmenu-item",0),2&e&&s.Y8G("ngIf",!t.ctx.grid.virtualColumns)},dependencies:[Uf,q],encapsulation:2}),i})(),vDt=0,F7=(()=>{class i{constructor(e,t,o,r,a,l,c,u){this.navigationService=e,this.popupService=t,this.service=o,this.ctx=r,this.renderer=a,this.cdr=l,this.columnInfoService=c,this.idService=u,this.standalone=!0,this.settings={},this.sortable=!0,this.tabIndex="-1",this.columnsIcon=N3,this.actionsClass="k-actions",this.slidersIcon=tK,this.filterIcon=yC,this.expandedFilter=!1,this.expandedColumns=!1,this.expandedPosition=!1,this.moreVerticalIcon=oD,this.closeSubscription=o.closeMenu.subscribe(this.close.bind(this,!0))}get showGeneralTab(){return this.hasSort||this.hasLock||this.hasStick||this.hasPosition||this.hasAutoSizeColumn||this.hasAutoSizeAllColumns}get isActive(){return this.hasFilter&&DA(this.filter,this.column.field).length>0||!this.sortable&&this.hasSort&&this.sort.find(e=>e.field===this.column.field)}get hasFilter(){return hke(this.settings,this.column)}get isNavigable(){return this.navigationService.tableEnabled}get hasSort(){return pke(this.settings,this.column)}get hasColumnChooser(){return mke(this.settings)}onApply(e){this.close(!0),e.length&&(this.cdr.markForCheck(),this.columnInfoService.changeVisibility(e))}get hasAutoSizeColumn(){return _ke(this.settings)}get hasAutoSizeAllColumns(){return gke(this.settings)}get hasLock(){return fke(this.settings,this.column)}get hasStick(){return((i,n)=>this.settings.stick&&n.stickable&&!(n.parent&&!n.parent.isSpanColumn))(0,this.column)}get hasPosition(){return((i,n)=>this.settings.setColumnPosition&&(n.stickable||n.lockable)&&!(n.parent&&!n.parent.isSpanColumn))(0,this.column)}get columns(){return this.columnInfoService.leafNamedColumns}ngAfterViewInit(){this.ctx.grid.virtualColumns&&(0,s.naY)()&&(this.settings.autoSizeAllColumns&&(this.settings.autoSizeAllColumns=!1,console.warn(pA_autoSizeAllColumns)),this.settings.autoSizeColumn&&(this.settings.autoSizeColumn=!1,console.warn(pA_autoSizeColumn))),this.service.menuTabbingService.isTabbedInterface="tabbed"===this.settings.view}ngOnChanges(){this.service.column=this.column,this.service.sort=this.sort,this.service.filter=this.filter,this.service.sortable=this.sortable}ngOnDestroy(){this.close(),this.closeSubscription.unsubscribe()}toggle(e,t,o){e&&(e.preventDefault(),e.stopImmediatePropagation()),this.expandedFilter=this.getExpandedState(this.settings.filter),this.expandedColumns=this.getExpandedState(this.settings.columnChooser),this.expandedPosition=this.getExpandedState(this.settings.setColumnPosition),this.popupRef=this.popupService.open(t,o,this.popupRef,"k-grid-columnmenu-popup k-column-menu");const r=this.isNavigable?t.closest(".k-table-th"):t;if(this.popupRef){this.popupRef.popup.instance.close.pipe(We(1)).subscribe(()=>{this.popupRef=null;const l=this.isNavigable?t.closest(".k-table-th"):t;l&&this.renderer.removeAttribute(l,"aria-controls"),l&&this.renderer.setAttribute(l,"aria-expanded","false")});const a=this.popupRef.popupElement.querySelector(".k-grid-columnmenu-popup");if(a){const l=(i=>`${this.idService?.gridId()}-column-menu-${vDt++}`)();this.renderer.setAttribute(a,"id",l),this.renderer.setAttribute(a,"role","dialog"),this.renderer.setAttribute(a,"aria-label",this.columnMenuTitle),r&&this.renderer.setAttribute(r,"aria-controls",l),r&&this.renderer.setAttribute(r,"aria-expanded","true")}"tabbed"===this.settings.view&&(this.renderer.addClass(a,"k-column-menu-tabbed"),this.renderer.addClass(a,"k-column-menu"),this.cdr.detectChanges(),this.tabStrip?.selectTab(0))}else this.navigationService.tableEnabled?this.navigationService.focusCell(0,this.column.leafIndex):this.anchor.nativeElement.focus()}close(e=!1){this.popupService.destroy(),this.popupRef=null,this.cdr.markForCheck(),e&&(this.navigationService.tableEnabled?this.navigationService.focusCell(0,this.column.leafIndex):this.anchor.nativeElement.focus())}get columnMenuTitle(){const e=this.ctx.localization.get("columnMenu")||"";return pa(e,"columnName",this.column.title||this.column.field)}getExpandedState(e){return"object"==typeof e&&e.expanded}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Va),s.rXU(EA),s.rXU(Jte),s.rXU(Fe),s.rXU(s.sFG),s.rXU(s.gRc),s.rXU(ql),s.rXU(Gc,8))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-column-menu"]],viewQuery:function(e,t){if(1&e&&(s.GBs(Jee,7),s.GBs(Cwe,7,s.C4Q),s.GBs(gwe,7,s.C4Q),s.GBs(t2t,7,s.C4Q),s.GBs(eF,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.anchor=o.first),s.mGM(o=s.lsd())&&(t.template=o.first),s.mGM(o=s.lsd())&&(t.defaultTemplate=o.first),s.mGM(o=s.lsd())&&(t.tabbedInterfaceTemplate=o.first),s.mGM(o=s.lsd())&&(t.tabStrip=o.first)}},hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-grid-column-menu-standalone",t.standalone)},inputs:{standalone:"standalone",column:"column",settings:"settings",sort:"sort",filter:"filter",sortable:"sortable",columnMenuTemplate:"columnMenuTemplate",tabIndex:"tabIndex"},features:[s.Jv_([Jte,SA]),s.OA$],decls:9,vars:8,consts:[["anchor",""],["template",""],["defaultTemplate",""],["tabbedInterfaceTemplate",""],["sortItem",""],["lockItem",""],["stickItem",""],["positionItem",""],["chooserItem",""],["autoSizeColumnItem",""],["autoSizeAllColumnsItem",""],["filterItem",""],["tabstrip",""],["href","#",1,"k-grid-header-menu","k-grid-column-menu",3,"click","keydown.enter","ngClass","tabindex"],["name","more-vertical",3,"svgIcon"],[3,"keydown.escape","keydown.enter"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"kendoGridColumnMenuItem","service",4,"ngIf"],[3,"showLock","showStick","kendoGridColumnMenuItem","service","expanded",4,"ngIf"],["class","k-separator",3,"borderColor",4,"ngIf"],[3,"kendoGridColumnMenuItem","service","expanded",4,"ngIf"],[3,"service","kendoGridColumnMenuItem","column",4,"ngIf"],[3,"service","kendoGridColumnMenuItem",4,"ngIf"],[3,"kendoGridColumnMenuItem","service"],[3,"showLock","showStick","kendoGridColumnMenuItem","service","expanded"],[1,"k-separator"],[3,"kendoGridColumnMenuItem","service","expanded"],[3,"service","kendoGridColumnMenuItem","column"],[3,"service","kendoGridColumnMenuItem"],[3,"keydown.escape"],[4,"ngIf"],["kendoTabTitle",""],["kendoTabContent",""],["name","filter",3,"svgIcon"],[3,"keydown.shift.tab","close","column","menuTabbingService","filter","actionsClass"],["name","sliders",3,"svgIcon"],["name","columns",3,"svgIcon"],[3,"apply","applyText","resetText","columns","autoSync","allowHideAll","actionsClass","service"]],template:function(e,t){if(1&e){const o=s.RV6();s.j41(0,"a",13,0),s.bIt("click",function(a){s.eBV(o);const l=s.sdS(1),c=s.sdS(4);return s.Njj(t.toggle(a,l,c))})("keydown.enter",function(a){return s.eBV(o),s.Njj(a.stopImmediatePropagation())}),s.nrm(2,"kendo-icon-wrapper",14),s.k0s(),s.DNE(3,s2t,2,5,"ng-template",null,1,s.C5r)(5,m2t,11,10,"ng-template",null,2,s.C5r)(7,N2t,5,3,"ng-template",null,3,s.C5r)}2&e&&(s.Y8G("ngClass",s.eq3(6,n2t,t.isActive))("tabindex",t.tabIndex),s.BMQ("title",t.columnMenuTitle)("aria-expanded",!!t.isNavigable&&void 0)("aria-haspopup",t.isNavigable?void 0:"dialog"),s.R7$(2),s.Y8G("svgIcon",t.moreVerticalIcon))},dependencies:[Qe,Qte,Zte,x7,N7,L7,G7,ene,tne,OA,eF,QU,A7,P7,Be,qe,q,U7,qU,JU],encapsulation:2}),i})(),nne=(()=>{class i{constructor(e,t){this.ctx=e,this.sizing=t,this.clearText="Clear",this.filterClearIcon=dW,this.filterSVGIcon=yC,this.size="medium",this.operators=[],this.showOperators=!0,this.valueChange=new s.bkB,this.clear=new s.bkB}get hostClasses(){return!0}onChange(e){this.valueChange.emit(e)}clearClick(){return this.clear.emit(),!1}clearKeydown(e){(e.keyCode===G.Enter||e.keyCode===G.Space)&&this.clear.emit()}dropdownKeydown(e){e.defaultPrevented||e.keyCode===G.Enter&&!this.dropdown.isOpen&&(this.dropdown.toggle(!0),e.preventDefault())}ngOnInit(){this.subs=this.ctx.localization.changes.subscribe(()=>this.clearText=this.ctx.localization.get("filterClearButton")),this.subs.add(this.sizing.changes.subscribe(e=>this.size=e))}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}get columnLabel(){const e=this.ctx.localization.get("filterCellOperatorLabel")||"";return pa(e,"columnName",this.column.title||this.column.field)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe),s.rXU(xS))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-filter-cell-operators"]],viewQuery:function(e,t){if(1&e&&s.GBs(L2t,5),2&e){let o;s.mGM(o=s.lsd())&&(t.dropdown=o.first)}},hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-filtercell-operator",t.hostClasses)},inputs:{operators:"operators",showButton:"showButton",showOperators:"showOperators",value:"value",column:"column"},outputs:{valueChange:"valueChange",clear:"clear"},decls:2,vars:2,consts:[["dropdown",""],["kendoGridFocusable","","class","k-dropdown-operator","icon","filter","textField","text","valueField","value",3,"data","value","svgIcon","valuePrimitive","popupSettings","size","valueChange","keydown",4,"ngIf"],["type","button","kendoButton","","kendoGridFocusable","","icon","filter-clear",3,"svgIcon","title","size","click","keydown",4,"ngIf"],["kendoGridFocusable","","icon","filter","textField","text","valueField","value",1,"k-dropdown-operator",3,"valueChange","keydown","data","value","svgIcon","valuePrimitive","popupSettings","size"],["type","button","kendoButton","","kendoGridFocusable","","icon","filter-clear",3,"click","keydown","svgIcon","title","size"]],template:function(e,t){1&e&&s.DNE(0,P2t,2,8,"kendo-dropdownlist",1)(1,G2t,1,3,"button",2),2&e&&(s.Y8G("ngIf",t.showOperators),s.R7$(),s.Y8G("ngIf",t.showButton))},dependencies:[Ws,Ht,q,Jl],encapsulation:2}),i})();const bDt=["isnull","isnotnull","isempty","isnotempty"];let Hw=(()=>{class i extends Dke{constructor(e){super(e),this.showOperators=!0}get hostClasses(){return!0}get overrideBaseClasses(){return!1}get showButton(){const e=this.currentFilter;return xe(e)&&(!nr(e.value)||bDt.indexOf(String(e.operator))>=0)}filterChange(e){this.applyFilter(e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(ma))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-filter-wrapper-cell"]],hostVars:4,hostBindings:function(e,t){2&e&&s.AVh("k-filtercell-wrapper",t.hostClasses)("k-filtercell",t.overrideBaseClasses)},inputs:{showOperators:"showOperators"},features:[s.Vt3],ngContentSelectors:Rf,decls:2,vars:5,consts:[[3,"clear","valueChange","showOperators","column","operators","showButton","value"]],template:function(e,t){1&e&&(s.NAR(),s.SdG(0),s.j41(1,"kendo-grid-filter-cell-operators",0),s.bIt("clear",function(){return t.onClear()}),s.mxI("valueChange",function(r){return s.DH7(t.currentOperator,r)||(t.currentOperator=r),r}),s.k0s()),2&e&&(s.R7$(),s.Y8G("showOperators",t.showOperators)("column",t.column)("operators",t.operators)("showButton",t.showButton),s.R50("value",t.currentOperator))},dependencies:[nne],encapsulation:2}),i})(),TA=(()=>{class i extends yke{constructor(e,t,o){super(e,t),this.filterDelay=500,this.showOperators=!0,this.subs=o.changes.subscribe(r=>this.size=r)}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}get columnLabel(){const e=this.ctx.localization.get("filterInputLabel")||"";return pa(e,"columnName",this.column.title||this.column.field)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(ma),s.rXU(Fe),s.rXU(xS))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-string-filter-cell"]],inputs:{filterDelay:"filterDelay",showOperators:"showOperators"},features:[s.Vt3],decls:2,vars:9,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoTextBox","","kendoGridFocusable","","kendoFilterInput","",3,"size","columnLabel","filterDelay","ngModel"]],template:function(e,t){1&e&&(s.j41(0,"kendo-grid-filter-wrapper-cell",0),s.nrm(1,"kendo-textbox",1),s.k0s()),2&e&&(s.Y8G("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),s.R7$(),s.Y8G("size",t.size)("columnLabel",t.columnLabel)("filterDelay",t.filterDelay)("ngModel",null==t.currentFilter?null:t.currentFilter.value))},dependencies:[Hw,xh,Jl,Gf,Di,fs],encapsulation:2}),i})(),B7=(()=>{class i extends Oke{constructor(e,t,o){super(e,t),this.ctx=t,this.filterDelay=500,this.showOperators=!0,this.subs=o.changes.subscribe(r=>this.size=r)}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}messageFor(e){return this.ctx.localization.get(e)}get columnLabel(){const e=this.ctx.localization.get("filterInputLabel")||"";return pa(e,"columnName",this.column.title||this.column.field)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(ma),s.rXU(Fe),s.rXU(xS))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-numeric-filter-cell"]],inputs:{filterDelay:"filterDelay",showOperators:"showOperators"},features:[s.Vt3],decls:3,vars:18,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoGridFocusable","","kendoFilterInput","",3,"columnLabel","filterDelay","autoCorrect","value","format","decimals","spinners","min","max","size","step"],[3,"increment","decrement"]],template:function(e,t){1&e&&(s.j41(0,"kendo-grid-filter-wrapper-cell",0)(1,"kendo-numerictextbox",1),s.nrm(2,"kendo-numerictextbox-messages",2),s.k0s()()),2&e&&(s.Y8G("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),s.R7$(),s.Y8G("columnLabel",t.columnLabel)("filterDelay",t.filterDelay)("autoCorrect",!0)("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("size",t.size)("step",t.step),s.R7$(),s.Y8G("increment",t.messageFor("filterNumericIncrement"))("decrement",t.messageFor("filterNumericDecrement")))},dependencies:[Hw,Dd,zI,Jl,Gf],encapsulation:2}),i})(),V7=(()=>{class i extends Ake{constructor(e,t,o,r){super(e,t),this.cd=o,this.size="medium",this.subs=r.changes.subscribe(a=>this.size=a)}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}localizationChange(){super.localizationChange(),this.cd.markForCheck()}get columnLabel(){const e=this.ctx.localization.get("booleanFilterCellLabel")||"";return pa(e,"columnName",this.column.title||this.column.field)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(ma),s.rXU(Fe),s.rXU(s.gRc),s.rXU(xS))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-boolean-filter-cell"]],features:[s.Vt3],decls:2,vars:12,consts:[[3,"column","filter","showOperators","defaultOperator"],["kendoFilterInput","","kendoGridFocusable","","textField","text","valueField","value",3,"size","columnLabel","defaultItem","data","popupSettings","valuePrimitive","value"]],template:function(e,t){1&e&&(s.j41(0,"kendo-grid-filter-wrapper-cell",0),s.nrm(1,"kendo-dropdownlist",1),s.k0s()),2&e&&(s.Y8G("column",t.column)("filter",t.filter)("showOperators",!1)("defaultOperator",t.operator),s.R7$(),s.Y8G("size",t.size)("columnLabel",t.columnLabel)("defaultItem",t.defaultItem)("data",t.items)("popupSettings",s.lJ4(11,bwe))("valuePrimitive",!0)("value",null==t.currentFilter?null:t.currentFilter.value))},dependencies:[Hw,Ws,Gf,Jl],encapsulation:2}),i})(),z7=(()=>{class i extends Ike{constructor(e,t,o){super(e,t),this.ctx=t,this.showOperators=!0,this.subs=o.changes.subscribe(r=>this.size=r)}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}messageFor(e){return this.ctx.localization.get(e)}get columnLabel(){const e=this.ctx.localization.get("filterInputLabel")||"";return pa(e,"columnName",this.column.title||this.column.field)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(ma),s.rXU(Fe),s.rXU(xS))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-date-filter-cell"]],inputs:{showOperators:"showOperators"},features:[s.Vt3],decls:3,vars:19,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoFilterInput","","kendoGridFocusable","",3,"columnLabel","value","format","size","formatPlaceholder","placeholder","activeView","bottomView","topView","min","max","weekNumber"],[3,"toggle","today"]],template:function(e,t){1&e&&(s.j41(0,"kendo-grid-filter-wrapper-cell",0)(1,"kendo-datepicker",1),s.nrm(2,"kendo-datepicker-messages",2),s.k0s()()),2&e&&(s.Y8G("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),s.R7$(),s.Y8G("columnLabel",t.columnLabel)("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("size",t.size)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("min",t.min)("max",t.max)("weekNumber",t.weekNumber),s.R7$(),s.Y8G("toggle",t.messageFor("filterDateToggle"))("today",t.messageFor("filterDateToday")))},dependencies:[Hw,Ph,jU,Gf,Jl],encapsulation:2}),i})(),Gke=(()=>{class i extends Eke{constructor(e,t){super(e,t)}componentType(){return nr(this.column.filter)?TA:(i=>({boolean:V7,date:z7,numeric:B7,text:TA}[this.column.filter]))()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.c1b),s.rXU(s.OM3))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoFilterCellHost",""]],features:[s.Vt3]}),i})(),ine=(()=>{class i{constructor(){this.hostRole="gridcell",this.size="medium",this._templateContext={}}get filter(){return this._filter}set filter(e){this._filter=wA(e)}get templateContext(){return this._templateContext.column=this.column,this._templateContext.filter=this.filter,this._templateContext.$implicit=this.filter,this._templateContext}get hasTemplate(){return xe(this.column.filterCellTemplateRef)}get isFilterable(){return xe(this.column)&&!nr(this.column.field)&&this.column.filterable}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoGridFilterCell",""]],hostVars:1,hostBindings:function(e,t){2&e&&s.BMQ("role",t.hostRole)},inputs:{column:"column",filter:"filter",size:"size"},attrs:U2t,decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["kendoFilterCellHost","",3,"column","filter"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&s.DNE(0,H2t,4,3,"ng-container",0),2&e&&s.Y8G("ngIf",t.isFilterable)},dependencies:[q,wa,od,Gke,qe],encapsulation:2}),i})(),yDt=0,jw=(()=>{class i{constructor(e,t,o,r,a,l,c,u){this.focusGroup=e,this.element=t,this.columnInfoService=o,this.idService=r,this.navigationService=a,this.renderer=l,this.zone=c,this.cellContext=u,this.logicalSlaveCell=!1,this.colSpan=1,this.rowSpan=1,this.dataRowIndex=-1,this.detailExpandCell=!1,this.uid=function DDt(){return yDt++}()}get id(){if(!this.logicalSlaveCell&&this.columnInfoService.isLocked)return this.idService.cellId(this.logicalRowIndex,this.logicalColIndex)}get ariaColIndex(){if(!this.logicalSlaveCell&&-1!==this.logicalColIndex)return this.logicalColIndex+1}ngOnInit(){this.navigationService.tableEnabled&&(this.navigationChange=this.navigationService.changes.subscribe(e=>this.onNavigationChange(e)))}ngDoCheck(){!this.navigationService.tableEnabled||-1===this.logicalColIndex||(this.cellContext&&(this.cellContext.focusGroup=this.focusGroup),this.registerNoChanges())}ngOnChanges(e){if(!this.navigationService.tableEnabled)return;const t=Object.keys(e);if(1===t.length&&"groupItem"===t[0]||-1===this.logicalColIndex)return;const o=e.logicalColIndex,r=e.logicalRowIndex,a=o&&!o.isFirstChange()?o.previousValue:this.logicalColIndex,l=r&&!r.isFirstChange()?r.previousValue:this.logicalRowIndex;this.navigationService.unregisterCell(a,l,this),this.registerChanges(),this.updateElement()}ngOnDestroy(){this.navigationChange&&this.navigationChange.unsubscribe(),this.navigationService.unregisterCell(this.logicalColIndex,this.logicalRowIndex,this)}onNavigationChange(e){(this.logicalColIndex===e.colIndex&&this.logicalRowIndex===e.rowIndex||this.logicalColIndex===e.prevColIndex&&this.logicalRowIndex===e.prevRowIndex)&&this.updateElement()}updateElement(){const e=this.element.nativeElement;this.renderer.setAttribute(e,"tabIndex",this.isFocusable()&&!this.logicalSlaveCell?"0":"-1"),this.isFocused()?(this.focusGroup.isNavigable()?this.focusGroup.focus():(!this.logicalSlaveCell&&this.navigationService.autoFocusCell(this.logicalColIndex,this.logicalColIndex+this.colSpan-1)&&this.microtask(()=>this.isFocused()&&e.focus()),this.renderer.addClass(e,"k-focus")),this.headerLabelText&&e.removeAttribute("aria-label")):(this.renderer.removeClass(e,"k-focus"),this.headerLabelText&&e.setAttribute("aria-label",this.headerLabelText))}microtask(e){this.zone.runOutsideAngular(()=>Promise.resolve(null).then(e))}registerChanges(){this.logicalSlaveCell||this.navigationService.registerCell(this)}registerNoChanges(){this.logicalSlaveCell||this.navigationService.registerCellOnCurrentRow(this)}isFocusable(){return this.navigationService.isCellFocusable(this)}isFocused(){return this.navigationService.isCellFocused(this)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Pw),s.rXU(s.aKT),s.rXU(ql),s.rXU(Gc),s.rXU(Va),s.rXU(s.sFG),s.rXU(s.SKi),s.rXU(x_,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridLogicalCell",""]],hostVars:2,hostBindings:function(e,t){2&e&&s.BMQ("id",t.id)("aria-colindex",t.ariaColIndex)},inputs:{logicalColIndex:"logicalColIndex",logicalRowIndex:"logicalRowIndex",logicalSlaveCell:"logicalSlaveCell",colIndex:"colIndex",colSpan:"colSpan",rowSpan:"rowSpan",groupItem:"groupItem",dataRowIndex:"dataRowIndex",dataItem:"dataItem",detailExpandCell:"detailExpandCell",headerLabelText:"headerLabelText"},features:[s.Jv_([{provide:Pw,deps:[RS],useClass:Pw}]),s.OA$]}),i})(),sne=(()=>{class i{constructor(e,t){this.ctx=e,this.columnInfoService=t,this.columns=[],this.groups=[],this.filterRowClass=!0}addStickyStyles(e){return{...e.sticky?this.columnInfoService.stickyColumnsStyles(e):null,...e.filterStyle}}filterLabel(e){const t=this.ctx.localization.get("filterInputLabel")||"";return pa(t,"columnName",e.title||e.field)}getLogicalColIndex(e){const t=this.lockedColumnsCount+e;return this.detailTemplate?.templateRef?t+1:t}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe),s.rXU(ql))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoGridFilterRow",""]],hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-filter-row",t.filterRowClass)},inputs:{columns:"columns",filter:"filter",groups:"groups",detailTemplate:"detailTemplate",logicalRowIndex:"logicalRowIndex",lockedColumnsCount:"lockedColumnsCount"},attrs:j2t,decls:3,vars:3,consts:[["class","k-table-td","role","presentation",3,"k-group-cell",4,"ngFor","ngForOf"],["class","k-table-td","role","presentation",3,"k-hierarchy-cell",4,"ngIf"],["class","k-table-td","kendoGridFilterCell","","kendoGridLogicalCell","",3,"k-grid-header-sticky","ngStyle","ngClass","column","filter","logicalRowIndex","logicalColIndex",4,"ngFor","ngForOf"],["role","presentation",1,"k-table-td"],["kendoGridFilterCell","","kendoGridLogicalCell","",1,"k-table-td",3,"ngStyle","ngClass","column","filter","logicalRowIndex","logicalColIndex"]],template:function(e,t){1&e&&s.DNE(0,$2t,1,2,"td",0)(1,X2t,1,2,"td",1)(2,W2t,1,9,"td",2),2&e&&(s.Y8G("ngForOf",t.groups),s.R7$(),s.Y8G("ngIf",null==t.detailTemplate?null:t.detailTemplate.templateRef),s.R7$(),s.Y8G("ngForOf",t.columns))},dependencies:[ine,ut,q,jw,Wn,Be],encapsulation:2}),i})(),wDt=0,H7=(()=>{class i{constructor(e,t){this.idService=e,this.navigation=t,this.logicalSlaveRow=!1,this.logicalSlaveCellsCount=0,this.dataRowIndex=-1,this.uid=function kDt(){return wDt++}(),this.tableRowClass=!0}get hostRole(){return this.logicalSlaveRow?"presentation":"row"}get ariaRowIndex(){return this.logicalSlaveRow?null:this.logicalRowIndex+1}get rowIndex(){return this.logicalSlaveRow?this.logicalRowIndex+1:null}get ariaOwns(){if(this.logicalSlaveRow||0===this.logicalSlaveCellsCount)return;const e=[];if(this.dataRowIndex<0){let t=this.logicalCellsCount+this.logicalSlaveCellsCount;this.columnsArray.forEach(o=>{o.isSpanColumn&&(t+=o.colspan-1)});for(let o=this.logicalCellsCount;o<t;o++)e.push(this.idService.cellId(this.logicalRowIndex,o))}else{let t=0;this.columnsArray.forEach(o=>{o.isLocked||e.push(this.idService.cellId(this.logicalRowIndex,t)),t+=o.isSpanColumn?o.colspan:1})}return e.join(" ")}ngOnChanges(e){if(!this.navigation.enabled||this.logicalSlaveRow)return;const t=e.logicalRowIndex;if(t||e.logicalSlaveRow){const r=t&&!t.isFirstChange()?t.previousValue:this.logicalRowIndex;this.navigation.unregisterRow(r,this),this.navigation.registerRow(this)}else Fi(["dataRowIndex","dataItem"],e)&&this.navigation.updateRow(this)}ngOnDestroy(){this.navigation.unregisterRow(this.logicalRowIndex,this)}get columnsArray(){return this.totalColumns?.allColumns.toArray()||[]}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Gc),s.rXU(Va))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridLogicalRow",""]],hostVars:6,hostBindings:function(e,t){2&e&&(s.BMQ("role",t.hostRole)("aria-rowindex",t.ariaRowIndex)("data-kendo-grid-row-index",t.rowIndex)("aria-owns",t.ariaOwns),s.AVh("k-table-row",t.tableRowClass))},inputs:{logicalRowIndex:"logicalRowIndex",logicalSlaveRow:"logicalSlaveRow",logicalCellsCount:"logicalCellsCount",logicalSlaveCellsCount:"logicalSlaveCellsCount",dataRowIndex:"dataRowIndex",dataItem:"dataItem",totalColumns:"totalColumns"},features:[s.OA$]}),i})(),MA=(()=>{class i{constructor(e){this.viewContainerRef=e}set templateContext(e){this.removeView(),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))}ngOnDestroy(){this.removeView()}removeView(){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.c1b))},i.\u0275dir=s.FsC({type:i,selectors:[["","templateContext",""]],inputs:{templateContext:"templateContext"}}),i})(),one=(()=>{class i{constructor(e,t,o,r){this.selectionService=e,this.el=t,this.renderer=o,this.ngZone=r,this.selectAllChange=new s.bkB,this.type="checkbox",this.stateSet=!1,this.ngZone.runOutsideAngular(()=>{this.destroyClick=this.renderer.listen(this.el.nativeElement,"click",this.onClick.bind(this))})}ngAfterContentChecked(){this.setState()}ngOnChanges(){this.stateSet=!0}ngOnDestroy(){this.destroyClick&&this.destroyClick()}onClick(){const t=!(!(()=>{if(!ne())return;const i=window.navigator.userAgent,n=i.indexOf("MSIE "),e=i.indexOf("Trident/");return n>0||e>0})()||void 0!==this.selectionService.selectAllState)||this.el.nativeElement.checked,o=this.selectionService.options,r=o.enabled&&"multiple"===o.mode,a=Te(this.selectAllChange);(r||a)&&this.ngZone.run(()=>{r&&this.selectionService.updateAll(t),a&&this.selectAllChange.emit(t?"checked":"unchecked")})}setState(){const e=this.stateSet?this.stateToBool():this.selectionService.selectAllState,t=this.el.nativeElement;this.renderer.setProperty(t,"indeterminate",!xe(e)),this.renderer.setProperty(t,"checked",!!xe(e)&&e)}stateToBool(){switch(this.state){case"checked":return!0;case"unchecked":return!1;default:return}}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Nw),s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(s.SKi))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridSelectAllCheckbox",""]],hostVars:1,hostBindings:function(e,t){2&e&&s.BMQ("type",t.type)},inputs:{state:"state"},outputs:{selectAllChange:"selectAllChange"},features:[s.OA$]}),i})();const rne=i=>i.nativeElement.parentElement.offsetWidth,Uke=i=>Pf(i).filter(n=>!n.isColumnGroup),MDt=({originalEvent:i})=>{i.stopPropagation(),i.preventDefault()},Fke=i=>!(!i.parent||!i.parent.isSpanColumn);let Bke=(()=>{class i{constructor(e,t,o,r,a,l,c){this.draggable=e,this.element=t,this.service=o,this.zone=r,this.cdr=a,this.ctx=l,this.columnInfoService=c,this.columns=[],this.subscriptions=new be.yU,this.rtl=!1}get visible(){return this.column.resizable?"block":"none"}get leftStyle(){return Pc(this.rtl)?0:null}get rightStyle(){return Pc(this.rtl)?null:0}autoFit(){const e=Uke(this.columns),t=mA([this.column]).filter(r=>Pc(r.resizable)),o=t.map(r=>{const a=Fke(r),l=!!a&&r.parent.childColumns.last===r,c=((i,n)=>{let e=0,t=0,o=0;for(;e<n.length;){const r=n[e],a=Fke(r);if(r===i)break;t--<=0&&a&&(t=r.parent.childColumns.length-1,o+=t),e++}return e-o})(r,e);return{column:r,headerIndex:this.columnsForLevel(r.level).indexOf(r),index:c,isLastInSpan:l,isParentSpan:a,level:r.level}});t.forEach(r=>r.width=0),this.service.measureColumns(o)}ngOnInit(){cA(this.column.width)&&(this.column.implicitWidth=rne(this.element));const e=this.service.changes.pipe(X(()=>this.column.resizable),X(t=>xe(t.columns.find(o=>o===this.column))));this.subscriptions.add(e.pipe(X(t=>"start"===t.type)).subscribe(this.initState.bind(this))),this.subscriptions.add(e.pipe(X(t=>"resizeColumn"===t.type)).subscribe(this.resize.bind(this))),this.subscriptions.add(this.service.changes.pipe(X(t=>"start"===t.type),X(this.shouldUpdate.bind(this)),We(1)).subscribe(this.initColumnWidth.bind(this))),this.subscriptions.add(this.zone.runOutsideAngular(()=>this.draggable.kendoPress.pipe(F(MDt),F(()=>this.service.start(this.column)),le((i=>n=>ft(n).pipe(c_(150),mo(i)))(this.draggable.kendoRelease)),le(((i,n)=>e=>n.kendoDrag.pipe(mo(n.kendoRelease.pipe(F(()=>i.end()))),(0,V.T)(({pageX:t})=>({originalX:e.pageX,pageX:t}))))(this.service,this.draggable))).subscribe(({pageX:t,originalX:o})=>{const a=((i,n)=>i/(this.column.resizeStartWidth||this.column.width)*100)(t-o);this.service.resizeColumns(a)}))),this.subscriptions.add(e.pipe(X(t=>"autoFitComplete"===t.type)).subscribe(this.sizeToFit.bind(this))),this.subscriptions.add(e.pipe(X(t=>"triggerAutoFit"===t.type)).subscribe(this.autoFit.bind(this))),this.subscriptions.add(this.ctx.localization.changes.subscribe(({rtl:t})=>this.rtl=t))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}shouldUpdate(){return!Uke(this.columns).map(e=>e.width).some(cA)}initColumnWidth(){this.column.width=rne(this.element)}initState(){this.column.resizeStartWidth=rne(this.element),this.service.resizedColumn({column:this.column,oldWidth:this.column.resizeStartWidth})}resize({deltaPercent:e}){let t=((i,n)=>{const e=n<0?-1:1;return Math.ceil(Math.abs(n)/100*i)*e})(this.column.resizeStartWidth,e);Pc(this.rtl)&&(t*=-1);let o=Math.max(this.column.resizeStartWidth+t,this.column.minResizableWidth);xe(this.column.maxResizableWidth)&&(o=Math.min(o,this.column.maxResizableWidth));const r=this.getTableDelta(o,t);this.updateWidth(this.column,o),this.service.resizeTable(this.column,r)}sizeToFit({columns:e,widths:t}){const o=e.indexOf(this.column),r=Math.max(...t.map(l=>l[o]))+1,a=r-this.column.resizeStartWidth;this.updateWidth(this.column,r),this.service.resizeTable(this.column,a)}updateWidth(e,t){e.width=t,this.columnInfoService.hiddenColumns.forEach(o=>{cA(o.width)&&xe(o.implicitWidth)&&(o.width=o.implicitWidth)}),this.cdr.markForCheck()}columnsForLevel(e){return L_(this.columns?this.columns.filter(t=>t.level===e):[])}getTableDelta(e,t){const o=this.column.minResizableWidth,r=this.column.maxResizableWidth,a=this.column.resizeStartWidth,l=e>o,c=e<r;return(xe(r)?l&&c:l)?t:e<=o?o-a:a-r}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(vd,1),s.rXU(s.aKT),s.rXU(CA),s.rXU(s.SKi),s.rXU(s.gRc),s.rXU(Fe),s.rXU(ql))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridColumnHandle",""]],hostVars:6,hostBindings:function(e,t){1&e&&s.bIt("dblclick",function(){return t.autoFit()}),2&e&&s.xc7("display",t.visible)("left",t.leftStyle)("right",t.rightStyle)},inputs:{columns:"columns",column:"column"}}),i})();const j7=(...i)=>Object.assign.apply(null,[{}].concat(i)),Vke=(i,n)=>i.parent===n.parent||Gwe(n)&&Vke(i,n.parent),zDt=Zee(({draggable:i})=>["column","columnGroup"].indexOf(i.context.type)>=0,({draggable:i})=>i.context.column.reorderable,({draggable:i})=>!Gwe(i.context.column),({draggable:i,target:n})=>i.element.nativeElement!==n.element.nativeElement,({draggable:i,target:n})=>Vke(i.context.column,n.context.column),dA(({draggable:i})=>!Pc(i.context.column.locked)&&(({parent:i})=>!Pc(i))(i.context.column)&&i.context.lastColumn),({draggable:i,target:n})=>!1!==i.context.column.lockable||i.context.column.isLocked===n.context.column.isLocked),HDt=["alt","ctrl","shift","meta"];let zke=(()=>{class i{constructor(e,t,o,r,a,l,c,u,f,_){this.popupService=e,this.hint=t,this.cue=o,this.reorderService=r,this.idService=a,this.sortService=l,this.columnInfoService=c,this.cd=u,this.contextService=f,this.navigationService=_,this.columns=[],this.groups=[],this.sort=new Array,this.sortable=!1,this.groupable=!1,this.lockedColumnsCount=0,this.resizable=!1,this.reorderable=!1,this.columnMenu=!1,this.totalColumnsCount=0,this.size="medium",this.sortedFields={},this.hostClass=!0,this.dropTargets=new s.rOR,this.sortAscSmallIcon=Zm,this.sortDescSmallIcon=$3,this.subscription=new be.yU}get headerClass(){return!this.scrollable}get sortableLabel(){return this.contextService.localization.get("sortable")}get columnMenuSettings(){return this.columnMenu}get unlockedColumnsCount(){return this.totalColumnsCount-this.lockedColumnsCount-this.columns.length}sortColumn(e){this.sortService.sort(e)}getColumnComponent(e){return e}onSortClick(e,t,o){const r=t.target;if(e.headerTemplateRef&&r!==o&&ite(r,Owe,o))return;const a=this.matchModifier(t),l=this.toggleSort(e,a);this.sortColumn(l)}onHeaderKeydown(e,t){if(t.keyCode===G.ArrowDown&&t.altKey&&this.showFilterMenu){t.preventDefault(),t.stopImmediatePropagation();const c=this.filterMenus.find(u=>u.column===e);return void c.toggle(c.anchor.nativeElement,c.template)}if(t.keyCode===G.ArrowDown&&t.altKey&&this.showColumnMenu(e)){t.preventDefault(),t.stopImmediatePropagation();const c=this.columnMenus.find(u=>u.column===e);return void c.toggle(null,c.anchor.nativeElement,c.template)}const o=t.ctrlKey||t.metaKey;if((t.keyCode===G.Enter||t.keyCode===G.Space)&&o&&this.isGroupable(e))return t.preventDefault(),t.stopImmediatePropagation(),this.groups.some(u=>u.field===e.field)?this.groups=this.groups.filter(u=>u.field!==e.field):this.groups.push({field:e.field}),void this.contextService.grid.groupChange.emit(this.groups);if((t.keyCode===G.ArrowLeft||t.keyCode===G.ArrowRight)&&o&&this.isReorderable(e)){t.preventDefault();const c=this.columnInfoService.leafNamedColumns.length,_=(t.keyCode===G.ArrowLeft?-1:1)*(this.contextService.localization.rtl?-1:1),v=Math.min(Math.max(0,e.leafIndex+_),c-1),b=this.contextService.grid;return b.reorderColumn(e,v,{before:_<0}),void b.columnReorder.emit(new ske({column:e,newIndex:v,oldIndex:e.leafIndex}))}if(this.sortable&&!t.defaultPrevented&&!1!==e.sortable&&t.keyCode===G.Enter&&xe(e.field)){const c=this.matchModifier(t);this.sortService.sort(this.toggleSort(e,c))}}showSortNumbering(e){const{showIndexes:t}=y7(this.sortable);return t&&this.sort&&this.sort.filter(({dir:o})=>xe(o)).length>1&&this.sortOrder(e.field)>0}sortOrder(e){return this.sort.filter(({dir:t})=>xe(t)).findIndex(t=>t.field===e)+1}sortState(e){if(!this.isSortable(e))return;const t=this.sortDescriptor(e.field);return"asc"===t.dir?"ascending":"desc"===t.dir?"descending":void 0}get isNavigable(){return this.navigationService.tableEnabled}toggleSort(e,t=!0){const{allowUnsort:o,mode:r,initialDirection:a}=y7(this.sortable,e.sortable),l=this.toggleDirection(e.field,o,a);return"single"!==r&&t?[...this.sort.filter(c=>c.field!==e.field),l]:[l]}matchModifier(e){const{multiSortKey:t}=y7(this.sortable);return"none"===t?HDt.every(o=>!e[`${o}Key`]):"ctrl"===t?e.ctrlKey||e.metaKey:e[`${t}Key`]}ngAfterViewInit(){this.subscription.add(e7(this.dropTargets).subscribe(this.attachTargets.bind(this)))}ngDoCheck(){this._leafColumns=L_(this.columns||[]).filter(e=>!xw(e))}ngOnChanges(e){const t=e.sort;t&&!t.isFirstChange()&&t.currentValue.forEach(o=>{this.sortedFields[o.field]=!0})}ngOnInit(){this.subscription.add(this.contextService.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngOnDestroy(){this.targetSubscription&&this.targetSubscription.unsubscribe(),this.popupService&&this.popupService.destroy(),this.subscription.unsubscribe()}selectAllCheckboxId(){return this.idService.selectAllCheckboxId()}get selectAllCheckboxLabel(){return this.contextService.localization.get("selectAllCheckboxLabel")}isFirstOnRow(e,t){const o=r=>r&&(this.columnsForLevel(r.level).indexOf(r)>0||o(r.parent));return 0===t&&!this.groups.length&&!this.detailTemplate&&o(e.parent)}logicalColumnIndex(e){const t=e.leafIndex;return xe(t)?t+(xe(this.detailTemplate)?1:0):-1}get showFilterMenu(){return!this.columnMenu&&(i=>"string"==typeof i&&i.indexOf("menu")>-1)(this.filterable)}get showFilterRow(){return bA(this.filterable)}showColumnMenu(e){return this.columnMenu&&e.columnMenu&&(this.columnMenuTemplate||e.columnMenuTemplates.length||((i,n)=>gke(i)||mke(i)||hke(i,n)||_ke(i)||fke(i,n)||pke(i,n))(this.columnMenu,e))}isFilterable(e){return!nr(e.field)&&!0===e.filterable}canDrop(e,t){return this.reorderable&&zDt({draggable:e,target:t})}shouldActivate(e){const t=this.isReorderable(e);return!(!t&&!fA(e))&&(this.isGroupable(e)||t)}isSortable(e){return!nr(e.field)&&Pc(this.sortable)&&Pc(e.sortable)}isCheckboxColumn(e){return Nwe(e)&&!e.templateRef}trackByIndex(e,t){return e}addStickyStyles(e){const t=this.columnInfoService.stickyColumnsStyles(e);return{...e.headerStyle,...t}}toggleDirection(e,t,o){const r=this.sortDescriptor(e),[a,l]=(i=>"asc"===i?["asc","desc"]:["desc","asc"])(o);let c=a;return r.dir===a?c=l:r.dir===l&&t&&(c=void 0),{dir:c,field:e}}columnsForLevel(e){const t=this.columns?this.columns.filter(o=>o.level===e):[];return P0(L_(t))}isColumnGroupComponent(e){return xw(e)}sortDescriptor(e){return this.sort.find(t=>t.field===e)||{field:e}}get columnLevels(){return new Array((this.totalColumnLevels||0)+1)}get leafColumns(){return this._leafColumns}isReorderable(e){return this.reorderable&&e.reorderable}isGroupable(e){return this.groupable&&fA(e)&&!1!==e.groupable}attachTargets(){this.targetSubscription&&this.targetSubscription.unsubscribe(),this.targetSubscription=new be.yU;const e=Bt(...this.dropTargets.map(r=>r.enter)),t=Bt(...this.dropTargets.map(r=>r.leave)),o=Bt(...this.dropTargets.map(r=>r.drop));this.targetSubscription.add(e.pipe(F(({target:r,draggable:a})=>{if("groupIndicator"===a.context.type)return;const l=Pc(r.context.column.isLocked),c=Pc(a.context.column.isLocked);(this.lockedColumnsCount>0||l||c)&&this.hint.toggleLock(l)}),X(({draggable:r,target:a})=>this.canDrop(r,a)),le(this.trackMove.bind(this,t,o)),(0,V.T)(r=>j7(r,{before:this.calculateBefore(r),changeContainer:r.changeContainer})),(0,V.T)(this.normalizeTarget.bind(this)),F(this.enter.bind(this)),le(r=>o.pipe((0,V.T)(()=>r),mo(t.pipe(F(this.leave.bind(this))))))).subscribe(this.drop.bind(this)))}normalizeTarget(e){let t=e.target;const o=t.context.column.parent;if(o&&o.isSpanColumn){const r=this.dropTargets.toArray(),a=r.find(u=>u.context.column.parent===o),l=r.indexOf(a);t=r[l+(e.before?0:o.childColumns.length-1)]}return j7(e,{target:t})}trackMove(e,t,o){const r=o.target.context.column,a=this.columnsForLevel(r.level),l=a.indexOf(r),u=o.draggable.context.column.isLocked!==r.isLocked;return u&&(r.locked?l===a.length-1:0===l)?o.draggable.drag.pipe(mo(e),mo(t),(0,V.T)(({mouseEvent:f})=>j7({changeContainer:!0},o,{mouseEvent:f}))):ft(j7({changeContainer:u},o))}calculateBefore({draggable:e,target:t,mouseEvent:o,changeContainer:r=!1}){const a=t.element.nativeElement;let l=!1;if(r){const{left:c}=Zwe(a);l=c+a.offsetWidth/2>o.pageX,this.contextService.localization.rtl&&(l=!l)}else l=eke(e.element.nativeElement,a);return l}enter({target:e,before:t}){this.hint.enable(),this.contextService.localization.rtl&&(t=!t),this.cue.position(tke(e.element.nativeElement,t))}leave(){this.hint.disable(),this.cue.hide()}drop({draggable:e,target:t,before:o,changeContainer:r}){this.reorderService.reorder({before:o,changeContainer:r,source:e.context.column,target:t.context.column})}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(EA),s.rXU(_7),s.rXU(g7),s.rXU(Rte),s.rXU(Gc),s.rXU(S7),s.rXU(ql),s.rXU(s.gRc),s.rXU(Fe),s.rXU(Va))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoGridHeader",""]],viewQuery:function(e,t){if(1&e&&(s.GBs(yA,5),s.GBs(Yte,5),s.GBs(F7,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.dropTargets=o),s.mGM(o=s.lsd())&&(t.filterMenus=o),s.mGM(o=s.lsd())&&(t.columnMenus=o)}},hostVars:4,hostBindings:function(e,t){2&e&&s.AVh("k-grid-header",t.headerClass)("k-table-thead",t.hostClass)},inputs:{totalColumnLevels:"totalColumnLevels",columns:"columns",groups:"groups",detailTemplate:"detailTemplate",scrollable:"scrollable",filterable:"filterable",sort:"sort",filter:"filter",sortable:"sortable",groupable:"groupable",lockedColumnsCount:"lockedColumnsCount",resizable:"resizable",reorderable:"reorderable",columnMenu:"columnMenu",columnMenuTemplate:"columnMenuTemplate",totalColumnsCount:"totalColumnsCount",totalColumns:"totalColumns",tabIndex:"tabIndex",size:"size"},features:[s.OA$],attrs:K2t,decls:3,vars:2,consts:[["link",""],["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","totalColumns",4,"ngFor","ngForOf"],["kendoGridFilterRow","","kendoGridLogicalRow","",3,"columns","filter","groups","detailTemplate","lockedColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","totalColumns",4,"ngIf"],["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","totalColumns"],["class","k-group-cell k-header k-table-th","role","presentation",4,"ngFor","ngForOf"],["class","k-hierarchy-cell k-header k-table-th","role","presentation",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","presentation",1,"k-group-cell","k-header","k-table-th"],["role","presentation",1,"k-hierarchy-cell","k-header","k-table-th"],["kendoGridLogicalCell","","role","columnheader","aria-selected","false","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","","class","k-header k-table-th",3,"logicalRowIndex","logicalColIndex","headerLabelText","colSpan","rowSpan","k-sorted","enableDrag","context","k-filterable","k-first","k-grid-header-sticky","ngClass","ngStyle","keydown",4,"ngIf"],["kendoGridLogicalCell","","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","","class","k-header k-table-th",3,"logicalRowIndex","logicalColIndex","rowSpan","colSpan","headerLabelText","enableDrag","context","k-first","k-filterable","k-grid-content-sticky","ngClass","ngStyle",4,"ngIf"],["kendoGridLogicalCell","","role","columnheader","aria-selected","false","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","",1,"k-header","k-table-th",3,"keydown","logicalRowIndex","logicalColIndex","headerLabelText","colSpan","rowSpan","enableDrag","context","ngClass","ngStyle"],[4,"ngIf"],["kendoGridColumnHandle","","kendoDraggable","","class","k-column-resizer",3,"column","columns",4,"ngIf"],[1,"k-cell-inner"],[1,"k-link"],[3,"templateContext"],[3,"column","filter","tabIndex",4,"ngIf"],[3,"standalone","settings","column","columnMenuTemplate","sort","filter","sortable","tabIndex",4,"ngIf"],[1,"k-column-title"],[3,"column","filter","tabIndex"],[3,"standalone","settings","column","columnMenuTemplate","sort","filter","sortable","tabIndex"],[1,"k-link",3,"click"],[1,"k-sort-icon"],["role","note",3,"name","svgIcon",4,"ngIf"],["class","k-sort-order",4,"ngIf"],["role","note",3,"name","svgIcon"],[1,"k-sort-order"],[1,"k-checkbox-wrap"],["kendoGridSelectAllCheckbox","","kendoGridFocusable","",1,"k-checkbox","k-checkbox-md","k-rounded-md"],["kendoGridColumnHandle","","kendoDraggable","",1,"k-column-resizer",3,"column","columns"],["kendoGridLogicalCell","","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","",1,"k-header","k-table-th",3,"logicalRowIndex","logicalColIndex","rowSpan","colSpan","headerLabelText","enableDrag","context","ngClass","ngStyle"],[3,"standalone","settings","column","columnMenuTemplate",4,"ngIf"],[3,"standalone","settings","column","columnMenuTemplate"],["kendoGridFilterRow","","kendoGridLogicalRow","",3,"columns","filter","groups","detailTemplate","lockedColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","totalColumns"]],template:function(e,t){1&e&&(s.qex(0),s.DNE(1,CCt,4,9,"tr",1)(2,bCt,1,10,"tr",2),s.bVm()),2&e&&(s.R7$(),s.Y8G("ngForOf",t.columnLevels),s.R7$(),s.Y8G("ngIf",t.showFilterRow))},dependencies:[Yte,F7,Qe,sne,ut,H7,q,jw,yA,vd,$te,Be,Wn,MA,one,Jl,Bke],encapsulation:2}),i})();class $Dt{constructor(n=0,e,t){this.total=n,this.rowHeight=e,this.detailRowHeight=t,this.offsets=[],this.heights=[];let o=0;for(let r=0;r<n;r++)this.offsets.push(o),o+=e,this.heights.push(e)}height(n){return this.heights[n]}expandDetail(n){this.height(n)===this.rowHeight&&this.updateRowHeight(n,this.detailRowHeight)}collapseDetail(n){this.height(n)>this.rowHeight&&this.updateRowHeight(n,-1*this.detailRowHeight)}isExpanded(n){return this.height(n)>this.rowHeight}index(n){if(n<0)return;const e=this.offsets.reduce((t,o,r)=>void 0!==t?t:o===n?r:o>n?r-1:void 0,void 0);return void 0===e?this.total-1:e}offset(n,e=!1){if(e){let t=0,o=0;for(let r=0;r<n;r++)if(t+=this.rowHeight,o++,o===n||this.isExpanded(r)&&(t+=this.detailRowHeight,o++,o===n))return t;return t}return this.offsets[n]}totalHeight(){return this.heights.reduce((n,e)=>n+e,0)}updateRowHeight(n,e){this.total>0&&(this.heights[n]+=e,this.offsets=((i,n,e)=>[...i.slice(0,n+1),...i.slice(n+1).map(t=>t+e)])(this.offsets,n,e))}}class $7{constructor(n){this.offset=n}}class ane{constructor(n,e){this.skip=n,this.take=e}}class Hke{}class WDt{constructor(n){this.scrollObservable=n,this.firstLoaded=0}create(n,e,t,o){this.rowHeightService=n,this.firstLoaded=e,this.lastLoaded=e+t,this.take=t,this.total=o,this.lastScrollTop=0;const r=new An.t(new $7(this.rowHeightService.offset(e)));return this.subscription=Qi.c.create(a=>{this.unsubscribe(),this.scrollSubscription=this.scrollObservable.subscribe(l=>this.onScroll(l,a))}).subscribe(a=>r.next(a)),r}destroy(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}onScroll({scrollTop:n,offsetHeight:e,scrollHeight:t,clientHeight:o},r){if(!ne()||this.lastScrollTop===n)return;const a=this.lastScrollTop>=n;this.lastScrollTop=n;let l=this.rowHeightService.index(n),c=this.rowHeightService.offset(l);const u=this.rowHeightService.index(n+e);if(!a)if(u>=this.lastLoaded&&this.lastLoaded<this.total){const f=l+this.take-this.total;f>0&&(l-=f,c=this.rowHeightService.offset(l)),this.firstLoaded=l,r.next(new $7(c));let _=this.firstLoaded+this.take;this.lastLoaded=Math.min(_,this.total),_=_>this.total?this.total-this.firstLoaded:this.take,r.next(new ane(this.firstLoaded,this.take))}else t-o-n<2&&r.next(new Hke);if(a&&l<this.firstLoaded){const f=Math.floor(.3*this.take);this.firstLoaded=Math.max(l-f,0),r.next(new $7(this.rowHeightService.offset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),r.next(new ane(this.firstLoaded,this.take))}}unsubscribe(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=void 0)}}const jke="k-hierarchy-cell k-detail-cell k-group-cell";let lne=(()=>{class i extends Bo{constructor(e,t){super(e,t),this.parent=e}get templateRef(){return this.template?this.template.templateRef:void 0}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Bo,13),s.rXU(Gc,8))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-command-column"]],contentQueries:function(e,t,o){if(1&e&&s.wni(o,Us,5),2&e){let r;s.mGM(r=s.lsd())&&(t.template=r.first)}},features:[s.Jv_([{provide:Bo,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),cne=(()=>{class i{constructor(e,t,o,r,a){this.selectionService=e,this.aggregateService=t,this.el=o,this.renderer=r,this.ngZone=a,this.type="checkbox",this.ngZone.runOutsideAngular(()=>{this.destroyClick=this.renderer.listen(this.el.nativeElement,"click",this.onClick.bind(this)),this.destroyKeyDown=this.renderer.listen(this.el.nativeElement,"keydown",this.onKeyDown.bind(this))})}ngAfterContentChecked(){this.setCheckedState()}ngOnDestroy(){this.destroyClick&&this.destroyClick(),this.destroyKeyDown&&this.destroyKeyDown()}onClick(){this.selectionService.options.enabled&&this.ngZone.run(()=>{const e=this.selectionService.toggleByIndex(this.itemIndex);e.ctrlKey=!0,e.shiftKey=!1,this.selectionService.options.cellAggregates&&(e.cellAggregates=this.aggregateService.onSelectionChange(e)),this.selectionService.changes.emit(e)})}onKeyDown(e){e.keyCode===G.Enter&&this.onClick()}setCheckedState(){this.renderer.setProperty(this.el.nativeElement,"checked",this.selectionService.isSelected(this.itemIndex))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Nw),s.rXU(_A),s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(s.SKi))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridSelectionCheckbox",""]],hostVars:1,hostBindings:function(e,t){2&e&&s.BMQ("type",t.type)},inputs:{itemIndex:[s.Mj6.None,"kendoGridSelectionCheckbox","itemIndex"]}}),i})();const qDt=/\{\d+:?/;let dne=(()=>{class i{constructor(e){this.intlService=e}transform(e,t,o){if(!nr(t)){const r=lr(t)(e);return nr(o)?r:this.formatValue(o,r)}return e}formatValue(e,t){const o=this.intlService;return qee(e)&&e.match(qDt)?o.format(e,t):o.toString(t,e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(xt.Bs,16))},i.\u0275pipe=s.EJ8({name:"valueOf",type:i,pure:!1}),i})(),$ke=(()=>{class i{constructor(e,t,o,r){this.editService=e,this.idService=t,this.ctx=o,this.cellContext=r,this.isNew=!1,this.isLoading=!1,this.isVirtual=!1,this.reorderIcon=gC,this._templateContext={},this._editTemplateContext={}}get commandCellClass(){return this.isCommand(this.column)}get dragHandleCellClass(){return dte(this.column)}get dragRowHandleLabel(){return dte(this.column)?this.ctx.localization.get("dragRowHandleLabel"):void 0}set rowIndex(e){this._rowIndex=e,this.updateCellContext()}get rowIndex(){return this._rowIndex}get isEdited(){if(!this.editService.isEditing()&&!this.isNew||!this.isColumnEditable)return!1;const e=this.editService.columnContext(this.rowIndex,this.column);return this.isFieldEditable(e,this.column)}get showLoading(){return this.isVirtual&&this.isLoading}get formGroup(){return this.editService.context(this.rowIndex).group}get templateContext(){return this._templateContext}get editTemplateContext(){return this._editTemplateContext.$implicit=this.formGroup,this._editTemplateContext.isNew=this.isNew,this._editTemplateContext.column=this.column,this._editTemplateContext.dataItem=this.dataItem,this._editTemplateContext.formGroup=this.formGroup,this._editTemplateContext.rowIndex=this.rowIndex,this._editTemplateContext}get format(){if(fA(this.column)&&!nr(this.column.format))return Qee(this.column.format)}get isBoundColumn(){return this.column.field&&!this.column.templateRef}get isCheckboxColumn(){return Nwe(this.column)&&!this.column.templateRef}get selectionCheckboxId(){return this.idService.selectionCheckboxId(this.rowIndex)}get selectionCheckboxLabel(){return this.ctx.localization.get("selectionCheckboxLabel")}get isSpanColumn(){return cte(this.column)&&!this.column.templateRef}get childColumns(){return L_([this.column])}get isRowReorderColumn(){return dte(this.column)&&!this.column.templateRef}get isColumnEditable(){return!(!this.column||this.isCommand(this.column))&&!1!==this.column.editable}ngDoCheck(){this.updateCellContext()}ngOnChanges(e){this.updateTemplateContext()}ngAfterContentChecked(){this.updateTemplateContext()}isCommand(e){return e instanceof lne}isFieldEditable(e,t){return!!xe(e)&&(!!xe(t.editTemplate)||xe(e.group)&&xe(e.group.get(t.field)))}updateCellContext(){this.cellContext&&(this.cellContext.rowIndex=this._rowIndex)}updateTemplateContext(){if(!this.column.templateRef)return;const e=this._templateContext;e.isNew=this.isNew,e.column=this.column,e.dataItem=this.dataItem,e.rowIndex=this.rowIndex,e.columnIndex=this.columnIndex,e.$implicit=this.dataItem}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Vh),s.rXU(Gc),s.rXU(Fe),s.rXU(x_,8))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoGridCell",""]],hostVars:7,hostBindings:function(e,t){2&e&&(s.BMQ("aria-label",t.dragRowHandleLabel),s.AVh("k-command-cell",t.commandCellClass)("k-drag-cell",t.dragHandleCellClass)("k-touch-action-none",t.dragHandleCellClass))},inputs:{column:"column",columnIndex:"columnIndex",isNew:"isNew",isLoading:"isLoading",isVirtual:"isVirtual",loadingTemplate:"loadingTemplate",rowIndex:"rowIndex",dataItem:"dataItem"},features:[s.OA$],attrs:ECt,decls:3,vars:3,consts:[["loading",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngIf","ngIfElse"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[1,"k-checkbox-wrap"],[1,"k-checkbox","k-checkbox-md","k-rounded-md",3,"kendoGridSelectionCheckbox"],["name","reorder",3,"svgIcon"],["class","k-skeleton-text k-skeleton",4,"ngIf"],[1,"k-skeleton-text","k-skeleton"],[3,"ngSwitch",4,"ngIf"],["kendoGridFocusable","",3,"format","formControl",4,"ngSwitchCase"],["type","checkbox","class","k-checkbox k-checkbox-md k-rounded-md","kendoGridFocusable","",3,"formControl",4,"ngSwitchCase"],["type","text","class","k-textbox k-input k-input-md k-input-solid k-rounded-md","kendoGridFocusable","",3,"formControl",4,"ngSwitchDefault"],["kendoGridFocusable","",3,"format","formControl"],["type","checkbox","kendoGridFocusable","",1,"k-checkbox","k-checkbox-md","k-rounded-md",3,"formControl"],["type","text","kendoGridFocusable","",1,"k-textbox","k-input","k-input-md","k-input-solid","k-rounded-md",3,"formControl"]],template:function(e,t){1&e&&(s.qex(0,1),s.DNE(1,PCt,4,2,"ng-container",2)(2,jCt,3,2,"ng-container",2),s.bVm()),2&e&&(s.Y8G("ngSwitch",t.isEdited),s.R7$(),s.Y8G("ngSwitchCase",!1),s.R7$(),s.Y8G("ngSwitchCase",!0))},dependencies:[Qe,Dd,Ph,wa,od,q,qe,ut,Jl,cne,Di,GC,xD,Yt,Qo,dne],encapsulation:2}),i})(),Xke=(()=>{class i{constructor(e,t,o){this.groupsService=e,this.groupInfoService=t,this.ctx=o,this.skipGroupDecoration=!1,this.hasDetails=!1,this.totalColumnsCount=0,this.groups=[],this.groupItemClass=!0,this.tableGroupRowClass=!0,this.isExpanded=!1,this.caretAltDownIcon=qo,this.caretAltRightIcon=Jo,this.caretAltLeftIcon=tl}ngDoCheck(){const e={group:this.item.data,groupIndex:this.item.index,parentGroup:i7(this.item.parentGroup)};this.isExpanded=this.groupsService.isExpanded(e)}prefixGroupCell(e){return new Array(e.level)}toggleGroup(e){return this.groupsService.toggleRow(e),!1}groupSpan(e){const t=(this.groups||[]).length,o=this.hasDetails?1:0;if(this.hasGroupHeaderColumn)return t+1+o-e.level;const r=l7(this.columns);return this.skipGroupDecoration?r:t+r+o-e.level}logicalColSpan(){return this.skipGroupDecoration?1:this.totalColumnsCount}ariaRole(){return this.skipGroupDecoration?"presentation":"gridcell"}formatForGroup(e){return this.groupInfoService.formatForGroup(e)}groupTitle(e){return this.groupInfoService.groupTitle(e)}groupHeaderTemplate(e){return this.groupInfoService.groupHeaderTemplate(e)}get groupButtonTitle(){return this.ctx.localization.get(this.isExpanded?"groupCollapse":"groupExpand")}get arrowIcon(){return this.isExpanded?"caret-alt-down":this.ctx.localization.rtl?"caret-alt-left":"caret-alt-right"}get arrowSVGIcon(){return this.isExpanded?this.caretAltDownIcon:this.ctx.localization.rtl?this.caretAltLeftIcon:this.caretAltRightIcon}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(L0),s.rXU(h7),s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoGridGroupHeader",""]],hostVars:4,hostBindings:function(e,t){2&e&&s.AVh("k-grouping-row",t.groupItemClass)("k-table-group-row",t.tableGroupRowClass)},inputs:{rowIndex:"rowIndex",logicalRowIndex:"logicalRowIndex",item:"item",skipGroupDecoration:"skipGroupDecoration",hasDetails:"hasDetails",totalColumnsCount:"totalColumnsCount",hasGroupHeaderColumn:"hasGroupHeaderColumn",groupHeaderColumns:"groupHeaderColumns",columns:"columns",groups:"groups"},attrs:$Ct,decls:3,vars:3,consts:[[4,"ngIf"],["aria-selected","false","class","k-table-td","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan",4,"ngIf"],["class","k-group-cell k-table-td","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"k-group-cell","k-table-td"],["aria-selected","false","kendoGridLogicalCell","",1,"k-table-td",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan"],[1,"k-reset"],["href","#","tabindex","-1","role","presentation",3,"click"],[3,"name","svgIcon"],[3,"templateContext"],["role","gridcell","class","k-table-td","aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan",4,"ngFor","ngForOf"],["role","gridcell","aria-selected","false","kendoGridLogicalCell","",1,"k-table-td",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&s.DNE(0,YCt,2,1,"ng-container",0)(1,ZCt,3,9,"td",1)(2,i0t,2,1,"ng-container",0),2&e&&(s.Y8G("ngIf",!t.skipGroupDecoration),s.R7$(),s.Y8G("ngIf",!(t.skipGroupDecoration&&t.hasGroupHeaderColumn)),s.R7$(),s.Y8G("ngIf",t.hasGroupHeaderColumn))},dependencies:[Qe,q,ut,jw,MA,qe,dne],encapsulation:2}),i})(),une=(()=>{class i{constructor(e,t,o,r,a,l,c,u,f,_,S,v,b){this.detailsService=e,this.groupsService=t,this.changeNotification=o,this.editService=r,this.ctx=a,this.ngZone=l,this.renderer=c,this.element=u,this.domEvents=f,this.selectionService=_,this.cellSelectionService=S,this.columnInfoService=v,this.navigationService=b,this.columns=[],this.groups=[],this.skip=0,this.noRecordsText=this.ctx.localization.get("noRecords"),this.isLocked=!1,this.skipGroupDecoration=!1,this.showGroupFooters=!1,this.lockedColumnsCount=0,this.totalColumnsCount=0,this.trackBy=Ate,this.hostClass=!0,this.minusIcon=lW,this.plusIcon=uD,this.rowClass=()=>null,this.cellKeydownSubscription=this.navigationService.cellKeydown.subscribe(D=>this.cellKeydownHandler(D)),this.trackByWrapper=this.trackByWrapper.bind(this),this.trackByColumns=this.trackByColumns.bind(this)}get newDataItem(){return this.editService.newDataItem}unlockedColumnsCount(e){const t=this.allColumns||this.columns;let o=t.length;t.forEach(l=>{l.isSpanColumn&&(o+=l.colspan-1)});const r=this.totalColumnsCount-this.lockedColumnsCount-o,a=this.totalColumnsCount-this.lockedColumnsCount-(this.allColumns||this.columns).length;return e&&this.isDataItem(e)?r:a}isAriaSelected(e,t){return this.cellSelectionService.isCellSelected(e,t)||this.isRowSelected(e)?"true":"false"}toggleRow(e,t){return this.detailsService.toggleRow(e,t),!1}isExpanded(e){return this.detailsService.isExpanded(e.index,e.data)}detailButtonIconName(e){return this.isExpanded(e)?"minus":"plus"}detailButtonSvgIcon(e){return this.isExpanded(e)?this.minusIcon:this.plusIcon}detailButtonTitle(e){const t=this.isExpanded(e)?"detailCollapse":"detailExpand";return this.ctx.localization.get(t)}isGroup(e){return"group"===e.type}isDataItem(e){return!this.isGroup(e)&&!this.isFooter(e)}isFooter(e){return"footer"===e.type}isFooterItemInExpandedGroup(e){return this.isInExpandedGroup({data:e.data,index:e.groupIndex,parentGroup:e.group.parentGroup})}isDataItemInExpandedGroup(e){return this.isInExpandedGroup({data:e.group.data,index:e.groupIndex,parentGroup:e.group.parentGroup})}isInExpandedGroup(e){return this.groupsService.isInExpandedGroup(e)}isParentGroupExpanded(e){return this.groupsService.isInExpandedGroup(e.parentGroup)}isOdd(e){return e.index%2!=0}isSelectable(){return this.selectable&&!1!==this.selectable.enabled}isRowSelected(e){return this.selectionService.isSelected(e.index)}trackByWrapper(e,t){return"data"===t.type&&(t.isEditing=this.editService.hasEdited(t.index)),this.trackBy(e,t)}trackByColumns(e,t){return this.virtualColumns?e:t}ngDoCheck(){this.groupHeaderColumns=this.hasGroupHeaderColumn?L_(this.skipGroupDecoration?this.columns:this.columns.toArray().slice(1)):[],this.groupHeaderSlaveCellsCount=this.isLocked?this.hasGroupHeaderColumn?this.columnsContainer.nonLockedColumnsToRender.length:1:0}ngAfterViewChecked(){this.rowSticky&&this.applyStickyRowsStyling()}ngOnChanges(e){wt("columns",e,!1)&&this.changeNotification.notify()}logicalRowIndex(e){let t=this.skip+e;this.hasDetailTemplate&&(t*=2);const o=1+t,r=this.editService.hasNewItem?1:0,a=bA(this.filterable)?1:0;return o+(this.columnInfoService.totalLevels+a+r)}addRowLogicalIndex(){return this.columnInfoService.totalLevels+1+(bA(this.filterable)?1:0)}logicalColIndex(e){return xe(e.leafIndex)?e.leafIndex+(this.hasDetailTemplate?1:0):-1}ngOnInit(){this.ngZone.runOutsideAngular(()=>{const t=this.clickHandler.bind(this),o=this.renderer.listen(this.element.nativeElement,"mousedown",t),r=this.renderer.listen(this.element.nativeElement,"mouseup",t),a=this.renderer.listen(this.element.nativeElement,"click",t),l=this.renderer.listen(this.element.nativeElement,"contextmenu",t),c=this.renderer.listen(this.element.nativeElement,"touchstart",t),u=this.renderer.listen(this.element.nativeElement,"touchend",t);this.clickSubscription=()=>{o(),r(),a(),l()},this.touchSubscription=()=>{c(),u()}});let e=this.ctx.localization.get("noRecords");this.l10nSubscription=this.ctx.localization.changes.subscribe(()=>{this.noRecordsText===e&&(this.noRecordsText=this.ctx.localization.get("noRecords"),e=this.noRecordsText)})}ngOnDestroy(){this.clickSubscription&&this.clickSubscription(),this.touchSubscription&&this.touchSubscription(),this.l10nSubscription&&this.l10nSubscription.unsubscribe(),this.cellKeydownSubscription.unsubscribe(),clearTimeout(this.clickTimeout)}isEditingCell(e,t){return this.editService.isEditing()&&this.editService.isEditedColumn(e,t)}isEditingRow(e){return this.editService.isEditing()&&this.editService.hasEdited(e)}get hasGroupHeaderColumn(){return this.columnsContainer.hasGroupHeaderColumn}get columnsContainer(){return this.columnInfoService.columnsContainer}get columnsSpan(){return l7(this.columns)}get allColumnsSpan(){return l7(this.allColumns||this.columns)}get colSpan(){return this.columnsSpan+this.groups.length+(this.hasDetailTemplate?1:0)}get footerColumns(){return Array.from(this.columns).reduce((t,o)=>[...t,...o instanceof mte?Array.from(o.childColumns):[o]],[])}showGroupHeader(e){return!e.data.skipHeader}addStickyColumnStyles(e){const t=this.columnInfoService.stickyColumnsStyles(e);return{...e.style,...t}}resizeHandler(){this.applyStickyRowsStyling()}get hasDetailTemplate(){return xe(this.detailTemplate)}clickHandler(e){const t=this.element.nativeElement,o=this.eventTarget(e);let r,a,l,c,u=o;do{r=fa(u,Ba("td")),a=fa(r,Ba("tr")),l=fa(a,Ba("tbody")),u=l,c=ite(u,Nf("k-grid"),t)}while(l&&l!==t&&!c);if(r&&!Aw(r,jke)&&!Aw(a,"k-grouping-row k-group-footer k-detail-row k-grid-norecords")&&l===t&&!c&&(this.editService.preventCellClose(),!(o!==r&&uA(o,!1)||Ba("label")(o)||Aw(o,"k-icon k-svg-icon")||ite(o,Nf("k-grid k-grid-ignore-click"),r)))){const _=this.cellClickArgs(r,a,e);"mousedown"===e.type||"touchstart"===e.type?this.domEvents.cellMousedown.emit(_):"mouseup"===e.type||"touchend"===e.type?this.domEvents.cellMouseup.emit(_):(_.isEditedColumn||!this.editService.closeCell(e))&&("click"===e.type?this.clickTimeout=setTimeout(()=>{this.emitCellClick(_)},0):this.emitCellClick(_))}}emitCellClick(e){this.domEvents.cellClick.emit(Object.assign(e,{isEdited:e.isEditedRow||e.isEditedColumn}))}cellKeydownHandler(e){e.keyCode===G.Enter&&this.clickHandler(e)}cellClickArgs(e,t,o){const r=((i,n)=>{let e=0;for(let t=0;t<n.length;t++){if(n[t]===i)return e;Aw(n[t],"k-hierarchy-cell k-group-cell")||e++}})(e,t.cells),a=this.columns.toArray()[r],l=this.lockedColumnsCount+r;let c=t.getAttribute("data-kendo-grid-item-index");return c=c?parseInt(c,10):-1,{column:a,columnIndex:l,dataItem:-1===c?this.editService.newDataItem:this.data.at(c-this.skip),isEditedColumn:this.editService.isEditedColumn(c,a),isEditedRow:this.editService.isEdited(c),originalEvent:o,rowIndex:c,type:"keydown"===o.type?"click":o.type}}eventTarget(e){if(ne()){if("touchend"===e.type){const t=e.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}return e.target}}applyStickyRowsStyling(){if(!ne())return;const e=(i=>[].slice.call(i))(this.element.nativeElement.querySelectorAll(".k-grid-row-sticky"));if(e.length){let o=0;const r=[];e.forEach(a=>{const l=a.getBoundingClientRect().height;r.push({accumulatedHeight:o,rowHeight:l}),o+=l}),e.forEach((a,l)=>{this.renderer.setStyle(a,"top",`${r[l].accumulatedHeight}px`),this.renderer.setStyle(a,"bottom",o-r[l].accumulatedHeight-r[l].rowHeight+"px")})}}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(hA),s.rXU(L0),s.rXU(p7),s.rXU(Vh),s.rXU(Fe),s.rXU(s.SKi),s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(A0),s.rXU(Nw),s.rXU(c7),s.rXU(ql),s.rXU(Va))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoGridTableBody",""]],hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-table-tbody",t.hostClass)},inputs:{columns:"columns",allColumns:"allColumns",groups:"groups",detailTemplate:"detailTemplate",noRecordsTemplate:"noRecordsTemplate",data:"data",skip:"skip",selectable:"selectable",filterable:"filterable",noRecordsText:"noRecordsText",isLocked:"isLocked",isLoading:"isLoading",isVirtual:"isVirtual",cellLoadingTemplate:"cellLoadingTemplate",skipGroupDecoration:"skipGroupDecoration",showGroupFooters:"showGroupFooters",lockedColumnsCount:"lockedColumnsCount",totalColumnsCount:"totalColumnsCount",virtualColumns:"virtualColumns",trackBy:"trackBy",rowSticky:"rowSticky",totalColumns:"totalColumns",rowClass:"rowClass"},features:[s.OA$],attrs:s0t,decls:4,vars:5,consts:[[4,"ngIf"],["class","k-grid-norecords","role","row",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"resize",4,"ngIf"],["kendoGridLogicalRow","",1,"k-grid-add-row","k-grid-edit-row","k-master-row",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","totalColumns"],["class","k-hierarchy-cell k-table-td","kendoGridLogicalCell","","aria-selected","false",3,"logicalRowIndex","logicalColIndex",4,"ngIf"],["class","k-table-td","kendoGridCell","","kendoGridLogicalCell","",3,"rowIndex","columnIndex","isNew","column","dataItem","k-grid-content-sticky","ngClass","left","ngStyle","logicalRowIndex","logicalColIndex","colSpan",4,"ngFor","ngForOf","ngForTrackBy"],["class","k-group-cell k-table-td","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"k-group-cell","k-table-td"],["kendoGridLogicalCell","","aria-selected","false",1,"k-hierarchy-cell","k-table-td",3,"logicalRowIndex","logicalColIndex"],["kendoGridCell","","kendoGridLogicalCell","",1,"k-table-td",3,"rowIndex","columnIndex","isNew","column","dataItem","ngClass","ngStyle","logicalRowIndex","logicalColIndex","colSpan"],["role","row",1,"k-grid-norecords"],[1,"k-table-td"],[3,"templateContext"],["kendoGridGroupHeader","","kendoGridLogicalRow","",3,"columns","groups","item","hasDetails","skipGroupDecoration","hasGroupHeaderColumn","groupHeaderColumns","rowIndex","totalColumnsCount","logicalRowIndex","logicalSlaveRow","totalColumns","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridLogicalRow","",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","totalColumns","logicalCellsCount","logicalSlaveCellsCount","class","k-grid-row-sticky","ngClass","k-master-row","k-grid-edit-row","k-selected",4,"ngIf"],["class","k-detail-row","kendoGridLogicalRow","",3,"k-alt","dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount",4,"ngIf"],["class","k-group-footer","kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","totalColumns","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridGroupHeader","","kendoGridLogicalRow","",3,"columns","groups","item","hasDetails","skipGroupDecoration","hasGroupHeaderColumn","groupHeaderColumns","rowIndex","totalColumnsCount","logicalRowIndex","logicalSlaveRow","totalColumns","logicalCellsCount","logicalSlaveCellsCount"],["kendoGridLogicalRow","",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","totalColumns","logicalCellsCount","logicalSlaveCellsCount","ngClass"],["class","k-hierarchy-cell k-table-td","kendoGridLogicalCell","","aria-selected","false","role","gridcell",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","detailExpandCell",4,"ngIf"],["kendoGridCell","","kendoGridLogicalCell","","class","k-table-td",3,"rowIndex","columnIndex","column","dataItem","isLoading","isVirtual","loadingTemplate","logicalRowIndex","logicalColIndex","dataRowIndex","colIndex","colSpan","k-grid-content-sticky","k-touch-action-none","k-touch-action-auto","ngClass","k-grid-edit-cell","ngStyle","k-selected",4,"ngFor","ngForOf","ngForTrackBy"],["kendoGridLogicalCell","","aria-selected","false","role","gridcell",1,"k-hierarchy-cell","k-table-td",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","detailExpandCell"],["href","#","tabindex","-1",3,"click",4,"ngIf"],["href","#","tabindex","-1",3,"click"],[3,"name","svgIcon"],["kendoGridCell","","kendoGridLogicalCell","",1,"k-table-td",3,"rowIndex","columnIndex","column","dataItem","isLoading","isVirtual","loadingTemplate","logicalRowIndex","logicalColIndex","dataRowIndex","colIndex","colSpan","ngClass","ngStyle"],["kendoGridLogicalRow","",1,"k-detail-row",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount"],["class","k-group-cell k-table-td",4,"ngFor","ngForOf"],[1,"k-hierarchy-cell","k-table-td"],["kendoGridLogicalCell","","role","gridcell","aria-selected","false",1,"k-detail-cell","k-table-td",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","colIndex","colSpan"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-group-cell","k-table-td"],["kendoGridLogicalRow","",1,"k-group-footer",3,"logicalRowIndex","logicalSlaveRow","totalColumns","logicalCellsCount","logicalSlaveCellsCount"],["kendoGridLogicalCell","","class","k-table-td",3,"logicalRowIndex","logicalColIndex",4,"ngFor","ngForOf","ngForTrackBy"],["kendoGridLogicalCell","",1,"k-table-td",3,"logicalRowIndex","logicalColIndex"],[3,"resize"]],template:function(e,t){1&e&&s.DNE(0,h0t,5,9,"ng-container",0)(1,_0t,4,3,"tr",1)(2,x0t,5,4,"ng-container",2)(3,N0t,1,0,"kendo-resize-sensor",3),2&e&&(s.Y8G("ngIf",t.editService.hasNewItem),s.R7$(),s.Y8G("ngIf",0===(null==t.data?null:t.data.length)||null===t.data),s.R7$(),s.Y8G("ngForOf",t.data)("ngForTrackBy",t.trackByWrapper),s.R7$(),s.Y8G("ngIf",t.rowSticky))},dependencies:[$ke,Xke,Qe,hs,q,H7,ut,jw,Be,Wn,MA,qe],encapsulation:2}),i})();const ZDt=({columns:i})=>Math.max(1,(i=>i.filter(n=>Pc(n.resizable)&&n.isVisible))(i).length),Wke=i=>n=>n.querySelector(i),hne=(i,n="td")=>e=>e.querySelectorAll(`${n}:not(.k-group-cell):not(.k-hierarchy-cell)`)[i],X7=i=>i.offsetWidth,pne=(...i)=>n=>i.reduce((e,t)=>e?t(e):0,n);let fne=(()=>{class i{constructor(e,t,o,r,a){this.element=e,this.renderer=t,this.service=o,this.zone=r,this.cdr=a,this.locked=!1,this.firstResize=!1}get minWidth(){return this.firstResize?0:null}ngOnInit(){const e=this.service.changes.pipe(X(t=>this.locked===t.locked));this.subscription=e.pipe(X(t=>"start"===t.type),F(this.initState.bind(this)),(0,V.T)(ZDt),le(t=>e.pipe(X(o=>"resizeTable"===o.type),(0,V.T)(o=>o.delta),function oje(i,n=null){return n=n??i,(0,Ri.N)((e,t)=>{let o=[],r=0;e.subscribe((0,Ai._)(t,a=>{let l=null;r++%n==0&&o.push([]);for(const c of o)c.push(a),i<=c.length&&(l=l??[],l.push(c));if(l)for(const c of l)(0,pme.o)(o,c),t.next(c)},()=>{for(const a of o)t.next(a);t.complete()},void 0,()=>{o=null}))})}(t)))).subscribe(this.resize.bind(this)),this.autoFitSubscription=this.service.registerTable({autoFit:this.autoFitObservable.bind(this),locked:this.locked})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.autoFitSubscription&&(this.autoFitSubscription(),this.autoFitSubscription=null)}initState(){this.firstResize=!0,(!this.virtualColumns||this.locked)&&(this.originalWidth=X7(this.element.nativeElement))}resize(e){if(!this.virtualColumns||this.locked){const t=e.reduce((r,a)=>r+a,0);this.renderer.setStyle(this.element.nativeElement,"width",this.originalWidth+t+"px")}this.cdr.detectChanges()}autoFitObservable(e){return Qi.c.create(t=>{this.zone.runOutsideAngular(()=>{this.renderer.addClass(this.element.nativeElement,"k-autofitting"),this.cdr.detectChanges();const o=e.map(this.measureColumn.bind(this));this.renderer.removeClass(this.element.nativeElement,"k-autofitting"),t.next(o)})})}measureColumn(e){const t=this.element.nativeElement,o=pne((i=>n=>n.querySelectorAll("thead>tr")[i])(e.level),hne(e.headerIndex,"th"),X7)(t);let r=0;(!e.isParentSpan||e.isParentSpan&&e.isLastInSpan)&&(r=pne(Wke("tbody>tr:not(.k-grouping-row):not(.k-grid-norecords)"),hne(e.index),X7)(t));const a=pne(Wke("tfoot>tr"),hne(e.index),X7)(t);return Math.max(o,r,a)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(CA),s.rXU(s.SKi),s.rXU(s.gRc))},i.\u0275dir=s.FsC({type:i,selectors:[["table"]],hostVars:2,hostBindings:function(e,t){2&e&&s.xc7("min-width",t.minWidth)},inputs:{locked:"locked",virtualColumns:"virtualColumns"}}),i})(),W7=(()=>{class i{constructor(e){this.wrapper=e,this.hostClass=!0,this._size="medium"}get sizeSmallClass(){return"small"===this.size}get sizeMediumClass(){return"medium"===this.size||!this.size}set size(e){this._size=e,"none"===e&&this.wrapper.nativeElement.classList.remove("k-table-sm","k-table-md")}get size(){return this._size}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridTable",""]],hostVars:6,hostBindings:function(e,t){2&e&&s.AVh("k-table",t.hostClass)("k-table-sm",t.sizeSmallClass)("k-table-md",t.sizeMediumClass)},inputs:{size:"size"}}),i})(),mne=(()=>{class i{constructor(e,t,o,r){this.el=e,this.renderer=t,this.resizeService=o,this.ctx=r,this.enabled=!1}set lockedWidth(e){this._lockedWidth=e,this.enabled&&(this.attachResize(),this.resize())}set kendoGridResizableContainer(e){const t=e!==this.enabled;this.enabled=e,t&&(this.attachResize(),this.resize())}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}attachResize(){this.resizeSubscription&&!this.enabled&&(this.resizeSubscription.unsubscribe(),this.resizeSubscription=null),!this.resizeSubscription&&this.enabled&&(this.resizeSubscription=this.resizeService.changes.subscribe(this.resize.bind(this)))}resize(){if(this.ctx.grid&&this.ctx.grid.wrapper){const t=Math.max(this.ctx.grid.wrapper.nativeElement.clientWidth-this._lockedWidth,0);this.renderer.setStyle(this.el.nativeElement,"width",this.enabled&&t>0?t+"px":"")}}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(Tte),s.rXU(Fe))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridResizableContainer",""]],inputs:{lockedWidth:"lockedWidth",kendoGridResizableContainer:"kendoGridResizableContainer"}}),i})();const Kke=(i,n,e)=>{for(let t=0,o=0;t<n.length;t++){const r=e(n[t]);if(o<=i&&i<=o+r-1)return n[t];o+=r}},Yke=(i,n)=>Kke(i,n,()=>1),Jke={},qke=new s.nKC("grid-scroll-service-factory");function nwt(i){return new WDt(i)}const Qke=i=>{const n=i.wheelDeltaY;return i.wheelDelta&&(void 0===n||n)?i.wheelDelta:i.detail&&i.axis===i.VERTICAL_AXIS?10*-i.detail:0},_ne=i=>i?i.nativeElement:null;let eOe=(()=>{class i{constructor(e,t,o,r,a,l,c,u,f,_,S,v,b,D,k,O,I,x){this.changeNotification=o,this.suspendService=r,this.groupsService=a,this.ngZone=l,this.renderer=c,this.scrollSyncService=u,this.resizeService=f,this.editService=_,this.supportService=S,this.navigationService=v,this.ctx=D,this.columnResizingService=k,this.changeDetector=O,this.pdfService=I,this.columnInfo=x,this.hostClass=!0,this.hostRole="presentation",this.groups=[],this.skip=0,this.columns=new Ste(()=>[]),this.selectable=!1,this.groupable=!1,this.trackBy=Ate,this.sort=new Array,this.size="medium",this.contentScroll=new s.bkB,this.pageChange=new s.bkB,this.scrollBottom=new s.bkB,this.columnsStartIdx=0,this.resizeSensors=new s.rOR,this.dispatcher=new Ke.B,this.containerScrollTop=0,this.scrollLeft=0,this.rtl=!1,this.scroller=e(this.dispatcher),this.subscriptions=t.changes.subscribe(P=>this.detailExpand(P)),this.subscriptions.add(b.requests.subscribe(P=>xe(P.adjustIndex)?this.scrollTo(P.request,P.adjustIndex):this.scrollToItem(P.request)))}get showFooter(){return this.groupable&&this.groupable.showFooter}get totalWidth(){if(this.virtualColumns&&this.columns.unlockedWidth)return this.columns.unlockedWidth}get lockedLeafColumns(){return this.columns.lockedLeafColumns}get nonLockedLeafColumns(){return this.columns.nonLockedLeafColumns}get nonLockedColumnsToRender(){return this.virtualColumns&&!this.pdfService.exporting?this.viewportColumns:this.nonLockedLeafColumns}get leafColumns(){return this.columns.leafColumnsToRender}get lockedWidth(){const e=32*this.groups.length;return Pf(this.lockedLeafColumns.toArray()).reduce((t,o)=>t+(o.width||0),e)}get nonLockedWidth(){if(!this.rtl&&this.lockedLeafColumns.length||this.virtualColumns)return zEt(Pf(this.nonLockedColumnsToRender.toArray()))}get isLocked(){return this.lockedLeafColumns.length>0}ngOnInit(){this.init(),this.subscriptions.add(this.ngZone.runOutsideAngular(this.handleRowSync.bind(this))),this.subscriptions.add(this.ngZone.runOutsideAngular(this.handleRowNavigationLocked.bind(this))),this.subscriptions.add(Bt(this.columns.changes,this.resizeService.changes).subscribe(()=>{this.virtualColumns&&this.ngZone.run(()=>{this.updateViewportColumns(),this.changeDetector.markForCheck()})})),this.subscriptions.add(this.ctx.localization.changes.subscribe(({rtl:e})=>this.rtl=e))}ngOnChanges(e){if(!ne())return;const t=e.skip;t&&t.firstChange&&t.currentValue>0&&this.handleInitialScrollToSkip(),wt("skip",e)&&!this.rebind&&(this.skipScroll=!0,this.container.nativeElement.scrollTop=this.rowHeightService.offset(this.skip)),Fi(["total","take"],e)&&this.init(),this.rebind=!1}ngDoCheck(){this.virtualColumns&&(!this.viewportColumns||this.viewportWidthChange())&&this.updateViewportColumns()}ngAfterViewInit(){ne()&&(this.skip&&this.isVirtual&&(this.container.nativeElement.scrollTop=this.rowHeightService.offset(this.skip)),this.resetNavigationViewport(),this.attachContainerScroll(),this.initResizeService())}ngAfterViewChecked(){const e=this.isLocked;e&&!this.hasLockedContainer&&this.syncRowsHeight(),this.hasLockedContainer=e}syncRowsHeight(){this.lockedContainer&&Ywe(this.lockedTable.nativeElement,this.table.nativeElement)}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),this.resizeService&&this.resizeService.destroy(),this.cleanupScroller()}init(){this.suspendService.scroll||(this.rowHeightService=new $Dt(this.total,this.rowHeight,this.detailRowHeight),this.totalHeight=this.rowHeightService.totalHeight(),R0()||this.ngZone.runOutsideAngular(this.createScroller.bind(this)))}lockedScroll(){if(!this.suspendService.scroll){const e=this.lockedContainer.nativeElement.scrollTop;e!==this.containerScrollTop&&(this.container.nativeElement.scrollTop=this.containerScrollTop=e)}}lockedMousewheel(e){if(!e.ctrlKey){((i,n)=>{const e=Qke(i),t=n.scrollTop;0===t&&0<e||n.scrollHeight<=n.offsetHeight+t&&e<0||event.preventDefault()})(e,this.container.nativeElement);const t=Qke(e);this.container.nativeElement.scrollTop-=t}}lockedKeydown(e){if(e.keyCode===G.PageDown||e.keyCode===G.PageUp){const o=this.container.nativeElement;o.scrollTop+=o.offsetHeight*(e.keyCode===G.PageDown?1:-1)*.8,e.preventDefault()}}detailExpand({index:e,expand:t}){t?this.rowHeightService.expandDetail(e):this.rowHeightService.collapseDetail(e),this.totalHeight=this.rowHeightService.totalHeight(),this.resetNavigationViewport()}attachContainerScroll(){R0()||(this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(Dt(this.container.nativeElement,"scroll").pipe((0,V.T)(e=>e.target),X(()=>!this.suspendService.scroll),F(e=>{this.onContainerScroll(e),this.resetNavigationViewport(),this.virtualColumns&&this.handleColumnScroll();const t=this.navigationService.viewport||Jke,o=this.navigationService.columnViewport||Jke;this.contentScroll.emit({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,startRow:t.firstItemIndex,endRow:t.lastItemIndex,startColumn:o.firstItemIndex,endColumn:o.lastItemIndex})})).subscribe(this.dispatcher))}),this.scrollSyncService.registerEmitter(this.container.nativeElement,"body"))}createScroller(){this.cleanupScroller();const e=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total);this.skipScroll=!1,this.scrollerSubscription=e.pipe(X(t=>t instanceof ane),X(()=>{const t=this.skipScroll;return this.skipScroll=!1,!t}),F(()=>this.rebind=!0)).subscribe(t=>this.ngZone.run(()=>this.pageChange.emit(t))),this.scrollerSubscription.add(e.pipe(X(t=>t instanceof $7)).subscribe(this.scroll.bind(this))),this.scrollerSubscription.add(e.pipe(X(t=>t instanceof Hke)).subscribe(()=>this.scrollBottom.emit()))}scroll({offset:e=0}){this.isVirtual&&[_ne(this.table),_ne(this.lockedTable)].filter(xe).forEach(((i,n)=>e=>i.setStyle(e,"transform",`translateY(${n}px)`))(this.renderer,e)),this.resetNavigationViewport()}onContainerScroll({scrollTop:e}){this.containerScrollTop=e,this.lockedContainer&&(this.lockedContainer.nativeElement.scrollTop=e)}handleInitialScrollToSkip(){const t=this.changeNotification.changes.pipe(X(()=>this.isVirtual&&this.skip>0&&this.total>0)).subscribe(o=>{this.scrollTo({row:this.skip}),t.unsubscribe()})}handleRowSync(){const e=()=>xe(this.lockedContainer);return Bt(this.changeNotification.changes,this.groupsService.changes.pipe(X(e),zG((()=>this.ngZone.onStable.asObservable().pipe(We(1)))())),this.editService.changed,this.resizeService.changes,this.columnResizingService.changes.pipe(X(o=>"end"===o.type)),this.supportService.changes).pipe(F(()=>this.resetNavigationViewport()),X(e)).subscribe(()=>{const o=this.container.nativeElement.scrollTop,r=this.container.nativeElement.scrollLeft;this.syncRowsHeight(),this.syncContainerHeight(),this.lockedContainer.nativeElement.scrollTop=this.container.nativeElement.scrollTop=o,this.container.nativeElement.scrollLeft=r,this.resizeSensors.forEach(a=>a.acceptSize())})}handleRowNavigationLocked(){return this.navigationService.changes.pipe(X(()=>xe(this.lockedContainer)),c_(10)).subscribe(e=>{if(this.lockedLeafColumns.length<=e.prevColIndex&&e.colIndex<this.lockedLeafColumns.length){const t=this.navigationService.activeCell;t&&t.colIndex+t.colSpan<e.prevColIndex&&(this.container.nativeElement.scrollLeft=0)}})}scrollToVirtualRow(e,t=!0){if(!ne())return;xe(this.detailTemplate)&&t&&(e=Math.floor(e/2));const o=this.rowHeightService.offset(e,!t);this.container.nativeElement.scrollTop=o,this.resetNavigationViewport()}scrollTo({row:e,column:t},o=!1){if(ywe(e))if(this.isVirtual)this.scrollToVirtualRow(e,o);else{const r=Yke(e,this.table.nativeElement.rows);r&&(this.container.nativeElement.scrollTop=r.offsetTop)}if(ywe(t))if(t-=this.lockedLeafColumns.length,this.virtualColumns){const r=this.columns.leafColumnsToRender;let a=0;for(let c=0;c<t;c++)a+=r[c].width||0;this.container.nativeElement.scrollLeft=this.normalizeScrollLeft(a+(this.lockedLeafColumns.length?0:32*this.groups.length+(this.detailTemplate&&t>0?32:0)))}else if(0===t&&this.detailTemplate)this.container.nativeElement.scrollLeft=this.normalizeScrollLeft(0);else{const r=Yke(0,this.table.nativeElement.rows);if(r){const a=((i,n)=>Kke(i,n,e=>Aw(e,jke)?0:parseInt(e.getAttribute("colSpan"),10)||1))(t,r.cells);a&&(this.container.nativeElement.scrollLeft=this.elementScrollLeft(a))}}}scrollToItem(e){if(!ne())return;const t=this.ctx.grid.data,a=(Array.isArray(t)?t:t.data).flatMap(ete).findIndex(l=>l[e.idField]===e.id);if(-1!==a){const l=Array.from(this.table.nativeElement.rows).find(c=>{const u=c.getAttribute("data-kendo-grid-item-index");return u&&+u===this.ctx.grid.skip+a});l&&l.scrollIntoView(),this.isVirtual&&this.resetNavigationViewport()}}resetNavigationViewport(){if(!(ne&&this.container&&this.navigationService.tableEnabled&&this.navigationService.needsViewport()&&0!==this.data.length))return;const{scrollTop:e,offsetHeight:t}=this.container.nativeElement,o=e+t,r=this.rowHeightService.index(e),a=this.rowHeightService.index(o),l=this.rowHeightService.offset(a);let c=r,u=a;if(xe(this.detailTemplate)){c*=2,u*=2,this.rowHeightService.offset(r)+this.rowHeight<e&&c++;const _=this.rowHeightService.height(a);this.rowHeightService.isExpanded(a)&&!(l+_>o)&&u++}this.navigationService.setViewport(c,u)}cleanupScroller(){this.scrollerSubscription&&this.scrollerSubscription.unsubscribe(),this.scroller&&this.scroller.destroy()}initResizeService(){this.resizeService.connect(Bt(...this.resizeSensors.map(e=>e.resize)))}syncContainerHeight(){[_ne(this.lockedContainer)].filter(xe).map(e=>{e.style.height="";let t=this.container.nativeElement.offsetHeight;return((i,n)=>this.table.nativeElement.offsetWidth>this.container.nativeElement.clientWidth)()&&(t-=this.supportService.scrollbarWidth),{el:e,height:t}}).forEach((i=>({el:n,height:e})=>i.setStyle(n,"height",`${e}px`))(this.renderer))}updateViewportColumns(e){const t=this.columns.nonLockedLeafColumns.toArray();let{startIdx:o,endIdx:r,offset:a}=e||this.calculateViewportColumns();const l=Math.max(0,o-1),c=Math.min(r+1,t.length-1);if(l<o)for(let f=o-1;f>=l;f--)a-=t[f].width;const u=t.slice(l,c+1);if(this.viewportColumnsWidth=u.reduce((f,_)=>f+_.width,0),l>0){const f=new Bo;f.width=a,u.unshift(f)}this.viewportColumns=new s.rOR,this.viewportColumns.reset(u),this.columnsStartIdx=l,this.columnsEndIdx=c,this.columnInfo.columnRangeChange.emit({start:l,end:c,offset:a}),e||this.updateColumnViewport(o,r)}handleColumnScroll(){const t=this.container.nativeElement.scrollLeft;if(this.scrollLeft!==t){this.scrollLeft=t;const o=this.calculateViewportColumns();this.updateColumnViewport(o.startIdx,o.endIdx),(o.startIdx<this.columnsStartIdx||this.columnsEndIdx<o.endIdx)&&(rEt(this.columnUpdateFrame),this.columnUpdateFrame=oEt(()=>{this.ngZone.run(()=>{this.updateViewportColumns(o),this.changeDetector.markForCheck()})}))}}updateColumnViewport(e,t){const o=this.lockedLeafColumns.length,r=this.nonLockedLeafColumns.toArray(),a=o+e+(this.detailTemplate&&e>0?1:0);let l=o+t+(this.detailTemplate?1:0);for(let c=0;c<r.length;c++){const u=r[c];u.isSpanColumn&&(l+=u.childColumns.length)}this.navigationService.setColumnViewport(a,l)}calculateViewportColumns(){const{scrollLeft:e,clientWidth:t}=this.container.nativeElement,o=this.columns.nonLockedLeafColumns.toArray(),r=this.normalizeScrollLeft(e),a=r+t;let l,_,c=0,u=0,f=0;for(_=0;_<o.length;_++){const S=o[_];if(u+=S.width||0,void 0===l&&u>r&&(l=_,f=u-(S.width||0)),u>=a){c=_;break}}return!c&&_>0&&(c=o.length-1),{startIdx:l,endIdx:c,offset:f}}viewportWidthChange(){return this.viewportColumns.toArray().reduce((t,o)=>t+o.width,0)!==this.viewportColumnsWidth}normalizeScrollLeft(e){return this.rtl?function fEt(i,n,e){let t=i;return e<0?t=-i:e>0&&(t=n.scrollWidth-n.offsetWidth-i),t}(e,this.container.nativeElement,this.supportService.rtlScrollLeft):e}elementScrollLeft(e){return this.rtl?this.normalizeScrollLeft(this.container.nativeElement.scrollWidth-e.offsetLeft-e.offsetWidth):e.offsetLeft}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(qke),s.rXU(hA),s.rXU(p7),s.rXU(kte),s.rXU(L0),s.rXU(s.SKi),s.rXU(s.sFG),s.rXU(m7),s.rXU(Tte),s.rXU(Vh),s.rXU(bte),s.rXU(Va),s.rXU(s7),s.rXU(Fe),s.rXU(CA),s.rXU(s.gRc),s.rXU(vA),s.rXU(ql))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-list"]],viewQuery:function(e,t){if(1&e&&(s.GBs(L0t,7),s.GBs(P0t,5),s.GBs(G0t,5),s.GBs(U0t,7),s.GBs(hs,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.container=o.first),s.mGM(o=s.lsd())&&(t.lockedContainer=o.first),s.mGM(o=s.lsd())&&(t.lockedTable=o.first),s.mGM(o=s.lsd())&&(t.table=o.first),s.mGM(o=s.lsd())&&(t.resizeSensors=o)}},hostVars:3,hostBindings:function(e,t){2&e&&(s.BMQ("role",t.hostRole),s.AVh("k-grid-container",t.hostClass))},inputs:{data:"data",groups:"groups",total:"total",rowHeight:"rowHeight",stickyRowHeight:"stickyRowHeight",detailRowHeight:"detailRowHeight",take:"take",skip:"skip",columns:"columns",detailTemplate:"detailTemplate",noRecordsTemplate:"noRecordsTemplate",selectable:"selectable",groupable:"groupable",filterable:"filterable",rowClass:"rowClass",rowSticky:"rowSticky",loading:"loading",trackBy:"trackBy",virtualColumns:"virtualColumns",isVirtual:"isVirtual",cellLoadingTemplate:"cellLoadingTemplate",loadingTemplate:"loadingTemplate",sort:"sort",size:"size"},outputs:{contentScroll:"contentScroll",pageChange:"pageChange",scrollBottom:"scrollBottom"},features:[s.Jv_([{provide:qke,useValue:nwt}]),s.OA$],decls:13,vars:38,consts:[["container",""],["table",""],["lockedContainer",""],["lockedTable",""],["class","k-grid-content-locked","role","presentation","tabindex","-1",3,"width","kendoEventsOutsideAngular","scope",4,"ngIf"],[1,"k-grid-content","k-virtual-content",3,"kendoGridResizableContainer","lockedWidth"],["role","presentation",1,"k-grid-table-wrap"],["kendoGridTable","","role","presentation",1,"k-grid-table",3,"virtualColumns","size"],["kendoGridColGroup","",3,"groups","columns","detailTemplate","sort"],["kendoGridTableBody","","role","rowgroup",3,"skipGroupDecoration","data","groups","showGroupFooters","columns","allColumns","detailTemplate","noRecordsTemplate","lockedColumnsCount","totalColumnsCount","totalColumns","skip","selectable","trackBy","filterable","rowClass","rowSticky","virtualColumns","isLoading","isVirtual","cellLoadingTemplate"],[4,"ngIf"],["role","presentation",1,"k-height-container"],["class","k-width-container","role","presentation",4,"ngIf"],["role","presentation","tabindex","-1",1,"k-grid-content-locked",3,"kendoEventsOutsideAngular","scope"],["role","presentation","kendoGridTable","",1,"k-grid-table",3,"locked","size"],["kendoGridTableBody","","role","presentation",3,"groups","isLocked","data","noRecordsText","columns","totalColumnsCount","totalColumns","detailTemplate","showGroupFooters","skip","selectable","trackBy","filterable","rowClass","isLoading","isVirtual","cellLoadingTemplate"],["role","presentation",1,"k-width-container"]],template:function(e,t){1&e&&(s.DNE(0,B0t,10,36,"div",4),s.j41(1,"div",5,0)(3,"div",6)(4,"table",7,1),s.nrm(6,"colgroup",8)(7,"tbody",9),s.k0s(),s.DNE(8,V0t,1,0,"kendo-resize-sensor",10),s.k0s(),s.DNE(9,z0t,1,0,"kendo-resize-sensor",10),s.j41(10,"div",11),s.nrm(11,"div"),s.k0s(),s.DNE(12,H0t,2,2,"div",12),s.k0s()),2&e&&(s.Y8G("ngIf",t.isLocked),s.R7$(),s.Y8G("kendoGridResizableContainer",t.lockedLeafColumns.length>0)("lockedWidth",t.lockedWidth+1),s.R7$(3),s.xc7("width",t.nonLockedWidth,"px"),s.Y8G("virtualColumns",t.virtualColumns)("size",t.size),s.R7$(2),s.Y8G("groups",t.isLocked?s.lJ4(37,lA):t.groups)("columns",t.nonLockedColumnsToRender)("detailTemplate",t.detailTemplate)("sort",t.sort),s.R7$(),s.Y8G("skipGroupDecoration",t.isLocked)("data",t.data)("groups",t.groups)("showGroupFooters",t.showFooter)("columns",t.nonLockedColumnsToRender)("allColumns",t.nonLockedLeafColumns)("detailTemplate",t.detailTemplate)("noRecordsTemplate",t.noRecordsTemplate)("lockedColumnsCount",t.lockedLeafColumns.length)("totalColumnsCount",t.leafColumns.length)("totalColumns",t.columns)("skip",t.skip)("selectable",t.selectable)("trackBy",t.trackBy)("filterable",t.filterable)("rowClass",t.rowClass)("rowSticky",t.rowSticky)("virtualColumns",t.virtualColumns)("isLoading",t.loading)("isVirtual",t.isVirtual)("cellLoadingTemplate",t.cellLoadingTemplate),s.R7$(),s.Y8G("ngIf",t.isLocked),s.R7$(),s.Y8G("ngIf",t.isLocked||t.virtualColumns),s.R7$(2),s.xc7("height",t.totalHeight,"px"),s.R7$(),s.Y8G("ngIf",t.virtualColumns))},dependencies:[Xte,une,hs,q,xo,fne,W7,mne],encapsulation:2}),i})(),tOe=(()=>{class i{constructor(e){this.columnInfoService=e,this.columns=[],this.groups=[],this.lockedColumnsCount=0,this.logicalRowIndex=0,this.hostClass=!0,this.hostRole="rowgroup"}get footerClass(){return!this.scrollable}get columnsToRender(){return L_(this.columns||[])}logicalColumnIndex(e){const t=e.leafIndex;return xe(t)?t+(xe(this.detailTemplate)?1:0):-1}addStickyStyles(e){const t=this.columnInfoService.stickyColumnsStyles(e);return{...e.footerStyle,...t}}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(ql))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoGridFooter",""]],hostVars:5,hostBindings:function(e,t){2&e&&(s.BMQ("role",t.hostRole),s.AVh("k-grid-footer",t.footerClass)("k-table-tfoot",t.hostClass))},inputs:{columns:"columns",groups:"groups",detailTemplate:"detailTemplate",scrollable:"scrollable",lockedColumnsCount:"lockedColumnsCount",logicalRowIndex:"logicalRowIndex",totalColumns:"totalColumns"},attrs:j0t,decls:5,vars:10,consts:[["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","totalColumns"],["class","k-table-td k-group-cell","role","presentation",4,"ngFor","ngForOf"],["role","presentation","class","k-table-td k-hierarchy-cell",4,"ngIf"],["kendoGridLogicalCell","","class","k-table-td","role","gridcell","aria-selected","false",3,"logicalRowIndex","logicalColIndex","k-grid-footer-sticky","ngClass","ngStyle",4,"ngFor","ngForOf"],["role","presentation",1,"k-table-td","k-group-cell"],["role","presentation",1,"k-table-td","k-hierarchy-cell"],["kendoGridLogicalCell","","role","gridcell","aria-selected","false",1,"k-table-td",3,"logicalRowIndex","logicalColIndex","ngClass","ngStyle"],[3,"templateContext"]],template:function(e,t){1&e&&(s.qex(0),s.j41(1,"tr",0),s.DNE(2,$0t,1,0,"td",1)(3,X0t,1,0,"td",2)(4,K0t,2,12,"td",3),s.k0s(),s.bVm()),2&e&&(s.R7$(),s.AVh("k-footer-template",!0),s.Y8G("logicalRowIndex",t.logicalRowIndex)("logicalSlaveRow",t.lockedColumnsCount>0)("logicalCellsCount",t.columns.length)("logicalSlaveCellsCount",t.columns.length-t.lockedColumnsCount)("totalColumns",t.totalColumns),s.R7$(),s.Y8G("ngForOf",t.groups),s.R7$(),s.Y8G("ngIf",null==t.detailTemplate?null:t.detailTemplate.templateRef),s.R7$(),s.Y8G("ngForOf",t.columnsToRender))},dependencies:[H7,ut,q,jw,Be,Wn,MA],encapsulation:2}),i})(),nOe=(()=>{class i{constructor(e){this.ctx=e,this.hostClass=!0}get loadingText(){return this.ctx.localization.get("loading")}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoGridLoading",""]],hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-loading-mask",t.hostClass)},inputs:{loadingTemplate:"loadingTemplate"},attrs:Y0t,decls:2,vars:2,consts:[[4,"ngIf"],[1,"k-loading-text"],[1,"k-loading-image"],[1,"k-loading-color"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&s.DNE(0,J0t,5,1,"ng-container",0)(1,Q0t,1,1,null,0),2&e&&(s.Y8G("ngIf",!t.loadingTemplate),s.R7$(),s.Y8G("ngIf",t.loadingTemplate))},dependencies:[q,qe],encapsulation:2}),i})(),iOe=(()=>{class i{constructor(e){this.aggregateService=e,this.hostClasses=!0}get isStatusBarTemplate(){return this.statusBarTemplate?"":"none"}ngOnInit(){this.aggregateService.init()}get aggregates(){return this.aggregateService.aggregates}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(_A))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-status-bar"]],hostVars:6,hostBindings:function(e,t){2&e&&(s.xc7("display",t.isStatusBarTemplate),s.AVh("k-selection-aggregates",t.hostClasses)("k-grid-selection-aggregates",t.hostClasses))},inputs:{statusBarTemplate:"statusBarTemplate"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&s.DNE(0,tbt,1,4,null,0),2&e&&s.Y8G("ngIf",t.statusBarTemplate)},dependencies:[q,qe],encapsulation:2}),i})(),K7=(()=>{class i extends yi{}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275dir=s.FsC({type:i,selectors:[["kendo-grid-messages-base"]],inputs:{groupPanelEmpty:"groupPanelEmpty",noRecords:"noRecords",pagerLabel:"pagerLabel",pagerFirstPage:"pagerFirstPage",pagerLastPage:"pagerLastPage",pagerPreviousPage:"pagerPreviousPage",pagerNextPage:"pagerNextPage",pagerPage:"pagerPage",pagerItemsPerPage:"pagerItemsPerPage",pagerOf:"pagerOf",pagerItems:"pagerItems",pagerPageNumberInputTitle:"pagerPageNumberInputTitle",selectPage:"selectPage",filter:"filter",filterInputLabel:"filterInputLabel",filterMenuTitle:"filterMenuTitle",filterMenuOperatorsDropDownLabel:"filterMenuOperatorsDropDownLabel",filterMenuLogicDropDownLabel:"filterMenuLogicDropDownLabel",filterCellOperatorLabel:"filterCellOperatorLabel",booleanFilterCellLabel:"booleanFilterCellLabel",filterEqOperator:"filterEqOperator",filterNotEqOperator:"filterNotEqOperator",filterIsNullOperator:"filterIsNullOperator",filterIsNotNullOperator:"filterIsNotNullOperator",filterIsEmptyOperator:"filterIsEmptyOperator",filterIsNotEmptyOperator:"filterIsNotEmptyOperator",filterStartsWithOperator:"filterStartsWithOperator",filterContainsOperator:"filterContainsOperator",filterNotContainsOperator:"filterNotContainsOperator",filterEndsWithOperator:"filterEndsWithOperator",filterGteOperator:"filterGteOperator",filterGtOperator:"filterGtOperator",filterLteOperator:"filterLteOperator",filterLtOperator:"filterLtOperator",filterIsTrue:"filterIsTrue",filterIsFalse:"filterIsFalse",filterBooleanAll:"filterBooleanAll",filterAfterOrEqualOperator:"filterAfterOrEqualOperator",filterAfterOperator:"filterAfterOperator",filterBeforeOperator:"filterBeforeOperator",filterBeforeOrEqualOperator:"filterBeforeOrEqualOperator",filterFilterButton:"filterFilterButton",filterClearButton:"filterClearButton",filterAndLogic:"filterAndLogic",filterOrLogic:"filterOrLogic",loading:"loading",gridLabel:"gridLabel",columnMenu:"columnMenu",setColumnPosition:"setColumnPosition",columns:"columns",lock:"lock",unlock:"unlock",stick:"stick",unstick:"unstick",sortable:"sortable",sortAscending:"sortAscending",sortDescending:"sortDescending",autosizeThisColumn:"autosizeThisColumn",autosizeAllColumns:"autosizeAllColumns",sortedAscending:"sortedAscending",sortedDescending:"sortedDescending",sortedDefault:"sortedDefault",columnsApply:"columnsApply",columnsReset:"columnsReset",detailExpand:"detailExpand",detailCollapse:"detailCollapse",filterDateToday:"filterDateToday",filterDateToggle:"filterDateToggle",filterNumericDecrement:"filterNumericDecrement",filterNumericIncrement:"filterNumericIncrement",selectionCheckboxLabel:"selectionCheckboxLabel",selectAllCheckboxLabel:"selectAllCheckboxLabel",groupCollapse:"groupCollapse",groupExpand:"groupExpand",topToolbarLabel:"topToolbarLabel",bottomToolbarLabel:"bottomToolbarLabel",groupPanelLabel:"groupPanelLabel",dragRowHandleLabel:"dragRowHandleLabel",columnMenuFilterTabTitle:"columnMenuFilterTabTitle",columnMenuGeneralTabTitle:"columnMenuGeneralTabTitle",columnMenuColumnsTabTitle:"columnMenuColumnsTabTitle",groupChipMenuPrevious:"groupChipMenuPrevious",groupChipMenuNext:"groupChipMenuNext"},features:[s.Vt3]}),i})(),sOe=(()=>{class i extends K7{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridLocalizedMessages",""]],features:[s.Jv_([{provide:K7,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})();const oOe=(i,n)=>fa(i,Nf("k-grid-edit-cell"))&&fa(i,Ba("kendo-grid"))===n;let Wi=(()=>{class i{constructor(e,t,o,r,a,l,c,u,f,_,S,v,b,D,k,O,I,x,P,L,H,j,J,te,ce,oe,Le,ue){this.supportService=e,this.selectionService=t,this.cellSelectionService=o,this.wrapper=r,this.groupInfoService=a,this.groupsService=l,this.changeNotification=c,this.detailsService=u,this.editService=f,this.filterService=_,this.pdfService=S,this.responsiveService=v,this.renderer=b,this.excelService=D,this.ngZone=k,this.scrollSyncService=O,this.domEvents=I,this.columnResizingService=x,this.changeDetectorRef=P,this.columnReorderService=L,this.columnInfoService=H,this.navigationService=j,this.sortService=J,this.scrollRequestService=te,this.localization=ce,this.ctx=oe,this.sizingService=Le,this.rowReorderService=ue,this.scrollable="scrollable",this.selectable=!1,this.trackBy=Ate,this.virtualColumns=!1,this.gridData=()=>this.flatData,this.filterable=!1,this.sortable=!1,this.pageable=!1,this.groupable=!1,this.autoSize=!1,this.resizable=!1,this.reorderable=!1,this.columnMenu=!1,this.hideHeader=!1,this.filterChange=new s.bkB,this.pageChange=new s.bkB,this.groupChange=new vte(this.ngZone),this.sortChange=new s.bkB,this.selectionChange=new s.bkB,this.rowReorder=new s.bkB,this.dataStateChange=new s.bkB,this.groupExpand=new s.bkB,this.groupCollapse=new s.bkB,this.detailExpand=new s.bkB,this.detailCollapse=new s.bkB,this.edit=new s.bkB,this.cancel=new s.bkB,this.save=new s.bkB,this.remove=new s.bkB,this.add=new s.bkB,this.cellClose=new s.bkB,this.cellClick=new vte(this.ngZone),this.pdfExport=new s.bkB,this.excelExport=new s.bkB,this.columnResize=new vte(this.ngZone),this.columnReorder=new s.bkB,this.columnVisibilityChange=new s.bkB,this.columnLockedChange=new s.bkB,this.columnStickyChange=new s.bkB,this.scrollBottom=new s.bkB,this.contentScroll=new s.bkB,this.columns=new s.rOR,this.hostClass=!0,this.footer=new s.rOR,this.selectionDirective=!1,this.ariaRootId=`k-${tn()}`,this.showLicenseWatermark=!1,this.columnsContainer=new Ste(()=>this.columnList.filterHierarchy(ie=>(R0()||(ie.matchesMedia=this.matchesMedia(ie)),ie.isVisible))),this.view=new ayt(()=>new ryt(this.data,this.skip,this.hasGroupFooters)),this.shouldGenerateColumns=!0,this.notifyTimeout=null,this._sort=new Array,this._group=new Array,this._skip=0,this._data=[],this.cachedWindowWidth=0,this._rowSelected=null,this._cellSelected=null,this._rowReorderable=!1,this._navigable=[],this._size="medium",this._loading=!1,this.rtl=!1,this._rowClass=()=>null;const ye=(0,_t.$)(qEt);this.showLicenseWatermark=s_(ye),this.ctx.grid=this,this.localizationSubscription=this.localization.changes.subscribe(({rtl:ie})=>{this.rtl=ie,this.direction=this.rtl?"rtl":"ltr"}),this.groupInfoService.registerColumnsContainer(()=>this.columnList),this.columnInfoService.init(this.columnsContainer,()=>this.columnList),this.columnVisibilityChangeSubscription=this.columnInfoService.visibilityChange.subscribe(ie=>{this.columnVisibilityChange.emit(new kyt(ie))}),this.columnLockedChangeSubscription=this.columnInfoService.lockedChange.subscribe(ie=>{this.columnLockedChange.emit(new oke(ie))}),this.columnStickyChangeSubscription=this.columnInfoService.stickyChange.subscribe(ie=>{this.columnStickyChange.emit(new Tyt(ie))}),this.groupExpandCollapseSubscription=((i,n,e,t)=>i.changes.pipe(X(({group:o,emit:r})=>r&&xe(o))).subscribe(o=>o.expand?n.emit(t(o)):e.emit(t(o))))(l,this.groupExpand,this.groupCollapse,({group:ie,groupIndex:ee,parentGroup:ae})=>({group:ie,groupIndex:ee,parentGroup:ae})),this.detailsServiceSubscription=((i,n,e,t)=>i.changes.pipe(X(({dataItem:o})=>xe(o))).subscribe(o=>o.expand?n.emit(o):e.emit(o)))(u,this.detailExpand,this.detailCollapse),this.filterSubscription=this.filterService.changes.subscribe(ie=>{this.filterChange.emit(ie)}),this.sortSubscription=this.sortService.changes.subscribe(ie=>{this.sortChange.emit(ie)}),this.attachStateChangesEmitter(),this.attachEditHandlers(),this.attachDomEventHandlers(),this.pdfSubscription=this.pdfService.exportClick.subscribe(this.emitPDFExportEvent.bind(this)),this.excelSubscription=this.excelService.exportClick.subscribe(this.saveAsExcel.bind(this)),this.columnsContainerChange(),this.handleColumnResize(),this.columnList=new gA(this.columns),this.columnReorderSubscription=this.columnReorderService.changes.subscribe(this.reorder.bind(this)),this.columnRangeChangeSubscription=this.columnInfoService.columnRangeChange.subscribe(this.onColumnRangeChange.bind(this))}set data(e){this._data=e,this.notifyTimeout&&(clearTimeout(this.notifyTimeout),this.notifyTimeout=null),this.rowReorderable&&this.ngZone.runOutsideAngular(()=>{this.notifyTimeout=setTimeout(()=>{this.notifyReorderContainers()},500)})}get data(){return this._data}get hintText(){return this.rowReorderService.getDefaultHintText(this.columnList,this.flatData)}get skip(){return this._skip}set skip(e){"number"==typeof e&&e>=0&&(this._skip=this.rowReorderService.skip=e)}set sort(e){ZF(e)&&(this._sort=e)}get sort(){return this._sort}set size(e){this._size=e,"none"===e&&this.wrapper.nativeElement.classList.remove("k-grid-sm","k-grid-md"),this.sizingService.changes.next(this.size)}get size(){return this._size}set group(e){ZF(e)&&(this._group=e)}get group(){return this._group}get showStatusBar(){return!!this.selectable}get showTopToolbar(){return this.toolbarTemplate&&["top","both"].indexOf(this.toolbarTemplate.position)>-1}get showBottomToolbar(){return this.toolbarTemplate&&["bottom","both"].indexOf(this.toolbarTemplate.position)>-1}get isLocked(){return this.lockedLeafColumns.length>0}get showTopPager(){return!this.isVirtual&&!1!==this.pageable&&["top","both"].indexOf(this.pageable.position)>-1}get showBottomPager(){return!this.isVirtual&&!1!==this.pageable&&"top"!==this.pageable.position}get hasPager(){return this.showTopPager||this.showBottomPager}get showGroupPanel(){return this.groupable&&!1!==this.groupable.enabled}get groupableEmptyText(){return this.groupable.emptyText}get marqueeSelection(){return this.selectionService.enableMarquee||this.cellSelectionService.enableMarquee}set rowReorderable(e){this._rowReorderable=e,e?this.rowReorderSubscription=this.rowReorderService.rowReorder.subscribe(t=>{this.ngZone.run(()=>{this.rowReorder.emit(t)})}):this.rowReorderSubscription?.unsubscribe()}get rowReorderable(){return this._rowReorderable}set navigable(e){if("boolean"==typeof e)return this._navigable=e?["table","pager","toolbar"]:[],void(this.ctx.navigable=e);this.ctx.navigable=e.includes("table"),this._navigable=e}get navigable(){return this._navigable}set navigatable(e){this.navigable=e}get navigatable(){return this.navigable}set rowClass(e){if((0,s.naY)()&&"function"!=typeof e)throw new Error(Fo_functionType("rowClass",e));this._rowClass=e}get rowClass(){return this._rowClass}set rowSticky(e){if((0,s.naY)()&&xe(e)&&"function"!=typeof e)throw new Error(Fo_functionType("rowSticky",e));xe(e)&&(this._rowSticky=e)}get rowSticky(){return this._rowSticky}set rowSelected(e){if((0,s.naY)()&&"function"!=typeof e)throw new Error(Fo_functionType("rowSelected",e));this._rowSelected=e}get rowSelected(){return this._rowSelected}set cellSelected(e){if((0,s.naY)()&&"function"!=typeof e)throw new Error(Fo_functionType("cellSelected",e));this._cellSelected=e}get cellSelected(){return this._cellSelected}get activeCell(){return this.navigationService.activeCell}get activeRow(){return this.navigationService.activeRow}get selection(){return this.selectable||this.selectionDirective?this.defaultSelection?this.defaultSelection.stateToArray():this.selectionDirective.stateToArray():[]}set loading(e){this._loading=e,this.rowReorderable&&this.notifyReorderContainers()}get loading(){return this._loading}get dir(){return this.direction}get sizeSmallClass(){return"small"===this.size}get sizeMediumClass(){return"medium"===this.size||!this.size}get lockedClasses(){return this.lockedLeafColumns.length>0}get virtualClasses(){return this.isVirtual}get noScrollbarClass(){return 0===this.scrollbarWidth}get detailTemplate(){return this._customDetailTemplate?this._customDetailTemplate:this.detailTemplateChildren?this.detailTemplateChildren.first:void 0}set detailTemplate(e){this._customDetailTemplate=e}get cellLoadingTemplate(){return this._cellLoadingTemplate?this._customDetailTemplate:this.cellLoadingTemplateChildren?this.cellLoadingTemplateChildren.first:void 0}set cellLoadingTemplate(e){this._cellLoadingTemplate=e}get loadingTemplate(){return this._loadingTemplate?this._loadingTemplate:this.loadingTemplateChildren?this.loadingTemplateChildren.first:void 0}set loadingTemplate(e){this._loadingTemplate=e}get statusBarTemplate(){return this._statusBarTemplate?this._statusBarTemplate:this.statusBarTemplateChildren?this.statusBarTemplateChildren.first:void 0}set statusBarTemplate(e){this._statusBarTemplate=e}get noRecordsTemplate(){return this._customNoRecordsTemplate?this._customNoRecordsTemplate:this.noRecordsTemplateChildren?this.noRecordsTemplateChildren.first:void 0}set noRecordsTemplate(e){this._customNoRecordsTemplate=e}get pagerTemplate(){return this._customPagerTemplate?this._customPagerTemplate:this.pagerTemplateChildren?this.pagerTemplateChildren.first:void 0}set pagerTemplate(e){this._customPagerTemplate=e}get toolbarTemplate(){return this._customToolbarTemplate?this._customToolbarTemplate:this.toolbarTemplateChildren?this.toolbarTemplateChildren.first:void 0}set toolbarTemplate(e){this._customToolbarTemplate=e}get scrollbarWidth(){return this.supportService.scrollbarWidth}get headerPadding(){if(R0())return"";const e=Math.max(0,this.scrollbarWidth)+"px";return`0 ${this.rtl?0:e} 0 ${this.rtl?e:0}`}get hasGroupFooters(){return this.columnsContainer.hasGroupFooter}get showFooter(){return this.columnsContainer.hasFooter}get showGroupFooters(){return this.groupable&&this.groupable.showFooter}get ariaRowCount(){return this.totalColumnLevels+1+this.view.total+(bA(this.filterable)?1:0)}get ariaColCount(){return this.columnsContainer.leafColumnsToRender.length}get navigation(){return this.navigationService}get isVirtual(){return"virtual"===this.scrollable}get isScrollable(){return"none"!==this.scrollable}get visibleColumns(){return this.columnsContainer.allColumns}get lockedColumns(){return this.columnsContainer.lockedColumns}get nonLockedColumns(){return this.columnsContainer.nonLockedColumns}get lockedLeafColumns(){return this.columnsContainer.lockedLeafColumns}get stickyColumns(){return this.columns.filter(e=>e.sticky)}get nonLockedLeafColumns(){return this.columnsContainer.nonLockedLeafColumns}get leafColumns(){return this.columnsContainer.leafColumns}get totalColumnLevels(){return this.columnsContainer.totalLevels}get headerColumns(){return this.virtualColumns&&!this.pdfService.exporting?this.viewportColumns:this.nonLockedColumns}get headerLeafColumns(){return this.virtualColumns&&!this.pdfService.exporting?this.leafViewportColumns:this.nonLockedLeafColumns}get lockedWidth(){const e=32*this.group.length;return Pf(this.lockedLeafColumns.toArray()).reduce((t,o)=>t+(o.width||0),e)}get nonLockedWidth(){if(!this.rtl&&this.lockedLeafColumns.length||this.virtualColumns)return this.virtualColumns?this.leafViewportColumns.reduce((e,t)=>e+(t.width||0),0):this.columnsContainer.unlockedWidth}get selectableSettings(){if(this.selectionService)return this.selectionService.options}get columnMenuTemplate(){const e=this.columnMenuTemplates.first;return e?e.templateRef:null}get totalCount(){return this.isVirtual||!xe(this.pageSize)?this.view.total:this.pageSize}getDefaultSelectors(e){return this.rowReorderService.defaultSelectors[e]}getHintSettings(e){return this.rowReorderService[e]}expandRow(e){this.toggleDetailRowLegacy(e,!0)}collapseRow(e){this.toggleDetailRowLegacy(e,!1)}expandGroup(e){this.toggleGroupRowLegacy(e,!0)}collapseGroup(e){this.toggleGroupRowLegacy(e,!1)}resetGroupsState(){this.groupsService.reset()}onDataChange(){this.autoGenerateColumns(),this.changeNotification.notify(),this.pdfService.dataChanged.emit(),xe(this.defaultSelection)&&this.defaultSelection.reset(),this.initSelectionService(),this.updateNavigationMetadata()}ngOnChanges(e){wt("data",e)&&this.onDataChange(),this.lockedLeafColumns.length&&Fi(["pageSize","skip","sort","group"],e)&&this.changeNotification.notify(),Fi(["pageSize","scrollable","virtualColumns"],e)&&this.updateNavigationMetadata(),wt("virtualColumns",e)&&(this.viewportColumns=this.leafViewportColumns=null),wt("height",e,!1)&&this.renderer.setStyle(this.wrapper.nativeElement,"height",`${this.height}px`),wt("filterable",e)&&this.lockedColumns.length&&this.syncHeaderHeight(this.ngZone.onStable.asObservable().pipe(We(1))),Fi(["columnMenu","sortable","filterable"],e,!1)&&(this.columnMenuOptions=this.columnMenu&&Object.assign({filter:!!this.filterable,sort:!!this.sortable},this.columnMenu)),wt("scrollable",e)&&this.isScrollable&&this.ngZone.onStable.pipe(We(1)).subscribe(()=>this.attachScrollSync()),wt("selectable",e)&&this.shouldResetSelection(e.selectable)&&(this.defaultSelection?this.defaultSelection.reset():this.selectionDirective&&this.selectionDirective.reset()),wt("groupable",e,!0)&&(this.groupable=e.groupable.currentValue),wt("navigable",e,!0)&&(this.navigationService.enabled?this.navigationService.setActiveSections(this.navigable):this.navigable.length&&this.navigationService.init(this.navigationMetadata(),this.navigable))}ngAfterViewInit(){this.attachScrollSync(),this.attachElementEventHandlers(),this.updateNavigationMetadata(),this.applyAutoSize()}ngAfterContentChecked(){this.columnsContainer.refresh(),this.verifySettings(),this.initSelectionService()}ngAfterContentInit(){this.shouldGenerateColumns=!this.columns.length,this.autoGenerateColumns(),this.columnList=new gA(this.columns),this.columnsChangeSubscription=this.columns.changes.subscribe(()=>this.verifySettings())}ngOnInit(){this.navigable.length&&this.navigationService.init(this.navigationMetadata(),this.navigable)}ngOnDestroy(){this.selectionSubscription&&this.selectionSubscription.unsubscribe(),this.stateChangeSubscription&&this.stateChangeSubscription.unsubscribe(),this.groupExpandCollapseSubscription&&this.groupExpandCollapseSubscription.unsubscribe(),this.detailsServiceSubscription&&this.detailsServiceSubscription.unsubscribe(),this.editServiceSubscription&&this.editServiceSubscription.unsubscribe(),this.pdfSubscription&&this.pdfSubscription.unsubscribe(),this.filterSubscription&&this.filterSubscription.unsubscribe(),this.sortSubscription&&this.sortSubscription.unsubscribe(),this.columnsChangeSubscription&&this.columnsChangeSubscription.unsubscribe(),this.excelSubscription&&this.excelSubscription.unsubscribe(),this.columnsContainerChangeSubscription&&this.columnsContainerChangeSubscription.unsubscribe(),this.scrollSyncService&&this.scrollSyncService.destroy(),this.detachElementEventHandlers&&this.detachElementEventHandlers(),this.defaultSelection&&this.defaultSelection.destroy(),this.cellClickSubscription&&this.cellClickSubscription.unsubscribe(),this.footerChangeSubscription&&this.footerChangeSubscription.unsubscribe(),this.ngZone=null,this.columnResizingSubscription&&this.columnResizingSubscription.unsubscribe(),this.columnReorderSubscription&&this.columnReorderSubscription.unsubscribe(),this.localizationSubscription&&this.localizationSubscription.unsubscribe(),this.columnVisibilityChangeSubscription&&this.columnVisibilityChangeSubscription.unsubscribe(),this.columnLockedChangeSubscription&&this.columnLockedChangeSubscription.unsubscribe(),this.columnStickyChangeSubscription&&this.columnStickyChangeSubscription.unsubscribe(),this.focusElementSubscription&&this.focusElementSubscription.unsubscribe(),this.rowReorderSubscription&&this.rowReorderSubscription.unsubscribe(),this.columnRangeChangeSubscription.unsubscribe()}attachScrollSync(){R0()||(this.header&&this.scrollSyncService.registerEmitter(this.header.nativeElement,"header"),this.footer&&(this.footerChangeSubscription=e7(this.footer).subscribe(e=>e.map(t=>t.nativeElement).filter(xe).forEach(t=>{this.scrollSyncService.registerEmitter(t,"footer"),t.scrollLeft=this.wrapper.nativeElement.querySelector(".k-grid-content")?.scrollLeft}))))}get ariaLabel(){return this.localization.get("gridLabel")}messageFor(e){return this.localization.get(e)}editRow(e,t,o){if(this.editService.editRow(e,t),xe(o)&&o.skipFocus)return;const r=`tr[data-kendo-grid-item-index="${e}"]`,a=o&&o.columnIndex,l=isNaN(a)?r:`${r} td[data-kendo-grid-column-index="${a}"]`;this.focusEditElement(l)}closeRow(e){this.editService.close(e)}addRow(e){if(!(e instanceof Mh)){const o=Object.keys(e).reduce((i=>(n,e)=>(n[e]=new sl(i[e]),n))(e),{});e=new Mh(o)}this.editService.addRow(e),this.focusEditElement(".k-grid-add-row")}editCell(e,t,o){const r=this.columnInstance(t);this.editService.editCell(e,r,o),this.focusEditElement(".k-grid-edit-cell")}closeCell(){return!this.editService.closeCell()}cancelCell(){this.editService.cancelCell()}isEditing(){return this.editService.isEditing()}isEditingCell(){return this.editService.isEditingCell()}saveAsPDF(){this.pdfService.save(this)}drawPDF(){const e=(()=>{let i,n;const e=new Promise((t,o)=>{i=r=>(t(r),e),n=r=>(o(r),e)});return e.resolve=i,e.reject=n,e})();return this.pdfService.draw(this,e),e}saveAsExcel(){this.excelService.save(this)}autoFitColumn(e){this.columnResizingService.autoFit(e)}autoFitColumns(e=this.columns){let t;t=e instanceof s.rOR?e.toArray():e,this.columnResizingService.autoFit(...t)}notifyPageChange(e,t){"list"===e&&!this.isVirtual||this.pageChange.emit(t)}notifyScrollBottom(){"none"!==this.scrollable&&Te(this.scrollBottom)&&this.ngZone.run(()=>this.scrollBottom.emit({sender:this}))}focusEditElement(e){this.focusElementSubscription&&this.focusElementSubscription.unsubscribe(),this.ngZone.runOutsideAngular(()=>{this.focusElementSubscription=this.ngZone.onStable.asObservable().pipe(We(1)).subscribe(()=>{const t=this.wrapper.nativeElement;!this.setEditFocus(t.querySelector(e))&&this.isLocked&&this.setEditFocus(t.querySelector(`.k-grid-content ${e}`)),this.focusElementSubscription=null})})}focus(){return this.assertNavigable(),this.navigationService.focusCell()}focusCell(e,t){return this.assertNavigable(),this.navigationService.focusCell(e,t)}focusNextCell(e=!0){return this.assertNavigable(),this.navigationService.focusNextCell(e)}focusPrevCell(e=!0){return this.assertNavigable(),this.navigationService.focusPrevCell(e)}scrollTo(e){this.scrollRequestService.scrollTo(e,!1)}scrollToItem(e){this.scrollRequestService.scrollToItem(e)}reorderColumn(e,t,o={before:!1}){let a=P0(this.allColumnsForLevel(e.level))[t];!a||a.isLocked&&!e.isLocked&&1===this.columnsContainer.nonLockedColumns.length||(a7(a)&&!o.before&&(a=a.childColumns.last),this.reorder({before:o.before,source:e,target:a}))}set isDetailExpanded(e){this.detailsService.userCallback=e}get isDetailExpanded(){return this.detailsService.userCallback}set isGroupExpanded(e){this.groupsService.userCallback=e,this.groupable=xe(e)}get isGroupExpanded(){return this.groupsService.userCallback}handleReorderEvents(e,t){this.rowReorderService[t](e)}reorder({target:e,source:t,before:o,changeContainer:r}){this.ngZone.run(()=>{const a=P0(this.allColumnsForLevel(t.level));let l=a.indexOf(e);e.parent&&e.parent.isSpanColumn&&(l=a.indexOf(e.parent),o&&(e=e.parent));const c=a.indexOf(t);r&&(o&&0<l&&c<l?l--:!o&&c>l&&l++);const u=new ske({column:t,oldIndex:c,newIndex:l});this.columnReorder.emit(u),!u.isDefaultPrevented()&&(r&&this.columnLockedChange.emit(new oke([t])),this.updateColumnIndices({columnsForLevel:a,source:t,target:e,before:o}),t.locked!==e.locked&&(t.locked=e.locked),this.columnsContainer.refresh(),this.changeDetectorRef.markForCheck())})}updateColumnIndices({columnsForLevel:e,source:t,target:o,before:r}){const a=Lwe(e),l=a.indexOf(t);let c=0,u=0,f=1;t.isSpanColumn&&(f+=t.childColumns.length);let _=0;for(;_<a.length;){const S=a[_];if(S===o)c=r?u:u+1,u=r?u+f:u,S.orderIndex=u,c===u+1&&(u+=f);else{if(S===t){_+=f;continue}S.orderIndex=u}u++,_++}for(_=l;_<l+f;_++)a[_].orderIndex=c++;this.updateIndicesForLevel(t.level+1)}updateIndicesForLevel(e){const t=this.allColumnsForLevel(e-1),o=[];P0(t).forEach(r=>{r.isColumnGroup&&o.push(...r.childrenArray.sort((a,l)=>a.orderIndex-l.orderIndex))}),Lwe(o).map((r,a)=>r.orderIndex=a),e<this.columnList.totalColumnLevels()&&this.updateIndicesForLevel(e+1)}allColumnsForLevel(e){return this.columnList.toArray().filter(t=>t.level===e)}initSelectionService(){if(!this.selectable)return this.selectionService.ngOnDestroy(),void this.cellSelectionService.ngOnDestroy();!this.selectionDirective&&!xe(this.defaultSelection)&&(this.defaultSelection=new Xwe(this.ctx,this.changeDetectorRef));const e=this.selectable.cell,t=e?this.cellSelectionService:this.selectionService,o=e?this.selectionService:this.cellSelectionService;o.active&&(o.ngOnDestroy(),t.addSubscriptions(),o.active=!1),t.active=!0,t.init({cellSelected:e?this.cellSelected:void 0,rowSelected:e?void 0:this.rowSelected,selectable:this.selectable,view:this.view,columns:e?this.columnList.toArray():void 0}),!this.selectionDirective&&!this.selectableSettings.enabled&&this.defaultSelection.reset(),this.selectionSubscription&&this.selectionSubscription.unsubscribe(),this.selectionSubscription=e?this.cellSelectionService.changes.subscribe(r=>{this.ngZone.run(()=>this.selectionChange.emit(r))}):this.selectionService.changes.subscribe(r=>{this.ngZone.run(()=>this.selectionChange.emit(r))})}setEditFocus(e){if(e)return this.navigationService.tryFocus(e)}columnInstance(e){let t;if(t="number"==typeof e?this.columnsContainer.lockedLeafColumns.toArray().concat(this.columnsContainer.nonLockedLeafColumns.toArray())[e]:"string"==typeof e?this.columnList.filter(o=>o.field===e)[0]:e,!t&&(0,s.naY)())throw new Error((i=>`Invalid column ${i}.`)(e));return t}verifySettings(){if((0,s.naY)()){const e=this.lockedLeafColumns.length||this.columnMenu&&this.columnMenu.lock,t=this.stickyColumns.length||this.columnMenu&&this.columnMenu.stick;if(e&&this.detailTemplate)throw new Error(Fo_incompatibleFeatures("detail template","locked columns"));if(t&&this.detailTemplate)throw new Error(Fo_incompatibleFeatures("detail template","sticky columns"));if(this.lockedLeafColumns.length&&!this.nonLockedLeafColumns.length&&console.warn(Fo_nonLockedColumnPresent),(e||this.virtualColumns)&&Pf(this.columnList.toArray()).filter(o=>!o.width&&!xw(o)).length&&console.warn(Pd_requiredWidth(e?"Locked":"Virtual")),e&&!this.isScrollable&&console.warn(Pd_requiredScroll("Locked")),t&&!this.isScrollable&&console.warn(Pd_requiredScroll("Sticky")),this.virtualColumns&&!this.isScrollable&&console.warn(Pd_requiredScroll("Virtual")),this.columnList.filter(xw).filter(o=>!o.hasChildren).length)throw new Error("ColumnGroupComponent should contain ColumnComponent or CommandColumnComponent.");if(this.columnList.filter(o=>o.locked&&o.parent&&!o.parent.isLocked).length)throw new Error("Locked child columns require their parent columns to be locked.");if((this.rowHeight||this.detailRowHeight)&&!this.isVirtual&&console.warn(Fo_rowHeightVirtual),!this.rowHeight&&this.isVirtual&&console.warn(Fo_rowHeightVirtual),!this.detailRowHeight&&this.isVirtual&&this.detailTemplate&&console.warn(Fo_rowHeightVirtual),t&&Pf(this.columnList.toArray()).filter(o=>!o.width&&!xw(o)).length&&console.warn(Pd_requiredWidth("Sticky")),t&&this.virtualColumns)throw new Error(Fo_incompatibleFeatures("sticky columns","column virtualization"));if(this.rowSticky&&"virtual"===this.scrollable)throw new Error(Fo_incompatibleFeatures("sticky rows",'row virtualization (scrollable="virtual")'));if(this.rowSticky&&this.groupable)throw new Error(Fo_incompatibleFeatures("sticky rows","grouping"));(i=>{Pf(i.toArray()).filter(fA).filter(({field:n})=>!(i=>!nr(i)&&HEt.test(i)&&"."!==i[0]&&"."!==i[i.length-1])(n)).forEach(({field:n})=>console.warn((i=>`Grid column field name '${i}' does not look like a valid JavaScript identifier.\n        Identifiers can contain only alphanumeric characters (including "$" or "_"), and may not start with a digit.\n        Please use only valid identifier names to ensure error-free operation.`)(n)))})(this.columnList)}}autoGenerateColumns(){this.shouldGenerateColumns&&!this.columns.length&&this.view.length&&this.columns.reset(Object.keys(this.view.at(0)).map(e=>{const t=new Oi;return t.field=e,t}))}attachStateChangesEmitter(){this.stateChangeSubscription=Bt(this.pageChange.pipe((0,V.T)(e=>({filter:this.filter,group:this.group,skip:e.skip,sort:this.sort,take:e.take}))),this.sortChange.pipe((0,V.T)(e=>({filter:this.filter,group:this.group,skip:this.skip,sort:e,take:this.pageSize}))),this.groupChange.pipe((0,V.T)(e=>({filter:this.filter,group:e,skip:this.skip,sort:this.sort,take:this.pageSize}))),this.filterChange.pipe((0,V.T)(e=>({filter:e,group:this.group,skip:0,sort:this.sort,take:this.pageSize})))).subscribe(e=>{this.closeCell(),this.cancelCell(),this.dataStateChange.emit(e)})}attachEditHandlers(){this.editService&&(this.editServiceSubscription=this.editService.changes.subscribe(this.emitCRUDEvent.bind(this)))}emitCRUDEvent(e){const{action:t,rowIndex:o,formGroup:r}=e;let a=this.view.at(o-this.skip);switch("add"!==t&&!a&&(a=r.value),this.closeCell(),Object.assign(e,{dataItem:a,sender:this}),t){case"add":this.add.emit(e);break;case"cancel":this.cancel.emit(e);break;case"edit":this.edit.emit(e);break;case"remove":this.remove.emit(e);break;case"save":this.save.emit(e);break;case"cellClose":this.cellClose.emit(e)}}attachDomEventHandlers(){this.cellClickSubscription=this.domEvents.cellClick.subscribe(e=>{this.cellClick.emit(Object.assign({sender:this},e))})}attachElementEventHandlers(){if(R0())return;const e=this.wrapper.nativeElement,t=this.ariaRoot.nativeElement;this.ngZone.runOutsideAngular(()=>{const o=this.resizeCheck.bind(this),r=this.renderer.listen("window","resize",o),a=this.renderer.listen("window","orientationchange",o),l=this.renderer.listen("document","click",b=>{const D=document.activeElement;this.editService.shouldCloseCell()&&!fa(b.target,Nf("k-animation-container k-grid-ignore-click"))&&(!D||!fa(D,Nf("k-animation-container"))&&!oOe(D,this.wrapper.nativeElement))&&this.editService.closeCell(b)}),c=this.renderer.listen("window","blur",b=>{const D=document.activeElement;D&&!(Ba("input")(D)&&"file"===D.type&&oOe(D,this.wrapper.nativeElement))&&this.editService.closeCell(b),this.domEvents.windowBlur.emit(b)}),u=this.renderer.listen(e,"click",b=>{this.domEvents.click.emit(b)}),f=this.renderer.listen(e,"keydown",b=>{this.domEvents.keydown.emit(b)});let _=!1;const S=this.renderer.listen(t,"focusin",b=>{this.domEvents.focus.emit(b),_||(this.domEvents.focusIn.emit(b),_=!0)}),v=this.renderer.listen(t,"focusout",b=>{const D=b.relatedTarget||document.activeElement;!fa(D,O=>O===t)&&(this.domEvents.focusOut.emit(b),_=!1)});this.detachElementEventHandlers=()=>{r(),a(),l(),c(),u(),f(),S(),v()}})}matchesMedia(e){return this.responsiveService.matchesMedia(e.media)}resizeCheck(){if(window.innerWidth!==this.cachedWindowWidth){this.cachedWindowWidth=window.innerWidth;let e=!1;this.columnList.filterHierarchy(t=>{const o=this.matchesMedia(t);return t.matchesMedia!==o&&(e=!0,t.matchesMedia=o),t.isVisible}),e&&this.ngZone.run(()=>{this.changeDetectorRef.markForCheck()})}}emitPDFExportEvent(){const e=new hyt;this.pdfExport.emit(e),e.isDefaultPrevented()||this.saveAsPDF()}syncHeaderHeight(e){return e.pipe(X(()=>xe(this.lockedHeader))).subscribe(()=>Ywe(this.lockedHeader.nativeElement.children[0],this.header.nativeElement.children[0]))}columnsContainerChange(){this.columnsContainerChangeSubscription=this.syncHeaderHeight(this.columnsContainer.changes.pipe(X(()=>this.lockedColumns.length>0),le(()=>this.ngZone.onStable.asObservable().pipe(We(1)))))}handleColumnResize(){const e=this.columnResizingService.changes;this.columnResizingSubscription=e.pipe(F(t=>{"start"===t.type?this.renderer.addClass(this.wrapper.nativeElement,"k-grid-column-resizing"):"end"===t.type&&this.renderer.removeClass(this.wrapper.nativeElement,"k-grid-column-resizing")}),X(t=>"start"===t.type),le(()=>e.pipe(mo(e.pipe(X(t=>"triggerAutoFit"===t.type))),X(t=>"end"===t.type)))).subscribe(this.notifyResize.bind(this))}notifyResize(e){const t=e.resizedColumns.filter(o=>Pc(o.column.resizable)&&!o.column.isColumnGroup).map(o=>({column:o.column,newWidth:o.column.width,oldWidth:o.oldWidth}));this.columnResize.emit(t)}assertNavigable(){if((0,s.naY)()&&!this.navigationService.enabled)throw new Error(Fo_focusNavigable)}navigationMetadata(){const e=this.isVirtual,o=e?this.view.total:this.pageSize,r=this.editService.hasNewItem?1:0,a=bA(this.filterable)?1:0;return new wyt(o,this.totalColumnLevels+1+a+r,e,this.hasPager,xe(this.detailTemplate),this.wrapper,this.virtualColumns,this.columnsContainer)}updateNavigationMetadata(){this.navigationService.metadata=this.navigationMetadata()}applyAutoSize(){const e=this.columns.filter(t=>this.autoSize?!1!==t.autoSize:t.autoSize);e.length>0&&this.ngZone.onStable.pipe(We(1)).subscribe(t=>this.autoFitColumns(e))}onColumnRangeChange(e){const t=this.viewportColumns=[],o=this.columnsContainer.nonLockedLeafColumns.toArray().slice(e.start,e.end+1);for(let r=0;r<o.length;r++){let a=o[r];for(;a.parent;)a=a.parent;const l=[a];for(;l.length;)a=l.shift(),t.push(a),a.isColumnGroup&&l.unshift(...a.childrenArray);const c=t[t.length-1];for(a=o[r];a!==c&&r<o.length;)r++,a=o[r]}if(e.start>0){const r=o[0];let a=e.offset,l=t[0],c=0;for(;l!==r;)a-=l.isColumnGroup?0:l.width,c++,l=t[c];if(a>0){const u=this.columnsContainer.totalLevels;let f;for(let _=0;_<=u;_++){const S=_<u?new gte(f):new Bo(f);f=S,S.title="\xa0",S.width=a,t.unshift(S)}}}this.leafViewportColumns=t.filter(r=>!r.isColumnGroup)}toggleDetailRowLegacy(e,t){const o="function"==typeof this.isDetailExpanded;if((0,s.naY)()&&o)throw new Error(Fo_expandCollapseMethods("expandRow","collapseRow","kendoGridDetailsExpandBy","isDetailExpanded"));!(0,s.naY)()&&o||this.detailsService.isExpanded(e,null)!==t&&this.detailsService.toggleRow(e,null)}toggleGroupRowLegacy(e,t){const o="function"==typeof this.isGroupExpanded;if((0,s.naY)()&&o)throw new Error(Fo_expandCollapseMethods("expandGroup","collapseGroup","kendoGridExpandGroupBy","isGroupExpanded"));!(0,s.naY)()&&o||this.groupsService.isExpanded({groupIndex:e})!==t&&(this.groupsService.toggleRow({index:e},!1),this.ctx.groupBindingDirective&&this.ctx.groupBindingDirective["group"+(t?"Expand":"Collapse")]({groupIndex:e}))}shouldResetSelection(e){const t=e.previousValue;if(!t)return!1;const o=e.currentValue;return!o||!1===o.enabled||t.cell!==o.cell}notifyReorderContainers(){this.dragTargetContainer?.notify(),this.dropTargetContainer?.notify()}get flatData(){return ZF(this.data)?this.data:this.data.data}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(bte),s.rXU(Nw),s.rXU(c7),s.rXU(s.aKT),s.rXU(h7),s.rXU(L0),s.rXU(p7),s.rXU(hA),s.rXU(Vh),s.rXU(ma),s.rXU(vA),s.rXU(Jwe),s.rXU(s.sFG),s.rXU(f7),s.rXU(s.SKi),s.rXU(m7),s.rXU(A0),s.rXU(CA),s.rXU(s.gRc),s.rXU(Rte),s.rXU(ql),s.rXU(Va),s.rXU(S7),s.rXU(s7),s.rXU(z),s.rXU(Fe),s.rXU(xS),s.rXU(Lte))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,Bo,4),s.wni(o,Lw,4),s.wni(o,xte,4),s.wni(o,Nte,4),s.wni(o,Pte,4),s.wni(o,Dte,4),s.wni(o,wte,4),s.wni(o,Ote,4),s.wni(o,o7,4)),2&e){let r;s.mGM(r=s.lsd())&&(t.columns=r),s.mGM(r=s.lsd())&&(t.detailTemplateChildren=r),s.mGM(r=s.lsd())&&(t.cellLoadingTemplateChildren=r),s.mGM(r=s.lsd())&&(t.loadingTemplateChildren=r),s.mGM(r=s.lsd())&&(t.statusBarTemplateChildren=r),s.mGM(r=s.lsd())&&(t.noRecordsTemplateChildren=r),s.mGM(r=s.lsd())&&(t.pagerTemplateChildren=r),s.mGM(r=s.lsd())&&(t.toolbarTemplateChildren=r),s.mGM(r=s.lsd())&&(t.columnMenuTemplates=r)}},viewQuery:function(e,t){if(1&e&&(s.GBs(nbt,5),s.GBs(ibt,5),s.GBs(sbt,7),s.GBs(tq,5),s.GBs(nq,5),s.GBs(obt,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.lockedHeader=o.first),s.mGM(o=s.lsd())&&(t.header=o.first),s.mGM(o=s.lsd())&&(t.ariaRoot=o.first),s.mGM(o=s.lsd())&&(t.dragTargetContainer=o.first),s.mGM(o=s.lsd())&&(t.dropTargetContainer=o.first),s.mGM(o=s.lsd())&&(t.footer=o)}},hostVars:13,hostBindings:function(e,t){2&e&&(s.BMQ("dir",t.dir),s.AVh("k-grid",t.hostClass)("k-grid-sm",t.sizeSmallClass)("k-grid-md",t.sizeMediumClass)("k-grid-lockedcolumns",t.lockedClasses)("k-grid-virtual",t.virtualClasses)("k-grid-no-scrollbar",t.noScrollbarClass))},inputs:{data:"data",pageSize:"pageSize",height:"height",rowHeight:"rowHeight",detailRowHeight:"detailRowHeight",skip:"skip",scrollable:"scrollable",selectable:"selectable",sort:"sort",size:"size",trackBy:"trackBy",filter:"filter",group:"group",virtualColumns:"virtualColumns",filterable:"filterable",sortable:"sortable",pageable:"pageable",groupable:"groupable",rowReorderable:"rowReorderable",navigable:"navigable",navigatable:"navigatable",autoSize:"autoSize",rowClass:"rowClass",rowSticky:"rowSticky",rowSelected:"rowSelected",cellSelected:"cellSelected",resizable:"resizable",reorderable:"reorderable",loading:"loading",columnMenu:"columnMenu",hideHeader:"hideHeader",isDetailExpanded:"isDetailExpanded",isGroupExpanded:"isGroupExpanded"},outputs:{filterChange:"filterChange",pageChange:"pageChange",groupChange:"groupChange",sortChange:"sortChange",selectionChange:"selectionChange",rowReorder:"rowReorder",dataStateChange:"dataStateChange",groupExpand:"groupExpand",groupCollapse:"groupCollapse",detailExpand:"detailExpand",detailCollapse:"detailCollapse",edit:"edit",cancel:"cancel",save:"save",remove:"remove",add:"add",cellClose:"cellClose",cellClick:"cellClick",pdfExport:"pdfExport",excelExport:"excelExport",columnResize:"columnResize",columnReorder:"columnReorder",columnVisibilityChange:"columnVisibilityChange",columnLockedChange:"columnLockedChange",columnStickyChange:"columnStickyChange",scrollBottom:"scrollBottom",contentScroll:"contentScroll"},exportAs:["kendoGrid"],features:[s.Jv_([bte,z,ql,Nw,c7,hA,L0,h7,p7,Vh,vA,kte,{provide:x_,useValue:bEt},{provide:He,useValue:"kendo.grid"},ma,Jwe,Lf,f7,m7,Tte,xf,A0,CA,EA,Ite,_7,g7,Rte,Va,RS,Gc,_A,s7,S7,Fe,xS,Lte,Gte]),s.OA$],decls:16,vars:22,consts:()=>{let n,e,t,o,r,a,l,c,u,f,_,S,v,b,D,k,O,I,x,P,L,H,j,J,te,ce,oe,Le,ue,ye,ie,ee,ae,Se,ve,Me,Lt,Ne,Jt,Ce,Ot,Rt,Mt,as,rn,Hn,Xn,ho,ti,ys,Zc,ed,td,wl,Kd,Ea,Ct,cm,Nv,Y4,J4,q4,Q4,Z4,e6,t6,n6,i6,s6,o6,r6,a6,l6,c6,d6,u6,h6,p6,f6,m6,_6,g6,S6;return n="Trascina l'header di una colonna e rilascialo qui per raggruppare secondo tale colonna",e="Nessun record disponibile.",t="Vai alla prima pagina",o="Vai alla pagina precedente",r="Vai alla prossima pagina",a="Vai all'ultima pagina",l="Pagina",c="di",u="elementi",f="Numero di pagina",_="elementi per pagina",S="Filtro",v="\xC8 uguale a",b="Non \xE8 uguale a",D="\xC8 nullo",k="Non \xE8 nullo",O="\xC8 vuoto",I="Non \xE8 vuoto",x="Inizia con",P="Contiene",L="Non contiene",H="Finisce con",j="\xC8 pi\xF9 grande o uguale a",J="\xC8 pi\xF9 grande di",te="\xC8 pi\xF9 piccolo o uguale a",ce="\xC8 pi\xF9 piccolo o uguale a",oe="\xC8 vero",Le="\xC8 falso",ue="(Tutti)",ye="\xC8 dopo o uguale a",ie="\xC8 dopo",ee="\xC8 prima",ae="\xC8 prima o uguale a",Se="Filtro",ve="Rimuovi",Me="E",Lt="O",Ne="Caricamento",Jt="Tabella dati",Ce="Colonne",Ot="Blocca",Rt="Sblocca",Mt="Imposta la posizione della colonna",as="Fissa",rn="Rilascia",Hn="Ordinabile",Xn="Ordina crescente",ho="Ordina decrescente",ti="Ridimensiona tutte le colonne",ys="Ridimensiona questa colonna",Zc="Non ordinato",ed="Ordinato crescente",td="Ordinato decrescente",wl="Applica",Kd="Reset",Ea="Espandi i dettagli",Ct="Riduci i dettagli",cm="Oggi",Nv="Mostra calendario",Y4="Decrementa",J4="Aumenta",q4="Seleziona la riga",Q4="Seleziona tutte le righe",Z4="Riduci il gruppo",e6="Espandi il gruppo",t6="Seleziona la pagina",n6="Top toolbar",i6="Bottom toolbar",s6="Group panel",o6="Drag row",r6="Filter",a6="General",l6="Columns",c6="Move as previous",d6="Move as next",u6="Page navigation, pagina ",h6="Filtro ",p6="Men\xF9 filtro ",f6="Operatori filtro per ",m6="Filter cell operators for ",_6="Boolean filter cell for ",g6="Filtri logici per ",S6="Men\xF9 colonna ",[["ariaRoot",""],["defaultHint",""],["header",""],["lockedHeader",""],["footer",""],["pagerLabel",u6,"filterInputLabel",h6,"filterMenuTitle",p6,"filterMenuOperatorsDropDownLabel",f6,"filterCellOperatorLabel",m6,"booleanFilterCellLabel",_6,"filterMenuLogicDropDownLabel",g6,"columnMenu",S6],["kendoGridLocalizedMessages","","groupPanelEmpty",n,"noRecords",e,"pagerFirstPage",t,"pagerPreviousPage",o,"pagerNextPage",r,"pagerLastPage",a,"pagerPage",l,"pagerOf",c,"pagerItems",u,"pagerPageNumberInputTitle",f,"pagerItemsPerPage",_,"filter",S,"filterEqOperator",v,"filterNotEqOperator",b,"filterIsNullOperator",D,"filterIsNotNullOperator",k,"filterIsEmptyOperator",O,"filterIsNotEmptyOperator",I,"filterStartsWithOperator",x,"filterContainsOperator",P,"filterNotContainsOperator",L,"filterEndsWithOperator",H,"filterGteOperator",j,"filterGtOperator",J,"filterLteOperator",te,"filterLtOperator",ce,"filterIsTrue",oe,"filterIsFalse",Le,"filterBooleanAll",ue,"filterAfterOrEqualOperator",ye,"filterAfterOperator",ie,"filterBeforeOperator",ee,"filterBeforeOrEqualOperator",ae,"filterFilterButton",Se,"filterClearButton",ve,"filterAndLogic",Me,"filterOrLogic",Lt,"loading",Ne,"gridLabel",Jt,"columns",Ce,"lock",Ot,"unlock",Rt,"setColumnPosition",Mt,"stick",as,"unstick",rn,"sortable",Hn,"sortAscending",Xn,"sortDescending",ho,"autosizeAllColumns",ti,"autosizeThisColumn",ys,"sortedDefault",Zc,"sortedAscending",ed,"sortedDescending",td,"columnsApply",wl,"columnsReset",Kd,"detailExpand",Ea,"detailCollapse",Ct,"filterDateToday",cm,"filterDateToggle",Nv,"filterNumericDecrement",Y4,"filterNumericIncrement",J4,"selectionCheckboxLabel",q4,"selectAllCheckboxLabel",Q4,"groupCollapse",Z4,"groupExpand",e6,"selectPage",t6,"topToolbarLabel",n6,"bottomToolbarLabel",i6,"groupPanelLabel",s6,"dragRowHandleLabel",o6,"columnMenuFilterTabTitle",r6,"columnMenuGeneralTabTitle",a6,"columnMenuColumnsTabTitle",l6,"groupChipMenuPrevious",c6,"groupChipMenuNext",d6,6,"pagerLabel","filterInputLabel","filterMenuTitle","filterMenuOperatorsDropDownLabel","filterCellOperatorLabel","booleanFilterCellLabel","filterMenuLogicDropDownLabel","columnMenu"],["class","k-toolbar k-grid-toolbar","position","top",3,"size","navigable",4,"ngIf"],["class","k-grid-pager-top k-pager",3,"tabindex","template","pageSize","total","skip","size","options","pageChange",4,"ngIf"],["role","toolbar",3,"navigable","text","groups","change",4,"ngIf"],["role","grid",1,"k-grid-aria-root",3,"id"],[4,"ngIf"],["kendoGridLoading","",3,"loadingTemplate",4,"ngIf"],[3,"statusBarTemplate",4,"ngIf"],["class","k-pager",3,"tabindex","template","pageSize","total","skip","size","options","pageChange",4,"ngIf"],["class","k-toolbar k-grid-toolbar k-grid-toolbar-bottom","position","bottom",3,"size","navigable",4,"ngIf"],["kendoWatermarkOverlay","",4,"ngIf"],["position","top",1,"k-toolbar","k-grid-toolbar",3,"size","navigable"],[1,"k-grid-pager-top","k-pager",3,"pageChange","tabindex","template","pageSize","total","skip","size","options"],["role","toolbar",3,"change","navigable","text","groups"],["class","k-grid-header","role","presentation",3,"padding",4,"ngIf"],["kendoDragTargetContainer","","kendoDropTargetContainer","","mode","manual","kendoDraggable","","kendoGridSelectionMarquee","",3,"onPress","onDragStart","onDrag","onDragEnter","onDragLeave","onDragEnd","onDrop","pageChange","scrollBottom","contentScroll","dragDisabled","dropDisabled","dragTargetFilter","dropTargetFilter","dragHandle","hint","dragData","data","rowHeight","detailRowHeight","total","take","groups","groupable","skip","trackBy","columns","selectable","filterable","detailTemplate","noRecordsTemplate","size","rowClass","rowSticky","loading","isVirtual","cellLoadingTemplate","loadingTemplate","virtualColumns","enableDrag","sort"],["class","k-grid-footer",3,"padding",4,"ngIf"],["role","presentation",1,"k-grid-header"],["role","presentation","class","k-grid-header-locked",3,"width",4,"ngIf"],["role","presentation","data-scrollable","",1,"k-grid-header-wrap",3,"kendoGridResizableContainer","lockedWidth"],["role","presentation","kendoGridTable","",1,"k-grid-header-table",3,"virtualColumns","size"],["kendoGridColGroup","",3,"columns","groups","detailTemplate"],["kendoGridHeader","","role","rowgroup",3,"resizable","scrollable","columns","totalColumnLevels","sort","filter","filterable","groupable","reorderable","groups","sortable","columnMenu","columnMenuTemplate","lockedColumnsCount","totalColumnsCount","totalColumns","detailTemplate","tabIndex"],["class","k-width-container","role","presentation",4,"ngIf"],["role","presentation",1,"k-grid-header-locked"],["role","presentation","kendoGridTable","",1,"k-grid-header-table",3,"locked","size"],["kendoGridHeader","","role","rowgroup",3,"resizable","scrollable","columns","totalColumnLevels","sort","groups","filter","filterable","groupable","reorderable","sortable","columnMenu","columnMenuTemplate","totalColumnsCount","totalColumns","detailTemplate","tabIndex"],["role","presentation",1,"k-width-container"],[1,"k-grid-footer"],["class","k-grid-footer-locked",3,"width",4,"ngIf"],["data-scrollable","",1,"k-grid-footer-wrap",3,"kendoGridResizableContainer","lockedWidth"],["role","presentation","kendoGridTable","",1,"k-grid-footer-table",3,"size"],["kendoGridFooter","",3,"logicalRowIndex","scrollable","groups","columns","lockedColumnsCount","detailTemplate","totalColumns"],[1,"k-grid-footer-locked"],["role","presentation","kendoGridTable","",1,"k-grid-footer-table",3,"locked","size"],["kendoGridFooter","",3,"scrollable","groups","columns","detailTemplate","logicalRowIndex","totalColumns"],["kendoGridTable","",3,"size"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","totalColumns","groups","groupable","reorderable","sort","sortable","filter","filterable","columnMenu","columnMenuTemplate","detailTemplate","tabIndex",4,"ngIf"],["kendoGridTableBody","","kendoDraggable","","kendoGridSelectionMarquee","",3,"isLoading","groups","data","skip","columns","selectable","filterable","noRecordsTemplate","detailTemplate","showGroupFooters","trackBy","rowClass","enableDrag"],["kendoGridFooter","",3,"scrollable","logicalRowIndex","groups","columns","detailTemplate","totalColumns",4,"ngIf"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","totalColumns","groups","groupable","reorderable","sort","sortable","filter","filterable","columnMenu","columnMenuTemplate","detailTemplate","tabIndex"],["kendoGridFooter","",3,"scrollable","logicalRowIndex","groups","columns","detailTemplate","totalColumns"],["kendoGridLoading","",3,"loadingTemplate"],[3,"statusBarTemplate"],[1,"k-pager",3,"pageChange","tabindex","template","pageSize","total","skip","size","options"],["position","bottom",1,"k-toolbar","k-grid-toolbar","k-grid-toolbar-bottom",3,"size","navigable"],["innerCssClass","k-drag-status",3,"name","svgIcon"],["kendoWatermarkOverlay",""]]},template:function(e,t){1&e&&(s.qex(0,6),s.ehv(1,5),s.bVm(),s.DNE(2,abt,1,4,"kendo-grid-toolbar",7)(3,lbt,1,8,"kendo-pager",8)(4,cbt,1,5,"kendo-grid-group-panel",9),s.j41(5,"div",10,0),s.DNE(7,mbt,4,35,"ng-container",11)(8,Sbt,6,21,"ng-container",11)(9,vbt,1,1,"div",12),s.k0s(),s.DNE(10,Cbt,1,1,"kendo-grid-status-bar",13)(11,bbt,1,8,"kendo-pager",14)(12,Ebt,1,4,"kendo-grid-toolbar",15)(13,ybt,2,3,"ng-template",null,1,s.C5r)(15,Dbt,1,0,"div",16)),2&e&&(s.uP7("Page navigation, page {currentPage} of {totalPages}")("{columnName} Filter")("{columnName} Filter Menu")("{columnName} Filter Operators")("Filter cell operators for {columnName}")("Boolean filter cell for {columnName}")("{columnName} Filter Logic")("{columnName} Column Menu"),s.nnv(1),s.R7$(2),s.Y8G("ngIf",t.showTopToolbar),s.R7$(),s.Y8G("ngIf",t.showTopPager),s.R7$(),s.Y8G("ngIf",t.showGroupPanel),s.R7$(),s.Y8G("id",t.ariaRootId),s.BMQ("aria-label",t.ariaLabel)("aria-rowcount",t.ariaRowCount)("aria-colcount",t.ariaColCount),s.R7$(2),s.Y8G("ngIf",t.isScrollable),s.R7$(),s.Y8G("ngIf",!t.isScrollable),s.R7$(),s.Y8G("ngIf",t.loading),s.R7$(),s.Y8G("ngIf",t.showStatusBar),s.R7$(),s.Y8G("ngIf",t.showBottomPager),s.R7$(),s.Y8G("ngIf",t.showBottomToolbar),s.R7$(3),s.Y8G("ngIf",t.showLicenseWatermark))},dependencies:[Ute,jte,uke,Xte,zke,eOe,tOe,une,nOe,iOe,Qe,n_,sOe,q,fne,W7,mne,tq,nq,vd,Fwe],encapsulation:2}),i})(),Sne=(()=>{class i{constructor(e){this.grid=e,this.expandedDetailKeysChange=new s.bkB,this.expandedDetailKeys=[],this.initiallyExpanded=!1,this.expandedState=new Set,this.subscriptions=new be.yU,this.grid.isDetailExpanded=this.isExpanded.bind(this),this.subscriptions.add(Bt(this.grid.detailExpand.pipe((0,V.T)(t=>({expand:!0,...t}))),this.grid.detailCollapse.pipe((0,V.T)(t=>({expand:!1,...t})))).subscribe(this.toggleState.bind(this)))}get expandDetailsKey(){return this._expandBy}set expandDetailsKey(e){this._expandBy=qee(e)?lr(e):e}get expandDetailBy(){return this.expandDetailsKey}set expandDetailBy(e){this.expandDetailsKey=e}ngOnChanges(e){xe(e.expandedDetailKeys)&&this.lastExpandedState!==this.expandedDetailKeys&&(this.expandedState=new Set(this.expandedDetailKeys))}ngOnDestroy(){this.subscriptions.unsubscribe()}get keyGetter(){return this._expandBy||lr(void 0)}isExpanded(e){const t=this.keyGetter(e.dataItem),o=this.expandedState.has(t);return this.initiallyExpanded?!o:o}toggleState(e){const t=this.keyGetter(e.dataItem);!!this.initiallyExpanded!==e.expand?this.expandedState.add(t):this.expandedState.delete(t),this.notifyChange()}notifyChange(){this.lastExpandedState=Array.from(this.expandedState),this.expandedDetailKeysChange.emit(this.lastExpandedState)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Wi))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoGridExpandDetailsBy",""]],inputs:{expandDetailsKey:[s.Mj6.None,"kendoGridExpandDetailsBy","expandDetailsKey"],expandDetailBy:"expandDetailBy",expandedDetailKeys:"expandedDetailKeys",initiallyExpanded:"initiallyExpanded"},outputs:{expandedDetailKeysChange:"expandedDetailKeysChange"},exportAs:["kendoGridExpandDetailsBy"],features:[s.OA$]}),i})();const fwt=w7({filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterEqOperator:"eq",filterNotEqOperator:"neq",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty"});let cOe=(()=>{class i extends Bw{constructor(e,t,o,r){super(e),this.ctx=o,this.showOperators=!0,this.size="medium",this.defaultOperators=fwt(this.ctx.localization),this.column=t,this.subs=r.changes.subscribe(a=>this.size=a)}set valueField(e){this._valueField=e}get valueField(){return this._valueField?this._valueField:this.column.field}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:"contains"}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(ma),s.rXU(Oi),s.rXU(Fe),s.rXU(xS))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-autocomplete-filter-cell"]],inputs:{showOperators:"showOperators",column:"column",filter:"filter",data:"data",valueField:"valueField"},features:[s.Vt3],decls:2,vars:8,consts:[[3,"column","filter","operators","showOperators"],["kendoFilterInput","",3,"data","size","valueField","value"]],template:function(e,t){1&e&&(s.j41(0,"kendo-grid-filter-wrapper-cell",0),s.nrm(1,"kendo-autocomplete",1),s.k0s()),2&e&&(s.Y8G("column",t.column)("filter",t.filter)("operators",t.operators)("showOperators",t.showOperators),s.R7$(),s.Y8G("data",t.data)("size",t.size)("valueField",t.valueField)("value",null==t.currentFilter?null:t.currentFilter.value))},dependencies:[Hw,tQ,Gf],encapsulation:2}),i})(),P_=(()=>{class i{static exports(){return[Oi,mte,gte,ate,Lw,Jl,W7]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,xn],wD,No,xn]}),i})();const mwt=[nne,(()=>{class i extends fi{constructor(e){super("contains",e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-filter-contains-operator"]],features:[s.Jv_([{provide:fi,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),(()=>{class i extends fi{constructor(e){super("doesnotcontain",e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-filter-not-contains-operator"]],features:[s.Jv_([{provide:fi,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),(()=>{class i extends fi{constructor(e){super("endswith",e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-filter-endswith-operator"]],features:[s.Jv_([{provide:fi,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),(()=>{class i extends fi{constructor(e){super("eq",e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-filter-eq-operator"]],features:[s.Jv_([{provide:fi,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),(()=>{class i extends fi{constructor(e){super("isempty",e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-filter-isempty-operator"]],features:[s.Jv_([{provide:fi,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),(()=>{class i extends fi{constructor(e){super("isnotempty",e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-filter-isnotempty-operator"]],features:[s.Jv_([{provide:fi,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),(()=>{class i extends fi{constructor(e){super("isnotnull",e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-filter-isnotnull-operator"]],features:[s.Jv_([{provide:fi,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),(()=>{class i extends fi{constructor(e){super("isnull",e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-filter-isnull-operator"]],features:[s.Jv_([{provide:fi,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),(()=>{class i extends fi{constructor(e){super("neq",e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-filter-neq-operator"]],features:[s.Jv_([{provide:fi,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),(()=>{class i extends fi{constructor(e){super("startswith",e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-filter-startswith-operator"]],features:[s.Jv_([{provide:fi,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),(()=>{class i extends fi{constructor(e){super("gt",e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-filter-gt-operator"]],features:[s.Jv_([{provide:fi,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),(()=>{class i extends fi{constructor(e){super("gte",e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-filter-gte-operator"]],features:[s.Jv_([{provide:fi,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),(()=>{class i extends fi{constructor(e){super("lt",e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-filter-lt-operator"]],features:[s.Jv_([{provide:fi,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),(()=>{class i extends fi{constructor(e){super("lte",e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-filter-lte-operator"]],features:[s.Jv_([{provide:fi,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),(()=>{class i extends fi{constructor(e){super("after",e)}toJSON(){return{text:this.text,value:"gt"}}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-filter-after-operator"]],features:[s.Jv_([{provide:fi,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),(()=>{class i extends fi{constructor(e){super("after-eq",e)}toJSON(){return{text:this.text,value:"gte"}}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-filter-after-eq-operator"]],features:[s.Jv_([{provide:fi,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),(()=>{class i extends fi{constructor(e){super("before-eq",e)}toJSON(){return{text:this.text,value:"lte"}}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-filter-before-eq-operator"]],features:[s.Jv_([{provide:fi,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),(()=>{class i extends fi{constructor(e){super("before",e)}toJSON(){return{text:this.text,value:"lt"}}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-filter-before-operator"]],features:[s.Jv_([{provide:fi,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})()],_wt=[Ge,eS,Z1,cQ,lQ,jI,bR,ia,P_,cr];let $w=(()=>{class i{static exports(){return[...mwt]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[..._wt],Ge,eS,Z1,cQ,lQ,jI,bR,ia,P_,cr]}),i})(),vne=(()=>{class i{static exports(){return[sne,ine,fte,nne,TA,B7,cOe,V7,z7,$w.exports()]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[$w],$w]}),i})();const gwt=[Ge,jI,uQ,cr,Q5,Mr,P_];let dOe=(()=>{class i{static exports(){return[jte,Bte,Hte,E7,zte,C7,b7,wte,Fte,Vte]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[...gwt]]}),i})(),uOe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({}),i})(),Y7=(()=>{class i{static exports(){return[ute,hte,pte]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,P_,uOe,__e,ia]]}),i})(),J7=(()=>{class i{static exports(){return[kA,N_,T7,M7,R7,Vw,I7,$w.exports()]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[$w],$w]}),i})(),hOe=(()=>{class i{constructor(e,t,o,r,a,l){this.ctx=e,this.columnInfoService=t,this.popupService=o,this.ngZone=r,this.renderer=a,this.changeDetector=l,this.columnsIcon=N3,this.autoSync=!1,this.allowHideAll=!0}get columns(){return this.columnInfoService.leafNamedColumns}ngOnDestroy(){this.close()}toggle(e,t){if(this.popupRef)this.close();else{const o=this.ctx.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:e.element,content:t,positionMode:"absolute",anchorAlign:{vertical:"bottom",horizontal:o},popupAlign:{vertical:"top",horizontal:o}});const r=this.popupRef?.popupElement;if(r){const a=`k-${tn()}`,l=r.querySelector(".k-popup");this.ngZone.runOutsideAngular(()=>{this.escapeListener=this.renderer.listen(l,"keydown",c=>{c.keyCode===G.Escape&&this.close(!0)})}),this.renderer.setAttribute(r,"dir",this.ctx.localization.rtl?"rtl":"ltr"),this.renderer.setAttribute(l,"id",a),this.renderer.setAttribute(l,"role","dialog"),this.popupId=a}if(!ne())return;this.ngZone.runOutsideAngular(()=>this.closeClick=this.renderer.listen("document","click",({target:a})=>{fa(a,l=>l===this.popupRef.popupElement||l===e.element)||this.ngZone.run(()=>{this.close()})}))}}onApply(e){this.close(!0),e.length&&(this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e))}onChange(e){this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e)}onShiftTab(e){e.target.matches(".k-column-list-item")&&(e.preventDefault(),this.columnList.resetButton.nativeElement.focus())}close(e=!1){this.popupRef&&(this.popupRef.close(),this.popupRef=null,this.changeDetector.markForCheck(),this.escapeListener&&this.escapeListener()),this.detachClose(),e&&this.anchor.element.focus()}detachClose(){this.closeClick&&(this.closeClick(),this.closeClick=null)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Fe),s.rXU(ql),s.rXU(Ts),s.rXU(s.SKi),s.rXU(s.sFG),s.rXU(s.gRc))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-column-chooser"]],viewQuery:function(e,t){if(1&e&&(s.GBs(Jee,5),s.GBs(wbt,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.anchor=o.first),s.mGM(o=s.lsd())&&(t.columnList=o.first)}},inputs:{autoSync:"autoSync",allowHideAll:"allowHideAll"},decls:4,vars:5,consts:[["anchor",""],["template",""],["columnList",""],["kendoButton","","type","button","fillMode","flat","icon","columns",3,"click","svgIcon"],[1,"k-column-chooser-title"],[3,"apply","columnChange","keydown.shift.tab","columns","ariaLabel","isLast","applyText","resetText","autoSync","allowHideAll"]],template:function(e,t){if(1&e){const o=s.RV6();s.j41(0,"button",3,0),s.bIt("click",function(){s.eBV(o);const a=s.sdS(1),l=s.sdS(3);return s.Njj(t.toggle(a,l))}),s.k0s(),s.DNE(2,kbt,4,8,"ng-template",null,1,s.C5r)}2&e&&(s.Y8G("svgIcon",t.columnsIcon),s.BMQ("title",t.ctx.localization.get("columns"))("aria-haspopup","dialog")("aria-expanded",!!t.popupRef)("aria-controls",t.popupRef?t.popupId:void 0))},dependencies:[Ht,P7],encapsulation:2}),i})(),Cne=(()=>{class i{static exports(){return[hOe,OA,Uf,zw,Zte,x7,N7,L7,G7,o7,Qte,U7,F7,ene,tne]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,J7,cr,Gbe]]}),i})();const Swt=[Ge,Y7,vne,J7,P_,uOe,Cne];let pOe=(()=>{class i{static exports(){return[rte,one]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[...Swt]]}),i})(),fOe=(()=>{class i extends Bo{constructor(e,t){super(e,t),this.parent=e,this.isCheckboxColumn=!0}get templateRef(){return this.template?this.template.templateRef:void 0}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Bo,13),s.rXU(Gc,8))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-checkbox-column"]],contentQueries:function(e,t,o){if(1&e&&s.wni(o,Us,5),2&e){let r;s.mGM(r=s.lsd())&&(t.template=r.first)}},inputs:{showSelectAll:"showSelectAll"},features:[s.Jv_([{provide:Bo,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),mOe=(()=>{class i extends Ht{constructor(e,t,o,r,a,l){super(o,r,null,a.localization,l),this.editService=e,this.cellContext=t,this.commandClass=!0}get visible(){return this.isEdited?"none":""}onClick(e){e.preventDefault(),this.editService.beginEdit(this.rowIndex)}ngDoCheck(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Vh),s.rXU(x_),s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(Fe),s.rXU(s.SKi))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoGridEditCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&s.bIt("click",function(r){return t.onClick(r)}),2&e&&(s.xc7("display",t.visible),s.AVh("k-grid-edit-command",t.commandClass))},features:[s.Vt3],attrs:Obt,ngContentSelectors:Rf,decls:5,vars:3,consts:[["innerCssClass","k-button-icon",3,"name","svgIcon",4,"ngIf"],["class","k-button-icon k-icon",4,"ngIf"],["class","k-button-icon",3,"ngClass",4,"ngIf"],[1,"k-button-text"],["innerCssClass","k-button-icon",3,"name","svgIcon"],[1,"k-button-icon","k-icon"],["role","presentation",1,"k-image",3,"src"],[1,"k-button-icon",3,"ngClass"]],template:function(e,t){1&e&&(s.NAR(),s.DNE(0,Tbt,1,2,"kendo-icon-wrapper",0)(1,Mbt,2,1,"span",1)(2,Ibt,1,1,"span",2),s.j41(3,"span",3),s.SdG(4),s.k0s()),2&e&&(s.Y8G("ngIf",t.icon||t.svgIcon),s.R7$(),s.Y8G("ngIf",t.imageUrl),s.R7$(),s.Y8G("ngIf",t.iconClass))},dependencies:[Qe,q,Be],encapsulation:2}),i})(),_Oe=(()=>{class i extends Ht{constructor(e,t,o,r,a,l){super(o,r,null,a.localization,l),this.editService=e,this.cellContext=t,this.commandClass=!0}get visible(){return this.isEdited?"":"none"}onClick(e){e.preventDefault(),this.isEdited&&this.editService.endEdit(this.rowIndex)}ngDoCheck(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Vh),s.rXU(x_),s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(Fe),s.rXU(s.SKi))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoGridCancelCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&s.bIt("click",function(r){return t.onClick(r)}),2&e&&(s.xc7("display",t.visible),s.AVh("k-grid-cancel-command",t.commandClass))},features:[s.Vt3],attrs:Rbt,ngContentSelectors:Rf,decls:5,vars:3,consts:[["innerCssClass","k-button-icon",3,"name","svgIcon",4,"ngIf"],["class","k-button-icon k-icon",4,"ngIf"],["class","k-button-icon",3,"ngClass",4,"ngIf"],[1,"k-button-text"],["innerCssClass","k-button-icon",3,"name","svgIcon"],[1,"k-button-icon","k-icon"],["role","presentation",1,"k-image",3,"src"],[1,"k-button-icon",3,"ngClass"]],template:function(e,t){1&e&&(s.NAR(),s.DNE(0,Abt,1,2,"kendo-icon-wrapper",0)(1,xbt,2,1,"span",1)(2,Nbt,1,1,"span",2),s.j41(3,"span",3),s.SdG(4),s.k0s()),2&e&&(s.Y8G("ngIf",t.icon||t.svgIcon),s.R7$(),s.Y8G("ngIf",t.imageUrl),s.R7$(),s.Y8G("ngIf",t.iconClass))},dependencies:[Qe,q,Be],encapsulation:2}),i})(),gOe=(()=>{class i extends Ht{constructor(e,t,o,r,a,l){super(o,r,null,a.localization,l),this.editService=e,this.cellContext=t,this.commandClass=!0}get visible(){return this.isEdited?"":"none"}onClick(e){e.preventDefault(),this.isEdited&&this.editService.save(this.rowIndex)}ngDoCheck(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Vh),s.rXU(x_),s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(Fe),s.rXU(s.SKi))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoGridSaveCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&s.bIt("click",function(r){return t.onClick(r)}),2&e&&(s.xc7("display",t.visible),s.AVh("k-grid-save-command",t.commandClass))},features:[s.Vt3],attrs:Lbt,ngContentSelectors:Rf,decls:5,vars:3,consts:[["innerCssClass","k-button-icon",3,"name","svgIcon",4,"ngIf"],["class","k-button-icon k-icon",4,"ngIf"],["class","k-button-icon",3,"ngClass",4,"ngIf"],[1,"k-button-text"],["innerCssClass","k-button-icon",3,"name","svgIcon"],[1,"k-button-icon","k-icon"],["role","presentation",1,"k-image",3,"src"],[1,"k-button-icon",3,"ngClass"]],template:function(e,t){1&e&&(s.NAR(),s.DNE(0,Pbt,1,2,"kendo-icon-wrapper",0)(1,Gbt,2,1,"span",1)(2,Ubt,1,1,"span",2),s.j41(3,"span",3),s.SdG(4),s.k0s()),2&e&&(s.Y8G("ngIf",t.icon||t.svgIcon),s.R7$(),s.Y8G("ngIf",t.imageUrl),s.R7$(),s.Y8G("ngIf",t.iconClass))},dependencies:[Qe,q,Be],encapsulation:2}),i})(),SOe=(()=>{class i extends Ht{constructor(e,t,o,r,a,l){super(o,r,null,a.localization,l),this.editService=e,this.cellContext=t,this.commandClass=!0}get visible(){return this.isEdited?"none":""}onClick(e){e.preventDefault(),this.editService.remove(this.rowIndex)}ngDoCheck(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Vh),s.rXU(x_),s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(Fe),s.rXU(s.SKi))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoGridRemoveCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&s.bIt("click",function(r){return t.onClick(r)}),2&e&&(s.xc7("display",t.visible),s.AVh("k-grid-remove-command",t.commandClass))},features:[s.Vt3],attrs:Fbt,ngContentSelectors:Rf,decls:5,vars:3,consts:[["innerCssClass","k-button-icon",3,"name","svgIcon",4,"ngIf"],["class","k-button-icon k-icon",4,"ngIf"],["class","k-button-icon",3,"ngClass",4,"ngIf"],[1,"k-button-text"],["innerCssClass","k-button-icon",3,"name","svgIcon"],[1,"k-button-icon","k-icon"],["role","presentation",1,"k-image",3,"src"],[1,"k-button-icon",3,"ngClass"]],template:function(e,t){1&e&&(s.NAR(),s.DNE(0,Bbt,1,2,"kendo-icon-wrapper",0)(1,Vbt,2,1,"span",1)(2,zbt,1,1,"span",2),s.j41(3,"span",3),s.SdG(4),s.k0s()),2&e&&(s.Y8G("ngIf",t.icon||t.svgIcon),s.R7$(),s.Y8G("ngIf",t.imageUrl),s.R7$(),s.Y8G("ngIf",t.iconClass))},dependencies:[Qe,q,Be],encapsulation:2}),i})(),vOe=(()=>{class i extends Ht{constructor(e,t,o,r,a){super(t,o,null,r.localization,a),this.editService=e}onClick(e){e.preventDefault(),this.editService.beginAdd()}get commandClass(){return!0}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Vh),s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(Fe),s.rXU(s.SKi))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoGridAddCommand",""]],hostVars:2,hostBindings:function(e,t){1&e&&s.bIt("click",function(r){return t.onClick(r)}),2&e&&s.AVh("k-grid-add-command",t.commandClass)},features:[s.Vt3],attrs:Hbt,ngContentSelectors:Rf,decls:5,vars:3,consts:[["innerCssClass","k-button-icon",3,"name","svgIcon",4,"ngIf"],["class","k-button-icon k-icon",4,"ngIf"],["class","k-button-icon",3,"ngClass",4,"ngIf"],[1,"k-button-text"],["innerCssClass","k-button-icon",3,"name","svgIcon"],[1,"k-button-icon","k-icon"],["role","presentation",1,"k-image",3,"src"],[1,"k-button-icon",3,"ngClass"]],template:function(e,t){1&e&&(s.NAR(),s.DNE(0,jbt,1,2,"kendo-icon-wrapper",0)(1,$bt,2,1,"span",1)(2,Xbt,1,1,"span",2),s.j41(3,"span",3),s.SdG(4),s.k0s()),2&e&&(s.Y8G("ngIf",t.icon||t.svgIcon),s.R7$(),s.Y8G("ngIf",t.imageUrl),s.R7$(),s.Y8G("ngIf",t.iconClass))},dependencies:[Qe,q,Be],encapsulation:2}),i})(),COe=(()=>{class i extends Bo{constructor(e,t){super(e,t),this.parent=e,this.isRowReorderColumn=!0}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Bo,13),s.rXU(Gc,8))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-grid-rowreorder-column"]],inputs:{dragHandleIcon:"dragHandleIcon",dragHandleSVGIcon:"dragHandleSVGIcon"},features:[s.Jv_([{provide:Bo,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})();const vwt=[Ge,eS,Z1,P_,Y7,FD,bR,Mr];let bOe=(()=>{class i{static exports(){return[lne,fOe,cne,Us,Dte,r7,mOe,_Oe,gOe,SOe,vOe,xte,Nte,COe]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[...vwt]]}),i})();const Cwt=[Ge,P_];let EOe=(()=>{class i{static exports(){return[]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[...Cwt]]}),i})();Y7.exports(),P_.exports(),bOe.exports(),pOe.exports(),EOe.exports(),dOe.exports(),vne.exports(),J7.exports(),Cne.exports();let kwt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,Y7,P_,bOe,pOe,EOe,dOe,vne,J7,Mr,Cne,k$e,i_]]}),i})();Ba("KENDO-GRID-LIST"),Ba("TABLE");let Lwt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[xn]]}),i})(),Bwt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[xn],YSt]}),i})();class U0 extends Error{}class Vwt extends U0{constructor(n){super(`Invalid DateTime: ${n.toMessage()}`)}}class zwt extends U0{constructor(n){super(`Invalid Interval: ${n.toMessage()}`)}}class Hwt extends U0{constructor(n){super(`Invalid Duration: ${n.toMessage()}`)}}class Xw extends U0{}class XOe extends U0{constructor(n){super(`Invalid unit ${n}`)}}class Uc extends U0{}class LS extends U0{constructor(){super("Zone is an abstract class")}}const ct="numeric",zh="short",Gd="long",Z7={year:ct,month:ct,day:ct},WOe={year:ct,month:zh,day:ct},jwt={year:ct,month:zh,day:ct,weekday:zh},KOe={year:ct,month:Gd,day:ct},YOe={year:ct,month:Gd,day:ct,weekday:Gd},JOe={hour:ct,minute:ct},qOe={hour:ct,minute:ct,second:ct},QOe={hour:ct,minute:ct,second:ct,timeZoneName:zh},ZOe={hour:ct,minute:ct,second:ct,timeZoneName:Gd},eTe={hour:ct,minute:ct,hourCycle:"h23"},tTe={hour:ct,minute:ct,second:ct,hourCycle:"h23"},nTe={hour:ct,minute:ct,second:ct,hourCycle:"h23",timeZoneName:zh},iTe={hour:ct,minute:ct,second:ct,hourCycle:"h23",timeZoneName:Gd},sTe={year:ct,month:ct,day:ct,hour:ct,minute:ct},oTe={year:ct,month:ct,day:ct,hour:ct,minute:ct,second:ct},rTe={year:ct,month:zh,day:ct,hour:ct,minute:ct},aTe={year:ct,month:zh,day:ct,hour:ct,minute:ct,second:ct},$wt={year:ct,month:zh,day:ct,weekday:zh,hour:ct,minute:ct},lTe={year:ct,month:Gd,day:ct,hour:ct,minute:ct,timeZoneName:zh},cTe={year:ct,month:Gd,day:ct,hour:ct,minute:ct,second:ct,timeZoneName:zh},dTe={year:ct,month:Gd,day:ct,weekday:Gd,hour:ct,minute:ct,timeZoneName:Gd},uTe={year:ct,month:Gd,day:ct,weekday:Gd,hour:ct,minute:ct,second:ct,timeZoneName:Gd};class IA{get type(){throw new LS}get name(){throw new LS}get ianaName(){return this.name}get isUniversal(){throw new LS}offsetName(n,e){throw new LS}formatOffset(n,e){throw new LS}offset(n){throw new LS}equals(n){throw new LS}get isValid(){throw new LS}}let Tne=null;class eB extends IA{static get instance(){return null===Tne&&(Tne=new eB),Tne}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(n,{format:e,locale:t}){return LTe(n,e,t)}formatOffset(n,e){return NA(this.offset(n),e)}offset(n){return-new Date(n).getTimezoneOffset()}equals(n){return"system"===n.type}get isValid(){return!0}}let tB={};const Wwt={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let nB={};class G_ extends IA{static create(n){return nB[n]||(nB[n]=new G_(n)),nB[n]}static resetCache(){nB={},tB={}}static isValidSpecifier(n){return this.isValidZone(n)}static isValidZone(n){if(!n)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:n}).format(),!0}catch{return!1}}constructor(n){super(),this.zoneName=n,this.valid=G_.isValidZone(n)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(n,{format:e,locale:t}){return LTe(n,e,t,this.name)}formatOffset(n,e){return NA(this.offset(n),e)}offset(n){const e=new Date(n);if(isNaN(e))return NaN;const t=function Xwt(i){return tB[i]||(tB[i]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:i,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),tB[i]}(this.name);let[o,r,a,l,c,u,f]=t.formatToParts?function Ywt(i,n){const e=i.formatToParts(n),t=[];for(let o=0;o<e.length;o++){const{type:r,value:a}=e[o],l=Wwt[r];"era"===r?t[l]=a:Gn(l)||(t[l]=parseInt(a,10))}return t}(t,e):function Kwt(i,n){const e=i.format(n).replace(/\u200E/g,""),t=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(e),[,o,r,a,l,c,u,f]=t;return[a,o,r,l,c,u,f]}(t,e);"BC"===l&&(o=1-Math.abs(o));let v=+e;const b=v%1e3;return v-=b>=0?b:1e3+b,(aB({year:o,month:r,day:a,hour:24===c?0:c,minute:u,second:f,millisecond:0})-v)/6e4}equals(n){return"iana"===n.type&&n.name===this.name}get isValid(){return this.valid}}let hTe={},Mne={};function Ine(i,n={}){const e=JSON.stringify([i,n]);let t=Mne[e];return t||(t=new Intl.DateTimeFormat(i,n),Mne[e]=t),t}let Rne={},Ane={},RA=null,pTe={};function iB(i,n,e,t){const o=i.listingMode();return"error"===o?null:"en"===o?e(n):t(n)}class rkt{constructor(n,e,t){this.padTo=t.padTo||0,this.floor=t.floor||!1;const{padTo:o,floor:r,...a}=t;if(!e||Object.keys(a).length>0){const l={useGrouping:!1,...t};t.padTo>0&&(l.minimumIntegerDigits=t.padTo),this.inf=function qwt(i,n={}){const e=JSON.stringify([i,n]);let t=Rne[e];return t||(t=new Intl.NumberFormat(i,n),Rne[e]=t),t}(n,l)}}format(n){if(this.inf){const e=this.floor?Math.floor(n):n;return this.inf.format(e)}return Ar(this.floor?Math.floor(n):Fne(n,3),this.padTo)}}class akt{constructor(n,e,t){let o;if(this.opts=t,this.originalZone=void 0,this.opts.timeZone)this.dt=n;else if("fixed"===n.zone.type){const a=n.offset/60*-1,l=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;0!==n.offset&&G_.create(l).valid?(o=l,this.dt=n):(o="UTC",this.dt=0===n.offset?n:n.setZone("UTC").plus({minutes:n.offset}),this.originalZone=n.zone)}else"system"===n.zone.type?this.dt=n:"iana"===n.zone.type?(this.dt=n,o=n.zone.name):(o="UTC",this.dt=n.setZone("UTC").plus({minutes:n.offset}),this.originalZone=n.zone);const r={...this.opts};r.timeZone=r.timeZone||o,this.dtf=Ine(e,r)}format(){return this.originalZone?this.formatToParts().map(({value:n})=>n).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const n=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?n.map(e=>{if("timeZoneName"===e.type){const t=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:t}}return e}):n}resolvedOptions(){return this.dtf.resolvedOptions()}}class lkt{constructor(n,e,t){this.opts={style:"long",...t},!e&&RTe()&&(this.rtf=function Qwt(i,n={}){const{base:e,...t}=n,o=JSON.stringify([i,t]);let r=Ane[o];return r||(r=new Intl.RelativeTimeFormat(i,n),Ane[o]=r),r}(n,t))}format(n,e){return this.rtf?this.rtf.format(n,e):function Tkt(i,n,e="always",t=!1){const o={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},r=-1===["hours","minutes","seconds"].indexOf(i);if("auto"===e&&r){const _="days"===i;switch(n){case 1:return _?"tomorrow":`next ${o[i][0]}`;case-1:return _?"yesterday":`last ${o[i][0]}`;case 0:return _?"today":`this ${o[i][0]}`}}const a=Object.is(n,-0)||n<0,l=Math.abs(n),c=1===l,u=o[i],f=t?c?u[1]:u[2]||u[1]:c?o[i][0]:i;return a?`${l} ${f} ago`:`in ${l} ${f}`}(e,n,this.opts.numeric,"long"!==this.opts.style)}formatToParts(n,e){return this.rtf?this.rtf.formatToParts(n,e):[]}}const ckt={firstDay:1,minimalDays:4,weekend:[6,7]};class Rs{static fromOpts(n){return Rs.create(n.locale,n.numberingSystem,n.outputCalendar,n.weekSettings,n.defaultToEN)}static create(n,e,t,o,r=!1){const a=n||ur.defaultLocale,l=a||(r?"en-US":function Zwt(){return RA||(RA=(new Intl.DateTimeFormat).resolvedOptions().locale,RA)}()),c=e||ur.defaultNumberingSystem,u=t||ur.defaultOutputCalendar,f=Gne(o)||ur.defaultWeekSettings;return new Rs(l,c,u,f,a)}static resetCache(){RA=null,Mne={},Rne={},Ane={}}static fromObject({locale:n,numberingSystem:e,outputCalendar:t,weekSettings:o}={}){return Rs.create(n,e,t,o)}constructor(n,e,t,o,r){const[a,l,c]=function tkt(i){const n=i.indexOf("-x-");-1!==n&&(i=i.substring(0,n));const e=i.indexOf("-u-");if(-1===e)return[i];{let t,o;try{t=Ine(i).resolvedOptions(),o=i}catch{const c=i.substring(0,e);t=Ine(c).resolvedOptions(),o=c}const{numberingSystem:r,calendar:a}=t;return[o,r,a]}}(n);this.locale=a,this.numberingSystem=e||l||null,this.outputCalendar=t||c||null,this.weekSettings=o,this.intl=function nkt(i,n,e){return(e||n)&&(i.includes("-u-")||(i+="-u"),e&&(i+=`-ca-${e}`),n&&(i+=`-nu-${n}`)),i}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function okt(i){return(!i.numberingSystem||"latn"===i.numberingSystem)&&("latn"===i.numberingSystem||!i.locale||i.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(i.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(n){return n&&0!==Object.getOwnPropertyNames(n).length?Rs.create(n.locale||this.specifiedLocale,n.numberingSystem||this.numberingSystem,n.outputCalendar||this.outputCalendar,Gne(n.weekSettings)||this.weekSettings,n.defaultToEN||!1):this}redefaultToEN(n={}){return this.clone({...n,defaultToEN:!0})}redefaultToSystem(n={}){return this.clone({...n,defaultToEN:!1})}months(n,e=!1){return iB(this,n,UTe,()=>{const t=e?{month:n,day:"numeric"}:{month:n},o=e?"format":"standalone";return this.monthsCache[o][n]||(this.monthsCache[o][n]=function ikt(i){const n=[];for(let e=1;e<=12;e++){const t=In.utc(2009,e,1);n.push(i(t))}return n}(r=>this.extract(r,t,"month"))),this.monthsCache[o][n]})}weekdays(n,e=!1){return iB(this,n,VTe,()=>{const t=e?{weekday:n,year:"numeric",month:"long",day:"numeric"}:{weekday:n},o=e?"format":"standalone";return this.weekdaysCache[o][n]||(this.weekdaysCache[o][n]=function skt(i){const n=[];for(let e=1;e<=7;e++){const t=In.utc(2016,11,13+e);n.push(i(t))}return n}(r=>this.extract(r,t,"weekday"))),this.weekdaysCache[o][n]})}meridiems(){return iB(this,void 0,()=>zTe,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[In.utc(2016,11,13,9),In.utc(2016,11,13,19)].map(e=>this.extract(e,n,"dayperiod"))}return this.meridiemCache})}eras(n){return iB(this,n,HTe,()=>{const e={era:n};return this.eraCache[n]||(this.eraCache[n]=[In.utc(-40,1,1),In.utc(2017,1,1)].map(t=>this.extract(t,e,"era"))),this.eraCache[n]})}extract(n,e,t){const a=this.dtFormatter(n,e).formatToParts().find(l=>l.type.toLowerCase()===t);return a?a.value:null}numberFormatter(n={}){return new rkt(this.intl,n.forceSimple||this.fastNumbers,n)}dtFormatter(n,e={}){return new akt(n,this.intl,e)}relFormatter(n={}){return new lkt(this.intl,this.isEnglish(),n)}listFormatter(n={}){return function Jwt(i,n={}){const e=JSON.stringify([i,n]);let t=hTe[e];return t||(t=new Intl.ListFormat(i,n),hTe[e]=t),t}(this.intl,n)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:ATe()?function ekt(i){let n=pTe[i];if(!n){const e=new Intl.Locale(i);n="getWeekInfo"in e?e.getWeekInfo():e.weekInfo,pTe[i]=n}return n}(this.locale):ckt}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(n){return this.locale===n.locale&&this.numberingSystem===n.numberingSystem&&this.outputCalendar===n.outputCalendar}}let xne=null;class Ql extends IA{static get utcInstance(){return null===xne&&(xne=new Ql(0)),xne}static instance(n){return 0===n?Ql.utcInstance:new Ql(n)}static parseSpecifier(n){if(n){const e=n.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(e)return new Ql(lB(e[1],e[2]))}return null}constructor(n){super(),this.fixed=n}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${NA(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${NA(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(n,e){return NA(this.fixed,e)}get isUniversal(){return!0}offset(){return this.fixed}equals(n){return"fixed"===n.type&&n.fixed===this.fixed}get isValid(){return!0}}class dkt extends IA{constructor(n){super(),this.zoneName=n}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function PS(i,n){if(Gn(i)||null===i)return n;if(i instanceof IA)return i;if(function pkt(i){return"string"==typeof i}(i)){const t=i.toLowerCase();return"default"===t?n:"local"===t||"system"===t?eB.instance:"utc"===t||"gmt"===t?Ql.utcInstance:Ql.parseSpecifier(t)||G_.create(i)}return F0(i)?Ql.instance(i):"object"==typeof i&&"offset"in i&&"function"==typeof i.offset?i:new dkt(i)}let CTe,fTe=()=>Date.now(),mTe="system",_Te=null,gTe=null,STe=null,vTe=60,bTe=null;class ur{static get now(){return fTe}static set now(n){fTe=n}static set defaultZone(n){mTe=n}static get defaultZone(){return PS(mTe,eB.instance)}static get defaultLocale(){return _Te}static set defaultLocale(n){_Te=n}static get defaultNumberingSystem(){return gTe}static set defaultNumberingSystem(n){gTe=n}static get defaultOutputCalendar(){return STe}static set defaultOutputCalendar(n){STe=n}static get defaultWeekSettings(){return bTe}static set defaultWeekSettings(n){bTe=Gne(n)}static get twoDigitCutoffYear(){return vTe}static set twoDigitCutoffYear(n){vTe=n%100}static get throwOnInvalid(){return CTe}static set throwOnInvalid(n){CTe=n}static resetCaches(){Rs.resetCache(),G_.resetCache()}}class Hh{constructor(n,e){this.reason=n,this.explanation=e}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const ETe=[0,31,59,90,120,151,181,212,243,273,304,334],yTe=[0,31,60,91,121,152,182,213,244,274,305,335];function Uu(i,n){return new Hh("unit out of range",`you specified ${n} (of type ${typeof n}) as a ${i}, which is invalid`)}function Nne(i,n,e){const t=new Date(Date.UTC(i,n-1,e));i<100&&i>=0&&t.setUTCFullYear(t.getUTCFullYear()-1900);const o=t.getUTCDay();return 0===o?7:o}function DTe(i,n,e){return e+(AA(i)?yTe:ETe)[n-1]}function wTe(i,n){const e=AA(i)?yTe:ETe,t=e.findIndex(r=>r<n);return{month:t+1,day:n-e[t]}}function Lne(i,n){return(i-n+7)%7+1}function sB(i,n=4,e=1){const{year:t,month:o,day:r}=i,a=DTe(t,o,r),l=Lne(Nne(t,o,r),e);let u,c=Math.floor((a-l+14-n)/7);return c<1?(u=t-1,c=xA(u,n,e)):c>xA(t,n,e)?(u=t+1,c=1):u=t,{weekYear:u,weekNumber:c,weekday:l,...dB(i)}}function kTe(i,n=4,e=1){const{weekYear:t,weekNumber:o,weekday:r}=i,a=Lne(Nne(t,1,n),e),l=Kw(t);let u,c=7*o+r-a-7+n;c<1?(u=t-1,c+=Kw(u)):c>l?(u=t+1,c-=Kw(t)):u=t;const{month:f,day:_}=wTe(u,c);return{year:u,month:f,day:_,...dB(i)}}function Pne(i){const{year:n,month:e,day:t}=i;return{year:n,ordinal:DTe(n,e,t),...dB(i)}}function OTe(i){const{year:n,ordinal:e}=i,{month:t,day:o}=wTe(n,e);return{year:n,month:t,day:o,...dB(i)}}function TTe(i,n){if(Gn(i.localWeekday)&&Gn(i.localWeekNumber)&&Gn(i.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!Gn(i.weekday)||!Gn(i.weekNumber)||!Gn(i.weekYear))throw new Xw("Cannot mix locale-based week fields with ISO-based week fields");return Gn(i.localWeekday)||(i.weekday=i.localWeekday),Gn(i.localWeekNumber)||(i.weekNumber=i.localWeekNumber),Gn(i.localWeekYear)||(i.weekYear=i.localWeekYear),delete i.localWeekday,delete i.localWeekNumber,delete i.localWeekYear,{minDaysInFirstWeek:n.getMinDaysInFirstWeek(),startOfWeek:n.getStartOfWeek()}}function MTe(i){const n=oB(i.year),e=Fu(i.month,1,12),t=Fu(i.day,1,rB(i.year,i.month));return n?e?!t&&Uu("day",i.day):Uu("month",i.month):Uu("year",i.year)}function ITe(i){const{hour:n,minute:e,second:t,millisecond:o}=i,r=Fu(n,0,23)||24===n&&0===e&&0===t&&0===o,a=Fu(e,0,59),l=Fu(t,0,59),c=Fu(o,0,999);return r?a?l?!c&&Uu("millisecond",o):Uu("second",t):Uu("minute",e):Uu("hour",n)}function Gn(i){return typeof i>"u"}function F0(i){return"number"==typeof i}function oB(i){return"number"==typeof i&&i%1==0}function RTe(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function ATe(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function xTe(i,n,e){if(0!==i.length)return i.reduce((t,o)=>{const r=[n(o),o];return t&&e(t[0],r[0])===t[0]?t:r},null)[1]}function Ww(i,n){return Object.prototype.hasOwnProperty.call(i,n)}function Gne(i){if(null==i)return null;if("object"!=typeof i)throw new Uc("Week settings must be an object");if(!Fu(i.firstDay,1,7)||!Fu(i.minimalDays,1,7)||!Array.isArray(i.weekend)||i.weekend.some(n=>!Fu(n,1,7)))throw new Uc("Invalid week settings");return{firstDay:i.firstDay,minimalDays:i.minimalDays,weekend:Array.from(i.weekend)}}function Fu(i,n,e){return oB(i)&&i>=n&&i<=e}function Ar(i,n=2){let t;return t=i<0?"-"+(""+-i).padStart(n,"0"):(""+i).padStart(n,"0"),t}function GS(i){if(!Gn(i)&&null!==i&&""!==i)return parseInt(i,10)}function B0(i){if(!Gn(i)&&null!==i&&""!==i)return parseFloat(i)}function Une(i){if(!Gn(i)&&null!==i&&""!==i){const n=1e3*parseFloat("0."+i);return Math.floor(n)}}function Fne(i,n,e=!1){const t=10**n;return(e?Math.trunc:Math.round)(i*t)/t}function AA(i){return i%4==0&&(i%100!=0||i%400==0)}function Kw(i){return AA(i)?366:365}function rB(i,n){const e=function gkt(i,n){return i-n*Math.floor(i/n)}(n-1,12)+1;return 2===e?AA(i+(n-e)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][e-1]}function aB(i){let n=Date.UTC(i.year,i.month-1,i.day,i.hour,i.minute,i.second,i.millisecond);return i.year<100&&i.year>=0&&(n=new Date(n),n.setUTCFullYear(i.year,i.month-1,i.day)),+n}function NTe(i,n,e){return-Lne(Nne(i,1,n),e)+n-1}function xA(i,n=4,e=1){const t=NTe(i,n,e),o=NTe(i+1,n,e);return(Kw(i)-t+o)/7}function Bne(i){return i>99?i:i>ur.twoDigitCutoffYear?1900+i:2e3+i}function LTe(i,n,e,t=null){const o=new Date(i),r={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};t&&(r.timeZone=t);const a={timeZoneName:n,...r},l=new Intl.DateTimeFormat(e,a).formatToParts(o).find(c=>"timezonename"===c.type.toLowerCase());return l?l.value:null}function lB(i,n){let e=parseInt(i,10);Number.isNaN(e)&&(e=0);const t=parseInt(n,10)||0;return 60*e+(e<0||Object.is(e,-0)?-t:t)}function PTe(i){const n=Number(i);if("boolean"==typeof i||""===i||Number.isNaN(n))throw new Uc(`Invalid unit value ${i}`);return n}function cB(i,n){const e={};for(const t in i)if(Ww(i,t)){const o=i[t];if(null==o)continue;e[n(t)]=PTe(o)}return e}function NA(i,n){const e=Math.trunc(Math.abs(i/60)),t=Math.trunc(Math.abs(i%60)),o=i>=0?"+":"-";switch(n){case"short":return`${o}${Ar(e,2)}:${Ar(t,2)}`;case"narrow":return`${o}${e}${t>0?`:${t}`:""}`;case"techie":return`${o}${Ar(e,2)}${Ar(t,2)}`;default:throw new RangeError(`Value format ${n} is out of range for property format`)}}function dB(i){return function _kt(i,n){return n.reduce((e,t)=>(e[t]=i[t],e),{})}(i,["hour","minute","second","millisecond"])}const Skt=["January","February","March","April","May","June","July","August","September","October","November","December"],GTe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],vkt=["J","F","M","A","M","J","J","A","S","O","N","D"];function UTe(i){switch(i){case"narrow":return[...vkt];case"short":return[...GTe];case"long":return[...Skt];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const FTe=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],BTe=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Ckt=["M","T","W","T","F","S","S"];function VTe(i){switch(i){case"narrow":return[...Ckt];case"short":return[...BTe];case"long":return[...FTe];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const zTe=["AM","PM"],bkt=["Before Christ","Anno Domini"],Ekt=["BC","AD"],ykt=["B","A"];function HTe(i){switch(i){case"narrow":return[...ykt];case"short":return[...Ekt];case"long":return[...bkt];default:return null}}function jTe(i,n){let e="";for(const t of i)e+=t.literal?t.val:n(t.val);return e}const Mkt={D:Z7,DD:WOe,DDD:KOe,DDDD:YOe,t:JOe,tt:qOe,ttt:QOe,tttt:ZOe,T:eTe,TT:tTe,TTT:nTe,TTTT:iTe,f:sTe,ff:rTe,fff:lTe,ffff:dTe,F:oTe,FF:aTe,FFF:cTe,FFFF:uTe};class pl{static create(n,e={}){return new pl(n,e)}static parseFormat(n){let e=null,t="",o=!1;const r=[];for(let a=0;a<n.length;a++){const l=n.charAt(a);"'"===l?(t.length>0&&r.push({literal:o||/^\s+$/.test(t),val:t}),e=null,t="",o=!o):o||l===e?t+=l:(t.length>0&&r.push({literal:/^\s+$/.test(t),val:t}),t=l,e=l)}return t.length>0&&r.push({literal:o||/^\s+$/.test(t),val:t}),r}static macroTokenToFormatOpts(n){return Mkt[n]}constructor(n,e){this.opts=e,this.loc=n,this.systemLoc=null}formatWithSystemDefault(n,e){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(n,{...this.opts,...e}).format()}dtFormatter(n,e={}){return this.loc.dtFormatter(n,{...this.opts,...e})}formatDateTime(n,e){return this.dtFormatter(n,e).format()}formatDateTimeParts(n,e){return this.dtFormatter(n,e).formatToParts()}formatInterval(n,e){return this.dtFormatter(n.start,e).dtf.formatRange(n.start.toJSDate(),n.end.toJSDate())}resolvedOptions(n,e){return this.dtFormatter(n,e).resolvedOptions()}num(n,e=0){if(this.opts.forceSimple)return Ar(n,e);const t={...this.opts};return e>0&&(t.padTo=e),this.loc.numberFormatter(t).format(n)}formatDateTimeFromString(n,e){const t="en"===this.loc.listingMode(),o=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,r=(v,b)=>this.loc.extract(n,v,b),a=v=>n.isOffsetFixed&&0===n.offset&&v.allowZ?"Z":n.isValid?n.zone.formatOffset(n.ts,v.format):"",c=(v,b)=>t?function kkt(i,n){return UTe(n)[i.month-1]}(n,v):r(b?{month:v}:{month:v,day:"numeric"},"month"),u=(v,b)=>t?function wkt(i,n){return VTe(n)[i.weekday-1]}(n,v):r(b?{weekday:v}:{weekday:v,month:"long",day:"numeric"},"weekday"),f=v=>{const b=pl.macroTokenToFormatOpts(v);return b?this.formatWithSystemDefault(n,b):v},_=v=>t?function Okt(i,n){return HTe(n)[i.year<0?0:1]}(n,v):r({era:v},"era");return jTe(pl.parseFormat(e),v=>{switch(v){case"S":return this.num(n.millisecond);case"u":case"SSS":return this.num(n.millisecond,3);case"s":return this.num(n.second);case"ss":return this.num(n.second,2);case"uu":return this.num(Math.floor(n.millisecond/10),2);case"uuu":return this.num(Math.floor(n.millisecond/100));case"m":return this.num(n.minute);case"mm":return this.num(n.minute,2);case"h":return this.num(n.hour%12==0?12:n.hour%12);case"hh":return this.num(n.hour%12==0?12:n.hour%12,2);case"H":return this.num(n.hour);case"HH":return this.num(n.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return n.zone.offsetName(n.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return n.zone.offsetName(n.ts,{format:"long",locale:this.loc.locale});case"z":return n.zoneName;case"a":return t?function Dkt(i){return zTe[i.hour<12?0:1]}(n):r({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return o?r({day:"numeric"},"day"):this.num(n.day);case"dd":return o?r({day:"2-digit"},"day"):this.num(n.day,2);case"c":case"E":return this.num(n.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return o?r({month:"numeric",day:"numeric"},"month"):this.num(n.month);case"LL":return o?r({month:"2-digit",day:"numeric"},"month"):this.num(n.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return o?r({month:"numeric"},"month"):this.num(n.month);case"MM":return o?r({month:"2-digit"},"month"):this.num(n.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return o?r({year:"numeric"},"year"):this.num(n.year);case"yy":return o?r({year:"2-digit"},"year"):this.num(n.year.toString().slice(-2),2);case"yyyy":return o?r({year:"numeric"},"year"):this.num(n.year,4);case"yyyyyy":return o?r({year:"numeric"},"year"):this.num(n.year,6);case"G":return _("short");case"GG":return _("long");case"GGGGG":return _("narrow");case"kk":return this.num(n.weekYear.toString().slice(-2),2);case"kkkk":return this.num(n.weekYear,4);case"W":return this.num(n.weekNumber);case"WW":return this.num(n.weekNumber,2);case"n":return this.num(n.localWeekNumber);case"nn":return this.num(n.localWeekNumber,2);case"ii":return this.num(n.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(n.localWeekYear,4);case"o":return this.num(n.ordinal);case"ooo":return this.num(n.ordinal,3);case"q":return this.num(n.quarter);case"qq":return this.num(n.quarter,2);case"X":return this.num(Math.floor(n.ts/1e3));case"x":return this.num(n.ts);default:return f(v)}})}formatDurationFromString(n,e){const t=c=>{switch(c[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=pl.parseFormat(e),a=r.reduce((c,{literal:u,val:f})=>u?c:c.concat(f),[]);return jTe(r,(c=>u=>{const f=t(u);return f?this.num(c.get(f),u.length):u})(n.shiftTo(...a.map(t).filter(c=>c))))}}const $Te=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Yw(...i){const n=i.reduce((e,t)=>e+t.source,"");return RegExp(`^${n}$`)}function Jw(...i){return n=>i.reduce(([e,t,o],r)=>{const[a,l,c]=r(n,o);return[{...e,...a},l||t,c]},[{},null,1]).slice(0,2)}function qw(i,...n){if(null==i)return[null,null];for(const[e,t]of n){const o=e.exec(i);if(o)return t(o)}return[null,null]}function XTe(...i){return(n,e)=>{const t={};let o;for(o=0;o<i.length;o++)t[i[o]]=GS(n[e+o]);return[t,null,e+o]}}const WTe=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Vne=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,KTe=RegExp(`${Vne.source}(?:${WTe.source}?(?:\\[(${$Te.source})\\])?)?`),zne=RegExp(`(?:T${KTe.source})?`),Nkt=XTe("weekYear","weekNumber","weekDay"),Lkt=XTe("year","ordinal"),YTe=RegExp(`${Vne.source} ?(?:${WTe.source}|(${$Te.source}))?`),Gkt=RegExp(`(?: ${YTe.source})?`);function Qw(i,n,e){const t=i[n];return Gn(t)?e:GS(t)}function Zw(i,n){return[{hours:Qw(i,n,0),minutes:Qw(i,n+1,0),seconds:Qw(i,n+2,0),milliseconds:Une(i[n+3])},null,n+4]}function LA(i,n){const e=!i[n]&&!i[n+1],t=lB(i[n+1],i[n+2]);return[{},e?null:Ql.instance(t),n+3]}function PA(i,n){return[{},i[n]?G_.create(i[n]):null,n+1]}const Fkt=RegExp(`^T?${Vne.source}$`),Bkt=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Vkt(i){const[n,e,t,o,r,a,l,c,u]=i,f="-"===n[0],_=c&&"-"===c[0],S=(v,b=!1)=>void 0!==v&&(b||v&&f)?-v:v;return[{years:S(B0(e)),months:S(B0(t)),weeks:S(B0(o)),days:S(B0(r)),hours:S(B0(a)),minutes:S(B0(l)),seconds:S(B0(c),"-0"===c),milliseconds:S(Une(u),_)}]}const zkt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Hne(i,n,e,t,o,r,a){const l={year:2===n.length?Bne(GS(n)):GS(n),month:GTe.indexOf(e)+1,day:GS(t),hour:GS(o),minute:GS(r)};return a&&(l.second=GS(a)),i&&(l.weekday=i.length>3?FTe.indexOf(i)+1:BTe.indexOf(i)+1),l}const Hkt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function jkt(i){const[,n,e,t,o,r,a,l,c,u,f,_]=i,S=Hne(n,o,t,e,r,a,l);let v;return v=c?zkt[c]:u?0:lB(f,_),[S,new Ql(v)]}const Xkt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Wkt=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Kkt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function JTe(i){const[,n,e,t,o,r,a,l]=i;return[Hne(n,o,t,e,r,a,l),Ql.utcInstance]}function Ykt(i){const[,n,e,t,o,r,a,l]=i;return[Hne(n,l,e,t,o,r,a),Ql.utcInstance]}const Jkt=Yw(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,zne),qkt=Yw(/(\d{4})-?W(\d\d)(?:-?(\d))?/,zne),Qkt=Yw(/(\d{4})-?(\d{3})/,zne),Zkt=Yw(KTe),qTe=Jw(function Ukt(i,n){return[{year:Qw(i,n),month:Qw(i,n+1,1),day:Qw(i,n+2,1)},null,n+3]},Zw,LA,PA),eOt=Jw(Nkt,Zw,LA,PA),tOt=Jw(Lkt,Zw,LA,PA),nOt=Jw(Zw,LA,PA),aOt=Jw(Zw),cOt=Yw(/(\d{4})-(\d\d)-(\d\d)/,Gkt),dOt=Yw(YTe),uOt=Jw(Zw,LA,PA),QTe="Invalid Duration",ZTe={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},pOt={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...ZTe},Bu=365.2425,ek=30.436875,fOt={years:{quarters:4,months:12,weeks:Bu/7,days:Bu,hours:24*Bu,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:Bu/28,days:Bu/4,hours:24*Bu/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:ek/7,days:ek,hours:24*ek,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...ZTe},V0=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],mOt=V0.slice(0).reverse();function US(i,n,e=!1){const t={values:e?n.values:{...i.values,...n.values||{}},loc:i.loc.clone(n.loc),conversionAccuracy:n.conversionAccuracy||i.conversionAccuracy,matrix:n.matrix||i.matrix};return new Li(t)}function eMe(i,n){let e=n.milliseconds??0;for(const t of mOt.slice(1))n[t]&&(e+=n[t]*i[t].milliseconds);return e}function tMe(i,n){const e=eMe(i,n)<0?-1:1;V0.reduceRight((t,o)=>{if(Gn(n[o]))return t;if(t){const a=i[o][t],l=Math.floor(n[t]*e/a);n[o]+=l*e,n[t]-=l*a*e}return o},null),V0.reduce((t,o)=>{if(Gn(n[o]))return t;if(t){const r=n[t]%1;n[t]-=r,n[o]+=r*i[t][o]}return o},null)}class Li{constructor(n){const e="longterm"===n.conversionAccuracy||!1;let t=e?fOt:pOt;n.matrix&&(t=n.matrix),this.values=n.values,this.loc=n.loc||Rs.create(),this.conversionAccuracy=e?"longterm":"casual",this.invalid=n.invalid||null,this.matrix=t,this.isLuxonDuration=!0}static fromMillis(n,e){return Li.fromObject({milliseconds:n},e)}static fromObject(n,e={}){if(null==n||"object"!=typeof n)throw new Uc("Duration.fromObject: argument expected to be an object, got "+(null===n?"null":typeof n));return new Li({values:cB(n,Li.normalizeUnit),loc:Rs.fromObject(e),conversionAccuracy:e.conversionAccuracy,matrix:e.matrix})}static fromDurationLike(n){if(F0(n))return Li.fromMillis(n);if(Li.isDuration(n))return n;if("object"==typeof n)return Li.fromObject(n);throw new Uc(`Unknown duration argument ${n} of type ${typeof n}`)}static fromISO(n,e){const[t]=function rOt(i){return qw(i,[Bkt,Vkt])}(n);return t?Li.fromObject(t,e):Li.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static fromISOTime(n,e){const[t]=function lOt(i){return qw(i,[Fkt,aOt])}(n);return t?Li.fromObject(t,e):Li.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static invalid(n,e=null){if(!n)throw new Uc("need to specify a reason the Duration is invalid");const t=n instanceof Hh?n:new Hh(n,e);if(ur.throwOnInvalid)throw new Hwt(t);return new Li({invalid:t})}static normalizeUnit(n){const e={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[n&&n.toLowerCase()];if(!e)throw new XOe(n);return e}static isDuration(n){return n&&n.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(n,e={}){const t={...e,floor:!1!==e.round&&!1!==e.floor};return this.isValid?pl.create(this.loc,t).formatDurationFromString(this,n):QTe}toHuman(n={}){if(!this.isValid)return QTe;const e=V0.map(t=>{const o=this.values[t];return Gn(o)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...n,unit:t.slice(0,-1)}).format(o)}).filter(t=>t);return this.loc.listFormatter({type:"conjunction",style:n.listStyle||"narrow",...n}).format(e)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let n="P";return 0!==this.years&&(n+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(n+=this.months+3*this.quarters+"M"),0!==this.weeks&&(n+=this.weeks+"W"),0!==this.days&&(n+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(n+="T"),0!==this.hours&&(n+=this.hours+"H"),0!==this.minutes&&(n+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(n+=Fne(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===n&&(n+="T0S"),n}toISOTime(n={}){if(!this.isValid)return null;const e=this.toMillis();return e<0||e>=864e5?null:(n={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...n,includeOffset:!1},In.fromMillis(e,{zone:"UTC"}).toISOTime(n))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?eMe(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(n){if(!this.isValid)return this;const e=Li.fromDurationLike(n),t={};for(const o of V0)(Ww(e.values,o)||Ww(this.values,o))&&(t[o]=e.get(o)+this.get(o));return US(this,{values:t},!0)}minus(n){if(!this.isValid)return this;const e=Li.fromDurationLike(n);return this.plus(e.negate())}mapUnits(n){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=PTe(n(this.values[t],t));return US(this,{values:e},!0)}get(n){return this[Li.normalizeUnit(n)]}set(n){return this.isValid?US(this,{values:{...this.values,...cB(n,Li.normalizeUnit)}}):this}reconfigure({locale:n,numberingSystem:e,conversionAccuracy:t,matrix:o}={}){return US(this,{loc:this.loc.clone({locale:n,numberingSystem:e}),matrix:o,conversionAccuracy:t})}as(n){return this.isValid?this.shiftTo(n).get(n):NaN}normalize(){if(!this.isValid)return this;const n=this.toObject();return tMe(this.matrix,n),US(this,{values:n},!0)}rescale(){if(!this.isValid)return this;const n=function _Ot(i){const n={};for(const[e,t]of Object.entries(i))0!==t&&(n[e]=t);return n}(this.normalize().shiftToAll().toObject());return US(this,{values:n},!0)}shiftTo(...n){if(!this.isValid)return this;if(0===n.length)return this;n=n.map(a=>Li.normalizeUnit(a));const e={},t={},o=this.toObject();let r;for(const a of V0)if(n.indexOf(a)>=0){r=a;let l=0;for(const u in t)l+=this.matrix[u][a]*t[u],t[u]=0;F0(o[a])&&(l+=o[a]);const c=Math.trunc(l);e[a]=c,t[a]=(1e3*l-1e3*c)/1e3}else F0(o[a])&&(t[a]=o[a]);for(const a in t)0!==t[a]&&(e[r]+=a===r?t[a]:t[a]/this.matrix[r][a]);return tMe(this.matrix,e),US(this,{values:e},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const n={};for(const e of Object.keys(this.values))n[e]=0===this.values[e]?0:-this.values[e];return US(this,{values:n},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(n){if(!this.isValid||!n.isValid||!this.loc.equals(n.loc))return!1;function e(t,o){return void 0===t||0===t?void 0===o||0===o:t===o}for(const t of V0)if(!e(this.values[t],n.values[t]))return!1;return!0}}const tk="Invalid Interval";class ir{constructor(n){this.s=n.start,this.e=n.end,this.invalid=n.invalid||null,this.isLuxonInterval=!0}static invalid(n,e=null){if(!n)throw new Uc("need to specify a reason the Interval is invalid");const t=n instanceof Hh?n:new Hh(n,e);if(ur.throwOnInvalid)throw new zwt(t);return new ir({invalid:t})}static fromDateTimes(n,e){const t=UA(n),o=UA(e),r=function gOt(i,n){return i&&i.isValid?n&&n.isValid?n<i?ir.invalid("end before start",`The end of an interval must be after its start, but you had start=${i.toISO()} and end=${n.toISO()}`):null:ir.invalid("missing or invalid end"):ir.invalid("missing or invalid start")}(t,o);return r??new ir({start:t,end:o})}static after(n,e){const t=Li.fromDurationLike(e),o=UA(n);return ir.fromDateTimes(o,o.plus(t))}static before(n,e){const t=Li.fromDurationLike(e),o=UA(n);return ir.fromDateTimes(o.minus(t),o)}static fromISO(n,e){const[t,o]=(n||"").split("/",2);if(t&&o){let r,a,l,c;try{r=In.fromISO(t,e),a=r.isValid}catch{a=!1}try{l=In.fromISO(o,e),c=l.isValid}catch{c=!1}if(a&&c)return ir.fromDateTimes(r,l);if(a){const u=Li.fromISO(o,e);if(u.isValid)return ir.after(r,u)}else if(c){const u=Li.fromISO(t,e);if(u.isValid)return ir.before(l,u)}}return ir.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static isInterval(n){return n&&n.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(n="milliseconds"){return this.isValid?this.toDuration(n).get(n):NaN}count(n="milliseconds",e){if(!this.isValid)return NaN;const t=this.start.startOf(n,e);let o;return o=e?.useLocaleWeeks?this.end.reconfigure({locale:t.locale}):this.end,o=o.startOf(n,e),Math.floor(o.diff(t,n).get(n))+(o.valueOf()!==this.end.valueOf())}hasSame(n){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,n))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(n){return!!this.isValid&&this.s>n}isBefore(n){return!!this.isValid&&this.e<=n}contains(n){return!!this.isValid&&this.s<=n&&this.e>n}set({start:n,end:e}={}){return this.isValid?ir.fromDateTimes(n||this.s,e||this.e):this}splitAt(...n){if(!this.isValid)return[];const e=n.map(UA).filter(a=>this.contains(a)).sort((a,l)=>a.toMillis()-l.toMillis()),t=[];let{s:o}=this,r=0;for(;o<this.e;){const a=e[r]||this.e,l=+a>+this.e?this.e:a;t.push(ir.fromDateTimes(o,l)),o=l,r+=1}return t}splitBy(n){const e=Li.fromDurationLike(n);if(!this.isValid||!e.isValid||0===e.as("milliseconds"))return[];let r,{s:t}=this,o=1;const a=[];for(;t<this.e;){const l=this.start.plus(e.mapUnits(c=>c*o));r=+l>+this.e?this.e:l,a.push(ir.fromDateTimes(t,r)),t=r,o+=1}return a}divideEqually(n){return this.isValid?this.splitBy(this.length()/n).slice(0,n):[]}overlaps(n){return this.e>n.s&&this.s<n.e}abutsStart(n){return!!this.isValid&&+this.e==+n.s}abutsEnd(n){return!!this.isValid&&+n.e==+this.s}engulfs(n){return!!this.isValid&&this.s<=n.s&&this.e>=n.e}equals(n){return!(!this.isValid||!n.isValid)&&this.s.equals(n.s)&&this.e.equals(n.e)}intersection(n){if(!this.isValid)return this;const e=this.s>n.s?this.s:n.s,t=this.e<n.e?this.e:n.e;return e>=t?null:ir.fromDateTimes(e,t)}union(n){return this.isValid?ir.fromDateTimes(this.s<n.s?this.s:n.s,this.e>n.e?this.e:n.e):this}static merge(n){const[e,t]=n.sort((o,r)=>o.s-r.s).reduce(([o,r],a)=>r?r.overlaps(a)||r.abutsStart(a)?[o,r.union(a)]:[o.concat([r]),a]:[o,a],[[],null]);return t&&e.push(t),e}static xor(n){let e=null,t=0;const o=[],r=n.map(c=>[{time:c.s,type:"s"},{time:c.e,type:"e"}]),l=Array.prototype.concat(...r).sort((c,u)=>c.time-u.time);for(const c of l)t+="s"===c.type?1:-1,1===t?e=c.time:(e&&+e!=+c.time&&o.push(ir.fromDateTimes(e,c.time)),e=null);return ir.merge(o)}difference(...n){return ir.xor([this].concat(n)).map(e=>this.intersection(e)).filter(e=>e&&!e.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:tk}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(n=Z7,e={}){return this.isValid?pl.create(this.s.loc.clone(e),n).formatInterval(this):tk}toISO(n){return this.isValid?`${this.s.toISO(n)}/${this.e.toISO(n)}`:tk}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:tk}toISOTime(n){return this.isValid?`${this.s.toISOTime(n)}/${this.e.toISOTime(n)}`:tk}toFormat(n,{separator:e=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(n)}${e}${this.e.toFormat(n)}`:tk}toDuration(n,e){return this.isValid?this.e.diff(this.s,n,e):Li.invalid(this.invalidReason)}mapEndpoints(n){return ir.fromDateTimes(n(this.s),n(this.e))}}class uB{static hasDST(n=ur.defaultZone){const e=In.now().setZone(n).set({month:12});return!n.isUniversal&&e.offset!==e.set({month:6}).offset}static isValidIANAZone(n){return G_.isValidZone(n)}static normalizeZone(n){return PS(n,ur.defaultZone)}static getStartOfWeek({locale:n=null,locObj:e=null}={}){return(e||Rs.create(n)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:n=null,locObj:e=null}={}){return(e||Rs.create(n)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:n=null,locObj:e=null}={}){return(e||Rs.create(n)).getWeekendDays().slice()}static months(n="long",{locale:e=null,numberingSystem:t=null,locObj:o=null,outputCalendar:r="gregory"}={}){return(o||Rs.create(e,t,r)).months(n)}static monthsFormat(n="long",{locale:e=null,numberingSystem:t=null,locObj:o=null,outputCalendar:r="gregory"}={}){return(o||Rs.create(e,t,r)).months(n,!0)}static weekdays(n="long",{locale:e=null,numberingSystem:t=null,locObj:o=null}={}){return(o||Rs.create(e,t,null)).weekdays(n)}static weekdaysFormat(n="long",{locale:e=null,numberingSystem:t=null,locObj:o=null}={}){return(o||Rs.create(e,t,null)).weekdays(n,!0)}static meridiems({locale:n=null}={}){return Rs.create(n).meridiems()}static eras(n="short",{locale:e=null}={}){return Rs.create(e,null,"gregory").eras(n)}static features(){return{relative:RTe(),localeWeek:ATe()}}}function nMe(i,n){const e=o=>o.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),t=e(n)-e(i);return Math.floor(Li.fromMillis(t).as("days"))}const jne={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},iMe={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},COt=jne.hanidec.replace(/[\[|\]]/g,"").split("");function jh({numberingSystem:i},n=""){return new RegExp(`${jne[i||"latn"]}${n}`)}function Ki(i,n=(e=>e)){return{regex:i,deser:([e])=>n(function bOt(i){let n=parseInt(i,10);if(isNaN(n)){n="";for(let e=0;e<i.length;e++){const t=i.charCodeAt(e);if(-1!==i[e].search(jne.hanidec))n+=COt.indexOf(i[e]);else for(const o in iMe){const[r,a]=iMe[o];t>=r&&t<=a&&(n+=t-r)}}return parseInt(n,10)}return n}(e))}}const sMe="[ \xa0]",oMe=new RegExp(sMe,"g");function yOt(i){return i.replace(/\./g,"\\.?").replace(oMe,sMe)}function rMe(i){return i.replace(/\./g,"").replace(oMe," ").toLowerCase()}function $h(i,n){return null===i?null:{regex:RegExp(i.map(yOt).join("|")),deser:([e])=>i.findIndex(t=>rMe(e)===rMe(t))+n}}function aMe(i,n){return{regex:i,deser:([,e,t])=>lB(e,t),groups:n}}function hB(i){return{regex:i,deser:([n])=>n}}function DOt(i){return i.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const kOt={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let $ne=null;function lMe(i,n){return Array.prototype.concat(...i.map(e=>function AOt(i,n){if(i.literal)return i;const t=dMe(pl.macroTokenToFormatOpts(i.val),n);return null==t||t.includes(void 0)?i:t}(e,n)))}function cMe(i,n,e){const t=lMe(pl.parseFormat(e),i),o=t.map(a=>function wOt(i,n){const e=jh(n),t=jh(n,"{2}"),o=jh(n,"{3}"),r=jh(n,"{4}"),a=jh(n,"{6}"),l=jh(n,"{1,2}"),c=jh(n,"{1,3}"),u=jh(n,"{1,6}"),f=jh(n,"{1,9}"),_=jh(n,"{2,4}"),S=jh(n,"{4,6}"),v=k=>({regex:RegExp(DOt(k.val)),deser:([O])=>O,literal:!0}),D=(k=>{if(i.literal)return v(k);switch(k.val){case"G":return $h(n.eras("short"),0);case"GG":return $h(n.eras("long"),0);case"y":return Ki(u);case"yy":case"kk":return Ki(_,Bne);case"yyyy":case"kkkk":return Ki(r);case"yyyyy":return Ki(S);case"yyyyyy":return Ki(a);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Ki(l);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Ki(t);case"MMM":return $h(n.months("short",!0),1);case"MMMM":return $h(n.months("long",!0),1);case"LLL":return $h(n.months("short",!1),1);case"LLLL":return $h(n.months("long",!1),1);case"o":case"S":return Ki(c);case"ooo":case"SSS":return Ki(o);case"u":return hB(f);case"uu":return hB(l);case"uuu":case"E":case"c":return Ki(e);case"a":return $h(n.meridiems(),0);case"EEE":return $h(n.weekdays("short",!1),1);case"EEEE":return $h(n.weekdays("long",!1),1);case"ccc":return $h(n.weekdays("short",!0),1);case"cccc":return $h(n.weekdays("long",!0),1);case"Z":case"ZZ":return aMe(new RegExp(`([+-]${l.source})(?::(${t.source}))?`),2);case"ZZZ":return aMe(new RegExp(`([+-]${l.source})(${t.source})?`),2);case"z":return hB(/[a-z_+-/]{1,256}?/i);case" ":return hB(/[^\S\n\r]/);default:return v(k)}})(i)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return D.token=i,D}(a,i)),r=o.find(a=>a.invalidReason);if(r)return{input:n,tokens:t,invalidReason:r.invalidReason};{const[a,l]=function TOt(i){return[`^${i.map(e=>e.regex).reduce((e,t)=>`${e}(${t.source})`,"")}$`,i]}(o),c=RegExp(a,"i"),[u,f]=function MOt(i,n,e){const t=i.match(n);if(t){const o={};let r=1;for(const a in e)if(Ww(e,a)){const l=e[a],c=l.groups?l.groups+1:1;!l.literal&&l.token&&(o[l.token.val[0]]=l.deser(t.slice(r,r+c))),r+=c}return[t,o]}return[t,{}]}(n,c,l),[_,S,v]=f?function IOt(i){let t,e=null;return Gn(i.z)||(e=G_.create(i.z)),Gn(i.Z)||(e||(e=new Ql(i.Z)),t=i.Z),Gn(i.q)||(i.M=3*(i.q-1)+1),Gn(i.h)||(i.h<12&&1===i.a?i.h+=12:12===i.h&&0===i.a&&(i.h=0)),0===i.G&&i.y&&(i.y=-i.y),Gn(i.u)||(i.S=Une(i.u)),[Object.keys(i).reduce((r,a)=>{const l=(r=>{switch(r){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(a);return l&&(r[l]=i[a]),r},{}),e,t]}(f):[null,null,void 0];if(Ww(f,"a")&&Ww(f,"H"))throw new Xw("Can't include meridiem when specifying 24-hour format");return{input:n,tokens:t,regex:c,rawMatches:u,matches:f,result:_,zone:S,specificOffset:v}}}function dMe(i,n){if(!i)return null;const t=pl.create(n,i).dtFormatter(function ROt(){return $ne||($ne=In.fromMillis(1555555555555)),$ne}()),o=t.formatToParts(),r=t.resolvedOptions();return o.map(a=>function OOt(i,n,e){const{type:t,value:o}=i;if("literal"===t){const c=/^\s+$/.test(o);return{literal:!c,val:c?" ":o}}let a=t;"hour"===t&&(a=null!=n.hour12?n.hour12?"hour12":"hour24":null!=n.hourCycle?"h11"===n.hourCycle||"h12"===n.hourCycle?"hour12":"hour24":e.hour12?"hour12":"hour24");let l=kOt[a];if("object"==typeof l&&(l=l[n[t]]),l)return{literal:!1,val:l}}(a,i,r))}const Xne="Invalid DateTime",uMe=864e13;function pB(i){return new Hh("unsupported zone",`the zone "${i.name}" is not supported`)}function Wne(i){return null===i.weekData&&(i.weekData=sB(i.c)),i.weekData}function Kne(i){return null===i.localWeekData&&(i.localWeekData=sB(i.c,i.loc.getMinDaysInFirstWeek(),i.loc.getStartOfWeek())),i.localWeekData}function z0(i,n){const e={ts:i.ts,zone:i.zone,c:i.c,o:i.o,loc:i.loc,invalid:i.invalid};return new In({...e,...n,old:e})}function hMe(i,n,e){let t=i-60*n*1e3;const o=e.offset(t);if(n===o)return[t,n];t-=60*(o-n)*1e3;const r=e.offset(t);return o===r?[t,o]:[i-60*Math.min(o,r)*1e3,Math.max(o,r)]}function fB(i,n){const e=new Date(i+=60*n*1e3);return{year:e.getUTCFullYear(),month:e.getUTCMonth()+1,day:e.getUTCDate(),hour:e.getUTCHours(),minute:e.getUTCMinutes(),second:e.getUTCSeconds(),millisecond:e.getUTCMilliseconds()}}function mB(i,n,e){return hMe(aB(i),n,e)}function pMe(i,n){const e=i.o,t=i.c.year+Math.trunc(n.years),o=i.c.month+Math.trunc(n.months)+3*Math.trunc(n.quarters),r={...i.c,year:t,month:o,day:Math.min(i.c.day,rB(t,o))+Math.trunc(n.days)+7*Math.trunc(n.weeks)},a=Li.fromObject({years:n.years-Math.trunc(n.years),quarters:n.quarters-Math.trunc(n.quarters),months:n.months-Math.trunc(n.months),weeks:n.weeks-Math.trunc(n.weeks),days:n.days-Math.trunc(n.days),hours:n.hours,minutes:n.minutes,seconds:n.seconds,milliseconds:n.milliseconds}).as("milliseconds"),l=aB(r);let[c,u]=hMe(l,e,i.zone);return 0!==a&&(c+=a,u=i.zone.offset(c)),{ts:c,o:u}}function GA(i,n,e,t,o,r){const{setZone:a,zone:l}=e;if(i&&0!==Object.keys(i).length||n){const c=n||l,u=In.fromObject(i,{...e,zone:c,specificOffset:r});return a?u:u.setZone(l)}return In.invalid(new Hh("unparsable",`the input "${o}" can't be parsed as ${t}`))}function _B(i,n,e=!0){return i.isValid?pl.create(Rs.create("en-US"),{allowZ:e,forceSimple:!0}).formatDateTimeFromString(i,n):null}function Yne(i,n){const e=i.c.year>9999||i.c.year<0;let t="";return e&&i.c.year>=0&&(t+="+"),t+=Ar(i.c.year,e?6:4),n?(t+="-",t+=Ar(i.c.month),t+="-",t+=Ar(i.c.day)):(t+=Ar(i.c.month),t+=Ar(i.c.day)),t}function fMe(i,n,e,t,o,r){let a=Ar(i.c.hour);return n?(a+=":",a+=Ar(i.c.minute),(0!==i.c.millisecond||0!==i.c.second||!e)&&(a+=":")):a+=Ar(i.c.minute),(0!==i.c.millisecond||0!==i.c.second||!e)&&(a+=Ar(i.c.second),(0!==i.c.millisecond||!t)&&(a+=".",a+=Ar(i.c.millisecond,3))),o&&(i.isOffsetFixed&&0===i.offset&&!r?a+="Z":i.o<0?(a+="-",a+=Ar(Math.trunc(-i.o/60)),a+=":",a+=Ar(Math.trunc(-i.o%60))):(a+="+",a+=Ar(Math.trunc(i.o/60)),a+=":",a+=Ar(Math.trunc(i.o%60)))),r&&(a+="["+i.zone.ianaName+"]"),a}const mMe={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},NOt={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},LOt={ordinal:1,hour:0,minute:0,second:0,millisecond:0},_Me=["year","month","day","hour","minute","second","millisecond"],POt=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],GOt=["year","ordinal","hour","minute","second","millisecond"];function gMe(i){switch(i.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function UOt(i){const n={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[i.toLowerCase()];if(!n)throw new XOe(i);return n}(i)}}function SMe(i,n){const e=PS(n.zone,ur.defaultZone),t=Rs.fromObject(n),o=ur.now();let r,a;if(Gn(i.year))r=o;else{for(const u of _Me)Gn(i[u])&&(i[u]=mMe[u]);const l=MTe(i)||ITe(i);if(l)return In.invalid(l);const c=e.offset(o);[r,a]=mB(i,c,e)}return new In({ts:r,zone:e,loc:t,o:a})}function vMe(i,n,e){const t=!!Gn(e.round)||e.round,o=(a,l)=>(a=Fne(a,t||e.calendary?0:2,!0),n.loc.clone(e).relFormatter(e).format(a,l)),r=a=>e.calendary?n.hasSame(i,a)?0:n.startOf(a).diff(i.startOf(a),a).get(a):n.diff(i,a).get(a);if(e.unit)return o(r(e.unit),e.unit);for(const a of e.units){const l=r(a);if(Math.abs(l)>=1)return o(l,a)}return o(i>n?-0:0,e.units[e.units.length-1])}function CMe(i){let e,n={};return i.length>0&&"object"==typeof i[i.length-1]?(n=i[i.length-1],e=Array.from(i).slice(0,i.length-1)):e=Array.from(i),[n,e]}class In{constructor(n){const e=n.zone||ur.defaultZone;let t=n.invalid||(Number.isNaN(n.ts)?new Hh("invalid input"):null)||(e.isValid?null:pB(e));this.ts=Gn(n.ts)?ur.now():n.ts;let o=null,r=null;if(!t)if(n.old&&n.old.ts===this.ts&&n.old.zone.equals(e))[o,r]=[n.old.c,n.old.o];else{const l=e.offset(this.ts);o=fB(this.ts,l),t=Number.isNaN(o.year)?new Hh("invalid input"):null,o=t?null:o,r=t?null:l}this._zone=e,this.loc=n.loc||Rs.create(),this.invalid=t,this.weekData=null,this.localWeekData=null,this.c=o,this.o=r,this.isLuxonDateTime=!0}static now(){return new In({})}static local(){const[n,e]=CMe(arguments),[t,o,r,a,l,c,u]=e;return SMe({year:t,month:o,day:r,hour:a,minute:l,second:c,millisecond:u},n)}static utc(){const[n,e]=CMe(arguments),[t,o,r,a,l,c,u]=e;return n.zone=Ql.utcInstance,SMe({year:t,month:o,day:r,hour:a,minute:l,second:c,millisecond:u},n)}static fromJSDate(n,e={}){const t=function fkt(i){return"[object Date]"===Object.prototype.toString.call(i)}(n)?n.valueOf():NaN;if(Number.isNaN(t))return In.invalid("invalid input");const o=PS(e.zone,ur.defaultZone);return o.isValid?new In({ts:t,zone:o,loc:Rs.fromObject(e)}):In.invalid(pB(o))}static fromMillis(n,e={}){if(F0(n))return n<-uMe||n>uMe?In.invalid("Timestamp out of range"):new In({ts:n,zone:PS(e.zone,ur.defaultZone),loc:Rs.fromObject(e)});throw new Uc(`fromMillis requires a numerical input, but received a ${typeof n} with value ${n}`)}static fromSeconds(n,e={}){if(F0(n))return new In({ts:1e3*n,zone:PS(e.zone,ur.defaultZone),loc:Rs.fromObject(e)});throw new Uc("fromSeconds requires a numerical input")}static fromObject(n,e={}){n=n||{};const t=PS(e.zone,ur.defaultZone);if(!t.isValid)return In.invalid(pB(t));const o=Rs.fromObject(e),r=cB(n,gMe),{minDaysInFirstWeek:a,startOfWeek:l}=TTe(r,o),c=ur.now(),u=Gn(e.specificOffset)?t.offset(c):e.specificOffset,f=!Gn(r.ordinal),_=!Gn(r.year),S=!Gn(r.month)||!Gn(r.day),v=_||S,b=r.weekYear||r.weekNumber;if((v||f)&&b)throw new Xw("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(S&&f)throw new Xw("Can't mix ordinal dates with month/day");const D=b||r.weekday&&!v;let k,O,I=fB(c,u);D?(k=POt,O=NOt,I=sB(I,a,l)):f?(k=GOt,O=LOt,I=Pne(I)):(k=_Me,O=mMe);let x=!1;for(const ce of k)Gn(r[ce])?r[ce]=x?O[ce]:I[ce]:x=!0;const P=D?function ukt(i,n=4,e=1){const t=oB(i.weekYear),o=Fu(i.weekNumber,1,xA(i.weekYear,n,e)),r=Fu(i.weekday,1,7);return t?o?!r&&Uu("weekday",i.weekday):Uu("week",i.weekNumber):Uu("weekYear",i.weekYear)}(r,a,l):f?function hkt(i){const n=oB(i.year),e=Fu(i.ordinal,1,Kw(i.year));return n?!e&&Uu("ordinal",i.ordinal):Uu("year",i.year)}(r):MTe(r),L=P||ITe(r);if(L)return In.invalid(L);const H=D?kTe(r,a,l):f?OTe(r):r,[j,J]=mB(H,u,t),te=new In({ts:j,zone:t,o:J,loc:o});return r.weekday&&v&&n.weekday!==te.weekday?In.invalid("mismatched weekday",`you can't specify both a weekday of ${r.weekday} and a date of ${te.toISO()}`):te}static fromISO(n,e={}){const[t,o]=function iOt(i){return qw(i,[Jkt,qTe],[qkt,eOt],[Qkt,tOt],[Zkt,nOt])}(n);return GA(t,o,e,"ISO 8601",n)}static fromRFC2822(n,e={}){const[t,o]=function sOt(i){return qw(function $kt(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(i),[Hkt,jkt])}(n);return GA(t,o,e,"RFC 2822",n)}static fromHTTP(n,e={}){const[t,o]=function oOt(i){return qw(i,[Xkt,JTe],[Wkt,JTe],[Kkt,Ykt])}(n);return GA(t,o,e,"HTTP",e)}static fromFormat(n,e,t={}){if(Gn(n)||Gn(e))throw new Uc("fromFormat requires an input string and a format");const{locale:o=null,numberingSystem:r=null}=t,a=Rs.fromOpts({locale:o,numberingSystem:r,defaultToEN:!0}),[l,c,u,f]=function xOt(i,n,e){const{result:t,zone:o,specificOffset:r,invalidReason:a}=cMe(i,n,e);return[t,o,r,a]}(a,n,e);return f?In.invalid(f):GA(l,c,t,`format ${e}`,n,u)}static fromString(n,e,t={}){return In.fromFormat(n,e,t)}static fromSQL(n,e={}){const[t,o]=function hOt(i){return qw(i,[cOt,qTe],[dOt,uOt])}(n);return GA(t,o,e,"SQL",n)}static invalid(n,e=null){if(!n)throw new Uc("need to specify a reason the DateTime is invalid");const t=n instanceof Hh?n:new Hh(n,e);if(ur.throwOnInvalid)throw new Vwt(t);return new In({invalid:t})}static isDateTime(n){return n&&n.isLuxonDateTime||!1}static parseFormatForOpts(n,e={}){const t=dMe(n,Rs.fromObject(e));return t?t.map(o=>o?o.val:null).join(""):null}static expandFormat(n,e={}){return lMe(pl.parseFormat(n),Rs.fromObject(e)).map(o=>o.val).join("")}get(n){return this[n]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Wne(this).weekYear:NaN}get weekNumber(){return this.isValid?Wne(this).weekNumber:NaN}get weekday(){return this.isValid?Wne(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Kne(this).weekday:NaN}get localWeekNumber(){return this.isValid?Kne(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Kne(this).weekYear:NaN}get ordinal(){return this.isValid?Pne(this.c).ordinal:NaN}get monthShort(){return this.isValid?uB.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?uB.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?uB.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?uB.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const n=864e5,e=6e4,t=aB(this.c),o=this.zone.offset(t-n),r=this.zone.offset(t+n),a=this.zone.offset(t-o*e),l=this.zone.offset(t-r*e);if(a===l)return[this];const c=t-a*e,u=t-l*e,f=fB(c,a),_=fB(u,l);return f.hour===_.hour&&f.minute===_.minute&&f.second===_.second&&f.millisecond===_.millisecond?[z0(this,{ts:c}),z0(this,{ts:u})]:[this]}get isInLeapYear(){return AA(this.year)}get daysInMonth(){return rB(this.year,this.month)}get daysInYear(){return this.isValid?Kw(this.year):NaN}get weeksInWeekYear(){return this.isValid?xA(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?xA(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(n={}){const{locale:e,numberingSystem:t,calendar:o}=pl.create(this.loc.clone(n),n).resolvedOptions(this);return{locale:e,numberingSystem:t,outputCalendar:o}}toUTC(n=0,e={}){return this.setZone(Ql.instance(n),e)}toLocal(){return this.setZone(ur.defaultZone)}setZone(n,{keepLocalTime:e=!1,keepCalendarTime:t=!1}={}){if((n=PS(n,ur.defaultZone)).equals(this.zone))return this;if(n.isValid){let o=this.ts;if(e||t){const r=n.offset(this.ts),a=this.toObject();[o]=mB(a,r,n)}return z0(this,{ts:o,zone:n})}return In.invalid(pB(n))}reconfigure({locale:n,numberingSystem:e,outputCalendar:t}={}){return z0(this,{loc:this.loc.clone({locale:n,numberingSystem:e,outputCalendar:t})})}setLocale(n){return this.reconfigure({locale:n})}set(n){if(!this.isValid)return this;const e=cB(n,gMe),{minDaysInFirstWeek:t,startOfWeek:o}=TTe(e,this.loc),r=!Gn(e.weekYear)||!Gn(e.weekNumber)||!Gn(e.weekday),a=!Gn(e.ordinal),l=!Gn(e.year),c=!Gn(e.month)||!Gn(e.day);if((l||c||a)&&(e.weekYear||e.weekNumber))throw new Xw("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&a)throw new Xw("Can't mix ordinal dates with month/day");let _;r?_=kTe({...sB(this.c,t,o),...e},t,o):Gn(e.ordinal)?(_={...this.toObject(),...e},Gn(e.day)&&(_.day=Math.min(rB(_.year,_.month),_.day))):_=OTe({...Pne(this.c),...e});const[S,v]=mB(_,this.o,this.zone);return z0(this,{ts:S,o:v})}plus(n){return this.isValid?z0(this,pMe(this,Li.fromDurationLike(n))):this}minus(n){return this.isValid?z0(this,pMe(this,Li.fromDurationLike(n).negate())):this}startOf(n,{useLocaleWeeks:e=!1}={}){if(!this.isValid)return this;const t={},o=Li.normalizeUnit(n);switch(o){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0}if("weeks"===o)if(e){const r=this.loc.getStartOfWeek(),{weekday:a}=this;a<r&&(t.weekNumber=this.weekNumber-1),t.weekday=r}else t.weekday=1;if("quarters"===o){const r=Math.ceil(this.month/3);t.month=3*(r-1)+1}return this.set(t)}endOf(n,e){return this.isValid?this.plus({[n]:1}).startOf(n,e).minus(1):this}toFormat(n,e={}){return this.isValid?pl.create(this.loc.redefaultToEN(e)).formatDateTimeFromString(this,n):Xne}toLocaleString(n=Z7,e={}){return this.isValid?pl.create(this.loc.clone(e),n).formatDateTime(this):Xne}toLocaleParts(n={}){return this.isValid?pl.create(this.loc.clone(n),n).formatDateTimeParts(this):[]}toISO({format:n="extended",suppressSeconds:e=!1,suppressMilliseconds:t=!1,includeOffset:o=!0,extendedZone:r=!1}={}){if(!this.isValid)return null;const a="extended"===n;let l=Yne(this,a);return l+="T",l+=fMe(this,a,e,t,o,r),l}toISODate({format:n="extended"}={}){return this.isValid?Yne(this,"extended"===n):null}toISOWeekDate(){return _B(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:n=!1,suppressSeconds:e=!1,includeOffset:t=!0,includePrefix:o=!1,extendedZone:r=!1,format:a="extended"}={}){return this.isValid?(o?"T":"")+fMe(this,"extended"===a,e,n,t,r):null}toRFC2822(){return _B(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return _B(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Yne(this,!0):null}toSQLTime({includeOffset:n=!0,includeZone:e=!1,includeOffsetSpace:t=!0}={}){let o="HH:mm:ss.SSS";return(e||n)&&(t&&(o+=" "),e?o+="z":n&&(o+="ZZ")),_B(this,o,!0)}toSQL(n={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(n)}`:null}toString(){return this.isValid?this.toISO():Xne}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(n={}){if(!this.isValid)return{};const e={...this.c};return n.includeConfig&&(e.outputCalendar=this.outputCalendar,e.numberingSystem=this.loc.numberingSystem,e.locale=this.loc.locale),e}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(n,e="milliseconds",t={}){if(!this.isValid||!n.isValid)return Li.invalid("created by diffing an invalid DateTime");const o={locale:this.locale,numberingSystem:this.numberingSystem,...t},r=function mkt(i){return Array.isArray(i)?i:[i]}(e).map(Li.normalizeUnit),a=n.valueOf()>this.valueOf(),u=function vOt(i,n,e,t){let[o,r,a,l]=function SOt(i,n,e){const t=[["years",(c,u)=>u.year-c.year],["quarters",(c,u)=>u.quarter-c.quarter+4*(u.year-c.year)],["months",(c,u)=>u.month-c.month+12*(u.year-c.year)],["weeks",(c,u)=>{const f=nMe(c,u);return(f-f%7)/7}],["days",nMe]],o={},r=i;let a,l;for(const[c,u]of t)e.indexOf(c)>=0&&(a=c,o[c]=u(i,n),l=r.plus(o),l>n?(o[c]--,(i=r.plus(o))>n&&(l=i,o[c]--,i=r.plus(o))):i=l);return[i,o,l,a]}(i,n,e);const c=n-o,u=e.filter(_=>["hours","minutes","seconds","milliseconds"].indexOf(_)>=0);0===u.length&&(a<n&&(a=o.plus({[l]:1})),a!==o&&(r[l]=(r[l]||0)+c/(a-o)));const f=Li.fromObject(r,t);return u.length>0?Li.fromMillis(c,t).shiftTo(...u).plus(f):f}(a?this:n,a?n:this,r,o);return a?u.negate():u}diffNow(n="milliseconds",e={}){return this.diff(In.now(),n,e)}until(n){return this.isValid?ir.fromDateTimes(this,n):this}hasSame(n,e,t){if(!this.isValid)return!1;const o=n.valueOf(),r=this.setZone(n.zone,{keepLocalTime:!0});return r.startOf(e,t)<=o&&o<=r.endOf(e,t)}equals(n){return this.isValid&&n.isValid&&this.valueOf()===n.valueOf()&&this.zone.equals(n.zone)&&this.loc.equals(n.loc)}toRelative(n={}){if(!this.isValid)return null;const e=n.base||In.fromObject({},{zone:this.zone}),t=n.padding?this<e?-n.padding:n.padding:0;let o=["years","months","days","hours","minutes","seconds"],r=n.unit;return Array.isArray(n.unit)&&(o=n.unit,r=void 0),vMe(e,this.plus(t),{...n,numeric:"always",units:o,unit:r})}toRelativeCalendar(n={}){return this.isValid?vMe(n.base||In.fromObject({},{zone:this.zone}),this,{...n,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...n){if(!n.every(In.isDateTime))throw new Uc("min requires all arguments be DateTimes");return xTe(n,e=>e.valueOf(),Math.min)}static max(...n){if(!n.every(In.isDateTime))throw new Uc("max requires all arguments be DateTimes");return xTe(n,e=>e.valueOf(),Math.max)}static fromFormatExplain(n,e,t={}){const{locale:o=null,numberingSystem:r=null}=t;return cMe(Rs.fromOpts({locale:o,numberingSystem:r,defaultToEN:!0}),n,e)}static fromStringExplain(n,e,t={}){return In.fromFormatExplain(n,e,t)}static get DATE_SHORT(){return Z7}static get DATE_MED(){return WOe}static get DATE_MED_WITH_WEEKDAY(){return jwt}static get DATE_FULL(){return KOe}static get DATE_HUGE(){return YOe}static get TIME_SIMPLE(){return JOe}static get TIME_WITH_SECONDS(){return qOe}static get TIME_WITH_SHORT_OFFSET(){return QOe}static get TIME_WITH_LONG_OFFSET(){return ZOe}static get TIME_24_SIMPLE(){return eTe}static get TIME_24_WITH_SECONDS(){return tTe}static get TIME_24_WITH_SHORT_OFFSET(){return nTe}static get TIME_24_WITH_LONG_OFFSET(){return iTe}static get DATETIME_SHORT(){return sTe}static get DATETIME_SHORT_WITH_SECONDS(){return oTe}static get DATETIME_MED(){return rTe}static get DATETIME_MED_WITH_SECONDS(){return aTe}static get DATETIME_MED_WITH_WEEKDAY(){return $wt}static get DATETIME_FULL(){return lTe}static get DATETIME_FULL_WITH_SECONDS(){return cTe}static get DATETIME_HUGE(){return dTe}static get DATETIME_HUGE_WITH_SECONDS(){return uTe}}function UA(i){if(In.isDateTime(i))return i;if(i&&i.valueOf&&F0(i.valueOf()))return In.fromJSDate(i);if(i&&"object"==typeof i)return In.fromObject(i);throw new Uc(`Unknown datetime argument: ${i}, of type ${typeof i}`)}function Ff(){const i=new Date;return new Date(i.getFullYear(),i.getMonth(),i.getDate())}function fl(i){i instanceof Mje||i instanceof sl?i.markAsDirty():(i instanceof ps||i instanceof Sje||i instanceof Mh)&&Object.keys(i.controls).forEach(n=>fl(i.controls[n]))}function nk(i){return Object.keys(i).map(n=>+n).filter(n=>n>=0)}function FOt(i,n){return In.fromFormat(i,n).toJSDate()}function H0(i,n,e){let t=_d(n);t=function BOt(i){const n=i.match(/(datetime'.{1,}?')/gi);if(n)for(const e of n){const r=`datetime'${FOt(e.replace(/datetime|'/gi,""),"yyyy-MM-dd'T'HH-mm-ss").toOffsetString().replace(/\+/gi,"%2B")}'`;i=i.replace(e,r)}return i}(t);const o=!!n.group?.length;return i.get(`${e}?${t}`).pipe((0,V.T)(r=>({data:o?Ra(r.data):r.data,total:r.total})))}let eo=(()=>{class i extends Tn{constructor(){super(),this.opened=!1,this.openedEvent=new s.bkB}open(e){return this._closeSubject||(this._closeSubject=new Ke.B),this._oveflow=document.body.style.overflow,document.body.style.overflow="hidden",this.opened=!0,this.options=e,this.openedEvent.emit(),this._closeSubject.asObservable()}close(){this._canClose()&&(this._closeSubject.next(!0),this._closeSubject.complete(),this._closeSubject=null,this.opened=!1,document.body.style.overflow=this._oveflow)}dismiss(){this._closeSubject.next(!1),this._closeSubject.complete(),this._closeSubject=null,this.opened=!1,document.body.style.overflow=this._oveflow}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275dir=s.FsC({type:i,features:[s.Vt3]})}return i})();function VOt(i,n){if(1&i&&(s.qex(0),s.EFF(1),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.SpI(" ",e.error,"\n")}}let za=(()=>{class i extends Tn{get error(){const e=this.control.errors;switch(!0){case e.required:return"Campo obbligatorio";case e.minlength:return`Minimo ${e.minlength.requiredLength} caratteri`;case e.maxlength:return`Massimo ${e.maxlength.requiredLength} caratteri`;case e.email:return"Email non valida";case e.minError&&null!=e.minError.minValue:return`Minimo ${this._getText(e.minError.minValue)}`;case e.maxError&&null!=e.maxError.maxValue:return`Massimo ${this._getText(e.maxError.maxValue)}`;case e.custom:return e.custom;default:return""}}constructor(){super(),this._datePipe=new To("it"),this._numberPipe=new bp("it")}_getText(e){return e instanceof Date?this._datePipe.transform(e,"dd/MM/yyyy"):"number"==typeof e?this._numberPipe.transform(e,"1.0-2"):e.toString()}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["lacos-validation-message"],["","lacosValidationMessage",""],["",8,"validation-message"]],inputs:{control:"control"},features:[s.Vt3],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(t,o){1&t&&s.DNE(0,VOt,2,1,"ng-container",0),2&t&&s.Y8G("ngIf",o.control&&o.control.errors&&o.control.dirty)},dependencies:[q],encapsulation:2})}return i})();const zOt=["form"];function HOt(i,n){1&i&&s.nrm(0,"div",3)}function jOt(i,n){if(1&i){const e=s.RV6();s.j41(0,"form",9,0),s.bIt("ngSubmit",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.close())}),s.j41(2,"div",10)(3,"div",11)(4,"label"),s.EFF(5,"Nome utente"),s.k0s(),s.j41(6,"div",12)(7,"input",13),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.userName,o)||(r.options.userName=o),s.Njj(o)}),s.k0s(),s.nrm(8,"div",14),s.k0s()(),s.j41(9,"div",15)(10,"label"),s.EFF(11,"Password"),s.k0s(),s.j41(12,"div",12)(13,"input",16),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.password,o)||(r.options.password=o),s.Njj(o)}),s.k0s(),s.nrm(14,"div",14),s.k0s()(),s.j41(15,"div",17)(16,"label"),s.EFF(17,"Abilitato"),s.k0s(),s.j41(18,"div",12)(19,"kendo-switch",18),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.enabled,o)||(r.options.enabled=o),s.Njj(o)}),s.k0s(),s.nrm(20,"div",14),s.k0s()()(),s.j41(21,"div",19)(22,"button",20),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.dismiss())}),s.EFF(23," ANNULLA "),s.k0s(),s.j41(24,"button",21),s.EFF(25," SALVA "),s.k0s()()()}if(2&i){const e=s.sdS(1),t=s.XpG(2);s.R7$(7),s.R50("ngModel",t.options.userName),s.R7$(),s.Y8G("control",e.controls.field_1),s.R7$(5),s.R50("ngModel",t.options.password),s.R7$(),s.Y8G("control",e.controls.field_2),s.R7$(5),s.R50("ngModel",t.options.enabled),s.R7$(),s.Y8G("control",e.controls.enabled)}}function $Ot(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",4)(1,"kendo-window",5),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.j41(2,"kendo-window-titlebar")(3,"div",6),s.EFF(4," Utente "),s.k0s(),s.nrm(5,"button",7),s.k0s(),s.DNE(6,jOt,26,6,"form",8),s.k0s()()}if(2&i){const e=s.XpG();s.R7$(),s.Y8G("resizable",!1)("draggable",!1)("top",30),s.R7$(5),s.Y8G("ngIf",e.options)}}let XOt=(()=>{class i extends eo{constructor(e){super(),this._messageBox=e,this.role=ci}_canClose(){return fl(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(vn))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["lacos-user-modal"]],viewQuery:function(t,o){if(1&t&&s.GBs(zOt,5),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first)}},features:[s.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],["name","updateUserForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateUserForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row"],[1,"col-md-5"],[1,"form-group"],["name","field_1","required","","maxlength","64","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"validation-message",3,"control"],[1,"col-md-4"],["name","field_2","maxlength","16","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3"],["name","enabled","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],[1,"text-right","mt-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","submit",1,"btn","btn-primary"]],template:function(t,o){1&t&&s.DNE(0,HOt,1,0,"div",1)(1,$Ot,7,4,"div",2),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened))},dependencies:[q,Ps,Qo,Di,Ls,lo,Ed,fs,ps,$i,ts,Ni,oS,za],encapsulation:2})}return i})(),ik=(()=>{class i extends Tn{transform(e){switch(e){case!0:return"Si";case!1:return"No";default:return e}}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=s.xGo(i)))(o||i)}})();static#t=this.\u0275pipe=s.EJ8({name:"bool",type:i,pure:!0})}return i})(),WOt=(()=>{class i extends Tn{transform(e){switch(e){case ci.Administrator:return"Amministratore";case ci.Operator:return"Operatore";case ci.Customer:return"Cliente";default:return e}}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=s.xGo(i)))(o||i)}})();static#t=this.\u0275pipe=s.EJ8({name:"role",type:i,pure:!0})}return i})();const KOt=["userModal"];function YOt(i,n){if(1&i&&(s.j41(0,"span",9),s.EFF(1),s.nI1(2,"role"),s.k0s()),2&i){const e=n.$implicit;s.R7$(),s.SpI(" ",s.bMT(2,1,e.role)," ")}}function JOt(i,n){1&i&&(s.EFF(0),s.nI1(1,"bool")),2&i&&s.SpI(" ",s.bMT(1,1,n.$implicit.enabled)," ")}function qOt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",10),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.edit(o))}),s.nrm(1,"i",11),s.k0s()}}let QOt=(()=>{class i extends Tn{constructor(e,t){super(),this._service=e,this._messageBox=t,this.state={skip:0,take:30,group:[],sort:[]}}ngOnInit(){this._read()}dataStateChange(e){this.state=e,this._read()}create(){const e=yc.empty();this._subscriptions.push(this.userModal.open(e).pipe(X(t=>t),le(()=>this._service.createUser(e)),F(t=>this._messageBox.success(`Utente ${t.userName} creato`)),F(()=>this._read())).subscribe())}edit(e){this._subscriptions.push(this._service.getUser(e.id).pipe((0,V.T)(t=>yc.fromUser(t)),le(t=>this.userModal.open(t)),X(t=>t),(0,V.T)(()=>this.userModal.options),le(t=>this._service.updateUser(t,e.id)),(0,V.T)(()=>this.userModal.options),F(t=>this._messageBox.success(`Utente ${t.userName} aggiornato`)),F(()=>this._read())).subscribe())}_read(){this._subscriptions.push(this._service.readUsers(this.state).pipe(F(e=>this.data=e)).subscribe())}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(el),s.rXU(vn))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["lacos-users"]],viewQuery:function(t,o){if(1&t&&s.GBs(KOt,7),2&t){let r;s.mGM(r=s.lsd())&&(o.userModal=r.first)}},features:[s.Vt3],decls:14,vars:11,consts:[["userModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","userName","title","Nome utente"],["field","role","title","Ruolo","filter","numeric"],["kendoGridCellTemplate",""],["field","enabled","title","Abilitato","filter","boolean"],["field","id","title"," ",3,"sortable","filterable","width"],[1,"text-nowrap"],["title","Modifica",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-edit"]],template:function(t,o){if(1&t){const r=s.RV6();s.j41(0,"div",1)(1,"div",2)(2,"h3"),s.EFF(3," Utenti "),s.k0s()()(),s.j41(4,"kendo-grid",3),s.bIt("dataStateChange",function(l){return s.eBV(r),s.Njj(o.dataStateChange(l))}),s.nrm(5,"kendo-grid-column",4),s.j41(6,"kendo-grid-column",5),s.DNE(7,YOt,3,3,"ng-template",6),s.k0s(),s.j41(8,"kendo-grid-column",7),s.DNE(9,JOt,2,3,"ng-template",6),s.k0s(),s.j41(10,"kendo-grid-column",8),s.DNE(11,qOt,2,0,"ng-template",6),s.k0s()(),s.nrm(12,"lacos-user-modal",null,0)}2&t&&(s.R7$(4),s.Y8G("data",o.data)("pageSize",o.state.take)("skip",o.state.skip)("sort",o.state.sort)("filter",o.state.filter)("group",o.state.group)("sortable",!0)("pageable",!0),s.R7$(6),s.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[Wi,Oi,Us,XOt,ik,WOt],encapsulation:2})}return i})(),ZOt=(()=>{class i extends Tn{constructor(e,t){super(),this._security=e,this._router=t}ngOnInit(){this._subscriptions.push(this._security.logout().pipe(F(()=>this._router.navigateByUrl("/login"))).subscribe())}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(el),s.rXU(Ns))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-logout"]],features:[s.Vt3],decls:0,vars:0,template:function(t,o){},encapsulation:2})}return i})(),eTt=(()=>{class i extends Tn{constructor(e,t){super(),this._security=e,this._router=t,this.credentials=new y$}login(){this._subscriptions.push(this._security.login(this.credentials).pipe(F(()=>this._router.navigateByUrl("/home"))).subscribe())}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(el),s.rXU(Ns))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["lacos-login"]],features:[s.Vt3],decls:20,vars:3,consts:[["loginForm","ngForm"],["name","loginForm","novalidate","","autocomplete","off",3,"ngSubmit"],[1,"text-center"],[1,"text-muted","text-center","mb-4"],[1,"row"],[1,"col-md-3"],["for","userName"],[1,"form-group"],["type","text","name","userName","novalidate","","autocomplete","off","required","","id","userName",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["type","password","name","password","novalidate","","autocomplete","off","required","","id","password",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,o){if(1&t){const r=s.RV6();s.j41(0,"form",1,0),s.bIt("ngSubmit",function(){s.eBV(r);const l=s.sdS(1);return s.Njj(l.valid&&o.login())}),s.j41(2,"h3",2),s.EFF(3,"Accesso Area Riservata"),s.k0s(),s.j41(4,"p",3),s.EFF(5,"Inserisci il tuo nome utente e password per accedere"),s.k0s(),s.j41(6,"div",4)(7,"div",5)(8,"label",6),s.EFF(9,"Nome utente"),s.k0s(),s.j41(10,"div",7)(11,"input",8),s.mxI("ngModelChange",function(l){return s.eBV(r),s.DH7(o.credentials.userName,l)||(o.credentials.userName=l),s.Njj(l)}),s.k0s()()()(),s.j41(12,"div",4)(13,"div",5)(14,"label",9),s.EFF(15,"Password"),s.k0s(),s.j41(16,"div",7)(17,"input",10),s.mxI("ngModelChange",function(l){return s.eBV(r),s.DH7(o.credentials.password,l)||(o.credentials.password=l),s.Njj(l)}),s.k0s()()()(),s.j41(18,"button",11),s.EFF(19,"ACCEDI"),s.k0s()()}if(2&t){const r=s.sdS(1);s.R7$(11),s.R50("ngModel",o.credentials.userName),s.R7$(6),s.R50("ngModel",o.credentials.password),s.R7$(),s.Y8G("disabled",r.invalid)}},dependencies:[Ps,Qo,Di,Ls,lo,fs,ps],encapsulation:2})}return i})();class Vu{constructor(n,e,t,o,r,a,l,c,u,f,_){this.id=n,this.note=t,this.operatorId=o,this.operatorName=r,this.jobId=a,this.activityId=l,this.ticketId=c,this.purchaseOrderId=u,this.elementCode=f,this.isRead=_,this.date=e?new Date(e):null}static build(n){return new Vu(n.id,n.date,n.note,n.operatorId,n.operatorName,n.jobId,n.activityId,n.ticketId,n.purchaseOrderId,n.elementCode,n.isRead)}}class U_{constructor(n,e,t,o,r,a,l,c){this.id=n,this.note=t,this.operatorId=o,this.jobId=r,this.activityId=a,this.ticketId=l,this.purchaseOrderId=c,this.date=e?new Date(e):null}static build(n){return new U_(n.id,n.date,n.note,n.operatorId,n.jobId,n.activityId,n.ticketId,n.purchaseOrderId)}}class sk{constructor(n,e,t,o){this.id=n,this.displayName=e,this.fileName=t,this.activityId=o}static build(n){return new sk(n.id,n.displayName,n.fileName,n.activityId)}get isImage(){return!!(this.fileName.endsWith(".jpg")||this.fileName.endsWith(".png")||this.fileName.endsWith(".jpeg")||this.fileName.endsWith(".gif"))}}var _a=function(i){return i[i.Pending=0]="Pending",i[i.InProgress=1]="InProgress",i[i.Completed=2]="Completed",i}(_a||{});const bMe={[_a.Pending]:"In attesa",[_a.InProgress]:"In corso",[_a.Completed]:"Completata"};class Bf{constructor(n,e,t,o,r,a,l,c,u,f,_,S,v,b,D,k,O,I){this.id=n,this.status=e,this.number=t,this.shortDescription=o,this.informations=r,this.description=a,this.jobId=l,this.supplierId=c,this.addressId=u,this.typeId=f,this.referentId=_,this.statusLabel0=b,this.statusLabel1=D,this.statusLabel2=k,this.attachments=O,this.messages=I,this.startDate=S?new Date(S):null,this.expirationDate=v?new Date(v):null}toJSON(){const n={...this};return n.startDate=n.startDate?n.startDate.toOffsetString():null,n.expirationDate=n.expirationDate?n.expirationDate.toOffsetString():null,n}static build(n){const e=n.attachments.map(o=>sk.build(o)),t=n.messages.map(o=>Vu.build(o));return new Bf(n.id,n.status,n.number,n.shortDescription,n.informations,n.description,n.jobId,n.supplierId,n.addressId,n.typeId,n.referentId,n.startDate,n.expirationDate,n.statusLabel0,n.statusLabel1,n.statusLabel2,e,t)}}class gB{constructor(n,e,t,o,r,a,l,c,u,f,_,S,v,b,D,k,O,I,x,P,L,H,j,J){this.id=n,this.status=e,this.number=t,this.shortDescription=o,this.informations=r,this.description=a,this.jobId=l,this.job=c,this.customerId=u,this.customer=f,this.supplierId=_,this.addressId=S,this.address=v,this.typeId=b,this.type=D,this.referentId=I,this.referent=x,this.statusLabel0=P,this.statusLabel1=L,this.statusLabel2=H,this.attachments=j,this.messages=J,this.startDate=k?new Date(k):null,this.expirationDate=O?new Date(O):null}asActivity(){return new Bf(this.id,this.status,this.number,this.shortDescription,this.informations,this.description,this.jobId,this.supplierId,this.addressId,this.typeId,this.referentId,this.startDate,this.expirationDate,this.statusLabel0,this.statusLabel1,this.statusLabel2,this.attachments,this.messages)}static build(n){const e=n.attachments.map(o=>sk.build(o)),t=n.messages.map(o=>Vu.build(o));return new gB(n.id,n.status,n.number,n.shortDescription,n.informations,n.description,n.jobId,n.job,n.customerId,n.customer,n.supplierId,n.addressId,n.address,n.typeId,n.type,n.startDate,n.expirationDate,n.referentId,n.referent,n.statusLabel0,n.statusLabel1,n.statusLabel2,e,t)}}class tTt{constructor(){this.id=null,this.colorHex=null,this.name=null,this.active=null,this.expired=null}}class FA{constructor(n){this.newActivities=n}static build(n){return new FA(n.newActivities)}}var Fc=function(i){return i[i.Opened=0]="Opened",i[i.InProgress=1]="InProgress",i[i.Resolved=2]="Resolved",i[i.Canceled=3]="Canceled",i}(Fc||{});const EMe={[Fc.Opened]:"APERTO",[Fc.InProgress]:"IN CORSO",[Fc.Resolved]:"EVASO",[Fc.Canceled]:"ANNULLATO"};class ok{get code(){return`${this.year}/${this.number}`}constructor(n,e,t,o,r,a,l,c,u,f,_){this.id=n,this.number=e,this.year=t,this.description=r,this.status=a,this.customerId=l,this.activityId=c,this.operatorId=u,this.pictures=f,this.messages=_,this.date=o?new Date(o):null}static build(n){const e=n.messages.map(t=>Vu.build(t));return new ok(n.id,n.number,n.year,n.date,n.description,n.status,n.customerId,n.activityId,n.operatorId,n.pictures,e)}}class BA{constructor(n,e){this.openedTickets=n,this.newTickets=e}static build(n){return new BA(n.openedTickets,n.newTickets)}}class nTt{constructor(n,e){this.fileName=n,this.originalFileName=e}}let Xh=(()=>{class i{static#e=this.asActivityDetailResolver=(e,t)=>(0,s.WQX)(i).getDetail(+e.params.activityId);constructor(e){this._http=e,this._baseUrl=`${fn.baseApiUrl}/activities`}read(e){return H0(this._http,e,`${this._baseUrl}/read`)}get(e){return this._http.get(`${this._baseUrl}/${e}`).pipe((0,V.T)(t=>Bf.build(t)))}getDetail(e){return this._http.get(`${this._baseUrl}/${e}/detail`).pipe((0,V.T)(t=>gB.build(t)))}create(e){return this._http.post(this._baseUrl,e).pipe((0,V.T)(t=>Bf.build(t)))}update(e){return this._http.put(`${this._baseUrl}/${e.id}`,e).pipe((0,V.T)(t=>Bf.build(t)))}save(e){return e.id?this.update(e):this.create(e)}delete(e){return this._http.delete(`${this._baseUrl}/${e}`).pipe((0,V.T)(()=>{}))}assignAllCustomerProducts(e){return this._http.put(`${this._baseUrl}/${e}/assign-all-customer-products`,null).pipe((0,V.T)(()=>{}))}readActivityTypesCounters(){return this._http.get(`${this._baseUrl}/activities-counters`).pipe((0,V.T)(e=>{const t=[];return e.forEach(o=>{const r=Object.assign(new tTt,o);t.push(r)}),t}))}readNewActivitiesCounter(){return this._http.get(`${this._baseUrl}/new-activities-counter`).pipe((0,V.T)(e=>FA.build(e)))}createActivityAttachment(e){return this._http.post(`${this._baseUrl}/create-attachment`,e).pipe()}updateActivityAttachment(e,t){return this._http.put(`${this._baseUrl}/update-attachment/${t}`,e).pipe()}getActivityAttachments(e){return this._http.get(`${this._baseUrl}/${e}/all-attachments`).pipe((0,V.T)(t=>t.map(o=>sk.build(o))))}getActivityAttachmentDetail(e){return this._http.get(`${this._baseUrl}/attachment-detail/${e}`).pipe((0,V.T)(t=>gB.build(t)))}uploadActivityAttachmentFile(e){const t=new FormData;t.append(e.name,e);const o=new Za("POST",`${this._baseUrl}/activity-attachment/upload-file`,t,{reportProgress:!1});return this._http.request(o).pipe(X(r=>r.type===wr.Response),(0,V.T)(r=>r.body),(0,V.T)(r=>new nTt(r.fileName,r.originalFileName)))}deleteActivity(e){return this._http.delete(`${this._baseUrl}/activity/${e}`).pipe((0,V.T)(()=>{}))}static#t=this.\u0275fac=function(t){return new(t||i)(s.KVO(Yo))};static#n=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();class SB{constructor(n,e,t,o){this.id=n,this.description=e,this.fileName=t,this.ticketId=o}static build(n){return new SB(n.id,n.description,n.fileName,n.ticketId)}get isImage(){return!!(this.fileName.endsWith(".jpg")||this.fileName.endsWith(".png")||this.fileName.endsWith(".jpeg")||this.fileName.endsWith(".gif"))}}class iTt{constructor(n,e){this.fileName=n,this.originalFileName=e}}let VA=(()=>{class i{constructor(e){this._http=e,this._baseUrl=`${fn.baseApiUrl}/tickets`}read(e){return H0(this._http,e,`${this._baseUrl}/read`)}get(e){return this._http.get(`${this._baseUrl}/${e}`).pipe((0,V.T)(t=>ok.build(t)))}create(e){return this._http.post(this._baseUrl,e).pipe((0,V.T)(t=>ok.build(t)))}update(e){return this._http.put(`${this._baseUrl}/${e.id}`,e).pipe((0,V.T)(t=>ok.build(t)))}delete(e){return this._http.delete(`${this._baseUrl}/${e}`).pipe((0,V.T)(()=>{}))}readTicketsCounters(){return this._http.get(`${this._baseUrl}/tickets-counters`).pipe((0,V.T)(e=>BA.build(e)))}createTicketAttachment(e){return this._http.post(`${this._baseUrl}/create-attachment`,e).pipe()}updateTicketAttachment(e,t){return this._http.put(`${this._baseUrl}/update-attachment/${t}`,e).pipe()}getTicketAttachments(e){return this._http.get(`${this._baseUrl}/${e}/all-attachments`).pipe((0,V.T)(t=>t.map(o=>SB.build(o))))}uploadTicketAttachmentFile(e){const t=new FormData;t.append(e.name,e);const o=new Za("POST",`${this._baseUrl}/ticket-attachment/upload-file`,t,{reportProgress:!1});return this._http.request(o).pipe(X(r=>r.type===wr.Response),(0,V.T)(r=>r.body),(0,V.T)(r=>new iTt(r.fileName,r.originalFileName)))}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Yo))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();const yMe=()=>({"background-color":"#ffbcbc"}),sTt=()=>["/activities"],oTt=i=>({typeId:i});function rTt(i,n){if(1&i&&(s.j41(0,"div",1)(1,"a",16)(2,"div",0)(3,"div",17),s.EFF(4),s.k0s(),s.j41(5,"div",13)(6,"div",14),s.EFF(7),s.k0s(),s.j41(8,"div",15),s.EFF(9),s.k0s()()()()()),2&i){const e=n.$implicit;s.R7$(),s.xc7("background-color",e.activityColor||"#3485fd"),s.Y8G("routerLink",s.lJ4(7,sTt))("queryParams",s.eq3(8,oTt,e.activityId)),s.R7$(3),s.JRh(e.activityName),s.R7$(3),s.JRh(e.active),s.R7$(2),s.JRh(e.expired)}}function aTt(i,n){1&i&&(s.j41(0,"div",1)(1,"a",18)(2,"div",11),s.EFF(3,"Commesse"),s.k0s(),s.j41(4,"span"),s.nrm(5,"i",19),s.k0s()()())}function lTt(i,n){1&i&&(s.j41(0,"div",1)(1,"a",20)(2,"div",11),s.EFF(3,"Commesse Complete"),s.k0s(),s.j41(4,"span"),s.nrm(5,"i",21),s.k0s()()())}function cTt(i,n){if(1&i&&(s.j41(0,"div",1)(1,"a",22)(2,"div",0)(3,"div",10)(4,"div",11),s.EFF(5,"Attivit\xe0"),s.k0s(),s.j41(6,"span"),s.nrm(7,"i",12),s.k0s()(),s.j41(8,"div",13)(9,"div",15),s.EFF(10),s.k0s()()()()()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngStyle",e.newActivitiesCounter.newActivities>0?s.lJ4(2,yMe):""),s.R7$(9),s.JRh(e.newActivitiesCounter.newActivities)}}function dTt(i,n){1&i&&(s.j41(0,"div",1)(1,"a",23)(2,"div",11),s.EFF(3,"Attivit\xe0"),s.k0s(),s.j41(4,"span"),s.nrm(5,"i",12),s.k0s()()())}function uTt(i,n){1&i&&(s.j41(0,"div",1)(1,"a",24)(2,"div",11),s.EFF(3,"Calendario"),s.k0s(),s.j41(4,"span"),s.nrm(5,"i",25),s.k0s()()())}function hTt(i,n){1&i&&(s.j41(0,"div",1)(1,"a",26)(2,"div",11),s.EFF(3,"Ordini Acquisto"),s.k0s(),s.j41(4,"span"),s.nrm(5,"i",27),s.k0s()()())}let pTt=(()=>{class i extends Tn{constructor(e,t,o){super(),this._activityService=t,this._ticketService=o,this.newActivitiesCounter=new FA(0),this.isAdmin=e.isAuthorized(ci.Administrator),this.isOperator=e.isAuthorized(ci.Operator)}ngOnInit(){this.ticketsCounters=new BA(0,0),this._getActivityTypes(),this._getTicketsCounters(),this._getNewActivitiesCounter()}_getActivityTypes(){this._subscriptions.push(this._activityService.readActivityTypesCounters().pipe(F(e=>{this.activitiesCounters=e})).subscribe())}_getTicketsCounters(){this._subscriptions.push(this._ticketService.readTicketsCounters().pipe(F(e=>{this.ticketsCounters=e})).subscribe())}_getNewActivitiesCounter(){this._subscriptions.push(this._activityService.readNewActivitiesCounter().pipe(F(e=>{this.newActivitiesCounter=e})).subscribe())}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(el),s.rXU(Xh),s.rXU(VA))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["lacos-home"]],features:[s.Vt3],decls:38,vars:11,consts:[[1,"row"],[1,"col-md-2"],["src","assets/logo_lacos.png","width","100%"],[1,"col-md-10"],[1,"col-12"],[1,"title","lacos",2,"margin-bottom","10px"],["class","col-md-2",4,"ngFor","ngForOf"],[1,"lacos"],["class","col-md-2",4,"ngIf"],["routerLink","/tickets","routerLinkActive","active",1,"btn","btn-light","dashboardBtn",3,"ngStyle"],[1,"col-8"],[1,"title"],[1,"fa","fa-3x","fa-tag"],[1,"col-4"],[1,"green-number","bage-number"],[1,"red-number","bage-number"],["routerLinkActive","active",1,"btn","btn-light","dashboardBtn",3,"routerLink","queryParams"],[1,"title","col-8"],["routerLink","/jobs","routerLinkActive","active",1,"btn","btn-light","dashboardBtn"],[1,"fa","fa-3x","fa-door-open"],["routerLink","/jobs-completed","routerLinkActive","active",1,"btn","btn-light","dashboardBtn"],[1,"fa","fa-3x","fa-coins"],["routerLink","/activities","routerLinkActive","active",1,"btn","btn-light","dashboardBtn",3,"ngStyle"],["routerLink","/activities","routerLinkActive","active",1,"btn","btn-light","dashboardBtn"],["routerLink","/interventions","routerLinkActive","active",1,"btn","btn-light","dashboardBtn"],[1,"fa","fa-3x","fa-calendar-days"],["routerLink","/purchase-orders","routerLinkActive","active",1,"btn","btn-light","dashboardBtn"],[1,"fa","fa-3x","fa-shop"]],template:function(t,o){1&t&&(s.j41(0,"div",0)(1,"div",1),s.nrm(2,"img",2),s.k0s(),s.j41(3,"div",3)(4,"div",0)(5,"div",4)(6,"div",5)(7,"i"),s.EFF(8,"Attivit\xe0 in corso"),s.k0s()()()(),s.j41(9,"div",0),s.DNE(10,rTt,10,10,"div",6),s.k0s(),s.nrm(11,"hr",7),s.j41(12,"div",0)(13,"div",4)(14,"div",5)(15,"i"),s.EFF(16,"Gestione Commesse"),s.k0s()()()(),s.j41(17,"div",0),s.DNE(18,aTt,6,0,"div",8)(19,lTt,6,0,"div",8)(20,cTt,11,3,"div",8)(21,dTt,6,0,"div",8)(22,uTt,6,0,"div",8),s.j41(23,"div",1)(24,"a",9)(25,"div",0)(26,"div",10)(27,"div",11),s.EFF(28,"Tickets"),s.k0s(),s.j41(29,"span"),s.nrm(30,"i",12),s.k0s()(),s.j41(31,"div",13)(32,"div",14),s.EFF(33),s.k0s(),s.j41(34,"div",15),s.EFF(35),s.k0s()()()()(),s.DNE(36,hTt,6,0,"div",8),s.k0s(),s.nrm(37,"hr",7),s.k0s()()),2&t&&(s.R7$(10),s.Y8G("ngForOf",o.activitiesCounters),s.R7$(8),s.Y8G("ngIf",o.isAdmin),s.R7$(),s.Y8G("ngIf",o.isAdmin),s.R7$(),s.Y8G("ngIf",o.newActivitiesCounter.newActivities>0),s.R7$(),s.Y8G("ngIf",0==o.newActivitiesCounter.newActivities),s.R7$(),s.Y8G("ngIf",o.isAdmin),s.R7$(2),s.Y8G("ngStyle",o.ticketsCounters.newTickets>0?s.lJ4(10,yMe):""),s.R7$(9),s.JRh(o.ticketsCounters.openedTickets),s.R7$(2),s.JRh(o.ticketsCounters.newTickets),s.R7$(),s.Y8G("ngIf",o.isAdmin))},dependencies:[ut,q,Wn,mu,By],styles:[".dashboardBtn[_ngcontent-%COMP%]{width:95%;padding:15px;min-height:100px;margin-bottom:15px}.dashboardBtn[_ngcontent-%COMP%]:hover{background-color:#46a43e;color:#fff}.dashboardBtn[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-bottom:10px}.bage-number[_ngcontent-%COMP%]{float:right;padding:2px 8px;border-radius:5px;margin:2px;color:#fff;font-weight:700;font-size:1.2em}.green-number[_ngcontent-%COMP%]{background-color:#46a43e;color:#fff;border:1px solid #FFF}.red-number[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:1px solid #FFF}"]})}return i})();var j0=function(i){return i[i.PrivatePerson=0]="PrivatePerson",i[i.Company=1]="Company",i[i.PublicAdministration=2]="PublicAdministration",i[i.Foreign=3]="Foreign",i}(j0||{});class xr{get fiscalTypeDescription(){return this.fiscalType>=0?j0[this.fiscalType]:""}constructor(){this.id=null,this.name=null,this.fiscalType=null,this.canGenerateTickets=!1,this.telephone=null,this.email=null,this.contact=null,this.contactTelephone=null,this.contactEmail=null,this.addresses=[],this.mainAddress=null}}const DMe={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let vB;const fTt=new Uint8Array(16);function mTt(){if(!vB&&(vB=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!vB))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vB(fTt)}const Ha=[];for(let i=0;i<256;++i)Ha.push((i+256).toString(16).slice(1));const kMe=function _Tt(i,n,e){if(DMe.randomUUID&&!n&&!i)return DMe.randomUUID();const t=(i=i||{}).random||(i.rng||mTt)();if(t[6]=15&t[6]|64,t[8]=63&t[8]|128,n){e=e||0;for(let o=0;o<16;++o)n[e+o]=t[o];return n}return function wMe(i,n=0){return Ha[i[n+0]]+Ha[i[n+1]]+Ha[i[n+2]]+Ha[i[n+3]]+"-"+Ha[i[n+4]]+Ha[i[n+5]]+"-"+Ha[i[n+6]]+Ha[i[n+7]]+"-"+Ha[i[n+8]]+Ha[i[n+9]]+"-"+Ha[i[n+10]]+Ha[i[n+11]]+Ha[i[n+12]]+Ha[i[n+13]]+Ha[i[n+14]]+Ha[i[n+15]]}(t)};class ns{get fullAddress(){let n="";return""!==this.description&&(n+=`${this.description} - `),null!==this.streetAddress&&(n+=`${this.streetAddress}, `),null!==this.city&&(n+=`${this.city} `),null!==this.province&&(n+=` (${this.province}) `),null!==this.zipCode&&(n+=`, ${this.zipCode}`),n}constructor(){this.id=null,this.customerId=null,this.supplierId=null,this.description="",this.city=null,this.streetAddress=null,this.province=null,this.zipCode=null,this.isMainAddress=!1,this.notes=null,this.tempId=kMe()}}let zu=(()=>{class i{constructor(e){this._http=e,this._baseUrl=`${fn.baseApiUrl}/customers`}readCustomers(e){const t=_d(e),o=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/customers?${t}`).pipe((0,V.T)(r=>{const a=[];return r.data.forEach(l=>{const c=Object.assign(new xr,l),u=[];c.addresses.forEach(_=>{const S=Object.assign(new ns,_);u.push(S)}),c.addresses=u;let f=u.find(_=>_.isMainAddress);null==f&&(f=new ns),c.mainAddress=f,a.push(c)}),{data:o?Ra(a):a,total:r.total}}))}createCustomer(e){return this.setCustomerTelephoneAndEmailInMainAddress(e),this._http.post(`${this._baseUrl}/customer`,e).pipe((0,V.T)(t=>t))}updateCustomer(e,t){return this.setCustomerTelephoneAndEmailInMainAddress(e),this._http.put(`${this._baseUrl}/customer/${t}`,e).pipe((0,V.T)(()=>{}))}setCustomerTelephoneAndEmailInMainAddress(e){const t=e.addresses.find(o=>1==o.isMainAddress);null!=t&&(t.telephone=e.telephone,t.email=e.email)}deleteCustomer(e){return this._http.delete(`${this._baseUrl}/customer/${e}`).pipe((0,V.T)(()=>{}))}getCustomer(e){return this._http.get(`${this._baseUrl}/customer/${e}`).pipe((0,V.T)(t=>{const o=Object.assign(new xr,t),r=[];o.addresses.forEach(l=>{const c=Object.assign(new ns,l);r.push(c)}),o.addresses=r;let a=r.find(l=>l.isMainAddress);return null==a&&(a=new ns),o.mainAddress=a,o.telephone=a.telephone,o.email=a.email,o}))}getCustomersList(){return this._http.get(`${this._baseUrl}/customers-list`).pipe((0,V.T)(e=>{const t=[];return e.forEach(o=>{const r=Object.assign(new xr,o),a=[];r.addresses.forEach(c=>{const u=Object.assign(new ns,c);a.push(u)}),r.addresses=a;let l=a.find(c=>c.isMainAddress);null==l&&(l=new ns),r.mainAddress=l,t.push(r)}),t}))}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Yo))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})(),Vf=(()=>{class i{constructor(e){this._http=e,this._baseUrl=`${fn.baseApiUrl}/addresses`}createAddress(e){return this._http.post(`${this._baseUrl}/address`,e)}updateAddress(e,t){return this._http.put(`${this._baseUrl}/address/${t}`,e).pipe((0,V.T)(()=>{}))}deleteAddress(e){return this._http.delete(`${this._baseUrl}/address/${e}`).pipe((0,V.T)(()=>{}))}getAddress(e){return this._http.get(`${this._baseUrl}/address/${e}`).pipe((0,V.T)(t=>Object.assign(new ns,t)))}setAddressAsMain(e){return this._http.put(`${this._baseUrl}/set-address-as-main/${e}`,null).pipe((0,V.T)(()=>{}))}getCustomerAddresses(e){return this._http.get(`${this._baseUrl}/address/customer/${e}`).pipe((0,V.T)(t=>{const o=[];return t.forEach(r=>{const a=Object.assign(new ns,r);o.push(a)}),o}))}getSupplierAddresses(e){return this._http.get(`${this._baseUrl}/address/supplier/${e}`).pipe((0,V.T)(t=>{const o=[];return t.forEach(r=>{const a=Object.assign(new ns,r);o.push(a)}),o}))}getAddresses(){return this._http.get(`${this._baseUrl}/addresses`).pipe((0,V.T)(e=>{const t=[];return e.forEach(o=>{const r=Object.assign(new ns,o);t.push(r)}),t}))}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Yo))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();class Hu{constructor(){this.id=null,this.name=null,this.telephone=null,this.email=null,this.contact=null,this.contactTelephone=null,this.contactEmail=null,this.addresses=[],this.mainAddress=null}}const gTt=["form"],STt=()=>({caseSensitive:!1,operator:"contains"});function vTt(i,n){1&i&&s.nrm(0,"div",3)}function CTt(i,n){if(1&i&&(s.j41(0,"div",25)(1,"label"),s.EFF(2,"Cliente"),s.k0s(),s.j41(3,"div",13),s.nrm(4,"input",26),s.k0s()()),2&i){const e=s.XpG(3);s.R7$(4),s.Y8G("disabled",!0)("value",e.customer.name)}}function bTt(i,n){if(1&i&&(s.j41(0,"div",25)(1,"label"),s.EFF(2,"Fornitore"),s.k0s(),s.j41(3,"div",13),s.nrm(4,"input",27),s.k0s()()),2&i){const e=s.XpG(3);s.R7$(4),s.Y8G("disabled",!0)("value",e.supplier.name)}}function ETt(i,n){if(1&i){const e=s.RV6();s.j41(0,"form",9,0),s.bIt("ngSubmit",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.close())}),s.j41(2,"div",10),s.DNE(3,CTt,5,2,"div",11)(4,bTt,5,2,"div",11),s.k0s(),s.j41(5,"div",10)(6,"div",12)(7,"label"),s.EFF(8,"Tipo indirizzo"),s.k0s(),s.j41(9,"div",13)(10,"kendo-combobox",14),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.description,o)||(r.options.description=o),s.Njj(o)}),s.k0s(),s.nrm(11,"div",15),s.k0s()(),s.j41(12,"div",12)(13,"label"),s.EFF(14,"Citt\xe0"),s.k0s(),s.j41(15,"div",13)(16,"input",16),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.city,o)||(r.options.city=o),s.Njj(o)}),s.k0s(),s.nrm(17,"div",15),s.k0s()(),s.j41(18,"div",12)(19,"label"),s.EFF(20,"Indirizzo"),s.k0s(),s.j41(21,"div",13)(22,"input",17),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.streetAddress,o)||(r.options.streetAddress=o),s.Njj(o)}),s.k0s(),s.nrm(23,"div",15),s.k0s()()(),s.j41(24,"div",10)(25,"div",12)(26,"label"),s.EFF(27,"Provincia"),s.k0s(),s.j41(28,"div",13)(29,"input",18),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.province,o)||(r.options.province=o),s.Njj(o)}),s.k0s(),s.nrm(30,"div",15),s.k0s()(),s.j41(31,"div",12)(32,"label"),s.EFF(33,"Zip Code"),s.k0s(),s.j41(34,"div",13)(35,"input",19),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.zipCode,o)||(r.options.zipCode=o),s.Njj(o)}),s.k0s(),s.nrm(36,"div",15),s.k0s()(),s.j41(37,"div",20)(38,"label"),s.EFF(39,"Indirizzo principale"),s.k0s(),s.j41(40,"div",13)(41,"kendo-switch",21),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.isMainAddress,o)||(r.options.isMainAddress=o),s.Njj(o)}),s.k0s(),s.nrm(42,"div",15),s.k0s()()(),s.j41(43,"div",22)(44,"button",23),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.dismiss())}),s.EFF(45," ANNULLA "),s.k0s(),s.j41(46,"button",24),s.EFF(47," SALVA "),s.k0s()()()}if(2&i){const e=s.sdS(1),t=s.XpG(2);s.R7$(3),s.Y8G("ngIf",null!==t.customer.id),s.R7$(),s.Y8G("ngIf",null!==t.supplier.id),s.R7$(6),s.Y8G("data",t.addressesTypes)("kendoDropDownFilter",s.lJ4(18,STt)),s.R50("ngModel",t.options.description),s.Y8G("suggest",!0)("allowCustom",!0),s.R7$(),s.Y8G("control",e.controls.description),s.R7$(5),s.R50("ngModel",t.options.city),s.R7$(),s.Y8G("control",e.controls.city),s.R7$(5),s.R50("ngModel",t.options.streetAddress),s.R7$(),s.Y8G("control",e.controls.streetAddress),s.R7$(6),s.R50("ngModel",t.options.province),s.R7$(),s.Y8G("control",e.controls.province),s.R7$(5),s.R50("ngModel",t.options.zipCode),s.R7$(),s.Y8G("control",e.controls.zipCode),s.R7$(5),s.R50("ngModel",t.options.isMainAddress),s.R7$(),s.Y8G("control",e.controls.isMainAddress)}}function yTt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",4)(1,"kendo-window",5),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.j41(2,"kendo-window-titlebar")(3,"div",6),s.EFF(4," Indirizzo "),s.k0s(),s.nrm(5,"button",7),s.k0s(),s.DNE(6,ETt,48,19,"form",8),s.k0s()()}if(2&i){const e=s.XpG();s.R7$(),s.Y8G("resizable",!1)("draggable",!1)("top",100),s.R7$(5),s.Y8G("ngIf",e.options)}}let F_=(()=>{class i extends eo{constructor(e){super(),this._messageBox=e,this.role=ci,this.addressesTypes=["Cantiere","Consegna","Fornitore","Sede"],this.customer=new xr,this.supplier=new Hu}_canClose(){return fl(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(vn))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-address-modal"]],viewQuery:function(t,o){if(1&t&&s.GBs(gTt,5),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first)}},inputs:{customer:"customer",supplier:"supplier"},features:[s.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],["name","updateUserForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateUserForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row"],["class","col-md-6",4,"ngIf"],[1,"col-md-4"],[1,"form-group"],["name","description",3,"ngModelChange","data","kendoDropDownFilter","ngModel","suggest","allowCustom"],[1,"validation-message",3,"control"],["name","city","required","","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["name","streetAddress","required","","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["name","province","required","","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["name","zipCode","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3"],["name","isMainAddress","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],[1,"text-right","mt-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"col-md-6"],["name","customerId",1,"form-control",3,"disabled","value"],["name","supplierId",1,"form-control",3,"disabled","value"]],template:function(t,o){1&t&&s.DNE(0,vTt,1,0,"div",1)(1,yTt,7,4,"div",2),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened))},dependencies:[q,Ps,Qo,Di,Ls,lo,Ed,fs,ps,$i,ts,Ni,qD,ca,oS,za]})}return i})(),$0=(()=>{class i{constructor(e){this._http=e,this._baseUrl=`${fn.baseApiUrl}/suppliers`}readSuppliers(e){const t=_d(e),o=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/suppliers?${t}`).pipe((0,V.T)(r=>{const a=[];return r.data.forEach(l=>{const c=Object.assign(new Hu,l),u=[];c.addresses.forEach(_=>{const S=Object.assign(new ns,_);u.push(S)}),c.addresses=u;let f=u.find(_=>_.isMainAddress);null==f&&(f=new ns),c.mainAddress=f,a.push(c)}),{data:o?Ra(a):a,total:r.total}}))}createSupplier(e){return this.setSupplierTelephoneAndEmailInMainAddress(e),this._http.post(`${this._baseUrl}/supplier`,e).pipe((0,V.T)(t=>t))}updateSupplier(e,t){return this.setSupplierTelephoneAndEmailInMainAddress(e),this._http.put(`${this._baseUrl}/supplier/${t}`,e).pipe((0,V.T)(()=>{}))}setSupplierTelephoneAndEmailInMainAddress(e){const t=e.addresses.find(o=>1==o.isMainAddress);null!=t&&(t.telephone=e.telephone,t.email=e.email)}deleteSupplier(e){return this._http.delete(`${this._baseUrl}/supplier/${e}`).pipe((0,V.T)(()=>{}))}getSupplier(e){return this._http.get(`${this._baseUrl}/supplier/${e}`).pipe((0,V.T)(t=>{const o=Object.assign(new Hu,t),r=[];o.addresses.forEach(l=>{const c=Object.assign(new ns,l);r.push(c)}),o.addresses=r;let a=r.find(l=>l.isMainAddress);return null==a&&(a=new ns),o.mainAddress=a,o.telephone=a.telephone,o.email=a.email,o}))}getSuppliersList(){return this._http.get(`${this._baseUrl}/suppliers-list`).pipe((0,V.T)(e=>{const t=[];return e.forEach(o=>{const r=Object.assign(new Hu,o),a=[];r.addresses.forEach(c=>{const u=Object.assign(new ns,c);a.push(u)}),r.addresses=a;let l=a.find(c=>c.isMainAddress);null==l&&(l=new ns),r.mainAddress=l,t.push(r)}),t}))}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Yo))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();const DTt=["addressModal"];function wTt(i,n){1&i&&s.nrm(0,"div",4)}function kTt(i,n){1&i&&(s.EFF(0),s.nI1(1,"bool")),2&i&&s.SpI(" ",s.bMT(1,1,n.$implicit.isMainAddress)," ")}function OTt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",29),s.bIt("click",function(){s.eBV(e);const o=s.XpG().$implicit,r=s.XpG(2);return s.Njj(r.setAddressAsMain(o))}),s.nrm(1,"i",30),s.k0s()}}function TTt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",24),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG(2);return s.Njj(r.editAddress(o))}),s.nrm(1,"i",25),s.k0s(),s.DNE(2,OTt,2,0,"button",26),s.j41(3,"button",27),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG(2);return s.Njj(r.deleteAddress(o))}),s.nrm(4,"i",28),s.k0s()}if(2&i){const e=n.$implicit;s.R7$(2),s.Y8G("ngIf",!e.isMainAddress)}}function MTt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",5)(1,"kendo-window",6),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.j41(2,"kendo-window-titlebar")(3,"div",7),s.EFF(4," Gestione indirizzi "),s.k0s(),s.nrm(5,"button",8),s.k0s(),s.j41(6,"div",9),s.nrm(7,"div",10),s.j41(8,"div",11)(9,"button",12),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.createAddress())}),s.nrm(10,"i",13),s.EFF(11," NUOVO INDIRIZZO "),s.k0s()()(),s.j41(12,"kendo-grid",14),s.nrm(13,"kendo-grid-column",15)(14,"kendo-grid-column",16)(15,"kendo-grid-column",17)(16,"kendo-grid-column",18),s.j41(17,"kendo-grid-column",19),s.DNE(18,kTt,2,3,"ng-template",20),s.k0s(),s.j41(19,"kendo-grid-column",21),s.DNE(20,TTt,5,1,"ng-template",20),s.k0s()(),s.j41(21,"div",22)(22,"button",23),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.EFF(23," CHIUDI "),s.k0s()()()()}if(2&i){const e=s.XpG();s.R7$(),s.Y8G("resizable",!1)("draggable",!1)("width",1e3)("top",110),s.R7$(11),s.Y8G("data",e.customer.addresses)("sortable",!1)("pageable",!1),s.R7$(7),s.Y8G("sortable",!1)("filterable",!1)("width",130)}}let OMe=(()=>{class i extends Tn{constructor(e,t,o,r){super(),this._messageBox=e,this._addressesService=t,this._customerService=o,this._supplierService=r,this.opened=!1,this.customer=new xr,this.supplier=new Hu}open(){return this._closeSubject||(this._closeSubject=new Ke.B),this._oveflow=document.body.style.overflow,document.body.style.overflow="hidden",this.opened=!0,this._closeSubject.asObservable()}dismiss(){this._closeSubject.next(!1),this._closeSubject.complete(),this._closeSubject=null,this.opened=!1,document.body.style.overflow=this._oveflow}createAddress(){const e=new ns;null===this.customer.id?this._subscriptions.push(this.addressModal.open(e).pipe(X(t=>t),F(t=>{this.customer.addresses.push(e),e.isMainAddress&&(this.customer.mainAddress=e,this.customer.addresses.forEach(o=>{o.isMainAddress=o.tempId===e.tempId})),this._messageBox.success("Indirizzo creato con successo")})).subscribe()):(e.customerId=this.customer.id,this._subscriptions.push(this.addressModal.open(e).pipe(X(t=>t),le(()=>this._addressesService.createAddress(e)),F(t=>this._messageBox.success("Indirizzo creato con successo")),F(()=>this.readAddresses())).subscribe())),null===this.supplier.id?this._subscriptions.push(this.addressModal.open(e).pipe(X(t=>t),F(t=>{this.supplier.addresses.push(e),e.isMainAddress&&(this.supplier.mainAddress=e,this.supplier.addresses.forEach(o=>{o.isMainAddress=o.tempId===e.tempId})),this._messageBox.success("Indirizzo creato con successo")})).subscribe()):(e.supplierId=this.supplier.id,this._subscriptions.push(this.addressModal.open(e).pipe(X(t=>t),le(()=>this._addressesService.createAddress(e)),F(t=>this._messageBox.success("Indirizzo creato con successo")),F(()=>this.readAddresses())).subscribe()))}editAddress(e){if(null===this.customer.id){const t=Object.assign(new ns,JSON.parse(JSON.stringify(e)));this._subscriptions.push(this.addressModal.open(t).pipe(X(o=>o),F(o=>{const r=this.customer.addresses.findIndex(a=>a.tempId===t.tempId);r>=0&&(this.customer.addresses[r]=t,t.isMainAddress&&(this.customer.mainAddress=t,this.customer.addresses.forEach(a=>{a.isMainAddress=a.tempId===t.tempId})),this._messageBox.success("Indirizzo modificato con successo"))})).subscribe())}else if(null===this.supplier.id){const t=Object.assign(new ns,JSON.parse(JSON.stringify(e)));this._subscriptions.push(this.addressModal.open(t).pipe(X(o=>o),F(o=>{const r=this.supplier.addresses.findIndex(a=>a.tempId===t.tempId);r>=0&&(this.supplier.addresses[r]=t,t.isMainAddress&&(this.supplier.mainAddress=t,this.supplier.addresses.forEach(a=>{a.isMainAddress=a.tempId===t.tempId})),this._messageBox.success("Indirizzo modificato con successo"))})).subscribe())}else this._subscriptions.push(this._addressesService.getAddress(e.id).pipe((0,V.T)(t=>Object.assign(new ns,t)),le(t=>this.addressModal.open(t)),X(t=>t),(0,V.T)(()=>this.addressModal.options),le(t=>this._addressesService.updateAddress(t,e.id)),(0,V.T)(()=>this.addressModal.options),F(t=>this._messageBox.success("Indirizzo aggiornato con successo")),F(()=>this.readAddresses())).subscribe())}deleteAddress(e){null===this.customer.id?this._messageBox.confirm("Sei sicuro di voler cancellare l'indirizzo?","Conferma l'azione").subscribe(t=>{1==t&&(e.isMainAddress&&(this.customer.mainAddress=null),this.customer.addresses=this.customer.addresses.filter(o=>o.tempId!==e.tempId),this._messageBox.success("L'indirizzo cancellato con successo"))}):null===this.supplier.id?this._messageBox.confirm("Sei sicuro di voler cancellare l'indirizzo?","Conferma l'azione").subscribe(t=>{1==t&&(e.isMainAddress&&(this.supplier.mainAddress=null),this.supplier.addresses=this.supplier.addresses.filter(o=>o.tempId!==e.tempId),this._messageBox.success("L'indirizzo cancellato con successo"))}):this._messageBox.confirm("Sei sicuro di voler cancellare l'indirizzo?","Conferma l'azione").subscribe(t=>{1==t&&this._subscriptions.push(this._addressesService.deleteAddress(e.id).pipe(F(o=>this._messageBox.success("L'indirizzo cancellato con successo")),F(()=>this.readAddresses())).subscribe())})}setAddressAsMain(e){this._messageBox.confirm("Sei sicuro di voler selezionare l'indirizzo come principale?","Conferma l'azione").subscribe(t=>{1==t&&(null===this.customer.id?this.customer.addresses.forEach(o=>{o.isMainAddress=o.tempId===e.tempId}):null===this.supplier.id?this.supplier.addresses.forEach(o=>{o.isMainAddress=o.tempId===e.tempId}):this._subscriptions.push(this._addressesService.setAddressAsMain(e.id).pipe(F(o=>this._messageBox.success("L'indirizzo selezionato come principale con successo")),F(()=>this.readAddresses())).subscribe()))})}readAddresses(){this._subscriptions.push(this._customerService.getCustomer(this.customer.id).pipe((0,V.T)(e=>{const t=Object.assign(new xr,e);this.customer.addresses=t.addresses}),F(()=>{})).subscribe()),this._subscriptions.push(this._supplierService.getSupplier(this.supplier.id).pipe((0,V.T)(e=>{const t=Object.assign(new Hu,e);this.supplier.addresses=t.addresses}),F(()=>{})).subscribe())}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(vn),s.rXU(Vf),s.rXU(zu),s.rXU($0))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-addresses-modal"]],viewQuery:function(t,o){if(1&t&&s.GBs(DTt,7),2&t){let r;s.mGM(r=s.lsd())&&(o.addressModal=r.first)}},inputs:{customer:"customer",supplier:"supplier"},features:[s.Vt3],decls:4,vars:3,consts:[["addressModal",""],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[3,"customer"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","width","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],[1,"d-flex","align-items-center","master-detail-grid-header"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],["scrollable","none",3,"data","sortable","pageable"],["field","city","title","Citt\xe0"],["field","streetAddress","title","Indirizzo"],["field","province","title","Provincia"],["field","zipCode","title","CAP"],["field","isMainAddress","title","Principale"],["kendoGridCellTemplate",""],["field","id","title"," ",3,"sortable","filterable","width"],[1,"text-right","mt-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["title","Modifica",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["class","btn btn-primary btn-sm grid-action-button","title","Seleziona come principale",3,"click",4,"ngIf"],["title","Elimina",1,"btn","btn-danger","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-trash"],["title","Seleziona come principale",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-check"]],template:function(t,o){1&t&&(s.DNE(0,wTt,1,0,"div",1)(1,MTt,24,10,"div",2),s.nrm(2,"app-address-modal",3,0)),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("customer",o.customer))},dependencies:[q,Wi,Oi,Us,$i,ts,Ni,F_,ik]})}return i})(),ITt=(()=>{class i extends Tn{transform(e){switch(e){case j0.Company:return"Azienda";case j0.PrivatePerson:return"Privato";case j0.PublicAdministration:return"Pubblica Amministrazione";case j0.Foreign:return"Estero";default:return e}}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=s.xGo(i)))(o||i)}})();static#t=this.\u0275pipe=s.EJ8({name:"customerFiscalType",type:i,pure:!0})}return i})();const RTt=["form"],ATt=["addressModal"],xTt=["addressesModal"];function NTt(i,n){1&i&&s.nrm(0,"div",6)}function LTt(i,n){1&i&&(s.EFF(0),s.nI1(1,"customerFiscalType")),2&i&&s.SpI(" ",s.bMT(1,1,n.$implicit)," ")}function PTt(i,n){1&i&&(s.EFF(0),s.nI1(1,"customerFiscalType")),2&i&&s.SpI(" ",s.bMT(1,1,n.$implicit)," ")}function GTt(i,n){if(1&i){const e=s.RV6();s.j41(0,"form",12,2),s.bIt("ngSubmit",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.close())}),s.j41(2,"div",13)(3,"div",14)(4,"label"),s.EFF(5,"Nominativo"),s.k0s(),s.j41(6,"div",15)(7,"input",16),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.name,o)||(r.options.name=o),s.Njj(o)}),s.k0s(),s.nrm(8,"div",17),s.k0s()(),s.j41(9,"div",18)(10,"kendo-formfield",15)(11,"label"),s.EFF(12,"Tipo Cliente"),s.k0s(),s.j41(13,"kendo-dropdownlist",19),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.fiscalType,o)||(r.options.fiscalType=o),s.Njj(o)}),s.DNE(14,LTt,2,3,"ng-template",20)(15,PTt,2,3,"ng-template",21),s.k0s(),s.j41(16,"kendo-formerror"),s.EFF(17,"Tipo \xe8 un campo obbligatorio"),s.k0s()()()(),s.j41(18,"div",13)(19,"div",18)(20,"label"),s.EFF(21,"Telefono"),s.k0s(),s.j41(22,"div",15)(23,"input",22),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.telephone,o)||(r.options.telephone=o),s.Njj(o)}),s.k0s()()(),s.j41(24,"div",18)(25,"label"),s.EFF(26,"Email"),s.k0s(),s.j41(27,"div",15)(28,"input",23),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.email,o)||(r.options.email=o),s.Njj(o)}),s.k0s()()(),s.j41(29,"div",18)(30,"label"),s.EFF(31,"Pu\xf2 generare tickets"),s.k0s(),s.j41(32,"div",15)(33,"kendo-switch",24),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.canGenerateTickets,o)||(r.options.canGenerateTickets=o),s.Njj(o)}),s.k0s(),s.nrm(34,"div",17),s.k0s()()(),s.j41(35,"div",13)(36,"div",18)(37,"label"),s.EFF(38,"Contatto"),s.k0s(),s.j41(39,"div",15)(40,"input",25),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.contact,o)||(r.options.contact=o),s.Njj(o)}),s.k0s(),s.nrm(41,"div",17),s.k0s()(),s.j41(42,"div",18)(43,"label"),s.EFF(44,"Telefono Contatto"),s.k0s(),s.j41(45,"div",15)(46,"input",26),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.contactTelephone,o)||(r.options.contactTelephone=o),s.Njj(o)}),s.k0s()()(),s.j41(47,"div",18)(48,"label"),s.EFF(49,"Email Contatto"),s.k0s(),s.j41(50,"div",15)(51,"input",27),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.contactEmail,o)||(r.options.contactEmail=o),s.Njj(o)}),s.k0s()()()(),s.j41(52,"div",13)(53,"div",14)(54,"label"),s.EFF(55,"Indirizzo"),s.k0s(),s.j41(56,"div",15)(57,"kendo-combobox",28),s.mxI("valueChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.mainAddress,o)||(r.options.mainAddress=o),s.Njj(o)}),s.bIt("valueChange",function(o){s.eBV(e);const r=s.XpG(2);return s.Njj(r.mainAddressChanged(o))}),s.k0s(),s.j41(58,"button",29),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.createAddress())}),s.nrm(59,"i",30),s.k0s(),s.j41(60,"input",31),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.mainAddress,o)||(r.options.mainAddress=o),s.Njj(o)}),s.k0s(),s.nrm(61,"div",17),s.k0s()(),s.j41(62,"div",18)(63,"label"),s.EFF(64,"\xa0"),s.k0s(),s.j41(65,"div",15)(66,"button",32),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.editAddresses())}),s.nrm(67,"i",33),s.EFF(68," Gestione indirizzi "),s.k0s()()()(),s.j41(69,"div",34)(70,"button",35),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.dismiss())}),s.EFF(71," ANNULLA "),s.k0s(),s.j41(72,"button",36),s.EFF(73," SALVA "),s.k0s()()()}if(2&i){const e=s.sdS(1),t=s.XpG(2);s.R7$(7),s.R50("ngModel",t.options.name),s.R7$(),s.Y8G("control",e.controls.name),s.R7$(5),s.Y8G("data",t.fiscalTypes),s.R50("ngModel",t.options.fiscalType),s.Y8G("valuePrimitive",!0),s.R7$(10),s.R50("ngModel",t.options.telephone),s.R7$(5),s.R50("ngModel",t.options.email),s.R7$(5),s.R50("ngModel",t.options.canGenerateTickets),s.R7$(),s.Y8G("control",e.controls.canGenerateTickets),s.R7$(6),s.R50("ngModel",t.options.contact),s.R7$(),s.Y8G("control",e.controls.contact),s.R7$(5),s.R50("ngModel",t.options.contactTelephone),s.R7$(5),s.R50("ngModel",t.options.contactEmail),s.R7$(6),s.AVh("address-validation-error-combobox",t.isAddressInValidationError),s.Y8G("data",t.options.addresses),s.R50("value",t.options.mainAddress),s.R7$(3),s.Y8G("hidden",!0),s.R50("ngModel",t.options.mainAddress),s.R7$(),s.Y8G("control",e.controls.address),s.R7$(11),s.Y8G("disabled",t.isOperator)}}function UTt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",7)(1,"kendo-window",8),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.j41(2,"kendo-window-titlebar")(3,"div",9),s.EFF(4,"Cliente"),s.k0s(),s.nrm(5,"button",10),s.k0s(),s.DNE(6,GTt,74,21,"form",11),s.k0s()()}if(2&i){const e=s.XpG();s.R7$(),s.Y8G("resizable",!1)("draggable",!1)("top",30),s.R7$(5),s.Y8G("ngIf",e.options)}}let B_=(()=>{class i extends eo{get isAddressInValidationError(){return null!=this.form&&this.form.submitted&&!this.form.controls.address.valid}constructor(e,t,o,r){super(),this._messageBox=t,this._customerService=o,this._addressesService=r,this.role=ci,this.fiscalTypes=nk(j0),this.isOperator=e.isAuthorized(ci.Operator)}_canClose(){return fl(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid}mainAddressChanged(e){void 0!==e&&this.options.addresses.forEach(t=>{t.isMainAddress=t.tempId===e.tempId})}addNewAddress(e){null==this.options.id?(this.options.addresses.push(e),e.isMainAddress&&(this.options.mainAddress=e,this.options.addresses.forEach(t=>{t.isMainAddress=t.tempId===e.tempId}))):this._subscriptions.push(this._addressesService.createAddress(e).pipe((0,V.T)(t=>t),F(t=>this._messageBox.success("Indirizzo creato con successo")),F(()=>this.readAddresses())).subscribe())}readAddresses(){this._subscriptions.push(this._customerService.getCustomer(this.options.id).pipe((0,V.T)(e=>{const t=Object.assign(new xr,e);this.options.addresses=t.addresses}),F(()=>{})).subscribe())}createAddress(){const e=new ns;e.customerId=this.options.id,this._subscriptions.push(this.addressModal.open(e).pipe(X(t=>t),F(()=>{this.addNewAddress(e)})).subscribe())}editAddresses(){this._subscriptions.push(this.addressesModal.open().pipe(X(e=>e),F(()=>{console.log("closed edit addresses")})).subscribe())}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(el),s.rXU(vn),s.rXU(zu),s.rXU(Vf))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-customer-modal"]],viewQuery:function(t,o){if(1&t&&(s.GBs(RTt,5),s.GBs(ATt,7),s.GBs(xTt,7)),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first),s.mGM(r=s.lsd())&&(o.addressModal=r.first),s.mGM(r=s.lsd())&&(o.addressesModal=r.first)}},features:[s.Vt3],decls:6,vars:4,consts:[["addressModal",""],["addressesModal",""],["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[3,"customer"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],["name","updateUserForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateUserForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row"],[1,"col-md-8"],[1,"form-group"],["name","name","required","","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"validation-message",3,"control"],[1,"col-md-4"],["name","fiscalType","required","",3,"ngModelChange","data","ngModel","valuePrimitive"],["kendoDropDownListItemTemplate",""],["kendoDropDownListValueTemplate",""],["name","telephone","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","email","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["name","canGenerateTickets","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],["name","contact","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["name","contactTelephone","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","contactEmail","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["textField","fullAddress","suggest","true","valueField","tempId",1,"address-combobox",3,"valueChange","data","value"],["type","button","title","Nuovo indirizzo",1,"btn","btn-primary","add-address-button",3,"click"],[1,"fa","fa-plus"],["name","address","required","","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","hidden","ngModel"],["type","button","title","Gestione indirizza",1,"btn","btn-primary",3,"click"],[1,"fa","fa-edit"],[1,"text-right","mt-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,o){1&t&&(s.DNE(0,NTt,1,0,"div",3)(1,UTt,7,4,"div",4),s.nrm(2,"app-address-modal",5,0)(4,"app-addresses-modal",5,1)),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("customer",o.options),s.R7$(2),s.Y8G("customer",o.options))},dependencies:[q,Ps,Qo,Di,Ls,lo,Ed,fs,ps,$i,ts,Ni,Na,C_,ca,Ws,oS,__,ol,za,F_,OMe,ITt],styles:[".address-validation-error-combobox[_ngcontent-%COMP%]{border:1px solid #dc3545}"]})}return i})();const FTt=["customerModal"],BTt=["addressModal"];function VTt(i,n){1&i&&(s.EFF(0),s.nI1(1,"bool")),2&i&&s.SpI(" ",s.bMT(1,1,n.$implicit.canGenerateTickets)," ")}function zTt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",17),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.editCustomer(o))}),s.nrm(1,"i",18),s.k0s(),s.j41(2,"button",19),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.deleteCustomer(o))}),s.nrm(3,"i",20),s.k0s()}}function HTt(i,n){1&i&&(s.EFF(0),s.nI1(1,"bool")),2&i&&s.SpI(" ",s.bMT(1,1,n.$implicit.isMainAddress)," ")}function jTt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",30),s.bIt("click",function(){s.eBV(e);const o=s.XpG().$implicit,r=s.XpG(2);return s.Njj(r.setAddressAsMain(o))}),s.nrm(1,"i",31),s.k0s()}}function $Tt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",19),s.bIt("click",function(){s.eBV(e);const o=s.XpG().$implicit,r=s.XpG(2);return s.Njj(r.deleteAddress(o))}),s.nrm(1,"i",20),s.k0s()}}function XTt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",17),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG().$implicit,a=s.XpG();return s.Njj(a.editAddress(o,r))}),s.nrm(1,"i",18),s.k0s(),s.DNE(2,jTt,2,0,"button",28)(3,$Tt,2,0,"button",29)}if(2&i){const e=n.$implicit;s.R7$(2),s.Y8G("ngIf",!e.isMainAddress),s.R7$(),s.Y8G("ngIf",!e.isMainAddress)}}function WTt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div")(1,"div",21),s.nrm(2,"div",3),s.j41(3,"div",4)(4,"button",5),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.createAddress(o))}),s.nrm(5,"i",6),s.EFF(6," NUOVO INDIRIZZO "),s.k0s()()(),s.j41(7,"kendo-grid",22),s.nrm(8,"kendo-grid-column",23)(9,"kendo-grid-column",24)(10,"kendo-grid-column",25)(11,"kendo-grid-column",26),s.j41(12,"kendo-grid-column",27),s.DNE(13,HTt,2,3,"ng-template",13),s.k0s(),s.j41(14,"kendo-grid-column",14),s.DNE(15,XTt,4,2,"ng-template",13),s.k0s()()()}if(2&i){const e=n.$implicit;s.R7$(7),s.Y8G("data",e.addresses)("sortable",!1)("pageable",!1),s.R7$(7),s.Y8G("sortable",!1)("filterable",!1)("width",130)}}let KTt=(()=>{class i extends Tn{constructor(e,t,o,r){super(),this._customerService=e,this._addressesService=t,this._messageBox=o,this._storageService=r,this.stateGridCustomers={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[]},this.customerSelezionato=new xr}ngOnInit(){this._resumeState(),this._readCustomers()}dataStateChange(e){this.stateGridCustomers=e,this._saveState(),this._readCustomers()}_resumeState(){const e=this._storageService.get(window.location.hash,!0);null!=e&&(this.stateGridCustomers=e)}_saveState(){this._storageService.save(this.stateGridCustomers,window.location.hash,!0)}_readCustomers(){this._subscriptions.push(this._customerService.readCustomers(this.stateGridCustomers).pipe(F(e=>{this.dataCustomers=e})).subscribe())}createCustomer(){const e=new xr;this._subscriptions.push(this.customerModal.open(e).pipe(X(t=>t),le(()=>this._customerService.createCustomer(e)),F(t=>{this._messageBox.success(`Cliente ${e.name} creato`)}),F(()=>this._readCustomers())).subscribe())}editCustomer(e){this._subscriptions.push(this._customerService.getCustomer(e.id).pipe((0,V.T)(t=>Object.assign(new xr,t)),le(t=>this.customerModal.open(t)),X(t=>t),(0,V.T)(()=>this.customerModal.options),le(t=>this._customerService.updateCustomer(t,e.id)),(0,V.T)(()=>this.customerModal.options),F(t=>this._messageBox.success(`Cliente ${t.name} aggiornato`)),F(()=>this._readCustomers())).subscribe())}deleteCustomer(e){this._messageBox.confirm(`Sei sicuro di voler cancellare il cliente ${e.name}?`,"Conferma l'azione").subscribe(t=>{1==t&&this._subscriptions.push(this._customerService.deleteCustomer(e.id).pipe(F(o=>this._messageBox.success(`Cliente ${e.name} cancellato con successo`)),F(()=>this._readCustomers())).subscribe())})}createAddress(e){this.customerSelezionato=e;const t=new ns;t.customerId=e.id,this._subscriptions.push(this.addressModal.open(t).pipe(X(o=>o),le(()=>this._addressesService.createAddress(t)),F(o=>this._messageBox.success("Indirizzo creato con successo")),F(()=>this._readCustomers())).subscribe())}editAddress(e,t){this.customerSelezionato=t,this._subscriptions.push(this._addressesService.getAddress(e.id).pipe((0,V.T)(o=>Object.assign(new ns,o)),le(o=>this.addressModal.open(o)),X(o=>o),(0,V.T)(()=>this.addressModal.options),le(o=>this._addressesService.updateAddress(o,e.id)),(0,V.T)(()=>this.addressModal.options),F(o=>this._messageBox.success("Indirizzo aggiornato con successo")),F(()=>this._readCustomers())).subscribe())}deleteAddress(e){this._messageBox.confirm("Sei sicuro di voler cancellare l'indirizzo?","Conferma l'azione").subscribe(t=>{1==t&&this._subscriptions.push(this._addressesService.deleteAddress(e.id).pipe(F(o=>this._messageBox.success("L'indirizzo cancellato con successo")),F(()=>this._readCustomers())).subscribe())})}setAddressAsMain(e){this._messageBox.confirm("Sei sicuro di voler selezionare l'indirizzo come principale?","Conferma l'azione").subscribe(t=>{1==t&&this._subscriptions.push(this._addressesService.setAddressAsMain(e.id).pipe(F(o=>this._messageBox.success("L'indirizzo selezionato come principale con successo")),F(()=>this._readCustomers())).subscribe())})}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(zu),s.rXU(Vf),s.rXU(vn),s.rXU(Ll))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-customers"]],viewQuery:function(t,o){if(1&t&&(s.GBs(FTt,7),s.GBs(BTt,7)),2&t){let r;s.mGM(r=s.lsd())&&(o.customerModal=r.first),s.mGM(r=s.lsd())&&(o.addressModal=r.first)}},features:[s.Vt3],decls:22,vars:12,consts:[["customerModal",""],["addressModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","name","title","Nominativo"],["field","telephone","title","Telefono"],["field","contact","title","Contatto"],["field","mainAddress.fullAddress","title","Indirizzo"],["field","canGenerateTickets","title","Gener. Tickets"],["kendoGridCellTemplate",""],["field","id","title"," ",3,"sortable","filterable","width"],[4,"kendoGridDetailTemplate"],[3,"customer"],["title","Modifica",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["title","Elimina",1,"btn","btn-danger","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-trash"],[1,"d-flex","align-items-center","master-detail-grid-header"],["scrollable","none",3,"data","sortable","pageable"],["field","description","title","Tipo Indirizzo"],["field","city","title","Citt\xe0"],["field","streetAddress","title","Indirizzo"],["field","province","title","Provincia"],["field","isMainAddress","title","Principale"],["class","btn btn-primary btn-sm grid-action-button","title","Seleziona come principale",3,"click",4,"ngIf"],["class","btn btn-danger btn-sm grid-action-button","title","Elimina",3,"click",4,"ngIf"],["title","Seleziona come principale",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-check"]],template:function(t,o){if(1&t){const r=s.RV6();s.j41(0,"div",2)(1,"div",3)(2,"h3"),s.EFF(3,"Clienti"),s.k0s()(),s.j41(4,"div",4)(5,"button",5),s.bIt("click",function(){return s.eBV(r),s.Njj(o.createCustomer())}),s.nrm(6,"i",6),s.EFF(7," NUOVO "),s.k0s()()(),s.j41(8,"kendo-grid",7),s.bIt("dataStateChange",function(l){return s.eBV(r),s.Njj(o.dataStateChange(l))}),s.nrm(9,"kendo-grid-column",8)(10,"kendo-grid-column",9)(11,"kendo-grid-column",10)(12,"kendo-grid-column",11),s.j41(13,"kendo-grid-column",12),s.DNE(14,VTt,2,3,"ng-template",13),s.k0s(),s.j41(15,"kendo-grid-column",14),s.DNE(16,zTt,4,0,"ng-template",13),s.k0s(),s.DNE(17,WTt,16,6,"div",15),s.k0s(),s.nrm(18,"app-customer-modal",null,0)(20,"app-address-modal",16,1)}2&t&&(s.R7$(8),s.Y8G("data",o.dataCustomers)("pageSize",o.stateGridCustomers.take)("skip",o.stateGridCustomers.skip)("sort",o.stateGridCustomers.sort)("filter",o.stateGridCustomers.filter)("group",o.stateGridCustomers.group)("sortable",!0)("pageable",!0),s.R7$(7),s.Y8G("sortable",!1)("filterable",!1)("width",95),s.R7$(5),s.Y8G("customer",o.customerSelezionato))},dependencies:[q,Wi,Oi,Lw,Us,B_,F_,ik]})}return i})();class Wh{get description(){return`${this.name} - ${this.plate}`}constructor(){this.id=0,this.name=null,this.plate=null,this.notes=null}}let CB=(()=>{class i{constructor(e){this._http=e,this._baseUrl=`${fn.baseApiUrl}/vehicles`}readVehicles(e){const t=_d(e),o=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/vehicles?${t}`).pipe((0,V.T)(r=>{const a=[];return r.data.forEach(l=>{const c=Object.assign(new Wh,l);a.push(c)}),{data:o?Ra(a):a,total:r.total}}))}createVehicle(e){return this._http.post(`${this._baseUrl}/vehicle`,e).pipe((0,V.T)(t=>t))}updateVehicle(e,t){return this._http.put(`${this._baseUrl}/vehicle/${t}`,e).pipe((0,V.T)(()=>{}))}deleteVehicle(e){return this._http.delete(`${this._baseUrl}/vehicle/${e}`).pipe((0,V.T)(()=>{}))}getVehicleDetail(e){return this._http.get(`${this._baseUrl}/vehicle-detail/${e}`).pipe((0,V.T)(t=>Object.assign(new Wh,t)))}readVehiclesList(){return this._http.get(`${this._baseUrl}/vehicles-list`).pipe((0,V.T)(e=>{const t=[];return e.forEach(o=>{const r=Object.assign(new Wh,o);t.push(r)}),t}))}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Yo))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();const YTt=["form"];function JTt(i,n){1&i&&s.nrm(0,"div",3)}function qTt(i,n){if(1&i){const e=s.RV6();s.j41(0,"form",9,0),s.bIt("ngSubmit",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.close())}),s.j41(2,"div",10)(3,"div",11)(4,"label"),s.EFF(5,"Nome veicolo"),s.k0s(),s.j41(6,"div",12)(7,"input",13),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.name,o)||(r.options.name=o),s.Njj(o)}),s.k0s(),s.nrm(8,"div",14),s.k0s()(),s.j41(9,"div",11)(10,"label"),s.EFF(11,"Targa"),s.k0s(),s.j41(12,"div",12)(13,"input",15),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.plate,o)||(r.options.plate=o),s.Njj(o)}),s.k0s(),s.nrm(14,"div",14),s.k0s()()(),s.j41(15,"div",10)(16,"div",16)(17,"label"),s.EFF(18,"Note"),s.k0s(),s.j41(19,"div",12)(20,"textarea",17),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.notes,o)||(r.options.notes=o),s.Njj(o)}),s.k0s(),s.nrm(21,"div",14),s.k0s()()(),s.j41(22,"div",18)(23,"button",19),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.dismiss())}),s.EFF(24," ANNULLA "),s.k0s(),s.j41(25,"button",20),s.EFF(26," SALVA "),s.k0s()()()}if(2&i){const e=s.sdS(1),t=s.XpG(2);s.R7$(7),s.R50("ngModel",t.options.name),s.R7$(),s.Y8G("control",e.controls.name),s.R7$(5),s.R50("ngModel",t.options.plate),s.R7$(),s.Y8G("control",e.controls.plate),s.R7$(6),s.R50("ngModel",t.options.notes),s.R7$(),s.Y8G("control",e.controls.notes)}}function QTt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",4)(1,"kendo-window",5),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.j41(2,"kendo-window-titlebar")(3,"div",6),s.EFF(4," Mezzo di Trasporto "),s.k0s(),s.nrm(5,"button",7),s.k0s(),s.DNE(6,qTt,27,6,"form",8),s.k0s()()}if(2&i){const e=s.XpG();s.R7$(),s.Y8G("resizable",!1)("draggable",!1)("top",100),s.R7$(5),s.Y8G("ngIf",e.options)}}let ZTt=(()=>{class i extends eo{constructor(e){super(),this._messageBox=e,this.role=ci,this.vehicleModal=new Wh}_canClose(){return fl(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid}loadData(){}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(vn))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-vehicle-modal"]],viewQuery:function(t,o){if(1&t&&s.GBs(YTt,5),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first)}},inputs:{vehicleModal:"vehicleModal"},features:[s.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],["name","updateVehicleForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateVehicleForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["name","name","required","","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"validation-message",3,"control"],["name","plate","required","","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-12"],["rows","5","name","notes","maxlength","1024","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-right","mt-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","submit",1,"btn","btn-primary"]],template:function(t,o){1&t&&s.DNE(0,JTt,1,0,"div",1)(1,QTt,7,4,"div",2),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened))},dependencies:[q,Ps,Qo,Di,Ls,lo,Ed,fs,ps,$i,ts,Ni,za]})}return i})();const eMt=["vehicleModal"];function tMt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",12),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.editVehicle(o))}),s.nrm(1,"i",13),s.k0s(),s.j41(2,"button",14),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.deleteVehicle(o))}),s.nrm(3,"i",15),s.k0s()}}let nMt=(()=>{class i extends Tn{constructor(e,t,o){super(),this._vehiclesService=e,this._messageBox=t,this._router=o,this.stateGridVehicles={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[]},this.vehicleSelezionato=new Wh}ngOnInit(){this._readVehicles()}dataStateChange(e){this.stateGridVehicles=e,this._readVehicles()}_readVehicles(){this._subscriptions.push(this._vehiclesService.readVehicles(this.stateGridVehicles).pipe(F(e=>{this.dataVehicles=e})).subscribe())}createVehicle(){const e=new Wh;this._subscriptions.push(this.vehicleModal.open(e).pipe(X(t=>t),le(()=>this._vehiclesService.createVehicle(e)),F(t=>{this._messageBox.success(`Veicolo ${e.name} ${e.plate} creato`)}),F(()=>this._readVehicles())).subscribe())}editVehicle(e){this._subscriptions.push(this._vehiclesService.getVehicleDetail(e.id).pipe((0,V.T)(t=>Object.assign(new Wh,t)),le(t=>this.vehicleModal.open(t)),X(t=>t),(0,V.T)(()=>this.vehicleModal.options),le(t=>this._vehiclesService.updateVehicle(t,e.id)),(0,V.T)(()=>this.vehicleModal.options),F(t=>this._messageBox.success(`Veicolo ${e.name} ${e.plate} aggiornato`)),F(()=>this._readVehicles())).subscribe())}deleteVehicle(e){this._messageBox.info("Eliminazione elemento non attiva")}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(CB),s.rXU(vn),s.rXU(Ns))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-vehicles"]],viewQuery:function(t,o){if(1&t&&s.GBs(eMt,7),2&t){let r;s.mGM(r=s.lsd())&&(o.vehicleModal=r.first)}},features:[s.Vt3],decls:16,vars:11,consts:[["vehicleModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","name","title","Nome Veicolo"],["field","plate","title","Targa"],["field","notes","title","Note"],["field","id","title"," ",3,"sortable","filterable","width"],["kendoGridCellTemplate",""],["title","Modifica",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["title","Elimina",1,"btn","btn-danger","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-trash"]],template:function(t,o){if(1&t){const r=s.RV6();s.j41(0,"div",1)(1,"div",2)(2,"h3"),s.EFF(3,"Mezzi di trasporto"),s.k0s()(),s.j41(4,"div",3)(5,"button",4),s.bIt("click",function(){return s.eBV(r),s.Njj(o.createVehicle())}),s.nrm(6,"i",5),s.EFF(7," NUOVO "),s.k0s()()(),s.j41(8,"kendo-grid",6),s.bIt("dataStateChange",function(l){return s.eBV(r),s.Njj(o.dataStateChange(l))}),s.nrm(9,"kendo-grid-column",7)(10,"kendo-grid-column",8)(11,"kendo-grid-column",9),s.j41(12,"kendo-grid-column",10),s.DNE(13,tMt,4,0,"ng-template",11),s.k0s()(),s.nrm(14,"app-vehicle-modal",null,0)}2&t&&(s.R7$(8),s.Y8G("data",o.dataVehicles)("pageSize",o.stateGridVehicles.take)("skip",o.stateGridVehicles.skip)("sort",o.stateGridVehicles.sort)("filter",o.stateGridVehicles.filter)("group",o.stateGridVehicles.group)("sortable",!0)("pageable",!0),s.R7$(4),s.Y8G("sortable",!1)("filterable",!1)("width",95))},dependencies:[Wi,Oi,Us,ZTt]})}return i})();class X0{constructor(){this.id=null,this.email=null,this.colorHex=null,this.name=null,this.defaultVehicleId=null,this.userName="",this.password="",this.hasUser=!1,this.defaultVehicle=new Wh,this.documents=[],this.activityTypes=[]}}class bB{constructor(){this.id=null,this.operatorId=null,this.originalFileName=null,this.fileName=null}}let Bc=(()=>{class i{constructor(e){this._http=e,this._baseUrl=`${fn.baseApiUrl}/operators`}readOperators(e){const t=_d(e),o=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/operators?${t}`).pipe((0,V.T)(r=>{const a=[];return r.data.forEach(l=>{const c=Object.assign(new X0,l);c.defaultVehicle=Object.assign(new Wh,c.defaultVehicle);const u=[];c.documents.forEach(f=>{const _=Object.assign(new bB,f);u.push(_)}),c.documents=u,a.push(c)}),{data:o?Ra(a):a,total:r.total}}))}createOperator(e){return this._http.post(`${this._baseUrl}/operator`,e).pipe((0,V.T)(t=>t))}updateOperator(e,t){return this._http.put(`${this._baseUrl}/operator/${t}`,e).pipe((0,V.T)(()=>{}))}deleteOperator(e){return this._http.delete(`${this._baseUrl}/operator/${e}`).pipe((0,V.T)(()=>{}))}getOperatorDetail(e){return this._http.get(`${this._baseUrl}/operator-detail/${e}`).pipe((0,V.T)(t=>{const o=Object.assign(new X0,t);o.defaultVehicle=Object.assign(new Wh,o.defaultVehicle);const r=[];return o.documents.forEach(a=>{const l=Object.assign(new bB,a);r.push(l)}),o.documents=r,o}))}getOperatorByUserId(e){return this._http.get(`${this._baseUrl}/operator-byuserid/${e}`).pipe((0,V.T)(t=>{const o=Object.assign(new X0,t);return o.defaultVehicle=Object.assign(new Wh,o.defaultVehicle),o}))}getOperatorDocument(e){return this._http.get(`${this._baseUrl}/operator-document/${e}`).pipe((0,V.T)(t=>Object.assign(new bB,t)))}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Yo))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();class EB{constructor(n,e){this.fileName=n,this.originalFileName=e}}class Ud{constructor(){this.id=null,this.name=null,this.pictureRequired=!1,this.isInternal=!1,this.isExternal=!1,this.colorHex=null,this.statusLabel0="In attesa",this.statusLabel1="In corso",this.statusLabel2="Completata"}}let rk=(()=>{class i{constructor(e){this._http=e,this._baseUrl=`${fn.baseApiUrl}/activityTypes`}readActivityTypes(e){const t=_d(e),o=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/activityTypes?${t}`).pipe((0,V.T)(r=>{const a=[];return r.data.forEach(l=>{const c=Object.assign(new Ud,l);a.push(c)}),{data:o?Ra(a):a,total:r.total}}))}createActivityType(e){return this._http.post(`${this._baseUrl}/activitytype`,e).pipe((0,V.T)(t=>t))}updateActivityType(e,t){return this._http.put(`${this._baseUrl}/activitytype/${t}`,e).pipe((0,V.T)(()=>{}))}deleteActivityType(e){return this._http.delete(`${this._baseUrl}/activitytypes/${e}`).pipe((0,V.T)(()=>{}))}getActivityTypeDetail(e){return this._http.get(`${this._baseUrl}/activitytype-detail/${e}`).pipe((0,V.T)(t=>Object.assign(new Ud,t)))}readActivityTypesList(){return this._http.get(`${this._baseUrl}/activitytypes-list`).pipe((0,V.T)(e=>{const t=[];return e.forEach(o=>{const r=Object.assign(new Ud,o);t.push(r)}),t}))}readActivityTypesListCalendar(){return this._http.get(`${this._baseUrl}/activitytypes-list-calendar`).pipe((0,V.T)(e=>{const t=[];return e.forEach(o=>{const r=Object.assign(new Ud,o);t.push(r)}),t}))}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Yo))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();const Jne=i=>({"k-focus":i});function iMt(i,n){if(1&i&&(s.j41(0,"span",4),s.EFF(1),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.SpI("",e.progress,"%")}}function sMt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",5),s.bIt("focus",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onFocus("retry"))})("blur",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onBlur("retry"))})("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onRetryClick())}),s.nrm(1,"kendo-icon-wrapper",6),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("ngClass",s.eq3(6,Jne,e.retryFocused)),s.BMQ("tabIndex",-1)("aria-hidden",!0),s.R7$(),s.Y8G("svgIcon",e.retrySVGIcon),s.BMQ("aria-label",e.retryButtonTitle)("title",e.retryButtonTitle)}}function oMt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",5),s.bIt("focus",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onFocus("pauseResume"))})("blur",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onBlur("pauseResume"))})("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onPauseResumeClick())}),s.nrm(1,"kendo-icon-wrapper",7),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("ngClass",s.eq3(7,Jne,e.pauseResumeFocused)),s.BMQ("tabIndex",-1)("aria-hidden",!0),s.R7$(),s.Y8G("name",e.isPaused?"play-sm":"pause-sm")("svgIcon",e.isPaused?e.playSVGIcon:e.pauseSVGIcon),s.BMQ("aria-label",e.pauseResumeButtonTitle)("title",e.pauseResumeButtonTitle)}}function rMt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",5),s.bIt("focus",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onFocus("action"))})("blur",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onBlur("action"))})("click",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onRemoveCancelClick(o))}),s.nrm(1,"kendo-icon-wrapper",8),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("ngClass",s.eq3(8,Jne,e.actionFocused)),s.BMQ("tabIndex",-1)("aria-hidden",!0),s.R7$(),s.Y8G("name",e.isUploading?"cancel":"x")("svgIcon",e.isUploading?e.cancelSVGIcon:e.deleteSVGIcon)("innerCssClass",e.isUploading?"":"k-delete"),s.BMQ("aria-label",e.actionButtonTitle)("title",e.actionButtonTitle)}}const TMe=()=>({visible:!1}),aMt=(i,n,e)=>({"k-file-validation-message":i,"k-file-size":n,"k-file-summary":e}),lMt=i=>[i],qne=(i,n,e)=>({templateRef:i,state:n,$implicit:e});function cMt(i,n){if(1&i&&(s.qex(0),s.j41(1,"span",7),s.EFF(2),s.k0s(),s.j41(3,"span",8),s.EFF(4),s.k0s(),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.Y8G("title",e.file.name),s.R7$(),s.JRh(e.file.name),s.R7$(),s.Y8G("ngClass",s.sMw(5,aMt,e.file.validationErrors,!e.file.validationErrors&&e.isNotYetUploaded,e.isUploadSuccessful||e.isUploadFailed)),s.BMQ("aria-live","polite"),s.R7$(),s.JRh(e.fileStatusText)}}function dMt(i,n){if(1&i&&s.eu8(0,9),2&i){const e=s.XpG();s.Y8G("ngTemplateOutlet",e.fileInfoTemplate.templateRef)("ngTemplateOutletContext",s.sMw(4,qne,e.fileInfoTemplate.templateRef,e.file.state,s.eq3(2,lMt,e.file)))}}const uMt=(i,n)=>({"k-file-validation-message":i,"k-file-size":n});function hMt(i,n){if(1&i&&(s.j41(0,"span",9)(1,"span",10),s.EFF(2),s.k0s(),s.j41(3,"span",11),s.EFF(4),s.k0s()()),2&i){const e=n.$implicit,t=s.XpG(2);s.R7$(),s.Y8G("title",e.name),s.R7$(),s.SpI(" ",e.name," "),s.R7$(),s.Y8G("ngClass",s.l_i(5,uMt,e.validationErrors,!e.validationErrors)),s.BMQ("aria-live","polite"),s.R7$(),s.JRh(t.fileStatusText(e))}}function pMt(i,n){if(1&i&&(s.qex(0),s.DNE(1,hMt,5,8,"span",7),s.j41(2,"span",8),s.EFF(3),s.k0s(),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngForOf",e.files),s.R7$(2),s.JRh(e.batchStatusText)}}function fMt(i,n){if(1&i&&s.eu8(0,12),2&i){const e=s.XpG();s.Y8G("ngTemplateOutlet",e.fileInfoTemplate.templateRef)("ngTemplateOutletContext",s.sMw(2,qne,e.fileInfoTemplate.templateRef,e.files[0].state,e.files))}}const mMt=["kendo-upload-file-list",""];function _Mt(i,n){if(1&i&&s.nrm(0,"kendo-upload-file-list-single-item",5),2&i){const e=s.XpG().$implicit,t=s.XpG();s.Y8G("disabled",t.disabled)("file",e[0])("fileInfoTemplate",t.fileInfoTemplate)}}function gMt(i,n){if(1&i&&s.nrm(0,"kendo-upload-file-list-multiple-items",6),2&i){const e=s.XpG().$implicit,t=s.XpG();s.Y8G("disabled",t.disabled)("files",e)("fileInfoTemplate",t.fileInfoTemplate)}}function SMt(i,n){if(1&i&&s.eu8(0,7),2&i){const e=s.XpG().$implicit,t=s.XpG();s.Y8G("ngTemplateOutlet",t.fileTemplate.templateRef)("ngTemplateOutletContext",s.sMw(2,qne,t.fileTemplate.templateRef,e[0].state,e))}}function vMt(i,n){if(1&i&&(s.j41(0,"li",1),s.DNE(1,_Mt,1,3,"kendo-upload-file-list-single-item",2)(2,gMt,1,3,"kendo-upload-file-list-multiple-items",3)(3,SMt,1,6,"ng-container",4),s.k0s()),2&i){const e=n.$implicit,t=n.index,o=s.XpG();s.Y8G("files",e)("index",t),s.R7$(),s.Y8G("ngIf",1===e.length&&!o.fileTemplate),s.R7$(),s.Y8G("ngIf",e.length>1&&!o.fileTemplate),s.R7$(),s.Y8G("ngIf",o.fileTemplate)}}const MMe=["fileSelectInput"],IMe=["fileSelectButton"];function CMt(i,n){if(1&i&&s.nrm(0,"ul",9),2&i){const e=s.XpG();s.Y8G("disabled",e.disabled)("fileList",e.fileList.files)("fileTemplate",e.fileTemplate)("fileInfoTemplate",e.fileInfoTemplate)}}const bMt=["clearButton"],EMt=["uploadButton"];function yMt(i,n){if(1&i&&s.nrm(0,"kendo-upload-status-total",11),2&i){const e=s.XpG();s.Y8G("fileList",e.fileList)}}function DMt(i,n){if(1&i&&s.nrm(0,"ul",12),2&i){const e=s.XpG();s.Y8G("disabled",e.disabled)("fileList",e.fileList.files)("fileTemplate",e.fileTemplate)("fileInfoTemplate",e.fileInfoTemplate)}}function wMt(i,n){if(1&i&&s.nrm(0,"kendo-upload-action-buttons",13),2&i){const e=s.XpG();s.Y8G("disabled",e.disabled)("actionsLayout",e.actionsLayout)}}var St=function(i){return i[i.Failed=0]="Failed",i[i.Initial=1]="Initial",i[i.Selected=2]="Selected",i[i.Uploaded=3]="Uploaded",i[i.Uploading=4]="Uploading",i[i.Paused=5]="Paused",i}(St||{});class OMt{constructor(){this._files={}}add(n){const e=n.uid;this.has(e)?n.validationErrors&&n.validationErrors.length>0?this._files[e].unshift(n):this._files[e].push(n):this._files[e]=[n]}remove(n){this.has(n)&&(this._files[n]=null,delete this._files[n])}clear(){const n=this._files;for(const e in n)if(n.hasOwnProperty(e)){for(const t of n[e])t.httpSubscription&&t.httpSubscription.unsubscribe();n[e]=null,delete n[e]}}has(n){return n in this._files}get(n){return this._files[n]}setFilesState(n,e){for(const t of n)this.setFilesStateByUid(t.uid,e)}setFilesStateByUid(n,e){this.get(n).forEach(t=>{t.state=e})}get count(){return Object.getOwnPropertyNames(this._files).length}get files(){const n=this._files,e=[];for(const t in n)n.hasOwnProperty(t)&&e.push(n[t]);return e}get filesFlat(){const n=this._files,e=[];for(const t in n)n.hasOwnProperty(t)&&n[t].forEach(r=>{e.push(r)});return e}get filesToUpload(){const n=this._files,e=[];for(const t in n)if(n.hasOwnProperty(t)){const o=n[t];let r=!0;for(const a of o)(a.state!==St.Selected||a.validationErrors&&a.validationErrors.length>0)&&(r=!1);r&&e.push(o)}return e}get firstFileToUpload(){const n=this._files;for(const e in n)if(n.hasOwnProperty(e)){const t=n[e];let o=!0;for(const r of t)(r.state!==St.Selected||r.validationErrors&&r.validationErrors.length>0)&&(o=!1);if(o)return t}return null}getFilesWithState(n){return this.filesFlat.filter(e=>e.state===n)}hasFileWithState(n){const e=this._files;for(const t in e)if(e.hasOwnProperty(t)){const o=e[t];for(const r of o)if(n.indexOf(r.state)>=0)return!0}return!1}}class TMt{constructor(n){this.files=n}}class zA{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class MMt extends zA{constructor(){super()}}class IMt{constructor(n,e,t){this.files=n,this.operation=e,this.response=t}}class RMt{constructor(n){this.file=n}}class AMt extends zA{constructor(n,e){super(),this.files=n,this.headers=e}}class xMt{constructor(n){this.file=n}}class NMt extends zA{constructor(n){super(),this.files=n}}class LMt extends zA{constructor(n,e,t){super(),this.files=n,this.operation=e,this.response=t}}class PMt extends zA{constructor(n,e){super(),this.files=n,this.headers=e}}class RMe{constructor(n,e){this.files=n,this.percentComplete=e}}const yB={audio:[".aif",".iff",".m3u",".m4a",".mid",".mp3",".mpa",".wav",".wma",".ogg",".wav",".wma",".wpl"],video:[".3g2",".3gp",".avi",".asf",".flv",".m4u",".rm",".h264",".m4v",".mkv",".mov",".mp4",".mpg",".rm",".swf",".vob",".wmv"],image:[".ai",".dds",".heic",".jpe","jfif",".jif",".jp2",".jps",".eps",".bmp",".gif",".jpeg",".jpg",".png",".ps",".psd",".svg",".svgz",".tif",".tiff"],txt:[".doc",".docx",".log",".pages",".tex",".wpd",".wps",".odt",".rtf",".text",".txt",".wks"],presentation:[".key",".odp",".pps",".ppt",".pptx"],data:[".xlr",".xls",".xlsx"],programming:[".tmp",".bak",".msi",".cab",".cpl",".cur",".dll",".dmp",".drv",".icns",".ico",".link",".sys",".cfg",".ini",".asp",".aspx",".cer",".csr",".css",".dcr",".htm",".html",".js",".php",".rss",".xhtml"],pdf:[".pdf"],config:[".apk",".app",".bat",".cgi",".com",".exe",".gadget",".jar",".wsf"],zip:[".7z",".cbr",".gz",".sitx",".arj",".deb",".pkg",".rar",".rpm",".tar.gz",".z",".zip",".zipx"],discImage:[".dmg",".iso",".toast",".vcd",".bin",".cue",".mdf"]},GMt={audio:{name:"file-audio",content:'<path d="M218 353.8c-5.5-2.9-12.1-4.5-19-4.5-21 0-38 14.8-38 33.2s17 33.2 38 33.2 38-14.8 38-33.2V256.6l96-22.6v87.8c-5.5-2.9-12.1-4.5-19-4.5-21 0-38 14.8-38 33.2s17 33.2 38 33.2 38-14.8 38-33.2V192.2l-134 31.5zM352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96z" />',viewBox:"0 0 512 512"},video:{name:"file-video",content:'<path d="M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96zM304 304.8v-.8c0-8.8-7.2-16-16-16h-10.1c24.2-3.1 42.8-24.3 41.8-49.6-1-24.8-21.2-45-46-46-27.4-1.1-49.9 20.8-49.9 48 0 24.4 18.2 44.6 41.8 47.6h-70.4c17.2-1.7 30.3-16.9 28.7-34.8-1.4-15.5-14.1-27.9-29.6-28.9-18.7-1.3-34.2 13.5-34.2 31.9 0 16.6 12.7 30.2 28.8 31.8H176c-8.8 0-16 7.2-16 16v64c0 8.8 7.2 16 16 16h111.7c8.4 0 15.6-6.3 16.3-14.6.2-3.1-.3-6.1-1.7-8.7l1.8 1.1 44.9 27.1c1.3.8 2.7 1.2 4.1 1.2 1.3 0 2.7-.3 3.9-1 2.5-1.4 4.1-4.1 4.1-7v-95.8c0-2.9-1.5-5.5-4-6.9s-5.5-1.5-8 0zM193.5 272c-.5.1-1 .1-1.5.1s-1 0-1.5-.1h-.2c-8.6-.8-15.1-8.5-14.3-17.2.6-7.9 7.2-14.2 15.1-14.6 9.2-.5 16.8 6.9 16.8 16 .1 8.1-6.1 15-14.4 15.8m82.3-.3c-.3 0-.6.1-.9.1-1 .1-2.1.2-3.1.2s-2.1 0-3.1-.2c-.3 0-.6-.1-.9-.1-15.9-2-27.9-15.7-27.9-31.7 0-17.6 14.4-32 32-32s32 14.4 32 32c-.1 16.1-12.1 29.7-28.1 31.7" />',viewBox:"0 0 512 512"},image:CG,txt:{name:"file-txt",content:'<path d="M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96zm-32-96v32H128v-32zM256 160v32H128v-32m256 64v32H128v-32zm-256 96v-32h224v32z" />',viewBox:"0 0 512 512"},presentation:{name:"file-presentation",content:'<path d="M127.5 214.4c0 9.9 6.1 18.2 14.5 21.2v113.1c0 12.4 9.6 22.4 21.3 22.4H246v11.8l-13.6 14.6c-1.9 2-3 4.8-3 8 0 6.3 4.7 11.3 10.5 11.3 2.8 0 5.5-1.3 7.4-3.3.1-.1.2-.3.4-.4l8.9-9.6 8.9 9.6c.1.1.2.3.4.4 1.9 2 4.5 3.3 7.4 3.3 5.8 0 10.5-5 10.5-11.3 0-3.1-1.2-6-3-8L267 382.8V371h78.8c11.1 0 20.1-9.3 20.9-21h1.3V235.9c9-2.6 15.7-11.3 15.7-21.6 0-12.4-9.5-22.4-21.3-22.4H148.8c-11.8.1-21.3 10.1-21.3 22.5M299 237h43v89h-43zm-64 26h43v63h-43zm-64 18h43v45h-43zM352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96z" />',viewBox:"0 0 512 512"},data:{name:"file-data",content:'<path d="M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96zM128 229.3v149.4c0 20.6 19.1 37.3 42.7 37.3h170.6c23.6 0 42.7-16.7 42.7-37.3V229.3c0-20.6-19.1-37.3-42.7-37.3H170.7c-23.6 0-42.7 16.7-42.7 37.3M247 379h-76v-47h76zm18-112h76v47h-76zm0 65h76v47h-76zm-18-19h-76v-47h76z" />',viewBox:"0 0 512 512"},programming:{name:"file-programming",content:'<path d="m236 256-52.6-.2-48.6 48.6.1.1c-4.1 3.9-6.7 9.4-6.7 15.5 0 5.8 2.3 11 6 14.8l49.1 49.1 46.8-.2-59.7-59.7c.2-.9.3-1.8.3-2.8zm105.2 65.5c.1.9.2 1.9.3 2.8L281.9 384l46.8.2 49.1-49.1c3.7-3.8 6-9.1 6-14.8 0-6.1-2.6-11.6-6.7-15.5l.1-.1-48.6-48.7-52.6.2zM352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96z" />',viewBox:"0 0 512 512"},pdf:{name:"file-pdf",content:'<path d="M240.9 160c-7.6 0-13.8 4-15.4 9.9-4.9 18.6.2 46.3 9.4 82.3l-2.4 5.9c-6.6 16.4-14.8 33-22.1 47.6l-1 1.9c-7.7 15.3-14.6 28.4-21 39.4l-6.5 3.5c-.5.3-11.6 6.3-14.3 7.9-22.2 13.6-36.9 28.9-39.4 41.2-.8 3.9-.2 8.9 3.7 11.2l6.3 3.2c2.7 1.4 5.6 2.1 8.6 2.1 15.8 0 34.2-20.2 59.5-65.3 29.2-9.7 62.5-17.8 91.6-22.3 22.2 12.8 49.5 21.7 66.8 21.7 3.1 0 5.7-.3 7.8-.9 3.3-.9 6.1-2.8 7.8-5.4 3.4-5.2 4-12.2 3.1-19.5-.3-2.1-2-4.8-3.8-6.6-5.1-5.2-16.5-7.9-33.7-8.1-11.7-.1-25.8.9-40.6 3-6.6-3.9-13.5-8.2-18.8-13.3-14.4-13.8-26.5-32.9-34-53.9.5-2 .9-3.7 1.3-5.4 0 0 8.1-47.1 6-63.1-.3-2.2-.5-2.8-1.1-4.5l-.7-1.9c-2.2-5.2-6.5-10.7-13.3-10.4zm2.7 8.4c5.1 0 8 13.1 8.2 25.4.3 12.3-2.6 20.9-6 27.3-2.9-9.4-4.3-24.3-4.3-34-.1-.1-.3-18.7 2.1-18.7m.4 104.1c8.6 16 19.3 29.5 31.9 40.4 1.6 1.3 3.2 2.7 5 4.1-25.6 5.2-47.7 11.5-67.1 19.1 3.6-6.5 7.2-13.3 11-20.6 9.1-17.7 14.9-31.6 19.2-43m102.2 51.6c9.3 0 12 0 21.1 2.3 9.1 2.4 9.2 7.2 7.6 8.2-1.6 1-6 1.6-8.9 1.6-9.2 0-20.7-4.3-36.8-11.4 6.3-.4 11.9-.7 17-.7m-165.4 35.8c-17.7 28.8-29.5 40.3-37.3 43.8 2.9-8.1 14.3-24 31.2-38.1 1.1-.9 3.7-3.4 6.1-5.7M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96z" />',viewBox:"0 0 512 512"},config:{name:"file-config",content:'<path d="M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96zm-41.8-124.6-23.7-17.9c1-5.7 1.6-11.5 1.6-17.4 0-6-.5-11.8-1.6-17.4l23.7-17.9c3.7-2.8 4.7-7.9 2.4-11.9l-19.4-33.5c-2.3-4-7.2-5.6-11.5-3.9L318.4 215c-8.8-7.5-19-13.5-30.2-17.4l-3.7-29.5c-.6-4.6-4.5-8-9.1-8h-38.7c-4.6 0-8.5 3.4-9.1 8l-3.7 29.5c-11.1 4-21.3 9.9-30.2 17.4l-27.4-11.6c-4.2-1.8-9.2-.1-11.5 3.9l-19.4 33.5c-2.3 4-1.3 9.1 2.4 11.9l23.7 17.9c-1 5.7-1.6 11.5-1.6 17.4 0 6 .5 11.8 1.6 17.4l-23.7 17.9c-3.7 2.8-4.7 7.9-2.4 11.9l19.4 33.5c2.3 4 7.2 5.6 11.5 3.9l27.4-11.6c8.8 7.5 19 13.5 30.2 17.4l3.7 29.5c.6 4.6 4.5 8 9.1 8h38.7c4.6 0 8.5-3.4 9.1-8l3.7-29.5c11.1-4 21.3-9.9 30.2-17.4l27.4 11.6c4.2 1.8 9.2.1 11.5-3.9l19.4-33.5c2.2-4 1.2-9-2.5-11.8M256 336c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48" />',viewBox:"0 0 512 512"},zip:{name:"file-zip",content:'<path d="M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h64v32h32v32h-32v32h32v32h-32v32h32v32h-32v32h32v34.7c-18.6 6.6-32 24.4-32 45.3 0 26.5 21.5 48 48 48s48-21.5 48-48c0-20.9-13.4-38.7-32-45.3V256h32v-32h-32v-32h32v-32h-32v-32h32V96h-32V64h96v96h96zm-192-80c0 8.8-7.2 16-16 16s-16-7.2-16-16 7.2-16 16-16 16 7.2 16 16" />',viewBox:"0 0 512 512"},discImage:{name:"file-disc-image",content:'<path d="M256.1 322.7c3.7 0 7.2-1.1 10.1-3s5.2-4.5 6.7-7.6c1.2-2.5 1.9-5.2 1.9-8.1 0-10.3-8.4-18.7-18.7-18.7-2.8 0-5.4.6-7.7 1.7-3.4 1.6-6.3 4.1-8.3 7.3-1.7 2.8-2.7 6.1-2.7 9.7 0 10.4 8.3 18.7 18.7 18.7m-52.5-117.8c-19.1 10.1-34.9 25.5-45.4 44.4-9 16.1-14.1 34.7-14.1 54.4 0 61.7 50 111.7 111.7 111.7 20 0 38.8-5.3 55.1-14.5 18.6-10.6 33.9-26.4 43.9-45.4 8.1-15.5 12.7-33.1 12.7-51.8 0-61.7-50-111.7-111.7-111.7-18.9 0-36.7 4.7-52.2 12.9m89.8 99.2c0 6.1-1.4 11.8-4 16.9l48.7 25.8c-8.3 15.8-20.9 28.9-36.3 37.7l-26.6-48.3c-5.6 3.3-12.1 5.3-19.1 5.3-20.6 0-37.4-16.7-37.4-37.4 0-6.8 1.8-13.2 5-18.7l-49.2-27.1c8.8-15.7 22-28.6 38-37l26.8 49.3c5-2.5 10.7-3.9 16.7-3.9 20.7 0 37.4 16.7 37.4 37.4M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96z" />',viewBox:"0 0 512 512"}},FMt=i=>{const n=i.lastIndexOf("\\");return-1!==n?i.substr(n+1):i},Qne=i=>{const e=i.match(/\.([^\.]+)$/);return e?e[0]:""},AMe=i=>!!(i instanceof Object&&i.hasOwnProperty("name")),xMe=i=>(i.extension=i.extension||Qne(i.name),i.name=i.name,i.size=i.size||0,i.hasOwnProperty("state")||(i.state=St.Initial),i.hasOwnProperty("uid")||(i.uid=tn()),i),NMe=i=>{const n=i.name,e=i.size;return{extension:Qne(n),name:n,rawFile:i,size:e,state:St.Selected}},Zne=i=>{const n=new Array;let e;for(e=0;e<i.length;e++)n.push(NMe(i[e]));return n},LMe=i=>!!(i.validationErrors&&i.validationErrors.length>0),PMe=i=>{for(const n of i)if(LMe(n))return!0;return!1},DB=(i,n)=>{const e=tn();return i.map(t=>(t.uid=n?tn():e,t))},HMt=/^(?:a|input|select|textarea|button|object)$/i,eie="k-icon k-select k-input k-multiselect-wrap",GMe="k-upload-button k-clear-selected k-upload-selected k-upload-action",UMe=i=>String(i).trim().split(" "),HA=(i,n)=>{const e=UMe(n);return!!UMe(i.className).find(t=>e.indexOf(t)>=0)},tie=(i,n=!0)=>{if(i.tagName){const e=i.tagName.toLowerCase(),t=i.getAttribute("tabIndex"),o=null!==t&&!isNaN(t)&&t>-1;let r=!1;return r=HMt.test(e)?!i.disabled:o,r&&(!n||(i=>{const n=i.getBoundingClientRect();return!(!n.width||!n.height)&&"hidden"!==window.getComputedStyle(i).visibility})(i))}return!1},nie=i=>null!=i;class XMt{constructor(){this._files={}}add(n,e){const t={index:0,position:0,retries:0,totalChunks:e};return this._files[n]=t,t}remove(n){this.has(n)&&(this._files[n]=null,delete this._files[n])}has(n){return n in this._files}get(n){return this._files[n]}}let Vc=(()=>{class i{constructor(e){this.http=e,this.cancelEvent=new s.bkB,this.clearEvent=new s.bkB,this.completeEvent=new s.bkB,this.errorEvent=new s.bkB,this.pauseEvent=new s.bkB,this.removeEvent=new s.bkB,this.resumeEvent=new s.bkB,this.selectEvent=new s.bkB,this.successEvent=new s.bkB,this.uploadEvent=new s.bkB,this.uploadProgressEvent=new s.bkB,this.changeEvent=new s.bkB,this.async={autoUpload:!0,batch:!1,chunk:!1,concurrent:!0,removeField:"fileNames",removeHeaders:new Ro,removeMethod:"POST",removeUrl:"",responseType:"json",saveField:"files",saveHeaders:new Ro,saveMethod:"POST",saveUrl:"",withCredentials:!0},this.chunk={autoRetryAfter:100,size:1048576,maxAutoRetries:1,resumable:!0},this.component="Upload",this.chunkMap=new XMt,this.fileList=new OMt}get files(){return this.fileList}setChunkSettings(e){!1!==e&&(this.async.chunk=!0,"object"==typeof e&&(this.chunk=Object.assign({},this.chunk,e)))}onChange(){const e=this.fileList.filesFlat.filter(t=>t.state===St.Initial||t.state===St.Uploaded);this.changeEvent.emit(e.length>0?e:null)}addFiles(e){const t=new NMt(e);if(this.selectEvent.emit(t),!t.isDefaultPrevented()){for(const o of e)this.fileList.add(o);this.async.autoUpload&&this.uploadFiles()}if("FileSelect"===this.component){const o=this.fileList.filesFlat;this.changeEvent.emit(o.length>0?o:null)}}addInitialFiles(e){this.fileList.clear(),e.forEach(t=>{const o=xMe(t);this.fileList.add(o)})}addInitialFileSelectFiles(e){this.fileList.clear(),e.forEach(t=>{t instanceof File?this.fileList.add((i=>{const n=NMe(i);return n.uid=tn(),n.state=St.Selected,n})(t)):this.fileList.add(xMe(t))})}resumeFile(e){const t=this.fileList.get(e);this.resumeEvent.emit(new xMt(t[0])),this.fileList.setFilesStateByUid(e,St.Uploading),this._uploadFiles([t])}pauseFile(e){const t=this.fileList.get(e)[0];this.pauseEvent.emit(new RMt(t)),this.fileList.setFilesStateByUid(e,St.Paused)}removeFiles(e){const t=this.fileList.get(e),o=new AMt(t,this.cloneRequestHeaders(this.async.removeHeaders));if(this.removeEvent.emit(o),!o.isDefaultPrevented())if("Upload"!==this.component||t[0].state!==St.Uploaded&&t[0].state!==St.Initial){if(this.fileList.remove(e),"FileSelect"===this.component){const r=this.fileList.filesFlat;this.changeEvent.emit(r.length>0?r:null)}}else this.performRemove(t,o)}cancelFiles(e){const t=this.fileList.get(e),o=new TMt(t);this.cancelEvent.emit(o);for(const r of t)r.httpSubscription&&r.httpSubscription.unsubscribe();this.fileList.remove(e),this.checkAllComplete()}clearFiles(){const e=new MMt;if(this.clearEvent.emit(e),!e.isDefaultPrevented()){const t=this.fileList.hasFileWithState([St.Initial,St.Uploaded]);this.fileList.clear(),t&&this.onChange()}}uploadFiles(){let e=[];this.async.concurrent&&(e=this.fileList.filesToUpload),!this.async.concurrent&&!this.fileList.hasFileWithState([St.Uploading])&&(e=this.fileList.firstFileToUpload?[this.fileList.firstFileToUpload]:[]),e&&e.length>0&&this._uploadFiles(e)}retryFiles(e){const t=[this.fileList.get(e)];t&&this._uploadFiles(t)}_uploadFiles(e){for(const t of e){if(t[0].state===St.Paused)return;const o=new PMt(t,this.cloneRequestHeaders(this.async.saveHeaders));if(this.uploadEvent.emit(o),o.isDefaultPrevented())this.fileList.remove(t[0].uid);else{this.fileList.setFilesState(t,St.Uploading);const r=this.performUpload(t,o);t.forEach(a=>{a.httpSubscription=r})}}}performRemove(e,t){const o=this.async,r=e.map(u=>u.name),a=this.populateRemoveFormData(r,t.data),l=this.populateRequestOptions(t.headers,!1),c=new Za(o.removeMethod,o.removeUrl,a,l);this.http.request(c).subscribe(u=>{this.onSuccess(u,e,"remove")},u=>{this.onError(u,e,"remove")})}performUpload(e,t){const o=this.async,r=this.populateUploadFormData(e,t.data),a=this.populateRequestOptions(t.headers),l=new Za(o.saveMethod,o.saveUrl,r,a);return this.http.request(l).subscribe(u=>{u.type!==wr.UploadProgress||this.async.chunk?u instanceof Sd&&(this.onSuccess(u,e,"upload"),this.checkAllComplete()):this.onProgress(u,e)},u=>{this.onError(u,e,"upload"),this.checkAllComplete()})}onSuccess(e,t,o){if("upload"===o&&this.async.chunk){if(this.onChunkProgress(t),!this.isChunkUploadComplete(t[0].uid))return this.updateChunkInfo(t[0].uid),void this._uploadFiles([t]);this.removeChunkInfo(t[0].uid)}const r=new LMt(t,o,e);this.successEvent.emit(r),"upload"===o?this.fileList.setFilesState(t,r.isDefaultPrevented()?St.Failed:St.Uploaded):r.isDefaultPrevented()||this.fileList.remove(t[0].uid),r.isDefaultPrevented()||this.onChange()}onError(e,t,o){if("upload"===o&&this.async.chunk){const a=this.chunk.maxAutoRetries,l=this.chunkMap.get(t[0].uid);if(l.retries<a)return l.retries+=1,void setTimeout(()=>{this.retryFiles(t[0].uid)},this.chunk.autoRetryAfter)}const r=new IMt(t,o,e);this.errorEvent.emit(r),"upload"===o&&this.fileList.setFilesState(t,St.Failed)}onProgress(e,t){const o=Math.round(100*e.loaded/e.total),r=new RMe(t,o<100?o:100);this.uploadProgressEvent.emit(r)}onChunkProgress(e){const t=this.chunkMap.get(e[0].uid);let o=0;t&&(o=t.index===t.totalChunks-1?100:Math.round((t.index+1)/t.totalChunks*100));const r=new RMe(e,o<100?o:100);this.uploadProgressEvent.emit(r)}checkAllComplete(){!this.fileList.hasFileWithState([St.Uploading,St.Paused])&&this.areAllSelectedFilesHandled()?this.completeEvent.emit():this.shouldUploadNextFile()&&this.uploadFiles()}shouldUploadNextFile(){return!this.async.concurrent&&this.fileList.hasFileWithState([St.Selected])&&!this.fileList.hasFileWithState([St.Uploading])}areAllSelectedFilesHandled(){return 0===this.fileList.getFilesWithState(St.Selected).filter(t=>!t.validationErrors).length}cloneRequestHeaders(e){const t={};return e&&e.keys().forEach(o=>{t[o]=e.get(o)}),new Ro(t)}populateRequestOptions(e,t=!0){return{headers:e,reportProgress:t,responseType:this.async.responseType,withCredentials:this.async.withCredentials}}populateUploadFormData(e,t){const o=this.async.saveField,r=new FormData;if(this.populateClientFormData(r,t),this.async.chunk)r.append(o,this.getNextChunk(e[0])),r.append("metadata",this.getChunkMetadata(e[0]));else for(const a of e)r.append(o,a.rawFile);return r}populateRemoveFormData(e,t){const o=new FormData;this.populateClientFormData(o,t);for(const r of e)o.append(this.async.removeField,r);return o}populateClientFormData(e,t){for(const o in t)t.hasOwnProperty(o)&&e.append(o,t[o])}getNextChunk(e){const t=this.getChunkInfo(e);return e.rawFile.slice(t.position,t.position+this.chunk.size)}getChunkInfo(e){let t=this.chunkMap.get(e.uid);if(!t){const o=e.size>0?Math.ceil(e.size/this.chunk.size):1;t=this.chunkMap.add(e.uid,o)}return t}updateChunkInfo(e){const t=this.chunkMap.get(e);t.index<t.totalChunks-1&&(t.index+=1,t.position+=this.chunk.size,t.retries=0)}removeChunkInfo(e){this.chunkMap.remove(e)}getChunkMetadata(e){const t=this.chunkMap.get(e.uid);return JSON.stringify({chunkIndex:t.index,contentType:e.rawFile.type,fileName:e.name,fileSize:e.size,fileUid:e.uid,totalChunks:t.totalChunks})}isChunkUploadComplete(e){const t=this.chunkMap.get(e);return!!t&&t.index+1===t.totalChunks}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(Yo))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),V_=(()=>{class i{constructor(e,t){this.uploadService=e,this.zone=t,this.onActionButtonFocus=new s.bkB,this.onFileAction=new s.bkB,this.onFileFocus=new s.bkB,this.onTabOut=new s.bkB,this.onWrapperFocus=new s.bkB,this.onSelectButtonFocus=new s.bkB,this.actionButtonsVisible=!1,this.focused=!1,this._focusedIndex=-1}action(e){return this.keyBindings[e.keyCode]}process(e,t){const o=this.action(e);o&&o(e,t)}computeKeys(){this.keyBindings={[G.Space]:()=>this.handleSpace(),[G.Enter]:()=>this.handleEnter(),[G.Escape]:()=>this.handleEscape(),[G.Delete]:()=>this.handleDelete(),[G.Tab]:(e,t)=>this.handleTab(e.shiftKey,t),[G.ArrowUp]:e=>this.handleUp(e),[G.ArrowDown]:e=>this.handleDown(e)}}focusSelectButton(){this.focused=!0,this._focusedIndex=-1,this.onSelectButtonFocus.emit()}handleEnter(){this.lastIndex>=0&&this.focusedIndex>=0&&this.focusedIndex<=this.lastFileIndex&&this.zone.run(()=>this.onFileAction.emit(G.Enter))}handleSpace(){this.lastIndex>=0&&this.focusedIndex>=0&&this.focusedIndex<=this.lastFileIndex&&this.zone.run(()=>this.onFileAction.emit(G.Space))}handleDelete(){this.focusedIndex>=0&&this.focusedIndex<=this.lastFileIndex&&this.zone.run(()=>this.onFileAction.emit(G.Delete))}handleEscape(){this.focusedIndex>=0&&this.focusedIndex<=this.lastFileIndex&&this.zone.run(()=>this.onFileAction.emit(G.Escape))}handleTab(e,t){if(-1!==this.focusedIndex||!this.actionButtonsVisible||e){if(this.focusedIndex>-1&&this.focusedIndex<=this.lastFileIndex)if(e)this.focusedIndex=-1;else if("fileselect"!==t&&this.actionButtonsVisible)return void(this.focusedIndex=this.lastFileIndex+1);this.focusedIndex!==this.lastFileIndex+1?this.focusedIndex===this.lastIndex&&this.actionButtonsVisible&&e?this.focusedIndex-=1:this.onTabOut.emit():this.focusedIndex=e?-1:this.lastIndex}else this.focusedIndex=this.lastFileIndex+1}handleDown(e){this.lastIndex>=0&&this.focusedIndex<this.lastIndex&&(e.preventDefault(),this.zone.run(()=>{if(this.focusedIndex<this.lastFileIndex)return this.focusedIndex+=1,void this.onFileFocus.emit(this.focusedIndex)}))}handleUp(e){this.lastIndex>=0&&this.focusedIndex>-1&&(e.preventDefault(),this.zone.run(()=>{this.focusedIndex-=1,-1!==this.focusedIndex?this.focusedIndex<=this.lastFileIndex?this.onFileFocus.emit(this.focusedIndex):this.actionButtonsVisible&&this.focusedIndex<=this.lastIndex&&(this.focusedIndex=this.lastFileIndex,this.onFileFocus.emit(this.focusedIndex)):this.onSelectButtonFocus.emit()}))}get focusedIndex(){return this._focusedIndex}set focusedIndex(e){this.focused||this.onWrapperFocus.emit(),this._focusedIndex=e,this.focused=!0,this._focusedIndex>=0&&this._focusedIndex<=this.lastFileIndex&&this.onFileFocus.emit(e)}get lastFileIndex(){return this.actionButtonsVisible?this.lastIndex-2:this.lastIndex}get lastIndex(){const e=this.uploadService.files.count;return this.actionButtonsVisible?e+1:e-1}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(Vc),s.KVO(s.SKi))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const wB={};let ak=(()=>{class i{addComponent(e,t){this.has(t)?wB[t].push(e):wB[t]=[e]}getComponents(e){return wB[e]}has(e){return e in wB}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const FMe={name:"@progress/kendo-angular-upload",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925202,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};let iie=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoUploadFileTemplate",""],["","kendoFileSelectFileTemplate",""]]}),i})(),FS=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoUploadFileInfoTemplate",""],["","kendoFileSelectFileInfoTemplate",""]]}),i})(),sie=(()=>{class i{constructor(e,t,o){this.navigationService=t,this.uploadService=o,this.fileClass=!0,this.focused=!1,this.element=e}focus(){this.element.nativeElement.focus()}get uidAttribute(){return this.files[0].uid}get tabIndex(){return"-1"}get kFileError(){return this.files[0].state===St.Failed}get kFileInvalid(){return PMe(this.files)}get kFileProgress(){return this.files[0].state===St.Uploading||this.files[0].state===St.Paused}get kFileSuccess(){return"Upload"===this.uploadService.component&&(this.files[0].state===St.Uploaded||this.files[0].state===St.Initial)}get kStateFocused(){return this.focused}onFocus(){this.focused=!0}onBlur(){this.focused=!1}onClick(e){!tie(e.target)&&!HA(e.target,eie)&&(this.navigationService.focusedIndex=this.index)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(V_),s.rXU(Vc))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoUploadFileListItem",""]],hostVars:14,hostBindings:function(e,t){1&e&&s.bIt("focus",function(){return t.onFocus()})("blur",function(){return t.onBlur()})("click",function(r){return t.onClick(r)}),2&e&&(s.BMQ("data-uid",t.uidAttribute)("tabIndex",t.tabIndex),s.AVh("k-file",t.fileClass)("k-file-error",t.kFileError)("k-file-invalid",t.kFileInvalid)("k-file-progress",t.kFileProgress)("k-file-success",t.kFileSuccess)("k-focus",t.kStateFocused))},inputs:{files:"files",index:"index"}}),i})(),BMe=(()=>{class i{constructor(e){this.uploadService=e,this.progressComplete=0}subscribeUploadProgress(e){this.uploadProgressSubscription=this.uploadService.uploadProgressEvent.subscribe(e)}fileHasValidationErrors(e){return LMe(e)}filesHaveValidationErrors(e){return PMe(e)}ngOnDestroy(){this.uploadProgressSubscription.unsubscribe()}getFileValidationMessage(e){let t;return e.validationErrors&&e.validationErrors.length>0&&(t=this.localization.get(e.validationErrors[0])),t}getTotalFilesSizeMessage(e){return(i=>{let e,n=0;if("number"!=typeof i[0].size)return"";for(e=0;e<i.length;e++)i[e].size&&(n+=i[e].size);return n/=1024,n<1024?n.toFixed(2)+" KB":(n/1024).toFixed(2)+" MB"})(e)}textFor(e){return this.localization.get(e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Vc))},i.\u0275cmp=s.VBU({type:i,selectors:[["ng-component"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),oie=(()=>{class i{constructor(e,t,o){this.uploadService=e,this.localization=t,this.navigation=o,this.actionFocused=!1,this.retryFocused=!1,this.pauseResumeFocused=!1,this.retrySVGIcon=eW,this.playSVGIcon=UW,this.pauseSVGIcon=AP,this.cancelSVGIcon=cD,this.deleteSVGIcon=go}onFocus(e){"action"===e&&(this.actionFocused=!0),"retry"===e&&(this.retryFocused=!0),"pauseResume"===e&&(this.pauseResumeFocused=!0)}onBlur(e){"retry"===e&&(this.retryFocused=!1),"action"===e&&(this.actionFocused=!1),"pauseResume"===e&&(this.pauseResumeFocused=!1)}onRetryClick(){this.disabled||this.uploadService.retryFiles(this.file.uid)}onRemoveCancelClick(e){if(this.disabled)return;e.stopImmediatePropagation();const t=this.file.uid;this.file.state===St.Uploading?this.uploadService.cancelFiles(t):this.uploadService.removeFiles(t),this.navigation.focusSelectButton()}onPauseResumeClick(){if(this.disabled)return;const e=this.file.uid;this.file.state===St.Paused?this.uploadService.resumeFile(e):this.uploadService.pauseFile(e)}get actionButtonTitle(){return this.localization.get(this.file.state===St.Uploading?"cancel":"remove")}get retryButtonTitle(){return this.localization.get("retry")}get pauseResumeButtonTitle(){return this.localization.get(this.file.state===St.Uploading?"pause":"resume")}get isUploading(){return this.file.state===St.Uploading}get isFailed(){return this.file.state===St.Failed}get isPaused(){return this.file.state===St.Paused}get isResumable(){const e=this.uploadService;return e.async.chunk&&e.chunk.resumable&&(this.file.state===St.Paused||this.file.state===St.Uploading)}get isActionButtonVisible(){return!((this.file.state===St.Uploaded||this.file.state===St.Initial)&&!this.uploadService.async.removeUrl&&"Upload"===this.uploadService.component)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Vc),s.rXU(z),s.rXU(V_))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-upload-file-list-item-action-button"]],inputs:{file:"file",disabled:"disabled",progress:"progress"},decls:5,vars:4,consts:[[1,"k-upload-actions"],["class","k-upload-pct",4,"ngIf"],["type","button","class","k-button k-icon-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-upload-action",3,"ngClass","focus","blur","click",4,"ngIf"],["class","k-button k-icon-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-upload-action","type","button",3,"ngClass","focus","blur","click",4,"ngIf"],[1,"k-upload-pct"],["type","button",1,"k-button","k-icon-button","k-button-md","k-rounded-md","k-button-flat","k-button-flat-base","k-upload-action",3,"focus","blur","click","ngClass"],["name","refresh-sm","innerCssClass","k-retry",3,"svgIcon"],[3,"name","svgIcon"],[3,"name","svgIcon","innerCssClass"]],template:function(e,t){1&e&&(s.j41(0,"span",0),s.DNE(1,iMt,2,1,"span",1)(2,sMt,2,8,"button",2)(3,oMt,2,9,"button",2)(4,rMt,2,10,"button",3),s.k0s()),2&e&&(s.R7$(),s.Y8G("ngIf",t.isUploading||t.isPaused),s.R7$(),s.Y8G("ngIf",t.isFailed),s.R7$(),s.Y8G("ngIf",t.isResumable),s.R7$(),s.Y8G("ngIf",t.isActionButtonVisible))},dependencies:[Qe,q,Be],encapsulation:2}),i})(),VMe=(()=>{class i extends BMe{constructor(e,t){super(t),this.localization=e,this.subscribeUploadProgress(o=>{o.files[0].uid===this.file.uid&&(this.progressComplete=o.percentComplete)})}get fileStatusText(){const e=this.file.validationErrors;return this.file.state===St.Uploaded?`${this.textFor("fileStatusUploaded")}`:this.file.state===St.Failed?`${this.textFor("fileStatusFailed")}`:nie(e)?this.getFileValidationMessage(this.file):this.getTotalFilesSizeMessage([this.file])}get showProgress(){return this.file.state===St.Uploading||this.file.state===St.Paused?"active":"inactive"}get fileGroupClass(){return(i=>{const n="file";for(const e in yB)if(yB[e].indexOf(i)>=0)return"discImage"===e?`${n}-disc-image`:`${n}-${e}`;return n})(this.file.extension?this.file.extension:"")}get fileSVGGroupIcon(){const e=Nfe;if(this.file.extension)for(const t in yB)if(yB[t].indexOf(this.file.extension)>=0)return GMt[t];return e}get isUploadSuccessful(){return this.file.state===St.Uploaded}get isUploadFailed(){return this.file.state===St.Failed}get isNotYetUploaded(){return!this.isUploadFailed&&!this.isUploadSuccessful}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z),s.rXU(Vc))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-upload-file-list-single-item"]],inputs:{disabled:"disabled",file:"file",fileInfoTemplate:"fileInfoTemplate"},features:[s.Vt3],decls:7,vars:11,consts:[[3,"value","label"],[1,"k-file-icon-wrapper"],["size","xxlarge","innerCssClass","k-file-icon",3,"name","svgIcon"],[1,"k-file-info"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"file","disabled","progress"],[1,"k-file-name",3,"title"],[3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(s.nrm(0,"kendo-progressbar",0),s.j41(1,"span",1),s.nrm(2,"kendo-icon-wrapper",2),s.k0s(),s.j41(3,"span",3),s.DNE(4,cMt,5,9,"ng-container",4)(5,dMt,1,8,"ng-container",5),s.k0s(),s.nrm(6,"kendo-upload-file-list-item-action-button",6)),2&e&&(s.Y8G("@progressState",t.showProgress)("value",t.progressComplete)("label",s.lJ4(10,TMe)),s.R7$(2),s.Y8G("name",t.fileGroupClass)("svgIcon",t.fileSVGGroupIcon),s.R7$(2),s.Y8G("ngIf",!t.fileInfoTemplate),s.R7$(),s.Y8G("ngIf",t.fileInfoTemplate),s.R7$(),s.Y8G("file",t.file)("disabled",t.disabled)("progress",t.progressComplete))},dependencies:[KU,Qe,oie,q,Be,qe],encapsulation:2,data:{animation:[Em("progressState",[cd("active",Xe({opacity:1})),cd("inactive",Xe({opacity:0})),oo("void => active",Xe({opacity:0})),oo("inactive => active",Xe({opacity:1})),oo("active => inactive",ii("1s 2s ease-out"))])]}}),i})(),zMe=(()=>{class i extends BMe{constructor(e,t){super(t),this.localization=e,this.copySVGIcon=Ype,this.subscribeUploadProgress(o=>{o.files[0].uid===this.files[0].uid&&(this.progressComplete=o.percentComplete)})}get showProgress(){return this.files[0].state===St.Uploading||this.files[0].state===St.Paused?"active":"inactive"}ngOnInit(){this.filesHaveErrors=super.filesHaveValidationErrors(this.files)}fileStatusText(e){return nie(e.validationErrors)?this.getFileValidationMessage(e):this.getTotalFilesSizeMessage([e])}get batchStatusText(){const e=this.files[0].state,t=this.files.length;return e===St.Uploaded?`${t} ${this.textFor("filesBatchStatusUploaded")}`:e===St.Failed?`${t} ${this.textFor("filesBatchStatusFailed")}`:`${t} ${this.textFor("filesBatchStatus")}`}get isUploadSuccessful(){return this.files[0].state===St.Uploaded}get isUploadFailed(){return this.files[0].state===St.Failed}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z),s.rXU(Vc))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-upload-file-list-multiple-items"]],inputs:{disabled:"disabled",files:"files",fileInfoTemplate:"fileInfoTemplate"},features:[s.Vt3],decls:7,vars:10,consts:[[3,"value","label"],[1,"k-file-icon-wrapper"],["name","copy","size","xxlarge","innerCssClass","k-file-icon",3,"svgIcon"],[1,"k-multiple-files-wrapper"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"file","disabled","progress"],["class","k-file-info",4,"ngFor","ngForOf"],[1,"k-file-summary"],[1,"k-file-info"],[1,"k-file-name",3,"title"],[3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(s.nrm(0,"kendo-progressbar",0),s.j41(1,"span",1),s.nrm(2,"kendo-icon-wrapper",2),s.k0s(),s.j41(3,"span",3),s.DNE(4,pMt,4,2,"ng-container",4)(5,fMt,1,6,"ng-container",5),s.k0s(),s.nrm(6,"kendo-upload-file-list-item-action-button",6)),2&e&&(s.Y8G("@progressState",t.showProgress)("value",t.progressComplete)("label",s.lJ4(9,TMe)),s.R7$(2),s.Y8G("svgIcon",t.copySVGIcon),s.R7$(2),s.Y8G("ngIf",!t.fileInfoTemplate),s.R7$(),s.Y8G("ngIf",t.fileInfoTemplate),s.R7$(),s.Y8G("file",t.files[0])("disabled",t.disabled)("progress",t.progressComplete))},dependencies:[KU,Qe,oie,q,ut,Be,qe],encapsulation:2,data:{animation:[Em("progressState",[cd("active",Xe({opacity:1})),cd("inactive",Xe({opacity:0})),oo("void => active",Xe({opacity:0})),oo("inactive => active",Xe({opacity:1})),oo("active => inactive",ii("1s 2s ease-out"))])]}}),i})(),rie=(()=>{class i{constructor(e,t){this.uploadService=e,this.navigation=t,this.onItemFocus(),this.onItemAction()}onItemFocus(){this.focusSubscription=this.navigation.onFileFocus.subscribe(e=>{this.fileListItems.toArray()[e].focus()})}onItemAction(){this.actionSubscription=this.navigation.onFileAction.subscribe(e=>{this.itemActionHandler(e)})}itemActionHandler(e){const t=this.navigation.focusedIndex,o=this.fileListItems.toArray()[t],r=o.uidAttribute,a=this.uploadService.files.get(r);if(e===G.Escape&&a[0].state===St.Uploading)return this.uploadService.cancelFiles(r),void this.navigation.focusSelectButton();e!==G.Enter||a[0].state!==St.Failed?(e===G.Delete&&(a[0].state===St.Uploading?this.uploadService.cancelFiles(r):this.hasDelete(o)&&this.uploadService.removeFiles(r),this.navigation.focusSelectButton()),e===G.Space&&a[0].state!==St.Uploaded&&this.uploadService.async.chunk&&(a[0].state===St.Paused?this.uploadService.resumeFile(r):this.uploadService.pauseFile(r))):this.uploadService.retryFiles(r)}hasDelete(e){return e.element.nativeElement.getElementsByClassName("k-delete").length>0}ngOnDestroy(){this.focusSubscription.unsubscribe(),this.actionSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Vc),s.rXU(V_))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendo-upload-file-list",""]],viewQuery:function(e,t){if(1&e&&s.GBs(sie,5),2&e){let o;s.mGM(o=s.lsd())&&(t.fileListItems=o)}},inputs:{disabled:"disabled",fileList:"fileList",fileTemplate:"fileTemplate",fileInfoTemplate:"fileInfoTemplate"},attrs:mMt,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["kendoUploadFileListItem","",3,"files","index"],["class","k-file-single",3,"disabled","file","fileInfoTemplate",4,"ngIf"],["class","k-file-multiple",3,"disabled","files","fileInfoTemplate",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[1,"k-file-single",3,"disabled","file","fileInfoTemplate"],[1,"k-file-multiple",3,"disabled","files","fileInfoTemplate"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&s.DNE(0,vMt,4,5,"ng-template",0),2&e&&s.Y8G("ngForOf",t.fileList)},dependencies:[VMe,zMe,ut,sie,q,qe],encapsulation:2}),i})(),kB=(()=>{class i extends yi{}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275dir=s.FsC({type:i,inputs:{cancel:"cancel",clearSelectedFiles:"clearSelectedFiles",dropFilesHere:"dropFilesHere",externalDropFilesHere:"externalDropFilesHere",filesBatchStatus:"filesBatchStatus",filesBatchStatusFailed:"filesBatchStatusFailed",filesBatchStatusUploaded:"filesBatchStatusUploaded",fileStatusFailed:"fileStatusFailed",fileStatusUploaded:"fileStatusUploaded",headerStatusPaused:"headerStatusPaused",headerStatusUploaded:"headerStatusUploaded",headerStatusUploading:"headerStatusUploading",invalidFileExtension:"invalidFileExtension",invalidMaxFileSize:"invalidMaxFileSize",invalidMinFileSize:"invalidMinFileSize",pause:"pause",remove:"remove",resume:"resume",retry:"retry",select:"select",uploadSelectedFiles:"uploadSelectedFiles"},features:[s.Vt3]}),i})(),OB=(()=>{class i extends kB{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoUploadLocalizedMessages",""],["","kendoFileSelectLocalizedMessages",""],["","kendoUploadDropZoneLocalizedMessages",""]],features:[s.Jv_([{provide:kB,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})();const HMe="invalidMaxFileSize",jMe="invalidMinFileSize",$Me="invalidFileExtension",WMt=(i,n)=>{n.length>0&&n.indexOf(i.extension.toLowerCase())<0&&(i.validationErrors=i.validationErrors||[],i.validationErrors.indexOf($Me)<0&&i.validationErrors.push($Me))},KMt=(i,n,e)=>{0!==n&&i.size<n&&(i.validationErrors=i.validationErrors||[],i.validationErrors.indexOf(jMe)<0&&i.validationErrors.push(jMe)),0!==e&&i.size>e&&(i.validationErrors=i.validationErrors||[],i.validationErrors.indexOf(HMe)<0&&i.validationErrors.push(HMe))},aie=(i,n)=>{const e=(i=>i.map(e=>("."===e.substring(0,1)?e:"."+e).toLowerCase()))(n.allowedExtensions),t=n.maxFileSize,o=n.minFileSize;let r;for(r=0;r<i.length;r++)WMt(i[r],e),KMt(i[r],o,t)};let XMe=(()=>{class i{constructor(e,t,o){this.element=e,this.renderer=t,this.hideIntervalElement=null,this.hoverClass=o}onElementDragEnterListener(){return this.addClass(this.hoverClass),this.lastDragElement=new Date,this.hideIntervalElement||(this.hideIntervalElement=setInterval(()=>{this.calculateTimeDiff(this.lastDragElement)<100||(this.removeClass(this.hoverClass),clearInterval(this.hideIntervalElement),this.hideIntervalElement=null)},100)),!1}onElementDragOverListener(){return this.lastDragElement=new Date,!1}calculateTimeDiff(e){return(new Date).getTime()-e.getTime()}addClass(e){this.renderer.addClass(this.element.nativeElement,e)}removeClass(e){this.renderer.removeClass(this.element.nativeElement,e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU("hoverClass"))},i.\u0275dir=s.FsC({type:i,hostBindings:function(e,t){1&e&&s.bIt("dragenter",function(){return t.onElementDragEnterListener()})("dragover",function(){return t.onElementDragOverListener()})}}),i})(),lie=(()=>{class i extends XMe{constructor(e,t,o,r){super(e,t,"k-hover"),this.ngZone=o,this.uploadService=r,this.initialClassName=!0,this.hideIntervalDocument=null,this.activeClass="k-dropzone-active",this.ngZone.runOutsideAngular(()=>{this.unsubscribeDocumentDragEnter=this.renderer.listen("document","dragenter",()=>this.onDocumentDragEnter()),this.unsubscribeDocumentDragOver=this.renderer.listen("document","dragover",()=>this.onDocumentDragOver())})}ngOnDestroy(){this.ngZone.runOutsideAngular(()=>{this.unsubscribeDocumentDragEnter&&this.unsubscribeDocumentDragEnter(),this.unsubscribeDocumentDragOver&&this.unsubscribeDocumentDragOver()})}onDocumentDragEnter(){return this.addClass(this.activeClass),this.lastDragDocument=new Date,this.hideIntervalDocument||(this.hideIntervalDocument=setInterval(()=>{this.calculateTimeDiff(this.lastDragDocument)<100||(this.removeClass(this.activeClass),clearInterval(this.hideIntervalDocument),this.hideIntervalDocument=null)},100)),!1}onDocumentDragOver(){return this.lastDragDocument=new Date,!1}onDropListener(e){const t=e.dataTransfer.files;if(t.length>0&&!this.disabled){let o=Zne(t);o=DB(o,!this.uploadService.async.batch),this.multiple||(o.splice(1,o.length-1),this.uploadService.clearFiles()),aie(o,this.restrictions),this.uploadService.addFiles(o)}return!1}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(s.SKi),s.rXU(Vc))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoUploadInternalDropZone",""],["","kendoFileSelectInternalDropZone",""]],hostVars:4,hostBindings:function(e,t){1&e&&s.bIt("drop",function(r){return t.onDropListener(r)}),2&e&&s.AVh("k-dropzone",t.initialClassName)("k-upload-dropzone",t.initialClassName)},inputs:{disabled:"disabled",multiple:"multiple",restrictions:"restrictions"},features:[s.Vt3]}),i})(),cie=(()=>{class i{constructor(e,t,o){this.uploadService=e,this.navigation=t,this.type="file",this.autocomplete="off",this.tabIndex=-1,this.ariaHidden=!0,this.classNames=!0,this.element=o}get nameAttribute(){return this.uploadService.async.saveField}get multipleAttribute(){return this.multiple?"multiple":null}get dirAttribute(){return this.dir}get disabledAttribute(){return this.disabled?"true":null}get acceptAttribute(){return this.accept?this.accept:null}onInputChange(e){const t=navigator.userAgent;let a=(i=>i.files?Zne(i.files):i.value.split("|").map((e,t)=>{const o=e.trim();return{extension:Qne(o),name:FMt(o),rawFile:null,size:1e3*(t+1),state:St.Selected}}))(e.target);a=DB(a,!this.uploadService.async.batch),aie(a,this.restrictions),this.multiple||this.uploadService.clearFiles(),this.uploadService.addFiles(a);const l=this.element.nativeElement;(t.match(/(webkit)[ \/]([\w.]+)/i)||t.match(/(windows)[ \/]([\w.]+)/i))&&(l.type="",l.type="file"),setTimeout(()=>{this.navigation.focusedIndex=-1})}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Vc),s.rXU(V_),s.rXU(s.aKT))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoFileSelect",""]],hostVars:11,hostBindings:function(e,t){1&e&&s.bIt("change",function(r){return t.onInputChange(r)}),2&e&&(s.BMQ("type",t.type)("autocomplete",t.autocomplete)("tabindex",t.tabIndex)("aria-hidden",t.ariaHidden)("name",t.nameAttribute)("multiple",t.multipleAttribute)("dir",t.dirAttribute)("disabled",t.disabledAttribute)("accept",t.acceptAttribute),s.AVh("k-hidden",t.classNames))},inputs:{dir:"dir",disabled:"disabled",multiple:"multiple",restrictions:"restrictions",accept:"accept"}}),i})();const JMt={multi:!0,provide:zn,useExisting:(0,s.Rfq)(()=>die)};let qMt=0,die=(()=>{class i{constructor(e,t,o,r,a,l,c,u){this.uploadService=e,this.localization=t,this.navigation=o,this.dropZoneService=r,this.ngZone=a,this.renderer=l,this.cdr=c,this.disabled=!1,this.multiple=!0,this.showFileList=!0,this.tabindex=0,this.focusableId=`k-${tn()}`,this.onBlur=new s.bkB,this.onFocus=new s.bkB,this.select=new s.bkB,this.remove=new s.bkB,this.valueChange=new s.bkB,this.hostDefaultClasses=!0,this._restrictions={allowedExtensions:[],maxFileSize:0,minFileSize:0},this.onTouchedCallback=f=>{},this.onChangeCallback=f=>{},(0,_t.$)(FMe),this.wrapper=u.nativeElement,this.direction=t.rtl?"rtl":"ltr",this.navigation.computeKeys(),this.fileList=this.uploadService.files,this.localizationChangeSubscription=t.changes.subscribe(({rtl:f})=>{this.direction=f?"rtl":"ltr"}),this.subscribeBlur(),this.subscribeFocus(),this.attachEventHandlers(),this.setDefaultSettings()}set name(e){this.uploadService.async.saveField=e}get name(){return this.uploadService.async.saveField}set restrictions(e){const t=Object.assign({},this._restrictions,e);this._restrictions=t}get restrictions(){return this._restrictions}get hostDisabledClass(){return this.disabled}get dir(){return this.direction}get hostRole(){return"application"}ngOnInit(){const{buttonId:e,inputId:t}=this.getIds();this.focusableId=e,this.inputElementId=t,this.zoneId&&this.dropZoneService.addComponent(this,this.zoneId),this.subs.add(this.renderer.listen(this.fileSelectInput.nativeElement,"mouseenter",()=>{this.renderer.addClass(this.fileSelectButton.nativeElement,"k-hover")})),this.subs.add(this.renderer.listen(this.fileSelectInput.nativeElement,"mouseleave",()=>{this.renderer.removeClass(this.fileSelectButton.nativeElement,"k-hover")})),this.ngZone.runOutsideAngular(()=>{this.subs.add(this.renderer.listen(this.wrapper,"keydown",o=>this.handleKeydown(o)))})}textFor(e){return this.localization.get(e)}focus(){setTimeout(()=>{this.fileSelectButton.nativeElement.focus(),this.navigation.focused=!0,this.onFocus.emit()})}ngOnDestroy(){this.fileList.clear(),this.blurSubscription&&this.blurSubscription.unsubscribe(),this.wrapperFocusSubscription&&this.wrapperFocusSubscription.unsubscribe(),this.selectButtonFocusSubscription&&this.selectButtonFocusSubscription.unsubscribe(),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.subs&&this.subs.unsubscribe()}writeValue(e){let t=!0;e instanceof Array&&(e.forEach(o=>{(i=>!!(i instanceof File||AMe(i)))(o)||(t=!1)}),t&&this.uploadService.addInitialFileSelectFiles(e)),null===e&&this.fileList.clear(),this.cdr.markForCheck()}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e}onFileSelectButtonFocus(){this.navigation.focused||(this.navigation.focusedIndex=-1)}removeFileByUid(e){this.uploadService.removeFiles(e)}clearFiles(){this.uploadService.clearFiles()}isEmpty(){return!1}addFiles(e){this.uploadService.addFiles(e)}get selectButtonTabIndex(){return this.disabled?void 0:this.tabindex}getIds(){const e=++qMt;return{buttonId:`k-fileselect-button-${e}`,inputId:`k-fileselect-input-${e}`}}subscribeBlur(){ne()&&this.ngZone.runOutsideAngular(()=>{this.documentClick=Dt(document,"click").pipe(X(e=>!(this.wrapper!==e.target&&this.wrapper.contains(e.target)))),this.blurSubscription=Bt(this.documentClick,this.navigation.onTabOut).subscribe(()=>{this.navigation.focused&&this.ngZone.run(()=>{this.navigation.focused=!1,this.onTouchedCallback(),this.onBlur.emit()})})})}subscribeFocus(){this.wrapperFocusSubscription=this.navigation.onWrapperFocus.subscribe(()=>{this.onFocus.emit()}),this.selectButtonFocusSubscription=this.navigation.onSelectButtonFocus.subscribe(()=>{this.fileSelectButton.nativeElement.focus()})}handleKeydown(e){if(!this.disabled){if(e.target===this.fileSelectButton.nativeElement&&(e.keyCode===G.Enter||e.keyCode===G.Space))return e.preventDefault(),void this.fileSelectInput.nativeElement.click();(HA(e.target,GMe)||!tie(e.target)&&!HA(e.target,eie))&&this.navigation.process(e,"fileselect")}}attachEventHandlers(){this.subs=this.uploadService.changeEvent.subscribe(e=>{let t=[];null!==e&&e.forEach(o=>{o.state===St.Initial&&t.push(o),o.state===St.Selected&&o.rawFile&&!o.validationErrors&&t.push(o.rawFile)}),0===t.length&&(t=null),this.onChangeCallback(t),this.valueChange.emit(t)}),this.subs.add(this.uploadService.removeEvent.subscribe(e=>{this.remove.emit(e)})),this.subs.add(this.uploadService.selectEvent.subscribe(e=>{this.select.emit(e)}))}setDefaultSettings(){this.uploadService.async.autoUpload=!1,this.uploadService.component="FileSelect"}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Vc),s.rXU(z),s.rXU(V_),s.rXU(ak),s.rXU(s.SKi),s.rXU(s.sFG),s.rXU(s.gRc),s.rXU(s.aKT))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-fileselect"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,iie,5),s.wni(o,FS,5)),2&e){let r;s.mGM(r=s.lsd())&&(t.fileTemplate=r.first),s.mGM(r=s.lsd())&&(t.fileInfoTemplate=r.first)}},viewQuery:function(e,t){if(1&e&&(s.GBs(MMe,7),s.GBs(IMe,7,s.aKT)),2&e){let o;s.mGM(o=s.lsd())&&(t.fileSelectInput=o.first),s.mGM(o=s.lsd())&&(t.fileSelectButton=o.first)}},hostVars:6,hostBindings:function(e,t){2&e&&(s.BMQ("dir",t.dir)("role",t.hostRole),s.AVh("k-upload",t.hostDefaultClasses)("k-disabled",t.hostDisabledClass))},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",name:"name",showFileList:"showFileList",tabindex:"tabindex",restrictions:"restrictions",zoneId:"zoneId",focusableId:"focusableId"},outputs:{onBlur:"blur",onFocus:"focus",select:"select",remove:"remove",valueChange:"valueChange"},exportAs:["kendoFileSelect"],features:[s.Jv_([z,V_,Vc,ak,JMt,{provide:He,useValue:"kendo.fileselect"},{provide:ji,useExisting:(0,s.Rfq)(()=>i)}])],decls:11,vars:16,consts:()=>{let n,e,t,o,r,a;return n="Rilascia qui i file per l'upload",e="Tipo di file non permesso.",t="Dimensione file troppo larga.",o="Dimensione file troppo piccola.",r="Rimuovi",a="Seleziona...",[["fileSelectButton",""],["fileSelectInput",""],["kendoFileSelectLocalizedMessages","","dropFilesHere",n,"invalidFileExtension",e,"invalidMaxFileSize",t,"invalidMinFileSize",o,"remove",r,"select",a],["kendoFileSelectInternalDropZone","",3,"restrictions","multiple","disabled"],[1,"k-upload-button-wrap"],["kendoButton","","type","button","role","button",1,"k-upload-button",3,"click","focus","id"],["kendoFileSelect","",3,"id","dir","accept","restrictions","multiple","disabled"],[1,"k-dropzone-hint"],["kendo-upload-file-list","","class","k-upload-files k-reset",3,"disabled","fileList","fileTemplate","fileInfoTemplate",4,"ngIf"],["kendo-upload-file-list","",1,"k-upload-files","k-reset",3,"disabled","fileList","fileTemplate","fileInfoTemplate"]]},template:function(e,t){if(1&e){const o=s.RV6();s.eu8(0,2),s.j41(1,"div",3)(2,"div",4)(3,"button",5,0),s.bIt("click",function(){s.eBV(o);const a=s.sdS(7);return s.Njj(a.click())})("focus",function(){return s.eBV(o),s.Njj(t.onFileSelectButtonFocus())}),s.EFF(5),s.k0s(),s.nrm(6,"input",6,1),s.k0s(),s.j41(8,"div",7),s.EFF(9),s.k0s()(),s.DNE(10,CMt,1,4,"ul",8)}2&e&&(s.R7$(),s.Y8G("restrictions",t.restrictions)("multiple",t.multiple)("disabled",t.disabled),s.R7$(2),s.Y8G("id",t.focusableId),s.BMQ("aria-label",t.textFor("select"))("tabindex",t.tabindex)("aria-controls",t.inputElementId),s.R7$(2),s.SpI(" ",t.textFor("select")," "),s.R7$(),s.Y8G("id",t.inputElementId)("dir",t.direction)("accept",t.accept)("restrictions",t.restrictions)("multiple",t.multiple)("disabled",t.disabled),s.R7$(3),s.JRh(t.textFor("dropFilesHere")),s.R7$(),s.Y8G("ngIf",t.showFileList&&t.fileList.count>0))},dependencies:[Ht,rie,OB,lie,cie,q],encapsulation:2}),i})(),BS=(()=>{class i extends kB{constructor(e){super(),this.service=e}get override(){return!0}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-upload-messages"],["kendo-fileselect-messages"],["kendo-uploaddropzone-messages"]],features:[s.Jv_([{provide:kB,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),WMe=(()=>{class i{constructor(e){this.localization=e,this.checkmarkIcon=EC,this.exceptionSVGIcon=pD,this.uploadSVGIcon=EP,this.pauseSVGIcon=AP}get iconClass(){return this.isUploading||this.isFailed?!this.isUploading&&this.isFailed?"exception":this.isUploading?"upload":this.isPaused?"pause-sm":void 0:"checkmark"}get SVGIconClass(){return this.isUploading||this.isFailed?!this.isUploading&&this.isFailed?this.exceptionSVGIcon:this.isUploading?this.uploadSVGIcon:this.isPaused?this.pauseSVGIcon:void 0:this.checkmarkIcon}ngDoCheck(){this.isPaused=this.fileList.hasFileWithState([St.Paused]),this.isFailed=this.fileList.hasFileWithState([St.Failed]),this.isUploading=this.fileList.hasFileWithState([St.Uploading]),this.statusText=this.localization.get(this.isPaused&&!this.isUploading?"headerStatusPaused":this.isUploading?"headerStatusUploading":"headerStatusUploaded")}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-upload-status-total"]],inputs:{fileList:"fileList"},decls:2,vars:3,consts:[[3,"name","svgIcon"]],template:function(e,t){1&e&&(s.nrm(0,"kendo-icon-wrapper",0),s.EFF(1)),2&e&&(s.Y8G("name",t.iconClass)("svgIcon",t.SVGIconClass),s.R7$(),s.SpI(" ",t.statusText," "))},dependencies:[Qe],encapsulation:2}),i})(),KMe=(()=>{class i{constructor(e,t,o){this.uploadService=e,this.localization=t,this.navigation=o,this.hostDefaultClass=!0}get actionButtonsEndClassName(){return"end"===this.actionsLayout}get actionButtonsStretchedClassName(){return"stretched"===this.actionsLayout}get actionButtonsStartClassName(){return"start"===this.actionsLayout}get actionButtonsCenterClassName(){return"center"===this.actionsLayout}onUploadButtonFocus(){this.navigation.focused||(this.navigation.focusedIndex=this.navigation.lastIndex)}onUploadButtonClick(e){e.stopImmediatePropagation(),this.performUpload()}performUpload(){this.disabled||(this.uploadService.uploadFiles(),this.navigation.focusSelectButton())}onClearButtonClick(e){e.stopImmediatePropagation(),this.clearFiles()}clearFiles(){this.disabled||(this.uploadService.clearFiles(),this.navigation.focusSelectButton())}textFor(e){return this.localization.get(e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Vc),s.rXU(z),s.rXU(V_))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-upload-action-buttons"]],viewQuery:function(e,t){if(1&e&&(s.GBs(bMt,7),s.GBs(EMt,7)),2&e){let o;s.mGM(o=s.lsd())&&(t.clearButton=o.first),s.mGM(o=s.lsd())&&(t.uploadButton=o.first)}},hostVars:10,hostBindings:function(e,t){2&e&&s.AVh("k-actions",t.hostDefaultClass)("k-actions-end",t.actionButtonsEndClassName)("k-actions-stretched",t.actionButtonsStretchedClassName)("k-actions-start",t.actionButtonsStartClassName)("k-actions-center",t.actionButtonsCenterClassName)},inputs:{disabled:"disabled",actionsLayout:"actionsLayout"},decls:6,vars:2,consts:[["clearButton",""],["uploadButton",""],["role","button",1,"k-button","k-button-md","k-rounded-md","k-button-solid","k-button-solid-base","k-clear-selected",3,"click"],["role","button",1,"k-button","k-button-md","k-rounded-md","k-button-solid","k-button-solid-primary","k-upload-selected",3,"focus","click"]],template:function(e,t){if(1&e){const o=s.RV6();s.j41(0,"button",2,0),s.bIt("click",function(a){return s.eBV(o),s.Njj(t.onClearButtonClick(a))}),s.EFF(2),s.k0s(),s.j41(3,"button",3,1),s.bIt("focus",function(){return s.eBV(o),s.Njj(t.onUploadButtonFocus())})("click",function(a){return s.eBV(o),s.Njj(t.onUploadButtonClick(a))}),s.EFF(5),s.k0s()}2&e&&(s.R7$(2),s.SpI(" ",t.textFor("clearSelectedFiles")," "),s.R7$(3),s.SpI(" ",t.textFor("uploadSelectedFiles")," "))},encapsulation:2}),i})();const QMt={multi:!0,provide:zn,useExisting:(0,s.Rfq)(()=>zf)};let ZMt=0,zf=(()=>{class i{constructor(e,t,o,r,a,l,c,u){this.uploadService=e,this.localization=t,this.navigation=o,this.dropZoneService=r,this.zone=a,this.renderer=l,this.cdr=c,this.chunkable=!1,this.multiple=!0,this.disabled=!1,this.showFileList=!0,this.tabindex=0,this.focusableId=`k-${tn()}`,this.actionsLayout="end",this.onBlur=new s.bkB,this.cancel=new s.bkB,this.clear=new s.bkB,this.complete=new s.bkB,this.error=new s.bkB,this.onFocus=new s.bkB,this.pause=new s.bkB,this.remove=new s.bkB,this.resume=new s.bkB,this.select=new s.bkB,this.success=new s.bkB,this.upload=new s.bkB,this.uploadProgress=new s.bkB,this.valueChange=new s.bkB,this.hostDefaultClasses=!0,this._restrictions={allowedExtensions:[],maxFileSize:0,minFileSize:0},this.onTouchedCallback=f=>{},this.onChangeCallback=f=>{},(0,_t.$)(FMe),this.fileList=this.uploadService.files,this.localizationChangeSubscription=t.changes.subscribe(({rtl:f})=>{this.direction=f?"rtl":"ltr"}),this.direction=t.rtl?"rtl":"ltr",this.navigation.computeKeys(),this.wrapper=u.nativeElement,this.subscribeBlur(),this.subscribeFocus(),this.attachEventHandlers()}set autoUpload(e){this.uploadService.async.autoUpload=e}get autoUpload(){return this.uploadService.async.autoUpload}set batch(e){this.uploadService.async.batch=e}get batch(){return this.uploadService.async.batch}set withCredentials(e){this.uploadService.async.withCredentials=e}get withCredentials(){return this.uploadService.async.withCredentials}set saveField(e){this.uploadService.async.saveField=e}get saveField(){return this.uploadService.async.saveField}set saveHeaders(e){this.uploadService.async.saveHeaders=e}get saveHeaders(){return this.uploadService.async.saveHeaders}set saveMethod(e){this.uploadService.async.saveMethod=e}get saveMethod(){return this.uploadService.async.saveMethod}set saveUrl(e){this.uploadService.async.saveUrl=e}get saveUrl(){return this.uploadService.async.saveUrl}set responseType(e){this.uploadService.async.responseType=e}get responseType(){return this.uploadService.async.responseType}set removeField(e){this.uploadService.async.removeField=e}get removeField(){return this.uploadService.async.removeField}set removeHeaders(e){this.uploadService.async.removeHeaders=e}get removeHeaders(){return this.uploadService.async.removeHeaders}set removeMethod(e){this.uploadService.async.removeMethod=e}get removeMethod(){return this.uploadService.async.removeMethod}set removeUrl(e){this.uploadService.async.removeUrl=e}get removeUrl(){return this.uploadService.async.removeUrl}set concurrent(e){this.uploadService.async.concurrent=e}get concurrent(){return this.uploadService.async.concurrent}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set restrictions(e){const t=Object.assign({},this._restrictions,e);this._restrictions=t}get restrictions(){return this._restrictions}get hostRole(){return"application"}get hostDisabledClass(){return this.disabled}get dir(){return this.direction}ngOnInit(){this.verifySettings();const{buttonId:e}=this.getIds();this.focusableId=e,this.uploadService.setChunkSettings(this.chunkable),this.zoneId&&this.dropZoneService.addComponent(this,this.zoneId),this.zone.runOutsideAngular(()=>{this.subs.add(this.renderer.listen(this.wrapper,"keydown",t=>this.handleKeydown(t)))})}ngOnChanges(e){if(wt("chunkable",e)){const t=e.chunkable.currentValue;"boolean"==typeof t&&(this.uploadService.async.chunk=t),"object"==typeof t&&null!==t&&(this.uploadService.async.chunk=!0,this.uploadService.chunk=Object.assign({},this.uploadService.chunk,t))}}ngOnDestroy(){this.fileList.clear(),this.blurSubscription&&this.blurSubscription.unsubscribe(),this.wrapperFocusSubscription&&this.wrapperFocusSubscription.unsubscribe(),this.selectButtonFocusSubscription&&this.selectButtonFocusSubscription.unsubscribe(),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.subs&&this.subs.unsubscribe()}writeValue(e){let t=!0;e instanceof Array&&(e.forEach(o=>{AMe(o)||(t=!1)}),t&&this.uploadService.addInitialFiles(e)),null===e&&this.fileList.clear(),this.cdr.markForCheck()}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e}onFileSelectButtonFocus(){this.navigation.focused||(this.navigation.focusedIndex=-1)}get showActionButtons(){let e=!1;if(!this.autoUpload){const t=this.fileList.filesToUpload.length>0,o=this.fileList.hasFileWithState([St.Uploading]);this.concurrent&&t&&(e=!0),!this.concurrent&&t&&!o&&(e=!0)}return this.navigation.actionButtonsVisible=e,e}get showTotalStatus(){return!!this.fileList.hasFileWithState([St.Uploaded,St.Uploading,St.Failed,St.Paused])}textFor(e){return this.localization.get(e)}getIds(){const e=++ZMt;return{buttonId:`k-upload-button-${e}`,inputId:`k-upload-input-${e}`}}focus(){setTimeout(()=>{this.fileSelectButton.nativeElement.focus(),this.navigation.focused=!0,this.onFocus.emit()})}focusComponent(){this.focus()}blur(){this.navigation.focused&&(this.navigation.focused=!1,document.activeElement.blur(),this.onBlur.emit())}blurComponent(){this.blur()}pauseFileByUid(e){this.uploadService.pauseFile(e)}resumeFileByUid(e){this.uploadService.resumeFile(e)}removeFilesByUid(e){this.uploadService.removeFiles(e)}retryUploadByUid(e){this.uploadService.retryFiles(e)}cancelUploadByUid(e){this.uploadService.cancelFiles(e)}uploadFiles(){this.fileList.filesToUpload.length&&this.uploadService.uploadFiles()}clearFiles(){this.uploadService.clearFiles()}addFiles(e){this.uploadService.addFiles(e)}isEmpty(){return!1}verifySettings(){if((0,s.naY)()&&this.batch&&!1!==this.chunkable)throw new Error("The file chunking functionality requires the batch setting to be disabled.")}subscribeBlur(){ne()&&this.zone.runOutsideAngular(()=>{this.documentClick=Dt(document,"click").pipe(X(e=>!(this.wrapper!==e.target&&this.wrapper.contains(e.target)))),this.blurSubscription=Bt(this.documentClick,this.navigation.onTabOut).subscribe(()=>{this.navigation.focused&&this.zone.run(()=>{this.navigation.focused=!1,this.onTouchedCallback(),this.onBlur.emit()})})})}handleKeydown(e){if(!this.disabled){if(e.target===this.fileSelectButton.nativeElement&&(e.keyCode===G.Enter||e.keyCode===G.Space))return e.preventDefault(),void this.fileSelectInput.nativeElement.click();(HA(e.target,GMe)||!tie(e.target)&&!HA(e.target,eie))&&this.navigation.process(e)}}subscribeFocus(){this.wrapperFocusSubscription=this.navigation.onWrapperFocus.subscribe(()=>{this.onFocus.emit()}),this.selectButtonFocusSubscription=this.navigation.onSelectButtonFocus.subscribe(()=>{this.fileSelectButton.nativeElement.focus()})}attachEventHandlers(){this.subs=this.uploadService.cancelEvent.subscribe(e=>{this.cancel.emit(e)}),this.subs.add(this.uploadService.changeEvent.subscribe(e=>{this.onChangeCallback(e),this.valueChange.emit(e)})),this.subs.add(this.uploadService.clearEvent.subscribe(e=>{this.clear.emit(e)})),this.subs.add(this.uploadService.completeEvent.subscribe(()=>{this.complete.emit()})),this.subs.add(this.uploadService.errorEvent.subscribe(e=>{this.error.emit(e)})),this.subs.add(this.uploadService.pauseEvent.subscribe(e=>{this.pause.emit(e)})),this.subs.add(this.uploadService.removeEvent.subscribe(e=>{this.remove.emit(e)})),this.subs.add(this.uploadService.resumeEvent.subscribe(e=>{this.resume.emit(e)})),this.subs.add(this.uploadService.selectEvent.subscribe(e=>{this.select.emit(e)})),this.subs.add(this.uploadService.successEvent.subscribe(e=>{this.success.emit(e)})),this.subs.add(this.uploadService.uploadEvent.subscribe(e=>{this.upload.emit(e)})),this.subs.add(this.uploadService.uploadProgressEvent.subscribe(e=>{this.uploadProgress.emit(e)}))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Vc),s.rXU(z),s.rXU(V_),s.rXU(ak),s.rXU(s.SKi),s.rXU(s.sFG),s.rXU(s.gRc),s.rXU(s.aKT))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-upload"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,iie,5),s.wni(o,FS,5)),2&e){let r;s.mGM(r=s.lsd())&&(t.fileTemplate=r.first),s.mGM(r=s.lsd())&&(t.fileInfoTemplate=r.first)}},viewQuery:function(e,t){if(1&e&&(s.GBs(MMe,7),s.GBs(IMe,7,s.aKT)),2&e){let o;s.mGM(o=s.lsd())&&(t.fileSelectInput=o.first),s.mGM(o=s.lsd())&&(t.fileSelectButton=o.first)}},hostVars:6,hostBindings:function(e,t){2&e&&(s.BMQ("role",t.hostRole)("dir",t.dir),s.AVh("k-upload",t.hostDefaultClasses)("k-disabled",t.hostDisabledClass))},inputs:{autoUpload:"autoUpload",batch:"batch",withCredentials:"withCredentials",saveField:"saveField",saveHeaders:"saveHeaders",saveMethod:"saveMethod",saveUrl:"saveUrl",responseType:"responseType",removeField:"removeField",removeHeaders:"removeHeaders",removeMethod:"removeMethod",removeUrl:"removeUrl",chunkable:"chunkable",concurrent:"concurrent",multiple:"multiple",disabled:"disabled",showFileList:"showFileList",tabindex:"tabindex",zoneId:"zoneId",tabIndex:"tabIndex",accept:"accept",restrictions:"restrictions",focusableId:"focusableId",actionsLayout:"actionsLayout"},outputs:{onBlur:"blur",cancel:"cancel",clear:"clear",complete:"complete",error:"error",onFocus:"focus",pause:"pause",remove:"remove",resume:"resume",select:"select",success:"success",upload:"upload",uploadProgress:"uploadProgress",valueChange:"valueChange"},exportAs:["kendoUpload"],features:[s.Jv_([z,V_,Vc,ak,QMt,{provide:He,useValue:"kendo.upload"},{provide:ji,useExisting:(0,s.Rfq)(()=>i)}]),s.OA$],decls:13,vars:16,consts:()=>{let n,e,t,o,r,a,l,c,u,f,_,S,v,b,D,k,O,I,x,P;return n="Annulla",e="Cancella",t="rilascia qui i file per l'upload",o="files",r="Upload dei file fallito.",a="Upload dei file completata con successo.",l="Upload dei file fallito.",c="Upload dei file completata con successo.",u="Pausa",f="Fatto",_="Upload in corso...",S="Tipo di file non permesso.",v="Dimensione file troppo larga.",b="Dimensione file troppo piccola.",D="Pause",k="Rimuovi",O="Resume",I="Riprova",x="Seleziona...",P="Upload dei file selezionati",[["fileSelectButton",""],["fileSelectInput",""],["kendoUploadLocalizedMessages","","cancel",n,"clearSelectedFiles",e,"dropFilesHere",t,"filesBatchStatus",o,"filesBatchStatusFailed",r,"filesBatchStatusUploaded",a,"fileStatusFailed",l,"fileStatusUploaded",c,"headerStatusPaused",u,"headerStatusUploaded",f,"headerStatusUploading",_,"invalidFileExtension",S,"invalidMaxFileSize",v,"invalidMinFileSize",b,"pause",D,"remove",k,"resume",O,"retry",I,"select",x,"uploadSelectedFiles",P],["kendoUploadInternalDropZone","",3,"restrictions","multiple","disabled"],[1,"k-upload-button-wrap"],["kendoButton","","type","button","role","button",1,"k-upload-button",3,"click","focus","id"],["kendoFileSelect","",3,"dir","accept","restrictions","multiple","disabled"],["class","k-upload-status",3,"fileList",4,"ngIf"],[1,"k-dropzone-hint"],["kendo-upload-file-list","","class","k-upload-files k-reset",3,"disabled","fileList","fileTemplate","fileInfoTemplate",4,"ngIf"],[3,"disabled","actionsLayout",4,"ngIf"],[1,"k-upload-status",3,"fileList"],["kendo-upload-file-list","",1,"k-upload-files","k-reset",3,"disabled","fileList","fileTemplate","fileInfoTemplate"],[3,"disabled","actionsLayout"]]},template:function(e,t){if(1&e){const o=s.RV6();s.eu8(0,2),s.j41(1,"div",3)(2,"div",4)(3,"button",5,0),s.bIt("click",function(){s.eBV(o);const a=s.sdS(7);return s.Njj(a.click())})("focus",function(){return s.eBV(o),s.Njj(t.onFileSelectButtonFocus())}),s.EFF(5),s.k0s(),s.nrm(6,"input",6,1),s.k0s(),s.DNE(8,yMt,1,1,"kendo-upload-status-total",7),s.j41(9,"div",8),s.EFF(10),s.k0s()(),s.DNE(11,DMt,1,4,"ul",9)(12,wMt,1,2,"kendo-upload-action-buttons",10)}2&e&&(s.R7$(),s.Y8G("restrictions",t.restrictions)("multiple",t.multiple)("disabled",t.disabled),s.R7$(2),s.Y8G("id",t.focusableId),s.BMQ("aria-label",t.textFor("select"))("tabindex",t.tabindex),s.R7$(2),s.SpI(" ",t.textFor("select")," "),s.R7$(),s.Y8G("dir",t.direction)("accept",t.accept)("restrictions",t.restrictions)("multiple",t.multiple)("disabled",t.disabled),s.R7$(2),s.Y8G("ngIf",t.showTotalStatus),s.R7$(2),s.JRh(t.textFor("dropFilesHere")),s.R7$(),s.Y8G("ngIf",t.showFileList&&t.fileList.count>0),s.R7$(),s.Y8G("ngIf",t.showActionButtons))},dependencies:[Ht,WMe,rie,KMe,OB,lie,cie,q],encapsulation:2}),i})(),JMe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,ID,R0e,xn],Ge,ID]}),i})(),t3t=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[JMe,xn]]}),i})(),qMe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[JMe,xn]]}),i})(),n3t=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[t3t,qMe]}),i})();const i3t=["form"];function s3t(i,n){1&i&&s.nrm(0,"div",3)}function o3t(i,n){if(1&i){const e=s.RV6();s.j41(0,"form",9,0),s.bIt("ngSubmit",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.close())}),s.j41(2,"div",10)(3,"div",11)(4,"kendo-formfield")(5,"label"),s.EFF(6,"Descrizione certificato"),s.k0s(),s.j41(7,"kendo-textbox",12),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.description,o)||(r.options.description=o),s.Njj(o)}),s.k0s(),s.j41(8,"kendo-formerror"),s.EFF(9,"Descrizione certificato \xe8 il campo obbligatorio"),s.k0s()()(),s.j41(10,"div",11)(11,"kendo-formfield")(12,"label"),s.EFF(13,"Percorso certificato"),s.k0s(),s.j41(14,"kendo-textbox",13),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.fileName,o)||(r.options.fileName=o),s.Njj(o)}),s.k0s()()()(),s.j41(15,"div",10)(16,"div",11)(17,"kendo-formfield")(18,"label"),s.EFF(19,"File"),s.k0s(),s.j41(20,"kendo-fileselect",14),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.files,o)||(r.options.files=o),s.Njj(o)}),s.k0s()()()(),s.j41(21,"div",15)(22,"button",16),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.dismiss())}),s.EFF(23," ANNULLA "),s.k0s(),s.j41(24,"button",17),s.EFF(25," SALVA "),s.k0s()()()}if(2&i){const e=s.XpG(2);s.R7$(7),s.R50("ngModel",e.options.description),s.R7$(7),s.R50("ngModel",e.options.fileName),s.R7$(6),s.R50("ngModel",e.options.files),s.Y8G("multiple",!1)}}function r3t(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",4)(1,"kendo-window",5),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.j41(2,"kendo-window-titlebar")(3,"div",6),s.EFF(4,"Certificato"),s.k0s(),s.nrm(5,"button",7),s.k0s(),s.DNE(6,o3t,26,4,"form",8),s.k0s()()}if(2&i){const e=s.XpG();s.R7$(),s.Y8G("resizable",!1)("draggable",!1)("top",80),s.R7$(5),s.Y8G("ngIf",e.options)}}let a3t=(()=>{class i extends eo{constructor(e){super(),this._messageBox=e,this.documents=[]}_canClose(){return fl(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(vn))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-operator-document-modal"]],viewQuery:function(t,o){if(1&t&&s.GBs(i3t,5),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first)}},features:[s.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],["name","updateActivityForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateActivityForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row","riga-form"],[1,"col-md-6"],["name","description","required","",3,"ngModelChange","ngModel"],["name","fileName",3,"ngModelChange","ngModel"],["name","file",3,"ngModelChange","ngModel","multiple"],[1,"text-right","mt-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","submit",1,"btn","btn-primary"]],template:function(t,o){1&t&&s.DNE(0,s3t,1,0,"div",1)(1,r3t,7,4,"div",2),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened))},dependencies:[q,Ps,Di,Ls,lo,fs,ps,$i,ts,Ni,xh,__,ol,die]})}return i})();const l3t=["operatorDocumentModal"];function c3t(i,n){1&i&&s.nrm(0,"div",3)}function d3t(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",20),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG(2);return s.Njj(r.modificaDocumento(o))}),s.nrm(1,"i",21),s.k0s(),s.j41(2,"button",22),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG(2);return s.Njj(r.scaricaDocumento(o))}),s.nrm(3,"i",23),s.k0s()}}function u3t(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",4)(1,"kendo-window",5),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.j41(2,"kendo-window-titlebar")(3,"div",6),s.EFF(4," Certificati "),s.k0s(),s.nrm(5,"button",7),s.k0s(),s.j41(6,"div",8)(7,"div",9)(8,"button",10),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.aggiungiDocumento())}),s.nrm(9,"i",11),s.EFF(10," NUOVO CERTIFICATO "),s.k0s()()(),s.j41(11,"div",8)(12,"div",12)(13,"kendo-grid",13),s.nrm(14,"kendo-grid-column",14)(15,"kendo-grid-column",15),s.j41(16,"kendo-grid-column",16),s.DNE(17,d3t,4,0,"ng-template",17),s.k0s()()()(),s.j41(18,"div",18)(19,"button",19),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.EFF(20," CHIUDI "),s.k0s()()()()}if(2&i){const e=s.XpG();s.R7$(),s.Y8G("resizable",!1)("draggable",!1)("top",100),s.R7$(12),s.Y8G("data",e.documents),s.R7$(3),s.Y8G("sortable",!1)("filterable",!1)("width",100)}}let h3t=(()=>{class i extends eo{constructor(e,t){super(),this._messageBox=e,this._operatorsService=t,this.documents=[]}scaricaDocumento(e){var t=document.createElement("a");t.target="_blank",t.href=e.fileName,t.click()}_readDocuments(){this._subscriptions.push(this._operatorsService.getOperatorDetail(this.operatorId).pipe(F(e=>{this.documents=e.documents})).subscribe())}loadData(){this._readDocuments()}_canClose(){return!0}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(vn),s.rXU(Bc))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-operator-documents-modal"]],viewQuery:function(t,o){if(1&t&&s.GBs(l3t,7),2&t){let r;s.mGM(r=s.lsd())&&(o.operatorDocumentModal=r.first)}},features:[s.Vt3],decls:4,vars:2,consts:[["operatorDocumentModal",""],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],[1,"row"],[1,"col-md-12","text-right","note-grid-header-buttons"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],[1,"col-md-12"],[3,"data"],["field","description","title","Descrizione"],["field","fileName","title","Percorso"],["field","id","title"," ",3,"sortable","filterable","width"],["kendoGridCellTemplate",""],[1,"text-right","mt-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["title","Modifica certificato",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["title","Scarica certificato",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-download"]],template:function(t,o){1&t&&(s.DNE(0,c3t,1,0,"div",1)(1,u3t,21,7,"div",2),s.nrm(2,"app-operator-document-modal",null,0)),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened))},dependencies:[q,Wi,Oi,Us,$i,ts,Ni,a3t],styles:[".note-grid-header-buttons[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return i})();const p3t=["form"],f3t=["operatorDocumentsModal"];function m3t(i,n){1&i&&s.nrm(0,"div",4)}function _3t(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",33)(1,"kendo-formfield",13)(2,"label"),s.EFF(3,"Username"),s.k0s(),s.j41(4,"kendo-textbox",34),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(3);return s.DH7(r.options.userName,o)||(r.options.userName=o),s.Njj(o)}),s.k0s(),s.j41(5,"kendo-formerror"),s.EFF(6,"Username \xe8 il campo obbligatorio"),s.k0s()()()}if(2&i){const e=s.XpG(3);s.R7$(4),s.R50("ngModel",e.options.userName)}}function g3t(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",33)(1,"kendo-formfield",13)(2,"label"),s.EFF(3,"Password"),s.k0s(),s.j41(4,"kendo-textbox",35),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(3);return s.DH7(r.options.password,o)||(r.options.password=o),s.Njj(o)})("requiredChange",function(o){s.eBV(e);const r=s.XpG(3);return s.DH7(r.notHasUser,o)||(r.notHasUser=o),s.Njj(o)}),s.k0s(),s.j41(5,"kendo-formerror"),s.EFF(6,"Password \xe8 il campo obbligatorio"),s.k0s()()()}if(2&i){const e=s.XpG(3);s.R7$(4),s.R50("ngModel",e.options.password)("required",e.notHasUser)}}function S3t(i,n){if(1&i&&(s.j41(0,"span"),s.EFF(1),s.k0s()),2&i){const e=s.XpG().$implicit;s.R7$(),s.JRh(e[0].name)}}function v3t(i,n){if(1&i&&(s.j41(0,"a",38),s.EFF(1),s.k0s()),2&i){const e=s.XpG().$implicit,t=s.XpG(3);s.Y8G("href",t.CreateUrl(e[0].name),s.B4B),s.R7$(),s.SpI(" ",e[0].name," ")}}function C3t(i,n){if(1&i&&s.DNE(0,S3t,2,1,"span",36)(1,v3t,2,2,"a",37),2&i){const e=s.XpG(3);s.Y8G("ngIf",!e.isUploaded),s.R7$(),s.Y8G("ngIf",e.isUploaded)}}function b3t(i,n){if(1&i){const e=s.RV6();s.j41(0,"form",10,1),s.bIt("ngSubmit",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.close())}),s.j41(2,"div",11)(3,"div",12)(4,"kendo-formfield",13)(5,"label"),s.EFF(6,"Nome"),s.k0s(),s.j41(7,"kendo-textbox",14),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.name,o)||(r.options.name=o),s.Njj(o)}),s.k0s(),s.j41(8,"kendo-formerror"),s.EFF(9,"Nome \xe8 un campo obbligatorio"),s.k0s()()(),s.j41(10,"div",12)(11,"kendo-formfield",13)(12,"label"),s.EFF(13,"Email"),s.k0s(),s.j41(14,"kendo-textbox",15),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.email,o)||(r.options.email=o),s.Njj(o)}),s.k0s(),s.j41(15,"kendo-formerror"),s.EFF(16,"Email \xe8 il campo obbligatorio"),s.k0s()()()(),s.j41(17,"div",11)(18,"div",12)(19,"kendo-formfield",13)(20,"label"),s.EFF(21,"Trasporto principale"),s.k0s(),s.j41(22,"kendo-combobox",16),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.defaultVehicleId,o)||(r.options.defaultVehicleId=o),s.Njj(o)}),s.k0s(),s.j41(23,"kendo-formerror"),s.EFF(24,"Trasporto principale \xe8 il campo obbligatorio"),s.k0s()()(),s.j41(25,"div",17)(26,"kendo-formfield",13)(27,"label"),s.EFF(28,"Colore"),s.k0s(),s.j41(29,"kendo-colorpicker",18),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.colorHex,o)||(r.options.colorHex=o),s.Njj(o)}),s.k0s(),s.j41(30,"kendo-formerror"),s.EFF(31,"Colore \xe8 il campo obbligatorio"),s.k0s()()()(),s.j41(32,"div",11)(33,"div",19)(34,"label"),s.EFF(35,"Tipi Attivit\xe0"),s.k0s(),s.j41(36,"div",13)(37,"kendo-multiselect",20),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.activityTypes,o)||(r.options.activityTypes=o),s.Njj(o)}),s.k0s(),s.nrm(38,"div",21),s.k0s()()(),s.j41(39,"div",22)(40,"div",23)(41,"div",13)(42,"kendo-label",24),s.EFF(43,"Assegna Utente?"),s.k0s(),s.j41(44,"kendo-switch",25),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.hasUser,o)||(r.options.hasUser=o),s.Njj(o)}),s.k0s(),s.nrm(45,"div",21),s.k0s()(),s.DNE(46,_3t,7,1,"div",26)(47,g3t,7,2,"div",26),s.k0s(),s.j41(48,"div",22)(49,"div",19)(50,"kendo-formfield",13)(51,"label"),s.EFF(52,"Allegati"),s.k0s(),s.j41(53,"kendo-upload",27),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.attachmentsFileInfo,o)||(r.attachmentsFileInfo=o),s.Njj(o)}),s.bIt("select",function(o){s.eBV(e);const r=s.XpG(2);return s.Njj(r.AttachmentSelect(o))})("success",function(o){s.eBV(e);const r=s.XpG(2);return s.Njj(r.AttachmentExecutionSuccess(o))}),s.DNE(54,C3t,2,2,"ng-template",28),s.nrm(55,"kendo-upload-messages",29),s.k0s()()()(),s.j41(56,"div",30)(57,"button",31),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.dismiss())}),s.EFF(58," ANNULLA "),s.k0s(),s.j41(59,"button",32),s.EFF(60," SALVA "),s.k0s()()()}if(2&i){const e=s.sdS(1),t=s.XpG(2);s.R7$(7),s.R50("ngModel",t.options.name),s.R7$(7),s.R50("ngModel",t.options.email),s.R7$(8),s.Y8G("data",t.vehicles),s.R50("ngModel",t.options.defaultVehicleId),s.Y8G("valuePrimitive",!0),s.R7$(7),s.R50("ngModel",t.options.colorHex),s.R7$(8),s.Y8G("data",t.activityTypes),s.R50("ngModel",t.options.activityTypes),s.Y8G("allowCustom",!1)("valuePrimitive",!0)("readonly",t.readonly),s.R7$(),s.Y8G("control",e.controls.activitytypes),s.R7$(4),s.Y8G("for",t.notification),s.R7$(2),s.R50("ngModel",t.options.hasUser),s.R7$(),s.Y8G("control",e.controls.pictureRequired),s.R7$(),s.Y8G("ngIf",t.options.hasUser),s.R7$(),s.Y8G("ngIf",t.options.hasUser),s.R7$(6),s.R50("ngModel",t.attachmentsFileInfo),s.Y8G("saveUrl",t.uploadSaveUrl)("removeUrl",t.uploadRemoveUrl)}}function E3t(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",5)(1,"kendo-window",6),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.j41(2,"kendo-window-titlebar")(3,"div",7),s.EFF(4," Operatore "),s.k0s(),s.nrm(5,"button",8),s.k0s(),s.DNE(6,b3t,61,20,"form",9),s.k0s()()}if(2&i){const e=s.XpG();s.R7$(),s.Y8G("resizable",!1)("draggable",!1)("top",100),s.R7$(5),s.Y8G("ngIf",e.options)}}let y3t=(()=>{class i extends eo{constructor(e,t,o){super(),this._messageBox=e,this._vehiclesService=t,this._activityTypesService=o,this._baseUrl=`${fn.baseApiUrl}/operators`,this.uploadSaveUrl=`${this._baseUrl}/document/upload-file`,this.uploadRemoveUrl=`${this._baseUrl}/document/remove-file`,this.attachmentsFileInfo=[],this.attachmentsUploads=[],this.isUploaded=[],this.vehicles=[],this.roles=[],this.role=ci,this.operator=new X0}open(e){const t=super.open(e);return this.attachmentsFileInfo=[],this.isUploaded=[],this.attachmentsUploads=[],this.notHasUser=!this.options.hasUser,this.options.documents.forEach(o=>{if(null!=o.originalFileName&&null!=o.fileName){const r=new EB(o.fileName,o.originalFileName);this.attachmentsUploads.push(r),this.attachmentsFileInfo.push({name:o.originalFileName}),this.isUploaded.push(!0)}}),t}AttachmentExecutionSuccess(e){const t=e.response.body;if(null!=t){const o=t,r=new EB(o.fileName,o.originalFileName);this.attachmentsUploads.push(r);let a=new bB;a.fileName=o.fileName,a.originalFileName=o.originalFileName,this.options.documents.push(a),this.isUploaded.push(!0)}else{const o=e.files[0].name,r=this.attachmentsUploads.findIndex(a=>a.originalFileName==o);r>-1&&(this.attachmentsUploads.splice(r,1),this.options.documents.splice(r,1),this.isUploaded.pop())}}AttachmentSelect(e){const t=e.files;let o=!1;t.forEach(r=>{var a=this.attachmentsUploads.findIndex(l=>l.originalFileName==r.name);a>-1&&(t.splice(a,1),o=!0)}),o&&this._messageBox.alert("Sono presenti tra i file caricati alcuni file con lo stesso nome di quelli che si vogliono caricare")}CreateUrl(e){let t="";return this.attachmentsUploads.forEach(o=>{o.originalFileName==e&&(t=`${this._baseUrl}/document/download-file/${o.fileName}/${o.originalFileName}`)}),t}setRoles(){for(var e in this.roles=[],ci)"number"==typeof ci[e]&&this.roles.push({id:ci[e],name:e})}viewDocuments(){this.operatorDocumentsModal.operatorId=this.options.id,this.operatorDocumentsModal.loadData(),this.operatorDocumentsModal.open(null)}loadData(){this._readVehicles(),this._readActivityTypes(),this.setRoles()}_canClose(){return fl(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid}_readVehicles(){this._subscriptions.push(this._vehiclesService.readVehiclesList().pipe(F(e=>this.vehicles=e)).subscribe())}_readActivityTypes(){this._subscriptions.push(this._activityTypesService.readActivityTypesList().pipe(F(e=>this.activityTypes=e)).subscribe())}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(vn),s.rXU(CB),s.rXU(rk))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-operator-modal"]],viewQuery:function(t,o){if(1&t&&(s.GBs(p3t,5),s.GBs(f3t,7)),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first),s.mGM(r=s.lsd())&&(o.operatorDocumentsModal=r.first)}},inputs:{operator:"operator"},features:[s.Vt3],decls:4,vars:2,consts:[["operatorDocumentsModal",""],["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],["name","updateActivityTypeForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateActivityTypeForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row","riga-form"],[1,"col-md-6"],[1,"form-group"],["name","name","required","",3,"ngModelChange","ngModel"],["name","email","type","email","required","",3,"ngModelChange","ngModel"],["name","defaultVehicleId","suggest","true","textField","description","valueField","id",3,"ngModelChange","data","ngModel","valuePrimitive"],[1,"col-md-3"],["name","colorHex","format","hex","required","",3,"ngModelChange","ngModel"],[1,"col-md-12"],["textField","name","valueField","id","name","activitytypes",3,"ngModelChange","data","ngModel","allowCustom","valuePrimitive","readonly"],[1,"validation-message",3,"control"],[1,"row","riga-form","form-group"],[1,"col-md-2"],[1,"k-checkbox-label",3,"for"],["name","hasUser","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],["class","col-md-5",4,"ngIf"],["name","myUpload",3,"ngModelChange","select","success","ngModel","saveUrl","removeUrl"],["kendoUploadFileInfoTemplate",""],["dropFilesHere"," "],[1,"text-right","mt-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"col-md-5"],["name","userName","required","",3,"ngModelChange","ngModel"],["name","password",3,"ngModelChange","requiredChange","ngModel","required"],[4,"ngIf"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"]],template:function(t,o){1&t&&(s.DNE(0,m3t,1,0,"div",2)(1,E3t,7,4,"div",3),s.nrm(2,"app-operator-documents-modal",null,0)),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened))},dependencies:[q,Ps,Di,Ls,lo,fs,ps,$i,ts,Ni,ca,l0,oS,xh,qC,__,ol,FS,BS,zf,za,h3t],encapsulation:2})}return i})();const D3t=["operatorModal"];function w3t(i,n){1&i&&s.nrm(0,"div",13),2&i&&s.xc7("background-color",n.$implicit.colorHex)}function k3t(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",14),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.editOperator(o))}),s.nrm(1,"i",15),s.k0s(),s.j41(2,"button",16),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.deleteOperator(o))}),s.nrm(3,"i",17),s.k0s()}}let O3t=(()=>{class i extends Tn{constructor(e,t,o){super(),this._operatorsService=e,this._messageBox=t,this._router=o,this.stateGridOperators={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[]},this.operatorSelezionato=new X0}ngOnInit(){this._readOperators()}dataStateChange(e){this.stateGridOperators=e,this._readOperators()}_readOperators(){this._subscriptions.push(this._operatorsService.readOperators(this.stateGridOperators).pipe(F(e=>{this.dataOperators=e})).subscribe())}createOperator(){this.operatorModal.loadData();const e=new X0;this._subscriptions.push(this.operatorModal.open(e).pipe(X(t=>t),le(()=>this._operatorsService.createOperator(e)),F(t=>{this._messageBox.success(`Operatore ${e.name} creato`)}),F(()=>this._readOperators())).subscribe())}editOperator(e){this.operatorModal.loadData(),this._subscriptions.push(this._operatorsService.getOperatorDetail(e.id).pipe((0,V.T)(t=>Object.assign(new X0,t)),le(t=>this.operatorModal.open(t)),X(t=>t),(0,V.T)(()=>this.operatorModal.options),le(t=>this._operatorsService.updateOperator(t,e.id)),(0,V.T)(()=>this.operatorModal.options),F(t=>this._messageBox.success(`Operatore ${e.name} aggiornato`)),F(()=>this._readOperators())).subscribe())}deleteOperator(e){this._messageBox.confirm(`Sei sicuro di voler cancellare l'operatore ${e.name}?`,"Conferma l'azione").subscribe(t=>{1==t&&this._subscriptions.push(this._operatorsService.deleteOperator(e.id).pipe(F(o=>this._messageBox.success(`Operatore ${e.name} cancellato con successo`)),F(()=>this._readOperators())).subscribe())})}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(Bc),s.rXU(vn),s.rXU(Ns))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-operators"]],viewQuery:function(t,o){if(1&t&&s.GBs(D3t,7),2&t){let r;s.mGM(r=s.lsd())&&(o.operatorModal=r.first)}},features:[s.Vt3],decls:18,vars:11,consts:[["operatorModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","name","title","Nome"],["field","email","title","email"],["field","defaultVehicle.description","title","Trasporto"],["field","colorHex","title","Colore"],["kendoGridCellTemplate",""],["field","id","title"," ",3,"sortable","filterable","width"],[1,"operator-color-in-grid"],["title","Modifica",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["title","Elimina",1,"btn","btn-danger","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-trash"]],template:function(t,o){if(1&t){const r=s.RV6();s.j41(0,"div",1)(1,"div",2)(2,"h3"),s.EFF(3,"Operatori"),s.k0s()(),s.j41(4,"div",3)(5,"button",4),s.bIt("click",function(){return s.eBV(r),s.Njj(o.createOperator())}),s.nrm(6,"i",5),s.EFF(7," NUOVO "),s.k0s()()(),s.j41(8,"kendo-grid",6),s.bIt("dataStateChange",function(l){return s.eBV(r),s.Njj(o.dataStateChange(l))}),s.nrm(9,"kendo-grid-column",7)(10,"kendo-grid-column",8)(11,"kendo-grid-column",9),s.j41(12,"kendo-grid-column",10),s.DNE(13,w3t,1,2,"ng-template",11),s.k0s(),s.j41(14,"kendo-grid-column",12),s.DNE(15,k3t,4,0,"ng-template",11),s.k0s()(),s.nrm(16,"app-operator-modal",null,0)}2&t&&(s.R7$(8),s.Y8G("data",o.dataOperators)("pageSize",o.stateGridOperators.take)("skip",o.stateGridOperators.skip)("sort",o.stateGridOperators.sort)("filter",o.stateGridOperators.filter)("group",o.stateGridOperators.group)("sortable",!0)("pageable",!0),s.R7$(6),s.Y8G("sortable",!1)("filterable",!1)("width",95))},dependencies:[Wi,Oi,Us,y3t],styles:[".operator-color-in-grid[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:5px}"]})}return i})();class Fd{constructor(){this.id=null,this.code=null,this.name=null,this.description=null,this.isReiDoor=!1,this.isSparePart=!1}}class jA{constructor(){this.id=null,this.pictureFileName=null,this.description=null,this.productTypeId=null,this.productType=new Fd,this.activityTypeId=null,this.activityType=new Ud,this.items=[]}}class W0{constructor(){this.id=null,this.description=null,this.checkListId=0,this.tempId=kMe()}}let uie=(()=>{class i{constructor(e){this._http=e,this._baseUrl=`${fn.baseApiUrl}/checklist`}readCheckList(e){const t=_d(e),o=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/checklist?${t}`).pipe((0,V.T)(r=>{const a=[];return r.data.forEach(l=>{const c=Object.assign(new jA,l);c.productType=Object.assign(new Fd,c.productType),c.activityType=Object.assign(new Ud,c.activityType);const u=[];c.items.forEach(f=>{const _=Object.assign(new W0,f);u.push(_)}),c.items=u,a.push(c)}),{data:o?Ra(a):a,total:r.total}}))}getCheckListDetail(e){return this._http.get(`${this._baseUrl}/checklist-detail/${e}`).pipe((0,V.T)(t=>{const o=Object.assign(new jA,t);o.productType=Object.assign(new Fd,o.productType),o.activityType=Object.assign(new Ud,o.activityType);const r=[];return o.items.forEach(a=>{const l=Object.assign(new W0,a);r.push(l)}),o.items=r,o}))}createCheckList(e){return this._http.post(`${this._baseUrl}/checklist`,e).pipe((0,V.T)(t=>t))}updateCheckList(e,t){return this._http.put(`${this._baseUrl}/checklist/${t}`,e).pipe((0,V.T)(()=>{}))}deleteCheckList(e){return this._http.delete(`${this._baseUrl}/checklist/${e}`).pipe((0,V.T)(()=>{}))}readActivityTypes(){return this._http.get(`${this._baseUrl}/activity-types`).pipe((0,V.T)(e=>{const t=[];return e.forEach(o=>{const r=Object.assign(new Ud,o);t.push(r)}),t}))}readCheckListItems(e){return this._http.get(`${this._baseUrl}/checklist-items/${e}`).pipe((0,V.T)(t=>{const o=[];return t.forEach(r=>{const a=Object.assign(new W0,r);o.push(a)}),o}))}getCheckListItemDetail(e){return this._http.get(`${this._baseUrl}/checklist-item-detail/${e}`).pipe((0,V.T)(t=>Object.assign(new W0,t)))}createCheckListItem(e){return this._http.post(`${this._baseUrl}/checklist-item`,e).pipe((0,V.T)(t=>t))}updateCheckListItem(e,t){return this._http.put(`${this._baseUrl}/checklist-item/${t}`,e).pipe((0,V.T)(()=>{}))}deleteCheckListItem(e){return this._http.delete(`${this._baseUrl}/checklist-item/${e}`).pipe((0,V.T)(()=>{}))}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Yo))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})(),TB=(()=>{class i{constructor(e){this._http=e,this._baseUrl=`${fn.baseApiUrl}/productTypes`}readProductTypes(e){const t=_d(e),o=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/productTypes?${t}`).pipe((0,V.T)(r=>{const a=[];return r.data.forEach(l=>{const c=Object.assign(new Fd,l);a.push(c)}),{data:o?Ra(a):a,total:r.total}}))}createProductType(e){return this._http.post(`${this._baseUrl}/producttype`,e).pipe((0,V.T)(t=>t))}updateProductType(e,t){return this._http.put(`${this._baseUrl}/producttype/${t}`,e).pipe((0,V.T)(()=>{}))}deleteProductType(e){return this._http.delete(`${this._baseUrl}/producttype/${e}`).pipe((0,V.T)(()=>{}))}getProductTypeDetail(e){return this._http.get(`${this._baseUrl}/producttype-detail/${e}`).pipe((0,V.T)(t=>Object.assign(new Fd,t)))}readProductTypesList(){return this._http.get(`${this._baseUrl}/producttypes-list`).pipe((0,V.T)(e=>{const t=[];return e.forEach(o=>{const r=Object.assign(new Fd,o);t.push(r)}),t}))}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Yo))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();const T3t=["form"];function M3t(i,n){1&i&&s.nrm(0,"div",3)}function I3t(i,n){if(1&i){const e=s.RV6();s.j41(0,"form",9,0),s.bIt("ngSubmit",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.close())}),s.j41(2,"div",10)(3,"div",11)(4,"kendo-formfield",12)(5,"label",13),s.EFF(6,"Descrizione voce checklist"),s.k0s(),s.j41(7,"kendo-textbox",14),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.description,o)||(r.options.description=o),s.Njj(o)}),s.k0s(),s.j41(8,"kendo-formerror"),s.EFF(9,"Descrizione voce checklist \xe8 il campo obbligatorio"),s.k0s()()()(),s.j41(10,"div",15)(11,"button",16),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.dismiss())}),s.EFF(12," ANNULLA "),s.k0s(),s.j41(13,"button",17),s.EFF(14," SALVA "),s.k0s()()()}if(2&i){const e=s.XpG(2);s.R7$(7),s.R50("ngModel",e.options.description)}}function R3t(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",4)(1,"kendo-window",5),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.j41(2,"kendo-window-titlebar")(3,"div",6),s.EFF(4," Voce checklist "),s.k0s(),s.nrm(5,"button",7),s.k0s(),s.DNE(6,I3t,15,1,"form",8),s.k0s()()}if(2&i){const e=s.XpG();s.R7$(),s.Y8G("resizable",!1)("draggable",!1)("width",600)("top",200),s.R7$(5),s.Y8G("ngIf",e.options)}}let A3t=(()=>{class i extends eo{constructor(e){super(),this._messageBox=e,this.role=ci}_canClose(){return fl(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(vn))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-checklist-item-modal"]],viewQuery:function(t,o){if(1&t&&s.GBs(T3t,5),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first)}},features:[s.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","width","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],["name","updateOperatorForm","novalidate","","autocomplete","off",3,"ngSubmit",4,"ngIf"],["name","updateOperatorForm","novalidate","","autocomplete","off",3,"ngSubmit"],[1,"row","riga-form"],[1,"col-md-12"],[1,"form-group"],[1,"custom-form-field-label"],["name","description","required","",3,"ngModelChange","ngModel"],[1,"text-right","mt-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","submit",1,"btn","btn-primary"]],template:function(t,o){1&t&&s.DNE(0,M3t,1,0,"div",1)(1,R3t,7,5,"div",2),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened))},dependencies:[q,Ps,Di,Ls,lo,fs,ps,$i,ts,Ni,xh,__,ol]})}return i})();const x3t=["form"],N3t=["checklistItemModal"];function L3t(i,n){1&i&&s.nrm(0,"div",4)}function P3t(i,n){if(1&i&&s.nrm(0,"img",35),2&i){const e=s.XpG(3);s.Y8G("src",e.pathImage+e.options.pictureFileName,s.B4B)}}function G3t(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",36),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG(3);return s.Njj(r.editCheckListItem(o))}),s.nrm(1,"i",37),s.k0s(),s.j41(2,"button",38),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG(3);return s.Njj(r.deleteOperatorItem(o))}),s.nrm(3,"i",39),s.k0s()}}function U3t(i,n){if(1&i){const e=s.RV6();s.j41(0,"form",10,1),s.bIt("ngSubmit",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.close())}),s.j41(2,"div",11)(3,"div",12)(4,"kendo-formfield",13)(5,"label"),s.EFF(6,"Tipologia impianto"),s.k0s(),s.j41(7,"kendo-combobox",14),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.productTypeId,o)||(r.options.productTypeId=o),s.Njj(o)}),s.k0s(),s.j41(8,"kendo-formerror"),s.EFF(9,"Tipologia impianto \xe8 il campo obbligatorio"),s.k0s()(),s.j41(10,"kendo-formfield",13)(11,"label",15),s.EFF(12,"Tipo attivit\xe0"),s.k0s(),s.j41(13,"kendo-combobox",16),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.activityTypeId,o)||(r.options.activityTypeId=o),s.Njj(o)}),s.k0s(),s.j41(14,"kendo-formerror"),s.EFF(15,"Tipo attivit\xe0 \xe8 il campo obbligatorio"),s.k0s()(),s.j41(16,"kendo-formfield",13)(17,"label",15),s.EFF(18,"Descrizione"),s.k0s(),s.j41(19,"kendo-textarea",17),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.description,o)||(r.options.description=o),s.Njj(o)}),s.k0s(),s.j41(20,"kendo-formerror"),s.EFF(21,"Descrizione \xe8 il campo obbligatorio"),s.k0s()(),s.j41(22,"kendo-formfield",13)(23,"label"),s.EFF(24,"Immagine"),s.k0s(),s.j41(25,"kendo-upload",18),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.attachmentsFileInfo,o)||(r.attachmentsFileInfo=o),s.Njj(o)}),s.bIt("success",function(o){s.eBV(e);const r=s.XpG(2);return s.Njj(r.AttachmentExecutionSuccess(o))}),s.nrm(26,"kendo-upload-messages",19),s.k0s()()(),s.j41(27,"div",20),s.DNE(28,P3t,1,1,"img",21),s.k0s()(),s.j41(29,"div",11)(30,"div",22)(31,"div",23),s.nrm(32,"div",24),s.j41(33,"div",25)(34,"button",26),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.createNewItemCheckList())}),s.nrm(35,"i",27),s.EFF(36," Aggiungi voce "),s.k0s()()(),s.j41(37,"kendo-grid",28),s.nrm(38,"kendo-grid-column",29),s.j41(39,"kendo-grid-column",30),s.DNE(40,G3t,4,0,"ng-template",31),s.k0s()()()(),s.j41(41,"div",32)(42,"button",33),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.dismiss())}),s.EFF(43," ANNULLA "),s.k0s(),s.j41(44,"button",34),s.EFF(45," SALVA "),s.k0s()()()}if(2&i){const e=s.XpG(2);s.R7$(7),s.Y8G("data",e.productTypes),s.R50("ngModel",e.options.productTypeId),s.Y8G("valuePrimitive",!0),s.R7$(6),s.Y8G("data",e.activityTypes),s.R50("ngModel",e.options.activityTypeId),s.Y8G("valuePrimitive",!0),s.R7$(6),s.R50("ngModel",e.options.description),s.Y8G("rows",5),s.R7$(6),s.R50("ngModel",e.attachmentsFileInfo),s.Y8G("saveUrl",e.uploadSaveUrl)("removeUrl",e.uploadRemoveUrl),s.R7$(3),s.Y8G("ngIf",null!=e.options.pictureFileName),s.R7$(9),s.Y8G("data",e.options.items)("sortable",!1)("pageable",!1),s.R7$(2),s.Y8G("sortable",!1)("filterable",!1)("width",95)}}function F3t(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",5)(1,"kendo-window",6),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.j41(2,"kendo-window-titlebar")(3,"div",7),s.EFF(4," Checklist "),s.k0s(),s.nrm(5,"button",8),s.k0s(),s.DNE(6,U3t,46,18,"form",9),s.k0s()()}if(2&i){const e=s.XpG();s.R7$(),s.Y8G("resizable",!1)("draggable",!1)("top",50),s.R7$(5),s.Y8G("ngIf",e.options)}}let B3t=(()=>{class i extends eo{constructor(e,t,o,r){super(),this._messageBox=e,this._checkListService=t,this._productTypesService=o,this._activityTypesService=r,this._baseUrl=`${fn.baseApiUrl}/operators`,this.uploadSaveUrl=`${this._baseUrl}/document/upload-file`,this.uploadRemoveUrl=`${this._baseUrl}/document/remove-file`,this.productTypes=[],this.activityTypes=[],this.attachmentsUploads=[],this.isUploaded=[],this.pathImage=`${fn.baseUrl}/attachments/`,this.role=ci}open(e){const t=super.open(e);return this.attachmentsFileInfo=null,this.loadData(),t}_canClose(){return fl(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid}_readProductTypes(){this._subscriptions.push(this._productTypesService.readProductTypesList().pipe(F(e=>{this.productTypes=e})).subscribe())}_readActivityTypes(){this._subscriptions.push(this._activityTypesService.readActivityTypesList().pipe(F(e=>{this.activityTypes=e})).subscribe())}_readCheckListItems(){null!=this.options.id&&this._subscriptions.push(this._checkListService.readCheckListItems(this.options.id).pipe(F(e=>{this.options.items=e})).subscribe())}createNewItemCheckList(){const e=new W0;null==this.options.id?this.checklistItemModal.open(e).pipe(X(t=>t),F(t=>{this.options.items.push(e),this._messageBox.success("Voce checklist creata")})).subscribe():(e.checkListId=this.options.id,this._subscriptions.push(this.checklistItemModal.open(e).pipe(X(t=>t),le(()=>this._checkListService.createCheckListItem(e)),F(t=>{this._messageBox.success("Voce checklist creata")}),F(()=>this._readCheckListItems())).subscribe()))}editCheckListItem(e){if(null==this.options.id){const t=Object.assign(new W0,JSON.parse(JSON.stringify(e)));this.checklistItemModal.open(t).pipe(X(o=>o),F(o=>{const r=this.options.items.findIndex(a=>a.tempId===t.tempId);r>=0&&(this.options.items[r]=t,this._messageBox.success("Voce checklist aggiornata"))})).subscribe()}else this._subscriptions.push(this._checkListService.getCheckListItemDetail(e.id).pipe((0,V.T)(t=>Object.assign(new W0,t)),le(t=>this.checklistItemModal.open(t)),X(t=>t),(0,V.T)(()=>this.checklistItemModal.options),le(t=>this._checkListService.updateCheckListItem(t,e.id)),(0,V.T)(()=>this.checklistItemModal.options),F(t=>this._messageBox.success("Voce checklist aggiornata")),F(()=>this._readCheckListItems())).subscribe())}deleteOperatorItem(e){null==this.options.id?this._messageBox.confirm(`Sei sicuro di voler cancellare la voce "${e.description}"?`,"Conferma l'azione").subscribe(t=>{1==t&&(this.options.items=this.options.items.filter(o=>o.tempId!==e.tempId),this._messageBox.success(`La voce "${e.description}" cancellata con successo`))}):this._messageBox.confirm(`Sei sicuro di voler cancellare la voce "${e.description}"?`,"Conferma l'azione").subscribe(t=>{1==t&&this._subscriptions.push(this._checkListService.deleteCheckListItem(e.id).pipe(F(o=>this._messageBox.success(`La voce "${e.description}" cancellata con successo`)),F(()=>this._readCheckListItems())).subscribe())})}AttachmentExecutionSuccess(e){const t=e.response.body;if(null!=t){const o=t;new EB(o.fileName,o.originalFileName),this.options.pictureFileName=o.fileName,this.isUploaded.push(!0)}else{const o=e.files[0].name,r=this.attachmentsUploads.findIndex(a=>a.originalFileName==o);r>-1&&(this.attachmentsUploads.splice(r,1),this.isUploaded.pop())}}loadData(){this._readProductTypes(),this._readActivityTypes(),this._readCheckListItems()}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(vn),s.rXU(uie),s.rXU(TB),s.rXU(rk))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-checklist-modal"]],viewQuery:function(t,o){if(1&t&&(s.GBs(x3t,5),s.GBs(N3t,7)),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first),s.mGM(r=s.lsd())&&(o.checklistItemModal=r.first)}},features:[s.Vt3],decls:4,vars:2,consts:[["checklistItemModal",""],["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],["name","updateOperatorForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateOperatorForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row","riga-form"],[1,"col-md-8"],[1,"form-group"],["name","productTypeId","suggest","true","textField","name","valueField","id","required","",3,"ngModelChange","data","ngModel","valuePrimitive"],[1,"custom-form-field-label"],["name","activityTypeId","suggest","true","textField","name","valueField","id","required","",3,"ngModelChange","data","ngModel","valuePrimitive"],["name","description","required","",3,"ngModelChange","ngModel","rows"],["name","myUpload",3,"ngModelChange","success","ngModel","saveUrl","removeUrl"],["dropFilesHere"," "],[1,"col-md-4"],["alt","","width","100%",3,"src",4,"ngIf"],[1,"col-md-12"],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],["type","button","title","Aggiungi voce",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],["filterable","none","scrollable","none",1,"GridNoHeader",3,"data","sortable","pageable"],["field","description","title","Descrizione"],["field","id","title"," ",3,"sortable","filterable","width"],["kendoGridCellTemplate",""],[1,"text-right","mt-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","submit",1,"btn","btn-primary"],["alt","","width","100%",3,"src"],["type","button","title","Modifica",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["type","button","title","Elimina",1,"btn","btn-danger","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-trash"]],template:function(t,o){1&t&&(s.DNE(0,L3t,1,0,"div",2)(1,F3t,7,4,"div",3),s.nrm(2,"app-checklist-item-modal",null,0)),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened))},dependencies:[q,Ps,Di,Ls,lo,fs,ps,Wi,Oi,Us,$i,ts,Ni,ca,Dq,__,ol,BS,zf,A3t],styles:[".custom-form-field-label[_ngcontent-%COMP%]{margin-top:10px}"]})}return i})();const V3t=["checklistModal"];function z3t(i,n){if(1&i&&s.nrm(0,"img",14),2&i){const e=s.XpG().$implicit,t=s.XpG();s.Y8G("src",t.pathImage+e.pictureFileName,s.B4B)}}function H3t(i,n){1&i&&s.DNE(0,z3t,1,1,"img",13),2&i&&s.Y8G("ngIf",null!=n.$implicit.pictureFileName)}function j3t(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",15),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.editCheckList(o))}),s.nrm(1,"i",16),s.k0s(),s.j41(2,"button",17),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.deleteOperator(o))}),s.nrm(3,"i",18),s.k0s()}}let $3t=(()=>{class i extends Tn{constructor(e,t,o){super(),this._checkListService=e,this._messageBox=t,this._router=o,this.pathImage=`${fn.baseUrl}/attachments/`,this.stateGridChecklists={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[]},this.checklistSelezionato=new jA}ngOnInit(){this._readChecklists()}dataStateChange(e){this.stateGridChecklists=e,this._readChecklists()}_readChecklists(){this._subscriptions.push(this._checkListService.readCheckList(this.stateGridChecklists).pipe(F(e=>{this.checklists=e})).subscribe())}createCheckList(){const e=new jA;this._subscriptions.push(this.checklistModal.open(e).pipe(X(t=>t),le(()=>this._checkListService.createCheckList(e)),F(t=>{this._messageBox.success("Checklist creato")}),F(()=>this._readChecklists())).subscribe())}editCheckList(e){this._subscriptions.push(this._checkListService.getCheckListDetail(e.id).pipe((0,V.T)(t=>Object.assign(new jA,t)),le(t=>this.checklistModal.open(t)),X(t=>t),(0,V.T)(()=>this.checklistModal.options),le(t=>this._checkListService.updateCheckList(t,e.id)),(0,V.T)(()=>this.checklistModal.options),F(t=>this._messageBox.success("Checklist aggiornato")),F(()=>this._readChecklists())).subscribe())}deleteOperator(e){this._messageBox.confirm(`Sei sicuro di voler cancellare checklist "${e.description}"?`,"Conferma l'azione").subscribe(t=>{1==t&&this._subscriptions.push(this._checkListService.deleteCheckList(e.id).pipe(F(o=>this._messageBox.success(`Checklist "${e.description}" cancellato con successo`)),F(()=>this._readChecklists())).subscribe())})}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(uie),s.rXU(vn),s.rXU(Ns))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-checklist"]],viewQuery:function(t,o){if(1&t&&s.GBs(V3t,7),2&t){let r;s.mGM(r=s.lsd())&&(o.checklistModal=r.first)}},features:[s.Vt3],decls:18,vars:11,consts:[["checklistModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","productType.name","title","Nome"],["field","pictureFileName","title","Immagine"],["kendoGridCellTemplate",""],["field","activityType.name","title","Tipo attivit\xe0"],["field","description","title","Descrizione"],["field","id","title"," ",3,"sortable","filterable","width"],["alt","","width","100px",3,"src",4,"ngIf"],["alt","","width","100px",3,"src"],["title","Modifica",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["title","Elimina",1,"btn","btn-danger","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-trash"]],template:function(t,o){if(1&t){const r=s.RV6();s.j41(0,"div",1)(1,"div",2)(2,"h3"),s.EFF(3,"Checklists"),s.k0s()(),s.j41(4,"div",3)(5,"button",4),s.bIt("click",function(){return s.eBV(r),s.Njj(o.createCheckList())}),s.nrm(6,"i",5),s.EFF(7," NUOVO "),s.k0s()()(),s.j41(8,"kendo-grid",6),s.bIt("dataStateChange",function(l){return s.eBV(r),s.Njj(o.dataStateChange(l))}),s.nrm(9,"kendo-grid-column",7),s.j41(10,"kendo-grid-column",8),s.DNE(11,H3t,1,1,"ng-template",9),s.k0s(),s.nrm(12,"kendo-grid-column",10)(13,"kendo-grid-column",11),s.j41(14,"kendo-grid-column",12),s.DNE(15,j3t,4,0,"ng-template",9),s.k0s()(),s.nrm(16,"app-checklist-modal",null,0)}2&t&&(s.R7$(8),s.Y8G("data",o.checklists)("pageSize",o.stateGridChecklists.take)("skip",o.stateGridChecklists.skip)("sort",o.stateGridChecklists.sort)("filter",o.stateGridChecklists.filter)("group",o.stateGridChecklists.group)("sortable",!0)("pageable",!0),s.R7$(6),s.Y8G("sortable",!1)("filterable",!1)("width",95))},dependencies:[q,Wi,Oi,Us,B3t]})}return i})();class MB{constructor(){this.id=null,this.code=null,this.name=null,this.description=null,this.pictureFileName=null,this.qrCodePrefix=null,this.qrCodeNumber=null,this.productTypeId=null,this.productType=new Fd,this.customerId=null,this.addressId=null,this.location=null,this.serialNumber=null,this.reiType=null,this.constructorName=null,this.hasPushBar=!1,this.year=(new Date).getFullYear(),this.vocType=null,this.numberOfDoors=null,this.documents=[]}}let $A=(()=>{class i{constructor(e){this._http=e,this._baseUrl=`${fn.baseApiUrl}/products`}readProducts(e){const t=_d(e),o=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/products?${t}`).pipe((0,V.T)(r=>({data:o?Ra(r.data):r.data,total:r.total})))}readSpareParts(e){const t=_d(e),o=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/products/spare-parts?${t}`).pipe((0,V.T)(r=>({data:o?Ra(r.data):r.data,total:r.total})))}readProductTypes(){return this._http.get(`${this._baseUrl}/product-types`).pipe((0,V.T)(e=>{const t=[];return e.forEach(o=>{const r=Object.assign(new Fd,o);t.push(r)}),t}))}getProductDetail(e){return this._http.get(`${this._baseUrl}/product-detail/${e}`).pipe((0,V.T)(t=>{const o=Object.assign(new MB,t);return o.productType=Object.assign(new Fd,o.productType),o}))}createProduct(e){return this._http.post(`${this._baseUrl}/product`,e).pipe((0,V.T)(t=>t))}updateProduct(e,t){return this._http.put(`${this._baseUrl}/product/${t}`,e).pipe((0,V.T)(()=>{}))}deleteProduct(e){return this._http.delete(`${this._baseUrl}/product/${e}`).pipe((0,V.T)(()=>{}))}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Yo))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();const VS="arc",t3e="ArrowRight",n3e="aria-activedescendant",Co="#000",mi="bottom",_n="center",zc="circle",z_="date",i3e="12px sans-serif",IB="end",o3e=/\{\d+:?/,RB="height",fie="inside",Un="left",zo=Number.MAX_VALUE,hr=-Number.MAX_VALUE,XA="object",AB="outside",_i="right",a3e="roundedRect",xB="start",_ie="string",jn="top",Bd="value",ri="#fff",NB="width",yt="x",kt="y",gie="pointer",Sie="horizontal";function ga(i){return Array.isArray(i)}function Ho(i,n){const e=ga(n)?n:[n];for(let t=0;t<e.length;t++){const o=e[t];-1===i.className.indexOf(o)&&(i.className+=" "+o)}}const nIt=/\s+/g;function vie(i,n){i&&i.className&&(i.className=i.className.replace(n,"").replace(nIt," "))}function Vd(i){let n=.5;i.options.stroke&&jt(i.options.stroke.width)&&i.options.stroke.width%2==0&&(n=0);for(let e=0;e<i.segments.length;e++)i.segments[e].anchor().round(0).translate(n,n);return i}function c3e(i,n){return-i.x*n.y+i.y*n.x<0}function Yn(i){return"number"==typeof i&&!isNaN(i)}function Hc(i){return typeof i===_ie}function d3e(i){return Yn(i)||Hc(i)&&isFinite(i)}function u3e(i,n){return(i+1)%n}function h3e(i,n){let e=i-1;return e<0?n-1:e}function LB(i,n){return 1===n||i%n==0?0:i<0?n+i%n:i>=n?i%n:i}function Fs(i){return"function"==typeof i}const p3e="object",iIt="undefined";function f3e(i,n){for(let e in n){let r,t=n[e],o=typeof t;if(r=o===p3e&&null!==t?t.constructor:null,r&&r!==Array)if(t instanceof Date)i[e]=new Date(t.getTime());else if(Fs(t.clone))i[e]=t.clone();else{let a=i[e];i[e]=typeof a===p3e&&a||{},f3e(i[e],t)}else o!==iIt&&(i[e]=t)}return i}function W(i){const n=arguments.length;for(let e=1;e<n;e++)f3e(i,arguments[e]);return i}function ju(i){return"object"==typeof i}function lk(i){return Yn(i)?i+"px":i}const sIt=/width|height|top|left|bottom|right/i;function oIt(i){return sIt.test(i)}function to(i,n){const e=Hc(n)?[n]:n;if(ga(e)){const t={},o=window.getComputedStyle(i);for(let r=0;r<e.length;r++){let a=e[r];t[a]=oIt(a)?parseFloat(o[a]):o[a]}return t}if(ju(n))for(let t in n)i.style[t]=lk(n[t])}function Ti(i,n=0){const e={top:0,right:0,bottom:0,left:0};return"number"==typeof i?e[jn]=e[_i]=e[mi]=e[Un]=i:(e[jn]=i[jn]||n,e[_i]=i[_i]||n,e[mi]=i[mi]||n,e[Un]=i[Un]||n),e}let m3e={compile:function(i){return i}};const PB=class rIt{static register(n){m3e=n}static compile(n,e){return m3e.compile(n,e)}};function zr(i={}){let n;return i.template?i.template=n=PB.compile(i.template):Fs(i.content)&&(n=i.content),n}function _3e(i={}){let n;return i.ariaTemplate?i.ariaTemplate=n=PB.compile(i.ariaTemplate):Fs(i.ariaContent)&&(n=i.ariaContent),n}const aIt=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,WA={};function zS(i){if(WA[i])return WA[i];const n=[];return i.replace(aIt,function(e,t,o,r){n.push(jt(t)?t:o||r)}),WA[i]=function(e){let t=e;for(let o=0;o<n.length&&t;o++)t=t[n[o]];return t},WA[i]}function zd(i,n){const e=i.length,t=[];for(let o=0;o<e;o++)n(i[o])&&t.push(i[o]);return t}function GB(i,n){if(i.className){const e=n.split(" ");for(let t=0;t<e.length;t++)if(i.className.indexOf&&-1!==i.className.indexOf(e[t]))return!0}}WA.undefined=function(i){return i};class lIt{constructor(){this._map=new Map}get(n){return this._map.get(n)}set(n,e){this._map.set(n,e)}}function Rn(i,n){if(n)return-1!==n.indexOf(i)}function $u(i,n,e){return ms(i+(n-i)*e,3)}const S3e=class cIt{constructor(n,e){this.observer=n,this.handlerMap=W({},this.handlerMap,e)}trigger(n,e){const{observer:t,handlerMap:o}=this;let r;return o[n]?r=this.callObserver(o[n],e):t.trigger&&(r=this.callObserver("trigger",n,e)),r}callObserver(n,...e){return this.observer[n].apply(this.observer,e)}requiresHandlers(n){if(this.observer.requiresHandlers)return this.observer.requiresHandlers(n);for(let e=0;e<n.length;e++)if(this.handlerMap[n[e]])return!0}};function v3e(i,n){const e=i.length,t=[];for(let o=0;o<e;o++){let r=n(i[o]);jt(r)&&t.push(r)}return t}const uIt=Rh.browser||{};function Cie(i){let n=0;return i.wheelDelta?(n=-i.wheelDelta/120,uIt.webkit&&(n/=2*Math.max(window.devicePixelRatio,.625))):i.detail&&(n=i.detail/3),n=n>0?Math.ceil(n):Math.floor(n),n}function C3e(i){const n=window.console;typeof n<"u"&&n.log&&n.log(i)}const{append:K0,bindEvents:KA,defined:ge,deg:HS,elementOffset:ck,elementSize:H_,eventCoordinates:b3e,eventElement:Kh,hashKey:hIt,last:jo,limitValue:Gt,objectKey:pIt,rad:pr,round:Ye,unbindEvents:YA,valueOrDefault:sn}=Y;class JA{static fetchFonts(n,e,t={depth:0}){!n||t.depth>5||!document.fonts||Object.keys(n).forEach(function(r){const a=n[r];"dataSource"===r||"$"===r[0]||!a||("font"===r?e.push(a):"object"==typeof a&&(t.depth++,JA.fetchFonts(a,e,t),t.depth--))})}static loadFonts(n,e){let t=[];if(n.length>0&&document.fonts){try{t=n.map(function(o){return document.fonts.load(o)})}catch(o){C3e(o)}Promise.all(t).then(e,e)}else e()}static preloadFonts(n,e){const t=[];JA.fetchFonts(n,t),JA.loadFonts(t,e)}}const fIt=JA;function De(i,n){const e=i.prototype;e.options=e.options?W({},e.options,n):n}class Eie{constructor(n,e){this.element=n,this.options=W({},this.options,e),this.wrapper()}wrapper(){this.addClasses()}addClasses(){}html(){return this.element.outerHTML}}De(Eie,{name:"",size:"none",themeColor:"none",flip:"default",iconClass:"",stylingOptions:["size","themeColor","fill"]});class y3e extends Eie{constructor(n,e){super(n,e)}wrapper(){let n=this.element.className.split(" ").find(t=>t.startsWith("k-i-")),e=this.options.icon?`${this.options.icon.startsWith("k-i-")?"":"k-i-"}${this.options.icon}`:"";this._className=e,Ho(this.element,"k-icon"),vie(this.element,n),Ho(this.element,e),Ho(this.element,this.options.iconClass||""),super.wrapper()}}De(y3e,{name:"HTMLFontIcon",icon:null});class D3e extends Eie{constructor(n,e){n.innerHTML="",super(n,e)}wrapper(){let n=this.options.icon,e=this.options.iconClass,t=this.element.className.split(" ").find(r=>r.startsWith("k-svg-i-"));if(!n&&e){let a=e.match(/k-i-(\w+(?:-\w+)*)/);a&&(n=a[1],e=e.replace(a[0],""))}Hc(n)&&(n=n.replace("k-i-","").replace(/-./g,r=>r[1].toUpperCase()),n=this.options.svgIcons[n]||this.options.svgIcons[`${n}Icon`]);let o=n&&n.name?`k-svg-i-${n.name}`:"";if(this._className=o,Ho(this.element,"k-svg-icon"),vie(this.element,t),Ho(this.element,o),Ho(this.element,e||""),this.element.setAttribute("aria-hidden","true"),n&&function dIt(i){return"[object Object]"===Object.prototype.toString.call(i)}(n)){let r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("viewBox",n.viewBox||""),r.setAttribute("focusable","false"),r.innerHTML=n.content||"",this.element.appendChild(r)}super.wrapper()}}De(D3e,{name:"HTMLSvgIcon",icon:null,svgIcons:{}});const w3e={svg:D3e,font:y3e};function dk(i,n){let e=i,t=n;return(!e||ju(e)&&!(e instanceof HTMLElement)||Hc(e))&&(t=e,e=document.createElement("span")),Hc(t)&&(t={icon:t}),t.type||(t.type="svg"),w3e[t.type]?new w3e[t.type](e,t).html():null}function yie(i){let n=zo,e=hr;for(let t=0,o=i.length;t<o;t++){const r=i[t];null!==r&&isFinite(r)&&(n=Math.min(n,r),e=Math.max(e,r))}return{min:n===zo?void 0:n,max:e===hr?void 0:e}}function k3e(i,n){for(let e=0;e<i.length;e++){const t=i[e];if(n(t,e,i))return t}}const UB=sa,gIt=/matrix\((.*)\)/;function O3e(i){const n=getComputedStyle(i).transform;return"none"===n?UB.unit():function SIt(i){const n=i.match(gIt);if(null===n||2!==n.length)return UB.unit();const e=n[1].split(",").map(t=>parseFloat(t));return new UB(...e)}(n)}const FB=function CIt(i){return new ku(i).isDark()?ri:Co},T3e={};class bIt{constructor(n){this._index={},this._values=n?n.slice(0):[];for(let e=0;e<this._values.length;e++)this._index[this._values[e]]=e}values(){return this._values.filter(n=>n!==T3e)}has(n){return void 0!==this._index[n]}add(n){this.has(n)||(this._index[n]=this._values.length,this._values.push(n))}delete(n){const e=this._index[n];void 0!==e&&(this._values[e]=T3e,delete this._index[n])}clear(){this._index={},this._values=[]}get size(){return this._values.length}}class EIt{constructor(n){this._set=new Set(n)}values(){return Array.from(this._set)}has(n){return this._set.has(n)}add(n){this._set.add(n)}delete(n){this._set.delete(n)}clear(){this._set.clear()}get size(){return this._set.size}}function M3e(i){return(()=>{let i=!1;return"function"==typeof Set&&(i=new Set([1]).has(1)),i})()?new EIt(i):new bIt(i)}function I3e(i){throw i}function hk(i,n){return Object.prototype.hasOwnProperty.call(i,n)}class jS{constructor(){this.height=0,this.width=0,this.data=[]}clone(){const n=new jS;return n.height=this.height,n.width=this.width,n.data=this.data.map(e=>e.slice()),n}get(n,e){const t=this.data[n];return t?t[e]:null}set(n,e,t){let o=this.data[n];null==o&&(o=this.data[n]=[]),o[e]=t,n>=this.height&&(this.height=n+1),e>=this.width&&(this.width=e+1)}each(n,e){for(let t=0;t<this.height;++t)for(let o=0;o<this.width;++o){let r=this.get(t,o);if((e||null!=r)&&(r=n(r,t,o),void 0!==r))return r}}map(n,e){const t=new jS;return this.each(function(o,r,a){t.set(r,a,n(o,r,a))},e),t}transpose(){const n=new jS;return this.each(function(e,t,o){n.set(o,t,e)}),n}unit(n){this.width=this.height=n;const e=this.data=new Array(n);for(let t=n;--t>=0;){const o=e[t]=new Array(n);for(let r=n;--r>=0;)o[r]=t===r?1:0}return this}multiply(n){const e=this,t=new jS;for(let o=0;o<e.height;++o)for(let r=0;r<n.width;++r){let a=0;for(let l=0;l<e.width;++l){const c=e.get(o,l),u=n.get(l,r);"number"==typeof c&&"number"==typeof u&&(a+=c*u)}t.set(o,r,a)}return t}inverse(){const n=this.width,e=this.augment((new jS).unit(n)),t=e.data;for(let o=0;o<n;++o){const r=DIt(o,n,function(a){return t[a][o]});if(!t[r][o])return null;if(o!==r){let a=t[o];t[o]=t[r],t[r]=a}for(let a=o+1;a<n;++a){for(let l=o+1;l<2*n;++l)t[a][l]-=t[o][l]*t[a][o]/t[o][o];t[a][o]=0}}for(let o=0;o<n;++o)for(let r=t[o][o],a=0;a<2*n;++a)t[o][a]/=r;for(let o=n;--o>=0;)for(let r=o;--r>=0;)if(t[r][o])for(let a=2*n;--a>=n;)t[r][a]-=t[o][a]*t[r][o];return e.slice(0,n,n,n)}augment(n){const e=this.clone(),t=e.width;return n.each(function(o,r,a){e.set(r,a+t,o)}),e}slice(n,e,t,o){const r=new jS;for(let a=0;a<t;++a)for(let l=0;l<o;++l)r.set(a,l,this.get(n+a,e+l));return r}}function DIt(i,n,e){let t=e(i),o=i;for(let r=i+1;r<n;r++){const a=e(i);a>t&&(t=a,o=i)}return o}const R3e=jS;function pk(i,n){let e=Ye(n-i,9);if(0===e){if(0===n)return.1;e=Math.abs(n)}const t=Math.pow(10,Math.floor(Math.log(e)/Math.log(10))),o=Ye(e/t,10);let r=1;return r=o<1.904762?.2:o<4.761904?.5:o<9.523809?1:2,Ye(t*r,10)}class BB extends pt{constructor(n,e){super(),this.x=n||0,this.y=e||0}clone(){return new BB(this.x,this.y)}equals(n){return n&&this.x===n.x&&this.y===n.y}rotate(n,e){const t=pr(e),o=Math.cos(t),r=Math.sin(t),{x:a,y:l}=n,{x:c,y:u}=this;return this.x=Ye(a+(c-a)*o+(u-l)*r,3),this.y=Ye(l+(u-l)*o-(c-a)*r,3),this}multiply(n){return this.x*=n,this.y*=n,this}distanceTo(n){const e=this.x-n.x,t=this.y-n.y;return Math.sqrt(e*e+t*t)}static onCircle(n,e,t){const o=pr(e);return new BB(n.x-t*Math.cos(o),n.y-t*Math.sin(o))}}const on=BB;class VB extends pt{constructor(n,e,t,o){super(),this.x1=n||0,this.y1=e||0,this.x2=t||0,this.y2=o||0}equals(n){return this.x1===n.x1&&this.x2===n.x2&&this.y1===n.y1&&this.y2===n.y2}width(){return this.x2-this.x1}height(){return this.y2-this.y1}translate(n,e){return this.x1+=n,this.x2+=n,this.y1+=e,this.y2+=e,this}move(n,e){const t=this.height(),o=this.width();return ge(n)&&(this.x1=n,this.x2=this.x1+o),ge(e)&&(this.y1=e,this.y2=this.y1+t),this}wrap(n){return this.x1=Math.min(this.x1,n.x1),this.y1=Math.min(this.y1,n.y1),this.x2=Math.max(this.x2,n.x2),this.y2=Math.max(this.y2,n.y2),this}wrapPoint(n){const e=ga(n),t=e?n[0]:n.x,o=e?n[1]:n.y;return this.wrap(new VB(t,o,t,o)),this}snapTo(n,e){return(e===yt||!e)&&(this.x1=n.x1,this.x2=n.x2),(e===kt||!e)&&(this.y1=n.y1,this.y2=n.y2),this}alignTo(n,e){const t=this.height(),o=this.width(),r=e===jn||e===mi?kt:yt,a=r===kt?t:o;if(e===_n){const l=n.center(),c=this.center();this.x1+=l.x-c.x,this.y1+=l.y-c.y}else this[r+1]=e===jn||e===Un?n[r+1]-a:n[r+2];return this.x2=this.x1+o,this.y2=this.y1+t,this}shrink(n,e){return this.x2-=n,this.y2-=e,this}expand(n,e){return this.shrink(-n,-e),this}pad(n){const e=Ti(n);return this.x1-=e.left,this.x2+=e.right,this.y1-=e.top,this.y2+=e.bottom,this}unpad(n){const e=Ti(n);return e.left=-e.left,e.top=-e.top,e.right=-e.right,e.bottom=-e.bottom,this.pad(e)}clone(){return new VB(this.x1,this.y1,this.x2,this.y2)}center(){return new on(this.x1+this.width()/2,this.y1+this.height()/2)}containsPoint(n){return n.x>=this.x1&&n.x<=this.x2&&n.y>=this.y1&&n.y<=this.y2}points(){return[new on(this.x1,this.y1),new on(this.x2,this.y1),new on(this.x2,this.y2),new on(this.x1,this.y2)]}getHash(){return[this.x1,this.y1,this.x2,this.y2].join(",")}overlaps(n){return!(n.y2<this.y1||this.y2<n.y1||n.x2<this.x1||this.x2<n.x1)}rotate(n){let e=this.width(),t=this.height();const{x:o,y:r}=this.center(),a=zB(0,0,o,r,n),l=zB(e,0,o,r,n),c=zB(e,t,o,r,n),u=zB(0,t,o,r,n);return e=Math.max(a.x,l.x,c.x,u.x)-Math.min(a.x,l.x,c.x,u.x),t=Math.max(a.y,l.y,c.y,u.y)-Math.min(a.y,l.y,c.y,u.y),this.x2=this.x1+e,this.y2=this.y1+t,this}toRect(){return new yn([this.x1,this.y1],[this.width(),this.height()])}hasSize(){return 0!==this.width()&&0!==this.height()}align(n,e,t){const o=e+1,r=e+2,a=e===yt?NB:RB,l=this[a]();Rn(t,[Un,jn])?(this[o]=n[o],this[r]=this[o]+l):Rn(t,[_i,mi])?(this[r]=n[r],this[o]=this[r]-l):t===_n&&(this[o]=n[o]+(n[a]()-l)/2,this[r]=this[o]+l)}}function zB(i,n,e,t,o){const r=pr(o);return new on(e+(i-e)*Math.cos(r)+(n-t)*Math.sin(r),t-(i-e)*Math.sin(r)+(n-t)*Math.cos(r))}const Ve=VB;class Die extends pt{constructor(n,e,t,o,r){super(),this.center=n,this.innerRadius=e,this.radius=t,this.startAngle=o,this.angle=r}clone(){return new Die(this.center,this.innerRadius,this.radius,this.startAngle,this.angle)}middle(){return this.startAngle+this.angle/2}setRadius(n,e){return e?this.innerRadius=n:this.radius=n,this}point(n,e){const t=pr(n),o=Math.cos(t),r=Math.sin(t),a=e?this.innerRadius:this.radius,l=Ye(this.center.x-o*a,3),c=Ye(this.center.y-r*a,3);return new on(l,c)}adjacentBox(n,e,t){const o=this.clone().expand(n),r=o.middle(),a=o.point(r),l=e/2,c=t/2,u=Math.sin(pr(r)),f=Math.cos(pr(r));let _=a.x-l,S=a.y-c;return Math.abs(u)<.9&&(_+=l*-f/Math.abs(f)),Math.abs(f)<.9&&(S+=c*-u/Math.abs(u)),new Ve(_,S,_+e,S+t)}containsPoint(n){const e=this.center,t=this.innerRadius,o=this.radius,r=this.startAngle,a=this.startAngle+this.angle,l=n.x-e.x,c=n.y-e.y,u=new on(l,c),f=this.point(r),_=new on(f.x-e.x,f.y-e.y),S=this.point(a),v=new on(S.x-e.x,S.y-e.y),b=Ye(l*l+c*c,3);return(_.equals(u)||c3e(_,u))&&!c3e(v,u)&&b>=t*t&&b<=o*o}getBBox(){const n=new Ve(zo,zo,hr,hr),e=Ye(this.startAngle%360),t=Ye((e+this.angle)%360),o=this.innerRadius,r=[0,90,180,270,e,t].sort(wIt),a=r.indexOf(e),l=r.indexOf(t);let c;c=e===t?r:a<l?r.slice(a,l+1):[].concat(r.slice(0,l+1),r.slice(a,r.length));for(let u=0;u<c.length;u++){let f=this.point(c[u]);n.wrapPoint(f),n.wrapPoint(f,o)}return o||n.wrapPoint(this.center),n}expand(n){return this.radius+=n,this}}function wIt(i,n){return i-n}const qA=Die;class wie extends pt{createRing(n,e){const t=n.startAngle+180;let o=n.angle+t;(0===n.angle||n.angle>0&&t===o)&&(o+=.001);const r=new Ie(n.center.x,n.center.y),a=Math.max(n.radius,0),l=Math.max(n.innerRadius,0),c=new O_(r,{startAngle:t,endAngle:o,radiusX:a,radiusY:a}),u=lt.fromArc(c,e).close();if(l){c.radiusX=c.radiusY=l;const f=c.pointAt(o);u.lineTo(f.x,f.y),u.arc(o,t,l,l,!0)}else u.lineTo(r.x,r.y);return u}}wie.current=new wie;const HB=wie;function OIt(i){return.5-Math.cos(i*Math.PI)/2}function TIt(i){return i}function MIt(i,n,e,t){let o=1.70158,r=0,a=t;return 0===i?e:1===i?e+t:(r||(r=.5),a<Math.abs(t)?(a=t,o=r/4):o=r/(2*Math.PI)*Math.asin(t/a),a*Math.pow(2,-10*i)*Math.sin((Number(i)-o)*(1.1*Math.PI)/r)+t+e)}const jB=Date.now||function(){return(new Date).getTime()};let kie=i=>{const n=typeof window<"u"?window:{},e=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)};kie=t=>e.call(n,t),kie(i)};const x3e=kie;let Oie;class Tie extends pt{static get current(){return Oie||(Oie=new Tie),Oie}constructor(){super(),this._items=[]}register(n,e){this._items.push({name:n,type:e})}create(n,e){const t=this._items;let o;if(e&&e.type){const r=e.type.toLowerCase();for(let a=0;a<t.length;a++)if(t[a].name.toLowerCase()===r){o=t[a];break}}if(o)return new o.type(n,e)}}const Hf=Tie,Xu=class IIt extends pt{static create(n,e,t){return Hf.current.create(n,e,t)}get options(){return this._options||{duration:500,easing:"swing"}}set options(n){this._options=n}constructor(n,e){super(),this.options=Object.assign({},this.options,e),this.element=n}setup(){}step(){}play(){const n=this.options,{duration:e,delay:t=0}=n,o=ze[n.easing],r=jB()+t,a=r+e;0===e?(this.step(1),this.abort()):setTimeout(()=>{const l=()=>{if(this._stopped)return;const c=jB(),u=d5(c-r,0,e),_=o(u/e,u,0,1,e);this.step(_),c<a?x3e(l):this.abort()};l()},t)}abort(){this._stopped=!0}destroy(){this.abort()}};class N3e extends pt{constructor(n){super(),this.children=[],this.options=W({},this.options,this.initUserOptions(n))}initUserOptions(n){return n}reflow(n){const e=this.children;let t;for(let o=0;o<e.length;o++){let r=e[o];r.reflow(n),t=t?t.wrap(r.box):r.box.clone()}this.box=t||n}destroy(){const n=this.children;this.animation&&this.animation.destroy();for(let e=0;e<n.length;e++)n[e].destroy()}getRoot(){const n=this.parent;return n?n.getRoot():null}getSender(){const n=this.getService();if(n)return n.sender}getService(){let n=this;for(;n;){if(n.chartService)return n.chartService;n=n.parent}}translateChildren(n,e){const t=this.children,o=t.length;for(let r=0;r<o;r++)t[r].box.translate(n,e)}append(){for(let n=0;n<arguments.length;n++){let e=arguments[n];this.children.push(e),e.parent=this}}renderVisual(){!1!==this.options.visible&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete())}addVisual(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual))}renderChildren(){const n=this.children,e=n.length;for(let t=0;t<e;t++)n[t].renderVisual()}createVisual(){this.visual=new Pn({zIndex:this.options.zIndex,visible:sn(this.options.visible,!0)})}createAnimation(){this.visual&&this.options.animation&&(this.animation=Xu.create(this.visual,this.options.animation))}appendVisual(n){n.chartElement||(n.chartElement=this),n.options.noclip?this.clipRoot().visual.append(n):ge(n.options.zIndex)?this.stackRoot().stackVisual(n):this.isStackRoot?this.stackVisual(n):this.visual?this.visual.append(n):this.parent.appendVisual(n)}clipRoot(){return this.parent?this.parent.clipRoot():this}stackRoot(){return this.parent?this.parent.stackRoot():this}stackVisual(n){const e=n.options.zIndex||0,t=this.visual.children,o=t.length;let r;for(r=0;r<o&&!(sn(t[r].options.zIndex,0)>e);r++);this.visual.insert(r,n)}traverse(n){const e=this.children,t=e.length;for(let o=0;o<t;o++){let r=e[o];n(r),r.traverse&&r.traverse(n)}}closest(n){let e=this,t=!1;for(;e&&!t;)t=n(e),t||(e=e.parent);if(t)return e}renderComplete(){}hasHighlight(){const n=(this.options||{}).highlight;return!(!this.createHighlight||n&&!1===n.visible||!1===this.visible)}toggleHighlight(n,e){const t=(this.options||{}).highlight||{},o=t.visual;let r=this._highlight;if(!r){const a={fill:{color:ri,opacity:e||.2},stroke:{color:ri,width:1,opacity:e||.2}};if(o){if(r=this._highlight=o(Object.assign(this.highlightVisualArgs(),{createVisual:()=>this.createHighlight(a),sender:this.getSender(),series:this.series,dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total})),!r)return}else r=this._highlight=this.createHighlight(a);ge(r.options.zIndex)||(r.options.zIndex=sn(t.zIndex,this.options.zIndex)),this.appendVisual(r)}r.visible(n)}toggleFocusHighlight(n){const e=((this.options||{}).accessibility||{}).highlight||{};let t=this._focusHighlight;if(n||t){if(!t){const o=this.getRoot().options.background,r=FB(o),a={fill:{opacity:e.opacity,color:e.color},stroke:Object.assign({},{color:r},e.border),zIndex:e.zIndex};t=this._focusHighlight=this.createFocusHighlight(a),this.appendVisual(t)}t.visible(n)}}createGradientOverlay(n,e,t){const o=new lt(Object.assign({stroke:{color:"none"},fill:this.createGradient(t),closed:n.options.closed},e));return o.segments.elements(n.segments.elements()),o}createGradient(n){if(this.parent)return this.parent.createGradient(n)}supportsPointInactiveOpacity(){return!0}}N3e.prototype.options={};const Pi=N3e;class L3e extends Pi{constructor(n){super(n),this.options.margin=Ti(this.options.margin),this.options.padding=Ti(this.options.padding)}reflow(n){const e=this.options,{width:t,height:o,shrinkToFit:r}=e,a=t&&o,l=e.margin,c=e.padding,u=e.border.width;let f;const _=()=>{this.align(n,yt,e.align),this.align(n,kt,e.vAlign),this.paddingBox=f.clone().unpad(l).unpad(u)};let S=n.clone();a&&(S.x2=S.x1+t,S.y2=S.y1+o),r&&S.unpad(l).unpad(u).unpad(c),super.reflow(S),f=a?this.box=new Ve(0,0,t,o):this.box,r&&a?(_(),S=this.contentBox=this.paddingBox.clone().unpad(c)):(S=this.contentBox=f.clone(),f.pad(c).pad(u).pad(l),_()),this.translateChildren(f.x1-S.x1+l.left+u+c.left,f.y1-S.y1+l.top+u+c.top);const v=this.children;for(let b=0;b<v.length;b++){let D=v[b];D.reflow(D.box)}}align(n,e,t){this.box.align(n,e,t)}hasBox(){const n=this.options;return n.border.width||n.background}createVisual(){super.createVisual(),this.options.visible&&this.hasBox()&&this.visual.append(lt.fromRect(this.paddingBox.toRect(),this.visualStyle()))}visualStyle(){const n=this.options,e=n.border||{};return{stroke:{width:e.width,color:e.color,opacity:sn(e.opacity,n.opacity),dashType:e.dashType},fill:{color:n.background,opacity:n.opacity},cursor:n.cursor}}}De(L3e,{align:Un,vAlign:jn,margin:{},padding:{},border:{color:Co,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0});const $S=L3e;function Mie(i,n){n&&(i.options.className=n.className,i.options.role=n.role,i.options.ariaLabel=n.ariaLabel,i.options.ariaRoleDescription=n.ariaRoleDescription,i.options.ariaChecked=n.ariaChecked)}class P3e extends $S{constructor(n,e){super(n),this.pointData=e}getElement(){const{options:n,paddingBox:e}=this,{type:t,rotation:o}=n,r=e.center(),a=e.width()/2,l=e.height()/2;if(!n.visible||!this.hasBox())return null;const c=this.visualStyle();let u;if(t===zc)u=new Ad(new ul([Ye(e.x1+a,3),Ye(e.y1+l,3)],Math.min(a,l)),c);else if("triangle"===t)u=lt.fromPoints([[e.x1+a,e.y1],[e.x1,e.y2],[e.x2,e.y2]],c).close();else if("cross"===t)u=new Lc(c),u.moveTo(e.x1,e.y1).lineTo(e.x2,e.y2),u.moveTo(e.x1,e.y2).lineTo(e.x2,e.y1);else{const f=e.toRect();if(t===a3e){const _=sn(n.borderRadius,f.width()/5);f.setCornerRadius(_)}u=lt.fromRect(f,c)}return o&&u.transform(wi().rotate(-o,[r.x,r.y])),u.options.zIndex=n.zIndex,u}createElement(){const n=this.options.visual,e=this.pointData||{};let t;return t=n?n({value:e.value,dataItem:e.dataItem,sender:this.getSender(),series:e.series,category:e.category,rect:this.paddingBox.toRect(),options:this.visualOptions(),createVisual:()=>this.getElement()}):this.getElement(),t}visualOptions(){const n=this.options;return{background:n.background,border:n.border,margin:n.margin,padding:n.padding,type:n.type,size:n.width,visible:n.visible}}createVisual(){this.visual=this.createElement(),Mie(this.visual,this.options.accessibilityOptions)}}De(P3e,{type:zc,align:_n,vAlign:_n});const ml=P3e,QA="radial",AIt={glass:{type:"linear",rotation:0,stops:[{offset:0,color:ri,opacity:0},{offset:.25,color:ri,opacity:.3},{offset:1,color:ri,opacity:0}]},sharpBevel:{type:QA,stops:[{offset:0,color:ri,opacity:.55},{offset:.65,color:ri,opacity:0},{offset:.95,color:ri,opacity:.25}]},roundedBevel:{type:QA,stops:[{offset:.33,color:ri,opacity:.06},{offset:.83,color:ri,opacity:.2},{offset:.95,color:ri,opacity:0}]},roundedGlass:{type:QA,supportVML:!1,stops:[{offset:0,color:ri,opacity:0},{offset:.5,color:ri,opacity:.3},{offset:.99,color:ri,opacity:0}]},sharpGlass:{type:QA,supportVML:!1,stops:[{offset:0,color:ri,opacity:.2},{offset:.15,color:ri,opacity:.15},{offset:.17,color:ri,opacity:.35},{offset:.85,color:ri,opacity:.05},{offset:.87,color:ri,opacity:.15},{offset:.99,color:ri,opacity:0}]},bubbleShadow:{type:QA,center:[.5,.5],radius:.5}};function xIt(i,n){if(i.x1===n.x1&&i.y1===n.y1&&i.x2===n.x2&&i.y2===n.y2)return n;const e=Math.min(i.x1,n.x1),t=Math.max(i.x1,n.x1),o=Math.min(i.x2,n.x2),r=Math.max(i.x2,n.x2),a=Math.min(i.y1,n.y1),l=Math.max(i.y1,n.y1),c=Math.min(i.y2,n.y2),u=Math.max(i.y2,n.y2),f=[];return f[0]=new Ve(t,a,o,l),f[1]=new Ve(e,l,t,c),f[2]=new Ve(o,l,r,c),f[3]=new Ve(t,c,o,u),i.x1===e&&i.y1===a||n.x1===e&&n.y1===a?(f[4]=new Ve(e,a,t,l),f[5]=new Ve(o,c,r,u)):(f[4]=new Ve(o,a,r,l),f[5]=new Ve(e,c,t,u)),zd(f,function(_){return _.height()>0&&_.width()>0})[0]}class G3e extends Pi{constructor(n){super(n);const e=this.options;e.width=parseInt(e.width,10),e.height=parseInt(e.height,10),this.gradients={}}reflow(){const{options:n,children:e}=this;let t=new Ve(0,0,n.width,n.height);this.box=t.unpad(n.margin);for(let o=0;o<e.length;o++)e[o].reflow(t),t=xIt(t,e[o].box)||new Ve}createVisual(){this.visual=new Pn,this.createBackground()}createBackground(){const n=this.options,e=n.border||{},t=this.box.clone().pad(n.margin).unpad(e.width),o=lt.fromRect(t.toRect(),{stroke:{color:e.width?e.color:"",width:e.width,dashType:e.dashType},fill:{color:n.background,opacity:n.opacity},zIndex:-10});this.visual.append(o)}getRoot(){return this}createGradient(n){const e=this.gradients,t=pIt(n),o=AIt[n.gradient];let r;if(e[t])r=e[t];else{const a=Object.assign({},o,n);"linear"===o.type?r=new LF(a):(n.innerRadius&&(a.stops=function NIt(i){const n=i.stops,e=i.innerRadius/i.radius*100,t=n.length,o=[];for(let r=0;r<t;r++){let a=Object.assign({},n[r]);a.offset=(a.offset*(100-e)+e)/100,o.push(a)}return o}(a)),r=new FF(a),r.supportVML=!1!==o.supportVML),e[t]=r}return r}cleanGradients(){const n=this.gradients;for(let e in n)n[e]._observers=[]}size(){const n=this.options;return new Ve(0,0,n.width,n.height)}}De(G3e,{width:600,height:400,background:ri,border:{color:Co,width:0},margin:Ti(5),zIndex:-2});const LIt=G3e;class U3e extends Pi{constructor(n){super(n),this._initDirection()}_initDirection(){const n=this.options;n.vertical?(this.groupAxis=yt,this.elementAxis=kt,this.groupSizeField=NB,this.elementSizeField=RB,this.groupSpacing=n.spacing,this.elementSpacing=n.vSpacing):(this.groupAxis=kt,this.elementAxis=yt,this.groupSizeField=RB,this.elementSizeField=NB,this.groupSpacing=n.vSpacing,this.elementSpacing=n.spacing)}reflow(n){this.box=n.clone(),this.reflowChildren()}reflowChildren(){const{box:n,elementAxis:e,groupAxis:t,elementSizeField:o,groupSizeField:r}=this,{groups:a,groupsSize:l,maxGroupElementsSize:c}=this.groupOptions(),u=a.length,f=n[t+1]+this.alignStart(l,n[r]());if(u){let _=f;for(let S=0;S<u;S++){let v=a[S],b=v.groupElements,D=n[e+1],k=b.length;for(let O=0;O<k;O++){let I=b[O],x=this.elementSize(I),P=_+this.alignStart(x[r],v.groupSize),L=new Ve;L[t+1]=P,L[t+2]=P+x[r],L[e+1]=D,L[e+2]=D+x[o],I.reflow(L),D+=x[o]+this.elementSpacing}_+=v.groupSize+this.groupSpacing}n[t+1]=f,n[t+2]=f+l,n[e+2]=n[e+1]+c}}alignStart(n,e){let t=0;const o=this.options.align;return o===_i||o===mi?t=e-n:o===_n&&(t=(e-n)/2),t}groupOptions(){const{box:n,children:e,elementSizeField:t,groupSizeField:o,elementSpacing:r,groupSpacing:a}=this,l=Ye(n[t]()),c=e.length,u=[];let f=0,_=0,S=0,v=0,b=[];for(let D=0;D<c;D++){let k=e[D];k.box||k.reflow(n);let O=this.elementSize(k);this.options.wrap&&Ye(_+r+O[t])>l&&(u.push({groupElements:b,groupSize:f,groupElementsSize:_}),v=Math.max(v,_),S+=a+f,f=0,_=0,b=[]),f=Math.max(f,O[o]),_>0&&(_+=r),_+=O[t],b.push(k)}return u.push({groupElements:b,groupSize:f,groupElementsSize:_}),v=Math.max(v,_),S+=f,{groups:u,groupsSize:S,maxGroupElementsSize:v}}elementSize(n){return{width:n.box.width(),height:n.box.height()}}createVisual(){}}De(U3e,{vertical:!0,wrap:!0,vSpacing:0,spacing:0});const Iie=U3e,PIt=fee;class F3e extends Pi{constructor(n,e){super(e),this.content=n,this.reflow(new Ve)}reflow(n){const e=this.options,t=e.size=TF(this.content,{font:e.font});this.baseline=t.baseline,this.box=new Ve(n.x1,n.y1,n.x1+t.width,n.y1+t.height)}createVisual(){const{font:n,color:e,opacity:t,cursor:o}=this.options;this.visual=new PIt(this.content,this.box.toRect().topLeft(),{font:n,fill:{color:e,opacity:t},cursor:o})}}De(F3e,{font:i3e,color:Co});const GIt=F3e;function fk(i){const n=i.origin,e=i.bottomRight();return new Ve(n.x,n.y,e.x,e.y)}const UIt=/\n/m,jc=class FIt extends $S{constructor(n,e,t){super(e),this.content=n,this.data=t,this._initContainer(),!1!==this.options._autoReflow&&this.reflow(new Ve)}_initContainer(){const n=this.options,e=String(this.content).split(UIt),t=new Iie({vertical:!0,align:n.align,wrap:!1}),o=W({},n,{opacity:1,animation:null});this.container=t,this.append(t);for(let r=0;r<e.length;r++){let a=new GIt(e[r].trim(),o);t.append(a)}}reflow(n){const e=this.options,t=e.visual;if(this.container.options.align=e.align,t&&!this._boxReflow){let o=n;o.hasSize()||(this._boxReflow=!0,this.reflow(o),this._boxReflow=!1,o=this.box);const r=this.visual=t(this.visualContext(o));r&&(o=fk(r.clippedBBox()||new yn),r.options.zIndex=e.zIndex),this.box=this.contentBox=this.paddingBox=o}else if(super.reflow(n),e.rotation){const o=Ti(e.margin);let r=this.box.unpad(o);this.targetBox=n,this.normalBox=r.clone(),r=this.rotate(),r.translate(o.left-o.right,o.top-o.bottom),this.rotatedBox=r.clone(),r.pad(o)}}createVisual(){const n=this.options;if(this.visual=new Pn({transform:this.rotationTransform(),zIndex:n.zIndex,noclip:n.noclip}),this.hasBox()){const e=lt.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(e)}}renderVisual(){if(this.options.visible)if(this.options.visual){const n=this.visual;n&&!ge(n.options.noclip)&&(n.options.noclip=this.options.noclip),this.addVisual(),this.createAnimation()}else super.renderVisual()}visualContext(n){const e={text:this.content,rect:n.toRect(),sender:this.getSender(),options:this.options,createVisual:()=>(this._boxReflow=!0,this.reflow(n),this._boxReflow=!1,this.getDefaultVisual())};return this.data&&Object.assign(e,this.data),e}getDefaultVisual(){this.createVisual(),this.renderChildren();const n=this.visual;return delete this.visual,n}rotate(){const n=this.options;return this.box.rotate(n.rotation),this.align(this.targetBox,yt,n.align),this.align(this.targetBox,kt,n.vAlign),this.box}rotationTransform(){const n=this.options.rotation;if(!n)return null;const{x:e,y:t}=this.normalBox.center(),o=this.rotatedBox.center();return wi().translate(o.x-e,o.y-t).rotate(n,[e,t])}};class $B extends Pi{constructor(n){super(n),this._textBox=new jc(this.options.text,Object.assign({},this.options,{vAlign:this.options.position})),this.append(this._textBox)}reflow(n){super.reflow(n),this.box.snapTo(n,yt)}static buildTitle(n,e){let o,t=n;return"string"==typeof n&&(t={text:n}),t=Object.assign({visible:!0},e,t),t&&t.visible&&t.text&&(o=new $B(t)),o}static orderTitles(n){const e=[].concat(n),t=e.filter(r=>r&&r.options.position!==mi),o=e.filter(r=>r&&r.options.position===mi);return B3e(t),B3e(o),o.reverse(),t.concat(o)}}function B3e(i){for(let n=1;n<i.length;n++){const e=i[n]._textBox,t=i[n-1]._textBox;t.options.margin=Object.assign(Ti(t.options.margin),{bottom:0}),e.options.margin=Object.assign(Ti(e.options.margin),{top:0})}}De($B,{color:Co,position:jn,align:_n,margin:Ti(5),padding:Ti(5)});const ZA=$B;class V3e extends jc{constructor(n,e,t,o,r){super(e,r),this.text=e,this.value=n,this.index=t,this.dataItem=o,this.reflow(new Ve)}visualContext(n){const e=super.visualContext(n);return e.value=this.value,e.dataItem=this.dataItem,e.format=this.options.format,e.culture=this.options.culture,e}click(n,e){n.trigger("axisLabelClick",{element:Kh(e),value:this.value,text:this.text,index:this.index,dataItem:this.dataItem,axis:this.parent.options})}rotate(){if(this.options.alignRotation!==_n){const n=this.normalBox.toRect(),e=this.rotationTransform();this.box=fk(n.bbox(e.matrix()))}else super.rotate();return this.box}rotationTransform(){const n=this.options,e=n.rotation;if(!e)return null;if(n.alignRotation===_n)return super.rotationTransform();const t=wi().rotate(e).matrix(),o=this.normalBox.toRect(),r=this.targetBox.toRect(),a=n.rotationOrigin||jn,l=a===jn||a===mi?yt:kt,c=a===jn||a===mi?kt:yt,u=a===jn||a===Un?r.origin:r.bottomRight(),f=o.topLeft().transformCopy(t),_=o.topRight().transformCopy(t),S=o.bottomRight().transformCopy(t),v=o.bottomLeft().transformCopy(t),b=yn.fromPoints(f,_,S,v),D={[c]:r.origin[c]-b.origin[c]},k=Math.abs(f[c]+D[c]-u[c]),O=Math.abs(_[c]+D[c]-u[c]);let I,x;Ye(k,10)===Ye(O,10)?(I=f,x=_):O<k?(I=_,x=S):(I=f,x=v);const P=I[l]+(x[l]-I[l])/2;return D[l]=r.center()[l]-P,wi().translate(D.x,D.y).rotate(e)}}De(V3e,{_autoReflow:!1});const Y0=V3e;class H3e extends $S{constructor(n,e,t){super(e),this.fields=n,this.chartService=t,this.render()}hide(){this.options.visible=!1}show(){this.options.visible=!0}render(){const n=this.options;if(n.visible){const{label:e,icon:t}=n,o=new Ve,r=()=>this;let c,u,a=t.size,l=this.fields.text;if(ge(e)&&e.visible){const _=zr(e);_?l=_(this.fields):e.format&&(l=this.chartService.format.auto(e.format,l)),e.color||(e.color=e.position===fie?"#fff":t.background),this.label=new jc(l,W({},e)),this.label.aliasFor=r,e.position===fie&&!ge(a)&&(t.type===zc?a=Math.max(this.label.box.width(),this.label.box.height()):(c=this.label.box.width(),u=this.label.box.height()),o.wrap(this.label.box))}t.width=c||a||7,t.height=u||a||7;const f=new ml(W({},t));f.aliasFor=r,this.marker=f,this.append(f),this.label&&this.append(this.label),f.reflow(new Ve),this.wrapperBox=o.wrap(f.box)}}reflow(n){const{options:e,label:t,marker:o,wrapperBox:r}=this,a=n.center(),l=e.line.length,c=e.position;if(e.visible){let u,f,_;Rn(c,[Un,_i])?c===Un?(_=r.alignTo(n,c).translate(-l,n.center().y-r.center().y),e.line.visible&&(u=[n.x1,a.y],this.linePoints=[u,[_.x2,a.y]],f=_.clone().wrapPoint(u))):(_=r.alignTo(n,c).translate(l,n.center().y-r.center().y),e.line.visible&&(u=[n.x2,a.y],this.linePoints=[u,[_.x1,a.y]],f=_.clone().wrapPoint(u))):c===mi?(_=r.alignTo(n,c).translate(n.center().x-r.center().x,l),e.line.visible&&(u=[a.x,n.y2],this.linePoints=[u,[a.x,_.y1]],f=_.clone().wrapPoint(u))):(_=r.alignTo(n,c).translate(n.center().x-r.center().x,-l),e.line.visible&&(u=[a.x,n.y1],this.linePoints=[u,[a.x,_.y2]],f=_.clone().wrapPoint(u))),o&&o.reflow(_),t&&(t.reflow(_),o&&(e.label.position===AB&&t.box.alignTo(o.box,c),t.reflow(t.box))),this.contentBox=_,this.targetBox=n,this.box=f||_}}createVisual(){super.createVisual(),this.visual.options.noclip=this.options.noclip,this.options.visible&&this.createLine()}renderVisual(){const n=this.options,e=n.visual;n.visible&&e?(this.visual=e(Object.assign(this.fields,{sender:this.getSender(),rect:this.targetBox.toRect(),options:{background:n.background,border:n.background,icon:n.icon,label:n.label,line:n.line,position:n.position,visible:n.visible},createVisual:()=>{this.createVisual(),this.renderChildren();const t=this.visual;return delete this.visual,t}})),this.addVisual()):super.renderVisual()}createLine(){const n=this.options.line;if(this.linePoints){const e=lt.fromPoints(this.linePoints,{stroke:{color:n.color,width:n.width,dashType:n.dashType}});Vd(e),this.visual.append(e)}}click(n,e){const t=this.eventArgs(e);n.trigger("noteClick",t)||e.preventDefault()}over(n,e){const t=this.eventArgs(e);n.trigger("noteHover",t)||e.preventDefault()}out(n,e){const t=this.eventArgs(e);n.trigger("noteLeave",t)}eventArgs(n){const e=this.options;return Object.assign(this.fields,{element:Kh(n),text:ge(e.label)?e.label.text:"",visual:this.visual})}}De(H3e,{icon:{visible:!0,type:zc},label:{position:fie,visible:!0,align:_n,vAlign:_n},line:{visible:!0},visible:!0,position:jn,zIndex:2});const j3e=H3e;let $3e={format:(i,n)=>n,toString:i=>i,parseDate:i=>new Date(i),firstDay:()=>0};const X3e=class VIt{static register(n){$3e=n}static get implementation(){return $3e}},zIt=/\{(\d+)(:[^\}]+)?\}/g,jIt=class HIt{constructor(n){this._intlService=n}get intl(){return this._intlService||X3e.implementation}set intl(n){this._intlService=n}auto(n,...e){const t=this.intl;return Hc(n)&&n.match(o3e)?t.format(n,...e):t.toString(e[0],n)}localeAuto(n,e,t){const o=this.intl;let r;return r=Hc(n)&&n.match(o3e)?n.replace(zIt,function(a,l,c){let u=e[parseInt(l,10)];return o.toString(u,c?c.substring(1):"",t)}):o.toString(e[0],n,t),r}},Rie=class $It{constructor(n,e={}){this._intlService=e.intlService,this.sender=e.sender||n,this.format=new jIt(e.intlService),this.chart=n,this.rtl=!!e.rtl}get intl(){return this._intlService||X3e.implementation}set intl(n){this._intlService=n,this.format.intl=n}notify(n,e){this.chart&&this.chart.trigger(n,e)}isPannable(n){const e=((this.chart||{}).options||{}).pannable;return e&&e.lock!==n}};let Aie;const W3e=class XIt{static register(n){Aie=n}static create(n,e){if(Aie)return Aie.create(n,e)}};function K3e(i,n){const{tickX:e,tickY:t,position:o}=i,r=new lt({stroke:{width:n.width,color:n.color}});return i.vertical?r.moveTo(e,o).lineTo(e+n.size,o):r.moveTo(o,t).lineTo(o,t+n.size),Vd(r),r}function Y3e(i,n){const{lineStart:e,lineEnd:t,position:o}=i,r=new lt({stroke:{width:n.width,color:n.color,dashType:n.dashType}});return i.vertical?r.moveTo(e,o).lineTo(t,o):r.moveTo(o,e).lineTo(o,t),Vd(r),r}class J3e extends Pi{constructor(n,e=new Rie){super(n),this.chartService=e,this.options.visible||(this.options=W({},this.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),this.options.minorTicks=W({},{color:this.options.line.color,width:this.options.line.width,visible:"none"!==this.options.minorTickType},this.options.minorTicks,{size:this.options.minorTickSize,align:this.options.minorTickType}),this.options.majorTicks=W({},{color:this.options.line.color,width:this.options.line.width,visible:"none"!==this.options.majorTickType},this.options.majorTicks,{size:this.options.majorTickSize,align:this.options.majorTickType}),this.initFields(),this.options._deferLabels||this.createLabels(),this.createTitle(),this.createNotes()}initFields(){}labelsRange(){return{min:this.options.labels.skip,max:this.labelsCount()}}normalizeLabelRotation(n){const e=n.rotation;ju(e)&&(n.alignRotation=e.align,n.rotation=e.angle)}createLabels(){const n=this.options,t=W({},n.labels,{align:n.vertical?_i:_n,zIndex:n.zIndex}),o=Math.max(1,t.step);if(this.clearLabels(),t.visible){this.normalizeLabelRotation(t),"auto"===t.rotation&&(t.rotation=0,n.autoRotateLabels=!0);const r=this.labelsRange();for(let a=r.min;a<r.max;a+=o){let c=this.createAxisLabel(a,t,{index:a,count:r.max});c&&(this.append(c),this.labels.push(c))}}}clearLabels(){this.children=zd(this.children,n=>!(n instanceof Y0)),this.labels=[]}clearTitle(){this.title&&(this.children=zd(this.children,n=>n!==this.title),this.title=void 0)}clear(){this.clearLabels(),this.clearTitle()}lineBox(){const{options:n,box:e}=this,o=n.labels.mirror,r=o?e.x1:e.x2,a=o?e.y2:e.y1,l=n.line.width||0;return n.vertical?new Ve(r,e.y1,r,e.y2-l):new Ve(e.x1,a,e.x2-l,a)}createTitle(){const n=this.options,e=W({rotation:n.vertical?-90:0,text:"",zIndex:1,visualSize:!0},n.title);if(e.visible&&e.text){const t=new jc(e.text,e);this.append(t),this.title=t}}createNotes(){const n=this.options,e=n.notes,t=e.data||[];this.notes=[];for(let o=0;o<t.length;o++){const r=W({},e,t[o]);r.value=this.parseNoteValue(r.value);const a=new j3e({value:r.value,text:r.label.text,dataItem:r},r,this.chartService);a.options.visible&&(ge(a.options.position)?n.vertical&&!Rn(a.options.position,[Un,_i])?a.options.position=n.reverse?Un:_i:!n.vertical&&!Rn(a.options.position,[jn,mi])&&(a.options.position=n.reverse?mi:jn):a.options.position=n.vertical?n.reverse?Un:_i:n.reverse?mi:jn,this.append(a),this.notes.push(a))}}parseNoteValue(n){return n}renderVisual(){super.renderVisual(),this.createPlotBands()}createVisual(){super.createVisual(),this.createBackground(),this.createLine()}gridLinesVisual(){let n=this._gridLines;return n||(n=this._gridLines=new Pn({zIndex:-2}),this.appendVisual(this._gridLines)),n}createTicks(n){const e=this.options,t=this.lineBox(),o=e.labels.mirror,r=e.majorTicks.visible?e.majorUnit:0,a={vertical:e.vertical};function l(c,u,f){const _=c.length,S=Math.max(1,u.step);if(u.visible)for(let v=u.skip;v<_;v+=S)ge(f)&&v%f==0||(a.tickX=o?t.x2:t.x2-u.size,a.tickY=o?t.y1-u.size:t.y1,a.position=c[v],n.append(K3e(a,u)))}l(this.getMajorTickPositions(),e.majorTicks),l(this.getMinorTickPositions(),e.minorTicks,r/e.minorUnit)}createLine(){const n=this.options,e=n.line,t=this.lineBox();if(e.width>0&&e.visible){const o=new lt({stroke:{width:e.width,color:e.color,dashType:e.dashType}});o.moveTo(t.x1,t.y1).lineTo(t.x2,t.y2),n._alignLines&&Vd(o);const r=this._lineGroup=new Pn;r.append(o),this.visual.append(r),this.createTicks(r)}}getActualTickSize(){const n=this.options;let e=0;return n.majorTicks.visible&&n.minorTicks.visible?e=Math.max(n.majorTicks.size,n.minorTicks.size):n.majorTicks.visible?e=n.majorTicks.size:n.minorTicks.visible&&(e=n.minorTicks.size),e}createBackground(){const{options:n,box:e}=this,t=n.background;t&&(this._backgroundPath=lt.fromRect(e.toRect(),{fill:{color:t},stroke:null}),this.visual.append(this._backgroundPath))}createPlotBands(){const n=this.options,e=n.plotBands||[],t=n.vertical,o=this.plotArea;if(0===e.length)return;const r=this._plotbandGroup=new Pn({zIndex:-1}),a=zd(this.pane.axes,l=>l.options.vertical!==this.options.vertical)[0];for(let l=0;l<e.length;l++){let u,f,S,c=e[l],_=c.label;if(t?(u=(a||o.axisX).lineBox(),f=this.getSlot(c.from,c.to,!0)):(u=this.getSlot(c.from,c.to,!0),f=(a||o.axisY).lineBox()),_&&(_.vAlign=_.position||Un,S=this.createPlotBandLabel(_,c,new Ve(u.x1,f.y1,u.x2,f.y2))),0!==u.width()&&0!==f.height()){const v=new yn([u.x1,f.y1],[u.width(),f.height()]),b=lt.fromRect(v,{fill:{color:c.color,opacity:c.opacity},stroke:null});r.append(b),S&&r.append(S)}}this.appendVisual(r)}createPlotBandLabel(n,e,t){if(!1===n.visible)return null;let r,o=n.text;if(ge(n)&&n.visible){const a=zr(n);a?o=a({text:o,item:e}):n.format&&(o=this.chartService.format.auto(n.format,o)),n.color||(n.color=this.options.labels.color)}return r=new jc(o,n),r.reflow(t),r.renderVisual(),r.visual}createGridLines(n){const e=this.options,{minorGridLines:t,majorGridLines:o,minorUnit:r,vertical:a}=e,l=n.options.line.visible,c=o.visible?e.majorUnit:0,u=n.lineBox(),f=u[a?"y1":"x1"],_={lineStart:u[a?"x1":"y1"],lineEnd:u[a?"x2":"y2"],vertical:a},S=[],v=this.gridLinesVisual();function b(D,k,O){const I=D.length,x=Math.max(1,k.step);if(k.visible)for(let P=k.skip;P<I;P+=x){let L=Ye(D[P]);Rn(L,S)||P%O!=0&&(!l||f!==L)&&(_.position=L,v.append(Y3e(_,k)),S.push(L))}}return b(this.getMajorTickPositions(),o),b(this.getMinorTickPositions(),t,c/r),v.children}reflow(n){const{options:e,labels:t,title:o}=this,r=e.vertical,a=t.length,l=r?NB:RB,c=o?o.box[l]():0,u=this.getActualTickSize()+e.margin+c,_=((this.getRoot()||{}).box||n)[l]();let S=0;for(let v=0;v<a;v++){let b=t[v].box[l]();b+u<=_&&(S=Math.max(S,b))}this.box=r?new Ve(n.x1,n.y1,n.x1+S+u,n.y2):new Ve(n.x1,n.y1,n.x2,n.y1+S+u),this.arrangeTitle(),this.arrangeLabels(),this.arrangeNotes()}getLabelsTickPositions(){return this.getMajorTickPositions()}labelTickIndex(n){return n.index}arrangeLabels(){const{options:n,labels:e}=this,t=this.labelsBetweenTicks(),o=n.vertical,r=n.labels.mirror,a=this.getLabelsTickPositions();for(let l=0;l<e.length;l++){const c=e[l],u=this.labelTickIndex(c),f=o?c.box.height():c.box.width(),_=a[u],S=a[u+1];let v,b;o?(v=t?_+(S-_)/2-f/2:_-f/2,b=v):t?(v=_,b=S):(v=_-f/2,b=v+f),this.positionLabel(c,r,v,b)}}positionLabel(n,e,t,o=t){const r=this.options,a=r.vertical,l=this.lineBox(),c=this.getActualTickSize()+r.margin;let u;if(a){let f=l.x2;e?(f+=c,n.options.rotationOrigin=Un):(f-=c+n.box.width(),n.options.rotationOrigin=_i),u=n.box.move(f,t)}else{let f=l.y1;e?(f-=c+n.box.height(),n.options.rotationOrigin=mi):(f+=c,n.options.rotationOrigin=jn),u=new Ve(t,f,o,f+n.box.height())}n.reflow(u)}autoRotateLabelAngle(n,e){return n.width()<e?0:n.height()>e?-90:-45}autoRotateLabels(){if(!this.options.autoRotateLabels||this.options.vertical)return!1;const n=this.getMajorTickPositions(),e=this.labels,t=Math.min(e.length,n.length-1);let o=0;for(let r=0;r<t;r++){const a=Math.abs(n[r+1]-n[r]),c=this.autoRotateLabelAngle(e[r].box,a);if(0!==c&&(o=c),-90===o)break}if(0!==o){for(let r=0;r<e.length;r++)e[r].options.rotation=o,e[r].reflow(new Ve);return!0}}arrangeTitle(){const{options:n,title:e}=this,t=n.labels.mirror;e&&(n.vertical?(e.options.align=t?_i:Un,e.options.vAlign=e.options.position):(e.options.align=e.options.position,e.options.vAlign=t?jn:mi),e.reflow(this.box))}arrangeNotes(){for(let n=0;n<this.notes.length;n++){const e=this.notes[n],t=e.options.value;let o;ge(t)?(this.shouldRenderNote(t)?e.show():e.hide(),o=this.noteSlot(t)):e.hide(),e.reflow(o||this.lineBox())}}noteSlot(n){return this.getSlot(n)}alignTo(n){const e=n.lineBox(),t=this.options.vertical,o=t?kt:yt;this.box.snapTo(e,o),t?this.box.shrink(0,this.lineBox().height()-e.height()):this.box.shrink(this.lineBox().width()-e.width(),0),this.box[o+1]-=this.lineBox()[o+1]-e[o+1],this.box[o+2]-=this.lineBox()[o+2]-e[o+2]}axisLabelText(n,e,t){let o;const r=zr(e),a=()=>e.format?this.chartService.format.localeAuto(e.format,[n],e.culture):n;return o=r?r(Object.assign({},t,{get text(){return a()},value:n,format:e.format,culture:e.culture})):a(),o}slot(n,e,t){const o=this.getSlot(n,e,t);if(o)return o.toRect()}contentBox(){const n=this.box.clone(),e=this.labels;if(e.length){const t=this.options.vertical?kt:yt;if(this.chartService.isPannable(t)){const o=this.maxLabelOffset();n[t+1]-=o.start,n[t+2]+=o.end}else{e[0].options.visible&&n.wrap(e[0].box);const o=e[e.length-1];o.options.visible&&n.wrap(o.box)}}return n}maxLabelOffset(){const{vertical:n,reverse:e}=this.options,t=this.labelsBetweenTicks(),o=this.getLabelsTickPositions(),r=n?kt:yt,a=this.labels,l=e?1:0,c=e?0:1;let u=0,f=0;for(let _=0;_<a.length;_++){const S=a[_],v=this.labelTickIndex(S);let b,D;t?(b=o[v+l],D=o[v+c]):b=D=o[v],u=Math.max(u,b-S.box[r+1]),f=Math.max(f,S.box[r+2]-D)}return{start:u,end:f}}limitRange(n,e,t,o,r){const a=this.options;if(n<t&&r<0&&(!ge(a.min)||a.min<=t)||o<e&&r>0&&(!ge(a.max)||o<=a.max))return null;if(e<t&&r>0||o<n&&r<0)return{min:n,max:e};const l=e-n;let c=n,u=e;return n<t&&r<0?(c=Gt(n,t,o),u=Gt(n+l,t+l,o)):e>o&&r>0&&(u=Gt(e,t,o),c=Gt(e-l,t,o-l)),{min:c,max:u}}valueRange(){return{min:this.seriesMin,max:this.seriesMax}}lineDir(){const{vertical:n,reverse:e}=this.options;return(n?-1:1)*(e?-1:1)}lineInfo(){const{vertical:n}=this.options,e=this.lineBox(),t=n?e.height():e.width(),o=n?kt:yt,r=this.lineDir(),l=o+(1===r?1:2).toString();return{axis:o,axisOrigin:l,axisDir:r,lineBox:e,lineSize:t,lineStart:e[l]}}pointOffset(n){const{axis:e,axisDir:t,axisOrigin:o,lineBox:r,lineSize:a}=this.lineInfo();return(t>0?n[e]-r[o]:r[o]-n[e])/a}scaleToDelta(n,e){const o=Gt(n,-.999,.999);let r;return r=o>0?e*Math.min(1,o):e-e/(1+o),r}labelsBetweenTicks(){return!this.options.justified}prepareUserOptions(){}}De(J3e,{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:Co,visible:!0},title:{visible:!0,position:_n},majorTicks:{align:AB,size:4,skip:0,step:1},minorTicks:{align:AB,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:AB,minorTickType:"none",majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:Co,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0,_deferLabels:!1});const ex=J3e,XB="milliseconds",xie="seconds",Nie="minutes",tx="hours",jf="days",nx="weeks",J0="months",j_="years",Lie=1e3,mk=60*Lie,WB=60*mk,$_=24*WB,Pie=7*$_,Gie=31*$_,Uie=365*$_,$f={years:Uie,months:Gie,weeks:Pie,days:$_,hours:WB,minutes:mk,seconds:Lie,milliseconds:1};function Fie(i,n){return i.getTime()-n-(i.getTimezoneOffset()-n.getTimezoneOffset())*mk}function Hr(i,n){return new Date(i.getTime()+n)}function is(i){let n;return i instanceof Date?n=i:i&&(n=new Date(i)),n}function KB(i,n){return 0===n&&23===i.getHours()&&(i.setHours(i.getHours()+2),!0)}function ja(i,n,e,t){let o=i;if(i){let r=is(i);const a=r.getHours();e===j_?(o=new Date(r.getFullYear()+n,0,1),KB(o,0)):e===J0?(o=new Date(r.getFullYear(),r.getMonth()+n,1),KB(o,a)):e===nx?(o=ja(function KIt(i,n=0){let e=0,t=i.getDay();if(!isNaN(t))for(;t!==n;)0===t?t=6:t--,e++;return Hr(i,-e*$_)}(r,t),7*n,jf),KB(o,a)):e===jf?(o=new Date(r.getFullYear(),r.getMonth(),r.getDate()+n),KB(o,a)):e===tx?o=function YIt(i,n){const e=new Date(i);e.setMinutes(0,0,0);const t=(i.getTimezoneOffset()-e.getTimezoneOffset())*mk;return Hr(e,t+n*WB)}(r,n):e===Nie?(o=Hr(r,n*mk),o.getSeconds()>0&&o.setSeconds(0)):e===xie?o=Hr(r,n*Lie):e===XB&&(o=Hr(r,n)),e!==XB&&o.getMilliseconds()>0&&o.setMilliseconds(0)}return o}function Bie(i,n,e){return ja(is(i),0,n,e)}function q3e(i,n,e){const t=is(i);return t&&Bie(t,n,e).getTime()===t.getTime()?t:ja(t,1,n,e)}function YB(i,n){return i&&n?i.getTime()-n.getTime():-1}function Xf(i,n){return i.getTime()-n}function ss(i){if(ga(i)){let n=[];for(let e=0;e<i.length;e++)n.push(ss(i[e]));return n}if(i)return is(i).getTime()}function JB(i,n){return i&&n?ss(i)===ss(n):i===n}function Q3e(i,n,e){return Fie(i,n)/$f[e]}function q0(i,n,e,t){const o=is(i),r=is(n);let a;return a=e===J0?o.getMonth()-r.getMonth()+12*(o.getFullYear()-r.getFullYear())+Q3e(o,new Date(o.getFullYear(),o.getMonth()),jf)/new Date(o.getFullYear(),o.getMonth()+1,0).getDate():e===j_?o.getFullYear()-r.getFullYear()+q0(o,new Date(o.getFullYear(),0),J0,1)/12:e===jf||e===nx?Q3e(o,r,e):Xf(o,n)/$f[e],a/t}function Vie(i,n,e){let t;return t=e===j_?n.getFullYear()-i.getFullYear():e===J0?12*Vie(i,n,j_)+n.getMonth()-i.getMonth():e===jf?Math.floor(Xf(n,i)/$_):Math.floor(Xf(n,i)/$f[e]),t}function Sa(i,n){let e;return e=Hc(n)&&i.parseDate(n)||is(n),e}function Z3e(i,n){if(ga(n)){const e=[];for(let t=0;t<n.length;t++)e.push(Sa(i,n[t]));return e}return Sa(i,n)}function eIe(i,n){return Yn(i.weekStartDay)?i.weekStartDay:n&&n.firstDay?n.firstDay():0}class qB extends ex{initFields(){this._ticks={}}categoriesHash(){return""}clone(){const n=new qB(Object.assign({},this.options,{categories:this.options.srcCategories}),this.chartService);return n.createLabels(),n}initUserOptions(n){const e=n.categories||[],t=ge(n.min),o=ge(n.max);if(n.srcCategories=n.categories=e,(t||o)&&e.length){const r=t?Math.floor(n.min):0;let a;a=o?n.justified?Math.floor(n.max)+1:Math.ceil(n.max):e.length,n.categories=n.categories.slice(r,a)}return n}rangeIndices(){const n=this.options,e=n.categories.length||1,t=Yn(n.min)?n.min%1:0;let o;return o=Yn(n.max)&&n.max%1!=0&&n.max<this.totalRange().max?e-(1-n.max%1):e-(n.justified?1:0),{min:t,max:o}}range(){const n=this.options;return{min:Yn(n.min)?n.min:0,max:Yn(n.max)?n.max:this.totalRange().max}}roundedRange(){return this.range()}totalRange(){const n=this.options;return{min:0,max:Math.max(this._seriesMax||0,n.srcCategories.length)-(n.justified?1:0)}}scaleOptions(){const{min:n,max:e}=this.rangeIndices(),t=this.lineBox();return{scale:(this.options.vertical?t.height():t.width())/(e-n||1)*(this.options.reverse?-1:1),box:t,min:n,max:e}}arrangeLabels(){super.arrangeLabels(),this.hideOutOfRangeLabels()}hideOutOfRangeLabels(){const{box:n,labels:e}=this;if(e.length>0){const t=this.options.vertical?kt:yt,o=n[t+1],r=n[t+2],a=e[0],l=jo(e);(a.box[t+1]>r||a.box[t+2]<o)&&(a.options.visible=!1),(l.box[t+1]>r||l.box[t+2]<o)&&(l.options.visible=!1)}}getMajorTickPositions(){return this.getTicks().majorTicks}getMinorTickPositions(){return this.getTicks().minorTicks}getLabelsTickPositions(){return this.getTicks().labelTicks}tickIndices(n){const{min:e,max:t}=this.rangeIndices(),o=Math.ceil(t);let r=Math.floor(e);const a=[];for(;r<=o;)a.push(r),r+=n;return a}getTickPositions(n){const{vertical:e,reverse:t}=this.options,{scale:o,box:r,min:a}=this.scaleOptions(),l=r[(e?kt:yt)+(t?2:1)],c=this.tickIndices(n),u=[];for(let f=0;f<c.length;f++)u.push(l+Ye(o*(c[f]-a),3));return u}getTicks(){const n=this.options,e=this._ticks,t=this.rangeIndices(),o=this.lineBox(),r=o.getHash()+t.min+","+t.max+n.reverse+n.justified;if(e._hash!==r){const a=n.minorTicks.visible||n.minorGridLines.visible;e._hash=r,e.labelTicks=this.getTickPositions(1),e.majorTicks=this.filterOutOfRangePositions(e.labelTicks,o),e.minorTicks=a?this.filterOutOfRangePositions(this.getTickPositions(.5),o):[]}return e}filterOutOfRangePositions(n,e){if(!n.length)return n;const t=this.options.vertical?kt:yt,o=c=>e[t+1]<=c&&c<=e[t+2],r=n.length-1;let a=0;for(;!o(n[a])&&a<=r;)a++;let l=r;for(;!o(n[l])&&l>=0;)l--;return n.slice(a,l+1)}lineInfo(){const{vertical:n,reverse:e}=this.options,t=this.lineBox(),o=n?t.height():t.width(),r=n?kt:yt,a=e?-1:1,c=r+(1===a?1:2).toString();return{axis:r,axisOrigin:c,axisDir:a,lineBox:t,lineSize:o,lineStart:t[c]}}lineDir(){const{reverse:n}=this.options;return n?-1:1}getSlot(n,e,t){const o=this.options,{reverse:r,justified:a}=o,{scale:l,box:c,min:u}=this.scaleOptions(),{axis:f,lineStart:_}=this.lineInfo(),S=c.clone(),v=!ge(e),b=sn(n,0);let D=sn(e,b);D=Math.max(D-1,b),D=Math.max(b,D);let k=_+(b-u)*l,O=_+(D+1-u)*l;return v&&a&&(O=k),t&&(k=Gt(k,c[f+1],c[f+2]),O=Gt(O,c[f+1],c[f+2])),S[f+1]=r?O:k,S[f+2]=r?k:O,S}limitSlot(n){const t=this.options.vertical?kt:yt,o=this.lineBox(),r=n.clone();return r[t+1]=Gt(n[t+1],o[t+1],o[t+2]),r[t+2]=Gt(n[t+2],o[t+1],o[t+2]),r}slot(n,e,t){const o=Math.floor(this.options.min||0);let r=n,a=e;return"string"==typeof r?r=this.categoryIndex(r):Yn(r)&&(r-=o),"string"==typeof a?a=this.categoryIndex(a):Yn(a)&&(a-=o),super.slot(r,a,t)}pointCategoryIndex(n){const{reverse:e,justified:t,vertical:o}=this.options,r=o?kt:yt,{scale:a,box:l,min:c,max:u}=this.scaleOptions(),_=l[r+1],v=n[r];if(v<_||v>l[r+2])return null;let b=(e?u:c)+(v-_)/a;const D=b%1;return t?b=Math.round(b):0===D&&b>0&&b--,Math.floor(b)}getCategory(n){const e=this.pointCategoryIndex(n);return null===e?null:this.options.categories[e]}categoryIndex(n){return this.totalIndex(n)-Math.floor(this.options.min||0)}categoryAt(n,e){const t=this.options;return(e?t.srcCategories:t.categories)[n]}categoriesCount(){return(this.options.categories||[]).length}translateRange(n){const e=this.options,t=this.lineBox(),o=e.vertical?t.height():t.width(),r=e.categories.length,l=Ye(n/(o/r),10);return{min:l,max:r+l}}scaleRange(n,e){const t=Math.abs(this.pointOffset(e)),o=this.limitedRangeIndices(),a=this.scaleToDelta(n,o.max-o.min),u=o.min+t*a;let f=o.max-(1-t)*a;return f-u<.1&&(f=u+.1),{min:u,max:f}}zoomRange(n,e){const{min:t,max:o}=this.totalRange(),r=this.scaleRange(n,e);return{min:Gt(r.min,t,o),max:Gt(r.max,t,o)}}labelsCount(){const n=this.labelsRange();return n.max-n.min}labelsRange(){const n=this.options,{justified:e,labels:t}=n;let{min:o,max:r}=this.limitedRangeIndices(!0);const a=Math.floor(o);let l;return e?(o=Math.ceil(o),r=Math.floor(r)):(o=Math.floor(o),r=Math.ceil(r)),l=o>t.skip?t.skip+t.step*Math.ceil((o-t.skip)/t.step):t.skip,{min:l-a,max:(n.categories.length?r+(e?1:0):0)-a}}createAxisLabel(n,e,t){const o=this.options,r=o.dataItems?o.dataItems[n]:null,a=sn(o.categories[n],"");t.dataItem=r;const l=this.axisLabelText(a,e,t);return new Y0(a,l,n,r,e)}shouldRenderNote(n){const e=this.limitedRangeIndices();return Math.floor(e.min)<=n&&n<=Math.ceil(e.max)}noteSlot(n){const t=n-Math.floor(this.options.min||0);return this.getSlot(t)}arrangeNotes(){super.arrangeNotes(),this.hideOutOfRangeNotes()}hideOutOfRangeNotes(){const{notes:n,box:e}=this;if(n&&n.length){const t=this.options.vertical?kt:yt,o=e[t+1],r=e[t+2];for(let a=0;a<n.length;a++){const l=n[a];l.box&&(r<l.box[t+1]||l.box[t+2]<o)&&l.hide()}}}pan(n){const e=this.limitedRangeIndices(!0),{scale:t}=this.scaleOptions(),o=Ye(n/t,10),r=this.totalRange();return this.limitRange(e.min+o,e.max+o,0,r.max,o)}pointsRange(n,e){const{reverse:t,vertical:o}=this.options,r=o?kt:yt,a=this.limitedRangeIndices(!0),{scale:l,box:c}=this.scaleOptions(),u=c[r+(t?2:1)],S=a.min+(n[r]-u)/l,v=a.min+(e[r]-u)/l,b=Math.min(S,v),D=Math.max(S,v);if(D-b>=.01)return{min:b,max:D}}valueRange(){return this.range()}totalIndex(n){const e=this.options;return this._categoriesMap?this._categoriesMap.get(n):function qIt(i,n){if(i instanceof Date){const e=n.length;for(let t=0;t<e;t++)if(JB(n[t],i))return t;return-1}return n.indexOf(i)}(n,e.srcCategories)}currentRangeIndices(){const n=this.options;let t,e=0;return Yn(n.min)&&(e=Math.floor(n.min)),t=Yn(n.max)?n.justified?Math.floor(n.max):Math.ceil(n.max)-1:this.totalCount()-1,{min:e,max:t}}limitedRangeIndices(n){const e=this.options;let o,t=Yn(e.min)?e.min:0;if(o=Yn(e.max)?e.max:Yn(e.min)?t+e.categories.length:this.totalRange().max||1,n){const r=this.totalRange();t=Gt(t,0,r.max),o=Gt(o,0,r.max)}return{min:t,max:o}}totalRangeIndices(){return{min:0,max:this.totalRange().max||1}}indexCategories(){if(!this._categoriesMap){const n=this._categoriesMap=new lIt,e=this.options.srcCategories;for(let t=0;t<e.length;t++)n.set(e[t],t)}}totalCount(){return Math.max(this.options.srcCategories.length,this._seriesMax||0)}}De(qB,{type:"category",vertical:!1,majorGridLines:{visible:!1,width:1,color:Co},labels:{zIndex:1},justified:!1,_deferLabels:!0});const X_=qB,iIe={milliseconds:"HH:mm:ss.fff",seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},W_=[XB,xie,Nie,tx,jf,nx,J0,j_],QB="fit";function ZB(i,n){n&&(i._range=void 0);let e=i._range;return e||(e=i._range=yie(i),e.min=is(e.min),e.max=is(e.max)),e}class ZIt{constructor(n){this.options=n}displayIndices(){return{min:0,max:1}}displayRange(){return{}}total(){return{}}valueRange(){return{}}valueIndex(){return-1}values(){return[]}totalIndex(){return-1}valuesCount(){return 0}totalCount(){return 0}dateAt(){return null}}class zie{constructor(n,e,t){this.options=t,t.baseUnitStep=t.baseUnitStep||1;const{roundToBaseUnit:o,justified:r}=t;this.start=ja(n,0,t.baseUnit,t.weekStartDay);const a=this.roundToTotalStep(e),l=!r&&JB(e,a)&&!t.justifyEnd;this.end=this.roundToTotalStep(e,!r,l?1:0);const c=t.min||n;this.valueStart=this.roundToTotalStep(c),this.displayStart=o?this.valueStart:c;const u=t.max;if(u){const f=!r&&JB(u,this.roundToTotalStep(u))?-1:0;this.valueEnd=this.roundToTotalStep(u,!1,f),this.displayEnd=o?this.roundToTotalStep(u,!r):t.max}else this.valueEnd=a,this.displayEnd=o||l?this.end:e;this.valueEnd<this.valueStart&&(this.valueEnd=this.valueStart),this.displayEnd<=this.displayStart&&(this.displayEnd=this.roundToTotalStep(this.displayStart,!1,1))}displayRange(){return{min:this.displayStart,max:this.displayEnd}}displayIndices(){if(!this._indices){const n=this.options,{baseUnit:e,baseUnitStep:t}=n,o=q0(this.displayStart,this.valueStart,e,t),r=q0(this.displayEnd,this.valueStart,e,t);this._indices={min:o,max:r}}return this._indices}total(){return{min:this.start,max:this.end}}totalCount(){return this.totalIndex(this.end)+(this.options.justified?1:0)}valueRange(){return{min:this.valueStart,max:this.valueEnd}}valueIndex(n){const e=this.options;return Math.floor(q0(n,this.valueStart,e.baseUnit,e.baseUnitStep))}totalIndex(n){const e=this.options;return Math.floor(q0(n,this.start,e.baseUnit,e.baseUnitStep))}dateIndex(n){const e=this.options;return q0(n,this.valueStart,e.baseUnit,e.baseUnitStep)}valuesCount(){return this.valueIndex(this.valueEnd)+1}values(){let n=this._values;if(!n){const e=this.options,t=this.valueRange();this._values=n=[];for(let o=t.min;o<=t.max;)n.push(o),o=ja(o,e.baseUnitStep,e.baseUnit,e.weekStartDay)}return n}dateAt(n,e){const t=this.options;return ja(e?this.start:this.valueStart,t.baseUnitStep*n,t.baseUnit,t.weekStartDay)}roundToTotalStep(n,e,t){const{baseUnit:o,baseUnitStep:r,weekStartDay:a}=this.options,l=this.start,c=q0(n,l,o,r);let u=e?Math.ceil(c):Math.floor(c);return t&&(u+=t),ja(l,u*r,o,a)}}function oIe(i,n,e){const t=ZB(i.categories),o=(i.max||t.max)-(i.min||t.min),{autoBaseUnitSteps:r,maxDateGroups:a}=i,l=i.baseUnit===QB;let S,v,b,c=n?W_.indexOf(n):0,u=l?W_[c++]:i.baseUnit,f=o/$f[u],_=f;for(;!v||f>=a;){S=S||r[u].slice(0);do{b=S.shift()}while(b&&n===u&&b<e);if(b)v=b,f=_/v;else{if(u===jo(W_)){v=Math.ceil(_/a);break}if(!l){f>a&&(v=Math.ceil(_/a));break}u=W_[c++]||jo(W_),_=o/$f[u],S=null}}i.baseUnitStep=v,i.baseUnit=u}class eV extends X_{clone(){const n=new eV(Object.assign({},this.options),this.chartService);return n.createLabels(),n}categoriesHash(){const n=this.dataRange.total().min;return this.options.baseUnit+this.options.baseUnitStep+n}initUserOptions(n){return n}initFields(){super.initFields();const n=this.chartService,e=n.intl;let t=this.options,o=t.categories||[];if(o._parsed||(o=Z3e(e,o),o._parsed=!0),t=W({roundToBaseUnit:!0},t,{categories:o,min:Sa(e,t.min),max:Sa(e,t.max),weekStartDay:eIe(t,e)}),n.panning&&n.isPannable(t.vertical?kt:yt)&&(t.roundToBaseUnit=!1),t.userSetBaseUnit=t.userSetBaseUnit||t.baseUnit,t.userSetBaseUnitStep=t.userSetBaseUnitStep||t.baseUnitStep,this.options=t,t.srcCategories=o,o.length>0){const r=ZB(o,!0),a=t.maxDivisions,l=function tRt(i){const n=(i.baseUnit||"").toLowerCase();return n!==QB&&!Rn(n,W_)&&function eRt(i){const n=i.categories,e=ge(n)?n.length:0;let o,r,t=zo;for(let a=0;a<e;a++){const l=n[a];if(l&&o){let c=Math.abs(Fie(l,o));0!==c&&(t=Math.min(t,c),r=t>=Uie?j_:t>=Gie-3*$_?J0:t>=Pie?nx:t>=$_?jf:t>=WB?tx:t>=mk?Nie:xie)}o=l}i.baseUnit=r||jf}(i),(n===QB||"auto"===i.baseUnitStep)&&oIe(i),i}(t),c=t._forecast;if(c&&(c.before>0&&(r.min=ja(r.min,-c.before,l.baseUnit,l.weekStartDay)),c.after>0&&(r.max=ja(r.max,c.after,l.baseUnit,l.weekStartDay))),this.dataRange=new zie(r.min,r.max,l),a){const u=this.dataRange.displayRange(),f=Object.assign({},t,{justified:!0,roundToBaseUnit:!1,baseUnit:"fit",min:u.min,max:u.max,maxDateGroups:a}),_=this.dataRange.options;oIe(f,_.baseUnit,_.baseUnitStep),this.divisionRange=new zie(r.min,r.max,f)}else this.divisionRange=this.dataRange}else t.baseUnit=t.baseUnit||jf,this.dataRange=this.divisionRange=new ZIt(t);this.rangeLabels=[]}tickIndices(n){const{dataRange:e,divisionRange:t}=this,o=t.valuesCount();if(!this.options.maxDivisions||!o)return super.tickIndices(n);const r=[];let a=t.values(),l=0;this.options.justified||(a=a.concat(t.dateAt(o)),l=.5);for(let c=0;c<a.length;c++)if(r.push(e.dateIndex(a[c])+l),1!==n&&c>=1){const u=r.length-1;r.splice(c,0,r[u-1]+(r[u]-r[u-1])*n)}return r}shouldRenderNote(n){const e=this.range(),t=this.options.categories||[];return YB(n,e.min)>=0&&YB(n,e.max)<=0&&t.length}parseNoteValue(n){return Sa(this.chartService.intl,n)}noteSlot(n){return this.getSlot(n)}translateRange(n){const e=this.options,{baseUnit:t,weekStartDay:o,vertical:r}=e,a=this.lineBox(),l=r?a.height():a.width();let c=this.range();const f=Ye(n/(l/(c.max-c.min)),10);if(c.min&&c.max){const _=Hr(e.min||c.min,f),S=Hr(e.max||c.max,f);c={min:ja(_,0,t,o),max:ja(S,0,t,o)}}return c}labelsRange(){return{min:this.options.labels.skip,max:this.divisionRange.valuesCount()}}pan(n){if(this.isEmpty())return null;const e=this.options,t=this.lineBox(),o=e.vertical?t.height():t.width(),{min:r,max:a}=this.dataRange.displayRange(),l=this.dataRange.total(),u=Ye(n/(o/(a-r)),10)*(e.reverse?-1:1),f=Hr(r,u),_=Hr(a,u),S=this.limitRange(ss(f),ss(_),ss(l.min),ss(l.max),u);return S?(S.min=is(S.min),S.max=is(S.max),S.baseUnit=e.baseUnit,S.baseUnitStep=e.baseUnitStep||1,S.userSetBaseUnit=e.userSetBaseUnit,S.userSetBaseUnitStep=e.userSetBaseUnitStep,S):void 0}pointsRange(n,e){if(this.isEmpty())return null;const t=super.pointsRange(n,e),o=this.dataRange.displayRange(),r=this.dataRange.displayIndices(),a=Xf(o.max,o.min)/(r.max-r.min),l=this.options;return{min:Hr(o.min,t.min*a),max:Hr(o.min,t.max*a),baseUnit:l.userSetBaseUnit||l.baseUnit,baseUnitStep:l.userSetBaseUnitStep||l.baseUnitStep}}scaleRange(n,e){if(this.isEmpty())return{};const t=this.options,o=t.userSetBaseUnit===QB,r=this.dataRange.total(),{min:a,max:l}=this.dataRange.displayRange(),c=Math.abs(this.pointOffset(e)),f=this.scaleToDelta(n,l-a),_=Math.round(c*f),S=Math.round((1-c)*f);let{baseUnit:v}=this.dataRange.options,b=new Date(a.getTime()+_),D=new Date(l.getTime()-S);if(o){const{autoBaseUnitSteps:k,maxDateGroups:O}=t,I=jo(k[v])*O*$f[v],x=Xf(l,a),P=Xf(D,b);let H,j,L=W_.indexOf(v);if(P<$f[v]&&v!==XB)v=W_[L-1],H=jo(k[v]),j=(x-(O-1)*H*$f[v])/2,b=Hr(a,j),D=Hr(l,-j);else if(P>I&&v!==j_){let J=0;do{L++,v=W_[L],J=0,j=2*$f[v];do{H=k[v][J],J++}while(J<k[v].length&&j*H<x)}while(v!==j_&&j*H<x);j=(j*H-x)/2,j>0&&(b=Hr(a,-j),D=Hr(l,j),b=Hr(b,Gt(D,r.min,r.max)-D),D=Hr(D,Gt(b,r.min,r.max)-b))}}return b&&D&&Xf(D,b)>0?{min:b,max:D,baseUnit:t.userSetBaseUnit||t.baseUnit,baseUnitStep:t.userSetBaseUnitStep||t.baseUnitStep}:void 0}zoomRange(n,e){const t=this.dataRange.total(),o=this.scaleRange(n,e);return o&&(o.min<t.min&&(o.min=t.min),o.max>t.max&&(o.max=t.max)),o}range(){return this.dataRange.displayRange()}createLabels(){super.createLabels(),this.createRangeLabels()}clearLabels(){super.clearLabels(),this.rangeLabels=[]}arrangeLabels(){this.arrangeRangeLabels(),super.arrangeLabels()}arrangeRangeLabels(){const{options:n,rangeLabels:e}=this;if(0===e.length)return;const t=this.lineBox(),o=n.vertical,r=n.rangeLabels.mirror||n.labels.mirror,a=e[0];if(a){const c=o?t.y1-a.box.height()/2:t.x1;this.positionLabel(a,r,c)}const l=e[1];if(l){const c=o?t.y2-l.box.height()/2:t.x2;this.positionLabel(l,r,c)}}autoRotateLabels(){super.autoRotateLabels(),this.autoRotateRangeLabels()}hideOutOfRangeLabels(){super.hideOutOfRangeLabels(),this.hideOverlappingLabels()}hideOverlappingLabels(){const{rangeLabels:n,labels:e}=this;if(0===n.length)return;function t(a,l){return!(l.options.visible&&!l.box.overlaps(a.box)||(l.options.visible=!1,0))}const o=n[0];if(o&&o.options.visible)for(let a=0;a<e.length&&t(o,e[a]);a++);const r=n[1];if(r&&r.options.visible)for(let a=e.length-1;a>0&&t(r,e[a]);--a);}contentBox(){const n=super.contentBox(),e=this.rangeLabels;for(let t=0;t<e.length;t++){const o=e[t];o.options.visible&&n.wrap(o.box)}return n}createAxisLabel(n,e,t={}){const o=this.options,r=o.dataItems&&!o.maxDivisions?o.dataItems[n]:null,a=this.divisionRange.dateAt(n);e.format=e.format||e.dateFormats[this.divisionRange.options.baseUnit],t.dataItem=r;const c=this.axisLabelText(a,e,t);if(c)return new Y0(a,c,n,r,e)}createRangeLabels(){const{displayStart:n,displayEnd:e}=this.divisionRange,t=this.options,o=Object.assign({},t.labels,t.rangeLabels,{align:_n,zIndex:t.zIndex});if(!0!==o.visible)return;this.normalizeLabelRotation(o),o.alignRotation=_n,"auto"===o.rotation&&(o.rotation=0,t.autoRotateRangeLabels=!0),o.format=o.format||o.dateFormats[this.divisionRange.options.baseUnit];const a=(u,f,_)=>{if(_){const S=new Y0(f,_,u,null,o);this.append(S),this.rangeLabels.push(S)}};a(0,n,this.axisLabelText(n,o,{index:0,count:2})),a(1,e,this.axisLabelText(e,o,{index:1,count:2}))}autoRotateRangeLabels(){const n=this.rangeLabels;if(!this.options.autoRotateRangeLabels||this.options.vertical||2!==n.length)return;const e=(o,r,a)=>{const l=2*Math.abs(r[a+1]-r[a]),c=this.autoRotateLabelAngle(o.box,l);0!==c&&(o.options.rotation=c,o.reflow(new Ve))},t=this.getMajorTickPositions();e(n[0],t,0),e(n[1],t,t.length-2)}categoryIndex(n){return this.dataRange.valueIndex(n)}slot(n,e,t){const o=this.dataRange;let r=n,a=e;r instanceof Date&&(r=o.dateIndex(r)),a instanceof Date&&(a=o.dateIndex(a));const l=this.getSlot(r,a,t);if(l)return l.toRect()}getSlot(n,e,t){let o=n,r=e;return typeof o===XA&&(o=this.categoryIndex(o)),typeof r===XA&&(r=this.categoryIndex(r)),super.getSlot(o,r,t)}valueRange(){const e=ZB(this.options.srcCategories);return{min:is(e.min),max:is(e.max)}}categoryAt(n,e){return this.dataRange.dateAt(n,e)}categoriesCount(){return this.dataRange.valuesCount()}rangeIndices(){return this.dataRange.displayIndices()}labelsBetweenTicks(){return!this.divisionRange.options.justified}prepareUserOptions(){this.isEmpty()||(this.options.categories=this.dataRange.values())}getCategory(n){const e=this.pointCategoryIndex(n);return null===e?null:this.dataRange.dateAt(e)}totalIndex(n){return this.dataRange.totalIndex(n)}currentRangeIndices(){const n=this.dataRange.valueRange();return{min:this.dataRange.totalIndex(n.min),max:this.dataRange.totalIndex(n.max)}}totalRange(){return this.dataRange.total()}totalRangeIndices(){const n=this.dataRange.total();return{min:this.dataRange.totalIndex(n.min),max:this.dataRange.totalIndex(n.max)}}totalCount(){return this.dataRange.totalCount()}isEmpty(){return!this.options.srcCategories.length}roundedRange(){if(!1!==this.options.roundToBaseUnit||this.isEmpty())return this.range();const n=this.options,e=ZB(n.srcCategories);return new zie(e.min,e.max,Object.assign({},n,{justified:!1,roundToBaseUnit:!0,justifyEnd:!1})).displayRange()}}De(eV,{type:z_,labels:{dateFormats:iIe},rangeLabels:{visible:!1},autoBaseUnitSteps:{milliseconds:[1,10,100],seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10});const tV=eV;function rIe(i,n){return Ye(Math.floor(i/n)*n,10)}function nV(i,n){return Ye(Math.ceil(i/n)*n,10)}function iV(i){return Math.max(Math.min(i,3e5),-3e5)}const Hie=Math.pow(10,-9);class sV extends ex{constructor(n,e,t,o){super(Object.assign({},t,{seriesMin:n,seriesMax:e}),o)}initUserOptions(n){const e=function sRt(i,n,e){const t=e.narrowRange;let o=function nRt(i,n,e){if(!i&&!n)return 0;let t;if(i>=0&&n>=0){const o=i===n?0:i;if(!1===e||!e&&(n-o)/n>.2)return 0;t=Math.max(0,o-(n-o)/2)}else t=i;return t}(i,n,t),r=function iRt(i,n,e){if(!i&&!n)return 1;let t;if(i<=0&&n<=0){const o=i===n?0:n;let r=Math.abs((o-i)/o);if(!1===e||!e&&r>.2)return 0;t=Math.min(0,o-(i-o)/2)}else t=n;return t}(i,n,t);const a=pk(o,r),l={majorUnit:a};return!1!==e.roundToMajorUnit&&(o<0&&aIe(o,a,1/3)&&(o-=a),r>0&&aIe(r,a,1/3)&&(r+=a)),l.min=rIe(o,a),l.max=nV(r,a),l}(n.seriesMin,n.seriesMax,n);return this.totalOptions=function oRt(i,n){return{min:ge(n.min)?Math.min(i.min,n.min):i.min,max:ge(n.max)?Math.max(i.max,n.max):i.max,majorUnit:i.majorUnit}}(e,n),function aRt(i,n){let t,o,e=n;if(n){(function rRt(i,n){for(let e=0;e<n.length;e++){const t=n[e];null===i[t]&&(i[t]=void 0)}})(n,["min","max"]),t=ge(n.min),o=ge(n.max);const a=t||o;a&&n.min===n.max&&(n.min>0?n.min=0:n.max=1),n.majorUnit?(i.min=rIe(i.min,n.majorUnit),i.max=nV(i.max,n.majorUnit)):a&&(e=W(i,n),i.majorUnit=pk(e.min,e.max))}i.minorUnit=(e.majorUnit||i.majorUnit)/5;const r=W(i,e);return r.min>=r.max&&(t&&!o?r.max=r.min+r.majorUnit:!t&&o&&(r.min=r.max-r.majorUnit)),r}(e,n)}initFields(){this.totalMin=this.totalOptions.min,this.totalMax=this.totalOptions.max,this.totalMajorUnit=this.totalOptions.majorUnit,this.seriesMin=this.options.seriesMin,this.seriesMax=this.options.seriesMax}clone(){return new sV(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}startValue(){return 0}range(){const n=this.options;return{min:n.min,max:n.max}}getDivisions(n){if(0===n)return 1;const e=this.options;return Math.floor(Ye((e.max-e.min)/n,3))+1}getTickPositions(n,e){const t=this.options,{axisDir:o,axisOrigin:r,lineBox:a,lineSize:l}=this.lineInfo(),f=n*(l/(t.max-t.min)),_=this.getDivisions(n),S=[];let v=a[r],b=0;e&&(b=e/n);for(let D=0;D<_;D++)D%b!=0&&S.push(Ye(v,3)),v+=f*o;return S}getMajorTickPositions(){return this.getTickPositions(this.options.majorUnit)}getMinorTickPositions(){return this.getTickPositions(this.options.minorUnit)}getSlot(n,e,t=!1){const o=this.options,{axis:r,axisDir:a,lineBox:l,lineSize:c,lineStart:u}=this.lineInfo(),f=a*(c/(o.max-o.min));let _=sn(n,e||0),S=sn(e,n||0);t&&(_=Gt(_,o.min,o.max),S=Gt(S,o.min,o.max));const v=Math.min(_,S)-o.min,b=Math.max(_,S)-o.min,D=new Ve(l.x1,l.y1,l.x1,l.y1);return D[r+1]=iV(u+f*(a>0?v:b)),D[r+2]=iV(u+f*(a>0?b:v)),D}getValue(n){const e=this.options,t=Number(e.max),o=Number(e.min),r=this.pointOffset(n);return r<0||r>1?null:Ye(o+r*(t-o),10)}translateRange(n){const e=this.options,{vertical:t,reverse:o,max:r,min:a}=e,{lineSize:l}=this.lineInfo();let f=Ye(n/(l/(r-a)),10);return(t||o)&&!(t&&o)&&(f=-f),{min:a+f,max:r+f,offset:f}}labelsCount(){return this.getDivisions(this.options.majorUnit)}createAxisLabel(n,e,t){const o=this.options,r=Ye(o.min+n*o.majorUnit,10),a=this.axisLabelText(r,e,t);return new Y0(r,a,n,null,e)}shouldRenderNote(n){const e=this.range();return e.min<=n&&n<=e.max}pan(n){const e=this.translateRange(n);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,e.offset)}pointsRange(n,e){const t=this.getValue(n),o=this.getValue(e),r=Math.min(t,o),a=Math.max(t,o);if(this.isValidRange(r,a))return{min:r,max:a}}scaleRange(n,e){const t=Math.abs(this.pointOffset(e)),r=this.scaleToDelta(n,this.options.max-this.options.min),l=(1-t)*r,c=Ye(this.options.min+t*r,10);let u=Ye(this.options.max-l,10);return u-c<Hie&&(u=c+Hie),{min:c,max:u}}zoomRange(n,e){const{totalMin:t,totalMax:o}=this,r=this.scaleRange(n,e);return{min:Gt(r.min,t,o),max:Gt(r.max,t,o),narrowRange:!1}}isValidRange(n,e){return e-n>Hie}}function aIe(i,n,e){const t=Ye(Math.abs(i%n),10);return 0===t||t>n*(1-e)}De(sV,{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:Co},labels:{format:"#.####################"},zIndex:1});const Wu=sV;class oV extends ex{constructor(n,e,t,o){const r=is(n),a=is(e),l=o.intl;let c=t||{};c=W(c||{},{min:Sa(l,c.min),max:Sa(l,c.max),axisCrossingValue:Z3e(l,c.axisCrossingValues||c.axisCrossingValue),weekStartDay:eIe(c,l)}),c=function cRt(i,n,e){const t=e.min||i,o=e.max||n,r=e.baseUnit||(o&&t?function lRt(i){let n=tx;return i>=Uie?n=j_:i>=Gie?n=J0:i>=Pie?n=nx:i>=$_&&(n=jf),n}(Fie(o,t)):tx),a=$f[r],l=e.weekStartDay||0,c=Bie(ss(t)-1,r,l)||is(o),u=q3e(ss(o)+1,r,l),_=(e.majorUnit?e.majorUnit:void 0)||nV(pk(c.getTime(),u.getTime()),a)/a,S=Vie(c,u,r),b=nV(S,_)-S,D=Math.floor(b/2),k=b-D;return e.baseUnit||delete e.baseUnit,e.baseUnit=e.baseUnit||r,e.min=e.min||ja(c,-D,r,l),e.max=e.max||ja(u,k,r,l),e.minorUnit=e.minorUnit||_/5,e.majorUnit=_,e}(r,a,c),super(c,o),this.intlService=l,this.seriesMin=r,this.seriesMax=a;const u=c.weekStartDay||0;this.totalMin=ss(Bie(ss(r)-1,c.baseUnit,u)),this.totalMax=ss(q3e(ss(a)+1,c.baseUnit,u))}clone(){return new oV(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}range(){const n=this.options;return{min:n.min,max:n.max}}getDivisions(n){const e=this.options;return Math.floor(Vie(e.min,e.max,e.baseUnit)/n+1)}getTickPositions(n){const e=this.options,{axisDir:t,lineSize:o,lineStart:r}=this.lineInfo(),a=this.getDivisions(n),c=o/Xf(e.max,e.min),u=e.weekStartDay||0,f=[r];for(let _=1;_<a;_++){const v=r+Xf(ja(e.min,_*n,e.baseUnit,u),e.min)*c*t;f.push(Ye(v,3))}return f}getMajorTickPositions(){return this.getTickPositions(this.options.majorUnit)}getMinorTickPositions(){return this.getTickPositions(this.options.minorUnit)}getSlot(n,e,t){return Wu.prototype.getSlot.call(this,Sa(this.intlService,n),Sa(this.intlService,e),t)}getValue(n){const e=Wu.prototype.getValue.call(this,n);return null!==e?is(e):null}labelsCount(){return this.getDivisions(this.options.majorUnit)}createAxisLabel(n,e,t){const o=this.options,r=n*o.majorUnit;let l=o.min;r>0&&(l=ja(l,r,o.baseUnit,o.weekStartDay||0)),e.format=e.format||e.dateFormats[o.baseUnit];const u=this.axisLabelText(l,e,t);return new Y0(l,u,n,null,e)}translateRange(n){const e=this.options,t=this.lineBox(),{vertical:o,reverse:r}=e,a=o?t.height():t.width(),l=this.range(),c=a/Xf(l.max,l.min);let u=Ye(n/c,10);return(o||r)&&(!o||!r)&&(u=-u),{min:Hr(e.min,u),max:Hr(e.max,u),offset:u}}shouldRenderNote(n){const e=this.range();return YB(n,e.min)>=0&&YB(n,e.max)<=0}pan(n){const e=this.translateRange(n,!0),t=this.limitRange(ss(e.min),ss(e.max),this.totalMin,this.totalMax,e.offset);if(t)return{min:is(t.min),max:is(t.max)}}pointsRange(n,e){const t=this.getValue(n),o=this.getValue(e),r=Math.min(t,o),a=Math.max(t,o);return{min:is(r),max:is(a)}}scaleRange(n,e){const t=Math.abs(this.pointOffset(e)),r=this.scaleToDelta(n,this.options.max-this.options.min),a=t*r,l=(1-t)*r,c=is(ss(this.options.min)+a);let u=is(ss(this.options.max)-l);return u-c<1e3&&(u=is(ss(c)+1e3)),{min:c,max:u}}zoomRange(n,e){const t=this.scaleRange(n,e);return{min:is(Gt(ss(t.min),this.totalMin,this.totalMax)),max:is(Gt(ss(t.max),this.totalMin,this.totalMax))}}}De(oV,{type:z_,majorGridLines:{visible:!0,width:1,color:Co},labels:{dateFormats:iIe}});const dRt=oV;class rV extends ex{constructor(n,e,t,o){const r=W({majorUnit:10,min:n,max:e},t),a=r.majorUnit,l=function pRt(i,n){const e=Ye(Yh(i,n),10)%1;let t;return t=i<=0?n:0!==e&&(e<.3||e>.9)?Math.pow(n,Yh(i,n)+.2):Math.pow(n,Math.ceil(Yh(i,n))),t}(e,a),c=function hRt(i,n,e){const t=e.majorUnit;let o=i;return i<=0?o=n<=1?Math.pow(t,-2):1:e.narrowRange||(o=Math.pow(t,Math.floor(Yh(i,t)))),o}(n,e,r),u=function uRt(i,n,e,t){let{min:o,max:r}=e;return ge(e.axisCrossingValue)&&e.axisCrossingValue<=0&&jie(),ge(t.max)?t.max<=0&&jie():r=n,ge(t.min)?t.min<=0&&jie():o=i,{min:o,max:r}}(c,l,r,t);r.max=u.max,r.min=u.min,r.minorUnit=t.minorUnit||Ye(a-1,10),super(r,o),this.totalMin=ge(t.min)?Math.min(c,t.min):c,this.totalMax=ge(t.max)?Math.max(l,t.max):l,this.logMin=Ye(Yh(u.min,a),10),this.logMax=Ye(Yh(u.max,a),10),this.seriesMin=n,this.seriesMax=e,this.createLabels()}clone(){return new rV(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}startValue(){return this.options.min}getSlot(n,e,t){const{options:o,logMin:r,logMax:a}=this,{majorUnit:l,min:c,max:u}=o,{axis:f,axisDir:_,lineBox:S,lineSize:v,lineStart:b}=this.lineInfo(),D=_*(v/(a-r));let k=sn(n,e||1),O=sn(e,n||1);if(k<=0||O<=0)return null;t&&(k=Gt(k,c,u),O=Gt(O,c,u)),k=Yh(k,l),O=Yh(O,l);const I=Math.min(k,O)-r,x=Math.max(k,O)-r,P=new Ve(S.x1,S.y1,S.x1,S.y1);return P[f+1]=iV(b+D*(_>0?I:x)),P[f+2]=iV(b+D*(_>0?x:I)),P}getValue(n){const{options:e,logMin:t,logMax:o}=this,{majorUnit:r}=e,{axis:a,axisDir:l,lineStart:c,lineSize:u}=this.lineInfo(),_=l*(n[a]-c);return _<0||_>u?null:Ye(Math.pow(r,t+_*((o-t)/u)),10)}range(){const n=this.options;return{min:n.min,max:n.max}}translateRange(n){const{options:e,logMin:t,logMax:o}=this,{reverse:r,vertical:a,majorUnit:l}=e,c=this.lineBox(),f=(a?c.height():c.width())/(o-t);let _=Ye(n/f,10);return(a||r)&&!(a&&r)&&(_=-_),{min:Math.pow(l,t+_),max:Math.pow(l,o+_),offset:_}}labelsCount(){const n=Math.floor(this.logMax);return Math.floor(n-this.logMin)+1}getMajorTickPositions(){const n=[];return this.traverseMajorTicksPositions(e=>{n.push(e)},{step:1,skip:0}),n}createTicks(n){const e=this.options,{majorTicks:t,minorTicks:o,vertical:r}=e,a=e.labels.mirror,l=this.lineBox(),u={vertical:r};function f(_,S){u.tickX=a?l.x2:l.x2-S.size,u.tickY=a?l.y1-S.size:l.y1,u.position=_,n.append(K3e(u,S))}return t.visible&&this.traverseMajorTicksPositions(f,t),o.visible&&this.traverseMinorTicksPositions(f,o),[]}createGridLines(n){const e=this.options,{minorGridLines:t,majorGridLines:o,vertical:r}=e,a=n.lineBox(),l={lineStart:a[r?"x1":"y1"],lineEnd:a[r?"x2":"y2"],vertical:r},c=[],u=this.gridLinesVisual();function f(_,S){Rn(_,c)||(l.position=_,u.append(Y3e(l,S)),c.push(_))}return o.visible&&this.traverseMajorTicksPositions(f,o),t.visible&&this.traverseMinorTicksPositions(f,t),u.children}traverseMajorTicksPositions(n,e){const{lineStart:t,step:o}=this.lineInfo(),{logMin:r,logMax:a}=this;for(let l=Math.ceil(r)+e.skip;l<=a;l+=e.step)n(Ye(t+o*(l-r),10),e)}traverseMinorTicksPositions(n,e){const{min:t,max:o,minorUnit:r,majorUnit:a}=this.options,{lineStart:l,step:c}=this.lineInfo(),{logMin:u,logMax:f}=this;for(let S=Math.floor(u);S<f;S++){const v=this._minorIntervalOptions(S);for(let b=e.skip;b<r;b+=e.step){const D=v.value+b*v.minorStep;if(D>o)break;D>=t&&n(Ye(l+c*(Yh(D,a)-u),10),e)}}}createAxisLabel(n,e,t){const o=Math.ceil(this.logMin+n),r=Math.pow(this.options.majorUnit,o),a=this.axisLabelText(r,e,t);return new Y0(r,a,n,null,e)}shouldRenderNote(n){const e=this.range();return e.min<=n&&n<=e.max}pan(n){const e=this.translateRange(n);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,e.offset)}pointsRange(n,e){const t=this.getValue(n),o=this.getValue(e);return{min:Math.min(t,o),max:Math.max(t,o)}}scaleRange(n,e){const{majorUnit:t}=this.options,o=Yh(this.options.min,t),r=Yh(this.options.max,t),a=Math.abs(this.pointOffset(e)),c=this.scaleToDelta(n,r-o),u=Math.pow(t,o+a*c);let f=Math.pow(t,r-(1-a)*c);return f-u<1e-6&&(f=u+1e-6),{min:u,max:f}}zoomRange(n,e){const t=this.scaleRange(n,e),{totalMin:o,totalMax:r}=this;return{min:Gt(t.min,o,r),max:Gt(t.max,o,r)}}_minorIntervalOptions(n){const{minorUnit:e,majorUnit:t}=this.options,o=Math.pow(t,n);return{value:o,minorStep:(Math.pow(t,n+1)-o)/e}}lineInfo(){const n=super.lineInfo();return n.step=n.axisDir*(n.lineSize/(this.logMax-this.logMin)),n}}function jie(){throw new Error("Non positive values cannot be used for a logarithmic axis")}function Yh(i,n){return Math.log(i)/Math.log(n)}De(rV,{type:"log",majorUnit:10,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:Co},zIndex:1,_deferLabels:!0});const aV=rV,uIe={createGridLines:function(i){const n=this.options,e=Math.abs(this.box.center().y-i.lineBox().y1);let r,a,t=[],o=!1;return n.majorGridLines.visible&&(r=this.majorGridLineAngles(i),o=!0,t=this.renderMajorGridLines(r,e,n.majorGridLines)),n.minorGridLines.visible&&(a=this.minorGridLineAngles(i,o),K0(t,this.renderMinorGridLines(a,e,n.minorGridLines,i,o))),t},renderMajorGridLines:function(i,n,e){return this.renderGridLines(i,n,e)},renderMinorGridLines:function(i,n,e,t,o){const r=this.radiusCallback&&this.radiusCallback(n,t,o);return this.renderGridLines(i,n,e,r)},renderGridLines:function(i,n,e,t){const o={stroke:{width:e.width,color:e.color,dashType:e.dashType}},r=this.box.center(),a=new ul([r.x,r.y],n),l=this.gridLinesVisual();for(let c=0;c<i.length;c++){const u=new lt(o);t&&(a.radius=t(i[c])),u.moveTo(a.center).lineTo(a.pointAt(i[c]+180)),l.append(u)}return l.children},gridLineAngles:function(i,n,e,t,o){const r=this.intervals(n,e,t,o),a=i.options,l=a.visible&&!1!==(a.line||{}).visible;return v3e(r,c=>{const u=this.intervalAngle(c);if(!l||90!==u)return u})}};class $ie extends X_{range(){return{min:0,max:this.options.categories.length}}reflow(n){this.box=n,this.reflowLabels()}lineBox(){return this.box}reflowLabels(){const{labels:n,options:{labels:e}}=this,t=e.skip||0,o=e.step||1,r=new Ve;for(let a=0;a<n.length;a++){n[a].reflow(r);const l=n[a].box;n[a].reflow(this.getSlot(t+a*o).adjacentBox(0,l.width(),l.height()))}}intervals(n,e,t,o=!1){const r=this.options,l=r.categories.length/n||1,c=360/l,f=t||1,_=[];let S=0;for(let v=e||0;v<l;v+=f)S=r.reverse?360-v*c:v*c,S=Ye(S,3)%360,o&&Rn(S,o)||_.push(S);return _}majorIntervals(){return this.intervals(1)}minorIntervals(){return this.intervals(.5)}intervalAngle(n){return(360+n+this.options.startAngle)%360}majorAngles(){return v3e(this.majorIntervals(),n=>this.intervalAngle(n))}createLine(){return[]}majorGridLineAngles(n){const e=this.options.majorGridLines;return this.gridLineAngles(n,1,e.skip,e.step)}minorGridLineAngles(n,e){const{minorGridLines:t,majorGridLines:o}=this.options,r=e?this.intervals(1,o.skip,o.step):null;return this.gridLineAngles(n,.5,t.skip,t.step,r)}radiusCallback(n,e,t){if(e.options.type!==VS){const o=pr(360/(2*this.options.categories.length)),r=Math.cos(o)*n,a=this.majorAngles();return function(c){return!t&&Rn(c,a)?n:r}}}createPlotBands(){const n=this.options.plotBands||[],e=this._plotbandGroup=new Pn({zIndex:-1});for(let t=0;t<n.length;t++){const o=n[t],r=this.plotBandSlot(o),a=this.getSlot(o.from),l=o.from-Math.floor(o.from);r.startAngle+=l*a.angle;const c=Math.ceil(o.to)-o.to;r.angle-=(c+l)*a.angle;const u=HB.current.createRing(r,{fill:{color:o.color,opacity:o.opacity},stroke:{opacity:o.opacity}});e.append(u)}this.appendVisual(e)}plotBandSlot(n){return this.getSlot(n.from,n.to-1)}getSlot(n,e){const t=this.options,o=t.justified,r=this.box,a=this.majorAngles(),l=a.length,c=360/l;let u=n;t.reverse&&!o&&(u=(u+1)%l),u=Gt(Math.floor(u),0,l-1);let f=a[u];o&&(f-=c/2,f<0&&(f+=360));const v=c*(Gt(Math.ceil(e||u),u,l-1)-u+1);return new qA(r.center(),0,r.height()/2,f,v)}slot(n,e){const t=this.getSlot(n,e),o=t.startAngle+180;return new O_([t.center.x,t.center.y],{startAngle:o,endAngle:o+t.angle,radiusX:t.radius,radiusY:t.radius})}pointCategoryIndex(n){const e=this.options.categories.length;let t=null;for(let o=0;o<e;o++)if(this.getSlot(o).containsPoint(n)){t=o;break}return t}}De($ie,{startAngle:90,labels:{margin:Ti(10)},majorGridLines:{visible:!0},justified:!0}),W($ie.prototype,uIe);const Xie=$ie;class Wie extends ex{constructor(n,e){super(n,e);const t=this.options;t.minorUnit=t.minorUnit||t.majorUnit/2}getDivisions(n){return Wu.prototype.getDivisions.call(this,n)-1}reflow(n){this.box=n,this.reflowLabels()}reflowLabels(){const{options:n,labels:e,options:{labels:t}}=this,o=t.skip||0,r=t.step||1,a=new Ve,l=this.intervals(n.majorUnit,o,r);for(let c=0;c<e.length;c++){e[c].reflow(a);const u=e[c].box;e[c].reflow(this.getSlot(l[c]).adjacentBox(0,u.width(),u.height()))}}lineBox(){return this.box}intervals(n,e,t,o=!1){const r=this.options.min,a=this.getDivisions(n),l=[],u=t||1;for(let f=e||0;f<a;f+=u){const _=(360+r+f*n)%360;o&&Rn(_,o)||l.push(_)}return l}majorIntervals(){return this.intervals(this.options.majorUnit)}minorIntervals(){return this.intervals(this.options.minorUnit)}intervalAngle(n){return(540-n-this.options.startAngle)%360}createLine(){return[]}majorGridLineAngles(n){const e=this.options.majorGridLines;return this.gridLineAngles(n,this.options.majorUnit,e.skip,e.step)}minorGridLineAngles(n,e){const t=this.options,{minorGridLines:o,majorGridLines:r}=t,a=e?this.intervals(t.majorUnit,r.skip,r.step):null;return this.gridLineAngles(n,t.minorUnit,o.skip,o.step,a)}plotBandSlot(n){return this.getSlot(n.from,n.to)}getSlot(n,e){const{options:t,box:o}=this,r=t.startAngle;let a=Gt(n,t.min,t.max),l=Gt(e||a,a,t.max);if(t.reverse&&(a*=-1,l*=-1),a=(540-a-r)%360,l=(540-l-r)%360,l<a){const c=a;a=l,l=c}return new qA(o.center(),0,o.height()/2,a,l-a)}slot(n,e=n){const t=this.options,o=360-t.startAngle,r=this.getSlot(n,e),a=Math.min(n,e),l=Math.max(n,e);let c,u;return t.reverse?(c=a,u=l):(c=360-l,u=360-a),c=(c+o)%360,u=(u+o)%360,new O_([r.center.x,r.center.y],{startAngle:c,endAngle:u,radiusX:r.radius,radiusY:r.radius})}getValue(n){const e=this.options,t=this.box.center();let a=Math.round(HS(Math.atan2(n.y-t.y,n.x-t.x))),l=e.startAngle;return e.reverse||(a*=-1,l*=-1),(a+l+360)%360}valueRange(){return{min:0,max:2*Math.PI}}}De(Wie,{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:Ti(10)},majorGridLines:{color:Co,visible:!0,width:1},minorGridLines:{color:"#aaa"}}),W(Wie.prototype,uIe,{createPlotBands:Xie.prototype.createPlotBands,majorAngles:Xie.prototype.majorAngles,range:Wu.prototype.range,labelsCount:Wu.prototype.labelsCount,createAxisLabel:Wu.prototype.createAxisLabel});const fRt=Wie,mRt={options:{majorGridLines:{visible:!0}},createPlotBands:function(){const{majorGridLines:{type:i},plotBands:n=[]}=this.options,e=this.plotArea.polarAxis,t=e.majorAngles(),o=e.box.center(),r=this._plotbandGroup=new Pn({zIndex:-1});for(let a=0;a<n.length;a++){const l=n[a],c={fill:{color:l.color,opacity:l.opacity},stroke:{opacity:l.opacity}},u=this.getSlot(l.from,l.to,!0),f=new qA(o,o.y-u.y2,o.y-u.y1,0,360);let _;_=i===VS?HB.current.createRing(f,c):lt.fromPoints(this.plotBandPoints(f,t),c).close(),r.append(_)}this.appendVisual(r)},plotBandPoints:function(i,n){const e=[],t=[],o=[i.center.x,i.center.y],r=new ul(o,i.innerRadius),a=new ul(o,i.radius);for(let l=0;l<n.length;l++)e.push(r.pointAt(n[l]+180)),t.push(a.pointAt(n[l]+180));return e.reverse(),e.push(e[0]),t.push(t[0]),t.concat(e)},createGridLines:function(i){const n=this.options,e=this.radarMajorGridLinePositions(),t=i.majorAngles(),o=i.box.center();let r=[];if(n.majorGridLines.visible&&(r=this.renderGridLines(o,e,t,n.majorGridLines)),n.minorGridLines.visible){const a=this.radarMinorGridLinePositions();K0(r,this.renderGridLines(o,a,t,n.minorGridLines))}return r},renderGridLines:function(i,n,e,t){const o={stroke:{width:t.width,color:t.color,dashType:t.dashType}},{skip:r=0,step:a=0}=t,l=this.gridLinesVisual();for(let c=r;c<n.length;c+=a){const u=i.y-n[c];if(u>0){const f=new ul([i.x,i.y],u);if(t.type===VS)l.append(new Ad(f,o));else{const _=new lt(o);for(let S=0;S<e.length;S++)_.lineTo(f.pointAt(e[S]+180));_.close(),l.append(_)}}}return l.children},getValue:function(i){const n=this.lineBox(),e=this.plotArea.polarAxis,t=e.majorAngles(),o=e.box.center(),r=i.distanceTo(o);let a=r;if(this.options.majorGridLines.type!==VS&&t.length>1){const u=(HS(Math.atan2(i.y-o.y,i.x-o.x))+540)%360;t.sort(function(b,D){return lV(b,u)-lV(D,u)});const f=lV(t[0],t[1])/2,_=lV(u,t[0]),S=90-f;a=r*(Math.sin(pr(180-_-S))/Math.sin(pr(S)))}return this.axisType().prototype.getValue.call(this,new on(n.x1,n.y2-a))}};function lV(i,n){return 180-Math.abs(Math.abs(i-n)-180)}const hIe=mRt;class pIe extends Wu{radarMajorGridLinePositions(){return this.getTickPositions(this.options.majorUnit)}radarMinorGridLinePositions(){const n=this.options;let e=0;return n.majorGridLines.visible&&(e=n.majorUnit),this.getTickPositions(n.minorUnit,e)}axisType(){return Wu}}W(pIe.prototype,hIe);const _Rt=pIe;class fIe extends aV{radarMajorGridLinePositions(){const n=[];return this.traverseMajorTicksPositions(function(e){n.push(e)},this.options.majorGridLines),n}radarMinorGridLinePositions(){const n=[];return this.traverseMinorTicksPositions(function(e){n.push(e)},this.options.minorGridLines),n}axisType(){return aV}}W(fIe.prototype,hIe);const gRt=fIe;function _Ie(i){return i<=0?-1:1}const cV=class vRt extends pt{constructor(n){super(),this.closed=n}process(n){const e=n.slice(0),t=[];let o=this.closed,r=e.length;if(r>2&&(this.removeDuplicates(0,e),r=e.length),r<2||2===r&&e[0].equals(e[1]))return t;let u,f,a=e[0],l=e[1],c=e[2];for(t.push(new Ga(a));a.equals(e[r-1]);)o=!0,e.pop(),r--;if(2===r){const S=this.tangent(a,l,yt,kt);return jo(t).controlOut(this.firstControlPoint(S,a,l,yt,kt)),t.push(new Ga(l,this.secondControlPoint(S,a,l,yt,kt))),t}if(o){a=e[r-1],l=e[0],c=e[1];const S=this.controlPoints(a,l,c);u=S[1],f=S[0]}else{const S=this.tangent(a,l,yt,kt);u=this.firstControlPoint(S,a,l,yt,kt)}let _=u;for(let S=0;S<=r-3;S++)if(this.removeDuplicates(S,e),r=e.length,S+3<=r){a=e[S],l=e[S+1],c=e[S+2];const v=this.controlPoints(a,l,c);jo(t).controlOut(_),_=v[1],t.push(new Ga(l,v[0]))}if(o){a=e[r-2],l=e[r-1],c=e[0];const S=this.controlPoints(a,l,c);jo(t).controlOut(_),t.push(new Ga(l,S[0])),jo(t).controlOut(S[1]),t.push(new Ga(c,f))}else{const S=this.tangent(l,c,yt,kt);jo(t).controlOut(_),t.push(new Ga(c,this.secondControlPoint(S,l,c,yt,kt)))}return t}removeDuplicates(n,e){for(;e[n+1]&&(e[n].equals(e[n+1])||e[n+1].equals(e[n+2]));)e.splice(n+1,1)}invertAxis(n,e,t){let o=!1;if(n.x===e.x)o=!0;else if(e.x===t.x)(e.y<t.y&&n.y<=e.y||t.y<e.y&&e.y<=n.y)&&(o=!0);else{const r=this.lineFunction(n,e),a=this.calculateFunction(r,t.x);n.y<=e.y&&t.y<=a||e.y<=n.y&&t.y>=a||(o=!0)}return o}isLine(n,e,t){const o=this.lineFunction(n,e),r=this.calculateFunction(o,t.x);return n.x===e.x&&e.x===t.x||Ye(r,1)===Ye(t.y,1)}lineFunction(n,e){const t=(e.y-n.y)/(e.x-n.x);return[n.y-t*n.x,t]}controlPoints(n,e,t){let c,o=yt,r=kt,a=!1,l=!1;if(this.isLine(n,e,t))c=this.tangent(n,e,yt,kt);else{const _={x:this.isMonotonicByField(n,e,t,yt),y:this.isMonotonicByField(n,e,t,kt)};if(_.x&&_.y)c=this.tangent(n,t,yt,kt),a=!0;else if(this.invertAxis(n,e,t)&&(o=kt,r=yt),_[o])c=0;else{let S;S=t[r]<n[r]&&n[r]<=e[r]||n[r]<t[r]&&e[r]<=n[r]?_Ie((t[r]-n[r])*(e[o]-n[o])):-_Ie((t[o]-n[o])*(e[r]-n[r])),c=.01*S,l=!0}}const u=this.secondControlPoint(c,n,e,o,r);if(l){const _=o;o=r,r=_}const f=this.firstControlPoint(c,e,t,o,r);return a&&(this.restrictControlPoint(n,e,u,c),this.restrictControlPoint(e,t,f,c)),[u,f]}restrictControlPoint(n,e,t,o){n.y<e.y?e.y<t.y?(t.x=n.x+(e.y-n.y)/o,t.y=e.y):t.y<n.y&&(t.x=e.x-(e.y-n.y)/o,t.y=n.y):t.y<e.y?(t.x=n.x-(n.y-e.y)/o,t.y=e.y):n.y<t.y&&(t.x=e.x+(n.y-e.y)/o,t.y=n.y)}tangent(n,e,t,o){const r=e[t]-n[t];let l;return l=0===r?0:(e[o]-n[o])/r,l}isMonotonicByField(n,e,t,o){return t[o]>e[o]&&e[o]>n[o]||t[o]<e[o]&&e[o]<n[o]}firstControlPoint(n,e,t,o,r){const a=e[o],c=.333*(t[o]-a);return this.point(a+c,e[r]+c*n,o,r)}secondControlPoint(n,e,t,o,r){const l=t[o],c=.333*(l-e[o]);return this.point(l-c,t[r]-c*n,o,r)}point(n,e,t,o){const r=new Ie;return r[t]=n,r[o]=e,r}calculateFunction(n,e){const t=n.length;let o=0;for(let r=0;r<t;r++)o+=Math.pow(e,r)*n[r];return o}},bRt=class CRt extends pt{constructor(n){super(),this._axis=n,this.options=n.options}value(n){const e=this._axis;return e.getCategory?e.getCategory(n):e.getValue(n)}slot(n,e,t=!0){return this._axis.slot(n,e,t)}range(){return this._axis.range()}valueRange(){return this._axis.valueRange()}};function gIe(i,n){for(let e=0;e<n.length;e++)if(n[e].options.name===i)return n[e].prepareUserOptions(),new bRt(n[e])}const Kie=class ERt{constructor(n){this.visual=n.visual,this.chartsVisual=n.chartContainer.visual,this._pane=n}findAxisByName(n){return gIe(n,this._pane.axes)}},DRt=class yRt extends pt{constructor(n){super(),this._plotArea=n,this.visual=n.visual,this.backgroundVisual=n._bgVisual}};function Yie(i){const n=i.length;let e=0;for(let t=0;t<n;t++)Yn(i[t])&&e++;return e}const Jie={min:function(i){const n=i.length;let e=zo;for(let t=0;t<n;t++){const o=i[t];Yn(o)&&(e=Math.min(e,o))}return e===zo?i[0]:e},max:function(i){const n=i.length;let e=hr;for(let t=0;t<n;t++){const o=i[t];Yn(o)&&(e=Math.max(e,o))}return e===hr?i[0]:e},sum:function(i){const n=i.length;let e=0;for(let t=0;t<n;t++){const o=i[t];Yn(o)&&(e+=o)}return e},sumOrNull:function(i){let n=null;return Yie(i)&&(n=Jie.sum(i)),n},count:function(i){const n=i.length;let e=0;for(let t=0;t<n;t++){const o=i[t];null!==o&&ge(o)&&e++}return e},avg:function(i){const n=Yie(i);let e=i[0];return n>0&&(e=Jie.sum(i)/n),e},first:function(i){const n=i.length;for(let e=0;e<n;e++){const t=i[e];if(null!==t&&ge(t))return t}return i[0]}},wRt=Jie;function kRt(i,n){return null===n?n:zS(i)(n)}class qie extends pt{constructor(){super(),this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}}register(n,e=[Bd],t={}){for(let o=0;o<n.length;o++){const r=n[o];this._valueFields[r]=e,this._otherFields[r]=t,this._nullValue[r]=this._makeValue(e,null),this._undefinedValue[r]=this._makeValue(e,void 0)}}canonicalFields(n){return this.valueFields(n).concat(this.otherFields(n))}valueFields(n){return this._valueFields[n.type]||[Bd]}otherFields(n){return this._otherFields[n.type]||[Bd]}bindPoint(n,e,t){const o=n.data,r=ge(t)?t:o[e],a={valueFields:{value:r}},l=this.valueFields(n),c=this._otherFields[n.type];let u,f;if(null===r)f=this._nullValue[n.type];else if(ge(r)){if(Array.isArray(r)){const _=r.slice(l.length);f=this._bindFromArray(r,l),u=this._bindFromArray(_,c)}else if("object"==typeof r){const _=this.sourceFields(n,l),S=this.sourceFields(n,c);f=this._bindFromObject(r,l,_),u=this._bindFromObject(r,c,S)}}else f=this._undefinedValue[n.type];return ge(f)&&(1===l.length?a.valueFields.value=f[l[0]]:a.valueFields=f),a.fields=u||{},a}_makeValue(n,e){const t={},o=n.length;for(let r=0;r<o;r++)t[n[r]]=e;return t}_bindFromArray(n,e){const t={};if(e){const o=Math.min(e.length,n.length);for(let r=0;r<o;r++)t[e[r]]=n[r]}return t}_bindFromObject(n,e,t=e){const o={};if(e){const r=e.length;for(let a=0;a<r;a++){const c=t[a];null!==c&&(o[e[a]]=kRt(c,n))}}return o}sourceFields(n,e){const t=[];if(e){const o=e.length;for(let r=0;r<o;r++){const a=e[r],l=a===Bd?"field":a+"Field";t.push(null!==n[l]?n[l]||a:null)}}return t}}qie.current=new qie;const vs=qie,MRt=/percent(?:\w*)\((\d+)\)/,IRt=new RegExp("^stddev(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),SIe=class RRt extends pt{constructor(n,e,t){super(),this.initGlobalRanges(n,e,t)}initGlobalRanges(n,e,t){const o=e.data,r=IRt.exec(n);if(r){this.valueGetter=this.createValueGetter(e,t);const a=this.getAverage(o),l=this.getStandardDeviation(o,a,!1),c=r[1]?parseFloat(r[1]):1,u={low:a.value-l*c,high:a.value+l*c};this.globalRange=function(){return u}}else if(n.indexOf&&n.indexOf("stderr")>=0){this.valueGetter=this.createValueGetter(e,t);const a=this.getStandardError(o,this.getAverage(o));this.globalRange=function(l){return{low:l-a,high:l+a}}}}createValueGetter(n,e){const t=n.data,o=vs.current,r=o.valueFields(n),a=ge(t[0])?t[0]:{};let l;return ga(a)?l=zS("["+(e?r.indexOf(e):0)+"]"):Yn(a)?l=zS():typeof a===XA&&(l=zS(o.sourceFields(n,r)[r.indexOf(e)])),l}getErrorRange(n,e){let t,o,r;if(!ge(e))return null;if(this.globalRange)return this.globalRange(n);if(ga(e))t=n-e[0],o=n+e[1];else if(Yn(r=parseFloat(e)))t=n-r,o=n+r;else{if(!(r=MRt.exec(e)))throw new Error("Invalid ErrorBar value: "+e);{const a=n*(parseFloat(r[1])/100);t=n-Math.abs(a),o=n+Math.abs(a)}}return{low:t,high:o}}getStandardError(n,e){return this.getStandardDeviation(n,e,!0)/Math.sqrt(e.count)}getStandardDeviation(n,e,t){const o=n.length,r=t?e.count-1:e.count;let a=0;for(let l=0;l<o;l++){const c=this.valueGetter(n[l]);Yn(c)&&(a+=Math.pow(c-e.value,2))}return Math.sqrt(a/r)}getAverage(n){const e=n.length;let t=0,o=0;for(let r=0;r<e;r++){const a=this.valueGetter(n[r]);Yn(a)&&(t+=a,o++)}return{value:t/o,count:o}}},Ku=600,XS="fadeIn",ix=(Rh.browser||{}).msie?.001:0,K_="zero",_k="interpolate",hV="above",gk="smooth",sx="step",Y_="area",Yu="bar",ox="boxPlot",Sk="bubble",WS="bullet",vk="candlestick",Wf="column",pV="donut",rx="funnel",ax="pyramid",Zie="heatmap",Ck="horizontalWaterfall",J_="line",bk="ohlc",KS="pie",ese="polarArea",fV="polarLine",tse="polarScatter",lx="radarArea",mV="radarColumn",Ek="radarLine",yk="rangeArea",Dk="rangeBar",cx="rangeColumn",nse="scatter",ise="scatterLine",Q0="verticalArea",wk="verticalBoxPlot",dx="verticalBullet",Z0="verticalLine",eb="verticalRangeArea",ux="waterfall",EIe=[Yu,Wf,bk,vk,ox,wk,WS,cx,Dk,ux,Ck],sse="exponentialTrendline",ose="linearTrendline",rse="logarithmicTrendline",ase="movingAverageTrendline",lse="polynomialTrendline",cse="powerTrendline",kk=[sse,ose,rse,ase,lse,cse],yIe="legendItemClick",DIe="seriesClick",wIe="seriesHover",kIe="seriesOver",OIe="seriesLeave",TIe="plotAreaHover",dse="plotAreaLeave",hx="drag",px="dragEnd",use="dragStart",fx="zoomStart",Ok="zoom",Tk="zoomEnd",hse="selectStart",mx="select",pse="selectEnd",MIe="showTooltip",IIe="hideTooltip",YS="graphics-symbol",JS="k-chart-point",qS="Point",_V="log",qh="category",gV="insideEnd",tb="outsideEnd",SV="wheel",q_="drilldown";class AIe extends Pi{constructor(n,e,t,o,r,a){super(a),this.low=n,this.high=e,this.isVertical=t,this.chart=o,this.series=r}reflow(n){const e=this.options.endCaps,t=this.isVertical,r=this.getAxis().getSlot(this.low,this.high),a=n.center(),l=this.getCapsWidth(n,t),c=t?a.x:a.y,u=c-l,f=c+l;let _;t?(_=[new on(a.x,r.y1),new on(a.x,r.y2)],e&&_.push(new on(u,r.y1),new on(f,r.y1),new on(u,r.y2),new on(f,r.y2)),this.box=new Ve(u,r.y1,f,r.y2)):(_=[new on(r.x1,a.y),new on(r.x2,a.y)],e&&_.push(new on(r.x1,u),new on(r.x1,f),new on(r.x2,u),new on(r.x2,f)),this.box=new Ve(r.x1,u,r.x2,f)),this.linePoints=_}getCapsWidth(n,e){const t=e?n.width():n.height();return Math.min(Math.floor(t/2),4)||4}createVisual(){const n=this.options,e=n.visual;e?this.visual=e({low:this.low,high:this.high,rect:this.box.toRect(),sender:this.getSender(),options:{endCaps:n.endCaps,color:n.color,line:n.line},createVisual:()=>{this.createDefaultVisual();const t=this.visual;return delete this.visual,t}}):this.createDefaultVisual()}createDefaultVisual(){const{options:n,linePoints:e}=this,t={stroke:{color:n.color,width:n.line.width,dashType:n.line.dashType}};super.createVisual();for(let o=0;o<e.length;o+=2){const r=new lt(t).moveTo(e[o].x,e[o].y).lineTo(e[o+1].x,e[o+1].y);Vd(r),this.visual.append(r)}}}De(AIe,{animation:{type:XS,delay:Ku},endCaps:!0,line:{width:2},zIndex:1});const xIe=AIe,YRt=class KRt extends xIe{getAxis(){return this.chart.seriesValueAxis(this.series)}};function NIe(i){for(let n=0;n<i.length;n++)if(ge(i[n].zIndex))return!0}function vV(i,n){null!==n&&i.push(n)}function LIe(i){return Yie(i)===i.length}function JRt(i,n,e){const t=n.visible;if(ge(t))return t;const o=i.pointVisibility;return o?o[e]:void 0}function PIe(i){const n=i.data,e=[];let t=0,o=0;for(let r=0;r<n.length;r++){const a=vs.current.bindPoint(i,r);let l=a.valueFields.value;Hc(l)&&(l=parseFloat(l)),Yn(l)?(a.visible=!1!==JRt(i,a.fields,r),a.value=Math.abs(l),e.push(a),a.visible&&(t+=a.value),0!==l&&o++):e.push(null)}return{total:t,points:e,count:o}}function _se(i){const n=i.length;let e=0;for(let t=0;t<n;t++)e=Math.max(e,i[t].data.length);return e}function Q_(i,n){return i&&n?i.toLowerCase()===n.toLowerCase():i===n}function Z_(i,n,e={},t=!1){const o=e.defaults=e.defaults||{},r=e.depth=e.depth||0;let a=!1;if(e.excluded=e.excluded||[],r>5)return null;for(let l in i)if(!Rn(l,e.excluded)&&hk(i,l)){const c=i[l];Fs(c)?(a=!0,t||(i[l]=sn(c(n),o[l]))):ju(c)&&(t||(e.defaults=o[l]),e.depth++,a=Z_(c,n,e,t)||a,e.depth--)}return a}function no(i,n){const e=[],t=[].concat(n);for(let o=0;o<i.length;o++){const r=i[o];Rn(r.type,t)&&e.push(r)}return e}const GIe=new WeakMap;function UIe(i,n,e){if(null===n||"object"!=typeof n)return Sa(e,i);let t=GIe.get(n);return t||(t=Sa(e,i),GIe.set(n,t)),t}function gse(i){const n=i.overlay;return n&&n.gradient&&"none"!==n.gradient}function $c(i){return ge(i)&&null!==i}function FIe(i,n){const e=i.type,t=n instanceof Date;return!e&&t||Q_(e,z_)}function Mk(i){return 1===i.length?i[0]:i}const QRt=/area/i;function Sse(i,n){const t=vs.current.bindPoint(i,null,n).valueFields;for(let o in t)if(d3e(t[o]))return!0}function BIe({start:i,dir:n,min:e,max:t,getter:o,hasItem:r,series:a}){let l,c,u=i;do{u+=n,r(u)&&(c=o(u),l=Sse(a,c.item))}while(e<=u&&u<=t&&!l);if(l)return c}function VIe(i,n,e,t,o){const{min:r,max:a}=n,l=r>0&&r<e,c=a+1<e;if(l||c){const u=function ZRt(i){return i.missingValues?i.missingValues:QRt.test(i.type)||i.stack?K_:_k}(i);let f,_;if(u!==_k)l&&(f=t(r-1)),c&&(_=t(a+1));else{let S,v;l&&(S=t(r-1),v=Sse(i,S.item),f=v?S:BIe({start:r,dir:-1,min:0,max:e-1,getter:t,hasItem:o,series:i})),c&&(S=t(a+1),v=Sse(i,S.item),_=v?S:BIe({start:a,dir:1,min:0,max:e-1,getter:t,hasItem:o,series:i}))}f&&(i._outOfRangeMinPoint=f),_&&(i._outOfRangeMaxPoint=_)}}class zIe extends Pi{constructor(n,e){super(e),this.plotArea=n,this.chartService=n.chartService,this.categoryAxis=n.seriesCategoryAxis(e.series[0]),this.valueAxisRanges={},this.points=[],this.categoryPoints=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[],this.render()}render(){this.traverseDataPoints(this.addValue.bind(this))}pointOptions(n,e){let t=this.seriesOptions[e];if(!t){const o=this.pointType().prototype.defaults;this.seriesOptions[e]=t=W({},o,{vertical:!this.options.invertAxes},n)}return t}plotValue(n){if(!n)return 0;if(this.options.isStacked100&&Yn(n.value)){const t=this.categoryPoints[n.categoryIx],o=[];let r=0;for(let a=0;a<t.length;a++){const l=t[a];if(l){const c=n.series.stack,u=l.series.stack;if(c&&u&&c.group!==u.group)continue;Yn(l.value)&&(r+=Math.abs(l.value),o.push(Math.abs(l.value)))}}if(r>0)return n.value/r}return n.value}plotRange(n,e=0){const t=this.categoryPoints[n.categoryIx];if(this.options.isStacked){let l=this.plotValue(n);const c=l>=0;let u=e,f=!1;const _=ge(n.series.stack)?n.series.stack:this.options.defaultStack,S=v=>!0===v||typeof v===XA&&!v.group;if(_)for(let v=0;v<t.length;v++){const b=t[v];if(n===b)break;const D=ge(b.series.stack)?b.series.stack:this.options.defaultStack;if(!D||typeof _===_ie&&_!==D||S(_)&&!S(D)||_.group&&_.group!==D.group)continue;const k=this.plotValue(b);(k>=0&&c||k<0&&!c)&&(0===e||0!==k)&&(u+=k,l+=k,f=!0,this.options.isStacked100&&(l=Math.min(l,1)))}return f&&(u-=e),[u,l]}const r=this.seriesValueAxis(n.series),a=this.categoryAxisCrossingValue(r);return[a,d3e(n.value)?n.value:a]}stackLimits(n,e){let t=zo,o=hr;for(let r=0;r<this.categoryPoints.length;r++){const a=this.categoryPoints[r];if(a)for(let l=0;l<a.length;l++){const c=a[l];if(c&&(c.series.stack===e||c.series.axis===n)){const u=this.plotRange(c,0)[1];ge(u)&&isFinite(u)&&(o=Math.max(o,u),t=Math.min(t,u))}}}return{min:t,max:o}}updateStackRange(){const{isStacked:n,series:e}=this.options,t={};if(n)for(let o=0;o<e.length;o++){const r=e[o],a=r.axis,l=a+r.stack;let c=t[l];if(!c){c=this.stackLimits(a,r.stack);const u=this.errorTotals;u&&(u.negative.length&&(c.min=Math.min(c.min,yie(u.negative).min)),u.positive.length&&(c.max=Math.max(c.max,yie(u.positive).max))),c.min!==zo||c.max!==hr?t[l]=c:c=null}c&&(this.valueAxisRanges[a]=c)}}addErrorBar(n,e,t){const{value:o,series:r,seriesIx:a}=n,l=n.options.errorBars,c=e.fields.errorLow,u=e.fields.errorHigh;let f;Yn(c)&&Yn(u)?f={low:c,high:u}:l&&ge(l.value)&&(this.seriesErrorRanges=this.seriesErrorRanges||[],this.seriesErrorRanges[a]=this.seriesErrorRanges[a]||new SIe(l.value,r,Bd),f=this.seriesErrorRanges[a].getErrorRange(o,l.value)),f&&(n.low=f.low,n.high=f.high,this.addPointErrorBar(n,t))}addPointErrorBar(n,e){const t=!this.options.invertAxes,o=n.options.errorBars;let{series:r,low:a,high:l}=n;if(this.options.isStacked){const u=this.stackedErrorRange(n,e);a=u.low,l=u.high}else{const u={categoryIx:e,series:r};this.updateRange({value:a},u),this.updateRange({value:l},u)}const c=new YRt(a,l,t,this,r,o);n.errorBars=[c],n.append(c)}stackedErrorRange(n,e){const t=this.plotRange(n,0)[1]-n.value,o=n.low+t,r=n.high+t;return this.errorTotals=this.errorTotals||{positive:[],negative:[]},o<0&&(this.errorTotals.negative[e]=Math.min(this.errorTotals.negative[e]||0,o)),r>0&&(this.errorTotals.positive[e]=Math.max(this.errorTotals.positive[e]||0,r)),{low:o,high:r}}addValue(n,e){const{categoryIx:t,series:o,seriesIx:r}=e;let a=this.categoryPoints[t];a||(this.categoryPoints[t]=a=[]);let l=this.seriesPoints[r];l||(this.seriesPoints[r]=l=[]);const c=this.createPoint(n,e);c&&(Object.assign(c,e),c.owner=this,c.noteText=n.fields.noteText,ge(c.dataItem)||(c.dataItem=o.data[t]),this.addErrorBar(c,n,t)),this.points.push(c),l.push(c),a.push(c),this.updateRange(n.valueFields,e)}evalPointOptions(n,e,t){const o=t.categoryIx,r=t.category,a=t.series,l=t.seriesIx,c={defaults:a._defaults,excluded:["data","aggregate","_events","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint","drilldownSeriesFactory","ariaTemplate","ariaContent"]};let u=this._evalSeries[l];ge(u)||(this._evalSeries[l]=u=Z_(n,{},c,!0));let f=n;return u&&(f=W({},f),Z_(f,{value:e,category:r,index:o,series:a,dataItem:a.data[o]},c)),f}updateRange(n,e){const t=e.series.axis,o=n.value;let r=this.valueAxisRanges[t];isFinite(o)&&null!==o&&(r=this.valueAxisRanges[t]=r||{min:zo,max:hr},r.min=Math.min(r.min,o),r.max=Math.max(r.max,o))}seriesValueAxis(n){const e=this.plotArea,t=n.axis,o=t?e.namedValueAxes[t]:e.valueAxis;if(!o)throw new Error("Unable to locate value axis with name "+t);return o}reflow(n){const e=this.categorySlots=[],t=this.points,o=this.categoryAxis;let r=0;this.traverseDataPoints((a,l)=>{const{categoryIx:c,series:u}=l,f=this.seriesValueAxis(u),_=t[r++];let S=e[c];if(S||(e[c]=S=this.categorySlot(o,c,f)),_){const v=this.plotRange(_,f.startValue()),b=this.valueSlot(f,v);if(b){const D=this.pointSlot(S,b);_.aboveAxis=this.aboveAxis(_,f),_.stackValue=v[1],this.options.isStacked100&&(_.percentage=this.plotValue(_)),this.reflowPoint(_,D)}else _.visible=!1}}),this.reflowCategories(e),!this.options.clip&&this.options.limitPoints&&this.points.length&&this.limitPoints(),this.box=n}valueSlot(n,e){return n.getSlot(e[0],e[1],!this.options.clip)}limitPoints(){const n=this.categoryPoints,e=n[0].concat(jo(n));for(let t=0;t<e.length;t++)e[t]&&this.limitPoint(e[t])}limitPoint(n){const e=this.categoryAxis.limitSlot(n.box);e.equals(n.box)||n.reflow(e)}aboveAxis(n,e){const t=this.categoryAxisCrossingValue(e),o=n.value;return e.options.reverse?o<t:o>=t}categoryAxisCrossingValue(n){const e=this.categoryAxis,t=n.options;return[].concat(t.axisCrossingValues||t.axisCrossingValue)[e.axisIndex||0]||0}reflowPoint(n,e){n.reflow(e)}reflowCategories(){}pointSlot(n,e){const o=this.options.invertAxes,r=o?e:n,a=o?n:e;return new Ve(r.x1,a.y1,r.x2,a.y2)}categorySlot(n,e){return n.getSlot(e)}traverseDataPoints(n){const e=this.options.series,t=_se(e),o=e.length;for(let r=0;r<o;r++)this._outOfRangeCallback(e[r],"_outOfRangeMinPoint",r,n);for(let r=0;r<t;r++)for(let a=0;a<o;a++){const l=e[a],c=this.categoryAxis.categoryAt(r);n(this.plotArea.bindPoint(l,r),{category:c,categoryIx:r,categoriesCount:t,series:l,seriesIx:a})}for(let r=0;r<o;r++)this._outOfRangeCallback(e[r],"_outOfRangeMaxPoint",r,n)}_outOfRangeCallback(n,e,t,o){const r=n[e];if(r){const a=r.categoryIx;o(this.plotArea.bindPoint(n,a,r.item),{category:r.category,categoryIx:a,series:n,seriesIx:t,dataItem:r.item})}}formatPointValue(n,e){return null===n.value?"":this.chartService.format.auto(e,n.value)}pointValue(n){return n.valueFields.value}}De(zIe,{series:[],invertAxes:!1,isStacked:!1,clip:!0,limitPoints:!0});const nb=zIe,Qh={click:function(i,n){return i.trigger(DIe,this.eventArgs(n))},hover:function(i,n){return i.trigger(wIe,this.eventArgs(n))},over:function(i,n){return i.trigger(kIe,this.eventArgs(n))},out:function(i,n){return i.trigger(OIe,this.eventArgs(n))},eventArgs:function(i){return{value:this.value,percentage:this.percentage,stackValue:this.stackValue,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:Kh(i),originalEvent:i,point:this}}},Ik={createNote:function(){const i=this.options.notes,n=this.noteText||i.label.text;!1!==i.visible&&ge(n)&&null!==n&&(this.note=new j3e({value:this.value,text:n,dataItem:this.dataItem,category:this.category,series:this.series},this.options.notes,this.owner.chartService),this.append(this.note))}};function CV(){let n,e,i="";for(n=0;n<32;n++)e=16*Math.random()|0,(8===n||12===n||16===n||20===n)&&(i+="-"),i+=(12===n?4:16===n?3&e|8:e).toString(16);return i}class bV extends Pi{constructor(n,e){super(),this.value=n,this.options=e,this.aboveAxis=sn(this.options.aboveAxis,!0),this.tooltipTracking=!0,this._id=CV()}render(){const{markers:n}=this.options;this._rendered||(this._rendered=!0,n.visible&&n.size&&(this.marker=this.createMarker(),this.append(this.marker)),this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))}createLabel(){const e=this.options.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))}createLabelElement(n){return new jc(this.getLabelText(n),W({align:_n,vAlign:_n,margin:{left:5,right:5},zIndex:sn(n.zIndex,this.series.zIndex)},n),this.pointData())}getLabelText(n){let e=zr(n);return e?e(this.pointData()):n.format?this.formatValue(n.format):this.value}getAriaLabelText(){const n=this.options.labels,e=_3e(n);return e?e(this.pointData()):this.getLabelText(n)}markerBorder(){const n=this.options.markers,e=n.background,t=W({color:this.color},n.border);return ge(t.color)||(t.color=new ku(e).brightness(.8).toHex()),t}createVisual(){}createMarker(){const n=this.options.markers;return new ml({type:n.type,width:n.size,height:n.size,rotation:n.rotation,background:n.background,border:this.markerBorder(),opacity:n.opacity,zIndex:sn(n.zIndex,this.series.zIndex),animation:n.animation,visual:n.visual,accessibilityOptions:W({ariaLabel:this.getAriaLabelText(this.options.labels)},this.options.accessibility)},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category})}markerBox(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box}reflow(n){const{options:e,aboveAxis:t}=this,o=e.vertical;this.render(),this.box=n;const r=n.clone();if(o?t?r.y1-=r.height():r.y2+=r.height():t?r.x1+=r.width():r.x2-=r.width(),this._childBox=r,this.marker&&this.marker.reflow(r),this.reflowLabel(r),this.errorBars)for(let a=0;a<this.errorBars.length;a++)this.errorBars[a].reflow(r);if(this.note){let a=this.markerBox();if(!e.markers.visible||!e.markers.size){const l=a.center();a=new Ve(l.x,l.y,l.x,l.y)}this.note.reflow(a)}}reflowLabel(n){const{options:e,label:t}=this;let o=e.labels.position;t&&(o=o===hV?jn:o,o="below"===o?mi:o,t.reflow(n),t.box.alignTo(this.markerBox(),o),t.reflow(t.box))}createHighlight(){const n=this.options.highlight.markers,e=this.markerBorder().color,t=this.options.markers,o=t.size+(t.border.width||0)+(n.border.width||0),r=new ml({type:t.type,width:o,height:o,rotation:t.rotation,background:n.color||e,border:{color:n.border.color,width:n.border.width,opacity:sn(n.border.opacity,1)},opacity:sn(n.opacity,1)});return r.reflow(this._childBox),r.getElement()}highlightVisual(){return(this.marker||{}).visual}highlightVisualArgs(){const n=this.marker;let e,t;if(n)t=n.paddingBox.toRect(),e=n.visual;else{const o=this.options.markers.size,r=o/2,a=this.box.center();t=new yn([a.x-r,a.y-r],[o,o])}return{options:this.options,rect:t,visual:e}}createFocusHighlight(){const n=this.options.markers,e=this.options.accessibility.highlight,t=n.size+(n.border.width||0),o=new ml({type:n.type,width:t,height:t,rotation:n.rotation,background:e.color,border:e.border,opacity:e.opacity,padding:e.border.width/2,zIndex:e.zIndex});return o.reflow(this._childBox),o.getElement()}tooltipAnchor(){const n=this.markerBox(),e=this.owner.pane.clipBox();if(!e||e.overlaps(n)){const r=Un;let a,l;return this.aboveAxis?(a=n.y1,l=mi):(a=n.y2,l=jn),{point:new on(n.x2+5,a),align:{horizontal:r,vertical:l}}}}formatValue(n){return this.owner.formatPointValue(this,n)}overlapsBox(n){return this.markerBox().overlaps(n)}unclipElements(){this.label&&(this.label.options.noclip=!0),this.note&&(this.note.options.noclip=!0)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,series:this.series}}focusVisual(){this.marker&&(this.marker.visual&&this.marker.visual.options.set("id",this._id),this.toggleFocusHighlight(!0))}clearFocusFromVisual(){this.marker&&(this.marker.visual&&this.marker.visual.options.set("id",""),this.toggleFocusHighlight(!1))}getIndex(){return ge(this.categoryIx)?this.categoryIx:this.pointIx}}bV.prototype.defaults={vertical:!0,markers:{visible:!0,background:ri,size:8,type:zc,border:{width:2},opacity:1},labels:{visible:!1,position:hV,margin:Ti(3),padding:Ti(4),animation:{type:XS,delay:Ku}},notes:{label:{}},highlight:{markers:{border:{color:"#fff",width:2}},zIndex:100},errorBars:{line:{width:1}},accessibility:{tabIndex:0,role:YS,className:JS,ariaRoleDescription:qS}},W(bV.prototype,Qh),W(bV.prototype,Ik);const ib=bV;class HIe extends Pi{constructor(n,e,t){super(),this.linePoints=n,this.series=e,this.seriesIx=t}points(){return this.toGeometryPoints(this.linePoints)}toGeometryPoints(n){const e=[];for(let t=0,o=n.length;t<o;t++)n[t]&&!1!==n[t].visible&&e.push(n[t]._childBox.toRect().center());return e}createVisual(){const n=this.series.visual;n?(this.visual=n({points:this.toGeometryPoints(this.linePoints),series:this.series,sender:this.getSender(),createVisual:()=>(this.segmentVisual(),this.visual)}),this.visual&&!ge(this.visual.options.zIndex)&&(this.visual.options.zIndex=this.series.zIndex)):this.segmentVisual()}segmentVisual(){const{options:n,series:e}=this;let{color:t,_defaults:o}=e;Fs(t)&&o&&(t=o.color);const r=lt.fromPoints(this.points(),{stroke:{color:t,width:e.width,opacity:e.opacity,dashType:e.dashType},zIndex:e.zIndex});n.closed&&r.close(),this.visual=r}aliasFor(n,e){return this.parent.getNearestPoint(e.x,e.y,this.seriesIx)}}De(HIe,{closed:!1});const Rk=HIe,eAt={calculateStepPoints:function(i){const n=this.parent.plotArea.seriesCategoryAxis(this.series),{justified:e,vertical:t,reverse:o}=n.options,r=t?yt:kt,a=t?kt:yt,l=o?2:1,c=l;let u=vse(i[0],r,l,a,c);const f=[u];for(let _=1;_<i.length;_++){const S=vse(i[_],r,l,a,c);if(u[r]!==S[r]){const v=new Ie;v[r]=u[r],v[a]=S[a],f.push(v,S)}u=S}return e?u!==jo(f)&&f.push(u):f.push(vse(jo(i),r,l,a,o?1:2)),f}};function vse(i,n,e,t,o){const r=i.box,a=new Ie;return a[n]=r[n+e],a[t]=r[t+o],a}const Cse=eAt;class jIe extends Rk{points(){return this.calculateStepPoints(this.linePoints)}}W(jIe.prototype,Cse);const tAt=jIe,bse=class nAt extends Rk{segmentVisual(){const n=this.series,e=n._defaults;let t=n.color;Fs(t)&&e&&(t=e.color);const r=new cV(this.options.closed).process(this.points()),a=new lt({stroke:{color:t,width:n.width,opacity:n.opacity,dashType:n.dashType},zIndex:n.zIndex});a.segments.push.apply(a.segments,r),this.visual=a}},Ese={renderSegments:function(){const{options:i,seriesPoints:n}=this,e=i.series,t=n.length;let o;this._segments=[];for(let r=0;r<t;r++){const a=e[r],l=this.sortPoints(n[r]),c=l.length;let u=[];for(let f=0;f<c;f++){const _=l[f];_?u.push(_):this.seriesMissingValues(a)!==_k&&(u.length>1&&(o=this.createSegment(u,a,r,o),this._addSegment(o)),u=[])}u.length>1&&(o=this.createSegment(u,a,r,o),this._addSegment(o))}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(i){this._segments.push(i),i.parent=this},sortPoints:function(i){return i},seriesMissingValues:function(i){const n=i.missingValues;return!n&&this.options.isStacked?K_:n||_k},getNearestPoint:function(i,n,e){const t=new on(i,n),o=this.seriesPoints[e];let a,r=zo;for(let l=0;l<o.length;l++){const c=o[l];if(c&&ge(c.value)&&null!==c.value&&!1!==c.visible){const f=c.box.center().distanceTo(t);f<r&&(a=c,r=f)}}return a}};class yse extends Xu{setup(){this._setEnd(this.options.box.x1)}step(n){const e=this.options.box;this._setEnd($u(e.x1,e.x2,n))}_setEnd(n){const e=this.element,t=e.segments,o=t[1].anchor(),r=t[2].anchor();e.suspend(),o.setX(n),e.resume(),r.setX(n)}}De(yse,{duration:Ku}),Hf.current.register("clip",yse);const iAt=yse,EV={createAnimation:function(){const i=this.getRoot();if(i&&!1!==(i.options||{}).transitions){const n=i.size(),e=lt.fromRect(n.toRect());this.visual.clip(e),this.animation=new iAt(e,{box:n}),NIe(this.options.series)&&this._setChildrenAnimation(e)}},_setChildrenAnimation:function(i){const n=this.animationPoints();for(let e=0;e<n.length;e++){const t=n[e];t&&t.visual&&ge(t.visual.options.zIndex)&&t.visual.clip(i)}}};class $Ie extends nb{render(){super.render(),this.updateStackRange(),this.renderSegments()}pointType(){return ib}createPoint(n,e){const{series:t,seriesIx:o}=e,r=this.seriesMissingValues(t);let a=n.valueFields.value;if(!ge(a)||null===a){if(r!==K_)return null;a=0}let l=this.pointOptions(t,o);l=this.evalPointOptions(l,a,e);let c=n.fields.color||t.color;Fs(t.color)&&(c=l.color);const u=new ib(a,l);return u.color=c,this.append(u),u}plotRange(n){let e=this.plotValue(n);if(this.options.isStacked){const o=this.categoryPoints[n.categoryIx];for(let r=0;r<o.length;r++){const a=o[r];if(n===a)break;e+=this.plotValue(a),this.options.isStacked100&&(e=Math.min(e,1))}}return[e,e]}createSegment(n,e,t){const o=e.style;let r;return r=o===sx?tAt:o===gk?bse:Rk,new r(n,e,t)}animationPoints(){const n=this.points,e=[];for(let t=0;t<n.length;t++)e.push((n[t]||{}).marker);return e.concat(this._segments)}supportsPointInactiveOpacity(){return!1}}W($Ie.prototype,Ese,EV);const Dse=$Ie,Ak=class sAt extends Rk{constructor(n,e,t,o,r){super(n,e,t),this.prevSegment=o,this.stackPoints=r}createVisual(){const n=this.series,e=n._defaults,t=n.line||{};let o=n.color;Fs(o)&&e&&(o=e.color),this.visual=new Pn({zIndex:n.zIndex}),this.createFill({fill:{color:o,opacity:n.opacity},stroke:null}),t.width>0&&!1!==t.visible&&this.createStroke({stroke:W({color:o,opacity:n.opacity,lineCap:"butt"},t)})}strokeSegments(){let n=this._strokeSegments;return n||(n=this._strokeSegments=this.createStrokeSegments()),n}createStrokeSegments(){return this.segmentsFromPoints(this.points())}stackSegments(){return this.prevSegment?this.prevSegment.createStackSegments(this.stackPoints):this.createStackSegments(this.stackPoints)}createStackSegments(n){return this.segmentsFromPoints(this.toGeometryPoints(n)).reverse()}segmentsFromPoints(n){return n.map(e=>new Ga(e))}createStroke(n){const e=new lt(n);e.segments.push.apply(e.segments,this.strokeSegments()),this.visual.append(e)}hasStackSegment(){return this.prevSegment||this.stackPoints&&this.stackPoints.length}createFill(n){const e=this.strokeSegments(),t=e.slice(0),o=this.hasStackSegment();if(o){const a=this.stackSegments();K0(t,a)}const r=new lt(n);r.segments.push.apply(r.segments,t),!o&&e.length>1&&this.fillToAxes(r),this.visual.append(r)}fillToAxes(n){const e=this.parent,t=e.options.invertAxes,o=e.seriesValueAxis(this.series),r=e.categoryAxisCrossingValue(o),a=o.getSlot(r,r,!0),l=this.strokeSegments(),c=l[0].anchor(),u=jo(l).anchor();let f=t?a.x1:a.y1;t?n.lineTo(f,u.y).lineTo(f,c.y):n.lineTo(u.x,f).lineTo(c.x,f)}};class XIe extends Ak{createStrokeSegments(){return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints))}createStackSegments(n){return this.segmentsFromPoints(this.calculateStepPoints(n)).reverse()}}W(XIe.prototype,Cse);const oAt=XIe,wse=class rAt extends Ak{createStrokeSegments(){const n=new cV(this.options.closed),e=this.points();return n.process(e)}createStackSegments(){const n=this.strokeSegments(),e=[];for(let t=n.length-1;t>=0;t--){const o=n[t];e.push(new Ga(o.anchor(),o.controlOut(),o.controlIn()))}return e}},lAt=class aAt extends Dse{createSegment(n,e,t,o){const a=(e.line||{}).style;let l,c,u;return this.options.isStacked&&t>0&&o&&("gap"!==this.seriesMissingValues(e)?(c=o.linePoints,l=o):c=this._gapStackPoints(n,t,a)),u=a===sx?oAt:a===gk?wse:Ak,new u(n,e,t,l,c)}reflow(n){super.reflow(n);const e=this._stackPoints;if(e)for(let t=0;t<e.length;t++){const o=e[t],r=this.categoryAxis.getSlot(o.categoryIx);o.reflow(r)}}_gapStackPoints(n,e,t){const o=this.seriesPoints;let r=n[0].categoryIx,a=n.length;r<0&&(r=0,a--);const l=r+a,c=this.seriesOptions[0]._outOfRangeMinPoint?1:0,u=[];this._stackPoints=this._stackPoints||[];for(let f=r;f<l;f++){const _=f+c;let v,S=e;do{S--,v=o[S][_]}while(S>0&&!v);if(v)t!==sx&&f>r&&!o[S][_-1]&&u.push(this._previousSegmentPoint(f,_,_-1,S)),u.push(v),t!==sx&&f+1<l&&!o[S][_+1]&&u.push(this._previousSegmentPoint(f,_,_+1,S));else{const b=this._createGapStackPoint(f);this._stackPoints.push(b),u.push(b)}}return u}_previousSegmentPoint(n,e,t,o){const r=this.seriesPoints;let l,a=o;for(;a>0&&!l;)a--,l=r[a][t];return l?l=r[a][e]:(l=this._createGapStackPoint(n),this._stackPoints.push(l)),l}_createGapStackPoint(n){const e=this.pointOptions({},0),t=new ib(0,e);return t.categoryIx=n,t.series={},t}seriesMissingValues(n){return n.missingValues||K_}supportsPointInactiveOpacity(){return!1}},yV=class cAt extends pt{constructor(){super(),this.axisRanges={}}update(n){const e=this.axisRanges;for(let t in n){const o=n[t];let r=e[t];e[t]=r=r||{min:zo,max:hr},r.min=Math.min(r.min,o.min),r.max=Math.max(r.max,o.max)}}reset(n){this.axisRanges[n]=void 0}query(n){return this.axisRanges[n]}};class WIe extends Pi{constructor(n,e,t){super(e),this.textBox=new jc(n,this.options,t),this.append(this.textBox)}createVisual(){this.textBox.options.noclip=this.options.noclip}reflow(n){const e=this.options,{vertical:t,aboveAxis:o}=e,r=this.children[0],a=r.options,l=r.box,c=r.options.padding;let u=n;a.align=t?_n:Un,a.vAlign=t?jn:_n,e.position===gV?t?(a.vAlign=jn,!o&&l.height()<n.height()&&(a.vAlign=mi)):a.align=o?_i:Un:e.position===_n?(a.vAlign=_n,a.align=_n):"insideBase"===e.position?t?a.vAlign=o?mi:jn:a.align=o?Un:_i:e.position===tb&&(t?u=o?new Ve(n.x1,n.y1-l.height(),n.x2,n.y1):new Ve(n.x1,n.y2,n.x2,n.y2+l.height()):(a.align=_n,u=o?new Ve(n.x2,n.y1,n.x2+l.width(),n.y2):new Ve(n.x1-l.width(),n.y1,n.x1,n.y2))),e.rotation||(t?c.left=c.right=(u.width()-r.contentBox.width())/2:c.top=c.bottom=(u.height()-r.contentBox.height())/2),r.reflow(u)}alignToClipBox(n){const t=this.options.vertical?kt:yt,o=t+"1",r=t+"2",l=this.parent.box;if(l[o]<n[o]||n[r]<l[r]){const c=this.children[0].paddingBox.clone();c[o]=Math.max(l[o],n[o]),c[r]=Math.min(l[r],n[r]),this.reflow(c)}}}De(WIe,{position:tb,margin:Ti(3),padding:Ti(4),color:Co,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:XS,delay:Ku},zIndex:2});const KIe=WIe,xk={addAccessibilityAttributesToVisual:function(){this._id=this._id||CV();const i=W({ariaLabel:this.getAriaLabelText()},this.options.accessibility);Mie(this.visual,i)},getAriaLabelText(){const i=this.options.labels,n=_3e(i);return n?n(this.pointData()):this.getLabelText(i)},focusVisual(){this.visual.options.set("id",this._id),this.toggleFocusHighlight(!0)},clearFocusFromVisual(){this.visual.options.set("id",""),this.toggleFocusHighlight(!1)}};class _x extends Pi{constructor(n,e){super(),this.options=e,this.color=e.color||ri,this.aboveAxis=sn(this.options.aboveAxis,!0),this.value=n}render(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))}createLabel(){const e=this.options.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))}createLabelElement(n){return new KIe(this.getLabelText(n),W({vertical:this.options.vertical},n),this.pointData())}getLabelText(n){let e=zr(n);return e?e(this.pointData()):this.formatValue(n.format)}formatValue(n){return this.owner.formatPointValue(this,n)}reflow(n){this.render();const e=this.label;if(this.box=n,e&&(e.options.aboveAxis=this.aboveAxis,e.reflow(n)),this.note&&this.note.reflow(n),this.errorBars)for(let t=0;t<this.errorBars.length;t++)this.errorBars[t].reflow(n)}createVisual(){const{box:n,options:e}=this,t=e.visual;if(!1!==this.visible)if(super.createVisual(),this.addAccessibilityAttributesToVisual(),t){const o=this.rectVisual=t({category:this.category,dataItem:this.dataItem,value:this.value,sender:this.getSender(),series:this.series,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,rect:n.toRect(),createVisual:()=>{const r=new Pn;return this.createRect(r),r},options:e});o&&this.visual.append(o)}else n.width()>0&&n.height()>0&&this.createRect(this.visual)}createRect(n){const e=this.options,t=e.border,o=ge(t.opacity)?t.opacity:e.opacity,r=this.box.toRect();r.size.width=Math.round(r.size.width);const a=this.rectVisual=lt.fromRect(r,{fill:{color:this.color,opacity:e.opacity},stroke:{color:this.getBorderColor(),width:t.width,opacity:o,dashType:t.dashType}}),l=this.box.width(),c=this.box.height();if((e.vertical?l:c)>6&&(Vd(a),(l<1||c<1)&&(a.options.stroke.lineJoin="round")),n.append(a),gse(e)){const f=this.createGradientOverlay(a,{baseColor:this.color},W({end:e.vertical?void 0:[0,1]},e.overlay));n.append(f)}}createHighlight(n){return Vd(lt.fromRect(this.box.toRect(),n))}highlightVisual(){return this.rectVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}}createFocusHighlight(n){return Vd(lt.fromRect(this.box.pad(this.options.accessibility.highlight.border.width/2).toRect(),n))}getBorderColor(){const n=this.color,e=this.options.border,t=e._brightness||.8;let o=e.color;return ge(o)||(o=new ku(n).brightness(t).toHex()),o}tooltipAnchor(){const{options:n,box:e,aboveAxis:t}=this,o=this.owner.pane.clipBox()||e;let l,c,r=Un,a=jn;if(n.vertical)l=Math.min(e.x2,o.x2)+5,t?c=Math.max(e.y1,o.y1):(c=Math.min(e.y2,o.y2),a=mi);else{const u=Math.max(e.x1,o.x1),f=Math.min(e.x2,o.x2);n.isStacked?(a=mi,t?(r=_i,l=f):l=u,c=Math.max(e.y1,o.y1)-5):(t?l=f+5:(l=u-5,r=_i),c=Math.max(e.y1,o.y1))}return{point:new on(l,c),align:{horizontal:r,vertical:a}}}overlapsBox(n){return this.box.overlaps(n)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,series:this.series}}getIndex(){return this.categoryIx}}W(_x.prototype,Qh),W(_x.prototype,Ik),W(_x.prototype,xk),_x.prototype.defaults={border:{width:1},vertical:!0,overlay:{gradient:"glass"},labels:{visible:!1,format:"{0}"},opacity:1,notes:{label:{}},accessibility:{role:YS,className:JS,ariaRoleDescription:qS}};const gx=_x;function YIe(i,n){i.forEach(n)}function JIe(i,n){const e=i.length;for(let t=e-1;t>=0;t--)n(i[t],t-e-1)}class qIe extends Pi{constructor(n){super(n),this.forEach=n.rtl?JIe:YIe}reflow(n){const{vertical:e,gap:t,spacing:o}=this.options,r=this.children,a=r.length,l=e?kt:yt,c=a+t+o*(a-1),u=(e?n.height():n.width())/c;let f=n[l+1]+u*(t/2);this.forEach(r,(_,S)=>{const v=(_.box||n).clone();v[l+1]=f,v[l+2]=f+u,_.reflow(v),S<a-1&&(f+=u*o),f+=u})}}De(qIe,{vertical:!1,gap:0,spacing:0});const DV=qIe;class QIe extends Pi{reflow(n){const e=this.options.vertical?yt:kt,t=this.children,o=t.length;let r=this.box=new Ve;for(let a=0;a<o;a++){const l=t[a];if(!1!==l.visible){const c=l.box.clone();c.snapTo(n,e),0===a&&(r=this.box=c.clone()),l.reflow(c),r.wrap(c)}}}}De(QIe,{vertical:!0});const uAt=QIe;class ZIe extends nb{render(){super.render(),this.updateStackRange()}pointType(){return gx}clusterType(){return DV}stackType(){return uAt}stackLimits(n,e){return super.stackLimits(n,e)}createPoint(n,e){const{categoryIx:t,series:o,seriesIx:r}=e,{options:a,children:l}=this,c=ge(o.stack)?o.stack:a.defaultStack,u=this.pointValue(n);let f=this.pointOptions(o,r);const _=f.labels;c&&_.position===tb&&(_.position=gV),f.isStacked=c;let S=n.fields.color||o.color;u<0&&f.negativeColor&&(S=f.negativeColor),f=this.evalPointOptions(f,u,e),Fs(o.color)&&(S=f.color);const b=new(this.pointType())(u,f);b.color=S;let D=l[t];return D||(D=new(this.clusterType())({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl}),this.append(D)),a.isStacked?this.getStackWrap(c,D).append(b):D.append(b),b}getStackWrap(n,e){const t=typeof n===XA?n.group||!0:n,o=e.children;let r;if(typeof t===_ie||!0===t)for(let a=0;a<o.length;a++)if(o[a]._stackGroup===t){r=o[a];break}return r||(r=new(this.stackType())({vertical:!this.options.invertAxes}),r._stackGroup=t,e.append(r)),r}categorySlot(n,e,t){const o=this.options,r=n.getSlot(e),a=t.startValue();if(o.isStacked){const l=t.getSlot(a,a,!0),c=o.invertAxes?yt:kt;r[c+1]=r[c+2]=l[c+1]}return r}reflowCategories(n){const e=this.children,t=e.length;for(let o=0;o<t;o++)e[o].reflow(n[o])}createAnimation(){this._setAnimationOptions(),super.createAnimation(),NIe(this.options.series)&&this._setChildrenAnimation()}_setChildrenAnimation(){const n=this.points;for(let e=0;e<n.length;e++){const t=n[e],o=t.visual;o&&ge(o.options.zIndex)&&(t.options.animation=this.options.animation,t.createAnimation())}}_setAnimationOptions(){const n=this.options,e=n.animation||{};let t;if(n.isStacked){const o=this.seriesValueAxis(n.series[0]);t=o.getSlot(o.startValue())}else t=this.categoryAxis.getSlot(0);e.origin=new Ie(t.x1,t.y1),e.vertical=!n.invertAxes}}De(ZIe,{animation:{type:Yu}});const Sx=ZIe;class Nk extends Pi{constructor(n,e){super(e),this.value=n}getLabelText(n){return this.formatValue(n.format)}reflow(n){const{options:e,value:t,owner:o}=this,r=o.seriesValueAxis(e),a=r.getSlot(t.open,t.close),l=r.getSlot(t.low,t.high);a.x1=l.x1=n.x1,a.x2=l.x2=n.x2,this.realBody=a;const c=l.center().x,u=[];u.push([[c,l.y1],[c,a.y1]]),u.push([[c,a.y2],[c,l.y2]]),this.lines=u,this.box=l.clone().wrap(a),this._rendered||(this._rendered=!0,this.createNote()),this.reflowNote()}reflowNote(){this.note&&this.note.reflow(this.box)}createVisual(){super.createVisual(),this.addAccessibilityAttributesToVisual(),this._mainVisual=this.mainVisual(this.options),this.visual.append(this._mainVisual),this.createOverlay()}mainVisual(n){const e=new Pn;return this.createBody(e,n),this.createLines(e,n),e}createBody(n,e){const t=lt.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null});e.border.width>0&&t.options.set("stroke",{color:this.getBorderColor(),width:e.border.width,dashType:e.border.dashType,opacity:sn(e.border.opacity,e.opacity)}),Vd(t),n.append(t),gse(e)&&n.append(this.createGradientOverlay(t,{baseColor:this.color},W({end:e.vertical?void 0:[0,1]},e.overlay)))}createLines(n,e){this.drawLines(n,e,this.lines,e.line)}drawLines(n,e,t,o){if(!t)return;const r={stroke:{color:o.color||this.color,opacity:sn(o.opacity,e.opacity),width:o.width,dashType:o.dashType,lineCap:"butt"}};for(let a=0;a<t.length;a++){const l=lt.fromPoints(t[a],r);Vd(l),n.append(l)}}getBorderColor(){const n=this.options.border;let e=n.color;return ge(e)||(e=new ku(this.color).brightness(n._brightness).toHex()),e}createOverlay(){const n=lt.fromRect(this.box.toRect(),{fill:{color:ri,opacity:0},stroke:null});this.visual.append(n)}createHighlight(){const n=this.options.highlight,e=this.color;this.color=n.color||this.color;const t=this.mainVisual(W({},this.options,{line:{color:this.getBorderColor()}},n));return this.color=e,t}highlightVisual(){return this._mainVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}}tooltipAnchor(){const n=this.box,e=this.owner.pane.clipBox()||n;return{point:new on(n.x2+5,Math.max(n.y1,e.y1)+5),align:{horizontal:Un,vertical:jn}}}formatValue(n){return this.owner.formatPointValue(this,n)}overlapsBox(n){return this.box.overlaps(n)}pointData(){return{dataItem:this.dataItem,value:this.value,meanPoints:this.meanPoints,medianPoints:this.medianPoints,whiskerPoints:this.whiskerPoints,stackValue:this.stackValue,series:this.series}}getIndex(){return this.categoryIx}}Nk.prototype.createFocusHighlight=gx.prototype.createFocusHighlight,De(Nk,{vertical:!0,border:{_brightness:.8},line:{width:2},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{4:d}</th></tr><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},labels:{format:""},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},accessibility:{role:YS,className:JS,ariaRoleDescription:qS}}),W(Nk.prototype,Qh),W(Nk.prototype,Ik),W(Nk.prototype,xk);const kse=Nk;class eRe extends nb{reflowCategories(n){const e=this.children,t=e.length;for(let o=0;o<t;o++)e[o].reflow(n[o])}addValue(n,e){const{categoryIx:t,category:o,series:r,seriesIx:a}=e,{children:l,options:c}=this,u=n.valueFields,_=LIe(this.splitValue(u)),S=r.data[t];let b,v=this.categoryPoints[t];v||(this.categoryPoints[t]=v=[]),_&&(b=this.createPoint(n,e));let D=l[t];D||(D=new DV({vertical:c.invertAxes,gap:c.gap,spacing:c.spacing,rtl:!c.invertAxes&&(this.chartService||{}).rtl}),this.append(D)),b&&(this.updateRange(u,e),D.append(b),b.categoryIx=t,b.category=o,b.series=r,b.seriesIx=a,b.owner=this,b.dataItem=S,b.noteText=n.fields.noteText),this.points.push(b),v.push(b)}pointType(){return kse}createPoint(n,e){const{series:t}=e,o=this.pointType(),r=n.valueFields;let a=W({},t),l=n.fields.color||t.color;a=this.evalPointOptions(a,r,e),(t.type===vk||t.type===bk)&&r.open>r.close&&(l=n.fields.downColor||t.downColor||t.color),Fs(t.color)&&(l=a.color),a.vertical=!this.options.invertAxes;const c=new o(r,a);return c.color=l,c}splitValue(n){return[n.low,n.open,n.close,n.high]}updateRange(n,e){const t=e.series.axis,o=this.splitValue(n);let r=this.valueAxisRanges[t]||{min:zo,max:hr};this.valueAxisRanges[t]={min:Math.min.apply(Math,o.concat([r.min])),max:Math.max.apply(Math,o.concat([r.max]))}}formatPointValue(n,e){const t=n.value;return this.chartService.format.auto(e,t.open,t.high,t.low,t.close,n.category)}animationPoints(){return this.points}}W(eRe.prototype,EV);const Ose=eRe;class Tse extends kse{constructor(n,e){super(n,e),this.createNote()}reflow(n){const{options:e,value:t,owner:o}=this,r=o.seriesValueAxis(e);let a,l;this.boxSlot=l=r.getSlot(t.q1,t.q3),this.realBody=l,this.reflowBoxSlot(n),this.whiskerSlot=a=r.getSlot(t.lower,t.upper),this.reflowWhiskerSlot(n);const c=r.getSlot(t.median);if(t.mean){const u=r.getSlot(t.mean);this.meanPoints=this.calcMeanPoints(n,u)}this.whiskerPoints=this.calcWhiskerPoints(l,a),this.medianPoints=this.calcMedianPoints(n,c),this.box=a.clone().wrap(l),this.reflowNote()}reflowBoxSlot(n){this.boxSlot.x1=n.x1,this.boxSlot.x2=n.x2}reflowWhiskerSlot(n){this.whiskerSlot.x1=n.x1,this.whiskerSlot.x2=n.x2}calcMeanPoints(n,e){return[[[n.x1,e.y1],[n.x2,e.y1]]]}calcWhiskerPoints(n,e){const t=e.center().x;return[[[t-5,e.y1],[t+5,e.y1],[t,e.y1],[t,n.y1]],[[t-5,e.y2],[t+5,e.y2],[t,e.y2],[t,n.y2]]]}calcMedianPoints(n,e){return[[[n.x1,e.y1],[n.x2,e.y1]]]}renderOutliers(n){const e=this.value,t=e.outliers||[],o=3*Math.abs(e.q3-e.q1),r=[];let a=n.markers||{};for(let l=0;l<t.length;l++){const c=t[l];a=c<e.q3+o&&c>e.q1-o?n.outliers:n.extremes;let u=W({},a.border);ge(u.color)||(u.color=ge(this.color)?this.color:new ku(a.background).brightness(.8).toHex());const f=new ml({type:a.type,width:a.size,height:a.size,rotation:a.rotation,background:a.background,border:u,opacity:a.opacity});f.value=c,r.push(f)}return this.reflowOutliers(r),r}reflowOutliers(n){const e=this.owner.seriesValueAxis(this.options),t=this.box.center();for(let o=0;o<n.length;o++){const a=e.getSlot(n[o].value);this.options.vertical?a.move(t.x):a.move(void 0,t.y),this.box=this.box.wrap(a),n[o].reflow(a)}}mainVisual(n){const e=super.mainVisual(n),t=this.renderOutliers(n);for(let o=0;o<t.length;o++){const r=t[o].getElement();r&&e.append(r)}return e}createLines(n,e){this.drawLines(n,e,this.whiskerPoints,e.whiskers),this.drawLines(n,e,this.medianPoints,e.median),this.drawLines(n,e,this.meanPoints,e.mean)}getBorderColor(){return(this.options.border||{}).color?this.options.border.color:this.color?this.color:super.getBorderColor()}}De(Tse,{border:{_brightness:.8},line:{width:2},median:{color:"#f6f6f6"},mean:{width:2,dashType:"dash",color:"#f6f6f6"},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{6:d}</th></tr><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:8,type:"cross",background:ri,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:8,type:zc,background:ri,border:{width:2,opacity:1},opacity:0}}),W(Tse.prototype,Qh);const tRe=Tse,pAt=class hAt extends tRe{reflowBoxSlot(n){this.boxSlot.y1=n.y1,this.boxSlot.y2=n.y2}reflowWhiskerSlot(n){this.whiskerSlot.y1=n.y1,this.whiskerSlot.y2=n.y2}calcMeanPoints(n,e){return[[[e.x1,n.y1],[e.x1,n.y2]]]}calcWhiskerPoints(n,e){const t=e.center().y;return[[[e.x1,t-5],[e.x1,t+5],[e.x1,t],[n.x1,t]],[[e.x2,t-5],[e.x2,t+5],[e.x2,t],[n.x2,t]]]}calcMedianPoints(n,e){return[[[e.x1,n.y1],[e.x1,n.y2]]]}},mAt=class fAt extends Ose{addValue(n,e){const{categoryIx:t,category:o,series:r,seriesIx:a}=e,{children:l,options:c}=this,u=n.valueFields,_=LIe(this.splitValue(u)),S=r.data[t];let b,v=this.categoryPoints[t];v||(this.categoryPoints[t]=v=[]),_&&(b=this.createPoint(n,e));let D=l[t];D||(D=new DV({vertical:c.invertAxes,gap:c.gap,spacing:c.spacing,rtl:!c.invertAxes&&(this.chartService||{}).rtl}),this.append(D)),b&&(this.updateRange(u,e),D.append(b),b.categoryIx=t,b.category=o,b.series=r,b.seriesIx=a,b.owner=this,b.dataItem=S),this.points.push(b),v.push(b)}pointType(){return this.options.invertAxes?pAt:tRe}splitValue(n){return[n.lower,n.q1,n.median,n.q3,n.upper]}updateRange(n,e){const t=e.series.axis;let o=this.splitValue(n).concat(this.filterOutliers(n.outliers));ge(n.mean)&&(o=o.concat(n.mean));let r=this.valueAxisRanges[t]||{min:zo,max:hr};this.valueAxisRanges[t]={min:Math.min.apply(Math,o.concat([r.min])),max:Math.max.apply(Math,o.concat([r.max]))}}formatPointValue(n,e){const t=n.value;return this.chartService.format.auto(e,t.lower,t.q1,t.median,t.q3,t.upper,t.mean,n.category)}filterOutliers(n){const e=(n||[]).length,t=[];for(let o=0;o<e;o++){const r=n[o];ge(r)&&null!==r&&t.push(r)}return t}supportsPointInactiveOpacity(){return!1}},gAt=class _At extends xIe{getAxis(){const n=this.chart.seriesAxes(this.series);return this.isVertical?n.y:n.x}};class Mse extends Pi{constructor(n,e){super(e),this.plotArea=n,this.chartService=n.chartService,this._initFields(),this.render()}_initFields(){this.xAxisRanges={},this.yAxisRanges={},this.points=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[]}render(){this.traverseDataPoints(this.addValue.bind(this))}addErrorBar(n,e,t){const o=n.value[e],r=e+"Value",a=e+"ErrorLow",l=e+"ErrorHigh",{seriesIx:c,series:u}=t,f=n.options.errorBars,_=t[a],S=t[l];if(Yn(o)){let v;Yn(_)&&Yn(S)&&(v={low:_,high:S}),f&&ge(f[r])&&(this.seriesErrorRanges=this.seriesErrorRanges||{x:[],y:[]},this.seriesErrorRanges[e][c]=this.seriesErrorRanges[e][c]||new SIe(f[r],u,e),v=this.seriesErrorRanges[e][c].getErrorRange(o,f[r])),v&&this.addPointErrorBar(v,n,e)}}addPointErrorBar(n,e,t){const{low:o,high:r}=n,{series:a,options:{errorBars:l}}=e,c=t===kt,u={};e[t+"Low"]=o,e[t+"High"]=r,e.errorBars=e.errorBars||[];const f=new gAt(o,r,c,this,a,l);e.errorBars.push(f),e.append(f),u[t]=o,this.updateRange(u,a),u[t]=r,this.updateRange(u,a)}addValue(n,e){const{x:t,y:o}=n,r=e.seriesIx,l=this.seriesMissingValues(this.options.series[r]),c=this.seriesPoints[r];let f,u=n;$c(t)&&$c(o)||(u=this.createMissingValue(u,l)),u&&(f=this.createPoint(u,e),f&&(Object.assign(f,e),this.addErrorBar(f,yt,e),this.addErrorBar(f,kt,e)),this.updateRange(u,e.series)),this.points.push(f),c.push(f)}seriesMissingValues(n){return n.missingValues}createMissingValue(){}updateRange(n,e){const t=this.chartService.intl,{xAxis:o,yAxis:r}=e;let{x:a,y:l}=n,c=this.xAxisRanges[o],u=this.yAxisRanges[r];$c(a)&&(c=this.xAxisRanges[o]=c||{min:zo,max:hr},Hc(a)&&(a=Sa(t,a)),c.min=Math.min(c.min,a),c.max=Math.max(c.max,a)),$c(l)&&(u=this.yAxisRanges[r]=u||{min:zo,max:hr},Hc(l)&&(l=Sa(t,l)),u.min=Math.min(u.min,l),u.max=Math.max(u.max,l))}evalPointOptions(n,e,t){const{series:o,seriesIx:r}=t,a={defaults:o._defaults,excluded:["data","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint","drilldownSeriesFactory","ariaTemplate","ariaContent"]};let l=this._evalSeries[r];ge(l)||(this._evalSeries[r]=l=Z_(n,{},a,!0));let c=n;return l&&(c=W({},n),Z_(c,{value:e,series:o,dataItem:t.dataItem},a)),c}pointType(){return ib}pointOptions(n,e){let t=this.seriesOptions[e];if(!t){const o=this.pointType().prototype.defaults;this.seriesOptions[e]=t=W({},o,{markers:{opacity:n.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},n)}return t}createPoint(n,e){const t=e.series;let o=this.pointOptions(t,e.seriesIx),r=e.color||t.color;o=this.evalPointOptions(o,n,e),Fs(t.color)&&(r=o.color);const a=new ib(n,o);return a.color=r,this.append(a),a}seriesAxes(n){const{xAxis:e,yAxis:t}=n,o=this.plotArea,r=e?o.namedXAxes[e]:o.axisX,a=t?o.namedYAxes[t]:o.axisY;if(!r)throw new Error("Unable to locate X axis with name "+e);if(!a)throw new Error("Unable to locate Y axis with name "+t);return{x:r,y:a}}reflow(n){const e=this.points,t=!this.options.clip;let o=0;this.traverseDataPoints((r,a)=>{const l=e[o++],c=this.seriesAxes(a.series),u=c.x.getSlot(r.x,r.x,t),f=c.y.getSlot(r.y,r.y,t);if(l)if(u&&f){const _=this.pointSlot(u,f);l.reflow(_)}else l.visible=!1}),this.box=n}pointSlot(n,e){return new Ve(n.x1,e.y1,n.x2,e.y2)}traverseDataPoints(n){const{options:{series:e},seriesPoints:t}=this;for(let o=0;o<e.length;o++){const r=e[o];t[o]||(t[o]=[]);for(let l=0;l<r.data.length;l++){const{valueFields:c,fields:u}=this.plotArea.bindPoint(r,l);n(c,W({pointIx:l,series:r,seriesIx:o,dataItem:r.data[l],owner:this},u))}}}formatPointValue(n,e){const t=n.value;return this.chartService.format.auto(e,t.x,t.y)}animationPoints(){const n=this.points,e=[];for(let t=0;t<n.length;t++)e.push((n[t]||{}).marker);return e}}De(Mse,{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0}),W(Mse.prototype,EV);const wV=Mse;class kV extends ib{constructor(n,e){super(n,e),this.category=n.category}createHighlight(){const n=this.options.highlight,e=n.border,t=this.options.markers,o=this.box.center(),r=(t.size+t.border.width+e.width)/2,a=new Pn,l=new Ad(new ul([o.x,o.y+r/5+e.width/2],r+e.width/2),{stroke:{color:"none"},fill:this.createGradient({gradient:"bubbleShadow",color:t.background,stops:[{offset:0,color:t.background,opacity:.3},{offset:1,color:t.background,opacity:0}]})}),c=new Ad(new ul([o.x,o.y],r),{stroke:{color:e.color||new ku(t.background).brightness(.8).toHex(),width:e.width,opacity:e.opacity},fill:{color:t.background,opacity:n.opacity}});return a.append(l,c),a}createFocusHighlight(n){const e=this.options.accessibility.highlight,t=this.options.markers,o=this.box.center();return new Ad(new ul([o.x,o.y],(t.size+t.border.width)/2+e.border.width/2),n)}}kV.prototype.defaults=W({},kV.prototype.defaults,{labels:{position:_n},highlight:{opacity:1,border:{color:"#fff",width:2,opacity:1}}}),kV.prototype.defaults.highlight.zIndex=void 0;const nRe=kV;class iRe extends wV{_initFields(){this._maxSize=hr,super._initFields()}addValue(n,e){null!==n.size&&(n.size>0||n.size<0&&e.series.negativeValues.visible)?(this._maxSize=Math.max(this._maxSize,Math.abs(n.size)),super.addValue(n,e)):(this.points.push(null),this.seriesPoints[e.seriesIx].push(null))}reflow(n){this.updateBubblesSize(n),super.reflow(n)}pointType(){return nRe}createPoint(n,e){const t=e.series,r=e.pointIx*(Ku/t.data.length),a={delay:r,duration:Ku-r,type:Sk};let l=e.color||t.color;n.size<0&&t.negativeValues.visible&&(l=sn(t.negativeValues.color,l));let c=W({labels:{animation:{delay:r,duration:Ku-r}}},this.pointOptions(t,e.seriesIx),{markers:{type:zc,border:t.border,opacity:t.opacity,animation:a}});c=this.evalPointOptions(c,n,e),Fs(t.color)&&(l=c.color),c.markers.background=l;const u=new nRe(n,c);return u.color=l,this.append(u),u}updateBubblesSize(n){const{options:{series:e}}=this,t=Math.min(n.width(),n.height());for(let o=0;o<e.length;o++){const r=e[o],a=this.seriesPoints[o],u=(r.minSize||Math.max(.02*t,10))/2,f=(r.maxSize||.2*t)/2,_=Math.PI*u*u,b=(Math.PI*f*f-_)/this._maxSize;for(let D=0;D<a.length;D++){const k=a[D];if(k){const O=Math.abs(k.value.size)*b,I=Math.sqrt((_+O)/Math.PI),P=sn(k.options.zIndex,0)+(1-I/f);W(k.options,{zIndex:P,markers:{size:2*I,zIndex:P},labels:{zIndex:P+1}})}}}}formatPointValue(n,e){const t=n.value;return this.chartService.format.auto(e,t.x,t.y,t.size,n.category)}createAnimation(){}createVisual(){}}De(iRe,{tooltip:{format:"{3}"},labels:{format:"{3}"}});const SAt=iRe;class sRe extends ml{}W(sRe.prototype,Qh);const vAt=sRe;class sb extends Pi{constructor(n,e){super(e),this.aboveAxis=this.options.aboveAxis,this.color=e.color||ri,this.value=n}render(){const n=this.options;this._rendered||(this._rendered=!0,ge(this.value.target)&&(this.target=new vAt({type:n.target.shape,background:n.target.color||this.color,opacity:n.opacity,zIndex:n.zIndex,border:n.target.border,vAlign:jn,align:_i}),this.target.value=this.value,this.target.dataItem=this.dataItem,this.target.series=this.series,this.append(this.target)),this.createLabel(),this.createNote())}createLabel(){const e=this.options.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))}createLabelElement(n){return new KIe(this.getLabelText(n),n,this.pointData())}getLabelText(n){let e=zr(n);return e?e(this.pointData()):this.formatValue(n.format)}reflow(n){this.render();const{options:e,target:t,owner:o}=this,r=e.invertAxes,a=o.seriesValueAxis(this.options),l=o.categorySlot(o.categoryAxis,e.categoryIx,a),c=a.getSlot(this.value.target),u=r?c:l,f=r?l:c;if(t){const S=new Ve(u.x1,f.y1,u.x2,f.y2);t.options.height=r?S.height():e.target.line.width,t.options.width=r?e.target.line.width:S.width(),t.reflow(S)}const _=this.label;_&&(_.options.aboveAxis=this.aboveAxis,_.reflow(n)),this.note&&this.note.reflow(n),this.box=n}createVisual(){super.createVisual(),this.addAccessibilityAttributesToVisual();const n=this.options,e=lt.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:n.opacity},stroke:null});n.border.width>0&&e.options.set("stroke",{color:n.border.color||this.color,width:n.border.width,dashType:n.border.dashType,opacity:sn(n.border.opacity,n.opacity)}),this.bodyVisual=e,Vd(e),this.visual.append(e)}createAnimation(){this.bodyVisual&&(this.animation=Xu.create(this.bodyVisual,this.options.animation))}createHighlight(n){return lt.fromRect(this.box.toRect(),n)}highlightVisual(){return this.bodyVisual}highlightVisualArgs(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}}formatValue(n){return this.owner.formatPointValue(this,n)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series}}overlapsBox(n){return this.box.overlaps(n)}getIndex(){return this.categoryIx}}sb.prototype.tooltipAnchor=gx.prototype.tooltipAnchor,sb.prototype.createFocusHighlight=gx.prototype.createFocusHighlight,De(sb,{border:{width:1},vertical:!1,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},labels:{visible:!1},tooltip:{format:"Current: {0}<br />Target: {1}"},notes:{label:{}},accessibility:{role:YS,className:JS,ariaRoleDescription:qS}}),W(sb.prototype,Qh),W(sb.prototype,Ik),W(sb.prototype,xk);const CAt=sb;class Ise extends nb{constructor(n,e){(function bAt(i){const n=i.series;for(let e=0;e<n.length;e++){const t=n[e],o=t.data;o&&!ga(o[0])&&!ju(o[0])&&(t.data=[o])}})(e),super(n,e)}reflowCategories(n){const e=this.children,t=e.length;for(let o=0;o<t;o++)e[o].reflow(n[o])}plotRange(n){const t=this.seriesValueAxis(n.series),o=this.categoryAxisCrossingValue(t);return[o,n.value.current||o]}createPoint(n,e){const{categoryIx:t,series:o}=e,{options:r,children:a}=this,l=n.valueFields;let c=W({vertical:!r.invertAxes,overlay:o.overlay,categoryIx:t,invertAxes:r.invertAxes},o),u=n.fields.color||o.color;c=this.evalPointOptions(c,l,e),Fs(o.color)&&(u=c.color);const f=new CAt(l,c);f.color=u;let _=a[t];return _||(_=new DV({vertical:r.invertAxes,gap:r.gap,spacing:r.spacing,rtl:!r.invertAxes&&(this.chartService||{}).rtl}),this.append(_)),_.append(f),f}updateRange(n,e){const{current:t,target:o}=n,r=e.series.axis;let a=this.valueAxisRanges[r];ge(t)&&!isNaN(t)&&ge(o&&!isNaN(o))&&(a=this.valueAxisRanges[r]=a||{min:zo,max:hr},a.min=Math.min(a.min,t,o),a.max=Math.max(a.max,t,o))}formatPointValue(n,e){return this.chartService.format.auto(e,n.value.current,n.value.target)}pointValue(n){return n.valueFields.current}aboveAxis(n){return n.value.current>0}createAnimation(){const n=this.points;this._setAnimationOptions();for(let e=0;e<n.length;e++){const t=n[e];t.options.animation=this.options.animation,t.createAnimation()}}}Ise.prototype._setAnimationOptions=Sx.prototype._setAnimationOptions,De(Ise,{animation:{type:Yu}});const EAt=Ise;class oRe extends pt{constructor(n,e){super(),this.chartService=n,this.options=W({},this.options,e)}getStyle(n,e){let{background:t,border:{color:o}}=n;if(e){const a=e.color||e.options.color;t=sn(t,a),o=sn(o,a)}const r=Ti(n.padding||{},"auto");return{backgroundColor:t,borderColor:o,font:n.font,color:n.color,opacity:n.opacity,borderWidth:lk(n.border.width),paddingTop:lk(r.top),paddingBottom:lk(r.bottom),paddingLeft:lk(r.left),paddingRight:lk(r.right)}}show(n,e,t){n.format=e.format;const o=this.getStyle(e,t);n.style=o;const r=new ku(o.backgroundColor);!ge(e.color)&&!r.isDark()&&(n.className="k-chart-tooltip-inverse"),this.chartService.notify(MIe,n),this.visible=!0}hide(){this.chartService&&this.chartService.notify(IIe),this.visible=!1}destroy(){delete this.chartService}}De(oRe,{border:{width:1},opacity:1});const Rse=oRe;class rRe extends Rse{constructor(n,e,t){super(n,t),this.crosshair=e,this.formatService=n.format,this.initAxisName()}initAxisName(){const n=this.crosshair.axis;let t;t=n.plotArea.categoryAxis?n.getCategory?"categoryAxis":"valueAxis":n.options.vertical?"yAxis":"xAxis",this.axisName=t}showAt(n){const{crosshair:{axis:e},options:t}=this;let o=e[t.stickyMode?"getCategory":"getValue"](n),r=o;t.format?r=this.formatService.auto(t.format,o):e.options.type===z_&&(r=this.formatService.auto(e.options.labels.dateFormats[e.options.baseUnit],o)),this.show({point:n,anchor:this.getAnchor(),crosshair:this.crosshair,value:r,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex},this.options)}hide(){this.chartService.notify(IIe,{crosshair:this.crosshair,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex})}getAnchor(){const{crosshair:n,options:{position:e,padding:t}}=this,o=!n.axis.options.vertical,r=n.line.bbox();let a,l,c;return o?(a=_n,e===mi?(l=jn,c=r.bottomLeft().translate(0,t)):(l=mi,c=r.topLeft().translate(0,-t))):(l=_n,e===Un?(a=_i,c=r.topLeft().translate(-t,0)):(a=Un,c=r.topRight().translate(t,0))),{point:c,align:{horizontal:a,vertical:l}}}}De(rRe,{padding:10});const yAt=rRe;class aRe extends Pi{constructor(n,e,t){super(t),this.axis=e,this.stickyMode=e instanceof X_;const o=this.options.tooltip;o.visible&&(this.tooltip=new yAt(n,this,W({},o,{stickyMode:this.stickyMode})))}showAt(n){this.point=n,this.moveLine(),this.line.visible(!0),this.tooltip&&this.tooltip.showAt(n)}hide(){this.line.visible(!1),this.tooltip&&this.tooltip.hide()}moveLine(){const{axis:n,point:e}=this,t=n.options.vertical,o=this.getBox(),r=t?kt:yt,a=new Ie(o.x1,o.y1);let l;if(l=t?new Ie(o.x2,o.y1):new Ie(o.x1,o.y2),e)if(this.stickyMode){const c=n.getSlot(n.pointCategoryIndex(e));a[r]=l[r]=c.center()[r]}else a[r]=l[r]=e[r];this.box=o,this.line.moveTo(a).lineTo(l)}getBox(){const n=this.axis,e=n.pane.axes,t=e.length,o=n.options.vertical,r=n.lineBox().clone(),a=o?yt:kt;let l;for(let c=0;c<t;c++){const u=e[c];u.options.vertical!==o&&(l?l.wrap(u.lineBox()):l=u.lineBox().clone())}return r[a+1]=l[a+1],r[a+2]=l[a+2],r}createVisual(){super.createVisual();const n=this.options;this.line=new lt({stroke:{color:n.color,width:n.width,opacity:n.opacity,dashType:n.dashType},visible:!1}),this.moveLine(),this.visual.append(this.line)}destroy(){this.tooltip&&this.tooltip.destroy(),super.destroy()}}De(aRe,{color:Co,width:2,zIndex:-1,tooltip:{visible:!1}});const DAt=aRe;class lRe extends Pi{constructor(n,e){super(n),this.pane=e}shouldClip(){const n=this.children,e=n.length;for(let t=0;t<e;t++)if(!0===n[t].options.clip)return!0;return!1}_clipBox(){return this.pane.chartsBox()}createVisual(){if(this.visual=new Pn({zIndex:0}),this.shouldClip()){const e=(this.clipBox=this._clipBox()).toRect(),t=lt.fromRect(e);Vd(t),this.visual.clip(t),this.unclipLabels()}}stackRoot(){return this}unclipLabels(){const{children:n,clipBox:e}=this;for(let t=0;t<n.length;t++){const o=n[t].points||{},r=o.length;for(let a=0;a<r;a++){const l=o[a];if(l&&!1!==l.visible&&l.overlapsBox&&l.overlapsBox(e))if(l.unclipElements)l.unclipElements();else{const{label:c,note:u}=l;c&&c.options.visible&&(c.alignToClipBox&&c.alignToClipBox(e),c.options.noclip=!0),u&&u.options.visible&&(u.options.noclip=!0)}}}}destroy(){super.destroy(),delete this.parent}}lRe.prototype.isStackRoot=!0;const wAt=lRe;class vx extends $S{constructor(n){super(n),this.id=function OAt(){return"pane"+kAt++}(),this.createTitle(),this.content=new Pi,this.chartContainer=new wAt({},this),this.append(this.content),this.axes=[],this.charts=[]}createTitle(){let n=this.options.title;ju(n)&&(n=W({},n,{align:n.position,position:jn})),this.title=ZA.buildTitle(n,vx.prototype.options.title),this.title&&this.append(this.title)}appendAxis(n){this.content.append(n),this.axes.push(n),n.pane=this}appendAxisAt(n,e){this.content.append(n),this.axes.splice(e,0,n),n.pane=this}appendChart(n){this.chartContainer.parent!==this.content&&this.content.append(this.chartContainer),this.charts.push(n),this.chartContainer.append(n),n.pane=this}empty(){const n=this.parent;if(n){for(let e=0;e<this.axes.length;e++)n.removeAxis(this.axes[e]);for(let e=0;e<this.charts.length;e++)n.removeChart(this.charts[e])}this.axes=[],this.charts=[],this.content.destroy(),this.content.children=[],this.chartContainer.children=[]}reflow(n){let e;jo(this.children)===this.content&&(e=this.children.pop()),super.reflow(n),e&&this.children.push(e),this.title&&(this.contentBox.y1+=this.title.box.height())}visualStyle(){const n=super.visualStyle();return n.zIndex=-10,n}renderComplete(){this.options.visible&&this.createGridLines()}stackRoot(){return this}clipRoot(){return this}createGridLines(){const n=this.axes,e=n.concat(this.parent.axes),t=[],o=[];for(let r=0;r<n.length;r++){const a=n[r],l=a.options.vertical,c=l?t:o;for(let u=0;u<e.length;u++)if(0===c.length){const f=e[u];l!==f.options.vertical&&K0(c,a.createGridLines(f))}}}refresh(){this.visual.clear(),this.content.parent=null,this.content.createGradient=this.createGradient.bind(this),this.content.renderVisual(),this.content.parent=this,this.title&&this.visual.append(this.title.visual),this.visual.append(this.content.visual),this.renderComplete(),this.notifyRender()}chartsBox(){const n=this.axes,e=n.length,t=new Ve;for(let o=0;o<e;o++){const r=n[o],a=r.options.vertical?kt:yt,l=r.lineBox();t[a+1]=l[a+1],t[a+2]=l[a+2]}if(0===t.x2){const o=this.parent.axes,r=o.length;for(let a=0;a<r;a++){const l=o[a];if(!l.options.vertical){const c=l.lineBox();t.x1=c.x1,t.x2=c.x2}}}return t}clipBox(){return this.chartContainer.clipBox}notifyRender(){const n=this.getService();n&&n.notify("paneRender",{pane:new Kie(this),index:this.paneIndex,name:this.options.name})}}let kAt=1;vx.prototype.isStackRoot=!0,De(vx,{zIndex:-1,shrinkToFit:!0,title:{align:Un},visible:!0});const TAt=vx;class cRe extends Pi{constructor(n,e,t){super(e),this.initFields(n,e),this.series=n,this.initSeries(),this.charts=[],this.options.legend=this.options.legend||{},this.options.legend.data=[],this.axes=[],this.crosshairs=[],this.chartService=t,this.originalOptions=e,this.originalSeries=n,this._bindCache=new WeakMap,this.createPanes(),this.render(),this.createCrosshairs()}initFields(){}initSeries(){const n=this.series;for(let e=0;e<n.length;e++)n[e].index=e}bindPoint(n,e,t){let o=this._bindCache.get(n);o||(o=[],this._bindCache.set(n,o));let r=o[e];return r||(r=o[e]=vs.current.bindPoint(n,e,t)),r}createPanes(){const n=this.options.title||{},e=this.options.paneDefaults,t=this.options.panes||[],o=Math.max(t.length,1),r=[],a=W({title:{color:n.color}},e);for(let l=0;l<o;l++){const c=W({},a,t[l]);Hc(c.title)&&(c.title=W({text:c.title},a.title));const u=new TAt(c);u.paneIndex=l,r.push(u),this.append(u)}this.panes=r}crosshairOptions(n){return n.options.crosshair}createCrosshairs(n=this.panes){for(let e=0;e<n.length;e++){const t=n[e];for(let o=0;o<t.axes.length;o++){const r=t.axes[o],a=this.crosshairOptions(r);if(a&&a.visible){const l=new DAt(this.chartService,r,a);this.crosshairs.push(l),t.content.append(l)}}}}removeCrosshairs(n){const e=this.crosshairs,t=n.axes;for(let o=e.length-1;o>=0;o--)for(let r=0;r<t.length;r++)if(e[o].axis===t[r]){e.splice(o,1);break}}hideCrosshairs(){const n=this.crosshairs;for(let e=0;e<n.length;e++)n[e].hide()}findPane(n){const e=this.panes;let t;for(let o=0;o<e.length;o++)if(e[o].options.name===n){t=e[o];break}return t||e[0]}findPointPane(n){const e=this.panes;let t;for(let o=0;o<e.length;o++)if(e[o].box.containsPoint(n)){t=e[o];break}return t}appendAxis(n){this.findPane(n.options.pane).appendAxis(n),this.axes.push(n),n.plotArea=this}removeAxis(n){const e=[];for(let t=0;t<this.axes.length;t++){const o=this.axes[t];n!==o?e.push(o):o.destroy()}this.axes=e}appendChart(n,e){this.charts.push(n),e?e.appendChart(n):this.append(n)}removeChart(n){const e=[];for(let t=0;t<this.charts.length;t++){const o=this.charts[t];o!==n?e.push(o):o.destroy()}this.charts=e}addToLegend(n){const e=n.length,t=this.options.legend,o=t.labels||{},r=t.inactiveItems||{},a=r.labels||{},l=[];for(let c=0;c<e;c++){const u=n[c],f=!1!==u.visible;if(!1===u.visibleInLegend)continue;let _=u.name;const S=f?zr(o):zr(a)||zr(o);S&&(_=S({text:$c(_)?_:"",series:u}));const v=u._defaults;let D,k,b=u.color;Fs(b)&&v&&(b=v.color),f?(D={},k=b):(D={color:a.color,font:a.font},k=r.markers.color),$c(_)&&""!==_&&l.push({text:_,labels:D,markerColor:k,series:u,active:f})}K0(t.data,l)}groupAxes(n){const e=[],t=[];for(let o=0;o<n.length;o++){const r=n[o].axes;for(let a=0;a<r.length;a++){const l=r[a];l.options.vertical?t.push(l):e.push(l)}}return{x:e,y:t,any:e.concat(t)}}groupSeriesByPane(){const n=this.series,e={};for(let t=0;t<n.length;t++){const o=n[t],r=this.seriesPaneName(o);e[r]?e[r].push(o):e[r]=[o]}return e}filterVisibleSeries(n){const e=[];for(let t=0;t<n.length;t++){const o=n[t];!1!==o.visible&&e.push(o)}return e}reflow(n){const t=this.panes,o=Ti(this.options.plotArea.margin);this.box=n.clone().unpad(o),this.reflowPanes(),this.detachLabels(),this.reflowAxes(t),this.reflowCharts(t)}redraw(n){const e=[].concat(n);this.initSeries();const t=this.getRoot();t&&t.cleanGradients();for(let o=0;o<e.length;o++)this.removeCrosshairs(e[o]),e[o].empty();this._bindCache=new WeakMap,this.render(e),this.detachLabels(),this.reflowAxes(this.panes),this.reflowCharts(e),this.createCrosshairs(e);for(let o=0;o<e.length;o++)e[o].refresh()}axisCrossingValues(n,e){const t=n.options,o=[].concat(t.axisCrossingValues||t.axisCrossingValue),r=e.length-o.length,a=o[0]||0;for(let l=0;l<r;l++)o.push(a);return o}alignAxisTo(n,e,t,o){const r=n.getSlot(t,t,!0),a=n.options.reverse?2:1,l=e.getSlot(o,o,!0),c=e.options.reverse?2:1,u=n.box.translate(l[yt+c]-r[yt+a],l[kt+c]-r[kt+a]);n.pane!==e.pane&&u.translate(0,n.pane.box.y1-e.pane.box.y1),n.reflow(u)}alignAxes(n,e){const t=n[0],o=e[0],r=this.axisCrossingValues(t,e),a=this.axisCrossingValues(o,n),l={},c={},u={},f={};for(let _=0;_<e.length;_++){const S=e[_],v=S.pane,b=v.id,D=!1!==S.options.visible,k=OV(n,v)||t;let O=r;if(k!==t&&(O=this.axisCrossingValues(k,e)),this.alignAxisTo(S,k,a[_],O[_]),S.options._overlap)continue;Ye(S.lineBox().x1)===Ye(k.lineBox().x1)&&(l[b]&&S.reflow(S.box.alignTo(l[b].box,Un).translate(-S.options.margin,0)),D&&(l[b]=S)),Ye(S.lineBox().x2)===Ye(k.lineBox().x2)&&(S._mirrored||(S.options.labels.mirror=!S.options.labels.mirror,S._mirrored=!0),this.alignAxisTo(S,k,a[_],O[_]),c[b]&&S.reflow(S.box.alignTo(c[b].box,_i).translate(S.options.margin,0)),D&&(c[b]=S));const I=OV(e,v)||o;I!==S&&(S.alignTo(I),S.reflow(S.box))}for(let _=0;_<n.length;_++){const S=n[_],v=S.pane,b=v.id,D=!1!==S.options.visible,k=OV(e,v)||o;let O=a;k!==o&&(O=this.axisCrossingValues(k,n)),this.alignAxisTo(S,k,r[_],O[_]),!S.options._overlap&&(Ye(S.lineBox().y1)===Ye(k.lineBox().y1)&&(S._mirrored||(S.options.labels.mirror=!S.options.labels.mirror,S._mirrored=!0),this.alignAxisTo(S,k,r[_],O[_]),u[b]&&S.reflow(S.box.alignTo(u[b].box,jn).translate(0,-S.options.margin)),D&&(u[b]=S)),Ye(S.lineBox().y2,3)===Ye(k.lineBox().y2,3)&&(f[b]&&S.reflow(S.box.alignTo(f[b].box,mi).translate(0,S.options.margin)),D&&(f[b]=S)),0!==_&&(S.alignTo(t),S.reflow(S.box)))}}shrinkAxisWidth(n){const e=this.groupAxes(n).any,t=Ase(e);let o=0;for(let r=0;r<n.length;r++){const a=n[r];a.axes.length>0&&(o=Math.max(o,t.width()-a.contentBox.width()))}if(0!==o)for(let r=0;r<e.length;r++){const a=e[r];a.options.vertical||a.reflow(a.box.shrink(o,0))}}shrinkAxisHeight(n){let e;for(let t=0;t<n.length;t++){const o=n[t],r=o.axes,a=Math.max(0,Ase(r).height()-o.contentBox.height());if(0!==a){for(let l=0;l<r.length;l++){const c=r[l];c.options.vertical&&c.reflow(c.box.shrink(0,a))}e=!0}}return e}fitAxes(n){const e=this.groupAxes(n).any;let t=0;for(let o=0;o<n.length;o++){const r=n[o],a=r.axes,l=r.contentBox;if(a.length>0){const c=Ase(a),u=Math.max(l.y1-c.y1,l.y2-c.y2);t=Math.max(t,l.x1-c.x1);for(let f=0;f<a.length;f++){const _=a[f];_.reflow(_.box.translate(0,u))}}}for(let o=0;o<e.length;o++){const r=e[o];r.reflow(r.box.translate(t,0))}}reflowAxes(n){const e=this.groupAxes(n);for(let t=0;t<n.length;t++)this.reflowPaneAxes(n[t]);e.x.length>0&&e.y.length>0&&(this.alignAxes(e.x,e.y),this.shrinkAxisWidth(n),this.autoRotateAxisLabels(e),this.alignAxes(e.x,e.y),this.shrinkAxisWidth(n)&&this.alignAxes(e.x,e.y),this.shrinkAxisHeight(n),this.alignAxes(e.x,e.y),this.shrinkAxisHeight(n)&&this.alignAxes(e.x,e.y),this.fitAxes(n))}autoRotateAxisLabels(n){const{panes:e}=this,t=RAt(e);let o;for(let r=0;r<t.length;r++)t[r].autoRotateLabels()&&(o=!0);if(o){for(let r=0;r<e.length;r++)this.reflowPaneAxes(e[r]);n.x.length>0&&n.y.length>0&&(this.alignAxes(n.x,n.y),this.shrinkAxisWidth(e))}}reflowPaneAxes(n){const e=n.axes,t=e.length;if(t>0)for(let o=0;o<t;o++)e[o].reflow(n.contentBox)}reflowCharts(n){const e=this.charts,t=e.length,o=this.box;for(let r=0;r<t;r++){const a=e[r].pane;(!a||Rn(a,n))&&e[r].reflow(o)}}reflowPanes(){const{box:n,panes:e}=this,t=e.length;let o=n.height(),r=0,a=n.y1;for(let l=0;l<t;l++){const c=e[l],u=c.options.height;if(c.options.width=n.width(),c.options.height){if(u.indexOf&&u.indexOf("%")){const f=parseInt(u,10)/100;c.options.height=f*n.height()}c.reflow(n.clone()),o-=c.options.height}else r++}for(let l=0;l<t;l++){const c=e[l];c.options.height||(c.options.height=o/r)}for(let l=0;l<t;l++){const c=e[l],u=n.clone().move(n.x1,a);c.reflow(u),a+=c.options.height}}backgroundBox(){const n=this.axes,e=n.length;let t;for(let o=0;o<e;o++){const r=n[o];for(let a=0;a<e;a++){const l=n[a];if(r.options.vertical!==l.options.vertical){const c=r.lineBox().clone().wrap(l.lineBox());t=t?t.wrap(c):c}}}return t||this.box}chartsBoxes(){const n=this.panes,e=[];for(let t=0;t<n.length;t++)e.push(n[t].chartsBox());return e}addBackgroundPaths(n){const e=this.chartsBoxes();for(let t=0;t<e.length;t++)n.paths.push(lt.fromRect(e[t].toRect()))}backgroundContainsPoint(n){const e=this.chartsBoxes();for(let t=0;t<e.length;t++)if(e[t].containsPoint(n))return!0}createVisual(){super.createVisual();const n=this.options.plotArea;let{opacity:e,background:t,border:o={}}=n;(function IAt(i){return""===i||null===i||"none"===i||"transparent"===i||!ge(i)})(t)&&(t=ri,e=0);const r=this._bgVisual=new Lc({fill:{color:t,opacity:e},stroke:{color:o.width?o.color:"",width:o.width,dashType:o.dashType},zIndex:-1});this.addBackgroundPaths(r),this.appendVisual(r)}pointsByCategoryIndex(n){const e=this.charts,t=[];if(null!==n)for(let o=0;o<e.length;o++){if("_navigator"===e[o].pane.options.name)continue;const a=e[o].categoryPoints[n];if(a&&a.length)for(let l=0;l<a.length;l++){const c=a[l];c&&ge(c.value)&&null!==c.value&&t.push(c)}}return t}pointsBySeriesIndex(n){return this.filterPoints(function(e){return e.series.index===n})}pointsByPointIndex(n){return this.filterPoints(function(e){return e.getIndex()===n})}pointsBySeriesName(n){return this.filterPoints(function(e){return e.series.name===n})}filterPoints(n){const e=this.charts,t=[];for(let o=0;o<e.length;o++){const a=e[o].points;for(let l=0;l<a.length;l++){const c=a[l];c&&!1!==c.visible&&n(c)&&t.push(c)}}return t}findPoint(n){const e=this.charts;for(let t=0;t<e.length;t++){const r=e[t].points;for(let a=0;a<r.length;a++){const l=r[a];if(l&&!1!==l.visible&&n(l))return l}}}paneByPoint(n){const e=this.panes;for(let t=0;t<e.length;t++){const o=e[t];if(o.box.containsPoint(n))return o}}detachLabels(){const n=this.groupAxes(this.panes),e=n.x,t=n.y;this.detachAxisGroupLabels(t,e),this.detachAxisGroupLabels(e,t)}detachAxisGroupLabels(n,e){let t=0;for(let o=0;o<n.length;o++){const r=n[o],a=r.pane,l=OV(e,a)||e[0],u=this.createLabelAxis(r,o+t,l);if(u){t++;const f=a.axes.indexOf(r)+t;a.appendAxisAt(u,f)}}}createLabelAxis(n,e,t){const o=n.options.labels,r=o.position;if(r!==IB&&r!==xB||!1===o.visible)return null;const c=this.groupAxes(this.panes),f=this.axisCrossingValues(t,t.options.vertical?c.x:c.y),_=r===IB,S=t.range(),v=_?S.max:S.min;if(Gt(f[e],S.min,S.max)-v==0)return null;f.splice(e+1,0,v),t.options.axisCrossingValues=f;const D=n.clone();return n.clear(),D.options.name=void 0,D.options.line.visible=!1,D.options.crosshair=void 0,D.options.notes=void 0,D.options.plotBands=void 0,D}isTrendline(n){return n&&Rn(n.type,kk)}trendlineFactory(){}createTrendlineSeries(){const n=[];return this.series=this.series.map(e=>{if(!this.isTrendline(e))return e;const t=this.seriesByName(e.for);if(!t)throw new Error(`Invalid Configuration: Unable to locate linked series "${e.for}" for trendline "${e.name}".`);const o=vs.current.valueFields(t),r=jo(o),a=this.trendlineFactory(Object.assign({},{field:r},e),t);return a&&(!1===t.visible&&(a.visible=!1),"inherit"===a.color&&(a.color=t.color),n.push(a)),a}).filter(e=>null!==e),n}seriesByName(n){return this.series.find(e=>e.name===n)}getFirstPoint(){return this.pointsBySeriesIndex(0)[0]}getPointBelow(n){return this._getNextPoint(n,this._pointsByVertical,1)}getPointAbove(n){return this._getNextPoint(n,this._pointsByVertical,-1)}getPointToTheRight(n){return this._getNextPoint(n,this._pointsByHorizontal,1)}getPointToTheLeft(n){return this._getNextPoint(n,this._pointsByHorizontal,-1)}_getNextPoint(n,e,t){let o=e.call(this,n),a=o.indexOf(n)+t;const l=c=>{let u,f=0;do{f+=c,u=e.call(this,n,f)}while(0===u.length);return u};return a<0?(o=l(-1),o.at(-1)):a>=o.length?(o=l(1),o.at(0)):o[a]}_pointsByVertical(n){return this.pointsByPointIndex(n.getIndex())}_pointsByHorizontal(n,e=0){let t=LB(n.series.index+e,this.series.length);return this.pointsBySeriesIndex(t)}}function MAt(i){return!i.pane.axes.some(n=>n.options.vertical===i.options.vertical&&n!==i&&!1!==n.options.visible)}function Ase(i){const n=i.length;let e;for(let t=0;t<n;t++){const o=i[t],r=!1!==o.options.visible;if(r||MAt(o)){const a=r?o.contentBox():o.lineBox();e?e.wrap(a):e=a.clone()}}return e||new Ve}function OV(i,n){for(let e=0;e<i.length;e++){const t=i[e];if(t&&t.pane===n)return t}}const RAt=i=>i.reduce((n,e)=>n.concat(e.axes),[]);De(cRe,{series:[],plotArea:{margin:{}},background:"",border:{color:Co,width:0},paneDefaults:{title:{}},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}});const QS=cRe,Cx={hover:function(i,n){this._dispatchEvent(i,n,TIe)},click:function(i,n){this._dispatchEvent(i,n,"plotAreaClick")}};function xAt(i,n,e){let t=n,o=i;if(i.indexOf(".")>-1){const r=i.split(".");for(;r.length>1;)o=r.shift(),ge(t[o])||(t[o]={}),t=t[o];o=r.shift()}t[o]=e}const NAt=class AAt extends pt{constructor(n,e,t){super();const o=e.canonicalFields(n),r=e.valueFields(n),a=e.sourceFields(n,o),l=this._seriesFields=[],c=t.query(n.type),u=n.aggregate||c;this._series=n,this._binder=e;for(let f=0;f<o.length;f++){const _=o[f];let S;if(ju(u))S=u[_];else{if(0!==f&&!Rn(_,r))break;S=u}S&&l.push({canonicalName:_,name:a[f],transform:Fs(S)?S:wRt[S]})}}aggregatePoints(n,e){const{_series:t,_seriesFields:o}=this,r=this._bindPoints(n||[]),a=r.dataItems[0];let l={};if(a&&!Yn(a)&&!ga(a)){const c=function(){};c.prototype=a,l=new c}for(let c=0;c<o.length;c++){const u=o[c],f=this._bindField(r.values,u.canonicalName),_=u.transform(f,t,r.dataItems,e);if(!(null===_||!ju(_)||ge(_.length)||_ instanceof Date)){l=_;break}ge(_)&&xAt(u.name,l,_)}return l}_bindPoints(n){const{_binder:e,_series:t}=this,o=[],r=[];for(let a=0;a<n.length;a++){const l=n[a];o.push(e.bindPoint(t,l)),r.push(t.data[l])}return{values:o,dataItems:r}}_bindField(n,e){const t=[],o=n.length;for(let r=0;r<o;r++){const a=n[r],l=a.valueFields;let c;c=ge(l[e])?l[e]:a.fields[e],t.push(c)}return t}};class xse extends pt{constructor(){super(),this._defaults={}}register(n,e){for(let t=0;t<n.length;t++)this._defaults[n[t]]=e}query(n){return this._defaults[n]}}xse.current=new xse;const ob=xse;class Nse extends gx{createLabel(){const n=this.options.labels,e=W({},n,n.from),t=W({},n,n.to);e.visible&&(this.labelFrom=this.createLabelElement(e),this.append(this.labelFrom)),t.visible&&(this.labelTo=this.createLabelElement(t),this.append(this.labelTo))}reflow(n){this.render();const{labelFrom:e,labelTo:t,value:o}=this;this.box=n,e&&(e.options.aboveAxis=o.from>o.to,e.reflow(n)),t&&(t.options.aboveAxis=o.to>o.from,t.reflow(n)),this.note&&this.note.reflow(n)}}Nse.prototype.defaults=W({},Nse.prototype.defaults,{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}});const LAt=Nse;class dRe extends Sx{pointType(){return LAt}pointValue(n){return n.valueFields}formatPointValue(n,e){return null===n.value.from&&null===n.value.to?"":this.chartService.format.auto(e,n.value.from,n.value.to)}plotRange(n){return n?[n.value.from,n.value.to]:0}updateRange(n,e){const t=e.series.axis,{from:o,to:r}=n;let a=this.valueAxisRanges[t];null!==n&&Yn(o)&&Yn(r)&&(a=this.valueAxisRanges[t]=a||{min:zo,max:hr},a.min=Math.min(a.min,o),a.max=Math.max(a.max,o),a.min=Math.min(a.min,r),a.max=Math.max(a.max,r))}aboveAxis(n){const e=n.value;return e.from<e.to}}dRe.prototype.plotLimits=nb.prototype.plotLimits;const PAt=dRe,uRe=class GAt extends ib{aliasFor(){return this.parent}};class TV extends Pi{constructor(n,e){super(),this.value=n,this.options=e,this.aboveAxis=sn(this.options.aboveAxis,!0),this.tooltipTracking=!0,this._id=CV(),this.initLabelsFormat()}render(){if(this._rendered)return;this._rendered=!0;const{markers:n,labels:e}=this.options,t=this.value,o=this.fromPoint=new uRe(t,W({},this.options,{labels:e.from,markers:n.from})),r=this.toPoint=new uRe(t,W({},this.options,{labels:e.to,markers:n.to}));this.copyFields(o),this.copyFields(r),this.append(o),this.append(r)}reflow(n){this.render();const{from:e,to:t}=n;this.positionLabels(e,t),this.fromPoint.reflow(e),this.toPoint.reflow(t),this.box=this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox())}createHighlight(){const n=new Pn;return n.append(this.fromPoint.createHighlight()),n.append(this.toPoint.createHighlight()),n}highlightVisual(){return this.visual}highlightVisualArgs(){return{options:this.options,from:this.fromPoint.highlightVisualArgs(),to:this.toPoint.highlightVisualArgs()}}createFocusHighlight(){const n=new Pn;return n.append(this.fromPoint.createFocusHighlight()),n.append(this.toPoint.createFocusHighlight()),n}tooltipAnchor(){const n=this.owner.pane.clipBox();if(!n||n.overlaps(this.box)){const t=this.box,o=t.center(),r=Un;let a,l,c;return this.options.vertical?(a=o.x,l=t.y1-5,c=mi):(a=t.x2+5,l=o.y,c=_n),{point:new on(a,l),align:{horizontal:r,vertical:c}}}}formatValue(n){return this.owner.formatPointValue(this,n)}overlapsBox(n){return this.box.overlaps(n)}unclipElements(){this.fromPoint.unclipElements(),this.toPoint.unclipElements()}initLabelsFormat(){const n=this.options.labels;n.format||((!n.from||!n.from.format)&&(n.from=Object.assign({},n.from,{format:"{0}"})),(!n.to||!n.to.format)&&(n.to=Object.assign({},n.to,{format:"{1}"})))}positionLabels(n,e){const{labels:t,vertical:o}=this.options;if("auto"===t.position){let r,a;o?e.y1<=n.y1?(a=hV,r="below"):(a="below",r=hV):e.x1<=n.x1?(a=Un,r=_i):(a=_i,r=Un),(!t.from||!t.from.position)&&(this.fromPoint.options.labels.position=r),(!t.to||!t.to.position)&&(this.toPoint.options.labels.position=a)}}copyFields(n){n.dataItem=this.dataItem,n.category=this.category,n.series=this.series,n.color=this.color,n.owner=this.owner}focusVisual(){this.fromPoint.focusVisual()}clearFocusFromVisual(){this.toPoint.clearFocusFromVisual()}getIndex(){return this.categoryIx}}W(TV.prototype,Qh),W(TV.prototype,Ik),TV.prototype.defaults={markers:{visible:!1,background:ri,size:8,type:zc,border:{width:2},opacity:1},labels:{visible:!1,margin:Ti(3),padding:Ti(4),animation:{type:XS,delay:Ku},position:"auto"},notes:{label:{}},highlight:{markers:{border:{color:ri,width:2}},zIndex:100},tooltip:{format:"{0} - {1}"},accessibility:{role:YS,className:JS,ariaRoleDescription:qS}};const pRe=TV,Lse=class BAt extends Ak{createStrokeSegments(){return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()))}stackSegments(){let n=this.fromSegments;return this.fromSegments||(n=this.fromSegments=this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()))),n}createStroke(n){const e=new lt(n),t=new lt(n);e.segments.push.apply(e.segments,this.strokeSegments()),t.segments.push.apply(t.segments,this.stackSegments()),this.visual.append(e),this.visual.append(t)}hasStackSegment(){return!0}fromPoints(){return this.linePoints.map(n=>n.fromPoint)}toPoints(){return this.linePoints.map(n=>n.toPoint)}},zAt=class VAt extends Lse{createStrokeSegments(){return this.createCurveSegments(this.toPoints())}stackSegments(){let n=this.fromSegments;return this.fromSegments||(n=this.fromSegments=this.createCurveSegments(this.fromPoints().reverse())),n}createCurveSegments(n){return(new cV).process(this.toGeometryPoints(n))}};class fRe extends Lse{createStrokeSegments(){return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()))}stackSegments(){let n=this.fromSegments;return this.fromSegments||(n=this.fromSegments=this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints())),n.reverse()),n}}W(fRe.prototype,Cse);const HAt=fRe;class mRe extends nb{render(){super.render(),this.renderSegments()}pointType(){return pRe}createPoint(n,e){const{series:t,seriesIx:o}=e;let r=n.valueFields;if(!$c(r.from)&&!$c(r.to)){if(this.seriesMissingValues(t)!==K_)return null;r={from:0,to:0}}let a=this.pointOptions(t,o);a=this.evalPointOptions(a,r,e);let l=n.fields.color||t.color;Fs(t.color)&&(l=a.color);const c=new pRe(r,a);return c.color=l,this.append(c),c}createSegment(n,e,t){const o=(e.line||{}).style;let r;return r="smooth"===o?zAt:"step"===o?HAt:Lse,new r(n,e,t)}plotRange(n,e){return n?[n.value.from,n.value.to]:[e,e]}valueSlot(n,e){const t=n.getSlot(e[0],e[0],!this.options.clip),o=n.getSlot(e[1],e[1],!this.options.clip);if(t&&o)return{from:t,to:o}}pointSlot(n,e){const{from:t,to:o}=e;let r,a;return this.options.invertAxes?(r=new Ve(t.x1,n.y1,t.x2,n.y2),a=new Ve(o.x1,n.y1,o.x2,n.y2)):(r=new Ve(n.x1,t.y1,n.x2,t.y2),a=new Ve(n.x1,o.y1,n.x2,o.y2)),{from:r,to:a}}addValue(n,e){const t=n.valueFields;Yn(t.from)||(t.from=t.to),Yn(t.to)||(t.to=t.from),super.addValue(n,e)}updateRange(n,e){if(null!==n&&Yn(n.from)&&Yn(n.to)){const t=e.series.axis,o=this.valueAxisRanges[t]=this.valueAxisRanges[t]||{min:zo,max:hr},{from:r,to:a}=n;o.min=Math.min(o.min,r,a),o.max=Math.max(o.max,r,a)}}formatPointValue(n,e){const t=n.value;return this.chartService.format.auto(e,t.from,t.to)}animationPoints(){const n=this.points,e=[];for(let t=0;t<n.length;t++){const o=n[t];o&&(e.push((o.fromPoint||{}).marker),e.push((o.toPoint||{}).marker))}return e.concat(this._segments)}}W(mRe.prototype,Ese,EV);const jAt=mRe,XAt=class $At extends kse{reflow(n){const{options:e,value:t,owner:o}=this,r=o.seriesValueAxis(e),a=[],l=[],c=[],u=r.getSlot(t.low,t.high),f=r.getSlot(t.open,t.open),_=r.getSlot(t.close,t.close);f.x1=_.x1=u.x1=n.x1,f.x2=_.x2=u.x2=n.x2;const S=u.center().x;a.push([f.x1,f.y1]),a.push([S,f.y1]),l.push([S,_.y1]),l.push([_.x2,_.y1]),c.push([S,u.y1]),c.push([S,u.y2]),this.lines=[a,l,c],this.box=u.clone().wrap(f.clone().wrap(_)),this.reflowNote()}createBody(){}},KAt=class WAt extends Ose{pointType(){return XAt}};class _Re extends Pi{constructor(n,e,t){super(),this.from=n,this.to=e,this.series=t}linePoints(){const n=this.from,{from:{box:e},to:{box:t}}=this,o=[];if(n.isVertical){const r=n.aboveAxis?e.y1:e.y2;o.push([e.x1,r],[t.x2,r])}else{const r=n.aboveAxis?e.x2:e.x1;o.push([r,e.y1],[r,t.y2])}return o}createVisual(){super.createVisual();const n=this.series.line||{},e=lt.fromPoints(this.linePoints(),{stroke:{color:n.color,width:n.width,opacity:n.opacity,dashType:n.dashType}});Vd(e),this.visual.append(e)}}De(_Re,{animation:{type:XS,delay:Ku}});const YAt=_Re,qAt=class JAt extends Sx{render(){super.render(),this.createSegments()}traverseDataPoints(n){const e=this.options.series,t=_se(e),o=!this.options.invertAxes;for(let r=0;r<e.length;r++){const a=e[r];let l=0,c=0;for(let u=0;u<t;u++){const f=vs.current.bindPoint(a,u),_=f.valueFields.value,S=f.fields.summary;let b,v=l;S?"total"===S.toLowerCase()?(f.valueFields.value=l,v=0,b=l):(f.valueFields.value=c,b=v-c,c=0):Yn(_)&&(c+=_,l+=_,b=l),n(f,{category:this.categoryAxis.categoryAt(u),categoryIx:u,series:a,seriesIx:r,total:l,runningTotal:c,from:v,to:b,isVertical:o})}}}updateRange(n,e){super.updateRange({value:e.to},e)}aboveAxis(n){return n.value>=0}plotRange(n){return[n.from,n.to]}createSegments(){const n=this.options.series,e=this.seriesPoints,t=this.segments=[];for(let o=0;o<n.length;o++){const r=n[o],a=e[o];if(a){let l;for(let c=0;c<a.length;c++){const u=a[c];if(u&&l){const f=new YAt(l,u,r);t.push(f),this.append(f)}l=u}}}}},gRe=function QAt(i,n,e){const t=i[String(n)];return t?t(e):null},ZS=function ZAt(i,n){let l,c,e=0,t=0,o=0,r=0,a=0,u=Number.MAX_VALUE,f=Number.MIN_VALUE;for(let _=0;_<i.length;_++){const S=i[_],{xValue:v,yValue:b}=n(S);isFinite(v)&&null!==v&&isFinite(b)&&null!==b&&(u=Math.min(v,u),f=Math.max(v,f),a++,e+=v,t+=b,o+=Math.pow(v,2),r+=v*b)}return a>0&&(l=(a*r-e*t)/(a*o-Math.pow(e,2)),c=(t-l*e)/a),{slope:l,intercept:c,count:a,xMin:u,xMax:f}},bx=(i,n)=>i.every(({valueFields:e})=>!$c(e[n])||e[n]>0),Ex=function ext(i,n){const e=[],t=n.totalRangeIndices(),o=n.currentRangeIndices(),r={min:Math.floor(Math.max(o.min-1,t.min)),max:Math.ceil(Math.min(o.max+2,t.max))};for(let a=r.min;a<r.max;a++){const l=a+1;e[a]={category:n.categoryAt(a,!0),value:i(l)}}return e},SRe=function pxt(i,n,e){const t=[],o=[],r=Math.max(2,e)-1;let a=0,l=0;for(let c=0;c<i.length;c++){const u=i[c],{xValue:f,yValue:_}=n(u);if(isFinite(_)&&null!==_?(o.push(_),l+=_,a=Math.max(c,a)):o.push(null),c>=r){const S=o.filter(b=>null!==b).length,v=o.shift()||0;if(S>0){t.push([f,l/S]),l-=v;continue}}t.push([f,null])}return t.slice(0,a+1)},CRe=function Cxt(i,n,e){let t=Math.min(Math.max(e||1,1),6)+1,o=new R3e,r=new R3e,a=0,l=Number.MAX_VALUE,c=Number.MIN_VALUE,u=_=>_,f=[];for(let _=0;_<i.length;_++){const S=i[_];let{xValue:v,yValue:b}=n(S);if(isFinite(v)&&null!==v&&isFinite(b)&&null!==b){l=Math.min(v,l),c=Math.max(v,c),a++,r.set(_,0,b),o.set(_,0,1),o.set(_,1,v);for(let D=2;D<=t;D++)o.set(_,D,Math.pow(o.get(_,1),D))}else o.set(_,0,0)}return o.width=Math.min(t,a),a>0&&(f=function bxt(i,n){const e=i.transpose(),t=e.multiply(i).inverse().multiply(e).multiply(n),o=[];for(let r=0;r<t.height;r++)o.push(t.get(r,0));return o}(o,r),u=_=>f.reduce((S,v,b)=>S+v*Math.pow(_,b),0)),{coefficients:f,count:a,valueMapper:u,xMin:l,xMax:c}},rb={};rb[sse]=function txt(i){const{options:n,categoryAxis:e,seriesValues:t}=i,o=function ixt({seriesValues:i,categoryAxis:n,options:e}){const t=i();if(!bx(t,e.field))return null;let{slope:o,intercept:r,count:a}=ZS(t,(i=>({categoryIx:n,valueFields:e})=>({xValue:n+1,yValue:Math.log(e[i])}))(e.field));if(a>0){const l=Math.exp(r),c=o;return Ex(u=>l*Math.exp(c*u),n)}return null}({seriesValues:t,categoryAxis:e,options:n});return o?Object.assign({},n,{type:"line",data:o,categoryField:"category",field:"value"}):null},rb[ose]=function oxt(i){const{options:n,categoryAxis:e,seriesValues:t}=i,o=function axt({seriesValues:i,categoryAxis:n,options:e}){const{slope:t,intercept:o,count:r}=ZS(i(),(i=>({categoryIx:n,valueFields:e})=>({xValue:n+1,yValue:e[i]}))(e.field));return r>0?Ex(a=>t*a+o,n):null}({seriesValues:t,categoryAxis:e,options:n});return o?Object.assign({},n,{type:"line",data:o,categoryField:"category",field:"value"}):null},rb[rse]=function cxt(i){const{options:n,categoryAxis:e,seriesValues:t}=i,o=function uxt({seriesValues:i,categoryAxis:n,options:e}){let{slope:t,intercept:o,count:r}=ZS(i(),(i=>({categoryIx:n,valueFields:e})=>({xValue:Math.log(n+1),yValue:e[i]}))(e.field));if(r>0){const a=t,l=o;return Ex(c=>a*Math.log(c)+l,n)}return null}({seriesValues:t,categoryAxis:e,options:n});return o?Object.assign({},n,{type:"line",data:o,categoryField:"category",field:"value"}):null},rb[ase]=function fxt(i){const{options:n}=i,e=function gxt(i){const{categoryAxis:n}=i,e=function _xt({options:i,categoryAxis:n,seriesValues:e}){const t=(i.trendline||{}).period||2,o=n.totalRangeIndices(),r=n.currentRangeIndices(),a={min:Math.floor(Math.max(r.min-t,o.min)),max:Math.ceil(Math.min(r.max+t+2,o.max))};return SRe(e(a),(i=>({categoryIx:n,valueFields:e})=>({xValue:n,yValue:e[i]}))(i.field),t)}(i),t=[];return e.forEach(([o,r])=>{t[o]={category:n.categoryAt(o,!0),value:r}}),t.length>0?t:null}(i);return e?Object.assign({},n,{type:"line",data:e,categoryField:"category",field:"value"}):null},rb[lse]=function Ext(i){const{options:n,categoryAxis:e,seriesValues:t}=i,o=function Dxt({seriesValues:i,categoryAxis:n,options:e}){const t=(e.trendline||{}).order,{count:o,valueMapper:r}=CRe(i(),(i=>({categoryIx:n,valueFields:e})=>({xValue:n+1,yValue:e[i]}))(e.field),t);return o>0?Ex(a=>r(a),n):null}({seriesValues:t,categoryAxis:e,options:n});return o?Object.assign({},n,{type:"line",data:o,categoryField:"category",field:"value"}):null},rb[cse]=function kxt(i){const{options:n,categoryAxis:e,seriesValues:t}=i,o=function Txt({seriesValues:i,categoryAxis:n,options:e}){const t=i();if(!bx(t,e.field))return null;let{slope:o,intercept:r,count:a}=ZS(t,(i=>({categoryIx:n,valueFields:e})=>({xValue:Math.log(n+1),yValue:Math.log(e[i])}))(e.field));if(a>0){const l=Math.exp(r),c=o;return Ex(u=>l*Math.pow(u,c),n)}return null}({seriesValues:t,categoryAxis:e,options:n});return o?Object.assign({},n,{type:"line",data:o,categoryField:"category",field:"value"}):null};const Ixt=rb,Pse=[Y_,Q0,yk,eb],bRe=[J_,Z0].concat(Pse);class Gse extends QS{initFields(n){if(this.namedCategoryAxes={},this.namedValueAxes={},this.valueAxisRangeTracker=new yV,this._seriesPointsCache={},this._currentPointsCache={},n.length>0){this.invertAxes=Rn(n[0].type,[Yu,WS,Z0,Q0,eb,Dk,Ck,wk]);for(let e=0;e<n.length;e++){const t=n[e].stack;if(t&&"100%"===t.type){this.stack100=!0;break}}}}render(n=this.panes){this.series=[...this.originalSeries],this.createCategoryAxes(n),this.aggregateCategories(n),this.createTrendlineSeries(n),this.createCategoryAxesLabels(n),this.createCharts(n),this.createValueAxes(n)}removeAxis(n){const e=n.options.name;super.removeAxis(n),n instanceof X_?delete this.namedCategoryAxes[e]:(this.valueAxisRangeTracker.reset(e),delete this.namedValueAxes[e]),n===this.categoryAxis&&delete this.categoryAxis,n===this.valueAxis&&delete this.valueAxis}trendlineFactory(n,e){const t=this.seriesCategoryAxis(n),o=this.seriesValues.bind(this,e.index),r=gRe(Ixt,n.type,{options:n,categoryAxis:t,seriesValues:o});return r&&(r.categoryAxis=e.categoryAxis,r.valueAxis=e.valueAxis,this.filterSeries(r,t))}trendlineAggregateForecast(){return this.series.map(n=>(n.trendline||{}).forecast).filter(n=>void 0!==n).reduce((n,e)=>({before:Math.max(n.before,e.before||0),after:Math.max(n.after,e.after||0)}),{before:0,after:0})}seriesValues(n,e){const t=[];let o=this.srcSeries[n];const r=this.seriesCategoryAxis(o);Q_(r.options.type,z_)&&(this._seriesPointsCache={},this._currentPointsCache={},r.options.dataItems=[],o=this.aggregateSeries(o,r,r.totalRangeIndices()));const c=e?e.max:o.data.length;for(let u=e?e.min:0;u<c;u++){const f=this.bindPoint(o,u);t.push({categoryIx:u,category:f.fields.category,valueFields:f.valueFields})}return t}createCharts(n){const e=this.groupSeriesByPane();for(let t=0;t<n.length;t++){const o=n[t],r=e[o.options.name||"default"]||[];this.addToLegend(r);const a=this.filterVisibleSeries(r);if(!a)continue;const l=this.groupSeriesByCategoryAxis(a);for(let c=0;c<l.length;c++)this.createChartGroup(l[c],o)}}createChartGroup(n,e){this.createAreaChart(no(n,[Y_,Q0]),e),this.createRangeAreaChart(no(n,[yk,eb]),e),this.createBarChart(no(n,[Wf,Yu]),e),this.createRangeBarChart(no(n,[cx,Dk]),e),this.createBulletChart(no(n,[WS,dx]),e),this.createCandlestickChart(no(n,vk),e),this.createBoxPlotChart(no(n,[ox,wk]),e),this.createOHLCChart(no(n,bk),e),this.createWaterfallChart(no(n,[ux,Ck]),e),this.createLineChart(no(n,[J_,Z0]),e)}aggregateCategories(n){const e=[...this.series],t=[];this._currentPointsCache={},this._seriesPointsCache=this._seriesPointsCache||{};for(let o=0;o<e.length;o++){let r=e[o];if(!this.isTrendline(r)){const a=this.seriesCategoryAxis(r),l=this.findPane(a.options.pane);r=(Q_(a.options.type,z_)||r.categoryField)&&Rn(l,n)?this.aggregateSeries(r,a,a.currentRangeIndices()):this.filterSeries(r,a)}t.push(r)}this._seriesPointsCache=this._currentPointsCache,this._currentPointsCache=null,this.srcSeries=e,this.series=t}filterSeries(n,e){const t=(n.data||{}).length;if(e._seriesMax=Math.max(e._seriesMax||0,t),!ge(e.options.min)&&!ge(e.options.max))return n;const o=e.currentRangeIndices(),r=Rn(n.type,bRe),a=W({},n);return a.data=(a.data||[]).slice(o.min,o.max+1),r&&VIe(a,o,t,l=>({item:n.data[l],category:e.categoryAt(l,!0),categoryIx:l-o.min}),l=>ge(n.data[l])),a}clearSeriesPointsCache(){this._seriesPointsCache={}}seriesSourcePoints(n,e){const t=`${n.index};${e.categoriesHash()}`;if(this._seriesPointsCache&&this._seriesPointsCache[t])return this._currentPointsCache[t]=this._seriesPointsCache[t],this._seriesPointsCache[t];const o=e.options,r=o.srcCategories,a=Q_(o.type,z_),l=n.data,c=[];a||e.indexCategories();for(let u=0;u<l.length;u++){let f=vs.current.bindPoint(n,u).fields.category;if(a&&(f=UIe(f,l[u],this.chartService.intl)),ge(f)||(f=r[u]),ge(f)&&null!==f){const _=e.totalIndex(f);c[_]=c[_]||{items:[],category:f},c[_].items.push(u)}}return this._currentPointsCache[t]=c,c}aggregateSeries(n,e,t){if(!n.data.length)return n;const r=this.seriesSourcePoints(n,e),a=W({},n),l=new NAt(W({},n),vs.current,ob.current),c=a.data=[],u=e.options.dataItems||[],f=_=>{const S=_-t.min;let v=r[_];if(v||(v=r[_]={}),v.categoryIx=S,!v.item){const b=e.categoryAt(_,!0);v.category=b,v.item=l.aggregatePoints(v.items,b)}return v};for(let _=t.min;_<=t.max;_++){const S=f(_);c[S.categoryIx]=S.item,S.items&&S.items.length&&(u[S.categoryIx]=S.item)}return Rn(a.type,bRe)&&VIe(a,t,e.totalCount(),f,_=>r[_]),e.options.dataItems=u,a}appendChart(n,e){const t=n.options.series,o=this.seriesCategoryAxis(t[0]);let r=o.options.categories,a=Math.max(0,_se(t)-r.length);if(a>0)for(r=o.options.categories=o.options.categories.slice(0);a--;)r.push("");this.valueAxisRangeTracker.update(n.valueAxisRanges),super.appendChart(n,e)}seriesPaneName(n){const e=this.options,t=n.axis;return(zd([].concat(e.valueAxis),function(u){return u.name===t})[0]||{}).pane||((e.panes||[{}])[0]||{}).name||"default"}seriesCategoryAxis(n){const e=n.categoryAxis,t=e?this.namedCategoryAxes[e]:this.categoryAxis;if(!t)throw new Error("Unable to locate category axis with name "+e);return t}stackableChartOptions(n,e){const t=n.some(a=>a.stack),o=n.some(a=>a.stack&&"100%"===a.stack.type);return{defaultStack:n[0].stack,isStacked:t,isStacked100:o,clip:e.options.clip}}groupSeriesByCategoryAxis(n){const e=[],t={};for(let r=0;r<n.length;r++){const a=n[r].categoryAxis||"$$default$$";hk(t,a)||(t[a]=!0,e.push(a))}const o=[];for(let r=0;r<e.length;r++){const l=Rxt(n,e[r],r);0!==l.length&&o.push(l)}return o}createBarChart(n,e){if(0===n.length)return;const t=n[0],o=new Sx(this,Object.assign({series:n,invertAxes:this.invertAxes,gap:t.gap,spacing:t.spacing},this.stackableChartOptions(n,e)));this.appendChart(o,e)}createRangeBarChart(n,e){if(0===n.length)return;const t=n[0],o=new PAt(this,{series:n,invertAxes:this.invertAxes,gap:t.gap,spacing:t.spacing});this.appendChart(o,e)}createBulletChart(n,e){if(0===n.length)return;const t=n[0],o=new EAt(this,{series:n,invertAxes:this.invertAxes,gap:t.gap,spacing:t.spacing,clip:e.options.clip});this.appendChart(o,e)}createLineChart(n,e){if(0===n.length)return;const t=new Dse(this,Object.assign({invertAxes:this.invertAxes,series:n},this.stackableChartOptions(n,e)));this.appendChart(t,e)}createAreaChart(n,e){if(0===n.length)return;const t=new lAt(this,Object.assign({invertAxes:this.invertAxes,series:n},this.stackableChartOptions(n,e)));this.appendChart(t,e)}createRangeAreaChart(n,e){if(0===n.length)return;const t=new jAt(this,{invertAxes:this.invertAxes,series:n,clip:e.options.clip});this.appendChart(t,e)}createOHLCChart(n,e){if(0===n.length)return;const t=n[0],o=new KAt(this,{invertAxes:this.invertAxes,gap:t.gap,series:n,spacing:t.spacing,clip:e.options.clip});this.appendChart(o,e)}createCandlestickChart(n,e){if(0===n.length)return;const t=n[0],o=new Ose(this,{invertAxes:this.invertAxes,gap:t.gap,series:n,spacing:t.spacing,clip:e.options.clip});this.appendChart(o,e)}createBoxPlotChart(n,e){if(0===n.length)return;const t=n[0],o=new mAt(this,{invertAxes:this.invertAxes,gap:t.gap,series:n,spacing:t.spacing,clip:e.options.clip});this.appendChart(o,e)}createWaterfallChart(n,e){if(0===n.length)return;const t=n[0],o=new qAt(this,{series:n,invertAxes:this.invertAxes,gap:t.gap,spacing:t.spacing});this.appendChart(o,e)}axisRequiresRounding(n,e){const t=no(this.series,EIe);for(let o=0;o<this.series.length;o++){const r=this.series[o];if(Rn(r.type,Pse)){const a=r.line;a&&a.style===sx&&t.push(r)}}for(let o=0;o<t.length;o++){const r=t[o].categoryAxis||"";if(r===n||!r&&0===e)return!0}}aggregatedAxis(n,e){const t=this.series;for(let o=0;o<t.length;o++){const r=t[o].categoryAxis||"";if((r===n||!r&&0===e)&&t[o].categoryField)return!0}}createCategoryAxesLabels(){const n=this.axes;for(let e=0;e<n.length;e++)n[e]instanceof X_&&n[e].createLabels()}createCategoryAxes(n){const e=this.invertAxes,t=[].concat(this.options.categoryAxis),o=[];for(let a=0;a<t.length;a++){let l=t[a];if(Rn(this.findPane(l.pane),n)){const{name:u,categories:f=[]}=l;let _;if(l=W({vertical:e,reverse:!e&&this.chartService.rtl,axisCrossingValue:e?zo:0},l),ge(l.justified)||(l.justified=this.isJustified()),this.axisRequiresRounding(u,a)&&(l.justified=!1),FIe(l,f[0])?(l._forecast=this.trendlineAggregateForecast(),_=new tV(l,this.chartService)):_=new X_(l,this.chartService),t[a].categories=_.options.srcCategories,u){if(this.namedCategoryAxes[u])throw new Error(`Category axis with name ${u} is already defined`);this.namedCategoryAxes[u]=_}_.axisIndex=a,o.push(_),this.appendAxis(_)}}const r=this.categoryAxis||o[0];this.categoryAxis=r,e?this.axisY=r:this.axisX=r}isJustified(){const n=this.series;for(let e=0;e<n.length;e++)if(!Rn(n[e].type,Pse))return!1;return!0}createValueAxes(n){const e=this.valueAxisRangeTracker,t=e.query(),o=[].concat(this.options.valueAxis),r=this.invertAxes,a={vertical:!r,reverse:r&&this.chartService.rtl},l=[];this.stack100&&(a.roundToMajorUnit=!1,a.labels={format:"P0"});for(let u=0;u<o.length;u++){const f=o[u];if(Rn(this.findPane(f.pane),n)){const S=f.name,v=Q_(f.type,_V)?{min:.1,max:1}:{min:0,max:1},b=e.query(S)||t||v;let D;0===u&&b&&t&&(b.min=Math.min(b.min,t.min),b.max=Math.max(b.max,t.max)),D=Q_(f.type,_V)?aV:Wu;const k=new D(b.min,b.max,W({},a,f),this.chartService);if(S){if(this.namedValueAxes[S])throw new Error(`Value axis with name ${S} is already defined`);this.namedValueAxes[S]=k}k.axisIndex=u,l.push(k),this.appendAxis(k)}}const c=this.valueAxis||l[0];this.valueAxis=c,r?this.axisX=c:this.axisY=c}_dispatchEvent(n,e,t){const o=n._eventCoordinates(e),r=new on(o.x,o.y),a=this.pointPane(r),l=[],c=[];if(!a)return;const u=a.axes;for(let f=0;f<u.length;f++){const _=u[f];_.getValue?vV(c,_.getValue(r)):vV(l,_.getCategory(r))}0===l.length&&vV(l,this.categoryAxis.getCategory(r)),l.length>0&&c.length>0&&n.trigger(t,{element:Kh(e),originalEvent:e,category:Mk(l),value:Mk(c)})}pointPane(n){const e=this.panes;for(let t=0;t<e.length;t++){const o=e[t];if(o.contentBox.containsPoint(n))return o}}updateAxisOptions(n,e){ERe(this.options,n,e),ERe(this.originalOptions,n,e)}_pointsByVertical(n,e=0){return this.invertAxes?this._siblingsBySeriesIndex(n.series.index,e):this._siblingsByPointIndex(n.getIndex())}_pointsByHorizontal(n,e=0){if(this.invertAxes)return this._siblingsByPointIndex(n.getIndex());const t=this._siblingsBySeriesIndex(n.series.index,e);return this.chartService.rtl?t.reverse():t}_siblingsByPointIndex(n){const e=this.charts,t=[];for(let o=0;o<e.length;o++){let r=e[o];if(r.pane&&"_navigator"===r.pane.options.name)continue;let a=r.points.filter(l=>l&&!1!==l.visible&&l.getIndex()===n);t.push(...a.sort(this._getSeriesCompareFn(a[0])))}return t}_siblingsBySeriesIndex(n,e){const t=LB(n+e,this.series.length);return this.pointsBySeriesIndex(t)}_getSeriesCompareFn(n){const e=this._isInStackedSeries(n);return e&&this.invertAxes||!e&&!this.invertAxes?(t,o)=>t.box.center().x-o.box.center().x:(t,o)=>t.box.center().y-o.box.center().y}_isInStackedSeries(n){const e=Rn(n.series.type,[Y_,Q0,yk,eb,J_,Z0,Ek,lx]),t=Rn(n.series.type,[Wf,Yu]);return e||t&&n.options.isStacked}}function ERe(i,n,e){W([].concat(n instanceof X_?i.categoryAxis:i.valueAxis)[n.axisIndex],e)}function Rxt(i,n,e){return zd(i,function(t){return 0===e&&!t.categoryAxis||t.categoryAxis===n})}De(Gse,{categoryAxis:{},valueAxis:{}}),W(Gse.prototype,Cx);const eg=Gse;function yRe(i){return"function"==typeof i}function DRe(i){return"string"==typeof i?[i]:i}function xxt(){this._defaultPrevented=!0}function Nxt(){return!0===this._defaultPrevented}const Lxt=class Axt extends pt{constructor(){super(),this._events={}}bind(n,e,t){const o=DRe(n),r=yRe(e),a=o.length;if(void 0===e){for(let l in n)this.bind(l,n[l]);return this}for(let l=0;l<a;l++){const c=o[l];let u=r?e:e[c];if(u){if(t){const _=u;u=()=>{this.unbind(c,u),_.apply(this,arguments)},u.original=_}(this._events[c]=this._events[c]||[]).push(u)}}return this}one(n,e){return this.bind(n,e,!0)}first(n,e){const t=DRe(n),o=yRe(e);for(let r=0,a=t.length;r<a;r++){const l=t[r],c=o?e:e[l];c&&(this._events[l]=this._events[l]||[]).unshift(c)}return this}trigger(n,e={}){let t=this._events[n];if(t){const o=t.length;e.sender=this,e._defaultPrevented=!1,e.preventDefault=xxt,e.isDefaultPrevented=Nxt,t=t.slice();for(let r=0;r<o;r++)t[r].call(this,e);return!0===e._defaultPrevented}return!1}unbind(n,e){const t=this._events[n];if(void 0===n)this._events={};else if(t)if(e)for(let o=t.length-1;o>=0;o--)(t[o]===e||t[o].original===e)&&t.splice(o,1);else this._events[n]=[];return this}},Gxt=/matrix\((.*)\)/;function wRe(i){const n=getComputedStyle(i).transform;return"none"===n?sa.unit():function Uxt(i){const n=i.match(Gxt);if(null===n||2!==n.length)return sa.unit();const e=n[1].split(",").map(t=>parseFloat(t));return new sa(...e)}(n)}const Bxt=["click","mouseenter","mouseleave","mousemove","resize"],Use=class Vxt extends Lxt{constructor(n,e){super(),this.options=Object.assign({},e),this.element=n,this.element._kendoExportVisual=this.exportVisual.bind(this),this._click=this._handler("click"),this._mouseenter=this._handler("mouseenter"),this._mouseleave=this._handler("mouseleave"),this._mousemove=this._handler("mousemove"),this._visual=new Pn,UI(n,this.options),this.bind(Bxt,this.options),this._enableTracking()}draw(n){this._visual.children.push(n)}clear(){this._visual.children=[]}destroy(){this._visual=null,this.element._kendoExportVisual=null,this.unbind()}eventTarget(n){let t,e=x1e(n);for(;!t&&e&&(t=e._kendoNode,e!==this.element);)e=e.parentElement;if(t)return t.srcElement}exportVisual(){return this._visual}getSize(){return UI(this.element)}currentSize(n){if(!n)return this._size;this._size=n}setSize(n){UI(this.element,n),this.currentSize(n),this._resize()}resize(n){const e=this.getSize(),t=this.currentSize();(n||(e.width>0||e.height>0)&&(!t||e.width!==t.width||e.height!==t.height))&&(this.currentSize(e),this._resize(e,n),this.trigger("resize",e))}size(n){if(!n)return this.getSize();this.setSize(n)}suspendTracking(){this._suspendedTracking=!0}resumeTracking(){this._suspendedTracking=!1}_enableTracking(){}_resize(){}_handler(n){return e=>{const t=this.eventTarget(e);t&&!this._suspendedTracking&&this.trigger(n,{element:t,originalEvent:e,type:n})}}_elementOffset(){const n=this.element,e=function Pxt(i){const{paddingLeft:n,paddingTop:e}=uq(i,["paddingLeft","paddingTop"]);return{top:parseFloat(e),left:parseFloat(n)}}(n),{left:t,top:o}=N1e(n);return{left:t+e.left,top:o+e.top}}_surfacePoint(n){const e=this._elementOffset(),t=A1e(n),o=t.x-e.left,r=t.y-e.top,a=function Fxt(i){if(!i)return sa.unit();let n=wRe(i),e=i.parentElement;for(;e;){const t=wRe(e);n=n.multiplyCopy(t),e=e.parentElement}return n.b=n.c=n.e=n.f=0,n}(this.element).invert();return new Ie(o,r).transform(a)}},MV=class zxt extends pt{constructor(n){super(),this.childNodes=[],this.parent=null,n&&(this.srcElement=n,this.observe())}destroy(){this.srcElement&&this.srcElement.removeObserver(this);const n=this.childNodes;for(let e=0;e<n.length;e++)this.childNodes[e].destroy();this.parent=null}load(){}observe(){this.srcElement&&this.srcElement.addObserver(this)}append(n){this.childNodes.push(n),n.parent=this}insertAt(n,e){this.childNodes.splice(e,0,n),n.parent=this}remove(n,e){const t=n+e;for(let o=n;o<t;o++)this.childNodes[o].removeSelf();this.childNodes.splice(n,e)}removeSelf(){this.clear(),this.destroy()}clear(){this.remove(0,this.childNodes.length)}invalidate(){this.parent&&this.parent.invalidate()}geometryChange(){this.invalidate()}optionsChange(){this.invalidate()}childrenChange(n){"add"===n.action?this.load(n.items,n.index):"remove"===n.action&&this.remove(n.index,n.items.length),this.invalidate()}};function Xc(i,n){return jt(n)&&null!==n?` ${i}="${n}" `:""}function ab(i){let n="";for(let e=0;e<i.length;e++)n+=Xc(i[e][0],i[e][1]);return n}function kRe(i){let n="";for(let e=0;e<i.length;e++){let t=i[e][1];jt(t)&&(n+=i[e][0]+":"+t+";")}if(""!==n)return n}const tg={},yx="http://www.w3.org/2000/svg",IV="none",RV="data-style",ORe=i=>i.replace(/\sstyle=/g," "+RV+"="),TRe=i=>{Array.from(i.querySelectorAll("["+RV+"]")).forEach(n=>{const e=n.getAttribute(RV);n.removeAttribute(RV),((i,n)=>{i.split(";").filter(e=>""!==e).forEach(e=>{const t=e.split(":");n.style[t[0].trim()]=t[1].trim()})})(e,n)})};let MRe=function(i,n){i.innerHTML=ORe(n),TRe(i)};if(typeof document<"u"){const i="<svg xmlns='"+yx+"'></svg>",n=document.createElement("div"),e=typeof DOMParser<"u";n.innerHTML=i,e&&n.firstChild.namespaceURI!==yx&&(MRe=function(t,o){const a=(new DOMParser).parseFromString(ORe(o),"text/xml");TRe(a);const l=document.adoptNode(a.documentElement);t.innerHTML="",t.appendChild(l)})}const IRe=MRe,AV={clip:"clip-path",fill:"fill"};function ARe(i,n){return"clip"===i||"fill"===i&&(!n||"Gradient"===n.nodeType)}const lb=class $xt extends MV{constructor(n,e){super(n),this.definitions={},this.options=e}destroy(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),super.destroy()}load(n,e){for(let t=0;t<n.length;t++){const o=n[t],r=o.children,a=new tg[o.nodeType](o,this.options);jt(e)?this.insertAt(a,e):this.append(a),a.createDefinitions(),r&&r.length>0&&a.load(r);const l=this.element;l&&a.attachTo(l,e)}}root(){let n=this;for(;n.parent;)n=n.parent;return n}attachTo(n,e){const t=document.createElement("div");IRe(t,"<svg xmlns='"+yx+"' version='1.1'>"+this.render()+"</svg>");const o=t.firstChild.firstChild;o&&(jt(e)?n.insertBefore(o,n.childNodes[e]||null):n.appendChild(o),this.setElement(o))}setElement(n){this.element&&(this.element._kendoNode=null),this.element=n,this.element._kendoNode=this;const e=this.childNodes;for(let t=0;t<e.length;t++)e[t].setElement(n.childNodes[t])}clear(){this.clearDefinitions(),this.element&&(this.element.innerHTML="");const n=this.childNodes;for(let e=0;e<n.length;e++)n[e].destroy();this.childNodes=[]}removeSelf(){if(this.element){const n=this.element.parentNode;n&&n.removeChild(this.element),this.element=null}super.removeSelf()}template(){return this.renderChildren()}render(){return this.template()}renderChildren(){const n=this.childNodes;let e="";for(let t=0;t<n.length;t++)e+=n[t].render();return e}optionsChange(n){const{field:e,value:t}=n;"visible"===e?this.css("display",t?"":IV):AV[e]&&ARe(e,t)?this.updateDefinition(e,t):"opacity"===e?this.attr("opacity",t):"cursor"===e?this.css("cursor",t):"id"===e&&(t?this.attr("id",t):this.removeAttr("id")),super.optionsChange(n)}accessibilityOptionsChange(n){const{field:e,value:t}=n;"role"===e?t?this.attr("role",t):this.removeAttr("role"):"ariaLabel"===e?t?this.attr("aria-label",t):this.removeAttr("aria-label"):"ariaRoleDescription"===e?t?this.attr("aria-roledescription",t):this.removeAttr("aria-roledescription"):"ariaChecked"===e?jt(t)?this.attr("aria-checked",t):this.removeAttr("aria-checked"):"className"===e&&this.className(t)}attr(n,e){this.element&&this.element.setAttribute(n,e)}allAttr(n){for(let e=0;e<n.length;e++)this.attr(n[e][0],n[e][1])}toggleAttr(n,e){e?this.attr(n,e):this.removeAttr(n)}css(n,e){this.element&&(this.element.style[n]=e)}allCss(n){for(let e=0;e<n.length;e++)this.css(n[e][0],n[e][1])}className(n){this.element&&(this.element.classList.remove(...this.element.classList),n.split(" ").forEach(e=>{this.element.classList.add(e)}))}removeAttr(n){this.element&&this.element.removeAttribute(n)}mapTransform(n){const e=[];return n&&e.push(["transform","matrix("+n.matrix().toString(6)+")"]),e}renderTransform(){return ab(this.mapTransform(this.srcElement.transform()))}transformChange(n){n?this.allAttr(this.mapTransform(n)):this.removeAttr("transform")}mapStyle(){const n=this.srcElement.options,e=[["cursor",n.cursor]];return!1===n.visible&&e.push(["display",IV]),e}renderStyle(){return Xc("style",kRe(this.mapStyle(!0)))}renderOpacity(){return Xc("opacity",this.srcElement.options.opacity)}renderId(){return Xc("id",this.srcElement.options.id)}renderClassName(){return Xc("class",this.srcElement.options.className)}renderRole(){return Xc("role",this.srcElement.options.role)}renderAriaLabel(){return Xc("aria-label",this.srcElement.options.ariaLabel)}renderAriaRoleDescription(){return Xc("aria-roledescription",this.srcElement.options.ariaRoleDescription)}renderAriaChecked(){return Xc("aria-checked",this.srcElement.options.ariaChecked)}createDefinitions(){const n=this.srcElement,e=this.definitions;if(n){const t=n.options;let o;for(let r in AV){let a=t.get(r);a&&ARe(r,a)&&(e[r]=a,o=!0)}o&&this.definitionChange({action:"add",definitions:e})}}definitionChange(n){this.parent&&this.parent.definitionChange(n)}updateDefinition(n,e){const t=this.definitions,o=t[n],r=AV[n],a={};o&&(a[n]=o,this.definitionChange({action:"remove",definitions:a}),delete t[n]),e?(a[n]=e,this.definitionChange({action:"add",definitions:a}),t[n]=e,this.attr(r,this.refUrl(e.id))):o&&this.removeAttr(r)}clearDefinitions(){this.definitionChange({action:"remove",definitions:this.definitions}),this.definitions={}}renderDefinitions(){return ab(this.mapDefinitions())}mapDefinitions(){const n=this.definitions,e=[];for(let t in n)e.push([AV[t],this.refUrl(n[t].id)]);return e}refUrl(n){const e=(this.options||{}).skipBaseHref,t=this.baseUrl().replace(/'/g,"\\'");return`url(${e?"":t}#${n})`}baseUrl(){return function jxt(){const i=document.getElementsByTagName("base")[0];let n=document.location.href,e="";if(i&&!(Rh.browser||{}).msie){const t=n.indexOf("#");-1!==t&&(n=n.substring(0,t)),e=n}return e}()}},Wxt=class Xxt extends lb{template(){return`<stop ${this.renderOffset()} ${this.renderStyle()} />`}renderOffset(){return Xc("offset",this.srcElement.offset())}mapStyle(){const n=this.srcElement;return[["stop-color",n.color()],["stop-opacity",n.opacity()]]}optionsChange(n){"offset"===n.field?this.attr(n.field,n.value):("color"===n.field||"opacity"===n.field)&&this.css("stop-"+n.field,n.value)}},xRe=class Kxt extends lb{constructor(n){super(n),this.id=n.id,this.loadStops()}loadStops(){const n=this.srcElement.stops,e=this.element;for(let t=0;t<n.length;t++){let o=new Wxt(n[t]);this.append(o),e&&o.attachTo(e)}}optionsChange(n){"gradient.stops"===n.field?(MV.prototype.clear.call(this),this.loadStops()):"gradient"===n.field&&this.allAttr(this.mapCoordinates())}renderCoordinates(){return ab(this.mapCoordinates())}mapSpace(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}},Jxt=class Yxt extends xRe{template(){return`<linearGradient id='${this.id}' ${this.renderCoordinates()}>${this.renderChildren()}</linearGradient>`}mapCoordinates(){const n=this.srcElement,e=n.start(),t=n.end();return[["x1",e.x],["y1",e.y],["x2",t.x],["y2",t.y],this.mapSpace()]}},Qxt=class qxt extends xRe{template(){return`<radialGradient id='${this.id}' ${this.renderCoordinates()}>${this.renderChildren()}</radialGradient>`}mapCoordinates(){const n=this.srcElement,e=n.center(),t=n.radius();return[["cx",e.x],["cy",e.y],["r",t],this.mapSpace()]}},e4t=class Zxt extends lb{constructor(n){super(),this.srcElement=n,this.id=n.id,this.load([n])}renderClipRule(){return Xc("clip-rule","evenodd")}template(){return`<clipPath ${this.renderClipRule()} id='${this.id}'>${this.renderChildren()}</clipPath>`}},n4t=class t4t extends lb{constructor(){super(),this.definitionMap={}}attachTo(n){this.element=n}template(){return`<defs>${this.renderChildren()}</defs>`}definitionChange(n){const{definitions:e,action:t}=n;"add"===t?this.addDefinitions(e):"remove"===t&&this.removeDefinitions(e)}createDefinition(n,e){let t;return"clip"===n?t=e4t:"fill"===n&&(e instanceof LF?t=Jxt:e instanceof FF&&(t=Qxt)),new t(e)}addDefinitions(n){for(let e in n)this.addDefinition(e,n[e])}addDefinition(n,e){const{element:t,definitionMap:o}=this,r=e.id,a=o[r];if(a)a.count++;else{const l=this.createDefinition(n,e);o[r]={element:l,count:1},this.append(l),t&&l.attachTo(this.element)}}removeDefinitions(n){for(let e in n)this.removeDefinition(n[e])}removeDefinition(n){const e=this.definitionMap,t=n.id,o=e[t];o&&(o.count--,0===o.count&&(this.remove(this.childNodes.indexOf(o.element),1),delete e[t]))}},NRe=class i4t extends lb{constructor(n){super(),this.options=n,this.defs=new n4t}attachTo(n){this.element=n,this.defs.attachTo(n.firstElementChild)}clear(){MV.prototype.clear.call(this)}template(){return this.defs.render()+this.renderChildren()}definitionChange(n){this.defs.definitionChange(n)}},LRe={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},s4t={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},cb=class o4t extends lb{geometryChange(){this.attr("d",this.renderData()),this.invalidate()}optionsChange(n){switch(n.field){case"fill":n.value?this.allAttr(this.mapFill(n.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:n.value}));break;case"stroke":n.value?this.allAttr(this.mapStroke(n.value)):this.removeAttr("stroke");break;case"transform":this.transformChange(n.value);break;default:const e=s4t[n.field];e&&this.attr(e,n.value)}this.accessibilityOptionsChange(n),super.optionsChange(n)}content(){this.element&&(this.element.textContent=this.srcElement.content())}renderData(){return this.srcElement.toString(3)||void 0}mapStroke(n){const e=[];return n&&!Dw(n.color)?(e.push(["stroke",n.color]),e.push(["stroke-width",n.width]),e.push(["stroke-linecap",this.renderLinecap(n)]),e.push(["stroke-linejoin",n.lineJoin]),jt(n.opacity)&&e.push(["stroke-opacity",n.opacity]),jt(n.dashType)&&e.push(["stroke-dasharray",this.renderDashType(n)])):e.push(["stroke",IV]),e}renderStroke(){return ab(this.mapStroke(this.srcElement.options.stroke))}renderDashType(n){const{dashType:e,width:t=1}=n;if(e&&"solid"!==e){const o=LRe[e.toLowerCase()],r=[];for(let a=0;a<o.length;a++)r.push(o[a]*t);return r.join(" ")}}renderLinecap(n){const{dashType:e,lineCap:t}=n;return e&&"solid"!==e?"butt":t}mapFill(n){const e=[];return n&&"Gradient"===n.nodeType||(n&&!Dw(n.color)?(e.push(["fill",n.color]),jt(n.opacity)&&e.push(["fill-opacity",n.opacity])):e.push(["fill",IV])),e}renderFill(){return ab(this.mapFill(this.srcElement.options.fill))}template(){return`<path ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()} ${Xc("d",this.renderData())}${this.renderStroke()}${this.renderFill()}${this.renderDefinitions()}${this.renderTransform()}${this.renderClassName()} ${this.renderRole()}${this.renderAriaLabel()} ${this.renderAriaRoleDescription()}${this.renderAriaChecked()} ></path>`}},h4t=/&/g,p4t=/</g,f4t=/"/g,m4t=/'/g,_4t=/>/g;function Vse(i){return String(i).replace(h4t,"&amp;").replace(p4t,"&lt;").replace(_4t,"&gt;").replace(f4t,"&quot;").replace(m4t,"&#39;")}const zse=/&(?:[a-zA-Z]+|#\d+);/g;function Hse(i){if(!i||"string"!=typeof i||!zse.test(i))return i;const n=Hse._element;return zse.lastIndex=0,i.replace(zse,e=>(n.innerHTML=e,n.textContent||n.innerText))}typeof document<"u"&&(Hse._element=document.createElement("span"));tg.Arc=class r4t extends cb{renderData(){return this.srcElement.toPath().toString(3)}},tg.Circle=class l4t extends cb{geometryChange(){const n=this.center();this.attr("cx",n.x),this.attr("cy",n.y),this.attr("r",this.radius()),this.invalidate()}center(){return this.srcElement.geometry().center}radius(){return this.srcElement.geometry().radius}template(){return`<circle ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()}cx='${this.center().x}' cy='${this.center().y}' r='${this.radius()}'${this.renderStroke()} ${this.renderFill()} ${this.renderDefinitions()}${this.renderClassName()} ${this.renderRole()}${this.renderAriaLabel()} ${this.renderAriaRoleDescription()}${this.renderAriaChecked()} ${this.renderTransform()} ></circle>`}},tg.Group=class d4t extends lb{template(){return`<g${this.renderId()+this.renderTransform()+this.renderClassName()+this.renderStyle()+this.renderOpacity()+this.renderRole()+this.renderAriaLabel()+this.renderAriaRoleDescription()+this.renderAriaChecked()+this.renderDefinitions()}>${this.renderChildren()}</g>`}optionsChange(n){const{field:e,value:t}=n;"transform"===e&&this.transformChange(t),this.accessibilityOptionsChange(n),super.optionsChange(n)}},tg.Image=class g4t extends cb{geometryChange(){this.allAttr(this.mapPosition()),this.invalidate()}optionsChange(n){"src"===n.field&&this.allAttr(this.mapSource()),super.optionsChange(n)}mapPosition(){const n=this.srcElement.rect(),e=n.topLeft();return[["x",e.x],["y",e.y],["width",n.width()+"px"],["height",n.height()+"px"]]}renderPosition(){return ab(this.mapPosition())}mapSource(n){let e=this.srcElement.src();return n&&(e=Vse(e)),[["xlink:href",e]]}renderSource(){return ab(this.mapSource(!0))}template(){return`<image preserveAspectRatio='none' ${this.renderId()} ${this.renderStyle()} ${this.renderTransform()} ${this.renderOpacity()}${this.renderPosition()} ${this.renderSource()} ${this.renderDefinitions()}${this.renderClassName()} ${this.renderRole()}${this.renderAriaLabel()} ${this.renderAriaRoleDescription()}${this.renderAriaChecked()} ></image>`}},tg.MultiPath=class v4t extends cb{renderData(){return this.srcElement.toString(3)||"undefined"}},tg.Path=cb,tg.Rect=class b4t extends cb{geometryChange(){const n=this.srcElement.geometry();this.attr("x",n.origin.x),this.attr("y",n.origin.y),this.attr("width",n.size.width),this.attr("height",n.size.height),this.attr("rx",n.cornerRadius[0]),this.attr("ry",n.cornerRadius[1]),this.invalidate()}size(){return this.srcElement.geometry().size}origin(){return this.srcElement.geometry().origin}rx(){return this.srcElement.geometry().cornerRadius[0]}ry(){return this.srcElement.geometry().cornerRadius[1]}template(){return`<rect ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()} x='${this.origin().x}' y='${this.origin().y}' rx='${this.rx()}' ry='${this.ry()}' width='${this.size().width}' height='${this.size().height}' ${this.renderStroke()} ${this.renderFill()} ${this.renderDefinitions()} ${this.renderTransform()}${this.renderClassName()} ${this.renderRole()}${this.renderAriaLabel()} ${this.renderAriaRoleDescription()}${this.renderAriaChecked()} />`}},tg.Text=class y4t extends cb{geometryChange(){const n=this.pos();this.attr("x",n.x),this.attr("y",n.y),this.invalidate()}optionsChange(n){"font"===n.field?(this.attr("style",kRe(this.mapStyle())),this.geometryChange()):"content"===n.field&&super.content(this.srcElement.content()),super.optionsChange(n)}mapStyle(n){const e=super.mapStyle(n);let t=this.srcElement.options.font;return n&&(t=Vse(t)),e.push(["font",t],["white-space","pre"]),e}pos(){const n=this.srcElement.position(),e=this.srcElement.measure();return n.clone().setY(n.y+e.baseline)}renderContent(){let n=this.srcElement.content();return n=Hse(n),n=Vse(n),P1e(n)}renderTextAnchor(){let n;return(this.options||{}).rtl&&!(Rh.browser.msie||Rh.browser.edge)&&(n="end"),Xc("text-anchor",n)}renderPaintOrder(){const n=this.srcElement.options.paintOrder;return n?Xc("paint-order",n):""}template(){return`<text ${this.renderId()} ${this.renderTextAnchor()} ${this.renderStyle()} ${this.renderOpacity()}x='${this.pos().x}' y='${this.pos().y}' ${this.renderStroke()} ${this.renderTransform()} ${this.renderDefinitions()}${this.renderPaintOrder()}${this.renderFill()}${this.renderClassName()} ${this.renderRole()}${this.renderAriaLabel()} ${this.renderAriaRoleDescription()}${this.renderAriaChecked()}>${this.renderContent()}</text>`}};const T4t=class O4t extends Use{get type(){return"svg"}constructor(n,e){super(n,e),this._root=new NRe(Object.assign({rtl:"rtl"===uq(n,"direction").direction},this.options)),IRe(this.element,this._template("")),this._rootElement=this.element.firstElementChild,this._rootElement.style.width="100%",this._rootElement.style.height="100%",this._rootElement.style.overflow="hidden",function k4t(i){let n;try{n=i.getScreenCTM?i.getScreenCTM():null}catch{}if(n){const e=-n.e%1,t=-n.f%1,o=i.style;(0!==e||0!==t)&&(o.left=e+"px",o.top=t+"px")}}(this._rootElement),this._root.attachTo(this._rootElement),dq(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove}),this.resize()}destroy(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,hq(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})),super.destroy()}translate(n){const e=`${Math.round(n.x)} ${Math.round(n.y)} ${this._size.width} ${this._size.height}`;this._offset=n,this._rootElement.setAttribute("viewBox",e)}draw(n){super.draw(n),this._root.load([n])}clear(){super.clear(),this._root.clear()}svg(){return"<?xml version='1.0' ?>"+this._template()}exportVisual(){let{_visual:n,_offset:e}=this;if(e){const t=new Pn;t.children.push(n),t.transform(wi().translate(-e.x,-e.y)),n=t}return n}_resize(){this._offset&&this.translate(this._offset)}_template(n){return`<svg ${"string"==typeof n?n:"style='width: 100%; height: 100%; overflow: hidden;' "}xmlns='${yx}' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>${this._root.render()}</svg>`}},Kf={},GRe=class I4t extends MV{constructor(n){super(n),n&&this.initClip()}initClip(){const n=this.srcElement.clip();n&&(this.clip=n,n.addObserver(this))}clear(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),super.clear()}clearClip(){this.clip&&(this.clip.removeObserver(this),delete this.clip)}setClip(n){this.clip&&(n.beginPath(),new Kf[this.clip.nodeType](this.clip).renderPoints(n,this.clip),n.clip("evenodd"))}optionsChange(n){"clip"===n.field&&(this.clearClip(),this.initClip()),super.optionsChange(n)}setTransform(n){if(this.srcElement){const e=this.srcElement.transform();e&&n.transform.apply(n,e.matrix().toArray(6))}}loadElements(n,e,t){for(let o=0;o<n.length;o++){let r=n[o],a=r.children,l=new Kf[r.nodeType](r,t);a&&a.length>0&&l.load(a,e,t),jt(e)?this.insertAt(l,e):this.append(l)}}load(n,e,t){this.loadElements(n,e,t),this.invalidate()}setOpacity(n){if(this.srcElement){const e=this.srcElement.opacity();jt(e)&&this.globalAlpha(n,e)}}globalAlpha(n,e){let t=e;t&&n.globalAlpha&&(t*=n.globalAlpha),n.globalAlpha=t}visible(){const n=this.srcElement;return!n||n&&!1!==n.options.visible}};class R4t extends(mee(GRe,"childNodes")){renderTo(n){if(!this.visible())return;n.save(),this.setTransform(n),this.setClip(n),this.setOpacity(n);const e=this.childNodes;for(let t=0;t<e.length;t++){let o=e[t];o.visible()&&o.renderTo(n)}n.restore()}}const URe=R4t;function xV(i,n){let t,e=0;if(!n||n<=0)return i;const o=function(){const r=jB()-e,a=arguments,l=function(){i.apply(null,a),e=jB()};if(!e)return l();t&&clearTimeout(t),r>n?l():t=setTimeout(l,n-r)};return o.cancel=function(){clearTimeout(t)},o}class x4t extends(mee(URe,"childNodes")){constructor(n,e){super(),this.canvas=n,this.size=e,this.ctx=n.getContext("2d");const t=this._invalidate.bind(this);this.invalidate=xV(()=>{x3e(t)},16.666666666666668)}destroy(){super.destroy(),this.canvas=null,this.ctx=null}load(n,e,t){this.loadElements(n,e,t),this._invalidate()}_rescale(n){const{canvas:e,size:t}=this;e.width=t.width*n,e.height=t.height*n,this.ctx.scale(n,n)}_devicePixelRatio(){return"number"==typeof window.devicePixelRatio?window.devicePixelRatio:1}_invalidate(n){if(!this.ctx)return;const t=n&&n.fixedScale?1:this._devicePixelRatio();this._rescale(t),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx)}}const N4t=x4t,FRe=class L4t extends pt{constructor(){super(),this.shapes=[]}_add(n,e){this.shapes.push({bbox:e,shape:n}),n._quadNode=this}pointShapes(n){const e=this.shapes,t=e.length,o=[];for(let r=0;r<t;r++)e[r].bbox.containsPoint(n)&&o.push(e[r].shape);return o}insert(n,e){this._add(n,e)}remove(n){const e=this.shapes,t=e.length;for(let o=0;o<t;o++)if(e[o].shape===n){e.splice(o,1);break}}};class Lk extends FRe{constructor(n){super(),this.children=[],this.rect=n}inBounds(n){const e=this.rect,t=e.bottomRight(),o=n.bottomRight();return e.origin.x<=n.origin.x&&e.origin.y<=n.origin.y&&o.x<=t.x&&o.y<=t.y}pointShapes(n){const e=this.children,t=e.length,o=super.pointShapes(n);for(let r=0;r<t;r++)GI(o,e[r].pointShapes(n));return o}insert(n,e){const t=this.children;let o=!1;if(this.inBounds(e)){if(this.shapes.length<4)this._add(n,e);else{t.length||this._initChildren();for(let r=0;r<t.length;r++)if(t[r].insert(n,e)){o=!0;break}o||this._add(n,e)}o=!0}return o}_initChildren(){const{rect:n,children:e}=this,t=n.center(),o=n.width()/2,r=n.height()/2;e.push(new Lk(new yn([n.origin.x,n.origin.y],[o,r])),new Lk(new yn([t.x,n.origin.y],[o,r])),new Lk(new yn([n.origin.x,t.y],[o,r])),new Lk(new yn([t.x,t.y],[o,r])))}}const P4t=Lk,Yf=3e3;function F4t(i,n){return i._zIndex<n._zIndex?1:i._zIndex>n._zIndex?-1:0}const VRe=class U4t extends pt{constructor(){super(),this.initRoots()}initRoots(){this.rootMap={},this.root=new FRe,this.rootElements=[]}clear(){const n=this.rootElements;for(let e=0;e<n.length;e++)this.remove(n[e]);this.initRoots()}pointShape(n){const e=(this.rootMap[Math.floor(n.x/Yf)]||{})[Math.floor(n.y/Yf)];let t=this.root.pointShapes(n);e&&(t=t.concat(e.pointShapes(n))),this.assignZindex(t),t.sort(F4t);for(let o=0;o<t.length;o++)if(t[o].containsPoint(n))return t[o]}assignZindex(n){for(let e=0;e<n.length;e++){let t=n[e],o=0,r=Math.pow(1e4,75),a=[];for(;t;)a.push(t),t=t.parent;for(;a.length;)t=a.pop(),o+=((t.parent?t.parent.children:this.rootElements).indexOf(t)+1)*r,r/=1e4;n[e]._zIndex=o}}optionsChange(n){("transform"===n.field||"stroke.width"===n.field)&&this.bboxChange(n.element)}geometryChange(n){this.bboxChange(n.element)}bboxChange(n){if("Group"===n.nodeType)for(let e=0;e<n.children.length;e++)this.bboxChange(n.children[e]);else n._quadNode&&n._quadNode.remove(n),this._insertShape(n)}add(n){const e=Array.isArray(n)?n.slice(0):[n];GI(this.rootElements,e),this._insert(e)}childrenChange(n){if("remove"===n.action)for(let e=0;e<n.items.length;e++)this.remove(n.items[e]);else this._insert(Array.prototype.slice.call(n.items,0))}_insert(n){let e;for(;n.length>0;)e=n.pop(),e.addObserver(this),"Group"===e.nodeType?GI(n,e.children):this._insertShape(e)}_insertShape(n){const e=n.bbox();if(e){const t=this.getSectors(e),o=t[0][0],r=t[1][0];if(this.inRoot(t))this.root.insert(n,e);else{const a=this.rootMap;a[o]||(a[o]={}),a[o][r]||(a[o][r]=new P4t(new yn([o*Yf,r*Yf],[Yf,Yf]))),a[o][r].insert(n,e)}}}remove(n){if(n.removeObserver(this),"Group"===n.nodeType){const e=n.children;for(let t=0;t<e.length;t++)this.remove(e[t])}else n._quadNode&&(n._quadNode.remove(n),delete n._quadNode)}inRoot(n){return n[0].length>1||n[1].length>1}getSectors(n){const e=n.bottomRight(),t=Math.floor(e.x/Yf),o=Math.floor(e.y/Yf),r=[[],[]];for(let a=Math.floor(n.origin.x/Yf);a<=t;a++)r[0].push(a);for(let a=Math.floor(n.origin.y/Yf);a<=o;a++)r[1].push(a);return r}},V4t=class B4t{constructor(n){n.bind("mouseenter",this._mouseenter.bind(this)),n.bind("mouseleave",this._mouseleave.bind(this)),this.element=n.element}clear(){this._resetCursor()}destroy(){this._resetCursor(),delete this.element}_mouseenter(n){const e=this._shapeCursor(n);e?(this._current||(this._defaultCursor=this._getCursor()),this._setCursor(e)):this._resetCursor()}_mouseleave(){this._resetCursor()}_shapeCursor(n){let e=n.element;for(;e&&!jt(e.options.cursor);)e=e.parent;if(e)return e.options.cursor}_getCursor(){if(this.element)return this.element.style.cursor}_setCursor(n){this.element&&(this.element.style.cursor=n,this._current=n)}_resetCursor(){this._current&&(this._setCursor(this._defaultCursor||""),delete this._current)}};function jse(i,n){const e=n.segments;if(0===e.length)return;let t=e[0],o=t.anchor();i.moveTo(o.x,o.y);for(let r=1;r<e.length;r++){t=e[r],o=t.anchor();let l=e[r-1].controlOut(),c=t.controlIn();l&&c?i.bezierCurveTo(l.x,l.y,c.x,c.y,o.x,o.y):i.lineTo(o.x,o.y)}n.options.closed&&i.closePath()}const db=class H4t extends GRe{renderTo(n){n.save(),this.setTransform(n),this.setClip(n),this.setOpacity(n),n.beginPath(),this.renderPoints(n,this.srcElement),this.setLineDash(n),this.setLineCap(n),this.setLineJoin(n),this.setFill(n),this.setStroke(n),n.restore()}setFill(n){const e=this.srcElement.options.fill;let t=!1;return e&&("Gradient"===e.nodeType?(this.setGradientFill(n,e),t=!0):Dw(e.color)||(n.fillStyle=e.color,n.save(),this.globalAlpha(n,e.opacity),n.fill(),n.restore(),t=!0)),t}setGradientFill(n,e){const t=this.srcElement.rawBBox();let o;if(e instanceof LF){let r=e.start(),a=e.end();o=n.createLinearGradient(r.x,r.y,a.x,a.y)}else if(e instanceof FF){let r=e.center();o=n.createRadialGradient(r.x,r.y,0,r.x,r.y,e.radius())}(function z4t(i,n){for(let e=0;e<n.length;e++){let t=n[e],o=wu(t.color());o.a*=t.opacity(),i.addColorStop(t.offset(),o.toCssRgba())}})(o,e.stops),n.save(),e.userSpace()||n.transform(t.width(),0,0,t.height(),t.origin.x,t.origin.y),n.fillStyle=o,n.fill(),n.restore()}setStroke(n){const e=this.srcElement.options.stroke;if(e&&!Dw(e.color)&&e.width>0)return n.strokeStyle=e.color,n.lineWidth=u5(e.width,1),n.lineJoin=u5(e.lineJoin,n.lineJoin),n.save(),this.globalAlpha(n,e.opacity),n.stroke(),n.restore(),!0}dashType(){const n=this.srcElement.options.stroke;if(n&&n.dashType)return n.dashType.toLowerCase()}setLineDash(n){const e=this.dashType();if(e&&"solid"!==e){const t=LRe[e];n.setLineDash?n.setLineDash(t):(n.mozDash=t,n.webkitLineDash=t)}}setLineCap(n){const e=this.dashType(),t=this.srcElement.options.stroke;e&&"solid"!==e?n.lineCap="butt":t&&t.lineCap&&(n.lineCap=t.lineCap)}setLineJoin(n){const e=this.srcElement.options.stroke;e&&e.lineJoin&&(n.lineJoin=e.lineJoin)}renderPoints(n,e){jse(n,e)}};Kf.Arc=class j4t extends db{renderPoints(n){jse(n,this.srcElement.toPath())}},Kf.Circle=class X4t extends db{renderPoints(n){const{center:e,radius:t}=this.srcElement.geometry();n.arc(e.x,e.y,t,0,2*Math.PI)}},Kf.Group=URe,Kf.Image=class K4t extends db{constructor(n,e){super(n),this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.loading=yw();const t=this.img=new Image,o=n.src();e&&!/^data:/i.test(o)&&(t.crossOrigin=e),o&&(t.src=o),t.complete?this.onLoad():(t.onload=this.onLoad,t.onerror=this.onError)}renderTo(n){"resolved"===this.loading.state()&&(n.save(),this.setTransform(n),this.setClip(n),this.drawImage(n),n.restore())}optionsChange(n){"src"===n.field?(this.loading=yw(),this.img.src=this.srcElement.src()):super.optionsChange(n)}onLoad(){this.loading.resolve(),this.invalidate()}onError(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))}drawImage(n){const e=this.srcElement.rect(),t=e.topLeft();n.drawImage(this.img,t.x,t.y,e.width(),e.height())}},Kf.MultiPath=class J4t extends db{renderPoints(n){const e=this.srcElement.paths;for(let t=0;t<e.length;t++)jse(n,e[t])}},Kf.Path=db,Kf.Rect=class Q4t extends db{renderPoints(n){const e=this.srcElement.geometry(),[t,o]=e.cornerRadius;if(0===t&&0===o){const{origin:r,size:a}=e;n.rect(r.x,r.y,a.width,a.height)}else super.renderPoints(n,lt.fromRect(e))}},Kf.Text=class e6t extends db{renderTo(n){const e=this.srcElement,t=e.position(),o=e.measure();n.save(),this.setTransform(n),this.setClip(n),this.setOpacity(n),n.beginPath(),n.font=e.options.font,n.textAlign="left","stroke"===e.options.paintOrder?(this.stroke(n,e,t,o),this.fill(n,e,t,o)):(this.fill(n,e,t,o),this.stroke(n,e,t,o)),n.restore()}stroke(n,e,t,o){this.setStroke(n)&&(this.setLineDash(n),n.strokeText(e.content(),t.x,t.y+o.baseline))}fill(n,e,t,o){this.setFill(n)&&n.fillText(e.content(),t.x,t.y+o.baseline)}};const zRe=class n6t extends Use{get type(){return"canvas"}constructor(n,e){super(n,e),this.element.innerHTML=this._template(this);const t=this.element.firstElementChild;t.style.width="100%",t.style.height="100%";const o=UI(n);t.width=o.width,t.height=o.height,this._rootElement=t,this._root=new N4t(t,o),this._mouseTrackHandler=this._trackMouse.bind(this),dq(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}destroy(){super.destroy(),this._root&&(this._root.destroy(),this._root=null),this._searchTree&&(this._searchTree.clear(),delete this._searchTree),this._cursor&&(this._cursor.destroy(),delete this._cursor),hq(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}draw(n){super.draw(n),this._root.load([n],void 0,this.options.cors),this._searchTree&&this._searchTree.add([n])}clear(){super.clear(),this._root.clear(),this._searchTree&&this._searchTree.clear(),this._cursor&&this._cursor.clear()}eventTarget(n){if(this._searchTree){const e=this._surfacePoint(n);return this._searchTree.pointShape(e)}}image(){const{_root:n,_rootElement:e}=this,t=[];n.traverse(a=>{a.loading&&t.push(a.loading)});const o=yw(),r=()=>{n._invalidate({fixedScale:!0});try{const a=e.toDataURL();o.resolve(a)}catch(a){o.reject(a)}};return function M4t(i){return Promise.all(i)}(t).then(r,r),o}suspendTracking(){super.suspendTracking(),this._searchTree&&(this._searchTree.clear(),delete this._searchTree)}resumeTracking(){if(super.resumeTracking(),!this._searchTree){this._searchTree=new VRe;const n=this._root.childNodes,e=[];for(let t=0;t<n.length;t++)e.push(n[t].srcElement);this._searchTree.add(e)}}_resize(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.size=this._size,this._root.invalidate()}_template(){return"<canvas></canvas>"}_enableTracking(){this._searchTree=new VRe,this._cursor=new V4t(this),super._enableTracking()}_trackMouse(n){if(this._suspendedTracking)return;const e=this.eventTarget(n);if("click"!==n.type){const t=this._currentShape;t&&t!==e&&this.trigger("mouseleave",{element:t,originalEvent:n,type:"mouseleave"}),e&&t!==e&&this.trigger("mouseenter",{element:e,originalEvent:n,type:"mouseenter"}),this.trigger("mousemove",{element:e,originalEvent:n,type:"mousemove"}),this._currentShape=e}else e&&this.trigger("click",{element:e,originalEvent:n,type:"click"})}};let $se,Xse;const HRe=()=>typeof document<"u";class Wse extends pt{static get support(){return Xse||(Xse={canvas:HRe()&&document.createElement("canvas").getContext,svg:HRe()&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}),Xse}static get current(){return $se||($se=new Wse),$se}constructor(){super(),this._items=[{name:"svg",type:T4t},{name:"canvas",type:zRe}]}create(n,e){const t=this._items;let o=t[0];if(e&&e.type){const r=e.type.toLowerCase();for(let a=0;a<t.length;a++)if(t[a].name===r){o=t[a];break}}if(o)return new o.type(n,e);C3e(`Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG and Canvas. User agent: ${navigator.userAgent}`)}}const jRe=Wse,Pk=class o6t extends Use{static get support(){return jRe.support}static create(n,e){return jRe.current.create(n,e)}};function a6t(){this._defaultPrevented=!0}const l6t=class r6t extends pt{constructor(){super(),this._points=[]}destroy(){this._points=[]}show(n,e){const t=[].concat(n);this.hide();for(let o=0;o<t.length;o++){const r=t[o];r&&r.toggleHighlight&&r.hasHighlight()&&(this.togglePointHighlight(r,!0,e),this._points.push(r))}}togglePointHighlight(n,e,t){const o=(n.options.highlight||{}).toggle;if(o){const r={category:n.category,series:n.series,dataItem:n.dataItem,value:n.value,stackValue:n.stackValue,preventDefault:a6t,visual:n.highlightVisual(),show:e};o(r),r._defaultPrevented||n.toggleHighlight(e,t)}else n.toggleHighlight(e,t)}hide(){const n=this._points;for(;n.length;)this.togglePointHighlight(n.pop(),!1)}isHighlighted(n){const e=this._points;for(let t=0;t<e.length;t++)if(n===e[t])return!0;return!1}};function $Re(i,n){const e=(n||"").toLowerCase(),t=i.event;return"none"===e&&!(t.ctrlKey||t.shiftKey||t.altKey)||t[e+"Key"]}function Kse(i){const n={};for(let e=0;e<i.length;e++){const t=i[e];t.axis.options.name&&(n[t.axis.options.name]={min:t.range.min,max:t.range.max})}return n}class XRe extends pt{constructor(n,e){super(),this.plotArea=n,this.options=W({},this.options,e)}start(n){return this._active=$Re(n,this.options.key),this._active}move(n){if(this._active){const e=this.axisRanges=this._panAxes(n,yt).concat(this._panAxes(n,kt));if(e.length)return this.axisRanges=e,Kse(e)}}end(){const n=this._active;return this._active=!1,n}pan(){const{plotArea:n,axisRanges:e}=this;if(e.length){for(let t=0;t<e.length;t++){const o=e[t];n.updateAxisOptions(o.axis,o.range)}n.redraw(n.panes)}}destroy(){delete this.plotArea}_panAxes(n,e){const t=this.plotArea,o=-n[e].delta,r=(this.options.lock||"").toLowerCase(),a=[];if(0!==o&&(r||"").toLowerCase()!==e){const l=t.axes;for(let c=0;c<l.length;c++){const u=l[c];if(e===yt&&!u.options.vertical||e===kt&&u.options.vertical){const f=u.pan(o);f&&(f.limitRange=!0,a.push({axis:u,range:f}))}}}return a}}XRe.prototype.options={key:"none",lock:"none"};const c6t=XRe;class WRe extends pt{constructor(n,e){super(),this.chart=n,this.options=W({},this.options,e),this.createElement()}createElement(){const n=this._marquee=document.createElement("div");n.className="k-marquee";const e=document.createElement("div");e.className="k-marquee-color",n.appendChild(e)}removeElement(){this._marquee.parentNode&&this._marquee.parentNode.removeChild(this._marquee)}setStyles(n){to(this._marquee,n)}start(n){if($Re(n,this.options.key)){const e=this.chart,t=e._eventCoordinates(n),o=this._zoomPane=e._plotArea.paneByPoint(t),r=o?o.chartsBox().clone():null;if(o&&r){const a=this._elementOffset();return r.translate(a.left,a.top),this._zoomPaneClipBox=r,document.body.appendChild(this._marquee),this.setStyles({left:n.pageX+1,top:n.pageY+1,width:0,height:0}),!0}}return!1}_elementOffset(){const n=this.chart.element,{paddingLeft:e,paddingTop:t}=to(n,["paddingLeft","paddingTop"]),o=ck(n);return{left:e+o.left,top:t+o.top}}move(n){this._zoomPane&&this.setStyles(this._selectionPosition(n))}end(n){if(this._zoomPane){const t=this._elementOffset(),o=this._selectionPosition(n);return o.left-=t.left,o.top-=t.top,this._updateAxisRanges({x:o.left,y:o.top},{x:o.left+o.width,y:o.top+o.height}),this.removeElement(),delete this._zoomPane,Kse(this.axisRanges)}}zoom(){const n=this.axisRanges;if(n&&n.length){const e=this.chart._plotArea;for(let t=0;t<n.length;t++){const o=n[t];e.updateAxisOptions(o.axis,o.range)}e.redraw(e.panes)}}destroy(){this.removeElement(),delete this._marquee,delete this.chart}_updateAxisRanges(n,e){const t=(this.options.lock||"").toLowerCase(),o=[],r=this._zoomPane.axes;for(let a=0;a<r.length;a++){const l=r[a],c=l.options.vertical;if((t!==yt||c)&&(t!==kt||!c)&&ge(l.axisIndex)){const u=l.pointsRange(n,e);u&&o.push({axis:l,range:u})}}this.axisRanges=o}_selectionPosition(n){const e=this._zoomPaneClipBox,t={x:n.x.startLocation,y:n.y.startLocation},{x:{location:o},y:{location:r}}=n,a=(this.options.lock||"").toLowerCase();let l=Math.min(t.x,o),c=Math.min(t.y,r),u=Math.abs(t.x-o),f=Math.abs(t.y-r);return a===yt&&(l=e.x1,u=e.width()),a===kt&&(c=e.y1,f=e.height()),o>e.x2&&(u=e.x2-t.x),o<e.x1&&(u=t.x-e.x1),r>e.y2&&(f=e.y2-t.y),r<e.y1&&(f=t.y-e.y1),{left:Math.max(l,e.x1),top:Math.max(c,e.y1),width:u,height:f}}}WRe.prototype.options={key:"shift",lock:"none"};const d6t=WRe,m6t=class f6t extends pt{constructor(n,e){super(),this.chart=n,this.options=W({rate:.3},this.options,e)}updateRanges(n,e){const t=(this.options.lock||"").toLowerCase(),o=[],r=this.chart._plotArea.axes;for(let a=0;a<r.length;a++){const l=r[a],c=l.options.vertical;if((t!==yt||c)&&(t!==kt||!c)&&l.zoomRange){const u=Gt(this.options.rate,.01,.9),f=l.zoomRange(-n*u,e);f&&o.push({axis:l,range:f})}}return this.axisRanges=o,Kse(o)}zoom(){const n=this.axisRanges,e=this.chart._plotArea;if(n&&n.length&&e.updateAxisOptions){for(let t=0;t<n.length;t++){const o=n[t];e.updateAxisOptions(o.axis,o.range)}e.redraw(e.panes)}}destroy(){delete this.chart}};function NV(i,n,e,t,o){let r;return r="start"===e?n.origin[t]:"end"===e?n.origin[t]+n.size[o]-i:n.origin[t]+(n.size[o]-i)/2,r}function g6t(i,n,e,t,o){let r;return r="start"===e?n.origin[t]+n.size[o]-i:"end"===e?n.origin[t]:n.origin[t]+(n.size[o]-i)/2,r}const S6t={alignContent:"start",justifyContent:"start",alignItems:"start",spacing:0,orientation:"horizontal",lineSpacing:0,wrap:!0,revers:!1},v6t=(i,n)=>{i.forEach(n)},C6t=(i,n)=>{for(let t=i.length-1;t>=0;t--)n(i[t],t)},E6t=class b6t extends Pn{constructor(n,e){super(Object.assign({},S6t,e)),this._rect=n,this._fieldMap={}}rect(n){return n?(this._rect=n,this):this._rect}_initMap(){const n=this.options,e=this._fieldMap;"horizontal"===n.orientation?(e.sizeField="width",e.groupsSizeField="height",e.groupAxis="x",e.groupsAxis="y"):(e.sizeField="height",e.groupsSizeField="width",e.groupAxis="y",e.groupsAxis="x"),n.reverse?(this.forEach=C6t,this.justifyAlign=g6t):(this.forEach=v6t,this.justifyAlign=NV)}reflow(){if(!this._rect||0===this.children.length)return;this._initMap(),this.options.transform&&this.transform(null);const n=this.options,e=this._rect,{groups:t,groupsSize:o}=this._initGroups(),{sizeField:r,groupsSizeField:a,groupAxis:l,groupsAxis:c}=this._fieldMap,u=new Ie,f=new Ie,_=new jC;let v,b,D,S=NV(o,e,n.alignContent,c,a);const k=(O,I)=>{const x=b.elements[I];f[l]=v,f[c]=NV(O.size[a],D,n.alignItems,c,a),function _6t(i,n,e){const t=e.transform()||wi(),o=t.matrix();o.e+=i.x-n.origin.x,o.f+=i.y-n.origin.y,t.matrix(o),e.transform(t)}(f,O,x),v+=O.size[r]+n.spacing};for(let O=0;O<t.length;O++)b=t[O],u[l]=v=this.justifyAlign(b.size,e,n.justifyContent,l,r),u[c]=S,_[r]=b.size,_[a]=b.lineSize,D=new yn(u,_),this.forEach(b.bboxes,k),S+=b.lineSize+n.lineSpacing;if(!n.wrap&&b.size>e.size[r]){const O=e.size[r]/D.size[r],I=D.topLeft().scale(O,O),P=NV(D.size[a]*O,e,n.alignContent,c,a),L=wi();"x"===l?L.translate(e.origin.x-I.x,P-I.y):L.translate(P-I.x,e.origin.y-I.y),L.scale(O,O),this.transform(L)}}_initGroups(){const{options:n,children:e}=this,{lineSpacing:t,wrap:o,spacing:r}=n,a=this._fieldMap.sizeField;let l=this._newGroup();const c=[],u=function(){c.push(l),f+=l.lineSize+t};let f=-t;for(let _=0;_<e.length;_++){let S=e[_],v=e[_].clippedBBox();S.visible()&&v&&(o&&l.size+v.size[a]+r>this._rect.size[a]?0===l.bboxes.length?(this._addToGroup(l,v,S),u(),l=this._newGroup()):(u(),l=this._newGroup(),this._addToGroup(l,v,S)):this._addToGroup(l,v,S))}return l.bboxes.length&&u(),{groups:c,groupsSize:f}}_addToGroup(n,e,t){n.size+=e.size[this._fieldMap.sizeField]+this.options.spacing,n.lineSize=Math.max(e.size[this._fieldMap.groupsSizeField],n.lineSize),n.bboxes.push(e),n.elements.push(t)}_newGroup(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}}},D6t=class y6t extends Pi{constructor(n,e){super(n),this.chartService=e}render(){const{children:n,options:e}=this,t=e.vertical;this.visual=new E6t(null,{spacing:t?0:e.spacing,lineSpacing:t?e.spacing:0,orientation:t?"vertical":Sie,reverse:e.rtl,alignItems:t?xB:_n});for(let o=0;o<n.length;o++){let r=n[o];r.reflow(new Ve),r.renderVisual()}}reflow(n){this.visual.rect(n.toRect()),this.visual.reflow();const e=this.visual.clippedBBox();this.box=e?fk(e):new Ve}renderVisual(){this.addVisual()}createVisual(){}};class KRe extends ml{visualStyle(){const n=this.markerOptions(),e=n.border;return{stroke:{width:e.width,color:e.color,opacity:sn(e.opacity,n.opacity),dashType:e.dashType},fill:{color:n.background,opacity:n.opacity},cursor:n.cursor}}markerOptions(){return this.options}markerHighlightOptions(){const n=this.markerOptions();return W({},n,{background:n.border.color},n.highlight,"cross"===n.type?{background:n.highlight.border.color,border:{color:n.highlight.background,width:n.highlight.border.width/2},width:n.width,height:n.height,margin:{top:0,left:0}}:{})}createHighlight(){const n=new ml(this.markerHighlightOptions()),e=this.paddingBox.clone();return n.reflow(e.pad(n.options.border.width)),this.highlight=[n.getElement()],this.highlight}}De(KRe,{border:{width:2},width:8,height:8,background:ri,margin:{top:-1,left:-1},vAlign:jn,align:Un,highlight:{width:10,height:10,border:{color:ri,width:2}}});const w6t=KRe;class YRe extends ml{getElement(){const n=new Pn,e=new Lc(this.visualStyle()),{paddingBox:t}=this,o=t.height()/2;return e.moveTo(t.x1,t.y1+o).lineTo(t.x1,t.y2).lineTo(t.x2,t.y2),n.append(e),n}}De(YRe,{width:15,height:15,align:_i,vAlign:mi,margin:{right:-2,bottom:2}});const JRe=YRe;class qRe extends ml{getElement(){const n=new Pn,e=new Lc({stroke:{color:this.options.border.color,opacity:this.options.opacity,width:this.options.height,dashType:this.options.dashType}}),t=this.paddingBox,o=t.center().y;return e.moveTo(t.x1,o).lineTo(t.x2,o),n.append(e),n}createHighlight(){return this.highlight=[this.createHighlightLine(),this.createHighlightMarker()],this.highlight}createHighlightLine(){const n=W({},{border:{color:this.options.border.color,opacity:this.options.border.opacity,dashType:this.options.border.dashType}},this.options.highlight),e=new JRe(n);return e.reflow(this.parent.paddingBox.clone()),this.highlightLine=e.getElement(),this.highlightLine}createHighlightMarker(){const n=W({},{background:this.options.background},this.options.highlight.markers),e=new ml(n),t=this.parent.paddingBox,o=n.border.width,r=this.parent.box.clone();return r.pad({left:o-t.x1,top:o-t.y1}),e.reflow(r),this.highlightMarker=e.getElement(),this.highlightMarker}}De(qRe,{border:{width:0},type:"rect",align:Un,vAlign:_n,highlight:{border:{width:2},markers:{type:zc,width:10,height:10,border:{width:2,color:ri},align:Un,vAlign:jn}}});const k6t=qRe;class QRe extends ml{createHighlight(){const n=W({},{background:this.options.background},this.options.highlight.markers),e=new ml(n),t=this.paddingBox.clone(),o=this.parent.box.clone();return t.align(o,yt,Un),t.align(o,kt,jn),e.reflow(t),this.highlight=[e.getElement()],this.highlight}}De(QRe,{highlight:{markers:{type:zc,width:10,height:10,border:{width:2,color:ri},margin:{top:-3,left:-3}}}});const O6t=QRe;class ZRe extends $S{constructor(n){super(n),this.createContainer(),n.rtl?(this.createLabel(),this.createMarker()):(this.createMarker(),this.createLabel()),this._id=CV(),this.options.accessibility.ariaChecked=n.active}createContainer(){this.container=new Iie({vertical:!1,wrap:!1,align:_n,spacing:this.options.spacing}),this.append(this.container)}createMarker(){this.markerWrap=new $S({vertical:!1,shrinkToFit:!0,wrap:!1,margin:1,width:22,height:22}),this.container.append(this.markerWrap),this.createMarkerArea(),this.options.markers.visible&&(this._marker=this._createMarker(),this.markerWrap.append(this._marker))}createMarkerArea(){const n=this.options,{markerColor:e,line:t={}}=n,o={border:{color:t.color||e,opacity:t.opacity,dashType:t.dashType}};return this._createLine(o)||this._createMarkerLine(o,t)||this._createSquare()}markerOptions(){const n=this.options,{markers:e={},markerColor:t}=n,{border:o={}}=e;return W({},e,{border:{color:o.color||t},highlight:n.highlight.markers})}_highlightOptions(){const n=this.options;return W({markers:{type:n.markers.type}},n.highlight)}_createLine(n){const e=this.options;return e.type===J_&&!e.markers.visible&&(this._line=new k6t(W({},{background:e.markerColor,highlight:this._highlightOptions()},n,e.line)),this.markerWrap.append(this._line)),this._line}_createMarkerLine(n,e){return this.options.type===J_&&(this._markerLineArea=new JRe(W({},{border:{width:e.height}},n)),this.markerWrap.append(this._markerLineArea)),this._markerLineArea}_createSquare(){const n=this.options;return n.type===Y_&&(this._square=new O6t(Object.assign({},{border:n.border,vAlign:n.markers.visible?mi:_n,highlight:this._highlightOptions(),visual:n.visual},n.area,{background:n.area.background||n.markerColor})),this.markerWrap.append(this._square)),this._square}_createMarker(){return new w6t(this.markerOptions())}_highlightMarkers(){this.options.active&&this._toggleHighlight(!0)}_restoreMarkers(){this._toggleHighlight(!1)}_toggleHighlight(n){if(!this.options.highlight.visible)return;const e=this._marker||this._square||this._line;if(e&&e===this._line&&this._line.visual.visible(!n),e){let t=e.highlight;t||(t=e.createHighlight(),t.forEach(o=>o&&this.markerWrap.appendVisual(o))),t.forEach(o=>o&&o.visible(n))}}createLabel(){const n=this.options,e=W({},n.labels);this.container.append(new jc(n.text,e))}getAriaLabelText(){return this.options.text}focusVisual(){this.visual.options.set("id",this._id),this.toggleFocusHighlight(!0),this._highlightMarkers()}clearFocusFromVisual(){this.visual.options.set("id",""),this.toggleFocusHighlight(!1),this._restoreMarkers()}renderComplete(){super.renderComplete();const n=this.options.cursor||{},e=this._itemOverlay=lt.fromRect(this.container.box.toRect(),{fill:{color:ri,opacity:0},stroke:null,cursor:n.style||n});this.appendVisual(e)}click(n,e){const t=this.eventArgs(e);!n.trigger(yIe,t)&&e&&"contextmenu"===e.type&&e.preventDefault()}over(n,e){const t=this.eventArgs(e);return n.trigger("legendItemHover",t)||(n._legendItemHover(t.seriesIndex,t.pointIndex),this._highlightMarkers()),!0}out(n,e){n._unsetActivePoint(),this._restoreMarkers(),n.trigger("legendItemLeave",this.eventArgs(e))}eventArgs(n){const e=this.options;return{element:Kh(n),text:e.text,series:e.series,seriesIndex:e.series.index,pointIndex:e.pointIndex}}createVisual(){super.createVisual();const n=this.options;if(this.options.visible){const e=W({ariaLabel:n.text},n.accessibility);Mie(this.visual,e)}}renderVisual(){const n=this.options,e=n.visual;e?(this.visual=e({active:n.active,series:n.series,sender:this.getSender(),pointIndex:n.pointIndex,options:{type:n.type,markers:W({background:this.options.markerColor},this.markerOptions()),labels:n.labels},createVisual:()=>{this.createVisual(),this.renderChildren(),this.renderComplete();const t=this.visual;return delete this.visual,t}}),this._marker=this._markerLineArea=this._square=this._line=null,this.addVisual()):super.renderVisual()}createFocusHighlight(n){return lt.fromRect(this.container.box.pad(n.stroke.width/2).toRect(),n)}}De(ZRe,{accessibility:{role:"checkbox",className:"k-chart-legend-item",ariaRoleDescription:"Legend item"},markers:{},highlight:{visible:!0,markers:{}}});const T6t=ZRe,LV="custom";class eAe extends Pi{constructor(n,e={}){super(n),this.chartService=e,Rn(this.options.position,[jn,_i,mi,Un,LV])||(this.options.position=_i),this.createContainers(),this.createLegendTitle(n.title),this.createItems()}createContainers(){const n=this.options,{position:e,align:t}=n;let o=e,r=_n;e===LV?o=Un:Rn(e,[jn,mi])?(o=t===xB?Un:t===IB?_i:_n,r=e):t&&(t===xB?r=jn:t===IB&&(r=mi)),this.container=new $S({margin:n.margin,padding:n.padding,background:n.background,border:n.border,vAlign:r,align:o,zIndex:n.zIndex,shrinkToFit:!0}),this.itemsContainer=this.hasTitle()?new $S({vAlign:r,align:o,zIndex:n.zIndex,shrinkToFit:!0}):this.container,this.append(this.container)}createItems(){const n=this.getService(),e=this.options,t=this.isVertical(),o=new D6t({vertical:t,spacing:e.spacing,rtl:n.rtl},n);let r=e.data;e.reverse&&(r=r.slice(0).reverse());const a=r.length;for(let l=0;l<a;l++){let c=r[l];const{markers:u={},dashType:f,legendItem:_,opacity:S}=c.series||{},v=W({visible:!1!==u.visible,type:zc},u);delete v.size;const b=W({},{markers:v,labels:e.labels,rtl:n.rtl,line:Object.assign({},{dashType:f},e.line),area:Object.assign({},{opacity:S},e.area),opacity:S,accessibility:e.accessibility},e.item,_,c,{markers:e.markers});o.append(new T6t(b))}o.render(),this.itemsContainer.append(o)}isVertical(){const{orientation:n,position:e}=this.options;return e===LV&&n!==Sie||(ge(n)?n!==Sie:Rn(e,[Un,_i]))}hasItems(){return this.container.children[0].children.length>0}getItems(){return this.itemsContainer.children[0].children}reflow(n){const e=this.options,t=n.clone();this.hasItems()?(e.position===LV?(this.containerCustomReflow(t),this.box=t):this.containerReflow(t),this.hasTitle()&&this.title.reflow(new Ve(this.container.box.x1,this.title.box.y1,this.container.box.x2,this.title.box.y2))):this.box=t}containerReflow(n){const{options:e,container:t}=this,{position:o,width:r,height:a}=e,l=o===jn||o===mi?yt:kt,c=this.isVertical(),u=n.clone();let f=n.clone();(o===Un||o===_i)&&(f.y1=u.y1=0),c&&a?(f.y2=f.y1+a,f.align(u,kt,t.options.vAlign)):!c&&r&&(f.x2=f.x1+r,f.align(u,yt,t.options.align)),t.reflow(f),f=t.box;const _=f.clone();(e.offsetX||e.offsetY)&&(f.translate(e.offsetX,e.offsetY),t.reflow(f)),_[l+1]=n[l+1],_[l+2]=n[l+2],this.box=_}containerCustomReflow(n){const{options:e,container:t}=this,{offsetX:o,offsetY:r,width:a,height:l}=e,c=this.isVertical();let u=n.clone();c&&l?u.y2=u.y1+l:!c&&a&&(u.x2=u.x1+a),t.reflow(u),u=t.box,t.reflow(new Ve(o,r,o+u.width(),r+u.height()))}renderVisual(){this.hasItems()&&super.renderVisual()}createLegendTitle(n){let e=W({},{color:Co,position:jn,align:_n},n),t=e.text;if(n&&!1!==n.visible&&n.text){if(ge(e)&&e.visible){const o=zr(e);o?t=o({text:t}):e.format&&(t=this.chartService.format.auto(e.format,t))}this.title=new jc(t,e),this.createTitleLayout(),this.appendTitleLayoutContent()}}createTitleLayout(){this.layout=new Iie({vertical:!0,wrap:!1}),this.container.append(this.layout)}hasTitle(){return!(!this.options.title||!1===this.options.title.visible||!this.options.title.text)}appendTitleLayoutContent(){this.options.title.position===mi?(this.layout.append(this.itemsContainer),this.layout.append(this.title)):(this.layout.append(this.title),this.layout.append(this.itemsContainer))}}De(eAe,{position:_i,data:[],offsetX:0,offsetY:0,margin:Ti(2),padding:Ti(5),border:{color:Co,width:0},item:{cursor:gie,spacing:6},spacing:6,background:"",zIndex:1,markers:{},line:{width:20,height:2,cursor:gie,opacity:1},area:{type:"square",align:_i,width:15,height:15}});const tAe=eAe;class Yse extends pt{constructor(){super(),this._registry=[]}register(n,e){this._registry.push({type:n,seriesTypes:e})}create(n,e,t){const o=this._registry;let a,r=o[0];for(let l=0;l<o.length;l++){const c=o[l];a=no(n,c.seriesTypes);const u=no(n,kk);if(a.length-u.length>0){r=c;break}}return new r.type(a,e,t)}}Yse.current=new Yse;const ng=Yse;function ig(i){const n=document.createElement("div");return i&&(n.className=i),n}function nAe(i){let n=i;for(;n&&!GB(n,"k-handle");)n=n.parentNode;return n}class iAe extends pt{constructor(n,e,t,o){super();const r=n.element;this.options=W({},this.options,t),this.chart=n,this.observer=o,this.chartElement=r,this.categoryAxis=e,this._dateAxis=this.categoryAxis instanceof tV,this.initOptions(),this.visible=this.options.visible&&r.offsetHeight,this.visible&&(this.createElements(),this.set(this._index(this.options.from),this._index(this.options.to)),this.bindEvents())}onPane(n){return this.categoryAxis.pane===n}createElements(){const n=this.options,e=this.wrapper=ig("k-selector k-pointer-events-none");to(e,{top:n.offset.top,left:n.offset.left,width:n.width,height:n.height,direction:"ltr"});const t=this.selection=ig("k-selection k-pointer-events-none");this.leftMask=ig("k-mask k-pointer-events-none"),this.rightMask=ig("k-mask k-pointer-events-none"),e.appendChild(this.leftMask),e.appendChild(this.rightMask),e.appendChild(t);const o=this.body=ig("k-selection-bg k-pointer-events-none");t.appendChild(o);const r=this.leftHandle=ig("k-handle k-left-handle k-pointer-events-auto"),a=this.rightHandle=ig("k-handle k-right-handle k-pointer-events-auto");r.appendChild(ig()),a.appendChild(ig()),t.appendChild(r),t.appendChild(a),this.chartElement.appendChild(e);const l=to(t,["borderLeftWidth","borderRightWidth","height"]),c=to(r,"height").height,u=to(a,"height").height;n.selection={border:{left:l.borderLeftWidth,right:l.borderRightWidth}},to(r,{top:(l.height-c)/2}),to(a,{top:(l.height-u)/2}),e.style.cssText=e.style.cssText}bindEvents(){!1!==this.options.mousewheel&&(this._mousewheelHandler=this._mousewheel.bind(this),KA(this.chartElement,{[SV]:this._mousewheelHandler})),this._domEvents=W3e.create(this.chartElement,{stopPropagation:!0,start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),press:this._press.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)})}initOptions(){const{options:n,categoryAxis:e}=this,t=e.pane.chartsBox(),o=this.chart.chartService.intl;this._dateAxis&&W(n,{min:Sa(o,n.min),max:Sa(o,n.max),from:Sa(o,n.from),to:Sa(o,n.to)});const{paddingLeft:r,paddingTop:a}=to(this.chartElement,["paddingLeft","paddingTop"]);this.options=W({},{width:t.width(),height:t.height()+.1,padding:{left:r,top:a},offset:{left:t.x1+r,top:t.y1+a},from:n.min,to:n.max},n)}destroy(){this._domEvents&&(this._domEvents.destroy(),delete this._domEvents),clearTimeout(this._mwTimeout),this._state=null,this.wrapper&&(this._mousewheelHandler&&(YA(this.chartElement,{[SV]:this._mousewheelHandler}),this._mousewheelHandler=null),this.chartElement.removeChild(this.wrapper),this.wrapper=null)}_rangeEventArgs(n){return{axis:this.categoryAxis.options,from:this._value(n.from),to:this._value(n.to)}}_pointInPane(n,e){const t=this.categoryAxis.pane.box,o=this.chart._toModelCoordinates(n,e);return t.containsPoint(o)}_start(n){const e=this.options,t=Kh(n);if(this._state||!t)return;const o=b3e(n);if(!this._pointInPane(o.x,o.y))return;const a=nAe(t),l=this.body.getBoundingClientRect(),c=!a&&o.x>=l.x&&o.x<=l.x+l.width&&o.y>=l.y&&o.y<=l.y+l.height;this.chart._unsetActivePoint(),this._state={moveTarget:a,startLocation:n.x?n.x.location:0,inBody:c,range:{from:this._index(e.from),to:this._index(e.to)}};const u=this._rangeEventArgs({from:this._index(e.from),to:this._index(e.to)});this.trigger(hse,u)&&(this._state=null)}_press(n){let e;e=this._state?this._state.moveTarget:nAe(Kh(n)),e&&Ho(e,"k-handle-active")}_move(n){if(!this._state)return;const{_state:e,options:t,categoryAxis:o}=this,{range:r,moveTarget:a}=e,l=o.options.reverse,c=this._index(t.from),u=this._index(t.to),f=this._index(t.min),_=this._index(t.max),S=e.startLocation-n.x.location,v_from=r.from,v_to=r.to,b=r.to-r.from,D=to(this.wrapper,"width").width/(o.categoriesCount()-1),k=Math.round(S/D)*(l?-1:1);if(!a&&!e.inBody)return;const O=a&&GB(a,"k-left-handle"),I=a&&GB(a,"k-right-handle");e.inBody?(r.from=Math.min(Math.max(f,c-k),_-b),r.to=Math.min(r.from+b,_)):O&&!l||I&&l?(r.from=Math.min(Math.max(f,c-k),_-1),r.to=Math.max(r.from+1,r.to)):(O&&l||I&&!l)&&(r.to=Math.min(Math.max(f+1,u-k),_),r.from=Math.min(r.to-1,r.from)),(r.from!==v_from||r.to!==v_to)&&(this.move(r.from,r.to),this.trigger(mx,this._rangeEventArgs(r)))}_end(){if(this._state){const n=this._state.moveTarget;n&&vie(n,"k-handle-active");const e=this._state.range;this.set(e.from,e.to),this.trigger(pse,this._rangeEventArgs(e)),delete this._state}}_tap(n){const{options:e,categoryAxis:t}=this,o=this.chart._eventCoordinates(n),r=t.pointCategoryIndex(new on(o.x,t.box.y1)),a=this._index(e.from),l=this._index(e.to),c=this._index(e.min),u=this._index(e.max),f=l-a,S={},v=3===n.event.which;let b=Math.round(a+f/2-r);this._state||v||(this.chart._unsetActivePoint(),t.options.justified||b--,S.from=Math.min(Math.max(c,a-b),u-f),S.to=Math.min(S.from+f,u),this._start(n),this._state&&(this._state.range=S,this.trigger(mx,this._rangeEventArgs(S)),this._end()))}_mousewheel(n){let e=Cie(n);if(this._start(n),this._state){const t=this._state.range;n.preventDefault(),n.stopPropagation(),Math.abs(e)>1&&(e*=3),this.options.mousewheel.reverse&&(e*=-1),this.expand(e)&&this.trigger(mx,{axis:this.categoryAxis.options,delta:e,originalEvent:n,from:this._value(t.from),to:this._value(t.to)}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(()=>{this._end()},150)}}_gesturestart(n){const e=this.options,t=n.touches[0];if(!this._pointInPane(t.pageX,t.pageY))return;this._state={range:{from:this._index(e.from),to:this._index(e.to)}};const r=this._rangeEventArgs(this._state.range);this.trigger(hse,r)?this._state=null:n.preventDefault()}_gestureend(){this._state&&(this.trigger(pse,this._rangeEventArgs(this._state.range)),delete this._state)}_gesturechange(n){if(!this._state)return;const{chart:e,_state:t,options:o,categoryAxis:r}=this,a=t.range,l=e._toModelCoordinates(n.touches[0].x.location).x,c=e._toModelCoordinates(n.touches[1].x.location).x,u=Math.min(l,c),f=Math.max(l,c);n.preventDefault(),a.from=r.pointCategoryIndex(new on(u))||o.min,a.to=r.pointCategoryIndex(new on(f))||o.max,this.move(a.from,a.to),this.trigger(mx,this._rangeEventArgs(a))}_index(n){let e=n;return n instanceof Date&&(e=this.categoryAxis.categoryIndex(n)),e}_value(n){let e=n;return this._dateAxis&&(e=this.categoryAxis.categoryAt(n),e>this.options.max&&(e=this.options.max)),e}_slot(n){const e=this.categoryAxis,t=this._index(n);return e.getSlot(t,t,!0)}move(n,e){const t=this.options,o=this.categoryAxis.options.reverse,{offset:r,padding:a,selection:{border:l}}=t,u=o?n:e,f="x"+(o?2:1);let _=this._slot(o?e:n);const S=Ye(_[f]-r.left+a.left);to(this.leftMask,{width:S}),to(this.selection,{left:S}),_=this._slot(u);const v=Ye(t.width-(_[f]-r.left+a.left));to(this.rightMask,{width:v});let b=t.width-v;b!==t.width&&(b+=l.right),to(this.rightMask,{left:b}),to(this.selection,{width:Math.max(t.width-(S+v)-l.right,0)})}set(n,e){const t=this.options,o=this._index(t.min),r=this._index(t.max),a=Gt(this._index(n),o,r),l=Gt(this._index(e),a+1,r);t.visible&&this.move(a,l),t.from=this._value(a),t.to=this._value(l)}expand(n){const e=this.options,t=this._index(e.min),o=this._index(e.max),r=e.mousewheel.zoom,a=this._index(e.from),l=this._index(e.to);let c={from:a,to:l};const u=W({},c);if(this._state&&(c=this._state.range),r!==_i&&(c.from=Gt(Gt(a-n,0,l-1),t,o)),r!==Un&&(c.to=Gt(Gt(l+n,c.from+1,o),t,o)),c.from!==u.from||c.to!==u.to)return this.set(c.from,c.to),!0}zoom(n,e){const t=this.options,o=this._index(t.min),r=this._index(t.max),a=this._index(t.from),l=this._index(t.to);let c={from:a,to:l};const u=W({},c),{reverse:f}=this.categoryAxis.options,_=yt+(f?"2":"1"),S=this.categoryAxis.lineBox(),v=Math.abs(S[_]-e[yt]),b=S.width(),D=Ye(v/b,2),k=Ye(D*n),O=Ye((1-D)*n);if(this._state&&(c=this._state.range),c.from=Gt(Gt(a-k,0,l-1),o,r),c.to=Gt(Gt(l+O,c.from+1,r),o,r),c.from!==u.from||c.to!==u.to)return this.set(c.from,c.to),!0}trigger(n,e){return(this.observer||this.chart).trigger(n,e)}}De(iAe,{visible:!0,mousewheel:{zoom:"both"},min:hr,max:zo});const sAe=iAe,A6t=class R6t extends Rse{show(n){if(!n||!n.tooltipAnchor||this._current&&this._current===n)return;const e=W({},this.options,n.options.tooltip),t=n.tooltipAnchor();t?(this._current=n,super.show({point:n,anchor:t},e,n)):this.hide()}hide(){delete this._current,super.hide()}};class oAe extends Rse{constructor(n,e){super(n.chartService,e),this.plotArea=n,this.formatService=n.chartService.format}showAt(n,e){const t=zd(n,function(o){const r=o.series.tooltip;return!(r&&!1===r.visible)});if(t.length>0){const o=t[0],r=this.plotArea.categoryAxis.getSlot(o.categoryIx),a=e?this._slotAnchor(e,r):this._defaultAnchor(o,r);this.show({anchor:a,shared:!0,points:n,category:o.category,categoryText:this.formatService.auto(this.options.categoryFormat,o.category),series:this.plotArea.series},this.options)}}_slotAnchor(n,e){return this.plotArea.categoryAxis.options.vertical||(n.x=e.center().x),{point:n,align:{horizontal:"left",vertical:"center"}}}_defaultAnchor(n,e){const t=n.owner.pane.chartsBox(),o=this.plotArea.categoryAxis.options.vertical,r=t.center(),a=e.center();let c;return c=o?new on(r.x,a.y):new on(a.x,r.y),{point:c,align:{horizontal:"center",vertical:"center"}}}}De(oAe,{categoryFormat:"{0:d}"});const rAe=oAe;class aAe extends Xu{setup(){const{element:n,options:e}=this;if(n.bbox()){this.origin=e.origin;const o=e.vertical?kt:yt,r=this.fromScale=new Ie(1,1);r[o]=ix,n.transform(wi().scale(r.x,r.y))}else this.abort()}step(n){const e=$u(this.fromScale.x,1,n),t=$u(this.fromScale.y,1,n);this.element.transform(wi().scale(e,t,this.origin))}abort(){super.abort(),this.element.transform(null)}}De(aAe,{duration:Ku}),Hf.current.register(Yu,aAe);class lAe extends Xu{setup(){const n=this.center=this.element.bbox().center();this.element.transform(wi().scale(ix,ix,n))}step(n){this.element.transform(wi().scale(n,n,this.center))}}De(lAe,{easing:"easeOutElastic"}),Hf.current.register(Sk,lAe);class cAe extends Xu{setup(){this.fadeTo=this.element.opacity(),this.element.opacity(0)}step(n){this.element.opacity(n*this.fadeTo)}}De(cAe,{duration:200,easing:"linear"}),Hf.current.register(XS,cAe);class dAe extends Xu{setup(){this.element.transform(wi().scale(ix,ix,this.options.center))}step(n){this.element.transform(wi().scale(n,n,this.options.center))}}De(dAe,{easing:"easeOutElastic",duration:Ku}),Hf.current.register(KS,dAe);class uAe extends wV{render(){super.render(),this.renderSegments()}createSegment(n,e,t){let r;return r=e.style===gk?bse:Rk,new r(n,e,t)}animationPoints(){return super.animationPoints().concat(this._segments)}createMissingValue(n,e){if(e===K_){const t={x:n.x,y:n.y};return $c(t.x)||(t.x=0),$c(t.y)||(t.y=0),t}}}W(uAe.prototype,Ese);const hAe=uAe,Dx=function x6t(i,n,e){const t=[];let{xMin:o,xMax:r}=n;const a=(e||{}).forecast;a&&(a.before>0&&(o-=a.before),a.after>0&&(r+=a.after));const l=(e||{}).samplingInterval;let c=sn(l,pk(o,r)/10);l<=0&&(c=r-o);for(let u=o;u<=r;u+=c)t.push([u,i(u)]);return t},PV=i=>({valueFields:n})=>({xValue:n.x,yValue:n[i]}),pAe=function V6t(i,n){let e=Number.MAX_VALUE,t=Number.MIN_VALUE;for(let o=0;o<i.length;o++){const r=i[o],{xValue:a,yValue:l}=n(r);isFinite(a)&&null!==a&&isFinite(l)&&null!==l&&(e=Math.min(a,e),t=Math.max(a,t))}return{xMin:e,xMax:t}},hb={};hb[sse]=function N6t(i){const{options:n,seriesValues:e}=i,t=function P6t({seriesValues:i,options:n}){const e=i();if(!bx(e,n.field))return null;let{slope:t,intercept:o,count:r,xMin:a,xMax:l}=ZS(e,(i=>({valueFields:n})=>({xValue:n.x,yValue:Math.log(n[i])}))(n.field));const c={xMin:a,xMax:l};if(r>0){const u=Math.exp(o),f=t;return Dx(_=>u*Math.exp(f*_),c,n.trendline)}return null}({seriesValues:e,options:n});return t?Object.assign({},n,{type:"scatterLine",data:t}):null},hb[ose]=function U6t(i){const{options:n,seriesValues:e}=i,t=function F6t({seriesValues:i,options:n}){let{slope:e,intercept:t,count:o,xMin:r,xMax:a}=ZS(i(),PV(n.field));return o>0?Dx(c=>e*c+t,{xMin:r,xMax:a},n.trendline):null}({seriesValues:e,options:n});return t?Object.assign({},n,{type:"scatterLine",data:t}):null},hb[rse]=function z6t(i){const{options:n,seriesValues:e}=i,t=function $6t({seriesValues:i,options:n}){const e=i();if(!bx(e,"x"))return null;let{slope:t,intercept:o,count:r}=ZS(e,(i=>({valueFields:n})=>({xValue:Math.log(n.x),yValue:n[i]}))(n.field)),a=pAe(e,(i=>({valueFields:n})=>({xValue:n.x,yValue:n[i]}))(n.field));if(r>0){const l=t,c=o;return Dx(u=>l*Math.log(u)+c,a,n.trendline)}return null}({seriesValues:e,options:n});return t?Object.assign({},n,{type:"scatterLine",data:t}):null},hb[ase]=function W6t(i){const{options:n}=i,e=function K6t({options:i,seriesValues:n}){const e=(i.trendline||{}).period||2,o=SRe(n({before:e,after:e}),PV(i.field),e);return o.length>0?o:null}(i);return e?Object.assign({},n,{type:"scatterLine",data:e}):null},hb[lse]=function J6t(i){const{options:n,seriesValues:e}=i,t=function q6t({seriesValues:i,options:n}){const e=(n.trendline||{}).order,t=PV(n.field),{count:o,valueMapper:r,xMin:a,xMax:l}=CRe(i(),t,e);return o>0?Dx(r,{xMin:a,xMax:l},n.trendline):null}({seriesValues:e,options:n});return t?Object.assign({},n,{type:"scatterLine",data:t}):null},hb[cse]=function Z6t(i){const{options:n,seriesValues:e}=i,t=function tNt({seriesValues:i,options:n}){const e=i();if(!bx(e,"x"))return null;let{slope:t,intercept:o,count:r}=ZS(e,(i=>({valueFields:n})=>({xValue:Math.log(n.x),yValue:Math.log(n[i])}))(n.field)),a=pAe(e,PV(n.field));if(r>0){const l=Math.exp(o),c=t;return Dx(u=>l*Math.pow(u,c),a,n.trendline)}return null}({seriesValues:e,options:n});return t?Object.assign({},n,{type:"scatterLine",data:t}):null};const iNt=hb;class Jse extends QS{initFields(){this.namedXAxes={},this.namedYAxes={},this.xAxisRangeTracker=new yV,this.yAxisRangeTracker=new yV}render(n=this.panes){this.series=[...this.originalSeries],this.createTrendlineSeries();const e=this.groupSeriesByPane();for(let t=0;t<n.length;t++){const o=n[t],r=e[o.options.name||"default"]||[];this.addToLegend(r);const a=this.filterVisibleSeries(r);a&&(this.createScatterChart(no(a,nse),o),this.createScatterLineChart(no(a,ise),o),this.createBubbleChart(no(a,Sk),o))}this.createAxes(n)}appendChart(n,e){this.xAxisRangeTracker.update(n.xAxisRanges),this.yAxisRangeTracker.update(n.yAxisRanges),super.appendChart(n,e)}removeAxis(n){const e=n.options.name;super.removeAxis(n),n.options.vertical?(this.yAxisRangeTracker.reset(e),delete this.namedYAxes[e]):(this.xAxisRangeTracker.reset(e),delete this.namedXAxes[e]),n===this.axisX&&delete this.axisX,n===this.axisY&&delete this.axisY}seriesPaneName(n){const e=this.options,t=n.xAxis,r=zd([].concat(e.xAxis),function(S){return S.name===t})[0],a=n.yAxis,c=zd([].concat(e.yAxis),function(S){return S.name===a})[0];return(r||{}).pane||(c||{}).pane||(e.panes||[{}])[0].name||"default"}createScatterChart(n,e){n.length>0&&this.appendChart(new wV(this,{series:n,clip:e.options.clip}),e)}createScatterLineChart(n,e){n.length>0&&this.appendChart(new hAe(this,{series:n,clip:e.options.clip}),e)}createBubbleChart(n,e){n.length>0&&this.appendChart(new SAt(this,{series:n,clip:e.options.clip}),e)}createXYAxis(n,e,t){const o=n.name,r=e?this.namedYAxes:this.namedXAxes,a=e?this.yAxisRangeTracker:this.xAxisRangeTracker,l=W({reverse:!e&&this.chartService.rtl},n,{vertical:e}),c=Q_(l.type,_V),u=a.query(),f=c?{min:.1,max:1}:{min:0,max:1},_=a.query(o)||u||f,S=[l.min,l.max],v=this.series;for(let O=0;O<v.length;O++){const I=v[O],x=I[e?"yAxis":"xAxis"];if(x===l.name||0===t&&!x){const P=vs.current.bindPoint(I,0).valueFields;S.push(P[e?"y":"x"]);break}}let b,D;0===t&&u&&(_.min=Math.min(_.min,u.min),_.max=Math.max(_.max,u.max));for(let O=0;O<S.length;O++)if(S[O]instanceof Date){b=!0;break}D=Q_(l.type,z_)||!l.type&&b?dRt:c?aV:Wu;const k=new D(_.min,_.max,l,this.chartService);if(k.axisIndex=t,o){if(r[o])throw new Error(`${e?"Y":"X"} axis with name ${o} is already defined`);r[o]=k}return this.appendAxis(k),k}createAxes(n){const e=this.options,t=[].concat(e.xAxis),o=[],r=[].concat(e.yAxis),a=[];for(let l=0;l<t.length;l++)Rn(this.findPane(t[l].pane),n)&&o.push(this.createXYAxis(t[l],!1,l));for(let l=0;l<r.length;l++)Rn(this.findPane(r[l].pane),n)&&a.push(this.createXYAxis(r[l],!0,l));this.axisX=this.axisX||o[0],this.axisY=this.axisY||a[0]}_dispatchEvent(n,e,t){const o=n._eventCoordinates(e),r=new on(o.x,o.y),a=this.axes,l=a.length,c=[],u=[];for(let f=0;f<l;f++){const _=a[f],S=_.options.vertical?u:c,v=_.getValue(r);null!==v&&S.push(v)}c.length>0&&u.length>0&&n.trigger(t,{element:Kh(e),originalEvent:e,x:Mk(c),y:Mk(u)})}updateAxisOptions(n,e){const t=n.options.vertical,o=this.groupAxes(this.panes),r=(t?o.y:o.x).indexOf(n);fAe(this.options,r,t,e),fAe(this.originalOptions,r,t,e)}trendlineFactory(n,e){const t=this.seriesValues.bind(this,e.index),o=gRe(iNt,n.type,{options:n,seriesValues:t});return o&&(o.xAxis=e.xAxis,o.yAxis=e.yAxis),o}seriesValues(n){const e=[],t=this.series[n];for(let o=0;o<t.data.length;o++){const r=this.bindPoint(t,o);e.push({pointIx:o,valueFields:r.valueFields})}return e}}function fAe(i,n,e,t){W([].concat(e?i.yAxis:i.xAxis)[n],t)}De(Jse,{xAxis:{},yAxis:{}}),W(Jse.prototype,Cx);const qse=Jse;class GV extends Pi{constructor(n,e,t){super(t),this.value=n,this.sector=e}render(){this._rendered||!1===this.visible||(this._rendered=!0,this.createLabel())}createLabel(){const n=this.options.labels,e=this.owner.chartService;let t=this.getLabelText(n);if(n.visible&&(t||0===t)){if(n.position===_n||n.position===gV)n.color||(n.color=FB(this.options.color)),n.background||(n.background=this.options.color);else{const o=e.theme.seriesDefaults.labels;n.color=n.color||o.color,n.background=n.background||o.background}this.label=new jc(t,W({},n,{align:_n,vAlign:"",animation:{type:XS,delay:this.animationDelay}}),this.pointData()),this.append(this.label)}}getLabelText(n){let e=zr(n);return e?e(this.pointData()):this.owner.chartService.format.auto(n.format,this.value)}reflow(n){this.render(),this.box=n,this.reflowLabel()}reflowLabel(){const{options:{labels:n},label:e}=this,t=this.sector.clone(),o=n.distance,r=t.middle();if(e){const a=e.box.height(),l=e.box.width();let c;if(n.position===_n)t.radius=Math.abs((t.radius-a)/2)+a,c=t.point(r),e.reflow(new Ve(c.x,c.y-a/2,c.x,c.y));else if(n.position===gV)t.radius=t.radius-a/2,c=t.point(r),e.reflow(new Ve(c.x,c.y-a/2,c.x,c.y));else{let u;c=t.clone().expand(o).point(r),c.x>=t.center.x?(u=c.x+l,e.orientation=_i):(u=c.x-l,e.orientation=Un),e.reflow(new Ve(u,c.y-a,c.x,c.y))}}}createVisual(){const{sector:n,options:e}=this;if(super.createVisual(),this.addAccessibilityAttributesToVisual(),this.value)if(e.visual){const t=(n.startAngle+180)%360,o=e.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,center:new Ie(n.center.x,n.center.y),radius:n.radius,innerRadius:n.innerRadius,startAngle:t,endAngle:t+n.angle,options:e,sender:this.getSender(),createVisual:()=>{const r=new Pn;return this.createSegmentVisual(r),r}});o&&this.visual.append(o)}else this.createSegmentVisual(this.visual)}createSegmentVisual(n){const{sector:e,options:t}=this,o=t.border||{},a=t.color,l={color:a,opacity:t.opacity},c=this.createSegment(e,W({fill:l,stroke:{opacity:t.opacity},zIndex:t.zIndex},o.width>0?{stroke:{color:o.color,width:o.width,opacity:o.opacity,dashType:o.dashType}}:{}));n.append(c),gse(t)&&n.append(this.createGradientOverlay(c,{baseColor:a,fallbackFill:l},W({center:[e.center.x,e.center.y],innerRadius:e.innerRadius,radius:e.radius,userSpace:!0},t.overlay)))}createSegment(n,e){return e.singleSegment?new Ad(new ul(new Ie(n.center.x,n.center.y),n.radius),e):HB.current.createRing(n,e)}createAnimation(){const{options:n,sector:{center:e}}=this;W(n,{animation:{center:[e.x,e.y],delay:this.animationDelay}}),super.createAnimation()}createHighlight(n){const e=this.options.highlight||{},t=e.border||{};return this.createSegment(this.sector,W({},n,{fill:{color:e.color,opacity:e.opacity},stroke:{opacity:t.opacity,width:t.width,color:t.color}}))}highlightVisual(){return this.visual.children[0]}highlightVisualArgs(){const n=this.sector;return{options:this.options,radius:n.radius,innerRadius:n.innerRadius,center:new Ie(n.center.x,n.center.y),startAngle:n.startAngle,endAngle:n.angle+n.startAngle,visual:this.visual}}createFocusHighlight(n){const t=this.createSegment(this.sector,W({},n,{stroke:{width:2*this.options.accessibility.highlight.border.width}})),o=new Lc;return o.paths.push(lt.fromRect(t.bbox())),o.paths.push(this.createSegment(this.sector,{})),t.clip(o),t}tooltipAnchor(){const n=this.sector.clone().expand(5),e=n.middle();return{point:n.point(e),align:rNt(e+180)}}formatValue(n){return this.owner.formatPointValue(this,n)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}}getIndex(){return this.index}}const sNt=Ye(pr(30),10),oNt=Ye(pr(60),10);function rNt(i){const n=pr(i),e=Ye(Math.sin(n),10),t=Ye(Math.cos(n),10);let o,r;return o=Math.abs(e)>oNt?_n:t<0?_i:Un,r=Math.abs(e)<sNt?_n:e<0?mi:jn,{horizontal:o,vertical:r}}De(GV,{color:ri,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:!1,distance:35,font:i3e,margin:Ti(.5),align:zc,zIndex:1,position:tb},animation:{type:KS},highlight:{visible:!0,border:{width:1}},visible:!0,accessibility:{role:YS,className:JS,ariaRoleDescription:qS}}),W(GV.prototype,Qh),W(GV.prototype,xk);const mAe=GV,_Ae={createLegendItem:function(i,n,e){const t=this.options.legend||{},o=t.labels||{},r=t.inactiveItems||{},a=r.labels||{};if(e&&!1!==e.visibleInLegend){const l=!1!==e.visible,c=l?zr(o):zr(a)||zr(o);let f,_,u=e.category;c&&(u=c({text:u,series:e.series,dataItem:e.dataItem,percentage:e.percentage,value:i})),l?(f={},_=n.color):(f={color:a.color,font:a.font},_=(r.markers||{}).color),$c(u)&&""!==u&&this.legendItems.push({active:l,pointIndex:e.index,text:u,series:e.series,markerColor:_,labels:f})}}};class UV extends Pi{constructor(n,e){super(e),this.plotArea=n,this.chartService=n.chartService,this.points=[],this.legendItems=[],this.render()}render(){this.traverseDataPoints(this.addValue.bind(this))}traverseDataPoints(n){const{options:e,plotArea:{options:{seriesColors:t=[]}}}=this,o=t.length,r=e.series,a=r.length;for(let l=0;l<a;l++){const c=r[l],u=c.data,{total:f,points:_,count:S}=PIe(c),v=360/f;let b,D;isFinite(v)||(b=360/S),D=ge(c.startAngle)?c.startAngle:e.startAngle,l!==a-1&&c.labels.position===tb&&(c.labels.position=_n);for(let k=0;k<_.length;k++){const O=_[k];if(!O)continue;const{fields:I,value:x,visible:P}=O,L=0!==x?b||x*v:0,H=1!==u.length&&!!I.explode;Fs(c.color)||(c.color=I.color||t[k%o]),n(x,new qA(null,0,0,D,L),{owner:this,category:ge(I.category)?I.category:"",index:k,series:c,seriesIx:l,dataItem:u[k],percentage:0!==f?x/f:0,explode:H,visibleInLegend:I.visibleInLegend,visible:P,zIndex:a-l,animationDelay:this.animationDelay(k,l,a)}),!1!==P&&(D+=L)}}}evalSegmentOptions(n,e,t){const o=t.series;Z_(n,{value:e,series:o,dataItem:t.dataItem,category:t.category,percentage:t.percentage},{defaults:o._defaults,excluded:["data","content","template","visual","toggle","ariaTemplate","ariaContent"]})}addValue(n,e,t){const o=W({},t.series,{index:t.index});if(this.evalSegmentOptions(o,n,t),this.createLegendItem(n,o,t),!1===t.visible)return;const r=new mAe(n,e,o);Object.assign(r,t),this.append(r),this.points.push(r)}reflow(n){const{options:e,points:t,seriesConfigs:o=[]}=this,r=t.length,a=n.clone(),c=Math.min(a.width(),a.height()),u=c/2,f=c-.85*c,_=new Ve(a.x1,a.y1,a.x1+c,a.y1+c),S=_.center(),v=a.center(),b=e.series.length,D=[],k=[];let O=sn(e.padding,f);this.targetBox=n,O=O>u-5?u-5:O,_.translate(v.x-S.x,v.y-S.y);const I=u-O,x=new on(I+_.x1+O,I+_.y1+O);for(let P=0;P<r;P++){const L=t[P],H=L.sector,j=L.seriesIx;if(H.radius=I,H.center=x,o.length){const te=o[j];H.innerRadius=te.innerRadius,H.radius=te.radius}j===b-1&&L.explode&&(H.center=H.clone().setRadius(.15*H.radius).point(H.middle())),L.reflow(_);const J=L.label;J&&J.options.position===tb&&j===b-1&&(J.orientation===_i?k.push(J):D.push(J))}D.length>0&&(D.sort(this.labelComparator(!0)),this.leftLabelsReflow(D)),k.length>0&&(k.sort(this.labelComparator(!1)),this.rightLabelsReflow(k)),this.box=_}leftLabelsReflow(n){const e=this.distanceBetweenLabels(n);this.distributeLabels(e,n)}rightLabelsReflow(n){const e=this.distanceBetweenLabels(n);this.distributeLabels(e,n)}distanceBetweenLabels(n){const e=jo(this.points),t=e.sector,o=n.length-1,r=t.radius+e.options.labels.distance,a=[];let l=n[0].box,c=Ye(l.y1-(t.center.y-r-l.height()-l.height()/2));a.push(c);for(let u=0;u<o;u++)l=n[u].box,c=Ye(n[u+1].box.y1-l.y2),a.push(c);return c=Ye(t.center.y+r-n[o].box.y2-n[o].box.height()/2),a.push(c),a}distributeLabels(n,e){const t=n.length;let o,r,a;for(let l=0;l<t;l++)for(a=-n[l],o=r=l;a>0&&(o>=0||r<t);)a=this._takeDistance(n,l,--o,a),a=this._takeDistance(n,l,++r,a);this.reflowLabels(n,e)}_takeDistance(n,e,t,o){let r=o;if(n[t]>0){const a=Math.min(n[t],r);r-=a,n[t]-=a,n[e]+=a}return r}reflowLabels(n,e){const t=jo(this.points),o=t.sector,r=t.options.labels,a=e.length,l=r.distance;let u,c=o.center.y-(o.radius+l)-e[0].box.height();n[0]+=2;for(let f=0;f<a;f++){const _=e[f],S=_.box;c+=n[f],u=this.hAlignLabel(S.x2,o.clone().expand(l),c,c+S.height(),_.orientation===_i),_.orientation===_i?(r.align!==zc&&(u=o.radius+o.center.x+l),_.reflow(new Ve(u+S.width(),c,u,c))):(r.align!==zc&&(u=o.center.x-o.radius-l),_.reflow(new Ve(u-S.width(),c,u,c))),c+=S.height()}}createVisual(){const{options:{connectors:n},points:e}=this,t=e.length;super.createVisual(),this._connectorLines=[];for(let r=0;r<t;r++){const a=e[r],{sector:l,label:c}=a,u=l.middle();if(c){const _=new lt({stroke:{color:(a.options.connectors||{}).color||n.color,width:n.width},animation:{type:XS,delay:a.animationDelay}});if(c.options.position===tb){const S=c.box,v=l.center;let k,O,I,b=l.point(u),D=new on(S.x1,S.center().y);b=l.clone().expand(n.padding).point(u),_.moveTo(b.x,b.y),c.orientation===_i?(O=new on(S.x1-n.padding,S.center().y),I=gAe(v,b,D,O),D=new on(O.x-4,O.y),I=I||D,I.x=Math.min(I.x,D.x),this.pointInCircle(I,l.center,l.radius+4)||I.x<l.center.x?(k=l.center.x+l.radius+4,_.lineTo(a.options.labels.align!==Wf?k<D.x?k:b.x+8:k,b.y),_.lineTo(D.x,O.y)):(I.y=O.y,_.lineTo(I.x,I.y))):(O=new on(S.x2+n.padding,S.center().y),I=gAe(v,b,D,O),D=new on(O.x+4,O.y),I=I||D,I.x=Math.max(I.x,D.x),this.pointInCircle(I,l.center,l.radius+4)||I.x>l.center.x?(k=l.center.x-l.radius-4,_.lineTo(a.options.labels.align!==Wf?k>D.x?k:b.x-8:k,b.y),_.lineTo(D.x,O.y)):(I.y=O.y,_.lineTo(I.x,I.y))),_.lineTo(O.x,O.y),this._connectorLines.push(_),this.visual.append(_)}}}}renderVisual(){if(super.renderVisual(),k3e(this.options.series,n=>n.autoFit)){const n=this.targetBox,e=this.box.center(),t=this.visual.bbox();if(!t)return;const o=t.bottomRight(),r=Math.min((e.y-n.y1)/(e.y-t.origin.y),(n.y2-e.y)/(o.y-e.y),(e.x-n.x1)/(e.x-t.origin.x),(n.x2-e.x)/(o.x-e.x));r<1&&this.visual.transform(wi().scale(r,r,[e.x,e.y]))}}labelComparator(n){const e=n?-1:1;return function(t,o){return((t.parent.sector.middle()+270)%360-(o.parent.sector.middle()+270)%360)*e}}hAlignLabel(n,e,t,o,r){const{radius:a,center:{x:l,y:c}}=e,u=Math.min(Math.abs(c-t),Math.abs(c-o));return u>a?n:l+Math.sqrt(a*a-u*u)*(r?1:-1)}pointInCircle(n,e,t){return Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2)<Math.pow(t,2)}formatPointValue(n,e){return this.chartService.format.auto(e,n.value)}animationDelay(n){return 70*n}stackRoot(){return this}}function gAe(i,n,e,t){const r=(t.y-e.y)*(n.x-i.x)-(t.x-e.x)*(n.y-i.y);let a;if(0!==r){const l=((t.x-e.x)*(i.y-e.y)-(t.y-e.y)*(i.x-e.x))/r;a=new on(i.x+l*(n.x-i.x),i.y+l*(n.y-i.y))}return a}De(UV,{startAngle:90,connectors:{width:2,color:"#939393",padding:8},inactiveItems:{markers:{},labels:{}}}),W(UV.prototype,_Ae),UV.prototype.isStackRoot=!0;const SAe=UV,vAe=class lNt extends QS{render(){this.createPieChart(this.series)}createPieChart(n){const e=n[0],t=new SAe(this,{series:n,padding:e.padding,startAngle:e.startAngle,connectors:e.connectors,legend:this.options.legend});this.appendChart(t)}appendChart(n,e){super.appendChart(n,e),K0(this.options.legend.data,n.legendItems)}getPointBelow(n){return this.getPointToTheRight(n)}getPointAbove(n){return this.getPointToTheLeft(n)}};class Qse extends mAe{reflowLabel(){const{options:{labels:n},label:e}=this,t=this.sector.clone(),o=t.middle();if(e){const r=e.box.height();if(n.position===_n){t.radius-=(t.radius-t.innerRadius)/2;const a=t.point(o);e.reflow(new Ve(a.x,a.y-r/2,a.x,a.y))}else super.reflowLabel()}}createSegment(n,e){return HB.current.createRing(n,e)}}De(Qse,{overlay:{gradient:"roundedGlass"},labels:{position:_n},animation:{type:KS}}),W(Qse.prototype,Qh);const CAe=Qse;class bAe extends SAe{addValue(n,e,t){const o=W({},t.series,{index:t.index});if(this.evalSegmentOptions(o,n,t),this.createLegendItem(n,o,t),!1===t.visible)return;const r=new CAe(n,e,o);Object.assign(r,t),this.append(r),this.points.push(r)}reflow(n){const e=this.options,t=n.clone(),r=Math.min(t.width(),t.height()),a=r/2,c=e.series,u=c.length;let f=sn(e.padding,r-.85*r);f=f>a-5?a-5:f;let v,_=a-f,S=0;for(let I=0;I<u;I++){const x=c[I];0===I&&ge(x.holeSize)&&(v=x.holeSize,_-=x.holeSize),ge(x.size)?_-=x.size:S++,ge(x.margin)&&I!==u-1&&(_-=x.margin)}ge(v)||(v=(a-f)/(u+.75)*.75,_-=v);let k,O,b=v,D=0;this.seriesConfigs=[];for(let I=0;I<u;I++){const x=c[I];k=sn(x.size,_/S),b+=D,O=b+k,this.seriesConfigs.push({innerRadius:b,radius:O}),D=x.margin||0,b=O}super.reflow(n)}animationDelay(n,e,t){return 50*n+Ku*(e+1)/(t+1)}}De(bAe,{startAngle:90,connectors:{width:2,color:"#939393",padding:8}});const dNt=bAe,EAe=class fNt extends QS{initFields(){this.valueAxisRangeTracker=new yV}render(){this.addToLegend(this.series),this.createPolarAxis(),this.createCharts(),this.createValueAxis()}alignAxes(){const n=this.valueAxis,e=n.range(),o=n.getSlot(n.options.reverse?e.max:e.min),r=this.polarAxis.getSlot(0).center,a=n.box.translate(r.x-o.x1,r.y-o.y1);n.reflow(a)}createValueAxis(){const n=this.valueAxisRangeTracker,e=n.query(),t=this.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1});let o,r;t.type===_V?(o=gRt,r={min:.1,max:1}):(o=_Rt,r={min:0,max:1});const a=n.query(name)||e||r;a&&e&&(a.min=Math.min(a.min,e.min),a.max=Math.max(a.max,e.max));const l=new o(a.min,a.max,t,this.chartService);this.valueAxis=l,this.appendAxis(l)}reflowAxes(){const{options:{plotArea:n},valueAxis:e,polarAxis:t,box:o}=this,r=.15*Math.min(o.width(),o.height()),a=Ti(n.padding||{},r),l=o.clone().unpad(a),c=l.clone();c.y2=c.y1+Math.min(c.width(),c.height()),c.align(l,kt,_n);const u=c.clone().shrink(0,c.height()/2);t.reflow(c),e.reflow(u);const f=e.lineBox().height()-e.box.height();e.reflow(e.box.unpad({top:f})),this.axisBox=c,this.alignAxes(c)}backgroundBox(){return this.box}detachLabels(){}};class yAe extends wV{pointSlot(n,e){const o=on.onCircle(n.center,n.startAngle,n.center.y-e.y1);return new Ve(o.x,o.y,o.x,o.y)}}De(yAe,{clip:!1});const DAe=yAe;class Zse extends hAe{}Zse.prototype.pointSlot=DAe.prototype.pointSlot,De(Zse,{clip:!1});const wAe=Zse,_Nt=class mNt extends wse{fillToAxes(n){const e=this._polarAxisCenter();n.lineTo(e.x,e.y)}_polarAxisCenter(){return this.parent.plotArea.polarAxis.box.center()}strokeSegments(){let n=this._strokeSegments;if(!n){const e=this._polarAxisCenter(),t=new cV(!1),o=this.points();o.push(e),n=this._strokeSegments=t.process(o),n.pop()}return n}},SNt=class gNt extends Ak{fillToAxes(n){const t=this.parent.plotArea.polarAxis.box.center(),o=new Ga([t.x,t.y]);n.segments.unshift(o),n.segments.push(o)}};function CNt(i,n){return i.value.x-n.value.x}const bNt=class vNt extends wAe{createSegment(n,e,t){let r;return r=(e.line||{}).style===gk?new _Nt(n,e,t):new SNt(n,e,t),r}createMissingValue(n,e){let t;return $c(n.x)&&e!==_k&&(t={x:n.x,y:n.y},e===K_&&(t.y=0)),t}seriesMissingValues(n){return n.missingValues||K_}_hasMissingValuesGap(){const n=this.options.series;for(let e=0;e<n.length;e++)if("gap"===this.seriesMissingValues(n[e]))return!0}sortPoints(n){if(n.sort(CNt),this._hasMissingValuesGap())for(let e=0;e<n.length;e++){const t=n[e];t&&!$c(t.value.y)&&"gap"===this.seriesMissingValues(t.series)&&delete n[e]}return n}};class eoe extends EAe{createPolarAxis(){const n=new fRt(this.options.xAxis,this.chartService);this.polarAxis=n,this.axisX=n,this.appendAxis(n)}render(){this.series=[...this.originalSeries],this.createTrendlineSeries(),super.render()}valueAxisOptions(n){return W(n,{majorGridLines:{type:VS},minorGridLines:{type:VS}},this.options.yAxis)}createValueAxis(){super.createValueAxis(),this.axisY=this.valueAxis}trendlineFactory(n,e){const t=qse.prototype.trendlineFactory.call(this,n,e);return t&&(t.type=fV),t}appendChart(n,e){this.valueAxisRangeTracker.update(n.yAxisRanges),QS.prototype.appendChart.call(this,n,e)}createCharts(){const n=this.filterVisibleSeries(this.series),e=this.panes[0];this.createLineChart(no(n,[fV]),e),this.createScatterChart(no(n,[tse]),e),this.createAreaChart(no(n,[ese]),e)}createLineChart(n,e){if(0===n.length)return;const t=new wAe(this,{series:n});this.appendChart(t,e)}createScatterChart(n,e){if(0===n.length)return;const t=new DAe(this,{series:n});this.appendChart(t,e)}createAreaChart(n,e){if(0===n.length)return;const t=new bNt(this,{series:n});this.appendChart(t,e)}_dispatchEvent(n,e,t){const o=n._eventCoordinates(e),r=new on(o.x,o.y),a=this.axisX.getValue(r),l=this.axisY.getValue(r);null!==a&&null!==l&&n.trigger(t,{element:Kh(e),x:a,y:l})}createCrosshairs(){}}De(eoe,{xAxis:{},yAxis:{}}),W(eoe.prototype,Cx,{seriesValues:qse.prototype.seriesValues});const ENt=eoe;class kAe extends Dse{pointSlot(n,e){const t=n.center.y-e.y1,o=on.onCircle(n.center,n.middle(),t);return new Ve(o.x,o.y,o.x,o.y)}renderSegments(){if(super.renderSegments(),this._segments&&this._segments.length>1){const n=function yNt(i){const n=[];for(let e=0;e<i.length;e++){const t=i[e];n[t.seriesIx]=n[t.seriesIx]||[],n[t.seriesIx].push(t)}return n}(this._segments);for(let e=0;e<n.length;e++){const t=n[e];if(t&&t.length>1){const o=t[0].linePoints[0],r=jo(t),a=jo(r.linePoints);0===o.categoryIx&&a.categoryIx===a.categoriesCount-1&&jo(t).linePoints.push(o)}}}}createSegment(n,e,t){let r;r=e.style===gk?bse:Rk;const a=new r(n,e,t),l=this.seriesMissingValues(e);return(n.length===e.data.length||l===_k)&&(a.options.closed=!0),a}}De(kAe,{clip:!1,limitPoints:!1});const OAe=kAe,wNt=class DNt extends wse{fillToAxes(){}},ONt=class kNt extends Ak{fillToAxes(){}},MNt=class TNt extends OAe{createSegment(n,e,t,o){const a=(e.line||{}).style;let l,c,u;return this.options.isStacked&&t>0&&o&&(c=o.linePoints.slice(0),l=o),a===gk?(u=new wNt(n,e,t,l,c),u.options.closed=!0):(n.push(n[0]),u=new ONt(n,e,t,l,c)),u}seriesMissingValues(n){return n.missingValues||K_}};class TAe extends CAe{constructor(n,e){super(n,null,e)}getIndex(){return this.categoryIx}}De(TAe,{overlay:{gradient:"none"},labels:{distance:10}});const INt=TAe;class MAe extends Pi{constructor(n){super(n),this.forEach=n.rtl?JIe:YIe}reflow(n){const{options:e,children:t}=this,{gap:o,spacing:r}=e,a=t.length,c=n.angle/(a+o+r*(a-1));let u=n.startAngle+c*(o/2);this.forEach(t,f=>{const _=n.clone();_.startAngle=u,_.angle=c,f.sector&&(_.radius=f.sector.radius),f.reflow(_),f.sector=_,u+=c+c*r})}}De(MAe,{gap:1,spacing:0});const RNt=MAe,xNt=class ANt extends Pi{reflow(n){const{options:{reverse:e},children:t}=this,o=t.length,r=e?o-1:0,a=e?-1:1;this.box=new Ve;for(let l=r;l>=0&&l<o;l+=a){const c=t[l].sector;c.startAngle=n.startAngle,c.angle=n.angle}}};class toe extends Sx{pointType(){return INt}clusterType(){return RNt}stackType(){return xNt}categorySlot(n,e){return n.getSlot(e)}pointSlot(n,e){const t=n.clone(),o=n.center.y;return t.radius=o-e.y1,t.innerRadius=o-e.y2,t}reflowPoint(n,e){n.sector=e,n.reflow()}createAnimation(){this.options.animation.center=this.box.toRect().center(),super.createAnimation()}}toe.prototype.reflow=nb.prototype.reflow,De(toe,{clip:!1,limitPoints:!1,animation:{type:"pie"}});const NNt=toe;class noe extends EAe{createPolarAxis(){const n=new Xie(this.options.categoryAxis,this.chartService);this.polarAxis=n,this.categoryAxis=n,this.appendAxis(n),this.aggregateCategories(),this.createTrendlineSeries(),this.createCategoryAxesLabels()}valueAxisOptions(n){return this._hasBarCharts&&W(n,{majorGridLines:{type:VS},minorGridLines:{type:VS}}),this._isStacked100&&W(n,{roundToMajorUnit:!1,labels:{format:"P0"}}),W(n,this.options.valueAxis)}aggregateCategories(){eg.prototype.aggregateCategories.call(this,this.panes)}createCategoryAxesLabels(){eg.prototype.createCategoryAxesLabels.call(this,this.panes)}filterSeries(n){return n}trendlineFactory(n,e){const t=eg.prototype.trendlineFactory.call(this,n,e);return t&&(t.type=Ek),t}createCharts(){const n=this.filterVisibleSeries(this.series),e=this.panes[0];this.createAreaChart(no(n,[lx]),e),this.createLineChart(no(n,[Ek]),e),this.createBarChart(no(n,[mV]),e)}chartOptions(n){const e={series:n},t=n[0];if(t){const o=this.filterVisibleSeries(n),r=t.stack;e.isStacked=r&&o.length>1,e.isStacked100=r&&"100%"===r.type&&o.length>1,e.isStacked100&&(this._isStacked100=!0)}return e}createAreaChart(n,e){if(0===n.length)return;const t=new MNt(this,this.chartOptions(n));this.appendChart(t,e)}createLineChart(n,e){if(0===n.length)return;const t=new OAe(this,this.chartOptions(n));this.appendChart(t,e)}createBarChart(n,e){if(0===n.length)return;const t=n[0],o=this.chartOptions(n),r=this.filterVisibleSeries(n),a=r.some(u=>u.stack),l=r.some(u=>u.stack&&"100%"===u.stack.type);o.gap=t.gap,o.spacing=t.spacing,o.defaultStack=t.stack&&r.length>1,o.isStacked=a&&r.length>1,o.isStacked100=l&&r.length>1;const c=new NNt(this,o);this.appendChart(c,e),this._hasBarCharts=!0}seriesCategoryAxis(){return this.categoryAxis}_dispatchEvent(n,e,t){const o=n._eventCoordinates(e),r=new on(o.x,o.y),a=this.categoryAxis.getCategory(r),l=this.valueAxis.getValue(r);null!==a&&null!==l&&n.trigger(t,{element:Kh(e),category:a,value:l})}createCrosshairs(){}_pointsByVertical(n){return super._pointsByVertical(n).sort(this._getSeriesCompareFn())}_getSeriesCompareFn(){return(n,e)=>e.value-n.value}}W(noe.prototype,Cx,{appendChart:eg.prototype.appendChart,aggregateSeries:eg.prototype.aggregateSeries,seriesSourcePoints:eg.prototype.seriesSourcePoints,seriesValues:eg.prototype.seriesValues}),De(noe,{categoryAxis:{categories:[]},valueAxis:{}});const LNt=noe;class FV extends Pi{constructor(n,e,t){super(e),this.value=n,this.options.index=t.index}getLabelText(n){let e=zr(n);return e?e(this.pointData()):n.format?this.formatValue(n.format):this.value}reflow(n){const e=this.points,t=this.children[0],o=Math.min(e[0].x,e[3].x),r=Math.max(e[1].x,e[2].x);this.box=new Ve(o,e[0].y,r,e[2].y),t&&t.reflow(new Ve(n.x1,e[0].y,n.x2,e[2].y))}createVisual(){const n=this.options;let e;super.createVisual(),this.addAccessibilityAttributesToVisual(),e=n.visual?n.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,points:this.points,options:n,sender:this.getSender(),createVisual:()=>this.createPath()}):this.createPath(),e&&this.visual.append(e)}createPath(){const n=this.options,e=n.border;return lt.fromPoints(this.points,{fill:{color:n.color,opacity:n.opacity},stroke:{color:e.color,opacity:e.opacity,width:e.width}}).close()}createHighlight(n){return lt.fromPoints(this.points,n)}highlightVisual(){return this.visual.children[0]}highlightVisualArgs(){const n=lt.fromPoints(this.points).close();return{options:this.options,path:n}}createFocusHighlight(n){const e=this.options.accessibility.highlight.border.width,t=lt.fromPoints(this.points,W({},n,{stroke:{width:2*e}})).close(),o=new Lc;return o.paths.push(lt.fromRect(this.box.clone().pad(e).toRect())),o.paths.push(lt.fromPoints(this.points)),t.clip(o),t}tooltipAnchor(){const n=this.box;return{point:new on(n.center().x,n.y1),align:{horizontal:"center",vertical:"top"}}}formatValue(n){return this.owner.formatPointValue(this,n)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}}getIndex(){return this.index}}De(FV,{color:ri,border:{width:1},labels:{format:""},accessibility:{role:YS,className:JS,ariaRoleDescription:qS}}),W(FV.prototype,Qh),W(FV.prototype,xk);const PNt=FV;class ioe extends Pi{constructor(n,e){super(e),this.plotArea=n,this.chartService=n.chartService,this.points=[],this.labels=[],this.legendItems=[],this.render()}formatPointValue(n,e){return this.plotArea.chartService.format.auto(e,n.value)}render(){const{options:e,plotArea:{options:{seriesColors:t=[]}}}=this,o=e.series[0],r=o.data;if(!r)return;const{total:a,points:l}=PIe(o);for(let c=0;c<l.length;c++){const u=l[c];if(!u)continue;let f=u.fields;Fs(o.color)||(o.color=f.color||t[c%t.length]),f=W({index:c,owner:this,series:o,seriesIx:0,dataItem:r[c],percentage:u.value/a},f,{visible:u.visible});const _=u.valueFields.value,S=this.createSegment(_,f),v=this.createLabel(_,f);S&&v&&S.append(v)}}evalSegmentOptions(n,e,t){const o=t.series;Z_(n,{value:e,series:o,dataItem:t.dataItem,index:t.index},{defaults:o._defaults,excluded:["data","content","template","toggle","visual","ariaTemplate","ariaContent"]})}createSegment(n,e){const t=W({},e.series);if(this.evalSegmentOptions(t,n,e),this.createLegendItem(n,t,e),!1!==e.visible){const o=new PNt(n,t,e);return Object.assign(o,e),this.append(o),this.points.push(o),o}}createLabel(n,e){const{series:t,dataItem:o}=e,r=W({},this.options.labels,t.labels);let a=n;if(r.visible){const l=zr(r),c={dataItem:o,value:n,percentage:e.percentage,category:e.category,series:t};l?a=l(c):r.format&&(a=this.chartService.format.auto(r.format,a)),r.color||(r.color=FB(t.color),r.background||(r.background=t.color)),this.evalSegmentOptions(r,n,e);const u=new jc(a,W({vAlign:r.position},r),c);return this.labels.push(u),u}}labelPadding(){const n=this.labels,e={left:0,right:0};for(let t=0;t<n.length;t++){const r=n[t].options.align;if(r!==_n){const a=n[t].box.width();r===Un?e.left=Math.max(e.left,a):e.right=Math.max(e.right,a)}}return e}dynamicSlopeReflow(n,e,t){const{options:o,points:r}=this,a=r.length,l=r[0];let c=l;for(let S=0;S<r.length;S++)r[S].percentage>c.percentage&&(c=r[S]);let u=l.percentage/c.percentage*e,f=(e-u)/2,_=0;for(let S=0;S<a;S++){const v=r[S].percentage,b=r[S+1],D=b?b.percentage:v,k=r[S].points=[],O=o.dynamicHeight?t*v:t/a;let I;I=v?(e-u*(D/v))/2:D?0:e/2,I=Gt(I,0,e),k.push(new Ie(n.x1+f,n.y1+_)),k.push(new Ie(n.x1+e-f,n.y1+_)),k.push(new Ie(n.x1+e-I,n.y1+O+_)),k.push(new Ie(n.x1+I,n.y1+O+_)),f=I,_+=O+o.segmentSpacing,u=Gt(e-2*I,0,e)}}constantSlopeReflow(n,e,t){const{options:o,points:r}=this,a=r.length,l=o.neckRatio<=1;let u=l?0:(e-e/o.neckRatio)/2;const _=((l?e:e-2*u)-(l?o.neckRatio*e:e))/2;let S=0;for(let v=0;v<a;v++){const b=r[v].points=[],D=r[v].percentage,k=o.dynamicHeight?_*D:_/a,O=o.dynamicHeight?t*D:t/a;b.push(new Ie(n.x1+u,n.y1+S)),b.push(new Ie(n.x1+e-u,n.y1+S)),b.push(new Ie(n.x1+e-u-k,n.y1+O+S)),b.push(new Ie(n.x1+u+k,n.y1+O+S)),u+=k,S+=O+o.segmentSpacing}}reflow(n){const e=this.points,t=e.length;if(!t)return;const o=this.options,r=n.clone().unpad(this.labelPadding()),a=r.height()-o.segmentSpacing*(t-1),l=r.width();o.dynamicSlope?this.dynamicSlopeReflow(r,l,a):this.constantSlopeReflow(r,l,a);for(let c=0;c<t;c++)e[c].reflow(n)}}De(ioe,{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:_n,position:_n,zIndex:1}}),W(ioe.prototype,_Ae);const IAe=ioe,FNt=class UNt extends IAe{constructor(n,e){e.dynamicSlope=!1,e.neckRatio=1e6,super(n,e)}};class wx extends Pi{constructor(n,e){super(),this.options=e,this.color=e.color||ri,this.value=n}render(){this._rendered||(this._rendered=!0,this.createMarker(),this.createLabel(),this.createNote())}createLabel(){const e=this.options.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))}createLabelElement(n){let e=n.color;return e||(e=FB(this.color)),new jc(this.getLabelText(n),W({align:_n,vAlign:_n,margin:{left:5,right:5},zIndex:sn(n.zIndex,this.series.zIndex)},n,{color:e}),this.pointData())}getLabelText(n){let e=zr(n);return e?e(this.pointData()):this.formatValue(n.format)}formatValue(n){return this.owner.formatPointValue(this,n)}reflow(n){this.render();const e=this.label;this.box=n,e&&e.reflow(this.markerBox()),this.note&&this.note.reflow(n),this.marker.reflow(this.markerBox())}createVisual(){super.createVisual(),this.addAccessibilityAttributesToVisual()}markerBox(){const e=this.options.markers,t=e.border,o=this.box.toRect(),a=sn(e.type,"rect")===a3e;let l=sn(t.width,a?1:0);const c=Math.round(l/2);if(e.size){const u=o.center();o.size.width=o.size.height=e.size,o.origin.x=Math.round(u.x-o.size.width/2),o.origin.y=Math.round(u.y-o.size.height/2)}return o.size.width-=l,o.size.height-=l,o.origin.y+=c+.5,o.origin.x+=c+.5,fk(o)}markerBorder(){const n=this.options,t=n.markers.border,o=sn(t.opacity,n.opacity);return{color:t.color||this.color,width:t.width,opacity:o,dashType:t.dashType}}createMarker(){const n=this.options,e=n.markers,t=new ml({type:sn(e.type,"rect"),width:e.size,height:e.size,rotation:e.rotation,background:this.color,border:this.markerBorder(),borderRadius:e.borderRadius,opacity:this.series.opacity||n.opacity,zIndex:sn(n.zIndex,this.series.zIndex),animation:n.animation,visual:n.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});this.marker=t,this.append(t)}createHighlight(n){const e=this.options,t=this.options.highlight.markers||this.options.markers,o=new ml({type:sn(t.type,"rect"),width:t.size,height:t.size,rotation:t.rotation,background:t.color||this.color,border:this.markerBorder(),borderRadius:t.borderRadius,opacity:this.series.opacity||e.opacity,zIndex:sn(e.zIndex,this.series.zIndex)});o.reflow(this.markerBox());const r=o.getElement();return r.options.fill=n.fill,r.options.stroke=n.stroke,r}highlightVisual(){return this.rectVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}}createFocusHighlight(){const n=this.options.markers,e=this.options.accessibility.highlight,t=new ml({type:sn(n.type,"rect"),width:n.size,height:n.size,rotation:n.rotation,background:e.color,border:e.border,borderRadius:n.borderRadius,padding:e.border.width/2,zIndex:e.zIndex});return t.reflow(this.markerBox()),t.getElement()}tooltipAnchor(){const n=this.box.center().x;return{point:new on(n,this.box.y1-5),align:{horizontal:_n,vertical:mi}}}overlapsBox(n){return this.box.overlaps(n)}unclipElements(){}pointData(){return{x:this.value.x,y:this.value.y,value:this.value.value,dataItem:this.dataItem,series:this.series}}}W(wx.prototype,Qh),W(wx.prototype,Ik),W(wx.prototype,xk),wx.prototype.defaults={markers:{type:"rect",borderRadius:4,border:{color:"transparent"}},padding:{top:1},labels:{visible:!1,padding:3},opacity:1,notes:{label:{}},accessibility:{role:YS,className:JS,ariaRoleDescription:qS}};const RAe=wx;class AAe extends Pi{constructor(n,e){super(e),this.plotArea=n,this.chartService=n.chartService,this._initFields(),this.render()}_initFields(){this.points=[],this.seriesOptions=[],this.valueRange={min:zo,max:hr},this._evalSeries=[]}render(){this.setRange(),this.traverseDataPoints(this.addValue.bind(this))}setRange(){const{options:{series:n}}=this;for(let e=0;e<n.length;e++){const t=n[e];for(let o=0;o<t.data.length;o++){const{valueFields:r}=this.plotArea.bindPoint(t,o);ge(r.value)&&null!==r.value&&(this.valueRange.min=Math.min(this.valueRange.min,r.value),this.valueRange.max=Math.max(this.valueRange.max,r.value))}}}addValue(n,e){let t;n&&ge(n.value)&&null!==n.value&&(t=this.createPoint(n,e),t&&Object.assign(t,e)),this.points.push(t)}evalPointOptions(n,e,t){const{series:o,seriesIx:r}=t,a={defaults:o._defaults,excluded:["data","tooltip","content","template","visual","toggle","drilldownSeriesFactory","ariaTemplate","ariaContent"]};let l=this._evalSeries[r];ge(l)||(this._evalSeries[r]=l=Z_(n,{},a,!0));let c=n;return l&&(c=W({},n),Z_(c,{value:e,series:o,dataItem:t.dataItem,min:this.valueRange.min,max:this.valueRange.max},a)),c}pointType(){return RAe}pointOptions(n,e){let t=this.seriesOptions[e];if(!t){const o=this.pointType().prototype.defaults;this.seriesOptions[e]=t=W({},o,{markers:{opacity:n.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},n)}return t}createPoint(n,e){const t=e.series;let o=this.pointOptions(t,e.seriesIx),r=e.color||t.color;o=this.evalPointOptions(o,n,e),Fs(t.color)?r=o.color:0!==this.valueRange.max&&(r=((i,n=.05)=>{const e=wu(i),t=1-n;return o=>{const r=e.toHSL(),a=100-r.l;return r.l+=Math.min((t-o)*a,a),r.toCss()}})(r)(n.value/this.valueRange.max));const a=new RAe(n,o);return a.color=r,this.append(a),a}seriesAxes(n){const{xAxis:e,yAxis:t}=n,o=this.plotArea,r=e?o.namedXAxes[e]:o.axisX,a=t?o.namedYAxes[t]:o.axisY;if(!r)throw new Error("Unable to locate X axis with name "+e);if(!a)throw new Error("Unable to locate Y axis with name "+t);return{xAxis:r,yAxis:a}}reflow(n){const e=this.points,t=!this.options.clip;let o=0;this.traverseDataPoints((r,a)=>{const l=e[o++],{xAxis:c,yAxis:u}=this.seriesAxes(a.series),f=c.categoryIndex(r.x),_=u.categoryIndex(r.y),S=c.getSlot(f,f,t),v=u.getSlot(_,_,t);if(l)if(S&&v){const b=this.pointSlot(S,v);l.reflow(b)}else l.visible=!1}),this.box=n}pointSlot(n,e){return new Ve(n.x1,e.y1,n.x2,e.y2)}traverseDataPoints(n){const{options:{series:e}}=this;for(let t=0;t<e.length;t++){const o=e[t],{xAxis:r,yAxis:a}=this.seriesAxes(o),l=r.currentRangeIndices(),c=a.currentRangeIndices();for(let u=0;u<o.data.length;u++){const{valueFields:f,fields:_}=this.plotArea.bindPoint(o,u),S=r.totalIndex(f.x),v=a.totalIndex(f.y);l.min<=S&&S<=l.max&&c.min<=v&&v<=c.max&&n(f,W({pointIx:u,series:o,seriesIx:t,dataItem:o.data[u],owner:this},_))}}}formatPointValue(n,e){const t=n.value;return this.chartService.format.auto(e,t.x,t.y,t.value)}animationPoints(){const n=this.points,e=[];for(let t=0;t<n.length;t++)e.push((n[t]||{}).marker);return e}}De(AAe,{series:[],tooltip:{format:"{0}, {1}: {2}"},labels:{format:"{2}"},clip:!0});const HNt=AAe;class soe extends QS{initFields(){this.namedXAxes={},this.namedYAxes={}}render(n=this.panes){this.bindCategories(),this.createAxes(n),this.createCharts(n),this.createAxisLabels()}bindCategories(){const n=this.srcSeries||this.series;for(let e=0;e<n.length;e++){const t=n[e],o=t.data||[],{xAxis:r,yAxis:a}=this.seriesAxes(t),l=M3e(r.categories||[]),c=M3e(a.categories||[]);for(let u=0;u<o.length;u++){const{x:f,y:_}=vs.current.bindPoint(t,u).valueFields;l.has(f)||l.add(f),c.has(_)||c.add(_)}r.categories=l.values(),a.categories=c.values()}}createCharts(n){const e=this.groupSeriesByPane();for(let t=0;t<n.length;t++){const o=n[t],r=e[o.options.name||"default"]||[];this.addToLegend(r);const a=this.filterVisibleSeries(r);a&&this.createHeatmapChart(no(a,[Zie]),o)}}createHeatmapChart(n,e){const t=new HNt(this,{series:n});this.appendChart(t,e)}seriesPaneName(n){const e=this.options,t=n.xAxis,r=zd([].concat(e.xAxis),function(S){return S.name===t})[0],a=n.yAxis,c=zd([].concat(e.yAxis),function(S){return S.name===a})[0];return(r||{}).pane||(c||{}).pane||(e.panes||[{}])[0].name||"default"}seriesAxes(n){let e,t;const o=this.options,r=[].concat(o.xAxis),a=n.xAxis;e=a?r.find(u=>u.name===a):r[0];const l=[].concat(o.yAxis),c=n.yAxis;if(t=c?l.find(u=>u.name===c):l[0],!e)throw new Error("Unable to locate X axis with name "+a);if(!t)throw new Error("Unable to locate Y axis with name "+c);return{xAxis:e,yAxis:t}}createAxisLabels(){const n=this.axes;for(let e=0;e<n.length;e++)n[e].createLabels()}createXYAxis(n,e,t){const o=n.name,r=e?this.namedYAxes:this.namedXAxes,a=Object.assign({axisCrossingValue:0},n,{vertical:e,reverse:e||this.chartService.rtl?!n.reverse:n.reverse,justified:!1}),c=[a.min,a.max,a.categories?a.categories[0]:null],u=this.series;for(let v=0;v<u.length;v++){const b=u[v],D=b[e?"yAxis":"xAxis"];if(D===a.name||0===t&&!D){const k=vs.current.bindPoint(b,0).valueFields;c.push(k[e?"y":"x"]);break}}let f,_;for(let v=0;v<c.length;v++)if(c[v]instanceof Date){f=!0;break}_=Q_(a.type,z_)||!a.type&&f?tV:X_;const S=new _(a,this.chartService);if(S.axisIndex=t,o){if(r[o])throw new Error(`${e?"Y":"X"} axis with name ${o} is already defined`);r[o]=S}return this.appendAxis(S),S.indexCategories(),S}createAxes(n){const e=this.options,t=[].concat(e.xAxis),o=[],r=[].concat(e.yAxis),a=[];for(let l=0;l<t.length;l++)Rn(this.findPane(t[l].pane),n)&&o.push(this.createXYAxis(t[l],!1,l));for(let l=0;l<r.length;l++)Rn(this.findPane(r[l].pane),n)&&a.push(this.createXYAxis(r[l],!0,l));this.axisX=this.axisX||o[0],this.axisY=this.axisY||a[0]}removeAxis(n){const e=n.options.name;super.removeAxis(n),n.options.vertical?delete this.namedYAxes[e]:delete this.namedXAxes[e],n===this.axisX&&delete this.axisX,n===this.axisY&&delete this.axisY}_dispatchEvent(n,e,t){const o=n._eventCoordinates(e),r=new on(o.x,o.y),a=this.axes,l=a.length,c=[],u=[];for(let f=0;f<l;f++){const _=a[f];vV(_.options.vertical?u:c,_.getCategory(r))}c.length>0&&u.length>0&&n.trigger(t,{element:Kh(e),originalEvent:e,x:Mk(c),y:Mk(u)})}updateAxisOptions(n,e){const t=n.options.vertical,o=this.groupAxes(this.panes),r=(t?o.y:o.x).indexOf(n);xAe(this.options,r,t,e),xAe(this.originalOptions,r,t,e)}crosshairOptions(n){return Object.assign({},n.options.crosshair,{zIndex:0})}_pointsByVertical(n,e=0){const t=this.axisX.options.reverse?-1*e:e,o=this.axisX.children;let r=this._getPointAxisXIndex(n)+t;r=LB(r,o.length);const a=o[r].value,l=this.filterPoints(c=>ooe(c.pointData().x,a)).sort((c,u)=>this._getPointAxisYIndex(c)-this._getPointAxisYIndex(u));return this.axisY.options.reverse?l.reverse():l}_pointsByHorizontal(n,e=0){const t=this.axisY.options.reverse?-1*e:e,o=this.axisY.children;let r=this._getPointAxisYIndex(n)+t;r=LB(r,o.length);const a=o[r].value,l=this.filterPoints(c=>ooe(c.pointData().y,a)).sort((c,u)=>this._getPointAxisXIndex(c)-this._getPointAxisXIndex(u));return this.axisX.options.reverse?l.reverse():l}_getPointAxisXIndex(n){return this._getPointAxisIndex(this.axisX,n.pointData().x)}_getPointAxisYIndex(n){return this._getPointAxisIndex(this.axisY,n.pointData().y)}_getPointAxisIndex(n,e){return n.children.findIndex(t=>ooe(e,t.value))}}function ooe(i,n){return i instanceof Date&&n instanceof Date?JB(i,n):i===n}function xAe(i,n,e,t){W([].concat(e?i.yAxis:i.xAxis)[n],t)}De(soe,{xAxis:{},yAxis:{}}),W(soe.prototype,Cx);const jNt=soe,Hd="color",jd="first",Zl="max",sg="noteText";ng.current.register(eg,[Yu,Wf,J_,Z0,Y_,Q0,vk,bk,WS,dx,ox,wk,cx,Dk,ux,Ck,yk,eb,...kk]),ng.current.register(qse,[nse,ise,Sk,...kk]),ng.current.register(vAe,[KS]),ng.current.register(class uNt extends vAe{render(){this.createDonutChart(this.series)}createDonutChart(n){const e=n[0],t=new dNt(this,{series:n,padding:e.padding,connectors:e.connectors,legend:this.options.legend});this.appendChart(t)}getPointBelow(n){return this._getNextPoint(n,this._pointsByVertical,-1)}getPointAbove(n){return this._getNextPoint(n,this._pointsByVertical,1)}},[pV]),ng.current.register(class BNt extends QS{render(){this.createChart(IAe,no(this.series,[rx])),this.createChart(FNt,no(this.series,[ax]))}createChart(n,e){const t=e[0];if(!t)return;const o=new n(this,{series:e,legend:this.options.legend,neckRatio:t.neckRatio,dynamicHeight:t.dynamicHeight,dynamicSlope:t.dynamicSlope,segmentSpacing:t.segmentSpacing,highlight:t.highlight});this.appendChart(o)}appendChart(n,e){super.appendChart(n,e),K0(this.options.legend.data,n.legendItems)}_pointsByVertical(n){return this.pointsBySeriesIndex(n.series.index)}getPointToTheRight(n){return this.getPointBelow(n)}getPointToTheLeft(n){return this.getPointAbove(n)}},[rx,ax]),ng.current.register(ENt,[ese,fV,tse,...kk]),ng.current.register(LNt,[lx,mV,Ek,...kk]),ng.current.register(jNt,[Zie]),vs.current.register([Yu,Wf,J_,Z0,Y_,Q0],[Bd],[qh,Hd,sg,"errorLow","errorHigh",q_]),vs.current.register([cx,Dk,yk,eb],["from","to"],[qh,Hd,sg,q_]),vs.current.register([ux,Ck],[Bd],[qh,Hd,sg,"summary",q_]),vs.current.register([ese,fV,tse],[yt,kt],[Hd,q_]),vs.current.register([lx,mV,Ek],[Bd],[qh,Hd,q_]),vs.current.register([rx,ax],[Bd],[qh,Hd,"visibleInLegend","visible",q_]),ob.current.register([Yu,Wf,J_,Z0,Y_,Q0,ux,Ck],{value:Zl,color:jd,noteText:jd,errorLow:"min",errorHigh:Zl}),ob.current.register([cx,Dk,yk,eb],{from:"min",to:Zl,color:jd,noteText:jd}),ob.current.register([lx,mV,Ek],{value:Zl,color:jd}),vs.current.register([nse,ise,Sk],[yt,kt],[Hd,sg,"xErrorLow","xErrorHigh","yErrorLow","yErrorHigh"]),vs.current.register([Sk],[yt,kt,"size"],[Hd,qh,sg]),vs.current.register([Zie],[yt,kt,Bd],[Hd,sg]),vs.current.register([vk,bk],["open","high","low","close"],[qh,Hd,"downColor",sg]),ob.current.register([vk,bk],{open:Zl,high:Zl,low:"min",close:Zl,color:jd,downColor:jd,noteText:jd}),vs.current.register([ox,wk],["lower","q1","median","q3","upper","mean","outliers"],[qh,Hd,sg,q_]),ob.current.register([ox,wk],{lower:Zl,q1:Zl,median:Zl,q3:Zl,upper:Zl,mean:Zl,outliers:jd,color:jd,noteText:jd}),vs.current.register([WS,dx],["current","target"],[qh,Hd,"visibleInLegend",sg,q_]),ob.current.register([WS,dx],{current:Zl,target:Zl,color:jd,noteText:jd}),vs.current.register([KS,pV],[Bd],[qh,Hd,"explode","visibleInLegend","visible",q_]);const aoe=[qh,Bd,yt,kt],pb="mousemove",NAe="contextmenu",LAe="mouseleave";class FAe extends pt{constructor(n,e,t,o={}){super(),this.observers=[],this.addObserver(o.observer),this.chartService=new Rie(this,o),this.chartService.theme=t,this._initElement(n);const r=W({},this.options,e);this._originalOptions=W({},r),this._theme=t,this._initTheme(r,t),this._focusState={},this._initHandlers(),this._initSurface(),this.bindCategories(),fIt.preloadFonts(e,()=>{this.fontLoaded=!0,this._destroyed||(this.trigger("init"),this._redraw(),this._attachEvents())})}_initElement(n){for(this._setElementClass(n),n.style.position="relative",n.tabIndex=n.getAttribute("tabindex")?n.getAttribute("tabindex"):0,n.setAttribute("role","graphics-document document");n.firstChild;)n.removeChild(n.firstChild);this.element=n}_setElementClass(n){Ho(n,"k-chart")}_initTheme(n,e){const t=[],o=n.series||[];for(let r=0;r<o.length;r++)t.push(Object.assign({},o[r]));n.series=t,function JNt(i){const n=aoe;for(let e=0;e<n.length;e++){const t=n[e]+"Axes";i[t]&&(i[n[e]+"Axis"]=i[t],delete i[t])}}(n),this.applyDefaults(n,e),null===n.seriesColors&&delete n.seriesColors,Hc(n.title)&&(n.title={text:n.title}),this.options=W({},e,n),this.applySeriesColors()}getSize(){const n=this.options.chartArea||{};return{width:n.width?parseInt(n.width,10):Math.floor(this.element.offsetWidth),height:n.height?parseInt(n.height,10):Math.floor(this.element.offsetHeight)}}resize(n){const e=this.getSize(),t=this._size,o=e.width>0||e.height>0;n||o&&(!t||e.width!==t.width||e.height!==t.height)?(this._size=e,this._resize(e,n),this.trigger("resize",e)):o&&this._selections&&k3e(this._selections,r=>!r.visible)&&(this._destroySelections(),this._setupSelection())}_resize(){this._noTransitionsRedraw()}redraw(n){if(this.applyDefaults(this.options),this.applySeriesColors(),n){const e=this._model._plotArea,t=e.findPane(n);e.redraw(t)}else this._redraw()}getAxis(n){return gIe(n,this._plotArea.axes)}findAxisByName(n){return this.getAxis(n)}findPaneByName(n){const e=this._plotArea.panes;for(let t=0;t<e.length;t++)if(e[t].options.name===n)return new Kie(e[t])}findPaneByIndex(n){const e=this._plotArea.panes;if(e[n])return new Kie(e[n])}plotArea(){return new DRt(this._plotArea)}toggleHighlight(n,e){const t=this._plotArea,o=(t.srcSeries||t.series||[])[0];let r;if(Fs(e))r=t.filterPoints(e);else{let a,l;ju(e)?(a=e.series,l=e.category):a=l=e,r=o.type===pV?BAe(t.pointsBySeriesName(a),l):Rn(o.type,[KS,rx,ax])?BAe((t.charts[0]||{}).points,l):t.pointsBySeriesName(a)}r&&this.togglePointsHighlight(n,r)}togglePointsHighlight(n,e){const t=this._highlight;for(let o=0;o<e.length;o++)t.togglePointHighlight(e[o],n)}showTooltip(n){const e=this._sharedTooltip(),{_tooltip:t,_plotArea:o}=this;let r,a;if(Fs(n)?(r=o.findPoint(n),r&&e&&(a=r.categoryIx)):e&&ge(n)&&(a=o.categoryAxis.categoryIndex(n)),e){if(a>=0){const l=this._plotArea.pointsByCategoryIndex(a);t.showAt(l)}}else r&&t.show(r)}hideTooltip(){this._tooltip.hide()}_initSurface(){const n=this.surface,e=this._surfaceWrap(),t=this.options.chartArea||{};t.width&&H_(e,{width:t.width}),t.height&&H_(e,{height:t.height}),n&&n.options.type===this.options.renderAs?(this.surface.clear(),this.surface.resize()):(this._destroySurface(),this.surface=Pk.create(e,{type:this.options.renderAs}),this.surface.bind("mouseenter",this._surfaceMouseenterHandler),this.surface.bind("mouseleave",this._surfaceMouseleaveHandler))}_surfaceWrap(){return this.element}_redraw(){const n=this._getModel();this._size={width:n.options.width,height:n.options.height},this._destroyView(),this._setElementAccessibilityAttributes(),this._model=n,this._plotArea=n._plotArea,this._legend=n._legend,n.renderVisual(),!1!==this.options.transitions&&n.traverse(function(e){e.animation&&e.animation.setup()}),this._initSurface(),this.surface.draw(n.visual),!1!==this.options.transitions&&n.traverse(function(e){e.animation&&e.animation.play()}),this._tooltip=this._createTooltip(),this._highlight=new l6t,this._setupSelection(),this._createPannable(),this._createZoomSelection(),this._createMousewheelZoom(),this.trigger("render"),zAe(this._plotArea.panes),this._navState||this._cancelDomEvents()}_setElementAccessibilityAttributes(){let n=this.options.title,e=Hc(n)?n:n.description||n.text;e&&this.element.setAttribute("aria-roledescription",e)}exportVisual(n){let e;if(n&&(n.width||n.height||n.options)){const t=this.options,o=W({},n.options,{chartArea:{width:n.width,height:n.height}});loe(this._originalOptions,o),this.options=W({},this._originalOptions,o),this._initTheme(this.options,this._theme),this.bindCategories();const r=this._getModel();r.renderVisual(),zAe(r._plotArea.panes),e=r.visual,this.options=t}else e=this.surface.exportVisual();return e}_sharedTooltip(){return this._plotArea instanceof eg&&this.options.tooltip&&this.options.tooltip.shared}_createPannable(){const n=this.options;!1!==n.pannable&&(this._pannable=new c6t(this._plotArea,n.pannable))}_createZoomSelection(){const n=this.options.zoomable,e=(n||{}).selection;!1!==n&&!1!==e&&(this._zoomSelection=new d6t(this,e))}_createMousewheelZoom(){const n=this.options.zoomable,e=(n||{}).mousewheel;!1!==n&&!1!==e&&(this._mousewheelZoom=new m6t(this,e))}_toggleDragZoomEvents(){const e=this.options.zoomable,o=(e||{}).mousewheel,r=!(this.options.pannable||!1!==e&&!1!==(e||{}).selection||this.requiresHandlers([use,hx,px])),a=(!1===e||!1===o)&&!this.requiresHandlers([fx,Ok,Tk]),l=this.element;this._dragZoomEnabled&&r&&a?(l.style.touchAction=this._touchAction||"",this._dragZoomEnabled=!1):!this._dragZoomEnabled&&!(r&&a)&&(l.style.touchAction="none",this._dragZoomEnabled=!0),this._toggleDomEvents(!r,!a)}_toggleDomEvents(n,e){const t=this.domEvents;t&&(t.toggleDrag&&t.toggleDrag(n),t.toggleZoom&&t.toggleZoom(e))}_createTooltip(){const{options:{tooltip:n}}=this;let e;return e=this._sharedTooltip()?this._createSharedTooltip(n):new A6t(this.chartService,n),e}_createSharedTooltip(n){return new rAe(this._plotArea,n)}applyDefaults(n,e){(function qNt(i,n){const e=(n||{}).axisDefaults||{};let t,o,r;function a(l){const c=(l||{}).color||o.color,u=W({},e,e[t],o,o[t],{line:{color:c},labels:{color:c},title:{color:c}},l);return delete u[t],u}for(let l=0;l<aoe.length;l++)t=aoe[l]+"Axis",o=i.axisDefaults||{},r=[].concat(i[t]),r=r.map(a),i[t]=r.length>1?r:r[0]})(n,e),function QNt(i,n){const e=i.series,t=e.length,o=i.seriesDefaults,r=W({},i.seriesDefaults),a=n?W({},n.seriesDefaults):{},l=W({},a);VAe(r),VAe(l);for(let c=0;c<t;c++){const u=e[c].type||i.seriesDefaults.type,f=W({data:[]},l,a[u],{tooltip:i.tooltip},r,o[u]);e[c]._defaults=f,e[c]=W({},f,e[c]),e[c].data=e[c].data||[]}}(n,e)}applySeriesColors(){const n=this.options,e=n.series,t=n.seriesColors||[];for(let o=0;o<e.length;o++){const r=e[o],a=t[o%t.length],l=r._defaults;r.color=r.color||a,l&&(l.color=l.color||a)}}_getModel(){const n=this.options,e=this._createPlotArea(),t=new LIt(this._modelOptions());t.chart=this,t._plotArea=e;const o=ZA.buildTitle(n.title),r=ZA.buildTitle(n.subtitle,{align:n.title.align,position:n.title.position});if(t.append.apply(t,ZA.orderTitles([o,r])),n.legend&&n.legend.visible){const a=new tAe(e.options.legend,this.chartService);t.append(a),t._legend=a}return t.append(e),t.reflow(),t}_modelOptions(){const n=this.options,e=this.getSize();return W({transitions:n.transitions,width:e.width||600,height:e.height||400},n.chartArea)}_createPlotArea(n){const e=this.options;return ng.current.create(n?[]:e.series,e,this.chartService)}_setupSelection(){const{_plotArea:{axes:n}}=this,e=this._selections=[];for(let t=0;t<n.length;t++){const o=n[t],r=o.options;if(o instanceof X_&&r.select&&!r.vertical){const a=o.range(),l=new sAe(this,o,W({min:a.min,max:a.max},r.select));e.push(l)}}}_selectStart(n){return this.trigger(hse,n)}_select(n){return this.trigger(mx,n)}_selectEnd(n){return this.trigger(pse,n)}_initHandlers(){this._clickHandler=this._click.bind(this),this._keydownHandler=this._keydown.bind(this),this._focusHandler=this._focus.bind(this),this._blurHandler=this._blur.bind(this),this._mousedownHandler=this._mousedown.bind(this),this._mousewheelHandler=this._mousewheel.bind(this),this._mouseleaveHandler=this._mouseleave.bind(this),this._surfaceMouseenterHandler=this._mouseover.bind(this),this._surfaceMouseleaveHandler=this._mouseout.bind(this),this._mousemove=xV(this._mousemove.bind(this),20)}addObserver(n){n&&this.observers.push(n)}removeObserver(n){const e=this.observers.indexOf(n);e>=0&&this.observers.splice(e,1)}requiresHandlers(n){const e=this.observers;for(let t=0;t<e.length;t++)if(e[t].requiresHandlers(n))return!0}trigger(n,e={}){e.sender=this,n===MIe?e.anchor.point=this._toDocumentCoordinates(e.anchor.point):n===kIe?this._updateDrilldownPoint(e.point):n===OIe?this._resetDrilldownPoint():n===DIe?(this._focusPoint(e.point),this._startDrilldown(e.point)):n===yIe&&this._focusLegendItem(e);const t=this.observers;let o=!1;for(let r=0;r<t.length;r++)t[r].trigger(n,e)&&(o=!0);return o}_attachEvents(){const n=this.element;this._touchAction=n.style.touchAction,KA(n,{[NAe]:this._clickHandler,[SV]:this._mousewheelHandler,[LAe]:this._mouseleaveHandler,keydown:this._keydownHandler,mousedown:this._mousedownHandler,focus:this._focusHandler,blur:this._blurHandler}),this._shouldAttachMouseMove()&&KA(n,{[pb]:this._mousemove}),this.domEvents=W3e.create(this.element,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)}),this._toggleDragZoomEvents()}_mouseleave(n){this._hoveredPoint&&(this._hoveredPoint.out(this,n),this._hoveredPoint=null),this._plotAreaHovered&&(this._plotAreaHovered=!1,this.trigger(dse)),this._hasInactiveOpacity()&&this._activeChartInstance&&(this._applySeriesOpacity(this._activeChartInstance.children,null,!0),this._updateSeriesOpacity(null,!0))}_cancelDomEvents(){this.domEvents&&this.domEvents.cancel&&this.domEvents.cancel()}_gesturestart(n){this._mousewheelZoom&&!this._stopChartHandlers(n)&&(this._gestureDistance=n.distance,this._unsetActivePoint(),this._clearFocusedElement(),this.surface.suspendTracking())}_gestureend(n){this._zooming&&!this._stopChartHandlers(n)&&(this.surface&&this.surface.resumeTracking(),this._zooming=!1,this.trigger(Tk,{}))}_gesturechange(n){const e=this._mousewheelZoom;if(e&&!this._stopChartHandlers(n)){n.preventDefault();let o=-n.distance/this._gestureDistance+1;if(Math.abs(o)>=.1){o=Math.round(10*o),this._gestureDistance=n.distance;const r={delta:o,axisRanges:kx(this._plotArea.axes),originalEvent:n};if(this._zooming||!this.trigger(fx,r)){const a=this._eventCoordinates(n);this._zooming||(this._zooming=!0),(r.axisRanges=e.updateRanges(o,a))&&!this.trigger(Ok,r)&&e.zoom()}}}}_mouseout(n){if(n.element){const e=this._drawingChartElement(n.element,n);e&&e.leave&&e.leave(this,n.originalEvent)}}_start(n){const e=this._eventCoordinates(n);this._stopChartHandlers(n)||!this._plotArea.backgroundContainsPoint(e)||(this.requiresHandlers([use,hx,px])&&this._startNavigation(n,e,use),this._pannable&&this._pannable.start(n)&&(this.surface.suspendTracking(),this._unsetActivePoint(),this._clearFocusedElement(),this._suppressHover=!0,this.chartService.panning=!0),this._zoomSelection&&this._zoomSelection.start(n)&&this.trigger(fx,{axisRanges:kx(this._plotArea.axes),originalEvent:n}))}_move(n){let{_navState:e,_pannable:t}=this;if(!this._stopChartHandlers(n)){if(t){const o=t.move(n);o&&!this.trigger(hx,{axisRanges:o,originalEvent:n})&&t.pan()}else if(e){const o={},r=e.axes;for(let a=0;a<r.length;a++){const l=r[a];if(l.options.name){const u=l.options.vertical?n.y:n.x,f=u.startLocation-u.location;0!==f&&(o[l.options.name]=l.translateRange(f))}}e.axisRanges=o,this.trigger(hx,{axisRanges:o,originalEvent:n})}this._zoomSelection&&this._zoomSelection.move(n)}}_end(n){if(this._stopChartHandlers(n))return;const e=this._pannable;if(e&&e.end(n)?(this.surface.resumeTracking(),this.trigger(px,{axisRanges:kx(this._plotArea.axes),originalEvent:n}),this._suppressHover=!1,this.chartService.panning=!1):this._endNavigation(n,px),this._zoomSelection){const t=this._zoomSelection.end(n);t&&!this.trigger(Ok,{axisRanges:t,originalEvent:n})&&(this._zoomSelection.zoom(),this.trigger(Tk,{axisRanges:t,originalEvent:n}))}}_stopChartHandlers(n){const e=this._selections||[];if(!e.length)return!1;const t=this._eventCoordinates(n),o=this._plotArea.paneByPoint(t);if(o)for(let r=0;r<e.length;r++)if(e[r].onPane(o))return!0}_mousewheelZoomRate(){return sn(((this.options.zoomable||{}).mousewheel||{}).rate,.3)}_mousewheel(n){const e=Cie(n),t=this._mousewheelZoom,o=this._eventCoordinates(n);if(!this._stopChartHandlers(n)&&this._plotArea.backgroundContainsPoint(o))if(t){const r={delta:e,axisRanges:kx(this._plotArea.axes),originalEvent:n};(this._zooming||!this.trigger(fx,r))&&(n.preventDefault(),this._zooming||(this._unsetActivePoint(),this._clearFocusedElement(),this.surface.suspendTracking(),this._zooming=!0),this._mwTimeout&&clearTimeout(this._mwTimeout),r.axisRanges=t.updateRanges(e,o),r.axisRanges&&!this.trigger(Ok,r)&&t.zoom(),this._mwTimeout=setTimeout(()=>{this.trigger(Tk,r),this._zooming=!1,this.surface&&this.surface.resumeTracking()},150))}else{let r=this._navState;if(r||this._startNavigation(n,o,fx)||(r=this._navState),r){const a=r.totalDelta||e;r.totalDelta=a+e;const l=this._navState.axes,c={};for(let u=0;u<l.length;u++){const f=l[u],_=f.options.name;_&&(c[_]=f.scaleRange(-a*this._mousewheelZoomRate(),o))}this.trigger(Ok,{delta:e,axisRanges:c,originalEvent:n}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(()=>{this._endNavigation(n,Tk)},150)}}}_startNavigation(n,e,t){const o=this._model._plotArea,r=o.findPointPane(e),a=o.axes.slice(0);if(!r)return;const l=kx(a);this.trigger(t,{axisRanges:l,originalEvent:n})?this._cancelDomEvents():(this._suppressHover=!0,this._unsetActivePoint(),this._clearFocusedElement(),this._navState={axisRanges:l,pane:r,axes:a})}_endNavigation(n,e){this._navState&&(this.trigger(e,{axisRanges:this._navState.axisRanges,originalEvent:n}),this._suppressHover=!1,this._navState=null)}_getChartElement(n,e){const t=this.surface.eventTarget(n);if(t)return this._drawingChartElement(t,n,e)}_drawingChartElement(n,e,t){let r,o=n;for(;o&&!r;)r=o.chartElement,o=o.parent;if(r)return r.aliasFor&&(r=r.aliasFor(e,this._eventCoordinates(e))),t&&(r=r.closest(t),r&&r.aliasFor&&(r=r.aliasFor())),r}_eventCoordinates(n){const e=b3e(n);return this._toModelCoordinates(e.x,e.y)}_elementPadding(){if(!this._padding){const{paddingLeft:n,paddingTop:e}=to(this.element,["paddingLeft","paddingTop"]);this._padding={top:e,left:n}}return this._padding}_toDocumentCoordinates(n){const e=this._elementPadding(),t=ck(this.element);return{left:Ye(n.x+e.left+t.left),top:Ye(n.y+e.top+t.top)}}_toModelCoordinates(n,e){const t=this.element,o=ck(t),r=this._elementPadding(),a=function vIt(i){if(!i)return UB.unit();let n=O3e(i),e=i.parentElement;for(;e;){const t=O3e(e);n=n.multiplyCopy(t),e=e.parentElement}return n.b=n.c=n.e=n.f=0,n}(t).invert(),l=new Ie(n-o.left-r.left,e-o.top-r.top).transform(a);return new on(l.x,l.y)}_tap(n){const e=this.surface.eventTarget(n),t=this._drawingChartElement(e,n),o=this._sharedTooltip();!this._startHover(e,n)&&!o&&this._unsetActivePoint(),o&&this._trackSharedTooltip(this._eventCoordinates(n),n,!0),this._propagateClick(t,n),this.handlingTap=!0,setTimeout(()=>{this.handlingTap=!1},0)}_click(n){const e=this._getChartElement(n);this._propagateClick(e,n)}_propagateClick(n,e){let t=n;for(;t;)t.click&&t.click(this,e),t=t.parent}_isLegendBeforeChart(){const{options:{legend:{position:n}},_legend:e}=this;return e&&e.hasItems()&&(n===jn||n===Un)}_focus(){this._preventInitialPointFocus||(this._isLegendBeforeChart()?this._focusFirstLegendItem():this._focusFirstPoint()),this._preventInitialPointFocus=!1}_keydown(n){const{_focusState:{legendInFocus:e},_legend:t}=this;if("Tab"===n.key){this._clearFocusedElement();const o=this._isLegendBeforeChart();e&&o!==n.shiftKey?this._navigatePoints(n):!e&&o===n.shiftKey&&t.hasItems()&&this._navigateLegend(n)}else e?this._navigateLegend(n):this._navigatePoints(n)}_navigatePoints(n){const{_focusState:e,_plotArea:t}=this;if(e.legendInFocus=!1,!e.focusedElement)return this._focusFirstPoint(),void n.preventDefault();const o=r=>{e.focusedPoint=r,this._focusElement(e.focusedPoint),n.preventDefault()};switch(n.key){case t3e:o(t.getPointToTheRight(e.focusedPoint));break;case"ArrowLeft":o(t.getPointToTheLeft(e.focusedPoint));break;case"ArrowDown":o(t.getPointBelow(e.focusedPoint));break;case"ArrowUp":o(t.getPointAbove(e.focusedPoint))}}_navigateLegend(n){const{_focusState:e,_legend:t,chartService:{rtl:o}}=this;if(e.legendInFocus=!0,!e.focusedElement)return this._focusFirstLegendItem(),void n.preventDefault();const r=t.getItems().length,a=l=>{e.focusedLegendItemIndex=l(e.focusedLegendItemIndex,r),this._focusElement(this._getFocusedLegendItem()),n.preventDefault()};switch(n.key){case"ArrowUp":case"ArrowLeft":a(o?u3e:h3e);break;case"ArrowDown":case t3e:a(o?h3e:u3e)}}_focusFirstPoint(){const n=this._focusState.focusedPoint=this._plotArea.getFirstPoint();n&&this._focusElement(n)}_hasFocus(){return this.element.ownerDocument.activeElement===this.element}_mousedown(){this._hasFocus()||(this._preventInitialPointFocus=!0)}_focusChart(){this._hasFocus()||(this._preventInitialPointFocus=!0,this.element.focus())}_focusPoint(n){this._focusState.focusedPoint=n,this._focusChart(),this._focusElement(n,!0)}_focusFirstLegendItem(){const{_focusState:n}=this;n.focusedLegendItemIndex=0,this._focusElement(this._getFocusedLegendItem()),n.legendInFocus=!0}_focusLegendItem(n){const{_focusState:e}=this;e.focusedLegendItemIndex=this._legend.getItems().findIndex(t=>t.options.series.index===n.seriesIndex&&t.options.pointIndex===n.pointIndex),e.legendInFocus=!0,this._focusChart(),this._focusElement(this._getFocusedLegendItem(),!0)}_getFocusedLegendItem(){const{_focusState:n,_legend:e}=this;return e.getItems()[n.focusedLegendItemIndex]}_focusElement(n,e){const{_focusState:t}=this;if(this._clearFocusedElement(),n&&(t.focusedElement=n,this._setElementActiveDescendant(n),!e))if(n.focusVisual(),t.legendInFocus){const o=n.options;this._showSeriesInactiveOpacity(o.series.index,o.pointIndex)}else this._showInactiveOpacity(n)}_clearFocusedElement(){const{_focusState:n}=this;n&&(n.focusedElement&&(n.focusedElement.clearFocusFromVisual(),this._clearElementActiveDescendant()),n.focusedElement=null)}_setElementActiveDescendant(n){"canvas"===this.options.renderAs&&(this._pseudoFocusedElement=this._createPseudoFocusedElement(n),this.element.append(this._pseudoFocusedElement)),this.element.setAttribute(n3e,n._id)}_clearElementActiveDescendant(){this._pseudoFocusedElement&&(this._pseudoFocusedElement.remove(),this._pseudoFocusedElement=null),this.element.removeAttribute(n3e)}_createPseudoFocusedElement(n){const e=document.createElement("div"),t=n.options.accessibility;e.id=n._id,e.setAttribute("aria-label",n.getAriaLabelText()),e.setAttribute("role",t.role),e.setAttribute("aria-roledescription",t.ariaRoleDescription);const o=t.ariaChecked;return ge(o)&&e.setAttribute("aria-checked",o),e}_blur(){this._focusState.legendInFocus=!1,this._clearFocusedElement(),this._hideInactiveOpacity()}_startHover(n,e){if(this._suppressHover)return!1;let t=this._drawingChartElement(n,e,function(r){return(r.hover||r.over)&&!(r instanceof QS)});const o=this._activePoint;return this._updateHoveredPoint(t,e),t&&o!==t&&t.hover&&(this._activePoint=t,!this._sharedTooltip()&&!t.hover(this,e)&&(this._displayTooltip(t),this._showInactiveOpacity(t))),t}_displayTooltip(n){W({},this.options.tooltip,n.options.tooltip).visible&&this._tooltip.show(n)}_displayInactiveOpacity(n,e,t){const o=this._activeChartInstance=this._chartInstanceFromPoint(n);if(o)if(e)this._updateSeriesOpacity(n),this._applySeriesOpacity(o.children,null,!0),this._applySeriesOpacity(o.children,n.series),this._highlight.show(t||n);else{let r;if(!o.supportsPointInactiveOpacity())return void this._highlight.show(n);r=this._getInactivePoints(n,o),r&&r.length&&this._highlight.show(r,1-this._getInactiveOpacityForSeries(n.series))}}_getInactivePoints(n,e){return this._getAllPointsOfType(e,n.constructor).filter(o=>o!==n)}_getAllPointsOfType(n,e){let t=[];for(let o=0;o<n.children.length;o++){const r=n.children[o];r.constructor===e?t.push(r):r.children&&r.children.length&&(t=t.concat(this._getAllPointsOfType(r,e)))}return t}_updateHoveredPoint(n,e){const t=this._hoveredPoint;t&&t!==n&&(t.out(this,e),this._hoveredPoint=null),n&&t!==n&&n.over&&(this._hoveredPoint=n,n.over(this,e))}_updateDrilldownPoint(n){if(!n||!n.series)return;const{fields:e}=vs.current.bindPoint(n.series,null,n.dataItem);e.drilldown&&(this._drilldownState={cursor:this.element.style.cursor},this.element.style.cursor="pointer")}_resetDrilldownPoint(){this._drilldownState&&(this.element.style.cursor=this._drilldownState.cursor,this._drilldownState=null)}_startDrilldown(n){if(!n||!n.series)return;const e=n.series,{fields:t}=vs.current.bindPoint(e,null,n.dataItem),o=t.drilldown;o&&this.trigger("drilldown",{series:e,point:n,value:o,sender:this})}_updateSeriesOpacity(n,e){const t=this._plotArea,o=t.series.length;for(let r=0;r<o;r++){const a=t.series[r],l=this._getDefaultOpacityForSeries(a),c=this._getInactiveOpacityForSeries(a);e||a===n.series?(a.opacity=l,a.line&&(a.line.opacity=l)):(a.defaultOpacity=l,a.opacity=c,a.line&&(a.line.opacity=c))}}_applySeriesOpacity(n,e,t,o){for(let r=0;r<n.length;r++){const a=n[r],l=a.series||o;l&&(l.highlight||{}).visible&&a.visual&&(l!==e||t)&&a.visual.opacity(t?1:o?o.opacity:a.series.opacity),a.children&&a.children.length&&this._applySeriesOpacity(a.children,e,t,a.series)}}_chartInstanceFromPoint(n){let e=n.parent;for(;e&&!e.plotArea;)e=e.parent;return e}_showInactiveOpacity(n){const e=this._plotArea.series.length>1;this._hasInactiveOpacity()?this._displayInactiveOpacity(n,e):this._highlight.show(n)}_hideInactiveOpacity(n){const e=this._plotArea.series.length>1;this._hasInactiveOpacity()&&(e&&this._activeChartInstance&&(this._updateSeriesOpacity(n,!0),this._applySeriesOpacity(this._activeChartInstance.children,null,!0),this._activeChartInstance=null),this._highlight&&this._highlight.hide(),this._activePoint=null)}_hasInactiveOpacity(){let n=void 0!==this.options.seriesDefaults.highlight.inactiveOpacity,e=this.options.series.filter(t=>void 0!==t.highlight.inactiveOpacity).length>0;return n||e}_getInactiveOpacityForSeries(n){return n.highlight.inactiveOpacity||this.options.seriesDefaults.highlight.inactiveOpacity||n.opacity||1}_getDefaultOpacityForSeries(n){return n.defaultOpacity||n.opacity||1}_mouseover(n){const e=this._startHover(n.element,n.originalEvent);e&&e.tooltipTracking&&!this._mouseMoveTrackHandler&&!this._sharedTooltip()&&(this._mouseMoveTrackHandler=this._mouseMoveTracking.bind(this),KA(document,{[pb]:this._mouseMoveTrackHandler}))}_mouseMoveTracking(n){const{options:e,_tooltip:t,_highlight:o,_activePoint:r}=this,a=this._eventCoordinates(n);if(this._plotArea.box.containsPoint(a)){if(r&&r.tooltipTracking&&r.series&&r.parent.getNearestPoint){const l=r.parent.getNearestPoint(a.x,a.y,r.seriesIx);l&&l!==r&&(this._activePoint=l,l.hover(this,n)||(W({},e.tooltip,l.options.tooltip).visible&&t.show(l),o.show(l)))}}else YA(document,{[pb]:this._mouseMoveTrackHandler}),this._unsetActivePoint(),this._clearFocusedElement(),this._mouseMoveTrackHandler=null,this._hideInactiveOpacity(r)}_mousemove(n){const e=this._eventCoordinates(n),t=this._plotArea;if(this._trackCrosshairs(e),t.hover){const o=t.backgroundContainsPoint(e);o?(this._plotAreaHovered=!0,this._plotArea.hover(this,n)):this._plotAreaHovered&&!o&&(this._plotAreaHovered=!1,this.trigger(dse))}this._sharedTooltip()&&this._trackSharedTooltip(e,n)}_trackCrosshairs(n){const e=this._plotArea.crosshairs;for(let t=0;t<e.length;t++){const o=e[t];o.box.containsPoint(n)?o.showAt(n):o.hide()}}_trackSharedTooltip(n,e,t){if(this._suppressHover)return;const{options:{tooltip:o},_plotArea:r,_plotArea:{categoryAxis:a},_tooltip:l,_highlight:c}=this;if(r.backgroundContainsPoint(n)){const u=a.pointCategoryIndex(n);if(u!==this._tooltipCategoryIx||!this._sharedHighlight&&t){const f=r.pointsByCategoryIndex(u),_=f.map(function(v){return v.eventArgs(e)}),S=_[0]||{};S.categoryPoints=_,f.length>0&&!this.trigger(wIe,S)?(o.visible&&l.showAt(f,n),c.show(f),this._sharedHighlight=!0):l.hide(),this._tooltipCategoryIx=u}else t&&this._sharedHighlight&&(c.hide(),l.hide(),this._sharedHighlight=!1)}else this._sharedHighlight&&(c.hide(),l.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1)}hideElements(n){const e=this._plotArea;this._mousemove.cancel(),e.hideCrosshairs(),this._unsetActivePoint(n)}_unsetActivePoint(n){const{_tooltip:e,_highlight:t}=this;this._activePoint=null,this._hoveredPoint=null,e&&!(n&&n.keepTooltipOpen)&&e.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1,t&&t.hide()}_deferRedraw(){this._redraw()}_clearRedrawTimeout(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null)}bindCategories(){const e=[].concat(this.options.categoryAxis);for(let t=0;t<e.length;t++){const o=e[t];!1!==o.autoBind&&this.bindCategoryAxisFromSeries(o,t)}}bindCategoryAxisFromSeries(n,e){const t=new Set,o=this.options.series.filter(f=>f.categoryAxis===n.name||!f.categoryAxis&&0===e),r=o.some(f=>!!f.categoryField),a=o.filter(f=>f.data&&f.data.length>0),l=a.map(f=>vs.current.bindPoint(f,0).fields.category),c=l.reduce((f,_)=>f||FIe(n,_),!1);if(a.filter((f,_)=>f.categoryField||ge(l[_])).forEach(f=>f.data.forEach((_,S)=>{let v=vs.current.bindPoint(f,S).fields.category;if(c){const b=UIe(v,_,this.chartService.intl);v=b?b.getTime():void 0}t.add(v)})),t.size>0){let f=Array.from(t.values());c&&(f=f.sort().map(_=>_&&new Date(_))),n.categories=f}else r&&(n.categories=[])}_isBindable(n){const e=vs.current.valueFields(n);let t=!0;for(let o=0;o<e.length;o++){let r=e[o];if(r===Bd?r="field":r+="Field",!ge(n[r])){t=!1;break}}return t}_noTransitionsRedraw(){const n=this.options;let e;!1!==n.transitions&&(n.transitions=!1,e=!0),this._redraw(),e&&(n.transitions=!0)}_legendItemHover(n,e){this._showSeriesInactiveOpacity(n,e)}_showSeriesInactiveOpacity(n,e){const{_plotArea:t,_highlight:o}=this,r=(t.srcSeries||t.series)[n];let a;a=Rn(r.type,[KS,pV,rx,ax])?t.findPoint(function(l){return l.series.index===n&&l.index===e}):t.pointsBySeriesIndex(n),this._hasInactiveOpacity()&&r.visible&&a?this._displayInactiveOpacity(a.length?a[0]:a,t.series.length>1,a):o.show(a)}_shouldAttachMouseMove(){return this._plotArea.crosshairs.length||this._tooltip&&this._sharedTooltip()||this.requiresHandlers([TIe,dse])}updateMouseMoveHandler(){YA(this.element,{[pb]:this._mousemove}),this._shouldAttachMouseMove()&&KA(this.element,{[pb]:this._mousemove})}applyOptions(n,e){loe(this._originalOptions,n),this._originalOptions=W(this._originalOptions,n),this.options=W({},this._originalOptions),e&&(this._theme=e,this.chartService.theme=e),this._initTheme(this.options,this._theme),this._toggleDragZoomEvents()}setOptions(n,e){this.applyOptions(n,e),this.bindCategories(),this.redraw(),this.updateMouseMoveHandler()}setDirection(n){this.chartService.rtl=!!n,this.surface&&"svg"===this.surface.type&&this._destroySurface()}setIntlService(n){this.chartService.intl=n}noTransitionsRedraw(){this._noTransitionsRedraw()}destroy(){this._destroyed=!0,YA(this.element,{[NAe]:this._clickHandler,[SV]:this._mousewheelHandler,[pb]:this._mousemove,[LAe]:this._mouseleaveHandler,keydown:this._keydownHandler,focus:this._focusHandler,blur:this._blurHandler}),this.domEvents&&(this.domEvents.destroy(),delete this.domEvents),this._mouseMoveTrackHandler&&YA(document,{[pb]:this._mouseMoveTrackHandler}),this._focusState=null,this._destroyView(),this._destroySurface(),this._clearRedrawTimeout()}_destroySurface(){const n=this.surface;n&&(n.unbind("mouseenter",this._surfaceMouseenterHandler),n.unbind("mouseleave",this._surfaceMouseleaveHandler),n.destroy(),this.surface=null)}_destroySelections(){const n=this._selections;if(n)for(;n.length>0;)n.shift().destroy()}_destroyView(){const n=this._model;n&&(n.destroy(),this._model=null),this._unsetActivePoint(),this._clearFocusedElement(),this._resetDrilldownPoint(),this._destroySelections(),this._tooltip&&this._tooltip.destroy(),this._highlight&&this._highlight.destroy(),this._zoomSelection&&(this._zoomSelection.destroy(),delete this._zoomSelection),this._pannable&&(this._pannable.destroy(),delete this._pannable),this._mousewheelZoom&&(this._mousewheelZoom.destroy(),delete this._mousewheelZoom)}}function BAe(i,n){if(i)for(let e=0;e<i.length;e++)if(i[e].category===n)return[i[e]]}function VAe(i){delete i.bar,delete i.column,delete i.rangeColumn,delete i.line,delete i.verticalLine,delete i.pie,delete i.donut,delete i.area,delete i.verticalArea,delete i.scatter,delete i.scatterLine,delete i.bubble,delete i.candlestick,delete i.ohlc,delete i.boxPlot,delete i.bullet,delete i.verticalBullet,delete i.polarArea,delete i.polarLine,delete i.radarArea,delete i.radarLine,delete i.waterfall}function kx(i){const n={};for(let e=0;e<i.length;e++){const t=i[e],o=t.options.name;o&&(n[o]=t.range())}return n}const ZNt=["data","categories"];function loe(i,n){for(let e in n)if(!Rn(e,ZNt)&&hk(n,e)){const t=n[e],o=i[e];if(ge(o)){const r=null===t;r||!ge(t)?(delete i[e],r&&delete n[e]):o&&ju(t)&&ju(o)&&loe(o,t)}}}function zAe(i){for(let n=0;n<i.length;n++)i[n].notifyRender()}De(FAe,{renderAs:"",chartArea:{},legend:{visible:!0,labels:{},accessibility:{highlight:{border:{opacity:1,color:Co,width:2}}}},categoryAxis:{},seriesDefaults:{type:Wf,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1},accessibility:{highlight:{border:{opacity:1,width:2},zIndex:200}}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:!1,zoomable:!1});const HAe=FAe,n8t=class t8t extends rAe{_slotAnchor(n,e){const o=this.plotArea.categoryAxis.options.vertical,r=o?{horizontal:"left",vertical:"center"}:{horizontal:"center",vertical:"bottom"};let a;return a=o?new on(this.plotArea.box.x2,e.center().y):new on(e.center().x,-2),{point:a,align:r}}_defaultAnchor(n,e){return this._slotAnchor({},e)}},jAe=[Yu,WS];function $Ae(i){const n=[];for(let e=0;e<i.length;e++){const t=i[e];n[e]=t.style.display,t.style.display="none"}return n}function XAe(i,n){for(let e=0;e<i.length;e++)i[e].style.display=n[e]}function WAe(i){return Yn(i)?[i]:i}De(class o8t extends HAe{_setElementClass(n){Ho(n,"k-sparkline")}_initElement(n){super._initElement(n),this._initialWidth=Math.floor(H_(n).width)}_resize(){const n=this.element,e=$Ae(n.childNodes);this._initialWidth=Math.floor(H_(n).width),XAe(n.childNodes,e),super._resize()}_modelOptions(){const n=this.options,e=this._surfaceWrap(),t=$Ae(e.childNodes),o=document.createElement("span");o.innerHTML="&nbsp;",e.appendChild(o);const r=W({width:this._autoWidth,height:H_(e).height,transitions:n.transitions},n.chartArea,{inline:!0,align:!1});return H_(e,{width:r.width,height:r.height}),e.removeChild(o),XAe(e.childNodes,t),this.surface&&this.surface.resize(),r}_surfaceWrap(){if(!this.stage){const n=this.stage=document.createElement("span");this.element.appendChild(n)}return this.stage}_createPlotArea(n){const e=super._createPlotArea(n);return this._autoWidth=this._initialWidth||this._calculateWidth(e),e}_calculateWidth(n){const e=this.options,t=Ti(e.chartArea.margin),o=n.charts,r=this._surfaceWrap();let a=0;for(let c=0;c<o.length;c++){const u=o[c],f=(u.options.series||[])[0];if(!f)continue;if(f.type===Yu)return 150;if(f.type===WS)return 150;if(f.type===KS)return H_(r).height;const _=u.categoryAxis;if(_){const S=_.categoriesCount()*(!u.options.isStacked&&Rn(f.type,[Wf,dx])?u.seriesOptions.length:1);a=Math.max(a,S)}}let l=a*e.pointWidth;return l>0&&(l+=t.left+t.right),l}_createSharedTooltip(n){return new n8t(this._plotArea,n)}static normalizeOptions(n){let e=WAe(n);return e=ga(e)?{seriesDefaults:{data:e}}:W({},e),e.series||(e.series=[{data:WAe(e.data)}]),W(e,{seriesDefaults:{type:e.type}}),(Rn(e.series[0].type,jAe)||Rn(e.seriesDefaults.type,jAe))&&(e=W({},{categoryAxis:{crosshair:{visible:!1}}},e)),e}},{chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]});const a8t=class r8t extends Xu{setup(){this._initialOpacity=parseFloat(to(this.element,"opacity").opacity)}step(n){to(this.element,{opacity:String($u(this._initialOpacity,0,n))})}abort(){super.abort(),to(this.element,{display:"none",opacity:String(this._initialOpacity)})}cancel(){super.abort(),to(this.element,{opacity:String(this._initialOpacity)})}};function coe(i,n){const e=document.createElement("div");return e.className=i,n&&(e.style.cssText=n),e}class KAe extends pt{constructor(n,e,t){super(),this.options=W({},this.options,t),this.container=n,this.chartService=e;const o=to(n,["paddingLeft","paddingTop"]);this.chartPadding={top:o.paddingTop,left:o.paddingLeft},this.createElements(),n.appendChild(this.element)}createElements(){const n=this.element=coe("k-navigator-hint","display: none; position: absolute; top: 1px; left: 1px;"),e=this.tooltip=coe("k-tooltip k-chart-tooltip"),t=this.scroll=coe("k-scroll");e.innerHTML="&nbsp;",n.appendChild(e),n.appendChild(t)}show(n,e,t){const{element:o,options:r,scroll:a,tooltip:l}=this,c=is(ss(n)+ss(e-n)/2),u=.4*t.width(),f=t.center().x-u,b=(t.center().x-f)/(r.max-r.min),D=c-r.min;let k=this.chartService.intl.format(r.format,n,e);const O=zr(r);this.clearHideTimeout(),this._visible||(to(o,{visibility:"hidden",display:"block"}),this._visible=!0),O&&(k=O({from:n,to:e})),l.innerHTML=k,to(l,{left:t.center().x-l.offsetWidth/2,top:t.y1});const I=to(l,["marginTop","borderTopWidth","height"]);to(a,{width:u,left:f+D*b,top:t.y1+I.marginTop+I.borderTopWidth+I.height/2}),to(o,{visibility:"visible"})}clearHideTimeout(){this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideAnimation&&this._hideAnimation.cancel()}hide(){this.clearHideTimeout(),this._hideTimeout=setTimeout(()=>{this._visible=!1,this._hideAnimation=new a8t(this.element),this._hideAnimation.setup(),this._hideAnimation.play()},this.options.hideDelay)}destroy(){this.clearHideTimeout(),this.container&&this.container.removeChild(this.element),delete this.container,delete this.chartService,delete this.element,delete this.tooltip,delete this.scroll}}De(KAe,{format:"{0:d} - {1:d}",hideDelay:500});const l8t=KAe,og="_navigator",rg=og;class BV extends pt{constructor(n){super(),this.chart=n;const e=this.options=W({},this.options,n.options.navigator),t=e.select;t&&(t.from=this.parseDate(t.from),t.to=this.parseDate(t.to)),ge(e.hint.visible)||(e.hint.visible=e.visible),this.chartObserver=new S3e(this,{[hx]:"_drag",[px]:"_dragEnd",[Ok]:"_zoom",[Tk]:"_zoomEnd"}),n.addObserver(this.chartObserver)}parseDate(n){return Sa(this.chart.chartService.intl,n)}clean(){this.selection&&(this.selection.destroy(),this.selection=null),this.hint&&(this.hint.destroy(),this.hint=null)}destroy(){this.chart&&(this.chart.removeObserver(this.chartObserver),delete this.chart),this.clean()}redraw(){this._redrawSelf(),this.initSelection()}initSelection(){const{chart:n,options:e}=this,t=this.mainAxis(),{min:o,max:r}=t.roundedRange(),{from:a,to:l,mousewheel:c}=e.select,u=function d8t(i){return JAe.prototype=i,new JAe}(t);0!==t.categoriesCount()&&(this.clean(),u.box=t.box,this.selection=new sAe(n,u,{min:o,max:r,from:a||o,to:l||r,mousewheel:sn(c,{zoom:"left"}),visible:e.visible},new S3e(this,{selectStart:"_selectStart",select:"_select",selectEnd:"_selectEnd"})),e.hint.visible&&(this.hint=new l8t(n.element,n.chartService,{min:o,max:r,template:zr(e.hint),format:e.hint.format})))}setRange(){const e=this.chart._createPlotArea(!0).namedCategoryAxes[rg],{min:t,max:o}=e.roundedRange(),r=this.options.select||{};let a=r.from||t;a<t&&(a=t);let l=r.to||o;l>o&&(l=o),this.options.select=W({},r,{from:a,to:l}),this.filterAxes()}_redrawSelf(n){const e=this.chart._plotArea;e&&e.redraw(jo(e.panes),n)}redrawSlaves(){const n=this.chart,e=n._plotArea,t=e.panes.filter(o=>o.options.name!==og);e.srcSeries=n.options.series,e.options.categoryAxis=n.options.categoryAxis,e.clearSeriesPointsCache(),e.redraw(t)}_drag(n){const{chart:e,selection:t}=this,o=e._eventCoordinates(n.originalEvent),r=this.mainAxis(),a=r.roundedRange(),l=r.pane.box.containsPoint(o),u=n.axisRanges[e._plotArea.categoryAxis.options.name],f=this.options.select;let _;if(!u||l||!t)return;_=f.from&&f.to?ss(f.to)-ss(f.from):ss(t.options.to)-ss(t.options.from);const S=is(Gt(ss(u.min),a.min,ss(a.max)-_)),v=is(Gt(ss(S)+_,ss(a.min)+_,a.max));this.options.select={from:S,to:v},this.options.liveDrag&&(this.filterAxes(),this.redrawSlaves()),t.set(S,v),this.showHint(S,v)}_dragEnd(){this.filterAxes(),this.filter(),this.redrawSlaves(),this.hint&&this.hint.hide()}readSelection(){const{selection:{options:{from:n,to:e}},options:{select:t}}=this;t.from=n,t.to=e}filterAxes(){const{options:{select:n={}},chart:e}=this,t=e.options.categoryAxis,{from:o,to:r}=n;for(let a=0;a<t.length;a++){const l=t[a];l.pane!==og&&(l.min=o,l.max=r)}}filter(){const{chart:n,options:{select:e}}=this;if(!n.requiresHandlers(["navigatorFilter"]))return;const t=this.mainAxis(),o={from:e.from,to:e.to};if("category"!==t.options.type){const r=new tV(W({baseUnit:"fit"},n.options.categoryAxis[0],{categories:[e.from,e.to]}),n.chartService).options;o.from=ja(r.min,-r.baseUnitStep,r.baseUnit),o.to=ja(r.max,r.baseUnitStep,r.baseUnit)}this.chart.trigger("navigatorFilter",o)}_zoom(n){const{chart:{_plotArea:{categoryAxis:e}},selection:t,options:{select:o,liveDrag:r}}=this,a=this.mainAxis();let l=n.delta;if(!t)return;const c=a.categoryIndex(t.options.from),u=a.categoryIndex(t.options.to),f=this.chart._eventCoordinates(n.originalEvent);n.originalEvent.preventDefault(),Math.abs(l)>1&&(l*=3),u-c>1?(t.zoom(l,f),this.readSelection()):(e.options.min=o.from,o.from=e.scaleRange(-n.delta*this.chart._mousewheelZoomRate(),f).min),r&&(this.filterAxes(),this.redrawSlaves()),t.set(o.from,o.to),this.showHint(this.options.select.from,this.options.select.to)}_zoomEnd(n){this._dragEnd(n)}showHint(n,e){this.hint&&this.hint.show(n,e,this.chart._plotArea.backgroundBox())}_selectStart(n){return this.chart._selectStart(n)}_select(n){return this.showHint(n.from,n.to),this.chart._select(n)}_selectEnd(n){return this.hint&&this.hint.hide(),this.readSelection(),this.filterAxes(),this.filter(),this.redrawSlaves(),this.chart._selectEnd(n)}mainAxis(){const n=this.chart._plotArea;if(n)return n.namedCategoryAxes[rg]}select(n,e){const t=this.options.select;return n&&e&&(t.from=this.parseDate(n),t.to=this.parseDate(e),this.filterAxes(),this.filter(),this.redrawSlaves(),this.selection.set(n,e)),{from:t.from,to:t.to}}static setup(n={},e={}){if(n.__navi)return;n.__navi=!0;const t=W({},e.navigator,n.navigator),o=n.panes=[].concat(n.panes),r=W({},t.pane,{name:og});t.visible||(r.visible=!1,r.height=.1),"top"!==n.navigator.position?o.push(r):o.unshift(r),o.forEach(a=>{a.name=a.name||"_default"}),BV.attachAxes(n,t),BV.attachSeries(n,t,e)}static attachAxes(n,e){const t=e.series||[],o=n.categoryAxis=[].concat(n.categoryAxis),r=n.valueAxis=[].concat(n.valueAxis);o.concat(r).forEach(_=>{_.pane=_.pane||"_default"});const c=0===no(t,EIe).length,u=W({type:"date",pane:og,roundToBaseUnit:!c,justified:c,_collapse:!1,majorTicks:{visible:!0},tooltip:{visible:!1},labels:{step:1},autoBind:e.autoBindElements,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]}}),f=e.categoryAxis;o.push(W({},u,{maxDateGroups:200},f,{name:rg,title:null,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),W({},u,f,{name:rg+"_labels",maxDateGroups:20,baseUnitStep:"auto",labels:{position:""},plotBands:[],autoBaseUnitSteps:{minutes:[]},_overlap:!0}),W({},u,f,{name:rg+"_ticks",maxDateGroups:200,majorTicks:{width:.5},plotBands:[],title:null,labels:{visible:!1,mirror:!0},_overlap:!0})),r.push(W({name:rg,pane:og,majorGridLines:{visible:!1},visible:!1},e.valueAxis))}static attachSeries(n,e,t){const o=n.series=n.series||[],r=[].concat(e.series||[]),a=t.seriesColors,l=e.seriesDefaults;for(let c=0;c<r.length;c++)o.push(W({color:a[c%a.length],categoryField:e.dateField,visibleInLegend:!1,tooltip:{visible:!1}},l,r[c],{axis:rg,categoryAxis:rg,autoBind:e.autoBindElements}))}}function JAe(){}const qAe=BV;De(class h8t extends HAe{applyDefaults(n,e){const t=H_(this.element).width||600;let o=e;const r={seriesDefaults:{categoryField:n.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:Math.floor(t/28)}}};o&&(o=W({},o,r)),qAe.setup(n,o),super.applyDefaults(n,o)}_setElementClass(n){Ho(n,"k-chart k-stockchart")}setOptions(n){this.destroyNavigator(),super.setOptions(n)}noTransitionsRedraw(){const n=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=n}_resize(){this.noTransitionsRedraw()}_redraw(){const n=this.navigator;!this._dirty()&&n&&n.options.partialRedraw?n.redrawSlaves():this._fullRedraw()}_dirty(){const n=this.options,t=zd([].concat(n.series,n.navigator.series),function(r){return r&&r.visible}).length,o=this._seriesCount!==t;return this._seriesCount=t,o}_fullRedraw(){let n=this.navigator;n||(n=this.navigator=new qAe(this),this.trigger("navigatorCreated",{navigator:n})),n.clean(),n.setRange(),super._redraw(),n.initSelection()}_trackSharedTooltip(n){const t=this._plotArea.paneByPoint(n);t&&t.options.name===og?this._unsetActivePoint():super._trackSharedTooltip(n)}bindCategories(){super.bindCategories(),this.copyNavigatorCategories()}copyNavigatorCategories(){const n=[].concat(this.options.categoryAxis);let e;for(let t=0;t<n.length;t++){const o=n[t];o.name===rg?e=o.categories:e&&o.pane===og&&(o.categories=e)}}destroyNavigator(){this.navigator&&(this.navigator.destroy(),this.navigator=null)}destroy(){this.destroyNavigator(),super.destroy()}_stopChartHandlers(n){const e=this._eventCoordinates(n),t=this._plotArea.paneByPoint(e);return super._stopChartHandlers(n)||t&&t.options.name===og}_toggleDragZoomEvents(){this._dragZoomEnabled||(this.element.style.touchAction="none",this._dragZoomEnabled=!0)}},{dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!1},highlight:{visible:!1},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}});class f8t extends(ww(VR(NF(R_)))){get nodeType(){return"Arc"}constructor(n=new O_,e={}){super(e),this.geometry(n),jt(this.options.stroke)||this.stroke("#000")}_bbox(n){return this._geometry.bbox(n)}rawBBox(){return this.geometry().bbox()}toPath(){const n=new lt,e=this.geometry().curvePoints();if(e.length>0){n.moveTo(e[0].x,e[0].y);for(let t=1;t<e.length;t+=3)n.curveTo(e[t],e[t+1],e[t+2])}return n}_containsPoint(n){return this.geometry().containsPoint(n)}_isOnPath(n){return this.geometry()._isOnPath(n,this.options.stroke.width/2)}}const m8t=f8t,ZAe="arrowPointer",Tx="barPointer",nxe=Math.PI/180,tv="inside",VV="linear",doe="outside",ixe="radialPointer",sxe="radialRangePointer";function oxe(i,n){const e=i.getOrigin(),t=i.getSize(),o=Ti(n);return i.setOrigin([e.x-o.left,e.y-o.top]),i.setSize([t.width+(o.left+o.right),t.height+(o.top+o.bottom)]),i}const{Group:g8t,Path:rxe,Text:S8t}=ot;function axe(i,n){const e=i.box,t=i.children[0].box,o=n.border||{},r=n.background||"",a=rxe.fromRect(new yn([e.x1,e.y1],[e.width(),e.height()]),{stroke:{}}),l=new S8t(i.text,new Ie(t.x1,t.y1),{font:n.font,fill:{color:n.color}}),c=oxe(l.bbox().clone(),n.padding),u=rxe.fromRect(c,{stroke:{color:o.width?o.color:"",width:o.width,opacity:o.opacity,dashType:o.dashType,lineJoin:"round",lineCap:"round"},fill:{color:r}}),f=new g8t;return f.append(a),f.append(u),f.append(l),f}function lxe(i,n,e){const t=ge(i.from)?i.from:hr,o=ge(i.to)?i.to:zo;return i.from=Math.max(Math.min(o,t),n),i.to=Math.min(Math.max(o,t),e),i}function cxe(i,n){const e=Ti(n);return e.left=-e.left,e.top=-e.top,e.right=-e.right,e.bottom=-e.bottom,oxe(i,e)}const{Path:C8t,Surface:b8t}=ot;class dxe extends pt{constructor(n,e,t,o={}){super(),this.element=n,this.theme=t,this.contextService=new Rie(this,o),this._originalOptions=W({},this.options,e),this.options=W({},this._originalOptions),this._initTheme(t),this.redraw()}destroy(){this.surface&&(this.surface.destroy(),this.surface=null),delete this.element,delete this.surfaceElement}value(n){const e=this.pointers[0];if(0===arguments.length)return e.value();e.value(n),this._setValueOptions(n)}_draw(){const n=this.surface;n.clear(),n.draw(this._visuals)}exportVisual(){return this._visuals}allValues(n){const e=this.pointers,t=[];if(0===arguments.length){for(let o=0;o<e.length;o++)t.push(e[o].value());return t}if(ga(n))for(let o=0;o<n.length;o++)Yn(n[o])&&e[o].value(n[o]);this._setValueOptions(n)}_setValueOptions(n){const e=[].concat(this.options.pointer),t=[].concat(n);for(let o=0;o<t.length;o++)e[o].value=t[o]}resize(){this.noTransitionsRedraw()}noTransitionsRedraw(){const n=this.options.transitions;this._toggleTransitions(!1),this.redraw(),this._toggleTransitions(n)}redraw(){const n=this._surfaceSize(),e=new yn([0,0],[n.width,n.height]);this._initSurface(),this.gaugeArea=this._createGaugeArea(),this._createModel();const t=cxe(e.bbox(),this._gaugeAreaMargin);this.reflow(t)}setOptions(n,e){this._originalOptions=W(this._originalOptions,n),this.options=W({},this._originalOptions),this._initTheme(e),this.redraw()}setDirection(n){this.contextService.rtl=!!n,this.surface&&"svg"===this.surface.type&&(this.surface.destroy(),this.surface=null)}setIntlService(n){this.contextService.intl=n}_initTheme(n){let e=n||this.theme||{};this.theme=e,this.options=W({},e,this.options);const t=this.options,o=t.pointer;if(ga(o)){const r=[];for(let a=0;a<o.length;a++)r.push(W({},e.pointer,o[a]));t.pointer=r}}_createGaugeArea(){const n=this.options.gaugeArea,e=this.surface.size(),t=n.border||{};let o=new yn([0,0],[e.width,e.height]);return this._gaugeAreaMargin=n.margin||5,t.width>0&&(o=cxe(o,t.width)),C8t.fromRect(o,{stroke:{color:t.width?t.color:"",width:t.width,opacity:t.opacity,dashType:t.dashType,lineJoin:"round",lineCap:"round"},fill:{color:n.background}})}_initSurface(){const{options:n,surface:e}=this,t=this._surfaceElement(),o=this._surfaceSize();H_(t,o),e&&e.options.type===n.renderAs?(this.surface.clear(),this.surface.resize()):(e&&e.destroy(),this.surface=b8t.create(t,{type:n.renderAs}))}_surfaceSize(){const n=this.options,e=this._getSize();return n.gaugeArea&&W(e,n.gaugeArea),e}_surfaceElement(){return this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement)),this.surfaceElement}getSize(){return this._getSize()}_getSize(){const n=this.element,e=this._defaultSize();let t=n.offsetWidth,o=n.offsetHeight;return t||(t=e.width),o||(o=e.height),{width:t,height:o}}_defaultSize(){return{width:200,height:200}}_toggleTransitions(n){this.options.transitions=n;for(let e=0;e<this.pointers.length;e++)this.pointers[e].options.animation.transitions=n}}De(dxe,{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}});const uxe=dxe,{Path:uoe,Group:Mx}=ot,zV=Ie;function E8t(i,n){const{position:e,tickX:t,tickY:o}=i;let r,a;return i.vertical?(r=new zV(t,e),a=new zV(t+n.size,e)):(r=new zV(e,o),a=new zV(e,o+n.size)),new uoe({stroke:{color:n.color,width:n.width}}).moveTo(r).lineTo(a)}function hxe(i,n,e,t){const o=n.length;if(t.visible){const{mirror:r,lineBox:a}=e;for(let l=t.skip;l<o;l+=t.step)l%t.skipUnit!=0&&(e.tickX=r?a.x2:a.x2-t.size,e.tickY=r?a.y1-t.size:a.y1,e.position=n[l],i.append(E8t(e,t)))}}class pxe extends Wu{constructor(n,e){let t=n||{};!ge(t.reverse)&&!1===t.vertical&&(e||{}).rtl&&(t=Object.assign({},t,{reverse:!0})),super(0,1,t,e),this.options.minorUnit=this.options.minorUnit||this.options.majorUnit/10}initUserOptions(n){let e=W({},this.options,n);return e=W({},e,{labels:{mirror:e.mirror}}),e.majorUnit=e.majorUnit||pk(e.min,e.max),e}initFields(){}render(){const n=this.elements=new Mx,e=this.renderLabels(),t=this.renderLine(),o=this.renderTicks(),r=this.renderRanges();return n.append(t,e,o,r),n}renderRanges(){const n=this.options,{min:e,max:t,vertical:o,labels:{mirror:r}}=n,a=n.ranges||[],l=new Mx,c=a.length,u=n.rangeSize||n.minorTicks.size/2;for(let f=0;f<c;f++){const _=lxe(a[f],e,t),S=this.getSlot(_.from,_.to),v=o?this.lineBox():S,b=o?S:this.lineBox();o?v.x1-=u*(r?-1:1):b.y2+=u*(r?-1:1),l.append(uoe.fromRect(new yn([v.x1,b.y1],[v.x2-v.x1,b.y2-b.y1]),{fill:{color:_.color,opacity:_.opacity},stroke:{}}))}return l}renderLabels(){const{labels:n,options:e}=this,t=new Mx;for(let o=0;o<n.length;o++)t.append(axe(n[o],e.labels));return t}renderLine(){const n=this.options.line,e=this.lineBox(),t=new Mx;if(n.width>0&&n.visible){const o=new uoe({stroke:{color:n.color,dashType:n.dashType,width:n.width}});o.moveTo(e.x1,e.y1).lineTo(e.x2,e.y2),t.append(o)}return t}renderTicks(){const n=new Mx,e=this.options,t=e.majorTicks.visible?e.majorUnit:0,o={vertical:e.vertical,mirror:e.labels.mirror,lineBox:this.lineBox()};return hxe(n,this.getMajorTickPositions(),o,e.majorTicks),hxe(n,this.getMinorTickPositions(),o,W({},{skipUnit:t/e.minorUnit},e.minorTicks)),n}}De(pxe,{min:0,max:50,majorTicks:{size:15,align:tv,color:Co,width:.5,visible:!0},minorTicks:{size:10,align:tv,color:Co,width:.5,visible:!0},line:{width:.5},labels:{position:tv,padding:2},mirror:!1,_alignLines:!1});const y8t=pxe;class fxe extends pt{constructor(n,e){super();const{min:t,max:o}=n.options,r=this.options=W({},this.options,e);r.fill=r.color,this.scale=n,r.value=ge(r.value)?Gt(r.value,t,o):t}value(n){const e=this.options;if(0===arguments.length)return e.value;const{min:o,max:r}=this.scale.options;e._oldValue=ge(e._oldValue)?e.value:o,e.value=Gt(n,o,r),this.elements&&this.repaint()}}De(fxe,{color:Co});const hoe=fxe;class mxe extends hoe{constructor(n,e){super(n,e),this.options=W({track:{visible:ge(e.track)}},this.options)}reflow(){const{options:n,scale:e}=this,{mirror:t,vertical:o}=e.options,r=e.lineBox(),a=n.track.size||n.size,l=n.size/2,c=Ti(n.margin);let f,_,S,u=o?c[t?"left":"right"]:c[t?"bottom":"top"];u=t?-u:u,o?(S=new Ve(r.x1+u,r.y1,r.x1+u,r.y2),t?S.x1-=a:S.x2+=a,n.shape!==Tx&&(_=new Ve(r.x2+u,r.y1-l,r.x2+u,r.y2+l),f=_)):(S=new Ve(r.x1,r.y1-u,r.x2,r.y1-u),t?S.y2+=a:S.y1-=a,n.shape!==Tx&&(_=new Ve(r.x1-l,r.y1-u,r.x2+l,r.y1-u),f=_)),this.trackBox=S,this.pointerRangeBox=_,this.box=f||S.clone().pad(n.border.width)}getElementOptions(){const n=this.options;return{fill:{color:n.color,opacity:n.opacity},stroke:ge(n.border)?{color:n.border.width?n.border.color||n.color:"",width:n.border.width,dashType:n.border.dashType,opacity:n.opacity}:null}}_margin(){const{scale:n,options:e}=this,{mirror:t,vertical:o}=n.options,r=Ti(e.margin);return o?r[t?"left":"right"]:r[t?"bottom":"top"]}}De(mxe,{shape:Tx,track:{border:{width:1}},color:Co,border:{width:1},opacity:1,margin:Ti(3),animation:{type:Tx},visible:!0});const _xe=mxe;class poe extends Xu{setup(){const n=this.options,{margin:e,from:t,to:o,vertical:r}=n,a=r?"x1":"y1";n.mirror===r?(t[a]-=e,o[a]-=e):(t[a]+=e,o[a]+=e);const l=this.fromScale=new Ie(t.x1,t.y1),c=this.toScale=new Ie(o.x1,o.y1);0!==n.duration&&(n.duration=Math.max(l.distanceTo(c)/n.duration*1e3,1))}step(n){const e=$u(this.fromScale.x,this.toScale.x,n),t=$u(this.fromScale.y,this.toScale.y,n);this.element.transform(wi().translate(e,t))}}De(poe,{easing:VV,duration:250}),Hf.current.register(ZAe,poe);const D8t=poe,Uk=Ie,w8t=lt,O8t=class k8t extends _xe{constructor(n,e){super(n,e),ge(this.options.size)||(this.options.size=.6*this.scale.options.majorTicks.size)}pointerShape(){const{scale:n,options:{size:e}}=this,t=e/2,o=n.options.mirror?-1:1;let r;return r=n.options.vertical?[new Uk(0,0-t),new Uk(0-o*e,0),new Uk(0,0+t)]:[new Uk(0-t,0),new Uk(0,0+o*e),new Uk(0+t,0)],r}repaint(){const{scale:n,options:e}=this,t=new D8t(this.elements,W(e.animation,{vertical:n.options.vertical,mirror:n.options.mirror,margin:this._margin(e.margin),from:n.getSlot(e._oldValue),to:n.getSlot(e.value)}));!1===e.animation.transitions&&(t.options.duration=0),t.setup(),t.play()}render(){const{scale:n,options:e}=this,t=this.getElementOptions(),o=this.pointerShape(e.value);e.animation.type=ZAe;const r=new w8t({stroke:t.stroke,fill:t.fill}).moveTo(o[0]).lineTo(o[1]).lineTo(o[2]).close(),a=n.getSlot(e.value);return r.transform(wi().translate(a.x1,a.y1)),this.elements=r,r}};class foe extends Xu{setup(){const n=this.options,e=this.axis=n.vertical?kt:yt,t=this.to=n.newPoints[0][e],o=this.from=n.oldPoints[0][e];0!==n.duration&&(n.duration=Math.max(Math.abs(t-o)/n.speed*1e3,1)),this._set(o)}step(n){const e=$u(this.from,this.to,n);this._set(e)}_set(n){const e="set"+this.axis.toUpperCase(),t=this.options.newPoints;t[0][e](n),t[1][e](n)}}De(foe,{easing:VV,speed:250}),Hf.current.register(Tx,foe);const T8t=foe,{Group:M8t,Path:gxe}=ot,R8t=class I8t extends _xe{constructor(n,e){super(n,e),ge(this.options.size)||(this.options.size=.3*this.scale.options.majorTicks.size)}pointerShape(n){const{scale:e,options:t}=this,{mirror:o,vertical:r}=e.options,a=o===r?-1:1,l=t.size*a,c=e.getSlot(e.options.min),u=e.getSlot(n),f=r?kt:yt,_=r?yt:kt,S=this._margin()*a,v=new Ie;v[f]=c[f+"1"],v[_]=c[_+"1"];const b=new Ie;b[f]=u[f+"1"],b[_]=u[_+"1"],r?(v.translate(S,0),b.translate(S,0)):(v.translate(0,S),b.translate(0,S));const D=b.clone(),k=v.clone();return r?(D.translate(l,0),k.translate(l,0)):(D.translate(0,l),k.translate(0,l)),[v,b,D,k]}repaint(){const{scale:n,options:e}=this,t=this.pointerShape(e.value),o=this.pointerPath,r=this.pointerShape(e._oldValue);o.moveTo(t[0]).lineTo(t[1]).lineTo(t[2]).lineTo(t[3]).close();const a=new T8t(o,W(e.animation,{reverse:n.options.reverse,vertical:n.options.vertical,oldPoints:[r[1],r[2]],newPoints:[t[1],t[2]]}));!1===e.animation.transitions&&(a.options.duration=0),a.setup(),a.play()}render(){const n=new M8t,e=this.getElementOptions();this.options.track.visible&&n.append(this.renderTrack());const t=this.pointerPath=new gxe({stroke:e.stroke,fill:e.fill});return n.append(t),this.elements=n,n}renderTrack(){const n=this.options.track,e=n.border||{},t=this.trackBox.clone().pad(e.width||0);return new gxe.fromRect(t.toRect(),{fill:{color:n.color,opacity:n.opacity},stroke:{color:e.width?e.color||n.color:"",width:e.width,dashType:e.dashType}})}},N8t=Pn;De(class L8t extends uxe{reflow(n){const e=this.pointers,t=n.origin.x,o=n.origin.y,r=new Ve(t,o,t+n.width(),o+n.height());this.scale.reflow(r),this._shrinkScaleWidth(r);for(let a=0;a<e.length;a++)e[a].reflow();this.bbox=this._getBox(r),this._alignElements(),this._shrinkElements(),this._buildVisual(),this._draw()}_buildVisual(){const n=new N8t,e=this.scale.render(),t=this.pointers;n.append(this.gaugeArea),n.append(e);for(let o=0;o<t.length;o++){const r=t[o];n.append(r.render()),r.value(r.options.value)}this._visuals=n}_createModel(){const n=this.options,e=this.scale=new y8t(n.scale,this.contextService);this.pointers=[];let t=n.pointer;t=ga(t)?t:[t];for(let o=0;o<t.length;o++){const r=W({},t[o],{animation:{transitions:n.transitions}});this.pointers.push(new("arrow"===r.shape?O8t:R8t)(e,r))}}_defaultSize(){const n=this.options.scale.vertical;return{width:n?60:200,height:n?200:60}}_getBox(n){const{scale:e,pointers:t}=this,o=n.center();let a,r=t[0].box.clone().wrap(e.box);for(let l=0;l<t.length;l++)r.wrap(t[l].box.clone());return e.options.vertical?(a=r.width()/2,r=new Ve(o.x-a,n.y1,o.x+a,n.y2)):(a=r.height()/2,r=new Ve(n.x1,o.y-a,n.x2,o.y+a)),r}_alignElements(){const{scale:n,pointers:e}=this,t=n.box,o=e[0].box.clone().wrap(n.box),r=this.bbox;for(let l=0;l<e.length;l++)o.wrap(e[l].box.clone());let a;n.options.vertical?(a=r.center().x-o.center().x,n.reflow(new Ve(t.x1+a,r.y1,t.x2+a,r.y2))):(a=r.center().y-o.center().y,n.reflow(new Ve(t.x1,t.y1+a,t.x2,t.y2+a)));for(let l=0;l<e.length;l++)e[l].reflow(this.bbox)}_shrinkScaleWidth(n){const{scale:e}=this;if(!e.options.vertical){const t=e.contentBox().width()-n.width();t>0&&(e.box.shrink(t,0),e.box.alignTo(n,"center"),e.reflow(e.box))}}_shrinkElements(){const{scale:n,pointers:e}=this,t=n.box.clone(),o=n.options.vertical?"y":"x",r=e[0].box;for(let a=0;a<e.length;a++)r.wrap(e[a].box.clone());t[o+1]+=Math.max(t[o+1]-r[o+1],0),t[o+2]-=Math.max(r[o+2]-t[o+2],0),n.reflow(t);for(let a=0;a<e.length;a++)e[a].reflow(this.bbox)}},{transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}});const{Arc:P8t,Path:G8t,Group:jV}=ot;function Sxe(i,n,e,t){const o=new jV,r=i.center,a=i.getRadiusX();if(t.visible)for(let l=0;l<n.length;l++){const c=i.pointAt(n[l]),u=new Ie(r.x+a-t.size,r.y).rotate(n[l],r);o.append(new G8t({stroke:{color:t.color,width:t.width}}).moveTo(c).lineTo(u))}return o}function moe(i,n,e,t){return{from:i,to:n,color:e,opacity:t}}class vxe extends Wu{constructor(n,e){super(0,1,n,e)}initUserOptions(n){const e=W({},this.options,n);return e.majorUnit=e.majorUnit||pk(e.min,e.max),e.minorUnit=e.minorUnit||e.majorUnit/10,e}initFields(){}render(n,e){const t=this.renderArc(n,e);this.bbox=t.bbox(),this.labelElements=this.renderLabels(),this.ticks=this.renderTicks(),this.ranges=this.renderRanges()}reflow(n){const e=n.center(),t=Math.min(n.height(),n.width())/2;if(!ge(this.bbox))return this.render(e,t);this.bbox=this.arc.bbox(),this.radius(this.arc.getRadiusX()),this.repositionRanges(),this.renderLabels()}slotAngle(n){const{min:e,max:t,reverse:o,startAngle:r,endAngle:a}=this.options,l=a-r;let c;return c=o?a-(n-e)/(t-e)*l:(n-e)/(t-e)*l+r,c+180}hasRanges(){const n=this.options.ranges;return n&&n.length}ticksSize(){const{majorTicks:n,minorTicks:e}=this.options;let t=0;return n.visible&&(t=n.size),e.visible&&(t=Math.max(e.size,t)),t}labelsCount(){let n=super.labelsCount();const e=this.options;return e.endAngle-e.startAngle>=360&&e.max%e.majorUnit==0&&(n-=1),n}renderLabels(){const n=this.options,e=this.arc.clone();let t=e.getRadiusX();const o=this.tickAngles(e,n.majorUnit),r=n.rangeSize=n.rangeSize||.1*t,a=new jV;let l=.05*t;ge(n.rangeDistance)?l=n.rangeDistance:n.rangeDistance=l;const c=n.labels,u=c.position===tv,f=ge(this.labelElements);u&&(t-=this.ticksSize(),this.hasRanges()&&!f&&(t-=r+l),e.setRadiusX(t).setRadiusY(t));const _=this.labels,S=_.length,v=Ti(c.padding),b=(v.left+v.right)/2,D=(v.top+v.bottom)/2;for(let k=0;k<S;k++){const O=_[k],I=O.box.width()/2,x=O.box.height()/2,P=o[k],L=(P-180)*nxe,H=e.pointAt(P),j=H.x+Math.cos(L)*(I+b)*(u?1:-1),J=H.y+Math.sin(L)*(x+D)*(u?1:-1);O.reflow(new Ve(j-I,J-x,j+I,J+x));const te=new Ie(O.box.x1,O.box.y1);let ce;if(f){ce=this.labelElements.children[k];const oe=ce.bbox().origin,Le=ce.transform()||wi();Le.translate(te.x-oe.x,te.y-oe.y),ce.transform(Le)}else ce=axe(O,n.labels),a.append(ce);this.bbox=yn.union(this.bbox,ce.bbox())}return a}repositionRanges(){const n=this.ranges.children;if(n.length>0){const{rangeDistance:e,rangeSize:t}=this.options;let o=this.getRangeRadius();this.options.labels.position===tv&&(o+=t+e);const r=o+t/2;for(let a=0;a<n.length;a++)n[a]._geometry.setRadiusX(r).setRadiusY(r);this.bbox=yn.union(this.bbox,this.ranges.bbox())}}renderRanges(){const n=this.rangeSegments(),e=n.length,t=new jV;if(e){const{rangeSize:o,reverse:r,rangeDistance:a}=this.options,l=this.getRangeRadius();this.radius(this.radius()-o-a);for(let c=0;c<e;c++){const u=n[c],f=this.slotAngle(u[r?"to":"from"]),_=this.slotAngle(u[r?"from":"to"]);_-f!=0&&t.append(this.createRange(f,_,l,u))}}return t}createRange(n,e,t,o){const r=this.options.rangeSize,a=new O_(this.arc.center,{radiusX:t+r/2,radiusY:t+r/2,startAngle:n,endAngle:e});return new P8t(a,{stroke:{width:r,color:o.color,opacity:o.opacity,lineCap:o.lineCap}})}rangeSegments(){const n=this.options,e=n.ranges||[],t=e.length,o=[];if(t){const{min:r,max:a,rangePlaceholderColor:l}=n;o.push(moe(r,a,l));for(let c=0;c<t;c++){const u=lxe(e[c],r,a),f=o.length;for(let _=0;_<f;_++){const S=o[_];if(S.from<=u.from&&u.from<=S.to){o.push(moe(u.from,u.to,u.color,u.opacity)),S.from<=u.to&&u.to<=S.to&&o.push(moe(u.to,S.to,l,u.opacity)),S.to=u.from;break}}}}return o}getRangeRadius(){const{arc:n,options:e}=this,{rangeSize:t,rangeDistance:o,majorTicks:{size:r}}=e;let a;return a=e.labels.position===doe?n.getRadiusX()-r-o-t:n.getRadiusX()-t,a}renderArc(n,e){const t=this.options;return this.arc=new O_(n,{radiusX:e,radiusY:e,startAngle:t.startAngle+180,endAngle:t.endAngle+180})}renderTicks(){const{arc:n,options:e}=this,t=n.clone();this.majorTickAngles=this.tickAngles(n,e.majorUnit),this.majorTicks=Sxe(t,this.majorTickAngles,0,e.majorTicks);const o=new jV;o.append(this.majorTicks);const r=e.majorTicks.size,a=e.minorTicks.size;if(this._tickDifference=r-a,e.labels.position===doe){const l=t.getRadiusX();t.setRadiusX(l-r+a).setRadiusY(l-r+a)}return this.minorTickAngles=this.normalizeTickAngles(this.tickAngles(n,e.minorUnit)),this.minorTicks=Sxe(t,this.minorTickAngles,0,e.minorTicks),o.append(this.minorTicks),o}normalizeTickAngles(n){const e=this.options,t=e.majorUnit/e.minorUnit;for(let o=n.length-1;o>=0;o--)o%t==0&&n.splice(o,1);return n}tickAngles(n,e){const t=this.options,a=n.endAngle-n.startAngle;let l=(t.max-t.min)/e,c=n.startAngle,u=a/l;t.reverse&&(c+=a,u=-u),a>=360&&t.max%e==0&&(l-=1);const f=[];for(let _=0;_<l;_++)f.push(Ye(c,3)),c+=u;return Ye(c)<=n.endAngle&&f.push(c),f}radius(n){if(!n)return this.arc.getRadiusX();this.arc.setRadiusX(n).setRadiusY(n),this.repositionTicks(this.majorTicks.children,this.majorTickAngles),this.repositionTicks(this.minorTicks.children,this.minorTickAngles,!0)}repositionTicks(n,e,t){const o=t&&this._tickDifference||0;let r=this.arc;const a=r.getRadiusX();t&&this.options.labels.position===doe&&0!==o&&(r=this.arc.clone(),r.setRadiusX(a-o).setRadiusY(a-o));for(let l=0;l<n.length;l++){const c=r.pointAt(e[l]),u=n[l].segments,f=c.x-u[0].anchor().x,_=c.y-u[0].anchor().y;n[l].transform((new wi).translate(f,_))}}}De(vxe,{min:0,max:100,majorTicks:{size:15,align:tv,color:Co,width:.5,visible:!0},minorTicks:{size:10,align:tv,color:Co,width:.5,visible:!0},startAngle:-30,endAngle:210,labels:{position:tv,padding:2}});const Cxe=vxe;class _oe extends Xu{constructor(n,e){super(n,e);const t=this.options;t.duration=Math.max(Math.abs(t.newAngle-t.oldAngle)/t.duration*1e3,1)}step(n){const e=this.options,t=$u(e.oldAngle,e.newAngle,n);this.element.transform(wi().rotate(t,e.center))}}De(_oe,{easing:VV,duration:150}),Hf.current.register(ixe,_oe);const U8t=_oe,{Circle:B8t,Group:V8t,Path:z8t}=ot;class bxe extends hoe{setAngle(n){this.elements.transform(wi().rotate(n,this.center))}repaint(){const{scale:n,options:e}=this,t=n.slotAngle(e._oldValue),o=n.slotAngle(e.value);!1===e.animation.transitions?this.setAngle(o):new U8t(this.elements,W(e.animation,{oldAngle:t,newAngle:o})).play()}render(){const{scale:n,options:e}=this,t=new V8t;return!1!==e.animation&&W(e.animation,{startAngle:0,center:n.arc.center,reverse:n.options.reverse}),t.append(this._renderNeedle(),this._renderCap()),this.elements=t,this.setAngle(nxe),t}reflow(n){const e=this.center=n.center,t=Gt(this.options.length||1,.1,1.5),o=this.radius=n.getRadiusX()*t,r=this.capSize=Math.round(o*this.options.cap.size);this.bbox=yn.fromPoints(new Ie(e.x-r,e.y-r),new Ie(e.x+r,e.y+r))}_renderNeedle(){const n=this.scale.options.minorTicks.size,e=this.center,t=this.options.color,o=new z8t({fill:{color:t},stroke:{color:t,width:.5}});return o.moveTo(e.x+this.radius-n,e.y).lineTo(e.x,e.y-this.capSize/2).lineTo(e.x,e.y+this.capSize/2).close(),o}_renderCap(){const n=this.options,e=n.cap.color||n.color,t=new ul(this.center,this.capSize);return new B8t(t,{fill:{color:e},stroke:{color:e}})}}De(bxe,{cap:{size:.05},arrow:{width:16,height:14},animation:{type:ixe,duration:150}});const H8t=bxe,j8t=Pn;De(class $8t extends uxe{reflow(n){const e=this.pointers;this.scale.reflow(n),this._initialPlotArea=this.scale.bbox;for(let t=0;t<e.length;t++)e[t].reflow(this.scale.arc),this._initialPlotArea=yn.union(this._initialPlotArea,e[t].bbox);this.fitScale(n),this.alignScale(n),this._buildVisual(this.gaugeArea,e,this.scale),this._draw()}_buildVisual(n,e,t){const o=this._visuals=new j8t;o.append(n),o.append(t.ticks),o.append(t.ranges),this._buildPointers(e),o.append(t.labelElements)}_buildPointers(n){for(let e=0;e<n.length;e++){const t=n[e];t.render(),this._visuals.append(t.elements),t.value(t.options.value)}}fitScale(n){const e=this.scale.arc,o=Math.abs(this.getDiff(this._initialPlotArea,n));let l,c,u,f,_,r=Ye(o,3),a=Ye(-o,3),S=0,v=0;for(;v++<100&&(S=_===u?S+1:0,!(S>5||r!==f&&(l=this.getPlotBox(r,n,e),0<=l&&l<=2)||a!==f&&(u=this.getPlotBox(a,n,e),0<=u&&u<=2)||(f=l>0&&u>0?2*r:l<0&&u<0?2*a:Ye((r+a)/2||1,3),c=this.getPlotBox(f,n,e),0<=c&&c<=2)));)_=u,c>0?(a=f,u=c):(r=f,l=c)}getPlotBox(n,e,t){const o=this.scale,r=this.pointers,a=t.getRadiusX(),l=t.clone();l.setRadiusX(a+n).setRadiusY(a+n),o.arc=l,o.reflow(e),this.plotBbox=o.bbox;for(let c=0;c<r.length;c++)r[c].reflow(l),this.plotBbox=yn.union(this.plotBbox,r[c].bbox);return this.getDiff(this.plotBbox,e)}getDiff(n,e){return Math.min(e.width()-n.width(),e.height()-n.height())}alignScale(n){const e=this.plotBbox.center(),t=n.center(),o=e.x-t.x,r=e.y-t.y,{scale:a,pointers:l}=this;a.arc.center.x-=o,a.arc.center.y-=r,a.reflow(n);for(let c=0;c<l.length;c++)l[c].reflow(a.arc),this.plotBbox=yn.union(a.bbox,l[c].bbox)}_createModel(){const n=this.options,e=n.pointer,t=this.scale=new Cxe(n.scale,this.contextService);this.pointers=[];const o=ga(e)?e:[e];for(let r=0;r<o.length;r++){const a=new H8t(t,W({},o[r],{animation:{transitions:n.transitions}}));this.pointers.push(a)}}},{transitions:!0,gaugeArea:{background:""}}),De(class X8t extends Cxe{rangeSegments(){const{min:n,max:e,rangePlaceholderColor:t,rangeLineCap:o}=this.options;return[{from:n,to:e,color:t,lineCap:o}]}hasRanges(){return!0}placeholderRangeAngle(n){const e=this.ranges.children[0].geometry();this.options.reverse?e.setEndAngle(n):e.setStartAngle(n)}addRange(n,e,t){const o=this.options.reverse,r=this.slotAngle(o?e:n),a=this.slotAngle(o?n:e),l=this.createRange(r,a,this.getRangeRadius(),t);return this.ranges.append(l),l}},{min:0,max:100,majorTicks:{visible:!1},minorTicks:{visible:!1},labels:{visible:!1},startAngle:0,endAngle:180,rangeLineCap:"round"});class goe extends Xu{constructor(n,e){super(n,e);const t=this.options,o=Math.abs(t.newAngle-t.oldAngle)/t.duration*1e3;t.duration=Gt(o,150,800);const r=n.elements.options.get("stroke.color"),a=n.currentColor();r!==a&&(this.startColor=new ku(r),this.color=new ku(a))}step(n){const{options:e,startColor:t,color:o}=this,r=$u(e.oldAngle,e.newAngle,n);if(this.element.angle(r),o){const a=Ye($u(t.r,o.r,n)),l=Ye($u(t.g,o.g,n)),c=Ye($u(t.b,o.b,n));this.element.stroke(new ku(a,l,c).toHex())}}}De(goe,{easing:VV,duration:150}),Hf.current.register(sxe,goe);const K8t=goe;De(class Y8t extends hoe{repaint(){const{scale:n,options:e}=this,t=n.slotAngle(e._oldValue),o=n.slotAngle(e.value);this.animation&&this.animation.abort(),!1===e.animation.transitions?(this.angle(o),this.stroke(this.currentColor())):(this.animation=new K8t(this,W(e.animation,{oldAngle:t,newAngle:o})),this.animation.play())}angle(n){const e=this.elements.geometry();this.scale.options.reverse?e.setStartAngle(n):e.setEndAngle(n),this.scale.placeholderRangeAngle(n)}stroke(n){this.elements.stroke(n)}render(){if(this.elements)return;const{scale:n,options:e}=this;!1!==e.animation&&W(e.animation,{startAngle:0,center:n.arc.center,reverse:n.options.reverse}),this.elements=n.addRange(n.options.min,this.options.value,{color:this.currentColor(),opacity:e.opacity,lineCap:n.options.rangeLineCap})}currentColor(){const{min:n,max:e}=this.scale.options,{colors:t,color:o,value:r}=this.options,a=Yn(r)?r:n;if(t)for(let l=0;l<t.length;l++){const{color:c,from:u=n,to:f=e}=t[l];if(u<=a&&a<=f)return c}return o}reflow(){this.render(),this.bbox=this.elements.bbox()}},{animation:{type:sxe,duration:150}});class fb extends pt{constructor(n){super(),this.setOptions(n),this.initProperties()}initProperties(){}setOptions(n){this.options=Object.assign({},this.options,n),this.quietZoneLength=this.options.addQuietZone?2*this.options.quietZoneLength:0}encode(n,e,t){const o=ge(n)?String(n):n;return this.initValue(o,e,t),this.options.addQuietZone&&this.addQuietZone(),this.addData(),this.options.addQuietZone&&this.addQuietZone(),{baseUnit:this.baseUnit,pattern:this.pattern}}initValue(){}addQuietZone(){this.pattern.push(this.options.quietZoneLength||10)}addData(){}invalidCharacterError(n){throw new Error(`Character "${n}" is not valid for symbology ${this.name}.`)}}De(fb,{quietZoneLength:10,addQuietZone:!0,addCheckSum:!0});const q8t=Object.assign;class yxe extends fb{initProperties(){super.initProperties(),q8t(this,{name:"Code 11",characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221"})}initValue(n,e){this.pattern=[],this.value=n,this.width=e,this.totalUnits=0}addData(){const n=this.value;this.addPattern(this.START);for(let e=0;e<n.length;e++)this.addCharacter(n.charAt(e));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()}setBaseUnit(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)}addCheckSum(){const n=this.value;let e=n.length;const t=this.getWeightedSum(n,e,this.cCheckSumTotal)%this.checkSumMod;if(this.checksum=String(t),this.addPattern(this.characterMap[t]),e++,e>=this.kCheckSumMinLength){let o=(t+this.getWeightedSum(n,e,this.kCheckSumTotal))%this.checkSumMod;this.checksum+=o,this.addPattern(this.characterMap[o])}}getWeightedSum(n,e,t){let o=0;for(let r=0;r<n.length;r++)o+=this.weightedValue(this.getValue(n.charAt(r)),e,r,t);return o}weightedValue(n,e,t,o){return((e-t)%o||o)*n}getValue(n){return isNaN(n)?(n!==this.DASH&&this.invalidCharacterError(n),this.DASH_VALUE):parseInt(n,10)}addCharacter(n){const e=this.getValue(n);this.addPattern(this.characterMap[e])}addPattern(n){let e;for(let t=0;t<n.length;t++)e=parseInt(n.charAt(t),10),this.pattern.push(e),this.totalUnits+=e}}De(yxe,{addCheckSum:!0});const Dxe=Object.assign;class wxe extends fb{initProperties(){super.initProperties(),Dxe(this,{minBaseUnitLength:.7})}addData(){const n=this.value;this.addStart();for(let e=0;e<n.length;e++)this.addCharacter(n.charAt(e));this.options.addCheckSum&&this.pushCheckSum(),this.addStop(),this.prepareValues()}addCharacter(n){const e=this.characterMap[n];e||this.invalidCharacterError(n),this.addBase(e)}addBase(){}}class Soe extends wxe{initProperties(){super.initProperties(),Dxe(this,{name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{0:{pattern:"bwbWBwBwb",value:0},1:{pattern:"BwbWbwbwB",value:1},2:{pattern:"bwBWbwbwB",value:2},3:{pattern:"BwBWbwbwb",value:3},4:{pattern:"bwbWBwbwB",value:4},5:{pattern:"BwbWBwbwb",value:5},6:{pattern:"bwBWBwbwb",value:6},7:{pattern:"bwbWbwBwB",value:7},8:{pattern:"BwbWbwBwb",value:8},9:{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}}})}initValue(n,e,t){this.width=e,this.height=t,this.value=n,this.dataLength=n.length,this.pattern=[],this.patternString=""}prepareValues(){const n=this.minBaseUnitLength,e=this.minRatio,t=Math.ceil(Math.max(.15*this.width,24));let o,r=this.maxRatio;if(this.height<t)throw new Error(`Insufficient height for Code39 encoding: the current height is ${this.height}px and the minimum height is ${t}px.`);for(o=this.getBaseUnit(r);o<n&&r>e;)r=parseFloat((r-.1).toFixed(1)),o=this.getBaseUnit(r);if(o<n){let a=Math.ceil(this.getBaseWidth(e)*n);throw new Error(`Insufficient width for Code39 encoding: the current width is ${this.width}px and the minimum width for value "${this.value}" is ${a}px.`)}this.ratio=r,this.baseUnit=o,this.patternString=this.patternString.substring(0,this.patternString.length-1),this.pattern=this.pattern.concat(this.patternString.replace(/ratio/g,r).split(this.splitCharacter))}getBaseUnit(n){return this.width/this.getBaseWidth(n)}getBaseWidth(n){return this.quietZoneLength+3*(n+2)*(this.dataLength+2)+this.gapWidth*(this.dataLength+1)}addStart(){this.addPattern(this.characterMap.START.pattern),this.addCharacterGap()}addBase(n){this.addPattern(n.pattern),this.addCharacterGap()}addStop(){this.addPattern(this.characterMap.START.pattern)}addPattern(n){for(let e=0;e<n.length;e++)this.patternString+=this.patternMappings[n.charAt(e)]}addCharacterGap(){this.patternString+=this.gapWidth+this.splitCharacter}}De(Soe,{addCheckSum:!1});const kxe={addCharacter(i){this.characterMap[i]?this.addBase(this.characterMap[i]):i.charCodeAt(0)>127?this.invalidCharacterError(i):this.addExtended(i.charCodeAt(0))},addExtended(i){let n;for(let e=0;e<this.extendedMappings.length;e++)if(n=this.extendedMappings[e].call(this,i),n){for(let t=0;t<n.length;t++)this.addBase(n[t]);return void(this.dataLength+=n.length-1)}},extendedMappings:[function(i){if(97<=i&&i<=122)return[this.characterMap[this.shiftCharacters[0]],this.characterMap[String.fromCharCode(i-32)]]},function(i){if(33<=i&&i<=58)return[this.characterMap[this.shiftCharacters[1]],this.characterMap[String.fromCharCode(i+32)]]},function(i){if(1<=i&&i<=26)return[this.characterMap[this.shiftCharacters[2]],this.characterMap[String.fromCharCode(i+64)]]},function(i){let n,e;if(this.specialAsciiCodes[i]){n=[];for(let t=0;t<this.specialAsciiCodes[i].length;t++)n.push(this.characterMap[this.shiftCharacters[3]]),n.push(this.characterMap[this.specialAsciiCodes[i][t]])}else e=6*Math.floor(i/32)+(i-27)%32+64,n=[this.characterMap[this.shiftCharacters[3]],this.characterMap[String.fromCharCode(e)]];return n}],specialAsciiCodes:{0:["U"],64:["V"],96:["W"],127:["T","X","Y","Z"]},shiftValuesAsciiCodes:{39:36,40:47,41:43,42:37},characterMap:{"+":!1,"/":!1,$:!1,"%":!1},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]},Z8t=Object.assign;class Oxe extends wxe{initProperties(){super.initProperties(),Z8t(this,{name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,characterMap:{0:{pattern:"131112",value:0},1:{pattern:"111213",value:1},2:{pattern:"111312",value:2},3:{pattern:"111411",value:3},4:{pattern:"121113",value:4},5:{pattern:"121212",value:5},6:{pattern:"121311",value:6},7:{pattern:"111114",value:7},8:{pattern:"131211",value:8},9:{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}})}initValue(n,e,t){this.value=n,this.width=e,this.height=t,this.pattern=[],this.values=[],this.dataLength=n.length}prepareValues(){let n=Math.ceil(Math.max(.15*this.width,24));if(this.height<n)throw new Error(`Insufficient height for Code93 encoding: the current height is ${this.height}px, the minimum required height is ${n}px.`);if(this.setBaseUnit(),this.baseUnit<this.minBaseUnitLength){const e=Math.ceil(this.minBaseUnitLength*(this.width/this.baseUnit));throw new Error(`Insufficient width for Code93 encoding: the current width is ${this.width}px and the minimum required width for value "${this.value}" is ${e}px.`)}}setBaseUnit(){this.baseUnit=this.width/(9*(this.dataLength+2+2)+this.quietZoneLength+1)}addStart(){this.addPattern(this.characterMap.START.pattern)}addStop(){this.addStart(),this.pattern.push(this.characterMap.TERMINATION_BAR)}addBase(n){this.addPattern(n.pattern),this.values.push(n.value)}pushCheckSum(){const n=this._getCheckValues();let e;this.checksum=n.join("");for(let t=0;t<n.length;t++)e=this.characterMap[this._findCharacterByValue(n[t])],this.addPattern(e.pattern)}_getCheckValues(){const n=this.values,e=n.length;let o,r,a,t=0;for(a=e-1;a>=0;a--)t+=this.weightedValue(n[a],e-a,this.cCheckSumTotal);for(o=t%this.checkSumMod,t=this.weightedValue(o,1,this.kCheckSumTotal),a=e-1;a>=0;a--)t+=this.weightedValue(n[a],e-a+1,this.kCheckSumTotal);return r=t%this.checkSumMod,[o,r]}_findCharacterByValue(n){for(let e in this.characterMap)if(this.characterMap[e].value===n)return e}weightedValue(n,e,t){return(e%t||t)*n}addPattern(n){let e;for(let t=0;t<n.length;t++)e=parseInt(n.charAt(t),10),this.pattern.push(e)}}const tLt=/^\d+$/,nLt=Object.assign,voe=/^\d+$/,sLt=/^[a-z0-9]+$/i,Zh=Object.assign;class $V extends pt{constructor(n){super(),this.encoding=n,this.initProperties()}initProperties(){}addStart(){}is(){}isCode(){return!1}move(){}pushState(){}}class Txe extends $V{constructor(n,e){super(n),this.states=e,this._initMoves(e)}initProperties(){super.initProperties(),W(this,{FNC4:"FNC4",SHIFT:98})}addStart(){this.encoding.addPattern(this.START)}is(n,e){let t=n.charCodeAt(e);return this.isCode(t)}move(n){let e=0;for(;!this._moves[e].call(this,n)&&e<this._moves.length;)e++}pushState(n){let r,t=n.value,o=t.length;if(Rn("C",this.states)){let a=t.substr(n.index).match(/\d{4,}/g);a&&(o=t.indexOf(a[0],n.index))}for(;(r=n.value.charCodeAt(n.index))>=0&&this.isCode(r)&&n.index<o;)this.encoding.addPattern(this.getValue(r)),n.index++}_initMoves(n){this._moves=[],Rn(this.FNC4,n)&&this._moves.push(this._moveFNC),Rn(this.shiftKey,n)&&this._moves.push(this._shiftState),this._moves.push(this._moveState)}_moveFNC(n){if(n.fnc)return n.fnc=!1,n.previousState===this.key}_shiftState(n){if(n.previousState===this.shiftKey&&(n.index+1>=n.value.length||this.encoding[this.shiftKey].is(n.value,n.index+1)))return this.encoding.addPattern(this.SHIFT),n.shifted=!0,!0}_moveState(){return this.encoding.addPattern(this.MOVE),!0}}const Fk={};Fk.A=class extends Txe{initProperties(){super.initProperties(),Zh(this,{key:"A",shiftKey:"B",MOVE:101,START:103})}isCode(n){return 0<=n&&n<96}getValue(n){return n<32?n+64:n-32}},Fk.B=class extends Txe{initProperties(){super.initProperties(),Zh(this,{key:"B",shiftKey:"A",MOVE:100,START:104})}isCode(n){return 32<=n&&n<128}getValue(n){return n-32}},Fk.C=class extends $V{initProperties(){super.initProperties(),Zh(this,{key:"C",MOVE:99,START:105})}addStart(){this.encoding.addPattern(this.START)}is(n,e){let t=Coe(n,e,4);return(e+4<=n.length||2===n.length)&&voe.test(t)}move(){this.encoding.addPattern(this.MOVE)}pushState(n){let e;for(;(e=Coe(n.value,n.index,2))&&voe.test(e)&&2===e.length;)this.encoding.addPattern(parseInt(e,10)),n.index+=2}getValue(n){return n}},Fk.FNC4=class extends $V{constructor(n,e){super(n),this._initSubStates(e)}initProperties(){super.initProperties(),Zh(this,{key:"FNC4",dependentStates:["A","B"]})}addStart(n){let e=n.value.charCodeAt(0)-128,t=this._getSubState(e);this.encoding[t].addStart()}is(n,e){let t=n.charCodeAt(e);return this.isCode(t)}isCode(n){return 128<=n&&n<256}pushState(n){let r,e=this._initSubState(n),t=this.encoding,o=e.value.length;if(n.index+=o,o<3)for(;e.index<o;e.index++)r=e.value.charCodeAt(e.index),e.state=this._getSubState(r),e.previousState!==e.state&&(e.previousState=e.state,t[e.state].move(e)),t.addPattern(t[e.state].MOVE),t.addPattern(t[e.state].getValue(r));else e.state!==e.previousState&&t[e.state].move(e),this._pushStart(e),t.pushData(e,this.subStates),n.index<n.value.length&&this._pushStart(e);n.fnc=!0,n.state=e.state}_pushStart(n){this.encoding.addPattern(this.encoding[n.state].MOVE),this.encoding.addPattern(this.encoding[n.state].MOVE)}_initSubState(n){const e={value:this._getAll(n.value,n.index),index:0};return e.state=this._getSubState(e.value.charCodeAt(0)),e.previousState=n.previousState===this.key?e.state:n.previousState,e}_initSubStates(n){this.subStates=[];for(let e=0;e<n.length;e++)Rn(n[e],this.dependentStates)&&this.subStates.push(n[e])}_getSubState(n){for(let e=0;e<this.subStates.length;e++)if(this.encoding[this.subStates[e]].isCode(n))return this.subStates[e]}_getAll(n,e){let t,o="",r=e;for(;(t=n.charCodeAt(r++))&&this.isCode(t);)o+=String.fromCharCode(t-128);return o}},Fk.FNC1=class extends $V{constructor(n,e){super(n),this.states=e}initProperties(){super.initProperties(),Zh(this,{key:"FNC1",startState:"C",startAI:"(",endAI:")",dependentStates:["C","B"],applicationIdentifiers:{22:{max:29,type:"alphanumeric"},402:{length:17},7004:{max:4,type:"alphanumeric"},242:{max:6,type:"alphanumeric"},8020:{max:25,type:"alphanumeric"},703:{min:3,max:30,type:"alphanumeric"},8008:{min:8,max:12,type:"alphanumeric"},253:{min:13,max:17,type:"alphanumeric"},8003:{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[-9]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102})}addStart(){this.encoding[this.startState].addStart()}is(){return Rn(this.key,this.states)}pushState(n){let l,c,u,e=this.encoding,t=n.value.replace(/\s/g,""),o=new RegExp("["+this.startAI+this.endAI+"]","g"),r=n.index,a={state:this.startState};for(e.addPattern(this.START);;){if(a.index=0,u=t.charAt(r)===this.startAI?2:0,l=u>0?this.getBySeparator(t,r):this.getByLength(t,r),l.ai.length)c=r+u+l.id.length+l.ai.length;else if(c=t.indexOf(this.startAI,r+1),c<0){if(r+l.ai.max+l.id.length+u<t.length)throw new Error("Separators are required after variable length identifiers");c=t.length}if(a.value=t.substring(r,c).replace(o,""),this.validate(l,a.value),e.pushData(a,this.dependentStates),c>=t.length)break;r=c,a.state!==this.startState&&(e[this.startState].move(a),a.state=this.startState),l.ai.length||e.addPattern(this.START)}n.index=n.value.length}validate(n,e){let t=e.substr(n.id.length),o=n.ai;if(!o.type&&!voe.test(t))throw new Error("Application identifier "+n.id+" is numeric only but contains non numeric character(s).");if("alphanumeric"===o.type&&!sLt.test(t))throw new Error("Application identifier "+n.id+" is alphanumeric only but contains non alphanumeric character(s).");if(o.length&&o.length!==t.length)throw new Error("Application identifier "+n.id+" must be "+o.length+" characters long.");if(o.min&&o.min>t.length)throw new Error("Application identifier "+n.id+" must be at least "+o.min+" characters long.");if(o.max&&o.max<t.length)throw new Error("Application identifier "+n.id+" must be at most "+o.max+" characters long.")}getByLength(n,e){let t,o;for(let r=2;r<=4;r++)if(t=Coe(n,e,r),o=this.getApplicationIdentifier(t)||this.getApplicationIdentifier(t.substring(0,t.length-1)),o)return{id:t,ai:o};this.unsupportedAIError(t)}unsupportedAIError(n){throw new Error("'"+n+"' is not a supported Application Identifier")}getBySeparator(n,e){let t=n.indexOf(this.startAI,e),o=n.indexOf(this.endAI,t),r=n.substring(t+1,o),a=this.getApplicationIdentifier(r)||this.getApplicationIdentifier(r.substr(r.length-1));return a||this.unsupportedAIError(r),{ai:a,id:r}}getApplicationIdentifier(n){let e=this.applicationIdentifiers,t=e.multiKey;if(e[n])return e[n];for(let o=0;o<t.length;o++){if(t[o].ids&&Rn(n,t[o].ids))return t[o].type;if(t[o].ranges){let r=t[o].ranges;for(let a=0;a<r.length;a++)if(r[a][0]<=n&&n<=r[a][1])return t[o].type}}}};class Ix extends fb{constructor(n){super(n),this._initStates()}initProperties(){super.initProperties(),Zh(this,{characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106})}_initStates(){for(let n=0;n<this.states.length;n++)this[this.states[n]]=new Fk[this.states[n]](this,this.states)}initValue(n,e,t){this.pattern=[],this.value=n,this.width=e,this.height=t,this.checkSum=0,this.totalUnits=0,this.index=0,this.position=1}addData(){let n={value:this.value,index:0,state:""};0!==this.value.length&&(n.state=n.previousState=this.getNextState(n,this.states),this.addStart(n),this.pushData(n,this.states),this.addCheckSum(),this.addStop(),this.setBaseUnit())}pushData(n,e){for(;this[n.state].pushState(n),!(n.index>=n.value.length);)if(n.shifted){let o=n.state;n.state=n.previousState,n.previousState=o,n.shifted=!1}else n.previousState=n.state,n.state=this.getNextState(n,e),this[n.state].move(n)}addStart(n){this[n.state].addStart(n),this.position=1}addCheckSum(){this.checksum=this.checkSum%103,this.addPattern(this.checksum)}addStop(){this.addPattern(this.STOP)}setBaseUnit(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)}addPattern(n){const e=this.characterMap[n].toString();let t;for(let o=0;o<e.length;o++)t=parseInt(e.charAt(o),10),this.pattern.push(t),this.totalUnits+=t;this.checkSum+=n*this.position++}getNextState(n,e){for(let t=0;t<e.length;t++)if(this[e[t]].is(n.value,n.index))return e[t];this.invalidCharacterError(n.value.charAt(n.index))}}function Coe(i,n,e){return i.substring(n,n+e)}const Rx=Object.assign;class XV extends fb{initProperties(){super.initProperties(),Rx(this,{characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:"",checkSums:fLt})}initValue(n,e){this.pattern=[],this.value=n,this.checkSumLength=0,this.width=e}setBaseUnit(){this.baseUnit=this.width/(12*(this.value.length+this.checkSumLength)+this.quietZoneLength+7)}addData(){const n=this.value;this.addPattern(this.START);for(let e=0;e<n.length;e++)this.addCharacter(n.charAt(e));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()}addCharacter(n){const e=this.characterMap[n];e||this.invalidCharacterError(n),this.addPattern(e)}addPattern(n){for(let e=0;e<n.length;e++)this.pattern.push(parseInt(n.charAt(e),10))}addCheckSum(){const e=this.checkSums[this.checkSumType].call(this.checkSums,this.value);this.checksum=e.join("");for(let t=0;t<e.length;t++)this.checkSumLength++,this.addPattern(this.characterMap[e[t]])}}const fLt={Modulo10(i){let t,o,r,n=[0,""],e=i.length%2;for(t=0;t<i.length;t++)n[(t+e)%2]+=parseInt(i.charAt(t),10);for(r=n[0],o=(2*n[1]).toString(),t=0;t<o.length;t++)r+=parseInt(o.charAt(t),10);return[(10-r%10)%10]},Modulo11(i){let o,r,n=0,t=i.length;for(let a=0;a<t;a++)o=((t-a)%6||6)+1,n+=o*i.charAt(a);return r=(11-n%11)%11,10!==r?[r]:[1,0]},Modulo11Modulo10(i){let e,n=this.Modulo11(i);return e=i+n[0],n.concat(this.Modulo10(e))},Modulo10Modulo10(i){let e,n=this.Modulo10(i);return e=i+n[0],n.concat(this.Modulo10(e))}},mLt=Object.assign;class Mxe extends fb{initProperties(){super.initProperties(),mLt(this,{name:"EAN 13",keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}})}initValue(n,e,t){const o=String(n);if(12!==o.length||/\D/.test(o))throw new Error('The value of the "EAN13" encoding should be 12 symbols');this.pattern=[],this.options.height=t,this.baseUnit=e/(95+this.quietZoneLength),this.value=o,this.checksum=this.calculateChecksum(),this.leftKey=o[0],this.leftPart=o.substr(1,6),this.rightPart=o.substr(7)+this.checksum}addData(){this.addPieces(this.characterMap.start),this.addSide(this.leftPart,this.leftKey),this.addPieces(this.characterMap.middle),this.addSide(this.rightPart),this.addPieces(this.characterMap.start)}addSide(n,e){for(let t=0;t<n.length;t++)e&&parseInt(this.keyTable[e].charAt(t),10)?this.addPieces(Array.prototype.slice.call(this.characterMap.digits[n.charAt(t)]).reverse(),!0):this.addPieces(this.characterMap.digits[n.charAt(t)],!0)}addPieces(n,e){for(let t=0;t<n.length;t++)this.pattern.push(e?{y1:0,y2:.95*this.options.height,width:n[t]}:n[t])}calculateChecksum(){let n=0,e=0,t=this.value.split("").reverse().join("");for(let r=0;r<t.length;r++)r%2?e+=parseInt(t.charAt(r),10):n+=parseInt(t.charAt(r),10);return(10-(3*n+e)%10)%10}}const _Lt=Object.assign,Ixe={code11:yxe,code39:Soe,code39extended:class Q8t extends Soe{initProperties(){super.initProperties(),W(this,kxe,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}})}},code93:Oxe,code93extended:class eLt extends Oxe{initProperties(){super.initProperties(),W(this,kxe,{name:"Code 93 extended",pushCheckSum:function(){const n=this._getCheckValues();let e;this.checksum=n.join("");for(let t=0;t<n.length;t++)if(e=n[t],this.shiftValuesAsciiCodes[e])this.addExtended(this.shiftValuesAsciiCodes[e]);else{const o=this._findCharacterByValue(e);this.addPattern(this.characterMap[o].pattern)}}})}},code128:class lLt extends Ix{initProperties(){super.initProperties(),Zh(this,{name:"Code 128",states:["C","B","A","FNC4"]})}},code128a:class oLt extends Ix{initProperties(){super.initProperties(),Zh(this,{name:"Code 128 A",states:["A"]})}},code128b:class rLt extends Ix{initProperties(){super.initProperties(),Zh(this,{name:"Code 128 B",states:["B"]})}},code128c:class aLt extends Ix{initProperties(){super.initProperties(),Zh(this,{name:"Code 128 C",states:["C"]})}},"gs1-128":class cLt extends Ix{initProperties(){super.initProperties(),Zh(this,{name:"Code GS1-128",states:["FNC1","C","B"]})}},msimod10:class dLt extends XV{initProperties(){super.initProperties(),Rx(this,{name:"MSI Modulo10",checkSumType:"Modulo10"})}},msimod11:class uLt extends XV{initProperties(){super.initProperties(),Rx(this,{name:"MSI Modulo11",checkSumType:"Modulo11"})}},msimod1010:class hLt extends XV{initProperties(){super.initProperties(),Rx(this,{name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"})}},msimod1110:class pLt extends XV{initProperties(){super.initProperties(),Rx(this,{name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"})}},postnet:class iLt extends fb{initProperties(){super.initProperties(),nLt(this,{name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]})}initValue(n,e,t){this.height=t,this.width=e,this.baseHeight=t/2,this.value=n.replace(new RegExp(this.DIGIT_SEPARATOR,"g"),""),this.pattern=[],this.validate(this.value),this.checkSum=0,this.setBaseUnit()}addData(){const n=this.value;this.addPattern(this.START);for(let e=0;e<n.length;e++)this.addCharacter(n.charAt(e));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.START),this.pattern.pop()}addCharacter(n){const e=this.characterMap[n];this.checkSum+=parseInt(n,10),this.addPattern(e)}addCheckSum(){this.checksum=(10-this.checkSum%10)%10,this.addCharacter(this.checksum)}setBaseUnit(){this.baseUnit=this.width/(10*(this.value.length+1)+3+this.quietZoneLength)}validate(n){if(tLt.test(n)||this.invalidCharacterError(n.match(/[^0-9]/)[0]),!Rn(n.length,this.VALID_CODE_LENGTHS))throw new Error("Invalid value length. Valid lengths for the Postnet symbology are "+this.VALID_CODE_LENGTHS.join(",")+".")}addPattern(n){let e;for(let t=0;t<n.length;t++)e=this.height-this.baseHeight*n.charAt(t),this.pattern.push({width:1,y1:e,y2:this.height}),this.pattern.push(1)}},ean8:class gLt extends Mxe{initProperties(){super.initProperties(),_Lt(this,{name:"EAN 8"})}initValue(n,e,t){if(7!==n.length||/\D/.test(n))throw new Error("Invalid value provided");this.value=n,this.options.height=t,this.checksum=this.calculateChecksum(this.value),this.leftPart=this.value.substr(0,4),this.rightPart=this.value.substr(4)+this.checksum,this.pattern=[],this.baseUnit=e/(67+this.quietZoneLength)}},ean13:Mxe};function Rxe(i,n){const e=i.style.display;"canvas"===n&&(i.style.display="block");const t={width:i.clientWidth,height:i.clientHeight};return i.style.display=e,t}De(class CLt extends pt{constructor(n,e,t=I3e){super(),this.options=W({},this.options,e),this.element=n,this.onError=t,this._initElement(),this._initSurface(),this._setOptions(e),e&&ge(e.value)&&this.redraw()}destroy(){this._destroySurface()}_initElement(){Ho(this.element,"k-barcode")}_initSurface(){const{options:n,surface:e}=this;(!e||e.options.type!==n.renderAs)&&(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())}_createSurface(){return Pk.create(this.surfaceElement,{type:this.options.renderAs})}_destroySurface(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())}_initSurfaceElement(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))}_destroySurfaceElement(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)}setOptions(n){this._setOptions(n),this._initSurface(),this.redraw()}redraw(){let n=this._getSize();this.surface.clear(),this.surface.setSize({width:n.width,height:n.height}),this.createVisual(),this.surface.draw(this.visual)}getSize(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}}_resize(){this.redraw()}createVisual(){this.visual=this._render()}_render(){const n=this.options,e=n.value,t=n.text,o=Ti(t.margin),r=this._getSize(),a=n.border||{},l=this.encoding,c=new Ve(0,0,r.width,r.height).unpad(a.width).unpad(n.padding);let f,_,S,u=c.height();const v=new Pn;this.contentBox=c,v.append(this._getBackground(r)),t.visible&&(S=TF(e,{font:t.font}).height,u-=S+o.top+o.bottom);try{f=l.encode(e,c.width(),u)}catch(b){return this.onError(b),v}return t.visible&&(_=e,n.checksum&&ge(l.checksum)&&(_+=" "+l.checksum),v.append(this._getText(_))),this.barHeight=u,this._bandsGroup=this._getBands(f.pattern,f.baseUnit),v.append(this._bandsGroup),v}exportVisual(){return this._render()}_getSize(){const e=Rxe(this.element,this.options.renderAs),t=new jC(300,100);return e.width>0&&(t.width=e.width),e.height>0&&(t.height=e.height),this.options.width&&(t.width=this.options.width),this.options.height&&(t.height=this.options.height),t}value(n){if(!ge(n))return this.options.value;this.options.value=String(n),this.redraw()}_getBands(n,e){const t=this.contentBox;let r,a,o=t.x1;const l=new Pn;for(let c=0;c<n.length;c++){if(a=ju(n[c])?n[c]:{width:n[c],y1:0,y2:this.barHeight},r=a.width*e,c%2){const u=yn.fromPoints(new Ie(o,a.y1+t.y1),new Ie(o+r,a.y2+t.y1)),f=lt.fromRect(u,{fill:{color:this.options.color},stroke:null});l.append(f)}o+=r}return l}_getBackground(n){const e=this.options,t=e.border||{},o=new Ve(0,0,n.width,n.height).unpad(t.width/2);return lt.fromRect(o.toRect(),{fill:{color:e.background},stroke:{color:t.width?t.color:"",width:t.width,dashType:t.dashType}})}_getText(n){const e=this.options.text,t=this._textbox=new jc(n,{font:e.font,color:e.color,align:"center",vAlign:"bottom",margin:e.margin});return t.reflow(this.contentBox),t.renderVisual(),t.visual}_setOptions(n){if(this.type=(n.type||this.options.type).toLowerCase(),"upca"===this.type&&(this.type="ean13",n.value="0"+n.value),"upce"===this.type&&(this.type="ean8",n.value="0"+n.value),!Ixe[this.type])throw new Error(`Encoding '${this.type}' is not supported.`);this.encoding=new Ixe[this.type],this.options=W({},this.options,n)}},{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:!1,width:0,height:0,color:"black",background:"white",text:{visible:!0,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}});const Bk=Object.assign;function Axe(i,n){let e=[],t=0;for(;t<i.length;)e.push(i.substring(t,t+n)),t+=n;return e}function Wc(i,n){let e=Number(i).toString(2);return e.length<n&&(e=new Array(n-e.length+1).join(0)+e),e}function WV(i){return parseInt(i,2)}class yLt extends pt{constructor(n){super(),this.matrix=n,this.row=n.length-1,this.column=n.length-1,this.startColumn=this.column,this.dir=-1,this.c=0}move(){this.row+=this.dir*this.c,this.c^=1,this.column=this.startColumn-this.c}getNextCell(){for(;void 0!==this.matrix[this.row][this.column];)this.move(),(this.row<0||this.row>=this.matrix.length)&&(this.dir=-this.dir,this.startColumn-=8!==this.startColumn?2:3,this.column=this.startColumn,this.row=this.dir<0?this.matrix.length-1:0);return{row:this.row,column:this.column}}getNextRemainderCell(){if(this.move(),void 0===this.matrix[this.row][this.column])return{row:this.row,column:this.column}}}class xxe extends pt{constructor(n,e){super(),this.dataString=n,this.version=e}}class DLt extends pt{getEncodingResult(n,e){let t=function aPt(i){let e,n=[],t=0,o=i;for(n.push(Bxe(o,XLt,WLt,KLt,e)),e=n[0].mode,o=o.substr(n[0].modeString.length);o.length>0;){let r=Bxe(o,YLt,JLt,qLt,e);r.mode!==e?(e=r.mode,n.push(r),t++):n[t].modeString+=r.modeString,o=o.substr(r.modeString.length)}return n}(n),o=function lPt(i){let e,n=0;for(let t=0;t<i.length;t++)e=Eoe[i[t].mode],n+=e.getStringBitsLength(i[t].modeString.length);return Math.ceil(n/8)}(t),r=Vxe(o,e),a=function cPt(i,n){let t,e="";for(let o=0;o<i.length;o++)t=Eoe[i[o].mode],e+=t.encode(i[o].modeString,n);return e}(t,r);return new xxe(a,r)}}class boe extends pt{constructor(){super(),this.initProperties()}initProperties(){Bk(this,{modeIndicator:"",bitsInCharacterCount:[]})}getVersionIndex(n){return n<10?0:n>26?2:1}getBitsCharacterCount(n){return this.bitsInCharacterCount[this.getVersionIndex(n||40)]}getModeCountString(n,e){return this.modeIndicator+Wc(n,this.getBitsCharacterCount(e))}encode(){}getStringBitsLength(){}getValue(){}}let Eoe={numeric:new class wLt extends boe{initProperties(){super.initProperties(),Bk(this,{bitsInCharacterCount:[10,12,14],modeIndicator:"0001"})}getValue(n){return parseInt(n,10)}encode(n,e){let a,o=Axe(n,3),r=this.getModeCountString(n.length,e);for(a=0;a<o.length-1;a++)r+=Wc(o[a],10);return r+Wc(o[a],1+3*o[a].length)}getStringBitsLength(n,e){let t=n%3;return 4+this.getBitsCharacterCount(e)+10*Math.floor(n/3)+3*t+(0===t?0:1)}},alphanumeric:new class kLt extends boe{initProperties(){super.initProperties(),Bk(this,{characters:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,$:37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44},bitsInCharacterCount:[9,11,13],modeIndicator:"0010"})}getValue(n){return this.characters[n]}encode(n,e){let r,a,t=Axe(n,2),o=this.getModeCountString(n.length,e);for(a=0;a<t.length-1;a++)r=45*this.getValue(t[a].charAt(0))+this.getValue(t[a].charAt(1)),o+=Wc(r,11);return r=2===t[a].length?45*this.getValue(t[a].charAt(0))+this.getValue(t[a].charAt(1)):this.getValue(t[a].charAt(0)),o+Wc(r,1+5*t[a].length)}getStringBitsLength(n,e){return 4+this.getBitsCharacterCount(e)+11*Math.floor(n/2)+n%2*6}},byte:new class OLt extends boe{initProperties(){super.initProperties(),Bk(this,{bitsInCharacterCount:[8,16,16],modeIndicator:"0100"})}getValue(n){let e=n.charCodeAt(0);if(e<=127||160<=e&&e<=255)return e;throw new Error(`Unsupported character in QR Code: "${n}".`)}encode(n,e){let t=this,o=t.getModeCountString(n.length,e);for(let r=0;r<n.length;r++)o+=Wc(t.getValue(n.charAt(r)),8);return o}getStringBitsLength(n,e){return 4+this.getBitsCharacterCount(e)+8*n}}};class ALt extends pt{constructor(){super(),this.initProperties(),this.mode=Eoe[this.encodingMode]}initProperties(){Bk(this,{encodingMode:"byte",utfBOM:"111011111011101110111111",initialModeCountStringLength:20,ranges:[128,2048,65536,2097152,67108864]})}getEncodingResult(n,e){let t=this.encode(n),r=Vxe(this.getDataCodewordsCount(t),e),a=this.mode.getModeCountString(t.length/8,r)+t;return new xxe(a,r)}getDataCodewordsCount(n){return Math.ceil((this.initialModeCountStringLength+n.length)/8)}encode(n){let e=this.utfBOM;for(let t=0;t<n.length;t++)e+=this.encodeCharacter(n.charCodeAt(t));return e}encodeCharacter(n){let e=this.getBytesCount(n),t=e-1,o="";if(1===e)o=Wc(n,8);else{let r=8-e;for(let a=0;a<t;a++)o=Wc(n>>6*a&63|128,8)+o;o=(n>>6*t|255>>r<<r).toString(2)+o}return o}getBytesCount(n){let e=this.ranges;for(let t=0;t<e.length;t++)if(n<e[t])return t+1}}const Ax=[{L:{groups:[[1,19]],totalDataCodewords:19,errorCodewordsPerBlock:7},M:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:10},Q:{groups:[[1,13]],totalDataCodewords:13,errorCodewordsPerBlock:13},H:{groups:[[1,9]],totalDataCodewords:9,errorCodewordsPerBlock:17}},{L:{groups:[[1,34]],totalDataCodewords:34,errorCodewordsPerBlock:10},M:{groups:[[1,28]],totalDataCodewords:28,errorCodewordsPerBlock:16},Q:{groups:[[1,22]],totalDataCodewords:22,errorCodewordsPerBlock:22},H:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:28}},{L:{groups:[[1,55]],totalDataCodewords:55,errorCodewordsPerBlock:15},M:{groups:[[1,44]],totalDataCodewords:44,errorCodewordsPerBlock:26},Q:{groups:[[2,17]],totalDataCodewords:34,errorCodewordsPerBlock:18},H:{groups:[[2,13]],totalDataCodewords:26,errorCodewordsPerBlock:22}},{L:{groups:[[1,80]],totalDataCodewords:80,errorCodewordsPerBlock:20},M:{groups:[[2,32]],totalDataCodewords:64,errorCodewordsPerBlock:18},Q:{groups:[[2,24]],totalDataCodewords:48,errorCodewordsPerBlock:26},H:{groups:[[4,9]],totalDataCodewords:36,errorCodewordsPerBlock:16}},{L:{groups:[[1,108]],totalDataCodewords:108,errorCodewordsPerBlock:26},M:{groups:[[2,43]],totalDataCodewords:86,errorCodewordsPerBlock:24},Q:{groups:[[2,15],[2,16]],totalDataCodewords:62,errorCodewordsPerBlock:18},H:{groups:[[2,11],[2,12]],totalDataCodewords:46,errorCodewordsPerBlock:22}},{L:{groups:[[2,68]],totalDataCodewords:136,errorCodewordsPerBlock:18},M:{groups:[[4,27]],totalDataCodewords:108,errorCodewordsPerBlock:16},Q:{groups:[[4,19]],totalDataCodewords:76,errorCodewordsPerBlock:24},H:{groups:[[4,15]],totalDataCodewords:60,errorCodewordsPerBlock:28}},{L:{groups:[[2,78]],totalDataCodewords:156,errorCodewordsPerBlock:20},M:{groups:[[4,31]],totalDataCodewords:124,errorCodewordsPerBlock:18},Q:{groups:[[2,14],[4,15]],totalDataCodewords:88,errorCodewordsPerBlock:18},H:{groups:[[4,13],[1,14]],totalDataCodewords:66,errorCodewordsPerBlock:26}},{L:{groups:[[2,97]],totalDataCodewords:194,errorCodewordsPerBlock:24},M:{groups:[[2,38],[2,39]],totalDataCodewords:154,errorCodewordsPerBlock:22},Q:{groups:[[4,18],[2,19]],totalDataCodewords:110,errorCodewordsPerBlock:22},H:{groups:[[4,14],[2,15]],totalDataCodewords:86,errorCodewordsPerBlock:26}},{L:{groups:[[2,116]],totalDataCodewords:232,errorCodewordsPerBlock:30},M:{groups:[[3,36],[2,37]],totalDataCodewords:182,errorCodewordsPerBlock:22},Q:{groups:[[4,16],[4,17]],totalDataCodewords:132,errorCodewordsPerBlock:20},H:{groups:[[4,12],[4,13]],totalDataCodewords:100,errorCodewordsPerBlock:24}},{L:{groups:[[2,68],[2,69]],totalDataCodewords:274,errorCodewordsPerBlock:18},M:{groups:[[4,43],[1,44]],totalDataCodewords:216,errorCodewordsPerBlock:26},Q:{groups:[[6,19],[2,20]],totalDataCodewords:154,errorCodewordsPerBlock:24},H:{groups:[[6,15],[2,16]],totalDataCodewords:122,errorCodewordsPerBlock:28}},{L:{groups:[[4,81]],totalDataCodewords:324,errorCodewordsPerBlock:20},M:{groups:[[1,50],[4,51]],totalDataCodewords:254,errorCodewordsPerBlock:30},Q:{groups:[[4,22],[4,23]],totalDataCodewords:180,errorCodewordsPerBlock:28},H:{groups:[[3,12],[8,13]],totalDataCodewords:140,errorCodewordsPerBlock:24}},{L:{groups:[[2,92],[2,93]],totalDataCodewords:370,errorCodewordsPerBlock:24},M:{groups:[[6,36],[2,37]],totalDataCodewords:290,errorCodewordsPerBlock:22},Q:{groups:[[4,20],[6,21]],totalDataCodewords:206,errorCodewordsPerBlock:26},H:{groups:[[7,14],[4,15]],totalDataCodewords:158,errorCodewordsPerBlock:28}},{L:{groups:[[4,107]],totalDataCodewords:428,errorCodewordsPerBlock:26},M:{groups:[[8,37],[1,38]],totalDataCodewords:334,errorCodewordsPerBlock:22},Q:{groups:[[8,20],[4,21]],totalDataCodewords:244,errorCodewordsPerBlock:24},H:{groups:[[12,11],[4,12]],totalDataCodewords:180,errorCodewordsPerBlock:22}},{L:{groups:[[3,115],[1,116]],totalDataCodewords:461,errorCodewordsPerBlock:30},M:{groups:[[4,40],[5,41]],totalDataCodewords:365,errorCodewordsPerBlock:24},Q:{groups:[[11,16],[5,17]],totalDataCodewords:261,errorCodewordsPerBlock:20},H:{groups:[[11,12],[5,13]],totalDataCodewords:197,errorCodewordsPerBlock:24}},{L:{groups:[[5,87],[1,88]],totalDataCodewords:523,errorCodewordsPerBlock:22},M:{groups:[[5,41],[5,42]],totalDataCodewords:415,errorCodewordsPerBlock:24},Q:{groups:[[5,24],[7,25]],totalDataCodewords:295,errorCodewordsPerBlock:30},H:{groups:[[11,12],[7,13]],totalDataCodewords:223,errorCodewordsPerBlock:24}},{L:{groups:[[5,98],[1,99]],totalDataCodewords:589,errorCodewordsPerBlock:24},M:{groups:[[7,45],[3,46]],totalDataCodewords:453,errorCodewordsPerBlock:28},Q:{groups:[[15,19],[2,20]],totalDataCodewords:325,errorCodewordsPerBlock:24},H:{groups:[[3,15],[13,16]],totalDataCodewords:253,errorCodewordsPerBlock:30}},{L:{groups:[[1,107],[5,108]],totalDataCodewords:647,errorCodewordsPerBlock:28},M:{groups:[[10,46],[1,47]],totalDataCodewords:507,errorCodewordsPerBlock:28},Q:{groups:[[1,22],[15,23]],totalDataCodewords:367,errorCodewordsPerBlock:28},H:{groups:[[2,14],[17,15]],totalDataCodewords:283,errorCodewordsPerBlock:28}},{L:{groups:[[5,120],[1,121]],totalDataCodewords:721,errorCodewordsPerBlock:30},M:{groups:[[9,43],[4,44]],totalDataCodewords:563,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[1,23]],totalDataCodewords:397,errorCodewordsPerBlock:28},H:{groups:[[2,14],[19,15]],totalDataCodewords:313,errorCodewordsPerBlock:28}},{L:{groups:[[3,113],[4,114]],totalDataCodewords:795,errorCodewordsPerBlock:28},M:{groups:[[3,44],[11,45]],totalDataCodewords:627,errorCodewordsPerBlock:26},Q:{groups:[[17,21],[4,22]],totalDataCodewords:445,errorCodewordsPerBlock:26},H:{groups:[[9,13],[16,14]],totalDataCodewords:341,errorCodewordsPerBlock:26}},{L:{groups:[[3,107],[5,108]],totalDataCodewords:861,errorCodewordsPerBlock:28},M:{groups:[[3,41],[13,42]],totalDataCodewords:669,errorCodewordsPerBlock:26},Q:{groups:[[15,24],[5,25]],totalDataCodewords:485,errorCodewordsPerBlock:30},H:{groups:[[15,15],[10,16]],totalDataCodewords:385,errorCodewordsPerBlock:28}},{L:{groups:[[4,116],[4,117]],totalDataCodewords:932,errorCodewordsPerBlock:28},M:{groups:[[17,42]],totalDataCodewords:714,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[6,23]],totalDataCodewords:512,errorCodewordsPerBlock:28},H:{groups:[[19,16],[6,17]],totalDataCodewords:406,errorCodewordsPerBlock:30}},{L:{groups:[[2,111],[7,112]],totalDataCodewords:1006,errorCodewordsPerBlock:28},M:{groups:[[17,46]],totalDataCodewords:782,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[16,25]],totalDataCodewords:568,errorCodewordsPerBlock:30},H:{groups:[[34,13]],totalDataCodewords:442,errorCodewordsPerBlock:24}},{L:{groups:[[4,121],[5,122]],totalDataCodewords:1094,errorCodewordsPerBlock:30},M:{groups:[[4,47],[14,48]],totalDataCodewords:860,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[14,25]],totalDataCodewords:614,errorCodewordsPerBlock:30},H:{groups:[[16,15],[14,16]],totalDataCodewords:464,errorCodewordsPerBlock:30}},{L:{groups:[[6,117],[4,118]],totalDataCodewords:1174,errorCodewordsPerBlock:30},M:{groups:[[6,45],[14,46]],totalDataCodewords:914,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[16,25]],totalDataCodewords:664,errorCodewordsPerBlock:30},H:{groups:[[30,16],[2,17]],totalDataCodewords:514,errorCodewordsPerBlock:30}},{L:{groups:[[8,106],[4,107]],totalDataCodewords:1276,errorCodewordsPerBlock:26},M:{groups:[[8,47],[13,48]],totalDataCodewords:1e3,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[22,25]],totalDataCodewords:718,errorCodewordsPerBlock:30},H:{groups:[[22,15],[13,16]],totalDataCodewords:538,errorCodewordsPerBlock:30}},{L:{groups:[[10,114],[2,115]],totalDataCodewords:1370,errorCodewordsPerBlock:28},M:{groups:[[19,46],[4,47]],totalDataCodewords:1062,errorCodewordsPerBlock:28},Q:{groups:[[28,22],[6,23]],totalDataCodewords:754,errorCodewordsPerBlock:28},H:{groups:[[33,16],[4,17]],totalDataCodewords:596,errorCodewordsPerBlock:30}},{L:{groups:[[8,122],[4,123]],totalDataCodewords:1468,errorCodewordsPerBlock:30},M:{groups:[[22,45],[3,46]],totalDataCodewords:1128,errorCodewordsPerBlock:28},Q:{groups:[[8,23],[26,24]],totalDataCodewords:808,errorCodewordsPerBlock:30},H:{groups:[[12,15],[28,16]],totalDataCodewords:628,errorCodewordsPerBlock:30}},{L:{groups:[[3,117],[10,118]],totalDataCodewords:1531,errorCodewordsPerBlock:30},M:{groups:[[3,45],[23,46]],totalDataCodewords:1193,errorCodewordsPerBlock:28},Q:{groups:[[4,24],[31,25]],totalDataCodewords:871,errorCodewordsPerBlock:30},H:{groups:[[11,15],[31,16]],totalDataCodewords:661,errorCodewordsPerBlock:30}},{L:{groups:[[7,116],[7,117]],totalDataCodewords:1631,errorCodewordsPerBlock:30},M:{groups:[[21,45],[7,46]],totalDataCodewords:1267,errorCodewordsPerBlock:28},Q:{groups:[[1,23],[37,24]],totalDataCodewords:911,errorCodewordsPerBlock:30},H:{groups:[[19,15],[26,16]],totalDataCodewords:701,errorCodewordsPerBlock:30}},{L:{groups:[[5,115],[10,116]],totalDataCodewords:1735,errorCodewordsPerBlock:30},M:{groups:[[19,47],[10,48]],totalDataCodewords:1373,errorCodewordsPerBlock:28},Q:{groups:[[15,24],[25,25]],totalDataCodewords:985,errorCodewordsPerBlock:30},H:{groups:[[23,15],[25,16]],totalDataCodewords:745,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[3,116]],totalDataCodewords:1843,errorCodewordsPerBlock:30},M:{groups:[[2,46],[29,47]],totalDataCodewords:1455,errorCodewordsPerBlock:28},Q:{groups:[[42,24],[1,25]],totalDataCodewords:1033,errorCodewordsPerBlock:30},H:{groups:[[23,15],[28,16]],totalDataCodewords:793,errorCodewordsPerBlock:30}},{L:{groups:[[17,115]],totalDataCodewords:1955,errorCodewordsPerBlock:30},M:{groups:[[10,46],[23,47]],totalDataCodewords:1541,errorCodewordsPerBlock:28},Q:{groups:[[10,24],[35,25]],totalDataCodewords:1115,errorCodewordsPerBlock:30},H:{groups:[[19,15],[35,16]],totalDataCodewords:845,errorCodewordsPerBlock:30}},{L:{groups:[[17,115],[1,116]],totalDataCodewords:2071,errorCodewordsPerBlock:30},M:{groups:[[14,46],[21,47]],totalDataCodewords:1631,errorCodewordsPerBlock:28},Q:{groups:[[29,24],[19,25]],totalDataCodewords:1171,errorCodewordsPerBlock:30},H:{groups:[[11,15],[46,16]],totalDataCodewords:901,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[6,116]],totalDataCodewords:2191,errorCodewordsPerBlock:30},M:{groups:[[14,46],[23,47]],totalDataCodewords:1725,errorCodewordsPerBlock:28},Q:{groups:[[44,24],[7,25]],totalDataCodewords:1231,errorCodewordsPerBlock:30},H:{groups:[[59,16],[1,17]],totalDataCodewords:961,errorCodewordsPerBlock:30}},{L:{groups:[[12,121],[7,122]],totalDataCodewords:2306,errorCodewordsPerBlock:30},M:{groups:[[12,47],[26,48]],totalDataCodewords:1812,errorCodewordsPerBlock:28},Q:{groups:[[39,24],[14,25]],totalDataCodewords:1286,errorCodewordsPerBlock:30},H:{groups:[[22,15],[41,16]],totalDataCodewords:986,errorCodewordsPerBlock:30}},{L:{groups:[[6,121],[14,122]],totalDataCodewords:2434,errorCodewordsPerBlock:30},M:{groups:[[6,47],[34,48]],totalDataCodewords:1914,errorCodewordsPerBlock:28},Q:{groups:[[46,24],[10,25]],totalDataCodewords:1354,errorCodewordsPerBlock:30},H:{groups:[[2,15],[64,16]],totalDataCodewords:1054,errorCodewordsPerBlock:30}},{L:{groups:[[17,122],[4,123]],totalDataCodewords:2566,errorCodewordsPerBlock:30},M:{groups:[[29,46],[14,47]],totalDataCodewords:1992,errorCodewordsPerBlock:28},Q:{groups:[[49,24],[10,25]],totalDataCodewords:1426,errorCodewordsPerBlock:30},H:{groups:[[24,15],[46,16]],totalDataCodewords:1096,errorCodewordsPerBlock:30}},{L:{groups:[[4,122],[18,123]],totalDataCodewords:2702,errorCodewordsPerBlock:30},M:{groups:[[13,46],[32,47]],totalDataCodewords:2102,errorCodewordsPerBlock:28},Q:{groups:[[48,24],[14,25]],totalDataCodewords:1502,errorCodewordsPerBlock:30},H:{groups:[[42,15],[32,16]],totalDataCodewords:1142,errorCodewordsPerBlock:30}},{L:{groups:[[20,117],[4,118]],totalDataCodewords:2812,errorCodewordsPerBlock:30},M:{groups:[[40,47],[7,48]],totalDataCodewords:2216,errorCodewordsPerBlock:28},Q:{groups:[[43,24],[22,25]],totalDataCodewords:1582,errorCodewordsPerBlock:30},H:{groups:[[10,15],[67,16]],totalDataCodewords:1222,errorCodewordsPerBlock:30}},{L:{groups:[[19,118],[6,119]],totalDataCodewords:2956,errorCodewordsPerBlock:30},M:{groups:[[18,47],[31,48]],totalDataCodewords:2334,errorCodewordsPerBlock:28},Q:{groups:[[34,24],[34,25]],totalDataCodewords:1666,errorCodewordsPerBlock:30},H:{groups:[[20,15],[61,16]],totalDataCodewords:1276,errorCodewordsPerBlock:30}}];let xLt="numeric",Lxe="alphanumeric",NLt="byte",yoe={1:0},nv={0:1},LLt={15:20,16:20,18:24,19:24,22:20,24:22,26:24,28:20,30:20,31:24,32:28,33:24,36:18,37:22,39:20,40:24},Doe=[1,0,1,1,1],PLt=[1,0,1],GLt={L:"01",M:"00",Q:"11",H:"10"},VLt=["11101100","00010001"],zLt=93,woe=[(i,n)=>(i+n)%2==0,(i,n)=>i%2==0,(i,n)=>n%3==0,(i,n)=>(i+n)%3==0,(i,n)=>(Math.floor(i/2)+Math.floor(n/3))%2==0,(i,n)=>i*n%2+i*n%3==0,(i,n)=>(i*n%2+i*n%3)%2==0,(i,n)=>((i+n)%2+i*n%3)%2==0],HLt=/^\d+/,Pxe="A-Z0-9 $%*+./:-",$Lt=new RegExp("^[A-Z $%*+./:-]+"),Gxe=new RegExp("^["+Pxe+"]+"),Uxe=new RegExp("^[^"+Pxe+"]+"),XLt=8,WLt=5,KLt=8,YLt=17,JLt=9,qLt=16;const koe=[[1,0],[1,25,0]];function ec(i,n,e,t){for(let o=0;o<i.length;o++)i[o][e][t]=n}function Fxe(i,n,e,t){for(let o=0;o<woe.length;o++)i[o][e][t]=woe[o](e,t)?1^n:parseInt(n,10)}function tPt(i,n){let e=[];for(let o=i.length-2;o>=0;o--)e[o]=i[o]^n[o];return e}function nPt(i,n){let e=[];for(let t=0;t<i.length;t++)for(let o=0;o<n.length;o++)e[t+o]=void 0===e[t+o]?(i[t]+(n[o]>=0?n[o]:0))%255:yoe[nv[e[t+o]]^nv[(i[t]+n[o])%255]];return e}function sPt(i,n){let e=[],t=i.length-1;do{e[t]=nv[(i[t]+n)%255],t--}while(void 0!==i[t]);return e}function oPt(i,n){let l,c,e=koe[n-1],t=new Array(n).concat(i),o=new Array(t.length-e.length).concat(e),r=i.length,a=[];for(c=0;c<r;c++)l=sPt(o,yoe[t[t.length-1]]),o.splice(0,1),t=tPt(l,t);for(c=t.length-1;c>=0;c--)a[n-1-c]=Wc(t[c],8);return a}function Bxe(i,n,e,t,o){let _,S,r=HLt.exec(i),a=r?r[0]:"",l=$Lt.exec(i),c=l?l[0]:"",u=Gxe.exec(i),f=u?u[0]:"";return a&&(a.length>=n||i.length===a.length||a.length>=e&&!Gxe.test(i.charAt(a.length)))?(_=xLt,S=a):f&&(i.length===f.length||f.length>=t||o===Lxe)?(_=Lxe,S=a||c):(_=NLt,S=f?f+Uxe.exec(i.substring(f.length))[0]:Uxe.exec(i)[0]),{mode:_,modeString:S}}function Vxe(i,n){let e=0,t=Ax.length-1,o=Math.floor(Ax.length/2);do{i<Ax[o][n].totalDataCodewords?t=o:e=o,o=e+Math.floor((t-e)/2)}while(t-e>1);return i<=Ax[e][n].totalDataCodewords?o+1:t+1}function zxe(i,n,e){let t=WV(n),o=n.length-1,r=i<<o,l=Wc(i,e-o),c=function uPt(i,n){let e=n.toString(2).length,t=i.toString(2).length,o=i;do{o^=n<<t-e,t=o.toString(2).length}while(t>=e);return o}(r,t);return c=l+Wc(c,o),c}function xx(i,n){return parseInt(i.charAt(n),10)}function Hxe(i,n){let t,o,e=i[0],r=0,a=n.length;for(t=0,o=8;t<=8;t++)6!==t&&ec(i,xx(n,a-1-r++),t,o);for(t=8,o=7;o>=0;o--)6!==o&&ec(i,xx(n,a-1-r++),t,o);for(r=0,o=e.length-1,t=8;o>=e.length-8;o--)ec(i,xx(n,a-1-r++),t,o);for(ec(i,1,e.length-8,8),t=e.length-7,o=8;t<e.length;t++)ec(i,xx(n,a-1-r++),t,o)}function jxe(i,n){let c,u,f,t=i[0].length,r=t-11,a=t-11;for(let _=0;_<n.length;_++)c=Math.floor(_/3),u=_%3,f=xx(n,n.length-_-1),ec(i,f,0+c,r+u),ec(i,f,a+u,0+c)}function KV(i,n,e,t){let a,o=n.length+2,r=n.length+1;for(let l=0;l<n.length;l++)for(let c=l;c<o-l;c++)a=n[l],ec(i,a,e+c,t+l),ec(i,a,e+l,t+c),ec(i,a,e+r-c,t+r-l),ec(i,a,e+r-l,t+r-c)}function Ooe(i,n,e,t){let o=e,r=t,a=i[0];do{ec(i,0,o,t),ec(i,0,e,r),o+=n[0],r+=n[1]}while(o>=0&&o<a.length)}function $xe(i,n,e,t,o){n[i][t]=(n[i][t]<<1^o)%128,n[i][t]===zLt&&(e[i]+=40)}function Xxe(i,n,e,t,o,r){e[i][r]===t?o[i][r]++:(e[i][r]=t,o[i][r]>=5&&(n[i]+=3+o[i][r]-5),o[i][r]=1)}function SPt(i,n){let e=Math.floor(i/n*100),t=e%5,o=Math.abs(e-t-50),r=Math.abs(e+5-t-50);return 10*Math.min(o/5,r/5)}(function ePt(){let i,n;for(n=1;n<255;n++)i=2*nv[n-1],i>255&&(i^=285),nv[n]=i,yoe[i]=n;i=2*nv[n-1]^285,nv[n]=i,nv[-1]=0})(),function iPt(){for(let n=2;n<=68;n++)koe[n]=nPt(koe[n-1],[n,0])}();const Nx=Math.round,bPt=[[0,1],[1,1],[1,2],[2,2],[2,1],[3,1],[3,0],[2,0],[2,-1],[1,-1],[1,0]],Wxe=[[0,1],[1,1],[1,0]];class Kxe extends pt{constructor(n,e,t=I3e){super(),this.options=W({},this.options,e),this.element=n,this.wrapper=this.element,this.onError=t,this._initElement(),this._initSurface(),this.setOptions(e)}destroy(){this._destroySurface()}_initElement(){Ho(this.element,"k-qrcode")}_initSurface(){const{options:n,surface:e}=this;(!e||e.options.type!==n.renderAs)&&(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())}_createSurface(){return Pk.create(this.surfaceElement,{type:this.options.renderAs})}_destroySurface(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())}_initSurfaceElement(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))}_destroySurfaceElement(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)}redraw(){let n=this._getSize();this.surface.clear(),this.surface.setSize({width:n,height:n}),this.createVisual(),this.surface.draw(this.visual)}getSize(){const n=this.element,e=n.clientWidth,t=n.clientHeight,o={width:0,height:0};return e>0&&(o.width=e),t&&(o.height=t),o}_resize(){this.redraw()}createVisual(){this.visual=this._render()}exportVisual(){return this._render()}_render(){let e,a,l,c,u,f,n=this._value,t=this.options.border||{},o=this.options.padding||0,r=t.width||0;t.width=r;let _=new Pn;try{n&&(l=function CPt(i,n,e){let t=function vPt(i){return i&&i.toLowerCase().indexOf("utf_8")>=0?new ALt:new DLt}(e),o=t.getEncodingResult(i,n),r=o.version,a=Ax[r-1][n],l=function ZLt(i,n){let e=8*n,t=0,o=0,r=i;for(;r.length<e&&t<4;)r+="0000".charAt(t++);for(r.length%8!=0&&(r+=new Array(9-r.length%8).join("0"));r.length<e;)r+=VLt[o],o^=1;return r}(o.dataString,a.totalDataCodewords),c=function rPt(i,n){let r,l,c,u,f,e=0,t=[],o=[],a=n.groups;for(let _=0;_<a.length;_++){c=a[_][0];for(let S=0;S<c;S++){l=a[_][1],r=[],u=[];for(let v=1;v<=l;v++)f=i.substring(e,e+8),r.push(f),u[l-v]=WV(f),e+=8;t.push(r),o.push(oPt(u,n.errorCodewordsPerBlock))}}return[t,o]}(l,a),u=function hPt(i){let n=[],e=17+4*i;for(let t=0;t<woe.length;t++){n[t]=new Array(e);for(let o=0;o<e;o++)n[t][o]=new Array(e)}return n}(r);(function fPt(i){let n=i[0].length;KV(i,Doe,0,0),Ooe(i,[-1,-1],7,7),KV(i,Doe,n-7,0),Ooe(i,[1,-1],n-8,7),KV(i,Doe,0,n-7),Ooe(i,[-1,1],7,n-8)})(u),function mPt(i,n){if(n<2)return;let a,l,e=i[0],t=e.length,o=Math.floor(n/7),r=[6],c=0;for((a=LLt[n])?l=(t-13-a)/o:a=l=(t-13)/(o+1),r.push(r[c++]+a);r[c]+l<t;)r.push(r[c++]+l);for(let u=0;u<r.length;u++)for(let f=0;f<r.length;f++)void 0===e[r[u]][r[f]]&&KV(i,PLt,r[u]-2,r[f]-2)}(u,r),function _Pt(i){let t=1,o=i[0].length;for(let r=8;r<o-8;r++)ec(i,t,6,r),ec(i,t,r,6),t^=1}(u),r>=7&&jxe(u,Wc(0,18)),Hxe(u,Wc(0,15)),function QLt(i,n){let t,o,r,e=new yLt(i[0]);for(let a=0;a<n.length;a++)for(t=n[a],o=0;t.length>0;){for(let l=0;l<t.length;l++)for(let c=0;c<8;c++)r=e.getNextCell(),Fxe(i,t[l][o].charAt(c),r.row,r.column);for(o++;t[0]&&o===t[0].length;)t.splice(0,1)}for(;r=e.getNextRemainderCell();)Fxe(i,0,r.row,r.column)}(u,c);let f=function gPt(i){let a,l,n=[],e=[],t=[],o=[],r=[],f=i[0].length;for(l=0;l<i.length;l++)n[l]=0,t[l]=0,r[l]=[0,0],o[l]=[0,0],e[l]=[];for(let b=0;b<f;b++)for(let D=0;D<f;D++)for(let k=0;k<i.length;k++)a=i[k],t[k]+=parseInt(a[b][D],10),e[k][0]===a[b][D]&&b+1<f&&D-1>=0&&a[b+1][D]===e[k][0]&&a[b+1][D-1]===e[k][0]&&(n[k]+=3),$xe(k,o,n,0,a[b][D]),$xe(k,o,n,1,a[D][b]),Xxe(k,n,e,a[b][D],r,0),Xxe(k,n,e,a[D][b],r,1);let S,_=f*f,v=Number.MAX_VALUE;for(l=0;l<n.length;l++)n[l]+=SPt(t[l],_),n[l]<v&&(v=n[l],S=l);return S}(u),_=u[f];return r>=7&&jxe([_],function pPt(i){return zxe(i,"1111100100101",18)}(r)),Hxe([_],function dPt(i){let e,t="";if(0===WV(i))return"101010000010010";e=zxe(WV(i),"10100110111",15);for(let o=0;o<e.length;o++)t+=e.charAt(o)^"101010000010010".charAt(o);return t}(GLt[n]+Wc(f,3))),_}(n,this.options.errorCorrection,this.options.encoding),c=this._getSize(),f=c-2*(r+o),e=this._calculateBaseUnit(f,l.length),u=l.length*e,a=r+o+(f-u)/2,_.append(this._renderBackground(c,t)),_.append(this._renderMatrix(l,e,a)),this._hasCustomLogo()?_.append(this._renderLogo(c,e)):this._isSwiss()&&_.append(this._renderSwissCode(c,e)))}catch(S){this.onError(S)}return _}_renderLogo(n,e){let t,o,r=Nx(n/2),a=this._getLogoSize(7*e),l=this.options.overlay.imageUrl,c={x:r-a.width/2,y:r-a.height/2};return o=new yn(new Ie(c.x,c.y),new jC(a.width,a.height)),t=new vee(l,o),t}_renderSwissCode(n,e){let t=this._getLogoSize(7*e);t=Math.max(t.width,t.height);let o=t/4,r=o/2,a=n/2,l={},c=new Pn;return l.x=l.y=Math.ceil(a-e-t/2),c.append(this._renderShape(l,Math.ceil(t+2*e),Wxe,"#fff")),l.x=l.y=a-t/2,c.append(this._renderShape(l,t,Wxe,this.options.color)),l.x=a+r-t/2,l.y=a+r+o-t/2,c.append(this._renderShape(l,o,bPt,"#fff")),c}_renderShape(n,e,t,o){let r=new Lc({fill:{color:o},stroke:null});r.moveTo(n.x,n.y);for(let a=0;a<t.length;a++)r.lineTo(n.x+e*t[a][0],n.y+e*t[a][1]);return r.close(),r}_getSize(){let n;if(this.options.size)n=parseInt(this.options.size,10);else{const t=Rxe(this.element,this.options.renderAs),o=Math.min(t.width,t.height);n=o>0?o:200}return n}_calculateBaseUnit(n,e){let t=Math.floor(n/e);if(t<1){const o=Math.ceil(1*e);this.onError(new Error(`Insufficient size for QR Code: the current size is ${n}px and the minimum size is ${o}px.`))}else t*e>=n&&t-1>=1&&t--;return t}_renderMatrix(n,e,t){let o=new Lc({fill:{color:this.options.color},stroke:null});for(let r=0;r<n.length;r++){let a=t+r*e,l=0;for(;l<n.length;){for(;0===n[r][l]&&l<n.length;)l++;if(l<n.length){let c=l;for(;1===n[r][l];)l++;let u=Nx(t+c*e),f=Nx(a),_=Nx(t+l*e),S=Nx(a+e);o.moveTo(u,f).lineTo(u,S).lineTo(_,S).lineTo(_,f).close()}}}return o}_renderBackground(n,e){const t=new Ve(0,0,n,n).unpad(e.width/2);return lt.fromRect(t.toRect(),{fill:{color:this.options.background},stroke:{color:e.color,width:e.width}})}setOptions(n){this.options=Bk(this.options,n||{}),void 0!==n.value&&(this._value=String(this.options.value)),this._initSurface(),this.redraw()}value(n){if(void 0===n)return this._value;this._value=String(n),this.redraw()}_hasCustomLogo(){return!!this.options.overlay.imageUrl}_isSwiss(){return"swiss"===this.options.overlay.type}_getLogoSize(n){let e=this.options.overlay.width,t=this.options.overlay.height;return e||t?e&&!t?t=e:!e&&t&&(e=t):e=t=n,{width:e,height:t}}}De(Kxe,{name:"QRCode",renderAs:"svg",encoding:"ISO_8859_1",value:"",errorCorrection:"L",background:"#fff",color:"#000",size:"",padding:0,border:{color:"",width:0},overlay:{type:"image",imageUrl:"",width:0,height:0}});const EPt=Kxe,Toe={WGS84:{a:6378137,b:6356752.314245179,f:.0033528106647474805,e:.08181919084262149}};function Jf(i){return i*i}let iv=Math,DPt=iv.abs,Yxe=iv.atan,YV=iv.atan2,sv=iv.cos,lg=iv.sin,Jxe=iv.tan;class Cs extends pt{constructor(n,e){super(),this.initProperties(),1===arguments.length?(this.lat=n[0],this.lng=n[1]):(this.lat=n,this.lng=e)}initProperties(){W(this,{DISTANCE_ITERATIONS:100,DISTANCE_CONVERGENCE:1e-12,DISTANCE_PRECISION:2,FORMAT:"{0:N6}{1:N6}"})}toArray(){return[this.lat,this.lng]}equals(n){return n&&n.lat===this.lat&&n.lng===this.lng}clone(){return new Cs(this.lat,this.lng)}round(n){return this.lng=Ye(this.lng,n),this.lat=Ye(this.lat,n),this}wrap(){return this.lng=this.lng%180,this.lat=this.lat%90,this}distanceTo(n,e){return this.greatCircleTo(n,e).distance}destination(n,e,t){let o=pr(e),r=t||Toe.WGS84,a=pr(this.lat),l=pr(this.lng),c=n/r.a,u=iv.asin(lg(a)*sv(c)+sv(a)*lg(c)*sv(o)),f=l+YV(lg(o)*lg(c)*sv(a),sv(c)-lg(a)*lg(u));return new Cs(HS(u),HS(f))}greatCircleTo(n,e){let t=Cs.create(t),o=e||Toe.WGS84;if(!t||this.clone().round(8).equals(t.clone().round(8)))return{distance:0,azimuthFrom:0,azimuthTo:0};let k,x,P,L,H,j,J,te,r=o.a,a=o.b,l=o.f,c=pr(t.lng-this.lng),u=Yxe((1-l)*Jxe(pr(this.lat))),f=lg(u),_=sv(u),S=Yxe((1-l)*Jxe(pr(t.lat))),v=lg(S),b=sv(S),D=c,O=this.DISTANCE_ITERATIONS,I=!1;for(;!I&&O-- >0;){x=lg(D),P=sv(D),L=iv.sqrt(Jf(b*x)+Jf(_*v-f*b*P)),j=f*v+_*b*P,te=YV(L,j);let ee=_*b*x/L;H=1-Jf(ee),J=0,0!==H&&(J=j-2*f*v/H),k=D;let ae=l/16*H*(4+l*(4-3*H));D=c+(1-ae)*l*ee*(te+ae*L*(J+ae*j*(2*Jf(J)-1))),I=DPt(D-k)<=this.DISTANCE_CONVERGENCE}let ce=H*(Jf(r)-Jf(a))/Jf(a),oe=1+ce/16384*(4096+ce*(ce*(320-175*ce)-768)),Le=ce/1024*(256+ce*(ce*(74-47*ce)-128)),ue=Le*L*(J+Le/4*(j*(2*Jf(J)-1)-Le/6*J*(4*Jf(L)-3)*(4*Jf(J)-3))),ye=YV(b*x,_*v-f*b*P),ie=YV(_*x,-f*b+_*v*P);return{distance:Ye(a*oe*(te-ue),this.DISTANCE_PRECISION),azimuthFrom:HS(ye),azimuthTo:HS(ie)}}toString(){return String(this.lat)+","+String(this.lng)}static fromLngLat(n){return new Cs(n[1],n[0])}static fromLatLng(n){return new Cs(n[0],n[1])}static create(n,e){if(ge(n))return n instanceof Cs?n.clone():1===arguments.length&&2===n.length?Cs.fromLatLng(n):new Cs(n,e)}}let ov=Math,Moe=ov.atan,qxe=ov.exp,Qxe=ov.pow,Zxe=ov.sin,e4e=ov.log,t4e=ov.tan,n4e=Ie,JV=ov.PI,Ioe=JV/2,i4e=JV/4,wPt=JV/180,kPt=Toe.WGS84;class Roe extends pt{constructor(n){super(),this.initProperties(),this._initOptions(n)}_initOptions(n){this.options=W({},this.options,n)}initProperties(){W(this,{MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12})}forward(n,e){let t=this,o=t.options,a=o.datum.a,l=o.centralMeridian,c=Gt(n.lat,-t.MAX_LAT,t.MAX_LAT),u=e?Gt(n.lng,-t.MAX_LNG,t.MAX_LNG):n.lng,f=pr(u-l)*a,_=t._projectLat(c);return new n4e(f,_)}_projectLat(n){let e=this.options.datum,t=e.e,o=e.a,r=pr(n),a=t4e(i4e+r/2),l=t*Zxe(r),c=Qxe((1-l)/(1+l),t/2);return o*e4e(a*c)}inverse(n,e){let t=this,o=t.options,c=n.x/(wPt*o.datum.a)+o.centralMeridian,u=Gt(t._inverseY(n.y),-t.MAX_LAT,t.MAX_LAT);return e&&(c=Gt(c,-t.MAX_LNG,t.MAX_LNG)),new Cs(u,c)}_inverseY(n){let u,e=this,t=e.options.datum,r=t.e,a=r/2,l=qxe(-n/t.a),c=Ioe-2*Moe(l);for(u=0;u<=e.INVERSE_ITERATIONS;u++){let f=r*Zxe(c),_=Qxe((1-f)/(1+f),a),S=Ioe-2*Moe(l*_)-c;if(c+=S,ov.abs(S)<=e.INVERSE_CONVERGENCE)break}return HS(c)}}De(Roe,{centralMeridian:0,datum:kPt});class OPt extends Roe{initProperties(){super.initProperties(),W(this,{MAX_LAT:85.0511287798})}_projectLat(n){let e=this.options.datum.a,t=pr(n),o=t4e(i4e+t/2);return e*e4e(o)}_inverseY(n){let t=qxe(-n/this.options.datum.a);return HS(Ioe-2*Moe(t))}}class MPt extends pt{constructor(){super();let e=this._proj=new OPt,t=this.c=2*JV*e.options.datum.a;this._tm=wi().translate(.5,.5).scale(1/t,-1/t),this._itm=wi().scale(t,-t).translate(-.5,-.5)}toPoint(n,e,t){return this._proj.forward(n,t).transform(this._tm).scale(e||1)}toLocation(n,e,t){let o=n.clone().scale(1/(e||1)).transform(this._itm);return this._proj.inverse(o,t)}}const s4e=Object.defineProperty;let mb=i=>{const n=document.createElement("div");return n.innerHTML=i,n.firstChild},Lx=i=>{for(;i.firstChild;)i.removeChild(i.firstChild)},o4e=(i,n)=>{n.insertBefore(i,n.firstChild)},r4e=i=>i.replace(/([a-z][A-Z])/g,function(e){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()}),a4e=i=>{let n;return n=i&&String(i).endsWith("px")?i:String(i)+"px",n};const l4e=i=>{let e,n=!1,t=[],o={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.?(\d+(\.\d+)?)?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},r={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},a={tablet:/playbook|ipad|fire/i},l={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(let c in o)if(hk(o,c)&&(t=i.match(o[c]),t)){if("windows"===c&&"plugins"in navigator)return!1;n={},n.device=c,n.tablet=Aoe(c,a,!1),n.browser=Aoe(i,l,"default"),n.name=Aoe(c,r),n[n.name]=!0,n.majorVersion=t[2],n.minorVersion=(t[3]||"0").replace("_","."),e=n.minorVersion.replace(".","").substr(0,2),n.flatVersion=n.majorVersion+e+new Array(3-(e.length<3?e.length:2)).join("0");break}return n};function Aoe(i,n,e){for(let t in n)if(hk(n,t)&&n[t].test(i))return t;return void 0!==e?e:i}let xoe=()=>{let i={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};const n=_b();return n.touch&&(n.mobileOS.ios||n.mobileOS.android)?i={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:n.pointers?i={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:n.msPointers&&(i={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),i};const _b=()=>{const i=l4e(navigator.userAgent),n=(i=>{let n=!1,e=[],t={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(let o in t)if(hk(t,o)&&(e=i.match(t[o]),e)){n={},n[o]=!0,n[e[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,n.version=parseInt(document.documentMode||e[2],10);break}return n})(navigator.userAgent);let e=n.chrome,t=n.crios,o=n.mozilla,r=n.safari;const a={};a.mobileOS=i,a.touch="ontouchstart"in window,a.pointers=!e&&!t&&!o&&!r&&window.PointerEvent,a.msPointers=!e&&window.MSPointerEvent,a.mouseAndTouchPresent=a.touch&&!(a.mobileOS.ios||a.mobileOS.android),a.eventCapture=document.documentElement.addEventListener;let l=document.createElement("table"),c=a.transitions=!1,u=a.transforms=!1;const f="string";return["Moz","webkit","O","ms"].forEach(function(_){let S=typeof l.style[_+"Transition"]===f;if(S||typeof l.style[_+"Transform"]===f){let v=_.toLowerCase();return u={css:"ms"!==v?"-"+v+"-":"",prefix:_,event:"o"===v||"webkit"===v?v:""},S&&(c=u,c.event=c.event?c.event+"TransitionEnd":"transitionend"),!1}}),l=null,a.transforms=u,a.transitions=c,a.delayedClick=function(){if(a.touch){if(a.mobileOS.ios)return!0;if(a.mobileOS.android){if(!a.browser.chrome)return!0;if(a.browser.version<32)return!1;const _=document.querySelector("meta[name=viewport]");return!(_?_.getAttribute("content"):"").match(/user-scalable=no/i)}}return!1},a},bs=(i,n)=>i.bind(n),tc=(i,n,e,t,o)=>{GPt(i,n,e,t,o)},GPt=(i,n,e,t,o)=>{(ga(n)?n:(n||"").split(" ")).forEach(function(a){UPt(i,a,e,t,o)})},UPt=(i,n,e,t,o)=>{let a,r=t;e&&Fs(e)&&!t?r=e:e&&function PPt(i){return"string"==typeof i}(e)&&Fs(r)&&(a=e),i.addEventListener(n,function(l){const c=l.target?l.target.closest(a):null;(!a||a&&l.target&&c)&&(s4e(l,"currentTarget",{value:a?c:l.currentTarget}),s4e(l,"delegateTarget",{value:i}),r(l))},!!o)},Kc=(i,n,e,t,o)=>{FPt(i,n,e,t,o)},FPt=(i,n,e,t)=>{(ga(n)?n:(n||"").split(" ")).forEach(function(r){BPt(i,r,e,t)})},BPt=(i,n,e,t)=>{i.removeEventListener(n,e,!!t)},Ju=i=>{const n=xoe(navigator);return i.replace(/([^ ]+)/g,function e(r){return n[r]||r})},qV=(i,n)=>{const e=i.prototype;e.events?n.forEach(t=>{e.events.indexOf(t)<0&&e.events.push(t)}):e.events=n},cg=()=>Number(new Date),c4e=()=>{},d4e=i=>{let n=[];if(i){let e=r4e(i).split("-");for(let t=0;t<e.length;t++)n.push("k-pos-"+e[t])}return n.join(" ")};let zPt=function(){this._defaultPrevented=!0},HPt=function(){return!0===this._defaultPrevented};class qu extends pt{constructor(){super(),this._events={}}destroy(){this.unbind()}bind(n,e,t){let r,l,c,u,_,o=this,a="string"==typeof n?[n]:n||[],f="function"==typeof e;if(void 0===e){for(r in n)o.bind(r,n[r]);return o}for(r=0,l=a.length;r<l;r++){let S=a[r];u=f?e:e[S],u&&(t&&(c=u,u=function(){o.unbind(S,u),c.apply(o,arguments)},u.original=c),_=o._events[S]=o._events[S]||[],_.push(u))}return o}one(n,e){return this.bind(n,e,!0)}first(n,e){let o,a,l,u,t=this,r="string"==typeof n?[n]:n,c="function"==typeof e;for(o=0,a=r.length;o<a;o++){let f=r[o];l=c?e:e[f],l&&(u=t._events[f]=t._events[f]||[],u.unshift(l))}return t}trigger(n,e){let r,a,t=this,o=t._events[n];if(o){let l=e||{};for(l.sender=t,l._defaultPrevented=!1,l.preventDefault=zPt,l.isDefaultPrevented=HPt,o=o.slice(),r=0,a=o.length;r<a;r++)o[r].call(t,l);return!0===l._defaultPrevented}return!1}unbind(n,e){let r,t=this,o=t._events[n];if(void 0===n)t._events={};else if(o)if(e)for(r=o.length-1;r>=0;r--)(o[r]===e||o[r].original===e)&&o.splice(r,1);else t._events[n]=[];return t}_setEvents(n){const e=(this.events||[]).length;for(let t=0;t<e;t++){let o=this.events[t];this.options[o]&&n[o]&&(this.unbind(o,this.options[o]),this._events&&this._events[o]&&delete this._events[o])}this.bind(this.events,n)}}class p4e extends qu{constructor(n,e){super(),this.element=n,this._initOptions(e),this.items=[],Ho(this.element,"k-widget k-attribution")}_initOptions(n){this.options=W({},this.options,n)}filter(n,e){this._extent=n,this._zoom=e,this._render()}add(n){let e=n;ge(n)&&("string"==typeof n&&(e={text:n}),this.items.push(e),this._render())}remove(n){let e=[];for(let t=0;t<this.items.length;t++){let o=this.items[t];o.text!==n&&e.push(o)}this.items=e,this._render()}clear(){this.items=[],Lx(this.element)}_render(){let n=[];for(let e=0;e<this.items.length;e++){let o=this._itemText(this.items[e]);""!==o&&n.push(o)}n.length>0?(Lx(this.element),((i,n)=>{const e=document.createElement("div");for(e.innerHTML=i;e.childNodes.length>0;)n.appendChild(e.childNodes[0])})(n.join(this.options.separator),this.element),this.showElement()):this.hideElement()}hideElement(){this.element.style.display="none"}showElement(){this.element.style.display=""}_itemText(n){let e="",t=this._inZoomLevel(n.minZoom,n.maxZoom),o=this._inArea(n.extent);return t&&o&&(e+=n.text),e}_inZoomLevel(n,e){let t=!0,o=sn(n,-Number.MAX_VALUE),r=sn(e,Number.MAX_VALUE);return t=this._zoom>o&&this._zoom<r,t}_inArea(n){let e=!0;return n&&(e=n.contains(this._extent)),e}}De(p4e,{name:"Attribution",separator:"&nbsp;|&nbsp;"});const jPt={up:{className:"k-navigator-n",iconClass:"k-i-caret-alt-up"},down:{className:"k-navigator-s",iconClass:"k-i-caret-alt-down"},right:{className:"k-navigator-e",iconClass:"k-i-caret-alt-right"},left:{className:"k-navigator-w",iconClass:"k-i-caret-alt-left"}};function QV(i,n){const e='<button class="k-button k-button-square k-rounded-full k-button-flat k-button-flat-base k-icon-button '+jPt[i].className+'" aria-label="move '+i+'">'+dk({icon:`caret-alt-${i}`,iconClass:"k-button-icon",svgIcons:n.svgIcons,type:n.type})+"</button>";return mb(e)}class Noe extends qu{constructor(n,e){super(),this.element=n,this._initOptions(e);const t=QV("up",e.icons),o=QV("right",e.icons),r=QV("down",e.icons),a=QV("left",e.icons);this.element.appendChild(t),this.element.appendChild(o),this.element.appendChild(r),this.element.appendChild(a),Ho(this.element,"k-widget k-navigator"),tc(this.element,"click",".k-button",bs(this._click,this));let l=this.element.parentNode.closest("[data-role]");this._keyroot=l||this.element,this._tabindex(this._keyroot),this._keydownHandler=bs(this._keydown,this),tc(this._keyroot,"keydown",this._keydownHandler)}destroy(){this.dispose()}dispose(){Kc(this._keyroot,"keydown",this._keydownHandler)}_tabindex(n){const e=n||this.wrapper||this.element;let t=this.element,o="tabindex",r=e.getAttribute(o)||t.getAttribute(o);t.removeAttribute(o),e.setAttribute(o,isNaN(r)?0:r)}_initOptions(n){this.options=W({},this.options,n)}_pan(n,e){let t=this.options.panStep;this.trigger("pan",{x:n*t,y:e*t})}_click(n){let e=0,t=0,o=n.currentTarget;o.matches(".k-navigator-n")?t=1:o.matches(".k-navigator-s")?t=-1:o.matches(".k-navigator-e")?e=1:o.matches(".k-navigator-w")&&(e=-1),this._pan(e,t),n.preventDefault()}_keydown(n){switch(n.which){case 38:this._pan(0,1),n.preventDefault();break;case 40:this._pan(0,-1),n.preventDefault();break;case 39:this._pan(1,0),n.preventDefault();break;case 37:this._pan(-1,0),n.preventDefault()}}}function m4e(i,n,e){const t='<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-zoom-'+i+'" title="zoom-'+i+'" aria-label="zoom-'+i+'">'+dk({icon:n,iconClass:"k-button-icon",svgIcons:e.svgIcons,type:e.type})+"</button>";return mb(t)}De(Noe,{name:"Navigator",panStep:1}),qV(Noe,["pan"]);class Loe extends qu{constructor(n,e,t){super(),this.element=n,this._initOptions(e);const o=m4e("in","plus",t),r=m4e("out","minus",t);this.element.appendChild(o),this.element.appendChild(r),this.element.setAttribute("role","group"),Ho(this.element,"k-widget k-zoom-control k-button-group k-group-horizontal"),this._clickHandler=this._click.bind(this),tc(this.element,"click",".k-button",this._clickHandler);let a=this.element.parentNode.closest("[data-role]");this._keyroot=a||this.element,this._tabindex(this._keyroot),this._keydownHandler=this._keydown.bind(this),tc(this._keyroot,"keydown",this._keydownHandler)}destroy(){this.element&&Kc(this.element,"click",this._clickHandler),this._keyroot&&Kc(this._keyroot,"keydown",this._keydownHandler)}_tabindex(n){const e=n||this.wrapper||this.element;let t=this.element,o="tabindex",r=e.getAttribute(o)||t.getAttribute(o);t.removeAttribute(o),e.setAttribute(o,isNaN(r)?0:r)}_initOptions(n){this.options=W({},this.options,n)}_change(n){this.trigger("change",{delta:n*this.options.zoomStep})}_click(n){let t=1;GB(n.currentTarget,"k-zoom-out")&&(t=-1),this._change(t),n.preventDefault()}_keydown(n){switch(n.which){case 107:case 187:case 61:this._change(1);break;case 109:case 189:case 173:this._change(-1)}}}De(Loe,{name:"ZoomControl",zoomStep:1}),qV(Loe,["change"]);let g4e=Math,S4e=g4e.max,v4e=g4e.min;class dg extends pt{constructor(n,e){super();let t=Cs.create(n),o=Cs.create(e);t.lng+180>o.lng+180&&t.lat+90<o.lat+90?(this.se=t,this.nw=o):(this.se=o,this.nw=t)}contains(n){let e=this.nw,t=this.se,o=sn(n.lng,n[1]),r=sn(n.lat,n[0]);return n&&o+180>=e.lng+180&&o+180<=t.lng+180&&r+90>=t.lat+90&&r+90<=e.lat+90}center(){let n=this.nw,e=this.se;return new Cs(n.lat+(e.lat-n.lat)/2,n.lng+(e.lng-n.lng)/2)}containsAny(n){let e=!1;for(let t=0;t<n.length;t++)e=e||this.contains(n[t]);return e}include(n){let e=this.nw,t=this.se,o=sn(n.lng,n[1]),r=sn(n.lat,n[0]);e.lng=v4e(e.lng,o),e.lat=S4e(e.lat,r),t.lng=S4e(t.lng,o),t.lat=v4e(t.lat,r)}includeAll(n){for(let e=0;e<n.length;e++)this.include(n[e])}edges(){let n=this.nw,e=this.se;return{nw:this.nw,ne:new Cs(n.lat,e.lng),se:this.se,sw:new Cs(e.lat,n.lng)}}toArray(){let n=this.nw,e=this.se;return[n,new Cs(n.lat,e.lng),e,new Cs(e.lat,n.lng)]}overlaps(n){return this.containsAny(n.toArray())||n.containsAny(this.toArray())}static create(n,e){return n instanceof dg?n:n&&e?new dg(n,e):n&&4===n.length&&!e?new dg([n[0],n[1]],[n[2],n[3]]):void 0}static get World(){return new dg([90,-180],[-90,180])}}const C4e="centerChange";class b4e extends pt{constructor(n,e){super(),this.widgetService=n,this.options=W({},this.options,e),this.offset={x:0,y:0}}show(n,e){this.location!==e.location&&(this.anchor=n,this.location=e.location,this.widgetService.notify("showTooltip",Object.assign({anchor:this.anchor},e)),this.visible=!0)}hide(){this.widgetService&&this.widgetService.notify("hideTooltip"),this.visible=!1,this.location=null}get anchor(){return this._anchor}set anchor(n){const e=this.widgetService.widget._toDocumentCoordinates({x:n.left-this.offset.x,y:n.top-this.offset.y});this._anchor={left:e.left,top:e.top}}destroy(){this.widgetService=null}}De(b4e,{border:{width:1},opacity:1});class Poe extends pt{constructor(n,e){super(),this.support=_b(),this._initOptions(e),this.map=n;let t=document.createElement("div");Ho(t,"k-layer"),t.style.zIndex=this.options.zIndex,t.style.opacity=this.options.opacity,this.element=t,n.scrollElement.appendChild(this.element),this._beforeReset=this._beforeReset.bind(this),this._reset=this._reset.bind(this),this._resize=this._resize.bind(this),this._panEnd=this._panEnd.bind(this),this._activate(),this._updateAttribution()}destroy(){this._deactivate()}_initOptions(n){this.options=W({},this.options,n)}show(){this.reset(),this._activate(),this._applyExtent(!0)}hide(){this._deactivate(),this._setVisibility(!1)}reset(){this._beforeReset(),this._reset()}_reset(){this._applyExtent()}_beforeReset(){}_resize(){}_panEnd(){this._applyExtent()}_applyExtent(){let n=this.options,e=this.map.zoom(),t=!ge(n.minZoom)||e>=n.minZoom,o=!ge(n.maxZoom)||e<=n.maxZoom,r=dg.create(n.extent),a=!r||r.overlaps(this.map.extent());this._setVisibility(t&&o&&a)}_setVisibility(n){this.element.style.display=n?"":"none"}_activate(){let n=this.map;this._deactivate(),n.bind("beforeReset",this._beforeReset),n.bind("reset",this._reset),n.bind("resize",this._resize),n.bind("panEnd",this._panEnd)}_deactivate(){let n=this.map;n.unbind("beforeReset",this._beforeReset),n.unbind("reset",this._reset),n.unbind("resize",this._resize),n.unbind("panEnd",this._panEnd)}_updateAttribution(){const n=this.map.attribution;n&&n.add(this.options.attribution)}_readData(){return this.options.data||[]}_hasData(){return this._data&&this._data.length>0}_layerIndex(){return(this.map.layers||[]).indexOf(this)}}let rv=Math,Goe=Ie;function E4e(i){return Fs(i)?i:PB.compile(i)}function ZPt(i){return new Goe(Ye(i.x),Ye(i.y))}function y4e(i){let n=i;return"string"!=typeof i&&(n+="px"),n}class D4e extends Poe{constructor(n,e){super(n,e),"string"==typeof this.options.subdomains&&(this.options.subdomains=this.options.subdomains.split(""));let t=this._viewType();this._view=new t(this.element,this.options)}destroy(){super.destroy(),this._view.destroy(),this._view=null}_beforeReset(){let n=this.map,e=n.locationToLayer(n.extent().nw).round();this._view.viewOrigin(e)}_reset(){super._reset(),this._updateView(),this._view.reset()}_viewType(){return eGt}_activate(){super._activate(),this.support.mobileOS||(this._pan||(this._pan=xV(this._render.bind(this),100)),this.map.bind("pan",this._pan))}_deactivate(){super._deactivate(),this._pan&&this.map.unbind("pan",this._pan)}_updateView(){let n=this._view,e=this.map,t=e.extent(),o={nw:e.locationToLayer(t.nw).round(),se:e.locationToLayer(t.se).round()};n.center(e.locationToLayer(e.center())),n.extent(o),n.zoom(e.zoom())}_resize(){this._render()}_panEnd(n){super._panEnd(n),this._render()}_render(){this._updateView(),this._view.render()}}De(D4e,{tileSize:256,subdomains:["a","b","c"],urlTemplate:"",zIndex:1});class eGt extends pt{constructor(n,e){super(),this.element=n,this._initOptions(e),this.pool=new k4e}_initOptions(n){this.options=W({},this.options,n)}center(n){this._center=n}extent(n){this._extent=n}viewOrigin(n){this._viewOrigin=n}zoom(n){this._zoom=n}pointToTileIndex(n){return new Goe(rv.floor(n.x/this.options.tileSize),rv.floor(n.y/this.options.tileSize))}tileCount(){let n=this.size(),e=this.pointToTileIndex(this._extent.nw),t=this._extent.nw,o=this.indexToPoint(e).translate(-t.x,-t.y);return{x:rv.ceil((rv.abs(o.x)+n.width)/this.options.tileSize),y:rv.ceil((rv.abs(o.y)+n.height)/this.options.tileSize)}}size(){let n=this._extent.nw,t=this._extent.se.clone().translate(-n.x,-n.y);return{width:t.x,height:t.y}}indexToPoint(n){return new Goe(n.x*this.options.tileSize,n.y*this.options.tileSize)}subdomainText(){let n=this.options.subdomains;return n[this.subdomainIndex++%n.length]}destroy(){Lx(this.element),this.pool.empty()}reset(){this.pool.reset(),this.subdomainIndex=0,this.render()}render(){let t,o,r,n=this.tileCount(),e=this.pointToTileIndex(this._extent.nw);for(o=0;o<n.x;o++)for(r=0;r<n.y;r++)t=this.createTile({x:e.x+o,y:e.y+r}),t.visible||t.show()}createTile(n){let e=this.tileOptions(n),t=this.pool.get(this._center,e);return t.element.parentNode||this.element.append(t.element),t}tileOptions(n){let e=this.wrapIndex(n),t=this.indexToPoint(n),o=this._viewOrigin,r=t.clone().translate(-o.x,-o.y);return{index:e,currentIndex:n,point:t,offset:ZPt(r),zoom:this._zoom,size:this.options.tileSize,subdomain:this.subdomainText(),urlTemplate:this.options.urlTemplate,errorUrlTemplate:this.options.errorUrlTemplate}}wrapIndex(n){let e=rv.pow(2,this._zoom);return{x:this.wrapValue(n.x,e),y:Gt(n.y,0,e-1)}}wrapValue(n,e){let t=rv.abs(n)%e,o=n;return o=n>=0?t:e-(0===t?e:t),o}}class w4e extends pt{constructor(n,e){super(),this.id=n,this.visible=!0,this._initOptions(e),this.createElement(),this.show()}destroy(){const n=this.element,e=n?n.parentNode:null;n&&(e&&e.removeChild(n),this.element=null)}_initOptions(n){this.options=W({},this.options,n)}createElement(){let n=document.createElement("img");const e=this.options.size+"px";n.setAttribute("alt",""),n.style.position="absolute",n.style.display="block",n.style.width=n.style.maxWidth=e,n.style.height=n.style.maxHeight=e,this.element=n}show(){let n=this.element;n.style.top=y4e(this.options.offset.y),n.style.left=y4e(this.options.offset.x);let e=this.url();e&&n.setAttribute("src",e),n.style.visibility="visible",this.visible=!0}hide(){this.element.style.visibility="hidden",this.visible=!1}url(){return E4e(this.options.urlTemplate)(this.urlOptions())}errorUrl(){return E4e(this.options.errorUrlTemplate)(this.urlOptions())}urlOptions(){let n=this.options;return{zoom:n.zoom,subdomain:n.subdomain,z:n.zoom,x:n.index.x,y:n.index.y,s:n.subdomain,quadkey:n.quadkey,q:n.quadkey,culture:n.culture,c:n.culture}}}De(w4e,{urlTemplate:"",errorUrlTemplate:""});class k4e extends pt{constructor(){super(),this._items=[]}get(n,e){return this._items.length>=this.options.maxSize&&this._remove(n),this._create(e)}empty(){let n=this._items;for(let e=0;e<n.length;e++)n[e].destroy();this._items=[]}reset(){let n=this._items;for(let e=0;e<n.length;e++)n[e].hide()}_create(n){let t,e=this._items,o=hIt(n.point.toString()+n.offset.toString()+n.zoom+n.urlTemplate);for(let r=0;r<e.length;r++)if(e[r].id===o){t=e[r];break}return t?t.show():(t=new w4e(o,n),this._items.push(t)),t}_remove(n){let e=this._items,t=-1,o=-1;for(let r=0;r<e.length;r++){let a=e[r].options.point.distanceTo(n);a>t&&!e[r].visible&&(o=r,t=a)}-1!==o&&(e[o].destroy(),e.splice(o,1))}}De(k4e,{maxSize:100});const gb=Object.assign,Px="change";class tGt extends qu{constructor(n,e){super();let t=this,o=n[0]||n;t.capture=!1;const r=xoe(navigator);o.addEventListener?(r.down.split(" ").forEach(function(a){o.addEventListener(a,bs(t._press,t),!0)}),r.up.split(" ").forEach(function(a){o.addEventListener(a,bs(t._release,t),!0)})):(r.down.split(" ").forEach(function(a){o.attachEvent(a,bs(t._press,t))}),r.up.split(" ").forEach(function(a){o.attachEvent(a,bs(t._release,t))})),t.bind(["press","release"],e||{})}captureNext(){this.capture=!0}cancelCapture(){this.capture=!1}_press(n){this.trigger("press"),this.capture&&n.preventDefault()}_release(n){let e=this;e.trigger("release"),e.capture&&(n.preventDefault(),e.cancelCapture())}}class O4e extends qu{constructor(n){super();let e=this;e.forcedEnabled=!1,gb(e,n),e.scale=1,e.horizontal?(e.measure="offsetWidth",e.scrollSize="scrollWidth",e.axis="x"):(e.measure="offsetHeight",e.scrollSize="scrollHeight",e.axis="y")}makeVirtual(){gb(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})}virtualSize(n,e){(this._virtualMin!==n||this._virtualMax!==e)&&(this._virtualMin=n,this._virtualMax=e,this.update())}outOfBounds(n){return n>this.max||n<this.min}forceEnabled(){this.forcedEnabled=!0}getSize(){return this.container[this.measure]}getTotal(){return this.element[this.scrollSize]}rescale(n){this.scale=n}update(n){let e=this,t=e.virtual?e._virtualMax:e.getTotal(),o=t*e.scale,r=e.getSize();0===t&&!e.forcedEnabled||(e.max=e.virtual?-e._virtualMin:0,e.size=r,e.total=o,e.min=Math.min(e.max,r-o),e.minScale=r/t,e.centerOffset=(o-r)/2,e.enabled=e.forcedEnabled||o>r,n||e.trigger(Px,e))}}class nGt extends qu{constructor(n){super();let e=this;e.x=new O4e(gb({horizontal:!0},n)),e.y=new O4e(gb({horizontal:!1},n)),e.container=n.container,e.forcedMinScale=n.minScale,e.maxScale=n.maxScale||100,e.bind(Px,n)}rescale(n){this.x.rescale(n),this.y.rescale(n),this.refresh()}centerCoordinates(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}}refresh(){let n=this;n.x.update(),n.y.update(),n.enabled=n.x.enabled||n.y.enabled,n.minScale=n.forcedMinScale||Math.min(n.x.minScale,n.y.minScale),n.fitScale=Math.max(n.x.minScale,n.y.minScale),n.trigger(Px)}}class T4e extends qu{constructor(n){super(),gb(this,n)}outOfBounds(){return this.dimension.outOfBounds(this.movable[this.axis])}dragMove(n){let e=this,t=e.dimension,o=e.axis,r=e.movable,a=r[o]+n;if(!t.enabled)return;let l=n;(a<t.min&&n<0||a>t.max&&n>0)&&(l*=e.resistance),r.translateAxis(o,l),e.trigger(Px,e)}}class iGt extends pt{constructor(n){super();let t,o,r,a,e=this;gb(e,{elastic:!0},n),r=e.elastic?.5:0,a=e.movable,e.x=t=new T4e({axis:"x",dimension:e.dimensions.x,resistance:r,movable:a}),e.y=o=new T4e({axis:"y",dimension:e.dimensions.y,resistance:r,movable:a}),e.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart(l){e.gesture=l,e.offset=ck(e.dimensions.container)},press(l){const c=l.event.target.closest("a");c&&c.matches("[data-navigate-on-press=true]")&&l.sender.cancel()},gesturechange(l){let b,c=e.gesture,u=c.center,f=l.center,_=l.distance/c.distance,v=e.dimensions.maxScale;a.scale<=e.dimensions.minScale&&_<1&&(_+=.8*(1-_)),a.scale*_>=v&&(_=v/a.scale);let D=a.x+e.offset.left,k=a.y+e.offset.top;b={x:(D-u.x)*_+f.x-D,y:(k-u.y)*_+f.y-k},a.scaleWith(_),t.dragMove(b.x),o.dragMove(b.y),e.dimensions.rescale(a.scale),e.gesture=l,l.preventDefault()},move(l){l.event.target.tagName.match(/textarea|input/i)||(t.dimension.enabled||o.dimension.enabled?(t.dragMove(l.x.delta),o.dragMove(l.y.delta),l.preventDefault()):l.touch.skip())},end(l){l.preventDefault()}})}}let M4e=function(i,n,e){return"translate3d("+i+"px,"+n+"px,0) scale("+e+")"};class Uoe extends qu{constructor(n){super();let e=this;e.support=_b(),this.transformStyle=this.support.transitions.prefix+"Transform",e.element=n,e.element.style.webkitTransformOrigin="left top",e.x=0,e.y=0,e.scale=1;const t=M4e(e.x,e.y,e.scale);e.element.style[this.transformStyle]=t,e._saveCoordinates(t)}translateAxis(n,e){this[n]+=e,this.refresh()}scaleTo(n){this.scale=n,this.refresh()}scaleWith(n){this.scale*=n,this.refresh()}translate(n){this.x+=n.x,this.y+=n.y,this.refresh()}moveAxis(n,e){this[n]=e,this.refresh()}moveTo(n){gb(this,n),this.refresh()}refresh(){let o,n=this,e=n.x,t=n.y;n.round&&(e=Math.round(e),t=Math.round(t)),o=M4e(e,t,n.scale),o!==n.coordinates&&(n.element.style[this.transformStyle]=o,n._saveCoordinates(o),n.trigger(Px))}_saveCoordinates(n){this.coordinates=n}}const Foe=Pn;class Boe extends Poe{constructor(n,e){super(n,e),this._pan=bs(this._pan,this),this.surface=Pk.create(this.element,{width:n.scrollElement.clientWidth,height:n.scrollElement.clientHeight}),this._initRoot(),this.movable=new Uoe(this.surface.element),this._markers=[],this._click=this._handler("shapeClick"),this.surface.bind("click",this._click),this._mouseleave=this._handler("shapeMouseLeave"),this.surface.bind("mouseleave",this._mouseleave),this.surface.bind("mouseenter",this._mouseenter.bind(this))}destroy(){super.destroy(),this.surface.destroy()}_reset(){super._reset(),this._translateSurface(),this._data=this._readData(),this._hasData()&&this._load(this._data)}_initRoot(){this._root=new Foe,this.surface.draw(this._root)}_beforeReset(){this.surface.clear(),this._initRoot()}_resize(){this.surface.size(this.map.size())}_readData(){const n=super._readData();return"FeatureCollection"===n.type?n.features:"GeometryCollection"===n.type?n.geometries:n}_load(n){this._data=n,this._clearMarkers(),this._loader||(this._loader=new sGt(this.map,this.options.style,this));let e=new Foe;for(let t=0;t<n.length;t++){let o=this._loader.parse(n[t]);o&&e.append(o)}this._root.clear(),this._root.append(e)}shapeCreated(n){let e=!1;return n instanceof Ad&&this.map.options.renderPointsAsMarkers&&(e=ge(this._createMarker(n))),e||(e=this.map.trigger("shapeCreated",{layer:this,shape:n})),e}featureCreated(n){n.layer=this,this.map.trigger("shapeFeatureCreated",n)}_createMarker(n){let e=this.map.markers.bind({location:n.location},n.dataItem);return e&&this._markers.push(e),e}_clearMarkers(){for(let n=0;n<this._markers.length;n++)this.map.markers.remove(this._markers[n]);this._markers=[]}_pan(){this._panning||(this._panning=!0,this.surface.suspendTracking())}_panEnd(n){super._panEnd(n),this._translateSurface(),this.surface.resumeTracking(),this._panning=!1}_translateSurface(){let n=this.map,e=n.locationToView(n.extent().nw);this.surface.translate&&(this.surface.translate(e),this.movable.moveTo({x:e.x,y:e.y}))}_eventArgs(n){return{layer:this,layerIndex:this._layerIndex(),shape:n.element,shapeIndex:(this._data||[]).indexOf(n.element.dataItem),originalEvent:n.originalEvent}}_handler(n){return e=>{e.element&&this.map.trigger(n,this._eventArgs(e))}}_mouseenter(n){if(!n.element)return;this.map.trigger("shapeMouseEnter",this._eventArgs(n));const e=n.element,t=this._tooltipAnchor(n);this.map._tooltip.show(t,this._tooltipContext(e))}_tooltipContext(n){return{type:"shape",layerIndex:this._layerIndex(),className:"k-map-shape-tooltip",dataItem:n.dataItem,location:n.location}}_tooltipAnchor(n){const e=this.map.eventOffset(n.originalEvent);return{top:e.y,left:e.x}}_activate(){super._activate(),this._panHandler=bs(this._pan,this),this.map.bind("pan",this.panHandler)}_deactivate(){super._deactivate(),this.map.unbind("pan",this._panHandler)}}De(Boe,{autoBind:!0,zIndex:100});class sGt extends pt{constructor(n,e,t){super(),this.observer=t,this.locator=n,this.style=e}parse(n){let e=new Foe,t=!0;return"Feature"===n.type?(t=!1,this._loadGeometryTo(e,n.geometry,n),this._featureCreated(e,n)):this._loadGeometryTo(e,n,n),t&&e.children.length<2&&(e=e.children[0]),e}_shapeCreated(n){let e=!1;return this.observer&&this.observer.shapeCreated&&(e=this.observer.shapeCreated(n)),e}_featureCreated(n,e){this.observer&&this.observer.featureCreated&&this.observer.featureCreated({group:n,dataItem:e,properties:e.properties})}_loadGeometryTo(n,e,t){let r,a,o=e.coordinates;switch(e.type){case"LineString":a=this._loadPolygon(n,[o],t),this._setLineFill(a);break;case"MultiLineString":for(r=0;r<o.length;r++)a=this._loadPolygon(n,[o[r]],t),this._setLineFill(a);break;case"Polygon":this._loadPolygon(n,o,t);break;case"MultiPolygon":for(r=0;r<o.length;r++)this._loadPolygon(n,o[r],t);break;case"Point":this._loadPoint(n,o,t);break;case"MultiPoint":for(r=0;r<o.length;r++)this._loadPoint(n,o[r],t)}}_setLineFill(n){let e=n.segments;(e.length<4||!e[0].anchor().equals(jo(e).anchor()))&&(n.options.fill=null)}_loadShape(n,e){return this._shapeCreated(e)||n.append(e),e}_loadPolygon(n,e,t){let o=this._buildPolygon(e);return o.dataItem=t,o.location=this.locator.viewToLocation(o.bbox().center()),this._loadShape(n,o)}_buildPolygon(n){let t=new(n.length>1?Lc:lt)(this.style);for(let o=0;o<n.length;o++)for(let r=0;r<n[o].length;r++){let a=this.locator.locationToView(Cs.fromLngLat(n[o][r]));0===r?t.moveTo(a.x,a.y):t.lineTo(a.x,a.y)}return t}_loadPoint(n,e,t){let o=Cs.fromLngLat(e),r=this.locator.locationToView(o),a=new ul(r,10),l=new Ad(a,this.style);return l.dataItem=t,l.location=o,this._loadShape(n,l)}}class I4e extends Boe{_readData(){return this.options.data||[]}_load(n){if(this._data=n,this.surface.clear(),0===n.length)return;let e=this.options,t=zS(e.valueField),o=n.slice(0);o.sort(function(c,u){return t(u)-t(c)});let a,r=this._scaleType(),l=zS(this.options.locationField);for(let c=0;c<o.length;c++){let u=o[c],f=l(u),_=t(u);if(ge(f)&&ge(_)){a||(a=new r([0,_],[e.minSize,e.maxSize])),f=Cs.create(f);let S=this.map.locationToView(f),v=a.map(_),b=this._createSymbol({center:S,size:v,style:e.style,dataItem:u,location:f});b.dataItem=u,b.location=f,b.value=_,this._drawSymbol(b)}}}_scaleType(){let n=this.options.scale;return Fs(n)?n:rGt[n]}_createSymbol(n){let e=this.options.symbol;return Fs(e)||(e=aGt[e]),e(n)}_drawSymbol(n){this.map.trigger("shapeCreated",{layer:this,shape:n})||this.surface.draw(n)}_tooltipContext(n){return{type:"bubble",layerIndex:this._layerIndex(),className:"k-map-bubble-tooltip",dataItem:n.dataItem,location:n.location,value:n.value}}_tooltipAnchor(n){const t=n.element.bbox().center();return{top:t.y,left:t.x}}}De(I4e,{locationField:"location",valueField:"value",minSize:0,maxSize:100,scale:"sqrt",symbol:"circle",zIndex:200});let rGt={sqrt:class oGt extends pt{constructor(n,e){super(),this._domain=n,this._range=e;let t=Math.sqrt(n[1])-Math.sqrt(n[0]);this._ratio=(e[1]-e[0])/t}map(n){let e=(Math.sqrt(n)-Math.sqrt(this._domain[0]))*this._ratio;return this._range[0]+e}}},aGt={circle:function(i){let n=new ul(i.center,i.size/2);return new Ad(n,i.style)},square:function(i){let n=new lt(i.style),e=i.size/2,t=i.center;return n.moveTo(t.x-e,t.y-e).lineTo(t.x+e,t.y-e).lineTo(t.x+e,t.y+e).lineTo(t.x-e,t.y+e).close(),n}};const A4e="mouseenter",x4e="mouseleave",lGt=Object.assign,Voe=".k-marker";class zoe extends Poe{constructor(n,e){super(n,e),this._markerClickHandler=bs(this._markerClick,this),tc(this.element,"click",Voe,this._markerClickHandler),this.items=[],this._load(this._readData())}destroy(){super.destroy(),Kc(this.element,"click",this._markerClickHandler),this.clear()}add(n){if(!ga(n))return this._addOne(n);for(let e=0;e<n.length;e++)this._addOne(n[e])}remove(n){n.destroy();let e=(this.items||[]).indexOf(n);e>-1&&this.items.splice(e,1)}clear(){for(let n=0;n<this.items.length;n++)this.items[n].destroy();this.items=[]}update(n){let e=n.location();e&&(n.showAt(this.map.locationToView(e)),this.map.trigger("markerActivate",{marker:n,layer:this}))}_reset(){super._reset();let n=this.items;for(let e=0;e<n.length;e++)this.update(n[e])}bind(n,e){let t=Gx.create(n,this.options);if(t.dataItem=e,!this.map.trigger("markerCreated",{marker:t,layer:this}))return this.add(t),t}_addOne(n){let e=Gx.create(n,this.options);return e.addTo(this),e}_readData(){return this.options.data||[]}_load(n){this._data=n,this.clear();let e=zS(this.options.locationField),t=zS(this.options.titleField);for(let o=0;o<n.length;o++){let r=n[o];this.bind({location:e(r),title:t(r)},r)}}_markerClick(n){const e=n.currentTarget._kendoNode;let t={layer:this,layerIndex:this._layerIndex(),marker:e,markerIndex:(this.items||[]).indexOf(e),originalEvent:n};this.map.trigger("markerClick",t)}_markerMouseEnter(n){const e=this._createMarkerEventArgs(n);this.map.trigger("markerMouseEnter",e)}_markerMouseLeave(n){const e=this._createMarkerEventArgs(n);this.map.trigger("markerMouseLeave",e)}_createMarkerEventArgs(n){const e=n.marker;return lGt({},{layer:this,layerIndex:this._layerIndex(),marker:e,markerIndex:(this.items||[]).indexOf(e)},n)}}De(zoe,{zIndex:1e3,autoBind:!0,locationField:"location",titleField:"title",template:""});class Gx extends pt{constructor(n){super(),this.options=n||{}}destroy(){this.layer=null,this.unbindEvents(),this.hide()}addTo(n){this.layer=n.markers||n,this.layer.items.push(this),this.layer.update(this)}location(n){return n?(this.options.location=Cs.create(n).toArray(),this.layer&&this.layer.update(this),this):Cs.create(this.options.location)}showAt(n){this.render(),this._anchor={left:Math.round(n.x),top:Math.round(n.y)},this.element.style.left=a4e(this._anchor.left),this.element.style.top=a4e(this._anchor.top)}hide(){this.element&&(this.element.remove(),this.element=null)}bindEvents(){this.element&&(this._mouseEnterHandler=bs(this._mouseEnter,this),tc(this.element,A4e,Voe,this._mouseEnterHandler),this._mouseLeaveHandler=bs(this._mouseLeave,this),tc(this.element,x4e,Voe,this._mouseLeaveHandler))}unbindEvents(){this.element&&(Kc(this.element,A4e,this._mouseEnterHandler),Kc(this.element,x4e,this._mouseLeaveHandler))}render(){if(!this.element){let n=this.options,e=this.layer,t=document.createElement("span");if(Ho(t,"k-marker"),this.options.template){const a=this._compileTemplate(this.options.template)(this.dataItem),l=mb(a);t.appendChild(l)}else if(n.svgIcon)dk(t,{icon:n.svgIcon,iconClass:"k-icon-xxl",svgIcons:this.options.icons.svgIcons,type:"svg"});else{let r={icon:"map-marker",iconClass:"k-icon-xxl",svgIcons:this.options.icons.svgIcons,type:this.options.icons.type};n.shape?"pinTarget"===n.shape?(r.icon="map-marker-target",dk(t,r)):"pin"===n.shape?dk(t,r):Ho(t,"k-icon k-icon-xxl k-i-marker-"+r4e(n.shape||"pin")):dk(t,r)}n.title&&t.setAttribute("title",n.title);const o=n.attributes||{};Object.keys(o).forEach(function(r){t.setAttribute(r,o[r])}),t._kendoNode=this,t.style.zIndex=n.zIndex,this.element=t,e&&e.element.appendChild(this.element),this.bindEvents()}}_mouseEnter(n){const e=this._createEventArgs(n);this.layer._markerMouseEnter(e),this.layer.map._tooltip.show({top:this._anchor.top-this.element.offsetHeight,left:this._anchor.left},this._tooltipContext())}_tooltipContext(){return{type:"marker",layerIndex:this.layer._layerIndex(),className:"k-map-marker-tooltip",dataItem:this.dataItem,title:this.options.title,location:this.location()}}_mouseLeave(n){const e=this._createEventArgs(n);this.layer._markerMouseLeave(e)}_createEventArgs(n){return{marker:this,originalEvent:n}}_compileTemplate(n){return PB.compile(n,{paramName:"dataItem",useWithBlock:!1})}static create(n,e){return n instanceof Gx?n:new Gx(W({},e,n))}}const cGt=Object.assign;function L4e(i){window.requestAnimationFrame(i)}class ZV extends pt{constructor(){super();let n=this;n._tickProxy=bs(n._tick,n),n._started=!1}tick(){}done(){}onEnd(){}onCancel(){}start(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,L4e(this._tickProxy)))}enabled(){return!0}cancel(){this._started=!1,this.onCancel()}_tick(){let n=this;n._started&&(n.tick(),n.done()?(n._started=!1,n.onEnd()):L4e(n._tickProxy))}}class P4e extends ZV{constructor(n){super(),cGt(this,n)}done(){return this.timePassed()>=this.duration}timePassed(){return Math.min(this.duration,cg()-this.startDate)}moveTo(n){let e=this;e.initial=e.movable[e.axis],e.delta=n.location-e.initial,e.duration="number"==typeof n.duration?n.duration:300,e.tick=e._easeProxy(n.ease),e.startDate=cg(),e.start()}_easeProxy(n){let e=this;return function(){e.movable.moveAxis(e.axis,n(e.timePassed(),e.initial,e.delta,e.duration))}}static easeOutExpo(n,e,t,o){return n===o?e+t:t*(1-Math.pow(2,-10*n/o))+e}}const e9=Object.assign,dGt=i=>{i.preventDefault()};let G4e=800,U4e=0,t9="tap",X4e="gesturechange",W4e="gestureend",K4e="gesturetap",pGt={api:0,touch:0,mouse:9,pointer:9};function Y4e(i){const n=_b();let a,l,c,e=[],t=i.originalEvent||i,o=i.currentTarget,r=0;if(i.api)e.push({id:2,event:i,target:i.target,currentTarget:i.target,location:i,type:"api"});else if(i.type.match(/touch/))for(l=t?t.changedTouches:[],a=l.length;r<a;r++)c=l[r],e.push({location:c,event:i,target:c.target,currentTarget:o,id:c.identifier,type:"touch"});else e.push(n.pointers||n.msPointers?{location:t,event:i,target:i.target,currentTarget:o,id:t.pointerId,type:"pointer"}:{id:1,event:i,target:i.target,currentTarget:o,location:i,type:"mouse"});return e}class J4e extends pt{constructor(n,e){super();let t=this;t.support=_b(),t.invalidZeroEvents=this.support.mobileOS&&this.support.mobileOS.android,t.axis=n,t._updateLocationData(e),t.startLocation=t.location,t.velocity=t.delta=0,t.timeStamp=cg()}move(n){let e=this,t=n["page"+e.axis],o=cg(),r=o-e.timeStamp||1;!t&&this.invalidZeroEvents||(e.delta=t-e.location,e._updateLocationData(n),e.initialDelta=t-e.startLocation,e.velocity=e.delta/r,e.timeStamp=o)}_updateLocationData(n){let e=this,t=e.axis;e.location=n["page"+t],e.client=n["client"+t],e.screen=n["screen"+t]}}class mGt extends pt{constructor(n,e,t){super(),e9(this,{x:new J4e("X",t.location),y:new J4e("Y",t.location),type:t.type,useClickAsTap:n.useClickAsTap,threshold:n.threshold||pGt[t.type],userEvents:n,target:e,currentTarget:t.currentTarget,initialTouch:t.target,id:t.id,pressEvent:t,_clicks:n._clicks,supportDoubleTap:n.supportDoubleTap,_moved:!1,_finished:!1})}press(){this._holdTimeout=setTimeout(bs(this._hold,this),this.userEvents.minHold),this._trigger("press",this.pressEvent)}_tap(n){let e=this;e.userEvents._clicks++,1===e.userEvents._clicks&&(e._clickTimeout=setTimeout(function(){e._trigger(1===e.userEvents._clicks?t9:"doubleTap",n),e.userEvents._clicks=0},300))}_hold(){this._trigger("hold",this.pressEvent)}move(n){let e=this;if(!(e._finished||"api"!==n.type&&e.userEvents._shouldNotMove)){if(e.x.move(n.location),e.y.move(n.location),!e._moved){if(e._withinIgnoreThreshold())return;if(Vk.current&&Vk.current!==e.userEvents)return e.dispose();e._start(n)}e._finished||e._trigger("move",n)}}end(n){this.endTime=cg(),!this._finished&&(this._finished=!0,this._trigger("release",n),this._moved?this._trigger("end",n):this.useClickAsTap||(this.supportDoubleTap?this._tap(n):this._trigger(t9,n)),clearTimeout(this._holdTimeout),this.dispose())}dispose(){let e=this.userEvents.touches||[];this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout);const t=e.indexOf(this);e.splice(t,1)}skip(){this.dispose()}cancel(){this.dispose()}isMoved(){return this._moved}_start(n){clearTimeout(this._holdTimeout),this.startTime=cg(),this._moved=!0,this._trigger("start",n)}_trigger(n,e){let t=this,o=e.event;t.userEvents.notify(n,{touch:t,x:t.x,y:t.y,target:t.target,event:o})&&o.preventDefault()}_withinIgnoreThreshold(){let n=this.x.initialDelta,e=this.y.initialDelta;return Math.sqrt(n*n+e*e)<=this.threshold}}function q4e(i){let e=xoe(navigator).up.split(" "),t=0,o=e.length;for(;t<o;t++)i(e[t])}class Vk extends qu{constructor(n,e){super();let o,t=this;const r=_b();if(this.support=r,this.options=e=e||{},o=t.filter=e.filter,t.threshold=e.threshold||U4e,t.minHold=e.minHold||G4e,t.touches=[],t._maxTouches=e.multiTouch?2:1,t.allowSelection=e.allowSelection,t.captureUpIfMoved=e.captureUpIfMoved,t.useClickAsTap=!e.fastTap&&!r.delayedClick(),t._clicks=0,t.supportDoubleTap=e.supportDoubleTap,e9(t,{element:n,surface:!e.global||r.touch&&!r.mouseAndTouchPresent?e.surface||n:n.ownerDocument.documentElement,stopPropagation:e.stopPropagation,pressed:!1}),this._surfaceMoveHandler=bs(this._move,this),tc(t.surface,Ju("move"),this._surfaceMoveHandler),this._surfaceEndHandler=bs(this._end,this),tc(t.surface,Ju("up cancel"),this._surfaceEndHandler),this._elementStartHandler=bs(this._start,this),tc(n,Ju("down"),o,this._elementStartHandler),t.useClickAsTap&&(this._elementClickHandler=bs(this._click,this),tc(n,Ju("click"),o,this._elementClickHandler)),r.pointers||r.msPointers)if(r.browser.version<11){let l="pinch-zoom double-tap-zoom";n.style["-ms-touch-action"]=e.touchAction&&"none"!==e.touchAction?l+" "+e.touchAction:l}else n.style["touch-action"]=e.touchAction||"none";if(e.preventDragEvent&&(this._elementDragStartHandler=dGt,tc(n,Ju("dragstart"),this._elementDragStartHandler)),this._elementSelectHandler=bs(this._select,this),tc(n,Ju("mousedown"),o,this._elementSelectHandler),t.captureUpIfMoved&&r.eventCapture){let l=t.surface,c=bs(t.preventIfMoving,t);q4e(function(u){l.addEventListener(u,c,!0)})}t.bind(["press","hold",t9,"doubleTap","start","move","end","release","cancel","gesturestart",X4e,W4e,K4e,"select"],e)}preventIfMoving(n){this._isMoved()&&n.preventDefault()}destroy(){let n=this;const e=this.options,t=this.element;if(!n._destroyed){if(n._destroyed=!0,n.captureUpIfMoved&&this.support.eventCapture){let o=n.surface;q4e(function(r){o.removeEventListener(r,n.preventIfMoving)})}Kc(n.surface,Ju("move"),this._surfaceMoveHandler),Kc(n.surface,Ju("up cancel"),this._surfaceEndHandler),Kc(t,Ju("down"),this._elementStartHandler),n.useClickAsTap&&Kc(t,Ju("click"),this._elementClickHandler),e.preventDragEvent&&Kc(t,Ju("dragstart"),this._elementDragStartHandler),Kc(t,Ju("mousedown"),this._elementSelectHandler),n._disposeAll(),n.unbind(),delete n.surface,delete n.element,delete n.currentTarget}}capture(){Vk.current=this}cancel(){this._disposeAll(),this.trigger("cancel")}notify(n,e){let o=this.touches,r=n;if(this._isMultiTouch()){switch(r){case"move":r=X4e;break;case"end":r=W4e;break;case t9:r=K4e}e9(e,{touches:o},function fGt(i,n){let e=i.x.location,t=i.y.location,o=n.x.location,r=n.y.location,a=e-o,l=t-r;return{center:{x:(e+o)/2,y:(t+r)/2},distance:Math.sqrt(a*a+l*l)}}(o[0],o[1]))}return this.trigger(r,e9(e,{type:r}))}press(n,e,t){this._apiCall("_start",n,e,t)}move(n,e){this._apiCall("_move",n,e)}end(n,e){this._apiCall("_end",n,e)}_isMultiTouch(){return this.touches.length>1}_maxTouchesReached(){return this.touches.length>=this._maxTouches}_disposeAll(){let n=this.touches;for(;n.length>0;)n.pop().dispose()}_isMoved(){return zd(this.touches,function(n){return n.isMoved()}).length}_select(n){(!this.allowSelection||this.trigger("select",{event:n}))&&n.preventDefault()}_start(n){let r,c,e=this,t=0,o=e.filter,a=Y4e(n),l=a.length,u=n.which;if(!(u&&u>1||e._maxTouchesReached()))for(Vk.current=null,e.currentTarget=n.currentTarget,e.stopPropagation&&n.stopPropagation();t<l&&!e._maxTouchesReached();t++)c=a[t],r=o?c.currentTarget:e.element,(!r||0!==r.length)&&(c=new mGt(e,r,c),e.touches.push(c),c.press(),e._isMultiTouch()&&e.notify("gesturestart",{}))}_move(n){this._eachTouch("move",n)}_end(n){this._eachTouch("end",n)}_click(n){let e={touch:{initialTouch:n.target,target:n.currentTarget,endTime:cg(),x:{location:n.pageX,client:n.clientX},y:{location:n.pageY,client:n.clientY}},x:n.pageX,y:n.pageY,target:n.currentTarget,event:n,type:"tap"};this.trigger("tap",e)&&n.preventDefault()}_eachTouch(n,e){let l,c,u,f,o={},r=Y4e(e),a=this.touches;for(l=0;l<a.length;l++)c=a[l],o[c.id]=c;for(l=0;l<r.length;l++)u=r[l],f=o[u.id],f&&f[n](u)}_apiCall(n,e,t,o){this[n]({api:!0,pageX:e,pageY:t,clientX:e,clientY:t,target:o||this.element,stopPropagation:c4e,preventDefault:c4e})}static defaultThreshold(n){U4e=n}static minHold(n){G4e=n}}let zk=Object.assign,Sb=Math.abs,n9="change";class DGt extends ZV{constructor(n){super(n);let e=this;zk(e,n),e.userEvents.bind("gestureend",e.start.bind(this)),e.tapCapture.bind("press",e.cancel.bind(this))}enabled(){return this.movable.scale<this.dimensions.minScale}done(){return this.dimensions.minScale-this.movable.scale<.01}tick(){let n=this.movable;n.scaleWith(1.1),this.dimensions.rescale(n.scale)}onEnd(){let n=this.movable;n.scaleTo(this.dimensions.minScale),this.dimensions.rescale(n.scale)}}class wGt extends ZV{constructor(n){super();let e=this;zk(e,n,{transition:new P4e({axis:n.axis,movable:n.movable,onEnd(){e._end()}})}),e.tapCapture.bind("press",function(){e.cancel()}),e.userEvents.bind("end",bs(e.start,e)),e.userEvents.bind("gestureend",bs(e.start,e)),e.userEvents.bind("tap",bs(e.onEnd,e))}onCancel(){this.transition.cancel()}freeze(n){this.cancel(),this._moveTo(n)}onEnd(){let n=this;n.paneAxis.outOfBounds()?n._snapBack():n._end()}done(){return Sb(this.velocity)<1}start(n){let t,e=this;e.dimension.enabled&&(e.paneAxis.outOfBounds()?e.transition._started?(e.transition.cancel(),e.velocity=Math.min(n.touch[e.axis].velocity*e.velocityMultiplier,55),super.start()):e._snapBack():(t=2===n.touch.id?0:n.touch[e.axis].velocity,e.velocity=Math.max(Math.min(t*e.velocityMultiplier,55),-55),e.tapCapture.captureNext(),super.start()))}tick(){let n=this,e=n.dimension,t=n.paneAxis.outOfBounds()?.5:n.friction,o=n.velocity*=t,r=n.movable[n.axis]+o;!n.elastic&&e.outOfBounds(r)&&(r=Math.max(Math.min(r,e.max),e.min),n.velocity=0),n.movable.moveAxis(n.axis,r)}_end(){this.tapCapture.cancelCapture(),this.end()}_snapBack(){let n=this,e=n.dimension;n._moveTo(n.movable[n.axis]>e.max?e.max:e.min)}_moveTo(n){this.transition.moveTo({location:n,duration:500,ease:P4e.easeOutExpo})}}class kGt extends ZV{constructor(n){super(n),zk(this,n,{origin:{},destination:{},offset:{}})}tick(){this._updateCoordinates(),this.moveTo(this.origin)}done(){return Sb(this.offset.y)<5&&Sb(this.offset.x)<5}onEnd(){this.moveTo(this.destination),this.callback&&this.callback.call()}setCoordinates(n,e){this.offset={},this.origin=n,this.destination=e}setCallback(n){n&&Fs(n)?this.callback=n:n=void 0}_updateCoordinates(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}class OGt extends pt{constructor(n){super();let e=this,t="x"===n.axis;const r=mb('<div class="km-touch-scrollbar km-'+(t?"horizontal":"vertical")+'-scrollbar" />');zk(e,n,{element:r,elementSize:0,movable:new Uoe(r),scrollMovable:n.movable,alwaysVisible:n.alwaysVisible,size:t?"width":"height"}),e.scrollMovable.bind(n9,e.refresh.bind(e)),e.container.appendChild(r),n.alwaysVisible&&e.show()}refresh(){let n=this,e=n.axis,t=n.dimension,o=t.size,a=o/t.total,l=Math.round(-n.scrollMovable[e]*a),c=Math.round(o*a);this.element.style.display=a>=1?"none":"",l+c>o?c=o-l:l<0&&(c+=l,l=0),n.elementSize!==c&&(n.element.style[n.size]=c+"px",n.elementSize=c),n.movable.moveAxis(e,l)}show(){this.element.style.opacity=.7,this.element.style.visibility="visible"}hide(){this.alwaysVisible||(this.element.style.opacity=0)}}class Xoe extends qu{constructor(n,e){super();let t=this;this.element=n,this._initOptions(e);const o=(i=>{const n=l4e(i);return n.ios||n.android})(navigator.userAgent);t._native=t.options.useNative&&o;const r=mb('<div class="km-scroll-header"/>');if(t._native)return Ho(n,"km-native-scroller"),o4e(r,n),void zk(t,{scrollElement:n,fixedContainer:n.children[0]});n.style.overflow="hidden",Ho(n,"km-scroll-wrapper"),((i,n)=>{for(i.appendChild(n);i.firstChild!==n;)n.appendChild(i.firstChild)})(n,mb('<div class="km-scroll-container"/>')),o4e(r,n);let l=n.children[1],c=new tGt(n),u=new Uoe(l),f=new nGt({element:l,container:n,forcedEnabled:t.options.zoom}),_=this.options.avoidScrolling,S=new Vk(n,{touchAction:"pan-y",fastTap:!0,allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:t.options.zoom,supportDoubleTap:t.options.supportDoubleTap,start(k){f.refresh();let O=Sb(k.x.velocity),I=Sb(k.y.velocity),x=2*O>=I,P=((i,n)=>i===n||((i,n)=>{if(!n)return!1;let e=n.parentNode;for(;null!==e;){if(e===i)return!0;e=e.parentNode}return!1})(i,n))(t.fixedContainer,k.event.target),L=2*I>=O;!P&&!_(k)&&t.enabled&&(f.x.enabled&&x||f.y.enabled&&L)?S.capture():S.cancel()}}),v=new iGt({movable:u,dimensions:f,userEvents:S,elastic:t.options.elastic}),b=new DGt({movable:u,dimensions:f,userEvents:S,tapCapture:c}),D=new kGt({moveTo(k){t.scrollTo(k.x,k.y)}});u.bind(n9,function(){t.scrollTop=-u.y,t.scrollLeft=-u.x,t.trigger("scroll",{scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})}),t.options.mousewheelScrolling&&(this._wheelScrollHandler=this._wheelScroll.bind(this),tc(n,"wheel",this._wheelScrollHandler)),zk(t,{movable:u,dimensions:f,zoomSnapBack:b,animatedScroller:D,userEvents:S,pane:v,tapCapture:c,pulled:!1,enabled:!0,scrollElement:l,scrollTop:0,scrollLeft:0,fixedContainer:n.children[0]}),t._initAxis("x"),t._initAxis("y"),t._wheelEnd=function(){t._wheel=!1,t.userEvents.end(0,t._wheelY)},f.refresh(),t.options.pullToRefresh&&t._initPullToRefresh()}_initOptions(n){this.options=W({},this.options,n)}_wheelScroll(n){if(n.ctrlKey)return;this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);let e=(i=>{const n=i.originalEvent||i,e=n.wheelDeltaY;let t;return n.wheelDelta?(void 0===e||e)&&(t=n.wheelDelta):n.detail&&n.axis===n.VERTICAL_AXIS&&(t=10*-n.detail),t})(n);e&&(this._wheelY+=e,this.userEvents.move(0,this._wheelY)),n.preventDefault()}makeVirtual(){this.dimensions.y.makeVirtual()}virtualSize(n,e){this.dimensions.y.virtualSize(n,e)}height(){return this.dimensions.y.size}scrollHeight(){return this.scrollElement.scrollHeight}scrollWidth(){return this.scrollElement.scrollWidth}_resize(){this._native||this.contentResized()}setOptions(n){this._initOptions(n),n.pullToRefresh&&this._initPullToRefresh()}reset(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))}contentResized(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)}zoomOut(){let n=this.dimensions;n.refresh(),this._scale(n.fitScale),this.movable.moveTo(n.centerCoordinates())}enable(){this.enabled=!0}disable(){this.enabled=!1}scrollTo(n,e){this._native?(this.scrollElement.scrollLeft(Sb(n)),this.scrollElement.scrollTop(Sb(e))):(this.dimensions.refresh(),this.movable.moveTo({x:n,y:e}))}animatedScrollTo(n,e,t){let o,r;this._native?this.scrollTo(n,e):(o={x:this.movable.x,y:this.movable.y},r={x:n,y:e},this.animatedScroller.setCoordinates(o,r),this.animatedScroller.setCallback(t),this.animatedScroller.start())}pullHandled(){}destroy(){Kc(this.element,"wheel",this._wheelScrollHandler),this.userEvents&&this.userEvents.destroy()}_scale(n){this.dimensions.rescale(n),this.movable.scaleTo(n)}_initPullToRefresh(){}_dragEnd(){}_paneChange(){}_initAxis(n){let e=this,t=e.movable,o=e.dimensions[n],r=e.tapCapture,a=e.pane[n],l=new OGt({axis:n,movable:t,dimension:o,container:e.element,alwaysVisible:e.options.visibleScrollHints});o.bind(n9,function(){l.refresh()}),a.bind(n9,function(){l.show()}),e[n+"inertia"]=new wGt({axis:n,paneAxis:a,movable:t,tapCapture:r,userEvents:e.userEvents,dimension:o,elastic:e.options.elastic,friction:e.options.friction||.96,velocityMultiplier:e.options.velocityMultiplier||10,end(){l.hide(),e.trigger("scrollEnd",{axis:n,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft})}})}}De(Xoe,{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:()=>!1,pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}}),qV(Xoe,["pull","scroll","resize"]);const MGt=class TGt{constructor(n,e={}){this.sender=e.sender||n,this.widget=n,this.rtl=!!e.rtl}notify(n,e){this.widget&&this.widget.trigger(n,e)}};let av=Math,e6e=av.min,Woe=av.pow,t6e=Ie,i9="marker",s9="location";const LGt={bubble:I4e,shape:Boe,tile:D4e,[i9]:zoe};class i6e extends qu{constructor(n,e={},t={},o={}){super(),this._init(n,e,t,o)}destroy(){this.scroller.destroy(),this._tooltip&&this._tooltip.destroy(),this.navigator&&this.navigator.destroy(),this.attribution&&this.attribution.destroy(),this.zoomControl&&this.zoomControl.destroy(),ga(this.markers)?this.markers.forEach(n=>{n.destroy()}):this.markers.destroy();for(let n=0;n<this.layers.length;n++)this.layers[n].destroy();Kc(this.element,"wheel",this._mousewheelHandler),super.destroy()}_init(n,e={},t={},o={}){this.support=_b(),this.context=o,this.initObserver(o),this.initServices(o),this._notifyObserver("init"),this._initOptions(e),this._setEvents(e),this.crs=new MPt,this._initElement(n),this._viewOrigin=this._getOrigin(),this._tooltip=this._createTooltip(),this._initScroller(),this._initMarkers(),this._initControls(),this._initLayers(),this._reset();const r=xV(this._mousewheel.bind(this),50);this._mousewheelHandler=a=>{a.preventDefault(),r(a)},tc(this.element,"wheel",this._mousewheelHandler)}_initOptions(n){this.options=W({},this.options,n)}_initElement(n){this.element=n,Ho(n,"k-map"),n.style.position="relative",n.setAttribute("data-role","map"),Lx(n);const e=mb("<div />");this.element.appendChild(e)}initServices(n={}){this.widgetService=new MGt(this,n)}initObserver(n={}){this.observers=[],this.addObserver(n.observer)}addObserver(n){n&&this.observers.push(n)}removeObserver(n){const e=this.observers.indexOf(n);e>=0&&this.observers.splice(e,1)}requiresHandlers(n){const e=this.observers;for(let t=0;t<e.length;t++)if(e[t].requiresHandlers(n))return!0}trigger(n,e={}){e.sender=this;const t=this.observers;let o=!1;for(let r=0;r<t.length;r++)t[r].trigger(n,e)&&(o=!0);return o||super.trigger(n,e),o}_notifyObserver(n,e={}){e.sender=this;const t=this.observers;let o=!1;for(let r=0;r<t.length;r++)t[r].trigger(n,e)&&(o=!0);return o}zoom(n){let t,e=this.options;if(ge(n)){const o=av.round(Gt(n,e.minZoom,e.maxZoom));e.zoom!==o&&(e.zoom=o,this.widgetService.notify("zoomChange",{zoom:e.zoom}),this._reset()),t=this}else t=e.zoom;return t}center(n){let e;if(n){const t=Cs.create(n),o=Cs.create(this.options.center);t.equals(o)||(this.options.center=t.toArray(),this.widgetService.notify(C4e,{center:this.options.center}),this._reset()),e=this}else e=Cs.create(this.options.center);return e}extent(n){let e;return n?(this._setExtent(n),e=this):e=this._getExtent(),e}setOptions(n={}){const e=this.element;this.destroy(),Lx(e),this._init(e,n,{},this.context),this._reset()}locationToLayer(n,e){let t=!this.options.wraparound;const o=Cs.create(n);return this.crs.toPoint(o,this._layerSize(e),t)}layerToLocation(n,e){let t=!this.options.wraparound;const o=t6e.create(n);return this.crs.toLocation(o,this._layerSize(e),t)}locationToView(n){const e=Cs.create(n);let t=this.locationToLayer(this._viewOrigin);return this.locationToLayer(e).translateWith(t.scale(-1))}viewToLocation(n,e){const t=this.locationToLayer(this._getOrigin(),e),r=t6e.create(n).clone().translateWith(t);return this.layerToLocation(r,e)}eventOffset(n){let e,t,o=ck(this.element);if(n.x&&n.x[s9]||n.y&&n.y[s9])e=n.x[s9]-o.left,t=n.y[s9]-o.top;else{let a=n.originalEvent||n;e=sn(a.pageX,a.clientX)-o.left,t=sn(a.pageY,a.clientY)-o.top}return new Ie(e,t)}eventToView(n){let e=this.eventOffset(n);return this.locationToView(this.viewToLocation(e))}eventToLayer(n){return this.locationToLayer(this.eventToLocation(n))}eventToLocation(n){let e=this.eventOffset(n);return this.viewToLocation(e)}viewSize(){let n=this.element,e=this._layerSize(),t=n.clientWidth;return this.options.wraparound||(t=e6e(e,t)),{width:t,height:e6e(e,n.clientHeight)}}exportVisual(){return this._reset(),!1}hideTooltip(){this._tooltip&&this._tooltip.hide()}_setOrigin(n,e){let o,t=this.viewSize();const r=this._origin=Cs.create(n);return o=this.locationToLayer(r,e),o.x+=t.width/2,o.y+=t.height/2,this.options.center=this.layerToLocation(o,e).toArray(),this.widgetService.notify(C4e,{center:this.options.center}),this}_getOrigin(n){let t,e=this.viewSize();return(n||!this._origin)&&(t=this.locationToLayer(this.center()),t.x-=e.width/2,t.y-=e.height/2,this._origin=this.layerToLocation(t)),this._origin}_setExtent(n){let e=dg.create(n),t=e.se.clone();this.options.wraparound&&t.lng<0&&n.nw.lng>0&&(t.lng=180+(180+t.lng));const o=new dg(e.nw,t);this.center(o.center());let l,r=this.element.clientWidth,a=this.element.clientHeight;for(l=this.options.maxZoom;l>=this.options.minZoom;l--){let c=this.locationToLayer(o.nw,l),u=this.locationToLayer(o.se,l),f=av.abs(u.x-c.x),_=av.abs(u.y-c.y);if(f<=r&&_<=a)break}this.zoom(l)}_getExtent(){let n=this._getOrigin(),e=this.locationToLayer(n),t=this.viewSize();e.x+=t.width,e.y+=t.height;let o=this.layerToLocation(e);return new dg(n,o)}_zoomAround(n,e){this._setOrigin(this.layerToLocation(n,e),e),this.zoom(e)}_initControls(){let n=this.options.controls;n.attribution&&this._createAttribution(n.attribution),this.support.mobileOS||(n.navigator&&this._createNavigator(n.navigator),n.zoom&&this._createZoomControl(n.zoom))}_createControlElement(n,e){let t=n.position||e,o="."+d4e(t).replace(" ","."),r=this.element.querySelector(".k-map-controls"+o)||[];if(0===r.length){let l=document.createElement("div");Ho(l,"k-map-controls "+d4e(t)),r=l,this.element.appendChild(r)}let a=document.createElement("div");return r.appendChild(a),a}_createAttribution(n){let e=this._createControlElement(n,"bottomRight");this.attribution=new p4e(e,n)}_createNavigator(n){let e=this._createControlElement(n,"topLeft"),t=this.navigator=new Noe(e,W({},n,{icons:this.options.icons}));this._navigatorPan=this._navigatorPan.bind(this),t.bind("pan",this._navigatorPan),this._navigatorCenter=this._navigatorCenter.bind(this),t.bind("center",this._navigatorCenter)}_navigatorPan(n){let e=this.scroller,t=e.scrollLeft+n.x,o=e.scrollTop-n.y,r=this._virtualSize,l=this.element.clientHeight;t=Gt(t,r.x.min,r.x.max-this.element.clientWidth),o=Gt(o,r.y.min,r.y.max-l),this.scroller.one("scroll",bs(this._scrollEnd,this)),this.scroller.scrollTo(-t,-o)}_navigatorCenter(){this.center(this.options.center)}_createZoomControl(n){let e=this._createControlElement(n,"topLeft"),t=this.zoomControl=new Loe(e,n,this.options.icons);this._zoomControlChange=this._zoomControlChange.bind(this),t.bind("change",this._zoomControlChange)}_zoomControlChange(n){this.trigger("zoomStart",{originalEvent:n})||(this.zoom(this.zoom()+n.delta),this.trigger("zoomEnd",{originalEvent:n}))}_initScroller(){let t=this.scroller=new Xoe(this.element.children[0],{friction:this.support.mobileOS?.93:.9,velocityMultiplier:5,zoom:!1!==this.options.zoomable,mousewheelScrolling:!1,supportDoubleTap:!0});t.bind("scroll",bs(this._scroll,this)),t.bind("scrollEnd",bs(this._scrollEnd,this)),t.userEvents.bind("gesturestart",bs(this._scaleStart,this)),t.userEvents.bind("gestureend",bs(this._scale,this)),t.userEvents.bind("doubleTap",bs(this._doubleTap,this)),t.userEvents.bind("tap",bs(this._tap,this)),this.scrollElement=t.scrollElement}_initLayers(){let n=this.options.layers,e=this.layers=[];for(let t=0;t<n.length;t++){const r=this._createLayer(n[t]);e.push(r)}}_createLayer(n){let e=n.type||"shape",t=this.options.layerDefaults[e],o=e===i9?W({},this.options.markerDefaults,n,{icons:this.options.icons}):W({},t,n),a=new(0,LGt[e])(this,o);return e===i9&&(this.markers=a),a}_createTooltip(){return new b4e(this.widgetService,this.options.tooltip)}_initMarkers(){(this.options.layers||[]).filter(e=>e&&e.type===i9).length>0||(this.markers=new zoe(this,W({},this.options.markerDefaults,{icons:this.options.icons})),this.markers.add(this.options.markers))}_scroll(n){let e=this.locationToLayer(this._viewOrigin).round(),t=n.sender.movable,o=new Ie(t.x,t.y).scale(-1).scale(1/t.scale);e.x+=o.x,e.y+=o.y,this._scrollOffset=o,this._tooltip.offset=o,this.hideTooltip(),this._setOrigin(this.layerToLocation(e)),this.trigger("pan",{originalEvent:n,origin:this._getOrigin(),center:this.center()})}_scrollEnd(n){!this._scrollOffset||!this._panComplete()||(this._scrollOffset=null,this._panEndTimestamp=cg(),this.trigger("panEnd",{originalEvent:n,origin:this._getOrigin(),center:this.center()}))}_panComplete(){return cg()-(this._panEndTimestamp||0)>50}_scaleStart(n){if(this.trigger("zoomStart",{originalEvent:n})){let e=n.touches[1];e&&e.cancel()}}_scale(n){let t=this._scaleToZoom(this.scroller.movable.scale),o=new Ie(n.center.x,n.center.y),r=this.viewToLocation(o,t),l=this.locationToLayer(r,t).translate(-o.x,-o.y);this._zoomAround(l,t),this.trigger("zoomEnd",{originalEvent:n})}_scaleToZoom(n){let t=this._layerSize()*n/this.options.minSize,o=av.log(t)/av.log(2);return av.round(o)}_reset(){this.attribution&&this.attribution.filter(this.center(),this.zoom()),this._viewOrigin=this._getOrigin(!0),this._resetScroller(),this.hideTooltip(),this.trigger("beforeReset"),this.trigger("reset")}_resetScroller(){let n=this.scroller,e=n.dimensions.x,t=n.dimensions.y,o=this._layerSize(),r=this.extent().nw,a=this.locationToLayer(r).round();n.movable.round=!0,n.reset(),n.userEvents.cancel();let l=this.zoom();n.dimensions.forcedMinScale=Woe(2,this.options.minZoom-l),n.dimensions.maxScale=Woe(2,this.options.maxZoom-l);let c={min:-a.x,max:o-a.x},u={min:-a.y,max:o-a.y};if(this.options.wraparound&&(c.max=20*o,c.min=-c.max),!1===this.options.pannable){let f=this.viewSize();c.min=u.min=0,c.max=f.width,u.max=f.height}e.makeVirtual(),t.makeVirtual(),e.virtualSize(c.min,c.max),t.virtualSize(u.min,u.max),this._virtualSize={x:c,y:u}}_renderLayers(){}_layerSize(n){const e=sn(n,this.options.zoom);return this.options.minSize*Woe(2,e)}_tap(n){if(!this._panComplete())return;let e=this.eventOffset(n);this.hideTooltip(),this.trigger("click",{originalEvent:n,location:this.viewToLocation(e)})}_doubleTap(n){if(!1!==this.options.zoomable&&!this.trigger("zoomStart",{originalEvent:n})){let t=this.zoom()+1,o=this.eventOffset(n),r=this.viewToLocation(o),l=this.locationToLayer(r,t).translate(-o.x,-o.y);this._zoomAround(l,t),this.trigger("zoomEnd",{originalEvent:n})}}_mousewheel(n){let e=Cie(n)>0?-1:1,t=this.options,o=this.zoom(),r=Gt(o+e,t.minZoom,t.maxZoom);if(!1!==t.zoomable&&r!==o&&!this.trigger("zoomStart",{originalEvent:n})){let a=this.eventOffset(n),l=this.viewToLocation(a),u=this.locationToLayer(l,r).translate(-a.x,-a.y);this._zoomAround(u,r),this.trigger("zoomEnd",{originalEvent:n})}}_toDocumentCoordinates(n){const e=ck(this.element);return{left:Ye(n.x+e.left),top:Ye(n.y+e.top)}}}De(i6e,{name:"Map",controls:{attribution:!0,navigator:{panStep:100},zoom:!0},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:.5}}},bubble:{style:{fill:{color:"#fff",opacity:.5},stroke:{color:"#aaa",width:.5}}},marker:{shape:"pinTarget",tooltip:{position:"top"}}},center:[0,0],icons:{type:"font",svgIcons:{}},zoom:3,minSize:256,minZoom:1,maxZoom:19,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{position:"top"}},wraparound:!0,renderPointsAsMarkers:!1}),qV(i6e,["beforeReset","click","markerActivate","markerClick","markerCreated","markerMouseEnter","markerMouseLeave","pan","panEnd","reset","shapeClick","shapeCreated","shapeFeatureCreated","shapeMouseEnter","shapeMouseLeave","zoomEnd","zoomStart"]);const Koe=(i,n)=>i.map(n).reduce((e,t)=>e+t,0),s6e=(i,n)=>i.y0-n.y0,UGt=(i,n)=>s6e(i.source,n.source),FGt=(i,n)=>s6e(i.target,n.target),Yoe=i=>i.value;function BGt(i){i.forEach(n=>{const{sourceLinks:e,targetLinks:t}=n;e.sort(FGt),t.sort(UGt)})}class VGt{constructor(n){const e=n.nodesOptions.offset||{};this.data={nodes:n.nodes.map(t=>W({},{offset:e},t)),links:n.links.map(t=>W({},t))},this.width=n.width,this.height=n.height,this.offsetX=n.offsetX||0,this.offsetY=n.offsetY||0,this.nodeWidth=n.nodesOptions.width,this.nodePadding=n.nodesOptions.padding}calculate(){const{nodes:n,links:e}=this.data;this.connectLinksToNodes(n,e),this.calculateNodeValues(n),this.calculateNodeDepths(n);const t=this.calculateNodeColumns(n);return this.calculateNodeBreadths(t),this.applyNodesOffset(n),this.calculateLinkBreadths(n),this.data}connectLinksToNodes(n,e){const t=new Map;n.forEach(o=>{o.sourceLinks=[],o.targetLinks=[],o.id=void 0!==o.id?o.id:o.label.text,t.set(o.id,o)}),e.forEach(o=>{o.source=t.get(o.sourceId),o.target=t.get(o.targetId),o.source.sourceLinks.push(o),o.target.targetLinks.push(o)})}calculateNodeValues(n){n.forEach(e=>{e.value=Math.max(Koe(e.sourceLinks,Yoe),Koe(e.targetLinks,Yoe))})}calculateNodeDepths(n){let e=new Set(n),t=new Set,o=0;for(;e.size;){const r=Array.from(e);for(let a=0;a<r.length;a++){const l=r[a];l.depth=o;for(let c=0;c<l.sourceLinks.length;c++)t.add(l.sourceLinks[c].target)}o++,e=t,t=new Set}}calculateNodeColumns(n){const e=((i,n)=>Math.max.apply(null,i.map(r=>r.depth)))(n),t=(this.width-this.offsetX-this.nodeWidth)/e,o=new Array(e+1);for(let r=0;r<n.length;r++){const a=n[r],l=Math.max(0,Math.min(e,a.sourceLinks.length?a.depth:e));a.x0=this.offsetX+l*t,a.x1=a.x0+this.nodeWidth,o[l]=o[l]||[],o[l].push(a)}return o}calculateNodeBreadths(n){const e=((i,n)=>Math.min.apply(null,i.map(n)))(n,t=>(this.height-this.offsetY-(t.length-1)*this.nodePadding)/Koe(t,Yoe));for(let t=0;t<n.length;t++){const o=n[t];let r=this.offsetY;for(let a=0;a<o.length;a++){const l=o[a];l.y0=r,l.y1=r+l.value*e,r=l.y1+this.nodePadding;for(let c=0;c<l.sourceLinks.length;c++){const u=l.sourceLinks[c];u.width=u.value*e}}r=(this.height-r+this.nodePadding)/(o.length+1);for(let a=0;a<o.length;++a){const l=o[a];l.y0+=r*(a+1),l.y1+=r*(a+1)}}for(let t=0;t<n.length;t++)BGt(n[t])}applyNodesOffset(n){n.forEach(e=>{const t=(e.offset?e.offset.left:0)||0,o=(e.offset?e.offset.top:0)||0;e.x0+=t,e.x1+=t,e.y0+=o,e.y1+=o})}calculateLinkBreadths(n){n.forEach(e=>{const{sourceLinks:t,targetLinks:o}=e;let r=e.y0,a=r;t.forEach(l=>{l.y0=r+l.width/2,r+=l.width}),o.forEach(l=>{l.y1=a+l.width/2,a+=l.width})})}}const o6e=i=>new VGt(i).calculate();class Ux extends pt{constructor(n){super(),this.options=W({},this.options,n),this.createVisual()}createVisual(){this.visual=this.createElement()}exportVisual(){return this.visual}createElement(){const n=this.options.visual;let e;return e=n?n({sender:this.getSender(),options:this.visualOptions(),createVisual:()=>this.getElement()}):this.getElement(),e}getSender(){return this}}class r6e extends Ux{getElement(){const e=this.options.node,t=new yn([e.x0,e.y0],[e.x1-e.x0,e.y1-e.y0]);return lt.fromRect(t,this.visualOptions())}visualOptions(){const n=W({},this.options,this.options.node);return{fill:{color:n.color,opacity:n.opacity},stroke:{width:0}}}}const a6e=(i,n,e)=>i.color||n[e%n.length],l6e=(i,n,e,t)=>{const o=W({},n,n.node);return W({},{color:a6e(i,e,t)},o,{node:i},{visual:i.visual,opacity:i.opacity,offset:i.offset,color:i.color})};class zGt extends Ux{getElement(){const n=this.options.link,{source:e,target:t,y0:o,y1:r}=n,a=(e.x0+t.x1)/2;return new lt(this.visualOptions()).moveTo(e.x1,o).curveTo([a,o],[a,r],[t.x0,r])}visualOptions(){const n=this.options,e=this.options.link;return{stroke:{width:n.link.width,color:e.color||n.color,opacity:ge(e.opacity)?e.opacity:n.opacity}}}}const Joe="before";class qoe extends Ux{getElement(){const n=W({},this.options,this.options.node.label),{node:e,totalWidth:t,position:o,text:r,offset:a}=n;if(!n.visible||!r)return null;const l=new Ve(e.x0,e.y0,e.x1,e.y1),c=this.visualOptions(),u=new jc(r,c);u.reflow(new Ve);const f=u.box,_=e.x1+f.width()>t,S=l.center().y-f.height()/2,b=[(o===Joe||"inside"===o&&_?Joe:"after")===Joe?e.x0-f.width():e.x1,S],D=new Ve(b[0],b[1],b[0]+f.width(),b[1]+f.height());return D.translate(a.left||0,a.top||0),u.reflow(D),u.renderVisual(),u.visual}visualOptions(){const n=W({},this.options,this.options.node.label);return{color:n.color,opacity:n.opacity,font:n.font,border:n.border,margin:n.margin,padding:n.padding,align:n.align}}}De(qoe,{position:"inside"});class Qoe extends Ux{getElement(){const n=this.options,{drawingRect:e,text:t}=n;if(!1===n.visible||!t)return null;const o=ZA.buildTitle(t,n);return o.reflow(e),o.renderVisual(),o.visual}createElement(){return this.getElement()}}De(Qoe,{position:jn,align:_n,opacity:1,border:{width:0},margin:Ti(5),padding:Ti(5)});class Zoe extends Ux{getElement(){const n=this.options,{drawingRect:e,nodes:t=[],colors:o=[]}=n;if(!1===n.visible||!t.length)return null;const r=t.map((l,c)=>({text:l.label&&l.label.text||"",area:{background:a6e(l,o,c),opacity:l.opacity},node:l})),a=new tAe(Object.assign({},n,{data:r}));return a.reflow(e),a.renderVisual(),a.visual}createElement(){return this.getElement()}}De(Zoe,{markers:{visible:!1},item:{type:Y_,cursor:gie,opacity:1},position:mi,align:_n,border:{width:0}}),De(class XGt extends qu{constructor(n,e,t){super(),this._initElement(n),this._initTheme(t),this._setOptions(e),this._initSurface(),e&&e.data&&this._redraw(),this._initResizeObserver()}destroy(){this.unbind(),this._destroySurface(),this._destroyResizeObserver()}_initElement(n){this.element=n,Ho(this.element,["k-chart","k-sankey"])}_initSurface(){this.surface||(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())}_initResizeObserver(){const n=new ResizeObserver(e=>{e.forEach(t=>{const{width:o,height:r}=t.contentRect;t.target!==this.element||this.size.width===o&&this.size.height===r||(this.size={width:o,height:r},this.surface.setSize(this.size),this._redraw())})});this._resizeObserver=n,n.observe(this.element)}_createSurface(){return Pk.create(this.surfaceElement,{mouseenter:this._mouseenter.bind(this),mouseleave:this._mouseleave.bind(this)})}_initTheme(n){let e=n||this.theme||{};this.theme=e,this.options=W({},e,this.options)}setLinksOpacity(n){this.linksVisuals.forEach(e=>{this.setOpacity(e,n)})}setOpacity(n,e){n.options.set("stroke",Object.assign({},n.options.stroke,{opacity:e}))}trigger(n,e){return e.type=n,super.trigger(n,e)}_mouseenter(n){const e=n.element,t="link"===e.type,o="node"===e.type,r=!(!e.chartElement||!e.chartElement.options.node);if(t&&this.trigger("linkEnter",n)||o&&this.trigger("nodeEnter",n))return;const{highlight:a}=this.options.links;if(t)this.setLinksOpacity(a.inactiveOpacity),this.setOpacity(e,a.opacity);else if(o)this.highlightLinks(e,a);else if(r){const l=this.nodesVisuals.get(e.chartElement.options.node.id);this.highlightLinks(l,a)}}_mouseleave(n){const e=n.element,t="link"===e.type,o="node"===e.type,r=!(!e.chartElement||!e.chartElement.options.node),a=n.originalEvent.relatedTarget;t&&a&&"text"===a.nodeName||t&&this.trigger("linkLeave",n)||o&&this.trigger("nodeLeave",n)||(t||o||r)&&this.setLinksOpacity(this.options.links.opacity)}highlightLinks(n,e){n&&(this.setLinksOpacity(e.inactiveOpacity),n.links.forEach(t=>{this.setOpacity(t,e.opacity)}))}_destroySurface(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())}_destroyResizeObserver(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}_initSurfaceElement(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement))}_destroySurfaceElement(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)}setOptions(n,e){this._setOptions(n),this._initTheme(e),this._initSurface(),this._redraw()}_redraw(){this.surface.clear();const{width:n,height:e}=this._getSize();this.size={width:n,height:e},this.surface.setSize(this.size),this.createVisual(),this.surface.draw(this.visual)}_getSize(){return this.element.getBoundingClientRect()}createVisual(){this.visual=this._render()}titleBox(n,e){return n&&!1!==n.visible&&n.text?new Qoe(Object.assign({},{drawingRect:e},n)).exportVisual().chartElement.box:null}legendBox(n,e,t){return n&&!1!==n.visible?new Zoe(Object.assign({},{nodes:e},n,{drawingRect:t})).exportVisual().chartElement.box:null}calculateSankey(n){const{title:e,legend:t,data:o}=this.options,{nodes:r,labels:a,nodesColors:l}=this.options,c=new Ve(0,0,n.width,n.height),u=this.titleBox(e,c);let f=c.clone();if(u){const I=u.height();e.position===jn?(c.unpad({top:I}),f=new Ve(0,I,n.width,n.height)):(c.shrink(0,I),f=new Ve(0,0,n.width,n.height-I))}const _=this.legendBox(t,o.nodes,f);_&&(t.position===Un&&c.unpad({left:_.width()}),t.position===_i&&c.shrink(_.width(),0),t.position===jn&&c.unpad({top:_.height()}),t.position===mi&&c.shrink(0,_.height()));const S=o6e(Object.assign({},n,{offsetX:c.x1,offsetY:c.y1,width:c.x2,height:c.y2})).nodes,v=new Ve;S.forEach((I,x)=>{const P=l6e(I,r,l,x),L=new r6e(P);v.wrap(fk(L.exportVisual().rawBBox()));const j=new qoe(W({node:I,totalWidth:n.width},a)).exportVisual();j&&v.wrap(fk(j.rawBBox()))});let b=(v.x1<0?-v.x1:0)+c.x1,D=(v.y1<0?-v.y1:0)+c.y1,k=v.width()>c.x2?b+c.x2-(v.width()-c.x2):c.x2,O=v.height()>c.y2?D+c.y2-(v.height()-c.y2):c.y2;return{sankey:o6e(Object.assign({},n,{offsetX:b,offsetY:D,width:k,height:O})),legendBox:_,titleBox:u}}_render(){const{data:n,labels:e,nodes:t,links:o,nodesColors:r,title:a,legend:l}=this.options,{width:c,height:u}=this.size,f=Object.assign({},n,{width:c,height:u,nodesOptions:t,title:a,legend:l}),{sankey:_,titleBox:S,legendBox:v}=this.calculateSankey(f),{nodes:b,links:D}=_,k=new Pn;if(S){const L=new Qoe(Object.assign({},a,{drawingRect:S})).exportVisual();k.append(L)}if(v){const L=new Zoe(Object.assign({},l,{drawingRect:v,nodes:b,colors:r})).exportVisual();k.append(L)}const O=new Map;b.forEach((P,L)=>{const H=l6e(P,t,r,L),J=new r6e(H).exportVisual();J.links=[],J.type="node",O.set(P.id,J),k.append(J)});const I=D.slice().sort((P,L)=>L.value-P.value),x=[];return I.forEach(P=>{const{source:L,target:H}=P,j=O.get(L.id),J=O.get(H.id),te=((i,n,e,t)=>{const o=W({},n,{link:i,opacity:i.opacity,color:i.color,colorType:i.colorType,visual:i.visual,highlight:i.highlight});return"source"===o.colorType?o.color=e.options.fill.color:"target"===o.colorType&&(o.color=t.options.fill.color),o})(P,o,j,J),oe=new zGt(te).exportVisual();oe.type="link",x.push(oe),j.links.push(oe),J.links.push(oe),k.append(oe)}),this.linksVisuals=x,this.nodesVisuals=O,b.forEach(P=>{const L=((i,n,e)=>W({},n,{node:i,totalWidth:e,visual:i.label.visual,visible:i.label.visible,margin:i.label.margin,padding:i.label.padding,border:i.label.border,align:i.label.align,opacity:i.label.opacity,offset:i.label.offset}))(P,e,c),j=new qoe(L).exportVisual();j&&k.append(j)}),k}exportVisual(){return this._render()}_setOptions(n){this.options=W({},this.options,n)}},{labels:{visible:!0,margin:{left:8,right:8},padding:0,border:{width:0},align:Un,opacity:1,offset:{left:0,top:0}},nodes:{width:24,padding:16,opacity:1,offset:{left:0,top:0}},links:{colorType:"static",opacity:.4,highlight:{opacity:.8,inactiveOpacity:.2}}});function g5t(i,n){let e=function _5t(i){const n=new NRe({skipBaseHref:!0}),e=i.clippedBBox();let t=i;if(e){const r=e.getOrigin(),a=new Pn;a.transform(wi().translate(-r.x,-r.y)),a.children.push(i),t=a}n.load([t]);const o=`<?xml version='1.0' ?><svg xmlns='${yx}' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>${n.render()}</svg>`;return n.destroy(),o}(i);return(!n||!n.raw)&&(e="data:image/svg+xml;base64,"+function see(i){let n="",e=0;const t=function Dmt(i){let n="";for(let e=0;e<i.length;e++){let t=i.charCodeAt(e);if(55296<=t&&t<=56319){const o=t,r=i.charCodeAt(++e);isNaN(r)||(t=1024*(o-55296)+(r-56320)+65536)}t<128?n+=Lu(t):t<2048?(n+=Lu(192|t>>>6),n+=Lu(128|63&t)):t<65536?(n+=Lu(224|t>>>12),n+=Lu(128|t>>>6&63),n+=Lu(128|63&t)):t<1114111&&(n+=Lu(240|t>>>18),n+=Lu(128|t>>>12&63),n+=Lu(128|t>>>6&63),n+=Lu(128|63&t))}return n}(i);for(;e<t.length;){let o=t.charCodeAt(e++),r=t.charCodeAt(e++),a=t.charCodeAt(e++),l=o>>2,c=(3&o)<<4|r>>4,u=(15&r)<<2|a>>6,f=63&a;isNaN(r)?u=f=64:isNaN(a)&&(f=64),n=n+OF.charAt(l)+OF.charAt(c)+OF.charAt(u)+OF.charAt(f)}return n}(e)),yw().resolve(e)}Object.assign({},{type:Y_},{markers:{visible:!1},highlight:{visible:!1}});const S5t=["surface"],y6e={name:"@progress/kendo-angular-barcodes",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925027,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};let v5t=(()=>{class i{constructor(e,t,o){this.element=e,this.renderer=t,this.ngZone=o,this.resizeRateLimit=10,(0,_t.$)(y6e)}get autoResize(){return this.resizeRateLimit>0}get canRender(){return ne()&&!!this.element}ngAfterViewInit(){this.refresh()}ngOnChanges(e){e.renderAs&&this.instance&&(this.instance.destroy(),this.instance=null),this.refresh()}resize(){this.instance&&this.instance.redraw()}onResize(){this.autoResize&&this.resize()}exportImage(e={}){return function m5t(i,n){const e={width:"800px",height:"600px",cors:"Anonymous"};let t=i;const o=i.clippedBBox();if(o){const _=o.getOrigin();t=new Pn,t.transform(wi().translate(-_.x,-_.y)),t.children.push(i);const S=o.getSize();e.width=S.width+"px",e.height=S.height+"px"}const r=Object.assign(e,n),a=document.createElement("div"),l=a.style;l.display="none",l.width=r.width,l.height=r.height,document.body.appendChild(a);const c=new zRe(a,r);c.suspendTracking(),c.draw(t);const u=c.image(),f=()=>{c.destroy(),document.body.removeChild(a)};return u.then(f,f),u}(this.exportVisual(),e)}exportSVG(e={}){return g5t(this.exportVisual(),e)}exportVisual(){return this.instance.exportVisual()}refresh(){this.canRender&&(this.instance?this.instance.setOptions(this.options):this.instance=this.createInstance(this.element.nativeElement,this.options))}isDevMode(){return(0,s.naY)()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(s.SKi))},i.\u0275dir=s.FsC({type:i,viewQuery:function(e,t){if(1&e&&s.GBs(S5t,7),2&e){let o;s.mGM(o=s.lsd())&&(t.surfaceElement=o.first)}},inputs:{resizeRateLimit:"resizeRateLimit"},features:[s.OA$]}),i})(),D6e=(()=>{class i extends v5t{constructor(e,t,o){super(e,t,o),this.element=e,this.renderer=t,this.ngZone=o,this.resizeRateLimit=10}get options(){return{background:this.background||"#fff",border:this.border,color:this.color||"#000",encoding:this.encoding,errorCorrection:this.errorCorrection||"L",overlay:this.overlay||{},padding:this.padding,renderAs:this.renderAs,size:this.size,value:this.value}}createInstance(e,t){return new EPt(e,t,this.onError.bind(this))}onError(e){if(e.name=y6e.productName+" QRCode",this.isDevMode())throw e;console.warn(e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(s.SKi))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-qrcode"]],inputs:{background:"background",border:"border",color:"color",encoding:"encoding",errorCorrection:"errorCorrection",overlay:"overlay",padding:"padding",renderAs:"renderAs",size:"size",value:"value",resizeRateLimit:"resizeRateLimit"},exportAs:["kendoQRCode"],features:[s.Vt3],decls:1,vars:1,consts:[[3,"resize","rateLimit"]],template:function(e,t){1&e&&(s.j41(0,"kendo-resize-sensor",0),s.bIt("resize",function(){return t.onResize()}),s.k0s()),2&e&&s.Y8G("rateLimit",t.resizeRateLimit)},dependencies:[hs],encapsulation:2,changeDetection:0}),i})(),y5t=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Mr]]}),i})(),D5t=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Mr]]}),i})(),w5t=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[y5t,D5t]}),i})();const O5t=["form"],T5t=["customerModal"],M5t=["addressModal"];function I5t(i,n){1&i&&s.nrm(0,"div",6)}function R5t(i,n){if(1&i&&s.nrm(0,"img",32),2&i){const e=s.XpG(3);s.Y8G("src",e.pathImage+e.options.pictureFileName,s.B4B)}}function A5t(i,n){if(1&i&&s.nrm(0,"kendo-qrcode",33),2&i){const e=s.XpG(3);s.Y8G("value",e.qrCode)}}function x5t(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",15),s.nrm(1,"hr"),s.j41(2,"div",14)(3,"label")(4,"strong"),s.EFF(5),s.k0s()()(),s.j41(6,"div",34)(7,"div",15)(8,"div",35)(9,"kendo-textbox",36),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(3);return s.DH7(r.options.qrCodePrefix,o)||(r.options.qrCodePrefix=o),s.Njj(o)}),s.k0s()(),s.j41(10,"div",37),s.EFF(11,"/"),s.k0s(),s.j41(12,"div",38)(13,"kendo-textbox",39),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(3);return s.DH7(r.options.qrCodeNumber,o)||(r.options.qrCodeNumber=o),s.Njj(o)}),s.k0s()()()(),s.j41(14,"div",40)(15,"div",15)(16,"div",16)(17,"kendo-formfield",17)(18,"label"),s.EFF(19,"Cliente"),s.k0s(),s.j41(20,"kendo-combobox",41),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(3);return s.DH7(r.options.customerId,o)||(r.options.customerId=o),s.Njj(o)}),s.bIt("valueChange",function(o){s.eBV(e);const r=s.XpG(3);return s.Njj(r.customerChanged(o))}),s.k0s(),s.j41(21,"button",42),s.bIt("click",function(){s.eBV(e);const o=s.XpG(3);return s.Njj(o.createCustomer())}),s.nrm(22,"i",43),s.k0s(),s.j41(23,"kendo-formerror"),s.EFF(24,"Cliente \xe8 il campo obbligatorio"),s.k0s()()(),s.j41(25,"div",16)(26,"kendo-formfield",17)(27,"label"),s.EFF(28,"Indirizzo"),s.k0s(),s.j41(29,"kendo-combobox",44),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(3);return s.DH7(r.options.addressId,o)||(r.options.addressId=o),s.Njj(o)}),s.k0s(),s.j41(30,"button",45),s.bIt("click",function(){s.eBV(e);const o=s.XpG(3);return s.Njj(o.createAddress())}),s.nrm(31,"i",43),s.k0s(),s.j41(32,"kendo-formerror"),s.EFF(33,"Indirizzo \xe8 il campo obbligatorio"),s.k0s()()()(),s.j41(34,"div",15)(35,"div",46)(36,"kendo-formfield",17)(37,"label",18),s.EFF(38,"Ubicazione"),s.k0s(),s.j41(39,"kendo-textbox",47),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(3);return s.DH7(r.options.location,o)||(r.options.location=o),s.Njj(o)}),s.k0s()()(),s.j41(40,"div",46)(41,"kendo-formfield",17)(42,"label",18),s.EFF(43,"Matricola"),s.k0s(),s.j41(44,"kendo-textbox",48),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(3);return s.DH7(r.options.serialNumber,o)||(r.options.serialNumber=o),s.Njj(o)}),s.k0s()()(),s.j41(45,"div",46)(46,"kendo-formfield",17)(47,"label",18),s.EFF(48,"Tipo"),s.k0s(),s.j41(49,"kendo-textbox",49),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(3);return s.DH7(r.options.reiType,o)||(r.options.reiType=o),s.Njj(o)}),s.k0s()()(),s.j41(50,"div",46)(51,"kendo-formfield",17)(52,"label",18),s.EFF(53,"Costruttore"),s.k0s(),s.j41(54,"kendo-textbox",50),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(3);return s.DH7(r.options.constructorName,o)||(r.options.constructorName=o),s.Njj(o)}),s.k0s()()()(),s.j41(55,"div",15)(56,"div",46)(57,"kendo-formfield",17)(58,"label",18),s.EFF(59,"Maniglia Antipanico"),s.k0s(),s.j41(60,"kendo-switch",51),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(3);return s.DH7(r.options.hasPushBar,o)||(r.options.hasPushBar=o),s.Njj(o)}),s.k0s()()(),s.j41(61,"div",46)(62,"kendo-formfield",17)(63,"label",18),s.EFF(64,"Anno"),s.k0s(),s.j41(65,"kendo-numerictextbox",52),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(3);return s.DH7(r.options.year,o)||(r.options.year=o),s.Njj(o)}),s.k0s()()(),s.j41(66,"div",46)(67,"kendo-formfield",17)(68,"label",18),s.EFF(69,"Tipologia VOC"),s.k0s(),s.j41(70,"kendo-textbox",53),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(3);return s.DH7(r.options.vocType,o)||(r.options.vocType=o),s.Njj(o)}),s.k0s()()(),s.j41(71,"div",46)(72,"kendo-formfield",17)(73,"label",18),s.EFF(74,"Ante"),s.k0s(),s.j41(75,"kendo-numerictextbox",54),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(3);return s.DH7(r.options.numberOfDoors,o)||(r.options.numberOfDoors=o),s.Njj(o)}),s.k0s()()()()()()}if(2&i){const e=s.XpG(3);s.R7$(5),s.SpI("Dati Avanzati - ",e.qrCode,""),s.R7$(4),s.R50("ngModel",e.options.qrCodePrefix),s.Y8G("maxlength",10),s.R7$(4),s.R50("ngModel",e.options.qrCodeNumber),s.Y8G("maxlength",10),s.R7$(7),s.Y8G("data",e.customers),s.R50("ngModel",e.options.customerId),s.Y8G("valuePrimitive",!0),s.R7$(9),s.Y8G("data",e.customerSelezionato.addresses),s.R50("ngModel",e.options.addressId),s.Y8G("valuePrimitive",!0)("disabled",null==e.options.customerId),s.R7$(),s.Y8G("disabled",null==e.options.customerId),s.R7$(9),s.R50("ngModel",e.options.location),s.R7$(5),s.R50("ngModel",e.options.serialNumber),s.R7$(5),s.R50("ngModel",e.options.reiType),s.R7$(5),s.R50("ngModel",e.options.constructorName),s.R7$(6),s.R50("ngModel",e.options.hasPushBar),s.R7$(5),s.R50("ngModel",e.options.year),s.Y8G("decimals",0)("min",1950)("max",2099),s.R7$(5),s.R50("ngModel",e.options.vocType),s.R7$(5),s.R50("ngModel",e.options.numberOfDoors),s.Y8G("decimals",0)}}function N5t(i,n){if(1&i){const e=s.RV6();s.j41(0,"form",12,2),s.bIt("ngSubmit",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.close())}),s.j41(2,"div",13)(3,"div",14)(4,"div",15)(5,"div",16)(6,"kendo-formfield",17)(7,"label",18),s.EFF(8,"Codice"),s.k0s(),s.j41(9,"kendo-textbox",19),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.code,o)||(r.options.code=o),s.Njj(o)}),s.k0s(),s.j41(10,"kendo-formerror"),s.EFF(11,"Codice \xe8 il campo obbligatorio"),s.k0s()()(),s.j41(12,"div",16)(13,"kendo-formfield",17)(14,"label",18),s.EFF(15,"Tipologia prodotto"),s.k0s(),s.j41(16,"kendo-combobox",20),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.productTypeId,o)||(r.options.productTypeId=o),s.Njj(o)}),s.bIt("valueChange",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.checkIfImpiantoIsPortaRei())}),s.k0s(),s.j41(17,"kendo-formerror"),s.EFF(18,"Tipologia prodotto \xe8 il campo obbligatorio"),s.k0s()()()(),s.j41(19,"kendo-formfield",17)(20,"label",18),s.EFF(21,"Nome"),s.k0s(),s.j41(22,"kendo-textbox",21),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.name,o)||(r.options.name=o),s.Njj(o)}),s.k0s(),s.j41(23,"kendo-formerror"),s.EFF(24,"Nome \xe8 un campo obbligatorio"),s.k0s()(),s.j41(25,"kendo-formfield",17)(26,"label",18),s.EFF(27,"Descrizione"),s.k0s(),s.j41(28,"kendo-textarea",22),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.description,o)||(r.options.description=o),s.Njj(o)}),s.k0s(),s.j41(29,"kendo-formerror"),s.EFF(30,"Descrizione \xe8 il campo obbligatorio"),s.k0s()(),s.j41(31,"kendo-formfield",17)(32,"label"),s.EFF(33,"Immagine"),s.k0s(),s.j41(34,"kendo-upload",23),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.attachmentsFileInfo,o)||(r.attachmentsFileInfo=o),s.Njj(o)}),s.bIt("success",function(o){s.eBV(e);const r=s.XpG(2);return s.Njj(r.AttachmentExecutionSuccess(o))}),s.k0s(),s.nrm(35,"kendo-upload-messages",24),s.k0s()(),s.j41(36,"div",25),s.DNE(37,R5t,1,1,"img",26)(38,A5t,1,1,"kendo-qrcode",27),s.k0s()(),s.DNE(39,x5t,76,25,"div",28),s.j41(40,"div",29)(41,"button",30),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.dismiss())}),s.EFF(42," ANNULLA "),s.k0s(),s.j41(43,"button",31),s.EFF(44," SALVA "),s.k0s()()()}if(2&i){const e=s.XpG(2);s.R7$(9),s.R50("ngModel",e.options.code),s.R7$(7),s.Y8G("data",e.productTypes),s.R50("ngModel",e.options.productTypeId),s.Y8G("valuePrimitive",!0),s.R7$(6),s.R50("ngModel",e.options.name),s.R7$(6),s.R50("ngModel",e.options.description),s.Y8G("rows",5),s.R7$(6),s.R50("ngModel",e.attachmentsFileInfo),s.Y8G("saveUrl",e.uploadSaveUrl)("removeUrl",e.uploadRemoveUrl),s.R7$(3),s.Y8G("ngIf",null!=e.options.pictureFileName),s.R7$(),s.Y8G("ngIf",null!=e.qrCode&&e.isImpiantoPortaRei),s.R7$(),s.Y8G("ngIf",e.isImpiantoPortaRei)}}function L5t(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",7)(1,"kendo-window",8),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.j41(2,"kendo-window-titlebar")(3,"div",9),s.EFF(4," Prodotto "),s.k0s(),s.nrm(5,"button",10),s.k0s(),s.DNE(6,N5t,45,13,"form",11),s.k0s()()}if(2&i){const e=s.XpG();s.R7$(),s.Y8G("resizable",!1)("draggable",!1)("top",50),s.R7$(5),s.Y8G("ngIf",e.options)}}let P5t=(()=>{class i extends eo{get qrCode(){return(this.options.qrCodePrefix??"")+(this.options.qrCodeNumber??"")}constructor(e,t,o,r){super(),this._messageBox=e,this._productsService=t,this._customerService=o,this._addressesService=r,this._baseUrl=`${fn.baseApiUrl}/operators`,this.uploadSaveUrl=`${this._baseUrl}/document/upload-file`,this.uploadRemoveUrl=`${this._baseUrl}/document/remove-file`,this.productTypes=[],this.customers=[],this.customerSelezionato=new xr,this.attachmentsUploads=[],this.isUploaded=[],this.pathImage=`${fn.baseUrl}/attachments/`,this.isImpiantoPortaRei=!1,this.openedEvent.subscribe(a=>{this.loadData()})}_canClose(){return fl(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid}_readProductTypes(){this._subscriptions.push(this._productsService.readProductTypes().pipe(F(e=>{this.productTypes=e,this.checkIfImpiantoIsPortaRei()})).subscribe())}_readCustomers(e=!1){this._subscriptions.push(this._customerService.getCustomersList().pipe(F(t=>{this.customers=t;const o=this.customers.find(r=>r.id===this.options.customerId);null!=o&&(this.customerSelezionato=o),e&&this.customerChanged(this.options.customerId)})).subscribe())}customerChanged(e){if(this.options.addressId=null,null==e)return void(this.customerSelezionato=new xr);const t=this.customers.find(o=>o.id===e);null!=t&&(this.customerSelezionato=t)}createCustomer(){const e=new xr;e.fiscalType=0,this._subscriptions.push(this.customerModal.open(e).pipe(X(t=>t),le(()=>this._customerService.createCustomer(e)),F(t=>{this.options.customerId=t.id,this._messageBox.success(`Cliente ${e.name} creato`)}),F(()=>this._readCustomers(!0))).subscribe())}createAddress(){const e=new ns;e.customerId=this.options.customerId,this._subscriptions.push(this.addressModal.open(e).pipe(X(t=>t),F(()=>{this.addNewAddress(e)})).subscribe())}addNewAddress(e){this._subscriptions.push(this._addressesService.createAddress(e).pipe((0,V.T)(t=>t),F(t=>{this.options.addressId=t.id,e.id=t.id;const o=this.customers.find(r=>r.id===this.options.customerId);o?.addresses.push(e),this._messageBox.success("Indirizzo creato con successo")}),F(()=>{})).subscribe())}checkIfImpiantoIsPortaRei(){if(this.isImpiantoPortaRei=!1,null==this.options.productTypeId||null==this.options.productTypeId)return;const e=this.productTypes.find(t=>t.id===this.options.productTypeId);null!=e&&(this.isImpiantoPortaRei=e.isReiDoor)}AttachmentExecutionSuccess(e){const t=e.response.body;if(null!=t){const o=t;new EB(o.fileName,o.originalFileName),this.options.pictureFileName=o.fileName,this.isUploaded.push(!0)}else{const o=e.files[0].name,r=this.attachmentsUploads.findIndex(a=>a.originalFileName==o);r>-1&&(this.attachmentsUploads.splice(r,1),this.isUploaded.pop())}}loadData(){this._readProductTypes(),this._readCustomers()}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(vn),s.rXU($A),s.rXU(zu),s.rXU(Vf))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-product-modal"]],viewQuery:function(t,o){if(1&t&&(s.GBs(O5t,5),s.GBs(T5t,7),s.GBs(M5t,7)),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first),s.mGM(r=s.lsd())&&(o.customerModal=r.first),s.mGM(r=s.lsd())&&(o.addressModal=r.first)}},features:[s.Vt3],decls:6,vars:3,consts:[["customerModal",""],["addressModal",""],["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[3,"customer"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],["name","updateOperatorForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateOperatorForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row","riga-form"],[1,"col-md-8"],[1,"row"],[1,"col-md-6"],[1,"form-group"],[1,"custom-form-field-label"],["name","code","required","",3,"ngModelChange","ngModel"],["name","productTypeId","suggest","true","textField","name","valueField","id","required","",3,"ngModelChange","valueChange","data","ngModel","valuePrimitive"],["name","name","required","",3,"ngModelChange","ngModel"],["name","description","required","",3,"ngModelChange","ngModel","rows"],["name","myUpload",3,"ngModelChange","success","ngModel","saveUrl","removeUrl"],["dropFilesHere"," "],[1,"col-md-4",2,"text-align","center"],["alt","","width","100%",3,"src",4,"ngIf"],["errorCorrection","M","encoding","UTF_8","style","max-width: 100px;",3,"value",4,"ngIf"],["class","row",4,"ngIf"],[1,"text-right","mt-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","submit",1,"btn","btn-primary"],["alt","","width","100%",3,"src"],["errorCorrection","M","encoding","UTF_8",2,"max-width","100px",3,"value"],[1,"col-md-4"],[1,"col-4"],["name","qrCodePrefix",3,"ngModelChange","ngModel","maxlength"],[1,"col-1"],[1,"col-7"],["name","qrCodeNumber",3,"ngModelChange","ngModel","maxlength"],[1,"col-12"],["name","customerId","suggest","true","textField","name","valueField","id","required","",1,"customer-combobox",3,"ngModelChange","valueChange","data","ngModel","valuePrimitive"],["type","button","title","Nuovo cliente",1,"btn","btn-primary","add-customer-button",3,"click"],[1,"fa","fa-plus"],["name","addressId","suggest","true","textField","fullAddress","valueField","id","required","",1,"customer-combobox",3,"ngModelChange","data","ngModel","valuePrimitive","disabled"],["type","button","title","Nuovo indirizzo",1,"btn","btn-primary","add-address-button",3,"click","disabled"],[1,"col-md-3"],["name","location",3,"ngModelChange","ngModel"],["name","serialNumber",3,"ngModelChange","ngModel"],["name","reiType",3,"ngModelChange","ngModel"],["name","constructorName",3,"ngModelChange","ngModel"],["name","hasPushBar","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],["name","year","format","0",3,"ngModelChange","ngModel","decimals","min","max"],["name","vocType",3,"ngModelChange","ngModel"],["name","numberOfDoors","format","0",3,"ngModelChange","ngModel","decimals"]],template:function(t,o){1&t&&(s.DNE(0,I5t,1,0,"div",3)(1,L5t,7,4,"div",4),s.nrm(2,"app-customer-modal",null,0)(4,"app-address-modal",5,1)),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened),s.R7$(3),s.Y8G("customer",o.customerSelezionato))},dependencies:[q,Ps,Di,Ls,lo,Ed,fs,ps,$i,ts,Ni,ca,Dd,oS,Dq,xh,__,ol,BS,zf,D6e,B_,F_],styles:[".custom-form-field-label[_ngcontent-%COMP%]{margin-top:10px}.qr-code-button[_ngcontent-%COMP%]{margin-top:15px}.qr-code-img[_ngcontent-%COMP%]{width:100%;margin-top:10px}"]})}return i})();const G5t=["qrcode"];function U5t(i,n){1&i&&s.nrm(0,"div",3)}function F5t(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",4)(1,"kendo-window",5),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.j41(2,"kendo-window-titlebar")(3,"div",6),s.EFF(4," QR Code "),s.k0s(),s.nrm(5,"button",7),s.k0s(),s.j41(6,"div",8)(7,"div",9)(8,"p")(9,"strong"),s.EFF(10),s.k0s(),s.EFF(11),s.k0s(),s.j41(12,"p"),s.EFF(13),s.k0s(),s.j41(14,"p"),s.EFF(15,"QR Code: "),s.j41(16,"strong"),s.EFF(17),s.k0s()()()(),s.j41(18,"div",8)(19,"div",10),s.nrm(20,"kendo-qrcode",11,0),s.j41(22,"button",12),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.exportQRCode())}),s.EFF(23," Esporta Immagine "),s.k0s()()(),s.j41(24,"div",13)(25,"button",14),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.EFF(26," CHIUDI "),s.k0s()()()()}if(2&i){const e=s.XpG();s.R7$(),s.Y8G("resizable",!1)("draggable",!1)("width",300)("top",50),s.R7$(9),s.JRh(e.options.code),s.R7$(),s.SpI(" - ",e.options.name,""),s.R7$(2),s.JRh(e.options.description),s.R7$(4),s.JRh(e.options.qrCode),s.R7$(3),s.Y8G("value",e.options.qrCode)}}let B5t=(()=>{class i extends eo{_canClose(){return!0}exportQRCode(){this.qrcode.exportImage().then(e=>{!function ZR(i,n,e={}){let t=Jgt;if(e.forceProxy&&!e.proxyURL)throw new Error("No proxyURL is set, but forceProxy is true");e.forceProxy||(Wgt()&&(t=Ygt),navigator.msSaveBlob&&(t=Kgt)),t(i,n,e)}(e,this.options.qrCode+".png")})}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=s.xGo(i)))(o||i)}})();static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-product-qr-code-modal"]],viewQuery:function(t,o){if(1&t&&s.GBs(G5t,5),2&t){let r;s.mGM(r=s.lsd())&&(o.qrcode=r.first)}},features:[s.Vt3],decls:2,vars:2,consts:[["qrcode",""],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","width","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],[1,"row"],[1,"col-12"],[1,"col-12",2,"text-align","center"],["errorCorrection","M","encoding","UTF_8",3,"value"],["type","button",1,"btn","btn-primary",3,"click"],[1,"text-right","mt-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"]],template:function(t,o){1&t&&s.DNE(0,U5t,1,0,"div",1)(1,F5t,27,9,"div",2),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened))},dependencies:[q,$i,ts,Ni,D6e]})}return i})();const V5t=["productModal"],z5t=["productQrCodeModal"];function H5t(i,n){if(1&i&&s.nrm(0,"img",16),2&i){const e=s.XpG().$implicit,t=s.XpG();s.Y8G("src",t.pathImage+e.pictureFileName,s.B4B)}}function j5t(i,n){1&i&&s.DNE(0,H5t,1,1,"img",15),2&i&&s.Y8G("ngIf",null!=n.$implicit.pictureFileName)}function $5t(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",22),s.bIt("click",function(){s.eBV(e);const o=s.XpG().$implicit,r=s.XpG();return s.Njj(r.viewQrCodeProduct(o))}),s.nrm(1,"i",23),s.k0s()}}function X5t(i,n){if(1&i){const e=s.RV6();s.DNE(0,$5t,2,0,"button",17),s.j41(1,"button",18),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.editProduct(o.id))}),s.nrm(2,"i",19),s.k0s(),s.j41(3,"button",20),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.deleteProduct(o.id))}),s.nrm(4,"i",21),s.k0s()}2&i&&s.Y8G("ngIf","0000"!=n.$implicit.qrCode)}let W5t=(()=>{class i extends Tn{constructor(e,t){super(),this._productsService=e,this._messageBox=t,this.pathImage=`${fn.baseUrl}/attachments/`,this.stateGridProducts={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[]},this.productSelezionato=new MB}ngOnInit(){this._readProducts()}dataStateChange(e){this.stateGridProducts=e,this._readProducts()}_readProducts(){this._subscriptions.push(this._productsService.readProducts(this.stateGridProducts).pipe(F(e=>{this.products=e})).subscribe())}createProduct(){this.productModal.loadData();const e=new MB;this._subscriptions.push(this.productModal.open(e).pipe(X(t=>t),le(()=>this._productsService.createProduct(e)),F(t=>{this._messageBox.success("Prodotto creato")}),F(()=>this._readProducts())).subscribe())}editProduct(e){this._subscriptions.push(this._productsService.getProductDetail(e).pipe((0,V.T)(t=>Object.assign(new MB,t)),le(t=>this.productModal.open(t)),X(t=>t),(0,V.T)(()=>this.productModal.options),le(t=>this._productsService.updateProduct(t,e)),(0,V.T)(()=>this.productModal.options),F(t=>this._messageBox.success("Prodotto aggiornato")),F(()=>this._readProducts())).subscribe())}deleteProduct(e){this._messageBox.confirm(`Sei sicuro di voler cancellare prodotto "${e.description}"?`,"Conferma l'azione").subscribe(t=>{1==t&&this._subscriptions.push(this._productsService.deleteProduct(e.id).pipe(F(o=>this._messageBox.success(`Prodotto "${e.description}" cancellato con successo`)),F(()=>this._readProducts())).subscribe())})}viewQrCodeProduct(e){this._subscriptions.push(this.productQrCodeModal.open(e).subscribe())}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU($A),s.rXU(vn))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-products"]],viewQuery:function(t,o){if(1&t&&(s.GBs(V5t,7),s.GBs(z5t,7)),2&t){let r;s.mGM(r=s.lsd())&&(o.productModal=r.first),s.mGM(r=s.lsd())&&(o.productQrCodeModal=r.first)}},features:[s.Vt3],decls:21,vars:11,consts:[["productModal",""],["productQrCodeModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","productType","title","Tipologia impianto"],["field","code","title","Codice"],["field","name","title","Nome"],["field","pictureFileName","title","Immagine"],["kendoGridCellTemplate",""],["field","description","title","Descrizione"],["field","id","title"," ",3,"sortable","filterable","width"],["alt","","width","100px",3,"src",4,"ngIf"],["alt","","width","100px",3,"src"],["class","btn btn-primary btn-sm grid-action-button","title","Visualizza QR",3,"click",4,"ngIf"],["title","Modifica",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["title","Elimina",1,"btn","btn-danger","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-trash"],["title","Visualizza QR",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-qrcode"]],template:function(t,o){if(1&t){const r=s.RV6();s.j41(0,"div",2)(1,"div",3)(2,"h3"),s.EFF(3,"Prodotti"),s.k0s()(),s.j41(4,"div",4)(5,"button",5),s.bIt("click",function(){return s.eBV(r),s.Njj(o.createProduct())}),s.nrm(6,"i",6),s.EFF(7," NUOVO "),s.k0s()()(),s.j41(8,"kendo-grid",7),s.bIt("dataStateChange",function(l){return s.eBV(r),s.Njj(o.dataStateChange(l))}),s.nrm(9,"kendo-grid-column",8)(10,"kendo-grid-column",9)(11,"kendo-grid-column",10),s.j41(12,"kendo-grid-column",11),s.DNE(13,j5t,1,1,"ng-template",12),s.k0s(),s.nrm(14,"kendo-grid-column",13),s.j41(15,"kendo-grid-column",14),s.DNE(16,X5t,5,1,"ng-template",12),s.k0s()(),s.nrm(17,"app-product-modal",null,0)(19,"app-product-qr-code-modal",null,1)}2&t&&(s.R7$(8),s.Y8G("data",o.products)("pageSize",o.stateGridProducts.take)("skip",o.stateGridProducts.skip)("sort",o.stateGridProducts.sort)("filter",o.stateGridProducts.filter)("group",o.stateGridProducts.group)("sortable",!0)("pageable",!0),s.R7$(7),s.Y8G("sortable",!1)("filterable",!1)("width",130))},dependencies:[q,Wi,Oi,Us,P5t,B5t]})}return i})();const K5t=["form"];function Y5t(i,n){1&i&&s.nrm(0,"div",3)}function J5t(i,n){if(1&i){const e=s.RV6();s.j41(0,"form",9,0),s.bIt("ngSubmit",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.close())}),s.j41(2,"div",10)(3,"div",11)(4,"kendo-formfield",12)(5,"label"),s.EFF(6,"Nome"),s.k0s(),s.j41(7,"kendo-textbox",13),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.name,o)||(r.options.name=o),s.Njj(o)}),s.k0s(),s.j41(8,"kendo-formerror"),s.EFF(9,"Nome \xe8 un campo obbligatorio"),s.k0s()()(),s.j41(10,"div",11)(11,"kendo-formfield",12)(12,"label"),s.EFF(13,"Colore"),s.k0s(),s.j41(14,"kendo-colorpicker",14),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.colorHex,o)||(r.options.colorHex=o),s.Njj(o)}),s.k0s(),s.j41(15,"kendo-formerror"),s.EFF(16,"Colore \xe8 il campo obbligatorio"),s.k0s()()()(),s.j41(17,"div",10)(18,"div",11)(19,"label"),s.EFF(20,"Immagine obbligatoria"),s.k0s(),s.j41(21,"div",12)(22,"kendo-switch",15),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.pictureRequired,o)||(r.options.pictureRequired=o),s.Njj(o)}),s.k0s(),s.nrm(23,"div",16),s.k0s()(),s.j41(24,"div",17)(25,"label"),s.EFF(26,"Attivit\xe0 Interna"),s.k0s(),s.j41(27,"div",12)(28,"kendo-switch",18),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.isInternal,o)||(r.options.isInternal=o),s.Njj(o)}),s.k0s(),s.nrm(29,"div",16),s.k0s()(),s.j41(30,"div",17)(31,"label"),s.EFF(32,"Attivit\xe0 Fornitore"),s.k0s(),s.j41(33,"div",12)(34,"kendo-switch",19),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.isExternal,o)||(r.options.isExternal=o),s.Njj(o)}),s.k0s(),s.nrm(35,"div",16),s.k0s()()(),s.j41(36,"div",10)(37,"div",20)(38,"label"),s.EFF(39,'Etichetta Stato "In attesa"'),s.k0s(),s.j41(40,"div",12)(41,"kendo-textbox",21),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.statusLabel0,o)||(r.options.statusLabel0=o),s.Njj(o)}),s.k0s(),s.nrm(42,"div",16),s.k0s()(),s.j41(43,"div",20)(44,"label"),s.EFF(45,'Etichetta Stato "In corso"'),s.k0s(),s.j41(46,"div",12)(47,"kendo-textbox",22),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.statusLabel1,o)||(r.options.statusLabel1=o),s.Njj(o)}),s.k0s(),s.nrm(48,"div",16),s.k0s()(),s.j41(49,"div",20)(50,"label"),s.EFF(51,'Etichetta Stato "Completata"'),s.k0s(),s.j41(52,"div",12)(53,"kendo-textbox",23),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.statusLabel2,o)||(r.options.statusLabel2=o),s.Njj(o)}),s.k0s(),s.nrm(54,"div",16),s.k0s()()(),s.j41(55,"div",24)(56,"button",25),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.dismiss())}),s.EFF(57," ANNULLA "),s.k0s(),s.j41(58,"button",26),s.EFF(59," SALVA "),s.k0s()()()}if(2&i){const e=s.sdS(1),t=s.XpG(2);s.R7$(7),s.R50("ngModel",t.options.name),s.R7$(7),s.R50("ngModel",t.options.colorHex),s.R7$(8),s.R50("ngModel",t.options.pictureRequired),s.R7$(),s.Y8G("control",e.controls.pictureRequired),s.R7$(5),s.R50("ngModel",t.options.isInternal),s.R7$(),s.Y8G("control",e.controls.isInternal),s.R7$(5),s.R50("ngModel",t.options.isExternal),s.R7$(),s.Y8G("control",e.controls.isExternal),s.R7$(6),s.R50("ngModel",t.options.statusLabel0),s.R7$(),s.Y8G("control",e.controls.statusLabel0),s.R7$(5),s.R50("ngModel",t.options.statusLabel1),s.R7$(),s.Y8G("control",e.controls.statusLabel1),s.R7$(5),s.R50("ngModel",t.options.statusLabel2),s.R7$(),s.Y8G("control",e.controls.statusLabel2)}}function q5t(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",4)(1,"kendo-window",5),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.j41(2,"kendo-window-titlebar")(3,"div",6),s.EFF(4," Tipologia Attivit\xe0 "),s.k0s(),s.nrm(5,"button",7),s.k0s(),s.DNE(6,J5t,60,14,"form",8),s.k0s()()}if(2&i){const e=s.XpG();s.R7$(),s.Y8G("resizable",!1)("draggable",!1)("top",100),s.R7$(5),s.Y8G("ngIf",e.options)}}let Q5t=(()=>{class i extends eo{constructor(e){super(),this._messageBox=e,this.role=ci,this.activityType=new Ud,this.options=new Ud,this.options.pictureRequired=!1}_canClose(){return fl(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid??!1}loadData(){}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(vn))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-activityType-modal"]],viewQuery:function(t,o){if(1&t&&s.GBs(K5t,5),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first)}},inputs:{activityType:"activityType"},features:[s.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],["name","updateActivityTypeForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateActivityTypeForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row","riga-form"],[1,"col-md-6"],[1,"form-group"],["name","name","required","",3,"ngModelChange","ngModel"],["name","colorHex","format","hex","required","",3,"ngModelChange","ngModel"],["name","pictureRequired","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],[1,"validation-message",3,"control"],[1,"col-md-3"],["name","isInternal","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],["name","isExternal","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],[1,"col-md-4"],["name","statusLabel0","required","",3,"ngModelChange","ngModel"],["name","statusLabel1","required","",3,"ngModelChange","ngModel"],["name","statusLabel2","required","",3,"ngModelChange","ngModel"],[1,"text-right","mt-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","submit",1,"btn","btn-primary"]],template:function(t,o){1&t&&s.DNE(0,Y5t,1,0,"div",1)(1,q5t,7,4,"div",2),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened))},dependencies:[q,Ps,Di,Ls,lo,fs,ps,$i,ts,Ni,oS,xh,qC,__,ol,za]})}return i})();const Z5t=["activityTypeModal"];function eUt(i,n){1&i&&(s.EFF(0),s.nI1(1,"bool")),2&i&&s.SpI(" ",s.bMT(1,1,n.$implicit.pictureRequired)," ")}function tUt(i,n){1&i&&(s.EFF(0),s.nI1(1,"bool")),2&i&&s.SpI(" ",s.bMT(1,1,n.$implicit.isInternal)," ")}function nUt(i,n){1&i&&(s.EFF(0),s.nI1(1,"bool")),2&i&&s.SpI(" ",s.bMT(1,1,n.$implicit.isExternal)," ")}function iUt(i,n){1&i&&s.nrm(0,"div",14),2&i&&s.xc7("background-color",n.$implicit.colorHex)}function sUt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",15),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.editActivityType(o))}),s.nrm(1,"i",16),s.k0s(),s.j41(2,"button",17),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.deleteActivityType(o))}),s.nrm(3,"i",18),s.k0s()}}let oUt=(()=>{class i extends Tn{constructor(e,t,o){super(),this._activityTypesService=e,this._messageBox=t,this._router=o,this.stateGridActivityTypes={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[]},this.activityType=new Ud}ngOnInit(){this._readActivityTypes()}dataStateChange(e){this.stateGridActivityTypes=e,this._readActivityTypes()}_readActivityTypes(){this._subscriptions.push(this._activityTypesService.readActivityTypes(this.stateGridActivityTypes).pipe(F(e=>{this.dataActivityTypes=e})).subscribe())}createActivityType(){const e=new Ud;this._subscriptions.push(this.activityTypeModal.open(e).pipe(X(t=>t),le(()=>this._activityTypesService.createActivityType(e)),F(t=>{this._messageBox.success(`Tipo ${e.name} creato`)}),F(()=>this._readActivityTypes())).subscribe())}editActivityType(e){this._subscriptions.push(this._activityTypesService.getActivityTypeDetail(e.id).pipe((0,V.T)(t=>Object.assign(new Ud,t)),le(t=>this.activityTypeModal.open(t)),X(t=>t),(0,V.T)(()=>this.activityTypeModal.options),le(t=>this._activityTypesService.updateActivityType(t,t.id)),(0,V.T)(()=>this.activityTypeModal.options),F(t=>this._messageBox.success(`Tipo ${e.name} aggiornato`)),F(()=>this._readActivityTypes())).subscribe())}deleteActivityType(e){this._messageBox.info("Eliminazione elemento non attiva")}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(rk),s.rXU(vn),s.rXU(Ns))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-activityTypes"]],viewQuery:function(t,o){if(1&t&&s.GBs(Z5t,7),2&t){let r;s.mGM(r=s.lsd())&&(o.activityTypeModal=r.first)}},inputs:{activityType:"activityType"},features:[s.Vt3],decls:22,vars:11,consts:[["activityTypeModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","name","title","Nome"],["field","pictureRequired","title","Immagine Obbligatoria"],["kendoGridCellTemplate",""],["field","isInternal","title","Attivit\xe0 interna"],["field","isExternal","title","Attivit\xe0 fornitore"],["field","colorHex","title","Colore"],["field","id","title"," ",3,"sortable","filterable","width"],[1,"operator-color-in-grid"],["title","Modifica",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["title","Elimina",1,"btn","btn-danger","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-trash"]],template:function(t,o){if(1&t){const r=s.RV6();s.j41(0,"div",1)(1,"div",2)(2,"h3"),s.EFF(3,"Tipologie Attivit\xe0"),s.k0s()(),s.j41(4,"div",3)(5,"button",4),s.bIt("click",function(){return s.eBV(r),s.Njj(o.createActivityType())}),s.nrm(6,"i",5),s.EFF(7," NUOVO "),s.k0s()()(),s.j41(8,"kendo-grid",6),s.bIt("dataStateChange",function(l){return s.eBV(r),s.Njj(o.dataStateChange(l))}),s.nrm(9,"kendo-grid-column",7),s.j41(10,"kendo-grid-column",8),s.DNE(11,eUt,2,3,"ng-template",9),s.k0s(),s.j41(12,"kendo-grid-column",10),s.DNE(13,tUt,2,3,"ng-template",9),s.k0s(),s.j41(14,"kendo-grid-column",11),s.DNE(15,nUt,2,3,"ng-template",9),s.k0s(),s.j41(16,"kendo-grid-column",12),s.DNE(17,iUt,1,2,"ng-template",9),s.k0s(),s.j41(18,"kendo-grid-column",13),s.DNE(19,sUt,4,0,"ng-template",9),s.k0s()(),s.nrm(20,"app-activityType-modal",null,0)}2&t&&(s.R7$(8),s.Y8G("data",o.dataActivityTypes)("pageSize",o.stateGridActivityTypes.take)("skip",o.stateGridActivityTypes.skip)("sort",o.stateGridActivityTypes.sort)("filter",o.stateGridActivityTypes.filter)("group",o.stateGridActivityTypes.group)("sortable",!0)("pageable",!0),s.R7$(10),s.Y8G("sortable",!1)("filterable",!1)("width",95))},dependencies:[Wi,Oi,Us,Q5t,ik],styles:[".operator-color-in-grid[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:5px}"]})}return i})();const rUt=["form"];function aUt(i,n){1&i&&s.nrm(0,"div",3)}function lUt(i,n){if(1&i){const e=s.RV6();s.j41(0,"form",9,0),s.bIt("ngSubmit",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.close())}),s.j41(2,"div",10)(3,"div",11)(4,"kendo-formfield",12)(5,"label"),s.EFF(6,"Codice"),s.k0s(),s.j41(7,"kendo-textbox",13),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.code,o)||(r.options.code=o),s.Njj(o)}),s.k0s(),s.j41(8,"kendo-formerror"),s.EFF(9,"Codice \xe8 un campo obbligatorio"),s.k0s()()(),s.j41(10,"div",11)(11,"kendo-formfield",12)(12,"label"),s.EFF(13,"Nome"),s.k0s(),s.j41(14,"kendo-textbox",14),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.name,o)||(r.options.name=o),s.Njj(o)}),s.k0s(),s.j41(15,"kendo-formerror"),s.EFF(16,"Nome \xe8 un campo obbligatorio"),s.k0s()()(),s.j41(17,"div",15)(18,"kendo-formfield",12)(19,"label"),s.EFF(20,"Descrizione"),s.k0s(),s.j41(21,"kendo-textbox",16),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.description,o)||(r.options.description=o),s.Njj(o)}),s.k0s()()(),s.j41(22,"div",17)(23,"label"),s.EFF(24,"Gestione QR Code"),s.k0s(),s.j41(25,"div",12)(26,"kendo-switch",18),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.isReiDoor,o)||(r.options.isReiDoor=o),s.Njj(o)}),s.k0s(),s.nrm(27,"div",19),s.k0s()(),s.j41(28,"div",17)(29,"label"),s.EFF(30,"Prodotto d'acquisto"),s.k0s(),s.j41(31,"div",12)(32,"kendo-switch",20),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.isSparePart,o)||(r.options.isSparePart=o),s.Njj(o)}),s.k0s(),s.nrm(33,"div",19),s.k0s()()(),s.j41(34,"div",21)(35,"button",22),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.dismiss())}),s.EFF(36," ANNULLA "),s.k0s(),s.j41(37,"button",23),s.EFF(38," SALVA "),s.k0s()()()}if(2&i){const e=s.sdS(1),t=s.XpG(2);s.R7$(7),s.R50("ngModel",t.options.code),s.R7$(7),s.R50("ngModel",t.options.name),s.R7$(7),s.R50("ngModel",t.options.description),s.R7$(5),s.R50("ngModel",t.options.isReiDoor),s.R7$(),s.Y8G("control",e.controls.isReiDoor),s.R7$(5),s.R50("ngModel",t.options.isSparePart),s.R7$(),s.Y8G("control",e.controls.isSparePart)}}function cUt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",4)(1,"kendo-window",5),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.j41(2,"kendo-window-titlebar")(3,"div",6),s.EFF(4," Tipo Prodotto "),s.k0s(),s.nrm(5,"button",7),s.k0s(),s.DNE(6,lUt,39,7,"form",8),s.k0s()()}if(2&i){const e=s.XpG();s.R7$(),s.Y8G("resizable",!1)("draggable",!1)("top",100),s.R7$(5),s.Y8G("ngIf",e.options)}}let dUt=(()=>{class i extends eo{constructor(e){super(),this._messageBox=e,this.role=ci,this.productType=new Fd}_canClose(){return fl(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid??!1}loadData(){}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(vn))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-productType-modal"]],viewQuery:function(t,o){if(1&t&&s.GBs(rUt,5),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first)}},inputs:{productType:"productType"},features:[s.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],["name","updateActivityTypeForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateActivityTypeForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row","riga-form"],[1,"col-md-4"],[1,"form-group"],["name","code","required","",3,"ngModelChange","ngModel"],["name","name","required","",3,"ngModelChange","ngModel"],[1,"col-md-12"],["name","description",3,"ngModelChange","ngModel"],[1,"col-md-6"],["name","isReiDoor","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],[1,"validation-message",3,"control"],["name","isSparePart","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],[1,"text-right","mt-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","submit",1,"btn","btn-primary"]],template:function(t,o){1&t&&s.DNE(0,aUt,1,0,"div",1)(1,cUt,7,4,"div",2),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened))},dependencies:[q,Ps,Di,Ls,lo,fs,ps,$i,ts,Ni,oS,xh,__,ol,za]})}return i})();const uUt=["productTypeModal"];function hUt(i,n){1&i&&(s.EFF(0),s.nI1(1,"bool")),2&i&&s.SpI(" ",s.bMT(1,1,n.$implicit.isReiDoor)," ")}function pUt(i,n){1&i&&(s.EFF(0),s.nI1(1,"bool")),2&i&&s.SpI(" ",s.bMT(1,1,n.$implicit.isSparePart)," ")}function fUt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",14),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.editProductType(o))}),s.nrm(1,"i",15),s.k0s(),s.j41(2,"button",16),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.deleteProductType(o))}),s.nrm(3,"i",17),s.k0s()}}let mUt=(()=>{class i extends Tn{constructor(e,t,o){super(),this._productTypesService=e,this._messageBox=t,this._router=o,this.stateGridProductTypes={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[]},this.productType=new Fd}ngOnInit(){this._readProductTypes()}dataStateChange(e){this.stateGridProductTypes=e,this._readProductTypes()}_readProductTypes(){this._subscriptions.push(this._productTypesService.readProductTypes(this.stateGridProductTypes).pipe(F(e=>{this.dataProductTypes=e})).subscribe())}createProductType(){const e=new Fd;this._subscriptions.push(this.productTypeModal.open(e).pipe(X(t=>t),le(()=>this._productTypesService.createProductType(e)),F(t=>{this._messageBox.success(`Tipo ${e.name} creato`)}),F(()=>this._readProductTypes())).subscribe())}editProductType(e){this._subscriptions.push(this._productTypesService.getProductTypeDetail(e.id).pipe((0,V.T)(t=>Object.assign(new Fd,t)),le(t=>this.productTypeModal.open(t)),X(t=>t),(0,V.T)(()=>this.productTypeModal.options),le(t=>this._productTypesService.updateProductType(t,t.id)),(0,V.T)(()=>this.productTypeModal.options),F(t=>this._messageBox.success(`Tipo ${e.name} aggiornato`)),F(()=>this._readProductTypes())).subscribe())}deleteProductType(e){this._messageBox.info("Eliminazione elemento non attiva")}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(TB),s.rXU(vn),s.rXU(Ns))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-producttypes"]],viewQuery:function(t,o){if(1&t&&s.GBs(uUt,7),2&t){let r;s.mGM(r=s.lsd())&&(o.productTypeModal=r.first)}},inputs:{productType:"productType"},features:[s.Vt3],decls:20,vars:11,consts:[["productTypeModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","code","title","Codice"],["field","name","title","Nome"],["field","description","title","Descrizione"],["field","isReiDoor","title","QR Code"],["kendoGridCellTemplate",""],["field","isSparePart","title","Prodotto d'acquisto"],["field","id","title"," ",3,"sortable","filterable","width"],["title","Modifica",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["title","Elimina",1,"btn","btn-danger","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-trash"]],template:function(t,o){if(1&t){const r=s.RV6();s.j41(0,"div",1)(1,"div",2)(2,"h3"),s.EFF(3,"Tipi Prodotto"),s.k0s()(),s.j41(4,"div",3)(5,"button",4),s.bIt("click",function(){return s.eBV(r),s.Njj(o.createProductType())}),s.nrm(6,"i",5),s.EFF(7," NUOVO "),s.k0s()()(),s.j41(8,"kendo-grid",6),s.bIt("dataStateChange",function(l){return s.eBV(r),s.Njj(o.dataStateChange(l))}),s.nrm(9,"kendo-grid-column",7)(10,"kendo-grid-column",8)(11,"kendo-grid-column",9),s.j41(12,"kendo-grid-column",10),s.DNE(13,hUt,2,3,"ng-template",11),s.k0s(),s.j41(14,"kendo-grid-column",12),s.DNE(15,pUt,2,3,"ng-template",11),s.k0s(),s.j41(16,"kendo-grid-column",13),s.DNE(17,fUt,4,0,"ng-template",11),s.k0s()(),s.nrm(18,"app-productType-modal",null,0)}2&t&&(s.R7$(8),s.Y8G("data",o.dataProductTypes)("pageSize",o.stateGridProductTypes.take)("skip",o.stateGridProductTypes.skip)("sort",o.stateGridProductTypes.sort)("filter",o.stateGridProductTypes.filter)("group",o.stateGridProductTypes.group)("sortable",!0)("pageable",!0),s.R7$(8),s.Y8G("sortable",!1)("filterable",!1)("width",95))},dependencies:[Wi,Oi,Us,dUt,ik],styles:[".operator-color-in-grid[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:5px}"]})}return i})();class Bx{constructor(n,e,t,o){this.id=n,this.displayName=e,this.fileName=t,this.jobId=o}static build(n){return new Bx(n.id,n.displayName,n.fileName,n.jobId)}get isImage(){return!!(this.fileName.endsWith(".jpg")||this.fileName.endsWith(".png")||this.fileName.endsWith(".jpeg")||this.fileName.endsWith(".gif"))}}var bo=function(i){return i[i.Pending=0]="Pending",i[i.InProgress=1]="InProgress",i[i.Completed=2]="Completed",i[i.Billing=3]="Billing",i[i.Billed=4]="Billed",i}(bo||{});const ire={[bo.Pending]:"ATTIVA",[bo.InProgress]:"IN CORSO",[bo.Completed]:"COMPLETATA",[bo.Billing]:"DA FATTURARE",[bo.Billed]:"FATTURATA"};class lv{get code(){return`${this.number.toString().padStart(3,"0")}/${this.year}`}constructor(n,e,t,o,r,a,l,c,u,f,_,S,v,b){this.id=n,this.number=e,this.year=t,this.description=a,this.reference=l,this.hasHighPriority=c,this.status=u,this.customerId=f,this.addressId=_,this.referentId=S,this.attachments=v,this.messages=b,this.date=o?new Date(o):null,this.expirationDate=r?new Date(r):null}static build(n){const e=n.attachments.map(o=>Bx.build(o)),t=n.messages.map(o=>Vu.build(o));return new lv(n.id,n.number,n.year,n.date,n.expirationDate,n.description,n.reference,n.hasHighPriority,n.status,n.customerId,n.addressId,n.referentId,e,t)}}class sre{constructor(n,e,t,o,r,a,l){this.originalId=n,this.description=t,this.reference=o,this.customerId=r,this.addressId=a,this.referentId=l,this.date=e?new Date(e):null}static build(n){return new sre(n.originalId,n.date,n.description,n.reference,n.customerId,n.addressId,n.referentId)}}class _Ut{constructor(n,e){this.fileName=n,this.originalFileName=e}}let qf=(()=>{class i{constructor(e){this._http=e,this._baseUrl=`${fn.baseApiUrl}/jobs`}read(e){return H0(this._http,e,`${this._baseUrl}/read`)}get(e){return this._http.get(`${this._baseUrl}/${e}`).pipe((0,V.T)(t=>lv.build(t)))}getTicketJob(e,t){return this._http.get(`${this._baseUrl}/getTicketJob/${e}/${t}`).pipe((0,V.T)(o=>lv.build(o)))}create(e){return this._http.post(this._baseUrl,e).pipe((0,V.T)(t=>lv.build(t)))}update(e){return this._http.put(`${this._baseUrl}/${e.id}`,e).pipe((0,V.T)(t=>lv.build(t)))}copyJob(e){return this._http.post(`${this._baseUrl}/copyJob`,e)}delete(e){return this._http.delete(`${this._baseUrl}/${e}`).pipe((0,V.T)(()=>{}))}createJobAttachment(e){return this._http.post(`${this._baseUrl}/create-attachment`,e).pipe()}updateJobAttachment(e,t){return this._http.put(`${this._baseUrl}/update-attachment/${t}`,e).pipe()}getJobAttachments(e){return this._http.get(`${this._baseUrl}/${e}/all-attachments`).pipe((0,V.T)(t=>t.map(o=>Bx.build(o))))}uploadJobAttachmentFile(e){const t=new FormData;t.append(e.name,e);const o=new Za("POST",`${this._baseUrl}/job-attachment/upload-file`,t,{reportProgress:!1});return this._http.request(o).pipe(X(r=>r.type===wr.Response),(0,V.T)(r=>r.body),(0,V.T)(r=>new _Ut(r.fileName,r.originalFileName)))}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Yo))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})(),Vx=(()=>{class i{constructor(e){this._http=e,this._baseUrl=`${fn.baseApiUrl}/messages`}read(e){return H0(this._http,e,`${this._baseUrl}/read`)}get(e){return this._http.get(`${this._baseUrl}/${e}`).pipe((0,V.T)(t=>U_.build(t)))}getMessages(e,t,o,r){return this._http.get(`${this._baseUrl}/get-messages/${e}/${t}/${o}/${r}`).pipe((0,V.T)(a=>a.map(l=>Vu.build(l))))}create(e){return this._http.post(this._baseUrl,e).pipe((0,V.T)(t=>U_.build(t)))}update(e){return this._http.put(`${this._baseUrl}/${e.id}`,e).pipe((0,V.T)(t=>U_.build(t)))}delete(e){return this._http.delete(`${this._baseUrl}/${e}`).pipe((0,V.T)(()=>{}))}markAsRead(e,t){return this._http.get(`${this._baseUrl}/mark-as-read/${e}/${t}`).pipe((0,V.T)(()=>{}))}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Yo))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();function gUt(i,n){}function SUt(i,n){if(1&i&&(s.qex(0),s.DNE(1,gUt,0,0,"ng-template",1),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngTemplateOutlet",e.template)}}function vUt(i,n){}function CUt(i,n){if(1&i&&(s.qex(0),s.DNE(1,vUt,0,0,"ng-template",1),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngTemplateOutlet",e.template)}}const w6e=["overflowButton"],vb=["popupTemplate"],bUt=["resizeSensor"],EUt=["container"],yUt=["toolbarRenderer"],DUt=["overflowRenderer"];function wUt(i,n){if(1&i){const e=s.RV6();s.qex(0),s.j41(1,"kendo-toolbar-renderer",10,2),s.bIt("rendererClick",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onRendererClick(o))}),s.k0s(),s.bVm()}if(2&i){const e=n.$implicit,t=s.XpG();s.R7$(),s.Y8G("location","toolbar")("resizable",t.overflow)("tool",e)}}function kUt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",11,3),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.showPopup())}),s.k0s()}if(2&i){const e=s.XpG();s.xc7("visibility","hidden")("position","relative")("margin-inline-start","auto"),s.Y8G("svgIcon",e.moreVerticalIcon)("title",e.moreToolsTitle)("id",e.overflowBtnId)("ngClass",e.overflowClass),s.BMQ("aria-label",e.moreToolsTitle)("aria-expanded",e.popupOpen)}}function OUt(i,n){if(1&i){const e=s.RV6();s.qex(0),s.j41(1,"kendo-toolbar-renderer",10,4),s.bIt("rendererClick",function(o){s.eBV(e);const r=s.XpG(2);return s.Njj(r.onRendererClick(o))}),s.k0s(),s.bVm()}if(2&i){const e=n.$implicit,t=s.XpG(2);s.R7$(),s.Y8G("location","overflow")("resizable",t.overflow)("tool",e)}}function TUt(i,n){if(1&i&&(s.j41(0,"div",12),s.DNE(1,OUt,3,3,"ng-container",7),s.k0s()),2&i){const e=s.XpG();s.Y8G("id",e.popupId),s.BMQ("aria-labelledby",e.overflowBtnId),s.R7$(),s.Y8G("ngForOf",e.allTools)}}function MUt(i,n){1&i&&s.nrm(0,"kendo-resize-sensor",null,5)}const Xk=["toolbarTemplate"],IUt=["toolbarButton"];function RUt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",4,2),s.bIt("click",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.click.emit(o))})("pointerdown",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.pointerdown.emit(o))})("selectedChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.selectedChangeHandler(o))})("blur",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onBlur())}),s.EFF(2),s.k0s()}if(2&i){const e=s.XpG();s.HbH(e.toolbarButtonClass),s.Y8G("tabindex",e.tabIndex)("ngStyle",e.style)("ngClass",e.className)("disabled",e.disabled)("toggleable",e.toggleable)("fillMode",e.fillMode)("themeColor",e.fillMode?e.themeColor:null)("selected",e.selected)("icon",e.toolbarOptions.icon)("iconClass",e.toolbarOptions.iconClass)("svgIcon",e.toolbarOptions.svgIcon)("imageUrl",e.toolbarOptions.imageUrl),s.BMQ("title",e.title),s.R7$(2),s.SpI(" ",e.toolbarOptions.text," ")}}function AUt(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",9),2&i){const e=s.XpG(2);s.Y8G("name",e.overflowOptions.icon)("customFontClass",e.overflowOptions.iconClass)("svgIcon",e.overflowOptions.svgIcon)}}function xUt(i,n){if(1&i&&(s.j41(0,"span",10),s.EFF(1),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.JRh(e.overflowOptions.text)}}function NUt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",5,3),s.bIt("click",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleClick(o))}),s.j41(2,"span",6),s.DNE(3,AUt,1,3,"kendo-icon-wrapper",7)(4,xUt,2,1,"span",8),s.k0s()()}if(2&i){const e=s.XpG();s.AVh("k-disabled",e.disabled),s.Y8G("ngClass",e.className)("ngStyle",e.style),s.R7$(2),s.AVh("k-selected",e.selected),s.R7$(),s.Y8G("ngIf",e.overflowOptions.icon||e.overflowOptions.iconClass||e.overflowOptions.svgIcon),s.R7$(),s.Y8G("ngIf",e.overflowOptions.text)}}const LUt=["toolbarButtonGroup"],ore=["listItem"];function PUt(i,n){if(1&i){const e=s.RV6();s.j41(0,"span",6),s.bIt("click",function(o){const r=s.eBV(e).$implicit,a=s.XpG(2);return r.click.emit(o),s.Njj(a.onButtonClick(o))})("pointerdown",function(o){const r=s.eBV(e).$implicit;return s.Njj(r.pointerdown.emit(o))})("selectedChange",function(o){const r=s.eBV(e).$implicit,a=s.XpG(2);return s.Njj(a.selectedChangeHandler(o,r))}),s.EFF(1),s.k0s()}if(2&i){const e=n.$implicit;s.Y8G("ngStyle",e.style)("ngClass",e.className)("disabled",e.disabled)("togglable",e.togglable)("selected",e.selected)("fillMode",e.fillMode)("themeColor",e.fillMode?e.themeColor:null)("icon",e.toolbarOptions.icon)("iconClass",e.toolbarOptions.iconClass)("svgIcon",e.toolbarOptions.svgIcon)("imageUrl",e.toolbarOptions.imageUrl),s.BMQ("title",e.title)("aria-pressed",!!e.selected),s.R7$(),s.SpI(" ",e.toolbarOptions.text," ")}}function GUt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-buttongroup",4,2),s.bIt("navigate",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onNavigate(o))})("focus",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onFocus())}),s.DNE(2,PUt,2,14,"span",5),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("tabIndex",-1)("selection",e.selection)("disabled",e.disabled)("width",e.width),s.R7$(2),s.Y8G("ngForOf",e.buttonComponents)}}function UUt(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",12),2&i){const e=s.XpG().$implicit;s.Y8G("name",e.overflowOptions.icon)("customFontClass",e.overflowOptions.iconClass)("svgIcon",e.overflowOptions.svgIcon)}}function FUt(i,n){if(1&i&&(s.j41(0,"span",13),s.EFF(1),s.k0s()),2&i){const e=s.XpG().$implicit;s.R7$(),s.JRh(e.overflowOptions.text)}}function BUt(i,n){if(1&i){const e=s.RV6();s.qex(0),s.j41(1,"div",8,3),s.bIt("click",function(o){const r=s.eBV(e).$implicit,a=s.XpG(2);return s.Njj(a.handleClick(o,r))}),s.j41(3,"span",9),s.DNE(4,UUt,1,3,"kendo-icon-wrapper",10)(5,FUt,2,1,"span",11),s.k0s()(),s.bVm()}if(2&i){const e=n.$implicit,t=s.XpG(2);s.R7$(),s.AVh("k-disabled",t.disabled||e.disabled),s.Y8G("ngStyle",e.style)("ngClass",e.className),s.R7$(2),s.AVh("k-selected",e.selected),s.R7$(),s.Y8G("ngIf",e.overflowOptions.icon||e.overflowOptions.iconClass||e.overflowOptions.svgIcon),s.R7$(),s.Y8G("ngIf",e.overflowOptions.text)}}function VUt(i,n){if(1&i&&s.DNE(0,BUt,6,8,"ng-container",7),2&i){const e=s.XpG();s.Y8G("ngForOf",e.buttonComponents)}}const hFt={name:"@progress/kendo-angular-toolbar",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925211,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};let rre=(()=>{class i{constructor(){this.onRefresh=new s.bkB}refresh(e){this.onRefresh.emit(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const pFt=/^(?:a|input|select|textarea|button|object)$/i,O6e=(i,n)=>{for(;i&&!n(i);)i=i.parentNode;return i},a9=(i,n,e=!0)=>{if(i){if(e&&n(i))return i;for(i=i.firstChild;i;){if(1===i.nodeType){const t=a9(i,n);if(t)return t}i=i.nextSibling}}},are=(i,n=!0)=>{if(i.tagName){const e=i.tagName.toLowerCase();let o=null!==i.getAttribute("tabIndex");return pFt.test(e)&&(o=!i.disabled),o&&(!n||(i=>{const n=i.getBoundingClientRect();return(n.width>0&&n.height>0||0!==n.x&&0!==n.y)&&"hidden"!==window.getComputedStyle(i).visibility})(i))}return!1},T6e=(i,n=!0,e)=>{let t=e?i.prevSibling:i.nextSibling;for(;t;){if(1===t.nodeType){const o=a9(t,r=>are(r,n));if(o)return o}t=e?t.prevSibling:t.nextSibling}},l9=i=>null!=i,Eo=(i,n,e)=>{switch(n){case"toolbar":return e?void 0:i;case"overflow":return e?i:void 0;default:return i}},fre={small:"sm",medium:"md",large:"lg"};let M6e=(()=>{class i{constructor(e){this.zone=e,this.focused={renderedTool:null,index:-1},this.renderedTools=[],this.isPopupFocused=!1,this.isOverflowButtonFocused=!1}setRenderedTools(e){this.renderedTools=[...e]}click({context:e,event:t}){this.focused.renderedTool!==e&&t&&this.focus(e,t)}moveFocusToToolBar(){this.isPopupFocused=!1,this.focusOverflowButton()}moveFocusToPopup(){this.isPopupFocused=!0,this.blurOverflowButton(),this.focus()}focusNext(e){if(this.isOverflowButtonFocused){const t=this.getFocusableTools()[0];this.focus(t,e)}else if(!this.isOverflowButtonFocused&&this.focused.renderedTool&&!this.focused.renderedTool.tool.handleKey(e)){const t=this.getFocusableTools().slice(this.focused.index+1)[0];if(t)this.focus(t,e);else if(this.isOverflowButtonVisible()&&!this.isPopupFocused)this.focusOverflowButton();else{const o=this.getFocusableTools()[0];this.focus(o,e)}}}focusPrev(e){if(this.isOverflowButtonFocused){const t=this.getFocusableTools().reverse()[0];this.focus(t,e)}else if(!this.isOverflowButtonFocused&&this.focused.renderedTool&&!this.focused.renderedTool.tool.handleKey(e)){const t=this.getFocusableTools().slice(0,this.focused.index).reverse()[0];if(t)this.focus(t,e);else if(this.isOverflowButtonVisible()&&!this.isPopupFocused)this.focusOverflowButton();else{const o=this.getFocusableTools().reverse()[0];this.focus(o,e)}}}resetNavigation(){this.blurOverflowButton(),this.focused.renderedTool=null,this.focused.index=-1}focusFirst(e){const t=this.getFocusableTools()[0],o=this.overflowButton;t?(this.focused.renderedTool=t,this.focused.index=this.getFocusableTools().findIndex(r=>r===t),this.focus(t,e)):o&&o.nativeElement.focus()}focusLast(e){const t=this.getFocusableTools().reverse()[0],o=this.overflowButton;t?(this.focused.renderedTool=t,this.focused.index=this.getFocusableTools().findIndex(r=>r===t),this.focus(t,e)):o&&o.nativeElement.focus()}getFocusableTools(){return this.renderedTools.filter(e=>e.tool.overflows===this.isPopupFocused&&e.tool.canFocus())}focus(e,t){this.zone.onStable.pipe(We(1)).subscribe(()=>{if(e)e.tool.canFocus&&e.tool.canFocus()&&(this.focused.renderedTool=e,this.focused.index=this.getFocusableTools().findIndex(o=>o===e),e.tool.focus(t),this.blurOverflowButton());else{const o=this.getFocusableTools(),r=o.find(a=>a===this.focused.renderedTool)||o[0];r&&(this.focused.renderedTool=r,this.focused.index=this.getFocusableTools().findIndex(a=>a===r),r.tool.focus(t))}})}blurOverflowButton(){this.overflowButton&&(this.isOverflowButtonFocused=!1,this.overflowButton.nativeElement.tabIndex=-1)}focusOverflowButton(){this.isOverflowButtonFocused=!0,this.overflowButton.nativeElement.tabIndex=0,this.overflowButton.nativeElement.focus()}isOverflowButtonVisible(){return l9(this.overflowButton)&&"visible"===window.getComputedStyle(this.overflowButton.nativeElement).getPropertyValue("visibility")}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(s.SKi))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),yo=(()=>{class i{constructor(){this.tabIndex=-1,this.overflows=!0,this.responsive=!0}get toolbarDisplay(){return this.overflows?"none":"inline-block"}get overflowDisplay(){return this.overflows?"block":"none"}canFocus(){return!1}focus(e){}handleKey(e){return!1}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.VBU({type:i,selectors:[["toolbar-tool"]],inputs:{responsive:"responsive"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})();class I6e{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}let R6e=(()=>{class i{getElement(){return this.element.nativeElement}querySelector(e){return this.element.nativeElement.querySelector(e)}querySelectorAll(e){return this.element.nativeElement.querySelectorAll(e)}findFocusable(){return((i,n=!0)=>a9(this.element.nativeElement,e=>are(e,n)))(0,!1)}findFocusableChild(e){return e||(e=this.findFocusable()),((i,n=!0)=>a9(i,e=>are(e,n),!1))(e,!1)}findNextFocusableSibling(e){return e||(e=this.findFocusable()),T6e(e,!1)}findPrevFocusableSibling(e){return e||(e=this.findFocusable()),T6e(e,!1,!0)}setAttribute(e,t,o){this.renderer.setAttribute(e,t,o)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),A6e=(()=>{class i{constructor(e,t,o,r){this.element=e,this.renderer=t,this.rendererService=o,this.refreshService=r,this.rendererClick=new s.bkB,this.hostClass=!0,this.rendererService.element=e,this.rendererService.renderer=this,this.refreshSubscription=this.refreshService.onRefresh.subscribe(a=>{this.tool===a&&this.refresh()})}get spacerClass(){return"toolbar"===this.location&&this.isSpacer}get isSpacer(){return this.tool&&this.tool.__isSpacer}onClick(e){this.rendererClick.emit({context:this,event:e})}ngOnInit(){this.resizable?"toolbar"===this.location?(this.template=this.tool.toolbarTemplate,this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.renderer.setStyle(this.element.nativeElement,"display","none")):(this.template=this.tool.popupTemplate,this.renderer.setStyle(this.element.nativeElement,"display","none")):(this.tool.overflows=!1,this.template=this.tool.toolbarTemplate,this.renderer.setStyle(this.element.nativeElement,"visibility","visible"),this.renderer.setStyle(this.element.nativeElement,"display","inline-block"))}ngOnDestroy(){this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.resizable&&this.refresh()}get width(){return this.isSpacer?18:this.tool.overflows?0:function fFt(i){let n=i.offsetWidth;const e=getComputedStyle(i);return n+=parseFloat(e.marginLeft)||0+parseFloat(e.marginRight)||0,n}(this.element.nativeElement)}isDisplayed(){return"none"!==this.element.nativeElement.style.display}refresh(){this.resizable&&("toolbar"===this.location?(this.renderer.setStyle(this.element.nativeElement,"visibility",this.tool.visibility),this.renderer.setStyle(this.element.nativeElement,"display",this.tool.toolbarDisplay)):this.renderer.setStyle(this.element.nativeElement,"display",this.tool.overflowDisplay))}setAttribute(e,t,o){this.renderer.setAttribute(e,t,o)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(R6e),s.rXU(rre))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-toolbar-renderer"]],hostVars:4,hostBindings:function(e,t){1&e&&s.bIt("click",function(r){return t.onClick(r)}),2&e&&s.AVh("k-spacer",t.spacerClass)("k-toolbar-renderer",t.hostClass)},inputs:{tool:"tool",location:"location",resizable:"resizable"},outputs:{rendererClick:"rendererClick"},exportAs:["kendoToolBarRenderer"],features:[s.Jv_([R6e])],decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&s.DNE(0,SUt,2,1,"ng-container",0)(1,CUt,2,1,"ng-container",0),2&e&&(s.Y8G("ngIf","toolbar"===t.location),s.R7$(),s.Y8G("ngIf","overflow"===t.location&&t.tool.responsive))},dependencies:[q,qe],encapsulation:2}),i})(),c9=(()=>{class i extends yi{}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275dir=s.FsC({type:i,selectors:[["kendo-toolbar-messages-base"]],inputs:{moreToolsTitle:"moreToolsTitle"},features:[s.Vt3]}),i})(),x6e=(()=>{class i extends c9{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoToolbarLocalizedMessages",""]],features:[s.Jv_([{provide:c9,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})();const L6e=i=>({animate:!0,anchorAlign:{horizontal:i?"left":"right",vertical:"bottom"},popupAlign:{horizontal:i?"left":"right",vertical:"top"}});let ep=(()=>{class i{constructor(e,t,o,r,a,l,c,u){this.localization=e,this.popupService=t,this.refreshService=o,this.navigationService=r,this.element=a,this.zone=l,this.renderer=c,this._cdr=u,this.overflow=!1,this.tabindex=0,this.open=new s.bkB,this.close=new s.bkB,this.hostClass=!0,this.cancelRenderedToolsSubscription$=new Ke.B,this._size="medium",this.overflowButtonClickedTime=null,this.subscriptions=new be.yU,this.popupSubs=new be.yU,this.role="toolbar",this.moreVerticalIcon=oD,this.overflowBtnId=tn(),this.popupId=tn(),(0,_t.$)(hFt),this.direction=e.rtl?"rtl":"ltr"}get overflowClass(){return`k-button-${fre[this.size]}`}set resizable(e){this.overflow=e}get resizable(){return this.overflow}set popupSettings(e){this._popupSettings=Object.assign({},L6e(this.localization.rtl),e)}get popupSettings(){return this._popupSettings||L6e(this.localization.rtl)}set size(e){const t=e||"medium";this.handleClasses(t,"size"),this._size=t}get size(){return this._size}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}set popupOpen(e){if(this.popupOpen===e)return;const t=new I6e;e?this.open.emit(t):this.close.emit(t),!t.isDefaultPrevented()&&this.toggle(e)}get popupOpen(){return this._open}onFocus(e){this.navigationService.resetNavigation(),this.navigationService.focusFirst(e),this.element.nativeElement.setAttribute("tabindex","-1")}onFocusOut(e){O6e(e.relatedTarget,t=>t===this.element.nativeElement)?this.element.nativeElement.setAttribute("tabindex","-1"):this.element.nativeElement.setAttribute("tabindex",this.tabindex.toString())}get getDir(){return this.direction}get resizableClass(){return this.overflow}ngAfterViewInit(){this.element.nativeElement.getAttribute("tabindex")||this.element.nativeElement.setAttribute("tabindex","0"),this.zone.runOutsideAngular(()=>{this.toolbarKeydownListener=this.renderer.listen(this.element.nativeElement,"keydown",t=>{switch(t.keyCode){case G.ArrowLeft:this.zone.run(()=>{t.preventDefault(),"ltr"===this.direction?this.navigationService.focusPrev(t):this.navigationService.focusNext(t),this.element.nativeElement.setAttribute("tabindex","-1")});break;case G.ArrowRight:this.zone.run(()=>{t.preventDefault(),"ltr"===this.direction?this.navigationService.focusNext(t):this.navigationService.focusPrev(t),this.element.nativeElement.setAttribute("tabindex","-1")});break;case G.Tab:this.zone.run(()=>this.navigationService.resetNavigation());break;case G.Escape:this.zone.run(()=>this.toggle(!1));break;case G.Home:this.zone.run(()=>this.navigationService.focusFirst(t));break;case G.End:this.zone.run(()=>this.navigationService.focusLast(t))}})}),this.overflow&&(this.subscriptions.add(Bt(this.resizeSensor.resize,this.renderedTools.changes).subscribe(()=>this.onResize())),this.navigationService.overflowButton=this.overflowButton,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.onResize()})})})),this.navigationService.setRenderedTools(this.renderedTools.toArray()),this.subscriptions.add(this.renderedTools.changes.subscribe(t=>this.navigationService.setRenderedTools(t.toArray()))),this.handleClasses(this.size,"size")}ngOnInit(){this.subscriptions.add(this.localization.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr")),this.zone.onStable.pipe(We(1)).subscribe(()=>this.onResize()),ne()&&this.zone.runOutsideAngular(()=>this.subscriptions.add(Dt(document,"click").pipe(X(()=>!!this.popupRef),X(e=>!this.popupRef.popup.instance.container.nativeElement.contains(e.target)),X(e=>!this.overflowButton.nativeElement.contains(e.target))).subscribe(()=>{this.zone.run(()=>{this.popupOpen=!1})})))}ngOnChanges(e){e.tabindex&&this.element.nativeElement.setAttribute("tabindex",e.tabindex.currentValue.toString())}ngOnDestroy(){this.destroyPopup(),this.toolbarKeydownListener&&this.toolbarKeydownListener(),this.cancelRenderedToolsSubscription$.next(),this.subscriptions.unsubscribe()}get moreToolsTitle(){return this.localization.get("moreToolsTitle")}get cdr(){return this._cdr}onRendererClick(e){this.navigationService.click(e),this.element.nativeElement.setAttribute("tabindex","-1")}showPopup(){this.popupOpen=!this.popupOpen,this.navigationService.click({context:void 0,event:void 0}),this.overflowButtonClickedTime=Date.now()}toggle(e){this._open=void 0!==e?e:!this.popupOpen,this.popupRef&&(this.popupRef.close(),this.popupRef=null),this.popupOpen&&(this.popupRef=this.popupService.open({anchor:this.overflowButton,anchorAlign:this.popupSettings.anchorAlign,popupAlign:this.popupSettings.popupAlign,content:this.popupTemplate,appendTo:this.appendTo,animate:this.popupSettings.animate,popupClass:this.normalizePopupClasses(this.popupSettings.popupClass),positionMode:"absolute"}),this.setPopupContentDimensions(),this.popupSubs.add(this.popupRef.popupOpen.subscribe(this.onPopupOpen.bind(this))),this.popupSubs.add(this.popupRef.popupClose.subscribe(this.onPopupClose.bind(this))))}onResize(){if(ne()){const e=function mFt(i){let n=i.offsetWidth;const e=getComputedStyle(i);return n-=parseFloat(e.paddingLeft)||0+parseFloat(e.borderLeftWidth)||0,n-=parseFloat(e.paddingRight)||0+parseFloat(e.borderRightWidth)||0,n}(this.element.nativeElement)-this.overflowAnchorWidth;this.shrink(e,this.childrenWidth),this.stretch(e,this.childrenWidth),this.displayAnchor(),this.resizeSensor?.acceptSize();const t=Date.now()-this.overflowButtonClickedTime<300;this.popupOpen&&!t&&this.toggle()}}onPopupOpen(){this.zone.runOutsideAngular(()=>{this.overflowKeydownListener=this.renderer.listen(this.popupRef.popupElement,"keydown",e=>{const t=this.overflowRenderedTools.toArray().find(o=>O6e(e.target,r=>r===o.element.nativeElement));switch(e.keyCode){case G.ArrowUp:this.zone.run(()=>{e.preventDefault(),this.navigationService.focusPrev(e)});break;case G.ArrowDown:this.zone.run(()=>{e.preventDefault(),this.navigationService.focusNext(e)});break;case G.Escape:this.zone.run(()=>this.toggle(!1));const o=new I6e;this.close.emit(o);break;case G.Tab:this.zone.run(()=>{this.toggle(!1),this.navigationService.resetNavigation()});break;case G.Enter:case G.Space:this.zone.run(()=>{t&&(e.preventDefault(),e.target.click(),e.target.focus())})}})}),this.cancelRenderedToolsSubscription$.next(),this.navigationService.moveFocusToPopup(),this.navigationService.setRenderedTools(this.overflowRenderedTools.toArray()),this.overflowRenderedTools.changes.pipe(mo(this.cancelRenderedToolsSubscription$)).subscribe(e=>this.navigationService.setRenderedTools(e.toArray())),this.renderer.setAttribute(this.overflowButton.nativeElement,"aria-controls",this.popupId)}onPopupClose(){this.cancelRenderedToolsSubscription$.next(),this.navigationService.setRenderedTools(this.renderedTools.toArray()),this.renderedTools.changes.pipe(mo(this.cancelRenderedToolsSubscription$)).subscribe(e=>this.navigationService.setRenderedTools(e.toArray())),this.navigationService.moveFocusToToolBar(),this.overflowKeydownListener&&this.overflowKeydownListener(),this.renderer.removeAttribute(this.overflowButton.nativeElement,"aria-controls")}displayAnchor(){const e=this.allTools.filter(t=>t.overflows&&t.responsive).length>0?"visible":"hidden";this.overflowButton&&this.renderer.setStyle(this.overflowButton.nativeElement,"visibility",e)}get popupWidth(){return this.popupSettings&&this.popupSettings.width?isNaN(this.popupSettings.width)?this.popupSettings.width:`${this.popupSettings.width}px`:"auto"}get popupHeight(){if(this.popupSettings&&this.popupSettings.height)return isNaN(this.popupSettings.height)?this.popupSettings.height:`${this.popupSettings.height}px`}get overflowAnchorWidth(){return this.overflow?(this.cachedOverflowAnchorWidth||(this.cachedOverflowAnchorWidth=this.overflowButton.nativeElement.offsetWidth),this.cachedOverflowAnchorWidth):0}get gap(){if(l9(this.cachedGap))return this.cachedGap;const e=getComputedStyle(this.element.nativeElement).gap;return this.cachedGap=l9(e)?parseInt(e,10):0,this.cachedGap}get childrenWidth(){const e=this.renderedTools.reduce((t,o)=>o.width+t+(o.isDisplayed()?this.gap:0),0);return Math.ceil(e)}get visibleTools(){return this.allTools.filter(e=>!1===e.overflows)}get overflowTools(){return this.allTools.filter(e=>!0===e.overflows)}shrink(e,t){let o;if(e<t)for(let r=this.visibleTools.length-1;r>=0&&!(e>t);r--)o=this.hideLastVisibleTool(),t-=o}stretch(e,t){let o;if(e>t)for(let r=this.overflowTools.length-1;r>=0&&(o=this.showFirstHiddenTool(e,t),o);r--)t+=o+this.gap}hideLastVisibleTool(){const e=this.visibleTools[this.visibleTools.length-1],o=this.renderedTools.find(r=>r.tool===e).width;return e.overflows=!0,this.refreshService.refresh(e),o}showFirstHiddenTool(e,t){const o=this.overflowTools[0],r=this.renderedTools.find(a=>a.tool===o);return o.overflows=!1,o.visibility="hidden",this.refreshService.refresh(o),e>t+r.width?(o.visibility="visible",this.refreshService.refresh(o)):(o.overflows=!0,this.refreshService.refresh(o)),r.width}setPopupContentDimensions(){const e=this.popupRef.popup.instance.contentContainer.nativeElement;e.style.width=this.popupWidth,e.style.height=this.popupHeight,e.style.overflow="auto"}destroyPopup(){this.popupRef&&(this.popupSubs.unsubscribe(),this.popupRef.close(),this.popupRef=null)}handleClasses(e,t){const o=this.element.nativeElement,r=((i,n,e,t)=>{if("size"===n)return{toRemove:`k-${i}-${fre[e]}`,toAdd:"none"!==t?`k-${i}-${fre[t]}`:""}})("toolbar",t,this[t],e);r.toRemove&&this.renderer.removeClass(o,r.toRemove),r.toAdd&&this.renderer.addClass(o,r.toAdd)}normalizePopupClasses(e){let t=["k-menu-popup","k-toolbar-popup"];if(!e)return t;if("string"==typeof e)t.push(...e.split(" "));else if(Array.isArray(e))t=[...t,...e];else for(const o in e)t.push(e[o]);return t}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z),s.rXU(Ts),s.rXU(rre),s.rXU(M6e),s.rXU(s.aKT),s.rXU(s.SKi),s.rXU(s.sFG),s.rXU(s.gRc))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-toolbar"]],contentQueries:function(e,t,o){if(1&e&&s.wni(o,yo,4),2&e){let r;s.mGM(r=s.lsd())&&(t.allTools=r)}},viewQuery:function(e,t){if(1&e&&(s.GBs(w6e,5,s.aKT),s.GBs(vb,7),s.GBs(bUt,5),s.GBs(EUt,7,s.c1b),s.GBs(yUt,5),s.GBs(DUt,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.overflowButton=o.first),s.mGM(o=s.lsd())&&(t.popupTemplate=o.first),s.mGM(o=s.lsd())&&(t.resizeSensor=o.first),s.mGM(o=s.lsd())&&(t.container=o.first),s.mGM(o=s.lsd())&&(t.renderedTools=o),s.mGM(o=s.lsd())&&(t.overflowRenderedTools=o)}},hostVars:6,hostBindings:function(e,t){1&e&&s.bIt("focus",function(r){return t.onFocus(r)})("focusout",function(r){return t.onFocusOut(r)}),2&e&&(s.BMQ("role",t.role)("dir",t.getDir),s.AVh("k-toolbar",t.hostClass)("k-toolbar-resizable",t.resizableClass))},inputs:{overflow:"overflow",resizable:"resizable",popupSettings:"popupSettings",tabindex:"tabindex",size:"size",tabIndex:"tabIndex"},outputs:{open:"open",close:"close"},exportAs:["kendoToolBar"],features:[s.Jv_([rre,M6e,z,{provide:He,useValue:"kendo.toolbar"}]),s.OA$],decls:8,vars:3,consts:()=>{let n;return n="Altri strumenti",[["popupTemplate",""],["container",""],["toolbarRenderer",""],["overflowButton",""],["overflowRenderer",""],["resizeSensor",""],["kendoToolbarLocalizedMessages","","moreToolsTitle",n],[4,"ngFor","ngForOf"],["kendoButton","","fillMode","flat","type","button","icon","more-vertical","tabindex","-1","aria-haspopup","menu","class","k-toolbar-overflow-button",3,"svgIcon","title","id","visibility","position","margin-inline-start","ngClass","click",4,"ngIf"],[4,"ngIf"],[3,"rendererClick","location","resizable","tool"],["kendoButton","","fillMode","flat","type","button","icon","more-vertical","tabindex","-1","aria-haspopup","menu",1,"k-toolbar-overflow-button",3,"click","svgIcon","title","id","ngClass"],["role","menu",1,"k-menu-group","k-menu-group-md",3,"id"]]},template:function(e,t){1&e&&(s.eu8(0,6),s.DNE(1,wUt,3,3,"ng-container",7)(2,kUt,2,12,"button",8)(3,TUt,2,3,"ng-template",null,0,s.C5r),s.eu8(5,null,1),s.DNE(7,MUt,2,0,"kendo-resize-sensor",9)),2&e&&(s.R7$(),s.Y8G("ngForOf",t.allTools),s.R7$(),s.Y8G("ngIf",t.overflow),s.R7$(5),s.Y8G("ngIf",t.overflow))},dependencies:[A6e,Ht,hs,x6e,ut,q,Be],encapsulation:2}),i})(),Nn=(()=>{class i extends yo{constructor(e,t){super(),this.element=e,this.zone=t,this.showIcon="both",this.toggleable=!1,this.selected=!1,this.fillMode="solid",this.themeColor="base",this.click=new s.bkB,this.pointerdown=new s.bkB,this.selectedChange=new s.bkB,this.toolbarOptions={text:"",icon:"",iconClass:"",svgIcon:null,imageUrl:""},this.overflowOptions={text:"",icon:"",iconClass:"",svgIcon:null,imageUrl:""},this._showText="both"}set showText(e){this._showText=e,this.setTextDisplayMode()}get showText(){return this._showText}set text(e){this._text=e,this.setTextDisplayMode()}get text(){return this._text}set look(e){e&&(this.fillMode="default"===e?"solid":e)}get togglable(){return this.toggleable}set togglable(e){this.toggleable=e}set icon(e){this.toolbarOptions.icon=Eo(e,this.showIcon,!1),this.overflowOptions.icon=Eo(e,this.showIcon,!0)}set iconClass(e){this.toolbarOptions.iconClass=Eo(e,this.showIcon,!1),this.overflowOptions.iconClass=Eo(e,this.showIcon,!0)}set svgIcon(e){const t=this.toolbarOptions.icon||this.overflowOptions.icon,o=this.toolbarOptions.iconClass||this.overflowOptions.iconClass;if((0,s.naY)()&&e&&t&&o)throw new Error("Setting both icon/svgIcon and iconClass options at the same time is not supported.");this.toolbarOptions.svgIcon=Eo(e,this.showIcon,!1),this.overflowOptions.svgIcon=Eo(e,this.showIcon,!0)}set imageUrl(e){this.toolbarOptions.imageUrl=Eo(e,this.showIcon,!1),this.overflowOptions.imageUrl=Eo(e,this.showIcon,!0)}ngOnInit(){this.setTextDisplayMode()}onBlur(){this.getButton().tabIndex=-1}canFocus(){return!this.disabled}focus(e){(!e||"focus"===e.type||"keydown"===e.type)&&this.getButton().focus(),this.getButton().tabIndex=0}handleKey(){return this.getButton().tabIndex=-1,!1}get toolbarButtonClass(){return this.toggleable?"k-toolbar-toggle-button":"k-toolbar-button"}handleClick(e){this.click.emit(e),this.toggleable&&(this.selected=!this.selected,this.selectedChange.emit(this.selected))}selectedChangeHandler(e){this.selected=e,this.selectedChange.emit(e)}getButton(){return(this.overflowButtonElement||this.toolbarButtonElement).nativeElement}setTextDisplayMode(){this.toolbarOptions.text="overflow"===this.showText?void 0:this.text,this.zone.onStable.pipe(We(1)).subscribe(()=>{this.overflowOptions.text="toolbar"===this.showText?void 0:this.text})}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.SKi))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-toolbar-button"]],viewQuery:function(e,t){if(1&e&&(s.GBs(Xk,7),s.GBs(vb,7),s.GBs(IUt,5,s.aKT),s.GBs(w6e,5,s.aKT)),2&e){let o;s.mGM(o=s.lsd())&&(t.toolbarTemplate=o.first),s.mGM(o=s.lsd())&&(t.popupTemplate=o.first),s.mGM(o=s.lsd())&&(t.toolbarButtonElement=o.first),s.mGM(o=s.lsd())&&(t.overflowButtonElement=o.first)}},inputs:{showText:"showText",showIcon:"showIcon",text:"text",style:"style",className:"className",title:"title",disabled:"disabled",toggleable:"toggleable",look:"look",togglable:"togglable",selected:"selected",fillMode:"fillMode",themeColor:"themeColor",icon:"icon",iconClass:"iconClass",svgIcon:"svgIcon",imageUrl:"imageUrl"},outputs:{click:"click",pointerdown:"pointerdown",selectedChange:"selectedChange"},exportAs:["kendoToolBarButton"],features:[s.Jv_([{provide:yo,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:4,vars:0,consts:[["toolbarTemplate",""],["popupTemplate",""],["toolbarButton",""],["overflowButton",""],["type","button","kendoButton","",3,"click","pointerdown","selectedChange","blur","tabindex","ngStyle","ngClass","disabled","toggleable","fillMode","themeColor","selected","icon","iconClass","svgIcon","imageUrl"],["tabindex","-1","role","menuitem",1,"k-item","k-menu-item",3,"click","ngClass","ngStyle"],[1,"k-link","k-menu-link"],[3,"name","customFontClass","svgIcon",4,"ngIf"],["class","k-menu-link-text",4,"ngIf"],[3,"name","customFontClass","svgIcon"],[1,"k-menu-link-text"]],template:function(e,t){1&e&&s.DNE(0,RUt,3,16,"ng-template",null,0,s.C5r)(2,NUt,5,8,"ng-template",null,1,s.C5r)},dependencies:[Ht,Qe,Wn,Be,q],encapsulation:2}),i})(),ug=(()=>{class i extends yo{constructor(e){super(),this.localization=e,this.selection="multiple",this.focusedIndex=-1,this.getNextKey=((i=!1)=>(n=!0)=>n?G.ArrowDown:i?G.ArrowLeft:G.ArrowRight)(this.localization.rtl),this.getPrevKey=((i=!1)=>(n=!0)=>n?G.ArrowUp:i?G.ArrowRight:G.ArrowLeft)(this.localization.rtl)}set look(e){e&&this.buttonComponents.forEach(t=>t.fillMode="default"===e?"solid":e)}get buttonElements(){return this.overflows?[...this.overflowListItems.toArray().filter(e=>!e.nativeElement.classList.contains("k-disabled"))].map(e=>e.nativeElement):this.toolbarButtonGroup.buttons.filter(e=>!e.isDisabled).map(e=>e.element)}onFocus(){this.focusedIndex=0}onNavigate(e){e.preventDefault()}selectedChangeHandler(e,t){t.selected=e,t.selectedChange.emit(e)}overflowSelectedChangeHandler(e){"multiple"===this.selection||this.buttonComponents.filter(o=>o!==e).forEach(o=>o.selected=!1),e.selected=!e.selected,e.selectedChange.emit(e.selected)}onButtonClick(e){this.focusedIndex=this.buttonElements.findIndex(t=>t===e.target||t.contains(e.target)),this.focusButton(this.focusedIndex,e)}canFocus(){return!(this.disabled||0===this.buttonElements.length)}focus(e={}){const t=this.getNextKey(this.overflows),o=this.getPrevKey(this.overflows);this.focusedIndex=((i,n,e)=>t=>{switch(t.type){case"keydown":if(t.keyCode===i)return e.length-1;if(t.keyCode===n)return 0;break;case"click":return e.findIndex(o=>o===t.target||o.contains(t.target));default:return 0}})(o,t,this.buttonElements)(e),this.focusButton(this.focusedIndex,e)}handleKey(e){const t=this.getNextKey(this.overflows),o=this.getPrevKey(this.overflows),r=(i=>n=>l9(i[n]))(this.buttonElements),a=(i=>n=>i===n)(this.focusedIndex);return this.focusedIndex=((i,n,e)=>(t,o)=>{switch(o.keyCode){case i:return e(t-1)?t-1:t;case n:return e(t+1)?t+1:t;default:return t}})(o,t,r)(this.focusedIndex,e),this.focusButton(this.focusedIndex,e),!a(this.focusedIndex)}handleClick(e,t){t.click.emit(e),this.onButtonClick(e),this.overflowSelectedChangeHandler(t)}getIconClasses(e){return e.overflowOptions.icon?`${e.overflowOptions.icon}`:e.overflowOptions.iconClass?e.overflowOptions.iconClass:e.overflowOptions.svgIcon?e.overflowOptions.svgIcon:void 0}focusButton(e,t){(!t.type||"focus"===t.type||"keydown"===t.type)&&this.buttonElements[e]?.focus()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-toolbar-buttongroup"]],contentQueries:function(e,t,o){if(1&e&&s.wni(o,Nn,4),2&e){let r;s.mGM(r=s.lsd())&&(t.buttonComponents=r)}},viewQuery:function(e,t){if(1&e&&(s.GBs(Xk,7),s.GBs(vb,7),s.GBs(LUt,5),s.GBs(ore,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.toolbarTemplate=o.first),s.mGM(o=s.lsd())&&(t.popupTemplate=o.first),s.mGM(o=s.lsd())&&(t.toolbarButtonGroup=o.first),s.mGM(o=s.lsd())&&(t.overflowListItems=o)}},inputs:{disabled:"disabled",selection:"selection",width:"width",look:"look"},exportAs:["kendoToolBarButtonGroup"],features:[s.Jv_([z,{provide:yo,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:4,vars:0,consts:[["toolbarTemplate",""],["popupTemplate",""],["toolbarButtonGroup",""],["listItem",""],[1,"k-toolbar-button-group",3,"navigate","focus","tabIndex","selection","disabled","width"],["kendoButton","",3,"ngStyle","ngClass","disabled","togglable","selected","fillMode","themeColor","icon","iconClass","svgIcon","imageUrl","click","pointerdown","selectedChange",4,"ngFor","ngForOf"],["kendoButton","",3,"click","pointerdown","selectedChange","ngStyle","ngClass","disabled","togglable","selected","fillMode","themeColor","icon","iconClass","svgIcon","imageUrl"],[4,"ngFor","ngForOf"],["tabindex","-1","role","menuitem",1,"k-item","k-menu-item",3,"click","ngStyle","ngClass"],[1,"k-link","k-menu-link"],[3,"name","customFontClass","svgIcon",4,"ngIf"],["class","k-menu-link-text",4,"ngIf"],[3,"name","customFontClass","svgIcon"],[1,"k-menu-link-text"]],template:function(e,t){1&e&&s.DNE(0,GUt,3,5,"ng-template",null,0,s.C5r)(2,VUt,1,1,"ng-template",null,1,s.C5r)},dependencies:[SJ,Ht,Qe,ut,Wn,Be,q],encapsulation:2}),i})(),P6e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,ID,ia,Mr,xn]]}),i})();function gl(i){this.content=i}gl.prototype={constructor:gl,find:function(i){for(var n=0;n<this.content.length;n+=2)if(this.content[n]===i)return n;return-1},get:function(i){var n=this.find(i);return-1==n?void 0:this.content[n+1]},update:function(i,n,e){var t=e&&e!=i?this.remove(e):this,o=t.find(i),r=t.content.slice();return-1==o?r.push(e||i,n):(r[o+1]=n,e&&(r[o]=e)),new gl(r)},remove:function(i){var n=this.find(i);if(-1==n)return this;var e=this.content.slice();return e.splice(n,2),new gl(e)},addToStart:function(i,n){return new gl([i,n].concat(this.remove(i).content))},addToEnd:function(i,n){var e=this.remove(i).content.slice();return e.push(i,n),new gl(e)},addBefore:function(i,n,e){var t=this.remove(n),o=t.content.slice(),r=t.find(i);return o.splice(-1==r?o.length:r,0,n,e),new gl(o)},forEach:function(i){for(var n=0;n<this.content.length;n+=2)i(this.content[n],this.content[n+1])},prepend:function(i){return(i=gl.from(i)).size?new gl(i.content.concat(this.subtract(i).content)):this},append:function(i){return(i=gl.from(i)).size?new gl(this.subtract(i).content.concat(i.content)):this},subtract:function(i){var n=this;i=gl.from(i);for(var e=0;e<i.content.length;e+=2)n=n.remove(i.content[e]);return n},toObject:function(){var i={};return this.forEach(function(n,e){i[n]=e}),i},get size(){return this.content.length>>1}},gl.from=function(i){if(i instanceof gl)return i;var n=[];if(i)for(var e in i)n.push(e,i[e]);return new gl(n)};const G6e=gl;function U6e(i,n,e){for(let t=0;;t++){if(t==i.childCount||t==n.childCount)return i.childCount==n.childCount?null:e;let o=i.child(t),r=n.child(t);if(o!=r){if(!o.sameMarkup(r))return e;if(o.isText&&o.text!=r.text){for(let a=0;o.text[a]==r.text[a];a++)e++;return e}if(o.content.size||r.content.size){let a=U6e(o.content,r.content,e+1);if(null!=a)return a}e+=o.nodeSize}else e+=o.nodeSize}}function F6e(i,n,e,t){for(let o=i.childCount,r=n.childCount;;){if(0==o||0==r)return o==r?null:{a:e,b:t};let a=i.child(--o),l=n.child(--r),c=a.nodeSize;if(a!=l){if(!a.sameMarkup(l))return{a:e,b:t};if(a.isText&&a.text!=l.text){let u=0,f=Math.min(a.text.length,l.text.length);for(;u<f&&a.text[a.text.length-u-1]==l.text[l.text.length-u-1];)u++,e--,t--;return{a:e,b:t}}if(a.content.size||l.content.size){let u=F6e(a.content,l.content,e-1,t-1);if(u)return u}e-=c,t-=c}else e-=c,t-=c}}class Oe{constructor(n,e){if(this.content=n,this.size=e||0,null==e)for(let t=0;t<n.length;t++)this.size+=n[t].nodeSize}nodesBetween(n,e,t,o=0,r){for(let a=0,l=0;l<e;a++){let c=this.content[a],u=l+c.nodeSize;if(u>n&&!1!==t(c,o+l,r||null,a)&&c.content.size){let f=l+1;c.nodesBetween(Math.max(0,n-f),Math.min(c.content.size,e-f),t,o+f)}l=u}}descendants(n){this.nodesBetween(0,this.size,n)}textBetween(n,e,t,o){let r="",a=!0;return this.nodesBetween(n,e,(l,c)=>{l.isText?(r+=l.text.slice(Math.max(n,c)-c,e-c),a=!t):l.isLeaf?(o?r+="function"==typeof o?o(l):o:l.type.spec.leafText&&(r+=l.type.spec.leafText(l)),a=!t):!a&&l.isBlock&&(r+=t,a=!0)},0),r}append(n){if(!n.size)return this;if(!this.size)return n;let e=this.lastChild,t=n.firstChild,o=this.content.slice(),r=0;for(e.isText&&e.sameMarkup(t)&&(o[o.length-1]=e.withText(e.text+t.text),r=1);r<n.content.length;r++)o.push(n.content[r]);return new Oe(o,this.size+n.size)}cut(n,e=this.size){if(0==n&&e==this.size)return this;let t=[],o=0;if(e>n)for(let r=0,a=0;a<e;r++){let l=this.content[r],c=a+l.nodeSize;c>n&&((a<n||c>e)&&(l=l.isText?l.cut(Math.max(0,n-a),Math.min(l.text.length,e-a)):l.cut(Math.max(0,n-a-1),Math.min(l.content.size,e-a-1))),t.push(l),o+=l.nodeSize),a=c}return new Oe(t,o)}cutByIndex(n,e){return n==e?Oe.empty:0==n&&e==this.content.length?this:new Oe(this.content.slice(n,e))}replaceChild(n,e){let t=this.content[n];if(t==e)return this;let o=this.content.slice(),r=this.size+e.nodeSize-t.nodeSize;return o[n]=e,new Oe(o,r)}addToStart(n){return new Oe([n].concat(this.content),this.size+n.nodeSize)}addToEnd(n){return new Oe(this.content.concat(n),this.size+n.nodeSize)}eq(n){if(this.content.length!=n.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(n.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(n){let e=this.content[n];if(!e)throw new RangeError("Index "+n+" out of range for "+this);return e}maybeChild(n){return this.content[n]||null}forEach(n){for(let e=0,t=0;e<this.content.length;e++){let o=this.content[e];n(o,t,e),t+=o.nodeSize}}findDiffStart(n,e=0){return U6e(this,n,e)}findDiffEnd(n,e=this.size,t=n.size){return F6e(this,n,e,t)}findIndex(n,e=-1){if(0==n)return d9(0,n);if(n==this.size)return d9(this.content.length,n);if(n>this.size||n<0)throw new RangeError(`Position ${n} outside of fragment (${this})`);for(let t=0,o=0;;t++){let a=o+this.child(t).nodeSize;if(a>=n)return a==n||e>0?d9(t+1,a):d9(t,o);o=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(n=>n.toJSON()):null}static fromJSON(n,e){if(!e)return Oe.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new Oe(e.map(n.nodeFromJSON))}static fromArray(n){if(!n.length)return Oe.empty;let e,t=0;for(let o=0;o<n.length;o++){let r=n[o];t+=r.nodeSize,o&&r.isText&&n[o-1].sameMarkup(r)?(e||(e=n.slice(0,o)),e[e.length-1]=r.withText(e[e.length-1].text+r.text)):e&&e.push(r)}return new Oe(e||n,t)}static from(n){if(!n)return Oe.empty;if(n instanceof Oe)return n;if(Array.isArray(n))return this.fromArray(n);if(n.attrs)return new Oe([n],n.nodeSize);throw new RangeError("Can not convert "+n+" to a Fragment"+(n.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Oe.empty=new Oe([],0);const mre={index:0,offset:0};function d9(i,n){return mre.index=i,mre.offset=n,mre}function u9(i,n){if(i===n)return!0;if(!i||"object"!=typeof i||!n||"object"!=typeof n)return!1;let e=Array.isArray(i);if(Array.isArray(n)!=e)return!1;if(e){if(i.length!=n.length)return!1;for(let t=0;t<i.length;t++)if(!u9(i[t],n[t]))return!1}else{for(let t in i)if(!(t in n)||!u9(i[t],n[t]))return!1;for(let t in n)if(!(t in i))return!1}return!0}let Bs=(()=>{class i{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,o=!1;for(let r=0;r<e.length;r++){let a=e[r];if(this.eq(a))return e;if(this.type.excludes(a.type))t||(t=e.slice(0,r));else{if(a.type.excludes(this.type))return e;!o&&a.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),o=!0),t&&t.push(a)}}return t||(t=e.slice()),o||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&u9(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let o=e.marks[t.type];if(!o)throw new RangeError(`There is no mark type ${t.type} in this schema`);return o.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let o=0;o<e.length;o++)if(!e[o].eq(t[o]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return i.none;if(e instanceof i)return[e];let t=e.slice();return t.sort((o,r)=>o.type.rank-r.type.rank),t}}return i.none=[],i})();class h9 extends Error{}class tt{constructor(n,e,t){this.content=n,this.openStart=e,this.openEnd=t}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(n,e){let t=V6e(this.content,n+this.openStart,e);return t&&new tt(t,this.openStart,this.openEnd)}removeBetween(n,e){return new tt(B6e(this.content,n+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(n){return this.content.eq(n.content)&&this.openStart==n.openStart&&this.openEnd==n.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let n={content:this.content.toJSON()};return this.openStart>0&&(n.openStart=this.openStart),this.openEnd>0&&(n.openEnd=this.openEnd),n}static fromJSON(n,e){if(!e)return tt.empty;let t=e.openStart||0,o=e.openEnd||0;if("number"!=typeof t||"number"!=typeof o)throw new RangeError("Invalid input for Slice.fromJSON");return new tt(Oe.fromJSON(n,e.content),t,o)}static maxOpen(n,e=!0){let t=0,o=0;for(let r=n.firstChild;r&&!r.isLeaf&&(e||!r.type.spec.isolating);r=r.firstChild)t++;for(let r=n.lastChild;r&&!r.isLeaf&&(e||!r.type.spec.isolating);r=r.lastChild)o++;return new tt(n,t,o)}}function B6e(i,n,e){let{index:t,offset:o}=i.findIndex(n),r=i.maybeChild(t),{index:a,offset:l}=i.findIndex(e);if(o==n||r.isText){if(l!=e&&!i.child(a).isText)throw new RangeError("Removing non-flat range");return i.cut(0,n).append(i.cut(e))}if(t!=a)throw new RangeError("Removing non-flat range");return i.replaceChild(t,r.copy(B6e(r.content,n-o-1,e-o-1)))}function V6e(i,n,e,t){let{index:o,offset:r}=i.findIndex(n),a=i.maybeChild(o);if(r==n||a.isText)return t&&!t.canReplace(o,o,e)?null:i.cut(0,n).append(e).append(i.cut(n));let l=V6e(a.content,n-r-1,e);return l&&i.replaceChild(o,a.copy(l))}function TFt(i,n,e){if(e.openStart>i.depth)throw new h9("Inserted content deeper than insertion position");if(i.depth-e.openStart!=n.depth-e.openEnd)throw new h9("Inconsistent open depths");return z6e(i,n,e,0)}function z6e(i,n,e,t){let o=i.index(t),r=i.node(t);if(o==n.index(t)&&t<i.depth-e.openStart){let a=z6e(i,n,e,t+1);return r.copy(r.content.replaceChild(o,a))}if(e.content.size){if(e.openStart||e.openEnd||i.depth!=t||n.depth!=t){let{start:a,end:l}=function MFt(i,n){let e=n.depth-i.openStart,o=n.node(e).copy(i.content);for(let r=e-1;r>=0;r--)o=n.node(r).copy(Oe.from(o));return{start:o.resolveNoCache(i.openStart+e),end:o.resolveNoCache(o.content.size-i.openEnd-e)}}(e,i);return bb(r,j6e(i,a,l,n,t))}{let a=i.parent,l=a.content;return bb(a,l.cut(0,i.parentOffset).append(e.content).append(l.cut(n.parentOffset)))}}return bb(r,p9(i,n,t))}function H6e(i,n){if(!n.type.compatibleContent(i.type))throw new h9("Cannot join "+n.type.name+" onto "+i.type.name)}function _re(i,n,e){let t=i.node(e);return H6e(t,n.node(e)),t}function Cb(i,n){let e=n.length-1;e>=0&&i.isText&&i.sameMarkup(n[e])?n[e]=i.withText(n[e].text+i.text):n.push(i)}function zx(i,n,e,t){let o=(n||i).node(e),r=0,a=n?n.index(e):o.childCount;i&&(r=i.index(e),i.depth>e?r++:i.textOffset&&(Cb(i.nodeAfter,t),r++));for(let l=r;l<a;l++)Cb(o.child(l),t);n&&n.depth==e&&n.textOffset&&Cb(n.nodeBefore,t)}function bb(i,n){return i.type.checkContent(n),i.copy(n)}function j6e(i,n,e,t,o){let r=i.depth>o&&_re(i,n,o+1),a=t.depth>o&&_re(e,t,o+1),l=[];return zx(null,i,o,l),r&&a&&n.index(o)==e.index(o)?(H6e(r,a),Cb(bb(r,j6e(i,n,e,t,o+1)),l)):(r&&Cb(bb(r,p9(i,n,o+1)),l),zx(n,e,o,l),a&&Cb(bb(a,p9(e,t,o+1)),l)),zx(t,null,o,l),new Oe(l)}function p9(i,n,e){let t=[];return zx(null,i,e,t),i.depth>e&&Cb(bb(_re(i,n,e+1),p9(i,n,e+1)),t),zx(n,null,e,t),new Oe(t)}tt.empty=new tt(Oe.empty,0,0);class Hx{constructor(n,e,t){this.pos=n,this.path=e,this.parentOffset=t,this.depth=e.length/3-1}resolveDepth(n){return null==n?this.depth:n<0?this.depth+n:n}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(n){return this.path[3*this.resolveDepth(n)]}index(n){return this.path[3*this.resolveDepth(n)+1]}indexAfter(n){return n=this.resolveDepth(n),this.index(n)+(n!=this.depth||this.textOffset?1:0)}start(n){return 0==(n=this.resolveDepth(n))?0:this.path[3*n-1]+1}end(n){return n=this.resolveDepth(n),this.start(n)+this.node(n).content.size}before(n){if(!(n=this.resolveDepth(n)))throw new RangeError("There is no position before the top-level node");return n==this.depth+1?this.pos:this.path[3*n-1]}after(n){if(!(n=this.resolveDepth(n)))throw new RangeError("There is no position after the top-level node");return n==this.depth+1?this.pos:this.path[3*n-1]+this.path[3*n].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let n=this.parent,e=this.index(this.depth);if(e==n.childCount)return null;let t=this.pos-this.path[this.path.length-1],o=n.child(e);return t?n.child(e).cut(t):o}get nodeBefore(){let n=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(n).cut(0,e):0==n?null:this.parent.child(n-1)}posAtIndex(n,e){e=this.resolveDepth(e);let t=this.path[3*e],o=0==e?0:this.path[3*e-1]+1;for(let r=0;r<n;r++)o+=t.child(r).nodeSize;return o}marks(){let n=this.parent,e=this.index();if(0==n.content.size)return Bs.none;if(this.textOffset)return n.child(e).marks;let t=n.maybeChild(e-1),o=n.maybeChild(e);if(!t){let l=t;t=o,o=l}let r=t.marks;for(var a=0;a<r.length;a++)!1===r[a].type.spec.inclusive&&(!o||!r[a].isInSet(o.marks))&&(r=r[a--].removeFromSet(r));return r}marksAcross(n){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let t=e.marks,o=n.parent.maybeChild(n.index());for(var r=0;r<t.length;r++)!1===t[r].type.spec.inclusive&&(!o||!t[r].isInSet(o.marks))&&(t=t[r--].removeFromSet(t));return t}sharedDepth(n){for(let e=this.depth;e>0;e--)if(this.start(e)<=n&&this.end(e)>=n)return e;return 0}blockRange(n=this,e){if(n.pos<this.pos)return n.blockRange(this);for(let t=this.depth-(this.parent.inlineContent||this.pos==n.pos?1:0);t>=0;t--)if(n.pos<=this.end(t)&&(!e||e(this.node(t))))return new jx(this,n,t);return null}sameParent(n){return this.pos-this.parentOffset==n.pos-n.parentOffset}max(n){return n.pos>this.pos?n:this}min(n){return n.pos<this.pos?n:this}toString(){let n="";for(let e=1;e<=this.depth;e++)n+=(n?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return n+":"+this.parentOffset}static resolve(n,e){if(!(e>=0&&e<=n.content.size))throw new RangeError("Position "+e+" out of range");let t=[],o=0,r=e;for(let a=n;;){let{index:l,offset:c}=a.content.findIndex(r),u=r-c;if(t.push(a,l,o+c),!u||(a=a.child(l),a.isText))break;r=u-1,o+=c+1}return new Hx(e,t,r)}static resolveCached(n,e){for(let o=0;o<gre.length;o++){let r=gre[o];if(r.pos==e&&r.doc==n)return r}let t=gre[Sre]=Hx.resolve(n,e);return Sre=(Sre+1)%IFt,t}}let gre=[],Sre=0,IFt=12;class jx{constructor(n,e,t){this.$from=n,this.$to=e,this.depth=t}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const RFt=Object.create(null);class tp{constructor(n,e,t,o=Bs.none){this.type=n,this.attrs=e,this.marks=o,this.content=t||Oe.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(n){return this.content.child(n)}maybeChild(n){return this.content.maybeChild(n)}forEach(n){this.content.forEach(n)}nodesBetween(n,e,t,o=0){this.content.nodesBetween(n,e,t,o,this)}descendants(n){this.nodesBetween(0,this.content.size,n)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(n,e,t,o){return this.content.textBetween(n,e,t,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(n){return this==n||this.sameMarkup(n)&&this.content.eq(n.content)}sameMarkup(n){return this.hasMarkup(n.type,n.attrs,n.marks)}hasMarkup(n,e,t){return this.type==n&&u9(this.attrs,e||n.defaultAttrs||RFt)&&Bs.sameSet(this.marks,t||Bs.none)}copy(n=null){return n==this.content?this:new tp(this.type,this.attrs,n,this.marks)}mark(n){return n==this.marks?this:new tp(this.type,this.attrs,this.content,n)}cut(n,e=this.content.size){return 0==n&&e==this.content.size?this:this.copy(this.content.cut(n,e))}slice(n,e=this.content.size,t=!1){if(n==e)return tt.empty;let o=this.resolve(n),r=this.resolve(e),a=t?0:o.sharedDepth(e),l=o.start(a),u=o.node(a).content.cut(o.pos-l,r.pos-l);return new tt(u,o.depth-a,r.depth-a)}replace(n,e,t){return TFt(this.resolve(n),this.resolve(e),t)}nodeAt(n){for(let e=this;;){let{index:t,offset:o}=e.content.findIndex(n);if(e=e.maybeChild(t),!e)return null;if(o==n||e.isText)return e;n-=o+1}}childAfter(n){let{index:e,offset:t}=this.content.findIndex(n);return{node:this.content.maybeChild(e),index:e,offset:t}}childBefore(n){if(0==n)return{node:null,index:0,offset:0};let{index:e,offset:t}=this.content.findIndex(n);if(t<n)return{node:this.content.child(e),index:e,offset:t};let o=this.content.child(e-1);return{node:o,index:e-1,offset:t-o.nodeSize}}resolve(n){return Hx.resolveCached(this,n)}resolveNoCache(n){return Hx.resolve(this,n)}rangeHasMark(n,e,t){let o=!1;return e>n&&this.nodesBetween(n,e,r=>(t.isInSet(r.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let n=this.type.name;return this.content.size&&(n+="("+this.content.toStringInner()+")"),$6e(this.marks,n)}contentMatchAt(n){let e=this.type.contentMatch.matchFragment(this.content,0,n);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(n,e,t=Oe.empty,o=0,r=t.childCount){let a=this.contentMatchAt(n).matchFragment(t,o,r),l=a&&a.matchFragment(this.content,e);if(!l||!l.validEnd)return!1;for(let c=o;c<r;c++)if(!this.type.allowsMarks(t.child(c).marks))return!1;return!0}canReplaceWith(n,e,t,o){if(o&&!this.type.allowsMarks(o))return!1;let r=this.contentMatchAt(n).matchType(t),a=r&&r.matchFragment(this.content,e);return!!a&&a.validEnd}canAppend(n){return n.content.size?this.canReplace(this.childCount,this.childCount,n.content):this.type.compatibleContent(n.type)}check(){this.type.checkContent(this.content);let n=Bs.none;for(let e=0;e<this.marks.length;e++)n=this.marks[e].addToSet(n);if(!Bs.sameSet(n,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let n={type:this.type.name};for(let e in this.attrs){n.attrs=this.attrs;break}return this.content.size&&(n.content=this.content.toJSON()),this.marks.length&&(n.marks=this.marks.map(e=>e.toJSON())),n}static fromJSON(n,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let t=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");t=e.marks.map(n.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return n.text(e.text,t)}let o=Oe.fromJSON(n,e.content);return n.nodeType(e.type).create(e.attrs,o,t)}}tp.prototype.text=void 0;class f9 extends tp{constructor(n,e,t,o){if(super(n,e,null,o),!t)throw new RangeError("Empty text nodes are not allowed");this.text=t}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):$6e(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(n,e){return this.text.slice(n,e)}get nodeSize(){return this.text.length}mark(n){return n==this.marks?this:new f9(this.type,this.attrs,this.text,n)}withText(n){return n==this.text?this:new f9(this.type,this.attrs,n,this.marks)}cut(n=0,e=this.text.length){return 0==n&&e==this.text.length?this:this.withText(this.text.slice(n,e))}eq(n){return this.sameMarkup(n)&&this.text==n.text}toJSON(){let n=super.toJSON();return n.text=this.text,n}}function $6e(i,n){for(let e=i.length-1;e>=0;e--)n=i[e].type.name+"("+n+")";return n}class Eb{constructor(n){this.validEnd=n,this.next=[],this.wrapCache=[]}static parse(n,e){let t=new AFt(n,e);if(null==t.next)return Eb.empty;let o=X6e(t);t.next&&t.err("Unexpected trailing text");let r=function FFt(i){let n=Object.create(null);return function e(t){let o=[];t.forEach(a=>{i[a].forEach(({term:l,to:c})=>{if(!l)return;let u;for(let f=0;f<o.length;f++)o[f][0]==l&&(u=o[f][1]);Y6e(i,c).forEach(f=>{u||o.push([l,u=[]]),-1==u.indexOf(f)&&u.push(f)})})});let r=n[t.join(",")]=new Eb(t.indexOf(i.length-1)>-1);for(let a=0;a<o.length;a++){let l=o[a][1].sort(K6e);r.next.push({type:o[a][0],next:n[l.join(",")]||e(l)})}return r}(Y6e(i,0))}(function UFt(i){let n=[[]];return o(function r(a,l){if("choice"==a.type)return a.exprs.reduce((c,u)=>c.concat(r(u,l)),[]);if("seq"!=a.type){if("star"==a.type){let c=e();return t(l,c),o(r(a.expr,c),c),[t(c)]}if("plus"==a.type){let c=e();return o(r(a.expr,l),c),o(r(a.expr,c),c),[t(c)]}if("opt"==a.type)return[t(l)].concat(r(a.expr,l));if("range"==a.type){let c=l;for(let u=0;u<a.min;u++){let f=e();o(r(a.expr,c),f),c=f}if(-1==a.max)o(r(a.expr,c),c);else for(let u=a.min;u<a.max;u++){let f=e();t(c,f),o(r(a.expr,c),f),c=f}return[t(c)]}if("name"==a.type)return[t(l,void 0,a.value)];throw new Error("Unknown expr type")}for(let c=0;;c++){let u=r(a.exprs[c],l);if(c==a.exprs.length-1)return u;o(u,l=e())}}(i,0),e()),n;function e(){return n.push([])-1}function t(a,l,c){let u={term:c,to:l};return n[a].push(u),u}function o(a,l){a.forEach(c=>c.to=l)}}(o));return function BFt(i,n){for(let e=0,t=[i];e<t.length;e++){let o=t[e],r=!o.validEnd,a=[];for(let l=0;l<o.next.length;l++){let{type:c,next:u}=o.next[l];a.push(c.name),r&&!(c.isText||c.hasRequiredAttrs())&&(r=!1),-1==t.indexOf(u)&&t.push(u)}r&&n.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(r,t),r}matchType(n){for(let e=0;e<this.next.length;e++)if(this.next[e].type==n)return this.next[e].next;return null}matchFragment(n,e=0,t=n.childCount){let o=this;for(let r=e;o&&r<t;r++)o=o.matchType(n.child(r).type);return o}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let n=0;n<this.next.length;n++){let{type:e}=this.next[n];if(!e.isText&&!e.hasRequiredAttrs())return e}return null}compatible(n){for(let e=0;e<this.next.length;e++)for(let t=0;t<n.next.length;t++)if(this.next[e].type==n.next[t].type)return!0;return!1}fillBefore(n,e=!1,t=0){let o=[this];return function r(a,l){let c=a.matchFragment(n,t);if(c&&(!e||c.validEnd))return Oe.from(l.map(u=>u.createAndFill()));for(let u=0;u<a.next.length;u++){let{type:f,next:_}=a.next[u];if(!f.isText&&!f.hasRequiredAttrs()&&-1==o.indexOf(_)){o.push(_);let S=r(_,l.concat(f));if(S)return S}}return null}(this,[])}findWrapping(n){for(let t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==n)return this.wrapCache[t+1];let e=this.computeWrapping(n);return this.wrapCache.push(n,e),e}computeWrapping(n){let e=Object.create(null),t=[{match:this,type:null,via:null}];for(;t.length;){let o=t.shift(),r=o.match;if(r.matchType(n)){let a=[];for(let l=o;l.type;l=l.via)a.push(l.type);return a.reverse()}for(let a=0;a<r.next.length;a++){let{type:l,next:c}=r.next[a];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in e)&&(!o.type||c.validEnd)&&(t.push({match:l.contentMatch,type:l,via:o}),e[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(n){if(n>=this.next.length)throw new RangeError(`There's no ${n}th edge in this content match`);return this.next[n]}toString(){let n=[];return function e(t){n.push(t);for(let o=0;o<t.next.length;o++)-1==n.indexOf(t.next[o].next)&&e(t.next[o].next)}(this),n.map((t,o)=>{let r=o+(t.validEnd?"*":" ")+" ";for(let a=0;a<t.next.length;a++)r+=(a?", ":"")+t.next[a].type.name+"->"+n.indexOf(t.next[a].next);return r}).join("\n")}}Eb.empty=new Eb(!0);class AFt{constructor(n,e){this.string=n,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=n.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(n){return this.next==n&&(this.pos++||!0)}err(n){throw new SyntaxError(n+" (in content expression '"+this.string+"')")}}function X6e(i){let n=[];do{n.push(xFt(i))}while(i.eat("|"));return 1==n.length?n[0]:{type:"choice",exprs:n}}function xFt(i){let n=[];do{n.push(NFt(i))}while(i.next&&")"!=i.next&&"|"!=i.next);return 1==n.length?n[0]:{type:"seq",exprs:n}}function NFt(i){let n=function GFt(i){if(i.eat("(")){let n=X6e(i);return i.eat(")")||i.err("Missing closing paren"),n}if(!/\W/.test(i.next)){let n=function PFt(i,n){let e=i.nodeTypes,t=e[n];if(t)return[t];let o=[];for(let r in e){let a=e[r];a.groups.indexOf(n)>-1&&o.push(a)}return 0==o.length&&i.err("No node type or group '"+n+"' found"),o}(i,i.next).map(e=>(null==i.inline?i.inline=e.isInline:i.inline!=e.isInline&&i.err("Mixing inline and block content"),{type:"name",value:e}));return i.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}i.err("Unexpected token '"+i.next+"'")}(i);for(;;)if(i.eat("+"))n={type:"plus",expr:n};else if(i.eat("*"))n={type:"star",expr:n};else if(i.eat("?"))n={type:"opt",expr:n};else{if(!i.eat("{"))break;n=LFt(i,n)}return n}function W6e(i){/\D/.test(i.next)&&i.err("Expected number, got '"+i.next+"'");let n=Number(i.next);return i.pos++,n}function LFt(i,n){let e=W6e(i),t=e;return i.eat(",")&&(t="}"!=i.next?W6e(i):-1),i.eat("}")||i.err("Unclosed braced range"),{type:"range",min:e,max:t,expr:n}}function K6e(i,n){return n-i}function Y6e(i,n){let e=[];return function t(o){let r=i[o];if(1==r.length&&!r[0].term)return t(r[0].to);e.push(o);for(let a=0;a<r.length;a++){let{term:l,to:c}=r[a];!l&&-1==e.indexOf(c)&&t(c)}}(n),e.sort(K6e)}function J6e(i){let n=Object.create(null);for(let e in i){let t=i[e];if(!t.hasDefault)return null;n[e]=t.default}return n}function q6e(i,n){let e=Object.create(null);for(let t in i){let o=n&&n[t];if(void 0===o){let r=i[t];if(!r.hasDefault)throw new RangeError("No value supplied for attribute "+t);o=r.default}e[t]=o}return e}function Q6e(i){let n=Object.create(null);if(i)for(let e in i)n[e]=new VFt(i[e]);return n}class m9{constructor(n,e,t){this.name=n,this.schema=e,this.spec=t,this.markSet=null,this.groups=t.group?t.group.split(" "):[],this.attrs=Q6e(t.attrs),this.defaultAttrs=J6e(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(t.inline||"text"==n),this.isText="text"==n}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Eb.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let n in this.attrs)if(this.attrs[n].isRequired)return!0;return!1}compatibleContent(n){return this==n||this.contentMatch.compatible(n.contentMatch)}computeAttrs(n){return!n&&this.defaultAttrs?this.defaultAttrs:q6e(this.attrs,n)}create(n=null,e,t){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new tp(this,this.computeAttrs(n),Oe.from(e),Bs.setFrom(t))}createChecked(n=null,e,t){return e=Oe.from(e),this.checkContent(e),new tp(this,this.computeAttrs(n),e,Bs.setFrom(t))}createAndFill(n=null,e,t){if(n=this.computeAttrs(n),(e=Oe.from(e)).size){let a=this.contentMatch.fillBefore(e);if(!a)return null;e=a.append(e)}let o=this.contentMatch.matchFragment(e),r=o&&o.fillBefore(Oe.empty,!0);return r?new tp(this,n,e.append(r),Bs.setFrom(t)):null}validContent(n){let e=this.contentMatch.matchFragment(n);if(!e||!e.validEnd)return!1;for(let t=0;t<n.childCount;t++)if(!this.allowsMarks(n.child(t).marks))return!1;return!0}checkContent(n){if(!this.validContent(n))throw new RangeError(`Invalid content for node ${this.name}: ${n.toString().slice(0,50)}`)}allowsMarkType(n){return null==this.markSet||this.markSet.indexOf(n)>-1}allowsMarks(n){if(null==this.markSet)return!0;for(let e=0;e<n.length;e++)if(!this.allowsMarkType(n[e].type))return!1;return!0}allowedMarks(n){if(null==this.markSet)return n;let e;for(let t=0;t<n.length;t++)this.allowsMarkType(n[t].type)?e&&e.push(n[t]):e||(e=n.slice(0,t));return e?e.length?e:Bs.none:n}static compile(n,e){let t=Object.create(null);n.forEach((r,a)=>t[r]=new m9(r,e,a));let o=e.spec.topNode||"doc";if(!t[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!t.text)throw new RangeError("Every schema needs a 'text' type");for(let r in t.text.attrs)throw new RangeError("The text node type should not have attributes");return t}}class VFt{constructor(n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default}get isRequired(){return!this.hasDefault}}class $x{constructor(n,e,t,o){this.name=n,this.rank=e,this.schema=t,this.spec=o,this.attrs=Q6e(o.attrs),this.excluded=null;let r=J6e(this.attrs);this.instance=r?new Bs(this,r):null}create(n=null){return!n&&this.instance?this.instance:new Bs(this,q6e(this.attrs,n))}static compile(n,e){let t=Object.create(null),o=0;return n.forEach((r,a)=>t[r]=new $x(r,o++,e,a)),t}removeFromSet(n){for(var e=0;e<n.length;e++)n[e].type==this&&(n=n.slice(0,e).concat(n.slice(e+1)),e--);return n}isInSet(n){for(let e=0;e<n.length;e++)if(n[e].type==this)return n[e]}excludes(n){return this.excluded.indexOf(n)>-1}}class vre{constructor(n){this.cached=Object.create(null);let e=this.spec={};for(let o in n)e[o]=n[o];e.nodes=G6e.from(n.nodes),e.marks=G6e.from(n.marks||{}),this.nodes=m9.compile(this.spec.nodes,this),this.marks=$x.compile(this.spec.marks,this);let t=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let r=this.nodes[o],a=r.spec.content||"",l=r.spec.marks;r.contentMatch=t[a]||(t[a]=Eb.parse(a,this.nodes)),r.inlineContent=r.contentMatch.inlineContent,r.markSet="_"==l?null:l?Z6e(this,l.split(" ")):""!=l&&r.inlineContent?null:[]}for(let o in this.marks){let r=this.marks[o],a=r.spec.excludes;r.excluded=null==a?[r]:""==a?[]:Z6e(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(n,e=null,t,o){if("string"==typeof n)n=this.nodeType(n);else{if(!(n instanceof m9))throw new RangeError("Invalid node type: "+n);if(n.schema!=this)throw new RangeError("Node type from different schema used ("+n.name+")")}return n.createChecked(e,t,o)}text(n,e){let t=this.nodes.text;return new f9(t,t.defaultAttrs,n,Bs.setFrom(e))}mark(n,e){return"string"==typeof n&&(n=this.marks[n]),n.create(e)}nodeFromJSON(n){return tp.fromJSON(this,n)}markFromJSON(n){return Bs.fromJSON(this,n)}nodeType(n){let e=this.nodes[n];if(!e)throw new RangeError("Unknown node type: "+n);return e}}function Z6e(i,n){let e=[];for(let t=0;t<n.length;t++){let o=n[t],r=i.marks[o],a=r;if(r)e.push(r);else for(let l in i.marks){let c=i.marks[l];("_"==o||c.spec.group&&c.spec.group.split(" ").indexOf(o)>-1)&&e.push(a=c)}if(!a)throw new SyntaxError("Unknown mark type: '"+n[t]+"'")}return e}class Wk{constructor(n,e){this.schema=n,this.rules=e,this.tags=[],this.styles=[],e.forEach(t=>{t.tag?this.tags.push(t):t.style&&this.styles.push(t)}),this.normalizeLists=!this.tags.some(t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let o=n.nodes[t.node];return o.contentMatch.matchType(o)})}parse(n,e={}){let t=new iNe(this,e,!1);return t.addAll(n,e.from,e.to),t.finish()}parseSlice(n,e={}){let t=new iNe(this,e,!0);return t.addAll(n,e.from,e.to),tt.maxOpen(t.finish())}matchTag(n,e,t){for(let o=t?this.tags.indexOf(t)+1:0;o<this.tags.length;o++){let r=this.tags[o];if(jFt(n,r.tag)&&(void 0===r.namespace||n.namespaceURI==r.namespace)&&(!r.context||e.matchesContext(r.context))){if(r.getAttrs){let a=r.getAttrs(n);if(!1===a)continue;r.attrs=a||void 0}return r}}}matchStyle(n,e,t,o){for(let r=o?this.styles.indexOf(o)+1:0;r<this.styles.length;r++){let a=this.styles[r],l=a.style;if(!(0!=l.indexOf(n)||a.context&&!t.matchesContext(a.context)||l.length>n.length&&(61!=l.charCodeAt(n.length)||l.slice(n.length+1)!=e))){if(a.getAttrs){let c=a.getAttrs(e);if(!1===c)continue;a.attrs=c||void 0}return a}}}static schemaRules(n){let e=[];function t(o){let r=null==o.priority?50:o.priority,a=0;for(;a<e.length;a++){let l=e[a];if((null==l.priority?50:l.priority)<r)break}e.splice(a,0,o)}for(let o in n.marks){let r=n.marks[o].spec.parseDOM;r&&r.forEach(a=>{t(a=sNe(a)),a.mark||a.ignore||a.clearMark||(a.mark=o)})}for(let o in n.nodes){let r=n.nodes[o].spec.parseDOM;r&&r.forEach(a=>{t(a=sNe(a)),a.node||a.ignore||a.mark||(a.node=o)})}return e}static fromSchema(n){return n.cached.domParser||(n.cached.domParser=new Wk(n,Wk.schemaRules(n)))}}const eNe={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},zFt={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},tNe={ol:!0,ul:!0};function nNe(i,n,e){return null!=n?(n?1:0)|("full"===n?2:0):i&&"pre"==i.whitespace?3:-5&e}class S9{constructor(n,e,t,o,r,a,l){this.type=n,this.attrs=e,this.marks=t,this.pendingMarks=o,this.solid=r,this.options=l,this.content=[],this.activeMarks=Bs.none,this.stashMarks=[],this.match=a||(4&l?null:n.contentMatch)}findWrapping(n){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(Oe.from(n));if(!e){let o,t=this.type.contentMatch;return(o=t.findWrapping(n.type))?(this.match=t,o):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(n.type)}finish(n){if(!(1&this.options)){let o,t=this.content[this.content.length-1];if(t&&t.isText&&(o=/[ \t\r\n\u000c]+$/.exec(t.text))){let r=t;t.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=r.withText(r.text.slice(0,r.text.length-o[0].length))}}let e=Oe.from(this.content);return!n&&this.match&&(e=e.append(this.match.fillBefore(Oe.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}popFromStashMark(n){for(let e=this.stashMarks.length-1;e>=0;e--)if(n.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]}applyPending(n){for(let e=0,t=this.pendingMarks;e<t.length;e++){let o=t[e];(this.type?this.type.allowsMarkType(o.type):XFt(o.type,n))&&!o.isInSet(this.activeMarks)&&(this.activeMarks=o.addToSet(this.activeMarks),this.pendingMarks=o.removeFromSet(this.pendingMarks))}}inlineContext(n){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:n.parentNode&&!eNe.hasOwnProperty(n.parentNode.nodeName.toLowerCase())}}class iNe{constructor(n,e,t){this.parser=n,this.options=e,this.isOpen=t,this.open=0;let r,o=e.topNode,a=nNe(null,e.preserveWhitespace,0)|(t?4:0);r=o?new S9(o.type,o.attrs,Bs.none,Bs.none,!0,e.topMatch||o.type.contentMatch,a):new S9(t?null:n.schema.topNodeType,null,Bs.none,Bs.none,!0,null,a),this.nodes=[r],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(n){3==n.nodeType?this.addTextNode(n):1==n.nodeType&&this.addElement(n)}withStyleRules(n,e){let t=n.getAttribute("style");if(!t)return e();let o=this.readStyles(function $Ft(i){let e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,t=[];for(;e=n.exec(i);)t.push(e[1],e[2].trim());return t}(t));if(!o)return;let[r,a]=o,l=this.top;for(let c=0;c<a.length;c++)this.removePendingMark(a[c],l);for(let c=0;c<r.length;c++)this.addPendingMark(r[c]);e();for(let c=0;c<r.length;c++)this.removePendingMark(r[c],l);for(let c=0;c<a.length;c++)this.addPendingMark(a[c])}addTextNode(n){let e=n.nodeValue,t=this.top;if(2&t.options||t.inlineContext(n)||/[^ \t\r\n\u000c]/.test(e)){if(1&t.options)e=2&t.options?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){let o=t.content[t.content.length-1],r=n.previousSibling;(!o||r&&"BR"==r.nodeName||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(n)}else this.findInside(n)}addElement(n,e){let o,t=n.nodeName.toLowerCase();tNe.hasOwnProperty(t)&&this.parser.normalizeLists&&function HFt(i){for(let n=i.firstChild,e=null;n;n=n.nextSibling){let t=1==n.nodeType?n.nodeName.toLowerCase():null;t&&tNe.hasOwnProperty(t)&&e?(e.appendChild(n),n=e):"li"==t?e=n:t&&(e=null)}}(n);let r=this.options.ruleFromNode&&this.options.ruleFromNode(n)||(o=this.parser.matchTag(n,this,e));if(r?r.ignore:zFt.hasOwnProperty(t))this.findInside(n),this.ignoreFallback(n);else if(!r||r.skip||r.closeParent){r&&r.closeParent?this.open=Math.max(0,this.open-1):r&&r.skip.nodeType&&(n=r.skip);let a,l=this.top,c=this.needsBlock;if(eNe.hasOwnProperty(t))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),a=!0,l.type||(this.needsBlock=!0);else if(!n.firstChild)return void this.leafFallback(n);r&&r.skip?this.addAll(n):this.withStyleRules(n,()=>this.addAll(n)),a&&this.sync(l),this.needsBlock=c}else this.withStyleRules(n,()=>{this.addElementByRule(n,r,!1===r.consuming?o:void 0)})}leafFallback(n){"BR"==n.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(n.ownerDocument.createTextNode("\n"))}ignoreFallback(n){"BR"==n.nodeName&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(n){let e=Bs.none,t=Bs.none;for(let o=0;o<n.length;o+=2)for(let r;;){let a=this.parser.matchStyle(n[o],n[o+1],this,r);if(!a)break;if(a.ignore)return null;if(a.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(l=>{a.clearMark(l)&&(t=l.addToSet(t))}):e=this.parser.schema.marks[a.mark].create(a.attrs).addToSet(e),!1!==a.consuming)break;r=a}return[e,t]}addElementByRule(n,e,t){let o,r,a;e.node?(r=this.parser.schema.nodes[e.node],r.isLeaf?this.insertNode(r.create(e.attrs))||this.leafFallback(n):o=this.enter(r,e.attrs||null,e.preserveWhitespace)):(a=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(a));let l=this.top;if(r&&r.isLeaf)this.findInside(n);else if(t)this.addElement(n,t);else if(e.getContent)this.findInside(n),e.getContent(n,this.parser.schema).forEach(c=>this.insertNode(c));else{let c=n;"string"==typeof e.contentElement?c=n.querySelector(e.contentElement):"function"==typeof e.contentElement?c=e.contentElement(n):e.contentElement&&(c=e.contentElement),this.findAround(n,c,!0),this.addAll(c)}o&&this.sync(l)&&this.open--,a&&this.removePendingMark(a,l)}addAll(n,e,t){let o=e||0;for(let r=e?n.childNodes[e]:n.firstChild,a=null==t?null:n.childNodes[t];r!=a;r=r.nextSibling,++o)this.findAtPoint(n,o),this.addDOM(r);this.findAtPoint(n,o)}findPlace(n){let e,t;for(let o=this.open;o>=0;o--){let r=this.nodes[o],a=r.findWrapping(n);if(a&&(!e||e.length>a.length)&&(e=a,t=r,!a.length)||r.solid)break}if(!e)return!1;this.sync(t);for(let o=0;o<e.length;o++)this.enterInner(e[o],null,!1);return!0}insertNode(n){if(n.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(n)){this.closeExtra();let e=this.top;e.applyPending(n.type),e.match&&(e.match=e.match.matchType(n.type));let t=e.activeMarks;for(let o=0;o<n.marks.length;o++)(!e.type||e.type.allowsMarkType(n.marks[o].type))&&(t=n.marks[o].addToSet(t));return e.content.push(n.mark(t)),!0}return!1}enter(n,e,t){let o=this.findPlace(n.create(e));return o&&this.enterInner(n,e,!0,t),o}enterInner(n,e=null,t=!1,o){this.closeExtra();let r=this.top;r.applyPending(n),r.match=r.match&&r.match.matchType(n);let a=nNe(n,o,r.options);4&r.options&&0==r.content.length&&(a|=4),this.nodes.push(new S9(n,e,r.activeMarks,r.pendingMarks,t,null,a)),this.open++}closeExtra(n=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(n));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(n){for(let e=this.open;e>=0;e--)if(this.nodes[e]==n)return this.open=e,!0;return!1}get currentPos(){this.closeExtra();let n=0;for(let e=this.open;e>=0;e--){let t=this.nodes[e].content;for(let o=t.length-1;o>=0;o--)n+=t[o].nodeSize;e&&n++}return n}findAtPoint(n,e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==n&&this.find[t].offset==e&&(this.find[t].pos=this.currentPos)}findInside(n){if(this.find)for(let e=0;e<this.find.length;e++)null==this.find[e].pos&&1==n.nodeType&&n.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(n,e,t){if(n!=e&&this.find)for(let o=0;o<this.find.length;o++)null==this.find[o].pos&&1==n.nodeType&&n.contains(this.find[o].node)&&e.compareDocumentPosition(this.find[o].node)&(t?2:4)&&(this.find[o].pos=this.currentPos)}findInText(n){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==n&&(this.find[e].pos=this.currentPos-(n.nodeValue.length-this.find[e].offset))}matchesContext(n){if(n.indexOf("|")>-1)return n.split(/\s*\|\s*/).some(this.matchesContext,this);let e=n.split("/"),t=this.options.context,o=!(this.isOpen||t&&t.parent.type!=this.nodes[0].type),r=(o?0:1)-(t?t.depth+1:0),a=(l,c)=>{for(;l>=0;l--){let u=e[l];if(""==u){if(l==e.length-1||0==l)continue;for(;c>=r;c--)if(a(l-1,c))return!0;return!1}{let f=c>0||0==c&&o?this.nodes[c].type:t&&c>=r?t.node(c-r).type:null;if(!f||f.name!=u&&-1==f.groups.indexOf(u))return!1;c--}}return!0};return a(e.length-1,this.open)}textblockFromContext(){let n=this.options.context;if(n)for(let e=n.depth;e>=0;e--){let t=n.node(e).contentMatchAt(n.indexAfter(e)).defaultType;if(t&&t.isTextblock&&t.defaultAttrs)return t}for(let e in this.parser.schema.nodes){let t=this.parser.schema.nodes[e];if(t.isTextblock&&t.defaultAttrs)return t}}addPendingMark(n){let e=function WFt(i,n){for(let e=0;e<n.length;e++)if(i.eq(n[e]))return n[e]}(n,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=n.addToSet(this.top.pendingMarks)}removePendingMark(n,e){for(let t=this.open;t>=0;t--){let o=this.nodes[t];if(o.pendingMarks.lastIndexOf(n)>-1)o.pendingMarks=n.removeFromSet(o.pendingMarks);else{o.activeMarks=n.removeFromSet(o.activeMarks);let a=o.popFromStashMark(n);a&&o.type&&o.type.allowsMarkType(a.type)&&(o.activeMarks=a.addToSet(o.activeMarks))}if(o==e)break}}}function jFt(i,n){return(i.matches||i.msMatchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector).call(i,n)}function sNe(i){let n={};for(let e in i)n[e]=i[e];return n}function XFt(i,n){let e=n.schema.nodes;for(let t in e){let o=e[t];if(!o.allowsMarkType(i))continue;let r=[],a=l=>{r.push(l);for(let c=0;c<l.edgeCount;c++){let{type:u,next:f}=l.edge(c);if(u==n||r.indexOf(f)<0&&a(f))return!0}};if(a(o.contentMatch))return!0}}class hg{constructor(n,e){this.nodes=n,this.marks=e}serializeFragment(n,e={},t){t||(t=Cre(e).createDocumentFragment());let o=t,r=[];return n.forEach(a=>{if(r.length||a.marks.length){let l=0,c=0;for(;l<r.length&&c<a.marks.length;){let u=a.marks[c];if(this.marks[u.type.name]){if(!u.eq(r[l][0])||!1===u.type.spec.spanning)break;l++,c++}else c++}for(;l<r.length;)o=r.pop()[1];for(;c<a.marks.length;){let u=a.marks[c++],f=this.serializeMark(u,a.isInline,e);f&&(r.push([u,o]),o.appendChild(f.dom),o=f.contentDOM||f.dom)}}o.appendChild(this.serializeNodeInner(a,e))}),t}serializeNodeInner(n,e){let{dom:t,contentDOM:o}=hg.renderSpec(Cre(e),this.nodes[n.type.name](n));if(o){if(n.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(n.content,e,o)}return t}serializeNode(n,e={}){let t=this.serializeNodeInner(n,e);for(let o=n.marks.length-1;o>=0;o--){let r=this.serializeMark(n.marks[o],n.isInline,e);r&&((r.contentDOM||r.dom).appendChild(t),t=r.dom)}return t}serializeMark(n,e,t={}){let o=this.marks[n.type.name];return o&&hg.renderSpec(Cre(t),o(n,e))}static renderSpec(n,e,t=null){if("string"==typeof e)return{dom:n.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;let o=e[0],r=o.indexOf(" ");r>0&&(t=o.slice(0,r),o=o.slice(r+1));let a,l=t?n.createElementNS(t,o):n.createElement(o),c=e[1],u=1;if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c)){u=2;for(let f in c)if(null!=c[f]){let _=f.indexOf(" ");_>0?l.setAttributeNS(f.slice(0,_),f.slice(_+1),c[f]):l.setAttribute(f,c[f])}}for(let f=u;f<e.length;f++){let _=e[f];if(0===_){if(f<e.length-1||f>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}{let{dom:S,contentDOM:v}=hg.renderSpec(n,_,t);if(l.appendChild(S),v){if(a)throw new RangeError("Multiple content holes");a=v}}}return{dom:l,contentDOM:a}}static fromSchema(n){return n.cached.domSerializer||(n.cached.domSerializer=new hg(this.nodesFromSchema(n),this.marksFromSchema(n)))}static nodesFromSchema(n){let e=oNe(n.nodes);return e.text||(e.text=t=>t.text),e}static marksFromSchema(n){return oNe(n.marks)}}function oNe(i){let n={};for(let e in i){let t=i[e].spec.toDOM;t&&(n[e]=t)}return n}function Cre(i){return i.document||window.document}const aNe=Math.pow(2,16);function KFt(i,n){return i+n*aNe}function lNe(i){return 65535&i}class bre{constructor(n,e,t){this.pos=n,this.delInfo=e,this.recover=t}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class $d{constructor(n,e=!1){if(this.ranges=n,this.inverted=e,!n.length&&$d.empty)return $d.empty}recover(n){let e=0,t=lNe(n);if(!this.inverted)for(let o=0;o<t;o++)e+=this.ranges[3*o+2]-this.ranges[3*o+1];return this.ranges[3*t]+e+function YFt(i){return(i-(65535&i))/aNe}(n)}mapResult(n,e=1){return this._map(n,e,!1)}map(n,e=1){return this._map(n,e,!0)}_map(n,e,t){let o=0,r=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?o:0);if(c>n)break;let u=this.ranges[l+r],f=this.ranges[l+a],_=c+u;if(n<=_){let v=c+o+((u?n==c?-1:n==_?1:e:e)<0?0:f);if(t)return v;let b=n==(e<0?c:_)?null:KFt(l/3,n-c),D=n==c?2:n==_?1:4;return(e<0?n!=c:n!=_)&&(D|=8),new bre(v,D,b)}o+=f-u}return t?n+o:new bre(n+o,0,null)}touches(n,e){let t=0,o=lNe(e),r=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?t:0);if(c>n)break;let u=this.ranges[l+r];if(n<=c+u&&l==3*o)return!0;t+=this.ranges[l+a]-u}return!1}forEach(n){let e=this.inverted?2:1,t=this.inverted?1:2;for(let o=0,r=0;o<this.ranges.length;o+=3){let a=this.ranges[o],l=a-(this.inverted?r:0),c=a+(this.inverted?0:r),u=this.ranges[o+e],f=this.ranges[o+t];n(l,l+u,c,c+f),r+=f-u}}invert(){return new $d(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(n){return 0==n?$d.empty:new $d(n<0?[0,-n,0]:[0,0,n])}}$d.empty=new $d([]);class Kk{constructor(n=[],e,t=0,o=n.length){this.maps=n,this.mirror=e,this.from=t,this.to=o}slice(n=0,e=this.maps.length){return new Kk(this.maps,this.mirror,n,e)}copy(){return new Kk(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(n,e){this.to=this.maps.push(n),null!=e&&this.setMirror(this.maps.length-1,e)}appendMapping(n){for(let e=0,t=this.maps.length;e<n.maps.length;e++){let o=n.getMirror(e);this.appendMap(n.maps[e],null!=o&&o<e?t+o:void 0)}}getMirror(n){if(this.mirror)for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==n)return this.mirror[e+(e%2?-1:1)]}setMirror(n,e){this.mirror||(this.mirror=[]),this.mirror.push(n,e)}appendMappingInverted(n){for(let e=n.maps.length-1,t=this.maps.length+n.maps.length;e>=0;e--){let o=n.getMirror(e);this.appendMap(n.maps[e].invert(),null!=o&&o>e?t-o-1:void 0)}}invert(){let n=new Kk;return n.appendMappingInverted(this),n}map(n,e=1){if(this.mirror)return this._map(n,e,!0);for(let t=this.from;t<this.to;t++)n=this.maps[t].map(n,e);return n}mapResult(n,e=1){return this._map(n,e,!1)}_map(n,e,t){let o=0;for(let r=this.from;r<this.to;r++){let l=this.maps[r].mapResult(n,e);if(null!=l.recover){let c=this.getMirror(r);if(null!=c&&c>r&&c<this.to){r=c,n=this.maps[c].recover(l.recover);continue}}o|=l.delInfo,n=l.pos}return t?n:new bre(n,o,null)}}const Ere=Object.create(null);class Sl{getMap(){return $d.empty}merge(n){return null}static fromJSON(n,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let t=Ere[e.stepType];if(!t)throw new RangeError(`No step type ${e.stepType} defined`);return t.fromJSON(n,e)}static jsonID(n,e){if(n in Ere)throw new RangeError("Duplicate use of step JSON ID "+n);return Ere[n]=e,e.prototype.jsonID=n,e}}class Nr{constructor(n,e){this.doc=n,this.failed=e}static ok(n){return new Nr(n,null)}static fail(n){return new Nr(null,n)}static fromReplace(n,e,t,o){try{return Nr.ok(n.replace(e,t,o))}catch(r){if(r instanceof h9)return Nr.fail(r.message);throw r}}}function yre(i,n,e){let t=[];for(let o=0;o<i.childCount;o++){let r=i.child(o);r.content.size&&(r=r.copy(yre(r.content,n,r))),r.isInline&&(r=n(r,e,o)),t.push(r)}return Oe.fromArray(t)}class pg extends Sl{constructor(n,e,t){super(),this.from=n,this.to=e,this.mark=t}apply(n){let e=n.slice(this.from,this.to),t=n.resolve(this.from),o=t.node(t.sharedDepth(this.to)),r=new tt(yre(e.content,(a,l)=>a.isAtom&&l.type.allowsMarkType(this.mark.type)?a.mark(this.mark.addToSet(a.marks)):a,o),e.openStart,e.openEnd);return Nr.fromReplace(n,this.from,this.to,r)}invert(){return new Qu(this.from,this.to,this.mark)}map(n){let e=n.mapResult(this.from,1),t=n.mapResult(this.to,-1);return e.deleted&&t.deleted||e.pos>=t.pos?null:new pg(e.pos,t.pos,this.mark)}merge(n){return n instanceof pg&&n.mark.eq(this.mark)&&this.from<=n.to&&this.to>=n.from?new pg(Math.min(this.from,n.from),Math.max(this.to,n.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(n,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new pg(e.from,e.to,n.markFromJSON(e.mark))}}Sl.jsonID("addMark",pg);class Qu extends Sl{constructor(n,e,t){super(),this.from=n,this.to=e,this.mark=t}apply(n){let e=n.slice(this.from,this.to),t=new tt(yre(e.content,o=>o.mark(this.mark.removeFromSet(o.marks)),n),e.openStart,e.openEnd);return Nr.fromReplace(n,this.from,this.to,t)}invert(){return new pg(this.from,this.to,this.mark)}map(n){let e=n.mapResult(this.from,1),t=n.mapResult(this.to,-1);return e.deleted&&t.deleted||e.pos>=t.pos?null:new Qu(e.pos,t.pos,this.mark)}merge(n){return n instanceof Qu&&n.mark.eq(this.mark)&&this.from<=n.to&&this.to>=n.from?new Qu(Math.min(this.from,n.from),Math.max(this.to,n.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(n,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Qu(e.from,e.to,n.markFromJSON(e.mark))}}Sl.jsonID("removeMark",Qu);class cv extends Sl{constructor(n,e){super(),this.pos=n,this.mark=e}apply(n){let e=n.nodeAt(this.pos);if(!e)return Nr.fail("No node at mark step's position");let t=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return Nr.fromReplace(n,this.pos,this.pos+1,new tt(Oe.from(t),0,e.isLeaf?0:1))}invert(n){let e=n.nodeAt(this.pos);if(e){let t=this.mark.addToSet(e.marks);if(t.length==e.marks.length){for(let o=0;o<e.marks.length;o++)if(!e.marks[o].isInSet(t))return new cv(this.pos,e.marks[o]);return new cv(this.pos,this.mark)}}return new Yk(this.pos,this.mark)}map(n){let e=n.mapResult(this.pos,1);return e.deletedAfter?null:new cv(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(n,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new cv(e.pos,n.markFromJSON(e.mark))}}Sl.jsonID("addNodeMark",cv);class Yk extends Sl{constructor(n,e){super(),this.pos=n,this.mark=e}apply(n){let e=n.nodeAt(this.pos);if(!e)return Nr.fail("No node at mark step's position");let t=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return Nr.fromReplace(n,this.pos,this.pos+1,new tt(Oe.from(t),0,e.isLeaf?0:1))}invert(n){let e=n.nodeAt(this.pos);return e&&this.mark.isInSet(e.marks)?new cv(this.pos,this.mark):this}map(n){let e=n.mapResult(this.pos,1);return e.deletedAfter?null:new Yk(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(n,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Yk(e.pos,n.markFromJSON(e.mark))}}Sl.jsonID("removeNodeMark",Yk);class vl extends Sl{constructor(n,e,t,o=!1){super(),this.from=n,this.to=e,this.slice=t,this.structure=o}apply(n){return this.structure&&Dre(n,this.from,this.to)?Nr.fail("Structure replace would overwrite content"):Nr.fromReplace(n,this.from,this.to,this.slice)}getMap(){return new $d([this.from,this.to-this.from,this.slice.size])}invert(n){return new vl(this.from,this.from+this.slice.size,n.slice(this.from,this.to))}map(n){let e=n.mapResult(this.from,1),t=n.mapResult(this.to,-1);return e.deletedAcross&&t.deletedAcross?null:new vl(e.pos,Math.max(e.pos,t.pos),this.slice)}merge(n){if(!(n instanceof vl)||n.structure||this.structure)return null;if(this.from+this.slice.size!=n.from||this.slice.openEnd||n.slice.openStart){if(n.to!=this.from||this.slice.openStart||n.slice.openEnd)return null;{let e=this.slice.size+n.slice.size==0?tt.empty:new tt(n.slice.content.append(this.slice.content),n.slice.openStart,this.slice.openEnd);return new vl(n.from,this.to,e,this.structure)}}{let e=this.slice.size+n.slice.size==0?tt.empty:new tt(this.slice.content.append(n.slice.content),this.slice.openStart,n.slice.openEnd);return new vl(this.from,this.to+(n.to-n.from),e,this.structure)}}toJSON(){let n={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(n.slice=this.slice.toJSON()),this.structure&&(n.structure=!0),n}static fromJSON(n,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new vl(e.from,e.to,tt.fromJSON(n,e.slice),!!e.structure)}}Sl.jsonID("replace",vl);class jr extends Sl{constructor(n,e,t,o,r,a,l=!1){super(),this.from=n,this.to=e,this.gapFrom=t,this.gapTo=o,this.slice=r,this.insert=a,this.structure=l}apply(n){if(this.structure&&(Dre(n,this.from,this.gapFrom)||Dre(n,this.gapTo,this.to)))return Nr.fail("Structure gap-replace would overwrite content");let e=n.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return Nr.fail("Gap is not a flat range");let t=this.slice.insertAt(this.insert,e.content);return t?Nr.fromReplace(n,this.from,this.to,t):Nr.fail("Content does not fit in gap")}getMap(){return new $d([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(n){let e=this.gapTo-this.gapFrom;return new jr(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,n.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(n){let e=n.mapResult(this.from,1),t=n.mapResult(this.to,-1),o=n.map(this.gapFrom,-1),r=n.map(this.gapTo,1);return e.deletedAcross&&t.deletedAcross||o<e.pos||r>t.pos?null:new jr(e.pos,t.pos,o,r,this.slice,this.insert,this.structure)}toJSON(){let n={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(n.slice=this.slice.toJSON()),this.structure&&(n.structure=!0),n}static fromJSON(n,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new jr(e.from,e.to,e.gapFrom,e.gapTo,tt.fromJSON(n,e.slice),e.insert,!!e.structure)}}function Dre(i,n,e){let t=i.resolve(n),o=e-n,r=t.depth;for(;o>0&&r>0&&t.indexAfter(r)==t.node(r).childCount;)r--,o--;if(o>0){let a=t.node(r).maybeChild(t.indexAfter(r));for(;o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}}return!1}function ZFt(i,n,e){return(0==n||i.canReplace(n,i.childCount))&&(e==i.childCount||i.canReplace(0,e))}function Jk(i){let e=i.parent.content.cutByIndex(i.startIndex,i.endIndex);for(let t=i.depth;;--t){let o=i.$from.node(t),r=i.$from.index(t),a=i.$to.indexAfter(t);if(t<i.depth&&o.canReplace(r,a,e))return t;if(0==t||o.type.spec.isolating||!ZFt(o,r,a))break}return null}function hNe(i,n,e=null,t=i){let o=function t7t(i,n){let{parent:e,startIndex:t,endIndex:o}=i,r=e.contentMatchAt(t).findWrapping(n);return r&&e.canReplaceWith(t,o,r.length?r[0]:n)?r:null}(i,n),r=o&&function n7t(i,n){let{parent:e,startIndex:t,endIndex:o}=i,r=e.child(t),a=n.contentMatch.findWrapping(r.type);if(!a)return null;let c=(a.length?a[a.length-1]:n).contentMatch;for(let u=t;c&&u<o;u++)c=c.matchType(e.child(u).type);return c&&c.validEnd?a:null}(t,n);return r?o.map(pNe).concat({type:n,attrs:e}).concat(r.map(pNe)):null}function pNe(i){return{type:i,attrs:null}}function qk(i,n,e=1,t){let o=i.resolve(n),r=o.depth-e,a=t&&t[t.length-1]||o.parent;if(r<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let u=o.depth-1,f=e-2;u>r;u--,f--){let _=o.node(u),S=o.index(u);if(_.type.spec.isolating)return!1;let v=_.content.cutByIndex(S,_.childCount),b=t&&t[f+1];b&&(v=v.replaceChild(0,b.type.create(b.attrs)));let D=t&&t[f]||_;if(!_.canReplace(S+1,_.childCount)||!D.type.validContent(v))return!1}let l=o.indexAfter(r),c=t&&t[0];return o.node(r).canReplaceWith(l,l,c?c.type:o.node(r+1).type)}function C9(i,n){let e=i.resolve(n),t=e.index();return function fNe(i,n){return!(!i||!n||i.isLeaf||!i.canAppend(n))}(e.nodeBefore,e.nodeAfter)&&e.parent.canReplace(t,t+1)}function wre(i,n,e=n,t=tt.empty){if(n==e&&!t.size)return null;let o=i.resolve(n),r=i.resolve(e);return mNe(o,r,t)?new vl(n,e,t):new u7t(o,r,t).fit()}function mNe(i,n,e){return!e.openStart&&!e.openEnd&&i.start()==n.start()&&i.parent.canReplace(i.index(),n.index(),e.content)}Sl.jsonID("replaceAround",jr);class u7t{constructor(n,e,t){this.$from=n,this.$to=e,this.unplaced=t,this.frontier=[],this.placed=Oe.empty;for(let o=0;o<=n.depth;o++){let r=n.node(o);this.frontier.push({type:r.type,match:r.contentMatchAt(n.indexAfter(o))})}for(let o=n.depth;o>0;o--)this.placed=Oe.from(n.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let n=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,t=this.$from,o=this.close(n<0?this.$to:t.doc.resolve(n));if(!o)return null;let r=this.placed,a=t.depth,l=o.depth;for(;a&&l&&1==r.childCount;)r=r.firstChild.content,a--,l--;let c=new tt(r,a,l);return n>-1?new jr(t.pos,n,this.$to.pos,this.$to.end(),c,e):c.size||t.pos!=this.$to.pos?new vl(t.pos,o.pos,c):null}findFittable(){let n=this.unplaced.openStart;for(let e=this.unplaced.content,t=0,o=this.unplaced.openEnd;t<n;t++){let r=e.firstChild;if(e.childCount>1&&(o=0),r.type.spec.isolating&&o<=t){n=t;break}e=r.content}for(let e=1;e<=2;e++)for(let t=1==e?n:this.unplaced.openStart;t>=0;t--){let o,r=null;t?(r=kre(this.unplaced.content,t-1).firstChild,o=r.content):o=this.unplaced.content;let a=o.firstChild;for(let l=this.depth;l>=0;l--){let f,{type:c,match:u}=this.frontier[l],_=null;if(1==e&&(a?u.matchType(a.type)||(_=u.fillBefore(Oe.from(a),!1)):r&&c.compatibleContent(r.type)))return{sliceDepth:t,frontierDepth:l,parent:r,inject:_};if(2==e&&a&&(f=u.findWrapping(a.type)))return{sliceDepth:t,frontierDepth:l,parent:r,wrap:f};if(r&&u.matchType(r.type))break}}}openMore(){let{content:n,openStart:e,openEnd:t}=this.unplaced,o=kre(n,e);return!(!o.childCount||o.firstChild.isLeaf||(this.unplaced=new tt(n,e+1,Math.max(t,o.size+e>=n.size-t?e+1:0)),0))}dropNode(){let{content:n,openStart:e,openEnd:t}=this.unplaced,o=kre(n,e);if(o.childCount<=1&&e>0){let r=n.size-e<=e+o.size;this.unplaced=new tt(Wx(n,e-1,1),e-1,r?e-1:t)}else this.unplaced=new tt(Wx(n,e,1),e,t)}placeNodes({sliceDepth:n,frontierDepth:e,parent:t,inject:o,wrap:r}){for(;this.depth>e;)this.closeFrontierNode();if(r)for(let D=0;D<r.length;D++)this.openFrontierNode(r[D]);let a=this.unplaced,l=t?t.content:a.content,c=a.openStart-n,u=0,f=[],{match:_,type:S}=this.frontier[e];if(o){for(let D=0;D<o.childCount;D++)f.push(o.child(D));_=_.matchFragment(o)}let v=l.size+n-(a.content.size-a.openEnd);for(;u<l.childCount;){let D=l.child(u),k=_.matchType(D.type);if(!k)break;u++,(u>1||0==c||D.content.size)&&(_=k,f.push(_Ne(D.mark(S.allowedMarks(D.marks)),1==u?c:0,u==l.childCount?v:-1)))}let b=u==l.childCount;b||(v=-1),this.placed=Kx(this.placed,e,Oe.from(f)),this.frontier[e].match=_,b&&v<0&&t&&t.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let D=0,k=l;D<v;D++){let O=k.lastChild;this.frontier.push({type:O.type,match:O.contentMatchAt(O.childCount)}),k=O.content}this.unplaced=b?0==n?tt.empty:new tt(Wx(a.content,n-1,1),n-1,v<0?a.openEnd:n-1):new tt(Wx(a.content,n,u),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,n=this.frontier[this.depth];if(!n.type.isTextblock||!Ore(this.$to,this.$to.depth,n.type,n.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:t}=this.$to,o=this.$to.after(t);for(;t>1&&o==this.$to.end(--t);)++o;return o}findCloseLevel(n){e:for(let e=Math.min(this.depth,n.depth);e>=0;e--){let{match:t,type:o}=this.frontier[e],r=e<n.depth&&n.end(e+1)==n.pos+(n.depth-(e+1)),a=Ore(n,e,o,t,r);if(a){for(let l=e-1;l>=0;l--){let{match:c,type:u}=this.frontier[l],f=Ore(n,l,u,c,!0);if(!f||f.childCount)continue e}return{depth:e,fit:a,move:r?n.doc.resolve(n.after(e+1)):n}}}}close(n){let e=this.findCloseLevel(n);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=Kx(this.placed,e.depth,e.fit)),n=e.move;for(let t=e.depth+1;t<=n.depth;t++){let o=n.node(t),r=o.type.contentMatch.fillBefore(o.content,!0,n.index(t));this.openFrontierNode(o.type,o.attrs,r)}return n}openFrontierNode(n,e=null,t){let o=this.frontier[this.depth];o.match=o.match.matchType(n),this.placed=Kx(this.placed,this.depth,Oe.from(n.create(e,t))),this.frontier.push({type:n,match:n.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(Oe.empty,!0);e.childCount&&(this.placed=Kx(this.placed,this.frontier.length,e))}}function Wx(i,n,e){return 0==n?i.cutByIndex(e,i.childCount):i.replaceChild(0,i.firstChild.copy(Wx(i.firstChild.content,n-1,e)))}function Kx(i,n,e){return 0==n?i.append(e):i.replaceChild(i.childCount-1,i.lastChild.copy(Kx(i.lastChild.content,n-1,e)))}function kre(i,n){for(let e=0;e<n;e++)i=i.firstChild.content;return i}function _Ne(i,n,e){if(n<=0)return i;let t=i.content;return n>1&&(t=t.replaceChild(0,_Ne(t.firstChild,n-1,1==t.childCount?e-1:0))),n>0&&(t=i.type.contentMatch.fillBefore(t).append(t),e<=0&&(t=t.append(i.type.contentMatch.matchFragment(t).fillBefore(Oe.empty,!0)))),i.copy(t)}function Ore(i,n,e,t,o){let r=i.node(n),a=o?i.indexAfter(n):i.index(n);if(a==r.childCount&&!e.compatibleContent(r.type))return null;let l=t.fillBefore(r.content,!0,a);return l&&!function h7t(i,n,e){for(let t=e;t<n.childCount;t++)if(!i.allowsMarks(n.child(t).marks))return!0;return!1}(e,r.content,a)?l:null}function p7t(i){return i.spec.defining||i.spec.definingForContent}function gNe(i,n,e,t,o){if(n<e){let r=i.firstChild;i=i.replaceChild(0,r.copy(gNe(r.content,n+1,e,t,r)))}if(n>t){let r=o.contentMatchAt(0),a=r.fillBefore(i).append(i);i=a.append(r.matchFragment(a).fillBefore(Oe.empty,!0))}return i}function SNe(i,n){let e=[];for(let o=Math.min(i.depth,n.depth);o>=0;o--){let r=i.start(o);if(r<i.pos-(i.depth-o)||n.end(o)>n.pos+(n.depth-o)||i.node(o).type.spec.isolating||n.node(o).type.spec.isolating)break;(r==n.start(o)||o==i.depth&&o==n.depth&&i.parent.inlineContent&&n.parent.inlineContent&&o&&n.start(o-1)==r-1)&&e.push(o)}return e}class Qk extends Sl{constructor(n,e,t){super(),this.pos=n,this.attr=e,this.value=t}apply(n){let e=n.nodeAt(this.pos);if(!e)return Nr.fail("No node at attribute step's position");let t=Object.create(null);for(let r in e.attrs)t[r]=e.attrs[r];t[this.attr]=this.value;let o=e.type.create(t,null,e.marks);return Nr.fromReplace(n,this.pos,this.pos+1,new tt(Oe.from(o),0,e.isLeaf?0:1))}getMap(){return $d.empty}invert(n){return new Qk(this.pos,this.attr,n.nodeAt(this.pos).attrs[this.attr])}map(n){let e=n.mapResult(this.pos,1);return e.deletedAfter?null:new Qk(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(n,e){if("number"!=typeof e.pos||"string"!=typeof e.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new Qk(e.pos,e.attr,e.value)}}Sl.jsonID("attr",Qk);class Yx extends Sl{constructor(n,e){super(),this.attr=n,this.value=e}apply(n){let e=Object.create(null);for(let o in n.attrs)e[o]=n.attrs[o];e[this.attr]=this.value;let t=n.type.create(e,n.content,n.marks);return Nr.ok(t)}getMap(){return $d.empty}invert(n){return new Yx(this.attr,n.attrs[this.attr])}map(n){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(n,e){if("string"!=typeof e.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Yx(e.attr,e.value)}}Sl.jsonID("docAttr",Yx);let Zk=class extends Error{};Zk=function i(n){let e=Error.call(this,n);return e.__proto__=i.prototype,e},(Zk.prototype=Object.create(Error.prototype)).constructor=Zk,Zk.prototype.name="TransformError";class vNe{constructor(n){this.doc=n,this.steps=[],this.docs=[],this.mapping=new Kk}get before(){return this.docs.length?this.docs[0]:this.doc}step(n){let e=this.maybeStep(n);if(e.failed)throw new Zk(e.failed);return this}maybeStep(n){let e=n.apply(this.doc);return e.failed||this.addStep(n,e.doc),e}get docChanged(){return this.steps.length>0}addStep(n,e){this.docs.push(this.doc),this.steps.push(n),this.mapping.appendMap(n.getMap()),this.doc=e}replace(n,e=n,t=tt.empty){let o=wre(this.doc,n,e,t);return o&&this.step(o),this}replaceWith(n,e,t){return this.replace(n,e,new tt(Oe.from(t),0,0))}delete(n,e){return this.replace(n,e,tt.empty)}insert(n,e){return this.replaceWith(n,n,e)}replaceRange(n,e,t){return function f7t(i,n,e,t){if(!t.size)return i.deleteRange(n,e);let o=i.doc.resolve(n),r=i.doc.resolve(e);if(mNe(o,r,t))return i.step(new vl(n,e,t));let a=SNe(o,i.doc.resolve(e));0==a[a.length-1]&&a.pop();let l=-(o.depth+1);a.unshift(l);for(let S=o.depth,v=o.pos-1;S>0;S--,v--){let b=o.node(S).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;a.indexOf(S)>-1?l=S:o.before(S)==v&&a.splice(1,0,-S)}let c=a.indexOf(l),u=[],f=t.openStart;for(let S=t.content,v=0;;v++){let b=S.firstChild;if(u.push(b),v==t.openStart)break;S=b.content}for(let S=f-1;S>=0;S--){let v=u[S],b=p7t(v.type);if(b&&!v.sameMarkup(o.node(Math.abs(l)-1)))f=S;else if(b||!v.type.isTextblock)break}for(let S=t.openStart;S>=0;S--){let v=(S+f+1)%(t.openStart+1),b=u[v];if(b)for(let D=0;D<a.length;D++){let k=a[(D+c)%a.length],O=!0;k<0&&(O=!1,k=-k);let I=o.node(k-1),x=o.index(k-1);if(I.canReplaceWith(x,x,b.type,b.marks))return i.replace(o.before(k),O?r.after(k):e,new tt(gNe(t.content,0,t.openStart,v),v,t.openEnd))}}let _=i.steps.length;for(let S=a.length-1;S>=0&&(i.replace(n,e,t),!(i.steps.length>_));S--){let v=a[S];v<0||(n=o.before(v),e=r.after(v))}}(this,n,e,t),this}replaceRangeWith(n,e,t){return function m7t(i,n,e,t){if(!t.isInline&&n==e&&i.doc.resolve(n).parent.content.size){let o=function c7t(i,n,e){let t=i.resolve(n);if(t.parent.canReplaceWith(t.index(),t.index(),e))return n;if(0==t.parentOffset)for(let o=t.depth-1;o>=0;o--){let r=t.index(o);if(t.node(o).canReplaceWith(r,r,e))return t.before(o+1);if(r>0)return null}if(t.parentOffset==t.parent.content.size)for(let o=t.depth-1;o>=0;o--){let r=t.indexAfter(o);if(t.node(o).canReplaceWith(r,r,e))return t.after(o+1);if(r<t.node(o).childCount)return null}return null}(i.doc,n,t.type);null!=o&&(n=e=o)}i.replaceRange(n,e,new tt(Oe.from(t),0,0))}(this,n,e,t),this}deleteRange(n,e){return function _7t(i,n,e){let t=i.doc.resolve(n),o=i.doc.resolve(e),r=SNe(t,o);for(let a=0;a<r.length;a++){let l=r[a],c=a==r.length-1;if(c&&0==l||t.node(l).type.contentMatch.validEnd)return i.delete(t.start(l),o.end(l));if(l>0&&(c||t.node(l-1).canReplace(t.index(l-1),o.indexAfter(l-1))))return i.delete(t.before(l),o.after(l))}for(let a=1;a<=t.depth&&a<=o.depth;a++)if(n-t.start(a)==t.depth-a&&e>t.end(a)&&o.end(a)-e!=o.depth-a)return i.delete(t.before(a),e);i.delete(n,e)}(this,n,e),this}lift(n,e){return function e7t(i,n,e){let{$from:t,$to:o,depth:r}=n,a=t.before(r+1),l=o.after(r+1),c=a,u=l,f=Oe.empty,_=0;for(let b=r,D=!1;b>e;b--)D||t.index(b)>0?(D=!0,f=Oe.from(t.node(b).copy(f)),_++):c--;let S=Oe.empty,v=0;for(let b=r,D=!1;b>e;b--)D||o.after(b+1)<o.end(b)?(D=!0,S=Oe.from(o.node(b).copy(S)),v++):u++;i.step(new jr(c,u,a,l,new tt(f.append(S),_,v),f.size-_,!0))}(this,n,e),this}join(n,e=1){return function l7t(i,n,e){let t=new vl(n-e,n+e,tt.empty,!0);i.step(t)}(this,n,e),this}wrap(n,e){return function i7t(i,n,e){let t=Oe.empty;for(let a=e.length-1;a>=0;a--){if(t.size){let l=e[a].type.contentMatch.matchFragment(t);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}t=Oe.from(e[a].type.create(e[a].attrs,t))}let o=n.start,r=n.end;i.step(new jr(o,r,o,r,new tt(t,0,0),e.length,!0))}(this,n,e),this}setBlockType(n,e=n,t,o=null){return function s7t(i,n,e,t,o){if(!t.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let r=i.steps.length;i.doc.nodesBetween(n,e,(a,l)=>{if(a.isTextblock&&!a.hasMarkup(t,o)&&function o7t(i,n,e){let t=i.resolve(n),o=t.index();return t.parent.canReplaceWith(o,o+1,e)}(i.doc,i.mapping.slice(r).map(l),t)){i.clearIncompatible(i.mapping.slice(r).map(l,1),t);let c=i.mapping.slice(r),u=c.map(l,1),f=c.map(l+a.nodeSize,1);return i.step(new jr(u,f,u+1,f-1,new tt(Oe.from(t.create(o,null,a.marks)),0,0),1,!0)),!1}})}(this,n,e,t,o),this}setNodeMarkup(n,e,t=null,o){return function r7t(i,n,e,t,o){let r=i.doc.nodeAt(n);if(!r)throw new RangeError("No node at given position");e||(e=r.type);let a=e.create(t,null,o||r.marks);if(r.isLeaf)return i.replaceWith(n,n+r.nodeSize,a);if(!e.validContent(r.content))throw new RangeError("Invalid content for node type "+e.name);i.step(new jr(n,n+r.nodeSize,n+1,n+r.nodeSize-1,new tt(Oe.from(a),0,0),1,!0))}(this,n,e,t,o),this}setNodeAttribute(n,e,t){return this.step(new Qk(n,e,t)),this}setDocAttribute(n,e){return this.step(new Yx(n,e)),this}addNodeMark(n,e){return this.step(new cv(n,e)),this}removeNodeMark(n,e){if(!(e instanceof Bs)){let t=this.doc.nodeAt(n);if(!t)throw new RangeError("No node at position "+n);if(!(e=e.isInSet(t.marks)))return this}return this.step(new Yk(n,e)),this}split(n,e=1,t){return function a7t(i,n,e=1,t){let o=i.doc.resolve(n),r=Oe.empty,a=Oe.empty;for(let l=o.depth,c=o.depth-e,u=e-1;l>c;l--,u--){r=Oe.from(o.node(l).copy(r));let f=t&&t[u];a=Oe.from(f?f.type.create(f.attrs,a):o.node(l).copy(a))}i.step(new vl(n,n,new tt(r.append(a),e,e),!0))}(this,n,e,t),this}addMark(n,e,t){return function JFt(i,n,e,t){let a,l,o=[],r=[];i.doc.nodesBetween(n,e,(c,u,f)=>{if(!c.isInline)return;let _=c.marks;if(!t.isInSet(_)&&f.type.allowsMarkType(t.type)){let S=Math.max(u,n),v=Math.min(u+c.nodeSize,e),b=t.addToSet(_);for(let D=0;D<_.length;D++)_[D].isInSet(b)||(a&&a.to==S&&a.mark.eq(_[D])?a.to=v:o.push(a=new Qu(S,v,_[D])));l&&l.to==S?l.to=v:r.push(l=new pg(S,v,t))}}),o.forEach(c=>i.step(c)),r.forEach(c=>i.step(c))}(this,n,e,t),this}removeMark(n,e,t){return function qFt(i,n,e,t){let o=[],r=0;i.doc.nodesBetween(n,e,(a,l)=>{if(!a.isInline)return;r++;let c=null;if(t instanceof $x){let f,u=a.marks;for(;f=t.isInSet(u);)(c||(c=[])).push(f),u=f.removeFromSet(u)}else t?t.isInSet(a.marks)&&(c=[t]):c=a.marks;if(c&&c.length){let u=Math.min(l+a.nodeSize,e);for(let f=0;f<c.length;f++){let S,_=c[f];for(let v=0;v<o.length;v++){let b=o[v];b.step==r-1&&_.eq(o[v].style)&&(S=b)}S?(S.to=u,S.step=r):o.push({style:_,from:Math.max(l,n),to:u,step:r})}}}),o.forEach(a=>i.step(new Qu(a.from,a.to,a.style)))}(this,n,e,t),this}clearIncompatible(n,e,t){return function QFt(i,n,e,t=e.contentMatch){let o=i.doc.nodeAt(n),r=[],a=n+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),u=a+c.nodeSize,f=t.matchType(c.type);if(f){t=f;for(let _=0;_<c.marks.length;_++)e.allowsMarkType(c.marks[_].type)||i.step(new Qu(a,u,c.marks[_]));if(c.isText&&!e.spec.code){let _,v,S=/\r?\n|\r/g;for(;_=S.exec(c.text);)v||(v=new tt(Oe.from(e.schema.text(" ",e.allowedMarks(c.marks))),0,0)),r.push(new vl(a+_.index,a+_.index+_[0].length,v))}}else r.push(new vl(a,u,tt.empty));a=u}if(!t.validEnd){let l=t.fillBefore(Oe.empty,!0);i.replace(a,a,new tt(l,0,0))}for(let l=r.length-1;l>=0;l--)i.step(r[l])}(this,n,e,t),this}}const Tre=Object.create(null);class Fn{constructor(n,e,t){this.$anchor=n,this.$head=e,this.ranges=t||[new CNe(n.min(e),n.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let n=this.ranges;for(let e=0;e<n.length;e++)if(n[e].$from.pos!=n[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(n,e=tt.empty){let t=e.content.lastChild,o=null;for(let l=0;l<e.openEnd;l++)o=t,t=t.lastChild;let r=n.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:c,$to:u}=a[l],f=n.mapping.slice(r);n.replaceRange(f.map(c.pos),f.map(u.pos),l?tt.empty:e),0==l&&yNe(n,r,(t?t.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(n,e){let t=n.steps.length,o=this.ranges;for(let r=0;r<o.length;r++){let{$from:a,$to:l}=o[r],c=n.mapping.slice(t),u=c.map(a.pos),f=c.map(l.pos);r?n.deleteRange(u,f):(n.replaceRangeWith(u,f,e),yNe(n,t,e.isInline?-1:1))}}static findFrom(n,e,t=!1){let o=n.parent.inlineContent?new Jn(n):eO(n.node(0),n.parent,n.pos,n.index(),e,t);if(o)return o;for(let r=n.depth-1;r>=0;r--){let a=e<0?eO(n.node(0),n.node(r),n.before(r+1),n.index(r),e,t):eO(n.node(0),n.node(r),n.after(r+1),n.index(r)+1,e,t);if(a)return a}return null}static near(n,e=1){return this.findFrom(n,e)||this.findFrom(n,-e)||new Cl(n.node(0))}static atStart(n){return eO(n,n,0,0,1)||new Cl(n)}static atEnd(n){return eO(n,n,n.content.size,n.childCount,-1)||new Cl(n)}static fromJSON(n,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let t=Tre[e.type];if(!t)throw new RangeError(`No selection type ${e.type} defined`);return t.fromJSON(n,e)}static jsonID(n,e){if(n in Tre)throw new RangeError("Duplicate use of selection JSON ID "+n);return Tre[n]=e,e.prototype.jsonID=n,e}getBookmark(){return Jn.between(this.$anchor,this.$head).getBookmark()}}Fn.prototype.visible=!0;class CNe{constructor(n,e){this.$from=n,this.$to=e}}let bNe=!1;function ENe(i){!bNe&&!i.parent.inlineContent&&(bNe=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+i.parent.type.name+")"))}class Jn extends Fn{constructor(n,e=n){ENe(n),ENe(e),super(n,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(n,e){let t=n.resolve(e.map(this.head));if(!t.parent.inlineContent)return Fn.near(t);let o=n.resolve(e.map(this.anchor));return new Jn(o.parent.inlineContent?o:t,t)}replace(n,e=tt.empty){if(super.replace(n,e),e==tt.empty){let t=this.$from.marksAcross(this.$to);t&&n.ensureMarks(t)}}eq(n){return n instanceof Jn&&n.anchor==this.anchor&&n.head==this.head}getBookmark(){return new b9(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(n,e){if("number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new Jn(n.resolve(e.anchor),n.resolve(e.head))}static create(n,e,t=e){let o=n.resolve(e);return new this(o,t==e?o:n.resolve(t))}static between(n,e,t){let o=n.pos-e.pos;if((!t||o)&&(t=o>=0?1:-1),!e.parent.inlineContent){let r=Fn.findFrom(e,t,!0)||Fn.findFrom(e,-t,!0);if(!r)return Fn.near(e,t);e=r.$head}return n.parent.inlineContent||(0==o||(n=(Fn.findFrom(n,-t,!0)||Fn.findFrom(n,t,!0)).$anchor).pos<e.pos!=o<0)&&(n=e),new Jn(n,e)}}Fn.jsonID("text",Jn);class b9{constructor(n,e){this.anchor=n,this.head=e}map(n){return new b9(n.map(this.anchor),n.map(this.head))}resolve(n){return Jn.between(n.resolve(this.anchor),n.resolve(this.head))}}class Vt extends Fn{constructor(n){let e=n.nodeAfter,t=n.node(0).resolve(n.pos+e.nodeSize);super(n,t),this.node=e}map(n,e){let{deleted:t,pos:o}=e.mapResult(this.anchor),r=n.resolve(o);return t?Fn.near(r):new Vt(r)}content(){return new tt(Oe.from(this.node),0,0)}eq(n){return n instanceof Vt&&n.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Mre(this.anchor)}static fromJSON(n,e){if("number"!=typeof e.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Vt(n.resolve(e.anchor))}static create(n,e){return new Vt(n.resolve(e))}static isSelectable(n){return!n.isText&&!1!==n.type.spec.selectable}}Vt.prototype.visible=!1,Fn.jsonID("node",Vt);class Mre{constructor(n){this.anchor=n}map(n){let{deleted:e,pos:t}=n.mapResult(this.anchor);return e?new b9(t,t):new Mre(t)}resolve(n){let e=n.resolve(this.anchor),t=e.nodeAfter;return t&&Vt.isSelectable(t)?new Vt(e):Fn.near(e)}}class Cl extends Fn{constructor(n){super(n.resolve(0),n.resolve(n.content.size))}replace(n,e=tt.empty){if(e==tt.empty){n.delete(0,n.doc.content.size);let t=Fn.atStart(n.doc);t.eq(n.selection)||n.setSelection(t)}else super.replace(n,e)}toJSON(){return{type:"all"}}static fromJSON(n){return new Cl(n)}map(n){return new Cl(n)}eq(n){return n instanceof Cl}getBookmark(){return g7t}}Fn.jsonID("all",Cl);const g7t={map(){return this},resolve:i=>new Cl(i)};function eO(i,n,e,t,o,r=!1){if(n.inlineContent)return Jn.create(i,e);for(let a=t-(o>0?0:1);o>0?a<n.childCount:a>=0;a+=o){let l=n.child(a);if(l.isAtom){if(!r&&Vt.isSelectable(l))return Vt.create(i,e-(o<0?l.nodeSize:0))}else{let c=eO(i,l,e+o,o<0?l.childCount:0,o,r);if(c)return c}e+=l.nodeSize*o}return null}function yNe(i,n,e){let t=i.steps.length-1;if(t<n)return;let a,o=i.steps[t];(o instanceof vl||o instanceof jr)&&(i.mapping.maps[t].forEach((l,c,u,f)=>{null==a&&(a=f)}),i.setSelection(Fn.near(i.doc.resolve(a),e)))}class S7t extends vNe{constructor(n){super(n.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=n.selection,this.storedMarks=n.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(n){if(n.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=n,this.curSelectionFor=this.steps.length,this.updated=-3&this.updated|1,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(n){return this.storedMarks=n,this.updated|=2,this}ensureMarks(n){return Bs.sameSet(this.storedMarks||this.selection.$from.marks(),n)||this.setStoredMarks(n),this}addStoredMark(n){return this.ensureMarks(n.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(n){return this.ensureMarks(n.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(n,e){super.addStep(n,e),this.updated=-3&this.updated,this.storedMarks=null}setTime(n){return this.time=n,this}replaceSelection(n){return this.selection.replace(this,n),this}replaceSelectionWith(n,e=!0){let t=this.selection;return e&&(n=n.mark(this.storedMarks||(t.empty?t.$from.marks():t.$from.marksAcross(t.$to)||Bs.none))),t.replaceWith(this,n),this}deleteSelection(){return this.selection.replace(this),this}insertText(n,e,t){let o=this.doc.type.schema;if(null==e)return n?this.replaceSelectionWith(o.text(n),!0):this.deleteSelection();{if(null==t&&(t=e),t=t??e,!n)return this.deleteRange(e,t);let r=this.storedMarks;if(!r){let a=this.doc.resolve(e);r=t==e?a.marks():a.marksAcross(this.doc.resolve(t))}return this.replaceRangeWith(e,t,o.text(n,r)),this.selection.empty||this.setSelection(Fn.near(this.selection.$to)),this}}setMeta(n,e){return this.meta["string"==typeof n?n:n.key]=e,this}getMeta(n){return this.meta["string"==typeof n?n:n.key]}get isGeneric(){for(let n in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function kNe(i,n){return n&&i?i.bind(n):i}class Jx{constructor(n,e,t){this.name=n,this.init=kNe(e.init,t),this.apply=kNe(e.apply,t)}}const v7t=[new Jx("doc",{init:i=>i.doc||i.schema.topNodeType.createAndFill(),apply:i=>i.doc}),new Jx("selection",{init:(i,n)=>i.selection||Fn.atStart(n.doc),apply:i=>i.selection}),new Jx("storedMarks",{init:i=>i.storedMarks||null,apply:(i,n,e,t)=>t.selection.$cursor?i.storedMarks:null}),new Jx("scrollToSelection",{init:()=>0,apply:(i,n)=>i.scrolledIntoView?n+1:n})];class Ire{constructor(n,e){this.schema=n,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=v7t.slice(),e&&e.forEach(t=>{if(this.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");this.plugins.push(t),this.pluginsByKey[t.key]=t,t.spec.state&&this.fields.push(new Jx(t.key,t.spec.state,t))})}}class yb{constructor(n){this.config=n}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(n){return this.applyTransaction(n).state}filterTransaction(n,e=-1){for(let t=0;t<this.config.plugins.length;t++)if(t!=e){let o=this.config.plugins[t];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,n,this))return!1}return!0}applyTransaction(n){if(!this.filterTransaction(n))return{state:this,transactions:[]};let e=[n],t=this.applyInner(n),o=null;for(;;){let r=!1;for(let a=0;a<this.config.plugins.length;a++){let l=this.config.plugins[a];if(l.spec.appendTransaction){let c=o?o[a].n:0,u=o?o[a].state:this,f=c<e.length&&l.spec.appendTransaction.call(l,c?e.slice(c):e,u,t);if(f&&t.filterTransaction(f,a)){if(f.setMeta("appendedTransaction",n),!o){o=[];for(let _=0;_<this.config.plugins.length;_++)o.push(_<a?{state:t,n:e.length}:{state:this,n:0})}e.push(f),t=t.applyInner(f),r=!0}o&&(o[a]={state:t,n:e.length})}}if(!r)return{state:t,transactions:e}}}applyInner(n){if(!n.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let e=new yb(this.config),t=this.config.fields;for(let o=0;o<t.length;o++){let r=t[o];e[r.name]=r.apply(n,this[r.name],this,e)}return e}get tr(){return new S7t(this)}static create(n){let e=new Ire(n.doc?n.doc.type.schema:n.schema,n.plugins),t=new yb(e);for(let o=0;o<e.fields.length;o++)t[e.fields[o].name]=e.fields[o].init(n,t);return t}reconfigure(n){let e=new Ire(this.schema,n.plugins),t=e.fields,o=new yb(e);for(let r=0;r<t.length;r++){let a=t[r].name;o[a]=this.hasOwnProperty(a)?this[a]:t[r].init(n,o)}return o}toJSON(n){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(t=>t.toJSON())),n&&"object"==typeof n)for(let t in n){if("doc"==t||"selection"==t)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=n[t],r=o.spec.state;r&&r.toJSON&&(e[t]=r.toJSON.call(o,this[o.key]))}return e}static fromJSON(n,e,t){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!n.schema)throw new RangeError("Required config field 'schema' missing");let o=new Ire(n.schema,n.plugins),r=new yb(o);return o.fields.forEach(a=>{if("doc"==a.name)r.doc=tp.fromJSON(n.schema,e.doc);else if("selection"==a.name)r.selection=Fn.fromJSON(r.doc,e.selection);else if("storedMarks"==a.name)e.storedMarks&&(r.storedMarks=e.storedMarks.map(n.schema.markFromJSON));else{if(t)for(let l in t){let c=t[l],u=c.spec.state;if(c.key==a.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(e,l))return void(r[a.name]=u.fromJSON.call(c,n,e[l],r))}r[a.name]=a.init(n,r)}}),r}}function ONe(i,n,e){for(let t in i){let o=i[t];o instanceof Function?o=o.bind(n):"handleDOMEvents"==t&&(o=ONe(o,n,{})),e[t]=o}return e}class Xd{constructor(n){this.spec=n,this.props={},n.props&&ONe(n.props,this,this.props),this.key=n.key?n.key.key:TNe("plugin")}getState(n){return n[this.key]}}const Rre=Object.create(null);function TNe(i){return i in Rre?i+"$"+ ++Rre[i]:(Rre[i]=0,i+"$")}class nc{constructor(n="key"){this.key=TNe(n)}get(n){return n.config.pluginsByKey[this.key]}getState(n){return n[this.key]}}const Qf="k-parent-node",co="k-colgroup-data",Zf="k-resizable-node",Are="k-editor-resize-handle",MNe="data-dir-table-resize",INe="data-dir-image-resize",tO=(i,n)=>{const e=n.style,t=n.value,o=n.newValue;if(!i)return{changed:!1,style:null};const r=i.split(/\s*;\s*/).filter(l=>!!l),a=r.filter(l=>{const c=l.split(/\s*:\s*/);return!(c[0].toLowerCase()===e&&t.test(c[1]))});return o&&a.push(`${e}: ${o}`),{style:a.join("; ")+(a.length?";":""),changed:!!o||a.length!==r.length}},b7t=/^.+$/;function np(i,n,e){let t;if(new RegExp("[^-]?"+n+":").test(i.style||"")){const{style:o}=tO(i.style||"",{style:n,value:b7t,newValue:e});t=Object.assign(Object.assign({},i),{style:o})}else t=Object.assign(Object.assign({},i),i.style?{style:i.style.replace(/;$/,"")+"; "+n+": "+e+";"}:{style:n+": "+e+";"});return t}const RNe=i=>i instanceof tp?i.type.name:i.name,ANe=(i,n=1)=>e=>((i,n=1)=>e=>{const{$from:t}=e;for(let o=t.depth;o>0;o--){const r=t.node(o);if(i(r)&&0==(n-=1))return{depth:o,node:r}}})(t=>RNe(t)===RNe(i),n)(e);function xre(i,n){for(let e=i.depth;e>0;e--){let t=i.node(e);if(n(t))return{node:t,depth:e}}return null}const xNe=i=>{const n={};for(let e in i)e&&(i[e]||0===i[e])&&(n[e]=i[e]);return n},NNe=(i,n)=>(e,t)=>{const{selection:o,tr:r}=e;o instanceof Vt&&o.node.type.name===i.type.name&&i.isLeaf&&!i.isText&&1===i.nodeSize?(r.setNodeMarkup(o.from,null,Object.assign(Object.assign({},xNe(o.node.attrs)),xNe(i.attrs))),r.setSelection(Vt.create(r.doc,o.from))):r.replaceSelectionWith(i),n&&r.scrollIntoView(),t(r)},qx=i=>{const n=i.selection;if(n instanceof Jn||n instanceof Cl){const e=n.content().content;return e.textBetween(0,e.size)}return""},w7t={before:/[^ !,?.\[\]{}()]+$/i,after:/^[^ !,?.\[\]{}()]+/i},Nre=(i,n,e)=>{if(!e.applyToWord||!i.selection.empty)return{state:i,dispatch:n};const t=!0===e.applyToWord?w7t:e.applyToWord;let o=null;const r=i.tr,a=i.selection,l=a.$head.nodeBefore,c=a.$head.nodeAfter;if(l&&"text"===l.type.name&&l.text&&c&&"text"===c.type.name&&c.text){const u=[];a.$head.parent.descendants((I,x)=>(u.push({node:I,pos:x}),!1));let f=a.$head.parentOffset;const _=u.findIndex(({node:I,pos:x})=>x<=f&&x+I.nodeSize>=f);let S=u[_].node.text,v=!1;for(let I=_-1;I>=0;I--){const x=u[I];!v&&x&&"text"===x.node.type.name?S=x.node.text+S:(v=!0,f-=x.node.nodeSize)}for(let I=_+1;I<u.length;I++){const x=u[I];if(!x||"text"!==x.node.type.name)break;S+=x.node.text}const b=S.substring(0,f),D=S.substring(f),k=t.before.exec(b),O=t.after.exec(D);if(k&&O){const P=o=a.from;return r.setSelection(Jn.create(i.doc,P-k[0].length,P+O[0].length)),{state:{tr:r,selection:r.selection,doc:r.doc,storedMarks:null,schema:r.doc.type.schema},dispatch:j=>{j.setSelection(Jn.create(j.doc,o)),n(j)}}}}return{state:i,dispatch:n}},ic=(i,n)=>(e,t,o)=>{const{state:r,dispatch:a}=Nre(e,t,n);return i(n)(r,a)},Zu=i=>(i||"").split(/\s*;\s*/).filter(Boolean).map(e=>{const t=e.split(/\s*:\s*/);return{[t[0]]:t[1]}}).reduce((e,t)=>Object.assign(Object.assign({},e),t),{}),y9=(i,n,e)=>{const t=i.getAttribute(n);void 0!==e&&e!==t?"style"===n?(i.removeAttribute(n),((i,n)=>{const e=Zu(n);for(let t in e)t&&typeof i.style[t]<"u"&&(i.style[t]=e[t])})(i,e)):i.setAttribute(n,e):void 0===e&&i.removeAttribute(n)};class nO{constructor(n,e){this.nodes=n,this.marks=e}static renderSpec(n,e,t=null){if("string"==typeof e)return{dom:n.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;let o=e[0],r=o.indexOf(" ");r>0&&(t=o.slice(0,r),o=o.slice(r+1));let a,l=t?n.createElementNS(t,o):n.createElement(o),c=e[1],u=1;if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c)){u=2;for(let f in c)null!=c[f]&&(r=f.indexOf(" "),r>0?l.setAttributeNS(f.slice(0,r),f.slice(r+1),c[f]):y9(l,f,c[f]))}for(let f=u;f<e.length;f++){let _=e[f];if(0===_){if(f<e.length-1||f>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}{let{dom:S,contentDOM:v}=nO.renderSpec(n,_,t);if(l.appendChild(S),v){if(a)throw new RangeError("Multiple content holes");a=v}}}return{dom:l,contentDOM:a}}static fromSchema(n){return n.cached.domSerializer||(n.cached.domSerializer=new nO(this.nodesFromSchema(n),this.marksFromSchema(n)))}static nodesFromSchema(n){let e=LNe(n.nodes);return e.text||(e.text=t=>t.text),e}static marksFromSchema(n){return LNe(n.marks)}serializeFragment(n,e={},t){t||(t=Lre(e).createDocumentFragment());let o=t,r=[];return n.forEach(a=>{if(r.length||a.marks.length){let l=0,c=0;for(;l<r.length&&c<a.marks.length;){let u=a.marks[c];if(this.marks[u.type.name]){if(!u.eq(r[l][0])||!1===u.type.spec.spanning)break;l++,c++}else c++}for(;l<r.length;)o=r.pop()[1];for(;c<a.marks.length;){let u=a.marks[c++],f=this.serializeMark(u,a.isInline,e);f&&(r.push([u,o]),o.appendChild(f.dom),o=f.contentDOM||f.dom)}}o.appendChild(this.serializeNodeInner(a,e))}),t}serializeNode(n,e={}){let t=this.serializeNodeInner(n,e);for(let o=n.marks.length-1;o>=0;o--){let r=this.serializeMark(n.marks[o],n.isInline,e);r&&((r.contentDOM||r.dom).appendChild(t),t=r.dom)}return t}serializeMark(n,e,t={}){let o=this.marks[n.type.name];return o&&nO.renderSpec(Lre(t),o(n,e))}serializeNodeInner(n,e){let{dom:t,contentDOM:o}=nO.renderSpec(Lre(e),this.nodes[n.type.name](n));if(o){if(n.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(n.content,e,o)}return t}}function LNe(i){let n={};for(let e in i)if(i[e]){let t=i[e].spec.toDOM;t&&(n[e]=t)}return n}function Lre(i){return i.document||window.document}const Pre=(i,n)=>{const e=(i.ownerDocument||document).createElement(n);Array.from(i.rows).filter(t=>t.getAttribute(Qf)===n).forEach(t=>{t.removeAttribute(Qf),e.appendChild(t)}),e.children.length&&i.appendChild(e)},Gre=(i,n)=>{const e=n.toUpperCase();i.filter(t=>t.nodeName===e).forEach(t=>{Array.from(t.children).forEach(o=>{o.setAttribute(Qf,n),t.parentNode&&t.parentNode.insertBefore(o,t)}),t.remove()})},D9="data-style",I7t=" "+D9+"=",R7t=/<[^>]+>/gm,A7t=/\sstyle=/gm,x7t=i=>i.replace(A7t,I7t),Qx=i=>{const n=document.createElement("template");return n.innerHTML=(i=>i.replace(R7t,x7t))(i),(i=>{Array.from(i.querySelectorAll("["+D9+"]")).forEach(n=>{const e=n.getAttribute(D9);n.removeAttribute(D9),((i,n)=>{i.split(";").filter(e=>""!==e).forEach(e=>{const t=e.split(":");n.style[t[0].trim()]=t[1].trim()})})(e,n)})})(n.content),n.content},Ure=i=>Array.from(i.childNodes).reduce((n,e)=>n+(e.outerHTML||e.textContent||""),""),PNe=i=>{const n=nO.fromSchema(i.type.schema).serializeFragment(i.content);return(i=>{Array.from(i.querySelectorAll("table")).forEach(n=>{Pre(n,"thead"),Pre(n,"tbody"),Pre(n,"tfoot");const e=Array.from(n.children).find(o=>0===o.children.length);e&&e.remove();const t=n.parentNode instanceof HTMLDivElement?n.parentNode:null;if(t&&t.matches("div[table]")){n.style.marginLeft=t.style.marginLeft,n.style.marginRight=t.style.marginRight;const o=Array.from(t.children).find(r=>r.matches("div[caption]"));if(o&&"<img>"!==o.innerHTML){const r=n.createCaption();for(o.id&&(r.id=o.id),o.className&&(r.className=o.className),Array.from(o.style).forEach(a=>{r.style[a]=o.style[a]});o.firstChild;)r.appendChild(o.firstChild)}t.style.width&&!n.style.width&&(n.style.width=t.style.width),t.parentNode.insertBefore(n,t),t.parentNode.removeChild(t)}})})(n),n},GNe=(i,n,e)=>Wk.fromSchema(n).parse(i,e),Fre=(i,n,e)=>{const t=Qx(i);return(i=>{Array.from(i.querySelectorAll("table")).forEach(n=>{const e=Array.from(n.children);e.some(o=>"THEAD"===o.nodeName||"TFOOT"===o.nodeName)&&(Gre(e,"thead"),Gre(e,"tbody"),Gre(e,"tfoot"));const t=e.find(o=>"COLGROUP"===o.nodeName);if(t&&(n.setAttribute(co,t.outerHTML),t.remove()),n.caption||n.style.marginLeft||n.style.marginRight){const o=document.createElement("div");if(o.setAttribute("table",""),o.style.display="table",o.style.marginLeft=n.style.marginLeft,o.style.marginRight=n.style.marginRight,n.caption){const r=document.createElement("div");for(r.setAttribute("caption",""),n.caption.id&&(r.id=n.caption.id),n.caption.className&&(r.className=n.caption.className),Array.from(n.caption.style).forEach(a=>{r.style[a]=n.caption.style[a]});n.caption.firstChild;)r.appendChild(n.caption.firstChild);n.removeChild(n.caption),o.appendChild(r)}n.parentNode.insertBefore(o,n),o.appendChild(n),/%/.test(n.style.width)&&(o.style.width=n.style.width,n.style.width="")}})})(t),GNe(t,n,e)},Bre=i=>{const n=PNe(i.doc);return Ure(n)},Vre=(i,n,e)=>{let t=o=>{let r=n[o],a=r.$from,l=r.$to,c=0===a.depth&&i.type.allowsMarkType(e);if(i.nodesBetween(a.pos,l.pos,u=>{if(c)return!1;c=u.inlineContent&&u.type.allowsMarkType(e)}),c)return{v:!0}};for(let o=0;o<n.length;o++){let r=t(o);if(r)return r.v}return!1},UNe=(i,n,e)=>(t,o)=>{let{empty:r,$cursor:a,ranges:l}=t.selection;if(r&&!a||!Vre(t.doc,l,i))return!1;if(o)if(a)i.isInSet(t.storedMarks||a.marks())?o(e.removeStoredMark(i)):o(e.addStoredMark(i.create(n)));else{let c=!1;for(let u=0;!c&&u<l.length;u++){let{$from:f,$to:_}=l[u];c=t.doc.rangeHasMark(f.pos,_.pos,i)}for(let u=0;u<l.length;u++){let{$from:f,$to:_}=l[u];c?e.removeMark(f.pos,_.pos,i):e.addMark(f.pos,_.pos,i.create(n))}o(e.scrollIntoView())}return!0},FNe=(i,n,e,t)=>{void 0===t&&(t=null);let o=[],r=0;return i.doc.nodesBetween(n,e,(a,l)=>{if(!a.isInline)return;r++;let c=null;if(t instanceof $x){let u=t.isInSet(a.marks);u&&(c=[u])}else t?t.isInSet(a.marks)&&(c=[t]):c=a.marks;if(c&&c.length){let u=Math.min(l+a.nodeSize,e);for(let f=0;f<c.length;f++){let S,_=c[f];for(let v=0;v<o.length;v++){let b=o[v];b.step===r-1&&_.eq(b.style)&&(S=b)}S?(S.to=u,S.step=r):o.push({style:_,from:Math.max(l,n),to:u,step:r})}}}),o.forEach(a=>i.step(new Qu(a.from,a.to,a.style))),i},fg=(i,n)=>{const e=i.schema.marks,t=(n.altMarks||[]).filter(v=>e[v]),o=n.altStyle;let{from:r,$from:a,to:l,empty:c}=i.selection;const u=e[n.mark],f=i.doc;let S,_=!1;return c?(S=i.storedMarks||a.marks(),_=u&&u.isInSet(S)||t.some(v=>e[v].isInSet(S))):_=u&&f.rangeHasMark(r,l,u)||t.some(v=>f.rangeHasMark(r,l,e[v])),!_&&o&&e.style?w9(i,e.style).some(v=>null!==VNe(v,o)):!!_},VNe=(i,n)=>{const t=(i&&i.attrs.style||"").split(/\s*;\s*/).filter(o=>!!o);for(let o=0;o<t.length;o++){const r=t[o].split(/\s*:\s*/);if(r[0].toLowerCase()===n.name&&n.value.test(r[1]))return r[1]}return null},w9=(i,n)=>{let{from:e,$from:t,to:o,empty:r}=i.selection,a=[];return r?a.push(n.isInSet(i.storedMarks||t.marks())):i.doc.nodesBetween(e,o,l=>{l.isInline&&a.push(n.isInSet(l.marks))}),a},V7t=(i,n)=>{const e=w9(i,n),t=e.filter(r=>!!r);return{hasNodesWithoutMarks:e.length!==t.length,marks:t}},zNe=(i,n)=>{const e=i.find(o=>"style"===o.type.name);return tO(e&&e.attrs.style,n)},z7t=(i,n,e,t,o)=>{const r=o.create({style:t.style});let a=[],l=[],c=null,u=null;return i.doc.nodesBetween(n,e,(f,_,S)=>{if(!f.isInline)return;let v=f.marks;if(!r.isInSet(v)&&S.type.allowsMarkType(r.type)){let b=Math.max(_,n),D=Math.min(_+f.nodeSize,e);const k=zNe(v,t);if(k.changed||t.newValue){const O=k.changed?{style:k.style||null}:{style:`${[t.style]}: ${t.newValue};`},I=o.isInSet(v)?v.find(J=>"style"===J.type.name):null,x=I?Object.assign(Object.assign({},I.attrs),O):O,P=o.create(x);let L=P.addToSet(v);for(let J=0;J<v.length;J++)v[J].isInSet(L)||(c&&c.to===b&&c.mark.eq(v[J])?c.to=D:(c=new Qu(b,D,v[J]),a.push(c)));const H=u&&u.to===b;H&&H&&P.attrs.style===u.mark.attrs.style?u.to=D:Object.keys(x).some(J=>null!==x[J])&&(u=new pg(b,D,P),l.push(u))}}}),a.forEach(f=>i.step(f)),l.forEach(f=>i.step(f)),a.length+l.length>0},HNe=(i,n)=>function(e,t,o){const{empty:r,ranges:a}=e.selection,l=e.selection instanceof Jn&&e.selection.$cursor;if(r&&!l||!Vre(e.doc,a,i))return!1;let c=!1;if(t){const u=o||e.tr;if(l){const f=e.storedMarks||l.marks();if(i.isInSet(f)){const _=zNe(f,n),S=f.find(b=>"style"===b.type.name),v=Object.assign(Object.assign({},S?S.attrs:{}),{style:_.style||null});if(((i,n)=>{const e=Object.keys(i),t=Object.keys(n);return e.length===t.length&&e.every(o=>i[o]===n[o])})(S.attrs,v))return!1;t(u.removeStoredMark(i)),Object.keys(v).some(b=>null!==v[b])&&t(u.addStoredMark(i.create(v))),c=!0}}else{for(let f=0;f<a.length;f++){let{$from:_,$to:S}=a[f];c=z7t(u,_.pos,S.pos,n,i)||c}c&&(u.scrollIntoView(),t(u))}}return c},ip=(i,n,e)=>(t,o)=>{const r=t.schema.marks,{altStyle:a,altMarks:l=[],mark:c}=i,u=n||t.tr;let f=!1,_=!1;const S=()=>_=!0;a&&r.style&&(f=HNe(r.style,{style:a.name,value:a.value})(t,S,u));const b=[c,...l].filter(D=>r[D]).map(D=>fg(t,{mark:D})&&r[D]).filter(D=>D);return b.length?((i,n,e,t)=>{let{$cursor:o,ranges:r}=n.selection;if(t=t||n.tr,o)i.forEach(a=>{a.isInSet(n.storedMarks||o.marks())&&e(t.removeStoredMark(a))});else{for(let a=0;a<r.length;a++){let{$from:l,$to:c}=r[a];i.forEach(u=>{FNe(t,l.pos,c.pos,u)})}e(t.scrollIntoView())}})(b,t,S,u):f||UNe(r[c],e,u)(t,S),_&&o(u),_},k9=(i,n)=>(e,t)=>{const r=e.schema.marks.style,a={style:i.style,value:/^.+$/,newValue:i.value},l=e.tr;n&&l.setMeta("commandName",n),l.setMeta("args",i);let{empty:c,$cursor:u,ranges:f}=e.selection;if(c&&!u||!r||!Vre(e.doc,f,r))return!1;if(u){const _=e.storedMarks||u.marks(),S=r.isInSet(_)?_.find(D=>"style"===D.type.name):null,v={style:null};if(S&&S.attrs.style){const D=tO(S.attrs.style,a);D.changed&&D.style&&(v.style=D.style)}else a.newValue&&(v.style=`${[a.style]}: ${a.newValue};`);const b=S?Object.assign(Object.assign({},S.attrs),v):v;return Object.keys(b).some(D=>null!==b[D])?t(l.addStoredMark(r.create(b))):t(l.removeStoredMark(r)),!0}return HNe(r,a)(e,t,l)},jNe=(i,n)=>(e,t)=>{const{$cursor:o}=e.selection;if(o){const r=o.parent,a=o.index(),l=e.schema.marks[i.mark],c=r.child(a).marks.find(b=>b.type===l),u=r.childCount;let S,v,f=o.pos-o.textOffset,_=r.child(a).nodeSize;for(S=a-1;S>=0&&c.isInSet(r.child(S).marks);)v=r.child(S).nodeSize,_+=v,f-=v,S-=1;for(S=a+1;S<u&&c.isInSet(r.child(S).marks);)_+=r.child(S).nodeSize,S+=1;t(FNe(n||e.tr,f,f+_,c))}else ip(i,n)(e,t)},$Ne=({mark:i,attrs:n},e="link")=>(t,o)=>{const r=t.schema.marks,a=t.tr;e&&(a.setMeta("commandName",e),a.setMeta("args",n));let l=!1;const c=()=>l=!0;if(((i,n)=>{const e=w9(i,n);return 1===e.length&&e[0]?e[0]:null})(t,r[i]))((i,n)=>(e,t)=>{const{$cursor:o,from:r,to:a}=e.selection,l=e.schema.marks[i.mark];if(o){const c=o.parent,u=o.index(),f=c.child(u).marks.find(k=>k.type===l),_=c.childCount;let b,D,S=o.pos-o.textOffset,v=c.child(u).nodeSize;for(b=u-1;b>=0&&f.isInSet(c.child(b).marks);)D=c.child(b).nodeSize,v+=D,S-=D,b-=1;for(b=u+1;b<_&&f.isInSet(c.child(b).marks);)v+=c.child(b).nodeSize,b+=1;n.removeMark(S,S+v,l),n.addMark(S,S+v,l.create(i.attrs)),t(n)}else n.doc.nodesBetween(r,a,(c,u)=>{c.isInline&&l.isInSet(c.marks)&&(n.removeMark(u,u+c.nodeSize,l),n.addMark(u,u+c.nodeSize,l.create(i.attrs)),t(n))})})({mark:i,attrs:n},a)(t,c);else{let u=t;fg(t,{mark:i})&&(jNe({mark:i,attrs:n},a)(t,c),u=yb.create({doc:a.doc,selection:a.selection})),l?UNe(r[i],n,a)(u,c):ip({mark:i},a,n)(u,c)}return l&&o(a),l},iO=(i,n,e,t)=>{if(!e.isTextblock)return!1;const{ranges:o}=i.selection;o.forEach(r=>{const a=i.steps.length;i.doc.nodesBetween(r.$from.pos,r.$to.pos,(u,f)=>{if(u.eq(n)&&u.isTextblock&&!u.hasMarkup(e,t)&&((i,n,e)=>{let t=i.resolve(n),o=t.index();return t.parent.canReplaceWith(o,o+1,e)})(i.doc,i.mapping.slice(a).map(f),e)){i.clearIncompatible(i.mapping.slice(a).map(f,1),e);let _=i.mapping.slice(a),S=_.map(f,1),v=_.map(f+u.nodeSize,1),b=new tt(Oe.from(e.create(t,null,u.marks)),0,0);return i.step(new jr(S,v,S+1,v-1,b,1,!0)),!1}})})},Db=(i,n={blocksInSelection:!1})=>{const{doc:e,selection:t}=i;let{$from:o,ranges:r}=t;const{blocksInSelection:a}=n,l=[],c=t instanceof Vt?t.node:void 0;return c?c.isBlock?(l.push(c),c.nodesBetween(0,c.content.size,u=>{u.isBlock&&l.push(u)})):!a&&o.parent&&o.parent.isBlock&&l.push(o.parent):r.forEach(u=>{const f=u.$from.pos,_=u.$to.pos;e.nodesBetween(f,_,(S,v,b,D)=>{S.isBlock&&(!a||v>=f&&v+S.content.size+2<=_)&&l.push(S)})}),l},XNe=(i,n)=>{let t,o,e=i.attrs.style;return e&&n.forEach(a=>{o={style:a.name,value:/^.+$/,newValue:a.value},t=tO(e,o),e=t.changed?t.style:e}),e=e||n.reduce((a,l)=>(a&&l.value?a+" ":"")+l.value?`${l.name}: ${l.value};`:"",""),Object.assign({},i.attrs,{style:e||null})},sO=(i,n)=>{let{from:e,to:t}=i.selection,o=!1;return i.doc.nodesBetween(e,t,r=>(o=o||r.type===n,!o)),o},q7t=i=>{const n=(i=>{const n=Db(i),e=i.schema.nodes,t=[];return n.forEach(o=>{o.type===e.paragraph?t.push("p"):o.type===e.heading?t.push(`h${o.attrs.level}`):o.type===e.blockquote&&e.blockquote.isTextblock&&t.push("blockquote")}),t})(i);return 1===new Set(n).size?n[0]:null},Q7t=i=>({tag:q7t(i)||""}),Zx=(i,n)=>(e,t)=>{const o=Db(e),r=e.tr;r.setMeta("commandName",n),o.forEach(l=>{if(l.type.isTextblock){const c=i.find(u=>u.node===l.type.name);if(c){const u=XNe(l,c.style);iO(r,l,l.type,u)}}});const a=r.docChanged;return a&&t(r.scrollIntoView()),a},dv=(i,n)=>{const e=Db(i);let t=!1;return e.forEach(o=>{if(!t&&o.type.isTextblock&&o.attrs.style){const r=n.find(a=>a.node===o.type.name);r&&(t=r.style.every(a=>!!a.value&&new RegExp(`${a.name}:\\s?${a.value}`,"i").test(o.attrs.style)))}}),t},WNe=(i={blocksInSelection:!0})=>(n,e)=>{const t=n.tr,{blocksInSelection:o,blockNodeType:r,exceptMarks:a}=i;((i,{except:n})=>{const{doc:e,selection:t}=i,o=e.type.schema,{empty:r,ranges:a}=t,l=(n||[]).map(c=>c.name);if(!r){const c=Object.keys(o.marks).map(u=>o.marks[u]).filter(u=>-1===l.indexOf(u.name));a.forEach(({$from:u,$to:f})=>{c.forEach(_=>i.removeMark(u.pos,f.pos,_))})}})(t,{except:(a||[n.schema.marks.link]).filter(Boolean)}),((i,n={blocksInSelection:!0})=>{const{doc:e,selection:t}=i,{blocksInSelection:o,blockNodeType:r}=n;Db({doc:e,selection:t},{blocksInSelection:o}).filter(c=>c.isTextblock).forEach(c=>{const u=c.attrs||{},{style:f="",class:_=""}=u,S=ny(u,["style","class"]),v=r||c.type;(f||_||v!==c.type)&&iO(i,c,v,S)})})(t,{blocksInSelection:o,blockNodeType:r});const c=t.docChanged;return c&&e&&e(t),c};function KNe(i){return function(n,e){let{$from:t,$to:o}=n.selection,r=t.blockRange(o,a=>a.childCount>0&&a.firstChild.type==i);return!!r&&(!e||(t.node(r.depth-1).type==i?function lBt(i,n,e,t){let o=i.tr,r=t.end,a=t.$to.end(t.depth);r<a&&(o.step(new jr(r-1,a,r,a,new tt(Oe.from(e.create(null,t.parent.copy())),1,0),1,!0)),t=new jx(o.doc.resolve(t.$from.pos),o.doc.resolve(a),t.depth));const l=Jk(t);if(null==l)return!1;o.lift(t,l);let c=o.mapping.map(r,-1)-1;return C9(o.doc,c)&&o.join(c),n(o.scrollIntoView()),!0}(n,e,i,r):function cBt(i,n,e){let t=i.tr,o=e.parent;for(let v=e.end,b=e.endIndex-1,D=e.startIndex;b>D;b--)v-=o.child(b).nodeSize,t.delete(v-1,v+1);let r=t.doc.resolve(e.start),a=r.nodeAfter;if(t.mapping.map(e.end)!=e.start+r.nodeAfter.nodeSize)return!1;let l=0==e.startIndex,c=e.endIndex==o.childCount,u=r.node(-1),f=r.index(-1);if(!u.canReplace(f+(l?0:1),f+1,a.content.append(c?Oe.empty:Oe.from(o))))return!1;let _=r.pos,S=_+a.nodeSize;return t.step(new jr(_-(l?1:0),S+(c?1:0),_+1,S-1,new tt((l?Oe.empty:Oe.from(o.copy(Oe.empty))).append(c?Oe.empty:Oe.from(o.copy(Oe.empty))),l?0:1,c?0:1),l?0:1)),n(t.scrollIntoView()),!0}(n,e,r)))}}function YNe(i){return function(n,e){let{$from:t,$to:o}=n.selection,r=t.blockRange(o,u=>u.childCount>0&&u.firstChild.type==i);if(!r)return!1;let a=r.startIndex;if(0==a)return!1;let l=r.parent,c=l.child(a-1);if(c.type!=i)return!1;if(e){let u=c.lastChild&&c.lastChild.type==l.type,f=Oe.from(u?i.create():null),_=new tt(Oe.from(i.create(null,Oe.from(l.type.create(null,f)))),u?3:1,0),S=r.start,v=r.end;e(n.tr.step(new jr(S-(u?3:1),v,S,v,_,1,!0)).scrollIntoView())}return!0}}const oO={orderedList:"ordered_list",bulletList:"bullet_list",listItem:"list_item"},JNe={listType:oO.orderedList,types:Object.assign({},oO)},qNe={listType:oO.bulletList,types:Object.assign({},oO)},rO={nodes:[{node:"paragraph",style:"margin-left",rtlStyle:"margin-right",step:30,unit:"px"},{node:"heading",style:"margin-left",rtlStyle:"margin-right",step:30,unit:"px"}],listsTypes:Object.assign({},oO)},aO={nodes:[{node:"paragraph",style:"margin-left",rtlStyle:"margin-right",step:-30,unit:"px"},{node:"heading",style:"margin-left",rtlStyle:"margin-right",step:-30,unit:"px"}],listsTypes:Object.assign({},oO)},Hre=(i,n)=>!i.selection.empty&&(n&&n(i.tr.deleteSelection().scrollIntoView()),!0);const ZNe=(i,n,e)=>{let t=function QNe(i,n){let{$cursor:e}=i.selection;return!e||(n?!n.endOfTextblock("backward",i):e.parentOffset>0)?null:e}(i,e);if(!t)return!1;let o=jre(t);if(!o){let a=t.blockRange(),l=a&&Jk(a);return null!=l&&(n&&n(i.tr.lift(a,l).scrollIntoView()),!0)}let r=o.nodeBefore;if(!r.type.spec.isolating&&c8e(i,o,n))return!0;if(0==t.parent.content.size&&(lO(r,"end")||Vt.isSelectable(r))){let a=wre(i.doc,t.before(),t.after(),tt.empty);if(a&&a.slice.size<a.to-a.from){if(n){let l=i.tr.step(a);l.setSelection(lO(r,"end")?Fn.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):Vt.create(l.doc,o.pos-r.nodeSize)),n(l.scrollIntoView())}return!0}}return!(!r.isAtom||o.depth!=t.depth-1||(n&&n(i.tr.delete(o.pos-r.nodeSize,o.pos).scrollIntoView()),0))};function lO(i,n,e=!1){for(let t=i;t;t="start"==n?t.firstChild:t.lastChild){if(t.isTextblock)return!0;if(e&&1!=t.childCount)return!1}return!1}const t8e=(i,n,e)=>{let{$head:t,empty:o}=i.selection,r=t;if(!o)return!1;if(t.parent.isTextblock){if(e?!e.endOfTextblock("backward",i):t.parentOffset>0)return!1;r=jre(t)}let a=r&&r.nodeBefore;return!(!a||!Vt.isSelectable(a)||(n&&n(i.tr.setSelection(Vt.create(i.doc,r.pos-a.nodeSize)).scrollIntoView()),0))};function jre(i){if(!i.parent.type.spec.isolating)for(let n=i.depth-1;n>=0;n--){if(i.index(n)>0)return i.doc.resolve(i.before(n+1));if(i.node(n).type.spec.isolating)break}return null}function $re(i){if(!i.parent.type.spec.isolating)for(let n=i.depth-1;n>=0;n--){let e=i.node(n);if(i.index(n)+1<e.childCount)return i.doc.resolve(i.after(n+1));if(e.type.spec.isolating)break}return null}const i8e=(i,n)=>{let{$head:e,$anchor:t}=i.selection;return!(!e.parent.type.spec.code||!e.sameParent(t)||(n&&n(i.tr.insertText("\n").scrollIntoView()),0))};function Xre(i){for(let n=0;n<i.edgeCount;n++){let{type:e}=i.edge(n);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}const s8e=(i,n)=>{let{$head:e,$anchor:t}=i.selection;if(!e.parent.type.spec.code||!e.sameParent(t))return!1;let o=e.node(-1),r=e.indexAfter(-1),a=Xre(o.contentMatchAt(r));if(!a||!o.canReplaceWith(r,r,a))return!1;if(n){let l=e.after(),c=i.tr.replaceWith(l,l,a.createAndFill());c.setSelection(Fn.near(c.doc.resolve(l),1)),n(c.scrollIntoView())}return!0},o8e=(i,n)=>{let e=i.selection,{$from:t,$to:o}=e;if(e instanceof Cl||t.parent.inlineContent||o.parent.inlineContent)return!1;let r=Xre(o.parent.contentMatchAt(o.indexAfter()));if(!r||!r.isTextblock)return!1;if(n){let a=(!t.parentOffset&&o.index()<o.parent.childCount?t:o).pos,l=i.tr.insert(a,r.createAndFill());l.setSelection(Jn.create(l.doc,a+1)),n(l.scrollIntoView())}return!0},r8e=(i,n)=>{let{$cursor:e}=i.selection;if(!e||e.parent.content.size)return!1;if(e.depth>1&&e.after()!=e.end(-1)){let r=e.before();if(qk(i.doc,r))return n&&n(i.tr.split(r).scrollIntoView()),!0}let t=e.blockRange(),o=t&&Jk(t);return null!=o&&(n&&n(i.tr.lift(t,o).scrollIntoView()),!0)},a8e=function hBt(i){return(n,e)=>{let{$from:t,$to:o}=n.selection;if(n.selection instanceof Vt&&n.selection.node.isBlock)return!(!t.parentOffset||!qk(n.doc,t.pos)||(e&&e(n.tr.split(t.pos).scrollIntoView()),0));if(!t.parent.isBlock)return!1;if(e){let r=o.parentOffset==o.parent.content.size,a=n.tr;(n.selection instanceof Jn||n.selection instanceof Cl)&&a.deleteSelection();let l=0==t.depth?null:Xre(t.node(-1).contentMatchAt(t.indexAfter(-1))),c=i&&i(o.parent,r),u=c?[c]:r&&l?[{type:l}]:void 0,f=qk(a.doc,a.mapping.map(t.pos),1,u);if(!u&&!f&&qk(a.doc,a.mapping.map(t.pos),1,l?[{type:l}]:void 0)&&(l&&(u=[{type:l}]),f=!0),f&&(a.split(a.mapping.map(t.pos),1,u),!r&&!t.parentOffset&&t.parent.type!=l)){let _=a.mapping.map(t.before()),S=a.doc.resolve(_);l&&t.node(-1).canReplaceWith(S.index(),S.index()+1,l)&&a.setNodeMarkup(a.mapping.map(t.before()),l)}e(a.scrollIntoView())}return!0}}(),pBt=(i,n)=>a8e(i,n&&(e=>{let t=i.storedMarks||i.selection.$to.parentOffset&&i.selection.$from.marks();t&&e.ensureMarks(t),n(e)})),l8e=(i,n)=>(n&&n(i.tr.setSelection(new Cl(i.doc))),!0);function c8e(i,n,e){let r,a,t=n.nodeBefore,o=n.nodeAfter;if(t.type.spec.isolating||o.type.spec.isolating)return!1;if(function fBt(i,n,e){let t=n.nodeBefore,o=n.nodeAfter,r=n.index();return!(!(t&&o&&t.type.compatibleContent(o.type))||(!t.content.size&&n.parent.canReplace(r-1,r)?(e&&e(i.tr.delete(n.pos-t.nodeSize,n.pos).scrollIntoView()),0):!n.parent.canReplace(r,r+1)||!o.isTextblock&&!C9(i.doc,n.pos)||(e&&e(i.tr.clearIncompatible(n.pos,t.type,t.contentMatchAt(t.childCount)).join(n.pos).scrollIntoView()),0)))}(i,n,e))return!0;let l=n.parent.canReplace(n.index(),n.index()+1);if(l&&(r=(a=t.contentMatchAt(t.childCount)).findWrapping(o.type))&&a.matchType(r[0]||o.type).validEnd){if(e){let _=n.pos+o.nodeSize,S=Oe.empty;for(let D=r.length-1;D>=0;D--)S=Oe.from(r[D].create(null,S));S=Oe.from(t.copy(S));let v=i.tr.step(new jr(n.pos-1,_,n.pos,_,new tt(S,1,0),r.length,!0)),b=_+2*r.length;C9(v.doc,b)&&v.join(b),e(v.scrollIntoView())}return!0}let c=Fn.findFrom(n,1),u=c&&c.$from.blockRange(c.$to),f=u&&Jk(u);if(null!=f&&f>=n.depth)return e&&e(i.tr.lift(u,f).scrollIntoView()),!0;if(l&&lO(o,"start",!0)&&lO(t,"end")){let _=t,S=[];for(;S.push(_),!_.isTextblock;)_=_.lastChild;let v=o,b=1;for(;!v.isTextblock;v=v.firstChild)b++;if(_.canReplace(_.childCount,_.childCount,v.content)){if(e){let D=Oe.empty;for(let O=S.length-1;O>=0;O--)D=Oe.from(S[O].copy(D));e(i.tr.step(new jr(n.pos-S.length,n.pos+o.nodeSize,n.pos+b,n.pos+o.nodeSize-b,new tt(D,S.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function d8e(i){return function(n,e){let t=n.selection,o=i<0?t.$from:t.$to,r=o.depth;for(;o.node(r).isInline;){if(!r)return!1;r--}return!!o.node(r).isTextblock&&(e&&e(n.tr.setSelection(Jn.create(n.doc,i<0?o.start(r):o.end(r)))),!0)}}const mBt=d8e(-1),_Bt=d8e(1);function cO(...i){return function(n,e,t){for(let o=0;o<i.length;o++)if(i[o](n,e,t))return!0;return!1}}let Wre=cO(Hre,ZNe,t8e),u8e=cO(Hre,(i,n,e)=>{let t=function n8e(i,n){let{$cursor:e}=i.selection;return!e||(n?!n.endOfTextblock("forward",i):e.parentOffset<e.parent.content.size)?null:e}(i,e);if(!t)return!1;let o=$re(t);if(!o)return!1;let r=o.nodeAfter;if(c8e(i,o,n))return!0;if(0==t.parent.content.size&&(lO(r,"start")||Vt.isSelectable(r))){let a=wre(i.doc,t.before(),t.after(),tt.empty);if(a&&a.slice.size<a.to-a.from){if(n){let l=i.tr.step(a);l.setSelection(lO(r,"start")?Fn.findFrom(l.doc.resolve(l.mapping.map(o.pos)),1):Vt.create(l.doc,l.mapping.map(o.pos))),n(l.scrollIntoView())}return!0}}return!(!r.isAtom||o.depth!=t.depth-1||(n&&n(i.tr.delete(o.pos,o.pos+r.nodeSize).scrollIntoView()),0))},(i,n,e)=>{let{$head:t,empty:o}=i.selection,r=t;if(!o)return!1;if(t.parent.isTextblock){if(e?!e.endOfTextblock("forward",i):t.parentOffset<t.parent.content.size)return!1;r=$re(t)}let a=r&&r.nodeAfter;return!(!a||!Vt.isSelectable(a)||(n&&n(i.tr.setSelection(Vt.create(i.doc,r.pos)).scrollIntoView()),0))});const mg={Enter:cO(i8e,o8e,r8e,a8e),"Mod-Enter":s8e,Backspace:Wre,"Mod-Backspace":Wre,"Shift-Backspace":Wre,Delete:u8e,"Mod-Delete":u8e,"Mod-a":l8e},h8e={"Ctrl-h":mg.Backspace,"Alt-Backspace":mg["Mod-Backspace"],"Ctrl-d":mg.Delete,"Ctrl-Alt-Backspace":mg["Mod-Delete"],"Alt-Delete":mg["Mod-Delete"],"Alt-d":mg["Mod-Delete"],"Ctrl-a":mBt,"Ctrl-e":_Bt};for(let i in mg)h8e[i]=mg[i];const bBt=(typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&"darwin"==os.platform())?h8e:mg,p8e=(i,n)=>function gBt(i,n=null){return function(e,t){let{$from:o,$to:r}=e.selection,a=o.blockRange(r),l=a&&hNe(a,i,n);return!!l&&(t&&t(e.tr.wrap(a,l).scrollIntoView()),!0)}}(i.schema.nodes.blockquote)(i,n),f8e=(i,n,e)=>(t,o)=>{const r=Db(t),a=t.tr;a.setMeta("commandName",n),r.forEach(c=>{if(c.type.isTextblock){let u;const f=i.find(_=>_.node===c.type.name);if(f){const _="rtl"===e?f.rtlStyle:f.style,S={name:_,value:f.step>0?`${f.step}${f.unit}`:""};if(c.attrs.style){const v=new RegExp(`${_}:\\s?(\\d+)${f.unit}`,"i"),b=c.attrs.style.match(v);if(b){let D=parseFloat(b[1])+f.step;D=D<=0?"":D,S.value=`${D}${D?f.unit:""}`}}u=XNe(c,[S])}u&&iO(a,c,c.type,u)}});const l=a.docChanged;return l&&o(a.scrollIntoView()),l},m8e=(i,n,e)=>{const t=Db(i);let o=!1;return t.forEach(r=>{if(!o&&r.type.isTextblock&&r.attrs.style){const a=n.find(l=>l.node===r.type.name);a&&(o=new RegExp(`${"rtl"===e?a.rtlStyle:a.style}:\\s?\\d+${a.unit}`,"i").test(r.attrs.style))}}),o},_8e=(i,n)=>YNe(n)(i),g8e=(i,n)=>{const e=i.schema.nodes[n.listsTypes.listItem],o=i.schema.nodes[n.listsTypes.bulletList],r=!!ANe(i.schema.nodes[n.listsTypes.orderedList],2)(i.selection),a=!!ANe(o,2)(i.selection);return(r||a)&&KNe(e)(i)},Kre=(i,n)=>{const e=i.schema.nodes,t=e[rO.listsTypes.listItem];return(m8e(i,n.nodes)||rO.nodes.some(o=>e[o.node]&&sO(i,e[o.node])))&&!sO(i,t)},yBt=(i,n)=>{const e=i.schema.nodes[rO.listsTypes.listItem],t=Kre(i,rO);_8e(i,e)?YNe(e)(i,n):t&&f8e(rO.nodes)(i,n)},DBt=(i,n)=>{const e=i.schema.nodes,t=e[aO.listsTypes.listItem],o=Kre(i,aO);sO(i,e.blockquote)?((i,n)=>{const{$from:e,$to:t}=i.selection,o=i.schema.nodes.blockquote,r=i.doc;let a=-1;const l=e.blockRange(t);l&&r.nodesBetween(l.start,l.end,(u,f,_,S)=>{u.type===o&&(a=f)});n&&-1!==a&&n(i.tr.lift(l,r.resolve(a).depth))})(i,n):g8e(i,aO)?KNe(t)(i,n):o&&f8e(aO.nodes)(i,n)},kBt=(i,n,e)=>{let t=n.depth;const o=i.nodes[e.bulletList],r=i.nodes[e.orderedList],a=i.nodes[e.listItem];for(let l=n.depth;l>0;l--){const c=n.node(l);if((c.type===o||c.type===r)&&(t=l),c.type!==o&&c.type!==r&&c.type!==a)break}return t-1};function TBt(i){return function(n,e,t){if(!t)return!1;const o=(n=t.state).schema.nodes[i.listType],{$from:r,$to:a}=n.selection,l=r.node(-2),c=r.node(-3),u=function RBt(i,n,e,t){return 0===function ABt(i,n,e){const t=Array(),o=function xBt(i,n){const e=["blockquote","bulletList","orderedList"];if(1===n.depth)return n;let t=n.node(n.depth),o=n;for(;n.depth>=1;)t=(n=i.resolve(n.before(n.depth))).node(n.depth),t&&-1!==e.indexOf(t.type.name)&&(o=n);return o}(i,n).depth;let r=i.resolve(n.start(o));for(;r.pos<=e.start(e.depth);){const a=Math.min(r.depth,o),l=r.node(a);if(l&&t.push(l),0===a)break;let c=i.resolve(r.after(a));if(c.start(a)>=i.nodeSize-2)break;c.depth!==r.depth&&(c=i.resolve(c.pos+2)),r=i.resolve(c.depth?c.start(c.depth):c.end(c.depth))}return t}(i,n,e).filter(o=>o.type!==t).length}(n.doc,r,a,o);return(l&&l.type===o||c&&c.type===o)&&u?S8e(i)(n,e):(u||(S8e(i)(n,e),n=t.state),function NBt(i,n={}){return function CBt(i,n){let e=Array.isArray(n)?t=>n.indexOf(t.type.name)>-1:n;return(t,o,r)=>i(t,o&&function vBt(i,n){return e=>{if(!e.isGeneric)return i(e);let t=[];for(let r=0;r<e.mapping.maps.length;r++){let a=e.mapping.maps[r];for(let l=0;l<t.length;l++)t[l]=a.map(t[l]);a.forEach((l,c,u,f)=>t.push(u,f))}let o=[];for(let r=0;r<t.length;r+=2){let l=t[r+1],c=e.doc.resolve(t[r]),u=c.sharedDepth(l),f=c.node(u);for(let _=c.indexAfter(u),S=c.after(u+1);S<=l;++_){let v=f.maybeChild(_);if(!v)break;if(_&&-1==o.indexOf(S)){let b=f.child(_-1);b.type==v.type&&n(b,v)&&o.push(S)}S+=v.nodeSize}}o.sort((r,a)=>r-a);for(let r=o.length-1;r>=0;r--)C9(e.doc,o[r])&&e.join(o[r]);i(e)}}(o,e),r)}(function oBt(i,n=null){return function(e,t){let{$from:o,$to:r}=e.selection,a=o.blockRange(r),l=!1,c=a;if(!a)return!1;if(a.depth>=2&&o.node(a.depth-1).type.compatibleContent(i)&&0==a.startIndex){if(0==o.index(a.depth-1))return!1;let f=e.doc.resolve(a.start-2);c=new jx(f,f,a.depth),a.endIndex<a.parent.childCount&&(a=new jx(o,e.doc.resolve(r.end(a.depth)),a.depth)),l=!0}let u=hNe(c,i,n,a);return!!u&&(t&&t(function rBt(i,n,e,t,o){let r=Oe.empty;for(let f=e.length-1;f>=0;f--)r=Oe.from(e[f].type.create(e[f].attrs,r));i.step(new jr(n.start-(t?2:0),n.end,n.start,n.end,new tt(r,0,0),e.length,!0));let a=0;for(let f=0;f<e.length;f++)e[f].type==o&&(a=f+1);let l=e.length-a,c=n.start+e.length-(t?2:0),u=n.parent;for(let f=n.startIndex,_=n.endIndex,S=!0;f<_;f++,S=!1)!S&&qk(i.doc,c,l)&&(i.split(c,l),c+=2*l),c+=u.child(f).nodeSize;return i}(e.tr,a,u,l,i).scrollIntoView()),!0)}}(i,n),(e,t)=>e.type===t.type&&e.type===i)}(o,i.listAttrs)(n,e))}}function MBt(i,n,e,t){const o=t||i.schema.nodes.listItem;let{$from:r,$to:a}=n,l=r.blockRange(a,f=>f.childCount&&f.firstChild.type===o);if(!l||l.depth<2||r.node(l.depth-1).type!==o)return e;let c=l.end,u=a.end(l.depth);return c<u&&(e.step(new jr(c-1,u,c,u,new tt(Oe.from(o.create(void 0,l.parent.copy())),1,0),1,!0)),l=new jx(e.doc.resolve(r.pos),e.doc.resolve(u),l.depth)),e.lift(l,Jk(l)).scrollIntoView()}function S8e(i){return function(n,e){const{tr:t}=n,{$from:o,$to:r}=n.selection;return t.doc.nodesBetween(o.pos,r.pos,(a,l)=>{if(a.isTextblock||"blockquote"===a.type.name||"div"===a.type.name){const c=new Vt(t.doc.resolve(t.mapping.map(l))),u=c.$from.blockRange(c.$to);if(!u||c.$from.parent.type!==n.schema.nodes[i.listItem])return!1;const f=u&&Jk(u);if(null==f)return!1;t.lift(u,f)}}),e&&e(t),!0}}const LBt=/list\-style\-type:\s?([\w-]+)/,O9=i=>{const e=LBt.exec(i.style||"");return e&&e[1]||""},v8e=(i,n,e,t,o)=>{const{listType:r,listAttrs:a={style:null}}=t,{selection:l}=i,c=l.$from.node(l.$from.depth-2),u=l.$to.node(l.$to.depth-2);if(!c||c.type.name!==r||O9(c.attrs)!==O9(a)||!u||u.type.name!==r||O9(u.attrs)!==O9(a))return TBt(t)(i,n,e);{const f=e.state.schema.nodes,_={bulletList:f[t.bulletList],orderedList:f[t.orderedList],listItem:f[t.listItem]},S=((i,n)=>{const{bulletList:e,orderedList:t,listItem:o}=n;let r;for(let a=i.depth-1;a>0;a--){const l=i.node(a);if((l.type===e||l.type===t)&&(r=a),l.type!==e&&l.type!==t&&l.type!==o)break}return r})(l.$to,_);let v=function IBt(i,n,e,t,o,r){r||(r=i.schema.nodes.listItem);let a=!1;return o.doc.nodesBetween(n,e,(l,c)=>{if(!a&&l.type===r&&c>n){a=!0;let u=t+3;for(;u>t+2;){const f=o.doc.resolve(o.mapping.map(c));u=f.depth;const _=o.doc.resolve(o.mapping.map(c+l.textContent.length)),S=new Jn(f,_);o=MBt(i,S,o,r)}}}),o}(i,l.$to.pos,l.$to.end(S),S,e.state.tr,_.listItem);return v=function OBt(i,n,e){const{from:t,to:o}=i.selection,{paragraph:r,heading:a}=i.schema.nodes,l=[];n.doc.nodesBetween(t,o,(c,u)=>{(c.type===r||c.type===a)&&l.push({node:c,pos:u})});for(let c=l.length-1;c>=0;c--){const u=l[c],f=n.doc.resolve(n.mapping.map(u.pos));if(f.depth>0){let _;_=n.doc.resolve(n.mapping.map(u.node.textContent&&u.node.textContent.length>0?u.pos+u.node.textContent.length:u.pos+1));const S=f.blockRange(_);S&&n.lift(S,kBt(i.schema,f,e))}}return n}(i,v,t),v.setMeta("commandName",o),n(v),!0}};function PBt(i,n,e){return v8e(i,n,e,Object.assign({listType:qNe.listType},qNe.types))}function GBt(i,n,e){return v8e(i,n,e,Object.assign({listType:JNe.listType},JNe.types))}const sc=(i,n)=>({name:i,value:n}),Yre=[{node:"paragraph",style:[sc("text-align","left")]},{node:"heading",style:[sc("text-align","left")]},{node:"table_caption_external",style:[sc("text-align","left")]}],Jre=[{node:"paragraph",style:[sc("text-align","right")]},{node:"heading",style:[sc("text-align","right")]},{node:"table_caption_external",style:[sc("text-align","right")]}],qre=[{node:"paragraph",style:[sc("text-align","center")]},{node:"heading",style:[sc("text-align","center")]},{node:"table_caption_external",style:[sc("text-align","center")]}],Qre=[{node:"paragraph",style:[sc("text-align","justify")]},{node:"heading",style:[sc("text-align","justify")]},{node:"table_caption_external",style:[sc("text-align","justify")]}],FBt=[{node:"paragraph",style:[sc("text-align","")]},{node:"heading",style:[sc("text-align","")]},{node:"table_caption_external",style:[sc("text-align","")]}],oc=function(i){for(var n=0;;n++)if(!(i=i.previousSibling))return n},e4=function(i){let n=i.assignedSlot||i.parentNode;return n&&11==n.nodeType?n.host:n};let C8e=null;const _g=function(i,n,e){let t=C8e||(C8e=document.createRange());return t.setEnd(i,e??i.nodeValue.length),t.setStart(i,n||0),t},wb=function(i,n,e,t){return e&&(b8e(i,n,e,t,-1)||b8e(i,n,e,t,1))},BBt=/^(img|br|input|textarea|hr)$/i;function b8e(i,n,e,t,o){for(;;){if(i==e&&n==t)return!0;if(n==(o<0?0:em(i))){let r=i.parentNode;if(!r||1!=r.nodeType||Zre(i)||BBt.test(i.nodeName)||"false"==i.contentEditable)return!1;n=oc(i)+(o<0?0:1),i=r}else{if(1!=i.nodeType)return!1;if("false"==(i=i.childNodes[n+(o<0?-1:0)]).contentEditable)return!1;n=o<0?em(i):0}}}function em(i){return 3==i.nodeType?i.nodeValue.length:i.childNodes.length}function Zre(i){let n;for(let e=i;e&&!(n=e.pmViewDesc);e=e.parentNode);return n&&n.node&&n.node.isBlock&&(n.dom==i||n.contentDOM==i)}const T9=function(i){return i.focusNode&&wb(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)};function kb(i,n){let e=document.createEvent("Event");return e.initEvent("keydown",!0,!0),e.keyCode=i,e.key=e.code=n,e}const tm=typeof navigator<"u"?navigator:null,E8e=typeof document<"u"?document:null,uv=tm&&tm.userAgent||"",eae=/Edge\/(\d+)/.exec(uv),y8e=/MSIE \d/.exec(uv),tae=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(uv),Yc=!!(y8e||tae||eae),hv=y8e?document.documentMode:tae?+tae[1]:eae?+eae[1]:0,sp=!Yc&&/gecko\/(\d+)/i.test(uv);sp&&/Firefox\/(\d+)/.exec(uv);const nae=!Yc&&/Chrome\/(\d+)/.exec(uv),bl=!!nae,jBt=nae?+nae[1]:0,rc=!Yc&&!!tm&&/Apple Computer/.test(tm.vendor),dO=rc&&(/Mobile\/\w+/.test(uv)||!!tm&&tm.maxTouchPoints>2),eh=dO||!!tm&&/Mac/.test(tm.platform),$Bt=!!tm&&/Win/.test(tm.platform),op=/Android \d/.test(uv),t4=!!E8e&&"webkitFontSmoothing"in E8e.documentElement.style,XBt=t4?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function WBt(i){return{left:0,right:i.documentElement.clientWidth,top:0,bottom:i.documentElement.clientHeight}}function gg(i,n){return"number"==typeof i?i:i[n]}function KBt(i){let n=i.getBoundingClientRect();return{left:n.left,right:n.left+i.clientWidth*(n.width/i.offsetWidth||1),top:n.top,bottom:n.top+i.clientHeight*(n.height/i.offsetHeight||1)}}function D8e(i,n,e){let t=i.someProp("scrollThreshold")||0,o=i.someProp("scrollMargin")||5,r=i.dom.ownerDocument;for(let a=e||i.dom;a;a=e4(a)){if(1!=a.nodeType)continue;let l=a,c=l==r.body,u=c?WBt(r):KBt(l),f=0,_=0;if(n.top<u.top+gg(t,"top")?_=-(u.top-n.top+gg(o,"top")):n.bottom>u.bottom-gg(t,"bottom")&&(_=n.bottom-n.top>u.bottom-u.top?n.top+gg(o,"top")-u.top:n.bottom-u.bottom+gg(o,"bottom")),n.left<u.left+gg(t,"left")?f=-(u.left-n.left+gg(o,"left")):n.right>u.right-gg(t,"right")&&(f=n.right-u.right+gg(o,"right")),f||_)if(c)r.defaultView.scrollBy(f,_);else{let S=l.scrollLeft,v=l.scrollTop;_&&(l.scrollTop+=_),f&&(l.scrollLeft+=f);let b=l.scrollLeft-S,D=l.scrollTop-v;n={left:n.left-b,top:n.top-D,right:n.right-b,bottom:n.bottom-D}}if(c||/^(fixed|sticky)$/.test(getComputedStyle(a).position))break}}function w8e(i){let n=[],e=i.ownerDocument;for(let t=i;t&&(n.push({dom:t,top:t.scrollTop,left:t.scrollLeft}),i!=e);t=e4(t));return n}function k8e(i,n){for(let e=0;e<i.length;e++){let{dom:t,top:o,left:r}=i[e];t.scrollTop!=o+n&&(t.scrollTop=o+n),t.scrollLeft!=r&&(t.scrollLeft=r)}}let uO=null;function O8e(i,n){let e,o,c,u,t=2e8,r=0,a=n.top,l=n.top;for(let f=i.firstChild,_=0;f;f=f.nextSibling,_++){let S;if(1==f.nodeType)S=f.getClientRects();else{if(3!=f.nodeType)continue;S=_g(f).getClientRects()}for(let v=0;v<S.length;v++){let b=S[v];if(b.top<=a&&b.bottom>=l){a=Math.max(b.bottom,a),l=Math.min(b.top,l);let D=b.left>n.left?b.left-n.left:b.right<n.left?n.left-b.right:0;if(D<t){e=f,t=D,o=D&&3==e.nodeType?{left:b.right<n.left?b.right:b.left,top:n.top}:n,1==f.nodeType&&D&&(r=_+(n.left>=(b.left+b.right)/2?1:0));continue}}else b.top>n.top&&!c&&b.left<=n.left&&b.right>=n.left&&(c=f,u={left:Math.max(b.left,Math.min(b.right,n.left)),top:b.top});!e&&(n.left>=b.right&&n.top>=b.top||n.left>=b.left&&n.top>=b.bottom)&&(r=_+1)}}return!e&&c&&(e=c,o=u,t=0),e&&3==e.nodeType?function QBt(i,n){let e=i.nodeValue.length,t=document.createRange();for(let o=0;o<e;o++){t.setEnd(i,o+1),t.setStart(i,o);let r=pv(t,1);if(r.top!=r.bottom&&iae(n,r))return{node:i,offset:o+(n.left>=(r.left+r.right)/2?1:0)}}return{node:i,offset:0}}(e,o):!e||t&&1==e.nodeType?{node:i,offset:r}:O8e(e,o)}function iae(i,n){return i.left>=n.left-1&&i.left<=n.right+1&&i.top>=n.top-1&&i.top<=n.bottom+1}function T8e(i,n,e){let t=i.childNodes.length;if(t&&e.top<e.bottom)for(let o=Math.max(0,Math.min(t-1,Math.floor(t*(n.top-e.top)/(e.bottom-e.top))-2)),r=o;;){let a=i.childNodes[r];if(1==a.nodeType){let l=a.getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(iae(n,u))return T8e(a,n,u)}}if((r=(r+1)%t)==o)break}return i}function nVt(i,n){let t,e=i.dom.ownerDocument,o=0,r=function HBt(i,n,e){if(i.caretPositionFromPoint)try{let t=i.caretPositionFromPoint(n,e);if(t)return{node:t.offsetNode,offset:t.offset}}catch{}if(i.caretRangeFromPoint){let t=i.caretRangeFromPoint(n,e);if(t)return{node:t.startContainer,offset:t.startOffset}}}(e,n.left,n.top);r&&({node:t,offset:o}=r);let l,a=(i.root.elementFromPoint?i.root:e).elementFromPoint(n.left,n.top);if(!a||!i.dom.contains(1!=a.nodeType?a.parentNode:a)){let u=i.dom.getBoundingClientRect();if(!iae(n,u)||(a=T8e(i.dom,n,u),!a))return null}if(rc)for(let u=a;t&&u;u=e4(u))u.draggable&&(t=void 0);if(a=function ZBt(i,n){let e=i.parentNode;return e&&/^li$/i.test(e.nodeName)&&n.left<i.getBoundingClientRect().left?e:i}(a,n),t){if(sp&&1==t.nodeType&&(o=Math.min(o,t.childNodes.length),o<t.childNodes.length)){let _,f=t.childNodes[o];"IMG"==f.nodeName&&(_=f.getBoundingClientRect()).right<=n.left&&_.bottom>n.top&&o++}let u;t4&&o&&1==t.nodeType&&1==(u=t.childNodes[o-1]).nodeType&&"false"==u.contentEditable&&u.getBoundingClientRect().top>=n.top&&o--,t==i.dom&&o==t.childNodes.length-1&&1==t.lastChild.nodeType&&n.top>t.lastChild.getBoundingClientRect().bottom?l=i.state.doc.content.size:(0==o||1!=t.nodeType||"BR"!=t.childNodes[o-1].nodeName)&&(l=function tVt(i,n,e,t){let o=-1;for(let r=n,a=!1;r!=i.dom;){let l=i.docView.nearestDesc(r,!0);if(!l)return null;if(1==l.dom.nodeType&&(l.node.isBlock&&l.parent&&!a||!l.contentDOM)){let c=l.dom.getBoundingClientRect();if(l.node.isBlock&&l.parent&&!a&&(a=!0,c.left>t.left||c.top>t.top?o=l.posBefore:(c.right<t.left||c.bottom<t.top)&&(o=l.posAfter)),!l.contentDOM&&o<0&&!l.node.isText)return(l.node.isBlock?t.top<(c.top+c.bottom)/2:t.left<(c.left+c.right)/2)?l.posBefore:l.posAfter}r=l.dom.parentNode}return o>-1?o:i.docView.posFromDOM(n,e,-1)}(i,t,o,n))}null==l&&(l=function eVt(i,n,e){let{node:t,offset:o}=O8e(n,e),r=-1;if(1==t.nodeType&&!t.firstChild){let a=t.getBoundingClientRect();r=a.left!=a.right&&e.left>(a.left+a.right)/2?1:-1}return i.docView.posFromDOM(t,o,r)}(i,a,n));let c=i.docView.nearestDesc(a,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function M8e(i){return i.top<i.bottom||i.left<i.right}function pv(i,n){let e=i.getClientRects();if(e.length){let t=e[n<0?0:e.length-1];if(M8e(t))return t}return Array.prototype.find.call(e,M8e)||i.getBoundingClientRect()}const iVt=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function I8e(i,n,e){let{node:t,offset:o,atom:r}=i.docView.domFromPos(n,e<0?-1:1),a=t4||sp;if(3==t.nodeType){if(!a||!iVt.test(t.nodeValue)&&(e<0?o:o!=t.nodeValue.length)){let c=o,u=o,f=e<0?1:-1;return e<0&&!o?(u++,f=-1):e>=0&&o==t.nodeValue.length?(c--,f=1):e<0?c--:u++,n4(pv(_g(t,c,u),f),f<0)}{let c=pv(_g(t,o,o),e);if(sp&&o&&/\s/.test(t.nodeValue[o-1])&&o<t.nodeValue.length){let u=pv(_g(t,o-1,o-1),-1);if(u.top==c.top){let f=pv(_g(t,o,o+1),-1);if(f.top!=c.top)return n4(f,f.left<u.left)}}return c}}if(!i.state.doc.resolve(n-(r||0)).parent.inlineContent){if(null==r&&o&&(e<0||o==em(t))){let c=t.childNodes[o-1];if(1==c.nodeType)return sae(c.getBoundingClientRect(),!1)}if(null==r&&o<em(t)){let c=t.childNodes[o];if(1==c.nodeType)return sae(c.getBoundingClientRect(),!0)}return sae(t.getBoundingClientRect(),e>=0)}if(null==r&&o&&(e<0||o==em(t))){let c=t.childNodes[o-1],u=3==c.nodeType?_g(c,em(c)-(a?0:1)):1!=c.nodeType||"BR"==c.nodeName&&c.nextSibling?null:c;if(u)return n4(pv(u,1),!1)}if(null==r&&o<em(t)){let c=t.childNodes[o];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let u=c?3==c.nodeType?_g(c,0,a?0:1):1==c.nodeType?c:null:null;if(u)return n4(pv(u,-1),!0)}return n4(pv(3==t.nodeType?_g(t):t,-e),e>=0)}function n4(i,n){if(0==i.width)return i;let e=n?i.left:i.right;return{top:i.top,bottom:i.bottom,left:e,right:e}}function sae(i,n){if(0==i.height)return i;let e=n?i.top:i.bottom;return{top:e,bottom:e,left:i.left,right:i.right}}function R8e(i,n,e){let t=i.state,o=i.root.activeElement;t!=n&&i.updateState(n),o!=i.dom&&i.focus();try{return e()}finally{t!=n&&i.updateState(t),o!=i.dom&&o&&o.focus()}}const oVt=/[\u0590-\u08ac]/;let A8e=null,x8e=null,N8e=!1;class s4{constructor(n,e,t,o){this.parent=n,this.children=e,this.dom=t,this.contentDOM=o,this.dirty=0,t.pmViewDesc=this}matchesWidget(n){return!1}matchesMark(n){return!1}matchesNode(n,e,t){return!1}matchesHack(n){return!1}parseRule(){return null}stopEvent(n){return!1}get size(){let n=0;for(let e=0;e<this.children.length;e++)n+=this.children[e].size;return n}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let n=0;n<this.children.length;n++)this.children[n].destroy()}posBeforeChild(n){for(let e=0,t=this.posAtStart;;e++){let o=this.children[e];if(o==n)return t;t+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(n,e,t){if(this.contentDOM&&this.contentDOM.contains(1==n.nodeType?n:n.parentNode)){if(t<0){let r,a;if(n==this.contentDOM)r=n.childNodes[e-1];else{for(;n.parentNode!=this.contentDOM;)n=n.parentNode;r=n.previousSibling}for(;r&&(!(a=r.pmViewDesc)||a.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(a)+a.size:this.posAtStart}{let r,a;if(n==this.contentDOM)r=n.childNodes[e];else{for(;n.parentNode!=this.contentDOM;)n=n.parentNode;r=n.nextSibling}for(;r&&(!(a=r.pmViewDesc)||a.parent!=this);)r=r.nextSibling;return r?this.posBeforeChild(a):this.posAtEnd}}let o;if(n==this.dom&&this.contentDOM)o=e>oc(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=2&n.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(let r=n;;r=r.parentNode){if(r==this.dom){o=!1;break}if(r.previousSibling)break}if(null==o&&e==n.childNodes.length)for(let r=n;;r=r.parentNode){if(r==this.dom){o=!0;break}if(r.nextSibling)break}}return o??t>0?this.posAtEnd:this.posAtStart}nearestDesc(n,e=!1){for(let t=!0,o=n;o;o=o.parentNode){let a,r=this.getDesc(o);if(r&&(!e||r.node)){if(!t||!(a=r.nodeDOM)||(1==a.nodeType?a.contains(1==n.nodeType?n:n.parentNode):a==n))return r;t=!1}}}getDesc(n){let e=n.pmViewDesc;for(let t=e;t;t=t.parent)if(t==this)return e}posFromDOM(n,e,t){for(let o=n;o;o=o.parentNode){let r=this.getDesc(o);if(r)return r.localPosFromDOM(n,e,t)}return-1}descAt(n){for(let e=0,t=0;e<this.children.length;e++){let o=this.children[e],r=t+o.size;if(t==n&&r!=t){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(n<r)return o.descAt(n-t-o.border);t=r}}domFromPos(n,e){if(!this.contentDOM)return{node:this.dom,offset:0,atom:n+1};let t=0,o=0;for(let r=0;t<this.children.length;t++){let a=this.children[t],l=r+a.size;if(l>n||a instanceof U8e){o=n-r;break}r=l}if(o)return this.children[t].domFromPos(o-this.children[t].border,e);for(let r;t&&!(r=this.children[t-1]).size&&r instanceof P8e&&r.side>=0;t--);if(e<=0){let r,a=!0;for(;r=t?this.children[t-1]:null,r&&r.dom.parentNode!=this.contentDOM;t--,a=!1);return r&&e&&a&&!r.border&&!r.domAtom?r.domFromPos(r.size,e):{node:this.contentDOM,offset:r?oc(r.dom)+1:0}}{let r,a=!0;for(;r=t<this.children.length?this.children[t]:null,r&&r.dom.parentNode!=this.contentDOM;t++,a=!1);return r&&a&&!r.border&&!r.domAtom?r.domFromPos(0,e):{node:this.contentDOM,offset:r?oc(r.dom):this.contentDOM.childNodes.length}}}parseRange(n,e,t=0){if(0==this.children.length)return{node:this.contentDOM,from:n,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,r=-1;for(let a=t,l=0;;l++){let c=this.children[l],u=a+c.size;if(-1==o&&n<=u){let f=a+c.border;if(n>=f&&e<=u-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(n,e,f);n=a;for(let _=l;_>0;_--){let S=this.children[_-1];if(S.size&&S.dom.parentNode==this.contentDOM&&!S.emptyChildAt(1)){o=oc(S.dom)+1;break}n-=S.size}-1==o&&(o=0)}if(o>-1&&(u>e||l==this.children.length-1)){e=u;for(let f=l+1;f<this.children.length;f++){let _=this.children[f];if(_.size&&_.dom.parentNode==this.contentDOM&&!_.emptyChildAt(-1)){r=oc(_.dom);break}e+=_.size}-1==r&&(r=this.contentDOM.childNodes.length);break}a=u}return{node:this.contentDOM,from:n,to:e,fromOffset:o,toOffset:r}}emptyChildAt(n){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[n<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(n)}domAfterPos(n){let{node:e,offset:t}=this.domFromPos(n,0);if(1!=e.nodeType||t==e.childNodes.length)throw new RangeError("No node after pos "+n);return e.childNodes[t]}setSelection(n,e,t,o=!1){let r=Math.min(n,e),a=Math.max(n,e);for(let S=0,v=0;S<this.children.length;S++){let b=this.children[S],D=v+b.size;if(r>v&&a<D)return b.setSelection(n-v-b.border,e-v-b.border,t,o);v=D}let l=this.domFromPos(n,n?-1:1),c=e==n?l:this.domFromPos(e,e?-1:1),u=t.getSelection(),f=!1;if((sp||rc)&&n==e){let{node:S,offset:v}=l;if(3==S.nodeType){if(f=!(!v||"\n"!=S.nodeValue[v-1]),f&&v==S.nodeValue.length)for(let D,b=S;b;b=b.parentNode){if(D=b.nextSibling){"BR"==D.nodeName&&(l=c={node:D.parentNode,offset:oc(D)+1});break}let k=b.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let b=S.childNodes[v-1];f=b&&("BR"==b.nodeName||"false"==b.contentEditable)}}if(sp&&u.focusNode&&u.focusNode!=c.node&&1==u.focusNode.nodeType){let S=u.focusNode.childNodes[u.focusOffset];S&&"false"==S.contentEditable&&(o=!0)}if(!(o||f&&rc)&&wb(l.node,l.offset,u.anchorNode,u.anchorOffset)&&wb(c.node,c.offset,u.focusNode,u.focusOffset))return;let _=!1;if((u.extend||n==e)&&!f){u.collapse(l.node,l.offset);try{n!=e&&u.extend(c.node,c.offset),_=!0}catch{}}if(!_){if(n>e){let v=l;l=c,c=v}let S=document.createRange();S.setEnd(c.node,c.offset),S.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(S)}}ignoreMutation(n){return!this.contentDOM&&"selection"!=n.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(n,e){for(let t=0,o=0;o<this.children.length;o++){let r=this.children[o],a=t+r.size;if(t==a?n<=a&&e>=t:n<a&&e>t){let l=t+r.border,c=a-r.border;if(n>=l&&e<=c)return this.dirty=n==t||e==a?2:1,void(n!=l||e!=c||!r.contentLost&&r.dom.parentNode==this.contentDOM?r.markDirty(n-l,e-l):r.dirty=3);r.dirty=r.dom!=r.contentDOM||r.dom.parentNode!=this.contentDOM||r.children.length?3:2}t=a}this.dirty=2}markParentsDirty(){let n=1;for(let e=this.parent;e;e=e.parent,n++){let t=1==n?2:1;e.dirty<t&&(e.dirty=t)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class P8e extends s4{constructor(n,e,t,o){let r,a=e.type.toDOM;if("function"==typeof a&&(a=a(t,()=>r?r.parent?r.parent.posBeforeChild(r):void 0:o)),!e.type.spec.raw){if(1!=a.nodeType){let l=document.createElement("span");l.appendChild(a),a=l}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(n,[],a,null),this.widget=e,this.widget=e,r=this}matchesWidget(n){return 0==this.dirty&&n.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(n){let e=this.widget.spec.stopEvent;return!!e&&e(n)}ignoreMutation(n){return"selection"!=n.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class lVt extends s4{constructor(n,e,t,o){super(n,[],e,null),this.textDOM=t,this.text=o}get size(){return this.text.length}localPosFromDOM(n,e){return n!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(n){return{node:this.textDOM,offset:n}}ignoreMutation(n){return"characterData"===n.type&&n.target.nodeValue==n.oldValue}}class Tb extends s4{constructor(n,e,t,o){super(n,[],t,o),this.mark=e}static create(n,e,t,o){let r=o.nodeViews[e.type.name],a=r&&r(e,o,t);return(!a||!a.dom)&&(a=hg.renderSpec(document,e.type.spec.toDOM(e,t))),new Tb(n,e,a.dom,a.contentDOM||a.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(n){return 3!=this.dirty&&this.mark.eq(n)}markDirty(n,e){if(super.markDirty(n,e),0!=this.dirty){let t=this.parent;for(;!t.node;)t=t.parent;t.dirty<this.dirty&&(t.dirty=this.dirty),this.dirty=0}}slice(n,e,t){let o=Tb.create(this.parent,this.mark,!0,t),r=this.children,a=this.size;e<a&&(r=aae(r,e,a,t)),n>0&&(r=aae(r,0,n,t));for(let l=0;l<r.length;l++)r[l].parent=o;return o.children=r,o}}class fv extends s4{constructor(n,e,t,o,r,a,l,c,u){super(n,[],r,a),this.node=e,this.outerDeco=t,this.innerDeco=o,this.nodeDOM=l}static create(n,e,t,o,r,a){let c,l=r.nodeViews[e.type.name],u=l&&l(e,r,()=>c?c.parent?c.parent.posBeforeChild(c):void 0:a,t,o),f=u&&u.dom,_=u&&u.contentDOM;if(e.isText)if(f){if(3!=f.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else f=document.createTextNode(e.text);else f||({dom:f,contentDOM:_}=hg.renderSpec(document,e.type.spec.toDOM(e)));!_&&!e.isText&&"BR"!=f.nodeName&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),e.type.spec.draggable&&(f.draggable=!0));let S=f;return f=V8e(f,t,e),u?c=new cVt(n,e,t,o,f,_||null,S,u,r,a+1):e.isText?new M9(n,e,t,o,f,S,r):new fv(n,e,t,o,f,_||null,S,r,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let n={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(n.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let e=this.children.length-1;e>=0;e--){let t=this.children[e];if(this.dom.contains(t.dom.parentNode)){n.contentElement=t.dom.parentNode;break}}n.contentElement||(n.getContent=()=>Oe.empty)}else n.contentElement=this.contentDOM;else n.getContent=()=>this.node.content;return n}matchesNode(n,e,t){return 0==this.dirty&&n.eq(this.node)&&rae(e,this.outerDeco)&&t.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(n,e){let t=this.node.inlineContent,o=e,r=n.composing?this.localCompositionInfo(n,e):null,a=r&&r.pos>-1?r:null,l=r&&r.pos<0,c=new uVt(this,a&&a.node,n);(function fVt(i,n,e,t){let o=n.locals(i),r=0;if(0==o.length){for(let u=0;u<i.childCount;u++){let f=i.child(u);t(f,o,n.forChild(r,f),u),r+=f.nodeSize}return}let a=0,l=[],c=null;for(let u=0;;){let f,_,S,v;for(;a<o.length&&o[a].to==r;){let k=o[a++];k.widget&&(f?(_||(_=[f])).push(k):f=k)}if(f)if(_){_.sort(pVt);for(let k=0;k<_.length;k++)e(_[k],u,!!c)}else e(f,u,!!c);if(c)v=-1,S=c,c=null;else{if(!(u<i.childCount))break;v=u,S=i.child(u++)}for(let k=0;k<l.length;k++)l[k].to<=r&&l.splice(k--,1);for(;a<o.length&&o[a].from<=r&&o[a].to>r;)l.push(o[a++]);let b=r+S.nodeSize;if(S.isText){let k=b;a<o.length&&o[a].from<k&&(k=o[a].from);for(let O=0;O<l.length;O++)l[O].to<k&&(k=l[O].to);k<b&&(c=S.cut(k-r),S=S.cut(0,k-r),b=k,v=-1)}else for(;a<o.length&&o[a].to<=b;)a++;t(S,S.isInline&&!S.isLeaf?l.filter(k=>!k.inline):l.slice(),n.forChild(r,S),v),r=b}})(this.node,this.innerDeco,(u,f,_)=>{u.spec.marks?c.syncToMarks(u.spec.marks,t,n):u.type.side>=0&&!_&&c.syncToMarks(f==this.node.childCount?Bs.none:this.node.child(f).marks,t,n),c.placeWidget(u,n,o)},(u,f,_,S)=>{let v;c.syncToMarks(u.marks,t,n),c.findNodeMatch(u,f,_,S)||l&&n.state.selection.from>o&&n.state.selection.to<o+u.nodeSize&&(v=c.findIndexWithChild(r.node))>-1&&c.updateNodeAt(u,f,_,v,n)||c.updateNextNode(u,f,_,n,S,o)||c.addNode(u,f,_,n,o),o+=u.nodeSize}),c.syncToMarks([],t,n),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||2==this.dirty)&&(a&&this.protectLocalComposition(n,a),F8e(this.contentDOM,this.children,n),dO&&function mVt(i){if("UL"==i.nodeName||"OL"==i.nodeName){let n=i.style.cssText;i.style.cssText=n+"; list-style: square !important",window.getComputedStyle(i),i.style.cssText=n}}(this.dom))}localCompositionInfo(n,e){let{from:t,to:o}=n.state.selection;if(!(n.state.selection instanceof Jn)||t<e||o>e+this.node.content.size)return null;let r=n.domSelectionRange(),a=function _Vt(i,n){for(;;){if(3==i.nodeType)return i;if(1==i.nodeType&&n>0){if(i.childNodes.length>n&&3==i.childNodes[n].nodeType)return i.childNodes[n];n=em(i=i.childNodes[n-1])}else{if(!(1==i.nodeType&&n<i.childNodes.length))return null;i=i.childNodes[n],n=0}}}(r.focusNode,r.focusOffset);if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let l=a.nodeValue,c=function gVt(i,n,e,t){for(let o=0,r=0;o<i.childCount&&r<=t;){let a=i.child(o++),l=r;if(r+=a.nodeSize,!a.isText)continue;let c=a.text;for(;o<i.childCount;){let u=i.child(o++);if(r+=u.nodeSize,!u.isText)break;c+=u.text}if(r>=e){if(r>=t&&c.slice(t-n.length-l,t-l)==n)return t-n.length;let u=l<t?c.lastIndexOf(n,t-l-1):-1;if(u>=0&&u+n.length+l>=e)return l+u;if(e==t&&c.length>=t+n.length-l&&c.slice(t-l,t-l+n.length)==n)return t}}return-1}(this.node.content,l,t-e,o-e);return c<0?null:{node:a,pos:c,text:l}}return{node:a,pos:-1,text:""}}protectLocalComposition(n,{node:e,pos:t,text:o}){if(this.getDesc(e))return;let r=e;for(;r.parentNode!=this.contentDOM;r=r.parentNode){for(;r.previousSibling;)r.parentNode.removeChild(r.previousSibling);for(;r.nextSibling;)r.parentNode.removeChild(r.nextSibling);r.pmViewDesc&&(r.pmViewDesc=void 0)}let a=new lVt(this,r,e,o);n.input.compositionNodes.push(a),this.children=aae(this.children,t,t+o.length,n,a)}update(n,e,t,o){return!(3==this.dirty||!n.sameMarkup(this.node)||(this.updateInner(n,e,t,o),0))}updateInner(n,e,t,o){this.updateOuterDeco(e),this.node=n,this.innerDeco=t,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=0}updateOuterDeco(n){if(rae(n,this.outerDeco))return;let e=1!=this.nodeDOM.nodeType,t=this.dom;this.dom=B8e(this.dom,this.nodeDOM,oae(this.outerDeco,this.node,e),oae(n,this.node,e)),this.dom!=t&&(t.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=n}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function G8e(i,n,e,t,o){V8e(t,n,i);let r=new fv(void 0,i,n,e,t,t,t,o,0);return r.contentDOM&&r.updateChildren(o,0),r}class M9 extends fv{constructor(n,e,t,o,r,a,l){super(n,e,t,o,r,null,a,l,0)}parseRule(){let n=this.nodeDOM.parentNode;for(;n&&n!=this.dom&&!n.pmIsDeco;)n=n.parentNode;return{skip:n||!0}}update(n,e,t,o){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!n.sameMarkup(this.node)||(this.updateOuterDeco(e),(0!=this.dirty||n.text!=this.node.text)&&n.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=n.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=n,this.dirty=0,0))}inParent(){let n=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==n)return!0;return!1}domFromPos(n){return{node:this.nodeDOM,offset:n}}localPosFromDOM(n,e,t){return n==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(n,e,t)}ignoreMutation(n){return"characterData"!=n.type&&"selection"!=n.type}slice(n,e,t){let o=this.node.cut(n,e),r=document.createTextNode(o.text);return new M9(this.parent,o,this.outerDeco,this.innerDeco,r,r,t)}markDirty(n,e){super.markDirty(n,e),this.dom!=this.nodeDOM&&(0==n||e==this.nodeDOM.nodeValue.length)&&(this.dirty=3)}get domAtom(){return!1}}class U8e extends s4{parseRule(){return{ignore:!0}}matchesHack(n){return 0==this.dirty&&this.dom.nodeName==n}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class cVt extends fv{constructor(n,e,t,o,r,a,l,c,u,f){super(n,e,t,o,r,a,l,u,f),this.spec=c}update(n,e,t,o){if(3==this.dirty)return!1;if(this.spec.update){let r=this.spec.update(n,e,t);return r&&this.updateInner(n,e,t,o),r}return!(!this.contentDOM&&!n.isLeaf)&&super.update(n,e,t,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(n,e,t,o){this.spec.setSelection?this.spec.setSelection(n,e,t):super.setSelection(n,e,t,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(n){return!!this.spec.stopEvent&&this.spec.stopEvent(n)}ignoreMutation(n){return this.spec.ignoreMutation?this.spec.ignoreMutation(n):super.ignoreMutation(n)}}function F8e(i,n,e){let t=i.firstChild,o=!1;for(let r=0;r<n.length;r++){let a=n[r],l=a.dom;if(l.parentNode==i){for(;l!=t;)t=z8e(t),o=!0;t=t.nextSibling}else o=!0,i.insertBefore(l,t);if(a instanceof Tb){let c=t?t.previousSibling:i.lastChild;F8e(a.contentDOM,a.children,e),t=c?c.nextSibling:i.firstChild}}for(;t;)t=z8e(t),o=!0;o&&e.trackWrites==i&&(e.trackWrites=null)}const o4=function(i){i&&(this.nodeName=i)};o4.prototype=Object.create(null);const Mb=[new o4];function oae(i,n,e){if(0==i.length)return Mb;let t=e?Mb[0]:new o4,o=[t];for(let r=0;r<i.length;r++){let a=i[r].type.attrs;if(a){a.nodeName&&o.push(t=new o4(a.nodeName));for(let l in a){let c=a[l];null!=c&&(e&&1==o.length&&o.push(t=new o4(n.isInline?"span":"div")),"class"==l?t.class=(t.class?t.class+" ":"")+c:"style"==l?t.style=(t.style?t.style+";":"")+c:"nodeName"!=l&&(t[l]=c))}}}return o}function B8e(i,n,e,t){if(e==Mb&&t==Mb)return n;let o=n;for(let r=0;r<t.length;r++){let a=t[r],l=e[r];if(r){let c;l&&l.nodeName==a.nodeName&&o!=i&&(c=o.parentNode)&&c.nodeName.toLowerCase()==a.nodeName||(c=document.createElement(a.nodeName),c.pmIsDeco=!0,c.appendChild(o),l=Mb[0]),o=c}dVt(o,l||Mb[0],a)}return o}function dVt(i,n,e){for(let t in n)"class"!=t&&"style"!=t&&"nodeName"!=t&&!(t in e)&&i.removeAttribute(t);for(let t in e)"class"!=t&&"style"!=t&&"nodeName"!=t&&e[t]!=n[t]&&i.setAttribute(t,e[t]);if(n.class!=e.class){let t=n.class?n.class.split(" ").filter(Boolean):[],o=e.class?e.class.split(" ").filter(Boolean):[];for(let r=0;r<t.length;r++)-1==o.indexOf(t[r])&&i.classList.remove(t[r]);for(let r=0;r<o.length;r++)-1==t.indexOf(o[r])&&i.classList.add(o[r]);0==i.classList.length&&i.removeAttribute("class")}if(n.style!=e.style){if(n.style){let o,t=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;o=t.exec(n.style);)i.style.removeProperty(o[1])}e.style&&(i.style.cssText+=e.style)}}function V8e(i,n,e){return B8e(i,i,Mb,oae(n,e,1!=i.nodeType))}function rae(i,n){if(i.length!=n.length)return!1;for(let e=0;e<i.length;e++)if(!i[e].type.eq(n[e].type))return!1;return!0}function z8e(i){let n=i.nextSibling;return i.parentNode.removeChild(i),n}class uVt{constructor(n,e,t){this.lock=e,this.view=t,this.index=0,this.stack=[],this.changed=!1,this.top=n,this.preMatch=function hVt(i,n){let e=n,t=e.children.length,o=i.childCount,r=new Map,a=[];e:for(;o>0;){let l;for(;;)if(t){let u=e.children[t-1];if(!(u instanceof Tb)){l=u,t--;break}e=u,t=u.children.length}else{if(e==n)break e;t=e.parent.children.indexOf(e),e=e.parent}let c=l.node;if(c){if(c!=i.child(o-1))break;--o,r.set(l,o),a.push(l)}}return{index:o,matched:r,matches:a.reverse()}}(n.node.content,n)}destroyBetween(n,e){if(n!=e){for(let t=n;t<e;t++)this.top.children[t].destroy();this.top.children.splice(n,e-n),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(n,e,t){let o=0,r=this.stack.length>>1,a=Math.min(r,n.length);for(;o<a&&(o==r-1?this.top:this.stack[o+1<<1]).matchesMark(n[o])&&!1!==n[o].type.spec.spanning;)o++;for(;o<r;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<n.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let u=this.top.children[c];if(u.matchesMark(n[r])&&!this.isLocked(u.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=Tb.create(this.top,n[r],e,t);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,r++}}findNodeMatch(n,e,t,o){let a,r=-1;if(o>=this.preMatch.index&&(a=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&a.matchesNode(n,e,t))r=this.top.children.indexOf(a,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let u=this.top.children[l];if(u.matchesNode(n,e,t)&&!this.preMatch.matched.has(u)){r=l;break}}return!(r<0||(this.destroyBetween(this.index,r),this.index++,0))}updateNodeAt(n,e,t,o,r){let a=this.top.children[o];return 3==a.dirty&&a.dom==a.contentDOM&&(a.dirty=2),!!a.update(n,e,t,r)&&(this.destroyBetween(this.index,o),this.index++,!0)}findIndexWithChild(n){for(;;){let e=n.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let t=n.pmViewDesc;if(t)for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==t)return o;return-1}n=e}}updateNextNode(n,e,t,o,r,a){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof fv){let u=this.preMatch.matched.get(c);if(null!=u&&u!=r)return!1;let _,f=c.dom,S=this.isLocked(f)&&!(n.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==n.text&&3!=c.dirty&&rae(e,c.outerDeco));if(!S&&c.update(n,e,t,o))return this.destroyBetween(this.index,l),c.dom!=f&&(this.changed=!0),this.index++,!0;if(!S&&(_=this.recreateWrapper(c,n,e,t,o,a)))return this.top.children[this.index]=_,_.contentDOM&&(_.dirty=2,_.updateChildren(o,a+1),_.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(n,e,t,o,r,a){if(n.dirty||e.isAtom||!n.children.length||!n.node.content.eq(e.content))return null;let l=fv.create(this.top,e,t,o,r,a);if(l.contentDOM){l.children=n.children,n.children=[];for(let c of l.children)c.parent=l}return n.destroy(),l}addNode(n,e,t,o,r){let a=fv.create(this.top,n,e,t,o,r);a.contentDOM&&a.updateChildren(o,r+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(n,e,t){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(!o||!o.matchesWidget(n)||n!=o.widget&&o.widget.type.toDOM.parentNode){let r=new P8e(this.top,n,e,t);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let n=this.top.children[this.index-1],e=this.top;for(;n instanceof Tb;)e=n,n=e.children[e.children.length-1];(!n||!(n instanceof M9)||/\n$/.test(n.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(n.node.text))&&((rc||bl)&&n&&"false"==n.dom.contentEditable&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(n,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(n))this.index++;else{let t=document.createElement(n);"IMG"==n&&(t.className="ProseMirror-separator",t.alt=""),"BR"==n&&(t.className="ProseMirror-trailingBreak");let o=new U8e(this.top,[],t,null);e!=this.top?e.children.push(o):e.children.splice(this.index++,0,o),this.changed=!0}}isLocked(n){return this.lock&&(n==this.lock||1==n.nodeType&&n.contains(this.lock.parentNode))}}function pVt(i,n){return i.type.side-n.type.side}function aae(i,n,e,t,o){let r=[];for(let a=0,l=0;a<i.length;a++){let c=i[a],u=l,f=l+=c.size;u>=e||f<=n?r.push(c):(u<n&&r.push(c.slice(0,n-u,t)),o&&(r.push(o),o=void 0),f>e&&r.push(c.slice(e-u,c.size,t)))}return r}function lae(i,n=null){let e=i.domSelectionRange(),t=i.state.doc;if(!e.focusNode)return null;let o=i.docView.nearestDesc(e.focusNode),r=o&&0==o.size,a=i.docView.posFromDOM(e.focusNode,e.focusOffset,1);if(a<0)return null;let c,u,l=t.resolve(a);if(T9(e)){for(c=l;o&&!o.node;)o=o.parent;let f=o.node;if(o&&f.isAtom&&Vt.isSelectable(f)&&o.parent&&(!f.isInline||!function VBt(i,n,e){for(let t=0==n,o=n==em(i);t||o;){if(i==e)return!0;let r=oc(i);if(!(i=i.parentNode))return!1;t=t&&0==r,o=o&&r==em(i)}}(e.focusNode,e.focusOffset,o.dom))){let _=o.posBefore;u=new Vt(a==_?l:t.resolve(_))}}else{let f=i.docView.posFromDOM(e.anchorNode,e.anchorOffset,1);if(f<0)return null;c=t.resolve(f)}return u||(u=dae(i,c,l,"pointer"==n||i.state.selection.head<l.pos&&!r?1:-1)),u}function H8e(i){return i.editable?i.hasFocus():J8e(i)&&document.activeElement&&document.activeElement.contains(i.dom)}function Sg(i,n=!1){let e=i.state.selection;if(W8e(i,e),H8e(i)){if(!n&&i.input.mouseDown&&i.input.mouseDown.allowDefault&&bl){let t=i.domSelectionRange(),o=i.domObserver.currentSelection;if(t.anchorNode&&o.anchorNode&&wb(t.anchorNode,t.anchorOffset,o.anchorNode,o.anchorOffset))return i.input.mouseDown.delayedSelectionSync=!0,void i.domObserver.setCurSelection()}if(i.domObserver.disconnectSelection(),i.cursorWrapper)!function vVt(i){let n=i.domSelection(),e=document.createRange(),t=i.cursorWrapper.dom,o="IMG"==t.nodeName;o?e.setEnd(t.parentNode,oc(t)+1):e.setEnd(t,0),e.collapse(!1),n.removeAllRanges(),n.addRange(e),!o&&!i.state.selection.visible&&Yc&&hv<=11&&(t.disabled=!0,t.disabled=!1)}(i);else{let r,a,{anchor:t,head:o}=e;j8e&&!(e instanceof Jn)&&(e.$from.parent.inlineContent||(r=$8e(i,e.from)),!e.empty&&!e.$from.parent.inlineContent&&(a=$8e(i,e.to))),i.docView.setSelection(t,o,i.root,n),j8e&&(r&&X8e(r),a&&X8e(a)),e.visible?i.dom.classList.remove("ProseMirror-hideselection"):(i.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function SVt(i){let n=i.dom.ownerDocument;n.removeEventListener("selectionchange",i.input.hideSelectionGuard);let e=i.domSelectionRange(),t=e.anchorNode,o=e.anchorOffset;n.addEventListener("selectionchange",i.input.hideSelectionGuard=()=>{(e.anchorNode!=t||e.anchorOffset!=o)&&(n.removeEventListener("selectionchange",i.input.hideSelectionGuard),setTimeout(()=>{(!H8e(i)||i.state.selection.visible)&&i.dom.classList.remove("ProseMirror-hideselection")},20))})}(i))}i.domObserver.setCurSelection(),i.domObserver.connectSelection()}}const j8e=rc||bl&&jBt<63;function $8e(i,n){let{node:e,offset:t}=i.docView.domFromPos(n,0),o=t<e.childNodes.length?e.childNodes[t]:null,r=t?e.childNodes[t-1]:null;if(rc&&o&&"false"==o.contentEditable)return cae(o);if(!(o&&"false"!=o.contentEditable||r&&"false"!=r.contentEditable)){if(o)return cae(o);if(r)return cae(r)}}function cae(i){return i.contentEditable="true",rc&&i.draggable&&(i.draggable=!1,i.wasDraggable=!0),i}function X8e(i){i.contentEditable="false",i.wasDraggable&&(i.draggable=!0,i.wasDraggable=null)}function W8e(i,n){if(n instanceof Vt){let e=i.docView.descAt(n.from);e!=i.lastSelectedViewDesc&&(K8e(i),e&&e.selectNode(),i.lastSelectedViewDesc=e)}else K8e(i)}function K8e(i){i.lastSelectedViewDesc&&(i.lastSelectedViewDesc.parent&&i.lastSelectedViewDesc.deselectNode(),i.lastSelectedViewDesc=void 0)}function dae(i,n,e,t){return i.someProp("createSelectionBetween",o=>o(i,n,e))||Jn.between(n,e,t)}function Y8e(i){return!(i.editable&&!i.hasFocus())&&J8e(i)}function J8e(i){let n=i.domSelectionRange();if(!n.anchorNode)return!1;try{return i.dom.contains(3==n.anchorNode.nodeType?n.anchorNode.parentNode:n.anchorNode)&&(i.editable||i.dom.contains(3==n.focusNode.nodeType?n.focusNode.parentNode:n.focusNode))}catch{return!1}}function uae(i,n){let{$anchor:e,$head:t}=i.selection,o=n>0?e.max(t):e.min(t),r=o.parent.inlineContent?o.depth?i.doc.resolve(n>0?o.after():o.before()):null:o;return r&&Fn.findFrom(r,n)}function mv(i,n){return i.dispatch(i.state.tr.setSelection(n).scrollIntoView()),!0}function q8e(i,n,e){let t=i.state.selection;if(!(t instanceof Jn)){if(t instanceof Vt&&t.node.isInline)return mv(i,new Jn(n>0?t.$to:t.$from));{let o=uae(i.state,n);return!!o&&mv(i,o)}}if(e.indexOf("s")>-1){let{$head:o}=t,r=o.textOffset?null:n<0?o.nodeBefore:o.nodeAfter;if(!r||r.isText||!r.isLeaf)return!1;let a=i.state.doc.resolve(o.pos+r.nodeSize*(n<0?-1:1));return mv(i,new Jn(t.$anchor,a))}if(!t.empty)return!1;if(i.endOfTextblock(n>0?"forward":"backward")){let o=uae(i.state,n);return!!(o&&o instanceof Vt)&&mv(i,o)}if(!(eh&&e.indexOf("m")>-1)){let a,o=t.$head,r=o.textOffset?null:n<0?o.nodeBefore:o.nodeAfter;if(!r||r.isText)return!1;let l=n<0?o.pos-r.nodeSize:o.pos;return!!(r.isAtom||(a=i.docView.descAt(l))&&!a.contentDOM)&&(Vt.isSelectable(r)?mv(i,new Vt(n<0?i.state.doc.resolve(o.pos-r.nodeSize):o)):!!t4&&mv(i,new Jn(i.state.doc.resolve(n<0?l:l+r.nodeSize))))}}function I9(i){return 3==i.nodeType?i.nodeValue.length:i.childNodes.length}function r4(i,n){let e=i.pmViewDesc;return e&&0==e.size&&(n<0||i.nextSibling||"BR"!=i.nodeName)}function hO(i,n){return n<0?function bVt(i){let n=i.domSelectionRange(),e=n.focusNode,t=n.focusOffset;if(!e)return;let o,r,a=!1;for(sp&&1==e.nodeType&&t<I9(e)&&r4(e.childNodes[t],-1)&&(a=!0);;)if(t>0){if(1!=e.nodeType)break;{let l=e.childNodes[t-1];if(r4(l,-1))o=e,r=--t;else{if(3!=l.nodeType)break;e=l,t=e.nodeValue.length}}}else{if(Q8e(e))break;{let l=e.previousSibling;for(;l&&r4(l,-1);)o=e.parentNode,r=oc(l),l=l.previousSibling;if(l)e=l,t=I9(e);else{if(e=e.parentNode,e==i.dom)break;t=0}}}a?hae(i,e,t):o&&hae(i,o,r)}(i):function EVt(i){let n=i.domSelectionRange(),e=n.focusNode,t=n.focusOffset;if(!e)return;let r,a,o=I9(e);for(;;)if(t<o){if(1!=e.nodeType)break;if(!r4(e.childNodes[t],1))break;r=e,a=++t}else{if(Q8e(e))break;{let l=e.nextSibling;for(;l&&r4(l,1);)r=l.parentNode,a=oc(l)+1,l=l.nextSibling;if(l)e=l,t=0,o=I9(e);else{if(e=e.parentNode,e==i.dom)break;t=o=0}}}r&&hae(i,r,a)}(i)}function Q8e(i){let n=i.pmViewDesc;return n&&n.node&&n.node.isBlock}function hae(i,n,e){if(3!=n.nodeType){let r,a;(a=function yVt(i,n){for(;i&&n==i.childNodes.length&&!Zre(i);)n=oc(i)+1,i=i.parentNode;for(;i&&n<i.childNodes.length;){let e=i.childNodes[n];if(3==e.nodeType)return e;if(1==e.nodeType&&"false"==e.contentEditable)break;i=e,n=0}}(n,e))?(n=a,e=0):(r=function DVt(i,n){for(;i&&!n&&!Zre(i);)n=oc(i),i=i.parentNode;for(;i&&n;){let e=i.childNodes[n-1];if(3==e.nodeType)return e;if(1==e.nodeType&&"false"==e.contentEditable)break;n=(i=e).childNodes.length}}(n,e))&&(n=r,e=r.nodeValue.length)}let t=i.domSelection();if(T9(t)){let r=document.createRange();r.setEnd(n,e),r.setStart(n,e),t.removeAllRanges(),t.addRange(r)}else t.extend&&t.extend(n,e);i.domObserver.setCurSelection();let{state:o}=i;setTimeout(()=>{i.state==o&&Sg(i)},50)}function Z8e(i,n){let e=i.state.doc.resolve(n);if(!bl&&!$Bt&&e.parent.inlineContent){let o=i.coordsAtPos(n);if(n>e.start()){let r=i.coordsAtPos(n-1),a=(r.top+r.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(r.left-o.left)>1)return r.left<o.left?"ltr":"rtl"}if(n<e.end()){let r=i.coordsAtPos(n+1),a=(r.top+r.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(r.left-o.left)>1)return r.left>o.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(i.dom).direction?"rtl":"ltr"}function eLe(i,n,e){let t=i.state.selection;if(t instanceof Jn&&!t.empty||e.indexOf("s")>-1||eh&&e.indexOf("m")>-1)return!1;let{$from:o,$to:r}=t;if(!o.parent.inlineContent||i.endOfTextblock(n<0?"up":"down")){let a=uae(i.state,n);if(a&&a instanceof Vt)return mv(i,a)}if(!o.parent.inlineContent){let a=n<0?o:r,l=t instanceof Cl?Fn.near(a,n):Fn.findFrom(a,n);return!!l&&mv(i,l)}return!1}function tLe(i,n){if(!(i.state.selection instanceof Jn))return!0;let{$head:e,$anchor:t,empty:o}=i.state.selection;if(!e.sameParent(t))return!0;if(!o)return!1;if(i.endOfTextblock(n>0?"forward":"backward"))return!0;let r=!e.textOffset&&(n<0?e.nodeBefore:e.nodeAfter);if(r&&!r.isText){let a=i.state.tr;return n<0?a.delete(e.pos-r.nodeSize,e.pos):a.delete(e.pos,e.pos+r.nodeSize),i.dispatch(a),!0}return!1}function nLe(i,n,e){i.domObserver.stop(),n.contentEditable=e,i.domObserver.start()}function iLe(i,n){i.someProp("transformCopied",v=>{n=v(n,i)});let e=[],{content:t,openStart:o,openEnd:r}=n;for(;o>1&&r>1&&1==t.childCount&&1==t.firstChild.childCount;){o--,r--;let v=t.firstChild;e.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),t=v.content}let a=i.someProp("clipboardSerializer")||hg.fromSchema(i.state.schema),l=uLe(),c=l.createElement("div");c.appendChild(a.serializeFragment(t,{document:l}));let f,u=c.firstChild,_=0;for(;u&&1==u.nodeType&&(f=cLe[u.nodeName.toLowerCase()]);){for(let v=f.length-1;v>=0;v--){let b=l.createElement(f[v]);for(;c.firstChild;)b.appendChild(c.firstChild);c.appendChild(b),_++}u=c.firstChild}return u&&1==u.nodeType&&u.setAttribute("data-pm-slice",`${o} ${r}${_?` -${_}`:""} ${JSON.stringify(e)}`),{dom:c,text:i.someProp("clipboardTextSerializer",v=>v(n,i))||n.content.textBetween(0,n.content.size,"\n\n")}}function sLe(i,n,e,t,o){let a,l,r=o.parent.type.spec.code;if(!e&&!n)return null;let c=n&&(t||r||!e);if(c){if(i.someProp("transformPastedText",S=>{n=S(n,r||t,i)}),r)return n?new tt(Oe.from(i.state.schema.text(n.replace(/\r\n?/g,"\n"))),0,0):tt.empty;let _=i.someProp("clipboardTextParser",S=>S(n,o,t,i));if(_)l=_;else{let S=o.marks(),{schema:v}=i.state,b=hg.fromSchema(v);a=document.createElement("div"),n.split(/(?:\r\n?|\n)+/).forEach(D=>{let k=a.appendChild(document.createElement("p"));D&&k.appendChild(b.serializeNode(v.text(D,S)))})}}else i.someProp("transformPastedHTML",_=>{e=_(e,i)}),a=function IVt(i){let n=/^(\s*<meta [^>]*>)*/.exec(i);n&&(i=i.slice(n[0].length));let o,e=uLe().createElement("div"),t=/<([a-z][^>\s]+)/i.exec(i);if((o=t&&cLe[t[1].toLowerCase()])&&(i=o.map(r=>"<"+r+">").join("")+i+o.map(r=>"</"+r+">").reverse().join("")),e.innerHTML=i,o)for(let r=0;r<o.length;r++)e=e.querySelector(o[r])||e;return e}(e),t4&&function RVt(i){let n=i.querySelectorAll(bl?"span:not([class]):not([style])":"span.Apple-converted-space");for(let e=0;e<n.length;e++){let t=n[e];1==t.childNodes.length&&"\xa0"==t.textContent&&t.parentNode&&t.parentNode.replaceChild(i.ownerDocument.createTextNode(" "),t)}}(a);let u=a&&a.querySelector("[data-pm-slice]"),f=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let _=+f[3];_>0;_--){let S=a.firstChild;for(;S&&1!=S.nodeType;)S=S.nextSibling;if(!S)break;a=S}if(l||(l=(i.someProp("clipboardParser")||i.someProp("domParser")||Wk.fromSchema(i.state.schema)).parseSlice(a,{preserveWhitespace:!(!c&&!f),context:o,ruleFromNode:S=>"BR"!=S.nodeName||S.nextSibling||!S.parentNode||TVt.test(S.parentNode.nodeName)?null:{ignore:!0}})),f)l=function AVt(i,n){if(!i.size)return i;let t,e=i.content.firstChild.type.schema;try{t=JSON.parse(n)}catch{return i}let{content:o,openStart:r,openEnd:a}=i;for(let l=t.length-2;l>=0;l-=2){let c=e.nodes[t[l]];if(!c||c.hasRequiredAttrs())break;o=Oe.from(c.create(t[l+1],o)),r++,a++}return new tt(o,r,a)}(lLe(l,+f[1],+f[2]),f[4]);else if(l=tt.maxOpen(function MVt(i,n){if(i.childCount<2)return i;for(let e=n.depth;e>=0;e--){let r,o=n.node(e).contentMatchAt(n.index(e)),a=[];if(i.forEach(l=>{if(!a)return;let u,c=o.findWrapping(l.type);if(!c)return a=null;if(u=a.length&&r.length&&rLe(c,r,l,a[a.length-1],0))a[a.length-1]=u;else{a.length&&(a[a.length-1]=aLe(a[a.length-1],r.length));let f=oLe(l,c);a.push(f),o=o.matchType(f.type),r=c}}),a)return Oe.from(a)}return i}(l.content,o),!0),l.openStart||l.openEnd){let _=0,S=0;for(let v=l.content.firstChild;_<l.openStart&&!v.type.spec.isolating;_++,v=v.firstChild);for(let v=l.content.lastChild;S<l.openEnd&&!v.type.spec.isolating;S++,v=v.lastChild);l=lLe(l,_,S)}return i.someProp("transformPasted",_=>{l=_(l,i)}),l}const TVt=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function oLe(i,n,e=0){for(let t=n.length-1;t>=e;t--)i=n[t].create(null,Oe.from(i));return i}function rLe(i,n,e,t,o){if(o<i.length&&o<n.length&&i[o]==n[o]){let r=rLe(i,n,e,t.lastChild,o+1);if(r)return t.copy(t.content.replaceChild(t.childCount-1,r));if(t.contentMatchAt(t.childCount).matchType(o==i.length-1?e.type:i[o+1]))return t.copy(t.content.append(Oe.from(oLe(e,i,o+1))))}}function aLe(i,n){if(0==n)return i;let e=i.content.replaceChild(i.childCount-1,aLe(i.lastChild,n-1)),t=i.contentMatchAt(i.childCount).fillBefore(Oe.empty,!0);return i.copy(e.append(t))}function pae(i,n,e,t,o,r){let a=n<0?i.firstChild:i.lastChild,l=a.content;return i.childCount>1&&(r=0),o<t-1&&(l=pae(l,n,e,t,o+1,r)),o>=e&&(l=n<0?a.contentMatchAt(0).fillBefore(l,r<=o).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(Oe.empty,!0))),i.replaceChild(n<0?0:i.childCount-1,a.copy(l))}function lLe(i,n,e){return n<i.openStart&&(i=new tt(pae(i.content,-1,n,i.openStart,0,i.openEnd),n,i.openEnd)),e<i.openEnd&&(i=new tt(pae(i.content,1,e,i.openEnd,0,0),i.openStart,e)),i}const cLe={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let dLe=null;function uLe(){return dLe||(dLe=document.implementation.createHTMLDocument("title"))}const ac={},lc={},xVt={touchstart:!0,touchmove:!0};class NVt{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function _v(i,n){i.input.lastSelectionOrigin=n,i.input.lastSelectionTime=Date.now()}function fae(i){i.someProp("handleDOMEvents",n=>{for(let e in n)i.input.eventHandlers[e]||i.dom.addEventListener(e,i.input.eventHandlers[e]=t=>mae(i,t))})}function mae(i,n){return i.someProp("handleDOMEvents",e=>{let t=e[n.type];return!!t&&(t(i,n)||n.defaultPrevented)})}function GVt(i,n){if(!n.bubbles)return!0;if(n.defaultPrevented)return!1;for(let e=n.target;e!=i.dom;e=e.parentNode)if(!e||11==e.nodeType||e.pmViewDesc&&e.pmViewDesc.stopEvent(n))return!1;return!0}function R9(i){return{left:i.clientX,top:i.clientY}}function _ae(i,n,e,t,o){if(-1==t)return!1;let r=i.state.doc.resolve(t);for(let a=r.depth+1;a>0;a--)if(i.someProp(n,l=>a>r.depth?l(i,e,r.nodeAfter,r.before(a),o,!0):l(i,e,r.node(a),r.before(a),o,!1)))return!0;return!1}function pO(i,n,e){i.focused||i.focus();let t=i.state.tr.setSelection(n);"pointer"==e&&t.setMeta("pointer",!0),i.dispatch(t)}function HVt(i,n,e,t){return _ae(i,"handleDoubleClickOn",n,e,t)||i.someProp("handleDoubleClick",o=>o(i,n,t))}function jVt(i,n,e,t){return _ae(i,"handleTripleClickOn",n,e,t)||i.someProp("handleTripleClick",o=>o(i,n,t))||function $Vt(i,n,e){if(0!=e.button)return!1;let t=i.state.doc;if(-1==n)return!!t.inlineContent&&(pO(i,Jn.create(t,0,t.content.size),"pointer"),!0);let o=t.resolve(n);for(let r=o.depth+1;r>0;r--){let a=r>o.depth?o.nodeAfter:o.node(r),l=o.before(r);if(a.inlineContent)pO(i,Jn.create(t,l+1,l+1+a.content.size),"pointer");else{if(!Vt.isSelectable(a))continue;pO(i,Vt.create(t,l),"pointer")}return!0}}(i,e,t)}function gae(i){return A9(i)}lc.keydown=(i,n)=>{let e=n;if(i.input.shiftKey=16==e.keyCode||e.shiftKey,!pLe(i,e)&&(i.input.lastKeyCode=e.keyCode,i.input.lastKeyCodeTime=Date.now(),!op||!bl||13!=e.keyCode))if(229!=e.keyCode&&i.domObserver.forceFlush(),!dO||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey)i.someProp("handleKeyDown",t=>t(i,e))||function OVt(i,n){let e=n.keyCode,t=function kVt(i){let n="";return i.ctrlKey&&(n+="c"),i.metaKey&&(n+="m"),i.altKey&&(n+="a"),i.shiftKey&&(n+="s"),n}(n);if(8==e||eh&&72==e&&"c"==t)return tLe(i,-1)||hO(i,-1);if(46==e&&!n.shiftKey||eh&&68==e&&"c"==t)return tLe(i,1)||hO(i,1);if(13==e||27==e)return!0;if(37==e||eh&&66==e&&"c"==t){let o=37==e?"ltr"==Z8e(i,i.state.selection.from)?-1:1:-1;return q8e(i,o,t)||hO(i,o)}if(39==e||eh&&70==e&&"c"==t){let o=39==e?"ltr"==Z8e(i,i.state.selection.from)?1:-1:1;return q8e(i,o,t)||hO(i,o)}return 38==e||eh&&80==e&&"c"==t?eLe(i,-1,t)||hO(i,-1):40==e||eh&&78==e&&"c"==t?function wVt(i){if(!rc||i.state.selection.$head.parentOffset>0)return!1;let{focusNode:n,focusOffset:e}=i.domSelectionRange();if(n&&1==n.nodeType&&0==e&&n.firstChild&&"false"==n.firstChild.contentEditable){let t=n.firstChild;nLe(i,t,"true"),setTimeout(()=>nLe(i,t,"false"),20)}return!1}(i)||eLe(i,1,t)||hO(i,1):t==(eh?"m":"c")&&(66==e||73==e||89==e||90==e)}(i,e)?e.preventDefault():_v(i,"key");else{let t=Date.now();i.input.lastIOSEnter=t,i.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{i.input.lastIOSEnter==t&&(i.someProp("handleKeyDown",o=>o(i,kb(13,"Enter"))),i.input.lastIOSEnter=0)},200)}},lc.keyup=(i,n)=>{16==n.keyCode&&(i.input.shiftKey=!1)},lc.keypress=(i,n)=>{let e=n;if(pLe(i,e)||!e.charCode||e.ctrlKey&&!e.altKey||eh&&e.metaKey)return;if(i.someProp("handleKeyPress",o=>o(i,e)))return void e.preventDefault();let t=i.state.selection;if(!(t instanceof Jn&&t.$from.sameParent(t.$to))){let o=String.fromCharCode(e.charCode);!/[\r\n]/.test(o)&&!i.someProp("handleTextInput",r=>r(i,t.$from.pos,t.$to.pos,o))&&i.dispatch(i.state.tr.insertText(o).scrollIntoView()),e.preventDefault()}};const hLe=eh?"metaKey":"ctrlKey";ac.mousedown=(i,n)=>{let e=n;i.input.shiftKey=e.shiftKey;let t=gae(i),o=Date.now(),r="singleClick";o-i.input.lastClick.time<500&&function FVt(i,n){let e=n.x-i.clientX,t=n.y-i.clientY;return e*e+t*t<100}(e,i.input.lastClick)&&!e[hLe]&&("singleClick"==i.input.lastClick.type?r="doubleClick":"doubleClick"==i.input.lastClick.type&&(r="tripleClick")),i.input.lastClick={time:o,x:e.clientX,y:e.clientY,type:r};let a=i.posAtCoords(R9(e));a&&("singleClick"==r?(i.input.mouseDown&&i.input.mouseDown.done(),i.input.mouseDown=new XVt(i,a,e,!!t)):("doubleClick"==r?HVt:jVt)(i,a.pos,a.inside,e)?e.preventDefault():_v(i,"pointer"))};class XVt{constructor(n,e,t,o){let r,a;if(this.view=n,this.pos=e,this.event=t,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=n.state.doc,this.selectNode=!!t[hLe],this.allowDefault=t.shiftKey,e.inside>-1)r=n.state.doc.nodeAt(e.inside),a=e.inside;else{let f=n.state.doc.resolve(e.pos);r=f.parent,a=f.depth?f.before():0}const l=o?null:t.target,c=l?n.docView.nearestDesc(l,!0):null;this.target=c?c.dom:null;let{selection:u}=n.state;(0==t.button&&r.type.spec.draggable&&!1!==r.type.spec.selectable||u instanceof Vt&&u.from<=a&&u.to>a)&&(this.mightDrag={node:r,pos:a,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!sp||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),n.root.addEventListener("mouseup",this.up=this.up.bind(this)),n.root.addEventListener("mousemove",this.move=this.move.bind(this)),_v(n,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Sg(this.view)),this.view.input.mouseDown=null}up(n){if(this.done(),!this.view.dom.contains(n.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(R9(n))),this.updateAllowDefault(n),this.allowDefault||!e?_v(this.view,"pointer"):function zVt(i,n,e,t,o){return _ae(i,"handleClickOn",n,e,t)||i.someProp("handleClick",r=>r(i,n,t))||(o?function VVt(i,n){if(-1==n)return!1;let t,o,e=i.state.selection;e instanceof Vt&&(t=e.node);let r=i.state.doc.resolve(n);for(let a=r.depth+1;a>0;a--){let l=a>r.depth?r.nodeAfter:r.node(a);if(Vt.isSelectable(l)){o=t&&e.$from.depth>0&&a>=e.$from.depth&&r.before(e.$from.depth+1)==e.$from.pos?r.before(e.$from.depth):r.before(a);break}}return null!=o&&(pO(i,Vt.create(i.state.doc,o),"pointer"),!0)}(i,e):function BVt(i,n){if(-1==n)return!1;let e=i.state.doc.resolve(n),t=e.nodeAfter;return!!(t&&t.isAtom&&Vt.isSelectable(t))&&(pO(i,new Vt(e),"pointer"),!0)}(i,e))}(this.view,e.pos,e.inside,n,this.selectNode)?n.preventDefault():0==n.button&&(this.flushed||rc&&this.mightDrag&&!this.mightDrag.node.isAtom||bl&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(pO(this.view,Fn.near(this.view.state.doc.resolve(e.pos)),"pointer"),n.preventDefault()):_v(this.view,"pointer")}move(n){this.updateAllowDefault(n),_v(this.view,"pointer"),0==n.buttons&&this.done()}updateAllowDefault(n){!this.allowDefault&&(Math.abs(this.event.x-n.clientX)>4||Math.abs(this.event.y-n.clientY)>4)&&(this.allowDefault=!0)}}function pLe(i,n){return!!i.composing||!!(rc&&Math.abs(n.timeStamp-i.input.compositionEndedAt)<500)&&(i.input.compositionEndedAt=-2e8,!0)}ac.touchstart=i=>{i.input.lastTouch=Date.now(),gae(i),_v(i,"pointer")},ac.touchmove=i=>{i.input.lastTouch=Date.now(),_v(i,"pointer")},ac.contextmenu=i=>gae(i);const WVt=op?5e3:-1;function fLe(i,n){clearTimeout(i.input.composingTimeout),n>-1&&(i.input.composingTimeout=setTimeout(()=>A9(i),n))}function mLe(i){for(i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=function KVt(){let i=document.createEvent("Event");return i.initEvent("event",!0,!0),i.timeStamp}());i.input.compositionNodes.length>0;)i.input.compositionNodes.pop().markParentsDirty()}function A9(i,n=!1){if(!(op&&i.domObserver.flushingSoon>=0)){if(i.domObserver.forceFlush(),mLe(i),n||i.docView&&i.docView.dirty){let e=lae(i);return e&&!e.eq(i.state.selection)?i.dispatch(i.state.tr.setSelection(e)):i.updateState(i.state),!0}return!1}}lc.compositionstart=lc.compositionupdate=i=>{if(!i.composing){i.domObserver.flush();let{state:n}=i,e=n.selection.$from;if(n.selection.empty&&(n.storedMarks||!e.textOffset&&e.parentOffset&&e.nodeBefore.marks.some(t=>!1===t.type.spec.inclusive)))i.markCursor=i.state.storedMarks||e.marks(),A9(i,!0),i.markCursor=null;else if(A9(i),sp&&n.selection.empty&&e.parentOffset&&!e.textOffset&&e.nodeBefore.marks.length){let t=i.domSelectionRange();for(let o=t.focusNode,r=t.focusOffset;o&&1==o.nodeType&&0!=r;){let a=r<0?o.lastChild:o.childNodes[r-1];if(!a)break;if(3==a.nodeType){i.domSelection().collapse(a,a.nodeValue.length);break}o=a,r=-1}}i.input.composing=!0}fLe(i,WVt)},lc.compositionend=(i,n)=>{i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=n.timeStamp,i.input.compositionPendingChanges=i.domObserver.pendingRecords().length?i.input.compositionID:0,i.input.compositionPendingChanges&&Promise.resolve().then(()=>i.domObserver.flush()),i.input.compositionID++,fLe(i,20))};const a4=Yc&&hv<15||dO&&XBt<604;function l4(i,n,e,t,o){let r=sLe(i,n,e,t,i.state.selection.$from);if(i.someProp("handlePaste",c=>c(i,o,r||tt.empty)))return!0;if(!r)return!1;let a=function JVt(i){return 0==i.openStart&&0==i.openEnd&&1==i.content.childCount?i.content.firstChild:null}(r),l=a?i.state.tr.replaceSelectionWith(a,t):i.state.tr.replaceSelection(r);return i.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function _Le(i){let n=i.getData("text/plain")||i.getData("Text");if(n)return n;let e=i.getData("text/uri-list");return e?e.replace(/\r?\n/g," "):""}ac.copy=lc.cut=(i,n)=>{let e=n,t=i.state.selection,o="cut"==e.type;if(t.empty)return;let r=a4?null:e.clipboardData,a=t.content(),{dom:l,text:c}=iLe(i,a);r?(e.preventDefault(),r.clearData(),r.setData("text/html",l.innerHTML),r.setData("text/plain",c)):function YVt(i,n){if(!i.dom.parentNode)return;let e=i.dom.parentNode.appendChild(document.createElement("div"));e.appendChild(n),e.style.cssText="position: fixed; left: -10000px; top: 10px";let t=getSelection(),o=document.createRange();o.selectNodeContents(n),i.dom.blur(),t.removeAllRanges(),t.addRange(o),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e),i.focus()},50)}(i,l),o&&i.dispatch(i.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},lc.paste=(i,n)=>{let e=n;if(i.composing&&!op)return;let t=a4?null:e.clipboardData,o=i.input.shiftKey&&45!=i.input.lastKeyCode;t&&l4(i,_Le(t),t.getData("text/html"),o,e)?e.preventDefault():function qVt(i,n){if(!i.dom.parentNode)return;let e=i.input.shiftKey||i.state.selection.$from.parent.type.spec.code,t=i.dom.parentNode.appendChild(document.createElement(e?"textarea":"div"));e||(t.contentEditable="true"),t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus();let o=i.input.shiftKey&&45!=i.input.lastKeyCode;setTimeout(()=>{i.focus(),t.parentNode&&t.parentNode.removeChild(t),e?l4(i,t.value,null,o,n):l4(i,t.textContent,t.innerHTML,o,n)},50)}(i,e)};class gLe{constructor(n,e,t){this.slice=n,this.move=e,this.node=t}}const SLe=eh?"altKey":"ctrlKey";ac.dragstart=(i,n)=>{let e=n,t=i.input.mouseDown;if(t&&t.done(),!e.dataTransfer)return;let a,o=i.state.selection,r=o.empty?null:i.posAtCoords(R9(e));if(!(r&&r.pos>=o.from&&r.pos<=(o instanceof Vt?o.to-1:o.to)))if(t&&t.mightDrag)a=Vt.create(i.state.doc,t.mightDrag.pos);else if(e.target&&1==e.target.nodeType){let f=i.docView.nearestDesc(e.target,!0);f&&f.node.type.spec.draggable&&f!=i.docView&&(a=Vt.create(i.state.doc,f.posBefore))}let l=(a||i.state.selection).content(),{dom:c,text:u}=iLe(i,l);e.dataTransfer.clearData(),e.dataTransfer.setData(a4?"Text":"text/html",c.innerHTML),e.dataTransfer.effectAllowed="copyMove",a4||e.dataTransfer.setData("text/plain",u),i.dragging=new gLe(l,!e[SLe],a)},ac.dragend=i=>{let n=i.dragging;window.setTimeout(()=>{i.dragging==n&&(i.dragging=null)},50)},lc.dragover=lc.dragenter=(i,n)=>n.preventDefault(),lc.drop=(i,n)=>{let e=n,t=i.dragging;if(i.dragging=null,!e.dataTransfer)return;let o=i.posAtCoords(R9(e));if(!o)return;let r=i.state.doc.resolve(o.pos),a=t&&t.slice;a?i.someProp("transformPasted",b=>{a=b(a,i)}):a=sLe(i,_Le(e.dataTransfer),a4?null:e.dataTransfer.getData("text/html"),!1,r);let l=!(!t||e[SLe]);if(i.someProp("handleDrop",b=>b(i,e,a||tt.empty,l)))return void e.preventDefault();if(!a)return;e.preventDefault();let c=a?function d7t(i,n,e){let t=i.resolve(n);if(!e.content.size)return n;let o=e.content;for(let r=0;r<e.openStart;r++)o=o.firstChild.content;for(let r=1;r<=(0==e.openStart&&e.size?2:1);r++)for(let a=t.depth;a>=0;a--){let l=a==t.depth?0:t.pos<=(t.start(a+1)+t.end(a+1))/2?-1:1,c=t.index(a)+(l>0?1:0),u=t.node(a),f=!1;if(1==r)f=u.canReplace(c,c,o);else{let _=u.contentMatchAt(c).findWrapping(o.firstChild.type);f=_&&u.canReplaceWith(c,c,_[0])}if(f)return 0==l?t.pos:l<0?t.before(a+1):t.after(a+1)}return null}(i.state.doc,r.pos,a):r.pos;null==c&&(c=r.pos);let u=i.state.tr;if(l){let{node:b}=t;b?b.replace(u):u.deleteSelection()}let f=u.mapping.map(c),_=0==a.openStart&&0==a.openEnd&&1==a.content.childCount,S=u.doc;if(_?u.replaceRangeWith(f,f,a.content.firstChild):u.replaceRange(f,f,a),u.doc.eq(S))return;let v=u.doc.resolve(f);if(_&&Vt.isSelectable(a.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(a.content.firstChild))u.setSelection(new Vt(v));else{let b=u.mapping.map(c);u.mapping.maps[u.mapping.maps.length-1].forEach((D,k,O,I)=>b=I),u.setSelection(dae(i,v,u.doc.resolve(b)))}i.focus(),i.dispatch(u.setMeta("uiEvent","drop"))},ac.focus=i=>{i.input.lastFocus=Date.now(),i.focused||(i.domObserver.stop(),i.dom.classList.add("ProseMirror-focused"),i.domObserver.start(),i.focused=!0,setTimeout(()=>{i.docView&&i.hasFocus()&&!i.domObserver.currentSelection.eq(i.domSelectionRange())&&Sg(i)},20))},ac.blur=(i,n)=>{let e=n;i.focused&&(i.domObserver.stop(),i.dom.classList.remove("ProseMirror-focused"),i.domObserver.start(),e.relatedTarget&&i.dom.contains(e.relatedTarget)&&i.domObserver.currentSelection.clear(),i.focused=!1)},ac.beforeinput=(i,n)=>{if(bl&&op&&"deleteContentBackward"==n.inputType){i.domObserver.flushSoon();let{domChangeCount:t}=i.input;setTimeout(()=>{if(i.input.domChangeCount!=t||(i.dom.blur(),i.focus(),i.someProp("handleKeyDown",r=>r(i,kb(8,"Backspace")))))return;let{$cursor:o}=i.state.selection;o&&o.pos>0&&i.dispatch(i.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let i in lc)ac[i]=lc[i];function c4(i,n){if(i==n)return!0;for(let e in i)if(i[e]!==n[e])return!1;for(let e in n)if(!(e in i))return!1;return!0}class x9{constructor(n,e){this.toDOM=n,this.spec=e||Ib,this.side=this.spec.side||0}map(n,e,t,o){let{pos:r,deleted:a}=n.mapResult(e.from+o,this.side<0?-1:1);return a?null:new va(r-t,r-t,this)}valid(){return!0}eq(n){return this==n||n instanceof x9&&(this.spec.key&&this.spec.key==n.spec.key||this.toDOM==n.toDOM&&c4(this.spec,n.spec))}destroy(n){this.spec.destroy&&this.spec.destroy(n)}}class gv{constructor(n,e){this.attrs=n,this.spec=e||Ib}map(n,e,t,o){let r=n.map(e.from+o,this.spec.inclusiveStart?-1:1)-t,a=n.map(e.to+o,this.spec.inclusiveEnd?1:-1)-t;return r>=a?null:new va(r,a,this)}valid(n,e){return e.from<e.to}eq(n){return this==n||n instanceof gv&&c4(this.attrs,n.attrs)&&c4(this.spec,n.spec)}static is(n){return n.type instanceof gv}destroy(){}}class Sae{constructor(n,e){this.attrs=n,this.spec=e||Ib}map(n,e,t,o){let r=n.mapResult(e.from+o,1);if(r.deleted)return null;let a=n.mapResult(e.to+o,-1);return a.deleted||a.pos<=r.pos?null:new va(r.pos-t,a.pos-t,this)}valid(n,e){let r,{index:t,offset:o}=n.content.findIndex(e.from);return o==e.from&&!(r=n.child(t)).isText&&o+r.nodeSize==e.to}eq(n){return this==n||n instanceof Sae&&c4(this.attrs,n.attrs)&&c4(this.spec,n.spec)}destroy(){}}class va{constructor(n,e,t){this.from=n,this.to=e,this.type=t}copy(n,e){return new va(n,e,this.type)}eq(n,e=0){return this.type.eq(n.type)&&this.from+e==n.from&&this.to+e==n.to}map(n,e,t){return this.type.map(n,this,e,t)}static widget(n,e,t){return new va(n,n,new x9(e,t))}static inline(n,e,t,o){return new va(n,e,new gv(t,o))}static node(n,e,t,o){return new va(n,e,new Sae(t,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof gv}get widget(){return this.type instanceof x9}}const fO=[],Ib={};class Vi{constructor(n,e){this.local=n.length?n:fO,this.children=e.length?e:fO}static create(n,e){return e.length?N9(e,n,0,Ib):El}find(n,e,t){let o=[];return this.findInner(n??0,e??1e9,o,0,t),o}findInner(n,e,t,o,r){for(let a=0;a<this.local.length;a++){let l=this.local[a];l.from<=e&&l.to>=n&&(!r||r(l.spec))&&t.push(l.copy(l.from+o,l.to+o))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<e&&this.children[a+1]>n){let l=this.children[a]+1;this.children[a+2].findInner(n-l,e-l,t,o+l,r)}}map(n,e,t){return this==El||0==n.maps.length?this:this.mapInner(n,e,0,0,t||Ib)}mapInner(n,e,t,o,r){let a;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(n,t,o);c&&c.type.valid(e,c)?(a||(a=[])).push(c):r.onRemove&&r.onRemove(this.local[l].spec)}return this.children.length?function QVt(i,n,e,t,o,r,a){let l=i.slice();for(let u=0,f=r;u<e.maps.length;u++){let _=0;e.maps[u].forEach((S,v,b,D)=>{let k=D-b-(v-S);for(let O=0;O<l.length;O+=3){let I=l[O+1];if(I<0||S>I+f-_)continue;let x=l[O]+f-_;v>=x?l[O+1]=S<=x?-2:-1:S>=f&&k&&(l[O]+=k,l[O+1]+=k)}_+=k}),f=e.maps[u].map(f,-1)}let c=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(-2==l[u+1]){c=!0,l[u+1]=-1;continue}let f=e.map(i[u]+r),_=f-o;if(_<0||_>=t.content.size){c=!0;continue}let v=e.map(i[u+1]+r,-1)-o,{index:b,offset:D}=t.content.findIndex(_),k=t.maybeChild(b);if(k&&D==_&&D+k.nodeSize==v){let O=l[u+2].mapInner(e,k,f+1,i[u]+r+1,a);O!=El?(l[u]=_,l[u+1]=v,l[u+2]=O):(l[u+1]=-2,c=!0)}else c=!0}if(c){let u=function ZVt(i,n,e,t,o,r,a){function l(c,u){for(let f=0;f<c.local.length;f++){let _=c.local[f].map(t,o,u);_?e.push(_):a.onRemove&&a.onRemove(c.local[f].spec)}for(let f=0;f<c.children.length;f+=3)l(c.children[f+2],c.children[f]+u+1)}for(let c=0;c<i.length;c+=3)-1==i[c+1]&&l(i[c+2],n[c]+r+1);return e}(l,i,n,e,o,r,a),f=N9(u,t,0,a);n=f.local;for(let _=0;_<l.length;_+=3)l[_+1]<0&&(l.splice(_,3),_-=3);for(let _=0,S=0;_<f.children.length;_+=3){let v=f.children[_];for(;S<l.length&&l[S]<v;)S+=3;l.splice(S,0,f.children[_],f.children[_+1],f.children[_+2])}}return new Vi(n.sort(Rb),l)}(this.children,a||[],n,e,t,o,r):a?new Vi(a.sort(Rb),fO):El}add(n,e){return e.length?this==El?Vi.create(n,e):this.addInner(n,e,0):this}addInner(n,e,t){let o,r=0;n.forEach((l,c)=>{let f,u=c+t;if(f=CLe(e,l,u)){for(o||(o=this.children.slice());r<o.length&&o[r]<c;)r+=3;o[r]==c?o[r+2]=o[r+2].addInner(l,f,u+1):o.splice(r,0,c,c+l.nodeSize,N9(f,l,u+1,Ib)),r+=3}});let a=vLe(r?bLe(e):e,-t);for(let l=0;l<a.length;l++)a[l].type.valid(n,a[l])||a.splice(l--,1);return new Vi(a.length?this.local.concat(a).sort(Rb):this.local,o||this.children)}remove(n){return 0==n.length||this==El?this:this.removeInner(n,0)}removeInner(n,e){let t=this.children,o=this.local;for(let r=0;r<t.length;r+=3){let a,l=t[r]+e,c=t[r+1]+e;for(let _,f=0;f<n.length;f++)(_=n[f])&&_.from>l&&_.to<c&&(n[f]=null,(a||(a=[])).push(_));if(!a)continue;t==this.children&&(t=this.children.slice());let u=t[r+2].removeInner(a,l+1);u!=El?t[r+2]=u:(t.splice(r,3),r-=3)}if(o.length)for(let a,r=0;r<n.length;r++)if(a=n[r])for(let l=0;l<o.length;l++)o[l].eq(a,e)&&(o==this.local&&(o=this.local.slice()),o.splice(l--,1));return t==this.children&&o==this.local?this:o.length||t.length?new Vi(o,t):El}forChild(n,e){if(this==El)return this;if(e.isLeaf)return Vi.empty;let t,o;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=n){this.children[l]==n&&(t=this.children[l+2]);break}let r=n+1,a=r+e.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<a&&c.to>r&&c.type instanceof gv){let u=Math.max(r,c.from)-r,f=Math.min(a,c.to)-r;u<f&&(o||(o=[])).push(c.copy(u,f))}}if(o){let l=new Vi(o.sort(Rb),fO);return t?new Sv([l,t]):l}return t||El}eq(n){if(this==n)return!0;if(!(n instanceof Vi)||this.local.length!=n.local.length||this.children.length!=n.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(n.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=n.children[e]||this.children[e+1]!=n.children[e+1]||!this.children[e+2].eq(n.children[e+2]))return!1;return!0}locals(n){return vae(this.localsInner(n))}localsInner(n){if(this==El)return fO;if(n.inlineContent||!this.local.some(gv.is))return this.local;let e=[];for(let t=0;t<this.local.length;t++)this.local[t].type instanceof gv||e.push(this.local[t]);return e}}Vi.empty=new Vi([],[]),Vi.removeOverlap=vae;const El=Vi.empty;class Sv{constructor(n){this.members=n}map(n,e){const t=this.members.map(o=>o.map(n,e,Ib));return Sv.from(t)}forChild(n,e){if(e.isLeaf)return Vi.empty;let t=[];for(let o=0;o<this.members.length;o++){let r=this.members[o].forChild(n,e);r!=El&&(r instanceof Sv?t=t.concat(r.members):t.push(r))}return Sv.from(t)}eq(n){if(!(n instanceof Sv)||n.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(n.members[e]))return!1;return!0}locals(n){let e,t=!0;for(let o=0;o<this.members.length;o++){let r=this.members[o].localsInner(n);if(r.length)if(e){t&&(e=e.slice(),t=!1);for(let a=0;a<r.length;a++)e.push(r[a])}else e=r}return e?vae(t?e:e.sort(Rb)):fO}static from(n){switch(n.length){case 0:return El;case 1:return n[0];default:return new Sv(n.every(e=>e instanceof Vi)?n:n.reduce((e,t)=>e.concat(t instanceof Vi?t:t.members),[]))}}}function vLe(i,n){if(!n||!i.length)return i;let e=[];for(let t=0;t<i.length;t++){let o=i[t];e.push(new va(o.from+n,o.to+n,o.type))}return e}function CLe(i,n,e){if(n.isLeaf)return null;let t=e+n.nodeSize,o=null;for(let a,r=0;r<i.length;r++)(a=i[r])&&a.from>e&&a.to<t&&((o||(o=[])).push(a),i[r]=null);return o}function bLe(i){let n=[];for(let e=0;e<i.length;e++)null!=i[e]&&n.push(i[e]);return n}function N9(i,n,e,t){let o=[],r=!1;n.forEach((l,c)=>{let u=CLe(i,l,c+e);if(u){r=!0;let f=N9(u,l,e+c+1,t);f!=El&&o.push(c,c+l.nodeSize,f)}});let a=vLe(r?bLe(i):i,-e).sort(Rb);for(let l=0;l<a.length;l++)a[l].type.valid(n,a[l])||(t.onRemove&&t.onRemove(a[l].spec),a.splice(l--,1));return a.length||o.length?new Vi(a,o):El}function Rb(i,n){return i.from-n.from||i.to-n.to}function vae(i){let n=i;for(let e=0;e<n.length-1;e++){let t=n[e];if(t.from!=t.to)for(let o=e+1;o<n.length;o++){let r=n[o];if(r.from!=t.from){r.from<t.to&&(n==i&&(n=i.slice()),n[e]=t.copy(t.from,r.from),ELe(n,o,t.copy(r.from,t.to)));break}r.to!=t.to&&(n==i&&(n=i.slice()),n[o]=r.copy(r.from,t.to),ELe(n,o+1,r.copy(t.to,r.to)))}}return n}function ELe(i,n,e){for(;n<i.length&&Rb(e,i[n])>0;)n++;i.splice(n,0,e)}function Cae(i){let n=[];return i.someProp("decorations",e=>{let t=e(i.state);t&&t!=El&&n.push(t)}),i.cursorWrapper&&n.push(Vi.create(i.state.doc,[i.cursorWrapper.deco])),Sv.from(n)}const e9t={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},t9t=Yc&&hv<=11;class n9t{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(n){this.anchorNode=n.anchorNode,this.anchorOffset=n.anchorOffset,this.focusNode=n.focusNode,this.focusOffset=n.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(n){return n.anchorNode==this.anchorNode&&n.anchorOffset==this.anchorOffset&&n.focusNode==this.focusNode&&n.focusOffset==this.focusOffset}}class i9t{constructor(n,e){this.view=n,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new n9t,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(t=>{for(let o=0;o<t.length;o++)this.queue.push(t[o]);Yc&&hv<=11&&t.some(o=>"childList"==o.type&&o.removedNodes.length||"characterData"==o.type&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),t9t&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,e9t)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let n=this.observer.takeRecords();if(n.length){for(let e=0;e<n.length;e++)this.queue.push(n[e]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Y8e(this.view)){if(this.suppressingSelectionUpdates)return Sg(this.view);if(Yc&&hv<=11&&!this.view.state.selection.empty){let n=this.view.domSelectionRange();if(n.focusNode&&wb(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(n){if(!n.focusNode)return!0;let t,e=new Set;for(let r=n.focusNode;r;r=e4(r))e.add(r);for(let r=n.anchorNode;r;r=e4(r))if(e.has(r)){t=r;break}let o=t&&this.view.docView.nearestDesc(t);return o&&o.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let n of this.observer.takeRecords())this.queue.push(n);return this.queue}flush(){let{view:n}=this;if(!n.docView||this.flushingSoon>-1)return;let e=this.pendingRecords();e.length&&(this.queue=[]);let t=n.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&Y8e(n)&&!this.ignoreSelectionChange(t),r=-1,a=-1,l=!1,c=[];if(n.editable)for(let f=0;f<e.length;f++){let _=this.registerMutation(e[f],c);_&&(r=r<0?_.from:Math.min(_.from,r),a=a<0?_.to:Math.max(_.to,a),_.typeOver&&(l=!0))}if(sp&&c.length>1){let f=c.filter(_=>"BR"==_.nodeName);if(2==f.length){let _=f[0],S=f[1];_.parentNode&&_.parentNode.parentNode==S.parentNode?S.remove():_.remove()}}let u=null;r<0&&o&&n.input.lastFocus>Date.now()-200&&Math.max(n.input.lastTouch,n.input.lastClick.time)<Date.now()-300&&T9(t)&&(u=lae(n))&&u.eq(Fn.near(n.state.doc.resolve(0),1))?(n.input.lastFocus=0,Sg(n),this.currentSelection.set(t),n.scrollToSelection()):(r>-1||o)&&(r>-1&&(n.docView.markDirty(r,a),function s9t(i){if(!yLe.has(i)&&(yLe.set(i,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(i.dom).whiteSpace))){if(i.requiresGeckoHackNode=sp,DLe)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),DLe=!0}}(n)),this.handleDOMChange(r,a,l,c),n.docView&&n.docView.dirty?n.updateState(n.state):this.currentSelection.eq(t)||Sg(n),this.currentSelection.set(t))}registerMutation(n,e){if(e.indexOf(n.target)>-1)return null;let t=this.view.docView.nearestDesc(n.target);if("attributes"==n.type&&(t==this.view.docView||"contenteditable"==n.attributeName||"style"==n.attributeName&&!n.oldValue&&!n.target.getAttribute("style"))||!t||t.ignoreMutation(n))return null;if("childList"==n.type){for(let f=0;f<n.addedNodes.length;f++)e.push(n.addedNodes[f]);if(t.contentDOM&&t.contentDOM!=t.dom&&!t.contentDOM.contains(n.target))return{from:t.posBefore,to:t.posAfter};let o=n.previousSibling,r=n.nextSibling;if(Yc&&hv<=11&&n.addedNodes.length)for(let f=0;f<n.addedNodes.length;f++){let{previousSibling:_,nextSibling:S}=n.addedNodes[f];(!_||Array.prototype.indexOf.call(n.addedNodes,_)<0)&&(o=_),(!S||Array.prototype.indexOf.call(n.addedNodes,S)<0)&&(r=S)}let a=o&&o.parentNode==n.target?oc(o)+1:0,l=t.localPosFromDOM(n.target,a,-1),c=r&&r.parentNode==n.target?oc(r):n.target.childNodes.length;return{from:l,to:t.localPosFromDOM(n.target,c,1)}}return"attributes"==n.type?{from:t.posAtStart-t.border,to:t.posAtEnd+t.border}:{from:t.posAtStart,to:t.posAtEnd,typeOver:n.target.nodeValue==n.oldValue}}}let yLe=new WeakMap,DLe=!1;function a9t(i){let n=i.pmViewDesc;if(n)return n.parseRule();if("BR"==i.nodeName&&i.parentNode){if(rc&&/^(ul|ol)$/i.test(i.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(i.parentNode.lastChild==i||rc&&/^(tr|table)$/i.test(i.parentNode.nodeName))return{ignore:!0}}else if("IMG"==i.nodeName&&i.getAttribute("mark-placeholder"))return{ignore:!0};return null}const l9t=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function wLe(i,n,e){return Math.max(e.anchor,e.head)>n.content.size?null:dae(i,n.resolve(e.anchor),n.resolve(e.head))}function bae(i,n,e){let t=i.depth,o=n?i.end():i.pos;for(;t>0&&(n||i.indexAfter(t)==i.node(t).childCount);)t--,o++,n=!1;if(e){let r=i.node(t).maybeChild(i.indexAfter(t));for(;r&&!r.isLeaf;)r=r.firstChild,o++}return o}function kLe(i){if(2!=i.length)return!1;let n=i.charCodeAt(0),e=i.charCodeAt(1);return n>=56320&&n<=57343&&e>=55296&&e<=56319}class p9t{constructor(n,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new NVt,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(RLe),this.dispatch=this.dispatch.bind(this),this.dom=n&&n.mount||document.createElement("div"),n&&(n.appendChild?n.appendChild(this.dom):"function"==typeof n?n(this.dom):n.mount&&(this.mounted=!0)),this.editable=MLe(this),TLe(this),this.nodeViews=ILe(this),this.docView=G8e(this.state.doc,OLe(this),Cae(this),this.dom,this),this.domObserver=new i9t(this,(t,o,r,a)=>function c9t(i,n,e,t,o){let r=i.input.compositionPendingChanges||(i.composing?i.input.compositionID:0);if(i.input.compositionPendingChanges=0,n<0){let te=i.input.lastSelectionTime>Date.now()-50?i.input.lastSelectionOrigin:null,ce=lae(i,te);if(ce&&!i.state.selection.eq(ce)){if(bl&&op&&13===i.input.lastKeyCode&&Date.now()-100<i.input.lastKeyCodeTime&&i.someProp("handleKeyDown",Le=>Le(i,kb(13,"Enter"))))return;let oe=i.state.tr.setSelection(ce);"pointer"==te?oe.setMeta("pointer",!0):"key"==te&&oe.scrollIntoView(),r&&oe.setMeta("composition",r),i.dispatch(oe)}return}let a=i.state.doc.resolve(n),l=a.sharedDepth(e);n=a.before(l+1),e=i.state.doc.resolve(e).after(l+1);let S,v,c=i.state.selection,u=function r9t(i,n,e){let u,{node:t,fromOffset:o,toOffset:r,from:a,to:l}=i.docView.parseRange(n,e),c=i.domSelectionRange(),f=c.anchorNode;if(f&&i.dom.contains(1==f.nodeType?f:f.parentNode)&&(u=[{node:f,offset:c.anchorOffset}],T9(c)||u.push({node:c.focusNode,offset:c.focusOffset})),bl&&8===i.input.lastKeyCode)for(let k=r;k>o;k--){let O=t.childNodes[k-1],I=O.pmViewDesc;if("BR"==O.nodeName&&!I){r=k;break}if(!I||I.size)break}let _=i.state.doc,S=i.someProp("domParser")||Wk.fromSchema(i.state.schema),v=_.resolve(a),b=null,D=S.parse(t,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:o,to:r,preserveWhitespace:"pre"!=v.parent.type.whitespace||"full",findPositions:u,ruleFromNode:a9t,context:v});if(u&&null!=u[0].pos){let k=u[0].pos,O=u[1]&&u[1].pos;null==O&&(O=k),b={anchor:k+a,head:O+a}}return{doc:D,sel:b,from:a,to:l}}(i,n,e),f=i.state.doc,_=f.slice(u.from,u.to);8===i.input.lastKeyCode&&Date.now()-100<i.input.lastKeyCodeTime?(S=i.state.selection.to,v="end"):(S=i.state.selection.from,v="start"),i.input.lastKeyCode=null;let b=function h9t(i,n,e,t,o){let r=i.findDiffStart(n,e);if(null==r)return null;let{a,b:l}=i.findDiffEnd(n,e+i.size,e+n.size);if("end"==o&&(t-=a+Math.max(0,r-Math.min(a,l))-r),a<r&&i.size<n.size){let c=t<=r&&t>=a?r-t:0;r-=c,r&&r<n.size&&kLe(n.textBetween(r-1,r+1))&&(r+=c?1:-1),l=r+(l-a),a=r}else if(l<r){let c=t<=r&&t>=l?r-t:0;r-=c,r&&r<i.size&&kLe(i.textBetween(r-1,r+1))&&(r+=c?1:-1),a=r+(a-l),l=r}return{start:r,endA:a,endB:l}}(_.content,u.doc.content,u.from,S,v);if((dO&&i.input.lastIOSEnter>Date.now()-225||op)&&o.some(te=>1==te.nodeType&&!l9t.test(te.nodeName))&&(!b||b.endA>=b.endB)&&i.someProp("handleKeyDown",te=>te(i,kb(13,"Enter"))))return void(i.input.lastIOSEnter=0);if(!b){if(!(t&&c instanceof Jn&&!c.empty&&c.$head.sameParent(c.$anchor))||i.composing||u.sel&&u.sel.anchor!=u.sel.head){if(u.sel){let te=wLe(i,i.state.doc,u.sel);if(te&&!te.eq(i.state.selection)){let ce=i.state.tr.setSelection(te);r&&ce.setMeta("composition",r),i.dispatch(ce)}}return}b={start:c.from,endA:c.to,endB:c.to}}if(bl&&i.cursorWrapper&&u.sel&&u.sel.anchor==i.cursorWrapper.deco.from&&u.sel.head==u.sel.anchor){let te=b.endB-b.start;u.sel={anchor:u.sel.anchor+te,head:u.sel.anchor+te}}i.input.domChangeCount++,i.state.selection.from<i.state.selection.to&&b.start==b.endB&&i.state.selection instanceof Jn&&(b.start>i.state.selection.from&&b.start<=i.state.selection.from+2&&i.state.selection.from>=u.from?b.start=i.state.selection.from:b.endA<i.state.selection.to&&b.endA>=i.state.selection.to-2&&i.state.selection.to<=u.to&&(b.endB+=i.state.selection.to-b.endA,b.endA=i.state.selection.to)),Yc&&hv<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>u.from&&" \xa0"==u.doc.textBetween(b.start-u.from-1,b.start-u.from+1)&&(b.start--,b.endA--,b.endB--);let x,D=u.doc.resolveNoCache(b.start-u.from),k=u.doc.resolveNoCache(b.endB-u.from),O=f.resolve(b.start),I=D.sameParent(k)&&D.parent.inlineContent&&O.end()>=b.endA;if((dO&&i.input.lastIOSEnter>Date.now()-225&&(!I||o.some(te=>"DIV"==te.nodeName||"P"==te.nodeName))||!I&&D.pos<u.doc.content.size&&!D.sameParent(k)&&(x=Fn.findFrom(u.doc.resolve(D.pos+1),1,!0))&&x.head==k.pos)&&i.someProp("handleKeyDown",te=>te(i,kb(13,"Enter"))))return void(i.input.lastIOSEnter=0);if(i.state.selection.anchor>b.start&&function u9t(i,n,e,t,o){if(!t.parent.isTextblock||e-n<=o.pos-t.pos||bae(t,!0,!1)<o.pos)return!1;let r=i.resolve(n);if(r.parentOffset<r.parent.content.size||!r.parent.isTextblock)return!1;let a=i.resolve(bae(r,!0,!0));return!(!a.parent.isTextblock||a.pos>e||bae(a,!0,!1)<e)&&t.parent.content.cut(t.parentOffset).eq(a.parent.content)}(f,b.start,b.endA,D,k)&&i.someProp("handleKeyDown",te=>te(i,kb(8,"Backspace"))))return void(op&&bl&&i.domObserver.suppressSelectionUpdates());bl&&op&&b.endB==b.start&&(i.input.lastAndroidDelete=Date.now()),op&&!I&&D.start()!=k.start()&&0==k.parentOffset&&D.depth==k.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==b.endA&&(b.endB-=2,k=u.doc.resolveNoCache(b.endB-u.from),setTimeout(()=>{i.someProp("handleKeyDown",function(te){return te(i,kb(13,"Enter"))})},20));let H,j,J,P=b.start,L=b.endA;if(I)if(D.pos==k.pos)Yc&&hv<=11&&0==D.parentOffset&&(i.domObserver.suppressSelectionUpdates(),setTimeout(()=>Sg(i),20)),H=i.state.tr.delete(P,L),j=f.resolve(b.start).marksAcross(f.resolve(b.endA));else if(b.endA==b.endB&&(J=function d9t(i,n){let a,l,c,e=i.firstChild.marks,t=n.firstChild.marks,o=e,r=t;for(let f=0;f<t.length;f++)o=t[f].removeFromSet(o);for(let f=0;f<e.length;f++)r=e[f].removeFromSet(r);if(1==o.length&&0==r.length)l=o[0],a="add",c=f=>f.mark(l.addToSet(f.marks));else{if(0!=o.length||1!=r.length)return null;l=r[0],a="remove",c=f=>f.mark(l.removeFromSet(f.marks))}let u=[];for(let f=0;f<n.childCount;f++)u.push(c(n.child(f)));if(Oe.from(u).eq(i))return{mark:l,type:a}}(D.parent.content.cut(D.parentOffset,k.parentOffset),O.parent.content.cut(O.parentOffset,b.endA-O.start()))))H=i.state.tr,"add"==J.type?H.addMark(P,L,J.mark):H.removeMark(P,L,J.mark);else if(D.parent.child(D.index()).isText&&D.index()==k.index()-(k.textOffset?0:1)){let te=D.parent.textBetween(D.parentOffset,k.parentOffset);if(i.someProp("handleTextInput",ce=>ce(i,P,L,te)))return;H=i.state.tr.insertText(te,P,L)}if(H||(H=i.state.tr.replace(P,L,u.doc.slice(b.start-u.from,b.endB-u.from))),u.sel){let te=wLe(i,H.doc,u.sel);te&&!(bl&&op&&i.composing&&te.empty&&(b.start!=b.endB||i.input.lastAndroidDelete<Date.now()-100)&&(te.head==P||te.head==H.mapping.map(L)-1)||Yc&&te.empty&&te.head==P)&&H.setSelection(te)}j&&H.ensureMarks(j),r&&H.setMeta("composition",r),i.dispatch(H.scrollIntoView())}(this,t,o,r,a)),this.domObserver.start(),function LVt(i){for(let n in ac){let e=ac[n];i.dom.addEventListener(n,i.input.eventHandlers[n]=t=>{GVt(i,t)&&!mae(i,t)&&(i.editable||!(t.type in lc))&&e(i,t)},xVt[n]?{passive:!0}:void 0)}rc&&i.dom.addEventListener("input",()=>null),fae(i)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let n=this._props;this._props={};for(let e in n)this._props[e]=n[e];this._props.state=this.state}return this._props}update(n){n.handleDOMEvents!=this._props.handleDOMEvents&&fae(this);let e=this._props;this._props=n,n.plugins&&(n.plugins.forEach(RLe),this.directPlugins=n.plugins),this.updateStateInner(n.state,e)}setProps(n){let e={};for(let t in this._props)e[t]=this._props[t];e.state=this.state;for(let t in n)e[t]=n[t];this.update(e)}updateState(n){this.updateStateInner(n,this._props)}updateStateInner(n,e){var t;let o=this.state,r=!1,a=!1;n.storedMarks&&this.composing&&(mLe(this),a=!0),this.state=n;let l=o.plugins!=n.plugins||this._props.plugins!=e.plugins;if(l||this._props.plugins!=e.plugins||this._props.nodeViews!=e.nodeViews){let v=ILe(this);(function m9t(i,n){let e=0,t=0;for(let o in i){if(i[o]!=n[o])return!0;e++}for(let o in n)t++;return e!=t})(v,this.nodeViews)&&(this.nodeViews=v,r=!0)}(l||e.handleDOMEvents!=this._props.handleDOMEvents)&&fae(this),this.editable=MLe(this),TLe(this);let c=Cae(this),u=OLe(this),f=o.plugins==n.plugins||o.doc.eq(n.doc)?n.scrollToSelection>o.scrollToSelection?"to selection":"preserve":"reset",_=r||!this.docView.matchesNode(n.doc,u,c);(_||!n.selection.eq(o.selection))&&(a=!0);let S="preserve"==f&&a&&null==this.dom.style.overflowAnchor&&function YBt(i){let t,o,n=i.dom.getBoundingClientRect(),e=Math.max(0,n.top);for(let r=(n.left+n.right)/2,a=e+1;a<Math.min(innerHeight,n.bottom);a+=5){let l=i.root.elementFromPoint(r,a);if(!l||l==i.dom||!i.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=e-20){t=l,o=c.top;break}}return{refDOM:t,refTop:o,stack:w8e(i.dom)}}(this);if(a){this.domObserver.stop();let v=_&&(Yc||bl)&&!this.composing&&!o.selection.empty&&!n.selection.empty&&function f9t(i,n){let e=Math.min(i.$anchor.sharedDepth(i.head),n.$anchor.sharedDepth(n.head));return i.$anchor.start(e)!=n.$anchor.start(e)}(o.selection,n.selection);if(_){let b=bl?this.trackWrites=this.domSelectionRange().focusNode:null;(r||!this.docView.update(n.doc,u,c,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=G8e(n.doc,u,c,this.dom,this)),b&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function CVt(i){let n=i.docView.domFromPos(i.state.selection.anchor,0),e=i.domSelectionRange();return wb(n.node,n.offset,e.anchorNode,e.anchorOffset)}(this))?Sg(this,v):(W8e(this,n.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!(null===(t=this.dragging)||void 0===t)&&t.node&&!o.doc.eq(n.doc)&&this.updateDraggedNode(this.dragging,o),"reset"==f?this.dom.scrollTop=0:"to selection"==f?this.scrollToSelection():S&&function JBt({refDOM:i,refTop:n,stack:e}){let t=i?i.getBoundingClientRect().top:0;k8e(e,0==t?0:t-n)}(S)}scrollToSelection(){let n=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",e=>e(this)))if(this.state.selection instanceof Vt){let e=this.docView.domAfterPos(this.state.selection.from);1==e.nodeType&&D8e(this,e.getBoundingClientRect(),n)}else D8e(this,this.coordsAtPos(this.state.selection.head,1),n)}destroyPluginViews(){let n;for(;n=this.pluginViews.pop();)n.destroy&&n.destroy()}updatePluginViews(n){if(n&&n.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let e=0;e<this.pluginViews.length;e++){let t=this.pluginViews[e];t.update&&t.update(this,n)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}updateDraggedNode(n,e){let t=n.node,o=-1;if(this.state.doc.nodeAt(t.from)==t.node)o=t.from;else{let r=t.from+(this.state.doc.content.size-e.doc.content.size);(r>0&&this.state.doc.nodeAt(r))==t.node&&(o=r)}this.dragging=new gLe(n.slice,n.move,o<0?void 0:Vt.create(this.state.doc,o))}someProp(n,e){let o,t=this._props&&this._props[n];if(null!=t&&(o=e?e(t):t))return o;for(let a=0;a<this.directPlugins.length;a++){let l=this.directPlugins[a].props[n];if(null!=l&&(o=e?e(l):l))return o}let r=this.state.plugins;if(r)for(let a=0;a<r.length;a++){let l=r[a].props[n];if(null!=l&&(o=e?e(l):l))return o}}hasFocus(){if(Yc){let n=this.root.activeElement;if(n==this.dom)return!0;if(!n||!this.dom.contains(n))return!1;for(;n&&this.dom!=n&&this.dom.contains(n);){if("false"==n.contentEditable)return!1;n=n.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function qBt(i){if(i.setActive)return i.setActive();if(uO)return i.focus(uO);let n=w8e(i);i.focus(null==uO?{get preventScroll(){return uO={preventScroll:!0},!0}}:void 0),uO||(uO=!1,k8e(n,0))}(this.dom),Sg(this),this.domObserver.start()}get root(){let n=this._root;if(null==n)for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e;return n||document}updateRoot(){this._root=null}posAtCoords(n){return nVt(this,n)}coordsAtPos(n,e=1){return I8e(this,n,e)}domAtPos(n,e=0){return this.docView.domFromPos(n,e)}nodeDOM(n){let e=this.docView.descAt(n);return e?e.nodeDOM:null}posAtDOM(n,e,t=-1){let o=this.docView.posFromDOM(n,e,t);if(null==o)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(n,e){return function aVt(i,n,e){return A8e==n&&x8e==e?N8e:(A8e=n,x8e=e,N8e="up"==e||"down"==e?function sVt(i,n,e){let t=n.selection,o="up"==e?t.$from:t.$to;return R8e(i,n,()=>{let{node:r}=i.docView.domFromPos(o.pos,"up"==e?-1:1);for(;;){let l=i.docView.nearestDesc(r,!0);if(!l)break;if(l.node.isBlock){r=l.contentDOM||l.dom;break}r=l.dom.parentNode}let a=I8e(i,o.pos,1);for(let l=r.firstChild;l;l=l.nextSibling){let c;if(1==l.nodeType)c=l.getClientRects();else{if(3!=l.nodeType)continue;c=_g(l,0,l.nodeValue.length).getClientRects()}for(let u=0;u<c.length;u++){let f=c[u];if(f.bottom>f.top+1&&("up"==e?a.top-f.top>2*(f.bottom-a.top):f.bottom-a.bottom>2*(a.bottom-f.top)))return!1}}return!0})}(i,n,e):function rVt(i,n,e){let{$head:t}=n.selection;if(!t.parent.isTextblock)return!1;let o=t.parentOffset,r=!o,a=o==t.parent.content.size,l=i.domSelection();return oVt.test(t.parent.textContent)&&l.modify?R8e(i,n,()=>{let{focusNode:c,focusOffset:u,anchorNode:f,anchorOffset:_}=i.domSelectionRange(),S=l.caretBidiLevel;l.modify("move",e,"character");let v=t.depth?i.docView.domAfterPos(t.before()):i.dom,{focusNode:b,focusOffset:D}=i.domSelectionRange(),k=b&&!v.contains(1==b.nodeType?b:b.parentNode)||c==b&&u==D;try{l.collapse(f,_),c&&(c!=f||u!=_)&&l.extend&&l.extend(c,u)}catch{}return null!=S&&(l.caretBidiLevel=S),k}):"left"==e||"backward"==e?r:a}(i,n,e))}(this,e||this.state,n)}pasteHTML(n,e){return l4(this,"",n,!1,e||new ClipboardEvent("paste"))}pasteText(n,e){return l4(this,n,null,!0,e||new ClipboardEvent("paste"))}destroy(){this.docView&&(function PVt(i){i.domObserver.stop();for(let n in i.input.eventHandlers)i.dom.removeEventListener(n,i.input.eventHandlers[n]);clearTimeout(i.input.composingTimeout),clearTimeout(i.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Cae(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(n){return function UVt(i,n){!mae(i,n)&&ac[n.type]&&(i.editable||!(n.type in lc))&&ac[n.type](i,n)}(this,n)}dispatch(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))}domSelectionRange(){return rc&&11===this.root.nodeType&&function zBt(i){let n=i.activeElement;for(;n&&n.shadowRoot;)n=n.shadowRoot.activeElement;return n}(this.dom.ownerDocument)==this.dom?function o9t(i){let n;function e(c){c.preventDefault(),c.stopImmediatePropagation(),n=c.getTargetRanges()[0]}i.dom.addEventListener("beforeinput",e,!0),document.execCommand("indent"),i.dom.removeEventListener("beforeinput",e,!0);let t=n.startContainer,o=n.startOffset,r=n.endContainer,a=n.endOffset,l=i.domAtPos(i.state.selection.anchor);return wb(l.node,l.offset,r,a)&&([t,o,r,a]=[r,a,t,o]),{anchorNode:t,anchorOffset:o,focusNode:r,focusOffset:a}}(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function OLe(i){let n=Object.create(null);return n.class="ProseMirror",n.contenteditable=String(i.editable),i.someProp("attributes",e=>{if("function"==typeof e&&(e=e(i.state)),e)for(let t in e)"class"==t?n.class+=" "+e[t]:"style"==t?n.style=(n.style?n.style+";":"")+e[t]:!n[t]&&"contenteditable"!=t&&"nodeName"!=t&&(n[t]=String(e[t]))}),n.translate||(n.translate="no"),[va.node(0,i.state.doc.content.size,n)]}function TLe(i){if(i.markCursor){let n=document.createElement("img");n.className="ProseMirror-separator",n.setAttribute("mark-placeholder","true"),n.setAttribute("alt",""),i.cursorWrapper={dom:n,deco:va.widget(i.state.selection.head,n,{raw:!0,marks:i.markCursor})}}else i.cursorWrapper=null}function MLe(i){return!i.someProp("editable",n=>!1===n(i.state))}function ILe(i){let n=Object.create(null);function e(t){for(let o in t)Object.prototype.hasOwnProperty.call(n,o)||(n[o]=t[o])}return i.someProp("nodeViews",e),i.someProp("markViews",e),n}function RLe(i){if(i.spec.state||i.spec.filterTransaction||i.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}for(var vv={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},L9={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},_9t=typeof navigator<"u"&&/Mac/.test(navigator.platform),g9t=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),$a=0;$a<10;$a++)vv[48+$a]=vv[96+$a]=String($a);for($a=1;$a<=24;$a++)vv[$a+111]="F"+$a;for($a=65;$a<=90;$a++)vv[$a]=String.fromCharCode($a+32),L9[$a]=String.fromCharCode($a);for(var Eae in vv)L9.hasOwnProperty(Eae)||(L9[Eae]=vv[Eae]);const v9t=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function C9t(i){let t,o,r,a,n=i.split(/-(?!$)/),e=n[n.length-1];"Space"==e&&(e=" ");for(let l=0;l<n.length-1;l++){let c=n[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))t=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))r=!0;else{if(!/^mod$/i.test(c))throw new Error("Unrecognized modifier name: "+c);v9t?a=!0:o=!0}}return t&&(e="Alt-"+e),o&&(e="Ctrl-"+e),a&&(e="Meta-"+e),r&&(e="Shift-"+e),e}function yae(i,n,e=!0){return n.altKey&&(i="Alt-"+i),n.ctrlKey&&(i="Ctrl-"+i),n.metaKey&&(i="Meta-"+i),e&&n.shiftKey&&(i="Shift-"+i),i}function Dae(i){return new Xd({props:{handleKeyDown:wae(i)}})}function wae(i){let n=function b9t(i){let n=Object.create(null);for(let e in i)n[C9t(e)]=i[e];return n}(i);return function(e,t){let r,o=function S9t(i){var e=!(_9t&&i.metaKey&&i.shiftKey&&!i.ctrlKey&&!i.altKey||g9t&&i.shiftKey&&i.key&&1==i.key.length||"Unidentified"==i.key)&&i.key||(i.shiftKey?L9:vv)[i.keyCode]||i.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(t),a=n[yae(o,t)];if(a&&a(e.state,e.dispatch,e))return!0;if(1==o.length&&" "!=o){if(t.shiftKey){let l=n[yae(o,t,!1)];if(l&&l(e.state,e.dispatch,e))return!0}if((t.shiftKey||t.altKey||t.metaKey||o.charCodeAt(0)>127)&&(r=vv[t.keyCode])&&r!=o){let l=n[yae(r,t)];if(l&&l(e.state,e.dispatch,e))return!0}}return!1}}var kae,Oae;if(typeof WeakMap<"u"){let i=new WeakMap;kae=n=>i.get(n),Oae=(n,e)=>(i.set(n,e),e)}else{const i=[];let e=0;kae=t=>{for(let o=0;o<i.length;o+=2)if(i[o]==t)return i[o+1]},Oae=(t,o)=>(10==e&&(e=0),i[e++]=t,i[e++]=o)}var Es=class{constructor(i,n,e,t){this.width=i,this.height=n,this.map=e,this.problems=t}findCell(i){for(let n=0;n<this.map.length;n++){const e=this.map[n];if(e!=i)continue;const t=n%this.width,o=n/this.width|0;let r=t+1,a=o+1;for(let l=1;r<this.width&&this.map[n+l]==e;l++)r++;for(let l=1;a<this.height&&this.map[n+this.width*l]==e;l++)a++;return{left:t,top:o,right:r,bottom:a}}throw new RangeError(`No cell with offset ${i} found`)}colCount(i){for(let n=0;n<this.map.length;n++)if(this.map[n]==i)return n%this.width;throw new RangeError(`No cell with offset ${i} found`)}nextCell(i,n,e){const{left:t,right:o,top:r,bottom:a}=this.findCell(i);return"horiz"==n?(e<0?0==t:o==this.width)?null:this.map[r*this.width+(e<0?t-1:o)]:(e<0?0==r:a==this.height)?null:this.map[t+this.width*(e<0?r-1:a)]}rectBetween(i,n){const{left:e,right:t,top:o,bottom:r}=this.findCell(i),{left:a,right:l,top:c,bottom:u}=this.findCell(n);return{left:Math.min(e,a),top:Math.min(o,c),right:Math.max(t,l),bottom:Math.max(r,u)}}cellsInRect(i){const n=[],e={};for(let t=i.top;t<i.bottom;t++)for(let o=i.left;o<i.right;o++){const r=t*this.width+o,a=this.map[r];e[a]||(e[a]=!0,!(o==i.left&&o&&this.map[r-1]==a||t==i.top&&t&&this.map[r-this.width]==a)&&n.push(a))}return n}positionAt(i,n,e){for(let t=0,o=0;;t++){const r=o+e.child(t).nodeSize;if(t==i){let a=n+i*this.width;const l=(i+1)*this.width;for(;a<l&&this.map[a]<o;)a++;return a==l?r-1:this.map[a]}o=r}}static get(i){return kae(i)||Oae(i,function E9t(i){if("table"!=i.type.spec.tableRole)throw new RangeError("Not a table node: "+i.type.name);const n=function y9t(i){let n=-1,e=!1;for(let t=0;t<i.childCount;t++){const o=i.child(t);let r=0;if(e)for(let a=0;a<t;a++){const l=i.child(a);for(let c=0;c<l.childCount;c++){const u=l.child(c);a+u.attrs.rowspan>t&&(r+=u.attrs.colspan)}}for(let a=0;a<o.childCount;a++){const l=o.child(a);r+=l.attrs.colspan,l.attrs.rowspan>1&&(e=!0)}-1==n?n=r:n!=r&&(n=Math.max(n,r))}return n}(i),e=i.childCount,t=[];let o=0,r=null;const a=[];for(let u=0,f=n*e;u<f;u++)t[u]=0;for(let u=0,f=0;u<e;u++){const _=i.child(u);f++;for(let b=0;;b++){for(;o<t.length&&0!=t[o];)o++;if(b==_.childCount)break;const D=_.child(b),{colspan:k,rowspan:O,colwidth:I}=D.attrs;for(let x=0;x<O;x++){if(x+u>=e){(r||(r=[])).push({type:"overlong_rowspan",pos:f,n:O-x});break}const P=o+x*n;for(let L=0;L<k;L++){0==t[P+L]?t[P+L]=f:(r||(r=[])).push({type:"collision",row:u,pos:f,n:k-L});const H=I&&I[L];if(H){const j=(P+L)%n*2,J=a[j];null==J||J!=H&&1==a[j+1]?(a[j]=H,a[j+1]=1):J==H&&a[j+1]++}}}o+=k,f+=D.nodeSize}const S=(u+1)*n;let v=0;for(;o<S;)0==t[o++]&&v++;v&&(r||(r=[])).push({type:"missing",row:u,n:v}),f++}const l=new Es(n,e,t,r);let c=!1;for(let u=0;!c&&u<a.length;u+=2)null!=a[u]&&a[u+1]<e&&(c=!0);return c&&function D9t(i,n,e){i.problems||(i.problems=[]);const t={};for(let o=0;o<i.map.length;o++){const r=i.map[o];if(t[r])continue;t[r]=!0;const a=e.nodeAt(r);if(!a)throw new RangeError(`No cell with offset ${r} found`);let l=null;const c=a.attrs;for(let u=0;u<c.colspan;u++){const _=n[(o+u)%i.width*2];null!=_&&(!c.colwidth||c.colwidth[u]!=_)&&((l||(l=w9t(c)))[u]=_)}l&&i.problems.unshift({type:"colwidth mismatch",pos:r,colwidth:l})}}(l,a,i),l}(i))}};function w9t(i){if(i.colwidth)return i.colwidth.slice();const n=[];for(let e=0;e<i.colspan;e++)n.push(0);return n}function ALe(i,n){if("string"==typeof i)return{};const e=i.getAttribute("data-colwidth"),t=e&&/^\d+(,\d+)*$/.test(e)?e.split(",").map(a=>Number(a)):null,o=Number(i.getAttribute("colspan")||1),r={colspan:o,rowspan:Number(i.getAttribute("rowspan")||1),colwidth:t&&t.length==o?t:null};for(const a in n){const l=n[a].getFromDOM,c=l&&l(i);null!=c&&(r[a]=c)}return r}function xLe(i,n){const e={};1!=i.attrs.colspan&&(e.colspan=i.attrs.colspan),1!=i.attrs.rowspan&&(e.rowspan=i.attrs.rowspan),i.attrs.colwidth&&(e["data-colwidth"]=i.attrs.colwidth.join(","));for(const t in n){const o=n[t].setDOMAttr;o&&o(i.attrs[t],e)}return e}function Xa(i){let n=i.cached.tableNodeTypes;if(!n){n=i.cached.tableNodeTypes={};for(const e in i.nodes){const t=i.nodes[e],o=t.spec.tableRole;o&&(n[o]=t)}}return n}var Cv=new nc("selectingCells");function mO(i){for(let n=i.depth-1;n>0;n--)if("row"==i.node(n).type.spec.tableRole)return i.node(0).resolve(i.before(n+1));return null}function rp(i){const n=i.selection.$head;for(let e=n.depth;e>0;e--)if("row"==n.node(e).type.spec.tableRole)return!0;return!1}function P9(i){const n=i.selection;if("$anchorCell"in n&&n.$anchorCell)return n.$anchorCell.pos>n.$headCell.pos?n.$anchorCell:n.$headCell;if("node"in n&&n.node&&"cell"==n.node.type.spec.tableRole)return n.$anchor;const e=mO(n.$head)||function T9t(i){for(let n=i.nodeAfter,e=i.pos;n;n=n.firstChild,e++){const t=n.type.spec.tableRole;if("cell"==t||"header_cell"==t)return i.doc.resolve(e)}for(let n=i.nodeBefore,e=i.pos;n;n=n.lastChild,e--){const t=n.type.spec.tableRole;if("cell"==t||"header_cell"==t)return i.doc.resolve(e-n.nodeSize)}}(n.$head);if(e)return e;throw new RangeError(`No cell found around position ${n.head}`)}function Tae(i){return"row"==i.parent.type.spec.tableRole&&!!i.nodeAfter}function Mae(i,n){return i.depth==n.depth&&i.pos>=n.start(-1)&&i.pos<=n.end(-1)}function NLe(i,n,e){const t=i.node(-1),o=Es.get(t),r=i.start(-1),a=o.nextCell(i.pos-r,n,e);return null==a?null:i.node(0).resolve(r+a)}function Ab(i,n,e=1){const t={...i,colspan:i.colspan-e};return t.colwidth&&(t.colwidth=t.colwidth.slice(),t.colwidth.splice(n,e),t.colwidth.some(o=>o>0)||(t.colwidth=null)),t}function LLe(i,n,e=1){const t={...i,colspan:i.colspan+e};if(t.colwidth){t.colwidth=t.colwidth.slice();for(let o=0;o<e;o++)t.colwidth.splice(n,0,0)}return t}var Do=class xg extends Fn{constructor(n,e=n){const t=n.node(-1),o=Es.get(t),r=n.start(-1),a=o.rectBetween(n.pos-r,e.pos-r),l=n.node(0),c=o.cellsInRect(a).filter(f=>f!=e.pos-r);c.unshift(e.pos-r);const u=c.map(f=>{const _=t.nodeAt(f);if(!_)throw RangeError(`No cell with offset ${f} found`);const S=r+f+1;return new CNe(l.resolve(S),l.resolve(S+_.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=n,this.$headCell=e}map(n,e){const t=n.resolve(e.map(this.$anchorCell.pos)),o=n.resolve(e.map(this.$headCell.pos));if(Tae(t)&&Tae(o)&&Mae(t,o)){const r=this.$anchorCell.node(-1)!=t.node(-1);return r&&this.isRowSelection()?xg.rowSelection(t,o):r&&this.isColSelection()?xg.colSelection(t,o):new xg(t,o)}return Jn.between(t,o)}content(){const n=this.$anchorCell.node(-1),e=Es.get(n),t=this.$anchorCell.start(-1),o=e.rectBetween(this.$anchorCell.pos-t,this.$headCell.pos-t),r={},a=[];for(let c=o.top;c<o.bottom;c++){const u=[];for(let f=c*e.width+o.left,_=o.left;_<o.right;_++,f++){const S=e.map[f];if(r[S])continue;r[S]=!0;const v=e.findCell(S);let b=n.nodeAt(S);if(!b)throw RangeError(`No cell with offset ${S} found`);const D=o.left-v.left,k=v.right-o.right;if(D>0||k>0){let O=b.attrs;if(D>0&&(O=Ab(O,0,D)),k>0&&(O=Ab(O,O.colspan-k,k)),v.left<o.left){if(b=b.type.createAndFill(O),!b)throw RangeError(`Could not create cell with attrs ${JSON.stringify(O)}`)}else b=b.type.create(O,b.content)}if(v.top<o.top||v.bottom>o.bottom){const O={...b.attrs,rowspan:Math.min(v.bottom,o.bottom)-Math.max(v.top,o.top)};b=v.top<o.top?b.type.createAndFill(O):b.type.create(O,b.content)}u.push(b)}a.push(n.child(c).copy(Oe.from(u)))}const l=this.isColSelection()&&this.isRowSelection()?n:a;return new tt(Oe.from(l),1,1)}replace(n,e=tt.empty){const t=n.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){const{$from:l,$to:c}=o[a],u=n.mapping.slice(t);n.replace(u.map(l.pos),u.map(c.pos),a?tt.empty:e)}const r=Fn.findFrom(n.doc.resolve(n.mapping.slice(t).map(this.to)),-1);r&&n.setSelection(r)}replaceWith(n,e){this.replace(n,new tt(Oe.from(e),0,0))}forEachCell(n){const e=this.$anchorCell.node(-1),t=Es.get(e),o=this.$anchorCell.start(-1),r=t.cellsInRect(t.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o));for(let a=0;a<r.length;a++)n(e.nodeAt(r[a]),o+r[a])}isColSelection(){const n=this.$anchorCell.index(-1),e=this.$headCell.index(-1);return!(Math.min(n,e)>0)&&Math.max(n+this.$anchorCell.nodeAfter.attrs.rowspan,e+this.$headCell.nodeAfter.attrs.rowspan)==this.$headCell.node(-1).childCount}static colSelection(n,e=n){const t=n.node(-1),o=Es.get(t),r=n.start(-1),a=o.findCell(n.pos-r),l=o.findCell(e.pos-r),c=n.node(0);return a.top<=l.top?(a.top>0&&(n=c.resolve(r+o.map[a.left])),l.bottom<o.height&&(e=c.resolve(r+o.map[o.width*(o.height-1)+l.right-1]))):(l.top>0&&(e=c.resolve(r+o.map[l.left])),a.bottom<o.height&&(n=c.resolve(r+o.map[o.width*(o.height-1)+a.right-1]))),new xg(n,e)}isRowSelection(){const n=this.$anchorCell.node(-1),e=Es.get(n),t=this.$anchorCell.start(-1),o=e.colCount(this.$anchorCell.pos-t),r=e.colCount(this.$headCell.pos-t);return!(Math.min(o,r)>0)&&Math.max(o+this.$anchorCell.nodeAfter.attrs.colspan,r+this.$headCell.nodeAfter.attrs.colspan)==e.width}eq(n){return n instanceof xg&&n.$anchorCell.pos==this.$anchorCell.pos&&n.$headCell.pos==this.$headCell.pos}static rowSelection(n,e=n){const t=n.node(-1),o=Es.get(t),r=n.start(-1),a=o.findCell(n.pos-r),l=o.findCell(e.pos-r),c=n.node(0);return a.left<=l.left?(a.left>0&&(n=c.resolve(r+o.map[a.top*o.width])),l.right<o.width&&(e=c.resolve(r+o.map[o.width*(l.top+1)-1]))):(l.left>0&&(e=c.resolve(r+o.map[l.top*o.width])),a.right<o.width&&(n=c.resolve(r+o.map[o.width*(a.top+1)-1]))),new xg(n,e)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(n,e){return new xg(n.resolve(e.anchor),n.resolve(e.head))}static create(n,e,t=e){return new xg(n.resolve(e),n.resolve(t))}getBookmark(){return new R9t(this.$anchorCell.pos,this.$headCell.pos)}};Do.prototype.visible=!1,Fn.jsonID("cell",Do);var R9t=class GFe{constructor(n,e){this.anchor=n,this.head=e}map(n){return new GFe(n.map(this.anchor),n.map(this.head))}resolve(n){const e=n.resolve(this.anchor),t=n.resolve(this.head);return"row"==e.parent.type.spec.tableRole&&"row"==t.parent.type.spec.tableRole&&e.index()<e.parent.childCount&&t.index()<t.parent.childCount&&Mae(e,t)?new Do(e,t):Fn.near(t,1)}};function A9t(i){if(!(i.selection instanceof Do))return null;const n=[];return i.selection.forEachCell((e,t)=>{n.push(va.node(t,t+e.nodeSize,{class:"selectedCell"}))}),Vi.create(i.doc,n)}var P9t=new nc("fix-tables");function PLe(i,n,e,t){const o=i.childCount,r=n.childCount;e:for(let a=0,l=0;a<r;a++){const c=n.child(a);for(let u=l,f=Math.min(o,a+3);u<f;u++)if(i.child(u)==c){l=u+1,e+=c.nodeSize;continue e}t(c,e),l<o&&i.child(l).sameMarkup(c)?PLe(i.child(l),c,e+1,t):c.nodesBetween(0,c.content.size,t,e+1),e+=c.nodeSize}}function G9t(i,n){let e;const t=(o,r)=>{"table"==o.type.spec.tableRole&&(e=function U9t(i,n,e,t){const o=Es.get(n);if(!o.problems)return t;t||(t=i.tr);const r=[];for(let c=0;c<o.height;c++)r.push(0);for(let c=0;c<o.problems.length;c++){const u=o.problems[c];if("collision"==u.type){const f=n.nodeAt(u.pos);if(!f)continue;const _=f.attrs;for(let S=0;S<_.rowspan;S++)r[u.row+S]+=u.n;t.setNodeMarkup(t.mapping.map(e+1+u.pos),null,Ab(_,_.colspan-u.n,u.n))}else if("missing"==u.type)r[u.row]+=u.n;else if("overlong_rowspan"==u.type){const f=n.nodeAt(u.pos);if(!f)continue;t.setNodeMarkup(t.mapping.map(e+1+u.pos),null,{...f.attrs,rowspan:f.attrs.rowspan-u.n})}else if("colwidth mismatch"==u.type){const f=n.nodeAt(u.pos);if(!f)continue;t.setNodeMarkup(t.mapping.map(e+1+u.pos),null,{...f.attrs,colwidth:u.colwidth})}}let a,l;for(let c=0;c<r.length;c++)r[c]&&(null==a&&(a=c),l=c);for(let c=0,u=e+1;c<o.height;c++){const f=n.child(c),_=u+f.nodeSize,S=r[c];if(S>0){let v="cell";f.firstChild&&(v=f.firstChild.type.spec.tableRole);const b=[];for(let k=0;k<S;k++){const O=Xa(i.schema)[v].createAndFill();O&&b.push(O)}t.insert(t.mapping.map(0!=c&&a!=c-1||l!=c?_-1:u+1),b)}u=_}return t.setMeta(P9t,{fixTables:!0})}(i,o,r,e))};return n?n.doc!=i.doc&&PLe(n.doc,i.doc,0,t):i.doc.descendants(t),e}function Iae(i,n){const e=i.createAndFill();return new vNe(e).replace(0,e.content.size,n).doc}function GLe(i,n,e,t,o,r,a,l){if(0==a||a==n.height)return!1;let c=!1;for(let u=o;u<r;u++){const f=a*n.width+u,_=n.map[f];if(n.map[f-n.width]==_){c=!0;const S=e.nodeAt(_),{top:v,left:b}=n.findCell(_);i.setNodeMarkup(i.mapping.slice(l).map(_+t),null,{...S.attrs,rowspan:a-v}),i.insert(i.mapping.slice(l).map(n.positionAt(a,b,e)),S.type.createAndFill({...S.attrs,rowspan:v+S.attrs.rowspan-a})),u+=S.attrs.colspan-1}}return c}function ULe(i,n,e,t,o,r,a,l){if(0==a||a==n.width)return!1;let c=!1;for(let u=o;u<r;u++){const f=u*n.width+a,_=n.map[f];if(n.map[f-1]==_){c=!0;const S=e.nodeAt(_),v=n.colCount(_),b=i.mapping.slice(l).map(_+t);i.setNodeMarkup(b,null,Ab(S.attrs,a-v,S.attrs.colspan-(a-v))),i.insert(b+S.nodeSize,S.type.createAndFill(Ab(S.attrs,0,a-v))),u+=S.attrs.rowspan-1}}return c}function FLe(i,n,e,t,o){let r=e?i.doc.nodeAt(e-1):i.doc;if(!r)throw new Error("No table found");let a=Es.get(r);const{top:l,left:c}=t,u=c+o.width,f=l+o.height,_=i.tr;let S=0;function v(){if(r=e?_.doc.nodeAt(e-1):_.doc,!r)throw new Error("No table found");a=Es.get(r),S=_.mapping.maps.length}(function z9t(i,n,e,t,o,r,a){const c=Xa(i.doc.type.schema);let u,f;if(o>n.width)for(let _=0,S=0;_<n.height;_++){const v=e.child(_);S+=v.nodeSize;const b=[];let D;D=null==v.lastChild||v.lastChild.type==c.cell?u||(u=c.cell.createAndFill()):f||(f=c.header_cell.createAndFill());for(let k=n.width;k<o;k++)b.push(D);i.insert(i.mapping.slice(a).map(S-1+t),b)}if(r>n.height){const _=[];for(let b=0,D=(n.height-1)*n.width;b<Math.max(n.width,o);b++){const k=!(b>=n.width)&&e.nodeAt(n.map[D+b]).type==c.header_cell;_.push(k?f||(f=c.header_cell.createAndFill()):u||(u=c.cell.createAndFill()))}const S=c.row.create(null,Oe.from(_)),v=[];for(let b=n.height;b<r;b++)v.push(S);i.insert(i.mapping.slice(a).map(t+e.nodeSize-2),v)}return!(!u&&!f)})(_,a,r,e,u,f,S)&&v(),GLe(_,a,r,e,c,u,l,S)&&v(),GLe(_,a,r,e,c,u,f,S)&&v(),ULe(_,a,r,e,l,f,c,S)&&v(),ULe(_,a,r,e,l,f,u,S)&&v();for(let b=l;b<f;b++){const D=a.positionAt(b,c,r),k=a.positionAt(b,u,r);_.replace(_.mapping.slice(S).map(D+e),_.mapping.slice(S).map(k+e),new tt(o.rows[b-l],0,0))}v(),_.setSelection(new Do(_.doc.resolve(e+a.positionAt(l,c,r)),_.doc.resolve(e+a.positionAt(f-1,u-1,r)))),n(_)}var H9t=wae({ArrowLeft:U9("horiz",-1),ArrowRight:U9("horiz",1),ArrowUp:U9("vert",-1),ArrowDown:U9("vert",1),"Shift-ArrowLeft":F9("horiz",-1),"Shift-ArrowRight":F9("horiz",1),"Shift-ArrowUp":F9("vert",-1),"Shift-ArrowDown":F9("vert",1),Backspace:B9,"Mod-Backspace":B9,Delete:B9,"Mod-Delete":B9});function G9(i,n,e){return!e.eq(i.selection)&&(n&&n(i.tr.setSelection(e).scrollIntoView()),!0)}function U9(i,n){return(e,t,o)=>{if(!o)return!1;const r=e.selection;if(r instanceof Do)return G9(e,t,Fn.near(r.$headCell,n));if("horiz"!=i&&!r.empty)return!1;const a=BLe(o,i,n);if(null==a)return!1;if("horiz"==i)return G9(e,t,Fn.near(e.doc.resolve(r.head+n),n));{const l=e.doc.resolve(a),c=NLe(l,i,n);let u;return u=c?Fn.near(c,1):n<0?Fn.near(e.doc.resolve(l.before(-1)),-1):Fn.near(e.doc.resolve(l.after(-1)),1),G9(e,t,u)}}}function F9(i,n){return(e,t,o)=>{if(!o)return!1;const r=e.selection;let a;if(r instanceof Do)a=r;else{const c=BLe(o,i,n);if(null==c)return!1;a=new Do(e.doc.resolve(c))}const l=NLe(a.$headCell,i,n);return!!l&&G9(e,t,new Do(a.$anchorCell,l))}}function B9(i,n){const e=i.selection;if(!(e instanceof Do))return!1;if(n){const t=i.tr,o=Xa(i.schema).cell.createAndFill().content;e.forEachCell((r,a)=>{r.content.eq(o)||t.replace(t.mapping.map(a+1),t.mapping.map(a+r.nodeSize-1),new tt(o,0,0))}),t.docChanged&&n(t)}return!0}function j9t(i,n){const t=mO(i.state.doc.resolve(n));return!!t&&(i.dispatch(i.state.tr.setSelection(new Do(t))),!0)}function $9t(i,n,e){if(!rp(i.state))return!1;let t=function F9t(i){if(!i.size)return null;let{content:n,openStart:e,openEnd:t}=i;for(;1==n.childCount&&(e>0&&t>0||"table"==n.child(0).type.spec.tableRole);)e--,t--,n=n.child(0).content;const o=n.child(0),r=o.type.spec.tableRole,a=o.type.schema,l=[];if("row"==r)for(let c=0;c<n.childCount;c++){let u=n.child(c).content;const f=c?0:Math.max(0,e-1),_=c<n.childCount-1?0:Math.max(0,t-1);(f||_)&&(u=Iae(Xa(a).row,new tt(u,f,_)).content),l.push(u)}else{if("cell"!=r&&"header_cell"!=r)return null;l.push(e||t?Iae(Xa(a).row,new tt(n,e,t)).content:n)}return function B9t(i,n){const e=[];for(let o=0;o<n.length;o++){const r=n[o];for(let a=r.childCount-1;a>=0;a--){const{rowspan:l,colspan:c}=r.child(a).attrs;for(let u=o;u<o+l;u++)e[u]=(e[u]||0)+c}}let t=0;for(let o=0;o<e.length;o++)t=Math.max(t,e[o]);for(let o=0;o<e.length;o++)if(o>=n.length&&n.push(Oe.empty),e[o]<t){const r=Xa(i).cell.createAndFill(),a=[];for(let l=e[o];l<t;l++)a.push(r);n[o]=n[o].append(Oe.from(a))}return{height:n.length,width:t,rows:n}}(a,l)}(e);const o=i.state.selection;if(o instanceof Do){t||(t={width:1,height:1,rows:[Oe.from(Iae(Xa(i.state.schema).cell,e))]});const r=o.$anchorCell.node(-1),a=o.$anchorCell.start(-1),l=Es.get(r).rectBetween(o.$anchorCell.pos-a,o.$headCell.pos-a);return t=function V9t({width:i,height:n,rows:e},t,o){if(i!=t){const r=[],a=[];for(let l=0;l<e.length;l++){const c=e[l],u=[];for(let f=r[l]||0,_=0;f<t;_++){let S=c.child(_%c.childCount);f+S.attrs.colspan>t&&(S=S.type.createChecked(Ab(S.attrs,S.attrs.colspan,f+S.attrs.colspan-t),S.content)),u.push(S),f+=S.attrs.colspan;for(let v=1;v<S.attrs.rowspan;v++)r[l+v]=(r[l+v]||0)+S.attrs.colspan}a.push(Oe.from(u))}e=a,i=t}if(n!=o){const r=[];for(let a=0,l=0;a<o;a++,l++){const c=[],u=e[l%n];for(let f=0;f<u.childCount;f++){let _=u.child(f);a+_.attrs.rowspan>o&&(_=_.type.create({..._.attrs,rowspan:Math.max(1,o-_.attrs.rowspan)},_.content)),c.push(_)}r.push(Oe.from(c))}e=r,n=o}return{width:i,height:n,rows:e}}(t,l.right-l.left,l.bottom-l.top),FLe(i.state,i.dispatch,a,l,t),!0}if(t){const r=P9(i.state),a=r.start(-1);return FLe(i.state,i.dispatch,a,Es.get(r.node(-1)).findCell(r.pos-a),t),!0}return!1}function X9t(i,n){var e;if(n.ctrlKey||n.metaKey)return;const t=VLe(i,n.target);let o;if(n.shiftKey&&i.state.selection instanceof Do)r(i.state.selection.$anchorCell,n),n.preventDefault();else if(n.shiftKey&&t&&null!=(o=mO(i.state.selection.$anchor))&&(null==(e=Rae(i,n))?void 0:e.pos)!=o.pos)r(o,n),n.preventDefault();else if(!t)return;function r(c,u){let f=Rae(i,u);const _=null==Cv.getState(i.state);if(!f||!Mae(c,f)){if(!_)return;f=c}const S=new Do(c,f);if(_||!i.state.selection.eq(S)){const v=i.state.tr.setSelection(S);_&&v.setMeta(Cv,c.pos),i.dispatch(v)}}function a(){i.root.removeEventListener("mouseup",a),i.root.removeEventListener("dragstart",a),i.root.removeEventListener("mousemove",l),null!=Cv.getState(i.state)&&i.dispatch(i.state.tr.setMeta(Cv,-1))}function l(c){const u=c,f=Cv.getState(i.state);let _;if(null!=f)_=i.state.doc.resolve(f);else if(VLe(i,u.target)!=t&&(_=Rae(i,n),!_))return a();_&&r(_,u)}i.root.addEventListener("mouseup",a),i.root.addEventListener("dragstart",a),i.root.addEventListener("mousemove",l)}function BLe(i,n,e){if(!(i.state.selection instanceof Jn))return null;const{$head:t}=i.state.selection;for(let o=t.depth-1;o>=0;o--){const r=t.node(o);if((e<0?t.index(o):t.indexAfter(o))!=(e<0?0:r.childCount))return null;if("cell"==r.type.spec.tableRole||"header_cell"==r.type.spec.tableRole){const l=t.before(o);return i.endOfTextblock("vert"==n?e>0?"down":"up":e>0?"right":"left")?l:null}}return null}function VLe(i,n){for(;n&&n!=i.dom;n=n.parentNode)if("TD"==n.nodeName||"TH"==n.nodeName)return n;return null}function Rae(i,n){const e=i.posAtCoords({left:n.clientX,top:n.clientY});return e&&e?mO(i.state.doc.resolve(e.pos)):null}function im(i){const n=i.selection,e=P9(i),t=e.node(-1),o=e.start(-1),r=Es.get(t);return{...n instanceof Do?r.rectBetween(n.$anchorCell.pos-o,n.$headCell.pos-o):r.findCell(e.pos-o),tableStart:o,map:r,table:t}}function $Le(i,{map:n,tableStart:e,table:t},o){let r=o>0?-1:0;(function I9t(i,n,e){const t=Xa(n.type.schema).header_cell;for(let o=0;o<i.height;o++)if(n.nodeAt(i.map[e+o*i.width]).type!=t)return!1;return!0})(n,t,o+r)&&(r=0==o||o==n.width?null:0);for(let a=0;a<n.height;a++){const l=a*n.width+o;if(o>0&&o<n.width&&n.map[l-1]==n.map[l]){const c=n.map[l],u=t.nodeAt(c);i.setNodeMarkup(i.mapping.map(e+c),null,LLe(u.attrs,o-n.colCount(c))),a+=u.attrs.rowspan-1}else{const c=null==r?Xa(t.type.schema).cell:t.nodeAt(n.map[l+r]).type,u=n.positionAt(a,o,t);i.insert(i.mapping.map(e+u),c.createAndFill())}}return i}function rzt(i,{map:n,table:e,tableStart:t},o){const r=i.mapping.maps.length;for(let a=0;a<n.height;){const l=a*n.width+o,c=n.map[l],u=e.nodeAt(c),f=u.attrs;if(o>0&&n.map[l-1]==c||o<n.width-1&&n.map[l+1]==c)i.setNodeMarkup(i.mapping.slice(r).map(t+c),null,Ab(f,o-n.colCount(c)));else{const _=i.mapping.slice(r).map(t+c);i.delete(_,_+u.nodeSize)}a+=f.rowspan}}function XLe(i,{map:n,tableStart:e,table:t},o){var r;let a=e;for(let u=0;u<o;u++)a+=t.child(u).nodeSize;const l=[];let c=o>0?-1:0;(function lzt(i,n,e){var t;const o=Xa(n.type.schema).header_cell;for(let r=0;r<i.width;r++)if((null==(t=n.nodeAt(i.map[r+e*i.width]))?void 0:t.type)!=o)return!1;return!0})(n,t,o+c)&&(c=0==o||o==n.height?null:0);for(let u=0,f=n.width*o;u<n.width;u++,f++)if(o>0&&o<n.height&&n.map[f]==n.map[f-n.width]){const _=n.map[f],S=t.nodeAt(_).attrs;i.setNodeMarkup(e+_,null,{...S,rowspan:S.rowspan+1}),u+=S.colspan-1}else{const _=null==c?Xa(t.type.schema).cell:null==(r=t.nodeAt(n.map[f+c*n.width]))?void 0:r.type,S=_?.createAndFill();S&&l.push(S)}return i.insert(a,Xa(t.type.schema).row.create(null,l)),i}function uzt(i,{map:n,table:e,tableStart:t},o){let r=0;for(let u=0;u<o;u++)r+=e.child(u).nodeSize;const a=r+e.child(o).nodeSize,l=i.mapping.maps.length;i.delete(r+t,a+t);const c=new Set;for(let u=0,f=o*n.width;u<n.width;u++,f++){const _=n.map[f];if(!c.has(_))if(c.add(_),o>0&&_==n.map[f-n.width]){const S=e.nodeAt(_).attrs;i.setNodeMarkup(i.mapping.slice(l).map(_+t),null,{...S,rowspan:S.rowspan-1}),u+=S.colspan-1}else if(o<n.height&&_==n.map[f+n.width]){const S=e.nodeAt(_),v=S.attrs,b=S.type.create({...v,rowspan:S.attrs.rowspan-1},S.content),D=n.positionAt(o+1,u,e);i.insert(i.mapping.slice(l).map(t+D),b),u+=v.colspan-1}}}function WLe(i,n){if(!rp(i))return!1;if(n){const e=im(i),t=i.tr;if(0==e.top&&e.bottom==e.map.height)return!1;for(let o=e.bottom-1;uzt(t,e,o),o!=e.top;o--){const r=e.tableStart?t.doc.nodeAt(e.tableStart-1):t.doc;if(!r)throw RangeError("No table found");e.table=r,e.map=Es.get(e.table)}n(t)}return!0}function KLe(i){const n=i.content;return 1==n.childCount&&n.child(0).isTextblock&&0==n.child(0).childCount}function YLe(i,n){const e=i.selection;if(!(e instanceof Do)||e.$anchorCell.pos==e.$headCell.pos)return!1;const t=im(i),{map:o}=t;if(function hzt({width:i,height:n,map:e},t){let o=t.top*i+t.left,r=o,a=(t.bottom-1)*i+t.left,l=o+(t.right-t.left-1);for(let c=t.top;c<t.bottom;c++){if(t.left>0&&e[r]==e[r-1]||t.right<i&&e[l]==e[l+1])return!0;r+=i,l+=i}for(let c=t.left;c<t.right;c++){if(t.top>0&&e[o]==e[o-i]||t.bottom<n&&e[a]==e[a+i])return!0;o++,a++}return!1}(o,t))return!1;if(n){const r=i.tr,a={};let c,u,l=Oe.empty;for(let f=t.top;f<t.bottom;f++)for(let _=t.left;_<t.right;_++){const S=o.map[f*o.width+_],v=t.table.nodeAt(S);if(!a[S]&&v)if(a[S]=!0,null==c)c=S,u=v;else{KLe(v)||(l=l.append(v.content));const b=r.mapping.map(S+t.tableStart);r.delete(b,b+v.nodeSize)}}if(null==c||null==u)return!0;if(r.setNodeMarkup(c+t.tableStart,null,{...LLe(u.attrs,u.attrs.colspan,t.right-t.left-u.attrs.colspan),rowspan:t.bottom-t.top}),l.size){const f=c+1+u.content.size,_=KLe(u)?c+1:f;r.replaceWith(_+t.tableStart,f+t.tableStart,l)}r.setSelection(new Do(r.doc.resolve(c+t.tableStart))),n(r)}return!0}function JLe(i,n){const e=Xa(i.schema);return function pzt(i){return(n,e)=>{var t;const o=n.selection;let r,a;if(o instanceof Do){if(o.$anchorCell.pos!=o.$headCell.pos)return!1;r=o.$anchorCell.nodeAfter,a=o.$anchorCell.pos}else{if(r=function O9t(i){for(let n=i.depth;n>0;n--){const e=i.node(n).type.spec.tableRole;if("cell"===e||"header_cell"===e)return i.node(n)}return null}(o.$from),!r)return!1;a=null==(t=mO(o.$from))?void 0:t.pos}if(null==r||null==a||1==r.attrs.colspan&&1==r.attrs.rowspan)return!1;if(e){let l=r.attrs;const c=[],u=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const f=im(n),_=n.tr;for(let v=0;v<f.right-f.left;v++)c.push(u?{...l,colwidth:u&&u[v]?[u[v]]:null}:l);let S;for(let v=f.top;v<f.bottom;v++){let b=f.map.positionAt(v,f.left,f.table);v==f.top&&(b+=r.nodeSize);for(let D=f.left,k=0;D<f.right;D++,k++)D==f.left&&v==f.top||_.insert(S=_.mapping.map(b+f.tableStart,1),i({node:r,row:v,col:D}).createAndFill(c[k]))}_.setNodeMarkup(a,i({node:r,row:f.top,col:f.left}),c[0]),o instanceof Do&&_.setSelection(new Do(_.doc.resolve(o.$anchorCell.pos),S?_.doc.resolve(S):void 0)),e(_)}return!0}}(({node:t})=>e[t.type.spec.tableRole])(i,n)}function qLe(i,n,e){const t=n.map.cellsInRect({left:0,top:0,right:"row"==i?n.map.width:1,bottom:"column"==i?n.map.height:1});for(let o=0;o<t.length;o++){const r=n.table.nodeAt(t[o]);if(r&&r.type!==e.header_cell)return!1}return!0}function xae(i,n){return(n=n||{useDeprecatedLogic:!1}).useDeprecatedLogic?function fzt(i){return function(n,e){if(!rp(n))return!1;if(e){const t=Xa(n.schema),o=im(n),r=n.tr,a=o.map.cellsInRect("column"==i?{left:o.left,top:0,right:o.right,bottom:o.map.height}:"row"==i?{left:0,top:o.top,right:o.map.width,bottom:o.bottom}:o),l=a.map(c=>o.table.nodeAt(c));for(let c=0;c<a.length;c++)l[c].type==t.header_cell&&r.setNodeMarkup(o.tableStart+a[c],t.cell,l[c].attrs);if(0==r.steps.length)for(let c=0;c<a.length;c++)r.setNodeMarkup(o.tableStart+a[c],t.header_cell,l[c].attrs);e(r)}return!0}}(i):function(e,t){if(!rp(e))return!1;if(t){const o=Xa(e.schema),r=im(e),a=e.tr,l=qLe("row",r,o),c=qLe("column",r,o),f=("column"===i?l:"row"===i&&c)?1:0,S="column"==i?c?o.cell:o.header_cell:"row"==i?l?o.cell:o.header_cell:o.cell;r.map.cellsInRect("column"==i?{left:0,top:f,right:1,bottom:r.map.height}:"row"==i?{left:f,top:0,right:r.map.width,bottom:1}:r).forEach(v=>{const b=v+r.tableStart,D=a.doc.nodeAt(b);D&&a.setNodeMarkup(b,S,D.attrs)}),t(a)}return!0}}function QLe(i,n){const e=i.selection.$anchor;for(let t=e.depth;t>0;t--)if("table"==e.node(t).type.spec.tableRole)return n&&n(i.tr.delete(e.before(t),e.after(t)).scrollIntoView()),!0;return!1}function _zt({allowTableNodeSelection:i=!1}={}){return new Xd({key:Cv,state:{init:()=>null,apply(n,e){const t=n.getMeta(Cv);if(null!=t)return-1==t?null:t;if(null==e||!n.docChanged)return e;const{deleted:o,pos:r}=n.mapping.mapResult(e);return o?null:r}},props:{decorations:A9t,handleDOMEvents:{mousedown:X9t},createSelectionBetween:n=>null!=Cv.getState(n.state)?n.state.selection:null,handleTripleClick:j9t,handleKeyDown:H9t,handlePaste:$9t},appendTransaction:(n,e,t)=>function L9t(i,n,e){const t=(n||i).selection,o=(n||i).doc;let r,a;if(t instanceof Vt&&(a=t.node.type.spec.tableRole)){if("cell"==a||"header_cell"==a)r=Do.create(o,t.from);else if("row"==a){const l=o.resolve(t.from+1);r=Do.rowSelection(l,l)}else if(!e){const l=Es.get(t.node),c=t.from+1;r=Do.create(o,c+1,c+l.map[l.width*l.height-1])}}else t instanceof Jn&&function x9t({$from:i,$to:n}){if(i.pos==n.pos||i.pos<i.pos-6)return!1;let e=i.pos,t=n.pos,o=i.depth;for(;o>=0&&!(i.after(o+1)<i.end(o));o--,e++);for(let r=n.depth;r>=0&&!(n.before(r+1)>n.start(r));r--,t--);return e==t&&/row|table/.test(i.node(o).type.spec.tableRole)}(t)?r=Jn.create(o,t.from):t instanceof Jn&&function N9t({$from:i,$to:n}){let e,t;for(let o=i.depth;o>0;o--){const r=i.node(o);if("cell"===r.type.spec.tableRole||"header_cell"===r.type.spec.tableRole){e=r;break}}for(let o=n.depth;o>0;o--){const r=n.node(o);if("cell"===r.type.spec.tableRole||"header_cell"===r.type.spec.tableRole){t=r;break}}return e!==t&&0===n.parentOffset}(t)&&(r=Jn.create(o,t.$from.start(),t.$from.end()));return r&&(n||(n=i.tr)).setSelection(r),n}(t,G9t(t,e),i)})}new nc("tableColumnResizing"),xae("row",{useDeprecatedLogic:!0}),xae("column",{useDeprecatedLogic:!0}),xae("cell",{useDeprecatedLogic:!0});const gzt=["blockquote",0],Szt=["hr"],vzt=["pre",["code",0]],Czt=["ol",0],bzt=["ul",0],Ezt=["li",0],wo=i=>{const n={};let t,e=i.attributes;for(let o=0;o<e.length;o++)t=e[o],n[t.name]=t.value;return n},d4=i=>{const n={};return i.forEach(e=>{n[e]={default:null}}),n},ih=()=>d4(["style","class","id"]),Wd=(i,n)=>{for(let e in i)if(e&&null!==i[e]&&e!==n)return!0;return!1},yl=(i,n=[])=>{const e={};for(let t in i)t&&null!==i[t]&&!n.find(o=>o===t)&&(e[t]=i[t]);return e},vg=i=>({[i]:{name:i,inclusive:!0,parseDOM:[{tag:i}],toDOM:()=>[i,0]}}),yzt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({link:{attrs:Object.assign(Object.assign({},ih()),{href:{default:null},target:{default:null},title:{default:null}}),inclusive:!1,parseDOM:[{tag:"a",getAttrs:wo}],toDOM:i=>["a",yl(i.attrs),0]}},vg("strong")),vg("b")),vg("em")),vg("i")),vg("del")),vg("sub")),vg("sup")),vg("code")),{style:{attrs:Object.assign({},ih()),parseDOM:[{tag:"span",getAttrs:wo}],toDOM:i=>Wd(i.attrs)?["span",yl(i.attrs),0]:["span",0]}}),vg("u")),u4=i=>({[i]:{default:null,getFromDOM:n=>n.getAttribute(i),setDOMAttr:(n,e)=>{e[i]=n}}}),Dzt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},u4("style")),u4("class")),u4("id")),u4("headers")),u4("scope")),wzt={doc:{content:"colgroup*"},col:{attrs:d4(["id","class","style","span"]),parseDOM:[{getAttrs:wo,tag:"col"}],toDOM:i=>["col",i.attrs]},colgroup:{attrs:d4(["id","class","style","span"]),content:"col*",parseDOM:[{getAttrs:wo,tag:"colgroup"}],toDOM:i=>["colgroup",i.attrs,0]},text:{inline:!0,group:"inline"}},kzt=new vre({nodes:wzt,marks:{}}),V9=i=>{const n=GNe(Qx(i),kzt,{preserveWhitespace:!1});return PNe(n).firstChild},Cg=function k9t(i){const n=i.cellAttributes||{},e={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(const t in n)e[t]={default:n[t].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:i.tableGroup,parseDOM:[{tag:"table"}],toDOM:()=>["table",["tbody",0]]},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:()=>["tr",0]},table_cell:{content:i.cellContent,attrs:e,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:t=>ALe(t,n)}],toDOM:t=>["td",xLe(t,n),0]},table_header:{content:i.cellContent,attrs:e,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:t=>ALe(t,n)}],toDOM:t=>["th",xLe(t,n),0]}}}({tableGroup:"block",cellContent:"block+",cellAttributes:Dzt});Cg.table_row.attrs=Object.assign(Object.assign({},Cg.table_row.attrs),d4([Qf,"style","class","id"])),Cg.table_row.toDOM=i=>["tr",yl(i.attrs),0],Cg.table_row.parseDOM=[{tag:"tr",getAttrs:wo}],Cg.table.attrs=Object.assign(Object.assign({},Cg.table.attrs),d4(["style","class","id",co,Zf])),Cg.table.toDOM=i=>{const n=Wd(i.attrs)?yl(i.attrs,[co,Zf]):{};let e=null;if(i.attrs[co]&&!(i=>{let n=!1;const e=i.child(0);for(let t=0;t<e.childCount;t++)if(e.child(t).attrs.colwidth){n=!0;break}return n})(i)){const t=V9(i.attrs[co]);if(t){const o=Array.from(t.children).map(r=>["col",wo(r)]);e=["colgroup",wo(t)].concat(o)}}return e?["table",n,e,["tbody",0]]:["table",n,["tbody",0]]},Cg.table.parseDOM=[{tag:"table",getAttrs:i=>{const n=wo(i),e=Array.from(i.childNodes).find(t=>"COLGROUP"===t.nodeName);return e&&(n[co]=e.outerHTML),n}}];const Tzt=Object.assign({doc:{content:"block+"},paragraph:{content:"inline*",group:"block",attrs:Object.assign({},ih()),parseDOM:[{tag:"p",getAttrs:wo}],toDOM:i=>Wd(i.attrs)?["p",yl(i.attrs),0]:["p",0]},table_wrapper:{content:"(table_caption_external | table)+",group:"block",defining:!0,attrs:{table:{default:null},style:{default:null}},parseDOM:[{tag:"div[table]",getAttrs:wo}],toDOM:i=>Wd(i.attrs)?["div",yl(i.attrs),0]:["div",0]},table_caption_external:{content:"inline+",group:"block",attrs:Object.assign({caption:{default:null}},ih()),parseDOM:[{tag:"div[caption]",getAttrs:wo}],toDOM:i=>Wd(i.attrs)?["div",yl(i.attrs),0]:["div",0]},div:{content:"block*",group:"block",attrs:Object.assign({},ih()),parseDOM:[{tag:"div",getAttrs:wo}],toDOM:i=>Wd(i.attrs)?["div",yl(i.attrs),0]:["div",0]},blockquote:{attrs:Object.assign({},ih()),content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote",getAttrs:wo}],toDOM:i=>Wd(i.attrs)?["blockquote",yl(i.attrs),0]:gzt},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>Szt},heading:{attrs:Object.assign(Object.assign({},ih()),{level:{default:1}}),content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs:i=>Object.assign(Object.assign({},wo(i)),{level:1})},{tag:"h2",getAttrs:i=>Object.assign(Object.assign({},wo(i)),{level:2})},{tag:"h3",getAttrs:i=>Object.assign(Object.assign({},wo(i)),{level:3})},{tag:"h4",getAttrs:i=>Object.assign(Object.assign({},wo(i)),{level:4})},{tag:"h5",getAttrs:i=>Object.assign(Object.assign({},wo(i)),{level:5})},{tag:"h6",getAttrs:i=>Object.assign(Object.assign({},wo(i)),{level:6})}],toDOM:i=>Wd(i.attrs,"level")?["h"+i.attrs.level,yl(i.attrs,["level"]),0]:["h"+i.attrs.level,0]},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>vzt},text:{inline:!0,group:"inline"},image:{inline:!0,attrs:Object.assign({src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}},ih()),group:"inline",draggable:!0,parseDOM:[{tag:"img",getAttrs:wo}],toDOM:i=>Wd(i.attrs)?["img",yl(i.attrs)]:["img"]},hard_break:{inline:!0,attrs:Object.assign({},ih()),group:"inline",selectable:!1,parseDOM:[{tag:"br",getAttrs:wo}],toDOM:i=>Wd(i.attrs)?["br",yl(i.attrs)]:["br"]},ordered_list:{content:"list_item+",group:"block",attrs:Object.assign(Object.assign({},ih()),{type:{default:null},order:{default:1}}),parseDOM:[{tag:"ol",getAttrs:i=>Object.assign(Object.assign({},wo(i)),{order:i.hasAttribute("start")?parseInt(i.getAttribute("start")||"1",10):1})}],toDOM:i=>1===i.attrs.order?Wd(i.attrs,"order")?["ol",yl(i.attrs,["order"]),0]:Czt:["ol",Object.assign(Object.assign({},yl(i.attrs,["order"])),{start:i.attrs.order}),0]},bullet_list:{content:"list_item+",group:"block",attrs:Object.assign({},ih()),parseDOM:[{tag:"ul",getAttrs:wo}],toDOM:i=>Wd(i.attrs)?["ul",yl(i.attrs),0]:bzt},list_item:{content:"(paragraph | heading) block*",attrs:Object.assign({},ih()),parseDOM:[{tag:"li",getAttrs:wo}],toDOM:i=>Wd(i.attrs)?["li",yl(i.attrs),0]:Ezt,defining:!0}},Cg);var Wa=function(){};Wa.prototype.append=function(n){return n.length?(n=Wa.from(n),!this.length&&n||n.length<200&&this.leafAppend(n)||this.length<200&&n.leafPrepend(this)||this.appendInner(n)):this},Wa.prototype.prepend=function(n){return n.length?Wa.from(n).append(this):this},Wa.prototype.appendInner=function(n){return new Mzt(this,n)},Wa.prototype.slice=function(n,e){return void 0===n&&(n=0),void 0===e&&(e=this.length),n>=e?Wa.empty:this.sliceInner(Math.max(0,n),Math.min(this.length,e))},Wa.prototype.get=function(n){if(!(n<0||n>=this.length))return this.getInner(n)},Wa.prototype.forEach=function(n,e,t){void 0===e&&(e=0),void 0===t&&(t=this.length),e<=t?this.forEachInner(n,e,t,0):this.forEachInvertedInner(n,e,t,0)},Wa.prototype.map=function(n,e,t){void 0===e&&(e=0),void 0===t&&(t=this.length);var o=[];return this.forEach(function(r,a){return o.push(n(r,a))},e,t),o},Wa.from=function(n){return n instanceof Wa?n:n&&n.length?new ZLe(n):Wa.empty};var ZLe=function(i){function n(t){i.call(this),this.values=t}i&&(n.__proto__=i),(n.prototype=Object.create(i&&i.prototype)).constructor=n;var e={length:{configurable:!0},depth:{configurable:!0}};return n.prototype.flatten=function(){return this.values},n.prototype.sliceInner=function(o,r){return 0==o&&r==this.length?this:new n(this.values.slice(o,r))},n.prototype.getInner=function(o){return this.values[o]},n.prototype.forEachInner=function(o,r,a,l){for(var c=r;c<a;c++)if(!1===o(this.values[c],l+c))return!1},n.prototype.forEachInvertedInner=function(o,r,a,l){for(var c=r-1;c>=a;c--)if(!1===o(this.values[c],l+c))return!1},n.prototype.leafAppend=function(o){if(this.length+o.length<=200)return new n(this.values.concat(o.flatten()))},n.prototype.leafPrepend=function(o){if(this.length+o.length<=200)return new n(o.flatten().concat(this.values))},e.length.get=function(){return this.values.length},e.depth.get=function(){return 0},Object.defineProperties(n.prototype,e),n}(Wa);Wa.empty=new ZLe([]);var Mzt=function(i){function n(e,t){i.call(this),this.left=e,this.right=t,this.length=e.length+t.length,this.depth=Math.max(e.depth,t.depth)+1}return i&&(n.__proto__=i),(n.prototype=Object.create(i&&i.prototype)).constructor=n,n.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},n.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},n.prototype.forEachInner=function(t,o,r,a){var l=this.left.length;if(o<l&&!1===this.left.forEachInner(t,o,Math.min(r,l),a)||r>l&&!1===this.right.forEachInner(t,Math.max(o-l,0),Math.min(this.length,r)-l,a+l))return!1},n.prototype.forEachInvertedInner=function(t,o,r,a){var l=this.left.length;if(o>l&&!1===this.right.forEachInvertedInner(t,o-l,Math.max(r,l)-l,a+l)||r<l&&!1===this.left.forEachInvertedInner(t,Math.min(o,l),r,a))return!1},n.prototype.sliceInner=function(t,o){if(0==t&&o==this.length)return this;var r=this.left.length;return o<=r?this.left.slice(t,o):t>=r?this.right.slice(t-r,o-r):this.left.slice(t,r).append(this.right.slice(0,o-r))},n.prototype.leafAppend=function(t){var o=this.right.leafAppend(t);if(o)return new n(this.left,o)},n.prototype.leafPrepend=function(t){var o=this.left.leafPrepend(t);if(o)return new n(o,this.right)},n.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new n(this.left,new n(this.right,t)):new n(this,t)},n}(Wa);const ePe=Wa;class ap{constructor(n,e){this.items=n,this.eventCount=e}popEvent(n,e){if(0==this.eventCount)return null;let o,r,t=this.items.length;for(;;t--)if(this.items.get(t-1).selection){--t;break}e&&(o=this.remapping(t,this.items.length),r=o.maps.length);let l,c,a=n.tr,u=[],f=[];return this.items.forEach((_,S)=>{if(!_.step)return o||(o=this.remapping(t,S+1),r=o.maps.length),r--,void f.push(_);if(o){f.push(new sm(_.map));let b,v=_.step.map(o.slice(r));v&&a.maybeStep(v).doc&&(b=a.mapping.maps[a.mapping.maps.length-1],u.push(new sm(b,void 0,void 0,u.length+f.length))),r--,b&&o.appendMap(b,r)}else a.maybeStep(_.step);return _.selection?(l=o?_.selection.map(o.slice(r)):_.selection,c=new ap(this.items.slice(0,t).append(f.reverse().concat(u)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:c,transform:a,selection:l}}addTransform(n,e,t,o){let r=[],a=this.eventCount,l=this.items,c=!o&&l.length?l.get(l.length-1):null;for(let f=0;f<n.steps.length;f++){let v,_=n.steps[f].invert(n.docs[f]),S=new sm(n.mapping.maps[f],_,e);(v=c&&c.merge(S))&&(S=v,f?r.pop():l=l.slice(0,l.length-1)),r.push(S),e&&(a++,e=void 0),o||(c=S)}let u=a-t.depth;return u>Azt&&(l=function Rzt(i,n){let e;return i.forEach((t,o)=>{if(t.selection&&0==n--)return e=o,!1}),i.slice(e)}(l,u),a-=u),new ap(l.append(r),a)}remapping(n,e){let t=new Kk;return this.items.forEach((o,r)=>{t.appendMap(o.map,null!=o.mirrorOffset&&r-o.mirrorOffset>=n?t.maps.length-o.mirrorOffset:void 0)},n,e),t}addMaps(n){return 0==this.eventCount?this:new ap(this.items.append(n.map(e=>new sm(e))),this.eventCount)}rebased(n,e){if(!this.eventCount)return this;let t=[],o=Math.max(0,this.items.length-e),r=n.mapping,a=n.steps.length,l=this.eventCount;this.items.forEach(S=>{S.selection&&l--},o);let c=e;this.items.forEach(S=>{let v=r.getMirror(--c);if(null==v)return;a=Math.min(a,v);let b=r.maps[v];if(S.step){let D=n.steps[v].invert(n.docs[v]),k=S.selection&&S.selection.map(r.slice(c+1,v));k&&l++,t.push(new sm(b,D,k))}else t.push(new sm(b))},o);let u=[];for(let S=e;S<a;S++)u.push(new sm(r.maps[S]));let f=this.items.slice(0,o).append(u).append(t),_=new ap(f,l);return _.emptyItemCount()>500&&(_=_.compress(this.items.length-t.length)),_}emptyItemCount(){let n=0;return this.items.forEach(e=>{e.step||n++}),n}compress(n=this.items.length){let e=this.remapping(0,n),t=e.maps.length,o=[],r=0;return this.items.forEach((a,l)=>{if(l>=n)o.push(a),a.selection&&r++;else if(a.step){let c=a.step.map(e.slice(t)),u=c&&c.getMap();if(t--,u&&e.appendMap(u,t),c){let f=a.selection&&a.selection.map(e.slice(t));f&&r++;let S,_=new sm(u.invert(),c,f),v=o.length-1;(S=o.length&&o[v].merge(_))?o[v]=S:o.push(_)}}else a.map&&t--},this.items.length,0),new ap(ePe.from(o.reverse()),r)}}ap.empty=new ap(ePe.empty,0);class sm{constructor(n,e,t,o){this.map=n,this.step=e,this.selection=t,this.mirrorOffset=o}merge(n){if(this.step&&n.step&&!n.selection){let e=n.step.merge(this.step);if(e)return new sm(e.getMap().invert(),e,this.selection)}}}class bv{constructor(n,e,t,o,r){this.done=n,this.undone=e,this.prevRanges=t,this.prevTime=o,this.prevComposition=r}}const Azt=20;function tPe(i){let n=[];return i.forEach((e,t,o,r)=>n.push(o,r)),n}function Nae(i,n){if(!i)return null;let e=[];for(let t=0;t<i.length;t+=2){let o=n.map(i[t],1),r=n.map(i[t+1],-1);o<=r&&e.push(o,r)}return e}function nPe(i,n,e,t){let o=H9(n),r=om.get(n).spec.config,a=(t?i.undone:i.done).popEvent(n,o);if(!a)return;let l=a.selection.resolve(a.transform.doc),c=(t?i.done:i.undone).addTransform(a.transform,n.selection.getBookmark(),r,o),u=new bv(t?c:a.remaining,t?a.remaining:c,null,0,-1);e(a.transform.setSelection(l).setMeta(om,{redo:t,historyState:u}).scrollIntoView())}let Lae=!1,iPe=null;function H9(i){let n=i.plugins;if(iPe!=n){Lae=!1,iPe=n;for(let e=0;e<n.length;e++)if(n[e].spec.historyPreserveItems){Lae=!0;break}}return Lae}const om=new nc("history"),sPe=new nc("closeHistory");function Lzt(i={}){return new Xd({key:om,state:{init:()=>new bv(ap.empty,ap.empty,null,0,-1),apply:(n,e,t)=>function xzt(i,n,e,t){let r,o=e.getMeta(om);if(o)return o.historyState;e.getMeta(sPe)&&(i=new bv(i.done,i.undone,null,0,-1));let a=e.getMeta("appendedTransaction");if(0==e.steps.length)return i;if(a&&a.getMeta(om))return a.getMeta(om).redo?new bv(i.done.addTransform(e,void 0,t,H9(n)),i.undone,tPe(e.mapping.maps[e.steps.length-1]),i.prevTime,i.prevComposition):new bv(i.done,i.undone.addTransform(e,void 0,t,H9(n)),null,i.prevTime,i.prevComposition);if(!1===e.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(r=e.getMeta("rebased"))?new bv(i.done.rebased(e,r),i.undone.rebased(e,r),Nae(i.prevRanges,e.mapping),i.prevTime,i.prevComposition):new bv(i.done.addMaps(e.mapping.maps),i.undone.addMaps(e.mapping.maps),Nae(i.prevRanges,e.mapping),i.prevTime,i.prevComposition);{let l=e.getMeta("composition"),c=0==i.prevTime||!a&&i.prevComposition!=l&&(i.prevTime<(e.time||0)-t.newGroupDelay||!function Nzt(i,n){if(!n)return!1;if(!i.docChanged)return!0;let e=!1;return i.mapping.maps[0].forEach((t,o)=>{for(let r=0;r<n.length;r+=2)t<=n[r+1]&&o>=n[r]&&(e=!0)}),e}(e,i.prevRanges)),u=a?Nae(i.prevRanges,e.mapping):tPe(e.mapping.maps[e.steps.length-1]);return new bv(i.done.addTransform(e,c?n.selection.getBookmark():void 0,t,H9(n)),ap.empty,u,e.time,l??i.prevComposition)}}(e,t,n,i)},config:i={depth:i.depth||100,newGroupDelay:i.newGroupDelay||500},props:{handleDOMEvents:{beforeinput(n,e){let t=e.inputType,o="historyUndo"==t?j9:"historyRedo"==t?h4:null;return!!o&&(e.preventDefault(),o(n.state,n.dispatch))}}}})}const j9=(i,n)=>{let e=om.getState(i);return!(!e||0==e.done.eventCount||(n&&nPe(e,i,n,!1),0))},h4=(i,n)=>{let e=om.getState(i);return!(!e||0==e.undone.eventCount||(n&&nPe(e,i,n,!0),0))};class Ev{constructor(n,e,t={}){this.match=n,this.match=n,this.handler="string"==typeof e?function Pzt(i){return function(n,e,t,o){let r=i;if(e[1]){let a=e[0].lastIndexOf(e[1]);r+=e[0].slice(a+e[1].length);let l=(t+=a)-o;l>0&&(r=e[0].slice(a-l,a)+r,t=o)}return n.tr.insertText(r,t,o)}}(e):e,this.undoable=!1!==t.undoable}}const Uzt=(i,n)=>{let e=i.plugins;for(let t=0;t<e.length;t++){let r,o=e[t];if(o.spec.isInputRules&&(r=o.getState(i))){if(n){let a=i.tr,l=r.transform;for(let c=l.steps.length-1;c>=0;c--)a.step(l.steps[c].invert(l.docs[c]));if(r.text){let c=a.doc.resolve(r.from).marks();a.replaceWith(r.from,r.to,i.schema.text(r.text,c))}else a.delete(r.from,r.to);n(a)}return!0}}return!1};new Ev(/--$/,"\u2014"),new Ev(/\.\.\.$/,"\u2026"),new Ev(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201c"),new Ev(/"$/,"\u201d"),new Ev(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),new Ev(/'$/,"\u2019");const Pae={mark:"strong",altMarks:["b"],altStyle:{name:"font-weight",value:/^(bold(er)?|[5-9]\d{2,})$/}},Gae={mark:"em",altMarks:["i"],altStyle:{name:"font-style",value:/^italic$/i}},Uae={mark:"u",altStyle:{name:"text-decoration",value:/^underline$/i}},rPe={mark:"del",altStyle:{name:"text-decoration",value:/^line-through$/i}},aPe={mark:"sub"},lPe={mark:"sup"},cPe={mark:"link"},Hzt=typeof navigator<"u"&&/Mac/.test(navigator.platform),jzt=(i,n)=>{const e={},t=n&&n.applyToWord||!1;if(e["Mod-z"]=j9,e["Shift-Mod-z"]=h4,e.Backspace=cO(Uzt,Hre,ZNe,t8e),e.Enter=cO(i8e,o8e,r8e,pBt),Hzt||(e["Mod-y"]=h4),i.marks.strong&&(e["Mod-b"]=ic(ip,Object.assign(Object.assign({},Pae),{applyToWord:t}))),i.marks.em&&(e["Mod-i"]=ic(ip,Object.assign(Object.assign({},Gae),{applyToWord:t}))),i.marks.u&&(e["Mod-u"]=ic(ip,Object.assign(Object.assign({},Uae),{applyToWord:t}))),i.nodes.hard_break){const o=i.nodes.hard_break,r=cO(s8e,(a,l)=>(l(a.tr.replaceSelectionWith(o.create()).scrollIntoView()),!0));e["Shift-Enter"]=r}return e},$zt=i=>{const n={};return i.nodes.list_item&&(n.Enter=(i=>(n,e)=>function aBt(i,n){return function(e,t){let{$from:o,$to:r,node:a}=e.selection;if(a&&a.isBlock||o.depth<2||!o.sameParent(r))return!1;let l=o.node(-1);if(l.type!=i)return!1;if(0==o.parent.content.size&&o.node(-1).childCount==o.indexAfter(-1)){if(3==o.depth||o.node(-3).type!=i||o.index(-2)!=o.node(-2).childCount-1)return!1;if(t){let _=Oe.empty,S=o.index(-1)?1:o.index(-2)?2:3;for(let O=o.depth-S;O>=o.depth-3;O--)_=Oe.from(o.node(O).copy(_));let v=o.indexAfter(-1)<o.node(-2).childCount?1:o.indexAfter(-2)<o.node(-3).childCount?2:3;_=_.append(Oe.from(i.createAndFill()));let b=o.before(o.depth-(S-1)),D=e.tr.replace(b,o.after(-v),new tt(_,4-S,0)),k=-1;D.doc.nodesBetween(b,D.doc.content.size,(O,I)=>{if(k>-1)return!1;O.isTextblock&&0==O.content.size&&(k=I+1)}),k>-1&&D.setSelection(Fn.near(D.doc.resolve(k))),t(D.scrollIntoView())}return!0}let c=r.pos==o.end()?l.contentMatchAt(0).defaultType:null,u=e.tr.delete(o.pos,r.pos),f=c?[n?{type:i,attrs:n}:null,{type:c}]:void 0;return!!qk(u.doc,o.pos,2,f)&&(t&&t(u.split(o.pos,2,f).scrollIntoView()),!0)}}(i)(n,t=>{let o=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();o&&t.ensureMarks(o),e(t)}))(i.nodes.list_item)),n},Xzt=/style=['"]?[^'"]*?mso-list:\s*[a-zA-Z]+(\d+)\s[a-zA-Z]+(\d+)\s(\w+)/gi,dPe=i=>/^MsoListParagraph/.test(i.className),Fae=i=>{let n=i.innerHTML;return n=n.replace(/<!--(.|\s)*?-->/gi,""),n=n.replace(/<\/?[^>]+?\/?>/gm,""),n},uPe=(i,n)=>{const e=document.createElement(i);return e.style.listStyleType=n,e},Kzt=i=>/^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(i)?null:/^o/.test(i)?"circle":"square",Yzt=i=>{let n=null;return/^\d/.test(i)||(n=(/^[a-z]/.test(i)?"lower-":"upper-")+(/^[ivxlcdm]/i.test(i)?"roman":"alpha")),n},Bae=(i,n)=>{let e=[];Array.from(i).forEach(t=>{if(t.nodeType!==Node.ELEMENT_NODE)return;let o=t;o.getAttribute("datalist")?(e.push(t),n.add(e)):dPe(o)&&e.length?e.push(t):(e=[],"DIV"===o.nodeName?Bae(o.children,n):"TABLE"===o.nodeName&&Array.from(o.querySelectorAll("td,th")).forEach(r=>{Bae(r.children,n)}))})},Jzt=i=>{let n=i.innerHTML,e=t=>t.replace(/^(?:&nbsp;|[\u00a0\n\r\s])+/,"");return n=n.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,"\xa0"),/^[\u2022\u00b7\u00a7\u00d8o\xd8\xfcvn][\u00a0 ]+/.test(n)?{tag:"ul",style:Kzt(e(Fae(i)))}:/^\s*\w+[\.\)][\u00a0 ]{2,}/.test(n)?{tag:"ol",style:Yzt(e(Fae(i)))}:void 0},qzt=i=>{let n,e=i.nodeName.toLowerCase();i.firstChild&&i.firstChild.nodeType===Node.COMMENT_NODE&&i.removeChild(i.firstChild),1===i.childNodes.length?n=i.firstChild.nodeType===Node.TEXT_NODE?Fae(i):i.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,""):(i.removeChild(i.firstChild),3===i.firstChild.nodeType&&/^[ivxlcdm]+\.$/i.test(i.firstChild.nodeValue)&&i.removeChild(i.firstChild),/^(&nbsp;|\s)+$/i.test(i.firstChild.innerHTML)&&i.removeChild(i.firstChild),n="p"!==e?"<"+e+">"+i.innerHTML+"</"+e+">":i.innerHTML),i.parentNode.removeChild(i);const t=document.createElement("li");return t.appendChild(Qx(n)),t},$9=i=>{i.ownerElement&&i.ownerElement.removeAttribute(i.name)},iHt=i=>{/^Mso/.test(i.value)&&$9(i)},sHt=/\s*;\s*/,oHt=/\s*:\s*/,rHt=i=>{const n=i.value.split(sHt).filter(l=>!!l),t=i.ownerElement.style;let r,a,o="";n.forEach(l=>{[r,a]=l.split(oHt),void 0!==t[r]&&(o+=`${r}: ${a}; `)}),o=o.trim(),o?i.value=o:$9(i)},cHt=(i,n)=>{let e=i;if(n.convertMsLists&&(e=(i=>{const n=Qx((i=>i.replace(Xzt,(n,e,t)=>`datalist="${e}" datalevel="${t}" ${n}`))(i)),e=new Set;return Bae(n.children,e),e.forEach(t=>(i=>{let t,o,r,a,l,c,u,f,_,S,v,b,D,n=-1,e={};for(f=0;f<i.length;f++){_=i[f],D={datalist:_.getAttribute("datalist"),datalevel:_.getAttribute("datalevel")};let k=D.datalist,O=Jzt(_);if(S=O&&O.tag,!S){t&&(!l||dPe(_))&&(_.style.marginLeft&&(_.style.marginLeft=""),_.style.marginLeft&&(_.style.margin=""),t.appendChild(_));continue}if(v=D.datalevel||parseFloat(_.style.marginLeft||0),!D.datalevel&&!_.style.marginLeft)continue;let I=S+k;e[v]||(e[v]={}),(!o||o<0)&&(o=v,r=k,u=i.filter(x=>x.getAttribute("datalist")===String(r)),a=u[u.length-1],c=uPe(S,O&&O.style),_.parentNode.insertBefore(c,_),n=v,e[v][I]=c),l=a===_,b=e[v][I],(v>n||!b)&&(b=uPe(S,O&&O.style),e[v][I]=b,t.appendChild(b)),t=qzt(_),b.appendChild(t),l?o=n=-1:n=v}})(t)),Ure(n)})(e)),n.stripTags&&(e=((i,n)=>i.replace(new RegExp("<\\/?("+n+")(?:\\s[^>]*?)?>","gi"),""))(e,n.stripTags)),n.attributes){const t=Qx(e);Array.from(t.querySelectorAll("*")).forEach(o=>((i,n)=>{if(i.nodeType===Node.ELEMENT_NODE){for(let e=i.attributes.length-1;e>=0;e--){const t=i.attributes[e];n[t.name]?n[t.name](t):n["*"]&&n["*"](t)}"SPAN"===i.nodeName&&0===i.attributes.length&&(i=>{const n=i.parentNode;if(n){for(;i.firstChild;)n.insertBefore(i.firstChild,i);n.removeChild(i)}})(i)}})(o,n.attributes)),e=Ure(t)}return e};new RegExp("(?:("+/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/.source+"))([\\da-fA-F\\s]+)\\}","g");const mPe=(i,n)=>{for(let e in n)e&&y9(i,e,n[e])};class bg{constructor(n,e,t,o=!1){this.node=n,this.view=e,this.dom=document.createElement(t),mPe(this.dom,n.attrs),this.contentDOM=o?void 0:this.dom}}class _Ht{constructor(n,e,t){this.mark=n,this.view=e,this.dom=document.createElement("span"),mPe(this.dom,n.attrs),this.contentDOM=this.dom}}new nc("highlight");const Vae={southeast:{x:1,y:1},east:{x:1,y:0},south:{x:0,y:1},north:{x:0,y:-1},west:{x:-1,y:0},southwest:{x:-1,y:1},northwest:{x:-1,y:-1},northeast:{x:1,y:-1}},X9=Object.keys(Vae),lp=new nc("image-resize"),_Pe=(i,n,e)=>{i.style[n]=e+"px"},vHt=/[^\-]width:|[^\-]height:/,gPe=/^.+$/;class zae{constructor(n,e,t,o){this.activeHandle=n,this.dragging=e,this.rect=t,this.nodePosition=o}apply(n){let t=n.getMeta(lp);return t?new zae(t.activeHandle,t.setDragging,t.rect,t.nodePosition):this}}const yHt=(i={node:"image",lockRatio:!0})=>new Xd({key:lp,view:n=>({resize(){lp.getState(n.state).rect&&n.dispatch(n.state.tr.setMeta("resize",!0))},get window(){return n.dom.ownerDocument&&n.dom.ownerDocument.defaultView},attachResize(){const e=this.window;e&&(e.removeEventListener("resize",this.resize),e.addEventListener("resize",this.resize))},removeResize(){const e=this.window;e&&e.removeEventListener("resize",this.resize)},update(e,t){const o=e.state,r=o.selection,a=o.schema.nodes[i.node],l=lp.getState(o),c=l.rect;if(r instanceof Vt&&a===r.node.type){const u=e.nodeDOM(r.from),f={top:u.offsetTop,left:u.offsetLeft,width:u.offsetWidth,height:u.offsetHeight};if(!t.selection.eq(r)||c&&(c.width!==f.width||c.height!==f.height||c.top!==f.top||c.left!==f.left)){const _=o.tr;_.setMeta(lp,{rect:f,nodePosition:r.from}),e.dispatch(_),this.attachResize()}}else c&&(l.rect=null,l.nodePosition=-1)},destroy(){this.removeResize()}}),state:{init:()=>new zae("",null,null,-1),apply:(n,e)=>e.apply(n)},props:{handleDOMEvents:{mousedown:(n,e)=>((i,n,e)=>{const o=n.target.getAttribute(INe);if(!o)return!1;const r=lp.getState(i.state);n.preventDefault();const a=i.state.tr;function l(u){((i,n,e)=>{const t=lp.getState(i.state),{rect:o,dragging:r,nodePosition:a,activeHandle:l}=t;if(!r||!o)return;const c=i.nodeDOM(a),u=Vae[l];let S=u.x?(n.clientX-r.startX)*u.x+c.width:o.width,v=u.y?(n.clientY-r.startY)*u.y+c.height:o.height;if(e.lockRatio&&u.x&&u.y){let D=Math.min(S/c.width,v/c.height),k=c.width*D,O=c.height*D;r.startX=n.clientX-(S-k)*u.x,r.startY=n.clientY-(v-O)*u.y,S=k,v=O}else r.startX=u.x?n.clientX:r.startX,r.startY=u.y?n.clientY:r.startY;_Pe(c,"width",S),_Pe(c,"height",v),o.top=c.offsetTop,o.left=c.offsetLeft,o.width=c.offsetWidth,o.height=c.offsetHeight;const b=c.nextElementSibling;b.style.width=o.width+"px",b.style.height=o.height+"px",b.style.top=o.top+"px",b.style.left=o.left+"px"})(i,u,e)}return a.setMeta(lp,{setDragging:{startX:n.clientX,startY:n.clientY},activeHandle:o,rect:r.rect,nodePosition:r.nodePosition}),a.setMeta("addToHistory",!1),i.dispatch(a),n.view.addEventListener("mouseup",function c(u){u.view.removeEventListener("mouseup",c),u.view.removeEventListener("mousemove",l),(i=>{const{rect:n,dragging:e,nodePosition:t}=lp.getState(i.state);if(e&&n){const o=i.state.selection;if(o instanceof Vt){const r=o.node.attrs,a=n.width,l=n.height;let c;if(vHt.test(r.style||"")){const f=tO(r.style,{style:"width",value:gPe,newValue:a+"px"}),{style:_}=tO(f.style||"",{style:"height",value:gPe,newValue:l+"px"});c=Object.assign(Object.assign({},r),{style:_})}else c=Object.assign(Object.assign({},r),{width:a,height:l});const u=o.node.type.createAndFill(c);if(u){const f=i.state.tr;f.replaceWith(t,t+1,u),f.setSelection(Vt.create(f.doc,t)),f.setMeta("commandName","image-resize"),f.setMeta("args",c),f.setMeta(lp,{setDragging:null,activeHandle:null,rect:n,nodePosition:t}),i.dispatch(f)}}}})(i)}),n.view.addEventListener("mousemove",l),!0})(n,e,i)},decorations(n){const e=n.selection,t=n.schema.nodes[i.node],o=lp.getState(n).rect;if(o&&e instanceof Vt&&t===e.node.type){const r=document.createElement("div");r.className="k-editor-resize-handles-wrapper",r.style.width=o.width+"px",r.style.height=o.height+"px",r.style.top=o.top+"px",r.style.left=o.left+"px";for(let a=0;a<X9.length;a++){let l=document.createElement("div");l.className=Are+" "+X9[a],l.setAttribute(INe,X9[a]),r.appendChild(l)}return Vi.create(n.doc,[va.widget(n.selection.from+1,r)])}return Vi.empty}}}),DHt=new nc("caret-color");class kHt{constructor(n,e){this.node=n,this.view=e,this.dom=document.createElement("div"),this.dom.className="k-editor-resize-wrap-element",this.table=this.dom.appendChild(document.createElement("table")),n.attrs[co]&&this.renderColgroup(n.attrs[co]);const t=this.table.appendChild(document.createElement("tbody"));this.setAttributes(this.table,n.attrs),this.resizeHandles=X9.map(o=>{const r=document.createElement("span");return r.className=Are+" "+o,r.setAttribute(MNe,o),r}),this.contentDOM=t}update(n){if(n.type!==this.node.type)return!1;const e=this.node;return this.node=n,n.attrs[Zf]?this.resizeHandles.forEach(t=>{this.dom.appendChild(t)}):Array.from(this.dom.children).filter(t=>t.classList.contains(Are)).forEach(t=>t.remove()),this.setAttributes(this.table,n.attrs),e.attrs[co]!==n.attrs[co]&&this.renderColgroup(n.attrs[co]),!0}ignoreMutation(n){return"attributes"===n.type&&(n.target===this.table||n.target.firstChild===this.table||this.colgroup&&this.colgroup.contains(n.target))}destroy(){this.node=void 0,this.view=void 0,this.table=void 0,this.colgroup=void 0,this.resizeHandles=void 0}renderColgroup(n){this.table&&this.table.firstChild&&"COLGROUP"===this.table.firstChild.nodeName&&this.table.removeChild(this.table.firstChild),n&&(this.colgroup=V9(n),this.table.insertBefore(this.colgroup,this.table.firstChild))}setAttributes(n,e){const t=[co,Zf];for(let o in e)o&&-1===t.indexOf(o)&&y9(n,o,e[o]);/%$/.test(n.style.width)?(this.dom.style.width=n.style.width,n.style.width=""):this.dom.style.width=""}}class OHt{constructor(n,e){this.node=n,this.view=e,this.dom=document.createElement("div"),this.setAttributes(this.dom,n.attrs),this.contentDOM=this.dom}update(n){return n.type===this.node.type&&(this.node=n,this.setAttributes(this.dom,n.attrs),!0)}ignoreMutation(n){return"attributes"===n.type&&"style"===n.attributeName}destroy(){this.node=void 0,this.view=void 0}setAttributes(n,e){for(let t in e)t&&y9(n,t,e[t]);if(n.setAttribute("table",""),/%/.test(n.style.width)){const t=this.node&&this.node.lastChild,r=(t?Zu(t.attrs.style):{}).width||"";r&&!/%/.test(r)&&(n.style.width="")}}}const Jc=new nc("table-resize"),mr=new nc("table-column-resizing"),_r=new nc("table-row-resizing");function W9(i,n){let e=!1;return e=e||i!==Jc&&!!Jc.get(n)&&Jc.getState(n).dragging,e=e||i!==mr&&!!mr.get(n)&&mr.getState(n).dragging,e=e||i!==_r&&!!_r.get(n)&&_r.getState(n).dragging,e}function SPe(i,n){let e=!1;return e=e||i!==mr&&!!mr.get(n)&&mr.getState(n).activeHandle>-1,e=e||i!==_r&&!!_r.get(n)&&_r.getState(n).activeHandle>-1,e}function K9(i){return i&&i.firstChild&&"TABLE"===i.firstChild.nodeName?i.firstChild:i}function vPe(i){for(;i&&"TD"!==i.nodeName&&"TH"!==i.nodeName;)i=i.classList.contains("ProseMirror")?null:i.parentNode;return i}function CPe(i){const n=function THt(i){const n=Array.from(i&&i.rows||[]),e=Array.from(n&&n[0]&&n[0].cells||[]).map(o=>o.colSpan).reduce((o,r)=>o+r,0),t=n.map(()=>new Array(e));return n.forEach((o,r)=>{let a=0;Array.from(o.cells).forEach(l=>{for(let c=0;c<l.colSpan;c++){for(let u=0;u<l.rowSpan;u++){const f=t[r+u].findIndex((_,S)=>S>=a&&!_);t[r+u][f]=l}a++}})}),t}(i.closest("table"));let e=null;for(let t=0;t<n.length&&(n[t].forEach((r,a)=>{i===r&&(e={rowIndex:t,cellIndex:a})}),!e);t++);return e||{rowIndex:-1,cellIndex:-1}}function Y9(i,n,e){const t=i.posAtCoords({left:n.clientX,top:n.clientY});if(!t)return-1;const o=i.state.doc.resolve(t.pos),r=xre(o,f=>"table"===f.type.spec.tableRole);if(null===r)return-1;const a=o.start(r.depth),c=Es.get(r.node);return a+c.map[c.width*e.rowIndex+e.cellIndex]}class p4{constructor(n,e){this.activeHandle=n,this.dragging=e}apply(n){let e=this,t=n.getMeta(mr);if(t&&null!=t.setHandle)return new p4(t.setHandle,null);if(t&&void 0!==t.setDragging)return new p4(e.activeHandle,t.setDragging);if(e.activeHandle>-1&&n.docChanged){let o=n.mapping.map(e.activeHandle,-1);(function IHt(i){return!("row"!==i.parent.type.spec.tableRole||!i.nodeAfter)})(n.doc.resolve(o))||(o=-1),e=new p4(o,e.dragging)}return e}}function bPe(i,n,e){return Math.max(e,i.startWidth+(n.clientX-i.startX))}function EPe(i,n){const e=i.state.tr;e.setMeta("addToHistory",!1),e.setMeta(mr,{setHandle:n}),i.dispatch(e)}const yPe={southeast:!0,southwest:!0,northwest:!0,northeast:!0},DPe=Object.assign({east:!0,west:!0},yPe),wPe=Object.assign({south:!0,north:!0},yPe);class Hae{constructor(n,e,t){this.activeHandle=n,this.dragging=e,this.nodePosition=t}apply(n){let t=n.getMeta(Jc);return t?new Hae(t.activeHandle,t.setDragging,t.nodePosition):this}}const kPe=i=>{const e=Array.from(i.firstChild.children).map(c=>c.offsetWidth),t=Array.from(i.rows).map(c=>c.offsetHeight);return{width:e.reduce((c,u)=>c+u,0),height:t.reduce((c,u)=>c+u,0),colsWidth:e,rowsHeight:t,offsetWidth:i.offsetWidth,offsetHeight:i.offsetHeight}},VHt=(i,n)=>{const t=n.target.getAttribute(MNe);if(!t)return!1;const o=Jc.getState(i.state);n.preventDefault();const r=i.state.tr;r.setMeta(Jc,{setDragging:{startX:n.clientX,startY:n.clientY},activeHandle:t,nodePosition:o.nodePosition}),r.setMeta("addToHistory",!1),((i,n,e)=>{const t=i.state.doc.nodeAt(e),o=K9(i.nodeDOM(e)),{width:r,height:a,colsWidth:l,rowsHeight:c,offsetWidth:u,offsetHeight:f}=kPe(o),_=o.firstChild,S=Array.from(_&&_.children||[]);let v=!1;S.forEach((k,O)=>{k.style.width&&!/%$/.test(k.style.width)&&(k.style.width=100*l[O]/r+"%",v=!0)});let b=!1;t.forEach((k,O,I)=>{const x=Zu(k.attrs.style).height;x&&!/%$/.test(x)&&(n.setNodeMarkup(e+O+1,null,np(k.attrs,"height",100*c[I]/a+"%")),b=!0)});let D=t.attrs;Zu(D.style).width!==u+"px"&&(D=np(D,"width",u+"px")),v&&(D[co]=_.outerHTML),b&&(D=np(D,"height",f+"px")),(v||b)&&n.setNodeMarkup(e,null,D)})(i,r,o.nodePosition),i.dispatch(r);const a=n.view||window;function l(u){((i,n)=>{var e;const t=Jc.getState(i.state),{dragging:o,nodePosition:r,activeHandle:a}=t;if(r<0||!o)return;let l=K9(i.nodeDOM(r));const c=l.getBoundingClientRect(),u=Vae[a],f=(n.clientX-o.startX)*u.x,_=(n.clientY-o.startY)*u.y,v=(l.ownerDocument&&l.ownerDocument.defaultView||window).getComputedStyle(l),b=/px/.test(v.width)?parseFloat(v.width):l.offsetWidth,D=/px/.test(v.height)?parseFloat(v.height):l.offsetHeight,k=u.x?f+b:c.width,O=u.y?_+D:c.height;if(o.startX=u.x?n.clientX:o.startX,o.startY=u.y?n.clientY:o.startY,DPe[a]&&(l.style.width=k+"px"),wPe[a]&&(l.style.height=O+"px"),/px/.test(l.style.width)){const I=null===(e=l.parentNode)||void 0===e?void 0:e.parentNode;I instanceof HTMLDivElement&&I.matches("div[table]")&&/%/.test(I.style.width)&&(I.style.width="")}})(i,u)}return a.addEventListener("mouseup",function c(u){a.removeEventListener("mouseup",c),a.removeEventListener("mousemove",l),(i=>{const{dragging:n,nodePosition:e,activeHandle:t}=Jc.getState(i.state);if(n){const o=i.state.doc.nodeAt(e),r=K9(i.nodeDOM(e)),a=kPe(r);if(o){const l=a.offsetWidth+"px",c=a.offsetHeight+"px",u=i.state.tr;let f=o.attrs;const _=Zu(f.style);if(DPe[t]&&r.style.width&&_.width!==l&&(f=np(f,"width",l)),wPe[t]&&r.style.height&&_.height!==c&&(f=np(f,"height",c)),f=((i,n,e,t)=>{const o=i.state.doc.nodeAt(e),r=K9(i.nodeDOM(e)),l=(r.ownerDocument&&r.ownerDocument.defaultView||window).getComputedStyle,c=Array.from(r.rows);o.forEach((v,b,D)=>{const k=Zu(v.attrs.style).height;k&&!/px$/.test(k)&&n.setNodeMarkup(e+b+1,null,np(v.attrs,"height",l(c[D]).height))});const u=r.firstChild,f=Array.from(u&&u.children||[]);let _=!1;f.forEach((v,b)=>{v.style.width&&!/px$/.test(v.style.width)&&(v.style.width=l(f[b]).width,_=!0)});let S=Object.assign({},t);return _&&(S[co]=u.outerHTML),S})(i,u,e,f),u.setNodeMarkup(e,null,f),u.setMeta("commandName","node-resize"),u.setMeta("args",f),u.setMeta(Jc,{setDragging:null,activeHandle:null,nodePosition:e}),!/%/.test(Zu(f.style).width||"")){const S=u.doc.resolve(e),v=xre(S,b=>"table_wrapper"===b.type.name);if(v&&/%/.test(Zu(v.node.attrs.style).width||"")){const b=np(v.node.attrs,"width",""),D=S.start(v.depth)-1;u.setNodeMarkup(D,null,b)}}i.dispatch(u)}}})(i)}),a.addEventListener("mousemove",l),!0},zHt=(i={node:"table"})=>new Xd({key:Jc,view:n=>({selectedNode(e,t){const o=e.selection;if(o instanceof Vt&&t===o.node.type&&o instanceof Vt)return{node:o.node,pos:o.from};const a=xre(o.$from,c=>c.type===t),l=a&&a.node;return l?{node:l,pos:o.$from.start(a.depth)-1}:null},update(e,t){const o=e.state,r=o.schema.nodes[i.node],a=this.selectedNode(o,r),l=this.selectedNode(t,r);if((a||!l||t.doc.eq(e.state.doc))&&(a||l)){const c=o.tr;if(c.setMeta("addToHistory",!1),a&&l&&a.pos!==l.pos){c.setMeta(Jc,{nodePosition:a.pos});const u=c.doc.nodeAt(l.pos);u&&u.type.name===r.name&&c.setNodeMarkup(l.pos,r,Object.assign(Object.assign({},l.node.attrs),{[Zf]:!1})),c.setNodeMarkup(a.pos,r,Object.assign(Object.assign({},a.node.attrs),{[Zf]:!0})),e.dispatch(c)}else a&&l&&a.pos===l.pos&&!a.node.attrs[Zf]&&!o.selection.eq(t.selection)?(c.setMeta(Jc,{nodePosition:a.pos}),e.dispatch(c.setNodeMarkup(a.pos,r,Object.assign(Object.assign({},a.node.attrs),{[Zf]:!0})))):a&&!l?(c.setMeta(Jc,{nodePosition:a.pos}),e.dispatch(c.setNodeMarkup(a.pos,r,Object.assign(Object.assign({},a.node.attrs),{[Zf]:!0})))):!a&&l&&(c.setMeta(Jc,{nodePosition:-1}),e.dispatch(c.setNodeMarkup(l.pos,r,Object.assign(Object.assign({},l.node.attrs),{[Zf]:!1}))))}}}),state:{init:()=>new Hae("",null,-1),apply:(n,e)=>e.apply(n)},props:{handleDOMEvents:{mousedown:(n,e)=>VHt(n,e)}}});class HHt{ignoreMutation(n){return"attributes"===n.type&&"style"===n.attributeName&&"TR"===n.target.nodeName}}class f4{constructor(n,e){this.activeHandle=n,this.dragging=e}apply(n){let e=this,t=n.getMeta(_r);if(t&&null!=t.setHandle)return new f4(t.setHandle,null);if(t&&void 0!==t.setDragging)return new f4(e.activeHandle,t.setDragging);if(e.activeHandle>-1){let o=n.mapping.map(e.activeHandle,-1);(function $Ht(i){return"row"===i.parent.type.spec.tableRole&&i.nodeAfter})(n.doc.resolve(o))||(o=null),e=new f4(o,e.dragging)}return e}}function OPe(i,n){const e=i.state.tr;e.setMeta("addToHistory",!1),e.setMeta(_r,{setHandle:n}),i.dispatch(e)}class sr extends Fn{constructor(n){super(n,n)}map(n,e){let t=n.resolve(e.map(this.head));return sr.valid(t)?new sr(t):Fn.near(t)}content(){return tt.empty}eq(n){return n instanceof sr&&n.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(n,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new sr(n.resolve(e.pos))}getBookmark(){return new jae(this.anchor)}static valid(n){let e=n.parent;if(e.isTextblock||!function ijt(i){for(let n=i.depth;n>=0;n--){let e=i.index(n),t=i.node(n);if(0!=e)for(let o=t.child(e-1);;o=o.lastChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}else if(t.type.spec.isolating)return!0}return!0}(n)||!function sjt(i){for(let n=i.depth;n>=0;n--){let e=i.indexAfter(n),t=i.node(n);if(e!=t.childCount)for(let o=t.child(e);;o=o.firstChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}else if(t.type.spec.isolating)return!0}return!0}(n))return!1;let t=e.type.spec.allowGapCursor;if(null!=t)return t;let o=e.contentMatchAt(n.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(n,e,t=!1){e:for(;;){if(!t&&sr.valid(n))return n;let o=n.pos,r=null;for(let a=n.depth;;a--){let l=n.node(a);if(e>0?n.indexAfter(a)<l.childCount:n.index(a)>0){r=l.child(e>0?n.indexAfter(a):n.index(a)-1);break}if(0==a)return null;o+=e;let c=n.doc.resolve(o);if(sr.valid(c))return c}for(;;){let a=e>0?r.firstChild:r.lastChild;if(!a){if(r.isAtom&&!r.isText&&!Vt.isSelectable(r)){n=n.doc.resolve(o+r.nodeSize*e),t=!1;continue e}break}r=a,o+=e;let l=n.doc.resolve(o);if(sr.valid(l))return l}return null}}}sr.prototype.visible=!1,sr.findFrom=sr.findGapCursorFrom,Fn.jsonID("gapcursor",sr);class jae{constructor(n){this.pos=n}map(n){return new jae(n.map(this.pos))}resolve(n){let e=n.resolve(this.pos);return sr.valid(e)?new sr(e):Fn.near(e)}}const rjt=wae({ArrowLeft:J9("horiz",-1),ArrowRight:J9("horiz",1),ArrowUp:J9("vert",-1),ArrowDown:J9("vert",1)});function J9(i,n){const e="vert"==i?n>0?"down":"up":n>0?"right":"left";return function(t,o,r){let a=t.selection,l=n>0?a.$to:a.$from,c=a.empty;if(a instanceof Jn){if(!r.endOfTextblock(e)||0==l.depth)return!1;c=!1,l=t.doc.resolve(n>0?l.after():l.before())}let u=sr.findGapCursorFrom(l,n,c);return!!u&&(o&&o(t.tr.setSelection(new sr(u))),!0)}}function ajt(i,n,e){if(!i||!i.editable)return!1;let t=i.state.doc.resolve(n);if(!sr.valid(t))return!1;let o=i.posAtCoords({left:e.clientX,top:e.clientY});return!(o&&o.inside>-1&&Vt.isSelectable(i.state.doc.nodeAt(o.inside))||(i.dispatch(i.state.tr.setSelection(new sr(t))),0))}function ljt(i,n){if("insertCompositionText"!=n.inputType||!(i.state.selection instanceof sr))return!1;let{$from:e}=i.state.selection,t=e.parent.contentMatchAt(e.index()).findWrapping(i.state.schema.nodes.text);if(!t)return!1;let o=Oe.empty;for(let a=t.length-1;a>=0;a--)o=Oe.from(t[a].createAndFill(null,o));let r=i.state.tr.replace(e.pos,e.pos,new tt(o,0,0));return r.setSelection(Jn.near(r.doc.resolve(e.pos+1))),i.dispatch(r),!1}function cjt(i){if(!(i.selection instanceof sr))return null;let n=document.createElement("div");return n.className="ProseMirror-gapcursor",Vi.create(i.doc,[va.widget(i.selection.head,n,{key:"gapcursor"})])}const q9=/^table$/,MPe=/^table_row$/,ujt=/^table_cell|table_header$/,xb=(i,n)=>{const e=i.$head;for(let t=e.depth;t>0;t--){const o=e.node(t);if(n.test(o.type.name))return{pos:e.before(t),node:o}}return null},IPe=(i,n)=>function czt(i,n){if(!rp(i))return!1;if(n){const e=im(i);n(XLe(i.tr,e,e.top))}return!0}(i,n&&(t=>{const o=xb(t.selection,MPe),r=xb(t.selection,q9);if(o&&r&&o.node.attrs[Qf]){let a=0;for(let u=0;u<r.node.nodeSize;u++)if(r.node.child(u).eq(o.node)){a=u;break}const l=r.node.child(a-1);t.setNodeMarkup(o.pos-l.nodeSize,void 0,{[Qf]:o.node.attrs[Qf]})}return n(t)})),RPe=(i,n)=>function dzt(i,n){if(!rp(i))return!1;if(n){const e=im(i);n(XLe(i.tr,e,e.bottom))}return!0}(i,n&&(t=>{const o=xb(t.selection,MPe);return o&&o.node.attrs[Qf]&&t.setNodeMarkup(o.pos+o.node.nodeSize,void 0,{[Qf]:o.node.attrs[Qf]}),n(t)})),APe=(i,n)=>{if(!i)return-1;const e=Es.get(i.node),t=xb(n,ujt),o=e.map.indexOf(t.pos-i.pos-1);let r=-1;return-1!==o&&(r=o%e.width),r},xPe=(i,n,e)=>{const t=APe(n,i.selection),o=V9(n.node.attrs[co]);o.insertBefore(o.ownerDocument.createElement("col"),o.children[t+e]),i.setNodeMarkup(n.pos,null,Object.assign(Object.assign({},n.node.attrs),{[co]:o.outerHTML}))},NPe=(i,n)=>function szt(i,n){if(!rp(i))return!1;if(n){const e=im(i);n($Le(i.tr,e,e.left))}return!0}(i,n&&(t=>{const o=xb(t.selection,q9);return o.node.attrs[co]&&xPe(t,o,-1),n(t)})),LPe=(i,n)=>function ozt(i,n){if(!rp(i))return!1;if(n){const e=im(i);n($Le(i.tr,e,e.right))}return!0}(i,n&&(t=>{const o=xb(t.selection,q9);return o.node.attrs[co]&&xPe(t,o,1),n(t)})),PPe=(i,n)=>{const e=xb(i.selection,q9),t=e&&e.node.attrs[co],o=APe(e,i.selection);return function azt(i,n){if(!rp(i))return!1;if(n){const e=im(i),t=i.tr;if(0==e.left&&e.right==e.map.width)return!1;for(let o=e.right-1;rzt(t,e,o),o!=e.left;o--){const r=e.tableStart?t.doc.nodeAt(e.tableStart-1):t.doc;if(!r)throw RangeError("No table found");e.table=r,e.map=Es.get(r)}n(t)}return!0}(i,n&&(a=>{if(!t)return n(a);const l=a.doc.nodeAt(e.pos);return((i,n,e)=>{const t=V9(n.node.attrs[co]);t.removeChild(t.children[e]),i.setNodeMarkup(n.pos,null,Object.assign(Object.assign({},n.node.attrs),{[co]:t.outerHTML}))})(a,{node:l,pos:e.pos},o),n(a)}))},pjt=["textarea"],fjt=["srcInput"],mjt=["hrefInput"];function _jt(i,n){if(1&i&&(s.qex(0),s.j41(1,"kendo-formfield"),s.qex(2),s.j41(3,"span",13),s.nrm(4,"input",14),s.k0s(),s.j41(5,"label",15),s.EFF(6),s.k0s(),s.bVm(),s.k0s(),s.bVm()),2&i){const e=s.XpG();s.R7$(5),s.Y8G("labelClass",!1),s.R7$(),s.JRh(e.textForWithPrefix("OpenInNewWindow"))}}const cp=["element"];function gjt(i,n){if(1&i&&(s.j41(0,"span"),s.EFF(1),s.k0s()),2&i){const e=s.XpG().$implicit;s.Aen("display: block; font-size: 2em; margin-left: 0; font-weight: bold;"),s.R7$(),s.SpI(" ",e.text," ")}}function Sjt(i,n){if(1&i&&(s.j41(0,"span"),s.EFF(1),s.k0s()),2&i){const e=s.XpG().$implicit;s.Aen("display: block; font-size: 1.5em; margin-left: 0; font-weight: bold;"),s.R7$(),s.SpI(" ",e.text," ")}}function vjt(i,n){if(1&i&&(s.j41(0,"span"),s.EFF(1),s.k0s()),2&i){const e=s.XpG().$implicit;s.Aen("display: block; font-size: 1.17em; margin-left: 0; font-weight: bold;"),s.R7$(),s.SpI(" ",e.text," ")}}function Cjt(i,n){if(1&i&&(s.j41(0,"span"),s.EFF(1),s.k0s()),2&i){const e=s.XpG().$implicit;s.Aen("display: block; font-size: 1em; margin-left: 0; font-weight: bold;"),s.R7$(),s.SpI(" ",e.text," ")}}function bjt(i,n){if(1&i&&(s.j41(0,"span"),s.EFF(1),s.k0s()),2&i){const e=s.XpG().$implicit;s.Aen("display: block; font-size: .83em; margin-left: 0; font-weight: bold;"),s.R7$(),s.SpI(" ",e.text," ")}}function Ejt(i,n){if(1&i&&(s.j41(0,"span"),s.EFF(1),s.k0s()),2&i){const e=s.XpG().$implicit;s.Aen("display: block; font-size: .67em; margin-left: 0; font-weight: bold;"),s.R7$(),s.SpI(" ",e.text," ")}}function yjt(i,n){if(1&i&&(s.j41(0,"span"),s.EFF(1),s.k0s()),2&i){const e=s.XpG().$implicit;s.Aen("display: block; margin-left: 0;"),s.R7$(),s.SpI(" ",e.text," ")}}function Djt(i,n){if(1&i&&(s.j41(0,"span"),s.EFF(1),s.k0s()),2&i){const e=s.XpG().$implicit;s.R7$(),s.JRh(e.text)}}function wjt(i,n){1&i&&(s.qex(0,3),s.DNE(1,gjt,2,3,"span",4)(2,Sjt,2,3,"span",4)(3,vjt,2,3,"span",4)(4,Cjt,2,3,"span",4)(5,bjt,2,3,"span",4)(6,Ejt,2,3,"span",4)(7,yjt,2,3,"span",4)(8,Djt,2,1,"span",5),s.bVm()),2&i&&(s.Y8G("ngSwitch",n.$implicit.tag),s.R7$(),s.Y8G("ngSwitchCase","h1"),s.R7$(),s.Y8G("ngSwitchCase","h2"),s.R7$(),s.Y8G("ngSwitchCase","h3"),s.R7$(),s.Y8G("ngSwitchCase","h4"),s.R7$(),s.Y8G("ngSwitchCase","h5"),s.R7$(),s.Y8G("ngSwitchCase","h6"),s.R7$(),s.Y8G("ngSwitchCase","p"))}const GPe=["formatDropDownList"],m4=["toolbarTemplate"],_4=["popupTemplate"],kjt=["formatButton"],Ojt=["kendoEditorFormat",""];function Tjt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-editor-format-dropdownlist",4,2),s.mxI("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.value,o)||(r.value=o),s.Njj(o)}),s.bIt("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onValueChange(o))}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("defaultItem",e.defaultItem)("data",e.data),s.R50("value",e.value),s.Y8G("itemDisabled",e.itemDisabled)("title",e.title)("disabled",e.disabled)("tabindex",e.tabindex)}}function Mjt(i,n){if(1&i&&(s.j41(0,"span",9),s.EFF(1),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.JRh(e.title)}}function Ijt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",5,3),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.openDialog())}),s.j41(2,"span",6),s.nrm(3,"kendo-icon-wrapper",7),s.DNE(4,Mjt,2,1,"span",8),s.k0s()()}if(2&i){const e=s.XpG();s.AVh("k-disabled",e.disabled),s.Y8G("tabindex",e.tabindex),s.R7$(3),s.Y8G("svgIcon",e.applyFormatSVGIcon),s.R7$(),s.Y8G("ngIf",e.title)}}const Rjt=["dialogsContainer"],Ajt=["content"],UPe=["defaultToolbar"],xjt=[[["kendo-toolbar"]]],Njt=["kendo-toolbar"];function Ljt(i,n){if(1&i&&(s.j41(0,"kendo-toolbar",7,1)(2,"kendo-toolbar-buttongroup"),s.nrm(3,"kendo-toolbar-button",8)(4,"kendo-toolbar-button",9)(5,"kendo-toolbar-button",10),s.k0s(),s.nrm(6,"kendo-toolbar-dropdownlist",11),s.j41(7,"kendo-toolbar-buttongroup"),s.nrm(8,"kendo-toolbar-button",12)(9,"kendo-toolbar-button",13)(10,"kendo-toolbar-button",14)(11,"kendo-toolbar-button",15),s.k0s(),s.j41(12,"kendo-toolbar-buttongroup"),s.nrm(13,"kendo-toolbar-button",16)(14,"kendo-toolbar-button",17)(15,"kendo-toolbar-button",18)(16,"kendo-toolbar-button",19),s.k0s(),s.j41(17,"kendo-toolbar-buttongroup"),s.nrm(18,"kendo-toolbar-button",20)(19,"kendo-toolbar-button",21),s.k0s(),s.nrm(20,"kendo-toolbar-button",22),s.k0s()),2&i){const e=s.XpG();s.Y8G("overflow",!0)("tabindex",e.readonly?-1:0)}}function Pjt(i,n){if(1&i&&s.nrm(0,"div",23,2),2&i){const e=s.XpG();s.BMQ("dir",e.direction)}}function Gjt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",23)(1,"iframe",24,2),s.bIt("load",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.iframeOnLoad())}),s.k0s()()}2&i&&(s.R7$(),s.xc7("width",100,"%")("height",100,"%")("display","block"))}function Ujt(i,n){1&i&&s.nrm(0,"div",25)}const $ae=["colorpicker"],e$t=["colorPickerButton"];function t$t(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-colorpicker",4,2),s.bIt("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleValueChange(o))})("clearButtonClick",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.handleClearButtonClick())})("activeColorClick",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.handleActiveColorClick(o))})("open",function(){s.eBV(e);const o=s.sdS(1),r=s.XpG();return s.Njj(r.onOpen(o))})("close",function(){s.eBV(e);const o=s.sdS(1),r=s.XpG();return s.Njj(r.onClose(o))})("activeViewChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onActiveViewChange(o))}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("icon",e.icon)("svgIcon",e.svgIcon)("views",e.views)("format","hex")("value",e.value)("paletteSettings",e.paletteSettings)("disabled",e.disabled)("tabindex",e.tabindex),s.BMQ("title",e.title)}}function n$t(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",9),2&i){const e=s.XpG(2);s.Y8G("name",e.icon)("svgIcon",e.svgIcon)}}function i$t(i,n){if(1&i&&(s.j41(0,"span",10),s.EFF(1),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.JRh(e.title)}}function s$t(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",5,3),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.openDialog())}),s.j41(2,"span",6),s.DNE(3,n$t,1,2,"kendo-icon-wrapper",7)(4,i$t,2,1,"span",8),s.k0s()()}if(2&i){const e=s.XpG();s.AVh("k-disabled",e.disabled),s.Y8G("tabindex",e.tabindex),s.R7$(3),s.Y8G("ngIf",e.icon),s.R7$(),s.Y8G("ngIf",e.title)}}const u$t={name:"@progress/kendo-angular-editor",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925378,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},p$t=(i,n)=>{const e={};for(const t in i)t&&null!==i[t]&&t!==n&&(e[t]=i[t]);return e},f$t=i=>{const n={},e=i.attributes;for(let t=0;t<e.length;t++){const o=e[t];n[o.name]=o.value}return n},_$t=(i=[])=>({...i.reduce((n,e)=>({...n,[e]:{default:null}}),{})}),Nb=i=>n=>n.type.name===i,g$t=(Nb("table"),Nb("table_body"),Nb("table_head"),Nb("table_foot"),Nb("table_row"),Nb("table_cell"),Nb("table_header"),i=>({content:"block*",group:"block",attrs:{...{..._$t(["class","id","style"])}},parseDOM:[{tag:i,getAttrs:f$t}],toDOM:n=>((i,n)=>{for(const e in i)if(e&&null!==i[e]&&undefined!==e)return!0;return!1})(n.attrs)?[i,p$t(n.attrs),0]:[i,0]})),S$t=["article","main","nav","header","footer","aside","section"].reduce((i,n)=>Object.assign(i,{[n]:g$t(n)}),{}),v$t=yzt,C$t=Object.assign(Tzt,S$t),b$t=new vre({marks:v$t,nodes:C$t}),Q9=(i,n)=>Zx(FBt)(i,n),y$t=Object.assign({},{bold:i=>ic(ip,{...Pae,applyToWord:i}),cleanFormatting:i=>WNe(i),createLink:i=>ic($Ne,{mark:"link",attrs:i.value,applyToWord:i.applyToWord}),fontFamily:i=>ic(k9,{style:"font-family",value:i.value,applyToWord:i.applyToWord}),fontSize:i=>ic(k9,{style:"font-size",value:i.value,applyToWord:i.applyToWord}),insertFile:i=>ic($Ne,{mark:"link",attrs:i,applyToWord:i.applyToWord}),insertText:i=>(i=>(n,e)=>{e(n.tr.insertText(i.text,i.from,i.to))})(i),italic:i=>ic(ip,{...Gae,applyToWord:i}),strikethrough:i=>ic(ip,{...rPe,applyToWord:i}),subscript:i=>ic(ip,{...aPe,applyToWord:i}),superscript:i=>ic(ip,{...lPe,applyToWord:i}),underline:i=>ic(ip,{...Uae,applyToWord:i}),unlink:()=>jNe(cPe),foreColor:i=>ic(k9,{style:"color",value:i.value,applyToWord:i.applyToWord}),backColor:i=>ic(k9,{style:"background-color",value:i.value,applyToWord:i.applyToWord}),selectAll:()=>(i,n)=>l8e(i,n)},{alignCenter:()=>(i,n)=>dv(i,qre)?Q9(i,n):Zx(qre)(i,n),alignJustify:()=>(i,n)=>dv(i,Qre)?Q9(i,n):Zx(Qre)(i,n),alignLeft:()=>(i,n)=>dv(i,Yre)?Q9(i,n):Zx(Yre)(i,n),alignRight:()=>(i,n)=>dv(i,Jre)?Q9(i,n):Zx(Jre)(i,n),format:i=>((i,n)=>(e,t)=>{const o=Db(e),r=e.schema.nodes,a=e.tr;a.setMeta("commandName",undefined),a.setMeta("args",{value:i}),o.forEach(c=>{if(c.type.isTextblock)if("p"===i){const _=ny(c.attrs,["level"]);iO(a,c,r.paragraph,_)}else if(/^h[1-6]$/i.test(i)){const u=parseInt(i.substr(1),10);iO(a,c,r.heading,Object.assign(Object.assign({},c.attrs),{level:u}))}else if("blockquote"===i){const _=ny(c.attrs,["level"]);iO(a,c,r.blockquote,_)}});const l=a.docChanged;return l&&t(a.scrollIntoView()),l})(i.tag),getHTML:()=>Bre,indent:()=>yBt,insertImage:i=>(i=>(n,e)=>{const{image:t}=n.schema.nodes,r=t.createAndFill(i);NNe(r)(n,a=>e(a.setMeta("commandName","insertImage").setMeta("args",i)))})(i),insertOrderedList:()=>GBt,insertUnorderedList:()=>PBt,outdent:()=>DBt,redo:()=>h4,setHTML:({content:i,parseOptions:n})=>((i,n="setHTML",e={preserveWhitespace:"full"})=>(t,o)=>o(t.tr.setSelection(new Cl(t.doc)).replaceSelectionWith(Fre(i,t.schema,e)).setMeta("commandName",n)))(i,"setHTML",n),undo:()=>j9,blockquote:()=>p8e},{insertTable:i=>(i=>(n,e)=>{const t=((i,n,e)=>{const{table:t,table_row:o,table_cell:r}=i,a=[];let l;for(let c=0;c<n+1;c++){l=[];for(let u=0;u<e+1;u++)l.push(r.createAndFill());a.push(o.createAndFill(void 0,l))}return t.createAndFill(void 0,a)})(n.schema.nodes,i.rows,i.cols);t&&NNe(t,!0)(n,e)})(i),addColumnBefore:()=>NPe,addColumnAfter:()=>LPe,addRowBefore:()=>IPe,addRowAfter:()=>RPe,deleteRow:()=>WLe,deleteColumn:()=>PPe,mergeCells:()=>YLe,splitCell:()=>JLe,deleteTable:()=>QLe}),Xae={alignCenter:{selected:!1,disabled:!1},alignJustify:{selected:!1,disabled:!1},alignLeft:{selected:!1,disabled:!1},alignRight:{selected:!1,disabled:!1},bold:{selected:!1,disabled:!1},italic:{selected:!1,disabled:!1},underline:{selected:!1,disabled:!1},strikethrough:{selected:!1,disabled:!1},subscript:{selected:!1,disabled:!1},superscript:{selected:!1,disabled:!1},format:{selected:{text:"Format",tag:null},disabled:!1},style:{selected:{marks:[],hasNodesWithoutMarks:!1},disabled:!1},cleanFormatting:{selected:!1,disabled:!0},blockquote:{selected:!1,disabled:!1},indent:{selected:!1,disabled:!1},outdent:{selected:!1,disabled:!1},insertOrderedList:{selected:!1,disabled:!1},insertUnorderedList:{selected:!1,disabled:!1},unlink:{selected:!1,disabled:!0},redo:{selected:!1,disabled:!0},undo:{selected:!1,disabled:!0},print:{selected:!1,disabled:!1},createLink:{selected:!1,disabled:!0},insertFile:{selected:!1,disabled:!0},insertImage:{selected:!1,disabled:!1},viewSource:{selected:!1,disabled:!1},insertTable:{selected:!1,disabled:!1},addColumnBefore:{selected:!1,disabled:!0},addColumnAfter:{selected:!1,disabled:!0},addRowBefore:{selected:!1,disabled:!0},addRowAfter:{selected:!1,disabled:!0},deleteRow:{selected:!1,disabled:!0},deleteColumn:{selected:!1,disabled:!0},mergeCells:{selected:!1,disabled:!0},splitCell:{selected:!1,disabled:!0},deleteTable:{selected:!1,disabled:!0},selectAll:{selected:!1,disabled:!1}},Wae={alignCenter:{selected:!1,disabled:!0},alignJustify:{selected:!1,disabled:!0},alignLeft:{selected:!1,disabled:!0},alignRight:{selected:!1,disabled:!0},bold:{selected:!1,disabled:!0},italic:{selected:!1,disabled:!0},underline:{selected:!1,disabled:!0},strikethrough:{selected:!1,disabled:!0},subscript:{selected:!1,disabled:!0},superscript:{selected:!1,disabled:!0},format:{selected:{text:"Format",tag:null},disabled:!0},style:{selected:{marks:[],hasNodesWithoutMarks:!1},disabled:!0},cleanFormatting:{selected:!1,disabled:!0},blockquote:{selected:!1,disabled:!0},indent:{selected:!1,disabled:!0},outdent:{selected:!1,disabled:!0},insertOrderedList:{selected:!1,disabled:!0},insertUnorderedList:{selected:!1,disabled:!0},unlink:{selected:!1,disabled:!0},redo:{selected:!1,disabled:!0},undo:{selected:!1,disabled:!0},print:{selected:!1,disabled:!0},createLink:{selected:!1,disabled:!0},insertFile:{selected:!1,disabled:!0},insertImage:{selected:!1,disabled:!0},viewSource:{selected:!1,disabled:!0},insertTable:{selected:!1,disabled:!0},addColumnBefore:{selected:!1,disabled:!0},addColumnAfter:{selected:!1,disabled:!0},addRowBefore:{selected:!1,disabled:!0},addRowAfter:{selected:!1,disabled:!0},deleteRow:{selected:!1,disabled:!0},deleteColumn:{selected:!1,disabled:!0},mergeCells:{selected:!1,disabled:!0},splitCell:{selected:!1,disabled:!0},deleteTable:{selected:!1,disabled:!0},selectAll:{selected:!1,disabled:!0}};function g4(i){let n=i.offsetWidth;const e=getComputedStyle(i);return n+=parseFloat(e.marginLeft)||0+parseFloat(e.marginRight)||0,n}const BPe=i=>null==i,_O=i=>!BPe(i),jPe=i=>n=>e=>n?i(e):e;let gn=(()=>{class i extends z{constructor(e,t,o){super(e,t,o)}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(He),s.KVO(Cu,8),s.KVO(kc,8))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),$Pe=(()=>{class i extends r_{constructor(e,t){super(e),this.dialog=e,this.localization=t,this.data=""}ngAfterViewInit(){Promise.resolve(null).then(()=>{this.textarea.focus()})}onCancelAction(){this.dialog.close()}onConfirmAction(){this.editor.exec("setHTML",this.getData()),this.dialog.close(),this.editor.view.focus()}getData(){return this.textarea.value}setData(){this.data=this.indent(this.editor.getSource())}textFor(e){return this.localization.get(e)}indent(e){return e.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(sf),s.rXU(gn))},i.\u0275cmp=s.VBU({type:i,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&s.GBs(pjt,7),2&e){let o;s.mGM(o=s.lsd())&&(t.textarea=o.first)}},inputs:{editor:"editor"},features:[s.Vt3],decls:9,vars:7,consts:[["textarea",""],[3,"close"],["flow","horizontal","resizable","none",1,"k-editor-textarea",3,"value"],["layout","start"],["kendoButton","",3,"click","primary"],["kendoButton","",3,"click"]],template:function(e,t){if(1&e){const o=s.RV6();s.j41(0,"kendo-dialog-titlebar",1),s.bIt("close",function(){return s.eBV(o),s.Njj(t.onCancelAction())}),s.EFF(1),s.k0s(),s.nrm(2,"kendo-textarea",2,0),s.j41(4,"kendo-dialog-actions",3)(5,"button",4),s.bIt("click",function(){return s.eBV(o),s.Njj(t.onConfirmAction())}),s.EFF(6),s.k0s(),s.j41(7,"button",5),s.bIt("click",function(){return s.eBV(o),s.Njj(t.onCancelAction())}),s.EFF(8),s.k0s()()}2&e&&(s.R7$(),s.SpI(" ",t.textFor("viewSource")," "),s.R7$(),s.xc7("height",100,"%"),s.Y8G("value",t.data),s.R7$(3),s.Y8G("primary",!0),s.R7$(),s.JRh(t.textFor("dialogUpdate")),s.R7$(2),s.JRh(t.textFor("dialogCancel")))},dependencies:[bd,Dq,Cd,Ht],encapsulation:2}),i})(),XPe=(()=>{class i extends r_{constructor(e,t){super(e),this.dialog=e,this.localization=t,this.src=new sl("",OI.required),this.alt=new sl(""),this.width=new sl("",OI.min(1)),this.height=new sl("",OI.min(1)),this.data={alt:"",height:"",src:"",width:""},this.imageData=new Mh({alt:this.alt,height:this.height,src:this.src,width:this.width})}ngOnInit(){this.srcInputId=`k-${tn()}`,this.altTextInputId=`k-${tn()}`,this.widthInputId=`k-${tn()}`,this.heightInputId=`k-${tn()}`}ngAfterViewInit(){Promise.resolve(null).then(()=>{this.srcInput.focus()})}onCancelAction(){this.dialog.close()}onConfirmAction(){this.src.value&&(this.editor.exec("insertImage",this.getData()),this.dialog.close(),this.editor.view.focus())}setData(e){const t=(i=>{if(i.selection instanceof Vt)return i.selection.node})(e);t&&(this.src.patchValue(t.attrs.src),this.alt.patchValue(t.attrs.alt),this.width.patchValue(t.attrs.width),this.height.patchValue(t.attrs.height))}textFor(e){return this.localization.get(e)}getData(){return{alt:this.alt.value,height:this.normalizeDimension(this.height.value),src:this.src.value,width:this.normalizeDimension(this.width.value)}}normalizeDimension(e){return Number.isNaN(parseInt(e,10))||parseInt(e,10)<=0?"":(i=>BPe(i)?"":i.toString())(parseInt(e,10))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(sf),s.rXU(gn))},i.\u0275cmp=s.VBU({type:i,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&s.GBs(fjt,5),2&e){let o;s.mGM(o=s.lsd())&&(t.srcInput=o.first)}},inputs:{editor:"editor"},features:[s.Vt3],decls:24,vars:17,consts:[["srcInput",""],["altTextInput",""],["widthInput",""],["heightInput",""],[3,"close"],[1,"k-form","k-form-md"],["labelCssClass","k-form-label",3,"for","text"],[3,"formControl"],["layout","start"],["kendoButton","",3,"click","disabled","primary"],["kendoButton","",3,"click"]],template:function(e,t){if(1&e){const o=s.RV6();s.j41(0,"kendo-dialog-titlebar",4),s.bIt("close",function(){return s.eBV(o),s.Njj(t.onCancelAction())}),s.EFF(1),s.k0s(),s.j41(2,"div",5)(3,"kendo-formfield"),s.nrm(4,"kendo-label",6)(5,"kendo-textbox",7,0),s.k0s(),s.j41(7,"kendo-formfield"),s.nrm(8,"kendo-label",6)(9,"kendo-textbox",7,1),s.k0s(),s.j41(11,"kendo-formfield"),s.nrm(12,"kendo-label",6)(13,"kendo-textbox",7,2),s.k0s(),s.j41(15,"kendo-formfield"),s.nrm(16,"kendo-label",6)(17,"kendo-textbox",7,3),s.k0s()(),s.j41(19,"kendo-dialog-actions",8)(20,"button",9),s.bIt("click",function(){return s.eBV(o),s.Njj(t.onConfirmAction())}),s.EFF(21),s.k0s(),s.j41(22,"button",10),s.bIt("click",function(){return s.eBV(o),s.Njj(t.onCancelAction())}),s.EFF(23),s.k0s()()}if(2&e){const o=s.sdS(6),r=s.sdS(10),a=s.sdS(14),l=s.sdS(18);s.R7$(),s.SpI(" ",t.textFor("insertImage")," "),s.R7$(3),s.Y8G("for",o)("text",t.textFor("imageWebAddress")),s.R7$(),s.Y8G("formControl",t.src),s.R7$(3),s.Y8G("for",r)("text",t.textFor("imageAltText")),s.R7$(),s.Y8G("formControl",t.alt),s.R7$(3),s.Y8G("for",a)("text",t.textFor("imageWidth")),s.R7$(),s.Y8G("formControl",t.width),s.R7$(3),s.Y8G("for",l)("text",t.textFor("imageHeight")),s.R7$(),s.Y8G("formControl",t.height),s.R7$(3),s.Y8G("disabled",t.imageData.invalid)("primary",!0),s.R7$(),s.JRh(t.textFor("dialogInsert")),s.R7$(2),s.JRh(t.textFor("dialogCancel"))}},dependencies:[bd,ol,pf,xh,Cd,Ht,Di,GC],encapsulation:2}),i})(),Kae=(()=>{class i extends r_{constructor(e,t){super(e),this.dialog=e,this.localization=t,this.linkForm=new Mh({href:new sl("",OI.required),text:new sl({value:"",disabled:!0},OI.required),title:new sl("")})}ngAfterViewInit(){Promise.resolve(null).then(()=>{this.hrefInput.focus()})}onCancelAction(){this.dialog.close()}onConfirmAction(){const e=this.getData();this.editor.exec(this.command,e),this.dialog.close(),this.editor.view.focus()}get titleText(){return this.localization.get(this.command)}setData(e,t){"createLink"===this.command&&this.linkForm.addControl("target",new sl);const o=((i,n)=>{const e=w9(i,n),t=e.filter(o=>!!o);return e.length===t.length?e[0]:void 0})(e,e.schema.marks.link);if(o)this.linkForm.reset({href:o.attrs.href,title:o.attrs.title,target:_O(o.attrs.target),text:this.setLinkText(e)});else if(e.selection.empty){const r=t.applyToWord?Nre(e,()=>{},t).state:e;r.selection.empty||this.linkForm.patchValue({text:qx(r)})}else this.linkForm.patchValue({text:qx(e)})}textForWithPrefix(e){return this.textFor(("createLink"===this.command?"link":"file")+e)}textFor(e){return this.localization.get(e)}setLinkText(e){const t=e.selection;if(t.empty&&t.$cursor){const o=t.$cursor,r=o.index();return o.parent.child(r).text}return qx(e)}getData(){const e=this.linkForm.value;return _O(this.linkForm.controls.target)&&(e.target=e.target?"_blank":null),e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(sf),s.rXU(gn))},i.\u0275cmp=s.VBU({type:i,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&s.GBs(mjt,5),2&e){let o;s.mGM(o=s.lsd())&&(t.hrefInput=o.first)}},inputs:{editor:"editor",command:"command"},features:[s.Vt3],decls:21,vars:13,consts:[["hrefInput",""],["textInput",""],["titleInput",""],[3,"close"],["novalidate","",1,"k-form","k-form-md",3,"formGroup"],["labelCssClass","k-form-label",3,"for","text"],["formControlName","href"],["formControlName","text"],["formControlName","title"],[4,"ngIf"],["layout","start"],["kendoButton","",3,"click","disabled","primary"],["kendoButton","",3,"click"],[1,"k-checkbox-wrap"],["id","k-target-blank","type","checkbox","kendoCheckBox","","formControlName","target"],["for","k-target-blank",1,"k-checkbox-label",3,"labelClass"]],template:function(e,t){if(1&e){const o=s.RV6();s.j41(0,"kendo-dialog-titlebar",3),s.bIt("close",function(){return s.eBV(o),s.Njj(t.onCancelAction())}),s.EFF(1),s.k0s(),s.j41(2,"form",4)(3,"kendo-formfield"),s.nrm(4,"kendo-label",5)(5,"kendo-textbox",6,0),s.k0s(),s.j41(7,"kendo-formfield"),s.nrm(8,"kendo-label",5)(9,"kendo-textbox",7,1),s.k0s(),s.j41(11,"kendo-formfield"),s.nrm(12,"kendo-label",5)(13,"kendo-textbox",8,2),s.k0s(),s.DNE(15,_jt,7,2,"ng-container",9),s.k0s(),s.j41(16,"kendo-dialog-actions",10)(17,"button",11),s.bIt("click",function(){return s.eBV(o),s.Njj(t.onConfirmAction())}),s.EFF(18),s.k0s(),s.j41(19,"button",12),s.bIt("click",function(){return s.eBV(o),s.Njj(t.onCancelAction())}),s.EFF(20),s.k0s()()}if(2&e){const o=s.sdS(6),r=s.sdS(10),a=s.sdS(14);s.R7$(),s.SpI(" ",t.titleText," "),s.R7$(),s.Y8G("formGroup",t.linkForm),s.R7$(2),s.Y8G("for",o)("text",t.textForWithPrefix("WebAddress")),s.R7$(4),s.Y8G("for",r)("text",t.textForWithPrefix("Text")),s.R7$(4),s.Y8G("for",a)("text",t.textForWithPrefix("Title")),s.R7$(3),s.Y8G("ngIf","createLink"===t.command),s.R7$(2),s.Y8G("disabled",t.linkForm.invalid)("primary",!0),s.R7$(),s.JRh(t.textFor("dialogInsert")),s.R7$(2),s.JRh(t.textFor("dialogCancel"))}},dependencies:[bd,ol,pf,xh,Cd,Ht,Ps,Ls,xI,Di,QG,q,xD,Oq,d0],encapsulation:2}),i})();let $n=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),ei=(()=>{class i{constructor(e){this.zone=e,this.needsCheck=new Ke.B}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(s.SKi))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();class G$t{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class U$t extends G$t{constructor(n,e,t){super(),this.cleanedHtml=n,this.originalHtml=e,this.originalEvent=t}}let Z9=(()=>{class i{constructor(e,t){this.hostEl=e,this.zone=t,this.preventDefault=o=>{o.preventDefault()}}get hostElement(){return this.hostEl.nativeElement}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{this.hostElement.addEventListener("pointerdown",this.preventDefault)})}ngOnDestroy(){this.hostElement.removeEventListener("pointerdown",this.preventDefault)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.SKi))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoEditorDropDownTool",""]]}),i})(),ez=(()=>{class i{constructor(){this.valueChange=new s.bkB}onValueChange(e){this.valueChange.emit(e)}focus(){this.dropDownList.focus()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-editor-format-dropdownlist"]],viewQuery:function(e,t){if(1&e&&(s.GBs(cp,7),s.GBs(cp,7,Ws)),2&e){let o;s.mGM(o=s.lsd())&&(t.element=o.first),s.mGM(o=s.lsd())&&(t.dropDownList=o.first)}},inputs:{data:"data",value:"value",defaultItem:"defaultItem",itemDisabled:"itemDisabled",title:"title",disabled:"disabled",tabindex:"tabindex"},outputs:{valueChange:"valueChange"},decls:3,vars:12,consts:[["element",""],["kendoEditorDropDownTool","",3,"valueChange","defaultItem","textField","valueField","data","value","valuePrimitive","itemDisabled","disabled","tabindex"],["kendoDropDownListItemTemplate",""],[3,"ngSwitch"],[3,"style",4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(e,t){if(1&e){const o=s.RV6();s.j41(0,"kendo-dropdownlist",1,0),s.mxI("valueChange",function(a){return s.eBV(o),s.DH7(t.value,a)||(t.value=a),s.Njj(a)}),s.bIt("valueChange",function(a){return s.eBV(o),s.Njj(t.onValueChange(a))}),s.DNE(2,wjt,9,8,"ng-template",2),s.k0s()}2&e&&(s.xc7("width",13,"em"),s.Y8G("defaultItem",t.defaultItem)("textField","text")("valueField","tag")("data",t.data),s.R50("value",t.value),s.Y8G("valuePrimitive",!0)("itemDisabled",t.itemDisabled)("disabled",t.disabled)("tabindex",t.tabindex),s.BMQ("title",t.title))},dependencies:[Ws,Z9,Na,wa,od,Yt],encapsulation:2}),i})(),WPe=(()=>{class i extends r_{constructor(e,t){super(e),this.dialog=e,this.localization=t,this.data=[]}ngAfterViewInit(){Promise.resolve(null).then(()=>{this.formatDropDownList.dropDownList.focus()})}onCancelAction(){this.dialog.close()}onConfirmAction(){this.value&&this.editor.exec("format",{tag:this.value}),this.dialog.close()}setData(e){this.editor=e.editor,this.data=e.data,this.defaultItem=e.defaultItem,this.value=e.value,this.itemDisabled=e.itemDisabled}textFor(e){return this.localization.get(e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(sf),s.rXU(gn))},i.\u0275cmp=s.VBU({type:i,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&s.GBs(GPe,7,ez),2&e){let o;s.mGM(o=s.lsd())&&(t.formatDropDownList=o.first)}},inputs:{editor:"editor"},features:[s.Vt3],decls:10,vars:10,consts:[["formatDropDownList",""],[3,"close"],[3,"valueChange","defaultItem","data","value","itemDisabled"],["layout","start"],["kendoButton","",3,"click","primary"],["kendoButton","",3,"click"]],template:function(e,t){if(1&e){const o=s.RV6();s.j41(0,"kendo-dialog-titlebar",1),s.bIt("close",function(){return s.eBV(o),s.Njj(t.onCancelAction())}),s.EFF(1),s.k0s(),s.j41(2,"div")(3,"kendo-editor-format-dropdownlist",2,0),s.mxI("valueChange",function(a){return s.eBV(o),s.DH7(t.value,a)||(t.value=a),s.Njj(a)}),s.k0s()(),s.j41(5,"kendo-dialog-actions",3)(6,"button",4),s.bIt("click",function(){return s.eBV(o),s.Njj(t.onConfirmAction())}),s.EFF(7),s.k0s(),s.j41(8,"button",5),s.bIt("click",function(){return s.eBV(o),s.Njj(t.onCancelAction())}),s.EFF(9),s.k0s()()}2&e&&(s.R7$(),s.SpI(" ",t.textFor("format")," "),s.R7$(),s.xc7("text-align","center"),s.R7$(),s.Y8G("defaultItem",t.defaultItem)("data",t.data),s.R50("value",t.value),s.Y8G("itemDisabled",t.itemDisabled),s.R7$(3),s.Y8G("primary",!0),s.R7$(),s.JRh(t.textFor("dialogApply")),s.R7$(2),s.JRh(t.textFor("dialogCancel")))},dependencies:[bd,ez,Cd,Ht],encapsulation:2}),i})(),KPe=(()=>{class i extends yo{constructor(e,t,o,r,a){super(),this.dialogService=e,this.localization=t,this.toolsService=r,this.renderer=a,this.disabled=!1,this.tabindex=-1,this.valueChange=new s.bkB,this._data=[{text:"Paragraph",tag:"p"},{text:"Heading 1",tag:"h1"},{text:"Heading 2",tag:"h2"},{text:"Heading 3",tag:"h3"},{text:"Heading 4",tag:"h4"},{text:"Heading 5",tag:"h5"},{text:"Heading 6",tag:"h6"}],this.applyFormatSVGIcon=iY,this.editor=o.editor}set data(e){this._data=e||this._data}get data(){return this._data}ngOnInit(){this.itemDisabled=e=>!(this.overflows||!this.formatDropDownList||this.formatDropDownList.dropDownList.isOpen)||null===e.dataItem.tag,setTimeout(()=>{this.defaultItem={text:this.title,tag:null},this.toolsService.needsCheck.next()}),this.subs=this.editor.stateChange.subscribe(({format:e})=>{const t=this.data.findIndex(o=>o.tag===e.selected.tag);this.value=-1!==t?e.selected.tag:null,this.disabled=e.disabled})}onValueChange(e){_O(e)&&(this.editor.exec("format",{tag:e}),this.editor.view.focus(),this.valueChange.emit(this.data.find(t=>t.tag===e)))}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}get outerWidth(){const e=this.formatDropDownList.element;if(e)return g4(e.nativeElement)}get title(){return this.localization.get("format")}openDialog(){const e={appendTo:this.editor.dialogContainer,content:WPe,width:400};this.editor.toolbar.toggle(!1);const t=this.dialogService.open(e).content.instance;this.renderer.addClass(t.dialog.dialog.instance.wrapper.nativeElement.querySelector(".k-window"),"k-editor-window"),t.setData({editor:this.editor,data:this.data,defaultItem:this.defaultItem,value:this.value,itemDisabled:this.itemDisabled})}canFocus(){return!this.disabled}focus(){this.tabindex=0,this.overflows?this.formatButton.nativeElement.focus():this.formatDropDownList.focus()}handleKey(){return this.tabindex=-1,!1}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(a_),s.rXU(gn),s.rXU($n),s.rXU(ei),s.rXU(s.sFG))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-toolbar-dropdownlist","kendoEditorFormat",""]],viewQuery:function(e,t){if(1&e&&(s.GBs(m4,7),s.GBs(_4,7),s.GBs(GPe,5),s.GBs(kjt,5,s.aKT)),2&e){let o;s.mGM(o=s.lsd())&&(t.toolbarTemplate=o.first),s.mGM(o=s.lsd())&&(t.popupTemplate=o.first),s.mGM(o=s.lsd())&&(t.formatDropDownList=o.first),s.mGM(o=s.lsd())&&(t.formatButton=o.first)}},inputs:{data:"data"},outputs:{valueChange:"valueChange"},features:[s.Jv_([{provide:yo,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],attrs:Ojt,decls:4,vars:0,consts:[["toolbarTemplate",""],["popupTemplate",""],["formatDropDownList",""],["formatButton",""],[3,"valueChange","defaultItem","data","value","itemDisabled","title","disabled","tabindex"],["role","menuitem",1,"k-item","k-menu-item",3,"click","tabindex"],[1,"k-link","k-menu-link"],["name","apply-format",3,"svgIcon"],["class","k-menu-link-text",4,"ngIf"],[1,"k-menu-link-text"]],template:function(e,t){1&e&&s.DNE(0,Tjt,2,7,"ng-template",null,0,s.C5r)(2,Ijt,5,5,"ng-template",null,1,s.C5r)},dependencies:[ez,Qe,q],encapsulation:2}),i})(),tz=(()=>{class i extends yi{}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275dir=s.FsC({type:i,selectors:[["","kendoEditorMessages",""]],inputs:{alignCenter:"alignCenter",alignJustify:"alignJustify",alignLeft:"alignLeft",alignRight:"alignRight",backColor:"backColor",blockquote:"blockquote",bold:"bold",cleanFormatting:"cleanFormatting",createLink:"createLink",fontFamily:"fontFamily",fontSize:"fontSize",foreColor:"foreColor",format:"format",indent:"indent",insertFile:"insertFile",insertImage:"insertImage",insertOrderedList:"insertOrderedList",insertUnorderedList:"insertUnorderedList",italic:"italic",outdent:"outdent",print:"print",redo:"redo",selectAll:"selectAll",strikethrough:"strikethrough",subscript:"subscript",superscript:"superscript",underline:"underline",undo:"undo",unlink:"unlink",viewSource:"viewSource",insertTable:"insertTable",insertTableHint:"insertTableHint",addColumnBefore:"addColumnBefore",addColumnAfter:"addColumnAfter",addRowBefore:"addRowBefore",addRowAfter:"addRowAfter",deleteColumn:"deleteColumn",deleteRow:"deleteRow",deleteTable:"deleteTable",mergeCells:"mergeCells",splitCell:"splitCell",dialogApply:"dialogApply",dialogCancel:"dialogCancel",dialogInsert:"dialogInsert",dialogUpdate:"dialogUpdate",fileText:"fileText",fileTitle:"fileTitle",fileWebAddress:"fileWebAddress",imageAltText:"imageAltText",imageHeight:"imageHeight",imageWebAddress:"imageWebAddress",imageWidth:"imageWidth",linkOpenInNewWindow:"linkOpenInNewWindow",linkText:"linkText",linkTitle:"linkTitle",linkWebAddress:"linkWebAddress"},features:[s.Vt3]}),i})(),YPe=(()=>{class i extends tz{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoEditorLocalizedMessages",""]],features:[s.Jv_([{provide:tz,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})();const Yae={alignCenter:"align-center",alignJustify:"align-justify",alignLeft:"align-left",alignRight:"align-right",backColor:"droplet",blockquote:"blockquote",bold:"bold",cleanFormatting:"clear-css",createLink:"link",foreColor:"foreground-color",indent:"indent",insertFile:"file-add",insertImage:"image",insertOrderedList:"list-ordered",insertUnorderedList:"list-unordered",italic:"italic",outdent:"outdent",print:"print",redo:"redo",selectAll:"select-all",strikethrough:"strikethrough",subscript:"subscript",superscript:"supscript",underline:"underline",undo:"undo",unlink:"unlink",viewSource:"code",insertTable:"table-add",addColumnBefore:"table-column-insert-left",addColumnAfter:"table-column-insert-right",addRowBefore:"table-row-insert-above",addRowAfter:"table-row-insert-below",deleteRow:"table-row-delete",deleteColumn:"table-column-delete",mergeCells:"cells-merge",splitCell:"cell-split-horizontally",deleteTable:"table-delete"},Jae={alignCenter:{name:"align-center",content:'<path d="M448 96H64V64h384zm-64 64H128v-32h256zm64 64H64v-32h384zm-64 64H128v-32h256zm64 64H64v-32h384zm-64 64H128v-32h256z" />',viewBox:"0 0 512 512"},alignJustify:{name:"align-justify",content:'<path d="M448 160H64v-32h384zm0-96H64v32h384zM64 352h384v-32H64zm0-64h384v-32H64zm0-64h384v-32H64zm0 192h384v-32H64z" />',viewBox:"0 0 512 512"},alignLeft:{name:"align-left",content:'<path d="M448 96H64V64h384zm-96 32H64v32h288zm96 64H64v32h384zm-96 64H64v32h288zm96 64H64v32h384zm-96 64H64v32h288z" />',viewBox:"0 0 512 512"},alignRight:{name:"align-right",content:'<path d="M64 192h384v32H64zm384-96V64H64v32zm-288 64h288v-32H160zM64 320v32h384v-32zm96-32h288v-32H160zm0 96v32h288v-32z" />',viewBox:"0 0 512 512"},backColor:{name:"droplet",content:'<path d="M256 384v32c-53 0-96-43-96-96h32c0 35.3 28.7 64 64 64m160-72c0 92.8-71.6 168-160 168S96 404.8 96 312C96 181.3 256 32 256 32s160 149.3 160 280m-32 0c0-46.3-25.3-104.7-73-169-20-27-40.3-49.8-55-65.4-14.7 15.6-34.9 38.5-55 65.4-47.8 64.3-73 122.8-73 169 0 75 57.4 136 128 136s128-61 128-136" />',viewBox:"0 0 512 512"},blockquote:{name:"right-double-quotes",content:'<path d="M136 100.2c-57.4 0-104 46.6-104 104s46.6 104 104 104c20.1 0 38.9-5.7 54.8-15.6-14.2 30.5-37.4 55.2-69.2 73.7-44 25.6-89.1 29.6-89.6 29.6l1.3 15.9 1.3 15.9c2.1-.2 51.8-4.4 102-33.2 47.1-27 103.3-81.3 103.3-186.1.1-1.4.1-2.8.1-4.3 0-57.3-46.6-103.9-104-103.9m344 104c0-57.4-46.6-104-104-104s-104 46.6-104 104 46.6 104 104 104c20.1 0 38.9-5.7 54.8-15.6-14.2 30.5-37.4 55.2-69.2 73.7-44 25.6-89.1 29.6-89.6 29.6l2.6 31.9c2.1-.2 51.8-4.4 102-33.2 47.1-27 103.3-81.3 103.3-186.1.1-1.4.1-2.8.1-4.3" />',viewBox:"0 0 512 512"},bold:{name:"bold",content:'<path d="M128 96h115.8c25.3 0 44.2 1.1 56.6 3.2 12.4 2.1 23.6 6.5 33.4 13.2 9.8 6.7 18 15.6 24.6 26.7 6.6 11.1 9.8 23.6 9.8 37.4 0 15-4.1 28.7-12.1 41.2-8.1 12.5-19.1 21.9-32.9 28.2 19.5 5.7 34.5 15.4 45 29s15.7 29.8 15.7 48.2c0 14.6-3.4 28.7-10.2 42.4-6.7 13.8-16 24.8-27.7 33s-26.1 13.3-43.3 15.2c-10.8 1.2-36.7 1.9-78 2.2H128zm64 53v74h30.9c25.2 0 40.8-.4 46.9-1.1 11.1-1.3 19.7-5.2 26.1-11.5 6.3-6.3 9.5-14.7 9.5-25 0-9.9-2.7-18-8.2-24.1-5.5-6.2-13.6-10-24.4-11.2-6.4-.7-24.8-1.1-55.2-1.1zm0 127.1V362h48.6c23.4 0 38.1-.7 44.5-2 9.6-1.8 17.5-6 23.6-12.8 6.1-6.8 9-15.9 9-27.3 0-9.6-2.3-17.9-7-24.6-4.7-6.7-11.4-11.6-20.3-14.7-8.8-3.1-28-4.6-57.5-4.6z" />',viewBox:"0 0 512 512"},cleanFormatting:{name:"clear-css",content:'<path d="M402.784 290.235 221.765 109.216l22.627-22.627c12.445-12.445 32.81-12.445 45.255 0l22.627 22.627 67.882-67.882c12.445-12.445 32.81-12.445 45.255 0l45.255 45.255c12.445 12.445 12.445 32.81 0 45.255l-67.882 67.882 22.627 22.627c12.445 12.445 12.445 32.81 0 45.255zm-21.8 23.455-181.02-181.019c-12.346-12.346-32.483-12.437-44.953-.287L54.627 32 32 54.627l100.074 100.074-91.819 89.362S18.585 267.482 0 248.898l221.274 221.76c12.467 12.467 32.81 12.445 45.255 0l91.851-89.651L457.373 480 480 457.373l-98.73-98.73c12.151-12.47 12.06-32.607-.286-44.953" />',viewBox:"0 0 512 512"},createLink:{name:"link",content:'<path d="M384 384c-47.4 0-88.7-25.8-110.8-64H384c35.4 0 64-28.6 64-64s-28.7-64-64-64H273.2c22.1-38.2 63.5-64 110.8-64 70.7 0 128 57.3 128 128s-57.3 128-128 128M96 256c0-17.7 14.3-32 32-32h256c17.7 0 32 14.3 32 32s-14.3 32-32 32H128c-17.7 0-32-14.3-32-32m-32 0c0 35.4 28.6 64 64 64h110.8c-22.1 38.2-63.5 64-110.8 64C57.3 384 0 326.7 0 256s57.3-128 128-128c47.4 0 88.7 25.8 110.8 64H128c-35.4 0-64 28.6-64 64" />',viewBox:"0 0 512 512"},foreColor:{name:"foreground-color",content:'<path d="M299.5 96h-87.1L96 416h64l23.3-64h145.4l23.3 64h64zm-92.9 192L256 152.2 305.4 288z" />',viewBox:"0 0 512 512"},indent:{name:"indent",content:'<path d="M480 64H32V32h448zm0 32H224v32h256zm0 64H224v32h256zm0 64H224v32h256zm0 64H224v32h256zm0 64H224v32h256zm0 64H32v32h448zM160 240 32 128v224z" />',viewBox:"0 0 512 512"},insertFile:{name:"file-add",content:'<path d="M512 416h-64v64h-32v-64h-64v-32h64v-64h32v64h64zM96 448V64h224v96h96v96h32V128l-96-96H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h224v-32" />',viewBox:"0 0 512 512"},insertImage:CG,insertOrderedList:{name:"list-ordered",content:'<path d="M192 64h288v32H192zm0 160h288v32H192zm0 160h288v32H192zM96 32v128H64V64c-1.5 1.3-14.9 7.8-22.1 10V50.8c7.2-2.1 13.9-4.8 20.3-8 6.3-3.3 12.1-6.8 17.2-10.7zM66.7 297h61.1v23H32v-9.5c0-6.4 1.2-12.2 3.7-17.3 2.5-5.1 5.6-9.7 9.3-13.8 3.7-4.1 7.8-7.7 12.3-10.8 4.5-3.1 8.7-6 12.7-8.5 4.2-2.6 7.9-5.1 11.1-7.6 3.2-2.4 5.9-4.8 8-7.2 2.2-2.4 3.8-4.8 4.9-7.2s1.6-5 1.6-7.8c0-5.4-1.7-9.5-5.2-12.2-3.5-2.8-8.8-4.1-16-4.1-12.4 0-24.2 4.3-35.5 12.9v-24.4c12.5-7.1 26.6-10.6 42.4-10.6 7.3 0 13.8.8 19.6 2.5 5.8 1.7 10.7 4.1 14.7 7.2 4 3.1 7.1 6.9 9.2 11.3 2.1 4.4 3.2 9.3 3.2 14.8 0 5.8-1 10.9-3.1 15.5-2 4.5-4.8 8.6-8.1 12.3-3.4 3.7-7.3 7.1-11.7 10.1-4.4 3.1-9 6-13.8 8.9-3.2 2-6.3 4-9.3 5.9-3 2-5.6 3.9-7.9 5.8s-4.1 3.8-5.4 5.6c-1.3 1.8-2 3.6-2 5.2M32 473.8V450c10.1 6 21.8 9.1 35.3 9.1 8.5 0 15.1-1.5 19.8-4.5 4.7-3 7.1-7.2 7.1-12.5 0-5.5-2.9-9.8-8.8-12.8-5.8-3-13.9-4.5-24.1-4.5h-14V404h12.9c19.6 0 29.4-5.4 29.4-16.1 0-10.1-7.5-15.1-22.6-15.1-10.1 0-19.9 2.7-29.4 8v-22.3c10.6-4.4 22.9-6.6 37-6.6 15.4 0 27.4 2.8 36 8.5s12.9 13.1 12.9 22.2c0 16.2-10 26.3-29.9 30.4v.4c10.6 1.1 19 4.3 25.2 9.5 6.2 5.3 9.2 11.7 9.2 19.4 0 11.6-5.1 20.7-15.4 27.4S88.1 480 69.9 480c-15.5 0-28.2-2.1-37.9-6.2" />',viewBox:"0 0 512 512"},insertUnorderedList:{name:"list-unordered",content:'<path d="M192 64h288v32H192zm0 160h288v32H192zm0 160h288v32H192zM80 32c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48m0 160c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48m0 160c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48" />',viewBox:"0 0 512 512"},italic:{name:"italic",content:'<path d="m377.2 128 6.8-32H198.8l-6.8 32h59.2l-54.4 256h-62l-6.8 32h185.2l6.8-32h-59.2l54.4-256z" />',viewBox:"0 0 512 512"},outdent:{name:"outdent",content:'<path d="M480 64H32V32h448zm0 32H224v32h256zm0 64H224v32h256zm0 64H224v32h256zm0 64H224v32h256zm0 64H224v32h256zm0 64H32v32h448zm-320-64V128L32 240z" />',viewBox:"0 0 512 512"},print:{name:"print",content:'<path d="M448 160h-32V96l-64-64H128c-17.7 0-32 14.3-32 32v96H64c-17.6 0-32 14.4-32 32v160c0 17.6 14.4 32 32 32h32v64c0 17.6 14.4 32 32 32h256c17.6 0 32-14.4 32-32v-64h32c17.6 0 32-14.4 32-32V192c0-17.6-14.4-32-32-32M128 64h192v64h64v64H128zm320 256h-64v127.9l-.1.1H128.1l-.1-.1V320H64v-32h384zm-288 0h192v32H160zm0 64h160v32H160z" />',viewBox:"0 0 512 512"},redo:{name:"redo",content:'<path d="M256 192V64l224 192-224 192V320c-87.2 0-166.2 39.4-223.9 96C34.5 294.4 133.9 192 256 192" />',viewBox:"0 0 512 512"},selectAll:{name:"select-all",content:'<path d="M448 448h32v32h-32zm0-448h32v32h-32zM0 448h32v32H0zM0 0h32v32H0zm448 384h32v32h-32zm0-64h32v32h-32zm0-64h32v32h-32zm0-64h32v32h-32zm0-64h32v32h-32zm0-64h32v32h-32zM0 384h32v32H0zm0-64h32v32H0zm0-64h32v32H0zm0-64h32v32H0zm0-64h32v32H0zm0-64h32v32H0zm128 384h32v32h-32zm-64 0h32v32H64zm128 0h32v32h-32zm64 0h32v32h-32zm64 0h32v32h-32zm64 0h32v32h-32zM64 0h32v32H64zm64 0h32v32h-32zm64 0h32v32h-32zm64 0h32v32h-32zm64 0h32v32h-32zm64 0h32v32h-32zm-96 64 53.4 53.4L240 218.9 138.6 117.4 192 64H64v128l53.5-53.5L218.9 240 117.5 341.5 64 288v128h128l-53.4-53.4L240 261.1l101.4 101.5L288 416h128V288l-53.5 53.5L261.1 240l101.4-101.5L416 192V64z" />',viewBox:"0 0 512 512"},strikethrough:{name:"strikethrough",content:'<path d="M393.9 320c.1-23.9 4.5-41.4 13.5-52.5 9.1-11.1 20.8-16.7 35.3-16.7 9.6 0 17.7 3.1 24.5 9.3 6.8 6.2 11.4 15.4 14.1 27.7l27.9-4.7c-3.3-18.4-10.8-32.7-22.5-42.7s-26.8-15-45.2-15c-14.5 0-28.1 3.6-40.4 11.1-12.4 7.4-21.6 18.5-27.7 33.2-5.9 14.4-8.9 31.2-9.1 50.4h-25.5v-2.2c0-13.2-1.7-25.6-5.1-37.1-3.4-11.5-8.1-21.4-14.2-29.6-6-8.1-13.7-14.5-23-19s-19.2-6.8-29.6-6.8c-18.9 0-34.3 8.2-46.4 24.6v-90H192v160h-45v-25.8c0-13.7-.5-23.3-1.4-28.5-1.7-8.5-4.7-15.5-9-21.1-4.3-5.5-10.9-10.2-19.9-13.8-9-3.6-20.8-5.5-35.3-5.5-14.6 0-27.4 2.1-38.5 6.4-11.1 4.3-19.5 10.4-25.4 18.4-5.8 8-10 18.4-12.6 31.4l28.1 4.1c3.1-13 7.8-22 14.3-27.1s16.4-7.7 29.9-7.7c14.5 0 25.4 3.5 32.7 10.5 5.4 5.1 8.1 14 8.1 26.6 0 1.1 0 3.8-.2 8.1-11 4.1-28 7.7-51.2 10.7-11.4 1.5-19.9 3-25.5 4.7-6.7 2-12.9 4.9-18.5 8.6H0v32h1.2c-.8 3.8-1.2 7.7-1.2 11.8 0 15.2 5 27.8 15 37.6S39.3 416 57.9 416c11.3 0 21.8-1.9 31.6-6s20.1-10.9 30.7-20.6h.1c.8 8.6 2.7 20.3 5.7 26.7h30c-3.6-7-6-18.4-7.3-26.1-1-6-1.6-18.7-1.8-37.9h45v64h26.6V389c11.4 18 27.1 27 47.1 27 20.1 0 37.3-8.5 51.7-25.6 8.6-10.2 14.6-23 18-38.3h31.8c3.3 16 9.4 29.2 18.3 39.5 14.1 16.3 32.7 24.5 55.9 24.5 18.5 0 34.1-6 46.8-17.8 12.1-11.3 19.8-26.7 23.2-46.2h.5v-32H393.9zm-280.7 42.6c-4.1 9-10.4 16.1-19 21.4-8.6 5.2-18.4 7.8-29.5 7.8-11.2 0-19.6-2.8-25.4-8.2-5.8-5.6-8.7-12.4-8.7-20.7 0-3.9.7-7.5 2.1-10.9h83.6c-.7 4.1-1.8 7.7-3.1 10.6m105.1-43.3c0-22.2 4.6-39.2 13.7-50.9 9.1-11.8 20-17.6 32.5-17.6s23.1 5.6 31.8 17c8.8 11.3 13.1 28.7 13.2 52.3h-91.3c.1-.3.1-.6.1-.8m77.6 53.6c-9.1 11.8-20 17.7-32.5 17.7-15.5 0-27.7-8-36.7-23.9-2.2-3.9-4-8.8-5.3-14.7H306c-2.4 8.3-5.7 15.3-10.1 20.9m173.5 6.6c-7.5 7.5-16.9 11.2-28.2 11.2-14 0-25.4-5.6-34.1-16.7-4.4-5.6-7.7-12.9-9.9-21.9h85.5c-2.6 11.9-7 21.1-13.3 27.4" />',viewBox:"0 0 512 512"},subscript:{name:"subscript",content:'<path d="m198.6 304 89.4 89.4-22.6 22.6-89.4-89.4L86.6 416 64 393.4l89.4-89.4L64 214.6 86.6 192l89.4 89.4 89.4-89.4 22.6 22.6zm167.7 144h81.4v32H320v-11.9c0-8 1.7-15.3 5-21.7 3.3-6.4 7.5-12.1 12.5-17.2s10.5-9.6 16.4-13.5c5.9-3.9 11.6-7.4 16.9-10.6 5.6-3.3 10.6-6.4 14.8-9.4 4.2-3 7.8-6 10.7-8.9 2.9-3 5.1-6 6.5-9 1.4-3 2.1-6.3 2.1-9.7 0-6.7-2.3-11.8-7-15.3-4.6-3.4-11.7-5.2-21.3-5.2-16.5 0-32.3 5.4-47.4 16.1v-30.5c16.7-8.9 35.5-13.3 56.5-13.3 9.7 0 18.5 1 26.2 3.1 7.7 2.1 14.3 5.1 19.6 8.9 5.4 3.9 9.4 8.6 12.3 14.1 2.8 5.5 4.2 11.7 4.2 18.5 0 7.2-1.4 13.7-4.1 19.3-2.7 5.6-6.3 10.8-10.8 15.4-4.5 4.6-9.7 8.8-15.6 12.7-5.9 3.8-12 7.6-18.3 11.1-4.3 2.5-8.4 5-12.4 7.4-4 2.5-7.5 4.9-10.5 7.2-3.1 2.6-7.1 6.6-10 10.4" />',viewBox:"0 0 512 512"},superscript:{name:"supscript",content:'<path d="m198.6 304 89.4 89.4-22.6 22.6-89.4-89.4L86.6 416 64 393.4l89.4-89.4L64 214.6 86.6 192l89.4 89.4 89.4-89.4 22.6 22.6zm167.7-112h81.4v32H320v-11.9c0-8 1.7-15.3 5-21.7s7.5-12.1 12.5-17.2 10.5-9.6 16.4-13.5 11.6-7.4 16.9-10.6c5.6-3.3 10.6-6.4 14.8-9.4 4.2-3 7.8-6 10.7-8.9 2.9-3 5.1-6 6.5-9s2.1-6.3 2.1-9.7c0-6.7-2.3-11.8-7-15.3-4.6-3.4-11.7-5.2-21.3-5.2-16.5 0-32.3 5.4-47.4 16.1V77.3c16.7-8.9 35.5-13.3 56.5-13.3 9.7 0 18.5 1 26.2 3.1s14.3 5.1 19.6 8.9c5.4 3.9 9.4 8.6 12.3 14.1 2.8 5.5 4.2 11.7 4.2 18.5 0 7.2-1.4 13.7-4.1 19.3-2.7 5.6-6.3 10.8-10.8 15.4-4.5 4.6-9.7 8.8-15.6 12.7-5.9 3.8-12 7.6-18.3 11.1-4.3 2.5-8.4 5-12.4 7.4-4 2.5-7.5 4.9-10.5 7.2-3.1 2.5-7.1 6.5-10 10.3" />',viewBox:"0 0 512 512"},underline:{name:"underline",content:'<path d="M128 416h256v32H128zM320 64v224c0 11.6-3.5 16-10.3 20.3-11.8 7.4-31.3 11.7-53.7 11.7s-41.9-4.3-53.7-11.7c-6.8-4.3-10.3-8.7-10.3-20.3V64h-64v224c0 70.4 64.3 96 128 96s128-25.6 128-96V64z" />',viewBox:"0 0 512 512"},undo:{name:"undo",content:'<path d="M479.9 416c-57.7-56.6-136.7-96-223.9-96v128L32 256 256 64v128c122.2 0 221.5 102.4 223.9 224" />',viewBox:"0 0 512 512"},unlink:{name:"unlink",content:'<path d="M384 384c-47.4 0-88.7-25.8-110.8-64H384c35.4 0 64-28.6 64-64s-28.7-64-64-64H273.2c22.1-38.2 63.5-64 110.8-64 70.7 0 128 57.3 128 128s-57.3 128-128 128M64 256c0 35.4 28.6 64 64 64h110.8c-22.1 38.2-63.5 64-110.8 64C57.3 384 0 326.7 0 256s57.3-128 128-128c47.4 0 88.7 25.8 110.8 64H128c-35.3 0-64 28.6-64 64M272 97.6V0h-32v97.6c5.2-1 10.5-1.6 16-1.6s10.8.6 16 1.6m-60.1 11.7-69-69-22.6 22.6 69 69c5.9-9 13.6-16.7 22.6-22.6m110.8 22.6 69-69-22.6-22.6-69 69c9 5.9 16.7 13.6 22.6 22.6M256 416c-5.5 0-10.8-.6-16-1.6V512h32v-97.6c-5.2 1-10.5 1.6-16 1.6m-66.7-35.9-69 69 22.6 22.6 69-69c-9-5.9-16.7-13.6-22.6-22.6m110.8 22.6 69 69 22.6-22.6-69-69c-5.9 9-13.6 16.7-22.6 22.6" />',viewBox:"0 0 512 512"},viewSource:{name:"code-snippet",content:'<path d="M416 32V0h-32v32h-32V0h-32v32h-32V0h-32v32h-32V0h-32v32h-32V0h-32v32H96V0H64v32H32v32H0v32h32v32H0v32h32v32H0v32h32v32H0v32h32v32H0v32h32v32H0v32h32v32h32v32h32v-32h32v32h32v-32h32v32h32v-32h32v32h32v-32h32v32h32v-32h32v32h32v-32h32v-32h32v-32h-32v-32h32v-32h-32v-32h32v-32h-32v-32h32v-32h-32v-32h32v-32h-32V96h32V64h-32V32zm0 256v128H64V64h352zM32 0v32H0V0zM0 448h32v32H0zm198.6-265.4L141.3 240l57.4 57.4L176 320l-80-80 80-80zM304 160l80 80-80 80-22.6-22.6 57.4-57.4-57.4-57.4zM480 32h-32V0h32zm-32 448v-32h32v32z" />',viewBox:"0 0 512 512"},insertTable:{name:"table-add",content:'<path d="M448 320V32H32v416h288V320zm-288 96H64v-96h96zm0-128H64v-96h96zm0-128H64V64h96zm128 256h-96v-96h96zm0-128h-96v-96h96zm0-128h-96V64h96zm32-96h96v96h-96zm0 224v-96h96v96zm192 128v32h-64v64h-32v-64h-64v-32h64v-64h32v64z" />',viewBox:"0 0 512 512"},addColumnBefore:{name:"table-column-insert-left",content:'<path d="M32 480V0h128v480zM480 32v416H192V32zM224 160h96V64h-96zm0 128h96v-96h-96zm0 128h96v-96h-96zm224-96h-96v96h96zm0-32v-96h-96v96zm0-224h-96v96h96z" />',viewBox:"0 0 512 512"},addColumnAfter:{name:"table-column-insert-right",content:'<path d="M352 480V0h128v480zM320 32v416H32V32zm-32 32h-96v96h96zm0 128h-96v96h96zm0 128h-96v96h96zM64 416h96v-96H64zm96-128v-96H64v96zM64 160h96V64H64z" />',viewBox:"0 0 512 512"},addRowBefore:{name:"table-row-insert-above",content:'<path d="M480 160H0V32h480zM32 192h416v288H32zm32 32v96h96v-96zm128 0v96h96v-96zm128 0v96h96v-96zm96 224v-96h-96v96zm-128-96h-96v96h96zm-128 96v-96H64v96z" />',viewBox:"0 0 512 512"},addRowAfter:{name:"table-row-insert-below",content:'<path d="M480 480H0V352h480zM32 32h416v288H32zm128 256v-96H64v96zm128 0v-96h-96v96zm128 0v-96h-96v96zM320 64v96h96V64zm-32 0h-96v96h96zM64 64v96h96V64z" />',viewBox:"0 0 512 512"},deleteRow:{name:"table-row-delete",content:'<path d="M224 192H0v128h224zm288 0h-64v128h64zm-32 160v128H64V352zm-288 96v-64H96v64zm128 0v-64h-96v64zm128 0v-64h-96v64zm32-416v128H64V32zm-288 96V64H96v64zm128 0V64h-96v64zm128 0V64h-96v64zm-89.373 128L416 313.373 393.373 336 336 278.627 278.627 336 256 313.373 313.373 256 256 198.627 278.627 176 336 233.373 393.373 176 416 198.627z" />',viewBox:"0 0 512 512"},deleteColumn:{name:"table-column-delete",content:'<path d="M192 288v224h128V288zm0-288v64h128V0zm160 32h128v416H352zm96 288h-64v96h64zm0-128h-64v96h64zm0-128h-64v96h64zM32 32h128v416H32zm96 288H64v96h64zm0-128H64v96h64zm0-128H64v96h64zm128 89.373L313.373 96 336 118.627 278.627 176 336 233.373 313.373 256 256 198.627 198.627 256 176 233.373 233.373 176 176 118.627 198.627 96z" />',viewBox:"0 0 512 512"},mergeCells:{name:"cells-merge",content:'<path d="M32 32v448h416V32zm160 32h96v64h-96zM64 64h96v64H64zm96 384H64v-64h96zm128 0h-96v-64h96zm128 0h-96v-64h96zm0-96H64V160h352zm0-224h-96V64h96z" />',viewBox:"0 0 512 512"},splitCell:{name:"cell-split-horizontally",content:'<path d="M32 32v416h416V32zm32 32h160v64H64zm160 160h-64v-64h64zM64 160h64v64H64zm0 96h160v64H64zm0 160v-64h160v64zm192-256h64v64h-64zm160 256H256v-64h160zm0-96H256v-64h160zm0-96h-64v-64h64zm0-96H256V64h160z" />',viewBox:"0 0 512 512"},deleteTable:{name:"table-delete",content:'<path d="M32 32v416h416V32zm384 128h-64v32h64v96h-64v32h64v96h-96v-64h-32v64h-96v-64h-32v64H64v-96h64v-32H64v-96h64v-32H64V64h96v64h32V64h96v64h32V64h96zm-153.4 80 57.4 57.4-22.6 22.6-57.4-57.4-57.4 57.4-22.6-22.6 57.4-57.4-57.4-57.4 22.6-22.6 57.4 57.4 57.4-57.4 22.6 22.6z" />',viewBox:"0 0 512 512"}},F$t=new s.nKC("COMMAND_TOKEN");let JPe=(()=>{class i{constructor(e,t,o,r,a){this.command=e,this.button=t,this.localization=o,this.toolsService=a,this.editor=r.editor,this.toolsService.zone.runOutsideAngular(()=>{setTimeout(()=>{const l=this.localization.get(this.command);l&&(this.button.showText="overflow",this.button.showIcon="both",this.button.text=l),this.button.toolbarOptions.icon||(this.button.icon=Yae[this.command]),this.button.toolbarOptions.svgIcon||(this.button.svgIcon=Jae[this.command]),this.button.title=l,this.toolsService.zone.run(()=>{this.toolsService.needsCheck.next()})})})}ngOnInit(){this.subs=this.editor.stateChange.subscribe(this.onStateChange.bind(this)),this.subs.add(this.button.click.subscribe(this.clickHandler.bind(this))),this.subs.add(this.button.pointerdown.subscribe(this.pointerdownHandler.bind(this)))}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}clickHandler(){}pointerdownHandler(e){}onStateChange(e){}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(F$t),s.rXU(Nn),s.rXU(z),s.rXU($n),s.rXU(ei))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoEditorCommandBase",""]]}),i})();class rs extends JPe{constructor(n,e,t,o,r){super(n,e,t,o,r),this.command=n,this.button=e,this.localization=t,this.providerService=o,this.toolsService=r}clickHandler(){this.editor.exec(this.command,this.editor.applyToWord),this.editor.focus()}pointerdownHandler(n){n.preventDefault()}onStateChange(n){this.providerService.editor.ngZone.onStable.pipe(We(1)).subscribe(()=>{this.button.selected=n[this.command].selected,this.button.disabled=n[this.command].disabled})}}let Eg=(()=>{class i extends rs{constructor(e,t,o,r){super("bold",e,t,o,r)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Nn),s.rXU(gn),s.rXU($n),s.rXU(ei))},i.\u0275dir=s.FsC({type:i,selectors:[["kendo-toolbar-button","kendoEditorBoldButton",""]],features:[s.Vt3]}),i})(),yg=(()=>{class i extends rs{constructor(e,t,o,r){super("italic",e,t,o,r)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Nn),s.rXU(gn),s.rXU($n),s.rXU(ei))},i.\u0275dir=s.FsC({type:i,selectors:[["kendo-toolbar-button","kendoEditorItalicButton",""]],features:[s.Vt3]}),i})(),Dg=(()=>{class i extends rs{constructor(e,t,o,r){super("underline",e,t,o,r)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Nn),s.rXU(gn),s.rXU($n),s.rXU(ei))},i.\u0275dir=s.FsC({type:i,selectors:[["kendo-toolbar-button","kendoEditorUnderlineButton",""]],features:[s.Vt3]}),i})(),qPe=(()=>{class i extends rs{constructor(e,t,o,r){super("alignLeft",e,t,o,r)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Nn),s.rXU(gn),s.rXU($n),s.rXU(ei))},i.\u0275dir=s.FsC({type:i,selectors:[["kendo-toolbar-button","kendoEditorAlignLeftButton",""]],features:[s.Vt3]}),i})(),QPe=(()=>{class i extends rs{constructor(e,t,o,r){super("alignCenter",e,t,o,r)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Nn),s.rXU(gn),s.rXU($n),s.rXU(ei))},i.\u0275dir=s.FsC({type:i,selectors:[["kendo-toolbar-button","kendoEditorAlignCenterButton",""]],features:[s.Vt3]}),i})(),ZPe=(()=>{class i extends rs{constructor(e,t,o,r){super("alignRight",e,t,o,r)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Nn),s.rXU(gn),s.rXU($n),s.rXU(ei))},i.\u0275dir=s.FsC({type:i,selectors:[["kendo-toolbar-button","kendoEditorAlignRightButton",""]],features:[s.Vt3]}),i})(),eGe=(()=>{class i extends rs{constructor(e,t,o,r){super("alignJustify",e,t,o,r)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Nn),s.rXU(gn),s.rXU($n),s.rXU(ei))},i.\u0275dir=s.FsC({type:i,selectors:[["kendo-toolbar-button","kendoEditorAlignJustifyButton",""]],features:[s.Vt3]}),i})(),wg=(()=>{class i extends rs{constructor(e,t,o,r){super("insertUnorderedList",e,t,o,r)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Nn),s.rXU(gn),s.rXU($n),s.rXU(ei))},i.\u0275dir=s.FsC({type:i,selectors:[["kendo-toolbar-button","kendoEditorInsertUnorderedListButton",""]],features:[s.Vt3]}),i})(),tGe=(()=>{class i extends rs{constructor(e,t,o,r){super("insertOrderedList",e,t,o,r)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Nn),s.rXU(gn),s.rXU($n),s.rXU(ei))},i.\u0275dir=s.FsC({type:i,selectors:[["kendo-toolbar-button","kendoEditorInsertOrderedListButton",""]],features:[s.Vt3]}),i})(),nGe=(()=>{class i extends rs{constructor(e,t,o,r){super("indent",e,t,o,r)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Nn),s.rXU(gn),s.rXU($n),s.rXU(ei))},i.\u0275dir=s.FsC({type:i,selectors:[["kendo-toolbar-button","kendoEditorIndentButton",""]],features:[s.Vt3]}),i})(),iGe=(()=>{class i extends rs{constructor(e,t,o,r){super("outdent",e,t,o,r)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Nn),s.rXU(gn),s.rXU($n),s.rXU(ei))},i.\u0275dir=s.FsC({type:i,selectors:[["kendo-toolbar-button","kendoEditorOutdentButton",""]],features:[s.Vt3]}),i})();class nz extends JPe{constructor(n,e,t,o,r){super(n,e,t,o,r),this.dialog=n,this.button=e,this.localization=t,this.providerService=o,this.toolsService=r}clickHandler(){this.editor.openDialog(this.dialog)}onStateChange(n){this.providerService.editor.ngZone.onStable.pipe(We(1)).subscribe(()=>{this.button.selected=n[this.command].selected,this.button.disabled=n[this.command].disabled})}}let kg=(()=>{class i extends nz{constructor(e,t,o,r){super("createLink",e,t,o,r)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Nn),s.rXU(gn),s.rXU($n),s.rXU(ei))},i.\u0275dir=s.FsC({type:i,selectors:[["kendo-toolbar-button","kendoEditorCreateLinkButton",""]],features:[s.Vt3]}),i})(),Og=(()=>{class i extends rs{constructor(e,t,o,r){super("unlink",e,t,o,r)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Nn),s.rXU(gn),s.rXU($n),s.rXU(ei))},i.\u0275dir=s.FsC({type:i,selectors:[["kendo-toolbar-button","kendoEditorUnlinkButton",""]],features:[s.Vt3]}),i})(),sGe=(()=>{class i extends nz{constructor(e,t,o,r){super("insertImage",e,t,o,r)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Nn),s.rXU(gn),s.rXU($n),s.rXU(ei))},i.\u0275dir=s.FsC({type:i,selectors:[["kendo-toolbar-button","kendoEditorInsertImageButton",""]],features:[s.Vt3]}),i})();const B$t={convertMsLists:!1,removeAttributes:[],removeHtmlComments:!1,removeInvalidHTML:!0,removeMsClasses:!1,removeMsStyles:!1,stripTags:[]},V$t=jPe(i=>i.replace(/<!--[\s\S]+?-->/g,"")),z$t=jPe(i=>(i=(i=(i=(i=(i=(i=(i=(i=(i=i.replace(/^[\s\S]+?<!--StartFragment-->\s*([\s\S]*?)\s*<!--EndFragment-->[\s\S]+$/,"$1")).replace(/<\/?[ovw]:[^>]*?>/gi,"")).replace(/<\\?\??xml[^>]*>/gi,"")).replace(/<(?:link|meta) [^>]+?>/gi,"")).replace(/<style[^>]*?>\s*<\/style>/gi,"")).replace(/<\/?st1:.*?>/gi,"")).replace(/<a name="[a-zA-Z0-9_]+">/gim,"")).replace(/v:shapes?="[^"]+"/gi,"")).replace(/<!\[if !supportLists\]>/gi,"")).replace(/<!\[endif\]>/gi,"")),H$t=i=>{if("all"===i.removeAttributes)return{"*":$9};const n=(i=>((i,n)=>Object.keys(i).filter(e=>n(e)).reduce((e,t)=>Object.assign(e,{[t]:i[t]}),{}))(i,e=>null!=i[e]&&""!==i[e]))({style:i.removeMsStyles?rHt:void 0,class:i.removeMsClasses?iHt:void 0});return i.removeAttributes.reduce((e,t)=>({...e,[t]:$9}),n)};let Lb=(()=>{class i{constructor(e,t,o,r,a,l,c,u){this.dialogService=e,this.localization=t,this.cdr=o,this.ngZone=r,this.element=a,this.providerService=l,this.toolsService=c,this.renderer=u,this.iframe=!0,this.applyToWord=!1,this.preserveWhitespace=!1,this.resizable=!1,this.valueChange=new s.bkB,this.onFocus=new s.bkB,this.paste=new s.bkB,this.onBlur=new s.bkB,this.hostClass=!0,this.stateChange=new An.t(Xae),this.showLicenseWatermark=!1,this.valueModified=new Ke.B,this.focusableId=`k-editor-${tn()}`,this._readonly=!1,this._placeholder="",this.inForm=!1,this._iframeCss={keepBuiltInCss:!0},this.afterViewInit=new Ke.B,this.contentAreaLoaded=new Ke.B,this.dispatchTransaction=_=>{const S=_.docChanged;if(!(this.disabled||this.readonly&&S)){if(S){const b=Bre({doc:_.doc});this.trOnChange=_,this.htmlOnChange=b,this.ngZone.run(()=>{this.valueModified.next("<p></p>"===b?"":b)})}(!S||this.inForm)&&(this.view.updateState(this.view.state.apply(_)),this.trOnChange=null)}},this.transformPastedContent=(_,S)=>{if(S)return this.dispatchPasteEvent(_,_);const v={...B$t,...this.pasteCleanupSettings},b=((...i)=>n=>i.reduce((e,t)=>t(e),n))(z$t(v.removeInvalidHTML),V$t(v.removeHtmlComments))(_),D=cHt(b,{convertMsLists:v.convertMsLists,stripTags:v.stripTags.join("|"),attributes:H$t(v)});return this.dispatchPasteEvent(_,D)},this.transformPastedHTML=_=>this.transformPastedContent(_),this.transformPastedText=_=>this.transformPastedContent(_,!0),this.changeValue=_=>{const S=this._value;if(this._value=_,this._view){if(this.htmlOnChange===_&&this.trOnChange)this.view.updateState(this.view.state.apply(this.trOnChange));else if((S||"")!==(_||"")){if(this.iframe&&!this.container.element.nativeElement.contentWindow)return;const b=this.view.state,D=Fre(_||"",b.schema,{preserveWhitespace:this.preserveWhitespace}),k=b.tr.setSelection(new Cl(b.doc)).replaceSelectionWith(D);this.view.updateState(b.apply(k))}this.trOnChange=null,this.htmlOnChange=null}},this.onChangeCallback=_=>{this.changeValue(_)},this.onTouchedCallback=_=>{},this.onPaste=(_,S)=>(this._pasteEvent=S,!1);const f=(0,_t.$)(u$t);this.showLicenseWatermark=s_(f),this.providerService.editor=this,this.direction=t.rtl?"rtl":"ltr",this.subs=H_e(this.afterViewInit.asObservable(),this.contentAreaLoaded.asObservable()).subscribe(()=>this.initialize())}set value(e){this.changeValue(e)}get value(){if(this.trOnChange)return this.htmlOnChange;const e=this._view?this.getSource():this._value;return"<p></p>"===e?this._value?"":this._value:e}set disabled(e){this._disabled=e||!1,this._view&&this._view.updateState(this._view.state),this._disabled&&(this.readonly=!1),this.stateChange.next(this._disabled||this._readonly?Wae:Xae)}get disabled(){return this._disabled}set readonly(e){if(this._readonly=e||!1,this._view){let t;t=this.iframe?this.container.element.nativeElement.contentWindow:window;const o=t.getSelection().focusNode;this._view.dom.contains(o)&&t.getSelection().removeAllRanges();const a=this._view.state.tr.setSelection(Jn.create(this._view.state.doc,1));this._view.dispatch(a)}this._readonly?(this.toolbar&&(this.toolbar.tabindex=-1),this.stateChange.next(Wae)):(this.toolbar&&(this.toolbar.tabindex=0),this.stateChange.next(Xae))}get readonly(){return this._readonly}set iframeCss(e){this._iframeCss=Object.assign(this._iframeCss,e)}get iframeCss(){return this._iframeCss}set schema(e){if(s.naY){if(!(e instanceof vre))throw new Error("Expected value of type Schema. See http://www.telerik.com/kendo-angular-ui/components/editor/schema/");if(this._view)throw new Error("The Schema cannot be changed dynamically. See http://www.telerik.com/kendo-angular-ui/components/editor/schema/")}this._schema=e}get schema(){return this._schema}set plugins(e){if(s.naY){if("function"!=typeof e)throw new Error((i=>`plugins must be a function, but received ${JSON.stringify(i)}.`)(e));if(this._view)throw new Error("The plugins cannot be changed dynamically. See http://www.telerik.com/kendo-angular-ui/components/editor/plugins/")}this._plugins=e}get plugins(){return this._plugins}set placeholder(e){if(s.naY&&this._view)throw new Error("The placeholder cannot be changed dynamically. See https://www.telerik.com/kendo-angular-ui/components/editor/plugins/#toc-custom-plugins/");this._placeholder=e}get placeholder(){return this._placeholder}get resizableClass(){return!!this.resizable}get isDisabled(){return this.disabled}get isReadonly(){return this.readonly}get isIE(){return this.iframe&&(()=>{if(!ne())return!1;const i=window.navigator.userAgent,n=i.indexOf("MSIE "),e=i.indexOf("Trident/");return n>0||e>0})()}get dir(){return this.direction}get ariaDisabled(){return this.disabled}get minWidth(){const e=this.resizable;return e.minWidth?e.minWidth+"px":void 0}get maxWidth(){const e=this.resizable;return e.maxWidth?e.maxWidth+"px":void 0}get minHeight(){const e=this.resizable;return e.minHeight?e.minHeight+"px":void 0}get maxHeight(){const e=this.resizable;return e.maxHeight?e.maxHeight+"px":void 0}get toolbar(){return this.defaultToolbarComponent||this.userToolBarComponent}get toolbarElement(){return this.defaultToolbar||this.userToolBarElement}get view(){return this._view}get selectionText(){return this._view&&this._view.state?qx(this._view.state):""}ngOnInit(){this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr"})),this.subs.add(this.toolsService.needsCheck.subscribe(()=>this.cdr.markForCheck()))}ngAfterViewInit(){ne()&&(this.afterViewInit.next(),this.iframe||this.contentAreaLoaded.next(),this.resizable&&this.normalizeSize(),this.userToolBarComponent&&this.renderer.addClass(this.userToolBarComponent.element.nativeElement,"k-editor-toolbar"),this.toolbar.overflow&&this.toolbar.onResize())}ngOnChanges(e){e.value&&this.view&&this.changeValue(e.value.currentValue),e.iframe&&!e.iframe.isFirstChange()&&this.ngZone.onStable.pipe(We(1)).subscribe(()=>this.initialize()),e.resizable&&!e.resizable.isFirstChange()&&this.normalizeSize()}setDisabledState(e){this.disabled=e}iframeOnLoad(){this.contentAreaLoaded.next()}exec(e,t){"setHTML"===e&&"string"==typeof t?t={content:t,parseOptions:{preserveWhitespace:this.preserveWhitespace}}:["fontFamily","fontSize","foreColor","backColor","createLink"].some(r=>r===e)&&(t={value:t,applyToWord:this.applyToWord}),y$t[e](t)(this._view.state,this._view.dispatch,this._view)}openDialog(e){const o=Object.assign({appendTo:this.dialogContainer},{createLink:{content:Kae,width:400},insertFile:{content:Kae,width:400},insertImage:{content:XPe,width:400},viewSource:{content:$Pe,height:400,width:500}}[e]);this.toolbar.toggle(!1);const r=this.dialogService.open(o).content.instance;this.renderer.addClass(r.dialog.dialog.instance.wrapper.nativeElement.querySelector(".k-window"),"k-editor-window"),("createLink"===e||"insertFile"===e)&&(r.command=e),r.editor=this,r.setData(this._view.state,{applyToWord:this.applyToWord})}focus(){this.focusChangedProgrammatically=!0,this._view.focus(),this.focusChangedProgrammatically=!1}blur(){this.focusChangedProgrammatically=!0,this._view.dom.blur(),this.focusChangedProgrammatically=!1}getSource(){return Bre(this._view.state)}ngOnDestroy(){this.subs&&this.subs.unsubscribe(),this._styleObserver&&this._styleObserver.disconnect()}writeValue(e){this.inForm=!0,this.value=null===e?void 0:e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}isEmpty(){return!1}initialize(){if(!ne())return;const e=this.schema||b$t,t=this.container.element.nativeElement,o=Fre((this.value||"").trim(),e,{preserveWhitespace:this.preserveWhitespace});if(this.iframe){const l=t.contentDocument,c=l.createElement("meta");c.setAttribute("charset","utf-8"),l.head.appendChild(c);const u=!!this.iframeCss.path,_=`\n                \n    .ProseMirror .tableWrapper {\n        overflow-x: auto;\n        margin: 1em 0;\n    }\n\n    .ProseMirror table {\n        margin: 0;\n        border-collapse: collapse;\n        table-layout: fixed;\n        width: 100%;\n        overflow: hidden;\n    }\n\n    .ProseMirror td, .ProseMirror th {\n        min-width: 1em;\n        border: 1px solid #ddd;\n        padding: 3px 5px;\n        vertical-align: top;\n        box-sizing: border-box;\n        position: relative;\n    }\n\n    .ProseMirror th {\n        font-weight: bold;\n        text-align: left;\n    }\n\n    .ProseMirror .column-resize-handle {\n        position: absolute;\n        right: -2px; top: 0; bottom: 0;\n        width: 4px;\n        z-index: 20;\n        background-color: #adf;\n        pointer-events: none;\n    }\n\n    .ProseMirror.resize-cursor {\n        cursor: ew-resize;\n        cursor: col-resize;\n    }\n\n    /* Give selected cells a blue overlay */\n    .ProseMirror .selectedCell:after {\n        z-index: 2;\n        position: absolute;\n        content: "";\n        left: 0; right: 0; top: 0; bottom: 0;\n        background: rgba(200, 200, 255, 0.4);\n        pointer-events: none;\n    }\n\n    /* Resizing */\n    .k-editor-resize-wrap-element {\n        display: inline-block;\n        position: relative;\n    }\n\n    .ProseMirror .row-resize-handle {\n        position: absolute;\n        right: 0; left: 0; bottom: 0;\n        transform: translate(0, 50%);\n        height: 4px;\n        z-index: 20;\n        background-color: #adf;\n        pointer-events: none;\n    }\n    \n    .ProseMirror.resize-cursor-vertical {\n        cursor: sn-resize;\n        cursor: row-resize;\n    }\n\n    .k-editor-resize-wrap-element table td p,\n    .k-editor-resize-wrap-element table th p {\n        margin: 0 auto;\n    }\n\n    .ProseMirror[contenteditable="false"] .k-editor-resize-handle,\n    .ProseMirror[contenteditable="false"] .k-editor-resize-handles-wrapper,\n    .ProseMirror[contenteditable="false"] .row-resize-handle,\n    .ProseMirror[contenteditable="false"] .column-resize-handle {\n        display: none;\n    }\n    \n    .ProseMirror[contenteditable="false"] table {\n        pointer-events: none;\n    }\n    \n    .ProseMirror[contenteditable="false"] .ProseMirror-selectednode {\n        outline: none;\n    }\n    \n    .ProseMirror[contenteditable="false"] {\n        cursor: unset !important;\n    }\n\n                ${this.iframeCss.keepBuiltInCss?'\n    html, body {\n        margin: 0;\n        height: 100%;\n        padding: 0;\n    }\n\n    html {\n        min-height: 100%;\n    }\n\n    body {\n        box-sizing: border-box;\n        position: relative;\n        word-wrap: break-word;\n        padding: 8px;\n    }\n\n    body > .k-content {\n        outline: 0;\n        height: 100%;\n        white-space: pre-wrap;\n    }\n\n    div.ProseMirror {\n        position: relative;\n        word-wrap: break-word;\n        white-space: pre-wrap;\n        white-space: break-spaces;\n        -webkit-font-variant-ligatures: none;\n        font-variant-ligatures: none;\n        font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n    }\n\n    .ProseMirror pre {\n        white-space: pre-wrap;\n    }\n\n    .k-content > p {\n        margin: 0 0 1em;\n    }\n\n    .k-content table {\n        white-space: pre-wrap;\n    }\n\n    .k-content .k-text-selected, .k-content::selection {\n        color: HighlightText;\n        background-color: Highlight;\n    }\n\n    .k-content .k-text-highlighted {\n        background-color: #bbdefb;\n    }\n\n    .k-content .ProseMirror-selectednode {\n        outline: 2px solid #8cf;\n    }\n\n    .ProseMirror-hideselection *::selection { background: transparent; }\n    .ProseMirror-hideselection *::-moz-selection { background: transparent; }\n    .ProseMirror-hideselection { caret-color: transparent; }\n\n    .ProseMirror-gapcursor {\n        display: none;\n        pointer-events: none;\n        position: absolute;\n    }\n\n    .ProseMirror-gapcursor:after {\n        content: "";\n        display: block;\n        position: absolute;\n        top: -2px;\n        width: 20px;\n        border-top: 1px solid black;\n        animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n    }\n\n    @keyframes ProseMirror-cursor-blink {\n        to {\n            visibility: hidden;\n        }\n    }\n\n    .ProseMirror-focused .ProseMirror-gapcursor {\n        display: block;\n    }\n\n    .k-editor-resize-handles-wrapper {\n        position: absolute;\n        visibility: hidden;\n    }\n\n    .k-editor-resize-handle {\n        position: absolute;\n        visibility: visible;\n        background-color: #fff;\n        border: 1px solid #000;\n        z-index: 100;\n        width: 5px;\n        height: 5px;\n    }\n\n    .k-editor-resize-handle.northwest {\n        top: 0;\n        left: 0;\n        transform: translate(-50%, -50%);\n        cursor: nw-resize;\n    }\n\n    .k-editor-resize-handle.north {\n        top: 0;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        cursor: n-resize;\n    }\n\n    .k-editor-resize-handle.northeast {\n        top: 0;\n        right: 0;\n        transform: translate(50%, -50%);\n        cursor: ne-resize;\n    }\n\n    .k-editor-resize-handle.southwest {\n        left: 0;\n        bottom: 0;\n        transform: translate(-50%, 50%);\n        cursor: sw-resize;\n    }\n\n    .k-editor-resize-handle.south {\n        bottom: 0;\n        left: 50%;\n        transform: translate(-50%, 50%);\n        cursor: s-resize;\n    }\n\n    .k-editor-resize-handle.southeast {\n        right: 0;\n        bottom: 0;\n        transform: translate(50%, 50%);\n        cursor: se-resize;\n    }\n\n    .k-editor-resize-handle.west {\n        top: 50%;\n        left: 0;\n        transform: translate(-50%, -50%);\n        cursor: w-resize;\n    }\n\n    .k-editor-resize-handle.east {\n        top: 50%;\n        right: 0;\n        transform: translate(50%, -50%);\n        cursor: e-resize;\n    }\n\n    .ProseMirror .k-placeholder::before {\n        content: attr(data-placeholder);\n        height: 0;\n        color: #8a8a8a;\n        float: left;\n        opacity: 1;\n        cursor: text;\n        -webkit-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n    }\n\n    .ProseMirror li {\n        position: relative;\n    }\n\n    li.ProseMirror-selectednode {\n        outline: none;\n    }\n\n    li.ProseMirror-selectednode:after {\n        content: "";\n        position: absolute;\n        left: -32px;\n        right: -2px;\n        top: -2px;\n        bottom: -2px;\n        border: 2px solid #8cf;\n        pointer-events: none;\n    }\n\n    .ProseMirror[contenteditable="false"] img {\n        pointer-events: none;\n    }\n':""}\n                ${"rtl"===this.dir?"body { direction: rtl }":""}\n                ${this.iframeCss.content?this.iframeCss.content:""}\n            `,S=l.createElement("style");if(S.appendChild(l.createTextNode(_)),l.head.appendChild(S),u){const b=l.createElement("link");b.rel="stylesheet",b.href=this.iframeCss.path,l.head.appendChild(b)}const v=l.createElement("div");this.renderer.addClass(v,"k-content"),this.renderer.setAttribute(v,"id",this.focusableId),this.renderer.setAttribute(v,"role","textbox"),l.body.appendChild(v)}else{const l=document.createElement("div");this.renderer.setAttribute(l,"id",this.focusableId),this.renderer.setAttribute(l,"role","textbox"),t.appendChild(l)}const r=[new Xd({key:new nc("editor-tabindex"),props:{attributes:()=>({tabIndex:this.readonly?"0":""})}}),new Xd({key:new nc("toolbar-tools-update"),view:()=>({update:l=>{this.disabled||this.ngZone.run(()=>{this.stateChange.next(this.readonly?Wae:((i,n)=>({alignCenter:{selected:dv(i,qre),disabled:!1},alignJustify:{selected:dv(i,Qre),disabled:!1},alignLeft:{selected:dv(i,Yre),disabled:!1},alignRight:{selected:dv(i,Jre),disabled:!1},bold:{selected:fg(i,Pae),disabled:!1},cleanFormatting:{selected:!1,disabled:!WNe()(i)},format:{selected:Q7t(i),disabled:!1},blockquote:{selected:!1,disabled:!p8e(i)},indent:{selected:!1,disabled:!(_8e(i,i.schema.nodes.list_item)||Kre(i,rO))},insertOrderedList:{selected:sO(i,i.schema.nodes.ordered_list),disabled:!1},insertUnorderedList:{selected:sO(i,i.schema.nodes.bullet_list),disabled:!1},italic:{selected:fg(i,Gae),disabled:!1},unlink:{selected:!1,disabled:!fg(i,cPe)},outdent:{selected:!1,get disabled(){return!(sO(i,i.schema.nodes.blockquote)||g8e(i,aO)||m8e(i,aO.nodes))}},redo:{selected:!1,disabled:!h4(i)},selectAll:{selected:!1,disabled:!1},strikethrough:{selected:fg(i,rPe),disabled:!1},style:{selected:V7t(i,i.schema.marks.style),disabled:!1},subscript:{selected:fg(i,aPe),disabled:!1},superscript:{selected:fg(i,lPe),disabled:!1},underline:{selected:fg(i,Uae),disabled:!1},undo:{selected:!1,disabled:!j9(i)},createLink:{selected:!1,get disabled(){const e=i.selection.empty;return n&&n.applyToWord&&e?Nre(i,()=>{},n).state.selection.empty:e}},insertFile:{selected:!1,disabled:i.selection.empty},insertImage:{selected:!1,disabled:!1},viewSource:{selected:!1,disabled:!1},print:{selected:!1,disabled:!1},insertTable:{selected:!1,disabled:!1},addColumnBefore:{selected:!1,disabled:!NPe(i)},addColumnAfter:{selected:!1,disabled:!LPe(i)},addRowBefore:{selected:!1,disabled:!IPe(i)},addRowAfter:{selected:!1,disabled:!RPe(i)},deleteRow:{selected:!1,disabled:!WLe(i)},deleteColumn:{selected:!1,disabled:!PPe(i)},mergeCells:{selected:!1,disabled:!YLe(i)},splitCell:{selected:!1,disabled:!JLe(i)},deleteTable:{selected:!1,disabled:!QLe(i)}}))(l.state,{applyToWord:this.applyToWord}))})}})}),Lzt(),Dae($zt(e)),Dae(jzt(e,{applyToWord:this.applyToWord})),Dae(bBt),new Xd({props:{decorations:cjt,createSelectionBetween:(i,n,e)=>n.pos==e.pos&&sr.valid(e)?new sr(e):null,handleClick:ajt,handleKeyDown:rjt,handleDOMEvents:{beforeinput:ljt}}}),yHt(),zHt(),new Xd({key:mr,state:{init:(t,o)=>new p4(-1,null),apply:(t,o)=>o.apply(t)},props:{attributes:t=>SPe(mr,t)?null:mr.getState(t).activeHandle>-1?{class:"resize-cursor"}:null,handleDOMEvents:{mousemove:(t,o)=>(W9(mr,t.state)||function RHt(i,n,e){let t=mr.getState(i.state);if(!t.dragging){let o=vPe(n.target),r=-1;if(o){const a=CPe(o);let{left:l,right:c}=o.getBoundingClientRect();Math.abs(n.clientX-l)<=e&&a.cellIndex>0?(a.cellIndex-=o.colSpan,r=Y9(i,n,a)):c-n.clientX>0&&c-n.clientX<=e&&(r=Y9(i,n,a))}r!==t.activeHandle&&EPe(i,r)}}(t,o,5),!1),mouseleave:t=>(function AHt(i){let n=mr.getState(i.state);n.activeHandle>-1&&!n.dragging&&EPe(i,-1)}(t),!1),mousedown:(t,o)=>function xHt(i,n,e){let t=mr.getState(i.state);if(-1===t.activeHandle||t.dragging)return!1;let o=i.state.doc.resolve(t.activeHandle);const r=o.parent,a=o.index();let l=0;for(let I=0;I<=a;I++)l+=r.child(I).attrs.colspan;const c=o.node(o.depth-1);let S,v,u=i.domAtPos(t.activeHandle),_=u.node.childNodes[u.offset].closest("table");if(c.attrs[co])S=_.firstChild.children[l-1],S.style.width||(S.style.width=S.offsetWidth+"px");else{let I=0;for(let L=0;L<r.childCount;L++)I+=r.child(L).attrs.colspan;const x=document.createElement("colgroup"),P=new Array(I);for(let L=0;L<I;L++)P[L]=document.createElement("col"),x.appendChild(P[L]);_.insertBefore(x,_.firstChild),S=P[a],S.style.width=S.offsetWidth+"px",v=Object.assign(Object.assign({},c.attrs),{[co]:"<colgroup>"+P.reduce((L,H)=>L+H.outerHTML,"")+"</colgroup>"})}let b=parseFloat(S.style.width);const D=i.state.tr.setMeta(mr,{setDragging:{startX:n.clientX,startWidth:b}});if(!_.style.width){const I=Array.from(S.parentNode.children).map(x=>x.style.width);if(I.every(Boolean)){const x=I.reduce((P,L)=>P+parseFloat(L),0);v=np(v||c.attrs,"width",x+"px")}}if(v){const I=o.posAtIndex(0,o.depth-1)-1;D.setNodeMarkup(I,null,v)}function k(I){I.view.removeEventListener("mouseup",k),I.view.removeEventListener("mousemove",O);let x=mr.getState(i.state);if(x.dragging){const P=i.state.tr;(function NHt(i,n,e,t){let o=i.state.doc.resolve(e),r=o.node(-1),a=o.start(-1);const l=o.posAtIndex(0,o.depth-1)-1,c=i.nodeDOM(a).closest("table");let u=r.attrs;if(r&&u[co]){const _=c.firstChild;u=Object.assign(Object.assign({},u),{[co]:_.outerHTML})}const f=c.style.width;c&&f&&Zu(u.style).width!==f&&(u=np(u,"width",f)),n.setNodeMarkup(l,null,u)})(i,P,x.activeHandle,bPe(x.dragging,I,e)),i.dispatch(P.setMeta(mr,{setDragging:null}))}}function O(I){if(!I.which)return k(I);let x=mr.getState(i.state),P=bPe(x.dragging,I,e);!function LHt(i,n,e,t){let o=i.state.doc.resolve(n),r=o.node(-1),a=o.start(-1),l=Es.get(r).colCount(o.pos-a)+o.nodeAfter.attrs.colspan-1,c=i.domAtPos(o.start(-1)).node;"TABLE"!==c.nodeName&&(c=c.closest("table"));const u=c,_=Array.from(u.firstChild.children);if(_[l].style.width=e+"px",u.style.width){const S=_.map(v=>v.style.width);if(S.every(Boolean)){const v=S.reduce((b,D)=>b+parseFloat(D),0);u.style.width=v+"px"}}}(i,x.activeHandle,P)}return i.dispatch(D),n.view.addEventListener("mouseup",k),n.view.addEventListener("mousemove",O),n.preventDefault(),!0}(t,o,25)},decorations(t){if(!W9(mr,t)){let o=mr.getState(t);if(o.activeHandle>-1)return function PHt(i,n){let e=[],t=i.doc.resolve(n),o=t.node(-1),r=Es.get(o),a=t.start(-1);const l=[],c=n-a;let u=-1;for(let _=0;_<r.height;_++)l.push(r.map.slice(_*r.width,_*r.width+r.width)),-1===u&&(u=l[_].lastIndexOf(c));const f=[];return l.forEach(_=>{_[u]!==_[u+1]&&f.push(_[u])}),f.forEach(_=>{let S=a+_+o.nodeAt(_).nodeSize-1,v=document.createElement("div");v.className="column-resize-handle",e.push(va.widget(S,v))}),Vi.create(i.doc,e)}(t,o.activeHandle)}return Vi.empty},nodeViews:{table_wrapper:(t,o)=>new OHt(t,o),table:(t,o)=>new kHt(t,o)}}}),new Xd({key:_r,state:{init(e,t){return this.spec.props.nodeViews[Xa(t.schema).row.name]=(o,r)=>new HHt,new f4(-1,null)},apply:(e,t)=>t.apply(e)},props:{attributes:e=>SPe(_r,e)?null:_r.getState(e).activeHandle>-1?{class:"resize-cursor-vertical"}:null,handleDOMEvents:{mousemove:(e,t)=>(W9(_r,e.state)||function XHt(i,n,e){let t=_r.getState(i.state);if(!t.dragging){let o=vPe(n.target),r=-1;if(o){const a=CPe(o);let{top:l,bottom:c}=o.getBoundingClientRect();Math.abs(n.clientY-l)<=e&&a.rowIndex>0?(a.rowIndex-=o.rowSpan,r=Y9(i,n,a)):c-n.clientY>0&&c-n.clientY<=e&&(r=Y9(i,n,a))}r!==t.activeHandle&&OPe(i,r)}}(e,t,5),!1),mouseleave:e=>(function WHt(i){let n=_r.getState(i.state);n.activeHandle>-1&&!n.dragging&&OPe(i,-1)}(e),!1),mousedown:(e,t)=>function KHt(i,n){let e=_r.getState(i.state);if(-1===e.activeHandle||e.dragging)return!1;let o=i.state.doc.resolve(e.activeHandle),r=o.parent,a=o.node(-1),l=Zu(r.attrs.style).height,c=Zu(a.attrs.style).height,u=l?parseFloat(l):0;function f(S){S.view.removeEventListener("mouseup",f),S.view.removeEventListener("mousemove",_);let v=_r.getState(i.state);if(v.dragging){const b=i.state.tr.setMeta(_r,{setDragging:null});(function JHt(i,n,e){const t=i.state.doc,o=t.resolve(e),r=o.parent,a=o.posAtIndex(0)-1,l=i.nodeDOM(a),c=l.ownerDocument&&l.ownerDocument.defaultView||window;l.style.height=c.getComputedStyle(l).height,n.setNodeMarkup(a,null,np(r.attrs,"height",l.style.height));const u=l&&l.closest("table"),f=u&&u.style.height;if(f){let _=t.resolve(a),S=_.start(_.depth)-1;n.setNodeMarkup(S,null,np(_.parent.attrs,"height",f))}})(i,b,v.activeHandle),i.dispatch(b)}}function _(S){if(!S.which)return f(S);let v=_r.getState(i.state),b=function YHt(i,n){return i.startHeight.rowHeight+(n.clientY-i.startY)}(v.dragging,S);!function qHt(i,n,e,t,o){const r=i.nodeDOM(n),a=r&&r.parentNode;if(a){a.style.height=e+"px";const l=a.ownerDocument&&a.ownerDocument.defaultView||window;a.style.height=l.getComputedStyle(a).height;const c=a.closest("table"),u=parseFloat(o)+t+"px",f=c&&c.style.height;f&&f!==u&&(c.style.height=parseFloat(o)+t+"px",c.style.height=l.getComputedStyle(c).height)}}(i,v.activeHandle,b,S.clientY-v.dragging.startY,c)}return l||(u=i.nodeDOM(e.activeHandle).offsetHeight),i.dispatch(i.state.tr.setMeta(_r,{setDragging:{startY:n.clientY,startHeight:{rowHeight:u,tableHeight:c}}})),n.view.addEventListener("mouseup",f),n.view.addEventListener("mousemove",_),n.preventDefault(),!0}(e,t)},decorations(e){if(W9(_r,e))return Vi.empty;let t=_r.getState(e);return t.activeHandle>-1?function QHt(i,n){const e=[];if("number"!=typeof n)return Vi.empty;const t=i.doc.resolve(n),o=t.node(-1),r=Es.get(o),a=t.start(-1),l=[],c=n-a;let u=-1;for(let _=0;_<r.height;_++)l.push(r.map.slice(_*r.width,_*r.width+r.width)),-1!==l[_].indexOf(c)&&(u=_);const f=[];return l[u].forEach((_,S)=>{(!l[u+1]||_!==l[u+1][S])&&f.push(_)}),f.forEach(_=>{const S=o.nodeAt(_);let v=a+_+(S?S.nodeSize:0)-1,b=document.createElement("div");b.className="row-resize-handle",e.push(va.widget(v,b))}),Vi.create(i.doc,e)}(e,t.activeHandle):void 0},nodeViews:{}}}),_zt(),new Xd({key:DHt,props:{decorations:i=>{const{doc:n,selection:e,storedMarks:t}=i;if(!e.empty||!t)return Vi.empty;const o=VNe((t||[]).find(l=>"style"===l.type.name),{name:"color",value:/^.+$/});if(!o)return Vi.empty;const r=e.$anchor.parent,a=[];return n.descendants((l,c)=>{l.eq(r)&&a.push(va.node(c,c+l.nodeSize,{style:"caret-color: "+o}))}),Vi.create(n,a)}}}),new Xd({key:new nc("csp-fix"),props:{nodeViews:{paragraph:(i,n)=>new bg(i,n,"p"),div:(i,n)=>new bg(i,n,"div"),table_wrapper:(i,n)=>new bg(i,n,"div"),table_caption_external:(i,n)=>new bg(i,n,"div"),table:(i,n)=>new bg(i,n,"table"),table_row:(i,n)=>new bg(i,n,"tr"),table_cell:(i,n)=>new bg(i,n,"td"),table_header:(i,n)=>new bg(i,n,"th"),image:(i,n)=>new bg(i,n,"img",!0)},markViews:{style:(i,n,e)=>new _Ht(i,n,e)}}})];this.placeholder&&r.push(function mHt(i){const n={class:"k-placeholder","data-placeholder":i};return new Xd({key:new nc("placeholder"),props:{decorations:e=>{const{doc:t}=e,o=t.content.firstChild;if(!(0===t.childCount||1===t.childCount&&o.inlineContent&&0===o.childCount))return Vi.empty;const a=[];return t.descendants((l,c)=>{a.push(va.node(c,c+l.nodeSize,n))}),Vi.create(t,a)}}})}(this.placeholder));const a=yb.create({schema:e,doc:o,plugins:_O(this.plugins)?this.plugins(r):r});if(this.viewMountElement=this.iframe?t.contentDocument.querySelector("div"):t.querySelector("div"),this.ngZone.runOutsideAngular(()=>{this._view=new p9t({mount:this.viewMountElement},{state:a,editable:()=>!this.readonly,dispatchTransaction:this.dispatchTransaction,transformPastedHTML:this.transformPastedHTML,transformPastedText:this.transformPastedText,handleDOMEvents:{paste:this.onPaste}})}),this._view){let l;const c=this.element.nativeElement.querySelector(".k-editor-content").classList;l=this.iframe?this.container.element.nativeElement.contentDocument:this.container.element.nativeElement,l.querySelector(".ProseMirror").style="'height: 100%; width: 100%; box-sizing: border-box; outline: none; overflow: auto;'",this.subs.add(Dt(l,"focusin").subscribe(f=>{if(this.readonly&&c.add("k-focus"),!this.focusChangedProgrammatically||this.shouldEmitFocus){const _=f.relatedTarget;(!(_&&_.classList.contains("k-colorpicker"))||this.shouldEmitFocus)&&this.ngZone.run(()=>this.onFocus.emit()),this.shouldEmitFocus=!1}})),this.subs.add(Dt(l,"focusout").subscribe(f=>{if(this.readonly&&c.remove("k-focus"),!this.focusChangedProgrammatically){const _=f.relatedTarget;_&&_.classList.contains("k-colorpicker")||this.ngZone.run(()=>this.onBlur.emit())}}))}this.subs.add(this.stateChange.subscribe(()=>{this.ngZone.onStable.pipe(We(1)).subscribe(()=>{this.userToolBarComponent?this.userToolBarComponent.cdr.detectChanges():this.cdr.detectChanges()})})),this.subs.add(this.valueModified.subscribe(l=>{this.onChangeCallback(l),this.valueChange.emit(l),this.cdr.markForCheck()})),this.subs.add(Dt(this.viewMountElement,"keyup").pipe((0,V.T)(l=>l.keyCode),X(l=>121===l),(0,V.T)(()=>this.toolbarElement)).subscribe(l=>l.nativeElement.focus())),this.subs.add(Dt(this.viewMountElement,"blur").pipe(X(l=>!this.viewMountElement.contains(l.relatedTarget))).subscribe(()=>this.onTouchedCallback()))}normalizeSize(){if("object"==typeof this.resizable&&!this._styleObserver){const e=this.element.nativeElement;this._styleObserver=new MutationObserver(()=>{this.ngZone.runOutsideAngular(()=>this.normalizeProperties(e))}),this._styleObserver.observe(e,{attributeFilter:["style"]})}}normalizeProperties(e){const t=Object.keys(this.resizable),o=parseInt(e.style.width,10),r=parseInt(e.style.height,10),a=this.resizable;t.forEach(l=>{const c=l.startsWith("min"),u=!c,f=l.endsWith("Width");c&&f?o<a.minWidth&&(e.style.width=a.minWidth+"px"):c&&!f?r<a.minHeight&&(e.style.height=a.minHeight+"px"):u&&f?o>a.maxWidth&&(e.style.width=a.maxWidth+"px"):r>a.maxHeight&&(e.style.height=a.maxHeight+"px")})}dispatchPasteEvent(e,t){if(Te(this.paste)){const o=new U$t(t,e,this._pasteEvent);return this.ngZone.run(()=>this.paste.emit(o)),o.isDefaultPrevented()?"":o.cleanedHtml}return t}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(a_),s.rXU(z),s.rXU(s.gRc),s.rXU(s.SKi),s.rXU(s.aKT),s.rXU($n),s.rXU(ei),s.rXU(s.sFG))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-editor"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,ep,5),s.wni(o,ep,5,s.aKT)),2&e){let r;s.mGM(r=s.lsd())&&(t.userToolBarComponent=r.first),s.mGM(r=s.lsd())&&(t.userToolBarElement=r.first)}},viewQuery:function(e,t){if(1&e&&(s.GBs(Rjt,5,s.c1b),s.GBs(Ajt,5,s.c1b),s.GBs(UPe,5,s.aKT),s.GBs(UPe,5,ep)),2&e){let o;s.mGM(o=s.lsd())&&(t.dialogContainer=o.first),s.mGM(o=s.lsd())&&(t.container=o.first),s.mGM(o=s.lsd())&&(t.defaultToolbar=o.first),s.mGM(o=s.lsd())&&(t.defaultToolbarComponent=o.first)}},hostVars:20,hostBindings:function(e,t){2&e&&(s.BMQ("dir",t.dir)("ariaDisabled",t.ariaDisabled),s.xc7("min-width",t.minWidth)("max-width",t.maxWidth)("min-height",t.minHeight)("max-height",t.maxHeight),s.AVh("k-editor",t.hostClass)("k-editor-resizable",t.resizableClass)("k-disabled",t.isDisabled)("k-readonly",t.isReadonly)("k-ie",t.isIE))},inputs:{value:"value",disabled:"disabled",readonly:"readonly",iframe:"iframe",iframeCss:"iframeCss",applyToWord:"applyToWord",schema:"schema",plugins:"plugins",placeholder:"placeholder",preserveWhitespace:"preserveWhitespace",pasteCleanupSettings:"pasteCleanupSettings",resizable:"resizable"},outputs:{valueChange:"valueChange",onFocus:"focus",paste:"paste",onBlur:"blur"},features:[s.Jv_([gn,$n,ei,{provide:z,useExisting:gn},{provide:He,useValue:"kendo.editor"},{provide:zn,useExisting:(0,s.Rfq)(()=>i),multi:!0},{provide:ji,useExisting:(0,s.Rfq)(()=>i)}]),s.OA$],ngContentSelectors:Njt,decls:8,vars:4,consts:()=>{let n,e,t,o,r,a,l,c,u,f,_,S,v,b,D,k,O,I,x,P,L,H,j,J,te,ce,oe,Le,ue,ye,ie,ee,ae,Se,ve,Me,Lt,Ne,Jt,Ce,Ot,Rt,Mt,as,rn,Hn,Xn,ho,ti,ys,Zc,ed,td,wl,Kd,Ea;return n="Centra testo",e="Giustifica testo",t="Allinea a sinistra",o="Allinea a destra",r="Colore di sfondo",a="Quotation",l="Grassetto",c="Annulla formattazione",u="Inserisci link",f="Applica",_="Cancella",S="Inserisci",v="Aggiorna",b="Testo",D="Titolo",k="Indirizzo web",O="Seleziona carattere",I="Seleziona dimensione carattere",x="Colore",P="Formato",L="Testo alternativo",H="Altezza (px)",j="Indirizzo Web",J="Larghezza (px)",te="Indenta",ce="Inserisci file",oe="Inserisci immagine",Le="Inserisci lista ordinata",ue="Inserisci lista non ordinata",ye="Italico",ie="Apri link in nuova finestra",ee="Testo",ae="Titolo",Se="Indirizzo web",ve="Elimina rientro",Me="Stampa",Lt="Ripristina",Ne="Seleziona tutto",Jt="Barrato",Ce="Pedice",Ot="Apice",Rt="Sottolinea",Mt="Rimuovi Link",as="Ripristina",rn="Sorgente",Hn="Inserisci Tabella",Xn="Create a ",ho="Aggiungi colonna prima",ti="Aggiungi colonna dopo",ys="Aggiungi riga prima",Zc="Aggiungi riga dopo",ed="Unisci le celle",td="Dividi le celle",wl="Cancella colonna",Kd="Cancella riga",Ea="Cancella tabella",[["dialogsContainer",""],["defaultToolbar",""],["content",""],["kendoEditorLocalizedMessages","","alignCenter",n,"alignJustify",e,"alignLeft",t,"alignRight",o,"backColor",r,"blockquote",a,"bold",l,"cleanFormatting",c,"createLink",u,"dialogApply",f,"dialogCancel",_,"dialogInsert",S,"dialogUpdate",v,"fileText",b,"fileTitle",D,"fileWebAddress",k,"fontFamily",O,"fontSize",I,"foreColor",x,"format",P,"imageAltText",L,"imageHeight",H,"imageWebAddress",j,"imageWidth",J,"indent",te,"insertFile",ce,"insertImage",oe,"insertOrderedList",Le,"insertUnorderedList",ue,"italic",ye,"linkOpenInNewWindow",ie,"linkText",ee,"linkTitle",ae,"linkWebAddress",Se,"outdent",ve,"print",Me,"redo",Lt,"selectAll",Ne,"strikethrough",Jt,"subscript",Ce,"superscript",Ot,"underline",Rt,"unlink",Mt,"undo",as,"viewSource",rn,"insertTable",Hn,"insertTableHint",Xn,"addColumnBefore",ho,"addColumnAfter",ti,"addRowBefore",ys,"addRowAfter",Zc,"mergeCells",ed,"splitCell",td,"deleteColumn",wl,"deleteRow",Kd,"deleteTable",Ea],["class","k-editor-toolbar",3,"overflow","tabindex",4,"ngIf"],["class","k-editor-content",4,"ngIf"],["kendoWatermarkOverlay","",4,"ngIf"],[1,"k-editor-toolbar",3,"overflow","tabindex"],["kendoEditorBoldButton",""],["kendoEditorItalicButton",""],["kendoEditorUnderlineButton",""],["kendoEditorFormat",""],["kendoEditorAlignLeftButton",""],["kendoEditorAlignCenterButton",""],["kendoEditorAlignRightButton",""],["kendoEditorAlignJustifyButton",""],["kendoEditorInsertUnorderedListButton",""],["kendoEditorInsertOrderedListButton",""],["kendoEditorIndentButton",""],["kendoEditorOutdentButton",""],["kendoEditorCreateLinkButton",""],["kendoEditorUnlinkButton",""],["kendoEditorInsertImageButton",""],[1,"k-editor-content"],["srcdoc",s.OP0`<!DOCTYPE html>`,"role","none","frameborder","0",1,"k-iframe",3,"load"],["kendoWatermarkOverlay",""]]},template:function(e,t){1&e&&(s.NAR(xjt),s.eu8(0,3),s.SdG(1),s.DNE(2,Ljt,21,2,"kendo-toolbar",4)(3,Pjt,2,1,"div",5)(4,Gjt,3,6,"div",5),s.eu8(5,null,0),s.DNE(7,Ujt,1,0,"div",6)),2&e&&(s.R7$(2),s.Y8G("ngIf",!t.userToolBarElement),s.R7$(),s.Y8G("ngIf",!t.iframe),s.R7$(),s.Y8G("ngIf",t.iframe),s.R7$(3),s.Y8G("ngIf",t.showLicenseWatermark))},dependencies:[ep,ug,Nn,KPe,n_,YPe,q,Eg,yg,Dg,qPe,QPe,ZPe,eGe,wg,tGe,nGe,iGe,kg,Og,sGe],encapsulation:2}),i})(),rGe=(()=>{class i extends r_{constructor(e,t){super(e),this.dialog=e,this.localization=t}ngAfterViewInit(){Promise.resolve(null).then(()=>{this.colorPicker.focus()})}handleActiveColorClick(e){e.preventOpen(),this.value=e.color}handleClearButtonClick(){this.editor.exec(this.editorCommand,void 0)}onCancelAction(){this.dialog.close()}onConfirmAction(){this.value&&this.editor.exec(this.editorCommand,this.value),this.dialog.close(),this.editor.view.focus()}setData(e){this.editor=e.editor,this.value=e.value,this.svgIcon=e.svgIcon,this.editorCommand=e.editorCommand,this.paletteSettings=e.paletteSettings,this.icon=e.icon,this.views=e.view?[e.view]:e.views}textFor(e){return this.localization.get(e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(sf),s.rXU(gn))},i.\u0275cmp=s.VBU({type:i,selectors:[["ng-component"]],viewQuery:function(e,t){if(1&e&&s.GBs($ae,7,qC),2&e){let o;s.mGM(o=s.lsd())&&(t.colorPicker=o.first)}},inputs:{editor:"editor"},features:[s.Vt3],decls:10,vars:13,consts:[["colorpicker",""],[3,"close"],[3,"valueChange","activeColorClick","clearButtonClick","views","format","icon","svgIcon","value","paletteSettings"],["layout","start"],["kendoButton","",3,"click","primary"],["kendoButton","",3,"click"]],template:function(e,t){if(1&e){const o=s.RV6();s.j41(0,"kendo-dialog-titlebar",1),s.bIt("close",function(){return s.eBV(o),s.Njj(t.onCancelAction())}),s.EFF(1),s.k0s(),s.j41(2,"div")(3,"kendo-colorpicker",2,0),s.mxI("valueChange",function(a){return s.eBV(o),s.DH7(t.value,a)||(t.value=a),s.Njj(a)}),s.bIt("activeColorClick",function(a){return s.eBV(o),s.Njj(t.handleActiveColorClick(a))})("clearButtonClick",function(){return s.eBV(o),s.Njj(t.handleClearButtonClick())}),s.k0s()(),s.j41(5,"kendo-dialog-actions",3)(6,"button",4),s.bIt("click",function(){return s.eBV(o),s.Njj(t.onConfirmAction())}),s.EFF(7),s.k0s(),s.j41(8,"button",5),s.bIt("click",function(){return s.eBV(o),s.Njj(t.onCancelAction())}),s.EFF(9),s.k0s()()}2&e&&(s.R7$(),s.SpI(" ",t.textFor(t.editorCommand)," "),s.R7$(),s.xc7("text-align","center"),s.R7$(),s.Y8G("views",t.views)("format","hex")("icon",t.icon)("svgIcon",t.svgIcon),s.R50("value",t.value),s.Y8G("paletteSettings",t.paletteSettings),s.BMQ("title",t.title),s.R7$(3),s.Y8G("primary",!0),s.R7$(),s.JRh(t.textFor("dialogApply")),s.R7$(2),s.JRh(t.textFor("dialogCancel")))},dependencies:[bd,qC,Cd,Ht],encapsulation:2}),i})(),rm=(()=>{class i extends yo{constructor(e,t,o,r,a){super(),this.localization=e,this.dialogService=t,this.ngZone=o,this.renderer=a,this.tabindex=-1,this.disabled=!1,this.views=["palette"],this.editor=r.editor}set view(e){this.views=[e]}get view(){return this.views&&this.views.length>0?this.views[0]:null}get title(){return this.localization.get(this.editorCommand)}ngOnInit(){this.subs=this.editor.stateChange.subscribe(({style:e})=>{this.disabled=e.disabled}),this.activeView=this.view}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}handleValueChange(e){this.editor.exec(this.editorCommand,e),"palette"===this.activeView&&this.editor.view.focus()}handleActiveColorClick(e){e.preventOpen(),this.handleValueChange(e.color)}onOpen(e){this.valueCache=e.value,e.reset()}onClose(e){e.value||(e.value=this.valueCache),this.editor.shouldEmitFocus=!0,this.ngZone.onStable.pipe(We(1)).subscribe(()=>this.editor.view.focus()),this.activeView=this.view}handleClearButtonClick(){this.editor.exec(this.editorCommand,void 0),"palette"===this.activeView&&this.editor.view.focus()}onActiveViewChange(e){this.activeView=e}get outerWidth(){if(this.element)return g4(this.element.nativeElement)}openDialog(){const e={appendTo:this.editor.dialogContainer,content:rGe,width:400};this.editor.toolbar.toggle(!1);const t=this.dialogService.open(e).content.instance;this.renderer.addClass(t.dialog.dialog.instance.wrapper.nativeElement.querySelector(".k-window"),"k-editor-window"),t.setData({editor:this.editor,value:this.value,title:this.title,editorCommand:this.editorCommand,paletteSettings:this.paletteSettings,icon:this.icon,svgIcon:this.svgIcon,views:this.views})}canFocus(){return!this.disabled}focus(){this.tabindex=0,this.overflows?this.colorPickerButton?.nativeElement.focus():!this.colorPicker.isOpen&&this.colorPicker?.focus()}handleKey(){return this.tabindex=-1,!1}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(gn),s.rXU(a_),s.rXU(s.SKi),s.rXU($n),s.rXU(s.sFG))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-toolbar-colorpicker"]],viewQuery:function(e,t){if(1&e&&(s.GBs(m4,7),s.GBs(_4,7),s.GBs($ae,5,s.aKT),s.GBs($ae,5,qC),s.GBs(e$t,5,s.aKT)),2&e){let o;s.mGM(o=s.lsd())&&(t.toolbarTemplate=o.first),s.mGM(o=s.lsd())&&(t.popupTemplate=o.first),s.mGM(o=s.lsd())&&(t.element=o.first),s.mGM(o=s.lsd())&&(t.colorPicker=o.first),s.mGM(o=s.lsd())&&(t.colorPickerButton=o.first)}},inputs:{value:"value",icon:"icon",svgIcon:"svgIcon",paletteSettings:"paletteSettings",editorCommand:"editorCommand",disabled:"disabled",views:"views",view:"view"},features:[s.Jv_([{provide:yo,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:4,vars:0,consts:[["toolbarTemplate",""],["popupTemplate",""],["colorpicker",""],["colorPickerButton",""],[3,"valueChange","clearButtonClick","activeColorClick","open","close","activeViewChange","icon","svgIcon","views","format","value","paletteSettings","disabled","tabindex"],["tabindex","-1","role","menuitem",1,"k-item","k-menu-item",3,"click","tabindex"],[1,"k-link","k-menu-link"],[3,"name","svgIcon",4,"ngIf"],["class","k-menu-link-text",4,"ngIf"],[3,"name","svgIcon"],[1,"k-menu-link-text"]],template:function(e,t){1&e&&s.DNE(0,t$t,2,9,"ng-template",null,0,s.C5r)(2,s$t,5,5,"ng-template",null,1,s.C5r)},dependencies:[qC,Qe,q],encapsulation:2}),i})(),yv=(()=>{class i{constructor(e){this.colorPicker=e,this.colorPicker.icon=Yae.foreColor,this.colorPicker.svgIcon=Jae.foreColor,this.colorPicker.editorCommand="foreColor"}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(rm))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoEditorForeColor",""]]}),i})(),iXt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,Z1,eS,cr,YSe,IJ,Q5,FD,Tq,xn,P6e,YC,wq,Mq,uQ,i_],P6e,cr,Z1,eS]}),i})();const sXt=["form"],oXt=["addressModal"],rXt=["addressesModal"];function aXt(i,n){1&i&&s.nrm(0,"div",6)}function lXt(i,n){if(1&i){const e=s.RV6();s.j41(0,"form",12,2),s.bIt("ngSubmit",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.close())}),s.j41(2,"div",13)(3,"div",14)(4,"label"),s.EFF(5,"Nominativo"),s.k0s(),s.j41(6,"div",15)(7,"input",16),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.name,o)||(r.options.name=o),s.Njj(o)}),s.k0s(),s.nrm(8,"div",17),s.k0s()()(),s.j41(9,"div",13)(10,"div",14)(11,"label"),s.EFF(12,"Telefono"),s.k0s(),s.j41(13,"div",15)(14,"input",18),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.telephone,o)||(r.options.telephone=o),s.Njj(o)}),s.k0s()()(),s.j41(15,"div",14)(16,"label"),s.EFF(17,"Email"),s.k0s(),s.j41(18,"div",15)(19,"input",19),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.email,o)||(r.options.email=o),s.Njj(o)}),s.k0s()()()(),s.j41(20,"div",13)(21,"div",14)(22,"label"),s.EFF(23,"Contatto"),s.k0s(),s.j41(24,"div",15)(25,"input",20),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.contact,o)||(r.options.contact=o),s.Njj(o)}),s.k0s(),s.nrm(26,"div",17),s.k0s()(),s.j41(27,"div",14)(28,"label"),s.EFF(29,"Telefono Contatto"),s.k0s(),s.j41(30,"div",15)(31,"input",21),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.contactTelephone,o)||(r.options.contactTelephone=o),s.Njj(o)}),s.k0s()()(),s.j41(32,"div",14)(33,"label"),s.EFF(34,"Email Contatto"),s.k0s(),s.j41(35,"div",15)(36,"input",22),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.contactEmail,o)||(r.options.contactEmail=o),s.Njj(o)}),s.k0s()()()(),s.j41(37,"div",13)(38,"div",23)(39,"label"),s.EFF(40,"Indirizzo"),s.k0s(),s.j41(41,"div",15)(42,"kendo-combobox",24),s.mxI("valueChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.mainAddress,o)||(r.options.mainAddress=o),s.Njj(o)}),s.bIt("valueChange",function(o){s.eBV(e);const r=s.XpG(2);return s.Njj(r.mainAddressChanged(o))}),s.k0s(),s.j41(43,"button",25),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.createAddress())}),s.nrm(44,"i",26),s.k0s(),s.j41(45,"input",27),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.mainAddress,o)||(r.options.mainAddress=o),s.Njj(o)}),s.k0s(),s.nrm(46,"div",17),s.k0s()(),s.j41(47,"div",14)(48,"label"),s.EFF(49,"\xa0"),s.k0s(),s.j41(50,"div",15)(51,"button",28),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.editAddresses())}),s.nrm(52,"i",29),s.EFF(53," Gestione indirizzi "),s.k0s()()()(),s.j41(54,"div",30)(55,"button",31),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.dismiss())}),s.EFF(56," ANNULLA "),s.k0s(),s.j41(57,"button",32),s.EFF(58," SALVA "),s.k0s()()()}if(2&i){const e=s.sdS(1),t=s.XpG(2);s.R7$(7),s.R50("ngModel",t.options.name),s.R7$(),s.Y8G("control",e.controls.name),s.R7$(6),s.R50("ngModel",t.options.telephone),s.R7$(5),s.R50("ngModel",t.options.email),s.R7$(6),s.R50("ngModel",t.options.contact),s.R7$(),s.Y8G("control",e.controls.contact),s.R7$(5),s.R50("ngModel",t.options.contactTelephone),s.R7$(5),s.R50("ngModel",t.options.contactEmail),s.R7$(6),s.AVh("address-validation-error-combobox",t.isAddressInValidationError),s.Y8G("data",t.options.addresses),s.R50("value",t.options.mainAddress),s.R7$(3),s.Y8G("hidden",!0),s.R50("ngModel",t.options.mainAddress),s.R7$(),s.Y8G("control",e.controls.address)}}function cXt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",7)(1,"kendo-window",8),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.j41(2,"kendo-window-titlebar")(3,"div",9),s.EFF(4,"Fornitore"),s.k0s(),s.nrm(5,"button",10),s.k0s(),s.DNE(6,lXt,59,15,"form",11),s.k0s()()}if(2&i){const e=s.XpG();s.R7$(),s.Y8G("resizable",!1)("draggable",!1)("top",30),s.R7$(5),s.Y8G("ngIf",e.options)}}let Qae=(()=>{class i extends eo{get isAddressInValidationError(){return null!=this.form&&this.form.submitted&&!this.form.controls.address.valid}constructor(e,t,o){super(),this._messageBox=e,this._supplierService=t,this._addressesService=o,this.role=ci}_canClose(){return fl(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid}mainAddressChanged(e){void 0!==e&&this.options.addresses.forEach(t=>{t.isMainAddress=t.tempId===e.tempId})}addNewAddress(e){null==this.options.id?(this.options.addresses.push(e),e.isMainAddress&&(this.options.mainAddress=e,this.options.addresses.forEach(t=>{t.isMainAddress=t.tempId===e.tempId}))):this._subscriptions.push(this._addressesService.createAddress(e).pipe((0,V.T)(t=>t),F(t=>this._messageBox.success("Indirizzo creato con successo")),F(()=>this.readAddresses())).subscribe())}readAddresses(){this._subscriptions.push(this._supplierService.getSupplier(this.options.id).pipe((0,V.T)(e=>{const t=Object.assign(new Hu,e);this.options.addresses=t.addresses}),F(()=>{})).subscribe())}createAddress(){const e=new ns;e.supplierId=this.options.id,this._subscriptions.push(this.addressModal.open(e).pipe(X(t=>t),F(()=>{this.addNewAddress(e)})).subscribe())}editAddresses(){this._subscriptions.push(this.addressesModal.open().pipe(X(e=>e),F(()=>{console.log("closed edit addresses")})).subscribe())}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(vn),s.rXU($0),s.rXU(Vf))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-supplier-modal"]],viewQuery:function(t,o){if(1&t&&(s.GBs(sXt,5),s.GBs(oXt,7),s.GBs(rXt,7)),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first),s.mGM(r=s.lsd())&&(o.addressModal=r.first),s.mGM(r=s.lsd())&&(o.addressesModal=r.first)}},features:[s.Vt3],decls:6,vars:4,consts:[["addressModal",""],["addressesModal",""],["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[3,"supplier"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],["name","updateUserForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateUserForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row"],[1,"col-md-4"],[1,"form-group"],["name","name","required","","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"validation-message",3,"control"],["name","telephone","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","email","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["name","contact","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["name","contactTelephone","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","contactEmail","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-8"],["textField","fullAddress","suggest","true","valueField","tempId",1,"address-combobox",3,"valueChange","data","value"],["type","button","title","Nuovo indirizzo",1,"btn","btn-primary","add-address-button",3,"click"],[1,"fa","fa-plus"],["name","address","required","","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","hidden","ngModel"],["type","button","title","Gestione indirizza",1,"btn","btn-primary",3,"click"],[1,"fa","fa-edit"],[1,"text-right","mt-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","submit",1,"btn","btn-primary"]],template:function(t,o){1&t&&(s.DNE(0,aXt,1,0,"div",3)(1,cXt,7,4,"div",4),s.nrm(2,"app-address-modal",5,0)(4,"app-addresses-modal",5,1)),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("supplier",o.options),s.R7$(2),s.Y8G("supplier",o.options))},dependencies:[q,Ps,Qo,Di,Ls,lo,Ed,fs,ps,$i,ts,Ni,ca,za,F_,OMe],styles:[".address-validation-error-combobox[_ngcontent-%COMP%]{border:1px solid #dc3545}"]})}return i})();const dXt=["form"];function uXt(i,n){1&i&&s.nrm(0,"div",3)}function hXt(i,n){if(1&i){const e=s.RV6();s.j41(0,"form",9,0),s.bIt("ngSubmit",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.close())}),s.j41(2,"div",10)(3,"div",11)(4,"label"),s.EFF(5,"Data"),s.k0s(),s.j41(6,"div",12)(7,"kendo-datepicker",13),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.date,o)||(r.options.date=o),s.Njj(o)}),s.k0s(),s.nrm(8,"div",14),s.k0s()()(),s.j41(9,"div",10)(10,"div",15)(11,"label"),s.EFF(12,"Commento"),s.k0s(),s.j41(13,"div",12)(14,"kendo-editor",16),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.note,o)||(r.options.note=o),s.Njj(o)}),s.j41(15,"kendo-toolbar")(16,"kendo-toolbar-buttongroup"),s.nrm(17,"kendo-toolbar-button",17)(18,"kendo-toolbar-button",18)(19,"kendo-toolbar-button",19),s.k0s(),s.nrm(20,"kendo-toolbar-colorpicker",20),s.j41(21,"kendo-toolbar-buttongroup"),s.nrm(22,"kendo-toolbar-button",21),s.k0s(),s.j41(23,"kendo-toolbar-buttongroup"),s.nrm(24,"kendo-toolbar-button",22)(25,"kendo-toolbar-button",23),s.k0s()()(),s.nrm(26,"div",14),s.k0s()()(),s.j41(27,"div",24)(28,"button",25),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.dismiss())}),s.EFF(29," ANNULLA "),s.k0s(),s.j41(30,"button",26),s.EFF(31," SALVA "),s.k0s()()()}if(2&i){const e=s.sdS(1),t=s.XpG(2);s.R7$(7),s.R50("ngModel",t.options.date),s.Y8G("min",t.options.date),s.R7$(),s.Y8G("control",e.controls.date),s.R7$(6),s.R50("ngModel",t.options.note),s.Y8G("resizable",!0)("iframe",!1),s.R7$(12),s.Y8G("control",e.controls.note)}}function pXt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",4)(1,"kendo-window",5),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.j41(2,"kendo-window-titlebar")(3,"div",6),s.EFF(4," Nuovo Commento "),s.k0s(),s.nrm(5,"button",7),s.k0s(),s.DNE(6,hXt,32,7,"form",8),s.k0s()()}if(2&i){const e=s.XpG();s.R7$(),s.Y8G("resizable",!1)("draggable",!1)("top",100),s.R7$(5),s.Y8G("ngIf",e.options)}}let iz=(()=>{class i extends eo{constructor(e){super(),this._messageBox=e,this.windowState="default"}ngOnInit(){}_canClose(){return fl(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(vn))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-message-modal"]],viewQuery:function(t,o){if(1&t&&s.GBs(dXt,5),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first)}},features:[s.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],["name","messageModalForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","messageModalForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row"],[1,"col-md-3"],[1,"form-group"],["format","dd/MM/yyyy","name","date",3,"ngModelChange","ngModel","min"],[1,"validation-message",3,"control"],[1,"col-md-12"],["name","note","required","",2,"height","200px",3,"ngModelChange","ngModel","resizable","iframe"],["kendoEditorBoldButton",""],["kendoEditorItalicButton",""],["kendoEditorUnderlineButton",""],["kendoEditorForeColor",""],["kendoEditorInsertUnorderedListButton",""],["kendoEditorCreateLinkButton",""],["kendoEditorUnlinkButton",""],[1,"text-right","mt-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["type","submit",1,"btn","btn-primary"]],template:function(t,o){1&t&&s.DNE(0,uXt,1,0,"div",1)(1,pXt,7,4,"div",2),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened))},dependencies:[q,Ps,Di,Ls,lo,fs,ps,$i,ts,Ni,Ph,Lb,kg,Og,wg,Eg,yg,Dg,yv,rm,ep,Nn,ug,za],encapsulation:2})}return i})(),Zae=(()=>{class i extends Tn{transform(e){return this._getStatusLabel(e)||bMe[e.status]}_getStatusLabel(e){switch(e.status){case _a.Pending:return e.statusLabel0;case _a.InProgress:return e.statusLabel1;case _a.Completed:return e.statusLabel2;default:return null}}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=s.xGo(i)))(o||i)}})();static#t=this.\u0275pipe=s.EJ8({name:"activityStatus",type:i,pure:!0})}return i})();const fXt=["form"],mXt=["addressModal"],_Xt=["supplierModal"],gXt=["messageModal"],SO=()=>({caseSensitive:!1,operator:"contains"}),SXt=(i,n,e,t)=>({status:i,statusLabel0:n,statusLabel1:e,statusLabel2:t}),ele=i=>({messageUnread:i});function vXt(i,n){1&i&&s.nrm(0,"div",6)}function CXt(i,n){if(1&i&&(s.j41(0,"div",57),s.EFF(1),s.nI1(2,"activityStatus"),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.Lme(" Attivit\xe0 ",e.options.activity.number," \u2022 ",s.bMT(2,2,e.options.activity)," ")}}function bXt(i,n){1&i&&(s.j41(0,"div",57),s.EFF(1," Nuova attivit\xe0 "),s.k0s())}function EXt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",62),s.bIt("click",function(){s.eBV(e);const o=s.XpG(3);return s.Njj(o.createAddress())}),s.nrm(1,"i",46),s.k0s()}}function yXt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",15)(1,"div",25)(2,"label"),s.EFF(3,"Fornitore"),s.k0s(),s.j41(4,"kendo-formfield",17)(5,"kendo-combobox",58),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.activity.supplierId,o)||(r.options.activity.supplierId=o),s.Njj(o)}),s.bIt("valueChange",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.onSupplierChange())}),s.k0s(),s.j41(6,"button",59),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.createSupplier())}),s.nrm(7,"i",46),s.k0s(),s.nrm(8,"div",19),s.k0s()(),s.j41(9,"div",25)(10,"label"),s.EFF(11,"Indirizzo"),s.k0s(),s.j41(12,"div",17)(13,"kendo-combobox",60),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.activity.addressId,o)||(r.options.activity.addressId=o),s.Njj(o)}),s.k0s(),s.nrm(14,"div",19),s.DNE(15,EXt,2,0,"button",61),s.k0s()()()}if(2&i){s.XpG();const e=s.sdS(10),t=s.XpG();s.R7$(5),s.Y8G("data",t.suppliers)("valuePrimitive",!0),s.R50("ngModel",t.options.activity.supplierId),s.Y8G("suggest",!0)("kendoDropDownFilter",s.lJ4(16,SO))("allowCustom",!1)("disabled",!!t.options.id),s.R7$(3),s.Y8G("control",e.controls.supplierId),s.R7$(5),s.Y8G("data",t.addresses)("valuePrimitive",!0)("kendoDropDownFilter",s.lJ4(17,SO)),s.R50("ngModel",t.options.activity.addressId),s.Y8G("suggest",!0)("allowCustom",!1),s.R7$(),s.Y8G("control",e.controls.addressId),s.R7$(),s.Y8G("ngIf",!t.options.activity.supplierId)}}function DXt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",15)(1,"div",25)(2,"label"),s.EFF(3,"Indirizzo"),s.k0s(),s.j41(4,"div",17)(5,"kendo-combobox",63),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG(2);return s.DH7(r.options.activity.addressId,o)||(r.options.activity.addressId=o),s.Njj(o)}),s.k0s(),s.nrm(6,"div",19),s.j41(7,"button",62),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.createAddress())}),s.nrm(8,"i",46),s.k0s()()()()}if(2&i){s.XpG();const e=s.sdS(10),t=s.XpG();s.R7$(5),s.Y8G("data",t.addresses)("valuePrimitive",!0),s.R50("ngModel",t.options.activity.addressId),s.Y8G("kendoDropDownFilter",s.lJ4(8,SO))("required",!(null!=t.selectedActivityType&&t.selectedActivityType.isInternal))("suggest",!0)("allowCustom",!1),s.R7$(),s.Y8G("control",e.controls.addressId)}}function wXt(i,n){if(1&i&&(s.EFF(0),s.nI1(1,"activityStatus")),2&i){const e=s.XpG(2);s.SpI(" ",s.bMT(1,1,e.options.activity)," ")}}function kXt(i,n){if(1&i&&(s.EFF(0),s.nI1(1,"activityStatus")),2&i){const e=n.$implicit,t=s.XpG(2);s.SpI(" ",s.bMT(1,1,s.ziG(3,SXt,e,t.options.activity.statusLabel0,t.options.activity.statusLabel1,t.options.activity.statusLabel2))," ")}}function OXt(i,n){if(1&i&&(s.j41(0,"strong",64),s.EFF(1),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.SpI("Da leggere: ",e.unreadMessages,"")}}function TXt(i,n){1&i&&s.nrm(0,"i",74)}function MXt(i,n){1&i&&s.nrm(0,"i",75)}function IXt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",65)(1,"div",66),s.EFF(2),s.nI1(3,"date"),s.k0s(),s.j41(4,"div",66),s.EFF(5),s.k0s(),s.nrm(6,"div",67),s.j41(7,"div",68)(8,"button",69),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG(2);return s.Njj(r.markAsRead(o))}),s.DNE(9,TXt,1,0,"i",70)(10,MXt,1,0,"i",71),s.k0s(),s.j41(11,"button",72),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG(2);return s.Njj(r.deleteMessage(o))}),s.nrm(12,"i",73),s.k0s()()()}if(2&i){const e=n.$implicit,t=s.XpG(2);s.R7$(),s.Y8G("ngClass",s.eq3(13,ele,!e.isRead)),s.R7$(),s.SpI(" ",s.i5U(3,10,e.date,"dd/MM/yyyy"),""),s.R7$(2),s.Y8G("ngClass",s.eq3(15,ele,!e.isRead)),s.R7$(),s.SpI(" ",e.operatorName,""),s.R7$(),s.Y8G("ngClass",s.eq3(17,ele,!e.isRead))("innerHTML",e.note,s.npT),s.R7$(2),s.Y8G("disabled",e.isRead),s.R7$(),s.Y8G("ngIf",e.isRead),s.R7$(),s.Y8G("ngIf",!e.isRead),s.R7$(),s.Y8G("disabled",e.operatorId!=t.currentOperator.id)}}function RXt(i,n){if(1&i){const e=s.RV6();s.j41(0,"a",76),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG(2);return s.Njj(r.downloadAttachment(o[0].name))}),s.EFF(1),s.k0s()}if(2&i){const e=n.$implicit;s.R7$(),s.SpI(" ",e[0].name," ")}}function AXt(i,n){if(1&i&&s.nrm(0,"img",81),2&i){const e=s.XpG().$implicit,t=s.XpG(2);s.Y8G("src",t.pathImage+e.fileName,s.B4B)("title",e.displayName)}}function xXt(i,n){if(1&i&&s.nrm(0,"img",82),2&i){const e=s.XpG().$implicit;s.Y8G("title",e.displayName)}}function NXt(i,n){if(1&i&&(s.j41(0,"div",77)(1,"a",78),s.DNE(2,AXt,1,2,"img",79)(3,xXt,1,1,"img",80),s.k0s()()),2&i){const e=n.$implicit,t=s.XpG(2);s.R7$(),s.Y8G("href",t.pathImage+e.fileName,s.B4B),s.R7$(),s.Y8G("ngIf",e.isImage),s.R7$(),s.Y8G("ngIf",!e.isImage)}}function LXt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",7)(1,"kendo-window",8),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.j41(2,"kendo-window-titlebar"),s.DNE(3,CXt,3,4,"div",9)(4,bXt,2,0,"div",9),s.nrm(5,"button",10)(6,"button",11)(7,"button",12)(8,"button",13),s.k0s(),s.j41(9,"form",14,3),s.bIt("submit",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.close())}),s.j41(11,"div",15)(12,"div",16)(13,"label"),s.EFF(14,"Numero"),s.k0s(),s.j41(15,"div",17),s.nrm(16,"input",18)(17,"div",19),s.k0s()(),s.j41(18,"div",20)(19,"label"),s.EFF(20,"Commessa"),s.k0s(),s.j41(21,"div",17)(22,"kendo-combobox",21),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.activity.jobId,o)||(r.options.activity.jobId=o),s.Njj(o)}),s.bIt("valueChange",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onJobChanged())}),s.k0s(),s.nrm(23,"div",19),s.k0s()(),s.j41(24,"div",22)(25,"label"),s.EFF(26,"Tipologia"),s.k0s(),s.j41(27,"div",17)(28,"kendo-combobox",23),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.activity.typeId,o)||(r.options.activity.typeId=o),s.Njj(o)}),s.bIt("valueChange",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onActivityTypeChange())}),s.k0s(),s.nrm(29,"div",19),s.k0s()()(),s.DNE(30,yXt,16,18,"div",24)(31,DXt,9,9,"div",24),s.j41(32,"div",15)(33,"div",25)(34,"label"),s.EFF(35,"Operatore"),s.k0s(),s.j41(36,"kendo-combobox",26),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.activity.referentId,o)||(r.options.activity.referentId=o),s.Njj(o)}),s.k0s()(),s.j41(37,"div",27)(38,"label"),s.EFF(39,"Scadenza"),s.k0s(),s.j41(40,"div",17)(41,"kendo-datepicker",28),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.activity.expirationDate,o)||(r.options.activity.expirationDate=o),s.Njj(o)}),s.k0s(),s.nrm(42,"div",19),s.k0s()(),s.j41(43,"div",27)(44,"label"),s.EFF(45,"Stato"),s.k0s(),s.j41(46,"div",17)(47,"kendo-dropdownlist",29),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.activity.status,o)||(r.options.activity.status=o),s.Njj(o)}),s.DNE(48,wXt,2,3,"ng-template",30)(49,kXt,2,8,"ng-template",31),s.k0s(),s.nrm(50,"div",19),s.k0s()()(),s.j41(51,"div",15)(52,"div",32)(53,"label"),s.EFF(54,"Attivit\xe0"),s.k0s(),s.j41(55,"div",17)(56,"input",33),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.activity.shortDescription,o)||(r.options.activity.shortDescription=o),s.Njj(o)}),s.k0s(),s.nrm(57,"div",19),s.k0s()()(),s.j41(58,"div",15)(59,"div",32)(60,"div",17)(61,"label"),s.EFF(62,"Descrizione"),s.k0s(),s.j41(63,"kendo-editor",34),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.activity.informations,o)||(r.options.activity.informations=o),s.Njj(o)}),s.j41(64,"kendo-toolbar")(65,"kendo-toolbar-buttongroup"),s.nrm(66,"kendo-toolbar-button",35)(67,"kendo-toolbar-button",36)(68,"kendo-toolbar-button",37),s.k0s(),s.nrm(69,"kendo-toolbar-colorpicker",38),s.j41(70,"kendo-toolbar-buttongroup"),s.nrm(71,"kendo-toolbar-button",39),s.k0s(),s.j41(72,"kendo-toolbar-buttongroup"),s.nrm(73,"kendo-toolbar-button",40)(74,"kendo-toolbar-button",41),s.k0s()()(),s.nrm(75,"div",19),s.k0s()()(),s.nrm(76,"hr",42),s.j41(77,"div",15)(78,"div",32)(79,"div",17)(80,"label"),s.EFF(81),s.DNE(82,OXt,2,1,"strong",43),s.k0s(),s.j41(83,"div",44)(84,"div",16)(85,"button",45),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.createMessage())}),s.nrm(86,"i",46),s.k0s()(),s.j41(87,"div",47),s.DNE(88,IXt,13,19,"div",48),s.k0s()()()()(),s.nrm(89,"hr",42),s.j41(90,"div",15)(91,"div",27)(92,"kendo-formfield",17)(93,"label"),s.EFF(94,"Allegati"),s.k0s(),s.j41(95,"kendo-upload",49),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.attachments,o)||(r.attachments=o),s.Njj(o)}),s.bIt("success",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.AttachmentExecutionSuccess(o))}),s.DNE(96,RXt,2,1,"ng-template",50),s.nrm(97,"kendo-upload-messages",51),s.k0s()()(),s.j41(98,"div",52)(99,"div",15),s.DNE(100,NXt,4,3,"div",53),s.k0s()()(),s.j41(101,"div",54)(102,"button",55),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.EFF(103," Annulla "),s.k0s(),s.j41(104,"button",56),s.EFF(105," Salva "),s.k0s()()()()()}if(2&i){const e=s.sdS(10),t=s.XpG();s.R7$(),s.Y8G("resizable",!0)("draggable",!0)("top",30),s.R7$(2),s.Y8G("ngIf",!!t.options.activity.id),s.R7$(),s.Y8G("ngIf",!t.options.activity.id),s.R7$(12),s.Y8G("ngModel",t.options.activity.number),s.R7$(),s.Y8G("control",e.controls.number),s.R7$(5),s.Y8G("data",t.jobs),s.R50("ngModel",t.options.activity.jobId),s.Y8G("suggest",!0)("allowCustom",!1)("kendoDropDownFilter",s.lJ4(52,SO))("valuePrimitive",!0)("readonly",t.jobReadonly),s.R7$(),s.Y8G("control",e.controls.jobId),s.R7$(5),s.Y8G("data",t.activityTypes)("valuePrimitive",!0),s.R50("ngModel",t.options.activity.typeId),s.Y8G("suggest",!0)("kendoDropDownFilter",s.lJ4(53,SO))("allowCustom",!1)("disabled",t.options.activity.id),s.R7$(),s.Y8G("control",e.controls.typeId),s.R7$(),s.Y8G("ngIf",null==t.selectedActivityType?null:t.selectedActivityType.isExternal),s.R7$(),s.Y8G("ngIf",!(null!=t.selectedActivityType&&t.selectedActivityType.isExternal||null!=t.selectedActivityType&&t.selectedActivityType.isInternal)),s.R7$(5),s.Y8G("data",t.operators)("valuePrimitive",!0),s.R50("ngModel",t.options.activity.referentId),s.Y8G("suggest",!0)("kendoDropDownFilter",s.lJ4(54,SO))("allowCustom",!1)("disabled",!(null!=t.selectedActivityType&&t.selectedActivityType.isExternal||null!=t.selectedActivityType&&t.selectedActivityType.isInternal)),s.R7$(5),s.R50("ngModel",t.options.activity.expirationDate),s.R7$(),s.Y8G("control",e.controls.expirationDate),s.R7$(5),s.Y8G("data",t.states)("valuePrimitive",!0),s.R50("ngModel",t.options.activity.status),s.R7$(3),s.Y8G("control",e.controls.status),s.R7$(6),s.R50("ngModel",t.options.activity.shortDescription),s.R7$(),s.Y8G("control",e.controls.shortDescription),s.R7$(6),s.R50("ngModel",t.options.activity.informations),s.Y8G("resizable",!0)("iframe",!1),s.R7$(12),s.Y8G("control",e.controls.informations),s.R7$(6),s.SpI("Commenti (",t.options.activity.messages.length,") "),s.R7$(),s.Y8G("ngIf",t.unreadMessages),s.R7$(6),s.Y8G("ngForOf",t.options.activity.messages),s.R7$(7),s.R50("ngModel",t.attachments),s.Y8G("saveUrl",t.uploadSaveUrl)("removeUrl",t.uploadRemoveUrl)("multiple",!0),s.R7$(5),s.Y8G("ngForOf",t.options.activity.attachments)}}let C4=(()=>{class i extends eo{constructor(e,t,o,r,a,l,c,u){super(),this._activityTypesService=e,this._messageBox=t,this._jobsService=o,this._suppliersService=r,this._addressesService=a,this._operatorsService=l,this._user=c,this._messagesService=u,this.attachments=[],this._baseUrl=`${fn.baseApiUrl}/activities`,this.pathImage=`${fn.baseAttachmentsUrl}/`,this.uploadSaveUrl=`${this._baseUrl}/activity-attachment/upload-file`,this.uploadRemoveUrl=`${this._baseUrl}/activity-attachment/remove-file`,this.states=nk(_a)}ngOnInit(){this._getActivityTypes(),this._getSuppliers(),this._getOperators(),this.user=this._user.getUser(),this._getCurrentOperator(this.user.id)}onJobChanged(){this.options.activity.addressId=null,this._tryGetAddress()}onActivityTypeChange(){if(this.selectedActivityType=this.activityTypes.find(e=>e.id==this.options.activity.typeId),this.selectedJob=this.jobs.find(e=>e.id==this.options.activity.jobId),this.selectedActivityType.isInternal){if(this.onSupplierChange(),!this.options.activity.supplierId){this.options.activity.addressId=null;const e=this.jobs.find(t=>t.id===this.options.activity.jobId).customerId;this.readAddresses(e)}}else{const e=this.jobs.find(t=>t.id===this.options.activity.jobId).customerId;this.readAddresses(e)}}createSupplier(){const e=new Hu;this._subscriptions.push(this.supplierModal.open(e).pipe(X(t=>t),le(()=>this._suppliersService.createSupplier(e)),F(t=>{this.options.activity.supplierId=t.id,this._messageBox.success(`Fornitore ${e.name} creato`)}),F(()=>this._getSuppliers())).subscribe())}onSupplierChange(){const e=this.suppliers.find(t=>t.id==this.options.activity.supplierId);if(this.addresses=e?.addresses??[],null!=e){const t=e.addresses.find(o=>1==o.isMainAddress);null!=t&&(this.options.activity.addressId=t.id)}}open(e){const t=super.open(e);return this.attachments=[],null!=e.activity.attachments&&this.options.activity.attachments.forEach(o=>{null!=o.displayName&&null!=o.fileName&&this.attachments.push({name:o.displayName})}),this.options.activity.jobId&&this._subscriptions.push(this._jobsService.get(this.options.activity.jobId).pipe(F(o=>{this.job=o})).subscribe()),this.jobReadonly=!!e.activity.jobId,this.customer=null,this.status=e.activity.status,this._getJobs(),this.options.activity.typeId&&(this.selectedActivityType=this.activityTypes.find(o=>o.id==this.options.activity.typeId),this.selectedActivityType.isInternal&&this.options.activity.supplierId&&this.onSupplierChange()),this.updateUnreadCounter(),t}_canClose(){return this.form.markAsDirty(),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi."),this.form.valid}_getActivityTypes(){this._subscriptions.push(this._activityTypesService.readActivityTypesList().pipe(F(e=>this.activityTypes=e)).subscribe())}_getSuppliers(){this._subscriptions.push(this._suppliersService.getSuppliersList().pipe(F(e=>this._setData(e)),F(()=>{this.selectedActivityType&&this.selectedActivityType.isInternal&&this.options.activity.supplierId&&this.onSupplierChange()})).subscribe())}_getOperators(){this._subscriptions.push(this._operatorsService.readOperators({sort:[{field:"name",dir:"asc"}]}).pipe(F(t=>this.operators=t.data)).subscribe())}_setData(e){this.suppliers=e}_getJobs(){const e={filter:{filters:[],logic:"and"},sort:[{field:"date",dir:"asc"}]};this.options.activity.jobId&&e.filter.filters.push({field:"id",operator:"eq",value:this.options.activity.jobId}),this._subscriptions.push(this._jobsService.read(e).pipe(F(t=>this.jobs=t.data.map(o=>new PXt(o))),F(()=>this._tryGetAddress())).subscribe())}_tryGetAddress(){if(!this.options.activity.jobId)return this.addresses=[],void(this.options.activity.addressId=null);const e=this.jobs.find(o=>o.id===this.options.activity.jobId).customerId;if(this.readAddresses(e),this.options.activity.addressId)return;const t=this.jobs.find(o=>o.id===this.options.activity.jobId).addressId;this.options.activity.addressId=t}createAddress(){const e=new ns;this._subscriptions.push(this.addressModal.open(e).pipe(X(t=>t),F(()=>{this.addNewAddress(e)})).subscribe())}addNewAddress(e){null!==this.job.customerId&&(e.customerId=this.job.customerId),this._subscriptions.push(this._addressesService.createAddress(e).pipe((0,V.T)(t=>t),F(t=>{this.readAddresses(this.job.customerId),this.options.activity.addressId=t.id,this._messageBox.success("Indirizzo creato con successo")})).subscribe())}readAddresses(e){this._subscriptions.push(this._addressesService.getCustomerAddresses(e).pipe((0,V.T)(t=>{this.addresses=t}),F(()=>{})).subscribe())}downloadAttachment(e){const t=this.options.activity.attachments.find(r=>r.displayName===e);window.open(`${this._baseUrl}/activity-attachment/download-file/${t.fileName}/${t.displayName}`)}AttachmentExecutionSuccess(e){const t=e.response.body;if(null!=t){let o=new sk(0,t.originalFileName,t.fileName,this.options.activity.id);this.options.activity.attachments.push(o)}else{const o=e.files[0].name;this.options.activity.attachments.findAndRemove(r=>r.displayName===o)}}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(F(t=>this.currentOperator=t)).subscribe())}createMessage(){const e=Ff(),t=new U_(0,e,null,this.currentOperator.id,null,this.options.activity.id,null,null);this._subscriptions.push(this.messageModal.open(t).pipe(X(o=>o),le(()=>this._messagesService.create(t)),F(o=>{var r=new Vu(o.id,o.date,o.note,o.operatorId,this.currentOperator.name,o.jobId,o.activityId,o.ticketId,o.purchaseOrderId,"",!0);this.options.activity.messages.push(r)}),F(()=>this._messageBox.success("Commento creato"))).subscribe())}markAsRead(e){this._subscriptions.push(this._messagesService.markAsRead(e.id,this.currentOperator.id).pipe(F(()=>{e.isRead=!0,this._messageBox.success("Commento letto"),this.updateUnreadCounter()})).subscribe())}deleteMessage(e){this._messageBox.confirm("Sei sicuro di voler cancellare il commento?","Conferma l'azione").subscribe(t=>{1==t&&this._subscriptions.push(this._messagesService.delete(e.id).pipe(F(o=>{this.options.activity.messages.remove(e),this.updateUnreadCounter()}),F(o=>this._messageBox.success("Commento cancellato con successo"))).subscribe())})}updateUnreadCounter(){this.unreadMessages=this.options.activity.messages.count(e=>!e.isRead)}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(rk),s.rXU(vn),s.rXU(qf),s.rXU($0),s.rXU(Vf),s.rXU(Bc),s.rXU(ro),s.rXU(Vx))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-activity-modal"]],viewQuery:function(t,o){if(1&t&&(s.GBs(fXt,5),s.GBs(mXt,7),s.GBs(_Xt,7),s.GBs(gXt,7)),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first),s.mGM(r=s.lsd())&&(o.addressModal=r.first),s.mGM(r=s.lsd())&&(o.supplierModal=r.first),s.mGM(r=s.lsd())&&(o.messageModal=r.first)}},features:[s.Vt3],decls:8,vars:2,consts:[["addressModal",""],["supplierModal",""],["messageModal",""],["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],["class","k-window-title",4,"ngIf"],["kendoWindowMinimizeAction",""],["kendoWindowRestoreAction",""],["kendoWindowMaximizeAction",""],["kendoWindowCloseAction",""],["name","activity-modal-form","novalidate","","autocomplete","off",1,"redimensionModal",3,"submit"],[1,"row"],[1,"col-md-1"],[1,"form-group"],["name","number","novalidate","","autocomplete","off","disabled","",1,"form-control",3,"ngModel"],[1,"validation-message",3,"control"],[1,"col-md-7"],["textField","fullName","valueField","id","name","jobId","required","",3,"ngModelChange","valueChange","data","ngModel","suggest","allowCustom","kendoDropDownFilter","valuePrimitive","readonly"],[1,"col-md-4"],["textField","name","valueField","id","name","typeId","required","",3,"ngModelChange","valueChange","data","valuePrimitive","ngModel","suggest","kendoDropDownFilter","allowCustom","disabled"],["class","row",4,"ngIf"],[1,"col-md-6"],["textField","name","valueField","id","name","referentId","required","",3,"ngModelChange","data","valuePrimitive","ngModel","suggest","kendoDropDownFilter","allowCustom","disabled"],[1,"col-md-3"],["name","expirationDate","format","dd/MM/yyyy",3,"ngModelChange","ngModel"],["name","status","required","",3,"ngModelChange","data","valuePrimitive","ngModel"],["kendoDropDownListValueTemplate",""],["kendoDropDownListItemTemplate",""],[1,"col-md-12"],["name","shortDescription","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["name","informations",3,"ngModelChange","ngModel","resizable","iframe"],["kendoEditorBoldButton",""],["kendoEditorItalicButton",""],["kendoEditorUnderlineButton",""],["kendoEditorForeColor",""],["kendoEditorInsertUnorderedListButton",""],["kendoEditorCreateLinkButton",""],["kendoEditorUnlinkButton",""],[1,"border-green"],["style","padding-left: 15px;",4,"ngIf"],[1,"row",2,"margin-top","5px"],["title","Aggiungi nuovo commento","type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus"],[1,"col-md-11"],["class","row messageTableRow",4,"ngFor","ngForOf"],["name","myUpload",3,"ngModelChange","success","ngModel","saveUrl","removeUrl","multiple"],["kendoUploadFileInfoTemplate",""],["dropFilesHere"," "],[1,"col-md-9"],["class","col-2",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","gap-2","mt-5"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"k-window-title"],["textField","name","valueField","id","name","supplierId",1,"customer-combobox",3,"ngModelChange","valueChange","data","valuePrimitive","ngModel","suggest","kendoDropDownFilter","allowCustom","disabled"],["type","button","title","Nuovo fornitore",1,"btn","btn-primary","add-customer-button",3,"click"],["textField","fullAddress","valueField","id","name","addressId",1,"address-combobox",3,"ngModelChange","data","valuePrimitive","kendoDropDownFilter","ngModel","suggest","allowCustom"],["type","button","class","btn btn-primary add-address-button","title","Nuovo indirizzo",3,"click",4,"ngIf"],["type","button","title","Nuovo indirizzo",1,"btn","btn-primary","add-address-button",3,"click"],["textField","fullAddress","valueField","id","name","addressId",1,"address-combobox",3,"ngModelChange","data","valuePrimitive","ngModel","kendoDropDownFilter","required","suggest","allowCustom"],[2,"padding-left","15px"],[1,"row","messageTableRow"],[1,"col-md-2","messageRowPadding",3,"ngClass"],[1,"col-md-6","messageRowPadding",3,"ngClass","innerHTML"],[1,"col-md-2",2,"text-align","right"],["type","button","title","Segna come letto",1,"btn","btn-outline-primary","me-2",3,"click","disabled"],["class","fa-regular fa-square-check",4,"ngIf"],["class","fa-regular fa-square",4,"ngIf"],["type","button","title","Elimina",1,"btn","btn-outline-danger",3,"click","disabled"],[1,"fas","fa-trash"],[1,"fa-regular","fa-square-check"],[1,"fa-regular","fa-square"],[1,"pointer",3,"click"],[1,"col-2"],["target","_blank",3,"href"],["width","90%",3,"src","title",4,"ngIf"],["src","assets/document.jpg","width","90%",3,"title",4,"ngIf"],["width","90%",3,"src","title"],["src","assets/document.jpg","width","90%",3,"title"]],template:function(t,o){1&t&&(s.DNE(0,vXt,1,0,"div",4)(1,LXt,106,55,"div",5),s.nrm(2,"app-address-modal",null,0)(4,"app-supplier-modal",null,1)(6,"app-message-modal",null,2)),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened))},dependencies:[Be,ut,q,Ps,Qo,Di,Ls,lo,Ed,fs,ps,$i,ts,W1,K1,Y1,Ni,Na,C_,qD,ca,Ws,Ph,ol,FS,BS,zf,Lb,kg,Og,wg,Eg,yg,Dg,yv,rm,ep,Nn,ug,za,F_,Qae,iz,To,Zae],encapsulation:2})}return i})();class Pb{constructor(n){this.activity=n}}class PXt{constructor(n){this.id=n.id,this.customer=n.customer,this.code=n.code,this.fullName=`${n.code} - ${n.customer}`+(n.reference?` - ${n.reference}`:""),this.customerId=n.customerId,this.addressId=n.addressId,this.description=n.description}}class b4{constructor(n,e,t,o){this.id=n,this.displayName=e,this.fileName=t,this.purchaseOrderId=o}static build(n){return new b4(n.id,n.displayName,n.fileName,n.purchaseOrderId)}get isImage(){return!!(this.fileName.endsWith(".jpg")||this.fileName.endsWith(".png")||this.fileName.endsWith(".jpeg")||this.fileName.endsWith(".gif"))}}var Ka=function(i){return i[i.Pending=0]="Pending",i[i.Ordered=1]="Ordered",i[i.Completed=2]="Completed",i[i.Withdrawn=3]="Withdrawn",i[i.Canceled=4]="Canceled",i}(Ka||{});const dGe={[Ka.Pending]:"Da ordinare",[Ka.Ordered]:"Ordinato",[Ka.Completed]:"Consegnato",[Ka.Withdrawn]:"Ritirato",[Ka.Canceled]:"Annullato"};class Dv{get code(){return`${this.year}/${this.number}`}constructor(n,e,t,o,r,a,l,c,u,f,_,S,v,b){this.id=n,this.number=e,this.year=t,this.description=a,this.status=l,this.jobId=c,this.supplierId=u,this.supplierName=f,this.operatorId=_,this.items=S,this.attachments=v,this.messages=b,this.date=o?new Date(o):null,this.expectedDate=r?new Date(r):null}static build(n){const e=n.items.map(r=>E4.build(r)),t=n.attachments.map(r=>b4.build(r)),o=n.messages.map(r=>Vu.build(r));return new Dv(n.id,n.number,n.year,n.date,n.expectedDate,n.description,n.status,n.jobId,n.supplierId,n.supplierName,n.operatorId,e,t,o)}}class E4{constructor(n,e,t,o,r,a){this.id=n,this.purchaseOrderId=e,this.productId=t,this.productName=o,this.productImage=r,this.quantity=a}clone(){return new E4(this.id,this.purchaseOrderId,this.productId,this.productName,this.productImage,this.quantity)}static build(n){return new E4(n.id,n.purchaseOrderId,n.productId,n.productName,n.productImage,n.quantity)}}const GXt=["form"];function UXt(i,n){1&i&&s.nrm(0,"div",3)}function FXt(i,n){if(1&i&&s.nrm(0,"img",22),2&i){const e=s.XpG().$implicit,t=s.XpG(2);s.Y8G("src",t.imagesUrl+e.pictureFileName,s.B4B)}}function BXt(i,n){if(1&i&&(s.j41(0,"div",20),s.DNE(1,FXt,1,1,"img",21),s.j41(2,"span"),s.EFF(3),s.k0s()()),2&i){const e=n.$implicit;s.R7$(),s.Y8G("ngIf",e.pictureFileName),s.R7$(2),s.SpI(" ",e.fullName," ")}}function VXt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",4)(1,"kendo-window",5),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.j41(2,"kendo-window-titlebar")(3,"div",6),s.EFF(4," Aggiungi prodotto "),s.k0s(),s.nrm(5,"button",7),s.k0s(),s.j41(6,"form",8,0),s.bIt("submit",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.close())}),s.j41(8,"div",9)(9,"div",10)(10,"label"),s.EFF(11,"Prodotto"),s.k0s(),s.j41(12,"div",11)(13,"kendo-combobox",12),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.productId,o)||(r.options.productId=o),s.Njj(o)}),s.bIt("valueChange",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onProductChange())}),s.DNE(14,BXt,4,2,"ng-template",13),s.k0s(),s.nrm(15,"div",14),s.k0s()(),s.j41(16,"div",15)(17,"label"),s.EFF(18,"Quantit\xe0"),s.k0s(),s.j41(19,"div",11)(20,"kendo-numerictextbox",16),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.quantity,o)||(r.options.quantity=o),s.Njj(o)}),s.k0s(),s.nrm(21,"div",14),s.k0s()()(),s.j41(22,"div",17)(23,"button",18),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.EFF(24," Annulla "),s.k0s(),s.j41(25,"button",19),s.EFF(26," Conferma "),s.k0s()()()()()}if(2&i){const e=s.sdS(7),t=s.XpG();s.R7$(),s.Y8G("resizable",!1)("draggable",!1)("top",50),s.R7$(12),s.Y8G("data",t.products)("valuePrimitive",!0),s.R50("ngModel",t.options.productId),s.Y8G("suggest",!0)("allowCustom",!1),s.R7$(2),s.Y8G("control",e.controls.productId),s.R7$(5),s.R50("ngModel",t.options.quantity),s.Y8G("min",.01)("decimals",2),s.R7$(),s.Y8G("control",e.controls.quantity)}}let zXt=(()=>{class i extends eo{constructor(e,t){super(),this._messageBox=e,this._productsService=t,this.imagesUrl=`${fn.baseAttachmentsUrl}/`}ngOnInit(){this._readSpareParts()}onProductChange(){const e=this.products.find(t=>t.id===this.options.productId);this.options.productName=e?.name,this.options.productImage=e?.pictureFileName}_canClose(){return this.form.markAsDirty(),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi."),this.form.valid}_readSpareParts(){this._subscriptions.push(this._productsService.readSpareParts({sort:[{field:"name",dir:"asc"}]}).pipe(F(t=>this.products=t.data.map(o=>new HXt(o)))).subscribe())}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(vn),s.rXU($A))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-purchase-order-item-modal"]],viewQuery:function(t,o){if(1&t&&s.GBs(GXt,5),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first)}},features:[s.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],["name","purchase-order-item-modal-form","novalidate","","autocomplete","off",1,"redimensionModal",3,"submit"],[1,"row"],[1,"col-md-8"],[1,"form-group"],["textField","fullName","valueField","id","name","product","required","",3,"ngModelChange","valueChange","data","valuePrimitive","ngModel","suggest","allowCustom"],["kendoComboBoxItemTemplate",""],[1,"validation-message",3,"control"],[1,"col-md-2"],["name","quantity","required","","format","0.00",3,"ngModelChange","ngModel","min","decimals"],[1,"d-flex","justify-content-end","gap-2","mt-5"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"d-flex","align-items-center","gap-1"],["class","thumbnail-xs",3,"src",4,"ngIf"],[1,"thumbnail-xs",3,"src"]],template:function(t,o){1&t&&s.DNE(0,UXt,1,0,"div",1)(1,VXt,27,13,"div",2),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened))},dependencies:[q,Ps,Di,Ls,lo,fs,ps,$i,ts,Ni,Na,ca,Dd,za],encapsulation:2})}return i})();class HXt{constructor(n){this.id=n.id,this.code=n.code,this.name=n.name,this.fullName=`${n.code} - ${n.name}`,this.pictureFileName=n.pictureFileName,this.description=n.description}}let uGe=(()=>{class i extends Tn{transform(e){return dGe[e]}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=s.xGo(i)))(o||i)}})();static#t=this.\u0275pipe=s.EJ8({name:"purchaseOrderStatus",type:i,pure:!0})}return i})();const jXt=["form"],$Xt=["purchaseOrderItemModal"],XXt=["supplierModal"],WXt=["messageModal"],hGe=()=>({caseSensitive:!1,operator:"contains"}),tle=i=>({messageUnread:i});function KXt(i,n){1&i&&s.nrm(0,"div",6)}function YXt(i,n){if(1&i&&(s.j41(0,"div",69),s.EFF(1),s.nI1(2,"purchaseOrderStatus"),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.Lme(" Ordine ",e.options.purchaseOrder.number," \u2022 ",s.bMT(2,2,e.status)," ")}}function JXt(i,n){1&i&&(s.j41(0,"div",69),s.EFF(1," Nuovo Ordine "),s.k0s())}function qXt(i,n){1&i&&(s.EFF(0),s.nI1(1,"purchaseOrderStatus")),2&i&&s.SpI(" ",s.bMT(1,1,n.$implicit)," ")}function QXt(i,n){1&i&&(s.EFF(0),s.nI1(1,"purchaseOrderStatus")),2&i&&s.SpI(" ",s.bMT(1,1,n.$implicit)," ")}function ZXt(i,n){if(1&i&&(s.j41(0,"a",71),s.nrm(1,"img",72),s.k0s()),2&i){const e=s.XpG().$implicit,t=s.XpG(2);s.Y8G("href",t.imagesUrl+e.productImage,s.B4B),s.R7$(),s.Y8G("src",t.imagesUrl+e.productImage,s.B4B)}}function eWt(i,n){1&i&&s.DNE(0,ZXt,2,2,"a",70),2&i&&s.Y8G("ngIf",n.$implicit.productImage)}function tWt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",73)(1,"button",74),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG(2);return s.Njj(r.edit(o))}),s.nrm(2,"i",75),s.k0s(),s.j41(3,"button",76),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG(2);return s.Njj(r.askRemove(o))}),s.nrm(4,"i",77),s.k0s()()}}function nWt(i,n){if(1&i&&(s.j41(0,"strong",78),s.EFF(1),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.SpI("Da leggere: ",e.unreadMessages,"")}}function iWt(i,n){1&i&&s.nrm(0,"i",87)}function sWt(i,n){1&i&&s.nrm(0,"i",88)}function oWt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",79)(1,"div",80),s.EFF(2),s.nI1(3,"date"),s.k0s(),s.j41(4,"div",80),s.EFF(5),s.k0s(),s.nrm(6,"div",81),s.j41(7,"div",82)(8,"button",83),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG(2);return s.Njj(r.markAsRead(o))}),s.DNE(9,iWt,1,0,"i",84)(10,sWt,1,0,"i",85),s.k0s(),s.j41(11,"button",86),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG(2);return s.Njj(r.deleteMessage(o))}),s.nrm(12,"i",77),s.k0s()()()}if(2&i){const e=n.$implicit,t=s.XpG(2);s.R7$(),s.Y8G("ngClass",s.eq3(13,tle,!e.isRead)),s.R7$(),s.SpI(" ",s.i5U(3,10,e.date,"dd/MM/yyyy"),""),s.R7$(2),s.Y8G("ngClass",s.eq3(15,tle,!e.isRead)),s.R7$(),s.SpI(" ",e.operatorName,""),s.R7$(),s.Y8G("ngClass",s.eq3(17,tle,!e.isRead))("innerHTML",e.note,s.npT),s.R7$(2),s.Y8G("disabled",e.isRead),s.R7$(),s.Y8G("ngIf",e.isRead),s.R7$(),s.Y8G("ngIf",!e.isRead),s.R7$(),s.Y8G("disabled",e.operatorId!=t.currentOperator.id)}}function rWt(i,n){if(1&i){const e=s.RV6();s.j41(0,"a",89),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG(2);return s.Njj(r.downloadAttachment(o[0].name))}),s.EFF(1),s.k0s()}if(2&i){const e=n.$implicit;s.R7$(),s.SpI(" ",e[0].name," ")}}function aWt(i,n){if(1&i&&s.nrm(0,"img",93),2&i){const e=s.XpG().$implicit,t=s.XpG(2);s.Y8G("src",t.imagesUrl+e.fileName,s.B4B)("title",e.displayName)}}function lWt(i,n){if(1&i&&s.nrm(0,"img",94),2&i){const e=s.XpG().$implicit;s.Y8G("title",e.displayName)}}function cWt(i,n){if(1&i&&(s.j41(0,"div",90)(1,"a",71),s.DNE(2,aWt,1,2,"img",91)(3,lWt,1,1,"img",92),s.k0s()()),2&i){const e=n.$implicit,t=s.XpG(2);s.R7$(),s.Y8G("href",t.imagesUrl+e.fileName,s.B4B),s.R7$(),s.Y8G("ngIf",e.isImage),s.R7$(),s.Y8G("ngIf",!e.isImage)}}function dWt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",7)(1,"kendo-window",8),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.mxI("stateChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.windowState,o)||(r.windowState=o),s.Njj(o)}),s.j41(2,"kendo-window-titlebar"),s.DNE(3,YXt,3,4,"div",9)(4,JXt,2,0,"div",9),s.nrm(5,"button",10)(6,"button",11)(7,"button",12)(8,"button",13),s.k0s(),s.j41(9,"form",14,3),s.bIt("submit",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.close())}),s.j41(11,"div",15)(12,"div",16)(13,"label"),s.EFF(14,"Anno"),s.k0s(),s.j41(15,"div",17)(16,"input",18),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.purchaseOrder.year,o)||(r.options.purchaseOrder.year=o),s.Njj(o)}),s.k0s(),s.nrm(17,"div",19),s.k0s()(),s.j41(18,"div",16)(19,"label"),s.EFF(20,"Numero"),s.k0s(),s.j41(21,"div",17)(22,"input",20),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.purchaseOrder.number,o)||(r.options.purchaseOrder.number=o),s.Njj(o)}),s.k0s(),s.nrm(23,"div",19),s.k0s()(),s.j41(24,"div",21)(25,"label"),s.EFF(26,"Data"),s.k0s(),s.j41(27,"div",17)(28,"kendo-datepicker",22),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.purchaseOrder.date,o)||(r.options.purchaseOrder.date=o),s.Njj(o)}),s.bIt("valueChange",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onDateChange())}),s.k0s(),s.nrm(29,"div",19),s.k0s()(),s.j41(30,"div",21)(31,"label"),s.EFF(32,"Data Prevista Consegna"),s.k0s(),s.j41(33,"div",17)(34,"kendo-datepicker",23),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.purchaseOrder.expectedDate,o)||(r.options.purchaseOrder.expectedDate=o),s.Njj(o)}),s.k0s(),s.nrm(35,"div",19),s.k0s()()(),s.j41(36,"div",15)(37,"div",24)(38,"label"),s.EFF(39,"Commessa"),s.k0s(),s.j41(40,"div",17)(41,"kendo-combobox",25),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.purchaseOrder.jobId,o)||(r.options.purchaseOrder.jobId=o),s.Njj(o)}),s.k0s(),s.nrm(42,"div",19),s.k0s()(),s.j41(43,"div",26)(44,"label"),s.EFF(45,"Fornitore"),s.k0s(),s.j41(46,"kendo-formfield",17)(47,"kendo-combobox",27),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.purchaseOrder.supplierId,o)||(r.options.purchaseOrder.supplierId=o),s.Njj(o)}),s.bIt("valueChange",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onSupplierChange())}),s.k0s(),s.j41(48,"button",28),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.createSupplier())}),s.nrm(49,"i",29),s.k0s(),s.nrm(50,"div",19),s.k0s()(),s.j41(51,"div",21)(52,"label"),s.EFF(53,"Stato"),s.k0s(),s.j41(54,"div",17)(55,"kendo-dropdownlist",30),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.purchaseOrder.status,o)||(r.options.purchaseOrder.status=o),s.Njj(o)}),s.DNE(56,qXt,2,3,"ng-template",31)(57,QXt,2,3,"ng-template",32),s.k0s(),s.nrm(58,"div",19),s.k0s()()(),s.nrm(59,"div",33),s.j41(60,"div",34)(61,"div",35)(62,"h5",36),s.EFF(63," Prodotti "),s.k0s(),s.j41(64,"button",37),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.addProduct())}),s.nrm(65,"i",38),s.EFF(66," Aggiungi prodotto "),s.k0s()(),s.j41(67,"div")(68,"kendo-grid",39),s.bIt("dataStateChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onDataStateChange(o))}),s.j41(69,"kendo-grid-column",40),s.DNE(70,eWt,1,1,"ng-template",41),s.k0s(),s.nrm(71,"kendo-grid-column",42)(72,"kendo-grid-column",43),s.j41(73,"kendo-grid-column",44),s.DNE(74,tWt,5,0,"ng-template",41),s.k0s()()()(),s.nrm(75,"div",33),s.j41(76,"div",15)(77,"div",45)(78,"label"),s.EFF(79,"Descrizione"),s.k0s(),s.j41(80,"div",17)(81,"kendo-editor",46),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.purchaseOrder.description,o)||(r.options.purchaseOrder.description=o),s.Njj(o)}),s.j41(82,"kendo-toolbar")(83,"kendo-toolbar-buttongroup"),s.nrm(84,"kendo-toolbar-button",47)(85,"kendo-toolbar-button",48)(86,"kendo-toolbar-button",49),s.k0s(),s.nrm(87,"kendo-toolbar-colorpicker",50),s.j41(88,"kendo-toolbar-buttongroup"),s.nrm(89,"kendo-toolbar-button",51),s.k0s(),s.j41(90,"kendo-toolbar-buttongroup"),s.nrm(91,"kendo-toolbar-button",52)(92,"kendo-toolbar-button",53),s.k0s()()(),s.nrm(93,"div",19),s.k0s()()(),s.nrm(94,"hr",54),s.j41(95,"div",15)(96,"div",45)(97,"div",17)(98,"label"),s.EFF(99),s.DNE(100,nWt,2,1,"strong",55),s.k0s(),s.j41(101,"div",56)(102,"div",57)(103,"button",58),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.createMessage())}),s.nrm(104,"i",29),s.k0s()(),s.j41(105,"div",59),s.DNE(106,oWt,13,19,"div",60),s.k0s()()()()(),s.nrm(107,"hr",54),s.j41(108,"div",15)(109,"div",21)(110,"kendo-formfield",17)(111,"label"),s.EFF(112,"Allegati"),s.k0s(),s.j41(113,"kendo-upload",61),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.attachments,o)||(r.attachments=o),s.Njj(o)}),s.bIt("success",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.AttachmentExecutionSuccess(o))}),s.DNE(114,rWt,2,1,"ng-template",62),s.nrm(115,"kendo-upload-messages",63),s.k0s()()(),s.j41(116,"div",64)(117,"div",15),s.DNE(118,cWt,4,3,"div",65),s.k0s()()(),s.j41(119,"div",66)(120,"button",67),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.EFF(121," Annulla "),s.k0s(),s.j41(122,"button",68),s.EFF(123," Salva "),s.k0s()()()()()}if(2&i){const e=s.sdS(10),t=s.XpG();s.R7$(),s.Y8G("resizable",!0)("draggable",!0)("top",30),s.R50("state",t.windowState),s.R7$(2),s.Y8G("ngIf",!!t.options.purchaseOrder.id),s.R7$(),s.Y8G("ngIf",!t.options.purchaseOrder.id),s.R7$(12),s.R50("ngModel",t.options.purchaseOrder.year),s.R7$(),s.Y8G("control",e.controls.year),s.R7$(5),s.R50("ngModel",t.options.purchaseOrder.number),s.R7$(),s.Y8G("control",e.controls.number),s.R7$(5),s.R50("ngModel",t.options.purchaseOrder.date),s.Y8G("disabled",!!t.options.id),s.R7$(),s.Y8G("control",e.controls.date),s.R7$(5),s.R50("ngModel",t.options.purchaseOrder.expectedDate),s.R7$(),s.Y8G("control",e.controls.expectedDate),s.R7$(6),s.Y8G("data",t.jobs),s.R50("ngModel",t.options.purchaseOrder.jobId),s.Y8G("suggest",!0)("allowCustom",!1)("kendoDropDownFilter",s.lJ4(62,hGe))("valuePrimitive",!0)("readonly",t.jobReadonly),s.R7$(),s.Y8G("control",e.controls.jobId),s.R7$(5),s.Y8G("data",t.suppliers)("valuePrimitive",!0),s.R50("ngModel",t.options.purchaseOrder.supplierId),s.Y8G("suggest",!0)("kendoDropDownFilter",s.lJ4(63,hGe))("allowCustom",!1)("disabled",!!t.options.id),s.R7$(3),s.Y8G("control",e.controls.supplierId),s.R7$(5),s.Y8G("data",t.states)("valuePrimitive",!0),s.R50("ngModel",t.options.purchaseOrder.status),s.R7$(3),s.Y8G("control",e.controls.status),s.R7$(10),s.Y8G("data",t.gridData)("pageSize",t.gridState.take)("skip",t.gridState.skip)("sort",t.gridState.sort)("filter",t.gridState.filter)("group",t.gridState.group)("sortable",!0)("pageable",!0),s.R7$(),s.Y8G("sortable",!1)("filterable",!1)("width",1),s.R7$(3),s.Y8G("width",1),s.R7$(),s.Y8G("sortable",!1)("filterable",!1)("width",1),s.R7$(8),s.R50("ngModel",t.options.purchaseOrder.description),s.Y8G("resizable",!0)("iframe",!1),s.R7$(12),s.Y8G("control",e.controls.description),s.R7$(6),s.SpI("Commenti (",t.options.purchaseOrder.messages.length,") "),s.R7$(),s.Y8G("ngIf",t.unreadMessages),s.R7$(6),s.Y8G("ngForOf",t.options.purchaseOrdermessages),s.R7$(7),s.R50("ngModel",t.attachments),s.Y8G("saveUrl",t.uploadSaveUrl)("removeUrl",t.uploadRemoveUrl)("multiple",!0),s.R7$(5),s.Y8G("ngForOf",t.options.purchaseOrder.attachments)}}let nle=(()=>{class i extends eo{constructor(e,t,o,r,a,l){super(),this._messageBox=e,this._jobsService=t,this._suppliersService=o,this._operatorsService=r,this._user=a,this._messagesService=l,this.gridState={skip:0,take:30,sort:[{field:"productName",dir:"asc"}]},this.attachments=[],this.imagesUrl=`${fn.baseAttachmentsUrl}/`,this._baseUrl=`${fn.baseApiUrl}/purchase-orders`,this.uploadSaveUrl=`${this._baseUrl}/purchase-order-attachment/upload-file`,this.uploadRemoveUrl=`${this._baseUrl}/purchase-order-attachment/remove-file`,this.states=nk(Ka)}ngOnInit(){this._getSuppliers(),this._getJobs(),this.user=this._user.getUser(),this._getCurrentOperator(this.user.id)}onSupplierChange(){this.options.purchaseOrder.supplierName=this.suppliers.find(e=>e.id==this.options.purchaseOrder.supplierId)?.name??""}addProduct(){const e=new E4(0,this.options.purchaseOrder.id,null,null,null,1);this._subscriptions.push(this.purchaseOrderItemModal.open(e).pipe(X(t=>t),F(()=>this._afterProductAdded(e))).subscribe())}edit(e){const t=e.clone();this._subscriptions.push(this.purchaseOrderItemModal.open(t).pipe(X(o=>o),F(()=>this._afterProductUpdated(e,t))).subscribe())}askRemove(e){this._subscriptions.push(this._messageBox.confirm(`Sei sicuro di voler rimuovere il prodotto ${e.productName}?`).pipe(X(t=>t),F(()=>this._afterProductRemoved(e))).subscribe())}onDataStateChange(e){this.gridState=e,this.console.log(e),this.gridData=oC(this.options.purchaseOrder.items,this.gridState)}open(e){const t=super.open(e);return this.attachments=[],null!=e.purchaseOrder.attachments&&this.options.purchaseOrder.attachments.forEach(o=>{null!=o.displayName&&null!=o.fileName&&this.attachments.push({name:o.displayName})}),this.options.purchaseOrder.jobId&&this._getJob(this.options.purchaseOrder.jobId),this.jobReadonly=!!e.purchaseOrder.jobId,this.status=e.purchaseOrder.status,this.onDataStateChange(this.gridState),this.updateUnreadCounter(),t}_canClose(){return this.form.markAsDirty(),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi."),this.form.valid}_getJob(e){this._subscriptions.push(this._jobsService.get(e).pipe(F(t=>this.job=t)).subscribe())}createSupplier(){const e=new Hu;this._subscriptions.push(this.supplierModal.open(e).pipe(X(t=>t),le(()=>this._suppliersService.createSupplier(e)),F(t=>{this.options.purchaseOrder.supplierId=t.id,this._messageBox.success(`Fornitore ${e.name} creato`)}),F(()=>this._getSuppliers())).subscribe())}_getSuppliers(){this._subscriptions.push(this._suppliersService.getSuppliersList().pipe(F(e=>this._setData(e)),F(()=>{this.options.purchaseOrder.supplierId&&this.onSupplierChange()})).subscribe())}_setData(e){this.suppliers=e}_getJobs(){this._subscriptions.push(this._jobsService.read({filter:{filters:[],logic:"and"},sort:[{field:"date",dir:"asc"}]}).pipe(F(t=>this.jobs=t.data.map(o=>new uWt(o)))).subscribe())}_afterProductAdded(e){this.options.purchaseOrder.items.push(e),this.onDataStateChange(this.gridState),this._messageBox.success("Prodotto aggiunto")}_afterProductUpdated(e,t){this.options.purchaseOrder.items.replace(e,t),this.onDataStateChange(this.gridState),this._messageBox.success("Prodotto aggiornato")}_afterProductRemoved(e){this.options.purchaseOrder.items.remove(e),this.onDataStateChange(this.gridState),this._messageBox.success("Prodotto rimosso")}downloadAttachment(e){const t=this.options.purchaseOrder.attachments.find(r=>r.displayName===e);window.open(`${this._baseUrl}/purchase-order-attachment/download-file/${t.fileName}/${t.displayName}`)}AttachmentExecutionSuccess(e){const t=e.response.body;if(null!=t){let o=new b4(0,t.originalFileName,t.fileName,this.options.purchaseOrder.id);this.options.purchaseOrder.attachments.push(o)}else{const o=e.files[0].name;this.options.purchaseOrder.attachments.findAndRemove(r=>r.displayName===o)}}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(F(t=>this.currentOperator=t)).subscribe())}createMessage(){const e=Ff(),t=new U_(0,e,null,this.currentOperator.id,null,null,null,this.options.purchaseOrder.id);this._subscriptions.push(this.messageModal.open(t).pipe(X(o=>o),le(()=>this._messagesService.create(t)),F(o=>{var r=new Vu(o.id,o.date,o.note,o.operatorId,this.currentOperator.name,o.jobId,o.activityId,o.ticketId,o.purchaseOrderId,"",!0);this.options.purchaseOrder.messages.push(r)}),F(()=>this._messageBox.success("Commento creato"))).subscribe())}markAsRead(e){this._subscriptions.push(this._messagesService.markAsRead(e.id,this.currentOperator.id).pipe(F(()=>{e.isRead=!0,this._messageBox.success("Commento letto"),this.updateUnreadCounter()})).subscribe())}deleteMessage(e){this._messageBox.confirm("Sei sicuro di voler cancellare il commento?","Conferma l'azione").subscribe(t=>{1==t&&this._subscriptions.push(this._messagesService.delete(e.id).pipe(F(o=>{this.options.purchaseOrder.messages.remove(e),this.updateUnreadCounter()}),F(o=>this._messageBox.success("Commento cancellato con successo"))).subscribe())})}updateUnreadCounter(){this.unreadMessages=this.options.purchaseOrder.messages.count(e=>!e.isRead)}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(vn),s.rXU(qf),s.rXU($0),s.rXU(Bc),s.rXU(ro),s.rXU(Vx))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-purchase-order-modal"]],viewQuery:function(t,o){if(1&t&&(s.GBs(jXt,5),s.GBs($Xt,7),s.GBs(XXt,7),s.GBs(WXt,7)),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first),s.mGM(r=s.lsd())&&(o.purchaseOrderItemModal=r.first),s.mGM(r=s.lsd())&&(o.supplierModal=r.first),s.mGM(r=s.lsd())&&(o.messageModal=r.first)}},features:[s.Vt3],decls:8,vars:2,consts:[["purchaseOrderItemModal",""],["supplierModal",""],["messageModal",""],["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","stateChange","resizable","draggable","top","state"],["class","k-window-title",4,"ngIf"],["kendoWindowMinimizeAction",""],["kendoWindowRestoreAction",""],["kendoWindowMaximizeAction",""],["kendoWindowCloseAction",""],["name","activity-modal-form","novalidate","","autocomplete","off",1,"redimensionModal",3,"submit"],[1,"row"],[1,"col-md-2"],[1,"form-group"],["name","year","novalidate","","autocomplete","off","disabled","",1,"form-control",3,"ngModelChange","ngModel"],[1,"validation-message",3,"control"],["name","number","novalidate","","autocomplete","off","disabled","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3"],["format","dd/MM/yyyy","name","date","required","",3,"ngModelChange","valueChange","ngModel","disabled"],["format","dd/MM/yyyy","name","expectedDate",3,"ngModelChange","ngModel"],[1,"col-md-5"],["textField","fullName","valueField","id","name","jobId",3,"ngModelChange","data","ngModel","suggest","allowCustom","kendoDropDownFilter","valuePrimitive","readonly"],[1,"col-md-4"],["textField","name","valueField","id","name","supplierId","required","",1,"customer-combobox",3,"ngModelChange","valueChange","data","valuePrimitive","ngModel","suggest","kendoDropDownFilter","allowCustom","disabled"],["type","button","title","Nuovo fornitore",1,"btn","btn-primary","add-customer-button",3,"click"],[1,"fa","fa-plus"],["name","status","required","",3,"ngModelChange","data","valuePrimitive","ngModel"],["kendoDropDownListValueTemplate",""],["kendoDropDownListItemTemplate",""],[1,"border-green","mb-3"],[1,"mb-3"],[1,"d-flex","align-items-center","gap-2","mb-2"],[1,"mb-0"],["type","button","title","Aggiungi prodotto",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","productImage","title","\xa0",3,"sortable","filterable","width"],["kendoGridCellTemplate",""],["field","productName","title","Nome"],["field","quantity","title","Q.ta","filter","numeric","format","0.00",3,"width"],["field","id","title"," ",3,"sortable","filterable","width"],[1,"col-md-12"],["name","description","required","",3,"ngModelChange","ngModel","resizable","iframe"],["kendoEditorBoldButton",""],["kendoEditorItalicButton",""],["kendoEditorUnderlineButton",""],["kendoEditorForeColor",""],["kendoEditorInsertUnorderedListButton",""],["kendoEditorCreateLinkButton",""],["kendoEditorUnlinkButton",""],[1,"border-green"],["style","padding-left: 15px;",4,"ngIf"],[1,"row",2,"margin-top","5px"],[1,"col-md-1"],["title","Aggiungi nuovo commento","type","button",1,"btn","btn-primary",3,"click"],[1,"col-md-11"],["class","row messageTableRow",4,"ngFor","ngForOf"],["name","myUpload",3,"ngModelChange","success","ngModel","saveUrl","removeUrl","multiple"],["kendoUploadFileInfoTemplate",""],["dropFilesHere"," "],[1,"col-md-9"],["class","col-2",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","gap-2","mt-5"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"k-window-title"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"],[1,"thumbnail-s",3,"src"],[1,"d-flex","text-nowrap","gap-1"],["type","button","title","Modifica",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-edit"],["type","button","title","Rimuovi",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],[2,"padding-left","15px"],[1,"row","messageTableRow"],[1,"col-md-2","messageRowPadding",3,"ngClass"],[1,"col-md-6","messageRowPadding",3,"ngClass","innerHTML"],[1,"col-md-2",2,"text-align","right"],["type","button","title","Segna come letto",1,"btn","btn-outline-primary","me-2",3,"click","disabled"],["class","fa-regular fa-square-check",4,"ngIf"],["class","fa-regular fa-square",4,"ngIf"],["type","button","title","Elimina",1,"btn","btn-outline-danger",3,"click","disabled"],[1,"fa-regular","fa-square-check"],[1,"fa-regular","fa-square"],[1,"pointer",3,"click"],[1,"col-2"],["width","90%",3,"src","title",4,"ngIf"],["src","assets/document.jpg","width","90%",3,"title",4,"ngIf"],["width","90%",3,"src","title"],["src","assets/document.jpg","width","90%",3,"title"]],template:function(t,o){1&t&&(s.DNE(0,KXt,1,0,"div",4)(1,dWt,124,64,"div",5),s.nrm(2,"app-purchase-order-item-modal",null,0)(4,"app-supplier-modal",null,1)(6,"app-message-modal",null,2)),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened))},dependencies:[Be,ut,q,Ps,Qo,Di,Ls,lo,fs,ps,Wi,Oi,Us,$i,ts,W1,K1,Y1,Ni,Na,C_,qD,ca,Ws,Ph,ol,FS,BS,zf,Lb,kg,Og,wg,Eg,yg,Dg,yv,rm,ep,Nn,ug,za,Qae,zXt,iz,To,uGe],encapsulation:2})}return i})();class y4{constructor(n){this.purchaseOrder=n}}class uWt{constructor(n){this.id=n.id,this.customer=n.customer,this.code=n.code,this.fullName=`${n.code} - ${n.customer}`+(n.reference?` - ${n.reference}`:""),this.customerId=n.customerId,this.addressId=n.addressId,this.description=n.description}}class hWt{constructor(n,e){this.fileName=n,this.originalFileName=e}}let D4=(()=>{class i{constructor(e){this._http=e,this._baseUrl=`${fn.baseApiUrl}/purchase-orders`}read(e){return H0(this._http,e,`${this._baseUrl}/read`)}get(e){return this._http.get(`${this._baseUrl}/${e}`).pipe((0,V.T)(t=>Dv.build(t)))}create(e){return this._http.post(this._baseUrl,e).pipe((0,V.T)(t=>Dv.build(t)))}update(e){return this._http.put(`${this._baseUrl}/${e.id}`,e).pipe((0,V.T)(t=>Dv.build(t)))}delete(e){return this._http.delete(`${this._baseUrl}/${e}`).pipe((0,V.T)(()=>{}))}createPurchaseOrderAttachment(e){return this._http.post(`${this._baseUrl}/create-attachment`,e).pipe()}updatePurchaseOrderAttachment(e,t){return this._http.put(`${this._baseUrl}/update-attachment/${t}`,e).pipe()}getPurchaseOrderAttachments(e){return this._http.get(`${this._baseUrl}/${e}/all-attachments`).pipe((0,V.T)(t=>t.map(o=>b4.build(o))))}uploadPurchaseOrderAttachmentFile(e){const t=new FormData;t.append(e.name,e);const o=new Za("POST",`${this._baseUrl}/job-attachment/upload-file`,t,{reportProgress:!1});return this._http.request(o).pipe(X(r=>r.type===wr.Response),(0,V.T)(r=>r.body),(0,V.T)(r=>new hWt(r.fileName,r.originalFileName)))}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Yo))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})(),ile=(()=>{class i extends Tn{transform(e){return ire[e]}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=s.xGo(i)))(o||i)}})();static#t=this.\u0275pipe=s.EJ8({name:"jobStatus",type:i,pure:!0})}return i})();const pWt=["form"],fWt=["customerModal"],mWt=["addressModal"],_Wt=["messageModal"],sle=()=>({caseSensitive:!1,operator:"contains"}),ole=i=>({messageUnread:i});function gWt(i,n){1&i&&s.nrm(0,"div",6)}function SWt(i,n){if(1&i&&(s.j41(0,"div",63),s.EFF(1),s.nI1(2,"jobStatus"),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.Lme(" Commessa ",e.options.code," \u2022 ",s.bMT(2,2,e.options.status)," ")}}function vWt(i,n){1&i&&(s.j41(0,"div",63),s.EFF(1," Nuova commessa "),s.k0s())}function CWt(i,n){1&i&&(s.EFF(0),s.nI1(1,"jobStatus")),2&i&&s.SpI(" ",s.bMT(1,1,n.$implicit)," ")}function bWt(i,n){1&i&&(s.EFF(0),s.nI1(1,"jobStatus")),2&i&&s.SpI(" ",s.bMT(1,1,n.$implicit)," ")}function EWt(i,n){if(1&i&&(s.j41(0,"strong",64),s.EFF(1),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.SpI("Da leggere: ",e.unreadMessages,"")}}function yWt(i,n){1&i&&s.nrm(0,"i",74)}function DWt(i,n){1&i&&s.nrm(0,"i",75)}function wWt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",65)(1,"div",66),s.EFF(2),s.nI1(3,"date"),s.k0s(),s.j41(4,"div",66),s.EFF(5),s.k0s(),s.nrm(6,"div",67),s.j41(7,"div",68)(8,"button",69),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG(2);return s.Njj(r.markAsRead(o))}),s.DNE(9,yWt,1,0,"i",70)(10,DWt,1,0,"i",71),s.k0s(),s.j41(11,"button",72),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG(2);return s.Njj(r.deleteMessage(o))}),s.nrm(12,"i",73),s.k0s()()()}if(2&i){const e=n.$implicit,t=s.XpG(2);s.R7$(),s.Y8G("ngClass",s.eq3(13,ole,!e.isRead)),s.R7$(),s.SpI(" ",s.i5U(3,10,e.date,"dd/MM/yyyy"),""),s.R7$(2),s.Y8G("ngClass",s.eq3(15,ole,!e.isRead)),s.R7$(),s.SpI(" ",e.operatorName,""),s.R7$(),s.Y8G("ngClass",s.eq3(17,ole,!e.isRead))("innerHTML",e.note,s.npT),s.R7$(2),s.Y8G("disabled",e.isRead),s.R7$(),s.Y8G("ngIf",e.isRead),s.R7$(),s.Y8G("ngIf",!e.isRead),s.R7$(),s.Y8G("disabled",e.operatorId!=t.currentOperator.id)}}function kWt(i,n){if(1&i){const e=s.RV6();s.j41(0,"a",76),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG(2);return s.Njj(r.downloadAttachment(o[0].name))}),s.EFF(1),s.k0s()}if(2&i){const e=n.$implicit;s.R7$(),s.SpI(" ",e[0].name," ")}}function OWt(i,n){if(1&i&&s.nrm(0,"img",81),2&i){const e=s.XpG().$implicit,t=s.XpG(2);s.Y8G("src",t.pathImage+e.fileName,s.B4B)("title",e.displayName)}}function TWt(i,n){if(1&i&&s.nrm(0,"img",82),2&i){const e=s.XpG().$implicit;s.Y8G("title",e.displayName)}}function MWt(i,n){if(1&i&&(s.j41(0,"div",77)(1,"a",78),s.DNE(2,OWt,1,2,"img",79)(3,TWt,1,1,"img",80),s.k0s()()),2&i){const e=n.$implicit,t=s.XpG(2);s.R7$(),s.Y8G("href",t.pathImage+e.fileName,s.B4B),s.R7$(),s.Y8G("ngIf",e.isImage),s.R7$(),s.Y8G("ngIf",!e.isImage)}}function IWt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",83),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.deleteJob())}),s.nrm(1,"i",73),s.k0s()}}function RWt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",7)(1,"kendo-window",8),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.mxI("stateChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.windowState,o)||(r.windowState=o),s.Njj(o)}),s.j41(2,"kendo-window-titlebar"),s.DNE(3,SWt,3,4,"div",9)(4,vWt,2,0,"div",9),s.nrm(5,"button",10)(6,"button",11)(7,"button",12)(8,"button",13),s.k0s(),s.j41(9,"form",14,3),s.bIt("submit",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.close())}),s.j41(11,"div",15)(12,"div",16)(13,"label"),s.EFF(14,"Numero"),s.k0s(),s.j41(15,"div",17)(16,"input",18),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.number,o)||(r.options.number=o),s.Njj(o)}),s.k0s(),s.nrm(17,"div",19),s.k0s()(),s.j41(18,"div",16)(19,"label"),s.EFF(20,"Anno"),s.k0s(),s.j41(21,"div",17)(22,"input",20),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.year,o)||(r.options.year=o),s.Njj(o)}),s.k0s(),s.nrm(23,"div",19),s.k0s()(),s.j41(24,"div",21)(25,"label"),s.EFF(26,"Data"),s.k0s(),s.j41(27,"div",17)(28,"kendo-datepicker",22),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.date,o)||(r.options.date=o),s.Njj(o)}),s.bIt("valueChange",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onDateChange())}),s.k0s(),s.nrm(29,"div",19),s.k0s()(),s.j41(30,"div",21)(31,"label"),s.EFF(32,"Data Scadenza"),s.k0s(),s.j41(33,"div",17)(34,"kendo-datepicker",23),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.expirationDate,o)||(r.options.expirationDate=o),s.Njj(o)}),s.k0s(),s.nrm(35,"div",19),s.k0s()(),s.j41(36,"div",24)(37,"label"),s.EFF(38,"Priorit\xe0 Alta"),s.k0s(),s.j41(39,"div",17)(40,"kendo-switch",25),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.hasHighPriority,o)||(r.options.hasHighPriority=o),s.Njj(o)}),s.k0s(),s.nrm(41,"div",19),s.k0s()(),s.j41(42,"div",24)(43,"label"),s.EFF(44,"Stato"),s.k0s(),s.j41(45,"div",17)(46,"kendo-dropdownlist",26),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.status,o)||(r.options.status=o),s.Njj(o)}),s.DNE(47,CWt,2,3,"ng-template",27)(48,bWt,2,3,"ng-template",28),s.k0s(),s.nrm(49,"div",19),s.k0s()()(),s.j41(50,"div",15)(51,"div",29)(52,"label"),s.EFF(53,"Cliente"),s.k0s(),s.j41(54,"kendo-formfield",17)(55,"kendo-combobox",30),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.customerId,o)||(r.options.customerId=o),s.Njj(o)}),s.bIt("valueChange",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onCustomerChange())}),s.k0s(),s.j41(56,"button",31),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.createCustomer())}),s.nrm(57,"i",32),s.k0s(),s.nrm(58,"div",19),s.k0s()(),s.j41(59,"div",29)(60,"label"),s.EFF(61,"Indirizzo"),s.k0s(),s.j41(62,"div",17)(63,"kendo-combobox",33),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.addressId,o)||(r.options.addressId=o),s.Njj(o)}),s.k0s(),s.nrm(64,"div",19),s.j41(65,"button",34),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.createAddress())}),s.nrm(66,"i",32),s.k0s()()()(),s.j41(67,"div",15)(68,"div",35)(69,"label"),s.EFF(70,"Riferimento Commessa"),s.k0s(),s.j41(71,"div",17)(72,"input",36),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.reference,o)||(r.options.reference=o),s.Njj(o)}),s.k0s(),s.nrm(73,"div",19),s.k0s()(),s.j41(74,"div",37)(75,"label"),s.EFF(76,"Responsabile Comm."),s.k0s(),s.j41(77,"kendo-combobox",38),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.referentId,o)||(r.options.referentId=o),s.Njj(o)}),s.k0s()()(),s.j41(78,"div",15)(79,"div",39)(80,"label"),s.EFF(81,"Note"),s.k0s(),s.j41(82,"div",17)(83,"kendo-editor",40),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.description,o)||(r.options.description=o),s.Njj(o)}),s.j41(84,"kendo-toolbar")(85,"kendo-toolbar-buttongroup"),s.nrm(86,"kendo-toolbar-button",41)(87,"kendo-toolbar-button",42)(88,"kendo-toolbar-button",43),s.k0s(),s.nrm(89,"kendo-toolbar-colorpicker",44),s.j41(90,"kendo-toolbar-buttongroup"),s.nrm(91,"kendo-toolbar-button",45),s.k0s(),s.j41(92,"kendo-toolbar-buttongroup"),s.nrm(93,"kendo-toolbar-button",46)(94,"kendo-toolbar-button",47),s.k0s()()(),s.nrm(95,"div",19),s.k0s()()(),s.nrm(96,"hr",48),s.j41(97,"div",15)(98,"div",39)(99,"div",17)(100,"label"),s.EFF(101),s.DNE(102,EWt,2,1,"strong",49),s.k0s(),s.j41(103,"div",50)(104,"div",16)(105,"button",51),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.createMessage())}),s.nrm(106,"i",32),s.k0s()(),s.j41(107,"div",52),s.DNE(108,wWt,13,19,"div",53),s.k0s()()()()(),s.nrm(109,"hr",48),s.j41(110,"div",15)(111,"div",21)(112,"kendo-formfield",17)(113,"label"),s.EFF(114,"Allegati"),s.k0s(),s.j41(115,"kendo-upload",54),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.attachments,o)||(r.attachments=o),s.Njj(o)}),s.bIt("success",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.AttachmentExecutionSuccess(o))}),s.DNE(116,kWt,2,1,"ng-template",55),s.nrm(117,"kendo-upload-messages",56),s.k0s()()(),s.j41(118,"div",57)(119,"div",15),s.DNE(120,MWt,4,3,"div",58),s.k0s()()(),s.j41(121,"div",59)(122,"button",60),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.EFF(123," Annulla "),s.k0s(),s.DNE(124,IWt,2,0,"button",61),s.j41(125,"button",62),s.EFF(126," Salva "),s.k0s()()()()()}if(2&i){const e=s.sdS(10),t=s.XpG();s.R7$(),s.Y8G("resizable",!0)("draggable",!0)("top",30),s.R50("state",t.windowState),s.R7$(2),s.Y8G("ngIf",!!t.options.id),s.R7$(),s.Y8G("ngIf",!t.options.id),s.R7$(12),s.R50("ngModel",t.options.number),s.R7$(),s.Y8G("control",e.controls.number),s.R7$(5),s.R50("ngModel",t.options.year),s.R7$(),s.Y8G("control",e.controls.year),s.R7$(5),s.R50("ngModel",t.options.date),s.Y8G("disabled",!!t.options.id),s.R7$(),s.Y8G("control",e.controls.date),s.R7$(5),s.R50("ngModel",t.options.expirationDate),s.Y8G("min",t.options.date),s.R7$(),s.Y8G("control",e.controls.expirationDate),s.R7$(5),s.R50("ngModel",t.options.hasHighPriority),s.R7$(),s.Y8G("control",e.controls.hasHighPriority),s.R7$(5),s.Y8G("data",t.states)("valuePrimitive",!0),s.R50("ngModel",t.options.status),s.Y8G("disabled",0==t.options.status||1==t.options.status),s.R7$(3),s.Y8G("control",e.controls.status),s.R7$(6),s.Y8G("data",t.customers)("valuePrimitive",!0),s.R50("ngModel",t.options.customerId),s.Y8G("suggest",!0)("kendoDropDownFilter",s.lJ4(59,sle))("allowCustom",!1)("disabled",!!t.options.id),s.R7$(3),s.Y8G("control",e.controls.customerId),s.R7$(5),s.Y8G("data",t.addresses)("valuePrimitive",!0)("kendoDropDownFilter",s.lJ4(60,sle)),s.R50("ngModel",t.options.addressId),s.Y8G("suggest",!0)("allowCustom",!1),s.R7$(),s.Y8G("control",e.controls.addressId),s.R7$(8),s.R50("ngModel",t.options.reference),s.R7$(),s.Y8G("control",e.controls.reference),s.R7$(4),s.Y8G("data",t.operators)("valuePrimitive",!0),s.R50("ngModel",t.options.referentId),s.Y8G("suggest",!0)("kendoDropDownFilter",s.lJ4(61,sle))("allowCustom",!1),s.R7$(6),s.R50("ngModel",t.options.description),s.Y8G("resizable",!0)("iframe",!1),s.R7$(12),s.Y8G("control",e.controls.description),s.R7$(6),s.SpI("Commenti (",t.options.messages.length,") "),s.R7$(),s.Y8G("ngIf",t.unreadMessages),s.R7$(6),s.Y8G("ngForOf",t.options.messages),s.R7$(7),s.R50("ngModel",t.attachments),s.Y8G("saveUrl",t.uploadSaveUrl)("removeUrl",t.uploadRemoveUrl)("multiple",!0),s.R7$(5),s.Y8G("ngForOf",t.options.attachments),s.R7$(4),s.Y8G("ngIf",null!=t.options.id)}}let rle=(()=>{class i extends eo{constructor(e,t,o,r,a,l,c){super(),this._customersService=e,this._service=t,this._messageBox=o,this._addressesService=r,this._operatorsService=a,this._user=l,this._messagesService=c,this.windowState="default",this.attachments=[],this._baseUrl=`${fn.baseApiUrl}/jobs`,this.pathImage=`${fn.baseAttachmentsUrl}/`,this.uploadSaveUrl=`${this._baseUrl}/job-attachment/upload-file`,this.uploadRemoveUrl=`${this._baseUrl}/job-attachment/remove-file`,this.states=nk(bo)}ngOnInit(){this._getData(),this._getOperators(),this.user=this._user.getUser(),this._getCurrentOperator(this.user.id)}onDateChange(){this.options.year=this.options.date?.getFullYear()}open(e){const t=super.open(e);return this.attachments=[],null!=e.attachments&&this.options.attachments.forEach(o=>{null!=o.displayName&&null!=o.fileName&&this.attachments.push({name:o.displayName})}),this.updateUnreadCounter(),this.readAddresses(),t}onCustomerChange(){const e=this.customers.find(t=>t.id==this.options.customerId);if(this.addresses=e?.addresses??[],null!=e){const t=e.addresses.find(o=>1==o.isMainAddress);null!=t&&(this.options.addressId=t.id)}}_canClose(){return this.form.markAsDirty(),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi."),this.form.valid}_getData(){this._subscriptions.push(this._customersService.getCustomersList().pipe(F(e=>this._setData(e))).subscribe())}_setData(e){this.customers=e}createCustomer(){const e=new xr;e.fiscalType=1,this._subscriptions.push(this.customerModal.open(e).pipe(X(t=>t),le(()=>this._customersService.createCustomer(e)),F(t=>{this.options.customerId=t.id,this.readAddresses(),this._messageBox.success(`Cliente ${e.name} creato`)}),F(()=>this._getData())).subscribe())}createAddress(){const e=new ns;this._subscriptions.push(this.addressModal.open(e).pipe(X(t=>t),F(()=>{this.addNewAddress(e)})).subscribe())}addNewAddress(e){null!==this.options.customerId&&(e.customerId=this.options.customerId),this._subscriptions.push(this._addressesService.createAddress(e).pipe(F(t=>{this.readAddresses(),this.options.addressId=t.id,this._messageBox.success("Indirizzo creato con successo")})).subscribe())}readAddresses(){this._subscriptions.push(this._addressesService.getCustomerAddresses(this.options.customerId).pipe((0,V.T)(e=>{this.addresses=e}),F(()=>{})).subscribe())}deleteJob(){this._messageBox.confirm("Sei sicuro di voler cancellare la commessa?","Conferma l'azione").subscribe(e=>{1==e&&this._subscriptions.push(this._service.delete(this.options.id).pipe(F(t=>this._messageBox.success("Commessa cancellata con successo")),F(()=>this.dismiss())).subscribe())})}downloadAttachment(e){const t=this.options.attachments.find(r=>r.displayName===e);window.open(`${this._baseUrl}/job-attachment/download-file/${t.fileName}/${t.displayName}`)}AttachmentExecutionSuccess(e){const t=e.response.body;if(null!=t){let o=new Bx(0,t.originalFileName,t.fileName,this.options.id);this.options.attachments.push(o)}else{const o=e.files[0].name;this.options.attachments.findAndRemove(r=>r.displayName===o)}}_getOperators(){this._subscriptions.push(this._operatorsService.readOperators({sort:[{field:"name",dir:"asc"}]}).pipe(F(t=>this.operators=t.data)).subscribe())}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(F(t=>this.currentOperator=t)).subscribe())}createMessage(){const e=Ff(),t=new U_(0,e,null,this.currentOperator.id,this.options.id,null,null,null);this._subscriptions.push(this.messageModal.open(t).pipe(X(o=>o),le(()=>this._messagesService.create(t)),F(o=>{var r=new Vu(o.id,o.date,o.note,o.operatorId,this.currentOperator.name,o.jobId,o.activityId,o.ticketId,o.purchaseOrderId,"",!0);this.options.messages.push(r)}),F(()=>this._messageBox.success("Commento creato"))).subscribe())}markAsRead(e){this._subscriptions.push(this._messagesService.markAsRead(e.id,this.currentOperator.id).pipe(F(()=>{e.isRead=!0,this.updateUnreadCounter(),this._messageBox.success("Commento letto")})).subscribe())}deleteMessage(e){this._messageBox.confirm("Sei sicuro di voler cancellare il commento?","Conferma l'azione").subscribe(t=>{1==t&&this._subscriptions.push(this._messagesService.delete(e.id).pipe(F(o=>{this.options.messages.remove(e),this.updateUnreadCounter()}),F(o=>this._messageBox.success("Commento cancellato con successo"))).subscribe())})}updateUnreadCounter(){this.unreadMessages=this.options.messages.count(e=>!e.isRead)}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(zu),s.rXU(qf),s.rXU(vn),s.rXU(Vf),s.rXU(Bc),s.rXU(ro),s.rXU(Vx))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-job-modal"]],viewQuery:function(t,o){if(1&t&&(s.GBs(pWt,5),s.GBs(fWt,7),s.GBs(mWt,7),s.GBs(_Wt,7)),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first),s.mGM(r=s.lsd())&&(o.customerModal=r.first),s.mGM(r=s.lsd())&&(o.addressModal=r.first),s.mGM(r=s.lsd())&&(o.messageModal=r.first)}},features:[s.Vt3],decls:8,vars:2,consts:[["customerModal",""],["addressModal",""],["messageModal",""],["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","stateChange","resizable","draggable","top","state"],["class","k-window-title",4,"ngIf"],["kendoWindowMinimizeAction",""],["kendoWindowRestoreAction",""],["kendoWindowMaximizeAction",""],["kendoWindowCloseAction",""],["name","job-modal-form","novalidate","","autocomplete","off",3,"submit"],[1,"row"],[1,"col-md-1"],[1,"form-group"],["name","number","novalidate","","autocomplete","off","disabled","",1,"form-control",3,"ngModelChange","ngModel"],[1,"validation-message",3,"control"],["name","year","novalidate","","autocomplete","off","disabled","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3"],["format","dd/MM/yyyy","name","date","required","",3,"ngModelChange","valueChange","ngModel","disabled"],["format","dd/MM/yyyy","name","expirationDate",3,"ngModelChange","ngModel","min"],[1,"col-md-2"],["name","hasHighPriority","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],["name","status","required","",3,"ngModelChange","data","valuePrimitive","ngModel","disabled"],["kendoDropDownListValueTemplate",""],["kendoDropDownListItemTemplate",""],[1,"col-md-6"],["textField","name","valueField","id","name","customerId","required","",1,"customer-combobox",3,"ngModelChange","valueChange","data","valuePrimitive","ngModel","suggest","kendoDropDownFilter","allowCustom","disabled"],["type","button","title","Nuovo cliente",1,"btn","btn-primary","add-customer-button",3,"click"],[1,"fa","fa-plus"],["textField","fullAddress","valueField","id","name","addressId",1,"address-combobox",3,"ngModelChange","data","valuePrimitive","kendoDropDownFilter","ngModel","suggest","allowCustom"],["type","button","title","Nuovo indirizzo",1,"btn","btn-primary","add-address-button",3,"click"],[1,"col-md-8"],["name","reference","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-4"],["textField","name","valueField","id","name","referentId","required","",3,"ngModelChange","data","valuePrimitive","ngModel","suggest","kendoDropDownFilter","allowCustom"],[1,"col-md-12"],["name","description",3,"ngModelChange","ngModel","resizable","iframe"],["kendoEditorBoldButton",""],["kendoEditorItalicButton",""],["kendoEditorUnderlineButton",""],["kendoEditorForeColor",""],["kendoEditorInsertUnorderedListButton",""],["kendoEditorCreateLinkButton",""],["kendoEditorUnlinkButton",""],[1,"border-green"],["style","padding-left: 15px;",4,"ngIf"],[1,"row",2,"margin-top","5px"],["title","Aggiungi nuovo commento","type","button",1,"btn","btn-primary",3,"click"],[1,"col-md-11"],["class","row messageTableRow",4,"ngFor","ngForOf"],["name","myUpload",3,"ngModelChange","success","ngModel","saveUrl","removeUrl","multiple"],["kendoUploadFileInfoTemplate",""],["dropFilesHere"," "],[1,"col-md-9"],["class","col-2",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","gap-2","mt-5"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button","class","btn btn-danger me-2","title","Elimina",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-primary"],[1,"k-window-title"],[2,"padding-left","15px"],[1,"row","messageTableRow"],[1,"col-md-2","messageRowPadding",3,"ngClass"],[1,"col-md-6","messageRowPadding",3,"ngClass","innerHTML"],[1,"col-md-2",2,"text-align","right"],["type","button","title","Segna come letto",1,"btn","btn-outline-primary","me-2",3,"click","disabled"],["class","fa-regular fa-square-check",4,"ngIf"],["class","fa-regular fa-square",4,"ngIf"],["type","button","title","Elimina",1,"btn","btn-outline-danger",3,"click","disabled"],[1,"fas","fa-trash"],[1,"fa-regular","fa-square-check"],[1,"fa-regular","fa-square"],[1,"pointer",3,"click"],[1,"col-2"],["target","_blank",3,"href"],["width","90%",3,"src","title",4,"ngIf"],["src","assets/document.jpg","width","90%",3,"title",4,"ngIf"],["width","90%",3,"src","title"],["src","assets/document.jpg","width","90%",3,"title"],["type","button","title","Elimina",1,"btn","btn-danger","me-2",3,"click"]],template:function(t,o){1&t&&(s.DNE(0,gWt,1,0,"div",4)(1,RWt,127,62,"div",5),s.nrm(2,"app-customer-modal",null,0)(4,"app-address-modal",null,1)(6,"app-message-modal",null,2)),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened))},dependencies:[Be,ut,q,Ps,Qo,Di,Ls,lo,Ed,fs,ps,$i,ts,W1,K1,Y1,Ni,Na,C_,qD,ca,Ws,Ph,oS,ol,FS,BS,zf,Lb,kg,Og,wg,Eg,yg,Dg,yv,rm,ep,Nn,ug,za,B_,F_,iz,To,ile],encapsulation:2})}return i})();const AWt=["form"],xWt=["customerModal"],NWt=["addressModal"],pGe=()=>({caseSensitive:!1,operator:"contains"});function LWt(i,n){1&i&&s.nrm(0,"div",5)}function PWt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",6)(1,"kendo-window",7),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.j41(2,"kendo-window-titlebar")(3,"div",8),s.EFF(4," Copia commessa "),s.k0s(),s.nrm(5,"button",9),s.k0s(),s.j41(6,"form",10,2),s.bIt("submit",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.close())}),s.j41(8,"div",11)(9,"div",12)(10,"label"),s.EFF(11,"Data"),s.k0s(),s.j41(12,"div",13)(13,"kendo-datepicker",14),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.date,o)||(r.options.date=o),s.Njj(o)}),s.k0s(),s.nrm(14,"div",15),s.k0s()()(),s.j41(15,"div",11)(16,"div",16)(17,"label"),s.EFF(18,"Cliente"),s.k0s(),s.j41(19,"kendo-formfield",13)(20,"kendo-combobox",17),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.customerId,o)||(r.options.customerId=o),s.Njj(o)}),s.bIt("valueChange",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onCustomerChange())}),s.k0s(),s.j41(21,"button",18),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.createCustomer())}),s.nrm(22,"i",19),s.k0s(),s.nrm(23,"div",15),s.k0s()(),s.j41(24,"div",16)(25,"label"),s.EFF(26,"Indirizzo"),s.k0s(),s.j41(27,"div",13)(28,"kendo-combobox",20),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.addressId,o)||(r.options.addressId=o),s.Njj(o)}),s.k0s(),s.nrm(29,"div",15),s.j41(30,"button",21),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.createAddress())}),s.nrm(31,"i",19),s.k0s()()()(),s.j41(32,"div",11)(33,"div",22)(34,"label"),s.EFF(35,"Riferimento Commessa"),s.k0s(),s.j41(36,"div",13)(37,"input",23),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.reference,o)||(r.options.reference=o),s.Njj(o)}),s.k0s(),s.nrm(38,"div",15),s.k0s()()(),s.j41(39,"div",11)(40,"div",22)(41,"label"),s.EFF(42,"Note"),s.k0s(),s.j41(43,"div",13)(44,"kendo-editor",24),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.description,o)||(r.options.description=o),s.Njj(o)}),s.j41(45,"kendo-toolbar")(46,"kendo-toolbar-buttongroup"),s.nrm(47,"kendo-toolbar-button",25)(48,"kendo-toolbar-button",26)(49,"kendo-toolbar-button",27),s.k0s(),s.nrm(50,"kendo-toolbar-colorpicker",28),s.j41(51,"kendo-toolbar-buttongroup"),s.nrm(52,"kendo-toolbar-button",29),s.k0s(),s.j41(53,"kendo-toolbar-buttongroup"),s.nrm(54,"kendo-toolbar-button",30)(55,"kendo-toolbar-button",31),s.k0s()()(),s.nrm(56,"div",15),s.k0s()()(),s.j41(57,"div",32)(58,"button",33),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.EFF(59," Annulla "),s.k0s(),s.j41(60,"button",34),s.EFF(61," Salva "),s.k0s()()()()()}if(2&i){const e=s.sdS(7),t=s.XpG();s.R7$(),s.Y8G("resizable",!1)("draggable",!1)("top",30),s.R7$(12),s.R50("ngModel",t.options.date),s.Y8G("disabled",!!t.options.id),s.R7$(),s.Y8G("control",e.controls.date),s.R7$(6),s.Y8G("data",t.customers)("valuePrimitive",!0),s.R50("ngModel",t.options.customerId),s.Y8G("suggest",!0)("kendoDropDownFilter",s.lJ4(27,pGe))("allowCustom",!1)("disabled",!!t.options.id),s.R7$(3),s.Y8G("control",e.controls.customerId),s.R7$(5),s.Y8G("data",t.addresses)("valuePrimitive",!0)("kendoDropDownFilter",s.lJ4(28,pGe)),s.R50("ngModel",t.options.addressId),s.Y8G("suggest",!0)("allowCustom",!1),s.R7$(),s.Y8G("control",e.controls.addressId),s.R7$(8),s.R50("ngModel",t.options.reference),s.R7$(),s.Y8G("control",e.controls.reference),s.R7$(6),s.R50("ngModel",t.options.description),s.Y8G("resizable",!0)("iframe",!1),s.R7$(12),s.Y8G("control",e.controls.description)}}let GWt=(()=>{class i extends eo{constructor(e,t,o){super(),this._customersService=e,this._messageBox=t,this._addressesService=o}ngOnInit(){this._getData()}open(e){const t=super.open(e);return this.readAddresses(),t}onCustomerChange(){this.addresses=this.customers.find(e=>e.id==this.options.customerId)?.addresses??[]}_canClose(){return this.form.markAsDirty(),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi."),this.form.valid}_getData(){this._subscriptions.push(this._customersService.getCustomersList().pipe(F(e=>this._setData(e))).subscribe())}_setData(e){this.customers=e}createCustomer(){const e=new xr;e.fiscalType=1,this._subscriptions.push(this.customerModal.open(e).pipe(X(t=>t),le(()=>this._customersService.createCustomer(e)),F(t=>{this.options.customerId=t.id,this._messageBox.success(`Cliente ${e.name} creato`)}),F(()=>this._getData())).subscribe())}createAddress(){const e=new ns;this._subscriptions.push(this.addressModal.open(e).pipe(X(t=>t),F(()=>{this.addNewAddress(e)})).subscribe())}addNewAddress(e){null!==this.options.customerId&&(e.customerId=this.options.customerId),this._subscriptions.push(this._addressesService.createAddress(e).pipe(F(t=>{this.readAddresses(),this.options.addressId=t.id,this._messageBox.success("Indirizzo creato con successo")})).subscribe())}readAddresses(){this._subscriptions.push(this._addressesService.getCustomerAddresses(this.options.customerId).pipe((0,V.T)(e=>{this.addresses=e}),F(()=>{})).subscribe())}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(zu),s.rXU(vn),s.rXU(Vf))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-job-copy-modal"]],viewQuery:function(t,o){if(1&t&&(s.GBs(AWt,5),s.GBs(xWt,7),s.GBs(NWt,7)),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first),s.mGM(r=s.lsd())&&(o.customerModal=r.first),s.mGM(r=s.lsd())&&(o.addressModal=r.first)}},features:[s.Vt3],decls:6,vars:2,consts:[["customerModal",""],["addressModal",""],["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],["name","job-modal-form","novalidate","","autocomplete","off",1,"redimensionModal",3,"submit"],[1,"row"],[1,"col-md-3"],[1,"form-group"],["format","dd/MM/yyyy","name","date","required","",3,"ngModelChange","ngModel","disabled"],[1,"validation-message",3,"control"],[1,"col-md-6"],["textField","name","valueField","id","name","customerId","required","",1,"customer-combobox",3,"ngModelChange","valueChange","data","valuePrimitive","ngModel","suggest","kendoDropDownFilter","allowCustom","disabled"],["type","button","title","Nuovo cliente",1,"btn","btn-primary","add-customer-button",3,"click"],[1,"fa","fa-plus"],["textField","fullAddress","valueField","id","name","addressId",1,"address-combobox",3,"ngModelChange","data","valuePrimitive","kendoDropDownFilter","ngModel","suggest","allowCustom"],["type","button","title","Nuovo indirizzo",1,"btn","btn-primary","add-address-button",3,"click"],[1,"col-md-12"],["name","reference","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["name","description",3,"ngModelChange","ngModel","resizable","iframe"],["kendoEditorBoldButton",""],["kendoEditorItalicButton",""],["kendoEditorUnderlineButton",""],["kendoEditorForeColor",""],["kendoEditorInsertUnorderedListButton",""],["kendoEditorCreateLinkButton",""],["kendoEditorUnlinkButton",""],[1,"d-flex","justify-content-end","gap-2","mt-5"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"]],template:function(t,o){1&t&&(s.DNE(0,LWt,1,0,"div",3)(1,PWt,62,29,"div",4),s.nrm(2,"app-customer-modal",null,0)(4,"app-address-modal",null,1)),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened))},dependencies:[q,Ps,Qo,Di,Ls,lo,Ed,fs,ps,$i,ts,Ni,qD,ca,Ph,ol,Lb,kg,Og,wg,Eg,yg,Dg,yv,rm,ep,Nn,ug,za,B_,F_],encapsulation:2})}return i})();class ale{constructor(n,e){this.key=n,this.value=e}static fromDictionary(n,e){const t="number"===e,o=new Array;for(const r of Object.keys(n)){const a=t?+r:r,c=new ale(a,n[a]);o.push(c)}return o}}let vO=(()=>{class i extends Tn{constructor(){super()}ngOnChanges(e){if((e.column||e.inputData)&&this.column&&this.inputData){this.data=ale.fromDictionary(this.inputData,"numeric"===this.column.filter?"number":"string");const o=this.filter.filters.filter(r=>r.field===this.column.field);o.length&&(this.value=o.map(r=>r.value))}}onValueChange(e){this.filterService.filter({filters:e.map(t=>({field:this.column.field,operator:"eq",value:t})),logic:"or"})}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-multiselect-grid-column-filter"]],inputs:{inputData:[s.Mj6.None,"data","inputData"],filterService:"filterService",column:"column",filter:"filter"},features:[s.Vt3,s.OA$],decls:1,vars:3,consts:[["textField","value","valueField","key",3,"valueChange","data","valuePrimitive","value"]],template:function(t,o){1&t&&(s.j41(0,"kendo-multiselect",0),s.bIt("valueChange",function(a){return o.onValueChange(a)}),s.k0s()),2&t&&s.Y8G("data",o.data)("valuePrimitive",!0)("value",o.value)},dependencies:[l0],encapsulation:2})}return i})();const UWt=["form"];function FWt(i,n){1&i&&s.nrm(0,"div",2)}function BWt(i,n){if(1&i&&(s.j41(0,"div",17)(1,"a",18),s.nrm(2,"i",19),s.k0s()()),2&i){const e=s.XpG().$implicit,t=s.XpG(4);s.R7$(),s.Y8G("href",t.CreateUrl(e.fileName,e.displayName),s.B4B)}}function VWt(i,n){if(1&i&&(s.j41(0,"div",13)(1,"div",14)(2,"div",15)(3,"p"),s.EFF(4),s.k0s()(),s.DNE(5,BWt,3,1,"div",16),s.k0s()()),2&i){const e=n.$implicit;s.R7$(4),s.JRh(e.displayName),s.R7$(),s.Y8G("ngIf",e.fileName)}}function zWt(i,n){if(1&i&&s.DNE(0,VWt,6,2,"div",12),2&i){const e=s.XpG(3);s.Y8G("ngForOf",e.attachments)}}function HWt(i,n){if(1&i&&(s.j41(0,"kendo-panelbar-item",10),s.DNE(1,zWt,1,1,"ng-template",11),s.k0s()),2&i){const e=s.XpG(2);s.Mz_("title","Allegati Commesse (",e.attachments.length,")")}}function jWt(i,n){if(1&i&&(s.j41(0,"div",17)(1,"a",18),s.nrm(2,"i",19),s.k0s()()),2&i){const e=s.XpG().$implicit,t=s.XpG(4);s.R7$(),s.Y8G("href",t.CreateUrl(e.fileName,e.displayName),s.B4B)}}function $Wt(i,n){if(1&i&&(s.j41(0,"div",13)(1,"div",14)(2,"div",15)(3,"p"),s.EFF(4),s.k0s()(),s.DNE(5,jWt,3,1,"div",16),s.k0s()()),2&i){const e=n.$implicit;s.R7$(4),s.JRh(e.displayName),s.R7$(),s.Y8G("ngIf",e.fileName)}}function XWt(i,n){if(1&i&&s.DNE(0,$Wt,6,2,"div",12),2&i){const e=s.XpG(3);s.Y8G("ngForOf",e.activityAttachments)}}function WWt(i,n){if(1&i&&(s.j41(0,"kendo-panelbar-item",10),s.DNE(1,XWt,1,1,"ng-template",11),s.k0s()),2&i){const e=s.XpG(2);s.Mz_("title","Allegati Attivit\xe0 (",e.activityAttachments.length,")")}}function KWt(i,n){if(1&i&&(s.j41(0,"div",17)(1,"a",18),s.nrm(2,"i",19),s.k0s()()),2&i){const e=s.XpG().$implicit,t=s.XpG(4);s.R7$(),s.Y8G("href",t.CreateUrl(e.fileName,e.displayName),s.B4B)}}function YWt(i,n){if(1&i&&(s.j41(0,"div",13)(1,"div",14)(2,"div",15)(3,"p"),s.EFF(4),s.k0s()(),s.DNE(5,KWt,3,1,"div",16),s.k0s()()),2&i){const e=n.$implicit;s.R7$(4),s.JRh(e.displayName),s.R7$(),s.Y8G("ngIf",e.fileName)}}function JWt(i,n){if(1&i&&s.DNE(0,YWt,6,2,"div",12),2&i){const e=s.XpG(3);s.Y8G("ngForOf",e.purchaseOrderAttachments)}}function qWt(i,n){if(1&i&&(s.j41(0,"kendo-panelbar-item",10),s.DNE(1,JWt,1,1,"ng-template",11),s.k0s()),2&i){const e=s.XpG(2);s.Mz_("title","Allegati Ordini (",e.purchaseOrderAttachments.length,")")}}function QWt(i,n){if(1&i&&(s.j41(0,"div",17)(1,"a",18),s.nrm(2,"i",19),s.k0s()()),2&i){const e=s.XpG().$implicit,t=s.XpG(4);s.R7$(),s.Y8G("href",t.CreateUrl(e.fileName,e.description),s.B4B)}}function ZWt(i,n){if(1&i&&(s.j41(0,"div",13)(1,"div",14)(2,"div",15)(3,"p"),s.EFF(4),s.k0s()(),s.DNE(5,QWt,3,1,"div",16),s.k0s()()),2&i){const e=n.$implicit;s.R7$(4),s.JRh(e.description),s.R7$(),s.Y8G("ngIf",e.fileName)}}function eKt(i,n){if(1&i&&s.DNE(0,ZWt,6,2,"div",12),2&i){const e=s.XpG(3);s.Y8G("ngForOf",e.ticketAttachments)}}function tKt(i,n){if(1&i&&(s.j41(0,"kendo-panelbar-item",10),s.DNE(1,eKt,1,1,"ng-template",11),s.k0s()),2&i){const e=s.XpG(2);s.Mz_("title","Allegati Ticket (",e.ticketAttachments.length,")")}}function nKt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",3)(1,"kendo-window",4),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.j41(2,"kendo-window-titlebar")(3,"div",5),s.EFF(4," Allegati "),s.k0s(),s.nrm(5,"button",6),s.k0s(),s.j41(6,"kendo-panelbar"),s.DNE(7,HWt,2,2,"kendo-panelbar-item",7)(8,WWt,2,2,"kendo-panelbar-item",7)(9,qWt,2,2,"kendo-panelbar-item",7)(10,tKt,2,2,"kendo-panelbar-item",7),s.k0s(),s.j41(11,"div",8)(12,"button",9),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.EFF(13," CHIUDI "),s.k0s()()()()}if(2&i){const e=s.XpG();s.R7$(),s.Y8G("resizable",!1)("draggable",!1)("width",600)("top",110),s.R7$(6),s.Y8G("ngIf",e.attachments.length>0),s.R7$(),s.Y8G("ngIf",e.activityAttachments.length>0),s.R7$(),s.Y8G("ngIf",e.purchaseOrderAttachments.length>0),s.R7$(),s.Y8G("ngIf",e.ticketAttachments.length>0)}}let fGe=(()=>{class i extends eo{constructor(e,t,o,r,a){super(),this._messageBox=e,this._jobsService=t,this._activitiesService=o,this._purchaseOrdersService=r,this._ticketsService=a,this._baseUrl=`${fn.baseApiUrl}/activities`}ngOnInit(){}open(e){const t=super.open(e);return this._jobsService.getJobAttachments(e).pipe(F(o=>this.attachments=o)).subscribe(),this._activitiesService.getActivityAttachments(e).pipe(F(o=>this.activityAttachments=o)).subscribe(),this._purchaseOrdersService.getPurchaseOrderAttachments(e).pipe(F(o=>this.purchaseOrderAttachments=o)).subscribe(),this._ticketsService.getTicketAttachments(e).pipe(F(o=>this.ticketAttachments=o)).subscribe(),t}_canClose(){return this.form.markAsDirty(),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi."),this.form.valid}CreateUrl(e,t){return`${this._baseUrl}/activity-attachment/download-file/${e}/${t}`}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(vn),s.rXU(qf),s.rXU(Xh),s.rXU(D4),s.rXU(VA))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-jobs-attachments-modal"]],viewQuery:function(t,o){if(1&t&&s.GBs(UWt,5),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first)}},features:[s.Vt3],decls:2,vars:2,consts:[["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","width","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],[3,"title",4,"ngIf"],[1,"text-right","mt-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[3,"title"],["kendoPanelBarContent",""],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"row","checklist-row"],[1,"col-10"],["class","col-2","style","text-align: right;",4,"ngIf"],[1,"col-2",2,"text-align","right"],["target","_blank",3,"href"],[1,"fas","fa-paperclip"]],template:function(t,o){1&t&&s.DNE(0,FWt,1,0,"div",0)(1,nKt,14,8,"div",1),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened))},dependencies:[ut,q,$i,ts,Ni,K0e,lw,hZ],encapsulation:2})}return i})();const iKt=["jobModal"],sKt=["jobCopyModal"],oKt=["activityModal"],rKt=["purchaseOrderModal"],aKt=["jobsAttachmentsModal"],lKt=["customerModal"],cKt=["grid"],dKt=()=>["/activities"],mGe=i=>({jobId:i}),uKt=()=>["/purchase-orders"];function hKt(i,n){1&i&&(s.EFF(0),s.nI1(1,"date")),2&i&&s.SpI(" ",s.i5U(1,1,n.$implicit.date,"dd/MM/yyyy")," ")}function pKt(i,n){1&i&&(s.EFF(0),s.nI1(1,"date")),2&i&&s.SpI(" ",s.i5U(1,1,n.$implicit.expirationDate,"dd/MM/yyyy")," ")}function fKt(i,n){if(1&i){const e=s.RV6();s.j41(0,"a",24),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.openCustomer(o.customerId))}),s.EFF(1),s.k0s(),s.nrm(2,"br")}if(2&i){const e=n.$implicit;s.R7$(),s.JRh(e.customer)}}function mKt(i,n){if(1&i&&(s.j41(0,"div"),s.EFF(1),s.k0s()),2&i){const e=s.XpG().$implicit;s.R7$(),s.JRh(e.code)}}function _Kt(i,n){if(1&i&&(s.j41(0,"div",27),s.EFF(1),s.nrm(2,"i",28),s.k0s()),2&i){const e=s.XpG().$implicit;s.R7$(),s.SpI(" ",e.code," ")}}function gKt(i,n){if(1&i&&s.DNE(0,mKt,2,1,"div",25)(1,_Kt,3,1,"div",26),2&i){const e=n.$implicit;s.Y8G("ngIf",!e.hasHighPriority),s.R7$(),s.Y8G("ngIf",e.hasHighPriority)}}function SKt(i,n){if(1&i&&s.nrm(0,"app-multiselect-grid-column-filter",29),2&i){const e=n.column,t=n.filter,o=n.filterService,r=s.XpG();s.Y8G("column",e)("filter",t)("filterService",o)("data",r.jobStatusNames)}}function vKt(i,n){if(1&i&&(s.j41(0,"span",30),s.EFF(1),s.nI1(2,"jobStatus"),s.k0s()),2&i){const e=n.$implicit;s.R7$(),s.SpI(" ",s.bMT(2,1,e.status)," ")}}function CKt(i,n){1&i&&s.nrm(0,"div",31),2&i&&s.Y8G("innerHTML",n.$implicit.description,s.npT)}function bKt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",33)(1,"a",24),s.bIt("click",function(){s.eBV(e);const o=s.XpG().$implicit,r=s.XpG();return s.Njj(r.edit(o))}),s.nrm(2,"i",34),s.j41(3,"span",27),s.EFF(4),s.k0s()()()}if(2&i){const e=s.XpG().$implicit;s.R7$(4),s.SpI(" ",e.unreadMessages,"")}}function EKt(i,n){1&i&&s.DNE(0,bKt,5,1,"div",32),2&i&&s.Y8G("ngIf",n.$implicit.unreadMessages)}function yKt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",35)(1,"div",36)(2,"button",37),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.edit(o))}),s.nrm(3,"i",38),s.k0s(),s.j41(4,"button",39),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.createActivity(o))}),s.nrm(5,"i",40),s.k0s(),s.j41(6,"a",41),s.nrm(7,"i",42),s.k0s(),s.j41(8,"button",43),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.openAttachments(o))}),s.nrm(9,"i",44),s.k0s()(),s.j41(10,"div",36)(11,"button",45),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.createPurchaseOrder(o))}),s.nrm(12,"i",46),s.k0s(),s.j41(13,"button",47),s.nrm(14,"i",48),s.k0s(),s.j41(15,"button",49),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.copyJob(o))}),s.nrm(16,"i",50),s.k0s(),s.j41(17,"button",51),s.nrm(18,"i",52),s.k0s()()()}if(2&i){const e=n.$implicit;s.R7$(6),s.Y8G("routerLink",s.lJ4(7,dKt))("disabled",!e.hasActivities)("queryParams",s.eq3(8,mGe,e.id)),s.R7$(2),s.Y8G("disabled",!e.hasAttachments),s.R7$(5),s.Y8G("disabled",!e.hasPurchaseOrders)("routerLink",s.lJ4(10,uKt))("queryParams",s.eq3(11,mGe,e.id))}}let DKt=(()=>{class i extends Tn{constructor(e,t,o,r,a,l,c,u,f){super(),this._service=e,this._serviceActivity=t,this._purchaseOrdersService=o,this._customerService=r,this._user=a,this._operatorsService=l,this._messageBox=c,this.router=u,this._storageService=f,this.gridState={skip:0,take:30,filter:{filters:[{filters:[bo.Pending,bo.InProgress].map(_=>({field:"status",operator:"eq",value:_})),logic:"or"}],logic:"and"},group:[],sort:[{field:"expirationDate",dir:"desc"},{field:"date",dir:"desc"}]},this.jobStatusNames=ire,this.rowCallback=_=>{const S=_.dataItem;switch(!0){case S.status===bo.Completed:return{"job-completed":!0};case S.status===bo.InProgress:return{"job-inprogress":!0};case S.status===bo.Pending:return{"job-pending":!0};case S.status===bo.Billing:return{"job-billing":!0};case S.status===bo.Billed:return{"job-billed":!0};default:return{}}}}ngOnInit(){this._resumeState(),this._read(),this.user=this._user.getUser(),this._getCurrentOperator(this.user.id)}dataStateChange(e){this.gridState=e,this._saveState(),this._read()}_resumeState(){const e=this._storageService.get(window.location.hash,!0);null!=e&&(this.gridState=e)}_saveState(){this._storageService.save(this.gridState,window.location.hash,!0)}create(){const e=Ff(),t=new lv(0,null,e.getFullYear(),e,null,null,null,!1,bo.Pending,null,null,null,[],[]);this._subscriptions.push(this.jobModal.open(t).pipe(X(o=>o),le(()=>this._service.create(t)),F(o=>this._afterSaved(o))).subscribe())}edit(e){this._subscriptions.push(this._service.get(e.id).pipe(le(t=>this.jobModal.open(t)),F(t=>!t&&this._read()),X(t=>t),le(()=>this._service.update(this.jobModal.options)),F(t=>this._afterSaved(t))).subscribe())}onDblClick(){this.cellArgs.isEdited||this._subscriptions.push(this._service.get(this.cellArgs.dataItem.id).pipe(le(e=>this.jobModal.open(e)),F(e=>!e&&this._read()),X(e=>e),le(()=>this._service.update(this.jobModal.options)),F(e=>this._afterSaved(e))).subscribe())}cellClickHandler(e){this.cellArgs=e}copyJob(e){const t=new sre(e.id,e.date,e.description,e.reference,e.customerId,e.addressId,e.referentId);this._subscriptions.push(this.jobCopyModal.open(t).pipe(X(o=>o),le(()=>this._service.copyJob(this.jobCopyModal.options)),F(o=>this._afterActivityCreated(o))).subscribe())}createActivity(e){const t=new Bf(0,_a.Pending,null,null,null,null,e.id,null,null,null,null,null,null,"In attesa","In corso","Completata",[],[]),o=new Pb(t);this._subscriptions.push(this.activityModal.open(o).pipe(X(r=>r),le(()=>this._serviceActivity.create(t)),F(()=>this._afterActivityCreated(e.id))).subscribe())}openCustomer(e){this._subscriptions.push(this._customerService.getCustomer(e).pipe((0,V.T)(t=>Object.assign(new xr,t)),le(t=>this.customerModal.open(t)),X(t=>t),(0,V.T)(()=>this.customerModal.options),le(t=>this._customerService.updateCustomer(t,e)),(0,V.T)(()=>this.customerModal.options),F(t=>this._messageBox.success(`Cliente ${t.name} aggiornato`)),F(()=>this._read())).subscribe())}askRemove(e){this._subscriptions.push(this._messageBox.confirm(`Sei sicuro di voler rimuovere la commessa ${e.code}?`,"Attenzione").pipe(X(o=>o),le(()=>this._service.delete(e.id)),F(()=>this._afterRemoved(e))).subscribe())}createPurchaseOrder(e){const t=Ff(),o=new Dv(0,null,t.getFullYear(),t,null,null,Ka.Pending,e.id,null,null,this.currentOperator.id,[],[],[]),r=new y4(o);this._subscriptions.push(this.purchaseOrderModal.open(r).pipe(X(a=>a),le(()=>this._purchaseOrdersService.create(o)),F(()=>this._afterPurchaseOrderCreated(e.id))).subscribe())}openAttachments(e){this._subscriptions.push(this.jobsAttachmentsModal.open(e.id).pipe(X(t=>t)).subscribe())}_afterActivityCreated(e){this._messageBox.success("Attivit\xe0 creata."),this.router.navigate(["/activities"],{queryParams:{jobId:e}})}_afterPurchaseOrderCreated(e){this._messageBox.success("Ordine d'acquisto creato"),this.router.navigate(["/purchase-orders"],{queryParams:{jobId:e}})}_read(){this._subscriptions.push(this._service.read(this.gridState).pipe(F(e=>this.data=e)).subscribe())}_afterSaved(e){this._messageBox.success(`Commessa ${e.code} salvata.`),this._read()}_afterRemoved(e){this._messageBox.success(`Commessa ${e.code} rimossa.`),this._read()}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(F(t=>this.currentOperator=t)).subscribe())}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(qf),s.rXU(Xh),s.rXU(D4),s.rXU(zu),s.rXU(ro),s.rXU(Bc),s.rXU(vn),s.rXU(Ns),s.rXU(Ll))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-jobs"]],viewQuery:function(t,o){if(1&t&&(s.GBs(iKt,7),s.GBs(sKt,7),s.GBs(oKt,7),s.GBs(rKt,7),s.GBs(aKt,7),s.GBs(lKt,7),s.GBs(cKt,7)),2&t){let r;s.mGM(r=s.lsd())&&(o.jobModal=r.first),s.mGM(r=s.lsd())&&(o.jobCopyModal=r.first),s.mGM(r=s.lsd())&&(o.activityModal=r.first),s.mGM(r=s.lsd())&&(o.purchaseOrderModal=r.first),s.mGM(r=s.lsd())&&(o.jobsAttachmentsModal=r.first),s.mGM(r=s.lsd())&&(o.customerModal=r.first),s.mGM(r=s.lsd())&&(o.grid=r.first)}},features:[s.Vt3],decls:42,vars:16,consts:[["jobModal",""],["activityModal",""],["jobCopyModal",""],["purchaseOrderModal",""],["jobsAttachmentsModal",""],["customerModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],["filterable","menu","scrollable","none",3,"dataStateChange","cellClick","dblclick","data","pageSize","skip","sort","filter","group","sortable","pageable","rowClass"],["field","date","title","Data","filter","date",3,"width"],["kendoGridCellTemplate",""],["field","expirationDate","title","Data Scad.","filter","expirationDate",3,"width"],["field","customer","title","Cliente"],["field","code","title","Cod.",3,"width"],["field","status","title","Stato","filter","numeric",1,"job-status",3,"width"],["kendoGridFilterMenuTemplate",""],["field","reference","title","Riferimento"],["field","referentName","title","Respons. Comm."],["field","description","title","Note"],["field","unreadMessages","title","","filterable","false"],["field","id","title"," ",3,"sortable","filterable","width"],[2,"cursor","pointer",3,"click"],[4,"ngIf"],["class","job-alert",4,"ngIf"],[1,"job-alert"],["aria-hidden","true",1,"fa","fa-exclamation-triangle"],[3,"column","filter","filterService","data"],[1,"text-nowrap"],[3,"innerHTML"],["style","width: 35px; text-align: center;",4,"ngIf"],[2,"width","35px","text-align","center"],[1,"fa-regular","fa-message","job-alert"],[1,"d-flex","flex-column","gap-2"],[1,"d-flex","text-nowrap","justify-content-center","gap-1"],["title","Modifica",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-edit"],["title","Aggiungi nuova attivit\xe0",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-plus"],["title","Gestisci attivit\xe0",1,"btn","btn-primary","btn-sm",3,"routerLink","disabled","queryParams"],[1,"fas","fa-gear"],["title","Visualizza allegati",1,"btn","btn-outline-primary","btn-sm",3,"click","disabled"],[1,"fa","fa-paperclip"],["title","Aggiungi nuovo ordine d'acquisto",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"fa","fa-cart-shopping"],["title","Visualizza ordini d'acquisto",1,"btn","btn-outline-primary","btn-sm",3,"disabled","routerLink","queryParams"],[1,"fa","fa-bag-shopping"],["title","Copia Commessa",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-copy"],["title","Visualizza tickets","disabled","",1,"btn","btn-outline-primary","btn-sm"],[1,"fa","fa-tag"]],template:function(t,o){if(1&t){const r=s.RV6();s.j41(0,"div",6)(1,"div",7)(2,"h3"),s.EFF(3,"Commesse"),s.k0s()(),s.j41(4,"div",8)(5,"button",9),s.bIt("click",function(){return s.eBV(r),s.Njj(o.create())}),s.nrm(6,"i",10),s.EFF(7," NUOVA "),s.k0s()()(),s.j41(8,"kendo-grid",11),s.bIt("dataStateChange",function(l){return s.eBV(r),s.Njj(o.dataStateChange(l))})("cellClick",function(l){return s.eBV(r),s.Njj(o.cellClickHandler(l))})("dblclick",function(){return s.eBV(r),s.Njj(o.onDblClick())}),s.j41(9,"kendo-grid-column",12),s.DNE(10,hKt,2,4,"ng-template",13),s.k0s(),s.j41(11,"kendo-grid-column",14),s.DNE(12,pKt,2,4,"ng-template",13),s.k0s(),s.j41(13,"kendo-grid-column",15),s.DNE(14,fKt,3,1,"ng-template",13),s.k0s(),s.j41(15,"kendo-grid-column",16),s.DNE(16,gKt,2,2,"ng-template",13),s.k0s(),s.j41(17,"kendo-grid-column",17),s.DNE(18,SKt,1,4,"ng-template",18)(19,vKt,3,3,"ng-template",13),s.k0s(),s.nrm(20,"kendo-grid-column",19)(21,"kendo-grid-column",20),s.j41(22,"kendo-grid-column",21),s.DNE(23,CKt,1,1,"ng-template",13),s.k0s(),s.j41(24,"kendo-grid-column",22),s.DNE(25,EKt,1,1,"ng-template",13),s.k0s(),s.j41(26,"kendo-grid-column",23),s.DNE(27,yKt,19,13,"ng-template",13),s.k0s()(),s.nrm(28,"app-job-modal",null,0)(30,"app-activity-modal",null,1)(32,"app-job-copy-modal",null,2)(34,"app-purchase-order-modal",null,3)(36,"app-jobs-attachments-modal",null,4)(38,"app-activity-modal",null,1)(40,"app-customer-modal",null,5)}2&t&&(s.R7$(8),s.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!0)("rowClass",o.rowCallback),s.R7$(),s.Y8G("width",1),s.R7$(2),s.Y8G("width",1),s.R7$(4),s.Y8G("width",1),s.R7$(2),s.Y8G("width",1),s.R7$(9),s.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[q,mu,Wi,Oi,Us,N_,B_,rle,GWt,vO,C4,fGe,nle,To,ile],encapsulation:2})}return i})();const wKt=["form"];function kKt(i,n){1&i&&s.nrm(0,"div",3)}function OKt(i,n){if(1&i&&s.nrm(0,"img",32),2&i){const e=s.XpG().$implicit,t=s.XpG(2);s.Y8G("src",t.imagesUrl+e.pictureFileName,s.B4B)}}function TKt(i,n){if(1&i&&(s.j41(0,"div",30),s.DNE(1,OKt,1,1,"img",31),s.j41(2,"span"),s.EFF(3),s.k0s()()),2&i){const e=n.$implicit;s.R7$(),s.Y8G("ngIf",e.pictureFileName),s.R7$(2),s.SpI(" ",e.fullName," ")}}function MKt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",4)(1,"kendo-window",5),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.j41(2,"kendo-window-titlebar")(3,"div",6),s.EFF(4," Associa prodotto "),s.k0s(),s.nrm(5,"button",7),s.k0s(),s.j41(6,"form",8,0),s.bIt("submit",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.close())}),s.j41(8,"div",9)(9,"div",10)(10,"label"),s.EFF(11,"Tipologia"),s.k0s(),s.j41(12,"div",11)(13,"kendo-combobox",12),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.productType,o)||(r.productType=o),s.Njj(o)}),s.bIt("valueChange",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onProductTypeChanged())}),s.k0s(),s.nrm(14,"div",13),s.k0s()(),s.j41(15,"div",14)(16,"label"),s.EFF(17,"Prodotto"),s.k0s(),s.j41(18,"div",11)(19,"kendo-combobox",15),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.product,o)||(r.product=o),s.Njj(o)}),s.bIt("valueChange",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onProductChange())}),s.DNE(20,TKt,4,2,"ng-template",16),s.k0s(),s.nrm(21,"div",13),s.k0s()(),s.j41(22,"div",10)(23,"label"),s.EFF(24,"Ubicazione"),s.k0s(),s.j41(25,"div",11)(26,"input",17),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.product.location,o)||(r.options.product.location=o),s.Njj(o)}),s.k0s(),s.nrm(27,"div",13),s.k0s()()(),s.j41(28,"div",9)(29,"div",18)(30,"label"),s.EFF(31,"Descrizione"),s.k0s(),s.j41(32,"div",11)(33,"kendo-editor",19),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.product.description,o)||(r.options.product.description=o),s.Njj(o)}),s.j41(34,"kendo-toolbar")(35,"kendo-toolbar-buttongroup"),s.nrm(36,"kendo-toolbar-button",20)(37,"kendo-toolbar-button",21)(38,"kendo-toolbar-button",22),s.k0s(),s.nrm(39,"kendo-toolbar-colorpicker",23),s.j41(40,"kendo-toolbar-buttongroup"),s.nrm(41,"kendo-toolbar-button",24),s.k0s(),s.j41(42,"kendo-toolbar-buttongroup"),s.nrm(43,"kendo-toolbar-button",25)(44,"kendo-toolbar-button",26),s.k0s()()(),s.nrm(45,"div",13),s.k0s()()(),s.j41(46,"div",27)(47,"button",28),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.EFF(48," Annulla "),s.k0s(),s.j41(49,"button",29),s.EFF(50," Salva "),s.k0s()()()()()}if(2&i){const e=s.sdS(7),t=s.XpG();s.R7$(),s.Y8G("resizable",!1)("draggable",!1)("top",30),s.R7$(12),s.Y8G("data",t.productTypes),s.R50("ngModel",t.productType),s.Y8G("suggest",!0)("allowCustom",!1),s.R7$(),s.Y8G("control",e.controls.productType),s.R7$(5),s.Y8G("data",t.products),s.R50("ngModel",t.product),s.Y8G("suggest",!0)("allowCustom",!1),s.R7$(2),s.Y8G("control",e.controls.product),s.R7$(5),s.R50("ngModel",t.options.product.location),s.R7$(),s.Y8G("control",e.controls.location),s.R7$(6),s.R50("ngModel",t.options.product.description),s.Y8G("resizable",!0)("iframe",!1),s.R7$(12),s.Y8G("control",e.controls.description)}}let IKt=(()=>{class i extends eo{constructor(e,t,o){super(),this._productTypesService=e,this._messageBox=t,this._productsService=o,this.imagesUrl=`${fn.baseAttachmentsUrl}/`}ngOnInit(){this._getProductTypes()}open(e){this.productType=this.productTypes.find(o=>o.id===e.product.productTypeId),this.products=[],this.product=null;const t=super.open(e);return this.productType&&this.onProductTypeChanged(this.options.product.productId),t}onProductTypeChanged(e=null){this.options.product.productTypeId=this.productType?.id,this.product=null,this.options.product.productId=null,this.productType?this._subscriptions.push(this._productsService.readProducts({filter:{filters:[{field:"productTypeId",operator:"eq",value:this.productType.id}],logic:"and"},sort:[{field:"name",dir:"asc"}]}).pipe(F(o=>this.products=o.data.map(r=>new AKt(r))),F(()=>this.options.product.productId=(this.product=this.products.find(o=>o.id===e))?.id)).subscribe()):this.products=[]}onProductChange(){this.options.product.productId=this.product?.id,this.options.product.description=this.product?.description}_canClose(){return this.form.markAsDirty(),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi."),this.form.valid}_getProductTypes(){this._subscriptions.push(this._productTypesService.readProductTypesList().pipe(F(e=>this.productTypes=e.map(t=>new RKt(t)))).subscribe())}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(TB),s.rXU(vn),s.rXU($A))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-activity-product-modal"]],viewQuery:function(t,o){if(1&t&&s.GBs(wKt,5),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first)}},features:[s.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],["name","activity-product-modal-form","novalidate","","autocomplete","off",1,"redimensionModal",3,"submit"],[1,"row"],[1,"col-md-3"],[1,"form-group"],["textField","fullName","valueField","id","name","productType","required","",3,"ngModelChange","valueChange","data","ngModel","suggest","allowCustom"],[1,"validation-message",3,"control"],[1,"col-md-6"],["textField","fullName","valueField","id","name","product","required","",3,"ngModelChange","valueChange","data","ngModel","suggest","allowCustom"],["kendoComboBoxItemTemplate",""],["name","location","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-12"],["name","description",3,"ngModelChange","ngModel","resizable","iframe"],["kendoEditorBoldButton",""],["kendoEditorItalicButton",""],["kendoEditorUnderlineButton",""],["kendoEditorForeColor",""],["kendoEditorInsertUnorderedListButton",""],["kendoEditorCreateLinkButton",""],["kendoEditorUnlinkButton",""],[1,"d-flex","justify-content-end","gap-2","mt-5"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"d-flex","align-items-center","gap-1"],["class","thumbnail-xs",3,"src",4,"ngIf"],[1,"thumbnail-xs",3,"src"]],template:function(t,o){1&t&&s.DNE(0,kKt,1,0,"div",1)(1,MKt,51,19,"div",2),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened))},dependencies:[q,Ps,Qo,Di,Ls,lo,Ed,fs,ps,$i,ts,Ni,Na,ca,Lb,kg,Og,wg,Eg,yg,Dg,yv,rm,ep,Nn,ug,za],encapsulation:2})}return i})();class _Ge{constructor(n){this.product=n}}class RKt{constructor(n){this.id=n.id,this.code=n.code,this.name=n.name,this.fullName=`${n.code} - ${n.name}`}}class AKt{constructor(n){this.id=n.id,this.code=n.code,this.name=n.name,this.fullName=`${n.code} - ${n.name}`,this.pictureFileName=n.pictureFileName,this.description=n.description}}class w4{constructor(n,e,t,o,r,a){this.id=n,this.activityId=e,this.productId=t,this.description=o,this.location=r,this.productTypeId=a}static build(n){return new w4(n.id,n.activityId,n.productId,n.description,n.location,n.productTypeId)}}var dp=function(i){return i[i.Scheduled=0]="Scheduled",i[i.CompletedSuccesfully=1]="CompletedSuccesfully",i[i.CompletedUnsuccesfully=2]="CompletedUnsuccesfully",i}(dp||{});const gGe={[dp.Scheduled]:"Programmato",[dp.CompletedSuccesfully]:"Completato OK",[dp.CompletedUnsuccesfully]:"Completato KO"};class Tg{constructor(n,e,t,o,r,a,l,c,u,f,_){this.id=n,this.status=o,this.description=r,this.vehicleId=a,this.activityId=l,this.jobId=c,this.operators=u,this.activityProducts=f,this.notes=_,this.start=new Date(e),this.end=new Date(t)}static build(n){const e=n.notes.map(t=>cle.build(t));return new Tg(n.id,n.start,n.end,n.status,n.description,n.vehicleId,n.activityId,n.jobId,n.operators,n.activityProducts,e)}}class lle{constructor(n,e,t,o){this.interventionProductId=n,this.description=e,this.notes=t,this.items=o}static build(n){return new lle(n.interventionProductId,n.description,n.notes,n.items)}}class cle{constructor(n,e,t,o,r){this.id=n,this.pictureFileName=e,this.notes=t,this.operatorName=o,this.interventionId=r}static build(n){return new cle(n.id,n.pictureFileName,n.notes,n.operatorName,n.interventionId)}}let sz=(()=>{class i{constructor(e){this._http=e,this._baseUrl=`${fn.baseApiUrl}/activity-products`}read(e){return H0(this._http,e,`${this._baseUrl}/read`)}create(e){return this._http.post(this._baseUrl,e).pipe((0,V.T)(()=>{}))}get(e){return this._http.get(`${this._baseUrl}/${e}`).pipe((0,V.T)(t=>w4.build(t)))}update(e){return this._http.put(`${this._baseUrl}/${e.id}`,e).pipe((0,V.T)(t=>w4.build(t)))}duplicate(e){return this._http.post(`${this._baseUrl}/${e}/duplicate`,null).pipe((0,V.T)(()=>{}))}delete(e){return this._http.delete(`${this._baseUrl}/${e}`).pipe((0,V.T)(()=>{}))}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Yo))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})(),Mg=(()=>{class i{constructor(e){this._http=e,this._baseUrl=`${fn.baseApiUrl}/interventions`}read(e){return H0(this._http,e,`${this._baseUrl}/read`)}get(e){return this._http.get(`${this._baseUrl}/${e}`).pipe((0,V.T)(t=>Tg.build(t)))}create(e){return this._http.post(this._baseUrl,e).pipe((0,V.T)(t=>Tg.build(t)))}update(e){return this._http.put(`${this._baseUrl}/${e.id}`,e).pipe((0,V.T)(t=>Tg.build(t)))}delete(e){return this._http.delete(`${this._baseUrl}/${e}`).pipe((0,V.T)(()=>{}))}readProductsByIntervention(e,t){const o=_d(e),r=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/intervention-products-by-intervention/${t}?${o}`).pipe((0,V.T)(a=>({data:r?Ra(a.data):a.data,total:a.total})))}readProductCheckListByProductId(e){return this._http.get(`${this._baseUrl}/intervention-checklist-by-product/${e}`).pipe((0,V.T)(t=>lle.build(t)))}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Yo))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();function xKt(i,n){if(1&i&&(s.j41(0,"a",10),s.nrm(1,"img",11),s.k0s()),2&i){const e=s.XpG().$implicit,t=s.XpG();s.Y8G("href",t.imagesUrl+e.pictureFileName,s.B4B),s.R7$(),s.Y8G("src",t.imagesUrl+e.pictureFileName,s.B4B)}}function NKt(i,n){1&i&&s.DNE(0,xKt,2,2,"a",9),2&i&&s.Y8G("ngIf",n.$implicit.pictureFileName)}function LKt(i,n){1&i&&s.nrm(0,"div",12),2&i&&s.Y8G("innerHTML",n.$implicit.description,s.npT)}function PKt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",19),s.bIt("click",function(){s.eBV(e);const o=s.XpG().$implicit,r=s.XpG();return s.Njj(r.askRemove(o))}),s.nrm(1,"i",20),s.k0s()}}function GKt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",13)(1,"button",14),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.editActivityProduct(o))}),s.nrm(2,"i",15),s.k0s(),s.j41(3,"button",16),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.askDuplicate(o))}),s.nrm(4,"i",17),s.k0s(),s.DNE(5,PKt,2,0,"button",18),s.k0s()}if(2&i){const e=n.$implicit;s.R7$(5),s.Y8G("ngIf",e.canBeRemoved)}}let UKt=(()=>{class i extends Tn{constructor(e,t){super(),this._service=e,this._messageBox=t,this.edit=new s.bkB,this.imagesUrl=`${fn.baseAttachmentsUrl}/`,this.gridState={skip:0,take:30,filter:{filters:[this._buildActivityIdFilter()],logic:"and"},group:[],sort:[]}}ngOnChanges(e){e.activityId&&this.activityId&&this._read()}refresh(){this._read()}dataStateChange(e){this.gridState=e,this._read()}_read(){this._subscriptions.push(this._service.read(this.gridState).pipe(F(e=>this.data=e)).subscribe())}editActivityProduct(e){this.edit.emit(e)}askRemove(e){this._subscriptions.push(this._messageBox.confirm(`Sei sicuro di voler rimuovere ${e.name} dall'attivit\xe0?`,"Attenzione").pipe(X(o=>o),le(()=>this._service.delete(e.id)),F(()=>this._afterRemoved(e))).subscribe())}askDuplicate(e){this._subscriptions.push(this._messageBox.confirm(`Sei sicuro di voler associare un altro ${e.name} all'attivit\xe0?`,"Attenzione").pipe(X(o=>o),le(()=>this._service.duplicate(e.id)),F(()=>this._afterDuplicated(e))).subscribe())}_afterRemoved(e){this._messageBox.success(`${e.name} rimosso dall'attivit\xe0.`),this._read()}_afterDuplicated(e){this._messageBox.success(`${e.name} associato all'attivit\xe0.`),this._read()}_buildActivityIdFilter(){const e=this;return{field:"activityId",operator:"eq",get value(){return e.activityId}}}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(sz),s.rXU(vn))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-activity-products"]],inputs:{activityId:"activityId"},outputs:{edit:"edit"},features:[s.Vt3,s.OA$],decls:11,vars:16,consts:[["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","type","title","Tipologia",3,"width"],["field","code","title","Codice",3,"width"],["field","pictureFileName","title","Immagine",3,"sortable","filterable","width"],["kendoGridCellTemplate",""],["field","name","title","Nome"],["field","description","title","Descrizione"],["field","location","title","Ubicazione"],["field","id","title"," ",3,"sortable","filterable","width"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"],[1,"thumbnail-s",3,"src"],[3,"innerHTML"],[1,"d-flex","text-nowrap","gap-1"],["title","Modifica",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-edit"],["title","Duplica",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-copy"],["class","btn btn-danger btn-sm","title","Rimuovi",3,"click",4,"ngIf"],["title","Rimuovi",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"]],template:function(t,o){1&t&&(s.j41(0,"kendo-grid",0),s.bIt("dataStateChange",function(a){return o.dataStateChange(a)}),s.nrm(1,"kendo-grid-column",1)(2,"kendo-grid-column",2),s.j41(3,"kendo-grid-column",3),s.DNE(4,NKt,1,1,"ng-template",4),s.k0s(),s.nrm(5,"kendo-grid-column",5),s.j41(6,"kendo-grid-column",6),s.DNE(7,LKt,1,1,"ng-template",4),s.k0s(),s.nrm(8,"kendo-grid-column",7),s.j41(9,"kendo-grid-column",8),s.DNE(10,GKt,6,1,"ng-template",4),s.k0s()()),2&t&&(s.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!0),s.R7$(),s.Y8G("width",1),s.R7$(),s.Y8G("width",1),s.R7$(),s.Y8G("sortable",!1)("filterable",!1)("width",1),s.R7$(6),s.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[q,Wi,Oi,Us],encapsulation:2})}return i})();const vGe=(i,n)=>({$implicit:i,anchor:n});function FKt(i,n){}function BKt(i,n){if(1&i&&(s.j41(0,"div",7),s.DNE(1,FKt,0,0,"ng-template",3),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngIf",e.titleTemplate)("ngTemplateOutlet",e.titleTemplate)("ngTemplateOutletContext",s.l_i(3,vGe,e.anchor,e.anchor))}}function VKt(i,n){}function zKt(i,n){if(1&i&&s.EFF(0),2&i){const e=s.XpG();s.SpI(" ",e.templateString," ")}}function HKt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",8),s.bIt("click",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onCloseClick(o))}),s.j41(1,"a",9),s.nrm(2,"kendo-icon-wrapper",10),s.k0s()()}if(2&i){const e=s.XpG();s.BMQ("aria-hidden",!0),s.R7$(),s.BMQ("title",e.closeButtonTitle),s.R7$(),s.Y8G("svgIcon",e.xIcon)}}function jKt(i,n){if(1&i&&s.nrm(0,"div",11),2&i){const e=s.XpG();s.Y8G("ngClass",e.calloutPositionClass())}}const CGe={name:"@progress/kendo-angular-tooltip",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925138,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},uYt=new s.nKC("kendo-ui-tooltip-settings");let hYt=(()=>{class i{constructor(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),pYt=0,fYt=0,mYt=0;function _Yt(i,n){return i||("top"===n||"bottom"===n?{horizontal:"fit",vertical:"flip"}:{horizontal:"flip",vertical:"fit"})}function EGe(i){return 9===i.nodeType}function k4(i,n){if(i.closest)return i.closest(n);const e=Element.prototype.matches?(o,r)=>o.matches(r):(o,r)=>o.msMatchesSelector(r);let t=i;for(;t&&!EGe(t);){if(e(t,n))return t;t=t.parentNode}}function yGe(i,n){return!(!i||EGe(i))&&(i.contains?i.contains(n):i.compareDocumentPosition?!!(i.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY):void 0)}function DGe(i,n,e){const t=i.getBoundingClientRect();return t[n]+t[e]/2}function ule(i,n){return-1!==i.indexOf(n)}let wGe=(()=>{class i extends yi{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoTooltipLocalizedMessages",""]],inputs:{closeTitle:"closeTitle"},features:[s.Jv_([{provide:yi,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})(),kGe=(()=>{class i{constructor(e,t){this.content=e,this.localizationService=t,this.xIcon=go,this.close=new s.bkB,this.hostRole="tooltip",this.tooltipWidth=null,this.tooltipHeight=null,this.callout=!0,this.calloutStyles=(o,r,a)=>{const l={},c="top"===o||"bottom"===o,u="180deg",f="0deg";return a?("top"===o?l.bottom="unset":"bottom"===o?l.top="unset":"left"===o?l.right="unset":"right"===o&&(l.left="unset"),l[o]=-r+"px",l.transform=c?`rotateX(${u})`:`rotateY(${u})`,l):(l.transform=c?`rotateX(${f})`:`rotateY(${f})`,l)},this.direction=t.rtl?"rtl":"ltr"}get cssClasses(){return"k-tooltip"}get hostId(){return this.tooltipId}get className(){return this.closable}get cssPosition(){return"relative"}ngOnInit(){this.tooltipId=((i,n)=>{switch(n){case"popoverTitle":return`${i}-${++fYt}`;case"popoverBody":return`${i}-${++mYt}`;default:return`${i}-${++pYt}`}})("tooltip"),this.dynamicRTLSubscription=this.localizationService.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr")}ngOnDestroy(){this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe()}get closeButtonTitle(){return this.closeTitle||this.localizationService.get("closeTitle")}calloutPositionClass(){return{top:"k-callout-s",left:"k-callout-e",bottom:"k-callout-n",right:"k-callout-w"}[this.position]}onCloseClick(e){e.preventDefault(),this.close.emit()}updateCalloutPosition(e,t){if(!this.callout)return;const o=this.content.nativeElement.querySelector(".k-callout"),r="top"===e||"bottom"===e,a=r?"width":"height",l=r?"left":"top",c=r?"marginLeft":"marginTop",u=o.getBoundingClientRect()[a],f=DGe(this.anchor.nativeElement,l,a),_=DGe(this.content.nativeElement,l,a),S=Math.abs(_-f);(S>1||0===S||0===Math.round(S))&&(o.style[c]=-(_-f+u/2)+"px");const v=this.calloutStyles(e,u,t);Object.keys(v).forEach(b=>{o.style[b]=v[b]})}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-tooltip"]],hostVars:13,hostBindings:function(e,t){2&e&&(s.BMQ("dir",t.direction)("role",t.hostRole)("id",t.hostId),s.HbH(t.cssClasses),s.xc7("position",t.cssPosition)("width",t.tooltipWidth,"px")("height",t.tooltipHeight,"px"),s.AVh("k-tooltip-closable",t.className))},inputs:{tooltipWidth:"tooltipWidth",tooltipHeight:"tooltipHeight",titleTemplate:"titleTemplate",anchor:"anchor",closable:"closable",templateRef:"templateRef",templateString:"templateString"},outputs:{close:"close"},features:[s.Jv_([z,{provide:He,useValue:"kendo.tooltip"}])],decls:7,vars:10,consts:()=>{let n;return n="Chiudi",[["kendoTooltipLocalizedMessages","","closeTitle",n],[1,"k-tooltip-content"],["class","k-tooltip-title",4,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngIf"],["class","k-tooltip-button",3,"click",4,"ngIf"],["class","k-callout",3,"ngClass",4,"ngIf"],[1,"k-tooltip-title"],[1,"k-tooltip-button",3,"click"],["href","#",1,"k-icon"],["name","x",3,"svgIcon"],[1,"k-callout",3,"ngClass"]]},template:function(e,t){1&e&&(s.eu8(0,0),s.j41(1,"div",1),s.DNE(2,BKt,2,6,"div",2)(3,VKt,0,0,"ng-template",3)(4,zKt,1,1,"ng-template",4),s.k0s(),s.DNE(5,HKt,3,3,"div",5)(6,jKt,1,1,"div",6)),2&e&&(s.R7$(2),s.Y8G("ngIf",t.titleTemplate),s.R7$(),s.Y8G("ngIf",t.templateRef)("ngTemplateOutlet",t.templateRef)("ngTemplateOutletContext",s.l_i(7,vGe,t.anchor,t.anchor)),s.R7$(),s.Y8G("ngIf",t.templateString),s.R7$(),s.Y8G("ngIf",t.closable),s.R7$(),s.Y8G("ngIf",t.callout))},dependencies:[Qe,wGe,q,qe,Be],encapsulation:2}),i})(),az=(()=>{class i{constructor(e,t,o,r,a,l){this.tooltipWrapper=e,this.ngZone=t,this.renderer=o,this.popupService=r,this.filter="[title]",this.position="top",this.showAfter=100,this.callout=!0,this.closable=!1,this.offset=6,this.anchor=null,this.keyboardNavigationSubscription=new be.yU,this.validPositions=["top","bottom","right","left"],this.validShowOptions=["hover","click","none"],(0,_t.$)(CGe),Object.assign(this,a,l),this.ngZone.runOutsideAngular(()=>{const c=this.tooltipWrapper.nativeElement;this.anchorTitleSubscription=Dt(c,"mouseover").pipe(X(()=>""!==this.filter)).subscribe(u=>{const f=k4(u.target,this.filter);f&&this.hideElementTitle({nativeElement:f})}),this.mouseOverSubscription=Dt(c,"mouseover").pipe(X(()=>""!==this.filter)).subscribe(u=>this.onMouseOver(u)),this.mouseOutSubscription=Dt(c,"mouseout").subscribe(u=>this.onMouseOut(u))})}set tooltipTemplate(e){this.template=e}get tooltipTemplate(){return this.template}show(e){if(!this.popupRef)if(e instanceof Element&&(e={nativeElement:e}),this.anchor=e,"hover"===this.showOn){if(this.popupRef)return;clearTimeout(this.showTimeout),this.showTimeout=setTimeout(()=>this.showContent(this.anchor),this.showAfter)}else this.hideElementTitle(this.anchor),this.showContent(this.anchor)}hide(){clearTimeout(this.showTimeout);const e=this.anchor&&this.anchor.nativeElement;e&&e.getAttribute("data-title")&&(!e.getAttribute("title")&&e.hasAttribute("title")&&e.setAttribute("title",e.getAttribute("data-title")),e.setAttribute("data-title","")),this.popupMouseOutSubscription&&this.popupMouseOutSubscription.unsubscribe(),this.closeClickSubscription&&this.closeClickSubscription.unsubscribe(),this.closePopup()}toggle(e,t){const o=this.anchor&&this.anchor.nativeElement;e instanceof Element&&(e={nativeElement:e}),o!==e.nativeElement&&this.hide(),o===e.nativeElement&&"click"===this.showOn&&this.hide(),typeof t>"u"&&(t=!this.popupRef),t?this.show(e):this.hide()}ngOnInit(){void 0===this.showOn&&(this.showOn="hover"),this.keyboardNavigationSubscription.add(this.renderer.listen(this.tooltipWrapper.nativeElement,"keydown",e=>this.onKeyDown(e))),this.verifyProperties()}ngOnChanges(e){e.showOn&&ne()&&this.subscribeClick()}ngAfterViewChecked(){this.popupRef&&this.anchor&&!((i,n)=>{for(;i&&i!==n;)i=i.parentNode;return i})(this.anchor.nativeElement||this.anchor,this.tooltipWrapper.nativeElement)&&(this.anchor=null,this.hide())}ngOnDestroy(){this.hide(),this.template=null,this.anchorTitleSubscription.unsubscribe(),this.mouseOverSubscription.unsubscribe(),this.mouseOutSubscription.unsubscribe(),this.keyboardNavigationSubscription.unsubscribe(),this.mouseClickSubscription&&this.mouseClickSubscription.unsubscribe(),this.popupPositionChangeSubscription&&this.popupPositionChangeSubscription.unsubscribe(),this.popupMouseOutSubscription&&this.popupMouseOutSubscription.unsubscribe()}showContent(e){!e.nativeElement.getAttribute("data-title")&&!this.template||(this.ngZone.run(()=>{this.openPopup(e),this.bindContent(this.popupRef.content,e)}),this.popupRef.popupAnchorViewportLeave.pipe(We(1)).subscribe(()=>this.hide()))}bindContent(e,t){const o=e.instance;this.closeClickSubscription=o.close.subscribe(()=>{this.hide()}),this.template?o.templateRef=this.template:o.templateString=this.anchor.nativeElement.getAttribute("data-title"),this.titleTemplate&&(o.titleTemplate=this.titleTemplate),o.closeTitle=this.closeTitle,o.anchor=t,o.callout=this.callout,o.closable=this.closable,o.position=this.position,o.tooltipWidth=this.tooltipWidth,o.tooltipHeight=this.tooltipHeight,this.popupRef.content.changeDetectorRef.detectChanges()}hideElementTitle(e){const t=e.nativeElement;t.getAttribute("title")&&(t.setAttribute("data-title",t.getAttribute("title")),t.setAttribute("title",""))}openPopup(e){const t=function bGe(i,n){let e={},t={},o={};switch(i){case"top":e={horizontal:"center",vertical:"top"},t={horizontal:"center",vertical:"bottom"},o={horizontal:0,vertical:n};break;case"bottom":e={horizontal:"center",vertical:"bottom"},t={horizontal:"center",vertical:"top"},o={horizontal:0,vertical:n};break;case"right":e={horizontal:"right",vertical:"center"},t={horizontal:"left",vertical:"center"},o={horizontal:n,vertical:0};break;case"left":e={horizontal:"left",vertical:"center"},t={horizontal:"right",vertical:"center"},o={horizontal:n,vertical:0}}return{anchorAlign:e,popupAlign:t,popupMargin:o}}(this.position,this.offset),r=t.popupAlign,a=t.popupMargin;this.popupRef=this.popupService.open({anchor:e,anchorAlign:t.anchorAlign,animate:!1,content:kGe,collision:_Yt(this.collision,this.position),margin:a,popupAlign:r,popupClass:"k-popup-transparent"}),this.tooltipClass&&this.renderer.addClass(this.popupRef.popupElement,this.tooltipClass),this.tooltipContentClass&&this.renderer.addClass(this.popupRef.content.instance.content.nativeElement,this.tooltipContentClass);const l=this.popupRef.content.instance;e&&this.renderer.setAttribute(e.nativeElement,"aria-labelledby",l.tooltipId),l.callout&&(this.popupPositionChangeSubscription=this.popupRef.popupPositionChange.subscribe(({flip:c})=>{l.updateCalloutPosition(this.position,!0===c.horizontal||!0===c.vertical)})),"hover"===this.showOn&&this.ngZone.runOutsideAngular(()=>{this.popupMouseOutSubscription=Dt(this.popupRef.popupElement,"mouseout").subscribe(u=>this.onMouseOut(u))})}closePopup(){this.popupRef&&(this.anchor&&this.renderer.removeAttribute(this.anchor.nativeElement,"aria-labelledby"),this.popupRef.close(),this.popupRef=null),this.popupPositionChangeSubscription&&this.popupPositionChangeSubscription.unsubscribe()}subscribeClick(){this.mouseClickSubscription&&this.mouseClickSubscription.unsubscribe(),"click"===this.showOn&&(this.mouseClickSubscription=Dt(document,"click").pipe(X(()=>""!==this.filter)).subscribe(e=>this.onMouseClick(e,this.tooltipWrapper.nativeElement)))}onMouseClick(e,t){const o=e.target,r=k4(o,this.filter),a=this.popupRef&&this.popupRef.popupElement;a&&(a.contains(o)||this.closable)||(t.contains(o)&&r?this.toggle(r,!0):a&&this.hide())}onKeyDown(e){const t=e.keyCode,o=e.target;if(this.popupRef){const r=this.popupRef.content.location.nativeElement.getAttribute("id"),a=o.getAttribute("aria-labelledby");t===G.Escape&&this.canCloseTooltip(o,r,a)&&this.closePopup()}}canCloseTooltip(e,t,o){const r=t===o,a=k4(e,this.filter),l=e===document.activeElement;return this.tooltipWrapper.nativeElement.contains(e)&&a&&l&&r}onMouseOver(e){const t=k4(e.target,this.filter);"hover"===this.showOn&&t&&this.toggle(t,!0)}onMouseOut(e){if("hover"!==this.showOn||this.closable)return;const t=this.popupRef&&this.popupRef.popupElement,o=e.relatedTarget;o&&this.anchor&&yGe(this.anchor.nativeElement,o)||o&&yGe(t,o)||this.hide()}verifyProperties(){if((0,s.naY)()){if(!ule(this.validPositions,this.position))throw new Error("Invalid value provided for position property.The available options are 'top', 'bottom', 'left', or 'right'.");if(!ule(this.validShowOptions,this.showOn))throw new Error("Invalid value provided for showOn property.The available options are 'hover' or 'none'.")}}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.SKi),s.rXU(s.sFG),s.rXU(Ts),s.rXU(hYt,8),s.rXU(uYt,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoTooltip",""]],inputs:{filter:"filter",position:"position",titleTemplate:"titleTemplate",showOn:"showOn",showAfter:"showAfter",callout:"callout",closable:"closable",offset:"offset",tooltipWidth:"tooltipWidth",tooltipHeight:"tooltipHeight",tooltipClass:"tooltipClass",tooltipContentClass:"tooltipContentClass",collision:"collision",closeTitle:"closeTitle",tooltipTemplate:"tooltipTemplate"},exportAs:["kendoTooltip"],features:[s.OA$]}),i})();const kYt=[ia,xn];let OYt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,...kYt]]}),i})(),TYt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,ia]]}),i})(),RGe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[OYt,TYt]}),i})();const MYt=["form"];function IYt(i,n){1&i&&s.nrm(0,"div",2)}function RYt(i,n){if(1&i&&(s.j41(0,"div",16)(1,"a",17),s.nrm(2,"i",18),s.k0s()()),2&i){const e=s.XpG().$implicit,t=s.XpG(2);s.R7$(),s.Y8G("href",t.CreateUrl(e.pictureFileName),s.B4B)}}function AYt(i,n){if(1&i&&(s.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"p"),s.EFF(4),s.k0s()(),s.j41(5,"div",14)(6,"p"),s.EFF(7),s.k0s()(),s.DNE(8,RYt,3,1,"div",15),s.k0s()()),2&i){const e=n.$implicit;s.R7$(4),s.JRh(e.operatorName),s.R7$(3),s.JRh(e.notes),s.R7$(),s.Y8G("ngIf",e.pictureFileName)}}function xYt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",3)(1,"kendo-window",4),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.j41(2,"kendo-window-titlebar")(3,"div",5),s.EFF(4," Note Intervento "),s.k0s(),s.nrm(5,"button",6),s.k0s(),s.j41(6,"div",7),s.DNE(7,AYt,9,3,"div",8),s.k0s(),s.j41(8,"div",9)(9,"button",10),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.EFF(10," CHIUDI "),s.k0s()()()()}if(2&i){const e=s.XpG();s.R7$(),s.Y8G("resizable",!1)("draggable",!1)("width",600)("top",110),s.R7$(6),s.Y8G("ngForOf",e.options.notes)}}let NYt=(()=>{class i extends eo{constructor(e,t){super(),this._messageBox=e,this._service=t,this._baseUrl=`${fn.baseApiUrl}/interventions`}ngOnInit(){}open(e){return super.open(e)}_canClose(){return this.form.markAsDirty(),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi."),this.form.valid}CreateUrl(e){return`${this._baseUrl}/intervention-note/download-file/${e}`}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(vn),s.rXU(Mg))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-intervention-notes-modal"]],viewQuery:function(t,o){if(1&t&&s.GBs(MYt,5),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first)}},features:[s.Vt3],decls:2,vars:2,consts:[["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","width","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],[1,"row"],["class","col-12",4,"ngFor","ngForOf"],[1,"text-right","mt-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"col-12"],[1,"row","checklist-row"],[1,"col-4"],[1,"col-6"],["class","col-2","style","text-align: right;",4,"ngIf"],[1,"col-2",2,"text-align","right"],["target","_blank",3,"href"],[1,"fas","fa-paperclip"]],template:function(t,o){1&t&&s.DNE(0,IYt,1,0,"div",0)(1,xYt,11,5,"div",1),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened))},dependencies:[ut,q,$i,ts,Ni],encapsulation:2})}return i})(),AGe=(()=>{class i extends Tn{constructor(){super()}ngOnChanges(e){e.options&&this.options&&(this.title=this.options.name,this.content=this._getContent(this.options.name),this.backgroundColor=this._getBackgroundColor(this.options.colorHex),this.color=this._getColor(this.backgroundColor))}_getContent(e){const t=e?.trim().split(" ").filter(o=>o);return t?1===t.length?t[0][0].toUpperCase():t[0][0].toUpperCase()+t[1][0].toUpperCase():""}_getBackgroundColor(e){return e||"#ffffff"}_getColor(e){if(!e)return"black";const t_r=parseInt(e.substring(1,2),16),t_g=parseInt(e.substring(3,2),16),t_b=parseInt(e.substring(5,2),16);return Math.round((299*t_r+587*t_g+114*t_b)/1e3)>125?"black":"white"}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-operator-avatar"]],hostVars:5,hostBindings:function(t,o){2&t&&(s.BMQ("title",o.title),s.xc7("background-color",o.backgroundColor)("color",o.color))},inputs:{options:"options"},features:[s.Vt3,s.OA$],decls:1,vars:1,template:function(t,o){1&t&&s.EFF(0),2&t&&s.JRh(o.content)},encapsulation:2})}return i})(),xGe=(()=>{class i extends Tn{transform(e){return gGe[e]}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=s.xGo(i)))(o||i)}})();static#t=this.\u0275pipe=s.EJ8({name:"interventionStatus",type:i,pure:!0})}return i})();const LYt=["form"],PYt=["interventionNotesModal"],NGe=()=>({minute:15});function GYt(i,n){1&i&&s.nrm(0,"div",4)}function UYt(i,n){1&i&&(s.EFF(0),s.nI1(1,"interventionStatus")),2&i&&s.SpI(" ",s.bMT(1,1,n.$implicit)," ")}function FYt(i,n){1&i&&(s.EFF(0),s.nI1(1,"interventionStatus")),2&i&&s.SpI(" ",s.bMT(1,1,n.$implicit)," ")}function BYt(i,n){if(1&i&&(s.j41(0,"div",45),s.nrm(1,"app-operator-avatar",46),s.EFF(2),s.k0s()),2&i){const e=n.$implicit;s.R7$(),s.Y8G("options",e),s.R7$(),s.SpI(" ",e.name," ")}}function VYt(i,n){if(1&i&&(s.j41(0,"div",45),s.nrm(1,"app-operator-avatar",46),s.EFF(2),s.k0s()),2&i){const e=n.$implicit;s.R7$(),s.Y8G("options",e),s.R7$(),s.SpI(" ",e.name," ")}}function zYt(i,n){if(1&i){const e=s.RV6();s.qex(0),s.j41(1,"button",47),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.selectAllProducts())}),s.EFF(2," Seleziona tutti "),s.k0s(),s.j41(3,"button",47),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.unselectAllProducts())}),s.EFF(4," Deseleziona tutti "),s.k0s(),s.bVm()}}function HYt(i,n){if(1&i&&s.nrm(0,"img",52),2&i){const e=s.XpG().$implicit,t=s.XpG(2);s.Y8G("src",t.imagesUrl+e.pictureFileName,s.B4B)}}function jYt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",48)(1,"input",49),s.mxI("ngModelChange",function(o){const r=s.eBV(e).$implicit;return s.DH7(r.selected,o)||(r.selected=o),s.Njj(o)}),s.bIt("ngModelChange",function(){const o=s.eBV(e).$implicit,r=s.XpG(2);return s.Njj(r.onProductSelectionChange(o))}),s.k0s(),s.DNE(2,HYt,1,1,"img",50),s.j41(3,"span",51),s.EFF(4),s.k0s()()}if(2&i){const e=n.$implicit,t=n.index,o=s.XpG(2);s.AVh("hidden",e.hidden),s.R7$(),s.R50("ngModel",e.selected),s.Y8G("disabled",o.readonly)("name",t+"_productSelected"),s.R7$(),s.Y8G("ngIf",e.pictureFileName),s.R7$(),s.Y8G("title",e.fullName),s.R7$(),s.SpI(" ",e.fullName," ")}}function $Yt(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",5)(1,"kendo-window",6),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.j41(2,"kendo-window-titlebar")(3,"div",7),s.EFF(4," Intervento "),s.k0s(),s.nrm(5,"button",8)(6,"button",9)(7,"button",10)(8,"button",11),s.k0s(),s.j41(9,"form",12,1),s.bIt("submit",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.trySave())}),s.j41(11,"div",13)(12,"div",14)(13,"label"),s.EFF(14,"Commessa"),s.k0s(),s.j41(15,"div",15)(16,"kendo-combobox",16),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.jobId,o)||(r.options.jobId=o),s.Njj(o)}),s.bIt("valueChange",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onJobChanged())}),s.k0s(),s.nrm(17,"div",17),s.k0s()(),s.j41(18,"div",18)(19,"label"),s.EFF(20,"Attivit\xe0"),s.k0s(),s.j41(21,"div",15)(22,"kendo-combobox",19),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.activityId,o)||(r.options.activityId=o),s.Njj(o)}),s.bIt("valueChange",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onActivityChanged())}),s.k0s(),s.nrm(23,"div",17),s.k0s()()(),s.j41(24,"div",13)(25,"div",20)(26,"label"),s.EFF(27,"Inizio"),s.k0s(),s.j41(28,"div",15)(29,"kendo-datetimepicker",21),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.start,o)||(r.options.start=o),s.Njj(o)}),s.bIt("valueChange",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onStartChange())}),s.k0s(),s.nrm(30,"div",17),s.k0s()(),s.j41(31,"div",20)(32,"label"),s.EFF(33,"Fine"),s.k0s(),s.j41(34,"div",15)(35,"kendo-datetimepicker",22),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.end,o)||(r.options.end=o),s.Njj(o)}),s.k0s(),s.nrm(36,"div",17),s.k0s()(),s.j41(37,"div",20)(38,"label"),s.EFF(39,"Stato"),s.k0s(),s.j41(40,"div",15)(41,"kendo-dropdownlist",23),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.status,o)||(r.options.status=o),s.Njj(o)}),s.DNE(42,UYt,2,3,"ng-template",24)(43,FYt,2,3,"ng-template",25),s.k0s(),s.nrm(44,"div",17),s.k0s()()(),s.j41(45,"div",13)(46,"div",26)(47,"label"),s.EFF(48,"Operatori"),s.k0s(),s.j41(49,"div",15)(50,"kendo-multiselect",27),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.operators,o)||(r.options.operators=o),s.Njj(o)}),s.bIt("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onOperatorsChanged(o))}),s.DNE(51,BYt,3,2,"ng-template",28)(52,VYt,3,2,"ng-template",29),s.k0s(),s.nrm(53,"div",17),s.k0s()(),s.j41(54,"div",20)(55,"label"),s.EFF(56,"Veicolo"),s.k0s(),s.j41(57,"div",15)(58,"kendo-combobox",30),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.vehicleId,o)||(r.options.vehicleId=o),s.Njj(o)}),s.k0s(),s.nrm(59,"div",17),s.k0s()()(),s.j41(60,"div",13)(61,"div",31)(62,"div",32)(63,"label"),s.EFF(64," Prodotti "),s.k0s(),s.DNE(65,zYt,5,0,"ng-container",33),s.k0s(),s.j41(66,"div",34)(67,"span",35),s.nrm(68,"span",36),s.k0s(),s.j41(69,"input",37),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.filterProductsValue,o)||(r.filterProductsValue=o),s.Njj(o)}),s.bIt("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onSearchProductsValueChange(o))}),s.k0s()(),s.j41(70,"div",38),s.DNE(71,jYt,5,8,"div",39),s.k0s()()(),s.j41(72,"div",13)(73,"div",31)(74,"label"),s.EFF(75,"Descrizione"),s.k0s(),s.j41(76,"div",15)(77,"textarea",40),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.description,o)||(r.options.description=o),s.Njj(o)}),s.EFF(78,"                        "),s.k0s(),s.nrm(79,"div",17),s.k0s()()(),s.j41(80,"div",41)(81,"button",42),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.EFF(82," Annulla "),s.k0s(),s.j41(83,"button",43),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.openNotes())}),s.EFF(84," Note "),s.k0s(),s.j41(85,"button",44),s.EFF(86," Salva "),s.k0s()()()()()}if(2&i){const e=s.sdS(10),t=s.XpG();s.R7$(),s.Y8G("resizable",!0)("draggable",!0)("top",30),s.R7$(15),s.Y8G("data",t.jobs),s.R50("ngModel",t.options.jobId),s.Y8G("suggest",!0)("allowCustom",!1)("valuePrimitive",!0)("readonly",t.jobReadonly),s.R7$(),s.Y8G("control",e.controls.jobId),s.R7$(5),s.Y8G("data",t.activities),s.R50("ngModel",t.options.activityId),s.Y8G("suggest",!0)("allowCustom",!1)("valuePrimitive",!0)("readonly",t.activityReadonly),s.R7$(),s.Y8G("control",e.controls.activityId),s.R7$(6),s.R50("ngModel",t.options.start),s.Y8G("steps",s.lJ4(50,NGe))("readonly",t.readonly),s.R7$(),s.Y8G("control",e.controls.start),s.R7$(5),s.R50("ngModel",t.options.end),s.Y8G("min",t.options.start)("steps",s.lJ4(51,NGe))("readonly",t.readonly),s.R7$(),s.Y8G("control",e.controls.end),s.R7$(5),s.Y8G("data",t.states)("valuePrimitive",!0),s.R50("ngModel",t.options.status),s.R7$(3),s.Y8G("control",e.controls.status),s.R7$(6),s.Y8G("data",t.operators),s.R50("ngModel",t.options.operators),s.Y8G("allowCustom",!1)("valuePrimitive",!0)("readonly",t.readonly),s.R7$(3),s.Y8G("control",e.controls.operators),s.R7$(5),s.Y8G("data",t.vehicles),s.R50("ngModel",t.options.vehicleId),s.Y8G("suggest",!0)("allowCustom",!1)("valuePrimitive",!0)("readonly",t.readonly),s.R7$(),s.Y8G("control",e.controls.vehicleId),s.R7$(6),s.Y8G("ngIf",!t.readonly),s.R7$(4),s.R50("ngModel",t.filterProductsValue),s.R7$(2),s.Y8G("ngForOf",t.products),s.R7$(6),s.R50("ngModel",t.options.description),s.Y8G("readonly",t.readonly),s.R7$(2),s.Y8G("control",e.controls.description),s.R7$(6),s.Y8G("disabled",t.readonly)}}let ple=(()=>{class i extends eo{constructor(e,t,o,r,a,l){super(),this._jobsService=e,this._activitiesService=t,this._messageBox=o,this._vechiclesService=r,this._operatorsService=a,this._activityProductsService=l,this.imagesUrl=`${fn.baseAttachmentsUrl}/`,this._searchProductsValueChange=new Ke.B,this._onSearchProductsValueChange=this._searchProductsValueChange.asObservable(),this.states=nk(dp)}ngOnInit(){this._getVehicles(),this._getOperators(),this._subscriptions.push(this._onSearchProductsValueChange.pipe(J1(500),RJ(),F(e=>this._filterProducts(e))).subscribe())}open(e){const t=super.open(e);return this.activityReadonly=!!this.options.activityId,this.jobReadonly=!!this.options.jobId,this.readonly=this.options.status!==dp.Scheduled,this.filterProductsValue=null,this._getJobs(),this._tryGetActivities(),this._tryGetProducts(),t}onJobChanged(){this.options.activityId=null,this._tryGetActivities(),this.onActivityChanged()}onActivityChanged(){this.options.activityProducts=[],this._tryGetProducts()}onOperatorsChanged(){const e=this.options.operators[0];e&&!this.options.vehicleId?this.options.vehicleId=this.operators.find(t=>t.id===e)?.defaultVehicleId:!e&&this.options.vehicleId&&(this.options.vehicleId=null)}trySave(){this.readonly?this.dismiss():this.close()}onSearchProductsValueChange(e){this._searchProductsValueChange.next(e)}onProductSelectionChange(e){e.selected?this.options.activityProducts.pushIfNotContained(e.id):this.options.activityProducts.filterAndRemove(t=>t===e.id)}onStartChange(){this.options.end<this.options.start&&(this.options.end=this.options.start.addHours(1))}selectAllProducts(){for(const e of this.products)e.selected||(e.selected=!0,this.options.activityProducts.pushIfNotContained(e.id))}unselectAllProducts(){for(const e of this.products)e.selected&&(e.selected=!1,this.options.activityProducts.filterAndRemove(t=>t===e.id))}_canClose(){return!!this.readonly||(this.form.markAsDirty(),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi."),this.form.valid)}_filterProducts(e){e=e?.toLocaleLowerCase().trim()??"",this.products.forEach(t=>t.hidden=!!e&&!t.normalizedCode.includes(e)&&!t.normalizedName.includes(e))}_getJobs(){const e={filter:{filters:[],logic:"and"},sort:[{field:"date",dir:"asc"}]};this.options.jobId&&e.filter.filters.push({field:"id",operator:"eq",value:this.options.jobId}),this._subscriptions.push(this._jobsService.read(e).pipe(F(t=>this.jobs=t.data.map(o=>new XYt(o)))).subscribe())}_tryGetActivities(){if(!this.options.jobId)return void(this.activities=[]);const e={filter:{filters:[{field:"jobId",operator:"eq",value:this.options.jobId}],logic:"and"},sort:[{field:"number",dir:"asc"}]};this.options.activityId&&e.filter.filters.push({field:"id",operator:"eq",value:this.options.activityId}),this._subscriptions.push(this._activitiesService.read(e).pipe(F(t=>this.activities=t.data.map(o=>new WYt(o)))).subscribe())}_tryGetProducts(){this.options.activityId?this._subscriptions.push(this._activityProductsService.read({filter:{filters:[{field:"activityId",operator:"eq",value:this.options.activityId}],logic:"and"},sort:[{field:"name",dir:"asc"}]}).pipe(F(t=>this._setProducts(t.data))).subscribe()):this.products=[]}_setProducts(e){this.products=e.leftJoin(this.options.activityProducts,(t,o)=>t.id===o,(t,o)=>new YYt(t,null!=o)),this._filterProducts(this.filterProductsValue)}_getVehicles(){this._subscriptions.push(this._vechiclesService.readVehiclesList().pipe(F(e=>this.vehicles=e.map(t=>new KYt(t)))).subscribe())}_getOperators(){this._subscriptions.push(this._operatorsService.readOperators({sort:[{field:"name",dir:"asc"}]}).pipe(F(t=>this.operators=t.data)).subscribe())}openNotes(){this._subscriptions.push(this.interventionNotesModal.open(this.options).subscribe())}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(qf),s.rXU(Xh),s.rXU(vn),s.rXU(CB),s.rXU(Bc),s.rXU(sz))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-intervention-modal"]],viewQuery:function(t,o){if(1&t&&(s.GBs(LYt,5),s.GBs(PYt,7)),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first),s.mGM(r=s.lsd())&&(o.interventionNotesModal=r.first)}},features:[s.Vt3],decls:4,vars:2,consts:[["interventionNotesModal",""],["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],["kendoWindowMinimizeAction",""],["kendoWindowRestoreAction",""],["kendoWindowMaximizeAction",""],["kendoWindowCloseAction",""],["name","intervention-modal-form","novalidate","","autocomplete","off",1,"redimensionModal",3,"submit"],[1,"row"],[1,"col-md-5"],[1,"form-group"],["textField","fullName","valueField","id","name","jobId","required","",3,"ngModelChange","valueChange","data","ngModel","suggest","allowCustom","valuePrimitive","readonly"],[1,"validation-message",3,"control"],[1,"col-md-7"],["textField","fullName","valueField","id","name","activityId","required","",3,"ngModelChange","valueChange","data","ngModel","suggest","allowCustom","valuePrimitive","readonly"],[1,"col-md-4"],["name","start","required","",3,"ngModelChange","valueChange","ngModel","steps","readonly"],["name","end","required","",3,"ngModelChange","ngModel","min","steps","readonly"],["name","status","required","",3,"ngModelChange","data","valuePrimitive","ngModel"],["kendoDropDownListValueTemplate",""],["kendoDropDownListItemTemplate",""],[1,"col-md-8"],["textField","name","valueField","id","name","operators","required","",3,"ngModelChange","valueChange","data","ngModel","allowCustom","valuePrimitive","readonly"],["kendoMultiSelectItemTemplate",""],["kendoMultiSelectTagTemplate",""],["textField","fullName","valueField","id","name","vehicleId",3,"ngModelChange","data","ngModel","suggest","allowCustom","valuePrimitive","readonly"],[1,"col-md-12"],[1,"d-flex","gap-2","align-items-center"],[4,"ngIf"],[1,"input-group","mb-1"],[1,"input-group-text"],[1,"fa","fa-search"],["type","text","name","filterProductsValue","placeholder","Cerca tra i prodotti dell'attivit\xe0 per codice o nome...",1,"form-control",3,"ngModelChange","ngModel"],["kendoTooltip","",1,"row",2,"max-height","300px","overflow","auto"],["class","col-6 d-flex gap-1 align-items-center mb-2",3,"hidden",4,"ngFor","ngForOf"],["name","description","novalidate","","autocomplete","off","maxlength","500","rows","3",1,"form-control",3,"ngModelChange","ngModel","readonly"],[1,"d-flex","justify-content-end","gap-2"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"d-flex","gap-1"],[3,"options"],["type","button",1,"btn","btn-sm","btn-link",3,"click"],[1,"col-6","d-flex","gap-1","align-items-center","mb-2"],["type","checkbox","kendoCheckBox","",3,"ngModelChange","ngModel","disabled","name"],["class","thumbnail-xs",3,"src",4,"ngIf"],[1,"text-ellipsis",3,"title"],[1,"thumbnail-xs",3,"src"]],template:function(t,o){1&t&&(s.DNE(0,GYt,1,0,"div",2)(1,$Yt,87,52,"div",3),s.nrm(2,"app-intervention-notes-modal",null,0)),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened))},dependencies:[ut,q,Ps,Qo,xD,Di,Ls,lo,Ed,fs,ps,$i,ts,W1,K1,Y1,Ni,Na,C_,eR,ca,Ws,l0,tZ,az,Oq,za,NYt,AGe,xGe],encapsulation:2})}return i})();class XYt{constructor(n){this.id=n.id,this.customer=n.customer,this.code=n.code,this.fullName=`${n.code} - ${n.customer}`}}class WYt{constructor(n){this.id=n.id,this.customerAddress=n.address,this.number=n.number,this.fullName=`${n.number} - ${n.address}`}}class KYt{constructor(n){this.id=n.id,this.name=n.name,this.plate=n.plate,this.fullName=`${n.plate} - ${n.name}`}}class YYt{constructor(n,e){this.selected=e,this.hidden=!1,this.id=n.id,this.code=n.code,this.normalizedCode=n.code?.toLocaleLowerCase().trim()??"",this.name=n.name,this.normalizedName=n.code?.toLocaleLowerCase().trim()??"",this.pictureFileName=n.pictureFileName,this.fullName=`${n.code} - ${n.name}`}}const LGe=(i,n)=>!i&&!n||i&&n&&Xi(En(i),En(n)),fle={rules:{},titles:{},zones:{}},mle={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},PGe={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6},GGe=(i,n,e)=>{const t=n[3],o=n[4],r=n[5];let a;const l="u"===r[3]?6e4*-e:0;if(isNaN(o)){if(0===o.indexOf("last")){a=new Date(Date.UTC(i,mle[t]+1,1,r[0]-24,r[1],r[2])+l);const c=PGe[o.substr(4,3)],u=a.getUTCDay();a.setUTCDate(a.getUTCDate()+c-u-(c>u?7:0))}else if(o.indexOf(">=")>=0){a=new Date(Date.UTC(i,mle[t],o.substr(5),r[0],r[1],r[2],0)+l);const c=PGe[o.substr(0,3)],u=a.getUTCDay();a.setUTCDate(a.getUTCDate()+c-u+(c<u?7:0))}}else a=new Date(Date.UTC(i,mle[t],o,r[0],r[1],r[2])+l);return a},QYt=(new Date).getTime(),ZYt=(i,n=QYt,e=0)=>{let t=fle.rules[i];if(!t){const a=i.split(":");let l=0;return a.length>1&&(l=60*a[0]+Number(a[1])),[-1e6,"max","-","Jan",1,[0,0,0],l,"-"]}const o=new Date(n).getUTCFullYear();t=t.filter(a=>{const l=a[0],c=a[1];return l<=o&&(c>=o||l===o&&"only"===c||"max"===c)}),t.push(n),t.sort((a,l)=>("number"!=typeof a&&(a=Number(GGe(o,a,e))),"number"!=typeof l&&(l=Number(GGe(o,l,e))),a-l));const r=t[t.indexOf(n)-1]||t[t.length-1];return isNaN(r)?r:null},_le="The required {0} timezone information is not provided!",eJt=/\{(\d+)}?\}/g,gle=(i,...n)=>{const e=(i=>i.reduce((n,e)=>n.concat(e),[]))(n);return i.replace(eJt,(t,o)=>e[parseInt(o,10)])},UGe=(i,n)=>{const e=n.getTime(),t=((i,n=(new Date).getTime())=>{if("Etc/UTC"===i||"Etc/GMT"===i)return[0,"-","UTC",null];const e=(i=>{const n=fle.zones;if(!n)throw new Error(gle(_le,i));const e=n[i],t="string"==typeof e?n[e]:e;if(!t)throw new Error(gle(_le,i));return t})(i);let t=e.length-1;for(;t>=0;t--){const r=e[t][3];if(r&&n>r)break}const o=e[t+1];if(!o)throw new Error(gle(_le,i));return o})(i,e);return{rule:ZYt(t[1],e,t[0]),zone:t}},wv=(i,n=new Date)=>{if("Etc/UTC"===i||"Etc/GMT"===i)return 0;if(""===i)return n.getTimezoneOffset();const{rule:e,zone:t}=UGe(i,n);return parseFloat(e?t[0]-e[6]:t[0])};function or(i){return new Date(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds())}const Sle=(i,n)=>new Date(i.getTime()+6e4*n),vle=(i,n)=>new Date(i.getTime()+n*nR),oJt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],rJt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],O4=(i,n=2)=>(i<0?"-":"")+new Array(n).concat([Math.abs(i)]).join("0").slice(-n);function FGe(i,n){const e=wv(n,i),t=vle(i,-1);return e<wv(n,t)}function Cle(i,n){const e=FGe(i,n)?1:0;return vle(i,e)}function BGe(i,n,e){if(n===e)return i;const t=wv(n,i),o=wv(e,i),r=t-o,a=Sle(i,r),l=wv(e,a);return Sle(i,r+(o-l))}class Gi{get cachedLocalDate(){return this._localDate}get cachedUTCDate(){return this._utcDate}static fromLocalDate(n,e=""){const t=BGe(n,"Etc/UTC",e),o=FGe(t,e),r=wv(e,t);let a=0;o&&(a=r>0?-1:1);const l=vle(t,a);return Gi.fromUTCDate(l,e)}static fromUTCDate(n,e=""){return new Gi(n,e)}toLocalDate(){return he(this._localDate)}toUTCDate(){return he(this._utcDate)}toTimezone(n){if(this.timezone===n)return this.clone();const e=wv(this.timezone,this._utcDate),t=Sle(this._utcDate,e);return Gi.fromLocalDate(t,n)}clone(){return Gi.fromUTCDate(this._utcDate,this.timezone)}addDays(n){const e=new Date(this._utcDate.getTime());return e.setUTCDate(e.getUTCDate()+n),Gi.fromUTCDate(e,this.timezone)}addTime(n){const t=Cle(new Date(this._utcDate.getTime()),this.timezone);t.setTime(t.getTime()+n);const o=Cle(t,this.timezone);return Gi.fromUTCDate(o,this.timezone)}stripTime(){const n=this._utcDate,e=Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),0,0,0);return Gi.fromUTCDate(new Date(e),this.timezone)}getTime(){return this._localDate.getTime()}getTimezoneOffset(){return this.timezoneOffset}getFullYear(){return this._utcDate.getUTCFullYear()}getMonth(){return this._utcDate.getUTCMonth()}getDate(){return this._utcDate.getUTCDate()}getDay(){return this._utcDate.getUTCDay()}getHours(){return this._utcDate.getUTCHours()}getMinutes(){return this._utcDate.getUTCMinutes()}getSeconds(){return this._utcDate.getUTCSeconds()}getMilliseconds(){return this._utcDate.getUTCMilliseconds()}getUTCDate(){return this._localDate.getUTCDate()}getUTCDay(){return this._localDate.getUTCDay()}getUTCFullYear(){return this._localDate.getUTCFullYear()}getUTCHours(){return this._localDate.getUTCHours()}getUTCMilliseconds(){return this._localDate.getUTCMilliseconds()}getUTCMinutes(){return this._localDate.getUTCMinutes()}getUTCMonth(){return this._localDate.getUTCMonth()}getUTCSeconds(){return this._localDate.getUTCSeconds()}setTime(n){throw new Error("Method not implemented.")}setMilliseconds(n){throw new Error("Method not implemented.")}setUTCMilliseconds(n){throw new Error("Method not implemented.")}setSeconds(n,e){throw new Error("Method not implemented.")}setUTCSeconds(n,e){throw new Error("Method not implemented.")}setMinutes(n,e,t){throw new Error("Method not implemented.")}setUTCMinutes(n,e,t){throw new Error("Method not implemented.")}setHours(n,e,t,o){throw new Error("Method not implemented.")}setUTCHours(n,e,t,o){throw new Error("Method not implemented.")}setDate(n){throw new Error("Method not implemented.")}setUTCDate(n){throw new Error("Method not implemented.")}setMonth(n,e){throw new Error("Method not implemented.")}setUTCMonth(n,e){throw new Error("Method not implemented.")}setFullYear(n,e,t){throw new Error("Method not implemented.")}setUTCFullYear(n,e,t){throw new Error("Method not implemented.")}toISOString(){return this._localDate.toISOString()}toJSON(){return this._localDate.toJSON()}toString(){const n=(i=>oJt[i.getUTCDay()]+" "+rJt[i.getUTCMonth()])(this._utcDate),e=this.toTimeString();return`${n} ${this.getDate()} ${this.getFullYear()} ${e}`}toDateString(){return or(this._utcDate).toDateString()}toTimeString(){const o=`${O4(this.getHours())}:${O4(this.getMinutes())}:${O4(this.getSeconds())}`,r=function lJt(i){const n=i<=0?"+":"-",e=Math.abs(i);return`GMT${n}${O4(Math.floor(e/60))}${O4(e%60)}`}(this.timezoneOffset);let a=((i,n=new Date)=>{if("Etc/UTC"===i)return"UTC";if("Etc/GMT"===i)return"GMT";if(""===i)return"";const{zone:e,rule:t}=UGe(i,n),o=e[2];return o.indexOf("/")>=0?o.split("/")[t&&+t[6]?1:0]:o.indexOf("%s")>=0?o.replace("%s",t&&"-"!==t[7]?t[7]:""):o})(this.timezone,this._utcDate);return a&&(a=` (${a})`),`${o} ${r}${a}`}toLocaleString(n,e){return this._localDate.toLocaleString(n,e)}toLocaleDateString(n,e){return this._localDate.toLocaleDateString(n,e)}toLocaleTimeString(n,e){return this._localDate.toLocaleTimeString(n,e)}toUTCString(){return this.toTimezone("Etc/UTC").toString()}[Symbol.toPrimitive](n){return"string"===n||"default"===n?this.toString():this._localDate.getTime()}valueOf(){return this.getTime()}getVarDate(){throw new Error("Not implemented.")}format(n){throw new Error("Not implemented.")}formatUTC(n){throw new Error("Not implemented.")}constructor(n,e){this._utcDate=he(n),this.timezone=e;const t=wv(e,n);this.timezoneOffset=t;let o=Cle(n,e);this._localDate=BGe(o,e,"Etc/UTC")}}const dz=(i,n=Rc.Sunday)=>{const e=he(i);for(;e.getDay()!==n;)e.setDate(e.getDate()-1);return e},kv=i=>i instanceof Array&&i.length>0,VGe=i=>kv(i.bySecond)||kv(i.byMinute)||kv(i.byHour)||kv(i.byYearDay)||kv(i.byMonthDay)||kv(i.byWeekDay)||kv(i.byMonth)||kv(i.byWeekNumber),zGe=i=>{const n=i.split(";");let e=[],t=null;for(let o=0;o<n.length;o++){const[r,a=""]=n[o].split(":"),l=r.indexOf("TZID");-1!==l&&(t=r.substring(l).split("=")[1]),e=a.split(",").map(c=>I5e(c,t))}return e.length&&null!==e[0]?e:null},HGe=i=>{const n=zGe(i);return null===n?null:n[0]};function ble(i){return"string"==typeof i}const hJt=/\{(\d+)}?\}/g;class pJt{constructor({name:n,message:e}){if(!n||!e)throw new Error("{ name: string, message: string } object is required!");this.name=n,this.message=e}formatMessage(...n){const e=fJt(n),t=this.message.replace(hJt,function(o,r){return e[parseInt(r,10)]});return`${this.name}: ${t}`}error(...n){return new Error(this.formatMessage(n))}}const fJt=function(i){return i.reduce((n,e)=>n.concat(e),[])},T4=function(i){return Object.keys(i).reduce(function(e,t){return e[t]=new pJt({name:t,message:i[t]}),e},{})}({NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."}),sh={en:{name:"en",identity:{version:{_number:"$Revision: 12418 $",_cldrVersion:"29"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},day:{wide:"day",short:"day",narrow:"day"},weekday:{wide:"day of the week"},dayperiod:{wide:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},millisecond:{wide:"millisecond",short:"ms",narrow:"ms"},zone:{wide:"time zone"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}};function uz(i){let n;return n=ble(i)?hz(i):i,n}function hz(i){if(sh[i])return sh[i];if(sh.supplemental.likelySubtags){const e=i.split("-"),t=e[0],o=e.slice(1),r=function _Jt(i,n){const e=sh.supplemental.likelySubtags;for(let t=0;t<n.length;t++){let o=e[i+"-"+n[t]];if(o)return o}if(e[i])return e[i]}(t,o),a=r?function mJt(i,n){const e=i.split("-"),t=e[0],o=e[1],r=e[2];return sh[i]||-1!==n.indexOf(r)&&sh[t+"-"+r]||-1!==n.indexOf(o)&&sh[t+"-"+o]||sh[t]}(r,o):null;if(a)return a}throw T4.NoLocale.error(i)}function YGe(i){if(i.territory)return i.territory;const e=i.identity;let t;return t=e&&e.territory?e.territory:function OJt(i,n){const e=sh.supplemental.likelySubtags;let t=i.split("-");if(e){const r=e[i]||e[t[0]];r&&(t=r.split("-"))}if(n)for(let r=t.length-1;r>=1;r--){const a=t[r];(a===n.variant||a===n.script)&&t.splice(r,1)}const o=t.length;if(o>1)return t[o-1].toUpperCase()}(i.name,e),i.territory=t,t}const JGe="decimal",mz="currency",qGe="accounting",M4="percent",QGe="scientific",yle="$",Dle="%",I4="n",MJt=";",IJt=",",R4=".",ko="",wle="en";function kle(i){const n=i.split("-"),e=parseInt(n[0],10),t=parseInt(n[1],10)-1,o=parseInt(n[2],10);return new Date(e,t,o)}const{NoCurrency:LJt,NoCurrencyDisplay:PJt,NoSupplementalCurrency:GJt,NoCurrencyRegion:UJt,NoValidCurrency:FJt}=T4,ZGe=2,Ole="symbol",BJt="XXX",e5e={"001":"USD",150:"EUR"};const WJt=["sun","mon","tue","wed","thu","fri","sat"],KJt="001",{NoWeekData:YJt,NoFirstDay:JJt}=T4;function n5e(i){return 1/i==-1/0}function i5e(i,n={}){return n.currency||(n.currency=function XJt(i,n){const e=uz(i),t=e.numbers;if(!t.localeCurrency){const o=function $Jt(i,n=!0){if(e5e[i])return e5e[i];const e=sh.supplemental.currencyData;if(!e){if(n)throw GJt.error();return}const t=e.region[i];if(t)return function zJt(i){let n,e,t,o;for(let r=0;r<i.length;r++){const a=i[r],l=Object.keys(a)[0],c=a[l];if(l!==BJt&&"false"!==c._tender&&c._from)if(c._to){if(!t){const u=kle(c._from),f=kle(c._to);(!e||e.to<f||e.from<u)&&(n=l,e={from:u,to:f})}}else{const u=kle(c._from);(!o||o<u)&&(t=l,o=u)}}return t||n}(t);if(n)throw UJt.error(i)}(YGe(e),n);if(!o&&n)throw FJt.error(e.name);t.localeCurrency=o}return t.localeCurrency}(i,!0)),function HJt(i,n){const{value:e,currency:t,currencyDisplay:o=Ole}=n;if("code"===o)return t;const r=function t5e(i,n,e){const o=uz(i).numbers.currencies;if(!o){if(e)throw LJt.error();return}const r=o[n];if(r)return r;if(e)throw PJt.error()}(i,t,!0);let a;return a=o===Ole?r["symbol-alt-narrow"]||r[Ole]:void 0===typeof e||1!==e?r["displayName-count-other"]:r["displayName-count-one"],a}(i,n)}function s5e(i,n,e,t,o){const r=o.numbers.symbols,a=i.indexOf(r.decimal),l=t.groupSize.slice();let c=l.shift(),u=-1!==a?a:e+1,f=i.substring(n,u),_=i;const S=f.length;if(S>=c){let v=S,b=[];for(;v>-1;){let D=f.substring(v-c,v);D&&b.push(D),v-=c;let k=l.shift();if(c=void 0!==k?k:c,0===c){D=f.substring(0,v),D&&b.push(D);break}}f=b.reverse().join(r.group),_=i.substring(0,n)+f+i.substring(u)}return _}function o5e(i){return i===mz||i===qGe}function cc(i,n=2,e=!1){const t=n-String(i).length;let o=i;if(t>0){const r=new Array(t+1).join("0");o=e?i+r:r+i}return o}const ZJt=20;function A4(i,n){let e=i,t=n||0;return e=e.toString().split("e"),e=Math.round(+(e[0]+"e"+(e[1]?Number(e[1])+t:t))),e=e.toString().split("e"),e=+(e[0]+"e"+(e[1]?Number(e[1])-t:-t)),e.toFixed(Math.min(t,ZJt))}const eqt=3,tqt=0,nqt=/0+$/;function rqt(i,n,e){const t=e.numbers.symbols,{style:o}=n,r=o5e(o);if(o===QGe)return(void 0!==n.minimumFractionDigits?i.toExponential(n.minimumFractionDigits):i.toExponential()).replace(R4,t.decimal);let l,a=i;r&&(n.value=a,l=i5e(e,n)),o===M4&&(a*=100,l=t.percentSign);const{minimumFractionDigits:c,maximumFractionDigits:u}=function iqt(i){let{minimumFractionDigits:n,maximumFractionDigits:e,style:t}=i;const o=o5e(t);let r;return o&&(r=function jJt(i){let n=ZGe,e=ZGe;const t=((sh.supplemental.currencyData||{}).fractions||{})[i];return t&&t._digits&&(e=n=parseInt(t._digits,10)),{minimumFractionDigits:n,maximumFractionDigits:e}}(i.currency)),void 0===n&&(n=o?r.minimumFractionDigits:0),void 0===e&&(e=t===M4?Math.max(n,tqt):o?Math.max(n,r.maximumFractionDigits):Math.max(n,eqt)),{minimumFractionDigits:n,maximumFractionDigits:e}}(n);a=A4(a,u);const f=a<0,_=n5e(i),S=a.split(R4);let v=S[0],b=cc(S[1]?S[1].replace(nqt,ko):ko,c,!0);f&&(v=v.substring(1)),n.minimumIntegerDigits&&(v=cc(v,n.minimumIntegerDigits));let k,D=!1!==n.useGrouping?s5e(v,0,v.length,n,e):v;if(b&&(D+=t.decimal+b),r&&"name"===n.currencyDisplay)k=function oqt(i,n){const e=i.numbers.currency;let t=1!==n?e["unitPattern-count-other"]:e["unitPattern-count-one"];return n<0&&(t=t.replace(I4,`-${I4}`)),t}(e,i);else{const I=n.patterns;k=f||_?I[1]||"-"+I[0]:I[0]}return k!==I4||f?function sqt(i,n,e){let t=ko;for(let o=0,r=n.length;o<r;o++){let a=n.charAt(o);t+=a===I4?i:a===yle||a===Dle?e:a}return t}(D,k,l):D}const aqt=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,r5e="__??__",x4="#",N4="0",uqt=/(\.(?:[0-9]*[1-9])?)0+$/g,hqt=/\.$/,pqt=/\,/g;function a5e(i,n,e){let t;return t=-1===i&&-1!==n?n:-1!==i&&-1===n?i:e?Math.min(i,n):Math.max(i,n),t}function yqt(i,n,e){const t={negative:i<0,number:Math.abs(i),negativeZero:n5e(i),format:n};return function gqt(i){let{number:n,format:e}=i;if(e=e.split(MJt),(i.negative||i.negativeZero)&&e[1])e=e[1],i.hasNegativeFormat=!0;else if(0===n){const t=e[2];e=t||e[0],t&&function _qt(i){return-1===i.indexOf(x4)&&-1===i.indexOf(N4)}(t)&&(i.constant=t)}else e=e[0];i.format=e}(t),t.constant?t.constant:(function cqt(i){let n=i.format;if(n.indexOf("'")>-1||n.indexOf('"')>-1||n.indexOf("\\")>-1){const e=i.literals=[];i.format=n.replace(aqt,function(t){const o=t.charAt(0).replace("\\",ko),r=t.slice(1).replace(o,ko);return e.push(r),r5e})}}(t),function lqt(i,n){const e=i.format;-1!==e.indexOf(Dle)&&(i.style=M4,i.symbol=n.numbers.symbols.percentSign,i.number*=100),-1!==e.indexOf(yle)&&(i.style=mz,i.symbol=i5e(n))}(t,e),function Sqt(i){i.hasGroup=i.format.indexOf(IJt)>-1,i.hasGroup&&(i.format=i.format.replace(pqt,ko))}(t),function mqt(i){let{number:n,format:e}=i,t=e.indexOf(R4);if(-1!==t){const o=e.lastIndexOf(N4)-t,r=e.lastIndexOf(x4)-t,a=o>-1,l=r>-1;let c=n.toString().split("e");c=c[1]?A4(n,Math.abs(c[1])):c[0],c=c.split(R4)[1]||ko;let u=c.length,f=-1;a||l?a&&o>r?u=o:r>o&&(l&&u>r?u=r:a&&u<o&&(u=o),f=a?o:0):(i.format=e.substring(0,t)+e.substring(t+1),t=-1,u=0),u>-1&&(n=A4(n,u),f>-1&&(n=function fqt(i,n){let e;return e=0===n?uqt:new RegExp(`(\\.[0-9]{${n}}[1-9]*)0+$`,"g"),i.replace(e,"$1").replace(hqt,ko)}(n,f)))}else n=A4(n);i.negative&&-1*n>=0&&!i.negativeZero&&(i.negative=!1),i.number=n,i.decimalIndex=t}(t),function vqt(i){const n=i.format;let e=n.indexOf(x4),t=n.indexOf(N4),o=a5e(e,t,!0);e=n.lastIndexOf(x4),t=n.lastIndexOf(N4);let r=a5e(e,t);o===n.length&&(r=o),i.start=o,i.end=r,i.lastZeroIndex=t}(t),function Eqt(i,n){let e=i.number;return-1!==i.start&&(e=function bqt(i,n){const{start:e,end:t,negative:o,negativeZero:r,format:a,decimalIndex:l,lastZeroIndex:c,hasNegativeFormat:u,hasGroup:f}=i;let _=i.number;const S=_.toString().split(R4),v=a.length,b=S[0],D=S[1]||ko,k=b.length;let O=ko;_=a.substring(0,e),(o||r)&&!u&&(_+="-");for(let I=e;I<v;I++){let x=a.charAt(I);if(-1===l){if(t-I<k){_+=b;break}}else if(-1!==c&&c<I&&(O=ko),l-I<=k&&l-I>-1&&(_+=b,I=l),l===I){_+=(D?n.numbers.symbols.decimal:ko)+D,I+=t-l+1;continue}x===N4?(_+=x,O=x):x===x4&&(_+=O)}return f&&(_=s5e(_,e+(o&&!u?1:0),Math.max(t,k+e),n.numbers.decimal,n)),t>=e&&(_+=a.substring(t+1)),_}(i,n),e=function Cqt(i,n,e){let t=i;if(n===mz||n===M4){t=ko;for(let o=0,r=i.length;o<r;o++){let a=i.charAt(o);t+=a===yle||a===Dle?e:a}}return t}(e,i.style,i.symbol),e=function dqt(i,n){let e=i;if(n){const t=n.length;for(let o=0;o<t;o++)e=e.replace(r5e,n[o])}return e}(e,i.literals)),e}(t,e))}const Dqt=/^(n|c|p|e|a)(\d*)$/i;const Rqt=/\{(\d+)}/g;function Tle(i){const n=arguments;return i.replace(Rqt,(e,t)=>n[parseInt(t,10)+1])}const Aqt=120,xqt=20,d5e=[2,1,5,3,4],Uqt={[(-2).toString()]:8,[(-1).toString()]:6,[2..toString()]:6,[1..toString()]:3},Fqt={numeric:1,"2-digit":2,short:3,long:4,narrow:5},Bqt=/[hHmsSzZoOvVxX]/,u5e=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:function Vqt(i){return i.hour12?"h":"H"}},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],h5e={e:"c",E:"c",M:"L",Q:"q"},Mle={},CO={};function Ile(i){return Mle[i]||(Mle[i]=new RegExp(i+"+")),Mle[i]}function _z(i){const n=[];let e=i.charAt(0),t=e;for(let o=1;o<i.length;o++){let r=i.charAt(o);r===t?e+=r:(n.push(e),e=t=r)}return n.push(e),n}function Rle(i,n){const e=i.length;let o,r,t=-Number.MAX_VALUE;for(let a in n){const l=[];let c=a.replace("v","z"),u=0;for(let f=0;f<e;f++){const _=i[f];let v=(Ile(_[0]).exec(c)||[])[0];if(v){if(c=c.replace(v,ko),v.length!==_.length){let b=Math.max(Math.min(d5e[v.length]-d5e[_.length],2),-2);u-=Uqt[b]}}else u-=Aqt;if(l.push(v),u<t)break}c.length&&(u-=_z(c).length*xqt),u>t&&(t=u,o=l,r=n[a])}r=r.replace("v","z");for(let a=0;a<e;a++){const l=o[a];if(l&&l!==i[a]){const c=o[a][0];r=r.replace(Ile(c),i[a]),h5e[c]&&(r=r.replace(Ile(h5e[c]),i[a]))}}return r}function p5e(i,n){const e=n.calendar;let t;if(ble(i))t=e.patterns[i]?e.patterns[i]:i;else if(i){if(i.pattern)return i.pattern;let o=i.skeleton;o||(i.datetime?t=Tle(e.dateTimeFormats[i.datetime],e.timeFormats[i.datetime],e.dateFormats[i.datetime]):i.date?t=e.dateFormats[i.date]:i.time?t=e.timeFormats[i.time]:o=function jqt(i){let n=[];for(let e=0;e<u5e.length;e++){let t=u5e[e],r=i[t.key];if(r){let a=t.specifier||t.getSpecifier(i);n.push(a.repeat(Fqt[r]))}}return n.join(ko)}(i)),o&&(t=function Hqt(i,n){const e=n.calendar.dateTimeFormats.availableFormats;if(e[i])return e[i];if(CO[n.name]&&CO[n.name][i])return CO[n.name][i];const t=i.search(Bqt);let o;if(t>0){const r=i.substr(0,t),a=i.substr(t);o=Tle(n.calendar.dateTimeFormats.short,e[a]||Rle(_z(a),e),e[r]||Rle(_z(r),e))}else o=Rle(_z(i),e);return function zqt(i,n,e){CO[e]||(CO[e]={}),CO[e][i]=n}(i,o,n.name),o}(o,n))}return t||(t=e.patterns.d),t}function $qt(i){let n;return i<=3?n="abbreviated":4===i?n="wide":5===i?n="narrow":6===i&&(n="short"),n}function up(i,n,e,t,o){return function NJt(i,n){const{type:e,nameType:t,standAlone:o,lower:r}=n,a=uz(i),c=(r?"lower-":ko)+t,u=a.calendar[e][o?"stand-alone":"format"];let f=u[c];return!f&&r&&(f=u[c]=function xJt(i){return Array.isArray(i)?function RJt(i){const n=[];for(let e=0;e<i.length;e++)n.push(i[e].toLowerCase());return n}(i):function AJt(i){const n={};for(let e in i)n[e]=i[e].toLowerCase();return n}(i)}(u[t])),f}(i,{type:n,nameType:$qt(e),standAlone:t,lower:o})}function f5e(i){return"function"==typeof i}function Ale(i){return!!i&&f5e(i.getTime)&&f5e(i.getMonth)}const Xqt=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g;function g5e(i,n,e,t){return n<=2?cc(i+1,n):up(e,"months",n,t)[i]}function S5e(i,n,e,t){const o=Math.floor(i.getMonth()/3);return n<3?o+1:up(e,"quarters",n,t)[o]}function vz(i,n,e){const{shortHours:t,optionalMinutes:o,separator:r,localizedName:a,zZeroOffset:l}=e,c=i.getTimezoneOffset()/60;if(0===c&&l)return"Z";const u=c<=0?"+":"-",f=Math.abs(c).toString().split("."),_=f[1]||0;let S=u+(t?f[0]:cc(f[0],2));return(_||!o)&&(S+=(r?":":ko)+cc(_,2)),a&&(S=Tle(0===c?n.calendar.gmtZeroFormat:n.calendar.gmtFormat,S)),S}function v5e(i,n,e,t){let o;return o=n<3?function Wqt(i,n,e){const t=function qJt(i){const n=uz(i);if(!isNaN(n.firstDay))return n.firstDay;const e=sh.supplemental.weekData;if(!e)throw YJt.error();const t=e.firstDay[YGe(n)]||e.firstDay[KJt];if(!t)throw JJt.error();return n.firstDay=WJt.indexOf(t),n.firstDay}(e);let o;return o=i<t?7-t+i:i-t,o+1}(i.getDay(),0,e):up(e,"days",n,t)[i.getDay()],o}const $o={};function C5e(i,n,e=wle){if(!Ale(i))return i??ko;const t=hz(e);return p5e(n,t).replace(Xqt,function(r){let l,a=r.length;return l=r.includes("'")||r.includes('"')?r.slice(1,a-1):$o[r[0]](i,a,t),l})}function b5e(i,n,e){const t=i.getTimezoneOffset(),o=new Date(i.getTime()+6e4*(n-e)),r=o.getTimezoneOffset();return new Date(o.getTime()+6e4*(r-t))}$o.d=function(i,n){return cc(i.getDate(),n)},$o.E=function(i,n,e){return up(e,"days",n)[i.getDay()]},$o.M=function(i,n,e){return g5e(i.getMonth(),n,e,!1)},$o.L=function(i,n,e){return g5e(i.getMonth(),n,e,!0)},$o.y=function(i,n){let e=i.getFullYear();return 2===n&&(e%=100),cc(e,n)},$o.h=function(i,n){return cc(i.getHours()%12||12,n)},$o.H=function(i,n){return cc(i.getHours(),n)},$o.k=function(i,n){return cc(i.getHours()||24,n)},$o.K=function(i,n){return cc(i.getHours()%12,n)},$o.m=function(i,n){return cc(i.getMinutes(),n)},$o.s=function(i,n){return cc(i.getSeconds(),n)},$o.S=function(i,n){const e=i.getMilliseconds();let t;return t=0!==e?cc(String(e/1e3).split(".")[1].substr(0,n),n,!0):cc(ko,n),t},$o.a=function(i,n,e){return up(e,"dayPeriods",n)[i.getHours()<12?"am":"pm"]},$o.z=function(i,n,e){return vz(i,e,{shortHours:n<4,optionalMinutes:n<4,separator:!0,localizedName:!0})},$o.Z=function(i,n,e){return vz(i,e,{separator:n>3,localizedName:4===n,zZeroOffset:5===n})},$o.x=function(i,n,e){return vz(i,e,{optionalMinutes:1===n,separator:3===n||5===n})},$o.X=function(i,n,e){return vz(i,e,{optionalMinutes:1===n,separator:3===n||5===n,zZeroOffset:!0})},$o.G=function(i,n,e){let t=i.getFullYear()>=0?1:0;return up(e,"eras",n)[t]},$o.e=v5e,$o.c=function(i,n,e){return v5e(i,n,e,!0)},$o.q=function(i,n,e){return S5e(i,n,e,!0)},$o.Q=S5e;const Yqt=/([+|\-]\d{1,2})(:?)(\d{2})?/,Jqt=/^\/Date\((.*?)\)\/$/,qqt=/[+-]\d*/,Qqt={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},Zqt=/\d+/,eQt=/^ */,tQt=/ *$/,nQt=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],y5e=["G","g","F","Y","y","M","m","D","d","y","T","t"];function oh(i,n,e){return!(i>=n&&i<=e)}function Ca(i,n){let{format:e,idx:t}=n,o=0;for(;e[t]===i;)o++,t++;return o>0&&(t-=1),n.idx=t,o}function am(i,n){let e=i?Qqt[i]||new RegExp("^\\d{1,"+i+"}"):Zqt,t=n.value.substr(n.valueIdx,i).match(e);return t?(t=t[0],n.valueIdx+=t.length,parseInt(t,10)):null}function Gb(i,n,e){let r,a,u,t=0,o=i.length,l=0,c=0;for(;t<o;t++)r=i[t],a=r.length,u=n.value.substr(n.valueIdx,a),e&&(u=u.toLowerCase()),u===r&&a>l&&(l=a,c=t);return l?(n.valueIdx+=l,c+1):null}function Nle(i){let n=!1;return i.value.charAt(i.valueIdx)===i.format[i.idx]&&(i.valueIdx++,n=!0),n}function Cz(i,n,e){const{shortHours:t,noSeparator:o,optionalMinutes:r,localizedName:a,zLiteral:l}=e;if(i.UTC=!0,l&&"Z"===i.value.charAt(i.valueIdx))return i.valueIdx++,!1;if(a&&!Gb(function sQt(i){const{gmtFormat:n,gmtZeroFormat:e}=i;if(!n)throw T4.NoGMTInfo.error();return[n.replace("{0}",ko).toLowerCase(),e.replace("{0}",ko).toLowerCase()]}(n.calendar),i,!0))return!0;const c=Yqt.exec(i.value.substr(i.valueIdx,6));if(!c)return!a;const u=c[1],f=c[3],_=parseInt(u,10),S=c[2];let v=parseInt(f,10);if(isNaN(_)||!t&&3!==u.length||!r&&isNaN(v)||o&&S||(isNaN(v)&&(v=null),oh(_,-12,13)||v&&oh(v,0,59)))return!0;i.valueIdx+=c[0].length,i.hoursOffset=_,i.minutesOffset=v}function D5e(i,n,e){const t=Ca(i,n),o=up(e,"months",t,"L"===i,!0),r=t<3?am(2,n):Gb(o,n,!0);if(null===r||oh(r,1,12))return!0;n.month=r-1}function w5e(i,n,e){const t=Ca(i,n),o=up(e,"days",t,"c"===i,!0);let r=t<3?am(1,n):Gb(o,n,!0);if(!r&&0!==r||oh(r,1,7))return!0}const rr={};function rQt(i,n){return`${eQt.exec(n)[0]}${i}${tQt.exec(n)[0]}`}function aQt(i,n,e){let t=p5e(n,e).split(ko);const o={format:t,idx:0,value:rQt(i,n),valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},r=t.length;let a=!1;for(;o.idx<r;o.idx++){let l=t[o.idx];if(a)"'"===l&&(a=!1),Nle(o);else if(rr[l]){if(rr[l](o,e))return null}else if("'"===l)a=!0,Nle(o);else if(!Nle(o))return null}return o.valueIdx<i.length?null:function oQt(i){let{year:n,month:e,day:t,hours:o,minutes:r,seconds:a,milliseconds:l,pmHour:c,UTC:u,hoursOffset:f,minutesOffset:_}=i;const S=null!==o||null!==r||a||null,v=new Date;let b;return null===n&&null===e&&null===t&&S?(n=v.getFullYear(),e=v.getMonth(),t=v.getDate()):(null===n&&(n=v.getFullYear()),null===t&&(t=1)),c&&o<12&&(o+=12),u?(f&&(o+=-f),_&&(r+=-_*(f<0?-1:1)),b=new Date(Date.UTC(n,e,t,o,r,a,l))):(b=new Date(n,e,t,o,r,a,l),function Kqt(i,n){!n&&23===i.getHours()&&i.setHours(i.getHours()+2)}(b,o)),n<100&&b.setFullYear(n),b.getDate()!==t&&void 0===u?null:b}(o)||null}function k5e(i,n,e=wle){if(!i)return null;if(Ale(i))return i;let t=String(i).trim(),o=function cQt(i){if(i&&0===i.indexOf("/D")){let n=Jqt.exec(i);if(n){n=n[1];let e=qqt.exec(n.substring(1));return n=new Date(parseInt(n,10)),e&&(e=function lQt(i){const n="-"===i.substr(0,1)?-1:1;let e=i.substring(1);return e=60*parseInt(e.substr(0,2),10)+parseInt(e.substring(2),10),n*e}(e[0]),n=b5e(n,n.getTimezoneOffset(),0),n=b5e(n,0,-1*e)),n}}}(t);if(o)return o;const r=hz(e);let a=n||function dQt(i){const n=[],e=i.patterns,t=y5e.length;for(let o=0;o<t;o++)n.push(e[y5e[o]]);return n.concat(nQt)}(r.calendar);a=Array.isArray(a)?a:[a];const l=a.length;for(let c=0;c<l;c++)if(o=aQt(t,a[c],r),o)return o;return o}function T5e(i,n,e){if(n){if(Ale(i))return C5e(i,n,e);if(function pQt(i){return"number"==typeof i}(i))return function Oqt(i,n=I4,e=wle){if(null==i)return ko;if(!isFinite(i))return String(i);const t=hz(e),o=function kqt(i){let n;return n=ble(i)?function wqt(i){const n=Dqt.exec(i);if(n){const e={style:JGe};let t=n[1].toLowerCase();return"c"===t?e.style=mz:"a"===t?e.style=qGe:"p"===t?e.style=M4:"e"===t&&(e.style=QGe),n[2]&&(e.minimumFractionDigits=e.maximumFractionDigits=parseInt(n[2],10)),e}}(i):i,n}(n);let r;return r=o?rqt(i,Object.assign({},t.numbers[o.style||JGe],o),t):yqt(i,n,t),r}(i,n,e)}return i??ko}rr.d=function(i){Ca("d",i);const n=am(2,i);if(null===n||oh(n,1,31))return!0;null===i.day&&(i.day=n)},rr.E=function(i,n){if(null===Gb(up(n,"days",Ca("E",i),!1,!0),i,!0))return!0},rr.M=function(i,n){return D5e("M",i,n)},rr.L=function(i,n){return D5e("L",i,n)},rr.y=function(i){const n=Ca("y",i);let e=am(1===n?void 0:n,i);if(null===e)return!0;if(2===n){const t=(new Date).getFullYear();e=t-t%100+e,e>2029&&(e-=100)}i.year=e},rr.h=function(i){Ca("h",i);let n=am(2,i);if(12===n&&(n=0),null===n||oh(n,0,11))return!0;i.hours=n},rr.K=function(i){Ca("K",i);let n=am(2,i);if(null===n||oh(n,0,11))return!0;i.hours=n},rr.a=function(i,n){let t=up(n,"dayPeriods",Ca("a",i),!1,!0);const o=Gb([t.pm],i,!0);if(!o&&!Gb([t.am],i,!0))return!0;i.pmHour=o},rr.H=function(i){Ca("H",i);const n=am(2,i);if(null===n||oh(n,0,23))return!0;i.hours=n},rr.k=function(i){Ca("k",i);let n=am(2,i);if(null===n||oh(n,1,24))return!0;i.hours=24===n?0:n},rr.m=function(i){Ca("m",i);const n=am(2,i);if(null===n||oh(n,0,59))return!0;i.minutes=n},rr.s=function(i){Ca("s",i);const n=am(2,i);if(null===n||oh(n,0,59))return!0;i.seconds=n},rr.S=function(i){const n=Ca("S",i),e=i.value.substr(i.valueIdx,n);let t=null;if(isNaN(parseInt(e,10))||(t=parseFloat("0."+e,10),t=A4(t,3),t*=1e3,i.valueIdx+=n),null===t||oh(t,0,999))return!0;i.milliseconds=t},rr.z=function(i,n){const t=Ca("z",i)<4,o=Cz(i,n,{shortHours:t,optionalMinutes:t,localizedName:!0});if(o)return o},rr.Z=function(i,n){const e=Ca("Z",i),t=Cz(i,n,{noSeparator:e<4,zLiteral:5===e,localizedName:4===e});if(t)return t},rr.x=function(i,n){const e=Ca("x",i),t=Cz(i,n,{noSeparator:3!==e&&5!==e,optionalMinutes:1===e});if(t)return t},rr.X=function(i,n){const e=Ca("X",i),t=Cz(i,n,{noSeparator:3!==e&&5!==e,optionalMinutes:1===e,zLiteral:!0});if(t)return t},rr.G=function(i,n){const t=up(n,"eras",Ca("G",i),!1,!0);if(null===Gb([t[0],t[1]],i,!0))return!0},rr.e=function(i,n){return w5e("e",i,n)},rr.c=function(i,n){return w5e("c",i,n)};const Ple=i=>{if(!i||0===i.length)return"";const n=i[0].timezone,e="Etc/UTC"===n,t=e?"Z":"";return(n&&!e?";TZID="+n:"")+":"+i.map(a=>C5e(a,"yyyyMMddTHHmmss")+t).join(",")+" "},_Qt=(i,n)=>{if(!n)return!1;const{start:e,end:t}=n;return i<e||i>t||0===i&&e<0},gQt=(i,n)=>i-n,Ov=(i,n)=>{const e=[];for(let t=0;t<i.length;t++){const o=parseInt(i[t],10);if(isNaN(o)||_Qt(o,n))return[];e.push(o)}return e.sort(gQt)},SQt=["yyyyMMddTHHmmssSSSXXX","yyyyMMddTHHmmssXXX","yyyyMMddTHHmmss","yyyyMMddTHHmm","yyyyMMddTHH","yyyyMMdd"];function M5e(i){return new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()))}const I5e=(i,n)=>{const e=k5e(i)||k5e(i,SQt);if(!e)return null;const t=n?M5e(e):e;return Gi.fromUTCDate(t,n||"Etc/UTC")},vQt={SU:Rc.Sunday,MO:Rc.Monday,TU:Rc.Tuesday,WE:Rc.Wednesday,TH:Rc.Thursday,FR:Rc.Friday,SA:Rc.Saturday},R5e=i=>vQt[i],CQt=i=>{const n=[];for(let e=0;e<i.length;e++){const t=i[e],o=R5e(t.substring(t.length-2).toUpperCase());if(void 0===o)return[];n.push({offset:parseInt(t.substring(0,t.length-2),10)||0,day:o})}return n},Tv=(i,n,e=1)=>{n=(n-i.getUTCDay()+7*e)%7,i.setUTCDate(i.getUTCDate()+n)},Ub=(i,n)=>i+(i<n?7:0),Gle=(i,n)=>i-n,bO=(i,n)=>{let t=7-(M5e(h0(i)).getUTCDay()+7-(n||7))||7;return t<0&&(t+=7),Math.ceil((i.getUTCDate()-t)/7)+1},bQt=(i,n)=>{let e=(i=new Date(Date.UTC(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()))).getUTCFullYear();void 0!==n?(Tv(i,n,-1),i.setUTCDate(i.getUTCDate()+4)):i.setUTCDate(i.getUTCDate()+(4-(i.getUTCDay()||7)));let t=Math.floor((i.getTime()-Date.UTC(e,0,1,-6))/864e5);return 1+Math.floor(t/7)},A5e=(i,n,e)=>{let t=n.offset;if(!t)return bO(i,e);const o=new Date(Date.UTC(i.getUTCFullYear(),i.getUTCMonth()+1,0));let r=bO(o,e);const a=Ub(n.day,e),l=a<Ub(new Date(Date.UTC(i.getUTCFullYear(),i.getUTCMonth(),1)).getUTCDay(),e),c=a>Ub(o.getUTCDay(),e);return t<0?t=r+(t+1-(c?1:0)):l&&(t+=1),r-=c?1:0,t<(l?1:0)||t>r?null:t},EQt=(i,n,e)=>bO(i,e)===A5e(i,n,e),yQt=(i,n)=>bO(new Date(Date.UTC(i.getUTCFullYear(),i.getUTCMonth()+1,0)),n),DQt=[0,31,60,91,121,152,182,213,244,274,305,335,366],wQt=[0,31,59,90,120,151,181,212,243,273,304,334,365],x5e=i=>(i=i.getUTCFullYear())%4==0&&i%100!=0||i%400==0,kQt=i=>{const n=i.getUTCMonth();return(x5e(i)?DQt[n]:wQt[n])+i.getUTCDate()},OQt=[31,28,31,30,31,30,31,31,30,31,30,31],TQt=i=>{const n=i.getUTCMonth();return 1===n?1===new Date(Date.UTC(i.getUTCFullYear(),1,29)).getUTCMonth()?29:28:OQt[n]},Fb=(i,n,e)=>{const t=i.length,o=[];for(let r=0;r<t;r++){let a=i[r];if(e&&(a=e(a)),n===a)return null;n<a&&o.push(a)}return o},IQt=(i,n,e)=>{const t=e.byMonth,o=Fb(t,i.getUTCMonth()+1);let r=!1;return null!==o&&(o.length?i.setUTCMonth(o[0]-1,1):i.setUTCFullYear(i.getUTCFullYear()+1,t[0]-1,1),r=!0),r},RQt=(i,n,e)=>{let t,o=!1;function r(a){return a<0&&(a=t+a+1),a}for(;i<=n;){let a=i.getUTCMonth();t=TQt(i);let l=Fb(e.byMonthDay,i.getUTCDate(),r);if(null===l)return o;if(o=!0,l.length){if(i.setUTCMonth(a,l.sort(Gle)[0]),a===i.getUTCMonth())break}else i.setUTCMonth(a+1,1)}return o},AQt=(i,n,e)=>{let t,o=!1;function r(a){return a<0&&(a=t+a),a}for(;i<n;){t=x5e(i)?366:365;let a=Fb(e.byYearDay,kQt(i),r);if(null===a)return o;if(o=!0,t=i.getUTCFullYear(),a.length){i.setUTCFullYear(t,0,a.sort(Gle)[0]);break}i.setUTCFullYear(t+1,0,1)}return o},xQt=(i,n,e)=>{const t=e.weekStart||Rc.Monday;let o=!1;function r(a){return a<0&&(a=53+a),a}for(;i<n;){const a=Fb(e.byWeekNumber,bQt(i,t),r);if(null===a)return o;o=!0;const l=i.getUTCFullYear();if(a.length){const c=7*a.sort(Gle)[0]-1;i.setUTCFullYear(l,0,c),Tv(i,t,-1);break}i.setUTCFullYear(l+1,0,1)}return o},NQt=(i,n,e)=>{const t=e.byWeekDay,o=e.weekStart||Rc.Monday;let r=((i,n,e)=>{const t=Ub(n.getUTCDay(),e),o=i.length;let r,a,l,c;const u=[];for(let f=0;f<o;f++)if(a=i[f],c=bO(n,e),r=A5e(n,a,e),null!==r)if(c<r)u.push(a);else if(c===r)if(l=Ub(a.day,e),t<l)u.push(a);else if(t===l)return null;return u})(t,i,o);if(null===r)return!1;r[0]||(r=t,Tv(i,o));const l=r.map(c=>{let u=he(i),f=c.day;if(c.offset)for(;u<=n&&!EQt(u,c,o);)bO(u,o)===yQt(u,o)?u.setUTCMonth(u.getUTCMonth()+1,1):(u.setUTCDate(u.getUTCDate()+7),Tv(u,o,-1));return u.getUTCDay()!==f&&Tv(u,f),u}).sort((c,u)=>c.getTime()-u.getTime())[0];return l&&i.setTime(l),!0},LQt=(i,n,e)=>{let t=e.byHour,o=!1,r=e._startTime;const a=r.getUTCHours();let l=Fb(t,a);return null!==l&&(o=!0,i.setUTCHours(a),l.length?(l=l[0],i.setUTCHours(l)):(l=i.getUTCHours(),i.setUTCDate(i.getUTCDate()+1),l=t[0],i.setUTCHours(l)),e.byMinute&&i.setUTCMinutes(0),r.setUTCHours(l,i.getUTCMinutes())),o},PQt=(i,n,e)=>{const t=e.byMinute,o=i.getUTCMinutes();let r=Fb(t,o),a=e._startTime.getUTCHours(),l=!1;return null!==r&&(l=!0,r.length?r=r[0]:(a+=1,r=t[0]),e.bySecond&&i.setUTCSeconds(0),i.setUTCHours(a,r),a%=24,e._startTime.setUTCHours(a,r,i.getUTCSeconds())),l},GQt=(i,n,e)=>{const t=e.bySecond,o=Fb(t,i.getUTCSeconds());let r=e._startTime.getUTCHours(),a=i.getUTCMinutes(),l=!1;return null!==o&&(l=!0,o.length?i.setUTCSeconds(o[0]):(a+=1,i.setUTCMinutes(a,t[0]),a>59&&(a%=60,r=(r+1)%24)),e._startTime.setUTCHours(r,a,i.getUTCSeconds())),l},N5e=["byMonth","byWeekNumber","byYearDay","byMonthDay","byWeekDay","byHour","byMinute","bySecond"],L5e=N5e.length,L4=(i,n)=>{let e;return 0!==i&&i<n?e=n-i:(e=i%n,e&&(e=n-e)),e};class Bb{next(n,e){const t=e._startTime;let o,r;if(e.bySecond)r=n.getUTCSeconds()+1,n.setUTCSeconds(r),t.setUTCSeconds(r);else{if(!e.byMinute)return!1;o=n.getUTCMinutes()+1,n.setUTCMinutes(o),t.setUTCMinutes(o)}return!0}normalize(n){const e=n.rule;4===n.idx&&e.byHour&&(e._startTime.setUTCHours(0),this._hour(n.date,e))}limit(n,e,t){const o=t.interval||1;let r;for(;n<=e;){let a,l;const c=n.getUTCDate();for(r=0;r<L5e;r++){const u=N5e[r];if(t[u]){if(a=nt[u](n,e,t),void 0!==l&&a)break;l=a}a&&this.normalize({date:n,rule:t,day:c,idx:r})}if((1===o||!this.interval(t,n))&&r===L5e)break}}interval(n,e){const t=n._startPeriod.toUTCDate(),o=e.getUTCHours(),r=n.weekStart,a=n.interval,l=n.freq;let v,b,c=new Date(e),u=!1,f=0,_=0,S=1;return"hourly"===l?(b=n._startTime.getUTCHours(),c=c.getTime(),o!==b&&(c+=(b-o)*nR),c-=t.getTime(),v=Math.floor(c/nR),f=L4(v,a),0!==f&&(this._hour(e,n,f),u=!0)):"daily"===l?(((i,n)=>{i.setTime(i.getTime()+n)})(c,-t),v=Math.round(c/pQ),f=L4(v,a),0!==f&&(this._date(e,n,f),u=!0)):"weekly"===l?(f=this.getNumberOfWeeksBetweenDates(t,e),Ub(e.getUTCDay(),r)<Ub(t.getUTCDay(),r)&&(f+=1),f=L4(f,a),0!==f&&(Tv(e,n.weekStart,-1),e.setUTCDate(e.getUTCDate()+7*f),u=!0)):"monthly"===l?(v=e.getUTCFullYear()-t.getUTCFullYear(),v=e.getUTCMonth()-t.getUTCMonth()+12*v,f=L4(v,a),0!==f&&(S=VGe(n)?1:e.getDate(),e.setUTCFullYear(e.getUTCFullYear(),e.getUTCMonth()+f,S),u=!0)):"yearly"===l&&(v=e.getUTCFullYear()-t.getUTCFullYear(),f=L4(v,a),n.byMonth||(_=e.getUTCMonth()),!n.byYearDay&&!n.byMonthDay&&!n.byWeekDay&&(S=e.getUTCDate()),0!==f&&(e.setUTCFullYear(e.getUTCFullYear()+f,_,S),u=!0)),u}_hour(n,e,t){const o=e._startTime;let r=o.getUTCHours();t&&(r+=t),n.setUTCHours(r),r%=24,o.setUTCHours(r)}_date(n,e,t){n.setUTCDate(n.getUTCDate()+t)}getNumberOfWeeksBetweenDates(n,e){const t=(e.getTime()-n.getTime())/6048e5;let o=Math.floor(t);return t-o>.99&&(o=Math.round(t)),o}}class P5e extends Bb{next(n,e){return Bb.prototype.next.call(this,n,e)||this[e.byHour?"_hour":"_date"](n,e,1),!1}}class G5e extends Bb{next(n,e){let t;if(!Bb.prototype.next.call(this,n,e))if(e.byHour)this._hour(n,e,1);else if(e.byMonthDay||e.byWeekDay||e.byYearDay||e.byWeekNumber)this._date(n,e,1);else{for(t=n.getUTCDate(),n.setUTCMonth(n.getUTCMonth()+1);n.getUTCDate()!==t;)n.setUTCDate(t);this._hour(n,e)}return!1}normalize(n){const e=n.rule,t=n.date;0!==n.idx||e.byMonthDay||e.byWeekDay?super.normalize(n):t.setUTCDate(n.day)}setup(n,e,t){!n.byMonthDay&&!n.byWeekDay&&t.setUTCDate(e.getUTCDate())}}new class FQt extends Bb{next(n,e){return Bb.prototype.next.call(this,n,e)||this._hour(n,e,1),!1}normalize(n){const e=n.rule;4===n.idx&&(e._startTime.setUTCHours(0),this._hour(n.date,e))}},new P5e,new class BQt extends P5e{setup(n,e){n.byWeekDay||(n.byWeekDay=[{day:e.getUTCDay(),offset:0}])}},new G5e,new class VQt extends G5e{next(n,e){let t;if(!Bb.prototype.next.call(this,n,e))if(e.byHour)this._hour(n,e,1);else if(e.byMonthDay||e.byWeekDay||e.byYearDay||e.byWeekNumber)this._date(n,e,1);else if(e.byMonth){for(t=n.getUTCDate(),n.setUTCMonth(n.getUTCMonth()+1);n.getUTCDate()!==t;)n.setUTCDate(t);this._hour(n,e)}else n.setUTCFullYear(n.getUTCFullYear()+1),this._hour(n,e);return!1}setup(){}};const F5e=(i,n)=>i+(i<n?7:0),B5e=i=>{if(!i)return null;const{recurrenceRule:n,weekStart:e=0}=i,t={};let o,r,l,c,u,a=0;if(!n)return null;let f=n.split("\n");for(!f[1]&&(-1!==n.indexOf("DTSTART")||-1!==n.indexOf("DTEND")||-1!==n.indexOf("EXDATE"))&&(f=n.split(" ")),a=0,l=f.length;a<l;a++){let _=(f[a]||"").trim();-1!==_.indexOf("DTSTART")?t.start=HGe(_):-1!==_.indexOf("DTEND")?t.end=HGe(_):-1!==_.indexOf("EXDATE")?t.exceptionDates=zGe(_):-1!==_.indexOf("RRULE")?c=_.substring(6):_.trim()&&(c=_)}for(c=c.split(";"),a=0,l=c.length;a<l;a++)switch(u=c[a],o=u.split("="),r=(o[1]||"").trim().split(","),o[0].trim().toUpperCase()){case"FREQ":t.freq=r[0].toLowerCase();break;case"UNTIL":t.until=I5e(r[0]);break;case"COUNT":t.count=parseInt(r[0],10);break;case"INTERVAL":t.interval=parseInt(r[0],10);break;case"BYSECOND":t.bySecond=Ov(r,{start:0,end:60});break;case"BYMINUTE":t.byMinute=Ov(r,{start:0,end:59});break;case"BYHOUR":t.byHour=Ov(r,{start:0,end:23});break;case"BYMONTHDAY":t.byMonthDay=Ov(r,{start:-31,end:31});break;case"BYYEARDAY":t.byYearDay=Ov(r,{start:-366,end:366});break;case"BYMONTH":t.byMonth=Ov(r,{start:1,end:12});break;case"BYDAY":t.byWeekDay=CQt(r);break;case"BYWEEKNO":t.byWeekNumber=Ov(r,{start:-53,end:53});break;case"BYSETPOS":t.bySetPosition=Ov(r,{start:-366,end:366});break;case"WKST":t.weekStart=R5e(r[0])}return void 0===t.freq||void 0!==t.count&&t.until?null:(void 0===t.weekStart&&(t.weekStart=e),t.interval||(t.interval=1),t.bySetPosition&&!VGe(t)&&(t.bySetPosition=[]),(i=>{const{byWeekDay:n,weekStart:e}=i;n&&n.sort((i=>(n,e)=>F5e(n.day,i)-F5e(e.day,i))(e))})(t),t)},V5e={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},qQt=["kendoSchedulerLoading",""],QQt=["calendar"],ZQt=["kendoSchedulerToolbarNavigation",""];function eZt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-calendar",8,2),s.nI1(2,"async"),s.bIt("blur",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onBlur())})("keydown.escape",function(){s.eBV(e);const o=s.XpG(),r=s.sdS(6),a=s.sdS(10);return o.toggleSelectedDate({nativeElement:r},a),s.Njj(r.focus())})("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.selectDate(o))}),s.nrm(3,"kendo-calendar-messages",9),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("activeView",e.activeView)("bottomView",e.bottomView)("value",s.bMT(2,6,e.ctx.selectedDate))("min",e.min)("max",e.max),s.R7$(3),s.Y8G("today",e.calendarTodayText)}}const tZt=["kendoSchedulerToolbarViewSelector",""];function nZt(i,n){if(1&i&&(s.j41(0,"option",4),s.EFF(1),s.k0s()),2&i){const e=n.$implicit,t=s.XpG(2);s.Y8G("selected",!0===t.isSelected(e))("value",e.name),s.R7$(),s.SpI(" ",e.title," ")}}function iZt(i,n){if(1&i){const e=s.RV6();s.j41(0,"select",2),s.bIt("change",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onChange(o))}),s.DNE(1,nZt,2,3,"option",3),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("kendoSchedulerFocusIndex",0),s.BMQ("aria-label",e.selectView),s.R7$(),s.Y8G("ngForOf",e.ctx.views)}}function sZt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",7),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG(2);return s.Njj(r.select(o))}),s.j41(1,"span",8),s.EFF(2),s.k0s()()}if(2&i){const e=n.$implicit,t=s.XpG(2);s.Y8G("selected",t.isSelected(e))("kendoSchedulerFocusIndex",0),s.BMQ("aria-pressed",t.isSelected(e)),s.R7$(2),s.SpI(" ",e.title," ")}}function oZt(i,n){if(1&i&&(s.j41(0,"span",5),s.DNE(1,sZt,3,4,"button",6),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngForOf",e.ctx.views)}}function rZt(i,n){}function aZt(i,n){if(1&i&&s.DNE(0,rZt,0,0,"ng-template",3),2&i){const e=s.XpG();s.Y8G("ngTemplateOutlet",e.template.templateRef)("ngTemplateOutletContext",e.templateContext)}}function lZt(i,n){if(1&i&&s.nrm(0,"div",4)(1,"span",5)(2,"div",6),2&i){const e=s.XpG();s.Y8G("min",e.min)("max",e.max)("activeView",e.activeView)("bottomView",e.bottomView),s.R7$(2),s.Y8G("toolbarWidth",e.toolbarWidth)}}const cZt=["resourceMultiSelect"];function dZt(i,n){if(1&i&&s.nrm(0,"span",5),2&i){const e=s.XpG().$implicit,t=s.XpG();s.Y8G("ngStyle",t.getResourceStyle(e))}}function uZt(i,n){if(1&i&&(s.DNE(0,dZt,1,1,"span",4),s.EFF(1)),2&i){const e=n.$implicit,t=s.XpG();s.Y8G("ngIf",t.resource.colorField),s.R7$(),s.SpI(" ",t.getField(e,t.resource.textField)," ")}}function hZt(i,n){if(1&i&&s.nrm(0,"span",5),2&i){const e=s.XpG().$implicit,t=s.XpG();s.Y8G("ngStyle",t.getTagStyle(e))}}function pZt(i,n){if(1&i&&(s.DNE(0,hZt,1,1,"span",4),s.EFF(1)),2&i){const e=n.$implicit,t=s.XpG();s.Y8G("ngIf",t.resource.colorField),s.R7$(),s.SpI(" ",t.getField(e,t.resource.textField)," ")}}const fZt=["resourceDropDown"];function mZt(i,n){if(1&i&&s.nrm(0,"span",4),2&i){const e=s.XpG().$implicit,t=s.XpG();s.Y8G("ngStyle",t.getResourceStyle(e))}}function _Zt(i,n){if(1&i&&(s.DNE(0,mZt,1,1,"span",3),s.EFF(1)),2&i){const e=n.$implicit,t=s.XpG();s.Y8G("ngIf",t.resource.colorField),s.R7$(),s.SpI(" ",t.getField(e,t.resource.textField)," ")}}const gZt=["datepicker"],SZt=["datetimepicker"];function vZt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-datepicker",3,0),s.mxI("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.date,o)||(r.date=o),s.Njj(o)}),s.bIt("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onValueChange(o))}),s.nrm(2,"kendo-datepicker-messages",4),s.k0s()}if(2&i){const e=s.XpG();s.R50("value",e.date),s.Y8G("formControl",e.formControl),s.R7$(2),s.Y8G("today",e.textFor("editorDateInputsToday"))("toggle",e.textFor("editorDateInputsToggle"))("parentViewButtonTitle",e.textFor("editorDateInputsParentViewButton"))}}function CZt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-datetimepicker",3,1),s.mxI("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.date,o)||(r.date=o),s.Njj(o)}),s.bIt("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onValueChange(o))}),s.nrm(2,"kendo-datetimepicker-messages",5),s.k0s()}if(2&i){const e=s.XpG();s.R50("value",e.date),s.Y8G("formControl",e.formControl),s.R7$(2),s.Y8G("toggle",e.textFor("editorDateInputsToggle"))("today",e.textFor("editorDateInputsToday"))("accept",e.textFor("editorDateInputsAccept"))("acceptLabel",e.textFor("editorDateInputsAcceptLabel"))("cancelLabel",e.textFor("editorDateInputsCancelLabel"))("cancel",e.textFor("editorDateInputsCancel"))("now",e.textFor("editorDateInputsNow"))("nowLabel",e.textFor("editorDateInputsNowLabel"))("dateTab",e.textFor("editorDateInputsDateTab"))("dateTabLabel",e.textFor("editorDateInputsDateTabLabel"))("timeTab",e.textFor("editorDateInputsTimeTab"))("timeTabLabel",e.textFor("editorDateInputsTimeTabLabel"))("parentViewButtonTitle",e.textFor("editorDateInputsParentViewButton"))}}const bZt=["tzcombobox"],EZt=["tzcomboboxControl"];function yZt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-combobox",4,0),s.bIt("filterChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onTimeZoneFilterChange(o))})("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onTimeZoneChange(o))}),s.k0s()}if(2&i){const e=s.XpG();s.xc7("width",e.width,"px"),s.Y8G("allowCustom",!1)("data",e.tzSource)("filterable",!0)("suggest",!0)("value",e.tz)}}function DZt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-combobox",5,1),s.bIt("filterChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onTimeZoneFilterChange(o))})("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onTimeZoneChange(o))}),s.k0s()}if(2&i){const e=s.XpG();s.xc7("width",e.width,"px"),s.Y8G("allowCustom",!1)("data",e.tzSource)("filterable",!0)("suggest",!0)("value",e.tz)("formControl",e.formControl)}}function wZt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",5),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.onClick(o))}),s.EFF(1),s.k0s()}if(2&i){const e=n.$implicit,t=s.XpG();s.Y8G("togglable",!0)("selected",e.value===t.selected),s.R7$(),s.JRh(e.text)}}function kZt(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",5),s.bIt("selectedChange",function(o){const r=s.eBV(e).$implicit,a=s.XpG();return s.Njj(a.onSelectedChange(o,r.value))}),s.EFF(1),s.k0s()}if(2&i){const e=n.$implicit,t=s.XpG();s.Y8G("toggleable",!0)("selected",t.isSelected(e)),s.R7$(),s.JRh(t.capitalize(e.text))}}function OZt(i,n){if(1&i&&s.EFF(0),2&i){const e=s.XpG();s.SpI(" ",e.textFor("monthlyDay")," ")}}function TZt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-dropdownlist",11),s.bIt("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onMonthChange(o,"monthday"))}),s.k0s()}if(2&i){const e=s.XpG();s.xc7("width",170,"px")("margin","0 .4ex 0 1ex"),s.Y8G("data",e.months)("value",e.currentMonthMonthDay)("valuePrimitive",!0)("disabled",e.isDisabled("monthday"))}}function MZt(i,n){if(1&i){const e=s.RV6();s.j41(0,"span"),s.EFF(1),s.k0s(),s.j41(2,"kendo-dropdownlist",11),s.bIt("valueChange",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onMonthChange(o,"weekday"))}),s.k0s()}if(2&i){const e=s.XpG();s.R7$(),s.JRh(e.textFor("yearlyOf")),s.R7$(),s.xc7("margin","0 .4ex 0 1ex"),s.Y8G("data",e.months)("value",e.currentMonthWeekDay)("valuePrimitive",!0)("disabled",e.isDisabled("weekday"))}}function IZt(i,n){if(1&i&&s.nrm(0,"kendo-recurrence-interval-editor",5),2&i){const e=s.XpG();s.Y8G("userNumericOptions",e.repeatEveryOptions)}}function RZt(i,n){1&i&&s.nrm(0,"kendo-recurrence-weekday-rule-editor")}function AZt(i,n){if(1&i&&s.nrm(0,"kendo-recurrence-monthly-yearly-editor",5),2&i){const e=s.XpG();s.Y8G("userNumericOptions",e.repeatOnOptions)}}function xZt(i,n){if(1&i&&s.nrm(0,"kendo-recurrence-end-rule-editor",6),2&i){const e=s.XpG();s.Y8G("userNumericOptions",e.endAfterOptions)("userDatePickerOptions",e.endOnOptions)}}const NZt=(i,n,e,t,o)=>({$implicit:i,formGroup:n,dataItem:e,editMode:t,isNew:o});function LZt(i,n){if(1&i&&(s.j41(0,"kendo-formfield"),s.qex(1),s.j41(2,"span",18),s.nrm(3,"input",19),s.k0s(),s.j41(4,"label",20),s.EFF(5),s.k0s(),s.bVm(),s.k0s()),2&i){const e=s.XpG(3);s.R7$(4),s.Y8G("labelClass",!1),s.R7$(),s.JRh(e.textFor("editorEventTimeZone"))}}function PZt(i,n){if(1&i&&(s.j41(0,"kendo-formfield"),s.nrm(1,"kendo-label",13)(2,"kendo-timezone-editor",21,3),s.k0s()),2&i){const e=s.sdS(3),t=s.XpG(3);s.R7$(),s.Y8G("for",e)("text",t.textFor("editorEventStartTimeZone")),s.R7$(),s.Y8G("width",void 0)("formControl",t.getControl(t.fields.startTimezone))}}function GZt(i,n){if(1&i&&(s.j41(0,"kendo-formfield"),s.qex(1),s.j41(2,"span",18),s.nrm(3,"input",22),s.k0s(),s.j41(4,"label",23),s.EFF(5),s.k0s(),s.bVm(),s.k0s()),2&i){const e=s.XpG(3);s.R7$(4),s.Y8G("labelClass",!1),s.R7$(),s.JRh(e.textFor("editorEventSeparateTimeZones"))}}function UZt(i,n){if(1&i&&(s.j41(0,"kendo-formfield"),s.nrm(1,"kendo-label",13)(2,"kendo-timezone-editor",21,4),s.k0s()),2&i){const e=s.sdS(3),t=s.XpG(3);s.R7$(),s.Y8G("for",e)("text",t.textFor("editorEventEndTimeZone")),s.R7$(),s.Y8G("width",void 0)("formControl",t.getControl(t.fields.endTimezone))}}function FZt(i,n){if(1&i&&(s.j41(0,"kendo-formfield"),s.qex(1),s.j41(2,"span",18),s.nrm(3,"input",24),s.k0s(),s.j41(4,"label",25),s.EFF(5),s.k0s(),s.bVm(),s.k0s()),2&i){const e=s.XpG(3);s.R7$(3),s.Y8G("formControl",e.getControl(e.fields.isAllDay)),s.R7$(),s.Y8G("labelClass",!1),s.R7$(),s.JRh(e.textFor("editorEventAllDay"))}}function BZt(i,n){if(1&i&&s.nrm(0,"kendo-recurrence-editor",26),2&i){const e=s.XpG(3);s.Y8G("formControl",e.getControl(e.fields.recurrenceRule))("start",e.recurrenceStart)("timezone",e.eventTimezone)("weekStart",e.weekStart)}}function VZt(i,n){if(1&i&&(s.j41(0,"kendo-formfield"),s.nrm(1,"kendo-label",13)(2,"textarea",27,5),s.k0s()),2&i){const e=s.sdS(3),t=s.XpG(3);s.R7$(),s.Y8G("for",e)("text",t.textFor("editorEventDescription")),s.R7$(),s.Y8G("formControl",t.getControl(t.fields.description))}}function zZt(i,n){if(1&i&&s.nrm(0,"kendo-multiple-resource-editor",30),2&i){const e=s.XpG(2).$implicit,t=s.XpG(3);s.Y8G("formControl",t.getControl(e.field))("resource",e)}}function HZt(i,n){if(1&i&&s.nrm(0,"kendo-single-resource-editor",30),2&i){const e=s.XpG(2).$implicit,t=s.XpG(3);s.Y8G("formControl",t.getControl(e.field))("resource",e)}}function jZt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-formfield")(1,"label",28),s.bIt("click",function(){s.eBV(e);const o=s.XpG().$implicit,r=s.XpG(3);return s.Njj(r.onResourceClick(o))}),s.EFF(2),s.k0s(),s.DNE(3,zZt,1,2,"kendo-multiple-resource-editor",29)(4,HZt,1,2,"kendo-single-resource-editor",29),s.k0s()}if(2&i){const e=s.XpG().$implicit;s.R7$(2),s.SpI(" ",e.name?e.name:e.field," "),s.R7$(),s.Y8G("ngIf",e.multiple),s.R7$(),s.Y8G("ngIf",!e.multiple)}}function $Zt(i,n){if(1&i&&(s.qex(0),s.DNE(1,jZt,5,3,"kendo-formfield",8),s.bVm()),2&i){const e=n.$implicit,t=s.XpG(3);s.R7$(),s.Y8G("ngIf",t.getFormValue(e.field))}}function XZt(i,n){if(1&i&&(s.qex(0),s.j41(1,"form",12)(2,"kendo-formfield"),s.nrm(3,"kendo-label",13)(4,"input",14,0),s.k0s(),s.j41(6,"kendo-formfield"),s.nrm(7,"kendo-label",13)(8,"kendo-scheduler-datetime-picker",15,1),s.k0s(),s.DNE(10,LZt,6,2,"kendo-formfield",8)(11,PZt,4,4,"kendo-formfield",8),s.j41(12,"kendo-formfield"),s.nrm(13,"kendo-label",13)(14,"kendo-scheduler-datetime-picker",15,2),s.k0s(),s.DNE(16,GZt,6,2,"kendo-formfield",8)(17,UZt,4,4,"kendo-formfield",8)(18,FZt,6,3,"kendo-formfield",8)(19,BZt,1,4,"kendo-recurrence-editor",16)(20,VZt,4,3,"kendo-formfield",8)(21,$Zt,2,1,"ng-container",17),s.k0s(),s.bVm()),2&i){let e,t;const o=s.sdS(5),r=s.sdS(9),a=s.sdS(15),l=s.XpG(2);s.R7$(),s.Y8G("formGroup",l.formGroup),s.R7$(2),s.Y8G("for",o)("text",l.textFor("editorEventTitle")),s.R7$(),s.Y8G("formControl",l.getControl(l.fields.title)),s.R7$(3),s.Y8G("for",r)("text",l.textFor("editorEventStart")),s.R7$(),s.Y8G("formControl",l.getControl(l.fields.start))("isAllDay",null==(e=l.getFormValue(l.fields.isAllDay))?null:e.value),s.R7$(2),s.Y8G("ngIf",l.hasStartTimeZone),s.R7$(),s.Y8G("ngIf",l.isStartTimeZoneVisible),s.R7$(2),s.Y8G("for",a)("text",l.textFor("editorEventEnd")),s.R7$(),s.Y8G("formControl",l.getControl(l.fields.end))("isAllDay",null==(t=l.getFormValue(l.fields.isAllDay))?null:t.value),s.R7$(2),s.Y8G("ngIf",l.isStartTimeZoneVisible&&l.hasEndTimeZone),s.R7$(),s.Y8G("ngIf",l.isEndTimeZoneVisible),s.R7$(),s.Y8G("ngIf",l.hasAllDay),s.R7$(),s.Y8G("ngIf",l.isEditingSeries),s.R7$(),s.Y8G("ngIf",l.getFormValue(l.fields.description)),s.R7$(),s.Y8G("ngForOf",l.resources)}}function WZt(i,n){if(1&i&&(s.qex(0),s.j41(1,"form",31),s.eu8(2,32),s.k0s(),s.bVm()),2&i){const e=s.XpG(2);s.R7$(),s.Y8G("formGroup",e.formGroup),s.R7$(),s.Y8G("ngTemplateOutlet",e.editTemplate.templateRef)("ngTemplateOutletContext",s.s1E(3,NZt,e.formGroup,e.formGroup,e.editedEvent,e.editMode,e.isNew))}}function KZt(i,n){if(1&i){const e=s.RV6();s.j41(0,"kendo-dialog",7),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onClose())}),s.DNE(1,XZt,22,20,"ng-container",8)(2,WZt,3,9,"ng-container",8),s.j41(3,"kendo-dialog-actions",9)(4,"button",10),s.bIt("click",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onSave(o))}),s.EFF(5),s.k0s(),s.j41(6,"button",11),s.bIt("click",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.onCancel(o))}),s.EFF(7),s.k0s()()()}if(2&i){const e=s.XpG();s.FS9("title",e.textFor("editorTitle")),s.Y8G("minWidth",400)("autoFocusedElement",e.autoFocusedElement),s.R7$(),s.Y8G("ngIf",!e.editTemplate),s.R7$(),s.Y8G("ngIf",e.editTemplate),s.R7$(2),s.Y8G("svgIcon",e.saveIcon)("disabled",!e.formGroup.valid),s.R7$(),s.JRh(e.textFor("save")),s.R7$(),s.Y8G("svgIcon",e.cancelIcon),s.R7$(),s.JRh(e.textFor("cancel"))}}const YZt=["confirmationDialogContainer"];function JZt(i,n){1&i&&s.eu8(0)}function qZt(i,n){1&i&&s.nrm(0,"div",8)}const Ble=["content"],Vb=i=>({date:i}),Vle=(i,n,e)=>({$implicit:i,event:n,resources:e}),z5e=["headerWrap"],ben=["monthViewItem",""];function Een(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",7),2&i){const e=s.XpG();s.Y8G("name",e.arrowIcons[0])("svgIcon",e.arrowSVGIcons[0])}}function yen(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",8),2&i){const e=s.XpG();s.Y8G("svgIcon",e.arrowRotateCwIcon)}}function Den(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",9),2&i){const e=s.XpG();s.Y8G("svgIcon",e.arrowsNoRepeatIcon)}}function wen(i,n){if(1&i&&s.eu8(0,10),2&i){const e=s.XpG();s.Y8G("ngTemplateOutlet",e.eventTemplate)("ngTemplateOutletContext",s.sMw(2,Vle,e.item.event,e.item.event,e.resources))}}function ken(i,n){if(1&i&&(s.j41(0,"div")(1,"div",11),s.EFF(2),s.k0s()()),2&i){const e=s.XpG();s.BMQ("title",e.eventTitle),s.R7$(2),s.JRh(e.item.event.title)}}function Oen(i,n){if(1&i&&(s.j41(0,"span",12),s.nrm(1,"kendo-icon-wrapper",13),s.k0s()),2&i){const e=s.XpG();s.BMQ("title",e.deleteMessage),s.R7$(),s.Y8G("svgIcon",e.xIcon)}}function Ten(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",7),2&i){const e=s.XpG();s.Y8G("name",e.arrowIcons[1])("svgIcon",e.arrowSVGIcons[1])}}function Men(i,n){1&i&&(s.qex(0),s.nrm(1,"span",14)(2,"span",15),s.bVm())}const Ien=["header"],Ren=["contentTable"],Aen=["times"],xen=["timesHeader"],Nen=["timesTable"],Len=["hintContainer"],Pen=["monthSlot",""],P4=(i,n)=>({date:i,resources:n});function Gen(i,n){if(1&i&&(s.j41(0,"span",3),s.EFF(1),s.nI1(2,"kendoDate"),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.SpI(" ",s.i5U(2,1,e.day,e.isFirstDayOfMonth(e.day)?"MMM dd":"dd")," ")}}function Uen(i,n){if(1&i&&s.eu8(0,4),2&i){const e=s.XpG();s.Y8G("ngTemplateOutlet",e.monthDaySlotTemplateRef)("ngTemplateOutletContext",s.l_i(2,P4,e.day,e.resourcesByIndex))}}function Fen(i,n){if(1&i&&(s.j41(0,"div",5),s.nrm(1,"kendo-icon-wrapper",6),s.k0s()),2&i){const e=s.XpG();s.Aen(e.style),s.R7$(),s.Y8G("svgIcon",e.moreHorizontalIcon)}}const Ben=["kendoResizeHint",""];function Ven(i,n){if(1&i&&(s.j41(0,"div",4),s.EFF(1),s.nI1(2,"kendoDate"),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.JRh(s.i5U(2,1,e.start,e.format))}}function zen(i,n){if(1&i&&(s.j41(0,"div",5),s.EFF(1),s.nI1(2,"kendoDate"),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.JRh(s.i5U(2,1,e.end,e.format))}}const EO=i=>({resource:i}),Hen=i=>({"k-last-resource":i}),zle=(i,n,e)=>({start:i,end:n,isAllDay:!0,resources:e}),Hle=(i,n,e)=>({resourceIndex:i,rangeIndex:n,index:e});function jen(i,n){1&i&&(s.j41(0,"div",18,5)(2,"table",13)(3,"tr"),s.nrm(4,"th"),s.k0s()()())}function $en(i,n){if(1&i&&(s.qex(0),s.EFF(1),s.bVm()),2&i){const e=s.XpG().$implicit,t=s.XpG().$implicit,o=s.XpG();s.R7$(),s.JRh(o.getField(e,t.textField))}}function Xen(i,n){if(1&i&&s.eu8(0,23),2&i){const e=s.XpG().$implicit,t=s.XpG(2);s.Y8G("ngTemplateOutlet",t.groupHeaderTemplateRef)("ngTemplateOutletContext",s.eq3(2,EO,e))}}function Wen(i,n){if(1&i&&(s.j41(0,"th",20),s.DNE(1,$en,2,1,"ng-container",21)(2,Xen,1,4,"ng-container",22),s.k0s()),2&i){const e=s.XpG().index,t=s.XpG();s.BMQ("colspan",t.horizontalColspan(e)),s.R7$(),s.Y8G("ngIf",!t.groupHeaderTemplateRef),s.R7$(),s.Y8G("ngIf",t.groupHeaderTemplateRef)}}function Ken(i,n){if(1&i&&(s.j41(0,"tr"),s.DNE(1,Wen,3,3,"th",19),s.nI1(2,"resourceIterator"),s.k0s()),2&i){const e=n.index,t=s.XpG();s.R7$(),s.Y8G("ngForOf",s.i5U(2,2,t.horizontalResources,e))("ngForTrackBy",t.itemIndex)}}function Yen(i,n){if(1&i&&(s.j41(0,"th"),s.EFF(1),s.nI1(2,"kendoDate"),s.k0s()),2&i){const e=n.$implicit;s.R7$(),s.SpI(" ",s.i5U(2,1,e,"EEEE")," ")}}function Jen(i,n){if(1&i&&(s.qex(0),s.DNE(1,Yen,3,4,"th",14),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngForOf",e.weeks[0])("ngForTrackBy",e.itemIndex)}}function qen(i,n){if(1&i&&(s.qex(0),s.EFF(1),s.bVm()),2&i){const e=s.XpG(2),t=e.$implicit,o=e.index,r=s.XpG().index,a=s.XpG(2);s.R7$(),s.JRh(a.getField(a.verticalItem(r,o),t.textField))}}function Qen(i,n){if(1&i&&s.eu8(0,23),2&i){const e=s.XpG(2).index,t=s.XpG().index,o=s.XpG(2);s.Y8G("ngTemplateOutlet",o.groupHeaderTemplateRef)("ngTemplateOutletContext",s.eq3(2,EO,o.verticalItem(t,e)))}}function Zen(i,n){if(1&i&&(s.j41(0,"th",27),s.DNE(1,qen,2,1,"ng-container",21)(2,Qen,1,4,"ng-container",22),s.k0s()),2&i){const e=s.XpG().index,t=s.XpG(3);s.Y8G("ngClass",s.eq3(4,Hen,e===t.verticalResources.length-1)),s.BMQ("rowspan",t.verticalRowspan(e)),s.R7$(),s.Y8G("ngIf",!t.groupHeaderTemplateRef),s.R7$(),s.Y8G("ngIf",t.groupHeaderTemplateRef)}}function etn(i,n){if(1&i&&(s.qex(0),s.DNE(1,Zen,3,6,"th",26),s.bVm()),2&i){const e=n.index,t=s.XpG().index,o=s.XpG(2);s.R7$(),s.Y8G("ngIf",o.verticalItem(t,e))}}function ttn(i,n){1&i&&(s.j41(0,"tr"),s.nrm(1,"th",25),s.k0s())}function ntn(i,n){if(1&i&&(s.qex(0),s.j41(1,"tr"),s.DNE(2,etn,2,1,"ng-container",14),s.nrm(3,"th",25),s.k0s(),s.DNE(4,ttn,2,0,"tr",14),s.nI1(5,"repeat"),s.bVm()),2&i){const e=s.XpG(2);s.R7$(2),s.Y8G("ngForOf",e.verticalResources)("ngForTrackBy",e.itemIndex),s.R7$(2),s.Y8G("ngForOf",s.bMT(5,4,e.numberOfWeeks-1))("ngForTrackBy",e.itemIndex)}}function itn(i,n){if(1&i&&(s.j41(0,"div",24,6)(2,"table",13,7),s.DNE(4,ntn,6,6,"ng-container",14),s.nI1(5,"resourceIterator"),s.k0s()()),2&i){const e=s.XpG();s.R7$(4),s.Y8G("ngForOf",s.bMT(5,2,e.verticalResources))("ngForTrackBy",e.itemIndex)}}function stn(i,n){if(1&i&&s.nrm(0,"td",29),2&i){const e=n.$implicit,t=n.index,o=s.XpG().index,r=s.XpG().index,a=s.XpG().index,l=s.XpG();s.AVh("k-selected",l.isSlotSelected(s.sMw(8,zle,l.toPlainDate(e),l.addDay(l.toPlainDate(e)),l.resourcesByIndex(l.verticalResources.length?a:o)))),s.Y8G("monthSlot",e)("monthDaySlotTemplateRef",l.monthDaySlotTemplateRef)("resourcesByIndex",l.resourcesByIndex(l.verticalResources.length?a:o))("ngClass",l.daySlotClass(e,l.verticalResources.length?a:o))("id",s.sMw(12,Hle,l.verticalResources.length?a:o,r,t))("title",l.cellTitle(e))}}function otn(i,n){if(1&i&&(s.qex(0),s.DNE(1,stn,1,16,"td",28),s.bVm()),2&i){const e=s.XpG().$implicit,t=s.XpG(2);s.R7$(),s.Y8G("ngForOf",e)("ngForTrackBy",t.itemIndex)}}function rtn(i,n){if(1&i&&(s.j41(0,"tr"),s.DNE(1,otn,2,2,"ng-container",14),s.nI1(2,"resourceIterator"),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.Y8G("ngForOf",s.bMT(2,2,e.horizontalResources))("ngForTrackBy",e.itemIndex)}}function atn(i,n){if(1&i&&(s.qex(0),s.DNE(1,rtn,3,4,"tr",14),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngForOf",e.weeks)("ngForTrackBy",e.itemIndex)}}function ltn(i,n){if(1&i&&s.nrm(0,"div",31),2&i){const e=n.$implicit,t=s.XpG().$implicit,o=s.XpG();s.Y8G("ngClass",o.getEventClasses(t,e.resources))("ngStyle",o.getEventStyles(t,e))("kendoSchedulerFocusIndex",e.leafIdx)("id",t.elementId+"_"+e.leafIdx)("editable",o.editable)("item",t)("index",t.index)("rangeIndex",t.rangeIndex)("eventTemplate",o.eventTemplateRef)("resources",e.resources)("resourceIndex",e.leafIdx)}}function ctn(i,n){if(1&i&&(s.qex(0),s.DNE(1,ltn,1,11,"div",30),s.bVm()),2&i){const e=n.$implicit,t=s.XpG();s.R7$(),s.Y8G("ngForOf",e.resources)("ngForTrackBy",t.itemIndex)}}function dtn(i,n){if(1&i&&s.nrm(0,"div",34),2&i){const e=n.$implicit,t=s.XpG(2);s.Y8G("ngStyle",e.style)("ngClass",e.class)("dragHint",!0)("eventTemplate",t.eventTemplateRef)("item",e.item)("resources",e.resources)}}function utn(i,n){if(1&i&&s.nrm(0,"div",35),2&i){const e=n.$implicit,t=s.XpG(2);s.Y8G("hint",e)("ngClass",e.class)("format",t.resizeHintFormat)}}function htn(i,n){if(1&i&&s.DNE(0,dtn,1,6,"div",32)(1,utn,1,3,"div",33),2&i){const e=s.XpG();s.Y8G("ngForOf",e.dragHints)("ngForTrackBy",e.itemIndex),s.R7$(),s.Y8G("ngForOf",e.resizeHints)("ngForTrackBy",e.itemIndex)}}function ptn(i,n){if(1&i&&s.nrm(0,"month-view",1),2&i){const e=s.XpG();s.Y8G("eventHeight",e.viewEventHeight)("eventTemplate",null==e.eventTemplate?null:e.eventTemplate.templateRef)("slotClass",e.viewSlotClass)("eventClass",e.viewEventClass)("eventStyles",e.viewEventStyles)("groupHeaderTemplate",null==e.groupHeaderTemplate?null:e.groupHeaderTemplate.templateRef)("monthDaySlotTemplate",null==e.monthDaySlotTemplate?null:e.monthDaySlotTemplate.templateRef)("selectedDateFormat",e.selectedDateFormat)("selectedShortDateFormat",e.selectedShortDateFormat)("highlightOngoingEvents",e.viewHighlightOngoingEvents)("weekStart",e.viewWeekStart)("dateRangeFn",e.dateRange)("newRange",e.newRange)}}const ftn=["viewFooter",""];function mtn(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",2),s.bIt("click",function(o){const r=s.eBV(e).$implicit,a=s.XpG();return s.Njj(a.onItemClick(o,r))}),s.j41(1,"span",3),s.EFF(2),s.k0s()()}if(2&i){const e=n.$implicit;s.Y8G("icon",e.fontIcon)("svgIcon",e.svgIcon)("ngClass",e.cssClass)("kendoSchedulerFocusIndex",0),s.R7$(2),s.JRh(e.text)}}const _tn=["dayTimeViewItem",""];function gtn(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",9),2&i){const e=s.XpG();s.Y8G("name",e.arrowIcons[0])("svgIcon",e.arrowSVGIcons[0])}}function Stn(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",10),2&i){const e=s.XpG();s.Y8G("svgIcon",e.arrowRotateCwIcon)}}function vtn(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",11),2&i){const e=s.XpG();s.Y8G("svgIcon",e.arrowsNoRepeatIcon)}}function Ctn(i,n){if(1&i&&s.eu8(0,12),2&i){const e=s.XpG();s.Y8G("ngTemplateOutlet",e.eventTemplate)("ngTemplateOutletContext",s.sMw(2,Vle,e.item.event,e.item.event,e.resources))}}function btn(i,n){if(1&i&&(s.j41(0,"div",15),s.EFF(1),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.JRh(e.eventTime)}}function Etn(i,n){if(1&i&&(s.j41(0,"div"),s.DNE(1,btn,2,1,"div",13),s.j41(2,"div",14),s.EFF(3),s.k0s()()),2&i){const e=s.XpG();s.BMQ("title",e.eventTitle),s.R7$(),s.Y8G("ngIf",!e.isAllDay),s.R7$(2),s.JRh(e.item.event.title)}}function ytn(i,n){if(1&i&&(s.j41(0,"span",16),s.nrm(1,"kendo-icon-wrapper",17),s.k0s()),2&i){const e=s.XpG();s.BMQ("title",e.deleteMessage),s.R7$(),s.Y8G("svgIcon",e.xIcon)}}function Dtn(i,n){if(1&i&&s.nrm(0,"kendo-icon-wrapper",9),2&i){const e=s.XpG();s.Y8G("name",e.arrowIcons[1])("svgIcon",e.arrowSVGIcons[1])}}function wtn(i,n){if(1&i&&(s.j41(0,"span",18),s.nrm(1,"kendo-icon-wrapper",19),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("svgIcon",e.caretAltUpIcon)}}function ktn(i,n){if(1&i&&(s.j41(0,"span",20),s.nrm(1,"kendo-icon-wrapper",21),s.k0s()),2&i){const e=s.XpG();s.R7$(),s.Y8G("svgIcon",e.caretAltDownIcon)}}function Otn(i,n){1&i&&s.nrm(0,"span",24)}function Ttn(i,n){1&i&&s.nrm(0,"span",25)}function Mtn(i,n){if(1&i&&(s.qex(0),s.DNE(1,Otn,1,0,"span",22)(2,Ttn,1,0,"span",23),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngIf",!e.item.tail),s.R7$(),s.Y8G("ngIf",!e.item.head)}}function Itn(i,n){1&i&&(s.qex(0),s.nrm(1,"span",26)(2,"span",27),s.bVm())}const Rtn=["currentTimeMarker"],Atn=["currentTimeArrow"],xtn=["headerHintContainer"],Ntn=["allDayCell"],H5e=(i,n)=>({resourceIndex:i,rangeIndex:0,index:n}),j5e=i=>({"k-slot-cell":i}),$5e=(i,n,e)=>({start:i,end:n,isAllDay:!1,resources:e});function Ltn(i,n){1&i&&(s.j41(0,"tr"),s.nrm(1,"th"),s.k0s())}function Ptn(i,n){if(1&i&&(s.j41(0,"tr")(1,"th",24,8),s.EFF(3),s.k0s()()),2&i){const e=s.XpG();s.R7$(3),s.JRh(e.allDayMessage)}}function Gtn(i,n){if(1&i&&(s.qex(0),s.EFF(1),s.bVm()),2&i){const e=s.XpG().$implicit,t=s.XpG().$implicit,o=s.XpG();s.R7$(),s.JRh(o.getField(e,t.textField))}}function Utn(i,n){if(1&i&&s.eu8(0,28),2&i){const e=s.XpG().$implicit,t=s.XpG(2);s.Y8G("ngTemplateOutlet",t.groupHeaderTemplateRef)("ngTemplateOutletContext",s.eq3(2,EO,e))}}function Ftn(i,n){if(1&i&&(s.j41(0,"th",26),s.DNE(1,Gtn,2,1,"ng-container",18)(2,Utn,1,4,"ng-container",27),s.k0s()),2&i){const e=s.XpG().index,t=s.XpG();s.BMQ("colspan",t.horizontalColspan(e)),s.R7$(),s.Y8G("ngIf",!t.groupHeaderTemplateRef),s.R7$(),s.Y8G("ngIf",t.groupHeaderTemplateRef)}}function Btn(i,n){if(1&i&&(s.j41(0,"tr"),s.DNE(1,Ftn,3,3,"th",25),s.nI1(2,"resourceIterator"),s.k0s()),2&i){const e=n.index,t=s.XpG();s.R7$(),s.Y8G("ngForOf",s.i5U(2,2,t.horizontalResources,e))("ngForTrackBy",t.itemIndex)}}function Vtn(i,n){if(1&i&&(s.j41(0,"span",30),s.EFF(1),s.nI1(2,"kendoDate"),s.k0s()),2&i){const e=s.XpG(),t=e.$implicit,o=e.index,r=s.XpG(2);s.BMQ("data-dayslot-index",o),s.R7$(),s.JRh(s.i5U(2,2,t.start,r.dateFormat))}}function ztn(i,n){if(1&i&&s.eu8(0,28),2&i){const e=s.XpG().$implicit,t=s.XpG(2);s.Y8G("ngTemplateOutlet",t.dateHeaderTemplateRef)("ngTemplateOutletContext",s.eq3(2,Vb,e.start))}}function Htn(i,n){if(1&i&&(s.j41(0,"th"),s.DNE(1,Vtn,3,5,"span",29)(2,ztn,1,4,"ng-container",27),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.Y8G("ngIf",!e.dateHeaderTemplateRef),s.R7$(),s.Y8G("ngIf",e.dateHeaderTemplateRef)}}function jtn(i,n){if(1&i&&(s.qex(0),s.DNE(1,Htn,3,2,"th",17),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngForOf",e.daySlots)("ngForTrackBy",e.itemIndex)}}function $tn(i,n){if(1&i&&s.eu8(0,28),2&i){const e=s.XpG().$implicit,t=s.XpG().index,o=s.XpG(2);s.Y8G("ngTemplateOutlet",o.allDaySlotTemplateRef)("ngTemplateOutletContext",s.l_i(2,P4,e.start,o.resourcesByIndex(t)))}}function Xtn(i,n){if(1&i&&(s.j41(0,"td",33),s.DNE(1,$tn,1,5,"ng-container",27),s.k0s()),2&i){const e=n.$implicit,t=n.index,o=s.XpG().index,r=s.XpG(2);s.AVh("k-selected",r.isSlotSelected(s.sMw(7,zle,r.toPlainDate(e.start),r.toPlainDate(e.end),r.resourcesByIndex(o)))),s.Y8G("start",e.start)("end",e.end)("id",s.l_i(11,H5e,o,t))("ngClass",r.allDaySlotClass(e,o)),s.R7$(),s.Y8G("ngIf",r.allDaySlotTemplateRef)}}function Wtn(i,n){if(1&i&&(s.qex(0),s.DNE(1,Xtn,2,14,"td",32),s.bVm()),2&i){const e=s.XpG(2);s.R7$(),s.Y8G("ngForOf",e.daySlots)("ngForTrackBy",e.itemIndex)}}function Ktn(i,n){if(1&i&&s.nrm(0,"div",35),2&i){const e=n.$implicit,t=s.XpG().$implicit,o=s.XpG(2);s.Y8G("ngClass",o.getEventClasses(t,e.resources,!0))("ngStyle",o.getEventStyles(t,e,!0))("kendoSchedulerFocusIndex",e.leafIdx)("id",t.elementId+"_"+e.leafIdx)("isAllDay",!0)("editable",o.editable)("eventTemplate",o.allDayEventTemplateRef)("item",t)("index",t.index)("rangeIndex",t.rangeIndex)("resources",e.resources)("resourceIndex",e.leafIdx)}}function Ytn(i,n){if(1&i&&(s.qex(0),s.DNE(1,Ktn,1,12,"div",34),s.bVm()),2&i){const e=n.$implicit,t=s.XpG(2);s.R7$(),s.Y8G("ngForOf",e.resources)("ngForTrackBy",t.itemIndex)}}function Jtn(i,n){if(1&i&&s.nrm(0,"div",38),2&i){const e=s.XpG(3);s.Y8G("isAllDay",!0)("ngStyle",e.dragHints[0].style)("ngClass",e.dragHints[0].class)("dragHint",!0)("eventTemplate",e.eventTemplateRef)("item",e.dragHints[0].item)("resources",e.dragHints[0].resources)}}function qtn(i,n){if(1&i&&s.nrm(0,"div",39),2&i){const e=s.XpG(3);s.Y8G("hint",e.resizeHints[0])("ngClass",e.resizeHints[0].class)("format",e.allDayResizeHintFormat)}}function Qtn(i,n){if(1&i&&s.DNE(0,Jtn,1,7,"div",36)(1,qtn,1,3,"div",37),2&i){const e=s.XpG(2);s.Y8G("ngIf",e.dragHints.length&&e.allDayDragHint),s.R7$(),s.Y8G("ngIf",e.resizeHints.length&&e.allDayResizeHint)}}function Ztn(i,n){if(1&i&&(s.j41(0,"div")(1,"table",31)(2,"tr"),s.DNE(3,Wtn,2,2,"ng-container",17),s.nI1(4,"resourceIterator"),s.k0s()(),s.DNE(5,Ytn,2,2,"ng-container",17),s.nI1(6,"async"),s.j41(7,"kendo-hint-container",null,9),s.DNE(9,Qtn,2,2,"ng-template"),s.k0s()()),2&i){const e=s.XpG();s.xc7("position","relative"),s.R7$(3),s.Y8G("ngForOf",s.bMT(4,6,e.horizontalResources))("ngForTrackBy",e.itemIndex),s.R7$(2),s.Y8G("ngForOf",s.bMT(6,8,e.allDayItems))("ngForTrackBy",e.itemIndex)}}function enn(i,n){1&i&&s.nrm(0,"div",41,10)}function tnn(i,n){if(1&i&&(s.qex(0),s.DNE(1,enn,2,0,"div",40),s.nI1(2,"resourceIterator"),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngForOf",s.bMT(2,2,e.verticalResources))("ngForTrackBy",e.itemIndex)}}function nnn(i,n){if(1&i&&(s.qex(0),s.EFF(1),s.bVm()),2&i){const e=s.XpG(2),t=e.$implicit,o=e.index,r=s.XpG(2).index,a=s.XpG();s.R7$(),s.JRh(a.getField(a.verticalItem(r,o),t.textField))}}function inn(i,n){if(1&i&&s.eu8(0,28),2&i){const e=s.XpG(2).index,t=s.XpG(2).index,o=s.XpG();s.Y8G("ngTemplateOutlet",o.groupHeaderTemplateRef)("ngTemplateOutletContext",s.eq3(2,EO,o.verticalItem(t,e)))}}function snn(i,n){if(1&i&&(s.j41(0,"th",26),s.DNE(1,nnn,2,1,"ng-container",18)(2,inn,1,4,"ng-container",27),s.k0s()),2&i){const e=s.XpG().index,t=s.XpG(3);s.BMQ("rowspan",t.verticalRowspan(e)),s.R7$(),s.Y8G("ngIf",!t.groupHeaderTemplateRef),s.R7$(),s.Y8G("ngIf",t.groupHeaderTemplateRef)}}function onn(i,n){if(1&i&&(s.qex(0),s.DNE(1,snn,3,3,"th",43),s.bVm()),2&i){const e=n.index,t=s.XpG(2).index,o=s.XpG();s.R7$(),s.Y8G("ngIf",o.verticalItem(t,e))}}function rnn(i,n){if(1&i&&(s.j41(0,"th",24,8),s.EFF(2),s.k0s()),2&i){const e=s.XpG(3);s.R7$(2),s.JRh(e.allDayMessage)}}function ann(i,n){if(1&i&&(s.j41(0,"tr"),s.DNE(1,onn,2,1,"ng-container",17)(2,rnn,3,1,"th",42),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.Y8G("ngForOf",e.verticalResources)("ngForTrackBy",e.itemIndex),s.R7$(),s.Y8G("ngIf",e.allDaySlot)}}function lnn(i,n){if(1&i&&(s.qex(0),s.EFF(1),s.nI1(2,"kendoDate"),s.bVm()),2&i){const e=s.XpG(2).$implicit;s.R7$(),s.JRh(s.i5U(2,1,e.start,"t"))}}function cnn(i,n){if(1&i&&s.eu8(0,28),2&i){const e=s.XpG(2).$implicit,t=s.XpG(2);s.Y8G("ngTemplateOutlet",t.majorTimeHeaderTemplateRef)("ngTemplateOutletContext",s.eq3(2,Vb,e.start))}}function dnn(i,n){if(1&i&&(s.j41(0,"th",45),s.DNE(1,lnn,3,4,"ng-container",18)(2,cnn,1,4,"ng-container",27),s.k0s()),2&i){const e=s.XpG(3);s.Y8G("ngClass",s.eq3(3,j5e,1===e.slotDivisions)),s.R7$(),s.Y8G("ngIf",!e.majorTimeHeaderTemplateRef),s.R7$(),s.Y8G("ngIf",e.majorTimeHeaderTemplateRef)}}function unn(i,n){if(1&i&&s.eu8(0,28),2&i){const e=s.XpG(2).$implicit,t=s.XpG(2);s.Y8G("ngTemplateOutlet",t.minorTimeHeaderTemplateRef)("ngTemplateOutletContext",s.eq3(2,Vb,e.start))}}function hnn(i,n){if(1&i&&(s.j41(0,"th",45),s.DNE(1,unn,1,4,"ng-container",27),s.k0s()),2&i){const e=s.XpG().index,t=s.XpG(2);s.Y8G("ngClass",s.eq3(2,j5e,e%t.slotDivisions==t.slotDivisions-1)),s.R7$(),s.Y8G("ngIf",t.minorTimeHeaderTemplateRef)}}function pnn(i,n){if(1&i&&(s.j41(0,"tr"),s.DNE(1,dnn,3,5,"th",44)(2,hnn,2,4,"th",44),s.k0s()),2&i){const e=n.$implicit;s.R7$(),s.Y8G("ngIf",e.isMajor),s.R7$(),s.Y8G("ngIf",!e.isMajor)}}function fnn(i,n){if(1&i&&(s.qex(0),s.DNE(1,ann,3,3,"tr",18)(2,pnn,3,2,"tr",17),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngIf",e.verticalResources.length),s.R7$(),s.Y8G("ngForOf",e.timeSlots)("ngForTrackBy",e.itemIndex)}}function mnn(i,n){1&i&&s.nrm(0,"div",47,11)}function _nn(i,n){if(1&i&&(s.qex(0),s.DNE(1,mnn,2,0,"div",46),s.nI1(2,"resourceIterator"),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngForOf",s.bMT(2,2,e.verticalResources))("ngForTrackBy",e.itemIndex)}}function gnn(i,n){if(1&i&&s.eu8(0,28),2&i){const e=s.XpG().$implicit,t=s.XpG(2).index,o=s.XpG();s.Y8G("ngTemplateOutlet",o.allDaySlotTemplateRef)("ngTemplateOutletContext",s.l_i(2,P4,e.start,o.resourcesByIndex(t)))}}function Snn(i,n){if(1&i&&(s.j41(0,"td",52),s.DNE(1,gnn,1,5,"ng-container",27),s.k0s()),2&i){const e=n.$implicit,t=n.index,o=s.XpG(2).index,r=s.XpG();s.AVh("k-selected",r.isSlotSelected(s.sMw(6,zle,r.toPlainDate(e.start),r.toPlainDate(e.end),r.resourcesByIndex(o)))),s.Y8G("start",e.start)("end",e.end)("id",s.l_i(10,H5e,o,t)),s.R7$(),s.Y8G("ngIf",r.allDaySlotTemplateRef)}}function vnn(i,n){if(1&i&&(s.j41(0,"tr",50),s.DNE(1,Snn,2,13,"td",51),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.Y8G("ngForOf",e.daySlots)("ngForTrackBy",e.itemIndex)}}function Cnn(i,n){if(1&i&&s.eu8(0,28),2&i){s.XpG();const e=s.sdS(1),t=s.XpG(4);s.Y8G("ngTemplateOutlet",t.timeSlotTemplateRef)("ngTemplateOutletContext",s.l_i(2,P4,e.startLocalTime,t.resourcesByIndex(e.id.resourceIndex)))}}function bnn(i,n){if(1&i&&(s.j41(0,"td",54,12),s.DNE(2,Cnn,1,5,"ng-container",27),s.k0s()),2&i){const e=n.$implicit,t=n.index,o=s.XpG().index,r=s.XpG(),a=r.$implicit,l=r.index,c=s.XpG().index,u=s.XpG();s.AVh("k-selected",u.isSlotSelected(s.sMw(12,$5e,u.toPlainDateTime(e.start,a.start),u.toPlainDateTime(e.start,a.end),u.resourcesByIndex(u.verticalResources.length?c:o)))),s.Y8G("ngClass",u.timeSlotClass(a,e.start,u.verticalResources.length?c:o))("date",e.start)("invariantStart",a.start)("invariantEnd",a.end)("workDayStart",u.workDayStartTime)("workDayEnd",u.workDayEndTime)("workWeekStart",u.workWeekStart)("workWeekEnd",u.workWeekEnd)("id",s.sMw(16,Hle,u.verticalResources.length?c:o,t,l)),s.R7$(2),s.Y8G("ngIf",u.timeSlotTemplateRef)}}function Enn(i,n){if(1&i&&(s.qex(0),s.DNE(1,bnn,3,20,"td",53),s.bVm()),2&i){const e=s.XpG(3);s.R7$(),s.Y8G("ngForOf",e.daySlots)("ngForTrackBy",e.itemIndex)}}function ynn(i,n){if(1&i&&(s.j41(0,"tr"),s.DNE(1,Enn,2,2,"ng-container",17),s.nI1(2,"resourceIterator"),s.k0s()),2&i){const e=n.index,t=s.XpG(2);s.AVh("k-middle-row",t.isMiddleSlot(e)),s.R7$(),s.Y8G("ngForOf",s.bMT(2,4,t.horizontalResources))("ngForTrackBy",t.itemIndex)}}function Dnn(i,n){if(1&i&&(s.qex(0),s.DNE(1,vnn,2,2,"tr",48)(2,ynn,3,6,"tr",49),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngIf",e.allDaySlot&&e.verticalResources.length),s.R7$(),s.Y8G("ngForOf",e.timeSlots)("ngForTrackBy",e.itemIndex)}}function wnn(i,n){if(1&i&&s.nrm(0,"div",56),2&i){const e=n.$implicit,t=s.XpG().$implicit,o=s.XpG();s.Y8G("ngClass",o.getEventClasses(t,e.resources))("ngStyle",o.getEventStyles(t,e))("kendoSchedulerFocusIndex",e.leafIdx)("id",t.elementId+"_"+e.leafIdx)("editable",o.editable)("vertical",!0)("eventTemplate",o.eventTemplateRef)("item",t)("index",t.index)("rangeIndex",t.rangeIndex)("resources",e.resources)("resourceIndex",e.leafIdx)}}function knn(i,n){if(1&i&&(s.qex(0),s.DNE(1,wnn,1,12,"div",55),s.bVm()),2&i){const e=n.$implicit,t=s.XpG();s.R7$(),s.Y8G("ngForOf",e.resources)("ngForTrackBy",t.itemIndex)}}function Onn(i,n){if(1&i&&s.nrm(0,"div",35),2&i){const e=n.$implicit,t=s.XpG().$implicit,o=s.XpG(2);s.Y8G("ngClass",o.getEventClasses(t,e.resources,!0))("ngStyle",o.getEventStyles(t,e,!0))("kendoSchedulerFocusIndex",e.leafIdx)("id",t.elementId+"_"+e.leafIdx)("isAllDay",!0)("editable",o.editable)("eventTemplate",o.allDayEventTemplateRef)("item",t)("index",t.index)("rangeIndex",t.rangeIndex)("resources",e.resources)("resourceIndex",e.leafIdx)}}function Tnn(i,n){if(1&i&&(s.qex(0),s.DNE(1,Onn,1,12,"div",34),s.bVm()),2&i){const e=n.$implicit,t=s.XpG(2);s.R7$(),s.Y8G("ngForOf",e.resources)("ngForTrackBy",t.itemIndex)}}function Mnn(i,n){if(1&i&&(s.qex(0),s.DNE(1,Tnn,2,2,"ng-container",17),s.nI1(2,"async"),s.bVm()),2&i){const e=s.XpG();s.R7$(),s.Y8G("ngForOf",s.bMT(2,2,e.allDayItems))("ngForTrackBy",e.itemIndex)}}function Inn(i,n){if(1&i&&s.nrm(0,"div",58),2&i){const e=s.XpG(2);s.Y8G("isAllDay",e.allDayDragHint)("ngStyle",e.dragHints[0].style)("ngClass",e.dragHints[0].class)("dragHint",!0)("eventTemplate",e.eventTemplateRef)("resources",e.dragHints[0].resources)("item",e.dragHints[0].item)}}function Rnn(i,n){if(1&i&&s.nrm(0,"div",39),2&i){const e=n.$implicit,t=s.XpG(3);s.Y8G("hint",e)("ngClass",e.class)("format",t.allDayResizeHint?t.allDayResizeHintFormat:t.resizeHintFormat)}}function Ann(i,n){if(1&i&&(s.qex(0),s.DNE(1,Rnn,1,3,"div",59),s.bVm()),2&i){const e=s.XpG(2);s.R7$(),s.Y8G("ngForOf",e.resizeHints)("ngForTrackBy",e.itemIndex)}}function xnn(i,n){if(1&i&&s.DNE(0,Inn,1,7,"div",57)(1,Ann,2,2,"ng-container",18),2&i){const e=s.XpG();s.Y8G("ngIf",e.dragHints.length&&(!e.allDayDragHint||e.verticalResources.length)),s.R7$(),s.Y8G("ngIf",e.resizeHints.length&&(!e.allDayResizeHint||e.verticalResources.length))}}function Nnn(i,n){if(1&i){const e=s.RV6();s.nrm(0,"multi-day-view",1),s.j41(1,"div",2),s.bIt("itemClick",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.showWorkHours=!o.shouldShowWorkHours)}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("name",e.name)("allDaySlot",e.viewAllDaySlot)("eventHeight",e.viewEventHeight)("currentTimeMarker",e.viewCurrentTimeMarker)("highlightOngoingEvents",e.viewHighlightOngoingEvents)("showWorkHours",e.shouldShowWorkHours)("scrollTime",e.viewScrollTime)("startTime",e.viewStartTime)("endTime",e.viewEndTime)("workDayStart",e.viewWorkDayStart)("workDayEnd",e.viewWorkDayEnd)("workWeekStart",e.viewWorkWeekStart)("workWeekEnd",e.viewWorkWeekEnd)("slotDuration",e.viewSlotDuration)("slotDivisions",e.viewSlotDivisions)("slotFill",e.viewSlotFill)("slotClass",e.viewSlotClass)("eventClass",e.viewEventClass)("eventStyles",e.viewEventStyles)("allDaySlotTemplate",null==e.allDaySlotTemplate?null:e.allDaySlotTemplate.templateRef)("allDayEventTemplate",null==e.allDayEventTemplate?null:e.allDayEventTemplate.templateRef)("eventTemplate",null==e.eventTemplate?null:e.eventTemplate.templateRef)("groupHeaderTemplate",null==e.groupHeaderTemplate?null:e.groupHeaderTemplate.templateRef)("timeSlotTemplate",null==e.timeSlotTemplate?null:e.timeSlotTemplate.templateRef)("minorTimeHeaderTemplate",null==e.minorTimeHeaderTemplate?null:e.minorTimeHeaderTemplate.templateRef)("majorTimeHeaderTemplate",null==e.majorTimeHeaderTemplate?null:e.majorTimeHeaderTemplate.templateRef)("dateHeaderTemplate",null==e.dateHeaderTemplate?null:e.dateHeaderTemplate.templateRef)("selectedDateFormat",e.selectedDateFormat)("selectedShortDateFormat",e.selectedShortDateFormat),s.R7$(),s.Y8G("showWorkHours",e.shouldShowWorkHours)}}function Pnn(i,n){if(1&i){const e=s.RV6();s.nrm(0,"multi-day-view",1),s.j41(1,"div",2),s.bIt("itemClick",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.showWorkHours=!o.shouldShowWorkHours)}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("name",e.name)("allDaySlot",e.viewAllDaySlot)("numberOfDays",7)("getStartDate",e.getStartDate)("eventHeight",e.viewEventHeight)("currentTimeMarker",e.viewCurrentTimeMarker)("highlightOngoingEvents",e.viewHighlightOngoingEvents)("showWorkHours",e.shouldShowWorkHours)("scrollTime",e.viewScrollTime)("startTime",e.viewStartTime)("endTime",e.viewEndTime)("workDayStart",e.viewWorkDayStart)("workDayEnd",e.viewWorkDayEnd)("workWeekStart",e.viewWorkWeekStart)("workWeekEnd",e.viewWorkWeekEnd)("weekStart",e.viewWeekStart)("slotDuration",e.viewSlotDuration)("slotDivisions",e.viewSlotDivisions)("slotFill",e.viewSlotFill)("slotClass",e.viewSlotClass)("eventClass",e.viewEventClass)("eventStyles",e.viewEventStyles)("allDaySlotTemplate",null==e.allDaySlotTemplate?null:e.allDaySlotTemplate.templateRef)("allDayEventTemplate",null==e.allDayEventTemplate?null:e.allDayEventTemplate.templateRef)("eventTemplate",null==e.eventTemplate?null:e.eventTemplate.templateRef)("groupHeaderTemplate",null==e.groupHeaderTemplate?null:e.groupHeaderTemplate.templateRef)("timeSlotTemplate",null==e.timeSlotTemplate?null:e.timeSlotTemplate.templateRef)("minorTimeHeaderTemplate",null==e.minorTimeHeaderTemplate?null:e.minorTimeHeaderTemplate.templateRef)("majorTimeHeaderTemplate",null==e.majorTimeHeaderTemplate?null:e.majorTimeHeaderTemplate.templateRef)("dateHeaderTemplate",null==e.dateHeaderTemplate?null:e.dateHeaderTemplate.templateRef)("selectedDateFormat",e.selectedDateFormat)("selectedShortDateFormat",e.selectedShortDateFormat),s.R7$(),s.Y8G("showWorkHours",e.shouldShowWorkHours)}}function Gnn(i,n){if(1&i){const e=s.RV6();s.nrm(0,"multi-day-view",1),s.j41(1,"div",2),s.bIt("itemClick",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.showWorkHours=!o.shouldShowWorkHours)}),s.k0s()}if(2&i){const e=s.XpG();s.Y8G("allDaySlot",e.viewAllDaySlot)("name",e.name)("numberOfDays",e.numberOfDays)("getStartDate",e.getStartDate)("getNextDate",e.getNextDate)("eventHeight",e.viewEventHeight)("currentTimeMarker",e.viewCurrentTimeMarker)("highlightOngoingEvents",e.viewHighlightOngoingEvents)("showWorkHours",e.shouldShowWorkHours)("scrollTime",e.viewScrollTime)("startTime",e.viewStartTime)("endTime",e.viewEndTime)("workDayStart",e.viewWorkDayStart)("workDayEnd",e.viewWorkDayEnd)("workWeekStart",e.viewWorkWeekStart)("workWeekEnd",e.viewWorkWeekEnd)("slotDuration",e.viewSlotDuration)("slotDivisions",e.viewSlotDivisions)("slotFill",e.viewSlotFill)("slotClass",e.viewSlotClass)("eventClass",e.viewEventClass)("eventStyles",e.viewEventStyles)("allDaySlotTemplate",null==e.allDaySlotTemplate?null:e.allDaySlotTemplate.templateRef)("allDayEventTemplate",null==e.allDayEventTemplate?null:e.allDayEventTemplate.templateRef)("eventTemplate",null==e.eventTemplate?null:e.eventTemplate.templateRef)("groupHeaderTemplate",null==e.groupHeaderTemplate?null:e.groupHeaderTemplate.templateRef)("timeSlotTemplate",null==e.timeSlotTemplate?null:e.timeSlotTemplate.templateRef)("minorTimeHeaderTemplate",null==e.minorTimeHeaderTemplate?null:e.minorTimeHeaderTemplate.templateRef)("majorTimeHeaderTemplate",null==e.majorTimeHeaderTemplate?null:e.majorTimeHeaderTemplate.templateRef)("dateHeaderTemplate",null==e.dateHeaderTemplate?null:e.dateHeaderTemplate.templateRef)("selectedDateFormat",e.selectedDateFormat)("selectedShortDateFormat",e.selectedShortDateFormat),s.R7$(),s.Y8G("showWorkHours",e.shouldShowWorkHours)}}const $in={name:"@progress/kendo-angular-scheduler",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925400,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};class Xin{constructor(n,e,t){this.sender=n,this.selectedDate=e,this.dateRange=t}}class W5e extends vR{constructor(n,e){super(),this.sender=n,this.action=e}}class K5e{constructor(n,e){this.sender=n,Object.assign(this,e)}}class Y5e{constructor(n,e){this.sender=n,Object.assign(this,e)}}class hp{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}const nsn={slotClick:K5e,slotDblClick:K5e,eventClick:Y5e,eventDblClick:Y5e,eventKeydown:class Win{constructor(n,e){this.sender=n,Object.assign(this,e)}},create:class Kin{constructor(n,e){this.sender=n,Object.assign(this,e)}},remove:class Qin extends hp{constructor(n,e){super(),this.sender=n,Object.assign(this,e)}},resizeStart:class tsn extends hp{constructor(n,e){super(),this.sender=n,Object.assign(this,e)}},resize:class esn extends hp{constructor(n,e){super(),this.sender=n,Object.assign(this,e)}},resizeEnd:class Zin extends hp{constructor(n,e){super(),this.sender=n,Object.assign(this,e)}},dragStart:class qin extends hp{constructor(n,e){super(),this.sender=n,Object.assign(this,e)}},drag:class Jin extends hp{constructor(n,e){super(),this.sender=n,Object.assign(this,e)}},dragEnd:class Yin extends hp{constructor(n,e){super(),this.sender=n,Object.assign(this,e)}}};class osn extends hp{constructor(n,e){super(),this.sender=n,Object.assign(this,e)}}class J5e{constructor(n,e){this.sender=n,Object.assign(this,e)}}class rsn extends J5e{}let q5e=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoSchedulerToolbarTemplate",""]]}),i})(),Ez=(()=>{class i{constructor(){this.actionSource=new Ke.B,this.action=this.actionSource.asObservable()}navigate(e){this.actionSource.next(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();class qc{}var Dl=function(i){return i[i.Event=0]="Event",i[i.Occurrence=1]="Occurrence",i[i.Series=2]="Series",i}(Dl||{}),Ig=function(i){return i[i.Edit=0]="Edit",i[i.Remove=1]="Remove",i}(Ig||{}),Q5e=function(i){return i.initDragSelect="initDragSelect",i.dragSelect="dragSelect",i.refreshSlotSelection="refreshSlotSelection",i.dragSelectRelease="dragSelectRelease",i}(Q5e||{});let jle=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoSchedulerAgendaDateTemplate",""]]}),i})(),$le=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoSchedulerAgendaTimeTemplate",""]]}),i})(),G4=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoSchedulerAllDayEventTemplate",""]]}),i})(),yz=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoSchedulerAllDaySlotTemplate",""]]}),i})(),Xle=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoSchedulerDateHeaderTemplate",""]]}),i})(),U4=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoSchedulerEventTemplate",""]]}),i})(),Wle=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoSchedulerGroupHeaderTemplate",""]]}),i})(),Kle=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoSchedulerMajorTimeHeaderTemplate",""]]}),i})(),Yle=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoSchedulerMinorTimeHeaderTemplate",""]]}),i})(),Jle=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoSchedulerMonthDaySlotTemplate",""]]}),i})(),Z5e=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoSchedulerMultiWeekDaySlotTemplate",""]]}),i})(),qle=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoSchedulerTimeSlotTemplate",""]]}),i})(),Oo=(()=>{class i{constructor(){this.actionSource=new Ke.B,this.itemsSource=new An.t([]),this.selectedDateSource=new An.t(null),this.resizeSource=new Ke.B,this.optionsChangeSource=new An.t({}),this.executeSource=new Ke.B,this.action=this.actionSource.asObservable(),this.items=this.itemsSource.asObservable(),this.selectedDate=this.selectedDateSource.asObservable(),this.resize=this.resizeSource.asObservable(),this.optionsChange=this.optionsChangeSource.asObservable(),this.execute=this.executeSource.asObservable()}notifyAction(e){this.actionSource.next(e)}notifyItems(e){this.itemsSource.next(e)}notifySelectedDate(e){this.selectedDateSource.next(e)}notifyResize(){this.resizeSource.next()}notifyOptionsChange(e){this.optionsChangeSource.next(e)}executeMethod(e,t){let o;return this.executeSource.next({name:e,args:t,result:r=>{o=r}}),o}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),io=(()=>{class i{constructor(){this.toggleWorkHours=new Ke.B,this.dateRangeSource=new An.t({start:new Date(0),end:new Date(0),text:"",shortText:""}),this.nextDateSource=new Ke.B,this.navigateSource=new Ke.B,this.viewEventSource=new Ke.B,this.layoutEndSource=new Ke.B,this.optionsChangeSource=new Ke.B,this.slotSelectionStartSource=new Ke.B,this.slotSelectionStartDragSource=new Ke.B,this.slotSelectionStartEndSource=new Ke.B,this.dateRange=this.dateRangeSource.asObservable(),this.nextDate=this.nextDateSource.asObservable(),this.navigate=this.navigateSource.asObservable(),this.viewEvent=this.viewEventSource.asObservable(),this.layoutEnd=this.layoutEndSource.asObservable(),this.optionsChange=this.optionsChangeSource.asObservable(),this.slotSelectionStart=this.slotSelectionStartSource.asObservable(),this.slotSelectionDrag=this.slotSelectionStartDragSource.asObservable(),this.slotSelectionEnd=this.slotSelectionStartEndSource.asObservable()}notifyNextDate(e){this.nextDateSource.next(e)}notifyDateRange(e){this.dateRangeSource.next(e)}notifyLayoutEnd(){this.layoutEndSource.next()}navigateTo(e){this.navigateSource.next(e)}notifyOptionsChange(){this.optionsChangeSource.next(null)}emitEvent(e,t){this.viewEventSource.next({name:e,args:t})}notifySlotSelectionStart(e){this.slotSelectionStartSource.next(e)}notifySlotSelectionDrag(e){this.slotSelectionStartDragSource.next(e)}notifySlotSelectionEnd(e){this.slotSelectionStartEndSource.next(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const lsn=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,F4={};function gr(i){if(F4[i])return F4[i];const n=[];return i.replace(lsn,function(e,t,o,r){n.push(void 0!==t?t:o||r)}),F4[i]=function(e){let t=e;for(let o=0;o<n.length&&t;o++)t=t[n[o]];return t},F4[i]}F4.undefined=()=>{};const csn=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,B4={};B4.undefined=i=>i;const Dz=i=>i.charAt(0).toUpperCase()+i.slice(1),dn=i=>null!=i,zb=i=>"number"==typeof i&&!isNaN(i),iUe=(i,n)=>{if(n)for(let e=0;e<n.length;e++)Zle(i,i.dataItem,n[e].field)};function wz(i,n){const e=[];if(i&&i.resources&&i.resources.length){const t=i.resources;for(let o=0;o<t.length;o++){const r=n.find(a=>a.name===t[o]);r&&e.push(r)}}return e}const gi=(i,n)=>gr(n)(i),uo=(i,n,e)=>function V4(i){if(B4[i])return B4[i];const n=[];return i.replace(csn,function(e,t,o,r){n.push(void 0!==t?t:o||r)}),B4[i]=function(e,t){let o=e;const r=n.length-1;for(let a=0;a<r&&o;a++)o=o[n[a]]=o[n[a]]||{};o[n[r]]=t},B4[i]}(n)(i,e);function Zle(i,n,e){uo(i,e,gi(n,e))}const Oz=function _sn(){if("function"==typeof Symbol&&Symbol.iterator)return Symbol.iterator;const i=Object.getOwnPropertyNames(Map.prototype),n=Map.prototype;for(let e=0;e<i.length;++e){const t=i[e];if("entries"!==t&&"size"!==t&&n[t]===n.entries)return t}}();function tce(i){return Dt(i,"click")}function sUe(i){const e=tce(i),t=e.pipe(TC(250));return e.pipe(function cJt(i){return(0,Ri.N)((n,e)=>{let t=[];return n.subscribe((0,Ai._)(e,o=>t.push(o),()=>{e.next(t),e.complete()})),Wo(i).subscribe((0,Ai._)(e,()=>{const o=t;t=[],e.next(o)},x2.l)),()=>{t=null}})}(t),X(o=>2===o.length),X(o=>o[1].target===o[0].target),(0,V.T)(o=>o[1]))}function nce(i){return i.sort((n,e)=>n.startTime-e.startTime||e.endTime-n.endTime),i}let ice=(()=>{class i{constructor(e){this.ngZone=e,this.changes=new s.bkB,this.changedSource=new Ke.B,this.changed=this.changedSource.asObservable().pipe(J1(0))}endEdit(){this.changes.emit({action:"cancel",formGroup:this.hasNewEvent?this.newEventGroup.group:this.editedEvent.formGroup})}removeEvent(e){this.changes.emit({action:"remove",dataItem:e})}addEvent(e){this.newEventGroup={formGroup:e},this.onChanged()}editEvent(e,t=void 0,o){this.editedEvent={dataItem:e,formGroup:t,mode:o},this.onChanged()}close(){this.newEventGroup=this.editedEvent=null,this.onChanged()}save(){const{dataItem:e,formGroup:t}=this.context;this.changes.emit({action:"save",dataItem:e,formGroup:t,isNew:this.hasNewEvent,mode:this.occurrenceEditMode})}isEditing(){return dn(this.context)}get occurrenceEditMode(){return this.hasNewEvent?Dl.Series:this.editedEvent.mode||Dl.Event}get hasNewEvent(){return dn(this.newEventGroup)}get newEvent(){return this.hasNewEvent?this.newEventGroup.group.value:{}}get context(){return this.hasNewEvent?this.newEventGroup:this.editedEvent}onChanged(){this.ngZone.runOutsideAngular(()=>{this.changedSource.next()})}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(s.SKi))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),oUe=(()=>{class i{constructor(e){this.templateRef=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.C4Q,8))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoSchedulerEditDialogTemplate",""]],inputs:{autoFocusedElement:"autoFocusedElement"}}),i})(),Tz=(()=>{class i{constructor(){this.changes=new s.bkB}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),Mz=(()=>{class i{constructor(){this.focus=new s.bkB,this.focusIn=new s.bkB,this.focusOut=new s.bkB,this.click=new s.bkB,this.keydown=new s.bkB,this.windowBlur=new s.bkB}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),pp=(()=>{class i{constructor(e,t,o,r){this.renderer=e,this.wrapper=t,this.domEvents=o,this.zone=r,this.items=new Set,this.elementMap=new WeakMap,this.subs=new be.yU,this.subs.add(this.domEvents.focus.subscribe(a=>this.onFocusIn(a))),this.subs.add(this.domEvents.focusOut.subscribe(()=>this.onFocusOut()))}get activeElement(){if(this.activeItem)return this.activeItem.element}get focusableItems(){return this.items}ngOnDestroy(){this.subs.unsubscribe()}register(e){this.activeItem||(this.activeItem=e,e.toggle(!0));const t=Array.from(this.focusableItems),o=t.map(r=>r.containerType).lastIndexOf("content")+1;"content"===e.containerType&&o>0?(t.splice(o,0,e),this.items=new Set(t)):this.items.add(e),this.elementMap.set(e.element.nativeElement,e),this.toggleWrapper()}unregister(e){this.items.delete(e),this.elementMap.delete(e.element.nativeElement),e===this.activeItem&&this.activateNext(),this.toggleWrapper()}focus(){this.activeItem?this.activeItem.focus():this.focusContent()}focusContent(){const e=Array.from(this.focusableItems),t=this.activeItem?.containerType,o="content"===t?this.activeItem:e.find(l=>"content"===l.containerType),r="toolbar"===t?this.activeItem:e.find(l=>"toolbar"===l.containerType),a=o||r;a.focus(),this.activeItem=a}focusToolbar(){const t=Array.from(this.focusableItems).find(o=>"toolbar"===o.containerType);t&&t.focus(),this.activeItem=t}focusNext(e){const t=this.activeItem;return this.activateNext(e),this.activeItem&&this.activeItem.focus(),this.activeItem!==t}focusByIndex(e){const t=Array.from(this.items.values())[e];t&&(this.activate(t),this.focus(),this.zone.onStable.pipe(We(1)).subscribe(()=>{Array.from(this.items.values())}))}activate(e){this.items.forEach(t=>{t.toggle(t===e)}),this.activeItem=e}activateNext(e){const t=this.findNext(e);this.activeItem=t,this.activeItem?.focus()}findNext(e){const{offset:t,nowrap:o}={nowrap:!1,offset:1,...e},r=Array.from(this.items.values()).filter(c=>c.canFocus()).sort((c,u)=>c.focusIndex-u.focusIndex);if(0===r.length)return null;if(!this.activeItem)return o?null:r[0];let l=r.indexOf(this.activeItem)+t;return o?l=Math.max(0,Math.min(r.length-1,l)):(l%=r.length,l<0&&(l=r.length-1)),r[l]}toggleWrapper(){this.wrapper&&this.renderer.setAttribute(this.wrapper.nativeElement,"tabindex",this.activeItem?"-1":"0")}onFocusIn(e){const t=this.elementMap.get(e.target);!t||t===this.focusedItem||(this.focusedItem&&this.focusedItem.toggleFocus(!1),this.activate(t),t.toggleFocus(!0),this.focusedItem=t)}onFocusOut(){this.focusedItem&&(this.focusedItem.toggleFocus(!1),this.focusedItem=null)}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(s.sFG,8),s.KVO(s.aKT,8),s.KVO(Mz),s.KVO(s.SKi))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),H4=(()=>{class i{constructor(e,t,o,r,a){this.dialogService=e,this.localization=t,this.changeDetector=o,this.focusService=r,this.viewState=a,this.isOpen=!1}openRemoveConfirmationDialog(){const e=this.dialogService.open({title:this.textFor("deleteDialogTitle"),content:this.textFor("deleteConfirmation"),actions:[{text:this.textFor("cancel"),value:!1},{text:this.textFor("destroy"),value:!0}],appendTo:this.container,autoFocusedElement:"button:nth-child(2)"});return this.isOpen=!0,this.changeDetector.markForCheck(),e.result.pipe((0,V.T)(t=>(this.isOpen=!1,t instanceof xC?(this.focusService.focus(),!1):(this.viewState.layoutEnd.pipe(We(1)).subscribe(()=>this.focusService.focus()),t.value))))}openRecurringConfirmationDialog(e){const t=this.dialogService.open({actions:[{text:this.textFor(e===Ig.Edit?"editOccurrence":"deleteOccurrence"),value:Dl.Occurrence},{text:this.textFor(e===Ig.Edit?"editSeries":"deleteSeries"),value:Dl.Series}],appendTo:this.container,autoFocusedElement:"button:nth-child(1)",content:this.textFor(e===Ig.Edit?"editRecurringConfirmation":"deleteRecurringConfirmation"),title:this.textFor(e===Ig.Edit?"editRecurringDialogTitle":"deleteRecurringDialogTitle")});return this.isOpen=!0,this.changeDetector.markForCheck(),t.result.pipe((0,V.T)(o=>(this.isOpen=!1,this.focusService.focus(),o instanceof xC?void 0:o.value)))}textFor(e){return this.localization.get(e)}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(a_),s.KVO(z),s.KVO(s.gRc),s.KVO(pp),s.KVO(io))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),Iz=(()=>{class i extends z{constructor(e,t,o){super(e,t,o)}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(He),s.KVO(Cu,8),s.KVO(kc,8))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();const sce={id:"id",start:"start",startTimezone:"startTimezone",end:"end",endTimezone:"endTimezone",isAllDay:"isAllDay",title:"title",description:"description",recurrenceRule:"recurrenceRule",recurrenceId:"recurrenceId",recurrenceExceptions:"recurrenceExceptions"};let fp=(()=>{class i{constructor(){this.createElement=new s.bkB,this.exportClick=new s.bkB,this.done=new s.bkB,this.elementReady=new s.bkB}save(){if(Te(this.elementReady)){if(Te(this.createElement))this.createElement.emit();else if((0,s.naY)())throw new Error("No active Scheduler view to export.")}else if((0,s.naY)())throw new Error("Creating PDF requires including the PDFModule and adding the <kendo-scheduler-pdf> component.")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})();class gsn extends hp{}let oce=(()=>{class i{constructor(e,t){this.element=e,this.renderer=t,this.hostClasses=!0}get display(){return this.loading||this.force?"block":"none"}toggle(e){this.force=e,this.renderer.setStyle(this.element.nativeElement,"display",this.display)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoSchedulerLoading",""]],hostVars:4,hostBindings:function(e,t){2&e&&(s.xc7("display",t.display),s.AVh("k-loading-mask",t.hostClasses))},inputs:{loading:"loading"},attrs:qQt,decls:2,vars:0,consts:[[1,"k-loading-image"],[1,"k-loading-color"]],template:function(e,t){1&e&&s.nrm(0,"div",0)(1,"div",1)},encapsulation:2}),i})(),Mv=(()=>{class i{constructor(e,t,o){this.element=e,this.renderer=t,this.focusService=o,this.focusIndex=0,this.containerType="content",this.toggle(!1)}get visible(){return"none"!==this.element.nativeElement.style.display}get enabled(){return!this.element.nativeElement.disabled}ngAfterViewChecked(){const e=this.element.nativeElement;!e.closest(".k-scheduler-views-wrapper")||!ne()||(Sme(e)?this.focusService.register(this):this.focusService.unregister(this))}ngOnInit(){this.focusService.register(this)}ngOnDestroy(){this.focusService.unregister(this)}toggle(e){e!==this.active&&(this.renderer.setAttribute(this.element.nativeElement,"tabIndex",e?"0":"-1"),this.active=e)}canFocus(){return this.visible&&this.enabled}focus(){this.element.nativeElement.focus()}toggleFocus(e){const t=this.element.nativeElement,o=t.matches(".k-button-group .k-button")?"k-focus":"k-selected";e?this.renderer.addClass(t,o):this.renderer.removeClass(t,o),t.matches(".k-scheduler-agendaview .k-scheduler-content .k-selected")&&(t.closest(".k-scheduler-agendaview").querySelector('[aria-selected="true"]')?.removeAttribute("aria-selected"),this.renderer.setAttribute(t,"aria-selected",e.toString()))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(pp))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoSchedulerFocusIndex",""]],inputs:{focusIndex:[s.Mj6.None,"kendoSchedulerFocusIndex","focusIndex"],containerType:"containerType"}}),i})();const rUe=i=>String(i).trim().split(" "),mp=(i,n)=>{const e=rUe(n);return!!rUe(i.className).find(t=>e.indexOf(t)>=0)},Hb=(i,n,e)=>{for(;i&&i!==e&&!n(i);)i=i.parentNode;if(i!==e)return i},aUe=i=>{const n=i.wheelDeltaY;return i.wheelDelta&&(void 0===n||n)?i.wheelDelta:i.detail&&i.axis===i.VERTICAL_AXIS?10*-i.detail:0};function rce(i,n){const e="vertical"===n?"Height":"Width";return i[`scroll${e}`]>i[`client${e}`]&&nJ()>0}const Sr=(i,n,e,t)=>i<e&&n>t||e<=i&&i<t||e<n&&n<=t&&i<n,jb=(i,n,e)=>n.getTime()<=i.getTime()&&i.getTime()<=e.getTime(),lUe=({start:i,end:n})=>{const e=i.stripTime(),t=n.stripTime();return t.getTime()!==n.getTime()||e.getTime()===t.getTime()?t.addDays(1):t};function yO(i){const n=new Date(1980,0,1,0,0,0);return i&&n.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),n}const DO=(i,n)=>{const e=new Date(i.getTime());return e.setUTCDate(e.getUTCDate()+n),e};function j4(i,n){return new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()))}function Lr(i){return new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()))}function wO(i){return new Date(Date.UTC(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()))}function $b(i){return new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()))}function _p(i,n){return new Date(i.getFullYear(),i.getMonth(),i.getDate(),n.getHours(),n.getMinutes())}function cUe(i,n){let e,t;return n.end<=i.end?(t=i.end,e=n.start):(e=i.start,t=n.end),{start:e,end:t}}function dUe(i,n){const e=n.data;for(let t=0;t<e.length;t++)if(gi(e[t],n.valueField)===i)return t;return-1}function uUe(i,n){const e=dUe(i,n);return e>=0?n.data[e]:{}}function ysn(i){const n=[];for(let e=0;e<i.length;e++){const t=Object.assign({},i[e]);t.resources=t.resources.slice(0),n.push(t)}return n}function hUe(i,n){const e=gi(i,n.field);return Array.isArray(e)?function Esn(i,n){return i.map(e=>uUe(e,n))}(e,n):uUe(e,n)}function pUe(i,{taskResources:n,hasGroups:e,spans:t,allResources:o=[]}){let r=[];for(let a=0;a<n.length;a++){const l=n[a];if(!l.data){r=[{leafIdx:0,resources:[]}];continue}const c=o.indexOf(l);let u=gi(i,l.field);Array.isArray(u)||(u=[u]);const f=[];for(let _=0;_<u.length;_++){const S=dUe(u[_],l);if(S<0){if(e)continue;return[{leafIdx:0,resources:[]}]}const v=l.data[S];if(0!==a||!e&&0!==_){if(e){let b=r;u.length>1&&(b=ysn(r),f.push(...b));for(let D=0;D<b.length;D++)b[D].leafIdx+=S*t[a],b[D].resources[c]=v}else if(_>0)for(let b=0;b<r.length;b++)r[b].resources[c].push(v)}else{const b=[];b[c]=l.multiple&&!e?[v]:v,r.push({leafIdx:e?S*t[a]:0,color:gi(v,l.colorField),resources:b})}}f.length&&(r=f)}return function Dsn(i,n,e){for(let t=0;t<n.length;t++){const o=n[t];for(let r=0;r<e.length;r++){const a=e[r];!o.resources[r]&&a.data&&(o.resources[r]=hUe(i,a))}}}(i,r,o),r}function mUe(i,n){if(void 0!==n.rowIndex)return n.rowIndex;for(let e=0;e<i.length;e++)if(!i[e])return e;return i.length}const lm=(i,n,e)=>i.left<=n&&n<=i.left+i.width&&i.top<=e&&e<=i.top+i.height,SUe=(i,n)=>i.left<=n&&n<=i.left+i.width,rh=i=>`${i}px`,Xb=i=>{if(!i)return null;const n=i.getBoundingClientRect(),e=document.documentElement;return{top:n.top+(window.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0),width:n.width,height:n.height}},vUe=i=>"KENDO-RESIZE-SENSOR"===i.nodeName||mp(i,"k-loading-mask"),CUe=(i,n)=>{for(const e in n)n.hasOwnProperty(e)&&(i.style[e]=rh(n[e]))};function bUe(i,n,e){const t=i.get(n);return t&&t.value||e}const Msn=()=>!1,Isn={caretAltLeftIcon:tl,caretAltRightIcon:Jo,calendarIcon:lD};let EUe=(()=>{class i{constructor(e,t,o,r,a){this.popupService=e,this.toolbarService=t,this.localization=o,this.cd=r,this.viewContext=a,this.hostClass=!0,this.activeView="month",this.bottomView="month",this.dateRangeText={short:"",long:"",current:""},this.isMouseDown=!1,this.subs=this.localization.changes.subscribe(()=>{r.markForCheck()})}set calendar(e){e&&e.focus()}get todayText(){return this.localization.get("today")}get calendarTodayText(){return this.localization.get("calendarToday")}get nextText(){return this.localization.get("nextTitle")}get previousText(){return this.localization.get("previousTitle")}get ctx(){return this.toolbarService.context}svgIcon(e){return Isn[e]}onBlur(){this.isMouseDown||this.closePopup()}onMouseDown(){this.isMouseDown=!0}ngOnInit(){ne()&&(this.subs.add(this.ctx.dateRange.subscribe(e=>{this.dateRangeText.short=e?.shortText,this.dateRangeText.long=e?.text,this.setDateRangeText()})),this.subs.add(this.viewContext.resize.subscribe(()=>{this.setDateRangeText()})))}ngOnDestroy(){this.subs.unsubscribe(),this.closePopup()}toggleSelectedDate(e,t){if(this.popupRef)this.closePopup();else{const o={anchor:e,content:t};this.localization.rtl&&(o.popupClass="k-rtl"),this.popupRef=this.popupService.open(o)}return this.isMouseDown=!1,!1}selectDate(e){this.closePopup(),this.toolbarService.navigate({type:"select-date",date:e})}prevClick(){return this.toolbarService.navigate({type:"prev"}),!1}nextClick(){return this.toolbarService.navigate({type:"next"}),!1}todayClick(){return this.toolbarService.navigate({type:"today"}),!1}closePopup(){this.popupRef&&(this.popupRef.close(),this.popupRef=null)}setDateRangeText(){const e=window.matchMedia("(min-width: 1024px)").matches;this.dateRangeText.current=e?this.dateRangeText.long:this.dateRangeText.short,this.cd.detectChanges()}get arrowIcons(){return this.localization.rtl?["caret-alt-right","caret-alt-left"]:["caret-alt-left","caret-alt-right"]}get arrowSVGIcons(){return this.localization.rtl?["caretAltRightIcon","caretAltLeftIcon"]:["caretAltLeftIcon","caretAltRightIcon"]}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Ts),s.rXU(Ez),s.rXU(z),s.rXU(s.gRc),s.rXU(Oo))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoSchedulerToolbarNavigation",""]],viewQuery:function(e,t){if(1&e&&s.GBs(QQt,5),2&e){let o;s.mGM(o=s.lsd())&&(t.calendar=o.first)}},hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-toolbar-group",t.hostClass)},inputs:{min:"min",max:"max",activeView:"activeView",bottomView:"bottomView"},features:[s.Jv_([Ts])],attrs:ZQt,decls:11,vars:17,consts:[["anchor",""],["template",""],["calendar",""],["role","group",1,"k-scheduler-navigation","k-button-group","k-button-group-solid"],["kendoButton","","containerType","toolbar",1,"k-nav-today",3,"click","kendoSchedulerFocusIndex"],["kendoButton","","containerType","toolbar",1,"k-nav-prev",3,"click","icon","svgIcon","kendoSchedulerFocusIndex"],["kendoButton","","type","button","containerType","toolbar",1,"k-nav-next",3,"click","icon","svgIcon","kendoSchedulerFocusIndex"],["kendoButton","","type","button","icon","calendar","fillMode","flat","role","button","containerType","toolbar",1,"k-nav-current",3,"mousedown","mouseup","keydown.enter","keydown.alt.arrowdown","svgIcon","kendoSchedulerFocusIndex"],[3,"blur","keydown.escape","valueChange","activeView","bottomView","value","min","max"],[3,"today"]],template:function(e,t){if(1&e){const o=s.RV6();s.j41(0,"span",3)(1,"button",4),s.bIt("click",function(){return s.eBV(o),s.Njj(t.todayClick())}),s.EFF(2),s.k0s(),s.j41(3,"button",5),s.bIt("click",function(){return s.eBV(o),s.Njj(t.prevClick())}),s.k0s(),s.j41(4,"button",6),s.bIt("click",function(){return s.eBV(o),s.Njj(t.nextClick())}),s.k0s()(),s.j41(5,"button",7,0),s.bIt("mousedown",function(){return s.eBV(o),s.Njj(t.onMouseDown())})("mouseup",function(){s.eBV(o);const a=s.sdS(6),l=s.sdS(10);return s.Njj(t.toggleSelectedDate({nativeElement:a.element},l))})("keydown.enter",function(){s.eBV(o);const a=s.sdS(6),l=s.sdS(10);return s.Njj(t.toggleSelectedDate({nativeElement:a.element},l))})("keydown.alt.arrowdown",function(){s.eBV(o);const a=s.sdS(6),l=s.sdS(10);return s.Njj(t.toggleSelectedDate({nativeElement:a.element},l))}),s.j41(7,"span"),s.EFF(8),s.k0s()(),s.DNE(9,eZt,4,8,"ng-template",null,1,s.C5r)}2&e&&(s.R7$(),s.Y8G("kendoSchedulerFocusIndex",0),s.BMQ("title",t.todayText),s.R7$(),s.SpI(" ",t.todayText," "),s.R7$(),s.Y8G("icon",t.arrowIcons[0])("svgIcon",t.svgIcon(t.arrowSVGIcons[0]))("kendoSchedulerFocusIndex",0),s.BMQ("title",t.previousText)("aria-label",t.previousText),s.R7$(),s.Y8G("icon",t.arrowIcons[1])("svgIcon",t.svgIcon(t.arrowSVGIcons[1]))("kendoSchedulerFocusIndex",0),s.BMQ("title",t.nextText)("aria-label",t.nextText),s.R7$(),s.Y8G("svgIcon",t.svgIcon("calendarIcon"))("kendoSchedulerFocusIndex",0),s.BMQ("aria-live","polite"),s.R7$(3),s.JRh(null==t.dateRangeText?null:t.dateRangeText.current))},dependencies:[Ht,sw,HQ,Mv,Cp],encapsulation:2,changeDetection:0}),i})(),yUe=(()=>{class i{constructor(e,t){this.service=e,this.localization=t,this.responsiveBreakpoint=1024}get ctx(){return this.service.context}get selectView(){return this.localization.get("selectView")}ngOnDestroy(){this.detachDomEvents&&this.detachDomEvents()}select(e){this.ctx.selectedView!==e&&this.service.navigate({type:"view-change",view:e})}onChange(e){const t=this.ctx.views.find(o=>o.name===e.target.value);t&&this.select(t)}isSelected(e){return this.ctx.selectedView===e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Ez),s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoSchedulerToolbarViewSelector",""]],inputs:{toolbarWidth:"toolbarWidth",responsiveBreakpoint:"responsiveBreakpoint"},attrs:tZt,decls:2,vars:2,consts:[["class","k-views-dropdown k-picker-md k-rounded-md k-picker-solid k-dropdownlist k-picker","containerType","toolbar",3,"kendoSchedulerFocusIndex","change",4,"ngIf"],["class","k-toolbar-button-group k-scheduler-views k-button-group k-button-group-solid","role","group",4,"ngIf"],["containerType","toolbar",1,"k-views-dropdown","k-picker-md","k-rounded-md","k-picker-solid","k-dropdownlist","k-picker",3,"change","kendoSchedulerFocusIndex"],[3,"selected","value",4,"ngFor","ngForOf"],[3,"selected","value"],["role","group",1,"k-toolbar-button-group","k-scheduler-views","k-button-group","k-button-group-solid"],["kendoButton","","type","button","containerType","toolbar",3,"selected","kendoSchedulerFocusIndex","click",4,"ngFor","ngForOf"],["kendoButton","","type","button","containerType","toolbar",3,"click","selected","kendoSchedulerFocusIndex"],[1,"k-button-text"]],template:function(e,t){1&e&&s.DNE(0,iZt,2,3,"select",0)(1,oZt,2,1,"span",1),2&e&&(s.Y8G("ngIf",(null==t.ctx.views?null:t.ctx.views.length)>1&&t.toolbarWidth<=t.responsiveBreakpoint),s.R7$(),s.Y8G("ngIf",t.toolbarWidth>t.responsiveBreakpoint))},dependencies:[Ht,q,Mv,ut],encapsulation:2}),i})(),Rsn=(()=>{class i{constructor(e,t,o){this.service=e,this.element=t,this.zone=o,this.hostClasses=!0,this.toolbarRole="toolbar",this.navigate=new s.bkB,this.toolbarWidthChange=new s.bkB,this.templateContext={},this.subs=new be.yU,this.subs.add(e.action.subscribe(r=>this.navigate.next(r)))}get activeView(){return"year"===this.service.context.selectedView?.name?"decade":"month"}get bottomView(){return"year"===this.service.context.selectedView?.name?"decade":"month"}ngOnInit(){this.subs.add(this.selectedDate.subscribe(e=>this.templateContext.selectedDate=e)),this.subs.add(this.dateRange.subscribe(e=>this.templateContext.dateRange=e)),this.resizeHandler()}ngOnChanges(){this.service.context={dateRange:this.dateRange,selectedDate:this.selectedDate,views:this.views,selectedView:this.selectedView},Object.assign(this.templateContext,{views:this.views,selectedView:this.selectedView})}ngOnDestroy(){this.subs.unsubscribe()}resizeHandler(){const e=this.element.nativeElement;this.zone.run(()=>this.toolbarWidth=e.offsetWidth),this.toolbarWidthChange.emit(this.toolbarWidth)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Ez),s.rXU(s.aKT),s.rXU(s.SKi))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-scheduler-toolbar"]],hostVars:7,hostBindings:function(e,t){2&e&&(s.BMQ("role",t.toolbarRole),s.AVh("k-scheduler-toolbar",t.hostClasses)("k-toolbar",t.hostClasses)("k-toolbar-md",t.hostClasses))},inputs:{selectedView:"selectedView",views:"views",dateRange:"dateRange",selectedDate:"selectedDate",template:"template",min:"min",max:"max"},outputs:{navigate:"navigate",toolbarWidthChange:"toolbarWidthChange"},features:[s.OA$],decls:4,vars:4,consts:[["defaultTemplate",""],[4,"ngIf","ngIfElse"],[3,"resize"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["kendoSchedulerToolbarNavigation","",3,"min","max","activeView","bottomView"],[1,"k-spacer"],["kendoSchedulerToolbarViewSelector","",3,"toolbarWidth"]],template:function(e,t){if(1&e){const o=s.RV6();s.DNE(0,aZt,1,2,null,1)(1,lZt,3,5,"ng-template",null,0,s.C5r),s.j41(3,"kendo-resize-sensor",2),s.bIt("resize",function(){return s.eBV(o),s.Njj(t.resizeHandler())}),s.k0s()}if(2&e){const o=s.sdS(2);s.Y8G("ngIf",t.template)("ngIfElse",o),s.R7$(3),s.Aen("display: contents;")}},dependencies:[EUe,yUe,hs,q,qe],encapsulation:2}),i})(),DUe=(()=>{class i{constructor(){this.valueChange=new s.bkB,this.getField=gi,this.onTouchedCallback=e=>{},this.onChangeCallback=e=>{}}writeValue(e){this.resourceValue=e}getResourceStyle(e){return{"background-color":gi(e,this.resource.colorField),"margin-right":dn(gi(e,this.resource.valueField))?"8px":"4px"}}onResourceValueChange(e){this.resourceValue=e,this.emitChange(this.resourceValue)}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}emitChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=s.FsC({type:i,inputs:{resource:"resource"},outputs:{valueChange:"valueChange"}}),i})();const Asn={multi:!0,provide:zn,useExisting:(0,s.Rfq)(()=>Rz)};let Rz=(()=>{class i extends DUe{getTagStyle(e){return{"background-color":e[this.resource.colorField]}}focus(){this.resourceMultiSelect.focus()}}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-multiple-resource-editor"]],viewQuery:function(e,t){if(1&e&&s.GBs(cZt,7),2&e){let o;s.mGM(o=s.lsd())&&(t.resourceMultiSelect=o.first)}},features:[s.Jv_([Asn]),s.Vt3],decls:4,vars:5,consts:[["resourceMultiSelect",""],[3,"valueChange","data","textField","valueField","valuePrimitive","value"],["kendoDropDownListItemTemplate",""],["kendoMultiSelectTagTemplate",""],["class","k-scheduler-mark",3,"ngStyle",4,"ngIf"],[1,"k-scheduler-mark",3,"ngStyle"]],template:function(e,t){if(1&e){const o=s.RV6();s.j41(0,"kendo-multiselect",1,0),s.bIt("valueChange",function(a){return s.eBV(o),s.Njj(t.onResourceValueChange(a))}),s.DNE(2,uZt,2,2,"ng-template",2)(3,pZt,2,2,"ng-template",3),s.k0s()}2&e&&s.Y8G("data",t.resource.data)("textField",t.resource.textField)("valueField",t.resource.valueField)("valuePrimitive",!0)("value",t.resourceValue)},dependencies:[l0,Na,q,Wn,eR],encapsulation:2}),i})();const xsn={multi:!0,provide:zn,useExisting:(0,s.Rfq)(()=>Az)};let Az=(()=>{class i extends DUe{focus(){this.resourceDropDown.focus()}}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-single-resource-editor"]],viewQuery:function(e,t){if(1&e&&s.GBs(fZt,7),2&e){let o;s.mGM(o=s.lsd())&&(t.resourceDropDown=o.first)}},features:[s.Jv_([xsn]),s.Vt3],decls:3,vars:5,consts:[["resourceDropDown",""],[3,"valueChange","data","textField","valueField","valuePrimitive","value"],["kendoDropDownListItemTemplate",""],["class","k-scheduler-mark",3,"ngStyle",4,"ngIf"],[1,"k-scheduler-mark",3,"ngStyle"]],template:function(e,t){if(1&e){const o=s.RV6();s.j41(0,"kendo-dropdownlist",1,0),s.bIt("valueChange",function(a){return s.eBV(o),s.Njj(t.onResourceValueChange(a))}),s.DNE(2,_Zt,2,2,"ng-template",2),s.k0s()}2&e&&s.Y8G("data",t.resource.data)("textField",t.resource.textField)("valueField",t.resource.valueField)("valuePrimitive",!0)("value",t.resourceValue)},dependencies:[Ws,Na,q,Wn],encapsulation:2}),i})();var Qc=function(i){return i[i.None=0]="None",i[i.AltKey=1]="AltKey",i[i.CtrlKey=2]="CtrlKey",i[i.ShiftKey=4]="ShiftKey",i[i.MetaKey=8]="MetaKey",i}(Qc||{});function $4(i,n){return i.altKey===((n&Qc.AltKey)===Qc.AltKey)&&i.ctrlKey===((n&Qc.CtrlKey)===Qc.CtrlKey)&&i.shiftKey===((n&Qc.ShiftKey)===Qc.ShiftKey)&&i.metaKey===((n&Qc.MetaKey)===Qc.MetaKey)}function Iv(i){return $4(i,Qc.None)}const Nsn={multi:!0,provide:zn,useExisting:(0,s.Rfq)(()=>dce)};let dce=(()=>{class i{constructor(e,t){this.injector=e,this.localization=t,this.valueChange=new s.bkB,this.onTouchedCallback=o=>{},this.onChangeCallback=o=>{}}get focusableId(){return this.isAllDay?this.datePicker?.focusableId:this.dateTimePicker?.focusableId}get formControl(){return this.injector.get(Ci,null)?.control||null}textFor(e){return this.localization.get(e)}writeValue(e){e instanceof Date&&(this.date=e)}onValueChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}focus(){this.datePicker?this.datePicker.focus():this.dateTimePicker.focus()}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.zZn),s.rXU(Iz))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-scheduler-datetime-picker"]],viewQuery:function(e,t){if(1&e&&(s.GBs(gZt,5),s.GBs(SZt,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.datePicker=o.first),s.mGM(o=s.lsd())&&(t.dateTimePicker=o.first)}},inputs:{isAllDay:"isAllDay"},outputs:{valueChange:"valueChange"},features:[s.Jv_([Nsn])],decls:2,vars:2,consts:[["datepicker",""],["datetimepicker",""],[3,"value","formControl","valueChange",4,"ngIf"],[3,"valueChange","value","formControl"],[3,"today","toggle","parentViewButtonTitle"],[3,"toggle","today","accept","acceptLabel","cancelLabel","cancel","now","nowLabel","dateTab","dateTabLabel","timeTab","timeTabLabel","parentViewButtonTitle"]],template:function(e,t){1&e&&s.DNE(0,vZt,3,5,"kendo-datepicker",2)(1,CZt,3,15,"kendo-datetimepicker",2),2&e&&(s.Y8G("ngIf",t.isAllDay),s.R7$(),s.Y8G("ngIf",!t.isAllDay))},dependencies:[Ph,jU,tZ,y0e,q,Di,GC],encapsulation:2}),i})();const Lsn={multi:!0,provide:zn,useExisting:(0,s.Rfq)(()=>uce)};let uce=(()=>{class i{constructor(e){this.injector=e,this.width=260,this.valueChange=new s.bkB,this.onTouchedCallback=t=>{},this.onChangeCallback=t=>{},this.tzNames=Object.keys(fle.zones),this.tzSource=this.tzNames.slice()}get focusableId(){return this.tzComboBox?.focusableId||this.tzComboBoxControl?.focusableId}get formControl(){return this.injector.get(Ci,null)?.control||null}onTimeZoneChange(e){this.tz=e,this.onChangeCallback(this.tz),this.valueChange.emit(e)}onTimeZoneFilterChange(e){this.tzSource=this.tzNames.filter(t=>-1!==t.toLowerCase().indexOf(e.toLowerCase()))}writeValue(e){"string"==typeof e&&this.tzNames.indexOf(e)>=0&&(this.tz=e)}focus(){this.tzComboBox?this.tzComboBox.focus():this.tzComboBoxControl.focus()}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.zZn))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-timezone-editor"]],viewQuery:function(e,t){if(1&e&&(s.GBs(bZt,7),s.GBs(EZt,7)),2&e){let o;s.mGM(o=s.lsd())&&(t.tzComboBox=o.first),s.mGM(o=s.lsd())&&(t.tzComboBoxControl=o.first)}},inputs:{width:"width"},outputs:{valueChange:"valueChange"},features:[s.Jv_([Lsn])],decls:2,vars:2,consts:[["tzcombobox",""],["tzcomboboxControl",""],[3,"width","allowCustom","data","filterable","suggest","value","filterChange","valueChange",4,"ngIf"],[3,"width","allowCustom","data","filterable","suggest","value","formControl","filterChange","valueChange",4,"ngIf"],[3,"filterChange","valueChange","allowCustom","data","filterable","suggest","value"],[3,"filterChange","valueChange","allowCustom","data","filterable","suggest","value","formControl"]],template:function(e,t){1&e&&s.DNE(0,yZt,2,7,"kendo-combobox",2)(1,DZt,2,8,"kendo-combobox",3),2&e&&(s.Y8G("ngIf",!t.formControl),s.R7$(),s.Y8G("ngIf",t.formControl))},dependencies:[ca,q,Di,GC],encapsulation:2}),i})(),Psn=0;const Gsn=["first","second","third","fourth","last"],Usn=["never","daily","weekly","monthly","yearly"],Fsn=[{day:0,offset:0},{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0},{day:6,offset:0}],Bsn=[{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0}],Vsn=[{day:0,offset:0},{day:6,offset:0}];let Rg=(()=>{class i{constructor(e,t){this.intl=e,this.localization=t,this.change=new s.bkB,this.endRuleChange=new s.bkB,this.frequencyChange=new s.bkB,this.repeatOnRuleChange=new s.bkB}init(e="",t,o,r){this.start=t,this.timezone=o,this.weekStart=r,this.rrule=B5e({recurrenceRule:e,weekStart:r})}getUniqueId(){return Psn++}get frequencies(){return Usn.map(e=>({value:e,text:this.localization.get("frequencies"+Dz(e))}))}get frequency(){return dn(this.rrule)&&!(i=>(i=>null==i)(i)||i.trim&&0===i.trim().length)(this.rrule.freq)?this.rrule.freq:"never"}setFrequency(e){this.rrule={},this.rrule.freq=e,this.rrule.interval=1,"weekly"===e&&(this.rrule.byWeekDay=[{day:this.start.getDay(),offset:0}]),("monthly"===e||"yearly"===e)&&(this.rrule.byMonthDay=[this.start.getDate()]),"yearly"===e&&(this.rrule.byMonth=[this.start.getMonth()+1]),this.frequencyChange.emit(),this.onChange()}set interval(e){this.rrule.interval=e,this.onChange()}set count(e){this.rrule.count=e,this.onChange()}set until(e){this.rrule.until=Gi.fromLocalDate(e,this.timezone),this.onChange()}get until(){if(dn(this.rrule.until))return or(this.rrule.until)}setWeekDays(e){this.rrule.byWeekDay=e,this.onChange()}set monthDays(e){this.rrule.byMonthDay=e,this.onChange()}set positions(e){this.rrule.bySetPosition=e,this.onChange()}setMonths(e){this.rrule.byMonth=e,this.onChange()}get months(){return this.intl.dateFormatNames({type:"months",nameType:"wide"}).map((e,t)=>({text:e,value:t+1}))}get weekDays(){const e=this.weekStart,t=this.intl.dateFormatNames({type:"days",nameType:"abbreviated"}).map((o,r)=>({text:o,value:r}));return t.slice(e).concat(t.slice(0,e))}get extendedWeekDays(){const e=this.weekStart,t=this.intl.dateFormatNames({type:"days",nameType:"wide"}).map((a,l)=>({text:a,value:l})),o=t.slice(e).concat(t.slice(0,e));return[{text:this.localization.get("weekdaysDay"),value:"day"},{text:this.localization.get("weekdaysWeekday"),value:"weekday"},{text:this.localization.get("weekdaysWeekendday"),value:"weekend"}].concat(o)}get offsetPositions(){const e=[1,2,3,4,-1];return Gsn.map((t,o)=>({text:this.localization.get("offsetPositions"+Dz(t)),value:e[o]}))}get endRule(){return dn(this.rrule.count)?"count":dn(this.rrule.until)?"until":"never"}set endRule(e){"count"===e?this.rrule.until=null:"until"===e?this.rrule.count=null:(this.rrule.count=null,this.rrule.until=null),this.endRuleChange.emit(e),this.onChange()}get repeatOnRule(){return dn(this.rrule.byWeekDay)?"weekday":dn(this.rrule.byMonthDay)?"monthday":null}set repeatOnRule(e){"monthday"===e?(this.rrule.byWeekDay=null,this.rrule.bySetPosition=null):this.rrule.byMonthDay=null,this.repeatOnRuleChange.emit(e),this.onChange()}onChange(){this.change.emit("never"===this.frequency?null:((i,n)=>{if(!i||!i.freq)return null;let e=i.weekStart,t="FREQ="+i.freq.toUpperCase(),o="",r="",a="",l=i.until;return i.interval>1&&(t+=";INTERVAL="+i.interval),i.count&&(t+=";COUNT="+i.count),l&&(t+=";UNTIL="+T5e(l.toTimezone("Etc/UTC"),"yyyyMMddTHHmmss")+"Z"),i.byMonth&&(t+=";BYMONTH="+i.byMonth),i.byWeekNumber&&(t+=";BYWEEKNO="+i.byWeekNumber),i.byYearDay&&(t+=";BYYEARDAY="+i.byYearDay),i.byMonthDay&&(t+=";BYMONTHDAY="+i.byMonthDay),i.byWeekDay&&(t+=";BYDAY="+(i=>{const n=i.length,e=[];let t;for(let o=0;o<n;o++){let r=i[o];"string"==typeof r?t=r:(t=""+V5e[r.day],r.offset&&(t=r.offset+t)),e.push(t)}return e.toString()})(i.byWeekDay)),i.byHour&&(t+=";BYHOUR="+i.byHour),i.byMinute&&(t+=";BYMINUTE="+i.byMinute),i.bySecond&&(t+=";BYSECOND="+i.bySecond),i.bySetPosition&&(t+=";BYSETPOS="+i.bySetPosition),void 0!==e&&(t+=";WKST="+V5e[e]),i.start&&(r="DTSTART"+Ple([i.start])),i.end&&(a="DTEND"+Ple([i.end])),i.exceptionDates&&(o="EXDATE"+Ple(i.exceptionDates)),(r||a||o)&&(t=r+a+o+"RRULE:"+t),t})(this.rrule))}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(xt.Bs),s.KVO(z))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),wUe=(()=>{class i extends z{constructor(e,t,o,r){super(e,t,o),this.schedulerLocalization=r}get(e){return this.schedulerLocalization?this.schedulerLocalization.get("recurrenceEditor"+Dz(e)):super.get(e)}}return i.\u0275fac=function(e){return new(e||i)(s.KVO(He),s.KVO(Cu,8),s.KVO(kc,8),s.KVO(Iz,8))},i.\u0275prov=s.jDH({token:i,factory:i.\u0275fac}),i})(),kUe=(()=>{class i{constructor(e,t){this.recurrence=e,this.localization=t}ngOnInit(){this.frequencies=this.recurrence.frequencies}get selected(){return this.recurrence.frequency}onClick(e){e.value!==this.selected&&this.recurrence.setFrequency(e.value)}textFor(e){return this.localization.get(e)}onFrequencyClick(){const e=this.weekDayButtons.toArray().find(t=>t.selected);e&&e.focus()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Rg),s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-recurrence-frequency-editor"]],viewQuery:function(e,t){if(1&e&&s.GBs(Ht,5),2&e){let o;s.mGM(o=s.lsd())&&(t.weekDayButtons=o)}},decls:5,vars:2,consts:[[1,"k-form-field"],["labelCssClass","k-form-label",3,"click","text"],[1,"k-form-field-wrap"],["width","100%","selection","single",1,"k-scheduler-recurrence-repeat","k-button-group-solid"],["kendoButton","",3,"togglable","selected","click",4,"ngFor","ngForOf"],["kendoButton","",3,"click","togglable","selected"]],template:function(e,t){1&e&&(s.j41(0,"div",0)(1,"kendo-label",1),s.bIt("click",function(){return t.onFrequencyClick()}),s.k0s(),s.j41(2,"div",2)(3,"kendo-buttongroup",3),s.DNE(4,wZt,2,3,"button",4),s.k0s()()()),2&e&&(s.R7$(),s.Y8G("text",t.textFor("repeat")),s.R7$(3),s.Y8G("ngForOf",t.frequencies))},dependencies:[pf,SJ,Ht,ut],encapsulation:2}),i})(),OUe=(()=>{class i{constructor(e,t){this.recurrence=e,this.localization=t,this.cssClass=!0,this.numericOptions={min:1,format:"#",autoCorrect:!0,step:1,spinners:!0},this.intervalValue=this.recurrence.rrule.interval||1}set userNumericOptions(e){this.numericOptions={...this.numericOptions,...e}}get currentFreq(){return this.recurrence.frequency}onIntervalChange(e){dn(e)&&(this.recurrence.interval=e)}onIntervalBlur(){dn(this.intervalValue)||(this.recurrence.interval=this.intervalValue=1)}textForRepeatEvery(){switch(this.currentFreq){case"daily":return this.textFor("dailyRepeatEvery");case"weekly":return this.textFor("weeklyRepeatEvery");case"monthly":return this.textFor("monthlyRepeatEvery");case"yearly":return this.textFor("yearlyRepeatEvery")}}textForFrequency(){switch(this.currentFreq){case"daily":return this.textFor("dailyInterval");case"weekly":return this.textFor("weeklyInterval");case"monthly":return this.textFor("monthlyInterval");case"yearly":return this.textFor("yearlyInterval")}}textFor(e){return this.localization.get(e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Rg),s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-recurrence-interval-editor"]],hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-scheduler-recurrence-interval-editor",t.cssClass)},inputs:{userNumericOptions:"userNumericOptions"},decls:8,vars:16,consts:[["intervalNumeric",""],[1,"k-form-field"],["labelCssClass","k-form-label",3,"click","for","text"],[1,"k-form-field-wrap"],[1,"k-recur-interval",3,"valueChange","blur","min","max","decimals","format","autoCorrect","readonly","selectOnFocus","spinners","step","title","value"],[3,"increment","decrement"]],template:function(e,t){if(1&e){const o=s.RV6();s.j41(0,"div",1)(1,"kendo-label",2),s.bIt("click",function(){s.eBV(o);const a=s.sdS(4);return s.Njj(a.focus())}),s.k0s(),s.j41(2,"div",3)(3,"kendo-numerictextbox",4,0),s.mxI("valueChange",function(a){return s.eBV(o),s.DH7(t.intervalValue,a)||(t.intervalValue=a),s.Njj(a)}),s.bIt("blur",function(){return s.eBV(o),s.Njj(t.onIntervalBlur())})("valueChange",function(a){return s.eBV(o),s.Njj(t.onIntervalChange(a))}),s.nrm(5,"kendo-numerictextbox-messages",5),s.k0s(),s.j41(6,"span"),s.EFF(7),s.k0s()()()}if(2&e){const o=s.sdS(4);s.R7$(),s.Y8G("for",o)("text",t.textForRepeatEvery()),s.R7$(2),s.Y8G("min",t.numericOptions.min)("max",t.numericOptions.max)("decimals",0)("format",t.numericOptions.format)("autoCorrect",t.numericOptions.autoCorrect)("readonly",t.numericOptions.readonly)("selectOnFocus",t.numericOptions.selectOnFocus)("spinners",t.numericOptions.spinners)("step",t.numericOptions.step)("title",t.numericOptions.title),s.R50("value",t.intervalValue),s.R7$(2),s.Y8G("increment",t.textFor("numericIncrement"))("decrement",t.textFor("numericDecrement")),s.R7$(2),s.SpI("\xa0",t.textForFrequency(),"")}},dependencies:[pf,Dd,zI],encapsulation:2}),i})(),TUe=(()=>{class i{constructor(e,t){this.recurrence=e,this.localization=t,this.selected=[],this.weekDays=this.recurrence.weekDays,this.setSelectedDays()}setSelectedDays(){for(let e=0;e<7;e++)this.selected[e]=!1;dn(this.rrule.byWeekDay)&&this.rrule.byWeekDay.forEach(e=>{this.selected[e.day]=!0})}onSelectedChange(e,t){this.selected[t]=e,this.recurrence.setWeekDays(this.serializeToWeekDayRuleArray(this.selected))}isSelected(e){return this.selected[e.value]}serializeToWeekDayRuleArray(e){const t=[];return e.forEach((o,r)=>{o&&t.push({day:r,offset:0})}),t.length>0?t:null}get rrule(){return this.recurrence.rrule}capitalize(e){return Dz(e)}textFor(e){return this.localization.get(e)}onWeeklyRepeatOnClick(){const e=this.weekDayButtons.toArray().find(t=>t.selected);e&&e.focus()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Rg),s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-recurrence-weekday-rule-editor"]],viewQuery:function(e,t){if(1&e&&s.GBs(Ht,5),2&e){let o;s.mGM(o=s.lsd())&&(t.weekDayButtons=o)}},decls:5,vars:2,consts:[[1,"k-form-field"],["labelCssClass","k-form-label",3,"click","text"],[1,"k-form-field-wrap"],["width","100%","selection","multiple",1,"k-button-group-solid"],["kendoButton","",3,"toggleable","selected","selectedChange",4,"ngFor","ngForOf"],["kendoButton","",3,"selectedChange","toggleable","selected"]],template:function(e,t){1&e&&(s.j41(0,"div",0)(1,"kendo-label",1),s.bIt("click",function(){return t.onWeeklyRepeatOnClick()}),s.k0s(),s.j41(2,"div",2)(3,"kendo-buttongroup",3),s.DNE(4,kZt,2,3,"button",4),s.k0s()()()),2&e&&(s.R7$(),s.Y8G("text",t.textFor("weeklyRepeatOn")),s.R7$(3),s.Y8G("ngForOf",t.weekDays))},dependencies:[pf,SJ,Ht,ut],encapsulation:2}),i})(),hce=(()=>{class i{constructor(e,t,o,r){this.el=e,this.renderer=t,this.recurrence=o,this.changeDetector=r,this.type="radio",this.radioClass=!0,this.radioSizeClass=!0,this.destroyClick=this.renderer.listen(this.elem,"click",this.onClick.bind(this))}set repeatOnRule(e){const t=e.split("-");this._repeatOnRule=t[0],this._uniqueId=t[1]}ngOnInit(){this.renderer.setAttribute(this.elem,"id",`k-repeaton-${this._repeatOnRule}-${this._uniqueId}`),this.renderer.setAttribute(this.elem,"name",`day-${this._uniqueId}`)}ngAfterContentChecked(){this.setCheckedState()}ngOnDestroy(){this.destroyClick&&this.destroyClick()}onClick(){this.elem.checked&&(this.recurrence.repeatOnRule=this._repeatOnRule,this.changeDetector.markForCheck())}setCheckedState(){this.renderer.setProperty(this.elem,"checked",this._repeatOnRule===this.recurrence.repeatOnRule)}get elem(){return this.el.nativeElement}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(Rg),s.rXU(s.gRc))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoRecurrenceRepeatOnRadioButton",""]],hostVars:5,hostBindings:function(e,t){2&e&&(s.BMQ("type",t.type),s.AVh("k-radio",t.radioClass)("k-radio-md",t.radioSizeClass))},inputs:{repeatOnRule:[s.Mj6.None,"kendoRecurrenceRepeatOnRadioButton","repeatOnRule"]}}),i})(),MUe=(()=>{class i{constructor(e,t){this.recurrence=e,this.localization=t,this.uniqueId=this.recurrence.getUniqueId(),this.numericOptions={min:1,max:31,format:"#",autoCorrect:!0,step:1,spinners:!0},this.setInitialValues(),this.subscribeEventHandlers()}set userNumericOptions(e){this.numericOptions={...this.numericOptions,...e}}setInitialValues(){this.extendedWeekDays=this.recurrence.extendedWeekDays,this.offsetPositions=this.recurrence.offsetPositions,this.currentOffset=this.defaultOffset,this.currentWeekDay=this.defaultWeekDay,"yearly"===this.currentFreq&&(this.months=this.recurrence.months,this.currentMonthMonthDay=this.currentMonthWeekDay=this.recurrence.rrule.byMonth[0])}subscribeEventHandlers(){this.subs=this.recurrence.repeatOnRuleChange.subscribe(this.onRepeatOnRuleChange.bind(this)),this.subs.add(this.recurrence.frequencyChange.subscribe(this.onFrequencyChange.bind(this)))}onRepeatOnRuleChange(e){"monthday"===e?(this.recurrence.rrule.byMonthDay=[this.monthDay],"yearly"===this.currentFreq&&(this.recurrence.rrule.byMonth=[this.currentMonthMonthDay])):"weekday"===e&&("string"==typeof this.weekDay?(this.recurrence.rrule.bySetPosition=[this.offset],this.recurrence.rrule.byWeekDay=this.weekDayRuleFromString(this.weekDay)):this.recurrence.rrule.byWeekDay=[{day:this.weekDay,offset:this.offset}],"yearly"===this.currentFreq&&(this.recurrence.rrule.byMonth=[this.currentMonthWeekDay]))}onFrequencyChange(){this.setInitialValues()}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}get monthDay(){const e=this.recurrence.rrule;return dn(e.byMonthDay)&&e.byMonthDay.length>0?e.byMonthDay[0]:dn(this.currentMonthDay)?this.currentMonthDay:this.recurrence.start.getDate()}get weekDay(){const e=this.recurrence.rrule;if(dn(e.byWeekDay))switch(e.byWeekDay.length){case 7:return"day";case 5:return"weekday";case 2:return"weekend";case 1:return e.byWeekDay[0].day}else if(dn(this.currentWeekDay))return this.currentWeekDay;return this.defaultWeekDay}get offset(){const e=this.recurrence.rrule;if(dn(e.byWeekDay))switch(e.byWeekDay.length){case 7:case 5:case 2:return e.bySetPosition[0];case 1:return e.byWeekDay[0].offset}else if(dn(this.currentOffset))return this.currentOffset;return this.defaultOffset}onMonthChange(e,t){"monthday"===t?this.currentMonthMonthDay=e:this.currentMonthWeekDay=e,this.recurrence.setMonths([e])}onMonthDayChange(e){this.currentMonthDay=e,this.recurrence.monthDays=[e]}onOffsetPositionChange(e){const t=this.recurrence.rrule;if(dn(t.byWeekDay))switch(t.byWeekDay.length){case 7:case 5:case 2:this.recurrence.positions=[e];break;case 1:t.byWeekDay[0].offset=e,this.recurrence.onChange()}this.currentOffset=e}onWeekDayChange(e){let t;"string"==typeof e?(t=this.weekDayRuleFromString(e),this.recurrence.positions=[this.offset]):t=[{day:e,offset:this.offset}],this.currentWeekDay=e,this.recurrence.setWeekDays(t)}isDisabled(e){return this.recurrence.repeatOnRule!==e}get currentFreq(){return this.recurrence.frequency}get defaultOffset(){return 1}get defaultWeekDay(){return this.recurrence.start.getDay()}weekDayRuleFromString(e){switch(e){case"day":return Fsn;case"weekday":return Bsn;case"weekend":return Vsn}return null}textForRepeatOn(){switch(this.currentFreq){case"monthly":return this.textFor("monthlyRepeatOn");case"yearly":return this.textFor("yearlyRepeatOn")}}textFor(e){return this.localization.get(e)}onRepeatOnLabelClick(){const e=this.repeatOnRadioButtons.toArray().find(t=>t.elem.checked);e&&e.elem.focus()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Rg),s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-recurrence-monthly-yearly-editor"]],viewQuery:function(e,t){if(1&e&&s.GBs(hce,5),2&e){let o;s.mGM(o=s.lsd())&&(t.repeatOnRadioButtons=o)}},inputs:{userNumericOptions:"userNumericOptions"},decls:19,vars:40,consts:[[1,"k-form-field"],["labelCssClass","k-form-label",3,"click","text"],[1,"k-form-field-wrap"],[1,"k-radio-list"],[1,"k-radio-list-item"],[1,"k-radio-wrap"],[3,"kendoRecurrenceRepeatOnRadioButton"],[1,"k-radio-label",3,"labelClass","for"],[3,"ngIf"],[1,"k-recur-monthday",3,"valueChange","min","max","decimals","format","autoCorrect","readonly","selectOnFocus","spinners","step","title","value","disabled"],[3,"increment","decrement"],["textField","text","valueField","value",3,"valueChange","data","value","valuePrimitive","disabled"]],template:function(e,t){1&e&&(s.j41(0,"div",0)(1,"kendo-label",1),s.bIt("click",function(){return t.onRepeatOnLabelClick()}),s.k0s(),s.j41(2,"div",2)(3,"ul",3)(4,"li",4)(5,"span",5),s.nrm(6,"input",6),s.k0s(),s.j41(7,"label",7),s.DNE(8,OZt,1,1,"ng-template",8),s.k0s(),s.DNE(9,TZt,1,8,"ng-template",8),s.j41(10,"kendo-numerictextbox",9),s.bIt("valueChange",function(r){return t.onMonthDayChange(r)}),s.nrm(11,"kendo-numerictextbox-messages",10),s.k0s()(),s.j41(12,"li",4)(13,"span",5),s.nrm(14,"input",6),s.k0s(),s.nrm(15,"label",7),s.j41(16,"kendo-dropdownlist",11),s.bIt("valueChange",function(r){return t.onOffsetPositionChange(r)}),s.k0s(),s.j41(17,"kendo-dropdownlist",11),s.bIt("valueChange",function(r){return t.onWeekDayChange(r)}),s.k0s(),s.DNE(18,MZt,3,7,"ng-template",8),s.k0s()()()()),2&e&&(s.R7$(),s.Y8G("text",t.textForRepeatOn()),s.R7$(5),s.Mz_("kendoRecurrenceRepeatOnRadioButton","monthday-",t.uniqueId,""),s.R7$(),s.Mz_("for","k-repeaton-monthday-",t.uniqueId,""),s.Y8G("labelClass",!1),s.R7$(),s.Y8G("ngIf","monthly"===t.currentFreq),s.R7$(),s.Y8G("ngIf","yearly"===t.currentFreq),s.R7$(),s.Y8G("min",t.numericOptions.min)("max",t.numericOptions.max)("decimals",0)("format",t.numericOptions.format)("autoCorrect",t.numericOptions.autoCorrect)("readonly",t.numericOptions.readonly)("selectOnFocus",t.numericOptions.selectOnFocus)("spinners",t.numericOptions.spinners)("step",t.numericOptions.step)("title",t.numericOptions.title)("value",t.monthDay)("disabled",t.isDisabled("monthday")),s.R7$(),s.Y8G("increment",t.textFor("numericIncrement"))("decrement",t.textFor("numericDecrement")),s.R7$(3),s.Mz_("kendoRecurrenceRepeatOnRadioButton","weekday-",t.uniqueId,""),s.R7$(),s.Mz_("for","k-repeaton-weekday-",t.uniqueId,""),s.Y8G("labelClass",!1),s.R7$(),s.xc7("margin","0 .4ex 0 1ex"),s.Y8G("data",t.offsetPositions)("value",t.offset)("valuePrimitive",!0)("disabled",t.isDisabled("weekday")),s.R7$(),s.xc7("margin","0 .4ex 0 1ex"),s.Y8G("data",t.extendedWeekDays)("value",t.weekDay)("valuePrimitive",!0)("disabled",t.isDisabled("weekday")),s.R7$(),s.Y8G("ngIf","yearly"===t.currentFreq))},dependencies:[pf,Ws,Dd,zI,hce,d0,q],encapsulation:2}),i})(),pce=(()=>{class i{constructor(e,t,o,r){this.el=e,this.renderer=t,this.recurrence=o,this.changeDetector=r,this.type="radio",this.radioClass=!0,this.radioSizeClass=!0,this.destroyClick=this.renderer.listen(this.elem,"click",this.onClick.bind(this))}ngOnInit(){this.endRule=this.endRuleId.split("-")[2],this.renderer.setAttribute(this.elem,"id",this.endRuleId),this.renderer.setAttribute(this.elem,"name",`end-${this.endRuleId.split("-").pop()}`)}ngAfterContentChecked(){this.setCheckedState()}ngOnDestroy(){this.destroyClick&&this.destroyClick()}onClick(){this.elem.checked&&(this.recurrence.endRule=this.endRule,this.changeDetector.markForCheck())}setCheckedState(){this.renderer.setProperty(this.elem,"checked",this.endRule===this.recurrence.endRule)}get elem(){return this.el.nativeElement}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(Rg),s.rXU(s.gRc))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoRecurrenceEndRuleRadioButton",""]],hostVars:5,hostBindings:function(e,t){2&e&&(s.BMQ("type",t.type),s.AVh("k-radio",t.radioClass)("k-radio-md",t.radioSizeClass))},inputs:{endRuleId:[s.Mj6.None,"kendoRecurrenceEndRuleRadioButton","endRuleId"]}}),i})(),IUe=(()=>{class i{constructor(e,t){this.recurrence=e,this.localization=t,this.cssClass=!0,this.numericOptions={min:1,format:"#",autoCorrect:!0,step:1,spinners:!0},this.datePickerOptions={activeView:"month",bottomView:"month",topView:"century",disabledDatesValidation:!0,navigation:!0,format:"d"},this.uniqueId=this.recurrence.getUniqueId(),this.setInitialValues(),this.subscribeChanges()}set userNumericOptions(e){this.numericOptions={...this.numericOptions,...e}}set userDatePickerOptions(e){this.datePickerOptions={...this.datePickerOptions,...e}}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}setEndRule(e){"count"===e?this.recurrence.rrule.count=this.countValue:"until"===e&&(this.recurrence.until=this.untilValue)}get rrule(){return this.recurrence.rrule}get isCountDisabled(){return"count"!==this.recurrence.endRule}get isUntilDisabled(){return"until"!==this.recurrence.endRule}onCountChange(e){dn(e)&&(this.recurrence.count=e)}onCountBlur(){dn(this.countValue)||(this.recurrence.count=this.countValue=1)}onUntilChange(e){dn(e)&&(this.recurrence.until=this.createUntil(e))}onUntilBlur(){dn(this.untilValue)||(this.recurrence.until=this.untilValue=this.createUntil(this.recurrence.start))}textFor(e){return this.localization.get(e)}onEndLabelClick(){const e=this.endRuleRadioButtons.toArray().find(t=>t.elem.checked);e&&e.elem.focus()}setInitialValues(){this.countValue=this.rrule.count||1;const e=this.recurrence.until,t=this.recurrence.start;this.untilValue=dn(e)?e:this.createUntil(t)}subscribeChanges(){this.subscriptions=this.recurrence.endRuleChange.subscribe(e=>{this.setEndRule(e)}),this.subscriptions.add(this.recurrence.frequencyChange.subscribe(()=>{this.setInitialValues()}))}createUntil(e){const t=Lr(e);return t.setUTCDate(t.getUTCDate()+1),Gi.fromUTCDate(t,this.recurrence.timezone).toLocalDate()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Rg),s.rXU(z))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-recurrence-end-rule-editor"]],viewQuery:function(e,t){if(1&e&&s.GBs(pce,5),2&e){let o;s.mGM(o=s.lsd())&&(t.endRuleRadioButtons=o)}},hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-scheduler-recurrence-end-rule-editor",t.cssClass)},inputs:{userNumericOptions:"userNumericOptions",userDatePickerOptions:"userDatePickerOptions"},decls:26,vars:60,consts:[["afterOccurances",""],[1,"k-form-field"],["labelCssClass","k-form-label",3,"click","text"],[1,"k-form-field-wrap"],[1,"k-radio-list"],[1,"k-radio-list-item"],[1,"k-radio-wrap"],[3,"kendoRecurrenceEndRuleRadioButton"],[1,"k-radio-label",3,"labelClass","for"],[1,"k-recur-count",3,"valueChange","blur","autoCorrect","decimals","disabled","format","min","max","readonly","selectOnFocus","spinners","step","title","value"],[3,"increment","decrement"],[1,"k-recur-until",3,"valueChange","blur","disabled","activeView","bottomView","disabledDatesValidation","focusedDate","format","formatPlaceholder","max","min","navigation","placeholder","readOnlyInput","readonly","title","topView","weekNumber","disabledDates","popupSettings","value"],[3,"today","toggle","parentViewButtonTitle"]],template:function(e,t){if(1&e){const o=s.RV6();s.j41(0,"div",1)(1,"kendo-label",2),s.bIt("click",function(){return s.eBV(o),s.Njj(t.onEndLabelClick())}),s.k0s(),s.j41(2,"div",3)(3,"ul",4)(4,"li",5)(5,"span",6),s.nrm(6,"input",7),s.k0s(),s.j41(7,"label",8),s.EFF(8),s.k0s()(),s.j41(9,"li",5)(10,"span",6),s.nrm(11,"input",7),s.k0s(),s.j41(12,"label",8),s.EFF(13),s.k0s(),s.j41(14,"kendo-numerictextbox",9,0),s.mxI("valueChange",function(a){return s.eBV(o),s.DH7(t.countValue,a)||(t.countValue=a),s.Njj(a)}),s.bIt("blur",function(){return s.eBV(o),s.Njj(t.onCountBlur())})("valueChange",function(a){return s.eBV(o),s.Njj(t.onCountChange(a))}),s.nrm(16,"kendo-numerictextbox-messages",10),s.k0s(),s.j41(17,"span"),s.EFF(18),s.k0s()(),s.j41(19,"li",5)(20,"span",6),s.nrm(21,"input",7),s.k0s(),s.j41(22,"label",8),s.EFF(23),s.k0s(),s.j41(24,"kendo-datepicker",11),s.mxI("valueChange",function(a){return s.eBV(o),s.DH7(t.untilValue,a)||(t.untilValue=a),s.Njj(a)}),s.bIt("blur",function(){return s.eBV(o),s.Njj(t.onUntilBlur())})("valueChange",function(a){return s.eBV(o),s.Njj(t.onUntilChange(a))}),s.nrm(25,"kendo-datepicker-messages",12),s.k0s()()()()()}2&e&&(s.R7$(),s.Y8G("text",t.textFor("endLabel")),s.R7$(5),s.Mz_("kendoRecurrenceEndRuleRadioButton","k-endrule-never-",t.uniqueId,""),s.R7$(),s.Mz_("for","k-endrule-never-",t.uniqueId,""),s.Y8G("labelClass",!1),s.R7$(),s.JRh(t.textFor("endNever")),s.R7$(3),s.Mz_("kendoRecurrenceEndRuleRadioButton","k-endrule-count-",t.uniqueId,""),s.R7$(),s.Mz_("for","k-endrule-count-",t.uniqueId,""),s.Y8G("labelClass",!1),s.R7$(),s.JRh(t.textFor("endAfter")),s.R7$(),s.xc7("width",70,"px"),s.Y8G("autoCorrect",t.numericOptions.autoCorrect)("decimals",0)("disabled",t.isCountDisabled)("format",t.numericOptions.format)("min",t.numericOptions.min)("max",t.numericOptions.max)("readonly",t.numericOptions.readonly)("selectOnFocus",t.numericOptions.selectOnFocus)("spinners",t.numericOptions.spinners)("step",t.numericOptions.step)("title",t.numericOptions.title),s.R50("value",t.countValue),s.R7$(2),s.Y8G("increment",t.textFor("numericIncrement"))("decrement",t.textFor("numericDecrement")),s.R7$(2),s.JRh(t.textFor("endOccurrence")),s.R7$(3),s.Mz_("kendoRecurrenceEndRuleRadioButton","k-endrule-until-",t.uniqueId,""),s.R7$(),s.Mz_("for","k-endrule-until-",t.uniqueId,""),s.Y8G("labelClass",!1),s.R7$(),s.JRh(t.textFor("endOn")),s.R7$(),s.xc7("width",150,"px"),s.Y8G("disabled",t.isUntilDisabled)("activeView",t.datePickerOptions.activeView)("bottomView",t.datePickerOptions.bottomView)("disabledDatesValidation",t.datePickerOptions.disabledDatesValidation)("focusedDate",t.datePickerOptions.focusedDate)("format",t.datePickerOptions.format)("formatPlaceholder",t.datePickerOptions.formatPlaceHolder)("max",t.datePickerOptions.max)("min",t.datePickerOptions.min)("navigation",t.datePickerOptions.navigation)("placeholder",t.datePickerOptions.placeholder)("readOnlyInput",t.datePickerOptions.readOnlyInput)("readonly",t.datePickerOptions.readonly)("title",t.datePickerOptions.title)("topView",t.datePickerOptions.topView)("weekNumber",t.datePickerOptions.weekNumber)("disabledDates",t.datePickerOptions.disabledDates)("popupSettings",t.datePickerOptions.popupSettings),s.R50("value",t.untilValue),s.R7$(),s.Y8G("today",t.textFor("dateInputsToday"))("toggle",t.textFor("dateInputsToggle"))("parentViewButtonTitle",t.textFor("dateInputsParentViewButton")))},dependencies:[pf,Dd,zI,Ph,jU,pce,d0],encapsulation:2}),i})(),xz=(()=>{class i extends yi{}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275dir=s.FsC({type:i,inputs:{repeat:"repeat",dailyInterval:"dailyInterval",dailyRepeatEvery:"dailyRepeatEvery",weeklyInterval:"weeklyInterval",weeklyRepeatEvery:"weeklyRepeatEvery",weeklyRepeatOn:"weeklyRepeatOn",monthlyDay:"monthlyDay",monthlyInterval:"monthlyInterval",monthlyRepeatEvery:"monthlyRepeatEvery",monthlyRepeatOn:"monthlyRepeatOn",yearlyOf:"yearlyOf",yearlyRepeatEvery:"yearlyRepeatEvery",yearlyRepeatOn:"yearlyRepeatOn",yearlyInterval:"yearlyInterval",frequenciesDaily:"frequenciesDaily",frequenciesMonthly:"frequenciesMonthly",frequenciesNever:"frequenciesNever",frequenciesWeekly:"frequenciesWeekly",frequenciesYearly:"frequenciesYearly",offsetPositionsFirst:"offsetPositionsFirst",offsetPositionsSecond:"offsetPositionsSecond",offsetPositionsThird:"offsetPositionsThird",offsetPositionsFourth:"offsetPositionsFourth",offsetPositionsLast:"offsetPositionsLast",weekdaysDay:"weekdaysDay",weekdaysWeekday:"weekdaysWeekday",weekdaysWeekendday:"weekdaysWeekendday",endAfter:"endAfter",endOccurrence:"endOccurrence",endLabel:"endLabel",endNever:"endNever",endOn:"endOn",numericIncrement:"numericIncrement",numericDecrement:"numericDecrement",dateInputsToday:"dateInputsToday",dateInputsToggle:"dateInputsToggle",dateInputsParentViewButton:"dateInputsParentViewButton"},features:[s.Vt3]}),i})(),RUe=(()=>{class i extends xz{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoRecurrenceEditorLocalizedMessages",""]],features:[s.Jv_([{provide:xz,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})();const zsn={multi:!0,provide:zn,useExisting:(0,s.Rfq)(()=>fce)};let fce=(()=>{class i{constructor(e,t){this.recurrenceService=e,this.intl=t,this.cssClass=!0,this.timezone="Etc/UTC",this.valueChange=new s.bkB,this.onTouchedCallback=o=>{},this.onChangeCallback=o=>{},this.weekStart=this.intl.firstDay(),this.subscriptions=this.recurrenceService.change.subscribe(o=>{this.emitChange(o)})}set start(e){this._start=e}get start(){return dn(this._start)?this._start:En(new Date)}get currentFreq(){return this.recurrenceService.frequency}ngOnInit(){this.recurrenceService.init("",this.start,this.timezone,this.weekStart)}ngOnChanges(e){wt("start",e)&&(this.recurrenceService.start=this.start)}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}writeValue(e){this.recurrenceService.init("string"==typeof e?e:"",this.start,this.timezone,this.weekStart)}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}emitChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Rg),s.rXU(xt.Bs))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-recurrence-editor"]],hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-recurrence-editor",t.cssClass)},inputs:{start:"start",timezone:"timezone",weekStart:"weekStart",repeatEveryOptions:"repeatEveryOptions",endAfterOptions:"endAfterOptions",repeatOnOptions:"repeatOnOptions",endOnOptions:"endOnOptions"},outputs:{valueChange:"valueChange"},exportAs:["kendoRecurrenceEditor"],features:[s.Jv_([wUe,{provide:z,useExisting:wUe},{provide:He,useValue:"kendo.recurrenceeditor"},zsn,Rg]),s.OA$],decls:7,vars:4,consts:()=>{let n,e,t,o,r,a,l,c,u,f,_,S,v,b,D,k,O,I,x,P,L,H,j,J,te,ce,oe,Le,ue,ye,ie,ee,ae,Se,ve,Me,Lt;return n="Ripeti",e="giorno(i)",t="Ripeti ogni:",o="settimana(e)",r="Ripeti ogni:",a="Ripeti quando:",l="Giorno",c="mese(i)",u="Ripeti ogni:",f="Repeti quando:",_="di",S="Ripeti ogni:",v="Ripeti quando:",b="anno(i)",D="Ogni giorno",k="Ogni mese",O="Mai",I="Ogni settimana",x="Ogni anno",P="First",L="secondo",H="terzo",j="quarto",J="ultimo",te="giorno",ce="giorno della settimana",oe="giorno finesettimana",Le="Dopo",ue="Occorrenza(e)",ye="Fine:",ie="Mai",ee="Il",ae="Increase value",Se="Decrease value",ve="Today",Me="Toggle popup",Lt="Navigate to parent view",[["kendoRecurrenceEditorLocalizedMessages","","repeat",n,"dailyInterval",e,"dailyRepeatEvery",t,"weeklyInterval",o,"weeklyRepeatEvery",r,"weeklyRepeatOn",a,"monthlyDay",l,"monthlyInterval",c,"monthlyRepeatEvery",u,"monthlyRepeatOn",f,"yearlyOf",_,"yearlyRepeatEvery",S,"yearlyRepeatOn",v,"yearlyInterval",b,"frequenciesDaily",D,"frequenciesMonthly",k,"frequenciesNever",O,"frequenciesWeekly",I,"frequenciesYearly",x,"offsetPositionsFirst",P,"offsetPositionsSecond",L,"offsetPositionsThird",H,"offsetPositionsFourth",j,"offsetPositionsLast",J,"weekdaysDay",te,"weekdaysWeekday",ce,"weekdaysWeekendday",oe,"endAfter",Le,"endOccurrence",ue,"endLabel",ye,"endNever",ie,"endOn",ee,"numericIncrement",ae,"numericDecrement",Se,"dateInputsToday",ve,"dateInputsToggle",Me,"dateInputsParentViewButton",Lt],[1,"k-recur-view"],[3,"userNumericOptions",4,"ngIf"],[4,"ngIf"],[3,"userNumericOptions","userDatePickerOptions",4,"ngIf"],[3,"userNumericOptions"],[3,"userNumericOptions","userDatePickerOptions"]]},template:function(e,t){1&e&&(s.eu8(0,0),s.nrm(1,"kendo-recurrence-frequency-editor"),s.j41(2,"div",1),s.DNE(3,IZt,1,1,"kendo-recurrence-interval-editor",2)(4,RZt,1,0,"kendo-recurrence-weekday-rule-editor",3)(5,AZt,1,1,"kendo-recurrence-monthly-yearly-editor",2)(6,xZt,1,2,"kendo-recurrence-end-rule-editor",4),s.k0s()),2&e&&(s.R7$(3),s.Y8G("ngIf","never"!==t.currentFreq),s.R7$(),s.Y8G("ngIf","weekly"===t.currentFreq),s.R7$(),s.Y8G("ngIf","monthly"===t.currentFreq||"yearly"===t.currentFreq),s.R7$(),s.Y8G("ngIf","never"!==t.currentFreq))},dependencies:[kUe,OUe,TUe,MUe,IUe,RUe,q],encapsulation:2}),i})(),AUe=(()=>{class i{constructor(e,t,o,r,a,l){this.ngZone=e,this.editService=t,this.localization=o,this.changeDetector=r,this.element=a,this.focusService=l,this.resources=[],this.timezone="Etc/UTC",this.setTimeZone=!1,this.setSeparateStartEndTimeZones=!1,this.saveIcon=bC,this.cancelIcon=ahe,this.subs=this.editService.changed.subscribe(()=>{this.ngZone.run(()=>{this.onChange()})}),this.subs.add(Dt(this.element.nativeElement,"keydown").pipe(X(()=>this.isActive)).subscribe(c=>{c.keyCode===G.Escape&&this.reset(),c.keyCode===G.Enter&&($4(c,Qc.CtrlKey)||$4(c,Qc.MetaKey))&&this.onSave(c),c.stopPropagation()}))}get autoFocusedElement(){return this.editTemplate?this.editTemplate.autoFocusedElement:".k-form-field input"}get isEditingSeries(){return this.editMode===Dl.Series&&!!this.formGroup.get(this.fields.recurrenceRule)}get eventTimezone(){return bUe(this.formGroup,this.fields.startTimezone,this.timezone)}get endTimezone(){return bUe(this.formGroup,this.fields.endTimezone,this.eventTimezone)}onChange(){if(this.changeDetector.markForCheck(),this.editService.hasNewEvent)this.editMode=Dl.Series,this.formGroup=this.editService.context.formGroup,this.isNew=!0,this.applyLocalTimezone();else{if(!this.editService.isEditing())return void this.reset();{const{dataItem:e,mode:t}=this.editService.context;this.formGroup=this.editService.context.formGroup,this.isNew=!1,this.editedEvent=e,this.editMode=dn(t)?t:Dl.Series,this.applyLocalTimezone()}}this.editTemplate||(this.addTimeZoneCheckboxesToFormGroup(),this.subscribeToFormGroupChanges()),dn(this.formGroup)&&(this.recurrenceStart=this.formGroup.get(this.fields.start).value),this.isActive=!0}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}onCancel(e){e.preventDefault(),this.onClose(),this.changeDetector.markForCheck()}onSave(e){e.preventDefault(),this.applyTimezone(),this.editService.save(),this.changeDetector.markForCheck()}onClose(){this.editService.endEdit(),this.changeDetector.markForCheck(),this.focusService.focus()}get hasAllDay(){return!!this.formGroup.get(this.fields.isAllDay)}get hasStartTimeZone(){return!!this.formGroup.get(this.fields.startTimezone)}get isStartTimeZoneVisible(){return this.formGroup&&this.formGroup.get("startTimezoneCheckbox").value}get hasEndTimeZone(){return!!this.formGroup.get(this.fields.endTimezone)}get isEndTimeZoneVisible(){return this.formGroup&&this.formGroup.get("endTimezoneCheckbox").value}getFormValue(e){if(e)return this.formGroup.get(e)}textFor(e){return this.localization.get(e)}onResourceClick(e){const o=(e.multiple?this.multipleResourceEditors:this.singleResourceEditors).filter(r=>r.resource.field===e.field).pop();o&&o.focus()}getControl(e){return this.formGroup.get(e)}reset(){this.isActive=!1,this.setTimeZone=!1,this.setSeparateStartEndTimeZones=!1,this.removeTimeZoneCheckboxesFromFormGroup(),this.focusService.focus()}addTimeZoneCheckboxesToFormGroup(){if(dn(this.formGroup)){const e=this.fields.startTimezone;this.formGroup.addControl("startTimezoneCheckbox",new sl(this.formGroup.contains(e)&&this.formGroup.get(e).value));const t=this.fields.endTimezone;this.formGroup.addControl("endTimezoneCheckbox",new sl(this.formGroup.contains(t)&&this.formGroup.get(t).value))}}removeTimeZoneCheckboxesFromFormGroup(){dn(this.formGroup)&&(this.formGroup.removeControl("startTimezoneCheckbox"),this.formGroup.removeControl("endTimezoneCheckbox"))}subscribeToFormGroupChanges(){if(dn(this.formGroup)){const e=this.fields;this.formGroup.get("startTimezoneCheckbox").valueChanges.subscribe(t=>{t||(this.formGroup.get(e.startTimezone).setValue(null,{emitEvent:!1}),this.formGroup.get(e.endTimezone).setValue(null,{emitEvent:!1}),this.formGroup.get("endTimezoneCheckbox").setValue(!1,{emitEvent:!1}))}),this.formGroup.get("endTimezoneCheckbox").valueChanges.subscribe(t=>{t||this.formGroup.get(e.endTimezone).setValue(null,{emitEvent:!1})}),this.formGroup.get(e.start).valueChanges.subscribe(t=>{this.recurrenceStart=t})}}applyLocalTimezone(){const e=this.fields,t=this.readDateAsLocal(e.start,this.eventTimezone),o=this.readDateAsLocal(e.end,this.endTimezone);this.formGroup.get(e.start).reset(t),this.formGroup.get(e.end).reset(o)}applyTimezone(){const e=this.fields,t=this.readDateWithTimezone(e.start,this.eventTimezone),o=this.readDateWithTimezone(e.end,this.endTimezone);this.formGroup.get(e.start).reset(t),this.formGroup.get(e.end).reset(o)}readDateWithTimezone(e,t){const o=this.formGroup.get(e).value;return Gi.fromUTCDate($b(o),t).toLocalDate()}readDateAsLocal(e,t){const o=this.formGroup.get(e).value;return or(Gi.fromLocalDate(o,t).toUTCDate())}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.SKi),s.rXU(ice),s.rXU(z),s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(pp))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-scheduler-edit-dialog"]],viewQuery:function(e,t){if(1&e&&(s.GBs(Rz,5),s.GBs(Az,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.multipleResourceEditors=o),s.mGM(o=s.lsd())&&(t.singleResourceEditors=o)}},inputs:{resources:"resources",timezone:"timezone",weekStart:"weekStart",fields:"fields",editTemplate:"editTemplate"},decls:1,vars:1,consts:[["title",""],["startDateTimePicker",""],["endDateTimePicker",""],["startTzPicker",""],["endTzPicker",""],["description",""],["class","k-scheduler-edit-dialog",3,"minWidth","title","autoFocusedElement","close",4,"ngIf"],[1,"k-scheduler-edit-dialog",3,"close","minWidth","title","autoFocusedElement"],[4,"ngIf"],["layout","start"],["kendoButton","","themeColor","primary","icon","save",3,"click","svgIcon","disabled"],["kendoButton","","icon","cancel-outline",3,"click","svgIcon"],["novalidate","",1,"k-scheduler-edit-form","k-form","k-form-md",3,"formGroup"],["labelCssClass","k-form-label",3,"for","text"],["kendoTextBox","","placeholder","Title",3,"formControl"],[3,"formControl","isAllDay"],[3,"formControl","start","timezone","weekStart",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"k-checkbox-wrap"],["id","k-set-timezone","type","checkbox","kendoCheckBox","","formControlName","startTimezoneCheckbox"],["for","k-set-timezone",1,"k-checkbox-label",3,"labelClass"],[3,"width","formControl"],["id","k-use-separate","type","checkbox","kendoCheckBox","","formControlName","endTimezoneCheckbox"],["for","k-use-separate",1,"k-checkbox-label",3,"labelClass"],["id","k-is-allday-chkbox","type","checkbox","kendoCheckBox","",3,"formControl"],["for","k-is-allday-chkbox",1,"k-checkbox-label",3,"labelClass"],[3,"formControl","start","timezone","weekStart"],["kendoTextArea","",3,"formControl"],[1,"k-label","k-form-label",3,"click"],[3,"formControl","resource",4,"ngIf"],[3,"formControl","resource"],["novalidate","",3,"formGroup"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&s.DNE(0,KZt,8,10,"kendo-dialog",6),2&e&&s.Y8G("ngIf",t.isActive)},dependencies:[OJ,ol,pf,dce,uce,fce,Rz,Az,Cd,Ht,q,Ps,Ls,xI,lSe,Qo,Di,GC,xD,Oq,QG,d0,cSe,ut,qe],encapsulation:2}),i})(),Nz=(()=>{class i extends yi{}return i.\u0275fac=(()=>{let n;return function(t){return(n||(n=s.xGo(i)))(t||i)}})(),i.\u0275dir=s.FsC({type:i,inputs:{allEvents:"allEvents",allDay:"allDay",dateHeader:"dateHeader",timeHeader:"timeHeader",eventHeader:"eventHeader",deleteTitle:"deleteTitle",nextTitle:"nextTitle",previousTitle:"previousTitle",today:"today",calendarToday:"calendarToday",showFullDay:"showFullDay",showWorkDay:"showWorkDay",dayViewTitle:"dayViewTitle",multiDayViewTitle:"multiDayViewTitle",weekViewTitle:"weekViewTitle",workWeekViewTitle:"workWeekViewTitle",monthViewTitle:"monthViewTitle",multiWeekViewTitle:"multiWeekViewTitle",timelineViewTitle:"timelineViewTitle",timelineWeekViewTitle:"timelineWeekViewTitle",timelineMonthViewTitle:"timelineMonthViewTitle",agendaViewTitle:"agendaViewTitle",yearViewTitle:"yearViewTitle",yearViewNoEvents:"yearViewNoEvents",cancel:"cancel",save:"save",editorEventTitle:"editorEventTitle",editorEventStart:"editorEventStart",editorEventStartTimeZone:"editorEventStartTimeZone",editorEventEnd:"editorEventEnd",editorEventEndTimeZone:"editorEventEndTimeZone",editorEventAllDay:"editorEventAllDay",editorEventDescription:"editorEventDescription",editorEventSeparateTimeZones:"editorEventSeparateTimeZones",editorEventTimeZone:"editorEventTimeZone",editorDateInputsToday:"editorDateInputsToday",editorDateInputsToggle:"editorDateInputsToggle",editorDateInputsParentViewButton:"editorDateInputsParentViewButton",editorDateInputsNow:"editorDateInputsNow",editorDateInputsNowLabel:"editorDateInputsNowLabel",editorDateInputsAccept:"editorDateInputsAccept",editorDateInputsAcceptLabel:"editorDateInputsAcceptLabel",editorDateInputsCancel:"editorDateInputsCancel",editorDateInputsCancelLabel:"editorDateInputsCancelLabel",editorDateInputsDateTab:"editorDateInputsDateTab",editorDateInputsDateTabLabel:"editorDateInputsDateTabLabel",editorDateInputsTimeTab:"editorDateInputsTimeTab",editorDateInputsTimeTabLabel:"editorDateInputsTimeTabLabel",recurrenceEditorDateInputsToday:"recurrenceEditorDateInputsToday",recurrenceEditorDateInputsToggle:"recurrenceEditorDateInputsToggle",recurrenceEditorDateInputsParentViewButton:"recurrenceEditorDateInputsParentViewButton",recurrenceEditorNumericIncrement:"recurrenceEditorNumericIncrement",recurrenceEditorNumericDecrement:"recurrenceEditorNumericDecrement",recurrenceEditorRepeat:"recurrenceEditorRepeat",recurrenceEditorDailyInterval:"recurrenceEditorDailyInterval",recurrenceEditorDailyRepeatEvery:"recurrenceEditorDailyRepeatEvery",recurrenceEditorWeeklyInterval:"recurrenceEditorWeeklyInterval",recurrenceEditorWeeklyRepeatEvery:"recurrenceEditorWeeklyRepeatEvery",recurrenceEditorWeeklyRepeatOn:"recurrenceEditorWeeklyRepeatOn",recurrenceEditorMonthlyDay:"recurrenceEditorMonthlyDay",recurrenceEditorMonthlyInterval:"recurrenceEditorMonthlyInterval",recurrenceEditorMonthlyRepeatEvery:"recurrenceEditorMonthlyRepeatEvery",recurrenceEditorMonthlyRepeatOn:"recurrenceEditorMonthlyRepeatOn",recurrenceEditorYearlyOf:"recurrenceEditorYearlyOf",recurrenceEditorYearlyRepeatEvery:"recurrenceEditorYearlyRepeatEvery",recurrenceEditorYearlyRepeatOn:"recurrenceEditorYearlyRepeatOn",recurrenceEditorYearlyInterval:"recurrenceEditorYearlyInterval",recurrenceEditorFrequenciesDaily:"recurrenceEditorFrequenciesDaily",recurrenceEditorFrequenciesMonthly:"recurrenceEditorFrequenciesMonthly",recurrenceEditorFrequenciesNever:"recurrenceEditorFrequenciesNever",recurrenceEditorFrequenciesWeekly:"recurrenceEditorFrequenciesWeekly",recurrenceEditorFrequenciesYearly:"recurrenceEditorFrequenciesYearly",recurrenceEditorOffsetPositionsFirst:"recurrenceEditorOffsetPositionsFirst",recurrenceEditorOffsetPositionsSecond:"recurrenceEditorOffsetPositionsSecond",recurrenceEditorOffsetPositionsThird:"recurrenceEditorOffsetPositionsThird",recurrenceEditorOffsetPositionsFourth:"recurrenceEditorOffsetPositionsFourth",recurrenceEditorOffsetPositionsLast:"recurrenceEditorOffsetPositionsLast",recurrenceEditorWeekdaysDay:"recurrenceEditorWeekdaysDay",recurrenceEditorWeekdaysWeekday:"recurrenceEditorWeekdaysWeekday",recurrenceEditorWeekdaysWeekendday:"recurrenceEditorWeekdaysWeekendday",recurrenceEditorEndAfter:"recurrenceEditorEndAfter",recurrenceEditorEndOccurrence:"recurrenceEditorEndOccurrence",recurrenceEditorEndLabel:"recurrenceEditorEndLabel",recurrenceEditorEndNever:"recurrenceEditorEndNever",recurrenceEditorEndOn:"recurrenceEditorEndOn",editorTitle:"editorTitle",destroy:"destroy",deleteConfirmation:"deleteConfirmation",editRecurringConfirmation:"editRecurringConfirmation",editOccurrence:"editOccurrence",editSeries:"editSeries",deleteRecurringConfirmation:"deleteRecurringConfirmation",deleteOccurrence:"deleteOccurrence",deleteSeries:"deleteSeries",deleteDialogTitle:"deleteDialogTitle",deleteRecurringDialogTitle:"deleteRecurringDialogTitle",editRecurringDialogTitle:"editRecurringDialogTitle",selectView:"selectView"},features:[s.Vt3]}),i})(),xUe=(()=>{class i extends Nz{constructor(e){super(),this.service=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoSchedulerLocalizedMessages",""]],features:[s.Jv_([{provide:Nz,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3]}),i})(),Wb=(()=>{class i{constructor(e,t,o,r,a,l,c,u,f,_,S,v,b){this.wrapper=e,this.viewContext=t,this.viewState=o,this.editService=r,this.dialogsService=a,this.intlService=l,this.changeDetector=c,this.zone=u,this.pdfService=f,this.localization=_,this.domEvents=S,this.renderer=v,this.focusService=b,this.hostClasses=!0,this.ariaRole="application",this.rtl=!1,this.editable=!1,this.selectable=!1,this.eventHeight=25,this.columnWidth=100,this.startTime="00:00",this.endTime="00:00",this.workDayStart="08:00",this.workDayEnd="17:00",this.slotDuration=60,this.slotDivisions=2,this.slotFill=.9,this.allDaySlot=!0,this.scrollTime=this.workDayStart,this.currentTimeMarker=!0,this.highlightOngoingEvents=!0,this.isSlotSelected=Msn,this.selectedViewIndexChange=new s.bkB,this.navigate=new s.bkB,this.dateChange=new s.bkB,this.slotClick=new s.bkB,this.slotDblClick=new s.bkB,this.create=new s.bkB,this.eventClick=new s.bkB,this.eventDblClick=new s.bkB,this.eventKeydown=new s.bkB,this.cancel=new s.bkB,this.save=new s.bkB,this.remove=new s.bkB,this.resizeStart=new s.bkB,this.resize=new s.bkB,this.resizeEnd=new s.bkB,this.dragStart=new s.bkB,this.drag=new s.bkB,this.dragEnd=new s.bkB,this.slotDragStart=new s.bkB,this.slotDrag=new s.bkB,this.slotDragEnd=new s.bkB,this.pdfExport=new s.bkB,this.schedulerResize=new s.bkB,this.dragEndConfirmed=new s.bkB,this.resizeEndConfirmed=new s.bkB,this.removeConfirmed=new s.bkB,this.showLicenseWatermark=!1,this.viewIndex=0,this._timezone="",this._modelFields=sce;const D=(0,_t.$)($in);this.showLicenseWatermark=s_(D),this.dateRangeStream=o.dateRange,this.selectedDateStream=t.selectedDate}get dir(){return this.direction}set selectedViewIndex(e){this.viewIndex=e,this.onViewIndexChange()}get selectedViewIndex(){return this.viewIndex}set weekStart(e){this._weekStart=e}get weekStart(){return dn(this._weekStart)?this._weekStart:this.intlService.firstDay()}set timezone(e){this._timezone=e,this.events=this.events||[]}get timezone(){return this._timezone}set events(e){this._events=e,this.processEvents(e)}get events(){return this._events}set selectedDate(e){e&&(this._selectedDate=e,this.viewContext.notifySelectedDate(e))}get selectedDate(){return this._selectedDate}set modelFields(e){this._modelFields={...sce,...e}}get modelFields(){return this._modelFields}ngOnInit(){this.selectedDate||(this.selectedDate=En(new Date))}ngAfterContentInit(){if((0,s.naY)()&&0===this.views.length)throw new Error("No views declared for <kendo-scheduler>. Please, declare at least one view.");this.subs=this.views.changes.subscribe(()=>this.resetViewIndex()),this.subs.add(this.intlService.changes.subscribe(this.intlChange.bind(this))),this.subs.add(this.viewState.nextDate.subscribe(e=>{this.selectedDate=e})),this.subs.add(this.viewState.dateRange.subscribe(e=>{if(0!==e.start.getTime()){const o=new Xin(this,this.selectedDate,e);this.dateChange.emit(o)}})),this.subs.add(this.viewState.navigate.subscribe(({viewName:e,date:t})=>{const o=this.views.toArray(),r=o.find(l=>l.name===e),a=new W5e(this,{type:"show-date",view:r||{name:e,title:e},date:t});if(this.navigate.next(a),r&&!a.isDefaultPrevented()){const l=o.indexOf(r);this.selectedView=r,this.setViewIndex(l),this.selectedDate=t}})),this.subs.add(this.viewState.viewEvent.subscribe(({name:e,args:t})=>{const o=this[e],r=this[`${e}Confirmed`];(Te(o)||r&&Te(r))&&this.zone.run(()=>{const a=new nsn[e](this,t);o.emit(a),t.prevented=a.prevented,r&&!t.prevented&&r.emit(a)})})),this.subs.add(this.viewState.layoutEnd.subscribe(()=>{this.resizeSensor&&this.resizeSensor.acceptSize()})),this.subs.add(this.viewState.slotSelectionStart.subscribe(e=>{Te(this.slotDragStart)&&this.zone.run(()=>{this.slotDragStart.emit(Object.assign(e,{sender:this}))})})),this.subs.add(this.viewState.slotSelectionDrag.subscribe(e=>{Te(this.slotDrag)&&this.zone.run(()=>{this.slotDrag.emit(new J5e(this,e))})})),this.subs.add(this.viewState.slotSelectionEnd.subscribe(e=>{Te(this.slotDragEnd)&&this.zone.run(()=>{this.slotDragEnd.emit(new rsn(this,e))})})),this.onViewIndexChange(),this.notifyOptionsChange=this.notifyOptionsChange.bind(this),this.subs.add(this.allDayEventTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.eventTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.timeSlotTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.timeSlotTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.minorTimeHeaderTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.majorTimeHeaderTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.monthDaySlotTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.multiWeekDaySlotTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.dateHeaderTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.allDaySlotTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.groupHeaderTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.agendaDateTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.agendaTimeTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.views.changes.subscribe(()=>{this.changeDetector.markForCheck()})),this.attachEditHandlers(),this.dialogsService.container=this.confirmationDialogContainerRef,this.notifyOptionsChange(),this.subs.add(this.pdfService.exportClick.subscribe(()=>{const e=new gsn;this.pdfExport.emit(e),e.isDefaultPrevented()||this.saveAsPDF()})),this.subs.add(this.pdfService.done.subscribe(()=>{this.loadingComponent.toggle(!1)})),this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.rtl=e,this.direction=this.rtl?"rtl":"ltr"})),this.subs.add(this.viewState.optionsChange.subscribe(()=>{this.changeDetector.markForCheck()})),this.attachElementEventHandlers()}ngOnChanges(e){wt("resources",e)&&!wt("events",e)&&this.viewItems&&this.viewItems.forEach(t=>{iUe(t.event,this.resources)}),Fi(["group","resources","min","max","showWorkHours","startTime","scrollTime","endTime","eventHeight","workDayStart","workDayEnd","workWeekStart","workWeekEnd","weekStart","slotDuration","slotDivisions","editable","timezone","slotClass","slotFill","columnWidth","eventClass","eventStyles","isSlotSelected","selectable","allDaySlot"],e)&&this.notifyOptionsChange(e)}ngOnDestroy(){this.subs&&this.subs.unsubscribe(),this.detachElementEventHandlers&&this.detachElementEventHandlers()}onResize(e){this.viewContext.notifyResize()}onNavigationAction(e){const t=new W5e(this,e);if(this.navigate.next(t),t.isDefaultPrevented())return!0;if("view-change"===e.type){const r=this.views.toArray().indexOf(e.view);this.selectedView=e.view,this.setViewIndex(r)}else if("select-date"===e.type)this.isInRange(e.date)&&(this.selectedDate=e.date);else if("today"===e.type){const o=new Date;this.isInRange(o)&&(this.selectedDate=o)}else"toggle-business-hours"===e.type?this.viewState.toggleWorkHours.next(null):"focus-toolbar"===e.type?this.focusService.focusToolbar():this.viewContext.notifyAction(e)}onToolbarWidthChange(e){this.schedulerResize.emit(e)}addEvent(e){if(!(e instanceof Mh)){const o=a=>(l,c)=>(l[c]=new sl(a[c]),l),r=Object.keys(e).reduce(o(e),{});e=new Mh(r)}this.editService.addEvent(e)}editEvent(e,t={}){const{group:o,mode:r}=t;this.editService.editEvent(e,o,r)}closeEvent(){this.editService.close()}isEditing(){return this.editService.isEditing()}openRecurringConfirmationDialog(e){return this.dialogsService.openRecurringConfirmationDialog(e)}openRemoveConfirmationDialog(){return this.dialogsService.openRemoveConfirmationDialog()}saveAsPDF(){this.loadingComponent.toggle(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.pdfService.save()},0)})}scrollToTime(e){this.viewContext.notifyAction({type:"scroll-time",time:e})}slotByPosition(e,t){return this.viewContext.executeMethod("slotByPosition",{x:e,y:t})}eventFromElement(e){return this.viewContext.executeMethod("eventFromElement",{element:e})}get activeEvent(){const e=this.focusService.activeElement;if(e&&e.nativeElement.matches(".k-event, [data-task-index]"))return this.eventFromElement(e.nativeElement)}focusNext(e){const t=this.focusService.focusNext(e);return this.zone.onStable.pipe(We(1)).subscribe(()=>this.focusService.focus()),t}focusPrev(e){const t={offset:-1,...e},o=this.focusService.focusNext(t);return this.zone.onStable.pipe(We(1)).subscribe(()=>this.focusService.focus()),o}focus(){this.zone.onStable.pipe(We(1)).subscribe(()=>this.focusService.focus())}isInRange(e){return(!this.min||this.min<=e)&&(!this.max||e<=this.max)}notifyOptionsChange(e){const t=this.workWeek;this.viewContext.notifyOptionsChange({group:this.group,resources:this.resources,allDayEventTemplate:this.allDayEventTemplate?this.allDayEventTemplate.first:null,eventTemplate:this.eventTemplate?this.eventTemplate.first:null,timeSlotTemplate:this.timeSlotTemplate?this.timeSlotTemplate.first:null,minorTimeHeaderTemplate:this.minorTimeHeaderTemplate?this.minorTimeHeaderTemplate.first:null,majorTimeHeaderTemplate:this.majorTimeHeaderTemplate?this.majorTimeHeaderTemplate.first:null,monthDaySlotTemplate:this.monthDaySlotTemplate?this.monthDaySlotTemplate.first:null,multiWeekDaySlotTemplate:this.multiWeekDaySlotTemplate?this.multiWeekDaySlotTemplate.first:null,dateHeaderTemplate:this.dateHeaderTemplate?this.dateHeaderTemplate.first:null,allDaySlotTemplate:this.allDaySlotTemplate?this.allDaySlotTemplate.first:null,groupHeaderTemplate:this.groupHeaderTemplate?this.groupHeaderTemplate.first:null,agendaDateTemplate:this.agendaDateTemplate?this.agendaDateTemplate.first:null,agendaTimeTemplate:this.agendaTimeTemplate?this.agendaTimeTemplate.first:null,min:this.min,max:this.max,showWorkHours:this.showWorkHours,startTime:this.startTime,scrollTime:this.scrollTime,endTime:this.endTime,workDayStart:this.workDayStart,workDayEnd:this.workDayEnd,workWeekStart:t.start,workWeekEnd:t.end,weekStart:this.weekStart,allDaySlot:this.allDaySlot,slotDuration:this.slotDuration,slotDivisions:this.slotDivisions,eventHeight:this.eventHeight,editable:this.editable,selectable:this.selectable,timezone:this.timezone,currentTimeMarker:this.currentTimeMarker,highlightOngoingEvents:this.highlightOngoingEvents,slotClass:this.slotClass,slotFill:this.slotFill,columnWidth:this.columnWidth,eventClass:this.eventClass,eventStyles:this.eventStyles,isSlotSelected:this.isSlotSelected,changes:e})}get workWeek(){const{start:e,end:t}=this.intlService.weekendRange(),o=dn(this.workWeekStart)?this.workWeekStart:(t+1)%7,r=e>0?e-1:Rc.Saturday;return{start:o,end:dn(this.workWeekEnd)?this.workWeekEnd:r}}resetViewIndex(){const t=Math.max(0,Math.min(this.selectedViewIndex,this.views.length-1));this.setViewIndex(t),this.onViewIndexChange()}onViewIndexChange(){if(!this.views)return;const t=this.views.toArray()[this.viewIndex];t&&(this.selectedView=t)}setViewIndex(e){const t=this.selectedViewIndex!==e;return t&&(this.selectedViewIndex=e,this.selectedViewIndexChange.emit(e)),t}processEvents(e){const t=this.timezone,o=this.modelFields,r=e.map(a=>((i,n,e)=>{const t={id:gr(n.id)(i),start:gr(n.start)(i),startTimezone:gr(n.startTimezone)(i),end:gr(n.end)(i),endTimezone:gr(n.endTimezone)(i),isAllDay:gr(n.isAllDay)(i),title:gr(n.title)(i),description:gr(n.description)(i),recurrenceRule:gr(n.recurrenceRule)(i),recurrenceExceptions:gr(n.recurrenceExceptions)(i),recurrenceId:gr(n.recurrenceId)(i),dataItem:i};return iUe(t,e),t})(a,o,this.resources)).filter(a=>!(i=>i.recurrenceRule&&!dn(i.recurrenceId))(a)).map(a=>({start:Gi.fromLocalDate(a.start,t),end:Gi.fromLocalDate(a.end,t),event:a}));this.viewItems=r,this.viewContext.notifyItems(r)}attachEditHandlers(){this.editService&&this.subs.add(this.editService.changes.subscribe(this.emitCRUDEvent.bind(this)))}emitCRUDEvent(e){switch(Object.assign(e,{sender:this}),e.action){case"cancel":this.cancel.emit(e);break;case"save":this.save.emit(e)}}intlChange(){const e=this.selectedView;this.selectedView=null,(!dn(this.workWeekStart)||!dn(this.workWeekEnd))&&this.notifyOptionsChange(),this.changeDetector.detectChanges(),this.selectedView=e,s.SKi.isInAngularZone()?this.changeDetector.markForCheck():this.changeDetector.detectChanges()}attachElementEventHandlers(){if(!ne())return;const e=this.wrapper.nativeElement;this.zone.runOutsideAngular(()=>{const t=this.renderer.listen("window","blur",u=>{this.domEvents.windowBlur.emit(u)}),o=this.renderer.listen(e,"click",u=>{this.domEvents.click.emit(u)}),r=this.renderer.listen(e,"keydown",u=>{this.domEvents.keydown.emit(u)});let a=!1;const l=this.renderer.listen(e,"focusin",u=>{this.domEvents.focus.emit(u),a||(this.domEvents.focusIn.emit(u),this.renderer.addClass(this.wrapper.nativeElement,"k-focus"),a=!0)}),c=this.renderer.listen(e,"focusout",u=>{!((i,n)=>{for(;i&&i!==e;)i=i.parentNode;return i})(u.relatedTarget||document.activeElement)&&(this.domEvents.focusOut.emit(u),this.renderer.removeClass(this.wrapper.nativeElement,"k-focus"),a=!1)});this.detachElementEventHandlers=()=>{t(),o(),r(),l(),c()}})}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(Oo),s.rXU(io),s.rXU(ice),s.rXU(H4),s.rXU(xt.Bs),s.rXU(s.gRc),s.rXU(s.SKi),s.rXU(fp),s.rXU(z),s.rXU(Mz),s.rXU(s.sFG),s.rXU(pp))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-scheduler"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,oUe,5),s.wni(o,q5e,5),s.wni(o,qc,4),s.wni(o,G4,4),s.wni(o,U4,4),s.wni(o,qle,4),s.wni(o,Yle,4),s.wni(o,Kle,4),s.wni(o,Jle,4),s.wni(o,Z5e,4),s.wni(o,Xle,4),s.wni(o,yz,4),s.wni(o,Wle,4),s.wni(o,jle,4),s.wni(o,$le,4)),2&e){let r;s.mGM(r=s.lsd())&&(t.editDialogTemplate=r.first),s.mGM(r=s.lsd())&&(t.toolbarTemplate=r.first),s.mGM(r=s.lsd())&&(t.views=r),s.mGM(r=s.lsd())&&(t.allDayEventTemplate=r),s.mGM(r=s.lsd())&&(t.eventTemplate=r),s.mGM(r=s.lsd())&&(t.timeSlotTemplate=r),s.mGM(r=s.lsd())&&(t.minorTimeHeaderTemplate=r),s.mGM(r=s.lsd())&&(t.majorTimeHeaderTemplate=r),s.mGM(r=s.lsd())&&(t.monthDaySlotTemplate=r),s.mGM(r=s.lsd())&&(t.multiWeekDaySlotTemplate=r),s.mGM(r=s.lsd())&&(t.dateHeaderTemplate=r),s.mGM(r=s.lsd())&&(t.allDaySlotTemplate=r),s.mGM(r=s.lsd())&&(t.groupHeaderTemplate=r),s.mGM(r=s.lsd())&&(t.agendaDateTemplate=r),s.mGM(r=s.lsd())&&(t.agendaTimeTemplate=r)}},viewQuery:function(e,t){if(1&e&&(s.GBs(hs,7),s.GBs(YZt,7,s.c1b),s.GBs(oce,7)),2&e){let o;s.mGM(o=s.lsd())&&(t.resizeSensor=o.first),s.mGM(o=s.lsd())&&(t.confirmationDialogContainerRef=o.first),s.mGM(o=s.lsd())&&(t.loadingComponent=o.first)}},hostVars:12,hostBindings:function(e,t){2&e&&(s.BMQ("role",t.ariaRole)("dir",t.dir),s.AVh("k-widget",t.hostClasses)("k-scheduler",t.hostClasses)("k-floatwrap",t.hostClasses)("k-pos-relative",t.hostClasses)("k-rtl",t.rtl))},inputs:{selectedViewIndex:"selectedViewIndex",editable:"editable",selectable:"selectable",min:"min",max:"max",eventHeight:"eventHeight",columnWidth:"columnWidth",showWorkHours:"showWorkHours",startTime:"startTime",endTime:"endTime",workDayStart:"workDayStart",workDayEnd:"workDayEnd",workWeekStart:"workWeekStart",workWeekEnd:"workWeekEnd",weekStart:"weekStart",slotDuration:"slotDuration",slotDivisions:"slotDivisions",slotFill:"slotFill",allDaySlot:"allDaySlot",scrollTime:"scrollTime",group:"group",resources:"resources",loading:"loading",timezone:"timezone",events:"events",selectedDate:"selectedDate",modelFields:"modelFields",currentTimeMarker:"currentTimeMarker",highlightOngoingEvents:"highlightOngoingEvents",slotClass:"slotClass",eventClass:"eventClass",eventStyles:"eventStyles",isSlotSelected:"isSlotSelected"},outputs:{selectedViewIndexChange:"selectedViewIndexChange",navigate:"navigate",dateChange:"dateChange",slotClick:"slotClick",slotDblClick:"slotDblClick",create:"create",eventClick:"eventClick",eventDblClick:"eventDblClick",eventKeydown:"eventKeydown",cancel:"cancel",save:"save",remove:"remove",resizeStart:"resizeStart",resize:"resize",resizeEnd:"resizeEnd",dragStart:"dragStart",drag:"drag",dragEnd:"dragEnd",slotDragStart:"slotDragStart",slotDrag:"slotDrag",slotDragEnd:"slotDragEnd",pdfExport:"pdfExport",schedulerResize:"schedulerResize"},features:[s.Jv_([ice,H4,Mz,Tz,pp,Iz,{provide:z,useExisting:Iz},{provide:He,useValue:"kendo.scheduler"},Ez,Oo,io,fp]),s.OA$],decls:9,vars:15,consts:()=>{let n,e,t,o,r,a,l,c,u,f,_,S,v,b,D,k,O,I,x,P,L,H,j,J,te,ce,oe,Le,ue,ye,ie,ee,ae,Se,ve,Me,Lt,Ne,Jt,Ce,Ot,Rt,Mt,as,rn,Hn,Xn,ho,ti,ys,Zc,ed,td,wl,Kd,Ea,Ct,cm,Nv,Y4,J4,q4,Q4,Z4,e6,t6,n6,i6,s6,o6,r6,a6,l6,c6,d6,u6,h6,p6,f6,m6,_6,g6,S6,$e,yFe,DFe,wFe,kFe,OFe,TFe,MFe,IFe,RFe,AFe,xFe,NFe,LFe,PFe;return n="All events",e="tutto il giorno",t="Data",o="Tempo",r="Rimuovi evento",a="Evento",l="Prossimo",c="Precedente",u="Mostra il giorno completo",f="Mostra solo le ore lavorative",_="Oggi",S="TODAY",v="Titolo",b="Multi-Giorno",D="Settimana",k="Settimana Lavorativa",O="Mese",I="Multi-Week",x="Timeline",P="Timeline Settimanale",L="Timeline Mensile",H="Agenda",j="Year",J="No events on this date.",te="Annulla",ce="Salva",oe="Titolo",Le="Inizio",ue="Fuso Orario di Inizio",ye="Fine",ie="Fuso Orario di Fine",ee="Giornata intera",ae="Descrizione",Se="Usa differenti fusi orari per l'inizio e la fine",ve="Fuso orario finale",Me="Titolo",Lt="Today",Ne="Toggle popup",Jt="Navigate to parent view",Ce="Set",Ot="Set",Rt="Set",Mt="Set",as="Cancel",rn="Cancel",Hn="Date",Xn="Date tab",ho="Time",ti="Time tab",ys="Today",Zc="Toggle popup",ed="Navigate to parent view",td="Increase value",wl="Decrease value",Kd="Ripeti",Ea="giorno(i)",Ct="Ripeti ogni:",cm="settimana(e)",Nv="Ripeti ogni:",Y4="Ripeti quando:",J4="Giorno",q4="mese(i)",Q4="Ripeti ogni:",Z4="Repeti quando::",e6="di",t6="Ripeti ogni:",n6="Ripeti quando:",i6="anno(i)",s6="Ogni giorno",o6="Ogni mese",r6="Mai",a6="Ogni settimana",l6="Ogni anno",c6="primo",d6="secondo",u6="terzo",h6="quarto",p6="ultimo",f6="giorno",m6="giorno della settimana",_6="Giorno del weekend",g6="Dopo",S6="Occorrenza(e)",$e="Fine",yFe="Mai",DFe="In",wFe="Rimuovi",kFe="Sicuro di voler rimuovere questo evento?",OFe="Vuoi modifcare solo questo evento o la serie completa?",TFe="Modifica l'evento corrente",MFe="Modifica la serie",IFe="Vuoi rimuovere solo questo evento o la serie completa?",RFe="Rimuovi elemento corrente",AFe="Rimuovi la serie",xFe="Rimuovi evento",NFe="Vuoi rimuovere solo questo evento o la serie completa?",LFe="Modifica elemento ricorrente",PFe="Seleziona vista",[["confirmationDialogContainer",""],["kendoSchedulerLocalizedMessages","","allEvents",n,"allDay",e,"dateHeader",t,"timeHeader",o,"deleteTitle",r,"eventHeader",a,"nextTitle",l,"previousTitle",c,"showFullDay",u,"showWorkDay",f,"today",_,"calendarToday",S,"dayViewTitle",v,"multiDayViewTitle",b,"weekViewTitle",D,"workWeekViewTitle",k,"monthViewTitle",O,"multiWeekViewTitle",I,"timelineViewTitle",x,"timelineWeekViewTitle",P,"timelineMonthViewTitle",L,"agendaViewTitle",H,"yearViewTitle",j,"yearViewNoEvents",J,"cancel",te,"save",ce,"editorEventTitle",oe,"editorEventStart",Le,"editorEventStartTimeZone",ue,"editorEventEnd",ye,"editorEventEndTimeZone",ie,"editorEventAllDay",ee,"editorEventDescription",ae,"editorEventSeparateTimeZones",Se,"editorEventTimeZone",ve,"editorTitle",Me,"editorDateInputsToday",Lt,"editorDateInputsToggle",Ne,"editorDateInputsParentViewButton",Jt,"editorDateInputsAccept",Ce,"editorDateInputsAcceptLabel",Ot,"editorDateInputsAccept",Rt,"editorDateInputsAcceptLabel",Mt,"editorDateInputsCancel",as,"editorDateInputsCancelLabel",rn,"editorDateInputsDateTab",Hn,"editorDateInputsDateTabLabel",Xn,"editorDateInputsTimeTab",ho,"editorDateInputsTimeTabLabel",ti,"recurrenceEditorDateInputsToday",ys,"recurrenceEditorDateInputsToggle",Zc,"recurrenceEditorDateInputsParentViewButton",ed,"recurrenceEditorNumericIncrement",td,"recurrenceEditorNumericDecrement",wl,"recurrenceEditorRepeat",Kd,"recurrenceEditorDailyInterval",Ea,"recurrenceEditorDailyRepeatEvery",Ct,"recurrenceEditorWeeklyInterval",cm,"recurrenceEditorWeeklyRepeatEvery",Nv,"recurrenceEditorWeeklyRepeatOn",Y4,"recurrenceEditorMonthlyDay",J4,"recurrenceEditorMonthlyInterval",q4,"recurrenceEditorMonthlyRepeatEvery",Q4,"recurrenceEditorMonthlyRepeatOn",Z4,"recurrenceEditorYearlyOf",e6,"recurrenceEditorYearlyRepeatEvery",t6,"recurrenceEditorYearlyRepeatOn",n6,"recurrenceEditorYearlyInterval",i6,"recurrenceEditorFrequenciesDaily",s6,"recurrenceEditorFrequenciesMonthly",o6,"recurrenceEditorFrequenciesNever",r6,"recurrenceEditorFrequenciesWeekly",a6,"recurrenceEditorFrequenciesYearly",l6,"recurrenceEditorOffsetPositionsFirst",c6,"recurrenceEditorOffsetPositionsSecond",d6,"recurrenceEditorOffsetPositionsThird",u6,"recurrenceEditorOffsetPositionsFourth",h6,"recurrenceEditorOffsetPositionsLast",p6,"recurrenceEditorWeekdaysDay",f6,"recurrenceEditorWeekdaysWeekday",m6,"recurrenceEditorWeekdaysWeekendday",_6,"recurrenceEditorEndAfter",g6,"recurrenceEditorEndOccurrence",S6,"recurrenceEditorEndLabel",$e,"recurrenceEditorEndNever",yFe,"recurrenceEditorEndOn",DFe,"destroy",wFe,"deleteConfirmation",kFe,"editRecurringConfirmation",OFe,"editOccurrence",TFe,"editSeries",MFe,"deleteRecurringConfirmation",IFe,"deleteOccurrence",RFe,"deleteSeries",AFe,"deleteDialogTitle",xFe,"deleteRecurringDialogTitle",NFe,"editRecurringDialogTitle",LFe,"selectView",PFe],[3,"navigate","toolbarWidthChange","dateRange","selectedDate","views","selectedView","template","min","max"],[4,"ngTemplateOutlet"],[3,"resources","editTemplate","timezone","weekStart","fields"],[3,"resize"],["kendoSchedulerLoading","",3,"loading"],["kendoWatermarkOverlay","",4,"ngIf"],["kendoWatermarkOverlay",""]]},template:function(e,t){if(1&e){const o=s.RV6();s.eu8(0,1),s.j41(1,"kendo-scheduler-toolbar",2),s.bIt("navigate",function(a){return s.eBV(o),s.Njj(t.onNavigationAction(a))})("toolbarWidthChange",function(a){return s.eBV(o),s.Njj(t.onToolbarWidthChange(a))}),s.k0s(),s.DNE(2,JZt,1,0,"ng-container",3),s.eu8(3,null,0),s.nrm(5,"kendo-scheduler-edit-dialog",4),s.j41(6,"kendo-resize-sensor",5),s.bIt("resize",function(){return s.eBV(o),s.Njj(t.onResize())}),s.k0s(),s.nrm(7,"div",6),s.DNE(8,qZt,1,0,"div",7)}2&e&&(s.R7$(),s.Y8G("dateRange",t.dateRangeStream)("selectedDate",t.selectedDateStream)("views",t.views)("selectedView",t.selectedView)("template",t.toolbarTemplate)("min",t.min)("max",t.max),s.R7$(),s.Y8G("ngTemplateOutlet",null==t.selectedView?null:t.selectedView.template),s.R7$(3),s.Y8G("resources",t.resources)("editTemplate",t.editDialogTemplate)("timezone",t.timezone)("weekStart",t.weekStart)("fields",t.modelFields),s.R7$(2),s.Y8G("loading",t.loading),s.R7$(),s.Y8G("ngIf",t.showLicenseWatermark))},dependencies:[Rsn,AUe,hs,oce,n_,xUe,qe,q],encapsulation:2,changeDetection:0}),i})(),NUe=(()=>{class i{transform(e,...t){return e.sort((o,r)=>o.startTime.getTime()-r.startTime.getTime())}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=s.EJ8({name:"sort",type:i,pure:!0}),i})(),kO=(()=>{class i{static exports(){return[Mv,NUe]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({}),i})(),Jsn=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,ID,CR,ia,No,kO,Mr]]}),i})();const qsn=i=>null;let Lz=(()=>{class i extends qc{constructor(e,t,o,r){super(),this.localization=e,this.changeDetector=t,this.viewContext=o,this.viewState=r,this.schedulerOptions={},this.subs=this.localization.changes.subscribe(()=>{t.markForCheck()}),this.subs.add(this.viewContext.optionsChange.subscribe(this.optionsChange.bind(this)))}get viewSlotClass(){return dn(this.slotClass)?this.slotClass:this.schedulerOptions.slotClass||qsn}get viewEventClass(){return dn(this.eventClass)?this.eventClass:this.schedulerOptions.eventClass}get viewEventStyles(){return dn(this.eventStyles)?this.eventStyles:this.schedulerOptions.eventStyles}get viewHighlightOngoingEvents(){return dn(this.highlightOngoingEvents)?this.highlightOngoingEvents:this.schedulerOptions.highlightOngoingEvents}get viewWeekStart(){return this.schedulerOptions.weekStart}ngOnChanges(e){this.viewState.notifyOptionsChange()}ngOnDestroy(){this.subs.unsubscribe()}optionsChange(e){this.schedulerOptions=e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z),s.rXU(s.gRc),s.rXU(Oo),s.rXU(io))},i.\u0275dir=s.FsC({type:i,contentQueries:function(e,t,o){if(1&e&&(s.wni(o,U4,5),s.wni(o,Wle,5)),2&e){let r;s.mGM(r=s.lsd())&&(t.eventTemplate=r.first),s.mGM(r=s.lsd())&&(t.groupHeaderTemplate=r.first)}},viewQuery:function(e,t){if(1&e&&s.GBs(Ble,7),2&e){let o;s.mGM(o=s.lsd())&&(t.template=o.first)}},inputs:{slotClass:"slotClass",eventClass:"eventClass",eventStyles:"eventStyles",highlightOngoingEvents:"highlightOngoingEvents"},features:[s.Vt3,s.OA$]}),i})();const LUe=i=>n=>e=>i(e,n),mce=(LUe(Yp),LUe(qy),(...i)=>n=>i.reduceRight((e,t)=>t(e),n)),UUe=({start:i,end:n,isAllDay:e=!1})=>{const t=e?wO(n):n,o=Math.ceil((t-+wO(i))/pQ);return e&&o>0&&!oon(n)?o+1:o},oon=i=>0===(i=or(i)).getHours()&&0===i.getMinutes()&&0===i.getSeconds()&&0===i.getMilliseconds(),FUe=i=>{const n=i.length;return(...e)=>n===e.length?i(...e):FUe(i.bind(null,...e))},don=i=>(i.tail||(i.mid=!0),i),hon=(i,n)=>(i=>Array.from(new Array(i).keys()))(UUe(i)-1).reduce(((i,n)=>(e,t,o,r)=>e.concat(mce(don,((i,n)=>e=>({...e,start:wO(i),end:e.tail&&!e.isAllDay?n:DO(i,1),startDate:wO(i)}))(((i,n)=>n.length?n[n.length-1].end:i)(n,e),i.end),(i=>n=>(i&&(n.tail=!0),n))(o===r.length-1))(i)))(i,n),[]);FUe((i,n,e)=>{const t=[];for(let o=0;o<e.length;o++){const r={...e[o]};r.startDate=wO(r.start),r.start>=i&&r.start<=n&&t.push(r),UUe(r)>1&&(r.end=DO(r.startDate,1),r.head=!0,t.push(...hon({...e[o]},r.end).filter(a=>wO(a.end)<=n&&a.start>=i)))}return t});let mon=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,xt.W5,kO,xn]]}),i})();class Pz{constructor(){this.count=0,this.items={}}get first(){if(this.count>0)return this.items[Object.keys(this.items)[0]]}get last(){if(this.count>0){const n=Object.keys(this.items);return this.items[n[n.length-1]]}}addItem(n,e){this.items[n]||this.count++,this.items[n]=e}removeItem(n,e){this.items[n]===e&&(delete this.items[n],this.count--)}toArray(){return Object.keys(this.items).map(n=>this.items[n])}}class Gz{constructor(){this.containerSize=0,this.slotsChange=new s.bkB,this.groups=[]}registerItem(n){this.itemGroup(n).registerItem(n)}unregisterItem(n,e){const t=this.groups[(e=e||{index:n.index,resourceIndex:n.resourceIndex,rangeIndex:n.rangeIndex}).resourceIndex];t&&t.unregisterItem(n,e)}registerSlot(n){this.slotGroup(n).registerSlot(n)}unregisterSlot(n){const e=this.groups[n.id.resourceIndex];e&&e.unregisterSlot(n)}invalidate(){this.clearEmptyGroups(),this.cleanRanges(),this.slotsChange.emit(),this.forEachSlot(n=>{n.invalidate()})}cleanRanges(){this.groups.forEach(n=>{n.cleanRanges()})}clearEmptyGroups(){const n=this.groups;let e=this.groups.length-1;for(;e>0&&!n[e].hasSlots;)n.splice(e,1),e--}itemGroup(n){const e=n.resourceIndex;return this.groups[e]||(this.groups[e]=this.createGroup(e)),this.groups[e]}slotGroup(n){const e=n.id.resourceIndex;return this.groups[e]||(this.groups[e]=this.createGroup(e)),this.groups[e]}}const WUe=new Date(1980,0,1),_on=new Date(1980,0,2),X4=6e4,JUe="k-event-ongoing";class von{constructor(n){this.index=n,this.slotMap=new Pz,this.itemMap=new Pz}get slots(){return this.slotMap.toArray()}get items(){return this.itemMap.toArray()}get start(){const n=this.slotMap.first;return n?n.start:null}get end(){const n=this.slotMap.last;return n?DO(n.end,1):null}get hasSlots(){return this.slotMap.count>0}get hasItems(){return this.itemMap.count>0}get firstSlot(){return this.slotMap.first}get lastSlot(){return this.slotMap.last}get rect(){const n=this.firstSlot.rect,e=this.lastSlot.rect;return{left:n.left,top:n.top,width:e.left-n.left+e.width,height:e.top-n.top+e.height}}registerItem(n){this.itemMap.addItem(n.item.index,n)}unregisterItem(n,e){this.itemMap.removeItem(e,n)}registerSlot(n){this.slotMap.addItem(n.id.index,n)}unregisterSlot(n){this.slotMap.removeItem(n.id.index,n)}layout(n){if(!this.hasItems)return;const t=Yp(this.items,[{field:"item.startTime",dir:"asc"},{field:"item.endTime",dir:"desc"}]),o={},r=this.slots;t.forEach(a=>r.filter(l=>Sr(a.item.startTime,a.item.endTime,l.start,l.end)).forEach(l=>{const c=o[l.key]=o[l.key]||{events:[],height:l.linkHeight};c.slot=l;const u=l.rect,f=a.item.data[a.resourceIndex];f.rowIndex=mUe(c.events,f),c.height+n+2+13>u.height||f.hidden?(f.hidden=!0,l.showMore({width:u.width,left:u.left,top:u.top+l.linkHeight+f.rowIndex*(n+2)})):(c.events[f.rowIndex]=a,a.rect||(a.rect={top:u.top+l.linkHeight+f.rowIndex*(n+2),left:u.left,height:n,width:0}),a.rect.width+=u.width+1,c.height+=n+2)})),t.forEach(a=>{a.rect&&(a.rect.width-=1),a.reflow()})}}class Con{constructor(n){this.index=n,this.dayRanges=[]}get hasSlots(){return!!this.dayRanges.find(n=>n&&n.hasSlots)}registerSlot(n){this.slotRange(n).registerSlot(n)}unregisterSlot(n){const e=this.dayRanges[n.id.rangeIndex];e.unregisterSlot(n),e.hasSlots||delete this.dayRanges[n.id.rangeIndex]}registerItem(n){this.dayRanges[n.rangeIndex].registerItem(n)}unregisterItem(n,e){const t=this.dayRanges[e.rangeIndex];t&&t.unregisterItem(n,e.index)}slotRange(n){const e=this.dayRanges,t=n.id.rangeIndex;return e[t]||(e[t]=new von(t)),e[t]}forEachRange(n){for(let e=0;e<this.dayRanges.length;e++)n(this.dayRanges[e])}cleanRanges(){this.dayRanges=this.dayRanges.filter(n=>!!n)}}class OO extends Gz{layout(n){this.groups.forEach(e=>e.forEachRange(t=>t.layout(n)))}slotByIndex(n){const[e,t,o]=n.split(":").map(r=>parseInt(r,10));return this.groups[e].dayRanges[t].slots[o]}forEachSlot(n){this.groups.forEach(e=>{e.dayRanges.forEach(t=>{t.slots.forEach(o=>n(o))})})}forEachItem(n){this.groups.forEach(e=>{e.dayRanges.forEach(t=>{t.items.forEach(o=>n(o))})})}createGroup(n){return new Con(n)}invalidate(){super.invalidate(),this.forEachItem(n=>{const e=n.item.data;Object.keys(e).forEach(t=>{e[t].hidden=!1})})}slotByPosition(n,e){let t;if(this.groups.find(o=>(t=o.dayRanges.find(r=>lm(r.rect,n,e)),t)),t)return t.slots.find(o=>lm(o.rect,n,e))}dragRanges(n,e){const t=new Date(n.start.getTime()-e.start),o=new Date(n.start.getTime()+e.end),a=[];return this.groups[n.id.resourceIndex].dayRanges.forEach(l=>{const c=l.slots.filter(u=>Sr(t,o,u.start,u.end));c.length&&a.push(c)}),{start:t,end:o,ranges:a}}groupSlotByPosition(n,e,t){const o=this.groups[n.id.resourceIndex].dayRanges.find(r=>lm(r.rect,e,t));if(o)return o.slots.find(r=>lm(r.rect,e,t))}resizeRanges(n,e,t,o){const r=this.groups[e.resources[0].leafIdx],a=[],l=e.start.toUTCDate(),c=e.end.toUTCDate();let u,f;return t?(u=n.start.getTime()+o.start,u>c.getTime()&&(u=new Date(Math.min(_p(c,l).getTime(),c.getTime()))),f=c):(u=l,f=n.start.getTime()+o.end,f<u.getTime()&&(f=new Date(Math.max(_p(l,c).getTime(),u.getTime())))),r.dayRanges.forEach(_=>{const S=_.slots.filter(v=>Sr(u,f,v.start,v.end));S.length&&a.push(S)}),{start:new Date(u),end:new Date(f),ranges:a}}}let QUe=(()=>{class i{constructor(e,t,o,r,a,l){this.slotService=e,this.localization=t,this.focusService=o,this.element=r,this.renderer=a,this.localeId=l,this.className=!0,this.caretAltLeftIcon=tl,this.caretAltRightIcon=Jo,this.subs=new be.yU}get taskIndex(){return this.item.index}get touchAction(){return this.editable&&!1!==this.editable.drag?"none":null}get eventTitle(){return`${function cce(i,n,e,t){const o={skeleton:"yMMMMEEEEdhm"},a=LGe(i,n)?"t":o;return e?`${(0,xt.Yq)(i,{skeleton:"yMMMMEEEEd"},t)}`:`${(0,xt.Yq)(i,o,t)}\u2013${(0,xt.Yq)(n,a,t)}`}(or(this.item.startTime),or(this.item.endTime),this.item.isAllDay,this.localeId)}, ${this.item.event.title}`}get deleteMessage(){return this.localization.get("deleteTitle")}get resizable(){return this.editable&&!1!==this.editable.resize}get removable(){return this.editable&&!1!==this.editable.remove}get isRecurrence(){return function _Ue(i){return!(!i.event||!i.event.recurrenceRule)}(this.item)}get isRecurrenceException(){return function gUe(i){return i.event&&dn(i.event.recurrenceId)&&!i.event.recurrenceRule}(this.item)}get nativeElement(){if(this.element)return this.element.nativeElement}setStyles(e){const t=this.nativeElement;if(t)for(const o in e)e.hasOwnProperty(o)&&this.renderer.setStyle(t,o,e[o])}toggle(e){this.setStyles({display:e?null:"none"})}reflow(){const e=this.rect;e&&this.setStyles({left:this.localization.rtl?"":`${e.left}px`,right:this.localization.rtl?`${e.left}px`:"",top:`${e.top}px`,width:`${e.width}px`,height:`${e.height}px`})}ngOnInit(){this.dragHint||this.subs.add(this.slotService.slotsChange.subscribe(()=>{this.rect=null,this.setStyles({width:0,left:0,bottom:0}),this.slotService.unregisterItem(this,{index:this.index,resourceIndex:this.resourceIndex,rangeIndex:this.rangeIndex}),this.resourceIndex>=0&&this.slotService.registerItem(this)}))}ngOnChanges(e){if(!this.dragHint&&Fi(["index","resourceIndex","rangeIndex"],e)){const{resourceIndex:t,index:o,rangeIndex:r}=e;this.slotService.unregisterItem(this,{index:o?o.previousValue:this.index,resourceIndex:t?t.previousValue:this.resourceIndex,rangeIndex:r?r.previousValue:this.rangeIndex}),this.resourceIndex>=0?(this.slotService.registerItem(this),this.toggle(!0)):this.toggle(!1)}}ngOnDestroy(){this.dragHint||(this.slotService.unregisterItem(this),this.subs.unsubscribe())}get arrowIcons(){return this.localization.rtl?["caret-alt-right","caret-alt-left"]:["caret-alt-left","caret-alt-right"]}get arrowSVGIcons(){return this.localization.rtl?[this.caretAltRightIcon,this.caretAltLeftIcon]:[this.caretAltLeftIcon,this.caretAltRightIcon]}}return i.\u0275fac=function(e){s.QTQ()},i.\u0275dir=s.FsC({type:i,hostVars:6,hostBindings:function(e,t){2&e&&(s.BMQ("data-task-index",t.taskIndex)("aria-label",t.eventTitle),s.xc7("touch-action",t.touchAction),s.AVh("k-event",t.className))},inputs:{item:"item",resourceIndex:"resourceIndex",rangeIndex:"rangeIndex",index:"index",eventTemplate:"eventTemplate",editable:"editable",dragHint:"dragHint",resources:"resources"},features:[s.OA$]}),i})(),ZUe=(()=>{class i extends QUe{constructor(e,t,o,r,a,l){super(e,t,o,r,a,l),this.localeId=l,this.caretAltLeftIcon=tl,this.caretAltRightIcon=Jo,this.arrowRotateCwIcon=H3,this.arrowsNoRepeatIcon=Qm,this.xIcon=go}reflow(){this.item.data[this.resourceIndex].hidden?this.toggle(!1):(this.toggle(!0),super.reflow())}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(OO),s.rXU(z),s.rXU(pp),s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(s.xe9))},i.\u0275cmp=s.VBU({type:i,selectors:[["","monthViewItem",""]],features:[s.Vt3],attrs:ben,decls:10,vars:8,consts:[[1,"k-event-actions"],[3,"name","svgIcon",4,"ngIf"],["name","arrow-rotate-cw",3,"svgIcon",4,"ngIf"],["name","arrows-no-repeat",3,"svgIcon",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngIf"],["class","k-link k-event-delete","aria-hidden","true",4,"ngIf"],[3,"name","svgIcon"],["name","arrow-rotate-cw",3,"svgIcon"],["name","arrows-no-repeat",3,"svgIcon"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-event-template"],["aria-hidden","true",1,"k-link","k-event-delete"],["name","x",3,"svgIcon"],[1,"k-resize-handle","k-resize-w"],[1,"k-resize-handle","k-resize-e"]],template:function(e,t){1&e&&(s.j41(0,"span",0),s.DNE(1,Een,1,2,"kendo-icon-wrapper",1)(2,yen,1,1,"kendo-icon-wrapper",2)(3,Den,1,1,"kendo-icon-wrapper",3),s.k0s(),s.DNE(4,wen,1,6,"ng-container",4)(5,ken,3,2,"div",5),s.j41(6,"span",0),s.DNE(7,Oen,2,2,"span",6)(8,Ten,1,2,"kendo-icon-wrapper",1),s.k0s(),s.DNE(9,Men,3,0,"ng-container",5)),2&e&&(s.R7$(),s.Y8G("ngIf",t.item.tail),s.R7$(),s.Y8G("ngIf",t.isRecurrence),s.R7$(),s.Y8G("ngIf",t.isRecurrenceException),s.R7$(),s.Y8G("ngIf",t.eventTemplate),s.R7$(),s.Y8G("ngIf",!t.eventTemplate),s.R7$(2),s.Y8G("ngIf",t.removable),s.R7$(),s.Y8G("ngIf",t.item.head),s.R7$(),s.Y8G("ngIf",t.resizable))},dependencies:[Qe,q,qe],encapsulation:2}),i})();const bon=i=>i[i.length-1];function yon(i){const n=i.data;for(const e in n)n.hasOwnProperty(e)&&delete n[e]}let Fz=(()=>{class i{constructor(e){this.changeDetector=e,this.changeDetector.detach()}detectChanges(){this.changeDetector.detectChanges()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.gRc))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-hint-container"]],contentQueries:function(e,t,o){if(1&e&&s.wni(o,s.C4Q,5),2&e){let r;s.mGM(r=s.lsd())&&(t.hintTemplate=r.first)}},decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&s.eu8(0,0),2&e&&s.Y8G("ngTemplateOutlet",t.hintTemplate)},dependencies:[qe],encapsulation:2}),i})(),gce=(()=>{class i{constructor(e,t,o,r,a,l,c,u,f,_,S){this.viewContext=e,this.viewState=t,this.intl=o,this.slotService=r,this.zone=a,this.renderer=l,this.element=c,this.pdfService=u,this.localization=f,this.cdr=_,this.scrollBarWidthService=S,this.items=new An.t(null),this.horizontalResources=[],this.verticalResources=[],this.dragHints=[],this.resizeHints=[],this.getField=gi,this.changes=new An.t(null),this.viewRangeChange=new An.t(null),this.subs=new be.yU,this.groupedResources=[],this.spans=[],this.domEvents=[],this.resourcesCache={},this.dragSelecting=null,this.dragSelectOrigin=null,this.autoHeight=!1,this.rtl=!1,this.isSlotSelected=()=>!1,this.setSlotClass=this.setSlotClass.bind(this),this.setHintClass=this.setHintClass.bind(this),this.weekStart=o.firstDay()}get eventTemplateRef(){return this.eventTemplate||(this.schedulerEventTemplate||{}).templateRef}get groupHeaderTemplateRef(){return this.groupHeaderTemplate||(this.schedulerGroupHeaderTemplate||{}).templateRef}matchOwned(e){return e.reduce((o,r)=>[...o,...r.resources.map(a=>`${r.elementId}_${a.leafIdx}`)],[]).join(" ")}ngOnInit(){const e=this.updateView.bind(this);this.resourcesByIndex=this.resourcesByIndex.bind(this),this.subs.add(this.viewContext.selectedDate.subscribe(this.onSelectDate.bind(this))),this.subs.add(this.viewContext.action.subscribe(this.onAction.bind(this))),this.subs.add(this.viewContext.execute.subscribe(this.execute.bind(this))),this.subs.add(this.viewContext.resize.subscribe(()=>{this.toggleElement(!1),this.updateView()})),this.subs.add(this.viewContext.optionsChange.subscribe(this.optionsChange.bind(this))),this.subs.add(this.changes.subscribe(()=>{this.toggleElement(!1)})),this.subs.add(vh(this.viewContext.items,this.viewState.dateRange,this.viewRangeChange).pipe((0,V.T)(([t,o])=>this.createTasks(t,o))).subscribe(t=>{this.tasks=t.map(o=>({...o,elementId:tn()})),this.assignResources(),this.onTasksChange()})),this.subs.add(vh(this.items,this.changes,this.localization.changes).pipe(le(()=>this.onStable())).subscribe(e)),this.subs.add(this.pdfService.createElement.subscribe(this.createPDFElement.bind(this)))}ngOnChanges(e){Fi(["selectedDateFormat","selectedShortDateFormat"],e)&&this.viewState.notifyDateRange(this.dateRange(this.selectedDate)),e.eventHeight&&this.changes.next(null)}ngAfterViewInit(){this.bindEvents(),this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.rtl=e}))}ngOnDestroy(){this.subs.unsubscribe(),this.domEvents.forEach(e=>e()),this.domEvents=[],this.draggable&&(this.draggable.destroy(),this.draggable=null)}itemIndex(e,t){return e}resourcesByIndex(e){if(!this.resources)return[];if(!this.group)return this.resources.reduce((t,o)=>t.concat(o.data||[]),[]);if(!this.resourcesCache[e]){const t=this.taskResources,o=[];let r=e;for(let a=0;a<t.length;a++){const l=t[a].data||[],c=Math.floor(r/this.spans[a]);o.push(l[c]),r-=c*this.spans[a]}this.resourcesCache[e]=o}return this.resourcesCache[e]}dragResourcesByIndex(e){const t=this.resources||[],o=[];if(this.groupedResources.length){const r=this.resourcesByIndex(e).slice(0),a=this.taskResources;for(let l=0;l<a.length;l++){const c=this.resources.indexOf(a[l]);c>=0&&(o[c]=r[l])}}for(let r=0;r<t.length;r++)o[r]||(o[r]=hUe(this.dragging.task.event,t[r]));return o}getEventClasses(e,t,o){if(this.eventClass)return this.eventClass({event:e.event,resources:t,isAllDay:o})}getEventStyles(e,t,o){const r={backgroundColor:t.color,borderColor:t.color};return this.eventStyles&&Object.assign(r,this.eventStyles({event:e.event,resources:t.resources,isAllDay:o})),r}toPlainDate(e){return $b(this.convertDate(e))}toPlainDateTime(e,t){return e&&t?this.toPlainDate(_p(e,t)):null}optionsChange(e){this.schedulerEventTemplate=e.eventTemplate,this.schedulerGroupHeaderTemplate=e.groupHeaderTemplate,this.min=e.min,this.max=e.max,this.editable=e.editable,this.timezone=e.timezone,this.selectable=e.selectable,this.isSlotSelected=e.isSlotSelected,(!e.changes||Fi(["group","resources"],e.changes,!1)||e.group!==this.group||e.resources!==this.resources)&&(this.group=e.group,this.resources=e.resources,this.groupResources(),this.resourcesCache={},this.tasks&&this.tasks.length&&(this.assignResources(),this.onTasksChange()),this.changes.next(null))}toggleElement(e){this.element&&this.renderer.setStyle(this.element.nativeElement,"display",e?"block":"none")}onStable(){return this.zone.onStable.asObservable().pipe(We(1))}updateView(){this.slotService.invalidate(),this.toggleElement(!0),this.reflow(),this.viewState.notifyLayoutEnd(),this.viewState.emitEvent(Q5e.refreshSlotSelection)}assignResources(){!function wsn(i,n){for(let e=0;e<i.length;e++){const t=i[e];t.resources=pUe(t.event,n)}}(this.tasks,{taskResources:this.taskResources,hasGroups:this.groupedResources.length>0,allResources:this.resources,spans:this.spans})}bindEvents(){const e=this.content.nativeElement,t=this.element.nativeElement;this.zone.runOutsideAngular(()=>{this.times&&this.subs.add(Bt(Dt(this.times.nativeElement,"mousewheel"),Dt(this.times.nativeElement,"DOMMouseScroll")).pipe(X(o=>!o.ctrlKey),F((i=>n=>{const e=aUe(n),t=i.scrollTop;0===t&&0<e||i.scrollHeight<=i.offsetHeight+t&&e<0||n.preventDefault()})(e)),(0,V.T)(aUe)).subscribe(o=>e.scrollTop-=o)),this.subs.add(Bt(tce(e),Dt(e,"contextmenu")).subscribe(o=>this.onClick(o))),this.subs.add(sUe(e).subscribe(o=>this.onClick(o,"dblclick"))),this.subs.add(Dt(t,"keydown").subscribe(o=>this.onKeydown(o))),this.domEvents.push(this.renderer.listen(e,"scroll",()=>{this.headerWrap&&(this.headerWrap.nativeElement.scrollLeft=e.scrollLeft),this.times&&(this.times.nativeElement.scrollTop=e.scrollTop)})),this.draggable=new yG({press:this.onPress.bind(this),drag:this.onDrag.bind(this),release:this.onRelease.bind(this)}),this.draggable.bindTo(t)})}onPress(e){const t=this.editable&&!1!==this.editable.resize,o=this.editable&&!1!==this.editable.drag,r=e.originalEvent.target;if(mp(r,"k-resize-handle")){if(!t)return;this.initResize(e)}else if(o){const l=this.targetTask(r);l&&(e.isTouch||e.originalEvent.preventDefault(),this.pressLocation={x:e.pageX,y:e.pageY},this.pressTarget=l)}!this.pressTarget&&this.selectable&&this.initDragSelect(e),this.dragArgs=e}onDrag(e){this.resizing?(this.resize(e),this.scrollContainer(this.resize,e)):(this.initDrag(e),this.dragging&&(this.drag(e),e.originalEvent.preventDefault(),this.scrollContainer(this.drag,e)),this.dragSelecting&&this.dragSelect(e)),this.dragArgs=e}onRelease(e){clearInterval(this.scrollInterval);const{resizing:t,dragging:o,dragSelecting:r}=this;if(t&&(this.emitEvent("resizeEnd",{event:t.task.event,dataItem:t.task.event.dataItem,start:this.convertDate(t.start),end:this.convertDate(t.end)}),this.resizeHints=[]),o&&(this.emitEvent("dragEnd",{event:o.task.event,dataItem:o.task.event.dataItem,start:o.start?this.convertDate(o.start):o.task.start.toLocalDate(),end:o.end?this.convertDate(o.end):o.task.end.toLocalDate(),resources:o.resources,isAllDay:this.draggedIsAllDay(o.task,o.slot)}),this.dragHints=[]),(t||o)&&(this.removeSlotClass(),this.updateHintContainer(),this.resizing=null,this.dragging=null),r){const{start:a,end:l}=cUe(this.dragSelectOrigin,this.dragSelecting),c={start:this.convertDate(a),end:this.convertDate(l),isAllDay:this.dragSelecting.isDaySlot,resources:this.resourcesByIndex(this.dragSelecting.id.resourceIndex),originalEvent:e.originalEvent};this.viewState.notifySlotSelectionEnd(c),this.dragSelectOrigin=null,this.dragSelecting=null,this.cdr.markForCheck()}this.container=null,this.dragArgs=null,this.pressLocation=null,this.pressTarget=null}setHintClass(e){(this.dragging||this.resizing).hintClass=e}updateHintClass(){const e=this.dragging||this.resizing;let t=!1;this.hints.forEach(o=>{o.class!==e.hintClass&&(o.class=e.hintClass,t=!0)}),t&&this.updateHintContainer()}removeHintClass(){(this.dragging||this.resizing).hintClass=null}setSlotClass(e){const t=this.dragging||this.resizing;t.slotClass=e,this.renderer.addClass(t.slot.nativeElement,t.slotClass)}removeSlotClass(){const e=this.dragging||this.resizing;e.slotClass&&(this.renderer.removeClass(e.slot.nativeElement,e.slotClass),e.slotClass=null)}get hints(){return this.dragging?this.dragHints:this.resizeHints}initDrag(e){if(!this.dragging&&this.pressLocation&&((i,n,e,t)=>Math.sqrt(Math.pow(this.pressLocation.x-e,2)+Math.pow(n-t,2)))(0,this.pressLocation.y,e.pageX,e.pageY)>=10){const t=this.pressTarget,o=t.task;if(this.emitEvent("dragStart",{event:o.event,dataItem:o.event.dataItem}))return this.pressLocation=null,void(this.pressTarget=null);if(this.updateDragContainer(e),void 0===this.containerOffset)return;const{x:r,y:a}=this.coordinatesOffset(this.pressLocation.x,this.pressLocation.y),l=this.slotByPosition(Math.ceil(r),Math.ceil(a),this.container);if(!l)return;this.dragging=t,this.dragging.offset={start:l.start.getTime()-o.start.toUTCDate().getTime(),end:o.end.toUTCDate().getTime()-l.start.getTime()},this.dragging.slot=l,this.dragging.startResources=this.dragging.resourceItems=this.dragResourcesByIndex(l.id.resourceIndex),this.dragging.resources=this.resourceValues(o,this.dragging.startResources)}}updateDragContainer(e){this.container||(this.container=this.content.nativeElement,this.containerOffset=Xb(this.container))}drag(e){if(this.updateDragContainer(e),!this.container)return;const{x:t,y:o}=this.coordinatesOffset(e.pageX,e.pageY),r=this.slotByPosition(t,o,this.container);if(r&&(r!==this.dragging.slot||!this.dragHints.length)){const a=this.dragging,{slot:l,task:c}=a,{ranges:u,start:f,end:_,isAllDay:S}=this.dragRanges(r);let v,b;if(l.id.resourceIndex!==r.id.resourceIndex?(v=this.dragResourcesByIndex(r.id.resourceIndex),b=this.resourceValues(c,v)):(v=a.resourceItems,b=a.resources),this.removeSlotClass(),a.start=f,a.end=_,a.slot=r,a.resources=b,a.resourceItems=v,a.hintClass=null,this.emitEvent("drag",{event:c.event,dataItem:c.event.dataItem,start:this.convertDate(f),end:this.convertDate(_),resources:b,isAllDay:S,setHintClass:this.setHintClass,setSlotClass:this.setSlotClass}))return void this.updateHintClass();const D=this.dragResourceColor(c,v),k=this.dragHintClasses();this.dragHints=[];for(let O=0;O<u.length;O++){const I=u[O],x=I[0],L=this.dragHintSize(x,I[I.length-1]),H=x.rect.left,j={top:rh(x.rect.top),left:this.localization.rtl?"":rh(H),right:this.localization.rtl?rh(H):"",width:L.width,height:L.height,backgroundColor:D,borderColor:D};this.eventStyles&&Object.assign(j,this.eventStyles(this.dragHintEventStyleArgs())),this.dragHints.push({item:Object.assign({},this.dragging.task,{startTime:f,endTime:_}),resources:v,class:k,style:j})}this.updateHintContainer()}}initDragSelect(e){if(this.updateDragContainer(e),!this.containerOffset)return;const{x:t,y:o}=this.coordinatesOffset(e.pageX,e.pageY),r=this.slotByPosition(t,o,this.container);if(!r)return;const a={start:this.convertDate(r.start),end:this.convertDate(r.end),isAllDay:r.isDaySlot,resources:this.resourcesByIndex(r.id.resourceIndex),originalEvent:e.originalEvent},l=new osn(null,a);this.viewState.notifySlotSelectionStart(l),l.isDefaultPrevented()||(this.dragSelecting=r,this.dragSelectOrigin=r,this.cdr.markForCheck())}dragSelect(e){const{x:t,y:o}=this.coordinatesOffset(e.pageX,e.pageY),r=this.slotByPosition(t,o,this.container);if(r&&this.dragSelecting!==r){this.dragSelecting=r;const{start:a,end:l}=cUe(this.dragSelectOrigin,this.dragSelecting),c={start:this.convertDate(a),end:this.convertDate(l),isAllDay:r.isDaySlot,resources:this.resourcesByIndex(r.id.resourceIndex),originalEvent:e.originalEvent};this.viewState.notifySlotSelectionDrag(c),this.cdr.markForCheck()}}dragHintClasses(){const e=this.dragging.hintClass;let t=[];if(e&&t.push(e),this.eventClass){const o=this.eventClass(this.dragHintEventStyleArgs());t=t.concat((i=>{const n=[];if((i=>"string"==typeof i)(i))n.push(i);else if((i=>Array.isArray(i))(i))n.push(...i);else if((i=>"object"==typeof i)(i))for(const e in i)i.hasOwnProperty(e)&&i[e]&&n.push(e);return n})(o))}return t}dragHintEventStyleArgs(){return{event:this.dragging.task.event,resources:this.dragging.resourceItems}}draggedIsAllDay(e,t){return!!e.event.isAllDay}dragResourceColor(e,t){if(this.groupedResources.length){const o=this.resources.indexOf(this.groupedResources[0]);return gi(t[o],this.groupedResources[0].colorField)}return this.resources&&this.resources.length?e.resources[0].color:""}resourceValues(e,t){const o={};for(let r=0;r<t.length;r++){const a=this.resources[r];let c;Array.isArray(t[r])?c=gi(e.event,a.field):(c=gi(t[r],a.valueField),a.multiple&&(c=gi(this.dragging.startResources[r],a.valueField)!==c?[c]:gi(e.event.dataItem,a.field))),uo(o,a.field,c)}return o}initResize(e){e.originalEvent.preventDefault();const t=e.originalEvent.target,o=this.targetTask(t);if(this.emitEvent("resizeStart",{event:o.task.event,dataItem:o.task.event.dataItem}))return;this.resizing=o,o.start=o.task.start.toUTCDate(),o.end=o.task.end.toUTCDate(),o.direction=mp(t,"k-resize-n")?"n":mp(t,"k-resize-s")?"s":mp(t,"k-resize-w")?"w":"e",this.updateDragContainer(e);const{x:r,y:a}=this.coordinatesOffset(e.pageX,e.pageY);o.slot=this.slotByPosition(Math.ceil(r),Math.ceil(a),this.container),o.offset={start:o.task.start.toUTCDate().getTime()-o.slot.start.getTime(),end:o.task.end.toUTCDate().getTime()-o.slot.start.getTime()}}resize(e){const{x:t,y:o}=this.coordinatesOffset(e.pageX,e.pageY),r=this.resizing,{direction:a,task:l,offset:c}=r,u=this.slotService.groupSlotByPosition(r.slot,t,o);if(!u||u===r.slot)return;this.removeSlotClass();const{start:f,end:_,ranges:S}=this.slotService.resizeRanges(u,l,"w"===a||"n"===a,c);r.hintClass=null,r.start=f,r.end=_,r.slot=u,this.emitEvent("resize",{event:l.event,dataItem:l.event.dataItem,start:this.convertDate(f),end:this.convertDate(_),setHintClass:this.setHintClass,setSlotClass:this.setSlotClass})?this.updateHintClass():(this.updateResizeHints(S,f,_),this.updateHintContainer())}updateResizeHints(e,t,o){const r=this.resizing,a=r.direction,l="w"===a||"e"===a,c="w"===a||"n"===a;this.resizeHints=[];for(let u=0;u<e.length;u++){const f=e[u],_=f[0],S=f[f.length-1],v=0===u,b=u===e.length-1;this.resizeHints.push({first:v,last:b,rect:{left:_.rect.left,top:_.top,height:l?_.height:Math.abs(S.rect.top-_.rect.top)+S.rect.height,width:l?Math.abs(S.rect.left-_.rect.left)+S.rect.width:_.width},start:v&&!c?r.start:_.start,end:b&&c?r.end:S.end,class:r.hintClass})}}coordinatesOffset(e,t,o=this.container,r=this.containerOffset){const a=e-r.left+o.scrollLeft;return{x:this.localization.rtl?this.slotService.containerSize-a:a,y:t-r.top+o.scrollTop}}scrollContainer(e,t){clearInterval(this.scrollInterval);const o=this.container;if(!o)return;const r=t.pageY-this.containerOffset.top,a=Math.abs(o.offsetHeight-r),l=t.pageY-this.dragArgs.pageY,c=t.pageX-this.containerOffset.left,u=Math.abs(o.offsetWidth-c),f=t.pageX-this.dragArgs.pageX;let _=!1,S=0,v=0;a<60&&o.scrollTop+o.offsetHeight<o.scrollHeight&&l>0?(_=!0,v=15,this.container.scrollTop+=60-a):r<60&&o.scrollTop>0&&l<0&&(_=!0,v=-15,this.container.scrollTop-=60-r),u<60&&o.scrollLeft+o.offsetWidth<o.scrollWidth&&f>0?(_=!0,S=15,this.container.scrollLeft+=60-u):c<60&&o.scrollLeft>0&&l<0&&(_=!0,S=-15,this.container.scrollLeft-=60-c),_&&(this.scrollInterval=setInterval(()=>{this.container?(this.container.scrollLeft+=S,this.container.scrollTop+=v,e.call(this,t)):clearInterval(this.scrollInterval)},50))}emitEvent(e,t){return this.viewState.emitEvent(e,t),t.prevented}targetTask(e){const t=Hb(e,o=>o.hasAttribute("data-task-index"),this.element.nativeElement);if(t){const o=parseInt(t.getAttribute("data-task-index"),10);return{target:t,task:this.tasks.find(r=>r.index===o)}}}updateHintContainer(){this.hintContainer&&this.hintContainer.detectChanges()}convertDate(e){return Gi.fromUTCDate(e,this.timezone).toLocalDate()}onClick(e,t=e.type){this.emitSlotEvent(e,t),this.emitTaskEvent(e,t)}emitSlotEvent(e,t){const o=Hb(e.target,r=>r.hasAttribute("data-slot-index"),this.element.nativeElement);if(o){const r=o.getAttribute("data-slot-index"),a="dblclick"===t?"slotDblClick":"slotClick",l=this.slotByIndex(r,e);this.viewState.emitEvent(a,{type:t,slot:l,start:this.convertDate(l.start),end:this.convertDate(l.end),isAllDay:l.isDaySlot,originalEvent:e,resources:this.resources&&this.resources.length?this.resourcesByIndex(l.id.resourceIndex):[]})}}emitTaskEvent(e,t){const o=this.targetTask(e.target);if(o){const r=o.task,l="dblclick"===t;"click"===t&&Hb(e.target,c=>mp(c,"k-event-delete"),o.target)?this.viewState.emitEvent("remove",{event:r.event,dataItem:r.event.dataItem}):(this.viewState.emitEvent(l?"eventDblClick":"eventClick",{type:t,event:r.event,originalEvent:e}),o.target.focus())}}onKeydown(e){const t=this.targetTask(e.target);if(t){const o=t.task;this.viewState.emitEvent("eventKeydown",{event:o.event,dataItem:o.event.dataItem,originalEvent:e})}}syncTables(){if(this.timesTable&&this.renderer.setStyle(this.timesTable.nativeElement,"height",`${this.contentTable.nativeElement.offsetHeight}px`),rce(this.content.nativeElement,"vertical")||this.renderer.setStyle(this.header.nativeElement,this.localization.rtl?"padding-inline-start":"padding-inline-end","0px"),this.renderer.removeStyle(this.header.nativeElement,this.localization.rtl?"padding-inline-end":"padding-inline-start"),this.times){const e=this.times.nativeElement;this.timesHeader.nativeElement.style.width=`${e.offsetWidth}px`,this.renderer.setStyle(e,"height",("auto"===this.contentHeight?this.content.nativeElement.offsetHeight:this.contentHeight)-(rce(this.content.nativeElement,"horizontal")?nJ():0)+"px"),e.scrollTop=this.content.nativeElement.scrollTop}}updateContentHeight(){const e=this.element.nativeElement,t=e.parentNode,o=this.content.nativeElement,r=this.autoHeight||!t?.style.height,a=o.scrollLeft,l=o.scrollTop;if(this.renderer.setStyle(o,"height",""),this.times&&this.renderer.setStyle(this.times.nativeElement,"height",""),r)return void(this.contentHeight="auto");let c=t.clientHeight;for(let u=0;u<t.children.length;u++){const f=t.children[u];f!==e&&!vUe(f)&&(c-=f.offsetHeight)}c-=this.headerWrap?this.headerWrap.nativeElement.offsetHeight:0,this.renderer.setStyle(o,"height",`${c}px`),this.contentHeight=c,o.scrollLeft=a,o.scrollTop=l}groupResources(){const t=this.group||{};this.groupedResources=wz(t,this.resources||[]),"vertical"!==t.orientation?(this.horizontalResources=this.groupedResources,this.verticalResources=[]):(this.verticalResources=this.groupedResources,this.horizontalResources=[]),this.spans=this.resourceSpans()}get taskResources(){return this.groupedResources.length?this.groupedResources:this.resources&&this.resources.length?[this.resources[0]]:[{}]}resourceSpans(){const e=[1],t=this.groupedResources;let o=1;for(let r=t.length-1;r>0;r--)o*=(t[r].data||[]).length||1,e.unshift(o);return e}isInRange(e){const t=this.dateRange(e);return(!this.min||this.min<t.end)&&(!this.max||t.start<=this.max)}createPDFElement(){const e=this.contentHeight,t=this.content.nativeElement.scrollTop;"auto"!==e&&(this.autoHeight=!0,this.updateView());const o=this.element.nativeElement.cloneNode(!0);o.style.width=`${this.pdfWidth()}px`,"auto"!==e&&(this.autoHeight=!1,this.updateView()),this.pdfService.elementReady.emit({element:o}),this.content.nativeElement.scrollTop=t}pdfWidth(){return this.element.nativeElement.offsetWidth}containerByPosition({x:e,y:t}){const o=this.content.nativeElement,r=Xb(o);if(r.top<=t&&t<=r.top+r.height&&r.left<=e&&e<=r.left+r.width)return{element:o,offset:r}}execute(e){if("slotByPosition"===e.name){const t=this.containerByPosition(e.args);if(t){const o=this.coordinatesOffset(e.args.x,e.args.y,t.element,t.offset),r=this.slotByPosition(o.x,o.y,t.element);e.result(this.slotFields(r))}}else if("eventFromElement"===e.name){const t=this.targetTask(e.args.element);t&&e.result(t.task.event)}}slotFields(e){return{element:e.element,resources:this.groupedResources.length?this.resourcesByIndex(e.id.resourceIndex):[],start:this.convertDate(e.start),end:this.convertDate(e.end)}}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Oo),s.rXU(io),s.rXU(xt.Bs),s.rXU(Gz),s.rXU(s.SKi),s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(fp),s.rXU(z),s.rXU(s.gRc),s.rXU(MC))},i.\u0275dir=s.FsC({type:i,viewQuery:function(e,t){if(1&e&&(s.GBs(Ble,5),s.GBs(Ien,5),s.GBs(Ren,5),s.GBs(Aen,5),s.GBs(xen,5),s.GBs(Nen,5),s.GBs(z5e,5),s.GBs(Len,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.content=o.first),s.mGM(o=s.lsd())&&(t.header=o.first),s.mGM(o=s.lsd())&&(t.contentTable=o.first),s.mGM(o=s.lsd())&&(t.times=o.first),s.mGM(o=s.lsd())&&(t.timesHeader=o.first),s.mGM(o=s.lsd())&&(t.timesTable=o.first),s.mGM(o=s.lsd())&&(t.headerWrap=o.first),s.mGM(o=s.lsd())&&(t.hintContainer=o.first)}},inputs:{eventTemplate:"eventTemplate",groupHeaderTemplate:"groupHeaderTemplate",selectedDateFormat:"selectedDateFormat",selectedShortDateFormat:"selectedShortDateFormat",eventHeight:"eventHeight",slotClass:"slotClass",eventClass:"eventClass",eventStyles:"eventStyles",weekStart:"weekStart"},features:[s.OA$]}),i})(),Sce=(()=>{class i{constructor(e,t,o){this.element=e,this.slotService=t,this.localization=o,this._rect=null}get slotIndex(){return this.key}get start(){return this._start}set start(e){this._start=e}get end(){return this._end}set end(e){this._end=e}get rect(){if(this._rect)return this._rect;const e=this.nativeElement;return this._rect={left:this.localization.rtl?this.slotService.containerSize-(e.offsetLeft+e.clientWidth):e.offsetLeft,top:e.offsetTop,width:e.clientWidth,height:e.clientHeight},this._rect}get top(){return this.element?this.nativeElement.offsetTop:0}get padding(){return this.element&&ne()?2*parseInt(window.getComputedStyle(this.nativeElement).paddingTop,10):0}get height(){return this.element?this.nativeElement.offsetHeight:0}set height(e){this.element&&(this.nativeElement.style.height=`${e}px`),this._rect&&(this._rect.height=e)}get width(){return this.element?this.nativeElement.offsetWidth:0}get key(){return`${this.id.resourceIndex}:${this.id.rangeIndex}:${this.id.index}`}get nativeElement(){return this.element.nativeElement}ngOnInit(){this.slotService.registerSlot(this)}ngOnDestroy(){this.slotService.unregisterSlot(this)}invalidate(){this._rect=null}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(Gz),s.rXU(z))},i.\u0275dir=s.FsC({type:i,hostVars:1,hostBindings:function(e,t){2&e&&s.BMQ("data-slot-index",t.slotIndex)},inputs:{id:"id"}}),i})(),Oon=(()=>{class i extends Sce{constructor(e,t,o,r){super(e,t,o),this.cdr=r,this.moreHorizontalIcon=RX,this.isDaySlot=!0,this._linkHeight=null}set day(e){this._day=e,this.start=e}get day(){return this._day}set start(e){this.startDate=Lr(e)}get start(){return this.startDate}get end(){return DO(this.start,1)}isFirstDayOfMonth(e){return LGe(e,h0(e))}get linkHeight(){if(null===this._linkHeight){const e=(i=>{const n=this.nativeElement.children,e=n.length;for(let t=0;t<e;t++)if(1===n[t].nodeType)return n[t]})();this._linkHeight=e?e.offsetHeight+e.offsetTop:0}return this._linkHeight}ngOnDestroy(){super.ngOnDestroy(),this.removeShowMore()}showMore(e){this.showMoreButton=!0,this.style=`width: ${e.width}px; left: ${e.left}px; top: ${e.top}px; border-color: inherit;`,this.cdr.detectChanges()}hideMore(){this.showMoreButton=!1,this.removeShowMore()}invalidate(){super.invalidate(),this._linkHeight=null,this.showMoreButton=!1,this.removeShowMore()}removeShowMore(){this.showMoreButton=!1,this.cdr.detectChanges()}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(OO),s.rXU(z),s.rXU(s.gRc))},i.\u0275cmp=s.VBU({type:i,selectors:[["","monthSlot",""]],inputs:{resourcesByIndex:"resourcesByIndex",monthDaySlotTemplateRef:"monthDaySlotTemplateRef",day:[s.Mj6.None,"monthSlot","day"]},features:[s.Vt3],attrs:Pen,decls:3,vars:3,consts:[["aria-hidden","true","class","k-link k-nav-day",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["class","k-more-events k-button",3,"style",4,"ngIf"],["aria-hidden","true",1,"k-link","k-nav-day"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-more-events","k-button"],["name","more-horizontal",3,"svgIcon"]],template:function(e,t){1&e&&s.DNE(0,Gen,3,4,"span",0)(1,Uen,1,5,"ng-container",1)(2,Fen,2,3,"div",2),2&e&&(s.Y8G("ngIf",!t.monthDaySlotTemplateRef),s.R7$(),s.Y8G("ngIf",t.monthDaySlotTemplateRef),s.R7$(),s.Y8G("ngIf",t.showMoreButton))},dependencies:[Qe,q,qe,xt.vh],encapsulation:2}),i})(),Vz=(()=>{class i{constructor(){this.marqueeClasses=!0}get left(){return this.hint.rect.left}get top(){return this.hint.rect.top}get width(){return this.hint.rect.width}get height(){return this.hint.rect.height}get start(){return or(this.hint.start)}get end(){return or(this.hint.end)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=s.VBU({type:i,selectors:[["","kendoResizeHint",""]],hostVars:18,hostBindings:function(e,t){2&e&&(s.xc7("left",t.left,"px")("right",t.left,"px")("top",t.top,"px")("width",t.width,"px")("height",t.height,"px"),s.AVh("k-marquee",t.marqueeClasses)("k-scheduler-marquee",t.marqueeClasses)("k-first",t.marqueeClasses)("k-last",t.marqueeClasses))},inputs:{hint:"hint",format:"format"},attrs:Ben,decls:4,vars:2,consts:[[1,"k-marquee-color"],[1,"k-marquee-text"],["class","k-label-top",4,"ngIf"],["class","k-label-bottom",4,"ngIf"],[1,"k-label-top"],[1,"k-label-bottom"]],template:function(e,t){1&e&&(s.nrm(0,"div",0),s.j41(1,"div",1),s.DNE(2,Ven,3,4,"div",2)(3,zen,3,4,"div",3),s.k0s()),2&e&&(s.R7$(2),s.Y8G("ngIf",t.hint.first),s.R7$(),s.Y8G("ngIf",t.hint.last))},dependencies:[q,xt.vh],encapsulation:2}),i})();class Ton{constructor(n,e=n.length-1){this.resources=n,this.lastIndex=e}*[Oz](){let n=this.resources;const e=Math.max(0,this.lastIndex);n&&n.length||(n=[{}]);const t=n[e].data||[],o=t.length;let r=1;for(let a=0;a<=e;a++)r*=(n[a].data||[]).length||1;for(let a=0;a<r;a++)yield t[a%o]}}let zz=(()=>{class i{transform(e=[],t){return new Ton(e,t)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=s.EJ8({name:"resourceIterator",type:i,pure:!0}),i})();class Mon{constructor(n){this.count=n}*[Oz](){for(let n=0;n<this.count;n++)yield n}}let vce=(()=>{class i{transform(e){return new Mon(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=s.EJ8({name:"repeat",type:i,pure:!0}),i})(),Ion=(()=>{class i extends gce{constructor(e,t,o,r,a,l,c,u,f,_,S){super(e,t,o,r,a,c,l,u,f,_,S),this.numberOfWeeks=6,this.resizeHintFormat={skeleton:"Md"},this.weeks=[],this.updateOngoingEvents=this.updateOngoingEvents.bind(this)}get monthDaySlotTemplateRef(){return this.monthDaySlotTemplate||(this.schedulerMonthDaySlotTemplate||{}).templateRef}ngOnChanges(e){wt("weekStart",e)&&this.onSelectDate(this.selectedDate),super.ngOnChanges(e)}ngAfterViewInit(){this.updateOngoingEvents(),super.ngAfterViewInit()}ngOnDestroy(){clearTimeout(this.ongoingEventsTimeout),super.ngOnDestroy()}horizontalColspan(e){const t=this.horizontalResources;let o=7;for(let r=e+1;r<t.length;r++)o*=(t[r].data||[]).length||1;return o}verticalRowspan(e){const t=this.verticalResources;let o=this.numberOfWeeks;for(let r=e+1;r<t.length;r++)o*=(t[r].data||[]).length||1;return o}verticalItem(e,t){const o=this.verticalResources[t].data||[],r=this.verticalResources;let a=1;for(let l=t+1;l<r.length;l++)a*=(r[l].data||[]).length||1;return o[e/a%o.length]}daySlotClass(e,t){if(this.slotClass)return this.slotClass({start:e,end:_s(e,1),resources:this.resourcesByIndex(t),isAllDay:!1})}cellTitle(e){return this.intl.formatDate(e,"D")}addDay(e){return _s(e,1)}optionsChange(e){this.schedulerMonthDaySlotTemplate=e[`${this.type}DaySlotTemplate`],super.optionsChange(e)}createTasks(e,t){return this.weeks=this.createDaySlots(t),((i,n,e,t)=>{const o=[],r=Lr(i),a=Lr(n);for(let l=0;l<e.length;l++){const c=e[l],u={},f=c.start.toUTCDate(),_=c.end,S=(c.end.getTime()!==_.getTime()?_.addDays(1):_).toUTCDate();if(Sr(f,S,r,a))for(let v=0;v<t.length;v++){const b=t[v],D=Lr(b[0]),k=DO(Lr(bon(b)),1);if(Sr(f,S,D,k)){const O={index:l,startTime:f,endTime:S,start:c.start,end:c.end,event:c.event,isAllDay:c.event.isAllDay,rangeIndex:v,data:u};o.push(O),O.head=O.endTime>k,O.tail=O.startTime<D}}}return nce(o)})(t.start,t.end,e,this.weeks)}onTasksChange(){(function Don(i){for(let n=0;n<i.length;n++){const e=i[n],t=e.resources;yon(e);for(let o=0;o<t.length;o++)e.data[t[o].leafIdx]={}}})(this.tasks),this.items.next(this.tasks)}reflow(){this.updateContentHeight();const e=this.content.nativeElement;this.slotService.containerSize=e.scrollWidth,"auto"===this.contentHeight&&(e.style.overflow="visible"),this.slotService.layout(this.eventHeight),"auto"===this.contentHeight&&(e.style.overflow=""),this.syncTables()}onClick(e,t=e.type){if("click"===t){const o=Hb(e.target,a=>a.hasAttribute("data-slot-index"),this.element.nativeElement),r=Hb(e.target,a=>mp(a,"k-more-events k-nav-day"),o);if(o&&r){const a=o.getAttribute("data-slot-index"),l=this.slotService.slotByIndex(a);return void this.zone.run(()=>{this.viewState.navigateTo({viewName:"day",date:or(l.start)})})}}super.onClick(e,t)}slotByIndex(e,t){return this.slotService.slotByIndex(e)}onSelectDate(e){const t=this.dateRange(e);this.selectedDate=e,this.viewState.notifyDateRange(t),this.weeks=this.createDaySlots(t)}onAction(e){const t=En(this.selectedDate);if("next"===e.type){const o=this.newRange(t);this.isInRange(o)&&this.viewState.notifyNextDate(o)}if("prev"===e.type){const o=this.newRange(t,-1);this.isInRange(o)&&this.viewState.notifyNextDate(o)}}dateRange(e=this.selectedDate){return this.dateRangeFn(e,this.weekStart)}dragRanges(e){return this.slotService.dragRanges(e,this.dragging.offset)}dragHintSize(e,t){return{width:rh(t.rect.left-e.rect.left+t.rect.width),height:rh(e.height)}}slotByPosition(e,t){return this.slotService.slotByPosition(e,t)}updateOngoingEvents(){const e=!this.highlightOngoingEvents||!1===this.highlightOngoingEvents.enabled;!ne()||e||(clearTimeout(this.ongoingEventsTimeout),this.zone.runOutsideAngular(()=>{this.ongoingEventsTimeout=setTimeout(this.updateOngoingEvents,this.highlightOngoingEvents.updateInterval||X4)}),this.toggleOngoingClass())}currentTime(){return new Date}toggleOngoingClass(){const e=this.currentTime(),t=dn(this.highlightOngoingEvents.cssClass)?this.highlightOngoingEvents.cssClass:JUe;this.eventElements.forEach(o=>{const r=jb(e,o.item.start,o.item.end);this.renderer[r?"addClass":"removeClass"](o.nativeElement,t)})}createDaySlots({start:e}){const t=[];let o=e;for(let r=0;r<this.numberOfWeeks;r++){const a=[];t.push(a);for(let l=0;l<7;l++)a.push(o),o=_s(o,1)}return t}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Oo),s.rXU(io),s.rXU(xt.Bs),s.rXU(OO),s.rXU(s.SKi),s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(fp),s.rXU(z),s.rXU(s.gRc),s.rXU(MC))},i.\u0275cmp=s.VBU({type:i,selectors:[["month-view"]],viewQuery:function(e,t){if(1&e&&s.GBs(ZUe,5),2&e){let o;s.mGM(o=s.lsd())&&(t.eventElements=o)}},inputs:{monthDaySlotTemplate:"monthDaySlotTemplate",highlightOngoingEvents:"highlightOngoingEvents",type:"type",numberOfWeeks:"numberOfWeeks",newRange:"newRange",dateRangeFn:"dateRangeFn"},features:[s.Jv_([OO]),s.Vt3,s.OA$],decls:26,vars:19,consts:[["header",""],["headerWrap",""],["content",""],["contentTable",""],["hintContainer",""],["timesHeader",""],["times",""],["timesTable",""],[1,"k-scheduler-layout","k-scheduler-monthview","k-scheduler-flex-layout"],[1,"k-scheduler-pane"],["class","k-scheduler-times",4,"ngIf"],[1,"k-scheduler-header","k-state-default"],[1,"k-scheduler-header-wrap"],["aria-hidden","true",1,"k-scheduler-table"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","k-scheduler-times k-scheduler-resources",4,"ngIf"],["tabindex","0","role","group",1,"k-scheduler-content"],["role","presentation",1,"k-scheduler-table","k-user-select-none"],[1,"k-scheduler-times"],["class","k-slot-cell",4,"ngFor","ngForOf","ngForTrackBy"],[1,"k-slot-cell"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-scheduler-times","k-scheduler-resources"],[1,"k-slot-cell","k-empty-slot"],["class","k-slot-cell",3,"ngClass",4,"ngIf"],[1,"k-slot-cell",3,"ngClass"],[3,"monthSlot","monthDaySlotTemplateRef","resourcesByIndex","ngClass","id","title","k-selected",4,"ngFor","ngForOf","ngForTrackBy"],[3,"monthSlot","monthDaySlotTemplateRef","resourcesByIndex","ngClass","id","title"],["role","button","monthViewItem","",3,"ngClass","ngStyle","kendoSchedulerFocusIndex","id","editable","item","index","rangeIndex","eventTemplate","resources","resourceIndex",4,"ngFor","ngForOf","ngForTrackBy"],["role","button","monthViewItem","",3,"ngClass","ngStyle","kendoSchedulerFocusIndex","id","editable","item","index","rangeIndex","eventTemplate","resources","resourceIndex"],["class","k-event-drag-hint","monthViewItem","",3,"ngStyle","ngClass","dragHint","eventTemplate","item","resources",4,"ngFor","ngForOf","ngForTrackBy"],["kendoResizeHint","",3,"hint","ngClass","format",4,"ngFor","ngForOf","ngForTrackBy"],["monthViewItem","",1,"k-event-drag-hint",3,"ngStyle","ngClass","dragHint","eventTemplate","item","resources"],["kendoResizeHint","",3,"hint","ngClass","format"]],template:function(e,t){1&e&&(s.j41(0,"div",8)(1,"div",9),s.DNE(2,jen,5,0,"div",10),s.j41(3,"div",11,0)(5,"div",12,1)(7,"table",13),s.DNE(8,Ken,3,5,"tr",14),s.j41(9,"tr"),s.DNE(10,Jen,2,2,"ng-container",14),s.nI1(11,"resourceIterator"),s.k0s()()()()(),s.j41(12,"div",9),s.DNE(13,itn,6,4,"div",15),s.j41(14,"div",16,2),s.nI1(16,"async"),s.j41(17,"table",17,3),s.DNE(19,atn,2,2,"ng-container",14),s.nI1(20,"resourceIterator"),s.k0s(),s.DNE(21,ctn,2,2,"ng-container",14),s.nI1(22,"async"),s.j41(23,"kendo-hint-container",null,4),s.DNE(25,htn,2,4,"ng-template"),s.k0s()()()()),2&e&&(s.R7$(2),s.Y8G("ngIf",t.verticalResources.length),s.R7$(6),s.Y8G("ngForOf",t.horizontalResources)("ngForTrackBy",t.itemIndex),s.R7$(2),s.Y8G("ngForOf",s.bMT(11,11,t.horizontalResources))("ngForTrackBy",t.itemIndex),s.R7$(3),s.Y8G("ngIf",t.verticalResources.length),s.R7$(),s.BMQ("aria-owns",t.matchOwned(s.bMT(16,13,t.items))),s.R7$(5),s.Y8G("ngForOf",s.bMT(20,15,t.verticalResources))("ngForTrackBy",t.itemIndex),s.R7$(2),s.Y8G("ngForOf",s.bMT(22,17,t.items))("ngForTrackBy",t.itemIndex))},dependencies:[Oon,ZUe,Fz,Vz,q,ut,qe,Be,Wn,Mv,zz,xt.vh,vce,Cp],encapsulation:2}),i})(),Ron=(()=>{class i extends Lz{constructor(e,t,o,r,a){super(e,t,o,r),this.intl=a,this.selectedDateFormat="{0:Y}",this.selectedShortDateFormat="{0:y}",this.name="month"}get title(){return this.localization.get("monthViewTitle")}get viewEventHeight(){return dn(this.eventHeight)?this.eventHeight:this.schedulerOptions.eventHeight||25}dateRange(e,t){const o=h0(En(e)),r=dz(o,t);return{start:r,end:_s(r,42),text:this.intl.format(this.selectedDateFormat,o),shortText:this.intl.format(this.selectedShortDateFormat,o)}}newRange(e,t=1){return h0(So(e,t))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z),s.rXU(s.gRc),s.rXU(Oo),s.rXU(io),s.rXU(xt.Bs))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-scheduler-month-view"]],contentQueries:function(e,t,o){if(1&e&&s.wni(o,Jle,5),2&e){let r;s.mGM(r=s.lsd())&&(t.monthDaySlotTemplate=r.first)}},inputs:{eventHeight:"eventHeight",selectedDateFormat:"selectedDateFormat",selectedShortDateFormat:"selectedShortDateFormat"},features:[s.Jv_([{provide:qc,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:2,vars:0,consts:[["content",""],["type","month",3,"eventHeight","eventTemplate","slotClass","eventClass","eventStyles","groupHeaderTemplate","monthDaySlotTemplate","selectedDateFormat","selectedShortDateFormat","highlightOngoingEvents","weekStart","dateRangeFn","newRange"]],template:function(e,t){1&e&&s.DNE(0,ptn,1,13,"ng-template",null,0,s.C5r)},dependencies:[Ion],encapsulation:2,changeDetection:0}),i})(),Ag=(()=>{class i{constructor(e){this.hostClasses=!0,this.toolbarRole="toolbar",this.inlineJustifyContentStyle="start",this.itemClick=new s.bkB,this.sub=e.toggleWorkHours.subscribe(()=>this.itemClick.emit())}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}onItemClick(e,t){e.preventDefault(),this.itemClick.emit(t)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(io))},i.\u0275cmp=s.VBU({type:i,selectors:[["","viewFooter",""]],hostVars:9,hostBindings:function(e,t){2&e&&(s.BMQ("role",t.toolbarRole),s.xc7("justify-content",t.inlineJustifyContentStyle),s.AVh("k-scheduler-footer",t.hostClasses)("k-toolbar",t.hostClasses)("k-toolbar-md",t.hostClasses))},inputs:{items:"items"},outputs:{itemClick:"itemClick"},attrs:ftn,decls:2,vars:1,consts:[[1,"k-scheduler-navigation"],["type","button","kendoButton","","containerType","footer",3,"icon","svgIcon","ngClass","kendoSchedulerFocusIndex","click",4,"ngFor","ngForOf"],["type","button","kendoButton","","containerType","footer",3,"click","icon","svgIcon","ngClass","kendoSchedulerFocusIndex"],[1,"k-button-text"]],template:function(e,t){1&e&&(s.j41(0,"span",0),s.DNE(1,mtn,3,5,"button",1),s.k0s()),2&e&&(s.R7$(),s.Y8G("ngForOf",t.items))},dependencies:[Ht,ut,Be,Mv],encapsulation:2}),i})(),Av=(()=>{class i{constructor(e,t){this.footer=e,this.localization=t,this.showWorkHours=!1,this.footerItems=[{cssClass:"k-scheduler-fullday",fontIcon:"clock",svgIcon:j3,text:""}]}ngOnInit(){this.toggleWorkHours(),this.footer.items=this.footerItems}ngOnChanges(){this.toggleWorkHours()}toggleWorkHours(){this.footerItems[0].text=this.localization.get(this.showWorkHours?"showFullDay":"showWorkDay")}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Ag),s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","kendoWorkHoursFooter",""]],inputs:{showWorkHours:"showWorkHours"},features:[s.OA$]}),i})(),W4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,xt.W5,kO,ID,xn],xt.W5,Ge,kO,xn]}),i})(),Cce=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[W4,xn]]}),i})(),eFe=(()=>{class i extends Lz{constructor(e,t,o,r){super(e,t,o,r)}get viewEventHeight(){return this.optionValue("eventHeight")||25}get shouldShowWorkHours(){return this.optionValue("showWorkHours")}get viewStartTime(){return this.optionValue("startTime")}get viewEndTime(){return this.optionValue("endTime")}get viewWorkDayStart(){return this.optionValue("workDayStart")}get viewWorkDayEnd(){return this.optionValue("workDayEnd")}get viewWorkWeekStart(){return this.optionValue("workWeekStart")}get viewWorkWeekEnd(){return this.optionValue("workWeekEnd")}get viewSlotDuration(){return this.optionValue("slotDuration")}get viewSlotDivisions(){return this.optionValue("slotDivisions")}get viewCurrentTimeMarker(){return this.optionValue("currentTimeMarker")}get viewHighlightOngoingEvents(){return this.optionValue("highlightOngoingEvents")}get viewScrollTime(){return this.optionValue("scrollTime")}optionValue(e){return dn(this[e])?this[e]:this.schedulerOptions[e]}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z),s.rXU(s.gRc),s.rXU(Oo),s.rXU(io))},i.\u0275dir=s.FsC({type:i,contentQueries:function(e,t,o){if(1&e&&(s.wni(o,qle,5),s.wni(o,Xle,5),s.wni(o,Kle,5),s.wni(o,Yle,5)),2&e){let r;s.mGM(r=s.lsd())&&(t.timeSlotTemplate=r.first),s.mGM(r=s.lsd())&&(t.dateHeaderTemplate=r.first),s.mGM(r=s.lsd())&&(t.majorTimeHeaderTemplate=r.first),s.mGM(r=s.lsd())&&(t.minorTimeHeaderTemplate=r.first)}},inputs:{showWorkHours:"showWorkHours",eventHeight:"eventHeight",startTime:"startTime",scrollTime:"scrollTime",endTime:"endTime",workDayStart:"workDayStart",workDayEnd:"workDayEnd",workWeekStart:"workWeekStart",workWeekEnd:"workWeekEnd",slotDuration:"slotDuration",slotDivisions:"slotDivisions",currentTimeMarker:"currentTimeMarker",highlightOngoingEvents:"highlightOngoingEvents"},features:[s.Vt3]}),i})(),tFe=(()=>{class i extends eFe{constructor(e,t,o,r){super(e,t,o,r)}get viewSlotFill(){return this.optionValue("slotFill")}get viewAllDaySlot(){return this.optionValue("allDaySlot")}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z),s.rXU(s.gRc),s.rXU(Oo),s.rXU(io))},i.\u0275dir=s.FsC({type:i,inputs:{slotFill:"slotFill",allDaySlot:"allDaySlot"},features:[s.Vt3]}),i})();const Kon=(i,n)=>i<=n&&n<=i+25,Hz=(i,n,e=!0)=>i.start.getTime()<=n.getTime()?(e?i.height:i.width)*((n.getTime()-i.start.getTime())/(i.end.getTime()-i.start.getTime())):0,Yon=(i,n)=>{const e=zb(i.columnIndex)?i.columnIndex:Number.MAX_VALUE,t=zb(n.columnIndex)?n.columnIndex:Number.MAX_VALUE;return e===t?i.item.startTime.getTime()-n.item.startTime.getTime():e-t};function qon(i,n){if(void 0!==n.rowIndex)return n.rowIndex;for(let e=0;e<i.length;e++){const t=i[e];if(!t||!Sr(n.item.startTime,n.item.endTime,t.item.startTime,t.item.endTime))return e}return i.length}function nFe(i,n,e,t,o){const r=i[0].padding;if(!n.length)return{height:e-r};n.forEach(f=>{f.rowIndex=void 0,f.rect={height:t,width:0}});const a=Yp(n,[{field:"item.startTime",dir:"asc"},{field:"item.endTime",dir:"desc"}]),l={};a.forEach(f=>i.filter(_=>Sr(f.item.startTime,f.item.endTime,_.start,_.end)).forEach(_=>{const S=l[_.key]=l[_.key]||{rows:[],slot:_,events:[]};f.rowIndex=o(S.rows,f),S.rows[f.rowIndex]=f,S.events.push(f)}));const c=i[0].top;let u=0;return Object.keys(l).forEach(f=>{const _=l[f].events;let S=0;for(let v=0;v<_.length;v++){const b=_[v];b&&(b.rect.top=c+b.rowIndex*(10+b.rect.height),S=Math.max(S,b.rect.top-c+b.rect.height))}u=Math.max(S,u)}),u+=e-r,{height:u,slotItems:l}}function iFe(i,n,e){Object.keys(i).forEach(t=>{const{slot:o,events:r}=i[t],a=o.rect;for(let l=0;l<r.length;l++){const c=r[l];if(c){zb(c.rect.left)||(c.rect.left=o.rect.left+(e?Hz(o,c.item.startTime,!1):0));const u=e&&c.item.endTime.getTime()<o.end.getTime()?Hz(o,c.item.endTime,!1):a.width;c.rect.width=o.rect.left+u-c.rect.left}}}),n.forEach(t=>{t.reflow()})}class Qon{constructor(n){this.index=n,this.slotMap=new Pz,this.itemMap=new Pz}get slots(){return this.slotMap.toArray()}get firstSlot(){return this.slotMap.first}get lastSlot(){return this.slotMap.last}get items(){return this.itemMap.toArray()}get rect(){const n=this.firstSlot.rect,e=this.lastSlot.rect;return{left:n.left,top:n.top,width:e.left-n.left+e.width,height:e.top-n.top+e.height}}get start(){const n=this.slotMap.first;return n?n.start:null}get end(){const n=this.slotMap.last;return n?n.end:null}get hasSlots(){return this.slotMap.count>0}get hasItems(){return this.itemMap.count>0}registerItem(n){this.itemMap.addItem(n.item.index,n)}unregisterItem(n,e){this.itemMap.removeItem(e.index,n)}registerSlot(n){this.slotMap.addItem(n.id.index,n)}unregisterSlot(n){this.slotMap.removeItem(n.id.index,n)}layout(n){const e=this.items;if(!e.length)return;const t=Math.max(Math.min(n.fill||.9,1),.1),o=Yp(e,[{field:"item.startTime",dir:"asc"},{field:"item.endTime",dir:"desc"}]);e.forEach((c,u)=>{c.rect=null,c.columnIndex=void 0});const r={},a=this.slots;o.forEach(c=>a.filter(u=>Sr(c.item.startTime,c.item.endTime,u.start,u.end)).forEach(u=>{const f=r[u.key]=r[u.key]||{events:[]};f.slot=u,f.events.push(c)}));const l=Object.keys(r);(function Jon(i,n){let e=0,t=[];i.forEach(o=>{const{slot:r,events:a}=n[o],l=a.length;let c=!0;a.sort(Yon),e=Math.max(l,e),t.push(r);for(let u=0;u<l;u++){const f=a[u];if(c=c&&f.item.endTime.getTime()<=r.end.getTime(),!zb(f.columnIndex)){f.rect={top:r.rect.top+Hz(r,f.item.startTime)},f.columnIndex=u,f.lastColumn=!0;for(let _=0,S=-1;_<u;_++){const v=a[_];if(v.columnIndex>S+1){f.columnIndex=S+1,f.lastColumn=!1,a.splice(u,1),a.splice(f.columnIndex,0,f);break}if(!Sr(f.item.startTime,f.item.endTime,v.item.startTime,v.item.endTime)&&!Kon(v.rect.top,f.rect.top)){f.columnIndex=_,f.lastColumn=!a.some(b=>b.columnIndex&&_<b.columnIndex&&Sr(f.item.startTime,f.item.endTime,b.item.startTime,b.item.endTime)),a.splice(u,1),a.splice(_,0,f);break}S=v.columnIndex,v.lastColumn=!1}}}c&&(t.forEach(u=>u.columns=e),t=[],e=0)}),t.forEach(o=>o.columns=e)})(l,r),l.forEach(c=>{const{slot:u,events:f}=r[c],v=u.rect,b=v.left,D=u.columns,k=v.width*t-2*(D-1)-2,O=b+2,I=k/D,x=O+k+2*(D-1);f.forEach(P=>{zb(P.rect.left)||(P.rect.left=O+P.columnIndex*(I+2),P.rect.width=P.lastColumn?x-P.rect.left:I,P.origin={left:b,right:b+v.width});const L=u.end.getTime()<=P.item.endTime.getTime()?v.height:Hz(u,P.item.endTime);P.rect.height=v.top+L-P.rect.top})}),o.forEach(c=>c.reflow())}initDaySlots(n,e){const t=this.slots;if(!t.length)return;const{height:o,slotItems:r}=nFe(t,this.items,n,e,mUe);this.setSlotsHeight(o),this.slotItems=r}setDayOffsets(){!this.itemMap.count||!this.slotItems||(iFe(this.slotItems,this.items),this.slotItems=null)}setSlotsHeight(n){this.firstSlot.height=n}}class Zon{constructor(n){this.index=n,this.dayRanges=[],this.timeRanges=[]}registerSlot(n){this.slotRange(n).registerSlot(n)}unregisterSlot(n){const e=this.slotRange(n);e.unregisterSlot(n),e.hasSlots||delete this.slotRanges(n)[n.id.rangeIndex]}registerItem(n){const e=this.itemRange(n);e?(e.registerItem(n),n.rangeIndex=e.index,n.resourceIndex>=0&&n.toggle(!0)):(n.rangeIndex=void 0,n.toggle(!1))}unregisterItem(n,e){if(void 0!==n.rangeIndex){const t=n.item.isAllDay?this.dayRanges:this.timeRanges;t[e.rangeIndex]&&t[e.rangeIndex].unregisterItem(n,e),n.rangeIndex=void 0}}forEachDateRange(n){for(let e=0;e<this.dayRanges.length;e++)n(this.dayRanges[e])}forEachTimeRange(n){for(let e=0;e<this.timeRanges.length;e++)n(this.timeRanges[e])}slotRange(n){const e=this.slotRanges(n),t=n.id.rangeIndex;return e[t]||(e[t]=new Qon(t)),e[t]}slotRanges(n){return n.isDaySlot?this.dayRanges:this.timeRanges}initTimeSlots(n,e,t){const o=this.slots;if(!o.length)return;const{height:r,slotItems:a}=nFe(o,this.items,n,e,qon);this.setSlotsHeight(Math.max(r,t)),this.slotItems=a}setTimelineOffsets(){const n=this.items;!this.slotItems||!n.length||(iFe(this.slotItems,n,!0),this.slotItems=null)}setSlotsHeight(n){this.timeRanges[0].setSlotsHeight(n)}get items(){return this.timeRanges.reduce((n,e)=>n.concat(e.items),[])}get slots(){return this.timeRanges.reduce((n,e)=>n.concat(e.slots),[])}get hasSlots(){return!(!this.dayRanges.find(n=>n&&n.hasSlots)&&!this.timeRanges.find(n=>n&&n.hasSlots))}cleanRanges(){this.dayRanges=this.dayRanges.filter(n=>!!n),this.timeRanges=this.timeRanges.filter(n=>!!n)}itemRange(n){const e=n.item,t=e.isAllDay?this.dayRanges:this.timeRanges;return zb(e.rangeIndex)?t[e.rangeIndex]:t.find(o=>Sr(e.startTime,e.endTime,o.start,o.end))}}class xv extends Gz{layoutDays(n=25){this.groups.forEach(t=>t.forEachDateRange(o=>o?.slots.forEach(r=>{r.element.nativeElement.style.height=""})));const e=this.groups[0].dayRanges[0]?.slots[0].height;this.groups.forEach(t=>{t.forEachDateRange(o=>o.initDaySlots(e,n))}),this.groups.forEach(t=>{t.forEachDateRange(o=>o.setDayOffsets())})}layoutTimeline(n,e){this.groups.forEach(o=>o.forEachTimeRange(r=>r?.slots.forEach(a=>{a.element.nativeElement.style.height=""})));const t=this.groups[0].timeRanges[0]?.slots[0].height;this.groups.forEach((o,r)=>{o.initTimeSlots(t,n,e&&e[r]?e[r].nativeElement.children[0]?.children[0].offsetHeight:0)}),this.groups.forEach(o=>o.setTimelineOffsets())}layoutTimes(n){this.groups.forEach(e=>e.forEachTimeRange(t=>t.layout(n)))}forEachDateRange(n){this.groups.forEach((e,t)=>{n(e.dayRanges[0],t)})}syncDateRanges(){let n=0;return this.groups.forEach(e=>{const t=e.dayRanges[0]?.firstSlot;t&&(n=Math.max(t.rect.height-t.padding,n))}),this.groups.forEach(e=>{e.dayRanges[0]?.setSlotsHeight(n)}),n}forEachGroup(n){this.groups.forEach(n)}forEachSlot(n){this.groups.forEach(e=>{e.dayRanges.forEach(t=>{t?.slots.forEach(o=>n(o))}),e.timeRanges.forEach(t=>{t?.slots.forEach(o=>n(o))})})}createGroup(n){return new Zon(n)}slotByIndex(n,e=!1){const[t,o,r]=n.split(":").map(a=>parseInt(a,10));return this.groups[t][e?"dayRanges":"timeRanges"][o]?.slots[r]}slotByPosition(n,e,t,o){let r;if(t){if(this.groups.find(a=>(r=a.dayRanges.find(l=>SUe(l.rect,n)),r)),r)return r.slots.find(a=>SUe(a.rect,n))}else if(this.groups.find(a=>(o&&(r=a.dayRanges.find(l=>lm(l.rect,n,e))),r||(r=a.timeRanges.find(l=>lm(l.rect,n,e))),r)),r)return r.slots.find(a=>lm(a.rect,n,e))}groupSlotByPosition(n,e,t){const o=this.groups[n.id.resourceIndex];let r;if(r=n.isDaySlot?o.dayRanges.find(a=>lm(a.rect,e,t)):o.timeRanges.find(a=>lm(a.rect,e,t)),r)return r.slots.find(a=>lm(a.rect,e,t))}dragRanges(n,e,t){const o=new Date(n.start.getTime()-e.start),r=new Date(n.start.getTime()+e.end),a=this.groups[n.id.resourceIndex];let l;if(t){const c=[];a.timeRanges.forEach(f=>{const _=f?.slots.filter(S=>Sr(o,r,S.start,S.end));_.length&&c.push(_)});const u=c[c.length-1];l=[c[0][0],u[u.length-1]]}else l=a.slotRange(n)?.slots.filter(c=>Sr(o,r,c.start,c.end));return{start:o,end:r,ranges:[l]}}resizeRanges(n,e,t,o){const r=this.groups[n.id.resourceIndex],a=e.isAllDay?r.dayRanges:r.timeRanges,l=[],c=e.start.toUTCDate(),u=e.end.toUTCDate();let f,_;if(t){const S=n.start.getTime()+o.start;_=c.getTime()===u.getTime()?this.findDateSlot(u,a,!0).end:u,f=S>=u.getTime()?e.isAllDay?new Date(Math.min(_p(u,c).getTime(),u.getTime())):this.findDateSlot(_,a).start:o.start&&e.isAllDay?new Date(S):new Date(n.start.getTime())}else f=c,_=n.start.getTime()<=f.getTime()?e.isAllDay?new Date(Math.max(_p(c,u).getTime(),c.getTime())):this.findDateSlot(f,a,!0).end:o.end&&e.isAllDay?new Date(n.start.getTime()+o.end):n.end;return a.forEach(S=>{const v=S.slots.filter(b=>Sr(f,_,b.start,b.end));v.length&&l.push(v)}),{start:f,end:_,ranges:l}}timePosition(n,e,t){const r=this.groups[e].timeRanges.find(l=>jb(n,l.start,l.end));if(!r)return;const a=r.slots.find(l=>jb(n,l.start,l.end));if(a){const l=(t?a.height:a.width)*((n.getTime()-a.start.getTime())/(a.end.getTime()-a.start.getTime()));return t?a.rect.top+l:a.rect.left+l}}findDateSlot(n,e,t){let o;return e.forEach(r=>{const a=r.slots.filter(t?l=>Sr(n,n,l.start,l.end):l=>jb(n,l.start,l.end));a.length&&(o=a[0])}),o}}const sFe=({start:i,end:n})=>{const e=i.stripTime(),t=n.stripTime();return e.getTime()!==t.getTime()&&(t.getTime()!==n.getTime()||e.addDays(1).getTime()!==t.getTime())};let jz=(()=>{class i extends QUe{constructor(e,t,o,r,a,l,c){super(t,o,r,a,l,c),this.intlService=e,this.localeId=c,this.caretAltLeftIcon=tl,this.caretAltRightIcon=Jo,this.caretAltUpIcon=bu,this.caretAltDownIcon=qo,this.arrowRotateCwIcon=H3,this.arrowsNoRepeatIcon=Qm,this.xIcon=go}get eventTime(){return this.intlService.format("{0:t}\u2013{1:t}",or(this.item.startTime),or(this.item.endTime))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(xt.Bs),s.rXU(xv),s.rXU(z),s.rXU(pp),s.rXU(s.aKT),s.rXU(s.sFG),s.rXU(s.xe9))},i.\u0275cmp=s.VBU({type:i,selectors:[["","dayTimeViewItem",""]],inputs:{vertical:"vertical",isAllDay:"isAllDay"},features:[s.Vt3],attrs:_tn,decls:13,vars:11,consts:[[1,"k-event-actions"],[3,"name","svgIcon",4,"ngIf"],["name","arrow-rotate-cw",3,"svgIcon",4,"ngIf"],["name","arrows-no-repeat",3,"svgIcon",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngIf"],["class","k-link k-event-delete","aria-hidden","true",4,"ngIf"],["class","k-event-top-actions",4,"ngIf"],["class","k-event-bottom-actions",4,"ngIf"],[3,"name","svgIcon"],["name","arrow-rotate-cw",3,"svgIcon"],["name","arrows-no-repeat",3,"svgIcon"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","k-event-template k-event-time",4,"ngIf"],["aria-hidden","true",1,"k-event-template"],[1,"k-event-template","k-event-time"],["aria-hidden","true",1,"k-link","k-event-delete"],["name","x",3,"svgIcon"],[1,"k-event-top-actions"],["name","caret-alt-up",3,"svgIcon"],[1,"k-event-bottom-actions"],["name","caret-alt-down",3,"svgIcon"],["class","k-resize-handle k-resize-n",4,"ngIf"],["class","k-resize-handle k-resize-s",4,"ngIf"],[1,"k-resize-handle","k-resize-n"],[1,"k-resize-handle","k-resize-s"],[1,"k-resize-handle","k-resize-w"],[1,"k-resize-handle","k-resize-e"]],template:function(e,t){1&e&&(s.j41(0,"span",0),s.DNE(1,gtn,1,2,"kendo-icon-wrapper",1)(2,Stn,1,1,"kendo-icon-wrapper",2)(3,vtn,1,1,"kendo-icon-wrapper",3),s.k0s(),s.DNE(4,Ctn,1,6,"ng-container",4)(5,Etn,4,3,"div",5),s.j41(6,"span",0),s.DNE(7,ytn,2,2,"span",6)(8,Dtn,1,2,"kendo-icon-wrapper",1),s.k0s(),s.DNE(9,wtn,2,1,"span",7)(10,ktn,2,1,"span",8)(11,Mtn,3,2,"ng-container",5)(12,Itn,3,0,"ng-container",5)),2&e&&(s.R7$(),s.Y8G("ngIf",t.item.tail&&!t.vertical),s.R7$(),s.Y8G("ngIf",t.isRecurrence),s.R7$(),s.Y8G("ngIf",t.isRecurrenceException),s.R7$(),s.Y8G("ngIf",t.eventTemplate),s.R7$(),s.Y8G("ngIf",!t.eventTemplate),s.R7$(2),s.Y8G("ngIf",t.removable),s.R7$(),s.Y8G("ngIf",t.item.head&&!t.vertical),s.R7$(),s.Y8G("ngIf",t.item.tail&&t.vertical),s.R7$(),s.Y8G("ngIf",t.item.head&&t.vertical),s.R7$(),s.Y8G("ngIf",t.resizable&&t.vertical),s.R7$(),s.Y8G("ngIf",t.resizable&&!t.vertical))},dependencies:[Qe,q,qe],encapsulation:2}),i})();const nrn=i=>En(i),irn=(i,n)=>En(_s(i,n||1)),srn=(i,n,e)=>En(_s(i,e*n));let oFe=(()=>{class i extends gce{constructor(e,t,o,r,a,l,c,u,f,_,S){super(t,o,r,a,l,c,u,f,_,e,S),this.changeDetector=e,this.numberOfDays=1,this.startTime="00:00",this.endTime="00:00",this.workDayStart="08:00",this.workDayEnd="17:00",this.workWeekStart=1,this.workWeekEnd=5,this.slotDuration=60,this.slotDivisions=2,this.showWorkHours=!1,this.getStartDate=nrn,this.getEndDate=irn,this.getNextDate=srn,this.daySlots=[],this.timeSlots=[],this.resizeHintFormat="t",this.showCurrentTime=!1,this.verticalTime=!0,this.initialUpdate=!0,this.updateCurrentTime=this.updateCurrentTime.bind(this),this.toggleOngoingClass=this.toggleOngoingClass.bind(this),this.updateOngoingEvents=this.updateOngoingEvents.bind(this)}get classNames(){return`k-scheduler-${this.name}view`}get timeSlotTemplateRef(){return this.timeSlotTemplate||(this.schedulerTimeSlotTemplate||{}).templateRef}get dateHeaderTemplateRef(){return this.dateHeaderTemplate||(this.schedulerDateHeaderTemplate||{}).templateRef}get majorTimeHeaderTemplateRef(){return this.majorTimeHeaderTemplate||(this.schedulerMajorTimeHeaderTemplate||{}).templateRef}get minorTimeHeaderTemplateRef(){return this.minorTimeHeaderTemplate||(this.schedulerMinorTimeHeaderTemplate||{}).templateRef}ngOnChanges(e){(e.startTime||e.endTime||e.showWorkHours||e.workDayStart||e.workDayEnd||e.workWeekStart||e.workWeekEnd||e.slotDivisions||e.slotDuration)&&(this.timeSlots=this.createTimeSlots(),this.initWorkDay(),this.changes.next(null)),wt("currentTimeMarker",e)&&(this.showCurrentTime=this.enableCurrentTime()),wt("weekStart",e)&&this.onSelectDate(this.selectedDate),super.ngOnChanges(e)}ngOnDestroy(){super.ngOnDestroy(),clearTimeout(this.currentTimeTimeout),clearTimeout(this.ongoingEventsTimeout)}verticalItem(e,t){const o=this.verticalResources[t].data||[],r=this.verticalResources;let a=1;for(let l=t+1;l<r.length;l++)a*=(r[l].data||[]).length||1;return o[e/a%o.length]}timeSlotClass(e,t,o){if(this.slotClass)return this.slotClass({start:_p(t,e.start),end:_p(t,e.end),resources:this.resourcesByIndex(o),isAllDay:!1})}toggleOngoingClass(){const e=this.currentTime(),t=dn(this.highlightOngoingEvents.cssClass)?this.highlightOngoingEvents.cssClass:JUe;this.eventElements.forEach(o=>{const r=jb(e,o.item.start,o.item.end);this.renderer[r?"addClass":"removeClass"](o.nativeElement,t)})}scrollToTime(e=this.scrollTime){let t;if("string"==typeof e){const r=this.intl.parseDate(e);if(!r)return;t=j4(this.daySlots[0].start,r)}else t=$b(e);const o=this.slotService.timePosition(t,0,this.verticalTime);if(zb(o)){const r=this.content.nativeElement;r[this.verticalTime?"scrollTop":"scrollLeft"]=this.localization.rtl&&!this.verticalTime?function bsn(i,n){const e=i.scrollLeft;let t=n;return i.scrollLeft=-1,i.scrollLeft<0?t=-n:e>0&&(t=i.scrollWidth-i.offsetWidth-n),t}(r,o):o}}optionsChange(e){this.schedulerTimeSlotTemplate=e.timeSlotTemplate,this.schedulerDateHeaderTemplate=e.dateHeaderTemplate,this.schedulerMajorTimeHeaderTemplate=e.majorTimeHeaderTemplate,this.schedulerMinorTimeHeaderTemplate=e.minorTimeHeaderTemplate,super.optionsChange(e)}updateView(){super.updateView(),this.updateCurrentTime(),this.updateOngoingEvents(),this.initialUpdate&&(this.scrollToTime(),this.initialUpdate=!1)}enableCurrentTime(){if(!this.currentTimeMarker||!1===this.currentTimeMarker.enabled||!this.selectedDate)return!1;const e=this.dateRange();this.currentDate=Gi.fromLocalDate(this.currentTime(),!1!==this.currentTimeMarker.localTimezone?"":this.timezone);const t=this.currentDate.toLocalDate(),o=yO(t),r=this.timeSlots,a=jb(t,e.start,e.end),l=r.length&&jb(o,r[0].start,r[r.length-1].end);return a&&l}currentTime(){return new Date}updateCurrentTime(){if(!ne())return;const e=this.enableCurrentTime();e!==this.showCurrentTime&&(this.showCurrentTime=e,this.changeDetector.detectChanges()),clearTimeout(this.currentTimeTimeout),e&&(this.zone.runOutsideAngular(()=>{this.currentTimeTimeout=setTimeout(this.updateCurrentTime,this.currentTimeMarker.updateInterval||X4)}),this.positionCurrentTime())}updateOngoingEvents(){const e=!this.highlightOngoingEvents||!1===this.highlightOngoingEvents.enabled;!ne()||e||(clearTimeout(this.ongoingEventsTimeout),this.zone.runOutsideAngular(()=>{this.ongoingEventsTimeout=setTimeout(this.updateOngoingEvents,this.highlightOngoingEvents.updateInterval||X4)}),this.toggleOngoingClass())}positionCurrentTime(){if(this.currentTimeElements&&this.currentTimeElements.length){const e=this.currentDate.toUTCDate(),t=this.currentTimeArrows?this.currentTimeArrows.toArray():[],o=t.length?this.currentTimeArrowOffset():0,r=t.length?t[0].nativeElement.offsetHeight/2:4,a=this.contentTable.nativeElement.clientWidth,l=this.contentTable.nativeElement.clientHeight,c=this.verticalTime;this.currentTimeElements.forEach((u,f)=>{const _=this.slotService.timePosition(e,f,c);if(void 0!==_){const S=u.nativeElement;if(t[f]){const D=c?o:_-r;CUe(t[f].nativeElement,{top:c?_-r:o,left:D,right:D})}const v=c?0:_;CUe(S,{top:c?_:0,left:v,right:v,width:c?a:1,height:c?1:l})}})}}bindEvents(){super.bindEvents(),this.zone.runOutsideAngular(()=>{this.subs.add(tce(this.headerWrap.nativeElement).subscribe(e=>this.onHeaderClick(e))),this.subs.add(Dt(this.headerWrap.nativeElement,"contextmenu").subscribe(e=>this.onClick(e))),this.subs.add(sUe(this.headerWrap.nativeElement).subscribe(e=>this.onClick(e,"dblclick")))})}onHeaderClick(e){if(this.onClick(e),this.daySlots.length<=1)return;const t=e.target.getAttribute("data-dayslot-index");if(t){const o=this.daySlots[parseInt(t,10)];this.zone.run(()=>{this.viewState.navigateTo({viewName:"day",date:o.start})})}}slotByIndex(e,t){return this.slotService.slotByIndex(e,t.target.hasAttribute("data-day-slot"))}onSelectDate(e){this.selectedDate=e,this.daySlots=this.createDaySlots(),this.showCurrentTime=this.enableCurrentTime(),this.viewState.notifyDateRange(this.dateRange())}onAction(e){const t=En(this.selectedDate);if("next"===e.type){const o=this.getNextDate(t,1,this.numberOfDays);this.isInRange(o)&&this.viewState.notifyNextDate(o)}if("prev"===e.type){const o=this.getNextDate(t,-1,this.numberOfDays);this.isInRange(o)&&this.viewState.notifyNextDate(o)}"scroll-time"===e.type&&this.scrollToTime(e.time)}dateRange(e=this.selectedDate){const t=this.getStartDate(e),o=this.getEndDate(t,this.numberOfDays),r=this.getEndDate(t,this.numberOfDays-1);return{start:t,end:o,text:this.intl.format(this.selectedDateFormat,t,r),shortText:this.intl.format(this.selectedShortDateFormat,t,r)}}createDaySlots(){let e=this.getStartDate(this.selectedDate);const t=this.getEndDate(e,this.numberOfDays),o=[];for(;e<t;){const r=_s(e,1);o.push({start:e,end:r}),e=r}return o}createTimeSlots(){return function trn(i,{showWorkHours:n,startTime:e,endTime:t,workDayStart:o,workDayEnd:r,slotDivisions:a,slotDuration:l}){const u=yO(i.parseDate(n?o:e)).getTime();let _=yO(i.parseDate(n?r:t)).getTime();_<=u&&(_=yO(WUe).getTime()+864e5);const S=[],v=Math.round(l/a*X4);let b=u,D=0;for(;b<_;)S.push({start:new Date(b),end:new Date(b+v),isMajor:D%a==0}),D++,b+=v;return S}(this.intl,{showWorkHours:this.showWorkHours,startTime:this.startTime,endTime:this.endTime,workDayStart:this.workDayStart,workDayEnd:this.workDayEnd,slotDivisions:this.slotDivisions,slotDuration:this.slotDuration})}initWorkDay(){const e=this.intl.parseDate(this.workDayStart);this.workDayStartTime=yO(e);const t=this.intl.parseDate(this.workDayEnd);this.workDayEndTime=t<=e?_s(WUe,1):yO(t)}slotByPosition(e,t,o){const r=o?mp(o.parentNode,"k-scheduler-header-wrap"):t<0;return this.slotService.slotByPosition(e,t,r,!!this.verticalResources.length)}slotFields(e){const t=super.slotFields(e);return e.isDaySlot?t.isAllDay=!0:(t.start=this.convertDate(e.start),t.end=this.convertDate(e.end)),t}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.gRc),s.rXU(Oo),s.rXU(io),s.rXU(xt.Bs),s.rXU(xv),s.rXU(s.SKi),s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(fp),s.rXU(z),s.rXU(MC))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-day-time-view"]],viewQuery:function(e,t){if(1&e&&(s.GBs(Rtn,5),s.GBs(jz,5),s.GBs(Atn,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.currentTimeElements=o),s.mGM(o=s.lsd())&&(t.eventElements=o),s.mGM(o=s.lsd())&&(t.currentTimeArrows=o)}},inputs:{timeSlotTemplate:"timeSlotTemplate",dateHeaderTemplate:"dateHeaderTemplate",majorTimeHeaderTemplate:"majorTimeHeaderTemplate",minorTimeHeaderTemplate:"minorTimeHeaderTemplate",numberOfDays:"numberOfDays",scrollTime:"scrollTime",startTime:"startTime",endTime:"endTime",workDayStart:"workDayStart",workDayEnd:"workDayEnd",workWeekStart:"workWeekStart",workWeekEnd:"workWeekEnd",slotDuration:"slotDuration",slotDivisions:"slotDivisions",showWorkHours:"showWorkHours",getStartDate:"getStartDate",getEndDate:"getEndDate",getNextDate:"getNextDate",currentTimeMarker:"currentTimeMarker",highlightOngoingEvents:"highlightOngoingEvents"},features:[s.Vt3,s.OA$],decls:0,vars:0,template:function(e,t){},encapsulation:2}),i})(),bce=(()=>{class i extends Sce{constructor(e,t,o){super(e,t,o),this.isDaySlot=!1}get nonWorkHour(){const e=this.date.getDay();return this.invariantStart<this.workDayStart||this.workDayEnd<this.invariantEnd||!((i,n,e)=>e<n?i<=e||n<=i:n<=i&&i<=e)(e,this.workWeekStart,this.workWeekEnd)}get startLocalTime(){return this.date&&this.invariantStart?_p(this.date,this.invariantStart):null}get endLocalTime(){return this.date&&this.invariantEnd?_p(this.date,this.invariantEnd):null}get start(){return this.date&&this.invariantStart?j4(this.date,this.invariantStart):null}get end(){if(!this.date||!this.invariantEnd)return null;const e=j4(this.date,this.invariantEnd);return _on.getTime()<=this.invariantEnd.getTime()?DO(e,1):e}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(xv),s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","timeSlot",""]],hostVars:2,hostBindings:function(e,t){2&e&&s.AVh("k-nonwork-hour",t.nonWorkHour)},inputs:{invariantStart:"invariantStart",invariantEnd:"invariantEnd",workDayStart:"workDayStart",workDayEnd:"workDayEnd",workWeekStart:"workWeekStart",workWeekEnd:"workWeekEnd",date:"date"},exportAs:["timeSlot"],features:[s.Vt3]}),i})(),rFe=(()=>{class i extends Sce{constructor(e,t,o){super(e,t,o),this.isDaySlot=!0}set start(e){this.startDate=e}get start(){return this.startDate?Lr(this.startDate):null}set end(e){this.endDate=e}get end(){return this.endDate?Lr(this.endDate):null}get daySlot(){return!0}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(s.aKT),s.rXU(xv),s.rXU(z))},i.\u0275dir=s.FsC({type:i,selectors:[["","daySlot",""]],hostVars:1,hostBindings:function(e,t){2&e&&s.BMQ("data-day-slot",t.daySlot)},inputs:{start:"start",end:"end"},features:[s.Vt3]}),i})(),$z=(()=>{class i extends oFe{constructor(e,t,o,r,a,l,c,u,f,_,S){super(f,t,o,r,a,l,c,u,_,e,S),this.name="day",this.dateFormat={skeleton:"MEd"},this.allDayResizeHintFormat={skeleton:"Md"},this.allDayItems=new An.t(null)}get allDaySlotTemplateRef(){return this.allDaySlotTemplate||(this.schedulerAllDaySlotTemplate||{}).templateRef}get allDayEventTemplateRef(){return this.allDayEventTemplate||(this.schedulerAllDayEventTemplate||{}).templateRef}get allDayMessage(){return this.localization.get("allDay")}get allDayResizeHint(){return this.resizing&&this.resizing.task.isAllDay}get allDayDragHint(){return this.dragging&&this.dragging.slot.isDaySlot}optionsChange(e){this.schedulerAllDaySlotTemplate=e.allDaySlotTemplate,this.schedulerAllDayEventTemplate=e.allDayEventTemplate,super.optionsChange(e)}ngOnChanges(e){super.ngOnChanges(e),e.slotFill&&this.changes.next(null),Fi(["startTime","endTime","showWorkHours","workDayStart","workDayEnd","workWeekStart","workWeekEnd","allDaySlot"],e)&&this.viewRangeChange.next(null),(wt("numberOfDays",e,!0)||wt("weekStart",e))&&(this.daySlots=this.createDaySlots(),this.viewState.notifyDateRange(this.dateRange()))}horizontalColspan(e){const t=this.horizontalResources;let o=this.daySlots.length;for(let r=e+1;r<t.length;r++)o*=(t[r].data||[]).length||1;return o}verticalRowspan(e){const t=this.verticalResources;let o=this.timeSlots.length+1;for(let r=e+1;r<t.length;r++)o*=(t[r].data||[]).length||1;return o}allDaySlotClass(e,t){if(this.slotClass)return this.slotClass({start:e.start,end:e.end,resources:this.resourcesByIndex(t),isAllDay:!0})}createTasks(e,t){const o=this.timeSlots[0],r=this.timeSlots[this.timeSlots.length-1].end,a=!(r.getHours()||r.getMinutes()),l=this.daySlots.map(c=>({start:j4(c.start,o.start),end:a?Lr(c.end):j4(c.start,r)}));return((i,n,e,t)=>{const o=[],r=Lr(i),a=Lr(n);for(let l=0;l<e.length;l++){const c=e[l],u=sFe(c),f=u&&!c.event.isAllDay,_="boolean"==typeof c.event.isAllDay?c.event.isAllDay:u&&!f,S=(_?lUe(c):c.end).toUTCDate(),v=(_?c.start.stripTime():c.start).toUTCDate();for(let b=0;b<t.length;b++)if(Sr(v,S,t[b].start,t[b].end)){const O={index:l,isAllDay:_,startTime:v,endTime:S,rangeIndex:_?0:b,start:c.start,end:c.end,event:c.event};if(o.push(O),!f){O.head=a<S,O.tail=v<r;break}{const I=t[b+1],x=t[b-1];O.head=(I?I.start:a)<S,O.tail=v<(x?x.end:r)}}}return nce(o)})(t.start,t.end,e,l)}onTasksChange(){this.items.next(this.tasks.filter(e=>!e.isAllDay)),this.allDayItems.next(this.tasks.filter(e=>e.isAllDay))}reflow(){const e=this.slotService;if(this.verticalResources.length||(this.updateContentHeight(),this.syncTables()),this.slotService.containerSize=this.content.nativeElement.clientWidth,e.layoutDays(this.eventHeight),this.updateContentHeight(),this.syncTables(),this.dayCells.length){const t=this.dayCells.toArray();if(this.verticalResources.length)e.forEachDateRange((o,r)=>{const a=o.firstSlot;t[r].nativeElement.style.height=a.rect.height-a.padding+"px"});else{const o=e.syncDateRanges();t[0].nativeElement.style.height=`${o}px`}}e.layoutTimes({fill:this.slotFill}),this.syncTables()}dragHorizontal(e){return e.isDaySlot}updateHintContainer(){this.headerHintContainer&&this.headerHintContainer.detectChanges(),super.updateHintContainer()}onRelease(e){super.onRelease(e),this.dragContainers=null}updateDragContainer(e){this.dragContainers||(this.dragContainers=this.containers);const t=this.dragContainers.find(o=>{const r=o.offset;return r.top<=e.pageY&&e.pageY<=r.top+r.height})||{};this.container=t.element,this.containerOffset=t.offset}containerByPosition({x:e,y:t}){return this.containers.find(o=>{const r=o.offset;return r.top<=t&&t<=r.top+r.height&&r.left<=e&&e<=r.left+r.width})}get containers(){const e=this.headerWrap.nativeElement.children[1],t=this.content.nativeElement;return[{element:t,offset:Xb(t)},{element:e,offset:Xb(e)}]}scrollContainer(e,t){clearInterval(this.scrollInterval),this.container&&this.container===this.content.nativeElement&&super.scrollContainer(e,t)}dragRanges(e){const t=this.dragging.task;if(e.isDaySlot&&!t.isAllDay)return{ranges:[[e]],start:_p(e.start,t.start.toUTCDate()),end:_p(e.start,t.end.toUTCDate()),isAllDay:!0};const o=t.isAllDay&&!e.isDaySlot,r=this.slotService.dragRanges(e,o?{start:0,end:0}:this.dragging.offset);return o&&(r.end=e.end),r.isAllDay=this.draggedIsAllDay(t,e),r}dragHintEventStyleArgs(){return{event:this.dragging.task.event,resources:this.dragging.resourceItems,isAllDay:!!this.allDayDragHint}}draggedIsAllDay(e,t){return!(!t.isDaySlot||!e.event.isAllDay&&sFe(e))}dragHintSize(e,t){let o,r;return e.isDaySlot?(o=rh(t.rect.left-e.rect.left+t.rect.width),r=rh(e.height)):(o=rh(.9*e.rect.width),r=rh(this.dragging.task.isAllDay?e.rect.height:t.rect.top-e.rect.top+t.rect.height)),{width:o,height:r}}currentTimeArrowOffset(){if(this.verticalResources.length){const e=this.times.nativeElement.querySelector(".k-scheduler-times-all-day");return this.localization.rtl?this.times.nativeElement.offsetWidth-e.offsetWidth:e.offsetLeft}return 0}isMiddleSlot(e){return e+1<this.timeSlots.length&&!this.timeSlots[e+1].isMajor}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z),s.rXU(Oo),s.rXU(io),s.rXU(xt.Bs),s.rXU(xv),s.rXU(s.SKi),s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(s.gRc),s.rXU(fp),s.rXU(MC))},i.\u0275cmp=s.VBU({type:i,selectors:[["multi-day-view"]],viewQuery:function(e,t){if(1&e&&(s.GBs(xtn,5),s.GBs(Ntn,5)),2&e){let o;s.mGM(o=s.lsd())&&(t.headerHintContainer=o.first),s.mGM(o=s.lsd())&&(t.dayCells=o)}},inputs:{allDaySlot:"allDaySlot",name:"name",slotFill:"slotFill",allDaySlotTemplate:"allDaySlotTemplate",allDayEventTemplate:"allDayEventTemplate"},features:[s.Jv_([xv]),s.Vt3,s.OA$],decls:41,vars:31,consts:[["timesHeader",""],["header",""],["headerWrap",""],["times",""],["timesTable",""],["content",""],["contentTable",""],["hintContainer",""],["allDayCell",""],["headerHintContainer",""],["currentTimeArrow",""],["currentTimeMarker",""],["timeSlot","timeSlot"],["role","presentation",1,"k-scheduler-layout","k-scheduler-flex-layout",3,"ngClass"],[1,"k-scheduler-pane"],[1,"k-scheduler-times"],["aria-hidden","true",1,"k-scheduler-table"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"k-scheduler-header","k-state-default"],[1,"k-scheduler-header-wrap"],[3,"position",4,"ngIf"],["role","group","tabindex","0",1,"k-scheduler-content","k-user-select-none"],["role","presentation",1,"k-scheduler-table"],[1,"k-scheduler-times-all-day"],["class","k-slot-cell",4,"ngFor","ngForOf","ngForTrackBy"],[1,"k-slot-cell"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","k-link k-nav-day",4,"ngIf"],[1,"k-link","k-nav-day"],["aria-hidden","true",1,"k-scheduler-table","k-scheduler-header-all-day","k-user-select-none"],["daySlot","",3,"start","end","id","k-selected","ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["daySlot","",3,"start","end","id","ngClass"],["role","button","dayTimeViewItem","",3,"ngClass","ngStyle","kendoSchedulerFocusIndex","id","isAllDay","editable","eventTemplate","item","index","rangeIndex","resources","resourceIndex",4,"ngFor","ngForOf","ngForTrackBy"],["role","button","dayTimeViewItem","",3,"ngClass","ngStyle","kendoSchedulerFocusIndex","id","isAllDay","editable","eventTemplate","item","index","rangeIndex","resources","resourceIndex"],["class","k-event-drag-hint","dayTimeViewItem","",3,"isAllDay","ngStyle","ngClass","dragHint","eventTemplate","item","resources",4,"ngIf"],["kendoResizeHint","",3,"hint","ngClass","format",4,"ngIf"],["dayTimeViewItem","",1,"k-event-drag-hint",3,"isAllDay","ngStyle","ngClass","dragHint","eventTemplate","item","resources"],["kendoResizeHint","",3,"hint","ngClass","format"],["class","k-current-time k-current-time-arrow-right",4,"ngFor","ngForOf","ngForTrackBy"],[1,"k-current-time","k-current-time-arrow-right"],["class","k-scheduler-times-all-day",4,"ngIf"],["class","k-slot-cell",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["class","k-current-time",4,"ngFor","ngForOf","ngForTrackBy"],[1,"k-current-time"],["class","k-scheduler-header-all-day",4,"ngIf"],[3,"k-middle-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"k-scheduler-header-all-day"],["daySlot","",3,"start","end","k-selected","id",4,"ngFor","ngForOf","ngForTrackBy"],["daySlot","",3,"start","end","id"],["timeSlot","",3,"ngClass","date","invariantStart","invariantEnd","workDayStart","workDayEnd","workWeekStart","workWeekEnd","id","k-selected",4,"ngFor","ngForOf","ngForTrackBy"],["timeSlot","",3,"ngClass","date","invariantStart","invariantEnd","workDayStart","workDayEnd","workWeekStart","workWeekEnd","id"],["role","button","dayTimeViewItem","",3,"ngClass","ngStyle","kendoSchedulerFocusIndex","id","editable","vertical","eventTemplate","item","index","rangeIndex","resources","resourceIndex",4,"ngFor","ngForOf","ngForTrackBy"],["role","button","dayTimeViewItem","",3,"ngClass","ngStyle","kendoSchedulerFocusIndex","id","editable","vertical","eventTemplate","item","index","rangeIndex","resources","resourceIndex"],["class","k-event-drag-hint","role","button","dayTimeViewItem","",3,"isAllDay","ngStyle","ngClass","dragHint","eventTemplate","resources","item",4,"ngIf"],["role","button","dayTimeViewItem","",1,"k-event-drag-hint",3,"isAllDay","ngStyle","ngClass","dragHint","eventTemplate","resources","item"],["kendoResizeHint","",3,"hint","ngClass","format",4,"ngFor","ngForOf","ngForTrackBy"]],template:function(e,t){1&e&&(s.j41(0,"div",13)(1,"div",14)(2,"div",15,0)(4,"table",16),s.DNE(5,Ltn,2,0,"tr",17),s.j41(6,"tr"),s.nrm(7,"th"),s.k0s(),s.DNE(8,Ptn,4,1,"tr",18),s.k0s()(),s.j41(9,"div",19,1)(11,"div",20,2)(13,"table",16),s.DNE(14,Btn,3,5,"tr",17),s.j41(15,"tr"),s.DNE(16,jtn,2,2,"ng-container",17),s.nI1(17,"resourceIterator"),s.k0s()(),s.DNE(18,Ztn,10,10,"div",21),s.k0s()()(),s.j41(19,"div",14)(20,"div",15,3),s.DNE(22,tnn,3,4,"ng-container",18),s.j41(23,"table",16,4),s.DNE(25,fnn,3,3,"ng-container",17),s.nI1(26,"resourceIterator"),s.k0s()(),s.j41(27,"div",22,5),s.nI1(29,"async"),s.DNE(30,_nn,3,4,"ng-container",18),s.j41(31,"table",23,6),s.DNE(33,Dnn,3,3,"ng-container",17),s.nI1(34,"resourceIterator"),s.k0s(),s.DNE(35,knn,2,2,"ng-container",17),s.nI1(36,"async"),s.DNE(37,Mnn,3,4,"ng-container",18),s.j41(38,"kendo-hint-container",null,7),s.DNE(40,xnn,2,2,"ng-template"),s.k0s()()()()),2&e&&(s.Y8G("ngClass",t.classNames),s.R7$(5),s.Y8G("ngForOf",t.horizontalResources)("ngForTrackBy",t.itemIndex),s.R7$(2),s.xc7("height","auto"),s.R7$(),s.Y8G("ngIf",t.allDaySlot&&!t.verticalResources.length),s.R7$(6),s.Y8G("ngForOf",t.horizontalResources)("ngForTrackBy",t.itemIndex),s.R7$(2),s.Y8G("ngForOf",s.bMT(17,21,t.horizontalResources))("ngForTrackBy",t.itemIndex),s.R7$(2),s.Y8G("ngIf",t.allDaySlot&&!t.verticalResources.length),s.R7$(4),s.Y8G("ngIf",t.showCurrentTime),s.R7$(3),s.Y8G("ngForOf",s.bMT(26,23,t.verticalResources))("ngForTrackBy",t.itemIndex),s.R7$(2),s.BMQ("aria-owns",t.matchOwned(s.bMT(29,25,t.items))),s.R7$(3),s.Y8G("ngIf",t.showCurrentTime),s.R7$(3),s.Y8G("ngForOf",s.bMT(34,27,t.verticalResources))("ngForTrackBy",t.itemIndex),s.R7$(2),s.Y8G("ngForOf",s.bMT(36,29,t.items))("ngForTrackBy",t.itemIndex),s.R7$(2),s.Y8G("ngIf",t.verticalResources.length))},dependencies:[jz,Fz,Vz,Be,ut,q,qe,rFe,Wn,Mv,bce,zz,xt.vh,Cp],encapsulation:2}),i})(),Ece=(()=>{class i extends tFe{constructor(e,t,o,r){super(e,t,o,r),this.name="day",this._selectedDateFormat="{0:D}",this._selectedShortDateFormat="{0:d}"}get title(){return this.localization.get("dayViewTitle")}set selectedDateFormat(e){this._selectedDateFormat=e}get selectedDateFormat(){return this._selectedDateFormat}set selectedShortDateFormat(e){this._selectedShortDateFormat=e}get selectedShortDateFormat(){return this._selectedShortDateFormat}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(z),s.rXU(s.gRc),s.rXU(Oo),s.rXU(io))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-scheduler-day-view"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,yz,5),s.wni(o,G4,5)),2&e){let r;s.mGM(r=s.lsd())&&(t.allDaySlotTemplate=r.first),s.mGM(r=s.lsd())&&(t.allDayEventTemplate=r.first)}},inputs:{selectedDateFormat:"selectedDateFormat",selectedShortDateFormat:"selectedShortDateFormat"},features:[s.Jv_([{provide:qc,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:2,vars:0,consts:[["content",""],[3,"name","allDaySlot","eventHeight","currentTimeMarker","highlightOngoingEvents","showWorkHours","scrollTime","startTime","endTime","workDayStart","workDayEnd","workWeekStart","workWeekEnd","slotDuration","slotDivisions","slotFill","slotClass","eventClass","eventStyles","allDaySlotTemplate","allDayEventTemplate","eventTemplate","groupHeaderTemplate","timeSlotTemplate","minorTimeHeaderTemplate","majorTimeHeaderTemplate","dateHeaderTemplate","selectedDateFormat","selectedShortDateFormat"],["viewFooter","","kendoWorkHoursFooter","",3,"itemClick","showWorkHours"]],template:function(e,t){1&e&&s.DNE(0,Nnn,2,30,"ng-template",null,0,s.C5r)},dependencies:[$z,Ag,Av],encapsulation:2,changeDetection:0}),i})(),aFe=(()=>{class i extends tFe{constructor(e,t,o,r,a){super(t,o,r,a),this.intl=e,this.selectedDateFormat="{0:D} - {1:D}",this.selectedShortDateFormat="{0:d} - {1:d}",this.name="week",this.getStartDate=this.getStartDate.bind(this)}get title(){return this.localization.get("weekViewTitle")}getStartDate(e){return dz(En(e),this.viewWeekStart)}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(xt.Bs),s.rXU(z),s.rXU(s.gRc),s.rXU(Oo),s.rXU(io))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-scheduler-week-view"]],contentQueries:function(e,t,o){if(1&e&&(s.wni(o,yz,5),s.wni(o,G4,5)),2&e){let r;s.mGM(r=s.lsd())&&(t.allDaySlotTemplate=r.first),s.mGM(r=s.lsd())&&(t.allDayEventTemplate=r.first)}},inputs:{selectedDateFormat:"selectedDateFormat",selectedShortDateFormat:"selectedShortDateFormat"},features:[s.Jv_([{provide:qc,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:2,vars:0,consts:[["content",""],[3,"name","allDaySlot","numberOfDays","getStartDate","eventHeight","currentTimeMarker","highlightOngoingEvents","showWorkHours","scrollTime","startTime","endTime","workDayStart","workDayEnd","workWeekStart","workWeekEnd","weekStart","slotDuration","slotDivisions","slotFill","slotClass","eventClass","eventStyles","allDaySlotTemplate","allDayEventTemplate","eventTemplate","groupHeaderTemplate","timeSlotTemplate","minorTimeHeaderTemplate","majorTimeHeaderTemplate","dateHeaderTemplate","selectedDateFormat","selectedShortDateFormat"],["viewFooter","","kendoWorkHoursFooter","",3,"itemClick","showWorkHours"]],template:function(e,t){1&e&&s.DNE(0,Pnn,2,33,"ng-template",null,0,s.C5r)},dependencies:[$z,Ag,Av],encapsulation:2,changeDetection:0}),i})(),cFe=(()=>{class i extends aFe{constructor(e,t,o,r,a){super(e,t,o,r,a),this.name="workWeek",this.getNextDate=this.getNextDate.bind(this)}get title(){return this.localization.get("workWeekViewTitle")}get numberOfDays(){return this.viewWorkWeekStart>this.viewWorkWeekEnd?7-this.viewWorkWeekStart+this.viewWorkWeekEnd+1:this.viewWorkWeekEnd-this.viewWorkWeekStart+1}getStartDate(e){return dz(En(e),this.viewWorkWeekStart)}getNextDate(e,t,o){return En(_s(e,7*t))}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(xt.Bs),s.rXU(z),s.rXU(s.gRc),s.rXU(Oo),s.rXU(io))},i.\u0275cmp=s.VBU({type:i,selectors:[["kendo-scheduler-work-week-view"]],features:[s.Jv_([{provide:qc,useExisting:(0,s.Rfq)(()=>i)}]),s.Vt3],decls:2,vars:0,consts:[["content",""],["viewName","workWeekview",3,"allDaySlot","name","numberOfDays","getStartDate","getNextDate","eventHeight","currentTimeMarker","highlightOngoingEvents","showWorkHours","scrollTime","startTime","endTime","workDayStart","workDayEnd","workWeekStart","workWeekEnd","slotDuration","slotDivisions","slotFill","slotClass","eventClass","eventStyles","allDaySlotTemplate","allDayEventTemplate","eventTemplate","groupHeaderTemplate","timeSlotTemplate","minorTimeHeaderTemplate","majorTimeHeaderTemplate","dateHeaderTemplate","selectedDateFormat","selectedShortDateFormat"],["viewFooter","","kendoWorkHoursFooter","",3,"itemClick","showWorkHours"]],template:function(e,t){1&e&&s.DNE(0,Gnn,2,33,"ng-template",null,0,s.C5r)},dependencies:[$z,Ag,Av],encapsulation:2,changeDetection:0}),i})(),dFe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[Ge,kO,W4,xn]]}),i})(),yce=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[W4,dFe]]}),i})(),kce=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[dFe,W4]]}),i})();const fFe=i=>mp(i,"k-scheduler-content"),mFe="KENDO-CALENDAR-HORIZONTAL";let _Fe=(()=>{class i{constructor(e,t,o,r,a,l,c){this.scheduler=e,this.domEvents=t,this.focusService=o,this.zone=r,this.changeDetector=a,this.viewState=l,this.dialogsService=c,this.shortcuts=[{match:u=>u.keyCode===G.KeyC&&Iv(u),action:u=>{const f=this.scheduler,_=(new Date).getHours(),S=f.selectedDate,v=new Date(S.getFullYear(),S.getMonth(),S.getDate(),_+1),b=new Date(S.getFullYear(),S.getMonth(),S.getDate(),_+2);let D;if(f.group){const I=wz(f.group||{},f.resources||[]);I.length>0&&(D=I[0].data[0])}f.create.emit({start:Gi.fromLocalDate(v,f.timezone).toLocalDate(),end:Gi.fromLocalDate(b,f.timezone).toLocalDate(),isAllDay:!1,resources:[D],originalEvent:u,sender:f})}},{match:u=>u.keyCode>=G.Digit1&&u.keyCode<=G.Digit9&&$4(u,Qc.AltKey),action:u=>{const f=this.scheduler,_=u.keyCode-G.Digit0-1,v=f.views.toArray()[_];v&&this.zone.run(()=>{f.onNavigationAction({type:"view-change",view:v})||(this.changeDetector.markForCheck(),this.focusWait())})}},{match:u=>u.keyCode===G.F10&&Iv(u),action:u=>{this.zone.run(()=>{u.preventDefault(),this.scheduler.onNavigationAction({type:"focus-toolbar"}),this.focusWait()})}},{match:u=>u.keyCode===G.KeyT&&Iv(u),action:()=>{this.zone.run(()=>{this.scheduler.onNavigationAction({type:"today"}),this.focusWait()})}},{match:u=>u.keyCode===G.KeyB&&Iv(u),action:()=>{this.zone.run(()=>{this.scheduler.onNavigationAction({type:"toggle-business-hours"}),this.focusWait()})}},{match:u=>(u.keyCode===G.ArrowLeft||u.keyCode===G.ArrowRight)&&$4(u,Qc.ShiftKey),action:u=>{const f=u.keyCode===G.ArrowLeft?"prev":"next";this.zone.run(()=>{this.scheduler.onNavigationAction({type:f}),this.focusWait()})}},{match:u=>(u.keyCode===G.ArrowUp||u.keyCode===G.ArrowLeft)&&Iv(u)&&!fFe(u.target),action:u=>{if(u.target.tagName!==mFe&&!this.scheduler.onNavigationAction({type:"focus-prev"})){const _=this.focusService.activeItem;"content"===_.containerType&&_.element.nativeElement.matches(":first-of-type")&&u.keyCode===G.ArrowUp?this.focusService.focusToolbar():this.focusService.focusNext({offset:-1}),u.preventDefault()}}},{match:u=>(u.keyCode===G.ArrowDown||u.keyCode===G.ArrowRight)&&Iv(u)&&!fFe(u.target),action:u=>{if(u.target.tagName!==mFe&&!this.scheduler.onNavigationAction({type:"focus-next"})){const S=1;if(u.keyCode===G.ArrowDown&&"toolbar"===this.focusService.activeItem.containerType){const b=Array.from(this.focusService.focusableItems).findIndex(D=>"content"===D.containerType);if(b>-1)return this.focusService.focusByIndex(b),void u.preventDefault()}this.focusService.focusNext({offset:S}),u.preventDefault()}}}],this.taskShortcuts=[{match:u=>(u.keyCode===G.Delete||u.keyCode===G.Backspace)&&Iv(u),action:(u,f)=>{this.viewState.emitEvent("remove",{event:f,dataItem:f.dataItem}),u.preventDefault()}},{match:u=>u.keyCode===G.Enter&&Iv(u),action:(u,f)=>{this.viewState.emitEvent("eventDblClick",{type:"dblclick",event:f,originalEvent:u}),u.preventDefault()}}],this.subs=new be.yU,this.subs.add(this.domEvents.keydown.subscribe(u=>this.onKeydown(u))),this.subs.add(this.scheduler.eventKeydown.subscribe(u=>this.onEventKeydown(u)))}onKeydown(e){const t=this.shortcuts.find(o=>o.match(e));t&&!this.dialogsService.isOpen&&t.action(e)}onEventKeydown(e){const t=this.taskShortcuts.find(o=>o.match(e.originalEvent));t&&!this.dialogsService.isOpen&&t.action(e.originalEvent,e.event)}focusWait(){this.viewState.layoutEnd.pipe(We(1)).subscribe(()=>this.focusService.focus())}}return i.\u0275fac=function(e){return new(e||i)(s.rXU(Wb),s.rXU(Mz),s.rXU(pp),s.rXU(s.SKi),s.rXU(s.gRc),s.rXU(io),s.rXU(H4))},i.\u0275dir=s.FsC({type:i,selectors:[["kendo-scheduler"]]}),i})();new Date(Date.now());let grn=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({imports:[[W4,oZ,RGe,xt.W5]]}),i})();const Srn=[ID,Tq,wq,w0e,IJ,FD,YC,Q5,eS,kO,uQ,Mq];let vrn=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=s.$C({type:i}),i.\u0275inj=s.G2t({providers:[{provide:xt.Bs,useClass:xt.qr}],imports:[[Ge,Jsn,mon,yce,Mr,Cce,kce,i_,grn,...Srn],Cce,yce,kce]}),i})();const Ern=["scheduler"];function yrn(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",5),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.toggleActivityType(o))}),s.nrm(1,"span",6),s.EFF(2),s.k0s()}if(2&i){const e=n.$implicit;s.Y8G("ngClass",e.selected?"btn-secondary":"btn-outline-secondary"),s.R7$(),s.xc7("background-color",e.colorHex||"#3485fd"),s.R7$(),s.SpI(" ",e.name," ")}}function Drn(i,n){1&i&&s.nrm(0,"app-operator-avatar",10),2&i&&s.Y8G("options",n.$implicit)}function wrn(i,n){if(1&i&&(s.j41(0,"div")(1,"div",7)(2,"b"),s.EFF(3),s.k0s(),s.j41(4,"div",8),s.DNE(5,Drn,1,1,"app-operator-avatar",9),s.k0s()(),s.EFF(6),s.nrm(7,"br"),s.EFF(8),s.k0s()),2&i){const e=n.event;s.R7$(3),s.SpI(" ",e.dataItem.customer," "),s.R7$(2),s.Y8G("ngForOf",e.dataItem.operators),s.R7$(),s.SpI(" ",e.dataItem.customerAddress," "),s.R7$(2),s.SpI(" ",e.dataItem.activityType," ")}}function krn(i,n){1&i&&s.nrm(0,"app-operator-avatar",10),2&i&&s.Y8G("options",n.$implicit)}function Orn(i,n){if(1&i&&(s.j41(0,"div",7)(1,"span"),s.EFF(2),s.k0s(),s.j41(3,"div",8),s.DNE(4,krn,1,1,"app-operator-avatar",9),s.k0s(),s.j41(5,"div"),s.EFF(6),s.k0s()()),2&i){const e=n.event;s.R7$(2),s.SpI(" ",e.dataItem.customer," "),s.R7$(2),s.Y8G("ngForOf",e.dataItem.operators),s.R7$(2),s.Lme(" ",e.dataItem.customerAddress," \u2022 ",e.dataItem.activityType," ")}}function Trn(i,n){1&i&&s.nrm(0,"app-operator-avatar",10),2&i&&s.Y8G("options",n.$implicit)}function Mrn(i,n){if(1&i&&(s.j41(0,"div")(1,"div"),s.EFF(2),s.k0s(),s.j41(3,"div",8),s.DNE(4,Trn,1,1,"app-operator-avatar",9),s.k0s()()),2&i){const e=n.event;s.R7$(2),s.SpI(" ",e.dataItem.customer," "),s.R7$(2),s.Y8G("ngForOf",e.dataItem.operators)}}function Irn(i,n){1&i&&s.nrm(0,"app-operator-avatar",10),2&i&&s.Y8G("options",n.$implicit)}function Rrn(i,n){if(1&i&&(s.j41(0,"div",7)(1,"span"),s.EFF(2),s.k0s(),s.j41(3,"div",8),s.DNE(4,Irn,1,1,"app-operator-avatar",9),s.k0s()()),2&i){const e=n.event;s.R7$(2),s.SpI(" ",e.dataItem.customer," "),s.R7$(2),s.Y8G("ngForOf",e.dataItem.operators)}}function Arn(i,n){1&i&&s.nrm(0,"app-operator-avatar",10),2&i&&s.Y8G("options",n.$implicit)}function xrn(i,n){if(1&i&&(s.j41(0,"div",7)(1,"span"),s.EFF(2),s.k0s(),s.j41(3,"div",8),s.DNE(4,Arn,1,1,"app-operator-avatar",9),s.k0s()()),2&i){const e=n.event;s.R7$(2),s.SpI(" ",e.dataItem.customer," "),s.R7$(2),s.Y8G("ngForOf",e.dataItem.operators)}}let vFe=(()=>{class i extends Tn{constructor(e,t,o){super(),this._service=e,this._messageBox=t,this._activityTypesService=o,this.interventionUpdated=new s.bkB,this.interventionCreated=new s.bkB,this.interventionRemoved=new s.bkB,this.interventions=[],this.eventStylesCallback=r=>({"background-color":r.event.dataItem.activityColor})}ngOnInit(){this._getActivityTypes()}onDateChange(e){this._dateRange=e.dateRange,this._read()}onEventDblClick(e){this._editIntervention(e.event.id)}onSlotDblClick(e){this._createIntervention(e.start)}onResizeEnd(e){const t=e.dataItem;t.canBeEdited?this._subscriptions.push(this._service.get(t.id).pipe(F(o=>this._resizeIntervention(o,e.start,e.end,!1)),le(o=>this._service.update(o)),F(o=>this._afterInterventionUpdated(o))).subscribe()):this._showAlert("Non puoi modificare un intervento gi\xe0 completato.")}onDragEnd(e){const t=e.dataItem;t.canBeEdited?this._subscriptions.push(this._service.get(t.id).pipe(F(o=>this._resizeIntervention(o,e.start,e.end,e.isAllDay)),le(o=>this._service.update(o)),F(o=>this._afterInterventionUpdated(o))).subscribe()):this._showAlert("Non puoi modificare un intervento gi\xe0 completato.")}onRemove(e){const t=e.dataItem;t.canBeRemoved?this._subscriptions.push(this._messageBox.confirm("Sei sicuro di voler rimuovere l'intervento selezionato?","Attenzione").pipe(X(r=>r),le(()=>this._service.delete(t.id)),F(()=>this._afterInterventionRemoved(t.id))).subscribe()):this._showAlert("Non puoi eliminare un intervento gi\xe0 completato.")}refresh(){this._read()}toggleActivityType(e){e.selected=!e.selected,this.activityTypes.all(o=>!o.selected)&&this.activityTypes.forEach(o=>o.selected=!0),this._read()}_resizeIntervention(e,t,o,r){r&&(o=(t=t.toDateWithoutTime()).addDays(1)),e.start=t,e.end=o}_read(){const e={filter:{filters:[{filters:[{filters:[{field:"start",operator:"gte",value:this._dateRange.start},{field:"start",operator:"lte",value:this._dateRange.end}],logic:"and"},{filters:[{field:"end",operator:"gte",value:this._dateRange.start},{field:"end",operator:"lte",value:this._dateRange.end}],logic:"and"},{filters:[{field:"start",operator:"lte",value:this._dateRange.start},{field:"end",operator:"gte",value:this._dateRange.end}],logic:"and"}],logic:"or"}],logic:"and"}};this.activityTypes?.any()&&e.filter.filters.push({filters:this.activityTypes.filter(t=>t.selected).map(t=>({field:"activityTypeId",operator:"eq",value:t.id})),logic:"or"}),this._subscriptions.push(this._service.read(e).pipe(F(t=>this.interventions=t.data.map(o=>new Nrn(o)))).subscribe())}_editIntervention(e){this._subscriptions.push(this._service.get(e).pipe(le(t=>this.interventionModal.open(t)),X(t=>t),le(()=>this._service.update(this.interventionModal.options)),F(t=>this._afterInterventionUpdated(t))).subscribe())}_createIntervention(e){const t=new Tg(0,new Date(new Date((new Date).setMinutes(0)).setSeconds(0)),new Date(new Date((new Date).setMinutes(0)).setSeconds(0)).addHours(1),dp.Scheduled,null,null,null,null,[],[],[]);this._subscriptions.push(this.interventionModal.open(t).pipe(X(o=>o),le(()=>this._service.create(t)),F(o=>this._afterInterventionCreated(o))).subscribe())}_afterInterventionUpdated(e){this._messageBox.success("Intervento aggiornato."),this.interventionUpdated.emit(e),this._read()}_afterInterventionCreated(e){this._messageBox.success("Intervento programmato."),this.interventionCreated.emit(e),this._read()}_afterInterventionRemoved(e){this._messageBox.success("Intervento rimosso."),this.interventionRemoved.emit(e),this._read()}_showAlert(e){this._subscriptions.push(this._messageBox.alert(e,"Attenzione").subscribe())}_getActivityTypes(){this._subscriptions.push(this._activityTypesService.readActivityTypesListCalendar().pipe(F(e=>this._setActivityTypes(e))).subscribe())}_setActivityTypes(e){this.activityTypes=e.map(t=>new Lrn(t.id,t.colorHex,t.name))}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(Mg),s.rXU(vn),s.rXU(rk))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-interventions-calendar"]],viewQuery:function(t,o){if(1&t&&s.GBs(Ern,7),2&t){let r;s.mGM(r=s.lsd())&&(o.scheduler=r.first)}},inputs:{interventionModal:"interventionModal",jobId:"jobId",activityId:"activityId"},outputs:{interventionUpdated:"interventionUpdated",interventionCreated:"interventionCreated",interventionRemoved:"interventionRemoved"},features:[s.Vt3],decls:11,vars:10,consts:[[1,"d-flex","flex-wrap","gap-2","mb-2"],["type","button","class","btn btn-sm btn-group align-items-center gap-1",3,"ngClass","click",4,"ngFor","ngForOf"],["workDayStart","08:00","workDayEnd","19:00",2,"height","800px",3,"dateChange","eventDblClick","slotDblClick","resizeEnd","dragEnd","remove","events","selectedDate","workWeekStart","workWeekEnd","selectedViewIndex","showWorkHours","editable","highlightOngoingEvents","eventStyles"],["kendoSchedulerEventTemplate",""],["kendoSchedulerAllDayEventTemplate",""],["type","button",1,"btn","btn-sm","btn-group","align-items-center","gap-1",3,"click","ngClass"],[1,"bullet"],[1,"d-flex","align-items-center","gap-2"],[1,"d-flex","gap-1","align-items-center"],[3,"options",4,"ngFor","ngForOf"],[3,"options"]],template:function(t,o){1&t&&(s.j41(0,"div",0),s.DNE(1,yrn,3,4,"button",1),s.k0s(),s.j41(2,"kendo-scheduler",2),s.bIt("dateChange",function(a){return o.onDateChange(a)})("eventDblClick",function(a){return o.onEventDblClick(a)})("slotDblClick",function(a){return o.onSlotDblClick(a)})("resizeEnd",function(a){return o.onResizeEnd(a)})("dragEnd",function(a){return o.onDragEnd(a)})("remove",function(a){return o.onRemove(a)}),s.j41(3,"kendo-scheduler-day-view"),s.DNE(4,wrn,9,4,"ng-template",3)(5,Orn,7,4,"ng-template",4),s.k0s(),s.j41(6,"kendo-scheduler-work-week-view"),s.DNE(7,Mrn,5,2,"ng-template",3)(8,Rrn,5,2,"ng-template",4),s.k0s(),s.j41(9,"kendo-scheduler-month-view"),s.DNE(10,xrn,5,2,"ng-template",3),s.k0s()()),2&t&&(s.R7$(),s.Y8G("ngForOf",o.activityTypes),s.R7$(),s.Y8G("events",o.interventions)("selectedDate",o.date)("workWeekStart",1)("workWeekEnd",6)("selectedViewIndex",1)("showWorkHours",!0)("editable",!0)("highlightOngoingEvents",!1)("eventStyles",o.eventStylesCallback))},dependencies:[Be,ut,Ron,Ece,cFe,Wb,_Fe,G4,U4,AGe],encapsulation:2})}return i})();class Nrn{constructor(n){this.id=n.id,this.status=n.status,this.start=new Date(n.start),this.end=new Date(n.end),this.customer=n.customer,this.customerAddress=n.customerAddress,this.description=n.description,this.operators=n.operators,this.activityType=n.activityType,this.activityColor=n.activityColor,this.isAllDay=this.start.addDays(1).hasSameDateAndTime(this.end),this.canBeRemoved=n.canBeRemoved,this.canBeEdited=n.status===dp.Scheduled}}class Lrn{constructor(n,e,t){this.id=n,this.colorHex=e,this.name=t,this.selected=!0}}const Prn=["form"];function Grn(i,n){1&i&&s.nrm(0,"div",3)}function Urn(i,n){if(1&i&&(s.j41(0,"div",11)(1,"b"),s.EFF(2,"Note"),s.k0s(),s.j41(3,"p"),s.EFF(4),s.k0s()()),2&i){const e=s.XpG(3);s.R7$(4),s.JRh(e.interventionProductCheckList.notes)}}function Frn(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",18)(1,"button",24),s.bIt("click",function(){s.eBV(e);const o=s.XpG().$implicit,r=s.XpG(3);return s.Njj(r.downloadAttachment(o.attachmentFileName))}),s.nrm(2,"i",25),s.k0s()()}}function Brn(i,n){if(1&i&&(s.j41(0,"div",11)(1,"div",14)(2,"div",15)(3,"p"),s.EFF(4),s.k0s()(),s.j41(5,"div",16),s.nrm(6,"i",22),s.k0s(),s.j41(7,"div",17)(8,"p"),s.EFF(9),s.k0s()(),s.DNE(10,Frn,3,0,"div",23),s.k0s()()),2&i){const e=n.$implicit;s.R7$(4),s.JRh(e.description),s.R7$(2),s.ZvI("",e.outcome,"-icon fa fa-2x fa-square-check"),s.FS9("alt",e.outcome),s.R7$(3),s.JRh(e.notes),s.R7$(),s.Y8G("ngIf",e.attachmentFileName)}}function Vrn(i,n){if(1&i){const e=s.RV6();s.j41(0,"form",9,0),s.bIt("ngSubmit",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.close())}),s.j41(2,"div",10)(3,"div",11)(4,"b"),s.EFF(5,"Checklist"),s.k0s(),s.j41(6,"p"),s.EFF(7),s.k0s()(),s.DNE(8,Urn,5,1,"div",12),s.k0s(),s.j41(9,"div",13)(10,"div",14)(11,"div",15)(12,"b"),s.EFF(13,"Voce"),s.k0s()(),s.j41(14,"div",16)(15,"b"),s.EFF(16,"Esito"),s.k0s()(),s.j41(17,"div",17)(18,"b"),s.EFF(19,"Note"),s.k0s()(),s.j41(20,"div",18),s.nrm(21,"b"),s.k0s()(),s.DNE(22,Brn,11,7,"div",19),s.k0s(),s.j41(23,"div",20)(24,"button",21),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.dismiss())}),s.EFF(25," CHIUDI "),s.k0s()()()}if(2&i){const e=s.XpG(2);s.R7$(7),s.JRh(e.interventionProductCheckList.description),s.R7$(),s.Y8G("ngIf",e.interventionProductCheckList.notes),s.R7$(14),s.Y8G("ngForOf",e.interventionProductCheckList.items)}}function zrn(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",4)(1,"kendo-window",5),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.j41(2,"kendo-window-titlebar")(3,"div",6),s.EFF(4," Voce checklist "),s.k0s(),s.nrm(5,"button",7),s.k0s(),s.DNE(6,Vrn,26,3,"form",8),s.k0s()()}if(2&i){const e=s.XpG();s.R7$(),s.Y8G("resizable",!1)("draggable",!1)("width",800)("top",150),s.R7$(5),s.Y8G("ngIf",e.options)}}let Hrn=(()=>{class i extends eo{constructor(e,t){super(),this._service=e,this._messageBox=t,this.role=ci,this.imagesUrl=`${fn.baseUrl}/attachments`}open(e){const t=super.open(e);return this._service.readProductCheckListByProductId(e).pipe(F(o=>this.interventionProductCheckList=o)).subscribe(),t}downloadAttachment(e){window.open(`${this.imagesUrl}/${e}`,"_blank")}_canClose(){return fl(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(Mg),s.rXU(vn))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-intervention-product-checklist-items-modal"]],viewQuery:function(t,o){if(1&t&&s.GBs(Prn,5),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first)}},features:[s.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","width","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],["name","updateOperatorForm","novalidate","","autocomplete","off",3,"ngSubmit",4,"ngIf"],["name","updateOperatorForm","novalidate","","autocomplete","off",3,"ngSubmit"],[1,"row","riga-form","border-green"],[1,"col-12"],["class","col-12",4,"ngIf"],[1,"row","riga-form"],[1,"row","checklist-row"],[1,"col-5"],[1,"col-2"],[1,"col-4"],[1,"col-1"],["class","col-12",4,"ngFor","ngForOf"],[1,"text-right","mt-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[3,"alt"],["class","col-1",4,"ngIf"],["title","Allegato",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-paperclip"]],template:function(t,o){1&t&&s.DNE(0,Grn,1,0,"div",1)(1,zrn,7,5,"div",2),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened))},dependencies:[ut,q,Ps,Ls,ps,$i,ts,Ni],encapsulation:2})}return i})();const jrn=["interventionProductModal"];function $rn(i,n){if(1&i&&(s.j41(0,"a",9),s.nrm(1,"img",10),s.k0s()),2&i){const e=s.XpG().$implicit,t=s.XpG();s.Y8G("href",t.imagesUrl+e.pictureFileName,s.B4B),s.R7$(),s.Y8G("src",t.imagesUrl+e.pictureFileName,s.B4B)}}function Xrn(i,n){1&i&&s.DNE(0,$rn,2,2,"a",8),2&i&&s.Y8G("ngIf",n.$implicit.pictureFileName)}function Wrn(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",11)(1,"button",12),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.openChecklist(o.interventionProductId))}),s.nrm(2,"i",13),s.k0s()()}}let Krn=(()=>{class i extends Tn{constructor(e){super(),this._service=e,this.gridState={skip:0,take:30,group:[],sort:[]}}ngOnInit(){this._read()}ngOnChanges(e){e.interventionId&&this.interventionId&&this._read()}refresh(){this._read()}dataStateChange(e){this.gridState=e,this._read()}openChecklist(e){this._subscriptions.push(this.interventionProductModalComponent.open(e).subscribe())}_read(){this._subscriptions.push(this._service.readProductsByIntervention(this.gridState,this.interventionId).pipe(F(e=>this.data=e)).subscribe())}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(Mg))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-interventions-products-grid"]],viewQuery:function(t,o){if(1&t&&s.GBs(jrn,7),2&t){let r;s.mGM(r=s.lsd())&&(o.interventionProductModalComponent=r.first)}},inputs:{interventionId:"interventionId"},features:[s.Vt3,s.OA$],decls:10,vars:16,consts:[["interventionProductModal",""],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","productType","title","Tipologia",3,"width"],["field","code","title","Codice",3,"width"],["field","pictureFileName","title","Immagine",3,"sortable","filterable","width"],["kendoGridCellTemplate",""],["field","name","title","Nome"],["field","id","title"," ",3,"sortable","filterable","width"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"],[1,"thumbnail-s",3,"src"],[1,"d-flex","text-nowrap","gap-1"],["title","Visualizza CheckList",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-list-check"]],template:function(t,o){if(1&t){const r=s.RV6();s.j41(0,"kendo-grid",1),s.bIt("dataStateChange",function(l){return s.eBV(r),s.Njj(o.dataStateChange(l))}),s.nrm(1,"kendo-grid-column",2)(2,"kendo-grid-column",3),s.j41(3,"kendo-grid-column",4),s.DNE(4,Xrn,1,1,"ng-template",5),s.k0s(),s.nrm(5,"kendo-grid-column",6),s.j41(6,"kendo-grid-column",7),s.DNE(7,Wrn,3,0,"ng-template",5),s.k0s()(),s.nrm(8,"app-intervention-product-checklist-items-modal",null,0)}2&t&&(s.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!0),s.R7$(),s.Y8G("width",1),s.R7$(),s.Y8G("width",1),s.R7$(),s.Y8G("sortable",!1)("filterable",!1)("width",1),s.R7$(3),s.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[q,Wi,Oi,Us,Hrn],encapsulation:2})}return i})();function Yrn(i,n){1&i&&(s.qex(0),s.nrm(1,"kendo-grid-column",10)(2,"kendo-grid-column",11),s.bVm())}function Jrn(i,n){if(1&i&&s.nrm(0,"app-multiselect-grid-column-filter",12),2&i){const e=n.column,t=n.filter,o=n.filterService,r=s.XpG();s.Y8G("column",e)("filter",t)("filterService",o)("data",r.interventionStatusNames)}}function qrn(i,n){if(1&i&&(s.j41(0,"span",13),s.EFF(1),s.nI1(2,"interventionStatus"),s.k0s()),2&i){const e=n.$implicit;s.R7$(),s.SpI(" ",s.bMT(2,1,e.status)," ")}}function Qrn(i,n){if(1&i&&(s.j41(0,"span",13),s.EFF(1),s.nI1(2,"date"),s.k0s()),2&i){const e=n.$implicit;s.R7$(),s.SpI(" ",s.i5U(2,1,e.start,"dd/MM/yyyy HH:mm")," ")}}function Zrn(i,n){if(1&i&&(s.j41(0,"span",13),s.EFF(1),s.nI1(2,"date"),s.k0s()),2&i){const e=n.$implicit;s.R7$(),s.SpI(" ",s.i5U(2,1,e.end,"dd/MM/yyyy: HH:mm")," ")}}function ean(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",14)(1,"button",15),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.downloadReport(o.id))}),s.nrm(2,"i",16),s.k0s(),s.j41(3,"button",17),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.edit(o))}),s.nrm(4,"i",18),s.k0s(),s.j41(5,"button",19),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.askRemove(o))}),s.nrm(6,"i",20),s.k0s()()}if(2&i){const e=n.$implicit;s.R7$(5),s.Y8G("disabled",!e.canBeRemoved)}}function tan(i,n){if(1&i&&(s.j41(0,"div"),s.nrm(1,"app-interventions-products-grid",21),s.k0s()),2&i){const e=n.$implicit;s.R7$(),s.Y8G("interventionId",e.id)}}let CFe=(()=>{class i extends Tn{constructor(e,t,o){super(),this._service=e,this._messageBox=t,this._userService=o,this.interventionUpdated=new s.bkB,this.interventionRemoved=new s.bkB,this.interventionStatusNames=gGe,this.gridState={skip:0,take:30,filter:{filters:[this._buildActivityIdFilter()],logic:"and"},group:[],sort:[{field:"start",dir:"desc"}]}}ngOnInit(){this._read()}ngOnChanges(e){e.activityId&&!e.activityId.isFirstChange&&this.activityId&&this._read()}refresh(){this._read()}dataStateChange(e){this.gridState=e,this._read()}edit(e){this._subscriptions.push(this._service.get(e.id).pipe(le(t=>this.interventionModal.open(t)),X(t=>t),le(()=>this._service.update(this.interventionModal.options)),F(t=>this._afterUpdated(t))).subscribe())}askRemove(e){e.canBeRemoved&&this._subscriptions.push(this._messageBox.confirm("Sei sicuro di voler rimuovere l'intervento selezionato?","Attenzione").pipe(X(o=>o),le(()=>this._service.delete(e.id)),F(()=>this._afterRemoved(e.id))).subscribe())}onDblClick(){this.cellArgs.isEdited||this._subscriptions.push(this._service.get(this.cellArgs.dataItem.id).pipe(le(e=>this.interventionModal.open(e)),X(e=>e),le(()=>this._service.update(this.interventionModal.options)),F(e=>this._afterUpdated(e))).subscribe())}cellClickHandler(e){this.cellArgs=e}downloadReport(e){const t=this._userService.getUser();window.open(`${fn.baseApiUrl}/interventions/download-report/${e}?access_token=${t.accessToken}`,"_blank")}_read(){this._subscriptions.push(this._service.read(this.gridState).pipe(F(e=>this.data=e)).subscribe())}_afterRemoved(e){this._messageBox.success("Intervento rimosso."),this.interventionRemoved.emit(e),this._read()}_afterUpdated(e){this._messageBox.success("Intervento aggiornato."),this.interventionUpdated.emit(e),this._read()}_buildActivityIdFilter(){const e=this;return{field:"activityId",get operator(){return e.activityId?"eq":"isnotnull"},get value(){return e.activityId}}}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(Mg),s.rXU(vn),s.rXU(ro))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-interventions-grid"]],inputs:{activityId:"activityId",interventionModal:"interventionModal"},outputs:{interventionUpdated:"interventionUpdated",interventionRemoved:"interventionRemoved"},features:[s.Vt3,s.OA$],decls:13,vars:15,consts:[["filterable","menu","scrollable","none",3,"dataStateChange","cellClick","dblclick","data","pageSize","skip","sort","filter","group","sortable","pageable"],[4,"ngIf"],["field","status","title","Stato","filter","numeric",3,"width"],["kendoGridFilterMenuTemplate",""],["kendoGridCellTemplate",""],["field","start","title","Inizio","filter","date",3,"width"],["field","end","title","Fine","filter","date",3,"width"],["field","description","title","Note"],["field","id","title"," ",3,"sortable","filterable","width"],[4,"kendoGridDetailTemplate"],["field","customer","title","Cliente"],["field","customerAddress","title","Indirizzo"],[3,"column","filter","filterService","data"],[1,"text-nowrap"],[1,"d-flex","text-nowrap","gap-1"],["title","Download Rapportino",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-file"],["title","Modifica",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-edit"],["title","Rimuovi",1,"btn","btn-danger","btn-sm",3,"click","disabled"],[1,"fas","fa-trash"],[3,"interventionId"]],template:function(t,o){1&t&&(s.j41(0,"kendo-grid",0),s.bIt("dataStateChange",function(a){return o.dataStateChange(a)})("cellClick",function(a){return o.cellClickHandler(a)})("dblclick",function(){return o.onDblClick()}),s.DNE(1,Yrn,3,0,"ng-container",1),s.j41(2,"kendo-grid-column",2),s.DNE(3,Jrn,1,4,"ng-template",3)(4,qrn,3,3,"ng-template",4),s.k0s(),s.j41(5,"kendo-grid-column",5),s.DNE(6,Qrn,3,4,"ng-template",4),s.k0s(),s.j41(7,"kendo-grid-column",6),s.DNE(8,Zrn,3,4,"ng-template",4),s.k0s(),s.nrm(9,"kendo-grid-column",7),s.j41(10,"kendo-grid-column",8),s.DNE(11,ean,7,1,"ng-template",4),s.k0s(),s.DNE(12,tan,2,1,"div",9),s.k0s()),2&t&&(s.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!0),s.R7$(),s.Y8G("ngIf",!o.activityId),s.R7$(),s.Y8G("width",1),s.R7$(3),s.Y8G("width",1),s.R7$(2),s.Y8G("width",1),s.R7$(3),s.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[q,Wi,Oi,Lw,Us,N_,vO,Krn,To,xGe],encapsulation:2})}return i})();const nan=["form"],ian=["jobModal"],san=["activityModal"],oan=["activityProductModal"],ran=["activityProducts"],aan=["interventionsCalendar"],lan=["interventionsGrid"],can=["interventionModal"],dan=()=>["/","activities"],uan=i=>({jobId:i});function han(i,n){if(1&i&&(s.j41(0,"div",18)(1,"b"),s.EFF(2," Scadenza "),s.k0s(),s.j41(3,"p"),s.EFF(4),s.nI1(5,"date"),s.k0s()()),2&i){const e=s.XpG();s.R7$(4),s.SpI(" ",s.i5U(5,1,e.activity.expirationDate,"dd/MM/yyyy")," ")}}function pan(i,n){1&i&&(s.j41(0,"strong"),s.EFF(1,"Prodotti"),s.k0s())}function fan(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",8)(1,"a",9),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.createActivityProduct())}),s.nrm(2,"span",23),s.EFF(3," Associa prodotto "),s.k0s(),s.j41(4,"a",9),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.assignAllCustomerProducts())}),s.nrm(5,"span",23),s.EFF(6," Associa tutti i prodotti dell'indirizzo del cliente "),s.k0s()(),s.j41(7,"app-activity-products",24,4),s.bIt("edit",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.editActivityProduct(o))}),s.k0s()}if(2&i){const e=s.XpG();s.R7$(7),s.Y8G("activityId",e.activity.id)}}function man(i,n){1&i&&(s.j41(0,"strong"),s.EFF(1,"Pianificazione"),s.k0s())}function _an(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",8)(1,"a",9),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.createIntervention())}),s.nrm(2,"span",25),s.EFF(3," Programma intervento "),s.k0s()(),s.j41(4,"app-interventions-calendar",26,5),s.bIt("interventionUpdated",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onInterventionsChanged())})("interventionCreated",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onInterventionsChanged())})("interventionRemoved",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onInterventionsChanged())}),s.k0s()}if(2&i){const e=s.XpG(),t=s.sdS(61);s.R7$(4),s.Y8G("interventionModal",t)("jobId",e.activity.jobId)("activityId",e.activity.id)}}function gan(i,n){1&i&&(s.j41(0,"strong"),s.EFF(1,"Interventi"),s.k0s())}function San(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",8)(1,"a",9),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.createIntervention())}),s.nrm(2,"span",25),s.EFF(3," Programma intervento "),s.k0s()(),s.j41(4,"app-interventions-grid",27,6),s.bIt("interventionUpdated",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onInterventionsChanged())})("interventionRemoved",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onInterventionsChanged())}),s.k0s()}if(2&i){const e=s.XpG(),t=s.sdS(61);s.R7$(4),s.Y8G("interventionModal",t)("activityId",e.activity.id)}}let van=(()=>{class i extends Tn{constructor(e,t,o,r,a,l){super(),this._route=e,this._service=t,this._jobService=o,this._messageBox=r,this._activityProductsService=a,this._interventionsService=l,this._baseUrl=`${fn.baseApiUrl}/activities`}ngOnInit(){this._subscribeRouteParams()}edit(){const e=this.activity.asActivity(),t=new Pb(e);this._subscriptions.push(this.activityModal.open(t).pipe(X(o=>o),le(()=>this._service.update(e)),F(()=>this._afterActivityUpdated())).subscribe())}editJob(e){this._subscriptions.push(this._jobService.get(e).pipe(le(t=>this.jobModal.open(t)),X(t=>t),le(()=>this._jobService.update(this.jobModal.options)),F(t=>location.reload())).subscribe())}createActivityProduct(){const e=new w4(0,this.activity.id,null,null,null,null),t=new _Ge(e);this._subscriptions.push(this.activityProductModal.open(t).pipe(X(o=>o),le(()=>this._activityProductsService.create(e)),F(()=>this._afterActivityProductCreated(this.activityProductModal.product.name))).subscribe())}editActivityProduct(e){this._subscriptions.push(this._activityProductsService.get(e.id).pipe(le(t=>this.activityProductModal.open(new _Ge(t))),X(t=>t),le(()=>this._activityProductsService.update(this.activityProductModal.options.product)),F(()=>this.activityProducts.refresh())).subscribe())}createIntervention(){const t=new Tg(0,new Date(new Date((new Date).setMinutes(0)).setSeconds(0)),new Date(new Date((new Date).setMinutes(0)).setSeconds(0)).addHours(1),dp.Scheduled,null,null,this.activity.id,this.activity.jobId,[],[],[]);this._subscriptions.push(this.interventionModal.open(t).pipe(X(o=>o),le(()=>this._interventionsService.create(t)),F(()=>this._afterInterventionCreated())).subscribe())}onInterventionsChanged(){this._getActivity()}assignAllCustomerProducts(){this._subscriptions.push(this._messageBox.confirm("Sei sicuro di voler associare all'attivit\xe0 tutti i prodotti di "+this.activity.customer+" in "+this.activity.address+"?").pipe(X(t=>t),le(()=>this._service.assignAllCustomerProducts(this.activity.id)),F(()=>this._afterAllCustomerProductsAssigned())).subscribe())}_subscribeRouteParams(){this._subscriptions.push(this._route.data.pipe(F(e=>this.activity=e.activity)).subscribe())}_afterActivityUpdated(){this._messageBox.success("Attivit\xe0 aggiornata."),this._subscriptions.push(this._service.getDetail(this.activity.id).pipe(F(e=>this.activity=e)).subscribe())}_afterActivityProductCreated(e){this._messageBox.success(`${e} associato all'attivit\xe0.`),this.activityProducts?.refresh()}_afterAllCustomerProductsAssigned(){this._messageBox.success("Prodotti associati all'attivit\xe0."),this.activityProducts?.refresh()}_afterInterventionCreated(){this._messageBox.success("Intervento programmato."),this.interventionsCalendar?.refresh(),this.interventionsGrid?.refresh()}_getActivity(){this._subscriptions.push(this._service.getDetail(this.activity.id).pipe(F(e=>this.activity=e)).subscribe())}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(Dh),s.rXU(Xh),s.rXU(qf),s.rXU(vn),s.rXU(sz),s.rXU(Mg))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-activity"]],viewQuery:function(t,o){if(1&t&&(s.GBs(nan,5),s.GBs(ian,7),s.GBs(san,7),s.GBs(oan,7),s.GBs(ran,5),s.GBs(aan,5),s.GBs(lan,5),s.GBs(can,7)),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first),s.mGM(r=s.lsd())&&(o.jobModal=r.first),s.mGM(r=s.lsd())&&(o.activityModal=r.first),s.mGM(r=s.lsd())&&(o.activityProductModal=r.first),s.mGM(r=s.lsd())&&(o.activityProducts=r.first),s.mGM(r=s.lsd())&&(o.interventionsCalendar=r.first),s.mGM(r=s.lsd())&&(o.interventionsGrid=r.first),s.mGM(r=s.lsd())&&(o.interventionModal=r.first)}},features:[s.Vt3],decls:62,vars:17,consts:[["jobModal",""],["activityModal",""],["activityProductModal",""],["interventionModal",""],["activityProducts",""],["interventionsCalendar",""],["interventionsGrid",""],[1,"d-flex","align-items-center","gap-3","mb-2"],[1,"d-flex","gap-1"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-edit"],[1,"btn","btn-primary","btn-sm",3,"routerLink","queryParams"],[1,"fa","fa-rotate-left"],[1,"row","mb-4","border-green"],[1,"col-2"],[3,"innerHTML"],[1,"col-3"],["class","col-1",4,"ngIf"],[1,"col-1"],[1,"col-12"],[3,"selected"],["kendoTabTitle",""],["kendoTabContent",""],[1,"fa","fa-plus"],[3,"edit","activityId"],[1,"fa","fa-calendar-plus"],[3,"interventionUpdated","interventionCreated","interventionRemoved","interventionModal","jobId","activityId"],[3,"interventionUpdated","interventionRemoved","interventionModal","activityId"]],template:function(t,o){if(1&t){const r=s.RV6();s.j41(0,"div",7)(1,"h3"),s.EFF(2),s.nI1(3,"activityStatus"),s.k0s(),s.j41(4,"div",8)(5,"a",9),s.bIt("click",function(){return s.eBV(r),s.Njj(o.editJob(o.activity.jobId))}),s.nrm(6,"span",10),s.EFF(7," Modifica commessa "),s.k0s(),s.j41(8,"a",9),s.bIt("click",function(){return s.eBV(r),s.Njj(o.edit())}),s.nrm(9,"span",10),s.EFF(10," Modifica attivit\xe0 "),s.k0s(),s.j41(11,"a",11),s.nrm(12,"span",12),s.EFF(13," Torna alla commessa "),s.k0s()()(),s.j41(14,"div",13)(15,"div",14)(16,"b"),s.EFF(17," Commessa "),s.k0s(),s.nrm(18,"div",15),s.k0s(),s.j41(19,"div",16)(20,"b"),s.EFF(21," Cliente "),s.k0s(),s.j41(22,"p"),s.EFF(23),s.k0s()(),s.j41(24,"div",16)(25,"b"),s.EFF(26," Indirizzo "),s.k0s(),s.j41(27,"p"),s.EFF(28),s.k0s()(),s.j41(29,"div",14)(30,"b"),s.EFF(31," Tipologia "),s.k0s(),s.j41(32,"p"),s.EFF(33),s.k0s()(),s.DNE(34,han,6,4,"div",17),s.j41(35,"div",18)(36,"b"),s.EFF(37," Operatore "),s.k0s(),s.j41(38,"p"),s.EFF(39),s.k0s()(),s.j41(40,"div",19)(41,"b"),s.EFF(42," Note "),s.k0s(),s.nrm(43,"div",15),s.k0s()(),s.j41(44,"kendo-tabstrip")(45,"kendo-tabstrip-tab",20),s.DNE(46,pan,2,0,"ng-template",21)(47,fan,9,1,"ng-template",22),s.k0s(),s.j41(48,"kendo-tabstrip-tab"),s.DNE(49,man,2,0,"ng-template",21)(50,_an,6,3,"ng-template",22),s.k0s(),s.j41(51,"kendo-tabstrip-tab"),s.DNE(52,gan,2,0,"ng-template",21)(53,San,6,2,"ng-template",22),s.k0s()(),s.nrm(54,"app-job-modal",null,0)(56,"app-activity-modal",null,1)(58,"app-activity-product-modal",null,2)(60,"app-intervention-modal",null,3)}2&t&&(s.R7$(2),s.Lme(" Attivit\xe0 ",o.activity.number," \u2022 ",s.bMT(3,12,o.activity)," "),s.R7$(9),s.Y8G("routerLink",s.lJ4(14,dan))("queryParams",s.eq3(15,uan,o.activity.jobId)),s.R7$(7),s.Y8G("innerHTML",o.activity.job,s.npT),s.R7$(5),s.SpI(" ",o.activity.customer," "),s.R7$(5),s.SpI(" ",o.activity.address," "),s.R7$(5),s.SpI(" ",o.activity.type," "),s.R7$(),s.Y8G("ngIf",o.activity.expirationDate),s.R7$(5),s.SpI(" ",o.activity.referent," "),s.R7$(4),s.Y8G("innerHTML",o.activity.description,s.npT),s.R7$(2),s.Y8G("selected",!0))},dependencies:[q,mu,eF,QU,JU,qU,rle,C4,UKt,IKt,ple,vFe,CFe,To,Zae],encapsulation:2})}return i})();const Can=["interventionsCalendar"],ban=["interventionModal"];let Ean=(()=>{class i extends Tn{constructor(e,t){super(),this._service=e,this._messageBox=t}create(){(new Date).addHours(1).setMinutes(0);const t=new Tg(0,new Date(new Date((new Date).setMinutes(0)).setSeconds(0)),new Date(new Date((new Date).setMinutes(0)).setSeconds(0)).addHours(1),dp.Scheduled,null,null,null,null,[],[],[]);this._subscriptions.push(this.interventionModal.open(t).pipe(X(o=>o),le(()=>this._service.create(t)),F(()=>this._afterCreated())).subscribe())}_afterCreated(){this._messageBox.success("Intervento programmato."),this.interventionsCalendar.refresh()}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(Mg),s.rXU(vn))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-interventions"]],viewQuery:function(t,o){if(1&t&&(s.GBs(Can,7),s.GBs(ban,7)),2&t){let r;s.mGM(r=s.lsd())&&(o.interventionsCalendar=r.first),s.mGM(r=s.lsd())&&(o.interventionModal=r.first)}},features:[s.Vt3],decls:10,vars:1,consts:[["interventionsCalendar",""],["interventionModal",""],[1,"d-flex","align-items-center","gap-3","mb-4"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-calendar-plus"],[3,"interventionModal"]],template:function(t,o){if(1&t){const r=s.RV6();s.j41(0,"div",2)(1,"h3"),s.EFF(2," Calendario Interventi "),s.k0s(),s.j41(3,"a",3),s.bIt("click",function(){return s.eBV(r),s.Njj(o.create())}),s.nrm(4,"span",4),s.EFF(5," Programma intervento "),s.k0s()(),s.nrm(6,"app-interventions-calendar",5,0)(8,"app-intervention-modal",null,1)}if(2&t){const r=s.sdS(9);s.R7$(6),s.Y8G("interventionModal",r)}},dependencies:[ple,vFe],encapsulation:2})}return i})();const yan=["interventionsGrid"],Dan=["interventionModal"];let wan=(()=>{class i extends Tn{constructor(e,t){super(),this._service=e,this._messageBox=t}create(){(new Date).addHours(1).setMinutes(0);const t=new Tg(0,new Date(new Date((new Date).setMinutes(0)).setSeconds(0)),new Date(new Date((new Date).setMinutes(0)).setSeconds(0)).addHours(1),dp.Scheduled,null,null,null,null,[],[],[]);this._subscriptions.push(this.interventionModal.open(t).pipe(X(o=>o),le(()=>this._service.create(t)),F(()=>this._afterCreated())).subscribe())}_afterCreated(){this._messageBox.success("Intervento programmato."),this.interventionsGrid.refresh()}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(Mg),s.rXU(vn))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-interventions-list"]],viewQuery:function(t,o){if(1&t&&(s.GBs(yan,7),s.GBs(Dan,7)),2&t){let r;s.mGM(r=s.lsd())&&(o.interventionsGrid=r.first),s.mGM(r=s.lsd())&&(o.interventionModal=r.first)}},features:[s.Vt3],decls:10,vars:1,consts:[["interventionsGrid",""],["interventionModal",""],[1,"d-flex","align-items-center","gap-3","mb-4"],[1,"btn","btn-primary","tn-sm",3,"click"],[1,"fa","fa-calendar-plus"],[3,"interventionModal"]],template:function(t,o){if(1&t){const r=s.RV6();s.j41(0,"div",2)(1,"h3"),s.EFF(2," Elenco Interventi "),s.k0s(),s.j41(3,"a",3),s.bIt("click",function(){return s.eBV(r),s.Njj(o.create())}),s.nrm(4,"span",4),s.EFF(5," Programma intervento "),s.k0s()(),s.nrm(6,"app-interventions-grid",5,0)(8,"app-intervention-modal",null,1)}if(2&t){const r=s.sdS(9);s.R7$(6),s.Y8G("interventionModal",r)}},dependencies:[ple,CFe],encapsulation:2})}return i})(),bFe=(()=>{class i extends Tn{transform(e){return EMe[e]}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=s.xGo(i)))(o||i)}})();static#t=this.\u0275pipe=s.EJ8({name:"ticketStatus",type:i,pure:!0})}return i})();const kan=["form"],Oan=["customerModal"],Tan=["activityModal"],Man=["messageModal"],Mce=i=>({messageUnread:i});function Ian(i,n){1&i&&s.nrm(0,"div",6)}function Ran(i,n){if(1&i&&(s.j41(0,"div",55),s.EFF(1),s.nI1(2,"ticketStatus"),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.Lme(" Ticket ",e.options.code," \u2022 ",s.bMT(2,2,e.options.status)," ")}}function Aan(i,n){1&i&&(s.j41(0,"div",55),s.EFF(1," Nuovo ticket "),s.k0s())}function xan(i,n){1&i&&(s.EFF(0),s.nI1(1,"ticketStatus")),2&i&&s.SpI(" ",s.bMT(1,1,n.$implicit)," ")}function Nan(i,n){1&i&&(s.EFF(0),s.nI1(1,"ticketStatus")),2&i&&s.SpI(" ",s.bMT(1,1,n.$implicit)," ")}function Lan(i,n){if(1&i&&(s.j41(0,"strong",56),s.EFF(1),s.k0s()),2&i){const e=s.XpG(2);s.R7$(),s.SpI("Da leggere: ",e.unreadMessages,"")}}function Pan(i,n){1&i&&s.nrm(0,"i",66)}function Gan(i,n){1&i&&s.nrm(0,"i",67)}function Uan(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",57)(1,"div",58),s.EFF(2),s.nI1(3,"date"),s.k0s(),s.j41(4,"div",58),s.EFF(5),s.k0s(),s.nrm(6,"div",59),s.j41(7,"div",60)(8,"button",61),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG(2);return s.Njj(r.markAsRead(o))}),s.DNE(9,Pan,1,0,"i",62)(10,Gan,1,0,"i",63),s.k0s(),s.j41(11,"button",64),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG(2);return s.Njj(r.deleteMessage(o))}),s.nrm(12,"i",65),s.k0s()()()}if(2&i){const e=n.$implicit,t=s.XpG(2);s.R7$(),s.Y8G("ngClass",s.eq3(13,Mce,!e.isRead)),s.R7$(),s.SpI(" ",s.i5U(3,10,e.date,"dd/MM/yyyy"),""),s.R7$(2),s.Y8G("ngClass",s.eq3(15,Mce,!e.isRead)),s.R7$(),s.SpI(" ",e.operatorName,""),s.R7$(),s.Y8G("ngClass",s.eq3(17,Mce,!e.isRead))("innerHTML",e.note,s.npT),s.R7$(2),s.Y8G("disabled",e.isRead),s.R7$(),s.Y8G("ngIf",e.isRead),s.R7$(),s.Y8G("ngIf",!e.isRead),s.R7$(),s.Y8G("disabled",e.operatorId!=t.currentOperator.id)}}function Fan(i,n){if(1&i){const e=s.RV6();s.j41(0,"a",68),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG(2);return s.Njj(r.downloadAttachment(o[0].name))}),s.EFF(1),s.k0s()}if(2&i){const e=n.$implicit;s.R7$(),s.SpI(" ",e[0].name," ")}}function Ban(i,n){if(1&i&&s.nrm(0,"img",73),2&i){const e=s.XpG().$implicit,t=s.XpG(2);s.Y8G("src",t.pathImage+e.fileName,s.B4B)("title",e.displayName)}}function Van(i,n){if(1&i&&s.nrm(0,"img",74),2&i){const e=s.XpG().$implicit;s.Y8G("title",e.displayName)}}function zan(i,n){if(1&i&&(s.j41(0,"div",69)(1,"a",70),s.DNE(2,Ban,1,2,"img",71)(3,Van,1,1,"img",72),s.k0s()()),2&i){const e=n.$implicit,t=s.XpG(2);s.R7$(),s.Y8G("href",t.pathImage+e.fileName,s.B4B),s.R7$(),s.Y8G("ngIf",e.isImage),s.R7$(),s.Y8G("ngIf",!e.isImage)}}function Han(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",75),s.bIt("click",function(){s.eBV(e);const o=s.XpG(2);return s.Njj(o.createActivity(o.options))}),s.nrm(1,"i",26),s.EFF(2," Genera Attivit\xe0 "),s.k0s()}}function jan(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",7)(1,"kendo-window",8),s.bIt("close",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.mxI("stateChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.windowState,o)||(r.windowState=o),s.Njj(o)}),s.j41(2,"kendo-window-titlebar"),s.DNE(3,Ran,3,4,"div",9)(4,Aan,2,0,"div",9),s.nrm(5,"button",10)(6,"button",11)(7,"button",12)(8,"button",13),s.k0s(),s.j41(9,"form",14,3),s.bIt("submit",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.close())}),s.j41(11,"div",15)(12,"div",16)(13,"label"),s.EFF(14,"Anno"),s.k0s(),s.j41(15,"div",17)(16,"input",18),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.year,o)||(r.options.year=o),s.Njj(o)}),s.k0s(),s.nrm(17,"div",19),s.k0s()(),s.j41(18,"div",16)(19,"label"),s.EFF(20,"Numero"),s.k0s(),s.j41(21,"div",17)(22,"input",20),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.number,o)||(r.options.number=o),s.Njj(o)}),s.k0s(),s.nrm(23,"div",19),s.k0s()(),s.j41(24,"div",21)(25,"label"),s.EFF(26,"Data"),s.k0s(),s.j41(27,"div",17)(28,"kendo-datepicker",22),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.date,o)||(r.options.date=o),s.Njj(o)}),s.bIt("valueChange",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.onDateChange())}),s.k0s(),s.nrm(29,"div",19),s.k0s()()(),s.j41(30,"div",15)(31,"div",23)(32,"label"),s.EFF(33,"Cliente"),s.k0s(),s.j41(34,"div",17)(35,"kendo-combobox",24),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.customerId,o)||(r.options.customerId=o),s.Njj(o)}),s.k0s(),s.j41(36,"button",25),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.createCustomer())}),s.nrm(37,"i",26),s.k0s(),s.nrm(38,"div",19),s.k0s()(),s.j41(39,"div",21)(40,"label"),s.EFF(41,"Stato"),s.k0s(),s.j41(42,"div",17)(43,"kendo-dropdownlist",27),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.status,o)||(r.options.status=o),s.Njj(o)}),s.DNE(44,xan,2,3,"ng-template",28)(45,Nan,2,3,"ng-template",29),s.k0s(),s.nrm(46,"div",19),s.k0s()()(),s.j41(47,"div",15)(48,"div",30)(49,"label"),s.EFF(50,"Note"),s.k0s(),s.j41(51,"div",17)(52,"kendo-editor",31),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.options.description,o)||(r.options.description=o),s.Njj(o)}),s.j41(53,"kendo-toolbar")(54,"kendo-toolbar-buttongroup"),s.nrm(55,"kendo-toolbar-button",32)(56,"kendo-toolbar-button",33)(57,"kendo-toolbar-button",34),s.k0s(),s.nrm(58,"kendo-toolbar-colorpicker",35),s.j41(59,"kendo-toolbar-buttongroup"),s.nrm(60,"kendo-toolbar-button",36),s.k0s(),s.j41(61,"kendo-toolbar-buttongroup"),s.nrm(62,"kendo-toolbar-button",37)(63,"kendo-toolbar-button",38),s.k0s()()(),s.nrm(64,"div",19),s.k0s()()(),s.nrm(65,"hr",39),s.j41(66,"div",15)(67,"div",30)(68,"div",17)(69,"label"),s.EFF(70),s.DNE(71,Lan,2,1,"strong",40),s.k0s(),s.j41(72,"div",41)(73,"div",42)(74,"button",43),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.createMessage())}),s.nrm(75,"i",26),s.k0s()(),s.j41(76,"div",44),s.DNE(77,Uan,13,19,"div",45),s.k0s()()()()(),s.nrm(78,"hr",39),s.j41(79,"div",15)(80,"div",21)(81,"kendo-formfield",17)(82,"label"),s.EFF(83,"Allegati"),s.k0s(),s.j41(84,"kendo-upload",46),s.mxI("ngModelChange",function(o){s.eBV(e);const r=s.XpG();return s.DH7(r.attachments,o)||(r.attachments=o),s.Njj(o)}),s.bIt("success",function(o){s.eBV(e);const r=s.XpG();return s.Njj(r.AttachmentExecutionSuccess(o))}),s.DNE(85,Fan,2,1,"ng-template",47),s.nrm(86,"kendo-upload-messages",48),s.k0s()()(),s.j41(87,"div",49)(88,"div",15),s.DNE(89,zan,4,3,"div",50),s.k0s()()(),s.j41(90,"div",51)(91,"button",52),s.bIt("click",function(){s.eBV(e);const o=s.XpG();return s.Njj(o.dismiss())}),s.EFF(92," Annulla "),s.k0s(),s.DNE(93,Han,3,0,"button",53),s.j41(94,"button",54),s.EFF(95," Salva "),s.k0s()()()()()}if(2&i){const e=s.sdS(10),t=s.XpG();s.R7$(),s.Y8G("resizable",!0)("draggable",!0)("top",30),s.R50("state",t.windowState),s.R7$(2),s.Y8G("ngIf",!!t.options.id),s.R7$(),s.Y8G("ngIf",!t.options.id),s.R7$(12),s.R50("ngModel",t.options.year),s.R7$(),s.Y8G("control",e.controls.year),s.R7$(5),s.R50("ngModel",t.options.number),s.R7$(),s.Y8G("control",e.controls.number),s.R7$(5),s.R50("ngModel",t.options.date),s.Y8G("disabled",!!t.options.id),s.R7$(),s.Y8G("control",e.controls.date),s.R7$(6),s.Y8G("data",t.customers)("valuePrimitive",!0),s.R50("ngModel",t.options.customerId),s.Y8G("suggest",!0)("allowCustom",!1)("disabled",!!t.options.id),s.R7$(3),s.Y8G("control",e.controls.customerId),s.R7$(5),s.Y8G("data",t.states)("valuePrimitive",!0),s.R50("ngModel",t.options.status),s.R7$(3),s.Y8G("control",e.controls.status),s.R7$(6),s.R50("ngModel",t.options.description),s.Y8G("resizable",!0)("iframe",!1),s.R7$(12),s.Y8G("control",e.controls.description),s.R7$(6),s.SpI("Commenti (",t.options.messages.length,") "),s.R7$(),s.Y8G("ngIf",t.unreadMessages),s.R7$(6),s.Y8G("ngForOf",t.options.messages),s.R7$(7),s.R50("ngModel",t.attachments),s.Y8G("saveUrl",t.uploadSaveUrl)("removeUrl",t.uploadRemoveUrl)("multiple",!0),s.R7$(5),s.Y8G("ngForOf",t.options.attachments),s.R7$(4),s.Y8G("ngIf",t.options.id)}}let $an=(()=>{class i extends eo{constructor(e,t,o,r,a,l,c){super(),this._customersService=e,this._serviceJob=t,this._serviceActivity=o,this._messageBox=r,this._operatorsService=a,this._user=l,this._messagesService=c,this.attachments=[],this._baseUrl=`${fn.baseApiUrl}/tickets`,this.pathImage=`${fn.baseAttachmentsUrl}/`,this.uploadSaveUrl=`${this._baseUrl}/ticket-attachment/upload-file`,this.uploadRemoveUrl=`${this._baseUrl}/ticket-attachment/remove-file`,this.states=nk(Fc)}ngOnInit(){this._getData(),this.user=this._user.getUser(),this._getCurrentOperator(this.user.id)}open(e){const t=super.open(e);return this.attachments=[],null!=e.pictures&&this.options.pictures.forEach(o=>{null!=o.description&&null!=o.fileName&&this.attachments.push({name:o.description})}),this.updateUnreadCounter(),t}onDateChange(){this.options.year=this.options.date?.getFullYear()}createCustomer(){const e=new xr;e.fiscalType=1,this._subscriptions.push(this.customerModal.open(e).pipe(X(t=>t),le(()=>this._customersService.createCustomer(e)),F(t=>{this.options.customerId=t.id,this._messageBox.success(`Cliente ${e.name} creato`)}),F(()=>this._getData())).subscribe())}createActivity(e){this._subscriptions.push(this._serviceJob.getTicketJob(e.customerId,e.code.replace("/","-")).pipe(F(t=>this._job=t),F(()=>this._newActivity(e))).subscribe())}_newActivity(e){const t=new Bf(0,_a.Pending,null,null,`Rif. Ticket: ${e.code}<br/>${e.description}`,null,this._job.id,null,null,null,null,null,null,"In attesa","In corso","Completata",[],[]),o=new Pb(t);e.status=Fc.InProgress,this._subscriptions.push(this.activityModal.open(o).pipe(X(r=>r),le(()=>this._serviceActivity.create(t)),F(r=>e.activityId=r.id),F(r=>this._messageBox.success("Ticket aggiornato con successo")),F(()=>this.close())).subscribe())}_canClose(){return this.form.markAsDirty(),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi."),this.form.valid}_getData(){this._subscriptions.push(this._customersService.getCustomersList().pipe(F(e=>this._setData(e))).subscribe())}_setData(e){this.customers=e}downloadAttachment(e){const t=this.options.pictures.find(r=>r.description===e);window.open(`${this._baseUrl}/ticket-attachment/download-file/${t.fileName}/${t.description}`)}AttachmentExecutionSuccess(e){const t=e.response.body;if(null!=t){let o=new SB(0,t.originalFileName,t.fileName,this.options.id);this.options.pictures.push(o)}else{const o=e.files[0].name;this.options.pictures.findAndRemove(r=>r.description===o)}}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(F(t=>this.currentOperator=t)).subscribe())}createMessage(){const e=Ff(),t=new U_(0,e,null,this.currentOperator.id,null,null,this.options.id,null);this._subscriptions.push(this.messageModal.open(t).pipe(X(o=>o),le(()=>this._messagesService.create(t)),F(o=>{var r=new Vu(o.id,o.date,o.note,o.operatorId,this.currentOperator.name,o.jobId,o.activityId,o.ticketId,o.purchaseOrderId,"",!0);this.options.messages.push(r)}),F(()=>this._messageBox.success("Commento creato"))).subscribe())}markAsRead(e){this._subscriptions.push(this._messagesService.markAsRead(e.id,this.currentOperator.id).pipe(F(()=>{e.isRead=!0,this._messageBox.success("Commento letto"),this.updateUnreadCounter()})).subscribe())}deleteMessage(e){this._messageBox.confirm("Sei sicuro di voler cancellare il commento?","Conferma l'azione").subscribe(t=>{1==t&&this._subscriptions.push(this._messagesService.delete(e.id).pipe(F(o=>{this.options.messages.remove(e),this.updateUnreadCounter()}),F(o=>this._messageBox.success("Commento cancellato con successo"))).subscribe())})}updateUnreadCounter(){this.unreadMessages=this.options.messages.count(e=>!e.isRead)}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(zu),s.rXU(qf),s.rXU(Xh),s.rXU(vn),s.rXU(Bc),s.rXU(ro),s.rXU(Vx))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-ticket-modal"]],viewQuery:function(t,o){if(1&t&&(s.GBs(kan,5),s.GBs(Oan,7),s.GBs(Tan,7),s.GBs(Man,7)),2&t){let r;s.mGM(r=s.lsd())&&(o.form=r.first),s.mGM(r=s.lsd())&&(o.customerModal=r.first),s.mGM(r=s.lsd())&&(o.activityModal=r.first),s.mGM(r=s.lsd())&&(o.messageModal=r.first)}},features:[s.Vt3],decls:8,vars:2,consts:[["customerModal",""],["activityModal",""],["messageModal",""],["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","stateChange","resizable","draggable","top","state"],["class","k-window-title",4,"ngIf"],["kendoWindowMinimizeAction",""],["kendoWindowRestoreAction",""],["kendoWindowMaximizeAction",""],["kendoWindowCloseAction",""],["name","ticket-modal-form","novalidate","","autocomplete","off",1,"redimensionModal",3,"submit"],[1,"row"],[1,"col-md-2"],[1,"form-group"],["name","year","novalidate","","autocomplete","off","disabled","",1,"form-control",3,"ngModelChange","ngModel"],[1,"validation-message",3,"control"],["name","number","novalidate","","autocomplete","off","disabled","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3"],["format","dd/MM/yyyy","name","date","required","",3,"ngModelChange","valueChange","ngModel","disabled"],[1,"col-md-7"],["textField","name","valueField","id","name","customerId","required","",1,"customer-combobox",3,"ngModelChange","data","valuePrimitive","ngModel","suggest","allowCustom","disabled"],["type","button","title","Nuovo cliente",1,"btn","btn-primary","add-customer-button",3,"click"],[1,"fa","fa-plus"],["name","status","required","",3,"ngModelChange","data","valuePrimitive","ngModel"],["kendoDropDownListValueTemplate",""],["kendoDropDownListItemTemplate",""],[1,"col-md-12"],["name","description","required","",3,"ngModelChange","ngModel","resizable","iframe"],["kendoEditorBoldButton",""],["kendoEditorItalicButton",""],["kendoEditorUnderlineButton",""],["kendoEditorForeColor",""],["kendoEditorInsertUnorderedListButton",""],["kendoEditorCreateLinkButton",""],["kendoEditorUnlinkButton",""],[1,"border-green"],["style","padding-left: 15px;",4,"ngIf"],[1,"row",2,"margin-top","5px"],[1,"col-md-1"],["title","Aggiungi nuovo commento","type","button",1,"btn","btn-primary",3,"click"],[1,"col-md-11"],["class","row messageTableRow",4,"ngFor","ngForOf"],["name","myUpload",3,"ngModelChange","success","ngModel","saveUrl","removeUrl","multiple"],["kendoUploadFileInfoTemplate",""],["dropFilesHere"," "],[1,"col-md-9"],["class","col-2",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","gap-2","mt-5"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button","class","btn btn-primary","title","Genera Attivit\xe0",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-primary"],[1,"k-window-title"],[2,"padding-left","15px"],[1,"row","messageTableRow"],[1,"col-md-2","messageRowPadding",3,"ngClass"],[1,"col-md-6","messageRowPadding",3,"ngClass","innerHTML"],[1,"col-md-2",2,"text-align","right"],["type","button","title","Segna come letto",1,"btn","btn-outline-primary","me-2",3,"click","disabled"],["class","fa-regular fa-square-check",4,"ngIf"],["class","fa-regular fa-square",4,"ngIf"],["type","button","title","Elimina",1,"btn","btn-outline-danger",3,"click","disabled"],[1,"fas","fa-trash"],[1,"fa-regular","fa-square-check"],[1,"fa-regular","fa-square"],[1,"pointer",3,"click"],[1,"col-2"],["target","_blank",3,"href"],["width","90%",3,"src","title",4,"ngIf"],["src","assets/document.jpg","width","90%",3,"title",4,"ngIf"],["width","90%",3,"src","title"],["src","assets/document.jpg","width","90%",3,"title"],["type","button","title","Genera Attivit\xe0",1,"btn","btn-primary",3,"click"]],template:function(t,o){1&t&&(s.DNE(0,Ian,1,0,"div",4)(1,jan,96,37,"div",5),s.nrm(2,"app-customer-modal",null,0)(4,"app-activity-modal",null,1)(6,"app-message-modal",null,2)),2&t&&(s.Y8G("ngIf",o.opened),s.R7$(),s.Y8G("ngIf",o.opened))},dependencies:[Be,ut,q,Ps,Qo,Di,Ls,lo,fs,ps,$i,ts,W1,K1,Y1,Ni,Na,C_,ca,Ws,Ph,ol,FS,BS,zf,Lb,kg,Og,wg,Eg,yg,Dg,yv,rm,ep,Nn,ug,za,B_,C4,iz,To,bFe],encapsulation:2})}return i})();const Xan=["ticketModal"],Wan=["grid"],Kan=["customerModal"],Yan=i=>["/activities",i];function Jan(i,n){1&i&&(s.EFF(0),s.nI1(1,"date")),2&i&&s.SpI(" ",s.i5U(1,1,n.$implicit.date,"dd/MM/yyyy")," ")}function qan(i,n){if(1&i&&s.nrm(0,"app-multiselect-grid-column-filter",18),2&i){const e=n.column,t=n.filter,o=n.filterService,r=s.XpG();s.Y8G("column",e)("filter",t)("filterService",o)("data",r.ticketStatusNames)}}function Qan(i,n){if(1&i&&(s.j41(0,"span",19),s.EFF(1),s.nI1(2,"ticketStatus"),s.k0s()),2&i){const e=n.$implicit;s.R7$(),s.SpI(" ",s.bMT(2,1,e.status)," ")}}function Zan(i,n){if(1&i){const e=s.RV6();s.j41(0,"a",20),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.openCustomer(o.customerId))}),s.EFF(1),s.k0s(),s.nrm(2,"br")}if(2&i){const e=n.$implicit;s.R7$(),s.JRh(e.customerName)}}function eln(i,n){1&i&&s.nrm(0,"div",21),2&i&&s.Y8G("innerHTML",n.$implicit.description,s.npT)}function tln(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",23)(1,"a",20),s.bIt("click",function(){s.eBV(e);const o=s.XpG().$implicit,r=s.XpG();return s.Njj(r.edit(o))}),s.nrm(2,"i",24),s.j41(3,"span",25),s.EFF(4),s.k0s()()()}if(2&i){const e=s.XpG().$implicit;s.R7$(4),s.SpI(" ",e.unreadMessages,"")}}function nln(i,n){1&i&&s.DNE(0,tln,5,1,"div",22),2&i&&s.Y8G("ngIf",n.$implicit.unreadMessages)}function iln(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",26)(1,"button",27),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.edit(o))}),s.nrm(2,"i",28),s.k0s(),s.j41(3,"button",29),s.nrm(4,"i",30),s.k0s(),s.j41(5,"button",31),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.askRemove(o))}),s.nrm(6,"i",32),s.k0s()()}if(2&i){const e=n.$implicit;s.R7$(3),s.Y8G("disabled",null==e.activityId)("routerLink",s.eq3(2,Yan,e.activityId))}}let sln=(()=>{class i extends Tn{constructor(e,t,o,r,a,l,c){super(),this._service=e,this._messageBox=t,this.router=o,this._user=r,this._operatorsService=a,this._customerService=l,this._storageService=c,this.gridState={skip:0,take:30,filter:{filters:[{filters:[Fc.Opened,Fc.InProgress].map(u=>({field:"status",operator:"eq",value:u})),logic:"or"}],logic:"and"},group:[],sort:[{field:"date",dir:"desc"}]},this.expandedDetailKeys=new Array,this.ticketStatusNames=EMe,this.expandDetailsBy=u=>u.id,this.rowCallback=u=>{const f=u.dataItem;switch(!0){case f.status===Fc.Canceled:return{"ticket-canceled":!0};case f.status===Fc.InProgress:return{"ticket-inprogress":!0};case f.status===Fc.Opened:return{"ticket-opened":!0};case f.status===Fc.Resolved:return{"ticket-resolved":!0};default:return{}}}}ngOnInit(){this._resumeState(),this._read(),this.user=this._user.getUser(),this._getCurrentOperator(this.user.id)}dataStateChange(e){this.gridState=e,this._saveState(),this._read()}_resumeState(){const e=this._storageService.get(window.location.hash,!0);null!=e&&(this.gridState=e)}_saveState(){this._storageService.save(this.gridState,window.location.hash,!0)}create(){const e=Ff(),t=new ok(0,null,e.getFullYear(),e,null,Fc.Opened,null,null,this.currentOperator.id,[],[]);this._subscriptions.push(this.ticketModal.open(t).pipe(X(o=>o),le(()=>this._service.create(t)),F(o=>this._afterSaved(o))).subscribe())}edit(e){this._subscriptions.push(this._service.get(e.id).pipe(le(t=>this.ticketModal.open(t)),X(t=>t),le(()=>this._service.update(this.ticketModal.options)),F(t=>this._afterSaved(t))).subscribe())}onDblClick(){this.cellArgs.isEdited||this._subscriptions.push(this._service.get(this.cellArgs.dataItem.id).pipe(le(e=>this.ticketModal.open(e)),X(e=>e),le(()=>this._service.update(this.ticketModal.options)),F(e=>this._afterSaved(e))).subscribe())}cellClickHandler(e){this.cellArgs=e}askRemove(e){this._subscriptions.push(this._messageBox.confirm(`Sei sicuro di voler rimuovere il ticket ${e.code}?`,"Attenzione").pipe(X(o=>o),le(()=>this._service.delete(e.id)),F(()=>this._afterRemoved(e))).subscribe())}_read(){this._subscriptions.push(this._service.read(this.gridState).pipe(F(e=>this.data=e)).subscribe())}_afterSaved(e){this._messageBox.success(`Ticket ${e.code} salvata.`),null!=e.activityId&&this.router.navigate(["/activities/"+e.activityId]),this._read()}_afterRemoved(e){this._messageBox.success(`Ticket ${e.code} rimossa.`),this._read()}openCustomer(e){this._subscriptions.push(this._customerService.getCustomer(e).pipe((0,V.T)(t=>Object.assign(new xr,t)),le(t=>this.customerModal.open(t)),X(t=>t),(0,V.T)(()=>this.customerModal.options),le(t=>this._customerService.updateCustomer(t,e)),(0,V.T)(()=>this.customerModal.options),F(t=>this._messageBox.success(`Cliente ${t.name} aggiornato`)),F(()=>this._read())).subscribe())}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(F(t=>this.currentOperator=t)).subscribe())}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(VA),s.rXU(vn),s.rXU(Ns),s.rXU(ro),s.rXU(Bc),s.rXU(zu),s.rXU(Ll))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-tickets"]],viewQuery:function(t,o){if(1&t&&(s.GBs(Xan,7),s.GBs(Wan,7),s.GBs(Kan,7)),2&t){let r;s.mGM(r=s.lsd())&&(o.ticketModal=r.first),s.mGM(r=s.lsd())&&(o.grid=r.first),s.mGM(r=s.lsd())&&(o.customerModal=r.first)}},features:[s.Vt3],decls:28,vars:17,consts:[["ticketModal",""],["customerModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],["filterable","menu","scrollable","none",3,"expandedDetailKeysChange","dataStateChange","cellClick","dblclick","data","pageSize","skip","sort","filter","group","sortable","pageable","kendoGridExpandDetailsBy","expandedDetailKeys","rowClass"],["field","date","title","Data","filter","date",3,"width"],["kendoGridCellTemplate",""],["field","code","title","Codice",3,"width"],["field","status","title","Stato","filter","numeric",1,"ticket-status",3,"width"],["kendoGridFilterMenuTemplate",""],["field","customerName","title","Cliente"],["field","description","title","Note"],["field","operatorName","title","Inserito da"],["field","unreadMessages","title","","filterable","false"],["field","id","title"," ",3,"sortable","filterable","width"],[3,"column","filter","filterService","data"],[1,"text-nowrap"],[2,"cursor","pointer",3,"click"],[3,"innerHTML"],["style","width: 35px; text-align: center;",4,"ngIf"],[2,"width","35px","text-align","center"],[1,"fa-regular","fa-message","job-alert"],[1,"job-alert"],[1,"d-flex","text-nowrap","gap-1"],["title","Modifica",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-edit"],["title","Apri attivit\xe0",1,"btn","btn-primary","btn-sm",3,"disabled","routerLink"],[1,"fas","fa-gear"],["title","Rimuovi",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"]],template:function(t,o){if(1&t){const r=s.RV6();s.j41(0,"div",2)(1,"div",3)(2,"h3"),s.EFF(3,"Ticket"),s.k0s()(),s.j41(4,"div",4)(5,"button",5),s.bIt("click",function(){return s.eBV(r),s.Njj(o.create())}),s.nrm(6,"i",6),s.EFF(7," NUOVO "),s.k0s()()(),s.j41(8,"kendo-grid",7),s.mxI("expandedDetailKeysChange",function(l){return s.eBV(r),s.DH7(o.expandedDetailKeys,l)||(o.expandedDetailKeys=l),s.Njj(l)}),s.bIt("dataStateChange",function(l){return s.eBV(r),s.Njj(o.dataStateChange(l))})("cellClick",function(l){return s.eBV(r),s.Njj(o.cellClickHandler(l))})("dblclick",function(){return s.eBV(r),s.Njj(o.onDblClick())}),s.j41(9,"kendo-grid-column",8),s.DNE(10,Jan,2,4,"ng-template",9),s.k0s(),s.nrm(11,"kendo-grid-column",10),s.j41(12,"kendo-grid-column",11),s.DNE(13,qan,1,4,"ng-template",12)(14,Qan,3,3,"ng-template",9),s.k0s(),s.j41(15,"kendo-grid-column",13),s.DNE(16,Zan,3,1,"ng-template",9),s.k0s(),s.j41(17,"kendo-grid-column",14),s.DNE(18,eln,1,1,"ng-template",9),s.k0s(),s.nrm(19,"kendo-grid-column",15),s.j41(20,"kendo-grid-column",16),s.DNE(21,nln,1,1,"ng-template",9),s.k0s(),s.j41(22,"kendo-grid-column",17),s.DNE(23,iln,7,4,"ng-template",9),s.k0s()(),s.nrm(24,"app-ticket-modal",null,0)(26,"app-customer-modal",null,1)}2&t&&(s.R7$(8),s.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!0)("kendoGridExpandDetailsBy",o.expandDetailsBy),s.R50("expandedDetailKeys",o.expandedDetailKeys),s.Y8G("rowClass",o.rowCallback),s.R7$(),s.Y8G("width",1),s.R7$(2),s.Y8G("width",1),s.R7$(),s.Y8G("width",1),s.R7$(10),s.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[q,mu,Wi,Sne,Oi,Us,N_,B_,vO,$an,To,bFe],encapsulation:2})}return i})();const oln=["activityModal"],rln=["customerModal"],aln=i=>["/activities",i];function lln(i,n){1&i&&(s.j41(0,"div"),s.EFF(1,"\xa0"),s.k0s()),2&i&&s.xc7("background-color",n.$implicit.activityColor)}function cln(i,n){if(1&i){const e=s.RV6();s.j41(0,"a",21),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.openCustomer(o.customerId))}),s.EFF(1),s.k0s()}if(2&i){const e=n.$implicit;s.R7$(),s.JRh(e.customer)}}function dln(i,n){if(1&i&&(s.j41(0,"div"),s.EFF(1),s.k0s()),2&i){const e=s.XpG().$implicit;s.R7$(),s.JRh(e.jobCode)}}function uln(i,n){if(1&i&&(s.j41(0,"div",24),s.EFF(1),s.nrm(2,"i",25),s.k0s()),2&i){const e=s.XpG().$implicit;s.R7$(),s.SpI(" ",e.jobCode," ")}}function hln(i,n){if(1&i&&s.DNE(0,dln,2,1,"div",22)(1,uln,3,1,"div",23),2&i){const e=n.$implicit;s.Y8G("ngIf",!e.jobHasHighPriority),s.R7$(),s.Y8G("ngIf",e.jobHasHighPriority)}}function pln(i,n){if(1&i&&s.nrm(0,"app-multiselect-grid-column-filter",26),2&i){const e=n.column,t=n.filter,o=n.filterService,r=s.XpG();s.Y8G("column",e)("filter",t)("filterService",o)("data",r.activityStatusNames)}}function fln(i,n){if(1&i&&(s.j41(0,"span",27),s.EFF(1),s.nI1(2,"activityStatus"),s.k0s()),2&i){const e=n.$implicit;s.R7$(),s.SpI(" ",s.bMT(2,1,e)," ")}}function mln(i,n){if(1&i&&(s.j41(0,"div",30),s.EFF(1),s.nI1(2,"date"),s.k0s()),2&i){const e=s.XpG().$implicit;s.R7$(),s.SpI(" ",s.i5U(2,1,e.expirationDate,"dd/MM/yyyy")," ")}}function _ln(i,n){if(1&i&&(s.j41(0,"div",27),s.EFF(1),s.nI1(2,"date"),s.k0s()),2&i){const e=s.XpG().$implicit;s.R7$(),s.SpI(" ",s.i5U(2,1,e.expirationDate,"dd/MM/yyyy")," ")}}function gln(i,n){if(1&i&&s.DNE(0,mln,3,4,"div",28)(1,_ln,3,4,"div",29),2&i){const e=n.$implicit;s.Y8G("ngIf",e.isExpired),s.R7$(),s.Y8G("ngIf",!e.isExpired)}}function Sln(i,n){if(1&i&&(s.j41(0,"div"),s.EFF(1),s.k0s()),2&i){const e=s.XpG().$implicit;s.R7$(),s.JRh(e.referentName)}}function vln(i,n){if(1&i&&(s.j41(0,"div",24),s.EFF(1),s.nrm(2,"i",31),s.k0s()),2&i){const e=s.XpG().$implicit;s.R7$(),s.SpI(" ",e.referentName," ")}}function Cln(i,n){if(1&i&&s.DNE(0,Sln,2,1,"div",22)(1,vln,3,1,"div",23),2&i){const e=n.$implicit,t=s.XpG();s.Y8G("ngIf",!e.isNewReferent||e.referentId!=t.currentOperator.id),s.R7$(),s.Y8G("ngIf",e.isNewReferent&&e.referentId==t.currentOperator.id)}}function bln(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",33)(1,"a",21),s.bIt("click",function(){s.eBV(e);const o=s.XpG().$implicit,r=s.XpG();return s.Njj(r.edit(o))}),s.nrm(2,"i",34),s.j41(3,"span",24),s.EFF(4),s.k0s()()()}if(2&i){const e=s.XpG().$implicit;s.R7$(4),s.SpI(" ",e.unreadMessages,"")}}function Eln(i,n){1&i&&s.DNE(0,bln,5,1,"div",32),2&i&&s.Y8G("ngIf",n.$implicit.unreadMessages)}function yln(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",41),s.bIt("click",function(){s.eBV(e);const o=s.XpG().$implicit,r=s.XpG();return s.Njj(r.askRemove(o))}),s.nrm(1,"i",42),s.k0s()}}function Dln(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",35)(1,"button",36),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.edit(o))}),s.nrm(2,"i",37),s.k0s(),s.j41(3,"button",38),s.nrm(4,"i",39),s.k0s(),s.DNE(5,yln,2,0,"button",40),s.k0s()}if(2&i){const e=n.$implicit;s.R7$(3),s.Y8G("routerLink",s.eq3(3,aln,e.id))("disabled",e.isInternal),s.R7$(2),s.Y8G("ngIf",e.canBeRemoved)}}let wln=(()=>{class i extends Tn{constructor(e,t,o,r,a,l,c){super(),this._service=e,this._messageBox=t,this._route=o,this._user=r,this._customerService=a,this._operatorsService=l,this._storageService=c,this.gridState={skip:0,take:30,filter:{filters:[this._buildStatusFilter(),this._buildJobIdFilter(),this._buildTypeIdFilter(),this._buildReferentIdFilter()],logic:"and"},group:[],sort:[{field:"startDate",dir:"asc"},{field:"expirationDate",dir:"asc"}]},this.activityStatusNames=bMe,this.rowCallback=u=>{const f=u.dataItem;switch(!0){case f.status===_a.Completed:return{"activity-completed":!0};case f.status===_a.Pending:return{"activity-pending":!0};case f.status===_a.InProgress:return{"activity-in-progress":!0};case f.status!=_a.Completed&&!!f.expirationDate&&new Date(f.expirationDate).addDays(1).isPast():return{"activity-expired":!0};default:return{}}}}ngOnInit(){this._resumeState(),this._subscribeRouteParams(),this.user=this._user.getUser(),this._getCurrentOperator(this.user.id)}_resumeState(){const e=this._storageService.get(window.location.hash,!0);null!=e&&(this.gridState=e)}_saveState(){this._storageService.save(this.gridState,window.location.hash,!0)}dataStateChange(e){this.gridState=e,this._saveState(),this._read()}askRemove(e){this._subscriptions.push(this._messageBox.confirm(`Sei sicuro di voler rimuovere l'attivit\xe0 ${e.number}?`,"Attenzione").pipe(X(o=>o),le(()=>this._service.delete(e.id)),F(()=>this._afterRemoved(e))).subscribe())}create(){const e=new Bf(0,_a.Pending,null,null,null,null,this._jobId,null,null,null,null,null,null,"In attesa","In corso","Completata",[],[]),t=new Pb(e);this._subscriptions.push(this.activityModal.open(t).pipe(X(o=>o),le(()=>this._service.create(e)),F(()=>this._afterActivityCreated())).subscribe())}edit(e){this._subscriptions.push(this._service.get(e.id).pipe((0,V.T)(t=>new Pb(t)),le(t=>this.activityModal.open(t)),X(t=>t),le(()=>this._service.update(this.activityModal.options.activity)),F(()=>this._afterActivityUpdated())).subscribe())}onDblClick(){this.cellArgs.isEdited||this._subscriptions.push(this._service.get(this.cellArgs.dataItem.id).pipe((0,V.T)(e=>new Pb(e)),le(e=>this.activityModal.open(e)),X(e=>e),le(()=>this._service.update(this.activityModal.options.activity)),F(()=>this._afterActivityUpdated())).subscribe())}openCustomer(e){this._subscriptions.push(this._customerService.getCustomer(e).pipe((0,V.T)(t=>Object.assign(new xr,t)),le(t=>this.customerModal.open(t)),X(t=>t),(0,V.T)(()=>this.customerModal.options),le(t=>this._customerService.updateCustomer(t,e)),(0,V.T)(()=>this.customerModal.options),F(t=>this._messageBox.success(`Cliente ${t.name} aggiornato`)),F(()=>this._afterActivityUpdated())).subscribe())}cellClickHandler(e){this.cellArgs=e}_read(){this._subscriptions.push(this._service.read(this.gridState).pipe(F(e=>this.data=e)).subscribe())}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(F(t=>this.currentOperator=t)).subscribe())}_afterActivityCreated(){this._messageBox.success("Attivit\xe0 creata."),this._read()}_afterActivityUpdated(){this._messageBox.success("Attivit\xe0 aggiornata."),this._read()}_subscribeRouteParams(){this._route.queryParams.pipe(F(e=>this._setParams(e))).subscribe()}_afterRemoved(e){this._messageBox.success(`Attivit\xe0 ${e.number} rimossa.`),this._read()}_buildJobIdFilter(){const e=this;return{field:"jobId",get operator(){return e._jobId?"eq":"isnotnull"},get value(){return e._jobId}}}_buildTypeIdFilter(){const e=this;return{field:"typeId",get operator(){return e._typeId?"eq":"isnotnull"},get value(){return e._typeId}}}_buildReferentIdFilter(){const e=this;return{field:"referentId",get operator(){return e._referentId?"eq":"neq"},get value(){return e._referentId?e._referentId:0}}}_buildStatusFilter(){const e=this;return{get field(){return e._jobId?"id":void 0},get operator(){return e._jobId?"isnotnull":void 0},get filters(){return e._jobId?void 0:[_a.Pending,_a.InProgress].map(t=>({field:"status",operator:"eq",value:t}))},logic:"or"}}_setParams(e){this._jobId=isNaN(+e.jobId)?null:+e.jobId,this._typeId=isNaN(+e.typeId)?null:+e.typeId,this._referentId=isNaN(+e.referentId)?null:+e.referentId,this._read()}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(Xh),s.rXU(vn),s.rXU(Dh),s.rXU(ro),s.rXU(zu),s.rXU(Bc),s.rXU(Ll))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-activities"]],viewQuery:function(t,o){if(1&t&&(s.GBs(oln,7),s.GBs(rln,7)),2&t){let r;s.mGM(r=s.lsd())&&(o.activityModal=r.first),s.mGM(r=s.lsd())&&(o.customerModal=r.first)}},features:[s.Vt3],decls:33,vars:18,consts:[["activityModal",""],["customerModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],["filterable","menu","scrollable","none",3,"dataStateChange","cellClick","dblclick","data","pageSize","skip","sort","filter","group","sortable","pageable","rowClass"],["field","activityColor","title"," ",1,"activity-color",3,"sortable","filterable"],["kendoGridCellTemplate",""],["field","customer","title","Cliente"],["field","jobCode","title","Comm.",3,"width"],["field","status","title","Stato","filter","numeric",1,"activity-status",3,"width"],["kendoGridFilterMenuTemplate",""],["field","jobReference","title","Riferimento"],["field","shortDescription","title","Descrizione Attivit\xe0"],["field","expirationDate","title","Scadenza","filter","date","format","dd/MM/yyyy",3,"width"],["field","referentName","title","Operatore"],["field","lastOperator","title","Inser. Da",3,"width"],["field","unreadMessages","title","","filterable","false"],["field","id","title"," ",3,"sortable","filterable","width"],[2,"cursor","pointer",3,"click"],[4,"ngIf"],["class","job-alert",4,"ngIf"],[1,"job-alert"],["aria-hidden","true",1,"fa","fa-exclamation-triangle"],[3,"column","filter","filterService","data"],[1,"text-nowrap"],["class","text-nowrap job-alert",4,"ngIf"],["class","text-nowrap",4,"ngIf"],[1,"text-nowrap","job-alert"],["aria-hidden","true",1,"fa","fa-bell"],["style","width: 35px; text-align: center;",4,"ngIf"],[2,"width","35px","text-align","center"],[1,"fa-regular","fa-message","job-alert"],[1,"d-flex","text-nowrap","gap-1"],["title","Modifica",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-edit"],["title","Gestisci",1,"btn","btn-primary","btn-sm",3,"routerLink","disabled"],[1,"fas","fa-gear"],["class","btn btn-danger btn-sm","title","Rimuovi",3,"click",4,"ngIf"],["title","Rimuovi",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"]],template:function(t,o){if(1&t){const r=s.RV6();s.j41(0,"div",2)(1,"div",3)(2,"h3"),s.EFF(3,"Attivit\xe0"),s.k0s()(),s.j41(4,"div",4)(5,"button",5),s.bIt("click",function(){return s.eBV(r),s.Njj(o.create())}),s.nrm(6,"i",6),s.EFF(7," NUOVA "),s.k0s()()(),s.j41(8,"kendo-grid",7),s.bIt("dataStateChange",function(l){return s.eBV(r),s.Njj(o.dataStateChange(l))})("cellClick",function(l){return s.eBV(r),s.Njj(o.cellClickHandler(l))})("dblclick",function(){return s.eBV(r),s.Njj(o.onDblClick())}),s.j41(9,"kendo-grid-column",8),s.DNE(10,lln,2,2,"ng-template",9),s.k0s(),s.j41(11,"kendo-grid-column",10),s.DNE(12,cln,2,1,"ng-template",9),s.k0s(),s.j41(13,"kendo-grid-column",11),s.DNE(14,hln,2,2,"ng-template",9),s.k0s(),s.j41(15,"kendo-grid-column",12),s.DNE(16,pln,1,4,"ng-template",13)(17,fln,3,3,"ng-template",9),s.k0s(),s.nrm(18,"kendo-grid-column",14)(19,"kendo-grid-column",15),s.j41(20,"kendo-grid-column",16),s.DNE(21,gln,2,2,"ng-template",9),s.k0s(),s.j41(22,"kendo-grid-column",17),s.DNE(23,Cln,2,2,"ng-template",9),s.k0s(),s.nrm(24,"kendo-grid-column",18),s.j41(25,"kendo-grid-column",19),s.DNE(26,Eln,1,1,"ng-template",9),s.k0s(),s.j41(27,"kendo-grid-column",20),s.DNE(28,Dln,6,5,"ng-template",9),s.k0s()(),s.nrm(29,"app-activity-modal",null,0)(31,"app-customer-modal",null,1)}2&t&&(s.R7$(8),s.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!0)("rowClass",o.rowCallback),s.R7$(),s.Y8G("sortable",!1)("filterable",!1),s.R7$(4),s.Y8G("width",1),s.R7$(2),s.Y8G("width",1),s.R7$(5),s.Y8G("width",1),s.R7$(4),s.Y8G("width",1),s.R7$(3),s.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[q,mu,Wi,Oi,Us,N_,B_,vO,C4,To,Zae],encapsulation:2})}return i})();const kln=["supplierModal"],Oln=["addressModal"];function Tln(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",16),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.editSupplier(o))}),s.nrm(1,"i",17),s.k0s(),s.j41(2,"button",18),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.deleteSupplier(o))}),s.nrm(3,"i",19),s.k0s()}}function Mln(i,n){1&i&&(s.EFF(0),s.nI1(1,"bool")),2&i&&s.SpI(" ",s.bMT(1,1,n.$implicit.isMainAddress)," ")}function Iln(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",29),s.bIt("click",function(){s.eBV(e);const o=s.XpG().$implicit,r=s.XpG(2);return s.Njj(r.setAddressAsMain(o))}),s.nrm(1,"i",30),s.k0s()}}function Rln(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",18),s.bIt("click",function(){s.eBV(e);const o=s.XpG().$implicit,r=s.XpG(2);return s.Njj(r.deleteAddress(o))}),s.nrm(1,"i",19),s.k0s()}}function Aln(i,n){if(1&i){const e=s.RV6();s.j41(0,"button",16),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG().$implicit,a=s.XpG();return s.Njj(a.editAddress(o,r))}),s.nrm(1,"i",17),s.k0s(),s.DNE(2,Iln,2,0,"button",27)(3,Rln,2,0,"button",28)}if(2&i){const e=n.$implicit;s.R7$(2),s.Y8G("ngIf",!e.isMainAddress),s.R7$(),s.Y8G("ngIf",!e.isMainAddress)}}function xln(i,n){if(1&i){const e=s.RV6();s.j41(0,"div")(1,"div",20),s.nrm(2,"div",3),s.j41(3,"div",4)(4,"button",5),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.createAddress(o))}),s.nrm(5,"i",6),s.EFF(6," NUOVO INDIRIZZO "),s.k0s()()(),s.j41(7,"kendo-grid",21),s.nrm(8,"kendo-grid-column",22)(9,"kendo-grid-column",23)(10,"kendo-grid-column",24)(11,"kendo-grid-column",25),s.j41(12,"kendo-grid-column",26),s.DNE(13,Mln,2,3,"ng-template",13),s.k0s(),s.j41(14,"kendo-grid-column",12),s.DNE(15,Aln,4,2,"ng-template",13),s.k0s()()()}if(2&i){const e=n.$implicit;s.R7$(7),s.Y8G("data",e.addresses)("sortable",!1)("pageable",!1),s.R7$(7),s.Y8G("sortable",!1)("filterable",!1)("width",130)}}let Nln=(()=>{class i extends Tn{constructor(e,t,o){super(),this._supplierService=e,this._addressesService=t,this._messageBox=o,this.stateGridSuppliers={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[]},this.supplierSelezionato=new Hu}ngOnInit(){this._readSuppliers()}dataStateChange(e){this.stateGridSuppliers=e,this._readSuppliers()}_readSuppliers(){this._subscriptions.push(this._supplierService.readSuppliers(this.stateGridSuppliers).pipe(F(e=>{this.dataSuppliers=e})).subscribe())}createSupplier(){const e=new Hu;this._subscriptions.push(this.supplierModal.open(e).pipe(X(t=>t),le(()=>this._supplierService.createSupplier(e)),F(t=>{this._messageBox.success(`Cliente ${e.name} creato`)}),F(()=>this._readSuppliers())).subscribe())}editSupplier(e){this._subscriptions.push(this._supplierService.getSupplier(e.id).pipe((0,V.T)(t=>Object.assign(new Hu,t)),le(t=>this.supplierModal.open(t)),X(t=>t),(0,V.T)(()=>this.supplierModal.options),le(t=>this._supplierService.updateSupplier(t,e.id)),(0,V.T)(()=>this.supplierModal.options),F(t=>this._messageBox.success(`Cliente ${t.name} aggiornato`)),F(()=>this._readSuppliers())).subscribe())}deleteSupplier(e){this._messageBox.confirm(`Sei sicuro di voler cancellare il cliente ${e.name}?`,"Conferma l'azione").subscribe(t=>{1==t&&this._subscriptions.push(this._supplierService.deleteSupplier(e.id).pipe(F(o=>this._messageBox.success(`Cliente ${e.name} cancellato con successo`)),F(()=>this._readSuppliers())).subscribe())})}createAddress(e){this.supplierSelezionato=e;const t=new ns;t.supplierId=e.id,this._subscriptions.push(this.addressModal.open(t).pipe(X(o=>o),le(()=>this._addressesService.createAddress(t)),F(o=>this._messageBox.success("Indirizzo creato con successo")),F(()=>this._readSuppliers())).subscribe())}editAddress(e,t){this.supplierSelezionato=t,this._subscriptions.push(this._addressesService.getAddress(e.id).pipe((0,V.T)(o=>Object.assign(new ns,o)),le(o=>this.addressModal.open(o)),X(o=>o),(0,V.T)(()=>this.addressModal.options),le(o=>this._addressesService.updateAddress(o,e.id)),(0,V.T)(()=>this.addressModal.options),F(o=>this._messageBox.success("Indirizzo aggiornato con successo")),F(()=>this._readSuppliers())).subscribe())}deleteAddress(e){this._messageBox.confirm("Sei sicuro di voler cancellare l'indirizzo?","Conferma l'azione").subscribe(t=>{1==t&&this._subscriptions.push(this._addressesService.deleteAddress(e.id).pipe(F(o=>this._messageBox.success("L'indirizzo cancellato con successo")),F(()=>this._readSuppliers())).subscribe())})}setAddressAsMain(e){this._messageBox.confirm("Sei sicuro di voler selezionare l'indirizzo come principale?","Conferma l'azione").subscribe(t=>{1==t&&this._subscriptions.push(this._addressesService.setAddressAsMain(e.id).pipe(F(o=>this._messageBox.success("L'indirizzo selezionato come principale con successo")),F(()=>this._readSuppliers())).subscribe())})}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU($0),s.rXU(Vf),s.rXU(vn))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-suppliers"]],viewQuery:function(t,o){if(1&t&&(s.GBs(kln,7),s.GBs(Oln,7)),2&t){let r;s.mGM(r=s.lsd())&&(o.supplierModal=r.first),s.mGM(r=s.lsd())&&(o.addressModal=r.first)}},features:[s.Vt3],decls:20,vars:12,consts:[["supplierModal",""],["addressModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","name","title","Nominativo"],["field","telephone","title","Telefono"],["field","contact","title","Contatto"],["field","mainAddress.fullAddress","title","Indirizzo"],["field","id","title"," ",3,"sortable","filterable","width"],["kendoGridCellTemplate",""],[4,"kendoGridDetailTemplate"],[3,"supplier"],["title","Modifica",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["title","Elimina",1,"btn","btn-danger","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-trash"],[1,"d-flex","align-items-center","master-detail-grid-header"],["scrollable","none",3,"data","sortable","pageable"],["field","city","title","Citt\xe0"],["field","streetAddress","title","Indirizzo"],["field","province","title","Provincia"],["field","zipCode","title","CAP"],["field","isMainAddress","title","Principale"],["class","btn btn-primary btn-sm grid-action-button","title","Seleziona come principale",3,"click",4,"ngIf"],["class","btn btn-danger btn-sm grid-action-button","title","Elimina",3,"click",4,"ngIf"],["title","Seleziona come principale",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-check"]],template:function(t,o){if(1&t){const r=s.RV6();s.j41(0,"div",2)(1,"div",3)(2,"h3"),s.EFF(3,"Fornitori"),s.k0s()(),s.j41(4,"div",4)(5,"button",5),s.bIt("click",function(){return s.eBV(r),s.Njj(o.createSupplier())}),s.nrm(6,"i",6),s.EFF(7," NUOVO "),s.k0s()()(),s.j41(8,"kendo-grid",7),s.bIt("dataStateChange",function(l){return s.eBV(r),s.Njj(o.dataStateChange(l))}),s.nrm(9,"kendo-grid-column",8)(10,"kendo-grid-column",9)(11,"kendo-grid-column",10)(12,"kendo-grid-column",11),s.j41(13,"kendo-grid-column",12),s.DNE(14,Tln,4,0,"ng-template",13),s.k0s(),s.DNE(15,xln,16,6,"div",14),s.k0s(),s.nrm(16,"app-supplier-modal",null,0)(18,"app-address-modal",15,1)}2&t&&(s.R7$(8),s.Y8G("data",o.dataSuppliers)("pageSize",o.stateGridSuppliers.take)("skip",o.stateGridSuppliers.skip)("sort",o.stateGridSuppliers.sort)("filter",o.stateGridSuppliers.filter)("group",o.stateGridSuppliers.group)("sortable",!0)("pageable",!0),s.R7$(5),s.Y8G("sortable",!1)("filterable",!1)("width",95),s.R7$(5),s.Y8G("supplier",o.supplierSelezionato))},dependencies:[q,Wi,Oi,Lw,Us,F_,Qae,ik]})}return i})();const Lln=["purchaseOrderModal"];function Pln(i,n){1&i&&(s.EFF(0),s.nI1(1,"date")),2&i&&s.SpI(" ",s.i5U(1,1,n.$implicit.date,"dd/MM/yyyy")," ")}function Gln(i,n){if(1&i&&s.nrm(0,"app-multiselect-grid-column-filter",19),2&i){const e=n.column,t=n.filter,o=n.filterService,r=s.XpG();s.Y8G("column",e)("filter",t)("filterService",o)("data",r.purchaseOrderStatusNames)}}function Uln(i,n){if(1&i&&(s.j41(0,"span",20),s.EFF(1),s.nI1(2,"purchaseOrderStatus"),s.k0s()),2&i){const e=n.$implicit;s.R7$(),s.SpI(" ",s.bMT(2,1,e.status)," ")}}function Fln(i,n){if(1&i&&(s.j41(0,"div"),s.EFF(1),s.k0s()),2&i){const e=s.XpG().$implicit;s.R7$(),s.JRh(e.jobCode)}}function Bln(i,n){if(1&i&&(s.j41(0,"div",23),s.EFF(1),s.nrm(2,"i",24),s.k0s()),2&i){const e=s.XpG().$implicit;s.R7$(),s.SpI(" ",e.jobCode," ")}}function Vln(i,n){if(1&i&&s.DNE(0,Fln,2,1,"div",21)(1,Bln,3,1,"div",22),2&i){const e=n.$implicit;s.Y8G("ngIf",!e.jobHasHighPriority),s.R7$(),s.Y8G("ngIf",e.jobHasHighPriority)}}function zln(i,n){1&i&&s.nrm(0,"div",25),2&i&&s.Y8G("innerHTML",n.$implicit.description,s.npT)}function Hln(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",27)(1,"a",28),s.bIt("click",function(){s.eBV(e);const o=s.XpG().$implicit,r=s.XpG();return s.Njj(r.edit(o))}),s.nrm(2,"i",29),s.j41(3,"span",23),s.EFF(4),s.k0s()()()}if(2&i){const e=s.XpG().$implicit;s.R7$(4),s.SpI(" ",e.unreadMessages,"")}}function jln(i,n){1&i&&s.DNE(0,Hln,5,1,"div",26),2&i&&s.Y8G("ngIf",n.$implicit.unreadMessages)}function $ln(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",30)(1,"button",31),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.edit(o))}),s.nrm(2,"i",32),s.k0s(),s.j41(3,"button",33),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.askRemove(o))}),s.nrm(4,"i",34),s.k0s()()}}let Xln=(()=>{class i extends Tn{constructor(e,t,o,r,a,l){super(),this._service=e,this._messageBox=t,this._route=o,this._user=r,this._operatorsService=a,this._storageService=l,this.gridState={skip:0,take:30,filter:{filters:[this._buildStatusFilter(),this._buildJobIdFilter()],logic:"and"},group:[],sort:[{field:"date",dir:"desc"}]},this.purchaseOrderStatusNames=dGe,this.rowCallback=c=>{const u=c.dataItem;switch(!0){case u.status===Ka.Completed:return{"purchase-order-completed":!0};case u.status===Ka.Pending:return{"purchase-order-pending":!0};case u.status===Ka.Ordered:return{"purchase-order-ordered":!0};case u.status===Ka.Withdrawn:return{"purchase-order-withdrawn":!0};case u.status===Ka.Canceled:return{"purchase-order-canceled":!0};default:return{}}}}ngOnInit(){this._resumeState(),this._subscribeRouteParams(),this.user=this._user.getUser(),this._getCurrentOperator(this.user.id)}dataStateChange(e){this.gridState=e,this._saveState(),this._read()}_resumeState(){const e=this._storageService.get(window.location.hash,!0);null!=e&&(this.gridState=e)}_saveState(){this._storageService.save(this.gridState,window.location.hash,!0)}askRemove(e){this._subscriptions.push(this._messageBox.confirm(`Sei sicuro di voler rimuovere l'ordine ${e.code}?`,"Attenzione").pipe(X(o=>o),le(()=>this._service.delete(e.id)),F(()=>this._afterRemoved(e))).subscribe())}create(){const e=Ff(),t=new Dv(0,null,e.getFullYear(),e,null,null,Ka.Pending,this._jobId,null,null,this.currentOperator.id,[],[],[]),o=new y4(t);this._subscriptions.push(this.purchaseOrderModal.open(o).pipe(X(r=>r),le(()=>this._service.create(t)),F(()=>this._afterPurchaseOrderCreated())).subscribe())}edit(e){this._subscriptions.push(this._service.get(e.id).pipe((0,V.T)(t=>new y4(t)),le(t=>this.purchaseOrderModal.open(t)),X(t=>t),le(()=>this._service.update(this.purchaseOrderModal.options.purchaseOrder)),F(()=>this._afterPurchaseOrderUpdated())).subscribe())}onDblClick(){this.cellArgs.isEdited||this._subscriptions.push(this._service.get(this.cellArgs.dataItem.id).pipe((0,V.T)(e=>new y4(e)),le(e=>this.purchaseOrderModal.open(e)),X(e=>e),le(()=>this._service.update(this.purchaseOrderModal.options.purchaseOrder)),F(()=>this._afterPurchaseOrderUpdated())).subscribe())}cellClickHandler(e){this.cellArgs=e}_read(){this._subscriptions.push(this._service.read(this.gridState).pipe(F(e=>this.data=e)).subscribe())}_afterPurchaseOrderCreated(){this._messageBox.success("Ordine creato."),this._read()}_afterPurchaseOrderUpdated(){this._messageBox.success("Ordine aggiornato."),this._read()}_afterRemoved(e){this._messageBox.success(`Ordine ${e.code} rimosso.`),this._read()}_buildJobIdFilter(){const e=this;return{field:"jobId",get operator(){return e._jobId?"eq":"isnotnull"},get value(){return e._jobId}}}_buildStatusFilter(){const e=this;return{get field(){return e._jobId?"id":void 0},get operator(){return e._jobId?"isnotnull":void 0},get filters(){return e._jobId?void 0:[Ka.Pending,Ka.Ordered].map(t=>({field:"status",operator:"eq",value:t}))},logic:"or"}}_subscribeRouteParams(){this._route.queryParams.pipe(F(e=>this._setParams(e))).subscribe()}_setParams(e){this._jobId=isNaN(+e.jobId)?null:+e.jobId,this._read()}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(F(t=>this.currentOperator=t)).subscribe())}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(D4),s.rXU(vn),s.rXU(Dh),s.rXU(ro),s.rXU(Bc),s.rXU(Ll))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-purchase-orders"]],viewQuery:function(t,o){if(1&t&&s.GBs(Lln,7),2&t){let r;s.mGM(r=s.lsd())&&(o.purchaseOrderModal=r.first)}},features:[s.Vt3],decls:28,vars:16,consts:[["purchaseOrderModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],["filterable","menu","scrollable","none",3,"dataStateChange","cellClick","dblclick","data","pageSize","skip","sort","filter","group","sortable","pageable","rowClass"],["field","date","title","Data","filter","date",3,"width"],["kendoGridCellTemplate",""],["field","code","title","N.","filter","numeric","format","n0",3,"width"],["field","status","title","Stato","filter","numeric",1,"purchase-order-status",3,"width"],["kendoGridFilterMenuTemplate",""],["field","jobCode","title","Commessa",3,"width"],["field","jobReference","title","Rifer."],["field","supplierName","title","Fornitore"],["field","description","title","Note"],["field","operatorName","title","Inserito da"],["field","unreadMessages","title","","filterable","false"],["field","id","title"," ",3,"sortable","filterable","width"],[3,"column","filter","filterService","data"],[1,"text-nowrap"],[4,"ngIf"],["class","job-alert",4,"ngIf"],[1,"job-alert"],["aria-hidden","true",1,"fa","fa-exclamation-triangle"],[3,"innerHTML"],["style","width: 35px; text-align: center;",4,"ngIf"],[2,"width","35px","text-align","center"],[2,"cursor","pointer",3,"click"],[1,"fa-regular","fa-message","job-alert"],[1,"d-flex","text-nowrap","gap-1"],["title","Modifica",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-edit"],["title","Rimuovi",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"]],template:function(t,o){if(1&t){const r=s.RV6();s.j41(0,"div",1)(1,"div",2)(2,"h3"),s.EFF(3,"Ordini Acquisto"),s.k0s()(),s.j41(4,"div",3)(5,"button",4),s.bIt("click",function(){return s.eBV(r),s.Njj(o.create())}),s.nrm(6,"i",5),s.EFF(7," NUOVO "),s.k0s()()(),s.j41(8,"kendo-grid",6),s.bIt("dataStateChange",function(l){return s.eBV(r),s.Njj(o.dataStateChange(l))})("cellClick",function(l){return s.eBV(r),s.Njj(o.cellClickHandler(l))})("dblclick",function(){return s.eBV(r),s.Njj(o.onDblClick())}),s.j41(9,"kendo-grid-column",7),s.DNE(10,Pln,2,4,"ng-template",8),s.k0s(),s.nrm(11,"kendo-grid-column",9),s.j41(12,"kendo-grid-column",10),s.DNE(13,Gln,1,4,"ng-template",11)(14,Uln,3,3,"ng-template",8),s.k0s(),s.j41(15,"kendo-grid-column",12),s.DNE(16,Vln,2,2,"ng-template",8),s.k0s(),s.nrm(17,"kendo-grid-column",13)(18,"kendo-grid-column",14),s.j41(19,"kendo-grid-column",15),s.DNE(20,zln,1,1,"ng-template",8),s.k0s(),s.nrm(21,"kendo-grid-column",16),s.j41(22,"kendo-grid-column",17),s.DNE(23,jln,1,1,"ng-template",8),s.k0s(),s.j41(24,"kendo-grid-column",18),s.DNE(25,$ln,5,0,"ng-template",8),s.k0s()(),s.nrm(26,"app-purchase-order-modal",null,0)}2&t&&(s.R7$(8),s.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!0)("rowClass",o.rowCallback),s.R7$(),s.Y8G("width",1),s.R7$(2),s.Y8G("width",1),s.R7$(),s.Y8G("width",1),s.R7$(3),s.Y8G("width",1),s.R7$(9),s.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[q,Wi,Oi,Us,N_,vO,nle,To,uGe],encapsulation:2})}return i})();const Wln=["jobModal"],Kln=["activityModal"],Yln=["purchaseOrderModal"],Jln=["grid"],qln=["jobsAttachmentsModal"],Qln=["customerModal"],Zln=()=>["/activities"],EFe=i=>({jobId:i}),ecn=()=>["/purchase-orders"];function tcn(i,n){1&i&&(s.EFF(0),s.nI1(1,"date")),2&i&&s.SpI(" ",s.i5U(1,1,n.$implicit.date,"dd/MM/yyyy")," ")}function ncn(i,n){1&i&&(s.EFF(0),s.nI1(1,"date")),2&i&&s.SpI(" ",s.i5U(1,1,n.$implicit.expirationDate,"dd/MM/yyyy")," ")}function icn(i,n){if(1&i){const e=s.RV6();s.j41(0,"a",22),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.openCustomer(o.customerId))}),s.EFF(1),s.k0s(),s.nrm(2,"br")}if(2&i){const e=n.$implicit;s.R7$(),s.JRh(e.customer)}}function scn(i,n){if(1&i&&(s.j41(0,"div"),s.EFF(1),s.k0s()),2&i){const e=s.XpG().$implicit;s.R7$(),s.JRh(e.code)}}function ocn(i,n){if(1&i&&(s.j41(0,"div",25),s.EFF(1),s.nrm(2,"i",26),s.k0s()),2&i){const e=s.XpG().$implicit;s.R7$(),s.SpI(" ",e.code," ")}}function rcn(i,n){if(1&i&&s.DNE(0,scn,2,1,"div",23)(1,ocn,3,1,"div",24),2&i){const e=n.$implicit;s.Y8G("ngIf",!e.hasHighPriority),s.R7$(),s.Y8G("ngIf",e.hasHighPriority)}}function acn(i,n){if(1&i&&s.nrm(0,"app-multiselect-grid-column-filter",27),2&i){const e=n.column,t=n.filter,o=n.filterService,r=s.XpG();s.Y8G("column",e)("filter",t)("filterService",o)("data",r.jobStatusNames)}}function lcn(i,n){if(1&i&&(s.j41(0,"span",28),s.EFF(1),s.nI1(2,"jobStatus"),s.k0s()),2&i){const e=n.$implicit;s.R7$(),s.SpI(" ",s.bMT(2,1,e.status)," ")}}function ccn(i,n){1&i&&s.nrm(0,"div",29),2&i&&s.Y8G("innerHTML",n.$implicit.description,s.npT)}function dcn(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",31)(1,"a",22),s.bIt("click",function(){s.eBV(e);const o=s.XpG().$implicit,r=s.XpG();return s.Njj(r.edit(o))}),s.nrm(2,"i",32),s.j41(3,"span",25),s.EFF(4),s.k0s()()()}if(2&i){const e=s.XpG().$implicit;s.R7$(4),s.SpI(" ",e.unreadMessages,"")}}function ucn(i,n){1&i&&s.DNE(0,dcn,5,1,"div",30),2&i&&s.Y8G("ngIf",n.$implicit.unreadMessages)}function hcn(i,n){if(1&i){const e=s.RV6();s.j41(0,"div",33)(1,"div",34)(2,"button",35),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.edit(o))}),s.nrm(3,"i",36),s.k0s(),s.j41(4,"button",37),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.createActivity(o))}),s.nrm(5,"i",38),s.k0s(),s.j41(6,"a",39),s.nrm(7,"i",40),s.k0s(),s.j41(8,"button",41),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.openAttachments(o))}),s.nrm(9,"i",42),s.k0s()(),s.j41(10,"div",34)(11,"button",43),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.createPurchaseOrder(o))}),s.nrm(12,"i",44),s.k0s(),s.j41(13,"button",45),s.nrm(14,"i",46),s.k0s(),s.j41(15,"button",47),s.bIt("click",function(){const o=s.eBV(e).$implicit,r=s.XpG();return s.Njj(r.copyJob(o))}),s.nrm(16,"i",48),s.k0s(),s.j41(17,"button",49),s.nrm(18,"i",50),s.k0s()()()}if(2&i){const e=n.$implicit;s.R7$(6),s.Y8G("routerLink",s.lJ4(7,Zln))("disabled",!e.hasActivities)("queryParams",s.eq3(8,EFe,e.id)),s.R7$(2),s.Y8G("disabled",!e.hasAttachments),s.R7$(5),s.Y8G("disabled",!e.hasPurchaseOrders)("routerLink",s.lJ4(10,ecn))("queryParams",s.eq3(11,EFe,e.id))}}let pcn=(()=>{class i extends Tn{constructor(e,t,o,r,a,l,c,u,f){super(),this._service=e,this._serviceActivity=t,this._purchaseOrdersService=o,this._customerService=r,this._user=a,this._operatorsService=l,this._messageBox=c,this.router=u,this._storageService=f,this.gridState={skip:0,take:30,filter:{filters:[{filters:[bo.Billing,bo.Completed,bo.Billed].map(_=>({field:"status",operator:"eq",value:_})),logic:"or"}],logic:"and"},group:[],sort:[{field:"expirationDate",dir:"desc"},{field:"date",dir:"desc"}]},this.jobStatusNames=ire,this.rowCallback=_=>{const S=_.dataItem;switch(!0){case S.status===bo.Completed:return{"job-completed":!0};case S.status===bo.InProgress:return{"job-inprogress":!0};case S.status===bo.Pending:return{"job-pending":!0};case S.status===bo.Billing:return{"job-billing":!0};case S.status===bo.Billed:return{"job-billed":!0};default:return{}}}}ngOnInit(){this._resumeState(),this._read(),this.user=this._user.getUser(),this._getCurrentOperator(this.user.id)}dataStateChange(e){this.gridState=e,this._saveState(),this._read()}_resumeState(){const e=this._storageService.get(window.location.hash,!0);null!=e&&(this.gridState=e)}_saveState(){this._storageService.save(this.gridState,window.location.hash,!0)}create(){const e=Ff(),t=new lv(0,null,e.getFullYear(),e,null,null,null,!1,bo.Pending,null,null,null,[],[]);this._subscriptions.push(this.jobModal.open(t).pipe(X(o=>o),le(()=>this._service.create(t)),F(o=>this._afterSaved(o))).subscribe())}edit(e){this._subscriptions.push(this._service.get(e.id).pipe(le(t=>this.jobModal.open(t)),F(t=>!t&&this._read()),X(t=>t),le(()=>this._service.update(this.jobModal.options)),F(t=>this._afterSaved(t))).subscribe())}onDblClick(){this.cellArgs.isEdited||this._subscriptions.push(this._service.get(this.cellArgs.dataItem.id).pipe(le(e=>this.jobModal.open(e)),F(e=>!e&&this._read()),X(e=>e),le(()=>this._service.update(this.jobModal.options)),F(e=>this._afterSaved(e))).subscribe())}cellClickHandler(e){this.cellArgs=e}createActivity(e){const t=new Bf(0,_a.Pending,null,null,null,null,e.id,null,null,null,null,null,null,"In attesa","In corso","Completata",[],[]),o=new Pb(t);this._subscriptions.push(this.activityModal.open(o).pipe(X(r=>r),le(()=>this._serviceActivity.create(t)),F(()=>this._afterActivityCreated(e.id))).subscribe())}openCustomer(e){this._subscriptions.push(this._customerService.getCustomer(e).pipe((0,V.T)(t=>Object.assign(new xr,t)),le(t=>this.customerModal.open(t)),X(t=>t),(0,V.T)(()=>this.customerModal.options),le(t=>this._customerService.updateCustomer(t,e)),(0,V.T)(()=>this.customerModal.options),F(t=>this._messageBox.success(`Cliente ${t.name} aggiornato`)),F(()=>this._read())).subscribe())}askRemove(e){this._subscriptions.push(this._messageBox.confirm(`Sei sicuro di voler rimuovere la commessa ${e.code}?`,"Attenzione").pipe(X(o=>o),le(()=>this._service.delete(e.id)),F(()=>this._afterRemoved(e))).subscribe())}createPurchaseOrder(e){const t=Ff(),o=new Dv(0,null,t.getFullYear(),t,null,null,Ka.Pending,e.id,null,null,this.currentOperator.id,[],[],[]),r=new y4(o);this._subscriptions.push(this.purchaseOrderModal.open(r).pipe(X(a=>a),le(()=>this._purchaseOrdersService.create(o)),F(()=>this._afterPurchaseOrderCreated(e.id))).subscribe())}openAttachments(e){this._subscriptions.push(this.jobsAttachmentsModal.open(e.id).pipe(X(t=>t)).subscribe())}_afterActivityCreated(e){this._messageBox.success("Attivit\xe0 creata."),this.router.navigate(["/activities"],{queryParams:{jobId:e}})}_afterPurchaseOrderCreated(e){this._messageBox.success("Ordine d'acquisto creato"),this.router.navigate(["/purchase-orders"],{queryParams:{jobId:e}})}_read(){this._subscriptions.push(this._service.read(this.gridState).pipe(F(e=>this.data=e)).subscribe())}_afterSaved(e){this._messageBox.success(`Commessa ${e.code} salvata.`),this._read()}_afterRemoved(e){this._messageBox.success(`Commessa ${e.code} rimossa.`),this._read()}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(F(t=>this.currentOperator=t)).subscribe())}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(qf),s.rXU(Xh),s.rXU(D4),s.rXU(zu),s.rXU(ro),s.rXU(Bc),s.rXU(vn),s.rXU(Ns),s.rXU(Ll))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["app-jobs-completed"]],viewQuery:function(t,o){if(1&t&&(s.GBs(Wln,7),s.GBs(Kln,7),s.GBs(Yln,7),s.GBs(Jln,7),s.GBs(qln,7),s.GBs(Qln,7)),2&t){let r;s.mGM(r=s.lsd())&&(o.jobModal=r.first),s.mGM(r=s.lsd())&&(o.activityModal=r.first),s.mGM(r=s.lsd())&&(o.purchaseOrderModal=r.first),s.mGM(r=s.lsd())&&(o.grid=r.first),s.mGM(r=s.lsd())&&(o.jobsAttachmentsModal=r.first),s.mGM(r=s.lsd())&&(o.customerModal=r.first)}},features:[s.Vt3],decls:39,vars:16,consts:[["jobModal",""],["activityModal",""],["purchaseOrderModal",""],["jobsAttachmentsModal",""],["customerModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],["filterable","menu","scrollable","none",3,"dataStateChange","cellClick","dblclick","data","pageSize","skip","sort","filter","group","sortable","pageable","rowClass"],["field","date","title","Data","filter","date",3,"width"],["kendoGridCellTemplate",""],["field","expirationDate","title","Data Scad.","filter","expirationDate",3,"width"],["field","customer","title","Cliente"],["field","code","title","Cod.",3,"width"],["field","status","title","Stato","filter","numeric",1,"job-status",3,"width"],["kendoGridFilterMenuTemplate",""],["field","reference","title","Riferimento"],["field","description","title","Note"],["field","unreadMessages","title","","filterable","false"],["field","id","title"," ",3,"sortable","filterable","width"],[2,"cursor","pointer",3,"click"],[4,"ngIf"],["class","job-alert",4,"ngIf"],[1,"job-alert"],["aria-hidden","true",1,"fa","fa-exclamation-triangle"],[3,"column","filter","filterService","data"],[1,"text-nowrap"],[3,"innerHTML"],["style","width: 35px; text-align: center;",4,"ngIf"],[2,"width","35px","text-align","center"],[1,"fa-regular","fa-message","job-alert"],[1,"d-flex","flex-column","gap-2"],[1,"d-flex","text-nowrap","justify-content-center","gap-1"],["title","Modifica",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-edit"],["title","Aggiungi nuova attivit\xe0",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-plus"],["title","Gestisci attivit\xe0",1,"btn","btn-primary","btn-sm",3,"routerLink","disabled","queryParams"],[1,"fas","fa-gear"],["title","Visualizza allegati",1,"btn","btn-outline-primary","btn-sm",3,"click","disabled"],[1,"fa","fa-paperclip"],["title","Aggiungi nuovo ordine d'acquisto",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"fa","fa-cart-shopping"],["title","Visualizza ordini d'acquisto",1,"btn","btn-outline-primary","btn-sm",3,"disabled","routerLink","queryParams"],[1,"fa","fa-bag-shopping"],["title","Copia Commessa",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-copy"],["title","Visualizza tickets","disabled","",1,"btn","btn-outline-primary","btn-sm"],[1,"fa","fa-tag"]],template:function(t,o){if(1&t){const r=s.RV6();s.j41(0,"div",5)(1,"div",6)(2,"h3"),s.EFF(3,"Commesse Completate"),s.k0s()(),s.j41(4,"div",7)(5,"button",8),s.bIt("click",function(){return s.eBV(r),s.Njj(o.create())}),s.nrm(6,"i",9),s.EFF(7," NUOVA "),s.k0s()()(),s.j41(8,"kendo-grid",10),s.bIt("dataStateChange",function(l){return s.eBV(r),s.Njj(o.dataStateChange(l))})("cellClick",function(l){return s.eBV(r),s.Njj(o.cellClickHandler(l))})("dblclick",function(){return s.eBV(r),s.Njj(o.onDblClick())}),s.j41(9,"kendo-grid-column",11),s.DNE(10,tcn,2,4,"ng-template",12),s.k0s(),s.j41(11,"kendo-grid-column",13),s.DNE(12,ncn,2,4,"ng-template",12),s.k0s(),s.j41(13,"kendo-grid-column",14),s.DNE(14,icn,3,1,"ng-template",12),s.k0s(),s.j41(15,"kendo-grid-column",15),s.DNE(16,rcn,2,2,"ng-template",12),s.k0s(),s.j41(17,"kendo-grid-column",16),s.DNE(18,acn,1,4,"ng-template",17)(19,lcn,3,3,"ng-template",12),s.k0s(),s.nrm(20,"kendo-grid-column",18),s.j41(21,"kendo-grid-column",19),s.DNE(22,ccn,1,1,"ng-template",12),s.k0s(),s.j41(23,"kendo-grid-column",20),s.DNE(24,ucn,1,1,"ng-template",12),s.k0s(),s.j41(25,"kendo-grid-column",21),s.DNE(26,hcn,19,13,"ng-template",12),s.k0s()(),s.nrm(27,"app-job-modal",null,0)(29,"app-activity-modal",null,1)(31,"app-purchase-order-modal",null,2)(33,"app-jobs-attachments-modal",null,3)(35,"app-activity-modal",null,1)(37,"app-customer-modal",null,4)}2&t&&(s.R7$(8),s.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!0)("rowClass",o.rowCallback),s.R7$(),s.Y8G("width",1),s.R7$(2),s.Y8G("width",1),s.R7$(4),s.Y8G("width",1),s.R7$(2),s.Y8G("width",1),s.R7$(8),s.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[q,mu,Wi,Oi,Us,N_,B_,rle,vO,C4,fGe,nle,To,ile],encapsulation:2})}return i})();const fcn=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:pTt,canActivate:[js.asInjectableGuard]},{path:"login",component:eTt},{path:"logout",component:ZOt},{path:"users",component:QOt,canActivate:[js.asInjectableGuard]},{path:"vehicles",component:nMt,canActivate:[js.asInjectableGuard]},{path:"customers",component:KTt,canActivate:[js.asInjectableGuard]},{path:"suppliers",component:Nln,canActivate:[js.asInjectableGuard]},{path:"operators",component:O3t,canActivate:[js.asInjectableGuard]},{path:"checklist",component:$3t,canActivate:[js.asInjectableGuard]},{path:"products",component:W5t,canActivate:[js.asInjectableGuard]},{path:"activitytypes",component:oUt,canActivate:[js.asInjectableGuard]},{path:"producttypes",component:mUt,canActivate:[js.asInjectableGuard]},{path:"jobs",component:DKt,canActivate:[js.asInjectableGuard]},{path:"jobs-completed",component:pcn,canActivate:[js.asInjectableGuard]},{path:"tickets",component:sln,canActivate:[js.asInjectableGuard]},{path:"activities",component:wln,canActivate:[js.asInjectableGuard]},{path:"activities/:activityId",component:van,canActivate:[js.asInjectableGuard],resolve:{activity:Xh.asActivityDetailResolver}},{path:"interventions-list",component:wan,canActivate:[js.asInjectableGuard]},{path:"interventions",component:Ean,canActivate:[js.asInjectableGuard]},{path:"purchase-orders",component:Xln,canActivate:[js.asInjectableGuard]}];let mcn=(()=>{class i{static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275mod=s.$C({type:i});static#n=this.\u0275inj=s.G2t({imports:[$M.forRoot(fcn,{useHash:!0,onSameUrlNavigation:"reload"}),$M]})}return i})(),Kz=(()=>{class i{constructor(){this._pendingRequests=0,this._onNewRequest=new Ke.B,this._onRequestsCompleted=new Ke.B,this.onNewRequest=this._onNewRequest.asObservable(),this.onRequestsCompleted=this._onRequestsCompleted.asObservable()}newRequest(){this._pendingRequests++,this._onNewRequest.next()}requestCompleted(){this._pendingRequests>0?this._pendingRequests--:this._pendingRequests=0,this._pendingRequests||this._onRequestsCompleted.next()}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})(),_cn=(()=>{class i extends Tn{constructor(e){super(),this._loader=e,this.hidden=!0}ngOnInit(){this._subscribeLoaderEvents()}_subscribeLoaderEvents(){this._subscriptions.push(this._loader.onNewRequest.pipe(F(()=>this.hidden=!1)).subscribe(),this._loader.onRequestsCompleted.pipe(F(()=>this.hidden=!0)).subscribe())}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(Kz))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["lacos-loader"],["","lacosLoader",""]],hostVars:2,hostBindings:function(t,o){2&t&&s.AVh("hidden",o.hidden)},features:[s.Vt3],decls:4,vars:0,consts:[[1,"loader"],["role","status",1,"spinner-grow","text-light"],[1,"sr-only"]],template:function(t,o){1&t&&(s.j41(0,"div",0)(1,"div",1)(2,"span",2),s.EFF(3,"Loading..."),s.k0s()()())},encapsulation:2})}return i})();const gcn=()=>["/activities"],Scn=i=>({referentId:i});function vcn(i,n){if(1&i&&(s.j41(0,"div",13),s.EFF(1),s.k0s()),2&i){const e=s.XpG(3);s.R7$(),s.JRh(e.ticketsCounters.newTickets)}}function Ccn(i,n){if(1&i&&(s.j41(0,"a",17),s.EFF(1),s.k0s()),2&i){const e=s.XpG().$implicit;s.AVh("active",e.active),s.Y8G("routerLink",e.urlCommands),s.R7$(),s.SpI(" ",e.name," ")}}function bcn(i,n){1&i&&s.nrm(0,"div",18)}function Ecn(i,n){if(1&i&&(s.qex(0),s.DNE(1,Ccn,2,4,"a",15)(2,bcn,1,0,"div",16),s.bVm()),2&i){const e=n.$implicit;s.R7$(),s.Y8G("ngIf",e.enabled),s.R7$(),s.Y8G("ngIf",e.divider)}}function ycn(i,n){if(1&i&&(s.j41(0,"div",14),s.DNE(1,Ecn,3,2,"ng-container",7),s.k0s()),2&i){const e=s.XpG(2).$implicit;s.AVh("show",e.isOpen),s.R7$(),s.Y8G("ngForOf",e.entries)}}function Dcn(i,n){if(1&i){const e=s.RV6();s.j41(0,"li",4)(1,"a",10),s.bIt("click",function(){s.eBV(e);const o=s.XpG().$implicit,r=s.XpG();return s.Njj(o.isDropDown&&r.toggle(o))}),s.EFF(2),s.DNE(3,vcn,2,1,"div",11),s.k0s(),s.DNE(4,ycn,2,3,"div",12),s.k0s()}if(2&i){const e=s.XpG().$implicit,t=s.XpG();s.AVh("dropdown",e.isDropDown)("active",e.active)("show",e.isOpen),s.R7$(),s.AVh("dropdown-toggle",e.isDropDown),s.Y8G("routerLink",e.urlCommands),s.R7$(),s.SpI(" ",e.name," "),s.R7$(),s.Y8G("ngIf","Tickets"==e.name&&t.ticketsCounters.newTickets>0),s.R7$(),s.Y8G("ngIf",e.isDropDown)}}function wcn(i,n){if(1&i&&(s.qex(0),s.DNE(1,Dcn,5,12,"li",9),s.bVm()),2&i){const e=n.$implicit;s.R7$(),s.Y8G("ngIf",e.enabled)}}function kcn(i,n){if(1&i&&(s.j41(0,"a",21),s.EFF(1),s.k0s()),2&i){const e=s.XpG(2);s.Y8G("routerLink",s.lJ4(3,gcn))("queryParams",s.eq3(4,Scn,e.currentOperator.id)),s.R7$(),s.JRh(e.newActivitiesCounter.newActivities)}}function Ocn(i,n){if(1&i&&(s.j41(0,"span",19),s.EFF(1," Benvenuto, "),s.j41(2,"b"),s.EFF(3),s.k0s(),s.EFF(4,"! "),s.DNE(5,kcn,2,6,"a",20),s.k0s()),2&i){const e=s.XpG();s.R7$(3),s.JRh(e.user.userName),s.R7$(2),s.Y8G("ngIf",e.newActivitiesCounter.newActivities>0)}}let Tcn=(()=>{class i extends Tn{constructor(e,t,o,r,a,l){super(),this._router=e,this._security=t,this._user=o,this._activityService=r,this._ticketService=a,this._operatorsService=l,this.dropDownMenuEntry=Yz,this.menu=new Mcn([new Yz("Anagrafiche",[new $r(["/customers"],"Clienti",c=>c.startsWith("/customers"),c=>c.isAuthorized(ci.Administrator)),new $r(["/suppliers"],"Fornitori",c=>c.startsWith("/suppliers"),c=>c.isAuthorized(ci.Administrator)),new $r(["/checklist"],"Checklist",c=>c.startsWith("/checklist"),c=>c.isAuthorized(ci.Administrator)),new $r(["/products"],"Prodotti",c=>c.startsWith("/products"),c=>c.isAuthorized(ci.Administrator)),new $r(["/vehicles"],"Mezzi di trasporto",c=>c.startsWith("/vehicles"),c=>c.isAuthorized(ci.Administrator)),new $r(["/activitytypes"],"Tipologie Attivit\xe0",c=>c.startsWith("/activitytypes"),c=>c.isAuthorized(ci.Administrator)),new $r(["/producttypes"],"Tipi Prodotto",c=>c.startsWith("/producttypes"),c=>c.isAuthorized(ci.Administrator))]),new $r(["/tickets"],"Tickets",c=>c.startsWith("/tickets"),c=>c.isAuthenticated()),new Yz("Pianificazione",[new $r(["/jobs"],"Commesse",c=>c.startsWith("/jobs"),c=>c.isAuthorized(ci.Administrator)),new $r(["/activities"],"Attivit\xe0",c=>c.startsWith("/activities"),c=>c.isAuthenticated()),new $r(["/interventions"],"Calendario",c=>"/interventions"===c,c=>c.isAuthorized(ci.Administrator)),new $r(["/interventions-list"],"Elenco Interventi",c=>c.startsWith("/interventions-list"),c=>c.isAuthorized(ci.Administrator))]),new $r(["/jobs-completed"],"Commesse Completate",c=>c.startsWith("/jobs-completed"),c=>c.isAuthorized(ci.Administrator)),new $r(["/purchase-orders"],"Ordini Acquisto",c=>c.startsWith("/purchase-orders"),c=>c.isAuthenticated()),new Yz("Gestione",[new $r(["/operators"],"Operatori",c=>c.startsWith("/operators"),c=>c.isAuthorized(ci.Administrator)),new $r(["/users"],"Utenti",c=>c.startsWith("/users"),c=>c.isAuthorized(ci.Administrator))]),new $r(["/logout"],"Logout",()=>!1,c=>c.isAuthenticated()),new $r(["/login"],"Login",c=>c.startsWith("/login"),c=>!c.isAuthenticated())]),this.newActivitiesCounter=new FA(0)}ngOnInit(){this.ticketsCounters=new BA(0,0),this.user=this._user.getUser(),this._subscribeRouterEvents(),this._subscribeSecurityEvents(),this.intervalId=window.setInterval(()=>{this._getTicketsCounters(),this._getNewActivitiesCounter()},3e5),this._getCurrentOperator(this.user.id)}ngOnDestroy(){this.intervalId&&clearInterval(this.intervalId)}toggle(e){e.isOpen?e.close():(e.open(),setTimeout(()=>this._subscriptions.push(Dt(document,"click").pipe(We(1),F(()=>e.close())).subscribe())))}_subscribeRouterEvents(){this._subscriptions.push(this._router.events.pipe(X(e=>e instanceof md),F(e=>this.menu.refresh(e.url,this._security))).subscribe())}_subscribeSecurityEvents(){this._subscriptions.push(this._user.userChanged.pipe(F(e=>this.user=e),F(()=>this.menu.refresh(this._router.url,this._security))).subscribe())}_getTicketsCounters(){this._subscriptions.push(this._ticketService.readTicketsCounters().pipe(F(e=>{this.ticketsCounters=e})).subscribe())}_getNewActivitiesCounter(){this._subscriptions.push(this._activityService.readNewActivitiesCounter().pipe(F(e=>{this.newActivitiesCounter=e})).subscribe())}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(F(t=>this.currentOperator=t)).subscribe())}static#e=this.\u0275fac=function(t){return new(t||i)(s.rXU(Ns),s.rXU(el),s.rXU(ro),s.rXU(Xh),s.rXU(VA),s.rXU(Bc))};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["lacos-menu"]],features:[s.Vt3],decls:10,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light","mb-4","navbar-border"],[1,"container"],[1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto"],[1,"nav-item"],["routerLink","home",1,"nav-link"],["src","assets/icons/favicon-32x32.png","width","24px"],[4,"ngFor","ngForOf"],["class","navbar-text",4,"ngIf"],["class","nav-item",3,"dropdown","active","show",4,"ngIf"],[1,"nav-link",3,"click","routerLink"],["class","red-number bage-number",4,"ngIf"],["class","dropdown-menu",3,"show",4,"ngIf"],[1,"red-number","bage-number"],[1,"dropdown-menu"],["class","dropdown-item",3,"routerLink","active",4,"ngIf"],["class","dropdown-divider",4,"ngIf"],[1,"dropdown-item",3,"routerLink"],[1,"dropdown-divider"],[1,"navbar-text"],["routerLinkActive","active","class","red-number bage-number",3,"routerLink","queryParams",4,"ngIf"],["routerLinkActive","active",1,"red-number","bage-number",3,"routerLink","queryParams"]],template:function(t,o){1&t&&(s.j41(0,"nav",0)(1,"div",1)(2,"div",2)(3,"ul",3)(4,"li",4)(5,"a",5),s.nrm(6,"img",6),s.EFF(7," Home "),s.k0s()(),s.DNE(8,wcn,2,1,"ng-container",7),s.k0s(),s.DNE(9,Ocn,6,2,"span",8),s.k0s()()()),2&t&&(s.R7$(8),s.Y8G("ngForOf",o.menu.entries),s.R7$(),s.Y8G("ngIf",o.user))},dependencies:[ut,q,mu,By],styles:[".bage-number[_ngcontent-%COMP%]{float:right;padding:2px 8px;border-radius:5px;margin-left:5px;color:#fff;font-weight:700;font-size:.8em}.red-number[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:1px solid #FFF;text-decoration:none}"]})}return i})();class Mcn{constructor(n){this.entries=n}refresh(n,e){this.entries.forEach(t=>t.refresh(n,e))}}class $r{constructor(n,e,t,o,r){this.urlCommands=n,this.name=e,this._isActive=t,this._isEnabled=o,this.divider=r}refresh(n,e){this.enabled=this._isEnabled(e),this.active=this._isActive(n)}}class Yz extends $r{constructor(n,e){super([],n,()=>e.some(t=>t.active),()=>e.some(t=>t.enabled)),this.entries=e,this.isDropDown=!0,this.isOpen=!1}refresh(n,e){this.entries.forEach(t=>t.refresh(n,e)),super.refresh(n,e)}open(){this.isOpen=!0}close(){this.isOpen=!1}}let Icn=(()=>{class i{static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275cmp=s.VBU({type:i,selectors:[["lacos-app"],["","lacosApp",""]],decls:5,vars:0,consts:[[1,"container"],["kendoDialogContainer",""]],template:function(t,o){1&t&&(s.nrm(0,"lacos-menu"),s.j41(1,"div",0),s.nrm(2,"router-outlet"),s.k0s(),s.nrm(3,"div",1)(4,"lacos-loader"))},dependencies:[ky,GHe,_cn,Tcn],encapsulation:2})}return i})();const ba=void 0,Acn=["it",[["m.","p."],["AM","PM"],ba],ba,[["D","L","M","M","G","V","S"],["dom","lun","mar","mer","gio","ven","sab"],["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"],["dom","lun","mar","mer","gio","ven","sab"]],ba,[["G","F","M","A","M","G","L","A","S","O","N","D"],["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]],ba,[["aC","dC"],["a.C.","d.C."],["avanti Cristo","dopo Cristo"]],1,[6,0],["dd/MM/yy","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",ba,"{1} {0}",ba],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{BRL:[ba,"R$"],BYN:[ba,"Br"],EGP:[ba,"\xa3E"],HKD:[ba,"$"],INR:[ba,"\u20b9"],JPY:[ba,"\xa5"],KRW:[ba,"\u20a9"],MXN:[ba,"$"],NOK:[ba,"NKr"],THB:["\u0e3f"],TWD:[ba,"NT$"],USD:[ba,"$"],VND:[ba,"\u20ab"]},"ltr",function Rcn(i){const e=Math.floor(Math.abs(i)),t=i.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(i.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===e&&0===t?1:0===o&&0!==e&&e%1e6==0&&0===t||!(o>=0&&o<=5)?4:5}];_e(815),function(i){i.ng??={},i.ng.common??={},i.ng.common.locales??={};const n=void 0;i.ng.common.locales.it=["it",[["m.","p."],["AM","PM"],n],n,[["D","L","M","M","G","V","S"],["dom","lun","mar","mer","gio","ven","sab"],["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"],["dom","lun","mar","mer","gio","ven","sab"]],n,[["G","F","M","A","M","G","L","A","S","O","N","D"],["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]],n,[["aC","dC"],["a.C.","d.C."],["avanti Cristo","dopo Cristo"]],1,[6,0],["dd/MM/yy","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",n,"{1} {0}",n],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{BRL:[n,"R$"],BYN:[n,"Br"],EGP:[n,"\xa3E"],HKD:[n,"$"],INR:[n,"\u20b9"],JPY:[n,"\xa5"],KRW:[n,"\u20a9"],MXN:[n,"$"],NOK:[n,"NKr"],THB:["\u0e3f"],TWD:[n,"NT$"],USD:[n,"$"],VND:[n,"\u20ab"]},"ltr",function e(t){const r=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length,l=parseInt(t.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===r&&0===a?1:0===l&&0!==r&&r%1e6==0&&0===a||!(l>=0&&l<=5)?4:5},[[["mezzanotte","mezzogiorno","di mattina","di pomeriggio","di sera","di notte"],n,["mezzanotte","mezzogiorno","di mattina","del pomeriggio","di sera","di notte"]],[["mezzanotte","mezzogiorno","mattina","pomeriggio","sera","notte"],n,n],["00:00","12:00",["06:00","12:00"],["12:00","18:00"],["18:00","24:00"],["00:00","06:00"]]]]}(globalThis);let Ncn=(()=>{class i{constructor(e){this._userService=e}intercept(e,t){const o=this._userService.getUser();let r=e.headers;o&&o.accessToken&&(r=r.set("Authorization","Bearer "+o.accessToken)),e.body instanceof FormData||(r=r.set("Content-Type","application/json"));const a=e.clone({headers:r});return t.handle(a)}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(ro))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})(),Lcn=(()=>{class i{constructor(e,t,o){this._router=e,this._userService=t,this._messageBox=o}intercept(e,t){return t.handle(e).pipe(pd(o=>this._catchError(o)),Ch(()=>{}))}_catchError(e){return e instanceof Qp&&this._manageHttpError(e)?ft():Al(()=>e)}_manageHttpError(e){switch(e.status){case 401:return this._userService.hasUser&&this._userService.removeUser(),this._router.navigateByUrl("/login"),!0;case 500:case 400:return this._messageBox.error(e.error),!0}return!1}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Ns),s.KVO(ro),s.KVO(vn))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})(),Pcn=(()=>{class i{constructor(e){this._loaderService=e}intercept(e,t){const o=e.headers.has("avoid-loader");return o?e.headers.delete("avoid-loader"):this._loaderService.newRequest(),t.handle(e).pipe(Ch(()=>!o&&this._loaderService.requestCompleted()))}static#e=this.\u0275fac=function(t){return new(t||i)(s.KVO(Kz))};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})(),Gcn=(()=>{class i{intercept(e,t){if("saveUrl"===e.url){const o=[0,30,60,100].map(a=>ft({type:wr.UploadProgress,loaded:a,total:100}).pipe(c_(1e3))),r=ft(new Sd({status:200})).pipe(c_(1e3));return o.push(r),I2(...o)}return"removeUrl"===e.url?ft(new Sd({status:200})):t.handle(e)}static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}return i})();!function Vv(i,n,e){(0,s.XSP)(i,n,e)}(Acn,"it",[[["mezzanotte","mezzogiorno","di mattina","di pomeriggio","di sera","di notte"],void 0,["mezzanotte","mezzogiorno","di mattina","del pomeriggio","di sera","di notte"]],[["mezzanotte","mezzogiorno","mattina","pomeriggio","sera","notte"],void 0,void 0],["00:00","12:00",["06:00","12:00"],["12:00","18:00"],["18:00","24:00"],["00:00","06:00"]]]);let Ucn=(()=>{class i{static#e=this.\u0275fac=function(t){return new(t||i)};static#t=this.\u0275mod=s.$C({type:i,bootstrap:[Icn]});static#n=this.\u0275inj=s.G2t({providers:[{provide:s.xe9,useValue:"it"},Ll,ro,CB,el,{provide:s.hnV,useFactory:H1,multi:!0,deps:[el,ro]},{provide:Zy,useClass:Ncn,multi:!0,deps:[ro]},vn,{provide:Zy,useClass:Lcn,multi:!0,deps:[Ns,ro,vn]},Kz,{provide:Zy,useClass:Pcn,multi:!0,deps:[Kz]},{provide:Zy,useClass:Gcn,multi:!0},Clipboard,js,zu,$0,Vf,Bc,uie,$A,rk,TB,qf,Xh,sz,Mg,VA,$0,D4,Vx],imports:[n2,xN,EX,Z1,xt.W5,mcn,ZHe,kwt,B_e,Q5,FD,w0e,RGe,f_e,vSe,t1t,Bwt,jI,Lwt,n3t,vrn,Mpt,w5t,iXt,qMe]})}return i})();class Fcn extends Array{constructor(n){super(),this.key=n}}(function Bcn(){Array.prototype.remove=function(t){const o=this.indexOf(t);return o<0?null:this.splice(o,1)[0]},Array.prototype.removeLast=function(){return this.isEmpty()?null:this.splice(this.length-1,1)[0]},Array.prototype.findAndRemove=function(t){const o=this.findIndex(t);return o<0?null:this.splice(o,1)[0]},Array.prototype.filterAndRemove=function(t){return this.filter(o=>t(o)).map(o=>this.remove(o))},Array.prototype.toggle=function(t){const o=this.indexOf(t);o<0?this.push(t):this.splice(o,1)},Array.prototype.distinct=function(t){const o=[];return this.forEach(t?r=>o.some(a=>t(r,a))||o.push(r):r=>o.indexOf(r)<0&&o.push(r)),o},Array.prototype.first=function(){return this[0]},Array.prototype.last=function(){return this[this.length-1]},Array.prototype.replace=function(t,o){const r=this.indexOf(t);r<0||this.splice(r,1,o)},Array.prototype.clear=function(){this.splice(0,this.length)},Array.prototype.all=function(t){for(let o=0;o<this.length;o++)if(!t(this[o],o))return!1;return!0},Array.prototype.sum=function(t){let o=0;return this.forEach((r,a)=>o+=t(r,a)),o},Array.prototype.average=function(t){return this.length?this.sum(t)/this.length:0},Array.prototype.max=function(t,o=null){let r;return this.forEach(a=>r=i(a,t,r)),null==r&&null!=o?o:r};const i=(t,o,r)=>{const a=o(t);return null==r||a>r?a:r};Array.prototype.min=function(t,o=null){let r;return this.forEach(a=>r=n(a,t,r)),null==r&&null!=o?o:r};const n=(t,o,r)=>{const a=o(t);return null==r||a<r?a:r};Array.prototype.skip=function(t){const o=t-1;return this.filter((r,a)=>a>o)},Array.prototype.take=function(t){return this.filter((o,r)=>r<t)},Array.prototype.contains=function(...t){return t.all(o=>this.indexOf(o)>=0)},Array.prototype.containsAny=function(...t){return t.some(o=>this.indexOf(o)>=0)},Array.prototype.any=function(){return this.length>0},Array.prototype.groupBy=function(t,o,r){const a=[];for(const l of this){const c=t(l);let u=a.find(r?_=>r(_.key,c):_=>_.key===c);null==u&&(u=new Fcn(c),a.push(u));const f=o?o(l):l;u.push(f)}return a},Array.prototype.orderBy=function(...t){return this.sort((o,r)=>e(o,r,t))},Array.prototype.orderByDescending=function(...t){return this.sort((o,r)=>-1*e(o,r,t))};const e=(t,o,r,a=0)=>{const l=r[a];if(!l)return 0;const c=l(t),u=l(o),f=c<u?-1:c>u?1:0;return 0==f?e(t,o,r,a+1):f};Array.prototype.orderByReference=function(t,o){return this.orderBy(r=>t.findIndex(a=>o(r,a)))},Array.prototype.findLast=function(t){return this.clone().reverse().find(t)},Array.prototype.findLastIndex=function(t){const o=this.findLast(t);return this.lastIndexOf(o)},Array.prototype.as=function(){return this},Array.prototype.clone=function(){return this.concat([])},Array.prototype.isEmpty=function(){return 0===this.length},Array.prototype.pushIfNotContained=function(...t){for(const o of t)this.contains(o)||this.push(o)},Array.prototype.reload=function(t){this.splice(0,this.length,...t)},Array.prototype.except=function(...t){return this.filter(o=>!t.contains(o))},Array.prototype.isFirst=function(t){return 0===this.indexOf(t)},Array.prototype.getPrevious=function(t){return this[this.indexOf(t)-1]},Array.prototype.getNext=function(t){return this[this.indexOf(t)+1]},Array.prototype.multiply=function(t){const o=[];for(let r=0;r<t;r++)o.push(...this);return o},Array.prototype.fillProgressively=function(t,o,r){return NC(r).pipe(x2e(()=>this.length!==t.length),F(a=>this.push(...t.skip(a*o).take(o)))).subscribe()},Array.prototype.excludingLast=function(){return this.splice(this.length-1,1),this},Array.prototype.count=function(t){return this.filter(o=>t(o)).length},Array.prototype.atLeast=function(t,o){if(o>this.length)return!1;let r=0;for(const a of this)if(t(a)&&(r++,r===o))return!0;return!1},Array.prototype.atMost=function(t,o){let r=0;for(const a of this)if(t(a)&&(r++,r>o))return!1;return!0},Array.prototype.isEquivalentTo=function(t){return null!=t&&t.length===this.length&&this.contains(...t)},Array.prototype.equals=function(t){if(null==t)return!1;if(t===this)return!0;if(t.length!==this.length)return!1;for(let o=0;o<this.length;o++){const r=this[o],a=t[o];if(null!=r||null!=a){if(null!=r&&null==a||null==r&&null!=a)return!1;if("function"==typeof r.equals&&"function"==typeof a.equals){if(r.equals(a))continue;return!1}if("function"==typeof r.valueOf&&"function"==typeof a.valueOf){if(r.valueOf()===a.valueOf())continue;return!1}if(r!==a)return!1}}return!0},Array.prototype.batched=function(t){let o;const r=[];for(let a=0;a<this.length;a++){const c=this[a];a%t||(o=[],r.push(o)),o.push(c)}return r},Array.prototype.insertAt=function(t,o){this.splice(o,0,t)},Array.prototype.insertBefore=function(t,o){const r=this.indexOf(o);this.splice(r,0,t)},Array.prototype.insertAfter=function(t,o){const r=this.indexOf(o)+1;this.splice(r,0,t)},Array.prototype.changePosition=function(t,o){const r=this[t];return o===t||(t<o?(this.splice(t,1),this.splice(o,0,r)):(this.splice(o,0,r),this.splice(t+1,1))),r},Array.prototype.innerJoin=function(t,o,r){const a=new Array;for(const l of this)for(const c of t)if(o(l,c)){const u=r(l,c);a.push(u)}return a},Array.prototype.leftJoin=function(t,o,r){const a=new Array;for(const l of this){let c=!1;for(const u of t){if(!o(l,u))continue;c=!0;const f=r(l,u);a.push(f)}if(!c){const u=r(l,null);a.push(u)}}return a},Array.prototype.takeFrom=function(t){const o=this.indexOf(t);return o<0?[]:this.filter((r,a)=>a>=o)}})(),function Vcn(){Date.prototype.toDateWithoutTime=function(){return new Date(this.getFullYear(),this.getMonth(),this.getDate())},Date.prototype.toOffsetString=function(){return In.fromJSDate(this).toISO()},Date.prototype.addYears=function(i){return this.add({years:i})},Date.prototype.addMonths=function(i){return this.add({months:i})},Date.prototype.addDays=function(i){return this.add({days:i})},Date.prototype.addMinutes=function(i){return this.add({minutes:i})},Date.prototype.addHours=function(i){return this.add({hours:i})},Date.prototype.getDifferenceInMinutes=function(i){return(this.getTime()-i.getTime())/1e3/60},Date.prototype.add=function(i){return In.fromJSDate(this).plus(i).toJSDate()},Date.prototype.subtract=function(i){return In.fromJSDate(this).minus(i).toJSDate()},Date.prototype.isToday=function(){return this.hasSameDate(new Date)},Date.prototype.isAfter=function(i){return this.getTime()>i.getTime()},Date.prototype.isAfterOrEquals=function(i){return this.getTime()>=i.getTime()},Date.prototype.isBefore=function(i){return this.getTime()<i.getTime()},Date.prototype.isBeforeOrEquals=function(i){return this.getTime()<=i.getTime()},Date.prototype.isFuture=function(){return this.isAfter(new Date)},Date.prototype.isPast=function(){return this.isBefore(new Date)},Date.prototype.hasSameDate=function(i){return null!=i&&this.getFullYear()===i.getFullYear()&&this.getMonth()===i.getMonth()&&this.getDate()===i.getDate()},Date.prototype.hasSameDateAndTime=function(i){return null!=i&&this.getTime()===i.getTime()},Date.prototype.hasSameMonth=function(i){return null!=i&&this.getMonth()===i.getMonth()&&this.getFullYear()===i.getFullYear()},Date.prototype.getFirstDateOfMonth=function(){return new Date(this.getFullYear(),this.getMonth(),1)},Date.prototype.getAge=function(){const n=-In.fromJSDate(this).diffNow("years").years;return Math.floor(n)},Date.prototype.isUnderage=function(){return this.getAge()<15},Date.prototype.isAdult=function(){return this.getAge()>=18},Date.prototype.clone=function(){return new Date(this)}}(),function Hcn(){String.prototype.capitalize=function(){return this.split(" ").map(i=>i.length>1?i[0].toUpperCase()+i.substring(1):1===i.length?i.toUpperCase():i).join(" ")},String.prototype.removeSpaces=function(){return this.replace(/ /gi,"")}}(),function zcn(){Number.prototype.subtract=function(i){return(this-i).round()},Number.prototype.add=function(i){return(this+i).round()},Number.prototype.multiply=function(i){return(this*i).round()},Number.prototype.divide=function(i){return(this/i).round()},Number.prototype.round=function(){return Math.round(100*this)/100},Number.prototype.percent=function(i){return this.multiply(i).divide(100)},Number.prototype.percentRemaining=function(i){return this.subtract(this.percent(i))}}(),function jcn(){ps.prototype.markAsDirty=function(){fl(this)}}(),Qr().bootstrapModule(Ucn).catch(i=>console.error(i))},815:(Ds,an,_e)=>{(0,_e(446).XO)({name:"it",identity:{language:"it"},territory:"IT",numbers:{symbols:{decimal:",",group:".",list:";",percentSign:"%",plusSign:"+",minusSign:"-",approximatelySign:"~",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["n\xa0$"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},accounting:{patterns:["n\xa0$"],groupSize:[3]},currencies:{ADP:{displayName:"peseta andorrana",symbol:"ADP"},AED:{displayName:"dirham degli Emirati Arabi Uniti","displayName-count-one":"dirham degli EAU","displayName-count-other":"dirham degli EAU",symbol:"AED"},AFA:{displayName:"afgani (1927\u20132002)",symbol:"AFA"},AFN:{displayName:"afghani","displayName-count-one":"afghani","displayName-count-other":"afghani",symbol:"AFN","symbol-alt-narrow":"\u060b"},ALK:{displayName:"ALK",symbol:"ALK"},ALL:{displayName:"lek albanese","displayName-count-one":"lek albanese","displayName-count-other":"lek\xeb albanesi",symbol:"ALL"},AMD:{displayName:"dram armeno","displayName-count-one":"dram armeno","displayName-count-other":"dram armeni",symbol:"AMD","symbol-alt-narrow":"\u058f"},ANG:{displayName:"fiorino delle Antille olandesi","displayName-count-one":"fiorino delle Antille olandesi","displayName-count-other":"fiorini delle Antille olandesi",symbol:"ANG"},AOA:{displayName:"kwanza angolano","displayName-count-one":"kwanza angolano","displayName-count-other":"kwanzas angolani",symbol:"AOA","symbol-alt-narrow":"Kz"},AOK:{displayName:"kwanza angolano (1977\u20131990)",symbol:"AOK"},AON:{displayName:"nuovo kwanza angolano (1990\u20132000)",symbol:"AON"},AOR:{displayName:"kwanza reajustado angolano (1995\u20131999)",symbol:"AOR"},ARA:{displayName:"austral argentino",symbol:"ARA"},ARL:{displayName:"ARL",symbol:"ARL"},ARM:{displayName:"ARM",symbol:"ARM"},ARP:{displayName:"peso argentino (vecchio Cod.)",symbol:"ARP"},ARS:{displayName:"peso argentino","displayName-count-one":"peso argentino","displayName-count-other":"pesos argentini",symbol:"ARS","symbol-alt-narrow":"$"},ATS:{displayName:"scellino austriaco",symbol:"ATS"},AUD:{displayName:"dollaro australiano","displayName-count-one":"dollaro australiano","displayName-count-other":"dollari australiani",symbol:"A$","symbol-alt-narrow":"$"},AWG:{displayName:"fiorino di Aruba","displayName-count-one":"fiorino di Aruba","displayName-count-other":"fiorini di Aruba",symbol:"AWG"},AZM:{displayName:"manat azero (1993\u20132006)",symbol:"AZM"},AZN:{displayName:"manat azero","displayName-count-one":"manat azero","displayName-count-other":"manat azeri",symbol:"AZN","symbol-alt-narrow":"\u20bc"},BAD:{displayName:"dinar Bosnia-Herzegovina",symbol:"BAD"},BAM:{displayName:"marco convertibile della Bosnia-Herzegovina","displayName-count-one":"marco convertibile della Bosnia-Herzegovina","displayName-count-other":"marchi convertibili della Bosnia-Herzegovina",symbol:"BAM","symbol-alt-narrow":"KM"},BAN:{displayName:"BAN",symbol:"BAN"},BBD:{displayName:"dollaro di Barbados","displayName-count-one":"dollaro di Barbados","displayName-count-other":"dollari di Barbados",symbol:"BBD","symbol-alt-narrow":"$"},BDT:{displayName:"taka bangladese","displayName-count-one":"taka bengalese","displayName-count-other":"taka bengalesi",symbol:"BDT","symbol-alt-narrow":"\u09f3"},BEC:{displayName:"franco belga (convertibile)",symbol:"BEC"},BEF:{displayName:"franco belga",symbol:"BEF"},BEL:{displayName:"franco belga (finanziario)",symbol:"BEL"},BGL:{displayName:"lev bulgaro (1962\u20131999)","displayName-count-one":"lev bulgaro (1962\u20131999)","displayName-count-other":"leva bulgari (1962\u20131999)",symbol:"BGL"},BGM:{displayName:"BGM",symbol:"BGM"},BGN:{displayName:"lev bulgaro","displayName-count-one":"lev bulgaro","displayName-count-other":"leva bulgari",symbol:"BGN"},BGO:{displayName:"BGO",symbol:"BGO"},BHD:{displayName:"dinaro del Bahrein","displayName-count-one":"dinaro del Bahrein","displayName-count-other":"dinari del Bahrein",symbol:"BHD"},BIF:{displayName:"franco del Burundi","displayName-count-one":"franco del Burundi","displayName-count-other":"franchi del Burundi",symbol:"BIF"},BMD:{displayName:"dollaro delle Bermuda","displayName-count-one":"dollaro delle Bermuda","displayName-count-other":"dollari delle Bermuda",symbol:"BMD","symbol-alt-narrow":"$"},BND:{displayName:"dollaro del Brunei","displayName-count-one":"dollaro del Brunei","displayName-count-other":"dollari del Brunei",symbol:"BND","symbol-alt-narrow":"$"},BOB:{displayName:"boliviano","displayName-count-one":"boliviano","displayName-count-other":"boliviani",symbol:"BOB","symbol-alt-narrow":"Bs"},BOL:{displayName:"BOL",symbol:"BOL"},BOP:{displayName:"peso boliviano",symbol:"BOP"},BOV:{displayName:"mvdol boliviano",symbol:"BOV"},BRB:{displayName:"cruzeiro novo brasiliano (1967\u20131986)",symbol:"BRB"},BRC:{displayName:"cruzado brasiliano",symbol:"BRC"},BRE:{displayName:"cruzeiro brasiliano (1990\u20131993)",symbol:"BRE"},BRL:{displayName:"real brasiliano","displayName-count-one":"real brasiliano","displayName-count-other":"real brasiliani",symbol:"BRL","symbol-alt-narrow":"R$"},BRN:{displayName:"cruzado novo brasiliano",symbol:"BRN"},BRR:{displayName:"cruzeiro brasiliano",symbol:"BRR"},BRZ:{displayName:"BRZ",symbol:"BRZ"},BSD:{displayName:"dollaro delle Bahamas","displayName-count-one":"dollaro delle Bahamas","displayName-count-other":"dollari delle Bahamas",symbol:"BSD","symbol-alt-narrow":"$"},BTN:{displayName:"ngultrum bhutanese","displayName-count-one":"ngultrum bhutanese","displayName-count-other":"ngultrum bhutanesi",symbol:"BTN"},BUK:{displayName:"kyat birmano",symbol:"BUK"},BWP:{displayName:"pula del Botswana","displayName-count-one":"pula del Botswana","displayName-count-other":"pula del Botswana",symbol:"BWP","symbol-alt-narrow":"P"},BYB:{displayName:"nuovo rublo bielorusso (1994\u20131999)",symbol:"BYB"},BYN:{displayName:"rublo bielorusso","displayName-count-one":"rublo bielorusso","displayName-count-other":"rubli bielorussi",symbol:"BYN","symbol-alt-narrow":"Br"},BYR:{displayName:"rublo bielorusso (2000\u20132016)","displayName-count-one":"rublo bielorusso (2000\u20132016)","displayName-count-other":"rubli bielorussi (2000\u20132016)",symbol:"BYR"},BZD:{displayName:"dollaro del Belize","displayName-count-one":"dollaro del Belize","displayName-count-other":"dollari del Belize",symbol:"BZD","symbol-alt-narrow":"$"},CAD:{displayName:"dollaro canadese","displayName-count-one":"dollaro canadese","displayName-count-other":"dollari canadesi",symbol:"CA$","symbol-alt-narrow":"$"},CDF:{displayName:"franco congolese","displayName-count-one":"franco congolese","displayName-count-other":"franchi congolesi",symbol:"CDF"},CHE:{displayName:"CHE",symbol:"CHE"},CHF:{displayName:"franco svizzero","displayName-count-one":"franco svizzero","displayName-count-other":"franchi svizzeri",symbol:"CHF"},CHW:{displayName:"CHW",symbol:"CHW"},CLE:{displayName:"CLE",symbol:"CLE"},CLF:{displayName:"unidades de fomento chilene",symbol:"CLF"},CLP:{displayName:"peso cileno","displayName-count-one":"peso cileno","displayName-count-other":"pesos cileni",symbol:"CLP","symbol-alt-narrow":"$"},CNH:{displayName:"renmimbi cinese offshore","displayName-count-one":"renmimbi cinese offshore","displayName-count-other":"renmimbi cinesi offshore",symbol:"CNH"},CNX:{displayName:"CNX",symbol:"CNX"},CNY:{displayName:"renminbi cinese","displayName-count-one":"renmimbi cinese","displayName-count-other":"renmimbi cinesi",symbol:"CN\xa5","symbol-alt-narrow":"\xa5"},COP:{displayName:"peso colombiano","displayName-count-one":"peso colombiano","displayName-count-other":"pesos colombiani",symbol:"COP","symbol-alt-narrow":"$"},COU:{displayName:"COU",symbol:"COU"},CRC:{displayName:"col\xf3n costaricano","displayName-count-one":"col\xf3n costaricano","displayName-count-other":"col\xf3n costaricani",symbol:"CRC","symbol-alt-narrow":"\u20a1"},CSD:{displayName:"antico dinaro serbo",symbol:"CSD"},CSK:{displayName:"corona forte cecoslovacca",symbol:"CSK"},CUC:{displayName:"peso cubano convertibile","displayName-count-one":"peso cubano convertibile","displayName-count-other":"pesos cubani convertibili",symbol:"CUC","symbol-alt-narrow":"$"},CUP:{displayName:"peso cubano","displayName-count-one":"peso cubano","displayName-count-other":"pesos cubani",symbol:"CUP","symbol-alt-narrow":"$"},CVE:{displayName:"escudo capoverdiano","displayName-count-one":"escudo capoverdiano","displayName-count-other":"escudos capoverdiani",symbol:"CVE"},CYP:{displayName:"sterlina cipriota",symbol:"CYP"},CZK:{displayName:"corona ceca","displayName-count-one":"corona ceca","displayName-count-other":"corone ceche",symbol:"CZK","symbol-alt-narrow":"K\u010d"},DDM:{displayName:"ostmark della Germania Orientale",symbol:"DDM"},DEM:{displayName:"marco tedesco",symbol:"DEM"},DJF:{displayName:"franco di Gibuti","displayName-count-one":"franco di Gibuti","displayName-count-other":"franchi di Gibuti",symbol:"DJF"},DKK:{displayName:"corona danese","displayName-count-one":"corona danese","displayName-count-other":"corone danesi",symbol:"DKK","symbol-alt-narrow":"kr"},DOP:{displayName:"peso dominicano","displayName-count-one":"peso dominicano","displayName-count-other":"pesos dominicani",symbol:"DOP","symbol-alt-narrow":"$"},DZD:{displayName:"dinaro algerino","displayName-count-one":"dinaro algerino","displayName-count-other":"dinari algerini",symbol:"DZD"},ECS:{displayName:"sucre dell\u2019Ecuador",symbol:"ECS"},ECV:{displayName:"unidad de valor constante (UVC) dell\u2019Ecuador",symbol:"ECV"},EEK:{displayName:"corona dell\u2019Estonia",symbol:"EEK"},EGP:{displayName:"sterlina egiziana","displayName-count-one":"sterlina egiziana","displayName-count-other":"sterline egiziane",symbol:"EGP","symbol-alt-narrow":"\xa3E"},ERN:{displayName:"nakfa eritreo","displayName-count-one":"nakfa eritreo","displayName-count-other":"nakfa eritrei",symbol:"ERN"},ESA:{displayName:"peseta spagnola account",symbol:"ESA"},ESB:{displayName:"peseta spagnola account convertibile",symbol:"ESB"},ESP:{displayName:"peseta spagnola",symbol:"ESP","symbol-alt-narrow":"\u20a7"},ETB:{displayName:"birr etiope","displayName-count-one":"birr etiope","displayName-count-other":"birr etiopi",symbol:"ETB"},EUR:{displayName:"euro","displayName-count-one":"euro","displayName-count-other":"euro",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},FIM:{displayName:"markka finlandese",symbol:"FIM"},FJD:{displayName:"dollaro delle Figi","displayName-count-one":"dollaro delle Figi","displayName-count-other":"dollari delle Figi",symbol:"FJD","symbol-alt-narrow":"$"},FKP:{displayName:"sterlina delle Falkland","displayName-count-one":"sterlina delle Falkland","displayName-count-other":"sterline delle Falkland",symbol:"FKP","symbol-alt-narrow":"\xa3"},FRF:{displayName:"franco francese",symbol:"FRF"},GBP:{displayName:"sterlina britannica","displayName-count-one":"sterlina britannica","displayName-count-other":"sterline britanniche",symbol:"\xa3","symbol-alt-narrow":"\xa3"},GEK:{displayName:"kupon larit georgiano",symbol:"GEK"},GEL:{displayName:"lari georgiano","displayName-count-one":"lari georgiano","displayName-count-other":"lari georgiani",symbol:"GEL","symbol-alt-narrow":"\u20be"},GHC:{displayName:"cedi del Ghana",symbol:"GHC"},GHS:{displayName:"cedi ghanese","displayName-count-one":"cedi ghanese","displayName-count-other":"cedi ghanesi",symbol:"GHS","symbol-alt-narrow":"GH\u20b5"},GIP:{displayName:"sterlina di Gibilterra","displayName-count-one":"sterlina di Gibilterra","displayName-count-other":"sterline di Gibilterra",symbol:"GIP","symbol-alt-narrow":"\xa3"},GMD:{displayName:"dalasi gambiano","displayName-count-one":"dalasi gambiano","displayName-count-other":"dalasi gambiani",symbol:"GMD"},GNF:{displayName:"franco della Guinea","displayName-count-one":"franco della Guinea","displayName-count-other":"franchi della Guinea",symbol:"GNF","symbol-alt-narrow":"FG"},GNS:{displayName:"syli della Guinea",symbol:"GNS"},GQE:{displayName:"ekwele della Guinea Equatoriale",symbol:"GQE"},GRD:{displayName:"dracma greca",symbol:"GRD"},GTQ:{displayName:"quetzal guatemalteco","displayName-count-one":"quetzal guatemalteco","displayName-count-other":"quetzal guatemaltechi",symbol:"GTQ","symbol-alt-narrow":"Q"},GWE:{displayName:"escudo della Guinea portoghese",symbol:"GWE"},GWP:{displayName:"peso della Guinea-Bissau",symbol:"GWP"},GYD:{displayName:"dollaro della Guyana","displayName-count-one":"dollaro della Guyana","displayName-count-other":"dollari della Guyana",symbol:"GYD","symbol-alt-narrow":"$"},HKD:{displayName:"dollaro di Hong Kong","displayName-count-one":"dollaro di Hong Kong","displayName-count-other":"dollari di Hong Kong",symbol:"HKD","symbol-alt-narrow":"$"},HNL:{displayName:"lempira honduregna","displayName-count-one":"lempira honduregna","displayName-count-other":"lempire honduregne",symbol:"HNL","symbol-alt-narrow":"L"},HRD:{displayName:"dinaro croato",symbol:"HRD"},HRK:{displayName:"kuna croata","displayName-count-one":"kuna croata","displayName-count-other":"kune croate",symbol:"HRK","symbol-alt-narrow":"kn"},HTG:{displayName:"gourde haitiano","displayName-count-one":"gourde haitiano","displayName-count-other":"gourde haitiani",symbol:"HTG"},HUF:{displayName:"fiorino ungherese","displayName-count-one":"fiorino ungherese","displayName-count-other":"fiorini ungheresi",symbol:"HUF","symbol-alt-narrow":"Ft"},IDR:{displayName:"rupia indonesiana","displayName-count-one":"rupia indonesiana","displayName-count-other":"rupie indonesiane",symbol:"IDR","symbol-alt-narrow":"Rp"},IEP:{displayName:"sterlina irlandese",symbol:"IEP"},ILP:{displayName:"sterlina israeliana",symbol:"ILP"},ILR:{displayName:"ILR",symbol:"ILR"},ILS:{displayName:"nuovo siclo israeliano","displayName-count-one":"nuovo siclo israeliano","displayName-count-other":"nuovi sicli israeliani",symbol:"\u20aa","symbol-alt-narrow":"\u20aa"},INR:{displayName:"rupia indiana","displayName-count-one":"rupia indiana","displayName-count-other":"rupie indiane",symbol:"INR","symbol-alt-narrow":"\u20b9"},IQD:{displayName:"dinaro iracheno","displayName-count-one":"dinaro iracheno","displayName-count-other":"dinari iracheni",symbol:"IQD"},IRR:{displayName:"rial iraniano","displayName-count-one":"rial iraniano","displayName-count-other":"rial iraniani",symbol:"IRR"},ISJ:{displayName:"ISJ",symbol:"ISJ"},ISK:{displayName:"corona islandese","displayName-count-one":"corona islandese","displayName-count-other":"corone islandesi",symbol:"ISK","symbol-alt-narrow":"kr"},ITL:{pattern:"\xa4\xa0#,##0.00",displayName:"lira italiana","displayName-count-one":"lire italiane","displayName-count-other":"lire italiane",symbol:"ITL",decimal:",",group:"."},JMD:{displayName:"dollaro giamaicano","displayName-count-one":"dollaro giamaicano","displayName-count-other":"dollari giamaicani",symbol:"JMD","symbol-alt-narrow":"$"},JOD:{displayName:"dinaro giordano","displayName-count-one":"dinaro giordano","displayName-count-other":"dinari giordani",symbol:"JOD"},JPY:{displayName:"yen giapponese","displayName-count-one":"yen giapponese","displayName-count-other":"yen giapponesi",symbol:"JPY","symbol-alt-narrow":"\xa5"},KES:{displayName:"scellino keniota","displayName-count-one":"scellino keniota","displayName-count-other":"scellini kenioti",symbol:"KES"},KGS:{displayName:"som kirghiso","displayName-count-one":"som kirghiso","displayName-count-other":"som kirghisi",symbol:"KGS"},KHR:{displayName:"riel cambogiano","displayName-count-one":"riel cambogiano","displayName-count-other":"riel cambogiani",symbol:"KHR","symbol-alt-narrow":"\u17db"},KMF:{displayName:"franco comoriano","displayName-count-one":"franco comoriano","displayName-count-other":"franchi comoriani",symbol:"KMF","symbol-alt-narrow":"CF"},KPW:{displayName:"won nordcoreano","displayName-count-one":"won nordcoreano","displayName-count-other":"won nordcoreani",symbol:"KPW","symbol-alt-narrow":"\u20a9"},KRH:{displayName:"KRH",symbol:"KRH"},KRO:{displayName:"KRO",symbol:"KRO"},KRW:{displayName:"won sudcoreano","displayName-count-one":"won sudcoreano","displayName-count-other":"won sudcoreani",symbol:"KRW","symbol-alt-narrow":"\u20a9"},KWD:{displayName:"dinaro kuwaitiano","displayName-count-one":"dinaro kuwaitiano","displayName-count-other":"dinari kuwaitiani",symbol:"KWD"},KYD:{displayName:"dollaro delle Isole Cayman","displayName-count-one":"dollaro delle Isole Cayman","displayName-count-other":"dollari delle Isole Cayman",symbol:"KYD","symbol-alt-narrow":"$"},KZT:{displayName:"tenge kazako","displayName-count-one":"tenge kazako","displayName-count-other":"tenge kazaki",symbol:"KZT","symbol-alt-narrow":"\u20b8"},LAK:{displayName:"kip laotiano","displayName-count-one":"kip laotiano","displayName-count-other":"kip laotiani",symbol:"LAK","symbol-alt-narrow":"\u20ad"},LBP:{displayName:"lira libanese","displayName-count-one":"lira libanese","displayName-count-other":"lire libanesi",symbol:"LBP","symbol-alt-narrow":"L\xa3"},LKR:{displayName:"rupia di Sri Lanka","displayName-count-one":"rupia di Sri Lanka","displayName-count-other":"rupie di Sri Lanka",symbol:"LKR","symbol-alt-narrow":"Rs"},LRD:{displayName:"dollaro liberiano","displayName-count-one":"dollaro liberiano","displayName-count-other":"dollari liberiani",symbol:"LRD","symbol-alt-narrow":"$"},LSL:{displayName:"loti del Lesotho","displayName-count-one":"loti del Lesotho","displayName-count-other":"maloti del Lesotho",symbol:"LSL"},LTL:{displayName:"litas lituano","displayName-count-one":"litas lituano","displayName-count-other":"litas lituani",symbol:"LTL","symbol-alt-narrow":"Lt"},LTT:{displayName:"talonas lituani",symbol:"LTT"},LUC:{displayName:"franco convertibile del Lussemburgo",symbol:"LUC"},LUF:{displayName:"franco del Lussemburgo",symbol:"LUF"},LUL:{displayName:"franco finanziario del Lussemburgo",symbol:"LUL"},LVL:{displayName:"lats lettone","displayName-count-one":"lats lettone","displayName-count-other":"lati lettoni",symbol:"LVL","symbol-alt-narrow":"Ls"},LVR:{displayName:"rublo lettone",symbol:"LVR"},LYD:{displayName:"dinaro libico","displayName-count-one":"dinaro libico","displayName-count-other":"dinari libici",symbol:"LYD"},MAD:{displayName:"dirham marocchino","displayName-count-one":"dirham marocchino","displayName-count-other":"dirham marocchini",symbol:"MAD"},MAF:{displayName:"franco marocchino",symbol:"MAF"},MCF:{displayName:"MCF",symbol:"MCF"},MDC:{displayName:"MDC",symbol:"MDC"},MDL:{displayName:"leu moldavo","displayName-count-one":"leu moldavo","displayName-count-other":"lei moldavi",symbol:"MDL"},MGA:{displayName:"ariary malgascio","displayName-count-one":"ariary malgascio","displayName-count-other":"ariary malgasci",symbol:"MGA","symbol-alt-narrow":"Ar"},MGF:{displayName:"franco malgascio",symbol:"MGF"},MKD:{displayName:"dinaro macedone","displayName-count-one":"dinaro macedone","displayName-count-other":"dinari macedoni",symbol:"MKD"},MKN:{displayName:"dinaro macedone (1992\u20131993)","displayName-count-one":"dinaro macedone (1992\u20131993)","displayName-count-other":"dinari macedoni (1992\u20131993)",symbol:"MKN"},MLF:{displayName:"franco di Mali",symbol:"MLF"},MMK:{displayName:"kyat di Myanmar","displayName-count-one":"kyat di Myanmar","displayName-count-other":"kyat di Myanmar",symbol:"MMK","symbol-alt-narrow":"K"},MNT:{displayName:"tugrik mongolo","displayName-count-one":"tugrik mongolo","displayName-count-other":"tugrik mongoli",symbol:"MNT","symbol-alt-narrow":"\u20ae"},MOP:{displayName:"pataca di Macao","displayName-count-one":"pataca di Macao","displayName-count-other":"patacas di Macao",symbol:"MOP"},MRO:{displayName:"ouguiya della Mauritania (1973\u20132017)","displayName-count-one":"ouguiya della Mauritania (1973\u20132017)","displayName-count-other":"ouguiya della Mauritania (1973\u20132017)",symbol:"MRO"},MRU:{displayName:"ouguiya della Mauritania","displayName-count-one":"ouguiya della Mauritania","displayName-count-other":"ouguiya della Mauritania",symbol:"MRU"},MTL:{displayName:"lira maltese",symbol:"MTL"},MTP:{displayName:"sterlina maltese",symbol:"MTP"},MUR:{displayName:"rupia mauriziana","displayName-count-one":"rupia mauriziana","displayName-count-other":"rupie mauriziane",symbol:"MUR","symbol-alt-narrow":"Rs"},MVP:{displayName:"MVP",symbol:"MVP"},MVR:{displayName:"rufiyaa delle Maldive","displayName-count-one":"rufiyaa delle Maldive","displayName-count-other":"rufiyaa delle Maldive",symbol:"MVR"},MWK:{displayName:"kwacha malawiano","displayName-count-one":"kwacha malawiano","displayName-count-other":"kwacha malawiani",symbol:"MWK"},MXN:{displayName:"peso messicano","displayName-count-one":"peso messicano","displayName-count-other":"pesos messicani",symbol:"MXN","symbol-alt-narrow":"$"},MXP:{displayName:"peso messicano d\u2019argento (1861\u20131992)",symbol:"MXP"},MXV:{displayName:"unidad de inversion (UDI) messicana",symbol:"MXV"},MYR:{displayName:"ringgit malese","displayName-count-one":"ringgit malese","displayName-count-other":"ringgit malesi",symbol:"MYR","symbol-alt-narrow":"RM"},MZE:{displayName:"escudo del Mozambico",symbol:"MZE"},MZM:{displayName:"MZM",symbol:"MZM"},MZN:{displayName:"metical mozambicano","displayName-count-one":"metical mozambicano","displayName-count-other":"metical mozambicani",symbol:"MZN"},NAD:{displayName:"dollaro namibiano","displayName-count-one":"dollaro namibiano","displayName-count-other":"dollari namibiani",symbol:"NAD","symbol-alt-narrow":"$"},NGN:{displayName:"naira nigeriana","displayName-count-one":"naira nigeriana","displayName-count-other":"naire nigeriane",symbol:"NGN","symbol-alt-narrow":"\u20a6"},NIC:{displayName:"cordoba nicaraguense","displayName-count-one":"cordoba nicaraguense","displayName-count-other":"cordoba nicaraguense",symbol:"NIC"},NIO:{displayName:"c\xf3rdoba nicaraguense","displayName-count-one":"c\xf3rdoba nicaraguense","displayName-count-other":"c\xf3rdoba nicaraguensi",symbol:"NIO","symbol-alt-narrow":"C$"},NLG:{displayName:"fiorino olandese",symbol:"NLG"},NOK:{displayName:"corona norvegese","displayName-count-one":"corona norvegese","displayName-count-other":"corone norvegesi",symbol:"NOK","symbol-alt-narrow":"NKr"},NPR:{displayName:"rupia nepalese","displayName-count-one":"rupia nepalese","displayName-count-other":"rupie nepalesi",symbol:"NPR","symbol-alt-narrow":"Rs"},NZD:{displayName:"dollaro neozelandese","displayName-count-one":"dollaro neozelandese","displayName-count-other":"dollari neozelandesi",symbol:"NZ$","symbol-alt-narrow":"$"},OMR:{displayName:"rial omanita","displayName-count-one":"rial omanita","displayName-count-other":"rial omaniti",symbol:"OMR"},PAB:{displayName:"balboa panamense","displayName-count-one":"balboa panamense","displayName-count-other":"balboa panamensi",symbol:"PAB"},PEI:{displayName:"inti peruviano",symbol:"PEI"},PEN:{displayName:"sol peruviano","displayName-count-one":"sol peruviano","displayName-count-other":"sol peruviani",symbol:"PEN"},PES:{displayName:"sol peruviano (1863\u20131965)",symbol:"PES"},PGK:{displayName:"kina papuana","displayName-count-one":"kina papuana","displayName-count-other":"kina papuane",symbol:"PGK"},PHP:{displayName:"peso filippino","displayName-count-one":"peso filippino","displayName-count-other":"pesos filippini",symbol:"\u20b1","symbol-alt-narrow":"\u20b1"},PKR:{displayName:"rupia pakistana","displayName-count-one":"rupia pakistana","displayName-count-other":"rupie pakistane",symbol:"PKR","symbol-alt-narrow":"Rs"},PLN:{displayName:"z\u0142oty polacco","displayName-count-one":"z\u0142oty polacco","displayName-count-other":"z\u0142oty polacchi",symbol:"PLN","symbol-alt-narrow":"z\u0142"},PLZ:{displayName:"z\u0142oty Polacco (1950\u20131995)","displayName-count-one":"z\u0142oty polacco (1950\u20131995)","displayName-count-other":"z\u0142oty polacchi (1950\u20131995)",symbol:"PLZ"},PTE:{displayName:"escudo portoghese",symbol:"PTE"},PYG:{displayName:"guaran\xed paraguayano","displayName-count-one":"guaran\xed paraguayano","displayName-count-other":"guaran\xed paraguayani",symbol:"PYG","symbol-alt-narrow":"\u20b2"},QAR:{displayName:"rial qatariano","displayName-count-one":"rial qatariano","displayName-count-other":"rial qatariani",symbol:"QAR"},RHD:{displayName:"dollaro della Rhodesia",symbol:"RHD"},ROL:{displayName:"leu della Romania",symbol:"ROL"},RON:{displayName:"leu rumeno","displayName-count-one":"leu rumeno","displayName-count-other":"lei rumeni",symbol:"RON","symbol-alt-narrow":"lei"},RSD:{displayName:"dinaro serbo","displayName-count-one":"dinaro serbo","displayName-count-other":"dinara serbi",symbol:"RSD"},RUB:{displayName:"rublo russo","displayName-count-one":"rublo russo","displayName-count-other":"rubli russi",symbol:"RUB","symbol-alt-narrow":"\u20bd"},RUR:{displayName:"rublo della CSI",symbol:"RUR"},RWF:{displayName:"franco ruandese","displayName-count-one":"franco ruandese","displayName-count-other":"franchi ruandesi",symbol:"RWF","symbol-alt-narrow":"RF"},SAR:{displayName:"riyal saudita","displayName-count-one":"riyal saudita","displayName-count-other":"riyal sauditi",symbol:"SAR"},SBD:{displayName:"dollaro delle Isole Salomone","displayName-count-one":"dollaro delle Isole Salomone","displayName-count-other":"dollari delle Isole Salomone",symbol:"SBD","symbol-alt-narrow":"$"},SCR:{displayName:"rupia delle Seychelles","displayName-count-one":"rupia delle Seychelles","displayName-count-other":"rupie delle Seychelles",symbol:"SCR"},SDD:{displayName:"dinaro sudanese",symbol:"SDD"},SDG:{displayName:"sterlina sudanese","displayName-count-one":"sterlina sudanese","displayName-count-other":"sterline sudanesi",symbol:"SDG"},SDP:{displayName:"SDP",symbol:"SDP"},SEK:{displayName:"corona svedese","displayName-count-one":"corona svedese","displayName-count-other":"corone svedesi",symbol:"SEK","symbol-alt-narrow":"kr"},SGD:{displayName:"dollaro di Singapore","displayName-count-one":"dollaro di Singapore","displayName-count-other":"dollari di Singapore",symbol:"SGD","symbol-alt-narrow":"$"},SHP:{displayName:"sterlina di Sant\u2019Elena","displayName-count-one":"sterlina di Sant\u2019Elena","displayName-count-other":"sterline di Sant\u2019Elena",symbol:"SHP","symbol-alt-narrow":"\xa3"},SIT:{displayName:"tallero sloveno",symbol:"SIT"},SKK:{displayName:"corona slovacca",symbol:"SKK"},SLE:{displayName:"SLE",symbol:"SLE"},SLL:{displayName:"leone della Sierra Leone","displayName-count-one":"leone della Sierra Leone","displayName-count-other":"leoni della Sierra Leone",symbol:"SLL"},SOS:{displayName:"scellino somalo","displayName-count-one":"scellino somalo","displayName-count-other":"scellini somali",symbol:"SOS"},SRD:{displayName:"dollaro del Suriname","displayName-count-one":"dollaro del Suriname","displayName-count-other":"dollari del Suriname",symbol:"SRD","symbol-alt-narrow":"$"},SRG:{displayName:"fiorino del Suriname",symbol:"SRG"},SSP:{displayName:"sterlina sud-sudanese","displayName-count-one":"sterlina sud-sudanese","displayName-count-other":"sterline sud-sudanesi",symbol:"SSP","symbol-alt-narrow":"\xa3"},STD:{displayName:"dobra di Sao Tom\xe9 e Principe (1977\u20132017)","displayName-count-one":"dobra di Sao Tom\xe9 e Principe (1977\u20132017)","displayName-count-other":"dobra di Sao Tom\xe9 e Principe (1977\u20132017)",symbol:"STD"},STN:{displayName:"dobra di Sao Tom\xe9 e Pr\xedncipe","displayName-count-one":"dobra di Sao Tom\xe9 e Pr\xedncipe","displayName-count-other":"dobra di Sao Tom\xe9 e Pr\xedncipe",symbol:"STN","symbol-alt-narrow":"Db"},SUR:{displayName:"rublo sovietico",symbol:"SUR"},SVC:{displayName:"col\xf3n salvadoregno",symbol:"SVC"},SYP:{displayName:"lira siriana","displayName-count-one":"lira siriana","displayName-count-other":"lire siriane",symbol:"SYP","symbol-alt-narrow":"\xa3"},SZL:{displayName:"lilangeni dello Swaziland","displayName-count-one":"lilangeni dello Swaziland","displayName-count-other":"lilangeni dello Swaziland",symbol:"SZL"},THB:{displayName:"baht thailandese","displayName-count-one":"baht thailandese","displayName-count-other":"baht thailandesi",symbol:"\u0e3f","symbol-alt-narrow":"\u0e3f"},TJR:{displayName:"rublo del Tajikistan",symbol:"TJR"},TJS:{displayName:"somoni tagiko","displayName-count-one":"somoni tagiko","displayName-count-other":"somoni tagiki",symbol:"TJS"},TMM:{displayName:"manat turkmeno (1993\u20132009)",symbol:"TMM"},TMT:{displayName:"manat turkmeno","displayName-count-one":"manat turkmeno","displayName-count-other":"manat turkmeni",symbol:"TMT"},TND:{displayName:"dinaro tunisino","displayName-count-one":"dinaro tunisino","displayName-count-other":"dinari tunisini",symbol:"TND"},TOP:{displayName:"pa\u02bbanga tongano","displayName-count-one":"pa\u02bbanga tongano","displayName-count-other":"pa\u02bbanga tongani",symbol:"TOP","symbol-alt-narrow":"T$"},TPE:{displayName:"escudo di Timor",symbol:"TPE"},TRL:{displayName:"lira turca (1922\u20132005)","displayName-count-one":"lira turca (1922\u20132005)","displayName-count-other":"lire turche (1922\u20132005)",symbol:"TRL"},TRY:{displayName:"lira turca","displayName-count-one":"lira turca","displayName-count-other":"lire turche",symbol:"TRY","symbol-alt-narrow":"\u20ba","symbol-alt-variant":"TL"},TTD:{displayName:"dollaro di Trinidad e Tobago","displayName-count-one":"dollaro di Trinidad e Tobago","displayName-count-other":"dollari di Trinidad e Tobago",symbol:"TTD","symbol-alt-narrow":"$"},TWD:{displayName:"nuovo dollaro taiwanese","displayName-count-one":"nuovo dollaro taiwanese","displayName-count-other":"nuovi dollari taiwanesi",symbol:"TWD","symbol-alt-narrow":"NT$"},TZS:{displayName:"scellino della Tanzania","displayName-count-one":"scellino della Tanzania","displayName-count-other":"scellini della Tanzania",symbol:"TZS"},UAH:{displayName:"grivnia ucraina","displayName-count-one":"grivnia ucraina","displayName-count-other":"grivnie ucraine",symbol:"UAH","symbol-alt-narrow":"\u20b4"},UAK:{displayName:"karbovanetz ucraino",symbol:"UAK"},UGS:{displayName:"scellino ugandese (1966\u20131987)",symbol:"UGS"},UGX:{displayName:"scellino ugandese","displayName-count-one":"scellino ugandese","displayName-count-other":"scellini ugandesi",symbol:"UGX"},USD:{displayName:"dollaro statunitense","displayName-count-one":"dollaro statunitense","displayName-count-other":"dollari statunitensi",symbol:"USD","symbol-alt-narrow":"$"},USN:{displayName:"dollaro statunitense (next day)",symbol:"USN"},USS:{displayName:"dollaro statunitense (same day)",symbol:"USS"},UYI:{displayName:"peso uruguaiano in unit\xe0 indicizzate",symbol:"UYI"},UYP:{displayName:"peso uruguaiano (1975\u20131993)",symbol:"UYP"},UYU:{displayName:"peso uruguayano","displayName-count-one":"peso uruguayano","displayName-count-other":"pesos uruguayani",symbol:"UYU","symbol-alt-narrow":"$"},UYW:{displayName:"UYW",symbol:"UYW"},UZS:{displayName:"sum uzbeco","displayName-count-one":"sum uzbeco","displayName-count-other":"sum uzbechi",symbol:"UZS"},VEB:{displayName:"bolivar venezuelano (1871\u20132008)","displayName-count-one":"bolivar venezuelano (1871\u20132008)","displayName-count-other":"bolivares venezuelani (1871\u20132008)",symbol:"VEB"},VED:{displayName:"VED",symbol:"VED"},VEF:{displayName:"bol\xedvar venezuelano (2008\u20132018)","displayName-count-one":"bol\xedvar venezuelano (2008\u20132018)","displayName-count-other":"bol\xedvares venezuelani (2008\u20132018)",symbol:"VEF","symbol-alt-narrow":"Bs"},VES:{displayName:"bol\xedvar venezuelano","displayName-count-one":"bol\xedvar venezuelano","displayName-count-other":"bol\xedvares venezuelani",symbol:"VES"},VND:{displayName:"dong vietnamita","displayName-count-one":"dong vietnamita","displayName-count-other":"dong vietnamiti",symbol:"VND","symbol-alt-narrow":"\u20ab"},VNN:{displayName:"VNN",symbol:"VNN"},VUV:{displayName:"vatu di Vanuatu","displayName-count-one":"vatu di Vanuatu","displayName-count-other":"vatu di Vanuatu",symbol:"VUV"},WST:{displayName:"tala samoano","displayName-count-one":"tala samoano","displayName-count-other":"tala samoani",symbol:"WST"},XAF:{displayName:"franco CFA BEAC","displayName-count-one":"franco CFA BEAC","displayName-count-other":"franchi CFA BEAC",symbol:"FCFA"},XAG:{displayName:"argento",symbol:"XAG"},XAU:{displayName:"oro",symbol:"XAU"},XBA:{displayName:"unit\xe0 composita europea",symbol:"XBA"},XBB:{displayName:"unit\xe0 monetaria europea",symbol:"XBB"},XBC:{displayName:"unit\xe0 di acconto europea (XBC)",symbol:"XBC"},XBD:{displayName:"unit\xe0 di acconto europea (XBD)",symbol:"XBD"},XCD:{displayName:"dollaro dei Caraibi orientali","displayName-count-one":"dollaro dei Caraibi orientali","displayName-count-other":"dollari dei Caraibi orientali",symbol:"EC$","symbol-alt-narrow":"$"},XDR:{displayName:"diritti speciali di incasso",symbol:"XDR"},XEU:{displayName:"XEU",symbol:"XEU"},XFO:{displayName:"franco oro francese",symbol:"XFO"},XFU:{displayName:"franco UIC francese",symbol:"XFU"},XOF:{displayName:"franco CFA BCEAO","displayName-count-one":"franco CFA BCEAO","displayName-count-other":"franchi CFA BCEAO",symbol:"F\u202fCFA"},XPD:{displayName:"palladio",symbol:"XPD"},XPF:{displayName:"franco CFP","displayName-count-one":"franco CFP","displayName-count-other":"franchi CFP",symbol:"CFPF"},XPT:{displayName:"platino",symbol:"XPT"},XRE:{displayName:"fondi RINET",symbol:"XRE"},XSU:{displayName:"XSU",symbol:"XSU"},XTS:{displayName:"codice di verifica della valuta",symbol:"XTS"},XUA:{displayName:"XUA",symbol:"XUA"},XXX:{displayName:"valuta sconosciuta","displayName-count-one":"(valuta sconosciuta)","displayName-count-other":"(valute sconosciute)",symbol:"\xa4"},YDD:{displayName:"dinaro dello Yemen",symbol:"YDD"},YER:{displayName:"riyal yemenita","displayName-count-one":"rial yemenita","displayName-count-other":"rial yemeniti",symbol:"YER"},YUD:{displayName:"dinaro forte yugoslavo",symbol:"YUD"},YUM:{displayName:"dinaro noviy yugoslavo",symbol:"YUM"},YUN:{displayName:"dinaro convertibile yugoslavo",symbol:"YUN"},YUR:{displayName:"YUR",symbol:"YUR"},ZAL:{displayName:"rand sudafricano (finanziario)",symbol:"ZAL"},ZAR:{displayName:"rand sudafricano","displayName-count-one":"rand sudafricano","displayName-count-other":"rand sudafricani",symbol:"ZAR","symbol-alt-narrow":"R"},ZMK:{displayName:"kwacha dello Zambia (1968\u20132012)","displayName-count-one":"kwacha zambiano (1968\u20132012)","displayName-count-other":"kwacha zambiani (1968\u20132012)",symbol:"ZMK"},ZMW:{displayName:"kwacha zambiano","displayName-count-one":"kwacha zambiano","displayName-count-other":"kwacha zambiani",symbol:"ZMW","symbol-alt-narrow":"ZK"},ZRN:{displayName:"nuovo zaire dello Zaire",symbol:"ZRN"},ZRZ:{displayName:"zaire dello Zaire",symbol:"ZRZ"},ZWD:{displayName:"dollaro dello Zimbabwe",symbol:"ZWD"},ZWL:{displayName:"dollaro zimbabwiano (2009)",symbol:"ZWL"},ZWR:{displayName:"ZWR",symbol:"ZWR"}},localeCurrency:"EUR"},calendar:{patterns:{d:"dd/MM/y",D:"EEEE d MMMM y",m:"d MMM",M:"d MMMM",y:"MMM y",Y:"MMMM y",F:"EEEE d MMMM y HH:mm:ss",g:"d/M/y HH:mm",G:"d/M/y HH:mm:ss",t:"HH:mm",T:"HH:mm:ss",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} {0}",long:"{1} {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"E d",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMd:"d/M/y GGGGG",GyMMM:"MMM y G",GyMMMd:"d MMM y G",GyMMMEd:"E d MMM y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"d/M",MEd:"E d/M",MMM:"LLL",MMMd:"d MMM",MMMEd:"E d MMM",MMMMd:"d MMMM","MMMMW-count-one":"'settimana' W 'di' MMMM","MMMMW-count-other":"'settimana' W 'di' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"d/M/y",yMEd:"E d/M/y",yMMM:"MMM y",yMMMd:"d MMM y",yMMMEd:"E d MMM y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'settimana' w 'del' Y","yw-count-other":"'settimana' w 'del' Y"}},timeFormats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},dateFormats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/yy"},days:{format:{abbreviated:["dom","lun","mar","mer","gio","ven","sab"],narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"]},"stand-alone":{abbreviated:["dom","lun","mar","mer","gio","ven","sab"],narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"]}},months:{format:{abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},"stand-alone":{abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]}},quarters:{format:{abbreviated:["T1","T2","T3","T4"],narrow:["1","2","3","4"],wide:["1\xba trimestre","2\xba trimestre","3\xba trimestre","4\xba trimestre"]},"stand-alone":{abbreviated:["T1","T2","T3","T4"],narrow:["1","2","3","4"],wide:["1\xba trimestre","2\xba trimestre","3\xba trimestre","4\xba trimestre"]}},dayPeriods:{format:{abbreviated:{midnight:"mezzanotte",am:"AM",noon:"mezzogiorno",pm:"PM",morning1:"di mattina",afternoon1:"di pomeriggio",evening1:"di sera",night1:"di notte"},narrow:{midnight:"mezzanotte",am:"m.",noon:"mezzogiorno",pm:"p.",morning1:"di mattina",afternoon1:"di pomeriggio",evening1:"di sera",night1:"di notte"},wide:{midnight:"mezzanotte",am:"AM",noon:"mezzogiorno",pm:"PM",morning1:"di mattina",afternoon1:"del pomeriggio",evening1:"di sera",night1:"di notte"}},"stand-alone":{abbreviated:{midnight:"mezzanotte",am:"AM",noon:"mezzogiorno",pm:"PM",morning1:"mattina",afternoon1:"pomeriggio",evening1:"sera",night1:"notte"},narrow:{midnight:"mezzanotte",am:"m.",noon:"mezzogiorno",pm:"p.",morning1:"mattina",afternoon1:"pomeriggio",evening1:"sera",night1:"notte"},wide:{midnight:"mezzanotte",am:"AM",noon:"mezzogiorno",pm:"PM",morning1:"mattina",afternoon1:"pomeriggio",evening1:"sera",night1:"notte"}}},eras:{format:{wide:{0:"avanti Cristo",1:"dopo Cristo","0-alt-variant":"avanti Era Volgare","1-alt-variant":"Era Volgare"},abbreviated:{0:"a.C.",1:"d.C.","0-alt-variant":"a.E.V.","1-alt-variant":"E.V."},narrow:{0:"aC",1:"dC","0-alt-variant":"a.E.V.","1-alt-variant":"E.V."}}},gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",dateFields:{era:{wide:"era",short:"era",narrow:"era"},year:{wide:"anno",short:"anno",narrow:"anno"},quarter:{wide:"trimestre",short:"trim.",narrow:"trim."},month:{wide:"mese",short:"mese",narrow:"mese"},week:{wide:"settimana",short:"sett.",narrow:"sett."},weekOfMonth:{wide:"settimana del mese",short:"sett. mese",narrow:"sett. mese"},day:{wide:"giorno",short:"g.",narrow:"g."},dayOfYear:{wide:"giorno dell\u2019anno",short:"giorno anno",narrow:"giorno anno"},weekday:{wide:"giorno della settimana",short:"giorno settimana",narrow:"giorno sett."},weekdayOfMonth:{wide:"giorno del mese",short:"giorno mese",narrow:"giorno mese"},dayperiod:{short:"AM/PM",wide:"AM/PM",narrow:"AM/PM"},hour:{wide:"ora",short:"h",narrow:"h"},minute:{wide:"minuto",short:"min",narrow:"min"},second:{wide:"secondo",short:"s",narrow:"s"},zone:{wide:"fuso orario",short:"fuso",narrow:"fuso"},millisecond:{narrow:"ms",short:"ms",wide:"millisecondo"}}},firstDay:1,weekendRange:{start:6,end:0},likelySubtags:{it:"it-Latn-IT"}})},910:(Ds,an,_e)=>{"use strict";function ze(T){return"string"==typeof T}_e.d(an,{MR:()=>E6,WX:()=>uc,$r:()=>AO,GP:()=>WO,Yq:()=>Sm,ZV:()=>Hv,Hh:()=>ya,DA:()=>it,pG:()=>w6,_U:()=>kl,$J:()=>UO,XO:()=>Zb,mM:()=>XO,dI:()=>qg,ve:()=>D6});const nt=/\{(\d+)}?\}/g;class s{constructor({name:R,message:N}){if(!R||!N)throw new Error("{ name: string, message: string } object is required!");this.name=R,this.message=N}formatMessage(...R){const N=rt(R),U=this.message.replace(nt,function($,Q){return N[parseInt(Q,10)]});return`${this.name}: ${U}`}error(...R){return new Error(this.formatMessage(R))}}const rt=function(T){return T.reduce((R,N)=>R.concat(N),[])},zt=(T={NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."},Object.keys(T).reduce(function(N,U){return N[U]=new s({name:U,message:T[U]}),N},{}));var T;const de={en:{name:"en",identity:{version:{_unicodeVersion:"14.0.0",_cldrVersion:"41"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":",approximatelySign:"~"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMd:"M/d/y GGGGG",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era",short:"era",narrow:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},weekOfMonth:{wide:"week of month",short:"wk. of mo.",narrow:"wk. of mo."},day:{wide:"day",short:"day",narrow:"day"},dayOfYear:{wide:"day of year",short:"day of yr.",narrow:"day of yr."},weekday:{wide:"day of the week",short:"day of wk.",narrow:"day of wk."},weekdayOfMonth:{wide:"weekday of the month",short:"wkday. of mo.",narrow:"wkday. of mo."},dayperiod:{short:"AM/PM",wide:"AM/PM",narrow:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},zone:{wide:"time zone",short:"zone",narrow:"zone"},millisecond:{narrow:"ms",short:"ms",wide:"millisecond"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}};function Cn(T){let R;return R=ze(T)?it(T):T,R}function it(T){if(de[T])return de[T];if(de.supplemental.likelySubtags){const N=T.split("-"),U=N[0],$=N.slice(1),Q=function we(T,R){const N=de.supplemental.likelySubtags;for(let U=0;U<R.length;U++){let $=N[T+"-"+R[U]];if($)return $}if(N[T])return N[T]}(U,$),me=Q?function dt(T,R){const N=T.split("-"),U=N[0],$=N[1],Q=N[2];return de[T]||-1!==R.indexOf(Q)&&de[U+"-"+Q]||-1!==R.indexOf($)&&de[U+"-"+$]||de[U]}(Q,$):null;if(me)return me}throw zt.NoLocale.error(T)}const un="decimal",di="currency",qn="accounting",wn="percent",ui="scientific",ls="$",ai="%",mt="n",qt=";",As=",",ws=".",ln="",Yd="en",dm="Formats-numberSystem-latn",gp="symbols-numberSystem-latn",dc=/([#,0.]+)/g,vr=/\xa4/g;function Mi(T){return dc.lastIndex=0,T.replace(vr,ls).replace(dc,mt).split(qt)}function Tt(T){return dc.lastIndex=0,dc.exec(T.split(qt)[0])[0].split(ws)[0].split(As).slice(1).map(function($){return $.length}).reverse()}function kn(T,R){for(let N in R)N.startsWith("unitPattern")&&(T[N]=R[N].replace("{0}",mt).replace("{1}",ls))}function Je(T,R){const N=de[T],U=N.numbers=N.numbers||{};U.symbols=U.symbols||{};for(let $ in R)if($===gp)Object.assign(U.symbols,R[$]);else if($.includes(dm)){const Q=$.substr(0,$.indexOf(dm)),me=R[$].standard;U[Q]={patterns:Mi(me)},Q===di?(U[Q].groupSize=Tt((R[un+dm]||R[$]).standard),kn(U[Q],R[$]),U[qn]={patterns:Mi(R[$][qn]),groupSize:U[Q].groupSize}):U[Q].groupSize=Tt(me)}else"currencies"===$&&(U.currencies=R[$])}const ni={s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},Xr=/y+/g,v6=[["dateFormats","short"]],TO={D:[["dateFormats","full"]],m:[["dateTimeFormats","availableFormats","MMMd"]],M:[["dateTimeFormats","availableFormats","MMMMd"]],y:[["dateTimeFormats","availableFormats","yMMM"]],Y:[["dateTimeFormats","availableFormats","yMMMM"]],F:[["dateFormats","full"],["timeFormats","medium"]],g:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","short"]],G:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","medium"]],t:[["timeFormats","short"]],T:[["timeFormats","medium"]]};function MO(T){let R=[],N=Object.getOwnPropertyNames(T);for(let U=0;U<N.length;U++)R.push(T[N[U]]);return R}function Yb(T,R){const N={};for(let U in T){let $=N[U]={};for(let Q in T[U]){let me=T[U][Q];$[Q]=R?me:MO(me)}}return N}function Ng(T,R){const N=de[T].calendar;N.days=Yb(R.days),N.months=Yb(R.months),N.quarters=Yb(R.quarters),N.dayPeriods=Yb(R.dayPeriods,!0),N.eras=function C6(T){const R={},N=R.format={},U={eraAbbr:"abbreviated",eraNames:"wide",eraNarrow:"narrow"};for(let $ in T)N[U[$]]=T[$];return R}(R.eras)}function Lv(T,R){const N=de[T].calendar,U={};for(let $ in R){const[Q,me="wide"]=$.split("-"),ht=U[Q]||{},et=R[$].displayName;et&&(ht[me]=et,U[Q]=ht)}N.dateFields=U}function Sp(T,R){const N=[];for(let U=0;U<T.length;U++){let $=T[U],Q=R;for(let me=0;me<$.length;me++)Q=Q[$[me]];N.push(Q)}return N.join(" ")}function Ya(T,R){const N=de[T].calendar,U=N.patterns={};U.d=Sp(v6,R).replace(Xr,"y");for(let Q in TO)U[Q]=Sp(TO[Q],R);for(let Q in ni)U[Q]=ni[Q];const $=R.dateTimeFormats;N.dateTimeFormats={full:$.full,long:$.long,medium:$.medium,short:$.short,availableFormats:$.availableFormats},N.timeFormats=R.timeFormats,N.dateFormats=R.dateFormats}function Jb(T,R){const N=de[T].calendar=de[T].calendar||{};for(let U in R)"timeZoneNames"===U?(N.gmtFormat=R[U].gmtFormat,N.gmtZeroFormat=R[U].gmtZeroFormat):"calendars"===U&&R[U].gregorian?(Ya(T,R[U].gregorian),Ng(T,R[U].gregorian)):"fields"===U&&Lv(T,R.fields)}function Lg(T){if(T.territory)return T.territory;const N=T.identity;let U;return U=N&&N.territory?N.territory:function qb(T,R){const N=de.supplemental.likelySubtags;let U=T.split("-");if(N){const Q=N[T]||N[U[0]];Q&&(U=Q.split("-"))}if(R)for(let Q=U.length-1;Q>=1;Q--){const me=U[Q];(me===R.variant||me===R.script)&&U.splice(Q,1)}const $=U.length;if($>1)return U[$-1].toUpperCase()}(T.name,N),T.territory=U,U}const Qb="duration-millisecond",IO="unitPattern-count-one",b6="unitPattern-count-other",Pg=/\{0\}\s?/;function at(T){return(T[IO]||T[b6]).replace(Pg,"")}function ah(T,R){T.calendar.dateFields.millisecond={narrow:at(R.narrow[Qb]),short:at(R.short[Qb]),wide:at(R.long[Qb])}}function Pv(T,R){for(let N in R)"numbers"===N?Je(T,R[N]):"dates"===N&&Jb(T,R[N])}function ya(){const T=arguments.length;for(let R=0;R<T;R++){let N=arguments[R];if(N.main){let U=Object.keys(N.main)[0],$=N.main[U],Q=de[U]=de[U]||{};$.units?ah(Q,$.units):(Q.name=Q.name||U,Q.identity=Q.identity||$.identity,Lg(Q),Pv(U,$))}else if(N.supplemental)if(N.supplemental.weekData)de.supplemental.weekData={firstDay:N.supplemental.weekData.firstDay,weekendStart:N.supplemental.weekData.weekendStart,weekendEnd:N.supplemental.weekData.weekendEnd};else if(N.supplemental.likelySubtags)de.supplemental.likelySubtags=Object.assign(de.supplemental.likelySubtags,N.supplemental.likelySubtags);else if(N.supplemental.currencyData){const U=de.supplemental.currencyData;U.region=Object.assign(U.region||{},N.supplemental.currencyData.region),U.fractions=Object.assign(U.fractions||{},N.supplemental.currencyData.fractions)}}}function Zb(T){const R=T.name,N=de[R]=de[R]||{},U=de.supplemental=de.supplemental||{};T.likelySubtags&&(U.likelySubtags=Object.assign(U.likelySubtags||{},T.likelySubtags)),T.currencyData&&(U.currencyData=U.currencyData||{},U.currencyData.fractions=Object.assign(U.currencyData.fractions||{},T.currencyData));const $=N.numbers;Object.assign(N,T),$&&T.numbers&&(N.numbers=Object.assign({},$,T.numbers))}function E6(T,R=Yd){const U=it(R).calendar.dateFields;if(!U)throw zt.NoDateFieldNames.error();const $=U[T.type]||{};return $[T.nameType]||$.wide}function uc(T,R){const{type:N,nameType:U,standAlone:$,lower:Q}=R,me=Cn(T),et=(Q?"lower-":ln)+U,Re=me.calendar[N][$?"stand-alone":"format"];let bt=Re[et];return!bt&&Q&&(bt=Re[et]=function vp(T){return Array.isArray(T)?function eE(T){const R=[];for(let N=0;N<T.length;N++)R.push(T[N].toLowerCase());return R}(T):function nd(T){const R={};for(let N in T)R[N]=T[N].toLowerCase();return R}(T)}(Re[U])),bt}function Jd(T){const R=T.split("-"),N=parseInt(R[0],10),U=parseInt(R[1],10)-1,$=parseInt(R[2],10);return new Date(N,U,$)}const{NoCurrency:hc,NoCurrencyDisplay:hi,NoSupplementalCurrency:Qn,NoCurrencyRegion:y6,NoValidCurrency:zi}=zt,id=2,um="symbol",Bn="XXX",tE={"001":"USD",150:"EUR"};function Vn(T,R,N){const $=Cn(T).numbers.currencies;if(!$){if(N)throw hc.error();return}const Q=$[R];if(Q)return Q;if(N)throw hi.error()}function Gv(T,R){return R.length-T.length}function Wr(T,R){const N=Cn(T),U=N.numbers;if(!U.localeCurrency){const $=function ch(T,R=!0){if(tE[T])return tE[T];const N=de.supplemental.currencyData;if(!N){if(R)throw Qn.error();return}const U=N.region[T];if(U)return function cs(T){let R,N,U,$;for(let Q=0;Q<T.length;Q++){const me=T[Q],ht=Object.keys(me)[0],et=me[ht];if(ht!==Bn&&"false"!==et._tender&&et._from)if(et._to){if(!U){const Re=Jd(et._from),bt=Jd(et._to);(!N||N.to<bt||N.from<Re)&&(R=ht,N={from:Re,to:bt})}}else{const Re=Jd(et._from);(!$||$<Re)&&(U=ht,$=Re)}}return U||R}(U);if(R)throw y6.error(T)}(Lg(N),R);if(!$&&R)throw zi.error(N.name);U.localeCurrency=$}return U.localeCurrency}const Uv=["sun","mon","tue","wed","thu","fri","sat"],hm="001",{NoWeekData:Fv,NoFirstDay:pc}=zt;function AO(T){const R=Cn(T);if(!isNaN(R.firstDay))return R.firstDay;const N=de.supplemental.weekData;if(!N)throw Fv.error();const U=N.firstDay[Lg(R)]||N.firstDay[hm];if(!U)throw pc.error();return R.firstDay=Uv.indexOf(U),R.firstDay}const{NoWeekData:xO}=zt;function D6(T){const R=Cn(T);if(R.weekendRange)return R.weekendRange;const N=de.supplemental.weekData;if(!N)throw xO.error();const U=Lg(R),Q=N.weekendEnd[U]||N.weekendEnd[hm];return R.weekendRange={start:Uv.indexOf(N.weekendStart[U]||N.weekendStart[hm]),end:Uv.indexOf(Q)},R.weekendRange}function w6(T){return Cn(T).numbers.symbols}function nE(T){return 1/T==-1/0}function NO(T,R={}){return R.currency||(R.currency=Wr(T,!0)),function lh(T,R){const{value:N,currency:U,currencyDisplay:$=um}=R;if("code"===$)return U;const Q=Vn(T,U,!0);let me;return me=$===um?Q["symbol-alt-narrow"]||Q[um]:typeof N>"u"||1!==N?Q["displayName-count-other"]:Q["displayName-count-one"],me}(T,R)}function Bv(T,R,N,U,$){const Q=$.numbers.symbols,me=T.indexOf(Q.decimal),ht=U.groupSize.slice();let et=ht.shift(),Re=-1!==me?me:N+1,bt=T.substring(R,Re),It=T;const Ii=bt.length;if(Ii>=et){let Ft=Ii,po=[];for(;Ft>-1;){let Pr=bt.substring(Ft-et,Ft);Pr&&po.push(Pr),Ft-=et;let Xo=ht.shift();if(et=void 0!==Xo?Xo:et,0===et){Pr=bt.substring(0,Ft),Pr&&po.push(Pr);break}}bt=po.reverse().join(Q.group),It=T.substring(0,R)+bt+T.substring(Re)}return It}function iE(T){return T===di||T===qn}function Ui(T,R=2,N=!1){const U=R-String(T).length;let $=T;if(U>0){const Q=new Array(U+1).join("0");$=N?T+Q:Q+T}return $}const Ut=20;function qd(T,R){let N=T,U=R||0;return N=N.toString().split("e"),N=Math.round(+(N[0]+"e"+(N[1]?Number(N[1])+U:U))),N=N.toString().split("e"),N=+(N[0]+"e"+(N[1]?Number(N[1])-U:-U)),N.toFixed(Math.min(U,Ut))}const k6=3,O6=0,sE=/0+$/;function Gg(T,R,N){const U=N.numbers.symbols,{style:$}=R,Q=iE($);if($===ui)return(void 0!==R.minimumFractionDigits?T.toExponential(R.minimumFractionDigits):T.toExponential()).replace(ws,U.decimal);let ht,me=T;Q&&(R.value=me,ht=NO(N,R)),$===wn&&(me*=100,ht=U.percentSign);const{minimumFractionDigits:et,maximumFractionDigits:Re}=function LO(T){let{minimumFractionDigits:R,maximumFractionDigits:N,style:U}=T;const $=iE(U);let Q;return $&&(Q=function Kt(T){let R=id,N=id;const U=((de.supplemental.currencyData||{}).fractions||{})[T];return U&&U._digits&&(N=R=parseInt(U._digits,10)),{minimumFractionDigits:R,maximumFractionDigits:N}}(T.currency)),void 0===R&&(R=$?Q.minimumFractionDigits:0),void 0===N&&(N=U===wn?Math.max(R,O6):$?Math.max(R,Q.maximumFractionDigits):Math.max(R,k6)),{minimumFractionDigits:R,maximumFractionDigits:N}}(R);me=qd(me,Re);const bt=me<0,It=nE(T),Ii=me.split(ws);let Ft=Ii[0],po=Ui(Ii[1]?Ii[1].replace(sE,ln):ln,et,!0);bt&&(Ft=Ft.substring(1)),R.minimumIntegerDigits&&(Ft=Ui(Ft,R.minimumIntegerDigits));let Xo,Pr=!1!==R.useGrouping?Bv(Ft,0,Ft.length,R,N):Ft;if(po&&(Pr+=U.decimal+po),Q&&"name"===R.currencyDisplay)Xo=function oE(T,R){const N=T.numbers.currency;let U=1!==R?N["unitPattern-count-other"]:N["unitPattern-count-one"];return R<0&&(U=U.replace(mt,`-${mt}`)),U}(N,T);else{const Jr=R.patterns;Xo=bt||It?Jr[1]||"-"+Jr[0]:Jr[0]}return Xo!==mt||bt?function Ji(T,R,N){let U=ln;for(let $=0,Q=R.length;$<Q;$++){let me=R.charAt($);U+=me===mt?T:me===ls||me===ai?N:me}return U}(Pr,Xo,ht):Pr}const Ug=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,rE="__??__";function pm(T,R){const N=T.format;-1!==N.indexOf(ai)&&(T.style=wn,T.symbol=R.numbers.symbols.percentSign,T.number*=100),-1!==N.indexOf(ls)&&(T.style=di,T.symbol=NO(R))}function aE(T){let R=T.format;if(R.indexOf("'")>-1||R.indexOf('"')>-1||R.indexOf("\\")>-1){const N=T.literals=[];T.format=R.replace(Ug,function(U){const $=U.charAt(0).replace("\\",ln),Q=U.slice(1).replace($,ln);return N.push(Q),rE})}}const Qd="#",sd="0",Bg=/(\.(?:[0-9]*[1-9])?)0+$/g,lE=/\.$/,Zn=/,/g;function jg(T,R,N){let U;return U=-1===T&&-1!==R?R:-1!==T&&-1===R?T:N?Math.min(T,R):Math.max(T,R),U}function cE(T,R,N){const U={negative:T<0,number:Math.abs(T),negativeZero:nE(T),format:R};return function Hg(T){let{number:R,format:N}=T;if(N=N.split(qt),(T.negative||T.negativeZero)&&N[1])N=N[1],T.hasNegativeFormat=!0;else if(0===R){const U=N[2];N=U||N[0],U&&function zg(T){return-1===T.indexOf(Qd)&&-1===T.indexOf(sd)}(U)&&(T.constant=U)}else N=N[0];T.format=N}(U),U.constant?U.constant:(aE(U),pm(U,N),function Be(T){T.hasGroup=T.format.indexOf(As)>-1,T.hasGroup&&(T.format=T.format.replace(Zn,ln))}(U),function Vg(T){let{number:R,format:N}=T,U=N.indexOf(ws);if(-1!==U){const $=N.lastIndexOf(sd)-U,Q=N.lastIndexOf(Qd)-U,me=$>-1,ht=Q>-1;let et=R.toString().split("e");et=et[1]?qd(R,Math.abs(et[1])):et[0],et=et.split(ws)[1]||ln;let Re=et.length,bt=-1;me||ht?me&&$>Q?Re=$:Q>$&&(ht&&Re>Q?Re=Q:me&&Re<$&&(Re=$),bt=me?$:0):(T.format=N.substring(0,U)+N.substring(U+1),U=-1,Re=0),Re>-1&&(R=qd(R,Re),bt>-1&&(R=function Vv(T,R){let N;return N=0===R?Bg:new RegExp(`(\\.[0-9]{${R}}[1-9]*)0+$`,"g"),T.replace(N,"$1").replace(lE,ln)}(R,bt)))}else R=qd(R);T.negative&&-1*R>=0&&!T.negativeZero&&(T.negative=!1),T.number=R,T.decimalIndex=U}(U),function PO(T){const R=T.format;let N=R.indexOf(Qd),U=R.indexOf(sd),$=jg(N,U,!0);N=R.lastIndexOf(Qd),U=R.lastIndexOf(sd);let Q=jg(N,U);$===R.length&&(Q=$),T.start=$,T.end=Q,T.lastZeroIndex=U}(U),function GO(T,R){let N=T.number;return-1!==T.start&&(N=function ut(T,R){const{start:N,end:U,negative:$,negativeZero:Q,format:me,decimalIndex:ht,lastZeroIndex:et,hasNegativeFormat:Re,hasGroup:bt}=T;let It=T.number;const Ii=It.toString().split(ws),Ft=me.length,po=Ii[0],Pr=Ii[1]||ln,Xo=po.length;let Jv=ln;It=me.substring(0,N),($||Q)&&!Re&&(It+="-");for(let Jr=N;Jr<Ft;Jr++){let ad=me.charAt(Jr);if(-1===ht){if(U-Jr<Xo){It+=po;break}}else if(-1!==et&&et<Jr&&(Jv=ln),ht-Jr<=Xo&&ht-Jr>-1&&(It+=po,Jr=ht),ht===Jr){It+=(Pr?R.numbers.symbols.decimal:ln)+Pr,Jr+=U-ht+1;continue}ad===sd?(It+=ad,Jv=ad):ad===Qd&&(It+=Jv)}return bt&&(It=Bv(It,N+($&&!Re?1:0),Math.max(U,Xo+N),R.numbers.decimal,R)),U>=N&&(It+=me.substring(U+1)),It}(T,R),N=function T6(T,R,N){let U=T;if(R===di||R===wn){U=ln;for(let $=0,Q=T.length;$<Q;$++){let me=T.charAt($);U+=me===ls||me===ai?N:me}}return U}(N,T.style,T.symbol),N=function Fg(T,R){let N=T;if(R){const U=R.length;for(let $=0;$<U;$++)N=N.replace(rE,R[$])}return N}(N,T.literals)),N}(U,N))}const q=/^(n|c|p|e|a)(\d*)$/i;function fm(T){let R;return R=ze(T)?function zv(T){const R=q.exec(T);if(R){const N={style:un};let U=R[1].toLowerCase();return"c"===U?N.style=di:"a"===U?N.style=qn:"p"===U?N.style=wn:"e"===U&&(N.style=ui),R[2]&&(N.minimumFractionDigits=N.maximumFractionDigits=parseInt(R[2],10)),N}}(T):T,R}function Hv(T,R=mt,N=Yd){if(null==T)return ln;if(!isFinite(T))return String(T);const U=it(N),$=fm(R);let Q;return Q=$?Gg(T,Object.assign({},U.numbers[$.style||un],$),U):cE(T,R,U),Q}function Da(T){return"number"==typeof T}const wa=/[eE][-+]?[0-9]+/,od=/\u00A0/g;function Yt(T,R){if(R.length>1){const N=(R[1]||ln).replace(ls,ln).split(mt);if(T.indexOf(N[0])>-1&&T.indexOf(N[1])>-1)return T.replace(N[0],ln).replace(N[1],ln)}}function UO(T,R=Yd,N={}){if(!T&&0!==T)return null;if(Da(T))return T;const U=it(R),$=U.numbers.symbols;let ht,Q=T.toString(),me=N||{};if(ze(N)&&(me={format:N},aE(me),Q=function qz(T,R){const N=R.literals;let U=T;if(N)for(let $=0;$<N.length;$++)U=U.replace(N[$],ln);return U}(Q,me),pm(me,U)),(me.style===wn||Q.indexOf($.percentSign)>-1)&&(Q=Q.replace($.percentSign,ln),ht=!0),wa.test(Q))return Q=parseFloat(Q.replace($.decimal,ws)),isNaN(Q)?null:Q;const{negative:et,number:Re}=function Ei(T,R,N){const U=fm(N)||{};let me,$=iE(U.style),Q=T;const ht=U.currency||Wr(R,$);if(ht){const et=function RO(T,R,N=!0){const U=Vn(T,R,N);if(U){if(!U.displays){const $=[R];for(let Q in U)$.push(U[Q]);$.sort(Gv),U.displays=$}return U.displays}}(R,ht,$);if(et)for(let Re=0;Re<et.length;Re++){let bt=et[Re];if(Q.includes(bt)){Q=Q.replace(bt,ln),$=!0;break}}if($){const Re=Yt(Q,R.numbers.currency.patterns)||Yt(Q,R.numbers.accounting.patterns);Re&&(me=!0,Q=Re)}}return{number:Q,negative:me}}(Q,U,me);Q=String(Re).trim();const bt=Q.indexOf("-");if(bt>0)return null;let It=bt>-1;return It=void 0!==et?et:It,Q=Q.replace("-",ln).replace(od," ").split($.group.replace(od," ")).join(ln).replace($.decimal,ws),Q=parseFloat(Q),isNaN(Q)?Q=null:It&&(Q*=-1),Q&&ht&&(Q=function dE(T){const R=String(T),N=R.indexOf(ws);let $=T/Math.pow(10,2);return-1===N||String($).length<=R.length+2?$:parseFloat($.toFixed(R.length-N+1+2))}(Q)),Q}const Wn=/\{(\d+)}/g;function qe(T){const R=arguments;return T.replace(Wn,(N,U)=>R[parseInt(U,10)+1])}const uE=120,hn=20,$g=[2,1,5,3,4],M6={[(-2).toString()]:8,[(-1).toString()]:6,[2..toString()]:6,[1..toString()]:3},mm={numeric:1,"2-digit":2,short:3,long:4,narrow:5},jv=/[hHmsSzZoOvVxX]/,fE=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:function Xg(T){return T.hour12?"h":"H"}},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],mE={e:"c",E:"c",M:"L",Q:"q"},$v={},To={};function Zd(T){return $v[T]||($v[T]=new RegExp(T+"+")),$v[T]}function Wg(T){const R=[];let N=T.charAt(0),U=N;for(let $=1;$<T.length;$++){let Q=T.charAt($);Q===U?N+=Q:(R.push(N),N=U=Q)}return R.push(N),R}function fc(T,R){const N=T.length;let $,Q,U=-Number.MAX_VALUE;for(let me in R){const ht=[];let et=me.replace("v","z"),Re=0;for(let bt=0;bt<N;bt++){const It=T[bt];let Ft=(Zd(It[0]).exec(et)||[])[0];if(Ft){if(et=et.replace(Ft,ln),Ft.length!==It.length){let po=Math.max(Math.min($g[Ft.length]-$g[It.length],2),-2);Re-=M6[po]}}else Re-=uE;if(ht.push(Ft),Re<U)break}et.length&&(Re-=Wg(et).length*hn),Re>U&&(U=Re,$=ht,Q=R[me])}Q=Q.replace("v","z");for(let me=0;me<N;me++){const ht=$[me];if(ht&&ht!==T[me]){const et=$[me][0];Q=Q.replace(Zd(et),T[me]),mE[et]&&(Q=Q.replace(Zd(mE[et]),T[me]))}}return Q}function cn(T,R){const N=R.calendar;let U;if(ze(T))U=N.patterns[T]?N.patterns[T]:T;else if(T){if(T.pattern)return T.pattern;let $=T.skeleton;$||(T.datetime?U=qe(N.dateTimeFormats[T.datetime],N.timeFormats[T.datetime],N.dateFormats[T.datetime]):T.date?U=N.dateFormats[T.date]:T.time?U=N.timeFormats[T.time]:$=function _E(T){let R=[];for(let N=0;N<fE.length;N++){let U=fE[N],Q=T[U.key];if(Q){let me=U.specifier||U.getSpecifier(T);R.push(me.repeat(mm[Q]))}}return R.join(ln)}(T)),$&&(U=function Cr(T,R){const N=R.calendar.dateTimeFormats.availableFormats;if(N[T])return N[T];if(To[R.name]&&To[R.name][T])return To[R.name][T];const U=T.search(jv);let $;if(U>0){const Q=T.substr(0,U),me=T.substr(U);$=qe(R.calendar.dateTimeFormats.short,N[me]||fc(Wg(me),N),N[Q]||fc(Wg(Q),N))}else $=fc(Wg(T),N);return function FO(T,R,N){To[N]||(To[N]={}),To[N][T]=R}(T,$,R.name),$}($,R))}return U||(U=N.patterns.d),U}function bp(T){let R;return T<=3?R="abbreviated":4===T?R="wide":5===T?R="narrow":6===T&&(R="short"),R}function ka(T,R,N,U,$){return uc(T,{type:R,nameType:bp(N),standAlone:U,lower:$})}function Ep(T){return"function"==typeof T}function _m(T){return!!T&&Ep(T.getTime)&&Ep(T.getMonth)}const Xv="hour",Wv="zone",Ge="weekday",Kv="quarter",Yg={G:"era",y:"year",q:Kv,Q:Kv,M:"month",L:"month",d:"day",E:Ge,c:Ge,e:Ge,h:Xv,H:Xv,k:Xv,K:Xv,m:"minute",s:"second",S:"millisecond",a:"dayperiod",x:Wv,X:Wv,z:Wv,Z:Wv},gm=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g;function gE(T,R,N,U){return R<=2?Ui(T+1,R):ka(N,"months",R,U)[T]}function br(T,R,N,U){const $=Math.floor(T.getMonth()/3);return R<3?$+1:ka(N,"quarters",R,U)[$]}function eu(T,R,N){const{shortHours:U,optionalMinutes:$,separator:Q,localizedName:me,zZeroOffset:ht}=N,et=T.getTimezoneOffset()/60;if(0===et&&ht)return"Z";const Re=et<=0?"+":"-",bt=Math.abs(et).toString().split("."),It=bt[1]||0;let Ii=Re+(U?bt[0]:Ui(bt[0],2));return(It||!$)&&(Ii+=(Q?":":ln)+Ui(It,2)),me&&(Ii=qe(0===et?R.calendar.gmtZeroFormat:R.calendar.gmtFormat,Ii)),Ii}function SE(T,R,N,U){let $;return $=R<3?function dh(T,R,N){const U=AO(N);let $;return $=T<U?7-U+T:T-U,$+1}(T.getDay(),0,N):ka(N,"days",R,U)[T.getDay()],$}const ds={};function Sm(T,R,N=Yd){if(!_m(T))return T??ln;const U=it(N);return cn(R,U).replace(gm,function(Q){let ht,me=Q.length;return ht=Q.includes("'")||Q.includes('"')?Q.slice(1,me-1):ds[Q[0]](T,me,U),ht})}function Jg(T,R,N){const U=T.getTimezoneOffset(),$=new Date(T.getTime()+6e4*(R-N)),Q=$.getTimezoneOffset();return new Date($.getTime()+6e4*(Q-U))}ds.d=function(T,R){return Ui(T.getDate(),R)},ds.E=function(T,R,N){return ka(N,"days",R)[T.getDay()]},ds.M=function(T,R,N){return gE(T.getMonth(),R,N,!1)},ds.L=function(T,R,N){return gE(T.getMonth(),R,N,!0)},ds.y=function(T,R){let N=T.getFullYear();return 2===R&&(N%=100),Ui(N,R)},ds.h=function(T,R){return Ui(T.getHours()%12||12,R)},ds.H=function(T,R){return Ui(T.getHours(),R)},ds.k=function(T,R){return Ui(T.getHours()||24,R)},ds.K=function(T,R){return Ui(T.getHours()%12,R)},ds.m=function(T,R){return Ui(T.getMinutes(),R)},ds.s=function(T,R){return Ui(T.getSeconds(),R)},ds.S=function(T,R){const N=T.getMilliseconds();let U;return U=0!==N?Ui(String(N/1e3).split(".")[1].substr(0,R),R,!0):Ui(ln,R),U},ds.a=function(T,R,N){return ka(N,"dayPeriods",R)[T.getHours()<12?"am":"pm"]},ds.z=function(T,R,N){return eu(T,N,{shortHours:R<4,optionalMinutes:R<4,separator:!0,localizedName:!0})},ds.Z=function(T,R,N){return eu(T,N,{separator:R>3,localizedName:4===R,zZeroOffset:5===R})},ds.x=function(T,R,N){return eu(T,N,{optionalMinutes:1===R,separator:3===R||5===R})},ds.X=function(T,R,N){return eu(T,N,{optionalMinutes:1===R,separator:3===R||5===R,zZeroOffset:!0})},ds.G=function(T,R,N){let U=T.getFullYear()>=0?1:0;return ka(N,"eras",R)[U]},ds.e=SE,ds.c=function(T,R,N){return SE(T,R,N,!0)},ds.q=function(T,R,N){return br(T,R,N,!0)},ds.Q=br;const vE=/([+|-]\d{1,2})(:?)(\d{2})?/,BO=/^\/Date\((.*?)\)\/$/,Ja=/[+-]\d*/,yp={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},vm=/\d+/,bE=/^ */,mc=/ *$/,Kn=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],rd=["G","g","F","Y","y","M","m","D","d","y","T","t"];function Yr(T,R,N){return!(T>=R&&T<=N)}function so(T,R){let{format:N,idx:U}=R,$=0;for(;N[U]===T;)$++,U++;return $>0&&(U-=1),R.idx=U,$}function qa(T,R){let N=T?yp[T]||new RegExp("^\\d{1,"+T+"}"):vm,U=R.value.substr(R.valueIdx,T).match(N);return U?(U=U[0],R.valueIdx+=U.length,parseInt(U,10)):null}function Oa(T,R,N){let Q,me,Re,U=0,$=T.length,ht=0,et=0;for(;U<$;U++)Q=T[U],me=Q.length,Re=R.value.substr(R.valueIdx,me),N&&(Re=Re.toLowerCase()),Re===Q&&me>ht&&(ht=me,et=U);return ht?(R.valueIdx+=ht,et+1):null}function _c(T){let R=!1;return T.value.charAt(T.valueIdx)===T.format[T.idx]&&(T.valueIdx++,R=!0),R}function Dp(T,R,N){const{shortHours:U,noSeparator:$,optionalMinutes:Q,localizedName:me,zLiteral:ht}=N;if(T.UTC=!0,ht&&"Z"===T.value.charAt(T.valueIdx))return T.valueIdx++,!1;if(me&&!Oa(function zO(T){const{gmtFormat:R,gmtZeroFormat:N}=T;if(!R)throw zt.NoGMTInfo.error();return[R.replace("{0}",ln).toLowerCase(),N.replace("{0}",ln).toLowerCase()]}(R.calendar),T,!0))return!0;const et=vE.exec(T.value.substr(T.valueIdx,6));if(!et)return!me;const Re=et[1],bt=et[3],It=parseInt(Re,10),Ii=et[2];let Ft=parseInt(bt,10);if(isNaN(It)||!U&&3!==Re.length||!Q&&isNaN(Ft)||$&&Ii||(isNaN(Ft)&&(Ft=null),Yr(It,-12,13)||Ft&&Yr(Ft,0,59)))return!0;T.valueIdx+=et[0].length,T.hoursOffset=It,T.minutesOffset=Ft}function EE(T,R,N){const U=so(T,R),$=ka(N,"months",U,"L"===T,!0),Q=U<3?qa(2,R):Oa($,R,!0);if(null===Q||Yr(Q,1,12))return!0;R.month=Q-1}function yE(T,R,N){const U=so(T,R),$=ka(N,"days",U,"c"===T,!0);let Q=U<3?qa(1,R):Oa($,R,!0);if(!Q&&0!==Q||Yr(Q,1,7))return!0}const qi={};function wE(T,R){return`${bE.exec(R)[0]}${T}${mc.exec(R)[0]}`}function R6(T,R,N){let U=cn(R,N).split(ln);const $={format:U,idx:0,value:wE(T,R),valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},Q=U.length;let me=!1;for(;$.idx<Q;$.idx++){let ht=U[$.idx];if(me)"'"===ht&&(me=!1),_c($);else if(qi[ht]){if(qi[ht]($,N))return null}else if("'"===ht)me=!0,_c($);else if(!_c($))return null}return $.valueIdx<T.length?null:function DE(T){let{year:R,month:N,day:U,hours:$,minutes:Q,seconds:me,milliseconds:ht,pmHour:et,UTC:Re,hoursOffset:bt,minutesOffset:It}=T;const Ii=null!==$||null!==Q||me||null,Ft=new Date;let po;return null===R&&null===N&&null===U&&Ii?(R=Ft.getFullYear(),N=Ft.getMonth(),U=Ft.getDate()):(null===R&&(R=Ft.getFullYear()),null===U&&(U=1)),et&&$<12&&($+=12),Re?(bt&&($+=-bt),It&&(Q+=-It*(bt<0?-1:1)),po=new Date(Date.UTC(R,N,U,$,Q,me,ht))):(po=new Date(R,N,U,$,Q,me,ht),function I6(T,R){!R&&23===T.getHours()&&T.setHours(T.getHours()+2)}(po,$)),R<100&&po.setFullYear(R),po.getDate()!==U&&void 0===Re?null:po}($)||null}function kl(T,R,N=Yd){if(!T)return null;if(_m(T))return T;let U=String(T).trim(),$=function HO(T){if(T&&0===T.indexOf("/D")){let R=BO.exec(T);if(R){R=R[1];let N=Ja.exec(R.substring(1));return R=new Date(parseInt(R,10)),N&&(N=function kE(T){const R="-"===T.substr(0,1)?-1:1;let N=T.substring(1);return N=60*parseInt(N.substr(0,2),10)+parseInt(N.substring(2),10),R*N}(N[0]),R=Jg(R,R.getTimezoneOffset(),0),R=Jg(R,0,-1*N)),R}}}(U);if($)return $;const Q=it(N);let me=R||function jO(T){const R=[],N=T.patterns,U=rd.length;for(let $=0;$<U;$++)R.push(N[rd[$]]);return R.concat(Kn)}(Q.calendar);me=Array.isArray(me)?me:[me];const ht=me.length;for(let et=0;et<ht;et++)if($=R6(U,me[et],Q),$)return $;return $}qi.d=function(T){so("d",T);const R=qa(2,T);if(null===R||Yr(R,1,31))return!0;null===T.day&&(T.day=R)},qi.E=function(T,R){if(null===Oa(ka(R,"days",so("E",T),!1,!0),T,!0))return!0},qi.M=function(T,R){return EE("M",T,R)},qi.L=function(T,R){return EE("L",T,R)},qi.y=function(T){const R=so("y",T);let N=qa(1===R?void 0:R,T);if(null===N)return!0;if(2===R){const U=(new Date).getFullYear();N=U-U%100+N,N>2029&&(N-=100)}T.year=N},qi.h=function(T){so("h",T);let R=qa(2,T);if(12===R&&(R=0),null===R||Yr(R,0,11))return!0;T.hours=R},qi.K=function(T){so("K",T);let R=qa(2,T);if(null===R||Yr(R,0,11))return!0;T.hours=R},qi.a=function(T,R){let U=ka(R,"dayPeriods",so("a",T),!1,!0);const $=Oa([U.pm],T,!0);if(!$&&!Oa([U.am],T,!0))return!0;T.pmHour=$},qi.H=function(T){so("H",T);const R=qa(2,T);if(null===R||Yr(R,0,23))return!0;T.hours=R},qi.k=function(T){so("k",T);let R=qa(2,T);if(null===R||Yr(R,1,24))return!0;T.hours=24===R?0:R},qi.m=function(T){so("m",T);const R=qa(2,T);if(null===R||Yr(R,0,59))return!0;T.minutes=R},qi.s=function(T){so("s",T);const R=qa(2,T);if(null===R||Yr(R,0,59))return!0;T.seconds=R},qi.S=function(T){const R=so("S",T),N=T.value.substr(T.valueIdx,R);let U=null;if(isNaN(parseInt(N,10))||(U=parseFloat("0."+N,10),U=qd(U,3),U*=1e3,T.valueIdx+=R),null===U||Yr(U,0,999))return!0;T.milliseconds=U},qi.z=function(T,R){const U=so("z",T)<4,$=Dp(T,R,{shortHours:U,optionalMinutes:U,localizedName:!0});if($)return $},qi.Z=function(T,R){const N=so("Z",T),U=Dp(T,R,{noSeparator:N<4,zLiteral:5===N,localizedName:4===N});if(U)return U},qi.x=function(T,R){const N=so("x",T),U=Dp(T,R,{noSeparator:3!==N&&5!==N,optionalMinutes:1===N});if(U)return U},qi.X=function(T,R){const N=so("X",T),U=Dp(T,R,{noSeparator:3!==N&&5!==N,optionalMinutes:1===N,zLiteral:!0});if(U)return U},qi.G=function(T,R){const U=ka(R,"eras",so("G",T),!1,!0);if(null===Oa([U[0],U[1]],T,!0))return!0},qi.e=function(T,R){return yE("e",T,R)},qi.c=function(T,R){return yE("c",T,R)};const A6={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}},OE="literal";function Yv(T,R){const N=T[T.length-1];N&&N.type===OE?N.pattern+=R:T.push({type:OE,pattern:R})}function $O(T){return"h"===T||"K"===T}function XO(T,R=Yd){const U=cn(T,it(R)),$=[];let Q=gm.lastIndex=0,me=gm.exec(U);for(;me;){let ht=me[0];if(Q<me.index&&Yv($,U.substring(Q,me.index)),ht.startsWith('"')||ht.startsWith("'"))Yv($,ht);else{const et=ht[0],Re=Yg[et],bt={type:Re,pattern:ht};"hour"===Re&&(bt.hour12=$O(ht));const It=A6[Re];if(It){const Ii=Da(It.minLength)?It.minLength:It.minLength[et],Ft=ht.length;Ft>=Ii&&(bt.names={type:It.type,nameType:bp(Ft),standAlone:It.standAlone===et})}$.push(bt)}Q=gm.lastIndex,me=gm.exec(U)}return Q<U.length&&Yv($,U.substring(Q)),$}const x6=/\{(\d+)(:[^}]+)?\}/g;function qg(T,R,N){if(R){if(_m(T))return Sm(T,R,N);if(Da(T))return Hv(T,R,N)}return T??ln}function WO(T,R,N){return T.replace(x6,function(U,$,Q){return qg(R[parseInt($,10)],Q?Q.substring(1):ln,N)})}},412:(Ds,an,_e)=>{"use strict";_e.d(an,{t:()=>Y});var st=_e(413);class Y extends st.B{constructor(ot){super(),this._value=ot}get value(){return this.getValue()}_subscribe(ot){const nt=super._subscribe(ot);return!nt.closed&&ot.next(this._value),nt}getValue(){const{hasError:ot,thrownError:nt,_value:s}=this;if(ot)throw nt;return this._throwIfClosed(),s}next(ot){super.next(this._value=ot)}}},985:(Ds,an,_e)=>{"use strict";_e.d(an,{c:()=>Wt});var st=_e(707),Y=_e(740),ze=_e(494),ot=_e(203),nt=_e(26),s=_e(71),rt=_e(786);let Wt=(()=>{class de{constructor(it){it&&(this._subscribe=it)}lift(it){const un=new de;return un.source=this,un.operator=it,un}subscribe(it,un,di){const qn=function we(de){return de&&de instanceof st.vU||function dt(de){return de&&(0,s.T)(de.next)&&(0,s.T)(de.error)&&(0,s.T)(de.complete)}(de)&&(0,Y.Uv)(de)}(it)?it:new st.Ms(it,un,di);return(0,rt.Y)(()=>{const{operator:wn,source:ui}=this;qn.add(wn?wn.call(qn,ui):ui?this._subscribe(qn):this._trySubscribe(qn))}),qn}_trySubscribe(it){try{return this._subscribe(it)}catch(un){it.error(un)}}forEach(it,un){return new(un=zt(un))((di,qn)=>{const wn=new st.Ms({next:ui=>{try{it(ui)}catch(ls){qn(ls),wn.unsubscribe()}},error:qn,complete:di});this.subscribe(wn)})}_subscribe(it){var un;return null===(un=this.source)||void 0===un?void 0:un.subscribe(it)}[ze.s](){return this}pipe(...it){return(0,ot.m)(it)(this)}toPromise(it){return new(it=zt(it))((un,di)=>{let qn;this.subscribe(wn=>qn=wn,wn=>di(wn),()=>un(qn))})}}return de.create=Cn=>new de(Cn),de})();function zt(de){var Cn;return null!==(Cn=de??nt.$.Promise)&&void 0!==Cn?Cn:Promise}},413:(Ds,an,_e)=>{"use strict";_e.d(an,{B:()=>rt});var st=_e(985),Y=_e(740);const ot=(0,_e(853).L)(zt=>function(){zt(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var nt=_e(908),s=_e(786);let rt=(()=>{class zt extends st.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(we){const de=new Wt(this,this);return de.operator=we,de}_throwIfClosed(){if(this.closed)throw new ot}next(we){(0,s.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const de of this.currentObservers)de.next(we)}})}error(we){(0,s.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=we;const{observers:de}=this;for(;de.length;)de.shift().error(we)}})}complete(){(0,s.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:we}=this;for(;we.length;)we.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var we;return(null===(we=this.observers)||void 0===we?void 0:we.length)>0}_trySubscribe(we){return this._throwIfClosed(),super._trySubscribe(we)}_subscribe(we){return this._throwIfClosed(),this._checkFinalizedStatuses(we),this._innerSubscribe(we)}_innerSubscribe(we){const{hasError:de,isStopped:Cn,observers:it}=this;return de||Cn?Y.Kn:(this.currentObservers=null,it.push(we),new Y.yU(()=>{this.currentObservers=null,(0,nt.o)(it,we)}))}_checkFinalizedStatuses(we){const{hasError:de,thrownError:Cn,isStopped:it}=this;de?we.error(Cn):it&&we.complete()}asObservable(){const we=new st.c;return we.source=this,we}}return zt.create=(dt,we)=>new Wt(dt,we),zt})();class Wt extends rt{constructor(dt,we){super(),this.destination=dt,this.source=we}next(dt){var we,de;null===(de=null===(we=this.destination)||void 0===we?void 0:we.next)||void 0===de||de.call(we,dt)}error(dt){var we,de;null===(de=null===(we=this.destination)||void 0===we?void 0:we.error)||void 0===de||de.call(we,dt)}complete(){var dt,we;null===(we=null===(dt=this.destination)||void 0===dt?void 0:dt.complete)||void 0===we||we.call(dt)}_subscribe(dt){var we,de;return null!==(de=null===(we=this.source)||void 0===we?void 0:we.subscribe(dt))&&void 0!==de?de:Y.Kn}}},707:(Ds,an,_e)=>{"use strict";_e.d(an,{Ms:()=>di,vU:()=>de});var st=_e(71),Y=_e(740),ze=_e(26),ot=_e(334),nt=_e(343);const s=zt("C",void 0,void 0);function zt(ai,mt,qt){return{kind:ai,value:mt,error:qt}}var dt=_e(270),we=_e(786);class de extends Y.yU{constructor(mt){super(),this.isStopped=!1,mt?(this.destination=mt,(0,Y.Uv)(mt)&&mt.add(this)):this.destination=ls}static create(mt,qt,As){return new di(mt,qt,As)}next(mt){this.isStopped?ui(function Wt(ai){return zt("N",ai,void 0)}(mt),this):this._next(mt)}error(mt){this.isStopped?ui(function rt(ai){return zt("E",void 0,ai)}(mt),this):(this.isStopped=!0,this._error(mt))}complete(){this.isStopped?ui(s,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(mt){this.destination.next(mt)}_error(mt){try{this.destination.error(mt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Cn=Function.prototype.bind;function it(ai,mt){return Cn.call(ai,mt)}class un{constructor(mt){this.partialObserver=mt}next(mt){const{partialObserver:qt}=this;if(qt.next)try{qt.next(mt)}catch(As){qn(As)}}error(mt){const{partialObserver:qt}=this;if(qt.error)try{qt.error(mt)}catch(As){qn(As)}else qn(mt)}complete(){const{partialObserver:mt}=this;if(mt.complete)try{mt.complete()}catch(qt){qn(qt)}}}class di extends de{constructor(mt,qt,As){let ws;if(super(),(0,st.T)(mt)||!mt)ws={next:mt??void 0,error:qt??void 0,complete:As??void 0};else{let ln;this&&ze.$.useDeprecatedNextContext?(ln=Object.create(mt),ln.unsubscribe=()=>this.unsubscribe(),ws={next:mt.next&&it(mt.next,ln),error:mt.error&&it(mt.error,ln),complete:mt.complete&&it(mt.complete,ln)}):ws=mt}this.destination=new un(ws)}}function qn(ai){ze.$.useDeprecatedSynchronousErrorHandling?(0,we.l)(ai):(0,ot.m)(ai)}function ui(ai,mt){const{onStoppedNotification:qt}=ze.$;qt&&dt.f.setTimeout(()=>qt(ai,mt))}const ls={closed:!0,next:nt.l,error:function wn(ai){throw ai},complete:nt.l}},740:(Ds,an,_e)=>{"use strict";_e.d(an,{Kn:()=>s,yU:()=>nt,Uv:()=>rt});var st=_e(71);const ze=(0,_e(853).L)(zt=>function(we){zt(this),this.message=we?`${we.length} errors occurred during unsubscription:\n${we.map((de,Cn)=>`${Cn+1}) ${de.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=we});var ot=_e(908);class nt{constructor(dt){this.initialTeardown=dt,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let dt;if(!this.closed){this.closed=!0;const{_parentage:we}=this;if(we)if(this._parentage=null,Array.isArray(we))for(const it of we)it.remove(this);else we.remove(this);const{initialTeardown:de}=this;if((0,st.T)(de))try{de()}catch(it){dt=it instanceof ze?it.errors:[it]}const{_finalizers:Cn}=this;if(Cn){this._finalizers=null;for(const it of Cn)try{Wt(it)}catch(un){dt=dt??[],un instanceof ze?dt=[...dt,...un.errors]:dt.push(un)}}if(dt)throw new ze(dt)}}add(dt){var we;if(dt&&dt!==this)if(this.closed)Wt(dt);else{if(dt instanceof nt){if(dt.closed||dt._hasParent(this))return;dt._addParent(this)}(this._finalizers=null!==(we=this._finalizers)&&void 0!==we?we:[]).push(dt)}}_hasParent(dt){const{_parentage:we}=this;return we===dt||Array.isArray(we)&&we.includes(dt)}_addParent(dt){const{_parentage:we}=this;this._parentage=Array.isArray(we)?(we.push(dt),we):we?[we,dt]:dt}_removeParent(dt){const{_parentage:we}=this;we===dt?this._parentage=null:Array.isArray(we)&&(0,ot.o)(we,dt)}remove(dt){const{_finalizers:we}=this;we&&(0,ot.o)(we,dt),dt instanceof nt&&dt._removeParent(this)}}nt.EMPTY=(()=>{const zt=new nt;return zt.closed=!0,zt})();const s=nt.EMPTY;function rt(zt){return zt instanceof nt||zt&&"closed"in zt&&(0,st.T)(zt.remove)&&(0,st.T)(zt.add)&&(0,st.T)(zt.unsubscribe)}function Wt(zt){(0,st.T)(zt)?zt():zt.unsubscribe()}},26:(Ds,an,_e)=>{"use strict";_e.d(an,{$:()=>st});const st={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},360:(Ds,an,_e)=>{"use strict";_e.d(an,{_:()=>Y});var st=_e(707);function Y(ot,nt,s,rt,Wt){return new ze(ot,nt,s,rt,Wt)}class ze extends st.vU{constructor(nt,s,rt,Wt,zt,dt){super(nt),this.onFinalize=zt,this.shouldUnsubscribe=dt,this._next=s?function(we){try{s(we)}catch(de){nt.error(de)}}:super._next,this._error=Wt?function(we){try{Wt(we)}catch(de){nt.error(de)}finally{this.unsubscribe()}}:super._error,this._complete=rt?function(){try{rt()}catch(we){nt.error(we)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var nt;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:s}=this;super.unsubscribe(),!s&&(null===(nt=this.onFinalize)||void 0===nt||nt.call(this))}}}},354:(Ds,an,_e)=>{"use strict";_e.d(an,{T:()=>ze});var st=_e(974),Y=_e(360);function ze(ot,nt){return(0,st.N)((s,rt)=>{let Wt=0;s.subscribe((0,Y._)(rt,zt=>{rt.next(ot.call(nt,zt,Wt++))}))})}},270:(Ds,an,_e)=>{"use strict";_e.d(an,{f:()=>st});const st={setTimeout(Y,ze,...ot){const{delegate:nt}=st;return nt?.setTimeout?nt.setTimeout(Y,ze,...ot):setTimeout(Y,ze,...ot)},clearTimeout(Y){const{delegate:ze}=st;return(ze?.clearTimeout||clearTimeout)(Y)},delegate:void 0}},494:(Ds,an,_e)=>{"use strict";_e.d(an,{s:()=>st});const st="function"==typeof Symbol&&Symbol.observable||"@@observable"},908:(Ds,an,_e)=>{"use strict";function st(Y,ze){if(Y){const ot=Y.indexOf(ze);0<=ot&&Y.splice(ot,1)}}_e.d(an,{o:()=>st})},853:(Ds,an,_e)=>{"use strict";function st(Y){const ot=Y(nt=>{Error.call(nt),nt.stack=(new Error).stack});return ot.prototype=Object.create(Error.prototype),ot.prototype.constructor=ot,ot}_e.d(an,{L:()=>st})},786:(Ds,an,_e)=>{"use strict";_e.d(an,{Y:()=>ze,l:()=>ot});var st=_e(26);let Y=null;function ze(nt){if(st.$.useDeprecatedSynchronousErrorHandling){const s=!Y;if(s&&(Y={errorThrown:!1,error:null}),nt(),s){const{errorThrown:rt,error:Wt}=Y;if(Y=null,rt)throw Wt}}else nt()}function ot(nt){st.$.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=nt)}},669:(Ds,an,_e)=>{"use strict";function st(Y){return Y}_e.d(an,{D:()=>st})},71:(Ds,an,_e)=>{"use strict";function st(Y){return"function"==typeof Y}_e.d(an,{T:()=>st})},974:(Ds,an,_e)=>{"use strict";_e.d(an,{N:()=>ze,S:()=>Y});var st=_e(71);function Y(ot){return(0,st.T)(ot?.lift)}function ze(ot){return nt=>{if(Y(nt))return nt.lift(function(s){try{return ot(s,this)}catch(rt){this.error(rt)}});throw new TypeError("Unable to lift unknown Observable type")}}},343:(Ds,an,_e)=>{"use strict";function st(){}_e.d(an,{l:()=>st})},203:(Ds,an,_e)=>{"use strict";_e.d(an,{F:()=>Y,m:()=>ze});var st=_e(669);function Y(...ot){return ze(ot)}function ze(ot){return 0===ot.length?st.D:1===ot.length?ot[0]:function(s){return ot.reduce((rt,Wt)=>Wt(rt),s)}}},334:(Ds,an,_e)=>{"use strict";_e.d(an,{m:()=>ze});var st=_e(26),Y=_e(270);function ze(ot){Y.f.setTimeout(()=>{const{onUnhandledError:nt}=st.$;if(!nt)throw ot;nt(ot)})}},438:(Ds,an,_e)=>{"use strict";_e.d(an,{bc$:()=>Ap,iLQ:()=>sG,sZ2:()=>iy,hnV:()=>JK,Hbi:()=>bfe,o8S:()=>e_,BIS:()=>UN,gRc:()=>cG,Ql9:()=>Wpe,OM3:()=>tC,Ocv:()=>efe,Z63:()=>rd,aKT:()=>S2,uvJ:()=>tu,zcH:()=>au,bkB:()=>cu,$GK:()=>hn,nKC:()=>Zn,zZn:()=>Il,_q3:()=>_G,MKu:()=>gG,xe9:()=>nI,Co$:()=>BL,Vns:()=>Kp,SKi:()=>Ko,Xx1:()=>Ge,Agw:()=>JT,PLl:()=>GN,rOR:()=>QE,sFG:()=>Sde,_9s:()=>m$,czy:()=>bh,WPN:()=>Sn,kdw:()=>Yg,C4Q:()=>J2,NYb:()=>Bpe,giA:()=>KK,RxE:()=>QP,c1b:()=>$y,gXe:()=>Oa,mal:()=>rL,L39:()=>qfe,Ol2:()=>Jy,w6W:()=>q$,oH4:()=>aY,Rfq:()=>lh,WQX:()=>cn,naY:()=>ofe,QuC:()=>Ii,EmA:()=>ad,fpN:()=>Cfe,HJs:()=>CG,N4e:()=>B6,O8t:()=>Zfe,An2:()=>HM,H3F:()=>ZP,H8p:()=>G6,KH2:()=>vC,TgB:()=>L1,wOt:()=>at,WHO:()=>XK,e01:()=>WK,lNU:()=>Pg,h9k:()=>Ch,$MX:()=>hy,ZF7:()=>Im,Kcf:()=>mj,e5t:()=>gj,UyX:()=>_j,cWb:()=>JN,osQ:()=>uy,H5H:()=>mP,Zy3:()=>ah,mq5:()=>$X,JZv:()=>zi,LfX:()=>rE,plB:()=>Hm,jNT:()=>nG,zjR:()=>YK,XSP:()=>$ue,TL$:()=>YT,Tbb:()=>Vn,rcV:()=>hd,Vt3:()=>l3,Mj6:()=>_c,GFd:()=>FL,OA$:()=>Zt,Jv_:()=>nK,aNF:()=>iK,R7$:()=>Ec,BMQ:()=>O3,HbH:()=>TX,ZvI:()=>LX,AVh:()=>oP,wni:()=>xW,VBU:()=>N,FsC:()=>ht,jDH:()=>Ji,G2t:()=>Gg,$C:()=>Q,EJ8:()=>et,rXU:()=>Pm,nrm:()=>uP,eu8:()=>hP,bVm:()=>F3,qex:()=>U3,k0s:()=>G3,j41:()=>P3,RV6:()=>jX,xGo:()=>mN,Mr5:()=>pP,nnv:()=>bW,ehv:()=>CW,uP7:()=>wP,KVO:()=>Cr,kS0:()=>JE,QTQ:()=>DM,bIt:()=>kP,lsd:()=>PW,joV:()=>BE,qSk:()=>gT,XpG:()=>wW,nI1:()=>vK,bMT:()=>CK,i5U:()=>bK,brH:()=>EK,SdG:()=>OW,NAR:()=>kW,Y8G:()=>nP,FS9:()=>TP,Mz_:()=>X3,lJ4:()=>oK,eq3:()=>rK,l_i:()=>aK,sMw:()=>lK,ziG:()=>cK,s1E:()=>dK,l4e:()=>uK,sGs:()=>hK,lV:()=>pK,zJS:()=>fK,mGM:()=>LW,sdS:()=>GW,Njj:()=>iN,eBV:()=>nN,npT:()=>g1,B4B:()=>Gp,n$t:()=>lM,Aen:()=>Eu,xc7:()=>sP,zvX:()=>fP,DNE:()=>P1,C5r:()=>yK,EFF:()=>XW,JRh:()=>PP,SpI:()=>W3,Lme:()=>GP,SjE:()=>UP,OP0:()=>fd,DH7:()=>ZW,mxI:()=>BP,R50:()=>FP,GBs:()=>NW}),_e(467);let ze=null,nt=1;const s=Symbol("SIGNAL");function rt(d){const h=ze;return ze=d,h}function it(d){if((!As(d)||d.dirty)&&(d.dirty||d.lastCleanEpoch!==nt)){if(!d.producerMustRecompute(d)&&!ls(d))return d.dirty=!1,void(d.lastCleanEpoch=nt);d.producerRecomputeValue(d),d.dirty=!1,d.lastCleanEpoch=nt}}function ls(d){ws(d);for(let h=0;h<d.producerNode.length;h++){const p=d.producerNode[h],m=d.producerLastReadVersion[h];if(m!==p.version||(it(p),m!==p.version))return!0}return!1}function qt(d,h){if(function ln(d){d.liveConsumerNode??=[],d.liveConsumerIndexOfThis??=[]}(d),ws(d),1===d.liveConsumerNode.length)for(let m=0;m<d.producerNode.length;m++)qt(d.producerNode[m],d.producerIndexOfThis[m]);const p=d.liveConsumerNode.length-1;if(d.liveConsumerNode[h]=d.liveConsumerNode[p],d.liveConsumerIndexOfThis[h]=d.liveConsumerIndexOfThis[p],d.liveConsumerNode.length--,d.liveConsumerIndexOfThis.length--,h<d.liveConsumerNode.length){const m=d.liveConsumerIndexOfThis[h],g=d.liveConsumerNode[h];ws(g),g.producerIndexOfThis[m]=h}}function As(d){return d.consumerIsAlwaysLive||(d?.liveConsumerNode?.length??0)>0}function ws(d){d.producerNode??=[],d.producerIndexOfThis??=[],d.producerLastReadVersion??=[]}let Tt=null;var qb=_e(413),Lg=_e(740),Qb=_e(412),IO=_e(354);const Pg="https://g.co/ng/security#xss";class at extends Error{constructor(h,p){super(ah(h,p)),this.code=h}}function ah(d,h){return`NG0${Math.abs(d)}${h?": "+h:""}`}function nd(d){return{toString:d}.toString()}const uc="__parameters__";function Qn(d,h,p){return nd(()=>{const m=function hi(d){return function(...p){if(d){const m=d(...p);for(const g in m)this[g]=m[g]}}}(h);function g(...C){if(this instanceof g)return m.apply(this,C),this;const E=new g(...C);return y.annotation=E,y;function y(w,M,A){const B=w.hasOwnProperty(uc)?w[uc]:Object.defineProperty(w,uc,{value:[]})[uc];for(;B.length<=A;)B.push(null);return(B[A]=B[A]||[]).push(E),w}}return p&&(g.prototype=Object.create(p.prototype)),g.prototype.ngMetadataName=d,g.annotationCls=g,g})}const zi=globalThis;function Bn(d){for(let h in d)if(d[h]===Bn)return h;throw Error("Could not find renamed property on target object.")}function tE(d,h){for(const p in h)h.hasOwnProperty(p)&&!d.hasOwnProperty(p)&&(d[p]=h[p])}function Vn(d){if("string"==typeof d)return d;if(Array.isArray(d))return"["+d.map(Vn).join(", ")+"]";if(null==d)return""+d;if(d.overriddenName)return`${d.overriddenName}`;if(d.name)return`${d.name}`;const h=d.toString();if(null==h)return""+h;const p=h.indexOf("\n");return-1===p?h:h.substring(0,p)}function Gv(d,h){return null==d||""===d?null===h?"":h:null==h||""===h?d:d+" "+h}const RO=Bn({__forward_ref__:Bn});function lh(d){return d.__forward_ref__=lh,d.toString=function(){return Vn(this())},d}function Kt(d){return ch(d)?d():d}function ch(d){return"function"==typeof d&&d.hasOwnProperty(RO)&&d.__forward_ref__===lh}function Ji(d){return{token:d.token,providedIn:d.providedIn||null,factory:d.factory,value:void 0}}function Gg(d){return{providers:d.providers||[],imports:d.imports||[]}}function Ug(d){return pm(d,Qd)||pm(d,Bg)}function rE(d){return null!==Ug(d)}function pm(d,h){return d.hasOwnProperty(h)?d[h]:null}function Fg(d){return d&&(d.hasOwnProperty(sd)||d.hasOwnProperty(lE))?d[sd]:null}const Qd=Bn({\u0275prov:Bn}),sd=Bn({\u0275inj:Bn}),Bg=Bn({ngInjectableDef:Bn}),lE=Bn({ngInjectorDef:Bn});class Zn{constructor(h,p){this._desc=h,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof p?this.__NG_ELEMENT_ID__=p:void 0!==p&&(this.\u0275prov=Ji({token:this,providedIn:p.providedIn||"root",factory:p.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function cE(d){return d&&!!d.\u0275providers}const q=Bn({\u0275cmp:Bn}),zv=Bn({\u0275dir:Bn}),fm=Bn({\u0275pipe:Bn}),Hv=Bn({\u0275mod:Bn}),Da=Bn({\u0275fac:Bn}),wa=Bn({__NG_ELEMENT_ID__:Bn}),od=Bn({__NG_ENV_ID__:Bn});function Yt(d){return"string"==typeof d?d:null==d?"":String(d)}function uE(d,h){throw new at(-201,!1)}var hn=function(d){return d[d.Default=0]="Default",d[d.Host=1]="Host",d[d.Self=2]="Self",d[d.SkipSelf=4]="SkipSelf",d[d.Optional=8]="Optional",d}(hn||{});let $g;function hE(){return $g}function Kr(d){const h=$g;return $g=d,h}function pE(d,h,p){const m=Ug(d);return m&&"root"==m.providedIn?void 0===m.value?m.value=m.factory():m.value:p&hn.Optional?null:void 0!==h?h:void uE()}const mm={},jv="__NG_DI_FLAG__",Xg="ngTempTokenPath",mE=/\n/gm,To="__source";let Zd;function fc(d){const h=Zd;return Zd=d,h}function FO(d,h=hn.Default){if(void 0===Zd)throw new at(-203,!1);return null===Zd?pE(d,void 0,h):Zd.get(d,h&hn.Optional?null:void 0,h)}function Cr(d,h=hn.Default){return(hE()||FO)(Kt(d),h)}function cn(d,h=hn.Default){return Cr(d,bp(h))}function bp(d){return typeof d>"u"||"number"==typeof d?d:(d.optional&&8)|(d.host&&1)|(d.self&&2)|(d.skipSelf&&4)}function ka(d){const h=[];for(let p=0;p<d.length;p++){const m=Kt(d[p]);if(Array.isArray(m)){if(0===m.length)throw new at(900,!1);let g,C=hn.Default;for(let E=0;E<m.length;E++){const y=m[E],w=_m(y);"number"==typeof w?-1===w?g=y.token:C|=w:g=y}h.push(Cr(g,C))}else h.push(Cr(m))}return h}function Ep(d,h){return d[jv]=h,d.prototype[jv]=h,d}function _m(d){return d[jv]}const Ge=Ep(Qn("Optional"),8),Yg=Ep(Qn("SkipSelf"),4);function dh(d,h){return d.hasOwnProperty(Da)?d[Da]:null}function eu(d,h){d.forEach(p=>Array.isArray(p)?eu(p,h):h(p))}function SE(d,h,p){h>=d.length?d.push(p):d.splice(h,0,p)}function ds(d,h){return h>=d.length-1?d.pop():d.splice(h,1)[0]}function Ja(d,h,p){let m=vm(d,h);return m>=0?d[1|m]=p:(m=~m,function vE(d,h,p,m){let g=d.length;if(g==h)d.push(p,m);else if(1===g)d.push(m,d[0]),d[0]=p;else{for(g--,d.push(d[g-1],d[g]);g>h;)d[g]=d[g-2],g--;d[h]=p,d[h+1]=m}}(d,m,h,p)),m}function yp(d,h){const p=vm(d,h);if(p>=0)return d[1|p]}function vm(d,h){return function bE(d,h,p){let m=0,g=d.length>>p;for(;g!==m;){const C=m+(g-m>>1),E=d[C<<p];if(h===E)return C<<p;E>h?g=C:m=C+1}return~(g<<p)}(d,h,1)}const mc={},Kn=[],rd=new Zn(""),VO=new Zn("",-1),Yr=new Zn("");class so{get(h,p=mm){if(p===mm){const m=new Error(`NullInjectorError: No provider for ${Vn(h)}!`);throw m.name="NullInjectorError",m}return p}}var qa=function(d){return d[d.OnPush=0]="OnPush",d[d.Default=1]="Default",d}(qa||{}),Oa=function(d){return d[d.Emulated=0]="Emulated",d[d.None=2]="None",d[d.ShadowDom=3]="ShadowDom",d}(Oa||{}),_c=function(d){return d[d.None=0]="None",d[d.SignalBased=1]="SignalBased",d[d.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",d}(_c||{});function zO(d,h,p){let m=d.length;for(;;){const g=d.indexOf(h,p);if(-1===g)return g;if(0===g||d.charCodeAt(g-1)<=32){const C=h.length;if(g+C===m||d.charCodeAt(g+C)<=32)return g}p=g+1}}function Dp(d,h,p){let m=0;for(;m<p.length;){const g=p[m];if("number"==typeof g){if(0!==g)break;m++;const C=p[m++],E=p[m++],y=p[m++];d.setAttribute(h,E,y,C)}else{const C=g,E=p[++m];yE(C)?d.setProperty(h,C,E):d.setAttribute(h,C,E),m++}}return m}function EE(d){return 3===d||4===d||6===d}function yE(d){return 64===d.charCodeAt(0)}function qi(d,h){if(null!==h&&0!==h.length)if(null===d||0===d.length)d=h.slice();else{let p=-1;for(let m=0;m<h.length;m++){const g=h[m];"number"==typeof g?p=g:0===p||DE(d,p,g,null,-1===p||2===p?h[++m]:null)}}return d}function DE(d,h,p,m,g){let C=0,E=d.length;if(-1===h)E=-1;else for(;C<d.length;){const y=d[C++];if("number"==typeof y){if(y===h){E=-1;break}if(y>h){E=C-1;break}}}for(;C<d.length;){const y=d[C];if("number"==typeof y)break;if(y===p){if(null===m)return void(null!==g&&(d[C+1]=g));if(m===d[C+1])return void(d[C+2]=g)}C++,null!==m&&C++,null!==g&&C++}-1!==E&&(d.splice(E,0,h),C=E+1),d.splice(C++,0,p),null!==m&&d.splice(C++,0,m),null!==g&&d.splice(C++,0,g)}const wE="ng-template";function R6(d,h,p,m){let g=0;if(m){for(;g<h.length&&"string"==typeof h[g];g+=2)if("class"===h[g]&&-1!==zO(h[g+1].toLowerCase(),p,0))return!0}else if(kE(d))return!1;if(g=h.indexOf(1,g),g>-1){let C;for(;++g<h.length&&"string"==typeof(C=h[g]);)if(C.toLowerCase()===p)return!0}return!1}function kE(d){return 4===d.type&&d.value!==wE}function HO(d,h,p){return h===(4!==d.type||p?d.value:wE)}function jO(d,h,p){let m=4;const g=d.attrs,C=null!==g?function $O(d){for(let h=0;h<d.length;h++)if(EE(d[h]))return h;return d.length}(g):0;let E=!1;for(let y=0;y<h.length;y++){const w=h[y];if("number"!=typeof w){if(!E)if(4&m){if(m=2|1&m,""!==w&&!HO(d,w,p)||""===w&&1===h.length){if(kl(m))return!1;E=!0}}else if(8&m){if(null===g||!R6(d,g,w,p)){if(kl(m))return!1;E=!0}}else{const M=h[++y],A=A6(w,g,kE(d),p);if(-1===A){if(kl(m))return!1;E=!0;continue}if(""!==M){let B;if(B=A>C?"":g[A+1].toLowerCase(),2&m&&M!==B){if(kl(m))return!1;E=!0}}}}else{if(!E&&!kl(m)&&!kl(w))return!1;if(E&&kl(w))continue;E=!1,m=w|1&m}}return kl(m)||E}function kl(d){return!(1&d)}function A6(d,h,p,m){if(null===h)return-1;let g=0;if(m||!p){let C=!1;for(;g<h.length;){const E=h[g];if(E===d)return g;if(3===E||6===E)C=!0;else{if(1===E||2===E){let y=h[++g];for(;"string"==typeof y;)y=h[++g];continue}if(4===E)break;if(0===E){g+=4;continue}}g+=C?1:2}return-1}return function XO(d,h){let p=d.indexOf(4);if(p>-1)for(p++;p<d.length;){const m=d[p];if("number"==typeof m)return-1;if(m===h)return p;p++}return-1}(h,d)}function OE(d,h,p=!1){for(let m=0;m<h.length;m++)if(jO(d,h[m],p))return!0;return!1}function x6(d,h){e:for(let p=0;p<h.length;p++){const m=h[p];if(d.length===m.length){for(let g=0;g<d.length;g++)if(d[g]!==m[g])continue e;return!0}}return!1}function qg(d,h){return d?":not("+h.trim()+")":h}function WO(d){let h=d[0],p=1,m=2,g="",C=!1;for(;p<d.length;){let E=d[p];if("string"==typeof E)if(2&m){const y=d[++p];g+="["+E+(y.length>0?'="'+y+'"':"")+"]"}else 8&m?g+="."+E:4&m&&(g+=" "+E);else""!==g&&!kl(E)&&(h+=qg(C,g),g=""),m=E,C=C||!kl(m);p++}return""!==g&&(h+=qg(C,g)),h}function N(d){return nd(()=>{const h=po(d),p={...h,decls:d.decls,vars:d.vars,template:d.template,consts:d.consts||null,ngContentSelectors:d.ngContentSelectors,onPush:d.changeDetection===qa.OnPush,directiveDefs:null,pipeDefs:null,dependencies:h.standalone&&d.dependencies||null,getStandaloneInjector:null,signals:d.signals??!1,data:d.data||{},encapsulation:d.encapsulation||Oa.Emulated,styles:d.styles||Kn,_:null,schemas:d.schemas||null,tView:null,id:""};Pr(p);const m=d.dependencies;return p.directiveDefs=Xo(m,!1),p.pipeDefs=Xo(m,!0),p.id=function Jr(d){let h=0;const p=[d.selectors,d.ngContentSelectors,d.hostVars,d.hostAttrs,d.consts,d.vars,d.decls,d.encapsulation,d.standalone,d.signals,d.exportAs,JSON.stringify(d.inputs),JSON.stringify(d.outputs),Object.getOwnPropertyNames(d.type.prototype),!!d.contentQueries,!!d.viewQuery].join("|");for(const g of p)h=Math.imul(31,h)+g.charCodeAt(0)|0;return h+=2147483648,"c"+h}(p),p})}function U(d){return Re(d)||bt(d)}function $(d){return null!==d}function Q(d){return nd(()=>({type:d.type,bootstrap:d.bootstrap||Kn,declarations:d.declarations||Kn,imports:d.imports||Kn,exports:d.exports||Kn,transitiveCompileScopes:null,schemas:d.schemas||null,id:d.id||null}))}function me(d,h){if(null==d)return mc;const p={};for(const m in d)if(d.hasOwnProperty(m)){const g=d[m];let C,E,y=_c.None;Array.isArray(g)?(y=g[0],C=g[1],E=g[2]??C):(C=g,E=g),h?(p[C]=y!==_c.None?[m,y]:m,h[C]=E):p[C]=m}return p}function ht(d){return nd(()=>{const h=po(d);return Pr(h),h})}function et(d){return{type:d.type,name:d.name,factory:null,pure:!1!==d.pure,standalone:!0===d.standalone,onDestroy:d.type.prototype.ngOnDestroy||null}}function Re(d){return d[q]||null}function bt(d){return d[zv]||null}function It(d){return d[fm]||null}function Ii(d){const h=Re(d)||bt(d)||It(d);return null!==h&&h.standalone}function Ft(d,h){const p=d[Hv]||null;if(!p&&!0===h)throw new Error(`Type ${Vn(d)} does not have '\u0275mod' property.`);return p}function po(d){const h={};return{type:d.type,providersResolver:null,factory:null,hostBindings:d.hostBindings||null,hostVars:d.hostVars||0,hostAttrs:d.hostAttrs||null,contentQueries:d.contentQueries||null,declaredInputs:h,inputTransforms:null,inputConfig:d.inputs||mc,exportAs:d.exportAs||null,standalone:!0===d.standalone,signals:!0===d.signals,selectors:d.selectors||Kn,viewQuery:d.viewQuery||null,features:d.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:me(d.inputs,h),outputs:me(d.outputs),debugInfo:null}}function Pr(d){d.features?.forEach(h=>h(d))}function Xo(d,h){if(!d)return null;const p=h?It:U;return()=>("function"==typeof d?d():d).map(m=>p(m)).filter($)}function ad(d){return{\u0275providers:d}}function N6(...d){return{\u0275providers:L6(0,d),\u0275fromNgModule:!0}}function L6(d,...h){const p=[],m=new Set;let g;const C=E=>{p.push(E)};return eu(h,E=>{const y=E;KO(y,C,[],m)&&(g||=[],g.push(y))}),void 0!==g&&Qz(g,C),p}function Qz(d,h){for(let p=0;p<d.length;p++){const{ngModule:m,providers:g}=d[p];TE(g,C=>{h(C,m)})}}function KO(d,h,p,m){if(!(d=Kt(d)))return!1;let g=null,C=Fg(d);const E=!C&&Re(d);if(C||E){if(E&&!E.standalone)return!1;g=d}else{const w=d.ngModule;if(C=Fg(w),!C)return!1;g=w}const y=m.has(g);if(E){if(y)return!1;if(m.add(g),E.dependencies){const w="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const M of w)KO(M,h,p,m)}}else{if(!C)return!1;{if(null!=C.imports&&!y){let M;m.add(g);try{eu(C.imports,A=>{KO(A,h,p,m)&&(M||=[],M.push(A))})}finally{}void 0!==M&&Qz(M,h)}if(!y){const M=dh(g)||(()=>new g);h({provide:g,useFactory:M,deps:Kn},g),h({provide:Yr,useValue:g,multi:!0},g),h({provide:rd,useValue:()=>Cr(g),multi:!0},g)}const w=C.providers;if(null!=w&&!y){const M=d;TE(w,A=>{h(A,M)})}}}return g!==d&&void 0!==d.providers}function TE(d,h){for(let p of d)cE(p)&&(p=p.\u0275providers),Array.isArray(p)?TE(p,h):h(p)}const eH=Bn({provide:String,useValue:Bn});function P6(d){return null!==d&&"object"==typeof d&&eH in d}function Qg(d){return"function"==typeof d}const G6=new Zn(""),YO={},iH={};let JO;function ME(){return void 0===JO&&(JO=new so),JO}class tu{}class Zg extends tu{get destroyed(){return this._destroyed}constructor(h,p,m,g){super(),this.parent=p,this.source=m,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,F6(h,E=>this.processProvider(E)),this.records.set(VO,qv(void 0,this)),g.has("environment")&&this.records.set(tu,qv(void 0,this));const C=this.records.get(G6);null!=C&&"string"==typeof C.value&&this.scopes.add(C.value),this.injectorDefTypes=new Set(this.get(Yr,Kn,hn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const h=rt(null);try{for(const m of this._ngOnDestroyHooks)m.ngOnDestroy();const p=this._onDestroyHooks;this._onDestroyHooks=[];for(const m of p)m()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),rt(h)}}onDestroy(h){return this.assertNotDestroyed(),this._onDestroyHooks.push(h),()=>this.removeOnDestroy(h)}runInContext(h){this.assertNotDestroyed();const p=fc(this),m=Kr(void 0);try{return h()}finally{fc(p),Kr(m)}}get(h,p=mm,m=hn.Default){if(this.assertNotDestroyed(),h.hasOwnProperty(od))return h[od](this);m=bp(m);const C=fc(this),E=Kr(void 0);try{if(!(m&hn.SkipSelf)){let w=this.records.get(h);if(void 0===w){const M=function Nce(d){return"function"==typeof d||"object"==typeof d&&d instanceof Zn}(h)&&Ug(h);w=M&&this.injectableDefInScope(M)?qv(U6(h),YO):null,this.records.set(h,w)}if(null!=w)return this.hydrate(h,w)}return(m&hn.Self?ME():this.parent).get(h,p=m&hn.Optional&&p===mm?null:p)}catch(y){if("NullInjectorError"===y.name){if((y[Xg]=y[Xg]||[]).unshift(Vn(h)),C)throw y;return function Kg(d,h,p,m){const g=d[Xg];throw h[To]&&g.unshift(h[To]),d.message=function Xv(d,h,p,m=null){d=d&&"\n"===d.charAt(0)&&"\u0275"==d.charAt(1)?d.slice(2):d;let g=Vn(h);if(Array.isArray(h))g=h.map(Vn).join(" -> ");else if("object"==typeof h){let C=[];for(let E in h)if(h.hasOwnProperty(E)){let y=h[E];C.push(E+":"+("string"==typeof y?JSON.stringify(y):Vn(y)))}g=`{${C.join(", ")}}`}return`${p}${m?"("+m+")":""}[${g}]: ${d.replace(mE,"\n  ")}`}("\n"+d.message,g,p,m),d.ngTokenPath=g,d[Xg]=null,d}(y,h,"R3InjectorError",this.source)}throw y}finally{Kr(E),fc(C)}}resolveInjectorInitializers(){const h=rt(null),p=fc(this),m=Kr(void 0);try{const C=this.get(rd,Kn,hn.Self);for(const E of C)E()}finally{fc(p),Kr(m),rt(h)}}toString(){const h=[],p=this.records;for(const m of p.keys())h.push(Vn(m));return`R3Injector[${h.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new at(205,!1)}processProvider(h){let p=Qg(h=Kt(h))?h:Kt(h&&h.provide);const m=function oH(d){return P6(d)?qv(void 0,d.useValue):qv(rH(d),YO)}(h);if(!Qg(h)&&!0===h.multi){let g=this.records.get(p);g||(g=qv(void 0,YO,!0),g.factory=()=>ka(g.multi),this.records.set(p,g)),p=h,g.multi.push(h)}this.records.set(p,m)}hydrate(h,p){const m=rt(null);try{return p.value===YO&&(p.value=iH,p.value=p.factory()),"object"==typeof p.value&&p.value&&function xce(d){return null!==d&&"object"==typeof d&&"function"==typeof d.ngOnDestroy}(p.value)&&this._ngOnDestroyHooks.add(p.value),p.value}finally{rt(m)}}injectableDefInScope(h){if(!h.providedIn)return!1;const p=Kt(h.providedIn);return"string"==typeof p?"any"===p||this.scopes.has(p):this.injectorDefTypes.has(p)}removeOnDestroy(h){const p=this._onDestroyHooks.indexOf(h);-1!==p&&this._onDestroyHooks.splice(p,1)}}function U6(d){const h=Ug(d),p=null!==h?h.factory:dh(d);if(null!==p)return p;if(d instanceof Zn)throw new at(204,!1);if(d instanceof Function)return function sH(d){if(d.length>0)throw new at(204,!1);const p=function aE(d){return d&&(d[Qd]||d[Bg])||null}(d);return null!==p?()=>p.factory(d):()=>new d}(d);throw new at(204,!1)}function rH(d,h,p){let m;if(Qg(d)){const g=Kt(d);return dh(g)||U6(g)}if(P6(d))m=()=>Kt(d.useValue);else if(function nH(d){return!(!d||!d.useFactory)}(d))m=()=>d.useFactory(...ka(d.deps||[]));else if(function tH(d){return!(!d||!d.useExisting)}(d))m=()=>Cr(Kt(d.useExisting));else{const g=Kt(d&&(d.useClass||d.provide));if(!function Ace(d){return!!d.deps}(d))return dh(g)||U6(g);m=()=>new g(...ka(d.deps))}return m}function qv(d,h,p=!1){return{factory:d,value:h,multi:p?[]:void 0}}function F6(d,h){for(const p of d)Array.isArray(p)?F6(p,h):p&&cE(p)?F6(p.\u0275providers,h):h(p)}function B6(d,h){d instanceof Zg&&d.assertNotDestroyed();const m=fc(d),g=Kr(void 0);try{return h()}finally{fc(m),Kr(g)}}function aH(){return void 0!==hE()||null!=function Wg(){return Zd}()}const xs=0,Ue=1,At=2,fo=3,ld=4,qr=5,Ol=6,t1=7,ks=8,Gr=9,gc=10,Qt=11,Cm=12,H6=13,Zv=14,Vs=15,e2=16,wp=17,nu=18,t2=19,eT=20,kp=21,AE=22,bm=23,On=25,j6=1,hh=7,s1=9,Mo=10;var NE=function(d){return d[d.None=0]="None",d[d.HasTransplantedViews=2]="HasTransplantedViews",d}(NE||{});function Qr(d){return Array.isArray(d)&&"object"==typeof d[j6]}function Zr(d){return Array.isArray(d)&&!0===d[j6]}function LE(d){return!!(4&d.flags)}function Op(d){return d.componentOffset>-1}function n2(d){return!(1&~d.flags)}function iu(d){return!!d.template}function $6(d){return!!(512&d[At])}class Uce{constructor(h,p,m){this.previousValue=h,this.currentValue=p,this.firstChange=m}isFirstChange(){return this.firstChange}}function fH(d,h,p,m){null!==h?h.applyValueToInputSignal(h,m):d[p]=m}function Zt(){return Sc}function Sc(d){return d.type.prototype.ngOnChanges&&(d.setInput=ii),Em}function Em(){const d=s2(this),h=d?.current;if(h){const p=d.previous;if(p===mc)d.previous=h;else for(let m in h)p[m]=h[m];d.current=null,this.ngOnChanges(h)}}function ii(d,h,p,m,g){const C=this.declaredInputs[m],E=s2(d)||function Xe(d,h){return d[mH]=h}(d,{previous:mc,current:null}),y=E.current||(E.current={}),w=E.previous,M=w[C];y[C]=new Uce(M&&M.currentValue,p,w===mc),fH(d,h,g,p)}Zt.ngInherit=!0;const mH="__ngSimpleChanges__";function s2(d){return d[mH]||null}const oo=function(d,h,p){},_H="svg";let SH=!1;function pi(d){for(;Array.isArray(d);)d=d[xs];return d}function o2(d,h){return pi(h[d])}function Ta(d,h){return pi(h[d.index])}function o1(d,h){return d.data[h]}function r1(d,h){return d[h]}function Tl(d,h){const p=h[d];return Qr(p)?p:p[xs]}function GE(d){return!(128&~d[At])}function ph(d,h){return null==h?null:d[h]}function oT(d){d[wp]=0}function bH(d){1024&d[At]||(d[At]|=1024,GE(d)&&a2(d))}function rT(d){return!!(9216&d[At]||d[bm]?.dirty)}function aT(d){d[gc].changeDetectionScheduler?.notify(1),rT(d)?a2(d):64&d[At]&&(function Q6(){return SH}()?(d[At]|=1024,a2(d)):d[gc].changeDetectionScheduler?.notify())}function a2(d){d[gc].changeDetectionScheduler?.notify();let h=ym(d);for(;null!==h&&!(8192&h[At])&&(h[At]|=8192,GE(h));)h=ym(h)}function UE(d,h){if(!(256&~d[At]))throw new at(911,!1);null===d[kp]&&(d[kp]=[]),d[kp].push(h)}function ym(d){const h=d[fo];return Zr(h)?h[fo]:h}const pn={lFrame:fT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function tN(){return pn.bindingsEnabled}function a1(){return null!==pn.skipHydrationRootTNode}function pe(){return pn.lFrame.lView}function si(){return pn.lFrame.tView}function nN(d){return pn.lFrame.contextLView=d,d[ks]}function iN(d){return pn.lFrame.contextLView=null,d}function Hi(){let d=sN();for(;null!==d&&64===d.type;)d=d.parent;return d}function sN(){return pn.lFrame.currentTNode}function su(d,h){const p=pn.lFrame;p.currentTNode=d,p.isParent=h}function cT(){return pn.lFrame.isParent}function dT(){pn.lFrame.isParent=!1}function Ma(){const d=pn.lFrame;let h=d.bindingRootIndex;return-1===h&&(h=d.bindingRootIndex=d.tView.bindingStartIndex),h}function fh(){return pn.lFrame.bindingIndex}function vc(){return pn.lFrame.bindingIndex++}function dd(d){const h=pn.lFrame,p=h.bindingIndex;return h.bindingIndex=h.bindingIndex+d,p}function Ml(d,h){const p=pn.lFrame;p.bindingIndex=p.bindingRootIndex=d,hT(h)}function hT(d){pn.lFrame.currentDirectiveIndex=d}function c2(d){const h=pn.lFrame.currentDirectiveIndex;return-1===h?null:d[h]}function pT(){return pn.lFrame.currentQueryIndex}function ou(d){pn.lFrame.currentQueryIndex=d}function rN(d){const h=d[Ue];return 2===h.type?h.declTNode:1===h.type?d[qr]:null}function aN(d,h,p){if(p&hn.SkipSelf){let g=h,C=d;for(;!(g=g.parent,null!==g||p&hn.Host||(g=rN(C),null===g||(C=C[Zv],10&g.type))););if(null===g)return!1;h=g,d=C}const m=pn.lFrame=cN();return m.currentTNode=h,m.lView=d,!0}function lN(d){const h=cN(),p=d[Ue];pn.lFrame=h,h.currentTNode=p.firstChild,h.lView=d,h.tView=p,h.contextLView=d,h.bindingIndex=p.bindingStartIndex,h.inI18n=!1}function cN(){const d=pn.lFrame,h=null===d?null:d.child;return null===h?fT(d):h}function fT(d){const h={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:d,child:null,inI18n:!1};return null!==d&&(d.child=h),h}function mT(){const d=pn.lFrame;return pn.lFrame=d.parent,d.currentTNode=null,d.lView=null,d}const AH=mT;function d2(){const d=mT();d.isParent=!0,d.tView=null,d.selectedIndex=-1,d.contextLView=null,d.elementDepthCount=0,d.currentDirectiveIndex=-1,d.currentNamespace=null,d.bindingRootIndex=-1,d.bindingIndex=-1,d.currentQueryIndex=0}function yr(){return pn.lFrame.selectedIndex}function Dm(d){pn.lFrame.selectedIndex=d}function Os(){const d=pn.lFrame;return o1(d.tView,d.selectedIndex)}function gT(){pn.lFrame.currentNamespace=_H}function BE(){!function VE(){pn.lFrame.currentNamespace=null}()}let h2=!0;function l1(){return h2}function Cc(d){h2=d}function c1(d,h){for(let p=h.directiveStart,m=h.directiveEnd;p<m;p++){const C=d.data[p].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:y,ngAfterViewInit:w,ngAfterViewChecked:M,ngOnDestroy:A}=C;E&&(d.contentHooks??=[]).push(-p,E),y&&((d.contentHooks??=[]).push(p,y),(d.contentCheckHooks??=[]).push(p,y)),w&&(d.viewHooks??=[]).push(-p,w),M&&((d.viewHooks??=[]).push(p,M),(d.viewCheckHooks??=[]).push(p,M)),null!=A&&(d.destroyHooks??=[]).push(p,A)}}function wm(d,h,p){vT(d,h,3,p)}function zE(d,h,p,m){(3&d[At])===p&&vT(d,h,p,m)}function ST(d,h){let p=d[At];(3&p)===h&&(p&=16383,p+=1,d[At]=p)}function vT(d,h,p,m){const C=m??-1,E=h.length-1;let y=0;for(let w=void 0!==m?65535&d[wp]:0;w<E;w++)if("number"==typeof h[w+1]){if(y=h[w],null!=m&&y>=m)break}else h[w]<0&&(d[wp]+=65536),(y<C||-1==C)&&(km(d,p,h,w),d[wp]=(4294901760&d[wp])+w+2),w++}function ud(d,h){oo(4,d,h);const p=rt(null);try{h.call(d)}finally{rt(p),oo(5,d,h)}}function km(d,h,p,m){const g=p[m]<0,C=p[m+1],y=d[g?-p[m]:p[m]];g?d[At]>>14<d[wp]>>16&&(3&d[At])===h&&(d[At]+=16384,ud(y,C)):ud(y,C)}const ru=-1;class p2{constructor(h,p,m){this.factory=h,this.resolving=!1,this.canSeeViewProviders=p,this.injectImpl=m}}function ET(d){return d!==ru}function Ur(d){return 32767&d}function m2(d,h){let p=function yT(d){return d>>16}(d),m=h;for(;p>0;)m=m[Zv],p--;return m}let jE=!0;function DT(d){const h=jE;return jE=d,h}const LH=255,PH=5;let Vce=0;const gh={};function XE(d,h){const p=dN(d,h);if(-1!==p)return p;const m=h[Ue];m.firstCreatePass&&(d.injectorIndex=h.length,wT(m.data,d),wT(h,null),wT(m.blueprint,null));const g=Om(d,h),C=d.injectorIndex;if(ET(g)){const E=Ur(g),y=m2(g,h),w=y[Ue].data;for(let M=0;M<8;M++)h[C+M]=y[E+M]|w[E+M]}return h[C+8]=g,C}function wT(d,h){d.push(0,0,0,0,0,0,0,0,h)}function dN(d,h){return-1===d.injectorIndex||d.parent&&d.parent.injectorIndex===d.injectorIndex||null===h[d.injectorIndex+8]?-1:d.injectorIndex}function Om(d,h){if(d.parent&&-1!==d.parent.injectorIndex)return d.parent.injectorIndex;let p=0,m=null,g=h;for(;null!==g;){if(m=_N(g),null===m)return ru;if(p++,g=g[Zv],-1!==m.injectorIndex)return m.injectorIndex|p<<16}return ru}function d1(d,h,p){!function $E(d,h,p){let m;"string"==typeof p?m=p.charCodeAt(0)||0:p.hasOwnProperty(wa)&&(m=p[wa]),null==m&&(m=p[wa]=Vce++);const g=m&LH;h.data[d+(g>>PH)]|=1<<g}(d,h,p)}function kT(d,h,p){if(p&hn.Optional||void 0!==d)return d;uE()}function hN(d,h,p,m){if(p&hn.Optional&&void 0===m&&(m=null),!(p&(hn.Self|hn.Host))){const g=d[Gr],C=Kr(void 0);try{return g?g.get(h,m,p&hn.Optional):pE(h,m,p&hn.Optional)}finally{Kr(C)}}return kT(m,0,p)}function WE(d,h,p,m=hn.Default,g){if(null!==d){if(2048&h[At]&&!(m&hn.Self)){const E=function FH(d,h,p,m,g){let C=d,E=h;for(;null!==C&&null!==E&&2048&E[At]&&!(512&E[At]);){const y=OT(C,E,p,m|hn.Self,gh);if(y!==gh)return y;let w=C.parent;if(!w){const M=E[eT];if(M){const A=M.get(p,gh,m);if(A!==gh)return A}w=_N(E),E=E[Zv]}C=w}return g}(d,h,p,m,gh);if(E!==gh)return E}const C=OT(d,h,p,m,gh);if(C!==gh)return C}return hN(h,p,m,g)}function OT(d,h,p,m,g){const C=function UH(d){if("string"==typeof d)return d.charCodeAt(0)||0;const h=d.hasOwnProperty(wa)?d[wa]:void 0;return"number"==typeof h?h>=0?h&LH:YE:h}(p);if("function"==typeof C){if(!aN(h,d,m))return m&hn.Host?kT(g,0,m):hN(h,p,m,g);try{let E;if(E=C(m),null!=E||m&hn.Optional)return E;uE()}finally{AH()}}else if("number"==typeof C){let E=null,y=dN(d,h),w=ru,M=m&hn.Host?h[Vs][qr]:null;for((-1===y||m&hn.SkipSelf)&&(w=-1===y?Om(d,h):h[y+8],w!==ru&&fN(m,!1)?(E=h[Ue],y=Ur(w),h=m2(w,h)):y=-1);-1!==y;){const A=h[Ue];if(pN(C,y,A.data)){const B=GH(y,h,p,E,m,M);if(B!==gh)return B}w=h[y+8],w!==ru&&fN(m,h[Ue].data[y+8]===M)&&pN(C,y,h)?(E=A,y=Ur(w),h=m2(w,h)):y=-1}}return g}function GH(d,h,p,m,g,C){const E=h[Ue],y=E.data[d+8],A=KE(y,E,p,null==m?Op(y)&&jE:m!=E&&!!(3&y.type),g&hn.Host&&C===y);return null!==A?Tm(h,E,A,y):gh}function KE(d,h,p,m,g){const C=d.providerIndexes,E=h.data,y=1048575&C,w=d.directiveStart,A=C>>20,K=g?y+A:d.directiveEnd;for(let Z=m?y:y+A;Z<K;Z++){const re=E[Z];if(Z<w&&p===re||Z>=w&&re.type===p)return Z}if(g){const Z=E[w];if(Z&&iu(Z)&&Z.type===p)return w}return null}function Tm(d,h,p,m){let g=d[p];const C=h.data;if(function CT(d){return d instanceof p2}(g)){const E=g;E.resolving&&function UO(d,h){throw h&&h.join(" > "),new at(-200,d)}(function Ei(d){return"function"==typeof d?d.name||d.toString():"object"==typeof d&&null!=d&&"function"==typeof d.type?d.type.name||d.type.toString():Yt(d)}(C[p]));const y=DT(E.canSeeViewProviders);E.resolving=!0;const M=E.injectImpl?Kr(E.injectImpl):null;aN(d,m,hn.Default);try{g=d[p]=E.factory(void 0,C,d,m),h.firstCreatePass&&p>=m.directiveStart&&function _h(d,h,p){const{ngOnChanges:m,ngOnInit:g,ngDoCheck:C}=h.type.prototype;if(m){const E=Sc(h);(p.preOrderHooks??=[]).push(d,E),(p.preOrderCheckHooks??=[]).push(d,E)}g&&(p.preOrderHooks??=[]).push(0-d,g),C&&((p.preOrderHooks??=[]).push(d,C),(p.preOrderCheckHooks??=[]).push(d,C))}(p,C[p],h)}finally{null!==M&&Kr(M),DT(y),E.resolving=!1,AH()}}return g}function pN(d,h,p){return!!(p[h+(d>>PH)]&1<<d)}function fN(d,h){return!(d&hn.Self||d&hn.Host&&h)}class Io{constructor(h,p){this._tNode=h,this._lView=p}get(h,p,m){return WE(this._tNode,this._lView,h,bp(m),p)}}function YE(){return new Io(Hi(),pe())}function mN(d){return nd(()=>{const h=d.prototype.constructor,p=h[Da]||TT(h),m=Object.prototype;let g=Object.getPrototypeOf(d.prototype).constructor;for(;g&&g!==m;){const C=g[Da]||TT(g);if(C&&C!==p)return C;g=Object.getPrototypeOf(g)}return C=>new C})}function TT(d){return ch(d)?()=>{const h=TT(Kt(d));return h&&h()}:dh(d)}function _N(d){const h=d[Ue],p=h.type;return 2===p?h.declTNode:1===p?d[qr]:null}function JE(d){return function uN(d,h){if("class"===h)return d.classes;if("style"===h)return d.styles;const p=d.attrs;if(p){const m=p.length;let g=0;for(;g<m;){const C=p[g];if(EE(C))break;if(0===C)g+=2;else if("number"==typeof C)for(g++;g<m&&"string"==typeof p[g];)g++;else{if(C===h)return p[g+1];g+=2}}}return null}(Hi(),d)}function vN(d,h=null,p=null,m){const g=CN(d,h,p,m);return g.resolveInjectorInitializers(),g}function CN(d,h=null,p=null,m,g=new Set){const C=[p||Kn,N6(d)];return m=m||("object"==typeof d?void 0:Vn(d)),new Zg(C,h||ME(),m||null,g)}let Il=(()=>{class d{static#e=this.THROW_IF_NOT_FOUND=mm;static#t=this.NULL=new so;static create(p,m){if(Array.isArray(p))return vN({name:""},m,p,"");{const g=p.name??"";return vN({name:g},p.parent,p.providers,g)}}static#n=this.\u0275prov=Ji({token:d,providedIn:"any",factory:()=>Cr(VO)});static#i=this.__NG_ELEMENT_ID__=-1}return d})();function NT(d){return d.ngOriginalError}class au{constructor(){this._console=console}handleError(h){const p=this._findOriginalError(h);this._console.error("ERROR",h),p&&this._console.error("ORIGINAL ERROR",p)}_findOriginalError(h){let p=h&&NT(h);for(;p&&NT(p);)p=NT(p);return p||null}}const bN=new Zn("",{providedIn:"root",factory:()=>cn(au).handleError.bind(void 0)});let Mp=(()=>{class d{static#e=this.__NG_ELEMENT_ID__=$H;static#t=this.__NG_ENV_ID__=p=>p}return d})();class jH extends Mp{constructor(h){super(),this._lView=h}onDestroy(h){return UE(this._lView,h),()=>function lT(d,h){if(null===d[kp])return;const p=d[kp].indexOf(h);-1!==p&&d[kp].splice(p,1)}(this._lView,h)}}function $H(){return new jH(pe())}function g2(){return Ip(Hi(),pe())}function Ip(d,h){return new S2(Ta(d,h))}let S2=(()=>{class d{constructor(p){this.nativeElement=p}static#e=this.__NG_ELEMENT_ID__=g2}return d})();function DN(d){return d instanceof S2?d.nativeElement:d}function PT(d){return h=>{setTimeout(d,void 0,h)}}const cu=class LT extends qb.B{constructor(h=!1){super(),this.destroyRef=void 0,this.__isAsync=h,aH()&&(this.destroyRef=cn(Mp,{optional:!0})??void 0)}emit(h){const p=rt(null);try{super.next(h)}finally{rt(p)}}subscribe(h,p,m){let g=h,C=p||(()=>null),E=m;if(h&&"object"==typeof h){const w=h;g=w.next?.bind(w),C=w.error?.bind(w),E=w.complete?.bind(w)}this.__isAsync&&(C=PT(C),g&&(g=PT(g)),E&&(E=PT(E)));const y=super.subscribe({next:g,error:C,complete:E});return h instanceof Lg.yU&&h.add(y),y}};function qE(){return this._results[Symbol.iterator]()}class QE{static#e=Symbol.iterator;get changes(){return this._changes??=new cu}constructor(h=!1){this._emitDistinctChangesOnly=h,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const p=QE.prototype;p[Symbol.iterator]||(p[Symbol.iterator]=qE)}get(h){return this._results[h]}map(h){return this._results.map(h)}filter(h){return this._results.filter(h)}find(h){return this._results.find(h)}reduce(h,p){return this._results.reduce(h,p)}forEach(h){this._results.forEach(h)}some(h){return this._results.some(h)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(h,p){this.dirty=!1;const m=function br(d){return d.flat(Number.POSITIVE_INFINITY)}(h);(this._changesDetected=!function gE(d,h,p){if(d.length!==h.length)return!1;for(let m=0;m<d.length;m++){let g=d[m],C=h[m];if(p&&(g=p(g),C=p(C)),C!==g)return!1}return!0}(this._results,m,p))&&(this._results=m,this.length=m.length,this.last=m[this.length-1],this.first=m[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(h){this._onDirty=h}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Sh(d){return!(128&~d.flags)}const UT=new Map;let kN=0;const ey="__ngContext__";function Ia(d,h){Qr(h)?(d[ey]=h[t2],function ON(d){UT.set(d[t2],d)}(h)):d[ey]=h}function HT(d){return ZH(d[Cm])}function xN(d){return ZH(d[ld])}function ZH(d){for(;null!==d&&!Zr(d);)d=d[ld];return d}let KT;function YT(d){KT=d}function Rp(){if(void 0!==KT)return KT;if(typeof document<"u")return document;throw new at(210,!1)}const iy=new Zn("",{providedIn:"root",factory:()=>PN}),PN="ng",GN=new Zn(""),JT=new Zn("",{providedIn:"platform",factory:()=>"unknown"}),Ap=new Zn(""),UN=new Zn("",{providedIn:"root",factory:()=>Rp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let nM=()=>null;function iM(d,h,p=!1){return nM(d,h,p)}const XN=new Zn("",{providedIn:"root",factory:()=>!1});let O2,An;function Lp(d){return function T2(){if(void 0===O2&&(O2=null,zi.trustedTypes))try{O2=zi.trustedTypes.createPolicy("angular",{createHTML:d=>d,createScript:d=>d,createScriptURL:d=>d})}catch{}return O2}()?.createHTML(d)||d}function oM(){if(void 0===An&&(An=null,zi.trustedTypes))try{An=zi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:d=>d,createScript:d=>d,createScriptURL:d=>d})}catch{}return An}function WN(d){return oM()?.createHTML(d)||d}function YN(d){return oM()?.createScriptURL(d)||d}class Pp{constructor(h){this.changingThisBreaksApplicationSecurity=h}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Pg})`}}class hj extends Pp{getTypeName(){return"HTML"}}class Mm extends Pp{getTypeName(){return"Style"}}class V extends Pp{getTypeName(){return"Script"}}class pj extends Pp{getTypeName(){return"URL"}}class fj extends Pp{getTypeName(){return"ResourceURL"}}function hd(d){return d instanceof Pp?d.changingThisBreaksApplicationSecurity:d}function Im(d,h){const p=function vh(d){return d instanceof Pp&&d.getTypeName()||null}(d);if(null!=p&&p!==h){if("ResourceURL"===p&&"URL"===h)return!0;throw new Error(`Required a safe ${h}, got a ${p} (see ${Pg})`)}return p===h}function mj(d){return new hj(d)}function JN(d){return new Mm(d)}function _j(d){return new V(d)}function uy(d){return new pj(d)}function gj(d){return new fj(d)}class _1{constructor(h){this.inertDocumentHelper=h}getInertBodyElement(h){h="<body><remove></remove>"+h;try{const p=(new window.DOMParser).parseFromString(Lp(h),"text/html").body;return null===p?this.inertDocumentHelper.getInertBodyElement(h):(p.removeChild(p.firstChild),p)}catch{return null}}}class Sj{constructor(h){this.defaultDoc=h,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(h){const p=this.inertDocument.createElement("template");return p.innerHTML=Lp(h),p}}const qN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function hy(d){return(d=String(d)).match(qN)?d:"unsafe:"+d}function Al(d){const h={};for(const p of d.split(","))h[p]=!0;return h}function Dr(...d){const h={};for(const p of d)for(const m in p)p.hasOwnProperty(m)&&(h[m]=!0);return h}const vj=Al("area,br,col,hr,img,wbr"),QN=Al("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),be=Al("rp,rt"),le=Dr(vj,Dr(QN,Al("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Dr(be,Al("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dr(be,QN)),We=Al("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),R2=Dr(We,Al("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Al("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),t8=Al("script,style,template");class bj{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(h){let p=h.firstChild,m=!0,g=[];for(;p;)if(p.nodeType===Node.ELEMENT_NODE?m=this.startElement(p):p.nodeType===Node.TEXT_NODE?this.chars(p.nodeValue):this.sanitizedSomething=!0,m&&p.firstChild)g.push(p),p=F(p);else for(;p;){p.nodeType===Node.ELEMENT_NODE&&this.endElement(p);let C=du(p);if(C){p=C;break}p=g.pop()}return this.buf.join("")}startElement(h){const p=pd(h).toLowerCase();if(!le.hasOwnProperty(p))return this.sanitizedSomething=!0,!t8.hasOwnProperty(p);this.buf.push("<"),this.buf.push(p);const m=h.attributes;for(let g=0;g<m.length;g++){const C=m.item(g),E=C.name,y=E.toLowerCase();if(!R2.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let w=C.value;We[y]&&(w=hy(w)),this.buf.push(" ",E,'="',s8(w),'"')}return this.buf.push(">"),!0}endElement(h){const p=pd(h).toLowerCase();le.hasOwnProperty(p)&&!vj.hasOwnProperty(p)&&(this.buf.push("</"),this.buf.push(p),this.buf.push(">"))}chars(h){this.buf.push(s8(h))}}function du(d){const h=d.nextSibling;if(h&&d!==h.previousSibling)throw n8(h);return h}function F(d){const h=d.firstChild;if(h&&function Rm(d,h){return(d.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(d,h))throw n8(h);return h}function pd(d){const h=d.nodeName;return"string"==typeof h?h:"FORM"}function n8(d){return new Error(`Failed to sanitize html because the element is clobbered: ${d.outerHTML}`)}const i8=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rM=/([^\#-~ |!])/g;function s8(d){return d.replace(/&/g,"&amp;").replace(i8,function(h){return"&#"+(1024*(h.charCodeAt(0)-55296)+(h.charCodeAt(1)-56320)+65536)+";"}).replace(rM,function(h){return"&#"+h.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let A2;function Ch(d,h){let p=null;try{A2=A2||function ar(d){const h=new Sj(d);return function I2(){try{return!!(new window.DOMParser).parseFromString(Lp(""),"text/html")}catch{return!1}}()?new _1(h):h}(d);let m=h?String(h):"";p=A2.getInertBodyElement(m);let g=5,C=m;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,m=C,C=p.innerHTML,p=A2.getInertBodyElement(m)}while(m!==C);return Lp((new bj).sanitizeChildren(x2(p)||p))}finally{if(p){const m=x2(p)||p;for(;m.firstChild;)m.removeChild(m.firstChild)}}}function x2(d){return"content"in d&&function mo(d){return d.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===d.nodeName}(d)?d.content:null}var Sn=function(d){return d[d.NONE=0]="NONE",d[d.HTML=1]="HTML",d[d.STYLE=2]="STYLE",d[d.SCRIPT=3]="SCRIPT",d[d.URL=4]="URL",d[d.RESOURCE_URL=5]="RESOURCE_URL",d}(Sn||{});function g1(d){const h=S1();return h?WN(h.sanitize(Sn.HTML,d)||""):Im(d,"HTML")?WN(hd(d)):Ch(Rp(),Yt(d))}function Gp(d){const h=S1();return h?h.sanitize(Sn.URL,d)||"":Im(d,"URL")?hd(d):hy(Yt(d))}function o8(d){const h=S1();if(h)return YN(h.sanitize(Sn.RESOURCE_URL,d)||"");if(Im(d,"ResourceURL"))return YN(hd(d));throw new at(904,!1)}function fd(d){return Lp(d[0])}function lM(d,h,p){return function r8(d,h){return"src"===h&&("embed"===d||"frame"===d||"iframe"===d||"media"===d||"script"===d)||"href"===h&&("base"===d||"link"===d)?o8:Gp}(h,p)(d)}function S1(){const d=pe();return d&&d[gc].sanitizer}const a8=/^>|^->|<!--|-->|--!>|<!-$/g,Dj=/(<|>)/g,l8="\u200b$1\u200b";function xl(d){return d instanceof Function?d():d}var bh=function(d){return d[d.Important=1]="Important",d[d.DashCase=2]="DashCase",d}(bh||{});let mM;function gy(d,h){return mM(d,h)}function Eh(d,h,p,m,g){if(null!=m){let C,E=!1;Zr(m)?C=m:Qr(m)&&(E=!0,m=m[xs]);const y=pi(m);0===d&&null!==p?null==g?G2(h,p,y):ta(h,p,y,g||null,!0):1===d&&null!==p?ta(h,p,y,g||null,!0):2===d?B2(h,y,E):3===d&&h.destroyNode(y),null!=C&&function ade(d,h,p,m,g){const C=p[hh];C!==pi(p)&&Eh(h,d,m,C,g);for(let y=Mo;y<p.length;y++){const w=p[y];V2(w[Ue],w,d,h,m,C)}}(h,d,C,p,g)}}function xm(d,h){return d.createText(h)}function Sy(d,h,p){d.setValue(h,p)}function vy(d,h){return d.createComment(function c8(d){return d.replace(a8,h=>h.replace(Dj,l8))}(h))}function L2(d,h,p){return d.createElement(h,p)}function _8(d,h){h[gc].changeDetectionScheduler?.notify(1),V2(d,h,h[Qt],2,null,null)}function y1(d,h){const p=d[s1],m=p.indexOf(h);p.splice(m,1)}function P2(d,h){if(d.length<=Mo)return;const p=Mo+h,m=d[p];if(m){const g=m[e2];null!==g&&g!==d&&y1(g,m),h>0&&(d[p-1][ld]=m[ld]);const C=ds(d,Mo+h);!function Mj(d,h){_8(d,h),h[xs]=null,h[qr]=null}(m[Ue],m);const E=C[nu];null!==E&&E.detachView(C[Ue]),m[fo]=null,m[ld]=null,m[At]&=-129}return m}function D1(d,h){if(!(256&h[At])){const p=h[Qt];p.destroyNode&&V2(d,h,p,3,null,null),function Ij(d){let h=d[Cm];if(!h)return _M(d[Ue],d);for(;h;){let p=null;if(Qr(h))p=h[Cm];else{const m=h[Mo];m&&(p=m)}if(!p){for(;h&&!h[ld]&&h!==d;)Qr(h)&&_M(h[Ue],h),h=h[fo];null===h&&(h=d),Qr(h)&&_M(h[Ue],h),p=h&&h[ld]}h=p}}(h)}}function _M(d,h){if(256&h[At])return;const p=rt(null);try{h[At]&=-129,h[At]|=256,h[bm]&&function ai(d){if(ws(d),As(d))for(let h=0;h<d.producerNode.length;h++)qt(d.producerNode[h],d.producerIndexOfThis[h]);d.producerNode.length=d.producerLastReadVersion.length=d.producerIndexOfThis.length=0,d.liveConsumerNode&&(d.liveConsumerNode.length=d.liveConsumerIndexOfThis.length=0)}(h[bm]),function v8(d,h){let p;if(null!=d&&null!=(p=d.destroyHooks))for(let m=0;m<p.length;m+=2){const g=h[p[m]];if(!(g instanceof p2)){const C=p[m+1];if(Array.isArray(C))for(let E=0;E<C.length;E+=2){const y=g[C[E]],w=C[E+1];oo(4,y,w);try{w.call(y)}finally{oo(5,y,w)}}else{oo(4,g,C);try{C.call(g)}finally{oo(5,g,C)}}}}}(d,h),function S8(d,h){const p=d.cleanup,m=h[t1];if(null!==p)for(let C=0;C<p.length-1;C+=2)if("string"==typeof p[C]){const E=p[C+3];E>=0?m[E]():m[-E].unsubscribe(),C+=2}else p[C].call(m[p[C+1]]);null!==m&&(h[t1]=null);const g=h[kp];if(null!==g){h[kp]=null;for(let C=0;C<g.length;C++)(0,g[C])()}}(d,h),1===h[Ue].type&&h[Qt].destroy();const m=h[e2];if(null!==m&&Zr(h[fo])){m!==h[fo]&&y1(m,h);const g=h[nu];null!==g&&g.detachView(d)}!function KH(d){UT.delete(d[t2])}(h)}finally{rt(p)}}function Nm(d,h,p){return function li(d,h,p){let m=h;for(;null!==m&&40&m.type;)m=(h=m).parent;if(null===m)return p[xs];{const{componentOffset:g}=m;if(g>-1){const{encapsulation:C}=d.data[m.directiveStart+g];if(C===Oa.None||C===Oa.Emulated)return null}return Ta(m,p)}}(d,h.parent,p)}function ta(d,h,p,m,g){d.insertBefore(h,p,m,g)}function G2(d,h,p){d.appendChild(h,p)}function md(d,h,p,m,g){null!==m?ta(d,h,p,m,g):G2(d,h,p)}function yh(d,h){return d.parentNode(h)}function U2(d,h,p){return C8(d,h,p)}let vM,C8=function SM(d,h,p){return 40&d.type?Ta(d,p):null};function by(d,h,p,m){const g=Nm(d,m,h),C=h[Qt],y=U2(m.parent||h[qr],m,h);if(null!=g)if(Array.isArray(p))for(let w=0;w<p.length;w++)md(C,g,p[w],y,!1);else md(C,g,p,y,!1);void 0!==vM&&vM(C,m,h,p,g)}function F2(d,h){if(null!==h){const p=h.type;if(3&p)return Ta(h,d);if(4&p)return CM(-1,d[h.index]);if(8&p){const m=h.child;if(null!==m)return F2(d,m);{const g=d[h.index];return Zr(g)?CM(-1,g):pi(g)}}if(32&p)return gy(h,d)()||pi(d[h.index]);{const m=E8(d,h);return null!==m?Array.isArray(m)?m[0]:F2(ym(d[Vs]),m):F2(d,h.next)}}return null}function E8(d,h){return null!==h?d[Vs][qr].projection[h.projection]:null}function CM(d,h){const p=Mo+d+1;if(p<h.length){const m=h[p],g=m[Ue].firstChild;if(null!==g)return F2(m,g)}return h[hh]}function B2(d,h,p){const m=yh(d,h);m&&function Nl(d,h,p,m){d.removeChild(h,p,m)}(d,m,h,p)}function bM(d,h,p,m,g,C,E){for(;null!=p;){const y=m[p.index],w=p.type;if(E&&0===h&&(y&&Ia(pi(y),m),p.flags|=2),32&~p.flags)if(8&w)bM(d,h,p.child,m,g,C,!1),Eh(h,d,g,y,C);else if(32&w){const M=gy(p,m);let A;for(;A=M();)Eh(h,d,g,A,C);Eh(h,d,g,y,C)}else 16&w?Ey(d,h,m,p,g,C):Eh(h,d,g,y,C);p=E?p.projectionNext:p.next}}function V2(d,h,p,m,g,C){bM(p,m,d.firstChild,h,g,C,!1)}function Ey(d,h,p,m,g,C){const E=p[Vs],w=E[qr].projection[m.projection];if(Array.isArray(w))for(let M=0;M<w.length;M++)Eh(h,d,g,w[M],C);else{let M=w;const A=E[fo];Sh(m)&&(M.flags|=128),bM(d,h,M,A,g,C,!0)}}function yM(d,h,p){""===p?d.removeAttribute(h,"class"):d.setAttribute(h,"class",p)}function yy(d,h,p){const{mergedAttrs:m,classes:g,styles:C}=p;null!==m&&Dp(d,h,m),null!==g&&yM(d,h,g),null!==C&&function z2(d,h,p){d.setAttribute(h,"style",p)}(d,h,C)}const bn={};function Ec(d=1){Lm(si(),pe(),yr()+d,!1)}function Lm(d,h,p,m){if(!m)if(3&~h[At]){const C=d.preOrderHooks;null!==C&&zE(h,C,0,p)}else{const C=d.preOrderCheckHooks;null!==C&&wm(h,C,p)}Dm(p)}function Pm(d,h=hn.Default){const p=pe();return null===p?Cr(d,h):WE(Hi(),p,Kt(d),h)}function DM(){throw new Error("invalid")}function D8(d,h,p,m,g,C){const E=rt(null);try{let y=null;g&_c.SignalBased&&(y=h[m][s]),null!==y&&void 0!==y.transformFn&&(C=y.transformFn(C)),g&_c.HasDecoratorInputTransform&&(C=d.inputTransforms[m].call(h,C)),null!==d.setInput?d.setInput(h,y,C,p,m):fH(h,y,m,C)}finally{rt(E)}}function k1(d,h,p,m,g,C,E,y,w,M,A){const B=h.blueprint.slice();return B[xs]=g,B[At]=204|m,(null!==M||d&&2048&d[At])&&(B[At]|=2048),oT(B),B[fo]=B[Zv]=d,B[ks]=p,B[gc]=E||d&&d[gc],B[Qt]=y||d&&d[Qt],B[Gr]=w||d&&d[Gr]||null,B[qr]=C,B[t2]=function WH(){return kN++}(),B[Ol]=A,B[eT]=M,B[Vs]=2==h.type?d[Vs]:B,B}function Vp(d,h,p,m,g){let C=d.data[h];if(null===C)C=function Dy(d,h,p,m,g){const C=sN(),E=cT(),w=d.data[h]=function O8(d,h,p,m,g,C){let E=h?h.injectorIndex:-1,y=0;return a1()&&(y|=128),{type:p,index:m,insertBeforeIndex:null,injectorIndex:E,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:g,attrs:C,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:h,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?C:C&&C.parent,p,h,m,g);return null===d.firstChild&&(d.firstChild=w),null!==C&&(E?null==C.child&&null!==w.parent&&(C.child=w):null===C.next&&(C.next=w,w.prev=C)),w}(d,h,p,m,g),function uT(){return pn.lFrame.inI18n}()&&(C.flags|=32);else if(64&C.type){C.type=p,C.value=m,C.attrs=g;const E=function l2(){const d=pn.lFrame,h=d.currentTNode;return d.isParent?h:h.parent}();C.injectorIndex=null===E?-1:E.injectorIndex}return su(C,!0),C}function Gm(d,h,p,m){if(0===p)return-1;const g=h.length;for(let C=0;C<p;C++)h.push(m),d.blueprint.push(m),d.data.push(null);return g}function wM(d,h,p,m,g){const C=yr(),E=2&m;try{Dm(-1),E&&h.length>On&&Lm(d,h,On,!1),oo(E?2:0,g),p(m,g)}finally{Dm(C),oo(E?3:1,g)}}function H2(d,h,p){if(LE(h)){const m=rt(null);try{const C=h.directiveEnd;for(let E=h.directiveStart;E<C;E++){const y=d.data[E];y.contentQueries&&y.contentQueries(1,p[E],E)}}finally{rt(m)}}}function j2(d,h,p){tN()&&(function Gj(d,h,p,m){const g=p.directiveStart,C=p.directiveEnd;Op(p)&&function My(d,h,p){const m=Ta(h,d),g=ky(p);let E=16;p.signals?E=4096:p.onPush&&(E=64);const y=zp(d,k1(d,g,null,E,m,h,null,d[gc].rendererFactory.createRenderer(m,p),null,null,null));d[h.index]=y}(h,p,d.data[g+p.componentOffset]),d.firstCreatePass||XE(p,h),Ia(m,h);const E=p.initialInputs;for(let y=g;y<C;y++){const w=d.data[y],M=Tm(h,d,y,p);Ia(M,h),null!==E&&T1(0,y-g,M,w,0,E),iu(w)&&(Tl(p.index,h)[ks]=Tm(h,d,y,p))}}(d,h,p,Ta(p,h)),!(64&~p.flags)&&Ty(d,h,p))}function wy(d,h,p=Ta){const m=h.localNames;if(null!==m){let g=h.index+1;for(let C=0;C<m.length;C+=2){const E=m[C+1],y=-1===E?p(h,d):d[E];d[g++]=y}}}function ky(d){const h=d.tView;return null===h||h.incompleteFirstPass?d.tView=kM(1,null,d.template,d.decls,d.vars,d.directiveDefs,d.pipeDefs,d.viewQuery,d.schemas,d.consts,d.id):h}function kM(d,h,p,m,g,C,E,y,w,M,A){const B=On+m,K=B+g,Z=function Oy(d,h){const p=[];for(let m=0;m<h;m++)p.push(m<d?null:bn);return p}(B,K),re="function"==typeof M?M():M;return Z[Ue]={type:d,blueprint:Z,template:p,queries:null,viewQuery:y,declTNode:h,data:Z.slice().fill(null,B),bindingStartIndex:B,expandoStartIndex:K,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof C?C():C,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:w,consts:re,incompleteFirstPass:!1,ssrId:A}}let O1=()=>null;function OM(d,h,p,m,g){for(let C in h){if(!h.hasOwnProperty(C))continue;const E=h[C];if(void 0===E)continue;m??={};let y,w=_c.None;Array.isArray(E)?(y=E[0],w=E[1]):y=E;let M=C;if(null!==g){if(!g.hasOwnProperty(C))continue;M=g[C]}0===d?T8(m,p,M,y,w):T8(m,p,M,y)}return m}function T8(d,h,p,m,g){let C;d.hasOwnProperty(p)?(C=d[p]).push(h,m):C=d[p]=[h,m],void 0!==g&&C.push(g)}function Qa(d,h,p,m,g,C,E,y){const w=Ta(h,p);let A,M=h.inputs;!y&&null!=M&&(A=M[m])?(MM(d,p,A,m,g),Op(h)&&function lde(d,h){const p=Tl(h,d);16&p[At]||(p[At]|=64)}(p,h.index)):3&h.type&&(m=function I8(d){return"class"===d?"className":"for"===d?"htmlFor":"formaction"===d?"formAction":"innerHtml"===d?"innerHTML":"readonly"===d?"readOnly":"tabindex"===d?"tabIndex":d}(m),g=null!=E?E(g,h.value||"",m):g,C.setProperty(w,m,g))}function R8(d,h,p,m){if(tN()){const g=null===m?null:{"":-1},C=function Uj(d,h){const p=d.directiveRegistry;let m=null,g=null;if(p)for(let C=0;C<p.length;C++){const E=p[C];if(OE(h,E.selectors,!1))if(m||(m=[]),iu(E))if(null!==E.findHostDirectiveDefs){const y=[];g=g||new Map,E.findHostDirectiveDefs(E,y,g),m.unshift(...y,E),Um(d,h,y.length)}else m.unshift(E),Um(d,h,0);else g=g||new Map,E.findHostDirectiveDefs?.(E,m,g),m.push(E)}return null===m?null:[m,g]}(d,p);let E,y;null===C?E=y=null:[E,y]=C,null!==E&&A8(d,h,p,E,g,y),g&&function ude(d,h,p){if(h){const m=d.localNames=[];for(let g=0;g<h.length;g+=2){const C=p[h[g+1]];if(null==C)throw new at(-301,!1);m.push(h[g],C)}}}(p,m,g)}p.mergedAttrs=qi(p.mergedAttrs,p.attrs)}function A8(d,h,p,m,g,C){for(let M=0;M<m.length;M++)d1(XE(p,h),d,m[M].type);!function Bj(d,h,p){d.flags|=1,d.directiveStart=h,d.directiveEnd=h+p,d.providerIndexes=h}(p,d.data.length,m.length);for(let M=0;M<m.length;M++){const A=m[M];A.providersResolver&&A.providersResolver(A)}let E=!1,y=!1,w=Gm(d,h,m.length,null);for(let M=0;M<m.length;M++){const A=m[M];p.mergedAttrs=qi(p.mergedAttrs,A.hostAttrs),x8(d,p,h,w,A),Fj(w,A,g),null!==A.contentQueries&&(p.flags|=4),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(p.flags|=64);const B=A.type.prototype;!E&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((d.preOrderHooks??=[]).push(p.index),E=!0),!y&&(B.ngOnChanges||B.ngDoCheck)&&((d.preOrderCheckHooks??=[]).push(p.index),y=!0),w++}!function M8(d,h,p){const g=h.directiveEnd,C=d.data,E=h.attrs,y=[];let w=null,M=null;for(let A=h.directiveStart;A<g;A++){const B=C[A],K=p?p.get(B):null,re=K?K.outputs:null;w=OM(0,B.inputs,A,w,K?K.inputs:null),M=OM(1,B.outputs,A,M,re);const fe=null===w||null===E||kE(h)?null:$2(w,A,E);y.push(fe)}null!==w&&(w.hasOwnProperty("class")&&(h.flags|=8),w.hasOwnProperty("style")&&(h.flags|=16)),h.initialInputs=y,h.inputs=w,h.outputs=M}(d,p,C)}function Ty(d,h,p){const m=p.directiveStart,g=p.directiveEnd,C=p.index,E=function oN(){return pn.lFrame.currentDirectiveIndex}();try{Dm(C);for(let y=m;y<g;y++){const w=d.data[y],M=h[y];hT(y),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&uu(w,M)}}finally{Dm(-1),hT(E)}}function uu(d,h){null!==d.hostBindings&&d.hostBindings(1,h)}function Um(d,h,p){h.componentOffset=p,(d.components??=[]).push(h.index)}function Fj(d,h,p){if(p){if(h.exportAs)for(let m=0;m<h.exportAs.length;m++)p[h.exportAs[m]]=d;iu(h)&&(p[""]=d)}}function x8(d,h,p,m,g){d.data[m]=g;const C=g.factory||(g.factory=dh(g.type)),E=new p2(C,iu(g),Pm);d.blueprint[m]=E,p[m]=E,function dde(d,h,p,m,g){const C=g.hostBindings;if(C){let E=d.hostBindingOpCodes;null===E&&(E=d.hostBindingOpCodes=[]);const y=~h.index;(function Pj(d){let h=d.length;for(;h>0;){const p=d[--h];if("number"==typeof p&&p<0)return p}return 0})(E)!=y&&E.push(y),E.push(p,m,C)}}(d,h,m,Gm(d,p,g.hostVars,bn),g)}function TM(d,h,p,m,g,C,E){if(null==C)d.removeAttribute(h,g,p);else{const y=null==E?Yt(C):E(C,m||"",g);d.setAttribute(h,g,y,p)}}function T1(d,h,p,m,g,C){const E=C[h];if(null!==E)for(let y=0;y<E.length;)D8(m,p,E[y++],E[y++],E[y++],E[y++])}function $2(d,h,p){let m=null,g=0;for(;g<p.length;){const C=p[g];if(0!==C)if(5!==C){if("number"==typeof C)break;if(d.hasOwnProperty(C)){null===m&&(m=[]);const E=d[C];for(let y=0;y<E.length;y+=3)if(E[y]===h){m.push(C,E[y+1],E[y+2],p[g+1]);break}}g+=2}else g+=2;else g+=4}return m}function N8(d,h,p,m){return[d,!0,0,h,null,m,null,p,null,null]}function L8(d,h){const p=d.contentQueries;if(null!==p){const m=rt(null);try{for(let g=0;g<p.length;g+=2){const E=p[g+1];if(-1!==E){const y=d.data[E];ou(p[g]),y.contentQueries(2,h[E],E)}}}finally{rt(m)}}}function zp(d,h){return d[Cm]?d[H6][ld]=h:d[Cm]=h,d[H6]=h,h}function Fm(d,h,p){ou(0);const m=rt(null);try{h(d,p)}finally{rt(m)}}function P8(d){return d[t1]||(d[t1]=[])}function G8(d){return d.cleanup||(d.cleanup=[])}function U8(d,h,p){return(null===d||iu(d))&&(p=function iT(d){for(;Array.isArray(d);){if("object"==typeof d[j6])return d;d=d[xs]}return null}(p[h.index])),p[Qt]}function Iy(d,h){const p=d[Gr],m=p?p.get(au,null):null;m&&m.handleError(h)}function MM(d,h,p,m,g){for(let C=0;C<p.length;){const E=p[C++],y=p[C++],w=p[C++];D8(d.data[E],h[E],m,y,w,g)}}function pu(d,h,p){const m=o2(h,d);Sy(d[Qt],m,p)}function Ry(d,h){const p=Tl(h,d),m=p[Ue];!function M1(d,h){for(let p=h.length;p<d.blueprint.length;p++)h.push(d.blueprint[p])}(m,p);const g=p[xs];null!==g&&null===p[Ol]&&(p[Ol]=iM(g,p[Gr])),IM(m,p,p[ks])}function IM(d,h,p){lN(h);try{const m=d.viewQuery;null!==m&&Fm(1,m,p);const g=d.template;null!==g&&wM(d,h,g,1,p),d.firstCreatePass&&(d.firstCreatePass=!1),h[nu]?.finishViewCreation(d),d.staticContentQueries&&L8(d,h),d.staticViewQueries&&Fm(2,d.viewQuery,p);const C=d.components;null!==C&&function Vj(d,h){for(let p=0;p<h.length;p++)Ry(d,h[p])}(h,C)}catch(m){throw d.firstCreatePass&&(d.incompleteFirstPass=!0,d.firstCreatePass=!1),m}finally{h[At]&=-5,d2()}}function I1(d,h){return!h||null===h.firstChild||Sh(d)}function W2(d,h,p,m=!0){const g=h[Ue];if(function Rj(d,h,p,m){const g=Mo+m,C=p.length;m>0&&(p[g-1][ld]=h),m<C-Mo?(h[ld]=p[g],SE(p,Mo+m,h)):(p.push(h),h[ld]=null),h[fo]=p;const E=h[e2];null!==E&&p!==E&&function g8(d,h){const p=d[s1];h[Vs]!==h[fo][fo][Vs]&&(d[At]|=NE.HasTransplantedViews),null===p?d[s1]=[h]:p.push(h)}(E,h);const y=h[nu];null!==y&&y.insertView(d),aT(h),h[At]|=128}(g,h,d,p),m){const E=CM(p,d),y=h[Qt],w=yh(y,d[hh]);null!==w&&function Cy(d,h,p,m,g,C){m[xs]=g,m[qr]=h,V2(d,m,p,1,g,C)}(g,d[qr],y,h,w,E)}const C=h[Ol];null!==C&&null!==C.firstChild&&(C.firstChild=null)}function K2(d,h,p,m,g=!1){for(;null!==p;){const C=h[p.index];null!==C&&m.push(pi(C)),Zr(C)&&B8(C,m);const E=p.type;if(8&E)K2(d,h,p.child,m);else if(32&E){const y=gy(p,h);let w;for(;w=y();)m.push(w)}else if(16&E){const y=E8(h,p);if(Array.isArray(y))m.push(...y);else{const w=ym(h[Vs]);K2(w[Ue],w,y,m,!0)}}p=g?p.projectionNext:p.next}return m}function B8(d,h){for(let p=Mo;p<d.length;p++){const m=d[p],g=m[Ue].firstChild;null!==g&&K2(m[Ue],m,g,h)}d[hh]!==d[xs]&&h.push(d[hh])}let AM=[];const R1={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:d=>{a2(d.lView)},consumerOnSignalRead(){this.lView[bm]=this}},Hj=100;function Ay(d,h=!0,p=0){const m=d[gc],g=m.rendererFactory;g.begin?.();try{!function jj(d,h){PM(d,h);let p=0;for(;rT(d);){if(p===Hj)throw new at(103,!1);p++,PM(d,1)}}(d,p)}catch(E){throw h&&Iy(d,E),E}finally{g.end?.(),m.inlineEffectRunner?.flush()}}function LM(d,h,p,m){const g=h[At];if(!(256&~g))return;h[gc].inlineEffectRunner?.flush(),lN(h);let E=null,y=null;(function $j(d){return 2!==d.type})(d)&&(y=function zj(d){return d[bm]??function xM(d){const h=AM.pop()??Object.create(R1);return h.lView=d,h}(d)}(h),E=function wn(d){return d&&(d.nextProducerIndex=0),rt(d)}(y));try{oT(h),function mh(d){return pn.lFrame.bindingIndex=d}(d.bindingStartIndex),null!==p&&wM(d,h,p,2,m);const w=!(3&~g);if(w){const B=d.preOrderCheckHooks;null!==B&&wm(h,B,null)}else{const B=d.preOrderHooks;null!==B&&zE(h,B,0,null),ST(h,0)}if(function Xj(d){for(let h=HT(d);null!==h;h=xN(h)){if(!(h[At]&NE.HasTransplantedViews))continue;const p=h[s1];for(let m=0;m<p.length;m++){bH(p[m])}}}(h),xy(h,0),null!==d.contentQueries&&L8(d,h),w){const B=d.contentCheckHooks;null!==B&&wm(h,B)}else{const B=d.contentHooks;null!==B&&zE(h,B,1),ST(h,1)}!function Dh(d,h){const p=d.hostBindingOpCodes;if(null!==p)try{for(let m=0;m<p.length;m++){const g=p[m];if(g<0)Dm(~g);else{const C=g,E=p[++m],y=p[++m];Ml(E,C),y(2,h[C])}}}finally{Dm(-1)}}(d,h);const M=d.components;null!==M&&H8(h,M,0);const A=d.viewQuery;if(null!==A&&Fm(2,A,m),w){const B=d.viewCheckHooks;null!==B&&wm(h,B)}else{const B=d.viewHooks;null!==B&&zE(h,B,2),ST(h,2)}if(!0===d.firstUpdatePass&&(d.firstUpdatePass=!1),h[AE]){for(const B of h[AE])B();h[AE]=null}h[At]&=-73}catch(w){throw a2(h),w}finally{null!==y&&(function ui(d,h){if(rt(h),d&&void 0!==d.producerNode&&void 0!==d.producerIndexOfThis&&void 0!==d.producerLastReadVersion){if(As(d))for(let p=d.nextProducerIndex;p<d.producerNode.length;p++)qt(d.producerNode[p],d.producerIndexOfThis[p]);for(;d.producerNode.length>d.nextProducerIndex;)d.producerNode.pop(),d.producerLastReadVersion.pop(),d.producerIndexOfThis.pop()}}(y,E),function NM(d){d.lView[bm]!==d&&(d.lView=null,AM.push(d))}(y)),d2()}}function xy(d,h){for(let p=HT(d);null!==p;p=xN(p))for(let m=Mo;m<p.length;m++)z8(p[m],h)}function V8(d,h,p){z8(Tl(h,d),p)}function z8(d,h){GE(d)&&PM(d,h)}function PM(d,h){const m=d[Ue],g=d[At],C=d[bm];let E=!!(0===h&&16&g);if(E||=!!(64&g&&0===h),E||=!!(1024&g),E||=!(!C?.dirty||!ls(C)),C&&(C.dirty=!1),d[At]&=-9217,E)LM(m,d,m.template,d[ks]);else if(8192&g){xy(d,1);const y=m.components;null!==y&&H8(d,y,1)}}function H8(d,h,p){for(let m=0;m<h.length;m++)V8(d,h[m],p)}function Y2(d){for(d[gc].changeDetectionScheduler?.notify();d;){d[At]|=64;const h=ym(d);if($6(d)&&!h)return d;d=h}return null}class Hp{get rootNodes(){const h=this._lView,p=h[Ue];return K2(p,h,p.firstChild,[])}constructor(h,p,m=!0){this._lView=h,this._cdRefInjectingView=p,this.notifyErrorHandler=m,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ks]}set context(h){this._lView[ks]=h}get destroyed(){return!(256&~this._lView[At])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const h=this._lView[fo];if(Zr(h)){const p=h[8],m=p?p.indexOf(this):-1;m>-1&&(P2(h,m),ds(p,m))}this._attachedToViewContainer=!1}D1(this._lView[Ue],this._lView)}onDestroy(h){UE(this._lView,h)}markForCheck(){Y2(this._cdRefInjectingView||this._lView)}detach(){this._lView[At]&=-129}reattach(){aT(this._lView),this._lView[At]|=128}detectChanges(){this._lView[At]|=1024,Ay(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new at(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,_8(this._lView[Ue],this._lView)}attachToAppRef(h){if(this._attachedToViewContainer)throw new at(902,!1);this._appRef=h,aT(this._lView)}}let J2=(()=>{class d{static#e=this.__NG_ELEMENT_ID__=Yj}return d})();const Wj=J2,Kj=class extends Wj{constructor(h,p,m){super(),this._declarationLView=h,this._declarationTContainer=p,this.elementRef=m}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(h,p){return this.createEmbeddedViewImpl(h,p)}createEmbeddedViewImpl(h,p,m){const g=function X2(d,h,p,m){const g=rt(null);try{const C=h.tView,w=k1(d,C,p,4096&d[At]?4096:16,null,h,null,null,m?.injector??null,m?.embeddedViewInjector??null,m?.dehydratedView??null);w[e2]=d[h.index];const A=d[nu];return null!==A&&(w[nu]=A.createEmbeddedView(C)),IM(C,w,p),w}finally{rt(g)}}(this._declarationLView,this._declarationTContainer,h,{embeddedViewInjector:p,dehydratedView:m});return new Hp(g)}};function Yj(){return Ny(Hi(),pe())}function Ny(d,h){return 4&d.type?new Kj(h,d,Ip(d,h)):null}class HM{}class h${}class Vy{}class _u{resolveComponentFactory(h){throw function J8(d){const h=Error(`No component factory found for ${Vn(d)}.`);return h.ngComponent=d,h}(h)}}let tC=(()=>{class d{static#e=this.NULL=new _u}return d})();class m${}let Sde=(()=>{class d{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function vde(){const d=pe(),p=Tl(Hi().index,d);return(Qr(p)?p:d)[Qt]}()}return d})(),q8=(()=>{class d{static#e=this.\u0275prov=Ji({token:d,providedIn:"root",factory:()=>null})}return d})();const zy={},Z8=new Set;function gu(d){Z8.has(d)||(Z8.add(d),performance?.mark?.("mark_feature_usage",{detail:{feature:d}}))}function _$(...d){}class Ko{constructor({enableLongStackTrace:h=!1,shouldCoalesceEventChangeDetection:p=!1,shouldCoalesceRunChangeDetection:m=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new cu(!1),this.onMicrotaskEmpty=new cu(!1),this.onStable=new cu(!1),this.onError=new cu(!1),typeof Zone>"u")throw new at(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),h&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!m&&p,g.shouldCoalesceRunChangeDetection=m,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function eL(){const d="function"==typeof zi.requestAnimationFrame;let h=zi[d?"requestAnimationFrame":"setTimeout"],p=zi[d?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&h&&p){const m=h[Zone.__symbol__("OriginalDelegate")];m&&(h=m);const g=p[Zone.__symbol__("OriginalDelegate")];g&&(p=g)}return{nativeRequestAnimationFrame:h,nativeCancelAnimationFrame:p}}().nativeRequestAnimationFrame,function S$(d){const h=()=>{!function g$(d){d.isCheckStableRunning||-1!==d.lastRequestAnimationFrameId||(d.lastRequestAnimationFrameId=d.nativeRequestAnimationFrame.call(zi,()=>{d.fakeTopEventTask||(d.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{d.lastRequestAnimationFrameId=-1,nL(d),d.isCheckStableRunning=!0,tL(d),d.isCheckStableRunning=!1},void 0,()=>{},()=>{})),d.fakeTopEventTask.invoke()}),nL(d))}(d)};d._inner=d._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(p,m,g,C,E,y)=>{if(function v$(d){return!(!Array.isArray(d)||1!==d.length)&&!0===d[0].data?.__ignore_ng_zone__}(y))return p.invokeTask(g,C,E,y);try{return jM(d),p.invokeTask(g,C,E,y)}finally{(d.shouldCoalesceEventChangeDetection&&"eventTask"===C.type||d.shouldCoalesceRunChangeDetection)&&h(),iL(d)}},onInvoke:(p,m,g,C,E,y,w)=>{try{return jM(d),p.invoke(g,C,E,y,w)}finally{d.shouldCoalesceRunChangeDetection&&h(),iL(d)}},onHasTask:(p,m,g,C)=>{p.hasTask(g,C),m===g&&("microTask"==C.change?(d._hasPendingMicrotasks=C.microTask,nL(d),tL(d)):"macroTask"==C.change&&(d.hasPendingMacrotasks=C.macroTask))},onHandleError:(p,m,g,C)=>(p.handleError(g,C),d.runOutsideAngular(()=>d.onError.emit(C)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ko.isInAngularZone())throw new at(909,!1)}static assertNotInAngularZone(){if(Ko.isInAngularZone())throw new at(909,!1)}run(h,p,m){return this._inner.run(h,p,m)}runTask(h,p,m,g){const C=this._inner,E=C.scheduleEventTask("NgZoneEvent: "+g,h,bde,_$,_$);try{return C.runTask(E,p,m)}finally{C.cancelTask(E)}}runGuarded(h,p,m){return this._inner.runGuarded(h,p,m)}runOutsideAngular(h){return this._outer.run(h)}}const bde={};function tL(d){if(0==d._nesting&&!d.hasPendingMicrotasks&&!d.isStable)try{d._nesting++,d.onMicrotaskEmpty.emit(null)}finally{if(d._nesting--,!d.hasPendingMicrotasks)try{d.runOutsideAngular(()=>d.onStable.emit(null))}finally{d.isStable=!0}}}function nL(d){d.hasPendingMicrotasks=!!(d._hasPendingMicrotasks||(d.shouldCoalesceEventChangeDetection||d.shouldCoalesceRunChangeDetection)&&-1!==d.lastRequestAnimationFrameId)}function jM(d){d._nesting++,d.isStable&&(d.isStable=!1,d.onUnstable.emit(null))}function iL(d){d._nesting--,tL(d)}class $M{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new cu,this.onMicrotaskEmpty=new cu,this.onStable=new cu,this.onError=new cu}run(h,p,m){return h.apply(p,m)}runGuarded(h,p,m){return h.apply(p,m)}runOutsideAngular(h){return h()}runTask(h,p,m,g){return h.apply(p,m)}}var zm=function(d){return d[d.EarlyRead=0]="EarlyRead",d[d.Write=1]="Write",d[d.MixedReadWrite=2]="MixedReadWrite",d[d.Read=3]="Read",d}(zm||{});const sL={destroy(){}};function rL(d,h){!h&&function qO(d){if(!aH())throw new at(-203,!1)}();const p=h?.injector??cn(Il);if(!function Bp(d){return"browser"===(d??cn(Il)).get(JT)}(p))return sL;gu("NgAfterNextRender");const m=p.get(Hy),g=m.handler??=new E$,C=h?.phase??zm.MixedReadWrite,E=()=>{g.unregister(w),y()},y=p.get(Mp).onDestroy(E),w=B6(p,()=>new b$(C,()=>{E(),d()}));return g.register(w),{destroy:E}}class b${constructor(h,p){this.phase=h,this.callbackFn=p,this.zone=cn(Ko),this.errorHandler=cn(au,{optional:!0}),cn(HM,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(h){this.errorHandler?.handleError(h)}}}class E${constructor(){this.executingCallbacks=!1,this.buckets={[zm.EarlyRead]:new Set,[zm.Write]:new Set,[zm.MixedReadWrite]:new Set,[zm.Read]:new Set},this.deferredCallbacks=new Set}register(h){(this.executingCallbacks?this.deferredCallbacks:this.buckets[h.phase]).add(h)}unregister(h){this.buckets[h.phase].delete(h),this.deferredCallbacks.delete(h)}execute(){this.executingCallbacks=!0;for(const h of Object.values(this.buckets))for(const p of h)p.invoke();this.executingCallbacks=!1;for(const h of this.deferredCallbacks)this.buckets[h.phase].add(h);this.deferredCallbacks.clear()}destroy(){for(const h of Object.values(this.buckets))h.clear();this.deferredCallbacks.clear()}}let Hy=(()=>{class d{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const p=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const m of p)m()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Ji({token:d,providedIn:"root",factory:()=>new d})}return d})();function Hm(d){return!!Ft(d)}function A1(d,h,p){let m=p?d.styles:null,g=p?d.classes:null,C=0;if(null!==h)for(let E=0;E<h.length;E++){const y=h[E];"number"==typeof y?C=y:1==C?g=Gv(g,y):2==C&&(m=Gv(m,y+": "+h[++E]+";"))}p?d.styles=m:d.stylesWithoutHost=m,p?d.classes=g:d.classesWithoutHost=g}class YM extends tC{constructor(h){super(),this.ngModule=h}resolveComponentFactory(h){const p=Re(h);return new x1(p,this.ngModule)}}function nC(d){const h=[];for(const p in d){if(!d.hasOwnProperty(p))continue;const m=d[p];void 0!==m&&h.push({propName:Array.isArray(m)?m[0]:m,templateName:p})}return h}class D${constructor(h,p){this.injector=h,this.parentInjector=p}get(h,p,m){m=bp(m);const g=this.injector.get(h,zy,m);return g!==zy||p===zy?g:this.parentInjector.get(h,p,m)}}class x1 extends Vy{get inputs(){const h=this.componentDef,p=h.inputTransforms,m=nC(h.inputs);if(null!==p)for(const g of m)p.hasOwnProperty(g.propName)&&(g.transform=p[g.propName]);return m}get outputs(){return nC(this.componentDef.outputs)}constructor(h,p){super(),this.componentDef=h,this.ngModule=p,this.componentType=h.type,this.selector=function T(d){return d.map(WO).join(",")}(h.selectors),this.ngContentSelectors=h.ngContentSelectors?h.ngContentSelectors:[],this.isBoundToModule=!!p}create(h,p,m,g){const C=rt(null);try{let E=(g=g||this.ngModule)instanceof tu?g:g?.injector;E&&null!==this.componentDef.getStandaloneInjector&&(E=this.componentDef.getStandaloneInjector(E)||E);const y=E?new D$(h,E):h,w=y.get(m$,null);if(null===w)throw new at(407,!1);const M=y.get(q8,null),K={rendererFactory:w,sanitizer:M,inlineEffectRunner:null,afterRenderEventManager:y.get(Hy,null),changeDetectionScheduler:y.get(HM,null)},Z=w.createRenderer(null,this.componentDef),re=this.componentDef.selectors[0][0]||"div",fe=m?function w8(d,h,p,m){const C=m.get(XN,!1)||p===Oa.ShadowDom,E=d.selectRootElement(h,C);return function xj(d){O1(d)}(E),E}(Z,m,this.componentDef.encapsulation,y):L2(Z,re,function yde(d){const h=d.toLowerCase();return"svg"===h?_H:"math"===h?"math":null}(re));let Ae=512;this.componentDef.signals?Ae|=4096:this.componentDef.onPush||(Ae|=16);let je=null;null!==fe&&(je=iM(fe,y,!0));const Ee=kM(0,null,null,1,0,null,null,null,null,null,null),en=k1(null,Ee,null,Ae,null,null,K,Z,y,null,je);let vi,us;lN(en);try{const Tr=this.componentDef;let Gl,OC=null;Tr.findHostDirectiveDefs?(Gl=[],OC=new Map,Tr.findHostDirectiveDefs(Tr,Gl,OC),Gl.push(Tr)):Gl=[Tr];const jY=function Xp(d,h){const p=d[Ue],m=On;return d[m]=h,Vp(p,m,2,"#host",null)}(en,fe),rme=function Su(d,h,p,m,g,C,E){const y=g[Ue];!function jy(d,h,p,m){for(const g of d)h.mergedAttrs=qi(h.mergedAttrs,g.hostAttrs);null!==h.mergedAttrs&&(A1(h,h.mergedAttrs,!0),null!==p&&yy(m,p,h))}(m,d,h,E);let w=null;null!==h&&(w=iM(h,g[Gr]));const M=C.rendererFactory.createRenderer(h,p);let A=16;p.signals?A=4096:p.onPush&&(A=64);const B=k1(g,ky(p),null,A,g[d.index],d,C,M,null,null,w);return y.firstCreatePass&&Um(y,d,m.length-1),zp(g,B),g[d.index]=B}(jY,fe,Tr,Gl,en,K,Z);us=o1(Ee,On),fe&&function w$(d,h,p,m){if(m)Dp(d,p,["ng-version","17.3.1"]);else{const{attrs:g,classes:C}=function R(d){const h=[],p=[];let m=1,g=2;for(;m<d.length;){let C=d[m];if("string"==typeof C)2===g?""!==C&&h.push(C,d[++m]):8===g&&p.push(C);else{if(!kl(g))break;g=C}m++}return{attrs:h,classes:p}}(h.selectors[0]);g&&Dp(d,p,g),C&&C.length>0&&yM(d,p,C.join(" "))}}(Z,Tr,fe,m),void 0!==p&&function k$(d,h,p){const m=d.projection=[];for(let g=0;g<h.length;g++){const C=p[g];m.push(null!=C?Array.from(C):null)}}(us,this.ngContentSelectors,p),vi=function Dc(d,h,p,m,g,C){const E=Hi(),y=g[Ue],w=Ta(E,g);A8(y,g,E,p,null,m);for(let A=0;A<p.length;A++)Ia(Tm(g,y,E.directiveStart+A,E),g);Ty(y,g,E),w&&Ia(w,g);const M=Tm(g,y,E.directiveStart+E.componentOffset,E);if(d[ks]=g[ks]=M,null!==C)for(const A of C)A(M,h);return H2(y,E,g),M}(rme,Tr,Gl,OC,en,[O$]),IM(Ee,en,null)}finally{d2()}return new jm(this.componentType,vi,Ip(us,en),en,us)}finally{rt(C)}}}class jm extends h${constructor(h,p,m,g,C){super(),this.location=m,this._rootLView=g,this._tNode=C,this.previousInputValues=null,this.instance=p,this.hostView=this.changeDetectorRef=new Hp(g,void 0,!1),this.componentType=h}setInput(h,p){const m=this._tNode.inputs;let g;if(null!==m&&(g=m[h])){if(this.previousInputValues??=new Map,this.previousInputValues.has(h)&&Object.is(this.previousInputValues.get(h),p))return;const C=this._rootLView;MM(C[Ue],C,g,h,p),this.previousInputValues.set(h,p),Y2(Tl(this._tNode.index,C))}}get injector(){return new Io(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(h){this.hostView.onDestroy(h)}}function O$(){const d=Hi();c1(pe()[Ue],d)}let $y=(()=>{class d{static#e=this.__NG_ELEMENT_ID__=T$}return d})();function T$(){return uL(Hi(),pe())}const cL=$y,dL=class extends cL{constructor(h,p,m){super(),this._lContainer=h,this._hostTNode=p,this._hostLView=m}get element(){return Ip(this._hostTNode,this._hostLView)}get injector(){return new Io(this._hostTNode,this._hostLView)}get parentInjector(){const h=Om(this._hostTNode,this._hostLView);if(ET(h)){const p=m2(h,this._hostLView),m=Ur(h);return new Io(p[Ue].data[m+8],p)}return new Io(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(h){const p=M$(this._lContainer);return null!==p&&p[h]||null}get length(){return this._lContainer.length-Mo}createEmbeddedView(h,p,m){let g,C;"number"==typeof m?g=m:null!=m&&(g=m.index,C=m.injector);const y=h.createEmbeddedViewImpl(p||{},C,null);return this.insertImpl(y,g,I1(this._hostTNode,null)),y}createComponent(h,p,m,g,C){const E=h&&!function uh(d){return"function"==typeof d}(h);let y;if(E)y=p;else{const re=p||{};y=re.index,m=re.injector,g=re.projectableNodes,C=re.environmentInjector||re.ngModuleRef}const w=E?h:new x1(Re(h)),M=m||this.parentInjector;if(!C&&null==w.ngModule){const fe=(E?M:this.parentInjector).get(tu,null);fe&&(C=fe)}Re(w.componentType??{});const Z=w.create(M,g,null,C);return this.insertImpl(Z.hostView,y,I1(this._hostTNode,null)),Z}insert(h,p){return this.insertImpl(h,p,!0)}insertImpl(h,p,m){const g=h._lView;if(function sT(d){return Zr(d[fo])}(g)){const y=this.indexOf(h);if(-1!==y)this.detach(y);else{const w=g[fo],M=new dL(w,w[qr],w[fo]);M.detach(M.indexOf(h))}}const C=this._adjustIndex(p),E=this._lContainer;return W2(E,g,C,m),h.attachToViewContainerRef(),SE($m(E),C,h),h}move(h,p){return this.insert(h,p)}indexOf(h){const p=M$(this._lContainer);return null!==p?p.indexOf(h):-1}remove(h){const p=this._adjustIndex(h,-1),m=P2(this._lContainer,p);m&&(ds($m(this._lContainer),p),D1(m[Ue],m))}detach(h){const p=this._adjustIndex(h,-1),m=P2(this._lContainer,p);return m&&null!=ds($m(this._lContainer),p)?new Hp(m):null}_adjustIndex(h,p=0){return h??this.length+p}};function M$(d){return d[8]}function $m(d){return d[8]||(d[8]=[])}function uL(d,h){let p;const m=h[d.index];return Zr(m)?p=m:(p=N8(m,h,null,d),h[d.index]=p,zp(h,p)),JM(p,h,d,m),new dL(p,d,h)}let JM=function pL(d,h,p,m){if(d[hh])return;let g;g=8&p.type?pi(m):function vu(d,h){const p=d[Qt],m=p.createComment(""),g=Ta(h,d);return ta(p,yh(p,g),m,function w1(d,h){return d.nextSibling(h)}(p,g),!1),m}(h,p),d[hh]=g},qM=()=>!1;class QM{constructor(h){this.queryList=h,this.matches=null}clone(){return new QM(this.queryList)}setDirty(){this.queryList.setDirty()}}class ZM{constructor(h=[]){this.queries=h}createEmbeddedView(h){const p=h.queries;if(null!==p){const m=null!==h.contentQueries?h.contentQueries[0]:p.length,g=[];for(let C=0;C<m;C++){const E=p.getByIndex(C);g.push(this.queries[E.indexInDeclarationView].clone())}return new ZM(g)}return null}insertView(h){this.dirtyQueriesWithMatches(h)}detachView(h){this.dirtyQueriesWithMatches(h)}finishViewCreation(h){this.dirtyQueriesWithMatches(h)}dirtyQueriesWithMatches(h){for(let p=0;p<this.queries.length;p++)null!==Xy(h,p).matches&&this.queries[p].setDirty()}}class fL{constructor(h,p,m=null){this.flags=p,this.read=m,this.predicate="string"==typeof h?function N$(d){return d.split(",").map(h=>h.trim())}(h):h}}class e3{constructor(h=[]){this.queries=h}elementStart(h,p){for(let m=0;m<this.queries.length;m++)this.queries[m].elementStart(h,p)}elementEnd(h){for(let p=0;p<this.queries.length;p++)this.queries[p].elementEnd(h)}embeddedTView(h){let p=null;for(let m=0;m<this.length;m++){const g=null!==p?p.length:0,C=this.getByIndex(m).embeddedTView(h,g);C&&(C.indexInDeclarationView=m,null!==p?p.push(C):p=[C])}return null!==p?new e3(p):null}template(h,p){for(let m=0;m<this.queries.length;m++)this.queries[m].template(h,p)}getByIndex(h){return this.queries[h]}get length(){return this.queries.length}track(h){this.queries.push(h)}}class Xm{constructor(h,p=-1){this.metadata=h,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=p}elementStart(h,p){this.isApplyingToNode(p)&&this.matchTNode(h,p)}elementEnd(h){this._declarationNodeIndex===h.index&&(this._appliesToNextNode=!1)}template(h,p){this.elementStart(h,p)}embeddedTView(h,p){return this.isApplyingToNode(h)?(this.crossesNgTemplate=!0,this.addMatch(-h.index,p),new Xm(this.metadata)):null}isApplyingToNode(h){if(this._appliesToNextNode&&1&~this.metadata.flags){const p=this._declarationNodeIndex;let m=h.parent;for(;null!==m&&8&m.type&&m.index!==p;)m=m.parent;return p===(null!==m?m.index:-1)}return this._appliesToNextNode}matchTNode(h,p){const m=this.metadata.predicate;if(Array.isArray(m))for(let g=0;g<m.length;g++){const C=m[g];this.matchTNodeWithReadOption(h,p,R$(p,C)),this.matchTNodeWithReadOption(h,p,KE(p,h,C,!1,!1))}else m===J2?4&p.type&&this.matchTNodeWithReadOption(h,p,-1):this.matchTNodeWithReadOption(h,p,KE(p,h,m,!1,!1))}matchTNodeWithReadOption(h,p,m){if(null!==m){const g=this.metadata.read;if(null!==g)if(g===S2||g===$y||g===J2&&4&p.type)this.addMatch(p.index,-2);else{const C=KE(p,h,g,!1,!1);null!==C&&this.addMatch(p.index,C)}else this.addMatch(p.index,m)}}addMatch(h,p){null===this.matches?this.matches=[h,p]:this.matches.push(h,p)}}function R$(d,h){const p=d.localNames;if(null!==p)for(let m=0;m<p.length;m+=2)if(p[m]===h)return p[m+1];return null}function t3(d,h,p,m){return-1===p?function A$(d,h){return 11&d.type?Ip(d,h):4&d.type?Ny(d,h):null}(h,d):-2===p?function mL(d,h,p){return p===S2?Ip(h,d):p===J2?Ny(h,d):p===$y?uL(h,d):void 0}(d,h,m):Tm(d,d[Ue],p,h)}function Wm(d,h,p,m){const g=h[nu].queries[m];if(null===g.matches){const C=d.data,E=p.matches,y=[];for(let w=0;null!==E&&w<E.length;w+=2){const M=E[w];y.push(M<0?null:t3(h,C[M],E[w+1],p.metadata.read))}g.matches=y}return g.matches}function n3(d,h,p,m){const g=d.queries.getByIndex(p),C=g.matches;if(null!==C){const E=Wm(d,h,g,p);for(let y=0;y<C.length;y+=2){const w=C[y];if(w>0)m.push(E[y/2]);else{const M=C[y+1],A=h[-w];for(let B=Mo;B<A.length;B++){const K=A[B];K[e2]===K[fo]&&n3(K[Ue],K,M,m)}if(null!==A[s1]){const B=A[s1];for(let K=0;K<B.length;K++){const Z=B[K];n3(Z[Ue],Z,M,m)}}}}}return m}function _L(d,h,p){const m=new QE(!(4&~p));return function k8(d,h,p,m){const g=P8(h);g.push(p),d.firstCreatePass&&G8(d).push(m,g.length-1)}(d,h,m,m.destroy),(h[nu]??=new ZM).queries.push(new QM(m))-1}function s3(d,h,p){null===d.queries&&(d.queries=new e3),d.queries.track(new Xm(h,p))}function Xy(d,h){return d.queries.getByIndex(h)}function o3(d,h){const p=d[Ue],m=Xy(p,h);return m.crossesNgTemplate?n3(p,d,h,[]):Wm(p,d,m,h)}function bL(d){return function SL(d){return"function"==typeof d&&void 0!==d[s]}(d)&&"function"==typeof d.set}function l3(d){let h=function xL(d){return Object.getPrototypeOf(d.prototype).constructor}(d.type),p=!0;const m=[d];for(;h;){let g;if(iu(d))g=h.\u0275cmp||h.\u0275dir;else{if(h.\u0275cmp)throw new at(903,!1);g=h.\u0275dir}if(g){if(p){m.push(g);const E=d;E.inputs=Ky(d.inputs),E.inputTransforms=Ky(d.inputTransforms),E.declaredInputs=Ky(d.declaredInputs),E.outputs=Ky(d.outputs);const y=g.hostBindings;y&&PL(d,y);const w=g.viewQuery,M=g.contentQueries;if(w&&NL(d,w),M&&LL(d,M),X$(d,g),tE(d.outputs,g.outputs),iu(g)&&g.data.animation){const A=d.data;A.animation=(A.animation||[]).concat(g.data.animation)}}const C=g.features;if(C)for(let E=0;E<C.length;E++){const y=C[E];y&&y.ngInherit&&y(d),y===l3&&(p=!1)}}h=Object.getPrototypeOf(h)}!function W$(d){let h=0,p=null;for(let m=d.length-1;m>=0;m--){const g=d[m];g.hostVars=h+=g.hostVars,g.hostAttrs=qi(g.hostAttrs,p=qi(p,g.hostAttrs))}}(m)}function X$(d,h){for(const p in h.inputs){if(!h.inputs.hasOwnProperty(p)||d.inputs.hasOwnProperty(p))continue;const m=h.inputs[p];if(void 0!==m&&(d.inputs[p]=m,d.declaredInputs[p]=h.declaredInputs[p],null!==h.inputTransforms)){const g=Array.isArray(m)?m[0]:m;if(!h.inputTransforms.hasOwnProperty(g))continue;d.inputTransforms??={},d.inputTransforms[g]=h.inputTransforms[g]}}}function Ky(d){return d===mc?{}:d===Kn?[]:d}function NL(d,h){const p=d.viewQuery;d.viewQuery=p?(m,g)=>{h(m,g),p(m,g)}:h}function LL(d,h){const p=d.contentQueries;d.contentQueries=p?(m,g,C)=>{h(m,g,C),p(m,g,C)}:h}function PL(d,h){const p=d.hostBindings;d.hostBindings=p?(m,g)=>{h(m,g),p(m,g)}:h}function FL(d){const h=d.inputConfig,p={};for(const m in h)if(h.hasOwnProperty(m)){const g=h[m];Array.isArray(g)&&g[3]&&(p[m]=g[3])}d.inputTransforms=p}class Kp{}class BL{}function q$(d,h){return new d3(d,h??null,[])}class d3 extends Kp{constructor(h,p,m){super(),this._parent=p,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new YM(this);const g=Ft(h);this._bootstrapComponents=xl(g.bootstrap),this._r3Injector=CN(h,p,[{provide:Kp,useValue:this},{provide:tC,useValue:this.componentFactoryResolver},...m],Vn(h),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(h)}get injector(){return this._r3Injector}destroy(){const h=this._r3Injector;!h.destroyed&&h.destroy(),this.destroyCbs.forEach(p=>p()),this.destroyCbs=null}onDestroy(h){this.destroyCbs.push(h)}}class u3 extends BL{constructor(h){super(),this.moduleType=h}create(h){return new d3(this.moduleType,h,[])}}class h3 extends Kp{constructor(h){super(),this.componentFactoryResolver=new YM(this),this.instance=null;const p=new Zg([...h.providers,{provide:Kp,useValue:this},{provide:tC,useValue:this.componentFactoryResolver}],h.parent||ME(),h.debugName,new Set(["environment"]));this.injector=p,h.runEnvironmentInitializers&&p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(h){this.injector.onDestroy(h)}}function Jy(d,h,p=null){return new h3({providers:d,parent:h,debugName:p,runEnvironmentInitializers:!0}).injector}let L1=(()=>{class d{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Qb.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const p=this.taskId++;return this.pendingTasks.add(p),p}remove(p){this.pendingTasks.delete(p),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(m){return new(m||d)};static#t=this.\u0275prov=Ji({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();function p3(d){return!!oC(d)&&(Array.isArray(d)||!(d instanceof Map)&&Symbol.iterator in d)}function oC(d){return null!==d&&("function"==typeof d||"object"==typeof d)}function gd(d,h,p){return d[h]=p}function Jp(d,h){return d[h]}function Hs(d,h,p){return!Object.is(d[h],p)&&(d[h]=p,!0)}function Ro(d,h,p,m){const g=Hs(d,h,p);return Hs(d,h+1,m)||g}function f3(d,h,p,m,g){const C=Ro(d,h,p,m);return Hs(d,h+2,g)||C}function wc(d,h,p,m,g,C){const E=Ro(d,h,p,m);return Ro(d,h+2,g,C)||E}function P1(d,h,p,m,g,C,E,y){const w=pe(),M=si(),A=d+On,B=M.firstCreatePass?function sX(d,h,p,m,g,C,E,y,w){const M=h.consts,A=Vp(h,d,4,E||null,ph(M,y));R8(h,p,A,ph(M,w)),c1(h,A);const B=A.tView=kM(2,A,m,g,C,h.directiveRegistry,h.pipeRegistry,null,h.schemas,M,null);return null!==h.queries&&(h.queries.template(h,A),B.queries=h.queries.embeddedTView(A)),A}(A,M,w,h,p,m,g,C,E):M.data[A];su(B,!1);const K=m3(M,w,B,d);l1()&&by(M,w,K,B),Ia(K,w);const Z=N8(K,w,K,B);return w[A]=Z,zp(w,Z),function hL(d,h,p){return qM(d,h,p)}(Z,B,w),n2(B)&&j2(M,w,B),null!=E&&wy(w,B,y),P1}let m3=function aC(d,h,p,m){return Cc(!0),h[Qt].createComment("")};function O3(d,h,p,m){const g=pe();return Hs(g,vc(),h)&&(si(),function hu(d,h,p,m,g,C){const E=Ta(d,h);TM(h[Qt],E,C,d.value,p,m,g)}(Os(),g,d,h,p,m)),O3}function fC(d,h,p,m){return Hs(d,vc(),p)?h+Yt(p)+m:bn}function I3(d,h){return d<<17|h<<2}function qm(d){return d>>17&32767}function bu(d){return 2|d}function Jo(d){return(131068&d)>>2}function qo(d,h){return-131069&d|h<<2}function QL(d){return 1|d}function wX(d,h,p,m){const g=d[p+1],C=null===h;let E=m?qm(g):Jo(g),y=!1;for(;0!==E&&(!1===y||C);){const M=d[E+1];aue(d[E],h)&&(y=!0,d[E+1]=m?QL(M):bu(M)),E=m?qm(M):Jo(M)}y&&(d[p+1]=m?bu(g):QL(g))}function aue(d,h){return null===d||null==h||(Array.isArray(d)?d[1]:d)===h||!(!Array.isArray(d)||"string"!=typeof h)&&vm(d,h)>=0}const kr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ZL(d){return d.substring(kr.key,kr.keyEnd)}function lue(d){return d.substring(kr.value,kr.valueEnd)}function R3(d,h){const p=kr.textEnd;return p===h?-1:(h=kr.keyEnd=function kX(d,h,p){for(;h<p&&d.charCodeAt(h)>32;)h++;return h}(d,kr.key=h,p),_C(d,h,p))}function A3(d,h){const p=kr.textEnd;let m=kr.key=_C(d,h,p);return p===m?-1:(m=kr.keyEnd=function due(d,h,p){let m;for(;h<p&&(45===(m=d.charCodeAt(h))||95===m||(-33&m)>=65&&(-33&m)<=90||m>=48&&m<=57);)h++;return h}(d,m,p),m=tP(d,m,p),m=kr.value=_C(d,m,p),m=kr.valueEnd=function uue(d,h,p){let m=-1,g=-1,C=-1,E=h,y=E;for(;E<p;){const w=d.charCodeAt(E++);if(59===w)return y;34===w||39===w?y=E=OX(d,w,E,p):h===E-4&&85===C&&82===g&&76===m&&40===w?y=E=OX(d,41,E,p):w>32&&(y=E),C=g,g=m,m=-33&w}return y}(d,m,p),tP(d,m,p))}function x3(d){kr.key=0,kr.keyEnd=0,kr.value=0,kr.valueEnd=0,kr.textEnd=d.length}function _C(d,h,p){for(;h<p&&d.charCodeAt(h)<=32;)h++;return h}function tP(d,h,p,m){return(h=_C(d,h,p))<p&&h++,h}function OX(d,h,p,m){let g=-1,C=p;for(;C<m;){const E=d.charCodeAt(C++);if(E==h&&92!==g)return C;g=92==E&&92===g?0:E}throw new Error}function nP(d,h,p){const m=pe();return Hs(m,vc(),h)&&Qa(si(),Os(),m,d,h,m[Qt],p,!1),nP}function iP(d,h,p,m,g){const E=g?"class":"style";MM(d,p,h.inputs[E],E,m)}function sP(d,h,p){return yu(d,h,p,!1),sP}function oP(d,h){return yu(d,h,null,!0),oP}function Eu(d){Du(oD,hue,d,!1)}function hue(d,h){for(let p=function eP(d){return x3(d),A3(d,_C(d,0,kr.textEnd))}(h);p>=0;p=A3(h,p))oD(d,ZL(h),lue(h))}function TX(d){Du(RX,kh,d,!0)}function kh(d,h){for(let p=function cue(d){return x3(d),R3(d,_C(d,0,kr.textEnd))}(h);p>=0;p=R3(h,p))Ja(d,ZL(h),!0)}function yu(d,h,p,m){const g=pe(),C=si(),E=dd(2);C.firstUpdatePass&&IX(C,d,E,m),h!==bn&&Hs(g,E,h)&&AX(C,C.data[yr()],g,g[Qt],d,g[E+1]=function Sue(d,h){return null==d||""===d||("string"==typeof h?d+=h:"object"==typeof d&&(d=Vn(hd(d)))),d}(h,p),m,E)}function Du(d,h,p,m){const g=si(),C=dd(2);g.firstUpdatePass&&IX(g,null,C,m);const E=pe();if(p!==bn&&Hs(E,C,p)){const y=g.data[yr()];if(NX(y,m)&&!MX(g,C)){let w=m?y.classesWithoutHost:y.stylesWithoutHost;null!==w&&(p=Gv(w,p||"")),iP(g,y,E,p,m)}else!function gue(d,h,p,m,g,C,E,y){g===bn&&(g=Kn);let w=0,M=0,A=0<g.length?g[0]:null,B=0<C.length?C[0]:null;for(;null!==A||null!==B;){const K=w<g.length?g[w+1]:void 0,Z=M<C.length?C[M+1]:void 0;let fe,re=null;A===B?(w+=2,M+=2,K!==Z&&(re=B,fe=Z)):null===B||null!==A&&A<B?(w+=2,re=A):(M+=2,re=B,fe=Z),null!==re&&AX(d,h,p,m,re,fe,E,y),A=w<g.length?g[w]:null,B=M<C.length?C[M]:null}}(g,y,E,E[Qt],E[C+1],E[C+1]=function _ue(d,h,p){if(null==p||""===p)return Kn;const m=[],g=hd(p);if(Array.isArray(g))for(let C=0;C<g.length;C++)d(m,g[C],!0);else if("object"==typeof g)for(const C in g)g.hasOwnProperty(C)&&d(m,C,g[C]);else"string"==typeof g&&h(m,g);return m}(d,h,p),m,C)}}function MX(d,h){return h>=d.expandoStartIndex}function IX(d,h,p,m){const g=d.data;if(null===g[p+1]){const C=g[yr()],E=MX(d,p);NX(C,m)&&null===h&&!E&&(h=!1),h=function pue(d,h,p,m){const g=c2(d);let C=m?h.residualClasses:h.residualStyles;if(null===g)0===(m?h.classBindings:h.styleBindings)&&(p=gC(p=rP(null,d,h,p,m),h.attrs,m),C=null);else{const E=h.directiveStylingLast;if(-1===E||d[E]!==g)if(p=rP(g,d,h,p,m),null===C){let w=function fue(d,h,p){const m=p?h.classBindings:h.styleBindings;if(0!==Jo(m))return d[qm(m)]}(d,h,m);void 0!==w&&Array.isArray(w)&&(w=rP(null,d,h,w[1],m),w=gC(w,h.attrs,m),function mue(d,h,p,m){d[qm(p?h.classBindings:h.styleBindings)]=m}(d,h,m,w))}else C=function N3(d,h,p){let m;const g=h.directiveEnd;for(let C=1+h.directiveStylingLast;C<g;C++)m=gC(m,d[C].hostAttrs,p);return gC(m,h.attrs,p)}(d,h,m)}return void 0!==C&&(m?h.residualClasses=C:h.residualStyles=C),p}(g,C,h,m),function DX(d,h,p,m,g,C){let E=C?h.classBindings:h.styleBindings,y=qm(E),w=Jo(E);d[m]=p;let A,M=!1;if(Array.isArray(p)?(A=p[1],(null===A||vm(p,A)>0)&&(M=!0)):A=p,g)if(0!==w){const K=qm(d[y+1]);d[m+1]=I3(K,y),0!==K&&(d[K+1]=qo(d[K+1],m)),d[y+1]=function sue(d,h){return 131071&d|h<<17}(d[y+1],m)}else d[m+1]=I3(y,0),0!==y&&(d[y+1]=qo(d[y+1],m)),y=m;else d[m+1]=I3(w,0),0===y?y=m:d[w+1]=qo(d[w+1],m),w=m;M&&(d[m+1]=bu(d[m+1])),wX(d,A,m,!0),wX(d,A,m,!1),function rue(d,h,p,m,g){const C=g?d.residualClasses:d.residualStyles;null!=C&&"string"==typeof h&&vm(C,h)>=0&&(p[m+1]=QL(p[m+1]))}(h,A,d,m,C),E=I3(y,w),C?h.classBindings=E:h.styleBindings=E}(g,C,h,p,E,m)}}function rP(d,h,p,m,g){let C=null;const E=p.directiveEnd;let y=p.directiveStylingLast;for(-1===y?y=p.directiveStart:y++;y<E&&(C=h[y],m=gC(m,C.hostAttrs,g),C!==d);)y++;return null!==d&&(p.directiveStylingLast=y),m}function gC(d,h,p){const m=p?1:2;let g=-1;if(null!==h)for(let C=0;C<h.length;C++){const E=h[C];"number"==typeof E?g=E:g===m&&(Array.isArray(d)||(d=void 0===d?[]:["",d]),Ja(d,E,!!p||h[++C]))}return void 0===d?null:d}function oD(d,h,p){Ja(d,h,hd(p))}function RX(d,h,p){const m=String(h);""!==m&&!m.includes(" ")&&Ja(d,m,p)}function AX(d,h,p,m,g,C,E,y){if(!(3&h.type))return;const w=d.data,M=w[y+1],A=function tl(d){return!(1&~d)}(M)?xX(w,h,p,g,Jo(M),E):void 0;L3(A)||(L3(C)||function iue(d){return!(2&~d)}(M)&&(C=xX(w,null,p,g,y,E)),function Aj(d,h,p,m,g){if(h)g?d.addClass(p,m):d.removeClass(p,m);else{let C=-1===m.indexOf("-")?void 0:bh.DashCase;null==g?d.removeStyle(p,m,C):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),C|=bh.Important),d.setStyle(p,m,g,C))}}(m,E,o2(yr(),p),g,C))}function xX(d,h,p,m,g,C){const E=null===h;let y;for(;g>0;){const w=d[g],M=Array.isArray(w),A=M?w[1]:w,B=null===A;let K=p[g+1];K===bn&&(K=B?Kn:void 0);let Z=B?yp(K,m):A===m?K:void 0;if(M&&!L3(Z)&&(Z=yp(w,m)),L3(Z)&&(y=Z,E))return y;const re=d[g+1];g=E?qm(re):Jo(re)}if(null!==h){let w=C?h.residualClasses:h.residualStyles;null!=w&&(y=yp(w,m))}return y}function L3(d){return void 0!==d}function NX(d,h){return!!(d.flags&(h?8:16))}function LX(d,h,p){Du(Ja,kh,fC(pe(),d,h,p),!0)}function P3(d,h,p,m){const g=pe(),C=si(),E=On+d,y=g[Qt],w=C.firstCreatePass?function Uue(d,h,p,m,g,C){const E=h.consts,w=Vp(h,d,2,m,ph(E,g));return R8(h,p,w,ph(E,C)),null!==w.attrs&&A1(w,w.attrs,!1),null!==w.mergedAttrs&&A1(w,w.mergedAttrs,!0),null!==h.queries&&h.queries.elementStart(h,w),w}(E,C,g,h,p,m):C.data[E],M=VX(C,g,w,y,h,d);g[E]=M;const A=n2(w);return su(w,!0),yy(y,M,w),!function rC(d){return!(32&~d.flags)}(w)&&l1()&&by(C,g,M,w),0===function EH(){return pn.lFrame.elementDepthCount}()&&Ia(M,g),function yH(){pn.lFrame.elementDepthCount++}(),A&&(j2(C,g,w),H2(C,w,g)),null!==m&&wy(g,w),P3}function G3(){let d=Hi();cT()?dT():(d=d.parent,su(d,!1));const h=d;(function wH(d){return pn.skipHydrationRootTNode===d})(h)&&function MH(){pn.skipHydrationRootTNode=null}(),function DH(){pn.lFrame.elementDepthCount--}();const p=si();return p.firstCreatePass&&(c1(p,d),LE(d)&&p.queries.elementEnd(d)),null!=h.classesWithoutHost&&function NH(d){return!!(8&d.flags)}(h)&&iP(p,h,pe(),h.classesWithoutHost,!0),null!=h.stylesWithoutHost&&function bT(d){return!!(16&d.flags)}(h)&&iP(p,h,pe(),h.stylesWithoutHost,!1),G3}function uP(d,h,p,m){return P3(d,h,p,m),G3(),uP}let VX=(d,h,p,m,g,C)=>(Cc(!0),L2(m,g,function u2(){return pn.lFrame.currentNamespace}()));function U3(d,h,p){const m=pe(),g=si(),C=d+On,E=g.firstCreatePass?function Bue(d,h,p,m,g){const C=h.consts,E=ph(C,m),y=Vp(h,d,8,"ng-container",E);return null!==E&&A1(y,E,!0),R8(h,p,y,ph(C,g)),null!==h.queries&&h.queries.elementStart(h,y),y}(C,g,m,h,p):g.data[C];su(E,!0);const y=HX(g,m,E,d);return m[C]=y,l1()&&by(g,m,y,E),Ia(y,m),n2(E)&&(j2(g,m,E),H2(g,E,m)),null!=p&&wy(m,E),U3}function F3(){let d=Hi();const h=si();return cT()?dT():(d=d.parent,su(d,!1)),h.firstCreatePass&&(c1(h,d),LE(d)&&h.queries.elementEnd(d)),F3}function hP(d,h,p){return U3(d,h,p),F3(),hP}let HX=(d,h,p,m)=>(Cc(!0),vy(h[Qt],""));function jX(){return pe()}function pP(d,h,p){const m=pe();return Hs(m,vc(),h)&&Qa(si(),Os(),m,d,h,m[Qt],p,!0),pP}function fP(d,h,p){const m=pe();if(Hs(m,vc(),h)){const C=si(),E=Os();Qa(C,E,m,d,h,U8(c2(C.data),E,m),p,!0)}return fP}const j1=void 0;var jue=["en",[["a","p"],["AM","PM"],j1],[["AM","PM"],j1,j1],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],j1,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],j1,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",j1,"{1} 'at' {0}",j1],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Hue(d){const p=Math.floor(Math.abs(d)),m=d.toString().replace(/^[^.]*\.?/,"").length;return 1===p&&0===m?1:5}];let SC={};function $ue(d,h,p){"string"!=typeof h&&(p=h,h=d[vC.LocaleId]),h=h.toLowerCase().replace(/_/g,"-"),SC[h]=d,p&&(SC[h][vC.ExtraData]=p)}function mP(d){const h=function Wue(d){return d.toLowerCase().replace(/_/g,"-")}(d);let p=XX(h);if(p)return p;const m=h.split("-")[0];if(p=XX(m),p)return p;if("en"===m)return jue;throw new at(701,!1)}function $X(d){return mP(d)[vC.PluralCase]}function XX(d){return d in SC||(SC[d]=zi.ng&&zi.ng.common&&zi.ng.common.locales&&zi.ng.common.locales[d]),SC[d]}var vC=function(d){return d[d.LocaleId=0]="LocaleId",d[d.DayPeriodsFormat=1]="DayPeriodsFormat",d[d.DayPeriodsStandalone=2]="DayPeriodsStandalone",d[d.DaysFormat=3]="DaysFormat",d[d.DaysStandalone=4]="DaysStandalone",d[d.MonthsFormat=5]="MonthsFormat",d[d.MonthsStandalone=6]="MonthsStandalone",d[d.Eras=7]="Eras",d[d.FirstDayOfWeek=8]="FirstDayOfWeek",d[d.WeekendRange=9]="WeekendRange",d[d.DateFormat=10]="DateFormat",d[d.TimeFormat=11]="TimeFormat",d[d.DateTimeFormat=12]="DateTimeFormat",d[d.NumberSymbols=13]="NumberSymbols",d[d.NumberFormats=14]="NumberFormats",d[d.CurrencyCode=15]="CurrencyCode",d[d.CurrencySymbol=16]="CurrencySymbol",d[d.CurrencyName=17]="CurrencyName",d[d.Currencies=18]="Currencies",d[d.Directionality=19]="Directionality",d[d.PluralCase=20]="PluralCase",d[d.ExtraData=21]="ExtraData",d}(vC||{});const Kue=["zero","one","two","few","many"],CC="en-US",B3={marker:"element"},V3={marker:"ICU"};let WX=CC;function rD(d,h){const p=d.data[h];return null===p||"string"==typeof p?null:p.hasOwnProperty("currentCaseLViewIndex")?p:p.value}function z3(d,h){const p=h[d.currentCaseLViewIndex];return null===p?p:p<0?~p:p}function _P(d){return d>>>17}function gP(d){return(131070&d)>>>1}let Qm=0,aD=0;let bC=(d,h,p,m)=>(Cc(!0),function lD(d,h,p){const m=d[Qt];switch(p){case Node.COMMENT_NODE:return vy(m,h);case Node.TEXT_NODE:return xm(m,h);case Node.ELEMENT_NODE:return L2(m,h,null)}}(d,p,m));function nW(d,h,p,m){const g=p[Qt];let E,C=null;for(let y=0;y<h.length;y++){const w=h[y];if("string"==typeof w){const M=h[++y];null===p[M]&&(p[M]=bC(p,M,w,Node.TEXT_NODE))}else if("number"==typeof w)switch(1&w){case 0:const M=_P(w);let A,B;if(null===C&&(C=M,E=yh(g,m)),M===C?(A=m,B=E):(A=null,B=pi(p[M])),null!==B){const fe=gP(w);ta(g,B,p[fe],A,!1);const je=rD(d,fe);if(null!==je&&"object"==typeof je){const Ee=z3(je,p);null!==Ee&&nW(d,je.create[Ee],p,p[je.anchorIdx])}}break;case 1:const Z=h[++y],re=h[++y];TM(g,o2(w>>>1,p),null,null,Z,re,null)}else switch(w){case V3:const M=h[++y],A=h[++y];null===p[A]&&Ia(p[A]=bC(p,A,M,Node.COMMENT_NODE),p);break;case B3:const B=h[++y],K=h[++y];null===p[K]&&Ia(p[K]=bC(p,K,B,Node.ELEMENT_NODE),p)}}}function iW(d,h,p,m,g){for(let C=0;C<p.length;C++){const E=p[C],y=p[++C];if(E&g){let w="";for(let M=C+1;M<=C+y;M++){const A=p[M];if("string"==typeof A)w+=A;else if("number"==typeof A)if(A<0)w+=Yt(h[m-A]);else{const B=A>>>2;switch(3&A){case 1:const K=p[++M],Z=p[++M],re=d.data[B];"string"==typeof re?TM(h[Qt],h[B],null,re,K,w,Z):Qa(d,re,h,K,w,h[Qt],Z,!1);break;case 0:const fe=h[B];null!==fe&&Sy(h[Qt],fe,w);break;case 2:sW(d,rD(d,B),h,w);break;case 3:SP(d,rD(d,B),m,h)}}}}else{const w=p[C+1];if(w>0&&!(3&~w)){const A=rD(d,w>>>2);h[A.currentCaseLViewIndex]<0&&SP(d,A,m,h)}}C+=y}}function SP(d,h,p,m){let g=m[h.currentCaseLViewIndex];if(null!==g){let C=Qm;g<0&&(g=m[h.currentCaseLViewIndex]=~g,C=-1),iW(d,m,h.update[g],p,C)}}function sW(d,h,p,m){const g=function rhe(d,h){let p=d.cases.indexOf(h);if(-1===p)switch(d.type){case 1:{const m=function Yue(d,h){const p=$X(h)(parseInt(d,10)),m=Kue[p];return void 0!==m?m:"other"}(h,function que(){return WX}());p=d.cases.indexOf(m),-1===p&&"other"!==m&&(p=d.cases.indexOf("other"));break}case 0:p=d.cases.indexOf("other")}return-1===p?null:p}(h,m);if(z3(h,p)!==g&&(oW(d,h,p),p[h.currentCaseLViewIndex]=null===g?null:~g,null!==g)){const E=p[h.anchorIdx];E&&nW(d,h.create[g],p,E)}}function oW(d,h,p){let m=z3(h,p);if(null!==m){const g=h.remove[m];for(let C=0;C<g.length;C++){const E=g[C];if(E>0){const y=o2(E,p);null!==y&&B2(p[Qt],y)}else oW(d,rD(d,~E),p)}}}const dD=/\ufffd(\d+):?\d*\ufffd/gi,aW=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi;function Zm(d,h,p,m,g,C){const E=d.length,y=E+1;d.push(null,null);const w=E+2,M=h.split(dD);let A=0;for(let B=0;B<M.length;B++){const K=M[B];if(1&B){const Z=g+parseInt(K,10);d.push(-1-Z),A|=yC(Z)}else""!==K&&d.push(K)}return d.push(p<<2|(m?1:0)),m&&d.push(m,C),d[E]=A,d[y]=d.length-w,A}function $3(d){let h=0;for(let p=0;p<d.length;p++){const m=d[p];"number"==typeof m&&m<0&&h++}return h}function yC(d){return 1<<Math.min(d,31)}function CW(d,h){const p=si(),m=ph(p.consts,h);!function hhe(d,h,p){const g=Hi().index,C=[];if(d.firstCreatePass&&null===d.data[h]){for(let E=0;E<p.length;E+=2){const y=p[E],w=p[E+1];if(""!==w){if(aW.test(w))throw new Error(`ICU expressions are not supported in attributes. Message: "${w}".`);Zm(C,w,g,y,$3(C),null)}}d.data[h]=C}}(p,d+On,m)}function wP(d){return function eW(d){d&&(Qm|=1<<Math.min(aD,31)),aD++}(Hs(pe(),vc(),d)),wP}function bW(d){!function j3(d,h,p){if(aD>0){const m=d.data[p];iW(d,h,Array.isArray(m)?m:m.update,fh()-aD-1,Qm)}Qm=0,aD=0}(si(),pe(),d+On)}function kP(d,h,p,m){const g=pe(),C=si(),E=Hi();return OP(C,g,g[Qt],E,d,h,m),kP}function OP(d,h,p,m,g,C,E){const y=n2(m),M=d.firstCreatePass&&G8(d),A=h[ks],B=P8(h);let K=!0;if(3&m.type||E){const fe=Ta(m,h),Ae=E?E(fe):fe,je=B.length,Ee=E?vi=>E(pi(vi[m.index])):m.index;let en=null;if(!E&&y&&(en=function whe(d,h,p,m){const g=d.cleanup;if(null!=g)for(let C=0;C<g.length-1;C+=2){const E=g[C];if(E===p&&g[C+1]===m){const y=h[t1],w=g[C+2];return y.length>w?y[w]:null}"string"==typeof E&&(C+=2)}return null}(d,h,g,m.index)),null!==en)(en.__ngLastListenerFn__||en).__ngNextListenerFn__=C,en.__ngLastListenerFn__=C,K=!1;else{C=DW(m,h,A,C,!1);const vi=p.listen(Ae,g,C);B.push(C,vi),M&&M.push(g,Ee,je,je+1)}}else C=DW(m,h,A,C,!1);const Z=m.outputs;let re;if(K&&null!==Z&&(re=Z[g])){const fe=re.length;if(fe)for(let Ae=0;Ae<fe;Ae+=2){const us=h[re[Ae]][re[Ae+1]].subscribe(C),Tr=B.length;B.push(C,us),M&&M.push(g,m.index,Tr,-(Tr+1))}}}function yW(d,h,p,m){const g=rt(null);try{return oo(6,h,p),!1!==p(m)}catch(C){return Iy(d,C),!1}finally{oo(7,h,p),rt(g)}}function DW(d,h,p,m,g){return function C(E){if(E===Function)return m;Y2(d.componentOffset>-1?Tl(d.index,h):h);let w=yW(h,p,m,E),M=C.__ngNextListenerFn__;for(;M;)w=yW(h,p,M,E)&&w,M=M.__ngNextListenerFn__;return g&&!1===w&&E.preventDefault(),w}}function wW(d=1){return function _T(d){return(pn.lFrame.contextLView=function Z6(d,h){for(;d>0;)h=h[Zv],d--;return h}(d,pn.lFrame.contextLView))[ks]}(d)}function khe(d,h){let p=null;const m=function Yv(d){const h=d.attrs;if(null!=h){const p=h.indexOf(5);if(!(1&p))return h[p+1]}return null}(d);for(let g=0;g<h.length;g++){const C=h[g];if("*"!==C){if(null===m?OE(d,C,!0):x6(m,C))return g}else p=g}return p}function kW(d){const h=pe()[Vs][qr];if(!h.projection){const m=h.projection=function Sm(d,h){const p=[];for(let m=0;m<d;m++)p.push(h);return p}(d?d.length:1,null),g=m.slice();let C=h.child;for(;null!==C;){const E=d?khe(C,d):0;null!==E&&(g[E]?g[E].projectionNext=C:m[E]=C,g[E]=C),C=C.next}}}function OW(d,h=0,p){const m=pe(),g=si(),C=Vp(g,On+d,16,null,p||null);null===C.projection&&(C.projection=h),dT(),(!m[Ol]||a1())&&32&~C.flags&&function EM(d,h,p){Ey(h[Qt],0,h,p,Nm(d,p,h),U2(p.parent||h[qr],p,h))}(g,m,C)}function TP(d,h,p){return X3(d,"",h,"",p),TP}function X3(d,h,p,m,g){const C=pe(),E=fC(C,h,p,m);return E!==bn&&Qa(si(),Os(),C,d,E,C[Qt],g,!1),X3}function xW(d,h,p,m){!function gL(d,h,p,m){const g=si();if(g.firstCreatePass){const C=Hi();s3(g,new fL(h,p,m),C.index),function L$(d,h){const p=d.contentQueries||(d.contentQueries=[]);h!==(p.length?p[p.length-1]:-1)&&p.push(d.queries.length-1,h)}(g,d),!(2&~p)&&(g.staticContentQueries=!0)}return _L(g,pe(),p)}(d,h,p,m)}function NW(d,h,p){!function x$(d,h,p){const m=si();return m.firstCreatePass&&(s3(m,new fL(d,h,p),-1),!(2&~h)&&(m.staticViewQueries=!0)),_L(m,pe(),h)}(d,h,p)}function LW(d){const h=pe(),p=si(),m=pT();ou(m+1);const g=Xy(p,m);if(d.dirty&&function r2(d){return!(4&~d[At])}(h)===!(2&~g.metadata.flags)){if(null===g.matches)d.reset([]);else{const C=o3(h,m);d.reset(C,DN),d.notifyOnChanges()}return!0}return!1}function PW(){return function iC(d,h){return d[nu].queries[h].queryList}(pe(),pT())}function GW(d){return r1(function IH(){return pn.lFrame.contextLView}(),On+d)}function XW(d,h=""){const p=pe(),m=si(),g=d+On,C=m.firstCreatePass?Vp(m,g,1,h,null):m.data[g],E=LP(m,p,C,h,d);p[g]=E,l1()&&by(m,p,E,C),su(C,!1)}let LP=(d,h,p,m,g)=>(Cc(!0),xm(h[Qt],m));function PP(d){return W3("",d,""),PP}function W3(d,h,p){const m=pe(),g=fC(m,d,h,p);return g!==bn&&pu(m,yr(),g),W3}function GP(d,h,p,m,g){const C=pe(),E=function Ll(d,h,p,m,g,C){const y=Ro(d,fh(),p,g);return dd(2),y?h+Yt(p)+m+Yt(g)+C:bn}(C,d,h,p,m,g);return E!==bn&&pu(C,yr(),E),GP}function UP(d,h,p,m,g,C,E,y,w,M,A){const B=pe(),K=function H1(d,h,p,m,g,C,E,y,w,M,A,B){const K=fh();let Z=wc(d,K,p,g,E,w);return Z=Hs(d,K+4,A)||Z,dd(5),Z?h+Yt(p)+m+Yt(g)+C+Yt(E)+y+Yt(w)+M+Yt(A)+B:bn}(B,d,h,p,m,g,C,E,y,w,M,A);return K!==bn&&pu(B,yr(),K),UP}function FP(d,h,p){bL(h)&&(h=h());const m=pe();return Hs(m,vc(),h)&&Qa(si(),Os(),m,d,h,m[Qt],p,!1),FP}function ZW(d,h){const p=bL(d);return p&&d.set(h),p}function BP(d,h){const p=pe(),m=si(),g=Hi();return OP(m,p,p[Qt],g,d,h),BP}function K3(d,h,p,m,g){if(d=Kt(d),Array.isArray(d))for(let C=0;C<d.length;C++)K3(d[C],h,p,m,g);else{const C=si(),E=pe(),y=Hi();let w=Qg(d)?d:Kt(d.provide);const M=rH(d),A=1048575&y.providerIndexes,B=y.directiveStart,K=y.providerIndexes>>20;if(Qg(d)||!d.multi){const Z=new p2(M,g,Pm),re=VP(w,h,g?A:A+K,B);-1===re?(d1(XE(y,E),C,w),Y3(C,d,h.length),h.push(w),y.directiveStart++,y.directiveEnd++,g&&(y.providerIndexes+=1048576),p.push(Z),E.push(Z)):(p[re]=Z,E[re]=Z)}else{const Z=VP(w,h,A+K,B),re=VP(w,h,A,A+K),Ae=re>=0&&p[re];if(g&&!Ae||!g&&!(Z>=0&&p[Z])){d1(XE(y,E),C,w);const je=function Vhe(d,h,p,m,g){const C=new p2(d,p,Pm);return C.multi=[],C.index=h,C.componentProviders=0,eK(C,g,m&&!p),C}(g?Bhe:tK,p.length,g,m,M);!g&&Ae&&(p[re].providerFactory=je),Y3(C,d,h.length,0),h.push(w),y.directiveStart++,y.directiveEnd++,g&&(y.providerIndexes+=1048576),p.push(je),E.push(je)}else Y3(C,d,Z>-1?Z:re,eK(p[g?re:Z],M,!g&&m));!g&&m&&Ae&&p[re].componentProviders++}}}function Y3(d,h,p,m){const g=Qg(h),C=function Rce(d){return!!d.useClass}(h);if(g||C){const w=(C?Kt(h.useClass):h).prototype.ngOnDestroy;if(w){const M=d.destroyHooks||(d.destroyHooks=[]);if(!g&&h.multi){const A=M.indexOf(p);-1===A?M.push(p,[m,w]):M[A+1].push(m,w)}else M.push(p,w)}}}function eK(d,h,p){return p&&d.componentProviders++,d.multi.push(h)-1}function VP(d,h,p,m){for(let g=p;g<m;g++)if(h[g]===d)return g;return-1}function tK(d,h,p,m){return zP(this.multi,[])}function Bhe(d,h,p,m){const g=this.multi;let C;if(this.providerFactory){const E=this.providerFactory.componentProviders,y=Tm(p,p[Ue],this.providerFactory.index,m);C=y.slice(0,E),zP(g,C);for(let w=E;w<y.length;w++)C.push(y[w])}else C=[],zP(g,C);return C}function zP(d,h){for(let p=0;p<d.length;p++)h.push((0,d[p])());return h}function nK(d,h=[]){return p=>{p.providersResolver=(m,g)=>function Fhe(d,h,p){const m=si();if(m.firstCreatePass){const g=iu(d);K3(p,m.data,m.blueprint,g,!0),K3(h,m.data,m.blueprint,g,!1)}}(m,g?g(d):d,h)}}let zhe=(()=>{class d{constructor(p){this._injector=p,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(p){if(!p.standalone)return null;if(!this.cachedInjectors.has(p)){const m=L6(0,p.type),g=m.length>0?Jy([m],this._injector,`Standalone[${p.type.name}]`):null;this.cachedInjectors.set(p,g)}return this.cachedInjectors.get(p)}ngOnDestroy(){try{for(const p of this.cachedInjectors.values())null!==p&&p.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ji({token:d,providedIn:"environment",factory:()=>new d(Cr(tu))})}return d})();function iK(d){gu("NgStandalone"),d.getStandaloneInjector=h=>h.get(zhe).getOrCreateStandaloneInjector(d)}function oK(d,h,p){const m=Ma()+d,g=pe();return g[m]===bn?gd(g,m,p?h.call(p):h()):Jp(g,m)}function rK(d,h,p,m){return mK(pe(),Ma(),d,h,p,m)}function aK(d,h,p,m,g){return _K(pe(),Ma(),d,h,p,m,g)}function lK(d,h,p,m,g,C){return q3(pe(),Ma(),d,h,p,m,g,C)}function cK(d,h,p,m,g,C,E){return function gK(d,h,p,m,g,C,E,y,w){const M=h+p;return wc(d,M,g,C,E,y)?gd(d,M+4,w?m.call(w,g,C,E,y):m(g,C,E,y)):fD(d,M+4)}(pe(),Ma(),d,h,p,m,g,C,E)}function dK(d,h,p,m,g,C,E,y){const w=Ma()+d,M=pe(),A=wc(M,w,p,m,g,C);return Hs(M,w+4,E)||A?gd(M,w+5,y?h.call(y,p,m,g,C,E):h(p,m,g,C,E)):Jp(M,w+5)}function uK(d,h,p,m,g,C,E,y,w){const M=Ma()+d,A=pe(),B=wc(A,M,p,m,g,C);return Ro(A,M+4,E,y)||B?gd(A,M+6,w?h.call(w,p,m,g,C,E,y):h(p,m,g,C,E,y)):Jp(A,M+6)}function hK(d,h,p,m,g,C,E,y,w,M){const A=Ma()+d,B=pe();let K=wc(B,A,p,m,g,C);return f3(B,A+4,E,y,w)||K?gd(B,A+7,M?h.call(M,p,m,g,C,E,y,w):h(p,m,g,C,E,y,w)):Jp(B,A+7)}function pK(d,h,p,m,g,C,E,y,w,M,A){const B=Ma()+d,K=pe(),Z=wc(K,B,p,m,g,C);return wc(K,B+4,E,y,w,M)||Z?gd(K,B+8,A?h.call(A,p,m,g,C,E,y,w,M):h(p,m,g,C,E,y,w,M)):Jp(K,B+8)}function fK(d,h,p,m){return function SK(d,h,p,m,g,C){let E=h+p,y=!1;for(let w=0;w<g.length;w++)Hs(d,E++,g[w])&&(y=!0);return y?gd(d,E,m.apply(C,g)):fD(d,E)}(pe(),Ma(),d,h,p,m)}function fD(d,h){const p=d[h];return p===bn?void 0:p}function mK(d,h,p,m,g,C){const E=h+p;return Hs(d,E,g)?gd(d,E+1,C?m.call(C,g):m(g)):fD(d,E+1)}function _K(d,h,p,m,g,C,E){const y=h+p;return Ro(d,y,g,C)?gd(d,y+2,E?m.call(E,g,C):m(g,C)):fD(d,y+2)}function q3(d,h,p,m,g,C,E,y){const w=h+p;return f3(d,w,g,C,E)?gd(d,w+3,y?m.call(y,g,C,E):m(g,C,E)):fD(d,w+3)}function vK(d,h){const p=si();let m;const g=d+On;p.firstCreatePass?(m=function $he(d,h){if(h)for(let p=h.length-1;p>=0;p--){const m=h[p];if(d===m.name)return m}}(h,p.pipeRegistry),p.data[g]=m,m.onDestroy&&(p.destroyHooks??=[]).push(g,m.onDestroy)):m=p.data[g];const C=m.factory||(m.factory=dh(m.type)),y=Kr(Pm);try{const w=DT(!1),M=C();return DT(w),function Ihe(d,h,p,m){p>=d.data.length&&(d.data[p]=null,d.blueprint[p]=null),h[p]=m}(p,pe(),g,M),M}finally{Kr(y)}}function CK(d,h,p){const m=d+On,g=pe(),C=r1(g,m);return mD(g,m)?mK(g,Ma(),h,C.transform,p,C):C.transform(p)}function bK(d,h,p,m){const g=d+On,C=pe(),E=r1(C,g);return mD(C,g)?_K(C,Ma(),h,E.transform,p,m,E):E.transform(p,m)}function EK(d,h,p,m,g){const C=d+On,E=pe(),y=r1(E,C);return mD(E,C)?q3(E,Ma(),h,y.transform,p,m,g,y):y.transform(p,m,g)}function mD(d,h){return d[Ue].data[h].pure}function yK(d,h){return Ny(d,h)}class QP{constructor(h){this.full=h;const p=h.split(".");this.major=p[0],this.minor=p[1],this.patch=p.slice(2).join(".")}}let ZP=(()=>{class d{log(p){console.log(p)}warn(p){console.warn(p)}static#e=this.\u0275fac=function(m){return new(m||d)};static#t=this.\u0275prov=Ji({token:d,factory:d.\u0275fac,providedIn:"platform"})}return d})();const XK=new Zn(""),WK=new Zn("");let tG,Bpe=(()=>{class d{constructor(p,m,g){this._ngZone=p,this.registry=m,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,tG||(function Vpe(d){tG=d}(g),g.addToWindow(m)),this._watchAngularEvents(),p.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ko.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let p=this._callbacks.pop();clearTimeout(p.timeoutId),p.doneCb()}});else{let p=this.getPendingTasks();this._callbacks=this._callbacks.filter(m=>!m.updateCb||!m.updateCb(p)||(clearTimeout(m.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(p=>({source:p.source,creationLocation:p.creationLocation,data:p.data})):[]}addCallback(p,m,g){let C=-1;m&&m>0&&(C=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==C),p()},m)),this._callbacks.push({doneCb:p,timeoutId:C,updateCb:g})}whenStable(p,m,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(p,m,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(p){this.registry.registerApplication(p,this)}unregisterApplication(p){this.registry.unregisterApplication(p)}findProviders(p,m,g){return[]}static#e=this.\u0275fac=function(m){return new(m||d)(Cr(Ko),Cr(KK),Cr(WK))};static#t=this.\u0275prov=Ji({token:d,factory:d.\u0275fac})}return d})(),KK=(()=>{class d{constructor(){this._applications=new Map}registerApplication(p,m){this._applications.set(p,m)}unregisterApplication(p){this._applications.delete(p)}unregisterAllApplications(){this._applications.clear()}getTestability(p){return this._applications.get(p)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(p,m=!0){return tG?.findTestabilityInTree(this,p,m)??null}static#e=this.\u0275fac=function(m){return new(m||d)};static#t=this.\u0275prov=Ji({token:d,factory:d.\u0275fac,providedIn:"platform"})}return d})();function nG(d){return!!d&&"function"==typeof d.then}function YK(d){return!!d&&"function"==typeof d.subscribe}const JK=new Zn("");let iG=(()=>{class d{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((p,m)=>{this.resolve=p,this.reject=m}),this.appInits=cn(JK,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const p=[];for(const g of this.appInits){const C=g();if(nG(C))p.push(C);else if(YK(C)){const E=new Promise((y,w)=>{C.subscribe({complete:y,error:w})});p.push(E)}}const m=()=>{this.done=!0,this.resolve()};Promise.all(p).then(()=>{m()}).catch(g=>{this.reject(g)}),0===p.length&&m(),this.initialized=!0}static#e=this.\u0275fac=function(m){return new(m||d)};static#t=this.\u0275prov=Ji({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();const sG=new Zn("");function ZK(d,h){return Array.isArray(h)?h.reduce(ZK,d):{...d,...h}}let e_=(()=>{class d{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=cn(bN),this.afterRenderEffectManager=cn(Hy),this.externalTestViews=new Set,this.beforeRender=new qb.B,this.afterTick=new qb.B,this.componentTypes=[],this.components=[],this.isStable=cn(L1).hasPendingTasks.pipe((0,IO.T)(p=>!p)),this._injector=cn(tu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(p,m){const g=p instanceof Vy;if(!this._injector.get(iG).done)throw!g&&Ii(p),new at(405,!1);let E;E=g?p:this._injector.get(tC).resolveComponentFactory(p),this.componentTypes.push(E.componentType);const y=function zpe(d){return d.isBoundToModule}(E)?void 0:this._injector.get(Kp),M=E.create(Il.NULL,[],m||E.selector,y),A=M.location.nativeElement,B=M.injector.get(XK,null);return B?.registerApplication(A),M.onDestroy(()=>{this.detachView(M.hostView),eI(this.components,M),B?.unregisterApplication(A)}),this._loadComponent(M),M}tick(){this._tick(!0)}_tick(p){if(this._runningTick)throw new at(101,!1);const m=rt(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(p)}catch(g){this.internalErrorHandler(g)}finally{this.afterTick.next(),this._runningTick=!1,rt(m)}}detectChangesInAttachedViews(p){let m=0;const g=this.afterRenderEffectManager;for(;;){if(m===Hj)throw new at(103,!1);if(p){const C=0===m;this.beforeRender.next(C);for(let{_lView:E,notifyErrorHandler:y}of this._views)jpe(E,C,y)}if(m++,g.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:C})=>oG(C))&&(g.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:C})=>oG(C))))break}}attachView(p){const m=p;this._views.push(m),m.attachToAppRef(this)}detachView(p){const m=p;eI(this._views,m),m.detachFromAppRef()}_loadComponent(p){this.attachView(p.hostView),this.tick(),this.components.push(p);const m=this._injector.get(sG,[]);[...this._bootstrapListeners,...m].forEach(g=>g(p))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(p=>p()),this._views.slice().forEach(p=>p.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(p){return this._destroyListeners.push(p),()=>eI(this._destroyListeners,p)}destroy(){if(this._destroyed)throw new at(406,!1);const p=this._injector;p.destroy&&!p.destroyed&&p.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(m){return new(m||d)};static#t=this.\u0275prov=Ji({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();function eI(d,h){const p=d.indexOf(h);p>-1&&d.splice(p,1)}function jpe(d,h,p){!h&&!oG(d)||function $pe(d,h,p){let m;p?(m=0,d[At]|=1024):m=64&d[At]?0:1,Ay(d,h,m)}(d,p,h)}function oG(d){return rT(d)}class Xpe{constructor(h,p){this.ngModuleFactory=h,this.componentFactories=p}}let Wpe=(()=>{class d{compileModuleSync(p){return new u3(p)}compileModuleAsync(p){return Promise.resolve(this.compileModuleSync(p))}compileModuleAndAllComponentsSync(p){const m=this.compileModuleSync(p),C=xl(Ft(p).declarations).reduce((E,y)=>{const w=Re(y);return w&&E.push(new x1(w)),E},[]);return new Xpe(m,C)}compileModuleAndAllComponentsAsync(p){return Promise.resolve(this.compileModuleAndAllComponentsSync(p))}clearCache(){}clearCacheFor(p){}getModuleId(p){}static#e=this.\u0275fac=function(m){return new(m||d)};static#t=this.\u0275prov=Ji({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),qpe=(()=>{class d{constructor(){this.zone=cn(Ko),this.applicationRef=cn(e_)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(m){return new(m||d)};static#t=this.\u0275prov=Ji({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();function Qpe(){const d=cn(Ko),h=cn(au);return p=>d.runOutsideAngular(()=>h.handleError(p))}let iY=(()=>{class d{constructor(){this.subscription=new Lg.yU,this.initialized=!1,this.zone=cn(Ko),this.pendingTasks=cn(L1)}initialize(){if(this.initialized)return;this.initialized=!0;let p=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(p=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ko.assertNotInAngularZone(),queueMicrotask(()=>{null!==p&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(p),p=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ko.assertInAngularZone(),p??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(m){return new(m||d)};static#t=this.\u0275prov=Ji({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();const nI=new Zn("",{providedIn:"root",factory:()=>cn(nI,hn.Optional|hn.SkipSelf)||function sY(){return typeof $localize<"u"&&$localize.locale||CC}()}),efe=new Zn("",{providedIn:"root",factory:()=>"USD"}),rG=new Zn("");let oY=(()=>{class d{constructor(p){this._injector=p,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(p,m){const g=function C$(d="zone.js",h){return"noop"===d?new $M:"zone.js"===d?new Ko(h):d}(m?.ngZone,function nY(d){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:d?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:d?.runCoalescing??!1}}({eventCoalescing:m?.ngZoneEventCoalescing,runCoalescing:m?.ngZoneRunCoalescing}));return g.run(()=>{const C=function Z$(d,h,p){return new d3(d,h,p)}(p.moduleType,this.injector,function tY(d){return[{provide:Ko,useFactory:d},{provide:rd,multi:!0,useFactory:()=>{const h=cn(qpe,{optional:!0});return()=>h.initialize()}},{provide:rd,multi:!0,useFactory:()=>{const h=cn(iY);return()=>{h.initialize()}}},{provide:bN,useFactory:Qpe}]}(()=>g)),E=C.injector.get(au,null);return g.runOutsideAngular(()=>{const y=g.onError.subscribe({next:w=>{E.handleError(w)}});C.onDestroy(()=>{eI(this._modules,C),y.unsubscribe()})}),function QK(d,h,p){try{const m=p();return nG(m)?m.catch(g=>{throw h.runOutsideAngular(()=>d.handleError(g)),g}):m}catch(m){throw h.runOutsideAngular(()=>d.handleError(m)),m}}(E,g,()=>{const y=C.injector.get(iG);return y.runInitializers(),y.donePromise.then(()=>(function KX(d){"string"==typeof d&&(WX=d.toLowerCase().replace(/_/g,"-"))}(C.injector.get(nI,CC)||CC),this._moduleDoBootstrap(C),C))})})}bootstrapModule(p,m=[]){const g=ZK({},m);return function Jpe(d,h,p){const m=new u3(p);return Promise.resolve(m)}(0,0,p).then(C=>this.bootstrapModuleFactory(C,g))}_moduleDoBootstrap(p){const m=p.injector.get(e_);if(p._bootstrapComponents.length>0)p._bootstrapComponents.forEach(g=>m.bootstrap(g));else{if(!p.instance.ngDoBootstrap)throw new at(-403,!1);p.instance.ngDoBootstrap(m)}this._modules.push(p)}onDestroy(p){this._destroyListeners.push(p)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new at(404,!1);this._modules.slice().forEach(m=>m.destroy()),this._destroyListeners.forEach(m=>m());const p=this._injector.get(rG,null);p&&(p.forEach(m=>m()),p.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(m){return new(m||d)(Cr(Il))};static#t=this.\u0275prov=Ji({token:d,factory:d.\u0275fac,providedIn:"platform"})}return d})(),t_=null;const rY=new Zn("");function aY(d,h,p=[]){const m=`Platform: ${h}`,g=new Zn(m);return(C=[])=>{let E=aG();if(!E||E.injector.get(rY,!1)){const y=[...p,...C,{provide:g,useValue:!0}];d?d(y):function nfe(d){if(t_&&!t_.get(rY,!1))throw new at(400,!1);(function qK(){!function Je(d){Tt=d}(()=>{throw new at(600,!1)})})(),t_=d;const h=d.get(oY);(function dY(d){d.get(GN,null)?.forEach(p=>p())})(d)}(function lY(d=[],h){return Il.create({name:h,providers:[{provide:G6,useValue:"platform"},{provide:rG,useValue:new Set([()=>t_=null])},...d]})}(y,m))}return function ife(d){const h=aG();if(!h)throw new at(401,!1);return h}()}}function aG(){return t_?.get(oY)??null}function ofe(){return!1}let cG=(()=>{class d{static#e=this.__NG_ELEMENT_ID__=uY}return d})();function uY(d){return function hY(d,h,p){if(Op(d)&&!p){const m=Tl(d.index,h);return new Hp(m,m)}return 47&d.type?new Hp(h[Vs],h):null}(Hi(),pe(),!(16&~d))}class mY{constructor(){}supports(h){return p3(h)}create(h){return new ffe(h)}}const pfe=(d,h)=>h;class ffe{constructor(h){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=h||pfe}forEachItem(h){let p;for(p=this._itHead;null!==p;p=p._next)h(p)}forEachOperation(h){let p=this._itHead,m=this._removalsHead,g=0,C=null;for(;p||m;){const E=!m||p&&p.currentIndex<gY(m,g,C)?p:m,y=gY(E,g,C),w=E.currentIndex;if(E===m)g--,m=m._nextRemoved;else if(p=p._next,null==E.previousIndex)g++;else{C||(C=[]);const M=y-g,A=w-g;if(M!=A){for(let K=0;K<M;K++){const Z=K<C.length?C[K]:C[K]=0,re=Z+K;A<=re&&re<M&&(C[K]=Z+1)}C[E.previousIndex]=A-M}}y!==w&&h(E,y,w)}}forEachPreviousItem(h){let p;for(p=this._previousItHead;null!==p;p=p._nextPrevious)h(p)}forEachAddedItem(h){let p;for(p=this._additionsHead;null!==p;p=p._nextAdded)h(p)}forEachMovedItem(h){let p;for(p=this._movesHead;null!==p;p=p._nextMoved)h(p)}forEachRemovedItem(h){let p;for(p=this._removalsHead;null!==p;p=p._nextRemoved)h(p)}forEachIdentityChange(h){let p;for(p=this._identityChangesHead;null!==p;p=p._nextIdentityChange)h(p)}diff(h){if(null==h&&(h=[]),!p3(h))throw new at(900,!1);return this.check(h)?this:null}onDestroy(){}check(h){this._reset();let g,C,E,p=this._itHead,m=!1;if(Array.isArray(h)){this.length=h.length;for(let y=0;y<this.length;y++)C=h[y],E=this._trackByFn(y,C),null!==p&&Object.is(p.trackById,E)?(m&&(p=this._verifyReinsertion(p,C,E,y)),Object.is(p.item,C)||this._addIdentityChange(p,C)):(p=this._mismatch(p,C,E,y),m=!0),p=p._next}else g=0,function nX(d,h){if(Array.isArray(d))for(let p=0;p<d.length;p++)h(d[p]);else{const p=d[Symbol.iterator]();let m;for(;!(m=p.next()).done;)h(m.value)}}(h,y=>{E=this._trackByFn(g,y),null!==p&&Object.is(p.trackById,E)?(m&&(p=this._verifyReinsertion(p,y,E,g)),Object.is(p.item,y)||this._addIdentityChange(p,y)):(p=this._mismatch(p,y,E,g),m=!0),p=p._next,g++}),this.length=g;return this._truncate(p),this.collection=h,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let h;for(h=this._previousItHead=this._itHead;null!==h;h=h._next)h._nextPrevious=h._next;for(h=this._additionsHead;null!==h;h=h._nextAdded)h.previousIndex=h.currentIndex;for(this._additionsHead=this._additionsTail=null,h=this._movesHead;null!==h;h=h._nextMoved)h.previousIndex=h.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(h,p,m,g){let C;return null===h?C=this._itTail:(C=h._prev,this._remove(h)),null!==(h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(m,null))?(Object.is(h.item,p)||this._addIdentityChange(h,p),this._reinsertAfter(h,C,g)):null!==(h=null===this._linkedRecords?null:this._linkedRecords.get(m,g))?(Object.is(h.item,p)||this._addIdentityChange(h,p),this._moveAfter(h,C,g)):h=this._addAfter(new _Y(p,m),C,g),h}_verifyReinsertion(h,p,m,g){let C=null===this._unlinkedRecords?null:this._unlinkedRecords.get(m,null);return null!==C?h=this._reinsertAfter(C,h._prev,g):h.currentIndex!=g&&(h.currentIndex=g,this._addToMoves(h,g)),h}_truncate(h){for(;null!==h;){const p=h._next;this._addToRemovals(this._unlink(h)),h=p}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(h,p,m){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(h);const g=h._prevRemoved,C=h._nextRemoved;return null===g?this._removalsHead=C:g._nextRemoved=C,null===C?this._removalsTail=g:C._prevRemoved=g,this._insertAfter(h,p,m),this._addToMoves(h,m),h}_moveAfter(h,p,m){return this._unlink(h),this._insertAfter(h,p,m),this._addToMoves(h,m),h}_addAfter(h,p,m){return this._insertAfter(h,p,m),this._additionsTail=null===this._additionsTail?this._additionsHead=h:this._additionsTail._nextAdded=h,h}_insertAfter(h,p,m){const g=null===p?this._itHead:p._next;return h._next=g,h._prev=p,null===g?this._itTail=h:g._prev=h,null===p?this._itHead=h:p._next=h,null===this._linkedRecords&&(this._linkedRecords=new mG),this._linkedRecords.put(h),h.currentIndex=m,h}_remove(h){return this._addToRemovals(this._unlink(h))}_unlink(h){null!==this._linkedRecords&&this._linkedRecords.remove(h);const p=h._prev,m=h._next;return null===p?this._itHead=m:p._next=m,null===m?this._itTail=p:m._prev=p,h}_addToMoves(h,p){return h.previousIndex===p||(this._movesTail=null===this._movesTail?this._movesHead=h:this._movesTail._nextMoved=h),h}_addToRemovals(h){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mG),this._unlinkedRecords.put(h),h.currentIndex=null,h._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=h,h._prevRemoved=null):(h._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=h),h}_addIdentityChange(h,p){return h.item=p,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=h:this._identityChangesTail._nextIdentityChange=h,h}}class _Y{constructor(h,p){this.item=h,this.trackById=p,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mfe{constructor(){this._head=null,this._tail=null}add(h){null===this._head?(this._head=this._tail=h,h._nextDup=null,h._prevDup=null):(this._tail._nextDup=h,h._prevDup=this._tail,h._nextDup=null,this._tail=h)}get(h,p){let m;for(m=this._head;null!==m;m=m._nextDup)if((null===p||p<=m.currentIndex)&&Object.is(m.trackById,h))return m;return null}remove(h){const p=h._prevDup,m=h._nextDup;return null===p?this._head=m:p._nextDup=m,null===m?this._tail=p:m._prevDup=p,null===this._head}}class mG{constructor(){this.map=new Map}put(h){const p=h.trackById;let m=this.map.get(p);m||(m=new mfe,this.map.set(p,m)),m.add(h)}get(h,p){const g=this.map.get(h);return g?g.get(h,p):null}remove(h){const p=h.trackById;return this.map.get(p).remove(h)&&this.map.delete(p),h}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function gY(d,h,p){const m=d.previousIndex;if(null===m)return m;let g=0;return p&&m<p.length&&(g=p[m]),m+h+g}class SY{constructor(){}supports(h){return h instanceof Map||oC(h)}create(){return new _fe}}class _fe{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(h){let p;for(p=this._mapHead;null!==p;p=p._next)h(p)}forEachPreviousItem(h){let p;for(p=this._previousMapHead;null!==p;p=p._nextPrevious)h(p)}forEachChangedItem(h){let p;for(p=this._changesHead;null!==p;p=p._nextChanged)h(p)}forEachAddedItem(h){let p;for(p=this._additionsHead;null!==p;p=p._nextAdded)h(p)}forEachRemovedItem(h){let p;for(p=this._removalsHead;null!==p;p=p._nextRemoved)h(p)}diff(h){if(h){if(!(h instanceof Map||oC(h)))throw new at(900,!1)}else h=new Map;return this.check(h)?this:null}onDestroy(){}check(h){this._reset();let p=this._mapHead;if(this._appendAfter=null,this._forEach(h,(m,g)=>{if(p&&p.key===g)this._maybeAddToChanges(p,m),this._appendAfter=p,p=p._next;else{const C=this._getOrCreateRecordForKey(g,m);p=this._insertBeforeOrAppend(p,C)}}),p){p._prev&&(p._prev._next=null),this._removalsHead=p;for(let m=p;null!==m;m=m._nextRemoved)m===this._mapHead&&(this._mapHead=null),this._records.delete(m.key),m._nextRemoved=m._next,m.previousValue=m.currentValue,m.currentValue=null,m._prev=null,m._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(h,p){if(h){const m=h._prev;return p._next=h,p._prev=m,h._prev=p,m&&(m._next=p),h===this._mapHead&&(this._mapHead=p),this._appendAfter=h,h}return this._appendAfter?(this._appendAfter._next=p,p._prev=this._appendAfter):this._mapHead=p,this._appendAfter=p,null}_getOrCreateRecordForKey(h,p){if(this._records.has(h)){const g=this._records.get(h);this._maybeAddToChanges(g,p);const C=g._prev,E=g._next;return C&&(C._next=E),E&&(E._prev=C),g._next=null,g._prev=null,g}const m=new gfe(h);return this._records.set(h,m),m.currentValue=p,this._addToAdditions(m),m}_reset(){if(this.isDirty){let h;for(this._previousMapHead=this._mapHead,h=this._previousMapHead;null!==h;h=h._next)h._nextPrevious=h._next;for(h=this._changesHead;null!==h;h=h._nextChanged)h.previousValue=h.currentValue;for(h=this._additionsHead;null!=h;h=h._nextAdded)h.previousValue=h.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(h,p){Object.is(p,h.currentValue)||(h.previousValue=h.currentValue,h.currentValue=p,this._addToChanges(h))}_addToAdditions(h){null===this._additionsHead?this._additionsHead=this._additionsTail=h:(this._additionsTail._nextAdded=h,this._additionsTail=h)}_addToChanges(h){null===this._changesHead?this._changesHead=this._changesTail=h:(this._changesTail._nextChanged=h,this._changesTail=h)}_forEach(h,p){h instanceof Map?h.forEach(p):Object.keys(h).forEach(m=>p(h[m],m))}}class gfe{constructor(h){this.key=h,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vY(){return new _G([new mY])}let _G=(()=>{class d{static#e=this.\u0275prov=Ji({token:d,providedIn:"root",factory:vY});constructor(p){this.factories=p}static create(p,m){if(null!=m){const g=m.factories.slice();p=p.concat(g)}return new d(p)}static extend(p){return{provide:d,useFactory:m=>d.create(p,m||vY()),deps:[[d,new Yg,new Ge]]}}find(p){const m=this.factories.find(g=>g.supports(p));if(null!=m)return m;throw new at(901,!1)}}return d})();function CY(){return new gG([new SY])}let gG=(()=>{class d{static#e=this.\u0275prov=Ji({token:d,providedIn:"root",factory:CY});constructor(p){this.factories=p}static create(p,m){if(m){const g=m.factories.slice();p=p.concat(g)}return new d(p)}static extend(p){return{provide:d,useFactory:m=>d.create(p,m||CY()),deps:[[d,new Yg,new Ge]]}}find(p){const m=this.factories.find(g=>g.supports(p));if(m)return m;throw new at(901,!1)}}return d})();const Cfe=aY(null,"core",[]);let bfe=(()=>{class d{constructor(p){}static#e=this.\u0275fac=function(m){return new(m||d)(Cr(e_))};static#t=this.\u0275mod=Q({type:d});static#n=this.\u0275inj=Gg({})}return d})();function qfe(d){return"boolean"==typeof d?d:null!=d&&"false"!==d}function Zfe(d){const h=rt(null);try{return d()}finally{rt(h)}}function CG(d){const h=Re(d);if(!h)return null;const p=new x1(h);return{get selector(){return p.selector},get type(){return p.componentType},get inputs(){return p.inputs},get outputs(){return p.outputs},get ngContentSelectors(){return p.ngContentSelectors},get isStandalone(){return h.standalone},get isSignal(){return h.signals}}}},446:(Ds,an,_e)=>{"use strict";_e.d(an,{Bs:()=>ln,W5:()=>Mi,XO:()=>mt,Yq:()=>Cn,fK:()=>qt,qr:()=>Yd,vh:()=>gp});var st=_e(438),Y=_e(987),ze=_e(910);const ot={name:"@progress/kendo-angular-intl",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925027,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},nt="http://www.telerik.com/kendo-angular-ui/components/internationalization/troubleshooting/",s={NoCurrency:`Solution: ${nt}#toc-no-currency`,NoCurrencyDisplay:`Solution: ${nt}#toc-no-currency-display`,NoCurrencyRegion:`Solution: ${nt}#toc-no-currency-region`,NoDateFieldNames:`Solution: ${nt}#toc-no-date-filed-names`,NoFirstDay:`Solution: ${nt}#toc-no-first-day`,NoGMTInfo:`Solution: ${nt}#toc-no-gmt-info`,NoLocale:`Solution: ${nt}#toc-no-locale`,NoValidCurrency:`Solution: ${nt}#toc-no-valid-currency`,NoWeekData:`Solution: ${nt}#toc-no-week-data`};function rt(Tt){const kn=Tt.message,Je=s[Object.keys(s).filter(ni=>0===kn.indexOf(ni))[0]];return Je?`${kn} ${Je}`:kn}function Wt(Tt){return function(...kn){try{return Tt(...kn)}catch(Je){throw Je.message=rt(Je),Je}}}const zt=Wt(ze.WX),dt=Wt(ze.MR),we=Wt(ze.$r),de=Wt(ze.GP),Cn=Wt(ze.Yq),it=Wt(ze.ZV),di=(Wt(ze.Hh),Wt(ze.pG)),qn=Wt(ze._U),wn=Wt(ze.$J),ui=Wt(ze.mM),ls=Wt(ze.dI),ai=Wt(ze.ve),mt=Tt=>ze.XO(Tt),qt=Tt=>{try{return ze.DA(Tt)}catch(kn){throw kn.message=rt(kn),kn}},As=/_/g;let ln=(()=>{class Tt{constructor(){this.changes=new st.bkB,(0,Y.$)(ot)}notify(){this.changes.emit()}}return Tt.\u0275fac=function(Je){return new(Je||Tt)},Tt.\u0275prov=st.jDH({token:Tt,factory:function(Je){let ni=null;return ni=Je?new Je:function ws(Tt){return new Yd(Tt)}(st.KVO(st.xe9)),ni},providedIn:"root"}),Tt})(),Yd=(()=>{class Tt extends ln{constructor(Je){super(),this.localeId=Je}get localeId(){return this.locale}set localeId(Je){const ni=Je.replace(As,"-");ni!==this.locale&&(this.locale=ni,this.notify())}format(Je,...ni){return de(Je,ni,this.localeId)}toString(Je,ni,Xr){return ls(Je,ni,Xr||this.localeId)}formatDate(Je,ni,Xr){return Cn(Je,ni,Xr||this.localeId)}parseDate(Je,ni,Xr){return qn(Je,ni,Xr||this.localeId)}parseNumber(Je,ni,Xr){return wn(Je,Xr||this.localeId,ni)}formatNumber(Je,ni,Xr){return it(Je,ni,Xr||this.localeId)}dateFieldName(Je,ni){return dt(Je,ni||this.localeId)}dateFormatNames(Je,ni){return zt(ni||this.localeId,Je)}splitDateFormat(Je,ni){return ui(Je,ni||this.localeId)}numberSymbols(Je){return di(Je||this.localeId)}firstDay(Je){return we(Je||this.localeId)}weekendRange(Je){return ai(Je||this.localeId)}}return Tt.\u0275fac=function(Je){return new(Je||Tt)(st.KVO(st.xe9))},Tt.\u0275prov=st.jDH({token:Tt,factory:Tt.\u0275fac}),Tt})(),gp=(()=>{class Tt{constructor(Je){this.intlService=Je}transform(Je,ni="",Xr){return(Je=this.normalize(Je))&&this.intlService.formatDate(Je,ni,Xr)}normalize(Je){return Je&&"string"==typeof Je?Je=this.intlService.parseDate(Je):Je&&(Tt=>!isNaN(Tt-parseFloat(Tt)))(Je)&&(Je=new Date(parseFloat(Je))),Je}}return Tt.\u0275fac=function(Je){return new(Je||Tt)(st.rXU(ln,16))},Tt.\u0275pipe=st.EJ8({name:"kendoDate",type:Tt,pure:!0}),Tt})(),Mi=(()=>{class Tt{}return Tt.\u0275fac=function(Je){return new(Je||Tt)},Tt.\u0275mod=st.$C({type:Tt}),Tt.\u0275inj=st.G2t({}),Tt})()},987:(Ds,an,_e)=>{"use strict";_e.d(an,{$:()=>s});var de,Cn,st=["z2v0vgLTzq==","ww91CIbSAwnLBNnLigv4CgLYzwqGB24G","zgf0yq==","uhjVz3jLC3mG","AgvmshG=","u2vLia==","ChjVzhvJDenVzgvZ","C2nYAxb0s2v5","D3rmuhm=","rKjcwKG=","tM8GBgLJzw5ZzsbMB3vUzc4k","CgfJA2fNzu5HBwu=","qvfYAMq=","CgfYC2u=","ChjVzhvJDhm=","igzVCIbTB3jLigLUzM9YBwf0Aw9UlGO=","sgr5sMW=","rg9iAwe=","zxDJr2C=","Du9wCuK=","z2v0rNvSBfLLyxi=","lcb0AguGCgfJA2fNzsb3yxmGChvIBgLZAgvKig9Uia==","C2v0","zxrNsxC=","C29YDa==","EeXMBLu=","AgfZ","s0XeCe8=","rM1Ttxy=","tNvstvG=","ww91CIb0CMLHBcbSAwnLBNnLigv4CgLYzwqGB24G","z2v0rgf0zq==","BgvUz3rO","txPHwe8=","BgLJzw5Zzuv4CgLYyxrPB25eyxrL","DhjPywW=","vejxq3K=","r2Ltv1q=","uhPWBva=","z2v0","vgHLihbYB2r1y3qGAxmGBM90igLUy2X1zgvKigLUihrOzsbSAwnLBNnLlGO=","z2v0tw9UDgG=","s2DnDfK=","DMvYC2LVBG==","rKj6sum=","DgLTzxn0yw1W","B2jQzwn0","DhLWzq==","BgLJzw5ZAw5Nrg9JC1vYBa==","BMfTzq==","DwTXAeq=","zg9JC1vYBa==","z3jVDxbfBMq=","z3jVDxa=","yuDyzhy=","zMLUza==","D2fYBG==","zNvUy3rPB24=","Dw5KzwzPBMvK","ChjVzhvJDe5HBwu=","y29Uy2f0","ChvIBgLZAerHDgu=","zxHWAxj5rgf0zq==","CeDhAfu=","y29Kzq==","Dg9mB2nHBgvtDhjPBMC=","tgLJzw5ZzsbHy3rPDMf0Aw9UigzHAwXLzcbMB3iG"];de=st,Cn=439,function(un){for(;--un;)de.push(de.shift())}(++Cn);var Y=function(de,Cn){var it=st[de-=0];void 0===Y.aWziBr&&(Y.XjGMHe=function(qn){for(var wn=function(qn){for(var mt,qt,ui=String(qn).replace(/=+$/,""),ls="",ai=0,As=0;qt=ui.charAt(As++);~qt&&(mt=ai%4?64*mt+qt:qt,ai++%4)?ls+=String.fromCharCode(255&mt>>(-2*ai&6)):0)qt="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(qt);return ls}(qn),ui=[],ls=0,ai=wn.length;ls<ai;ls++)ui+="%"+("00"+wn.charCodeAt(ls).toString(16)).slice(-2);return decodeURIComponent(ui)},Y.XQgCdR={},Y.aWziBr=!0);var di=Y.XQgCdR[de];return void 0===di?(it=Y.XjGMHe(it),Y.XQgCdR[de]=it):it=di,it},ze={data:'  {"timestamp":1692719844,"products":[{"trial":false,"code":"KENDOUIREACT","licenseExpirationDate":1760754317},{"trial":false,"code":"KENDOUICOMPLETE","licenseExpirationDate":1760754317},{"trial":false,"code":"KENDOUIVUE","licenseExpirationDate":1760754317},{"trial":false,"code":"KENDOUIANGULAR","licenseExpirationDate":1760754317}],"integrity":"zyPtD1/IxnHO2qGZFJGgqD0iFkY="}  '},ot=new Map;function s(de){if(ot[Y("0x38")](de[Y("0xc")])&&Y("0x3a")==Y("0x3a"))return ot[Y("0x2")](de[Y("0xc")]);var ui,Cn=de[Y("0x6")]?" v"+de[Y("0x6")]:"",it=de[Y("0xc")]+Cn,un=JSON[Y("0x2b")](ze[Y("0x20")]),di=!un[Y("0x25")]&&!un[Y("0x8")],qn=un[Y("0x25")]&&typeof KendoLicensing===Y("0x15"),wn=function Wt(de,Cn){var it=de[Y("0x2c")];if(!(it&&it[Y("0x3e")]||Y("0x27")===Y("0x37")))return null;var un=new Set(Cn);return it[Y("0x36")](function(di,qn){if(Y("0x42")!==Y("0x31"))return qn[Y("0x40")]-di[Y("0x40")]})[Y("0x12")](function(di){if(Y("0x3b")==Y("0x3b"))return un[Y("0x38")](di[Y("0x1b")])})}(un,de[Y("0x24")]);if(di||qn?Y("0x2a")===Y("0x2f")||(ui={type:0,packageName:it,docsUrl:de[Y("0xb")]}):Y("0x39")==Y("0x39")&&(wn?!0===wn[Y("0x41")]&&we(function dt(){return(new Date)[Y("0x1e")]()/1e3}(),wn[Y("0x40")])?Y("0x0")==Y("0x0")&&(ui={type:3,packageName:it,expiryDate:zt(wn[Y("0x40")]),docsUrl:de[Y("0xb")]}):we(de[Y("0x18")],wn[Y("0x40")])&&(Y("0x22")!=Y("0x22")||(ui={type:2,packageName:it,publishDate:zt(de[Y("0x18")]),expiryDate:zt(wn[Y("0x40")]),docsUrl:de[Y("0xb")]})):Y("0x1a")!=Y("0x1a")||(ui={type:1,packageName:it,docsUrl:de[Y("0xb")]})),ui&&typeof console===Y("0x9"))if(Y("0x5")!=Y("0x5"));else{var ls=Y("0x21")[Y("0x17")](de[Y("0x16")]),ai=typeof console[Y("0x10")]===Y("0x14");ai?Y("0x2e")==Y("0x2e")&&console[Y("0x10")](ls):Y("0x30")!==Y("0x7")&&console[Y("0x13")](ls),console[Y("0x13")](function rt(de){var Cn=Y("0x1d")[Y("0x17")](de[Y("0x29")],"\n");return 2===de[Y("0xa")]&&Y("0x3f")!==Y("0x1")&&(Cn+=Y("0x1f")[Y("0x17")](de[Y("0x19")][Y("0x1c")](),Y("0x33"))[Y("0x17")](de[Y("0x18")][Y("0x1c")](),".\n")),3===de[Y("0xa")]?Y("0x11")==Y("0x11")&&(Cn+=Y("0x3c")[Y("0x17")](de[Y("0x19")][Y("0x1c")](),".\n")):0===de[Y("0xa")]?Y("0x35")==Y("0x35")&&(Cn+=Y("0x28")):1===de[Y("0xa")]&&(Y("0x26")!=Y("0x26")||(Cn+=Y("0x3"))),Cn+=Y("0x23")[Y("0x17")](de[Y("0xe")],Y("0x2d"))}(ui)),ai&&(Y("0xd")!=Y("0xd")||console[Y("0xf")]())}var mt=!ui;return ot[Y("0x34")](de[Y("0xc")],mt),mt}function zt(de){return new Date(1e3*de)}function we(de,Cn){var it=zt(Cn);return de>new Date(it[Y("0x32")](),it[Y("0x4")](),it[Y("0x3d")]()+1)[Y("0x1e")]()/1e3}},467:(Ds,an,_e)=>{"use strict";function st(ze,ot,nt,s,rt,Wt,zt){try{var dt=ze[Wt](zt),we=dt.value}catch(de){return void nt(de)}dt.done?ot(we):Promise.resolve(we).then(s,rt)}function Y(ze){return function(){var ot=this,nt=arguments;return new Promise(function(s,rt){var Wt=ze.apply(ot,nt);function zt(we){st(Wt,s,rt,zt,dt,"next",we)}function dt(we){st(Wt,s,rt,zt,dt,"throw",we)}zt(void 0)})}}_e.d(an,{A:()=>Y})}},Ds=>{Ds(Ds.s=359)}]);