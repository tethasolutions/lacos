globalThis.$localize=Object.assign(globalThis.$localize || {},{locale:"it"});
"use strict";(function(global,_global$ng,_global$ng2,_global$ng2$common,_global$ng$common,_global$ng$common$loc){(_global$ng=global.ng)!==null&&_global$ng!==void 0?_global$ng:global.ng={};(_global$ng2$common=(_global$ng2=global.ng).common)!==null&&_global$ng2$common!==void 0?_global$ng2$common:_global$ng2.common={};(_global$ng$common$loc=(_global$ng$common=global.ng.common).locales)!==null&&_global$ng$common$loc!==void 0?_global$ng$common$loc:_global$ng$common.locales={};const u=undefined;function plural(val){const n=val,i=Math.floor(Math.abs(val)),v=val.toString().replace(/^[^.]*\.?/,"").length,e=parseInt(val.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;if(i===1&&v===0)return 1;if(e===0&&!(i===0)&&i%1000000===0&&v===0||!(e>=0&&e<=5))return 4;return 5}global.ng.common.locales["it"]=["it",[["m.","p."],["AM","PM"],u],u,[["D","L","M","M","G","V","S"],["dom","lun","mar","mer","gio","ven","sab"],["domenica","luned\xEC","marted\xEC","mercoled\xEC","gioved\xEC","venerd\xEC","sabato"],["dom","lun","mar","mer","gio","ven","sab"]],u,[["G","F","M","A","M","G","L","A","S","O","N","D"],["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]],u,[["aC","dC"],["a.C.","d.C."],["avanti Cristo","dopo Cristo"]],1,[6,0],["dd/MM/yy","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",u,"{1} {0}",u],[",",".",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{"BRL":[u,"R$"],"BYN":[u,"Br"],"EGP":[u,"\xA3E"],"HKD":[u,"$"],"INR":[u,"\u20B9"],"JPY":[u,"\xA5"],"KRW":[u,"\u20A9"],"MXN":[u,"$"],"NOK":[u,"NKr"],"THB":["\u0E3F"],"TWD":[u,"NT$"],"USD":[u,"$"],"VND":[u,"\u20AB"]},"ltr",plural,[[["mezzanotte","mezzogiorno","di mattina","di pomeriggio","di sera","di notte"],u,["mezzanotte","mezzogiorno","di mattina","del pomeriggio","di sera","di notte"]],[["mezzanotte","mezzogiorno","mattina","pomeriggio","sera","notte"],u,u],["00:00","12:00",["06:00","12:00"],["12:00","18:00"],["18:00","24:00"],["00:00","06:00"]]]]})(globalThis);;
(self.webpackChunklacos=self.webpackChunklacos||[]).push([[792],{174:(Fs,un,_e)=>{"use strict";var ot={};_e.r(ot),_e.d(ot,{Point:()=>Ie,Rect:()=>On,transform:()=>Ui});var q={};_e.r(q),_e.d(q,{append:()=>ux,bindEvents:()=>qq,defined:()=>Yt,deg:()=>Av,elementOffset:()=>Fve,elementSize:()=>hx,eventCoordinates:()=>Gve,eventElement:()=>Pve,hashKey:()=>zve,last:()=>ga,limitValue:()=>$F,objectKey:()=>Vve,rad:()=>Ff,round:()=>Ts,unbindEvents:()=>Zq,valueOrDefault:()=>XF});var je={};_e.r(je),_e.d(je,{easeOutElastic:()=>fAt,linear:()=>pAt,swing:()=>hAt});var rt={};_e.r(rt),_e.d(rt,{Arc:()=>eGt,Circle:()=>Xd,Group:()=>Vn,Path:()=>ct,Surface:()=>aO,Text:()=>tte});var nt={};_e.r(nt),_e.d(nt,{byHour:()=>min,byMinute:()=>_in,byMonth:()=>din,byMonthDay:()=>uin,bySecond:()=>gin,byWeekDay:()=>fin,byWeekNumber:()=>pin,byYearDay:()=>hin});var t=_e(438);let at=null;function qt(){return at}class ut{}const de=new t.nKC("");let kn=(()=>{class s{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275prov=t.jDH({token:s,factory:()=>(0,t.WQX)(_n),providedIn:"platform"})}return s})();const it=new t.nKC("");let _n=(()=>{class s extends kn{constructor(){super(),this._doc=(0,t.WQX)(de),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qt().getBaseHref(this._doc)}onPopState(e){const n=qt().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){const n=qt().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,o){this._history.pushState(e,n,o)}replaceState(e,n,o){this._history.replaceState(e,n,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275prov=t.jDH({token:s,factory:()=>new s,providedIn:"platform"})}return s})();function bi(s,i){if(0==s.length)return i;if(0==i.length)return s;let e=0;return s.endsWith("/")&&e++,i.startsWith("/")&&e++,2==e?s+i.substring(1):1==e?s+i:s+"/"+i}function oi(s){const i=s.match(/#|\?|$/),e=i&&i.index||s.length;return s.slice(0,e-("/"===s[e-1]?1:0))+s.slice(e)}function Mn(s){return s&&"?"!==s[0]?"?"+s:s}let Ei=(()=>{class s{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275prov=t.jDH({token:s,factory:()=>(0,t.WQX)(vi),providedIn:"root"})}return s})();const ys=new t.nKC("");let vi=(()=>{class s extends Ei{constructor(e,n){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??(0,t.WQX)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return bi(this._baseHref,e)}path(e=!1){const n=this._platformLocation.pathname+Mn(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${n}${o}`:n}pushState(e,n,o,r){const a=this.prepareExternalUrl(o+Mn(r));this._platformLocation.pushState(e,n,a)}replaceState(e,n,o,r){const a=this.prepareExternalUrl(o+Mn(r));this._platformLocation.replaceState(e,n,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(kn),t.KVO(ys,8))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),gt=(()=>{class s extends Ei{constructor(e,n){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const n=this._platformLocation.hash??"#";return n.length>0?n.substring(1):n}prepareExternalUrl(e){const n=bi(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,o,r){let a=this.prepareExternalUrl(o+Mn(r));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,n,a)}replaceState(e,n,o,r){let a=this.prepareExternalUrl(o+Mn(r));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,n,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(kn),t.KVO(ys,8))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})(),tn=(()=>{class s{constructor(e){this._subject=new t.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const n=this._locationStrategy.getBaseHref();this._basePath=function hu(s){if(new RegExp("^(https?:)?//").test(s)){const[,e]=s.split(/\/\/[^\/]+/);return e}return s}(oi(hn(n))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+Mn(n))}normalize(e){return s.stripTrailingSlash(function Us(s,i){if(!s||!i.startsWith(s))return i;const e=i.substring(s.length);return""===e||["/",";","?","#"].includes(e[0])?e:i}(this._basePath,hn(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",o=null){this._locationStrategy.pushState(o,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Mn(n)),o)}replaceState(e,n="",o=null){this._locationStrategy.replaceState(o,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Mn(n)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{const n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(o=>o(e,n))}subscribe(e,n,o){return this._subject.subscribe({next:e,error:n,complete:o})}static#e=this.normalizeQueryParams=Mn;static#t=this.joinWithSlash=bi;static#n=this.stripTrailingSlash=oi;static#i=this.\u0275fac=function(n){return new(n||s)(t.KVO(Ei))};static#s=this.\u0275prov=t.jDH({token:s,factory:()=>function Ws(){return new tn((0,t.KVO)(Ei))}(),providedIn:"root"})}return s})();function hn(s){return s.replace(/\/index.html$/,"")}var Yp=function(s){return s[s.Decimal=0]="Decimal",s[s.Percent=1]="Percent",s[s.Currency=2]="Currency",s[s.Scientific=3]="Scientific",s}(Yp||{}),Mr=function(s){return s[s.Format=0]="Format",s[s.Standalone=1]="Standalone",s}(Mr||{}),ji=function(s){return s[s.Narrow=0]="Narrow",s[s.Abbreviated=1]="Abbreviated",s[s.Wide=2]="Wide",s[s.Short=3]="Short",s}(ji||{}),Mt=function(s){return s[s.Short=0]="Short",s[s.Medium=1]="Medium",s[s.Long=2]="Long",s[s.Full=3]="Full",s}(Mt||{});const In={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function h1(s,i){return Ga((0,t.H5H)(s)[t.KH2.DateFormat],i)}function l2(s,i){return Ga((0,t.H5H)(s)[t.KH2.TimeFormat],i)}function Kp(s,i){return Ga((0,t.H5H)(s)[t.KH2.DateTimeFormat],i)}function al(s,i){const e=(0,t.H5H)(s),n=e[t.KH2.NumberSymbols][i];if(typeof n>"u"){if(i===In.CurrencyDecimal)return e[t.KH2.NumberSymbols][In.Decimal];if(i===In.CurrencyGroup)return e[t.KH2.NumberSymbols][In.Group]}return n}function f1(s){if(!s[t.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${s[t.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ga(s,i){for(let e=i;e>-1;e--)if(typeof s[e]<"u")return s[e];throw new Error("Locale data API: locale data undefined")}function TE(s){const[i,e]=s.split(":");return{hours:+i,minutes:+e}}const Jp=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,kc={},pu=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var wc=function(s){return s[s.Short=0]="Short",s[s.ShortGMT=1]="ShortGMT",s[s.Long=2]="Long",s[s.Extended=3]="Extended",s}(wc||{}),yi=function(s){return s[s.FullYear=0]="FullYear",s[s.Month=1]="Month",s[s.Date=2]="Date",s[s.Hours=3]="Hours",s[s.Minutes=4]="Minutes",s[s.Seconds=5]="Seconds",s[s.FractionalSeconds=6]="FractionalSeconds",s[s.Day=7]="Day",s}(yi||{}),ri=function(s){return s[s.DayPeriods=0]="DayPeriods",s[s.Days=1]="Days",s[s.Months=2]="Months",s[s.Eras=3]="Eras",s}(ri||{});function tN(s,i,e,n){let o=function xE(s){if(p2(s))return s;if("number"==typeof s&&!isNaN(s))return new Date(s);if("string"==typeof s){if(s=s.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(s)){const[o,r=1,a=1]=s.split("-").map(l=>+l);return ss(o,r-1,a)}const e=parseFloat(s);if(!isNaN(s-e))return new Date(e);let n;if(n=s.match(Jp))return function l3(s){const i=new Date(0);let e=0,n=0;const o=s[8]?i.setUTCFullYear:i.setFullYear,r=s[8]?i.setUTCHours:i.setHours;s[9]&&(e=Number(s[9]+s[10]),n=Number(s[9]+s[11])),o.call(i,Number(s[1]),Number(s[2])-1,Number(s[3]));const a=Number(s[4]||0)-e,l=Number(s[5]||0)-n,c=Number(s[6]||0),u=Math.floor(1e3*parseFloat("0."+(s[7]||0)));return r.call(i,a,l,c,u),i}(n)}const i=new Date(s);if(!p2(i))throw new Error(`Unable to convert "${s}" into a date`);return i}(s);i=bd(e,i)||i;let l,a=[];for(;i;){if(l=pu.exec(i),!l){a.push(i);break}{a=a.concat(l.slice(1));const f=a.pop();if(!f)break;i=f}}let c=o.getTimezoneOffset();n&&(c=a3(n,c),o=function iN(s,i,e){const n=e?-1:1,o=s.getTimezoneOffset();return function nN(s,i){return(s=new Date(s.getTime())).setMinutes(s.getMinutes()+i),s}(s,n*(a3(i,o)-o))}(o,n,!0));let u="";return a.forEach(f=>{const _=function r3(s){if(Dc[s])return Dc[s];let i;switch(s){case"G":case"GG":case"GGG":i=ks(ri.Eras,ji.Abbreviated);break;case"GGGG":i=ks(ri.Eras,ji.Wide);break;case"GGGGG":i=ks(ri.Eras,ji.Narrow);break;case"y":i=Xn(yi.FullYear,1,0,!1,!0);break;case"yy":i=Xn(yi.FullYear,2,0,!0,!0);break;case"yyy":i=Xn(yi.FullYear,3,0,!1,!0);break;case"yyyy":i=Xn(yi.FullYear,4,0,!1,!0);break;case"Y":i=h2(1);break;case"YY":i=h2(2,!0);break;case"YYY":i=h2(3);break;case"YYYY":i=h2(4);break;case"M":case"L":i=Xn(yi.Month,1,1);break;case"MM":case"LL":i=Xn(yi.Month,2,1);break;case"MMM":i=ks(ri.Months,ji.Abbreviated);break;case"MMMM":i=ks(ri.Months,ji.Wide);break;case"MMMMM":i=ks(ri.Months,ji.Narrow);break;case"LLL":i=ks(ri.Months,ji.Abbreviated,Mr.Standalone);break;case"LLLL":i=ks(ri.Months,ji.Wide,Mr.Standalone);break;case"LLLLL":i=ks(ri.Months,ji.Narrow,Mr.Standalone);break;case"w":i=Km(1);break;case"ww":i=Km(2);break;case"W":i=Km(1,!0);break;case"d":i=Xn(yi.Date,1);break;case"dd":i=Xn(yi.Date,2);break;case"c":case"cc":i=Xn(yi.Day,1);break;case"ccc":i=ks(ri.Days,ji.Abbreviated,Mr.Standalone);break;case"cccc":i=ks(ri.Days,ji.Wide,Mr.Standalone);break;case"ccccc":i=ks(ri.Days,ji.Narrow,Mr.Standalone);break;case"cccccc":i=ks(ri.Days,ji.Short,Mr.Standalone);break;case"E":case"EE":case"EEE":i=ks(ri.Days,ji.Abbreviated);break;case"EEEE":i=ks(ri.Days,ji.Wide);break;case"EEEEE":i=ks(ri.Days,ji.Narrow);break;case"EEEEEE":i=ks(ri.Days,ji.Short);break;case"a":case"aa":case"aaa":i=ks(ri.DayPeriods,ji.Abbreviated);break;case"aaaa":i=ks(ri.DayPeriods,ji.Wide);break;case"aaaaa":i=ks(ri.DayPeriods,ji.Narrow);break;case"b":case"bb":case"bbb":i=ks(ri.DayPeriods,ji.Abbreviated,Mr.Standalone,!0);break;case"bbbb":i=ks(ri.DayPeriods,ji.Wide,Mr.Standalone,!0);break;case"bbbbb":i=ks(ri.DayPeriods,ji.Narrow,Mr.Standalone,!0);break;case"B":case"BB":case"BBB":i=ks(ri.DayPeriods,ji.Abbreviated,Mr.Format,!0);break;case"BBBB":i=ks(ri.DayPeriods,ji.Wide,Mr.Format,!0);break;case"BBBBB":i=ks(ri.DayPeriods,ji.Narrow,Mr.Format,!0);break;case"h":i=Xn(yi.Hours,1,-12);break;case"hh":i=Xn(yi.Hours,2,-12);break;case"H":i=Xn(yi.Hours,1);break;case"HH":i=Xn(yi.Hours,2);break;case"m":i=Xn(yi.Minutes,1);break;case"mm":i=Xn(yi.Minutes,2);break;case"s":i=Xn(yi.Seconds,1);break;case"ss":i=Xn(yi.Seconds,2);break;case"S":i=Xn(yi.FractionalSeconds,1);break;case"SS":i=Xn(yi.FractionalSeconds,2);break;case"SSS":i=Xn(yi.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":i=Rh(wc.Short);break;case"ZZZZZ":i=Rh(wc.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":i=Rh(wc.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":i=Rh(wc.Long);break;default:return null}return Dc[s]=i,i}(f);u+=_?_(o,e,c):"''"===f?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function ss(s,i,e){const n=new Date(0);return n.setFullYear(s,i,e),n.setHours(0,0,0),n}function bd(s,i){const e=function ui(s){return(0,t.H5H)(s)[t.KH2.LocaleId]}(s);if(kc[e]??={},kc[e][i])return kc[e][i];let n="";switch(i){case"shortDate":n=h1(s,Mt.Short);break;case"mediumDate":n=h1(s,Mt.Medium);break;case"longDate":n=h1(s,Mt.Long);break;case"fullDate":n=h1(s,Mt.Full);break;case"shortTime":n=l2(s,Mt.Short);break;case"mediumTime":n=l2(s,Mt.Medium);break;case"longTime":n=l2(s,Mt.Long);break;case"fullTime":n=l2(s,Mt.Full);break;case"short":const o=bd(s,"shortTime"),r=bd(s,"shortDate");n=Ym(Kp(s,Mt.Short),[o,r]);break;case"medium":const a=bd(s,"mediumTime"),l=bd(s,"mediumDate");n=Ym(Kp(s,Mt.Medium),[a,l]);break;case"long":const c=bd(s,"longTime"),u=bd(s,"longDate");n=Ym(Kp(s,Mt.Long),[c,u]);break;case"full":const f=bd(s,"fullTime"),_=bd(s,"fullDate");n=Ym(Kp(s,Mt.Full),[f,_])}return n&&(kc[e][i]=n),n}function Ym(s,i){return i&&(s=s.replace(/\{([^}]+)}/g,function(e,n){return null!=i&&n in i?i[n]:e})),s}function $n(s,i,e="-",n,o){let r="";(s<0||o&&s<=0)&&(o?s=1-s:(s=-s,r=e));let a=String(s);for(;a.length<i;)a="0"+a;return n&&(a=a.slice(a.length-i)),r+a}function Xn(s,i,e=0,n=!1,o=!1){return function(r,a){let l=function d2(s,i){switch(s){case yi.FullYear:return i.getFullYear();case yi.Month:return i.getMonth();case yi.Date:return i.getDate();case yi.Hours:return i.getHours();case yi.Minutes:return i.getMinutes();case yi.Seconds:return i.getSeconds();case yi.FractionalSeconds:return i.getMilliseconds();case yi.Day:return i.getDay();default:throw new Error(`Unknown DateType value "${s}".`)}}(s,r);if((e>0||l>-e)&&(l+=e),s===yi.Hours)0===l&&-12===e&&(l=12);else if(s===yi.FractionalSeconds)return function IE(s,i){return $n(s,3).substring(0,i)}(l,i);const c=al(a,In.MinusSign);return $n(l,i,c,n,o)}}function ks(s,i,e=Mr.Format,n=!1){return function(o,r){return function o3(s,i,e,n,o,r){switch(e){case ri.Months:return function t3(s,i,e){const n=(0,t.H5H)(s),r=Ga([n[t.KH2.MonthsFormat],n[t.KH2.MonthsStandalone]],i);return Ga(r,e)}(i,o,n)[s.getMonth()];case ri.Days:return function q6(s,i,e){const n=(0,t.H5H)(s),r=Ga([n[t.KH2.DaysFormat],n[t.KH2.DaysStandalone]],i);return Ga(r,e)}(i,o,n)[s.getDay()];case ri.DayPeriods:const a=s.getHours(),l=s.getMinutes();if(r){const u=function lt(s){const i=(0,t.H5H)(s);return f1(i),(i[t.KH2.ExtraData][2]||[]).map(n=>"string"==typeof n?TE(n):[TE(n[0]),TE(n[1])])}(i),f=function Ah(s,i,e){const n=(0,t.H5H)(s);f1(n);const r=Ga([n[t.KH2.ExtraData][0],n[t.KH2.ExtraData][1]],i)||[];return Ga(r,e)||[]}(i,o,n),_=u.findIndex(g=>{if(Array.isArray(g)){const[S,b]=g,k=a>=S.hours&&l>=S.minutes,D=a<b.hours||a===b.hours&&l<b.minutes;if(S.hours<b.hours){if(k&&D)return!0}else if(k||D)return!0}else if(g.hours===a&&g.minutes===l)return!0;return!1});if(-1!==_)return f[_]}return function oa(s,i,e){const n=(0,t.H5H)(s),r=Ga([n[t.KH2.DayPeriodsFormat],n[t.KH2.DayPeriodsStandalone]],i);return Ga(r,e)}(i,o,n)[a<12?0:1];case ri.Eras:return function n3(s,i){return Ga((0,t.H5H)(s)[t.KH2.Eras],i)}(i,n)[s.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(o,r,s,i,e,n)}}function Rh(s){return function(i,e,n){const o=-1*n,r=al(e,In.MinusSign),a=o>0?Math.floor(o/60):Math.ceil(o/60);switch(s){case wc.Short:return(o>=0?"+":"")+$n(a,2,r)+$n(Math.abs(o%60),2,r);case wc.ShortGMT:return"GMT"+(o>=0?"+":"")+$n(a,1,r);case wc.Long:return"GMT"+(o>=0?"+":"")+$n(a,2,r)+":"+$n(Math.abs(o%60),2,r);case wc.Extended:return 0===n?"Z":(o>=0?"+":"")+$n(a,2,r)+":"+$n(Math.abs(o%60),2,r);default:throw new Error(`Unknown zone width "${s}"`)}}}const Qt=0,Nh=4;function u2(s){const i=s.getDay(),e=0===i?-3:Nh-i;return ss(s.getFullYear(),s.getMonth(),s.getDate()+e)}function Km(s,i=!1){return function(e,n){let o;if(i){const r=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();o=1+Math.floor((a+r)/7)}else{const r=u2(e),a=function ra(s){const i=ss(s,Qt,1).getDay();return ss(s,0,1+(i<=Nh?Nh:Nh+7)-i)}(r.getFullYear()),l=r.getTime()-a.getTime();o=1+Math.round(l/6048e5)}return $n(o,s,al(n,In.MinusSign))}}function h2(s,i=!1){return function(e,n){return $n(u2(e).getFullYear(),s,al(n,In.MinusSign),i)}}const Dc={};function a3(s,i){s=s.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+s)/6e4;return isNaN(e)?i:e}function p2(s){return s instanceof Date&&!isNaN(s.valueOf())}const AE=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Ed(s){const i=parseInt(s);if(isNaN(i))throw new Error("Invalid integer literal when parsing "+s);return i}function S1(s,i){i=encodeURIComponent(i);for(const e of s.split(";")){const n=e.indexOf("="),[o,r]=-1==n?[e,""]:[e.slice(0,n),e.slice(n+1)];if(o.trim()===i)return decodeURIComponent(r)}return null}const C1=/\s+/,b1=[];let Pe=(()=>{class s{constructor(e,n){this._ngEl=e,this._renderer=n,this.initialClasses=b1,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(C1):b1}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(C1):e}ngDoCheck(){for(const n of this.initialClasses)this._updateState(n,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const n of e)this._updateState(n,!0);else if(null!=e)for(const n of Object.keys(e))this._updateState(n,!!e[n]);this._applyStateDiff()}_updateState(e,n){const o=this.stateMap.get(e);void 0!==o?(o.enabled!==n&&(o.changed=!0,o.enabled=n),o.touched=!0):this.stateMap.set(e,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const n=e[0],o=e[1];o.changed?(this._toggleClass(n,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),o.touched=!1}}_toggleClass(e,n){(e=e.trim()).length>0&&e.split(C1).forEach(o=>{n?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(t.aKT),t.rXU(t.sFG))};static#t=this.\u0275dir=t.FsC({type:s,selectors:[["","ngClass",""]],inputs:{klass:[t.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return s})();class rN{constructor(i,e,n,o){this.$implicit=i,this.ngForOf=e,this.index=n,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let st=(()=>{class s{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,n,o){this._viewContainer=e,this._template=n,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const n=this._viewContainer;e.forEachOperation((o,r,a)=>{if(null==o.previousIndex)n.createEmbeddedView(this._template,new rN(o.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)n.remove(null===r?void 0:r);else if(null!==r){const l=n.get(r);n.move(l,a),u3(l,o)}});for(let o=0,r=n.length;o<r;o++){const l=n.get(o).context;l.index=o,l.count=r,l.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{u3(n.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,n){return!0}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(t.c1b),t.rXU(t.C4Q),t.rXU(t._q3))};static#t=this.\u0275dir=t.FsC({type:s,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return s})();function u3(s,i){s.context.$implicit=i.item}let W=(()=>{class s{constructor(e,n){this._viewContainer=e,this._context=new m2,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){qm("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){qm("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,n){return!0}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(t.c1b),t.rXU(t.C4Q))};static#t=this.\u0275dir=t.FsC({type:s,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return s})();class m2{constructor(){this.$implicit=null,this.ngIf=null}}function qm(s,i){if(i&&!i.createEmbeddedView)throw new Error(`${s} must be a TemplateRef, but received '${(0,t.Tbb)(i)}'.`)}class Pa{constructor(i,e){this._viewContainerRef=i,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(i){i&&!this._created?this.create():!i&&this._created&&this.destroy()}}let Fa=(()=>{class s{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const n=e===this._ngSwitch;return this._lastCasesMatched||=n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const n of this._defaultViews)n.enforceState(e)}}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275dir=t.FsC({type:s,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return s})(),yd=(()=>{class s{constructor(e,n,o){this.ngSwitch=o,o._addCase(),this._view=new Pa(e,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(t.c1b),t.rXU(t.C4Q),t.rXU(Fa,9))};static#t=this.\u0275dir=t.FsC({type:s,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return s})(),Zt=(()=>{class s{constructor(e,n,o){o._addDefault(new Pa(e,n))}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(t.c1b),t.rXU(t.C4Q),t.rXU(Fa,9))};static#t=this.\u0275dir=t.FsC({type:s,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return s})(),Jn=(()=>{class s{constructor(e,n,o){this._ngEl=e,this._differs=n,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,n){const[o,r]=e.split("."),a=-1===o.indexOf("-")?void 0:t.czy.DashCase;null!=n?this._renderer.setStyle(this._ngEl.nativeElement,o,r?`${n}${r}`:n,a):this._renderer.removeStyle(this._ngEl.nativeElement,o,a)}_applyChanges(e){e.forEachRemovedItem(n=>this._setStyle(n.key,null)),e.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),e.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(t.aKT),t.rXU(t.MKu),t.rXU(t.sFG))};static#t=this.\u0275dir=t.FsC({type:s,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return s})(),Je=(()=>{class s{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const o=this._createContextForwardProxy();this._viewRef=n.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,n,o)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,n,o),get:(e,n,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,n,o)}})}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(t.c1b))};static#t=this.\u0275dir=t.FsC({type:s,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[t.OA$]})}return s})();function gn(s,i){return new t.wOt(2100,!1)}class y1{createSubscription(i,e){return(0,t.O8t)(()=>i.subscribe({next:e,error:n=>{throw n}}))}dispose(i){(0,t.O8t)(()=>i.unsubscribe())}}class VE{createSubscription(i,e){return i.then(e,n=>{throw n})}dispose(i){}}const aa=new VE,zE=new y1;let qp=(()=>{class s{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,n=>this._updateLatestValue(e,n))}_selectStrategy(e){if((0,t.jNT)(e))return aa;if((0,t.zjR)(e))return zE;throw gn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,n){e===this._obj&&(this._latestValue=n,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(t.gRc,16))};static#t=this.\u0275pipe=t.EJ8({name:"async",type:s,pure:!1,standalone:!0})}return s})();const HE=new t.nKC(""),v2=new t.nKC("");let xi=(()=>{class s{constructor(e,n,o){this.locale=e,this.defaultTimezone=n,this.defaultOptions=o}transform(e,n,o,r){if(null==e||""===e||e!=e)return null;try{return tN(e,n??this.defaultOptions?.dateFormat??"mediumDate",r||this.locale,o??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(a){throw gn()}}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(t.xe9,16),t.rXU(HE,24),t.rXU(v2,24))};static#t=this.\u0275pipe=t.EJ8({name:"date",type:s,pure:!0,standalone:!0})}return s})(),Qp=(()=>{class s{constructor(e){this._locale=e}transform(e,n,o){if(!function Zm(s){return!(null==s||""===s||s!=s)}(e))return null;o||=this._locale;try{return function LE(s,i,e){return function NE(s,i,e,n,o,r,a=!1){let l="",c=!1;if(isFinite(s)){let u=function g1(s){let n,o,r,a,l,i=Math.abs(s)+"",e=0;for((o=i.indexOf("."))>-1&&(i=i.replace(".","")),(r=i.search(/e/i))>0?(o<0&&(o=r),o+=+i.slice(r+1),i=i.substring(0,r)):o<0&&(o=i.length),r=0;"0"===i.charAt(r);r++);if(r===(l=i.length))n=[0],o=1;else{for(l--;"0"===i.charAt(l);)l--;for(o-=r,n=[],a=0;r<=l;r++,a++)n[a]=Number(i.charAt(r))}return o>22&&(n=n.splice(0,21),e=o-1,o=1),{digits:n,exponent:e,integerLen:o}}(s);a&&(u=function GE(s){if(0===s.digits[0])return s;const i=s.digits.length-s.integerLen;return s.exponent?s.exponent+=2:(0===i?s.digits.push(0,0):1===i&&s.digits.push(0),s.integerLen+=2),s}(u));let f=i.minInt,_=i.minFrac,g=i.maxFrac;if(r){const I=r.match(AE);if(null===I)throw new Error(`${r} is not a valid digit info`);const N=I[1],P=I[3],G=I[5];null!=N&&(f=Ed(N)),null!=P&&(_=Ed(P)),null!=G?g=Ed(G):null!=P&&_>g&&(g=_)}!function mu(s,i,e){if(i>e)throw new Error(`The minimum number of digits after fraction (${i}) is higher than the maximum (${e}).`);let n=s.digits,o=n.length-s.integerLen;const r=Math.min(Math.max(i,o),e);let a=r+s.integerLen,l=n[a];if(a>0){n.splice(Math.max(s.integerLen,a));for(let _=a;_<n.length;_++)n[_]=0}else{o=Math.max(0,o),s.integerLen=1,n.length=Math.max(1,a=r+1),n[0]=0;for(let _=1;_<a;_++)n[_]=0}if(l>=5)if(a-1<0){for(let _=0;_>a;_--)n.unshift(0),s.integerLen++;n.unshift(1),s.integerLen++}else n[a-1]++;for(;o<Math.max(0,r);o++)n.push(0);let c=0!==r;const u=i+s.integerLen,f=n.reduceRight(function(_,g,S,b){return b[S]=(g+=_)<10?g:g-10,c&&(0===b[S]&&S>=u?b.pop():c=!1),g>=10?1:0},0);f&&(n.unshift(f),s.integerLen++)}(u,_,g);let S=u.digits,b=u.integerLen;const k=u.exponent;let D=[];for(c=S.every(I=>!I);b<f;b++)S.unshift(0);for(;b<0;b++)S.unshift(0);b>0?D=S.splice(b,S.length):(D=S,S=[0]);const O=[];for(S.length>=i.lgSize&&O.unshift(S.splice(-i.lgSize,S.length).join(""));S.length>i.gSize;)O.unshift(S.splice(-i.gSize,S.length).join(""));S.length&&O.unshift(S.join("")),l=O.join(al(e,n)),D.length&&(l+=al(e,o)+D.join("")),k&&(l+=al(e,In.Exponential)+"+"+k)}else l=al(e,In.Infinity);return l=s<0&&!c?i.negPre+l+i.negSuf:i.posPre+l+i.posSuf,l}(s,function Jm(s,i="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=s.split(";"),o=n[0],r=n[1],a=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],l=a[0],c=a[1]||"";e.posPre=l.substring(0,l.indexOf("#"));for(let f=0;f<c.length;f++){const _=c.charAt(f);"0"===_?e.minFrac=e.maxFrac=f+1:"#"===_?e.maxFrac=f+1:e.posSuf+=_}const u=l.split(",");if(e.gSize=u[1]?u[1].length:0,e.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,r){const f=o.length-e.posPre.length-e.posSuf.length,_=r.indexOf("#");e.negPre=r.substring(0,_).replace(/'/g,""),e.negSuf=r.slice(_+f).replace(/'/g,"")}else e.negPre=i+e.posPre,e.negSuf=e.posSuf;return e}(function wE(s,i){return(0,t.H5H)(s)[t.KH2.NumberFormats][i]}(i,Yp.Decimal),al(i,In.MinusSign)),i,In.Group,In.Decimal,e)}(function D1(s){if("string"==typeof s&&!isNaN(Number(s)-parseFloat(s)))return Number(s);if("number"!=typeof s)throw new Error(`${s} is not a number`);return s}(e),o,n)}catch(r){throw gn()}}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(t.xe9,16))};static#t=this.\u0275pipe=t.EJ8({name:"number",type:s,pure:!0,standalone:!0})}return s})();let Fe=(()=>{class s{static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275mod=t.$C({type:s});static#n=this.\u0275inj=t.G2t({})}return s})();const b2="browser";function xr(s){return"server"===s}let t_=(()=>{class s{static#e=this.\u0275prov=(0,t.jDH)({token:s,providedIn:"root",factory:()=>function XE(s){return s===b2}((0,t.WQX)(t.Agw))?new T1((0,t.WQX)(de),window):new YE})}return s})();class T1{constructor(i,e){this.document=i,this.window=e,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(i){this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){const e=function lN(s,i){const e=s.getElementById(i)||s.getElementsByName(i)[0];if(e)return e;if("function"==typeof s.createTreeWalker&&s.body&&"function"==typeof s.body.attachShadow){const n=s.createTreeWalker(s.body,NodeFilter.SHOW_ELEMENT);let o=n.currentNode;for(;o;){const r=o.shadowRoot;if(r){const a=r.getElementById(i)||r.querySelector(`[name="${i}"]`);if(a)return a}o=n.nextNode()}}return null}(this.document,i);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(i){this.window.history.scrollRestoration=i}scrollToElement(i){const e=i.getBoundingClientRect(),n=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],o-r[1])}}class YE{setOffset(i){}getScrollPosition(){return[0,0]}scrollToPosition(i){}scrollToAnchor(i){}setHistoryScrollRestoration(i){}}class f3{}class SN extends ut{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class D3 extends SN{static makeCurrent(){!function Wt(s){at??=s}(new D3)}onAndCancel(i,e,n){return i.addEventListener(e,n),()=>{i.removeEventListener(e,n)}}dispatchEvent(i,e){i.dispatchEvent(e)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,e){return(e=e||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,e){return"window"===e?window:"document"===e?i:"body"===e?i.body:null}getBaseHref(i){const e=function qj(){return Gh=Gh||document.querySelector("base"),Gh?Gh.getAttribute("href"):null}();return null==e?null:function Qj(s){return new URL(s,document.baseURI).pathname}(e)}resetBaseElement(){Gh=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return S1(document.cookie,i)}}let Gh=null,eH=(()=>{class s{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();const O3=new t.nKC("");let CN=(()=>{class s{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,o){return this._findPluginFor(n).addEventListener(e,n,o)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(r=>r.supports(e)),!n)throw new t.wOt(5101,!1);return this._eventNameToPlugin.set(e,n),n}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(O3),t.KVO(t.SKi))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();class ry{constructor(i){this._doc=i}}const A1="ng-app-id";let Ys=(()=>{class s{constructor(e,n,o,r={}){this.doc=e,this.appId=n,this.nonce=o,this.platformId=r,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=xr(r),this.resetHostNodes()}addStyles(e){for(const n of e)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(e){for(const n of e)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(n=>n.remove()),e.clear());for(const n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const n of this.getAllStyles())this.addStyleToHost(e,n)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const n of this.hostNodes)this.addStyleToHost(n,e)}onStyleRemoved(e){const n=this.styleRef;n.get(e)?.elements?.forEach(o=>o.remove()),n.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${A1}="${this.appId}"]`);if(e?.length){const n=new Map;return e.forEach(o=>{null!=o.textContent&&n.set(o.textContent,o)}),n}return null}changeUsageCount(e,n){const o=this.styleRef;if(o.has(e)){const r=o.get(e);return r.usage+=n,r.usage}return o.set(e,{usage:n,elements:[]}),n}getStyleElement(e,n){const o=this.styleNodesInDOM,r=o?.get(n);if(r?.parentNode===e)return o.delete(n),r.removeAttribute(A1),r;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=n,this.platformIsServer&&a.setAttribute(A1,this.appId),e.appendChild(a),a}}addStyleToHost(e,n){const o=this.getStyleElement(e,n),r=this.styleRef,a=r.get(n)?.elements;a?a.push(o):r.set(n,{elements:[o],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(de),t.KVO(t.sZ2),t.KVO(t.BIS,8),t.KVO(t.Agw))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();const Ue={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lt=/%COMP%/g,R1=new t.nKC("",{providedIn:"root",factory:()=>!0});function Ic(s,i){return i.map(e=>e.replace(Lt,s))}let nn=(()=>{class s{constructor(e,n,o,r,a,l,c,u=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=o,this.removeStylesOnCompDestroy=r,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=xr(l),this.defaultRenderer=new i_(e,a,c,this.platformIsServer)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===t.gXe.ShadowDom&&(n={...n,encapsulation:t.gXe.Emulated});const o=this.getOrCreateRenderer(e,n);return o instanceof Su?o.applyToHost(e):o instanceof nf&&o.applyStyles(),o}getOrCreateRenderer(e,n){const o=this.rendererByCompId;let r=o.get(n.id);if(!r){const a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(n.encapsulation){case t.gXe.Emulated:r=new Su(c,u,n,this.appId,f,a,l,_);break;case t.gXe.ShadowDom:return new O2(c,u,e,n,a,l,this.nonce,_);default:r=new nf(c,u,n,f,a,l,_)}o.set(n.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(CN),t.KVO(Ys),t.KVO(t.sZ2),t.KVO(R1),t.KVO(de),t.KVO(t.Agw),t.KVO(t.SKi),t.KVO(t.BIS))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();class i_{constructor(i,e,n,o){this.eventManager=i,this.doc=e,this.ngZone=n,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(i,e){return e?this.doc.createElementNS(Ue[e]||e,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,e){(Qs(i)?i.content:i).appendChild(e)}insertBefore(i,e,n){i&&(Qs(i)?i.content:i).insertBefore(e,n)}removeChild(i,e){i&&i.removeChild(e)}selectRootElement(i,e){let n="string"==typeof i?this.doc.querySelector(i):i;if(!n)throw new t.wOt(-5104,!1);return e||(n.textContent=""),n}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,e,n,o){if(o){e=o+":"+e;const r=Ue[o];r?i.setAttributeNS(r,e,n):i.setAttribute(e,n)}else i.setAttribute(e,n)}removeAttribute(i,e,n){if(n){const o=Ue[n];o?i.removeAttributeNS(o,e):i.removeAttribute(`${n}:${e}`)}else i.removeAttribute(e)}addClass(i,e){i.classList.add(e)}removeClass(i,e){i.classList.remove(e)}setStyle(i,e,n,o){o&(t.czy.DashCase|t.czy.Important)?i.style.setProperty(e,n,o&t.czy.Important?"important":""):i.style[e]=n}removeStyle(i,e,n){n&t.czy.DashCase?i.style.removeProperty(e):i.style[e]=""}setProperty(i,e,n){null!=i&&(i[e]=n)}setValue(i,e){i.nodeValue=e}listen(i,e,n){if("string"==typeof i&&!(i=qt().getGlobalEventTarget(this.doc,i)))throw new Error(`Unsupported event target ${i} for event ${e}`);return this.eventManager.addEventListener(i,e,this.decoratePreventDefault(n))}decoratePreventDefault(i){return e=>{if("__ngUnwrap__"===e)return i;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>i(e)):i(e))&&e.preventDefault()}}}function Qs(s){return"TEMPLATE"===s.tagName&&void 0!==s.content}class O2 extends i_{constructor(i,e,n,o,r,a,l,c){super(i,r,a,c),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Ic(o.id,o.styles);for(const f of u){const _=document.createElement("style");l&&_.setAttribute("nonce",l),_.textContent=f,this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,e){return super.appendChild(this.nodeOrShadowRoot(i),e)}insertBefore(i,e,n){return super.insertBefore(this.nodeOrShadowRoot(i),e,n)}removeChild(i,e){return super.removeChild(this.nodeOrShadowRoot(i),e)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class nf extends i_{constructor(i,e,n,o,r,a,l,c){super(i,r,a,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o,this.styles=c?Ic(c,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Su extends nf{constructor(i,e,n,o,r,a,l,c){const u=o+"-"+n.id;super(i,e,n,r,a,l,c,u),this.contentAttr=function Bs(s){return"_ngcontent-%COMP%".replace(Lt,s)}(u),this.hostAttr=function Jr(s){return"_nghost-%COMP%".replace(Lt,s)}(u)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,e){const n=super.createElement(i,e);return super.setAttribute(n,this.contentAttr,""),n}}let T2=(()=>{class s extends ry{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,o){return e.addEventListener(n,o,!1),()=>this.removeEventListener(e,n,o)}removeEventListener(e,n,o){return e.removeEventListener(n,o)}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(de))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();const T3=["alt","control","meta","shift"],sf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ay={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let s_=(()=>{class s extends ry{constructor(e){super(e)}supports(e){return null!=s.parseEventName(e)}addEventListener(e,n,o){const r=s.parseEventName(n),a=s.eventCallback(r.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qt().onAndCancel(e,r.domEventName,a))}static parseEventName(e){const n=e.toLowerCase().split("."),o=n.shift();if(0===n.length||"keydown"!==o&&"keyup"!==o)return null;const r=s._normalizeKey(n.pop());let a="",l=n.indexOf("code");if(l>-1&&(n.splice(l,1),a="code."),T3.forEach(u=>{const f=n.indexOf(u);f>-1&&(n.splice(f,1),a+=u+".")}),a+=r,0!=n.length||0===r.length)return null;const c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(e,n){let o=sf[e.key]||e.key,r="";return n.indexOf("code.")>-1&&(o=e.code,r="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),T3.forEach(a=>{a!==o&&(0,ay[a])(e)&&(r+=a+".")}),r+=o,r===n)}static eventCallback(e,n,o){return r=>{s.matchEventFullKeyCode(r,e)&&o.runGuarded(()=>n(r))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(de))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();const ua=(0,t.oH4)(t.fpN,"browser",[{provide:t.Agw,useValue:b2},{provide:t.PLl,useValue:function ly(){D3.makeCurrent()},multi:!0},{provide:de,useFactory:function Go(){return(0,t.TL$)(document),document},deps:[]}]),ha=new t.nKC(""),dy=[{provide:t.e01,useClass:class Zj{addToWindow(i){t.JZv.getAngularTestability=(n,o=!0)=>{const r=i.findTestabilityInTree(n,o);if(null==r)throw new t.wOt(5103,!1);return r},t.JZv.getAllAngularTestabilities=()=>i.getAllTestabilities(),t.JZv.getAllAngularRootElements=()=>i.getAllRootElements(),t.JZv.frameworkStabilizers||(t.JZv.frameworkStabilizers=[]),t.JZv.frameworkStabilizers.push(n=>{const o=t.JZv.getAllAngularTestabilities();let r=o.length;const a=function(){r--,0==r&&n()};o.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(i,e,n){return null==e?null:i.getTestability(e)??(n?qt().isShadowRoot(e)?this.findTestabilityInTree(i,e.host,!0):this.findTestabilityInTree(i,e.parentElement,!0):null)}},deps:[]},{provide:t.WHO,useClass:t.NYb,deps:[t.SKi,t.giA,t.e01]},{provide:t.NYb,useClass:t.NYb,deps:[t.SKi,t.giA,t.e01]}],rf=[{provide:t.H8p,useValue:"root"},{provide:t.zcH,useFactory:function L1(){return new t.zcH},deps:[]},{provide:O3,useClass:T2,multi:!0,deps:[de,t.SKi,t.Agw]},{provide:O3,useClass:s_,multi:!0,deps:[de]},nn,Ys,CN,{provide:t._9s,useExisting:nn},{provide:f3,useClass:eH,deps:[]},[]];let M2=(()=>{class s{constructor(e){}static withServerTransition(e){return{ngModule:s,providers:[{provide:t.sZ2,useValue:e.appId}]}}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(ha,12))};static#t=this.\u0275mod=t.$C({type:s});static#n=this.\u0275inj=t.G2t({providers:[...rf,...dy],imports:[Fe,t.Hbi]})}return s})(),tH=(()=>{class s{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(de))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),I3=(()=>{class s{static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275prov=t.jDH({token:s,factory:function(n){let o=null;return o=n?new(n||s):t.KVO(Vde),o},providedIn:"root"})}return s})(),Vde=(()=>{class s extends I3{constructor(e){super(),this._doc=e}sanitize(e,n){if(null==n)return null;switch(e){case t.WPN.NONE:return n;case t.WPN.HTML:return(0,t.ZF7)(n,"HTML")?(0,t.rcV)(n):(0,t.h9k)(this._doc,String(n)).toString();case t.WPN.STYLE:return(0,t.ZF7)(n,"Style")?(0,t.rcV)(n):n;case t.WPN.SCRIPT:if((0,t.ZF7)(n,"Script"))return(0,t.rcV)(n);throw new t.wOt(5200,!1);case t.WPN.URL:return(0,t.ZF7)(n,"URL")?(0,t.rcV)(n):(0,t.$MX)(String(n));case t.WPN.RESOURCE_URL:if((0,t.ZF7)(n,"ResourceURL"))return(0,t.rcV)(n);throw new t.wOt(5201,!1);default:throw new t.wOt(5202,!1)}}bypassSecurityTrustHtml(e){return(0,t.Kcf)(e)}bypassSecurityTrustStyle(e){return(0,t.cWb)(e)}bypassSecurityTrustScript(e){return(0,t.UyX)(e)}bypassSecurityTrustUrl(e){return(0,t.osQ)(e)}bypassSecurityTrustResourceUrl(e){return(0,t.e5t)(e)}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(de))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var sn=function(s){return s[s.State=0]="State",s[s.Transition=1]="Transition",s[s.Sequence=2]="Sequence",s[s.Group=3]="Group",s[s.Animate=4]="Animate",s[s.Keyframes=5]="Keyframes",s[s.Style=6]="Style",s[s.Trigger=7]="Trigger",s[s.Reference=8]="Reference",s[s.AnimateChild=9]="AnimateChild",s[s.AnimateRef=10]="AnimateRef",s[s.Query=11]="Query",s[s.Stagger=12]="Stagger",s}(sn||{});const xc="*";function o_(s,i){return{type:sn.Trigger,name:s,definitions:i,options:{}}}function hi(s,i=null){return{type:sn.Animate,styles:i,timings:s}}function I2(s,i=null){return{type:sn.Sequence,steps:s,options:i}}function We(s){return{type:sn.Style,styles:s,offset:null}}function Od(s,i,e){return{type:sn.State,name:s,styles:i,options:e}}function TN(s){return{type:sn.Keyframes,steps:s}}function mo(s,i,e=null){return{type:sn.Transition,expr:s,animation:i,options:e}}let ki=(()=>{class s{static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275prov=t.jDH({token:s,factory:()=>(0,t.WQX)(x2),providedIn:"root"})}return s})();class A3{}let x2=(()=>{class s extends ki{constructor(e,n){if(super(),this.animationModuleType=(0,t.WQX)(t.bc$,{optional:!0}),this._nextAnimationId=0,this._renderer=e.createRenderer(n.body,{id:"0",encapsulation:t.gXe.None,styles:[],data:{animation:[]}}),null===this.animationModuleType&&!function Pl(s){const i=s.\u0275type;return 0===i||1===i}(this._renderer))throw new t.wOt(3600,!1)}build(e){const n=this._nextAnimationId;this._nextAnimationId++;const o=Array.isArray(e)?I2(e):e;return G1(this._renderer,null,n,"register",[o]),new Va(n,this._renderer)}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(t._9s),t.KVO(de))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class Va extends A3{constructor(i,e){super(),this._id=i,this._renderer=e}create(i,e){return new cH(this._id,i,e||{},this._renderer)}}class cH{constructor(i,e,n,o){this.id=i,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(i,e){return this._renderer.listen(this.element,`@@${this.id}:${i}`,e)}_command(i,...e){G1(this._renderer,this.element,this.id,i,e)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){return function P1(s){const i=s.\u0275type;return 0===i?s:1===i?s.animationRenderer:null}(this._renderer)?.engine?.players[this.id]?.getPosition()??0}}function G1(s,i,e,n,o){s.setProperty(i,`@@${e}:${n}`,o)}class A2{constructor(i=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const e="start"==i?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class hy{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let e=0,n=0,o=0;const r=this.players.length;0==r?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==r&&this._onFinish()}),a.onDestroy(()=>{++n==r&&this._onDestroy()}),a.onStart(()=>{++o==r&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const e=i*this.totalTime;this.players.forEach(n=>{const o=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(o)})}getPosition(){const i=this.players.reduce((e,n)=>null===e||n.totalTime>e.totalTime?n:e,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const e="start"==i?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}function N3(s){return new t.wOt(3e3,!1)}function Bh(s){switch(s.length){case 0:return new A2;case 1:return s[0];default:return new hy(s)}}function Ac(s,i,e=new Map,n=new Map){const o=[],r=[];let a=-1,l=null;if(i.forEach(c=>{const u=c.get("offset"),f=u==a,_=f&&l||new Map;c.forEach((g,S)=>{let b=S,k=g;if("offset"!==S)switch(b=s.normalizePropertyName(b,o),k){case"!":k=e.get(S);break;case xc:k=n.get(S);break;default:k=s.normalizeStyleValue(S,b,k,o)}_.set(b,k)}),f||r.push(_),l=_,a=u}),o.length)throw function RN(s){return new t.wOt(3502,!1)}();return r}function Td(s,i,e,n){switch(i){case"start":s.onStart(()=>n(e&&B3(e,"start",s)));break;case"done":s.onDone(()=>n(e&&B3(e,"done",s)));break;case"destroy":s.onDestroy(()=>n(e&&B3(e,"destroy",s)))}}function B3(s,i,e){const r=fy(s.element,s.triggerName,s.fromState,s.toState,i||s.phaseName,e.totalTime??s.totalTime,!!e.disabled),a=s._data;return null!=a&&(r._data=a),r}function fy(s,i,e,n,o="",r=0,a){return{element:s,triggerName:i,fromState:e,toState:n,phaseName:o,totalTime:r,disabled:!!a}}function Fl(s,i,e){let n=s.get(i);return n||s.set(i,n=e),n}function GN(s){const i=s.indexOf(":");return[s.substring(1,i),s.slice(i+1)]}const V3=typeof document>"u"?null:document.documentElement;function L2(s){const i=s.parentNode||s.host||null;return i===V3?null:i}let Eu=null,PN=!1;function j3(s,i){for(;i;){if(i===s)return!0;i=L2(i)}return!1}function H3(s,i,e){if(e)return Array.from(s.querySelectorAll(i));const n=s.querySelector(i);return n?[n]:[]}let G2=(()=>{class s{validateStyleProperty(e){return function FN(s){Eu||(Eu=function BN(){return typeof document<"u"?document.body:null}()||{},PN=!!Eu.style&&"WebkitAppearance"in Eu.style);let i=!0;return Eu.style&&!function z3(s){return"ebkit"==s.substring(1,6)}(s)&&(i=s in Eu.style,!i&&PN&&(i="Webkit"+s.charAt(0).toUpperCase()+s.slice(1)in Eu.style)),i}(e)}matchesElement(e,n){return!1}containsElement(e,n){return j3(e,n)}getParentElement(e){return L2(e)}query(e,n,o){return H3(e,n,o)}computeStyle(e,n,o){return o||""}animate(e,n,o,r,a,l=[],c){return new A2(o,r)}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();class $3{static#e=this.NOOP=new G2}class Rr{}const Vs=1e3,my="ng-enter",_y="ng-leave",P2="ng-trigger",F2=".ng-trigger",U1="ng-animating",Rc=".ng-animating";function Vh(s){if("number"==typeof s)return s;const i=s.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:B1(parseFloat(i[1]),i[2])}function B1(s,i){return"s"===i?s*Vs:s}function l_(s,i,e){return s.hasOwnProperty("duration")?s:function gy(s,i,e){let o,r=0,a="";if("string"==typeof s){const l=s.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===l)return i.push(N3()),{duration:0,delay:0,easing:""};o=B1(parseFloat(l[1]),l[2]);const c=l[3];null!=c&&(r=B1(parseFloat(c),l[4]));const u=l[5];u&&(a=u)}else o=s;if(!e){let l=!1,c=i.length;o<0&&(i.push(function dH(){return new t.wOt(3100,!1)}()),l=!0),r<0&&(i.push(function IN(){return new t.wOt(3101,!1)}()),l=!0),l&&i.splice(c,0,N3())}return{duration:o,delay:r,easing:a}}(s,i,e)}function Md(s,i,e){i.forEach((n,o)=>{const r=J3(o);e&&!e.has(o)&&e.set(o,s.style[r]),s.style[r]=n})}function c_(s,i){i.forEach((e,n)=>{const o=J3(n);s.style[o]=""})}function yu(s){return Array.isArray(s)?1==s.length?s[0]:I2(s):s}const K3=new RegExp("{{\\s*(.+?)\\s*}}","g");function vy(s){let i=[];if("string"==typeof s){let e;for(;e=K3.exec(s);)i.push(e[1]);K3.lastIndex=0}return i}function B2(s,i,e){const n=`${s}`,o=n.replace(K3,(r,a)=>{let l=i[a];return null==l&&(e.push(function G3(s){return new t.wOt(3003,!1)}()),l=""),l.toString()});return o==n?s:o}const yH=/-+([a-z0-9])/g;function J3(s){return s.replace(yH,(...i)=>i[1].toUpperCase())}function qr(s,i,e){switch(i.type){case sn.Trigger:return s.visitTrigger(i,e);case sn.State:return s.visitState(i,e);case sn.Transition:return s.visitTransition(i,e);case sn.Sequence:return s.visitSequence(i,e);case sn.Group:return s.visitGroup(i,e);case sn.Animate:return s.visitAnimate(i,e);case sn.Keyframes:return s.visitKeyframes(i,e);case sn.Style:return s.visitStyle(i,e);case sn.Reference:return s.visitReference(i,e);case sn.AnimateChild:return s.visitAnimateChild(i,e);case sn.AnimateRef:return s.visitAnimateRef(i,e);case sn.Query:return s.visitQuery(i,e);case sn.Stagger:return s.visitStagger(i,e);default:throw function R2(s){return new t.wOt(3004,!1)}()}}function Q3(s,i){return window.getComputedStyle(s)[i]}const V2=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Sy extends Rr{normalizePropertyName(i,e){return J3(i)}normalizeStyleValue(i,e,n,o){let r="";const a=n.toString().trim();if(V2.has(e)&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const l=n.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&0==l[1].length&&o.push(function py(s,i){return new t.wOt(3005,!1)}())}return a+r}}const Cy="*";const d_=new Set(["true","1"]),V1=new Set(["false","0"]);function zN(s,i){const e=d_.has(s)||V1.has(s),n=d_.has(i)||V1.has(i);return(o,r)=>{let a=s==Cy||s==o,l=i==Cy||i==r;return!a&&e&&"boolean"==typeof o&&(a=o?d_.has(s):V1.has(s)),!l&&n&&"boolean"==typeof r&&(l=r?d_.has(i):V1.has(i)),a&&l}}const jN=new RegExp("s*:selfs*,?","g");function Ey(s,i,e,n){return new DH(s).build(i,e,n)}class DH{constructor(i){this._driver=i}build(i,e,n){const o=new OH(e);return this._resetContextStyleTimingState(o),qr(this,yu(i),o)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,e){let n=e.queryCount=0,o=e.depCount=0;const r=[],a=[];return"@"==i.name.charAt(0)&&e.errors.push(function P3(){return new t.wOt(3006,!1)}()),i.definitions.forEach(l=>{if(this._resetContextStyleTimingState(e),l.type==sn.State){const c=l,u=c.name;u.toString().split(/\s*,\s*/).forEach(f=>{c.name=f,r.push(this.visitState(c,e))}),c.name=u}else if(l.type==sn.Transition){const c=this.visitTransition(l,e);n+=c.queryCount,o+=c.depCount,a.push(c)}else e.errors.push(function r_(){return new t.wOt(3007,!1)}())}),{type:sn.Trigger,name:i.name,states:r,transitions:a,queryCount:n,depCount:o,options:null}}visitState(i,e){const n=this.visitStyle(i.styles,e),o=i.options&&i.options.params||null;if(n.containsDynamicStyles){const r=new Set,a=o||{};n.styles.forEach(l=>{l instanceof Map&&l.forEach(c=>{vy(c).forEach(u=>{a.hasOwnProperty(u)||r.add(u)})})}),r.size&&e.errors.push(function vn(s,i){return new t.wOt(3008,!1)}(0,r.values()))}return{type:sn.State,name:i.name,style:n,options:o?{params:o}:null}}visitTransition(i,e){e.queryCount=0,e.depCount=0;const n=qr(this,yu(i.animation),e),o=function by(s,i){const e=[];return"string"==typeof s?s.split(/\s*,\s*/).forEach(n=>function eT(s,i,e){if(":"==s[0]){const c=function VN(s,i){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return i.push(function gH(s){return new t.wOt(3016,!1)}()),"* => *"}}(s,e);if("function"==typeof c)return void i.push(c);s=c}const n=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return e.push(function _H(s){return new t.wOt(3015,!1)}()),i;const o=n[1],r=n[2],a=n[3];i.push(zN(o,a)),"<"==r[0]&&(o!=Cy||a!=Cy)&&i.push(zN(a,o))}(n,e,i)):e.push(s),e}(i.expr,e.errors);return{type:sn.Transition,matchers:o,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Nc(i.options)}}visitSequence(i,e){return{type:sn.Sequence,steps:i.steps.map(n=>qr(this,n,e)),options:Nc(i.options)}}visitGroup(i,e){const n=e.currentTime;let o=0;const r=i.steps.map(a=>{e.currentTime=n;const l=qr(this,a,e);return o=Math.max(o,e.currentTime),l});return e.currentTime=o,{type:sn.Group,steps:r,options:Nc(i.options)}}visitAnimate(i,e){const n=function $N(s,i){if(s.hasOwnProperty("duration"))return s;if("number"==typeof s)return af(l_(s,i).duration,0,"");const e=s;if(e.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=af(0,0,"");return r.dynamic=!0,r.strValue=e,r}const o=l_(e,i);return af(o.duration,o.delay,o.easing)}(i.timings,e.errors);e.currentAnimateTimings=n;let o,r=i.styles?i.styles:We({});if(r.type==sn.Keyframes)o=this.visitKeyframes(r,e);else{let a=i.styles,l=!1;if(!a){l=!0;const u={};n.easing&&(u.easing=n.easing),a=We(u)}e.currentTime+=n.duration+n.delay;const c=this.visitStyle(a,e);c.isEmptyStep=l,o=c}return e.currentAnimateTimings=null,{type:sn.Animate,timings:n,style:o,options:null}}visitStyle(i,e){const n=this._makeStyleAst(i,e);return this._validateStyleAst(n,e),n}_makeStyleAst(i,e){const n=[],o=Array.isArray(i.styles)?i.styles:[i.styles];for(let l of o)"string"==typeof l?l===xc?n.push(l):e.errors.push(new t.wOt(3002,!1)):n.push(new Map(Object.entries(l)));let r=!1,a=null;return n.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(a=l.get("easing"),l.delete("easing")),!r))for(let c of l.values())if(c.toString().indexOf("{{")>=0){r=!0;break}}),{type:sn.Style,styles:n,easing:a,offset:i.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(i,e){const n=e.currentAnimateTimings;let o=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),i.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,c)=>{const u=e.collectedStyles.get(e.currentQuerySelector),f=u.get(c);let _=!0;f&&(r!=o&&r>=f.startTime&&o<=f.endTime&&(e.errors.push(function uH(s,i,e,n,o){return new t.wOt(3010,!1)}()),_=!1),r=f.startTime),_&&u.set(c,{startTime:r,endTime:o}),e.options&&function U2(s,i,e){const n=i.params||{},o=vy(s);o.length&&o.forEach(r=>{n.hasOwnProperty(r)||e.push(function L3(s){return new t.wOt(3001,!1)}())})}(l,e.options,e.errors)})})}visitKeyframes(i,e){const n={type:sn.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function hH(){return new t.wOt(3011,!1)}()),n;let r=0;const a=[];let l=!1,c=!1,u=0;const f=i.steps.map(O=>{const I=this._makeStyleAst(O,e);let N=null!=I.offset?I.offset:function HN(s){if("string"==typeof s)return null;let i=null;if(Array.isArray(s))s.forEach(e=>{if(e instanceof Map&&e.has("offset")){const n=e;i=parseFloat(n.get("offset")),n.delete("offset")}});else if(s instanceof Map&&s.has("offset")){const e=s;i=parseFloat(e.get("offset")),e.delete("offset")}return i}(I.styles),P=0;return null!=N&&(r++,P=I.offset=N),c=c||P<0||P>1,l=l||P<u,u=P,a.push(P),I});c&&e.errors.push(function pH(){return new t.wOt(3012,!1)}()),l&&e.errors.push(function AN(){return new t.wOt(3200,!1)}());const _=i.steps.length;let g=0;r>0&&r<_?e.errors.push(function F1(){return new t.wOt(3202,!1)}()):0==r&&(g=1/(_-1));const S=_-1,b=e.currentTime,k=e.currentAnimateTimings,D=k.duration;return f.forEach((O,I)=>{const N=g>0?I==S?1:g*I:a[I],P=N*D;e.currentTime=b+k.delay+P,k.duration=P,this._validateStyleAst(O,e),O.offset=N,n.styles.push(O)}),n}visitReference(i,e){return{type:sn.Reference,animation:qr(this,yu(i.animation),e),options:Nc(i.options)}}visitAnimateChild(i,e){return e.depCount++,{type:sn.AnimateChild,options:Nc(i.options)}}visitAnimateRef(i,e){return{type:sn.AnimateRef,animation:this.visitReference(i.animation,e),options:Nc(i.options)}}visitQuery(i,e){const n=e.currentQuerySelector,o=i.options||{};e.queryCount++,e.currentQuery=i;const[r,a]=function yy(s){const i=!!s.split(/\s*,\s*/).find(e=>":self"==e);return i&&(s=s.replace(jN,"")),s=s.replace(/@\*/g,F2).replace(/@\w+/g,e=>F2+"-"+e.slice(1)).replace(/:animating/g,Rc),[s,i]}(i.selector);e.currentQuerySelector=n.length?n+" "+r:r,Fl(e.collectedStyles,e.currentQuerySelector,new Map);const l=qr(this,yu(i.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:sn.Query,selector:r,limit:o.limit||0,optional:!!o.optional,includeSelf:a,animation:l,originalSelector:i.selector,options:Nc(i.options)}}visitStagger(i,e){e.currentQuery||e.errors.push(function fH(){return new t.wOt(3013,!1)}());const n="full"===i.timings?{duration:0,delay:0,easing:"full"}:l_(i.timings,e.errors,!0);return{type:sn.Stagger,animation:qr(this,yu(i.animation),e),timings:n,options:null}}}class OH{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Nc(s){return s?(s={...s}).params&&(s.params=function u_(s){return s?{...s}:null}(s.params)):s={},s}function af(s,i,e){return{duration:s,delay:i,easing:e}}function Po(s,i,e,n,o,r,a=null,l=!1){return{type:1,element:s,keyframes:i,preStyleProps:e,postStyleProps:n,duration:o,delay:r,totalTime:o+r,easing:a,subTimeline:l}}class ky{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,e){let n=this._map.get(i);n||this._map.set(i,n=[]),n.push(...e)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const TH=new RegExp(":enter","g"),wy=new RegExp(":leave","g");function sT(s,i,e,n,o,r=new Map,a=new Map,l,c,u=[]){return(new YN).buildKeyframes(s,i,e,n,o,r,a,l,c,u)}class YN{buildKeyframes(i,e,n,o,r,a,l,c,u,f=[]){u=u||new ky;const _=new j1(i,e,u,o,r,f,[]);_.options=c;const g=c.delay?Vh(c.delay):0;_.currentTimeline.delayNextStep(g),_.currentTimeline.setStyles([a],null,_.errors,c),qr(this,n,_);const S=_.timelines.filter(b=>b.containsAnimation());if(S.length&&l.size){let b;for(let k=S.length-1;k>=0;k--){const D=S[k];if(D.element===e){b=D;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([l],null,_.errors,c)}return S.length?S.map(b=>b.buildKeyframes()):[Po(e,[],[],[],0,g,"",!1)]}visitTrigger(i,e){}visitState(i,e){}visitTransition(i,e){}visitAnimateChild(i,e){const n=e.subInstructions.get(e.element);if(n){const o=e.createSubContext(i.options),r=e.currentTimeline.currentTime,a=this._visitSubInstructions(n,o,o.options);r!=a&&e.transformIntoNewTimeline(a)}e.previousNode=i}visitAnimateRef(i,e){const n=e.createSubContext(i.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],e,n),this.visitReference(i.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=i}_applyAnimationRefDelays(i,e,n){for(const o of i){const r=o?.delay;if(r){const a="number"==typeof r?r:Vh(B2(r,o?.params??{},e.errors));n.delayNextStep(a)}}}_visitSubInstructions(i,e,n){let r=e.currentTimeline.currentTime;const a=null!=n.duration?Vh(n.duration):null,l=null!=n.delay?Vh(n.delay):null;return 0!==a&&i.forEach(c=>{const u=e.appendInstructionToTimeline(c,a,l);r=Math.max(r,u.duration+u.delay)}),r}visitReference(i,e){e.updateOptions(i.options,!0),qr(this,i.animation,e),e.previousNode=i}visitSequence(i,e){const n=e.subContextCount;let o=e;const r=i.options;if(r&&(r.params||r.delay)&&(o=e.createSubContext(r),o.transformIntoNewTimeline(),null!=r.delay)){o.previousNode.type==sn.Style&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=z1);const a=Vh(r.delay);o.delayNextStep(a)}i.steps.length&&(i.steps.forEach(a=>qr(this,a,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>n&&o.transformIntoNewTimeline()),e.previousNode=i}visitGroup(i,e){const n=[];let o=e.currentTimeline.currentTime;const r=i.options&&i.options.delay?Vh(i.options.delay):0;i.steps.forEach(a=>{const l=e.createSubContext(i.options);r&&l.delayNextStep(r),qr(this,a,l),o=Math.max(o,l.currentTimeline.currentTime),n.push(l.currentTimeline)}),n.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(o),e.previousNode=i}_visitTiming(i,e){if(i.dynamic){const n=i.strValue;return l_(e.params?B2(n,e.params,e.errors):n,e.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,e){const n=e.currentAnimateTimings=this._visitTiming(i.timings,e),o=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),o.snapshotCurrentStyles());const r=i.style;r.type==sn.Keyframes?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=i}visitStyle(i,e){const n=e.currentTimeline,o=e.currentAnimateTimings;!o&&n.hasCurrentStyleProperties()&&n.forwardFrame();const r=o&&o.easing||i.easing;i.isEmptyStep?n.applyEmptyStep(r):n.setStyles(i.styles,r,e.errors,e.options),e.previousNode=i}visitKeyframes(i,e){const n=e.currentAnimateTimings,o=e.currentTimeline.duration,r=n.duration,l=e.createSubContext().currentTimeline;l.easing=n.easing,i.styles.forEach(c=>{l.forwardTime((c.offset||0)*r),l.setStyles(c.styles,c.easing,e.errors,e.options),l.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(l),e.transformIntoNewTimeline(o+r),e.previousNode=i}visitQuery(i,e){const n=e.currentTimeline.currentTime,o=i.options||{},r=o.delay?Vh(o.delay):0;r&&(e.previousNode.type===sn.Style||0==n&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=z1);let a=n;const l=e.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=l.length;let c=null;l.forEach((u,f)=>{e.currentQueryIndex=f;const _=e.createSubContext(i.options,u);r&&_.delayNextStep(r),u===e.element&&(c=_.currentTimeline),qr(this,i.animation,_),_.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,_.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=i}visitStagger(i,e){const n=e.parentContext,o=e.currentTimeline,r=i.timings,a=Math.abs(r.duration),l=a*(e.currentQueryTotal-1);let c=a*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":c=l-c;break;case"full":c=n.currentStaggerTime}const f=e.currentTimeline;c&&f.delayNextStep(c);const _=f.currentTime;qr(this,i.animation,e),e.previousNode=i,n.currentStaggerTime=o.currentTime-_+(o.startTime-n.currentTimeline.startTime)}}const z1={};class j1{constructor(i,e,n,o,r,a,l,c){this._driver=i,this.element=e,this.subInstructions=n,this._enterClassName=o,this._leaveClassName=r,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=z1,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new z2(this._driver,e,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,e){if(!i)return;const n=i;let o=this.options;null!=n.duration&&(o.duration=Vh(n.duration)),null!=n.delay&&(o.delay=Vh(n.delay));const r=n.params;if(r){let a=o.params;a||(a=this.options.params={}),Object.keys(r).forEach(l=>{(!e||!a.hasOwnProperty(l))&&(a[l]=B2(r[l],a,this.errors))})}}_copyOptions(){const i={};if(this.options){const e=this.options.params;if(e){const n=i.params={};Object.keys(e).forEach(o=>{n[o]=e[o]})}}return i}createSubContext(i=null,e,n){const o=e||this.element,r=new j1(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(i),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(i){return this.previousNode=z1,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,e,n){const o={duration:e??i.duration,delay:this.currentTimeline.currentTime+(n??0)+i.delay,easing:""},r=new MH(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,o,i.stretchStartingKeyframe);return this.timelines.push(r),o}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,e,n,o,r,a){let l=[];if(o&&l.push(this.element),i.length>0){i=(i=i.replace(TH,"."+this._enterClassName)).replace(wy,"."+this._leaveClassName);let u=this._driver.query(this.element,i,1!=n);0!==n&&(u=n<0?u.slice(u.length+n,u.length):u.slice(0,n)),l.push(...u)}return!r&&0==l.length&&a.push(function mH(s){return new t.wOt(3014,!1)}()),l}}class z2{constructor(i,e,n,o){this._driver=i,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=o,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+i),e&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,e){return this.applyStylesToKeyframe(),new z2(this._driver,i,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,e){this._localTimelineStyles.set(i,e),this._globalTimelineStyles.set(i,e),this._styleSummary.set(i,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||xc),this._currentKeyframe.set(e,xc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,e,n,o){e&&this._previousKeyframe.set("easing",e);const r=o&&o.params||{},a=function IH(s,i){const e=new Map;let n;return s.forEach(o=>{if("*"===o){n??=i.keys();for(let r of n)e.set(r,xc)}else for(let[r,a]of o)e.set(r,a)}),e}(i,this._globalTimelineStyles);for(let[l,c]of a){const u=B2(c,r,n);this._pendingStyles.set(l,u),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??xc),this._updateStyle(l,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,e)=>{this._currentKeyframe.set(e,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,i)}))}snapshotCurrentStyles(){for(let[i,e]of this._localTimelineStyles)this._pendingStyles.set(i,e),this._updateStyle(i,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let e in this._currentKeyframe)i.push(e);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((e,n)=>{const o=this._styleSummary.get(n);(!o||e.time>o.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((l,c)=>{const u=new Map([...this._backFill,...l]);u.forEach((f,_)=>{"!"===f?i.add(_):f===xc&&e.add(_)}),n||u.set("offset",c/this.duration),o.push(u)});const r=[...i.values()],a=[...e.values()];if(n){const l=o[0],c=new Map(l);l.set("offset",0),c.set("offset",1),o=[l,c]}return Po(this.element,o,r,a,this.duration,this.startTime,this.easing,!1)}}class MH extends z2{constructor(i,e,n,o,r,a,l=!1){super(i,e,a.delay),this.keyframes=n,this.preStyleProps=o,this.postStyleProps=r,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:e,duration:n,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],a=n+e,l=e/a,c=new Map(i[0]);c.set("offset",0),r.push(c);const u=new Map(i[0]);u.set("offset",KN(l)),r.push(u);const f=i.length-1;for(let _=1;_<=f;_++){let g=new Map(i[_]);const S=g.get("offset");g.set("offset",KN((e+S*n)/a)),r.push(g)}n=a,e=0,o="",i=r}return Po(this.element,i,this.preStyleProps,this.postStyleProps,n,e,o,!0)}}function KN(s,i=3){const e=Math.pow(10,i-1);return Math.round(s*e)/e}function oT(s,i,e,n,o,r,a,l,c,u,f,_,g){return{type:0,element:s,triggerName:i,isRemovalTransition:o,fromState:e,fromStyles:r,toState:n,toStyles:a,timelines:l,queriedElements:c,preStyleProps:u,postStyleProps:f,totalTime:_,errors:g}}const rT={};class aT{constructor(i,e,n){this._triggerName=i,this.ast=e,this._stateStyles=n}match(i,e,n,o){return function xH(s,i,e,n,o){return s.some(r=>r(i,e,n,o))}(this.ast.matchers,i,e,n,o)}buildStyles(i,e,n){let o=this._stateStyles.get("*");return void 0!==i&&(o=this._stateStyles.get(i?.toString())||o),o?o.buildStyles(e,n):new Map}build(i,e,n,o,r,a,l,c,u,f){const _=[],g=this.ast.options&&this.ast.options.params||rT,b=this.buildStyles(n,l&&l.params||rT,_),k=c&&c.params||rT,D=this.buildStyles(o,k,_),O=new Set,I=new Map,N=new Map,P="void"===o,G={params:AH(k,g),delay:this.ast.options?.delay},H=f?[]:sT(i,e,this.ast.animation,r,a,b,D,G,u,_);let $=0;return H.forEach(Q=>{$=Math.max(Q.duration+Q.delay,$)}),_.length?oT(e,this._triggerName,n,o,P,b,D,[],[],I,N,$,_):(H.forEach(Q=>{const ie=Q.element,ce=Fl(I,ie,new Set);Q.preStyleProps.forEach(Ne=>ce.add(Ne));const re=Fl(N,ie,new Set);Q.postStyleProps.forEach(Ne=>re.add(Ne)),ie!==e&&O.add(ie)}),oT(e,this._triggerName,n,o,P,b,D,H,[...O.values()],I,N,$))}}function AH(s,i){const e={...i};return Object.entries(s).forEach(([n,o])=>{null!=o&&(e[n]=o)}),e}class JN{constructor(i,e,n){this.styles=i,this.defaultParams=e,this.normalizer=n}buildStyles(i,e){const n=new Map,o=AH(i,this.defaultParams);return this.styles.styles.forEach(r=>{"string"!=typeof r&&r.forEach((a,l)=>{a&&(a=B2(a,o,e));const c=this.normalizer.normalizePropertyName(l,e);a=this.normalizer.normalizeStyleValue(l,c,a,e),n.set(l,a)})}),n}}class Ul{constructor(i,e,n){this.name=i,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states=new Map,e.states.forEach(o=>{this.states.set(o.name,new JN(o.style,o.options&&o.options.params||{},n))}),lT(this.states,"true","1"),lT(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new aT(i,o,this.states))}),this.fallbackTransition=function Wde(s,i,e){return new aT(s,{type:sn.Transition,animation:{type:sn.Sequence,steps:[],options:null},matchers:[(a,l)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,e,n,o){return this.transitionFactories.find(a=>a.match(i,e,n,o))||null}matchStyles(i,e,n){return this.fallbackTransition.buildStyles(i,e,n)}}function lT(s,i,e){s.has(i)?s.has(e)||s.set(e,s.get(i)):s.has(e)&&s.set(i,s.get(e))}const Yde=new ky;class cT{constructor(i,e,n){this.bodyNode=i,this._driver=e,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,e){const n=[],r=Ey(this._driver,e,n,[]);if(n.length)throw function NN(s){return new t.wOt(3503,!1)}();this._animations.set(i,r)}_buildPlayer(i,e,n){const o=i.element,r=Ac(this._normalizer,i.keyframes,e,n);return this._driver.animate(o,r,i.duration,i.delay,i.easing,[],!0)}create(i,e,n={}){const o=[],r=this._animations.get(i);let a;const l=new Map;if(r?(a=sT(this._driver,e,r,my,_y,new Map,new Map,n,Yde,o),a.forEach(f=>{const _=Fl(l,f.element,new Map);f.postStyleProps.forEach(g=>_.set(g,null))})):(o.push(function rs(){return new t.wOt(3300,!1)}()),a=[]),o.length)throw function LN(s){return new t.wOt(3504,!1)}();l.forEach((f,_)=>{f.forEach((g,S)=>{f.set(S,this._driver.computeStyle(_,S,xc))})});const u=Bh(a.map(f=>{const _=l.get(f.element);return this._buildPlayer(f,new Map,_)}));return this._playersById.set(i,u),u.onDestroy(()=>this.destroy(i)),this.players.push(u),u}destroy(i){const e=this._getPlayer(i);e.destroy(),this._playersById.delete(i);const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(i){const e=this._playersById.get(i);if(!e)throw function N2(s){return new t.wOt(3301,!1)}();return e}listen(i,e,n,o){const r=fy(e,"","","");return Td(this._getPlayer(i),n,r,o),()=>{}}command(i,e,n,o){if("register"==n)return void this.register(i,o[0]);if("create"==n)return void this.create(i,e,o[0]||{});const r=this._getPlayer(i);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(i)}}}const ku="ng-animate-queued",lf="ng-animate-disabled",Kde=[],LH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Jde={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wu="__ng_removed";class e8{get params(){return this.options.params}constructor(i,e=""){this.namespaceId=e;const n=i&&i.hasOwnProperty("value");if(this.value=function Du(s){return s??null}(n?i.value:i),n){const{value:r,...a}=i;this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){const e=i.params;if(e){const n=this.options.params;Object.keys(e).forEach(o=>{null==n[o]&&(n[o]=e[o])})}}}const j2="void",cf=new e8(j2);class H2{constructor(i,e,n){this.id=i,this.hostElement=e,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Bl(e,this._hostClassName)}listen(i,e,n,o){if(!this._triggers.has(e))throw function bu(s,i){return new t.wOt(3302,!1)}();if(null==n||0==n.length)throw function F3(s){return new t.wOt(3303,!1)}();if(!function Oy(s){return"start"==s||"done"==s}(n))throw function U3(s,i){return new t.wOt(3400,!1)}();const r=Fl(this._elementListeners,i,[]),a={name:e,phase:n,callback:o};r.push(a);const l=Fl(this._engine.statesByElement,i,new Map);return l.has(e)||(Bl(i,P2),Bl(i,P2+"-"+e),l.set(e,cf)),()=>{this._engine.afterFlush(()=>{const c=r.indexOf(a);c>=0&&r.splice(c,1),this._triggers.has(e)||l.delete(e)})}}register(i,e){return!this._triggers.has(i)&&(this._triggers.set(i,e),!0)}_getTrigger(i){const e=this._triggers.get(i);if(!e)throw function SH(s){return new t.wOt(3401,!1)}();return e}trigger(i,e,n,o=!0){const r=this._getTrigger(e),a=new dT(this.id,e,i);let l=this._engine.statesByElement.get(i);l||(Bl(i,P2),Bl(i,P2+"-"+e),this._engine.statesByElement.set(i,l=new Map));let c=l.get(e);const u=new e8(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),l.set(e,u),c||(c=cf),u.value!==j2&&c.value===u.value){if(!function GH(s,i){const e=Object.keys(s),n=Object.keys(i);if(e.length!=n.length)return!1;for(let o=0;o<e.length;o++){const r=e[o];if(!i.hasOwnProperty(r)||s[r]!==i[r])return!1}return!0}(c.params,u.params)){const k=[],D=r.matchStyles(c.value,c.params,k),O=r.matchStyles(u.value,u.params,k);k.length?this._engine.reportError(k):this._engine.afterFlush(()=>{c_(i,D),Md(i,O)})}return}const g=Fl(this._engine.playersByElement,i,[]);g.forEach(k=>{k.namespaceId==this.id&&k.triggerName==e&&k.queued&&k.destroy()});let S=r.matchTransition(c.value,u.value,i,u.params),b=!1;if(!S){if(!o)return;S=r.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:e,transition:S,fromState:c,toState:u,player:a,isFallbackTransition:b}),b||(Bl(i,ku),a.onStart(()=>{jh(i,ku)})),a.onDone(()=>{let k=this.players.indexOf(a);k>=0&&this.players.splice(k,1);const D=this._engine.playersByElement.get(i);if(D){let O=D.indexOf(a);O>=0&&D.splice(O,1)}}),this.players.push(a),g.push(a),a}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(e=>e.delete(i)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(o=>o.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const e=this._engine.playersByElement.get(i);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,e){const n=this._engine.driver.query(i,F2,!0);n.forEach(o=>{if(o[wu])return;const r=this._engine.fetchNamespacesByElement(o);r.size?r.forEach(a=>a.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(i,e,n,o){const r=this._engine.statesByElement.get(i),a=new Map;if(r){const l=[];if(r.forEach((c,u)=>{if(a.set(u,c.value),this._triggers.has(u)){const f=this.trigger(i,u,j2,o);f&&l.push(f)}}),l.length)return this._engine.markElementAsRemoved(this.id,i,!0,e,a),n&&Bh(l).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const e=this._elementListeners.get(i),n=this._engine.statesByElement.get(i);if(e&&n){const o=new Set;e.forEach(r=>{const a=r.name;if(o.has(a))return;o.add(a);const c=this._triggers.get(a).fallbackTransition,u=n.get(a)||cf,f=new e8(j2),_=new dT(this.id,a,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:a,transition:c,fromState:u,toState:f,player:_,isFallbackTransition:!0})})}}removeNode(i,e){const n=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,e),this.triggerLeaveAnimation(i,e,!0))return;let o=!1;if(n.totalAnimations){const r=n.players.length?n.playersByQueriedElement.get(i):[];if(r&&r.length)o=!0;else{let a=i;for(;a=a.parentNode;)if(n.statesByElement.get(a)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(i),o)n.markElementAsRemoved(this.id,i,!1,e);else{const r=i[wu];(!r||r===LH)&&(n.afterFlush(()=>this.clearElementCache(i)),n.destroyInnerAnimations(i),n._onRemovalComplete(i,e))}}insertNode(i,e){Bl(i,this._hostClassName)}drainQueuedTransitions(i){const e=[];return this._queue.forEach(n=>{const o=n.player;if(o.destroyed)return;const r=n.element,a=this._elementListeners.get(r);a&&a.forEach(l=>{if(l.name==n.triggerName){const c=fy(r,n.triggerName,n.fromState.value,n.toState.value);c._data=i,Td(n.player,l.phase,c,l.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(n)}),this._queue=[],e.sort((n,o)=>{const r=n.transition.ast.depCount,a=o.transition.ast.depCount;return 0==r||0==a?r-a:this._engine.driver.containsElement(n.element,o.element)?1:-1})}destroy(i){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}}class t8{_onRemovalComplete(i,e){this.onRemovalComplete(i,e)}constructor(i,e,n,o){this.bodyNode=i,this.driver=e,this._normalizer=n,this.scheduler=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}get queuedPlayers(){const i=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&i.push(n)})}),i}createNamespace(i,e){const n=new H2(i,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[i]=n}_balanceNamespaceList(i,e){const n=this._namespaceList,o=this.namespacesByHostElement;if(n.length-1>=0){let a=!1,l=this.driver.getParentElement(e);for(;l;){const c=o.get(l);if(c){const u=n.indexOf(c);n.splice(u+1,0,i),a=!0;break}l=this.driver.getParentElement(l)}a||n.unshift(i)}else n.push(i);return o.set(e,i),i}register(i,e){let n=this._namespaceLookup[i];return n||(n=this.createNamespace(i,e)),n}registerTrigger(i,e,n){let o=this._namespaceLookup[i];o&&o.register(e,n)&&this.totalAnimations++}destroy(i,e){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const n=this._fetchNamespace(i);this.namespacesByHostElement.delete(n.hostElement);const o=this._namespaceList.indexOf(n);o>=0&&this._namespaceList.splice(o,1),n.destroy(e),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const e=new Set,n=this.statesByElement.get(i);if(n)for(let o of n.values())if(o.namespaceId){const r=this._fetchNamespace(o.namespaceId);r&&e.add(r)}return e}trigger(i,e,n,o){if(Dy(e)){const r=this._fetchNamespace(i);if(r)return r.trigger(e,n,o),!0}return!1}insertNode(i,e,n,o){if(!Dy(e))return;const r=e[wu];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(i){const a=this._fetchNamespace(i);a&&a.insertNode(e,n)}o&&this.collectEnterElement(e)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,e){e?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Bl(i,lf)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),jh(i,lf))}removeNode(i,e,n){if(Dy(e)){this.scheduler?.notify();const o=i?this._fetchNamespace(i):null;o?o.removeNode(e,n):this.markElementAsRemoved(i,e,!1,n);const r=this.namespacesByHostElement.get(e);r&&r.id!==i&&r.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(i,e,n,o,r){this.collectedLeaveElements.push(e),e[wu]={namespaceId:i,setForRemoval:o,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:r}}listen(i,e,n,o,r){return Dy(e)?this._fetchNamespace(i).listen(e,n,o,r):()=>{}}_buildInstruction(i,e,n,o,r){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,n,o,i.fromState.options,i.toState.options,e,r)}destroyInnerAnimations(i){let e=this.driver.query(i,F2,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(i,Rc,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(i){const e=this.playersByElement.get(i);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(i){const e=this.playersByQueriedElement.get(i);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return Bh(this.players).onDone(()=>i());i()})}processLeaveNode(i){const e=i[wu];if(e&&e.setForRemoval){if(i[wu]=LH,e.namespaceId){this.destroyInnerAnimations(i);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(i)}this._onRemovalComplete(i,e.setForRemoval)}i.classList?.contains(lf)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(i=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,o)=>this._balanceNamespaceList(n,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Bl(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,i)}finally{for(let o=0;o<n.length;o++)n[o]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],e.length?Bh(e).onDone(()=>{n.forEach(o=>o())}):n.forEach(o=>o())}}reportError(i){throw function jde(s){return new t.wOt(3402,!1)}()}_flushAnimations(i,e){const n=new ky,o=[],r=new Map,a=[],l=new Map,c=new Map,u=new Map,f=new Set;this.disabledNodes.forEach(te=>{f.add(te);const le=this.driver.query(te,".ng-animate-queued",!0);for(let ve=0;ve<le.length;ve++)f.add(le[ve])});const _=this.bodyNode,g=Array.from(this.statesByElement.keys()),S=hT(g,this.collectedEnterElements),b=new Map;let k=0;S.forEach((te,le)=>{const ve=my+k++;b.set(le,ve),te.forEach(Se=>Bl(Se,ve))});const D=[],O=new Set,I=new Set;for(let te=0;te<this.collectedLeaveElements.length;te++){const le=this.collectedLeaveElements[te],ve=le[wu];ve&&ve.setForRemoval&&(D.push(le),O.add(le),ve.hasAnimation?this.driver.query(le,".ng-star-inserted",!0).forEach(Se=>O.add(Se)):I.add(le))}const N=new Map,P=hT(g,Array.from(O));P.forEach((te,le)=>{const ve=_y+k++;N.set(le,ve),te.forEach(Se=>Bl(Se,ve))}),i.push(()=>{S.forEach((te,le)=>{const ve=b.get(le);te.forEach(Se=>jh(Se,ve))}),P.forEach((te,le)=>{const ve=N.get(le);te.forEach(Se=>jh(Se,ve))}),D.forEach(te=>{this.processLeaveNode(te)})});const G=[],H=[];for(let te=this._namespaceList.length-1;te>=0;te--)this._namespaceList[te].drainQueuedTransitions(e).forEach(ve=>{const Se=ve.player,Me=ve.element;if(G.push(Se),this.collectedEnterElements.length){const xt=Me[wu];if(xt&&xt.setForMove){if(xt.previousTriggersValues&&xt.previousTriggersValues.has(ve.triggerName)){const Es=xt.previousTriggersValues.get(ve.triggerName),dn=this.statesByElement.get(ve.element);if(dn&&dn.has(ve.triggerName)){const Kn=dn.get(ve.triggerName);Kn.value=Es,dn.set(ve.triggerName,Kn)}}return void Se.destroy()}}const Ut=!_||!this.driver.containsElement(_,Me),Le=N.get(Me),en=b.get(Me),Ce=this._buildInstruction(ve,n,en,Le,Ut);if(Ce.errors&&Ce.errors.length)return void H.push(Ce);if(Ut)return Se.onStart(()=>c_(Me,Ce.fromStyles)),Se.onDestroy(()=>Md(Me,Ce.toStyles)),void o.push(Se);if(ve.isFallbackTransition)return Se.onStart(()=>c_(Me,Ce.fromStyles)),Se.onDestroy(()=>Md(Me,Ce.toStyles)),void o.push(Se);const Tt=[];Ce.timelines.forEach(xt=>{xt.stretchStartingKeyframe=!0,this.disabledNodes.has(xt.element)||Tt.push(xt)}),Ce.timelines=Tt,n.append(Me,Ce.timelines),a.push({instruction:Ce,player:Se,element:Me}),Ce.queriedElements.forEach(xt=>Fl(l,xt,[]).push(Se)),Ce.preStyleProps.forEach((xt,Es)=>{if(xt.size){let dn=c.get(Es);dn||c.set(Es,dn=new Set),xt.forEach((Kn,ei)=>dn.add(ei))}}),Ce.postStyleProps.forEach((xt,Es)=>{let dn=u.get(Es);dn||u.set(Es,dn=new Set),xt.forEach((Kn,ei)=>dn.add(ei))})});if(H.length){const te=[];H.forEach(le=>{te.push(function za(s,i){return new t.wOt(3505,!1)}())}),G.forEach(le=>le.destroy()),this.reportError(te)}const $=new Map,Q=new Map;a.forEach(te=>{const le=te.element;n.has(le)&&(Q.set(le,le),this._beforeAnimationBuild(te.player.namespaceId,te.instruction,$))}),o.forEach(te=>{const le=te.element;this._getPreviousPlayers(le,!1,te.namespaceId,te.triggerName,null).forEach(Se=>{Fl($,le,[]).push(Se),Se.destroy()})});const ie=D.filter(te=>s8(te,c,u)),ce=new Map;n8(ce,this.driver,I,u,xc).forEach(te=>{s8(te,c,u)&&ie.push(te)});const Ne=new Map;S.forEach((te,le)=>{n8(Ne,this.driver,new Set(te),c,"!")}),ie.forEach(te=>{const le=ce.get(te),ve=Ne.get(te);ce.set(te,new Map([...le?.entries()??[],...ve?.entries()??[]]))});const ue=[],ye=[],se={};a.forEach(te=>{const{element:le,player:ve,instruction:Se}=te;if(n.has(le)){if(f.has(le))return ve.onDestroy(()=>Md(le,Se.toStyles)),ve.disabled=!0,ve.overrideTotalTime(Se.totalTime),void o.push(ve);let Me=se;if(Q.size>1){let Le=le;const en=[];for(;Le=Le.parentNode;){const Ce=Q.get(Le);if(Ce){Me=Ce;break}en.push(Le)}en.forEach(Ce=>Q.set(Ce,Me))}const Ut=this._buildAnimation(ve.namespaceId,Se,$,r,Ne,ce);if(ve.setRealPlayer(Ut),Me===se)ue.push(ve);else{const Le=this.playersByElement.get(Me);Le&&Le.length&&(ve.parentPlayer=Bh(Le)),o.push(ve)}}else c_(le,Se.fromStyles),ve.onDestroy(()=>Md(le,Se.toStyles)),ye.push(ve),f.has(le)&&o.push(ve)}),ye.forEach(te=>{const le=r.get(te.element);if(le&&le.length){const ve=Bh(le);te.setRealPlayer(ve)}}),o.forEach(te=>{te.parentPlayer?te.syncPlayerEvents(te.parentPlayer):te.destroy()});for(let te=0;te<D.length;te++){const le=D[te],ve=le[wu];if(jh(le,_y),ve&&ve.hasAnimation)continue;let Se=[];if(l.size){let Ut=l.get(le);Ut&&Ut.length&&Se.push(...Ut);let Le=this.driver.query(le,Rc,!0);for(let en=0;en<Le.length;en++){let Ce=l.get(Le[en]);Ce&&Ce.length&&Se.push(...Ce)}}const Me=Se.filter(Ut=>!Ut.destroyed);Me.length?Ty(this,le,Me):this.processLeaveNode(le)}return D.length=0,ue.forEach(te=>{this.players.push(te),te.onDone(()=>{te.destroy();const le=this.players.indexOf(te);this.players.splice(le,1)}),te.play()}),ue}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,e,n,o,r){let a=[];if(e){const l=this.playersByQueriedElement.get(i);l&&(a=l)}else{const l=this.playersByElement.get(i);if(l){const c=!r||r==j2;l.forEach(u=>{u.queued||!c&&u.triggerName!=o||a.push(u)})}}return(n||o)&&(a=a.filter(l=>!(n&&n!=l.namespaceId||o&&o!=l.triggerName))),a}_beforeAnimationBuild(i,e,n){const r=e.element,a=e.isRemovalTransition?void 0:i,l=e.isRemovalTransition?void 0:e.triggerName;for(const c of e.timelines){const u=c.element,f=u!==r,_=Fl(n,u,[]);this._getPreviousPlayers(u,f,a,l,e.toState).forEach(S=>{const b=S.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),S.destroy(),_.push(S)})}c_(r,e.fromStyles)}_buildAnimation(i,e,n,o,r,a){const l=e.triggerName,c=e.element,u=[],f=new Set,_=new Set,g=e.timelines.map(b=>{const k=b.element;f.add(k);const D=k[wu];if(D&&D.removedBeforeQueried)return new A2(b.duration,b.delay);const O=k!==c,I=function pT(s){const i=[];return i8(s,i),i}((n.get(k)||Kde).map($=>$.getRealPlayer())).filter($=>!!$.element&&$.element===k),N=r.get(k),P=a.get(k),G=Ac(this._normalizer,b.keyframes,N,P),H=this._buildPlayer(b,G,I);if(b.subTimeline&&o&&_.add(k),O){const $=new dT(i,l,k);$.setRealPlayer(H),u.push($)}return H});u.forEach(b=>{Fl(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function uT(s,i,e){let n=s.get(i);if(n){if(n.length){const o=n.indexOf(e);n.splice(o,1)}0==n.length&&s.delete(i)}return n}(this.playersByQueriedElement,b.element,b))}),f.forEach(b=>Bl(b,U1));const S=Bh(g);return S.onDestroy(()=>{f.forEach(b=>jh(b,U1)),Md(c,e.toStyles)}),_.forEach(b=>{Fl(o,b,[]).push(S)}),S}_buildPlayer(i,e,n){return e.length>0?this.driver.animate(i.element,e,i.duration,i.delay,i.easing,n):new A2(i.duration,i.delay)}}class dT{constructor(i,e,n){this.namespaceId=i,this.triggerName=e,this.element=n,this._player=new A2,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((e,n)=>{e.forEach(o=>Td(i,n,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const e=this._player;e.triggerCallback&&i.onStart(()=>e.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,e){Fl(this._queuedCallbacks,i,[]).push(e)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const e=this._player;e.triggerCallback&&e.triggerCallback(i)}}function Dy(s){return s&&1===s.nodeType}function H1(s,i){const e=s.style.display;return s.style.display=i??"none",e}function n8(s,i,e,n,o){const r=[];e.forEach(c=>r.push(H1(c)));const a=[];n.forEach((c,u)=>{const f=new Map;c.forEach(_=>{const g=i.computeStyle(u,_,o);f.set(_,g),(!g||0==g.length)&&(u[wu]=Jde,a.push(u))}),s.set(u,f)});let l=0;return e.forEach(c=>H1(c,r[l++])),a}function hT(s,i){const e=new Map;if(s.forEach(l=>e.set(l,[])),0==i.length)return e;const o=new Set(i),r=new Map;function a(l){if(!l)return 1;let c=r.get(l);if(c)return c;const u=l.parentNode;return c=e.has(u)?u:o.has(u)?1:a(u),r.set(l,c),c}return i.forEach(l=>{const c=a(l);1!==c&&e.get(c).push(l)}),e}function Bl(s,i){s.classList?.add(i)}function jh(s,i){s.classList?.remove(i)}function Ty(s,i,e){Bh(e).onDone(()=>s.processLeaveNode(i))}function i8(s,i){for(let e=0;e<s.length;e++){const n=s[e];n instanceof hy?i8(n.players,i):i.push(n)}}function s8(s,i,e){const n=e.get(s);if(!n)return!1;let o=i.get(s);return o?n.forEach(r=>o.add(r)):i.set(s,n),e.delete(s),!0}class $1{constructor(i,e,n,o){this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new t8(i.body,e,n,o),this._timelineEngine=new cT(i.body,e,n),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(i,e,n,o,r){const a=i+"-"+o;let l=this._triggerCache[a];if(!l){const c=[],f=Ey(this._driver,r,c,[]);if(c.length)throw function pi(s,i){return new t.wOt(3404,!1)}();l=function qN(s,i,e){return new Ul(s,i,e)}(o,f,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(e,o,l)}register(i,e){this._transitionEngine.register(i,e)}destroy(i,e){this._transitionEngine.destroy(i,e)}onInsert(i,e,n,o){this._transitionEngine.insertNode(i,e,n,o)}onRemove(i,e,n){this._transitionEngine.removeNode(i,e,n)}disableAnimations(i,e){this._transitionEngine.markElementAsDisabled(i,e)}process(i,e,n,o){if("@"==n.charAt(0)){const[r,a]=GN(n);this._timelineEngine.command(r,e,a,o)}else this._transitionEngine.trigger(i,e,n,o)}listen(i,e,n,o,r){if("@"==n.charAt(0)){const[a,l]=GN(n);return this._timelineEngine.listen(a,e,l,r)}return this._transitionEngine.listen(i,e,n,o,r)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}}class $2{static#e=this.initialStylesByElement=new WeakMap;constructor(i,e,n){this._element=i,this._startStyles=e,this._endStyles=n,this._state=0;let o=$2.initialStylesByElement.get(i);o||$2.initialStylesByElement.set(i,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Md(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Md(this._element,this._initialStyles),this._endStyles&&(Md(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&($2.initialStylesByElement.delete(this._element),this._startStyles&&(c_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(c_(this._element,this._endStyles),this._endStyles=null),Md(this._element,this._initialStyles),this._state=3)}}function pa(s){let i=null;return s.forEach((e,n)=>{(function fT(s){return"display"===s||"position"===s})(n)&&(i=i||new Map,i.set(n,e))}),i}class mT{constructor(i,e,n,o){this.element=i,this.keyframes=e,this.options=n,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){const e=[];return i.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(i,e,n){return i.animate(this._convertKeyframesToObject(e),n)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,o)=>{"offset"!==o&&i.set(o,this._finished?n:Q3(this.element,o))}),this.currentSnapshot=i}triggerCallback(i){const e="start"===i?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class My{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}matchesElement(i,e){return!1}containsElement(i,e){return j3(i,e)}getParentElement(i){return L2(i)}query(i,e,n){return H3(i,e,n)}computeStyle(i,e,n){return Q3(i,e)}animate(i,e,n,o,r,a=[]){const c={duration:n,delay:o,fill:0==o?"both":"forwards"};r&&(c.easing=r);const u=new Map,f=a.filter(S=>S instanceof mT);(function Hde(s,i){return 0===s||0===i})(n,o)&&f.forEach(S=>{S.currentSnapshot.forEach((b,k)=>u.set(k,b))});let _=function W3(s){return s.length?s[0]instanceof Map?s:s.map(i=>new Map(Object.entries(i))):[]}(e).map(S=>new Map(S));_=function q3(s,i,e){if(e.size&&i.length){let n=i[0],o=[];if(e.forEach((r,a)=>{n.has(a)||o.push(a),n.set(a,r)}),o.length)for(let r=1;r<i.length;r++){let a=i[r];o.forEach(l=>a.set(l,Q3(s,l)))}}return i}(i,_,u);const g=function PH(s,i){let e=null,n=null;return Array.isArray(i)&&i.length?(e=pa(i[0]),i.length>1&&(n=pa(i[i.length-1]))):i instanceof Map&&(e=pa(i)),e||n?new $2(s,e,n):null}(i,_);return new mT(i,_,c,g)}}const _T="@.disabled";class o8{constructor(i,e,n,o){this.namespaceId=i,this.delegate=e,this.engine=n,this._onDestroy=o,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,e){this.delegate.appendChild(i,e),this.engine.onInsert(this.namespaceId,e,i,!1)}insertBefore(i,e,n,o=!0){this.delegate.insertBefore(i,e,n),this.engine.onInsert(this.namespaceId,e,i,o)}removeChild(i,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,n,o){this.delegate.setAttribute(i,e,n,o)}removeAttribute(i,e,n){this.delegate.removeAttribute(i,e,n)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,n,o){this.delegate.setStyle(i,e,n,o)}removeStyle(i,e,n){this.delegate.removeStyle(i,e,n)}setProperty(i,e,n){"@"==e.charAt(0)&&e==_T?this.disableAnimations(i,!!n):this.delegate.setProperty(i,e,n)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,n){return this.delegate.listen(i,e,n)}disableAnimations(i,e){this.engine.disableAnimations(i,e)}}class r8 extends o8{constructor(i,e,n,o,r){super(e,n,o,r),this.factory=i,this.namespaceId=e}setProperty(i,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&e==_T?this.disableAnimations(i,n=void 0===n||!!n):this.engine.process(this.namespaceId,i,e.slice(1),n):this.delegate.setProperty(i,e,n)}listen(i,e,n){if("@"==e.charAt(0)){const o=function FH(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}(i);let r=e.slice(1),a="";return"@"!=r.charAt(0)&&([r,a]=function a8(s){const i=s.indexOf(".");return[s.substring(0,i),s.slice(i+1)]}(r)),this.engine.listen(this.namespaceId,o,r,a,l=>{this.factory.scheduleListenerCallback(l._data||-1,n,l)})}return this.delegate.listen(i,e,n)}}class UH{constructor(i,e,n){this.delegate=i,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(o,r)=>{const a=r?.parentNode(o);a&&r.removeChild(a,o)}}createRenderer(i,e){const o=this.delegate.createRenderer(i,e);if(!i||!e?.data?.animation){const u=this._rendererCache;let f=u.get(o);return f||(f=new o8("",o,this.engine,()=>u.delete(o)),u.set(o,f)),f}const r=e.id,a=e.id+"-"+this._currentId;this._currentId++,this.engine.register(a,i);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(r,a,i,u.name,u)};return e.data.animation.forEach(l),new r8(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,e,n){if(i>=0&&i<this._microtaskId)return void this._zone.run(()=>e(n));const o=this._animationCallbacksBuffer;0==o.length&&queueMicrotask(()=>{this._zone.run(()=>{o.forEach(r=>{const[a,l]=r;a(l)}),this._animationCallbacksBuffer=[]})}),o.push([e,n])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let l8=(()=>{class s extends $1{constructor(e,n,o){super(e,n,o,(0,t.WQX)(t.An2,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(de),t.KVO($3),t.KVO(Rr))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();const c8=[{provide:Rr,useFactory:function BH(){return new Sy}},{provide:$1,useClass:l8},{provide:t._9s,useFactory:function VH(s,i,e){return new UH(s,i,e)},deps:[nn,$1,t.SKi]}],gT=[{provide:$3,useFactory:()=>new My},{provide:t.bc$,useValue:"BrowserAnimations"},...c8],vT=[{provide:$3,useClass:G2},{provide:t.bc$,useValue:"NoopAnimations"},...c8];let d8=(()=>{class s{static withConfig(e){return{ngModule:s,providers:e.disableAnimations?vT:gT}}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275mod=t.$C({type:s});static#n=this.\u0275inj=t.G2t({providers:gT,imports:[M2]})}return s})();var _s=_e(985),Zs=_e(71);function xy(s,i){var e={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&i.indexOf(n)<0&&(e[n]=s[n]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(s);o<n.length;o++)i.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(s,n[o])&&(e[n[o]]=s[n[o]])}return e}function uf(s){return this instanceof uf?(this.v=s,this):new uf(s)}function _8(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=s[Symbol.asyncIterator];return i?i.call(s):(s=function Ay(s){var i="function"==typeof Symbol&&Symbol.iterator,e=i&&s[i],n=0;if(e)return e.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&n>=s.length&&(s=void 0),{value:s&&s[n++],done:!s}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=s[r]&&function(a){return new Promise(function(l,c){!function o(r,a,l,c){Promise.resolve(c).then(function(u){r({value:u,done:l})},a)}(l,c,(a=s[r](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const hf=s=>s&&"number"==typeof s.length&&"function"!=typeof s;function Ny(s){return(0,Zs.T)(s?.then)}var Ly=_e(494);function Y2(s){return(0,Zs.T)(s[Ly.s])}function KH(s){return Symbol.asyncIterator&&(0,Zs.T)(s?.[Symbol.asyncIterator])}function Gy(s){return new TypeError(`You provided ${null!==s&&"object"==typeof s?"an invalid object":`'${s}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const g8=function K2(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function xT(s){return(0,Zs.T)(s?.[g8])}function v8(s){return function m8(s,i,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,n=e.apply(s,i||[]),r=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(g){n[g]&&(o[g]=function(S){return new Promise(function(b,k){r.push([g,S,b,k])>1||l(g,S)})})}function l(g,S){try{!function c(g){g.value instanceof uf?Promise.resolve(g.value.v).then(u,f):_(r[0][2],g)}(n[g](S))}catch(b){_(r[0][3],b)}}function u(g){l("next",g)}function f(g){l("throw",g)}function _(g,S){g(S),r.shift(),r.length&&l(r[0][0],r[0][1])}}(this,arguments,function*(){const e=s.getReader();try{for(;;){const{value:n,done:o}=yield uf(e.read());if(o)return yield uf(void 0);yield yield uf(n)}}finally{e.releaseLock()}})}function S8(s){return(0,Zs.T)(s?.getReader)}var AT=_e(334);function nr(s){if(s instanceof _s.c)return s;if(null!=s){if(Y2(s))return function JH(s){return new _s.c(i=>{const e=s[Ly.s]();if((0,Zs.T)(e.subscribe))return e.subscribe(i);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(s);if(hf(s))return function qH(s){return new _s.c(i=>{for(let e=0;e<s.length&&!i.closed;e++)i.next(s[e]);i.complete()})}(s);if(Ny(s))return function J2(s){return new _s.c(i=>{s.then(e=>{i.closed||(i.next(e),i.complete())},e=>i.error(e)).then(null,AT.m)})}(s);if(KH(s))return Py(s);if(xT(s))return function C8(s){return new _s.c(i=>{for(const e of s)if(i.next(e),i.closed)return;i.complete()})}(s);if(S8(s))return function QH(s){return Py(v8(s))}(s)}throw Gy(s)}function Py(s){return new _s.c(i=>{(function iue(s,i){var e,n,o,r;return function ET(s,i,e,n){return new(e||(e=Promise))(function(r,a){function l(f){try{u(n.next(f))}catch(_){a(_)}}function c(f){try{u(n.throw(f))}catch(_){a(_)}}function u(f){f.done?r(f.value):function o(r){return r instanceof e?r:new e(function(a){a(r)})}(f.value).then(l,c)}u((n=n.apply(s,i||[])).next())})}(this,void 0,void 0,function*(){try{for(e=_8(s);!(n=yield e.next()).done;)if(i.next(n.value),i.closed)return}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=e.return)&&(yield r.call(e))}finally{if(o)throw o.error}}i.complete()})})(s,i).catch(e=>i.error(e))})}function pf(s,i,e,n=0,o=!1){const r=i.schedule(function(){e(),o?s.add(this.schedule(null,n)):this.unsubscribe()},n);if(s.add(r),!o)return r}var $i=_e(974),Xi=_e(360);function q2(s,i=0){return(0,$i.N)((e,n)=>{e.subscribe((0,Xi._)(n,o=>pf(n,s,()=>n.next(o),i),()=>pf(n,s,()=>n.complete(),i),o=>pf(n,s,()=>n.error(o),i)))})}function Fy(s,i=0){return(0,$i.N)((e,n)=>{n.add(s.schedule(()=>e.subscribe(n),i))})}function Q2(s,i){if(!s)throw new Error("Iterable cannot be null");return new _s.c(e=>{pf(e,i,()=>{const n=s[Symbol.asyncIterator]();pf(e,i,()=>{n.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function gs(s,i){return i?function y8(s,i){if(null!=s){if(Y2(s))return function ZH(s,i){return nr(s).pipe(Fy(i),q2(i))}(s,i);if(hf(s))return function RT(s,i){return new _s.c(e=>{let n=0;return i.schedule(function(){n===s.length?e.complete():(e.next(s[n++]),e.closed||this.schedule())})})}(s,i);if(Ny(s))return function b8(s,i){return nr(s).pipe(Fy(i),q2(i))}(s,i);if(KH(s))return Q2(s,i);if(xT(s))return function Uy(s,i){return new _s.c(e=>{let n;return pf(e,i,()=>{n=s[g8](),pf(e,i,()=>{let o,r;try{({value:o,done:r}=n.next())}catch(a){return void e.error(a)}r?e.complete():e.next(o)},0,!0)}),()=>(0,Zs.T)(n?.return)&&n.return()})}(s,i);if(S8(s))return function E8(s,i){return Q2(v8(s),i)}(s,i)}throw Gy(s)}(s,i):nr(s)}function Z2(s){return s&&(0,Zs.T)(s.schedule)}function eC(s){return s[s.length-1]}function ff(s){return(0,Zs.T)(eC(s))?s.pop():void 0}function tC(s){return Z2(eC(s))?s.pop():void 0}function pt(...s){return gs(s,tC(s))}var Fn=_e(412);const{isArray:NT}=Array,{getPrototypeOf:k8,prototype:w8,keys:D8}=Object;function mf(s){if(1===s.length){const i=s[0];if(NT(i))return{args:i,keys:null};if(function t$(s){return s&&"object"==typeof s&&k8(s)===w8}(i)){const e=D8(i);return{args:e.map(n=>i[n]),keys:e}}}return{args:s,keys:null}}var h_=_e(669),U=_e(354);const{isArray:n$}=Array;function Id(s){return(0,U.T)(i=>function i$(s,i){return n$(i)?s(...i):s(i)}(s,i))}function p_(s,i){return s.reduce((e,n,o)=>(e[n]=i[o],e),{})}function Hh(...s){const i=tC(s),e=ff(s),{args:n,keys:o}=mf(s);if(0===n.length)return gs([],i);const r=new _s.c(function s$(s,i,e=h_.D){return n=>{O8(i,()=>{const{length:o}=s,r=new Array(o);let a=o,l=o;for(let c=0;c<o;c++)O8(i,()=>{const u=gs(s[c],i);let f=!1;u.subscribe((0,Xi._)(n,_=>{r[c]=_,f||(f=!0,l--),l||n.next(e(r.slice()))},()=>{--a||n.complete()}))},n)},n)}}(n,i,o?a=>p_(o,a):h_.D));return e?r.pipe(Id(e)):r}function O8(s,i,e){s?pf(e,s,i):i()}const By=(0,_e(853).L)(s=>function(){s(this),this.name="EmptyError",this.message="no elements in sequence"});function fr(s,i,e=1/0){return(0,Zs.T)(i)?fr((n,o)=>(0,U.T)((r,a)=>i(n,r,o,a))(nr(s(n,o))),e):("number"==typeof i&&(e=i),(0,$i.N)((n,o)=>function r$(s,i,e,n,o,r,a,l){const c=[];let u=0,f=0,_=!1;const g=()=>{_&&!c.length&&!u&&i.complete()},S=k=>u<n?b(k):c.push(k),b=k=>{r&&i.next(k),u++;let D=!1;nr(e(k,f++)).subscribe((0,Xi._)(i,O=>{o?.(O),r?S(O):i.next(O)},()=>{D=!0},void 0,()=>{if(D)try{for(u--;c.length&&u<n;){const O=c.shift();a?pf(i,a,()=>b(O)):b(O)}g()}catch(O){i.error(O)}}))};return s.subscribe((0,Xi._)(i,S,()=>{_=!0,g()})),()=>{l?.()}}(n,o,s,e)))}function W1(s=1/0){return fr(h_.D,s)}function nC(...s){return function a$(){return W1(1)}()(gs(s,tC(s)))}function T8(s){return new _s.c(i=>{nr(s()).subscribe(i)})}var Vy=_e(203);function Vl(s,i){const e=(0,Zs.T)(s)?s:()=>s,n=o=>o.error(e());return new _s.c(i?o=>i.schedule(n,0,o):n)}const Nr=new _s.c(s=>s.complete());var be=_e(359);function I8(){return(0,$i.N)((s,i)=>{let e=null;s._refCount++;const n=(0,Xi._)(i,void 0,void 0,void 0,()=>{if(!s||s._refCount<=0||0<--s._refCount)return void(e=null);const o=s._connection,r=e;e=null,o&&(!r||o===r)&&o.unsubscribe(),i.unsubscribe()});s.subscribe(n),n.closed||(e=s.connect())})}class c$ extends _s.c{constructor(i,e){super(),this.source=i,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,$i.S)(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){const i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new be.yU;const e=this.getSubject();i.add(this.source.subscribe((0,Xi._)(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),i.closed&&(this._connection=null,i=be.yU.EMPTY)}return i}refCount(){return I8()(this)}}var Xe=_e(413);function Y(s,i){return(0,$i.N)((e,n)=>{let o=null,r=0,a=!1;const l=()=>a&&!o&&n.complete();e.subscribe((0,Xi._)(n,c=>{o?.unsubscribe();let u=0;const f=r++;nr(s(c,f)).subscribe(o=(0,Xi._)(n,_=>n.next(i?i(c,_,f,u++):_),()=>{o=null,l()}))},()=>{a=!0,l()}))})}function Ye(s){return s<=0?()=>Nr:(0,$i.N)((i,e)=>{let n=0;i.subscribe((0,Xi._)(e,o=>{++n<=s&&(e.next(o),s<=n&&e.complete())}))})}function x8(...s){const i=tC(s);return(0,$i.N)((e,n)=>{(i?nC(s,e,i):nC(s,e)).subscribe(n)})}function z(s,i){return(0,$i.N)((e,n)=>{let o=0;e.subscribe((0,Xi._)(n,r=>s.call(i,r,o++)&&n.next(r)))})}function iC(s){return(0,$i.N)((i,e)=>{let n=!1;i.subscribe((0,Xi._)(e,o=>{n=!0,e.next(o)},()=>{n||e.next(s),e.complete()}))})}function A8(s=d$){return(0,$i.N)((i,e)=>{let n=!1;i.subscribe((0,Xi._)(e,o=>{n=!0,e.next(o)},()=>n?e.complete():e.error(s())))})}function d$(){return new By}function f_(s,i){const e=arguments.length>=2;return n=>n.pipe(s?z((o,r)=>s(o,r,n)):h_.D,Ye(1),e?iC(i):A8(()=>new By))}function Ou(s,i){return(0,Zs.T)(i)?fr(s,i,1):fr(s,1)}function x(s,i,e){const n=(0,Zs.T)(s)||i||e?{next:s,error:i,complete:e}:s;return n?(0,$i.N)((o,r)=>{var a;null===(a=n.subscribe)||void 0===a||a.call(n);let l=!0;o.subscribe((0,Xi._)(r,c=>{var u;null===(u=n.next)||void 0===u||u.call(n,c),r.next(c)},()=>{var c;l=!1,null===(c=n.complete)||void 0===c||c.call(n),r.complete()},c=>{var u;l=!1,null===(u=n.error)||void 0===u||u.call(n,c),r.error(c)},()=>{var c,u;l&&(null===(c=n.unsubscribe)||void 0===c||c.call(n)),null===(u=n.finalize)||void 0===u||u.call(n)}))}):h_.D}function Lc(s){return(0,$i.N)((i,e)=>{let r,n=null,o=!1;n=i.subscribe((0,Xi._)(e,void 0,void 0,a=>{r=nr(s(a,Lc(s)(i))),n?(n.unsubscribe(),n=null,r.subscribe(e)):o=!0})),o&&(n.unsubscribe(),n=null,r.subscribe(e))})}function N8(s,i){return(0,$i.N)(function R8(s,i,e,n,o){return(r,a)=>{let l=e,c=i,u=0;r.subscribe((0,Xi._)(a,f=>{const _=u++;c=l?s(c,f,_):(l=!0,f),n&&a.next(c)},o&&(()=>{l&&a.next(c),a.complete()})))}}(s,i,arguments.length>=2,!0))}function LT(s){return s<=0?()=>Nr:(0,$i.N)((i,e)=>{let n=[];i.subscribe((0,Xi._)(e,o=>{n.push(o),s<n.length&&n.shift()},()=>{for(const o of n)e.next(o);e.complete()},void 0,()=>{n=null}))})}function sC(s){return(0,U.T)(()=>s)}function $h(s){return(0,$i.N)((i,e)=>{try{i.subscribe(e)}finally{e.add(s)}})}var oC=_e(343);function zs(s){return(0,$i.N)((i,e)=>{nr(s).subscribe((0,Xi._)(e,()=>e.complete(),oC.l)),!e.closed&&i.subscribe(e)})}const En="primary",Y1=Symbol("RouteTitle");class u${constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const e=this.params[i];return Array.isArray(e)?e[0]:e}return null}getAll(i){if(this.has(i)){const e=this.params[i];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function _f(s){return new u$(s)}function G8(s,i,e){const n=e.path.split("/");if(n.length>s.length||"full"===e.pathMatch&&(i.hasChildren()||n.length<s.length))return null;const o={};for(let r=0;r<n.length;r++){const a=n[r],l=s[r];if(a.startsWith(":"))o[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:s.slice(0,n.length),posParams:o}}function xd(s,i){const e=s?GT(s):void 0,n=i?GT(i):void 0;if(!e||!n||e.length!=n.length)return!1;let o;for(let r=0;r<e.length;r++)if(o=e[r],!P8(s[o],i[o]))return!1;return!0}function GT(s){return[...Object.keys(s),...Object.getOwnPropertySymbols(s)]}function P8(s,i){if(Array.isArray(s)&&Array.isArray(i)){if(s.length!==i.length)return!1;const e=[...s].sort(),n=[...i].sort();return e.every((o,r)=>n[r]===o)}return s===i}function PT(s){return s.length>0?s[s.length-1]:null}function m_(s){return function u8(s){return!!s&&(s instanceof _s.c||(0,Zs.T)(s.lift)&&(0,Zs.T)(s.subscribe))}(s)?s:(0,t.jNT)(s)?gs(Promise.resolve(s)):pt(s)}const sue={exact:function U8(s,i,e){if(!q1(s.segments,i.segments)||!zy(s.segments,i.segments,e)||s.numberOfChildren!==i.numberOfChildren)return!1;for(const n in i.children)if(!s.children[n]||!U8(s.children[n],i.children[n],e))return!1;return!0},subset:V8},K1={exact:function p$(s,i){return xd(s,i)},subset:function B8(s,i){return Object.keys(i).length<=Object.keys(s).length&&Object.keys(i).every(e=>P8(s[e],i[e]))},ignored:()=>!0};function F8(s,i,e){return sue[e.paths](s.root,i.root,e.matrixParams)&&K1[e.queryParams](s.queryParams,i.queryParams)&&!("exact"===e.fragment&&s.fragment!==i.fragment)}function V8(s,i,e){return z8(s,i,i.segments,e)}function z8(s,i,e,n){if(s.segments.length>e.length){const o=s.segments.slice(0,e.length);return!(!q1(o,e)||i.hasChildren()||!zy(o,e,n))}if(s.segments.length===e.length){if(!q1(s.segments,e)||!zy(s.segments,e,n))return!1;for(const o in i.children)if(!s.children[o]||!V8(s.children[o],i.children[o],n))return!1;return!0}{const o=e.slice(0,s.segments.length),r=e.slice(s.segments.length);return!!(q1(s.segments,o)&&zy(s.segments,o,n)&&s.children[En])&&z8(s.children[En],i,r,n)}}function zy(s,i,e){return i.every((n,o)=>K1[e](s[o].parameters,n.parameters))}class J1{constructor(i=new vs([],{}),e={},n=null){this.root=i,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=_f(this.queryParams),this._queryParamMap}toString(){return rue.serialize(this)}}class vs{constructor(i,e){this.segments=i,this.children=e,this.parent=null,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return UT(this)}}class rC{constructor(i,e){this.path=i,this.parameters=e}get parameterMap(){return this._parameterMap??=_f(this.parameters),this._parameterMap}toString(){return VT(this)}}function q1(s,i){return s.length===i.length&&s.every((e,n)=>e.path===i[n].path)}let gf=(()=>{class s{static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275prov=t.jDH({token:s,factory:()=>new j8,providedIn:"root"})}return s})();class j8{parse(i){const e=new cue(i);return new J1(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(i){const e=`/${jy(i.root,!0)}`,n=function m$(s){const i=Object.entries(s).map(([e,n])=>Array.isArray(n)?n.map(o=>`${Hy(e)}=${Hy(o)}`).join("&"):`${Hy(e)}=${Hy(n)}`).filter(e=>e);return i.length?`?${i.join("&")}`:""}(i.queryParams);return`${e}${n}${"string"==typeof i.fragment?`#${function $y(s){return encodeURI(s)}(i.fragment)}`:""}`}}const rue=new j8;function UT(s){return s.segments.map(i=>VT(i)).join("/")}function jy(s,i){if(!s.hasChildren())return UT(s);if(i){const e=s.children[En]?jy(s.children[En],!1):"",n=[];return Object.entries(s.children).forEach(([o,r])=>{o!==En&&n.push(`${o}:${jy(r,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function oue(s,i){let e=[];return Object.entries(s.children).forEach(([n,o])=>{n===En&&(e=e.concat(i(o,n)))}),Object.entries(s.children).forEach(([n,o])=>{n!==En&&(e=e.concat(i(o,n)))}),e}(s,(n,o)=>o===En?[jy(s.children[En],!1)]:[`${o}:${jy(n,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[En]?`${UT(s)}/${e[0]}`:`${UT(s)}/(${e.join("//")})`}}function f$(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hy(s){return f$(s).replace(/%3B/gi,";")}function Q1(s){return f$(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Z1(s){return decodeURIComponent(s)}function BT(s){return Z1(s.replace(/\+/g,"%20"))}function VT(s){return`${Q1(s.path)}${function H8(s){return Object.entries(s).map(([i,e])=>`;${Q1(i)}=${Q1(e)}`).join("")}(s.parameters)}`}const $8=/^[^\/()?;#]+/;function vf(s){const i=s.match($8);return i?i[0]:""}const zl=/^[^\/()?;=#]+/,X8=/^[^=?&#]+/,_$=/^[^&#]+/;class cue{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vs([],{}):new vs([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(i.length>0||Object.keys(e).length>0)&&(n[En]=new vs(i,e)),n}parseSegment(){const i=vf(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new t.wOt(4009,!1);return this.capture(i),new rC(Z1(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const e=function Sf(s){const i=s.match(zl);return i?i[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const o=vf(this.remaining);o&&(n=o,this.capture(n))}i[Z1(e)]=Z1(n)}parseQueryParam(i){const e=function aue(s){const i=s.match(X8);return i?i[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const a=function lue(s){const i=s.match(_$);return i?i[0]:""}(this.remaining);a&&(n=a,this.capture(n))}const o=BT(e),r=BT(n);if(i.hasOwnProperty(o)){let a=i[o];Array.isArray(a)||(a=[a],i[o]=a),a.push(r)}else i[o]=r}parseParens(i){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=vf(this.remaining),o=this.remaining[n.length];if("/"!==o&&")"!==o&&";"!==o)throw new t.wOt(4010,!1);let r;n.indexOf(":")>-1?(r=n.slice(0,n.indexOf(":")),this.capture(r),this.capture(":")):i&&(r=En);const a=this.parseChildren();e[r]=1===Object.keys(a).length?a[En]:new vs([],a),this.consumeOptional("//")}return e}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new t.wOt(4011,!1)}}function zT(s){return s.segments.length>0?new vs([],{[En]:s}):s}function jT(s){const i={};for(const[n,o]of Object.entries(s.children)){const r=jT(o);if(n===En&&0===r.segments.length&&r.hasChildren())for(const[a,l]of Object.entries(r.children))i[a]=l;else(r.segments.length>0||r.hasChildren())&&(i[n]=r)}return function due(s){if(1===s.numberOfChildren&&s.children[En]){const i=s.children[En];return new vs(s.segments.concat(i.segments),i.children)}return s}(new vs(s.segments,i))}function Xh(s){return s instanceof J1}function Xy(s){let i;const o=zT(function e(r){const a={};for(const c of r.children){const u=e(c);a[c.outlet]=u}const l=new vs(r.url,a);return r===s&&(i=l),l}(s.root));return i??o}function W8(s,i,e,n){let o=s;for(;o.parent;)o=o.parent;if(0===i.length)return Wy(o,o,o,e,n);const r=function g$(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new aC(!0,0,s);let i=0,e=!1;const n=s.reduce((o,r,a)=>{if("object"==typeof r&&null!=r){if(r.outlets){const l={};return Object.entries(r.outlets).forEach(([c,u])=>{l[c]="string"==typeof u?u.split("/"):u}),[...o,{outlets:l}]}if(r.segmentPath)return[...o,r.segmentPath]}return"string"!=typeof r?[...o,r]:0===a?(r.split("/").forEach((l,c)=>{0==c&&"."===l||(0==c&&""===l?e=!0:".."===l?i++:""!=l&&o.push(l))}),o):[...o,r]},[]);return new aC(e,i,n)}(i);if(r.toRoot())return Wy(o,o,new vs([],{}),e,n);const a=function Y8(s,i,e){if(s.isAbsolute)return new Ky(i,!0,0);if(!e)return new Ky(i,!1,NaN);if(null===e.parent)return new Ky(e,!0,0);const n=Wh(s.commands[0])?0:1;return function v$(s,i,e){let n=s,o=i,r=e;for(;r>o;){if(r-=o,n=n.parent,!n)throw new t.wOt(4005,!1);o=n.segments.length}return new Ky(n,!1,o-r)}(e,e.segments.length-1+n,s.numberOfDoubleDots)}(r,o,s),l=a.processChildren?ev(a.segmentGroup,a.index,r.commands):K8(a.segmentGroup,a.index,r.commands);return Wy(o,a.segmentGroup,l,e,n)}function Wh(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function __(s){return"object"==typeof s&&null!=s&&s.outlets}function Wy(s,i,e,n,o){let a,r={};n&&Object.entries(n).forEach(([c,u])=>{r[c]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`}),a=s===i?e:Yy(s,i,e);const l=zT(jT(a));return new J1(l,r,o)}function Yy(s,i,e){const n={};return Object.entries(s.children).forEach(([o,r])=>{n[o]=r===i?e:Yy(r,i,e)}),new vs(s.segments,n)}class aC{constructor(i,e,n){if(this.isAbsolute=i,this.numberOfDoubleDots=e,this.commands=n,i&&n.length>0&&Wh(n[0]))throw new t.wOt(4003,!1);const o=n.find(__);if(o&&o!==PT(n))throw new t.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ky{constructor(i,e,n){this.segmentGroup=i,this.processChildren=e,this.index=n}}function K8(s,i,e){if(s??=new vs([],{}),0===s.segments.length&&s.hasChildren())return ev(s,i,e);const n=function lC(s,i,e){let n=0,o=i;const r={match:!1,pathIndex:0,commandIndex:0};for(;o<s.segments.length;){if(n>=e.length)return r;const a=s.segments[o],l=e[n];if(__(l))break;const c=`${l}`,u=n<e.length-1?e[n+1]:null;if(o>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!q8(c,u,a))return r;n+=2}else{if(!q8(c,{},a))return r;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}(s,i,e),o=e.slice(n.commandIndex);if(n.match&&n.pathIndex<s.segments.length){const r=new vs(s.segments.slice(0,n.pathIndex),{});return r.children[En]=new vs(s.segments.slice(n.pathIndex),s.children),ev(r,0,o)}return n.match&&0===o.length?new vs(s.segments,{}):n.match&&!s.hasChildren()?tv(s,i,e):n.match?ev(s,0,o):tv(s,i,e)}function ev(s,i,e){if(0===e.length)return new vs(s.segments,{});{const n=function S$(s){return __(s[0])?s[0].outlets:{[En]:s}}(e),o={};if(Object.keys(n).some(r=>r!==En)&&s.children[En]&&1===s.numberOfChildren&&0===s.children[En].segments.length){const r=ev(s.children[En],i,e);return new vs(s.segments,r.children)}return Object.entries(n).forEach(([r,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(o[r]=K8(s.children[r],i,a))}),Object.entries(s.children).forEach(([r,a])=>{void 0===n[r]&&(o[r]=a)}),new vs(s.segments,o)}}function tv(s,i,e){const n=s.segments.slice(0,i);let o=0;for(;o<e.length;){const r=e[o];if(__(r)){const c=$T(r.outlets);return new vs(n,c)}if(0===o&&Wh(e[0])){n.push(new rC(s.segments[i].path,J8(e[0]))),o++;continue}const a=__(r)?r.outlets[En]:`${r}`,l=o<e.length-1?e[o+1]:null;a&&l&&Wh(l)?(n.push(new rC(a,J8(l))),o+=2):(n.push(new rC(a,{})),o++)}return new vs(n,{})}function $T(s){const i={};return Object.entries(s).forEach(([e,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(i[e]=tv(new vs([],{}),0,n))}),i}function J8(s){const i={};return Object.entries(s).forEach(([e,n])=>i[e]=`${n}`),i}function q8(s,i,e){return s==e.path&&xd(i,e.parameters)}const g_="imperative";var Si=function(s){return s[s.NavigationStart=0]="NavigationStart",s[s.NavigationEnd=1]="NavigationEnd",s[s.NavigationCancel=2]="NavigationCancel",s[s.NavigationError=3]="NavigationError",s[s.RoutesRecognized=4]="RoutesRecognized",s[s.ResolveStart=5]="ResolveStart",s[s.ResolveEnd=6]="ResolveEnd",s[s.GuardsCheckStart=7]="GuardsCheckStart",s[s.GuardsCheckEnd=8]="GuardsCheckEnd",s[s.RouteConfigLoadStart=9]="RouteConfigLoadStart",s[s.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",s[s.ChildActivationStart=11]="ChildActivationStart",s[s.ChildActivationEnd=12]="ChildActivationEnd",s[s.ActivationStart=13]="ActivationStart",s[s.ActivationEnd=14]="ActivationEnd",s[s.Scroll=15]="Scroll",s[s.NavigationSkipped=16]="NavigationSkipped",s}(Si||{});class fa{constructor(i,e){this.id=i,this.url=e}}class cC extends fa{constructor(i,e,n="imperative",o=null){super(i,e),this.type=Si.NavigationStart,this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ad extends fa{constructor(i,e,n){super(i,e),this.urlAfterRedirects=n,this.type=Si.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var jl=function(s){return s[s.Redirect=0]="Redirect",s[s.SupersededByNewNavigation=1]="SupersededByNewNavigation",s[s.NoDataFromResolver=2]="NoDataFromResolver",s[s.GuardRejected=3]="GuardRejected",s}(jl||{}),XT=function(s){return s[s.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",s[s.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",s}(XT||{});class Yh extends fa{constructor(i,e,n,o){super(i,e),this.reason=n,this.code=o,this.type=Si.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nv extends fa{constructor(i,e,n,o){super(i,e),this.reason=n,this.code=o,this.type=Si.NavigationSkipped}}class dC extends fa{constructor(i,e,n,o){super(i,e),this.error=n,this.target=o,this.type=Si.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class WT extends fa{constructor(i,e,n,o){super(i,e),this.urlAfterRedirects=n,this.state=o,this.type=Si.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q8 extends fa{constructor(i,e,n,o){super(i,e),this.urlAfterRedirects=n,this.state=o,this.type=Si.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YT extends fa{constructor(i,e,n,o,r){super(i,e),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=r,this.type=Si.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Z8 extends fa{constructor(i,e,n,o){super(i,e),this.urlAfterRedirects=n,this.state=o,this.type=Si.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jy extends fa{constructor(i,e,n,o){super(i,e),this.urlAfterRedirects=n,this.state=o,this.type=Si.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uC{constructor(i){this.route=i,this.type=Si.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class eL{constructor(i){this.route=i,this.type=Si.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class KT{constructor(i){this.snapshot=i,this.type=Si.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hC{constructor(i){this.snapshot=i,this.type=Si.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tL{constructor(i){this.snapshot=i,this.type=Si.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JT{constructor(i){this.snapshot=i,this.type=Si.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pC{constructor(i,e,n){this.routerEvent=i,this.position=e,this.anchor=n,this.type=Si.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class qT{}class qy{constructor(i){this.url=i}}class C${constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new fC,this.attachRef=null}}let fC=(()=>{class s{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const o=this.getOrCreateContext(e);o.outlet=n,this.contexts.set(e,o)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new C$,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class QT{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const e=this.pathFromRoot(i);return e.length>1?e[e.length-2]:null}children(i){const e=Qy(i,this._root);return e?e.children.map(n=>n.value):[]}firstChild(i){const e=Qy(i,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(i){const e=wn(i,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==i)}pathFromRoot(i){return wn(i,this._root).map(e=>e.value)}}function Qy(s,i){if(s===i.value)return i;for(const e of i.children){const n=Qy(s,e);if(n)return n}return null}function wn(s,i){if(s===i.value)return[i];for(const e of i.children){const n=wn(s,e);if(n.length)return n.unshift(i),n}return[]}class Gc{constructor(i,e){this.value=i,this.children=e}toString(){return`TreeNode(${this.value})`}}function v_(s){const i={};return s&&s.children.forEach(e=>i[e.value.outlet]=e),i}class S_ extends QT{constructor(i,e){super(i),this.snapshot=e,C_(this,i)}toString(){return this.snapshot.toString()}}function ZT(s){const i=function nL(s){const r=new Cf([],{},{},"",{},En,s,null,{});return new Zy("",new Gc(r,[]))}(s),e=new Fn.t([new rC("",{})]),n=new Fn.t({}),o=new Fn.t({}),r=new Fn.t({}),a=new Fn.t(""),l=new Ha(e,n,r,a,o,En,s,i.root);return l.snapshot=i.root,new S_(new Gc(l,[]),i)}class Ha{constructor(i,e,n,o,r,a,l,c){this.urlSubject=i,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=r,this.outlet=a,this.component=l,this._futureSnapshot=c,this.title=this.dataSubject?.pipe((0,U.T)(u=>u[Y1]))??pt(void 0),this.url=i,this.params=e,this.queryParams=n,this.fragment=o,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,U.T)(i=>_f(i))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,U.T)(i=>_f(i))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function iv(s,i,e="emptyOnly"){let n;const{routeConfig:o}=s;return n=null===i||"always"!==e&&""!==o?.path&&(i.component||i.routeConfig?.loadComponent)?{params:{...s.params},data:{...s.data},resolve:{...s.data,...s._resolvedData??{}}}:{params:{...i.params,...s.params},data:{...i.data,...s.data},resolve:{...s.data,...i.data,...o?.data,...s._resolvedData}},o&&ek(o)&&(n.resolve[Y1]=o.title),n}class Cf{get title(){return this.data?.[Y1]}constructor(i,e,n,o,r,a,l,c,u){this.url=i,this.params=e,this.queryParams=n,this.fragment=o,this.data=r,this.outlet=a,this.component=l,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_f(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_f(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Zy extends QT{constructor(i,e){super(e),this.url=i,C_(this,e)}toString(){return eM(this._root)}}function C_(s,i){i.value._routerState=s,i.children.forEach(e=>C_(s,e))}function eM(s){const i=s.children.length>0?` { ${s.children.map(eM).join(", ")} } `:"";return`${s.value}${i}`}function mC(s){if(s.snapshot){const i=s.snapshot,e=s._futureSnapshot;s.snapshot=e,xd(i.queryParams,e.queryParams)||s.queryParamsSubject.next(e.queryParams),i.fragment!==e.fragment&&s.fragmentSubject.next(e.fragment),xd(i.params,e.params)||s.paramsSubject.next(e.params),function h$(s,i){if(s.length!==i.length)return!1;for(let e=0;e<s.length;++e)if(!xd(s[e],i[e]))return!1;return!0}(i.url,e.url)||s.urlSubject.next(e.url),xd(i.data,e.data)||s.dataSubject.next(e.data)}else s.snapshot=s._futureSnapshot,s.dataSubject.next(s._futureSnapshot.data)}function _C(s,i){const e=xd(s.params,i.params)&&function FT(s,i){return q1(s,i)&&s.every((e,n)=>xd(e.parameters,i[n].parameters))}(s.url,i.url);return e&&!(!s.parent!=!i.parent)&&(!s.parent||_C(s.parent,i.parent))}function ek(s){return"string"==typeof s.title||null===s.title}let tk=(()=>{class s{constructor(){this.activated=null,this._activatedRoute=null,this.name=En,this.activateEvents=new t.bkB,this.deactivateEvents=new t.bkB,this.attachEvents=new t.bkB,this.detachEvents=new t.bkB,this.parentContexts=(0,t.WQX)(fC),this.location=(0,t.WQX)(t.c1b),this.changeDetector=(0,t.WQX)(t.gRc),this.environmentInjector=(0,t.WQX)(t.uvJ),this.inputBinder=(0,t.WQX)(nk,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:n,previousValue:o}=e.name;if(n)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new t.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new t.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new t.wOt(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new t.wOt(4013,!1);this._activatedRoute=e;const o=this.location,a=e.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new tM(e,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275dir=t.FsC({type:s,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[t.OA$]})}return s})();class tM{constructor(i,e,n){this.route=i,this.childContexts=e,this.parent=n}get(i,e){return i===Ha?this.route:i===fC?this.childContexts:this.parent.get(i,e)}}const nk=new t.nKC("");let iL=(()=>{class s{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:n}=e,o=Hh([n.queryParams,n.params,n.data]).pipe(Y(([r,a,l],c)=>(l={...r,...a,...l},0===c?pt(l):Promise.resolve(l)))).subscribe(r=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(e);const a=(0,t.HJs)(n.component);if(a)for(const{templateName:l}of a.inputs)e.activatedComponentRef.setInput(l,r[l]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,o)}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();function sv(s,i,e){if(e&&s.shouldReuseRoute(i.value,e.value.snapshot)){const n=e.value;n._futureSnapshot=i.value;const o=function E$(s,i,e){return i.children.map(n=>{for(const o of e.children)if(s.shouldReuseRoute(n.value,o.value.snapshot))return sv(s,n,o);return sv(s,n)})}(s,i,e);return new Gc(n,o)}{if(s.shouldAttach(i.value)){const r=s.retrieve(i.value);if(null!==r){const a=r.route;return a.value._futureSnapshot=i.value,a.children=i.children.map(l=>sv(s,l)),a}}const n=function y$(s){return new Ha(new Fn.t(s.url),new Fn.t(s.params),new Fn.t(s.queryParams),new Fn.t(s.fragment),new Fn.t(s.data),s.outlet,s.component,s)}(i.value),o=i.children.map(r=>sv(s,r));return new Gc(n,o)}}const sL="ngNavigationCancelingError";function oL(s,i){const{redirectTo:e,navigationBehaviorOptions:n}=Xh(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,o=nM(!1,jl.Redirect);return o.url=e,o.navigationBehaviorOptions=n,o}function nM(s,i){const e=new Error(`NavigationCancelingError: ${s||""}`);return e[sL]=!0,e.cancellationCode=i,e}function aL(s){return!!s&&s[sL]}let lL=(()=>{class s{static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["ng-component"]],standalone:!0,features:[t.aNF],decls:1,vars:0,template:function(n,o){1&n&&t.nrm(0,"router-outlet")},dependencies:[tk],encapsulation:2})}return s})();function ik(s){const i=s.children&&s.children.map(ik),e=i?{...s,children:i}:{...s};return!e.component&&!e.loadComponent&&(i||e.loadChildren)&&e.outlet&&e.outlet!==En&&(e.component=lL),e}function Tu(s){return s.outlet||En}function b_(s){if(!s)return null;if(s.routeConfig?._injector)return s.routeConfig._injector;for(let i=s.parent;i;i=i.parent){const e=i.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class T${constructor(i,e,n,o,r){this.routeReuseStrategy=i,this.futureState=e,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=r}activate(i){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,i),mC(this.futureState.root),this.activateChildRoutes(e,n,i)}deactivateChildRoutes(i,e,n){const o=v_(e);i.children.forEach(r=>{const a=r.value.outlet;this.deactivateRoutes(r,o[a],n),delete o[a]}),Object.values(o).forEach(r=>{this.deactivateRouteAndItsChildren(r,n)})}deactivateRoutes(i,e,n){const o=i.value,r=e?e.value:null;if(o===r)if(o.component){const a=n.getContext(o.outlet);a&&this.deactivateChildRoutes(i,e,a.children)}else this.deactivateChildRoutes(i,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(i,e){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,e):this.deactivateRouteAndOutlet(i,e)}detachAndStoreRouteSubtree(i,e){const n=e.getContext(i.value.outlet),o=n&&i.value.component?n.children:e,r=v_(i);for(const a of Object.values(r))this.deactivateRouteAndItsChildren(a,o);if(n&&n.outlet){const a=n.outlet.detach(),l=n.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:a,route:i,contexts:l})}}deactivateRouteAndOutlet(i,e){const n=e.getContext(i.value.outlet),o=n&&i.value.component?n.children:e,r=v_(i);for(const a of Object.values(r))this.deactivateRouteAndItsChildren(a,o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(i,e,n){const o=v_(e);i.children.forEach(r=>{this.activateRoutes(r,o[r.value.outlet],n),this.forwardEvent(new JT(r.value.snapshot))}),i.children.length&&this.forwardEvent(new hC(i.value.snapshot))}activateRoutes(i,e,n){const o=i.value,r=e?e.value:null;if(mC(o),o===r)if(o.component){const a=n.getOrCreateContext(o.outlet);this.activateChildRoutes(i,e,a.children)}else this.activateChildRoutes(i,e,n);else if(o.component){const a=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const l=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),mC(l.route.value),this.activateChildRoutes(i,null,a.children)}else{const l=b_(o.snapshot);a.attachRef=null,a.route=o,a.injector=l,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(i,null,a.children)}}else this.activateChildRoutes(i,null,n)}}class uL{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class sk{constructor(i,e){this.component=i,this.route=e}}function Mu(s,i,e){const n=s._root;return gC(n,i?i._root:null,e,[n.value])}function ov(s,i){const e=Symbol(),n=i.get(s,e);return n===e?"function"!=typeof s||(0,t.LfX)(s)?i.get(s):s:n}function gC(s,i,e,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const r=v_(i);return s.children.forEach(a=>{(function hL(s,i,e,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const r=s.value,a=i?i.value:null,l=e?e.getContext(s.value.outlet):null;if(a&&r.routeConfig===a.routeConfig){const c=function pL(s,i,e){if("function"==typeof e)return e(s,i);switch(e){case"pathParamsChange":return!q1(s.url,i.url);case"pathParamsOrQueryParamsChange":return!q1(s.url,i.url)||!xd(s.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_C(s,i)||!xd(s.queryParams,i.queryParams);default:return!_C(s,i)}}(a,r,r.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new uL(n)):(r.data=a.data,r._resolvedData=a._resolvedData),gC(s,i,r.component?l?l.children:null:e,n,o),c&&l&&l.outlet&&l.outlet.isActivated&&o.canDeactivateChecks.push(new sk(l.outlet.component,a))}else a&&bf(i,l,o),o.canActivateChecks.push(new uL(n)),gC(s,null,r.component?l?l.children:null:e,n,o)})(a,r[a.value.outlet],e,n.concat([a.value]),o),delete r[a.value.outlet]}),Object.entries(r).forEach(([a,l])=>bf(l,e.getContext(a),o)),o}function bf(s,i,e){const n=v_(s),o=s.value;Object.entries(n).forEach(([r,a])=>{bf(a,o.component?i?i.children.getContext(r):null:i,e)}),e.canDeactivateChecks.push(new sk(o.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,o))}function E_(s){return"function"==typeof s}function Iu(s){return s instanceof By||"EmptyError"===s?.name}const rk=Symbol("INITIAL_VALUE");function rv(){return Y(s=>Hh(s.map(i=>i.pipe(Ye(1),x8(rk)))).pipe((0,U.T)(i=>{for(const e of i)if(!0!==e){if(e===rk)return rk;if(!1===e||e instanceof J1)return e}return!0}),z(i=>i!==rk),Ye(1)))}function aM(s){return(0,Vy.F)(x(i=>{if(Xh(i))throw oL(0,i)}),(0,U.T)(i=>!0===i))}class lM{constructor(i){this.segmentGroup=i||null}}class cM extends Error{constructor(i){super(),this.urlTree=i}}function lv(s){return Vl(new lM(s))}class gue{constructor(i,e){this.urlSerializer=i,this.urlTree=e}lineralizeSegments(i,e){let n=[],o=e.root;for(;;){if(n=n.concat(o.segments),0===o.numberOfChildren)return pt(n);if(o.numberOfChildren>1||!o.children[En])return Vl(new t.wOt(4e3,!1));o=o.children[En]}}applyRedirectCommands(i,e,n){const o=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),i,n);if(e.startsWith("/"))throw new cM(o);return o}applyRedirectCreateUrlTree(i,e,n,o){const r=this.createSegmentGroup(i,e.root,n,o);return new J1(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(i,e){const n={};return Object.entries(i).forEach(([o,r])=>{if("string"==typeof r&&r.startsWith(":")){const l=r.substring(1);n[o]=e[l]}else n[o]=r}),n}createSegmentGroup(i,e,n,o){const r=this.createSegments(i,e.segments,n,o);let a={};return Object.entries(e.children).forEach(([l,c])=>{a[l]=this.createSegmentGroup(i,c,n,o)}),new vs(r,a)}createSegments(i,e,n,o){return e.map(r=>r.path.startsWith(":")?this.findPosParam(i,r,o):this.findOrReturn(r,n))}findPosParam(i,e,n){const o=n[e.path.substring(1)];if(!o)throw new t.wOt(4001,!1);return o}findOrReturn(i,e){let n=0;for(const o of e){if(o.path===i.path)return e.splice(n),o;n++}return i}}const dM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function R$(s,i,e,n,o){const r=lk(s,i,e);return r.matched?(n=function dl(s,i){return s.providers&&!s._injector&&(s._injector=(0,t.Ol2)(s.providers,i,`Route: ${s.path}`)),s._injector??i}(i,n),function I$(s,i,e,n){const o=i.canMatch;return o&&0!==o.length?pt(o.map(a=>{const l=ov(a,s);return m_(function sM(s){return s&&E_(s.canMatch)}(l)?l.canMatch(i,e):(0,t.N4e)(s,()=>l(i,e)))})).pipe(rv(),aM()):pt(!0)}(n,i,e).pipe((0,U.T)(a=>!0===a?r:{...dM}))):pt(r)}function lk(s,i,e){if("**"===i.path)return function N$(s){return{matched:!0,parameters:s.length>0?PT(s).parameters:{},consumedSegments:s,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===i.path)return"full"===i.pathMatch&&(s.hasChildren()||e.length>0)?{...dM}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(i.matcher||G8)(e,s,i);if(!o)return{...dM};const r={};Object.entries(o.posParams??{}).forEach(([l,c])=>{r[l]=c.path});const a=o.consumed.length>0?{...r,...o.consumed[o.consumed.length-1].parameters}:r;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:a,positionalParamSegments:o.posParams??{}}}function SL(s,i,e,n){return e.length>0&&function bL(s,i,e){return e.some(n=>Ef(s,i,n)&&Tu(n)!==En)}(s,e,n)?{segmentGroup:new vs(i,uM(n,new vs(e,s.children))),slicedSegments:[]}:0===e.length&&function bC(s,i,e){return e.some(n=>Ef(s,i,n))}(s,e,n)?{segmentGroup:new vs(s.segments,CL(s,e,n,s.children)),slicedSegments:e}:{segmentGroup:new vs(s.segments,s.children),slicedSegments:e}}function CL(s,i,e,n){const o={};for(const r of e)if(Ef(s,i,r)&&!n[Tu(r)]){const a=new vs([],{});o[Tu(r)]=a}return{...n,...o}}function uM(s,i){const e={};e[En]=i;for(const n of s)if(""===n.path&&Tu(n)!==En){const o=new vs([],{});e[Tu(n)]=o}return e}function Ef(s,i,e){return(!(s.hasChildren()||i.length>0)||"full"!==e.pathMatch)&&""===e.path}class G${}class hM{constructor(i,e,n,o,r,a,l){this.injector=i,this.configLoader=e,this.rootComponentType=n,this.config=o,this.urlTree=r,this.paramsInheritanceStrategy=a,this.urlSerializer=l,this.applyRedirects=new gue(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(i){return new t.wOt(4002,`'${i.segmentGroup}'`)}recognize(){const i=SL(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(i).pipe((0,U.T)(e=>{const n=new Cf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},En,this.rootComponentType,null,{}),o=new Gc(n,e),r=new Zy("",o),a=function HT(s,i,e=null,n=null){return W8(Xy(s),i,e,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(r._root,null),{state:r,tree:a}}))}match(i){return this.processSegmentGroup(this.injector,this.config,i,En).pipe(Lc(n=>{if(n instanceof cM)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof lM?this.noMatchError(n):n}))}inheritParamsAndData(i,e){const n=i.value,o=iv(n,e,this.paramsInheritanceStrategy);n.params=Object.freeze(o.params),n.data=Object.freeze(o.data),i.children.forEach(r=>this.inheritParamsAndData(r,n))}processSegmentGroup(i,e,n,o){return 0===n.segments.length&&n.hasChildren()?this.processChildren(i,e,n):this.processSegment(i,e,n,n.segments,o,!0).pipe((0,U.T)(r=>r instanceof Gc?[r]:[]))}processChildren(i,e,n){const o=[];for(const r of Object.keys(n.children))"primary"===r?o.unshift(r):o.push(r);return gs(o).pipe(Ou(r=>{const a=n.children[r],l=function D$(s,i){const e=s.filter(n=>Tu(n)===i);return e.push(...s.filter(n=>Tu(n)!==i)),e}(e,r);return this.processSegmentGroup(i,l,a,r)}),N8((r,a)=>(r.push(...a),r)),iC(null),function L8(s,i){const e=arguments.length>=2;return n=>n.pipe(s?z((o,r)=>s(o,r,n)):h_.D,LT(1),e?iC(i):A8(()=>new By))}(),fr(r=>{if(null===r)return lv(n);const a=U$(r);return function F$(s){s.sort((i,e)=>i.value.outlet===En?-1:e.value.outlet===En?1:i.value.outlet.localeCompare(e.value.outlet))}(a),pt(a)}))}processSegment(i,e,n,o,r,a){return gs(e).pipe(Ou(l=>this.processSegmentAgainstRoute(l._injector??i,e,l,n,o,r,a).pipe(Lc(c=>{if(c instanceof lM)return pt(null);throw c}))),f_(l=>!!l),Lc(l=>{if(Iu(l))return function L$(s,i,e){return 0===i.length&&!s.children[e]}(n,o,r)?pt(new G$):lv(n);throw l}))}processSegmentAgainstRoute(i,e,n,o,r,a,l){return function EC(s,i,e,n){return!!(Tu(s)===n||n!==En&&Ef(i,e,s))&&lk(i,s,e).matched}(n,o,r,a)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(i,o,n,r,a):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(i,o,e,n,r,a):lv(o):lv(o)}expandSegmentAgainstRouteUsingRedirect(i,e,n,o,r,a){const{matched:l,consumedSegments:c,positionalParamSegments:u,remainingSegments:f}=lk(e,o,r);if(!l)return lv(e);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const _=this.applyRedirects.applyRedirectCommands(c,o.redirectTo,u);return this.applyRedirects.lineralizeSegments(o,_).pipe(fr(g=>this.processSegment(i,n,e,g.concat(f),a,!1)))}matchSegmentAgainstRoute(i,e,n,o,r){const a=R$(e,n,o,i);return"**"===n.path&&(e.children={}),a.pipe(Y(l=>l.matched?this.getChildConfig(i=n._injector??i,n,o).pipe(Y(({routes:c})=>{const u=n._loadedInjector??i,{consumedSegments:f,remainingSegments:_,parameters:g}=l,S=new Cf(f,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function B$(s){return s.data||{}}(n),Tu(n),n.component??n._loadedComponent??null,n,function Cue(s){return s.resolve||{}}(n)),{segmentGroup:b,slicedSegments:k}=SL(e,f,_,c);if(0===k.length&&b.hasChildren())return this.processChildren(u,c,b).pipe((0,U.T)(O=>null===O?null:new Gc(S,O)));if(0===c.length&&0===k.length)return pt(new Gc(S,[]));const D=Tu(n)===r;return this.processSegment(u,c,b,k,D?En:r,!0).pipe((0,U.T)(O=>new Gc(S,O instanceof Gc?[O]:[])))})):lv(e)))}getChildConfig(i,e,n){return e.children?pt({routes:e.children,injector:i}):e.loadChildren?void 0!==e._loadedRoutes?pt({routes:e._loadedRoutes,injector:e._loadedInjector}):function vL(s,i,e,n){const o=i.canLoad;return void 0===o||0===o.length?pt(!0):pt(o.map(a=>{const l=ov(a,s);return m_(function fL(s){return s&&E_(s.canLoad)}(l)?l.canLoad(i,e):(0,t.N4e)(s,()=>l(i,e)))})).pipe(rv(),aM())}(i,e,n).pipe(fr(o=>o?this.configLoader.loadChildren(i,e).pipe(x(r=>{e._loadedRoutes=r.routes,e._loadedInjector=r.injector})):function A$(s){return Vl(nM(!1,jl.GuardRejected))}())):pt({routes:[],injector:i})}}function vue(s){const i=s.value.routeConfig;return i&&""===i.path}function U$(s){const i=[],e=new Set;for(const n of s){if(!vue(n)){i.push(n);continue}const o=i.find(r=>n.value.routeConfig===r.value.routeConfig);void 0!==o?(o.children.push(...n.children),e.add(o)):i.push(n)}for(const n of e){const o=U$(n.children);i.push(new Gc(n.value,o))}return i.filter(n=>!e.has(n))}function EL(s){const i=s.children.map(e=>EL(e)).flat();return[s,...i]}function y_(s){return Y(i=>{const e=s(i);return e?gs(e).pipe((0,U.T)(()=>i)):pt(i)})}let dk=(()=>{class s{buildTitle(e){let n,o=e.root;for(;void 0!==o;)n=this.getResolvedTitleForRoute(o)??n,o=o.children.find(r=>r.outlet===En);return n}getResolvedTitleForRoute(e){return e.data[Y1]}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275prov=t.jDH({token:s,factory:()=>(0,t.WQX)(uk),providedIn:"root"})}return s})(),uk=(()=>{class s extends dk{constructor(e){super(),this.title=e}updateTitle(e){const n=this.buildTitle(e);void 0!==n&&this.title.setTitle(n)}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(tH))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const k_=new t.nKC("",{providedIn:"root",factory:()=>({})}),xu=new t.nKC("");let hk=(()=>{class s{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,t.WQX)(t.Ql9)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return pt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const n=m_(e.loadComponent()).pipe((0,U.T)(fM),x(r=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=r}),$h(()=>{this.componentLoaders.delete(e)})),o=new c$(n,()=>new Xe.B).pipe(I8());return this.componentLoaders.set(e,o),o}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return pt({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const r=function H$(s,i,e,n){return m_(s.loadChildren()).pipe((0,U.T)(fM),fr(o=>o instanceof t.Co$||Array.isArray(o)?pt(o):gs(i.compileModuleAsync(o))),(0,U.T)(o=>{n&&n(s);let r,a,l=!1;return Array.isArray(o)?(a=o,!0):(r=o.create(e).injector,a=r.get(xu,[],{optional:!0,self:!0}).flat()),{routes:a.map(ik),injector:r}}))}(n,this.compiler,e,this.onLoadEndListener).pipe($h(()=>{this.childrenLoaders.delete(n)})),a=new c$(r,()=>new Xe.B).pipe(I8());return this.childrenLoaders.set(n,a),a}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function fM(s){return function yC(s){return s&&"object"==typeof s&&"default"in s}(s)?s.default:s}let mM=(()=>{class s{static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275prov=t.jDH({token:s,factory:()=>(0,t.WQX)(yL),providedIn:"root"})}return s})(),yL=(()=>{class s{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const kL=new t.nKC(""),kC=new t.nKC("");function $$(s,i,e){const n=s.get(kC),o=s.get(de);return s.get(t.SKi).runOutsideAngular(()=>{if(!o.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let r;const a=new Promise(u=>{r=u}),l=o.startViewTransition(()=>(r(),function X$(s){return new Promise(i=>{(0,t.mal)(i,{injector:s})})}(s))),{onViewTransitionCreated:c}=n;return c&&(0,t.N4e)(s,()=>c({transition:l,from:i,to:e})),a})}let pk=(()=>{class s{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Xe.B,this.transitionAbortSubject=new Xe.B,this.configLoader=(0,t.WQX)(hk),this.environmentInjector=(0,t.WQX)(t.uvJ),this.urlSerializer=(0,t.WQX)(gf),this.rootContexts=(0,t.WQX)(fC),this.location=(0,t.WQX)(tn),this.inputBindingEnabled=null!==(0,t.WQX)(nk,{optional:!0}),this.titleStrategy=(0,t.WQX)(dk),this.options=(0,t.WQX)(k_,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,t.WQX)(mM),this.createViewTransition=(0,t.WQX)(kL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>pt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new eL(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new uC(o))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:n})}setupNavigations(e,n,o){return this.transitions=new Fn.t({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:g_,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(z(r=>0!==r.id),(0,U.T)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Y(r=>{let a=!1,l=!1;return pt(r).pipe(Y(c=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",jl.SupersededByNewNavigation),Nr;this.currentTransition=r,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const u=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!u&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const _="";return this.events.next(new nv(c.id,this.urlSerializer.serialize(c.rawUrl),_,XT.IgnoredSameUrlNavigation)),c.resolve(null),Nr}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return pt(c).pipe(Y(_=>{const g=this.transitions?.getValue();return this.events.next(new cC(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),g!==this.transitions?.getValue()?Nr:Promise.resolve(_)}),function V$(s,i,e,n,o,r){return fr(a=>function P$(s,i,e,n,o,r,a="emptyOnly"){return new hM(s,i,e,n,o,a,r).recognize()}(s,i,e,n,a.extractedUrl,o,r).pipe((0,U.T)(({state:l,tree:c})=>({...a,targetSnapshot:l,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),x(_=>{r.targetSnapshot=_.targetSnapshot,r.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:_.urlAfterRedirects};const g=new WT(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(g)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:_,extractedUrl:g,source:S,restoredState:b,extras:k}=c,D=new cC(_,this.urlSerializer.serialize(g),S,b);this.events.next(D);const O=ZT(this.rootComponentType).snapshot;return this.currentTransition=r={...c,targetSnapshot:O,urlAfterRedirects:g,extras:{...k,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=g,pt(r)}{const _="";return this.events.next(new nv(c.id,this.urlSerializer.serialize(c.extractedUrl),_,XT.IgnoredByUrlHandlingStrategy)),c.resolve(null),Nr}}),x(c=>{const u=new Q8(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),(0,U.T)(c=>(this.currentTransition=r={...c,guards:Mu(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},r)),function oM(s,i){return fr(e=>{const{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:r,canDeactivateChecks:a}}=e;return 0===a.length&&0===r.length?pt({...e,guardsResult:!0}):function M$(s,i,e,n){return gs(s).pipe(fr(o=>function CC(s,i,e,n,o){const r=i&&i.routeConfig?i.routeConfig.canDeactivate:null;return r&&0!==r.length?pt(r.map(l=>{const c=b_(i)??o,u=ov(l,c);return m_(function ok(s){return s&&E_(s.canDeactivate)}(u)?u.canDeactivate(s,i,e,n):(0,t.N4e)(c,()=>u(s,i,e,n))).pipe(f_())})).pipe(rv()):pt(!0)}(o.component,o.route,e,i,n)),f_(o=>!0!==o,!0))}(a,n,o,s).pipe(fr(l=>l&&function _ue(s){return"boolean"==typeof s}(l)?function vC(s,i,e,n){return gs(i).pipe(Ou(o=>nC(function av(s,i){return null!==s&&i&&i(new KT(s)),pt(!0)}(o.route.parent,n),function gL(s,i){return null!==s&&i&&i(new tL(s)),pt(!0)}(o.route,n),function rM(s,i,e){const n=i[i.length-1],r=i.slice(0,i.length-1).reverse().map(a=>function iM(s){const i=s.routeConfig?s.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:s,guards:i}:null}(a)).filter(a=>null!==a).map(a=>T8(()=>pt(a.guards.map(c=>{const u=b_(a.node)??e,f=ov(c,u);return m_(function _L(s){return s&&E_(s.canActivateChild)}(f)?f.canActivateChild(n,s):(0,t.N4e)(u,()=>f(n,s))).pipe(f_())})).pipe(rv())));return pt(r).pipe(rv())}(s,o.path,e),function SC(s,i,e){const n=i.routeConfig?i.routeConfig.canActivate:null;if(!n||0===n.length)return pt(!0);const o=n.map(r=>T8(()=>{const a=b_(i)??e,l=ov(r,a);return m_(function mL(s){return s&&E_(s.canActivate)}(l)?l.canActivate(i,s):(0,t.N4e)(a,()=>l(i,s))).pipe(f_())}));return pt(o).pipe(rv())}(s,o.route,e))),f_(o=>!0!==o,!0))}(n,r,s,i):pt(l)),(0,U.T)(l=>({...e,guardsResult:l})))})}(this.environmentInjector,c=>this.events.next(c)),x(c=>{if(r.guardsResult=c.guardsResult,Xh(c.guardsResult))throw oL(0,c.guardsResult);const u=new YT(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),z(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",jl.GuardRejected),!1)),y_(c=>{if(c.guards.canActivateChecks.length)return pt(c).pipe(x(u=>{const f=new Z8(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),Y(u=>{let f=!1;return pt(u).pipe(function bue(s,i){return fr(e=>{const{targetSnapshot:n,guards:{canActivateChecks:o}}=e;if(!o.length)return pt(e);const r=new Set(o.map(c=>c.route)),a=new Set;for(const c of r)if(!a.has(c))for(const u of EL(c))a.add(u);let l=0;return gs(a).pipe(Ou(c=>r.has(c)?function z$(s,i,e,n){const o=s.routeConfig,r=s._resolve;return void 0!==o?.title&&!ek(o)&&(r[Y1]=o.title),function j$(s,i,e,n){const o=GT(s);if(0===o.length)return pt({});const r={};return gs(o).pipe(fr(a=>function pM(s,i,e,n){const o=b_(i)??n,r=ov(s,o);return m_(r.resolve?r.resolve(i,e):(0,t.N4e)(o,()=>r(i,e)))}(s[a],i,e,n).pipe(f_(),x(l=>{r[a]=l}))),LT(1),sC(r),Lc(a=>Iu(a)?Nr:Vl(a)))}(r,s,i,n).pipe((0,U.T)(a=>(s._resolvedData=a,s.data=iv(s,s.parent,e).resolve,null)))}(c,n,s,i):(c.data=iv(c,c.parent,s).resolve,pt(void 0))),x(()=>l++),LT(1),fr(c=>l===a.size?pt(e):Nr))})}(this.paramsInheritanceStrategy,this.environmentInjector),x({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(u,"",jl.NoDataFromResolver)}}))}),x(u=>{const f=new Jy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}))}),y_(c=>{const u=f=>{const _=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(f.routeConfig).pipe(x(g=>{f.component=g}),(0,U.T)(()=>{})));for(const g of f.children)_.push(...u(g));return _};return Hh(u(c.targetSnapshot.root)).pipe(iC(null),Ye(1))}),y_(()=>this.afterPreactivation()),Y(()=>{const{currentSnapshot:c,targetSnapshot:u}=r,f=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return f?gs(f).pipe((0,U.T)(()=>r)):pt(r)}),(0,U.T)(c=>{const u=function b$(s,i,e){const n=sv(s,i._root,e?e._root:void 0);return new S_(n,i)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=r={...c,targetRouterState:u},this.currentNavigation.targetRouterState=u,r}),x(()=>{this.events.next(new qT)}),((s,i,e,n)=>(0,U.T)(o=>(new T$(i,o.targetRouterState,o.currentRouterState,e,n).activate(s),o)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ye(1),x({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ad(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),zs(this.transitionAbortSubject.pipe(x(c=>{throw c}))),$h(()=>{!a&&!l&&this.cancelNavigationTransition(r,"",jl.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Lc(c=>{if(l=!0,aL(c))this.events.next(new Yh(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode)),function rL(s){return aL(s)&&Xh(s.url)}(c)?this.events.next(new qy(c.url)):r.resolve(!1);else{this.events.next(new dC(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0));try{r.resolve(e.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Nr}))}))}cancelNavigationTransition(e,n,o){const r=new Yh(e.id,this.urlSerializer.serialize(e.extractedUrl),n,o);this.events.next(r),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function W$(s){return s!==g_}let Y$=(()=>{class s{static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275prov=t.jDH({token:s,factory:()=>(0,t.WQX)(wC),providedIn:"root"})}return s})();class _M{shouldDetach(i){return!1}store(i,e){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,e){return i.routeConfig===e.routeConfig}}let wC=(()=>{class s extends _M{static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(s)))(o||s)}})();static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),wL=(()=>{class s{static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275prov=t.jDH({token:s,factory:()=>(0,t.WQX)(fk),providedIn:"root"})}return s})(),fk=(()=>{class s extends wL{constructor(){super(...arguments),this.location=(0,t.WQX)(tn),this.urlSerializer=(0,t.WQX)(gf),this.options=(0,t.WQX)(k_,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,t.WQX)(mM),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new J1,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ZT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{"popstate"===n.type&&e(n.url,n.state)})}handleRouterEvent(e,n){if(e instanceof cC)this.stateMemento=this.createStateMemento();else if(e instanceof nv)this.rawUrlTree=n.initialUrl;else if(e instanceof WT){if("eager"===this.urlUpdateStrategy&&!n.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(o,n)}}else e instanceof qT?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,"deferred"===this.urlUpdateStrategy&&(n.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,n))):e instanceof Yh&&(e.code===jl.GuardRejected||e.code===jl.NoDataFromResolver)?this.restoreHistory(n):e instanceof dC?this.restoreHistory(n,!0):e instanceof Ad&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,n){const o=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(o)||n.extras.replaceUrl){const a={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(o,"",a)}else{const r={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId+1)};this.location.go(o,"",r)}}restoreHistory(e,n=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-this.browserPageId;0!==r?this.location.historyGo(r):this.currentUrlTree===e.finalUrl&&0===r&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(s)))(o||s)}})();static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var yf=function(s){return s[s.COMPLETE=0]="COMPLETE",s[s.FAILED=1]="FAILED",s[s.REDIRECTING=2]="REDIRECTING",s}(yf||{});function K$(s,i){s.events.pipe(z(e=>e instanceof Ad||e instanceof Yh||e instanceof dC||e instanceof nv),(0,U.T)(e=>e instanceof Ad||e instanceof nv?yf.COMPLETE:e instanceof Yh&&(e.code===jl.Redirect||e.code===jl.SupersededByNewNavigation)?yf.REDIRECTING:yf.FAILED),z(e=>e!==yf.REDIRECTING),Ye(1)).subscribe(()=>{i()})}function J$(s){throw s}const q$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Qi=(()=>{class s{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,t.WQX)(t.H3F),this.stateManager=(0,t.WQX)(wL),this.options=(0,t.WQX)(k_,{optional:!0})||{},this.pendingTasks=(0,t.WQX)(t.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,t.WQX)(pk),this.urlSerializer=(0,t.WQX)(gf),this.location=(0,t.WQX)(tn),this.urlHandlingStrategy=(0,t.WQX)(mM),this._events=new Xe.B,this.errorHandler=this.options.errorHandler||J$,this.navigated=!1,this.routeReuseStrategy=(0,t.WQX)(Y$),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,t.WQX)(xu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,t.WQX)(nk,{optional:!0}),this.eventsSubscription=new be.yU,this.isNgZoneEnabled=(0,t.WQX)(t.SKi)instanceof t.SKi&&t.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(n=>{try{const o=this.navigationTransitions.currentTransition,r=this.navigationTransitions.currentNavigation;if(null!==o&&null!==r)if(this.stateManager.handleRouterEvent(n,r),n instanceof Yh&&n.code!==jl.Redirect&&n.code!==jl.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof Ad)this.navigated=!0;else if(n instanceof qy){const a=this.urlHandlingStrategy.merge(n.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||W$(o.source)};this.scheduleNavigation(a,g_,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function Q$(s){return!(s instanceof qT||s instanceof qy)})(n)&&this._events.next(n)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),g_,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",n)},0)})}navigateToSyncWithBrowser(e,n,o){const r={replaceUrl:!0},a=o?.navigationId?o:null;if(o){const c={...o};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(r.state=c)}const l=this.parseUrl(e);this.scheduleNavigation(l,n,a,r)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(ik),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){const{relativeTo:o,queryParams:r,fragment:a,queryParamsHandling:l,preserveFragment:c}=n,u=c?this.currentUrlTree.fragment:a;let _,f=null;switch(l){case"merge":f={...this.currentUrlTree.queryParams,...r};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=r||null}null!==f&&(f=this.removeEmptyProps(f));try{_=Xy(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),_=this.currentUrlTree.root}return W8(_,e,f,u??null)}navigateByUrl(e,n={skipLocationChange:!1}){const o=Xh(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(r,g_,null,n)}navigate(e,n={skipLocationChange:!1}){return function DL(s){for(let i=0;i<s.length;i++)if(null==s[i])throw new t.wOt(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let o;if(o=!0===n?{...q$}:!1===n?{...gM}:n,Xh(e))return F8(this.currentUrlTree,e,o);const r=this.parseUrl(e);return F8(this.currentUrlTree,r,o)}removeEmptyProps(e){return Object.entries(e).reduce((n,[o,r])=>(null!=r&&(n[o]=r),n),{})}scheduleNavigation(e,n,o,r,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((_,g)=>{l=_,c=g});const f=this.pendingTasks.add();return K$(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:r,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(_=>Promise.reject(_))}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),Hl=(()=>{class s{constructor(e,n,o,r,a,l){this.router=e,this.route=n,this.tabIndexAttribute=o,this.renderer=r,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new Xe.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=e.events.subscribe(u=>{u instanceof Ad&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,n,o,r,a){const l=this.urlTree;return!!(null===l||this.isAnchorElement&&(0!==e||n||o||r||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(l,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const e=this.urlTree;this.href=null!==e&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;const n=null===this.href?null:(0,t.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(e,n){const o=this.renderer,r=this.el.nativeElement;null!==n?o.setAttribute(r,e,n):o.removeAttribute(r,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Qi),t.rXU(Ha),t.kS0("tabindex"),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(Ei))};static#t=this.\u0275dir=t.FsC({type:s,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,o){1&n&&t.bIt("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&n&&t.BMQ("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[t.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",t.L39],skipLocationChange:[t.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",t.L39],replaceUrl:[t.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",t.L39],routerLink:"routerLink"},standalone:!0,features:[t.GFd,t.OA$]})}return s})(),mk=(()=>{class s{get isActive(){return this._isActive}constructor(e,n,o,r,a){this.router=e,this.element=n,this.renderer=o,this.cdr=r,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new t.bkB,this.routerEventsSubscription=e.events.subscribe(l=>{l instanceof Ad&&this.update()})}ngAfterContentInit(){pt(this.links.changes,pt(null)).pipe(W1()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=gs(e).pipe(W1()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(e){const n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter(o=>!!o)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const n=function Z$(s){return!!s.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{const r=o.urlTree;return!!r&&e.isActive(r,n)}}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Qi),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(Hl,8))};static#t=this.\u0275dir=t.FsC({type:s,selectors:[["","routerLinkActive",""]],contentQueries:function(n,o,r){if(1&n&&t.wni(r,Hl,5),2&n){let a;t.mGM(a=t.lsd())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[t.OA$]})}return s})();class OL{}let eX=(()=>{class s{constructor(e,n,o,r,a){this.router=e,this.injector=o,this.preloadingStrategy=r,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(z(e=>e instanceof Ad),Ou(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){const o=[];for(const r of n){r.providers&&!r._injector&&(r._injector=(0,t.Ol2)(r.providers,e,`Route: ${r.path}`));const a=r._injector??e,l=r._loadedInjector??a;(r.loadChildren&&!r._loadedRoutes&&void 0===r.canLoad||r.loadComponent&&!r._loadedComponent)&&o.push(this.preloadConfig(a,r)),(r.children||r._loadedRoutes)&&o.push(this.processRoutes(l,r.children??r._loadedRoutes))}return gs(o).pipe(W1())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let o;o=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(e,n):pt(null);const r=o.pipe(fr(a=>null===a?pt(void 0):(n._loadedRoutes=a.routes,n._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));return n.loadComponent&&!n._loadedComponent?gs([r,this.loader.loadComponent(n)]).pipe(W1()):r})}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(Qi),t.KVO(t.Ql9),t.KVO(t.uvJ),t.KVO(OL),t.KVO(hk))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const _k=new t.nKC("");let TL=(()=>{class s{constructor(e,n,o,r,a={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=o,this.zone=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof cC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ad?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof nv&&e.code===XT.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof pC&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new pC(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){t.QTQ()};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();function Au(s,i){return{\u0275kind:s,\u0275providers:i}}function ML(){const s=(0,t.WQX)(t.zZn);return i=>{const e=s.get(t.o8S);if(i!==e.components[0])return;const n=s.get(Qi),o=s.get(gk);1===s.get(IL)&&n.initialNavigation(),s.get(AL,null,t.$GK.Optional)?.setUpPreloading(),s.get(_k,null,t.$GK.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const gk=new t.nKC("",{factory:()=>new Xe.B}),IL=new t.nKC("",{providedIn:"root",factory:()=>1}),AL=new t.nKC("");function kue(s){return Au(0,[{provide:AL,useExisting:eX},{provide:OL,useExisting:s}])}function rX(s){return Au(9,[{provide:kL,useValue:$$},{provide:kC,useValue:{skipNextTransition:!!s?.skipInitialTransition,...s}}])}const SM=new t.nKC("ROUTER_FORROOT_GUARD"),LL=[tn,{provide:gf,useClass:j8},Qi,fC,{provide:Ha,useFactory:function nX(s){return s.routerState.root},deps:[Qi]},hk,[]];let CM=(()=>{class s{constructor(e){}static forRoot(e,n){return{ngModule:s,providers:[LL,[],{provide:xu,multi:!0,useValue:e},{provide:SM,useFactory:GL,deps:[[Qi,new t.Xx1,new t.kdw]]},{provide:k_,useValue:n||{}},n?.useHash?{provide:Ei,useClass:gt}:{provide:Ei,useClass:vi},{provide:_k,useFactory:()=>{const s=(0,t.WQX)(t_),i=(0,t.WQX)(t.SKi),e=(0,t.WQX)(k_),n=(0,t.WQX)(pk),o=(0,t.WQX)(gf);return e.scrollOffset&&s.setOffset(e.scrollOffset),new TL(o,n,s,i,e)}},n?.preloadingStrategy?kue(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?bM(n):[],n?.bindToComponentInputs?Au(8,[iL,{provide:nk,useExisting:iL}]).\u0275providers:[],n?.enableViewTransitions?rX().\u0275providers:[],[{provide:PL,useFactory:ML},{provide:t.iLQ,multi:!0,useExisting:PL}]]}}static forChild(e){return{ngModule:s,providers:[{provide:xu,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(SM,8))};static#t=this.\u0275mod=t.$C({type:s});static#n=this.\u0275inj=t.G2t({})}return s})();function GL(s){return"guarded"}function bM(s){return["disabled"===s.initialNavigation?Au(3,[{provide:t.hnV,multi:!0,useFactory:()=>{const i=(0,t.WQX)(Qi);return()=>{i.setUpLocationChangeListener()}}},{provide:IL,useValue:2}]).\u0275providers:[],"enabledBlocking"===s.initialNavigation?Au(2,[{provide:IL,useValue:0},{provide:t.hnV,multi:!0,deps:[t.zZn],useFactory:i=>{const e=i.get(it,Promise.resolve());return()=>e.then(()=>new Promise(n=>{const o=i.get(Qi),r=i.get(gk);K$(o,()=>{n(!0)}),i.get(pk).afterPreactivation=()=>(n(!0),r.closed?pt(void 0):r),o.initialNavigation()}))}}]).\u0275providers:[]]}const PL=new t.nKC("");class At{static#e=this.baseUrl="../lacos";static#t=this.baseApiUrl=`${At.baseUrl}/api`;static#n=this.baseAttachmentsUrl=`${At.baseUrl}/attachments`}class uX{constructor(i,e){this.userName=i,this.password=e}}class kf{constructor(i,e,n,o,r,a){this.id=i,this.userName=e,this.enabled=n,this.role=o,this.accessToken=r,this.operatorId=a}static build(i){return new kf(i.id,i.userName,i.enabled,i.role,i.accessToken,i.operatorId)}}var Pt=function(s){return s[s.Administrator=0]="Administrator",s[s.Operator=1]="Operator",s[s.Customer=2]="Customer",s}(Pt||{});class Pc{constructor(i,e,n,o){this.userName=i,this.enabled=e,this.role=n,this.password=o}static empty(){return new Pc(null,!0,Pt.Operator,null)}static fromUser(i){return new Pc(i.userName,i.enabled,i.role,null)}}const Wi=s=>null!=s,yM=s=>null==s,cv=s=>Array.isArray(s),kM=s=>"function"==typeof s,TC=s=>"string"==typeof s,dv=s=>!(s=>yM(s)||0===s.trim().length)(s),O_=s=>!isNaN(s-parseFloat(s)),wf=s=>s&&s.getTime,Nu=s=>Wi(s.filters),Sk=(s,i,e)=>n=>s(n)?i(n):e(n),Fc=(...s)=>i=>s.reduceRight((e,n)=>n(e),i),fX=s=>s,T_=("",{}),jL=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;T_.undefined=s=>s;const Lu=(s,i)=>{const e=s+i;if(T_[e])return T_[e];const n=[];return s.replace(jL,(o,r,a,l)=>{n.push(Wi(r)?r:a||l)}),T_[e]=o=>{let r=o;for(let a=0;a<n.length;a++)if(r=r[n[a]],!Wi(r)&&i)return r;return r},T_[e]},HL=({field:s,value:i,ignoreCase:e,operator:n})=>({value:`'${i.replace(/'/g,"''")}'`,field:s,ignoreCase:e,operator:n}),$L=({field:s,value:i,ignoreCase:e,operator:n})=>({value:`${encodeURIComponent(i)}`,field:s,ignoreCase:e,operator:n}),vX=s=>TC(s.value),M_=s=>i=>[s,i],SX=()=>null,IM=s=>i=>Wi(s(i)),WL=s=>i=>(s=>Wi(s)&&cv(s)&&s.length>0)(s(i)),I_=(s,i)=>Sk(s,i,SX),MC=(s,i)=>e=>s(e).map(i).join("~"),KL=Fc(...[['"',""],[":","-"]].map(([i,e])=>n=>n.replace(new RegExp(i,"g"),e))),EX=i=>i.slice(0,i.indexOf(".")),AM=({field:s,dir:i="asc"})=>`${s}-${i}`,bk=Lu("take"),RM=Lu("aggregates"),JL=Lu("skip"),kX=Lu("group"),qL=Lu("sort",!0),wX=MC(qL,AM),QL=MC(kX,AM),ZL=MC(RM,({field:s,aggregate:i})=>`${s}-${i}`),tG=Fc(s=>`datetime'${s}'`,EX,KL,JSON.stringify,s=>new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()))),sG=Fc(M_("page"),({skip:s,take:i})=>Math.floor((s||0)/i)+1),DX=Fc(M_("pageSize"),bk),Iue=Fc(M_("group"),QL),xue=Fc(M_("sort"),wX),Aue=Fc(M_("aggregate"),ZL),Rue=I_(IM(JL),sG),Nue=I_(IM(bk),DX),Lue=I_(WL(kX),Iue),Gue=I_(IM(RM),Aue),Pue=Fc(I_(WL(qL),xue),s=>Object.assign({},s,{sort:(qL(s)||[]).filter(({dir:i})=>dv(i))})),oG=({field:s})=>dv(s),Ek=({field:s,operator:i,value:e})=>`${s}~${i}~${e}`,Fue=Sk(s=>wf(s.value),Fc(Ek,({field:s,value:i,ignoreCase:e,operator:n})=>({value:tG(i),field:s,ignoreCase:e,operator:n})),Ek),Bue=({logic:s})=>`~${s}~`,OX=s=>((s,i)=>e=>(s=>(i,...e)=>s()?`${i[0]}${e[0]}${i[1]}`:e[0])(()=>e.filters.length>1)`(${e.filters.map(s).join(i(e))})`)(i=>Sk(Nu,OX(s),(s=>I_(oG,Sk(vX,Fc(Ek,HL,s?$L:fX),Fue)))(s))(i),Bue),Vue=({filter:s},i)=>{if(s&&s.filters){const e=OX(i)(s);if(e.length)return["filter",e]}return null},ul=s=>(s=>s.reduce((i,[e,n])=>[...i,`${e}=${n}`],[]))(Object.keys(s).map(((s,i=!0)=>e=>({aggregates:Gue(s),filter:Vue(s,i),group:Lue(s),skip:Rue(s),sort:Pue(s),take:Nue(s)}[e]))(s)).filter(Wi)).join("&"),NM=(s,i,e)=>(i[s]=e,i),Df=s=>i=>{const e=i[s];return Wi(e)?e:i[(s=>s.replace(/(^[A-Z])/g,(i,e)=>e.toLowerCase()))(s)]},LM=(Df("Member"),Df("AggregateMethodName"),Df("Value"),s=>i=>Object.keys(i).reduce(s.bind(null,i),{})),xX=LM((s,i,e)=>NM(e.toLowerCase(),i,s[e])),jue=LM((s,i,e)=>NM(e,i,xX(s[e]))),rG=(s,i)=>Wi(s)?s:i,aG=Fc(({field:s,hasSubgroups:i,value:e,aggregates:n,items:o})=>({aggregates:jue(n),field:s,items:i?o.map(aG):o,value:e}),s=>({aggregates:s.Aggregates||s.aggregates,field:s.Member||s.member||s.field,hasSubgroups:s.HasSubgroups||s.hasSubgroups||!1,items:s.Items||s.items,value:rG(s.Key,rG(s.key,s.value))})),Lr=s=>s.map(aG),lG=(s,i)=>yM(s)?s===i?0:-1:yM(i)?1:s.localeCompare?s.localeCompare(i):s>i?1:s<i?-1:0,cG=(s,i)=>lG(i,s),$ue=s=>{if("function"==typeof s.compare)return s.compare;const i=Lu(s.field,!0);return(e,n)=>("asc"===s.dir?lG:cG)(i(e),i(n))},dG=(s,i)=>0,yk=(s,i)=>(s.push(i),s),hG=s=>i=>(e,n,o)=>i(e,s(n,o)),pG=s=>i=>(e,n)=>s(n)?i(e,n):e,fG=s=>Wi(s.__value),kk=(s,i,e)=>{let n=i;for(let o=0,r=e.length;o<r;o++)if(n=s(n,e[o],o),fG(n)){n=n.__value;break}return n},_G=hG(s=>s),FX=(s,i=[],e=_G)=>{const n={};return i.length?((s={})=>(Object.keys(s).forEach(i=>{const e=s[i];Object.keys(e).forEach(n=>{e[n]=e[n].result()})}),s))(kk(e((s=>{const i=s.map(e=>{const n=Lu(e.field,!0),o=(e.aggregate||"").toLowerCase(),r=Lu(o,!0);return(a,l)=>{const c=a[e.field]||{},u=r(c)||(s=>({average:()=>{let i=0,e=0;return{calc:n=>{O_(n)?(i+=n,e++):i=n},result:()=>O_(i)?i/e:i}},count:()=>{let i=0;return{calc:()=>i++,result:()=>i}},max:()=>{let i=Number.NEGATIVE_INFINITY;return{calc:e=>{i=O_(i)||wf(i)?i:e,i<e&&(O_(e)||wf(e))&&(i=e)},result:()=>i}},min:()=>{let i=Number.POSITIVE_INFINITY;return{calc:e=>{i=O_(i)||wf(i)?i:e,i>e&&(O_(e)||wf(e))&&(i=e)},result:()=>i}},sum:()=>{let i=0;return{calc:e=>{e=Wi(e)?e:0,i+=e},result:()=>i}}}[s]()))(o);return u.calc(n(l)),c[e.aggregate]=u,a[e.field]=c,a}});return(e,n)=>i.reduce((o,r)=>r(o,n),e)})(i)),n,s)):n},PM=s=>{s.filters&&(s.filters=s.filters.map(i=>{const e=Object.assign({},i);return!Nu(i)&&TC(i.operator)&&(e.operator=(s=>({"!=":"neq","<":"lt","<=":"lte","==":"eq",">":"gt",">=":"gte",equal:"eq",equals:"eq",equalto:"eq",ge:"gte",greater:"gt",greaterthan:"gt",greaterthanequal:"gte",isempty:"isempty",isequalto:"eq",isgreaterthan:"gt",isgreaterthanorequalto:"gte",islessthan:"lt",islessthanorequalto:"lte",isnotempty:"isnotempty",isnotequalto:"neq",isnull:"isnull",le:"lte",less:"lt",lessthan:"lt",lessthanequal:"lte",ne:"neq",notequal:"neq",notequals:"neq",notequalto:"neq",notsubstringof:"doesnotcontain"}[s.toLowerCase()]||s))(i.operator)),Nu(i)&&PM(e),e}))},Of=s=>(Wi(s)&&(s=(s=>Nu(s)?Object.assign({},s):{filters:cv(s)?s:[s],logic:"and"})(s),PM(s)),s),vG={or:{concat:(s,i)=>e=>s(e)||i(e),identity:()=>!1},and:{concat:(s,i)=>e=>s(e)&&i(e),identity:()=>!0}},UX={contains:(s,i)=>(s||"").indexOf(i)>=0,doesnotcontain:(s,i)=>-1===(s||"").indexOf(i),doesnotendwith:(s,i)=>(s||"").indexOf(i,(s||"").length-(i||"").length)<0,doesnotstartwith:(s,i)=>-1===(s||"").lastIndexOf(i,0),endswith:(s,i)=>(s||"").indexOf(i,(s||"").length-(i||"").length)>=0,eq:(s,i)=>s===i,gt:(s,i)=>s>i,gte:(s,i)=>s>=i,isempty:s=>""===s,isnotempty:s=>""!==s,isnotnull:s=>Wi(s),isnull:s=>yM(s),lt:(s,i)=>s<i,lte:(s,i)=>s<=i,neq:(s,i)=>s!=i,startswith:(s,i)=>0===(s||"").lastIndexOf(i,0)},BX=/^\/Date\((.*?)\)\/$/,BM=s=>{const i=vG[s.logic];return s.filters.filter(Wi).map(e=>Nu(e)?BM(e):(({field:s,ignoreCase:i,value:e,operator:n})=>{s=Wi(s)?s:a=>a,i=!Wi(i)||i;const o=((s,i,e)=>{if(!Wi(i))return s;let n=s;if(TC(i)){const o=BX.exec(i);o?i=new Date(+o[1]):n=r=>{const a=s(r);return"string"==typeof a&&e?a.toLowerCase():O_(a)?a+"":a}}return wf(i)?o=>{const r=n(o);return wf(r)?r.getTime():r}:n})(kM(s)?s:Lu(s,!0),e,i);e=((s,i)=>{if(null!=s&&TC(s)){const e=BX.exec(s);if(e)return new Date(+e[1]).getTime();if(i)return s.toLowerCase()}else if(null!=s&&wf(s))return s.getTime();return s})(e,i);const r=kM(n)?n:UX[n];return a=>r(o(a),e,i)})(e)).reduce(i.concat,i.identity)},wk=s=>s&&0!==s.filters.length?BM(s):()=>!0,SG=(s,i)=>!Wi(i)||Nu(i)&&0===i.filters.length?s:s.filter(wk(Of(i))),IC=s=>(s=cv(s)?s:[s]).map(i=>Object.assign({dir:"asc"},i)),zX=hG(s=>s),Dk=(s,i=[],e=zX,n=s)=>{if(!(i=IC(i)).length)return s;const o=i[0],a=kk(e((s=>{const i=Lu(s,!0);let e=0;return(n,o)=>{n[s]=n[s]||{};const r=i(o),a=(s=>(s=Wi(s)&&s.getTime?s.getTime():s)+"")(r),l=n[s][a]||{__position:e++,aggregates:{},items:[],value:r};return l.items.push(o),n[s][a]=l,n}})(o.field)),{},s),l=[];return Object.keys(a).forEach(c=>{Object.keys(a[c]).forEach(u=>{const f=a[c][u];let _={},g=n;Wi(o.aggregates)&&(g=SG(n,{field:o.field,ignoreCase:!1,operator:"eq",value:f.value}),_=FX(g,o.aggregates)),l[f.__position]={aggregates:_,field:c,items:i.length>1?Dk(f.items,i.slice(1),zX,g):f.items,value:f.value}})}),l},Tf=(s,i)=>{if(i.some(e=>Wi(e.dir)||Wi(e.compare))){s=s.slice(0);const e=(s=>s.filter(i=>Wi(i.dir)||Wi(i.compare)).map(i=>$ue(i)).reduce((i,e)=>(n,o)=>i(n,o)||e(n,o),dG))(i);s.sort(e)}return s},HX=(s,i)=>i?s.filter(i):s,xC=(s,i)=>{const{skip:e,take:n,filter:o,sort:r,group:a}=i,l=[...IC(a||[]),...r||[]];l.length&&(s=Tf(s,l));const c=Wi(o)&&pG.length,u=Wi(a)&&a.length;if(!c&&!u)return{data:n?s.slice(e,e+n):s,total:s.length};let f;const _=[];let g;if(c?(g=wk(Of(o)),f=((s,i)=>{let e=0;for(let n=0,o=s.length;n<o;n++)i(s[n])&&e++;return e})(s,g),_.push(pG(g))):f=s.length,Wi(e)&&Wi(n)&&(_.push((s=>i=>(e,n)=>s--<=0?i(e,n):e)(e)),_.push((s=>i=>(e,n)=>s-- >0?i(e,n):(s=>fG(s)?s:{__value:s,reduced:!0})(e))(n))),_.length){const S=Fc(..._);return{data:u?Dk(s,a,S,HX(s,g)):kk(S(yk),[],s),total:f}}return{data:u?Dk(s,a):s,total:f}};var Uc=_e(467);class Mf{}class eo{}class yo{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?"string"==typeof i?this.lazyInit=()=>{this.headers=new Map,i.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const o=e.slice(0,n),r=o.toLowerCase(),a=e.slice(n+1).trim();this.maybeSetNormalizedName(o,r),this.headers.has(r)?this.headers.get(r).push(a):this.headers.set(r,[a])}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((e,n)=>{this.setHeaderEntries(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const e=this.headers.get(i.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,e){return this.clone({name:i,value:e,op:"a"})}set(i,e){return this.clone({name:i,value:e,op:"s"})}delete(i,e){return this.clone({name:i,value:e,op:"d"})}maybeSetNormalizedName(i,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,i)}init(){this.lazyInit&&(this.lazyInit instanceof yo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(e=>{this.headers.set(e,i.headers.get(e)),this.normalizedNames.set(e,i.normalizedNames.get(e))})}clone(i){const e=new yo;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof yo?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([i]),e}applyUpdate(i){const e=i.name.toLowerCase();switch(i.op){case"a":case"s":let n=i.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(i.name,e);const o=("a"===i.op?this.headers.get(e):void 0)||[];o.push(...n),this.headers.set(e,o);break;case"d":const r=i.value;if(r){let a=this.headers.get(e);if(!a)return;a=a.filter(l=>-1===r.indexOf(l)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(i,e){const n=(Array.isArray(e)?e:[e]).map(r=>r.toString()),o=i.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(i,o)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>i(this.normalizedNames.get(e),this.headers.get(e)))}}class Bc{encodeKey(i){return jM(i)}encodeValue(i){return jM(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const XX=/%(\d[a-f0-9])/gi,pv={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jM(s){return encodeURIComponent(s).replace(XX,(i,e)=>pv[e]??i)}function RC(s){return`${s}`}class If{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new Bc,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function AC(s,i){const e=new Map;return s.length>0&&s.replace(/^\?/,"").split("&").forEach(o=>{const r=o.indexOf("="),[a,l]=-1==r?[i.decodeKey(o),""]:[i.decodeKey(o.slice(0,r)),i.decodeValue(o.slice(r+1))],c=e.get(a)||[];c.push(l),e.set(a,c)}),e}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(e=>{const n=i.fromObject[e],o=Array.isArray(n)?n.map(RC):[RC(n)];this.map.set(e,o)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const e=this.map.get(i);return e?e[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,e){return this.clone({param:i,value:e,op:"a"})}appendAll(i){const e=[];return Object.keys(i).forEach(n=>{const o=i[n];Array.isArray(o)?o.forEach(r=>{e.push({param:n,value:r,op:"a"})}):e.push({param:n,value:o,op:"a"})}),this.clone(e)}set(i,e){return this.clone({param:i,value:e,op:"s"})}delete(i,e){return this.clone({param:i,value:e,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const e=this.encoder.encodeKey(i);return this.map.get(i).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const e=new If({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(i),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const e=("a"===i.op?this.map.get(i.param):void 0)||[];e.push(RC(i.value)),this.map.set(i.param,e);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let n=this.map.get(i.param)||[];const o=n.indexOf(RC(i.value));-1!==o&&n.splice(o,1),n.length>0?this.map.set(i.param,n):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class Fo{constructor(){this.map=new Map}set(i,e){return this.map.set(i,e),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}}function bG(s){return typeof ArrayBuffer<"u"&&s instanceof ArrayBuffer}function ko(s){return typeof Blob<"u"&&s instanceof Blob}function fv(s){return typeof FormData<"u"&&s instanceof FormData}class hl{constructor(i,e,n,o){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function CG(s){switch(s){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==n?n:null,r=o):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers??=new yo,this.context??=new Fo,this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const l=e.indexOf("?");this.urlWithParams=e+(-1===l?"?":l<e.length-1?"&":"")+a}}else this.params=new If,this.urlWithParams=e}serializeBody(){return null===this.body?null:bG(this.body)||ko(this.body)||fv(this.body)||function mv(s){return typeof URLSearchParams<"u"&&s instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof If?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||fv(this.body)?null:ko(this.body)?this.body.type||null:bG(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof If?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){const e=i.method||this.method,n=i.url||this.url,o=i.responseType||this.responseType,r=void 0!==i.body?i.body:this.body,a=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,l=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let c=i.headers||this.headers,u=i.params||this.params;const f=i.context??this.context;return void 0!==i.setHeaders&&(c=Object.keys(i.setHeaders).reduce((_,g)=>_.set(g,i.setHeaders[g]),c)),i.setParams&&(u=Object.keys(i.setParams).reduce((_,g)=>_.set(g,i.setParams[g]),u)),new hl(e,n,r,{params:u,headers:c,context:f,reportProgress:l,responseType:o,withCredentials:a})}}var Gr=function(s){return s[s.Sent=0]="Sent",s[s.UploadProgress=1]="UploadProgress",s[s.ResponseHeader=2]="ResponseHeader",s[s.DownloadProgress=3]="DownloadProgress",s[s.Response=4]="Response",s[s.User=5]="User",s}(Gr||{});class _v{constructor(i,e=Af.Ok,n="OK"){this.headers=i.headers||new yo,this.status=void 0!==i.status?i.status:e,this.statusText=i.statusText||n,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class NC extends _v{constructor(i={}){super(i),this.type=Gr.ResponseHeader}clone(i={}){return new NC({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class Rd extends _v{constructor(i={}){super(i),this.type=Gr.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new Rd({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class xf extends _v{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${i.url||"(unknown url)"}`:`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}}var Af=function(s){return s[s.Continue=100]="Continue",s[s.SwitchingProtocols=101]="SwitchingProtocols",s[s.Processing=102]="Processing",s[s.EarlyHints=103]="EarlyHints",s[s.Ok=200]="Ok",s[s.Created=201]="Created",s[s.Accepted=202]="Accepted",s[s.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",s[s.NoContent=204]="NoContent",s[s.ResetContent=205]="ResetContent",s[s.PartialContent=206]="PartialContent",s[s.MultiStatus=207]="MultiStatus",s[s.AlreadyReported=208]="AlreadyReported",s[s.ImUsed=226]="ImUsed",s[s.MultipleChoices=300]="MultipleChoices",s[s.MovedPermanently=301]="MovedPermanently",s[s.Found=302]="Found",s[s.SeeOther=303]="SeeOther",s[s.NotModified=304]="NotModified",s[s.UseProxy=305]="UseProxy",s[s.Unused=306]="Unused",s[s.TemporaryRedirect=307]="TemporaryRedirect",s[s.PermanentRedirect=308]="PermanentRedirect",s[s.BadRequest=400]="BadRequest",s[s.Unauthorized=401]="Unauthorized",s[s.PaymentRequired=402]="PaymentRequired",s[s.Forbidden=403]="Forbidden",s[s.NotFound=404]="NotFound",s[s.MethodNotAllowed=405]="MethodNotAllowed",s[s.NotAcceptable=406]="NotAcceptable",s[s.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",s[s.RequestTimeout=408]="RequestTimeout",s[s.Conflict=409]="Conflict",s[s.Gone=410]="Gone",s[s.LengthRequired=411]="LengthRequired",s[s.PreconditionFailed=412]="PreconditionFailed",s[s.PayloadTooLarge=413]="PayloadTooLarge",s[s.UriTooLong=414]="UriTooLong",s[s.UnsupportedMediaType=415]="UnsupportedMediaType",s[s.RangeNotSatisfiable=416]="RangeNotSatisfiable",s[s.ExpectationFailed=417]="ExpectationFailed",s[s.ImATeapot=418]="ImATeapot",s[s.MisdirectedRequest=421]="MisdirectedRequest",s[s.UnprocessableEntity=422]="UnprocessableEntity",s[s.Locked=423]="Locked",s[s.FailedDependency=424]="FailedDependency",s[s.TooEarly=425]="TooEarly",s[s.UpgradeRequired=426]="UpgradeRequired",s[s.PreconditionRequired=428]="PreconditionRequired",s[s.TooManyRequests=429]="TooManyRequests",s[s.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",s[s.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",s[s.InternalServerError=500]="InternalServerError",s[s.NotImplemented=501]="NotImplemented",s[s.BadGateway=502]="BadGateway",s[s.ServiceUnavailable=503]="ServiceUnavailable",s[s.GatewayTimeout=504]="GatewayTimeout",s[s.HttpVersionNotSupported=505]="HttpVersionNotSupported",s[s.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",s[s.InsufficientStorage=507]="InsufficientStorage",s[s.LoopDetected=508]="LoopDetected",s[s.NotExtended=510]="NotExtended",s[s.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",s}(Af||{});function LC(s,i){return{body:i,headers:s.headers,context:s.context,observe:s.observe,params:s.params,reportProgress:s.reportProgress,responseType:s.responseType,withCredentials:s.withCredentials,transferCache:s.transferCache}}let js=(()=>{class s{constructor(e){this.handler=e}request(e,n,o={}){let r;if(e instanceof hl)r=e;else{let c,u;c=o.headers instanceof yo?o.headers:new yo(o.headers),o.params&&(u=o.params instanceof If?o.params:new If({fromObject:o.params})),r=new hl(e,n,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}const a=pt(r).pipe(Ou(c=>this.handler.handle(c)));if(e instanceof hl||"events"===o.observe)return a;const l=a.pipe(z(c=>c instanceof Rd));switch(o.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return l.pipe((0,U.T)(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe((0,U.T)(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe((0,U.T)(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return l.pipe((0,U.T)(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new If).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,o={}){return this.request("PATCH",e,LC(o,n))}post(e,n,o={}){return this.request("POST",e,LC(o,n))}put(e,n,o={}){return this.request("PUT",e,LC(o,n))}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(Mf))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();function XM(s,i){return i(s)}function yG(s,i){return(e,n)=>i.intercept(e,{handle:o=>s(o,n)})}const Tk=new t.nKC(""),GC=new t.nKC(""),PC=new t.nKC(""),Mk=new t.nKC("");function WM(){let s=null;return(i,e)=>{null===s&&(s=((0,t.WQX)(Tk,{optional:!0})??[]).reduceRight(yG,XM));const n=(0,t.WQX)(t.TgB),o=n.add();return s(i,e).pipe($h(()=>n.remove(o)))}}let YM=(()=>{class s extends Mf{constructor(e,n){super(),this.backend=e,this.injector=n,this.chain=null,this.pendingTasks=(0,t.WQX)(t.TgB);const o=(0,t.WQX)(Mk,{optional:!0});this.backend=o??e}handle(e){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(GC),...this.injector.get(PC,[])]));this.chain=o.reduceRight((r,a)=>function YX(s,i,e){return(n,o)=>(0,t.N4e)(e,()=>i(n,r=>s(r,o)))}(r,a,this.injector),XM)}const n=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe($h(()=>this.pendingTasks.remove(n)))}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(eo),t.KVO(t.uvJ))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();const tW=/^\)\]\}',?\n/;let KM=(()=>{class s{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new t.wOt(-2800,!1);const n=this.xhrFactory;return(n.\u0275loadImpl?gs(n.\u0275loadImpl()):pt(null)).pipe(Y(()=>new _s.c(r=>{const a=n.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((k,D)=>a.setRequestHeader(k,D.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const k=e.detectContentTypeHeader();null!==k&&a.setRequestHeader("Content-Type",k)}if(e.responseType){const k=e.responseType.toLowerCase();a.responseType="json"!==k?k:"text"}const l=e.serializeBody();let c=null;const u=()=>{if(null!==c)return c;const k=a.statusText||"OK",D=new yo(a.getAllResponseHeaders()),O=function nW(s){return"responseURL"in s&&s.responseURL?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):null}(a)||e.url;return c=new NC({headers:D,status:a.status,statusText:k,url:O}),c},f=()=>{let{headers:k,status:D,statusText:O,url:I}=u(),N=null;D!==Af.NoContent&&(N=typeof a.response>"u"?a.responseText:a.response),0===D&&(D=N?Af.Ok:0);let P=D>=200&&D<300;if("json"===e.responseType&&"string"==typeof N){const G=N;N=N.replace(tW,"");try{N=""!==N?JSON.parse(N):null}catch(H){N=G,P&&(P=!1,N={error:H,text:N})}}P?(r.next(new Rd({body:N,headers:k,status:D,statusText:O,url:I||void 0})),r.complete()):r.error(new xf({error:N,headers:k,status:D,statusText:O,url:I||void 0}))},_=k=>{const{url:D}=u(),O=new xf({error:k,status:a.status||0,statusText:a.statusText||"Unknown Error",url:D||void 0});r.error(O)};let g=!1;const S=k=>{g||(r.next(u()),g=!0);let D={type:Gr.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(D.total=k.total),"text"===e.responseType&&a.responseText&&(D.partialText=a.responseText),r.next(D)},b=k=>{let D={type:Gr.UploadProgress,loaded:k.loaded};k.lengthComputable&&(D.total=k.total),r.next(D)};return a.addEventListener("load",f),a.addEventListener("error",_),a.addEventListener("timeout",_),a.addEventListener("abort",_),e.reportProgress&&(a.addEventListener("progress",S),null!==l&&a.upload&&a.upload.addEventListener("progress",b)),a.send(l),r.next({type:Gr.Sent}),()=>{a.removeEventListener("error",_),a.removeEventListener("abort",_),a.removeEventListener("load",f),a.removeEventListener("timeout",_),e.reportProgress&&(a.removeEventListener("progress",S),null!==l&&a.upload&&a.upload.removeEventListener("progress",b)),a.readyState!==a.DONE&&a.abort()}})))}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(f3))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();const Ik=new t.nKC(""),sW=new t.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),xk=new t.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ak{}let rW=(()=>{class s{constructor(e,n,o){this.doc=e,this.platform=n,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=S1(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(de),t.KVO(t.Agw),t.KVO(sW))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();function aW(s,i){const e=s.url.toLowerCase();if(!(0,t.WQX)(Ik)||"GET"===s.method||"HEAD"===s.method||e.startsWith("http://")||e.startsWith("https://"))return i(s);const n=(0,t.WQX)(Ak).getToken(),o=(0,t.WQX)(xk);return null!=n&&!s.headers.has(o)&&(s=s.clone({headers:s.headers.set(o,n)})),i(s)}var Rf=function(s){return s[s.Interceptors=0]="Interceptors",s[s.LegacyInterceptors=1]="LegacyInterceptors",s[s.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",s[s.NoXsrfProtection=3]="NoXsrfProtection",s[s.JsonpSupport=4]="JsonpSupport",s[s.RequestsMadeViaParent=5]="RequestsMadeViaParent",s[s.Fetch=6]="Fetch",s}(Rf||{});function lW(...s){const i=[js,KM,YM,{provide:Mf,useExisting:YM},{provide:eo,useExisting:KM},{provide:GC,useValue:aW,multi:!0},{provide:Ik,useValue:!0},{provide:Ak,useClass:rW}];for(const e of s)i.push(...e.\u0275providers);return(0,t.EmA)(i)}const OG=new t.nKC("");function cW(){return function R_(s,i){return{\u0275kind:s,\u0275providers:i}}(Rf.LegacyInterceptors,[{provide:OG,useFactory:WM},{provide:GC,useExisting:OG,multi:!0}])}let dW=(()=>{class s{static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275mod=t.$C({type:s});static#n=this.\u0275inj=t.G2t({providers:[lW(cW())]})}return s})(),Pr=(()=>{class s{constructor(){this._baseKey="lacos_"}get(e,n){e=this._formatKey(e);const o=this._getStorage(n).getItem(e);return null==o?null:JSON.parse(o)}save(e,n,o){n=this._formatKey(n);const r=JSON.stringify(e);this._getStorage(o).setItem(n,r)}delete(e,n){e=this._formatKey(e),this._getStorage(n).removeItem(e)}_getStorage(e){return e?sessionStorage:localStorage}_formatKey(e){return this._baseKey+e}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})(),Ci=(()=>{class s{constructor(e){this._storage=e,this._userChanged=new Xe.B,this._userKey="currentUser",this._currentUser=null,this.userChanged=this._userChanged.asObservable()}getUser(){if(this._currentUser)return this._currentUser;const e=this._storage.get(this._userKey,!1);return e&&(this._currentUser=kf.build(e)),this._currentUser}setUser(e){return this._removeUser(),e=kf.build(e),this._storage.save(e,this._userKey,!1),this._currentUser=e,this._userChanged.next(this._currentUser),this._currentUser}removeUser(){this._removeUser(),this._userChanged.next(null)}hasUser(){return!!this._storage.get(this._userKey,!1)}_removeUser(){this._storage.delete(this._userKey,!1),this._currentUser=null}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(Pr))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})(),mr=(()=>{class s{constructor(e,n){this._http=e,this._userService=n,this._baseUrl=`${At.baseApiUrl}/security`}login(e){return this._http.post(`${this._baseUrl}/login`,e).pipe((0,U.T)(n=>this._userService.setUser(n)))}logout(){return this._http.post(`${this._baseUrl}/logout`,null).pipe((0,U.T)(()=>this._userService.removeUser()))}isAuthenticated(){const e=this._userService.getUser();return!!e&&e.enabled}isAuthorized(...e){if(!this.isAuthenticated())return!1;const n=this._userService.getUser();return e&&e.length&&e.indexOf(n.role)>=0||!e||!e.length}refreshUserData(){return this._http.get(`${this._baseUrl}/users/current`).pipe((0,U.T)(e=>this._userService.setUser(e)))}changePassword(e){return this._http.post(`${this._baseUrl}/users/current/changepassword`,e).pipe((0,U.T)(n=>this._userService.setUser(n)))}readUsers(e){const n=ul(e),o=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/users?${n}`).pipe((0,U.T)(r=>({data:o?Lr(r.data):r.data,total:r.total})))}createUser(e){return this._http.post(`${this._baseUrl}/users`,e).pipe((0,U.T)(n=>kf.build(n)))}updateUser(e,n){return this._http.put(`${this._baseUrl}/users/${n}`,e).pipe((0,U.T)(()=>{}))}getUser(e){return this._http.get(`${this._baseUrl}/users/${e}`).pipe((0,U.T)(n=>kf.build(n)))}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(js),t.KVO(Ci))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();function Cv(s,i){return()=>i.hasUser()&&s.refreshUserData().toPromise()}let fi=(()=>{class s{static#e=this.asInjectableGuard=(e,n)=>(0,t.WQX)(s).canActivate(e,n);constructor(e,n){this._security=e,this._router=n}canActivate(e,n){if(!this._security.isAuthenticated())return this._router.navigate(["/login"]),!1;const o=`/${e.url.join("/")}`;switch(!0){case"/"===o:case"/home"===o:case/^\/activities\/([0-9]{1,}?)$/gi.test(o):case"/interventions"===o:case"/interventions-list"===o:case"/interventions-ko"===o:case"/tickets"===o:case"/orders"===o:case"/activities"===o:case"/activities-from-product"===o:case"/users"===o:case"/customers"===o:case"/suppliers"===o:case"/operators"===o:case"/vehicles"===o:case"/checklist"===o:case"/products"===o:case"/activitytypes"===o:case"/producttypes"===o:case"/jobs"===o:case"/jobs-completed"===o:case"/jobs-suspended"===o:case"/jobs-archive"===o:case"/job-details"===o:case"/jobs-progress-status"===o:case"/purchase-orders"===o:case"/messages-list"===o:case"/interventionmessages-list"===o:case"/notification-operators"===o:case"/helpertypes"===o:case"/helperdocuments"===o:case"/accountingtypes"===o:case"/job-accountings"===o:return this._security.isAuthenticated();default:throw new Error(`Url ${o} sconosciuto`)}}static#t=this.\u0275fac=function(n){return new(n||s)(t.KVO(mr),t.KVO(Qi))};static#n=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})(),It=(()=>{class s{constructor(){this._subscriptions=[],this.console=window.console}ngOnDestroy(){this._subscriptions.forEach(e=>e.unsubscribe())}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275dir=t.FsC({type:s})}return s})();function Ht(...s){const i=tC(s),e=function e$(s,i){return"number"==typeof eC(s)?s.pop():i}(s,1/0),n=s;return n.length?1===n.length?nr(n[0]):W1(e)(gs(n,i)):Nr}var nI=_e(707);function VC(s={}){const{connector:i=(()=>new Xe.B),resetOnError:e=!0,resetOnComplete:n=!0,resetOnRefCountZero:o=!0}=s;return r=>{let a,l,c,u=0,f=!1,_=!1;const g=()=>{l?.unsubscribe(),l=void 0},S=()=>{g(),a=c=void 0,f=_=!1},b=()=>{const k=a;S(),k?.unsubscribe()};return(0,$i.N)((k,D)=>{u++,!_&&!f&&g();const O=c=c??i();D.add(()=>{u--,0===u&&!_&&!f&&(l=Rk(b,o))}),O.subscribe(D),!a&&u>0&&(a=new nI.Ms({next:I=>O.next(I),error:I=>{_=!0,g(),l=Rk(S,e,I),O.error(I)},complete:()=>{f=!0,g(),l=Rk(S,n),O.complete()}}),nr(k).subscribe(a))})(r)}}function Rk(s,i,...e){if(!0===i)return void s();if(!1===i)return;const n=new nI.Ms({next:()=>{n.unsubscribe(),s()}});return nr(i(...e)).subscribe(n)}function iI(s){return z((i,e)=>s<=e)}let Gu=(()=>{class s{constructor(){this.changes=new Fn.t({rtl:void 0})}notify(e){this.changes.next({rtl:e})}get(e){}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),Gi=(()=>{class s{get override(){return!1}ngOnChanges(e){this.register(e),Object.keys(e).some(n=>!e[n].isFirstChange())&&this.service.notifyChanges()}ngOnInit(){this.subscription=this.service.changes.pipe(iI(1)).subscribe(()=>this.register(this))}register(e){Object.keys(e).forEach(o=>this.service.register(o,this[o],this.override))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275dir=t.FsC({type:s,features:[t.OA$]}),s})();const Vc=new t.nKC("Kendo UI Right-to-Left token"),Ve=new t.nKC("Localization key prefix");let j=(()=>{class s{constructor(e,n,o){this.prefix=e,this.messageService=n,this._rtl=o,this.changes=new Fn.t({rtl:this._rtl}),this.dictionary={},n&&(this.subscription=n.changes.pipe((0,U.T)(({rtl:r})=>void 0!==r?r:this._rtl),x(r=>this._rtl=r)).subscribe(r=>{this.dictionary={},this.changes.next({rtl:r})}))}get rtl(){return this._rtl}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}get(e){const n=this.key(e);return this.dictionary[n]}register(e,n,o=!1){const r=this.key(e);let a=n;if(!o){if(Object.hasOwnProperty.call(this.dictionary,r))return;a=this.defaultValue(r,n)}this.dictionary[r]=a}notifyChanges(){this.changes.next({rtl:this.rtl})}key(e){return this.prefix+"."+e}defaultValue(e,n){if(!this.messageService)return n;const o=this.messageService.get(e);return void 0===o?n:o}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Ve),t.KVO(Gu,8),t.KVO(Vc,8))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const Pu={name:"caret-alt-up",content:'<path d="m256 160 128 192H128z" />',viewBox:"0 0 512 512"},Uo={name:"caret-alt-right",content:'<path d="M352 256 160 384V128z" />',viewBox:"0 0 512 512"},Bo={name:"caret-alt-down",content:'<path d="M256 352 128 160h256z" />',viewBox:"0 0 512 512"},Xa={name:"caret-alt-left",content:'<path d="m160 256 192-128v256z" />',viewBox:"0 0 512 512"},che={name:"caret-alt-to-right",content:'<path d="m128 128 192 128-192 128zm224 256V128h-32v256z" />',viewBox:"0 0 512 512"},hW={name:"caret-alt-to-left",content:'<path d="M352 384 160 256l192-128zM128 128v256h32V128z" />',viewBox:"0 0 512 512"},xG={name:"caret-alt-expand",content:'<path d="M128 288h256L256 480zM256 32 128 224h256.001z" />',viewBox:"0 0 512 512"},oI={name:"chevron-up",content:'<path d="m129.941 353.941 126.06-126.06 126.061 126.06L416 320 256.001 160 96 320z" />',viewBox:"0 0 512 512"},AG={name:"chevron-right",content:'<path d="m158.059 129.941 126.06 126.06-126.06 126.061L192 416l160-159.999L192 96z" />',viewBox:"0 0 512 512"},rI={name:"chevron-down",content:'<path d="m382.059 158.059-126.06 126.06-126.061-126.06L96 192l159.999 160L416 192z" />',viewBox:"0 0 512 512"},aI={name:"chevron-left",content:'<path d="m353.941 382.059-126.06-126.06 126.06-126.061L320 96 160 255.999 320 416z" />',viewBox:"0 0 512 512"},fW={name:"arrow-right",content:'<path d="M224 384v-96H96v-64h128v-96l192 128z" />',viewBox:"0 0 512 512"},RG={name:"arrow-left",content:'<path d="M288 128v96h128v64l-128 .001V384L96 256.001z" />',viewBox:"0 0 512 512"},lI={name:"columns",content:'<path d="M64 32h96v448H64zm128 448h96V32h-96zM320 32v448h96V32z" />',viewBox:"0 0 512 512"},jC={name:"reorder",content:'<path d="M480 128v64H32v-64zM32 224v64h448v-64zm448 96H32v64h448z" />',viewBox:"0 0 512 512"},Nk={name:"more-vertical",content:'<path d="M240 128c26.4 0 48-21.6 48-48s-21.6-48-48-48-48 21.6-48 48 21.6 48 48 48m0 64c-26.4 0-48 21.6-48 48s21.6 48 48 48 48-21.6 48-48-21.6-48-48-48m0 160c-26.4 0-48 21.6-48 48s21.6 48 48 48 48-21.6 48-48-21.6-48-48-48" />',viewBox:"0 0 512 512"},SW={name:"more-horizontal",content:'<path d="M128 240c0-26.4-21.6-48-48-48s-48 21.6-48 48 21.6 48 48 48 48-21.6 48-48m64 0c0 26.4 21.6 48 48 48s48-21.6 48-48-21.6-48-48-48-48 21.6-48 48m160 0c0 26.4 21.6 48 48 48s48-21.6 48-48-21.6-48-48-48-48 21.6-48 48" />',viewBox:"0 0 512 512"},VG={name:"display-inline-flex",content:'<path d="M96 416h320V96H96zm32-288h256v256H128zm32 32h64v192h-64zm128 0h64v192h-64zM32 32h32v448H32zm416 0h32v448h-32z" />',viewBox:"0 0 512 512"},OW={name:"droplet-slider",content:'<path d="M192 384v32c-53 0-96-43-96-96h32c0 35.3 28.7 64 64 64m160-72c0 92.8-71.6 168-160 168S32 404.8 32 312C32 181.3 192 32 192 32s160 149.3 160 280m-32 0c0-46.3-25.3-104.7-73-169-20-27-40.3-49.8-55-65.4-14.7 15.6-34.9 38.5-55 65.4-47.8 64.3-73 122.8-73 169 0 75 57.4 136 128 136s128-61 128-136m128-88h-32v256h32zm0-192h-32v64h32zm-64 96v64h96v-64z" />',viewBox:"0 0 512 512"},MW={name:"max-width",content:'<path d="M0 96v288h32V96zm479 0v143.4L352 160v64H160v-64L32 240l128 80v-64h192v64l127-79.4V384h32V96z" />',viewBox:"0 0 512 512"},gI={name:"arrow-rotate-cw",content:'<path d="M480 288c0 123.7-100.3 224-224 224S32 411.7 32 288 132.3 64 256 64V0l160 96-160 96v-64c-88.2 0-160 71.8-160 160s71.8 160 160 160 160-71.8 160-160c0-29.1-7.8-56.4-21.5-80l55.5-32c19.1 32.9 30 71.2 30 112" />',viewBox:"0 0 512 512"},L_={name:"arrows-no-repeat",content:'<path d="m321 434.2 47.5 47.5C335.5 501 297 512 256 512 132.3 512 32 411.7 32 288c0-41 11-79.5 30.3-112.6l47.5 47.5c-8.9 19.9-13.8 41.9-13.8 65 0 88.2 71.8 160 160 160 23.1.1 45.2-4.8 65-13.7m118.3-17.5c12.9-18.3 23.1-38.7 30.1-60.4 6.9-21.5 10.6-44.5 10.6-68.3 0-40.8-10.9-79.1-30-112l-55.5 32c13.6 23.5 21.5 50.9 21.5 80 0 4.8-.2 9.5-.6 14.2-2.2 24.8-10.1 47.9-22.3 68.2L173.6 150.9c20.3-12.2 43.4-20.1 68.2-22.3 4.7-.4 9.4-.6 14.2-.6v64l160-96L256 0v64c-23.8 0-46.7 3.7-68.3 10.6-21.8 7-42.1 17.2-60.4 30.1L22.6 0 0 22.6 489.4 512l22.6-22.6z" />',viewBox:"0 0 512 512"},VW={name:"arrow-rotate-cw-small",content:'<path d="M416 280c0 88.4-71.6 160-160 160S96 368.4 96 280s71.6-160 160-160V64l128 80-128 80v-56c-61.8 0-112 50.2-112 112s50.2 112 112 112 112-50.2 112-112c0-10-1.3-19.7-3.8-29l46.4-12.4c3.5 13.2 5.4 27.1 5.4 41.4" />',viewBox:"0 0 512 512"},vI={name:"clock",content:'<path d="M256 128h-32v160h160v-32H256zm0-96C132.3 32 32 132.3 32 256s100.3 224 224 224 224-100.3 224-224S379.7 32 256 32m0 416c-105.9 0-192-86.1-192-192S150.1 64 256 64s192 86.1 192 192-86.1 192-192 192" />',viewBox:"0 0 512 512"},Pk={name:"calendar",content:'<path d="M416 416H288V288h128zm64-352v384c0 17.6-14.4 32-32 32H64c-17.6 0-32-14.4-32-32V64c0-17.6 14.4-32 32-32h64V0h64v32h128V0h64v32h64c17.6 0 32 14.4 32 32m-32 128H64v255.9l.1.1 383.9-.1zm0-127.9c-.1-.1-.1-.1 0 0l-64-.1v32h-64V64H192v32h-64V64H64.1l-.1.1V160h384z" />',viewBox:"0 0 512 512"},WC={name:"save",content:'<path d="M384 32H64c-17.6 0-32 14.4-32 32v384c0 17.6 14.4 32 32 32h384c17.6 0 32-14.4 32-32V128zm-64 32v128h-64V64zm128 384-383.9.1-.1-.1V64.1l.1-.1H96v160h256V64h18.7l77.3 77.3z" />',viewBox:"0 0 512 512"},QG={name:"lock",content:'<path d="M384 224h-32v-96c0-53-43-96-96-96s-96 43-96 96v96h-32c-17.6 0-32 14.4-32 32v192c0 17.6 14.4 32 32 32h256c17.6 0 32-14.4 32-32V256c0-17.6-14.4-32-32-32m-192-96c0-35.3 28.7-64 64-64s64 28.7 64 64v96H192zm64 256c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32" />',viewBox:"0 0 512 512"},WW={name:"unlock",content:'<path d="M416 224H224v-96c0-53-43-96-96-96s-96 43-96 96v128h32V128c0-35.3 28.7-64 64-64s64 28.7 64 64v96h-32c-17.6 0-32 14.4-32 32v192c0 17.6 14.4 32 32 32h256c17.6 0 32-14.4 32-32V256c0-17.6-14.4-32-32-32M288 384c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32" />',viewBox:"0 0 512 512"},Fk={name:"cancel",content:'<path d="M256 32c-50.3 0-96.8 16.6-134.1 44.6-17.2 12.8-32.4 28.1-45.3 45.3C48.6 159.2 32 205.7 32 256c0 123.7 100.3 224 224 224 50.3 0 96.8-16.6 134.1-44.6 17.2-12.8 32.4-28.1 45.3-45.3 28-37.4 44.6-83.8 44.6-134.1 0-123.7-100.3-224-224-224m0 384c-88.2 0-160-71.8-160-160 0-32.6 9.8-62.9 26.6-88.2l221.6 221.6C318.9 406.2 288.6 416 256 416m133.4-71.8L167.8 122.6C193.1 105.8 223.4 96 256 96c88.2 0 160 71.8 160 160 0 32.6-9.8 62.9-26.6 88.2" />',viewBox:"0 0 512 512"},upe={name:"cancel-outline",content:'<path d="M256 32c-56.1 0-107.4 20.6-146.7 54.7-8.1 7-15.6 14.6-22.6 22.6C52.6 148.6 32 199.9 32 256c0 123.7 100.3 224 224 224 56.1 0 107.4-20.6 146.7-54.7 8.1-7 15.6-14.6 22.6-22.6C459.4 363.4 480 312.1 480 256c0-123.7-100.3-224-224-224m0 416c-106 0-192-86-192-192 0-47.2 17.1-90.5 45.4-124L380 402.6c-33.5 28.3-76.8 45.4-124 45.4m146.6-68L132 109.4C165.5 81.1 208.8 64 256 64c106 0 192 86 192 192 0 47.2-17.1 90.5-45.4 124" />',viewBox:"0 0 512 512"},YC={name:"check",content:'<path d="M434.7 82.7 480 128 192 416 32 256l45.3-45.3L192 325.5z" />',viewBox:"0 0 512 512"},Uk={name:"check-outline",content:'<path d="M256 32C132.3 32 32 132.3 32 256s100.3 224 224 224 224-100.3 224-224S379.7 32 256 32m0 416c-106 0-192-86-192-192S150 64 256 64s192 86 192 192-86 192-192 192m-32-154-83-83-45 45 128 128 176-176-45-45z" />',viewBox:"0 0 512 512"},wo={name:"x",content:'<path d="M416 141.3 301.3 256 416 370.7 370.7 416 256 301.3 141.3 416 96 370.7 210.7 256 96 141.3 141.3 96 256 210.7 370.7 96z" />',viewBox:"0 0 512 512"},ZG={name:"x-outline",content:'<path d="M384 338.7 338.7 384 256 301.3 173.3 384 128 338.7l82.7-82.7-82.7-82.7 45.3-45.3 82.7 82.7 82.7-82.7 45.3 45.3-82.7 82.7zM256 32C132.3 32 32 132.3 32 256s100.3 224 224 224 224-100.3 224-224S379.7 32 256 32m0 416c-106 0-192-86-192-192S150 64 256 64s192 86 192 192-86 192-192 192" />',viewBox:"0 0 512 512"},Lf={name:"x-circle",content:'<path d="M256 32C132.3 32 32 132.3 32 256s100.3 224 224 224 224-100.3 224-224S379.7 32 256 32m128 306.7L338.7 384 256 301.3 173.3 384 128 338.7l82.7-82.7-82.7-82.7 45.3-45.3 82.7 82.7 82.7-82.7 45.3 45.3-82.7 82.7z" />',viewBox:"0 0 512 512"},Bk={name:"plus",content:'<path d="M288 224V96h-64v128H96v64h128v128h64V288h128v-64z" />',viewBox:"0 0 512 512"},KW={name:"minus",content:'<path d="M96 224v64h320v-64z" />',viewBox:"0 0 512 512"},G_={name:"sort-asc-small",content:'<path d="M256 192v224h-32V192h-96L240 64l112 128z" />',viewBox:"0 0 512 512"},SI={name:"sort-desc-small",content:'<path d="M352 288 240 416 128 288h96V64h32v224z" />',viewBox:"0 0 512 512"},KC={name:"filter",content:'<path d="M64 64v32l160 160v224l64-64V256L448 96V64z" />',viewBox:"0 0 512 512"},qW={name:"filter-clear",content:'<path d="m143.5 64 168.2 168.2L288 256v160l-64 64V256L64 96V64zm236.1 100.4L448 96V64H279.3l-64-64L192 22l298 298 22-23.3z" />',viewBox:"0 0 512 512"},tP={name:"upload",content:'<path d="M32 384v96h448v-96zm192-64h64V192h96L256 32 128 192h96z" />',viewBox:"0 0 512 512"},iY={name:"window",content:'<path d="M96 96v320h320V96zm288 288H128V192h256z" />',viewBox:"0 0 512 512"},iP={name:"window-restore",content:'<path d="M448 32v288h-32V128H160V32zM64 192h288v288H64zm32 256h224V288H96z" />',viewBox:"0 0 512 512"},sY={name:"window-minimize",content:'<path d="M416 288v64H96v-64z" />',viewBox:"0 0 512 512"},Vk={name:"search",content:'<path d="M365.3 320h-22.7l-26.7-26.7C338.5 265.7 352 230.4 352 192c0-88.4-71.6-160-160-160S32 103.6 32 192s71.6 160 160 160c38.4 0 73.7-13.5 101.3-36.1l26.7 26.7v22.7L434.7 480l45.3-45.3zM64 192c0-70.7 57.3-128 128-128s128 57.3 128 128-57.3 128-128 128S64 262.7 64 192" />',viewBox:"0 0 512 512"},cP={name:"stick",content:'<path d="M192 96c0-17.7-14.3-32-32-32H96c-17.7 0-32 14.3-32 32v32h128zm128 160c0 35.3-28.7 64-64 64s-64-28.7-64-64v-96H64v96c0 106 86 192 192 192s192-86 192-192v-96H320zm96-192h-64c-17.7 0-32 14.3-32 32v32h128V96c0-17.7-14.3-32-32-32" />',viewBox:"0 0 512 512"},dP={name:"unstick",content:'<path d="M290.6 131.4c12.4-12.4 12.4-32.6 0-45l-45-45c-12.4-12.4-32.6-12.4-45 0L178 63.8l90.1 90zM268.1 334c-24.9 24.9-65.2 24.9-90.1 0s-24.9-65.2 0-90.1l67.5-67.5-90-90.1L88 153.9C13.4 228.5 13.4 349.4 88 424s195.5 74.6 270.1 0l67.5-67.5-90-90.1zm202.6-67.5-45-45c-12.4-12.4-32.6-12.4-45 0L358.2 244l90 90 22.5-22.5c12.4-12.4 12.4-32.6 0-45" />',viewBox:"0 0 512 512"},uP={name:"set-column-position",content:'<path d="M448 32H64c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h384c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32M192 416H96V96h96zm224 0H224v-32h192zm0-64H224v-64h192zm0-96H224v-64h192zm0-96H224V96h192z" />',viewBox:"0 0 512 512"},kY={name:"play-sm",content:'<path d="M96 416V96l320 160z" />',viewBox:"0 0 512 512"},hP={name:"pause-sm",content:'<path d="M288 96h96v320h-96zM96 416h96V96H96z" />',viewBox:"0 0 512 512"},mP={name:"info-circle",content:'<path d="M288 352h32v32H192v-32h32v-96h-32v-32h96zm0-224h-64v64h64zm192 128c0 123.7-100.3 224-224 224S32 379.7 32 256 132.3 32 256 32s224 100.3 224 224m-32 0c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192" />',viewBox:"0 0 512 512"},zk={name:"exclamation-circle",content:'<path d="M224 128h64v160h-64zm0 256h64v-64h-64zm256-128c0 123.7-100.3 224-224 224S32 379.7 32 256 132.3 32 256 32s224 100.3 224 224m-32 0c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192" />',viewBox:"0 0 512 512"},EI={name:"palette",content:'<path d="m206 256.6 160-160c-2.2-5.7-4.8-11.1-7.9-16.3-24.2-40.8-60.1-66-107.8-75.9-2.3-.5-4.7-1-7.1-1.4C192-5.8 143.1 4.8 96.5 34.6 49.3 64.7 19.2 107.2 6.1 162c-13 54.8-5.2 106.4 23.4 154.6 14.2 23.8 31.3 43.2 51.4 58.4 3.8-25.2 13.4-52 36.4-75 31.3-31.4 64-41.3 88.7-43.4M288 64c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32m-96-32c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32M64 256c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32m0-128c0-17.7 14.3-32 32-32s32 14.3 32 32-14.3 32-32 32-32-14.3-32-32m438.7 12.9L480 118.3c-12.4-12.4-32.8-12.4-45.3 0L281.1 271.9c11.5 5.8 20.8 12.2 27.7 17.6 5.3 4.2 9.2 7.7 11.3 9.8l11.3 12.7c5.4 6.8 11.8 16.2 17.6 27.6l153.5-153.5c12.6-12.4 12.6-32.8.2-45.2M354.3 289.3c-4.8-5.8-8.6-9.9-10.6-11.9-2.3-2.3-6.3-6.1-12-10.7L457.4 141h.1l22.5 22.5zm-78.7 169c-23.8 23.7-48.4 33-70.7 37.7-49.6 10.4-96 16-96 16s34.7-17.3 33.9-77c-.4-32.7-3.7-66.4 19.7-89.8 56.6-56.7 113.3.2 113.3.2s56.7 56-.2 112.9" />',viewBox:"0 0 512 512"},VY={name:"sliders",content:'<path d="M480 96v32H285.3c-6.6 18.6-24.4 32-45.3 32s-38.7-13.4-45.3-32H32V96h162.7c6.6-18.6 24.4-32 45.3-32s38.7 13.4 45.3 32zm-112 96c-20.9 0-38.7 13.4-45.3 32H32v32h290.7c6.6 18.6 24.4 32 45.3 32s38.7-13.4 45.3-32H480v-32h-66.7c-6.6-18.6-24.4-32-45.3-32M176 320c-20.9 0-38.7 13.4-45.3 32H32v32h98.7c6.6 18.6 24.4 32 45.3 32s38.7-13.4 45.3-32H480v-32H221.3c-6.6-18.6-24.4-32-45.3-32" />',viewBox:"0 0 512 512"},wI={name:"droplet-slash",content:'<path d="m317.9 431 23.2 23.2C316.5 470.6 287.3 480 256 480c-88.4 0-160-75.2-160-168 0-27.8 7.2-56.4 18.6-84.2l24.8 24.8C131.9 274 128 293.9 128 312c0 75 57.4 136 128 136 22.4 0 43.5-6.2 61.9-17M256 416v-32c-35.3 0-64-28.7-64-64h-32c0 53 43 96 96 96m224 41.4L457.4 480 32 54.6 54.6 32l108.7 108.7C207 77.7 256 32 256 32s160 149.3 160 280c0 24.1-4.9 47.1-13.6 67.8zM384 312c0-46.3-25.3-104.7-73-169-20-27-40.3-49.8-55-65.4-14.7 15.6-34.9 38.5-55 65.4-1.4 1.9-2.7 3.7-4.1 5.6-.8 1.1-1.5 2.1-2.3 3.2l-1.5 2.1-3 4.2c-.2.3-.4.5-.6.8-1 1.5-2.1 3-3.1 4.5-.1.1-.1.2-.2.3l191.2 191.2c.5-1.6 1-3.3 1.4-4.9 0-.2.1-.4.1-.5.4-1.5.8-2.9 1.1-4.4.1-.3.1-.6.2-.9.3-1.4.6-2.7.9-4.1.1-.4.2-.8.2-1.2.2-1.3.5-2.6.7-3.9.1-.5.2-1 .2-1.5.2-1.2.3-2.5.5-3.7.1-.5.1-1.1.2-1.6l.3-3.6c0-.6.1-1.1.1-1.7.1-1.3.2-2.5.2-3.8 0-.5.1-1 .1-1.6.4-1.9.4-3.7.4-5.5" />',viewBox:"0 0 512 512"},xP={name:"insert-middle",content:'<path d="M192 128h192v32H192zm0 128h288v-32H192zm192 64H192v32h192zM32 128v224l96-112z" />',viewBox:"0 0 512 512"},Zfe={name:"copy",content:'<path d="M384 96H192c-17.7 0-32 14.3-32 32v320c0 17.7 14.3 32 32 32h256c17.7 0 32-14.3 32-32V192zm64 352H192V128h160v96h96zM64 384h64v32H64c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32h192l32 32H64z" />',viewBox:"0 0 512 512"},jK={name:"apply-format",content:'<path d="M380.984 313.69c12.445 12.445 12.445 32.81 0 45.255L266.529 470.658c-12.445 12.445-32.787 12.467-45.255 0L0 248.898c18.584 18.584 40.255-4.835 40.255-4.835L154.71 132.671c12.445-12.445 32.81-12.445 45.255 0zm89.682-227.101-45.255-45.255c-12.445-12.445-32.81-12.445-45.255 0l-67.882 67.882-22.627-22.627c-12.445-12.445-32.81-12.445-45.255 0l-22.627 22.627 181.019 181.019 22.627-22.627c12.445-12.445 12.445-32.81 0-45.255l-22.627-22.627 67.882-67.882c12.445-12.446 12.445-32.81 0-45.255" />',viewBox:"0 0 512 512"},nJ={name:"font-size",content:'<path d="M97 224 32 416h29l16.9-50H146l16.9 50h29l-65-192zm-8.9 112 23.9-70.6 23.9 70.6zM376 96h-48L224 416h48l26-80h108l26 80h48zm-62.4 192L352 169.8 390.4 288z" />',viewBox:"0 0 512 512"},Fme={name:"file",content:'<path d="M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96z" />',viewBox:"0 0 512 512"},eF={name:"file-image",content:'<path d="M298.7 385.2S272.2 288 213.1 288s-85 128-85 128h256s-11.9-78.7-42.7-78.7-42.7 47.9-42.7 47.9M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96zM288 256c0 17.7 14.3 32 32 32s32-14.3 32-32-14.3-32-32-32-32 14.3-32 32" />',viewBox:"0 0 512 512"},zVe=["addListener","removeListener"],jVe=["addEventListener","removeEventListener"],HVe=["on","off"];function wt(s,i,e,n){if((0,Zs.T)(e)&&(n=e,e=void 0),n)return wt(s,i,e).pipe(Id(n));const[o,r]=function WVe(s){return(0,Zs.T)(s.addEventListener)&&(0,Zs.T)(s.removeEventListener)}(s)?jVe.map(a=>l=>s[a](i,l,e)):function $Ve(s){return(0,Zs.T)(s.addListener)&&(0,Zs.T)(s.removeListener)}(s)?zVe.map(u_e(s,i)):function XVe(s){return(0,Zs.T)(s.on)&&(0,Zs.T)(s.off)}(s)?HVe.map(u_e(s,i)):[];if(!o&&hf(s))return fr(a=>wt(a,i,e))(nr(s));if(!o)throw new TypeError("Invalid event target");return new _s.c(a=>{const l=(...c)=>a.next(1<c.length?c:c[0]);return o(l),()=>r(l)})}function u_e(s,i){return e=>n=>s[e](i,n)}const h_e=()=>typeof window<"u",xJ={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)(\.(\d+(\.\d+)?))?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},YVe={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},AJ={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},KVe={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},p_e=(s,i,e)=>{for(let n in i)if(i.hasOwnProperty(n)&&i[n].test(s))return n;return void 0!==e?e:s},tF=s=>{let i,e=[];for(let n in xJ)if(xJ.hasOwnProperty(n)){if(e=s.match(xJ[n]),!e)continue;if("windows"===n&&"plugins"in window.navigator)return null;const o={};return o.device=n,o.browser=p_e(s,KVe,"default"),o.name=p_e(n,YVe),o[o.name]=!0,o.majorVersion=e[2],o.minorVersion=e[3]?e[3].replace("_","."):".0",i=o.minorVersion.replace(".","").substr(0,2),o.flatVersion=o.majorVersion+i+new Array(3-(i.length<3?i.length:2)).join("0"),o.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,o.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||o.cordova,o}return null},RJ=s=>{let i=null,e=[];for(let n in AJ)if(AJ.hasOwnProperty(n)&&(e=s.match(AJ[n]),e)){i={},i[n]=!0,i[e[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,i.version=parseInt(document.documentMode||e[2],10);break}return i},nF=h_e()&&window.navigator?window.navigator.userAgent:null,Kk=nF?RJ(nF):null,f_e=nF?tF(nF):null,JVe=h_e()&&"ontouchstart"in window,qVe=Kk&&!Kk.chrome&&window.MSPointerEvent,m_e=Kk&&!Kk.chrome&&window.PointerEvent,UI=f_e&&(JVe||qVe||m_e),QVe=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;const BI={};function _r(s){if(BI[s])return BI[s];const i=function __e(s){const i=[];return s.replace(QVe,function(e,n,o,r){i.push(void 0!==n?n:o||r)}),i}(s);return BI[s]=function(e){let n=e;for(let o=0;o<i.length&&n;o++)n=n[i[o]];return n},BI[s]}BI.undefined=s=>s;const Jk=(s,i)=>e=>i(s(e)),qh=(s,i,e)=>s.addEventListener&&s.addEventListener(i,e),Wl=(s,i,e)=>s&&s.removeEventListener&&s.removeEventListener(i,e),qk=()=>{},LJ=s=>s.preventDefault(),e9e=/touch/;function Qk(s){return s.type.match(e9e)?{pageX:s.changedTouches[0].pageX,pageY:s.changedTouches[0].pageY,clientX:s.changedTouches[0].clientX,clientY:s.changedTouches[0].clientY,type:s.type,originalEvent:s,isTouch:!0}:{pageX:s.pageX,pageY:s.pageY,clientX:s.clientX,clientY:s.clientY,offsetX:s.offsetX,offsetY:s.offsetY,type:s.type,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey,altKey:s.altKey,originalEvent:s}}let iF=(()=>{class s{static supportPointerEvent(){return typeof window<"u"&&window.PointerEvent}get document(){return this._element?this._element.ownerDocument:document}constructor({press:e=qk,drag:n=qk,release:o=qk,mouseOnly:r=!1}){this._pressHandler=Jk(Qk,e),this._dragHandler=Jk(Qk,n),this._releaseHandler=Jk(Qk,o),this._ignoreMouse=!1,this._mouseOnly=r,this._touchstart=a=>{1===a.touches.length&&this._pressHandler(a)},this._touchmove=a=>{1===a.touches.length&&this._dragHandler(a)},this._touchend=a=>{0===a.touches.length&&1===a.changedTouches.length&&(this._releaseHandler(a),this._ignoreMouse=!0,setTimeout(this._restoreMouse,2e3))},this._restoreMouse=()=>{this._ignoreMouse=!1},this._mousedown=a=>{const{which:l}=a;l&&l>1||this._ignoreMouse||(qh(this.document,"mousemove",this._mousemove),qh(this.document,"mouseup",this._mouseup),this._pressHandler(a))},this._mousemove=a=>{this._dragHandler(a)},this._mouseup=a=>{Wl(this.document,"mousemove",this._mousemove),Wl(this.document,"mouseup",this._mouseup),this._releaseHandler(a)},this._pointerdown=a=>{a.isPrimary&&0===a.button&&(qh(this.document,"pointermove",this._pointermove),qh(this.document,"pointerup",this._pointerup),qh(this.document,"pointercancel",this._pointerup),qh(this.document,"contextmenu",LJ),this._pressHandler(a))},this._pointermove=a=>{a.isPrimary&&this._dragHandler(a)},this._pointerup=a=>{a.isPrimary&&(Wl(this.document,"pointermove",this._pointermove),Wl(this.document,"pointerup",this._pointerup),Wl(this.document,"pointercancel",this._pointerup),Wl(this.document,"contextmenu",LJ),this._releaseHandler(a))}}bindTo(e){e!==this._element&&(this._element&&this._unbindFromCurrent(),this._element=e,this._bindToCurrent())}_bindToCurrent(){const e=this._element;this._usePointers()?qh(e,"pointerdown",this._pointerdown):(qh(e,"mousedown",this._mousedown),this._mouseOnly||(qh(e,"touchstart",this._touchstart),qh(e,"touchmove",this._touchmove),qh(e,"touchend",this._touchend)))}_unbindFromCurrent(){const e=this._element;if(this._usePointers())return Wl(e,"pointerdown",this._pointerdown),Wl(this.document,"pointermove",this._pointermove),Wl(this.document,"pointerup",this._pointerup),Wl(this.document,"contextmenu",LJ),void Wl(this.document,"pointercancel",this._pointerup);Wl(e,"mousedown",this._mousedown),this._mouseOnly||(Wl(e,"touchstart",this._touchstart),Wl(e,"touchmove",this._touchmove),Wl(e,"touchend",this._touchend))}_usePointers(){return!this._mouseOnly&&s.supportPointerEvent()}update({press:e=qk,drag:n=qk,release:o=qk,mouseOnly:r=!1}){this._pressHandler=Jk(Qk,e),this._dragHandler=Jk(Qk,n),this._releaseHandler=Jk(Qk,o),this._mouseOnly=r}destroy(){this._unbindFromCurrent(),this._element=null}}return s.default=s,s})();class n9e extends be.yU{constructor(i,e){super()}schedule(i,e=0){return this}}const sF={setInterval(s,i,...e){const{delegate:n}=sF;return n?.setInterval?n.setInterval(s,i,...e):setInterval(s,i,...e)},clearInterval(s){const{delegate:i}=sF;return(i?.clearInterval||clearInterval)(s)},delegate:void 0};var g_e=_e(908);class v_e extends n9e{constructor(i,e){super(i,e),this.scheduler=i,this.work=e,this.pending=!1}schedule(i,e=0){var n;if(this.closed)return this;this.state=i;const o=this.id,r=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(r,o,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(r,this.id,e),this}requestAsyncId(i,e,n=0){return sF.setInterval(i.flush.bind(i,this),n)}recycleAsyncId(i,e,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&sF.clearInterval(e)}execute(i,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(i,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,e){let o,n=!1;try{this.work(i)}catch(r){n=!0,o=r||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:i,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,g_e.o)(n,this),null!=i&&(this.id=this.recycleAsyncId(e,i,null)),this.delay=null,super.unsubscribe()}}}const GJ={now:()=>(GJ.delegate||Date).now(),delegate:void 0};class zI{constructor(i,e=zI.now){this.schedulerActionCtor=i,this.now=e}schedule(i,e=0,n){return new this.schedulerActionCtor(this,i).schedule(n,e)}}zI.now=GJ.now;class S_e extends zI{constructor(i,e=zI.now){super(i,e),this.actions=[],this._active=!1}flush(i){const{actions:e}=this;if(this._active)return void e.push(i);let n;this._active=!0;do{if(n=i.execute(i.state,i.delay))break}while(i=e.shift());if(this._active=!1,n){for(;i=e.shift();)i.unsubscribe();throw n}}}const Zk=new S_e(v_e),i9e=Zk;function oF(s=0,i,e=i9e){let n=-1;return null!=i&&(Z2(i)?e=i:n=i),new _s.c(o=>{let r=function o9e(s){return s instanceof Date&&!isNaN(s)}(s)?+s-e.now():s;r<0&&(r=0);let a=0;return e.schedule(function(){o.closed||(o.next(a++),0<=n?this.schedule(void 0,n):o.complete())},r)})}function e0(s,i=Zk){return function s9e(s){return(0,$i.N)((i,e)=>{let n=!1,o=null,r=null,a=!1;const l=()=>{if(r?.unsubscribe(),r=null,n){n=!1;const u=o;o=null,e.next(u)}a&&e.complete()},c=()=>{r=null,a&&e.complete()};i.subscribe((0,Xi._)(e,u=>{n=!0,o=u,r||nr(s(u)).subscribe(r=(0,Xi._)(e,l,c))},()=>{a=!0,(!n||!r||r.closed)&&e.complete()}))})}(()=>oF(s,i))}const r9e=["banner"],a9e=["kendoWatermarkOverlay",""],l9e=()=>({display:"flex",alignSelf:"center",marginRight:"8px"}),c9e=()=>({display:"flex",alignItems:"center",marginLeft:"24px"}),d9e=()=>({marginRight:"8px",display:"flex"});function u9e(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",2,0)(2,"span",2),t.qSk(),t.j41(3,"svg",3),t.nrm(4,"path",4),t.k0s()(),t.joV(),t.j41(5,"span"),t.EFF(6,"No valid license found for Kendo UI for Angular. Learn how to activate your license."),t.k0s(),t.j41(7,"div",2)(8,"a",5)(9,"button",6),t.qSk(),t.j41(10,"svg",3),t.nrm(11,"path",7),t.k0s()()(),t.joV(),t.j41(12,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.closeBanner())}),t.qSk(),t.j41(13,"svg",3),t.nrm(14,"path",9),t.k0s()()()()}if(2&s){const e=t.XpG();t.Y8G("ngStyle",e.bannerStyles),t.R7$(2),t.Y8G("ngStyle",t.lJ4(7,l9e)),t.R7$(5),t.Y8G("ngStyle",t.lJ4(8,c9e)),t.R7$(),t.Y8G("href",e.licenseKeyUrl,t.B4B)("ngStyle",t.lJ4(9,d9e)),t.R7$(),t.Y8G("ngStyle",e.buttonStyles),t.R7$(3),t.Y8G("ngStyle",e.buttonStyles)}}const ne=()=>typeof document<"u",Dt=(s,i,e=!0)=>typeof i[s]<"u"&&(!i[s].isFirstChange()||!e)&&i[s].previousValue!==i[s].currentValue,Zi=(s,i,e=!0)=>s.some(n=>Dt(n,i,e)),ke=s=>s&&s.observers.length>0,rn=()=>{let s="";for(let i=0;i<32;i++){const e=16*Math.random()|0;(8===i||12===i||16===i||20===i)&&(s+="-"),s+=(12===i?4:16===i?3&e|8:e).toString(16)}return s},rF=s=>RJ(s).safari||tF(s)&&"mobilesafari"===tF(s).browser,C_e=(s,i,e)=>{for(const n in s)n&&i.setAttribute(e,n,s[n])};let Nd=(()=>{class s{constructor(e,n){this.element=e,this.ngZone=n,this.enableDrag=!0,this.kendoPress=new t.bkB,this.kendoDrag=new t.bkB,this.kendoRelease=new t.bkB}ngOnInit(){this.toggleDraggable()}ngOnChanges(e){Dt("enableDrag",e)&&this.toggleDraggable()}ngOnDestroy(){this.destroyDraggable()}toggleDraggable(){ne()&&(this.destroyDraggable(),this.enableDrag&&(this.draggable=new iF({drag:e=>this.kendoDrag.next(e),press:e=>this.kendoPress.next(e),release:e=>this.kendoRelease.next(e)}),this.ngZone.runOutsideAngular(()=>this.draggable?.bindTo(this.element.nativeElement))))}destroyDraggable(){this.draggable&&(this.draggable.destroy(),this.draggable=void 0)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.SKi))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoDraggable",""]],inputs:{enableDrag:"enableDrag"},outputs:{kendoPress:"kendoPress",kendoDrag:"kendoDrag",kendoRelease:"kendoRelease"},features:[t.OA$]}),s})(),ew=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe]]}),s})();const Yl=(s,i)=>{for(;s&&!i(s);)s=s.parentNode;return s},aF=(s,i,e=!1)=>{if(!Yl(i,r=>r===s))return!1;const o=Yl(i,r=>r===i);return o&&(e||o!==s)},PJ=(s,i,e=!0)=>{if(s){if(e&&i(s))return s;for(s=s.firstChild;s;){if(1===s.nodeType){const n=PJ(s,i);if(n)return n}s=s.nextSibling}}},f9e=/^(?:a|input|select|option|textarea|button|object)$/i,b_e=s=>{if(!s.tagName)return!1;const i=s.tagName.toLowerCase(),e=!!s.getAttribute("tabIndex");return!s.disabled&&f9e.test(i)||e},E_e=s=>{const i=s.getBoundingClientRect();return(i.width>0&&i.height>0||0!==i.x&&0!==i.y)&&"hidden"!==window.getComputedStyle(s).visibility},k_e=(s,i=!0)=>PJ(s,e=>((s,i=!0)=>{if(!b_e(s))return!1;const e=s.getAttribute("tabIndex");return(!i||E_e(s))&&"-1"!==e})(e,i),!1);let Vo=(()=>{class s{constructor(e,n,o){this.element=e,this.ngZone=n,this.renderer=o,this.events={}}ngOnInit(){if(!this.element||!this.element.nativeElement)return;const e=this.events;this.subscriptions=[],this.ngZone.runOutsideAngular(()=>{for(const n in e)Object.hasOwnProperty.call(e,n)&&this.subscriptions?.push(this.renderer.listen(this.element.nativeElement,n,this.scope?e[n].bind(this.scope):e[n]))})}ngOnDestroy(){if(this.subscriptions){for(let e=0;e<this.subscriptions.length;e++)this.subscriptions[e]();this.subscriptions=null}}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(t.sFG))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoEventsOutsideAngular",""]],inputs:{events:[t.Mj6.None,"kendoEventsOutsideAngular","events"],scope:"scope"}}),s})(),zo=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({}),s})();class D_e{constructor(i){this.resizeBatchService=i,this.resize=new t.bkB,this.acceptedSize=!1,this.state=0}acceptSize(i=this.measure()){this.lastWidth=i.width,this.lastHeight=i.height,this.acceptedSize=!0}checkChanges(){ne()&&0===this.state&&(this.state=1,this.resizeBatchService.schedule(this,this.init))}destroy(){this.resizeBatchService.cancel(this)}checkSize(){if(!this.parentElement)return!1;const{width:i,height:e}=this.measure();return(i!==this.lastWidth||e!==this.lastHeight)&&(this.lastWidth=i,this.lastHeight=e,this.acceptedSize=!1,this.resize.emit(),!0)}initSize(){const i=this.measure();this.lastWidth=i.width,this.lastHeight=i.height}measure(){let i=0,e=0;return this.parentElement&&(e=this.parentElement.offsetHeight,i=this.parentElement.offsetWidth),{height:e,width:i}}}const lF=s=>{const i=document.createElement("div");return i.style.cssText=s,i},UJ="position: absolute; display: block; left: 0; top: 0; right: 0; bottom: 0; z-index: -1;overflow: hidden; visibility: hidden;",O_e="position: absolute; left: 0; top: 0; transition: 0s;",v9e=O_e+"width: 200%; height: 200%;";class S9e extends D_e{constructor(i,e,n){super(i),this.element=e,this.ngZone=n}checkChanges(){2!==this.state?super.checkChanges():this.resizeBatchService.isScheduled(this)||this.resizeBatchService.schedule(this,this.checkSize)}destroy(){if(super.destroy(),this.subscription&&this.subscription.unsubscribe(),this.expand){const i=this.element?.nativeElement;i.removeChild(this.expand),i.removeChild(this.shrink),this.expand.removeChild(this.expandChild),this.expand=this.expandChild=this.shrink=this.element=null}}checkSize(){return!!super.checkSize()&&(this.reset(),!0)}init(){const i=this.parentElement=this.element?.nativeElement.parentElement;"static"===((s,i)=>getComputedStyle(s,null).getPropertyValue("position"))(i)&&(i.style.position="relative"),this.state=2,this.render(),this.reset(),this.initSize(),this.subscribe()}render(){const i=this.element?.nativeElement;i.style.cssText=UJ,i.setAttribute("dir","ltr"),this.expand=lF(UJ),this.expandChild=lF(O_e),this.expand.appendChild(this.expandChild),i.appendChild(this.expand),this.shrink=lF(UJ);const e=lF(v9e);this.shrink.appendChild(e),i.appendChild(this.shrink)}reset(){const i=this.expandChild;i.style.width="100000px",i.style.height="100000px";const e=this.expand;e.scrollLeft=1e5,e.scrollTop=1e5;const n=this.shrink;n.scrollLeft=1e5,n.scrollTop=1e5}subscribe(){this.ngZone.runOutsideAngular(()=>{this.subscription=Ht(wt(this.shrink,"scroll"),wt(this.expand,"scroll")).subscribe(()=>{this.checkSize()})})}}const C9e=typeof ResizeObserver<"u";class T_e extends D_e{constructor(i,e,n){super(i),this.element=e,this.ngZone=n}static supported(){return C9e}destroy(){super.destroy(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.parentElement=null}init(){this.parentElement=this.element.nativeElement.parentElement,this.initSize(),this.state=2,this.ngZone.runOutsideAngular(()=>{this.resizeObserver=new ResizeObserver(()=>{this.checkSize()}),this.resizeObserver.observe(this.parentElement)})}}let M_e=(()=>{class s{constructor(e){this.ngZone=e,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}schedule(e,n){this.scheduled.push({instance:e,method:n}),this.subscription||this.ngZone.runOutsideAngular(()=>{this.subscription=gs(this.resolvedPromise).subscribe(this.flush)})}isScheduled(e){return!!this.scheduled.find(n=>n.instance===e)}cancel(e){const n=this.scheduled,o=n.length;for(let r=0;r<o;r++)if(n[r].instance===e)return n.splice(r,1),void(n.length||this.unsubscribe())}ngOnDestroy(){this.unsubscribe()}unsubscribe(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}flush(){this.scheduled.forEach(e=>{e.method.call(e.instance)}),this.scheduled=[],this.unsubscribe()}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(t.SKi))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),Os=(()=>{class s{constructor(e,n,o){this.rateLimit=10,this.resize=new t.bkB;const r=T_e.supported()?T_e:S9e;this.resizeService=new r(e,n,o),this.subscription=this.resizeService.resize.pipe(e0(1e3/(this.rateLimit||10))).subscribe(()=>{this.resizeService.acceptedSize||this.resize.emit()})}ngAfterViewChecked(){this.resizeService.checkChanges()}ngOnDestroy(){this.subscription.unsubscribe(),this.resizeService.destroy()}acceptSize(e){this.resizeService.acceptSize(e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(M_e),t.rXU(t.aKT),t.rXU(t.SKi))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-resize-sensor"]],inputs:{rateLimit:"rateLimit"},outputs:{resize:"resize"},decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),Vr=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({providers:[M_e]}),s})();class as{}var F=function(s){return s[s.Alt=18]="Alt",s[s.ArrowDown=40]="ArrowDown",s[s.ArrowLeft=37]="ArrowLeft",s[s.ArrowRight=39]="ArrowRight",s[s.ArrowUp=38]="ArrowUp",s[s.Backspace=8]="Backspace",s[s.Control=17]="Control",s[s.Delete=46]="Delete",s[s.Digit0=48]="Digit0",s[s.Digit1=49]="Digit1",s[s.Digit2=50]="Digit2",s[s.Digit3=51]="Digit3",s[s.Digit4=52]="Digit4",s[s.Digit5=53]="Digit5",s[s.Digit6=54]="Digit6",s[s.Digit7=55]="Digit7",s[s.Digit8=56]="Digit8",s[s.Digit9=57]="Digit9",s[s.End=35]="End",s[s.Enter=13]="Enter",s[s.Escape=27]="Escape",s[s.F1=112]="F1",s[s.F2=113]="F2",s[s.F10=121]="F10",s[s.Home=36]="Home",s[s.Insert=45]="Insert",s[s.KeyA=65]="KeyA",s[s.KeyB=66]="KeyB",s[s.KeyC=67]="KeyC",s[s.KeyD=68]="KeyD",s[s.KeyE=69]="KeyE",s[s.KeyF=70]="KeyF",s[s.KeyG=71]="KeyG",s[s.KeyH=72]="KeyH",s[s.KeyI=73]="KeyI",s[s.KeyJ=74]="KeyJ",s[s.KeyK=75]="KeyK",s[s.KeyL=76]="KeyL",s[s.KeyM=77]="KeyM",s[s.KeyN=78]="KeyN",s[s.KeyO=79]="KeyO",s[s.KeyP=80]="KeyP",s[s.KeyQ=81]="KeyQ",s[s.KeyR=82]="KeyR",s[s.KeyS=83]="KeyS",s[s.KeyT=84]="KeyT",s[s.KeyU=85]="KeyU",s[s.KeyV=86]="KeyV",s[s.KeyW=87]="KeyW",s[s.KeyX=88]="KeyX",s[s.KeyY=89]="KeyY",s[s.KeyZ=90]="KeyZ",s[s.NumpadDecimal=110]="NumpadDecimal",s[s.PageDown=34]="PageDown",s[s.PageUp=33]="PageUp",s[s.Shift=16]="Shift",s[s.Space=32]="Space",s[s.Tab=9]="Tab",s}(F||{});const cF=['a[href]:not([tabindex^="-"]):not([disabled])','area[href]:not([tabindex^="-"]):not([disabled])','input:not([tabindex^="-"]):not([disabled])','select:not([tabindex^="-"]):not([disabled])','textarea:not([tabindex^="-"]):not([disabled])','button:not([tabindex^="-"]):not([disabled])','iframe:not([tabindex^="-"]):not([disabled])','object:not([tabindex^="-"]):not([disabled])','embed:not([tabindex^="-"]):not([disabled])','*[tabindex]:not([tabindex^="-"]):not([disabled])','*[contenteditable]:not([tabindex^="-"]):not([disabled]):not([contenteditable="false"])'].join(","),to=s=>null!=s,BJ=s=>s.trim().replace(/\s+/g," ").split(" "),VJ=s=>Array.isArray(s)?w9e(s):(s=>to(s)&&!Array.isArray(s)&&"object"==typeof s)(s)?y9e(s):(s=>s instanceof String||"string"==typeof s)(s)?k9e(s):void 0,y9e=s=>{const i=[];return Object.keys(s).forEach(e=>{const n=BJ(e);s[e]&&n.length&&i.push(...n)}),i},k9e=s=>{const i=[];return BJ(s).forEach(n=>{i.push(n)}),i},w9e=s=>{const i=[];return s.forEach(e=>{const n=BJ(e);n[0]&&i.push(...n)}),i},O9e={display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",top:"16px",right:"16px",padding:"12px",borderRadius:"4px",boxShadow:"0px 4px 5px 0px rgba(0, 0, 0, 0.04), 0px 2px 4px 0px rgba(0, 0, 0, 0.03)",fontSize:"14px",fontWeight:400,lineHeight:"20px",backgroundColor:"#FFC000",color:"#1E1E1E",zIndex:999},T9e={display:"inline-flex",position:"relative",border:"none",borderRadius:"4px",padding:"5px",backgroundColor:"transparent",transition:"color 0.2s ease-in-out",outline:"none",cursor:"pointer"};let x_e=!1,U_=(()=>{class s{constructor(){this.watermarkStyle="\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    opacity: 0.2;\n    zIndex: 101;\n    pointerEvents: none;\n    backgroundImage: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABVxSURBVHgB7Z3tVRtJE4WL9zgANgLLGRCCnAGOADmCxRGgDFAGYiOADKQMIAGO9J8ji42g37mjqlUjBgOanpn+uM85sjC2sKzbVd1dVV0tQgghhBBCCCGEEEIIKRPn3Gn1GAlJmmN1pP558J6OX9540ejh4WGlX09OTk7+EZIclXYXlY43+vVflY7PH3wd9c+AY/Wvvcb9/b0bjUYOz/hBQpICmh1oOPrEa6l/4rTR337AhIMgTSqtzg+0m8gnof7p0mD8EzmGhkFwJiR6np6e7luLL9Q/RTDTBzF+7wfWg2CxWOCHjYVET6XTdLPZrFuLL9Q/NeCkoVUQ4/d+6Ijev1yof1rAUVMvQgjJHebrSRu+CEmWo/O8hISgCjStKpgiGoDWed4AUP/hwGf++Pi4hQYyFHgDzBP3T7A8b0uo/zD4+sMBy1CwWKR/YjF+fS/Uv2di0t/eEAdBT0QnvlD/PolR/xoOgu4JUd7bFdS/e6I1foODoFuqz3M2mUziFF+of5dEb/xGwyAYCwmCVuPNYv5MqX94Yl75NWKD4PLyEm92KqQoqH9Y8Bnis0zC+A14LbxxVqiVCfUPh678plxNFYQe5pjRgAgpDAv4IOAHJyCEkDJoiPaeCyG5UA1oRIYWHNivSSbV0wLq/zbQXz+bS8kV/AeZJ35NCcYPqH8zvv4VS8kVFou8phTjB9T/NcVt+zgI9rjQDRwTgPrvKcn5v4CDYIfT/vtFiS/UHxRr/AYHwQ4t9DiVwihZ/+KN36ATKJsS9U+utr9r/EGQdQSUNFKa/geZkImQ/2rHlznnQDG7oX9b9Xwl5AUl6G9oLcSSxl8Q/p4P13YJIaQMisvzEkJ2lJjnJyQY3lnoJGfNUvP8oUhZf7c70s2eCG1wL7uhRJ0iQnCveiDIhzf7t/f9IvP8IUhJfx/b9rErUkvgRVPIE1fv6xrvbzweu7OzM3d7e4v3OhfSilT092HMJzCxF4u43eWctfFvt1uHu9nxXvF1CWmtroldfx9W+HVErINAjX+M65ngAPxnOAJ1AiMhrUjBCdD4Oya2QYBlPwx8vV47WwFg+a+XZbrz83NzANz/ByBmJ0Dj74lYBgECfrbnt6U/DB/vC7388L2rqyu8vzshwYjRCdD4e8YfBLidVgYA0X7M9jB8PGazmbu5ualnfiz9dSAsufwPTwz6+5jjp/H3CD5ofPB9343u9v3u6+U+0jyY7eEA8Hx3d4c/QjvvMyGdMZT+TeA9wBHR+DPHUn3T6bRe7uMxn89tn18v/TH7O17gQEheYM9vEX7M9hbsg/FbHED3/IPPSISQgNhyE0au+7x7PPtOQFcB3PMTMjTYf4cyRN3zL2DgMHgs/7XU99acgDIWEgUh9W/4uWMh8QKBvCh8qxSR7fmxt0eEv8kJ6MzP8/2REFL/g59bp/o0xsMAb6xAnBB5Yr+6D3X9KOpBxP/ACWA0jFnoEw+h9D/4mYd5/pGQeAlRLFK95tJy+35578PDQ+0E9LAPi3wixAUsFmKRT6I0DIIPzdJuf6R3i+UeZnsz/nqjPx47/fMpZ/54OVb/g5/BZi4pY4Pgo8s2d3CkF0Z/cXFRL/+Xy2W9BdBUH4/5JsBn9W94PZu5pI77QzMOjepiNp/j71hO//fv31sr7qmtfT73i3xWjnvAZHhH/4nquXrLwB2bueSJ27Vmvodhq4df4BmzvQb3IPxWl/zgRl/DwZA4GrhdYFUHfbHE1y0enXsJ2FLfCnggvjqBejDoTI8o38ocgJAscNq8BY4fv/Uf+J46gjkdQcbA+19fXzs7zQfR8TWcgH+kFw/u+fMDKz/o3OQETk9PLcWLPSBbeeWELd91eb+CcTc5gXr6r9J8PNKbF/7S3z+6DYcvDasBOv6M0GUduNDfv+cEYPhjIVmA+I3Vc4gaOQzfHAECvb4joAPICCzlrIJP93h/dAIYDBQ/L8wBNC37rXUblv5CB5AfGvi5h6F7Ed9GJ2CZP0b780O1vreVnnhOAFsBOoCMscg/HMBbTsCO+grJFkvvHmYCSnYA/5MMcbsiH6TykNgfr9fry58/f0oltFxcXMj379+l+h42gBcnJyfr6iXfq1nhJ56FZIeuAq+fn59Xv379Oq0CgVJNBEIydAAavLv98ePHeSX4bfX1OQSv9noQ/a7y9A8HTuAcTqB63FSPZyE5Mq3GwOW3b99kNpu9+5e/fv2Kp3+FpAW8vB3cwbLOOvZYfl9LfGdW9KOn+mZCskZXhCuL9vtLfjvshd97hWArpn8TxGn5rhZzOL/gB19DYBzzxcEeTQEtGfArB7c7xbmyVu4YExoTuNcYEL6eCkkTxHYOmna4wzQfvq8z/+o949e940hIkjTp5/ZXjm/1+VQfr856UP/EcLtqr9s/OQENDl5+wPhH3nHQZK6mJjucNvNo2w+A+icC0jaY4a2LT5MT+Mye3+l58JSupiY7XIA2XtQ/IZw2f7D9v+X6D53AZ/f8LqGrqckOF7CNF/VPAF3Or6xvv53r951Amx5+DYOAXWEjxXXQxov6R4zTSzusht8OfABE+r3U39y1iPbbIODVX3ED4/Tagk8kENQ/QiyaC1Fg7PX6frm0Mk6/wUOQ8l799+j9I0cDwcF1ov4R4Xbde2vjxi92ogsPzPrY92szD7buJiQn3K6+v17q2yxvlV1u3+TRAn4jIYTkAfbymOWx1AcwfHMEXp5/JISQ9PEDd867ohvGbvt+cwRe6+5ee7ltNpuVf7yYdA8+68fHxy0+exkY6t8RGnSxJX19yAd7fWvhjEs7NOCHb2D9/+AGqO3HQGSeuD/8PD/GggwM9e8IBPCwr7ciHnzA6NrqtW5+4QRkIByLRXrDRXhXH/XvCKRccEuPX8mHD9jr7Vc7AV32D9rJh4Oge2I0foP6d8QHnADO9kdxYw8HQXfEbPwG9e+It5yAlvdG1beNgyA8KRi/Qf07oskJIEYQw8x/SMMgGAs5CmR0UjF+g/oHwh00YzAn0OZgT1/YINBU5VTIUeCzw2eYivEb1L8l7o1mDm7X220a48x/iNtVLE4dC5OOxu2794wlMaj/kbgAzRwIIQmS4p6PEBKIp6enexo/IYWCPdNms1nnbPxat7BwvH/+P7Dt08/kUjKH+hcOxGeeeI8f86lYSuZQ/8JhsciehoBv9rMi9VdcwZcucBCkVeEXmuL1dy0vbciBkgdBycZvFKs/8/x7ShwENP49xelP8V9T0iBgncdritGfxv82/iDIORJ+EAGfCKnJXn8a//to7fgy51y45sCX1P812erPZR8hBVMZ/Ax9+2j8hBSIHumcpXikkxBCBsXtz8QnUyXndvfz8Sx8AFLUnwTEveyKE32KyAK+7IYThqT0V88/o+cPBz7TVPLEJdb2d00y+pv4elHHTEgwUigWYaq3O6LXn56/e2IeBDT+7olWf4rfHzEOAurfH9HpT/H7J6ZBQP37Jxr9Kf5w+IMAt9PKQOB6NurfP4Prjyg/jX9Y8JnDAHE/vQwE/m0MQOrfP4PqX/3jp15Dj4kQQspCK5SK7OZDCCGEEBIfbneH4kgCoT9vLCQJguqPaD8CDdXzlZDogaEuFotgKSLL9uBnYmAJiZqg+vupPlzbJSR6YKSh8sSODVyTI5j+LO9NlxDFIqzzSJfW+jPPnz4Ng+DDGRvqnz5t9GeePxNsEHx2+U798+BY/e3FzPNnwLE6Uv88oI6EEEIIIYQQQgghhBBCCCGEEEIIIYQQQkiRoHyQxz/T51gdqX8evKfjlzdeNHp4eFjp15OTk5N/hCQHjoFWOt7o139VOj5/8HXUPwOO1f+/02ApXEhJmmnTzIP6p49r28wlRFMJMgwhmnlQ/3RB854g/RwaBgF7wkVOyGYe1D9N0L4vWDMXGwTaFHIsJGpgpF5TyIm0hPqnR6XTdLPZrF2oZi7aVIDePxFgqCH1ov6EEEIIITHRtl7jixBCkuToPH8ocGMQrihmiqh/8Jnjau6hrwen/sPQOs8fAgxA5on7xxcfBigDQf2HIUSdR6g3wmKRnolGfKH+QxCT/vaGOAh6Ijrxhfr3SYz613AQdE+04gv174Ng5b1dwUHQHTEbv0H9u6X6PGeTySTu69oaBsFYSCui9/we1L87tBpzFv1naoPg8vISA2AqpBX4DPFZxm78BvUn9awF8R07yrRGPf80pdmU+hNCyJHoYa4ZHSghhWEBXwT84ASEEFIGDdmec8mJ6j+EyNAiu/9YACC+fjaXkinU/21SSPW2BuIzT/waX/yKpWQK9W+mCOMHLBZ5TfbLPg/q/5pijN/gINhTnPhC/X1cwAauScFBUKbxG9R/h9P7F0rTv6bkQVCy8Rt0Aju00OtUSqTEQZBSbX/X0AmQF4Mg5wi4cRAJn0jhlKY/aUBrx5c558ANzYUvafx7StAfqxv0UKyer4QQUg5+zAfXdgkhpAxKqvMghHgUm+cPhdufhU/Oa+qRTp6Jb0HK+oOi8/whcC+74SSTIrJlH7vitCMl/RHcqx4I8uHN/u19v9w8f1swi6aWJ+aeLxyp6F+9r2u8v/F47M7Oztzt7S3e61xIe1IqFmGFX3hi19/tLuesjX+73brFYlG/V3xdQlq7F1JwAjT+7ohVfzX+Ma5ngwPwn+EI1AmMhLQnZidA4++e2PTHsh8Gvl6vna0AsPzXy1Ld+fm5OQDu/0MRoxOg8fdHLPoj4Gd7flv6w/DxvtDLD9+7urrC+7sTEhZ/EOB2WhkYE57G3w8x6I9oP2Z7GD4es9nM3dzc1DM/lv46FpZc/ncEBgEMD7XVMjB4DxiINP7+GEp/t7/voF7uI0WJ2R4OAM93d3f4I7TzPhNCSD5Yqm86ndbLfTzm87nt8+ulP2Z/x+vQCMkL7Pktwo/Z3oJ9MH6LA+ief/AVKSEkILbdgJHr3v4ez74T0FUA9/wxgP1XF0Lozx0LiZqQ+uuefwEDh8Fj+a+lvrfmBJSxkOGBEF4UNliKyFJ9usdjgCdSQupve37s7RHhb3ICOvPzfH8swDhD54kb8vwjIVESSn+/ug91/SjqQcT/wAlgNhiz0CcyQhaLsMgnPULoX73m0nL7fnnvw8ND7QT0sA+LfGKlYRB82ks7NnNIlmP1d/sjvVtsJTDbm/HXG/3x2OmfTznzR44NgmOX7Y7NHJLms/q7gyO9MPqLi4t6+b9cLustgKb6eMw3FdwfmjFggKg3X71l4I7NHJLmHf3PVPs5/o7l9H///r214p7a2udzv8hn5RgDShsN3Czg1SE4lom6xKO4heB2rdnvYdi6QljgGbO9BvfgOLa65Ac3+hpOBinjtHkDhMdv/Qe+p45gTkeQL7bUtwIeaK5OoJ4MdKZHlG9lDkBIPsDzQ/QmJ3B6emopHqwB2corQzDDX19fOzvNh7GAr+EE/CO9eHDPnxH+0t8/ugnBpWE1QOHzwpbvurxfwbibnEA9/VdpPh7pzQjs3yyfK2rkMHxzBAj0+I6ADiAvdFsHLvT37zkBGP5YSB6YA2ha9lvrJiz9hQ4gO7CVswo+jfH80QlgMqD2GaKC35unF88JYCtAB5AnGvi9h6F7GZ9GJ2CZP0b7M8XSO4eZADqAvLHIPxzAW07AjvpKYfxPCkBngevn5+fVr1+/TqtAoFQDQUieuF2RD1J5SOyP1+v15c+fP6Vy9HJxcSHfv3+X6nsIAF2cnJysq5d8r1YAP/EshVGEA6iYVkZ/+e3bN5nNZu/+5a9fv+LpXyHJocG72x8/fpxXDv+2+vocDr+K9cDp31UrvYcDJ3AOJ1A9bqrHs5D80BlhZdF+f8lvhz3we68QZMX0T3pglWcHd6Cjdeyx/L6W+M6s6EdP9c2ElIHbneJaWStnFIRoTOBe94D4eiokSZyW72oxl/MLfvA1jB6642CPpoCXDPhljO79RwffG6kj2OrzqT5e1Xo3vZ7EC2K7B0073GGaD9/XmX/1nvFT/4Rx2syjbT+AIW+gIZ/D7ao9b//kBDQ4ePkB46f+qeICtPFy2g8gpavJSwZpW8zw1sWnyQl8Zs9P/RPFBWzj5RK6mrxkTCfb/1uu/9AJfHbPT/0Tw3XQxqthELArcETocn5lffvtXL/vBNr08KP+CQFxvLbQEwmEDQJe/RQXTi/tsBp+O/AFEOn3Un9z1yLaT/0TQgNBwb20Zg/o/SPBsjkwShh7vb5fLq2M22/wEqS8V/+9sRBChsXtuvfWxo1f7EQnHpj1se/XZh5s3U1ITrhdfX+91LdZ3io73b7JqwX8RkIIyQPs5THLY6kPYPjmCLw8/0hI3iAd8/j4uN1sNisZGLwH/3gpCYcfuHPeFd0wdtv3myPwWnf32suR+veMn+fHBy8DA0fEPHF4NOhmS/r6kA/2+tbCHZd2aMAP38D6/8ENUNtP/XvERXhXn2OxSCcggId9vRXx4LNF12avdfsLJyADQf17IkbjNzgIwoOUK27p8Sv58Nl6vf1qJ6DL/kE7+VD/jonZ+A0OgvB8wAngbH8UN/ZQ/45IwfgNDoLwvOUEtLw3qr6N1D8wiOimYvxGwyAYC2lFkxNAjCCGmf8Q6h8QRHeR7knF+A0bBJqqmgr5NO6gGYc5gTYHe/qC+gfC7bv3jCUx3K5ibepYmPJp3BvNXNyut+M0xpn/EOpPyBG4AM1cCCEJkmLMhxASiKenp3saf4Fg2Vc9FsjpSuZo3hr/115r1lMAe+bNZrPO2fip/wH+nq9iKZkD8ZknLhfq79EQ8MneK7JYpGyov5JShV9oOAjKvnSjeP1LNn6j5EHgWl7akgPF6k/j31PiIGCef09x+jPP+5qSBgGd/2uKcgIHEdCJkBp/EOSaCaHxv00J+tdoDnRJ8V+jtePLHGshaPzvk7P+pGC47SOkYCqDn6FvH42fkAJxuyPdaN01FlIGbnc/37TkFE8o3L4nAmvHCyQ5/S3gw24oYXAvuyKxbLgwktK/xNr+rsFqKpU8sa78Zlz5hSMZ/Znq6Y4UikVMf72oYyYkGNHrT+PvnpgHAVd+3ROt/jT+/ohxEFD//ohOf4rfPzENAurfP1E5AVzPRPH7xx8EuJ1WBoDGPxyH+ruhjlTjbnR9AxMhvYLPHA4YGkjPIMpP4x+WIfUnhYMZx2voMRFCSFlohVqR3XwIIaQc3O5OtrGQJFC9RkKKRCsyRxICi/YuFgvs986ERA3Eh1ahUkT4GQg0Vc9XQqInqP6ODRyTA046VJ7Y1x/XdgmJnmD6M8+bLiGKRVjemy6t9WeeN30aBsGHI/bUP33a6M88bybYIPjs9o3658Gx+tuLmefNgGN1pP55QB0JIYQQQgghhBBCCJGy+T9ftRg+rVNPfAAAAABJRU5ErkJggg==');\n",this.isOpen=!0,this.bannerMounted=!1,this.bannerStyles=O9e,this.buttonStyles=T9e,this.licenseKeyUrl="https://www.telerik.com/kendo-angular-ui/components/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-banner"}ngOnInit(){x_e||(this.bannerMounted=!0,x_e=!0)}ngAfterViewInit(){this.isBannerRendered&&document.body.appendChild(this.banner.nativeElement)}ngOnDestroy(){this.isBannerRendered&&document.body.removeChild(this.banner.nativeElement)}closeBanner(){this.isOpen=!1}get isBannerRendered(){return ne()&&this.banner&&this.banner.nativeElement}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.VBU({type:s,selectors:[["div","kendoWatermarkOverlay",""]],viewQuery:function(e,n){if(1&e&&t.GBs(r9e,5),2&e){let o;t.mGM(o=t.lsd())&&(n.banner=o.first)}},hostVars:2,hostBindings:function(e,n){2&e&&t.Aen(n.watermarkStyle)},attrs:a9e,decls:1,vars:1,consts:[["banner",""],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],["width","16","height","16","viewBox","0 0 16 16","fill","none"],["fill-rule","evenodd","clip-rule","evenodd","d","M8 1L0 15H16L8 1ZM7 6V11H9V6H7ZM7 14V12H9V14H7Z","fill","#1E1E1E"],[3,"href","ngStyle"],["title","Learn More",3,"ngStyle"],["d","M15 8C15 11.8656 11.8656 15 8 15C4.13437 15 1 11.8656 1 8C1 4.13437 4.13437 1 8 1C11.8656 1 15 4.13437 15 8ZM14 8C14 4.6875 11.3125 2 8 2C4.6875 2 2 4.6875 2 8C2 11.3125 4.6875 14 8 14C11.3125 14 14 11.3125 14 8ZM11 6C11 7.4125 10.2687 8.05937 9.73125 8.53125C9.25937 8.94688 9 9.17813 9 10H7C7 8.275 7.84688 7.525 8.40938 7.03125C8.84062 6.65312 9 6.50938 9 6C9 5.45 8.55 5 8 5C7.45 5 7 5.45 7 6H5C5 4.34375 6.34375 3 8 3C9.65625 3 11 4.34375 11 6ZM9 13V11H7V13H9Z","fill","#1E1E1E"],["title","Close",3,"click","ngStyle"],["d","M13 4.41562L9.41563 8L13 11.5844L11.5844 13L8 9.41563L4.41562 13L3 11.5844L6.58437 8L3 4.41562L4.41562 3L8 6.58437L11.5844 3L13 4.41562Z","fill","#1E1E1E"]],template:function(e,n){1&e&&t.DNE(0,u9e,15,10,"div",1),2&e&&t.Y8G("ngIf",n.isOpen&&n.bannerMounted)},dependencies:[W,Jn],encapsulation:2}),s})(),B_=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe]]}),s})();const I9e=["telerik.com","progress.com","stackblitz.io","csb.app"];function V_(s){return!I9e.some(e=>globalThis.document?.location.hostname.endsWith(e))&&!s}let jI=(()=>{class s{constructor(e){this.templateRef=e,this._showSeparator=!1}set showSeparator(e){this._showSeparator=e}get showSeparator(){return this._showSeparator}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoPrefixTemplate",""]],inputs:{showSeparator:"showSeparator"}}),s})(),HI=(()=>{class s{constructor(e){this.templateRef=e,this._showSeparator=!1}set showSeparator(e){this._showSeparator=e}get showSeparator(){return this._showSeparator}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoSuffixTemplate",""]],inputs:{showSeparator:"showSeparator"}}),s})(),dF=(()=>{class s{constructor(){this.orientation="vertical",this.hostClass=!0}get vertical(){return"vertical"===this.orientation}get horizontal(){return"horizontal"===this.orientation}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-separator"]],hostVars:6,hostBindings:function(e,n){2&e&&t.AVh("k-input-separator-vertical",n.vertical)("k-input-separator-horizontal",n.horizontal)("k-input-separator",n.hostClass)},inputs:{orientation:"orientation"},decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),zc=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({}),s})();class Wa{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}const zJ=()=>{let s=0;if(ne()&&document.createElement){const i=document.createElement("div");i.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",i.innerHTML="&nbsp;",document.body.appendChild(i),s=i.offsetWidth-i.scrollWidth,document.body.removeChild(i)}return s};let t0=(()=>{class s{constructor(){this.changes=new t.bkB,typeof window<"u"&&ne()&&document.body.style.setProperty("--kendo-scrollbar-width",`${zJ()}px`)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var mt=_e(987);function R9e(s,i){if(1&s&&(t.qSk(),t.nrm(0,"svg",1)),2&s){const e=t.XpG();t.xc7("pointer-events","none"),t.Y8G("innerHTML",e.content,t.npT),t.BMQ("viewBox",e.icon.viewBox)}}function N9e(s,i){if(1&s&&t.nrm(0,"kendo-svgicon",3),2&s){const e=t.XpG();t.Y8G("ngClass",e.innerCssClass)("icon",e.svgIcon)("size",e.size||(null==e.iconSettings?null:e.iconSettings.size))("themeColor",null==e.iconSettings?null:e.iconSettings.themeColor)("flip",null==e.iconSettings?null:e.iconSettings.flip)}}function L9e(s,i){if(1&s&&t.nrm(0,"kendo-icon",5),2&s){const e=t.XpG(2);t.Y8G("ngClass",e.innerCssClass)("name",e.name)("size",e.size||(null==e.iconSettings?null:e.iconSettings.size))("themeColor",null==e.iconSettings?null:e.iconSettings.themeColor)("flip",null==e.iconSettings?null:e.iconSettings.flip)}}function G9e(s,i){if(1&s&&t.nrm(0,"span",6),2&s){const e=t.XpG(2);t.Y8G("ngClass",e.customClasses)}}function P9e(s,i){if(1&s&&t.DNE(0,L9e,1,5,"kendo-icon",4)(1,G9e,1,1,"ng-template",null,1,t.C5r),2&s){const e=t.sdS(2),n=t.XpG();t.Y8G("ngIf",!n.customFontIconClass)("ngIfElse",e)}}const F9e={name:"@progress/kendo-angular-icons",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925013,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},A_e={default:"k-icon",xsmall:"k-icon-xs",small:"k-icon-sm",medium:"k-icon-md",large:"k-icon-lg",xlarge:"k-icon-xl",xxlarge:"k-icon-xxl",xxxlarge:"k-icon-xxxl"};let R_e=(()=>{class s{constructor(e,n){this.element=e,this.renderer=n,(0,mt.$)(F9e)}get horizontalFlip(){return"horizontal"===this.flip||"both"===this.flip}get verticalFlip(){return"vertical"===this.flip||"both"===this.flip}set themeColor(e){const n=this.element.nativeElement;this._themeColor&&this.renderer.removeClass(n,`!k-color-${this._themeColor}`),this._themeColor=e,e&&this.renderer.addClass(n,`!k-color-${e}`)}get themeColor(){return this._themeColor}set size(e){const o=A_e[e],r=this.element.nativeElement;this.renderer.removeClass(r,A_e[this.size]),e&&"default"!==e&&this.renderer.addClass(r,o),this._size=e}get size(){return this._size}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoIconBase",""]],hostVars:4,hostBindings:function(e,n){2&e&&t.AVh("k-flip-h",n.horizontalFlip)("k-flip-v",n.verticalFlip)},inputs:{flip:"flip",themeColor:"themeColor",size:"size"}}),s})(),jJ=(()=>{class s extends R_e{constructor(e,n){super(e,n),this.element=e,this.renderer=n,this.hostClass=!0,this.hostAriaHidden=!0}set name(e){if(ne()){const n=this.element.nativeElement;this.renderer.removeClass(n,`k-i-${this.name}`),this.renderer.addClass(n,`k-i-${e}`)}this._name=e}get name(){return this._name}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-icon"]],hostVars:5,hostBindings:function(e,n){2&e&&(t.BMQ("aria-hidden",n.hostAriaHidden),t.AVh("k-icon",n.hostClass)("k-font-icon",n.hostClass))},inputs:{name:"name"},exportAs:["kendoIcon"],features:[t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),N_e=(()=>{class s extends R_e{constructor(e,n,o){super(n,o),this.domSanitizer=e,this.element=n,this.renderer=o,this.hostClass=!0,this.hostAriaHidden=!0}set icon(e){const n=this.element.nativeElement,o=ne();this._icon&&this._icon.name&&o&&this.renderer.removeClass(n,`k-svg-i-${this._icon.name}`),this._icon=e,o&&this.renderer.addClass(n,`k-svg-i-${this._icon.name}`)}get icon(){return this._icon}get content(){return this.domSanitizer.bypassSecurityTrustHtml(this.icon.content)}get visible(){return this.icon&&ne()}ngOnInit(){this.verifyIconProperty()}verifyIconProperty(){if((0,t.naY)()&&!this._icon)throw new Error("\n                Invalid configuration.\n                The input [icon] is required for the Kendo UI SVG Icon component for Angular.\n                See https://www.telerik.com/kendo-angular-ui/components/icons/svg-icon\n            ")}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(I3),t.rXU(t.aKT),t.rXU(t.sFG))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-svg-icon"],["kendo-svgicon"]],hostVars:5,hostBindings:function(e,n){2&e&&(t.BMQ("aria-hidden",n.hostAriaHidden),t.AVh("k-svg-icon",n.hostClass)("k-icon",n.hostClass))},inputs:{icon:"icon"},exportAs:["kendoSVGIcon"],features:[t.Vt3],decls:1,vars:1,consts:[["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",3,"pointerEvents","innerHTML",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",3,"innerHTML"]],template:function(e,n){1&e&&t.DNE(0,R9e,1,4,"svg",0),2&e&&t.Y8G("ngIf",n.visible)},dependencies:[W],encapsulation:2}),s})(),B9e=(()=>{class s{constructor(){this.changes=new Xe.B}notify(e){this.changes.next(e)}getSvgIcon(e){return null}getCustomFontIconClass(e){return null}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const V9e=new t.nKC("Kendo UI Icon-Settings token");let HJ=(()=>{class s{constructor(e,n){this._iconSettings=e,this.iconSettingsService=n,this.changes=new Fn.t(this.iconSettings||{type:"svg"}),this.subs=new be.yU,n&&this.subs.add(n.changes.pipe((0,U.T)(o=>(s=>null!=s)(o)?o:this._iconSettings),x(o=>this._iconSettings=o)).subscribe(o=>this.changes.next(o)))}get iconSettings(){return this._iconSettings}ngOnDestroy(){this.subs.unsubscribe()}getSvgIcon(e){return this.iconSettingsService&&this.iconSettingsService.getSvgIcon(e)}getCustomFontIconClass(e){return this.iconSettingsService&&this.iconSettingsService.getCustomFontIconClass(e)}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(V9e,8),t.KVO(B9e,8))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),Ke=(()=>{class s{constructor(e){this.iconsService=e,this.hostClass=!0,this.innerCssClass="",this.customFontClass="",this.subs=new be.yU,this.subs=e.changes.subscribe(n=>{this.iconSettings=n})}get customClasses(){return[this.customFontClass,this.innerCssClass,this.customFontIconClass].filter(n=>!!n).join(" ")}get hasSvgIcon(){return this.svgIcon=this.iconsService.getSvgIcon(this.name)||this.svgIcon,!!this.svgIcon||((0,t.naY)()&&(console.groupCollapsed(`Kendo UI for Angular: Icon type is set to 'svg', but only font icon name is provided. The "${this.name}" font icon will be rendered instead.`),console.warn('\nStarting from v7.0.0 (October, 2023) of the Kendo Themes, the font icons will be removed from the theme.\n* To render an SVG icon, update the component configuration by setting the "svgIcon" input to the respective icon definition.\n* To continue to use font icons, install the "@progress/kendo-font-icons" package and import "@progress/kendo-font-icons/dist/index.css".\n\nPlease note, that font icons are not compatible with a strict Content Security Policy and require the use of the "unsafe-inline" override.\n\nFor further details, check the following documentation articles:\nhttps://www.telerik.com/kendo-angular-ui/components/icons/icon-settings\nhttps://www.telerik.com/kendo-angular-ui/components/styling/icons/\nhttps://www.telerik.com/kendo-angular-ui/components/styling/svg-icons/\nhttps://www.telerik.com/design-system/docs/foundation/iconography/font-icons/\nhttps://www.telerik.com/design-system/docs/foundation/iconography/icon-list/\n            '),console.groupEnd()),!1)}get customFontIconClass(){return this.iconsService.getCustomFontIconClass(this.name)||this.customFontClass}ngOnDestroy(){this.subs.unsubscribe()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(HJ))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-icon-wrapper"]],hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-icon-wrapper-host",n.hostClass)},inputs:{name:"name",svgIcon:"svgIcon",innerCssClass:"innerCssClass",customFontClass:"customFontClass",size:"size"},exportAs:["kendoIconWrapper"],decls:3,vars:2,consts:[["font",""],["custom",""],[3,"ngClass","icon","size","themeColor","flip",4,"ngIf","ngIfElse"],[3,"ngClass","icon","size","themeColor","flip"],[3,"ngClass","name","size","themeColor","flip",4,"ngIf","ngIfElse"],[3,"ngClass","name","size","themeColor","flip"],[3,"ngClass"]],template:function(e,n){if(1&e&&t.DNE(0,N9e,1,5,"kendo-svgicon",2)(1,P9e,3,2,"ng-template",null,0,t.C5r),2&e){const o=t.sdS(2);t.Y8G("ngIf","svg"===(null==n.iconSettings?null:n.iconSettings.type)&&n.hasSvgIcon)("ngIfElse",o)}},dependencies:[N_e,jJ,W,Pe],encapsulation:2}),s})(),L_e=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe],Fe]}),s})(),G_e=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe]]}),s})(),An=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({providers:[HJ],imports:[[L_e,G_e],L_e,G_e]}),s})();function U_e(s){return s.ownerDocument||s.document||s}const $J=s=>U_e(s).defaultView,uF=s=>U_e(s).documentElement;let XJ=0;function hF(s){const i=$J(s),e=uF(s),n={height:i.innerHeight,width:i.innerWidth};return e.scrollHeight-e.clientHeight>0&&(n.width-=function z9e(){if(!XJ&&typeof document<"u"){const s=document.createElement("div");s.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",s.innerHTML="&nbsp;",document.body.appendChild(s),XJ=s.offsetWidth-s.scrollWidth,document.body.removeChild(s)}return XJ}()),n}const Qh=s=>{let i=s.getBoundingClientRect(),{left:e,top:n}=i;return!i.height&&!i.width&&(i=(s=>{const{display:i,left:e,position:n}=s.style;s.style.display="",s.style.left="-10000px",s.style.position="absolute";const o=s.getBoundingClientRect();return s.style.display=i,s.style.left=e,s.style.position=n,o})(s)),{top:n,left:e,height:i.height,width:i.width}},WJ=(s,i)=>{const e=[];let n=s.parentNode;for(;n&&(e.push(n),n!==i);)n=n.parentNode;return e};function pF(s){const i=uF(s),e=$J(s);return{x:e.pageXOffset||i.scrollLeft||0,y:e.pageYOffset||i.scrollTop||0}}const V_e=s=>s===(s.ownerDocument||{}).body?pF(s):{x:s.scrollLeft,y:s.scrollTop},YJ=s=>{let i=s.offsetParent;for(;i&&"static"===i.style.position;)i=i.offsetParent;return i||uF(s)},KJ=(s,i,e=1)=>{const n=i?YJ(i):null,{top:o,left:r,height:a,width:l}=((s,i)=>{const e=$J(s),n=e.getComputedStyle(s),o=Qh(s),r=i||YJ(s),a=s.ownerDocument;let c={top:0,left:0};if("fixed"!==n.position&&r!==a.body&&r!==a.documentElement){const u=e.getComputedStyle(r);c=Qh(r),c.top+=parseInt(u.borderTopWidth,10),c.left+=parseInt(u.borderLeftWidth,10)}return{top:o.top-c.top,left:o.left-c.left,height:o.height,width:o.width}})(s,n),{x:c,y:u}=((s,i)=>s?V_e(s):function H9e(s){const i=YJ(s);return i?V_e(i):{x:0,y:0}}(i))(n,s),f=s.ownerDocument,_=n===f.body||n===f.documentElement?1:e;return{top:o+u*_,left:r+c*_,height:a,width:l}};const j_e=function(s,i,e){let n=0;return s+i>e&&(n=e-(s+i)),s<0&&(n=-s),n},H_e=function({offset:s,size:i,anchorSize:e,viewPortSize:n,anchorAlignPoint:o,elementAlignPoint:r,margin:a}){let l=0;const f=2*a;if(r!==o&&"center"!==r&&"middle"!==r&&"center"!==o&&"middle"!==o){const _="top"===o||"left"===o;s<0&&_?(l=i+e+f,s+l+i>n&&(l=0)):s>=0&&!_&&(s+i>n&&(l+=-(e+i+f)),s+l<0&&(l=0))}return l},W9e=s=>{const i=[];let e=s.parentNode.firstElementChild;for(;e;)e!==s&&i.push(e),e=e.nextElementSibling;return i};!function q9e(s){let i,e=!1}(s=>{if(!W_e())return!1;const i=s?s.ownerDocument:document;if(!i||!i.body)return!1;const n=i.createElement("div");n.style.transform="matrix(10, 0, 0, 10, 0, 0)",n.innerHTML='<div style="position: fixed; top: 10px;">child</div>',i.body.appendChild(n);const o=10!==n.children[0].getBoundingClientRect().top;return i.body.removeChild(n),o});const W_e=()=>!!(typeof window<"u"&&window.document&&window.document.createElement),vze=["container"],Sze=["*"];function Cze(s,i){}const JJ=(s,i)=>s||{height:0,left:i.left,top:i.top,width:0},mF=()=>typeof window<"u",yze=/auto|scroll/,Dze=s=>(s=>`${s.style.overflow}${s.style.overflowX}${s.style.overflowY}`)(s)||(s=>{const i=window.getComputedStyle(s);return`${i.overflow}${i.overflowX}${i.overflowY}`})(s),J_e=1e3/60,Mze=function Tze(s){let i,e=!1;return(...n)=>(e||(i=s(...n),e=!0),i)}(()=>{if(!ne()&&null!==document.body)return!1;const i=document.createElement("div");i.style.transform="matrix(10, 0, 0, 10, 0, 0)";const e=document.createElement("div");e.style.position="fixed",e.style.top="10px",e.textContent="child",i.appendChild(e),document.body.appendChild(i);const n=10!==i.children[0].getBoundingClientRect().top;return document.body.removeChild(i),n}),WI=(s,i)=>s&&1!==i?{height:s.height/i,left:s.left/i,top:s.top/i,width:s.width/i}:s,xze=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];let tw=(()=>{class s{addOffset(e,n){return{left:e.left+n.left,top:e.top+n.top}}addScroll(e,n){return function F_e(s,i){return{top:s.top+i.y,left:s.left+i.x,height:s.height,width:s.width}}(e,n)}align(e){return(s=>{const{anchorRect:i,anchorAlign:e,elementRect:n,elementAlign:o,margin:r={}}=s,a=e.horizontal,l=e.vertical,c=o.horizontal,u=o.vertical;let f=r.horizontal||0,_=r.vertical||0,g=i.top,S=i.left;return"bottom"===l&&(g+=i.height),("center"===l||"middle"===l)&&(g+=Math.round(i.height/2)),"bottom"===u&&(g-=n.height,_*=-1),("center"===u||"middle"===u)&&(g-=Math.round(n.height/2),_*=-1),"right"===a&&(S+=i.width),("center"===a||"middle"===a)&&(S+=Math.round(i.width/2)),"right"===c&&(S-=n.width,f*=-1),("center"===c||"middle"===c)&&(S-=Math.round(n.width/2),f*=-1),{top:g+_,left:S+f}})(e)}boundingOffset(e){return(s=>{if(!s.getBoundingClientRect){const r=hF(s);return{bottom:r.height,left:0,right:r.width,top:0}}const{bottom:i,left:e,right:n,top:o}=s.getBoundingClientRect();return{bottom:i,left:e,right:n,top:o}})(e)}getFontStyles(e){const n=this.getWindow();if(!n||!e)return[];const o=n.getComputedStyle(e);return xze.map(r=>({key:r,value:o[r]}))}getWindow(){return mF()?window:null}hasOffsetParent(e){return!(!e||!ne()||!this.nativeElement(e).offsetParent)}offset(e){return e&&ne()?Qh(e):null}offsetAtPoint(e,n){if(!e||!ne())return null;const o=this.nativeElement(e),{left:r,top:a,transition:l}=o.style;o.style.transition="none",o.style.left=`${n.left}px`,o.style.top=`${n.top}px`;const c=Qh(o);return o.style.left=r,o.style.top=a,this._dummy=o.offsetHeight,o.style.transition=l,c}nativeElement(e){return e&&ne()?e.nativeElement||e:null}position(e,n,o=1){return e&&n?KJ(e,this.nativeElement(n),o):null}removeScroll(e,n){return function z_e(s,i){return{top:s.top-i.y,left:s.left-i.x,height:s.height,width:s.width}}(e,n)}restrictToView(e){return(s=>{const{anchorRect:i,anchorAlign:e,elementRect:n,elementAlign:o,collisions:r,viewPort:a,margin:l={}}=s,{top:c,left:u,height:f,width:_}=n,{height:g,width:S}=a,b=l.horizontal||0,k=l.vertical||0;let D=0,O=0;const I="fit"===r.vertical,N="fit"===r.horizontal,P="flip"===r.vertical,G="flip"===r.horizontal;I&&(O+=j_e(c,f,g)),N&&(D+=j_e(u,_,S)),P&&(O+=H_e({margin:k,offset:c,size:f,anchorSize:i.height,viewPortSize:g,anchorAlignPoint:e.vertical,elementAlignPoint:o.vertical})),G&&(D+=H_e({margin:b,offset:u,size:_,anchorSize:i.width,viewPortSize:S,anchorAlignPoint:e.horizontal,elementAlignPoint:o.horizontal}));const H=P&&0!==O,$=G&&0!==D,Q=I&&0!==O,ie=N&&0!==D;return{flipped:$||H,fitted:Q||ie,flip:{horizontal:$,vertical:H},fit:{horizontal:ie,vertical:Q},offset:{left:D,top:O}}})(e)}scrollPosition(e){return pF(this.nativeElement(e))}scrollableParents(e){return(s=>{const i=[];if(!ne()||!mF())return i;let e=s.parentElement;for(;e;)(yze.test(Dze(e))||e.hasAttribute("data-scrollable"))&&i.push(e),e=e.parentElement;return i.push(window),i})(e)}stackingElementOffset(e){const n=this.getRelativeContextElement(e);return n?Qh(n):null}stackingElementScroll(e){const n=this.getRelativeContextElement(e);return n?{x:n.scrollLeft,y:n.scrollTop}:{x:0,y:0}}getRelativeContextElement(e){if(!e||!Mze())return null;let n=this.nativeElement(e).parentElement;for(;n;){if("none"!==window.getComputedStyle(n).transform)return n;n=n.parentElement}return null}useRelativePosition(e){return!!this.getRelativeContextElement(e)}windowViewPort(e){return hF(this.nativeElement(e))}zIndex(e,n){return((s,i)=>{if(!s||!ne()||!mF())return null;const e=((s,i)=>{const e=WJ(s);let o,r,n=i;for(;n&&(o=W9e(n),r=e.reduce((a,l)=>a.concat(o.filter(c=>c===l)),[])[0],!r);)n=n.parentElement;return r})(s,i);if(!e)return null;const n=[s].concat(WJ(s,e)).reduce((o,r)=>{const a=r.style.zIndex||window.getComputedStyle(r).zIndex,l=parseInt(a,10);return l>o?l:o},0);return n?n+1:null})(e,this.nativeElement(n))}zoomLevel(){return ne()&&mF()&&parseFloat((document.documentElement.clientWidth/window.innerWidth).toFixed(2))||1}isZoomed(){return this.zoomLevel()>1}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const q_e=new t.nKC("Popup Document Scale");let Q_e=(()=>{class s{constructor(e,n=1){this._dom=e,this.scale=n}alignElement(e){const{anchor:n,element:o,anchorAlign:r,elementAlign:a,margin:l,offset:c,positionMode:u}=e,f=this.scale||1,g="fixed"!==u&&this._dom.hasOffsetParent(o)?this.relativeRect(n,o,c,f):this.absoluteRect(n,o,c,f),S=WI(this._dom.offset(o.nativeElement),f);return this._dom.align({anchorAlign:r,anchorRect:g,elementAlign:a,elementRect:S,margin:l})}absoluteRect(e,n,o,r){const a=this.elementScrollPosition(e,n),l=JJ(this._dom.offset(e),o),c=2*r,u=this._dom.stackingElementScroll(n);1!==r&&u&&(u.x/=c,u.y/=c);const f=this._dom.stackingElementOffset(n);return 1!==r&&f&&(f.left/=c,f.top/=c),this._dom.removeScroll(this._dom.addScroll(((s,i)=>i?{height:s.height,left:s.left-i.left,top:s.top-i.top,width:s.width}:s)(WI(l,r),f),u),a)}elementScrollPosition(e,n){return e?{x:0,y:0}:this._dom.scrollPosition(n)}relativeRect(e,n,o,r){const a=JJ(this._dom.position(e,n,r),o);return WI(a,r)}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(tw),t.KVO(q_e,8))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),Z_e=(()=>{class s{constructor(e,n=1){this._dom=e,this.scale=n}positionElement(e){const{anchor:n,currentLocation:o,element:r,anchorAlign:a,elementAlign:l,collisions:c,margin:u}=e,f=this._dom,_=this.scale||1,g=f.offsetAtPoint(r,o),S=WI(g,_),b=WI(f.offset(n),_),k=JJ(b,o),D=e.viewPort||f.windowViewPort(r);D.width=D.width/_,D.height=D.height/_;const O=f.restrictToView({anchorAlign:a,anchorRect:k,collisions:c,elementAlign:l,elementRect:S,margin:u,viewPort:D}),I=f.addOffset(o,O.offset);return{flip:O.flip,flipped:O.flipped,offset:I}}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(tw),t.KVO(q_e,8))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),ege=(()=>{class s{constructor(e,n){this._dom=e,this._zone=n}subscribe(e){ne()&&this._zone.runOutsideAngular(()=>{this.subscription=wt(this._dom.getWindow(),"resize").pipe(e0(J_e)).subscribe(()=>e())})}unsubscribe(){this.subscription&&this.subscription.unsubscribe()}isUnsubscribed(){return this.subscription&&this.subscription.closed}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(tw),t.KVO(t.SKi))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),tge=(()=>{class s{constructor(e,n){this._dom=e,this._zone=n}forElement(e){return this.unsubscribe(),this.element=e,this}subscribe(e){if(!e||!ne()||!this.element)return;const n=this._dom.scrollableParents(this.element);this._zone.runOutsideAngular(()=>{const o=n.map(a=>wt(a,"scroll").pipe(e0(J_e)));this.subscription=Ht(...o).subscribe(a=>{const l=a.target;(n.filter(_=>_===l).length>0||l===document||l===window)&&e(this.isVisible(this.element,l))})})}unsubscribe(){this.subscription&&this.subscription.unsubscribe()}isVisible(e,n){const o=this._dom.boundingOffset(e),r=this._dom.boundingOffset(this._dom.nativeElement(n));return!(1<r.top-o.bottom||1<o.top-r.bottom||1<o.left-r.right||1<r.left-o.right)}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(tw),t.KVO(t.SKi))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const YI="left",nw="right",iw="down",KI={expand:s=>{const i="up"===s||s===iw?"scaleY":"scaleX";let o;return o=s===iw?"top":s===YI?nw:s===nw?YI:"bottom",{start:{transform:`${i}(0)`,transformOrigin:o},end:{transform:`${i}(1)`}}},slide:s=>{const i=s===YI||s===nw?"translateX":"translateY";return{start:{transform:`${i}(${s===nw||s===iw?-100:100}%)`},end:{transform:`${i}(0%)`}}},fade:()=>({start:{opacity:0},end:{opacity:1}}),zoom:()=>({start:{transform:"scale(0)"},end:{transform:"scale(1)"}})};let nge=(()=>{class s{constructor(e){this.animationBuilder=e,this.start=new t.bkB,this.end=new t.bkB}play(e,n,o){if(!this.flip||this.flip.horizontal!==o.horizontal||this.flip.vertical!==o.vertical){this.flip=o;const r=n.type||"slide",a=KI[r];if(a){const c=a(this.getDirection(o,n));this.playStates(e,c,n)}else if((0,t.naY)())throw new Error(`Unsupported animation type: "${r}". The supported types are slide, expand, fade and zoom.`)}}ngOnDestroy(){this.stopPlayer()}playStates(e,n,o){this.stopPlayer();const r=o.duration||100,a=this.animationBuilder.build([We(n.start),hi(`${r}ms ease-in`,We(n.end))]),l=this.player=a.create(e);l.onDone(()=>{this.end.emit(),this.stopPlayer()}),this.start.emit(),l.play()}getDirection(e,n){let o=n.direction||iw;return e.horizontal&&(o===YI?o=nw:o===nw&&(o=YI)),e.vertical&&(o===iw?o="up":"up"===o&&(o=iw)),o}stopPlayer(){this.player&&(this.player.destroy(),this.player=null)}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(ki))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const Nze={name:"@progress/kendo-angular-popup",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925018,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"},ige={left:-1e4,top:0};let sge=(()=>{class s{constructor(e,n,o,r,a,l,c,u,f){this.container=e,this._alignService=n,this.domService=o,this._positionService=r,this._resizeService=a,this._scrollableService=l,this.animationService=c,this._renderer=u,this._zone=f,this.animate=!0,this.anchorAlign={horizontal:"left",vertical:"bottom"},this.collision={horizontal:"fit",vertical:"flip"},this.popupAlign={horizontal:"left",vertical:"top"},this.copyAnchorStyles=!1,this.positionMode="fixed",this.offset=ige,this.anchorViewportLeave=new t.bkB,this.close=new t.bkB,this.open=new t.bkB,this.positionChange=new t.bkB,this.resolvedPromise=Promise.resolve(null),this.initialCheck=!0,(0,mt.$)(Nze),this._renderer.addClass(e.nativeElement,"k-animation-container"),this.updateFixedClass()}ngOnInit(){this.reposition=this.reposition.bind(this),this._resizeService.subscribe(this.reposition),this.animationSubscriptions=this.animationService.start.subscribe(this.onAnimationStart.bind(this)),this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this))),this._scrollableService.forElement(this.domService.nativeElement(this.anchor)||this.container.nativeElement).subscribe(this.onScroll.bind(this)),this.currentOffset=ige,this.setZIndex(),this.copyFontStyles(),this.updateFixedClass(),this.reposition()}ngOnChanges(e){e.copyAnchorStyles&&this.copyFontStyles(),e.positionMode&&this.updateFixedClass()}ngAfterViewInit(){this.animate||this.resolvedPromise.then(()=>{this.onAnimationEnd()}),this.reposition()}ngAfterViewChecked(){this.initialCheck?this.initialCheck=!1:this._zone.runOutsideAngular(()=>{this.unsubscribeReposition(),this.repositionSubscription=gs(this.resolvedPromise).subscribe(this.reposition)})}ngOnDestroy(){this.anchorViewportLeave.complete(),this.positionChange.complete(),this.close.emit(),this.close.complete(),this._resizeService.unsubscribe(),this._scrollableService.unsubscribe(),this.animationSubscriptions.unsubscribe(),this.unsubscribeReposition()}onResize(){this.reposition()}onAnimationStart(){this._renderer.removeClass(this.container.nativeElement,"k-animation-container-shown")}onAnimationEnd(){this._renderer.addClass(this.container.nativeElement,"k-animation-container-shown"),this.open.emit(),this.open.complete()}get currentOffset(){return this._currentOffset}set currentOffset(e){this.setContainerStyle("left",`${e.left}px`),this.setContainerStyle("top",`${e.top}px`),this._currentOffset=e}setZIndex(){this.anchor&&this.setContainerStyle("z-index",String(this.domService.zIndex(this.domService.nativeElement(this.anchor),this.container)))}reposition(){if(!ne())return;const{flip:e,offset:n}=this.position();(!this.currentOffset||((s,i)=>{const{left:e,top:n}=s,{left:o,top:r}=i;return Math.abs(e-o)>=1||Math.abs(n-r)>=1})(this.currentOffset,n))&&(this.currentOffset=n,ke(this.positionChange)&&this._zone.run(()=>this.positionChange.emit({offset:n,flip:e}))),this.animate&&this.animationService.play(this.contentContainer.nativeElement,this.animate,e),this.resizeSensor.acceptSize()}position(){const e=this._alignService.alignElement({anchor:this.domService.nativeElement(this.anchor),anchorAlign:this.anchorAlign,element:this.container,elementAlign:this.popupAlign,margin:this.margin,offset:this.offset,positionMode:this.positionMode});return this._positionService.positionElement({anchor:this.domService.nativeElement(this.anchor),anchorAlign:this.anchorAlign,collisions:this.collision,currentLocation:e,element:this.container,elementAlign:this.popupAlign,margin:this.margin})}onScroll(e){const n=ke(this.anchorViewportLeave);e||!n?this.reposition():n&&this._zone.run(()=>{this.anchorViewportLeave.emit()})}copyFontStyles(){!this.anchor||!this.copyAnchorStyles||this.domService.getFontStyles(this.domService.nativeElement(this.anchor)).forEach(e=>this.setContainerStyle(e.key,e.value))}updateFixedClass(){this._renderer["fixed"===this.positionMode?"addClass":"removeClass"](this.container.nativeElement,"k-animation-container-fixed")}setContainerStyle(e,n){this._renderer.setStyle(this.container.nativeElement,e,n)}unsubscribeReposition(){this.repositionSubscription&&this.repositionSubscription.unsubscribe()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(Q_e),t.rXU(tw),t.rXU(Z_e),t.rXU(ege),t.rXU(tge),t.rXU(nge),t.rXU(t.sFG),t.rXU(t.SKi))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-popup"]],viewQuery:function(e,n){if(1&e&&(t.GBs(vze,7),t.GBs(Os,7)),2&e){let o;t.mGM(o=t.lsd())&&(n.contentContainer=o.first),t.mGM(o=t.lsd())&&(n.resizeSensor=o.first)}},inputs:{animate:"animate",anchor:"anchor",anchorAlign:"anchorAlign",collision:"collision",popupAlign:"popupAlign",copyAnchorStyles:"copyAnchorStyles",popupClass:"popupClass",positionMode:"positionMode",offset:"offset",margin:"margin"},outputs:{anchorViewportLeave:"anchorViewportLeave",close:"close",open:"open",positionChange:"positionChange"},exportAs:["kendo-popup"],features:[t.Jv_([Q_e,nge,tw,Z_e,ege,tge]),t.OA$],ngContentSelectors:Sze,decls:6,vars:4,consts:[["container",""],[1,"k-child-animation-container"],[1,"k-popup",3,"ngClass"],[3,"ngTemplateOutlet","ngIf"],[3,"resize","rateLimit"]],template:function(e,n){if(1&e){const o=t.RV6();t.NAR(),t.j41(0,"div",1)(1,"div",2,0),t.SdG(3),t.DNE(4,Cze,0,0,"ng-template",3),t.j41(5,"kendo-resize-sensor",4),t.bIt("resize",function(){return t.eBV(o),t.Njj(n.onResize())}),t.k0s()()()}2&e&&(t.R7$(),t.Y8G("ngClass",n.popupClass),t.R7$(3),t.Y8G("ngTemplateOutlet",n.content)("ngIf",n.content),t.R7$(),t.Y8G("rateLimit",100))},dependencies:[Os,Pe,Je,W],encapsulation:2}),s})();const QJ=new t.nKC("Popup Container");let es=(()=>{class s{constructor(e,n,o,r){this.applicationRef=e,this.componentFactoryResolver=n,this.injector=o,this.container=r}get rootViewContainer(){const e=this.applicationRef.components||[];if(e[0])return e[0];throw new Error("\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        ")}get rootViewContainerNode(){return this.container?this.container.nativeElement:this.getComponentRootNode(this.rootViewContainer)}open(e={}){const{component:n,nodes:o}=this.contentFrom(e.content),r=this.appendPopup(o,e.appendTo),a=r.instance;this.projectComponentInputs(r,e),r.changeDetectorRef.detectChanges(),n&&n.changeDetectorRef.detectChanges();const l=this.getComponentRootNode(r);return{close:()=>{n&&n.destroy(),r.destroy(),(s=>{s&&s.parentNode&&s.parentNode.removeChild(s)})(l)},content:n,popup:r,popupAnchorViewportLeave:a.anchorViewportLeave,popupClose:a.close,popupElement:l,popupOpen:a.open,popupPositionChange:a.positionChange}}appendPopup(e,n){const o=this.createComponent(sge,e,n);return n||this.rootViewContainerNode.appendChild(this.getComponentRootNode(o)),o}getComponentRootNode(e){return e.location.nativeElement}getComponentFactory(e){return this.componentFactoryResolver.resolveComponentFactory(e)}createComponent(e,n,o){const r=this.getComponentFactory(e);if(o)return o.createComponent(r,void 0,this.injector,n);{const a=r.create(this.injector,n);return this.applicationRef.attachView(a.hostView),a}}projectComponentInputs(e,n){return Object.getOwnPropertyNames(n).filter(o=>"content"!==o||n.content instanceof t.C4Q).map(o=>{e.instance[o]=n[o]}),e}contentFrom(e){if(!e||e instanceof t.C4Q)return{component:null,nodes:[[]]};const n=this.createComponent(e);return{component:n,nodes:[n?[n.location.nativeElement]:[]]}}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(t.o8S),t.KVO(t.OM3),t.KVO(t.zZn),t.KVO(QJ,8))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),zr=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({providers:[es],imports:[[Fe,Vr]]}),s})();const Fze=["kendoButton",""],JI=["*"];function Uze(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",4),2&s){const e=t.XpG();t.Y8G("name",e.icon)("svgIcon",e.svgIcon)}}function Bze(s,i){if(1&s&&(t.j41(0,"span",5),t.nrm(1,"img",6),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("src",e.imageUrl,t.B4B)}}function Vze(s,i){if(1&s&&t.nrm(0,"span",7),2&s){const e=t.XpG();t.Y8G("ngClass",e.iconClass)}}function zze(s,i){if(1&s&&t.nrm(0,"span",7),2&s){const e=t.XpG();t.Y8G("ngClass",e.arrowIcon.iconClass)}}function jze(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",4),2&s){const e=t.XpG();t.Y8G("name",e.arrowIcon.icon||"caret-alt-down")("svgIcon",e.arrowIcon.svgIcon||e.caretAltDownIcon)}}const Hze=[[["","kendoButton",""],["kendo-button"]]],$ze=["[kendoButton], kendo-button"];function oje(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",9),2&s){const e=t.XpG();t.Y8G("name",e.icon)("svgIcon",e.svgIcon)}}function rje(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",10),2&s){const e=t.XpG();t.Y8G("customFontClass",e.customIconClass)}}function aje(s,i){if(1&s&&(t.j41(0,"span",11),t.nrm(1,"span",12),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngClass",e.chipAvatarClass)}}function lje(s,i){if(1&s&&(t.j41(0,"span",13),t.EFF(1),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.SpI(" ",e.label," ")}}function cje(s,i){1&s&&t.SdG(0,0,["*ngIf","!label"])}function dje(s,i){if(1&s){const e=t.RV6();t.j41(0,"span",14),t.bIt("click",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onMenuClick(o))}),t.nrm(1,"kendo-icon-wrapper",15),t.k0s()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("svgIcon",e.defaultMenuIcon||e.menuSvgIcon)("customFontClass",e.menuIcon)}}function uje(s,i){if(1&s){const e=t.RV6();t.j41(0,"span",16),t.bIt("click",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onRemoveClick(o))}),t.nrm(1,"kendo-icon-wrapper",17),t.k0s()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("svgIcon",e.removeSvgIcon||e.defaultRemoveIcon)("customFontClass",e.removeIcon)}}let tq=(()=>{class s{constructor(){this.buttonClicked=new Xe.B,this.buttonClicked$=this.buttonClicked.asObservable()}click(e){this.buttonClicked.next(e)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const n0={name:"@progress/kendo-angular-buttons",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925130,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},jr=(Promise.resolve(null),s=>null!=s);function Mje(s){return 9===s.nodeType}function yv(s,i){if(s.closest)return s.closest(i);const e=Element.prototype.matches?(o,r)=>o.matches(r):(o,r)=>o.msMatchesSelector(r);let n=s;for(;n&&!Mje(n);){if(e(n,i))return n;n=n.parentNode}}const nq={small:"sm",medium:"md",large:"lg"},rge={small:"sm",medium:"md",large:"lg",full:"full"},gF=(s,i,e,n)=>{switch(i){case"size":return{toRemove:`k-${s}-${nq[e]}`,toAdd:"none"!==n?`k-${s}-${nq[n]}`:""};case"rounded":return{toRemove:`k-rounded-${rge[e]}`,toAdd:"none"!==n?`k-rounded-${rge[n]}`:""};case"fillMode":return{toRemove:`k-${s}-${e}`,toAdd:"none"!==n?`k-${s}-${n}`:""}}},age=(s,i,e,n,o)=>({toRemove:`k-${s}-${i}-${n}`,toAdd:"none"!==o?`k-${s}-${e}-${o}`:""}),iq="BUTTON";let $t=(()=>{class s{constructor(e,n,o,r,a){this.renderer=n,this.service=o,this.ngZone=a,this.arrowIcon=!1,this.toggleable=!1,this.role="button",this.selectedChange=new t.bkB,this.click=new t.bkB,this.isDisabled=!1,this.caretAltDownIcon=Bo,this._size="medium",this._rounded="medium",this._fillMode="solid",this._themeColor="base",this._focused=!1,this.subs=new be.yU,(0,mt.$)(n0),this.direction=r.rtl?"rtl":"ltr",this.subs.add(r.changes.subscribe(({rtl:l})=>this.direction=l?"rtl":"ltr")),this.element=e.nativeElement}get togglable(){return this.toggleable}set togglable(e){this.toggleable=e}get selected(){return this._selected||!1}set selected(e){this._selected=e}set tabIndex(e){this.element.tabIndex=e}get tabIndex(){return this.element.tabIndex}set iconClass(e){if((0,t.naY)()&&e&&(this.icon||this.svgIcon))throw new Error("Setting both icon/svgIcon and iconClass options at the same time is not supported.");this._iconClass=e}get iconClass(){return this._iconClass}set icon(e){if((0,t.naY)()&&e&&this.iconClass)throw new Error("Setting both icon/svgIcon and iconClass options at the same time is not supported.");this._icon=e}get icon(){return this._icon}set disabled(e){e&&ne()&&(s=>{const i=RJ(s),e=tF(s);return i&&i.mozilla||e&&"firefox"===e.browser})(navigator.userAgent)&&this.blur(),this.isDisabled=e,this.renderer.setProperty(this.element,"disabled",e)}get disabled(){return this.isDisabled}set size(e){const n=e||"medium";this.handleClasses(n,"size"),this._size=n}get size(){return this._size}set rounded(e){const n=e||"medium";this.handleClasses(n,"rounded"),this._rounded=n}get rounded(){return this._rounded}set fillMode(e){const n=e||"solid";this.handleClasses(n,"fillMode"),this._fillMode=n}get fillMode(){return this._fillMode}set themeColor(e){const n=e||"base";this.handleThemeColor(n),this._themeColor=n}get themeColor(){return this._themeColor}set svgIcon(e){if((0,t.naY)()&&e&&this.iconClass)throw new Error("Setting both icon/svgIcon and iconClass options at the same time is not supported.");this._svgIcon=e}get svgIcon(){return this._svgIcon}set isFocused(e){this.toggleClass("k-focus",e),this._focused=e}get isFocused(){return this._focused}get classButton(){return!0}get isToggleable(){return this.toggleable}get iconButtonClass(){return(this.icon||this.iconClass||this.imageUrl||this.svgIcon)&&!this.hasText}get roleSetter(){return this.element.tagName===iq&&"button"===this.role?void 0:this.role}get classDisabled(){return this.isDisabled}get classActive(){return this.selected}get getDirection(){return this.direction}onFocus(){this.isFocused=!0}onBlur(){this.isFocused=!1}set primary(e){this.themeColor=e?"primary":"base"}set look(e){this.fillMode="default"===e?"solid":e}get nativeElement(){return this.element}ngOnInit(){const e=this.element.tagName,n="SPAN"===e||"KENDO-BUTTON"===e;!this.element.hasAttribute("role")&&this.togglable&&this.toggleAriaPressed(this.toggleable),this.role&&(e===iq&&"button"===this.role||this.setAttribute("role",this.role)),n&&!this.isDisabled&&(this.tabIndex=0),this.ngZone.runOutsideAngular(()=>{this.subs.add(this.renderer.listen(this.element,"click",this._onButtonClick.bind(this))),this.subs.add(this.renderer.listen(this.element,"keydown",o=>{n&&(o.keyCode===F.Space||o.keyCode===F.Enter)&&(this.ngZone.run(()=>{this.click.emit(o)}),this._onButtonClick())})),this.subs.add(this.renderer.listen(this.element,"mousedown",o=>{const a=this.element.tagName===iq,l=ne()&&rF(navigator.userAgent);!this.isDisabled&&a&&l&&(o.preventDefault(),this.element.focus())}))})}ngOnChanges(e){(Dt("togglable",e)||Dt("toggleable",e))&&this.toggleAriaPressed(this.toggleable)}ngAfterViewInit(){["size","rounded","fillMode"].forEach(n=>{this.handleClasses(this[n],n)})}ngOnDestroy(){this.subs.unsubscribe()}get hasText(){return ne()&&this.element.textContent.trim().length>0}focus(){ne()&&(this.element.focus(),this.isFocused=!0)}blur(){ne()&&(this.element.blur(),this.isFocused=!1)}setAttribute(e,n){this.renderer.setAttribute(this.element,e,n)}removeAttribute(e){this.renderer.removeAttribute(this.element,e)}setSelected(e){const n=this.selected!==e;this.selected=e,this.setAttribute("aria-pressed",this.selected.toString()),this.toggleClass("k-selected",this.selected),n&&ke(this.selectedChange)&&this.ngZone.run(()=>{this.selectedChange.emit(e)})}toggleAriaPressed(e){ne()&&(e?this.setAttribute("aria-pressed",this.selected.toString()):this.removeAttribute("aria-pressed"))}toggleClass(e,n){n?this.renderer.addClass(this.element,e):this.renderer.removeClass(this.element,e)}_onButtonClick(){!this.disabled&&this.service&&this.ngZone.run(()=>{this.service.click(this)}),this.togglable&&!this.service&&this.setSelected(!this.selected)}handleClasses(e,n){const o=this.element,r=gF("button",n,this[n],e);"fillMode"===n&&this.handleThemeColor(this.themeColor,this[n],e),r.toRemove&&this.renderer.removeClass(o,r.toRemove),r.toAdd&&this.renderer.addClass(o,r.toAdd)}handleThemeColor(e,n,o){const r=this.element,l=o||this.fillMode,c=age("button",n||this.fillMode,l,this.themeColor,e);this.renderer.removeClass(r,c.toRemove),"none"!==l&&"none"!==o&&c.toAdd&&this.renderer.addClass(r,c.toAdd)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(tq,8),t.rXU(j),t.rXU(t.SKi))},s.\u0275cmp=t.VBU({type:s,selectors:[["button","kendoButton",""],["span","kendoButton",""],["kendo-button"]],hostVars:13,hostBindings:function(e,n){1&e&&t.bIt("focus",function(){return n.onFocus()})("blur",function(){return n.onBlur()}),2&e&&(t.BMQ("role",n.roleSetter)("aria-disabled",n.classDisabled)("dir",n.getDirection),t.AVh("k-button",n.classButton)("k-toggle-button",n.isToggleable)("k-icon-button",n.iconButtonClass)("k-disabled",n.classDisabled)("k-selected",n.classActive))},inputs:{arrowIcon:"arrowIcon",toggleable:"toggleable",togglable:"togglable",selected:"selected",tabIndex:"tabIndex",imageUrl:"imageUrl",iconClass:"iconClass",icon:"icon",disabled:"disabled",size:"size",rounded:"rounded",fillMode:"fillMode",themeColor:"themeColor",svgIcon:"svgIcon",role:"role",primary:"primary",look:"look"},outputs:{selectedChange:"selectedChange",click:"click"},exportAs:["kendoButton"],features:[t.Jv_([j,{provide:Ve,useValue:"kendo.button"}]),t.OA$],attrs:Fze,ngContentSelectors:JI,decls:7,vars:5,consts:[["innerCssClass","k-button-icon",3,"name","svgIcon",4,"ngIf"],["class","k-button-icon k-icon",4,"ngIf"],["class","k-button-icon",3,"ngClass",4,"ngIf"],[1,"k-button-text"],["innerCssClass","k-button-icon",3,"name","svgIcon"],[1,"k-button-icon","k-icon"],["role","presentation",1,"k-image",3,"src"],[1,"k-button-icon",3,"ngClass"]],template:function(e,n){1&e&&(t.NAR(),t.DNE(0,Uze,1,2,"kendo-icon-wrapper",0)(1,Bze,2,1,"span",1)(2,Vze,1,1,"span",2),t.j41(3,"span",3),t.SdG(4),t.k0s(),t.DNE(5,zze,1,1,"span",2)(6,jze,1,2,"kendo-icon-wrapper",0)),2&e&&(t.Y8G("ngIf",n.icon||n.svgIcon),t.R7$(),t.Y8G("ngIf",n.imageUrl),t.R7$(),t.Y8G("ngIf",n.iconClass),t.R7$(3),t.Y8G("ngIf",n.arrowIcon.iconClass),t.R7$(),t.Y8G("ngIf",n.arrowIcon&&!n.arrowIcon.iconClass))},dependencies:[Ke,W,Pe],encapsulation:2}),s})();class sq{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}const sw="tabindex";let oq=(()=>{class s{constructor(e,n,o,r){this.service=e,this.renderer=o,this.element=r,this.selection="multiple",this.navigable=!0,this.navigate=new t.bkB,this._tabIndex=0,this.currentTabIndex=0,this.lastFocusedIndex=-1,this.subs=new be.yU,this.role="group",this.focusHandler=()=>{this.currentTabIndex=-1,this.defocus(this.buttons.toArray());const a=this.buttons.toArray().findIndex(c=>!c.disabled),l=-1===this.lastFocusedIndex?a:this.lastFocusedIndex;this.focus(this.buttons.filter((c,u)=>u===l))},(0,mt.$)(n0),this.subs.add(n.changes.subscribe(({rtl:a})=>this.direction=a?"rtl":"ltr"))}set tabIndex(e){this._tabIndex=e,this.currentTabIndex=e}get tabIndex(){return this._tabIndex}get wrapperClass(){return!0}get disabledClass(){return this.disabled}get stretchedClass(){return!!this.width}get dir(){return this.direction}get ariaDisabled(){return this.disabled}get wrapperWidth(){return this.width}get wrapperTabIndex(){return this.disabled?void 0:this.navigable?this.currentTabIndex:void 0}ngOnInit(){this.subs.add(this.service.buttonClicked$.subscribe(e=>{let n;this.isSelectionSingle()?(n=!0,this.deactivate(this.buttons.filter(o=>o!==e))):(this.navigable&&this.defocus(this.buttons.toArray()),n=!e.selected),e.togglable&&e.setSelected(n),this.navigable&&(this.currentTabIndex=-1,this.renderer.setAttribute(e,sw,"0"))})),this.handleSubs("focus",()=>this.navigable,this.focusHandler),this.handleSubs("keydown",()=>this.navigable&&!this.disabled,e=>this.navigateFocus(e)),this.handleSubs("focusout",e=>this.navigable&&e.relatedTarget&&e.relatedTarget.parentNode!==this.element.nativeElement,()=>{this.lastFocusedIndex=this.buttons.toArray().findIndex(e=>-1!==e.tabIndex),this.defocus(this.buttons.toArray()),this.currentTabIndex=this.tabIndex}),this.subs.add(wt(this.element.nativeElement,"focusout").pipe(z(e=>this.navigable&&e.relatedTarget&&e.relatedTarget.parentNode!==this.element.nativeElement)).subscribe(()=>{this.defocus(this.buttons.toArray()),this.currentTabIndex=this.tabIndex}))}ngOnChanges(e){Dt("disabled",e)&&this.buttons.forEach(n=>{jr(this.disabled)&&(n.disabled=this.disabled)}),Dt("navigable",e)&&(e.navigable.currentValue?(this.defocus(this.buttons.toArray()),this.currentTabIndex=0):(this.currentTabIndex=-1,this.buttons.forEach(n=>this.renderer.setAttribute(n,sw,"0"))))}ngAfterContentInit(){this.navigable&&this.defocus(this.buttons.toArray())}ngAfterViewChecked(){this.buttons.length&&(this.renderer.addClass(this.buttons.first.element,"k-group-start"),this.renderer.addClass(this.buttons.last.element,"k-group-end"))}ngOnDestroy(){this.subs.unsubscribe()}ngAfterContentChecked(){this.verifySettings()}navigateFocus(e){const n=this.buttons.toArray().filter(c=>!c.disabled),o=n.findIndex(c=>-1!==c.element.tabIndex),a=n.length-1,l=new sq;e.keyCode===F.ArrowRight&&o<a&&(this.navigate.emit(l),l.isDefaultPrevented()||(this.defocus(n),this.focus(n.filter((c,u)=>u===o+1)))),e.keyCode===F.ArrowLeft&&o>0&&(this.navigate.emit(l),l.isDefaultPrevented()||(this.defocus(n),this.focus(n.filter((c,u)=>u===o-1))))}deactivate(e){e.forEach(n=>{n.setSelected(!1),this.navigable&&this.renderer.setAttribute(n,sw,"-1")})}activate(e){e.forEach(n=>{n.setSelected(!0),this.navigable&&this.renderer.setAttribute(n,sw,"0"),n.focus()})}defocus(e){e.forEach(n=>{this.renderer.setAttribute(n,sw,"-1")})}focus(e){e.forEach(n=>{this.renderer.setAttribute(n,sw,"0"),n.focus()})}verifySettings(){if((0,t.naY)()&&this.isSelectionSingle()&&this.buttons.filter(e=>e.selected).length>1)throw new Error("Having multiple selected buttons with single selection mode is not supported")}isSelectionSingle(){return"single"===this.selection}handleSubs(e,n,o){this.subs.add(wt(this.element.nativeElement,e).pipe(z(n)).subscribe(o))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(tq),t.rXU(j),t.rXU(t.sFG),t.rXU(t.aKT))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-buttongroup"]],contentQueries:function(e,n,o){if(1&e&&t.wni(o,$t,4),2&e){let r;t.mGM(r=t.lsd())&&(n.buttons=r)}},hostVars:12,hostBindings:function(e,n){2&e&&(t.BMQ("role",n.role)("dir",n.dir)("aria-disabled",n.ariaDisabled)("tabindex",n.wrapperTabIndex),t.xc7("width",n.wrapperWidth),t.AVh("k-button-group",n.wrapperClass)("k-disabled",n.disabledClass)("k-button-group-stretched",n.stretchedClass))},inputs:{disabled:"disabled",selection:"selection",width:"width",tabIndex:"tabIndex",navigable:"navigable"},outputs:{navigate:"navigate"},exportAs:["kendoButtonGroup"],features:[t.Jv_([tq,j,{provide:Ve,useValue:"kendo.buttongroup"}]),t.OA$],ngContentSelectors:$ze,decls:1,vars:0,template:function(e,n){1&e&&(t.NAR(Hze),t.SdG(0))},encapsulation:2}),s})(),gr=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[An]]}),s})(),Rje=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,gr]]}),s})(),qI=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,An]]}),s})();new t.nKC("navigation.config");let Pje=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,zr,gr,qI],qI]}),s})(),vge=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,zr,qI,gr],qI]}),s})(),dq=(()=>{class s{constructor(e,n,o,r){this.element=e,this.renderer=n,this.ngZone=o,this.localizationService=r,this.selected=!1,this.removable=!1,this.hasMenu=!1,this.disabled=!1,this.remove=new t.bkB,this.menuToggle=new t.bkB,this.contentClick=new t.bkB,this.tabIndex=0,this.hostClass=!0,this.defaultRemoveIcon=Lf,this.defaultMenuIcon=Nk,this._size="medium",this._rounded="medium",this._fillMode="solid",this._themeColor="base",this.focused=!1,this.subs=new be.yU,(0,mt.$)(n0),this.direction=r.rtl?"rtl":"ltr"}set size(e){const n=e||"medium";this.handleClasses(n,"size"),this._size=n}get size(){return this._size}set rounded(e){const n=e||"medium";this.handleClasses(n,"rounded"),this._rounded=n}get rounded(){return this._rounded}set fillMode(e){const n=e||"solid";this.handleClasses(n,"fillMode"),this._fillMode=n}get fillMode(){return this._fillMode}set themeColor(e){const n=e||"base";this.handleThemeColor(n),this._themeColor=n}get themeColor(){return this._themeColor}get hasIconClass(){return!!(this.icon||this.iconClass||this.avatarClass)}get disabledClass(){return this.disabled}get selectedClass(){return this.selected}get focusedClass(){return this.focused}ngOnInit(){this.subs.add(this.localizationService.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr")),this.renderer.setAttribute(this.element.nativeElement,"role","button")}ngOnDestroy(){this.subs.unsubscribe()}ngOnChanges(e){e&&e.selected&&(this.element.nativeElement.hasAttribute("aria-selected")||this.renderer.setAttribute(this.element.nativeElement,"aria-pressed",`${this.selected}`))}ngAfterViewInit(){const e=this.element.nativeElement;["size","rounded","fillMode"].forEach(o=>{this.handleClasses(this[o],o)}),this.attachElementEventHandlers(e)}get kendoIconClass(){return this.verifyIconSettings([this.iconClass,this.avatarClass]),`k-i-${this.icon}`}get customIconClass(){return this.verifyIconSettings([this.icon,this.avatarClass]),this.iconClass}get chipAvatarClass(){return this.verifyIconSettings([this.icon,this.iconClass]),this.avatarClass}get removeIconClass(){return this.removeIcon?this.removeIcon:"k-i-x-circle"}focus(){ne()&&this.element.nativeElement.focus()}blur(){ne()&&this.element.nativeElement.blur()}onRemoveClick(e){this.removable&&this.remove.emit({sender:this,originalEvent:e})}onMenuClick(e){this.hasMenu&&this.menuToggle.emit({sender:this,originalEvent:e})}attachElementEventHandlers(e){this.ngZone.runOutsideAngular(()=>{this.subs.add(this.renderer.listen(e,"focus",()=>{this.renderer.addClass(e,"k-focus")})),this.subs.add(this.renderer.listen(e,"blur",()=>{this.renderer.removeClass(e,"k-focus")})),this.subs.add(this.renderer.listen(e,"click",n=>{yv(n.target,".k-chip-action")||this.ngZone.run(()=>{this.contentClick.emit({sender:this,originalEvent:n})})})),this.subs.add(this.renderer.listen(e,"keydown",this.keyDownHandler.bind(this)))})}verifyIconSettings(e){if((0,t.naY)()&&e.filter(n=>null!=n).length>0)throw this.renderer.removeClass(this.element.nativeElement,"k-chip-has-icon"),new Error("Invalid configuration: Having multiple icons is not supported. Only a single icon on a chip can be displayed.")}handleClasses(e,n){const o=this.element.nativeElement,r=gF("chip",n,this[n],e);"fillMode"===n&&this.handleThemeColor(this.themeColor,this[n],e),r.toRemove&&this.renderer.removeClass(o,r.toRemove),r.toAdd&&this.renderer.addClass(o,r.toAdd)}handleThemeColor(e,n,o){const r=this.element.nativeElement,l=o||this.fillMode,c=age("chip",n||this.fillMode,l,this.themeColor,e);this.renderer.removeClass(r,c.toRemove),"none"!==l&&"none"!==o&&c.toAdd&&this.renderer.addClass(r,c.toAdd)}keyDownHandler(e){const o=e.keyCode===F.Delete||e.keyCode===F.Backspace;this.disabled||(e.keyCode===F.Enter||e.keyCode===F.Space?this.ngZone.run(()=>{this.contentClick.emit({sender:this,originalEvent:e})}):o&&this.removable&&this.ngZone.run(()=>{this.remove.emit({sender:this,originalEvent:e})}))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.SKi),t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-chip"]],hostVars:13,hostBindings:function(e,n){2&e&&(t.BMQ("tabindex",n.tabIndex)("aria-disabled",n.disabledClass)("dir",n.direction),t.AVh("k-chip",n.hostClass)("k-chip-has-icon",n.hasIconClass)("k-disabled",n.disabledClass)("k-selected",n.selectedClass)("k-focus",n.focusedClass))},inputs:{label:"label",icon:"icon",svgIcon:"svgIcon",iconClass:"iconClass",avatarClass:"avatarClass",selected:"selected",removable:"removable",removeIcon:"removeIcon",removeSvgIcon:"removeSvgIcon",hasMenu:"hasMenu",menuIcon:"menuIcon",menuSvgIcon:"menuSvgIcon",disabled:"disabled",size:"size",rounded:"rounded",fillMode:"fillMode",themeColor:"themeColor"},outputs:{remove:"remove",menuToggle:"menuToggle",contentClick:"contentClick"},features:[t.Jv_([j,{provide:Ve,useValue:"kendo.chip"}]),t.OA$],ngContentSelectors:JI,decls:9,vars:7,consts:[["size","small","innerCssClass","k-chip-icon",3,"name","svgIcon",4,"ngIf"],["size","small","innerCssClass","k-chip-icon",3,"customFontClass",4,"ngIf"],["class","k-chip-avatar k-avatar k-avatar-md k-avatar-solid k-avatar-solid-primary k-rounded-full",4,"ngIf"],[1,"k-chip-content"],["class","k-chip-label",4,"ngIf"],[4,"ngIf"],[1,"k-chip-actions"],["class","k-chip-action",3,"click",4,"ngIf"],["class","k-chip-action k-chip-remove-action",3,"click",4,"ngIf"],["size","small","innerCssClass","k-chip-icon",3,"name","svgIcon"],["size","small","innerCssClass","k-chip-icon",3,"customFontClass"],[1,"k-chip-avatar","k-avatar","k-avatar-md","k-avatar-solid","k-avatar-solid-primary","k-rounded-full"],[1,"k-avatar-image",3,"ngClass"],[1,"k-chip-label"],[1,"k-chip-action",3,"click"],["name","more-vertical","size","small",3,"svgIcon","customFontClass"],[1,"k-chip-action","k-chip-remove-action",3,"click"],["name","x-circle","size","small",3,"svgIcon","customFontClass"]],template:function(e,n){1&e&&(t.NAR(),t.DNE(0,oje,1,2,"kendo-icon-wrapper",0)(1,rje,1,1,"kendo-icon-wrapper",1)(2,aje,2,1,"span",2),t.j41(3,"span",3),t.DNE(4,lje,2,1,"span",4)(5,cje,1,0,"ng-content",5),t.k0s(),t.j41(6,"span",6),t.DNE(7,dje,2,2,"span",7)(8,uje,2,2,"span",8),t.k0s()),2&e&&(t.Y8G("ngIf",n.icon||n.svgIcon),t.R7$(),t.Y8G("ngIf",n.iconClass),t.R7$(),t.Y8G("ngIf",n.avatarClass),t.R7$(2),t.Y8G("ngIf",n.label),t.R7$(),t.Y8G("ngIf",!n.label),t.R7$(2),t.Y8G("ngIf",n.hasMenu),t.R7$(),t.Y8G("ngIf",n.removable))},dependencies:[Ke,W,Pe],encapsulation:2}),s})(),Sge=(()=>{class s{constructor(e,n,o,r){this.localizationService=e,this.renderer=n,this.element=o,this.ngZone=r,this.hostClass=!0,this.orientation="horizontal",this.selection="none",this.selectedChange=new t.bkB,this.remove=new t.bkB,this.role="listbox",this._size="medium",this.subs=new be.yU,this._navigable=!1,this.currentActiveIndex=0,(0,mt.$)(n0),this.direction=e.rtl?"rtl":"ltr"}set size(e){const n=e||"medium";this.handleClasses(n,"size"),this._size=n}get size(){return this._size}get single(){return"single"===this.selection}get multiple(){return"multiple"===this.selection}onClick(e){const n=e.target,o=yv(n,".k-chip-remove-action"),r=yv(n,".k-chip"),a=this.chips.find(l=>r===l.element.nativeElement);this.currentActiveIndex=this.chips.toArray().indexOf(a),a&&a.focus(),a&&this.navigable&&(this.chips.forEach(l=>{this.renderer.setAttribute(l.element.nativeElement,"tabindex","-1")}),this.renderer.setAttribute(a.element.nativeElement,"tabindex","0")),o&&r&&this.remove.emit({sender:this,originalEvent:e,removedChip:a}),"none"!==this.selection&&r&&!o&&this.setSelection(a)}set navigable(e){this._navigable=e,this.chips?.forEach(n=>this.renderer.setAttribute(n.element.nativeElement,"tabindex",e?"-1":"0")),this.chips?.first&&this.renderer.setAttribute(this.chips.first.element.nativeElement,"tabindex","0")}get navigable(){return this._navigable}ngOnInit(){this.dynamicRTLSubscription=this.localizationService.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr")}ngAfterViewInit(){["size"].forEach(n=>{this.handleClasses(this[n],n)}),this.attachElementEventHandlers(),this.updateChips()}ngAfterContentInit(){this.subs.add(this.chips?.changes.subscribe(()=>this.updateChips()))}ngOnDestroy(){this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe(),this.subs.unsubscribe()}selectedChips(){return this.chips.reduce((e,n,o)=>n.selected?e.concat(o):e,[])}setSelection(e){"single"===this.selection&&this.clearSelection(e),e.selected=!e.selected,this.renderer.setAttribute(e.element.nativeElement,"aria-selected",`${e.selected}`),this.selectedChange.emit(this.selectedChips())}clearSelection(e){this.chips.forEach(n=>{e!==n&&(n.selected=!1,this.renderer.setAttribute(n.element.nativeElement,"aria-selected","false"))})}handleClasses(e,n){const o=this.element.nativeElement,r=gF("chip-list",n,this[n],e);r.toRemove&&this.renderer.removeClass(o,r.toRemove),r.toAdd&&this.renderer.addClass(o,r.toAdd)}attachElementEventHandlers(){const e=this.element.nativeElement;this.ngZone.runOutsideAngular(()=>{this.subs.add(this.renderer.listen(e,"keydown",this.keyDownHandler.bind(this)))})}keyDownHandler(e){const o=e.keyCode===F.Delete||e.keyCode===F.Backspace,r=e.keyCode===F.ArrowLeft,a=e.keyCode===F.ArrowRight;if(e.keyCode===F.Enter||e.keyCode===F.Space){const c=yv(e.target,".k-chip"),u=this.chips.find(f=>c===f.element.nativeElement);this.currentActiveIndex=this.chips.toArray().findIndex(f=>c===f.element.nativeElement),"none"!==this.selection&&c&&this.ngZone.run(()=>{this.setSelection(u)})}else if(o){const c=yv(e.target,".k-chip"),u=this.chips.find(f=>c===f.element.nativeElement);if(c){const f={sender:this,originalEvent:e,removedChip:u};this.ngZone.run(()=>{this.remove.emit(f)})}}else r?this.handleArrowKeys("left"):a&&this.handleArrowKeys("right")}handleArrowKeys(e){this.navigable&&(this.currentActiveIndex=this.currentActiveIndex+("left"===e?-1:1),this.currentActiveIndex>=this.chips.length?this.currentActiveIndex=0:this.currentActiveIndex<0&&(this.currentActiveIndex=this.chips.length-1),this.chips.forEach((o,r)=>{this.renderer.setAttribute(o.element.nativeElement,"tabindex","-1"),r===this.currentActiveIndex&&(this.renderer.setAttribute(o.element.nativeElement,"tabindex","0"),o.focus())}))}updateChips(){this.normalizeActiveIndex(),this.chips.forEach((e,n)=>{const o=e.element.nativeElement;this.renderer.removeAttribute(o,"aria-pressed"),this.renderer.setAttribute(o,"aria-selected",`${e.selected}`),"listbox"===this.role&&this.renderer.setAttribute(o,"role","option"),this.navigable&&(this.renderer.setAttribute(o,"tabindex","-1"),n===this.currentActiveIndex&&(this.renderer.setAttribute(o,"tabindex","0"),ne()&&document.activeElement.closest(".k-chip-list")&&e.focus()),e.removable&&this.renderer.setAttribute(o,"aria-keyshortcuts","Enter Delete"))})}normalizeActiveIndex(){this.currentActiveIndex>=this.chips.length&&(this.currentActiveIndex=Math.max(this.chips.length-1,0))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(t.SKi))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-chiplist"],["kendo-chip-list"]],contentQueries:function(e,n,o){if(1&e&&t.wni(o,dq,4),2&e){let r;t.mGM(r=t.lsd())&&(n.chips=r)}},hostVars:10,hostBindings:function(e,n){1&e&&t.bIt("click",function(r){return n.onClick(r)}),2&e&&(t.BMQ("aria-orientation",n.orientation)("dir",n.direction)("aria-multiselectable",n.multiple)("role",n.role),t.AVh("k-chip-list",n.hostClass)("k-selection-single",n.single)("k-selection-multiple",n.multiple))},inputs:{selection:"selection",size:"size",role:"role",navigable:"navigable"},outputs:{selectedChange:"selectedChange",remove:"remove"},features:[t.Jv_([j,{provide:Ve,useValue:"kendo.chiplist"}])],ngContentSelectors:JI,decls:1,vars:0,template:function(e,n){1&e&&(t.NAR(),t.SdG(0))},encapsulation:2}),s})(),Cge=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,An]]}),s})(),qje=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,zr,qI,zo,An]]}),s})(),o0=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[Rje,gr,Pje,vge,Cge,qje]}),s})();const r0=["*"];function Qje(s,i){1&s&&t.SdG(0,0,["*ngIf","!actions"])}function Zje(s,i){1&s&&(t.qex(0),t.nrm(1,"span",6),t.bVm())}function eHe(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",7),t.bIt("click",function(o){t.eBV(e);const r=t.XpG().$implicit,a=t.XpG(2);return t.Njj(a.onButtonClick(r,o))}),t.EFF(1),t.k0s()}if(2&s){const e=t.XpG().$implicit,n=t.XpG(2);t.Y8G("ngClass",n.buttonClass(e)),t.BMQ("aria-label",e.text),t.R7$(),t.SpI(" ",e.text," ")}}function tHe(s,i){if(1&s&&(t.qex(0),t.DNE(1,Zje,2,0,"ng-container",3)(2,eHe,2,3,"ng-template",null,1,t.C5r),t.bVm()),2&s){const e=i.$implicit,n=t.sdS(3),o=t.XpG(2);t.R7$(),t.Y8G("ngIf",o.isDivider(e))("ngIfElse",n)}}function nHe(s,i){if(1&s&&(t.qex(0),t.DNE(1,tHe,4,2,"ng-container",5),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.actionsArray)}}function iHe(s,i){}const sHe=["dialog"],oHe=[[["kendo-dialog-titlebar"]],"*",[["kendo-dialog-actions"]]],rHe=["kendo-dialog-titlebar","*","kendo-dialog-actions"];function aHe(s,i){if(1&s&&(t.j41(0,"kendo-dialog-titlebar",9),t.EFF(1),t.k0s()),2&s){const e=t.XpG();t.Y8G("closeTitle",e.closeTitle)("id",e.titleId),t.R7$(),t.JRh(e.title)}}function lHe(s,i){1&s&&t.SdG(0,0,["*ngIf","!title"])}function cHe(s,i){1&s&&t.SdG(0,1,["*ngIf","!contentTemplate"])}function dHe(s,i){}function uHe(s,i){if(1&s&&t.DNE(0,dHe,0,0,"ng-template",10),2&s){const e=t.XpG();t.Y8G("ngTemplateOutlet",e.contentTemplate)}}function hHe(s,i){1&s&&t.SdG(0,2,["*ngIf","!actions"])}function pHe(s,i){if(1&s&&t.nrm(0,"kendo-dialog-actions",11),2&s){const e=t.XpG();t.Y8G("actions",e.actions)("layout",e.actionsLayout)}}function fHe(s,i){1&s&&t.nrm(0,"div",12)}const mHe=s=>({$implicit:s});function _He(s,i){1&s&&t.SdG(0,0,["*ngIf","!template"])}function gHe(s,i){}function vHe(s,i){if(1&s&&t.DNE(0,gHe,0,0,"ng-template",1),2&s){const e=t.XpG();t.Y8G("ngTemplateOutlet",e.template)("ngTemplateOutletContext",t.eq3(2,mHe,e.service))}}const SHe=["kendoWindowMinimizeAction",""];function CHe(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",4),2&s){const e=t.XpG();t.Y8G("svgIcon",e.windowMinimizeIcon)}}function bHe(s,i){if(1&s&&(t.j41(0,"span",5),t.nrm(1,"img",6),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("src",e.imageUrl,t.B4B)}}function EHe(s,i){if(1&s&&t.nrm(0,"span",7),2&s){const e=t.XpG();t.Y8G("ngClass",e.iconClass)}}const yHe=["kendoWindowMaximizeAction",""];function kHe(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",4),2&s){const e=t.XpG();t.Y8G("svgIcon",e.windowIcon)}}function wHe(s,i){if(1&s&&(t.j41(0,"span",5),t.nrm(1,"img",6),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("src",e.imageUrl,t.B4B)}}function DHe(s,i){if(1&s&&t.nrm(0,"span",7),2&s){const e=t.XpG();t.Y8G("ngClass",e.iconClass)}}const OHe=["kendoWindowRestoreAction",""];function THe(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",4),2&s){const e=t.XpG();t.Y8G("svgIcon",e.windowRestoreIcon)}}function MHe(s,i){if(1&s&&(t.j41(0,"span",5),t.nrm(1,"img",6),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("src",e.imageUrl,t.B4B)}}function IHe(s,i){if(1&s&&t.nrm(0,"span",7),2&s){const e=t.XpG();t.Y8G("ngClass",e.iconClass)}}const xHe=["kendoWindowCloseAction",""];function AHe(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",4),2&s){const e=t.XpG();t.Y8G("svgIcon",e.xIcon)}}function RHe(s,i){if(1&s&&(t.j41(0,"span",5),t.nrm(1,"img",6),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("src",e.imageUrl,t.B4B)}}function NHe(s,i){if(1&s&&t.nrm(0,"span",7),2&s){const e=t.XpG();t.Y8G("ngClass",e.iconClass)}}const LHe=[[["kendo-window-titlebar"]],"*"],GHe=["kendo-window-titlebar","*"];function PHe(s,i){if(1&s&&(t.j41(0,"kendo-window-titlebar",6)(1,"span",7),t.EFF(2),t.k0s(),t.j41(3,"div",8),t.nrm(4,"button",9)(5,"button",10)(6,"button",11)(7,"button",12),t.k0s()()),2&s){const e=t.XpG();t.Y8G("template",e.titleBarTemplate)("id",e.titleId),t.R7$(2),t.JRh(e.title),t.R7$(2),t.BMQ("title",e.minimizeButtonTitle)("aria-label",e.minimizeButtonTitle),t.R7$(),t.BMQ("title",e.maximizeButtonTitle)("aria-label",e.maximizeButtonTitle),t.R7$(),t.BMQ("title",e.restoreButtonTitle)("aria-label",e.restoreButtonTitle),t.R7$(),t.BMQ("title",e.closeButtonTitle)("aria-label",e.closeButtonTitle)}}function FHe(s,i){1&s&&t.SdG(0,0,["*ngIf","!showDefaultTitleBar"])}function UHe(s,i){1&s&&t.SdG(0,1,["*ngIf","!contentTemplate"])}function BHe(s,i){}function VHe(s,i){if(1&s&&t.DNE(0,BHe,0,0,"ng-template",14),2&s){const e=t.XpG(2);t.Y8G("ngTemplateOutlet",e.contentTemplate)}}function zHe(s,i){if(1&s&&(t.j41(0,"div",13),t.DNE(1,UHe,1,0,"ng-content",2)(2,VHe,1,1,null,2),t.k0s()),2&s){const e=t.XpG();t.Y8G("hidden","minimized"===e.state&&e.keepContent),t.R7$(),t.Y8G("ngIf",!e.contentTemplate),t.R7$(),t.Y8G("ngIf",e.contentTemplate)}}function jHe(s,i){1&s&&t.nrm(0,"div",16),2&s&&t.Y8G("direction",i.$implicit)}function HHe(s,i){if(1&s&&t.DNE(0,jHe,1,1,"div",15),2&s){const e=t.XpG();t.Y8G("ngForOf",e.resizeDirections)}}function $He(s,i){1&s&&t.nrm(0,"div",17)}const Rn=s=>null!=s,xge=s=>String(s).trim().split(" "),WHe=/^(?:a|input|select|textarea|button|object)$/i;var Hs=function(s){return s[s.esc=27]="esc",s[s.tab=9]="tab",s[s.enter=13]="enter",s[s.space=32]="space",s[s.ctrl=17]="ctrl",s[s.shift=16]="shift",s[s.left=37]="left",s[s.up=38]="up",s[s.right=39]="right",s[s.down=40]="down",s}(Hs||{});const Age="k-dialog-wrapper k-actions k-dialog-titlebar-action",ow=(s,i)=>{const e=xge(i);return!!xge(s.className).find(n=>e.indexOf(n)>=0)},Rge=(s,i=!0)=>{if(s.tagName){const e=s.tagName.toLowerCase(),n=s.getAttribute("tabIndex"),o=null!==n&&!isNaN(n)&&n>-1;let r=!1;return r=WHe.test(e)?!s.disabled:o,r&&(!i||(s=>{const i=s.getBoundingClientRect();return!(!i.width||!i.height)&&"hidden"!==window.getComputedStyle(s).visibility})(s))}return!1},ZI=s=>t$e(s)?qHe(s):uq(s)?QHe(s):Array.isArray(s)?ZHe(s):void 0,qHe=s=>{const i=[];return Object.keys(s).forEach(e=>{const n=hq(e);s[e]&&n[0]&&i.push(...n)}),i},QHe=s=>{const i=[];return hq(s).forEach(n=>{i.push(n)}),i},ZHe=s=>{const i=[];return s.forEach(e=>{const n=hq(e);n[0]&&i.push(...n)}),i},Nge=({originalEvent:s})=>{s.stopPropagation(),s.preventDefault()},e$e=["n","e","s","w","se","sw","ne","nw"],ex=["top","left","width","height"],uq=s=>s instanceof String||"string"==typeof s,t$e=s=>Rn(s)&&!Array.isArray(s)&&"object"==typeof s,rw=s=>s+((s=>"number"==typeof s&&isFinite(s))(s)?"px":""),hq=s=>s.trim().replace(/\s+/g," ").split(" ");let jc=(()=>{class s{constructor(e){this.el=e,this.layout="stretched",this.action=new t.bkB,this.hostClasses=!0}set actions(e){if(e instanceof t.C4Q)this.actionsTemplate=e;else{if(!Array.isArray(e))throw new Error('"actions" must be either TemplateRef or DialogAction[] instance.');this.actionsArray=e}}get startClassName(){return"start"===this.layout}get centerClassName(){return"center"===this.layout}get endClassName(){return"end"===this.layout}get stretchedClassName(){return"stretched"===this.layout}onButtonClick(e,n){this.action.emit(e)}buttonClass(e){let n=["k-button k-button-md k-rounded-md"];const o=e.fillMode?e.fillMode:"solid",r=e.themeColor?e.themeColor:"base",a=e.cssClass?ZI(e.cssClass):[];return n.push(`k-button-${o} k-button-${o}-${r}`),a.length>0&&(n=n.concat(a)),n.join(" ")}isDivider(e){return"spacer"===e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-dialog-actions"]],hostVars:16,hostBindings:function(e,n){2&e&&t.AVh("k-actions",n.hostClasses)("k-actions-horizontal",n.hostClasses)("k-window-actions",n.hostClasses)("k-dialog-actions",n.hostClasses)("k-actions-start",n.startClassName)("k-actions-center",n.centerClassName)("k-actions-end",n.endClassName)("k-actions-stretched",n.stretchedClassName)},inputs:{actions:"actions",layout:"layout"},outputs:{action:"action"},ngContentSelectors:r0,decls:4,vars:4,consts:[["actionTemplate",""],["defaultAction",""],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet"],[4,"ngFor","ngForOf"],[1,"k-spacer"],["type","button",3,"click","ngClass"]],template:function(e,n){if(1&e&&(t.NAR(),t.DNE(0,Qje,1,0,"ng-content",2)(1,nHe,2,1,"ng-container",3)(2,iHe,0,0,"ng-template",4,0,t.C5r)),2&e){const o=t.sdS(3);t.Y8G("ngIf",!n.actions),t.R7$(),t.Y8G("ngIf",n.actionsArray)("ngIfElse",o),t.R7$(),t.Y8G("ngTemplateOutlet",n.actionsTemplate)}},dependencies:[W,st,Pe,Je],encapsulation:2}),s})();class pq{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}const Lge=new t.nKC("Dialog LocalizationService");let Gge=(()=>{class s extends j{constructor(e,n,o,r){super(e,n,o),this.dialogLocalization=r}get(e){return this.dialogLocalization?this.dialogLocalization.get(e):super.get(e)}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Ve),t.KVO(Gu,8),t.KVO(Vc,8),t.KVO(Lge,8))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),CF=(()=>{class s extends Gi{}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275dir=t.FsC({type:s,selectors:[["kendo-dialog-messages-base"]],inputs:{closeTitle:"closeTitle",restoreTitle:"restoreTitle",maximizeTitle:"maximizeTitle",minimizeTitle:"minimizeTitle"},features:[t.Vt3]}),s})(),bF=(()=>{class s extends CF{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoDialogLocalizedMessages",""],["","kendoWindowLocalizedMessages",""],["","kendoDialogTitleBarLocalizedMessages",""]],features:[t.Jv_([{provide:CF,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})(),Hc=(()=>{class s{constructor(e,n,o){this.zone=e,this.hostElement=n,this.localizationService=o,this.close=new t.bkB,this.xIcon=wo}get className(){return!0}get closeButtonTitle(){return this.closeTitle||this.localizationService.get("closeTitle")}ngAfterViewInit(){this.zone.onStable.pipe(Ye(1)).subscribe(()=>{this.hostElement.nativeElement.querySelector(".k-dialog-title").setAttribute("id",this.id)})}onCloseClick(e){e.preventDefault();const n=new pq;this.close.emit(n)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.SKi),t.rXU(t.aKT),t.rXU(j,8))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-dialog-titlebar"]],hostVars:4,hostBindings:function(e,n){2&e&&t.AVh("k-window-titlebar",n.className)("k-dialog-titlebar",n.className)},inputs:{id:"id",closeTitle:"closeTitle"},outputs:{close:"close"},features:[t.Jv_([Gge,{provide:j,useExisting:Gge},{provide:Ve,useValue:"kendo.dialog"}])],ngContentSelectors:r0,decls:5,vars:3,consts:()=>{let i;return i="Chiudi",[["kendoDialogTitleBarLocalizedMessages","","closeTitle",i],[1,"k-window-title","k-dialog-title"],[1,"k-window-titlebar-actions","k-dialog-titlebar-actions"],["kendoButton","","fillMode","flat","type","button","icon","close",1,"k-window-titlebar-action","k-dialog-titlebar-action",3,"click","svgIcon"]]},template:function(e,n){1&e&&(t.NAR(),t.qex(0,0),t.j41(1,"span",1),t.SdG(2),t.k0s(),t.j41(3,"div",2)(4,"button",3),t.bIt("click",function(r){return n.onCloseClick(r)}),t.k0s()(),t.bVm()),2&e&&(t.R7$(4),t.Y8G("svgIcon",n.xIcon),t.BMQ("title",n.closeButtonTitle)("aria-label",n.closeButtonTitle))},dependencies:[$t,bF],encapsulation:2}),s})();const Pge={name:"@progress/kendo-angular-dialog",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925201,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};class a0{}const a$e={duration:300,type:"translate"};let EF=(()=>{class s{constructor(e,n,o,r,a,l){this.wrapper=e,this.renderer=n,this.cdr=r,this.ngZone=a,this.builder=l,this.actionsLayout="stretched",this.animation=!0,this.titleId=null,this.contentId=null,this.showLicenseWatermark=!1,this.action=new t.bkB,this.close=new t.bkB,this.tabIndex=0,this._themeColor=null,this.subscriptions=[],this.domSubs=new be.yU;const c=(0,mt.$)(Pge);this.showLicenseWatermark=V_(c),this.direction=o.rtl?"rtl":"ltr",this.subscriptions.push(o.changes.subscribe(({rtl:u})=>this.direction=u?"rtl":"ltr")),this.titleId=this.generateTitleId(),this.contentId=this.generateContentId()}set themeColor(e){this.handleThemeColorClass(this.themeColor,e),this._themeColor=e}get themeColor(){return this._themeColor}set htmlAttributes(e){C_e(e,this.renderer,this.wrapper.nativeElement);const n=this.wrapper.nativeElement,o=n.getAttribute("dir"),r=n.getAttribute("tabindex");this.direction!==o&&o&&(this.direction=o),this.tabIndex!==r&&r&&(this.tabIndex=r),this._htmlAttributes=e}get htmlAttributes(){return this._htmlAttributes}set cssClass(e){this.setServiceClasses(this._cssClass,e),this._cssClass=e}get cssClass(){return this._cssClass}get dir(){return this.direction}ngAfterContentInit(){this.bubble("close",this.titlebarContent.first),this.renderer.setAttribute(this.wrapper.nativeElement.querySelector(".k-dialog"),"aria-describedby",this.contentId),this.titlebarContent.first?this.titlebarContent.first.id=this.titleId:this.subscriptions.push(this.titlebarContent.changes.subscribe(()=>{Rn(this.titlebarContent.first)&&(this.titlebarContent.first.id=this.titleId,this.ngZone.onStable.pipe(Ye(1)).subscribe(()=>{this.bubble("close",this.titlebarContent.first),this.renderer.setAttribute(this.wrapper.nativeElement.querySelector(".k-dialog"),"aria-labelledby",this.titleId)}))}))}ngAfterViewInit(){ne()&&(this.handleInitialFocus(),this.bubble("close",this.titlebarView.first),this.bubble("action",this.actionsView),this.titlebarView.first||this.titlebarContent.first?this.renderer.setAttribute(this.wrapper.nativeElement.querySelector(".k-dialog"),"aria-labelledby",this.titleId):this.subscriptions.push(this.titlebarView.changes.subscribe(()=>{Rn(this.titlebarView.first)&&(this.titlebarView.first.id=this.titleId,this.ngZone.onStable.pipe(Ye(1)).subscribe(()=>{this.bubble("close",this.titlebarView.first),this.renderer.setAttribute(this.wrapper.nativeElement.querySelector(".k-dialog"),"aria-labelledby",this.titleId)}))})),this.initDomEvents(),this.handleThemeColorClass(null,this.themeColor))}ngOnInit(){this.animation&&((s,i,e,n)=>{let o=i;"boolean"!=typeof s&&(o=s,o.duration=o.duration?o.duration:i.duration);const r=function s$e(s,i,e){switch(e){case"slide":{const n="left"===i||"right"===i?"translateX":"translateY";return[We({transform:`${n}(${"right"===i||"down"===i?-100:100}%)`}),hi(`${s}ms ease-in`,We({transform:`${n}(0%)`}))]}case"expand":{const n="up"===i||"down"===i?"scaleY":"scaleX",r=1;let a;return a="down"===i?"top":"left"===i?"right":"right"===i?"left":"bottom",[We({transform:`${n}(0)`,transformOrigin:a}),hi(`${s}ms ease-in`,We({transform:`${n}(${r})`}))]}case"zoom":return[hi(s,TN([We({transform:"scale(0)"}),We({transform:"scale(1)"})]))];case"fade":return[hi(s,TN([We({opacity:"0"}),We({opacity:"1"})]))];default:return[We({transform:"translate(0, -10%)"}),hi(`${s}ms cubic-bezier(.2, 1, .2, 1)`)]}}(o.duration,o.direction,o.type);((s,i,e)=>{let o=s.build(i).create(e);return o.onDone(()=>{o&&(o.destroy(),o=null)}),o})(n,r,e).play()})(this.animation,a$e,this.dialog.nativeElement,this.builder),this.renderer.removeAttribute(this.wrapper.nativeElement,"title"),this.cdr.detectChanges()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.subscriptions=[],this.domSubs&&this.domSubs.unsubscribe()}focus(){const e=this.wrapper.nativeElement;Rn(e)&&e.focus()}initDomEvents(){this.wrapper&&this.ngZone.runOutsideAngular(()=>{this.domSubs.add(this.renderer.listen(this.wrapper.nativeElement,"keydown",e=>{this.onKeyDown(e)}))})}onKeyDown(e){const n=e.target,o=n.parentElement;(ow(n,Age)||ow(o,Age))&&e.keyCode===Hs.esc&&this.ngZone.run(()=>{this.close.emit(new a0)}),ow(n,"k-button")&&ow(o,"k-actions")&&(e.keyCode===Hs.left||e.keyCode===Hs.right)&&this.ngZone.run(()=>{this.handleActionButtonFocus(o,e.keyCode)}),e.keyCode===Hs.tab&&this.ngZone.run(()=>{this.keepFocusWithinComponent(n,e)})}setServiceClasses(e,n){const o=this.wrapper.nativeElement;e&&ZI(e).forEach(r=>{this.renderer.removeClass(o,r)}),n&&ZI(n).forEach(r=>{this.renderer.addClass(o,r)})}handleInitialFocus(){const e=this.wrapper.nativeElement,n=this.findPrimary(e);if(this.autoFocusedElement){const o=e.querySelector(this.autoFocusedElement);o&&o.focus()}else this.shouldFocusPrimary(n)?n.focus():e.focus()}findPrimary(e){return(s=>{for(let i=s.length-1;i>=0;i--){const e=s[i].classList;for(let n=0;n<e.length;n++)if(e[n].endsWith("-primary"))return s[i]}})(e.querySelectorAll(".k-actions .k-button"))}handleActionButtonFocus(e,n){const o=this.getAllFocusableChildren(e);for(let r=0;r<o.length;r++)if(o[r]===document.activeElement){if(n===Hs.left&&r>0){o[r-1].focus();break}if(n===Hs.right&&r<o.length-1){o[r+1].focus();break}}}keepFocusWithinComponent(e,n){const o=this.wrapper.nativeElement,[r,a]=this.getFirstAndLastFocusable(o),c=n.shiftKey&&e===r;!n.shiftKey&&e===a&&(n.preventDefault(),r.focus()),c&&(n.preventDefault(),a.focus())}shouldFocusPrimary(e){return Rn(e)&&Rge(e)}getAllFocusableChildren(e){return e.querySelectorAll(cF)}getFirstAndLastFocusable(e){const n=this.getAllFocusableChildren(e);return[n.length>0?n[0]:e,n.length>0?n[n.length-1]:e]}generateTitleId(){return"kendo-dialog-title-"+Math.ceil(1e6*Math.random()).toString()}generateContentId(){return"kendo-dialog-content-"+Math.ceil(1e6*Math.random()).toString()}get wrapperClass(){return!0}get styles(){const e={};return this.width&&(e.width=rw(this.width)),this.height&&(e.height=rw(this.height)),this.minWidth&&(e.minWidth=rw(this.minWidth)),this.maxWidth&&(e.maxWidth=rw(this.maxWidth)),this.minHeight&&(e.minHeight=rw(this.minHeight)),this.maxHeight&&(e.maxHeight=rw(this.maxHeight)),e}bubble(e,n){if(n){const r=n[e].subscribe(a=>this[e].emit(a));this.subscriptions.push(r)}}handleThemeColorClass(e,n){const o=this.dialog.nativeElement;e&&this.renderer.removeClass(o,`k-dialog-${e}`),n&&this.renderer.addClass(o,`k-dialog-${n}`)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(j),t.rXU(t.gRc),t.rXU(t.SKi),t.rXU(ki))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-dialog"]],contentQueries:function(e,n,o){if(1&e&&t.wni(o,Hc,4),2&e){let r;t.mGM(r=t.lsd())&&(n.titlebarContent=r)}},viewQuery:function(e,n){if(1&e&&(t.GBs(jc,5),t.GBs(sHe,7),t.GBs(Hc,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.actionsView=o.first),t.mGM(o=t.lsd())&&(n.dialog=o.first),t.mGM(o=t.lsd())&&(n.titlebarView=o)}},hostVars:4,hostBindings:function(e,n){2&e&&(t.BMQ("dir",n.dir)("tabIndex",n.tabIndex),t.AVh("k-dialog-wrapper",n.wrapperClass))},inputs:{actions:"actions",actionsLayout:"actionsLayout",autoFocusedElement:"autoFocusedElement",title:"title",width:"width",minWidth:"minWidth",maxWidth:"maxWidth",height:"height",minHeight:"minHeight",maxHeight:"maxHeight",animation:"animation",themeColor:"themeColor"},outputs:{action:"action",close:"close"},exportAs:["kendoDialog"],features:[t.Jv_([j,{provide:Lge,useExisting:j},{provide:Ve,useValue:"kendo.dialog"}])],ngContentSelectors:rHe,decls:12,vars:10,consts:()=>{let i;return i="Chiudi",[["dialog",""],["kendoDialogLocalizedMessages","","closeTitle",i],[1,"k-overlay"],["role","dialog","aria-modal","true",1,"k-window","k-dialog",3,"ngStyle"],[3,"closeTitle","id",4,"ngIf"],[4,"ngIf"],[1,"k-window-content","k-dialog-content",3,"id"],[3,"actions","layout",4,"ngIf"],["kendoWatermarkOverlay","",4,"ngIf"],[3,"closeTitle","id"],[3,"ngTemplateOutlet"],[3,"actions","layout"],["kendoWatermarkOverlay",""]]},template:function(e,n){1&e&&(t.NAR(oHe),t.qex(0,1),t.nrm(1,"div",2),t.j41(2,"div",3,0),t.DNE(4,aHe,2,3,"kendo-dialog-titlebar",4)(5,lHe,1,0,"ng-content",5),t.j41(6,"div",6),t.DNE(7,cHe,1,0,"ng-content",5)(8,uHe,1,1,null,5),t.k0s(),t.DNE(9,hHe,1,0,"ng-content",5)(10,pHe,1,2,"kendo-dialog-actions",7)(11,fHe,1,0,"div",8),t.k0s(),t.bVm()),2&e&&(t.R7$(),t.Y8G("@overlayAppear",void 0),t.R7$(),t.Y8G("ngStyle",n.styles),t.R7$(2),t.Y8G("ngIf",n.title),t.R7$(),t.Y8G("ngIf",!n.title),t.R7$(),t.Y8G("id",n.contentId),t.R7$(),t.Y8G("ngIf",!n.contentTemplate),t.R7$(),t.Y8G("ngIf",n.contentTemplate),t.R7$(),t.Y8G("ngIf",!n.actions),t.R7$(),t.Y8G("ngIf",n.actions),t.R7$(),t.Y8G("ngIf",n.showLicenseWatermark))},dependencies:[Hc,jc,U_,bF,Jn,W,Je],encapsulation:2,data:{animation:[o_("overlayAppear",[Od("in",We({opacity:1})),mo("void => *",[We({opacity:.1}),hi(".3s cubic-bezier(.2, .6, .4, 1)")])])]}}),s})();class Gf{}let j_=(()=>{class s{constructor(e){this.dialog=e}ngAfterViewInit(){this.dialogTitleBar&&this.dialogTitleBar.close.pipe(z(e=>!e.isDefaultPrevented())).subscribe(()=>{this.dialog.close()}),this.dialogActions&&this.dialogActions.actions&&this.dialogActions.action.subscribe(e=>this.dialog.dialog.instance.action.emit(e))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Gf))},s.\u0275dir=t.FsC({type:s,viewQuery:function(e,n){if(1&e&&(t.GBs(Hc,5),t.GBs(jc,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.dialogTitleBar=o.first),t.mGM(o=t.lsd())&&(n.dialogActions=o.first)}}}),s})(),fq=(()=>{class s{set container(e){s.container=e}get container(){return s.container}}return s.container=null,s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();class c$e{constructor(i,e){this.getDialogRef=i,this.parentInjector=e}get(i,e){return i===Gf?this.getDialogRef():this.parentInjector.get(i,e)}}let H_=(()=>{class s{constructor(e,n){this.resolver=e,this.containerService=n}open(e){const n=this.resolver.resolveComponentFactory(EF),o=e.appendTo||this.containerService.container;if(!o)throw new Error("\nCannot attach dialog to the page.\nAdd an element that uses the kendoDialogContainer directive, or set the 'appendTo' property.\nSee https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service/.\n          ");return this.initializeDialog(e.content,n,o,{close:()=>{},content:null,dialog:null,result:null},e)}initializeDialog(e,n,o,r,a){const l=this.contentFrom(e,o,r),c=o.createComponent(n,void 0,void 0,l.nodes);r.dialog=c,c.changeDetectorRef.markForCheck(),this.applyOptions(c.instance,a);const u=new Xe.B,f=g=>{g instanceof pq&&(g=new a0),u.next(g||new a0),l.componentRef&&l.componentRef.destroy(),c.destroy()},_=Ht(u,Ht(c.instance.close,c.instance.action).pipe((0,U.T)(g=>g instanceof pq?new a0:g),z(g=>{if(a.preventAction){const S=(s=>uq(s)||s instanceof t.C4Q)(e)?void 0:r;return!a.preventAction(g,S)}return!0}))).pipe(Ye(1),VC());if(_.subscribe(f),r.close=f,r.result=_,e&&(0,t.naY)()){const g=l.nodes[0]&&l.nodes[0].length>0,S=l.nodes[2]&&l.nodes[2].length>0;e.prototype instanceof j_?(a.title&&g||a.actions&&S)&&console.warn("\n                    Multiple Title and/or Actions configurations detected.\n                    When using a component as content, provide the title and actions either in the component's markup\n                    or via the title and actions properties of the DialogSettings object, but not both.\n                    See https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service/#toc-passing-title-content-and-actions-as-a-single-component'"):(g||S)&&console.warn("\n                    When Title and/or Actions markup is provided in content component's template,\n                    the component needs to inherit the DialogContentBase class to ensure that close and result events are properly hooked.\n                    See https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service/#toc-passing-title-content-and-actions-as-a-single-component'")}return r}applyOptions(e,n){e.title=n.title,e.actions=n.actions,e.actionsLayout=n.actionsLayout||"stretched",e.width=n.width,e.minWidth=n.minWidth,e.maxWidth=n.maxWidth,e.height=n.height,e.minHeight=n.minHeight,e.maxHeight=n.maxHeight,e.autoFocusedElement=n.autoFocusedElement,e.closeTitle=n.closeTitle,e.cssClass=n.cssClass,e.htmlAttributes=n.htmlAttributes,e.animation=void 0===n.animation||n.animation,n.content instanceof t.C4Q&&(e.contentTemplate=n.content)}contentFrom(e,n,o){const r=n.injector.get(t.sFG);let a=[],l=[],c=[],u=null;if("string"==typeof e)a=[r.createText(e)];else if(e&&!(e instanceof t.C4Q)){const f=new c$e(()=>o,n.injector),_=this.resolver.resolveComponentFactory(e);u=n.createComponent(_,void 0,f),l=Array.from(u.location.nativeElement.querySelectorAll("kendo-dialog-titlebar")),a=[u.location.nativeElement],c=Array.from(u.location.nativeElement.querySelectorAll("kendo-dialog-actions")),o.content=u}return{componentRef:u,nodes:[l,a,c]}}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(t.OM3),t.KVO(fq))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),Fge=10002;const d$e={draggable:!0,height:null,left:null,minHeight:100,minWidth:120,position:"absolute",resizable:!0,state:"default",top:null,width:null},Uge=(s,i)=>e=>s.kendoDrag.pipe(zs(s.kendoRelease.pipe(x(()=>{i.emit()}))),(0,U.T)(({pageX:n,pageY:o})=>({originalX:e.pageX,originalY:e.pageY,pageX:n,pageY:o})));let $_=(()=>{class s{constructor(e){this.ngZone=e,this.close=new t.bkB,this.focus=new t.bkB,this.change=new t.bkB,this.stateChange=new t.bkB,this.dragStart=new t.bkB,this.dragEnd=new t.bkB,this.resizeStart=new t.bkB,this.resizeEnd=new t.bkB,this.options=Object.assign({},d$e),this.lastAction=null,this.subscriptions=new be.yU,this.dragSubscription=new be.yU}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),this.dragSubscription&&this.dragSubscription.unsubscribe()}init(e){const n=this.options.state,o=this.options;this.window=e,"default"!==n&&(this.restoreOptions=Object.assign({},o)),"minimized"===n&&(o.height=0,o.minHeight=0),"maximized"===n&&(o.position="fixed")}onDrag(e){this.subscriptions.add(this.ngZone.runOutsideAngular(()=>{let n,o;this.dragSubscription=e.kendoPress.pipe(x(r=>{r.isTouch||Nge(r),this.focus.emit(),n=this.currentPosition(),o=!1}),Y(Uge(e,this.dragEnd))).subscribe(({pageX:r,pageY:a,originalX:l,originalY:c})=>{o||(this.ensureWidth(),this.dragStart.emit(),o=!0),this.handleDrag({originalX:l,originalY:c,pageX:r,pageY:a,startPosition:n})})}))}handleDrag({originalX:e,originalY:n,pageX:o,pageY:r,startPosition:a}){this.options.left=a.x+o-e,this.options.top=a.y+r-n,"minimized"===this.options.state&&Rn(this.restoreOptions)&&(this.restoreOptions.left=this.options.left,this.restoreOptions.top=this.options.top),this.change.emit({left:a.x+o-e,top:a.y+r-n})}onResize(e,n){this.subscriptions.add(this.ngZone.runOutsideAngular(()=>{let o,r=!1;e.kendoPress.pipe(x(a=>{Nge(a),this.focus.emit(),o=this.currentOffsetAndPosition(),r=!1}),Y(Uge(e,this.resizeEnd))).subscribe(({pageX:a,pageY:l,originalX:c,originalY:u})=>{r||(this.resizeStart.emit(n),r=!0),this.handleResize(o,n,a-c,l-u)})}))}handleResize(e,n,o,r){const a=this.options,l={};if(n.indexOf("e")>=0){const c=e.width+o;c!==a.width&&c>=a.minWidth&&(l.width=c)}if(n.indexOf("n")>=0){const c=e.height-r,u=e.y+r;c!==a.height&&c>=a.minHeight&&u!==a.top&&(l.height=c,l.top=u)}if(n.indexOf("s")>=0){const c=e.height+r;c!==a.height&&c>=a.minHeight&&(l.height=c)}if(n.indexOf("w")>=0){const c=e.x+o,u=e.width-o;u!==a.width&&u>=a.minWidth&&c!==a.left&&(l.width=u,l.left=c)}(Rn(l.width)||Rn(l.height))&&(ex.forEach(c=>{Rn(l[c])&&(this.options[c]=l[c])}),this.change.emit(l))}restoreAction(){this.lastAction="restore",this.defaultState()}defaultState(){Rn(this.restoreOptions)&&(this.options=Object.assign({},this.restoreOptions)),this.options.state="default",this.stateChange.emit("default")}storeOptions(){this.restoreOptions=Object.assign({},this.options)}maximizeAction(){this.lastAction="maximize",this.maximizeState()}maximizeState(){this.storeOptions();const e=this.windowViewPort;this.options=Object.assign({},this.options,{height:e.height,left:0,position:"fixed",state:"maximized",top:0,width:e.width}),this.stateChange.emit("maximized")}minimizeAction(){this.lastAction="minimize",this.minimizeState()}minimizeState(){this.storeOptions(),this.options=Object.assign({},this.options,{height:null,minHeight:0,state:"minimized"}),this.stateChange.emit("minimized")}applyManualState(){switch(this.options.state){case"default":this.clearHeight(),this.defaultState();break;case"maximized":this.clearHeight(),this.maximizeState();break;case"minimized":this.minimizeState()}}closeAction(){this.close.emit()}ensureWidth(){const e=Qh(this.window.nativeElement);Rn(this.options.width)||(this.options.width=e.width,this.change.emit({width:e.width}))}clearHeight(){0===this.options.height&&delete this.options.height,0===this.options.minHeight&&delete this.options.minHeight}center(){if("maximized"===this.options.state)return;const e=pF(this.window.nativeElement),n=this.windowViewPort,o=Qh(this.window.nativeElement),r={};Rn(this.options.left)||(this.options.left=e.x+Math.max(0,(n.width-o.width)/2),r.left=this.options.left),Rn(this.options.top)||(this.options.top=e.y+Math.max(0,(n.height-o.height)/2),r.top=this.options.top),this.change.emit(r)}currentOffsetAndPosition(){const e=this.options,n=Qh(this.window.nativeElement);return Object.assign({},this.currentPosition(),{height:e.height?e.height:n.height,width:e.width?e.width:n.width})}currentPosition(){const e=this.options;return(!e.top||!e.left)&&this.setPosition(),{x:this.options.left,y:this.options.top}}setPosition(){const e=KJ(this.window.nativeElement,uF(this.window.nativeElement));this.options.left=e.left,this.options.top=e.top}setRestoreOption(e,n){Rn(this.restoreOptions)&&(this.restoreOptions[e]=n)}get nextPossibleZIndex(){return Fge}get nextZIndex(){return Fge++}get windowViewPort(){return hF(this.window.nativeElement)}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(t.SKi))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),mq=(()=>{class s{constructor(e,n,o,r){this.draggable=e,this.el=n,this.renderer=o,this.service=r,this.subscriptions=new be.yU}get hostClass(){return!0}ngOnInit(){this.setDisplay(),this.renderer.addClass(this.el.nativeElement,"k-resize-"+this.direction),this.subscriptions.add(pt(this.draggable).subscribe(e=>{this.service.onResize(e,this.direction)})),this.subscriptions.add(this.service.resizeStart.subscribe(e=>{e!==this.direction&&this.setDisplay("none")})),this.subscriptions.add(this.service.dragStart.subscribe(()=>{this.setDisplay("none")})),this.subscriptions.add(Ht(this.service.resizeEnd,this.service.dragEnd).subscribe(()=>{this.setDisplay("block")})),this.subscriptions.add(this.service.stateChange.subscribe(e=>{this.setDisplay("default"===e?"block":"none")}))}ngOnDestroy(){this.subscriptions.unsubscribe()}setDisplay(e="block"){this.renderer.setStyle(this.el.nativeElement,"display","default"===this.service.options.state?e:"none")}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Nd,1),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU($_))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoWindowResizeHandle",""]],hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-resize-handle",n.hostClass)},inputs:{direction:"direction"}}),s})(),Wn=(()=>{class s{constructor(e,n,o){this.el=e,this.ngZone=o,this.service=n}ngOnInit(){this.dragDirective=new Nd(this.el,this.ngZone),this.dragDirective.ngOnInit(),this.isDraggable&&this.subscribeDrag(),this.subscribeStateChange()}ngAfterViewInit(){const e=this.el.nativeElement.querySelector(".k-window-title");Rn(e)&&e.setAttribute("id",this.id)}ngOnDestroy(){this.dragDirective.ngOnDestroy(),this.unsubscribeDrag(),this.unsubscribeState()}subscribeDrag(){this.unsubscribeDrag(),this.dragSubscription=pt(this.dragDirective).subscribe(e=>{this.service.onDrag(e)})}subscribeStateChange(){this.stateSubscription=this.service.stateChange.subscribe(e=>{this.service.options.draggable&&("maximized"===e?this.unsubscribeDrag():this.subscribeDrag())})}unsubscribeDrag(){this.dragSubscription&&(this.service.dragSubscription.unsubscribe(),this.dragSubscription.unsubscribe(),this.dragSubscription=null)}unsubscribeState(){this.stateSubscription&&(this.stateSubscription.unsubscribe(),this.stateSubscription=null)}get className(){return!0}get touchAction(){if(this.isDraggable)return"none"}handle(e){const n=e.target,o=this.service.options.state;!ow(n,"k-icon")&&!Rge(n,!1)&&this.service.options.resizable&&("default"===o?this.service.maximizeAction():"maximized"===o&&this.service.restoreAction())}get isDraggable(){const e=this.service.options;return e.draggable&&"maximized"!==e.state}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU($_),t.rXU(t.SKi))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-window-titlebar"]],hostVars:4,hostBindings:function(e,n){1&e&&t.bIt("dblclick",function(r){return n.handle(r)}),2&e&&(t.xc7("touch-action",n.touchAction),t.AVh("k-window-titlebar",n.className))},inputs:{template:"template",id:"id"},ngContentSelectors:r0,decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&(t.NAR(),t.DNE(0,_He,1,0,"ng-content",0)(1,vHe,1,4,null,0)),2&e&&(t.Y8G("ngIf",!n.template),t.R7$(),t.Y8G("ngIf",n.template))},dependencies:[W,Je],encapsulation:2}),s})(),Bge=(()=>{class s{constructor(e,n){this.window=e,this.ngZone=n}process(e){const n=e.keyCode;switch(n){case Hs.up:case Hs.down:case Hs.left:case Hs.right:e.preventDefault(),this.ngZone.run(()=>{this.handleArrow(n,e)});break;case Hs.esc:this.ngZone.run(()=>{this.handleEscape()})}}handleArrow(e,n){const o=this.window.options;n.altKey?this.handleStateChange(e,o.state):(n.ctrlKey||n.metaKey)&&"default"===o.state?this.handleResize(e):this.handleDrag(e)}handleEscape(){this.window.closeAction()}handleDrag(e){const n=this.window.options;if(!n.draggable)return;const o=this.window.currentOffsetAndPosition(),r=this.window.restoreOptions,a={};let l=10;switch((e===Hs.left||e===Hs.up)&&(l*=-1),e){case Hs.left:case Hs.right:a.left=o.x+l,n.left=a.left;break;case Hs.up:case Hs.down:a.top=o.y+l,n.top=a.top}"minimized"===n.state&&Rn(r)&&(r.left=n.left,r.top=n.top),this.window.change.emit(a)}handleResize(e){const n=this.window.options;if(!n.resizable)return;const o=this.window.currentOffsetAndPosition();let r,a;const l={};let c=10;switch((e===Hs.left||e===Hs.up)&&(c*=-1),e){case Hs.left:case Hs.right:r=o.width+c,r!==n.width&&r>=n.minWidth&&(l.width=r);break;case Hs.up:case Hs.down:a=o.height+c,a!==n.height&&a>=n.minHeight&&(l.height=a)}(Rn(l.width)||Rn(l.height))&&(ex.forEach(u=>{Rn(l[u])&&(this.window.options[u]=l[u])}),this.window.change.emit(l))}handleStateChange(e,n){"minimized"===n&&e===Hs.up||"maximized"===n&&e===Hs.down?this.window.restoreAction():"default"===n&&(e===Hs.up?this.window.maximizeAction():e===Hs.down&&this.window.minimizeAction())}}return s.\u0275fac=function(e){return new(e||s)(t.KVO($_),t.KVO(t.SKi))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),Ld=(()=>{class s extends $t{constructor(e,n,o,r,a){super(e,n,null,r,a),this.buttonType="button",this.buttonClass=!0,this.windowMinimizeIcon=sY,this.window=o,this.fillMode="flat",this.icon="window-minimize"}onClick(){this.isDisabled||this.window.minimizeAction()}get visible(){return"default"===this.window.options.state?"inline-flex":"none"}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU($_,8),t.rXU(j),t.rXU(t.SKi))},s.\u0275cmp=t.VBU({type:s,selectors:[["button","kendoWindowMinimizeAction",""]],hostVars:5,hostBindings:function(e,n){1&e&&t.bIt("click",function(){return n.onClick()}),2&e&&(t.BMQ("type",n.buttonType),t.xc7("display",n.visible),t.AVh("k-window-titlebar-action",n.buttonClass))},inputs:{window:"window"},exportAs:["kendoWindowMinimizeAction"],features:[t.Jv_([j,{provide:Ve,useValue:"kendo.button"}]),t.Vt3],attrs:SHe,ngContentSelectors:r0,decls:5,vars:3,consts:[["innerCssClass","k-button-icon","name","window-minimize",3,"svgIcon",4,"ngIf"],["class","k-button-icon k-icon",4,"ngIf"],["class","k-button-icon",3,"ngClass",4,"ngIf"],[1,"k-button-text"],["innerCssClass","k-button-icon","name","window-minimize",3,"svgIcon"],[1,"k-button-icon","k-icon"],["role","presentation",1,"k-image",3,"src"],[1,"k-button-icon",3,"ngClass"]],template:function(e,n){1&e&&(t.NAR(),t.DNE(0,CHe,1,1,"kendo-icon-wrapper",0)(1,bHe,2,1,"span",1)(2,EHe,1,1,"span",2),t.j41(3,"span",3),t.SdG(4),t.k0s()),2&e&&(t.Y8G("ngIf",!n.imageUrl&&!n.iconClass),t.R7$(),t.Y8G("ngIf",n.imageUrl),t.R7$(),t.Y8G("ngIf",n.iconClass))},dependencies:[Ke,W,Pe],encapsulation:2}),s})(),Gd=(()=>{class s extends $t{constructor(e,n,o,r,a){super(e,n,null,r,a),this.buttonType="button",this.buttonClass=!0,this.windowIcon=iY,this.window=o,this.fillMode="flat",this.icon="window"}onClick(){this.isDisabled||this.window.maximizeAction()}get visible(){return"default"===this.window.options.state?"inline-flex":"none"}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU($_,8),t.rXU(j),t.rXU(t.SKi))},s.\u0275cmp=t.VBU({type:s,selectors:[["button","kendoWindowMaximizeAction",""]],hostVars:5,hostBindings:function(e,n){1&e&&t.bIt("click",function(){return n.onClick()}),2&e&&(t.BMQ("type",n.buttonType),t.xc7("display",n.visible),t.AVh("k-window-titlebar-action",n.buttonClass))},inputs:{window:"window"},exportAs:["kendoWindowMaximizeAction"],features:[t.Jv_([j,{provide:Ve,useValue:"kendo.button"}]),t.Vt3],attrs:yHe,ngContentSelectors:r0,decls:5,vars:3,consts:[["innerCssClass","k-button-icon","name","window",3,"svgIcon",4,"ngIf"],["class","k-button-icon k-icon",4,"ngIf"],["class","k-button-icon",3,"ngClass",4,"ngIf"],[1,"k-button-text"],["innerCssClass","k-button-icon","name","window",3,"svgIcon"],[1,"k-button-icon","k-icon"],["role","presentation",1,"k-image",3,"src"],[1,"k-button-icon",3,"ngClass"]],template:function(e,n){1&e&&(t.NAR(),t.DNE(0,kHe,1,1,"kendo-icon-wrapper",0)(1,wHe,2,1,"span",1)(2,DHe,1,1,"span",2),t.j41(3,"span",3),t.SdG(4),t.k0s()),2&e&&(t.Y8G("ngIf",!n.imageUrl&&!n.iconClass),t.R7$(),t.Y8G("ngIf",n.imageUrl),t.R7$(),t.Y8G("ngIf",n.iconClass))},dependencies:[Ke,W,Pe],encapsulation:2}),s})(),Pd=(()=>{class s extends $t{constructor(e,n,o,r,a){super(e,n,null,r,a),this.windowRestoreIcon=iP,this.buttonType="button",this.buttonClass=!0,this.window=o,this.fillMode="flat",this.icon="window-restore"}onClick(){this.isDisabled||this.window.restoreAction()}get visible(){return"default"===this.window.options.state?"none":"inline-flex"}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU($_,8),t.rXU(j),t.rXU(t.SKi))},s.\u0275cmp=t.VBU({type:s,selectors:[["button","kendoWindowRestoreAction",""]],hostVars:5,hostBindings:function(e,n){1&e&&t.bIt("click",function(){return n.onClick()}),2&e&&(t.BMQ("type",n.buttonType),t.xc7("display",n.visible),t.AVh("k-window-titlebar-action",n.buttonClass))},inputs:{window:"window"},exportAs:["kendoWindowRestoreAction"],features:[t.Jv_([j,{provide:Ve,useValue:"kendo.button"}]),t.Vt3],attrs:OHe,ngContentSelectors:r0,decls:5,vars:3,consts:[["innerCssClass","k-button-icon","name","window-restore",3,"svgIcon",4,"ngIf"],["class","k-button-icon k-icon",4,"ngIf"],["class","k-button-icon",3,"ngClass",4,"ngIf"],[1,"k-button-text"],["innerCssClass","k-button-icon","name","window-restore",3,"svgIcon"],[1,"k-button-icon","k-icon"],["role","presentation",1,"k-image",3,"src"],[1,"k-button-icon",3,"ngClass"]],template:function(e,n){1&e&&(t.NAR(),t.DNE(0,THe,1,1,"kendo-icon-wrapper",0)(1,MHe,2,1,"span",1)(2,IHe,1,1,"span",2),t.j41(3,"span",3),t.SdG(4),t.k0s()),2&e&&(t.Y8G("ngIf",!n.imageUrl&&!n.iconClass),t.R7$(),t.Y8G("ngIf",n.imageUrl),t.R7$(),t.Y8G("ngIf",n.iconClass))},dependencies:[Ke,W,Pe],encapsulation:2}),s})(),li=(()=>{class s extends $t{constructor(e,n,o,r,a){super(e,n,null,r,a),this.xIcon=wo,this.buttonType="button",this.buttonClass=!0,this.window=o,this.fillMode="flat",this.icon="x"}onClick(){this.isDisabled||this.window.closeAction()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU($_,8),t.rXU(j),t.rXU(t.SKi))},s.\u0275cmp=t.VBU({type:s,selectors:[["button","kendoWindowCloseAction",""]],hostVars:3,hostBindings:function(e,n){1&e&&t.bIt("click",function(){return n.onClick()}),2&e&&(t.BMQ("type",n.buttonType),t.AVh("k-window-titlebar-action",n.buttonClass))},inputs:{window:"window"},exportAs:["kendoWindowCloseAction"],features:[t.Jv_([j,{provide:Ve,useValue:"kendo.button"}]),t.Vt3],attrs:xHe,ngContentSelectors:r0,decls:5,vars:3,consts:[["innerCssClass","k-button-icon","name","close",3,"svgIcon",4,"ngIf"],["class","k-button-icon k-icon",4,"ngIf"],["class","k-button-icon",3,"ngClass",4,"ngIf"],[1,"k-button-text"],["innerCssClass","k-button-icon","name","close",3,"svgIcon"],[1,"k-button-icon","k-icon"],["role","presentation",1,"k-image",3,"src"],[1,"k-button-icon",3,"ngClass"]],template:function(e,n){1&e&&(t.NAR(),t.DNE(0,AHe,1,1,"kendo-icon-wrapper",0)(1,RHe,2,1,"span",1)(2,NHe,1,1,"span",2),t.j41(3,"span",3),t.SdG(4),t.k0s()),2&e&&(t.Y8G("ngIf",!n.imageUrl&&!n.iconClass),t.R7$(),t.Y8G("ngIf",n.imageUrl),t.R7$(),t.Y8G("ngIf",n.iconClass))},dependencies:[Ke,W,Pe],encapsulation:2}),s})(),ni=(()=>{class s{constructor(e,n,o,r,a,l){this.el=e,this.renderer=n,this.service=o,this.navigation=r,this.ngZone=a,this.localization=l,this.keepContent=!1,this.dragStart=new t.bkB,this.dragEnd=new t.bkB,this.resizeStart=new t.bkB,this.resizeEnd=new t.bkB,this.close=new t.bkB,this.widthChange=new t.bkB,this.heightChange=new t.bkB,this.topChange=new t.bkB,this.leftChange=new t.bkB,this.stateChange=new t.bkB,this.messages={},this.showLicenseWatermark=!1,this.tabIndex=0,this.role="dialog",this.hostClass=!0,this.titleId=null,this._themeColor=null,this.draged=!1,this.resized=!1,this.windowSubscription=new be.yU,this.domSubs=new be.yU;const c=(0,mt.$)(Pge);this.showLicenseWatermark=V_(c),this.direction=this.localization.rtl?"rtl":"ltr",this.localizationChangeSubscription=this.localization.changes.subscribe(({rtl:u})=>this.direction=u?"rtl":"ltr"),this.resizeDirections=e$e,this.subscribeEvents(),this.titleId=this.generateTitleId()}set draggable(e){this.options.draggable=e}get draggable(){return this.options.draggable}set resizable(e){this.options.resizable=e}get resizable(){return this.options.resizable}set themeColor(e){this.handleThemeColorClass(this.themeColor,e),this._themeColor=e}get themeColor(){return this._themeColor}set cssClass(e){this.setServiceClasses(this._cssClass,e),this._cssClass=e}get cssClass(){return this._cssClass}set htmlAttributes(e){C_e(e,this.renderer,this.el.nativeElement);const n=this.el.nativeElement,o=n.getAttribute("dir"),r=n.getAttribute("tabindex");this.direction!==o&&(this.direction=o),this.tabIndex!==r&&(this.tabIndex=r),this._htmlAttributes=e}get htmlAttributes(){return this._htmlAttributes}set state(e){this.options.state=e}get state(){return this.options.state}set minWidth(e){this.setOption("minWidth",e)}get minWidth(){return this.options.minWidth}set minHeight(e){this.setOption("minHeight",e)}get minHeight(){return this.options.minHeight}set width(e){this.setOption("width",e)}get width(){return this.options.width}set height(e){this.setOption("height",e)}get height(){return this.options.height}set top(e){this.setOption("top",e)}get top(){return this.options.top}set left(e){this.setOption("left",e)}get left(){return this.options.left}get closeButtonTitle(){return this.messages&&this.messages.closeTitle?this.messages.closeTitle:this.localization.get("closeTitle")}get restoreButtonTitle(){return this.messages&&this.messages.restoreTitle?this.messages.restoreTitle:this.localization.get("restoreTitle")}get maximizeButtonTitle(){return this.messages&&this.messages.maximizeTitle?this.messages.maximizeTitle:this.localization.get("maximizeTitle")}get minimizeButtonTitle(){return this.messages&&this.messages.minimizeTitle?this.messages.minimizeTitle:this.localization.get("minimizeTitle")}get dir(){return this.direction}ngAfterViewInit(){ne()&&(this.setNextZIndex(),this.handleInitialFocus(),this.ngZone.runOutsideAngular(()=>Promise.resolve(null).then(()=>this.setInitialOffset())),this.initDomEvents(),(this.titleBarView||this.titleBarContent)&&this.renderer.setAttribute(this.el.nativeElement,"aria-labelledby",this.titleId),this.handleThemeColorClass(null,this.themeColor))}ngOnInit(){this.renderer.removeAttribute(this.el.nativeElement,"title"),this.service.init(this.el)}ngOnChanges(e){if(ex.forEach(n=>{Dt(n,e)&&this.setStyle(n,this.options[n])}),Dt("draggable",e)){const n=Rn(this.titleBarContent)?this.titleBarContent:this.titleBarView;(s=>!!s)(e.draggable.currentValue)?n.subscribeDrag():n.unsubscribeDrag()}Dt("state",e)&&(Rn(this.service.lastAction)?this.service.lastAction=null:(this.service.applyManualState(),this.updateAllOffset()))}ngOnDestroy(){this.windowSubscription&&this.windowSubscription.unsubscribe(),this.domSubs&&this.domSubs.unsubscribe(),this.localizationChangeSubscription.unsubscribe()}focus(){const e=this.el.nativeElement;Rn(e)&&e.focus()}bringToFront(){this.setNextZIndex()}setDimension(e,n){this.setOption(e,n),this.setStyle(e,n)}setOffset(e,n){this.setOption(e,n),this.setStyle(e,n)}get showDefaultTitleBar(){return!Rn(this.titleBarContent)}get styleMinWidth(){return this.minWidth+"px"}get styleMinHeight(){return this.minHeight+"px"}get stylePosition(){return this.options.position}get wrapperMaximizedClass(){return"maximized"===this.state}get wrapperMinimizedClass(){return"minimized"===this.state}onComponentFocus(){this.renderer.addClass(this.el.nativeElement,"k-focus"),this.setNextZIndex()}onComponentBlur(){this.renderer.removeClass(this.el.nativeElement,"k-focus")}subscribeEvents(){ne()&&(this.windowSubscription.add(this.service.focus.subscribe(()=>{this.el.nativeElement.focus()})),this.windowSubscription.add(this.service.dragStart.subscribe(()=>{this.draged=!0,this.ngZone.run(()=>{this.dragStart.emit()})})),this.windowSubscription.add(this.service.dragEnd.subscribe(()=>{this.draged&&(this.draged=!1,this.ngZone.run(()=>{this.dragEnd.emit()}))})),this.windowSubscription.add(this.service.close.subscribe(()=>{this.close.emit()})),this.windowSubscription.add(this.service.resizeStart.subscribe(()=>{this.resized=!0,this.ngZone.run(()=>{this.resizeStart.emit()})})),this.windowSubscription.add(this.service.resizeEnd.subscribe(()=>{this.resized&&(this.resized=!1,this.ngZone.run(()=>{this.resizeEnd.emit()}))})),this.windowSubscription.add(this.service.change.subscribe(e=>{ex.forEach(n=>{if(Rn(e[n])&&(this.setStyle(n,e[n]),"maximized"!==this.state)){const o=this[n+"Change"];o.observers.length&&this.ngZone.run(()=>{o.emit(e[n])})}})})),this.windowSubscription.add(this.service.stateChange.subscribe(e=>{Rn(this.service.lastAction)&&(this.updateAllOffset(),this.stateChange.emit(e))})))}initDomEvents(){this.el&&this.ngZone.runOutsideAngular(()=>{this.domSubs.add(this.renderer.listen(this.el.nativeElement,"keydown",e=>{this.onKeyDown(e)}))})}onKeyDown(e){ow(e.target,"k-window")&&this.navigation.process(e)}setServiceClasses(e,n){const o=this.el.nativeElement;e&&ZI(e).forEach(r=>{this.renderer.removeClass(o,r)}),n&&ZI(n).forEach(r=>{this.renderer.addClass(o,r)})}setNextZIndex(){const e=this.el.nativeElement.style["z-index"];(!e||this.service.nextPossibleZIndex-e>1)&&this.renderer.setStyle(this.el.nativeElement,"z-index",this.service.nextZIndex)}setInitialOffset(){if("maximized"!==this.state)this.updateAllOffset(),(!Rn(this.left)||!Rn(this.top))&&this.service.center();else{const e=this.service.windowViewPort;this.setStyle("width",e.width),this.setStyle("height",e.height),this.setStyle("top",0),this.setStyle("left",0)}}updateAllOffset(){ex.forEach(e=>{Rn(this[e])?this.setStyle(e,this[e]):this.removeStyle(e)})}setStyle(e,n){this.renderer.setStyle(this.el.nativeElement,e,n+"px")}removeStyle(e){this.renderer.removeStyle(this.el.nativeElement,e)}get options(){return this.service.options}setOption(e,n){if("number"!=typeof n&&"string"!=typeof n)return;const o="number"==typeof n?n:parseInt(n,10);this.options[e]=o,this.service.setRestoreOption(e,o)}handleInitialFocus(){if(this.autoFocusedElement){const n=this.el.nativeElement.querySelector(this.autoFocusedElement);n&&n.focus()}else this.focus()}generateTitleId(){return"kendo-window-title-"+Math.ceil(1e6*Math.random()).toString()}handleThemeColorClass(e,n){const o=this.el.nativeElement;e&&this.renderer.removeClass(o,`k-window-${e}`),n&&this.renderer.addClass(o,`k-window-${n}`)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU($_),t.rXU(Bge),t.rXU(t.SKi),t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-window"]],contentQueries:function(e,n,o){if(1&e&&t.wni(o,Wn,5),2&e){let r;t.mGM(r=t.lsd())&&(n.titleBarContent=r.first)}},viewQuery:function(e,n){if(1&e&&(t.GBs(Wn,5),t.GBs(mq,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.titleBarView=o.first),t.mGM(o=t.lsd())&&(n.resizeHandles=o)}},hostVars:15,hostBindings:function(e,n){1&e&&t.bIt("focus",function(){return n.onComponentFocus()})("blur",function(){return n.onComponentBlur()}),2&e&&(t.BMQ("tabIndex",n.tabIndex)("role",n.role)("dir",n.dir),t.xc7("min-width",n.styleMinWidth)("min-height",n.styleMinHeight)("position",n.stylePosition),t.AVh("k-window",n.hostClass)("k-window-maximized",n.wrapperMaximizedClass)("k-window-minimized",n.wrapperMinimizedClass))},inputs:{autoFocusedElement:"autoFocusedElement",title:"title",draggable:"draggable",resizable:"resizable",themeColor:"themeColor",keepContent:"keepContent",state:"state",minWidth:"minWidth",minHeight:"minHeight",width:"width",height:"height",top:"top",left:"left"},outputs:{dragStart:"dragStart",dragEnd:"dragEnd",resizeStart:"resizeStart",resizeEnd:"resizeEnd",close:"close",widthChange:"widthChange",heightChange:"heightChange",topChange:"topChange",leftChange:"leftChange",stateChange:"stateChange"},exportAs:["kendoWindow"],features:[t.Jv_([$_,Bge,j,{provide:Ve,useValue:"kendo.window"}]),t.OA$],ngContentSelectors:GHe,decls:7,vars:5,consts:()=>{let i,e,n,o;return i="Chiudi",e="Ripristina",n="Massimizza",o="Minimizza",[["kendoWindowLocalizedMessages","","closeTitle",i,"restoreTitle",e,"maximizeTitle",n,"minimizeTitle",o],[3,"template","id",4,"ngIf"],[4,"ngIf"],["class","k-window-content",3,"hidden",4,"ngIf"],[3,"ngIf"],["kendoWatermarkOverlay","",4,"ngIf"],[3,"template","id"],[1,"k-window-title"],[1,"k-window-titlebar-actions"],["kendoWindowMinimizeAction",""],["kendoWindowMaximizeAction",""],["kendoWindowRestoreAction",""],["kendoWindowCloseAction",""],[1,"k-window-content",3,"hidden"],[3,"ngTemplateOutlet"],["kendoWindowResizeHandle","","kendoDraggable","",3,"direction",4,"ngFor","ngForOf"],["kendoWindowResizeHandle","","kendoDraggable","",3,"direction"],["kendoWatermarkOverlay",""]]},template:function(e,n){1&e&&(t.NAR(LHe),t.qex(0,0)(1),t.DNE(2,PHe,8,11,"kendo-window-titlebar",1)(3,FHe,1,0,"ng-content",2)(4,zHe,3,3,"div",3)(5,HHe,1,1,"ng-template",4)(6,$He,1,0,"div",5),t.bVm()()),2&e&&(t.R7$(2),t.Y8G("ngIf",n.showDefaultTitleBar),t.R7$(),t.Y8G("ngIf",!n.showDefaultTitleBar),t.R7$(),t.Y8G("ngIf","minimized"!==n.state||n.keepContent),t.R7$(),t.Y8G("ngIf",n.resizable),t.R7$(),t.Y8G("ngIf",n.showLicenseWatermark))},dependencies:[Wn,Ld,Gd,Pd,li,U_,bF,W,Je,st,mq,Nd],encapsulation:2}),s})();class Vge{}class u$e{}let zge=(()=>{class s{set container(e){s.container=e}get container(){return s.container}}return s.container=null,s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();class p$e{constructor(i,e){this.getWindowRef=i,this.parentInjector=e}get(i,e){return i===u$e?this.getWindowRef():this.parentInjector.get(i,e)}}let f$e=(()=>{class s{constructor(e,n){this.resolver=e,this.containerService=n}open(e){const n=this.resolver.resolveComponentFactory(ni),o=e.appendTo||this.containerService.container;if(!o)throw new Error("Cannot attach window to the page.\n                Add an element that uses the kendoWindowContainer directive, or set the 'appendTo' property.\n                See https://www.telerik.com/kendo-angular-ui/components/dialogs/window/service/\n            ");const r={close:()=>{},content:null,result:null,window:null},a=this.contentFrom(e.content,o,r),l=o.createComponent(n,void 0,void 0,a.nodes);r.window=l,this.applyOptions(l.instance,e);const c=new Xe.B,u=_=>{c.next(_||new Vge),a.componentRef&&a.componentRef.destroy(),l.destroy()},f=Ht(c,l.instance.close.pipe((0,U.T)(_=>_||new Vge),z(_=>{if(e.preventClose){const g=(s=>uq(s)||s instanceof t.C4Q)(e.content)?void 0:r;return!e.preventClose(_,g)}return!0}))).pipe(Ye(1),VC());return f.subscribe(u),r.close=u,r.result=f,l.changeDetectorRef.markForCheck(),r}applyOptions(e,n){Rn(n.htmlAttributes)&&(e.htmlAttributes=n.htmlAttributes),Rn(n.cssClass)&&(e.cssClass=n.cssClass),Rn(n.title)&&(e.title=n.title),Rn(n.keepContent)&&(e.keepContent=n.keepContent),Rn(n.width)&&(e.width=n.width),Rn(n.minWidth)&&(e.minWidth=n.minWidth),Rn(n.height)&&(e.height=n.height),Rn(n.minHeight)&&(e.minHeight=n.minHeight),Rn(n.left)&&(e.left=n.left),Rn(n.top)&&(e.top=n.top),Rn(n.draggable)&&(e.draggable=n.draggable),Rn(n.resizable)&&(e.resizable=n.resizable),Rn(n.messages&&n.messages.closeTitle)&&(e.messages.closeTitle=n.messages.closeTitle),Rn(n.messages&&n.messages.restoreTitle)&&(e.messages.restoreTitle=n.messages.restoreTitle),Rn(n.messages&&n.messages.maximizeTitle)&&(e.messages.maximizeTitle=n.messages.maximizeTitle),Rn(n.messages&&n.messages.minimizeTitle)&&(e.messages.minimizeTitle=n.messages.minimizeTitle),Rn(n.autoFocusedElement)&&(e.autoFocusedElement=n.autoFocusedElement),Rn(n.state)&&(e.state=n.state,"minimized"===n.state&&(e.keepContent=!0)),n.content instanceof t.C4Q&&(e.contentTemplate=n.content),n.titleBarContent instanceof t.C4Q&&(e.titleBarTemplate=n.titleBarContent)}contentFrom(e,n,o){const r=n.injector.get(t.sFG);let a=[],l=null;if("string"==typeof e)a=[r.createText(e)];else if(e&&!(e instanceof t.C4Q)){const c=new p$e(()=>o,n.injector),u=this.resolver.resolveComponentFactory(e);l=n.createComponent(u,void 0,c),a=[l.location.nativeElement],o.content=l}return{componentRef:l,nodes:[[],a]}}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(t.OM3),t.KVO(zge))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),m$e=(()=>{class s{constructor(e,n){n.container=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.c1b),t.rXU(fq))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoDialogContainer",""]]}),s})(),jge=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,An,gr],Fe,An,gr]}),s})(),_q=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({providers:[fq,H_],imports:[[jge,B_]]}),s})(),_$e=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({providers:[zge,f$e],imports:[[jge,ew,B_]]}),s})(),Hge=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[_q,_$e]}),s})();const $ge=["container"];function g$e(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",8),2&s){const e=t.XpG();t.Y8G("name",e.typeIconClass())("svgIcon",e.typeSVGIcon())}}function v$e(s,i){}function S$e(s,i){if(1&s&&t.EFF(0),2&s){const e=t.XpG();t.SpI(" ",e.templateString," ")}}function C$e(s,i){if(1&s){const e=t.RV6();t.j41(0,"span",9)(1,"span",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onCloseClick())}),t.nrm(2,"kendo-icon-wrapper",11),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(),t.BMQ("title",e.closeButtonTitle),t.R7$(),t.Y8G("svgIcon",e.xIcon)}}const b$e=["group"],E$e={name:"@progress/kendo-angular-notification",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925121,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};let O$e=(()=>{class s extends Gi{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoNotificationLocalizedMessages",""]],inputs:{closeTitle:"closeTitle"},features:[t.Jv_([{provide:Gi,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})(),T$e=(()=>{class s{constructor(e,n,o,r,a){this.cdr=e,this.element=n,this.renderer=o,this.builder=r,this.localizationService=a,this.xIcon=wo,this.contentId=`k-${rn()}`,this.close=new t.bkB,this.width=null,this.height=null,this.notificationLabel="Notification",this.defaultHideAfter=5e3,this.animationEnd=new t.bkB,this.rtl=!1,(0,mt.$)(E$e),this.dynamicRTLSubscription=a.changes.subscribe(({rtl:l})=>{this.rtl=l,this.direction=this.rtl?"rtl":"ltr"})}get closeButtonTitle(){return this.closeTitle||this.localizationService.get("closeTitle")}notificationClasses(){return`${this.type?this.typeClass():""}\n            ${this.closable?"k-notification-closable":""}`}ngOnInit(){clearTimeout(this.hideTimeout)}ngOnDestroy(){clearTimeout(this.hideTimeout),this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe()}ngAfterViewInit(){!this.closable&&!this.animation&&this.setHideTimeout(),!this.closable&&this.animation&&this.animationEnd.pipe(Ye(1)).subscribe(()=>this.setHideTimeout()),this.animation&&this.animate(this.animation)}typeClass(){return{none:"",success:"k-notification-success",warning:"k-notification-warning",error:"k-notification-error",info:"k-notification-info"}[this.type.style]}typeIconClass(){return{none:"",success:"check-outline",warning:"exclamation-circle",error:"x-outline",info:"info-circle"}[this.type.style]}typeSVGIcon(){return{none:null,success:Uk,warning:zk,error:ZG,info:mP}[this.type.style]}onCloseClick(){clearTimeout(this.hideTimeout),this.hide()}hide(e){const n=getComputedStyle(this.element.nativeElement).height;if(this.animation&&n)return this.animate(this.animation,!0),void this.animationEnd.subscribe(()=>{this.emitClose(e)});this.emitClose(e)}setHideTimeout(){this.hideTimeout=window.setTimeout(()=>this.onCloseClick(),this.hideAfter||this.defaultHideAfter)}emitClose(e){e&&e.destroy(),this.close.emit()}play(e,n){const o=this.builder.build(e),r=this.element.nativeElement;this.renderer.addClass(r,"k-notification-container-animating");let a=o.create(n);a.onDone(()=>{this.renderer.removeClass(r,"k-notification-container-animating"),this.animationEnd.emit(),a&&(a.destroy(),a=null)}),a.play()}animate(e,n){const o=this.element.nativeElement,r=e.duration,l="slide"===e.type?this.slideAnimation(o.offsetHeight,r,n):this.fadeAnimation(r,n);this.play(l,o)}slideAnimation(e,n,o){return o?function k$e(s,i){return[We({height:`${s}px`}),hi(`${i}ms ease-in`,We({overflow:"hidden",height:0}))]}(e,n):function y$e(s,i){return[We({overflow:"hidden",height:0}),hi(`${i}ms ease-in`,We({height:`${s}px`}))]}(e,n)}fadeAnimation(e,n){return n?function D$e(s){return[We({opacity:1}),hi(`${s}ms ease-in`,We({opacity:0}))]}(e):function w$e(s){return[We({opacity:0}),hi(`${s}ms ease-in`,We({opacity:1}))]}(e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.gRc),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(ki),t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-notification"]],viewQuery:function(e,n){if(1&e&&t.GBs($ge,7,t.c1b),2&e){let o;t.mGM(o=t.lsd())&&(n.container=o.first)}},hostVars:1,hostBindings:function(e,n){2&e&&t.BMQ("dir",n.direction)},inputs:{templateRef:"templateRef",templateString:"templateString",width:"width",height:"height",notificationLabel:"notificationLabel",cssClass:"cssClass",hideAfter:"hideAfter",closable:"closable",type:"type",animation:"animation"},features:[t.Jv_([j,{provide:Ve,useValue:"kendo.notification"}])],decls:9,vars:16,consts:()=>{let i;return i="Chiudi",[["container",""],["kendoNotificationLocalizedMessages","","closeTitle",i],["role","alert","aria-live","polite",3,"ngClass"],["innerCssClass","k-notification-status",3,"name","svgIcon",4,"ngIf"],[1,"k-notification-content",3,"id"],[3,"ngIf","ngTemplateOutlet"],[3,"ngIf"],["class","k-notification-actions","aria-hidden","true",4,"ngIf"],["innerCssClass","k-notification-status",3,"name","svgIcon"],["aria-hidden","true",1,"k-notification-actions"],[1,"k-notification-action","k-notification-close-action",3,"click"],["name","x",3,"svgIcon"]]},template:function(e,n){1&e&&(t.eu8(0,1),t.j41(1,"div",2),t.DNE(2,g$e,1,2,"kendo-icon-wrapper",3),t.j41(3,"div",4),t.DNE(4,v$e,0,0,"ng-template",5)(5,S$e,1,1,"ng-template",6),t.eu8(6,null,0),t.k0s(),t.DNE(8,C$e,3,2,"span",7),t.k0s()),2&e&&(t.R7$(),t.ZvI("k-notification k-notification-base ",n.notificationClasses(),""),t.xc7("height",n.height,"px")("width",n.width,"px"),t.Y8G("ngClass",n.cssClass),t.BMQ("aria-describedby",n.contentId)("aria-label",n.notificationLabel),t.R7$(),t.Y8G("ngIf",n.type&&n.type.icon&&"none"!==n.type.style),t.R7$(),t.Y8G("id",n.contentId),t.R7$(),t.Y8G("ngIf",n.templateRef)("ngTemplateOutlet",n.templateRef),t.R7$(),t.Y8G("ngIf",n.templateString),t.R7$(3),t.Y8G("ngIf",n.closable))},dependencies:[Ke,O$e,Pe,W,Je],encapsulation:2}),s})(),M$e=(()=>{class s{constructor(e,n,o){this.element=e,this.renderer=n,this.resolver=o,this.id="",this.notifications=[]}ngOnDestroy(){this.notifications.forEach(e=>{e.closeClickSubscription&&e.closeClickSubscription.unsubscribe()}),this.notifications=[]}addNotification(e){this.position=e.position,this.id=`${this.position.horizontal} ${this.position.vertical}`;const n=this.resolver.resolveComponentFactory(T$e),o=this.container.createComponent(n);this.applySettings(o,e);let r=null;if("function"==typeof e.content){const a=this.resolver.resolveComponentFactory(e.content);r=o.instance.container.createComponent(a)}return o.changeDetectorRef.detectChanges(),this.notifications.push(o.instance),e.appendTo&&this.applyAbsolutePosition(e.appendTo),this.applyPosition(),this.applyContainerWrap(),{afterHide:o.instance.close,hide:()=>o.instance.hide(r),notification:o,content:r||null}}hide(e){const n=e.instance,o=this.notifications.indexOf(n);this.notifications.splice(o,1),n.closeClickSubscription&&n.closeClickSubscription.unsubscribe(),n.templateRef=null,n.templateString=null,e.destroy()}applyContainerWrap(){this.renderer.setStyle(this.group.nativeElement,"flex-wrap","right"===this.position.horizontal?"wrap-reverse":"wrap")}applySettings(e,n){const o=e.instance,r=n.content,a=n.animation||null;o.closeClickSubscription=o.close.subscribe(()=>this.hide(e)),"string"==typeof r&&(o.templateString=r),r instanceof t.C4Q&&(o.templateRef=r),o.animation=a;const l=n.type;l&&void 0===l.style&&(l.style="none"),l&&void 0===l.icon&&(l.icon=!0),o.type=l,o.closeTitle=n.closeTitle,n.cssClass&&(o.cssClass=n.cssClass),o.closable=n.closable,o.hideAfter=n.hideAfter,o.width=n.width,o.height=n.height}applyAbsolutePosition(e){const n=e.element.nativeElement,o=this.element.nativeElement.children[0];"static"===window.getComputedStyle(n).position&&this.renderer.setStyle(n,"position","relative"),this.renderer.setStyle(o,"position","absolute")}applyPosition(){const e=this.element.nativeElement.children[0],n=e.getBoundingClientRect().width/2,o=this.setContainerPosition(this.position,n);Object.keys(o).forEach(r=>{e.style[r]=o[r]})}setContainerPosition(e,n){const o={horizontal:{left:{left:0,alignItems:"flex-start"},right:{right:0,alignItems:"flex-start"},center:{left:"50%",marginLeft:-n+"px",alignItems:"center"}},vertical:{top:{top:0},bottom:{bottom:0}}};return Object.assign({},o.horizontal[e.horizontal],o.vertical[e.vertical])}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.OM3))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-notification-container"]],viewQuery:function(e,n){if(1&e&&(t.GBs($ge,7,t.c1b),t.GBs(b$e,7)),2&e){let o;t.mGM(o=t.lsd())&&(n.container=o.first),t.mGM(o=t.lsd())&&(n.group=o.first)}},inputs:{id:"id"},decls:4,vars:0,consts:[["group",""],["container",""],[1,"k-notification-group"]],template:function(e,n){1&e&&(t.j41(0,"div",2,0),t.eu8(2,null,1),t.k0s())},encapsulation:2}),s})();const I$e=new t.nKC("Notification Container");let Xge=(()=>{class s{constructor(e,n,o){this.resolver=e,this.injector=n,this.container=o,this.notificationContainers=[],this.position={horizontal:"right",vertical:"top"}}show(e){if(!e)throw new Error("NotificationSettings settings are required");const n=this.findGroupContainer(e),o=e.position||this.position,r=`${o.horizontal} ${o.vertical}`;let a,l,c=this.notificationContainers.find(u=>n.nativeElement.contains(u.element.nativeElement)&&u.id===r);if(!c){a=this.resolver.resolveComponentFactory(M$e).create(this.injector),c=a.instance,this.appRef.attachView(a.hostView);const u=a.location.nativeElement,f=this.findGroupContainer(e);if(!f)throw new Error("\n                    View Container not found! Inject the NOTIFICATION_CONTAINER or define a specific ViewContainerRef via\n                    the appendTo option. See http://www.telerik.com/kendo-angular-ui/components/notification/api/NOTIFICATION_CONTAINER/\n                    for more details.\n                ");f.nativeElement.appendChild(u),this.notificationContainers.push(c)}return e.position=o,l=c.addNotification(e),l}get appRef(){return this.applicationRef||(this.applicationRef=this.injector.get(t.o8S)),this.applicationRef}findGroupContainer(e){let n;if(e.appendTo)n=e.appendTo.element;else if(this.container)n=this.container;else{const o=this.appRef.components&&this.appRef.components[0];n=o?o.location:null}return n}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(t.OM3),t.KVO(t.zZn),t.KVO(I$e,8))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),x$e=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({providers:[Xge],imports:[[Fe,An]]}),s})(),_t=(()=>{class s{constructor(e,n){this._notification=e,this._dialog=n}info(e){this._notify("info",e)}success(e){this._notify("success",e)}warning(e){this._notify("warning",e)}error(e){this._notify("error",e)}confirm(e,n,o="Si",r="No"){return this._dialog.open({title:n,content:e,actions:[{text:r},{text:o}],width:450,height:200,minWidth:250,cssClass:"confirm-dialog"}).result.pipe((0,U.T)(c=>!(c instanceof a0)&&c.text===o))}alert(e,n,o){return this._dialog.open({title:n,content:e,actions:[{text:o||"Ok",primary:!0}],width:450,height:200,minWidth:250}).result.pipe((0,U.T)(()=>{}))}_notify(e,n){this._notification.show({content:n,hideAfter:5e3,animation:{type:"slide",duration:400},position:{horizontal:"right",vertical:"bottom"},type:{style:e,icon:!0}})}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(Xge),t.KVO(H_))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();function l0(s=0,i=Zk){return s<0&&(s=0),oF(s,s,i)}const{isArray:A$e}=Array;function Wge(...s){const i=ff(s),e=function R$e(s){return 1===s.length&&A$e(s[0])?s[0]:s}(s);return e.length?new _s.c(n=>{let o=e.map(()=>[]),r=e.map(()=>!1);n.add(()=>{o=r=null});for(let a=0;!n.closed&&a<e.length;a++)nr(e[a]).subscribe((0,Xi._)(n,l=>{if(o[a].push(l),o.every(c=>c.length)){const c=o.map(u=>u.shift());n.next(i?i(...c):c),o.some((u,f)=>!u.length&&r[f])&&n.complete()}},()=>{r[a]=!0,!o[a].length&&n.complete()}));return()=>{o=r=null}}):Nr}function yF(s,i){return(0,Zs.T)(i)?Y(()=>s,i):Y(()=>s)}function Yge(s,i){return i?e=>nC(i.pipe(Ye(1),function N$e(){return(0,$i.N)((s,i)=>{s.subscribe((0,Xi._)(i,oC.l))})}()),e.pipe(Yge(s))):fr((e,n)=>nr(s(e,n)).pipe(Ye(1),sC(e)))}function X_(s,i=Zk){const e=oF(s,i);return Yge(()=>e)}function gq(s,i=h_.D){return s=s??L$e,(0,$i.N)((e,n)=>{let o,r=!0;e.subscribe((0,Xi._)(n,a=>{const l=i(a);(r||!s(o,l))&&(r=!1,o=l,n.next(a))}))})}function L$e(s,i){return s===i}function vq(s,i=Zk,e){const n=oF(s,i);return function G$e(s,i){return(0,$i.N)((e,n)=>{const{leading:o=!0,trailing:r=!1}=i??{};let a=!1,l=null,c=null,u=!1;const f=()=>{c?.unsubscribe(),c=null,r&&(S(),u&&n.complete())},_=()=>{c=null,u&&n.complete()},g=b=>c=nr(s(b)).subscribe((0,Xi._)(n,f,_)),S=()=>{if(a){a=!1;const b=l;l=null,n.next(b),!u&&g(b)}};e.subscribe((0,Xi._)(n,b=>{a=!0,l=b,(!c||c.closed)&&(o?S():g(b))},()=>{u=!0,(!(r&&a&&c)||c.closed)&&n.complete()}))})}(()=>n,e)}function kv(s,i=Zk){return(0,$i.N)((e,n)=>{let o=null,r=null,a=null;const l=()=>{if(o){o.unsubscribe(),o=null;const u=r;r=null,n.next(u)}};function c(){const u=a+s,f=i.now();if(f<u)return o=this.schedule(void 0,u-f),void n.add(o);l()}e.subscribe((0,Xi._)(n,u=>{r=u,a=i.now(),o||(o=i.schedule(c,s),n.add(o))},()=>{l(),n.complete()},void 0,()=>{r=o=null}))})}let Kge=(()=>{class s{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(t.sFG),t.rXU(t.aKT))};static#t=this.\u0275dir=t.FsC({type:s})}return s})(),c0=(()=>{class s extends Kge{static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(s)))(o||s)}})();static#t=this.\u0275dir=t.FsC({type:s,features:[t.Vt3]})}return s})();const Yn=new t.nKC(""),U$e={provide:Yn,useExisting:(0,t.Rfq)(()=>aw),multi:!0};let aw=(()=>{class s extends c0{writeValue(e){this.setProperty("checked",e)}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(s)))(o||s)}})();static#t=this.\u0275dir=t.FsC({type:s,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,o){1&n&&t.bIt("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},features:[t.Jv_([U$e]),t.Vt3]})}return s})();const B$e={provide:Yn,useExisting:(0,t.Rfq)(()=>jo),multi:!0},z$e=new t.nKC("");let jo=(()=>{class s extends Kge{constructor(e,n,o){super(e,n),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function V$e(){const s=qt()?qt().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(z$e,8))};static#t=this.\u0275dir=t.FsC({type:s,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){1&n&&t.bIt("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[t.Jv_([B$e]),t.Vt3]})}return s})();function wv(s){return null==s||("string"==typeof s||Array.isArray(s))&&0===s.length}function Jge(s){return null!=s&&"number"==typeof s.length}const Ho=new t.nKC(""),Dv=new t.nKC(""),j$e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class tx{static min(i){return function qge(s){return i=>{if(wv(i.value)||wv(s))return null;const e=parseFloat(i.value);return!isNaN(e)&&e<s?{min:{min:s,actual:i.value}}:null}}(i)}static max(i){return function Qge(s){return i=>{if(wv(i.value)||wv(s))return null;const e=parseFloat(i.value);return!isNaN(e)&&e>s?{max:{max:s,actual:i.value}}:null}}(i)}static required(i){return Zge(i)}static requiredTrue(i){return function e1e(s){return!0===s.value?null:{required:!0}}(i)}static email(i){return function t1e(s){return wv(s.value)||j$e.test(s.value)?null:{email:!0}}(i)}static minLength(i){return function n1e(s){return i=>wv(i.value)||!Jge(i.value)?null:i.value.length<s?{minlength:{requiredLength:s,actualLength:i.value.length}}:null}(i)}static maxLength(i){return i1e(i)}static pattern(i){return function s1e(s){if(!s)return kF;let i,e;return"string"==typeof s?(e="","^"!==s.charAt(0)&&(e+="^"),e+=s,"$"!==s.charAt(s.length-1)&&(e+="$"),i=new RegExp(e)):(e=s.toString(),i=s),n=>{if(wv(n.value))return null;const o=n.value;return i.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(i)}static nullValidator(i){return null}static compose(i){return d1e(i)}static composeAsync(i){return u1e(i)}}function Zge(s){return wv(s.value)?{required:!0}:null}function i1e(s){return i=>Jge(i.value)&&i.value.length>s?{maxlength:{requiredLength:s,actualLength:i.value.length}}:null}function kF(s){return null}function o1e(s){return null!=s}function r1e(s){return(0,t.jNT)(s)?gs(s):s}function a1e(s){let i={};return s.forEach(e=>{i=null!=e?{...i,...e}:i}),0===Object.keys(i).length?null:i}function l1e(s,i){return i.map(e=>e(s))}function c1e(s){return s.map(i=>function H$e(s){return!s.validate}(i)?i:e=>i.validate(e))}function d1e(s){if(!s)return null;const i=s.filter(o1e);return 0==i.length?null:function(e){return a1e(l1e(e,i))}}function Sq(s){return null!=s?d1e(c1e(s)):null}function u1e(s){if(!s)return null;const i=s.filter(o1e);return 0==i.length?null:function(e){return function F$e(...s){const i=ff(s),{args:e,keys:n}=mf(s),o=new _s.c(r=>{const{length:a}=e;if(!a)return void r.complete();const l=new Array(a);let c=a,u=a;for(let f=0;f<a;f++){let _=!1;nr(e[f]).subscribe((0,Xi._)(r,g=>{_||(_=!0,u--),l[f]=g},()=>c--,void 0,()=>{(!c||!_)&&(u||r.next(n?p_(n,l):l),r.complete())}))}});return i?o.pipe(Id(i)):o}(l1e(e,i).map(r1e)).pipe((0,U.T)(a1e))}}function Cq(s){return null!=s?u1e(c1e(s)):null}function h1e(s,i){return null===s?[i]:Array.isArray(s)?[...s,i]:[s,i]}function p1e(s){return s._rawValidators}function f1e(s){return s._rawAsyncValidators}function bq(s){return s?Array.isArray(s)?s:[s]:[]}function wF(s,i){return Array.isArray(s)?s.includes(i):s===i}function m1e(s,i){const e=bq(i);return bq(s).forEach(o=>{wF(e,o)||e.push(o)}),e}function _1e(s,i){return bq(i).filter(e=>!wF(s,e))}class g1e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=Sq(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=Cq(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,e){return!!this.control&&this.control.hasError(i,e)}getError(i,e){return this.control?this.control.getError(i,e):null}}class Kl extends g1e{get formDirective(){return null}get path(){return null}}class Ri extends g1e{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class v1e{constructor(i){this._cd=i}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Un=(()=>{class s extends v1e{constructor(e){super(e)}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Ri,2))};static#t=this.\u0275dir=t.FsC({type:s,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){2&n&&t.AVh("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[t.Vt3]})}return s})(),Pi=(()=>{class s extends v1e{constructor(e){super(e)}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Kl,10))};static#t=this.\u0275dir=t.FsC({type:s,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,o){2&n&&t.AVh("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[t.Vt3]})}return s})();const nx="VALID",OF="INVALID",lw="PENDING",ix="DISABLED";function kq(s){return(TF(s)?s.validators:s)||null}function wq(s,i){return(TF(i)?i.asyncValidators:s)||null}function TF(s){return null!=s&&!Array.isArray(s)&&"object"==typeof s}class Dq{constructor(i,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(i),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===nx}get invalid(){return this.status===OF}get pending(){return this.status==lw}get disabled(){return this.status===ix}get enabled(){return this.status!==ix}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(m1e(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(m1e(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(_1e(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(_1e(i,this._rawAsyncValidators))}hasValidator(i){return wF(this._rawValidators,i)}hasAsyncValidator(i){return wF(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=lw,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const e=this._parentMarkedDirty(i.onlySelf);this.status=ix,this.errors=null,this._forEachChild(n=>{n.disable({...i,onlySelf:!0})}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...i,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!0))}enable(i={}){const e=this._parentMarkedDirty(i.onlySelf);this.status=nx,this._forEachChild(n=>{n.enable({...i,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors({...i,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nx||this.status===lw)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ix:nx}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=lw,this._hasOwnPendingAsyncValidator=!0;const e=r1e(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,e={}){this.errors=i,this._updateControlsErrors(!1!==e.emitEvent)}get(i){let e=i;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((n,o)=>n&&n._find(o),this)}getError(i,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[i]:null}hasError(i,e){return!!this.getError(i,e)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new t.bkB,this.statusChanges=new t.bkB}_calculateStatus(){return this._allControlsDisabled()?ix:this.errors?OF:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lw)?lw:this._anyControlsHaveStatus(OF)?OF:nx}_anyControlsHaveStatus(i){return this._anyControls(e=>e.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){TF(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=function Y$e(s){return Array.isArray(s)?Sq(s):s||null}(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=function K$e(s){return Array.isArray(s)?Cq(s):s||null}(this._rawAsyncValidators)}}class Zh extends Dq{constructor(i,e,n){super(kq(e),wq(n,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,e){return this.controls[i]?this.controls[i]:(this.controls[i]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(i,e,n={}){this.registerControl(i,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(i,e={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(i,e,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],e&&this.registerControl(i,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,e={}){(function b1e(s,i,e){s._forEachChild((n,o)=>{if(void 0===e[o])throw new t.wOt(1002,"")})})(this,0,i),Object.keys(i).forEach(n=>{(function C1e(s,i,e){const n=s.controls;if(!(i?Object.keys(n):n).length)throw new t.wOt(1e3,"");if(!n[e])throw new t.wOt(1001,"")})(this,!0,n),this.controls[n].setValue(i[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){null!=i&&(Object.keys(i).forEach(n=>{const o=this.controls[n];o&&o.patchValue(i[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i={},e={}){this._forEachChild((n,o)=>{n.reset(i?i[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(i,e,n)=>(i[n]=e.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(e,n)=>!!n._syncPendingControls()||e);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&i(n,e)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const[e,n]of Object.entries(this.controls))if(this.contains(e)&&i(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,n,o)=>((n.enabled||this.disabled)&&(e[o]=n.value),e))}_reduceChildren(i,e){let n=i;return this._forEachChild((o,r)=>{n=e(n,o,r)}),n}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(i){return this.controls.hasOwnProperty(i)?this.controls[i]:null}}const J$e=Zh,d0=new t.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>sx}),sx="always";function MF(s,i){return[...i.path,s]}function ox(s,i,e=sx){Oq(s,i),i.valueAccessor.writeValue(s.value),(s.disabled||"always"===e)&&i.valueAccessor.setDisabledState?.(s.disabled),function Z$e(s,i){i.valueAccessor.registerOnChange(e=>{s._pendingValue=e,s._pendingChange=!0,s._pendingDirty=!0,"change"===s.updateOn&&E1e(s,i)})}(s,i),function tXe(s,i){const e=(n,o)=>{i.valueAccessor.writeValue(n),o&&i.viewToModelUpdate(n)};s.registerOnChange(e),i._registerOnDestroy(()=>{s._unregisterOnChange(e)})}(s,i),function eXe(s,i){i.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,"blur"===s.updateOn&&s._pendingChange&&E1e(s,i),"submit"!==s.updateOn&&s.markAsTouched()})}(s,i),function Q$e(s,i){if(i.valueAccessor.setDisabledState){const e=n=>{i.valueAccessor.setDisabledState(n)};s.registerOnDisabledChange(e),i._registerOnDestroy(()=>{s._unregisterOnDisabledChange(e)})}}(s,i)}function IF(s,i,e=!0){const n=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(n),i.valueAccessor.registerOnTouched(n)),AF(s,i),s&&(i._invokeOnDestroyCallbacks(),s._registerOnCollectionChange(()=>{}))}function xF(s,i){s.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(i)})}function Oq(s,i){const e=p1e(s);null!==i.validator?s.setValidators(h1e(e,i.validator)):"function"==typeof e&&s.setValidators([e]);const n=f1e(s);null!==i.asyncValidator?s.setAsyncValidators(h1e(n,i.asyncValidator)):"function"==typeof n&&s.setAsyncValidators([n]);const o=()=>s.updateValueAndValidity();xF(i._rawValidators,o),xF(i._rawAsyncValidators,o)}function AF(s,i){let e=!1;if(null!==s){if(null!==i.validator){const o=p1e(s);if(Array.isArray(o)&&o.length>0){const r=o.filter(a=>a!==i.validator);r.length!==o.length&&(e=!0,s.setValidators(r))}}if(null!==i.asyncValidator){const o=f1e(s);if(Array.isArray(o)&&o.length>0){const r=o.filter(a=>a!==i.asyncValidator);r.length!==o.length&&(e=!0,s.setAsyncValidators(r))}}}const n=()=>{};return xF(i._rawValidators,n),xF(i._rawAsyncValidators,n),e}function E1e(s,i){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function y1e(s,i){Oq(s,i)}function Mq(s,i){if(!s.hasOwnProperty("model"))return!1;const e=s.model;return!!e.isFirstChange()||!Object.is(i,e.currentValue)}function k1e(s,i){s._syncPendingControls(),i.forEach(e=>{const n=e.control;"submit"===n.updateOn&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Iq(s,i){if(!i)return null;let e,n,o;return Array.isArray(i),i.forEach(r=>{r.constructor===jo?e=r:function sXe(s){return Object.getPrototypeOf(s.constructor)===c0}(r)?n=r:o=r}),o||n||e||null}const rXe={provide:Kl,useExisting:(0,t.Rfq)(()=>Mi)},rx=Promise.resolve();let Mi=(()=>{class s extends Kl{constructor(e,n,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new t.bkB,this.form=new Zh({},Sq(e),Cq(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){rx.then(()=>{const n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),ox(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){rx.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){rx.then(()=>{const n=this._findContainer(e.path),o=new Zh({});y1e(o,e),n.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){rx.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){rx.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,k1e(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Ho,10),t.rXU(Dv,10),t.rXU(d0,8))};static#t=this.\u0275dir=t.FsC({type:s,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,o){1&n&&t.bIt("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[t.Mj6.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[t.Jv_([rXe]),t.Vt3]})}return s})();function w1e(s,i){const e=s.indexOf(i);e>-1&&s.splice(e,1)}function D1e(s){return"object"==typeof s&&null!==s&&2===Object.keys(s).length&&"value"in s&&"disabled"in s}const fl=class extends Dq{constructor(i=null,e,n){super(kq(e),wq(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),TF(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=D1e(i)?i.value:i)}setValue(i,e={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(i,e={}){this.setValue(i,e)}reset(i=this.defaultValue,e={}){this._applyFormState(i),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){w1e(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){w1e(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){D1e(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}},aXe=fl,dXe={provide:Ri,useExisting:(0,t.Rfq)(()=>mi)},M1e=Promise.resolve();let mi=(()=>{class s extends Ri{constructor(e,n,o,r,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new fl,this._registered=!1,this.name="",this.update=new t.bkB,this._parent=e,this._setValidators(n),this._setAsyncValidators(o),this.valueAccessor=Iq(0,r)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Mq(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ox(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){M1e.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const n=e.isDisabled.currentValue,o=0!==n&&(0,t.L39)(n);M1e.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?MF(e,this._parent):[e]}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Kl,9),t.rXU(Ho,10),t.rXU(Dv,10),t.rXU(Yn,10),t.rXU(t.gRc,8),t.rXU(d0,8))};static#t=this.\u0275dir=t.FsC({type:s,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[t.Mj6.None,"disabled","isDisabled"],model:[t.Mj6.None,"ngModel","model"],options:[t.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[t.Jv_([dXe]),t.Vt3,t.OA$]})}return s})(),Fi=(()=>{class s{static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275dir=t.FsC({type:s,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return s})();const hXe={provide:Yn,useExisting:(0,t.Rfq)(()=>xq),multi:!0};let pXe=(()=>{class s{constructor(){this._accessors=[]}add(e,n){this._accessors.push([e,n])}remove(e){for(let n=this._accessors.length-1;n>=0;--n)if(this._accessors[n][1]===e)return void this._accessors.splice(n,1)}select(e){this._accessors.forEach(n=>{this._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)})}_isSameGroup(e,n){return!!e[0].control&&e[0]._parent===n._control._parent&&e[1].name===n.name}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),xq=(()=>{class s extends c0{constructor(e,n,o,r){super(e,n),this._registry=o,this._injector=r,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,t.WQX)(d0,{optional:!0})??sx}ngOnInit(){this._control=this._injector.get(Ri),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(pXe),t.rXU(t.zZn))};static#t=this.\u0275dir=t.FsC({type:s,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(n,o){1&n&&t.bIt("change",function(){return o.onChange()})("blur",function(){return o.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[t.Jv_([hXe]),t.Vt3]})}return s})();const Aq=new t.nKC(""),mXe={provide:Ri,useExisting:(0,t.Rfq)(()=>u0)};let u0=(()=>{class s extends Ri{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,n,o,r,a){super(),this._ngModelWarningConfig=r,this.callSetDisabledState=a,this.update=new t.bkB,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=Iq(0,o)}ngOnChanges(e){if(this._isControlChanged(e)){const n=e.form.previousValue;n&&IF(n,this,!1),ox(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Mq(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&IF(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static#t=this.\u0275fac=function(n){return new(n||s)(t.rXU(Ho,10),t.rXU(Dv,10),t.rXU(Yn,10),t.rXU(Aq,8),t.rXU(d0,8))};static#n=this.\u0275dir=t.FsC({type:s,selectors:[["","formControl",""]],inputs:{form:[t.Mj6.None,"formControl","form"],isDisabled:[t.Mj6.None,"disabled","isDisabled"],model:[t.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[t.Jv_([mXe]),t.Vt3,t.OA$]})}return s})();const _Xe={provide:Kl,useExisting:(0,t.Rfq)(()=>ax)};let ax=(()=>{class s extends Kl{constructor(e,n,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new t.bkB,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(AF(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const n=this.form.get(e.path);return ox(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){IF(e.control||null,e,!1),function oXe(s,i){const e=s.indexOf(i);e>-1&&s.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this.submitted=!0,k1e(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const n=e.control,o=this.form.get(e.path);n!==o&&(IF(n||null,e),(s=>s instanceof fl)(o)&&(ox(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const n=this.form.get(e.path);y1e(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const n=this.form.get(e.path);n&&function nXe(s,i){return AF(s,i)}(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Oq(this.form,this),this._oldForm&&AF(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Ho,10),t.rXU(Dv,10),t.rXU(d0,8))};static#t=this.\u0275dir=t.FsC({type:s,selectors:[["","formGroup",""]],hostBindings:function(n,o){1&n&&t.bIt("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[t.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[t.Jv_([_Xe]),t.Vt3,t.OA$]})}return s})();const SXe={provide:Ri,useExisting:(0,t.Rfq)(()=>RF)};let RF=(()=>{class s extends Ri{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,n,o,r,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new t.bkB,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(n),this._setAsyncValidators(o),this.valueAccessor=Iq(0,r)}ngOnChanges(e){this._added||this._setUpControl(),Mq(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return MF(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(n){return new(n||s)(t.rXU(Kl,13),t.rXU(Ho,10),t.rXU(Dv,10),t.rXU(Yn,10),t.rXU(Aq,8))};static#n=this.\u0275dir=t.FsC({type:s,selectors:[["","formControlName",""]],inputs:{name:[t.Mj6.None,"formControlName","name"],isDisabled:[t.Mj6.None,"disabled","isDisabled"],model:[t.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[t.Jv_([SXe]),t.Vt3,t.OA$]})}return s})();let h0=(()=>{class s{constructor(){this._validator=kF}ngOnChanges(e){if(this.inputName in e){const n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):kF,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275dir=t.FsC({type:s,features:[t.OA$]})}return s})();const TXe={provide:Ho,useExisting:(0,t.Rfq)(()=>ts),multi:!0};let ts=(()=>{class s extends h0{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t.L39,this.createValidator=e=>Zge}enabled(e){return e}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(s)))(o||s)}})();static#t=this.\u0275dir=t.FsC({type:s,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,o){2&n&&t.BMQ("required",o._enabled?"":null)},inputs:{required:"required"},features:[t.Jv_([TXe]),t.Vt3]})}return s})();const AXe={provide:Ho,useExisting:(0,t.Rfq)(()=>Vu),multi:!0};let Vu=(()=>{class s extends h0{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function L1e(s){return"number"==typeof s?s:parseInt(s,10)}(e),this.createValidator=e=>i1e(e)}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(s)))(o||s)}})();static#t=this.\u0275dir=t.FsC({type:s,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&t.BMQ("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[t.Jv_([AXe]),t.Vt3]})}return s})(),j1e=(()=>{class s{static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275mod=t.$C({type:s});static#n=this.\u0275inj=t.G2t({})}return s})(),Ov=(()=>{class s{static withConfig(e){return{ngModule:s,providers:[{provide:d0,useValue:e.callSetDisabledState??sx}]}}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275mod=t.$C({type:s});static#n=this.\u0275inj=t.G2t({imports:[j1e]})}return s})(),Tv=(()=>{class s{static withConfig(e){return{ngModule:s,providers:[{provide:Aq,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:d0,useValue:e.callSetDisabledState??sx}]}}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275mod=t.$C({type:s});static#n=this.\u0275inj=t.G2t({imports:[j1e]})}return s})();const Pq=s=>s&&s.ownerDocument||window.document,Fq=s=>{const i_browser=(()=>{const s=window&&window.navigator.userAgent;if(!s)return!1;let i=!1,e=[],n={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var o in n)if(n.hasOwnProperty(o)&&(e=s.match(n[o]),e)){i={},i[o]=!0,i[e[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,i.version=parseInt(document.DOCUMENT_NODE||e[2],10);break}return i})(),e=Pq(s);return i_browser.edge||i_browser.safari?e.body:e.documentElement},UXe=s=>{if(s&&s.className&&"string"==typeof s.className&&s.className.indexOf("k-auto-scrollable")>-1)return!0;let i=window.getComputedStyle(s,"overflow").overflow;return i.indexOf("auto")>-1||i.indexOf("scroll")>-1},p0=s=>{const i=Fq(s);if(!s||s===document.body||s===document.documentElement)return i;let e=s;for(;e&&e!==document.body&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&e.nodeType!==Node.DOCUMENT_NODE&&!UXe(e);)e=e.parentNode;return!e||e!==document.body&&e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE?e:i};var no=function(s){return s.POINTER_DOWN="pointerdown",s.POINTER_MOVE="pointermove",s.POINTER_UP="pointerup",s.POINTER_CANCEL="pointercancel",s.MOUSE_DOWN="mousedown",s.MOUSE_MOVE="mousemove",s.MOUSE_UP="mouseup",s.CONTEXT_MENU="contextmenu",s.TOUCH_START="touchstart",s.TOUCH_MOVE="touchmove",s.TOUCH_END="touchend",s.TOUCH_CANCEL="touchcancel",s.SCROLL="scroll",s.START="KENDO_DRAG_AND_DROP_START",s.MOVE="KENDO_DRAG_AND_DROP_MOVE",s.END="KENDO_DRAG_AND_DROP_END",s.CANCEL="KENDO_DRAG_AND_DROP_CANCEL",s}(no||{});const Mv=()=>{},XXe=(s,i,e={})=>{const{onIsPressedChange:n=Mv,onIsScrollingChange:o=Mv,onVelocityChange:r=Mv,onOffsetChange:a=Mv,onPageOffsetChange:l=Mv,onClientOffsetChange:c=Mv,onScrollOffsetChange:u=Mv,onInitialScrollOffsetChange:f=Mv}=e,_=i.payload,g=_.element,S=_.hint,b=s.autoScrollDirection,k=s.scrollableParent,D=((s,i)=>(s=>/^touch/.test(s.type))(s)?{pageX:s.changedTouches[0].pageX,pageY:s.changedTouches[0].pageY,clientX:s.changedTouches[0].clientX,clientY:s.changedTouches[0].clientY,scrollX:i.scrollOffset.x,scrollY:i.scrollOffset.y,offsetX:i.offset.x,offsetY:i.offset.y,type:s.type,originalEvent:s,isTouch:!0,altKey:!1,ctrlKey:!1,shiftKey:!1,metaKey:!1}:(s=>/^(scroll)/.test(s.type))(s)?{pageX:i.pageOffset.x,pageY:i.pageOffset.y,clientX:i.clientOffset.x,clientY:i.clientOffset.y,scrollX:i.scrollOffset.x,scrollY:i.scrollOffset.y,offsetX:i.offset.x,offsetY:i.offset.y,type:s.type,originalEvent:s,altKey:!1,ctrlKey:!1,shiftKey:!1,metaKey:!1}:{pageX:s.pageX,pageY:s.pageY,clientX:s.clientX,clientY:s.clientY,offsetX:s.offsetX,offsetY:s.offsetY,scrollX:i.scrollOffset.x,scrollY:i.scrollOffset.y,type:s.type,ctrlKey:s.ctrlKey,shiftKey:s.shiftKey,altKey:s.altKey,metaKey:s.metaKey,originalEvent:s})(i.event,s);switch(D.type){case no.POINTER_DOWN:if(D.type===no.POINTER_DOWN&&(!D.originalEvent.isPrimary||0!==D.originalEvent.button))break;case no.MOUSE_DOWN:if(D.type===no.MOUSE_DOWN&&D.originalEvent.which&&D.originalEvent.which>1||s.ignoreMouse)break;case no.TOUCH_START:if(D.type===no.TOUCH_START&&1!==D.originalEvent.touches.length)break;case no.START:{const N=k||p0(i.payload.element);f(N instanceof Window?{x:N.scrollX,y:N.scrollY}:{x:N.scrollLeft,y:N.scrollTop}),c({x:D.clientX,y:D.clientY}),l({x:D.pageX,y:D.pageY}),a({x:D.offsetX,y:D.offsetY}),n(!0),_.onPress&&_.onPress(D);break}case no.SCROLL:if(D.type===no.SCROLL&&!s.pressed)break;const O=k||p0(g),I=O instanceof Window?{x:O.scrollX,y:O.scrollY}:{x:O.scrollLeft,y:O.scrollTop};D.scrollX=I.x-s.initialScrollOffset.x,D.scrollY=I.y-s.initialScrollOffset.y,u({x:D.scrollX,y:D.scrollY});case no.POINTER_MOVE:if(D.type===no.POINTER_MOVE&&!D.originalEvent.isPrimary)break;case no.MOUSE_MOVE:case no.TOUCH_MOVE:if(D.type===no.TOUCH_MOVE&&1!==D.originalEvent.touches.length)break;case no.MOVE:if(s.pressed){if(s.autoScroll&&"scroll"!==D.originalEvent.type&&g){const G=Pq(g),H=k||p0(G.elementFromPoint(D.clientX,D.clientY)),$=((s,i,e)=>{let n={x:0,y:0},o=50;return s-e.left<o?n.x=-(o-(s-e.left)):e.right-s<o&&(n.x=o-(e.right-s)),i-e.top<o?n.y=-(o-(i-e.top)):e.bottom-i<o&&(n.y=o-(e.bottom-i)),n})(D.clientX,D.clientY,((s,i)=>{let e=Fq(s);if(s===e)return{top:e.scrollTop,left:e.scrollLeft,bottom:e.scrollTop+i.innerHeight,right:e.scrollLeft+i.innerWidth};{const n=s.getBoundingClientRect();return{bottom:n.top+n.height,right:n.left+n.width,left:n.left,top:n.top}}})(H,(s=>{const i=Pq(s);return i&&i.defaultView||window})(g)));r({x:b&&!1===b.horizontal?0:$.x,y:b&&!1===b.vertical?0:$.y}),o(0!==$.y||0!==$.x)}!s.drag&&_.onDragStart&&_.onDragStart(D),_.onDrag&&_.onDrag(D);const N=((s,i)=>{let e=0,n=null;return i.forEach(o=>{if(o&&s){const r=((s,i)=>{const e=s.getBoundingClientRect(),n=i.getBoundingClientRect(),o=Math.max(n.top,e.top),r=Math.max(n.left,e.left),a=Math.min(n.left+n.width,e.left+e.width),l=Math.min(n.top+n.height,e.top+e.height);if(r<a&&o<l){const g=(a-r)*(l-o);return Number((g/(n.width*n.height+e.width*e.height-g)).toFixed(4))}return 0})(s,o);r>e&&(e=r,n=o)}}),n})(S||g,s.drops.map(G=>G&&G.element).filter(G=>G!==(S||g))),P=s.drops.find(G=>G.element===N);P&&N&&((s,i,e)=>{const n=e.getBoundingClientRect();return n.top<=i&&n.left<=s&&i<=n.bottom&&s<=n.right})(D.clientX,D.clientY,k||p0(N))&&N!==g?(s.drop&&s.drop.element)!==N?(s.drop&&s.drop.onDragLeave&&s.drop.onDragLeave(D),P.onDragEnter&&P.onDragEnter(D)):P.onDragOver&&P.onDragOver(D):s.drop&&s.drop.onDragLeave&&s.drop.onDragLeave(D)}c({x:D.clientX,y:D.clientY}),l({x:D.pageX,y:D.pageY});break;case no.POINTER_UP:if(D.type===no.POINTER_UP&&!D.originalEvent.isPrimary)break;case no.MOUSE_UP:case no.TOUCH_END:if(D.type===no.TOUCH_END&&1!==D.originalEvent.touches.length)break;case no.END:n(!1),o(!1),u({x:0,y:0}),_.onRelease&&_.onRelease(D),s.drop&&s.drop.onDrop&&s.drop.onDrop(D),s.drag&&_.onDragEnd&&_.onDragEnd(D);break;case no.POINTER_CANCEL:case no.CONTEXT_MENU:case no.TOUCH_CANCEL:case no.CANCEL:n(!1),o(!1),u({x:0,y:0}),_.onDragEnd&&_.onDragEnd(D),s.drop&&s.drop.onDragLeave&&s.drop.onDragLeave(D)}},YXe=(s,i,e)=>({$implicit:s,index:i,data:e});function KXe(s,i){1&s&&t.eu8(0)}const NF={name:"@progress/kendo-angular-utils",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925031,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};function JXe(s){return 9===s.nodeType}const cw=(s,i)=>({event:s,payload:i}),an=s=>null!=s;function X1e(s,i){if(s.closest)return s.closest(i);const e=Element.prototype.matches?(o,r)=>o.matches(r):(o,r)=>o.msMatchesSelector(r);let n=s;for(;n&&!JXe(n);){if(e(n,i))return n;n=n.parentNode}}const LF=(s,i,e)=>{Object.keys(e).forEach(o=>{s.setStyle(i,o,e[o])})},ZXe=["pointerdown","mousedown","touchstart"],eWe=["pointermove","mousemove","touchmove"],tWe=["pointerup","pointercancel","mouseup","contextmenu","touchend","touchcancel"];let GF=(()=>{class s{constructor(){this.dragTarget=null,this.dropTarget=null,this.dragTargets=[],this.dropTargets=[],this.pressed=!1,this.ignoreMouse=!1,this.autoScroll=!0,this.isScrolling=!1,this.scrollableParent=null,this.autoScrollDirection={horizontal:!0,vertical:!0},this.initialClientOffset={x:0,y:0},this.clientOffset={x:0,y:0},this.initialScrollOffset={x:0,y:0},this.scrollOffset={x:0,y:0},this.offset={x:0,y:0},this.pageOffset={x:0,y:0},this.velocity={x:0,y:0},this.dragIndex=null,this.dropIndex=null,this.callbacks={},this.scrollInterval=null,this.setCallbacks()}handleDragAndDrop(e){this.updateState(),XXe(this.state,e,this.callbacks)}setPressed(e){this.pressed=e}setScrolling(e){if(this.isScrolling=e,e){const n=p0(document.elementFromPoint(this.clientOffset.x,this.clientOffset.y));window.clearInterval(this.scrollInterval),this.scrollInterval=window.setInterval(()=>{((s,i)=>{if(!s)return;let e,n;s===Fq(s)?(e=document.body.scrollHeight>window.innerHeight,n=document.body.scrollWidth>window.innerWidth):(e=s.offsetHeight<=s.scrollHeight,n=s.offsetWidth<=s.scrollWidth);let r=s.scrollTop+i.y,l=s.scrollLeft+i.x,c=n&&l>0&&l<s.scrollWidth;e&&r>0&&r<s.scrollHeight?s.scrollTop+=i.y:e&&r<0&&(s.scrollTop=0),c?s.scrollLeft+=i.x:n&&l<0&&(s.scrollLeft=0)})(n,{x:this.velocity.x,y:this.velocity.y})},50)}else this.scrollInterval&&(window.clearInterval(this.scrollInterval),this.scrollInterval=null)}setVelocity(e){this.velocity=e}setOffset(e){this.offset=e}setClientOffset(e){this.clientOffset=e}setPageOffset(e){this.pageOffset=e}setInitialClientOffset(e){this.initialClientOffset=e}setScrollOffset(e){this.scrollOffset=e}setInitialScrollOffset(e){this.initialScrollOffset=e}get dragTargetPresent(){return an(this.dragTarget?.element)}get dropTargetPresent(){return an(this.dropTarget?.element)}updateState(){this.state={drag:this.dragTarget,drop:this.dropTarget,drags:this.dragTargets,drops:this.dropTargets,pressed:this.pressed,ignoreMouse:this.ignoreMouse,autoScroll:this.autoScroll,isScrolling:this.isScrolling,scrollableParent:this.scrollableParent,autoScrollDirection:this.autoScrollDirection,initialClientOffset:this.initialClientOffset,clientOffset:this.clientOffset,initialScrollOffset:this.initialScrollOffset,scrollOffset:this.scrollOffset,offset:this.offset,pageOffset:this.pageOffset,velocity:this.velocity}}setCallbacks(){this.callbacks={onVelocityChange:this.setVelocity.bind(this),onOffsetChange:this.setOffset.bind(this),onClientOffsetChange:this.setClientOffset.bind(this),onPageOffsetChange:this.setPageOffset.bind(this),onInitialClientOffsetChange:this.setInitialClientOffset.bind(this),onScrollOffsetChange:this.setScrollOffset.bind(this),onInitialScrollOffsetChange:this.setInitialScrollOffset.bind(this),onIsPressedChange:this.setPressed.bind(this),onIsScrollingChange:this.setScrolling.bind(this)}}ngOnDestroy(){this.scrollInterval&&(window.clearInterval(this.scrollInterval),this.scrollInterval=null)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),lx=(()=>{class s{constructor(e){this.element=e,this.pointerEvents="none"}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-draghint"]],hostVars:2,hostBindings:function(e,n){2&e&&t.xc7("pointer-events",n.pointerEvents)},inputs:{template:"template",directive:"directive",targetIndex:"targetIndex",contextData:"contextData"},decls:1,vars:6,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&t.DNE(0,KXe,1,0,"ng-container",0),2&e&&t.Y8G("ngTemplateOutlet",n.template)("ngTemplateOutletContext",t.sMw(2,YXe,n.directive,n.targetIndex,n.contextData))},dependencies:[Je],encapsulation:2}),s})();class W1e{constructor(i){Object.assign(this,i)}get normalizedEvent(){return this.dragEvent}get hostElement(){return this.dragTarget}}class Y1e{constructor(i){Object.assign(this,i)}}class K1e extends Wa{constructor(i){super(),Object.assign(this,i)}get normalizedEvent(){return this.dragEvent}get hostElement(){return this.dragTarget}}class J1e{constructor(i){Object.assign(this,i)}get normalizedEvent(){return this.dragEvent}get hostElement(){return this.dragTarget}}class q1e extends Wa{constructor(i){super(),Object.assign(this,i)}get normalizedEvent(){return this.dragEvent}get hostElement(){return this.dragTarget}}class Q1e{constructor(i){Object.assign(this,i)}get normalizedEvent(){return this.dragEvent}get hostElement(){return this.dragTarget}}class Z1e{constructor(i){Object.assign(this,i)}get normalizedEvent(){return this.dragEvent}get hostElement(){return this.dropTarget}}let FF=!1,Bq=!1,Vq=(()=>{class s{constructor(e,n,o,r,a,l){this.wrapper=e,this.ngZone=n,this.renderer=o,this.service=r,this.viewContainer=a,this.cdr=l,this.hint=!1,this.dragDelay=0,this.threshold=0,this.mode="auto",this.onDragReady=new t.bkB,this.onPress=new t.bkB,this.onDragStart=new t.bkB,this.onDrag=new t.bkB,this.onRelease=new t.bkB,this.onDragEnd=new t.bkB,this.currentDragTarget=null,this.dragTimeout=null,this.pressed=!1,this.dragStarted=!1,this.hintComponent=null,this.defaultHint=null,this.currentDragTargetElement=null,this.scrollableParent=null,this.previousDragTargets=[],this.initialPosition={x:0,y:0},this.position={x:0,y:0},this.positionsMap=new Map,this._dragTargetFilter=null,this._dragDisabled=!1,this._dragData=()=>null,this._dragTargetId=()=>null,(0,mt.$)(NF)}set dragTargetFilter(e){this._dragTargetFilter=e,this.dragDisabled||this.initializeDragTargets()}get dragTargetFilter(){return this._dragTargetFilter}set dragTargetId(e){if(t.naY&&"function"!=typeof e)throw new Error(`dragTargetId must be a function, but received ${JSON.stringify(e)}.`);this._dragTargetId=e}get dragTargetId(){return this._dragTargetId}set dragData(e){if(t.naY&&"function"!=typeof e)throw new Error(`dragData must be a function, but received ${JSON.stringify(e)}.`);this._dragData=e}get dragData(){return this._dragData}set dragDisabled(e){this._dragDisabled=e,e?(this.clearPreviousTargets(),this.unsubscribe(),an(this.hintElem)&&this.destroyHint()):((an(this.wrapper)||an(this.currentDragTarget))&&this.subscribe(),this.initializeDragTargets())}get dragDisabled(){return this._dragDisabled}notify(){this.cdr.detectChanges(),this.initializeDragTargets()}get allDragTargets(){return this.queryHost(this.dragTargetFilter)}get dragHandles(){return this.isHandleSelectorValid?this.queryHost(this.dragHandle):null}get hintTemplate(){return an(this.hint)&&"object"==typeof this.hint?this.hint.hintTemplate:null}ngAfterViewInit(){const e=an(this.wrapper)||an(this.currentDragTarget);!this.dragDisabled&&e&&this.subscribe(),!this.dragDisabled&&this.initializeDragTargets()}onPointerDown(e){if(an(this.dragHandles)&&!this.isDragHandle(e.target))return;const n=cw(e,this.currentDragTarget);this.service.handleDragAndDrop(n),this.subscribe()}onPointerMove(e){e.preventDefault();const n=cw(e,this.currentDragTarget);this.service.handleDragAndDrop(n)}onPointerUp(e){e.preventDefault();const n=cw(e,this.currentDragTarget);this.service.handleDragAndDrop(n),this.ngZone.runOutsideAngular(()=>{this.subscribe()})}handlePress(e){this.dragDelay>0?this.dragTimeout=window.setTimeout(()=>{this.pressed=!0,this.emitZoneAwareEvent("onDragReady",e)},this.dragDelay):this.pressed=!0,this.currentDragTargetElement=X1e(e.originalEvent.target,this.dragTargetFilter),this.currentDragTarget.element=this.currentDragTargetElement,this.service.dragIndex=this.getDragIndex(),this.scrollableParent=this.hintTemplate?document.body:this.currentDragTargetElement?p0(this.currentDragTargetElement):null,this.emitZoneAwareEvent("onPress",e)}handleDragStart(e){if(!this.pressed)return void(this.dragTimeout&&(window.clearTimeout(this.dragTimeout),this.dragTimeout=null));if(FF=this.emitZoneAwareEvent("onDragStart",e).isDefaultPrevented(),FF)return;this.position=this.positionsMap.has(this.currentDragTargetElement)?this.positionsMap.get(this.currentDragTargetElement):{x:0,y:0},this.hint?(this.createHint(),"auto"===this.mode&&this.renderer.setStyle(this.currentDragTargetElement,"opacity","0.7")):this.initialPosition={x:e.clientX-this.position.x,y:e.clientY-this.position.y},this.dragStarted=0===this.threshold,this.service.dragTarget=this.currentDragTarget;const n={dragTarget:this.currentDragTargetElement,dragTargetIndex:this.service.dragIndex};this.service.dragTargetId=this.dragTargetId(n);const o=Object.assign({dragTargetId:this.service.dragTargetId},n);this.service.dragData=this.dragData(o)}handleDrag(e){if(!this.pressed||FF)return;this.position=this.calculatePosition(this.hint?this.hintElem:this.currentDragTargetElement,e);const o=Math.abs(this.position.x)<this.threshold&&Math.abs(this.position.y)<this.threshold;!this.dragStarted&&o||(!this.dragStarted&&this.threshold>0&&(this.dragStarted=!0),Bq=this.emitZoneAwareEvent("onDrag",e).isDefaultPrevented(),!Bq&&("auto"===this.mode?this.performDrag():this.dragStarted=!0))}handleRelease(e){this.dragStarted&&this.positionsMap.set(this.currentDragTargetElement,this.position),this.dragTimeout&&(clearTimeout(this.dragTimeout),this.dragTimeout=null,this.pressed=!1),this.emitZoneAwareEvent("onRelease",e)}handleDragEnd(e){if(this.dragStarted){if("auto"===this.mode){const n=an(this.service.dropTarget)&&!aF(this.service.dropTarget?.element,this.service.dragTarget?.element,!0),o=this.hint?this.hintElem:this.currentDragTargetElement;(n||this.service.dropTargets.length>0&&an(o))&&(this.renderer.removeStyle(o,"transform"),LF(this.renderer,o,{transition:"transform .3s ease-in-out"}),this.positionsMap.delete(this.currentDragTargetElement))}this.hint&&an(this.hintElem)&&(this.destroyHint(),"auto"===this.mode&&this.renderer.removeStyle(this.currentDragTargetElement,"opacity")),this.service.dragTarget=null,this.service.dragIndex=null,this.currentDragTarget.element=null,this.emitZoneAwareEvent("onDragEnd",e),!FF&&!Bq&&(this.dragStarted=!1)}}get nativeElement(){return this.wrapper.nativeElement}get hintElem(){return this.hintTemplate&&an(this.hintComponent)?this.hintComponent.instance.element.nativeElement:this.defaultHint}unsubscribe(){this.pointerDownSubscription&&this.pointerDownSubscription.unsubscribe(),this.pointerMoveSubscription&&this.pointerMoveSubscription.unsubscribe(),this.pointerUpSubscription&&this.pointerUpSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe()}subscribe(){this.ngZone.runOutsideAngular(()=>{if(this.unsubscribe(),!ne()||!an(this.wrapper))return;const e=this.nativeElement;if(this.service.pressed){const n=eWe.map(r=>wt(document,r)),o=tWe.map(r=>wt(document,r));this.pointerMoveSubscription=Ht(...n).pipe(z(()=>""!==this.dragTargetFilter)).subscribe(r=>this.onPointerMove(r)),this.pointerUpSubscription=Ht(...o).subscribe(r=>this.onPointerUp(r)),an(this.scrollableParent)&&(this.scrollSubscription=wt(this.scrollableParent,"scroll").subscribe(r=>this.onPointerMove(r)))}else{const n=ZXe.map(o=>wt(e,o));this.pointerDownSubscription=Ht(...n).pipe(z(()=>""!==this.dragTargetFilter)).subscribe(o=>{X1e(o.target,this.isHandleSelectorValid?this.dragHandle:this.dragTargetFilter)&&this.onPointerDown(o)})}})}emitZoneAwareEvent(e,n){const r={dragTarget:this.currentDragTargetElement,dragEvent:n,dragTargetIndex:this.service.dragIndex,dragTargetId:this.dragTargetId({dragTarget:this.currentDragTargetElement,dragTargetIndex:this.service.dragIndex})};let a;switch(this.hint&&an(this.hintElem)&&(r.hintElement=this.hintElem),e){case"onDragReady":a=new Y1e(r);break;case"onPress":a=new W1e(r);break;case"onDragStart":a=new K1e(r);break;case"onDrag":a=new q1e(r);break;case"onRelease":a=new Q1e(r);break;case"onDragEnd":a=new J1e(r)}return this.ngZone.run(()=>{this[e].emit(a)}),a}createHint(){ne()&&an(this.wrapper)&&(an(this.hint)&&"object"==typeof this.hint&&an(this.hint.hintTemplate)?this.createCustomHint():this.createDefaultHint(),this.currentDragTarget.hint=this.hintElem,"object"==typeof this.hint&&an(this.hint.appendTo)?this.hint.appendTo.element.nativeElement.appendChild(this.hintElem):document.body.appendChild(this.hintElem))}createDefaultHint(){this.defaultHint=this.currentDragTargetElement.cloneNode(!0),"object"==typeof this.hint&&an(this.hint.hintClass)&&VJ(this.hint.hintClass).forEach(n=>this.renderer.addClass(this.defaultHint,n))}createCustomHint(){this.hintComponent=an(this.hint.appendTo)?this.hint.appendTo.createComponent(lx):this.viewContainer.createComponent(lx),this.hintComponent.instance.template=this.hintTemplate,this.hintComponent.instance.directive=this,this.hintComponent.instance.targetIndex=this.service.dragIndex,this.hintComponent.instance.contextData=this.dragData({dragTarget:this.currentDragTargetElement,dragTargetId:this.service.dragTargetId,dragTargetIndex:this.service.dragIndex}),this.hintComponent.changeDetectorRef.detectChanges()}destroyHint(){an(this.hintTemplate)?(this.hintComponent.destroy(),this.hintComponent.changeDetectorRef.detectChanges(),this.hintComponent=null):(document.body.removeChild(this.defaultHint),this.defaultHint=null),this.currentDragTarget.hint=null}getDragIndex(){return this.allDragTargets.indexOf(this.currentDragTargetElement)}initializeDragTargets(){an(this.allDragTargets)?(this.allDragTargets.forEach(e=>{this.service.dragTargets.find(o=>o.element===e)||this.service.dragTargets.push({element:e,hint:null,onPress:this.handlePress.bind(this),onRelease:this.handleRelease.bind(this),onDragStart:this.handleDragStart.bind(this),onDrag:this.handleDrag.bind(this),onDragEnd:this.handleDragEnd.bind(this)})}),this.previousDragTargets.length>0&&this.previousDragTargets.filter(n=>!this.allDragTargets.includes(n)).forEach(n=>{const o=this.service.dragTargets.findIndex(r=>r.element===n);o>-1&&this.service.dragTargets.splice(o,1)}),this.previousDragTargets=this.allDragTargets,this.currentDragTarget={element:null,hint:null,onPress:this.handlePress.bind(this),onRelease:this.handleRelease.bind(this),onDragStart:this.handleDragStart.bind(this),onDrag:this.handleDrag.bind(this),onDragEnd:this.handleDragEnd.bind(this)},this.setCursorStyle()):this.previousDragTargets.length>0&&this.clearPreviousTargets()}isDragHandle(e){return this.dragHandles.some(n=>aF(n,e,!0))}get isHandleSelectorValid(){return an(this.dragHandle)&&""!==this.dragHandle}setCursorStyle(){ne()&&(an(this.dragHandle)&&""!==this.dragHandle?an(this.dragHandles)&&this.dragHandles.length>0&&this.dragHandles.forEach(e=>{this.renderer.setStyle(e,"cursor","move")}):this.allDragTargets.forEach(e=>{this.renderer.setStyle(e,"cursor","move")}))}queryHost(e){if(an(e)&&""!==e)return Array.from(this.nativeElement.querySelectorAll(e))}clearPreviousTargets(){this.previousDragTargets.forEach(e=>{const n=this.service.dragTargets.findIndex(o=>o.element===e);n>-1&&this.service.dragTargets.splice(n,1)}),this.previousDragTargets=[]}performDrag(){const e=this.hint?this.hintElem:this.currentDragTargetElement;if(e){const n=this.getStylesPerElement(e);LF(this.renderer,e,n)}}calculatePosition(e,n){let o=null;return o=e===this.hintElem?{x:n.clientX,y:n.clientY}:{x:n.clientX-this.initialPosition.x+n.scrollX,y:n.clientY-this.initialPosition.y+n.scrollY},o}getStylesPerElement(e){if(e===this.hintElem){const n={x:this.position.x-this.initialPosition.x,y:this.position.y-this.initialPosition.y};return{top:`${n.y}px`,left:`${n.x}px`,transition:"none",position:"absolute",zIndex:1999}}return{transform:`translate(${this.position.x}px, ${this.position.y}px)`,transition:"none"}}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(GF),t.rXU(t.c1b),t.rXU(t.gRc))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoDragTargetContainer",""]],inputs:{hint:"hint",dragTargetFilter:"dragTargetFilter",dragHandle:"dragHandle",dragDelay:"dragDelay",threshold:"threshold",dragTargetId:"dragTargetId",dragData:"dragData",dragDisabled:"dragDisabled",mode:"mode"},outputs:{onDragReady:"onDragReady",onPress:"onPress",onDragStart:"onDragStart",onDrag:"onDrag",onRelease:"onRelease",onDragEnd:"onDragEnd"},exportAs:["kendoDragTargetContainer"]}),s})(),zq=(()=>{class s{constructor(e,n,o,r){this.service=e,this.element=n,this.ngZone=o,this.cdr=r,this.onDragEnter=new t.bkB,this.onDragOver=new t.bkB,this.onDragLeave=new t.bkB,this.onDrop=new t.bkB,this.currentDropTargetElement=null,this.previousDropTargets=[],this._dropTargetFilter=null,this._dropDisabled=!1,(0,mt.$)(NF)}set dropTargetFilter(e){this._dropTargetFilter=e,this.dropDisabled||this.initializeDropTargets()}get dropTargetFilter(){return this._dropTargetFilter}set dropDisabled(e){this._dropDisabled=e,e?this.clearPreviousTargets():this.initializeDropTargets()}get dropDisabled(){return this._dropDisabled}notify(){this.cdr.detectChanges(),this.initializeDropTargets()}get nativeElement(){return this.element.nativeElement}ngAfterViewInit(){!this.dropDisabled&&this.initializeDropTargets()}get allDropTargets(){if(an(this.dropTargetFilter)&&""!==this.dropTargetFilter)return Array.from(this.nativeElement.querySelectorAll(this.dropTargetFilter))}handleDragEnter(e){if(!this.service.dragTargetPresent||this.service.dropTargetPresent)return;const o=((s,i)=>{let e=0,n=null;return this.allDropTargets.forEach(o=>{if(o&&s){const r=((s,i)=>{const e=s.getBoundingClientRect(),n=i.getBoundingClientRect(),o=Math.max(n.top,e.top),r=Math.max(n.left,e.left),a=Math.min(n.left+n.width,e.left+e.width),l=Math.min(n.top+n.height,e.top+e.height);if(r<a&&o<l){const g=(a-r)*(l-o);return Number((g/(n.width*n.height+e.width*e.height-g)).toFixed(4))}return 0})(s,o);r>e&&(e=r,n=o)}}),n})(e.originalEvent.target),r=this.service.dropTargets.find(a=>a.element===o);!an(o)||!an(r)||(this.currentDropTargetElement=o,this.service.dropTarget=r,this.service.dropIndex=this.getDropIndex(),this.emitZoneAwareEvent("onDragEnter",e))}handleDragLeave(e){!this.service.dragTargetPresent||!this.service.dropTargetPresent||(this.emitZoneAwareEvent("onDragLeave",e),this.currentDropTargetElement=null,this.service.dropTarget=null,this.service.dropIndex=null)}handleDragOver(e){!this.service.dragTargetPresent||!this.service.dropTargetPresent||this.emitZoneAwareEvent("onDragOver",e)}handleDrop(e){!this.service.dragTargetPresent||!this.service.dropTargetPresent||(this.emitZoneAwareEvent("onDrop",e),this.currentDropTargetElement=null,this.service.dropTarget=null,this.service.dropIndex=null)}initializeDropTargets(){an(this.allDropTargets)?(this.allDropTargets.forEach(e=>{this.service.dropTargets.find(o=>o.element===e)||this.service.dropTargets.push({element:e,onDragEnter:this.handleDragEnter.bind(this),onDragLeave:this.handleDragLeave.bind(this),onDragOver:this.handleDragOver.bind(this),onDrop:this.handleDrop.bind(this)})}),this.previousDropTargets.length>0&&this.previousDropTargets.filter(n=>!this.allDropTargets.includes(n)).forEach(n=>{const o=this.service.dropTargets.findIndex(r=>r.element===n);o>-1&&this.service.dropTargets.splice(o,1)}),this.previousDropTargets=this.allDropTargets):this.previousDropTargets.length>0&&this.clearPreviousTargets()}emitZoneAwareEvent(e,n){const o={dragTarget:this.service.dragTarget?.element,dropTarget:this.currentDropTargetElement,dragData:this.service.dragData,dragEvent:n,dropTargetIndex:this.service.dropIndex};an(this.service.dragTarget?.hint)&&(o.hintElement=this.service.dragTarget.hint);const r=new Z1e(o);this.ngZone.run(()=>{this[e].emit(r)})}getDropIndex(){return this.allDropTargets.indexOf(this.currentDropTargetElement)}clearPreviousTargets(){this.previousDropTargets.forEach(e=>{const n=this.service.dropTargets.findIndex(o=>o.element===e);n>-1&&this.service.dropTargets.splice(n,1)}),this.previousDropTargets=[]}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(GF),t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(t.gRc))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoDropTargetContainer",""]],inputs:{dropTargetFilter:"dropTargetFilter",dropDisabled:"dropDisabled"},outputs:{onDragEnter:"onDragEnter",onDragOver:"onDragOver",onDragLeave:"onDragLeave",onDrop:"onDrop"},exportAs:["kendoDropTargetContainer"]}),s})(),sWe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe]]}),s})();function oWe(s,i){return(e,n)=>!s.call(i,e,n)}function eve(s){return(0,$i.N)((i,e)=>{let n=!1,o=0;i.subscribe((0,Xi._)(e,r=>(n||(n=!s(r,o++)))&&e.next(r)))})}class tve extends Xe.B{constructor(i=1/0,e=1/0,n=GJ){super(),this._bufferSize=i,this._windowTime=e,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,e)}next(i){const{isStopped:e,_buffer:n,_infiniteTimeWindow:o,_timestampProvider:r,_windowTime:a}=this;e||(n.push(i),!o&&n.push(r.now()+a)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(i),{_infiniteTimeWindow:n,_buffer:o}=this,r=o.slice();for(let a=0;a<r.length&&!i.closed;a+=n?1:2)i.next(r[a]);return this._checkFinalizedStatuses(i),e}_trimBuffer(){const{_bufferSize:i,_timestampProvider:e,_buffer:n,_infiniteTimeWindow:o}=this,r=(o?1:2)*i;if(i<1/0&&r<n.length&&n.splice(0,n.length-r),!o){const a=e.now();let l=0;for(let c=1;c<n.length&&n[c]<=a;c+=2)l=c;l&&n.splice(0,l+1)}}}const aWe=["kendoBreadCrumbItem",""],lWe=[[["","kendoBreadCrumbSeparator",""]]],cWe=["[kendoBreadCrumbSeparator]"],dWe=(s,i,e,n,o)=>({"k-breadcrumb-root-link":s,"k-breadcrumb-link":i,"k-breadcrumb-icontext-link":e,"k-breadcrumb-icon-link":n,"k-disabled":o}),uWe=(s,i)=>({$implicit:s,index:i});function hWe(s,i){1&s&&t.SdG(0)}function pWe(s,i){1&s&&t.eu8(0)}function fWe(s,i){if(1&s&&(t.qex(0),t.DNE(1,pWe,1,0,"ng-container",2),t.bVm()),2&s){t.XpG();const e=t.sdS(1);t.R7$(),t.Y8G("ngTemplateOutlet",e)}}function mWe(s,i){if(1&s){const e=t.RV6();t.j41(0,"img",8),t.bIt("load",function(){t.eBV(e);const o=t.XpG(3);return t.Njj(o.onImageLoad())}),t.k0s()}if(2&s){const e=t.XpG(3);t.Y8G("src",e.item.data.imageUrl,t.B4B)}}function _We(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",9),2&s){const e=t.XpG(3);t.Y8G("name",e.item.data.icon)("customFontClass",e.item.data.iconClass)("svgIcon",e.item.data.svgIcon)}}function gWe(s,i){if(1&s&&(t.j41(0,"span",4),t.DNE(1,mWe,1,1,"img",5)(2,_We,1,3,"kendo-icon-wrapper",6),t.j41(3,"span",7),t.EFF(4),t.k0s()()),2&s){const e=t.XpG(2);t.Y8G("ngClass",t.s1E(8,dWe,e.item.context.isFirst,0!==e.index,!!e.item.data.icon&&!!e.item.data.text,!!e.item.data.icon&&!e.item.data.text,e.disabled))("title",e.item.data.title||"")("tabindex",e.disabled?-1:0),t.BMQ("aria-disabled",e.disabled)("aria-current",e.item.context.isLast?"page":null),t.R7$(),t.Y8G("ngIf",e.item.data.imageUrl),t.R7$(),t.Y8G("ngIf",e.item.data.icon||e.item.data.iconClass||e.item.data.svgIcon),t.R7$(2),t.JRh(e.item.data.text)}}function vWe(s,i){}function SWe(s,i){if(1&s&&t.DNE(0,vWe,0,0,"ng-template",10),2&s){const e=t.XpG(2);t.Y8G("ngTemplateOutlet",e.itemTemplate)("ngTemplateOutletContext",t.l_i(2,uWe,e.item.data,e.index))}}function CWe(s,i){if(1&s&&(t.qex(0),t.DNE(1,gWe,5,14,"span",3)(2,SWe,1,5,null,1),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngIf",!e.itemTemplate),t.R7$(),t.Y8G("ngIf",e.itemTemplate)}}function bWe(s,i){1&s&&t.eu8(0)}function EWe(s,i){if(1&s&&(t.qex(0),t.DNE(1,bWe,1,0,"ng-container",2),t.bVm()),2&s){t.XpG();const e=t.sdS(1);t.R7$(),t.Y8G("ngTemplateOutlet",e)}}const yWe=["kendoBreadCrumbSeparator",""],kWe=["kendoBreadCrumbList",""];function wWe(s,i){if(1&s&&t.nrm(0,"span",5),2&s){const e=t.XpG(3);t.Y8G("icon",e.separatorIcon)("svgIcon",e.separatorSVGIcon)}}function DWe(s,i){if(1&s&&t.nrm(0,"span",5),2&s){const e=t.XpG(3);t.Y8G("icon",e.separatorIcon)("svgIcon",e.separatorSVGIcon)}}function OWe(s,i){if(1&s&&(t.j41(0,"li",3,0),t.DNE(2,wWe,1,2,"span",4)(3,DWe,1,2,"span",4),t.k0s()),2&s){const e=t.XpG(),n=e.$implicit,o=e.index,r=e.first,a=e.last,l=t.XpG();t.Y8G("item",n)("index",o)("collapseMode",l.collapseMode)("itemTemplate",l.itemTemplate),t.BMQ("data-kendo-breadcrumb-index",o),t.R7$(2),t.Y8G("ngIf","wrap"===l.collapseMode&&!r),t.R7$(),t.Y8G("ngIf",!("wrap"===l.collapseMode||a||null!=n&&n.context.collapsed&&null!=l.items[o+1]&&l.items[o+1].context.collapsed))}}function TWe(s,i){if(1&s&&(t.qex(0),t.DNE(1,OWe,4,7,"li",2),t.bVm()),2&s){const e=i.first,n=t.XpG();t.R7$(),t.Y8G("ngIf",!("wrap"===n.collapseMode&&e)||n.isRootItemContainer)}}const MWe=["resizeSensor"],IWe=["itemsContainer"],xWe=(s,i)=>({"!k-flex-wrap":s,"k-flex-none":i});function AWe(s,i){if(1&s){const e=t.RV6();t.j41(0,"ol",5,0),t.nI1(2,"async"),t.bIt("itemClick",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.itemClick.emit(o))}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("items",t.bMT(2,5,e.firstItem$))("itemTemplate",null==e.itemTemplate?null:e.itemTemplate.templateRef)("collapseMode",e.collapseMode)("separatorIcon",e.separatorIcon)("separatorSVGIcon",e.separatorSVGIcon)}}const ive=s=>({$implicit:s}),VWe=["kendoActionSheetItem",""];function zWe(s,i){}function jWe(s,i){if(1&s&&t.DNE(0,zWe,0,0,"ng-template",2),2&s){const e=t.XpG();t.Y8G("ngTemplateOutlet",e.itemTemplate)("ngTemplateOutletContext",t.eq3(2,ive,e.item))}}function HWe(s,i){if(1&s&&(t.j41(0,"span",6),t.nrm(1,"kendo-icon-wrapper",7),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.Aen(e.manageIconStyles(e.item)),t.HbH(e.manageIconClasses(e.item)),t.Y8G("name",e.item.icon)("customFontClass",e.item.iconClass)("svgIcon",e.item.svgIcon)}}function $We(s,i){if(1&s&&(t.j41(0,"span",11),t.EFF(1),t.k0s()),2&s){const e=t.XpG(3);t.R7$(),t.JRh(e.item.title)}}function XWe(s,i){if(1&s&&(t.j41(0,"span",12),t.EFF(1),t.k0s()),2&s){const e=t.XpG(3);t.R7$(),t.JRh(e.item.description)}}function WWe(s,i){if(1&s&&(t.j41(0,"span",8),t.DNE(1,$We,2,1,"span",9)(2,XWe,2,1,"span",10),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",e.item.title),t.R7$(),t.Y8G("ngIf",e.item.description)}}function YWe(s,i){if(1&s&&(t.j41(0,"span",3),t.DNE(1,HWe,2,7,"span",4)(2,WWe,3,2,"span",5),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.item.icon||e.item.iconClass||e.item.svgIcon),t.R7$(),t.Y8G("ngIf",e.item.title||e.item.description)}}const KWe=["kendoActionSheetList",""];function JWe(s,i){if(1&s&&t.nrm(0,"span",1),2&s){const e=i.$implicit,n=t.XpG();t.AVh("k-actionsheet-item",!0)("k-disabled",e.disabled),t.Y8G("ngClass",e.cssClass)("ngStyle",e.cssStyle)("itemTemplate",n.itemTemplate)("item",e),t.BMQ("aria-disabled",e.disabled)("kendo-actionsheet-item-index",n.setAttrIndex(e))}}const qWe=["childContainer"];function QWe(s,i){}function ZWe(s,i){if(1&s&&t.DNE(0,QWe,0,0,"ng-template",10),2&s){const e=t.XpG(2);t.Y8G("ngTemplateOutlet",null==e.actionSheetTemplate?null:e.actionSheetTemplate.templateRef)}}function eYe(s,i){}function tYe(s,i){if(1&s&&t.DNE(0,eYe,0,0,"ng-template",10),2&s){const e=t.XpG(4);t.Y8G("ngTemplateOutlet",null==e.headerTemplate?null:e.headerTemplate.templateRef)}}function nYe(s,i){if(1&s&&(t.j41(0,"div",19),t.EFF(1),t.k0s()),2&s){const e=t.XpG(5);t.R7$(),t.JRh(e.title)}}function iYe(s,i){if(1&s&&(t.j41(0,"div",20),t.EFF(1),t.k0s()),2&s){const e=t.XpG(5);t.R7$(),t.JRh(e.subtitle)}}function sYe(s,i){if(1&s&&(t.j41(0,"div",15)(1,"div",16),t.DNE(2,nYe,2,1,"div",17)(3,iYe,2,1,"div",18),t.k0s()()),2&s){const e=t.XpG(4);t.R7$(),t.Y8G("id",e.titleId),t.R7$(),t.Y8G("ngIf",e.title),t.R7$(),t.Y8G("ngIf",e.subtitle)}}function oYe(s,i){if(1&s&&(t.j41(0,"div",14),t.DNE(1,tYe,1,1,null,9)(2,sYe,4,3,"ng-template",null,2,t.C5r),t.k0s()),2&s){const e=t.sdS(3),n=t.XpG(3);t.R7$(),t.Y8G("ngIf",n.headerTemplate)("ngIfElse",e)}}function rYe(s,i){}function aYe(s,i){if(1&s&&t.DNE(0,rYe,0,0,"ng-template",10),2&s){const e=t.XpG(4);t.Y8G("ngTemplateOutlet",null==e.contentTemplate?null:e.contentTemplate.templateRef)}}function lYe(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",24),t.bIt("itemClick",function(o){t.eBV(e);const r=t.XpG(5);return t.Njj(r.onItemClick(o))}),t.k0s()}if(2&s){const e=t.XpG(5);t.Y8G("groupItems",e.topGroupItems)("allItems",e.items)("itemTemplate",null==e.itemTemplate?null:e.itemTemplate.templateRef)}}function cYe(s,i){1&s&&t.nrm(0,"hr",25)}function dYe(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",24),t.bIt("itemClick",function(o){t.eBV(e);const r=t.XpG(5);return t.Njj(r.onItemClick(o))}),t.k0s()}if(2&s){const e=t.XpG(5);t.Y8G("groupItems",e.bottomGroupItems)("allItems",e.items)("itemTemplate",null==e.itemTemplate?null:e.itemTemplate.templateRef)}}function uYe(s,i){if(1&s&&t.DNE(0,lYe,1,3,"div",22)(1,cYe,1,0,"hr",23)(2,dYe,1,3,"div",22),2&s){const e=t.XpG(4);t.Y8G("ngIf",e.topGroupItems),t.R7$(),t.Y8G("ngIf",e.shouldRenderSeparator),t.R7$(),t.Y8G("ngIf",e.bottomGroupItems)}}function hYe(s,i){if(1&s&&(t.j41(0,"div",21),t.DNE(1,aYe,1,1,null,9)(2,uYe,3,3,"ng-template",null,3,t.C5r),t.k0s()),2&s){const e=t.sdS(3),n=t.XpG(3);t.R7$(),t.Y8G("ngIf",n.contentTemplate)("ngIfElse",e)}}function pYe(s,i){}function fYe(s,i){if(1&s&&(t.j41(0,"div",26),t.DNE(1,pYe,0,0,"ng-template",10),t.k0s()),2&s){const e=t.XpG(3);t.R7$(),t.Y8G("ngTemplateOutlet",null==e.footerTemplate?null:e.footerTemplate.templateRef)}}function mYe(s,i){if(1&s&&t.DNE(0,oYe,4,2,"div",11)(1,hYe,4,2,"div",12)(2,fYe,2,1,"div",13),2&s){const e=t.XpG(2);t.Y8G("ngIf",e.title||e.subtitle||e.headerTemplate),t.R7$(),t.Y8G("ngIf",e.items||e.contentTemplate),t.R7$(),t.Y8G("ngIf",e.footerTemplate)}}function _Ye(s,i){if(1&s){const e=t.RV6();t.qex(0),t.j41(1,"div",5),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onOverlayClick())}),t.k0s(),t.j41(2,"div",6)(3,"div",7,0)(5,"div",8),t.DNE(6,ZWe,1,1,null,9)(7,mYe,3,3,"ng-template",null,1,t.C5r),t.k0s()()(),t.bVm()}if(2&s){const e=t.sdS(8),n=t.XpG();t.R7$(3),t.Aen("bottom: 0px; width: 100%;"),t.R7$(2),t.Y8G("ngClass",n.cssClass),t.BMQ("aria-labelledby",n.titleId),t.R7$(),t.Y8G("ngIf",n.actionSheetTemplate)("ngIfElse",e)}}const UF={name:"@progress/kendo-angular-navigation",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925128,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},ep=s=>null!=s,BF=s=>{const i=getComputedStyle(s);let e=parseFloat(i.width);return e+=(parseFloat(i.marginLeft)||0)+(parseFloat(i.marginRight)||0),e},sve=s=>{const i=SYe(s);return[i.length>0?i[0]:s,i.length>0?i[i.length-1]:s]},SYe=s=>s.querySelectorAll(cF);let CYe=0;const ove=/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,rve="kendo-actionsheet-item-index",ave=(s,i,e)=>{const n=kYe(s,i,e);if(n)return EYe(n,i)},EYe=(s,i)=>+s.getAttribute(i),kYe=(s,i,e)=>((s,i,e)=>{for(;s&&s!==e&&!i(s);)s=s.parentNode;if(s!==e)return s})(s,n=>((s,i)=>ep(s.getAttribute(i)))(n,i),e);let wYe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe]]}),s})(),lve=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoBreadCrumbItemTemplate",""]]}),s})();const cve="data-kendo-breadcrumb-index",uve={small:"sm",medium:"md",large:"lg"};let jq=(()=>{class s{constructor(e){this.el=e,this.index=-1,this.hostClasses=!0,this.disabled=!1}get isRootItem(){return this.item.context.isFirst}get isDisabled(){return this.disabled||null}get isLastItem(){return this.item.context.isLast}ngOnInit(){this.disabled=this.item.data&&(this.item.data.disabled||this.item.context.isLast)}ngAfterViewInit(){ne()&&(this.width=BF(this.el.nativeElement))}onImageLoad(){ne()&&(this.width=BF(this.el.nativeElement))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoBreadCrumbItem",""]],hostVars:7,hostBindings:function(e,n){2&e&&(t.BMQ("aria-disabled",n.isDisabled),t.AVh("k-breadcrumb-item",n.hostClasses)("k-breadcrumb-root-item",n.isRootItem)("k-breadcrumb-last-item",n.isLastItem))},inputs:{item:"item",collapseMode:"collapseMode",index:"index",itemTemplate:"itemTemplate"},attrs:aWe,ngContentSelectors:cWe,decls:5,vars:3,consts:[["separator",""],[4,"ngIf"],[4,"ngTemplateOutlet"],["role","link",3,"ngClass","title","tabindex",4,"ngIf"],["role","link",3,"ngClass","title","tabindex"],["class","k-image","role","presentation",3,"src","load",4,"ngIf"],[3,"name","customFontClass","svgIcon",4,"ngIf"],[1,"k-breadcrumb-item-text"],["role","presentation",1,"k-image",3,"load","src"],[3,"name","customFontClass","svgIcon"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&(t.NAR(lWe),t.DNE(0,hWe,1,0,"ng-template",null,0,t.C5r)(2,fWe,2,1,"ng-container",1)(3,CWe,3,2,"ng-container",1)(4,EWe,2,1,"ng-container",1)),2&e&&(t.R7$(2),t.Y8G("ngIf","wrap"===n.collapseMode),t.R7$(),t.Y8G("ngIf",!n.item.context.collapsed),t.R7$(),t.Y8G("ngIf","wrap"!==n.collapseMode))},dependencies:[Ke,W,Je,Pe],encapsulation:2}),s})();const TYe=(s,i)=>ep(s.getAttribute(i)),xYe=AG,AYe=aI;let fve=(()=>{class s{constructor(e,n){this.el=e,this.localization=n,this.defaultClasses=!0,this.ariaHidden=!0,this.direction="ltr",this.direction=this.localization.rtl?"rtl":"ltr"}set icon(e){ep(e)?(this._icon=e,this.hasDefaultIcon=!1):(this._icon="ltr"===this.direction?"chevron-right":"chevron-left",this.hasDefaultIcon=!0)}get icon(){return this._icon}set svgIcon(e){ep(e)?(this._svgIcon=e,this.hasDefaultSvgIcon=!1):(this._svgIcon="ltr"===this.direction?xYe:AYe,this.hasDefaultSvgIcon=!0)}get svgIcon(){return this._svgIcon}ngOnInit(){this.localizationChangesSubscription=this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.hasDefaultIcon&&(this.icon=void 0),this.hasDefaultSvgIcon&&(this.svgIcon=void 0)})}ngOnDestroy(){this.localizationChangesSubscription.unsubscribe()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoBreadCrumbSeparator",""]],hostVars:5,hostBindings:function(e,n){2&e&&(t.BMQ("aria-hidden",n.ariaHidden),t.AVh("k-breadcrumb-delimiter-icon",n.defaultClasses)("k-icon",n.defaultClasses))},inputs:{icon:"icon",svgIcon:"svgIcon"},attrs:yWe,decls:1,vars:2,consts:[["size","xsmall",3,"name","svgIcon"]],template:function(e,n){1&e&&t.nrm(0,"kendo-icon-wrapper",0),2&e&&t.Y8G("name",n.icon)("svgIcon",n.svgIcon)},dependencies:[Ke],encapsulation:2}),s})(),Hq=(()=>{class s{constructor(e,n){this.el=e,this.zone=n,this.items=[],this.collapseMode="auto",this.itemClick=new t.bkB;const o=this.el.nativeElement;this.isRootItemContainer=o.classList.contains("k-breadcrumb-root-item-container"),this.zone.runOutsideAngular(()=>{const r=wt(o,"click"),a=wt(o,"keydown").pipe(z(l=>l.keyCode===F.Enter));this.domEventsSubscription=Ht(r,a).pipe((0,U.T)(l=>l.target),z(l=>!l.classList.contains("k-breadcrumb-delimiter-icon")),(0,U.T)(l=>this.getItemIndex(l)),z(ep),(0,U.T)(l=>parseInt(l,10)),(0,U.T)(l=>this.items[l]),z(l=>!l.data.disabled&&!l.context.isLast),(0,U.T)(l=>l.data)).subscribe(l=>{this.zone.run(()=>this.itemClick.emit(l))})})}ngOnDestroy(){this.domEventsSubscription.unsubscribe()}getItemIndex(e){const n=((s,i,e)=>((s,i,e,n)=>{for(;s&&s!==n&&!e(s,i);)s=s.parentNode;if(s!==n)return s})(s,i,TYe,e))(e,cve,this.el.nativeElement);if(n)return((s,i)=>+s.getAttribute(i))(n,cve)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.SKi))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoBreadCrumbList",""]],viewQuery:function(e,n){if(1&e&&t.GBs(jq,5),2&e){let o;t.mGM(o=t.lsd())&&(n.renderedItems=o)}},inputs:{items:"items",itemTemplate:"itemTemplate",collapseMode:"collapseMode",separatorIcon:"separatorIcon",separatorSVGIcon:"separatorSVGIcon"},outputs:{itemClick:"itemClick"},attrs:kWe,decls:1,vars:1,consts:[["renderedItem",""],[4,"ngFor","ngForOf"],["kendoBreadCrumbItem","",3,"item","index","collapseMode","itemTemplate",4,"ngIf"],["kendoBreadCrumbItem","",3,"item","index","collapseMode","itemTemplate"],["kendoBreadCrumbSeparator","",3,"icon","svgIcon",4,"ngIf"],["kendoBreadCrumbSeparator","",3,"icon","svgIcon"]],template:function(e,n){1&e&&t.DNE(0,TWe,2,1,"ng-container",1),2&e&&t.Y8G("ngForOf",n.items)},dependencies:[jq,fve,st,W],encapsulation:2}),s})();const $q=s=>s.item.context.collapsed,mve=s=>!0===$q(s),RYe=s=>!1===$q(s),_ve=s=>i=>i.find(e=>$q(e)===s).item.context.collapsed=!s,NYe=_ve(!1),LYe=_ve(!0);let gve=(()=>{class s{constructor(e,n,o,r,a){this.localization=e,this.el=n,this.cdr=o,this.zone=r,this.renderer=a,this.itemClick=new t.bkB,this.hostClasses=!0,this.hostAriaLabel="Breadcrumb",this._items=[],this._collapseMode="auto",this._size="medium",this.updateItems=new tve,this.afterViewInit=new Xe.B,this.subscriptions=new be.yU,this.direction="ltr",(0,mt.$)(UF);const l=this.updateItems.asObservable().pipe(x8([]));this.direction=e.rtl?"rtl":"ltr",this.itemsData$=l.pipe((0,U.T)(c=>c.filter(Boolean)),(0,U.T)(c=>c.map((u,f,_)=>({context:{collapsed:!1,isLast:f===_.length-1,isFirst:0===f},data:u}))),VC()),this.firstItem$=l.pipe((0,U.T)(c=>c.length>0?[{context:{collapsed:!1,isLast:1===c.length,isFirst:!0},data:c[0]}]:[]),VC())}set items(e){this._items=e||[],this.updateItems.next(this._items)}get items(){return this._items}set collapseMode(e){if((0,t.naY)()&&["auto","wrap","none"].indexOf(e)<0)throw new Error('Invalid collapse mode. Allowed values are "auto", "wrap" or "none". \nFor more details see https://www.telerik.com/kendo-angular-ui/components/navigation/api/BreadCrumbCollapseMode/');this._collapseMode=e||"auto",this.updateItems.next(this.items)}get collapseMode(){return this._collapseMode}set size(e){const n=e||"medium";this.handleClasses(n,"size"),this._size=n}get size(){return this._size}get wrapMode(){return"wrap"===this.collapseMode}get getDir(){return this.direction}ngOnInit(){this.subscriptions.add(this.localization.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr")),this.handleClasses(this.size,"size")}ngAfterViewInit(){this.attachResizeHandler(),this.afterViewInit.next()}ngOnDestroy(){this.subscriptions.unsubscribe()}handleResize(){const e=[...this.listComponent.renderedItems.toArray().filter(a=>!a.item.context.isFirst&&!a.item.context.isLast)],n=Math.floor(BF(this.el.nativeElement)),o=Math.round(this.itemsContainers.toArray().map(a=>BF(a.nativeElement)).reduce((a,l)=>a+l,0)),r=Math.ceil(([...e].reverse().find(mve)||{width:0}).width);return n<=o&&e.find(RYe)?(NYe(e),this.cdr.detectChanges(),this.handleResize()):n>o+r&&e.find(mve)?(LYe([...e].reverse()),this.cdr.detectChanges(),this.handleResize()):void 0}shouldResize(){return ne()&&"auto"===this.collapseMode}attachResizeHandler(){this.subscriptions.add(Ht(this.resizeSensor.resize,this.itemsData$,this.afterViewInit.asObservable()).pipe(z(()=>this.shouldResize())).subscribe(()=>{this.zone.runOutsideAngular(()=>setTimeout(()=>{this.zone.run(()=>{this.listComponent&&(this.handleResize(),this.resizeSensor.acceptSize())})}))}))}handleClasses(e,n){const o=this.el.nativeElement,r=((s,i,e)=>{if("size"===s)return{toRemove:`k-breadcrumb-${uve[i]}`,toAdd:"none"!==e?`k-breadcrumb-${uve[e]}`:""}})(n,this[n],e);r.toRemove&&this.renderer.removeClass(o,r.toRemove),r.toAdd&&this.renderer.addClass(o,r.toAdd)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j),t.rXU(t.aKT),t.rXU(t.gRc),t.rXU(t.SKi),t.rXU(t.sFG))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-breadcrumb"]],contentQueries:function(e,n,o){if(1&e&&t.wni(o,lve,5),2&e){let r;t.mGM(r=t.lsd())&&(n.itemTemplate=r.first)}},viewQuery:function(e,n){if(1&e&&(t.GBs(MWe,7),t.GBs(Hq,7),t.GBs(IWe,5,t.aKT)),2&e){let o;t.mGM(o=t.lsd())&&(n.resizeSensor=o.first),t.mGM(o=t.lsd())&&(n.listComponent=o.first),t.mGM(o=t.lsd())&&(n.itemsContainers=o)}},hostVars:6,hostBindings:function(e,n){2&e&&(t.BMQ("aria-label",n.hostAriaLabel)("dir",n.getDir),t.AVh("k-breadcrumb",n.hostClasses)("k-breadcrumb-wrap",n.wrapMode))},inputs:{items:"items",separatorIcon:"separatorIcon",separatorSVGIcon:"separatorSVGIcon",collapseMode:"collapseMode",size:"size"},outputs:{itemClick:"itemClick"},exportAs:["kendoBreadCrumb"],features:[t.Jv_([j,{provide:Ve,useValue:"kendo.breadcrumb"}])],decls:6,vars:13,consts:[["itemsContainer",""],["resizeSensor",""],["kendoBreadCrumbList","","class","k-breadcrumb-root-item-container",3,"items","itemTemplate","collapseMode","separatorIcon","separatorSVGIcon","itemClick",4,"ngIf"],["kendoBreadCrumbList","",1,"k-breadcrumb-container",3,"itemClick","items","itemTemplate","collapseMode","separatorIcon","separatorSVGIcon","ngClass"],[3,"rateLimit"],["kendoBreadCrumbList","",1,"k-breadcrumb-root-item-container",3,"itemClick","items","itemTemplate","collapseMode","separatorIcon","separatorSVGIcon"]],template:function(e,n){if(1&e){const o=t.RV6();t.DNE(0,AWe,3,7,"ol",2),t.j41(1,"ol",3,0),t.nI1(3,"async"),t.bIt("itemClick",function(a){return t.eBV(o),t.Njj(n.itemClick.emit(a))}),t.k0s(),t.nrm(4,"kendo-resize-sensor",4,1)}2&e&&(t.Y8G("ngIf","wrap"===n.collapseMode),t.R7$(),t.Y8G("items",t.bMT(3,8,n.itemsData$))("itemTemplate",null==n.itemTemplate?null:n.itemTemplate.templateRef)("collapseMode",n.collapseMode)("separatorIcon",n.separatorIcon)("separatorSVGIcon",n.separatorSVGIcon)("ngClass",t.l_i(10,xWe,"wrap"===n.collapseMode,"none"===n.collapseMode)),t.R7$(3),t.Y8G("rateLimit",1e3))},dependencies:[Hq,Os,W,Pe,qp],encapsulation:2}),s})(),GYe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,Vr,An]]}),s})(),BYe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,An]]}),s})(),bve=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoActionSheetHeaderTemplate",""]]}),s})(),Eve=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoActionSheetItemTemplate",""]]}),s})(),yve=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoActionSheetContentTemplate",""]]}),s})(),kve=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoActionSheetFooterTemplate",""]]}),s})(),f0=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoActionSheetTemplate",""]]}),s})(),wve=(()=>{class s{constructor(){this.pointerClass=!0}manageIconClasses(e){const n=["k-actionsheet-item-icon"],o=ep(e.iconColor)&&ove.test(e.iconColor);return ep(e.iconColor)&&""!==e.iconColor&&!o&&n.push(`k-text-${e.iconColor}`),n.join(" ")}manageIconStyles(e){const n=ep(e.iconColor)&&ove.test(e.iconColor),o=ep(e.iconSize)&&""!==e.iconSize,r={};return n&&(r.color=e.iconColor),o&&(r.fontSize=e.iconSize),r}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoActionSheetItem",""]],hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-cursor-pointer",n.pointerClass)},inputs:{itemTemplate:"itemTemplate",item:"item"},attrs:VWe,decls:3,vars:2,consts:[["defaultTemplate",""],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-actionsheet-action"],["class","k-icon-wrap",4,"ngIf"],["class","k-actionsheet-item-text",4,"ngIf"],[1,"k-icon-wrap"],[3,"name","customFontClass","svgIcon"],[1,"k-actionsheet-item-text"],["class","k-actionsheet-item-title",4,"ngIf"],["class","k-actionsheet-item-description",4,"ngIf"],[1,"k-actionsheet-item-title"],[1,"k-actionsheet-item-description"]],template:function(e,n){if(1&e&&t.DNE(0,jWe,1,4,null,1)(1,YWe,3,2,"ng-template",null,0,t.C5r),2&e){const o=t.sdS(2);t.Y8G("ngIf",n.itemTemplate)("ngIfElse",o)}},dependencies:[Ke,W,Je],encapsulation:2}),s})(),Dve=(()=>{class s{constructor(e,n,o){this.renderer=e,this.ngZone=n,this.element=o,this.groupItems=[],this.allItems=[],this.itemClick=new t.bkB,this.subscriptions=new be.yU}ngAfterViewInit(){this.initDomEvents()}ngOnDestroy(){this.subscriptions.unsubscribe()}initDomEvents(){this.element&&this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(this.element.nativeElement,"click",this.clickHandler.bind(this)))})}clickHandler(e){const n=ave(e.target,rve,this.element.nativeElement),o=this.allItems[n];if(o){if(o.disabled)return void e.preventDefault();this.ngZone.run(()=>{this.itemClick.emit({item:o,originalEvent:e})})}}setAttrIndex(e){return this.allItems.indexOf(e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.sFG),t.rXU(t.SKi),t.rXU(t.aKT))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoActionSheetList",""]],inputs:{groupItems:"groupItems",allItems:"allItems",itemTemplate:"itemTemplate"},outputs:{itemClick:"itemClick"},attrs:KWe,decls:1,vars:1,consts:[["kendoActionSheetItem","","tabindex","0","role","button",3,"k-actionsheet-item","k-disabled","ngClass","ngStyle","itemTemplate","item",4,"ngFor","ngForOf"],["kendoActionSheetItem","","tabindex","0","role","button",3,"ngClass","ngStyle","itemTemplate","item"]],template:function(e,n){1&e&&t.DNE(0,JWe,1,10,"span",0),2&e&&t.Y8G("ngForOf",n.groupItems)},dependencies:[wve,st,Pe,Jn],encapsulation:2}),s})();let m0=(()=>{class s{constructor(e,n,o,r,a,l){this.element=e,this.ngZone=n,this.renderer=o,this.localizationService=r,this.builder=a,this.cdr=l,this.animation=!0,this.expanded=!1,this.titleId="k-actionsheet-title"+ ++CYe,this.expandedChange=new t.bkB,this.expand=new t.bkB,this.collapse=new t.bkB,this.itemClick=new t.bkB,this.overlayClick=new t.bkB,this.rtl=!1,this.domSubs=new be.yU,this.animationEnd=new t.bkB,(0,mt.$)(UF),this.dynamicRTLSubscription=this.localizationService.changes.subscribe(({rtl:c})=>{this.rtl=c,this.direction=this.rtl?"rtl":"ltr"})}get hostClass(){return this.expanded}ngAfterViewInit(){this.initDomEvents(),this.setCssVariables()}ngOnChanges(e){e.expanded&&this.expanded&&this.setExpanded(!0)}ngOnDestroy(){this.domSubs.unsubscribe(),this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe(),this.player&&this.player.destroy()}toggle(e){const n=this.expanded,o=to(e)?e:!n;o!==n&&(!0===o?this.setExpanded(!0):!1===o&&!this.animation&&this.setExpanded(!1),this.animation?(this.animationEnd.pipe(Ye(1)).subscribe(()=>{this.onAnimationEnd(o)}),this.playAnimation(o)):this[o?"expand":"collapse"].emit())}get topGroupItems(){return this.items?.filter(e=>!e.group||"top"===e.group)}get bottomGroupItems(){return this.items?.filter(e=>"bottom"===e.group)}onItemClick(e){this.itemClick.emit(e)}onOverlayClick(){this.overlayClick.emit()}get shouldRenderSeparator(){return this.topGroupItems?.length>0&&this.bottomGroupItems?.length>0}initDomEvents(){this.element&&this.ngZone.runOutsideAngular(()=>{this.domSubs.add(this.renderer.listen(this.element.nativeElement,"keydown",e=>{this.onKeyDown(e)}))})}setCssVariables(){!this.element||!ne()||(this.element.nativeElement.style.setProperty("--kendo-actionsheet-height","auto"),this.element.nativeElement.style.setProperty("--kendo-actionsheet-max-height","none"))}onKeyDown(e){const n=e.target;e.keyCode===F.Tab&&this.ngZone.run(()=>{this.keepFocusWithinComponent(n,e)}),e.keyCode===F.Escape&&this.ngZone.run(()=>{this.overlayClick.emit()}),e.keyCode===F.Enter&&this.ngZone.run(()=>{this.triggerItemClick(n,e)})}handleInitialFocus(){const[e]=sve(this.element.nativeElement);e&&e.focus()}keepFocusWithinComponent(e,n){const o=this.element.nativeElement,[r,a]=sve(o),c=n.shiftKey&&e===r;!n.shiftKey&&e===a&&(n.preventDefault(),r.focus()),c&&(n.preventDefault(),a.focus())}triggerItemClick(e,n){const o=ave(e,rve,this.element.nativeElement),r=to(o)?this.items[o]:null;!r||r.disabled||this.itemClick.emit({item:r,originalEvent:n})}setExpanded(e){this.expanded=e,this.expandedChange.emit(e),this.expanded&&(this.cdr.detectChanges(),this.handleInitialFocus())}onAnimationEnd(e){e?this.expand.emit():(this.setExpanded(!1),this.collapse.emit())}playAnimation(e){const n="boolean"!=typeof this.animation&&this.animation.duration?this.animation.duration:300,o=getComputedStyle(this.childContainer.nativeElement).height,r=e?function VYe(s,i){return[We({overflow:"hidden",display:"block",height:0}),hi(`${s}ms ease-in`,We({height:`${i}`}))]}(n,o):function zYe(s,i){return[We({overflow:"hidden",height:`${i}`}),hi(`${s}ms ease-in`,We({overflow:"hidden",height:0}))]}(n,o),a=this.builder.build(r);this.player=a.create(this.childContainer.nativeElement),this.player.onDone(()=>{this.player&&(this.animationEnd.emit(),this.player.destroy(),this.player=null)}),this.player.play()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(j),t.rXU(ki),t.rXU(t.gRc))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-actionsheet"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,f0,5),t.wni(o,bve,5),t.wni(o,yve,5),t.wni(o,Eve,5),t.wni(o,kve,5)),2&e){let r;t.mGM(r=t.lsd())&&(n.actionSheetTemplate=r.first),t.mGM(r=t.lsd())&&(n.headerTemplate=r.first),t.mGM(r=t.lsd())&&(n.contentTemplate=r.first),t.mGM(r=t.lsd())&&(n.itemTemplate=r.first),t.mGM(r=t.lsd())&&(n.footerTemplate=r.first)}},viewQuery:function(e,n){if(1&e&&t.GBs(qWe,5),2&e){let o;t.mGM(o=t.lsd())&&(n.childContainer=o.first)}},hostVars:3,hostBindings:function(e,n){2&e&&(t.BMQ("dir",n.direction),t.AVh("k-actionsheet-container",n.hostClass))},inputs:{title:"title",subtitle:"subtitle",items:"items",cssClass:"cssClass",animation:"animation",expanded:"expanded",titleId:"titleId"},outputs:{expandedChange:"expandedChange",expand:"expand",collapse:"collapse",itemClick:"itemClick",overlayClick:"overlayClick"},exportAs:["kendoActionSheet"],features:[t.Jv_([j,{provide:Ve,useValue:"kendo.actionsheet.component"}]),t.OA$],decls:1,vars:1,consts:[["childContainer",""],["defaultTemplate",""],["defaultHeaderTemplate",""],["defaultContentTemplate",""],[4,"ngIf"],[1,"k-overlay",3,"click"],[1,"k-animation-container"],[1,"k-child-animation-container"],["role","dialog","aria-modal","true",1,"k-actionsheet","k-actionsheet-bottom",3,"ngClass"],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet"],["class","k-actionsheet-titlebar",4,"ngIf"],["class","k-actionsheet-content",4,"ngIf"],["class","k-actionsheet-footer",4,"ngIf"],[1,"k-actionsheet-titlebar"],[1,"k-actionsheet-titlebar-group","k-hbox"],[1,"k-actionsheet-title",3,"id"],["class","k-text-center",4,"ngIf"],["class","k-actionsheet-subtitle k-text-center",4,"ngIf"],[1,"k-text-center"],[1,"k-actionsheet-subtitle","k-text-center"],[1,"k-actionsheet-content"],["kendoActionSheetList","","class","k-list-ul","role","group",3,"groupItems","allItems","itemTemplate","itemClick",4,"ngIf"],["class","k-hr",4,"ngIf"],["kendoActionSheetList","","role","group",1,"k-list-ul",3,"itemClick","groupItems","allItems","itemTemplate"],[1,"k-hr"],[1,"k-actionsheet-footer"]],template:function(e,n){1&e&&t.DNE(0,_Ye,9,6,"ng-container",4),2&e&&t.Y8G("ngIf",n.expanded)},dependencies:[Dve,W,Pe,Je],encapsulation:2}),s})(),Xq=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,An]]}),s})(),Wq=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[wYe,GYe,BYe,Xq]}),s})();var Gt=_e(446);class ft{}let VF=null;const tp={get browser(){return typeof window>"u"||VF||(VF=function HYe(s){const i={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+))/i};let e={};for(let n in i)if(i.hasOwnProperty(n)){const o=s.match(i[n]);if(o){e[n]=!0,e[o[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,e.version=parseInt(document.documentMode||o[2],10);break}}return e}(window.navigator.userAgent)),VF}},dw={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},Ove=tp.browser;let Tve=s=>{const i=Object.keys(dw);i.push("transparent");const e=new RegExp("^("+i.join("|")+")(\\W|$)","i");return Tve=n=>e.exec(n),e.exec(s)};class zF extends ft{constructor(){super()}toHSV(){return this}toRGB(){return this}toHex(i){return this.toBytes().toHex(i)}toBytes(){return this}toCss(i){return"#"+this.toHex(i)}toCssRgba(){const i=this.toBytes();return`rgba(${i.r}, ${i.g}, ${i.b}, ${parseFloat(Number(this.a).toFixed(3))})`}toDisplay(){return Ove.msie&&Ove.version<9?this.toCss():this.toCssRgba()}equals(i){return i===this||null!=i&&this.toCssRgba()===zu(i).toCssRgba()}diff(i){if(null===i)return NaN;const e=this.toBytes(),n=i.toBytes();return Math.sqrt(Math.pow(.3*(e.r-n.r),2)+Math.pow(.59*(e.g-n.g),2)+Math.pow(.11*(e.b-n.b),2))}clone(){let i=this.toBytes();return i===this&&(i=new W_(i.r,i.g,i.b,i.a)),i}}class Iv extends zF{constructor(i,e,n,o){super(),this.r=i,this.g=e,this.b=n,this.a=o}toHSV(){const{r:i,g:e,b:n}=this,o=Math.min(i,e,n),r=Math.max(i,e,n),a=r-o,l=r;let c,u;return 0===a?new Yq(0,0,l,this.a):(0!==r?(u=a/r,c=i===r?(e-n)/a:e===r?2+(n-i)/a:4+(i-e)/a,c*=60,c<0&&(c+=360)):(u=0,c=-1),new Yq(c,u,l,this.a))}toHSL(){const{r:i,g:e,b:n}=this,o=Math.max(i,e,n),r=Math.min(i,e,n);let a,l,c=(o+r)/2;if(o===r)a=l=0;else{const u=o-r;switch(l=c>.5?u/(2-o-r):u/(o+r),o){case i:a=(e-n)/u+(e<n?6:0);break;case e:a=(n-i)/u+2;break;case n:a=(i-e)/u+4}}return new Mve(60*a,100*l,100*c,this.a)}toBytes(){return new W_(255*this.r,255*this.g,255*this.b,this.a)}}class W_ extends Iv{constructor(i,e,n,o){super(Math.round(i),Math.round(e),Math.round(n),o)}toRGB(){return new Iv(this.r/255,this.g/255,this.b/255,this.a)}toHSV(){return this.toRGB().toHSV()}toHSL(){return this.toRGB().toHSL()}toHex(i){let e=jF(this.r,2)+jF(this.g,2)+jF(this.b,2);return i&&i.alpha&&(e+=jF(Math.round(255*this.a),2)),e}toBytes(){return this}}function jF(s,i,e="0"){let n=s.toString(16);for(;i>n.length;)n=e+n;return n}class Yq extends zF{constructor(i,e,n,o){super(),this.h=i,this.s=e,this.v=n,this.a=o}toRGB(){let o,r,a,{h:i,s:e,v:n}=this;if(0===e)o=r=a=n;else{i/=60;const l=Math.floor(i),c=i-l,u=n*(1-e),f=n*(1-e*c),_=n*(1-e*(1-c));switch(l){case 0:o=n,r=_,a=u;break;case 1:o=f,r=n,a=u;break;case 2:o=u,r=n,a=_;break;case 3:o=u,r=f,a=n;break;case 4:o=_,r=u,a=n;break;default:o=n,r=u,a=f}}return new Iv(o,r,a,this.a)}toHSL(){return this.toRGB().toHSL()}toBytes(){return this.toRGB().toBytes()}}class Mve extends zF{constructor(i,e,n,o){super(),this.h=i,this.s=e,this.l=n,this.a=o}toRGB(){let o,r,a,i=this.h/360,e=this.s/100,n=this.l/100;if(0===e)o=r=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;o=Kq(c,l,i+1/3),r=Kq(c,l,i),a=Kq(c,l,i-1/3)}return new Iv(o,r,a,this.a)}toHSV(){return this.toRGB().toHSV()}toBytes(){return this.toRGB().toBytes()}}function Kq(s,i,e){let n=e;return n<0&&(n+=1),n>1&&(n-=1),n<1/6?s+6*(i-s)*n:n<.5?i:n<2/3?s+(i-s)*(2/3-n)*6:s}function Ive(s){return parseFloat(parseFloat(parseInt(s,16)/255).toFixed(3))}function zu(s,i){let e,n;if(null==s||"none"===s)return null;if(s instanceof zF)return s;let o=s.toLowerCase();if(e=Tve(o))return o="transparent"===e[1]?new Iv(1,1,1,0):zu(dw[e[1]],i),o.match=[e[1]],o;if((e=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(o))?n=new W_(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),1):(e=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(o))?n=new W_(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),1):(e=/^#?([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(o))?n=new W_(parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),Ive(e[4]+e[4])):(e=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(o))?n=new W_(parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),Ive(e[4])):(e=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(o))?n=new W_(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),1):(e=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(o))?n=new W_(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4])):(e=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(o))?n=new Iv(parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])/100,1):(e=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(o))&&(n=new Iv(parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])/100,parseFloat(e[4]))),n)n.match=e;else if(!i)throw new Error("Cannot parse color: "+o);return n}const ju=(()=>{class s extends ft{constructor(e){if(super(),1===arguments.length){const n=s.formats,o=this.resolveColor(e);for(let r=0;r<n.length;r++){const l=n[r].process,c=n[r].re.exec(o);if(c){const u=l(c);this.r=u[0],this.g=u[1],this.b=u[2]}}}else this.r=arguments[0],this.g=arguments[1],this.b=arguments[2];this.r=this.normalizeByte(this.r),this.g=this.normalizeByte(this.g),this.b=this.normalizeByte(this.b)}toHex(){const e=this.padDigit,n=this.r.toString(16),o=this.g.toString(16),r=this.b.toString(16);return"#"+e(n)+e(o)+e(r)}resolveColor(e){let n=e||"black";return"#"===n.charAt(0)&&(n=n.substr(1,6)),n=n.replace(/ /g,""),n=n.toLowerCase(),n=s.namedColors[n]||n,n}normalizeByte(e){return e<0||isNaN(e)?0:e>255?255:e}padDigit(e){return 1===e.length?"0"+e:e}brightness(e){const n=Math.round;return this.r=n(this.normalizeByte(this.r*e)),this.g=n(this.normalizeByte(this.g*e)),this.b=n(this.normalizeByte(this.b*e)),this}percBrightness(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)}isDark(){return this.percBrightness()<180}static fromBytes(e,n,o,r){return new W_(e,n,o,r??1)}static fromRGB(e,n,o,r){return new Iv(e,n,o,r??1)}static fromHSV(e,n,o,r){return new Yq(e,n,o,r??1)}static fromHSL(e,n,o,r){return new Mve(e,n,o,r??1)}}return s.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(i){return[parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(i){return[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(i){return[parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16)]}}],s.namedColors=dw,s})(),Hu=class KYe extends ft{observers(){return this._observers=this._observers||[],this._observers}addObserver(i){return this._observers?this._observers.push(i):this._observers=[i],this}removeObserver(i){const e=this.observers(),n=e.indexOf(i);return-1!==n&&e.splice(n,1),this}trigger(i,e){const n=this._observers;if(n&&!this._suspended)for(let o=0;o<n.length;o++){let r=n[o];r[i]&&r[i](e)}return this}optionsChange(i={}){i.element=this,this.trigger("optionsChange",i)}geometryChange(){this.trigger("geometryChange",{element:this})}suspend(){return this._suspended=(this._suspended||0)+1,this}resume(){return this._suspended=Math.max((this._suspended||0)-1,0),this}_observerField(i,e){this[i]&&this[i].removeObserver(this),this[i]=e,e.addObserver(this)}};function JYe(s){return function(i){return this[s]!==i&&(this[s]=i,this.geometryChange()),this}}function qYe(s){return function(){return this[s]}}const HF=(s,i)=>{const e=class extends s{};return function QYe(s,i){for(let e=0;e<i.length;e++){let n=i[e],o=n.charAt(0).toUpperCase()+n.substring(1,n.length);s["set"+o]=JYe(n),s["get"+o]=qYe(n)}}(e.prototype,i),e};function Ts(s,i){const e=function ZYe(s){return s?Math.pow(10,s):1}(i);return Math.round(s*e)/e}const eKe="undefined";function Yt(s){return typeof s!==eKe}const Nve=Math.PI/180,cx=Number.MAX_VALUE,dx=-Number.MAX_VALUE;function Ff(s){return s*Nve}class np extends ft{constructor(i=0,e=0,n=0,o=0,r=0,a=0){super(),this.a=i,this.b=e,this.c=n,this.d=o,this.e=r,this.f=a}multiplyCopy(i){return new np(this.a*i.a+this.c*i.b,this.b*i.a+this.d*i.b,this.a*i.c+this.c*i.d,this.b*i.c+this.d*i.d,this.a*i.e+this.c*i.f+this.e,this.b*i.e+this.d*i.f+this.f)}invert(){const{a:i,b:e,c:n,d:o,e:r,f:a}=this,l=i*o-e*n;return 0===l?null:new np(o/l,-e/l,-n/l,i/l,(n*a-o*r)/l,(e*r-i*a)/l)}clone(){return new np(this.a,this.b,this.c,this.d,this.e,this.f)}equals(i){return!!i&&this.a===i.a&&this.b===i.b&&this.c===i.c&&this.d===i.d&&this.e===i.e&&this.f===i.f}round(i){return this.a=Ts(this.a,i),this.b=Ts(this.b,i),this.c=Ts(this.c,i),this.d=Ts(this.d,i),this.e=Ts(this.e,i),this.f=Ts(this.f,i),this}toArray(i){const e=[this.a,this.b,this.c,this.d,this.e,this.f];if(Yt(i))for(let n=0;n<e.length;n++)e[n]=Ts(e[n],i);return e}toString(i,e=","){return this.toArray(i).join(e)}static translate(i,e){return new np(1,0,0,1,i,e)}static unit(){return new np(1,0,0,1,0,0)}static rotate(i,e,n){const o=new np;return o.a=Math.cos(Ff(i)),o.b=Math.sin(Ff(i)),o.c=-o.b,o.d=o.a,o.e=e-e*o.a+n*o.b||0,o.f=n-n*o.a-e*o.b||0,o}static scale(i,e){return new np(i,0,0,e,0,0)}}np.IDENTITY=np.unit();const _a=np;function _0(s){return s&&"function"==typeof s.matrix?s.matrix():s}class Fd extends(HF(Hu,["x","y"])){constructor(i,e){super(),this.x=i||0,this.y=e||0}equals(i){return i&&i.x===this.x&&i.y===this.y}clone(){return new Fd(this.x,this.y)}rotate(i,e){const n=Fd.create(e)||Fd.ZERO;return this.transform(_a.rotate(i,n.x,n.y))}translate(i,e){return this.x+=i,this.y+=e,this.geometryChange(),this}translateWith(i){return this.translate(i.x,i.y)}move(i,e){return this.x=this.y=0,this.translate(i,e)}scale(i,e=i){return this.x*=i,this.y*=e,this.geometryChange(),this}scaleCopy(i,e){return this.clone().scale(i,e)}transform(i){const e=_0(i),{x:n,y:o}=this;return this.x=e.a*n+e.c*o+e.e,this.y=e.b*n+e.d*o+e.f,this.geometryChange(),this}transformCopy(i){const e=this.clone();return i&&e.transform(i),e}distanceTo(i){const e=this.x-i.x,n=this.y-i.y;return Math.sqrt(e*e+n*n)}round(i){return this.x=Ts(this.x,i),this.y=Ts(this.y,i),this.geometryChange(),this}toArray(i){const e=Yt(i);return[e?Ts(this.x,i):this.x,e?Ts(this.y,i):this.y]}toString(i,e=" "){let{x:n,y:o}=this;return Yt(i)&&(n=Ts(n,i),o=Ts(o,i)),n+e+o}static create(i,e){if(Yt(i))return i instanceof Fd?i:1===arguments.length&&2===i.length?new Fd(i[0],i[1]):new Fd(i,e)}static min(){let i=cx,e=cx;for(let n=0;n<arguments.length;n++){let o=arguments[n];i=Math.min(o.x,i),e=Math.min(o.y,e)}return new Fd(i,e)}static max(){let i=dx,e=dx;for(let n=0;n<arguments.length;n++){const o=arguments[n];i=Math.max(o.x,i),e=Math.max(o.y,e)}return new Fd(i,e)}static minPoint(){return new Fd(dx,dx)}static maxPoint(){return new Fd(cx,cx)}static get ZERO(){return new Fd(0,0)}}const Ie=Fd;class g0 extends(HF(Hu,["width","height"])){constructor(i,e){super(),this.width=i||0,this.height=e||0}equals(i){return i&&i.width===this.width&&i.height===this.height}clone(){return new g0(this.width,this.height)}toArray(i){const e=Yt(i);return[e?Ts(this.width,i):this.width,e?Ts(this.height,i):this.height]}static create(i,e){if(Yt(i))return i instanceof g0?i:1===arguments.length&&2===i.length?new g0(i[0],i[1]):new g0(i,e)}static get ZERO(){return new g0(0,0)}}const v0=g0;class xv extends Hu{constructor(i=new Ie,e=new v0,n=0){super(),this.setOrigin(i),this.setSize(e),this.setCornerRadius(n)}clone(){return new xv(this.origin.clone(),this.size.clone())}equals(i){return i&&i.origin.equals(this.origin)&&i.size.equals(this.size)}setOrigin(i){return this._observerField("origin",Ie.create(i)),this.geometryChange(),this}getOrigin(){return this.origin}setCornerRadius(i){return this.cornerRadius=Array.isArray(i)?i:[i,i],this.geometryChange(),this}getCornerRadius(){return this.cornerRadius}setSize(i){return this._observerField("size",v0.create(i)),this.geometryChange(),this}getSize(){return this.size}width(){return this.size.width}height(){return this.size.height}topLeft(){return this.origin.clone()}bottomRight(){return this.origin.clone().translate(this.width(),this.height())}topRight(){return this.origin.clone().translate(this.width(),0)}bottomLeft(){return this.origin.clone().translate(0,this.height())}center(){return this.origin.clone().translate(this.width()/2,this.height()/2)}bbox(i){const e=this.topLeft().transformCopy(i),n=this.topRight().transformCopy(i),o=this.bottomRight().transformCopy(i),r=this.bottomLeft().transformCopy(i);return xv.fromPoints(e,n,o,r)}transformCopy(i){return xv.fromPoints(this.topLeft().transform(i),this.bottomRight().transform(i))}expand(i,e=i){return this.size.width+=2*i,this.size.height+=2*e,this.origin.translate(-i,-e),this}expandCopy(i,e){return this.clone().expand(i,e)}containsPoint(i){const e=this.origin,n=this.bottomRight();return!(i.x<e.x||i.y<e.y||n.x<i.x||n.y<i.y)}_isOnPath(i,e){const n=this.expandCopy(e,e),o=this.expandCopy(-e,-e);return n.containsPoint(i)&&!o.containsPoint(i)}static fromPoints(){const i=Ie.min.apply(null,arguments),e=Ie.max.apply(null,arguments),n=new v0(e.x-i.x,e.y-i.y);return new xv(i,n)}static union(i,e){return xv.fromPoints(Ie.min(i.topLeft(),e.topLeft()),Ie.max(i.bottomRight(),e.bottomRight()))}static intersect(i,e){const n={left:i.topLeft().x,top:i.topLeft().y,right:i.bottomRight().x,bottom:i.bottomRight().y},o={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y};if(n.left<=o.right&&o.left<=n.right&&n.top<=o.bottom&&o.top<=n.bottom)return xv.fromPoints(new Ie(Math.max(n.left,o.left),Math.max(n.top,o.top)),new Ie(Math.min(n.right,o.right),Math.min(n.bottom,o.bottom)))}}const On=xv;class Jq extends Hu{constructor(i=_a.unit()){super(),this._matrix=i}clone(){return new Jq(this._matrix.clone())}equals(i){return i&&i._matrix.equals(this._matrix)}translate(i,e){return this._matrix=this._matrix.multiplyCopy(_a.translate(i,e)),this._optionsChange(),this}scale(i,e=i,n=null){let o=n;return o&&(o=Ie.create(o),this._matrix=this._matrix.multiplyCopy(_a.translate(o.x,o.y))),this._matrix=this._matrix.multiplyCopy(_a.scale(i,e)),o&&(this._matrix=this._matrix.multiplyCopy(_a.translate(-o.x,-o.y))),this._optionsChange(),this}rotate(i,e){const n=Ie.create(e)||Ie.ZERO;return this._matrix=this._matrix.multiplyCopy(_a.rotate(i,n.x,n.y)),this._optionsChange(),this}multiply(i){const e=_0(i);return this._matrix=this._matrix.multiplyCopy(e),this._optionsChange(),this}matrix(i){return i?(this._matrix=i,this._optionsChange(),this):this._matrix}_optionsChange(){this.optionsChange({field:"transform",value:this})}}const Lve=Jq;function Ui(s){return null===s?null:s instanceof Lve?s:new Lve(s)}function ux(s,i){return s.push.apply(s,i),s}function Av(s){return s/Nve}function Gve(s){return Yt((s.x||{}).location)?{x:s.x.location,y:s.y.location}:{x:s.pageX||s.clientX||0,y:s.pageY||s.clientY||0}}function Pve(s={}){return s.touch?s.touch.initialTouch:s.target}function ga(s){if(s)return s[s.length-1]}function $F(s,i,e){return Math.max(Math.min(s,e),i)}function XF(s,i){return Yt(s)?s:i}function qq(s,i){for(let e in i){const n=e.trim().split(" ");for(let o=0;o<n.length;o++)s.addEventListener(n[o],i[e],!1)}}function Fve(s){const i=s.getBoundingClientRect(),e=document.documentElement;return{top:i.top+(window.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}}function Qq(s,i){const e={},n=window.getComputedStyle(s)||{},o=Array.isArray(i)?i:[i];for(let r=0;r<o.length;r++){let a=o[r];e[a]=n[a]}return e}function Uve(s){return isNaN(s)?s:s+"px"}function hx(s,i){if(!i){const e=Qq(s,["width","height"]);return{width:parseInt(e.width,10),height:parseInt(e.height,10)}}{const{width:e,height:n}=i;Yt(e)&&(s.style.width=Uve(e)),Yt(n)&&(s.style.height=Uve(n))}}function Zq(s,i={}){for(let e in i){const n=e.trim().split(" ");for(let o=0;o<n.length;o++)s.removeEventListener(n[o],i[e],!1)}}const tKe=/\r?\n|\r|\t/g;function Bve(s){return String(s).replace(tKe," ")}function Vve(s){const i=[];for(let e in s)i.push(e+s[e]);return i.sort().join("")}function zve(s){let i=2166136261;for(let e=0;e<s.length;++e)i+=(i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24),i^=s.charCodeAt(e);return i>>>0}const fKe=["wrap"],Hve=["track"],mKe=["sliderSelection"],$ve=["ticks"],_Ke=["tickElement"],gKe=["kendoSliderTicks",""];function vKe(s,i){if(1&s&&(t.j41(0,"span",7),t.eu8(1,8),t.k0s()),2&s){const e=t.XpG().$implicit,n=t.XpG(),o=t.sdS(2);t.R7$(),t.Y8G("ngTemplateOutlet",n.labelTemplate||o)("ngTemplateOutletContext",e)}}function SKe(s,i){1&s&&(t.qex(0),t.EFF(1,"\xa0"),t.bVm())}function CKe(s,i){if(1&s&&(t.j41(0,"li",3,1),t.qex(2,4),t.DNE(3,vKe,2,2,"span",5)(4,SKe,2,0,"ng-container",6),t.bVm(),t.k0s()),2&s){const e=i.$implicit,n=t.XpG();t.FS9("title",n.tickTitle(e.value)),t.Y8G("ngClass",e.classes),t.R7$(2),t.Y8G("ngSwitch",e.large),t.R7$(),t.Y8G("ngSwitchCase",!0),t.R7$(),t.Y8G("ngSwitchCase",!1)}}function bKe(s,i){if(1&s&&t.EFF(0),2&s){const e=i.value,n=t.XpG();t.SpI(" ",n.tickTitle(e)," ")}}const EKe=["draghandle"],yKe=["decreaseButton"],kKe=["increaseButton"],wKe=(s,i)=>({click:s,keydown:i});function DKe(s,i){if(1&s&&t.nrm(0,"button",16,4),2&s){const e=t.XpG();t.Y8G("icon",e.decreaseButtonArrowIcon)("svgIcon",e.decreaseButtonArrowSVGIcon)("title",e.decrementMessage),t.BMQ("tabindex",-1)}}function OKe(s,i){if(1&s&&t.nrm(0,"ul",17,5),2&s){const e=t.XpG();t.Y8G("tickTitle",e.title)("vertical",e.vertical)("step",e.smallStep)("largeStep",e.largeStep)("min",e.min)("max",e.max)("labelTemplate",null==e.labelTemplate?null:e.labelTemplate.templateRef),t.BMQ("aria-hidden",!0)}}function TKe(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",18,6),t.bIt("click",function(o){return t.eBV(e),t.Njj(o.preventDefault())}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("icon",e.increaseButtonArrowIcon)("svgIcon",e.increaseButtonArrowSVGIcon)("title",e.incrementMessage),t.BMQ("tabindex",-1)("aria-label",e.currentValue)}}const MKe=["thumb"],IKe=["numericInput"],xKe=(s,i,e,n,o,r,a)=>({mousedown:s,dragenter:i,keydown:e,input:n,focus:o,blur:r,paste:a}),AKe=(s,i)=>({mouseup:s,mouseleave:i}),Xve=s=>({mousedown:s});function RKe(s,i){}function NKe(s,i){if(1&s&&(t.j41(0,"span",8),t.DNE(1,RKe,0,0,"ng-template",9),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",null==e.prefixTemplate?null:e.prefixTemplate.templateRef)}}function LKe(s,i){1&s&&t.nrm(0,"kendo-input-separator")}function GKe(s,i){1&s&&t.nrm(0,"kendo-input-separator")}function PKe(s,i){}function FKe(s,i){if(1&s&&(t.j41(0,"span",10),t.DNE(1,PKe,0,0,"ng-template",9),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",null==e.suffixTemplate?null:e.suffixTemplate.templateRef)}}function UKe(s,i){if(1&s&&(t.j41(0,"span",11)(1,"button",12),t.nrm(2,"kendo-icon-wrapper",13),t.k0s(),t.j41(3,"button",14),t.nrm(4,"kendo-icon-wrapper",15),t.k0s()()),2&s){const e=t.XpG();t.Y8G("kendoEventsOutsideAngular",t.l_i(15,AKe,e.releaseArrow,e.releaseArrow)),t.R7$(),t.AVh("k-active",e.arrowDirection===e.ArrowDirection.Up),t.Y8G("kendoEventsOutsideAngular",t.eq3(18,Xve,e.increasePress))("title",e.incrementTitle),t.BMQ("aria-hidden",!0)("aria-label",e.incrementTitle),t.R7$(),t.Y8G("svgIcon",e.arrowUpIcon),t.R7$(),t.AVh("k-active",e.arrowDirection===e.ArrowDirection.Down),t.Y8G("kendoEventsOutsideAngular",t.eq3(20,Xve,e.decreasePress))("title",e.decrementTitle),t.BMQ("aria-hidden",!0)("aria-label",e.decrementTitle),t.R7$(),t.Y8G("svgIcon",e.arrowDownIcon)}}const Wve=["input"],Yve=(s,i,e)=>({focus:s,blur:i,input:e});function zKe(s,i){}function jKe(s,i){if(1&s&&(t.j41(0,"span",9),t.DNE(1,zKe,0,0,"ng-template",10),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",null==e.prefix?null:e.prefix.templateRef)}}function HKe(s,i){1&s&&t.nrm(0,"kendo-input-separator")}function $Ke(s,i){if(1&s){const e=t.RV6();t.j41(0,"span",11),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.clearValue())})("mousedown",function(o){return t.eBV(e),t.Njj(o.preventDefault())})("keydown.enter",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.clearValue(o))})("keydown.space",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.clearValue(o))}),t.nrm(1,"kendo-icon-wrapper",12),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("tabindex",e.tabIndex)("title",e.clearTitle()),t.BMQ("aria-label",e.clearTitle()),t.R7$(),t.Y8G("name",e.clearButtonClass)("customFontClass",e.customClearButtonClasses)("svgIcon",e.clearButtonSvgIcon||e.svgIcon("xIcon"))}}function XKe(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",13),2&s){const e=t.XpG();t.Y8G("name",e.errorIconClasses)("customFontClass",e.customIconClasses)("svgIcon",e.errorSvgIcon||e.svgIcon("exclamationCircleIcon"))}}function WKe(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",13),2&s){const e=t.XpG();t.Y8G("name",e.successIconClasses)("customFontClass",e.customSuccessIconClasses)("svgIcon",e.successSvgIcon||e.svgIcon("checkIcon"))}}function YKe(s,i){1&s&&t.nrm(0,"kendo-input-separator")}function KKe(s,i){}function JKe(s,i){if(1&s&&(t.j41(0,"span",14),t.DNE(1,KKe,0,0,"ng-template",10),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",null==e.suffix?null:e.suffix.templateRef)}}const YF=["*"],qKe=[[["kendo-textarea-prefix"]],[["kendo-textarea-suffix"]]],QKe=["kendo-textarea-prefix","kendo-textarea-suffix"];function ZKe(s,i){if(1&s&&t.nrm(0,"kendo-input-separator",4),2&s){const e=t.XpG();t.Y8G("orientation",e.separatorOrientation)}}function eJe(s,i){if(1&s&&t.nrm(0,"kendo-input-separator",4),2&s){const e=t.XpG();t.Y8G("orientation",e.separatorOrientation)}}const tJe=["opacityInput"],nJe=["hexInput"],iJe=["blue"],sJe=["toggleFormatButton"];function oJe(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",6)(1,"input",10,1),t.bIt("blur",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.handleHexInputBlur())})("input",function(){t.eBV(e);const o=t.sdS(2),r=t.XpG();return t.Njj(r.handleHexValueChange(o.value))})("keydown.tab",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.focusDragHandle(o))}),t.k0s(),t.j41(3,"label",11),t.EFF(4,"HEX"),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(),t.AVh("k-readonly",e.readonly),t.Y8G("id",e.focusableId)("disabled",e.disabled)("readonly",e.readonly)("value",e.hex||"")("tabindex",e.tabindex.toString()),t.R7$(2),t.Y8G("for",e.focusableId)}}function rJe(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",6)(1,"kendo-numerictextbox",15,5),t.mxI("valueChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.rgba.a,o)||(r.rgba.a=o),t.Njj(o)}),t.bIt("blur",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.handleRgbaInputBlur())})("valueChange",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.handleRgbaValueChange())})("keydown.tab",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.focusDragHandle(o))}),t.k0s(),t.j41(4,"label",11),t.EFF(5,"A"),t.k0s()()}if(2&s){const e=t.sdS(3),n=t.XpG(2);t.R7$(),t.Y8G("localizationService",n.localizationService)("disabled",n.disabled)("readonly",n.readonly)("tabindex",n.tabindex)("min",0)("max",1),t.R50("value",n.rgba.a),t.Y8G("autoCorrect",!0)("spinners",!1)("step",.01)("format","n2")("decimals",2),t.R7$(3),t.Y8G("for",e.focusableId)}}function aJe(s,i){if(1&s){const e=t.RV6();t.qex(0),t.j41(1,"div",6)(2,"kendo-numerictextbox",12,2),t.mxI("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.rgba.r,o)||(r.rgba.r=o),t.Njj(o)}),t.bIt("blur",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.handleRgbaInputBlur())})("valueChange",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.handleRgbaValueChange())}),t.k0s(),t.j41(4,"label",11),t.EFF(5,"R"),t.k0s()(),t.j41(6,"div",6)(7,"kendo-numerictextbox",13,3),t.mxI("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.rgba.g,o)||(r.rgba.g=o),t.Njj(o)}),t.bIt("blur",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.handleRgbaInputBlur())})("valueChange",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.handleRgbaValueChange())}),t.k0s(),t.j41(9,"label",11),t.EFF(10,"G"),t.k0s()(),t.j41(11,"div",6)(12,"kendo-numerictextbox",14,4),t.mxI("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.rgba.b,o)||(r.rgba.b=o),t.Njj(o)}),t.bIt("blur",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.handleRgbaInputBlur())})("valueChange",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.handleRgbaValueChange())})("keydown.tab",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onTab())}),t.k0s(),t.j41(14,"label",11),t.EFF(15,"B"),t.k0s()(),t.DNE(16,rJe,6,13,"div",8),t.bVm()}if(2&s){const e=t.sdS(3),n=t.sdS(8),o=t.sdS(13),r=t.XpG();t.R7$(2),t.Y8G("localizationService",r.localizationService)("disabled",r.disabled)("readonly",r.readonly)("tabindex",r.tabindex)("min",0)("max",255),t.R50("value",r.rgba.r),t.Y8G("autoCorrect",!0)("spinners",!1)("format","n")("decimals",0),t.R7$(2),t.Y8G("for",e.focusableId),t.R7$(3),t.Y8G("localizationService",r.localizationService)("disabled",r.disabled)("readonly",r.readonly)("tabindex",r.tabindex)("min",0)("max",255),t.R50("value",r.rgba.g),t.Y8G("autoCorrect",!0)("spinners",!1)("format","n")("decimals",0),t.R7$(2),t.Y8G("for",n.focusableId),t.R7$(3),t.Y8G("localizationService",r.localizationService)("disabled",r.disabled)("readonly",r.readonly)("tabindex",r.tabindex)("min",0)("max",255),t.R50("value",r.rgba.b),t.Y8G("autoCorrect",!0)("spinners",!1)("format","n")("decimals",0),t.R7$(2),t.Y8G("for",o.focusableId),t.R7$(2),t.Y8G("ngIf",r.opacity)}}const lJe=["kendoColorContrastSvg",""];function cJe(s,i){1&s&&(t.qSk(),t.nrm(0,"path",1)),2&s&&t.BMQ("d",i.$implicit)}const dJe=["kendoContrastValidation",""];function uJe(s,i){if(1&s&&(t.j41(0,"span",3),t.EFF(1),t.nrm(2,"kendo-icon-wrapper",4),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.SpI(" ",e.passMessage," "),t.R7$(),t.Y8G("svgIcon",e.checkIcon)}}function hJe(s,i){if(1&s&&(t.j41(0,"span",5),t.EFF(1),t.nrm(2,"kendo-icon-wrapper",6),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.SpI(" ",e.failMessage," "),t.R7$(),t.Y8G("svgIcon",e.xCircleIcon)}}function pJe(s,i){if(1&s&&(t.qex(0),t.DNE(1,uJe,3,2,"span",1)(2,hJe,3,2,"span",2),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.pass),t.R7$(),t.Y8G("ngIf",!e.pass)}}const fJe=["kendoContrastTool",""];function mJe(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",8),2&s){const e=t.XpG(3);t.Y8G("svgIcon",e.checkIcon)}}function _Je(s,i){if(1&s&&(t.j41(0,"span",7),t.nrm(1,"kendo-icon-wrapper",8),t.DNE(2,mJe,1,1,"kendo-icon-wrapper",9),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.Y8G("svgIcon",e.checkIcon),t.R7$(),t.Y8G("ngIf",e.satisfiesAAACondition)}}function gJe(s,i){if(1&s&&(t.j41(0,"span",10),t.nrm(1,"kendo-icon-wrapper",11),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.Y8G("svgIcon",e.xCircleIcon)}}function vJe(s,i){if(1&s&&(t.qex(0),t.DNE(1,_Je,3,2,"span",5)(2,gJe,2,1,"span",6),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.satisfiesAACondition),t.R7$(),t.Y8G("ngIf",!e.satisfiesAACondition)}}const SJe=["gradientDragHandle"],CJe=["inputs"],bJe=["alphaSlider"],EJe=["gradientWrapper"],yJe=["hsvRectangle"],Kve=s=>({"k-align-self-end":s});function kJe(s,i){if(1&s&&(t.qSk(),t.nrm(0,"svg",16)),2&s){const e=t.XpG(),n=t.sdS(5);t.Aen("position: absolute; overflow: visible; pointer-events: none; left: 0px; top: 0px;"),t.Y8G("wrapper",n||void 0)("hsva",e.hsva)("backgroundColor",e.contrastTool)}}function wJe(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",17),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.reset())})("keydown.enter",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.reset())})("keydown.space",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.reset())}),t.k0s()}if(2&s){const e=t.XpG();t.Aen("position: absolute; top: 0; left: 50%; transform: translateX(-50%);"),t.Y8G("svgIcon",e.dropletSlashIcon)("tabindex",e.innerTabIndex.toString()),t.BMQ("aria-label",e.clearButtonTitle)("title",e.clearButtonTitle)}}function DJe(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-slider",18,4),t.bIt("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleAlphaSliderChange(o))}),t.k0s()}if(2&s){const e=t.XpG();t.xc7("height",e.clearButton?"140":null,"px"),t.Y8G("tabindex",e.innerTabIndex)("ngClass",t.eq3(14,Kve,e.clearButton))("dragHandleTitle",e.opacitySliderTitle)("disabled",e.disabled)("readonly",e.readonly)("showButtons",!1)("vertical",!0)("min",0)("max",100)("smallStep",1)("largeStep",10)("value",e.alphaSliderValue)}}function OJe(s,i){if(1&s&&t.nrm(0,"div",19),2&s){const e=t.XpG();t.Y8G("value",e.value)("ratio",e.contrastTool)}}const TJe=(s,i,e,n)=>({backgroundColor:s,width:i,height:e,minWidth:n});function MJe(s,i){if(1&s){const e=t.RV6();t.j41(0,"td",5),t.bIt("click",function(){const o=t.eBV(e),r=o.$implicit,a=o.index,l=t.XpG().index,c=t.XpG();return t.Njj(c.handleCellSelection(r,{row:l,col:a}))}),t.k0s()}if(2&s){const e=i.$implicit,n=i.index,o=t.XpG().index,r=t.XpG();t.AVh("k-selected",(null==r.selectedCell?null:r.selectedCell.row)===o&&(null==r.selectedCell?null:r.selectedCell.col)===n)("k-focus",r.focusInComponent&&(null==r.focusedCell?null:r.focusedCell.row)===o&&(null==r.focusedCell?null:r.focusedCell.col)===n),t.Y8G("id","k-"+o+"-"+n+"-"+r.uniqueId)("ngStyle",t.ziG(9,TJe,e,r.tileLayout.width+"px",r.tileLayout.height+"px",r.tileLayout.width+"px")),t.BMQ("aria-selected",(null==r.selectedCell?null:r.selectedCell.row)===o&&(null==r.selectedCell?null:r.selectedCell.col)===n?"true":void 0)("aria-label",e)("value",e)}}function IJe(s,i){if(1&s&&(t.j41(0,"tr",3),t.DNE(1,MJe,1,14,"td",4),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.Y8G("ngForOf",e)}}const xJe=["clearButton"],AJe=["viewButtons"],RJe=["kendoFlatColorPickerHeader",""];function NJe(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",9,0),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.onViewButtonClick(o))})("keydown.shift.tab",function(o){const r=t.eBV(e).index,a=t.XpG(2);return t.Njj(a.onHeaderTabOut(o,r))}),t.k0s()}if(2&s){const e=i.$implicit,n=t.XpG(2);t.Y8G("tabindex",n.innerTabIndex.toString())("icon",n.getViewButtonIcon(e))("svgIcon",n.getViewButtonsSVGIcon(e))("ngClass",n.activeView===e?"k-selected":""),t.BMQ("title",n.getText("gradient"===e?"gradientView":"paletteView"))("aria-label",n.getText("gradient"===e?"gradientView":"paletteView"))("aria-pressed",n.activeView===e)}}function LJe(s,i){if(1&s&&(t.j41(0,"div",7),t.DNE(1,NJe,2,7,"button",8),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.views)}}function GJe(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",10,1),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.clearButtonClick.emit())}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("tabindex",e.innerTabIndex.toString())("svgIcon",e.dropletSlashIcon),t.BMQ("aria-label",e.getText("clearButton"))("title",e.getText("clearButton"))}}function PJe(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",11),t.nrm(1,"span",12),t.j41(2,"span",13),t.bIt("click",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.valuePaneClick.emit(o))}),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(),t.xc7("background-color",e.selection),t.BMQ("title",e.getText("previewColor")),t.R7$(),t.xc7("background-color",e.value),t.BMQ("title",e.getText("revertSelection"))}}const FJe=["first"],UJe=["last"],BJe=["kendoFlatColorPickerActionButtons",""],Jve=["header"],qve=["gradient"],VJe=["palette"],zJe=["footer"];function jJe(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",10,0),t.bIt("clearButtonClick",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onClearButtonClick())})("viewChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onViewChange(o))})("valuePaneClick",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.resetSelection(o))})("tabOut",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.lastFocusable(o))}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("innerTabIndex",e.innerTabIndex)("clearButton",e.clearButton)("activeView",e.activeView)("views",e.views)("value",e.value)("selection",e.selection)("preview",e.preview)}}function HJe(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-colorgradient",11,1),t.bIt("keydown.tab",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.focusFirstHeaderButton())})("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleValueChange(o))}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("tabindex",e.innerTabIndex)("value",e.selection)("format",e.format)("opacity",e.gradientSettings.opacity)("delay",e.gradientSettings.delay)("contrastTool",e.gradientSettings.contrastTool)("gradientSliderSmallStep",e.gradientSettings.gradientSliderSmallStep)("gradientSliderStep",e.gradientSettings.gradientSliderStep)("readonly",e.readonly)}}function $Je(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-colorpalette",12,2),t.bIt("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleValueChange(o))}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("tabindex",e.innerTabIndex)("palette",e.paletteSettings.palette)("columns",e.paletteSettings.columns)("tileSize",e.paletteSettings.tileSize)("format",e.format)("value",e.selection)("readonly",e.readonly)}}function XJe(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",13,3),t.bIt("actionButtonClick",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onAction(o))})("tabOut",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.firstFocusable.focus())}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("innerTabIndex",e.innerTabIndex)("ngClass","k-justify-content-"+e.actionsLayout)}}const WJe=["container"],YJe=["activeColor"],KJe=["popupTemplate"],JJe=["flatColorPicker"],qJe=(s,i)=>({"k-icon-color-preview":s,"k-no-color":i});function QJe(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",10),2&s){const e=t.XpG();t.Y8G("name",e.iconStyles)("customFontClass",e.customIconStyles)("svgIcon",e.svgIcon)}}function ZJe(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-flatcolorpicker",11,3),t.bIt("cancel",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleCancelEvent(o))})("focusout",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handlePopupBlur(o))})("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleValueChange(o))})("keydown",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handlePopupKeyDown(o))})("activeViewChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.activeViewChange.emit(o))})("clearButtonClick",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.clearButtonClick.emit())})("actionButtonClick",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.togglePopup())}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("value",e.value)("format",e.format)("views",e.views)("activeView",e.activeView)("actionsLayout",e.actionsLayout)("preview",e.preview)("gradientSettings",e.gradientSettings)("paletteSettings",e.paletteSettings)("clearButton",e.clearButton)}}const eqe=[[["label"],["kendo-label"]],"*",[["kendo-formhint"]],[["kendo-formerror"]]],tqe=["label, kendo-label","*","kendo-formhint","kendo-formerror"];function nqe(s,i){1&s&&t.SdG(0,2,["*ngIf","hasHints"])}function iqe(s,i){1&s&&t.SdG(0,3,["*ngIf","hasErrors"])}const Bn=s=>null!=s,Y_=(s,i)=>s===i||null===s&&void 0===i||void 0===s&&null===i,uw=s=>s&&(!s.touched||s.control&&"blur"===s.control.updateOn),Ya=(s,i,e)=>!Bn(s)||isNaN(s)||s<=i?i:s>=e?e:s,Qve={small:"sm",medium:"md",large:"lg"},Zve={small:"sm",medium:"md",large:"lg",full:"full"},K_=(s,i,e,n)=>{switch(i){case"size":return{toRemove:`k-${s}-${Qve[e]}`,toAdd:"none"!==n?`k-${s}-${Qve[n]}`:""};case"rounded":return{toRemove:`k-rounded-${Zve[e]}`,toAdd:"none"!==n?`k-rounded-${Zve[n]}`:""};case"fillMode":return{toRemove:`k-${s}-${e}`,toAdd:"none"!==n?`k-${s}-${n}`:""}}},eSe=s=>Math.min(s,20),px=s=>(String(s).split(".")[1]||"").length,tSe=(s,i)=>Math.max(px(s),px(i)),KF=(s,i)=>{const e=eSe(i);return parseFloat(s.toFixed(e))},S0=(s,i)=>{const e=tSe(s,i);return KF(s+i,e)},J_=(s,i)=>S0(s,-i),JF=(s,i)=>{const e=px(s)+px(i);return KF(s*i,e)},nSe=(s,i)=>{if(0===i)return NaN;const e=tSe(s,i),n=Math.pow(10,e);return n*s/(n*i)},iSe=(s,i)=>Math.abs(J_(s,JF(i,Math.floor(nSe(s,i))))),iQ=({max:s,min:i,smallStep:e,fixedTickWidth:n})=>(s-i)/e*n,sQ=(s=0,i=0,e=1)=>{if(e<=0)throw new Error("Invalid argument: smallStep must be a positive number");const n=Math.abs(J_(i,s)),o=Math.floor(nSe(n,e));return S0(o,1)},sSe=(s,{max:i,min:e,smallStep:n,reverse:o,vertical:r})=>{const a=S0(e,JF(s,n));return r||o?Math.abs(J_(a,i)):a},fx=(s,{max:i,min:e,smallStep:n,largeStep:o},r=!1)=>{const a=r&&o?JF(n,o):n,l=J_(s,e);let c;const u=iSe(l,a);return c=J_(l,0===u?a:u),aQ(S0(c,e),e,i)},mx=(s,{max:i,min:e,smallStep:n,largeStep:o},r=!1)=>{const a=r&&o?JF(n,o):n,l=J_(s,e),c=iSe(l,a),u=S0(J_(l,c),a);return aQ(S0(u,e),e,i)},hw=(s,i,e)=>e>s?s:e<i?i:e,rSe=s=>s,aQ=(s,i,e)=>Math.max(Math.min(s,e),i),lQ=(s,i,e)=>{const{min:n,max:o,vertical:r,rtl:a}=e,l=(s=>{const i=s.getBoundingClientRect(),e=document.documentElement;return{left:i.left+(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0),top:i.top+(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}})(i),f=(o-n)/(r?i.clientHeight:i.clientWidth)*(r?s.pageY-l.top:s.pageX-l.left);let _=a||r?o-f:n+f;const g=px(e.smallStep);return _=KF(_,g+1),((s,i)=>{const{smallStep:e,min:n,max:o}=i,r=aQ(s,n,o);if(s!==r)return r;const a=fx(s,i),l=mx(s,i);return(s-n)%e==0?s:l-s<=(l-a)/2?l:a})(_,e)},QF=s=>mx(s.value,s),ZF=s=>fx(s.value,s),aSe=s=>mx(s.value,s,!0),lSe=s=>fx(s.value,s,!0);class Aqe{constructor(i,e,n,o,r){this.props=i,this.wrapper=e,this.track=n,this.renderer=o,this.button=r,this.props=i,this.wrapper=e,this.track=n,this.tickSizes=this.getTickSizes()}resizeTrack(){const i=this.props.vertical?"height":"width",e=this.props.vertical?"width":"height",n=this.trackWidth();this.track.parentElement.style[i]=`${n}px`,this.track.parentElement.style[e]=""}resizeTicks(i,e){const n=this.props.vertical?"height":"width";[...e].map((o,r)=>o.style[n]=`${this.tickSizes[r]}px`),this.props.vertical&&this.adjustPadding(i)}resizeWrapper(){const i=this.props.vertical?"height":"width";iQ(this.props)&&(this.wrapper.parentElement.style[i]="auto")}trackWidth(){return this.props.fixedTickWidth?iQ(this.props):this.elementSize(this.wrapper.parentElement)-this.getTrackOffset()}getTickSizes(){const{min:i,max:e,smallStep:n}=this.props,o=sQ(i,e,n),r=this.trackWidth(),a=r/J_(e,i),l=[];let c=0,u=0;for(let f=0;f<o;f++){u+=0===f||f===o-1?n/2*a:n*a,u=+u.toFixed(2)-.01;const _=Math.round(u-c);l.push(_),c+=_}return c>=r&&(l[l.length-1]-=1),l}adjustPadding(i){const e=this.tickSizes.reduce((r,a)=>r+a,0),o=this.trackWidth()-e;if(0!==o){const r=o+this.elementOffset(this.track);i.style.paddingTop=`${r}px`}}elementOffset(i){const{vertical:e}=this.props,n=getComputedStyle(i);return parseInt(e?n.bottom:n.left,10)}elementSize(i){const{vertical:e}=this.props;return e?i.clientHeight:i.clientWidth}getTrackOffset(){if(!this.props.buttons||!Bn(this.button))return 0;const n=this.button.nativeElement.getBoundingClientRect(),o=parseInt(window.getComputedStyle(this.wrapper.parentElement).gap);return 2*((this.props.vertical?n?.height:n?.width)+o)}}class Rqe extends Aqe{positionHandle(i){const{max:e,min:n,reverse:o,vertical:r}=this.props,a=r?"bottom":o?"right":"left",l=this.trackWidth(),c=hw(e,n,this.props.value);this.handlePosition=(({trackWidth:s,min:i,max:e,value:n})=>{const o=s/Math.abs(e-i),r=Bn(n)?o*(n-i):i;return Math.floor(r)})({min:n,max:e,reverse:o,value:c,trackWidth:l}),this.renderer.setStyle(i,a,`${this.handlePosition}px`)}positionSelection(i){const{vertical:e}=this.props;this.renderer.setStyle(i,e?"height":"width",`${this.handlePosition}px`)}}function q_(s,i,...e){if(s&&s.nativeElement)return s.nativeElement[i].apply(s.nativeElement,e)}const $u={name:"@progress/kendo-angular-inputs",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925236,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};let Bqe=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoSliderLabelTemplate",""]]}),s})(),Vqe=(()=>{class s{constructor(e,n,o,r,a,l){this.localizationService=e,this.injector=n,this.renderer=o,this.ngZone=r,this.changeDetector=a,this.hostElement=l,this.title=rSe,this.tickPlacement="both",this.vertical=!1,this.min=0,this.max=10,this.smallStep=1,this.largeStep=null,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.onFocus=new t.bkB,this.onBlur=new t.bkB,this.valueChange=new t.bkB,this.sliderClass=!0,this.subscriptions=new be.yU,this.ifEnabled=(c,u)=>{this.isDisabled||c.call(this,u)},(0,mt.$)($u),this.direction=e.rtl?"rtl":"ltr"}get horizontalClass(){return!this.vertical}get verticalClass(){return this.vertical}get disabledClass(){return this.disabled}setDisabledState(e){this.changeDetector.markForCheck(),this.disabled=e}ngOnInit(){this.subscriptions.add(this.localizationService.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.sizeComponent()})),this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.control=this.injector.get(Ri,null)}get isDisabled(){return this.disabled||this.readonly}isEmpty(){return!1}get reverse(){return this.localizationService.rtl&&!this.vertical}get keyBinding(){const e=this.reverse;return{[F.ArrowLeft]:e?QF:ZF,[F.ArrowRight]:e?ZF:QF,[F.ArrowDown]:ZF,[F.ArrowUp]:QF,[F.PageUp]:aSe,[F.PageDown]:lSe,[F.Home]:({min:n})=>n,[F.End]:({max:n})=>n}}resetStyles(e){e.forEach(n=>{n&&(this.vertical?(this.renderer.removeStyle(n,"width"),this.renderer.removeStyle(n,"left"),this.renderer.removeStyle(n,"right")):(this.renderer.removeStyle(n,"height"),this.renderer.removeStyle(n,"bottom")),this.renderer.removeStyle(n,"padding-top"))})}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j),t.rXU(t.zZn),t.rXU(t.sFG),t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(t.aKT))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-slider-base"]],contentQueries:function(e,n,o){if(1&e&&t.wni(o,Bqe,5),2&e){let r;t.mGM(r=t.lsd())&&(n.labelTemplate=r.first)}},viewQuery:function(e,n){if(1&e&&(t.GBs(fKe,7),t.GBs(Hve,7),t.GBs(mKe,7),t.GBs($ve,5,t.aKT),t.GBs($ve,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.wrapper=o.first),t.mGM(o=t.lsd())&&(n.track=o.first),t.mGM(o=t.lsd())&&(n.sliderSelection=o.first),t.mGM(o=t.lsd())&&(n.ticksContainer=o.first),t.mGM(o=t.lsd())&&(n.ticks=o.first)}},hostVars:11,hostBindings:function(e,n){2&e&&(t.BMQ("dir",n.direction),t.AVh("k-readonly",n.readonly)("k-slider-horizontal",n.horizontalClass)("k-slider-vertical",n.verticalClass)("k-slider",n.sliderClass)("k-disabled",n.disabledClass))},inputs:{title:"title",tickPlacement:"tickPlacement",vertical:"vertical",min:"min",max:"max",smallStep:"smallStep",largeStep:"largeStep",fixedTickWidth:"fixedTickWidth",disabled:"disabled",readonly:"readonly",tabindex:"tabindex"},outputs:{onFocus:"focus",onBlur:"blur",valueChange:"valueChange"},decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})();class zqe{constructor(i){this.value=i,this.classes={"k-tick":!0}}}let jqe=(()=>{class s{constructor(){this.wrapperClasses="k-reset k-slider-items",this.ticks=[]}ngOnChanges(e){this.createTicks()}createTicks(){const e=sQ(this.min,this.max,this.step),n=this.largeStep,o={max:this.max,min:this.min,smallStep:this.step},r=[];for(let a=0;a<e;a++)r.push(new zqe(sSe(a,o))),n&&a%n==0&&(r[a].large=!0,r[a].classes["k-tick-large"]=!0);r.length>0&&(Object.assign(r[0].classes,this.endTickClasses(!0)),Object.assign(r[r.length-1].classes,this.endTickClasses(!1))),this.ticks=r}endTickClasses(e){return{"k-first":e&&!this.vertical||!e&&this.vertical,"k-last":!e&&!this.vertical||e&&this.vertical}}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoSliderTicks",""]],viewQuery:function(e,n){if(1&e&&t.GBs(_Ke,5),2&e){let o;t.mGM(o=t.lsd())&&(n.tickElements=o)}},hostVars:2,hostBindings:function(e,n){2&e&&t.HbH(n.wrapperClasses)},inputs:{tickTitle:"tickTitle",vertical:"vertical",step:"step",largeStep:"largeStep",min:"min",max:"max",labelTemplate:"labelTemplate"},features:[t.OA$],attrs:gKe,decls:3,vars:1,consts:[["defaultLabel",""],["tickElement",""],["role","presentation",3,"ngClass","title",4,"ngFor","ngForOf"],["role","presentation",3,"ngClass","title"],[3,"ngSwitch"],["class","k-label",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"k-label"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&t.DNE(0,CKe,5,5,"li",2)(1,bKe,1,1,"ng-template",null,0,t.C5r),2&e&&t.Y8G("ngForOf",n.ticks)},dependencies:[st,Pe,Fa,yd,Je],encapsulation:2}),s})(),cSe=(()=>{class s extends Gi{}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275dir=t.FsC({type:s,selectors:[["kendo-slider-messages-base"]],inputs:{decrement:"decrement",increment:"increment",dragHandle:"dragHandle"},features:[t.Vt3]}),s})(),Hqe=(()=>{class s extends cSe{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoSliderLocalizedMessages",""]],features:[t.Jv_([{provide:cSe,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})();const e5="k-pressed";let $qe=(()=>{class s extends Vqe{constructor(e,n,o,r,a,l){super(e,n,o,r,a,l),this.localization=e,this.injector=n,this.renderer=o,this.ngZone=r,this.changeDetector=a,this.hostElement=l,this.focusableId=`k-${rn()}`,this.animate=!0,this.showButtons=!0,this.value=this.min,this.arrowUpIcon=Pu,this.arrowDownIcon=Bo,this.arrowLeftIcon=Xa,this.arrowRightIcon=Uo,this.focusChangedProgrammatically=!1,this.onWrapClick=c=>{if(!this.isDisabled&&!c.target.closest(".k-button")){const f=lQ(c,this.track.nativeElement,this.getProps());this.changeValue(f)}q_(this.draghandle,"focus")},this.onKeyDown=c=>{const u=this.getProps(),{max:f,min:_}=u,g=this.keyBinding[c.keyCode];if(this.isDisabled||!g)return;const S=g(u);this.changeValue(hw(f,_,S)),c.preventDefault()},this.ngChange=c=>{},this.ngTouched=()=>{},this.decreaseValue=()=>{this.changeValue(fx(this.value,this.getProps()))},this.increaseValue=()=>{this.changeValue(mx(this.value,this.getProps()))},this.handleBlur=()=>{this.changeDetector.markForCheck(),this.focused=!1,(ke(this.onBlur)||uw(this.control))&&this.ngZone.run(()=>{this.ngTouched(),this.focusChangedProgrammatically||this.onBlur.emit()})}}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}get currentValue(){return Bn(this.value)?this.value.toString():""}focus(){this.disabled||(this.focusChangedProgrammatically=!0,q_(this.draghandle,"focus"),this.focusChangedProgrammatically=!1)}blur(){this.focusChangedProgrammatically=!0,q_(this.draghandle,"blur"),this.handleBlur(),this.focusChangedProgrammatically=!1}ngOnChanges(e){Zi(["value","fixedTickWidth","tickPlacement"],e,!0)&&this.ngZone.onStable.asObservable().pipe(Ye(1)).subscribe(()=>{this.sizeComponent(!1)})}ngAfterViewInit(){ne()&&(this.showButtons&&(this.setValueChangeInterval(this.increaseButton.nativeElement,()=>this.increaseValue()),this.setValueChangeInterval(this.decreaseButton.nativeElement,()=>this.decreaseValue())),this.sizeComponent(!1),this.ticks&&this.ticks.tickElements.changes.subscribe(()=>this.sizeComponent(!1)),this.attachElementEventHandlers(),this.isSliderInvalid())}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}get incrementMessage(){return this.incrementTitle||this.localizationService.get("increment")}get decrementMessage(){return this.decrementTitle||this.localizationService.get("decrement")}get dragHandleMessage(){return this.dragHandleTitle||this.localizationService.get("dragHandle")}handleDragPress(e){e.originalEvent&&e.originalEvent.preventDefault(),this.renderer.removeClass(this.hostElement.nativeElement,"k-slider-transitions")}onHandleDrag(e){this.dragging=!0,this.changeValue(lQ(e,this.track.nativeElement,this.getProps()))}onHandleRelease(){this.dragging=!1,this.renderer.addClass(this.hostElement.nativeElement,"k-slider-transitions")}writeValue(e){this.changeDetector.markForCheck(),this.value=e,this.sizeComponent(this.animate)}registerOnChange(e){this.ngChange=e}registerOnTouched(e){this.ngTouched=e}changeValue(e){Y_(this.value,e)||this.ngZone.run(()=>{this.value=e,this.ngChange(e),this.valueChange.emit(e),this.sizeComponent(this.animate),this.changeDetector.markForCheck()}),this.isSliderInvalid()}sizeComponent(e){if(!ne())return;const n=this.wrapper.nativeElement,o=this.track.nativeElement,r=this.sliderSelection.nativeElement,a=this.draghandle.nativeElement,l=this.ticks?this.ticksContainer.nativeElement:null;e||this.renderer.removeClass(this.hostElement.nativeElement,"k-slider-transitions"),this.resetStyles([o,r,a,l,this.hostElement.nativeElement]);const c=this.getProps(),u=new Rqe(c,n,o,this.renderer,this.increaseButton);u.resizeTrack(),this.ticks&&u.resizeTicks(this.ticksContainer.nativeElement,this.ticks.tickElements.map(f=>f.nativeElement)),u.positionHandle(a),u.positionSelection(r),e||(this.hostElement.nativeElement.getBoundingClientRect(),this.renderer.addClass(this.hostElement.nativeElement,"k-slider-transitions")),this.fixedTickWidth&&u.resizeWrapper()}set focused(e){this.isFocused!==e&&this.hostElement&&(this.isFocused=e)}set dragging(e){if(this.isDragged!==e&&this.sliderSelection&&this.draghandle){const n=this.sliderSelection.nativeElement,o=this.draghandle.nativeElement;e?(this.renderer.addClass(n,e5),this.renderer.addClass(o,e5)):(this.renderer.removeClass(n,e5),this.renderer.removeClass(o,e5)),this.isDragged=e}}setValueChangeInterval(e,n){this.ngZone.runOutsideAngular(()=>{const o=wt(e,"mousedown"),r=wt(e,"mouseup"),a=wt(e,"mouseout"),l=o.pipe(z(c=>0===c.button&&!this.isDisabled),Ou(()=>l0(150).pipe(x8(-1),zs(Ht(r,a))))).subscribe(()=>{this.isFocused||q_(this.draghandle,"focus"),n()});this.subscriptions.add(l)})}getProps(){return{buttons:this.showButtons,disabled:this.disabled,fixedTickWidth:this.fixedTickWidth,largeStep:this.largeStep,max:this.max,min:this.min,readonly:this.readonly,reverse:this.reverse,rtl:this.localizationService.rtl,smallStep:this.smallStep,value:hw(this.max,this.min,this.value),vertical:this.vertical}}isSliderInvalid(){this.isInvalid=!!this.hostElement.nativeElement.classList.contains("ng-invalid"),this.renderer.setAttribute(this.draghandle.nativeElement,"aria-invalid",`${this.isInvalid}`)}attachElementEventHandlers(){const e=this.hostElement.nativeElement;let n=!1,o=!1;this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(e,"focusin",()=>{this.isFocused||this.ngZone.run(()=>{this.focusChangedProgrammatically||this.onFocus.emit(),this.focused=!0})})),this.subscriptions.add(this.renderer.listen(e,"focusout",r=>{this.isFocused&&(n?(r.relatedTarget!==this.draghandle.nativeElement&&this.handleBlur(),n=!1):o||this.handleBlur())})),this.subscriptions.add(this.renderer.listen(e,"mouseenter",()=>{o=!0})),this.subscriptions.add(this.renderer.listen(e,"mouseleave",()=>{o=!1})),this.subscriptions.add(this.renderer.listen(e,"keydown",r=>{n=r.keyCode===F.Tab}))})}get decreaseButtonArrowIcon(){return this.vertical?"caret-alt-down":"ltr"===this.direction?"caret-alt-left":"caret-alt-right"}get increaseButtonArrowIcon(){return this.vertical?"caret-alt-up":"ltr"===this.direction?"caret-alt-right":"caret-alt-left"}get decreaseButtonArrowSVGIcon(){return this.vertical?this.arrowDownIcon:"ltr"===this.direction?this.arrowLeftIcon:this.arrowRightIcon}get increaseButtonArrowSVGIcon(){return this.vertical?this.arrowUpIcon:"ltr"===this.direction?this.arrowRightIcon:this.arrowLeftIcon}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j),t.rXU(t.zZn),t.rXU(t.sFG),t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(t.aKT))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-slider"]],viewQuery:function(e,n){if(1&e&&(t.GBs(EKe,7),t.GBs(yKe,5,t.aKT),t.GBs(kKe,5,t.aKT)),2&e){let o;t.mGM(o=t.lsd())&&(n.draghandle=o.first),t.mGM(o=t.lsd())&&(n.decreaseButton=o.first),t.mGM(o=t.lsd())&&(n.increaseButton=o.first)}},inputs:{focusableId:"focusableId",dragHandleTitle:"dragHandleTitle",incrementTitle:"incrementTitle",animate:"animate",decrementTitle:"decrementTitle",showButtons:"showButtons",value:"value",tabIndex:"tabIndex"},exportAs:["kendoSlider"],features:[t.Jv_([j,{provide:Ve,useValue:"kendo.slider"},{multi:!0,provide:Yn,useExisting:(0,t.Rfq)(()=>s)},{provide:as,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3,t.OA$],decls:13,vars:23,consts:()=>{let i,e,n;return i="Aumenta",e="Decrementa",n="Trascina",[["wrap",""],["track",""],["sliderSelection",""],["draghandle",""],["decreaseButton",""],["ticks",""],["increaseButton",""],["kendoSliderLocalizedMessages","","increment",i,"decrement",e,"dragHandle",n],["kendoButton","","type","button","rounded","full","class","k-button-decrease",3,"icon","svgIcon","title",4,"ngIf"],[1,"k-slider-track-wrap",3,"kendoEventsOutsideAngular"],["kendoSliderTicks","",3,"tickTitle","vertical","step","largeStep","min","max","labelTemplate",4,"ngIf"],[1,"k-slider-track"],[1,"k-slider-selection"],["role","slider","kendoDraggable","",1,"k-draghandle",3,"kendoPress","kendoDrag","kendoRelease","title","id"],["kendoButton","","type","button","rounded","full","class","k-button-increase",3,"icon","svgIcon","title","click",4,"ngIf"],[3,"resize"],["kendoButton","","type","button","rounded","full",1,"k-button-decrease",3,"icon","svgIcon","title"],["kendoSliderTicks","",3,"tickTitle","vertical","step","largeStep","min","max","labelTemplate"],["kendoButton","","type","button","rounded","full",1,"k-button-increase",3,"click","icon","svgIcon","title"]]},template:function(e,n){if(1&e){const o=t.RV6();t.qex(0,7),t.DNE(1,DKe,2,4,"button",8),t.j41(2,"div",9,0),t.DNE(4,OKe,2,8,"ul",10),t.j41(5,"div",11,1),t.nrm(7,"div",12,2),t.j41(9,"span",13,3),t.bIt("kendoPress",function(a){return t.eBV(o),t.Njj(n.ifEnabled(n.handleDragPress,a))})("kendoDrag",function(a){return t.eBV(o),t.Njj(n.ifEnabled(n.onHandleDrag,a))})("kendoRelease",function(a){return t.eBV(o),t.Njj(n.ifEnabled(n.onHandleRelease,a))}),t.k0s()()(),t.DNE(11,TKe,2,5,"button",14),t.j41(12,"kendo-resize-sensor",15),t.bIt("resize",function(){return t.eBV(o),t.Njj(n.sizeComponent(!1))}),t.k0s(),t.bVm()}2&e&&(t.R7$(),t.Y8G("ngIf",n.showButtons),t.R7$(),t.AVh("k-slider-topleft","before"===n.tickPlacement)("k-slider-bottomright","after"===n.tickPlacement),t.Y8G("kendoEventsOutsideAngular",t.l_i(20,wKe,n.onWrapClick,n.onKeyDown)),t.R7$(2),t.Y8G("ngIf","none"!==n.tickPlacement),t.R7$(5),t.xc7("touch-action",n.isDisabled?"":"none"),t.Y8G("title",n.dragHandleMessage)("id",n.focusableId),t.BMQ("aria-valuemin",n.min)("aria-valuemax",n.max)("aria-valuenow",n.currentValue)("aria-valuetext",n.currentValue)("aria-disabled",!!n.disabled||void 0)("aria-readonly",!!n.readonly||void 0)("aria-orientation",n.vertical?"vertical":"horizontal")("tabindex",n.disabled?"-1":n.tabIndex),t.R7$(2),t.Y8G("ngIf",n.showButtons))},dependencies:[$t,jqe,Os,Hqe,W,Vo,Nd],encapsulation:2}),s})(),dSe=(()=>{class s extends Gi{}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275dir=t.FsC({type:s,selectors:[["kendo-switch-messages-base"]],inputs:{on:"on",off:"off"},features:[t.Vt3]}),s})(),Xqe=(()=>{class s extends dSe{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoSwitchLocalizedMessages",""]],features:[t.Jv_([{provide:dSe,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})(),ip=(()=>{class s{constructor(e,n,o,r,a,l){this.renderer=e,this.hostElement=n,this.localizationService=o,this.injector=r,this.changeDetector=a,this.ngZone=l,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.onFocus=new t.bkB,this.onBlur=new t.bkB,this.valueChange=new t.bkB,this.hostRole="switch",this.hostClasses=!0,this.initialized=!1,this.domSubscriptions=[],this._checked=!1,this._size="medium",this._trackRounded="full",this._thumbRounded="full",this.ngChange=c=>{},this.ngTouched=()=>{},this.handleFocus=c=>{this.isFocused||(c.stopImmediatePropagation(),this.focused=!0,ke(this.onFocus)&&this.ngZone.run(()=>{this.onFocus.emit({originalEvent:c})}))},this.handleBlur=c=>{this.hostElement.nativeElement.contains(c&&c.relatedTarget)||(c.stopImmediatePropagation(),this.changeDetector.markForCheck(),this.focused=!1,(ke(this.onBlur)||uw(this.control))&&this.ngZone.run(()=>{this.ngTouched(),this.onBlur.emit({originalEvent:c})}))},(0,mt.$)($u),this.direction=o.rtl?"rtl":"ltr",this.keyDownHandler=this.keyDownHandler.bind(this),this.clickHandler=this.clickHandler.bind(this)}get focusableId(){return this.hostElement.nativeElement.hasAttribute("id")?this.hostElement.nativeElement.getAttribute("id"):`k-${rn()}`}set checked(e){this.setHostClasses(e),this._checked=e}get checked(){return this._checked}set size(e){const n=e||"medium";this.handleClasses(n,"size"),this._size=n}get size(){return this._size}set thumbRounded(e){const n=e||"full";this.handleThumbClasses(n),this._thumbRounded=n}get thumbRounded(){return this._thumbRounded}set trackRounded(e){const n=e||"full";this.handleTrackClasses(n),this._trackRounded=n}get trackRounded(){return this._trackRounded}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}get ieClass(){return Kk&&Kk.msie}get hostId(){return this.focusableId}get ariaChecked(){return this.checked}get ariaInvalid(){return!!this.isControlInvalid||void 0}get hostTabIndex(){return this.disabled?void 0:this.tabIndex}get ariaDisabled(){return!!this.disabled||void 0}get ariaReadonly(){return this.readonly}get disabledClass(){return this.disabled}get onLabelMessage(){return void 0!==this.onLabel?this.onLabel:this.localizationService.get("on")}get offLabelMessage(){return void 0!==this.offLabel?this.offLabel:this.localizationService.get("off")}get isEnabled(){return!this.disabled&&!this.readonly}ngOnInit(){this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.localizationChangeSubscription=this.localizationService.changes.pipe(iI(1)).subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr"}),this.control=this.injector.get(Ri,null),this.ngZone.onStable.pipe(Ye(1)).subscribe(()=>this.initialized=!0)}ngAfterViewInit(){const e=this.hostElement.nativeElement;!this.checked&&!e.classList.contains("k-switch-off")&&this.renderer.addClass(e,"k-switch-off"),this.handleClasses(this.size,"size"),this.handleTrackClasses(this.trackRounded),this.handleThumbClasses(this.thumbRounded),this.attachHostHandlers()}ngOnDestroy(){this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.domSubscriptions.forEach(n=>n());const e=this.hostElement.nativeElement;e.removeEventListener("focus",this.handleFocus,!0),e.removeEventListener("blur",this.handleBlur,!0)}focus(){this.hostElement&&this.hostElement.nativeElement.focus()}blur(){this.hostElement&&this.hostElement.nativeElement.blur()}setDisabledState(e){this.disabled=e,this.changeDetector.markForCheck()}get isControlInvalid(){return this.control&&this.control.touched&&!this.control.valid}writeValue(e){this.checked=null!==e&&e,this.changeDetector.markForCheck()}registerOnChange(e){this.ngChange=e}registerOnTouched(e){this.ngTouched=e}keyDownHandler(e){const n=e.keyCode;this.isEnabled&&(n===F.Space||n===F.Enter)&&(this.changeValue(!this.checked),e.preventDefault())}clickHandler(){this.isEnabled&&this.changeValue(!this.checked)}isEmpty(){return!1}changeValue(e){this.checked!==e&&this.ngZone.run(()=>{this.checked=e,this.ngChange(e),this.valueChange.emit(e),this.changeDetector.markForCheck()})}set focused(e){if(this.isFocused!==e&&this.hostElement){const n=this.hostElement.nativeElement;e?this.renderer.addClass(n,"k-focus"):this.renderer.removeClass(n,"k-focus"),this.isFocused=e}}attachHostHandlers(){this.ngZone.runOutsideAngular(()=>{const e=this.hostElement.nativeElement;this.domSubscriptions.push(this.renderer.listen(e,"click",this.clickHandler),this.renderer.listen(e,"keydown",this.keyDownHandler)),e.addEventListener("focus",this.handleFocus,!0),e.addEventListener("blur",this.handleBlur,!0)})}setHostClasses(e){const n=this.hostElement.nativeElement;e?(this.renderer.removeClass(n,"k-switch-off"),this.renderer.addClass(n,"k-switch-on")):(this.renderer.removeClass(n,"k-switch-on"),this.renderer.addClass(n,"k-switch-off"))}handleClasses(e,n){const o=this.hostElement.nativeElement,r=K_("switch",n,this[n],e);r.toRemove&&this.renderer.removeClass(o,r.toRemove),r.toAdd&&this.renderer.addClass(o,r.toAdd)}handleTrackClasses(e){const n=this.hostElement?.nativeElement,o=this.track?.nativeElement;if(!n||!o)return;const r=K_("switch","rounded",this.trackRounded,e);r.toRemove&&(this.renderer.removeClass(n,r.toRemove),this.renderer.removeClass(o,r.toRemove)),r.toAdd&&(this.renderer.addClass(n,r.toAdd),this.renderer.addClass(o,r.toAdd))}handleThumbClasses(e){const n=this.thumb?.nativeElement;if(!n)return;const o=K_("switch","rounded",this.thumbRounded,e);o.toRemove&&this.renderer.removeClass(n,o.toRemove),o.toAdd&&this.renderer.addClass(n,o.toAdd)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(j),t.rXU(t.zZn),t.rXU(t.gRc),t.rXU(t.SKi))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-switch"]],viewQuery:function(e,n){if(1&e&&(t.GBs(Hve,7),t.GBs(MKe,7)),2&e){let o;t.mGM(o=t.lsd())&&(n.track=o.first),t.mGM(o=t.lsd())&&(n.thumb=o.first)}},hostVars:16,hostBindings:function(e,n){2&e&&(t.BMQ("dir",n.direction)("role",n.hostRole)("id",n.hostId)("aria-checked",n.ariaChecked)("aria-invalid",n.ariaInvalid)("tabindex",n.hostTabIndex)("aria-disabled",n.ariaDisabled)("aria-readonly",n.ariaReadonly),t.AVh("k-readonly",n.readonly)("k-ie",n.ieClass)("k-switch",n.hostClasses)("k-disabled",n.disabledClass))},inputs:{focusableId:"focusableId",onLabel:"onLabel",offLabel:"offLabel",checked:"checked",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",size:"size",thumbRounded:"thumbRounded",trackRounded:"trackRounded",tabIndex:"tabIndex"},outputs:{onFocus:"focus",onBlur:"blur",valueChange:"valueChange"},exportAs:["kendoSwitch"],features:[t.Jv_([j,{provide:Ve,useValue:"kendo.switch"},{multi:!0,provide:Yn,useExisting:(0,t.Rfq)(()=>s)},{provide:as,useExisting:(0,t.Rfq)(()=>s)}])],decls:10,vars:8,consts:()=>{let i,e;return i="On",e="Off",[["track",""],["thumb",""],["kendoSwitchLocalizedMessages","","on",i,"off",e],[1,"k-switch-track"],[1,"k-switch-label-on"],[1,"k-switch-label-off"],[1,"k-switch-thumb-wrap"],[1,"k-switch-thumb"]]},template:function(e,n){1&e&&(t.qex(0,2),t.j41(1,"span",3,0)(3,"span",4),t.EFF(4),t.k0s(),t.j41(5,"span",5),t.EFF(6),t.k0s()(),t.j41(7,"span",6),t.nrm(8,"span",7,1),t.k0s(),t.bVm()),2&e&&(t.R7$(),t.xc7("transition-duration",n.initialized?"200ms":"0ms"),t.R7$(2),t.BMQ("aria-hidden",!0),t.R7$(),t.JRh(n.onLabelMessage),t.R7$(),t.BMQ("aria-hidden",!0),t.R7$(),t.JRh(n.offLabelMessage),t.R7$(),t.xc7("transition-duration",n.initialized?"200ms":"0ms"))},dependencies:[Xqe],encapsulation:2}),s})(),hSe=(()=>{class s{constructor(e,n,o){this.renderer=e,this.inputElement=n,this.ngZone=o,this.hostClasses=!0,this.onFocus=new t.bkB,this.onBlur=new t.bkB,this.onValueChange=new t.bkB,this.autoFillStart=new t.bkB,this.autoFillEnd=new t.bkB,this.listeners=[]}set value(e){this.inputElement&&(this.inputElement.nativeElement.value=e??"",this.onValueChange.emit())}get value(){return this.inputElement.nativeElement.value}get id(){return this.inputElement.nativeElement.id}set id(e){this.renderer.setAttribute(this.inputElement.nativeElement,"id",e)}ngAfterViewInit(){const e=this.inputElement.nativeElement;this.listeners=[this.renderer.listen(e,"focus",()=>this.onFocus.emit()),this.renderer.listen(e,"blur",()=>this.onBlur.emit())],this.ngZone.runOutsideAngular(()=>{this.renderer.listen(e,"animationstart",n=>{"autoFillStart"===n.animationName?this.autoFillStart.emit():"autoFillEnd"===n.animationName&&this.autoFillEnd.emit()})})}ngOnDestroy(){this.listeners.forEach(e=>e())}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(t.SKi))},s.\u0275dir=t.FsC({type:s,selectors:[["input","kendoTextBox",""]],hostVars:10,hostBindings:function(e,n){2&e&&t.AVh("k-textbox",n.hostClasses)("k-input",n.hostClasses)("k-input-md",n.hostClasses)("k-rounded-md",n.hostClasses)("k-input-solid",n.hostClasses)},inputs:{value:"value"},features:[t.Jv_([{provide:as,useExisting:(0,t.Rfq)(()=>s)}])]}),s})(),pSe=(()=>{class s{constructor(e,n,o,r,a,l){this.renderer=e,this.element=n,this.zone=o,this.changeDetector=r,this.injector=a,this.elementClasses=!0,this.autofillClass=!0,this.valueChange=new t.bkB,this.autoSize=!1,this.onFocus=new t.bkB,this.onBlur=new t.bkB,this.onValueChange=new t.bkB,this.autoFillStart=new t.bkB,this.autoFillEnd=new t.bkB,this.listeners=[],this.ngChange=c=>{},this.ngTouched=()=>{},this.direction=l?"rtl":"ltr"}get id(){return this.element.nativeElement.id}set id(e){this.renderer.setAttribute(this.element.nativeElement,"id",e)}writeValue(e){this.elementValue=e,this.resize()}registerOnChange(e){this.ngChange=e}registerOnTouched(e){this.ngTouched=e}setDisabledState(e){this.setElementProperty("disabled",e)}ngOnInit(){const e=this.element.nativeElement;this.zone.runOutsideAngular(()=>{this.listeners=[this.renderer.listen(e,"focus",this.handleFocus.bind(this)),this.renderer.listen(e,"blur",this.handleBlur.bind(this)),this.renderer.listen(e,"animationstart",n=>{"autoFillStart"===n.animationName?this.autoFillStart.emit():"autoFillEnd"===n.animationName&&this.autoFillEnd.emit()})],ne()&&this.autoSize&&(this.resizeSubscription=wt(window,"resize").pipe(kv(50)).subscribe(()=>this.resize())),this.inputSubscription=wt(e,"input").subscribe(this.handleInput.bind(this))}),this.control=this.injector.get(Ri,null)}ngOnChanges(e){const n=this.element.nativeElement;e.value&&(this.elementValue=this.value),e.autoSize&&(this.autoSize?(this.initialHeight=n.offsetHeight,this.renderer.setStyle(n,"resize","none")):(this.renderer.setStyle(n,"overflow-y","auto"),this.renderer.setStyle(n,"resize","both"),n.style.height=`${this.initialHeight}px`)),this.zone.onStable.pipe(Ye(1)).subscribe(()=>this.resize())}ngOnDestroy(){this.listeners.forEach(e=>e()),this.inputSubscription&&this.inputSubscription.unsubscribe(),this.resizeSubscription&&this.resizeSubscription.unsubscribe()}get elementValue(){return this.element?this.element.nativeElement.value:""}set elementValue(e){this.setElementProperty("value",e??"")}setElementProperty(e,n){this.element&&this.renderer.setProperty(this.element.nativeElement,e,n)}resize(){if(!this.autoSize)return;const e=this.element.nativeElement;this.renderer.setStyle(e,"overflow-y","hidden"),e.style.height=`${this.initialHeight}px`;const n=e.scrollHeight;n>this.initialHeight&&(e.style.height=`${n}px`)}handleInput(){const e=this.elementValue;this.value=e,(this.control||ke(this.onValueChange)||ke(this.valueChange))&&this.zone.run(()=>{this.ngChange(e),this.onValueChange.emit(e),this.valueChange.emit(e),this.changeDetector.markForCheck()}),this.resize()}handleFocus(){ke(this.onFocus)&&this.zone.run(()=>{this.onFocus.emit()})}handleBlur(){(ke(this.onBlur)||uw(this.control))&&this.zone.run(()=>{this.ngTouched(),this.onBlur.emit(),this.changeDetector.markForCheck()})}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(t.zZn),t.rXU(Vc,8))},s.\u0275dir=t.FsC({type:s,selectors:[["textarea","kendoTextArea",""]],hostVars:13,hostBindings:function(e,n){2&e&&(t.BMQ("dir",n.direction),t.AVh("k-textarea",n.elementClasses)("k-input",n.elementClasses)("k-input-md",n.elementClasses)("k-rounded-md",n.elementClasses)("k-input-solid",n.elementClasses)("k-autofill",n.autofillClass))},inputs:{autoSize:"autoSize",value:"value"},outputs:{valueChange:"valueChange"},features:[t.Jv_([{provide:Yn,useExisting:(0,t.Rfq)(()=>s),multi:!0},{provide:as,useExisting:(0,t.Rfq)(()=>s)}]),t.OA$]}),s})();const fSe=/[eE][\-+]?([0-9]+)/,mSe=s=>s>=0?Math.floor(s):Math.ceil(s),C0=s=>{},b0=s=>!isNaN(s)&&null!==s;function _Se(s,i){const e=i-String(s).length;let n=s;if(e>0){const o=new Array(e+1).join("0");n=parseFloat(s+o)}return n}var E0=function(s){return s[s.Down=-1]="Down",s[s.None=0]="None",s[s.Up=1]="Up",s}(E0||{});let n5=(()=>{class s{constructor(){this.orientation="vertical",this.hostClass=!0}get vertical(){return"vertical"===this.orientation}get horizontal(){return"horizontal"===this.orientation}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-input-separator"],["kendo-textbox-separator"]],hostVars:6,hostBindings:function(e,n){2&e&&t.AVh("k-input-separator-vertical",n.vertical)("k-input-separator-horizontal",n.horizontal)("k-input-separator",n.hostClass)},inputs:{orientation:"orientation"},decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),i5=(()=>{class s extends Gi{}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275dir=t.FsC({type:s,selectors:[["kendo-numerictextbox-messages-base"]],inputs:{decrement:"decrement",increment:"increment"},features:[t.Vt3]}),s})(),lQe=(()=>{class s extends i5{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoNumericTextBoxLocalizedMessages",""]],features:[t.Jv_([{provide:i5,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})(),cQ=(()=>{class s{constructor(e,n,o){this.ngZone=e,this.renderer=n,this.cdr=o,this.isFocusedChange=new t.bkB,this.onFocus=new t.bkB,this.handleBlur=new t.bkB,this.subscriptions=new be.yU}ngAfterViewInit(){const e=this.hostElement.nativeElement;let n=!1,o=!1;this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(e,"focusin",()=>{this.cdr.detectChanges(),this.isFocused||this.ngZone.run(()=>{this.onFocus.emit(),this.isFocused=!0,this.isFocusedChange.emit(this.isFocused)})})),this.subscriptions.add(this.renderer.listen(e,"focusout",r=>{this.isFocused&&(o?(((s,i)=>{for(;s&&s!==e;)s=s.parentNode;return s})(r.relatedTarget)||this.handleBlur.emit(),o=!1):!n&&!this?.clearButtonClicked&&this.handleBlur.emit())})),this.subscriptions.add(this.renderer.listen(e,"mouseenter",()=>{n=!0})),this.subscriptions.add(this.renderer.listen(e,"mouseleave",()=>{n=!1})),this.subscriptions.add(this.renderer.listen(e,"keydown",r=>{o=r.keyCode===F.Tab}))})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(t.gRc))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoInputSharedEvents",""]],inputs:{hostElement:"hostElement",clearButtonClicked:"clearButtonClicked",isFocused:"isFocused"},outputs:{isFocusedChange:"isFocusedChange",onFocus:"onFocus",handleBlur:"handleBlur"}}),s})();const gSe=["min","max","step","decimals"],cQe={decimals:null,max:null,min:null,step:1};let $c=(()=>{class s{constructor(e,n,o,r,a,l,c){this.intl=e,this.renderer=n,this.localizationService=o,this.injector=r,this.ngZone=a,this.changeDetector=l,this.hostElement=c,this.focusableId=`k-${rn()}`,this.disabled=!1,this.readonly=!1,this.title="",this.autoCorrect=!1,this.decimals=null,this.step=1,this.spinners=!0,this.rangeValidation=!0,this.tabindex=0,this.changeValueOnScroll=!0,this.selectOnFocus=!0,this.value=null,this.valueChange=new t.bkB,this.onFocus=new t.bkB,this.onBlur=new t.bkB,this.inputFocus=new t.bkB,this.inputBlur=new t.bkB,this.ArrowDirection=E0,this.arrowDirection=E0.None,this.hostClasses=!0,this.arrowUpIcon=Pu,this.arrowDownIcon=Bo,this.inputValue="",this.minValidateFn=C0,this.maxValidateFn=C0,this._format="n2",this.isPasted=!1,this.mouseDown=!1,this._size="medium",this._rounded="medium",this._fillMode="solid",this.ngChange=C0,this.ngTouched=C0,this.ngValidatorChange=C0,this.domEvents=[],this.increasePress=u=>{this.arrowPress(E0.Up,u)},this.decreasePress=u=>{this.arrowPress(E0.Down,u)},this.releaseArrow=()=>{clearTimeout(this.spinTimeout),this.arrowDirection!==E0.None&&(this.arrowDirection=E0.None,this.changeDetector.detectChanges())},this.handlePaste=()=>{this.isPasted=!0},this.handleInput=()=>{const u=this.numericInput.nativeElement;let{selectionStart:f,selectionEnd:_,value:g}=u;if(this.pressedKey===F.NumpadDecimal&&(g=this.replaceNumpadDotValue()),this.isPasted&&(g=this.formatInputValue(this.intl.parseNumber(g))),!this.isValid(g))return u.value=this.inputValue,void this.setSelection(f-1,_-1);const S=this.intl.parseNumber(g);let b=this.restrictDecimals(S);if(this.autoCorrect){const k=this.limitInputValue(b);b=k.value,f=k.selectionStart,_=k.selectionEnd}S!==b||this.hasTrailingZeros(g)||!this.focused?(this.setInputValue(b),this.setSelection(f,_)):this.inputValue=g,this.isPasted&&(u.value=this.inputValue),this.updateValue(b),this.previousSelection=null,this.isPasted=!1},this.handleDragEnter=()=>{!this.focused&&!this.isDisabled&&this.setInputValue(this.value,!0)},this.handleMouseDown=()=>{this.mouseDown=!0},this.handleInputFocus=()=>{if(!this.focused){if(this.focused=!0,!this.isDisabled){const u=this.selectOnFocus||!this.mouseDown;this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{u?this.selectAll():this.selectCaret()},0)})}ke(this.onFocus)&&this.ngZone.run(()=>{this.onFocus.emit()})}this.mouseDown=!1,ke(this.inputFocus)&&this.ngZone.run(()=>{this.inputFocus.emit()})},this.handleBlur=()=>{this.changeDetector.markForCheck(),this.focused=!1,this.inputValue!==this.elementValue&&this.handleInput(),this.setInputValue(),ke(this.onBlur)&&this.ngZone.run(()=>{this.ngTouched(),this.onBlur.emit()})},this.handleInputBlur=()=>{this.changeDetector.markForCheck(),this.inputValue!==this.elementValue&&this.handleInput(),this.setInputValue(),(ke(this.inputBlur)||uw(this.control))&&this.ngZone.run(()=>{this.ngTouched(),this.inputBlur.emit()})},this.handleKeyDown=u=>{if(this.isDisabled)return;let f;u.keyCode===F.ArrowDown?f=-1:u.keyCode===F.ArrowUp&&(f=1),f&&this.step&&(u.preventDefault(),this.addStep(f));const _=this.numericInput.nativeElement;this.previousSelection={end:_.selectionEnd,start:_.selectionStart},this.pressedKey=u.keyCode},this.handleWheel=u=>{if(this.focused&&!this.isDisabled&&this.changeValueOnScroll){u.preventDefault();const f=(s=>{let i=0;return s.wheelDelta?(i=s.wheelDelta/120,i=i>0?Math.ceil(i):Math.floor(i)):s.detail&&(i=Math.round(-s.detail/3)),i})(u);this.addStep(f)}},(0,mt.$)($u),this.direction=o.rtl?"rtl":"ltr"}get format(){return this._format??"n2"}set format(e){this._format=e}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set size(e){const n=e||"medium";this.handleClasses(n,"size"),this._size=n}get size(){return this._size}set rounded(e){const n=e||"medium";this.handleClasses(n,"rounded"),this._rounded=n}get rounded(){return this._rounded}set fillMode(e){const n=e||"solid";this.handleClasses(n,"fillMode"),this._fillMode=n}get fillMode(){return this._fillMode}get disableClass(){return this.disabled}ngOnInit(){this.subscriptions=this.localizationService.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr"}),this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.control=this.injector.get(Ri,null),this.ngZone.runOutsideAngular(()=>{this.domEvents.push(this.renderer.listen(this.hostElement.nativeElement,"mousewheel",this.handleWheel.bind(this))),this.domEvents.push(this.renderer.listen(this.hostElement.nativeElement,"DOMMouseScroll",this.handleWheel.bind(this)))})}ngAfterViewInit(){["size","rounded","fillMode"].forEach(n=>{this.handleClasses(this[n],n)})}ngOnChanges(e){Zi(gSe,e,!1)&&this.parseOptions(gSe.filter(n=>e[n])),this.verifySettings(),Zi(["min","max","rangeValidation"],e,!1)&&(this.minValidateFn=this.rangeValidation?(s=>i=>!Bn(s)||!Bn(i.value)||i.value>=s?null:{minError:{minValue:s,value:i.value}})(this.min):C0,this.maxValidateFn=this.rangeValidation?(s=>i=>!Bn(s)||!Bn(i.value)||i.value<=s?null:{maxError:{maxValue:s,value:i.value}})(this.max):C0,this.ngValidatorChange()),Zi(["autoCorrect","decimals","min"],e)&&delete this.numericRegex,Zi(["value","format"],e,!1)&&(this.verifyValue(this.value),this.value=this.restrictModelValue(this.value),(!this.focused||this.intl.parseNumber(this.elementValue)!==this.value)&&this.setInputValue())}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),clearTimeout(this.spinTimeout),this.domEvents.forEach(e=>e())}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)}registerOnValidatorChange(e){this.ngValidatorChange=e}writeValue(e){this.verifyValue(e);const n=this.restrictModelValue(e);this.value=n,this.setInputValue()}registerOnChange(e){this.ngChange=e}registerOnTouched(e){this.ngTouched=e}setDisabledState(e){this.changeDetector.markForCheck(),this.disabled=e}focus(){q_(this.numericInput,"focus")}blur(){q_(this.numericInput,"blur")}notifyValueChange(){this.setInputValue()}handleFocus(){this.ngZone.run(()=>{!this.focused&&ke(this.onFocus)&&this.onFocus.emit(),this.focused=!0})}get incrementTitle(){return this.localizationService.get("increment")}get decrementTitle(){return this.localizationService.get("decrement")}get isControlInvalid(){return this.control&&this.control.touched&&!this.control.valid}get focused(){return this.isFocused}set focused(e){if(this.isFocused!==e&&this.hostElement){const n=this.hostElement.nativeElement;e?this.renderer.addClass(n,"k-focus"):this.renderer.removeClass(n,"k-focus"),this.isFocused=e}}get decimalSeparator(){return this.intl.numberSymbols().decimal}get elementValue(){return this.numericInput.nativeElement.value}set elementValue(e){this.renderer.setProperty(this.numericInput.nativeElement,"value",e)}get hasDecimals(){return null!==this.decimals&&this.decimals>=0}get isDisabled(){return this.disabled||this.readonly}arrowPress(e,n){n.preventDefault(),!this.isDisabled&&!(s=>s.button&&2===s.button||s.which&&3===s.which)(n)&&(f_e||(this.focus(),this.focused=!0),this.arrowDirection!==e&&(this.arrowDirection=e,this.changeDetector.detectChanges()),this.step?this.spin(e,500):this.setInputValue())}updateValue(e){Y_(this.value,e)||this.ngZone.run(()=>{this.value=e,this.ngChange(e),this.valueChange.emit(e),this.changeDetector.markForCheck()})}replaceNumpadDotValue(){let e=this.inputValue||"";if(this.previousSelection){const n=this.numericInput.nativeElement,{selectionStart:o,selectionEnd:r}=n,{start:a,end:l}=this.previousSelection;n.value=e=e.substring(0,a)+this.decimalSeparator+e.substring(l),this.setSelection(o,r)}return e}isValid(e){return this.numericRegex||(this.numericRegex=(s=>{const{autoCorrect:i,decimals:e,min:n}=s;let a,o=s.separator;return"."===o&&(o="\\"+o),a=0===e?"\\d*":`(?:(?:\\d+(${o}\\d*)?)|(?:${o}\\d*))?`,new RegExp(`^${i&&null!==n&&n>=0?"":"-?"}${a}$`)})({autoCorrect:this.autoCorrect,decimals:this.decimals,min:this.min,separator:this.decimalSeparator})),this.numericRegex.test(e)}spin(e,n){clearTimeout(this.spinTimeout),this.spinTimeout=window.setTimeout(()=>{this.spin(e,50)},n),this.addStep(e)}addStep(e){let n=S0(this.value||0,this.step*e);n=this.limitValue(n),n=this.restrictDecimals(n),this.setInputValue(n),this.updateValue(n)}setSelection(e,n){this.focused&&q_(this.numericInput,"setSelectionRange",e,n)}limitValue(e){let n=e;return this.isInRange(e)||(b0(this.max)&&e>this.max&&(n=this.max),b0(this.min)&&e<this.min&&(n=this.min)),n}limitInputValue(e){const{selectionStart:n,selectionEnd:o,value:r}=this.numericInput.nativeElement;let a=e,l=!1;if(!this.isInRange(e)){const c=r.length-String(this.inputValue).length,{min:u,max:f}=this,_=b0(f),g=b0(u);let S,b,k=e;if(0===n&&this.inputValue.substr(1)===r)return{selectionEnd:o,selectionStart:n,value:null};if(_&&e>f?e>0?b=!0:S=f:g&&e<u&&(e>0?S=u:b=!0),S){const D=this.tryPadValue(e,S);D&&mSe(e)!==mSe(S)&&(k=D,l=!0)}else b&&this.inputValue&&n!==r.length&&(k=parseFloat(r.substr(0,n)+r.substr(n+c)));a=this.limitValue(k),l=(l||a!==k)&&this.previousSelection&&this.previousSelection.end-this.previousSelection.start+c>0}return{selectionEnd:l?String(a).length:o,selectionStart:n,value:a}}tryPadValue(e,n){const o=String(Math.floor(n)).length,r=_Se(e,o),a=_Se(e,o+1);let l;return this.isInRange(r)?l=r:this.isInRange(a)&&(l=a),l}isInRange(e){return!b0(e)||(!b0(this.min)||this.min<=e)&&(!b0(this.max)||e<=this.max)}restrictModelValue(e){let n=this.restrictDecimals(e,!0);return this.autoCorrect&&this.limitValue(n)!==n&&(n=null),n}restrictDecimals(e,n){let o=e;if(e&&this.hasDecimals){const r=this.decimals,a=String(e);if(n||fSe.test(a))o=KF(e,r);else{const l=a.split(".");let c=l[1];c&&c.length>r&&(c=c.substr(0,r),o=parseFloat(`${l[0]}.${c}`))}}return o}formatInputValue(e){let n=Object.is(e,-0)?"-0":String(e);const o=fSe.exec(n);return o&&(n=e.toFixed(eSe(parseInt(o[1],10)))),n.replace(".",this.decimalSeparator)}formatValue(e,n){let o;return o=null!==e&&(s=>typeof s<"u")(e)&&""!==e?n&&!this.readonly?this.formatInputValue(e):this.intl.formatNumber(e,this.format):"",o}setInputValue(e=this.value,n=this.focused){const o=this.formatValue(e,n);this.elementValue=o,this.inputValue=o}verifySettings(){if((0,t.naY)()&&null!==this.min&&null!==this.max&&this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-max.")}verifyValue(e){if((0,t.naY)()&&e&&"number"!=typeof e)throw new Error(`The NumericTextBox component requires value of type Number and ${JSON.stringify(e)} was set.`)}parseOptions(e){for(let n=0;n<e.length;n++){const o=e[n],r=this[o];if("string"==typeof r){const a=parseFloat(r),l=!isNaN(a);if((0,t.naY)()&&!l&&""!==r)throw new Error(`The NumericTextBox component requires value of type Number or a String representing a number for the ${o} property and ${JSON.stringify(r)} was set.`);this[o]=l?a:cQe[o]}}}intlChange(){delete this.numericRegex,this.numericInput&&(!this.focused||!this.isValid(this.elementValue))&&this.setInputValue()}hasTrailingZeros(e){if(this.hasDecimals&&this.focused){const n=e.split(this.decimalSeparator)[1];return n&&n.length>this.decimals&&n.lastIndexOf("0")===n.length-1}}selectAll(){this.setInputValue(),this.setSelection(0,this.inputValue.length)}selectCaret(){const e=(s=>this.numericInput.nativeElement.selectionStart)(),n=this.elementValue,o=n.substring(0,e);if(this.setInputValue(),o.length){const r=((s,i)=>{const e=`${this.decimalSeparator}0123456789-`;return s.split("").reduce((n,o)=>e.includes(o)?++n:n,0)})(o),a=this.adjustSignificantChars(n,r);this.setSelection(a,a)}else this.setSelection(0,0)}numberOfLeadingZeroes(e){const n=e.indexOf(this.decimalSeparator),o=e.match(/^[^1-9]*?(0+)/);if(o){const a=o[1].length;return o[0].length===n?a-1:a}return 0}adjustSignificantChars(e,n){const o=this.numberOfLeadingZeroes(e);return o>0?Math.max(0,n-o):n}handleClasses(e,n){const o=this.hostElement.nativeElement,r=K_("input",n,this[n],e);r.toRemove&&this.renderer.removeClass(o,r.toRemove),r.toAdd&&this.renderer.addClass(o,r.toAdd)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Gt.Bs),t.rXU(t.sFG),t.rXU(j),t.rXU(t.zZn),t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(t.aKT))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-numerictextbox"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,HI,5),t.wni(o,jI,5)),2&e){let r;t.mGM(r=t.lsd())&&(n.suffixTemplate=r.first),t.mGM(r=t.lsd())&&(n.prefixTemplate=r.first)}},viewQuery:function(e,n){if(1&e&&t.GBs(IKe,7),2&e){let o;t.mGM(o=t.lsd())&&(n.numericInput=o.first)}},hostVars:9,hostBindings:function(e,n){2&e&&(t.BMQ("dir",n.direction),t.AVh("k-readonly",n.readonly)("k-disabled",n.disableClass)("k-input",n.hostClasses)("k-numerictextbox",n.hostClasses))},inputs:{focusableId:"focusableId",disabled:"disabled",readonly:"readonly",title:"title",autoCorrect:"autoCorrect",format:"format",max:"max",min:"min",decimals:"decimals",placeholder:"placeholder",step:"step",spinners:"spinners",rangeValidation:"rangeValidation",tabindex:"tabindex",tabIndex:"tabIndex",changeValueOnScroll:"changeValueOnScroll",selectOnFocus:"selectOnFocus",value:"value",maxlength:"maxlength",size:"size",rounded:"rounded",fillMode:"fillMode"},outputs:{valueChange:"valueChange",onFocus:"focus",onBlur:"blur",inputFocus:"inputFocus",inputBlur:"inputBlur"},exportAs:["kendoNumericTextBox"],features:[t.Jv_([j,{provide:Ve,useValue:"kendo.numerictextbox"},{provide:Yn,useExisting:(0,t.Rfq)(()=>s),multi:!0},{provide:Ho,useExisting:(0,t.Rfq)(()=>s),multi:!0},{provide:as,useExisting:(0,t.Rfq)(()=>s)}]),t.OA$],decls:9,vars:27,consts:()=>{let i,e;return i="Aumenta",e="Decrementa",[["numericInput",""],["kendoNumericTextBoxLocalizedMessages","","increment",i,"decrement",e],["kendoInputSharedEvents","",3,"isFocusedChange","handleBlur","onFocus","hostElement","isFocused"],["class","k-input-prefix k-input-prefix-horizontal",4,"ngIf"],[4,"ngIf"],["role","spinbutton","autocomplete","off","autocorrect","off",1,"k-input-inner",3,"id","tabindex","disabled","readonly","kendoEventsOutsideAngular"],["class","k-input-suffix k-input-suffix-horizontal",4,"ngIf"],["class","k-input-spinner k-spin-button",3,"kendoEventsOutsideAngular",4,"ngIf"],[1,"k-input-prefix","k-input-prefix-horizontal"],[3,"ngTemplateOutlet"],[1,"k-input-suffix","k-input-suffix-horizontal"],[1,"k-input-spinner","k-spin-button",3,"kendoEventsOutsideAngular"],["type","button","tabindex","-1",1,"k-spinner-increase","k-button","k-button-md","k-icon-button","k-button-solid","k-button-solid-base",3,"kendoEventsOutsideAngular","title"],["name","caret-alt-up","innerCssClass","k-button-icon",3,"svgIcon"],["type","button","tabindex","-1",1,"k-spinner-decrease","k-button","k-button-md","k-icon-button","k-button-solid","k-button-solid-base",3,"kendoEventsOutsideAngular","title"],["name","caret-alt-down","innerCssClass","k-button-icon",3,"svgIcon"]]},template:function(e,n){if(1&e){const o=t.RV6();t.eu8(0,1),t.qex(1,2),t.mxI("isFocusedChange",function(a){return t.eBV(o),t.DH7(n.focused,a)||(n.focused=a),t.Njj(a)}),t.bIt("handleBlur",function(){return t.eBV(o),t.Njj(n.handleBlur())})("onFocus",function(){return t.eBV(o),t.Njj(n.handleFocus())}),t.DNE(2,NKe,2,1,"span",3)(3,LKe,1,0,"kendo-input-separator",4),t.nrm(4,"input",5,0),t.DNE(6,GKe,1,0,"kendo-input-separator",4)(7,FKe,2,1,"span",6)(8,UKe,5,22,"span",7),t.bVm()}2&e&&(t.R7$(),t.Y8G("hostElement",n.hostElement),t.R50("isFocused",n.focused),t.R7$(),t.Y8G("ngIf",n.prefixTemplate),t.R7$(),t.Y8G("ngIf",n.prefixTemplate&&n.prefixTemplate.showSeparator),t.R7$(),t.Y8G("id",n.focusableId)("tabindex",n.tabIndex)("disabled",n.disabled)("readonly",n.readonly)("kendoEventsOutsideAngular",t.sGs(19,xKe,n.handleMouseDown,n.handleDragEnter,n.handleKeyDown,n.handleInput,n.handleInputFocus,n.handleInputBlur,n.handlePaste)),t.BMQ("aria-valuemin",n.min)("aria-valuemax",n.max)("aria-valuenow",n.value)("title",n.title)("placeholder",n.placeholder)("maxLength",n.maxlength)("aria-invalid",n.isControlInvalid),t.R7$(2),t.Y8G("ngIf",n.suffixTemplate&&(null==n.suffixTemplate?null:n.suffixTemplate.showSeparator)),t.R7$(),t.Y8G("ngIf",n.suffixTemplate),t.R7$(),t.Y8G("ngIf",n.spinners))},dependencies:[n5,Ke,lQe,cQ,W,Je,Vo],encapsulation:2}),s})(),_x=(()=>{class s extends i5{constructor(e){super(),this.service=e}get override(){return!0}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-numerictextbox-messages"]],features:[t.Jv_([{provide:i5,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})();Promise.resolve(null);let bSe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,ew,zo,Vr],ew,zo,Vr]}),s})(),ESe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,bSe,An,gr]]}),s})(),_Qe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,bSe]]}),s})(),ySe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,zo,Vr]]}),s})(),s5=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({}),s})(),o5=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({}),s})(),pw=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,zo,An,s5,zc,o5],zc]}),s})(),gQe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,zo,s5,zc,o5],zc]}),s})(),SQe=(()=>{class s{constructor(e){this.templateRef=e,this._showSeparator=!1}set showSeparator(e){this._showSeparator=e}get showSeparator(){return this._showSeparator}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoTextBoxSuffixTemplate",""]],inputs:{showSeparator:"showSeparator"}}),s})(),dQ=(()=>{class s{constructor(e){this.templateRef=e,this._showSeparator=!1}set showSeparator(e){this._showSeparator=e}get showSeparator(){return this._showSeparator}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoTextBoxPrefixTemplate",""]],inputs:{showSeparator:"showSeparator"}}),s})(),kSe=(()=>{class s extends Gi{}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275dir=t.FsC({type:s,selectors:[["kendo-textbox-messages-base"]],inputs:{clear:"clear"},features:[t.Vt3]}),s})(),CQe=(()=>{class s extends kSe{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoTextBoxLocalizedMessages",""]],features:[t.Jv_([{provide:kSe,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})();const kQe={checkIcon:YC,exclamationCircleIcon:zk,xIcon:wo};let Jl=(()=>{class s{constructor(e,n,o,r,a,l){this.localizationService=e,this.ngZone=n,this.changeDetector=o,this.renderer=r,this.injector=a,this.hostElement=l,this.focusableId=`k-${rn()}`,this.title="",this.type="text",this.disabled=!1,this.readonly=!1,this.tabindex=0,this.value=null,this.selectOnFocus=!1,this.showSuccessIcon=!1,this.showErrorIcon=!1,this.clearButton=!1,this.valueChange=new t.bkB,this.inputFocus=new t.bkB,this.inputBlur=new t.bkB,this.onFocus=new t.bkB,this.onBlur=new t.bkB,this.hostClasses=!0,this._isFocused=!1,this.focusChangedProgrammatically=!1,this._size="medium",this._rounded="medium",this._fillMode="solid",this.handleInputFocus=()=>{this.disabled||(this.selectOnFocus&&this.value&&this.ngZone.run(()=>{setTimeout(()=>{this.selectAll()})}),this.isFocused||this.handleFocus(),ke(this.inputFocus)&&(!this.focusChangedProgrammatically||this.focusChangedProgrammatically&&this.clearButtonClicked)&&this.ngZone.run(()=>{this.inputFocus.emit()}))},this.handleInputBlur=()=>{this.changeDetector.markForCheck(),(ke(this.inputBlur)||uw(this.control))&&this.ngZone.run(()=>{this.ngTouched(),this.inputBlur.emit()})},this.handleInput=c=>{const u=c.target,f=rF(navigator.userAgent),_=f&&(s=>/[\u3000-\u303F]|[\u3040-\u309F]|[\u30A0-\u30FF]|[\uFF00-\uFFEF]|[\u4E00-\u9FAF]|[\u2605-\u2606]|[\u2190-\u2195]|\u203B/g.test(s))(u.value)?c.data:u.value,[g,S]=[u.selectionStart,u.selectionEnd];this.updateValue(_),f&&u.setSelectionRange(g,S)},this.ngChange=c=>{},this.ngTouched=()=>{},(0,mt.$)($u),this.direction=e.rtl?"rtl":"ltr"}set size(e){const n=e||"medium";this.handleClasses(n,"size"),this._size=n}get size(){return this._size}set rounded(e){const n=e||"medium";this.handleClasses(n,"rounded"),this._rounded=n}get rounded(){return this._rounded}set fillMode(e){const n=e||"solid";this.handleClasses(n,"fillMode"),this._fillMode=n}get fillMode(){return this._fillMode}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}get disabledClass(){return this.disabled}ngOnInit(){this.control=this.injector.get(Ri,null),this.checkClearButton(),this.subscriptions=this.localizationService.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr"})}ngAfterViewInit(){["size","rounded","fillMode"].forEach(n=>{this.handleClasses(this[n],n)})}ngAfterContentInit(){this.configureAdornments(),this.subscriptions.add(this.textBoxPrefixTemplate.changes.subscribe(this.configureAdornments.bind(this))),this.subscriptions.add(this.textBoxSuffixTemplate.changes.subscribe(this.configureAdornments.bind(this)))}ngOnChanges(e){(e.disabled||e.readonly||e.value)&&this.checkClearButton()}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}svgIcon(e){return kQe[e]}focus(){this.input&&(this.focusChangedProgrammatically=!0,this.isFocused=!0,this.input.nativeElement.focus(),this.focusChangedProgrammatically=!1)}blur(){this.focusChangedProgrammatically=!0;const e=this.hostElement.nativeElement.querySelector(":focus");e&&e.blur(),this.isFocused=!1,this.focusChangedProgrammatically=!1}clearTitle(){return this.localizationService.get("clear")}checkClearButton(){this.showClearButton=!this.disabled&&!this.readonly&&this.clearButton&&!!this.value}clearValue(e){e&&e.preventDefault(),this.clearButtonClicked=!0,this.input.nativeElement.value="",this.input.nativeElement.focus(),this.updateValue(""),this.checkClearButton(),this.clearButtonClicked=!1}writeValue(e){this.value=e,this.checkClearButton()}registerOnChange(e){this.ngChange=e}registerOnTouched(e){this.ngTouched=e}setDisabledState(e){this.changeDetector.markForCheck(),this.disabled=e}showErrorsInitial(){if(!this.control)return!1;const{invalid:e,dirty:n,touched:o}=this.control;return e&&(n||o)}showSuccessInitial(){if(!this.control)return!1;const{valid:e,dirty:n,touched:o}=this.control;return e&&(n||o)}get isControlInvalid(){return this.control&&this.control.touched&&!this.control.valid}get successIconClasses(){if(!this.successIcon)return"check"}get customSuccessIconClasses(){if(this.successIcon)return this.successIcon}get errorIconClasses(){if(!this.errorIcon)return"exclamation-circle"}get customIconClasses(){if(this.errorIcon)return this.errorIcon}get customClearButtonClasses(){if(this.clearButtonIcon)return this.clearButtonIcon}get clearButtonClass(){if(!this.clearButtonIcon)return"x"}get hasErrors(){return"initial"===this.showErrorIcon?this.showErrorsInitial():this.showErrorIcon}get isSuccessful(){return"initial"===this.showSuccessIcon?this.showSuccessInitial():this.showSuccessIcon}get isFocused(){return this._isFocused}set isFocused(e){if(this._isFocused!==e&&this.hostElement){const n=this.hostElement.nativeElement;e&&!this.disabled?this.renderer.addClass(n,"k-focus"):this.renderer.removeClass(n,"k-focus"),this._isFocused=e}}setSelection(e,n){this.isFocused&&q_(this.input,"setSelectionRange",e,n)}selectAll(){this.value&&this.setSelection(0,this.value.length)}updateValue(e){Y_(this.value,e)||this.ngZone.run(()=>{this.value=e,this.ngChange(e),this.valueChange.emit(e),this.checkClearButton(),this.changeDetector.markForCheck()})}handleFocus(){this.ngZone.run(()=>{!this.focusChangedProgrammatically&&ke(this.onFocus)&&this.onFocus.emit(),this.isFocused=!0})}handleBlur(){this.ngZone.run(()=>{this.focusChangedProgrammatically||this.onBlur.emit(),this.isFocused=!1})}handleClasses(e,n){const o=this.hostElement.nativeElement,r=K_("input",n,this[n],e);r.toRemove&&this.renderer.removeClass(o,r.toRemove),r.toAdd&&this.renderer.addClass(o,r.toAdd)}configureAdornments(){this.prefix=this.textBoxPrefixTemplate.first||this.prefixTemplate,this.suffix=this.textBoxSuffixTemplate.first||this.suffixTemplate}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j),t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(t.sFG),t.rXU(t.zZn),t.rXU(t.aKT))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-textbox"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,HI,5),t.wni(o,jI,5),t.wni(o,SQe,4),t.wni(o,dQ,4)),2&e){let r;t.mGM(r=t.lsd())&&(n.suffixTemplate=r.first),t.mGM(r=t.lsd())&&(n.prefixTemplate=r.first),t.mGM(r=t.lsd())&&(n.textBoxSuffixTemplate=r),t.mGM(r=t.lsd())&&(n.textBoxPrefixTemplate=r)}},viewQuery:function(e,n){if(1&e&&t.GBs(Wve,7),2&e){let o;t.mGM(o=t.lsd())&&(n.input=o.first)}},hostVars:9,hostBindings:function(e,n){2&e&&(t.BMQ("dir",n.direction),t.AVh("k-readonly",n.readonly)("k-disabled",n.disabledClass)("k-textbox",n.hostClasses)("k-input",n.hostClasses))},inputs:{focusableId:"focusableId",title:"title",type:"type",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",value:"value",selectOnFocus:"selectOnFocus",showSuccessIcon:"showSuccessIcon",showErrorIcon:"showErrorIcon",clearButton:"clearButton",successIcon:"successIcon",successSvgIcon:"successSvgIcon",errorIcon:"errorIcon",errorSvgIcon:"errorSvgIcon",clearButtonIcon:"clearButtonIcon",clearButtonSvgIcon:"clearButtonSvgIcon",size:"size",rounded:"rounded",fillMode:"fillMode",tabIndex:"tabIndex",placeholder:"placeholder",maxlength:"maxlength"},outputs:{valueChange:"valueChange",inputFocus:"inputFocus",inputBlur:"inputBlur",onFocus:"focus",onBlur:"blur"},exportAs:["kendoTextBox"],features:[t.Jv_([j,{provide:Ve,useValue:"kendo.textbox"},{provide:Yn,useExisting:(0,t.Rfq)(()=>s),multi:!0},{provide:as,useExisting:(0,t.Rfq)(()=>s)}]),t.OA$],decls:12,vars:25,consts:()=>{let i;return i="Cancella",[["input",""],["kendoTextBoxLocalizedMessages","","clear",i],["kendoInputSharedEvents","",3,"isFocusedChange","handleBlur","onFocus","hostElement","isFocused","clearButtonClicked"],["class","k-input-prefix k-input-prefix-horizontal",4,"ngIf"],[4,"ngIf"],[1,"k-input-inner",3,"id","disabled","readonly","value","kendoEventsOutsideAngular"],["role","button","class","k-clear-value",3,"tabindex","title","click","mousedown","keydown.enter","keydown.space",4,"ngIf"],["innerCssClass","k-input-validation-icon",3,"name","customFontClass","svgIcon",4,"ngIf"],["class","k-input-suffix k-input-suffix-horizontal",4,"ngIf"],[1,"k-input-prefix","k-input-prefix-horizontal"],[3,"ngTemplateOutlet"],["role","button",1,"k-clear-value",3,"click","mousedown","keydown.enter","keydown.space","tabindex","title"],[3,"name","customFontClass","svgIcon"],["innerCssClass","k-input-validation-icon",3,"name","customFontClass","svgIcon"],[1,"k-input-suffix","k-input-suffix-horizontal"]]},template:function(e,n){if(1&e){const o=t.RV6();t.eu8(0,1),t.qex(1,2),t.mxI("isFocusedChange",function(a){return t.eBV(o),t.DH7(n.isFocused,a)||(n.isFocused=a),t.Njj(a)}),t.bIt("handleBlur",function(){return t.eBV(o),t.Njj(n.handleBlur())})("onFocus",function(){return t.eBV(o),t.Njj(n.handleFocus())}),t.DNE(2,jKe,2,1,"span",3)(3,HKe,1,0,"kendo-input-separator",4),t.nrm(4,"input",5,0),t.DNE(6,$Ke,2,6,"span",6)(7,XKe,1,3,"kendo-icon-wrapper",7)(8,WKe,1,3,"kendo-icon-wrapper",7)(9,YKe,1,0,"kendo-input-separator",4)(10,JKe,2,1,"span",8),t.eu8(11),t.bVm()}2&e&&(t.R7$(),t.Y8G("hostElement",n.hostElement),t.R50("isFocused",n.isFocused),t.Y8G("clearButtonClicked",n.clearButtonClicked),t.R7$(),t.Y8G("ngIf",n.prefix),t.R7$(),t.Y8G("ngIf",n.prefix&&n.prefix.showSeparator),t.R7$(),t.Y8G("id",n.focusableId)("disabled",n.disabled)("readonly",n.readonly)("value",n.value)("kendoEventsOutsideAngular",t.sMw(21,Yve,n.handleInputFocus,n.handleInputBlur,n.handleInput)),t.BMQ("tabindex",n.disabled?void 0:n.tabindex)("type",n.type)("placeholder",n.placeholder)("title",n.title)("maxlength",n.maxlength)("aria-invalid",n.isControlInvalid),t.R7$(2),t.Y8G("ngIf",n.showClearButton),t.R7$(),t.Y8G("ngIf",n.hasErrors),t.R7$(),t.Y8G("ngIf",n.isSuccessful),t.R7$(),t.Y8G("ngIf",n.suffix&&n.suffix.showSeparator),t.R7$(),t.Y8G("ngIf",n.suffix))},dependencies:[n5,Ke,CQe,cQ,W,Je,Vo],encapsulation:2}),s})(),y0=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,zo,s5,An,zc,o5],zo,zc]}),s})(),wQe=(()=>{class s{constructor(e,n,o,r,a,l){this.localizationService=e,this.ngZone=n,this.changeDetector=o,this.renderer=r,this.injector=a,this.hostElement=l,this.title="",this.disabled=!1,this.readonly=!1,this.value=null,this.selectOnFocus=!1,this.inputFocus=new t.bkB,this.inputBlur=new t.bkB,this.subscriptions=new be.yU,this._isFocused=!1,this.focusChangedProgrammatically=!1,this.handleInputBlur=()=>{this.changeDetector.markForCheck(),(ke(this.inputBlur)||uw(this.control))&&this.ngZone.run(()=>{this.ngTouched(),this.inputBlur.emit()})},this.ngChange=c=>{},this.ngTouched=()=>{}}get disabledClass(){return this.disabled}ngOnDestroy(){this.subscriptions.unsubscribe()}setDisabledState(e){this.changeDetector.markForCheck(),this.disabled=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j),t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(t.sFG),t.rXU(t.zZn),t.rXU(t.aKT))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-textfield-base"]],viewQuery:function(e,n){if(1&e&&t.GBs(Wve,7),2&e){let o;t.mGM(o=t.lsd())&&(n.input=o.first)}},hostVars:5,hostBindings:function(e,n){2&e&&(t.BMQ("dir",n.direction),t.AVh("k-readonly",n.readonly)("k-disabled",n.disabledClass))},inputs:{title:"title",disabled:"disabled",readonly:"readonly",value:"value",selectOnFocus:"selectOnFocus",placeholder:"placeholder"},outputs:{inputFocus:"inputFocus",inputBlur:"inputBlur"},decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),DQe=(()=>{class s{constructor(){this.flow="vertical",this.orientation="horizontal",this.hostClass=!0}get verticalOrientation(){return"vertical"===this.orientation}get horizontalOrientation(){return"horizontal"===this.orientation}get alignItems(){return this.flow===this.orientation}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-textarea-prefix"]],hostVars:8,hostBindings:function(e,n){2&e&&t.AVh("k-input-prefix",n.hostClass)("k-input-prefix-vertical",n.verticalOrientation)("k-input-prefix-horizontal",n.horizontalOrientation)("!k-align-items-start",n.alignItems)},inputs:{flow:"flow",orientation:"orientation"},exportAs:["kendoTextAreaPrefix"],ngContentSelectors:YF,decls:1,vars:0,template:function(e,n){1&e&&(t.NAR(),t.SdG(0))},encapsulation:2}),s})(),OQe=(()=>{class s{constructor(){this.flow="vertical",this.orientation="horizontal",this.hostClass=!0}get verticalOrientation(){return"vertical"===this.orientation}get horizontalOrientation(){return"horizontal"===this.orientation}get alignItems(){return this.flow===this.orientation}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-textarea-suffix"]],hostVars:8,hostBindings:function(e,n){2&e&&t.AVh("k-input-suffix",n.hostClass)("k-input-suffix-vertical",n.verticalOrientation)("k-input-suffix-horizontal",n.horizontalOrientation)("!k-align-items-start",n.alignItems)},inputs:{flow:"flow",orientation:"orientation"},exportAs:["kendoTextAreaSuffix"],ngContentSelectors:YF,decls:1,vars:0,template:function(e,n){1&e&&(t.NAR(),t.SdG(0))},encapsulation:2}),s})();const TQe={vertical:"k-resize-y",horizontal:"k-resize-x",both:"k-resize",none:"k-resize-none",auto:"k-resize-none"};let uQ=(()=>{class s extends wQe{constructor(e,n,o,r,a,l){super(e,n,o,r,a,l),this.localizationService=e,this.ngZone=n,this.changeDetector=o,this.renderer=r,this.injector=a,this.hostElement=l,this.focusableId=`k-${rn()}`,this.hostClasses=!0,this._flow="vertical",this.tabindex=0,this.resizable="vertical",this.showPrefixSeparator=!1,this.showSuffixSeparator=!1,this.onFocus=new t.bkB,this.onBlur=new t.bkB,this.valueChange=new t.bkB,this._size="medium",this._rounded="medium",this._fillMode="solid",this._adornmentsOrientation="horizontal",this.handleInput=c=>{this.updateValue(c.target.value),this.resize()},this.handleInputFocus=()=>{this.disabled||(this.selectOnFocus&&this.value&&this.ngZone.run(()=>{setTimeout(()=>{this.selectAll()})}),this.isFocused||this.handleFocus(),ke(this.inputFocus)&&(this.focusChangedProgrammatically||this.ngZone.run(()=>{this.inputFocus.emit()})))},(0,mt.$)($u),this.direction=e.rtl?"rtl":"ltr"}get flowCol(){return"vertical"===this.flow}get flowRow(){return"horizontal"===this.flow}set flow(e){this._flow=e,this.prefix&&(this.prefix.flow=e),this.suffix&&(this.suffix.flow=e)}get flow(){return this._flow}set adornmentsOrientation(e){this._adornmentsOrientation=e,this.prefix&&(this.prefix.orientation=e),this.suffix&&(this.suffix.orientation=e)}get adornmentsOrientation(){return this._adornmentsOrientation}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set size(e){const n=e||"medium";this.handleClasses(n,"size"),this._size=n}get size(){return this._size}set rounded(e){const n=e||"medium";this.handleClasses(n,"rounded"),this._rounded=n}get rounded(){return this._rounded}set fillMode(e){const n=e||"solid";this.handleClasses(n,"fillMode"),this._fillMode=n}get fillMode(){return this._fillMode}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.handleFlow()}),["size","rounded","fillMode"].forEach(n=>{this.handleClasses(this[n],n)})}ngOnInit(){this.control=this.injector.get(Ri,null),ne()&&"auto"===this.resizable&&(this.resizeSubscription=wt(window,"resize").pipe(kv(50)).subscribe(()=>this.resize())),this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.subscriptions=this.localizationService.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr"})}ngOnChanges(e){const n=this.hostElement.nativeElement,o=this.input.nativeElement;e.flow&&this.handleFlow(),e.resizable&&("auto"===this.resizable?(this.renderer.removeClass(o,"!k-overflow-y-auto"),this.initialHeight=o.offsetHeight):(this.renderer.addClass(o,"!k-overflow-y-auto"),o.style.height=`${this.initialHeight}px`)),e.cols&&(Bn(e.cols.currentValue)?this.renderer.setStyle(n,"width","auto"):this.renderer.removeStyle(n,"width")),e.value&&this.resize()}writeValue(e){this.value=e,this.resize()}registerOnChange(e){this.ngChange=e}registerOnTouched(e){this.ngTouched=e}updateValue(e){Y_(this.value,e)||this.ngZone.run(()=>{this.value=e,this.ngChange(e),this.valueChange.emit(e),this.changeDetector.markForCheck()})}ngOnDestroy(){super.ngOnDestroy(),this.resizeSubscription&&this.resizeSubscription.unsubscribe()}get resizableClass(){return TQe[this.resizable]}get isControlInvalid(){return this.control&&this.control.touched&&!this.control.valid}get separatorOrientation(){return"horizontal"===this.flow?"vertical":"horizontal"}get isFocused(){return this._isFocused}set isFocused(e){if(this._isFocused!==e&&this.hostElement){const n=this.hostElement.nativeElement;e&&!this.disabled?this.renderer.addClass(n,"k-focus"):this.renderer.removeClass(n,"k-focus"),this._isFocused=e}}focus(){this.input&&(this.focusChangedProgrammatically=!0,this.isFocused=!0,this.input.nativeElement.focus(),this.focusChangedProgrammatically=!1)}blur(){this.focusChangedProgrammatically=!0;const e=this.hostElement.nativeElement.querySelector(":focus");e&&e.blur(),this.isFocused=!1,this.focusChangedProgrammatically=!1}resize(){"auto"===this.resizable&&this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{const e=this.hostElement.nativeElement,n=this.input.nativeElement;this.renderer.setStyle(n,"height",`${this.initialHeight}px`);const o=n.scrollHeight;this.renderer.setStyle(e,"min-height",`${o}px`),o>this.initialHeight&&this.renderer.setStyle(n,"height",`${o}px`)},0)})}handleFocus(){this.ngZone.run(()=>{!this.focusChangedProgrammatically&&ke(this.onFocus)&&this.onFocus.emit(),this.isFocused=!0})}handleBlur(){this.ngZone.run(()=>{this.focusChangedProgrammatically||this.onBlur.emit(),this.isFocused=!1})}setSelection(e,n){this.isFocused&&q_(this.input,"setSelectionRange",e,n)}selectAll(){this.value&&this.setSelection(0,this.value.length)}handleClasses(e,n){const o=this.hostElement.nativeElement,r=K_("input",n,this[n],e);r.toRemove&&this.renderer.removeClass(o,r.toRemove),r.toAdd&&this.renderer.addClass(o,r.toAdd)}handleFlow(){this.renderer["vertical"===this.flow?"addClass":"removeClass"](this.input.nativeElement,"!k-flex-none")}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j),t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(t.sFG),t.rXU(t.zZn),t.rXU(t.aKT))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-textarea"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,DQe,5),t.wni(o,OQe,5)),2&e){let r;t.mGM(r=t.lsd())&&(n.prefix=r.first),t.mGM(r=t.lsd())&&(n.suffix=r.first)}},hostVars:8,hostBindings:function(e,n){2&e&&t.AVh("k-textarea",n.hostClasses)("k-input",n.hostClasses)("!k-flex-col",n.flowCol)("!k-flex-row",n.flowRow)},inputs:{focusableId:"focusableId",flow:"flow",adornmentsOrientation:"adornmentsOrientation",rows:"rows",cols:"cols",maxlength:"maxlength",tabindex:"tabindex",tabIndex:"tabIndex",resizable:"resizable",size:"size",rounded:"rounded",fillMode:"fillMode",showPrefixSeparator:"showPrefixSeparator",showSuffixSeparator:"showSuffixSeparator"},outputs:{onFocus:"focus",onBlur:"blur",valueChange:"valueChange"},exportAs:["kendoTextArea"],features:[t.Jv_([j,{provide:Ve,useValue:"kendo.textarea"},{provide:Yn,useExisting:(0,t.Rfq)(()=>s),multi:!0},{provide:as,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3,t.OA$],ngContentSelectors:QKe,decls:8,vars:24,consts:[["input",""],["kendoInputSharedEvents","",3,"isFocusedChange","handleBlur","onFocus","hostElement","isFocused"],[3,"orientation",4,"ngIf"],[1,"k-input-inner","!k-overflow-auto",3,"ngClass","id","value","disabled","readonly","kendoEventsOutsideAngular"],[3,"orientation"]],template:function(e,n){if(1&e){const o=t.RV6();t.NAR(qKe),t.qex(0,1),t.mxI("isFocusedChange",function(a){return t.eBV(o),t.DH7(n.isFocused,a)||(n.isFocused=a),t.Njj(a)}),t.bIt("handleBlur",function(){return t.eBV(o),t.Njj(n.handleBlur())})("onFocus",function(){return t.eBV(o),t.Njj(n.handleFocus())}),t.SdG(1),t.DNE(2,ZKe,1,1,"kendo-input-separator",2),t.j41(3,"textarea",3,0),t.EFF(5,"            "),t.k0s(),t.DNE(6,eJe,1,1,"kendo-input-separator",2),t.SdG(7,1),t.bVm()}2&e&&(t.Y8G("hostElement",n.hostElement),t.R50("isFocused",n.isFocused),t.R7$(2),t.Y8G("ngIf",n.prefix&&n.showPrefixSeparator),t.R7$(),t.Y8G("ngClass",n.resizableClass)("id",n.focusableId)("value",n.value)("disabled",n.disabled)("readonly",n.readonly)("kendoEventsOutsideAngular",t.sMw(20,Yve,n.handleInputFocus,n.handleInputBlur,n.handleInput)),t.BMQ("aria-multiline",!0)("aria-disabled",!!n.disabled||void 0)("aria-readonly",!!n.readonly||void 0)("placeholder",n.placeholder)("rows",n.rows)("cols",n.cols)("tabindex",n.tabIndex)("title",n.title)("maxlength",n.maxlength)("aria-invalid",n.isControlInvalid),t.R7$(3),t.Y8G("ngIf",n.suffix&&n.showSuffixSeparator))},dependencies:[n5,cQ,W,Pe,Vo],encapsulation:2}),s})(),hQ=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,zo,s5,zc,o5],zo,zc]}),s})(),pQ=(()=>{class s extends j{constructor(e,n,o){super(e,n,o)}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Ve),t.KVO(Gu,8),t.KVO(Vc,8))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),r5=(()=>{class s extends j{constructor(e,n,o,r){super(e,n,o),this.colorPickerLocalization=r}get(e){return this.colorPickerLocalization?this.colorPickerLocalization.get(e):super.get(e)}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Ve),t.KVO(Gu,8),t.KVO(Vc,8),t.KVO(pQ,8))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const ISe="accessible",k0={basic:{colors:"000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",columns:10},office:{colors:"ffffff, 000000, e6e6e6, 435569, 4371c4, ed7e32, a5a4a5, febf04, 5a9bd5, 71ae48, f2f2f3, 7f7f7f, d1cece, d5dde3, dae1f4, fce5d4, deeded, fff2cc, deeaf6, e1efd9, d7d8d8, 585959, aeabab, adbaca, b4c5e7, f6caac, dbdbdb, ffe498, bcd6ee, c5e0b2, bfbfc0, 3f3f3f, 767070, 8595b1, 8fabdb, f5b183, c9c8c9, fed965, 9bc4e5, a8d08d, a5a5a6, 262625, 393939, 334050, 2e5496, c45a11, 7b7b7a, bf9000, 2f75b5, 548235, 7f7f7f, 0b0c0c, 161616, 222a34, 203764, 843d0b, 525252, 7f6000, 1d4d79, 375623",columns:10},apex:{colors:"ffffff, 000000, c9c2d1, 69676d, ceb966, 9cb084, 6bb1c9, 6585cf, 7e6bc9, a379bb, f2f2f2, 7f7f7f, f4f2f5, e0e0e2, f5f1e0, ebefe6, e1eff4, e0e6f5, e5e1f4, ece4f1, d8d8d8, 595959, e9e6ec, c2c1c5, ebe3c1, d7dfcd, c3dfe9, c1ceeb, cbc3e9, dac9e3, bfbfbf, 3f3f3f, dedae3, a4a3a8, e1d5a3, c3cfb5, a6d0de, a2b5e2, b1a6de, c7aed6, a5a5a5, 262626, 9688a5, 4e4d51, ae9638, 758c5a, 3d8da9, 365bb0, 533da9, 7d4d99, 7f7f7f, 0c0c0c, 635672, 343336, 746425, 4e5d3c, 295e70, 243c75, 372970, 533366",columns:10},austin:{colors:"ffffff, 000000, caf278, 3e3d2d, 94c600, 71685a, ff6700, 909465, 956b43, fea022, f2f2f2, 7f7f7f, f4fce4, dddcd0, efffc0, e3e1dc, ffe0cb, e8e9df, ece1d6, feecd2, d8d8d8, 595959, e9f9c9, bbb9a1, dfff82, c8c3ba, ffc299, d2d4c0, dac3ad, fed9a6, bfbfbf, 3f3f3f, dff7ae, ada598, cfff43, ada598, ffa365, bcbfa1, c8a585, fec67a, a5a5a5, 262626, a9ea25, 2e2d21, 6f9400, 544e43, bf4d00, 6c6f4b, 6f5032, d77b00, 7f7f7f, 0c0c0c, 74a50f, 1f1e16, 4a6300, 38342d, 7f3300, 484a32, 4a3521, 8f5200",columns:10},clarity:{colors:"ffffff, 292934, f3f2dc, d2533c, 93a299, ad8f67, 726056, 4c5a6a, 808da0, 79463d, f2f2f2, e7e7ec, e7e5b9, f6dcd8, e9ecea, eee8e0, e4dedb, d8dde3, e5e8ec, e9d6d3, d8d8d8, c4c4d1, d5d185, edbab1, d3d9d6, ded2c2, c9beb8, b2bcc8, ccd1d9, d3aea7, bfbfbf, 8a8aa3, aca73b, e4978a, bec7c1, cdbba3, af9e94, 8c9bac, b2bac6, bd857c, a5a5a5, 56566e, 56531d, a43925, 6b7c72, 866b48, 554840, 39434f, 5c697b, 5a342d, 7f7f7f, 3b3b4b, 22210b, 6d2619, 47534c, 594730, 39302b, 262d35, 3d4652, 3c231e",columns:10},slipstream:{colors:"ffffff, 000000, b4dcfa, 212745, 4e67c8, 5eccf3, a7ea52, 5dceaf, ff8021, f14124, f2f2f2, 7f7f7f, 8bc9f7, c7cce4, dbe0f4, def4fc, edfadc, def5ef, ffe5d2, fcd9d3, d8d8d8, 595959, 4facf3, 909aca, b8c2e9, beeafa, dbf6b9, beebdf, ffcca6, f9b3a7, bfbfbf, 3f3f3f, 0d78c9, 5967af, 94a3de, 9ee0f7, caf297, 9de1cf, ffb279, f68d7b, a5a5a5, 262626, 063c64, 181d33, 31479f, 11b2eb, 81d319, 34ac8b, d85c00, c3260c, 7f7f7f, 0c0c0c, 021828, 101322, 202f6a, 0b769c, 568c11, 22725c, 903d00, 821908",columns:10},metro:{colors:"ffffff, 000000, d6ecff, 4e5b6f, 7fd13b, ea157a, feb80a, 00addc, 738ac8, 1ab39f, f2f2f2, 7f7f7f, a7d6ff, d9dde4, e5f5d7, fad0e4, fef0cd, c5f2ff, e2e7f4, c9f7f1, d8d8d8, 595959, 60b5ff, b3bcca, cbecb0, f6a1c9, fee29c, 8be6ff, c7d0e9, 94efe3, bfbfbf, 3f3f3f, 007dea, 8d9baf, b2e389, f272af, fed46b, 51d9ff, aab8de, 5fe7d5, a5a5a5, 262626, 003e75, 3a4453, 5ea226, af0f5b, c58c00, 0081a5, 425ea9, 138677, 7f7f7f, 0c0c0c, 00192e, 272d37, 3f6c19, 750a3d, 835d00, 00566e, 2c3f71, 0c594f",columns:10},flow:{colors:"ffffff, 000000, dbf5f9, 04617b, 0f6fc6, 009dd9, 0bd0d9, 10cf9b, 7cca62, a5c249, f2f2f2, 7f7f7f, b2e9f2, b4ecfc, c7e2fa, c4eeff, c9fafc, c9faed, e4f4df, edf2da, d8d8d8, 595959, 76d9e8, 6adafa, 90c6f6, 89deff, 93f5f9, 94f6db, cae9c0, dbe6b6, bfbfbf, 3f3f3f, 21b2c8, 20c8f7, 59a9f2, 4fceff, 5df0f6, 5ff2ca, b0dfa0, c9da91, a5a5a5, 262626, 105964, 02485c, 0b5394, 0075a2, 089ca2, 0b9b74, 54a838, 7e9532, 7f7f7f, 0c0c0c, 062328, 01303d, 073763, 004e6c, 05686c, 07674d, 387025, 546321",columns:10},hardcover:{colors:"ffffff, 000000, ece9c6, 895d1d, 873624, d6862d, d0be40, 877f6c, 972109, aeb795, f2f2f2, 7f7f7f, e1dca5, f2e0c6, f0d0c9, f6e6d5, f5f2d8, e7e5e1, fbc7bc, eef0e9, d8d8d8, 595959, d0c974, e6c28d, e2a293, eeceaa, ece5b2, cfccc3, f78f7a, dee2d4, bfbfbf, 3f3f3f, a29a36, daa454, d4735e, e6b681, e2d88c, b7b2a5, f35838, ced3bf, a5a5a5, 262626, 514d1b, 664515, 65281a, a2641f, a39428, 655f50, 711806, 879464, 7f7f7f, 0c0c0c, 201e0a, 442e0e, 431b11, 6c4315, 6d621a, 433f35, 4b1004, 5a6243",columns:10},trek:{colors:"ffffff, 000000, fbeec9, 4e3b30, f0a22e, a5644e, b58b80, c3986d, a19574, c17529, f2f2f2, 7f7f7f, f7e09e, e1d6cf, fcecd5, eddfda, f0e7e5, f3eae1, ece9e3, f5e3d1, d8d8d8, 595959, f3cc5f, c4ad9f, f9d9ab, dcc0b6, e1d0cc, e7d5c4, d9d4c7, ebc7a3, bfbfbf, 3f3f3f, d29f0f, a78470, f6c781, cba092, d2b9b2, dbc1a7, c6bfab, e1ac76, a5a5a5, 262626, 694f07, 3a2c24, c87d0e, 7b4b3a, 926255, a17242, 7b7153, 90571e, 7f7f7f, 0c0c0c, 2a1f03, 271d18, 855309, 523226, 614138, 6b4c2c, 524b37, 603a14",columns:10},verve:{colors:"ffffff, 000000, d2d2d2, 666666, ff388c, e40059, 9c007f, 68007f, 005bd3, 00349e, f2f2f2, 7f7f7f, bdbdbd, e0e0e0, ffd7e8, ffc6dc, ffb8f1, f1b2ff, c3dcff, b8cfff, d8d8d8, 595959, 9d9d9d, c1c1c1, ffafd1, ff8eba, ff71e4, e365ff, 87baff, 72a0ff, bfbfbf, 3f3f3f, 696969, a3a3a3, ff87ba, ff5597, ff2ad7, d519ff, 4b98ff, 2b71ff, a5a5a5, 262626, 343434, 4c4c4c, e90062, ab0042, 75005f, 4e005f, 00449e, 002676, 7f7f7f, 0c0c0c, 151515, 333333, 9b0041, 72002c, 4e003f, 34003f, 002d69, 00194f",columns:10},monochrome:{colors:"000000, 1a1a1a, 333333, 4d4d4d, 666666, 808080, 999999, b3b3b3, cccccc, e6e6e6, f2f2f2, ffffff",columns:12},accessible:{colors:"black, grey, darkred, red, darkorange, gold, green, blue, darkblue, purple, white, darkgrey, saddlebrown, pink, orange, yellow, lightgreen, lightskyblue, lightblue, mediumpurple",columns:10}};let xSe=(()=>{class s{getPaletteSettings(e,n){const r=e.palette;return{palette:r||("name"!==n?"office":ISe),tileSize:e.tileSize||24,columns:e.columns||("string"==typeof r&&k0[r]?k0[r].columns:void 0)||10}}paletteTileLayout(e){return"number"==typeof e?{width:e,height:e}:{width:e.width?e.width:e.height,height:e.height?e.height:e.width}}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();class NQe extends Wa{constructor(i){super(),this.originalEvent=i}}class LQe extends Wa{}class GQe extends Wa{}class PQe{constructor(i){this.color=i,this.openPrevented=!1}preventOpen(){this.openPrevented=!0}isOpenPrevented(){return this.openPrevented}}const Hr=(s,i,e=!1,n=!0)=>{if(-1===["hex","rgba","name"].indexOf(i))throw new Error(`Unsupported color output format '${i}'. The available options are 'hex', 'rgba' or 'name'.`);if(!Bn(s))return;if("name"===i)return function BQe(s,i){if(s=s.toLowerCase().trim(),Bn(dw[s]))return s;zu(s,i)&&(s=zu(s,i).toHex());const e=Object.keys(dw).find(n=>dw[n]===s);if(!e&&!i)throw new Error(`The provided color ${s} is not supported for 'format="name"' property.To display ${s} color, the component 'format' property should be set to 'hex' or 'rgba' `);return e}(s,n);const r=zu(s.trim(),n);return Bn(r)?"hex"===i?ASe(r,e):r.toCssRgba():void 0},Rv=(s,i=!0)=>{const e=zu(s,i);return Bn(e)?e.toBytes():{}},Nv=(s,i="rgba",e=!1)=>{const n=Ya(s.h,0,359.9),o=Ya(s.s,0,1),r=Ya(s.v,0,1),a=Ya(s.a,0,1),l=ju.fromHSV(n,o,r,a);return"hex"===i?ASe(l,e):l.toCssRgba()},ASe=(s,i)=>i&&s.a<1?s.toCss({alpha:!0}):s.toCss(),RSe=s=>Nv({h:s,s:1,v:1,a:1}),NSe=(s,i)=>{const e=Ya(s.r,0,255),n=Ya(s.g,0,255),o=Ya(s.b,0,255),r=Ya(s.a,0,1),a=Ya(i.r,0,255),l=Ya(i.g,0,255),c=Ya(i.b,0,255);return{r:Math.round((1-r)*a+r*e),g:Math.round((1-r)*l+r*n),b:Math.round((1-r)*c+r*o)}},LSe=s=>{const i=[s.r,s.g,s.b].map(function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return.2126*i[0]+.7152*i[1]+.0722*i[2]},GSe=(s,i)=>((s,i)=>(Math.max(s,i)+.05)/(Math.min(s,i)+.05))(LSe(NSe(s,i)),LSe(NSe(i,{r:0,g:0,b:0,a:1}))),HQe=(s,i)=>{const e=i[0]-s[0],n=i[1]-s[1];return{length:Math.sqrt(Math.pow(e,2)+Math.pow(n,2)),angle:Math.atan2(n,e)}},d5=(s,i)=>0===s.length?"":s.reduce((n,o,r,a)=>0===r?`M ${o[0]},${o[1]}`:`${n} ${i(o,r,a)}`,"");let PSe=(()=>{class s extends j{constructor(e,n,o,r){super(e,n,o),this.flatColorPickerLocalization=r}get(e){return this.flatColorPickerLocalization?this.flatColorPickerLocalization.get(e):super.get(e)}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Ve),t.KVO(Gu,8),t.KVO(Vc,8),t.KVO(r5,8))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),FSe=(()=>{class s{constructor(e){this.host=e}ngOnInit(){this.host.numericInput.nativeElement.setAttribute("aria-label",this.localizationService.get(`${this.kendoAdditionalNumericLabel}ChannelLabel`))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU($c))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoAdditionalNumericLabel",""]],inputs:{kendoAdditionalNumericLabel:"kendoAdditionalNumericLabel",localizationService:"localizationService"}}),s})(),USe=(()=>{class s{constructor(e,n,o){this.host=e,this.renderer=n,this.localizationService=o,this.focusableId=`k-${rn()}`,this.tabindex=-1,this.opacity=!0,this.disabled=!1,this.readonly=!1,this.valueChange=new t.bkB,this.tabOut=new t.bkB,this.colorInputClass=!0,this.rgba={},this.caretAltExpandIcon=xG,this.subscriptions=new be.yU}get isFocused(){if(!ne()||!Bn(this.host))return!1;const e=document.activeElement;return this.host.nativeElement.contains(e)}get rgbaInputValid(){return Object.keys(this.rgba).every(e=>Bn(this.rgba[e]))}ngAfterViewInit(){this.initDomEvents()}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}ngOnChanges(e){Bn(e.value)&&!this.isFocused&&(this.hex=Hr(this.value,"hex",this.opacity),this.rgba=Rv(this.value),this.rgba.a=Hr(this.value,"rgba",this.opacity)?this.rgba.a:1)}get formatButtonTitle(){return this.localizationService.get("formatButton")}handleRgbaValueChange(){const e=(s=>{const i=Ya(s.r,0,255),e=Ya(s.g,0,255),n=Ya(s.b,0,255),o=Ya(s.a,0,1);return ju.fromBytes(i,e,n,o).toCssRgba()})(this.rgba);!this.rgbaInputValid||e===this.value||(this.value=e,this.rgba=Rv(this.value),this.hex=Hr(e,"hex",this.opacity),this.valueChange.emit(e))}focusDragHandle(e){e.preventDefault(),e.stopImmediatePropagation(),this.tabOut.emit()}handleHexValueChange(e){this.hex=e;const n=Hr(e,"rgba",this.opacity);!Bn(n)||n===this.value||(this.value=n,this.rgba=Rv(n),this.valueChange.emit(n))}handleRgbaInputBlur(){this.rgbaInputValid||(this.rgba=Rv(this.value))}handleHexInputBlur(){this.hex=Hr(this.value,"hex",this.opacity)}focusLast(){this.lastInput().focus()}onTab(){}toggleFormatView(){this.formatView="hex"===this.formatView?"rgba":"hex"}initDomEvents(){this.host&&this.subscriptions.add(this.renderer.listen(this.toggleFormatButton.nativeElement,"click",()=>this.toggleFormatView()))}lastInput(){return this.hexInput?.nativeElement||this.opacityInput||this.blueInput}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-colorinput"]],viewQuery:function(e,n){if(1&e&&(t.GBs(tJe,5),t.GBs(nJe,5),t.GBs(iJe,5),t.GBs(sJe,5,t.aKT)),2&e){let o;t.mGM(o=t.lsd())&&(n.opacityInput=o.first),t.mGM(o=t.lsd())&&(n.hexInput=o.first),t.mGM(o=t.lsd())&&(n.blueInput=o.first),t.mGM(o=t.lsd())&&(n.toggleFormatButton=o.first)}},hostVars:4,hostBindings:function(e,n){2&e&&t.AVh("k-colorgradient-inputs",n.colorInputClass)("k-hstack",n.colorInputClass)},inputs:{focusableId:"focusableId",formatView:"formatView",tabindex:"tabindex",value:"value",opacity:"opacity",disabled:"disabled",readonly:"readonly"},outputs:{valueChange:"valueChange",tabOut:"tabOut"},features:[t.OA$],decls:5,vars:7,consts:[["toggleFormatButton",""],["hexInput",""],["red",""],["green",""],["blue",""],["opacityInput","","alpha",""],[1,"k-vstack"],["kendoButton","","type","button","fillMode","flat","icon","caret-alt-expand",1,"k-colorgradient-toggle-mode",3,"svgIcon","disabled","tabindex"],["class","k-vstack",4,"ngIf"],[4,"ngIf"],[1,"k-input","k-textbox","k-input-solid","k-input-md","k-rounded-md","k-hex-value",3,"blur","input","keydown.tab","id","disabled","readonly","value","tabindex"],[1,"k-colorgradient-input-label",3,"for"],["kendoAdditionalNumericLabel","red",3,"valueChange","blur","localizationService","disabled","readonly","tabindex","min","max","value","autoCorrect","spinners","format","decimals"],["kendoAdditionalNumericLabel","green",3,"valueChange","blur","localizationService","disabled","readonly","tabindex","min","max","value","autoCorrect","spinners","format","decimals"],["kendoAdditionalNumericLabel","blue",3,"valueChange","blur","keydown.tab","localizationService","disabled","readonly","tabindex","min","max","value","autoCorrect","spinners","format","decimals"],["kendoAdditionalNumericLabel","alpha",3,"valueChange","blur","keydown.tab","localizationService","disabled","readonly","tabindex","min","max","value","autoCorrect","spinners","step","format","decimals"]],template:function(e,n){1&e&&(t.j41(0,"div",6),t.nrm(1,"button",7,0),t.k0s(),t.DNE(3,oJe,5,8,"div",8)(4,aJe,17,37,"ng-container",9)),2&e&&(t.R7$(),t.Y8G("svgIcon",n.caretAltExpandIcon)("disabled",n.disabled)("tabindex",n.tabindex.toString()),t.BMQ("aria-label",n.formatButtonTitle)("title",n.formatButtonTitle),t.R7$(2),t.Y8G("ngIf","hex"===n.formatView),t.R7$(),t.Y8G("ngIf","rgba"===n.formatView))},dependencies:[$t,$c,W,FSe],encapsulation:2}),s})(),BSe=(()=>{class s{constructor(){this.hostClass=!0}ngAfterViewInit(){ne()&&(this.metrics=this.wrapper.getBoundingClientRect(),this.oldA=this.hsva.value.a,this.oldH=this.hsva.value.h,this.hsva.subscribe(e=>{(e.h!==this.oldH||e.a!==this.oldA)&&(this.oldH=e.h,this.oldA=e.a,this.setPaths())}))}ngOnChanges(e){Bn(e.backgroundColor)&&this.metrics&&this.setPaths()}setPaths(){const e=(s=>(i,e,n)=>{const[o,r]=s(n[e-1],n[e-2],i),[a,l]=s(i,n[e-1],n[e+1],!0);return`C ${o},${r} ${a},${l} ${i[0]},${i[1]}`})((s=>(i,e,n,o)=>{const c=s(e||i,n||i),u=c.angle+(o?Math.PI:0),f=.1*c.length;return[i[0]+Math.cos(u)*f,i[1]+Math.sin(u)*f]})(HQe));this.paths=[d5(this.getPaths(4.5,16),e),d5(this.getPaths(4.5,16,!0),e),d5(this.getPaths(7,16),e),d5(this.getPaths(7,16,!0),e)]}findValue(e,n,o,r,a){const l=(o+r)/2,c=Object.assign({},this.hsva.value,{s:n/this.metrics.width,v:1-l/this.metrics.height}),u=GSe(Rv(Nv(c)),Rv(this.backgroundColor||""));return o+.5>r?u<e+1&&u>e-1?l:null:a(u,e)?this.findValue(e,n,o,r-(r-o)/2,a):this.findValue(e,n,o+(r-o)/2,r,a)}getPaths(e,n,o=!1){const r=[];for(let a=0;a<=this.metrics.width;a+=this.metrics.width/n){const l=this.findValue(e,a,0,this.metrics.height,o?(c,u)=>c<u:(c,u)=>c>u);null!==l&&r.push([a,l])}return r}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoColorContrastSvg",""]],hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-color-contrast-svg",n.hostClass)},inputs:{wrapper:"wrapper",hsva:"hsva",backgroundColor:"backgroundColor"},features:[t.OA$],attrs:lJe,decls:1,vars:1,consts:[["fill","none","stroke","white","stroke-width","1",4,"ngFor","ngForOf"],["fill","none","stroke","white","stroke-width","1"]],template:function(e,n){1&e&&t.DNE(0,cJe,1,1,"path",0),2&e&&t.Y8G("ngForOf",n.paths)},dependencies:[st],encapsulation:2}),s})(),VSe=(()=>{class s{constructor(e){this.localization=e,this.checkIcon=YC,this.xCircleIcon=Lf}get passMessage(){return this.localization.get("passContrast")}get failMessage(){return this.localization.get("failContrast")}get contrastText(){return`${this.type}: ${("AA"===this.type?4.5:7).toFixed(1)}`}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoContrastValidation",""]],inputs:{type:"type",pass:"pass",value:"value"},attrs:dJe,decls:3,vars:2,consts:[[4,"ngIf"],["class","k-contrast-validation k-text-success",4,"ngIf"],["class","k-contrast-validation k-text-error",4,"ngIf"],[1,"k-contrast-validation","k-text-success"],["name","check",3,"svgIcon"],[1,"k-contrast-validation","k-text-error"],["name","x",3,"svgIcon"]],template:function(e,n){1&e&&(t.j41(0,"span"),t.EFF(1),t.k0s(),t.DNE(2,pJe,3,2,"ng-container",0)),2&e&&(t.R7$(),t.JRh(n.contrastText),t.R7$(),t.Y8G("ngIf",n.value))},dependencies:[Ke,W],encapsulation:2}),s})(),zSe=(()=>{class s{constructor(e){this.localization=e,this.checkIcon=YC,this.xCircleIcon=Lf}get formatedRatio(){return this.contrastRatio.toFixed(2)}get contrastRatioText(){return`${this.localization.get("contrastRatio")}: ${this.value?this.formatedRatio:"n/a"}`}get satisfiesAACondition(){return this.contrastRatio>=4.5}get satisfiesAAACondition(){return this.contrastRatio>=7}get contrastRatio(){return GSe(Rv(this.value),Rv(this.ratio))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoContrastTool",""]],inputs:{value:"value",ratio:"ratio"},attrs:fJe,decls:6,vars:6,consts:[[1,"k-contrast-ratio"],[1,"k-contrast-ratio-text"],[4,"ngIf"],["kendoContrastValidation","","type","AA",3,"value","pass"],["kendoContrastValidation","","type","AAA",3,"value","pass"],["class","k-contrast-validation k-text-success",4,"ngIf"],["class","k-contrast-validation k-text-error",4,"ngIf"],[1,"k-contrast-validation","k-text-success"],["name","check",3,"svgIcon"],["name","check",3,"svgIcon",4,"ngIf"],[1,"k-contrast-validation","k-text-error"],["name","x",3,"svgIcon"]],template:function(e,n){1&e&&(t.j41(0,"div",0)(1,"span",1),t.EFF(2),t.k0s(),t.DNE(3,vJe,3,2,"ng-container",2),t.k0s(),t.nrm(4,"div",3)(5,"div",4)),2&e&&(t.R7$(2),t.JRh(n.contrastRatioText),t.R7$(),t.Y8G("ngIf",n.value),t.R7$(),t.Y8G("value",n.value)("pass",n.satisfiesAACondition),t.R7$(),t.Y8G("value",n.value)("pass",n.satisfiesAAACondition))},dependencies:[Ke,VSe,W],encapsulation:2}),s})(),u5=(()=>{class s extends Gi{}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275dir=t.FsC({type:s,selectors:[["kendo-colorpicker-messages-base"]],inputs:{colorPaletteNoColor:"colorPaletteNoColor",colorGradientNoColor:"colorGradientNoColor",flatColorPickerNoColor:"flatColorPickerNoColor",colorPickerNoColor:"colorPickerNoColor",colorGradientHandle:"colorGradientHandle",clearButton:"clearButton",hueSliderHandle:"hueSliderHandle",opacitySliderHandle:"opacitySliderHandle",hexInputPlaceholder:"hexInputPlaceholder",redInputPlaceholder:"redInputPlaceholder",greenInputPlaceholder:"greenInputPlaceholder",blueInputPlaceholder:"blueInputPlaceholder",alphaInputPlaceholder:"alphaInputPlaceholder",redChannelLabel:"redChannelLabel",greenChannelLabel:"greenChannelLabel",blueChannelLabel:"blueChannelLabel",alphaChannelLabel:"alphaChannelLabel",passContrast:"passContrast",failContrast:"failContrast",contrastRatio:"contrastRatio",previewColor:"previewColor",revertSelection:"revertSelection",gradientView:"gradientView",paletteView:"paletteView",formatButton:"formatButton",applyButton:"applyButton",cancelButton:"cancelButton"},features:[t.Vt3]}),s})(),gx=(()=>{class s extends u5{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoColorPickerLocalizedMessages",""],["","kendoFlatColorPickerLocalizedMessages",""],["","kendoColorGradientLocalizedMessages",""],["","kendoColorPaletteLocalizedMessages",""]],features:[t.Jv_([{provide:u5,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})(),$Qe=0,jSe=(()=>{class s{constructor(e,n,o,r,a,l){this.host=e,this.ngZone=n,this.renderer=o,this.cdr=r,this.localizationService=a,this.injector=l,this.hostClasses=!0,this.ariaRole="textbox",this.id="k-colorgradient-"+$Qe++,this.opacity=!0,this.disabled=!1,this.readonly=!1,this.clearButton=!1,this.delay=0,this.format="rgba",this.valueChange=new t.bkB,this.backgroundColor="rgba(255, 0, 0, 1)",this.hsva=new Fn.t({}),this.gradientSliderStep=5,this.gradientSliderSmallStep=2,this.internalNavigation=!1,this.dropletSlashIcon=wI,this._tabindex=0,this.listeners=[],this.hueSliderTouched=!1,this.alphaSliderTouched=!1,this.updateValues=new Xe.B,this.hsvHandleCoordinates={x:0,y:0},this.notifyNgChanged=()=>{},this.notifyNgTouched=()=>{},(0,mt.$)($u),this.dynamicRTLSubscription=a.changes.subscribe(({rtl:c})=>{this.direction=c?"rtl":"ltr"})}get readonlyAttribute(){return this.readonly}get disabledClass(){return this.disabled}get gradientId(){return this.id}get hostTabindex(){return this.tabindex?.toString()||"0"}get isControlInvalid(){return this.control?.invalid?.toString()}get isDisabled(){return this.disabled?.toString()||void 0}enterHandler(e){e.target===this.host.nativeElement&&(this.internalNavigation=!0,this.gradientDragHandle.nativeElement.focus())}escapeHandler(e){this.host.nativeElement.matches(":focus")||e.stopImmediatePropagation(),this.internalNavigation=!1,this.host.nativeElement.focus()}focusHandler(e){this.internalNavigation=e.target!==this.host.nativeElement}set value(e){this._value=Hr(e,this.format,this.opacity)}get value(){return this._value}set contrastTool(e){this._contrastTool=Hr(e,this.format,this.opacity)}get contrastTool(){return this._contrastTool}set tabindex(e){if(Bn(e)){const n=Number(e);this._tabindex=isNaN(n)?0:n}else this._tabindex=e}get tabindex(){return this.disabled?void 0:this._tabindex}get isFocused(){return!(!ne()||!Bn(this.host))&&(this.host.nativeElement===document.activeElement||this.host.nativeElement.contains(document.activeElement))}get alphaSliderValue(){if(Bn(this.hsva.value)&&Bn(this.hsva.value.a))return 100*this.hsva.value.a}get gradientRect(){return this.gradientWrapper.nativeElement.getBoundingClientRect()}get hsvSliderValueText(){return`X: ${this.hsvHandleCoordinates.x} Y: ${this.hsvHandleCoordinates.y}`}get contrastToolVisible(){return this.contrastTool&&this.contrastTool.length>0}get innerTabIndex(){return this.internalNavigation?0:-1}ngOnInit(){this.control=this.injector.get(Ri,null)}ngAfterViewInit(){this.ngZone.onStable.pipe(Ye(1)).subscribe(()=>{this.updateUI(),this.cdr.detectChanges()}),this.addEventListeners(),this.subscribeChanges()}ngOnChanges(e){Dt("value",e)&&!this.isFocused&&this.updateUI(),Dt("delay",e)&&(this.unsubscribeChanges(),this.subscribeChanges())}ngOnDestroy(){this.listeners.forEach(e=>e()),this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe(),this.unsubscribeChanges()}focus(){this.disabled||this.gradientDragHandle.nativeElement.focus()}reset(){this.handleValueChange(void 0),this.updateUI()}handleDragPress(e){this.disabled||this.readonly||!Bn(e.originalEvent)||(this.focus(),e.originalEvent.preventDefault())}onHandleDrag(e){this.disabled||this.readonly||(this.renderer.addClass(this.gradientWrapper.nativeElement,"k-dragging"),this.changePosition(e))}onHandleRelease(){this.disabled||this.readonly||(this.renderer.removeClass(this.gradientWrapper.nativeElement,"k-dragging"),this.handleValueChange(Nv(this.hsva.value,this.format,this.opacity)))}onKeyboardAction(e){if(!this.disabled&&!this.readonly&&e.key&&-1!==e.key.indexOf("Arrow")){e.preventDefault();const n=this.gradientDragHandle.nativeElement;this.renderer.addClass(this.gradientWrapper.nativeElement,"k-dragging");let o=0,r=0;const a=e.shiftKey;switch(e.key){case"ArrowRight":o=a?this.gradientSliderSmallStep:this.gradientSliderStep;break;case"ArrowLeft":o=a?-this.gradientSliderSmallStep:-this.gradientSliderStep;break;case"ArrowUp":r=a?-this.gradientSliderSmallStep:-this.gradientSliderStep;break;case"ArrowDown":r=a?this.gradientSliderSmallStep:this.gradientSliderStep}const l=parseInt(n.style.top,10)+r,c=parseInt(n.style.left,10)+o;this.renderer.setStyle(n,"top",`${l}px`),this.renderer.setStyle(n,"left",`${c}px`),this.ngZone.run(()=>this.moveDragHandle(c,l))}}changePosition(e){if(this.disabled||this.readonly)return;this.gradientDragHandle.nativeElement.focus();const n=this.gradientRect,o=e.clientX-n.left,r=e.clientY-n.top;this.ngZone.run(()=>this.moveDragHandle(o,r))}handleHueSliderChange(e){const n=this.hsva.value;n.h=e,this.hsva.next(n),this.handleValueChange(Nv(this.hsva.value,this.format,this.opacity)),this.backgroundColor=RSe(e),this.setBackgroundColor(this.backgroundColor),this.setAlphaSliderBackground(this.backgroundColor),this.hueSliderTouched=!0}handleAlphaSliderChange(e){const n=this.hsva.value;n.a=e/100,this.hsva.next(n),this.handleValueChange(Nv(this.hsva.value,this.format,this.opacity)),this.alphaSliderTouched=!0}handleInputsValueChange(e){const n=Hr(e,this.format,this.opacity);this.value!==n&&(this.handleValueChange(n),this.updateUI())}writeValue(e){this.value=e,Bn(this.gradientWrapper)&&this.updateUI()}registerOnChange(e){this.notifyNgChanged=e}registerOnTouched(e){this.notifyNgTouched=e}setDisabledState(e){this.cdr.markForCheck(),this.disabled=e}get colorGradientHandleTitle(){return this.localizationService.get("colorGradientHandle")}get colorGradientHandleAriaLabel(){const e=Hr(this.value,this.format,this.opacity);return`${this.value?e:this.localizationService.get("colorGradientNoColor")}`}get hueSliderTitle(){return this.localizationService.get("hueSliderHandle")}get opacitySliderTitle(){return this.localizationService.get("opacitySliderHandle")}get clearButtonTitle(){return this.localizationService.get("clearButton")}isEmpty(){return!1}moveDragHandle(e,n){const o=this.gradientRect,r=o.width,a=o.height,l=Ya(n,0,a),c=Ya(e,0,r);this.setDragHandleElementPosition(l,c);const u=this.hsva.value;u.s=c/r,u.v=1-l/a,this.hsva.next(u),this.updateValues.next(Nv(this.hsva.value,this.format,this.opacity)),this.setAlphaSliderBackground(Nv({...this.hsva.value,a:1},this.format,this.opacity))}handleValueChange(e){this.value!==e&&(this.value=e,this.valueChange.emit(e),this.notifyNgChanged(e),this.setHostElementAriaLabel())}setDragHandleElementPosition(e,n){const o=this.gradientDragHandle.nativeElement;this.hsvHandleCoordinates={x:n,y:e},this.renderer.setStyle(o,"top",`${e}px`),this.renderer.setStyle(o,"left",`${n}px`)}setAlphaSliderBackground(e){Bn(this.alphaSlider)&&this.renderer.setStyle(this.alphaSlider.track.nativeElement,"background",`linear-gradient(to top, transparent, ${e})`)}setHostElementAriaLabel(){const e=Hr(this.value,this.format,this.opacity);this.renderer.setAttribute(this.host.nativeElement,"aria-label",`${this.value?e:this.localizationService.get("colorGradientNoColor")}`)}setBackgroundColor(e){this.renderer.setStyle(this.hsvRectangle.nativeElement,"background",e)}updateUI(){if(!ne())return;if(this.hueSliderTouched||this.alphaSliderTouched)return this.hueSliderTouched=!1,void(this.alphaSliderTouched=!1);this.hsva.next(this.value?((s,i=!0)=>{const e=zu(this.value,i);return Bn(e)?e.toHSV():{}})():{h:0,s:0,v:1,a:1});const e=this.gradientRect;this.setDragHandleElementPosition((1-this.hsva.value.v)*e.height,this.hsva.value.s*e.width),this.backgroundColor=RSe(this.hsva.value.h),this.setBackgroundColor(this.backgroundColor),this.setAlphaSliderBackground(this.backgroundColor),this.setHostElementAriaLabel()}addEventListeners(){this.ngZone.runOutsideAngular(()=>{const e=this.renderer.listen(this.host.nativeElement,"focusout",l=>{!((s,i)=>s&&i&&(s===i||s.contains(i)))(this.host.nativeElement,l.relatedTarget)&&(s=>s&&s.nativeElement&&((s,i)=>!!(s=>String(s).trim().split(" "))(s.className).find(e=>e===i))(s.nativeElement,"ng-untouched"))(this.host)&&this.ngZone.run(()=>this.notifyNgTouched())}),n=this.renderer.listen(this.gradientDragHandle.nativeElement,"keydown",l=>{this.onKeyboardAction(l)}),o=this.renderer.listen(this.gradientDragHandle.nativeElement,"keyup",()=>{this.renderer.removeClass(this.gradientWrapper.nativeElement,"k-dragging"),!this.readonly&&!this.disabled&&this.ngZone.run(()=>this.handleValueChange(Nv(this.hsva.value,this.format,this.opacity)))}),r=this.renderer.listen(this.gradientDragHandle.nativeElement,"focusin",()=>{this.renderer.addClass(this.gradientDragHandle.nativeElement,"k-focus")}),a=this.renderer.listen(this.gradientDragHandle.nativeElement,"focusout",()=>{this.renderer.removeClass(this.gradientDragHandle.nativeElement,"k-focus")});this.listeners.push(e,n,o,r,a)})}subscribeChanges(){this.changeRequestsSubscription=this.updateValues.pipe(vq(this.delay)).subscribe(e=>{this.handleValueChange(e)})}unsubscribeChanges(){this.changeRequestsSubscription&&this.changeRequestsSubscription.unsubscribe()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(j),t.rXU(t.zZn))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-colorgradient"]],viewQuery:function(e,n){if(1&e&&(t.GBs(SJe,5),t.GBs(CJe,5),t.GBs(bJe,5),t.GBs(EJe,5),t.GBs(yJe,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.gradientDragHandle=o.first),t.mGM(o=t.lsd())&&(n.inputs=o.first),t.mGM(o=t.lsd())&&(n.alphaSlider=o.first),t.mGM(o=t.lsd())&&(n.gradientWrapper=o.first),t.mGM(o=t.lsd())&&(n.hsvRectangle=o.first)}},hostVars:13,hostBindings:function(e,n){1&e&&t.bIt("keydown.enter",function(r){return n.enterHandler(r)})("keydown.escape",function(r){return n.escapeHandler(r)})("focusin",function(r){return n.focusHandler(r)}),2&e&&(t.BMQ("aria-readonly",n.readonlyAttribute)("id",n.gradientId)("dir",n.direction)("tabindex",n.hostTabindex)("role",n.ariaRole)("aria-invalid",n.isControlInvalid)("aria-disabled",n.isDisabled),t.AVh("k-colorgradient",n.hostClasses)("k-disabled",n.disabledClass)("k-readonly",n.readonly))},inputs:{id:"id",opacity:"opacity",disabled:"disabled",readonly:"readonly",clearButton:"clearButton",delay:"delay",value:"value",contrastTool:"contrastTool",tabindex:"tabindex",format:"format",gradientSliderStep:"gradientSliderStep",gradientSliderSmallStep:"gradientSliderSmallStep"},outputs:{valueChange:"valueChange"},exportAs:["kendoColorGradient"],features:[t.Jv_([{multi:!0,provide:Yn,useExisting:(0,t.Rfq)(()=>s)},{provide:as,useExisting:(0,t.Rfq)(()=>s)},PSe,{provide:j,useExisting:PSe},{provide:Ve,useValue:"kendo.colorgradient"}]),t.OA$],decls:16,vars:37,consts:()=>{let i,e,n,o,r,a,l,c,u,f,_,g,S,b,k,D,O;return i="Colorgradient nessun colore selezionato",e="Scegli un colore",n="Cancella il valore",o="Imposta la hue",r="Imposta l'opacit\xE0",a="Pass",l="Fail",c="Contrast ratio",u="Change color format",f="Canale rosso",_="Canale verde",g="Canale blu",S="Canale alpha",b="Canale rosso",k="Verde",D="Blu",O="Colore HEX",[["hsvRectangle",""],["gradientWrapper",""],["gradientDragHandle",""],["inputs",""],["alphaSlider",""],["kendoColorGradientLocalizedMessages","","colorGradientNoColor",i,"colorGradientHandle",e,"clearButton",n,"hueSliderHandle",o,"opacitySliderHandle",r,"passContrast",a,"failContrast",l,"contrastRatio",c,"formatButton",u,"redChannelLabel",f,"greenChannelLabel",_,"blueChannelLabel",g,"alphaChannelLabel",S,"redChannelLabel",b,"greenInputPlaceholder",k,"blueInputPlaceholder",D,"hexInputPlaceholder",O],[1,"k-colorgradient-canvas","k-hstack"],[1,"k-hsv-rectangle"],["kendoDraggable","",1,"k-hsv-gradient",3,"click","kendoPress","kendoDrag","kendoRelease"],["role","slider",1,"k-hsv-draghandle","k-draghandle",3,"keydown.shift.tab","tabindex"],["kendoColorContrastSvg","","class","k-color-contrast-svg","xmlns","http://www.w3.org/2000/svg",3,"wrapper","hsva","backgroundColor","style",4,"ngIf"],["kendoButton","","class","k-clear-color","fillMode","flat","icon","droplet-slash",3,"svgIcon","tabindex","style","click","keydown.enter","keydown.space",4,"ngIf"],["tickPlacement","none",1,"k-hue-slider","k-colorgradient-slider",3,"valueChange","ngClass","dragHandleTitle","tabindex","disabled","readonly","showButtons","vertical","min","max","value","smallStep","largeStep"],["class","k-alpha-slider k-colorgradient-slider","tickPlacement","none",3,"tabindex","ngClass","height","dragHandleTitle","disabled","readonly","showButtons","vertical","min","max","smallStep","largeStep","value","valueChange",4,"ngIf"],[3,"valueChange","tabOut","tabindex","opacity","formatView","value","disabled","readonly"],["class","k-colorgradient-color-contrast k-vbox","kendoContrastTool","",3,"value","ratio",4,"ngIf"],["kendoColorContrastSvg","","xmlns","http://www.w3.org/2000/svg",1,"k-color-contrast-svg",3,"wrapper","hsva","backgroundColor"],["kendoButton","","fillMode","flat","icon","droplet-slash",1,"k-clear-color",3,"click","keydown.enter","keydown.space","svgIcon","tabindex"],["tickPlacement","none",1,"k-alpha-slider","k-colorgradient-slider",3,"valueChange","tabindex","ngClass","dragHandleTitle","disabled","readonly","showButtons","vertical","min","max","smallStep","largeStep","value"],["kendoContrastTool","",1,"k-colorgradient-color-contrast","k-vbox",3,"value","ratio"]]},template:function(e,n){if(1&e){const o=t.RV6();t.eu8(0,5),t.j41(1,"div",6)(2,"div",7,0)(4,"div",8,1),t.bIt("click",function(a){return t.eBV(o),t.Njj(n.changePosition(a))})("kendoPress",function(a){return t.eBV(o),t.Njj(n.handleDragPress(a))})("kendoDrag",function(a){return t.eBV(o),t.Njj(n.onHandleDrag(a))})("kendoRelease",function(){return t.eBV(o),t.Njj(n.onHandleRelease())}),t.j41(6,"div",9,2),t.bIt("keydown.shift.tab",function(a){t.eBV(o);const l=t.sdS(14);return a.preventDefault(),t.Njj(l.focusLast())}),t.k0s()(),t.DNE(8,kJe,1,5,"svg",10),t.k0s(),t.j41(9,"div"),t.DNE(10,wJe,1,6,"button",11),t.j41(11,"kendo-slider",12),t.bIt("valueChange",function(a){return t.eBV(o),t.Njj(n.handleHueSliderChange(a))}),t.k0s(),t.DNE(12,DJe,2,16,"kendo-slider",13),t.k0s()(),t.j41(13,"kendo-colorinput",14,3),t.bIt("valueChange",function(a){return t.eBV(o),t.Njj(n.handleInputsValueChange(a))})("tabOut",function(){t.eBV(o);const a=t.sdS(7);return t.Njj(a.focus())}),t.k0s(),t.DNE(15,OJe,1,2,"div",15)}if(2&e){const o=t.sdS(5);t.R7$(6),t.Y8G("tabindex",n.innerTabIndex.toString()),t.BMQ("title",n.colorGradientHandleTitle)("aria-label",n.colorGradientHandleTitle+" "+n.colorGradientHandleAriaLabel)("aria-valuetext",n.hsvSliderValueText)("aria-readonly",n.readonly?n.readonly:void 0)("aria-disabled",n.disabled?n.disabled:void 0)("aria-orientation","undefined")("aria-valuenow","0"),t.R7$(2),t.Y8G("ngIf",n.contrastToolVisible&&o),t.R7$(),t.ZvI("k-hsv-controls k-hstack ",n.clearButton?"k-sliders-wrap-clearable":"",""),t.R7$(),t.Y8G("ngIf",n.clearButton),t.R7$(),t.xc7("height",n.clearButton?"140":null,"px"),t.Y8G("ngClass",t.eq3(35,Kve,n.clearButton))("dragHandleTitle",n.hueSliderTitle)("tabindex",n.innerTabIndex)("disabled",n.disabled)("readonly",n.readonly)("showButtons",!1)("vertical",!0)("min",0)("max",360)("value",n.hsva.value.h)("smallStep",5)("largeStep",10),t.R7$(),t.Y8G("ngIf",n.opacity),t.R7$(),t.Y8G("tabindex",n.innerTabIndex)("opacity",n.opacity)("formatView",n.format)("value",n.value)("disabled",n.disabled)("readonly",n.readonly),t.R7$(2),t.Y8G("ngIf",n.contrastToolVisible)}},dependencies:[BSe,$t,$qe,USe,zSe,gx,Nd,W,Pe],encapsulation:2}),s})(),HSe=(()=>{class s extends j{constructor(e,n,o,r){super(e,n,o),this.flatColorPickerLocalization=r}get(e){return this.flatColorPickerLocalization?this.flatColorPickerLocalization.get(e):super.get(e)}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Ve),t.KVO(Gu,8),t.KVO(Vc,8),t.KVO(r5,8))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),$Se=(()=>{class s{constructor(){this.colorRows=[]}setColorMatrix(e,n){if(this.colorRows=[],Bn(e)&&e.length){n=n||e.length;for(let o=0;o<e.length;o+=n){const r=e.slice(o,n+o);this.colorRows.push(r)}}}getCellCoordsFor(e){if(Bn(e))for(let n=0;n<this.colorRows.length;n++)for(let o=0;o<this.colorRows[n].length;o++)if(this.colorRows[n][o]===e)return{row:n,col:o}}getColorAt(e){if(Bn(e)&&Bn(this.colorRows[e.row]))return this.colorRows[e.row][e.col]}getNextCell(e,n,o){if(!(Bn(e)&&Bn(e.row)&&Bn(e.col)))return{row:0,col:0};const r=this.clampIndex(e.row+o,this.colorRows.length-1);return{row:r,col:this.clampIndex(e.col+n,this.colorRows[r].length-1)}}clampIndex(e,n){return e<0?0:e>n?n:e}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),YQe=0,YSe=(()=>{class s{constructor(e,n,o,r,a,l){this.host=e,this.service=n,this.cdr=o,this.renderer=r,this.localizationService=a,this.ngZone=l,this.role="grid",this.id="k-colorpalette-"+YQe++,this.format="hex",this.disabled=!1,this.readonly=!1,this.tileSize={width:24,height:24},this.selectionChange=new t.bkB,this.valueChange=new t.bkB,this.cellSelection=new t.bkB,this.hostClasses=!0,this.uniqueId=rn(),this._tabindex=0,this.subs=new be.yU,this.notifyNgTouched=()=>{},this.notifyNgChanged=()=>{},(0,mt.$)($u),this.dynamicRTLSubscription=a.changes.subscribe(({rtl:c})=>{this.direction=c?"rtl":"ltr"})}get activeDescendant(){return this.activeCellId}get paletteId(){return this.id}set value(e){this._value=Hr(e,this.format)}get value(){return this._value}set columns(e){this._columns=e>1?e:1}get columns(){return this._columns}set palette(e){Bn(e)||(e="office"),"string"==typeof e&&Bn(k0[e])&&(this.columns=this.columns||k0[e].columns,e=k0[e].colors);const n="string"==typeof e?e.split(","):e;this._palette=n.map(o=>Hr(o,this.format,!1,!1))}get palette(){return this._palette}set tabindex(e){const n=Number(e);this._tabindex=isNaN(n)?0:n}get tabindex(){return this.disabled?void 0:this._tabindex}get tileLayout(){return"number"!=typeof this.tileSize?this.tileSize:{width:this.tileSize,height:this.tileSize}}get colorRows(){return this.service.colorRows}get hostTabindex(){return this.tabindex}get disabledClass(){return this.disabled}get readonlyAttribute(){return this.readonly}ngOnInit(){0===this.colorRows.length&&(this.palette=this.palette||("name"!==this.format?"office":"accessible"),this.setRows());const e=this.host.nativeElement;this.subs.add(this.renderer.listen(e,"keydown",n=>this.handleKeydown(n))),this.subs.add(this.renderer.listen(e,"focus",()=>this.handleFocus())),this.subs.add(this.renderer.listen(e,"blur",()=>this.handleHostBlur()))}ngAfterViewInit(){this.setHostElementAriaLabel(),this.value&&this.ngZone.onStable.pipe(Ye(1)).subscribe(()=>{this.selectCell(this.value)})}ngOnDestroy(){this.subs.unsubscribe(),this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe()}ngOnChanges(e){(e.palette||e.columns)&&this.setRows(),(e.palette||e.value||e.columns)&&(this.selectCell(this.value),this.setHostElementAriaLabel())}handleKeydown(e){const n="rtl"===this.direction;switch(e.keyCode){case F.ArrowDown:this.handleCellNavigation(0,1);break;case F.ArrowUp:this.handleCellNavigation(0,-1);break;case F.ArrowRight:this.handleCellNavigation(n?-1:1,0);break;case F.ArrowLeft:this.handleCellNavigation(n?1:-1,0);break;case F.Enter:this.handleEnter();break;default:return}e.preventDefault()}handleFocus(){this.focusInComponent||this.focus()}handleHostBlur(){this.notifyNgTouched(),this.handleCellFocusOnBlur()}handleCellSelection(e,n){if(this.readonly)return;this.selectedCell=n,this.focusedCell=this.selectedCell,this.focusInComponent=!0;const o=Hr(e,this.format,!1,!1);this.cellSelection.emit(o),this.handleValueChange(o),this.selection!==o&&(this.selection=o,this.selectionChange.emit(o)),n&&(this.activeCellId=`k-${this.selectedCell.row}-${this.selectedCell.col}-${this.uniqueId}`)}writeValue(e){this.value=e,this.selectCell(e)}registerOnChange(e){this.notifyNgChanged=e}registerOnTouched(e){this.notifyNgTouched=e}setDisabledState(e){this.cdr.markForCheck(),this.disabled=e}focus(){this.host.nativeElement.focus(),!this.focusedCell&&!this.readonly&&!this.disabled&&(this.focusedCell={row:0,col:0},this.activeCellId=`k-${this.focusedCell.row}-${this.focusedCell.col}-${this.uniqueId}`)}isEmpty(){return!1}reset(){this.focusedCell=null,Bn(this.value)&&this.handleValueChange(void 0),this.selectedCell=void 0}handleValueChange(e){this.value!==e&&(this.value=e,this.valueChange.emit(e),this.notifyNgChanged(e),this.setHostElementAriaLabel())}handleCellFocusOnBlur(){this.focusInComponent=!1,this.focusedCell=this.selectedCell}selectCell(e){const n=Hr(e,"hex");this.selectedCell=this.service.getCellCoordsFor(n),this.focusedCell=this.selectedCell}setRows(){Bn(this.palette)&&(this.columns=this.columns||10,this.service.setColorMatrix(this.palette,this.columns))}handleCellNavigation(e,n){this.readonly||(this.focusedCell=this.service.getNextCell(this.focusedCell,e,n),this.focusInComponent=!0,this.focusedCell&&(this.activeCellId=`k-${this.focusedCell.row}-${this.focusedCell.col}-${this.uniqueId}`))}setHostElementAriaLabel(){const e=Hr(this.value,this.format);this.renderer.setAttribute(this.host.nativeElement,"aria-label",`${this.value?e:this.localizationService.get("colorPaletteNoColor")}`)}handleEnter(){if(!Bn(this.focusedCell))return;const e=this.service.getColorAt(this.focusedCell);this.handleCellSelection(e,this.focusedCell)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU($Se),t.rXU(t.gRc),t.rXU(t.sFG),t.rXU(j),t.rXU(t.SKi))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-colorpalette"]],hostVars:13,hostBindings:function(e,n){2&e&&(t.BMQ("dir",n.direction)("role",n.role)("aria-activedescendant",n.activeDescendant)("id",n.paletteId)("tabindex",n.hostTabindex)("aria-disabled",n.disabledClass)("aria-readonly",n.readonlyAttribute),t.AVh("k-readonly",n.readonly)("k-colorpalette",n.hostClasses)("k-disabled",n.disabledClass))},inputs:{id:"id",format:"format",value:"value",columns:"columns",palette:"palette",tabindex:"tabindex",disabled:"disabled",readonly:"readonly",tileSize:"tileSize"},outputs:{selectionChange:"selectionChange",valueChange:"valueChange",cellSelection:"cellSelection"},exportAs:["kendoColorPalette"],features:[t.Jv_([{multi:!0,provide:Yn,useExisting:(0,t.Rfq)(()=>s)},{provide:as,useExisting:(0,t.Rfq)(()=>s)},$Se,HSe,{provide:j,useExisting:HSe},{provide:Ve,useValue:"kendo.colorpalette"}]),t.OA$],decls:4,vars:1,consts:()=>{let i;return i="Colorpalette nessun colore scelto",[["kendoColorPaletteLocalizedMessages","","colorPaletteNoColor",i],["role","presentation",1,"k-colorpalette-table"],["role","row",4,"ngFor","ngForOf"],["role","row"],["role","gridcell","class","k-colorpalette-tile",3,"k-selected","k-focus","id","ngStyle","click",4,"ngFor","ngForOf"],["role","gridcell",1,"k-colorpalette-tile",3,"click","id","ngStyle"]]},template:function(e,n){1&e&&(t.eu8(0,0),t.j41(1,"table",1)(2,"tbody"),t.DNE(3,IJe,2,1,"tr",2),t.k0s()()),2&e&&(t.R7$(3),t.Y8G("ngForOf",n.colorRows))},dependencies:[gx,st,Jn],encapsulation:2}),s})(),KSe=(()=>{class s{constructor(e,n){this.localizationService=e,this.renderer=n,this.hostClasses=!0,this.innerTabIndex=-1,this.viewChange=new t.bkB,this.valuePaneClick=new t.bkB,this.clearButtonClick=new t.bkB,this.tabOut=new t.bkB,this.dropletSliderIcon=OW,this.paletteIcon=EI,this.dropletSlashIcon=wI}ngAfterViewInit(){this.viewButtonsCollection.length>0&&this.viewButtonsCollection.forEach(e=>{const n=e.nativeElement;"true"===n.getAttribute("aria-pressed")&&this.renderer.addClass(n,"k-selected")})}onViewButtonClick(e){this.activeView=e,this.viewChange.emit(e)}get viewButtons(){return this.views&&this.views.indexOf("gradient")>=0&&this.views.indexOf("palette")>=0}getViewButtonIcon(e){return"gradient"===e?"color-canvas":"palette"}getViewButtonsSVGIcon(e){return"gradient"===e?this.dropletSliderIcon:this.paletteIcon}getText(e){return this.localizationService.get(e)}onHeaderTabOut(e,n){0===n&&(e.preventDefault(),this.tabOut.emit(e))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j),t.rXU(t.sFG))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoFlatColorPickerHeader",""]],viewQuery:function(e,n){if(1&e&&(t.GBs(xJe,5,t.aKT),t.GBs(AJe,5,t.aKT)),2&e){let o;t.mGM(o=t.lsd())&&(n.clearButtonElement=o.first),t.mGM(o=t.lsd())&&(n.viewButtonsCollection=o)}},hostVars:4,hostBindings:function(e,n){2&e&&t.AVh("k-coloreditor-header",n.hostClasses)("k-hstack",n.hostClasses)},inputs:{clearButton:"clearButton",activeView:"activeView",views:"views",preview:"preview",innerTabIndex:"innerTabIndex",value:"value",selection:"selection"},outputs:{viewChange:"viewChange",valuePaneClick:"valuePaneClick",clearButtonClick:"clearButtonClick",tabOut:"tabOut"},attrs:RJe,decls:6,vars:3,consts:[["viewButtons",""],["clearButton",""],[1,"k-coloreditor-header-actions","k-hstack"],["class","k-button-group k-button-group-flat","role","group",4,"ngIf"],[1,"k-spacer"],["kendoButton","","type","button","fillMode","flat","icon","reset-color","class","k-coloreditor-reset",3,"tabindex","svgIcon","click",4,"ngIf"],["class","k-coloreditor-preview k-vstack","aria-hidden","true",4,"ngIf"],["role","group",1,"k-button-group","k-button-group-flat"],["kendoButton","","type","button","fillMode","flat","class","k-button k-button-md k-button-flat k-button-flat-base k-icon-button",3,"tabindex","icon","svgIcon","ngClass","click","keydown.shift.tab",4,"ngFor","ngForOf"],["kendoButton","","type","button","fillMode","flat",1,"k-button","k-button-md","k-button-flat","k-button-flat-base","k-icon-button",3,"click","keydown.shift.tab","tabindex","icon","svgIcon","ngClass"],["kendoButton","","type","button","fillMode","flat","icon","reset-color",1,"k-coloreditor-reset",3,"click","tabindex","svgIcon"],["aria-hidden","true",1,"k-coloreditor-preview","k-vstack"],[1,"k-coloreditor-preview-color","k-color-preview"],[1,"k-coloreditor-current-color","k-color-preview",3,"click"]],template:function(e,n){1&e&&(t.j41(0,"div",2),t.DNE(1,LJe,2,1,"div",3),t.k0s(),t.nrm(2,"div",4),t.j41(3,"div",2),t.DNE(4,GJe,2,4,"button",5)(5,PJe,3,6,"div",6),t.k0s()),2&e&&(t.R7$(),t.Y8G("ngIf",n.viewButtons),t.R7$(3),t.Y8G("ngIf",n.clearButton),t.R7$(),t.Y8G("ngIf",n.preview))},dependencies:[$t,W,st,Pe],encapsulation:2}),s})(),JSe=(()=>{class s{constructor(e){this.localizationService=e,this.hostClasses=!0,this.innerTabIndex=-1,this.actionButtonClick=new t.bkB,this.tabOut=new t.bkB}getText(e){return this.localizationService.get(e)}onActionButtonClick(e,n){this.actionButtonClick.emit({target:e,originalEvent:n})}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoFlatColorPickerActionButtons",""]],viewQuery:function(e,n){if(1&e&&(t.GBs(FJe,5,t.aKT),t.GBs(UJe,5,t.aKT)),2&e){let o;t.mGM(o=t.lsd())&&(n.firstButton=o.first),t.mGM(o=t.lsd())&&(n.lastButton=o.first)}},hostVars:6,hostBindings:function(e,n){2&e&&t.AVh("k-coloreditor-footer",n.hostClasses)("k-actions",n.hostClasses)("k-actions-horizontal",n.hostClasses)},inputs:{innerTabIndex:"innerTabIndex"},outputs:{actionButtonClick:"actionButtonClick",tabOut:"tabOut"},attrs:BJe,decls:6,vars:6,consts:[["first",""],["last",""],["type","button",1,"k-coloreditor-cancel","k-button","k-button-md","k-button-solid","k-button-solid-base",3,"click","tabindex"],["type","button",1,"k-coloreditor-apply","k-button","k-button-md","k-button-solid","k-button-solid-primary",3,"click","keydown.tab","tabindex"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"button",2,0),t.bIt("click",function(a){return t.eBV(o),t.Njj(n.onActionButtonClick("cancel",a))}),t.EFF(2),t.k0s(),t.j41(3,"button",3,1),t.bIt("click",function(a){return t.eBV(o),t.Njj(n.onActionButtonClick("apply",a))})("keydown.tab",function(a){return t.eBV(o),a.preventDefault(),t.Njj(n.tabOut.emit())}),t.EFF(5),t.k0s()}2&e&&(t.Y8G("tabindex",n.innerTabIndex.toString()),t.BMQ("title",n.getText("cancelButton")),t.R7$(2),t.JRh(n.getText("cancelButton")),t.R7$(),t.Y8G("tabindex",n.innerTabIndex.toString()),t.BMQ("title",n.getText("applyButton")),t.R7$(2),t.JRh(n.getText("applyButton")))},encapsulation:2}),s})(),qSe=(()=>{class s{constructor(e,n,o,r,a,l,c){this.host=e,this.service=n,this.localizationService=o,this.cdr=r,this.renderer=a,this.ngZone=l,this.injector=c,this.hostClasses=!0,this.ariaRole="textbox",this.readonly=!1,this.disabled=!1,this.format="rgba",this.clearButton=!0,this.preview=!0,this.actionsLayout="end",this.views=["gradient","palette"],this.valueChange=new t.bkB,this.cancel=new t.bkB,this.activeViewChange=new t.bkB,this.clearButtonClick=new t.bkB,this.actionButtonClick=new t.bkB,this._tabindex=0,this._gradientSettings={opacity:!0,delay:0,gradientSliderStep:5,gradientSliderSmallStep:2},this._paletteSettings={},this.subscriptions=new be.yU,this.internalNavigation=!1,this.notifyNgChanged=()=>{},this.notifyNgTouched=()=>{},(0,mt.$)($u),this.dynamicRTLSubscription=this.localizationService.changes.subscribe(({rtl:u})=>{this.direction=u?"rtl":"ltr"})}get disabledClass(){return this.disabled}get ariaReadonly(){return this.readonly}get hostTabindex(){return this.tabindex?.toString()||"0"}get isControlInvalid(){return this.control?.invalid?.toString()}get isDisabled(){return this.disabled?.toString()||void 0}enterHandler(e){e.target===this.host.nativeElement&&(e.preventDefault(),this.internalNavigation=!0,this.ngZone.onStable.pipe(Ye(1)).subscribe(()=>this.firstFocusable?.focus()))}escapeHandler(){this.internalNavigation=!1,this.host.nativeElement.focus()}focusHandler(e){this.internalNavigation=e.target!==this.host.nativeElement}set value(e){this._value=Hr(e,this.format,this.gradientSettings.opacity)}get value(){return this._value}set tabindex(e){if(Bn(e)){const n=Number(e);this._tabindex=isNaN(n)?0:n}else this._tabindex=e}get tabindex(){return this.disabled?void 0:this._tabindex}set gradientSettings(e){Object.assign(this._gradientSettings,e)}get gradientSettings(){return this._gradientSettings}set paletteSettings(e){Object.assign(this._paletteSettings,e)}get paletteSettings(){return this._paletteSettings}get innerTabIndex(){return this.internalNavigation?0:-1}get firstFocusable(){return this.headerHasContent?this.headerElement.nativeElement.querySelector(".k-button"):"gradient"===this.activeView?this.gradient:this.palette}ngOnInit(){this.selection=this.value,this.control=this.injector.get(Ri,null),this._paletteSettings=this.service.getPaletteSettings(this._paletteSettings,this.format),this.setActiveView()}ngAfterViewInit(){this.setHostElementAriaLabel(),this.initDomEvents(),this.setSizingVariables(),this.ngZone.onStable.pipe(Ye(1)).subscribe(()=>this.removeGradientAttributes())}ngOnChanges(e){Dt("value",e)&&(this.selection=this.value,this.setHostElementAriaLabel()),Dt("paletteSettings",e)&&this.setSizingVariables()}ngOnDestroy(){this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe(),this.subscriptions.unsubscribe()}focusFirstHeaderButton(){this.gradientElement.nativeElement===document.activeElement&&this.headerHasContent&&!this.preview&&this.headerElement.nativeElement.querySelector(".k-button").focus()}lastFocusable(e){if(this.preview)return void this.footer.lastButton.nativeElement.focus();e.stopImmediatePropagation();const n=this.gradientElement?.nativeElement,o=this.palette?.host.nativeElement;"gradient"===this.activeView?n.focus():o.focus()}onTab(e){const{shiftKey:n}=e,o=this.preview?this.footer.firstButton.nativeElement:this.headerHasContent?k_e(this.headerElement.nativeElement):null,r=this.headerHasContent?k_e(this.headerElement.nativeElement):this.preview?this.footer.lastButton.nativeElement:null;!o&&!r||(e.preventDefault(),n?r?.focus():o?.focus())}get headerHasContent(){return this.preview||this.views.length>1||this.clearButton}isEmpty(){return!1}focus(){this.disabled||this.focused||(this.host.nativeElement.focus(),this.focused=!0)}blur(){this.focused&&(this.notifyNgTouched(),this.host.nativeElement.blur(),this.focused=!1)}reset(){Bn(this.value)&&(this.value=void 0,this.notifyNgChanged(void 0),this.setHostElementAriaLabel())}onViewChange(e){this.activeView!==e&&(this.activeView=e,this.activeViewChange.emit(e),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this[this.activeView]?.focus()})}),"gradient"===this.activeView&&this.removeGradientAttributes())}onClearButtonClick(){this.resetInnerComponentValue(),this.clearButtonClick.emit()}handleValueChange(e){this.preview?this.changeCurrentValue(e):this.setFlatColorPickerValue(e)}onAction(e){"apply"===e.target?this.setFlatColorPickerValue(this.selection):this.resetSelection(e.originalEvent),this.actionButtonClick.emit()}writeValue(e){this.value=e}registerOnChange(e){this.notifyNgChanged=e}registerOnTouched(e){this.notifyNgTouched=e}setDisabledState(e){this.cdr.markForCheck(),this.disabled=e}resetSelection(e){const n=new NQe(e);this.cancel.emit(n),n.isDefaultPrevented()||(this.selection=this.value),this.notifyNgTouched()}setHostElementAriaLabel(){const e=Hr(this.value,this.format,this.gradientSettings.opacity),n=`${this.value?e:this.localizationService.get("flatColorPickerNoColor")}`;this.renderer.setAttribute(this.host.nativeElement,"aria-label",n)}setSizingVariables(){const e=this.service.paletteTileLayout(this.paletteSettings.tileSize),n=this.host.nativeElement.querySelector(".k-coloreditor-views.k-vstack");this.renderer.setProperty(n,"style",`\n            --kendo-color-preview-columns: ${this.paletteSettings.columns};\n            --kendo-color-preview-width: ${e.width}px;\n            --kendo-color-preview-height: ${e.height}px;\n        `)}changeCurrentValue(e){this.selection=e,this.notifyNgTouched()}resetInnerComponentValue(){this.selection=null,this.gradient?this.gradient.reset():this.palette.reset()}setFlatColorPickerValue(e){this.value!==e&&(this.value=e,this.valueChange.emit(e),this.notifyNgChanged(e),this.setHostElementAriaLabel())}setActiveView(){if(Bn(this.activeView)){if((0,t.naY)()&&-1===this.views.indexOf(this.activeView))throw new Error("Invalid configuration: The current activeView is not present in the views collection")}else this.activeView=this.views[0]}initDomEvents(){if(!this.host)return;const e=this.host.nativeElement;this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(e,"focus",()=>{this.focused=!0})),this.subscriptions.add(this.renderer.listen(e,"blur",()=>{this.focused=!1,this.notifyNgTouched()}))})}removeGradientAttributes(){this.gradientElement&&this.renderer.removeAttribute(this.gradientElement.nativeElement,"role"),this.gradientElement&&this.renderer.removeAttribute(this.gradientElement.nativeElement,"aria-label")}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(xSe),t.rXU(j),t.rXU(t.gRc),t.rXU(t.sFG),t.rXU(t.SKi),t.rXU(t.zZn))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-flatcolorpicker"]],viewQuery:function(e,n){if(1&e&&(t.GBs(Jve,5),t.GBs(Jve,5,t.aKT),t.GBs(qve,5),t.GBs(qve,5,t.aKT),t.GBs(VJe,5),t.GBs(zJe,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.header=o.first),t.mGM(o=t.lsd())&&(n.headerElement=o.first),t.mGM(o=t.lsd())&&(n.gradient=o.first),t.mGM(o=t.lsd())&&(n.gradientElement=o.first),t.mGM(o=t.lsd())&&(n.palette=o.first),t.mGM(o=t.lsd())&&(n.footer=o.first)}},hostVars:14,hostBindings:function(e,n){1&e&&t.bIt("keydown.enter",function(r){return n.enterHandler(r)})("keydown.escape",function(){return n.escapeHandler()})("focusin",function(r){return n.focusHandler(r)}),2&e&&(t.BMQ("aria-disabled",n.isDisabled)("aria-readonly",n.ariaReadonly)("dir",n.direction)("tabindex",n.hostTabindex)("role",n.ariaRole)("aria-invalid",n.isControlInvalid),t.AVh("k-flatcolorpicker",n.hostClasses)("k-coloreditor",n.hostClasses)("k-disabled",n.disabledClass)("k-readonly",n.readonly))},inputs:{readonly:"readonly",disabled:"disabled",format:"format",value:"value",tabindex:"tabindex",clearButton:"clearButton",preview:"preview",actionsLayout:"actionsLayout",activeView:"activeView",views:"views",gradientSettings:"gradientSettings",paletteSettings:"paletteSettings"},outputs:{valueChange:"valueChange",cancel:"cancel",activeViewChange:"activeViewChange",clearButtonClick:"clearButtonClick",actionButtonClick:"actionButtonClick"},exportAs:["kendoFlatColorPicker"],features:[t.Jv_([{multi:!0,provide:Yn,useExisting:(0,t.Rfq)(()=>s)},{provide:as,useExisting:(0,t.Rfq)(()=>s)},xSe,r5,{provide:j,useExisting:r5},{provide:Ve,useValue:"kendo.flatcolorpicker"}]),t.OA$],decls:6,vars:4,consts:()=>{let i,e,n,o,r,a,l,c,u,f,_,g,S,b,k,D,O,I,N,P,G,H,$;return i="Flatcolorpicker nessun colore scelto",e="Colorgradient nessun colore scelto",n="Colorpalette nessun colore scelto",o="Scegli un colore",r="Cancella il valore",a="Imposta la hue",l="Imposta l'opacit\xE0",c="Rapporto di contrasto",u="Anteprima del colore",f="Ripristina la selezione",_="Vista gradiente",g="Vista palette",S="Cambia formato del colore",b="Applica",k="Annulla",D="Canale rosso",O="Canale verde",I="Canale blu",N="Canale alpha",P="Canale rosso",G="G",H="B",$="HEX",[["header",""],["gradient",""],["palette",""],["footer",""],["kendoFlatColorPickerLocalizedMessages","","flatColorPickerNoColor",i,"colorGradientNoColor",e,"colorPaletteNoColor",n,"colorGradientHandle",o,"clearButton",r,"hueSliderHandle",a,"opacitySliderHandle",l,"contrastRatio",c,"previewColor",u,"revertSelection",f,"gradientView",_,"paletteView",g,"formatButton",S,"applyButton",b,"cancelButton",k,"redChannelLabel",D,"greenChannelLabel",O,"blueChannelLabel",I,"alphaChannelLabel",N,"redChannelLabel",P,"greenInputPlaceholder",G,"blueInputPlaceholder",H,"hexInputPlaceholder",$],["kendoFlatColorPickerHeader","",3,"innerTabIndex","clearButton","activeView","views","value","selection","preview","clearButtonClick","viewChange","valuePaneClick","tabOut",4,"ngIf"],[1,"k-coloreditor-views","k-vstack"],[3,"tabindex","value","format","opacity","delay","contrastTool","gradientSliderSmallStep","gradientSliderStep","readonly","keydown.tab","valueChange",4,"ngIf"],[3,"tabindex","palette","columns","tileSize","format","value","readonly","valueChange",4,"ngIf"],["kendoFlatColorPickerActionButtons","",3,"innerTabIndex","ngClass","actionButtonClick","tabOut",4,"ngIf"],["kendoFlatColorPickerHeader","",3,"clearButtonClick","viewChange","valuePaneClick","tabOut","innerTabIndex","clearButton","activeView","views","value","selection","preview"],[3,"keydown.tab","valueChange","tabindex","value","format","opacity","delay","contrastTool","gradientSliderSmallStep","gradientSliderStep","readonly"],[3,"valueChange","tabindex","palette","columns","tileSize","format","value","readonly"],["kendoFlatColorPickerActionButtons","",3,"actionButtonClick","tabOut","innerTabIndex","ngClass"]]},template:function(e,n){1&e&&(t.eu8(0,4),t.DNE(1,jJe,2,7,"div",5),t.j41(2,"div",6),t.DNE(3,HJe,2,9,"kendo-colorgradient",7)(4,$Je,2,7,"kendo-colorpalette",8),t.k0s(),t.DNE(5,XJe,2,2,"div",9)),2&e&&(t.R7$(),t.Y8G("ngIf",n.headerHasContent),t.R7$(2),t.Y8G("ngIf","gradient"===n.activeView),t.R7$(),t.Y8G("ngIf","palette"===n.activeView),t.R7$(),t.Y8G("ngIf",n.preview))},dependencies:[KSe,jSe,YSe,JSe,gx,W,Pe],encapsulation:2}),s})();const QSe=["focus","blur"];let QQe=0,Lv=(()=>{class s{constructor(e,n,o,r,a,l,c){this.host=e,this.popupService=n,this.cdr=o,this.localizationService=r,this.ngZone=a,this.renderer=l,this.injector=c,this.hostClasses=!0,this.role="combobox",this.hasPopup="dialog",this.views=["gradient","palette"],this.readonly=!1,this.disabled=!1,this.format="rgba",this.clearButton=!0,this.preview=!1,this.actionsLayout="end",this.valueChange=new t.bkB,this.open=new t.bkB,this.close=new t.bkB,this.onFocus=new t.bkB,this.onBlur=new t.bkB,this.cancel=new t.bkB,this.activeColorClick=new t.bkB,this.clearButtonClick=new t.bkB,this.activeViewChange=new t.bkB,this.isFocused=!1,this.arrowDownIcon=Bo,this._tabindex=0,this._popupSettings={animate:!0},this._paletteSettings={},this._gradientSettings={opacity:!0,delay:0},this._size="medium",this._rounded="medium",this._fillMode="solid",this.subscriptions=new be.yU,this.popupSubs=new be.yU,this.notifyNgTouched=()=>{},this.notifyNgChanged=()=>{},this.domFocusListener=u=>u.stopImmediatePropagation(),(0,mt.$)($u),this.dynamicRTLSubscription=this.localizationService.changes.subscribe(({rtl:u})=>{this.direction=u?"rtl":"ltr"}),this.colorPickerId=QQe++}get focusedClass(){return this.isFocused}get disabledClass(){return this.disabled}get ariaReadonly(){return this.readonly}get ariaExpanded(){return this.isOpen}get hostTabindex(){return this.tabindex}get isControlInvalid(){return this.control?.invalid?.toString()}set view(e){this.views=[e]}get view(){return this.views&&this.views.length>0?this.views[0]:null}set value(e){this._value=Hr(e,this.format,this.gradientSettings.opacity)}get value(){return this._value}set popupSettings(e){this._popupSettings=Object.assign(this._popupSettings,e)}get popupSettings(){return this._popupSettings}set paletteSettings(e){this._paletteSettings=Object.assign(this._paletteSettings,e)}get paletteSettings(){return this._paletteSettings}set gradientSettings(e){this._gradientSettings=Object.assign(this._gradientSettings,e)}get gradientSettings(){return this._gradientSettings}set svgIcon(e){if((0,t.naY)()&&e&&this.icon&&this.iconClass)throw new Error("Setting both icon/svgIcon and iconClass options at the same time is not supported.");this._svgIcon=e}get svgIcon(){return this._svgIcon}set tabindex(e){const n=Number(e);this._tabindex=isNaN(n)?0:n}get tabindex(){return this.disabled?void 0:this._tabindex}set size(e){const n=e||"medium";this.handleClasses(n,"size"),this._size=n}get size(){return this._size}set rounded(e){const n=e||"medium";this.handleClasses(n,"rounded"),this._rounded=n}get rounded(){return this._rounded}set fillMode(e){const n=e||"solid";this.handleClasses(n,"fillMode"),this._fillMode=n}get fillMode(){return this._fillMode}get isOpen(){return Bn(this.popupRef)}get customIconStyles(){if(this.iconClass){let e="";return VJ(this.iconClass).forEach(n=>{e+=n+" "}),e.slice(0,-1)}return""}get iconStyles(){return this.icon&&!this.iconClass?`${this.icon}`:""}ngOnInit(){const n=this._paletteSettings.palette;this._paletteSettings={palette:n||("name"!==this.format?"office":ISe),tileSize:this._paletteSettings.tileSize||24,columns:this._paletteSettings.columns||("string"==typeof n&&k0[n]?k0[n].columns:void 0)||10},this.handleHostId(),this.renderer.setAttribute(this.host.nativeElement,"aria-controls",`k-colorpicker-popup-${this.colorPickerId}`),this.control=this.injector.get(Ri,null)}ngAfterViewInit(){["size","rounded","fillMode"].forEach(n=>{this.handleClasses(this[n],n)}),this.setHostElementAriaLabel(),this.initDomEvents()}ngOnChanges(e){e.format&&"name"===e.format.currentValue&&(this.activeView="palette"),"gradient"===this.activeView&&this.gradientSettings.opacity&&(this.format="rgba",this.value=Hr(this.value,this.format,this.gradientSettings.opacity)),Dt("value",e)&&this.setHostElementAriaLabel()}ngOnDestroy(){this.closePopup(),this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe(),this.subscriptions.unsubscribe(),this.handleDomEvents("remove",QSe)}handleCancelEvent(e){this.cancel.emit(e)}togglePopup(){this.focus(),this.toggleWithEvents(!this.isOpen)}handleWrapperClick(e){if(!this.disabled){if(this.focus(),Yl(e.target,n=>n===this.activeColor.nativeElement)){const n=new PQe(this.value);return this.activeColorClick.emit(n),void((!n.isOpenPrevented()||this.isOpen)&&this.toggleWithEvents(!this.isOpen))}this.toggleWithEvents(!this.isOpen)}}focus(){this.isFocused=!0,this.host.nativeElement.focus()}handleWrapperFocus(){this.isFocused||this.ngZone.run(()=>{this.focus(),this.onFocus.emit()})}blur(){this.isFocused=!1,this.host.nativeElement.blur(),this.notifyNgTouched()}handleWrapperBlur(){this.isOpen||this.ngZone.run(()=>{this.onBlur.emit(),this.isFocused=!1})}reset(){Bn(this.value)&&(this._value=void 0,this.setHostElementAriaLabel(),this.notifyNgChanged(void 0))}toggle(e){this.disabled||this.readonly||(this.cdr.markForCheck(),this.closePopup(),(e=Bn(e)?e:!this.isOpen)&&(this.openPopup(),this.focusFirstElement()))}handleValueChange(e){const n=Hr(e,this.format,this.gradientSettings.opacity);n!==this.value&&(this.value=n,this.valueChange.emit(n),this.setHostElementAriaLabel(),this.notifyNgChanged(n))}handlePopupBlur(e){this.popupBlurInvalid(e)||(this.isFocused=!1,this.onBlur.emit(),this.notifyNgTouched(),this.toggleWithEvents(!1))}writeValue(e){this.value=e}registerOnChange(e){this.notifyNgChanged=e}registerOnTouched(e){this.notifyNgTouched=e}setDisabledState(e){this.cdr.markForCheck(),this.disabled=e}handleWrapperKeyDown(e){(e.keyCode===F.ArrowDown||e.keyCode===F.Enter)&&(e.preventDefault(),this.ngZone.run(()=>{this.toggleWithEvents(!0)}))}handlePopupKeyDown(e){if(e.keyCode===F.Escape&&(this.toggleWithEvents(!1),this.host.nativeElement.focus()),e.keyCode===F.Tab){const o=e.shiftKey?this.lastFocusableElement.nativeElement:this.firstFocusableElement.nativeElement;e.target===(e.shiftKey?this.firstFocusableElement.nativeElement:this.lastFocusableElement.nativeElement)&&(e.preventDefault(),o.focus())}}isEmpty(){return!1}setHostElementAriaLabel(){const e=`${this.value?this.value:this.localizationService.get("colorPickerNoColor")}`;this.renderer.setAttribute(this.host.nativeElement,"aria-label",e)}handleClasses(e,n){const o=this.host.nativeElement,r=K_("picker",n,this[n],e);r.toRemove&&this.renderer.removeClass(o,r.toRemove),r.toAdd&&this.renderer.addClass(o,r.toAdd)}popupBlurInvalid(e){const n=this.popupRef.popupElement.contains(e.relatedTarget);return!(!Yl(e.relatedTarget,r=>r===this.host.nativeElement)&&!n)}toggleWithEvents(e){if(this.disabled||this.readonly||this.isOpen===e)return;let o;e?(o=new GQe,this.open.emit(o)):(o=new LQe,this.close.emit(o)),o.isDefaultPrevented()||this.toggle(e),e&&this.focusFirstElement()}focusFirstElement(){this.ngZone.onStable.pipe(Ye(1)).subscribe(()=>{if(this.flatColorPicker){const e=this.flatColorPicker.gradient?.gradientDragHandle,n=this.flatColorPicker.palette?.host;(e||n).nativeElement.focus()}})}openPopup(){const e="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.activeColor,animate:this.popupSettings.animate,appendTo:this.popupSettings.appendTo,popupAlign:{horizontal:e,vertical:"top"},anchorAlign:{horizontal:e,vertical:"bottom"},popupClass:"k-colorpicker-popup",content:this.popupTemplate,positionMode:"absolute"}),this.renderer.setAttribute(this.popupRef.popupElement.querySelector(".k-colorpicker-popup"),"id",`k-colorpicker-popup-${this.colorPickerId}`),this.popupSubs.add(this.popupRef.popupAnchorViewportLeave.subscribe(()=>{this.toggleWithEvents(!1),this.isOpen||this.host.nativeElement.focus({preventScroll:!0})}))}closePopup(){this.isOpen&&(this.popupSubs.unsubscribe(),this.popupRef.close(),this.popupRef=null)}get firstFocusableElement(){if(!this.flatColorPicker.header||this.views.length<=1&&!this.flatColorPicker.clearButton){const e=this.flatColorPicker.gradient;return e?e.gradientDragHandle:this.flatColorPicker.palette.host}return this.views.length>1?this.flatColorPicker.header.viewButtonsCollection.toArray()[0]:this.flatColorPicker.header.clearButtonElement}get lastFocusableElement(){if(this.preview)return this.flatColorPicker.footer.lastButton;if(this.flatColorPicker.palette)return this.flatColorPicker.palette.host;const e=this.flatColorPicker.gradient,n=e&&e.inputs;return e&&n&&"hex"===n.formatView?n.hexInput:this.gradientSettings.opacity?n.opacityInput.numericInput:n.blueInput.numericInput}handleDomEvents(e,n){const o=this.host.nativeElement;n.forEach(r=>o[`${e}EventListener`](r,this.domFocusListener,!0))}initDomEvents(){if(!this.host)return;const e=this.host.nativeElement;this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(e,"focusin",()=>{this.handleWrapperFocus()})),this.subscriptions.add(this.renderer.listen(e,"focusout",n=>{const o=!!this.popupRef&&Yl(n.relatedTarget,a=>a===this.flatColorPicker.host.nativeElement),r=Yl(n.relatedTarget,a=>a===this.host.nativeElement);!o&&!r&&this.handleWrapperBlur()})),this.handleDomEvents("add",QSe),this.subscriptions.add(this.renderer.listen(e,"keydown",n=>{this.handleWrapperKeyDown(n)})),this.subscriptions.add(this.renderer.listen(e,"click",n=>{this.ngZone.run(()=>{this.handleWrapperClick(n)})}))})}handleHostId(){const e=this.host.nativeElement,n=e.getAttribute("id");if(n)this.focusableId=n;else{const o=`k-${rn()}`;e.setAttribute("id",o),this.focusableId=o}}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(es),t.rXU(t.gRc),t.rXU(j),t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(t.zZn))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-colorpicker"]],viewQuery:function(e,n){if(1&e&&(t.GBs(WJe,7,t.c1b),t.GBs(YJe,7),t.GBs(KJe,7),t.GBs(JJe,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.container=o.first),t.mGM(o=t.lsd())&&(n.activeColor=o.first),t.mGM(o=t.lsd())&&(n.popupTemplate=o.first),t.mGM(o=t.lsd())&&(n.flatColorPicker=o.first)}},hostVars:20,hostBindings:function(e,n){2&e&&(t.BMQ("aria-disabled",n.disabledClass)("aria-readonly",n.ariaReadonly)("aria-expanded",n.ariaExpanded)("tabindex",n.hostTabindex)("dir",n.direction)("role",n.role)("aria-haspopup",n.hasPopup)("aria-invalid",n.isControlInvalid),t.AVh("k-colorpicker",n.hostClasses)("k-icon-picker",n.hostClasses)("k-picker",n.hostClasses)("k-focus",n.focusedClass)("k-disabled",n.disabledClass)("k-readonly",n.readonly))},inputs:{views:"views",view:"view",activeView:"activeView",readonly:"readonly",disabled:"disabled",format:"format",value:"value",popupSettings:"popupSettings",paletteSettings:"paletteSettings",gradientSettings:"gradientSettings",icon:"icon",iconClass:"iconClass",svgIcon:"svgIcon",clearButton:"clearButton",tabindex:"tabindex",preview:"preview",actionsLayout:"actionsLayout",size:"size",rounded:"rounded",fillMode:"fillMode"},outputs:{valueChange:"valueChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur",cancel:"cancel",activeColorClick:"activeColorClick",clearButtonClick:"clearButtonClick",activeViewChange:"activeViewChange"},exportAs:["kendoColorPicker"],features:[t.Jv_([{multi:!0,provide:Yn,useExisting:(0,t.Rfq)(()=>s)},{provide:as,useExisting:(0,t.Rfq)(()=>s)},pQ,{provide:j,useExisting:pQ},{provide:Ve,useValue:"kendo.colorpicker"}]),t.OA$],decls:11,vars:8,consts:()=>{let i,e,n,o,r,a,l,c,u,f,_,g,S,b,k,D,O,I,N,P,G,H,$,Q;return i="Colorpicker nessun colore scelto",e="Flatcolorpicker nessun colore scelto",n="Colorgradient nessun colore scelto",o="Colorpalette nessun colore scelto",r="Scegli un colore",a="Cancella il valore",l="Imposta la hue",c="Imposta l'opacit\xE0",u="Rapporto di contrasto",f="Anteprima del colore",_="Ripristina la selezione",g="Vista gradiente",S="Vista palette",b="Cambia formato del colore",k="Applica",D="Annulla",O="Canale rosso",I="Canale verde",N="Canale blu",P="Canale alpha",G="Canale rosso",H="Verde",$="Blu",Q="Colore HEX",[["activeColor",""],["popupTemplate",""],["container",""],["flatColorPicker",""],["kendoColorPickerLocalizedMessages","","colorPickerNoColor",i,"flatColorPickerNoColor",e,"colorGradientNoColor",n,"colorPaletteNoColor",o,"colorGradientHandle",r,"clearButton",a,"hueSliderHandle",l,"opacitySliderHandle",c,"contrastRatio",u,"previewColor",f,"revertSelection",_,"gradientView",g,"paletteView",S,"formatButton",b,"applyButton",k,"cancelButton",D,"redChannelLabel",O,"greenChannelLabel",I,"blueChannelLabel",N,"alphaChannelLabel",P,"redChannelLabel",G,"greenInputPlaceholder",H,"blueInputPlaceholder",$,"hexInputPlaceholder",Q],[1,"k-input-inner"],[1,"k-value-icon","k-color-preview",3,"ngClass"],["innerCssClass","k-color-preview-icon",3,"name","customFontClass","svgIcon",4,"ngIf"],[1,"k-color-preview-mask"],["kendoButton","","tabindex","-1","type","button","icon","caret-alt-down","aria-hidden","true",1,"k-input-button",3,"svgIcon"],["innerCssClass","k-color-preview-icon",3,"name","customFontClass","svgIcon"],[3,"cancel","focusout","valueChange","keydown","activeViewChange","clearButtonClick","actionButtonClick","value","format","views","activeView","actionsLayout","preview","gradientSettings","paletteSettings","clearButton"]]},template:function(e,n){1&e&&(t.eu8(0,4),t.j41(1,"span",5,0)(3,"span",6),t.DNE(4,QJe,1,3,"kendo-icon-wrapper",7),t.nrm(5,"span",8),t.k0s()(),t.nrm(6,"button",9),t.DNE(7,ZJe,2,9,"ng-template",null,1,t.C5r),t.eu8(9,null,2)),2&e&&(t.R7$(3),t.Y8G("ngClass",t.l_i(5,qJe,n.customIconStyles||n.iconStyles||n.svgIcon,!n.value)),t.R7$(),t.Y8G("ngIf",n.iconClass||n.icon||n.svgIcon),t.R7$(),t.xc7("background-color",n.value),t.R7$(),t.Y8G("svgIcon",n.arrowDownIcon))},dependencies:[Ke,$t,qSe,gx,Pe,W],encapsulation:2}),s})(),ZSe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[ESe,pw,Fe,zr,ew,gr,An]]}),s})(),fQ=(()=>{class s{constructor(e,n){this.renderer=e,this.hostElement=n,this.kendoClass=!0,this._size="medium",this._rounded="medium"}set size(e){const n=e||"medium";this.handleClasses(n,"size"),this._size=n}get size(){return this._size}set rounded(e){const n=e||"medium";this.handleClasses(n,"rounded"),this._rounded=n}get rounded(){return this._rounded}ngAfterViewInit(){["size","rounded"].forEach(n=>{this.handleClasses(this[n],n)})}handleClasses(e,n){const o=this.hostElement.nativeElement,r=K_("checkbox",n,this[n],e);r.toRemove&&this.renderer.removeClass(o,r.toRemove),r.toAdd&&this.renderer.addClass(o,r.toAdd)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.sFG),t.rXU(t.aKT))},s.\u0275dir=t.FsC({type:s,selectors:[["input","kendoCheckBox",""]],hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-checkbox",n.kendoClass)},inputs:{size:"size",rounded:"rounded"}}),s})(),mQ=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe]]}),s})(),sZe=(()=>{class s{constructor(e,n){this.renderer=e,this.hostElement=n,this.kendoClass=!0,this._size="medium",(0,mt.$)($u)}set size(e){const n=e||"medium";this.handleClasses(n,"size"),this._size=n}get size(){return this._size}ngAfterViewInit(){["size"].forEach(n=>{this.handleClasses(this[n],n)})}handleClasses(e,n){const o=this.hostElement.nativeElement,r=K_("radio",n,this[n],e);r.toRemove&&this.renderer.removeClass(o,r.toRemove),r.toAdd&&this.renderer.addClass(o,r.toAdd)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.sFG),t.rXU(t.aKT))},s.\u0275dir=t.FsC({type:s,selectors:[["input","kendoRadioButton",""]],hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-radio",n.kendoClass)},inputs:{size:"size"}}),s})(),oZe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe]]}),s})(),rZe=0,Xc=(()=>{class s{constructor(){this.hostClass=!0,this.align="start",this.id="kendo-error-"+rZe++,this.roleAttribute="alert"}get startClass(){return"start"===this.align}get endClass(){return"end"===this.align}get idAttribute(){return this.id}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-formerror"]],hostVars:8,hostBindings:function(e,n){2&e&&(t.BMQ("role",n.roleAttribute)("id",n.idAttribute),t.AVh("k-form-error",n.hostClass)("k-text-start",n.startClass)("k-text-end",n.endClass))},inputs:{align:"align"},ngContentSelectors:YF,decls:1,vars:0,template:function(e,n){1&e&&(t.NAR(),t.SdG(0))},encapsulation:2}),s})(),aZe=0,lZe=(()=>{class s{constructor(){this.align="start",this.id="kendo-hint-"+aZe++,this.hostClass=!0}get startClass(){return"start"===this.align}get endClass(){return"end"===this.align}get idAttribute(){return this.id}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-formhint"]],hostVars:7,hostBindings:function(e,n){2&e&&(t.BMQ("id",n.idAttribute),t.AVh("k-form-hint",n.hostClass)("k-text-start",n.startClass)("k-text-end",n.endClass))},inputs:{align:"align"},ngContentSelectors:YF,decls:1,vars:0,template:function(e,n){1&e&&(t.NAR(),t.SdG(0))},encapsulation:2}),s})(),vr=(()=>{class s{constructor(e,n,o){this.renderer=e,this.localizationService=n,this.hostElement=o,this.hostClass=!0,this.showHints="initial",this.orientation="vertical",this.showErrors="initial",this.subscriptions=new be.yU,this.rtl=!1,(0,mt.$)($u),this.subscriptions.add(this.localizationService.changes.subscribe(({rtl:r})=>{this.rtl=r,this.direction=this.rtl?"rtl":"ltr"}))}get errorClass(){return!!this.control&&this.control.invalid&&(this.control.touched||this.control.dirty)}get disabledClass(){return!(!this.control||this.isRadioControl(this.control))&&(this.disabledControl()||this.disabledElement()||this.disabledKendoInput())}set formControls(e){this.validateFormControl(e),this.control=e.first}get horizontal(){return"horizontal"===this.orientation}get hasHints(){return"always"===this.showHints||this.showHintsInitial()}get hasErrors(){return"always"===this.showErrors||this.showErrorsInitial()}ngAfterViewInit(){this.setDescription()}ngAfterViewChecked(){this.updateDescription()}ngOnDestroy(){this.subscriptions.unsubscribe()}disabledKendoInput(){return this.kendoInput&&this.kendoInput.disabled}disabledControl(){return this.control.disabled}disabledElement(){return this.controlElementRefs.toArray().every(n=>n.nativeElement.hasAttribute("disabled"))}validateFormControl(e){if((0,t.naY)()&&1!==e.length&&!this.isControlGroup(e))throw new Error("The `kendo-formfield` component should contain only one control of type NgControl with a formControlName(https://angular.io/api/forms/FormControlName)or an ngModel(https://angular.io/api/forms/NgModel) binding.")}isControlGroup(e){if(!e.length)return!1;const n=e.first.name;return e.toArray().every(o=>o.name===n&&this.isRadioControl(o))}isRadioControl(e){return e.valueAccessor instanceof xq}updateDescription(){const e=this.findControlElements();e&&e.forEach(n=>{if(this.errorChildren.length>0||this.hintChildren.length>0){const o=this.generateDescriptionIds(n);""!==o?this.renderer.setAttribute(n,"aria-describedby",o):this.renderer.removeAttribute(n,"aria-describedby")}})}findControlElements(){if(this.controlElementRefs)return this.kendoInput&&this.kendoInput.focusableId&&ne()?[this.hostElement.nativeElement.querySelector(`#${this.kendoInput.focusableId}`)]:this.controlElementRefs.map(e=>e.nativeElement)}generateDescriptionIds(e){const n=new Set;let o="";if(e.hasAttribute("aria-describedby")){const r=e.getAttribute("aria-describedby").split(" ");o=r.filter(a=>a.includes("kendo-error-"))[0],r.forEach(a=>{a.includes("kendo-hint-")||a.includes("kendo-error-")||n.add(a)})}return this.hintChildren.forEach(r=>{n.add(r.id)}),this.hasErrors?this.errorChildren.forEach(r=>{n.add(r.id)}):n.delete(o),Array.from(n).join(" ")}showHintsInitial(){if(!this.control)return!0;const{valid:e,untouched:n,pristine:o}=this.control;return e||n&&o}showErrorsInitial(){if(!this.control)return!1;const{invalid:e,dirty:n,touched:o}=this.control;return e&&(n||o)}setDescription(){this.updateDescription(),this.subscriptions.add(this.errorChildren.changes.subscribe(()=>this.updateDescription())),this.subscriptions.add(this.hintChildren.changes.subscribe(()=>this.updateDescription()))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.sFG),t.rXU(j),t.rXU(t.aKT))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-formfield"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,as,7),t.wni(o,Ri,5),t.wni(o,Ri,5,t.aKT),t.wni(o,Xc,5),t.wni(o,lZe,5)),2&e){let r;t.mGM(r=t.lsd())&&(n.kendoInput=r.first),t.mGM(r=t.lsd())&&(n.formControls=r),t.mGM(r=t.lsd())&&(n.controlElementRefs=r),t.mGM(r=t.lsd())&&(n.errorChildren=r),t.mGM(r=t.lsd())&&(n.hintChildren=r)}},hostVars:7,hostBindings:function(e,n){2&e&&(t.BMQ("dir",n.direction),t.AVh("k-form-field",n.hostClass)("k-form-field-error",n.errorClass)("k-form-field-disabled",n.disabledClass))},inputs:{showHints:"showHints",orientation:"orientation",showErrors:"showErrors"},features:[t.Jv_([j,{provide:Ve,useValue:"kendo.formfield"}])],ngContentSelectors:tqe,decls:5,vars:2,consts:[[1,"k-form-field-wrap"],[4,"ngIf"]],template:function(e,n){1&e&&(t.NAR(eqe),t.SdG(0),t.j41(1,"div",0),t.SdG(2,1),t.DNE(3,nqe,1,0,"ng-content",1)(4,iqe,1,0,"ng-content",1),t.k0s()),2&e&&(t.R7$(3),t.Y8G("ngIf",n.hasHints),t.R7$(),t.Y8G("ngIf",n.hasErrors))},dependencies:[W],encapsulation:2}),s})(),_Q=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe]]}),s})(),dZe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[gr,Fe,Hge,An]]}),s})(),uZe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,An]]}),s})(),vx=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe],hQ,y0,ESe,_Qe,ySe,pw,gQe,ZSe,mQ,oZe,_Q,dZe,uZe]}),s})();const hZe=["kendoTreeViewGroup",""],pZe=(s,i)=>({$implicit:s,index:i}),fZe=s=>({index:s});function mZe(s,i){if(1&s){const e=t.RV6();t.j41(0,"span",12),t.bIt("click",function(){t.eBV(e);const o=t.XpG(),r=o.$implicit,a=o.index,l=t.XpG();return t.Njj(l.expandNode(l.nodeIndex(a),r,!l.isExpanded(r,l.nodeIndex(a))))}),t.nrm(1,"kendo-icon-wrapper",13),t.k0s()}if(2&s){const e=t.XpG(),n=e.$implicit,o=e.index,r=t.XpG();t.AVh("k-disabled",!r.isItemExpandable(n,o)),t.Y8G("kendoTreeViewLoading",r.nodeIndex(o)),t.R7$(),t.Y8G("name",r.getFontIcon(n,r.nodeIndex(o)))("svgIcon",r.getSvgIcon(n,r.nodeIndex(o)))}}function _Ze(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-checkbox",14),t.bIt("checkStateChange",function(){t.eBV(e);const o=t.XpG().index,r=t.XpG();return t.Njj(r.checkNode(r.nodeIndex(o)))}),t.k0s()}if(2&s){const e=t.XpG(),n=e.$implicit,o=e.index,r=t.XpG();t.AVh("k-disabled",r.isItemDisabled(n,o)),t.Y8G("size",r.size)("node",n)("index",r.nodeIndex(o))("isChecked",r.isChecked)("tabindex",-1)("labelledby",r.nodeIndex(o))}}function gZe(s,i){}function vZe(s,i){if(1&s&&(t.qex(0),t.DNE(1,gZe,0,0,"ng-template",15),t.bVm()),2&s){const e=t.XpG(),n=e.$implicit,o=e.index,r=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",r.nodeTemplateRef)("ngTemplateOutletContext",t.l_i(2,pZe,n,r.nodeIndex(o)))}}function SZe(s,i){if(1&s&&(t.qex(0),t.EFF(1),t.bVm()),2&s){const e=t.XpG().$implicit,n=t.XpG();t.R7$(),t.SpI(" ",n.nodeText(e)," ")}}function CZe(s,i){if(1&s&&t.nrm(0,"ul",16),2&s){const e=t.XpG(),n=e.$implicit,o=e.index,r=t.XpG();t.Y8G("size",r.size)("nodes",r.fetchChildren)("loadOnDemand",r.loadOnDemand)("checkboxes",r.checkboxes)("expandIcons",r.expandIcons)("selectable",r.selectable)("touchActions",r.touchActions)("children",r.children)("hasChildren",r.hasChildren)("isChecked",r.isChecked)("isDisabled",r.isDisabled)("hasCheckbox",r.hasCheckbox)("disabled",r.isItemDisabled(n,o))("expandDisabledNodes",r.expandDisabledNodes)("isExpanded",r.isExpanded)("isSelected",r.isSelected)("isVisible",r.isVisible)("nodeTemplateRef",r.nodeTemplateRef)("loadMoreButtonTemplateRef",r.loadMoreButtonTemplateRef)("parentIndex",r.nodeIndex(o))("parentDataItem",n)("textField",r.nextFields)("loadMoreService",r.loadMoreService)("@toggle",!0)("trackBy",r.trackBy)("disableParentNodesOnly",r.disableParentNodesOnly)}}function bZe(s,i){if(1&s&&(t.j41(0,"li",2)(1,"div",3),t.DNE(2,mZe,2,5,"span",4)(3,_Ze,1,8,"kendo-checkbox",5),t.j41(4,"span",6)(5,"span",7),t.qex(6,8),t.DNE(7,vZe,2,5,"ng-container",9)(8,SZe,2,1,"ng-container",10),t.bVm(),t.k0s()()(),t.DNE(9,CZe,1,26,"ul",11),t.k0s()),2&s){const e=i.$implicit,n=i.index,o=t.XpG();t.AVh("k-hidden",!o.isVisible(e,o.nodeIndex(n))),t.Y8G("dataItem",e)("index",o.nodeIndex(n))("parentDataItem",o.parentDataItem)("parentIndex",o.parentIndex)("loadOnDemand",o.loadOnDemand)("checkable",o.checkboxes)("isChecked",o.isChecked(e,o.nodeIndex(n)))("isDisabled",o.isItemDisabled(e,n))("isVisible",o.isVisible(e,o.nodeIndex(n)))("expandable",o.expandIcons&&o.hasChildren(e))("isExpanded",o.isExpanded(e,o.nodeIndex(n)))("selectable",o.selectable)("isSelected",o.isSelected(e,o.nodeIndex(n))),t.BMQ("aria-setsize",o.totalNodesCount)("data-treeindex",o.nodeIndex(n)),t.R7$(),t.Y8G("ngClass",o.setItemClasses(o.data.length,n)),t.R7$(),t.Y8G("ngIf",o.expandIcons&&o.hasChildren(e)),t.R7$(),t.Y8G("ngIf",o.checkboxes&&o.hasCheckbox(e,o.nodeIndex(n))),t.R7$(),t.xc7("touch-action",o.touchActions?"":"none"),t.AVh("k-disabled",o.isItemDisabled(e,n)),t.Y8G("id",o.nodeIndex(n))("dataItem",e)("index",o.nodeIndex(n))("initialSelection",o.isSelected(e,o.nodeIndex(n)))("isSelected",o.isSelected),t.BMQ("data-treeindex",o.nodeIndex(n)),t.R7$(2),t.Y8G("ngSwitch",o.hasTemplate),t.R7$(),t.Y8G("ngSwitchCase",!0),t.R7$(2),t.Y8G("ngIf",o.isExpanded(e,o.nodeIndex(n))&&o.hasChildren(e))}}function EZe(s,i){1&s&&t.nrm(0,"span",22)}function yZe(s,i){}function kZe(s,i){if(1&s&&t.DNE(0,yZe,0,0,"ng-template",15),2&s){const e=t.XpG(2);t.Y8G("ngTemplateOutlet",e.loadMoreButtonTemplateRef)("ngTemplateOutletContext",t.eq3(2,fZe,e.loadMoreButtonIndex))}}function wZe(s,i){if(1&s&&(t.qex(0),t.EFF(1),t.bVm()),2&s){const e=t.XpG(2);t.R7$(),t.SpI(" ",e.loadMoreTitle," ")}}function DZe(s,i){if(1&s&&(t.j41(0,"li",17)(1,"div",18),t.DNE(2,EZe,1,0,"span",19),t.j41(3,"span",20)(4,"span",7),t.DNE(5,kZe,1,4,null,21)(6,wZe,2,1,"ng-container",21),t.k0s()()()()),2&s){const e=t.XpG();t.AVh("k-treeview-load-more-checkboxes-container",e.checkboxes),t.Y8G("selectable",!1)("checkable",!1)("expandable",!1)("index",e.loadMoreButtonIndex)("parentDataItem",e.parentDataItem)("parentIndex",e.parentIndex),t.BMQ("data-treeindex",e.loadMoreButtonIndex),t.R7$(2),t.Y8G("ngIf",e.loadingMoreNodes),t.R7$(),t.Y8G("index",e.loadMoreButtonIndex),t.BMQ("data-treeindex",e.loadMoreButtonIndex),t.R7$(2),t.Y8G("ngIf",e.loadMoreButtonTemplateRef),t.R7$(),t.Y8G("ngIf",!e.loadMoreButtonTemplateRef)}}const OZe=["assetsContainer"],TZe=["searchbox"];function MZe(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",8),2&s){const e=t.XpG(2);t.Y8G("svgIcon",e.searchIcon)}}function IZe(s,i){if(1&s){const e=t.RV6();t.j41(0,"span",5)(1,"kendo-textbox",6,1),t.bIt("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.filterChange.emit(o))}),t.DNE(3,MZe,1,1,"ng-template",7),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("size",e.size)("value",e.filter)("clearButton",!0)("placeholder",e.filterInputPlaceholder)}}const BZe={name:"@progress/kendo-angular-treeview",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925267,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};class gQ{constructor(){this.changes=new t.bkB}notify(){this.changes.emit()}}const VZe=()=>!1,zZe=()=>"none",jZe=()=>!1,HZe=()=>!0,$Ze=()=>!0,i2e=()=>!1,s2e=()=>!0,XZe=(s,i)=>i;let Sx=(()=>{class s{constructor(){this.changes=new Xe.B}expand(e,n){this.changes.next({dataItem:n,index:e,expand:!0})}collapse(e,n){this.changes.next({dataItem:n,index:e,expand:!1})}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),fw=(()=>{class s{constructor(){this.INDEX_SEPARATOR="_"}nodeIndex(e="",n=""){return`${n}${n?this.INDEX_SEPARATOR:""}${e}`}indexForLevel(e,n){return e.split(this.INDEX_SEPARATOR).slice(0,n).join(this.INDEX_SEPARATOR)}lastLevelIndex(e=""){const n=e.split(this.INDEX_SEPARATOR);return n.length?parseInt(n[n.length-1],10):NaN}level(e){return e.split(this.INDEX_SEPARATOR).length}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),vQ=(()=>{class s{constructor(){this.changes=new Xe.B}notifyLoaded(e){this.changes.next(e)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const WZe=/^(?:a|input|select|option|textarea|button|object)$/i,w0=(s,i)=>{const e=s.matches||s.msMatchesSelector||s.webkitMatchesSelector;return!!e&&e.call(s,i)},mw=(s,i)=>{if(!document.documentElement.contains(s))return null;let e=s;for(;null!==e&&1===e.nodeType;){if(w0(e,i))return e;e=e.parentElement||e.parentNode}return null},Oe=s=>null!=s,a2e=s=>Array.isArray(s),D0=s=>{const i="li.k-treeview-item";return ne()?s.closest?s.closest(i):mw(s,i):null},l2e=s=>{if(s.tagName){const i=s.tagName.toLowerCase(),e=s.getAttribute("tabIndex"),n="-1"===e;let o=null!==e&&!n;return WZe.test(i)&&(o=!s.disabled&&!n),o}return!1},c2e=s=>Oe(mw(s,".k-treeview-leaf.k-treeview-load-more-button")),bQ=(s,i)=>!!((s,i)=>{for(;s&&!i(s);)s=s.parentNode;return s})(s,e=>e===i),d2e=s=>s.nativeElement.querySelector('li[tabindex="0"]'),EQ=s=>s?s.getAttribute("data-treeindex"):"",Uf=s=>(s||{}).index,Cx=(s,i)=>[s,i].filter(e=>Oe(e)).join("_"),p5=(s,i)=>({small:`k-${s}-sm`,medium:`k-${s}-md`,large:`k-${s}-lg`}[i]),yQ=s=>s||{},kQ=s=>yQ(s).children||[],wQ=s=>{if(!Array.isArray(s)||0===s.length)return null;for(let n=s.length-1;n>=0;n-=1){const o=s[n];if(o.visible)return o}return null};class tet{constructor(){this.ib=new fw,this.nodes=[]}firstVisibleNode(){return(this.nodes||[]).find(i=>i.visible)}lastVisibleNode(){let i=wQ(this.nodes);for(;Oe(i)&&kQ(i).length>0;){const e=kQ(i),n=wQ(e);if(!Oe(n))return i;i=n}return i}closestNode(i){const{prev:e}=yQ(this.findNode(i)),n=e||this.firstVisibleNode();return yQ(n).index===i?this.visibleSibling(n,1):n}firstFocusableNode(){return this.nodes.find(i=>!i.disabled&&i.visible)}findNode(i){return this.find(i,this.nodes)}findParent(i){const e=this.ib.level(i)-1;return this.findNode(this.ib.indexForLevel(i,e))}findVisibleChild(i){const e=this.findNode(i);return kQ(e).find(o=>o.visible)}findVisiblePrev(i){const e=i.index,n=this.findParent(e),o=this.ib.lastLevelIndex(e),a=this.container(n).slice(0,o).every(u=>!u.visible);if(0===o||a)return n;const l=this.findNode(e);let c=this.visibleSibling(l,-1);if(c){let u=this.container(c);for(;u.length>0&&u.some(f=>f.visible);)c=wQ(u),u=this.container(c)}return c}findVisibleNext(i){const e=this.container(i),n=e.some(o=>o.visible);return 0!==e.length&&n?e.find(o=>o.visible):this.visibleSibling(i,1)}registerItem(i,e,n,o=!1,r=!0){const a=[],l=this.ib.level(e),c=this.findParent(e);(c||1===l)&&this.insert({id:i,children:a,index:e,parent:c,disabled:n,loadMoreButton:o,visible:r},c)}unregisterItem(i,e){const n=this.find(e,this.nodes);if(!n||n.id!==i)return;const o=this.container(n.parent);o.splice(o.indexOf(n),1)}childLevel(i){const e=i.filter(n=>Oe(n));return e&&e.length?this.ib.level(e[0].index):1}container(i){return i?i.children:this.nodes}find(i,e){const n=this.childLevel(e),o=this.ib.indexForLevel(i,n),r=n===this.ib.level(i),a=e.find(l=>l&&l.index===o);return a?r?a:this.find(i,a.children):null}insert(i,e){this.container(e).splice(this.ib.lastLevelIndex(i.index),0,i)}visibleSibling(i,e){if(!i)return null;const n=this.findParent(i.index),o=this.container(n);let r=o.indexOf(i)+e,a=o[r];for(;Oe(a);){if(a.visible)return a;r+=e,a=o[r]}return this.visibleSibling(n,e)}}let gw=(()=>{class s{constructor(e){this.localization=e,this.expands=new Xe.B,this.moves=new Xe.B,this.checks=new Xe.B,this.selects=new Xe.B,this.deselectAllButCurrentItem=new Xe.B,this.loadMore=new Xe.B,this.navigable=!0,this.selection="single",this.actions={[F.ArrowUp]:()=>this.activate(this.model.findVisiblePrev(this.focusableItem),!0),[F.ArrowDown]:()=>this.activate(this.model.findVisibleNext(this.focusableItem),!0),[F.ArrowLeft]:()=>!this.isLoadMoreButton&&this.expand({expand:this.localization.rtl,intercept:this.localization.rtl?this.moveToFirstVisibleChild:this.moveToParent}),[F.ArrowRight]:()=>!this.isLoadMoreButton&&this.expand({expand:!this.localization.rtl,intercept:this.localization.rtl?this.moveToParent:this.moveToFirstVisibleChild}),[F.Home]:()=>this.activate(this.model.firstVisibleNode(),!0),[F.End]:()=>this.activate(this.model.lastVisibleNode(),!0),[F.Enter]:n=>this.handleEnter(n),[F.Space]:()=>this.handleSpace()},this.isFocused=!1,this.shouldScroll=!1,this._model=new tet,this.moveToFirstVisibleChild=this.moveToFirstVisibleChild.bind(this),this.moveToParent=this.moveToParent.bind(this)}get model(){return this._model}set model(e){this._model=e}get activeIndex(){return Uf(this.activeItem)||null}get isActiveExpanded(){return this.activeItem&&this.activeItem.children.length>0}get isLoadMoreButton(){return this.activeItem&&this.activeItem.loadMoreButton}get focusableItem(){return this.activeItem||this.model.firstFocusableNode()}activate(e,n=!1){!this.navigable||!e||this.isActive(Uf(e))||(this.isFocused=!0,this.activeItem=e||this.activeItem,this.shouldScroll=n,this.notifyMove())}activateParent(e){this.activate(this.model.findParent(e))}activateIndex(e){e&&this.activate(this.model.findNode(e))}activateClosest(e){!e||Uf(this.focusableItem)!==e||(this.activeItem=this.model.closestNode(e),this.notifyMove())}activateFocusable(){this.activeItem||(this.activeItem=this.model.firstVisibleNode(),this.notifyMove())}deactivate(){!this.navigable||!this.isFocused||(this.isFocused=!1,this.notifyMove())}checkIndex(e){this.isDisabled(e)||this.checks.next(e)}selectIndex(e){this.isDisabled(e)||this.selects.next(e)}notifyLoadMore(e){Oe(e)&&this.loadMore.next(e)}isActive(e){return!!e&&this.isFocused&&this.activeIndex===e}isFocusable(e){return Uf(this.focusableItem)===e}isDisabled(e){return!!e&&this.model.findNode(e).disabled}registerItem(e,n,o,r=!1,a=!0){const l=this.model.findNode(n);Oe(l)&&(this.model.unregisterItem(l.id,l.index),this.isActive(n)&&this.deactivate()),this.model.registerItem(e,n,o,r,a)}updateItem(e,n,o=!0){const r=this.model.findNode(e);Oe(r)&&this.isActive(e)&&this.deactivate(),r.disabled=n,r.visible=o}unregisterItem(e,n){this.isActive(n)&&this.activateParent(n),this.model.unregisterItem(e,n)}move(e){if(!this.navigable)return;const n=this.actions[e.keyCode];n&&(n(e),e.preventDefault())}expand({expand:e,intercept:n}){const o=Uf(this.activeItem);!o||n(o)||this.notifyExpand(e)}moveToParent(){return!this.isActiveExpanded&&(this.activate(this.model.findParent(Uf(this.activeItem))),!0)}moveToFirstVisibleChild(){return!!this.isActiveExpanded&&(this.activate(this.model.findVisibleChild(Uf(this.activeItem))),!0)}notifyExpand(e){this.expands.next(this.navigationState(e))}notifyMove(){this.moves.next(this.navigationState())}navigationState(e=!1){return{expand:e,index:this.activeIndex,isFocused:this.isFocused,shouldScroll:this.shouldScroll}}handleEnter(e){this.navigable&&(this.isLoadMoreButton?this.notifyLoadMore(this.activeIndex):e.ctrlKey||e.metaKey?this.selectIndex(this.activeIndex):"multiple"===this.selection?this.deselectAllButCurrentItem.next({dataItem:this.activeItem,index:this.activeIndex}):this.selectIndex(this.activeIndex))}handleSpace(){this.navigable&&(this.isLoadMoreButton?this.notifyLoadMore(this.activeIndex):this.checkIndex(this.activeIndex))}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(j))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),DQ=(()=>{class s{constructor(){this.changes=new Xe.B}childrenLoaded(e,n){this.changes.next({item:e,children:n})}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),OQ=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoTreeViewNodeTemplate",""]]}),s})(),TQ=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoTreeViewLoadMoreButtonTemplate",""]]}),s})(),Bf=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),bx=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),f5=(()=>{class s{constructor(){this.changes=new Xe.B}isFirstSelected(e){return this.firstIndex===e}setFirstSelected(e,n){this.firstIndex===e&&!1===n?this.firstIndex=null:!this.firstIndex&&n&&(this.firstIndex=e)}select(e,n){this.changes.next({dataItem:n,index:e})}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const net=/\d+$/;let m5=(()=>{class s{constructor(){this.map=new Map}reset(){this.map.clear()}registerItem(e,n){const o={children:[],item:e,parent:this.item(Uf(n))};this.map.set(e.index,o)}registerChildren(e,n){const o=this.item(e);o&&(o.children=n)}unregisterItem(e,n){const o=this.item(e);o&&o.item.dataItem===n&&(this.map.delete(e),o.parent&&o.parent.children&&(o.parent.children=o.parent.children.filter(r=>r.dataItem!==n)))}replaceItem(e,n,o){n&&(this.unregisterItem(e,n.dataItem),this.registerItem(n,o),this.addToParent(n,o))}itemLookup(e){const n=this.item(e);return n?{children:this.mapChildren(n.children),item:n.item,parent:n.parent}:null}hasItem(e){return this.map.has(e)}item(e){return this.map.get(e)||null}addToParent(e,n){if(n){const o=this.item(n.index),r=parseInt(net.exec(e.index)[0],10);o.children=o.children||[],o.children.splice(r,0,e)}}mapChildren(e=[]){return e.map(n=>{const{item:o,parent:r,children:a}=this.item(n.index);return{children:this.mapChildren(a),item:o,parent:r}})}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),_2e=(()=>{class s{constructor(e,n,o){this.element=e,this.renderer=n,this.changeDetector=o,this.id=`_${rn()}`,this.tabindex=0,this.size="medium",this.checkStateChange=new t.bkB,this.checkState="none"}get classWrapper(){return!0}get indeterminate(){return"indeterminate"===this.checkState}get checked(){return"checked"===this.checkState}get checkBoxClasses(){return`k-checkbox ${this.size?p5("checkbox",this.size):""} k-rounded-md`}ngOnInit(){this.renderer.removeAttribute(this.element.nativeElement,"tabindex")}ngDoCheck(){this.checkState=this.isChecked(this.node,this.index)}handleChange(e){const n=e.target.checked?"checked":"none";this.checkState=n,this.changeDetector.detectChanges(),this.checkStateChange.emit(n)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.gRc))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-checkbox"]],hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-checkbox-wrap",n.classWrapper)},inputs:{id:"id",isChecked:"isChecked",node:"node",index:"index",labelledby:"labelledby",tabindex:"tabindex",size:"size"},outputs:{checkStateChange:"checkStateChange"},decls:1,vars:8,consts:[["type","checkbox","role","none",3,"change","id","checked","indeterminate","tabindex"]],template:function(e,n){1&e&&(t.j41(0,"input",0),t.bIt("change",function(r){return n.handleChange(r)}),t.k0s()),2&e&&(t.HbH(n.checkBoxClasses),t.Y8G("id",n.id)("checked",n.checked)("indeterminate",n.indeterminate)("tabindex",n.tabindex),t.BMQ("aria-hidden","true")("aria-labelledby",n.labelledby))},encapsulation:2}),s})();const g2e=(s,i)=>({dataItem:i,index:s});let iet=0,v2e=(()=>{class s{constructor(e,n,o,r,a,l,c){this.element=e,this.expandService=n,this.navigationService=o,this.selectionService=r,this.lookupService=a,this.renderer=l,this.ib=c,this.role="treeitem",this.loadOnDemand=!0,this.isDisabled=!1,this.isVisible=!0,this.ariaChecked="false",this.id=iet++,this.isInitialized=!1,this.subscriptions=[],this.subscribe()}set isChecked(e){this.ariaChecked="checked"===e?"true":"indeterminate"===e?"mixed":"false"}get isExpanded(){return this._isExpanded||!1}set isExpanded(e){this._isExpanded=e}get isSelected(){return this._isSelected||!1}set isSelected(e){this._isSelected=e}get isButton(){return"button"===this.role}get treeItem(){return g2e(this.index,this.dataItem)}get parentTreeItem(){return this.parentDataItem?g2e(this.parentIndex,this.parentDataItem):null}ngOnInit(){this.loadOnDemand&&!this.isButton&&this.lookupService.registerItem(this.treeItem,this.parentTreeItem),this.registerNavigationItem(),this.isInitialized=!0,this.setAttribute("role",this.role),this.setAriaAttributes(),this.updateTabIndex()}ngOnChanges(e){const{index:n}=e;Zi(["index","checkable","isChecked","expandable","isExpanded","selectable","isSelected"],e)&&this.setAriaAttributes(),this.loadOnDemand&&!this.isButton&&this.moveLookupItem(e),this.moveNavigationItem(n),Zi(["isDisabled","isVisible"],e)&&this.updateNodeAvailability()}ngOnDestroy(){this.navigationService.unregisterItem(this.id,this.index),this.loadOnDemand&&!this.isButton&&this.lookupService.unregisterItem(this.index,this.dataItem),this.subscriptions=this.subscriptions.reduce((e,n)=>(n.unsubscribe(),e),[])}subscribe(){this.subscriptions=[this.navigationService.moves.subscribe(e=>{this.updateTabIndex(),this.focusItem(e.shouldScroll)}),this.navigationService.expands.pipe(z(({index:e})=>e===this.index&&!this.isDisabled)).subscribe(({expand:e})=>this.expand(e))]}registerNavigationItem(){this.navigationService.registerItem(this.id,this.index,this.isDisabled,this.isButton,this.isVisible),this.activateItem()}activateItem(){if(this.isDisabled)return;const e=this.navigationService,n=this.selectionService,o=this.index;n.setFirstSelected(o,this.isSelected),!e.isActive(o)&&n.isFirstSelected(o)&&e.activateIndex(o)}expand(e){this.expandService[e?"expand":"collapse"](this.index,this.dataItem)}isFocusable(){return!this.isDisabled&&this.navigationService.isFocusable(this.index)}focusItem(e=!1){this.isInitialized&&this.navigationService.isActive(this.index)&&this.element.nativeElement.focus({preventScroll:!e})}moveLookupItem(e={}){const{dataItem:n,index:o,parentDataItem:r,parentIndex:a}=e;o&&o.firstChange||!(n||o||r||a)||this.lookupService.replaceItem((o||{}).previousValue||this.index,this.treeItem,this.parentTreeItem)}moveNavigationItem(e={}){const{currentValue:n,firstChange:o,previousValue:r}=e;!o&&Oe(n)&&Oe(r)&&(this.navigationService.unregisterItem(this.id,r),this.navigationService.registerItem(this.id,n,this.isDisabled,this.isButton))}updateNodeAvailability(){const e=this.navigationService;this.isDisabled||!this.isVisible?e.activateClosest(this.index):e.activateFocusable(),e.updateItem(this.index,this.isDisabled,this.isVisible)}setAriaAttributes(){this.setAttribute("aria-level",this.ib.level(this.index).toString()),this.setAttribute("aria-expanded",this.expandable?this.isExpanded.toString():null),this.setAttribute("aria-selected",this.selectable?this.isSelected.toString():null),this.setAttribute("aria-checked",this.checkable?this.ariaChecked:null)}updateTabIndex(){this.setAttribute("tabIndex",this.isFocusable()?"0":"-1")}setAttribute(e,n){Oe(n)?this.renderer.setAttribute(this.element.nativeElement,e,n):this.renderer.removeAttribute(this.element.nativeElement,e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(Sx),t.rXU(gw),t.rXU(f5),t.rXU(m5),t.rXU(t.sFG),t.rXU(fw))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoTreeViewItem",""]],inputs:{dataItem:"dataItem",index:"index",parentDataItem:"parentDataItem",parentIndex:"parentIndex",role:"role",loadOnDemand:"loadOnDemand",checkable:"checkable",selectable:"selectable",expandable:"expandable",isChecked:"isChecked",isDisabled:"isDisabled",isVisible:"isVisible",isExpanded:"isExpanded",isSelected:"isSelected"},features:[t.OA$]}),s})(),S2e=(()=>{class s{constructor(e,n,o){this.expandService=e,this.loadingService=n,this.cd=o,this._loading=!1}get loading(){return this._loading}set loading(e){this._loading=e,this.cd.markForCheck()}ngOnInit(){const e=this.loadingService.changes.pipe(z(n=>n===this.index));this.subscription=this.expandService.changes.pipe(z(({index:n})=>n===this.index),x(({expand:n})=>{!n&&this.loading&&(this.loading=!1)}),z(({expand:n})=>n),Y(n=>pt(n).pipe(X_(100),zs(e)))).subscribe(()=>this.loading=!0),this.subscription.add(e.subscribe(()=>this.loading=!1))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Sx),t.rXU(vQ),t.rXU(t.gRc))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoTreeViewLoading",""]],hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-i-loading",n.loading)},inputs:{index:[t.Mj6.None,"kendoTreeViewLoading","index"]}}),s})(),C2e=(()=>{class s{constructor(e,n,o,r){this.element=e,this.navigationService=n,this.selectionService=o,this.renderer=r,this.initialSelection=!1,this.isSelected=i2e,this.subscriptions=new be.yU,this.subscriptions.add(this.navigationService.moves.subscribe(this.updateFocusClass.bind(this))),this.subscriptions.add(this.navigationService.selects.pipe(z(a=>a===this.index)).subscribe(a=>this.selectionService.select(a,this.dataItem))),this.subscriptions.add(this.selectionService.changes.subscribe(()=>{this.updateSelectionClass(this.isSelected(this.dataItem,this.index))}))}ngOnChanges(e){e.initialSelection&&this.updateSelectionClass(this.initialSelection),e.index&&this.updateFocusClass()}ngOnDestroy(){this.subscriptions.unsubscribe()}updateFocusClass(){this.render(this.navigationService.isActive(this.index),"k-focus")}updateSelectionClass(e){this.render(e,"k-selected")}render(e,n){this.renderer[e?"addClass":"removeClass"](this.element.nativeElement,n)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(gw),t.rXU(f5),t.rXU(t.sFG))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoTreeViewItemContent",""]],inputs:{dataItem:"dataItem",index:"index",initialSelection:"initialSelection",isSelected:"isSelected"},features:[t.OA$]}),s})();const b2e="k-treeview-top",E2e="k-treeview-mid",MQ="k-treeview-bot";let y2e=(()=>{class s{constructor(e,n,o,r,a,l,c,u,f){this.expandService=e,this.loadingService=n,this.indexBuilder=o,this.treeViewLookupService=r,this.navigationService=a,this.nodeChildrenService=l,this.dataChangeNotification=c,this.changeDetectorRef=u,this.localization=f,this.caretAltDownIcon=Bo,this.caretAltRightIcon=Uo,this.caretAltLeftIcon=Xa,this.kGroupClass=!0,this.loadOnDemand=!0,this.textField="",this.size="medium",this.initialNodesLoaded=!1,this.loadingMoreNodes=!1,this.isItemExpandable=(_,g)=>this.expandDisabledNodes||!this.isItemDisabled(_,g),this._data=[],this.singleRecordSubscriptions=new be.yU,this.localizationSubscriptions=new be.yU,this.isChecked=()=>"none",this.isDisabled=()=>!1,this.hasCheckbox=()=>!0,this.isExpanded=()=>!1,this.isVisible=()=>!0,this.isSelected=()=>!1,this.children=()=>pt([]),this.hasChildren=()=>!1}get role(){return this.parentIndex?"group":"tree"}getFontIcon(e,n){return this.isExpanded(e,n)?"caret-alt-down":this.localization.rtl?"caret-alt-left":"caret-alt-right"}getSvgIcon(e,n){return this.isExpanded(e,n)?Bo:this.localization.rtl?Xa:Uo}get moreNodesAvailable(){return!(!Oe(this.loadMoreService)||0===this.data.length)&&this.pageSize<this.totalNodesCount}get pageSize(){return Oe(this.loadMoreService)?this.loadMoreService.getGroupSize(this.parentDataItem):null}set pageSize(e){this.loadMoreService.setGroupSize(this.parentDataItem,e)}get data(){return Oe(this.pageSize)?this._data.slice(0,this.pageSize>0?this.pageSize:0):this._data}set data(e){this._data=e,this.registerLoadedNodes(this.data)}get loadMoreButtonIndex(){return this.loadMoreService?this.nodeIndex(this.data.length):null}get totalNodesCount(){return this.loadMoreService?this.loadMoreService.getTotalNodesCount(this.parentDataItem,this._data.length):this.data.length}get hasTemplate(){return Oe(this.nodeTemplateRef)}expandNode(e,n,o){o?this.expandService.expand(e,n):this.expandService.collapse(e,n)}checkNode(e){this.navigationService.checkIndex(e),this.navigationService.activateIndex(e)}nodeIndex(e){return this.indexBuilder.nodeIndex(e.toString(),this.parentIndex)}nodeText(e){return _r(a2e(this.textField)?this.textField[0]:this.textField)(e)}ngOnDestroy(){Oe(this.nodesSubscription)&&this.nodesSubscription.unsubscribe(),Oe(this.loadMoreNodesSubscription)&&this.loadMoreNodesSubscription.unsubscribe(),this.singleRecordSubscriptions.unsubscribe(),this.localizationSubscriptions.unsubscribe()}ngOnInit(){this.subscribeToNodesChange(),this.singleRecordSubscriptions.add(this.dataChangeNotification.changes.subscribe(this.subscribeToNodesChange.bind(this))),this.singleRecordSubscriptions.add(this.navigationService.loadMore.pipe(z(e=>e===this.loadMoreButtonIndex)).subscribe(this.loadMoreNodes.bind(this))),this.localizationSubscriptions.add(this.localization.changes.subscribe(this.l10nChange.bind(this)))}ngOnChanges(e){e.parentIndex&&this.loadOnDemand&&this.setNodeChildren(this.mapToTreeItem(this.data)),this.localization.get("loadMore")&&(this.loadMoreTitle=this.localization.get("loadMore"))}l10nChange(){this.localization.get("loadMore")&&(this.loadMoreTitle=this.localization.get("loadMore")),this.changeDetectorRef.markForCheck()}fetchChildren(e,n){return this.children(e).pipe(Lc(()=>(this.loadingService.notifyLoaded(n),Nr)),x(()=>this.loadingService.notifyLoaded(n)))}get nextFields(){return a2e(this.textField)?this.textField.length>1?this.textField.slice(1):this.textField:[this.textField]}loadMoreNodes(){Oe(this.loadMoreService.loadMoreNodes)?this.fetchMoreNodes():this.loadMoreLocalNodes()}isItemDisabled(e,n){return this.disabled&&!this.disableParentNodesOnly||this.isDisabled(e,this.nodeIndex(n))}setItemClasses(e,n){return 1===e?this.parentIndex?MQ:`${b2e} ${MQ}`:0===n?b2e:n>0&&n<e-1?E2e:n===this.totalNodesCount-1?MQ:E2e}loadMoreLocalNodes(){const e=this.loadMoreButtonIndex;this.pageSize+=this.loadMoreService.getInitialPageSize(this.parentDataItem),this.registerLoadedNodes(this.data),this.changeDetectorRef.detectChanges(),this.reselectItemAt(e)}fetchMoreNodes(){this.loadingMoreNodes||(this.loadingMoreNodes=!0,Oe(this.loadMoreNodesSubscription)&&this.loadMoreNodesSubscription.unsubscribe(),this.loadMoreNodesSubscription=this.loadMoreService.loadMoreNodes({dataItem:this.parentDataItem,skip:this.data.length,take:this.loadMoreService.getInitialPageSize(this.parentDataItem)}).pipe($h(()=>this.loadingMoreNodes=!1)).subscribe(e=>{if(!(Array.isArray(e)&&e.length>0))return;const n=this.loadMoreButtonIndex;this.pageSize+=e.length,this.data=this.data.concat(e),this.navigationService.isActive(n)&&(this.changeDetectorRef.detectChanges(),this.reselectItemAt(n))}))}setNodeChildren(e){this.treeViewLookupService.registerChildren(this.parentIndex,e)}mapToTreeItem(e){return this.parentIndex?e.map((n,o)=>({dataItem:n,index:this.nodeIndex(o)})):[]}emitChildrenLoaded(e){if(!this.parentIndex)return;const n=e.filter(o=>o.dataItem);this.nodeChildrenService.childrenLoaded({dataItem:this.parentDataItem,index:this.parentIndex},n)}subscribeToNodesChange(){this.nodesSubscription&&this.nodesSubscription.unsubscribe(),this.nodesSubscription=this.nodes(this.parentDataItem,this.parentIndex).subscribe(e=>{this.data=e,this.initialNodesLoaded=!0})}reselectItemAt(e){Oe(e)&&(this.navigationService.deactivate(),this.navigationService.activateIndex(e))}registerLoadedNodes(e=[]){const n=this.mapToTreeItem(e);this.loadOnDemand&&this.setNodeChildren(n),this.emitChildrenLoaded(n)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Sx),t.rXU(vQ),t.rXU(fw),t.rXU(m5),t.rXU(gw),t.rXU(DQ),t.rXU(gQ),t.rXU(t.gRc),t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoTreeViewGroup",""]],hostVars:3,hostBindings:function(e,n){2&e&&(t.BMQ("role",n.role),t.AVh("k-treeview-group",n.kGroupClass))},inputs:{checkboxes:"checkboxes",expandIcons:"expandIcons",disabled:"disabled",selectable:"selectable",touchActions:"touchActions",disableParentNodesOnly:"disableParentNodesOnly",loadOnDemand:"loadOnDemand",trackBy:"trackBy",nodes:"nodes",textField:"textField",parentDataItem:"parentDataItem",parentIndex:"parentIndex",nodeTemplateRef:"nodeTemplateRef",loadMoreButtonTemplateRef:"loadMoreButtonTemplateRef",loadMoreService:"loadMoreService",size:"size",expandDisabledNodes:"expandDisabledNodes",isChecked:"isChecked",isDisabled:"isDisabled",hasCheckbox:"hasCheckbox",isExpanded:"isExpanded",isVisible:"isVisible",isSelected:"isSelected",children:"children",hasChildren:"hasChildren"},features:[t.OA$],attrs:hZe,decls:2,vars:3,consts:[["class","k-treeview-item","kendoTreeViewItem","",3,"k-hidden","dataItem","index","parentDataItem","parentIndex","loadOnDemand","checkable","isChecked","isDisabled","isVisible","expandable","isExpanded","selectable","isSelected",4,"ngFor","ngForOf","ngForTrackBy"],["class","k-treeview-item","kendoTreeViewItem","","role","button",3,"k-treeview-load-more-checkboxes-container","selectable","checkable","expandable","index","parentDataItem","parentIndex",4,"ngIf"],["kendoTreeViewItem","",1,"k-treeview-item",3,"dataItem","index","parentDataItem","parentIndex","loadOnDemand","checkable","isChecked","isDisabled","isVisible","expandable","isExpanded","selectable","isSelected"],[3,"ngClass"],["class","k-treeview-toggle",3,"k-disabled","kendoTreeViewLoading","click",4,"ngIf"],[3,"k-disabled","size","node","index","isChecked","tabindex","labelledby","checkStateChange",4,"ngIf"],["kendoTreeViewItemContent","",1,"k-treeview-leaf",3,"id","dataItem","index","initialSelection","isSelected"],[1,"k-treeview-leaf-text"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["kendoTreeViewGroup","","role","group",3,"size","nodes","loadOnDemand","checkboxes","expandIcons","selectable","touchActions","children","hasChildren","isChecked","isDisabled","hasCheckbox","disabled","expandDisabledNodes","isExpanded","isSelected","isVisible","nodeTemplateRef","loadMoreButtonTemplateRef","parentIndex","parentDataItem","textField","loadMoreService","trackBy","disableParentNodesOnly",4,"ngIf"],[1,"k-treeview-toggle",3,"click","kendoTreeViewLoading"],[3,"name","svgIcon"],[3,"checkStateChange","size","node","index","isChecked","tabindex","labelledby"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["kendoTreeViewGroup","","role","group",3,"size","nodes","loadOnDemand","checkboxes","expandIcons","selectable","touchActions","children","hasChildren","isChecked","isDisabled","hasCheckbox","disabled","expandDisabledNodes","isExpanded","isSelected","isVisible","nodeTemplateRef","loadMoreButtonTemplateRef","parentIndex","parentDataItem","textField","loadMoreService","trackBy","disableParentNodesOnly"],["kendoTreeViewItem","","role","button",1,"k-treeview-item",3,"selectable","checkable","expandable","index","parentDataItem","parentIndex"],[1,"k-treeview-bot"],["class","k-icon k-i-loading",4,"ngIf"],["kendoTreeViewItemContent","",1,"k-treeview-leaf","k-treeview-load-more-button",3,"index"],[4,"ngIf"],[1,"k-icon","k-i-loading"]],template:function(e,n){1&e&&t.DNE(0,bZe,10,33,"li",0)(1,DZe,7,14,"li",1),2&e&&(t.Y8G("ngForOf",n.data)("ngForTrackBy",n.trackBy),t.R7$(),t.Y8G("ngIf",n.initialNodesLoaded&&n.moreNodesAvailable))},dependencies:[Ke,_2e,s,st,v2e,Pe,W,S2e,C2e,Fa,yd,Je,Zt],encapsulation:2,data:{animation:[o_("toggle",[mo("void => *",[We({height:0}),hi("0.1s ease-in",We({height:"*"}))]),mo("* => void",[We({height:"*"}),hi("0.1s ease-in",We({height:0}))])])]}}),s})(),_5=(()=>{class s extends Gi{}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275dir=t.FsC({type:s,selectors:[["kendo-treeview-messages-base"]],inputs:{loadMore:"loadMore"},features:[t.Vt3]}),s})(),IQ=(()=>{class s extends _5{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoTreeViewLocalizedMessages",""]],features:[t.Jv_([{provide:_5,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})(),k2e=0;const aet=[Sx,fw,m5,vQ,DQ,gw,f5,gQ,j,{provide:Ve,useValue:"kendo.treeview"},{provide:Bf,useExisting:(0,t.Rfq)(()=>Ud)},{provide:bx,useExisting:(0,t.Rfq)(()=>Ud)}];let Ud=(()=>{class s{constructor(e,n,o,r,a,l,c,u,f,_,g){this.element=e,this.changeDetectorRef=n,this.expandService=o,this.navigationService=r,this.nodeChildrenService=a,this.selectionService=l,this.treeViewLookupService=c,this.ngZone=u,this.renderer=f,this.dataChangeNotification=_,this.localization=g,this.searchIcon=Vk,this.classNames=!0,this.filterInputPlaceholder="",this.fetchNodes=()=>this.data,this.childrenLoaded=new t.bkB,this.onBlur=new t.bkB,this.onFocus=new t.bkB,this.expand=new t.bkB,this.collapse=new t.bkB,this.nodeDragStart=new t.bkB,this.nodeDrag=new t.bkB,this.filterStateChange=new t.bkB,this.nodeDrop=new t.bkB,this.nodeDragEnd=new t.bkB,this.addItem=new t.bkB,this.removeItem=new t.bkB,this.checkedChange=new t.bkB,this.selectionChange=new t.bkB,this.filterChange=new t.bkB,this.nodeClick=new t.bkB,this.nodeDblClick=new t.bkB,this.trackBy=XZe,this.isDisabled=jZe,this.hasCheckbox=HZe,this.isVisible=s2e,this.navigable=!0,this.children=()=>pt([]),this.loadOnDemand=!0,this.filterable=!1,this.filter="",this.disableParentNodesOnly=!1,this.checkboxes=!1,this.expandIcons=!1,this.selectable=!1,this.touchActions=!0,this.isActive=!1,this.data=new Fn.t([]),this._animate=!0,this._size="medium",this.subscriptions=new be.yU,this.domSubscriptions=[],this._nextId=k2e,(0,mt.$)(BZe),k2e++}get direction(){return this.localization.rtl?"rtl":"ltr"}set animate(e){this._animate=e}get animate(){return!this._animate}set nodeTemplateRef(e){this._nodeTemplateRef=e}get nodeTemplateRef(){return this._nodeTemplateRef||this.nodeTemplateQuery}set loadMoreButtonTemplateRef(e){this._loadMoreButtonTemplateRef=e}get loadMoreButtonTemplateRef(){return this._loadMoreButtonTemplateRef||this.loadMoreButtonTemplateQuery}set nodes(e){this.data.next(e||[]),this.dataChangeNotification.notify()}get nodes(){return this.data.value}get hasChildren(){return this._hasChildren||VZe}set hasChildren(e){this._hasChildren=e,this.expandIcons=!(!this._isExpanded||!this._hasChildren)}get isChecked(){return this._isChecked||zZe}set isChecked(e){this._isChecked=e,this.checkboxes=!!this._isChecked}get isExpanded(){return this._isExpanded||$Ze}set isExpanded(e){this._isExpanded=e,this.expandIcons=!(!this._isExpanded||!this._hasChildren)}get isSelected(){return this._isSelected||i2e}set isSelected(e){this._isSelected=e,this.selectable=!!this._isSelected}set size(e){const n=e||"medium";"none"!==this.size&&this.renderer.removeClass(this.element.nativeElement,p5("treeview",this.size)),this.renderer.addClass(this.element.nativeElement,p5("treeview",n)),this._size=e}get size(){return this._size}get treeviewId(){return`treeview_${this._nextId}`}ngOnChanges(e){this.navigationService.navigable=!!this.navigable,Zi(["nodes","children","hasChildren","loadOnDemand"],e,!1)&&!this.loadOnDemand&&this.preloadChildNodes()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.domSubscriptions.forEach(e=>e())}ngOnInit(){this.subscriptions.add(this.nodeChildrenService.changes.subscribe(e=>this.childrenLoaded.emit(e))),this.subscriptions.add(this.expandService.changes.subscribe(({index:e,dataItem:n,expand:o})=>o?this.expand.emit({index:e,dataItem:n}):this.collapse.emit({index:e,dataItem:n}))),this.subscriptions.add(this.navigationService.checks.subscribe(e=>this.checkedChange.emit(this.treeViewLookupService.itemLookup(e)))),this.subscriptions.add(this.selectionService.changes.subscribe(e=>{ke(this.selectionChange)&&this.ngZone.run(()=>{this.selectionChange.emit(e)})})),this.element&&this.ngZone.runOutsideAngular(()=>{this.attachDomHandlers()}),this.size&&this.renderer.addClass(this.element.nativeElement,p5("treeview",this.size))}ngAfterViewInit(){this.searchbox&&(this.renderer.setAttribute(this.searchbox.input.nativeElement,"role","searchbox"),this.renderer.setAttribute(this.searchbox.input.nativeElement,"aria-controls",this.treeviewId),this.renderer.setAttribute(this.searchbox.input.nativeElement,"aria-label","searchbar"))}blur(){if(!ne())return;const e=d2e(this.element);document.activeElement===e&&e.blur()}focus(e){const n=e||Uf(this.navigationService.focusableItem);this.navigationService.activateIndex(n);const o=d2e(this.element);o&&o.focus()}itemLookup(e){return this.treeViewLookupService.itemLookup(e)}rebindChildren(){this.dataChangeNotification.notify()}expandNode(e,n){this.expandService.expand(n,e)}collapseNode(e,n){this.expandService.collapse(n,e)}getNodePageSize(e){return this.verifyLoadMoreService(),this.loadMoreService.getGroupSize(e)}setNodePageSize(e,n){this.verifyLoadMoreService(),this.loadMoreService.setGroupSize(e,n)}preloadChildNodes(){this.treeViewLookupService.reset(),this.registerLookupItems(this.nodes)}attachDomHandlers(){const e=this.element.nativeElement;this.clickHandler=this.clickHandler.bind(this),this.domSubscriptions.push(this.renderer.listen(e,"contextmenu",this.clickHandler),this.renderer.listen(e,"click",this.clickHandler),this.renderer.listen(e,"dblclick",this.clickHandler),this.renderer.listen(e,"focusin",this.focusHandler.bind(this)),this.renderer.listen(e,"focusout",this.blurHandler.bind(this)),this.renderer.listen(e,"keydown",this.keydownHandler.bind(this)))}focusHandler(e){let n;if(w0(e.target,".k-treeview-item")?n=e.target:l2e(e.target)||(n=D0(e.target)),n){const o=EQ(e.target);if(this.navigationService.isDisabled(o))return;this.navigationService.activateIndex(o),!this.isActive&&ke(this.onFocus)&&this.ngZone.run(()=>{this.onFocus.emit()}),this.isActive=!0}}blurHandler(e){this.isActive&&w0(e.target,".k-treeview-item")&&(!e.relatedTarget||!w0(e.relatedTarget,".k-treeview-item")||!bQ(e.relatedTarget,this.element.nativeElement))&&(this.navigationService.deactivate(),this.isActive=!1,ke(this.onBlur)&&this.ngZone.run(()=>{this.onBlur.emit()}))}clickHandler(e){const n=e.target;if("contextmenu"===e.type&&!ke(this.nodeClick)||"click"===e.type&&!ke(this.nodeClick)&&!ke(this.selectionChange)&&!c2e(n)||"dblclick"===e.type&&!ke(this.nodeDblClick)||l2e(n)||!(s=>{if(!ne())return null;let e=s;for(;e&&!w0(e,".k-treeview-leaf:not(.k-treeview-load-more-button),.k-treeview-item,.k-treeview");)e=e.parentNode;return e?w0(e,".k-treeview-leaf:not(.k-treeview-load-more-button)"):void 0})(n)&&!c2e(n)||!bQ(n,this.element.nativeElement))return;const o=EQ(D0(n));!o||this.navigationService.isDisabled(o)||this.ngZone.run(()=>{const r=this.treeViewLookupService.itemLookup(o);if("click"===e.type){if(this.navigationService.model.findNode(o).loadMoreButton)return void this.navigationService.notifyLoadMore(o);this.navigationService.selectIndex(o)}("dblclick"===e.type?this.nodeDblClick:this.nodeClick).emit({item:r.item,originalEvent:e,type:e.type})})}keydownHandler(e){this.isActive&&this.navigable&&this.ngZone.run(()=>{this.navigationService.move(e)})}verifyLoadMoreService(){if((0,t.naY)()&&!Oe(this.loadMoreService))throw new Error("To use the TreeView paging functionality, you need to assign the `kendoTreeViewLoadMore` directive. See http://www.telerik.com/kendo-angular-ui/components/treeview/load-more-button/.")}registerLookupItems(e,n=null){if(!Oe(e)||0===e.length)return;const o=Uf(n),r=e.map((a,l)=>((s,i,e)=>Oe(s)?{dataItem:s,index:Cx(e,i)}:null)(a,l,o));Oe(n)&&this.treeViewLookupService.registerChildren(o,r),r.forEach(a=>{this.treeViewLookupService.registerItem(a,n),this.hasChildren(a.dataItem)&&this.children(a.dataItem).subscribe(l=>this.registerLookupItems(l,a))})}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.gRc),t.rXU(Sx),t.rXU(gw),t.rXU(DQ),t.rXU(f5),t.rXU(m5),t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(gQ),t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-treeview"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,OQ,5),t.wni(o,TQ,5)),2&e){let r;t.mGM(r=t.lsd())&&(n.nodeTemplateQuery=r.first),t.mGM(r=t.lsd())&&(n.loadMoreButtonTemplateQuery=r.first)}},viewQuery:function(e,n){if(1&e&&(t.GBs(OZe,7,t.c1b),t.GBs(TZe,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.assetsContainer=o.first),t.mGM(o=t.lsd())&&(n.searchbox=o.first)}},hostVars:4,hostBindings:function(e,n){2&e&&(t.zvX("@.disabled",n.animate),t.BMQ("dir",n.direction),t.AVh("k-treeview",n.classNames))},inputs:{filterInputPlaceholder:"filterInputPlaceholder",expandDisabledNodes:"expandDisabledNodes",animate:"animate",nodeTemplateRef:[t.Mj6.None,"nodeTemplate","nodeTemplateRef"],loadMoreButtonTemplateRef:[t.Mj6.None,"loadMoreButtonTemplate","loadMoreButtonTemplateRef"],trackBy:"trackBy",nodes:"nodes",textField:"textField",hasChildren:"hasChildren",isChecked:"isChecked",isDisabled:"isDisabled",hasCheckbox:"hasCheckbox",isExpanded:"isExpanded",isSelected:"isSelected",isVisible:"isVisible",navigable:"navigable",children:"children",loadOnDemand:"loadOnDemand",filterable:"filterable",filter:"filter",size:"size",disableParentNodesOnly:"disableParentNodesOnly"},outputs:{childrenLoaded:"childrenLoaded",onBlur:"blur",onFocus:"focus",expand:"expand",collapse:"collapse",nodeDragStart:"nodeDragStart",nodeDrag:"nodeDrag",filterStateChange:"filterStateChange",nodeDrop:"nodeDrop",nodeDragEnd:"nodeDragEnd",addItem:"addItem",removeItem:"removeItem",checkedChange:"checkedChange",selectionChange:"selectionChange",filterChange:"filterChange",nodeClick:"nodeClick",nodeDblClick:"nodeDblClick"},exportAs:["kendoTreeView"],features:[t.Jv_(aet),t.OA$],decls:5,vars:24,consts:()=>{let i;return i="Load more...",[["assetsContainer",""],["searchbox",""],["kendoTreeViewLocalizedMessages","","loadMore",i],["class","k-treeview-filter",4,"ngIf"],["kendoTreeViewGroup","","role","tree",1,"k-treeview-lines",3,"size","loadOnDemand","checkboxes","expandIcons","selectable","touchActions","children","hasChildren","isChecked","isDisabled","hasCheckbox","disableParentNodesOnly","isExpanded","isSelected","isVisible","nodeTemplateRef","loadMoreButtonTemplateRef","textField","nodes","loadMoreService","trackBy","expandDisabledNodes"],[1,"k-treeview-filter"],[3,"valueChange","size","value","clearButton","placeholder"],["kendoTextBoxPrefixTemplate",""],["innerCssClass","k-input-icon","name","search",3,"svgIcon"]]},template:function(e,n){1&e&&(t.eu8(0,2),t.DNE(1,IZe,4,4,"span",3),t.nrm(2,"ul",4),t.eu8(3,null,0)),2&e&&(t.R7$(),t.Y8G("ngIf",n.filterable),t.R7$(),t.Y8G("size",n.size)("loadOnDemand",n.loadOnDemand)("checkboxes",n.checkboxes)("expandIcons",n.expandIcons)("selectable",n.selectable)("touchActions",n.touchActions)("children",n.children)("hasChildren",n.hasChildren)("isChecked",n.isChecked)("isDisabled",n.isDisabled)("hasCheckbox",n.hasCheckbox)("disableParentNodesOnly",n.disableParentNodesOnly)("isExpanded",n.isExpanded)("isSelected",n.isSelected)("isVisible",n.isVisible)("nodeTemplateRef",null==n.nodeTemplateRef?null:n.nodeTemplateRef.templateRef)("loadMoreButtonTemplateRef",null==n.loadMoreButtonTemplateRef?null:n.loadMoreButtonTemplateRef.templateRef)("textField",n.textField)("nodes",n.fetchNodes)("loadMoreService",n.loadMoreService)("trackBy",n.trackBy)("expandDisabledNodes",n.expandDisabledNodes),t.BMQ("id",n.treeviewId))},dependencies:[Jl,Ke,y2e,IQ,W,dQ],encapsulation:2}),s})();!function fet(s){let i,e=!1}(()=>{if(!ne()||!Oe(document.body))return!1;const i=document.createElement("div");i.style.transform="matrix(10, 0, 0, 10, 0, 0)";const e=document.createElement("div");e.innerText="child",e.style.position="fixed",e.style.top="10px",i.appendChild(e),document.body.appendChild(i);const n=10!==i.children[0].getBoundingClientRect().top;return document.body.removeChild(i),n}),new RegExp("(auto|scroll)"),new fw,new fw;let Iet=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({}),s})(),xet=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,Iet,vx,An]]}),s})(),Aet=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[xet]]}),s})();const Ret=["input"],Net=(s,i)=>({focus:s,blur:i}),Let=["content"],Get=["list"],Pet=["virtualContainer"],J2e=(s,i,e)=>({"height.px":s,"minHeight.px":i,boxSizing:e}),Vf=(s,i)=>({templateRef:s,$implicit:i}),q2e=(s,i)=>({"k-disabled":s,"k-table-alt-row":i});function Fet(s,i){}function Uet(s,i){if(1&s&&t.DNE(0,Fet,0,0,"ng-template",12),2&s){const e=t.XpG(2);t.Y8G("templateContext",t.l_i(1,Vf,e.fixedGroupTemplate.templateRef,e.currentGroup))}}function Bet(s,i){if(1&s&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&s){const e=t.XpG(2);t.HbH(e.listGroupStickyHeaderTextClass),t.R7$(),t.JRh(e.currentGroup)}}function Vet(s,i){if(1&s&&(t.j41(0,"div",10),t.DNE(1,Uet,1,4,null,7)(2,Bet,2,3,"ng-template",11),t.k0s()),2&s){const e=t.XpG();t.HbH(e.listGroupStickyHeaderClass),t.Y8G("ngStyle",t.sMw(5,J2e,null==e.virtual?null:e.virtual.itemHeight,null==e.virtual?null:e.virtual.itemHeight,e.virtual?"border-box":"inherit")),t.R7$(),t.Y8G("ngIf",e.fixedGroupTemplate),t.R7$(),t.Y8G("ngIf",!e.fixedGroupTemplate)}}function zet(s,i){if(1&s){const e=t.RV6();t.j41(0,"input",16),t.bIt("change",function(o){t.eBV(e);const r=t.XpG().index,a=t.XpG(2);return t.Njj(a.onCheckedChange(o,r))}),t.k0s()}if(2&s){const e=t.XpG().index,n=t.XpG(2);t.Y8G("ngClass",n.checkboxClasses)("checked",n.isChecked(e))}}function jet(s,i){}function Het(s,i){if(1&s&&t.DNE(0,jet,0,0,"ng-template",12),2&s){const e=t.XpG().$implicit,n=t.XpG(2);t.Y8G("templateContext",t.l_i(1,Vf,n.template.templateRef,e))}}function $et(s,i){if(1&s&&(t.j41(0,"span",17),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit,n=t.XpG(2);t.R7$(),t.JRh(n.getText(e))}}function Xet(s,i){if(1&s&&(t.j41(0,"li",14),t.DNE(1,zet,1,2,"input",15)(2,Het,1,4,null,7)(3,$et,2,1,"ng-template",11),t.k0s()),2&s){const e=i.index,n=t.XpG(2);t.HbH(n.listItemClass),t.Y8G("checkboxes",n.checkboxes)("height",null==n.virtual?null:n.virtual.itemHeight)("index",e+n.startFrom)("multipleSelection",n.multipleSelection)("ngClass",t.l_i(13,q2e,n.isDisabled(e),n.isAltRow(e))),t.BMQ("id",n.optionPrefix+"-"+e)("tabIndex",-1)("aria-selected",n.isItemSelected(e)),t.R7$(),t.Y8G("ngIf",n.checkboxes.enabled),t.R7$(),t.Y8G("ngIf",n.template),t.R7$(),t.Y8G("ngIf",!n.template)}}function Wet(s,i){if(1&s&&t.DNE(0,Xet,4,16,"ng-template",13),2&s){const e=t.XpG();t.Y8G("ngForOf",e.data)}}function Yet(s,i){}function Ket(s,i){if(1&s&&t.DNE(0,Yet,0,0,"ng-template",12),2&s){const e=t.XpG(2).$implicit,n=t.XpG(2);t.Y8G("templateContext",t.l_i(1,Vf,n.groupTemplate.templateRef,e.value))}}function Jet(s,i){if(1&s&&t.EFF(0),2&s){const e=t.XpG(2).$implicit;t.JRh(e.value)}}function qet(s,i){if(1&s&&(t.j41(0,"li",20,2)(2,"span"),t.DNE(3,Ket,1,4,null,7)(4,Jet,1,1,"ng-template",11),t.k0s()()),2&s){const e=t.XpG(),n=e.$implicit,o=e.index,r=t.XpG(2);t.HbH(r.listGroupItemClass),t.AVh("k-table-alt-row",r.isAltRow(o-1)),t.Y8G("ngStyle",t.sMw(12,J2e,null==r.virtual?null:r.virtual.itemHeight,null==r.virtual?null:r.virtual.itemHeight,r.virtual?"border-box":"inherit")),t.BMQ("group-index",n.index)("id",r.optionPrefix+"-"+o)("tabIndex",-1),t.R7$(2),t.HbH(r.listGroupItemTextClass),t.R7$(),t.Y8G("ngIf",r.groupTemplate),t.R7$(),t.Y8G("ngIf",!r.groupTemplate)}}function Qet(s,i){}function Zet(s,i){if(1&s&&t.DNE(0,Qet,0,0,"ng-template",12),2&s){const e=t.XpG(2).$implicit,n=t.XpG(2);t.Y8G("templateContext",t.l_i(1,Vf,n.template.templateRef,e.value))}}function ett(s,i){if(1&s&&(t.j41(0,"span",17),t.EFF(1),t.k0s()),2&s){const e=t.XpG(2).$implicit,n=t.XpG(2);t.R7$(),t.JRh(n.getText(e.value))}}function ttt(s,i){if(1&s&&(t.j41(0,"li",21,2),t.DNE(2,Zet,1,4,null,7)(3,ett,2,1,"ng-template",11),t.k0s()),2&s){const e=t.XpG(),n=e.$implicit,o=e.index,r=t.XpG(2);t.HbH(r.listItemClass),t.Y8G("height",null==r.virtual?null:r.virtual.itemHeight)("index",n.offsetIndex)("multipleSelection",r.multipleSelection)("ngClass",t.l_i(12,q2e,r.isDisabled(n.offsetIndex),r.isAltRow(o-1))),t.BMQ("absolute-index",n.index)("id",r.optionPrefix+"-"+o)("tabIndex",-1)("aria-selected",r.isItemSelected(n.offsetIndex)),t.R7$(2),t.Y8G("ngIf",r.template),t.R7$(),t.Y8G("ngIf",!r.template)}}function ntt(s,i){if(1&s&&t.DNE(0,qet,5,16,"li",18)(1,ttt,4,15,"li",19),2&s){const e=i.$implicit;t.Y8G("ngIf",e.header),t.R7$(),t.Y8G("ngIf",!e.header)}}function itt(s,i){if(1&s&&t.DNE(0,ntt,2,2,"ng-template",13),2&s){const e=t.XpG();t.Y8G("ngForOf",e.data)}}function stt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-resize-sensor",22),t.bIt("resize",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.listResize.emit())}),t.k0s()}}function ott(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",23,3)(2,"div")(3,"kendo-resize-sensor",22),t.bIt("resize",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.listResize.emit())}),t.k0s()()()}if(2&s){const e=t.XpG();t.R7$(2),t.xc7("height",e.scrollHeight,"px")}}const rtt=["actionSheetSearchBar"],att=s=>({duration:s});function ltt(s,i){1&s&&t.nrm(0,"kendo-icon",19)}function ctt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-textbox",17,1),t.bIt("valueChange",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.onValueChange(o))}),t.DNE(2,ltt,1,0,"ng-template",18),t.k0s()}if(2&s){const e=t.XpG(2);t.Y8G("value",e.searchBarValue)("size",e.size)}}function dtt(s,i){1&s&&t.eu8(0)}function utt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",20)(1,"button",21),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.onCancel.emit())})("keydown.enter",function(o){return t.eBV(e),t.Njj(o.stopImmediatePropagation())}),t.EFF(2),t.k0s(),t.j41(3,"button",22),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.onApply.emit())})("keydown.enter",function(o){return t.eBV(e),t.Njj(o.stopImmediatePropagation())}),t.EFF(4),t.k0s()()}if(2&s){const e=t.XpG(2);t.R7$(),t.Y8G("size",e.size),t.R7$(),t.SpI(" ",e.messageFor("cancelButton")," "),t.R7$(),t.Y8G("size",e.size),t.R7$(),t.SpI(" ",e.messageFor("applyButton")," ")}}function htt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),t.EFF(4),t.k0s(),t.j41(5,"div",8),t.EFF(6),t.k0s()(),t.j41(7,"div",9)(8,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.closePopup.emit())}),t.k0s()()(),t.j41(9,"div",11),t.DNE(10,ctt,3,2,"kendo-textbox",12),t.k0s()(),t.j41(11,"div",13)(12,"div",14),t.DNE(13,dtt,1,0,"ng-container",15),t.k0s()(),t.DNE(14,utt,5,4,"div",16)}if(2&s){const e=t.XpG();t.R7$(4),t.JRh(e.title),t.R7$(2),t.JRh(e.subtitle),t.R7$(2),t.Y8G("svgIcon",e.xIcon)("size",e.size)("tabIndex",-1),t.BMQ("title",e.messageFor("clearTitle")),t.R7$(2),t.Y8G("ngIf",e.showTextInput),t.R7$(3),t.Y8G("ngTemplateOutlet",e.sharedPopupActionSheetTemplate),t.R7$(),t.Y8G("ngIf",e.showActionButtons)}}const vw=["container"],Sw=["popupTemplate"],S5=["optionsList"],or=s=>({templateRef:s});function ptt(s,i){}function ftt(s,i){if(1&s&&(t.j41(0,"span",15),t.DNE(1,ptt,0,0,"ng-template",16),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",null==e.prefixTemplate?null:e.prefixTemplate.templateRef)}}function mtt(s,i){1&s&&t.nrm(0,"kendo-separator")}function _tt(s,i){if(1&s){const e=t.RV6();t.j41(0,"span",17),t.bIt("click",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.clearValue(o))})("mousedown",function(o){return t.eBV(e),t.Njj(o.preventDefault())}),t.nrm(1,"kendo-icon-wrapper",18),t.k0s()}if(2&s){const e=t.XpG();t.xc7("visibility",e.clearButtonVisiblity),t.BMQ("title",e.messageFor("clearTitle")),t.R7$(),t.Y8G("svgIcon",e.xIcon)}}function gtt(s,i){1&s&&t.nrm(0,"span",19)}function vtt(s,i){1&s&&t.nrm(0,"kendo-separator")}function Stt(s,i){}function Ctt(s,i){if(1&s&&(t.j41(0,"span",20),t.DNE(1,Stt,0,0,"ng-template",16),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",null==e.suffixTemplate?null:e.suffixTemplate.templateRef)}}function btt(s,i){1&s&&t.eu8(0)}function Ett(s,i){if(1&s&&t.DNE(0,btt,1,0,"ng-container",21),2&s){t.XpG();const e=t.sdS(17);t.Y8G("ngTemplateOutlet",e)}}function ytt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-resize-sensor",22),t.bIt("resize",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onResize())}),t.k0s()}}function ktt(s,i){}function wtt(s,i){if(1&s&&t.DNE(0,ktt,0,0,"ng-template",25),2&s){const e=t.XpG(2);t.Y8G("templateContext",t.eq3(1,or,e.headerTemplate.templateRef))}}function Dtt(s,i){}function Ott(s,i){if(1&s&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&s){const e=t.XpG(3);t.R7$(),t.JRh(e.messageFor("noDataText"))}}function Ttt(s,i){if(1&s&&(t.j41(0,"div",26),t.DNE(1,Dtt,0,0,"ng-template",27)(2,Ott,2,1,"ng-template",28),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",e.noDataTemplate)("templateContext",t.eq3(3,or,null==e.noDataTemplate?null:e.noDataTemplate.templateRef)),t.R7$(),t.Y8G("ngIf",!e.noDataTemplate)}}function Mtt(s,i){}function Itt(s,i){if(1&s&&t.DNE(0,Mtt,0,0,"ng-template",25),2&s){const e=t.XpG(2);t.Y8G("templateContext",t.eq3(1,or,e.footerTemplate.templateRef))}}function xtt(s,i){if(1&s){const e=t.RV6();t.DNE(0,wtt,1,3,null,8),t.j41(1,"kendo-list",23,4),t.bIt("pageChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.pageChange(o))}),t.k0s(),t.DNE(3,Ttt,3,5,"div",24)(4,Itt,1,3,null,8)}if(2&s){const e=t.XpG();t.Y8G("ngIf",e.headerTemplate),t.R7$(),t.Y8G("size",e.size)("rounded",e.rounded)("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.valueField)("valueField",e.valueField)("template",e.template)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("virtual",e.virtual)("showStickyHeader",e.showStickyHeader),t.R7$(2),t.Y8G("ngIf",0===e.data.length),t.R7$(),t.Y8G("ngIf",e.footerTemplate)}}const Att=["select"],yx=s=>({mousedown:s});function Rtt(s,i){}function Ntt(s,i){if(1&s&&(t.j41(0,"span",18),t.DNE(1,Rtt,0,0,"ng-template",19),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",null==e.prefixTemplate?null:e.prefixTemplate.templateRef)}}function Ltt(s,i){1&s&&t.nrm(0,"kendo-separator")}function Gtt(s,i){if(1&s){const e=t.RV6();t.j41(0,"span",20),t.bIt("click",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.clearValue(o))}),t.nrm(1,"kendo-icon-wrapper",21),t.k0s()}if(2&s){const e=t.XpG();t.xc7("visibility",e.clearButtonVisiblity),t.Y8G("kendoEventsOutsideAngular",t.eq3(5,yx,e.preventEventDefault)),t.BMQ("title",e.messageFor("clearTitle")),t.R7$(),t.Y8G("svgIcon",e.xIcon)}}function Ptt(s,i){1&s&&t.nrm(0,"span",22)}function Ftt(s,i){1&s&&t.nrm(0,"kendo-separator")}function Utt(s,i){}function Btt(s,i){if(1&s&&(t.j41(0,"span",23),t.DNE(1,Utt,0,0,"ng-template",19),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",null==e.suffixTemplate?null:e.suffixTemplate.templateRef)}}function Vtt(s,i){1&s&&t.eu8(0)}function ztt(s,i){if(1&s&&t.DNE(0,Vtt,1,0,"ng-container",24),2&s){t.XpG();const e=t.sdS(20);t.Y8G("ngTemplateOutlet",e)}}function jtt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-resize-sensor",25),t.bIt("resize",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onResize())}),t.k0s()}}function Htt(s,i){}function $tt(s,i){if(1&s&&t.DNE(0,Htt,0,0,"ng-template",28),2&s){const e=t.XpG(2);t.Y8G("templateContext",t.eq3(1,or,e.headerTemplate.templateRef))}}function Xtt(s,i){}function Wtt(s,i){if(1&s&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&s){const e=t.XpG(3);t.R7$(),t.JRh(e.messageFor("noDataText"))}}function Ytt(s,i){if(1&s&&(t.j41(0,"div",29),t.DNE(1,Xtt,0,0,"ng-template",30)(2,Wtt,2,1,"ng-template",31),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",e.noDataTemplate)("templateContext",t.eq3(3,or,e.noDataTemplate?e.noDataTemplate.templateRef:void 0)),t.R7$(),t.Y8G("ngIf",!e.noDataTemplate)}}function Ktt(s,i){}function Jtt(s,i){if(1&s&&t.DNE(0,Ktt,0,0,"ng-template",28),2&s){const e=t.XpG(2);t.Y8G("templateContext",t.eq3(1,or,e.footerTemplate.templateRef))}}function qtt(s,i){if(1&s){const e=t.RV6();t.DNE(0,$tt,1,3,null,9),t.j41(1,"kendo-list",26,5),t.bIt("pageChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.pageChange(o))}),t.k0s(),t.DNE(3,Ytt,3,5,"div",27)(4,Jtt,1,3,null,9)}if(2&s){const e=t.XpG();t.Y8G("ngIf",e.headerTemplate),t.R7$(),t.Y8G("size",e.size)("rounded",e.rounded)("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.textField)("valueField",e.valueField)("template",e.template)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("virtual",e.virtual)("showStickyHeader",e.showStickyHeader),t.R7$(2),t.Y8G("ngIf",0===e.data.length),t.R7$(),t.Y8G("ngIf",e.footerTemplate)}}const Q2e=s=>({"k-disabled":s});function Qtt(s,i){}function Ztt(s,i){if(1&s&&t.DNE(0,Qtt,0,0,"ng-template",15),2&s){const e=t.XpG();t.Y8G("templateContext",t.l_i(1,Vf,e.valueTemplate.templateRef,e.dataItem))}}function ent(s,i){if(1&s&&t.EFF(0),2&s){const e=t.XpG();t.JRh(e.getText())}}function tnt(s,i){1&s&&t.nrm(0,"span",16)}function nnt(s,i){1&s&&t.eu8(0)}function int(s,i){if(1&s&&t.DNE(0,nnt,1,0,"ng-container",17),2&s){t.XpG();const e=t.sdS(15);t.Y8G("ngTemplateOutlet",e)}}function snt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-resize-sensor",18),t.bIt("resize",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onResize())}),t.k0s()}}function ont(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",21),t.bIt("click",function(o){return t.eBV(e),t.Njj(o.stopImmediatePropagation())}),t.j41(1,"span",22),t.nrm(2,"kendo-icon-wrapper",23),t.j41(3,"input",24,4),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.filterText,o)||(r.filterText=o),t.Njj(o)}),t.bIt("keydown",function(o){t.eBV(e);const r=t.sdS(4),a=t.XpG(2);return t.Njj(a.keydown(o,r))})("input",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.handleFilter(o))})("focus",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.onFilterFocus())})("blur",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.blurFilterInput())})("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.handleClick())}),t.k0s()()()}if(2&s){const e=t.XpG(2);t.R7$(),t.Y8G("ngClass",e.filterInputClasses),t.R7$(),t.Y8G("svgIcon",e.searchIcon),t.R7$(),t.Y8G("filterInput",e.isFocused&&!e.touchEnabled)("dir",e.direction),t.R50("ngModel",e.filterText),t.BMQ("aria-controls",e.isOpen?e.ariaControls:void 0)("aria-activedescendant",e.ariaActivedescendant)("aria-label",e.messageFor("filterInputLabel"))}}function rnt(s,i){if(1&s&&(t.j41(0,"div",25)(1,"div",26),t.EFF(2),t.k0s()()),2&s){const e=t.XpG(2);t.Y8G("ngClass",e.optionLabelSizeClass),t.R7$(),t.Y8G("ngClass",t.eq3(4,Q2e,e.isDisabledDefaultItem))("index",-1),t.R7$(),t.SpI(" ",e.getDefaultItemText()," ")}}function ant(s,i){}function lnt(s,i){if(1&s&&(t.j41(0,"div",25)(1,"div",26),t.DNE(2,ant,0,0,"ng-template",15),t.k0s()()),2&s){const e=t.XpG(2);t.Y8G("ngClass",e.optionLabelSizeClass),t.R7$(),t.Y8G("ngClass",t.eq3(4,Q2e,e.isDisabledDefaultItem))("index",-1),t.R7$(),t.Y8G("templateContext",t.l_i(6,Vf,e.itemTemplate.templateRef,e.defaultItem))}}function cnt(s,i){}function dnt(s,i){if(1&s&&t.DNE(0,cnt,0,0,"ng-template",15),2&s){const e=t.XpG(2);t.Y8G("templateContext",t.eq3(1,or,e.headerTemplate.templateRef))}}function unt(s,i){}function hnt(s,i){if(1&s&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&s){const e=t.XpG(3);t.R7$(),t.JRh(e.messageFor("noDataText"))}}function pnt(s,i){if(1&s&&(t.j41(0,"div",27),t.DNE(1,unt,0,0,"ng-template",28)(2,hnt,2,1,"ng-template",9),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",e.noDataTemplate)("templateContext",t.eq3(3,or,e.noDataTemplate?e.noDataTemplate.templateRef:void 0)),t.R7$(),t.Y8G("ngIf",!e.noDataTemplate)}}function fnt(s,i){}function mnt(s,i){if(1&s&&t.DNE(0,fnt,0,0,"ng-template",15),2&s){const e=t.XpG(2);t.Y8G("templateContext",t.eq3(1,or,e.footerTemplate.templateRef))}}function _nt(s,i){if(1&s){const e=t.RV6();t.DNE(0,ont,5,8,"ng-template",9)(1,rnt,3,6,"ng-template",9)(2,lnt,3,9,"ng-template",9)(3,dnt,1,3,null,8),t.j41(4,"kendo-list",19,3),t.bIt("pageChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.pageChange(o))}),t.k0s(),t.DNE(6,pnt,3,5,"div",20)(7,mnt,1,3,null,8)}if(2&s){const e=t.XpG();t.Y8G("ngIf",e.filterable&&!e.isActionSheetExpanded),t.R7$(),t.Y8G("ngIf",e.defaultItem&&!e.itemTemplate),t.R7$(),t.Y8G("ngIf",e.defaultItem&&e.itemTemplate),t.R7$(),t.Y8G("ngIf",e.headerTemplate),t.R7$(),t.Y8G("id",e.listBoxId)("size",e.size)("rounded",e.rounded)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.textField)("valueField",e.valueField)("template",e.itemTemplate)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("virtual",e.virtual)("ariaLive",e.ariaLive)("showStickyHeader",e.showStickyHeader),t.R7$(2),t.Y8G("ngIf",0===e.data.length),t.R7$(),t.Y8G("ngIf",e.footerTemplate)}}const gnt=["*"],vnt=(s,i,e,n,o,r,a,l,c,u,f,_)=>({"k-focus":s,"k-disabled":i,"k-chip-sm":e,"k-chip-md":n,"k-chip-lg":o,"k-rounded-sm":r,"k-rounded-md":a,"k-rounded-lg":l,"k-rounded-full":c,"k-chip-solid k-chip-solid-base":u,"k-chip-flat k-chip-flat-base":f,"k-chip-outline k-chip-outline-base":_});function Snt(s,i){}function Cnt(s,i){1&s&&t.DNE(0,Snt,0,0,"ng-template")}function bnt(s,i){}function Ent(s,i){if(1&s&&t.DNE(0,bnt,0,0,"ng-template",12),2&s){const e=t.XpG(2).$implicit,n=t.XpG();t.Y8G("templateContext",t.l_i(1,Vf,n.groupTemplate.templateRef,e))}}function ynt(s,i){if(1&s&&t.EFF(0),2&s){const e=t.XpG(2).$implicit;t.Lme("",e.length," ",1===e.length?"item":"items"," selected")}}function knt(s,i){if(1&s&&(t.j41(0,"span",9),t.DNE(1,Ent,1,4,null,10)(2,ynt,1,2,"ng-template",11),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",e.groupTemplate),t.R7$(),t.Y8G("ngIf",!e.groupTemplate)}}function wnt(s,i){}function Dnt(s,i){if(1&s&&t.DNE(0,wnt,0,0,"ng-template",12),2&s){const e=t.XpG(2).$implicit,n=t.XpG();t.Y8G("templateContext",t.l_i(1,Vf,n.template.templateRef,e))}}function Ont(s,i){if(1&s&&t.EFF(0),2&s){const e=t.XpG(2),n=e.$implicit,o=e.index,r=t.XpG();t.JRh(r.tagProp(n,r.textField,o))}}function Tnt(s,i){if(1&s&&(t.j41(0,"span",9),t.DNE(1,Dnt,1,4,null,10)(2,Ont,1,1,"ng-template",11),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",e.template),t.R7$(),t.Y8G("ngIf",!e.template)}}function Mnt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",3)(1,"span",4),t.DNE(2,Cnt,1,0,null,5)(3,knt,3,2,"ng-template",null,0,t.C5r)(5,Tnt,3,2,"ng-template",null,1,t.C5r),t.k0s(),t.j41(7,"span",6)(8,"span",7)(9,"kendo-icon-wrapper",8),t.bIt("mousedown",function(o){const r=t.eBV(e),a=r.$implicit,l=r.index,c=t.XpG();return t.Njj(c.deleteTag(o,a,l))}),t.k0s()()()()}if(2&s){const e=i.$implicit,n=i.index,o=t.sdS(4),r=t.sdS(6),a=t.XpG();t.Y8G("ngClass",t.zJS(8,vnt,[n===a.focused,a.isTagDisabled(e,n),"small"===a.size,"medium"===a.size,"large"===a.size,"small"===a.rounded,"medium"===a.rounded,"large"===a.rounded,"full"===a.rounded,"solid"===a.fillMode,"flat"===a.fillMode,"outline"===a.fillMode])),t.BMQ("id",a.itemId(e,n))("aria-hidden",a.tagAriaHidden(n)),t.R7$(2),t.Y8G("ngIf",a.isGroupTag(e))("ngIfThen",o)("ngIfElse",r),t.R7$(6),t.BMQ("aria-hidden",n!==a.focused),t.R7$(),t.Y8G("svgIcon",a.xCircleIcon)}}function Int(s,i){}function xnt(s,i){if(1&s&&(t.j41(0,"span",18),t.DNE(1,Int,0,0,"ng-template",19),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",null==e.prefixTemplate?null:e.prefixTemplate.templateRef)}}function Ant(s,i){1&s&&t.nrm(0,"kendo-separator")}function Rnt(s,i){if(1&s){const e=t.RV6();t.j41(0,"span",20),t.bIt("mousedown",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.clearAll(o))}),t.nrm(1,"kendo-icon-wrapper",21),t.k0s()}if(2&s){const e=t.XpG();t.xc7("visibility",e.clearButtonVisiblity),t.BMQ("title",e.messageFor("clearTitle")),t.R7$(),t.Y8G("svgIcon",e.xIcon)}}function Nnt(s,i){1&s&&t.nrm(0,"span",22)}function Lnt(s,i){1&s&&t.nrm(0,"kendo-separator")}function Gnt(s,i){}function Pnt(s,i){if(1&s&&(t.j41(0,"span",23),t.DNE(1,Gnt,0,0,"ng-template",19),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",null==e.suffixTemplate?null:e.suffixTemplate.templateRef)}}function Fnt(s,i){1&s&&t.eu8(0)}function Unt(s,i){if(1&s&&t.DNE(0,Fnt,1,0,"ng-container",24),2&s){t.XpG();const e=t.sdS(19);t.Y8G("ngTemplateOutlet",e)}}function Bnt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-resize-sensor",25),t.bIt("resize",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onResize())}),t.k0s()}}function Vnt(s,i){}function znt(s,i){if(1&s&&t.DNE(0,Vnt,0,0,"ng-template",29),2&s){const e=t.XpG(2);t.Y8G("templateContext",t.eq3(1,or,e.headerTemplate.templateRef))}}function jnt(s,i){}function Hnt(s,i){if(1&s&&t.DNE(0,jnt,0,0,"ng-template",29),2&s){const e=t.XpG(3);t.Y8G("templateContext",t.l_i(1,Vf,e.customItemTemplate.templateRef,e.text))}}function $nt(s,i){if(1&s&&t.EFF(0),2&s){const e=t.XpG(3);t.JRh(e.text)}}function Xnt(s,i){if(1&s&&(t.j41(0,"div",30)(1,"div",31),t.DNE(2,Hnt,1,4,null,32)(3,$nt,1,1,"ng-template",null,5,t.C5r),t.nrm(5,"kendo-icon-wrapper",33),t.k0s()()),2&s){const e=t.sdS(4),n=t.XpG(2);t.Y8G("ngClass",n.customItemSizeClass),t.R7$(),t.Y8G("multipleSelection",!0)("index",-1),t.R7$(),t.Y8G("ngIf",n.customItemTemplate)("ngIfElse",e),t.R7$(3),t.Y8G("svgIcon",n.plusIcon)}}function Wnt(s,i){}function Ynt(s,i){if(1&s&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&s){const e=t.XpG(3);t.R7$(),t.JRh(e.messageFor("noDataText"))}}function Knt(s,i){if(1&s&&(t.j41(0,"div",34),t.DNE(1,Wnt,0,0,"ng-template",35)(2,Ynt,2,1,"ng-template",36),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",e.noDataTemplate)("templateContext",t.eq3(3,or,e.noDataTemplate?e.noDataTemplate.templateRef:void 0)),t.R7$(),t.Y8G("ngIf",!e.noDataTemplate)}}function Jnt(s,i){}function qnt(s,i){if(1&s&&t.DNE(0,Jnt,0,0,"ng-template",29),2&s){const e=t.XpG(2);t.Y8G("templateContext",t.eq3(1,or,e.footerTemplate.templateRef))}}function Qnt(s,i){if(1&s){const e=t.RV6();t.DNE(0,znt,1,3,null,9)(1,Xnt,6,6,"div",26),t.j41(2,"kendo-list",27,4),t.bIt("pageChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.pageChange(o))}),t.k0s(),t.DNE(4,Knt,3,5,"div",28)(5,qnt,1,3,null,9)}if(2&s){const e=t.XpG();t.Y8G("ngIf",e.headerTemplate),t.R7$(),t.Y8G("ngIf",e.allowCustom&&e.text),t.R7$(),t.Y8G("size",e.size)("rounded",e.rounded)("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.textField)("valueField",e.valueField)("template",e.template)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("multipleSelection",!0)("virtual",e.virtual)("checkboxes",e.checkboxes)("isMultiselect",!0)("isActionSheetExpanded",e.isActionSheetExpanded)("showStickyHeader",e.showStickyHeader),t.R7$(2),t.Y8G("ngIf",0===e.data.length),t.R7$(),t.Y8G("ngIf",e.footerTemplate)}}const C5={name:"@progress/kendo-angular-dropdowns",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925302,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},oe=s=>null!=s,Ql=()=>{let i,e,s="";for(i=0;i<32;i++)e=16*Math.random()|0,(8===i||12===i||16===i||20===i)&&(s+="-"),s+=(12===i?4:16===i?3&e|8:e).toString(16);return s},Sa=s=>Array.isArray(s),T0=s=>oe(s)&&"object"==typeof s,tCe=s=>"string"==typeof s&&0===s.length,b5=s=>Sa(s)&&s.every(i=>T0(i)),UQ=(s,i,e)=>{const n=i.map(o=>oe(o)&&oe(Ze(o,e))?Ze(o,e):o);return s.reduce((o,r)=>{const a=oe(r)&&oe(Ze(r,e))?Ze(r,e):r,l=n.indexOf(a);return-1!==l&&o.push(l),o},[])},Ze=(s,i)=>oe(s)?oe(i)&&T0(s)?_r(i)(s):s:null,nCe=(s,i,e)=>{if(!oe(s))return!1;let n=String(s);return e&&(n=n.toLowerCase()),0===n.indexOf(i)},Z_=s=>s.className.includes("ng-untouched"),M0=s=>{},yst=(s,i)=>{const e=s.matches||s.msMatchesSelector||s.webkitMatchesSelector;return!!e&&e.call(s,i)},kx=(s,i,e)=>s.nativeElement.contains(i)||e&&e.popupElement.contains(i),Bi=(s,i)=>({small:`k-${s}-sm`,medium:`k-${s}-md`,large:`k-${s}-lg`}[i]),rr=s=>({small:"k-rounded-sm",medium:"k-rounded-md",large:"k-rounded-lg",full:"k-rounded-full"}[s]),Ca=(s,i)=>({solid:`k-${s}-solid`,flat:`k-${s}-flat`,outline:`k-${s}-outline`}[i]),Ii=()=>{if(typeof window<"u")return window.innerWidth>768?"large":window.innerWidth>500?"medium":"small"},Cw=s=>!!s,bw=(s,i,e)=>{const n=s.element.nativeElement.querySelector(".k-actionsheet"),o=s.element.nativeElement.querySelector(".k-child-animation-container");"medium"===i?(e.removeClass(n,"k-actionsheet-fullscreen"),e.addClass(n,"k-actionsheet-bottom"),e.addClass(n,"k-adaptive-actionsheet"),e.removeStyle(o,"top"),e.removeStyle(o,"height"),e.setStyle(o,"bottom","0px")):"small"===i&&(e.removeClass(n,"k-actionsheet-bottom"),e.addClass(n,"k-actionsheet-fullscreen"),e.addClass(n,"k-adaptive-actionsheet"),e.setStyle(o,"bottom","0px"),e.setStyle(o,"height","100%"))},Pv=(s,i,e)=>{const n=s.wrapper.nativeElement.querySelector("kendo-list ul"),o=i.nativeElement.getAttribute("aria-labelledby");o&&e.setAttribute(n,"aria-labelledby",o)},Ew=(s,i)=>{const e=s.nativeElement.getAttribute("aria-labelledby");return!i&&e?document.getElementById(e).innerText:i};let Uv=(()=>{class s{constructor(e,n,o){this.localization=e,this.injector=o,this.ariaExpanded=null,this.valueChange=new t.bkB,this.onBlur=new t.bkB,this.onFocus=new t.bkB,this.onClick=new t.bkB,this.onNavigate=new t.bkB,this.searchBarClass=!0,this._userInput="",this._previousValue="",this._placeholder="",this._isSuggestable=!1,this._isFilterable=!1,this.subs=new be.yU,this.direction=e.rtl?"rtl":"ltr",this.renderer=n}set isSuggestable(e){this._isSuggestable=e,this.setAriaAutocomplete()}get isSuggestable(){return this._isSuggestable}set isFilterable(e){this._isFilterable=e,this.setAriaAutocomplete()}get isFilterable(){return this._isFilterable}get userInput(){return this._userInput}set userInput(e){this._userInput=e||""}get formControl(){return this.injector.get(Ri,null)?.control||null}get value(){return this.input.nativeElement.value}set placeholder(e){this._placeholder=e||"",this.setInputSize()}get placeholder(){return this._placeholder}ngOnInit(){this.subs.add(this.localization.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr"))}ngOnChanges(e){if(!ne())return;let n;if(this.input&&(e.userInput||e.suggestedText)){n=e.userInput&&e.userInput.previousValue?this._previousValue===e.userInput.previousValue?this._previousValue:e.userInput.currentValue||"":this._previousValue;const o=this.input.nativeElement.selectionStart,r=n.length===o;this.writeInputValue(this.suggestedText?((s,i)=>s.concat(i.substr(i.toLowerCase().indexOf(s.toLowerCase())+s.length)))(this.userInput,this.suggestedText):this.userInput),this.suggestedText?this.setInputSelection(this.userInput.length,this.suggestedText.length):rF(navigator.userAgent)&&!r?this.setInputSelection(o,this.userInput.length):r?this.setInputSelection(this.userInput.length,this.userInput.length):this.setInputSelection(o,o),this._previousValue=this.userInput}}ngOnDestroy(){this.subs.unsubscribe()}writeInputValue(e){ne()&&this.renderer.setProperty(this.input.nativeElement,"value",e)}setInputSelection(e,n){if(ne()&&this.input.nativeElement===document.activeElement)try{this.input.nativeElement.setSelectionRange(e,n)}catch{}}setAriaAutocomplete(){this.isFilterable&&this.renderer.setAttribute(this.input.nativeElement,"aria-autocomplete","list"),this.isSuggestable&&this.renderer.setAttribute(this.input.nativeElement,"aria-autocomplete","inline"),this.isFilterable&&this.isSuggestable&&this.renderer.setAttribute(this.input.nativeElement,"aria-autocomplete","both"),!this.isFilterable&&!this.isSuggestable&&this.renderer.removeAttribute(this.input.nativeElement,"aria-autocomplete")}handleInput(e){const n=e.target,r=rF(navigator.userAgent)&&(s=>/[\u3000-\u303F]|[\u3040-\u309F]|[\u30A0-\u30FF]|[\uFF00-\uFFEF]|[\u4E00-\u9FAF]|[\u2605-\u2606]|[\u2190-\u2195]|\u203B/g.test(s))(n.value)?e.data:n.value;r!==this.userInput&&(this._previousValue=r,this.valueChange.emit(r))}handleFocus(e){this.onFocus.emit(e)}handleBlur(e){this.onBlur.emit(e)}handleKeydown(e){[F.ArrowUp,F.ArrowDown,F.ArrowLeft,F.ArrowRight,F.Enter,F.Escape,F.Delete,F.Backspace,F.Home,F.End,F.PageDown,F.PageUp].indexOf(e.keyCode)>-1&&this.onNavigate.emit(e)}focus(){ne()&&this.input.nativeElement.focus()}blur(){ne()&&this.input.nativeElement.blur()}setInputSize(){const e=l=>l?l.length:0,n=this.input.nativeElement,o=e(this.placeholder),r=e(this.value),a=Math.max(o,r,1);this.renderer.setAttribute(n,"size",a.toString())}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j),t.rXU(t.sFG),t.rXU(t.zZn))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-searchbar"]],viewQuery:function(e,n){if(1&e&&t.GBs(Ret,7),2&e){let o;t.mGM(o=t.lsd())&&(n.input=o.first)}},hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-searchbar",n.searchBarClass)},inputs:{id:"id",tagListId:"tagListId",activeDescendant:"activeDescendant",disabled:"disabled",readonly:"readonly",tabIndex:"tabIndex",role:"role",isLoading:"isLoading",ariaControls:"ariaControls",ariaExpanded:"ariaExpanded",isSuggestable:"isSuggestable",isFilterable:"isFilterable",userInput:"userInput",suggestedText:"suggestedText",placeholder:"placeholder"},outputs:{valueChange:"valueChange",onBlur:"onBlur",onFocus:"onFocus",onClick:"onClick",onNavigate:"onNavigate"},features:[t.OA$],decls:2,vars:18,consts:[["input",""],["autocomplete","off","aria-haspopup","listbox",1,"k-input-inner",3,"input","keydown","id","disabled","readonly","placeholder","kendoEventsOutsideAngular","scope"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"input",1,0),t.bIt("input",function(a){return t.eBV(o),t.Njj(n.handleInput(a))})("keydown",function(a){return t.eBV(o),t.Njj(n.handleKeydown(a))}),t.k0s()}2&e&&(t.Y8G("id",n.id)("disabled",n.disabled)("readonly",n.readonly)("placeholder",n.placeholder)("kendoEventsOutsideAngular",t.l_i(15,Net,n.handleFocus,n.handleBlur))("scope",n),t.BMQ("tabIndex",n.tabIndex)("dir",n.direction)("role",n.role)("aria-expanded",n.ariaExpanded)("aria-controls",n.ariaControls)("aria-describedby",n.tagListId)("aria-activedescendant",n.activeDescendant)("aria-busy",n.isLoading)("aria-invalid",null==n.formControl?null:n.formControl.invalid))},dependencies:[Vo],encapsulation:2}),s})(),ba=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoDropDownListItemTemplate",""],["","kendoComboBoxItemTemplate",""],["","kendoAutoCompleteItemTemplate",""],["","kendoMultiSelectItemTemplate",""]]}),s})(),I0=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoDropDownListHeaderTemplate",""],["","kendoComboBoxHeaderTemplate",""],["","kendoDropDownTreeHeaderTemplate",""],["","kendoMultiColumnComboBoxHeaderTemplate",""],["","kendoAutoCompleteHeaderTemplate",""],["","kendoMultiSelectHeaderTemplate",""],["","kendoMultiSelectTreeHeaderTemplate",""]]}),s})(),x0=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoDropDownListFooterTemplate",""],["","kendoComboBoxFooterTemplate",""],["","kendoDropDownTreeFooterTemplate",""],["","kendoMultiColumnComboBoxFooterTemplate",""],["","kendoAutoCompleteFooterTemplate",""],["","kendoMultiSelectFooterTemplate",""],["","kendoMultiSelectTreeFooterTemplate",""]]}),s})(),wx=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoDropDownListGroupTemplate",""],["","kendoComboBoxGroupTemplate",""],["","kendoMultiColumnComboBoxGroupTemplate",""],["","kendoAutoCompleteGroupTemplate",""],["","kendoMultiSelectGroupTemplate",""]]}),s})(),Dx=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoDropDownListFixedGroupTemplate",""],["","kendoComboBoxFixedGroupTemplate",""],["","kendoMultiColumnComboBoxFixedGroupTemplate",""],["","kendoAutoCompleteFixedGroupTemplate",""],["","kendoMultiSelectFixedGroupTemplate",""]]}),s})(),Wc=(()=>{class s{constructor(){this.grouped=!1,this.groupIndices=[]}set data(e){this._data=e,this.grouped=this.isGrouped(e),this.grouped&&(this.groupIndices=this.getGroupIndices(e),this._flatData=this.flatten(e))}get data(){return this.grouped?this._flatData:this._data}get itemsCount(){return oe(this.data)&&0!==this.data.length?(this.grouped?this._flatData.filter(n=>!n.header):this.data).length:0}isGrouped(e){return oe(e)&&0!==e.length&&oe(e[0])&&((s,i)=>!!oe(s)&&i.every(e=>s.hasOwnProperty(e)))(e[0],["aggregates","field","items","value"])}getGroupIndices(e){const n=[];for(let o=0;o<=e.length-1;o++)n[o]=(n[o-1]||0)+e[o].items.length;return n}filter(e){let n=[];if(this.isGrouped(this.data))for(let o=0;o<=this.groupIndices.length-1;o++){const r=this.data[o].items.filter(e);r&&(n=n.concat(r))}else n=this.data.filter(e);return n}indexOf(e,n=0){let o=r=>r===e;return this.grouped&&(o=r=>r.value===e),this.findIndex(o,n)}findIndex(e,n=0){let o=-1;if(this.grouped){const r=this._flatData.filter(a=>!a.header&&a.offsetIndex>=n);o=r.findIndex(e),o=r[o]?r[o].offsetIndex:-1}else{const a=this.data.slice(n).findIndex(e);o=-1!==a?a+n:-1}return o}closestGroup(e){for(let n=e;n>=0;n--)if(this._flatData[n].header)return this._flatData[n]}find(e){const n=this.findIndex(e);return this.itemAt(n)}flatIndex(e){if(0===this.itemsCount)return-1;if(!this.grouped)return e;{const n=this._flatData.find(o=>!o.header&&o.offsetIndex===e);if(n)return n.index}return-1}itemAt(e){let n;if(0===this.itemsCount)return n;if(this.grouped){const o=this._flatData.find(r=>!r.header&&r.offsetIndex===e);o&&(n=o.value)}else n=this.data[e];return n}groupAt(e){if(0!==this.itemsCount&&this.isGrouped)return this._flatData.find(n=>n.header&&n.index===e)}groupItemsIndices(){return this.isGrouped?((s,i,e)=>this.data.reduce((n,o)=>(e=>e.header)(o)?[...n,e(o)]:n,[]))(0,0,e=>e.index):[]}groupField(){return 0!==this.itemsCount&&this.isGrouped?this._data[0].field:null}itemGroup(e){if(!e||0===this.itemsCount||!this.isGrouped)return;const n=this.groupField();return n?Ze(e,n):void 0}flatten(e,n=void 0,o=0,r=0){let a=[];oe(n)&&a.push({header:!0,index:r+o,offsetIndex:r,value:n});for(let l=0;l<e.length;l++){let c=[];e[l].items?(c=this.flatten(e[l].items,e[l].value,o,l),o+=e[l].items.length):c.push({header:!1,index:r+o+l+1,offsetIndex:o+l,value:e[l]}),a=a.concat(c)}return a}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),Zl=(()=>{class s{constructor(e){this.dataService=e,this.itemDisabled=null}isIndexDisabled(e){if(this.itemDisabled){const n=this.dataService.itemAt(e);if(oe(n))return this.itemDisabled({dataItem:n,index:e});if(oe(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}isItemDisabled(e){if(this.itemDisabled){const n=this.dataService.indexOf(e);if(-1!==n)return this.itemDisabled({dataItem:e,index:n});if(oe(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Wc))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),ec=(()=>{class s{constructor(e){this.disabledItemsService=e,this.onSelect=new t.bkB,this.onChange=new t.bkB,this.onFocus=new t.bkB,this.total=0,this.selectedIndices=[],this.indicesToBeRemoved=[],this.indicesToBeAdded=[]}getTotal(){return this.total}isSelected(e){return oe(this.selectedIndices.find(n=>n===e))}isFocused(e){return e===this.focused}focus(e){this.isFocused(e)||(this.focused=e,this.onFocus.emit(e))}select(e){this.isSelected(e)||(this.selectedIndices=[e],this.focused=e,this.onSelect.emit({indices:[e],newSelection:oe(e)}))}add(e,n){this.isSelected(e)||(this.selectedIndices.push(e),this.focused=e,this.onChange.emit({added:e,indices:this.selectedIndices.slice(),preventClosingPopup:n}))}emitMultipleAddedRemoved(){this.onChange.emit({added:this.indicesToBeAdded,removed:this.indicesToBeRemoved,indices:this.selectedIndices.slice(),preventClosingPopup:!0,isMultipleSelection:!0}),this.indicesToBeAdded=[],this.indicesToBeRemoved=[]}addMultiple(e){this.indicesToBeAdded=e.slice(),this.selectedIndices.push(...e)}deselect(e,n){if(!this.isSelected(e))return;const o=this.selectedIndices.indexOf(e);this.selectedIndices.splice(o,1),this.focused=e,0===this.selected.length&&(this.lastClickedIndex=null),this.onChange.emit({indices:this.selectedIndices.slice(),removed:e,preventClosingPopup:n})}unselectMultiple(e){e.forEach(n=>{const o=this.selectedIndices.indexOf(n);this.selectedIndices.splice(o,1)}),this.indicesToBeRemoved=e.slice()}change(e){const n=oe(e)&&!this.isSelected(e);this.selectedIndices=[e],this.focused=e,this.onChange.emit({indices:[e],newSelection:n})}resetSelection(e){this.selectedIndices=e instanceof Array?e:[e],this.focused=this.selectedIndices[this.selectedIndices.length-1]}get selected(){return this.selectedIndices.slice()}get focused(){return this.focusedIndex}set focused(e){this.focusedIndex!==e&&(this.focusedIndex=e,this.onFocus.emit(e))}selectFromTo(e,n){const o=[];for(let r=e;r<=n;r++)!this.isSelected(r)&&!this.disabledItemsService.isIndexDisabled(r)&&o.push(r);this.addMultiple(o)}unselectFromTo(e,n){const o=[];for(let r=e;r>=n;r--)this.isSelected(r)&&!this.disabledItemsService.isIndexDisabled(r)&&o.push(r);this.unselectMultiple(o)}unselectNotNeededIndices(e,n,o){const r=[];for(let a=0;a<e;a++)this.isSelected(a)&&r.push(a);for(let a=n+1;a<o;a++)this.isSelected(a)&&r.push(a);this.unselectMultiple(r)}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Zl))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();var vt=function(s){return s[s.Undefined=0]="Undefined",s[s.Open=1]="Open",s[s.Close=2]="Close",s[s.Enter=3]="Enter",s[s.Tab=4]="Tab",s[s.Esc=5]="Esc",s[s.Delete=6]="Delete",s[s.Backspace=7]="Backspace",s[s.Home=8]="Home",s[s.End=9]="End",s[s.Up=10]="Up",s[s.Down=11]="Down",s[s.Left=12]="Left",s[s.Right=13]="Right",s[s.PageDown=14]="PageDown",s[s.PageUp=15]="PageUp",s[s.SelectPrevious=16]="SelectPrevious",s[s.SelectNext=17]="SelectNext",s[s.SelectAll=18]="SelectAll",s[s.SelectAllToBeginning=19]="SelectAllToBeginning",s[s.SelectAllToEnd=20]="SelectAllToEnd",s}(vt||{});class rCe{constructor(i,e){this.index=i,this.originalEvent=e}}let Yc=(()=>{class s{constructor(e,n){this.disabledItemsService=e,this.selectionService=n,this.open=new t.bkB,this.close=new t.bkB,this.enter=new t.bkB,this.tab=new t.bkB,this.esc=new t.bkB,this.up=new t.bkB,this.right=new t.bkB,this.down=new t.bkB,this.left=new t.bkB,this.delete=new t.bkB,this.backspace=new t.bkB,this.home=new t.bkB,this.end=new t.bkB,this.pagedown=new t.bkB,this.pageup=new t.bkB,this.selectnext=new t.bkB,this.selectprevious=new t.bkB,this.selectall=new t.bkB,this.selectalltobeginning=new t.bkB,this.selectalltoend=new t.bkB}process(e){const n=e.originalEvent.keyCode,o=e.originalEvent.altKey,r=e.originalEvent.shiftKey,a=e.originalEvent.ctrlKey||e.originalEvent.metaKey;let l,c=vt.Undefined;o&&n===F.ArrowDown?c=vt.Open:o&&n===F.ArrowUp?c=vt.Close:r&&n===F.ArrowUp?c=vt.SelectPrevious:r&&n===F.ArrowDown?c=vt.SelectNext:a&&n===F.KeyA?c=vt.SelectAll:a&&r&&n===F.Home?c=vt.SelectAllToBeginning:a&&r&&n===F.End?c=vt.SelectAllToEnd:n===F.Enter?c=vt.Enter:n===F.Escape?c=vt.Esc:n===F.Tab?c=vt.Tab:n===F.ArrowUp?(l=this.next({current:e.current,start:e.min,end:e.max,step:-1}),c=vt.Up):n===F.ArrowLeft?(l=this.next({current:e.current,start:e.min,end:e.max,step:-1}),c=vt.Left):n===F.ArrowDown?(l=this.next({current:e.current,start:e.min,end:e.max,step:1}),c=vt.Down):n===F.ArrowRight?(l=this.next({current:e.current,start:e.min,end:e.max,step:1}),c=vt.Right):n===F.Home?(l=this.isDisabled(0)?e.current:0,c=vt.Home):n===F.End?(l=this.isDisabled(e.max)?e.current:e.max,c=vt.End):n===F.Delete?c=vt.Delete:n===F.Backspace?c=vt.Backspace:n===F.PageDown?c=vt.PageDown:n===F.PageUp&&(c=vt.PageUp);const u=new rCe(l,e.originalEvent);return c!==vt.Undefined&&this[vt[c].toLowerCase()].emit(u),c}next(e){const{current:n,start:o,end:r,step:a}=e,l=oe(n)?this.clampIndex(n+a,o,r):o,c=this.firstFocusableIndex(l,o,r,a);return oe(c)?c:this.selectionService.isSelected(n)&&n>=o?n:this.firstFocusableIndex(l,o,r,-1*a)}clampIndex(e,n,o){return!oe(e)||e<n?n:e>o?o:e}firstFocusableIndex(e,n,o,r){for(;n<=e&&e<=o;){if(!this.isDisabled(e))return e;e+=r}}isDisabled(e){if(this.disabledItemsService)return this.disabledItemsService.isIndexDisabled(e)}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Zl),t.KVO(ec))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),A0=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoDropDownListNoDataTemplate",""],["","kendoDropDownTreeNoDataTemplate",""],["","kendoComboBoxNoDataTemplate",""],["","kendoMultiColumnComboBoxNoDataTemplate",""],["","kendoAutoCompleteNoDataTemplate",""],["","kendoMultiSelectNoDataTemplate",""],["","kendoMultiSelectTreeNoDataTemplate",""]]}),s})();class R0{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class yw{}let VQ=(()=>{class s{constructor(e){this.element=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT))},s.\u0275dir=t.FsC({type:s,selectors:[["li","role","option"],["li","role","group"]]}),s})(),zf=(()=>{class s{constructor(e){this.viewContainerRef=e}set templateContext(e){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.c1b))},s.\u0275dir=t.FsC({type:s,selectors:[["","templateContext",""]],inputs:{templateContext:"templateContext"}}),s})(),k5=(()=>{class s{constructor(e){this.checkboxes={enabled:!1},this.multipleSelection=!1,this.selectionService=e}get focusedClassName(){return this.selectionService.isFocused(this.index)}get selectedClassName(){return!this.checkboxes.enabled&&this.selectionService.isSelected(this.index)}onClick(e){e.stopPropagation(),this.selectionService.lastClickedIndex=this.index,(!this.checkboxes.enabled||this.checkboxes.checkOnClick)&&(this.multipleSelection?this.selectionService.isSelected(this.index)?this.selectionService.deselect(this.index):this.selectionService.add(this.index):this.selectionService.change(this.index))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(ec))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoDropDownsSelectable",""]],hostVars:9,hostBindings:function(e,n){1&e&&t.bIt("click",function(r){return n.onClick(r)}),2&e&&(t.BMQ("index",n.index),t.xc7("height",n.height,"px")("min-height",n.height,"px"),t.AVh("k-focus",n.focusedClassName)("k-selected",n.selectedClassName))},inputs:{index:"index",checkboxes:"checkboxes",height:"height",isMultiselect:"isMultiselect",multipleSelection:"multipleSelection"}}),s})(),kw=(()=>{class s{constructor(e,n,o,r,a,l,c){this.dataService=e,this.wrapper=n,this.selectionService=o,this.disabledItemsService=r,this.cdr=a,this.zone=l,this.renderer=c,this.selected=[],this.focused=-1,this.show=!0,this.multipleSelection=!1,this.type="list",this.checkboxes={enabled:!1},this.rounded="medium",this.onClick=new t.bkB,this.pageChange=new t.bkB,this.listResize=new t.bkB,this.popupListScroll=new t.bkB,this.startFrom=0,this.lastLoaded=0,this.lastScrollTop=0,this.scrollToFocused=!1,this._size="medium",this.selectSubscription=Ht(this.selectionService.onSelect.pipe((0,U.T)(u=>u.indices[0])),this.selectionService.onFocus).pipe(Y(u=>this.zone.onStable.pipe(Ye(1),(0,U.T)(()=>u)))).subscribe(this.scrollToItem.bind(this)),this.prepareClasses()}set data(e){this._data=e[0]&&e[0].header?e.slice(0):e}get data(){return this._data}set size(e){"list"===this.type&&(this.renderer.removeClass(this.wrapper.nativeElement,Bi("list",this.size)),e&&this.renderer.addClass(this.wrapper.nativeElement,Bi("list",e)),this._size=e)}get size(){return this._size}get pageSize(){return this.virtual.pageSize?this.virtual.pageSize:Math.round(this.height/this.virtual.itemHeight)}get scrollHeight(){return this.virtual.total*this.virtual.itemHeight}get overflowY(){if(oe(this.virtual))return this.hasVirtualScrollbar()?"scroll":"hidden"}get checkboxClasses(){return`${this.size?Bi("checkbox",this.size):""} ${this.rounded?rr(this.rounded):""}`}ngOnChanges(e){Dt("data",e,!1)&&(this.lastLoaded<=0&&(this.lastLoaded=this.data.length-1,this.scrollToFocused=!e.data.isFirstChange()),this.setOverflow()),Dt("virtual",e,!1)&&this.setOverflow(),Dt("type",e,!1)&&this.prepareClasses()}ngAfterViewInit(){this.setComponentClasses(),this.zone.runOutsideAngular(()=>{this.scrollSubscription=wt(this.content.nativeElement,"scroll").pipe(e0(100),x(this.prefetchData.bind(this)),x(this.findCurrentGroup.bind(this))).subscribe(()=>{this.lastScrollTop=this.content.nativeElement.scrollTop})}),this.setGroupAttributes(),this.setOverflow()}setGroupAttributes(){const e=document.querySelectorAll("li");let n,a,o=[],r=!1;e.forEach((l,c)=>{n="group"===l.getAttribute("role"),!n&&r&&(this.renderer.setAttribute(l,"aria-describedby",a.getAttribute("id")),o.push(l.getAttribute("id")),(c+1>=e.length||"group"===e[c+1]?.getAttribute("role"))&&(this.renderer.setAttribute(a,"aria-owns",o.join(" ")),o=[])),n&&(r=!0,a=l)})}ngAfterViewChecked(){this.virtual&&this.positionItems(),this.items&&this.scrollToFocused&&(this.scrollToFocused=!1,this.scrollToItem(this.items.length&&-1===this.selectionService.focused?0:this.selectionService.focused)),this.dataService.grouped&&this.findCurrentGroup()}ngOnDestroy(){this.selectSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe()}onCheckedChange(e,n){const o=e.target.checked;o&&!this.selectionService.isSelected(n)&&this.selectionService.add(n),!o&&this.selectionService.isSelected(n)&&this.selectionService.deselect(n)}prepareClasses(){"list"===this.type?(this.listContentClass="k-list-content",this.listClass="k-list-ul",this.listItemClass="k-list-item",this.listVirtualClass="k-virtual-list",this.listGroupStickyHeaderClass="k-list-group-sticky-header",this.listGroupStickyHeaderTextClass="k-list-header-text",this.listGroupItemClass="k-list-group-item",this.listGroupItemTextClass="k-list-item-text"):(this.listContentClass="k-table-body k-table-scroller",this.listClass="k-table k-table-list",this.listItemClass="k-table-row",this.listVirtualClass="k-virtual-table",this.listGroupStickyHeaderClass="k-table-group-sticky-header",this.listGroupStickyHeaderTextClass="k-table-th",this.listGroupItemClass="k-table-group-row",this.listGroupItemTextClass="k-table-th")}isChecked(e){return this.selectionService.isSelected(this.virtual?e+this.virtual.skip:e)}firstVisibleItem(){const e=this.content.nativeElement,n=e.getBoundingClientRect(),o=Array.prototype.slice.call(e.querySelectorAll(".k-disabled"));o.forEach(a=>this.renderer.setStyle(a,"pointer-events","auto"));const r=document.elementFromPoint(n.left+1,n.top+1);return o.forEach(a=>this.renderer.setStyle(a,"pointer-events","none")),((s,i)=>{let e=s;for(;null!==e&&1===e.nodeType;){if(yst(e,"li"))return e;e=e.parentElement||e.parentNode}return null})(r)}findCurrentGroup(){if(!this.dataService.grouped)return void(this.currentGroup=void 0);const e=this.firstVisibleItem();if(e){let n;"group"===e.getAttribute("role")?(n=parseInt(e.getAttribute("group-index"),10),this.currentGroup=this.dataService.groupAt(n).value):(n=parseInt(e.getAttribute("index"),10),this.currentGroup=this.dataService.itemGroup(this.dataService.itemAt(n)))}else this.currentGroup=void 0;this.cdr.detectChanges()}prefetchData(){if(!this.virtual)return;const e=Math.trunc(this.content.nativeElement.clientHeight/this.virtual.itemHeight),n=this.content.nativeElement.scrollTop,o=Math.trunc(n/this.virtual.itemHeight),r=n>this.lastScrollTop,c=this.lastLoaded-this.pageSize+e>=o-(this.pageSize-(this.lastLoaded-this.startFrom));r&&o+e>=this.lastLoaded&&this.lastLoaded<this.virtual.total-1&&this.changePage(o),!r&&c&&this.changePage(o-this.pageSize+e+1)}changePage(e){this.zone.run(()=>{let n=this.pageSize+e;n>this.virtual.total&&(e--,n=this.virtual.total),e<0&&(e=0),this.startFrom=e,this.lastLoaded=n,this.pageChange.emit({skip:e,take:this.pageSize})}),this.setGroupAttributes()}index(e,n){return e>0?this.dataService.groupIndices[e-1]+n:n}getText(e){return Ze(e,this.textField)}getValue(e){return Ze(e,this.valueField)}isDisabled(e){return oe(this.virtual)&&(e+=this.virtual.skip),this.disabledItemsService.isIndexDisabled(e)}isAltRow(e){return"dropdowngrid"===this.type&&e%2!=0}scrollToItem(e){let n=e;if(this.dataService.grouped&&(n=this.dataService.flatIndex(e)),this.virtual&&n>-1)return void this.scrollToIndex(n);const o=this.items.toArray();oe(o[n])&&-1!==n&&this.scroll(o[n].element)}scrollWithOnePage(e){const n=this.content.nativeElement,o=n.clientHeight;e===vt.PageDown?n.scrollTop+=o:e===vt.PageUp&&(n.scrollTop-=o)}scrollToIndex(e){const n=this.content.nativeElement;let o=n.scrollTop;const r=e*this.virtual.itemHeight,l=n.clientHeight,c=r+this.virtual.itemHeight;o>r?o=r:c>o+l&&(o=c-l),n.scrollTop=o}scroll(e){if(!e)return;const n=e.nativeElement,o=this.content.nativeElement,r=n.offsetTop;let l=o.scrollTop;const c=o.clientHeight,u=r+n.offsetHeight;l>r?l=r:u>l+c&&(l=u-c),o.scrollTop=l}hasScrollbar(){return!!(oe(this.items)&&this.items.length&&oe(this.list)&&oe(this.content))&&(oe(this.virtual)&&this.hasVirtualScrollbar()||this.list.nativeElement.scrollHeight>this.content.nativeElement.offsetHeight)}isItemSelected(e){return this.selectionService.isSelected(e)||null}setOverflow(){if(this.virtual){const e=this.hasVirtualScrollbar()?"scroll":"hidden";this.renderer.setStyle(this.content.nativeElement,"overflow-y",e)}}hasVirtualScrollbar(){return this.virtualContainer&&(this.virtualContainer&&this.virtualContainer.nativeElement.offsetHeight)>this.content.nativeElement.offsetHeight}positionItems(){this.items.forEach((e,n)=>{this.renderer.setStyle(e.element.nativeElement,"transform",`translateY(${(n+this.startFrom)*this.virtual.itemHeight}px`)})}firstGroupHeaderInTargetedPage(e){return!oe(this.virtual)||0===this.virtual.skip&&this.virtual.pageSize>e}setComponentClasses(){"list"===this.type&&(this.renderer.addClass(this.wrapper.nativeElement,"k-list"),this.size&&this.renderer.addClass(this.wrapper.nativeElement,Bi("list",this.size))),"dropdowngrid"===this.type&&this.renderer.setStyle(this.wrapper.nativeElement,"overflow-y","scroll"),oe(this.virtual)&&this.renderer.addClass(this.wrapper.nativeElement,this.listVirtualClass)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Wc),t.rXU(t.aKT),t.rXU(ec),t.rXU(Zl),t.rXU(t.gRc),t.rXU(t.SKi),t.rXU(t.sFG))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-list"]],viewQuery:function(e,n){if(1&e&&(t.GBs(Let,7),t.GBs(Get,7),t.GBs(Pet,5),t.GBs(VQ,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.content=o.first),t.mGM(o=t.lsd())&&(n.list=o.first),t.mGM(o=t.lsd())&&(n.virtualContainer=o.first),t.mGM(o=t.lsd())&&(n.items=o)}},inputs:{selected:"selected",focused:"focused",textField:"textField",valueField:"valueField",height:"height",template:"template",groupTemplate:"groupTemplate",fixedGroupTemplate:"fixedGroupTemplate",show:"show",id:"id",optionPrefix:"optionPrefix",multipleSelection:"multipleSelection",virtual:"virtual",type:"type",checkboxes:"checkboxes",ariaLive:"ariaLive",isMultiselect:"isMultiselect",isActionSheetExpanded:"isActionSheetExpanded",showStickyHeader:"showStickyHeader",data:"data",size:"size",rounded:"rounded"},outputs:{onClick:"onClick",pageChange:"pageChange",listResize:"listResize",popupListScroll:"popupListScroll"},features:[t.OA$],decls:9,vars:17,consts:[["content",""],["list",""],["li",""],["virtualContainer",""],[3,"class","ngStyle",4,"ngIf"],["unselectable","on",3,"scroll"],["role","listbox"],[4,"ngIf"],[3,"resize",4,"ngIf"],["class","k-height-container","role","presentation",4,"ngIf"],[3,"ngStyle"],[3,"ngIf"],[3,"templateContext"],["ngFor","",3,"ngForOf"],["role","option","kendoDropDownsSelectable","",3,"checkboxes","height","index","multipleSelection","ngClass"],["type","checkbox","class","k-checkbox","role","presentation","tabindex","-1","aria-hidden","true",3,"ngClass","checked","change",4,"ngIf"],["type","checkbox","role","presentation","tabindex","-1","aria-hidden","true",1,"k-checkbox",3,"change","ngClass","checked"],[1,"k-list-item-text"],["role","group",3,"class","k-table-alt-row","ngStyle",4,"ngIf"],["role","option","kendoDropDownsSelectable","",3,"height","index","multipleSelection","class","ngClass",4,"ngIf"],["role","group",3,"ngStyle"],["role","option","kendoDropDownsSelectable","",3,"height","index","multipleSelection","ngClass"],[3,"resize"],["role","presentation",1,"k-height-container"]],template:function(e,n){if(1&e){const o=t.RV6();t.DNE(0,Vet,3,9,"div",4),t.j41(1,"div",5,0),t.bIt("scroll",function(a){return t.eBV(o),t.Njj(n.popupListScroll.emit(a))}),t.j41(3,"ul",6,1),t.DNE(5,Wet,1,1,null,7)(6,itt,1,1,null,7)(7,stt,1,0,"kendo-resize-sensor",8),t.k0s(),t.DNE(8,ott,4,2,"div",9),t.k0s()}2&e&&(t.Y8G("ngIf",n.dataService.grouped&&n.showStickyHeader),t.R7$(),t.HbH(n.listContentClass),t.xc7("overscroll-behavior","none")("max-height",n.height,"px"),t.R7$(2),t.HbH(n.listClass),t.BMQ("id",n.id)("aria-live",n.ariaLive)("aria-multiselectable",n.isMultiselect)("aria-hidden",!n.show),t.R7$(2),t.Y8G("ngIf",!n.dataService.grouped&&n.show),t.R7$(),t.Y8G("ngIf",n.dataService.grouped),t.R7$(),t.Y8G("ngIf",!n.virtual),t.R7$(),t.Y8G("ngIf",n.virtual))},dependencies:[Os,W,Jn,zf,st,VQ,k5,Pe],encapsulation:2}),s})();const aCe={pageSize:50,itemHeight:28},w5=(s,i)=>{const e=Object.assign({},aCe,i);return!0===s?e:s?{pageSize:aCe.pageSize,...s}:null},tg=new t.nKC("dropdowns-touch-enabled");let Kc=(()=>{class s{constructor(e){this.localization=e,this.closePopup=new t.bkB,this.textInputChange=new t.bkB,this.navigate=new t.bkB,this.onExpand=new t.bkB,this.onCollapse=new t.bkB,this.onApply=new t.bkB,this.onCancel=new t.bkB,this.searchBarValue="",this.animationDuration=300,this.xIcon=wo}messageFor(e){return this.localization.get(e)}onValueChange(e){this.searchBarValue=e,this.textInputChange.emit(e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["responsive-renderer"]],viewQuery:function(e,n){if(1&e&&(t.GBs(m0,5),t.GBs(rtt,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.actionSheet=o.first),t.mGM(o=t.lsd())&&(n.actionSheetSearchBar=o.first)}},inputs:{title:"title",showActionButtons:"showActionButtons",subtitle:"subtitle",size:"size",showTextInput:"showTextInput",sharedPopupActionSheetTemplate:"sharedPopupActionSheetTemplate",isActionSheetExpanded:"isActionSheetExpanded",text:"text",placeholder:"placeholder"},outputs:{closePopup:"closePopup",textInputChange:"textInputChange",navigate:"navigate",onExpand:"onExpand",onCollapse:"onCollapse",onApply:"onApply",onCancel:"onCancel"},decls:3,vars:4,consts:[["actionSheet",""],["actionSheetSearchBar",""],[3,"overlayClick","keydown","expand","collapse","animation","expanded"],["kendoActionSheetTemplate",""],[1,"k-text-center","k-actionsheet-titlebar"],[1,"k-actionsheet-titlebar-group","k-hbox"],[1,"k-actionsheet-title"],[1,"k-text-center"],[1,"k-actionsheet-subtitle","k-text-center"],[1,"k-actionsheet-actions"],["kendoButton","","icon","x","type","button","fillMode","flat","aria-hidden","true","innerCssClass","k-button-icon",3,"click","svgIcon","size","tabIndex"],[1,"k-actionsheet-titlebar-group","k-actionsheet-filter"],["placeholder","Filter","class","k-searchbox","autocomplete","off",3,"value","size","valueChange",4,"ngIf"],[1,"k-actionsheet-content","!k-overflow-hidden"],[1,"k-list-container"],[4,"ngTemplateOutlet"],["class","k-actionsheet-footer k-actions k-actions-stretched",4,"ngIf"],["placeholder","Filter","autocomplete","off",1,"k-searchbox",3,"valueChange","value","size"],["kendoTextBoxPrefixTemplate",""],["name","search"],[1,"k-actionsheet-footer","k-actions","k-actions-stretched"],["kendoButton","","tabindex","0","aria-disabled","false","type","button","themeColor","base",3,"click","keydown.enter","size"],["kendoButton","","tabindex","0","aria-disabled","false","type","button","themeColor","primary",3,"click","keydown.enter","size"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"kendo-actionsheet",2,0),t.bIt("overlayClick",function(){return t.eBV(o),t.Njj(n.closePopup.emit())})("keydown",function(a){return t.eBV(o),t.Njj(n.navigate.emit(a))})("expand",function(){return t.eBV(o),t.Njj(n.onExpand.emit())})("collapse",function(){return t.eBV(o),t.Njj(n.onCollapse.emit())}),t.DNE(2,htt,15,9,"ng-template",3),t.k0s()}2&e&&t.Y8G("animation",t.eq3(2,att,n.animationDuration))("expanded",n.isActionSheetExpanded)},dependencies:[m0,$t,Jl,jJ,f0,W,dQ,Je],encapsulation:2}),s})(),D5=(()=>{class s extends Gi{}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275dir=t.FsC({type:s,inputs:{noDataText:"noDataText",clearTitle:"clearTitle",checkAllText:"checkAllText",selectButtonText:"selectButtonText",filterInputLabel:"filterInputLabel",popupLabel:"popupLabel",applyButton:"applyButton",cancelButton:"cancelButton"},features:[t.Vt3]}),s})(),Bv=(()=>{class s extends D5{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoDropDownListLocalizedMessages",""],["","kendoDropDownTreeLocalizedMessages",""],["","kendoComboBoxLocalizedMessages",""],["","kendoMultiColumnComboBoxLocalizedMessages",""],["","kendoAutoCompleteLocalizedMessages",""],["","kendoMultiSelectLocalizedMessages",""],["","kendoMultiSelectTreeLocalizedMessages",""]],features:[t.Jv_([{provide:D5,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})(),O5=(()=>{class s{constructor(e,n,o){this.ngZone=e,this.renderer=n,this.cdr=o,this.isFocusedChange=new t.bkB,this.onFocus=new t.bkB,this.handleBlur=new t.bkB,this.subscriptions=new be.yU}ngAfterViewInit(){const e=this.hostElement.nativeElement;let n=!1,o=!1;this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(e,"focusin",()=>{this.cdr.detectChanges(),this.isFocused||this.ngZone.run(()=>{this.onFocus.emit(),this.isFocused=!0,this.isFocusedChange.emit(this.isFocused)})})),this.subscriptions.add(this.renderer.listen(e,"focusout",r=>{this.isFocused&&(o?(Yl(r.relatedTarget,l=>l===e)||this.handleBlur.emit(),o=!1):n||this.handleBlur.emit())})),this.subscriptions.add(this.renderer.listen(e,"mouseenter",()=>{n=!0})),this.subscriptions.add(this.renderer.listen(e,"mouseleave",()=>{n=!1})),this.subscriptions.add(this.renderer.listen(e,"keydown",r=>{o=r.keyCode===F.Tab}))})}ngOnDestroy(){this.subscriptions.unsubscribe()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(t.gRc))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoDropDownSharedEvents",""]],inputs:{hostElement:"hostElement",clearButtonClicked:"clearButtonClicked",isFocused:"isFocused"},outputs:{isFocusedChange:"isFocusedChange",onFocus:"onFocus",handleBlur:"handleBlur"}}),s})();const Ist={multi:!0,provide:Yn,useExisting:(0,t.Rfq)(()=>zQ)};let zQ=(()=>{class s{constructor(e,n,o,r,a,l,c,u,f,_,g,S){this.localization=e,this.dataService=n,this.popupService=o,this.selectionService=r,this.navigationService=a,this.disabledItemsService=l,this._zone=c,this.cdr=u,this.renderer=f,this.hostElement=_,this.touchEnabled=g,this.injector=S,this.animationDuration=300,this.xIcon=wo,this.highlightFirst=!0,this.showStickyHeader=!0,this.focusableId=`k-${Ql()}`,this.placeholder="",this.adaptiveMode="none",this.title="",this._listHeight=200,this.clearButton=!0,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.filterable=!1,this.valueChange=new t.bkB,this.filterChange=new t.bkB,this.open=new t.bkB,this.opened=new t.bkB,this.close=new t.bkB,this.closed=new t.bkB,this.onFocus=new t.bkB,this.onBlur=new t.bkB,this.inputFocus=new t.bkB,this.inputBlur=new t.bkB,this.widgetClasses=!0,this.listBoxId=`k-${Ql()}`,this.optionPrefix=`k-${Ql()}`,this.windowSize="large",this.onChangeCallback=M0,this.onTouchedCallback=M0,this.popupMouseDownHandler=b=>b.preventDefault(),this._popupSettings={animate:!0},this._open=!1,this._value="",this.subs=new be.yU,this.valueChangeSubject=new Xe.B,this._isFocused=!1,this._size="medium",this._rounded="medium",this._fillMode="solid",(0,mt.$)(C5),this.direction=e.rtl?"rtl":"ltr",this.wrapper=this.hostElement.nativeElement,this.data=[],this.subscribeEvents(),this.subscribeTouchEvents(),this.selectionService.resetSelection([-1])}get actionSheet(){return this.responsiveRendererComponent?.actionSheet}get actionSheetSearchBar(){return this.responsiveRendererComponent?.actionSheetSearchBar}get width(){let e=0;ne()&&(e=this.wrapper.offsetWidth);const n=this.popupSettings.width||e;return{min:isNaN(e)?e:`${e}px`,max:isNaN(n)?n:`${n}px`}}get height(){const e=this.popupSettings.height;return oe(e)?`${e}px`:"auto"}get listContainerClasses(){const e=["k-list-container","k-autocomplete-popup"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}get suggestion(){if(!this.text||!this.suggestedText)return void(this.suggestedText=void 0);const e=this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase());return this.suggest&&!this.backspacePressed&&e?this.suggestedText:void 0}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}get clearButtonVisiblity(){if(this.touchEnabled)return"visible"}get ariaControls(){return this.isOpen?this.listBoxId:void 0}toggle(e){Promise.resolve(null).then(()=>{const n=oe(e)?e:!this._open;this._toggle(n)})}get isOpen(){return Cw(this._open||this.isActionSheetExpanded)}handleClick(){this.windowSize=Ii(),this.isAdaptive&&this.togglePopup(!0)}togglePopup(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||this._toggle(e)}get activeDescendant(){if(!this.isOpen||!oe(this.selectionService.focused)||-1===this.selectionService.focused)return null;const e=this.dataService.itemAt(this.selectionService.focused);return this.optionPrefix+"-"+Ze(e,this.valueField)}set data(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.filterable&&(this.selectionService.focused=this.isOpen&&this.data.length&&this.highlightFirst?this.firstFocusableIndex(0):-1),this.suggest&&this.dataService.itemsCount>0&&(this.suggestedText=Ze(this.dataService.itemAt(0),this.valueField))}get data(){const e=this.virtual;if(e){const n=e.skip||0,o=n+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(n,o)}return this.dataService.data}set value(e){this.verifySettings(e),this._value=e||"",this.text=this.value,this.cdr.markForCheck()}get value(){return this._value||""}set subtitle(e){this._subtitle=e}get subtitle(){return this._subtitle||this.placeholder}get isAdaptiveModeEnabled(){return"auto"===this.adaptiveMode}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set listHeight(e){this._listHeight=e}get listHeight(){if(!this.isAdaptive)return this._listHeight}set itemDisabled(e){if("function"!=typeof e)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set virtual(e){this._virtualSettings=w5(e)}get virtual(){return this._virtualSettings}set size(e){const n=e||"medium";this.renderer.removeClass(this.wrapper,Bi("input",this.size)),"none"!==e&&this.renderer.addClass(this.wrapper,Bi("input",n)),this._size=n}get size(){return this._size}set rounded(e){const n=e||"medium";this.renderer.removeClass(this.wrapper,rr(this.rounded)),"none"!==e&&this.renderer.addClass(this.wrapper,rr(n)),this._rounded=n}get rounded(){return this._rounded}set fillMode(e){const n=e||"solid";this.renderer.removeClass(this.wrapper,Ca("input",this.fillMode)),"none"!==e&&this.renderer.addClass(this.wrapper,Ca("input",n)),this._fillMode=n}get fillMode(){return this._fillMode}get isFocused(){return this._isFocused}set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper,"k-focus"),this._isFocused=e}get isDisabled(){return this.disabled}get isLoading(){return this.loading}get dir(){return this.direction}get isActionSheetExpanded(){return this.actionSheet?.expanded}get isAdaptive(){return this.isAdaptiveModeEnabled&&"large"!==this.windowSize}get formControl(){return this.injector.get(Ri,null)?.control||null}ngOnInit(){this.renderer.removeAttribute(this.wrapper,"tabindex"),this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.cdr.detectChanges()})),this.setComponentClasses()}ngAfterViewInit(){this.windowSize=Ii(),this.cdr.detectChanges(),this.actionSheet&&ne()&&(this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-height","60vh"),this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-max-height","none"))}ngOnDestroy(){this.destroyPopup(),this.subs.unsubscribe(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler()}ngOnChanges(e){const n=this.virtual;n&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:n.pageSize})}reset(){this.value=""}messageFor(e){return this.localization.get(e)}onAdaptiveTextBoxChange(e){this.search(e)}clearValue(e){e.stopImmediatePropagation(),this.focus(),this.change(""),this.filterable&&this.filterChange.emit(""),this.selectionService.resetSelection([])}writeValue(e){this.value=e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.cdr.markForCheck(),this.disabled=e}focusItemAt(e){const n=e>=0&&e<this.data.length;oe(e)&&n&&!this.disabledItemsService.isIndexDisabled(e)?this.selectionService.focus(e):this.selectionService.focus(-1)}focus(){this.disabled||this.searchbar.focus()}blur(){this.disabled||this.searchbar.blur()}onResize(){if(this.isAdaptiveModeEnabled&&this.windowSize!==Ii()&&(this.isOpen&&this.togglePopup(!1),this.windowSize=Ii(),this.cdr.detectChanges()),this._open&&!this.isActionSheetExpanded){const e=this.popupRef.popupElement,{min:n,max:o}=this.width;e.style.minWidth=n,e.style.width=o}}emitChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}verifySettings(e){if((0,t.naY)()&&oe(e)&&"string"!=typeof e)throw new Error("Expected value of type string. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/autocomplete/value-binding/")}search(e,n=0){const o=this.findIndex(e,n);this.disabledItemsService.isIndexDisabled(o)?o+1<this.dataService.itemsCount?this.search(e,o+1):this.selectionService.focus(-1):(this.selectionService.focus(o),this.suggest&&(this.suggestedText=Ze(this.dataService.itemAt(o),this.valueField)))}navigate(e){this.isOpen&&this.selectionService.focus(e)}handleNavigate(e){const n=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused;if(this.disabled||this.readonly||isNaN(n))return;const o=this.navigationService.process({current:n,max:this.dataService.itemsCount-1,min:0,originalEvent:e});o!==vt.Undefined&&o!==vt.Backspace&&o!==vt.Delete&&o!==vt.Home&&o!==vt.End&&o!==vt.Left&&o!==vt.Right&&o!==vt.PageDown&&o!==vt.PageUp&&(o===vt.Enter&&this.isOpen||o!==vt.Enter)&&e.preventDefault(),o===vt.Tab&&this.isActionSheetExpanded&&(e.stopImmediatePropagation(),this.togglePopup(!1))}handleEnter(e){const n=this.selectionService.focused;let o;if(this.isOpen&&e.originalEvent.preventDefault(),n>=0)o=Ze(this.dataService.itemAt(n),this.valueField);else{const r=this.suggest&&this.suggestedText&&this.data.length&&Ze(this.dataService.itemAt(0),this.valueField).toLowerCase()===this.searchbar.value.toLowerCase();o=this.isOpen&&r?this.suggestedText:this.searchbar.value}this.isActionSheetExpanded&&n>=0&&this.togglePopup(!1),this.change(o)}handleEscape(){this.isOpen?this.togglePopup(!1):this.value="",this.selectionService.focused=-1,this.suggestedText=null}searchBarChange(e){const n=oe(this.text)?this.text.length:0;this.backspacePressed=e.length<n,this.text=e,this.togglePopup(e.length>0),this.highlightFirst||(this.selectionService.focused=-1),this.filterable?this.filterChange.emit(e):this.highlightFirst&&this.search(e)}onFilterChange(e){this.filterable?this.filterChange.emit(e):this.highlightFirst&&this.search(e)}handleInputFocus(){this.handleFocus(),ke(this.inputFocus)&&this._zone.run(()=>{this.inputFocus.emit()})}handleFocus(){this._zone.run(()=>{!this.isFocused&&ke(this.onFocus)&&this.onFocus.emit(),this.isFocused=!0})}handleBlur(){if(!this.isActionSheetExpanded){this.isFocused=!1;const e=this.value!==this.text;ke(this.onBlur)||ke(this.close)||Z_(this.wrapper)||e?this._zone.run(()=>{e&&this.change(this.searchbar.value),this.onBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}}handleInputBlur(){if(!this.isActionSheetExpanded){const e=this.filterable?this.selectionService.focused:-1;let n,o;this.searchbar.input.nativeElement.scrollLeft=0,-1!==e?(n=this.dataService.itemAt(e),o=Ze(n,this.valueField)||""):o=this.searchbar.value;const r=o===this.searchbar.value,a=o.toLowerCase()===this.searchbar.value.toLowerCase();!r&&a&&this.selectionService.resetSelection([]);const l=this.value!==this.text;ke(this.inputBlur)||ke(this.close)||Z_(this.wrapper)||l||"blur"===this.formControl?.updateOn?this._zone.run(()=>{l&&this.change(this.searchbar.value),this.inputBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}}pageChange(e){this.virtual.skip=e.skip}change(e){this.togglePopup(!1),this.valueChangeSubject.next(e)}subscribeEvents(){ne()&&(this.subs.add(this.valueChangeSubject.subscribe(e=>{const n=this.value!==e,o=this.findIndex(e);this.selectionService.focused=o,this.value=e,this.text=e,n&&this.emitChange(e)})),this.subs.add(this.selectionService.onChange.subscribe(this.handleItemChange.bind(this))),this.subs.add(this.selectionService.onFocus.subscribe(this.handleItemFocus.bind(this))),this.subs.add(Ht(this.navigationService.up,this.navigationService.down).subscribe(e=>this.navigate(e.index))),this.subs.add(this.navigationService.close.subscribe(()=>this.togglePopup(!1))),this.subs.add(this.navigationService.open.subscribe(()=>this.togglePopup(!0))),this.subs.add(this.navigationService.enter.subscribe(this.handleEnter.bind(this))),this.subs.add(this.navigationService.esc.subscribe(this.handleEscape.bind(this))),this.subs.add(Ht(this.navigationService.pagedown,this.navigationService.pageup).subscribe(e=>{this.isOpen&&(e.originalEvent.preventDefault(),this.optionsList.scrollWithOnePage(vt[e.originalEvent.code]))})))}findIndex(e,n=0){let o;return o=e&&e.length&&this.dataService.itemsCount?this.dataService.findIndex(this.findIndexPredicate(e),n):-1,o}subscribeTouchEvents(){!ne()||!this.touchEnabled||this._zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",e=>{this.isFocused&&!kx(this.hostElement,e.target,this.popupRef)&&this._zone.run(()=>this.blur())}))}handleItemChange(e){const n=e.indices.length?e.indices[0]:void 0;if(this.selectionService.resetSelection([-1]),!oe(n))return;const o=Ze(this.dataService.itemAt(n),this.valueField);this.change(o),this.isActionSheetExpanded&&this.togglePopup(!1)}handleItemFocus(e){const n=this.selectionService.focused;this.suggest&&this.data&&this.data.length&&n>=0&&(this.suggestedText=Ze(this.dataService.itemAt(n),this.valueField))}createPopup(){if(this.virtual&&(this.virtual.skip=0),this.windowSize=Ii(),this.isAdaptive)return void this.openActionSheet();const e="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:"absolute",popupAlign:{horizontal:e,vertical:"top"},anchorAlign:{horizontal:e,vertical:"bottom"}});const r=this.popupRef.popupElement,{min:a,max:l}=this.width;r.addEventListener("mousedown",this.popupMouseDownHandler),r.style.minWidth=a,r.style.width=l,r.style.height=this.height,r.setAttribute("dir",this.direction),this.appendTo||(this.renderer.setAttribute(r,"role","region"),this.renderer.setAttribute(r,"aria-label",this.messageFor("popupLabel"))),this.subs.add(this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),Pv(this.optionsList,this.searchbar.input,this.renderer),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.opened.emit()})),this.subs.add(this.popupRef.popupClose.subscribe(()=>{this.closed.emit()})),this.subs.add(this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1)))}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}_toggle(e){this._open=e,this.destroyPopup(),this.isActionSheetExpanded&&this.closeActionSheet(),this._open&&this.createPopup()}triggerPopupEvents(e){const n=new R0;return e?this.open.emit(n):this.close.emit(n),n.isDefaultPrevented()}firstFocusableIndex(e){const n=this.data.length-1;return this.disabledItemsService.isIndexDisabled(e)?e<n?this.firstFocusableIndex(e+1):void 0:e}findIndexPredicate(e){return this.dataService.grouped?n=>{let o=Ze(n.value,this.valueField);return o=oe(o)?o.toString().toLowerCase():"",o.startsWith(e.toLowerCase())}:n=>{let o=Ze(n,this.valueField);return o=oe(o)?o.toString().toLowerCase():"",o.startsWith(e.toLowerCase())}}setComponentClasses(){"none"!==this.size&&this.renderer.addClass(this.wrapper,Bi("input",this.size)),"none"!==this.rounded&&this.renderer.addClass(this.wrapper,rr(this.rounded)),"none"!==this.fillMode&&this.renderer.addClass(this.wrapper,Ca("input",this.fillMode))}closeActionSheet(){this.actionSheet.toggle(!1),this.actionSheetSearchBar.value="",this.filterable&&this.filterChange.emit(""),this.searchbar.input.nativeElement.focus(),this.closed.emit()}openActionSheet(){this.actionSheet.toggle(!0),this.cdr.detectChanges(),Pv(this.optionsList,this.searchbar.input,this.renderer),this.title=Ew(this.searchbar.input,this.title),bw(this.actionSheet,this.windowSize,this.renderer),this.cdr.detectChanges(),this.opened.emit(),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.actionSheetSearchBar.focus()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j),t.rXU(Wc),t.rXU(es),t.rXU(ec),t.rXU(Yc),t.rXU(Zl),t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(tg,8),t.rXU(t.zZn))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-autocomplete"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,ba,5),t.wni(o,I0,5),t.wni(o,x0,5),t.wni(o,A0,5),t.wni(o,wx,5),t.wni(o,Dx,5),t.wni(o,HI,5),t.wni(o,jI,5)),2&e){let r;t.mGM(r=t.lsd())&&(n.template=r.first),t.mGM(r=t.lsd())&&(n.headerTemplate=r.first),t.mGM(r=t.lsd())&&(n.footerTemplate=r.first),t.mGM(r=t.lsd())&&(n.noDataTemplate=r.first),t.mGM(r=t.lsd())&&(n.groupTemplate=r.first),t.mGM(r=t.lsd())&&(n.fixedGroupTemplate=r.first),t.mGM(r=t.lsd())&&(n.suffixTemplate=r.first),t.mGM(r=t.lsd())&&(n.prefixTemplate=r.first)}},viewQuery:function(e,n){if(1&e&&(t.GBs(Kc,5),t.GBs(vw,7,t.c1b),t.GBs(Sw,7),t.GBs(Uv,7),t.GBs(S5,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.responsiveRendererComponent=o.first),t.mGM(o=t.lsd())&&(n.container=o.first),t.mGM(o=t.lsd())&&(n.popupTemplate=o.first),t.mGM(o=t.lsd())&&(n.searchbar=o.first),t.mGM(o=t.lsd())&&(n.optionsList=o.first)}},hostVars:11,hostBindings:function(e,n){2&e&&(t.BMQ("dir",n.dir),t.AVh("k-readonly",n.readonly)("k-autocomplete",n.widgetClasses)("k-input",n.widgetClasses)("k-disabled",n.isDisabled)("k-loading",n.isLoading))},inputs:{highlightFirst:"highlightFirst",showStickyHeader:"showStickyHeader",focusableId:"focusableId",data:"data",value:"value",valueField:"valueField",placeholder:"placeholder",adaptiveMode:"adaptiveMode",title:"title",subtitle:"subtitle",popupSettings:"popupSettings",listHeight:"listHeight",loading:"loading",clearButton:"clearButton",suggest:"suggest",disabled:"disabled",itemDisabled:"itemDisabled",readonly:"readonly",tabindex:"tabindex",tabIndex:"tabIndex",filterable:"filterable",virtual:"virtual",size:"size",rounded:"rounded",fillMode:"fillMode"},outputs:{valueChange:"valueChange",filterChange:"filterChange",open:"open",opened:"opened",close:"close",closed:"closed",onFocus:"focus",onBlur:"blur",inputFocus:"inputFocus",inputBlur:"inputBlur"},exportAs:["kendoAutoComplete"],features:[t.Jv_([Ist,Wc,ec,Yc,Zl,j,{provide:Ve,useValue:"kendo.autocomplete"},{provide:yw,useExisting:(0,t.Rfq)(()=>s)},{provide:as,useExisting:(0,t.Rfq)(()=>s)}]),t.OA$],decls:18,vars:29,consts:()=>{let i,e,n;return i="Nessun dato trovato",e="cancella",n="Options list",[["searchbar",""],["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["optionsList",""],["kendoAutoCompleteLocalizedMessages","","noDataText",i,"clearTitle",e,"popupLabel",n],["kendoDropDownSharedEvents","",3,"isFocusedChange","handleBlur","onFocus","hostElement","isFocused"],["class","k-input-prefix k-input-prefix-horizontal",4,"ngIf"],[4,"ngIf"],[3,"onNavigate","valueChange","onBlur","onFocus","click","role","ariaExpanded","isSuggestable","isFilterable","isLoading","ariaControls","id","activeDescendant","userInput","suggestedText","disabled","readonly","tabIndex","placeholder"],["class","k-clear-value","role","button","tabindex","-1",3,"visibility","click","mousedown",4,"ngIf"],["class","k-icon k-i-loading k-input-loading-icon",4,"ngIf"],["class","k-input-suffix k-input-suffix-horizontal",4,"ngIf"],[3,"resize",4,"ngIf"],[3,"closePopup","textInputChange","navigate","sharedPopupActionSheetTemplate","isActionSheetExpanded","title","showTextInput","subtitle","placeholder"],[1,"k-input-prefix","k-input-prefix-horizontal"],[3,"ngTemplateOutlet"],["role","button","tabindex","-1",1,"k-clear-value",3,"click","mousedown"],["name","x",3,"svgIcon"],[1,"k-icon","k-i-loading","k-input-loading-icon"],[1,"k-input-suffix","k-input-suffix-horizontal"],[4,"ngTemplateOutlet"],[3,"resize"],[3,"pageChange","size","rounded","id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","showStickyHeader"],["class","k-no-data",4,"ngIf"],[3,"templateContext"],[1,"k-no-data"],[3,"ngIf","templateContext"],[3,"ngIf"]]},template:function(e,n){if(1&e){const o=t.RV6();t.eu8(0,5),t.qex(1,6),t.mxI("isFocusedChange",function(a){return t.eBV(o),t.DH7(n.isFocused,a)||(n.isFocused=a),t.Njj(a)}),t.bIt("handleBlur",function(){return t.eBV(o),t.Njj(n.handleBlur())})("onFocus",function(){return t.eBV(o),t.Njj(n.handleFocus())}),t.DNE(2,ftt,2,1,"span",7)(3,mtt,1,0,"kendo-separator",8),t.j41(4,"kendo-searchbar",9,0),t.bIt("onNavigate",function(a){return t.eBV(o),t.Njj(n.handleNavigate(a))})("valueChange",function(a){return t.eBV(o),t.Njj(n.searchBarChange(a))})("onBlur",function(){return t.eBV(o),t.Njj(n.handleInputBlur())})("onFocus",function(){return t.eBV(o),t.Njj(n.handleInputFocus())})("click",function(){return t.eBV(o),t.Njj(n.handleClick())}),t.k0s(),t.DNE(6,_tt,2,4,"span",10)(7,gtt,1,0,"span",11)(8,vtt,1,0,"kendo-separator",8)(9,Ctt,2,1,"span",12),t.bVm(),t.DNE(10,Ett,1,1,"ng-template",null,1,t.C5r),t.eu8(12,null,2),t.DNE(14,ytt,1,0,"kendo-resize-sensor",13),t.j41(15,"responsive-renderer",14),t.bIt("closePopup",function(){return t.eBV(o),t.Njj(n.togglePopup(!1))})("textInputChange",function(a){return t.eBV(o),t.Njj(n.onFilterChange(a))})("navigate",function(a){return t.eBV(o),t.Njj(n.handleNavigate(a))}),t.k0s(),t.DNE(16,xtt,5,17,"ng-template",null,3,t.C5r)}if(2&e){const o=t.sdS(17);t.R7$(),t.Y8G("hostElement",n.hostElement),t.R50("isFocused",n.isFocused),t.R7$(),t.Y8G("ngIf",n.prefixTemplate),t.R7$(),t.Y8G("ngIf",n.prefixTemplate&&n.prefixTemplate.showSeparator),t.R7$(),t.Y8G("role","combobox")("ariaExpanded",n.isOpen)("isSuggestable",n.suggest)("isFilterable",n.filterable)("isLoading",n.isLoading)("ariaControls",n.ariaControls)("id",n.focusableId)("activeDescendant",n.activeDescendant)("userInput",n.text)("suggestedText",n.suggestion)("disabled",n.disabled)("readonly",n.readonly||n.isAdaptive)("tabIndex",n.tabIndex)("placeholder",n.placeholder),t.R7$(2),t.Y8G("ngIf",!n.loading&&!n.readonly&&n.clearButton&&(null==n.text?null:n.text.length)),t.R7$(),t.Y8G("ngIf",n.loading),t.R7$(),t.Y8G("ngIf",n.suffixTemplate&&n.suffixTemplate.showSeparator),t.R7$(),t.Y8G("ngIf",n.suffixTemplate),t.R7$(5),t.Y8G("ngIf",n.isOpen||n.isAdaptiveModeEnabled),t.R7$(),t.Y8G("sharedPopupActionSheetTemplate",o)("isActionSheetExpanded",n.isActionSheetExpanded)("title",n.title)("showTextInput",!0)("subtitle",n.subtitle)("placeholder",n.placeholder)}},dependencies:[dF,Uv,Ke,Os,Kc,kw,Bv,O5,W,Je,zf],encapsulation:2}),s})();const xst={multi:!0,provide:Yn,useExisting:(0,t.Rfq)(()=>go)};let go=(()=>{class s{constructor(e,n,o,r,a,l,c,u,f,_,g,S,b){this.wrapper=e,this.localization=n,this.popupService=o,this.selectionService=r,this.navigationService=a,this.disabledItemsService=l,this.dataService=c,this.zone=u,this.cdr=f,this.renderer=_,this.touchEnabled=g,this.injector=S,this.hostElement=b,this.animationDuration=300,this.xIcon=wo,this.caretAltDownIcon=Bo,this.selected=[],this.showStickyHeader=!0,this.focusableId=`k-${Ql()}`,this.allowCustom=!1,this.valueNormalizer=k=>k.pipe((0,U.T)(D=>D)),this.placeholder="",this.adaptiveMode="none",this.title="",this._listHeight=200,this.suggest=!1,this.clearButton=!0,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.filterable=!1,this.valueChange=new t.bkB,this.selectionChange=new t.bkB,this.filterChange=new t.bkB,this.open=new t.bkB,this.opened=new t.bkB,this.close=new t.bkB,this.closed=new t.bkB,this.onFocus=new t.bkB,this.onBlur=new t.bkB,this.inputFocus=new t.bkB,this.inputBlur=new t.bkB,this.widgetClasses=!0,this._isFocused=!1,this.windowSize="large",this.listBoxId=`k-${Ql()}`,this.optionPrefix=`k-${Ql()}`,this.onChangeCallback=k=>{},this.onTouchedCallback=k=>{},this.defaultVirtualItemHeight=28,this.defaultVirtualPageSize=50,this._filtering=!1,this._text="",this.filterText="",this._open=!1,this._popupSettings={animate:!0},this.popupMouseDownHandler=k=>k.preventDefault(),this.customValueSubject=new Xe.B,this.valueSubject=new Xe.B,this.clearValueSubject=new Xe.B,this.subs=new be.yU,this._size="medium",this._rounded="medium",this._fillMode="solid",(0,mt.$)(C5),this.direction=n.rtl?"rtl":"ltr",this.data=[]}get actionSheet(){return this.responsiveRendererComponent?.actionSheet}get actionSheetSearchBar(){return this.responsiveRendererComponent?.actionSheetSearchBar}set text(e){this._text=oe(e)?e.toString():""}get text(){return this._text}get ariaControls(){return this.isOpen?this.listBoxId:void 0}togglePopup(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||this._toggle(e)}get activeDescendant(){if(!this.isOpen||!oe(this.selectionService.focused)||-1===this.selectionService.focused)return null;const e=this.dataService.itemAt(this.selectionService.focused);return this.optionPrefix+"-"+(e?Ze(e,this.valueField):"")}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}set data(e){if(this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState(),this._filtering){const o=this.text.length>0&&this.dataService.itemsCount>0?this.firstFocusableIndex(0):-1;this.selectionService.focused=o}this.suggest&&this.dataService.itemsCount&&this.text&&(this.suggestedText=Ze(this.dataService.itemAt(0),this.textField))}get data(){const e=this.virtual;if(e){const n=e.skip||0,o=n+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(n,o)}return this.dataService.data}set value(e){this._value=e,this.setState(),this.cdr.markForCheck()}get value(){return this._value}set valuePrimitive(e){this._valuePrimitive=e}get valuePrimitive(){return oe(this._valuePrimitive)?this._valuePrimitive:!oe(this.valueField)}set subtitle(e){this._subtitle=e}get subtitle(){return this._subtitle||this.placeholder}get isAdaptiveModeEnabled(){return"auto"===this.adaptiveMode}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set listHeight(e){this._listHeight=e}get listHeight(){if(!this.isAdaptive)return this._listHeight}set itemDisabled(e){if("function"!=typeof e)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set virtual(e){this._virtualSettings=w5(e,{itemHeight:this.defaultVirtualItemHeight,pageSize:this.defaultVirtualPageSize})}get virtual(){return this._virtualSettings}set size(e){const n=e||"medium";this.renderer.removeClass(this.wrapper.nativeElement,Bi("input",this.size)),"none"!==e&&this.renderer.addClass(this.wrapper.nativeElement,Bi("input",n)),this._size=n}get size(){return this._size}set rounded(e){const n=e||"medium";this.renderer.removeClass(this.wrapper.nativeElement,rr(this.rounded)),"none"!==e&&this.renderer.addClass(this.wrapper.nativeElement,rr(n)),this._rounded=n}get rounded(){return this._rounded}set fillMode(e){const n=e||"solid";this.renderer.removeClass(this.wrapper.nativeElement,Ca("input",this.fillMode)),"none"!==e&&this.renderer.addClass(this.wrapper.nativeElement,Ca("input",n)),this._fillMode=n}get fillMode(){return this._fillMode}get isDisabled(){return this.disabled}get isLoading(){return this.loading}get dir(){return this.direction}get isFocused(){return this._isFocused}set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-focus"),this._isFocused=e}get clearButtonVisiblity(){if(this.touchEnabled)return"visible"}get formControl(){return this.injector.get(Ri,null)?.control||null}get isActionSheetExpanded(){return this.actionSheet?.expanded}get isAdaptive(){return this.isAdaptiveModeEnabled&&"large"!==this.windowSize}get popupWidth(){let e=0;ne()&&(e=this.wrapper.nativeElement.offsetWidth);const n=this.popupSettings.width||e;return{min:isNaN(e)?e:`${e}px`,max:isNaN(n)?n:`${n}px`}}get popupHeight(){const e=this.popupSettings.height;return oe(e)?`${e}px`:"auto"}ngOnInit(){this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex"),this.attachStreams(),this.createValueStream(),this.subscribeTouchEvents(),this.attachSelectClickHandler(),this.setComponentClasses()}ngAfterViewInit(){this.windowSize=Ii(),this.cdr.detectChanges(),this.actionSheet&&ne()&&(this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-height","60vh"),this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-max-height","none"))}createValueStream(){const e=this.valueSubject.pipe(z(c=>{const u=Ze(this.value,this.valueField),f=Ze(c,this.valueField);let _=Ze(c,this.textField);return!(!oe(this.value)&&!oe(f)||(oe(_)&&(_=_.toString()),u===f&&this.text===_&&(this.clearFilter(),1)))}),(0,U.T)(c=>{const u=Ze(c,this.valueField);return{dataItem:c,text:Ze(c,this.textField),value:this.valuePrimitive?u:c}})),n=function rWe(s,i){return e=>[z(s,i)(e),z(oWe(s,i))(e)]}(()=>this.allowCustom)(this.customValueSubject.pipe(vq(300))),o=n[0].pipe(x(()=>{this.loading=!0,this.disabled=!0,this.cdr.detectChanges()}),z(()=>{const c=this.text!==Ze(this.value,this.valueField);return this.loading=c,this.disabled=c,c||this.clearFilter(),c}),this.valueNormalizer,(0,U.T)(c=>({custom:!0,dataItem:c,text:this.text,value:c}))),r=n[1].pipe((0,U.T)(()=>({custom:!0,dataItem:void 0,text:void 0,value:void 0}))),a=this.clearValueSubject.pipe((0,U.T)(()=>({dataItem:void 0,text:void 0,value:void 0})));this.valueSubscription&&this.valueSubscription.unsubscribe();const l=Ht(e,o,r,a);this.valueSubscription=l.pipe(Lc(()=>{const c=void 0!==Ze(this.dataItem,this.valueField);return this.dataItem=void 0,this.value=void 0,this.text=void 0,this.loading=!1,this.disabled=!1,c&&this.selectionChange.emit(void 0),this.emitValueChange(),this.createValueStream(),pt(null)})).subscribe(c=>{const u=Ze(this.dataItem,this.valueField)!==Ze(c.dataItem,this.valueField);this.dataItem=c.dataItem,this.value=c.value,this.text=c.text,this.loading=!1,this.disabled=!1,this.clearFilter(),c.custom&&(this.selectionService.focused=-1),u&&this.selectionChange.emit(c.custom?void 0:this.dataItem),this.emitValueChange()})}attachStreams(){ne()&&(this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.cdr.detectChanges()})),this.subs.add(Ht(this.navigationService.up,this.navigationService.down,this.navigationService.home,this.navigationService.end).pipe(z(e=>oe(e.index))).subscribe(e=>this.navigate(e.index))),this.subs.add(this.navigationService.open.subscribe(this.handleNavigationOpen.bind(this))),this.subs.add(this.navigationService.close.subscribe(()=>this.togglePopup(!1))),this.subs.add(Ht(this.navigationService.pagedown,this.navigationService.pageup).subscribe(e=>{this.isOpen&&(e.originalEvent.preventDefault(),this.optionsList.scrollWithOnePage(vt[e.originalEvent.code]))})),this.subs.add(this.navigationService.esc.subscribe(this.handleEscape.bind(this))),this.subs.add(this.navigationService.enter.pipe(x(e=>{this.isOpen&&e.originalEvent.preventDefault()})).subscribe(this.handleEnter.bind(this))),this.subs.add(Ht(this.selectionService.onChange,this.selectionService.onSelect.pipe(z(e=>!this.isOpen))).pipe(x(e=>{this._filtering=!1,this.togglePopup(!1)}),(0,U.T)(e=>this.dataService.itemAt(e.indices[0]))).subscribe(e=>{this.change(e)})),this.subs.add(this.selectionService.onSelect.pipe(z(e=>this.isOpen),x(e=>this._filtering=!1),(0,U.T)(e=>this.dataService.itemAt(e.indices[0]))).subscribe(e=>{const n=Ze(e,this.valueField)!==Ze(this.dataItem,this.valueField);this.updateState({dataItem:e}),n&&this.selectionChange.emit(e)})))}ngOnDestroy(){this.destroyPopup(),this.subs.unsubscribe(),oe(this.valueSubscription)&&this.valueSubscription.unsubscribe(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler(),this.selectClickDisposeHandler&&this.selectClickDisposeHandler()}ngOnChanges(e){const n=this.virtual;n&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:n.pageSize}),Dt("valueNormalizer",e)&&this.createValueStream(),Zi(["textField","valueField","valuePrimitive"],e,!1)&&this.setState()}ngAfterContentChecked(){this.verifySettings()}focusItemAt(e){const n=e>=0&&e<this.data.length;oe(e)&&n&&!this.disabledItemsService.isIndexDisabled(e)?this.selectionService.focus(e):this.selectionService.focus(-1)}focus(){this.disabled||this.searchbar.focus()}blur(){this.disabled||this.searchbar.blur()}toggle(e){Promise.resolve(null).then(()=>{const n=oe(e)?e:!this._open;this._toggle(n),this.cdr.markForCheck()})}get isOpen(){return Cw(this._open||this.isActionSheetExpanded)}handleClick(){this.windowSize=Ii(),this.isAdaptive&&this.togglePopup(!0)}reset(){this.value=void 0,this.clearState(),this.resetSelection()}isEmpty(){const e=!oe(this.text)||tCe(this.text),n=!oe(this.value)||tCe(this.value);return e&&n}messageFor(e){return this.localization.get(e)}clearValue(e){e?.stopImmediatePropagation(),e&&this.focus(),this._previousDataItem=void 0,this.selectionService.resetSelection([]),this.clearValueSubject.next(),this._filtering=!1}writeValue(e){this.value=null===e?void 0:e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.cdr.markForCheck(),this.disabled=e}get selectButtonClasses(){return`${this.size?Bi("button",this.size):""} ${this.fillMode?"k-button-"+this.fillMode:""} ${this.fillMode?"k-button-"+this.fillMode+"-base":""}\n        `}onResize(){if(this.isAdaptiveModeEnabled&&this.windowSize!==Ii()&&(this.isOpen&&this.togglePopup(!1),this.windowSize=Ii(),this.cdr.detectChanges()),this.isOpen&&!this.isActionSheetExpanded){const e=this.popupRef.popupElement,{min:n,max:o}=this.popupWidth;e.style.minWidth=n,e.style.width=o}}verifySettings(){if((0,t.naY)()){if(!0===this.valuePrimitive&&oe(this.value)&&"object"==typeof this.value)throw new Error("Expected value of primitive type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/value-binding/#toc-primitive-values");if(!1===this.valuePrimitive&&oe(this.value)&&"object"!=typeof this.value)throw new Error("Expected value of type Object. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/value-binding/#toc-object-values");if(!oe(this.valueField)!=!oe(this.textField))throw new Error("Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/data-binding/#toc-arrays-of-complex-data");if(this.virtual&&isNaN(this.virtual.itemHeight))throw new Error("Expected virtual.itemHeight of type number.")}}setState(){if(this._filtering)return;const e=this.value,o=this.findDataItem({valueField:this.valueField,value:e});oe(o.index)&&-1!==o.index?(this.updateState({dataItem:o.dataItem,confirm:!0}),this.resetSelection(o.index)):oe(e)&&this.allowCustom?(this.updateState({dataItem:e}),this.resetSelection(-1)):this._previousDataItem&&this.value?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection(-1))}updateState({dataItem:e,confirm:n=!1}){this.dataItem=e,this.text=Ze(e,this.textField),n&&(this._previousDataItem=e)}clearState(){this.text=void 0,this.dataItem=void 0}resetSelection(e){const n=!oe(e)||e<0;this.selectionService.resetSelection(n?[]:[e]),this.selectionService.focused=e}firstFocusableIndex(e){const n=this.data.length-1;return this.disabledItemsService.isIndexDisabled(e)?e<n?this.firstFocusableIndex(e+1):void 0:e}findIndexPredicate(e){return this.dataService.grouped?n=>{let o=Ze(n.value,this.textField);return o=oe(o)?o.toString().toLowerCase():"",o.startsWith(e.toLowerCase())}:n=>{let o=Ze(n,this.textField);return o=oe(o)?o.toString().toLowerCase():"",o.startsWith(e.toLowerCase())}}findDataItem({valueField:e,value:n}){const o={dataItem:null,index:-1},a=this.dataService.findIndex(l=>Ze(this.dataService.grouped?l.value:l,e)===Ze(n,e));return o.dataItem=this.dataService.itemAt(a),o.index=a,o}search(e,n=0){const o=this.findIndex(e,n);this.disabledItemsService.isIndexDisabled(o)?o+1<this.dataService.itemsCount?this.search(e,o+1):this.selectionService.focus(-1):(this.selectionService.focus(o),this.suggest&&(this.suggestedText=Ze(this.dataService.itemAt(o),this.textField)))}onAdaptiveTextBoxChange(e){this.filterable&&this.filterText!==e?(this.filterText=e,this.filterChange.emit(e)):this.search(e)}getSuggestion(){if(!this.selectionService.selected.length&&this.suggest&&!this.backspacePressed&&this.suggestedText&&this.text&&this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase()))return this.suggestedText;this.suggestedText=void 0}navigate(e){0!==this.dataService.itemsCount&&(this.text=Ze(this.dataService.itemAt(e),this.textField),this.selectionService.select(e))}handleNavigate(e){const n=oe(this.selectionService.selected[0]),o=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused;let r=0;if(this.disabled||this.readonly||e.keyCode===F.Home||e.keyCode===F.End)return;n||(e.keyCode===F.ArrowDown?r=-1:e.keyCode===F.ArrowUp&&(r=1));const a=this.navigationService.process({current:r+o,max:this.dataService.itemsCount-1,min:0,originalEvent:e});a!==vt.Undefined&&a!==vt.Left&&a!==vt.Right&&a!==vt.Backspace&&a!==vt.Delete&&a!==vt.PageDown&&a!==vt.PageUp&&(a===vt.Enter&&this.isOpen||a!==vt.Enter)&&e.preventDefault(),a===vt.Tab&&this.isActionSheetExpanded&&(e.stopImmediatePropagation(),this.togglePopup(!1))}handleEnter(){const e=this.text,n=this.selectionService.focused,o=oe(n)&&-1!==n,r=Ze(this._previousDataItem,this.textField)||"",a=Ze(this.dataService.itemAt(n),this.textField),l=e!==r;this.togglePopup(!1),this._filtering=!1,this.allowCustom&&l&&(e===a||this.useSuggestion()?this.selectionService.change(n):this.change(e,!0)),this.allowCustom||(o?this.selectionService.change(n):l&&this.change(e,!0))}handleFocus(){this.zone.run(()=>{!this.isFocused&&ke(this.onFocus)&&this.onFocus.emit(),this.isFocused=!0})}handleBlur(){if(!this.isActionSheetExpanded){this._filtering=!1,this.searchbar.input.nativeElement.scrollLeft=0,this.isFocused=!1;const e=Ze(this.dataItem,this.valueField)!==Ze(this.value,this.valueField),n=this.searchbar.value,o=n!==(Ze(this.dataItem,this.textField)||""),r=e||o;r||ke(this.onBlur)||ke(this.close)||Z_(this.wrapper.nativeElement)?this.zone.run(()=>{r&&(oe(this.focusedItemText)&&this.focusedItemText.toLowerCase()===n.toLowerCase()||e?this.selectionService.change(this.selectionService.focused):this.change(n,!0)),this.onBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}}handleInputBlur(){if(!this.isActionSheetExpanded){this._filtering=!1,this.searchbar.input.nativeElement.scrollLeft=0;const e=Ze(this.dataItem,this.valueField)!==Ze(this.value,this.valueField),n=this.searchbar.value,o=n!==(Ze(this.dataItem,this.textField)||""),r=e||o;r||ke(this.onBlur)||ke(this.close)||Z_(this.wrapper.nativeElement)||"blur"===this.formControl?.updateOn?this.zone.run(()=>{r&&(oe(this.focusedItemText)&&this.focusedItemText.toLowerCase()===n.toLowerCase()||e?this.selectionService.change(this.selectionService.focused):this.change(n,!0)),this.inputBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}}handleEscape(){this.isOpen?this.togglePopup(!1):this.clearValue(),this.selectionService.selected.length>0||(this.suggestedText=null,this.selectionService.focused=-1)}handleNavigationOpen(){this.restoreItemFocus(),this.togglePopup(!0)}searchBarChange(e){this.backspacePressed=e.length<(this.text?this.text.length:0),this.text=e,this.selectionService.resetSelection([]),this.togglePopup(!0),this._filtering=!0,this.filterable&&this.filterText!==e?(this.filterText=e,this.filterChange.emit(e)):this.search(e)}handleInputFocus(){this.handleFocus(),ke(this.inputFocus)&&this.zone.run(()=>this.inputFocus.emit())}pageChange(e){this.virtual.skip=e.skip}change(e,n=!1){n?this.customValueSubject.next(e):(this.valueSubject.next(e),this.isActionSheetExpanded&&this.togglePopup(!1))}emitValueChange(){this.onChangeCallback(this.value),this.valueChange.emit(this.value),this._previousDataItem=this.dataItem}selectClick(){this.touchEnabled||(this.searchbar.focus(),this.isFocused=!0),this.isOpen||this.restoreItemFocus(),this.togglePopup(!this.isOpen)}get listContainerClasses(){return["k-list-container","k-combobox-popup"].concat(this.popupSettings.popupClass||[])}preventEventDefault(e){e.preventDefault()}get focusedItemText(){const e=this.selectionService.focused;if(!oe(e)||-1===e)return null;const n=Ze(this.dataService.itemAt(e),this.textField);return oe(n)?n.toString():""}restoreItemFocus(){!(oe(this.selectionService.focused)&&this.selectionService.focused>-1)&&this.text&&this.dataService.itemsCount&&(this.filterable?this.selectionService.focused=this.firstFocusableIndex(0):this.search(this.text))}useSuggestion(){if(!this.suggest||!oe(this.searchbar.value))return!1;const e=this.dataService.itemAt(this.selectionService.focused),n=Ze(e,this.textField);return!!oe(n)&&this.searchbar.value.toLowerCase()===n.toLowerCase()}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}createPopup(){if(this.virtual&&(this.virtual.skip=0),this.windowSize=Ii(),this.isAdaptive)return void this.openActionSheet();const e="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:"absolute",anchorAlign:{horizontal:e,vertical:"bottom"},popupAlign:{horizontal:e,vertical:"top"}});const r=this.popupRef.popupElement,{min:a,max:l}=this.popupWidth;r.addEventListener("mousedown",this.popupMouseDownHandler),r.style.minWidth=a,r.style.width=l,r.style.height=this.popupHeight,r.setAttribute("dir",this.direction),this.appendTo||(this.renderer.setAttribute(r,"role","region"),this.renderer.setAttribute(r,"aria-label",this.messageFor("popupLabel")));const c=this.popupRef.popupElement.querySelector("ul"),u=this.searchbar.input.nativeElement.getAttribute("aria-labelledby");u&&c.setAttribute("aria-labelledby",u),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),Pv(this.optionsList,this.searchbar.input,this.renderer),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.opened.emit()}),this.popupRef.popupClose.subscribe(()=>{this.closed.emit()}),this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1))}_toggle(e){this._open=e,this.destroyPopup(),this.isActionSheetExpanded&&this.closeActionSheet(),this._open&&(this.windowSize=Ii(),this.createPopup())}triggerPopupEvents(e){const n=new R0;return e?this.open.emit(n):this.close.emit(n),n.isDefaultPrevented()}clearFilter(){this.filterable&&this.filterText&&(this.filterText="",this.filterChange.emit(this.filterText))}subscribeTouchEvents(){!ne()||!this.touchEnabled||this.zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",e=>{const o=kx(this.wrapper,e.target,this.popupRef);this.isFocused&&!o?this.zone.run(()=>this.blur()):this.isOpen&&!o&&this.zone.run(()=>this.togglePopup(!1))}))}attachSelectClickHandler(){this.selectClickDisposeHandler=this.renderer.listen(this.select.nativeElement,m_e?"pointerdown":"click",this.selectClick.bind(this))}setComponentClasses(){"none"!==this.size&&this.renderer.addClass(this.wrapper.nativeElement,Bi("input",this.size)),"none"!==this.rounded&&this.renderer.addClass(this.wrapper.nativeElement,rr(this.rounded)),"none"!==this.fillMode&&this.renderer.addClass(this.wrapper.nativeElement,Ca("input",this.fillMode))}findIndex(e,n=0){let o;return o=e&&e.length&&this.dataService.itemsCount?this.dataService.findIndex(this.findIndexPredicate(e),n):-1,o}closeActionSheet(){this.actionSheet.toggle(!1),this.actionSheetSearchBar.value="",this.filterable&&this.filterChange.emit(""),this.searchbar.input.nativeElement.focus(),this.closed.emit()}openActionSheet(){this.windowSize=Ii(),this.actionSheet.toggle(!0),this.cdr.detectChanges(),Pv(this.optionsList,this.searchbar.input,this.renderer),this.title=Ew(this.searchbar.input,this.title),bw(this.actionSheet,this.windowSize,this.renderer),this.cdr.detectChanges(),this.opened.emit(),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.actionSheetSearchBar.focus()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(j),t.rXU(es),t.rXU(ec),t.rXU(Yc),t.rXU(Zl),t.rXU(Wc),t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(t.sFG),t.rXU(tg,8),t.rXU(t.zZn),t.rXU(t.aKT))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-combobox"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,ba,5),t.wni(o,I0,5),t.wni(o,x0,5),t.wni(o,A0,5),t.wni(o,wx,5),t.wni(o,Dx,5),t.wni(o,HI,5),t.wni(o,jI,5)),2&e){let r;t.mGM(r=t.lsd())&&(n.template=r.first),t.mGM(r=t.lsd())&&(n.headerTemplate=r.first),t.mGM(r=t.lsd())&&(n.footerTemplate=r.first),t.mGM(r=t.lsd())&&(n.noDataTemplate=r.first),t.mGM(r=t.lsd())&&(n.groupTemplate=r.first),t.mGM(r=t.lsd())&&(n.fixedGroupTemplate=r.first),t.mGM(r=t.lsd())&&(n.suffixTemplate=r.first),t.mGM(r=t.lsd())&&(n.prefixTemplate=r.first)}},viewQuery:function(e,n){if(1&e&&(t.GBs(Kc,5),t.GBs(vw,7,t.c1b),t.GBs(Sw,7),t.GBs(Uv,7),t.GBs(S5,5),t.GBs(Att,7)),2&e){let o;t.mGM(o=t.lsd())&&(n.responsiveRendererComponent=o.first),t.mGM(o=t.lsd())&&(n.container=o.first),t.mGM(o=t.lsd())&&(n.popupTemplate=o.first),t.mGM(o=t.lsd())&&(n.searchbar=o.first),t.mGM(o=t.lsd())&&(n.optionsList=o.first),t.mGM(o=t.lsd())&&(n.select=o.first)}},hostVars:11,hostBindings:function(e,n){2&e&&(t.BMQ("dir",n.dir),t.AVh("k-readonly",n.readonly)("k-combobox",n.widgetClasses)("k-input",n.widgetClasses)("k-disabled",n.isDisabled)("k-loading",n.isLoading))},inputs:{icon:"icon",svgIcon:"svgIcon",showStickyHeader:"showStickyHeader",focusableId:"focusableId",allowCustom:"allowCustom",data:"data",value:"value",textField:"textField",valueField:"valueField",valuePrimitive:"valuePrimitive",valueNormalizer:"valueNormalizer",placeholder:"placeholder",adaptiveMode:"adaptiveMode",title:"title",subtitle:"subtitle",popupSettings:"popupSettings",listHeight:"listHeight",loading:"loading",suggest:"suggest",clearButton:"clearButton",disabled:"disabled",itemDisabled:"itemDisabled",readonly:"readonly",tabindex:"tabindex",tabIndex:"tabIndex",filterable:"filterable",virtual:"virtual",size:"size",rounded:"rounded",fillMode:"fillMode"},outputs:{valueChange:"valueChange",selectionChange:"selectionChange",filterChange:"filterChange",open:"open",opened:"opened",close:"close",closed:"closed",onFocus:"focus",onBlur:"blur",inputFocus:"inputFocus",inputBlur:"inputBlur"},exportAs:["kendoComboBox"],features:[t.Jv_([xst,Wc,ec,Yc,Zl,j,{provide:Ve,useValue:"kendo.combobox"},{provide:yw,useExisting:(0,t.Rfq)(()=>s)},{provide:as,useExisting:(0,t.Rfq)(()=>s)}]),t.OA$],decls:21,vars:36,consts:()=>{let i,e,n,o;return i="Nessun dato trovato",e="cancella",n="Seleziona",o="Options list",[["searchbar",""],["select",""],["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["optionsList",""],["kendoComboBoxLocalizedMessages","","noDataText",i,"clearTitle",e,"selectButtonText",n,"popupLabel",o],["kendoDropDownSharedEvents","",3,"isFocusedChange","handleBlur","onFocus","hostElement","isFocused"],["class","k-input-prefix k-input-prefix-horizontal",4,"ngIf"],[4,"ngIf"],[3,"onNavigate","valueChange","onBlur","onFocus","click","role","ariaExpanded","ariaControls","id","isLoading","isSuggestable","isFilterable","activeDescendant","userInput","suggestedText","disabled","readonly","tabIndex","placeholder"],["class","k-clear-value","aria-hidden","true",3,"visibility","kendoEventsOutsideAngular","click",4,"ngIf"],["class","k-i-loading k-input-loading-icon k-icon",4,"ngIf"],["class","k-input-suffix k-input-suffix-horizontal",4,"ngIf"],["tabindex","-1","unselectable","on","type","button",1,"k-input-button","k-button","k-icon-button",3,"ngClass","kendoEventsOutsideAngular"],["innerCssClass","k-button-icon",3,"name","svgIcon"],[3,"resize",4,"ngIf"],[3,"closePopup","textInputChange","navigate","sharedPopupActionSheetTemplate","isActionSheetExpanded","title","showTextInput","subtitle","placeholder"],[1,"k-input-prefix","k-input-prefix-horizontal"],[3,"ngTemplateOutlet"],["aria-hidden","true",1,"k-clear-value",3,"click","kendoEventsOutsideAngular"],["name","x",3,"svgIcon"],[1,"k-i-loading","k-input-loading-icon","k-icon"],[1,"k-input-suffix","k-input-suffix-horizontal"],[4,"ngTemplateOutlet"],[3,"resize"],[3,"pageChange","size","rounded","id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","showStickyHeader"],["class","k-no-data",4,"ngIf"],[3,"templateContext"],[1,"k-no-data"],[3,"ngIf","templateContext"],[3,"ngIf"]]},template:function(e,n){if(1&e){const o=t.RV6();t.eu8(0,6),t.qex(1,7),t.mxI("isFocusedChange",function(a){return t.eBV(o),t.DH7(n.isFocused,a)||(n.isFocused=a),t.Njj(a)}),t.bIt("handleBlur",function(){return t.eBV(o),t.Njj(n.handleBlur())})("onFocus",function(){return t.eBV(o),t.Njj(n.handleFocus())}),t.DNE(2,Ntt,2,1,"span",8)(3,Ltt,1,0,"kendo-separator",9),t.j41(4,"kendo-searchbar",10,0),t.bIt("onNavigate",function(a){return t.eBV(o),t.Njj(n.handleNavigate(a))})("valueChange",function(a){return t.eBV(o),t.Njj(n.searchBarChange(a))})("onBlur",function(){return t.eBV(o),t.Njj(n.handleInputBlur())})("onFocus",function(){return t.eBV(o),t.Njj(n.handleInputFocus())})("click",function(){return t.eBV(o),t.Njj(n.handleClick())}),t.k0s(),t.DNE(6,Gtt,2,7,"span",11)(7,Ptt,1,0,"span",12)(8,Ftt,1,0,"kendo-separator",9)(9,Btt,2,1,"span",13),t.j41(10,"button",14,1),t.nrm(12,"kendo-icon-wrapper",15),t.k0s(),t.bVm(),t.DNE(13,ztt,1,1,"ng-template",null,2,t.C5r)(15,jtt,1,0,"kendo-resize-sensor",16),t.eu8(16,null,3),t.j41(18,"responsive-renderer",17),t.bIt("closePopup",function(){return t.eBV(o),t.Njj(n.togglePopup(!1))})("textInputChange",function(a){return t.eBV(o),t.Njj(n.onAdaptiveTextBoxChange(a))})("navigate",function(a){return t.eBV(o),t.Njj(n.handleNavigate(a))}),t.k0s(),t.DNE(19,qtt,5,17,"ng-template",null,4,t.C5r)}if(2&e){const o=t.sdS(20);t.R7$(),t.Y8G("hostElement",n.hostElement),t.R50("isFocused",n.isFocused),t.R7$(),t.Y8G("ngIf",n.prefixTemplate),t.R7$(),t.Y8G("ngIf",n.prefixTemplate&&n.prefixTemplate.showSeparator),t.R7$(),t.Y8G("role","combobox")("ariaExpanded",n.isOpen)("ariaControls",n.ariaControls)("id",n.focusableId)("isLoading",n.loading)("isSuggestable",n.suggest)("isFilterable",n.filterable)("activeDescendant",n.activeDescendant)("userInput",n.text)("suggestedText",n.getSuggestion())("disabled",n.disabled)("readonly",n.readonly||n.isAdaptive)("tabIndex",n.tabIndex)("placeholder",n.placeholder),t.R7$(2),t.Y8G("ngIf",n.clearButton&&!n.loading&&!n.disabled&&!n.readonly&&(null==n.text?null:n.text.length)),t.R7$(),t.Y8G("ngIf",n.loading),t.R7$(),t.Y8G("ngIf",n.suffixTemplate&&n.suffixTemplate.showSeparator),t.R7$(),t.Y8G("ngIf",n.suffixTemplate),t.R7$(),t.Y8G("ngClass",n.selectButtonClasses)("kendoEventsOutsideAngular",t.eq3(34,yx,n.preventEventDefault)),t.BMQ("aria-label",n.messageFor("selectButtonText")),t.R7$(2),t.Y8G("name",n.icon||"caret-alt-down")("svgIcon",n.svgIcon||n.caretAltDownIcon),t.R7$(3),t.Y8G("ngIf",n.isOpen||n.isAdaptiveModeEnabled),t.R7$(3),t.Y8G("sharedPopupActionSheetTemplate",o)("isActionSheetExpanded",n.isActionSheetExpanded)("title",n.title)("showTextInput",!0)("subtitle",n.subtitle)("placeholder",n.placeholder)}},dependencies:[dF,Uv,Ke,Os,Kc,kw,Bv,O5,W,Je,Vo,Pe,zf],encapsulation:2}),s})(),ng=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoDropDownListValueTemplate",""],["","kendoDropDownTreeValueTemplate",""]]}),s})(),A5=(()=>{class s{constructor(e,n){this.element=e,this.zone=n}ngOnChanges(){this.focused&&this.nextTick(()=>this.element.nativeElement.focus())}nextTick(e){this.zone.runOutsideAngular(()=>setTimeout(e))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.SKi))},s.\u0275dir=t.FsC({type:s,selectors:[["","filterInput",""]],inputs:{focused:[t.Mj6.None,"filterInput","focused"]},features:[t.OA$]}),s})();const Lst={multi:!0,provide:Yn,useExisting:(0,t.Rfq)(()=>io)};let io=(()=>{class s{constructor(e,n,o,r,a,l,c,u,f,_,g,S){this.wrapper=e,this.localization=n,this.popupService=o,this.selectionService=r,this.navigationService=a,this.disabledItemsService=l,this.dataService=c,this._zone=u,this.renderer=f,this.cdr=_,this.touchEnabled=g,this.injector=S,this.animationDuration=300,this.xIcon=wo,this.searchIcon=Vk,this.caretAltDownSVGIcon=Bo,this.listBoxId=`k-${Ql()}`,this.showStickyHeader=!0,this.adaptiveMode="none",this.title="",this.subtitle="",this.windowSize="large",this._listHeight=200,this.readonly=!1,this.filterable=!1,this.ignoreCase=!0,this.delay=500,this.tabindex=0,this.leftRightArrowsNavigation=!0,this.valueChange=new t.bkB,this.filterChange=new t.bkB,this.selectionChange=new t.bkB,this.open=new t.bkB,this.opened=new t.bkB,this.close=new t.bkB,this.closed=new t.bkB,this.onFocus=new t.bkB,this.onBlur=new t.bkB,this.hostClasses=!0,this.focusableId=`k-${Ql()}`,this.role="combobox",this.haspopup="listbox",this.groupIndices=[],this.optionPrefix=`k-${Ql()}`,this.filterText="",this.subs=new be.yU,this._isFocused=!1,this.onTouchedCallback=b=>{},this.onChangeCallback=b=>{},this.word="",this.last="",this.filterFocused=new t.bkB,this.filterBlurred=new t.bkB,this.hostElementFocused=new t.bkB,this.hostElementBlurred=new t.bkB,this._open=!1,this._popupSettings={animate:!0},this._size="medium",this._rounded="medium",this._fillMode="solid",(0,mt.$)(C5),this.direction=n.rtl?"rtl":"ltr",this.data=[],this.subscribeEvents(),this.subscribeTouchEvents(),this.subscribeFocusEvents(),this.popupMouseDownHandler=this.onMouseDown.bind(this)}get actionSheet(){return this.responsiveRendererComponent?.actionSheet}get actionSheetSearchBar(){return this.responsiveRendererComponent?.actionSheetSearchBar}get width(){const e=ne()?this.wrapper.nativeElement.offsetWidth:0,n=this.popupSettings.width||e;return{min:isNaN(e)?e:`${e}px`,max:isNaN(n)?n:`${n}px`}}get height(){const e=this.popupSettings.height;return oe(e)?`${e}px`:"auto"}get widgetTabIndex(){if(this.disabled)return;const e=Number(this.tabIndex);return isNaN(e)?0:e}get ariaExpanded(){return this.isOpen}get ariaControls(){if(this.isOpen)return this.listBoxId}get ariaActivedescendant(){if(oe(this.dataItem)&&this.isOpen)return this.optionPrefix+"-"+Ze(this.dataItem,this.valueField)}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}onFilterChange(e){this.filterable&&this.filterChange.emit(e)}get ariaLive(){return this.filterable?"polite":"off"}set data(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState()}get data(){const e=this.virtual;if(e){const n=e.skip||0,o=n+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(n,o)}return this.dataService.data}set value(e){oe(e)||(this._previousDataItem=void 0),this._value=e,this.setState(),this.cdr.markForCheck()}get value(){return this._value}get isAdaptiveModeEnabled(){return"auto"===this.adaptiveMode}get isActionSheetExpanded(){return this.actionSheet?.expanded}get isAdaptive(){return this.isAdaptiveModeEnabled&&"large"!==this.windowSize}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set listHeight(e){this._listHeight=e}get listHeight(){if(!this.isAdaptive)return this._listHeight}set itemDisabled(e){if("function"!=typeof e)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}set virtual(e){this._virtualSettings=w5(e)}get virtual(){return this._virtualSettings}set valuePrimitive(e){this._valuePrimitive=e}get valuePrimitive(){return oe(this._valuePrimitive)?this._valuePrimitive:!oe(this.valueField)}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set size(e){const n=e||"medium";this.renderer.removeClass(this.wrapper.nativeElement,Bi("picker",this.size)),"none"!==e&&this.renderer.addClass(this.wrapper.nativeElement,Bi("picker",n)),this._size=n}get size(){return this._size}set rounded(e){const n=e||"medium";this.renderer.removeClass(this.wrapper.nativeElement,rr(this.rounded)),"none"!==e&&this.renderer.addClass(this.wrapper.nativeElement,rr(n)),this._rounded=e}get rounded(){return this._rounded}set fillMode(e){const n=e||"solid";this.renderer.removeClass(this.wrapper.nativeElement,Ca("picker",this.fillMode)),"none"!==e&&this.renderer.addClass(this.wrapper.nativeElement,Ca("picker",n)),this._fillMode=n}get fillMode(){return this._fillMode}blurComponent(e){e.target===this.wrapper.nativeElement&&(e.stopImmediatePropagation(),this.hostElementBlurred.emit())}blurFilterInput(){this.filterBlurred.emit()}focusComponent(e){e.target===this.wrapper.nativeElement&&(e.stopImmediatePropagation(),this.hostElementFocused.emit(),this.isFocused||(this.isFocused=!0,ke(this.onFocus)&&this._zone.run(()=>{this.onFocus.emit()})))}onResize(){if(this.isAdaptiveModeEnabled&&this.windowSize!==Ii()&&(this.isOpen&&this.togglePopup(!1),this.windowSize=Ii()),this.isOpen&&!this.isActionSheetExpanded){const e=this.popupRef.popupElement,{min:n,max:o}=this.width;e.style.minWidth=n,e.style.width=o}}get isDisabledClass(){return this.disabled}get isDisabledAttribute(){return this.disabled?"":null}get isLoading(){return this.loading}get dir(){return this.direction}get hostTabIndex(){return this.widgetTabIndex}get readonlyClass(){return this.readonly}get readonlyAttr(){return this.readonly?"":null}get isBusy(){return this.isLoading}get isAriaExpanded(){return this.ariaExpanded}get hostAriaInvalid(){return this.formControl?this.formControl?.invalid.toString():null}get hostAriaActivedescendant(){return this.ariaActivedescendant}keydown(e,n){n&&e.stopPropagation();const o=oe(this.defaultItem)?-1:0,r=isNaN(this.selectionService.focused)?this.firstFocusableIndex(o):this.selectionService.focused;let a=0;if(this.disabled||this.readonly)return;if(this.filterable&&this.isFocused&&this.isOpen&&(e.keyCode===F.Home||e.keyCode===F.End))return;const u=oe(this.selectionService.selected[0]),f=oe(this.selectionService.focused)&&!this.selectionService.isSelected(this.selectionService.focused);(!u||f)&&(e.keyCode===F.ArrowDown||e.keyCode===F.ArrowRight&&this.leftRightArrowsNavigation?a=-1:(e.keyCode===F.ArrowUp||e.keyCode===F.ArrowLeft&&this.leftRightArrowsNavigation)&&(a=1));const _=e,g=this.navigationService.process({current:r+a,max:this.dataService.itemsCount-1,min:this.defaultItem?-1:0,originalEvent:_});g!==vt.Undefined&&g!==vt.Tab&&g!==vt.Backspace&&g!==vt.Delete&&g!==vt.PageDown&&g!==vt.PageUp&&g!==vt.SelectAll&&!((g===vt.Left||g===vt.Right&&this.leftRightArrowsNavigation)&&this.filterable)&&g!==vt.Enter&&_.preventDefault(),g===vt.Tab&&this.isActionSheetExpanded&&this.togglePopup(!1)}keypress(e){this.disabled||this.readonly||this.filterable||this.onKeyPress(e)}click(){this.isActionSheetExpanded||(this.focus(),this.togglePopup(!this.isOpen))}set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-focus"),this._isFocused=e}get isFocused(){return this._isFocused}ngOnInit(){this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex"),this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.cdr.detectChanges()})),this.assignAriaDescribedBy(),this.setComponentClasses()}ngAfterViewInit(){this.windowSize=Ii(),this.actionSheet&&ne()&&(this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-height","60vh"),this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-max-height","none"))}isEmpty(){const e=this.value;return!(0===e||!1===e||e||this.defaultItem)}onFilterFocus(){this.filterFocused.emit()}ngOnDestroy(){this.destroyPopup(),this.subs.unsubscribe(),this.unSubscribeFocusEvents(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler()}ngOnChanges(e){const n=this.virtual;n&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:n.pageSize}),Dt("defaultItem",e,!1)&&(this.disabledItemsService.defaultItem=this.defaultItem),Zi(["textField","valueField","valuePrimitive","defaultItem","itemDisabled"],e,!1)&&this.setState()}ngAfterContentChecked(){this.verifySettings()}get formControl(){return this.injector.get(Ri,null)?.control||null}focusItemAt(e){const o=(oe(this.defaultItem)?-1:0)<=e&&e<this.data.length;oe(e)&&o&&!this.disabledItemsService.isIndexDisabled(e)?this.selectionService.focus(e):this.selectionService.focus(null)}focus(){this.disabled||this.wrapper.nativeElement.focus()}blur(){this.disabled||(this.wrapper.nativeElement.blur(),this.cdr.detectChanges())}toggle(e){Promise.resolve(null).then(()=>{const n=oe(e)?e:!this._open;this._toggle(n)})}_toggle(e){this._open=e,this.destroyPopup(),this.isActionSheetExpanded&&this.closeActionSheet(),this._open&&this.createPopup()}triggerPopupEvents(e){const n=new R0;return e?this.open.emit(n):this.close.emit(n),n.isDefaultPrevented()}togglePopup(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||(!e&&this.filterable&&this.isFocused&&this.focus(),this._toggle(e))}get isOpen(){return Cw(this._open||this.isActionSheetExpanded)}reset(){this.value=void 0}messageFor(e){return this.localization.get(e)}writeValue(e){this.value=null===e?void 0:e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.cdr.markForCheck(),this.disabled=e}get selectButtonClasses(){return`${this.size?Bi("button",this.size):""} ${this.fillMode?"k-button-"+this.fillMode:""} ${this.fillMode?"k-button-"+this.fillMode+"-base":""}`}get filterInputClasses(){return`${this.size?Bi("input",this.size):""} ${this.fillMode?"k-input-"+this.fillMode:""} ${this.rounded?rr(this.rounded):""}`}get optionLabelSizeClass(){return`${this.size?Bi("list",this.size):""}`}get listContainerClasses(){const e=["k-list-container","k-dropdownlist-popup"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}get isDisabledDefaultItem(){return this.disabledItemsService.isItemDisabled(this.defaultItem)}getText(){return this.text}getDefaultItemText(){return Ze(this.defaultItem,this.textField)}createPopup(){if(this.virtual&&(this.virtual.skip=0),this.windowSize=Ii(),this.isAdaptive)return void this.openActionSheet();const e="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{horizontal:e,vertical:"bottom"},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{horizontal:e,vertical:"top"},popupClass:this.listContainerClasses,positionMode:"absolute"});const r=this.popupRef.popupElement,{min:a,max:l}=this.width;r.addEventListener("mousedown",this.popupMouseDownHandler),r.style.minWidth=a,r.style.width=l,r.style.height=this.height,r.setAttribute("dir",this.direction),this.appendTo||(this.renderer.setAttribute(r,"role","region"),this.renderer.setAttribute(r,"aria-label",this.messageFor("popupLabel")));const c=r.querySelector("ul.k-list-ul"),u=this.wrapper.nativeElement.getAttribute("aria-labelledby");u&&c.setAttribute("aria-labelledby",u),this.subs.add(this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),Pv(this.optionsList,this.wrapper,this.renderer),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.opened.emit()})),this.subs.add(this.popupRef.popupClose.subscribe(()=>{this.closed.emit()})),this.filterable||this.subs.add(this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1)))}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}updateState({dataItem:e,confirm:n=!1}){this.dataItem=e,this.text=Ze(e,this.textField),n&&(this._previousDataItem=e)}clearState(){this.text=void 0,this.dataItem=void 0}resetSelection(e){const n=!oe(e);this.selectionService.resetSelection(n?[]:[e]),this.selectionService.focused=n?this.firstFocusableIndex(0):e}onSelectionChange({dataItem:e}){this.updateState({dataItem:e}),this.selectionChange.emit(e),this.assignAriaDescribedBy()}subscribeEvents(){ne()&&(this.subs.add(this.selectionService.onSelect.pipe(z(e=>this.isOpen),(0,U.T)(this.itemFromEvent.bind(this))).subscribe(this.onSelectionChange.bind(this))),this.subs.add(Ht(this.selectionService.onSelect.pipe(z(e=>!this.isOpen)),this.selectionService.onChange).pipe((0,U.T)(this.itemFromEvent.bind(this)),x(e=>this.togglePopup(!1))).subscribe(({dataItem:e,value:n,newSelection:o})=>{o&&this.onSelectionChange({dataItem:e});const r=!oe(e)&&this._previousDataItem,a=n!==Ze(this.value,this.valueField);r?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):a&&(this.value=this.valuePrimitive?n:e,this._previousDataItem=e,this.emitChange(this.value)),this.clearFilter()})),this.subs.add(Ht(this.navigationService.up,this.navigationService.down,this.navigationService.left.pipe(z(()=>this.leftRightArrowsNavigation),eve(()=>this.filterable)),this.navigationService.right.pipe(z(()=>this.leftRightArrowsNavigation),eve(()=>this.filterable)),this.navigationService.home,this.navigationService.end).pipe(z(e=>!isNaN(e.index))).subscribe(e=>this.selectionService.select(e.index))),this.subs.add(Ht(this.navigationService.pagedown,this.navigationService.pageup).subscribe(e=>{this.isOpen&&(e.originalEvent.preventDefault(),this.optionsList.scrollWithOnePage(vt[e.originalEvent.code]))})),this.subs.add(this.navigationService.open.subscribe(()=>this.togglePopup(!0))),this.subs.add(this.navigationService.close.subscribe(()=>{this.togglePopup(!1),this.focus()})),this.subs.add(this.navigationService.enter.pipe(x(e=>e.originalEvent.preventDefault())).subscribe(this.handleEnter.bind(this))),this.subs.add(this.navigationService.esc.subscribe(this.handleEscape.bind(this))),this.subs.add(this.filterBlurred.pipe(Ou(()=>l0(10).pipe(Ye(1),zs(this.hostElementFocused)))).subscribe(()=>{this.hostElementBlurred.emit()})),this._zone.runOutsideAngular(()=>{this.subs.add(Ht(this.hostElementBlurred.pipe(Ou(()=>l0(10).pipe(Ye(1),zs(this.filterFocused)))),this.navigationService.tab).pipe(x(e=>e instanceof rCe&&this.focus()),z(()=>this.isFocused)).subscribe(()=>this.componentBlur()))}))}subscribeTouchEvents(){!ne()||!this.touchEnabled||this._zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",e=>{this.isFocused&&!kx(this.wrapper,e.target,this.popupRef)&&this._zone.run(()=>{this.filterFocused&&this.togglePopup(!1),this.blur()})}))}subscribeFocusEvents(){ne()&&(this.focusComponent=this.focusComponent.bind(this),this.blurComponent=this.blurComponent.bind(this),this._zone.runOutsideAngular(()=>{document.addEventListener("focus",this.focusComponent,!0),document.addEventListener("blur",this.blurComponent,!0)}))}unSubscribeFocusEvents(){ne()&&(document.removeEventListener("focus",this.focusComponent,!0),document.removeEventListener("blur",this.blurComponent,!0))}itemFromEvent(e){const n=e.indices[0];let o=this.dataService.itemAt(n);o=oe(o)?o:this.currentOrDefault(n);const r=Ze(o,this.valueField);return{dataItem:o,index:n,newSelection:e.newSelection,value:r}}currentOrDefault(e){return oe(this.dataItem)&&-1!==e?this.dataItem:this.defaultItem}firstFocusableIndex(e){const n=this.dataService.itemsCount-1;return this.disabledItemsService.isIndexDisabled(e)?e<n?this.firstFocusableIndex(e+1):void 0:e}handleEnter(){this.isOpen?(this.selectionService.change(this.selectionService.focused),this.focus()):this.togglePopup(!0)}handleEscape(){oe(this.selectionService.selected[0])?this.selectionService.change(this.selectionService.selected[0]):(this.togglePopup(!1),this.clearFilter()),this.focus()}clearFilter(){this.filterable&&this.filterText&&(this.filterText="",this.cdr.markForCheck(),this.filterChange.emit(this.filterText))}verifySettings(){if((0,t.naY)()){if(this.defaultItem&&this.valueField&&"object"!=typeof this.defaultItem)throw new Error("defaultItem and data items must be of same type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/api/DropDownListComponent/#toc-defaultitem");if(!0===this.valuePrimitive&&oe(this.value)&&"object"==typeof this.value)throw new Error("Expected value of primitive type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/value-binding/#toc-primitive-values");if(!1===this.valuePrimitive&&oe(this.value)&&"object"!=typeof this.value)throw new Error("Expected value of type Object. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/value-binding/#toc-object-values");if(!oe(this.valueField)!=!oe(this.textField))throw new Error("Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/data-binding/#toc-arrays-of-complex-data")}}componentBlur(){if(!this.isActionSheetExpanded){this.isFocused=!1;const n=oe(this.selectionService.selected[0])&&Ze(this.value,this.valueField)!==Ze(this.dataService.itemAt(this.selectionService.selected[0]),this.valueField);n||ke(this.close)||ke(this.onBlur)||ke(this.filterChange)||Z_(this.wrapper.nativeElement)||"blur"===this.formControl?.updateOn?this._zone.run(()=>{n&&this.selectionService.change(this.selectionService.selected[0]),this.togglePopup(!1),this.clearFilter(),this.onBlur.emit(),this.onTouchedCallback()}):this.togglePopup(!1)}}onMouseDown(e){"input"!==e.target.tagName.toLowerCase()&&e.preventDefault()}onKeyPress(e){if(0===e.which||e.keyCode===F.Enter)return;let n=String.fromCharCode(e.charCode||e.keyCode);this.ignoreCase&&(n=n.toLowerCase())," "===n&&e.preventDefault(),this.word+=n,this.last=n,this.search()}search(){clearTimeout(this.typingTimeout),this.filterable||(this.typingTimeout=setTimeout(()=>{this.word=""},this.delay),this.selectNext())}selectNext(){let e=this.dataService.filter(f=>oe(f)&&!f.header&&!this.disabledItemsService.isItemDisabled(f)).map(f=>this.dataService.grouped?{item:f.value,itemIndex:f.offsetIndex}:{item:f,itemIndex:this.dataService.indexOf(f)});const n=((s,i)=>{for(let e=0;e<s.length;e++)if(s.charAt(e)!==i)return!1;return!0})(this.word,this.last);let o=e.length;const r=!isNaN(this.selectionService.selected[0]);let l,c,u,a=r?this.selectionService.selected[0]:0;for(this.defaultItem&&!this.disabledItemsService.isItemDisabled(this.defaultItem)&&(u={item:this.defaultItem,itemIndex:-1},o+=1,a+=1),a+=n&&r?1:0,e=((s,i,e)=>{let n=s;return e&&(n=[e].concat(n)),n.slice(i).concat(n.slice(0,i))})(e,a,u),c=0;c<o;c++){l=Ze(e[c].item,this.textField);const f=!(!n||!nCe(l,this.last,this.ignoreCase)),_=!!nCe(l,this.word,this.ignoreCase);if(f||_){c=e[c].itemIndex;break}}c!==o&&this.navigate(c)}emitChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}navigate(e){this.selectionService.select(e)}findDataItem({valueField:e,value:n}){const o={dataItem:null,index:-1},r=c=>Ze(c,e);let a;a=this.dataService.grouped?c=>r(c.value)===r(n):c=>r(c)===r(n);const l=this.dataService.findIndex(a);return o.dataItem=this.dataService.itemAt(l),o.index=l,o}setState(){const e=this.value,n=this.valueField,o=this.textField,r=this.valuePrimitive;if(this.defaultItem){const c=Ze(this.defaultItem,n),u=Ze(e,n);if(!oe(e)||u===c)return this.updateState({dataItem:this.defaultItem,confirm:!0}),this.resetSelection(-1),void(this.filterable&&this.filterText&&this.dataService.itemsCount&&(this.selectionService.focused=this.firstFocusableIndex(0)))}const a=this.findDataItem({valueField:n,value:e}),l=!(r&&o);a.dataItem?(this.updateState({dataItem:a.dataItem,confirm:!0}),this.resetSelection(a.index)):oe(e)&&l?(this.updateState({dataItem:e}),this.resetSelection()):this._previousDataItem?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection())}handleFilter(e){this.filterChange.emit(e.target.value)}handleClick(){this.windowSize=Ii(),this.isAdaptive&&this.togglePopup(!0)}pageChange(e){this.virtual.skip=e.skip}assignAriaDescribedBy(){const n=(this.wrapper.nativeElement.getAttribute("aria-describedby")||"").replace(this.valueLabelId,"").trim();this.valueLabelId=`k-${Ql()}`;const o=`${this.valueLabelId} ${n}`.trim();this.renderer.setAttribute(this.wrapper.nativeElement,"aria-describedby",o)}setComponentClasses(){"none"!==this.size&&this.renderer.addClass(this.wrapper.nativeElement,Bi("picker",this.size)),"none"!==this.rounded&&this.renderer.addClass(this.wrapper.nativeElement,rr(this.rounded)),"none"!==this.fillMode&&this.renderer.addClass(this.wrapper.nativeElement,Ca("picker",this.fillMode))}closeActionSheet(){this.actionSheet.toggle(!1),this.filterable&&(this.actionSheetSearchBar.value="",this.filterChange.emit("")),this.closed.emit()}openActionSheet(){this.windowSize=Ii(),this.actionSheet.toggle(!0),this.cdr.detectChanges(),Pv(this.optionsList,this.wrapper,this.renderer),this.title=Ew(this.wrapper,this.title),bw(this.actionSheet,this.windowSize,this.renderer),this.cdr.detectChanges(),this.opened.emit(),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.filterable&&this.actionSheetSearchBar.focus()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(j),t.rXU(es),t.rXU(ec),t.rXU(Yc),t.rXU(Zl),t.rXU(Wc),t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(tg,8),t.rXU(t.zZn))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-dropdownlist"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,ba,5),t.wni(o,wx,5),t.wni(o,Dx,5),t.wni(o,ng,5),t.wni(o,I0,5),t.wni(o,x0,5),t.wni(o,A0,5)),2&e){let r;t.mGM(r=t.lsd())&&(n.itemTemplate=r.first),t.mGM(r=t.lsd())&&(n.groupTemplate=r.first),t.mGM(r=t.lsd())&&(n.fixedGroupTemplate=r.first),t.mGM(r=t.lsd())&&(n.valueTemplate=r.first),t.mGM(r=t.lsd())&&(n.headerTemplate=r.first),t.mGM(r=t.lsd())&&(n.footerTemplate=r.first),t.mGM(r=t.lsd())&&(n.noDataTemplate=r.first)}},viewQuery:function(e,n){if(1&e&&(t.GBs(Kc,5),t.GBs(vw,7,t.c1b),t.GBs(Sw,7),t.GBs(S5,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.responsiveRendererComponent=o.first),t.mGM(o=t.lsd())&&(n.container=o.first),t.mGM(o=t.lsd())&&(n.popupTemplate=o.first),t.mGM(o=t.lsd())&&(n.optionsList=o.first)}},hostVars:22,hostBindings:function(e,n){1&e&&t.bIt("keydown",function(r){return n.keydown(r)})("keypress",function(r){return n.keypress(r)})("click",function(){return n.click()}),2&e&&(t.BMQ("aria-controls",n.ariaControls)("disabled",n.isDisabledAttribute)("id",n.focusableId)("dir",n.dir)("tabindex",n.hostTabIndex)("readonly",n.readonlyAttr)("aria-busy",n.isBusy)("role",n.role)("aria-haspopup",n.haspopup)("aria-expanded",n.isAriaExpanded)("aria-invalid",n.hostAriaInvalid)("aria-activedescendant",n.hostAriaActivedescendant),t.AVh("k-readonly",n.readonly)("k-dropdownlist",n.hostClasses)("k-picker",n.hostClasses)("k-disabled",n.isDisabledClass)("k-loading",n.isLoading))},inputs:{customIconClass:"customIconClass",showStickyHeader:"showStickyHeader",icon:"icon",svgIcon:"svgIcon",loading:"loading",data:"data",value:"value",textField:"textField",valueField:"valueField",adaptiveMode:"adaptiveMode",title:"title",subtitle:"subtitle",popupSettings:"popupSettings",listHeight:"listHeight",defaultItem:"defaultItem",disabled:"disabled",itemDisabled:"itemDisabled",readonly:"readonly",filterable:"filterable",virtual:"virtual",ignoreCase:"ignoreCase",delay:"delay",valuePrimitive:"valuePrimitive",tabindex:"tabindex",tabIndex:"tabIndex",size:"size",rounded:"rounded",fillMode:"fillMode",leftRightArrowsNavigation:"leftRightArrowsNavigation",focusableId:[t.Mj6.None,"id","focusableId"]},outputs:{valueChange:"valueChange",filterChange:"filterChange",selectionChange:"selectionChange",open:"open",opened:"opened",close:"close",closed:"closed",onFocus:"focus",onBlur:"blur"},exportAs:["kendoDropDownList"],features:[t.Jv_([Lst,Wc,ec,Yc,Zl,j,{provide:Ve,useValue:"kendo.dropdownlist"},{provide:yw,useExisting:(0,t.Rfq)(()=>s)},{provide:as,useExisting:(0,t.Rfq)(()=>s)}]),t.OA$],decls:16,vars:18,consts:()=>{let i,e,n,o;return i="Nessun dato trovato",e="Seleziona",n="Filter",o="Options list",[["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["optionsList",""],["searchInput",""],["kendoDropDownListLocalizedMessages","","noDataText",i,"selectButtonText",e,"filterInputLabel",n,"popupLabel",o],["unselectable","on",1,"k-input-inner",3,"click","id"],[1,"k-input-value-text"],[4,"ngIf"],[3,"ngIf"],["class","k-i-loading k-input-loading-icon k-icon",4,"ngIf"],["tabindex","-1","unselectable","on","type","button",1,"k-input-button","k-button","k-icon-button",3,"ngClass","kendoEventsOutsideAngular"],["unselectable","on","innerCssClass","k-button-icon",3,"name","customFontClass","svgIcon"],[3,"resize",4,"ngIf"],[3,"closePopup","textInputChange","sharedPopupActionSheetTemplate","isActionSheetExpanded","title","showTextInput","subtitle"],[3,"templateContext"],[1,"k-i-loading","k-input-loading-icon","k-icon"],[4,"ngTemplateOutlet"],[3,"resize"],[3,"pageChange","id","size","rounded","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","ariaLive","showStickyHeader"],["class","k-no-data",4,"ngIf"],[1,"k-list-filter",3,"click"],[1,"k-searchbox","k-input",3,"ngClass"],["innerCssClass","k-input-icon","name","search",1,"k-icon",3,"svgIcon"],["role","searchbox","aria-autocomplete","list","aria-haspopup","listbox","tabindex","-1",1,"k-input-inner",3,"ngModelChange","keydown","input","focus","blur","click","filterInput","dir","ngModel"],[1,"k-list",3,"ngClass"],["kendoDropDownsSelectable","",1,"k-list-optionlabel",3,"ngClass","index"],[1,"k-no-data"],[3,"ngIf","templateContext"]]},template:function(e,n){if(1&e){const o=t.RV6();t.eu8(0,5),t.j41(1,"span",6),t.bIt("click",function(a){return t.eBV(o),t.Njj(a.preventDefault())}),t.j41(2,"span",7),t.DNE(3,Ztt,1,4,null,8)(4,ent,1,1,"ng-template",9),t.k0s()(),t.DNE(5,tnt,1,0,"span",10),t.j41(6,"button",11),t.nrm(7,"kendo-icon-wrapper",12),t.k0s(),t.DNE(8,int,1,1,"ng-template",null,0,t.C5r)(10,snt,1,0,"kendo-resize-sensor",13),t.eu8(11,null,1),t.j41(13,"responsive-renderer",14),t.bIt("closePopup",function(){return t.eBV(o),t.Njj(n.togglePopup(!1))})("textInputChange",function(a){return t.eBV(o),t.Njj(n.onFilterChange(a))}),t.k0s(),t.DNE(14,_nt,8,21,"ng-template",null,2,t.C5r)}if(2&e){const o=t.sdS(15);t.R7$(),t.Y8G("id",n.valueLabelId),t.R7$(2),t.Y8G("ngIf",n.valueTemplate),t.R7$(),t.Y8G("ngIf",!n.valueTemplate),t.R7$(),t.Y8G("ngIf",n.loading),t.R7$(),t.Y8G("ngClass",n.selectButtonClasses)("kendoEventsOutsideAngular",t.eq3(16,yx,n.onMouseDown)),t.BMQ("aria-label",n.messageFor("selectButtonText")),t.R7$(),t.Y8G("name",n.icon||"caret-alt-down")("customFontClass",n.customIconClass)("svgIcon",n.svgIcon||n.caretAltDownSVGIcon),t.R7$(3),t.Y8G("ngIf",n.isOpen||n.isAdaptiveModeEnabled),t.R7$(3),t.Y8G("sharedPopupActionSheetTemplate",o)("isActionSheetExpanded",n.isActionSheetExpanded)("title",n.title)("showTextInput",n.filterable)("subtitle",n.subtitle)}},dependencies:[Ke,Os,Kc,kw,Bv,W,zf,Pe,Vo,Je,jo,A5,Un,mi,k5],encapsulation:2}),s})(),cCe=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoMultiSelectCustomItemTemplate",""]]}),s})(),ww=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoMultiSelectTagTemplate",""],["","kendoMultiSelectTreeTagTemplate",""]]}),s})(),jQ=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoMultiSelectGroupTagTemplate",""],["","kendoMultiSelectTreeGroupTagTemplate",""]]}),s})();class dCe extends R0{constructor(i){super(),this.dataItem=i}}let HQ=(()=>{class s{constructor(e,n){this.renderer=e,this.hostElement=n,this.xCircleIcon=Lf,this.rounded="medium",this.fillMode="solid",this.disabledIndices=new Set,this.removeTag=new t.bkB,this.hostClasses=!0,this._size="medium"}set size(e){this.renderer.removeClass(this.hostElement.nativeElement,Bi("chip-list",this.size)),e&&this.renderer.addClass(this.hostElement.nativeElement,Bi("chip-list",e)),this._size=e}get size(){return this._size}get hostId(){return this.id}tagProp(e,n,o){const r=n&&this.getPropField(e,n,o);return Ze(e,r)}isTagDisabled(e,n){return this.isGroupTag(e)?e.every((o,r)=>this.disabledIndices.has(r+n)):this.disabledIndices.has(n)}deleteTag(e,n,o){e.preventDefault(),e.stopImmediatePropagation(),!this.disabled&&1===e.which&&this.removeTag.emit({tag:n,index:o})}itemId(e,n){if(e)return this.tagPrefix+"-"+this.tagProp(e,this.valueField,n)}isGroupTag(e){return e instanceof Array}tagAriaHidden(e){return oe(this.focused)&&this.focused!==e}getPropField(e,n,o){const r=n.length-1;if("string"==typeof n)return n;if(this.valueDepth){const a=this.valueDepth[o];return r<a?n[r]:n[a]}return n.find(a=>a in e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.sFG),t.rXU(t.aKT))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-taglist"]],hostVars:5,hostBindings:function(e,n){2&e&&(t.BMQ("id",n.hostId),t.AVh("k-chip-list",n.hostClasses)("k-selection-multiple",n.hostClasses))},inputs:{tags:"tags",textField:"textField",valueField:"valueField",valueDepth:"valueDepth",focused:"focused",template:"template",groupTemplate:"groupTemplate",disabled:"disabled",tagPrefix:"tagPrefix",id:"id",size:"size",rounded:"rounded",fillMode:"fillMode",disabledIndices:"disabledIndices"},outputs:{removeTag:"removeTag"},ngContentSelectors:gnt,decls:2,vars:1,consts:[["groupTag",""],["singleTag",""],["class","k-chip",3,"ngClass",4,"ngFor","ngForOf"],[1,"k-chip",3,"ngClass"],[1,"k-chip-content"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"k-chip-actions"],["aria-label","delete",1,"k-chip-action","k-chip-remove-action"],["name","x-circle",3,"mousedown","svgIcon"],[1,"k-chip-label","k-text-ellipsis"],[4,"ngIf"],[3,"ngIf"],[3,"templateContext"]],template:function(e,n){1&e&&(t.NAR(),t.DNE(0,Mnt,10,21,"div",2),t.SdG(1)),2&e&&t.Y8G("ngForOf",n.tags)},dependencies:[Ke,st,Pe,W,zf],encapsulation:2}),s})();const Bst={multi:!0,provide:Yn,useExisting:(0,t.Rfq)(()=>ig)};let ig=(()=>{class s{constructor(e,n,o,r,a,l,c,u,f,_,g,S,b,k){this.wrapper=e,this.localization=n,this.popupService=o,this.dataService=r,this.selectionService=a,this.navigationService=l,this.disabledItemsService=c,this.cdr=u,this.differs=f,this.renderer=_,this._zone=g,this.touchEnabled=S,this.injector=b,this.hostElement=k,this.animationDuration=300,this.xIcon=wo,this.plusIcon=Bk,this.listBoxId=`k-${Ql()}`,this.tagListId=`k-${Ql()}`,this.tagPrefix="tag-"+Ql(),this.optionPrefix="option-"+Ql(),this.focusedTagIndex=void 0,this.showStickyHeader=!0,this.focusableId=`k-${Ql()}`,this.autoClose=!0,this.tabindex=0,this.adaptiveMode="none",this.title="",this.disabled=!1,this.readonly=!1,this.filterable=!1,this._listHeight=200,this.clearButton=!0,this.tagMapper=D=>D||[],this.allowCustom=!1,this.valueNormalizer=D=>D.pipe((0,U.T)(O=>{const I=G=>"string"==typeof G&&O.toLowerCase()===G.toLowerCase(),N=this.value.find(I);return N||(this.dataService.find(I)||O)})),this.filterChange=new t.bkB,this.valueChange=new t.bkB,this.open=new t.bkB,this.opened=new t.bkB,this.close=new t.bkB,this.closed=new t.bkB,this.onFocus=new t.bkB,this.onBlur=new t.bkB,this.inputFocus=new t.bkB,this.inputBlur=new t.bkB,this.removeTag=new t.bkB,this.hostClasses=!0,this.windowSize="large",this.initialized=!1,this._size="medium",this._rounded="medium",this._fillMode="solid",this._valueHolder=[],this.onChangeCallback=D=>{},this.onTouchedCallback=D=>{},this._placeholder="",this._open=!1,this._value=[],this._popupSettings={animate:!0},this._checkboxes={enabled:!1},this._isFocused=!1,this.selectedDataItems=[],this.customValueSubject=new Xe.B,this.subs=new be.yU,(0,mt.$)(C5),this.popupMouseDownHandler=this.onMouseDown.bind(this),this.data=[],this.direction=this.localization.rtl?"rtl":"ltr",this.subscribeEvents(),this.subscribeTouchEvents()}get actionSheet(){return this.responsiveRendererComponent?.actionSheet}get actionSheetSearchBar(){return this.responsiveRendererComponent?.actionSheetSearchBar}get ariaControls(){return this.isOpen?this.listBoxId:void 0}get formControl(){return this.injector.get(Ri,null)?.control||null}focusItemAt(e){const o=(this.allowCustom?-1:0)<=0&&e<this.data.length;oe(e)&&o&&!this.disabledItemsService.isIndexDisabled(e)?this.selectionService.focus(e):this.selectionService.focus(null)}focus(){this.disabled||this.searchbar.focus()}handleInputFocus(){this.handleFocus(),ke(this.inputFocus)&&this._zone.run(()=>{this.inputFocus.emit()})}onAdaptiveTextBoxChange(e){this.filterable?this.filterChange.emit(e):this.searchTextAndFocus(e)}blur(){this.disabled||this.searchbar.blur()}handleFocus(){this._zone.run(()=>{!this.isFocused&&ke(this.onFocus)&&this.onFocus.emit(),this.isFocused=!0})}handleBlur(){if(!this.isActionSheetExpanded){if(!this.isFocused)return;this.isFocused=!1,ke(this.onBlur)||ke(this.filterChange)||ke(this.close)||Z_(this.wrapper.nativeElement)?this._zone.run(()=>{this.closePopup(),this.isOpen&&this.allowCustom||this.clearFilter(),this.onBlur.emit(),this.onTouchedCallback()}):(this.allowCustom||this.clearFilter(),this.closePopup())}}handleInputBlur(){if(!this.isActionSheetExpanded){if(!this.isFocused)return;ke(this.inputBlur)||ke(this.filterChange)||ke(this.close)||Z_(this.wrapper.nativeElement)||"blur"===this.formControl?.updateOn?this._zone.run(()=>{this.closePopup(),this.isOpen&&this.allowCustom||this.clearFilter(),this.inputBlur.emit(),this.onTouchedCallback()}):(this.allowCustom||this.clearFilter(),this.closePopup())}}onMouseDown(e){e.preventDefault()}onResize(){if(this.isAdaptiveModeEnabled&&this.windowSize!==Ii()&&(this.isOpen&&this.togglePopup(!1),this.windowSize=Ii(),this.cdr.detectChanges()),this.isOpen&&!this.isActionSheetExpanded){const e=this.popupRef.popupElement,{min:n,max:o}=this.width;e.style.minWidth=n,e.style.width=o}}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}set data(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.initialized&&this.setState(this.value)}get data(){const e=this.virtual;if(e){const n=e.skip||0,o=n+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(n,o)}return this.dataService.data}set value(e){this._value=e||[],!this.differ&&this.value&&(this.differ=this.differs.find(this.value).create()),this.valueChangeDetected=!0,this.initialized&&this.setState(this.value)}get value(){return this._value}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set size(e){const n=e||"medium";this.renderer.removeClass(this.wrapper.nativeElement,Bi("input",this.size)),"none"!==e&&this.renderer.addClass(this.wrapper.nativeElement,Bi("input",n)),this._size=n}get size(){return this._size}set rounded(e){const n=e||"medium";this.renderer.removeClass(this.wrapper.nativeElement,rr(this.rounded)),"none"!==e&&this.renderer.addClass(this.wrapper.nativeElement,rr(n)),this._rounded=n}get rounded(){return this._rounded}set fillMode(e){const n=e||"solid";this.renderer.removeClass(this.wrapper.nativeElement,Ca("input",this.fillMode)),"none"!==e&&this.renderer.addClass(this.wrapper.nativeElement,Ca("input",n)),this._fillMode=n}get fillMode(){return this._fillMode}set placeholder(e){this._placeholder=e||""}get placeholder(){return this.selectedDataItems.length?"":this._placeholder}set subtitle(e){this._subtitle=e}get subtitle(){return this._subtitle||this.placeholder}get isAdaptiveModeEnabled(){return"auto"===this.adaptiveMode}set itemDisabled(e){if("function"!=typeof e)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}set checkboxes(e){this._checkboxes=(s=>T0(s)?Object.assign({},{enabled:!0,checkOnClick:!0},s):{enabled:!!s,checkOnClick:!0})(e)}get checkboxes(){return this._checkboxes}set virtual(e){this._virtualSettings=w5(e)}get virtual(){return this._virtualSettings}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set listHeight(e){this._listHeight=e}get listHeight(){if(!this.isAdaptive)return this._listHeight}set valuePrimitive(e){this._valuePrimitive=e}get valuePrimitive(){return oe(this._valuePrimitive)?this._valuePrimitive:!oe(this.valueField)}get dir(){return this.direction}get disabledClass(){return this.disabled}get isLoading(){return this.loading}get isActionSheetExpanded(){return this.actionSheet?.expanded}get isAdaptive(){return this.isAdaptiveModeEnabled&&"large"!==this.windowSize}get listContainerClasses(){const e=["k-list-container","k-multiselect-popup"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}get customItemSizeClass(){return`${this.size?Bi("list",this.size):""}`}get width(){let e=0;ne()&&(e=this.wrapper.nativeElement.offsetWidth);const n=this.popupSettings.width||e;return{min:isNaN(e)?e:`${e}px`,max:isNaN(n)?n:`${n}px`}}get height(){const e=this.popupSettings.height;return oe(e)?`${e}px`:"auto"}get activeDescendant(){const e=this.focusedTagIndex,n=this.selectionService.focused;let o,r;if(oe(e)&&!this.isOpen)r=this.tags[e],o=this.tagPrefix;else{if(!oe(n)||-1===n||!this.isOpen)return null;r=this.dataService.itemAt(n),o=this.optionPrefix}return o+"-"+Ze(r,this.valueField)}get clearButtonVisiblity(){if(this.touchEnabled)return"visible"}applyValue(){this.value=this._valueHolder,this._valueHolder=[],this.emitValueChange(),this.togglePopup(!1)}cancelValue(){this._valueHolder=[],this.togglePopup(!1)}verifySettings(){if((0,t.naY)()&&0!==this.value.length){if(!Sa(this.value))throw new Error("Expected values of array type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/value-binding");if(!0===this.valuePrimitive&&b5(this.value))throw new Error("Expected values of primitive type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/value-binding/#toc-primitive-values");if(!1===this.valuePrimitive&&!b5(this.value))throw new Error("Expected values of Object type. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/value-binding/#toc-object-values");if(!oe(this.valueField)!=!oe(this.textField))throw new Error("Expected textField and valueField options to be set. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/data-binding/#toc-arrays-of-complex-data")}}change(e){if(e.isMultipleSelection)oe(e.added)&&e.added.length>0&&e.added.forEach(n=>{const o=this.dataService.itemAt(n),r=this.valuePrimitive&&oe(o)&&oe(o[this.valueField])?o[this.valueField]:o;r&&(this.isAdaptive&&this.isActionSheetExpanded?this._valueHolder=[...this._valueHolder,r]:this.value=[...this.value,r])}),oe(e.removed)&&e.removed.length>0&&(e.removed.forEach(n=>{const o=this.dataService.itemAt(n),r=a=>Ze(a,this.valueField)!==Ze(o,this.valueField);this.isAdaptive&&this.isActionSheetExpanded?this._valueHolder=this._valueHolder.filter(r):this.value=this.value.filter(r)}),this.cdr.detectChanges());else{if((oe(e.added)||oe(e.removed))&&(-1===e.added||-1===e.removed))return void this.addCustomValue(this.text);if(oe(e.added)){const o=this.dataService.itemAt(e.added),r=this.valuePrimitive&&oe(o)&&oe(o[this.valueField])?o[this.valueField]:o;this.isAdaptive&&this.isActionSheetExpanded?this._valueHolder=[...this._valueHolder,r]:this.value=[...this.value,r]}if(oe(e.removed)){const o=this.dataService.itemAt(e.removed),r=a=>Ze(a,this.valueField)!==Ze(o,this.valueField);this.isAdaptive&&this.isActionSheetExpanded?this._valueHolder=this._valueHolder.filter(r):this.value=this.value.filter(r),this.selectionService.focused=e.removed,this.cdr.detectChanges()}}(!this.isAdaptive||!this.isActionSheetExpanded)&&this.emitValueChange()}setState(e){let n=this.dataService.data;this.dataService.grouped&&(n=n.filter(r=>!r.header).map(r=>r.value));const o=UQ(this.value,n,this.valueField);this.selectionService.resetSelection(o),this.disabledItemsService.isIndexDisabled(this.selectionService.focused)&&(this.selectionService.focused=this.firstFocusableIndex(0)),this.isOpen&&void 0===this.selectionService.focused&&(this.dataService.itemsCount>0?this.selectionService.focused=this.firstFocusableIndex(0):this.allowCustom&&(this.selectionService.focused=-1)),this.valuePrimitive&&!this.valueField&&(this.selectedDataItems=e.slice()),(b5(e)||this.valuePrimitive&&this.valueField)&&(this.selectedDataItems=((s,i,e)=>{const n=((s,i)=>Sa(s)&&s.filter(e=>T0(e)&&void 0!==Ze(e,i)))(s,e)||[];return(((s,i=[],e)=>s.map(n=>i.find(o=>Ze(o,e)===n)).filter(n=>void 0!==n))(s,i,e)||[]).concat(n)})(e,n,this.valueField)),this.selectedDataItems.length<e.length&&(this.selectedDataItems=e.map(r=>{const a=this.selectedDataItems.find(l=>Ze(l,this.valueField)===Ze(r,this.valueField));return oe(a)?a:this.resolveDataItemFromTags(r)}).filter(r=>oe(r))),this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.disabledIndices=this.disabledItemsMapper(),this.cdr.markForCheck()}handleFilter(e){this.text=e,e&&!this.isOpen&&this.openPopup(),this.filterable?this.filterChange.emit(e):this.searchTextAndFocus(e),this.searchbar.setInputSize()}pageChange(e){this.virtual.skip=e.skip}clearFilter(){this.filterable&&this.text&&this.filterChange.emit(""),this.text="",this.searchbar.input.nativeElement.value="",this.searchbar.setInputSize()}handleNavigate(e){const n=this.text&&e.keyCode!==F.ArrowDown&&e.keyCode!==F.ArrowUp,o=this.text&&e.keyCode===F.Enter||e.keyCode===F.Escape;if(e.keyCode===F.Backspace&&this.isActionSheetExpanded)return;if(!this.text&&e.keyCode===F.Backspace&&this.tags.length>0)return void this.handleBackspace();if(this.disabled||n&&!o)return;const a=e,l=isNaN(this.selectionService.focused)?-1:this.selectionService.focused,c=this.navigationService.process({current:l,max:this.dataService.itemsCount-1,min:this.allowCustom&&this.text?-1:0,open:this.isOpen,originalEvent:a});c!==vt.Undefined&&(c===vt.Enter&&this.isOpen||c!==vt.Enter)&&!this.isActionSheetExpanded&&c===vt.Tab&&e.preventDefault()}handleRemoveTag({tag:e}){const n=new dCe(e);this.disabled||this.readonly||(this.focus(),this.removeTag.emit(n),!n.isDefaultPrevented()&&(e instanceof Array?this.removeGroupTag(e):this.removeSingleTag(e),this.cdr.detectChanges()))}clearAll(e){e?.stopImmediatePropagation(),e?.preventDefault(),this.focus(),this.clearFilter(),this.selectionService.lastClickedIndex=null;const n=this.selectionService.selected;this.value=this.value.filter((o,r)=>this.disabledItemsService.isIndexDisabled(n[r])),this.emitValueChange()}addCustomValue(e){this.customValueSubject.next(e)}ngAfterContentChecked(){this.verifySettings()}ngDoCheck(){this.differ&&this.differ.diff(this.value)&&!this.valueChangeDetected&&this.setState(this.value),this.valueChangeDetected=!1}ngOnInit(){this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex"),this.createCustomValueStream(),this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.cdr.markForCheck()})),this.setState(this.value),this.setComponentClasses(),this.initialized=!0}ngOnChanges(e){const n=this.virtual;n&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:n.pageSize}),Dt("valueNormalizer",e)&&this.createCustomValueStream(),Zi(["textField","valueField","valuePrimitive"],e)&&this.setState(this.value)}ngAfterViewInit(){this.windowSize=Ii(),this.cdr.detectChanges(),this.searchbar.setInputSize(),this.subs.add(this.renderer.listen(this.searchbar.input.nativeElement,"mousedown",this.handleMousedown.bind(this))),this.subs.add(this.renderer.listen(this.wrapper.nativeElement,"keydown",this.handleKeydown.bind(this))),this.actionSheet&&ne()&&(this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-height","60vh"),this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-max-height","none"))}ngOnDestroy(){this._toggle(!1),this.unsubscribeEvents()}toggle(e){Promise.resolve(null).then(()=>{const n=oe(e)?e:!this._open;this._toggle(n),this.cdr.markForCheck()})}get isOpen(){return Cw(this._open||this.isActionSheetExpanded)}reset(){this.text="",this.value=[]}messageFor(e){return this.localization.get(e)}writeValue(e){this.value=e||[]}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.cdr.markForCheck(),this.disabled=e}onTagMapperChange(){this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck()}handleClick(){this.windowSize=Ii(),this.isAdaptive&&this.togglePopup(!0)}set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-focus"),this._isFocused=e}get isFocused(){return this._isFocused}subscribeEvents(){if(!ne())return;const e=()=>this.isOpen,n=()=>!this.isOpen,o=()=>!this.isOpen&&void 0!==this.focusedTagIndex;[this.selectionService.onChange.subscribe(this.handleItemChange.bind(this)),this.navigationService.esc.subscribe(this.closePopup.bind(this)),this.navigationService.enter.pipe(z(e)).subscribe(this.handleEnter.bind(this)),this.navigationService.open.subscribe(this.openPopup.bind(this)),this.navigationService.close.subscribe(this.handleClose.bind(this)),this.navigationService.up.pipe(z(e)).subscribe(r=>this.handleUp(r.index)),this.navigationService.home.pipe(z(()=>n)).subscribe(this.handleHome.bind(this)),this.navigationService.end.pipe(z(()=>n)).subscribe(this.handleEnd.bind(this)),this.navigationService.backspace.pipe(z(o)).subscribe(this.handleBackspace.bind(this)),this.navigationService.delete.pipe(z(o)).subscribe(this.handleDelete.bind(this)),this.navigationService.left.subscribe("rtl"===this.direction?this.handleRightKey.bind(this):this.handleLeftKey.bind(this)),this.navigationService.right.subscribe("rtl"===this.direction?this.handleLeftKey.bind(this):this.handleRightKey.bind(this)),this.navigationService.down.subscribe(r=>this.handleDownKey(r.index)),this.navigationService.selectprevious.pipe(z(e)).subscribe(r=>this.handleSelectUpDown(r)),this.navigationService.selectnext.pipe(z(e)).subscribe(r=>this.handleSelectUpDown(r)),this.navigationService.selectalltobeginning.pipe(z(e)).subscribe(()=>this.handleSelectAllToBeginning()),this.navigationService.selectalltoend.pipe(z(e)).subscribe(()=>this.handleSelectAllToEnd()),Ht(this.navigationService.pagedown,this.navigationService.pageup).subscribe(r=>{this.isOpen&&(r.originalEvent.preventDefault(),this.optionsList.scrollWithOnePage(vt[r.originalEvent.code]))})].forEach(r=>this.subs.add(r))}subscribeTouchEvents(){!ne()||!this.touchEnabled||this._zone.runOutsideAngular(()=>this.touchstartDisposeHandler=this.renderer.listen(document,"touchstart",e=>{(this.isFocused||this.isOpen)&&!kx(this.wrapper,e.target,this.popupRef)&&this._zone.run(()=>{this.blur(),this.isOpen&&this.togglePopup(!1)})}))}unsubscribeEvents(){ne()&&(this.subs.unsubscribe(),this.customValueSubscription&&this.customValueSubscription.unsubscribe(),this.touchstartDisposeHandler&&this.touchstartDisposeHandler())}removeGroupTag(e){let n=this.dataService.data;this.dataService.grouped&&(n=n.filter(r=>!r.header).map(r=>r.value));const o=new Set(e.map(r=>Ze(r,this.valueField)));this.value=this.value.filter(r=>{const a=UQ([r],n,this.valueField)[0],l=this.disabledItemsService.isIndexDisabled(a);return!o.has(Ze(r,this.valueField))||l}),this.emitValueChange()}removeSingleTag(e){let n=this.dataService.data;this.dataService.grouped&&(n=n.filter(r=>!r.header).map(r=>r.value));const o=UQ([e],n,this.valueField)[0];this.disabledItemsService.isIndexDisabled(o)||((s=>!isNaN(s))(o)?(this.selectionService.deselect(o),this.selectionService.focused=o,this.togglePopup(!1)):(this.value=this.value.filter(a=>Ze(a,this.valueField)!==Ze(e,this.valueField)),this.emitValueChange()))}disabledItemsMapper(){const{selected:e}=this.selectionService;return new Set(this.selectedDataItems.reduce((n,o,r)=>(this.disabledItemsService.isIndexDisabled(e[r])&&n.push(r),n),[]))}createCustomValueStream(){this.customValueSubscription&&this.customValueSubscription.unsubscribe(),this.customValueSubscription=this.customValueSubject.pipe(x(()=>{this.loading=!0,this.disabled=!0,this.cdr.detectChanges()}),this.valueNormalizer,Lc(()=>(this.loading=!1,this.disabled=!1,this.autoClose&&this.togglePopup(!1),(this.autoClose||!this.filterable)&&this.clearFilter(),this.nextTick(()=>{this.searchbar.focus()}),this.createCustomValueStream(),pt(null)))).subscribe(e=>{if(this.loading=!1,this.disabled=!1,oe(e)){const n=this.valuePrimitive?Ze(e,this.valueField):e,o=this.dataService.indexOf(n),r=-1===o;-1===this.value.indexOf(n)?(this.tags=this.tagMapper([...this.selectedDataItems,e]),r?this.value=[...this.value,n]:this.selectionService.add(o)):!r&&this.selectionService.isSelected(o)?(this.selectionService.deselect(o),this.selectionService.focused=o):this.value=this.value.filter(a=>Ze(a,this.valueField)!==n),this.emitValueChange()}this.autoClose&&this.togglePopup(!1),(this.autoClose||!this.filterable)&&this.clearFilter(),this.nextTick(()=>{this.searchbar.focus()})})}handleItemChange(e){this.change(e),this.autoClose&&!e.preventClosingPopup&&!this.isActionSheetExpanded&&this.togglePopup(!1),(this.autoClose||!this.filterable)&&this.clearFilter()}handleMousedown(e){if(!this.isActionSheetExpanded&&0===e.button){if(this.isFocused&&this.isOpen&&e.target===this.searchbar.input.nativeElement||((!this.touchEnabled||this.touchEnabled&&"SPAN"!==e.target.tagName)&&this.searchbar.focus(),this.popupRef&&this.popupRef.popupElement.contains(e.target)))return;e.preventDefault(),this.togglePopup(!this.isOpen)}}handleKeydown(e){this.isFocused&&this.isOpen&&(e.ctrlKey||e.metaKey)&&e.keyCode===F.KeyA&&(e.preventDefault(),this.handleSelectAll())}handleEnter(e){const n=this.selectionService,o=this.selectionService.focused;this.selectionService.lastClickedIndex=o,this.isOpen&&e.originalEvent.preventDefault(),-1!==o?(n.isSelected(o)?(n.deselect(o),n.focused=o):n.add(o),this.autoClose&&!this.isActionSheetExpanded&&this.togglePopup(!1),(this.autoClose||!this.filterable)&&this.clearFilter()):this.allowCustom&&this.text&&this.addCustomValue(this.text)}handleClose(){this.closePopup(),this.searchbar.focus()}handleEnd(){this.focusedTagIndex=this.tags.length-1}handleHome(){this.focusedTagIndex=0}sortSelectionAscending(){return this.selectionService.selected.sort((e,n)=>e-n)}handleSelectAll(){const e=this.selectionService.selected.length,n=this.dataService.data.length,o=this.dataService.data.filter(r=>!r.header).length;!this.dataService.grouped&&e===n||this.dataService.grouped&&e===o?this.clearAll():(this.selectionService.selectFromTo(0,n-1),this.selectionService.emitMultipleAddedRemoved())}handleSelectAllToBeginning(){const e=this.selectionService.selected.length,n=this.dataService.data.length,o=this.selectionService.focused,r=this.sortSelectionAscending()[e-1];e!==n&&(this.selectionService.unselectFromTo(r,o+1),this.selectionService.selectFromTo(0,o)),this.nextTick(()=>this.selectionService.focus(0)),this.selectionService.emitMultipleAddedRemoved()}handleSelectAllToEnd(){const n=this.dataService.data.length,o=this.selectionService.focused;if(this.selectionService.selected.length!==n&&(this.selectionService.unselectFromTo(o-1,0),this.selectionService.selectFromTo(o,n-1)),this.dataService.grouped){const r=this.dataService.groupIndices[this.dataService.groupIndices.length-1]-1;this.nextTick(()=>this.selectionService.focus(r))}else this.nextTick(()=>this.selectionService.focus(n-1));this.selectionService.emitMultipleAddedRemoved()}handleSelectUpDown(e){const n=this.selectionService.focused;if(!oe(n))return;let o;o="ArrowUp"===e.originalEvent.key?n>0?n-1:n:n<this.dataService.data.length-1?n+1:n,oe(this.selectionService.lastClickedIndex)||(this.selectionService.lastClickedIndex=n),this.selectRangeFromTo(o)}selectRangeFromTo(e){const n=this.selectionService.lastClickedIndex;n>e?(this.selectionService.unselectNotNeededIndices(e,n,this.dataService.data.length),this.selectionService.selectFromTo(e,this.selectionService.lastClickedIndex),this.selectionService.emitMultipleAddedRemoved()):(this.selectionService.unselectNotNeededIndices(n,e,this.dataService.data.length),this.selectionService.selectFromTo(n,e),this.selectionService.emitMultipleAddedRemoved()),this.nextTick(()=>this.selectionService.focus(e))}handleUp(e){this.selectionService.focused=e}handleBackspace(){void 0!==this.focusedTagIndex?this.handleDelete():(this.handleRemoveTag({tag:this.tags[this.tags.length-1]}),this.searchbar.focus())}handleDelete(){this.handleRemoveTag({tag:this.tags[this.focusedTagIndex]}),this.focusedTagIndex===this.tags.length&&(this.focusedTagIndex=void 0)}handleLeftKey(){void 0===this.focusedTagIndex||this.focusedTagIndex<0?this.focusedTagIndex=this.tags.length-1:0!==this.focusedTagIndex&&this.focusedTagIndex--}handleDownKey(e){this.isOpen?this.selectionService.focused=e||this.firstFocusableIndex(0):this.openPopup()}handleRightKey(){const e=this.tags.length-1;this.focusedTagIndex===e?this.focusedTagIndex=void 0:this.focusedTagIndex<e&&this.focusedTagIndex++}findIndex(e,n=0){let o;e=e.toLowerCase();const r=this.dataService.findIndex(a=>(o=Ze(this.dataService.grouped?a.value:a,this.textField),o=oe(o)?o.toString().toLowerCase():"",e&&o.startsWith(e)),n);return this.disabledItemsService.isIndexDisabled(r)?r+1>this.dataService.itemsCount?-1:this.findIndex(e,r+1):r}searchTextAndFocus(e){const n=this.findIndex(e);this.selectionService.focused=n}closePopup(){this.togglePopup(!1),this.focusedTagIndex=void 0}openPopup(){this.togglePopup(!0),this.focusedTagIndex=void 0}togglePopup(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||this._toggle(e)}triggerPopupEvents(e){const n=new R0;return e?this.open.emit(n):this.close.emit(n),n.isDefaultPrevented()}_toggle(e){this._open=e,this.destroyPopup(),this.isActionSheetExpanded&&(this.closeActionSheet(),this.focus()),this._open&&this.createPopup()}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}createPopup(){if(this.virtual&&(this.virtual.skip=0),this.windowSize=Ii(),this.isAdaptive)return void this.openActionSheet();const e="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{horizontal:e,vertical:"bottom"},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{horizontal:e,vertical:"top"},popupClass:this.listContainerClasses,positionMode:"absolute"});const r=this.popupRef.popupElement,{min:a,max:l}=this.width;this.appendTo||(this.renderer.setAttribute(r,"role","region"),this.renderer.setAttribute(r,"aria-label",this.messageFor("popupLabel"))),r.addEventListener("mousedown",this.popupMouseDownHandler),r.style.minWidth=a,r.style.width=l,r.style.height=this.height,r.setAttribute("dir",this.direction);const c=r.querySelector("ul.k-list-ul"),u=this.searchbar.input.nativeElement.getAttribute("aria-labelledby");u&&c.setAttribute("aria-labelledby",u),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),Pv(this.optionsList,this.searchbar.input,this.renderer),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.opened.emit()}),this.popupRef.popupClose.subscribe(()=>{this.closed.emit()}),this.popupRef.popupAnchorViewportLeave.subscribe(()=>{this.togglePopup(!1)})}emitValueChange(){this.onChangeCallback(this.value),this.valueChange.emit(this.value)}resolveDataItemFromTags(e){return this.tags&&this.tags.length&&oe(e)?this.tags.reduce((o,r)=>{const a=Sa(r)?r:[r];return o.push(...a),o},[]).find(o=>Ze(o,this.valueField)===Ze(e,this.valueField)):void 0}firstFocusableIndex(e){const n=this.dataService.itemsCount;if(this.disabledItemsService.isIndexDisabled(e)){const o=e+1;return o<n?this.firstFocusableIndex(o):void 0}return e}nextTick(e){this._zone.runOutsideAngular(()=>{setTimeout(()=>this._zone.run(e))})}setComponentClasses(){"none"!==this.size&&this.renderer.addClass(this.wrapper.nativeElement,Bi("input",this.size)),"none"!==this.rounded&&this.renderer.addClass(this.wrapper.nativeElement,rr(this.rounded)),"none"!==this.fillMode&&this.renderer.addClass(this.wrapper.nativeElement,Ca("input",this.fillMode))}closeActionSheet(){this.actionSheet.toggle(!1),this.actionSheetSearchBar.value="",this.filterable&&this.filterChange.emit(""),this.closed.emit()}openActionSheet(){this.windowSize=Ii(),this.actionSheet.toggle(!0),this._valueHolder=[...this.value],this.cdr.detectChanges(),Pv(this.optionsList,this.searchbar.input,this.renderer),this.title=Ew(this.searchbar.input,this.title),bw(this.actionSheet,this.windowSize,this.renderer),this.cdr.detectChanges(),this.opened.emit(),this.optionsList.scrollToItem(this.selectionService.focused),this.selectionService.focus(this.selectionService.focused),this.actionSheetSearchBar.focus()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(j),t.rXU(es),t.rXU(Wc),t.rXU(ec),t.rXU(Yc),t.rXU(Zl),t.rXU(t.gRc),t.rXU(t.MKu),t.rXU(t.sFG),t.rXU(t.SKi),t.rXU(tg,8),t.rXU(t.zZn),t.rXU(t.aKT))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-multiselect"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,ba,5),t.wni(o,cCe,5),t.wni(o,wx,5),t.wni(o,Dx,5),t.wni(o,I0,5),t.wni(o,x0,5),t.wni(o,ww,5),t.wni(o,jQ,5),t.wni(o,A0,5),t.wni(o,HI,5),t.wni(o,jI,5)),2&e){let r;t.mGM(r=t.lsd())&&(n.template=r.first),t.mGM(r=t.lsd())&&(n.customItemTemplate=r.first),t.mGM(r=t.lsd())&&(n.groupTemplate=r.first),t.mGM(r=t.lsd())&&(n.fixedGroupTemplate=r.first),t.mGM(r=t.lsd())&&(n.headerTemplate=r.first),t.mGM(r=t.lsd())&&(n.footerTemplate=r.first),t.mGM(r=t.lsd())&&(n.tagTemplate=r.first),t.mGM(r=t.lsd())&&(n.groupTagTemplate=r.first),t.mGM(r=t.lsd())&&(n.noDataTemplate=r.first),t.mGM(r=t.lsd())&&(n.suffixTemplate=r.first),t.mGM(r=t.lsd())&&(n.prefixTemplate=r.first)}},viewQuery:function(e,n){if(1&e&&(t.GBs(Kc,5),t.GBs(vw,7,t.c1b),t.GBs(Uv,7),t.GBs(Sw,7),t.GBs(S5,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.responsiveRendererComponent=o.first),t.mGM(o=t.lsd())&&(n.container=o.first),t.mGM(o=t.lsd())&&(n.searchbar=o.first),t.mGM(o=t.lsd())&&(n.popupTemplate=o.first),t.mGM(o=t.lsd())&&(n.optionsList=o.first)}},hostVars:11,hostBindings:function(e,n){2&e&&(t.BMQ("dir",n.dir),t.AVh("k-readonly",n.readonly)("k-multiselect",n.hostClasses)("k-input",n.hostClasses)("k-disabled",n.disabledClass)("k-loading",n.isLoading))},inputs:{showStickyHeader:"showStickyHeader",focusableId:"focusableId",autoClose:"autoClose",loading:"loading",data:"data",value:"value",valueField:"valueField",textField:"textField",tabindex:"tabindex",tabIndex:"tabIndex",size:"size",rounded:"rounded",fillMode:"fillMode",placeholder:"placeholder",adaptiveMode:"adaptiveMode",title:"title",subtitle:"subtitle",disabled:"disabled",itemDisabled:"itemDisabled",checkboxes:"checkboxes",readonly:"readonly",filterable:"filterable",virtual:"virtual",popupSettings:"popupSettings",listHeight:"listHeight",valuePrimitive:"valuePrimitive",clearButton:"clearButton",tagMapper:"tagMapper",allowCustom:"allowCustom",valueNormalizer:"valueNormalizer"},outputs:{filterChange:"filterChange",valueChange:"valueChange",open:"open",opened:"opened",close:"close",closed:"closed",onFocus:"focus",onBlur:"blur",inputFocus:"inputFocus",inputBlur:"inputBlur",removeTag:"removeTag"},exportAs:["kendoMultiSelect"],features:[t.Jv_([Bst,Wc,ec,Yc,Zl,j,{provide:Ve,useValue:"kendo.multiselect"},{provide:yw,useExisting:(0,t.Rfq)(()=>s)},{provide:as,useExisting:(0,t.Rfq)(()=>s)}]),t.OA$],decls:20,vars:42,consts:()=>{let i,e,n,o,r;return i="Nessun dato trovato",e="cancella",n="Options list",o="Apply",r="Cancel",[["searchbar",""],["popupTemplate",""],["container",""],["sharedPopupActionSheetTemplate",""],["optionsList",""],["default_custom_item_template",""],["kendoMultiSelectLocalizedMessages","","noDataText",i,"clearTitle",e,"popupLabel",n,"applyButton",o,"cancelButton",r],["kendoDropDownSharedEvents","",3,"isFocusedChange","handleBlur","onFocus","hostElement","isFocused"],["class","k-input-prefix k-input-prefix-horizontal",4,"ngIf"],[4,"ngIf"],[1,"k-input-values"],[3,"removeTag","size","rounded","fillMode","id","tags","textField","valueField","focused","disabled","template","groupTemplate","tagPrefix","disabledIndices"],[3,"onNavigate","valueChange","onBlur","onFocus","click","ariaExpanded","ariaControls","id","role","tagListId","isLoading","isFilterable","activeDescendant","userInput","disabled","readonly","tabIndex","placeholder"],["class","k-clear-value","role","button","tabindex","-1",3,"visibility","mousedown",4,"ngIf"],["class","k-icon k-i-loading k-input-loading-icon",4,"ngIf"],["class","k-input-suffix k-input-suffix-horizontal",4,"ngIf"],[3,"resize",4,"ngIf"],[3,"closePopup","textInputChange","navigate","onApply","onCancel","sharedPopupActionSheetTemplate","isActionSheetExpanded","title","showTextInput","showActionButtons","subtitle","placeholder"],[1,"k-input-prefix","k-input-prefix-horizontal"],[3,"ngTemplateOutlet"],["role","button","tabindex","-1",1,"k-clear-value",3,"mousedown"],["name","x",1,"k-icon",3,"svgIcon"],[1,"k-icon","k-i-loading","k-input-loading-icon"],[1,"k-input-suffix","k-input-suffix-horizontal"],[4,"ngTemplateOutlet"],[3,"resize"],["class","k-list",3,"ngClass",4,"ngIf"],[3,"pageChange","size","rounded","id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","multipleSelection","virtual","checkboxes","isMultiselect","isActionSheetExpanded","showStickyHeader"],["class","k-no-data",4,"ngIf"],[3,"templateContext"],[1,"k-list",3,"ngClass"],["kendoDropDownsSelectable","",1,"k-list-item","k-custom-item",3,"multipleSelection","index"],[4,"ngIf","ngIfElse"],["name","plus",1,"k-icon",3,"svgIcon"],[1,"k-no-data"],[3,"ngIf","templateContext"],[3,"ngIf"]]},template:function(e,n){if(1&e){const o=t.RV6();t.eu8(0,6),t.qex(1,7),t.mxI("isFocusedChange",function(a){return t.eBV(o),t.DH7(n.isFocused,a)||(n.isFocused=a),t.Njj(a)}),t.bIt("handleBlur",function(){return t.eBV(o),t.Njj(n.handleBlur())})("onFocus",function(){return t.eBV(o),t.Njj(n.handleFocus())}),t.DNE(2,xnt,2,1,"span",8)(3,Ant,1,0,"kendo-separator",9),t.j41(4,"div",10)(5,"kendo-taglist",11),t.bIt("removeTag",function(a){return t.eBV(o),t.Njj(n.handleRemoveTag(a))}),t.k0s(),t.j41(6,"kendo-searchbar",12,0),t.bIt("onNavigate",function(a){return t.eBV(o),t.Njj(n.handleNavigate(a))})("valueChange",function(a){return t.eBV(o),t.Njj(n.handleFilter(a))})("onBlur",function(){return t.eBV(o),t.Njj(n.handleInputBlur())})("onFocus",function(){return t.eBV(o),t.Njj(n.handleInputFocus())})("click",function(){return t.eBV(o),t.Njj(n.handleClick())}),t.k0s()(),t.DNE(8,Rnt,2,4,"span",13)(9,Nnt,1,0,"span",14)(10,Lnt,1,0,"kendo-separator",9)(11,Pnt,2,1,"span",15),t.bVm(),t.DNE(12,Unt,1,1,"ng-template",null,1,t.C5r)(14,Bnt,1,0,"kendo-resize-sensor",16),t.eu8(15,null,2),t.j41(17,"responsive-renderer",17),t.bIt("closePopup",function(){return t.eBV(o),t.Njj(n.togglePopup(!1))})("textInputChange",function(a){return t.eBV(o),t.Njj(n.onAdaptiveTextBoxChange(a))})("navigate",function(a){return t.eBV(o),t.Njj(n.handleNavigate(a))})("onApply",function(){return t.eBV(o),t.Njj(n.applyValue())})("onCancel",function(){return t.eBV(o),t.Njj(n.cancelValue())}),t.k0s(),t.DNE(18,Qnt,6,22,"ng-template",null,3,t.C5r)}if(2&e){const o=t.sdS(19);t.R7$(),t.Y8G("hostElement",n.hostElement),t.R50("isFocused",n.isFocused),t.R7$(),t.Y8G("ngIf",n.prefixTemplate),t.R7$(),t.Y8G("ngIf",n.prefixTemplate&&n.prefixTemplate.showSeparator),t.R7$(2),t.Y8G("size",n.size)("rounded",n.rounded)("fillMode",n.fillMode)("id",n.tagListId)("tags",n.tags)("textField",n.textField)("valueField",n.valueField)("focused",n.focusedTagIndex)("disabled",n.disabled)("template",n.tagTemplate)("groupTemplate",n.groupTagTemplate)("tagPrefix",n.tagPrefix)("disabledIndices",n.disabledIndices),t.R7$(),t.Y8G("ariaExpanded",n.isOpen)("ariaControls",n.ariaControls)("id",n.focusableId)("role","combobox")("tagListId",n.tagListId)("isLoading",n.loading)("isFilterable",n.filterable)("activeDescendant",n.activeDescendant)("userInput",n.text)("disabled",n.disabled)("readonly",n.readonly||n.isAdaptive)("tabIndex",n.tabIndex)("placeholder",n.placeholder),t.R7$(2),t.Y8G("ngIf",!n.loading&&!n.readonly&&n.clearButton&&((null==n.tags?null:n.tags.length)||(null==n.text?null:n.text.length))),t.R7$(),t.Y8G("ngIf",n.loading),t.R7$(),t.Y8G("ngIf",n.suffixTemplate&&n.suffixTemplate.showSeparator),t.R7$(),t.Y8G("ngIf",n.suffixTemplate),t.R7$(3),t.Y8G("ngIf",n.isOpen||n.isAdaptiveModeEnabled),t.R7$(3),t.Y8G("sharedPopupActionSheetTemplate",o)("isActionSheetExpanded",n.isActionSheetExpanded)("title",n.title)("showTextInput",!0)("showActionButtons",!0)("subtitle",n.subtitle)("placeholder",n.placeholder)}},dependencies:[dF,HQ,Uv,Ke,Os,Kc,kw,Bv,O5,W,Je,zf,Pe,k5],encapsulation:2}),s})();const Sot={caseSensitive:!1,operator:"startsWith"};let Wu=(()=>{class s{constructor(e){this.component=e,this.filterable=!0,this._data=[]}set data(e){this._data=e||[]}get data(){return this._data}ngOnInit(){this.component.filterable=this.filterable,this.filterChangeSubscription=this.component.filterChange.subscribe(this.handleFilterChange.bind(this))}ngOnDestroy(){oe(this.filterChangeSubscription)&&this.filterChangeSubscription.unsubscribe()}handleFilterChange(e){this.component.data=this.data.filter(n=>this.matchesAnyField(n,e))}matchesAnyField(e,n){const o=this.normalizeValue(n),{fields:r}=this.filterSettings;return 0===r.length?this.checkItem(e,o):r.some(a=>this.checkItem(Ze(e,a),o))}checkItem(e,n){return e=this.normalizeValue(e),"contains"===this.filterSettings.operator?-1!==e.indexOf(n):0===e.indexOf(n)}normalizeValue(e){const n=oe(e)?e.toString():"";return this.filterSettings.caseSensitive?n:n.toLowerCase()}getFilterFields(e){return this.component.textField||this.component.valueField?Sa(e)&&e.length>0?e:[this.component.textField||this.component.valueField]:[]}get filterSettings(){const e=this.rawSettings,n=oe(e)&&"object"==typeof e?e.fields:[];return Object.assign({},Sot,e,{fields:this.getFilterFields(n)})}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(yw))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoDropDownFilter",""]],inputs:{data:"data",rawSettings:[t.Mj6.None,"kendoDropDownFilter","rawSettings"],filterable:"filterable"}}),s})(),N0=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({}),s})(),Tx=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,Ov,Tv,zr,Vr,N0,zo,An,Xq,gr,y0],Fe,Ov,Tv,zr,Vr,N0,zo,An,Xq,gr,y0]}),s})(),Cot=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Tx,Aet],N0]}),s})(),YQ=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({}),s})(),KQ=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Tx,zc,YQ],N0,zc]}),s})(),Eot=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({providers:[{provide:tg,useValue:UI}],imports:[[Tx,zc,YQ],N0,zc]}),s})(),JQ=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Tx],N0]}),s})(),yot=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({providers:[{provide:tg,useValue:UI}],imports:[[Tx,zc,YQ],N0,zc]}),s})(),R5=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[KQ,Eot,JQ,yot,Cot]}),s})();const kCe=["*"];function Dot(s,i){if(1&s&&(t.j41(0,"span",3),t.EFF(1),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.SpI("(",e.textFor("optional"),")")}}let L0=(()=>{class s{constructor(e,n,o){this.label=e,this.renderer=n,this.zone=o,this.labelClass=!0,this.handleClick=()=>{const r=this.getFocusableComponent();r&&r.focus&&r.focus()}}get labelFor(){if("string"==typeof this.for)return this.for;if(!ne())return null;const e=this.getFocusableComponent()||{};return(s=>s instanceof HTMLElement)(e)&&!((s,i)=>s.hasAttribute("id"))(e)&&this.renderer.setAttribute(e,"id",`k-${rn()}`),e.focusableId||e.id||null}ngAfterViewInit(){this.setAriaLabelledby(),this.zone.runOutsideAngular(()=>this.clickListener=this.renderer.listen(this.label.nativeElement,"click",this.handleClick))}ngOnDestroy(){this.clickListener&&this.clickListener()}setAriaLabelledby(){if(!ne())return;const e=this.getFocusableComponent();if(e&&e.focusableId){const o=(s=>{if(!s)return null;let i=s;for(;i.parentElement;)i=i.parentElement;return i})(this.label.nativeElement).querySelector(`#${e.focusableId}`),r=this.label.nativeElement,a=r.id||`k-${rn()}`;if(r.getAttribute("id")||this.renderer.setAttribute(r,"id",a),e.focusableId.startsWith("k-editor")&&e.iframe&&e.contentAreaLoaded.subscribe(()=>{this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.renderer.setAttribute(e.container.element.nativeElement.contentDocument.body.firstElementChild,"aria-label",r.textContent)})})}),!o)return;this.renderer.setAttribute(o,"aria-labelledby",a)}}getFocusableComponent(){const e=this.for;return e&&void 0!==e.focus?e:null}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.SKi))},s.\u0275dir=t.FsC({type:s,selectors:[["label","for",""]],hostVars:3,hostBindings:function(e,n){2&e&&(t.BMQ("for",n.labelFor),t.AVh("k-label",n.labelClass))},inputs:{for:"for",labelClass:"labelClass"}}),s})(),N5=(()=>{class s extends Gi{}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275dir=t.FsC({type:s,selectors:[["kendo-label-messages-base"]],inputs:{optional:"optional"},features:[t.Vt3]}),s})(),qQ=(()=>{class s extends N5{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoLabelLocalizedMessages",""],["","kendoFloatingLabelLocalizedMessages",""]],features:[t.Jv_([{provide:N5,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})(),L5=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({}),s})();const wCe={name:"@progress/kendo-angular-label",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925255,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};let Aot=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,L5],L5]}),s})(),Hf=(()=>{class s{constructor(e,n,o){this.elementRef=e,this.renderer=n,this.localization=o,this.subscriptions=new be.yU,(0,mt.$)(wCe),this.direction=o.rtl?"rtl":"ltr",this.renderer.removeAttribute(this.elementRef.nativeElement,"id")}ngAfterContentInit(){if(this.for)return void(this.control=this.for);const e=(s=>this.elementRef.nativeElement.querySelector("kendo-label > input, kendo-label > textarea, kendo-label > select"))();if(e)return e.hasAttribute("id")||this.renderer.setAttribute(e,"id",`k-${rn()}`),void(this.control=e);this.control=this.kendoInput}ngOnInit(){this.subscriptions.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr"}))}ngAfterViewInit(){this.labelDirective.setAriaLabelledby()}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}textFor(e){return this.localization.get(e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-label"]],contentQueries:function(e,n,o){if(1&e&&t.wni(o,as,7),2&e){let r;t.mGM(r=t.lsd())&&(n.kendoInput=r.first)}},viewQuery:function(e,n){if(1&e&&t.GBs(L0,7),2&e){let o;t.mGM(o=t.lsd())&&(n.labelDirective=o.first)}},hostVars:1,hostBindings:function(e,n){2&e&&t.BMQ("dir",n.direction)},inputs:{text:"text",for:"for",optional:"optional",labelCssStyle:"labelCssStyle",labelCssClass:"labelCssClass"},exportAs:["kendoLabel"],features:[t.Jv_([j,{provide:Ve,useValue:"kendo.label"}])],ngContentSelectors:kCe,decls:5,vars:7,consts:()=>{let i;return i="Facoltativo",[["kendoLabelLocalizedMessages","","optional",i],[3,"for","ngClass","ngStyle"],["class","k-label-optional",4,"ngIf"],[1,"k-label-optional"]]},template:function(e,n){1&e&&(t.NAR(),t.eu8(0,0),t.j41(1,"label",1),t.EFF(2),t.DNE(3,Dot,2,1,"span",2),t.k0s(),t.SdG(4)),2&e&&(t.R7$(),t.AVh("k-label-empty",!n.text),t.Y8G("for",n.control)("ngClass",n.labelCssClass)("ngStyle",n.labelCssStyle),t.R7$(),t.SpI(" ",n.text,""),t.R7$(),t.Y8G("ngIf",n.optional))},dependencies:[qQ,L0,Pe,Jn,W],encapsulation:2}),s})(),QQ=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,L5],Aot,L5]}),s})();const he=s=>s?new Date(s.getTime()):null,Mx=36e5,eZ=864e5,Ix=(s,i)=>{const e=he(s);return 0===i&&23===e.getHours()&&e.setHours(e.getHours()+2),e},Ms=(s,i)=>{const e=he(s);return e.setDate(e.getDate()+i),Ix(e,s.getHours())},ml=(s,i,e,n=0,o=0,r=0,a=0)=>{const l=new Date(s,i,e,n,o,r,a);return s>-1&&s<100&&l.setFullYear(l.getFullYear()-1900),Ix(l,n)},Dn=s=>ml(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0),ls=(s,i)=>!s&&!i||s&&i&&s.getTime()===i.getTime(),sp=s=>{const i=ml(s.getFullYear(),s.getMonth()+1,1,s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds());return Ms(i,-1)},Do=(s,i)=>{const e=he(s),o=(12+(e.getMonth()+i)%12)%12;return e.setMonth(e.getMonth()+i),((s,i)=>s.getMonth()!==i?sp(Do(s,-1)):s)(Ix(e,s.getHours()),o)},OCe=(s,i)=>{const e=s.getMonth(),n=ml(i,e,s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds());return n.getMonth()===e?n:sp(Do(n,-1))},_l=(s,i)=>Ix(OCe(s,s.getFullYear()+i),s.getHours()),Yu=(s,i)=>_l(s,10*i),xx=(s,i)=>_l(s,100*i),G5=(s,i)=>OCe(s,i(s.getFullYear())),G0=s=>G5(s,i=>i-i%100),P5=s=>G5(s,i=>i-i%100+90),tc=s=>G5(s,i=>i-i%10),Ax=s=>G5(s,i=>i-i%10+9),TCe=(s,i)=>{const e=s.getDate(),n=ml(s.getFullYear(),i,e,s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds());return n.getDate()===e?n:sp(Do(n,-1))},Rx=s=>TCe(s,11),MCe=(s,i)=>(G0(i).getFullYear()-G0(s).getFullYear())/100,ICe=(s,i)=>(tc(i).getFullYear()-tc(s).getFullYear())/10,xCe=(s,i)=>Ms(s,7*i),P0=s=>ml(s.getFullYear(),s.getMonth(),1,s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds());var nZ=function(s){return s[s.Forward=1]="Forward",s[s.Backward=-1]="Backward",s}(nZ||{});const ACe=(s,i,e=nZ.Forward)=>{const n=he(s),o=(i-n.getDay()+7*e)%7;return n.setDate(n.getDate()+o),Ix(n,s.getHours())},RCe=(s,i)=>12*(i.getFullYear()-s.getFullYear())+(i.getMonth()-s.getMonth()),NCe=s=>TCe(s,0),LCe=(s,i)=>i.getFullYear()-s.getFullYear();var Jc=function(s){return s[s.Sunday=0]="Sunday",s[s.Monday=1]="Monday",s[s.Tuesday=2]="Tuesday",s[s.Wednesday=3]="Wednesday",s[s.Thursday=4]="Thursday",s[s.Friday=5]="Friday",s[s.Saturday=6]="Saturday",s}(Jc||{});const iZ=(s,i)=>{const e=ml(s.getFullYear(),0,1,-6),o=((s,i)=>i!==Jc.Monday?Ms(((s,i)=>ACe(s,i,nZ.Backward))(s,i),4):Ms(s,4-(s.getDay()||7)))(s,i).getTime()-e.getTime(),r=Math.floor(o/eZ);return 1+Math.floor(r/7)},GCe=(s,i=Jc.Monday)=>{s=Dn(s);const e=Ms(s,-7),n=Ms(s,7),o=iZ(s,i);return 0===o?iZ(e,i)+1:53===o&&iZ(n,i)>1?1:o},Nx={schedule(s){let i=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:n}=Nx;n&&(i=n.requestAnimationFrame,e=n.cancelAnimationFrame);const o=i(r=>{e=void 0,s(r)});return new be.yU(()=>e?.(o))},requestAnimationFrame(...s){const{delegate:i}=Nx;return(i?.requestAnimationFrame||requestAnimationFrame)(...s)},cancelAnimationFrame(...s){const{delegate:i}=Nx;return(i?.cancelAnimationFrame||cancelAnimationFrame)(...s)},delegate:void 0},Fot=new class Pot extends S_e{flush(i){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let o;i=i||n.shift();do{if(o=i.execute(i.state,i.delay))break}while((i=n[0])&&i.id===e&&n.shift());if(this._active=!1,o){for(;(i=n[0])&&i.id===e&&n.shift();)i.unsubscribe();throw o}}}(class Got extends v_e{constructor(i,e){super(i,e),this.scheduler=i,this.work=e}requestAsyncId(i,e,n=0){return null!==n&&n>0?super.requestAsyncId(i,e,n):(i.actions.push(this),i._scheduled||(i._scheduled=Nx.requestAnimationFrame(()=>i.flush(void 0))))}recycleAsyncId(i,e,n=0){var o;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(i,e,n);const{actions:r}=i;null!=e&&(null===(o=r[r.length-1])||void 0===o?void 0:o.id)!==e&&(Nx.cancelAnimationFrame(e),i._scheduled=void 0)}});function PCe(s,i=!1){return(0,$i.N)((e,n)=>{let o=0;e.subscribe((0,Xi._)(n,r=>{const a=s(r,o++);(a||i)&&n.next(r),!a&&n.complete()}))})}class Uot{constructor(){this.symbols="",this.partMap=[]}}const Dw=s=>new Array(Math.max(s,0)).fill("0").join(""),FCe=s=>s.replace(/^0*/,""),Vot=(s,i)=>(s[i.pattern[0]]=i.type,s),oo=s=>null!=s,UCe=s=>oo(s)&&"number"==typeof s&&!Number.isNaN(s),Gx=s=>parseInt(s,10),F0=(s,i,e)=>Math.min(e,Math.max(i,s)),Ks=(...s)=>Object.assign(...s),Wot=(i,e)=>{const n=he(i);return n.setFullYear(e),n},sZ=(s,i,e,n,o,r,a,l)=>!(!s||s.getFullYear()!==i||s.getMonth()!==e||s.getDate()!==n||s.getHours()!==o||s.getMinutes()!==r||s.getSeconds()!==a||s.getMilliseconds()!==l),Vv=s=>oo(s)&&s.getTime&&UCe(s.getTime()),Qot=/d|M|H|h|m|s/;class ert{constructor({intlService:i,formatPlaceholder:e,format:n,cycleTime:o=!1,twoDigitYearMax:r=68,value:a=null,autoCorrectParts:l=!0}){if(this.year=!0,this.month=!0,this.date=!0,this.hours=!0,this.minutes=!0,this.seconds=!0,this.milliseconds=!0,this.dayperiod=!0,this.leadingZero=null,this.typedMonthPart="",this.knownParts="adHhmMsEyS",this.symbols={E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",y:"y",S:"S"},this._value=Dn(new Date),this.cycleTime=!1,this._partiallyInvalidDate={startDate:null,invalidDateParts:{E:{value:null,date:null,startDateOffset:0},H:{value:null,date:null,startDateOffset:0},M:{value:null,date:null,startDateOffset:0},a:{value:null,date:null,startDateOffset:0},d:{value:null,date:null,startDateOffset:0},h:{value:null,date:null,startDateOffset:0},m:{value:null,date:null,startDateOffset:0},s:{value:null,date:null,startDateOffset:0},y:{value:null,date:null,startDateOffset:0},S:{value:null,date:null,startDateOffset:0}}},this.setOptions({intlService:i,formatPlaceholder:e,format:n,cycleTime:o,twoDigitYearMax:r,value:a,autoCorrectParts:l}),a)this._value=he(a);else{this._value=Dn(new Date);const c=this.dateFormatString(this.value,this.format).symbols;for(let u=0;u<c.length;u++)this.setExisting(c[u],!1)}}set value(i){i&&!(i instanceof Date)||(this._value=i,this.resetInvalidDate())}get value(){return this._value}get localeId(){let i="en";const e=Object.keys(this.intl.cldr);for(let n=0;n<e.length;n++){const r=this.intl.cldr[e[n]];if(r.name&&r.calendar&&r.numbers&&"en"!==r.name){i=r.name;break}}return i}setOptions(i){this.intl=i.intlService,this.formatPlaceholder=i.formatPlaceholder||"wide",this.format=i.format,this.cycleTime=i.cycleTime,this.monthNames=this.allFormattedMonths(this.localeId),this.dayPeriods=this.allDayPeriods(this.localeId),this.twoDigitYearMax=i.twoDigitYearMax,this.autoCorrectParts=i.autoCorrectParts}setValue(i){i?ls(i,this._value)||(this._value=he(i),this.modifyExisting(!0)):(this._value=Dn(new Date),this.modifyExisting(!1)),this.resetInvalidDate()}hasValue(){return this.intl.splitDateFormat(this.format,this.localeId).reduce((e,n)=>e||"literal"!==n.type&&"dayperiod"!==n.type&&this.getExisting(n.pattern[0]),!1)}getValue(){for(let i=0;i<this.knownParts.length;i++)if(!this.getExisting(this.knownParts[i]))return null;return he(this.value)}getFormattedDate(i){return this.intl.formatDate(this.getValue(),i,this.localeId)}getTextAndFormat(i=""){const e=i||this.format;let n=this.intl.formatDate(this.value,e,this.localeId);const o=this.dateFormatString(this.value,e);if(!this.autoCorrectParts&&this._partiallyInvalidDate.startDate){let a="";const l=this.intl.formatDate(this.value,e,this.localeId),c=this.getFormattedInvalidDates(e);for(let u=0;u<l.length;u++){const f=o.symbols[u];if("literal"===o.partMap[u].type)a+=n[u];else if(this.getInvalidDatePartValue(f)){const _=this.getPartsForSegment(o,u);if("M"===f){const g=(Gx(this.getInvalidDatePartValue(f))+1).toString();_.length>2?a+=c[f][u]:this.getInvalidDatePartValue(f)?(a+=Dw(_.length-g.length)+g,u+=_.length-1):a+=c[f][u]}else if(this.getInvalidDatePartValue(f)){const g=this.getInvalidDatePartValue(f).toString();a+=Dw(_.length-g.length)+g,u+=_.length-1}else a+=c[f][u]}else a+=n[u]}n=a}return this.merge(n,o)}getFormattedInvalidDates(i=""){const e=i||this.format;let n={E:"",H:"",M:"",a:"",d:"",h:"",m:"",s:"",y:"",S:""};return Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach(o=>{const r=this.getInvalidDatePart(o).date;if(r){const a=this.intl.formatDate(r,e,this.localeId);n[o]=a}}),n}modifyExisting(i){const e=this.dateFormatString(this.value,this.format).symbols;for(let n=0;n<e.length;n++)this.setExisting(e[n],i)}getExisting(i){switch(i){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"t":case"a":return this.dayperiod;case"m":return this.minutes;case"s":return this.seconds;case"S":return this.milliseconds;default:return!0}}setExisting(i,e){switch(i){case"y":this.year=e,!1===e&&this._value.setFullYear(2e3);break;case"M":this.month=e,!1===e&&this.autoCorrectParts&&this._value.setMonth(0);break;case"d":this.date=e;break;case"h":case"H":this.hours=e;break;case"t":case"a":this.dayperiod=e;break;case"m":this.minutes=e;break;case"s":this.seconds=e;break;case"S":this.milliseconds=e}this.getValue()&&this.resetInvalidDate()}modifyPart(i,e){if(!oo(i)||!oo(e)||0===e)return;let r,n=he(this.value),o=!1;const a="M"===i,l="d"===i||"E"===i,c=this.getExisting(i);if(this.autoCorrectParts||!l&&!a)switch(i){case"y":n.setFullYear(n.getFullYear()+e);break;case"M":n=Do(this.value,e);break;case"d":case"E":n.setDate(n.getDate()+e);break;case"h":case"H":n.setHours(n.getHours()+e),o=!0;break;case"m":n.setMinutes(n.getMinutes()+e),o=!0;break;case"s":n.setSeconds(n.getSeconds()+e),o=!0;break;case"S":n.setMilliseconds(n.getMilliseconds()+e);break;case"a":n.setHours(n.getHours()+12*e),o=!0}else{const u=this._partiallyInvalidDate.invalidDateParts||{},f=this.getInvalidDatePartValue(i);let _=u.y.value||n.getFullYear(),g=u.M.value||n.getMonth(),S=u.d.value||u.E.value||n.getDate(),b=u.h.value||u.H.value||n.getHours(),k=u.m.value||n.getMinutes(),D=u.s.value||n.getSeconds(),O=u.S.value||n.getMilliseconds();switch(i){case"y":_+=e;break;case"M":g+=e;break;case"d":case"E":S+=e}if("M"===i){if((g<0||g>11)&&c)return this.setExisting(i,!1),void this.resetInvalidDateSymbol(i);if(!c){if(g<0)g=F0(g%11+1+11,0,11);else{const G=oo(f)?g:(e-1)%12;g=F0(G,0,11)}g=F0(g,0,11)}g=F0(g,0,11)}else if("d"===i)if(c){if(S<=0||S>31)return this.setExisting(i,!1),void this.resetInvalidDateSymbol(i)}else if(!c){if(oo(f)&&(S<=0||S>31))return this.setExisting(i,!1),void this.resetInvalidDateSymbol(i);if(e<0){const G=oo(f)?S:31-Math.abs(e%31)+1;S=F0(G,1,31)}else{const G=oo(f)?S:e%31;S=F0(G,1,31)}S=F0(S,1,31)}const I=ml(_,g,S,b,k,D,O),N=a||l?this.modifyDateSymbolWithValue(n,i,a?g:S):null,P=sZ(I,_,g,S,b,k,D,O);this.getValue()&&sZ(I,_,g,S,b,k,D,O)?(n=he(I),this.markDatePartsAsExisting()):a&&N?N.getMonth()===g?this.getExisting("d")?P?(n=he(I),this.resetInvalidDateSymbol(i)):(r=!0,this.setInvalidDatePart(i,{value:g,date:he(N),startDateOffset:e,startDate:he(this.value)}),this.setExisting(i,!1)):P?(this.resetInvalidDateSymbol(i),n=he(I),this.getExisting("M")&&this.getExisting("y")&&(this.setExisting("d",!0),this.resetInvalidDateSymbol("d"))):(this.resetInvalidDateSymbol(i),n=he(N)):(r=!0,this.setInvalidDatePart(i,{value:g,date:he(N),startDateOffset:e,startDate:he(this.value)}),this.setExisting(i,!1)):l&&N&&(N.getDate()===S?this.getExisting("M")?P?(n=he(I),this.resetInvalidDateSymbol(i)):(r=!0,this.setInvalidDatePart(i,{value:S,date:he(N),startDateOffset:e,startDate:he(this.value)}),this.setExisting(i,!1)):P?(n=he(I),this.resetInvalidDateSymbol(i),this.getExisting("d")&&this.getExisting("y")&&(this.setExisting("M",!0),this.resetInvalidDateSymbol("M"))):(this.resetInvalidDateSymbol(i),n=he(N)):(r=!0,this.setInvalidDatePart(i,{value:S,date:he(this.value),startDateOffset:e,startDate:he(this.value)}),this.setExisting(i,!1)))}this.shouldNormalizeCentury()&&(n=this.normalizeCentury(n)),o&&!this.cycleTime&&(n.getDate(),this._value.getDate()),r||(this.setExisting(i,!0),this._value=n,this.getValue()&&this.resetInvalidDate())}parsePart({symbol:i,currentChar:e,resetSegmentValue:n,cycleSegmentValue:o,rawTextValue:r,isDeleting:a,originalFormat:l}){const c=!o,u=this.dateFormatString(this.value,this.format),f=u.partMap.filter(Ce=>"literal"===Ce.type).map((Ce,Tt)=>({datePartIndex:Tt,type:Ce.type,pattern:Ce.pattern,literal:""})),_=u.partMap.map(Ce=>({type:Ce.type,pattern:Ce.pattern,text:""}));for(let Ce=0;Ce<f.length;Ce++){const Tt=f[Ce];for(let Nt=0;Nt<Tt.pattern.length;Nt++)f[Ce+Nt]&&(f[Ce+Nt].literal=Tt.pattern[Nt]);Ce+=Tt.pattern.length-1}for(let Ce=0;Ce<_.length;Ce++){const Tt=_[Ce];for(let Nt=0;Nt<Tt.pattern.length;Nt++)_[Ce+Nt]&&(_[Ce+Nt].text=Tt.pattern[Nt]);Ce+=Tt.pattern.length-1}let S={value:null,switchToNext:!1,resetPart:c&&"M"===i&&u.partMap.filter(Ce=>"month"===Ce.type).some(Ce=>Ce.pattern.length>2),hasInvalidDatePart:!1};if(!e){if(!c)return this.resetLeadingZero(),this.setExisting(i,!1),this.resetInvalidDateSymbol(i),Ks(S,{value:null,switchToNext:!1});for(let Ce=0;Ce<f.length;Ce++){const Tt=f[Ce].literal,Nt=r.startsWith(Tt),xt=r.endsWith(Tt),Es=r.indexOf(Tt+Tt)>=0;if(Nt||xt||Es)return this.resetLeadingZero(),this.setExisting(i,!1),this.resetInvalidDateSymbol(i),Ks(S,{value:null,switchToNext:!1})}}const b=this.intl.formatDate(this.value,this.format,this.localeId),k=u.symbols;let D=!1,O="",I="",N="",P="",G="",H="",$="";for(let Ce=0;Ce<_.length;Ce++)$+=_[Ce].text;const Q=this.format===k||this.format===$||this.format===l||this.format.length===l.length,ie=(Q?$:l).indexOf(i),re=(Q?$:l).lastIndexOf(i)-ie+1;let Ne=l.length-r.length;if(c||!c&&!this.autoCorrectParts){for(let Ce=0;Ce<b.length;Ce++)k[Ce]===i?(I+=this.getExisting(i)?b[Ce]:"0",Ne>0?N.length+Ne<re&&(N+=r[Ce]||""):N+=r[Ce]||"",D=!0):D?(H+=b[Ce],G+=b[Ce]):(O+=b[Ce],P+=b[Ce]);if(Q&&($.length<r.length&&(N+=e),N.length>re))return Ks(S,{value:null,switchToNext:!1});if(!Q||Q&&!this.autoCorrectParts){I="",N="",O="",H="",D=!1;for(let Ce=0;Ce<l.length;Ce++)l[Ce]===i?(I+=this.getExisting(i)?b[Ce]||"":"0",Ne>0?N.length+Ne<re&&(N+=r[Ce]||""):N+=r[Ce]||"",D=!0):D?H+=r[Ce-Ne]||"":O+=r[Ce]||"";l.length<r.length&&(N+=e)}}if(!c)if(this.autoCorrectParts){I="",N="",O="",H="",D=!1;for(let Ce=0;Ce<b.length;Ce++)k[Ce]===i?(I+=this.getExisting(i)?b[Ce]:"0",D=!0):D?H+=b[Ce]:O+=b[Ce]}else I=n?N:I;let ue=null,ye=this.matchMonth(e);const se=this.matchDayPeriod(e,i),te="0"===e,le=this.leadingZero||{};te?("0"===N&&(N=I),0===Gx(n?e:(c?N:I)+e)&&!this.isAbbrMonth(u.partMap,i)&&this.incrementLeadingZero(i)):this.resetLeadingZero();const ve=this.partPattern(u.partMap,i),Se=ve?ve.pattern:null,Me=this.patternLength(Se)||Se.length;if(c&&a&&!N)return this.setExisting(i,!1),Ks(S,{value:null,switchToNext:!1});let Le=!0,en=c?N:I;for(let Ce=Math.max(0,I.length-3);Ce<=I.length&&Le;Ce++){en=n?e:c?N:I.substring(Ce)+e,(c||!this.autoCorrectParts)&&(Le=!1,en=FCe(en),en=Dw(Me-en.length)+en);let Tt=parseInt(en,10);ue=this.intl.parseDate(O+en+H,this.format,this.localeId);let xt=!1;c&&!Vv(ue)&&this.autoCorrectParts&&(ue=this.intl.parseDate(P+en+G,this.format,this.localeId),xt=!0);const Es=!isNaN(parseInt(e,10))||c&&a&&""===e;if(!ue&&!isNaN(Tt)&&Es&&this.autoCorrectParts){if("M"===i&&!ye){const dn=Tt-1;dn>-1&&dn<12&&(ue=he(this.value),ue.setMonth(dn),ue.getMonth()!==dn&&(ue=sp(Do(ue,-1))))}"y"===i&&(ue=ml(parseInt(en,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),(c&&Vv(ue)||!c&&ue)&&this.date&&ue.getDate()!==this.value.getDate()&&(ue=sp(Do(ue,-1))))}if(c&&Vv(ue)||!c&&ue){const dn=this.peek(en,Se),ei=this.intl.parseDate(xt?`${P}${dn}${G}`:`${O}${dn}${H}`,this.format,this.localeId),di=((this.leadingZero||{})[i]||0)+FCe(en).length>=Me;let Ps=null===ei||(le[i]?Se.length<=en.length:di);return this.shouldNormalizeCentury()&&(ue=this.normalizeCentury(ue)),this._value=ue,this.setExisting(i,!0),this.resetInvalidDateSymbol(i),this.autoCorrectParts||("M"===i?this.getExisting("M")&&this.getExisting("y")&&(this.setExisting("d",!0),this.resetInvalidDateSymbol("d")):"d"===i&&this.getExisting("d")&&this.getExisting("y")&&(this.setExisting("M",!0),this.resetInvalidDateSymbol("M")),this.hasInvalidDatePart()||this.markDatePartsAsExisting()),Ks(S,{value:this.value,switchToNext:Ps})}}if(ye&&(ue=this.intl.parseDate(O+ye+H,this.format,this.localeId),ue))return this._value=ue,this.setExisting(i,!0),Ks(S,{value:this.value,switchToNext:!1});if(se&&(ue=this.intl.parseDate(O+se+H,this.format)||this.intl.parseDate(P+se+G,this.format),ue))return this._value=ue,this.setExisting(i,!0),Ks(S,{value:this.value,switchToNext:!0});if(te&&this.setExisting(i,!1),!this.autoCorrectParts){let Ce;const Tt=c?N:en,Nt=Gx(Tt);if(UCe(Nt)){if("d"===i&&(Nt<=0||Nt>31)||"M"===i&&(Nt<0||Nt>11))return Ks(S,{value:null,switchToNext:!1});Ce="M"===i?Nt-1:Nt;const xt="M"===i,Es="d"===i;let dn=he(this._value);const Kn=this._partiallyInvalidDate.invalidDateParts||{};let ei=Kn.y.value||dn.getFullYear(),Co=xt?Ce:Kn.M.value||dn.getMonth(),di=Es?Ce:Kn.d.value||Kn.E.value||dn.getDate(),Ps=Kn.h.value||Kn.H.value||dn.getHours(),gd=Kn.m.value||dn.getMinutes(),vd=Kn.s.value||dn.getSeconds(),Sd=Kn.S.value||dn.getMilliseconds();const Nl=ml(ei,Co,di,Ps,gd,vd,Sd),uu=sZ(Nl,ei,Co,di,Ps,gd,vd,Sd),La=xt||Es?this.modifyDateSymbolWithValue(dn,i,xt?Co:di):null;let bt=!1;if(xt&&La?La.getMonth()===Co?this.getExisting("d")?uu?(dn=he(Nl),this.resetInvalidDateSymbol(i)):(bt=!0,this.setInvalidDatePart(i,{value:Co,date:he(La),startDate:he(this.value)}),this.setExisting(i,!1)):uu?(this.resetInvalidDateSymbol(i),dn=he(Nl),this.getExisting("M")&&this.getExisting("y")&&(this.setExisting("d",!0),this.resetInvalidDateSymbol("d"))):(this.resetInvalidDateSymbol(i),dn=he(La)):(bt=!0,this.setInvalidDatePart(i,{value:Co,date:he(La),startDate:he(this.value)}),this.setExisting(i,!1)):Es&&La&&(La.getDate()===di?this.getExisting("M")?uu?(dn=he(Nl),this.resetInvalidDateSymbol(i)):(bt=!0,this.setInvalidDatePart(i,{value:di,date:he(La),startDate:he(this.value)}),this.setExisting(i,!1)):uu?(dn=he(Nl),this.resetInvalidDateSymbol(i),this.getExisting("d")&&this.getExisting("y")&&(this.setExisting("M",!0),this.resetInvalidDateSymbol("M"))):(this.resetInvalidDateSymbol(i),dn=he(La)):(bt=!0,this.setInvalidDatePart(i,{value:di,date:he(this.value),startDate:he(this.value)}),this.setExisting(i,!1))),!bt){if(this.setExisting(i,!0),c&&!Vv(ue)){const a2=this.intl.parseDate(P+en+G,this.format,this.localeId);Vv(a2)&&(this._value=a2)}else this._value=dn;this.getValue()&&this.resetInvalidDate()}let Xm=!1;return Xm="M"===i?Nt>=2||Tt.length>=2:Q?Tt.length===re:Tt.length>re,Ks(S,{value:null,switchToNext:Xm,hasInvalidDatePart:bt})}}return Ks(S,{value:null,switchToNext:!1})}symbolMap(i){return this.intl.splitDateFormat(this.format,this.localeId).reduce(Vot,{})[i]}resetLeadingZero(){const i=null!==this.leadingZero;return this.setLeadingZero(null),i}setLeadingZero(i){this.leadingZero=i}getLeadingZero(){return this.leadingZero||{}}normalizeCentury(i){if(!oo(i))return i;const e=(s=>!oo(s)||isNaN(s.getTime())?0:Number(s.getFullYear().toString().slice(-2)))(i),n=this.getNormalizedCenturyBase(e);return Wot(i,n+e)}incrementLeadingZero(i){const e=this.leadingZero||{};e[i]=(e[i]||0)+1,this.leadingZero=e}isAbbrMonth(i,e){const n=this.partPattern(i,e);return"month"===n.type&&n.names}partPattern(i,e){return i.filter(n=>-1!==n.pattern.indexOf(e))[0]}peek(i,e){const n=i.replace(/^0*/,"")+"0";return Dw(e.length-n.length)+n}matchMonth(i){if(this.typedMonthPart+=i.toLowerCase(),0===this.monthNames.length)return"";for(;this.typedMonthPart.length>0;){for(let n=0;n<this.monthNames.length;n++)if(0===this.monthNames[n].toLowerCase().indexOf(this.typedMonthPart))return this.monthNames[n];const e=parseInt(this.typedMonthPart,10);if(e>=1&&e<=12&&e.toString()===this.typedMonthPart)return this.monthNames[e-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""}matchDayPeriod(i,e){const n=i.toLowerCase();if("a"===e&&this.dayPeriods){if(this.dayPeriods.am.toLowerCase().startsWith(n))return this.dayPeriods.am;if(this.dayPeriods.pm.toLowerCase().startsWith(n))return this.dayPeriods.pm}return""}allFormattedMonths(i="en"){const e=this.intl.splitDateFormat(this.format,this.localeId);for(let n=0;n<e.length;n++)if("month"===e[n].type&&e[n].names)return this.intl.dateFormatNames(i,e[n].names);return[]}allDayPeriods(i="en"){const e=this.intl.splitDateFormat(this.format);for(let n=0;n<e.length;n++)if("dayperiod"===e[n].type&&e[n].names)return this.intl.dateFormatNames(i,e[n].names);return null}patternLength(i){return"y"===i[0]?4:Qot.test(i)?2:0}dateFormatString(i,e){const n=this.intl.splitDateFormat(e,this.localeId),o=[],r=[];for(let l=0;l<n.length;l++){let c=this.intl.formatDate(i,{pattern:n[l].pattern},this.localeId).length;for(;c>0;)o.push(this.symbols[n[l].pattern[0]]||"_"),r.push(n[l]),c--}const a=new Uot;return a.symbols=o.join(""),a.partMap=r,a}merge(i,e){let n="",o="",r=e.symbols,a=!1,l=0;const c=this.getFormattedInvalidDates(r);for(let u=r.length-1;u>=0;u--){const f=this.getPartsForSegment(e,u);if(-1===this.knownParts.indexOf(r[u])||this.getExisting(r[u]))this.autoCorrectParts?n=i[u]+n:i.length!==r.length?a?n=i[u]+n:l>0?(n=i[u]+n,l--,l<=0&&(a=!0)):n=(i[u+i.length-r.length]||"")+n:n=i[u]+n,o=r[u]+o;else{const _=r[u];let g=0;if(this.autoCorrectParts||!this.autoCorrectParts&&!this.getInvalidDatePartValue(_)){for(;u>=0&&_===r[u];)u--;u++}if(this.leadingZero&&this.leadingZero[_])n="0"+n;else if(!this.autoCorrectParts&&this.getInvalidDatePartValue(_)){let S=this.getInvalidDatePartValue(_).toString();"M"===_?(S=(Gx(this.getInvalidDatePartValue(_))+1).toString(),f.length>2?n=c[_][u]+n:(S=(Gx(this.getInvalidDatePartValue(_))+1).toString(),n=Dw(f.length-S.length)+S+n,g=f.length-1,l=S.length-f.length)):(n=Dw(f.length-S.length)+S+n,g=f.length-1,l=S.length-f.length)}else n=this.dateFieldName(e.partMap[u])+n;for(;o.length<n.length;)o=r[u]+o;0!==g&&(u=u-g+(i.length-r.length))}}return{text:n,format:o}}dateFieldName(i){const e=this.formatPlaceholder||"wide";return e[i.type]?e[i.type]:"formatPattern"===e?i.pattern:this.intl.dateFieldName(Object.assign(i,{nameType:e}))}getNormalizedCenturyBase(i){return i>this.twoDigitYearMax?1900:2e3}shouldNormalizeCentury(){return this.intl.splitDateFormat(this.format).some(i=>"yy"===i.pattern)}resetInvalidDate(){this._partiallyInvalidDate.startDate=null,Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach(i=>{this.resetInvalidDatePart(i)})}resetInvalidDateSymbol(i){this.resetInvalidDatePart(i);let e=!0;Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach(n=>{this._partiallyInvalidDate.invalidDateParts[n]&&oo(this._partiallyInvalidDate.invalidDateParts[n].value)&&(e=!1)}),e&&this.resetInvalidDate()}resetInvalidDatePart(i){this._partiallyInvalidDate.invalidDateParts[i]&&(this._partiallyInvalidDate.invalidDateParts[i]={value:null,date:null,startDateOffset:0})}getInvalidDatePart(i){return this._partiallyInvalidDate.invalidDateParts[i]||{}}getInvalidDatePartValue(i){return(this._partiallyInvalidDate.invalidDateParts[i]||{}).value}setInvalidDatePart(i,{value:e=null,date:n=null,startDateOffset:o=0,startDate:r=null}){this._partiallyInvalidDate.invalidDateParts[i]&&(this._partiallyInvalidDate.invalidDateParts[i].value=e,this._partiallyInvalidDate.invalidDateParts[i].date=n,this._partiallyInvalidDate.invalidDateParts[i].startDateOffset=o,this._partiallyInvalidDate.startDate=r)}hasInvalidDatePart(){let i=!1;return Object.keys(this._partiallyInvalidDate.invalidDateParts).forEach(e=>{this._partiallyInvalidDate.invalidDateParts[e]&&oo(this._partiallyInvalidDate.invalidDateParts[e].value)&&(i=!0)}),i}modifyDateSymbolWithOffset(i,e,n){let o=he(i),r=!1;switch(e){case"y":o.setFullYear(o.getFullYear()+n);break;case"M":o=Do(this.value,n);break;case"d":case"E":o.setDate(o.getDate()+n);break;case"h":case"H":o.setHours(o.getHours()+n),r=!0;break;case"m":o.setMinutes(o.getMinutes()+n),r=!0;break;case"s":o.setSeconds(o.getSeconds()+n),r=!0;break;case"S":o.setMilliseconds(o.getMilliseconds()+n);break;case"a":o.setHours(o.getHours()+12*n),r=!0}return{date:o,timeModified:r}}modifyDateSymbolWithValue(i,e,n){let o=he(i);switch(e){case"y":o.setFullYear(n);break;case"M":o=Do(i,n-i.getMonth());break;case"d":case"E":o.setDate(n);break;case"h":case"H":case"a":o.setHours(n);break;case"m":o.setMinutes(n);break;case"s":o.setSeconds(n);break;case"S":o.setMilliseconds(n)}return o}markDatePartsAsExisting(){this.modifyExisting(!0)}getPartsForSegment(i,e){const n=i.partMap[e],o=[];for(let r=e;r<i.partMap.length;r++){const a=i.partMap[r];if(n.type!==a.type||n.pattern!==a.pattern)break;o.push(a)}for(let r=e-1;r>=0;r--){const a=i.partMap[r];if(n.type!==a.type||n.pattern!==a.pattern)break;o.unshift(a)}return o}}const trt={events:{}};class nrt{constructor(i){this.options=Ks({},trt,i)}destroy(){}trigger(i,e={}){let n={defaultPrevented:!1,preventDefault:()=>{n.defaultPrevented=!0}};return!!(s=>"function"==typeof s)(this.options.events[i])&&(this.options.events[i](Ks(n,e,{sender:this})),n.defaultPrevented)}}var nc=function(s){return s.None="none",s.Caret="caret",s.Selection="selection",s}(nc||{});const jCe="touchstart",U5="input",B5="keydown",V5="focus",z5="blur",YCe="DOMMouseScroll",j5="mousewheel",KCe="valueChange",H5="change",rZ={format:"d",hasPlaceholder:!1,placeholder:null,cycleTime:!0,locale:null,steps:{millisecond:1,second:1,minute:1,hour:1,day:1,month:1,year:1},formatPlaceholder:null,events:{[KCe]:null,[U5]:null,inputEnd:null,[V5]:null,focusEnd:null,[z5]:null,blurEnd:null,[B5]:null,[j5]:null,[H5]:null},selectNearestSegmentOnFocus:!1,selectPreviousSegmentOnBackspace:!1,enableMouseWheel:!1,allowCaretMode:!1,autoSwitchParts:!0,autoSwitchKeys:[],twoDigitYearMax:68,autoCorrectParts:!0,autoFill:!1};class irt extends nrt{constructor(i,e){super(e),this.dateObject=null,this.currentText="",this.currentFormat="",this.interactionMode=nc.None,this.previousElementSelection={start:0,end:0},this.init(i,e)}get value(){return this.dateObject&&this.dateObject.getValue()}init(i,e){let n=Vv(this.options.value)?he(this.options.value):new Date(e.formattedValue);Vv(n)||(n=null),this.element=i,this.options=Ks({},rZ,e,{steps:Object.assign({},rZ.steps,e.steps)}),this.intl=this.options.intlService,this.dateObject=this.createDateObject(),this.dateObject.setValue(n),this.setTextAndFormat(),this.bindEvents(),this.resetSegmentValue=!0,this.interactionMode=nc.None,this.forceUpdate()}destroy(){this.unbindEvents(),this.dateObject=null,super.destroy()}bindEvents(){this.onElementDragStart=this.onElementDragStart.bind(this),this.element.addEventListener("dragStart",this.onElementDragStart),this.onElementDrop=this.onElementDrop.bind(this),this.element.addEventListener("drop",this.onElementDrop),this.onElementClick=this.onElementClick.bind(this),this.element.addEventListener("click",this.onElementClick),this.onElementMouseDown=this.onElementMouseDown.bind(this),this.element.addEventListener("mousedown",this.onElementMouseDown),this.element.addEventListener(jCe,this.onElementMouseDown),this.onElementMouseUp=this.onElementMouseUp.bind(this),this.element.addEventListener("mouseup",this.onElementMouseUp),this.onElementInput=this.onElementInput.bind(this),this.element.addEventListener(U5,this.onElementInput),this.onElementKeyDown=this.onElementKeyDown.bind(this),this.element.addEventListener(B5,this.onElementKeyDown),this.onElementFocus=this.onElementFocus.bind(this),this.element.addEventListener(V5,this.onElementFocus),this.onElementBlur=this.onElementBlur.bind(this),this.element.addEventListener(z5,this.onElementBlur),this.onElementChange=this.onElementChange.bind(this),this.element.addEventListener(H5,this.onElementChange),this.onElementPaste=this.onElementPaste.bind(this),this.element.addEventListener("paste",this.onElementPaste),this.onElementMouseWheel=this.onElementMouseWheel.bind(this),this.element.addEventListener(YCe,this.onElementMouseWheel),this.element.addEventListener(j5,this.onElementMouseWheel)}unbindEvents(){this.element.removeEventListener("dragStart",this.onElementDragStart),this.element.removeEventListener("drop",this.onElementDrop),this.element.removeEventListener(jCe,this.onElementMouseDown),this.element.removeEventListener("mousedown",this.onElementMouseDown),this.element.removeEventListener("mouseup",this.onElementMouseUp),this.element.removeEventListener("click",this.onElementClick),this.element.removeEventListener(U5,this.onElementInput),this.element.removeEventListener(B5,this.onElementKeyDown),this.element.removeEventListener(V5,this.onElementFocus),this.element.removeEventListener(z5,this.onElementBlur),this.element.removeEventListener(H5,this.onElementChange),this.element.removeEventListener("paste",this.onElementPaste),this.element.removeEventListener(YCe,this.onElementMouseWheel),this.element.removeEventListener(j5,this.onElementMouseWheel)}setOptions(i,e=!1){this.options=Ks({},this.options,i,{steps:Object.assign({},rZ.steps,i.steps)}),this.setDateObjectOptions(),e&&(this.unbindEvents(),this.init(this.element,this.options))}setDateObjectOptions(){if(this.dateObject){const i=this.getDateObjectOptions();this.dateObject.setOptions(i)}}resetLocale(){this.unbindEvents(),this.init(this.element,this.options)}isInCaretMode(){return this.interactionMode===nc.Caret}focus(){this.element.focus(),this.options.selectNearestSegmentOnFocus&&this.selectNearestSegment(0)}onElementDragStart(i){i.preventDefault()}onElementDrop(i){i.preventDefault()}onElementMouseDown(){this.mouseDownStarted=!0,this.focusedPriorToMouseDown=this.isActive}onElementMouseUp(i){this.mouseDownStarted=!1,i.preventDefault()}onElementClick(i){this.mouseDownStarted=!1,this.switchedPartOnPreviousKeyAction=!1;const e=this.selection;if(this.isInCaretMode()&&this.forceUpdate(),3!==i.detail)if(this.isActive&&this.options.selectNearestSegmentOnFocus){const n=this.element.selectionStart!==this.element.selectionEnd,o=oo(this.options.placeholder)&&!this.dateObject.hasValue()&&!this.focusedPriorToMouseDown,a=!n&&o?0:this.caret()[0];this.selectNearestSegment(a)}else this.setSelection(this.selectionByIndex(e.start))}onElementInput(i){if(this.triggerInput({event:i}),!this.element||!this.dateObject)return;const e=this.switchedPartOnPreviousKeyAction;if(this.isPasteInProgress)return this.options.allowCaretMode&&(this.resetSegmentValue=!1),this.updateOnPaste(i),void(this.isPasteInProgress=!1);const n=this.keyDownEvent||{},o=8===n.keyCode||"Backspace"===n.key,r=46===n.keyCode||"Delete"===n.key,a=this.interactionMode;this.options.allowCaretMode&&a!==nc.Caret&&!r&&!o&&(this.resetSegmentValue=!0),this.interactionMode=this.options.allowCaretMode?nc.Caret:nc.Selection;const l=this.isInCaretMode();if(l&&" "===this.keyDownEvent.key)return void this.restorePreviousInputEventState();const c=this.dateObject&&this.dateObject.getValue(),u=this.dateObject?this.dateObject.value:null,{text:f,format:_}=this.dateObject.getTextAndFormat();this.currentFormat=_;let g="";g=l&&(o||r||a===nc.Caret)?this.previousElementValue:f;let b=(({oldText:s,newText:i,formatPattern:e,selectionStart:n,isInCaretMode:o,keyEvent:r})=>{const a=n+s.length-i.length,l=s[a],c=s.substring(0,a),u=i.substring(0,n),f=[];if(c===u&&n>0)return f.push([e[n-1],u[n-1]]),f;if(0===c.indexOf(u)&&o&&("Delete"===r.key||"Backspace"===r.key)||0===c.indexOf(u)&&!o&&(0===u.length||e[u.length-1]!==e[u.length])){let g="";!o&&1===u.length&&f.push([e[0],u[0]]);for(let S=u.length;S<c.length;S++)e[S]!==g&&"_"!==e[S]&&(g=e[S],f.push([g,""]));return f}if(o&&(0===u.indexOf(c)||"_"===e[n-1])||!o&&(0===u.indexOf(c)||"_"===e[n-1])){let g=e[0];for(let S=Math.max(0,c.length-1);S<e.length;S++)if("_"!==e[S]){g=e[S];break}return[[g,u[n-1]]]}return" "===u[u.length-1]||u[u.length-1]===l&&"_"===e[a]?[[e[n-1],"_"]]:[[e[n-1],u[n-1]]]})({oldText:g,newText:this.elementValue,formatPattern:this.currentFormat,selectionStart:this.selection.start,isInCaretMode:l,keyEvent:this.keyDownEvent});if(b&&b.length&&b[0]&&"_"!==b[0][1]&&(this.switchedPartOnPreviousKeyAction=!1),l&&(!b||0===b.length))return void this.restorePreviousInputEventState();if(l&&1===b.length){if(!b[0]||!b[0][0])return void this.restorePreviousInputEventState();if(l&&b[0]&&("_"===b[0][0]||"_"===b[0][1]))return void this.restorePreviousInputEventState()}const k=1===b.length&&"_"===b[0][1],D=[];let O=!1,I=null;if(!k)for(let ue=0;ue<b.length;ue++){const ye=this.dateObject.parsePart({symbol:b[ue][0],currentChar:b[ue][1],resetSegmentValue:this.resetSegmentValue,cycleSegmentValue:!this.isInCaretMode(),rawTextValue:this.element.value,isDeleting:o||r,originalFormat:this.currentFormat});D.push(ye),ye.value||(I={type:"parse"}),O=ye.switchToNext}this.options.autoSwitchParts||(O=!1),this.resetSegmentValue=!1;const N=this.options.format===this.currentFormat||oo(this.options.format)&&this.options.format.length>1,P=D[D.length-1],G=P&&!oo(P.value),H=l&&(o||r)&&G,$=!!P&&P.resetPart,Q=this.dateObject.getValue(),ie=!ls(c,Q),ce=this.dateObject.value;let re;const Ne=this.selection;if(l){const ue=b&&b.length>0?b[0][0]:null;let ye=this.dateObject.getLeadingZero()[ue];b.length&&"_"!==b[0][0]?O?(this.forceUpdateWithSelection(),this.switchDateSegment(1)):$?(re=this.currentFormat[Ne.start],re?(this.forceUpdate(),this.setSelection(this.selectionBySymbol(re))):this.restorePreviousInputEventState()):H?(this.forceUpdate(),b.length&&"_"!==b[0][0]&&this.setSelection(this.selectionBySymbol(b[0][0]))):G?"0"===i.data&&ye||(oo(c)&&!oo(Q)?this.restorePreviousInputEventState():!oo(c)&&oo(Q)?this.forceUpdateWithSelection():oo(c)&&oo(Q)?ie?this.forceUpdateWithSelection():this.restorePreviousInputEventState():oo(c)||oo(Q)?u!==ce||this.restorePreviousInputEventState():this.forceUpdateWithSelection()):G||N||this.forceUpdateWithSelection():!this.options.autoSwitchParts&&"_"===b[0][1]||this.setSelection(this.selectionBySymbol(b[0][0]))}else l||(this.forceUpdate(),b.length&&"_"!==b[0][0]&&this.setSelection(this.selectionBySymbol(b[0][0])),this.options.autoSwitchParts?k?(this.resetSegmentValue=!0,e||this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!0):O&&(this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!0):P&&P.switchToNext?this.resetSegmentValue=!0:k&&(this.resetSegmentValue=!0,e||this.switchDateSegment(1),this.switchedPartOnPreviousKeyAction=!0),o&&this.options.selectPreviousSegmentOnBackspace&&this.switchDateSegment(-1));this.tryTriggerValueChange({oldValue:c,event:i}),this.triggerInputEnd({event:i,error:I}),l&&this.setTextAndFormat()}onElementFocus(i){this.triggerFocus({event:i})||(this.isActive=!0,this.interactionMode=nc.None,this.switchedPartOnPreviousKeyAction=!1,this.refreshElementValue(),this.mouseDownStarted||this.caret(0,this.elementValue.length),this.mouseDownStarted=!1,this.triggerFocusEnd({event:i}))}onElementBlur(i){this.resetSegmentValue=!0,this.isActive=!1,!this.triggerBlur({event:i})&&(this.options.autoFill&&this.autoFill(),this.interactionMode=nc.None,this.switchedPartOnPreviousKeyAction=!1,this.refreshElementValue(),this.triggerBlurEnd({event:i}))}onElementChange(i){this.triggerChange({event:i})}onElementKeyDown(i){if(this.triggerKeyDown({event:i}))return;const{start:e,end:n}=this.selection;if(this.keyDownEvent=i,this.previousElementValue=this.element.value,this.previousElementSelection={start:e,end:n},this.keyEventMatchesAutoSwitchKeys(i)){const l=9===i.keyCode;if(!l)return i.preventDefault(),void this.switchDateSegment(1);{const{start:c,end:u}=this.selection;if(this.switchDateSegment(i.shiftKey&&l?-1:1),c!==this.selection.start||u!==this.selection.end)return void i.preventDefault()}}const o=this.currentFormat[this.selection.start],r=this.getStepFromSymbol(o);let a=!1;if(!(i.altKey||i.ctrlKey||i.metaKey||9===i.keyCode)){switch(i.keyCode){case 37:this.switchDateSegment(-1),a=!0,this.switchedPartOnPreviousKeyAction=!1;break;case 38:this.modifyDateSegmentValue(r,o,event),a=!0,this.switchedPartOnPreviousKeyAction=!1;break;case 39:this.switchDateSegment(1),a=!0,this.switchedPartOnPreviousKeyAction=!1;break;case 40:this.modifyDateSegmentValue(-r,o,event),a=!0,this.switchedPartOnPreviousKeyAction=!1;break;case 13:break;case 36:this.selectNearestSegment(0),a=!0,this.switchedPartOnPreviousKeyAction=!1,this.resetSegmentValue=!0;break;case 35:this.selectNearestSegment(this.elementValue.length),a=!0,this.switchedPartOnPreviousKeyAction=!1,this.resetSegmentValue=!0;break;default:return}a&&i.preventDefault()}}onElementPaste(){this.isPasteInProgress=!0}onElementMouseWheel(i){if(!this.options.enableMouseWheel||this.triggerMouseWheel({event:i})||!this.isActive)return;const e=i;e.shiftKey?this.switchDateSegment((e.wheelDelta||-e.detail)>0?-1:1):this.modifyDateSegmentValue((e.wheelDelta||-e.detail)>0?1:-1),e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()}updateOnPaste(i){let e=this.intl.parseDate(this.elementValue,this.inputFormat)||this.value;oo(e)&&this.dateObject.shouldNormalizeCentury()&&(e=this.dateObject.normalizeCentury(e));const n=this.dateObject&&this.dateObject.getValue();this.writeValue(e),this.tryTriggerValueChange({oldValue:n,event:i})}get elementValue(){return(this.element||{}).value||""}get inputFormat(){return this.options.format?"string"==typeof this.options.format?this.options.format:this.options.format.inputFormat:"d"}get displayFormat(){return this.options.format?"string"==typeof this.options.format?this.options.format:this.options.format.displayFormat:"d"}get selection(){let i={start:0,end:0};return null!==this.element&&void 0!==this.element.selectionStart&&(i={start:this.element.selectionStart,end:this.element.selectionEnd}),i}setSelection(i){this.element&&document.activeElement===this.element&&(this.element.setSelectionRange(i.start,i.end),i.start!==i.end&&(this.interactionMode=nc.Selection))}selectionBySymbol(i){let e=-1,n=0;for(let o=0;o<this.currentFormat.length;o++)this.currentFormat[o]===i&&(n=o+1,-1===e&&(e=o));return e<0&&(e=0),!this.options.autoCorrectParts&&this.currentFormat.length!==this.currentText.length&&(this.currentFormat.length<this.currentText.length?n+=this.currentText.length-this.currentFormat.length:n=Math.max(0,n-(this.currentFormat.length-this.currentText.length))),{start:e,end:n}}selectionByIndex(i){let e={start:i,end:i};for(let n=i,o=i-1;n<this.currentFormat.length||o>=0;n++,o--){if(n<this.currentFormat.length&&"_"!==this.currentFormat[n]){e=this.selectionBySymbol(this.currentFormat[n]);break}if(o>=0&&"_"!==this.currentFormat[o]){e=this.selectionBySymbol(this.currentFormat[o]);break}}return e}switchDateSegment(i){const e=this.selection;if(this.isInCaretMode()){let c=e.start;const u=this.currentFormat[c-1];let f="",_="";if(i<0){for(let g=c+i;g>=0;g--)if(_=this.currentFormat[g],"_"!==_&&_!==u){c=g,f=_;break}}else for(let g=c+i;g<this.currentFormat.length;g++)if(_=this.currentFormat[g],"_"!==_&&_!==u){c=g,f=_;break}if(f)return this.forceUpdate(),this.setSelection(this.selectionBySymbol(f)),void(this.interactionMode=nc.Selection)}this.interactionMode=nc.None;let{start:n,end:o}=this.selection;if(n<o&&this.currentFormat[n]!==this.currentFormat[o-1])return this.setSelection(this.selectionByIndex(i>0?n:o-1)),this.resetSegmentValue=!0,void(this.interactionMode=nc.None);const r=this.currentFormat[n];let a=n+i;for(;a>0&&a<this.currentFormat.length&&(this.currentFormat[a]===r||"_"===this.currentFormat[a]);)a+=i;if("_"===this.currentFormat[a])return;let l=a;for(;l>=0&&l<this.currentFormat.length&&this.currentFormat[l]===this.currentFormat[a];)l+=i;a>l&&(l+1!==n||a+1!==o)?(this.setSelection({start:l+1,end:a+1}),this.resetSegmentValue=!0):a<l&&(a!==n||l!==o)&&(this.setSelection({start:a,end:l}),this.resetSegmentValue=!0),this.interactionMode=nc.None}modifyDateSegmentValue(i,e="",n={}){if(!this.dateObject||this.options.readonly)return;const o=this.value;let r=1;const a=this.caret();if("S"===(e=e||this.currentFormat[a[0]])&&(!this.options.steps.millisecond||1===this.options.steps.millisecond)){const l=(s=>{const i=s&&s.match(/S+(\1)/);return i?i[0].length:0})(this.inputFormat);r=(s=>Math.pow(10,3-s))(l)}this.dateObject.modifyPart(e,r*i),this.tryTriggerValueChange({oldValue:o,event:n}),this.forceUpdate(),this.setSelection(this.selectionBySymbol(e))}tryTriggerValueChange(i={oldValue:null,event:{}}){if(!ls(this.value,i.oldValue))return this.triggerValueChange(i)}triggerValueChange(i={oldValue:null,event:{}}){return this.trigger(KCe,Ks(i,{value:this.value}))}triggerInput(i={event:{}}){return this.trigger(U5,Ks(i,{value:this.value}))}triggerInputEnd(i={event:{},error:null}){return this.trigger("inputEnd",Ks(i,{value:this.value}))}triggerFocus(i={event:{}}){return this.trigger(V5,Ks({},i))}triggerFocusEnd(i={event:{}}){return this.trigger("focusEnd",Ks({},i))}triggerBlur(i={event:{}}){return this.trigger(z5,Ks({},i))}triggerBlurEnd(i={event:{}}){return this.trigger("blurEnd",Ks({},i))}triggerChange(i={event:{}}){return this.trigger(H5,Ks(i,{value:this.value}))}triggerKeyDown(i={event:{}}){return this.trigger(B5,Ks({},i))}triggerMouseWheel(i={event:{}}){return this.trigger(j5,Ks({},i))}forceUpdate(){this.setTextAndFormat(),this.refreshElementValue()}forceUpdateWithSelection(){const{start:i,end:e}=this.selection,n=this.elementValue.length;this.forceUpdate();const o=this.elementValue.length-n;this.setSelection({start:i+o,end:e+o})}setTextAndFormat(){const{text:i,format:e}=this.dateObject.getTextAndFormat();this.currentFormat=e,this.currentText=i}setElementValue(i){this.element.value=i}getStepFromSymbol(i){switch(i){case"S":return Number(this.options.steps.millisecond);case"s":return Number(this.options.steps.second);case"m":return Number(this.options.steps.minute);case"h":case"H":return Number(this.options.steps.hour);case"M":return Number(this.options.steps.month);case"d":case"E":return Number(this.options.steps.day);case"y":return Number(this.options.steps.year);default:return 1}}restorePreviousInputEventState(){this.restorePreviousElementValue(),this.restorePreviousElementSelection()}restorePreviousElementValue(){this.setElementValue(this.previousElementValue||"")}restorePreviousElementSelection(){const{start:i,end:e}=this.previousElementSelection;this.setSelection({start:i||0,end:e||0})}writeValue(i){this.verifyValue(i),this.dateObject=this.getDateObject(i),this.refreshElementValue()}verifyValue(i){if(i&&!Vv(i))throw new Error("The 'value' should be a valid JavaScript Date instance.")}refreshElementValue(){const i=this.element,e=this.isActive?this.inputFormat:this.displayFormat,{text:n,format:o}=this.dateObject.getTextAndFormat(e);this.currentFormat=o,this.currentText=n;const r=this.options.hasPlaceholder||oo(this.options.placeholder),a=!this.isActive&&r&&!this.dateObject.hasValue();r&&oo(this.options.placeholder)&&(i.placeholder=this.options.placeholder);const l=a?"":n;this.previousElementValue=this.elementValue,this.setElementValue(l)}caret(i,e=i){const n=void 0!==i;let o=[i,i];const r=this.element;if(!n||!this.options.disabled&&!this.options.readonly){try{void 0!==r.selectionStart&&(n&&(!!document&&document.activeElement!==r&&r.focus(),r.setSelectionRange(i,e)),o=[r.selectionStart,r.selectionEnd])}catch{o=[]}return o}}selectNearestSegment(i){for(let e=i,n=i-1;e<this.currentFormat.length||n>=0;e++,n--){if(e<this.currentFormat.length&&"_"!==this.currentFormat[e])return void this.selectDateSegment(this.currentFormat[e]);if(n>=0&&"_"!==this.currentFormat[n])return void this.selectDateSegment(this.currentFormat[n])}}selectDateSegment(i){let e=-1,n=0;for(let o=0;o<this.currentFormat.length;o++)this.currentFormat[o]===i&&(n=o+1,-1===e&&(e=o));e<0&&(e=0),this.caret(0,0),this.caret(e,n)}getDateObject(i){const{leadingZero:e}=this.dateObject||{};this.options.value=i;const n=this.createDateObject();return n.setLeadingZero(this.isActive?e:null),n}createDateObject(){const i=this.getDateObjectOptions();return new ert(Ks({},i))}getDateObjectOptions(){return{intlService:this.options.intlService,formatPlaceholder:this.options.formatPlaceholder?this.options.formatPlaceholder:"formatPattern",format:this.inputFormat,cycleTime:this.options.cycleTime,twoDigitYearMax:this.options.twoDigitYearMax,autoCorrectParts:this.options.autoCorrectParts,value:this.options.value}}keyEventMatchesAutoSwitchKeys(i){const e=(this.options.autoSwitchKeys||[]).map(n=>n.toString().toLowerCase().trim());return e.indexOf(i.keyCode.toString())>=0||e.indexOf(i.keyCode)>=0||e.indexOf(i.key.toLowerCase().trim())>=0}autoFill(){let n,o,r,a,l,c,i=this.dateObject,e=new Date;(i.date||i.month||i.year||i.hours||i.minutes||i.seconds)&&(r=i.year?i.value.getFullYear():e.getFullYear(),o=i.month?i.value.getMonth():e.getMonth(),n=i.date?i.value.getDate():e.getDate(),a=i.hours?i.value.getHours():e.getHours(),l=i.minutes?i.value.getMinutes():e.getMinutes(),c=i.seconds?i.value.getSeconds():e.getSeconds(),i.setValue(new Date(r,o,n,a,l,c)),this.refreshElementValue(),this.triggerValueChange())}}const srt=["kendoCalendarView",""],U0=s=>({click:s}),ZCe=(s,i)=>({$implicit:s,cellContext:i});function ort(s,i){1&s&&(t.j41(0,"td",3),t.EFF(1,"\xa0"),t.k0s())}function rrt(s,i){if(1&s&&(t.j41(0,"tr",4)(1,"th",5),t.EFF(2),t.k0s()()),2&s){const e=t.XpG();t.BMQ("aria-hidden",e.ariaHidden),t.R7$(),t.Y8G("colSpan",e.colSpan),t.R7$(),t.JRh(e.title)}}function art(s,i){if(1&s&&t.EFF(0),2&s){const e=t.XpG(3).$implicit,n=t.XpG();t.SpI(" ",n.getWeekNumber(n.firstDate(e))," ")}}function lrt(s,i){}function crt(s,i){if(1&s&&(t.j41(0,"td",9),t.DNE(1,art,1,1,"ng-template",6)(2,lrt,0,0,"ng-template",10),t.k0s()),2&s){const e=t.XpG(2).$implicit,n=t.XpG();t.Y8G("kendoEventsOutsideAngular",t.eq3(5,U0,n.handleWeekNumberClick.bind(n,e))),t.R7$(),t.Y8G("ngIf",!n.weekNumberTemplateRef),t.R7$(),t.Y8G("ngIf",n.weekNumberTemplateRef)("ngTemplateOutlet",n.weekNumberTemplateRef)("ngTemplateOutletContext",t.l_i(7,ZCe,n.firstDate(e),n.getWeekNumberContext(e)))}}function drt(s,i){if(1&s&&t.DNE(0,crt,3,10,"td",8),2&s){const e=t.XpG().$implicit,n=t.XpG(),o=t.sdS(1);t.Y8G("ngIf",n.firstDate(e))("ngIfElse",o)}}function urt(s,i){if(1&s&&t.EFF(0),2&s){const e=t.XpG(2).$implicit;t.JRh(e.formattedValue)}}function hrt(s,i){}function prt(s,i){if(1&s&&t.DNE(0,hrt,0,0,"ng-template",15),2&s){const e=t.XpG(2).$implicit,n=t.XpG(2);t.Y8G("ngTemplateOutlet",n.templateRef)("ngTemplateOutletContext",t.l_i(2,ZCe,e.value,e))}}function frt(s,i){if(1&s&&(t.j41(0,"td",12)(1,"span",13),t.DNE(2,urt,1,1,"ng-template",6)(3,prt,1,5,null,14),t.k0s()()),2&s){const e=t.XpG(),n=e.$implicit,o=e.index,r=t.XpG().index,a=t.XpG();t.Y8G("ngClass",a.getStyles(n))("title",n.title),t.BMQ("id",n.id)("data-cell-index",a.tableCellIndex(r,o))("aria-selected",n.isSelected||n.isRangeStart||n.isRangeMid||n.isRangeEnd)("aria-disabled",n.isDisabled)("aria-label",a.getMonthLabel(n.value)),t.R7$(2),t.Y8G("ngIf",!a.templateRef),t.R7$(),t.Y8G("ngIf",a.templateRef)}}function mrt(s,i){if(1&s&&(t.qex(0),t.DNE(1,frt,4,9,"td",11),t.bVm()),2&s){const e=i.$implicit,n=t.XpG(2),o=t.sdS(1);t.R7$(),t.Y8G("ngIf",n.shouldRenderCellContent(e))("ngIfElse",o)}}function _rt(s,i){if(1&s&&(t.j41(0,"tr",4),t.DNE(1,drt,1,2,"ng-template",6)(2,mrt,2,2,"ng-container",7),t.k0s()),2&s){const e=i.$implicit,n=t.XpG();t.R7$(),t.Y8G("ngIf",n.weekNumber),t.R7$(),t.Y8G("kForOf",e)}}const e0e=s=>({date:s,className:"k-pointer-events-none"}),grt=s=>({date:s});function vrt(s,i){if(1&s&&(t.j41(0,"caption",7),t.EFF(1),t.k0s()),2&s){const e=t.XpG().date,n=t.XpG();t.Y8G("ngClass",n.getCaptionClass()),t.R7$(),t.JRh(n.getCaptionTitle(e))}}function Srt(s,i){if(1&s&&(t.j41(0,"th",11),t.EFF(1),t.k0s()),2&s){const e=i.$implicit,n=i.index,o=t.XpG(3);t.BMQ("aria-label",o.wideWeekNames[n]),t.R7$(),t.JRh(e)}}function Crt(s,i){if(1&s&&(t.j41(0,"thead",8)(1,"tr",9),t.DNE(2,Srt,2,2,"th",10),t.k0s()()),2&s){const e=t.XpG(2);t.R7$(2),t.Y8G("ngForOf",e.weekNames)}}function brt(s,i){if(1&s){const e=t.RV6();t.j41(0,"table",3),t.bIt("focus",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.handleClassicCalendarFocus())})("blur",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleClassicCalendarBlur(o))}),t.DNE(1,vrt,2,2,"caption",4)(2,Crt,3,1,"thead",5),t.j41(3,"tbody",6),t.bIt("cellClick",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.cellClick.emit(o))})("weekNumberCellClick",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.weekNumberCellClick.emit(o))})("cellEnter",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.cellEnter.emit(o))})("cellLeave",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.cellLeave.emit(o))})("focusedCellId",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.focusedCellChange.emit(o))}),t.k0s()()}if(2&s){const e=i.date,n=i.className,o=t.XpG();t.Y8G("ngClass",n),t.BMQ("role",o.views>=2?"none":"grid")("aria-labelledby",o.id)("aria-activedescendant",o.getActiveDescendant)("tabindex",o.getTabIndex),t.R7$(),t.Y8G("ngIf",o.showViewHeader),t.R7$(),t.Y8G("ngIf",o.isMonthView()),t.R7$(),t.Y8G("showOtherMonthDays",o.showOtherMonthDays)("activeView",o.activeView)("isActive",o.isActive)("min",o.min)("max",o.max)("cellUID",o.cellUID)("focusedDate",o.focusedDate)("selectedDates",o.selectedDates)("selectionRange",o.selectionRange)("activeRangeEnd",o.activeRangeEnd)("weekNumber",o.weekNumber)("templateRef",o.cellTemplateRef)("weekNumberTemplateRef",o.weekNumberTemplateRef)("viewDate",e)}}function Ert(s,i){}function yrt(s,i){if(1&s&&t.DNE(0,Ert,0,0,"ng-template",12),2&s){const e=t.XpG(),n=t.sdS(1);t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(2,e0e,e.nextAnimationDate))}}function krt(s,i){}function wrt(s,i){if(1&s&&t.DNE(0,krt,0,0,"ng-template",12),2&s){const e=i.$implicit;t.XpG();const n=t.sdS(1);t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(2,grt,e))}}function Drt(s,i){}function Ort(s,i){if(1&s&&t.DNE(0,Drt,0,0,"ng-template",12),2&s){const e=t.XpG(),n=t.sdS(1);t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(2,e0e,e.prevAnimationDate))}}const t0e=(s,i,e)=>({$implicit:s,activeView:i,date:e});function Trt(s,i){if(1&s&&t.EFF(0),2&s){const e=t.XpG();t.JRh(e.title)}}function Mrt(s,i){}function Irt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.prevButtonClick.emit())}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("svgIcon",e.chevronLeftIcon)("disabled",e.isPrevDisabled)("title",e.prevButtonTitle),t.BMQ("aria-disabled",e.isPrevDisabled)}}function xrt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",9),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.nextButtonClick.emit())}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("svgIcon",e.chevronRightIcon)("disabled",e.isNextDisabled)("title",e.nextButtonTitle),t.BMQ("aria-disabled",e.isNextDisabled)}}function Art(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-calendar-header",3),t.bIt("todayButtonClick",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleTodayButtonClick({selectedDates:[o],focusedDate:o}))})("prevButtonClick",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.navigateView(o.prevView))})("nextButtonClick",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.navigateView(o.nextView))}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("activeView",e.activeViewEnum)("currentDate",e.activeDate)("min",e.min)("max",e.max)("id",e.headerId)("rangeLength",e.views)("templateRef",null==e.headerTitleTemplateRef?null:e.headerTitleTemplateRef.templateRef)("isPrevDisabled",e.isPrevDisabled)("isNextDisabled",e.isNextDisabled)("showNavigationButtons",!0)("orientation",e.orientation)}}const n0e=["*"],i0e=["list"];function Rrt(s,i){if(1&s&&t.EFF(0),2&s){const e=t.XpG().$implicit,n=t.XpG();t.JRh(n.service.navigationTitle(e))}}function Nrt(s,i){}function Lrt(s,i){if(1&s&&(t.j41(0,"li")(1,"span"),t.DNE(2,Rrt,1,1,"ng-template",5)(3,Nrt,0,0,"ng-template",6),t.k0s()()),2&s){const e=i.$implicit,n=i.index,o=t.XpG();t.BMQ("data-date-index",n),t.R7$(),t.AVh("k-calendar-navigation-marker",o.service.isRangeStart(e)),t.R7$(),t.Y8G("ngIf",!o.templateRef),t.R7$(),t.Y8G("ngIf",o.templateRef)("ngTemplateOutlet",o.templateRef)("ngTemplateOutletContext",t.sMw(7,t0e,o.service.navigationTitle(e),o.activeViewValue,e))}}function Grt(s,i){if(1&s&&(t.j41(0,"th",11),t.EFF(1),t.k0s()),2&s){const e=i.$implicit,n=i.index,o=t.XpG(2);t.BMQ("aria-label",o.wideWeekNames[n]),t.R7$(),t.JRh(e)}}function Prt(s,i){if(1&s&&(t.j41(0,"table",7)(1,"thead",8)(2,"tr",9),t.DNE(3,Grt,2,2,"th",10),t.k0s()()()),2&s){const e=t.XpG();t.xc7("table-layout","auto"),t.R7$(3),t.Y8G("ngForOf",e.weekNames)}}function Frt(s,i){1&s&&t.nrm(0,"col")}function Urt(s,i){if(1&s){const e=t.RV6();t.j41(0,"tbody",12),t.bIt("cellClick",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.cellClick.emit(o))})("weekNumberCellClick",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.weekNumberCellClick.emit(o))})("focusedCellId",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.focusedCellChange.emit(o))}),t.k0s()}if(2&s){const e=i.$implicit,n=t.XpG();t.Y8G("showOtherMonthDays",n.showOtherMonthDays)("headerTitle",n.headerTitle)("activeView",n.activeView)("isActive",n.isActive)("min",n.min)("max",n.max)("cellUID",n.cellUID)("focusedDate",n.focusedDate)("selectedDates",n.selectedDates)("weekNumber",n.weekNumber)("templateRef",n.cellTemplateRef)("weekNumberTemplateRef",n.weekNumberTemplateRef)("viewDate",e)}}function Brt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-calendar-navigation",6),t.bIt("valueChange",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.handleNavigation(o))})("pageChange",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.onPageChange())}),t.k0s()}if(2&s){const e=t.XpG(2);t.Y8G("activeView",e.activeViewEnum)("focusedDate",e.focusedDate)("min",e.min)("max",e.max)("templateRef",null==e.navigationItemTemplateRef?null:e.navigationItemTemplateRef.templateRef)}}function Vrt(s,i){if(1&s){const e=t.RV6();t.qex(0),t.DNE(1,Brt,1,5,"kendo-calendar-navigation",3),t.j41(2,"kendo-calendar-viewlist",4),t.bIt("todayButtonClick",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleDateChange({selectedDates:[o],focusedDate:o}))})("cellClick",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleCellClick(o))})("weekNumberCellClick",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleWeekNumberClick(o))})("activeDateChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleActiveDateChange(o))})("pageChange",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onPageChange())})("focusCalendar",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.handleFocus())})("blurCalendar",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleBlur(o))}),t.k0s(),t.j41(3,"kendo-resize-sensor",5),t.bIt("resize",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onResize())}),t.k0s(),t.bVm()}if(2&s){let e;const n=t.XpG();t.R7$(),t.Y8G("ngIf",n.navigation),t.R7$(),t.Y8G("activeView",n.activeViewEnum)("showOtherMonthDays",n.showOtherMonthDays)("isActive",n.isActive)("id",n.headerId)("cellTemplateRef",null==(e=n.activeCellTemplate())?null:e.templateRef)("headerTitleTemplateRef",null==n.headerTitleTemplateRef?null:n.headerTitleTemplateRef.templateRef)("weekNumberTemplateRef",null==n.weekNumberTemplateRef?null:n.weekNumberTemplateRef.templateRef)("cellUID",n.cellUID)("min",n.min)("max",n.max)("focusedDate",n.focusedDate)("weekNumber",n.weekNumber)("selectedDates",n.selectedDates)("tabIndex",n.tabIndex)("disabled",n.disabled)}}function zrt(s,i){if(1&s){const e=t.RV6();t.qex(0),t.j41(1,"kendo-multiviewcalendar",7,0),t.bIt("activeViewChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleActiveViewChange(o))})("navigate",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleNavigate(o))})("valueChange",function(o){t.eBV(e);const r=t.sdS(2),a=t.XpG();return t.Njj(a.handleMultiViewCalendarValueChange(o,r.focusedDate))})("focusCalendar",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.handleFocus())})("blur",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleBlur(o))})("blurEvent",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleBlur(o))})("keydown",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleMultiViewCalendarKeydown(o))}),t.nrm(3,"kendo-multiviewcalendar-messages",8),t.k0s(),t.bVm()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("views",1)("min",e.min)("max",e.max)("id",e.id)("disabled",e.disabled)("isActive",e.isActive)("showOtherMonthDays",e.showOtherMonthDays)("tabIndex",e.tabIndex)("activeView",e.activeView)("bottomView",e.bottomView)("topView",e.topView)("weekNumber",e.weekNumber)("animateNavigation",e.animateNavigation)("cellTemplate",e.activeCellTemplate())("monthCellTemplate",e.monthCellTemplateRef)("yearCellTemplate",e.yearCellTemplateRef)("decadeCellTemplate",e.decadeCellTemplateRef)("centuryCellTemplate",e.centuryCellTemplateRef)("headerTitleTemplate",e.headerTitleTemplateRef)("weekNumberTemplate",e.weekNumberTemplateRef)("focusedDate",e.focusedDate)("selection",e.selection)("value",e.value)("disabledDates",e.disabledDates),t.R7$(2),t.Y8G("today",e.localization.get("today"))("prevButtonTitle",e.localization.get("prevButtonTitle"))("nextButtonTitle",e.localization.get("nextButtonTitle"))("parentViewButtonTitle",e.localization.get("parentViewButtonTitle"))}}const jrt=["dateInput"],Hrt=["spinup"],$rt=["spindown"],Xrt=(s,i)=>({dragstart:s,drop:i});function Wrt(s,i){if(1&s){const e=t.RV6();t.j41(0,"span",6),t.bIt("mousedown",function(o){return t.eBV(e),t.Njj(o.preventDefault())}),t.j41(1,"button",7,1),t.bIt("mousedown",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.arrowDirection=o.arrow.Up)})("mouseleave",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.arrowDirection=o.arrow.None)})("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.handleButtonClick(1))}),t.nrm(3,"kendo-icon-wrapper",8),t.k0s(),t.j41(4,"button",9,2),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.handleButtonClick(-1))})("mousedown",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.arrowDirection=o.arrow.Down)})("mouseleave",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.arrowDirection=o.arrow.None)}),t.nrm(6,"kendo-icon-wrapper",10),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(),t.AVh("k-active",e.arrowDirection===e.arrow.Up),t.Y8G("title",e.localization.get("increment")),t.BMQ("aria-label",e.localization.get("increment")),t.R7$(2),t.Y8G("svgIcon",e.caretAltUpIcon),t.R7$(),t.AVh("k-active",e.arrowDirection===e.arrow.Down),t.Y8G("title",e.localization.get("decrement")),t.BMQ("aria-label",e.localization.get("decrement")),t.R7$(2),t.Y8G("svgIcon",e.caretAltDownIcon)}}const $5=["container"],aZ=["popupTemplate"],lZ=["toggleButton"],X5=["actionSheet"],s0e=(s,i)=>({click:s,mousedown:i}),o0e=s=>({keydown:s});function Yrt(s,i){1&s&&t.eu8(0)}function Krt(s,i){if(1&s&&t.DNE(0,Yrt,1,0,"ng-container",14),2&s){t.XpG();const e=t.sdS(15);t.Y8G("ngTemplateOutlet",e)}}function Jrt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-resize-sensor",15),t.bIt("resize",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onResize())}),t.k0s()}}function qrt(s,i){1&s&&t.eu8(0)}function Qrt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",16)(1,"div",17)(2,"div",18)(3,"div",19),t.EFF(4),t.k0s(),t.j41(5,"div",20),t.EFF(6),t.k0s()(),t.j41(7,"div",21)(8,"button",22),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.show=!1)}),t.k0s()()()(),t.j41(9,"div",23),t.DNE(10,qrt,1,0,"ng-container",14),t.k0s()}if(2&s){const e=t.XpG(),n=t.sdS(15);t.R7$(4),t.JRh(e.title),t.R7$(2),t.JRh(e.subtitle),t.R7$(2),t.Y8G("svgIcon",e.xIcon)("tabIndex",-1),t.BMQ("title",e.localization.get("clearTitle")),t.R7$(2),t.Y8G("ngTemplateOutlet",n)}}function Zrt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-calendar",24,6),t.bIt("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleChange(r.mergeTime(o)))}),t.nrm(2,"kendo-calendar-messages",25),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("size",e.isAdaptive?"large":"medium")("type",e.calendarType)("min",e.min)("max",e.max)("navigation",e.navigation)("animateNavigation",e.animateCalendarNavigation)("activeView",e.activeView)("bottomView",e.bottomView)("showOtherMonthDays",e.showOtherMonthDays)("topView",e.topView)("weekNumber",e.weekNumber)("cellTemplate",e.cellTemplate)("monthCellTemplate",e.monthCellTemplate)("yearCellTemplate",e.yearCellTemplate)("decadeCellTemplate",e.decadeCellTemplate)("centuryCellTemplate",e.centuryCellTemplate)("weekNumberTemplate",e.weekNumberTemplate)("headerTitleTemplate",e.headerTitleTemplate)("navigationItemTemplate",e.navigationItemTemplate)("focusedDate",e.focusedDate)("value",e.value)("kendoEventsOutsideAngular",t.eq3(28,o0e,e.handleKeydown))("scope",e)("disabledDates",e.disabledDates),t.R7$(2),t.Y8G("today",e.localization.get("today"))("prevButtonTitle",e.localization.get("prevButtonTitle"))("nextButtonTitle",e.localization.get("nextButtonTitle"))("parentViewButtonTitle",e.localization.get("parentViewButtonTitle"))}}function eat(s,i){if(1&s&&(t.j41(0,"li",3)(1,"span"),t.EFF(2),t.k0s()()),2&s){const e=i.$implicit,n=i.index,o=t.XpG();t.BMQ("data-timelist-item-index",n)("role","option")("aria-selected",n===o.currentSelectedIndex),t.R7$(2),t.JRh(e.text)}}const tat=["accept"],nat=["cancel"],iat=["now"],sat=["listWrapper"],r0e=(s,i,e)=>({click:s,focus:i,blur:e}),oat=(s,i)=>({focus:s,blur:i}),rat=(s,i,e,n)=>({click:s,focus:i,blur:e,keydown:n});function aat(s,i){if(1&s&&(t.j41(0,"button",12,0),t.EFF(2),t.k0s()),2&s){const e=t.XpG();t.Y8G("kendoEventsOutsideAngular",t.sMw(6,r0e,e.handleNow,e.handleFocus,e.handleBlur))("scope",e)("disabled",e.disabled),t.BMQ("title",e.localization.get("nowLabel"))("aria-label",e.localization.get("nowLabel")),t.R7$(2),t.JRh(e.localization.get("now"))}}function lat(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",15,1)(2,"span",6),t.EFF(3),t.k0s(),t.j41(4,"kendo-timelist",16),t.mxI("valueChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.current,o)||(r.current=o),t.Njj(o)}),t.bIt("tabOutLastPart",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.tabOutLastPart.emit())}),t.k0s()()}if(2&s){const e=t.XpG(),n=e.$implicit,o=e.index,r=t.XpG();t.R7$(3),t.JRh(r.intl.dateFieldName(n)),t.R7$(),t.Y8G("isLast",o===r.dateFormatParts.length-1)("min",r.min)("max",r.max)("part",n)("step",r.partStep(n))("disabled",r.disabled),t.R50("value",r.current),t.Y8G("kendoEventsOutsideAngular",t.l_i(11,oat,r.handleListFocus,r.handleBlur))("scope",r),t.BMQ("data-timelist-index",o)}}function cat(s,i){if(1&s&&(t.j41(0,"div",17),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.pattern," ")}}function dat(s,i){if(1&s&&t.DNE(0,lat,5,14,"div",13)(1,cat,2,1,"div",14),2&s){const e=i.$implicit;t.Y8G("ngIf","literal"!==e.type),t.R7$(),t.Y8G("ngIf","literal"===e.type)}}function uat(s,i){if(1&s&&(t.j41(0,"button",21,2),t.EFF(2),t.k0s()),2&s){const e=t.XpG(2);t.Y8G("kendoEventsOutsideAngular",t.ziG(6,rat,e.handleAccept,e.handleFocus,e.handleBlur,e.handleTabOut))("scope",e)("disabled",e.disabled),t.BMQ("title",e.localization.get("acceptLabel"))("aria-label",e.localization.get("acceptLabel")),t.R7$(2),t.JRh(e.localization.get("accept"))}}function hat(s,i){if(1&s&&(t.j41(0,"button",22,3),t.EFF(2),t.k0s()),2&s){const e=t.XpG(2);t.Y8G("kendoEventsOutsideAngular",t.sMw(6,r0e,e.handleReject,e.handleFocus,e.handleBlur))("scope",e)("disabled",e.disabled),t.BMQ("title",e.localization.get("cancelLabel"))("aria-label",e.localization.get("cancelLabel")),t.R7$(2),t.JRh(e.localization.get("cancel"))}}function pat(s,i){if(1&s&&(t.j41(0,"div",18),t.DNE(1,uat,3,11,"button",19)(2,hat,3,10,"button",20),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.setButton),t.R7$(),t.Y8G("ngIf",e.cancelButton)}}const bat=(s,i)=>({mousedown:s,click:i}),Eat=(s,i)=>({mousedown:s,keydown:i}),a0e=(s,i)=>({focusin:s,focusout:i}),yat=(s,i)=>({click:s,"keydown.shift.tab":i}),kat=s=>({transitionend:s}),wat=s=>({"k-calendar-lg":s}),Dat=s=>({"k-timeselector-lg":s}),l0e=(s,i)=>({click:s,"keydown.tab":i});function Oat(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",15),2&s){const e=t.XpG();t.Y8G("svgIcon",e.calendarIcon)}}function Tat(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",16),2&s){const e=t.XpG();t.Y8G("svgIcon",e.clockIcon)}}function Mat(s,i){1&s&&t.eu8(0)}function Iat(s,i){if(1&s&&t.DNE(0,Mat,1,0,"ng-container",17),2&s){t.XpG();const e=t.sdS(15);t.Y8G("ngTemplateOutlet",e)}}function xat(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-resize-sensor",18),t.bIt("resize",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onResize())}),t.k0s()}}function Aat(s,i){1&s&&t.eu8(0)}function Rat(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22),t.EFF(4),t.k0s(),t.j41(5,"div",23),t.EFF(6),t.k0s()(),t.j41(7,"div",24)(8,"button",25),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.toggleDateTime(!1))}),t.k0s()()()(),t.j41(9,"div",26),t.DNE(10,Aat,1,0,"ng-container",17),t.k0s(),t.j41(11,"div",27)(12,"button",28),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.handleCancel())}),t.EFF(13),t.k0s(),t.j41(14,"button",29),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.handleAccept())}),t.EFF(15),t.k0s()()}if(2&s){const e=t.XpG(),n=t.sdS(15);t.R7$(4),t.JRh(e.title),t.R7$(2),t.JRh(e.subtitle),t.R7$(2),t.Y8G("svgIcon",e.xIcon)("tabIndex",-1),t.BMQ("title",e.localization.get("clearTitle")),t.R7$(2),t.Y8G("ngTemplateOutlet",n),t.R7$(2),t.BMQ("title",e.localization.get("cancelLabel"))("aria-label",e.localization.get("cancelLabel")),t.R7$(),t.SpI(" ",e.localization.get("cancel")," "),t.R7$(),t.BMQ("title",e.localization.get("acceptLabel"))("aria-label",e.localization.get("acceptLabel")),t.R7$(),t.SpI(" ",e.localization.get("accept")," ")}}function Nat(s,i){if(1&s&&(t.j41(0,"button",46),t.EFF(1),t.k0s()),2&s){const e=t.XpG(3);t.Y8G("ngClass",e.popupButtonsClasses())("kendoEventsOutsideAngular",t.l_i(6,l0e,e.handleCancel,e.handleTab))("scope",e),t.BMQ("title",e.localization.get("cancelLabel"))("aria-label",e.localization.get("cancelLabel")),t.R7$(),t.SpI(" ",e.localization.get("cancel")," ")}}function Lat(s,i){if(1&s&&(t.j41(0,"div",43)(1,"button",44),t.EFF(2),t.k0s(),t.DNE(3,Nat,2,9,"button",45),t.k0s()),2&s){const e=t.XpG(2);t.Y8G("kendoEventsOutsideAngular",t.l_i(10,a0e,e.handleFocus,e.handleBlur))("scope",e),t.R7$(),t.Y8G("ngClass",e.popupButtonsClasses("primary"))("disabled",!e.calendarValue)("kendoEventsOutsideAngular",t.l_i(13,l0e,e.handleAccept,e.handleTab))("scope",e),t.BMQ("title",e.localization.get("acceptLabel"))("aria-label",e.localization.get("acceptLabel")),t.R7$(),t.SpI(" ",e.localization.get("accept")," "),t.R7$(),t.Y8G("ngIf",e.cancelButton)}}function Gat(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",30)(1,"div",31)(2,"div",32)(3,"button",33),t.EFF(4),t.k0s(),t.j41(5,"button",34),t.EFF(6),t.k0s()()(),t.j41(7,"div",35,5)(9,"div",36)(10,"kendo-calendar",37,6),t.mxI("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.calendarValue,o)||(r.calendarValue=o),t.Njj(o)}),t.bIt("valueChange",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.handleCalendarValueChange())}),t.nrm(12,"kendo-calendar-messages",38),t.k0s()(),t.j41(13,"div",39)(14,"kendo-timeselector",40),t.bIt("tabOutLastPart",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onTabOutLastPart())}),t.nrm(15,"kendo-timeselector-messages",41),t.k0s()()(),t.DNE(16,Lat,4,16,"div",42),t.k0s()}if(2&s){const e=t.sdS(8),n=t.XpG();t.ZvI("k-datetime-wrap k-",n.activeTab,"-tab"),t.Y8G("kendoEventsOutsideAngular",t.l_i(73,Eat,n.preventMouseDown,n.handleKeyDown))("scope",n),t.R7$(),t.Y8G("kendoEventsOutsideAngular",t.l_i(76,a0e,n.handleFocus,n.handleBlur))("scope",n),t.R7$(2),t.AVh("k-active","date"===n.activeTab),t.Y8G("ngClass",n.popupButtonsClasses())("kendoEventsOutsideAngular",t.l_i(79,yat,n.changeActiveTab.bind(n,"date"),n.handleTab))("scope",n),t.BMQ("aria-pressed","date"===n.activeTab?"true":"false")("title",n.localization.get("dateTabLabel"))("aria-label",n.localization.get("dateTabLabel")),t.R7$(),t.SpI(" ",n.localization.get("dateTab")," "),t.R7$(),t.AVh("k-active","time"===n.activeTab),t.Y8G("ngClass",n.popupButtonsClasses())("kendoEventsOutsideAngular",t.eq3(82,U0,n.changeActiveTab.bind(n,"time"))),t.BMQ("aria-pressed","time"===n.activeTab?"true":"false")("title",n.localization.get("timeTabLabel"))("aria-label",n.localization.get("timeTabLabel")),t.R7$(),t.SpI(" ",n.localization.get("timeTab")," "),t.R7$(),t.xc7("transition",n.tabSwitchTransition),t.Y8G("kendoEventsOutsideAngular",t.eq3(84,kat,n.handleTabChangeTransitionEnd.bind(n,e))),t.R7$(3),t.Y8G("ngClass",t.eq3(86,wat,n.isAdaptive))("focusedDate",n.focusedDate),t.R50("value",n.calendarValue),t.Y8G("type",n.calendarType)("min",n.calendarMin)("max",n.calendarMax)("weekNumber",n.weekNumber)("navigation",!1)("animateNavigation",n.animateCalendarNavigation)("showOtherMonthDays",n.showOtherMonthDays)("cellTemplate",n.cellTemplate)("monthCellTemplate",n.monthCellTemplate)("yearCellTemplate",n.yearCellTemplate)("decadeCellTemplate",n.decadeCellTemplate)("centuryCellTemplate",n.centuryCellTemplate)("weekNumberTemplate",n.weekNumberTemplate)("headerTitleTemplate",n.headerTitleTemplate)("disabled",n.disableCalendar)("disabledDates",n.disabledDates),t.R7$(2),t.Y8G("today",n.localization.get("today"))("prevButtonTitle",n.localization.get("prevButtonTitle"))("nextButtonTitle",n.localization.get("nextButtonTitle"))("parentViewButtonTitle",n.localization.get("parentViewButtonTitle")),t.R7$(2),t.Y8G("ngClass",t.eq3(88,Dat,n.isAdaptive))("value",n.value)("format",n.timeSelectorFormat)("min",n.timeSelectorMin)("max",n.timeSelectorMax)("setButton",!1)("cancelButton",!1)("steps",n.steps)("disabled",n.disableTimeSelector)("isAdaptiveEnabled",n.isAdaptiveModeEnabled)("isDateTimePicker",!0),t.R7$(),t.Y8G("acceptLabel",n.localization.get("acceptLabel"))("accept",n.localization.get("accept"))("cancelLabel",n.localization.get("cancelLabel"))("cancel",n.localization.get("cancel"))("nowLabel",n.localization.get("nowLabel"))("now",n.localization.get("now"))("hour",n.localization.get("hour"))("minute",n.localization.get("minute"))("second",n.localization.get("second"))("millisecond",n.localization.get("millisecond"))("dayperiod",n.localization.get("dayperiod")),t.R7$(),t.Y8G("ngIf",!n.isAdaptive)}}const Tw={name:"@progress/kendo-angular-dateinputs",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925295,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};var Sn=function(s){return s[s.Left=0]="Left",s[s.Right=1]="Right",s[s.Up=2]="Up",s[s.Down=3]="Down",s[s.PrevView=4]="PrevView",s[s.NextView=5]="NextView",s[s.FirstInView=6]="FirstInView",s[s.LastInView=7]="LastInView",s[s.LowerView=8]="LowerView",s[s.UpperView=9]="UpperView",s}(Sn||{});const ic={start:null,end:null},Xf=new Date(1980,0,1),Ku=new Date(1900,0,1),Ju=new Date(2099,11,31),Mw=new Date(1980,0,1),B0=new Date(1980,0,1,23,59,59),W5=s=>s&&(!s.touched||s.control&&"blur"===s.control.updateOn),zat=s=>s.preventDefault(),cZ=s=>s.relatedTarget||document.activeElement,Ft=s=>null!=s,c0e=s=>s.shiftKey&&(s.keyCode===Px.ArrowRight||s.keyCode===Px.ArrowLeft||s.keyCode===Px.ArrowDown||s.keyCode===Px.ArrowUp);var Px=function(s){return s[s.ArrowDown=40]="ArrowDown",s[s.ArrowLeft=37]="ArrowLeft",s[s.ArrowRight=39]="ArrowRight",s[s.ArrowUp=38]="ArrowUp",s}(Px||{});const d0e=s=>null!=s,Fx=s=>(i,e)=>{const n=he(i);return n[s](e),n},sg=(s,i)=>{const e=he(s);return e.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e},u0e=s=>s.getHours()*Mx+6e4*s.getMinutes()+1e3*s.getSeconds()+s.getMilliseconds(),h0e=(s,i,e)=>({candidateValue:sg(Xf,s),maxValue:Ms(sg(Xf,e),u0e(i)<u0e(e)?0:1),minValue:sg(Xf,i)}),Y5=(Fx("setFullYear"),Fx("setHours")),K5=Fx("setMinutes"),J5=Fx("setSeconds"),q5=Fx("setMilliseconds"),gl=(s,i,e=1)=>{const n=[];for(let o=s;o<i;o+=e)n.push(o);return n},Iw=(s,i,e)=>!s||!(i&&i>s||e&&e<s),uZ=(s,i)=>!d0e(s)||!d0e(i)||s<=i,og=(s,i,e)=>s&&(i&&s<i?he(i):e&&s>e?he(e):s),hZ=()=>new Date,Bd=()=>Dn(new Date),Jt=s=>{},Q5=()=>typeof window<"u",f0e=(s,i)=>s.slice(i).concat(s.slice(0,i)),Vd=s=>(i,e="",n={})=>{const o=document.createElement(s);return o.className=e,Object.keys(n).map(r=>o.style[r]=n[r]),"string"==typeof i?o.innerHTML=i||"":(i||[]).forEach(r=>r&&o.appendChild(r)),o},rg=(s,i)=>void 0!==s[i],m0e=(s,i)=>s[i]&&null!=s[i].currentValue,zv=(s=[])=>s&&s[s.length-1],Z5=(s,i)=>{const{start:e,end:n}=i||ic;return!(!e||!n)&&e<s&&s<n},tU=(s,i)=>(s=s||[]).length===(i=i||[]).length&&s.every((e,n)=>ls(e,i[n])),g0e=s=>s.filter(i=>Ft(i)).sort((i,e)=>i.getTime()-e.getTime()),fZ=(s,i)=>s&&i?new Date(s.getFullYear(),s.getMonth(),s.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()):null,v0e=s=>s?new Date(s.getFullYear(),s.getMonth(),s.getDate(),23,59,59,999):null,ro=(s,i)=>({small:`k-${s}-sm`,medium:`k-${s}-md`,large:`k-${s}-lg`}[i]),zd=s=>({small:"k-rounded-sm",medium:"k-rounded-md",large:"k-rounded-lg",full:"k-rounded-full"}[s]),Sr=(s,i)=>({solid:`k-${s}-solid`,flat:`k-${s}-flat`,outline:`k-${s}-outline`}[i]),jv="medium",Wf="medium",Hv="solid",vl=()=>{if(ne())return window.innerWidth>768?"large":window.innerWidth>500?"medium":"small"},Jat=[[]],elt={[Sn.Left]:s=>Yu(s,-1),[Sn.Up]:s=>Yu(s,(s=>{const i=Number(s.toString().slice(-2,-1));return i<2?-2:i<4?-6:-4})(s.getFullYear())),[Sn.Right]:s=>Yu(s,1),[Sn.Down]:s=>Yu(s,(s=>{const i=Number(s.toString().slice(-2,-1));return i>7?2:i>5?6:4})(s.getFullYear())),[Sn.PrevView]:s=>xx(s,-1),[Sn.NextView]:s=>xx(s,1),[Sn.FirstInView]:s=>G0(s),[Sn.LastInView]:s=>P5(s)};let _Z=(()=>{class s{constructor(){this.dateRange=(e,n)=>{if(!Ft(e)||!Ft(n))return[];const o=[];let r=e;for(;r<=n;)o.push(r),r=Yu(r,1);return o}}addToDate(e,n){return xx(e,n)}datesList(e,n){return gl(0,n).map(o=>xx(e,o))}data(e){const{cellUID:n,focusedDate:o,isActiveView:r,max:a,min:l,selectedDates:c,selectionRange:u=ic,viewDate:f}=e;if(!f)return Jat;const _=gl(0,4),g=G0(f),S=P5(f),b=Bd();return gl(0,3).map(k=>{const D=Yu(g,4*k);return _.map(O=>{const I=this.normalize(Yu(D,O),l,a),N=I.getFullYear()>S.getFullYear();if(!this.isInRange(I,l,a)||N)return null;const P=this.isEqual(I,u.start),G=this.isEqual(I,u.end),$=!P&&!G&&Z5(I,u);return{formattedValue:this.value(I),id:`${n}${I.getTime()}`,isFocused:this.isEqual(I,o),isSelected:r&&c.some(Q=>this.isEqual(I,Q)),isWeekend:!1,isRangeStart:P,isRangeMid:$,isRangeEnd:G,isRangeSplitEnd:$&&this.isEqual(I,S),isRangeSplitStart:$&&this.isEqual(I,g),isToday:this.isEqual(I,b),title:this.cellTitle(I),value:I}})})}isEqual(e,n){return!(!e||!n)&&tc(e).getFullYear()===tc(n).getFullYear()}isInArray(e,n){if(!n.length)return!1;const o=e.getFullYear();return n[0].getFullYear()<=o&&o<=n[n.length-1].getFullYear()+99}isInRange(e,n,o){const r=tc(e).getFullYear(),a=!n||tc(n).getFullYear()<=r,l=!o||r<=tc(o).getFullYear();return a&&l}beginningOfPeriod(e){if(!e)return e;const n=tc(G0(e));return ml(n.getFullYear(),0,1)}lastDayOfPeriod(e){const n=P5(e),o=Ax(n),r=Rx(o);return sp(r)}isRangeStart(e){return e.getFullYear()%1e3==0}move(e,n){const o=elt[n];return o?o(e):e}cellTitle(e){return tc(e).getFullYear().toString()}navigationTitle(e){return e?G0(e).getFullYear().toString():""}title(e){return e?`${G0(e).getFullYear()} - ${P5(e).getFullYear()}`:""}rowLength(){return 4}skip(e,n){return MCe(n,e)}total(e,n){return MCe(e,n)+1}value(e){return e?tc(e).getFullYear().toString():""}viewDate(e,n,o=1){const r=this.total(e,n);return r<o?xx(e,-1*(o-r)):e}normalize(e,n,o){return e<n&&this.isEqual(e,n)?he(n):e>o&&this.isEqual(e,o)?he(o):e}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const tlt=[[]],olt={[Sn.Left]:s=>_l(s,-1),[Sn.Up]:s=>_l(s,(s=>{const i=Number(s.toString().slice(-1));return i<2?-2:i<4?-6:-4})(s.getFullYear())),[Sn.Right]:s=>_l(s,1),[Sn.Down]:s=>_l(s,(s=>{const i=Number(s.toString().slice(-1));return i>7?2:i>5?6:4})(s.getFullYear())),[Sn.PrevView]:s=>Yu(s,-1),[Sn.NextView]:s=>Yu(s,1),[Sn.FirstInView]:s=>tc(s),[Sn.LastInView]:s=>Ax(s)};let vZ=(()=>{class s{constructor(){this.dateRange=(e,n)=>{if(!Ft(e)||!Ft(n))return[];const o=[];let r=e;for(;r<=n;)o.push(r),r=_l(r,1);return o}}addToDate(e,n){return Yu(e,n)}datesList(e,n){return gl(0,n).map(o=>Yu(e,o))}data(e){const{cellUID:n,focusedDate:o,isActiveView:r,max:a,min:l,selectedDates:c,selectionRange:u=ic,viewDate:f}=e;if(!f)return tlt;const _=gl(0,4),g=tc(f),S=Ax(f),b=Bd();return gl(0,3).map(k=>{const D=_l(g,4*k);return _.map(O=>{const I=this.normalize(_l(D,O),l,a),N=I.getFullYear()>S.getFullYear();if(!this.isInRange(I,l,a)||N)return null;const P=this.isEqual(I,u.start),G=this.isEqual(I,u.end),$=!P&&!G&&Z5(I,u);return{formattedValue:this.value(I),id:`${n}${I.getTime()}`,isFocused:this.isEqual(I,o),isSelected:r&&c.some(Q=>this.isEqual(I,Q)),isWeekend:!1,isRangeStart:P,isRangeMid:$,isRangeEnd:G,isRangeSplitEnd:$&&this.isEqual(I,S),isRangeSplitStart:$&&this.isEqual(I,g),isToday:this.isEqual(I,b),title:this.cellTitle(I),value:I}})})}isEqual(e,n){return!(!e||!n)&&e.getFullYear()===n.getFullYear()}isInArray(e,n){if(!n.length)return!1;const o=e.getFullYear();return n[0].getFullYear()<=o&&o<=n[n.length-1].getFullYear()+9}isInRange(e,n,o){const r=e.getFullYear(),a=!n||n.getFullYear()<=r,l=!o||r<=o.getFullYear();return a&&l}beginningOfPeriod(e){if(!e)return e;const n=tc(e);return ml(n.getFullYear(),0,1)}lastDayOfPeriod(e){const n=Ax(e),o=Rx(n);return sp(o)}isRangeStart(e){return e.getFullYear()%100==0}move(e,n){const o=olt[n];return o?o(e):e}cellTitle(e){return e.getFullYear().toString()}navigationTitle(e){return e?tc(e).getFullYear().toString():""}title(e){return e?`${tc(e).getFullYear()} - ${Ax(e).getFullYear()}`:""}rowLength(){return 4}skip(e,n){return ICe(n,e)}total(e,n){return ICe(e,n)+1}value(e){return e?e.getFullYear().toString():""}viewDate(e,n,o=1){const r=this.total(e,n);return r<o?Yu(e,-1*(o-r)):e}normalize(e,n,o){return e<n&&this.isEqual(e,n)?he(n):e>o&&this.isEqual(e,o)?he(o):e}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const rlt=[[]],llt={[Sn.Left]:s=>Ms(s,-1),[Sn.Up]:s=>xCe(s,-1),[Sn.Right]:s=>Ms(s,1),[Sn.Down]:s=>xCe(s,1),[Sn.PrevView]:s=>Do(s,-1),[Sn.NextView]:s=>Do(s,1),[Sn.FirstInView]:s=>P0(s),[Sn.LastInView]:s=>sp(s)};let CZ=(()=>{class s{constructor(e){this._intlService=e,this.dateRange=(n,o)=>{if(!Ft(n)||!Ft(o))return[];const r=[];let a=n;for(;a<=o;)r.push(a),a=Ms(a,1);return r}}addToDate(e,n){return Do(e,n)}datesList(e,n){return gl(0,n).map(o=>Do(e,o))}data(e){const{cellUID:n,focusedDate:o,isActiveView:r,max:a,min:l,selectedDates:c,selectionRange:u=ic,viewDate:f,isDateDisabled:_=(()=>!1)}=e;if(!f)return rlt;const g=P0(f),S=Dn(g),b=sp(f),k=Dn(b),O=ACe(g,this._intlService.firstDay(),-1),I=gl(0,7),N=Bd();return gl(0,6).map(P=>{const G=Ms(O,7*P);return I.map(H=>{const $=this.normalize(Ms(G,H),l,a),Q=Dn($),ie=Q<S||Q>k;if($<l||$>a)return null;const re=this.isEqual($,u.start),Ne=this.isEqual($,u.end),ye=!re&&!Ne&&Z5($,u);return{formattedValue:this.value($),id:`${n}${ie?$.getTime()+"1":$.getTime()}`,isFocused:this.isEqual($,o),isSelected:r&&c.some(se=>this.isEqual($,se)),isWeekend:this.isWeekend($),isRangeStart:re,isRangeMid:ye,isRangeEnd:Ne,isRangeSplitStart:ye&&this.isEqual($,g),isRangeSplitEnd:ye&&this.isEqual($,b),isToday:this.isEqual($,N),title:this.cellTitle($),value:$,isDisabled:_($),isOtherMonth:ie}})})}isEqual(e,n){return!(!e||!n)&&Dn(e).getTime()===Dn(n).getTime()}isInArray(e,n){if(0===n.length)return!1;const o=this.beginningOfPeriod(n[0]),r=this.beginningOfPeriod(Do(n[n.length-1],1));return o<=e&&e<r}isInRange(e,n,o){const r=Dn(e),a=!n||Dn(n)<=r,l=!o||r<=Dn(o);return a&&l}beginningOfPeriod(e){return e&&ml(e.getFullYear(),e.getMonth(),1)}lastDayOfPeriod(e){return sp(e)}isRangeStart(e){return!e.getMonth()}move(e,n){const o=llt[n];return o?o(e):e}cellTitle(e){return this._intlService.formatDate(e,"D")}navigationTitle(e){return e?this.isRangeStart(e)?e.getFullYear().toString():this.abbrMonthNames()[e.getMonth()]:""}title(e){return`${this.wideMonthNames()[e.getMonth()]} ${e.getFullYear()}`}rowLength(e={}){return 7+(e.prependCell?1:0)}skip(e,n){return RCe(n,e)}total(e,n){return RCe(e,n)+1}value(e){return e?e.getDate().toString():""}viewDate(e,n,o=1){const r=this.total(e,n);return r<o?Do(e,-1*(o-r)):e}isWeekend(e){const{start:n,end:o}=this._intlService.weekendRange(),r=e.getDay();return o<n?r<=o||n<=r:n<=r&&r<=o}abbrMonthNames(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(e,n,o){return e<n&&this.isEqual(e,n)?he(n):e>o&&this.isEqual(e,o)?he(o):e}wideMonthNames(){return this._intlService.dateFormatNames({nameType:"wide",type:"months"})}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Gt.Bs))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const clt=[[]],ult={[Sn.Left]:s=>Do(s,-1),[Sn.Up]:s=>Do(s,-4),[Sn.Right]:s=>Do(s,1),[Sn.Down]:s=>Do(s,4),[Sn.PrevView]:s=>_l(s,-1),[Sn.NextView]:s=>_l(s,1),[Sn.FirstInView]:s=>NCe(s),[Sn.LastInView]:s=>Rx(s)};let EZ=(()=>{class s{constructor(e){this._intlService=e,this.dateRange=(n,o)=>{if(!Ft(n)||!Ft(o))return[];const r=[];let a=n;for(;a<=o;)r.push(a),a=Do(a,1);return r}}addToDate(e,n){return _l(e,n)}datesList(e,n){return gl(0,n).map(o=>_l(e,o))}data(e){const{cellUID:n,focusedDate:o,isActiveView:r,max:a,min:l,selectedDates:c,selectionRange:u=ic,viewDate:f}=e;if(!f)return clt;const _=this.abbrMonthNames(),g=NCe(f),S=Rx(f),b=g.getFullYear(),k=gl(0,4),D=Bd();return gl(0,3).map(O=>{const I=Do(g,4*O);return k.map(N=>{const P=this.normalize(Do(I,N),l,a),G=b<P.getFullYear();if(!this.isInRange(P,l,a)||G)return null;const H=this.isEqual(P,u.start),$=this.isEqual(P,u.end),ie=!H&&!$&&Z5(P,u);return{formattedValue:_[P.getMonth()],id:`${n}${P.getTime()}`,isFocused:this.isEqual(P,o),isSelected:r&&c.some(ce=>this.isEqual(P,ce)),isWeekend:!1,isRangeStart:H,isRangeMid:ie,isRangeEnd:$,isRangeSplitEnd:ie&&this.isEqual(P,S),isRangeSplitStart:ie&&this.isEqual(P,g),isToday:this.isEqual(P,D),title:this.cellTitle(P),value:P}})})}isEqual(e,n){return!(!e||!n)&&e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()}isInArray(e,n){if(!n.length)return!1;const o=e.getFullYear();return n[0].getFullYear()<=o&&o<=n[n.length-1].getFullYear()}isInRange(e,n,o){const r=ml(e.getFullYear(),e.getMonth(),1),a=!n||ml(n.getFullYear(),n.getMonth(),1)<=r,l=!o||r<=ml(o.getFullYear(),o.getMonth(),1);return a&&l}beginningOfPeriod(e){return e&&ml(e.getFullYear(),0,1)}lastDayOfPeriod(e){const n=Rx(e);return sp(n)}isRangeStart(e){return e.getFullYear()%10==0}move(e,n){const o=ult[n];return o?o(e):e}cellTitle(e){return`${e.getFullYear()} ${this.value(e)}`}navigationTitle(e){return this.title(e)}title(e){return e?e.getFullYear().toString():""}rowLength(){return 4}skip(e,n){return LCe(n,e)}total(e,n){return LCe(e,n)+1}value(e){return e?this.abbrMonthNames()[e.getMonth()]:""}viewDate(e,n,o=1){const r=this.total(e,n);return r<o?_l(e,-1*(o-r)):e}abbrMonthNames(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(e,n,o){return e<n&&this.isEqual(e,n)?he(n):e>o&&this.isEqual(e,o)?he(o):e}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Gt.Bs))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();var yt=function(s){return s[s.month=0]="month",s[s.year=1]="year",s[s.decade=2]="decade",s[s.century=3]="century",s}(yt||{});const hlt={[yt.month]:CZ,[yt.year]:EZ,[yt.decade]:vZ,[yt.century]:_Z};let flt=0,jd=(()=>{class s{constructor(e){this.injector=e,this.viewChanged=new t.bkB,this.bottom=yt.month,this.top=yt.century,this.calendarId=flt++}configure(e,n){this.bottom=e,this.top=n}service(e){const n=hlt[e];return n?this.injector.get(n):null}moveDown(e){this.move(e,-1)}moveUp(e){this.move(e,1)}moveToBottom(e){e!==this.bottom&&this.viewChanged.emit({view:this.bottom})}canMoveDown(e){return this.bottom<e}canMoveUp(e){return e<this.top}clamp(e){return e<this.bottom?this.bottom:e>this.top?this.top:e}move(e,n){const o=this.clamp(((s,i)=>{const e=yt[yt[s+i]];return void 0!==e?e:s})(e,n));o!==e&&this.viewChanged.emit({view:o})}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(t.zZn))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),yZ=(()=>{class s{constructor(e){this.intl=e}getWeekNames(e=!1,n){const o=f0e(this.intl.dateFormatNames({nameType:n,type:"days"}),this.intl.firstDay());return e?[""].concat(o):o}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Gt.Bs))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const S0e=()=>!1;let Yf=(()=>{class s{constructor(){this.changes=new Xe.B,this.isDateDisabled=S0e}initialize(e){if("function"==typeof e)this.isDateDisabled=n=>e(Dn(n));else if((s=>Array.isArray(s)&&s.length>0&&s.every(i=>"number"==typeof i))(e)){const n=new Set(e);this.isDateDisabled=o=>n.has(o.getDay())}else if((s=>Array.isArray(s)&&s.length>0&&s.every(i=>i instanceof Date))(e)){const n=new Set(e.map(o=>Dn(o).getTime()));this.isDateDisabled=o=>n.has(Dn(o).getTime())}else this.isDateDisabled=S0e,this.notifyInvalidInput(e);this.notifyServiceChange()}notifyInvalidInput(e){if(Ft(e)&&(0,t.naY)())throw new Error("The 'disabledDates' value should be a function, a Day array or a Date array. Check https://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/disabled-dates/ for more information.")}notifyServiceChange(){this.changes.next()}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const kZ=(s,i,e)=>{for(;s&&s!==e&&!i(s);)s=s.parentNode;if(s!==e)return s},wZ=(s,i)=>{for(;s&&!i(s);)s=s.parentNode;return s};class _lt{constructor(i,e,n,o){this.$implicit=i,this.kForOf=e,this.index=n,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let nU=(()=>{class s{constructor(e,n,o){this._viewContainer=e,this._template=n,this._differs=o,this._differ=null}set kForTemplate(e){e&&(this._template=e)}ngOnChanges(e){if("kForOf"in e){const n=e.kForOf.currentValue;if(this._differ||!n)return;try{this._differ=this._differs.find(n).create(this.kForTrackBy)}catch{throw new Error(`Cannot find a differ supporting object '${n}' of type '${function glt(s){return s.name||typeof s}(n)}'.`)}}}ngDoCheck(){if(this._differ){const e=this._differ.diff(this.kForOf);e&&this._applyChanges(e)}}_applyChanges(e){if(!ne())return;const n=this._viewContainer.length,o=this.kForOf.length,r={};e.forEachOperation((a,l,c)=>{null!==c&&(r[c]=a.item)});for(let a=n;a<o;a++)this._viewContainer.createEmbeddedView(this._template,new _lt(null,this.kForOf,-1,-1),a);for(let a=this._viewContainer.length;a>o;a--)this._viewContainer.remove(a-1);for(let a=0;a<this._viewContainer.length;a++){const l=this._viewContainer.get(a);l.context.index=a,l.context.count=length,l.context.$implicit=r[a]||null}}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.c1b),t.rXU(t.C4Q),t.rXU(t._q3))},s.\u0275dir=t.FsC({type:s,selectors:[["","kFor","","kForOf",""]],inputs:{kForOf:"kForOf",kForTrackBy:"kForTrackBy",kForTemplate:"kForTemplate"},features:[t.OA$]}),s})(),C0e=(()=>{class s{constructor(e,n,o,r,a,l,c){this.bus=e,this.intl=n,this.cdr=o,this.element=r,this.zone=a,this.renderer=l,this.disabledDatesService=c,this.direction="vertical",this.isActive=!0,this.selectedDates=[],this.cellClick=new t.bkB,this.weekNumberCellClick=new t.bkB,this.cellEnter=new t.bkB,this.cellLeave=new t.bkB,this.focusedCellId=new t.bkB,this.colSpan=0,this.subscriptions=new be.yU,this.domEvents=[],this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.subscriptions.add(this.disabledDatesService.changes.subscribe(this.disabledDatesChange.bind(this)))}get weekNumber(){return this.showWeekNumbers&&this.activeView===yt.month}set weekNumber(e){this.showWeekNumbers=e}get ariaHidden(){return this.headerTitle!==this.title||null}ngOnInit(){this.element&&this.zone.runOutsideAngular(()=>{this.bindEvents()})}ngOnChanges(e){this.service=this.bus.service(this.activeView),this.service&&(this.colSpan=this.service.rowLength({prependCell:this.weekNumber}),this.title=this.service.title(this.viewDate),this.updateData(),e.activeView&&(this.currentCellIndex=null))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.domEvents.forEach(e=>e())}isHorizontal(){return"horizontal"===this.direction}isMonthView(){return this.activeView===yt.month}shouldRenderCellContent(e){return Ft(e)&&(!e.isOtherMonth||e.isOtherMonth&&this.showOtherMonthDays)}firstDate(e){const n=this.firstWeekDateContext(e);return n?n.value:null}getWeekNumber(e){return this.weekNumber?GCe(e,this.intl.firstDay()):null}getWeekNumberContext(e){const n=this.firstWeekDateContext(e);if(!this.weekNumber||!n)return null;const o=GCe(n.value,this.intl.firstDay()).toString();return{formattedValue:o,id:null,isFocused:!1,isSelected:!1,isWeekend:!1,title:o,value:he(n.value)}}getStyles(e){!e.isOtherMonth&&this.isActive&&e.isFocused&&this.focusedCellId.emit(e.id);const{isRangeEnd:n,isRangeStart:o}=e;return(s=>Object.keys(s).reduce((e,n)=>s[n]?e.concat(n):e,[]).join(" "))({"k-range-end":!e.isOtherMonth&&n,"k-range-mid":!e.isOtherMonth&&e.isRangeMid,"k-range-split-end":!e.isOtherMonth&&e.isRangeSplitEnd,"k-range-split-start":!e.isOtherMonth&&e.isRangeSplitStart,"k-range-start":!e.isOtherMonth&&o,"k-active":"start"===this.activeRangeEnd&&o||"end"===this.activeRangeEnd&&n,"k-focus":!e.isOtherMonth&&this.isActive&&e.isFocused,"k-selected":!e.isOtherMonth&&(e.isSelected||o||n),"k-today":!e.isOtherMonth&&e.isToday,"k-weekend":e.isWeekend,"k-disabled":e.isDisabled,"k-other-month":e.isOtherMonth})}tableCellIndex(e,n){return`${e}:${n}`}handleWeekNumberClick(e){const n=e.map(o=>o.value).filter(o=>!this.disabledDatesService.isDateDisabled(o));this.weekNumberCellClick.emit(n)}getMonthLabel(e){return 1===this.activeView?this.intl.formatDate(e,"MMMM"):null}firstWeekDateContext(e){if(!this.weekNumber)return null;let n=0,o=this.shouldRenderCellContent(e[n])?e[n]:null;for(;!o&&n<e.length;){const r=e[++n];o=this.shouldRenderCellContent(r)?r:null}return o}updateData(){const e=zv(this.selectedDates)||Bd(),n=sg(this.viewDate,e);this.data=this.service.data({cellUID:this.cellUID,focusedDate:this.focusedDate,isActiveView:!this.bus.canMoveDown(this.activeView),max:this.max,min:this.min,selectedDates:this.selectedDates,selectionRange:this.selectionRange,viewDate:n,isDateDisabled:this.disabledDatesService.isDateDisabled,direction:this.direction})}intlChange(){this.updateData(),this.cdr.markForCheck()}disabledDatesChange(){this.updateData(),this.cdr.markForCheck()}bindEvents(){const e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"mouseover",this.cellMouseoverHandler.bind(this)),this.renderer.listen(e,"mouseleave",this.mouseLeaveHandler.bind(this)),this.renderer.listen(e,"click",this.clickHandler.bind(this)))}clickHandler(e){const n=this.closestCell(e);if(!n)return;const o=n.getAttribute("data-cell-index"),r=this.cellByIndex(o);if(!r.isDisabled){const{ctrlKey:a,metaKey:l,shiftKey:c}=e;this.cellClick.emit({date:r.value,modifiers:{ctrlKey:a,metaKey:l,shiftKey:c}})}}mouseLeaveHandler(){this.currentCellIndex&&this.emitCellLeave()}cellMouseoverHandler(e){const n=this.closestCell(e);if(n){const o=n.getAttribute("data-cell-index");this.currentCellIndex&&this.currentCellIndex!==o&&this.emitCellLeave();const r=this.cellByIndex(o).value;this.cellEnter.emit(r),this.currentCellIndex=o}else this.currentCellIndex&&this.emitCellLeave()}closestCell(e){return kZ(e.target,n=>n.hasAttribute("data-cell-index"),this.element.nativeElement)}emitCellLeave(){const e=this.cellByIndex(this.currentCellIndex);e&&this.cellLeave.emit(e.value),this.currentCellIndex=null}cellByIndex(e){const[n,o]=e.split(":");return this.data[n][o]}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(jd),t.rXU(Gt.Bs),t.rXU(t.gRc),t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(Yf))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoCalendarView",""]],inputs:{showOtherMonthDays:"showOtherMonthDays",direction:"direction",isActive:"isActive",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate",viewDate:"viewDate",activeRangeEnd:"activeRangeEnd",selectionRange:"selectionRange",min:"min",max:"max",selectedDates:"selectedDates",weekNumber:"weekNumber",viewIndex:"viewIndex",templateRef:"templateRef",weekNumberTemplateRef:"weekNumberTemplateRef",headerTitle:"headerTitle"},outputs:{cellClick:"cellClick",weekNumberCellClick:"weekNumberCellClick",cellEnter:"cellEnter",cellLeave:"cellLeave",focusedCellId:"focusedCellId"},features:[t.OA$],attrs:srt,decls:4,vars:2,consts:[["emptyCell",""],["class","k-calendar-tr","role","row",4,"ngIf"],["class","k-calendar-tr","role","row",4,"kFor","kForOf"],["role","gridcell",1,"k-empty","k-calendar-td"],["role","row",1,"k-calendar-tr"],["scope","col",1,"k-calendar-caption",3,"colSpan"],[3,"ngIf"],[4,"kFor","kForOf"],["class","k-alt k-calendar-td","role","gridcell",3,"kendoEventsOutsideAngular",4,"ngIf","ngIfElse"],["role","gridcell",1,"k-alt","k-calendar-td",3,"kendoEventsOutsideAngular"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],["class","k-calendar-td","role","gridcell",3,"ngClass","title",4,"ngIf","ngIfElse"],["role","gridcell",1,"k-calendar-td",3,"ngClass","title"],[1,"k-link"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&t.DNE(0,ort,2,0,"ng-template",null,0,t.C5r)(2,rrt,3,3,"tr",1)(3,_rt,3,2,"tr",2),2&e&&(t.R7$(2),t.Y8G("ngIf",!n.isHorizontal()),t.R7$(),t.Y8G("kForOf",n.data))},dependencies:[W,nU,Vo,Je,Pe],encapsulation:2}),s})(),E0e=(()=>{class s{constructor(e,n,o,r,a,l){this.bus=e,this.intl=n,this.weekService=o,this.cdr=r,this.element=a,this.renderer=l,this.showOtherMonthDays=!0,this.activeView=yt.month,this.isActive=!0,this.min=new Date(Ku),this.max=new Date(Ju),this.selectedDates=[],this.views=2,this.showViewHeader=!1,this.animateNavigation=!1,this.orientation="horizontal",this.tabIndex=0,this.disabled=!1,this.cellClick=new t.bkB,this.weekNumberCellClick=new t.bkB,this.cellEnter=new t.bkB,this.cellLeave=new t.bkB,this.activeDateChange=new t.bkB,this.focusCalendar=new t.bkB,this.blurCalendar=new t.bkB,this.focusedCellChange=new t.bkB,this.getComponentClass=!0,this.weekNames=[],this.wideWeekNames=[],this.dates=[],this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}handleMultiViewCalendarFocus(){this.focusCalendar.emit()}handleMultiViewCalendarBlur(e){this.blurCalendar.emit(e)}get weekNumber(){return this.showWeekNumbers&&this.isMonthView()}set weekNumber(e){this.showWeekNumbers=e}get horizontalHostClass(){return"horizontal"===this.orientation}get verticalHostClass(){return"vertical"===this.orientation}get getComponentMonthClass(){return this.activeView===yt.month}get getComponentYearClass(){return this.activeView===yt.year}get getComponentDecadeClass(){return this.activeView===yt.decade}get getComponentCenturyClass(){return this.activeView===yt.century}get role(){return this.views>=2?"grid":null}get tabindex(){return this.views>=2?"0":null}get getActiveDescendant(){return 1===this.views?this.activeDescendant:null}get getTabIndex(){return this.disabled||this.views>=2?null:this.tabIndex}ngOnChanges(e){if(this.initService(),(0===this.weekNames.length||e.weekNumber)&&(this.weekNames=this.getWeekNames("short"),this.wideWeekNames=this.getWeekNames("wide")),!this.service)return;this.views=this.views||2;const n=this.focusedDate,o=this.clampDate(this.service.viewDate(n,this.max,this.views));this.skip=this.service.skip(o,this.min),this.total=this.service.total(this.min,this.max);const r=rg(e,"activeView"),a=this.views>0&&rg(e,"views");(r||!this.isInDates(n)||a||!this.activeDate)&&(this.dates=this.service.datesList(o,this.getTake(this.skip)),this.activeDate=he(this.dates[0]),this.activeDateChange.emit(this.activeDate)),this.setAriaActivedescendant(),this.views>=2&&this.renderer.setAttribute(this.element.nativeElement,"tabindex",this.tabIndex.toString())}ngAfterViewInit(){1===this.views&&this.setTableMinWidth()}ngOnDestroy(){this.intlSubscription.unsubscribe()}initService(){this.service=this.bus.service(this.activeView)}isMonthView(){return this.activeView===yt.month}getCaptionTitle(e){return this.service.title(e)}getCaptionClass(){return this.isMonthView()?"k-month-header":"k-meta-header"}handleClassicCalendarFocus(){this.focusCalendar.emit()}handleClassicCalendarBlur(e){this.blurCalendar.emit(e)}animateView(e){const n=this.element.nativeElement,o=n.querySelector("table"),r=parseFloat(getComputedStyle(n).width),a=parseFloat(getComputedStyle(o).width);this.renderer.setStyle(n,"width",`${r}px`),this.renderer.setStyle(n,"overflow","visible"),e===Sn.NextView?this.nextAnimationDate=he(this.dates[0]):this.prevAnimationDate=he(this.dates[this.dates.length-1]),this.cdr.detectChanges(),n.querySelectorAll("table").forEach(_=>{this.renderer.setStyle(_,"width",`${a}px`),1===this.views&&this.renderer.setStyle(_,"min-width",`${r}px`)});const l=o.getBoundingClientRect(),c=parseFloat(getComputedStyle(n).columnGap),u=e===Sn.NextView?"translateX(0)":`translateX(-${l.width+c}px)`,f=e===Sn.NextView?`translateX(-${l.width+c}px)`:"translateX(0)";this.animation?this.animation.cancel():(this.animation=n.animate([{transform:u},{transform:f}],{duration:500,easing:"ease-out"}),this.animation.oncancel=this.animation.onfinish=()=>{this.renderer.removeStyle(n,"width"),this.renderer.removeStyle(n,"overflow"),n.querySelectorAll("table").forEach(_=>{this.renderer.removeStyle(_,"width")}),this.animation=null,this.nextAnimationDate=null,this.prevAnimationDate=null,this.cdr.detectChanges()})}navigate(e){this.animateNavigation&&ne()&&Ft(this.element.nativeElement.animate)&&this.animateView(e);const n=this.move(e),o=this.service.datesList(n,this.getTake(this.skip));return this.isListInRange(o)&&(this.dates=o),this.activeDate=he(this.dates[0]),this.focusedDate=he(n),this.cdr.markForCheck(),this.activeDateChange.emit(this.activeDate),he(n)}canNavigate(e){return!!this.service&&this.isListInRange(this.service.datesList(this.move(e),this.getTake(this.skip)))}getWeekNames(e){return this.weekService.getWeekNames(this.weekNumber,e)}setTableMinWidth(){const e=this.element.nativeElement,n=e.querySelector("table");if(n){const o=parseFloat(getComputedStyle(e).width);this.renderer.setStyle(n,"min-width",`${o}px`)}}intlChange(){this.weekNames=this.getWeekNames("short"),this.wideWeekNames=this.getWeekNames("wide"),this.cdr.markForCheck()}clampDate(e){return og(e,this.min,this.max)}move(e){return this.service.move(this.dates[0]||this.focusedDate,e)}isListInRange(e){const n=this.service.beginningOfPeriod(this.min),o=this.service.beginningOfPeriod(this.service.addToDate(this.max,1));return n<=e[0]&&e[e.length-1]<o}isInDates(e){return this.service.isInArray(e,this.dates)}getTake(e){return Math.min(this.total-e,this.views)}setAriaActivedescendant(){this.views>=2&&this.renderer.setAttribute(this.element.nativeElement,"aria-activedescendant",this.activeDescendant)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(jd),t.rXU(Gt.Bs),t.rXU(yZ),t.rXU(t.gRc),t.rXU(t.aKT),t.rXU(t.sFG))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-calendar-horizontal"]],hostVars:20,hostBindings:function(e,n){1&e&&t.bIt("focus",function(){return n.handleMultiViewCalendarFocus()})("blur",function(r){return n.handleMultiViewCalendarBlur(r)}),2&e&&(t.BMQ("role",n.role)("tabindex",n.tabindex),t.AVh("k-calendar-view",n.getComponentClass)("k-align-items-start",n.getComponentClass)("k-justify-content-center",n.getComponentClass)("k-hstack",n.horizontalHostClass)("k-vstack",n.verticalHostClass)("k-calendar-monthview",n.getComponentMonthClass)("k-calendar-yearview",n.getComponentYearClass)("k-calendar-decadeview",n.getComponentDecadeClass)("k-calendar-centuryview",n.getComponentCenturyClass))},inputs:{showOtherMonthDays:"showOtherMonthDays",cellTemplateRef:"cellTemplateRef",weekNumberTemplateRef:"weekNumberTemplateRef",activeRangeEnd:"activeRangeEnd",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate",isActive:"isActive",min:"min",max:"max",selectionRange:"selectionRange",selectedDates:"selectedDates",views:"views",showViewHeader:"showViewHeader",animateNavigation:"animateNavigation",orientation:"orientation",activeDescendant:"activeDescendant",tabIndex:"tabIndex",disabled:"disabled",id:"id",weekNumber:"weekNumber"},outputs:{cellClick:"cellClick",weekNumberCellClick:"weekNumberCellClick",cellEnter:"cellEnter",cellLeave:"cellLeave",activeDateChange:"activeDateChange",focusCalendar:"focusCalendar",blurCalendar:"blurCalendar",focusedCellChange:"focusedCellChange"},features:[t.OA$],decls:5,vars:3,consts:[["tableTemplate",""],[4,"ngIf"],[4,"kFor","kForOf"],[1,"k-content","k-calendar-table",3,"focus","blur","ngClass"],[3,"ngClass",4,"ngIf"],["class","k-calendar-thead","role","rowgroup",4,"ngIf"],["kendoCalendarView","","role","rowgroup","direction","horizontal",1,"k-calendar-tbody",3,"cellClick","weekNumberCellClick","cellEnter","cellLeave","focusedCellId","showOtherMonthDays","activeView","isActive","min","max","cellUID","focusedDate","selectedDates","selectionRange","activeRangeEnd","weekNumber","templateRef","weekNumberTemplateRef","viewDate"],[3,"ngClass"],["role","rowgroup",1,"k-calendar-thead"],["role","row",1,"k-calendar-tr"],["class","k-calendar-th","scope","col","role","columnheader",4,"ngFor","ngForOf"],["scope","col","role","columnheader",1,"k-calendar-th"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&t.DNE(0,brt,4,21,"ng-template",null,0,t.C5r)(2,yrt,1,4,null,1)(3,wrt,1,4,null,2)(4,Ort,1,4,null,1),2&e&&(t.R7$(2),t.Y8G("ngIf",n.nextAnimationDate),t.R7$(),t.Y8G("kForOf",n.dates),t.R7$(),t.Y8G("ngIf",n.prevAnimationDate))},dependencies:[C0e,Pe,W,st,Je,nU],encapsulation:2,changeDetection:0}),s})(),iU=(()=>{class s{constructor(e,n,o,r,a){this.bus=e,this.cdr=n,this.localization=o,this.intl=r,this.disabledDatesService=a,this.chevronRightIcon=AG,this.chevronLeftIcon=aI,this.navigate=!0,this.todayAvailable=!0,this.min=new Date(Ku),this.max=new Date(Ju),this.rangeLength=1,this.isPrevDisabled=!0,this.isNextDisabled=!0,this.showNavigationButtons=!1,this.orientation="horizontal",this.todayButtonClick=new t.bkB,this.prevButtonClick=new t.bkB,this.nextButtonClick=new t.bkB,this.getComponentClass=!0,this.subscriptions=new be.yU}get horizontalHostClass(){return"horizontal"===this.orientation}get verticalHostClass(){return"vertical"===this.orientation}ngOnInit(){this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.subscriptions.add(this.localization.changes.subscribe(this.l10nChange.bind(this))),this.subscriptions.add(this.disabledDatesService.changes.subscribe(this.setTodayAvailability.bind(this)))}ngOnChanges(e){this.bus.service(this.activeView)&&(this.activeViewValue=yt[this.activeView],this.todayMessage=this.localization.get("today"),this.parentViewButtonTitle=this.localization.get("parentViewButtonTitle"),this.setTodayAvailability(),this.navigate=this.bus.canMoveUp(this.activeView),this.title=this.getTitle())}ngOnDestroy(){this.subscriptions.unsubscribe()}handleTodayClick(){this.todayAvailable&&(this.bus.moveToBottom(this.activeView),this.todayButtonClick.emit(og(Bd(),this.min,this.max)))}handleNavigation(){this.navigate&&this.bus.moveUp(this.activeView)}isDisabled(){return this.navigate?null:""}intlChange(){this.currentDate&&this.bus.service(this.activeView)&&(this.title=this.getTitle(),this.cdr.markForCheck())}l10nChange(){this.prevButtonTitle=this.localization.get("prevButtonTitle"),this.nextButtonTitle=this.localization.get("nextButtonTitle"),this.parentViewButtonTitle=this.localization.get("parentViewButtonTitle"),this.todayMessage=this.localization.get("today"),this.cdr.markForCheck()}getTitle(){if(!this.currentDate)return"";const e=this.bus.service(this.activeView),n=this.rangeLength-1,o=e.title(this.currentDate),r=e.addToDate(this.currentDate,n);return n<1||!e.isInRange(r,this.min,this.max)?o:`${o} - ${e.title(r)}`}setTodayAvailability(){const e=Bd(),n=Iw(e,Dn(this.min),Dn(this.max)),o=this.disabledDatesService.isDateDisabled(e);this.todayAvailable=n&&!o,this.cdr.markForCheck()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(jd),t.rXU(t.gRc),t.rXU(j),t.rXU(Gt.Bs),t.rXU(Yf))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-calendar-header"]],hostVars:6,hostBindings:function(e,n){2&e&&t.AVh("k-calendar-header",n.getComponentClass)("k-hstack",n.horizontalHostClass)("k-vstack",n.verticalHostClass)},inputs:{activeView:"activeView",currentDate:"currentDate",min:"min",max:"max",rangeLength:"rangeLength",templateRef:"templateRef",isPrevDisabled:"isPrevDisabled",isNextDisabled:"isNextDisabled",showNavigationButtons:"showNavigationButtons",orientation:"orientation",id:"id"},outputs:{todayButtonClick:"todayButtonClick",prevButtonClick:"prevButtonClick",nextButtonClick:"nextButtonClick"},features:[t.OA$],decls:9,vars:26,consts:[["role","button","tabindex","-1",1,"k-button","k-nav-fast","k-button-md","k-rounded-md","k-button-flat","k-button-flat-base","k-calendar-title",3,"id","kendoEventsOutsideAngular","title","scope"],[3,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-spacer"],[1,"k-calendar-nav","k-hstack"],["kendoButton","","fillMode","flat","icon","chevron-left","tabindex","-1","type","button","class","k-calendar-nav-prev",3,"svgIcon","disabled","title","click",4,"ngIf"],["tabindex","-1","type","button",1,"k-calendar-nav-today","k-button","k-button-md","k-button-flat","k-button-flat-primary","k-rounded-md",3,"kendoEventsOutsideAngular","scope"],["kendoButton","","fillMode","flat","icon","chevron-right","class","k-calendar-nav-next","tabindex","-1","type","button",3,"svgIcon","disabled","title","click",4,"ngIf"],["kendoButton","","fillMode","flat","icon","chevron-left","tabindex","-1","type","button",1,"k-calendar-nav-prev",3,"click","svgIcon","disabled","title"],["kendoButton","","fillMode","flat","icon","chevron-right","tabindex","-1","type","button",1,"k-calendar-nav-next",3,"click","svgIcon","disabled","title"]],template:function(e,n){1&e&&(t.j41(0,"span",0),t.DNE(1,Trt,1,1,"ng-template",1)(2,Mrt,0,0,"ng-template",2),t.k0s(),t.nrm(3,"span",3),t.j41(4,"span",4),t.DNE(5,Irt,1,4,"button",5),t.j41(6,"button",6),t.EFF(7),t.k0s(),t.DNE(8,xrt,1,4,"button",7),t.k0s()),2&e&&(t.AVh("k-disabled",!n.navigate),t.Y8G("id",n.id)("kendoEventsOutsideAngular",t.eq3(18,U0,n.handleNavigation))("title",n.parentViewButtonTitle)("scope",n),t.BMQ("aria-disabled",n.isDisabled()),t.R7$(),t.Y8G("ngIf",!n.templateRef),t.R7$(),t.Y8G("ngIf",n.templateRef)("ngTemplateOutlet",n.templateRef)("ngTemplateOutletContext",t.sMw(20,t0e,n.title,n.activeViewValue,n.currentDate)),t.R7$(3),t.Y8G("ngIf",n.showNavigationButtons),t.R7$(),t.AVh("k-disabled",!n.todayAvailable),t.Y8G("kendoEventsOutsideAngular",t.eq3(24,U0,n.handleTodayClick))("scope",n),t.R7$(),t.SpI(" ",n.todayMessage," "),t.R7$(),t.Y8G("ngIf",n.showNavigationButtons))},dependencies:[$t,Vo,W,Je],encapsulation:2}),s})(),sU=(()=>{class s{constructor(e){this.bus=e}performSelection(e){let{date:n,modifiers:o,selectionMode:r,activeViewEnum:a,rangePivot:l}=e,c=e.selectedDates.slice();if("multiple"===r)if(o.ctrlKey||o.metaKey)this.isDateSelected(c,n)?c=c.filter(u=>!ls(u,n)):c.push(n),l=n;else if(o.shiftKey){const[u,f]=g0e([l||n,n]);if(c=this.bus.service(a).dateRange(u,f),l=n>c[0]?c[0]:zv(c),o.anyArrow){const[_,g]=g0e([this.lastClicked||n,n]);c=this.bus.service(0).dateRange(_,g)}}else c=[n],l=n;else c=[n],l=n;return{selectedDates:c,rangePivot:l}}isDateSelected(e,n){return e.some(o=>ls(o,n))}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(jd))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),oU=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoCalendarCellTemplate",""]]}),s})(),Ux=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoCalendarMonthCellTemplate",""]]}),s})(),rU=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoCalendarYearCellTemplate",""]]}),s})(),aU=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoCalendarDecadeCellTemplate",""]]}),s})(),lU=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoCalendarCenturyCellTemplate",""]]}),s})(),cU=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoCalendarWeekNumberCellTemplate",""]]}),s})(),dU=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoCalendarHeaderTitleTemplate",""]]}),s})();const Bx=s=>i=>s&&i.value&&i.value<s?{minError:{minValue:s,value:i.value}}:null,Vx=s=>i=>s&&i.value&&i.value>s?{maxError:{maxValue:s,value:i.value}}:null,vlt=()=>null,Clt={33:Sn.PrevView,34:Sn.NextView,35:Sn.LastInView,36:Sn.FirstInView,37:Sn.Left,38:Sn.Up,39:Sn.Right,40:Sn.Down,"meta+38":Sn.UpperView,"meta+40":Sn.LowerView};let zx=(()=>{class s{constructor(e){this.bus=e}action(e){return Clt[`${e.ctrlKey||e.metaKey?"meta+":""}${e.keyCode}`]}move(e,n,o){const r=this.bus.service(o);return r?n===Sn.UpperView&&this.bus.canMoveUp(o)?(this.bus.moveUp(o),e):n===Sn.LowerView&&this.bus.canMoveDown(o)?(this.bus.moveDown(o),e):r.move(e,n):e}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(jd))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),uU=(()=>{class s extends Gi{}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275dir=t.FsC({type:s,selectors:[["kendo-multiview-calendar-messages-base"]],inputs:{today:"today",prevButtonTitle:"prevButtonTitle",nextButtonTitle:"nextButtonTitle",parentViewButtonTitle:"parentViewButtonTitle"},features:[t.Vt3]}),s})(),blt=(()=>{class s extends uU{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoMultiViewCalendarLocalizedMessages",""]],features:[t.Jv_([{provide:uU,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})();const y0e="http://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/#toc-using-with-json",Dlt={multi:!0,provide:Yn,useExisting:(0,t.Rfq)(()=>Kf)},Olt={multi:!0,provide:Ho,useExisting:(0,t.Rfq)(()=>Kf)};let Kf=(()=>{class s{constructor(e,n,o,r,a,l,c,u){this.bus=e,this.element=n,this.navigator=o,this.renderer=r,this.cdr=a,this.zone=l,this.disabledDatesService=c,this.selectionService=u,this.showOtherMonthDays=!0,this.showCalendarHeader=!0,this.rangeValidation=!1,this.disabledDatesRangeValidation=!1,this.selection="single",this.disabled=!1,this.tabindex=0,this.isActive=!1,this.activeView=yt[yt.month],this.bottomView=yt[yt.month],this.topView=yt[yt.century],this.showViewHeader=!1,this.animateNavigation=!1,this.weekNumber=!1,this.views=2,this.orientation="horizontal",this.activeViewChange=new t.bkB,this.navigate=new t.bkB,this.cellEnter=new t.bkB,this.cellLeave=new t.bkB,this.valueChange=new t.bkB,this.blurEvent=new t.bkB,this.focusEvent=new t.bkB,this.focusCalendar=new t.bkB,this.onClosePopup=new t.bkB,this.onTabPress=new t.bkB,this.onShiftTabPress=new t.bkB,this.cellUID=rn(),this.isHovered=!1,this.isPrevDisabled=!0,this.isNextDisabled=!0,this.prevView=Sn.PrevView,this.nextView=Sn.NextView,this.selectedDates=[],this._min=new Date(Ku),this._max=new Date(Ju),this._focusedDate=Bd(),this.resolvedPromise=Promise.resolve(),this.onControlChange=Jt,this.onControlTouched=Jt,this.onValidatorChange=Jt,this.minValidateFn=Jt,this.maxValidateFn=Jt,this.disabledDatesRangeValidateFn=Jt,this.subscriptions=new be.yU,this.setClasses(n.nativeElement),this.id=`kendo-multiviewcalendarid-${this.bus.calendarId}-`}set focusedDate(e){this._focusedDate=e||Bd()}get focusedDate(){return this._focusedDate}get headerId(){return this.id+"header-"}get multiViewCalendarHeaderIdLabel(){return this.views>=2?this.id+"header-":null}get calendarHeaderIdLabel(){return 1===this.views?this.id+"header-":null}set min(e){this._min=e||new Date(Ku)}get min(){return this._min}set max(e){this._max=e||new Date(Ju)}get max(){return this._max}get value(){return this._value}set value(e){this.verifyValue(e),this._value=Array.isArray(e)?e.filter(o=>Ft(o)).map(o=>he(o)):he(e);const n=[].concat(e).filter(o=>Ft(o)).map(o=>he(o));if(!tU(n,this.selectedDates)){const o=zv(n);this.rangePivot=he(o),this.focusedDate=he(o)||this.focusedDate,this.selectedDates=n}}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set disabledDates(e){this.disabledDatesService.initialize(e)}set selectionRange(e){this._selectionRange=e,this.disabledDatesRangeValidation&&this.onValidatorChange()}get selectionRange(){return this._selectionRange}set cellTemplateRef(e){this._cellTemplateRef=e}get cellTemplateRef(){return this._cellTemplateRef||this.cellTemplate}set monthCellTemplateRef(e){this._monthCellTemplateRef=e}get monthCellTemplateRef(){return this._monthCellTemplateRef||this.monthCellTemplate}set yearCellTemplateRef(e){this._yearCellTemplateRef=e}get yearCellTemplateRef(){return this._yearCellTemplateRef||this.yearCellTemplate}set decadeCellTemplateRef(e){this._decadeCellTemplateRef=e}get decadeCellTemplateRef(){return this._decadeCellTemplateRef||this.decadeCellTemplate}set centuryCellTemplateRef(e){this._centuryCellTemplateRef=e}get centuryCellTemplateRef(){return this._centuryCellTemplateRef||this.centuryCellTemplate}set weekNumberTemplateRef(e){this._weekNumberTemplateRef=e}get weekNumberTemplateRef(){return this._weekNumberTemplateRef||this.weekNumberTemplate}set headerTitleTemplateRef(e){this._headerTitleTemplateRef=e}get headerTitleTemplateRef(){return this._headerTitleTemplateRef||this.headerTitleTemplate}get activeViewEnum(){const e=yt[this.activeView];return e<this.bottomViewEnum?this.bottomViewEnum:e}get bottomViewEnum(){return yt[this.bottomView]}get topViewEnum(){return yt[this.topView]}get widgetId(){return this.views>=2?this.id:null}get ariaDisabled(){return this.disabled}get ariaActivedescendant(){return this.cellUID+this.focusedDate.getTime()}handleFocusout(e){this.element.nativeElement.contains(e.relatedTarget)||(1===this.views?this.blurEvent.emit(e):this.blurEvent.emit(),this.onControlTouched()),this.isActive=!1,this.isHovered=!1}handleFocus(){this.isActive=!0,1===this.views?this.focusCalendar.emit():this.focusEvent.emit(),this.focusEvent.emit()}handleMouseEnter(){this.isHovered=!0}handleMouseLeave(){this.isHovered=!1}handleMousedown(e){e.preventDefault()}handleClick(){this.isActive||this.focus()}keydown(e){const n=-1!==[F.ArrowUp,F.ArrowDown].indexOf(e.keyCode),o=e.ctrlKey||e.metaKey,a=e.keyCode===F.ArrowLeft&&o,l=e.keyCode===F.KeyT,c=e.keyCode===F.Enter,u=e.keyCode===F.ArrowUp,f=e.altKey,_=e.keyCode===F.Escape,g=e.keyCode===F.Tab,S=e.shiftKey;if(e.keyCode===F.ArrowRight&&o)return e.preventDefault(),void this.navigateView(this.nextView);if(a)return e.preventDefault(),void this.navigateView(this.prevView);if(o&&n)e.preventDefault();else{if(l)return this.focusedDate=Bd(),void this.bus.moveToBottom(this.activeViewEnum);c&&(this.selectionService.lastClicked=this.focusedDate,this.performSelection(this.focusedDate,e))}this.views>=2&&(_||f&&u?this.onClosePopup.emit(e):g&&S?this.onShiftTabPress.emit(e):g&&!S&&this.onTabPress.emit(e));const b=og(this.navigator.move(this.focusedDate,this.navigator.action(e),this.activeViewEnum),this.min,this.max);ls(this.focusedDate,b)||(this.focusedDate=b,e.preventDefault(),this.bus.service(this.activeViewEnum).isInArray(this.focusedDate,this.viewList.dates)||this.emitNavigate(this.focusedDate),c0e(e)&&(e.anyArrow=!0,this.performSelection(this.focusedDate,e)))}ngOnInit(){this.subscriptions.add(this.bus.viewChanged.subscribe(({view:e})=>{this.activeView=yt[e],this.activeViewChange.emit(this.activeView),this.cdr.detectChanges(),this.updateButtonState()}))}ngOnChanges(e){this.verifyChanges(),this.bus.configure(this.bottomViewEnum,this.topViewEnum),m0e(e,"focusedDate")&&(this.focusedDate=og(e.focusedDate.currentValue,this.min,this.max)),(e.min||e.max||e.rangeValidation||e.disabledDates||e.disabledDatesRangeValidation)&&(this.minValidateFn=this.rangeValidation?Bx(this.min):Jt,this.maxValidateFn=this.rangeValidation?Vx(this.max):Jt,this.disabledDatesRangeValidateFn=this.disabledDatesRangeValidation?(s=>Ft(s)?i=>{if(!(Ft(i)&&Ft(i.start)&&Ft(i.end))||i.start>i.end)return null;const n=((s,i,e)=>{if(!(s&&i&&e)||s>i)return[];const n=[];let o=s;for(;o<=i;)e(o)&&n.push(o),o=Ms(o,1);return n})(i.start,i.end,s);return n.length?{disabledDatesInRange:n}:null}:vlt)(this.disabledDatesService.isDateDisabled):Jt,this.onValidatorChange()),(e.min||e.max||e.focusedDate||e.activeView)&&this.updateButtonState()}ngOnDestroy(){this.subscriptions.unsubscribe()}ngAfterViewInit(){this.updateButtonState()}focus(){this.element&&this.element.nativeElement.querySelector(".k-calendar-view").focus({preventScroll:!0})}blur(){this.element&&this.element.nativeElement.querySelector(this.views>=2?".k-calendar-view":".k-content.k-calendar-table").blur()}handleDateChange(e){const n=this.bus.canMoveDown(this.activeViewEnum),o=e.selectedDates.filter(a=>!this.disabledDatesService.isDateDisabled(a));this.focusedDate=e.focusedDate||this.focusedDate;const r=!n&&tU(o,this.selectedDates);if(!this.disabled&&!r){if(n)return void this.bus.moveDown(this.activeViewEnum);this.disabledDatesService.isDateDisabled(this.focusedDate)||(this.selectedDates=o.map(a=>he(a)),this.value=this.parseSelectionToValue(o),this.onControlChange(this.parseSelectionToValue(o)),this.valueChange.emit(this.parseSelectionToValue(o)))}}handleTodayButtonClick(e){const n=e.focusedDate,o=this.bus.service(this.activeViewEnum).isInArray(n,this.viewList.dates),r=!this.bus.canMoveDown(this.activeViewEnum);!o&&r&&this.emitNavigate(n),this.handleDateChange(e)}setActiveDate(e){this.activeDate=he(e),this.cdr.detectChanges()}writeValue(e){this.verifyValue(e),this.value=e,this.cdr.markForCheck()}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)||this.disabledDatesRangeValidateFn(this.selectionRange)}registerOnValidatorChange(e){this.onValidatorChange=e}activeCellTemplate(){switch(this.activeViewEnum){case yt.month:return this.monthCellTemplateRef||this.cellTemplateRef;case yt.year:return this.yearCellTemplateRef;case yt.decade:return this.decadeCellTemplateRef;case yt.century:return this.centuryCellTemplateRef;default:return null}}navigateView(e){this.focusedDate=this.viewList.navigate(e),this.updateButtonState(),this.emitNavigate(this.focusedDate)}emitNavigate(e){this.navigate.emit({activeView:yt[this.activeViewEnum],focusedDate:e})}emitCellEvent(e,n){ke(e)&&this.zone.run(()=>{e.emit(n)})}handleCellClick({date:e,modifiers:n}){this.selectionService.lastClicked=e,this.performSelection(e,n),this.bus.service(this.activeViewEnum).isInArray(this.focusedDate,this.viewList.dates)||this.emitNavigate(this.focusedDate)}handleWeekNumberClick(e){"single"!==this.selection&&this.zone.run(()=>{this.handleDateChange({selectedDates:e,focusedDate:zv(e)})})}setClasses(e){this.renderer.addClass(e,"k-widget"),this.renderer.addClass(e,"k-calendar"),this.renderer.addClass(e,"k-calendar-range")}verifyChanges(){if((0,t.naY)()){if(this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-max.");if(this.bottomViewEnum>this.topViewEnum)throw new Error("The topView should be greater than bottomView. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-bottomview and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-topview.")}}verifyValue(e){if((0,t.naY)()){if("single"===this.selection&&e&&!(e instanceof Date))throw new Error(`The 'value' should be a valid JavaScript Date instance. Check ${y0e} for possible resolution.`);if("multiple"===this.selection&&e&&Array.isArray(e)&&!e.every(o=>o instanceof Date))throw new Error(`The 'value' should be an array of valid JavaScript Date instances. Check ${y0e} for possible resolution.`)}}updateButtonState(){this.resolvedPromise.then(()=>{this.isPrevDisabled=!this.viewList.canNavigate(this.prevView),this.isNextDisabled=!this.viewList.canNavigate(this.nextView),this.cdr.markForCheck()})}parseSelectionToValue(e){return e=e||[],"single"===this.selection?he(zv(e)):e.map(n=>he(n))}performSelection(e,n){const o=this.selectionService.performSelection({date:e,modifiers:n,selectionMode:this.selection,activeViewEnum:this.activeViewEnum,rangePivot:this.rangePivot,selectedDates:this.selectedDates});this.rangePivot=o.rangePivot,this.handleDateChange({selectedDates:o.selectedDates,focusedDate:e})}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(jd),t.rXU(t.aKT),t.rXU(zx),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(t.SKi),t.rXU(Yf),t.rXU(sU))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-multiviewcalendar"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,oU,5),t.wni(o,Ux,5),t.wni(o,rU,5),t.wni(o,aU,5),t.wni(o,lU,5),t.wni(o,cU,5),t.wni(o,dU,5)),2&e){let r;t.mGM(r=t.lsd())&&(n.cellTemplate=r.first),t.mGM(r=t.lsd())&&(n.monthCellTemplate=r.first),t.mGM(r=t.lsd())&&(n.yearCellTemplate=r.first),t.mGM(r=t.lsd())&&(n.decadeCellTemplate=r.first),t.mGM(r=t.lsd())&&(n.centuryCellTemplate=r.first),t.mGM(r=t.lsd())&&(n.weekNumberTemplate=r.first),t.mGM(r=t.lsd())&&(n.headerTitleTemplate=r.first)}},viewQuery:function(e,n){if(1&e&&(t.GBs(iU,5,t.aKT),t.GBs(E0e,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.headerElement=o.first),t.mGM(o=t.lsd())&&(n.viewList=o.first)}},hostVars:4,hostBindings:function(e,n){1&e&&t.bIt("mouseenter",function(){return n.handleMouseEnter()})("mouseleave",function(){return n.handleMouseLeave()})("mousedown",function(r){return n.handleMousedown(r)})("click",function(){return n.handleClick()})("keydown",function(r){return n.keydown(r)}),2&e&&(t.BMQ("id",n.widgetId)("aria-disabled",n.ariaDisabled),t.AVh("k-disabled",n.ariaDisabled))},inputs:{showOtherMonthDays:"showOtherMonthDays",showCalendarHeader:"showCalendarHeader",id:"id",focusedDate:"focusedDate",min:"min",max:"max",rangeValidation:"rangeValidation",disabledDatesRangeValidation:"disabledDatesRangeValidation",selection:"selection",value:"value",disabled:"disabled",tabindex:"tabindex",tabIndex:"tabIndex",isActive:"isActive",disabledDates:"disabledDates",activeView:"activeView",bottomView:"bottomView",topView:"topView",showViewHeader:"showViewHeader",animateNavigation:"animateNavigation",weekNumber:"weekNumber",activeRangeEnd:"activeRangeEnd",selectionRange:"selectionRange",views:"views",orientation:"orientation",cellTemplateRef:[t.Mj6.None,"cellTemplate","cellTemplateRef"],monthCellTemplateRef:[t.Mj6.None,"monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:[t.Mj6.None,"yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:[t.Mj6.None,"decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:[t.Mj6.None,"centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:[t.Mj6.None,"weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:[t.Mj6.None,"headerTitleTemplate","headerTitleTemplateRef"]},outputs:{activeViewChange:"activeViewChange",navigate:"navigate",cellEnter:"cellEnter",cellLeave:"cellLeave",valueChange:"valueChange",blurEvent:"blur",focusEvent:"focus",focusCalendar:"focusCalendar",onClosePopup:"onClosePopup",onTabPress:"onTabPress",onShiftTabPress:"onShiftTabPress"},exportAs:["kendo-multiviewcalendar"],features:[t.Jv_([jd,Dlt,Olt,j,Yf,{provide:Ve,useValue:"kendo.multiviewcalendar"},zx,sU]),t.OA$],decls:3,vars:23,consts:()=>{let i,e,n,o;return i="Oggi",e="Vai alla vista precedente",n="Vai alla vista successiva",o="Vai alla vista genitore",[["kendoMultiViewCalendarLocalizedMessages","","today",i,"prevButtonTitle",e,"nextButtonTitle",n,"parentViewButtonTitle",o],[3,"activeView","currentDate","min","max","id","rangeLength","templateRef","isPrevDisabled","isNextDisabled","showNavigationButtons","orientation","todayButtonClick","prevButtonClick","nextButtonClick",4,"ngIf"],[3,"cellClick","weekNumberCellClick","cellEnter","cellLeave","activeDateChange","focusCalendar","blurCalendar","showOtherMonthDays","id","activeView","activeDescendant","isActive","cellTemplateRef","weekNumberTemplateRef","cellUID","views","min","max","focusedDate","animateNavigation","showViewHeader","weekNumber","activeRangeEnd","selectionRange","selectedDates","orientation","tabIndex","disabled"],[3,"todayButtonClick","prevButtonClick","nextButtonClick","activeView","currentDate","min","max","id","rangeLength","templateRef","isPrevDisabled","isNextDisabled","showNavigationButtons","orientation"]]},template:function(e,n){if(1&e&&(t.eu8(0,0),t.DNE(1,Art,1,11,"kendo-calendar-header",1),t.j41(2,"kendo-calendar-horizontal",2),t.bIt("cellClick",function(r){return n.handleCellClick(r)})("weekNumberCellClick",function(r){return n.handleWeekNumberClick(r)})("cellEnter",function(r){return n.emitCellEvent(n.cellEnter,r)})("cellLeave",function(r){return n.emitCellEvent(n.cellLeave,r)})("activeDateChange",function(r){return n.setActiveDate(r)})("focusCalendar",function(){return n.handleFocus()})("blurCalendar",function(r){return n.handleFocusout(r)}),t.k0s()),2&e){let o;t.R7$(),t.Y8G("ngIf",n.showCalendarHeader),t.R7$(),t.Y8G("showOtherMonthDays",n.showOtherMonthDays)("id",n.calendarHeaderIdLabel)("activeView",n.activeViewEnum)("activeDescendant",n.ariaActivedescendant)("isActive",n.isActive||n.isHovered)("cellTemplateRef",null==(o=n.activeCellTemplate())?null:o.templateRef)("weekNumberTemplateRef",null==n.weekNumberTemplateRef?null:n.weekNumberTemplateRef.templateRef)("cellUID",n.cellUID)("views",n.views)("min",n.min)("max",n.max)("focusedDate",n.focusedDate)("animateNavigation",n.animateNavigation)("showViewHeader",n.showViewHeader)("weekNumber",n.weekNumber)("activeRangeEnd",n.activeRangeEnd)("selectionRange",n.selectionRange)("selectedDates",n.selectedDates)("orientation",n.orientation)("tabIndex",n.tabIndex)("disabled",n.disabled),t.BMQ("aria-labelledby",n.multiViewCalendarHeaderIdLabel)}},dependencies:[iU,E0e,blt,W],encapsulation:2,changeDetection:0}),s})();const hU=Vd("div"),Tlt=Vd("ul"),Mlt=Vd("li"),Ilt=Vd("td"),k0e=Vd("th"),DZ=Vd("tr"),xlt=Vd("tbody"),Alt=Vd("thead"),w0e=Vd("table"),D0e=(s,i)=>new Array(s).fill("1").map(i),O0e=s=>hU(s,"k-flex k-content k-scrollable"),Plt=(()=>{let s;return()=>ne?(s||(s=hU([O0e([Tlt([Mlt("<span>FEB</span>")])])],"k-calendar-navigation",{left:"0px",position:"absolute"})),s):null})(),OZ=({cells:s,rows:i},e,n)=>{let o;return()=>ne?(o||(o=((s,i,e)=>hU([hU('\n            <span class="k-button k-nav-fast k-button-md k-rounded-md k-button-flat k-button-flat-base k-calendar-title">March 2017</span>\n            <span class="k-spacer"></span>\n            <span class="k-calendar-nav k-hstack">\n                <button class="k-calendar-nav-today k-button k-button-md k-button-flat k-button-flat-primary k-rounded-md">TODAY</button>\n            </span>\n        ',"k-calendar-header k-hstack"),e?w0e([Alt([DZ([k0e("MO","k-calendar-th")],"k-calendar-tr")],"k-calendar-thead")],"k-calendar-weekdays k-calendar-table"):null,O0e([s,s])],i,{left:"-10000px",position:"absolute"}))(((s,i=1)=>w0e([xlt([DZ([k0e("1","k-calendar-th")],"k-calendar-tr")].concat(D0e(s,()=>DZ(D0e(i,e=>Ilt(`<span class="k-link">${e}</span>`,"k-calendar-td")),"k-calendar-tr"))),"k-calendar-tbody")],"k-calendar-table"))(i,s),e,n)),o):null},pU=s=>s.querySelector(".k-scrollable"),TZ=s=>(pU(s).classList.add("k-scrollable-horizontal"),s),T0e=OZ({cells:7,rows:6},"k-vstack k-calendar-view k-calendar-monthview",!0),M0e=OZ({cells:4,rows:3},"k-vstack k-calendar-view k-calendar-yearview",!1),I0e=OZ({cells:4,rows:3},"k-vstack k-calendar-view k-calendar-decadeview",!1),$v=s=>parseFloat(window.getComputedStyle(s).height)||s.offsetHeight,jx=s=>{const i=window.getComputedStyle(s);return parseFloat(i.width)+parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)||s.offsetWidth},xw=s=>s.querySelector("tbody");let Hx=(()=>{class s{ensureHeights(){void 0===this.calendarHeight&&this.calculateHeights()}calculateHeights(e){ne()&&(this.hostContainer=e,this.batch(T0e(),n=>{const o=xw(n);this.calendarHeight=$v(n),this.monthViewHeight=$v(o),this.headerHeight=$v(o.children[0]),this.scrollableContentHeight=$v(pU(n))}),this.batch(TZ(T0e()),n=>{const o=xw(n);this.calendarWidth=jx(n),this.monthViewWidth=jx(o),this.scrollableContentWidth=jx(pU(n))}),this.batch(M0e(),n=>{this.yearViewHeight=$v(xw(n)),this.scrollableYearContentHeight=$v(pU(n))}),this.batch(TZ(M0e()),n=>{this.yearViewWidth=jx(xw(n))}),this.batch(I0e(),n=>{this.decadeViewHeight=$v(xw(n)),this.centuryViewHeight=this.decadeViewHeight}),this.batch(TZ(I0e()),n=>{this.decadeViewWidth=jx(xw(n)),this.centuryViewWidth=this.decadeViewWidth}),this.batch(Plt(),n=>{this.navigationItemHeight=$v(n.querySelector("li"))}))}viewHeight(e){return this.viewDimension(e,"height")}viewWidth(e){return this.viewDimension(e,"width")}viewDimension(e,n){const o="height"===n?"ViewHeight":"ViewWidth";switch(e){case yt.month:return this[`month${o}`];case yt.year:return this[`year${o}`];case yt.decade:return this[`decade${o}`];case yt.century:return this[`century${o}`];default:return 1}}batch(e,n){if(!Ft(this.hostContainer))return;const o=this.hostContainer.cloneNode();document.body.appendChild(o);try{n(o.appendChild(e))}finally{document.body.removeChild(o)}}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();class zlt{constructor(i=0,e,n){this.total=i,this.rowHeight=e,this.detailRowHeight=n,this.offsets=[],this.heights=[];let o=0;for(let r=0;r<i;r++)this.offsets.push(o),o+=e,this.heights.push(e)}height(i){return this.heights[i]}expandDetail(i){this.height(i)===this.rowHeight&&this.updateRowHeight(i,this.detailRowHeight)}collapseDetail(i){this.height(i)>this.rowHeight&&this.updateRowHeight(i,-1*this.detailRowHeight)}index(i){if(i<0)return;const e=this.offsets.reduce((n,o,r)=>void 0!==n?n:o===i?r:o>i?r-1:void 0,void 0);return void 0===e?this.total-1:e}offset(i){return this.offsets[i]}totalHeight(){return this.heights.reduce((i,e)=>i+e,0)}updateRowHeight(i,e){this.heights[i]+=e,this.offsets=((s,i,e)=>[...s.slice(0,i+1),...s.slice(i+1).map(n=>n+e)])(this.offsets,i,e)}}const fU=s=>Math.max(s,0);class MZ{constructor(i){this.offset=i}}class mU{constructor(i){this.skip=i}}class jlt{constructor(i){this.scrollObservable=i,this.firstLoaded=0,this.bottomOffset=0,this.topOffset=0}create(i,e,n,o,r=0,a=0,l="vertical"){this.rowHeightService=i,this.firstLoaded=e,this.lastLoaded=e+n,this.take=n,this.total=o,this.lastScroll=0,this.topOffset=r,this.bottomOffset=a,this.direction=l;const c=new tve(2),u=this.rowsForHeight(r),f=fU(e-u);return c.next(new MZ(this.rowOffset(f))),u&&c.next(new mU(f)),this.subscription=new _s.c(_=>{this.unsubscribe(),this.scrollSubscription=this.scrollObservable.subscribe(g=>this.onScroll(g,_))}).subscribe(_=>c.next(_)),c}destroy(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}onScroll({scrollLeft:i,scrollTop:e,offsetHeight:n,offsetWidth:o},r){const a="vertical"===this.direction?e:i,l="vertical"===this.direction?n:o;if(this.lastScroll===a)return;const c=this.lastScroll>=a;this.lastScroll=a;const u=this.rowHeightService.index(fU(a-this.topOffset)),f=this.rowHeightService.index(fU(a+l-this.bottomOffset));if(!c&&f>=this.lastLoaded&&this.lastLoaded<this.total&&(this.firstLoaded=u,r.next(new MZ(this.rowOffset(u))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),r.next(new mU(this.firstLoaded))),c&&u<=this.firstLoaded){const _=Math.floor(.3*this.take);this.firstLoaded=fU(u-_),r.next(new MZ(this.rowOffset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),r.next(new mU(this.firstLoaded))}}rowOffset(i){return this.rowHeightService.offset(i)+this.topOffset}rowsForHeight(i){return Math.ceil(i/this.rowHeightService.height(0))}unsubscribe(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=null)}}const x0e=new t.nKC("dateinputs-scroll-service-factory");function Hlt(s){return new jlt(s)}var Jf=function(s){return s[s.Backward=0]="Backward",s[s.Forward=1]="Forward",s}(Jf||{});const Xlt={[Jf.Forward]:s=>i=>i+s,[Jf.Backward]:s=>i=>i-s},Wlt={[Jf.Forward]:s=>i=>Math.min(i,s),[Jf.Backward]:s=>i=>Math.max(i,s)},Ylt={[Jf.Forward]:s=>i=>i<s,[Jf.Backward]:s=>i=>i>s};let V0=(()=>{class s{constructor(e,n,o,r,a){this.container=n,this.renderer=o,this.zone=r,this.scrollBarWidthService=a,this.direction="vertical",this.itemHeight=1,this.itemWidth=1,this.topOffset=0,this.bottomOffset=0,this.maxScrollDifference=100,this.scrollOffsetSize=0,this.scrollDuration=150,this.activeIndexChange=new t.bkB,this.pageChange=new t.bkB,this.scrollChange=new t.bkB,this.wrapperClasses=!0,this.resolvedPromise=Promise.resolve(null),this.dispatcher=new Xe.B,this.scroller=e(this.dispatcher)}get horizontalClass(){return"horizontal"===this.direction}get totalVertexLength(){const e=`${this.totalSize}px`;return"vertical"===this.direction?{height:e}:{width:e}}get containerOffsetSize(){return this.getContainerProperty("vertical"===this.direction?"offsetHeight":"offsetWidth")}get containerScrollSize(){return this.getContainerProperty("vertical"===this.direction?"scrollHeight":"scrollWidth")}get containerScrollPosition(){return this.getContainerProperty("vertical"===this.direction?"scrollTop":"scrollLeft")}ngOnChanges(e){(e.direction||e.take||e.total)&&(this.initServices(),this.totalSize=this.rowHeightService.totalHeight()+this.bottomOffset)}ngOnInit(){this.rowHeightService||(this.rowHeightService=this.createRowHeightService())}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{this.containerScrollSubscription=this.scroll$().pipe((0,U.T)(e=>e.target)).subscribe(e=>{this.dispatcher.next(e),this.emitActiveIndex()})})}ngOnDestroy(){this.containerScrollSubscription&&this.containerScrollSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.animationSubscription&&this.animationSubscription.unsubscribe()}getContainerProperty(e){return this.container.nativeElement[e]}activeIndex(){return this.itemIndex(Math.ceil(this.containerScrollPosition))}itemIndex(e){return this.rowHeightService.index(e)}itemOffset(e){return this.rowHeightService.offset(e)}isIndexVisible(e){if(!this.rowHeightService)return!1;const n=this.containerScrollPosition,o=n+this.containerOffsetSize,r=this.rowHeightService.offset(e),a=r+this.rowHeightService.height(e);return r>=n&&a<=o}isListScrolled(e){return this.containerScrollPosition!==this.rowHeightService.offset(e)}scrollTo(e){this.renderer.setProperty(this.container.nativeElement,"vertical"===this.direction?"scrollTop":"scrollLeft",e)}scrollToIndex(e){this.zone.runOutsideAngular(()=>{this.resolvedPromise.then(()=>{this.scrollTo(this.rowHeightService.offset(e))})})}scrollToBottom(){this.scrollTo(this.totalSize)}animateToIndex(e){this.animationSubscription&&this.animationSubscription.unsubscribe();const n=this.rowHeightService.offset(e),o=this.getContainerScrollDirection(n),{start:r,end:a}=this.scrollRange(n,o);if(r===a)return;const l=this.scrollStep(r,a),c=Xlt[o](l),u=Wlt[o](a),f=Ylt[o](c(a));this.zone.runOutsideAngular(()=>{this.animationSubscription=Hh(pt(r),l0(0,Fot)).pipe((0,U.T)(_=>_[0]),N8(c),PCe(f),(0,U.T)(u)).subscribe(_=>this.scrollTo(_))})}scrollRange(e,n){const o=this.containerScrollPosition;if(parseInt(e,10)===parseInt(o,10))return{start:e,end:e};const r=this.containerMaxScroll(),a=n===Jf.Backward?1:-1,l=((s,i,e)=>Math.min(Math.abs(i-s),e))(o,e,this.maxScrollDifference),c=Math.min(e,r);return{start:Math.min(Math.max(c+a*l,0),r),end:c}}scrollStep(e,n){return Math.abs(n-e)/(this.scrollDuration/17)}scroll$(){return ne()?wt(this.container.nativeElement,"scroll"):Nr}initServices(){this.rowHeightService=this.createRowHeightService(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.scrollSubscription=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total,this.topOffset,this.scrollOffsetSize,this.direction).subscribe(e=>{e instanceof mU?this.pageChange.emit(e):this.scrollChange.emit(e)})}createRowHeightService(){return new zlt(this.total,"vertical"===this.direction?this.itemHeight:this.itemWidth,0)}emitActiveIndex(){const e=this.rowHeightService.index(this.containerScrollPosition-this.topOffset);this.lastActiveIndex!==e&&(this.lastActiveIndex=e,this.activeIndexChange.emit(e))}containerMaxScroll(){return this.containerScrollSize-this.containerOffsetSize}getContainerScrollDirection(e){return e<this.containerScrollPosition?Jf.Backward:Jf.Forward}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(x0e),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.SKi),t.rXU(t0))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-virtualization"]],hostVars:8,hostBindings:function(e,n){2&e&&t.AVh("k-flex",n.wrapperClasses)("k-content",n.wrapperClasses)("k-scrollable",n.wrapperClasses)("k-scrollable-horizontal",n.horizontalClass)},inputs:{direction:"direction",itemHeight:"itemHeight",itemWidth:"itemWidth",topOffset:"topOffset",bottomOffset:"bottomOffset",maxScrollDifference:"maxScrollDifference",scrollOffsetSize:"scrollOffsetSize",scrollDuration:"scrollDuration",skip:"skip",take:"take",total:"total"},outputs:{activeIndexChange:"activeIndexChange",pageChange:"pageChange",scrollChange:"scrollChange"},features:[t.Jv_([{provide:x0e,useValue:Hlt}]),t.OA$],ngContentSelectors:n0e,decls:2,vars:3,consts:[[1,"k-scrollable-placeholder",3,"ngStyle"]],template:function(e,n){1&e&&(t.NAR(),t.SdG(0),t.nrm(1,"div",0)),2&e&&(t.R7$(),t.AVh("k-scrollable-horizontal-placeholder","horizontal"===n.direction),t.Y8G("ngStyle",n.totalVertexLength))},dependencies:[Jn],encapsulation:2}),s})(),A0e=(()=>{class s{constructor(e,n,o,r,a){this.bus=e,this.dom=n,this.intl=o,this.cdr=r,this.renderer=a,this.min=new Date(Ku),this.max=new Date(Ju),this.focusedDate=new Date,this.valueChange=new t.bkB,this.pageChange=new t.bkB,this.dates=[],this.take=30,this.indexToScroll=-1}get getComponentClass(){return!0}ngOnInit(){this.dom.ensureHeights();const e=this.dom.calendarHeight;this.itemHeight=this.dom.navigationItemHeight,this.maxViewHeight=this.dom.monthViewHeight,this.topOffset=(e-this.itemHeight)/2,this.bottomOffset=e-this.itemHeight,this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}ngOnChanges(e){if(this.service=this.bus.service(this.activeView),!this.service)return;this.activeViewValue=yt[this.activeView];const n=og(this.focusedDate,this.min,this.max),o=this.service.total(this.min,this.max),r=this.total&&this.total!==o;this.skip=this.service.skip(n,this.min),this.total=o,(r||!this.service.isInArray(n,this.dates))&&(this.dates=this.service.datesList(n,this.getTake(this.skip))),(e.focusedDate||r)&&(this.indexToScroll=this.service.skip(this.focusedDate,this.min))}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe()}ngAfterViewInit(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}ngAfterViewChecked(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}onPageChange({skip:e}){this.dates=this.service.datesList(this.service.addToDate(this.min,e),this.getTake(e)),this.pageChange.emit()}scrollChange({offset:e}){const n=this.list.nativeElement,o=`translateY(${e}px)`;this.renderer.setStyle(n,"transform",o),this.renderer.setStyle(n,"-ms-transform",o)}handleDateChange(e){const n=kZ(e.target,o=>o.hasAttribute("data-date-index"),this.list.nativeElement);if(n){const o=parseInt(n.getAttribute("data-date-index"),10);this.valueChange.emit(he(this.dates[o]))}}getTake(e){return Math.min(this.total-e,this.take)}intlChange(){this.activeView===yt.month&&this.cdr.markForCheck()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(jd),t.rXU(Hx),t.rXU(Gt.Bs),t.rXU(t.gRc),t.rXU(t.sFG))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-calendar-navigation"]],viewQuery:function(e,n){if(1&e&&(t.GBs(V0,5),t.GBs(i0e,7)),2&e){let o;t.mGM(o=t.lsd())&&(n.virtualization=o.first),t.mGM(o=t.lsd())&&(n.list=o.first)}},hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-calendar-navigation",n.getComponentClass)},inputs:{activeView:"activeView",min:"min",max:"max",focusedDate:"focusedDate",templateRef:"templateRef"},outputs:{valueChange:"valueChange",pageChange:"pageChange"},features:[t.OA$],decls:5,vars:12,consts:[["list",""],[1,"k-calendar-navigation-highlight"],[3,"pageChange","scrollChange","skip","take","total","itemHeight","topOffset","bottomOffset","maxScrollDifference"],[1,"k-reset",3,"kendoEventsOutsideAngular","scope"],[4,"kFor","kForOf"],[3,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){if(1&e){const o=t.RV6();t.nrm(0,"span",1),t.j41(1,"kendo-virtualization",2),t.bIt("pageChange",function(a){return t.eBV(o),t.Njj(n.onPageChange(a))})("scrollChange",function(a){return t.eBV(o),t.Njj(n.scrollChange(a))}),t.j41(2,"ul",3,0),t.DNE(4,Lrt,4,11,"li",4),t.k0s()()}2&e&&(t.R7$(),t.Y8G("skip",n.skip)("take",n.take)("total",n.total)("itemHeight",n.itemHeight)("topOffset",n.topOffset)("bottomOffset",n.bottomOffset)("maxScrollDifference",n.maxViewHeight),t.R7$(),t.Y8G("kendoEventsOutsideAngular",t.eq3(10,U0,n.handleDateChange))("scope",n),t.R7$(2),t.Y8G("kForOf",n.dates))},dependencies:[V0,Vo,nU,W,Je],encapsulation:2,changeDetection:0}),s})(),R0e=(()=>{class s{constructor(e,n,o,r,a){this.bus=e,this.cdr=n,this.intl=o,this.dom=r,this.renderer=a,this.isActive=!0,this.min=new Date(Ku),this.max=new Date(Ju),this.selectedDates=[],this.tabIndex=0,this.disabled=!1,this.cellClick=new t.bkB,this.weekNumberCellClick=new t.bkB,this.activeDateChange=new t.bkB,this.todayButtonClick=new t.bkB,this.pageChange=new t.bkB,this.focusCalendar=new t.bkB,this.blurCalendar=new t.bkB,this.focusedCellChange=new t.bkB,this.getComponentClass=!0,this.dates=[],this.cols=[],this.weekNames=[],this.wideWeekNames=[],this.take=5,this.animateToIndex=!0,this.indexToScroll=-1,this.minViewsToRender=1}get weekNumber(){return this.showWeekNumbers&&this.isMonthView()}set weekNumber(e){this.showWeekNumbers=e}get headerTitle(){return this.headerComponent?.title}get getComponentMonthClass(){return this.activeView===yt.month}get getComponentYearClass(){return this.activeView===yt.year}get getComponentDecadeClass(){return this.activeView===yt.decade}get getComponentCenturyClass(){return this.activeView===yt.century}ngOnInit(){this.weekNames=this.getWeekNames("short"),this.wideWeekNames=this.getWeekNames("wide"),this.bottomOffset=this.getBottomOffset(),this.viewOffset=-1*this.dom.headerHeight,this.viewHeight=this.dom.viewHeight(this.activeView),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}ngOnChanges(e){if(this.service=this.bus.service(this.activeView),!this.service)return;this.cols=new Array(this.service.rowLength({prependCell:this.weekNumber})).fill(""),this.weekNames=rg(e,"weekNumber")&&this.weekNumber?this.getWeekNames("short"):this.weekNames,this.wideWeekNames=rg(e,"weekNumber")&&this.weekNumber?this.getWeekNames("wide"):this.weekNames;const n=rg(e,"activeView"),o=this.focusedDate,r=og(this.service.viewDate(o,this.max,this.minViewsToRender),this.min,this.max),a=this.service.total(this.min,this.max),c=this.total&&this.total!==a||!this.service.isInArray(o,this.dates);this.skip=this.service.skip(r,this.min),this.total=a,this.animateToIndex=!n,this.bottomOffset=this.getBottomOffset(),this.viewHeight=this.dom.viewHeight(this.activeView),c&&(this.dates=this.service.datesList(r,this.getTake(this.skip))),((s,i)=>s&&i&&s.getFullYear()===i.getFullYear()&&s.getMonth()===i.getMonth())(this.activeDate,o)||(this.activeDate=he(o));const u=rg(e,"focusedDate")||n;(c||u||this.virtualization.isIndexVisible(this.skip))&&(this.indexToScroll=this.service.skip(o,this.min))}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe()}ngAfterViewInit(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}ngAfterViewChecked(){-1!==this.indexToScroll&&(this.virtualization[this.animateToIndex?"animateToIndex":"scrollToIndex"](this.indexToScroll),this.animateToIndex=!0,this.indexToScroll=-1)}onPageChange({skip:e}){this.dates=this.service.datesList(this.service.addToDate(this.min,e),this.getTake(e)),this.pageChange.emit()}scrollChange({offset:e}){const n=this.list.nativeElement,o=`translateY(${e}px)`;this.renderer.setStyle(n,"transform",o),this.renderer.setStyle(n,"-ms-transform",o)}setActiveDate(e){const n=this.service.addToDate(this.min,e);this.activeDate=n,this.activeDateChange.emit(n),this.cdr.detectChanges()}isMonthView(){return this.activeView===yt.month}isScrolled(){return this.virtualization.isListScrolled(this.service.skip(this.focusedDate,this.min))}getTabIndex(){return this.disabled?null:this.tabIndex}getBottomOffset(){return this.getScrollableHeight()-this.dom.viewHeight(this.activeView)}getScrollableHeight(){return this.activeView===yt.month?this.dom.scrollableContentHeight:this.dom.scrollableYearContentHeight}getTake(e){return Math.min(this.total-e,this.take)}getWeekNames(e){const n=f0e(this.intl.dateFormatNames({nameType:e,type:"days"}),this.intl.firstDay());return this.weekNumber?[""].concat(n):n}intlChange(){this.weekNames=this.getWeekNames("short"),this.wideWeekNames=this.getWeekNames("wide"),this.isMonthView()&&this.cdr.markForCheck()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(jd),t.rXU(t.gRc),t.rXU(Gt.Bs),t.rXU(Hx),t.rXU(t.sFG))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-calendar-viewlist"]],viewQuery:function(e,n){if(1&e&&(t.GBs(V0,5),t.GBs(iU,5),t.GBs(i0e,7)),2&e){let o;t.mGM(o=t.lsd())&&(n.virtualization=o.first),t.mGM(o=t.lsd())&&(n.headerComponent=o.first),t.mGM(o=t.lsd())&&(n.list=o.first)}},hostVars:12,hostBindings:function(e,n){2&e&&t.AVh("k-vstack",n.getComponentClass)("k-calendar-view",n.getComponentClass)("k-calendar-monthview",n.getComponentMonthClass)("k-calendar-yearview",n.getComponentYearClass)("k-calendar-decadeview",n.getComponentDecadeClass)("k-calendar-centuryview",n.getComponentCenturyClass)},inputs:{cellTemplateRef:"cellTemplateRef",weekNumberTemplateRef:"weekNumberTemplateRef",headerTitleTemplateRef:"headerTitleTemplateRef",showOtherMonthDays:"showOtherMonthDays",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate",isActive:"isActive",min:"min",max:"max",selectedDates:"selectedDates",tabIndex:"tabIndex",disabled:"disabled",id:"id",weekNumber:"weekNumber"},outputs:{cellClick:"cellClick",weekNumberCellClick:"weekNumberCellClick",activeDateChange:"activeDateChange",todayButtonClick:"todayButtonClick",pageChange:"pageChange",focusCalendar:"focusCalendar",blurCalendar:"blurCalendar",focusedCellChange:"focusedCellChange"},features:[t.OA$],decls:8,vars:20,consts:[["list",""],[3,"todayButtonClick","currentDate","min","max","id","activeView","templateRef"],["class","k-calendar-weekdays k-calendar-table",3,"table-layout",4,"ngIf"],[3,"pageChange","scrollChange","activeIndexChange","tabindex","skip","take","total","itemHeight","topOffset","bottomOffset","scrollOffsetSize","maxScrollDifference"],["role","grid",1,"k-calendar-table",3,"focus","blur"],[4,"ngFor","ngForOf"],["class","k-calendar-tbody","kendoCalendarView","","role","rowgroup",3,"showOtherMonthDays","headerTitle","activeView","isActive","min","max","cellUID","focusedDate","selectedDates","weekNumber","templateRef","weekNumberTemplateRef","viewDate","cellClick","weekNumberCellClick","focusedCellId",4,"kFor","kForOf"],[1,"k-calendar-weekdays","k-calendar-table"],[1,"k-calendar-thead"],[1,"k-calendar-tr"],["class","k-calendar-th","scope","col","role","columnheader",4,"ngFor","ngForOf"],["scope","col","role","columnheader",1,"k-calendar-th"],["kendoCalendarView","","role","rowgroup",1,"k-calendar-tbody",3,"cellClick","weekNumberCellClick","focusedCellId","showOtherMonthDays","headerTitle","activeView","isActive","min","max","cellUID","focusedDate","selectedDates","weekNumber","templateRef","weekNumberTemplateRef","viewDate"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"kendo-calendar-header",1),t.bIt("todayButtonClick",function(a){return t.eBV(o),t.Njj(n.todayButtonClick.emit(a))}),t.k0s(),t.DNE(1,Prt,4,3,"table",2),t.j41(2,"kendo-virtualization",3),t.bIt("pageChange",function(a){return t.eBV(o),t.Njj(n.onPageChange(a))})("scrollChange",function(a){return t.eBV(o),t.Njj(n.scrollChange(a))})("activeIndexChange",function(a){return t.eBV(o),t.Njj(n.setActiveDate(a))}),t.j41(3,"table",4,0),t.bIt("focus",function(){return t.eBV(o),t.Njj(n.focusCalendar.emit())})("blur",function(a){return t.eBV(o),t.Njj(n.blurCalendar.emit(a))}),t.j41(5,"colgroup"),t.DNE(6,Frt,1,0,"col",5),t.k0s(),t.DNE(7,Urt,1,13,"tbody",6),t.k0s()()}2&e&&(t.Y8G("currentDate",n.activeDate)("min",n.min)("max",n.max)("id",n.id)("activeView",n.activeView)("templateRef",n.headerTitleTemplateRef),t.R7$(),t.Y8G("ngIf",n.isMonthView()),t.R7$(),t.Y8G("tabindex",-1)("skip",n.skip)("take",n.take)("total",n.total)("itemHeight",n.viewHeight)("topOffset",n.viewOffset)("bottomOffset",n.bottomOffset)("scrollOffsetSize",n.viewOffset)("maxScrollDifference",n.viewHeight),t.R7$(),t.BMQ("tabindex",n.getTabIndex())("aria-labelledby",n.id),t.R7$(3),t.Y8G("ngForOf",n.cols),t.R7$(),t.Y8G("kForOf",n.dates))},dependencies:[iU,V0,C0e,W,st,nU],encapsulation:2,changeDetection:0}),s})(),N0e=(()=>{class s{constructor(e,n){this.dom=e,this.zone=n}configure(e){const n=Math.max(this.dom.viewHeight(e)/this.dom.navigationItemHeight,1);this.divideByMagnitude=(s=>i=>Math.floor(i/s))(n),this.powerByMagnitude=(s=>i=>i*s)(n)}sync(e,n){this.unsubscribe(),e&&n&&(this.navigator=e,this.view=n,this.zone.runOutsideAngular(()=>{let o,r;this.navSubscription=e.scroll$().subscribe(a=>{r?r=!1:(o=!0,this.scrollSiblingOf(a.target))}),this.viewSubscription=n.scroll$().subscribe(a=>{o?o=!1:(r=!0,this.scrollSiblingOf(a.target))})}))}scrollSiblingOf(e){const n=this.siblingComponent(e),o=this.calculateScroll(n,e.scrollTop);n.scrollTo(o)}siblingComponent(e){return this.navigator.container.nativeElement===e?this.view:this.navigator}calculateScroll(e,n){return(e===this.navigator?this.divideByMagnitude:this.powerByMagnitude)(n)}destroy(){this.unsubscribe()}unsubscribe(){this.navSubscription&&this.navSubscription.unsubscribe(),this.viewSubscription&&this.viewSubscription.unsubscribe()}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Hx),t.KVO(t.SKi))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),L0e=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoCalendarNavigationItemTemplate",""]]}),s})();class ag{constructor(){this.onFocus=new t.bkB,this.onBlur=new t.bkB,this.sameDateSelected=new t.bkB,this.dateCompletenessChange=new t.bkB}}let tct=(()=>{class s extends uU{constructor(e){super(),this.service=e}get override(){return!0}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-multiviewcalendar-messages"]],features:[t.Jv_([{provide:uU,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),_U=(()=>{class s extends Gi{}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275dir=t.FsC({type:s,selectors:[["kendo-calendar-messages-base"]],inputs:{today:"today",prevButtonTitle:"prevButtonTitle",nextButtonTitle:"nextButtonTitle",parentViewButtonTitle:"parentViewButtonTitle"},features:[t.Vt3]}),s})(),nct=(()=>{class s extends _U{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoCalendarLocalizedMessages",""]],features:[t.Jv_([{provide:_U,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})();const G0e="http://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/#toc-using-with-json",P0e=s=>s?s.virtualization:null,act={multi:!0,provide:Yn,useExisting:(0,t.Rfq)(()=>Aw)},lct={multi:!0,provide:Ho,useExisting:(0,t.Rfq)(()=>Aw)},cct={provide:as,useExisting:(0,t.Rfq)(()=>Aw)};let Aw=(()=>{class s{constructor(e,n,o,r,a,l,c,u,f,_,g,S,b){this.bus=e,this.dom=n,this.element=o,this.navigator=r,this.renderer=a,this.cdr=l,this.ngZone=c,this.injector=u,this.scrollSyncService=f,this.disabledDatesService=_,this.localization=g,this.selectionService=S,this.pickerService=b,this.rangeValidation=!1,this.selection="single",this.disabled=!1,this.tabindex=0,this.navigation=!0,this.activeView=yt[yt.month],this.bottomView=yt[yt.month],this.topView=yt[yt.century],this.animateNavigation=!1,this.weekNumber=!1,this.activeViewChange=new t.bkB,this.navigate=new t.bkB,this.activeViewDateChange=new t.bkB,this.onBlur=new t.bkB,this.onFocus=new t.bkB,this.valueChange=new t.bkB,this._size=Wf,this.isActive=!1,this.cellUID=rn(),this.selectedDates=[],this._min=new Date(Ku),this._max=new Date(Ju),this._focusedDate=Bd(),this.onControlChange=Jt,this.onControlTouched=Jt,this.onValidatorChange=Jt,this.minValidateFn=Jt,this.maxValidateFn=Jt,this.syncNavigation=!0,this._type="infinite",this.domEvents=[],this.resolvedPromise=Promise.resolve(null),this.destroyed=!1,(0,mt.$)(Tw),this.id=`kendo-calendarid-${this.bus.calendarId}`,this.setClasses(o.nativeElement),this.pickerService&&(this.pickerService.calendar=this)}set showOtherMonthDays(e){this._showOtherMonthDays=e}get showOtherMonthDays(){return void 0===this._showOtherMonthDays?"classic"===this.type:this._showOtherMonthDays}get popupId(){return`kendo-popup-${this.bus.calendarId}`}set focusedDate(e){if(this.activeViewDate&&!ls(this._focusedDate,e)){const n=this.bus.service(this.activeViewEnum),o=n.lastDayOfPeriod(this.activeViewDate);n.isInRange(e,this.activeViewDate,o)||this.emitNavigate(e)}this._focusedDate=e||Bd(),this.setAriaActivedescendant()}get focusedDate(){return this._focusedDate>this.max?this.max:this._focusedDate<this.min?this.min:this._focusedDate}get headerId(){return this.id+"-header"}set min(e){this._min=e||new Date(Ku)}get min(){return this._min}set max(e){this._max=e||new Date(Ju)}get max(){return this._max}get value(){return this._value}set value(e){this.verifyValue(e),this._value=Array.isArray(e)?e.filter(o=>Ft(o)).map(o=>he(o)):he(e);const n=[].concat(e).filter(o=>Ft(o)).map(o=>he(o));if(!tU(n,this.selectedDates)){const o=zv(n);this.rangePivot=he(o),this.focusedDate=he(o)||this.focusedDate,this.selectedDates=n}}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set disabledDates(e){this.disabledDatesService.initialize(e),this._disabledDates=e}get disabledDates(){return this._disabledDates}set type(e){this.renderer.removeClass(this.element.nativeElement,`k-calendar-${this.type}`),this.renderer.addClass(this.element.nativeElement,`k-calendar-${e}`),this._type=e}get type(){return this._type}set cellTemplateRef(e){this._cellTemplateRef=e}get cellTemplateRef(){return this._cellTemplateRef||this.cellTemplate}set monthCellTemplateRef(e){this._monthCellTemplateRef=e}get monthCellTemplateRef(){return this._monthCellTemplateRef||this.monthCellTemplate}set yearCellTemplateRef(e){this._yearCellTemplateRef=e}get yearCellTemplateRef(){return this._yearCellTemplateRef||this.yearCellTemplate}set decadeCellTemplateRef(e){this._decadeCellTemplateRef=e}get decadeCellTemplateRef(){return this._decadeCellTemplateRef||this.decadeCellTemplate}set centuryCellTemplateRef(e){this._centuryCellTemplateRef=e}get centuryCellTemplateRef(){return this._centuryCellTemplateRef||this.centuryCellTemplate}set weekNumberTemplateRef(e){this._weekNumberTemplateRef=e}get weekNumberTemplateRef(){return this._weekNumberTemplateRef||this.weekNumberTemplate}set headerTitleTemplateRef(e){this._headerTitleTemplateRef=e}get headerTitleTemplateRef(){return this._headerTitleTemplateRef||this.headerTitleTemplate}set navigationItemTemplateRef(e){this._navigationItemTemplateRef=e}get navigationItemTemplateRef(){return this._navigationItemTemplateRef||this.navigationItemTemplate}set size(e){const n="infinite"===this.type?this.element:this.multiViewCalendar.element;this.renderer.removeClass(n.nativeElement,ro("calendar",this.size));const o=e||Wf;"none"!==o&&this.renderer.addClass(n.nativeElement,ro("calendar",o)),this._size=o}get size(){return this._size}get activeViewEnum(){const e=yt[this.activeView];return e<this.bottomViewEnum?this.bottomViewEnum:e}get bottomViewEnum(){return yt[this.bottomView]}get topViewEnum(){return yt[this.topView]}get widgetId(){return this.id}get ariaDisabled(){return"classic"===this.type?void 0:this.disabled}ngOnInit(){"infinite"===this.type&&(this.dom.calculateHeights(this.element.nativeElement),this.scrollSyncService.configure(this.activeViewEnum)),this.localizationChangeSubscription=this.localization.changes.subscribe(()=>this.cdr.markForCheck()),this.viewChangeSubscription=this.bus.viewChanged.subscribe(({view:e})=>this.handleActiveViewChange(yt[e])),this.control=this.injector.get(Ri,null),this.element&&this.ngZone.runOutsideAngular(()=>{this.bindEvents()})}ngOnChanges(e){this.verifyChanges(),this.bus.configure(this.bottomViewEnum,this.topViewEnum),this.scrollSyncService.configure(this.activeViewEnum),m0e(e,"focusedDate")&&(this.focusedDate=og(e.focusedDate.currentValue,this.min,this.max)),e.navigation&&(this.syncNavigation=!0),(e.min||e.max||e.rangeValidation)&&(this.minValidateFn=this.rangeValidation?Bx(this.min):Jt,this.maxValidateFn=this.rangeValidation?Vx(this.max):Jt,this.onValidatorChange())}ngAfterViewInit(){this.setAriaActivedescendant(),"none"!==this.size&&this.renderer.addClass(("infinite"===this.type?this.element:this.multiViewCalendar.element).nativeElement,ro("calendar",this.size))}ngAfterViewChecked(){this.syncNavigation&&(this.syncNavigation=!1,this.scrollSyncService.sync(P0e(this.navigationView),P0e(this.monthView)))}ngOnDestroy(){this.scrollSyncService.destroy(),this.domEvents.forEach(e=>e()),this.pickerService&&(this.pickerService.calendar=null),this.viewChangeSubscription&&this.viewChangeSubscription.unsubscribe(),this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.destroyed=!0}onResize(){this.focusedDate=new Date(this.focusedDate),this.cdr.detectChanges()}focus(){this.currentlyFocusedElement="infinite"===this.type?this.element?.nativeElement.querySelector(".k-content .k-calendar-table"):this.currentlyFocusedElement=this.element?.nativeElement.querySelector(".k-content.k-calendar-table"),this.currentlyFocusedElement?.focus()}blur(){const e="infinite"===this.type?this.currentlyFocusedElement:this.multiViewCalendar;Ft(e)&&e.blur()}containsElement(e){return!!wZ(e,n=>n===this.element.nativeElement)}handleNavigation(e){if(this.disabled)return;const n=e?new Date(he(e).setDate(1)):this.focusedDate;this.focusedDate=og(n,this.min,this.max),this.detectChanges()}onPageChange(){t.SKi.isInAngularZone()||(this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.pageChangeSubscription=gs(this.resolvedPromise).subscribe(()=>{this.detectChanges()}))}handleMultiViewCalendarValueChange(e,n){const o=Array.isArray(e)?e:[e];this.handleDateChange({selectedDates:o,focusedDate:n})}handleDateChange(e){const n=Array.isArray(e.selectedDates)?e.selectedDates:[e.selectedDates],o=this.bus.canMoveDown(this.activeViewEnum),r=n.filter(a=>!this.disabledDatesService.isDateDisabled(a));if(this.focusedDate=e.focusedDate||this.focusedDate,!this.disabled){if(!o&&tU(r,this.selectedDates))return void this.emitSameDate();if(o)return void this.bus.moveDown(this.activeViewEnum);this.disabledDatesService.isDateDisabled(this.focusedDate)||this.ngZone.run(()=>{this.selectedDates=r.map(a=>he(a)),this.value=this.parseSelectionToValue(r),this.onControlChange(this.parseSelectionToValue(r)),this.valueChange.emit(this.parseSelectionToValue(r)),this.cdr.markForCheck()})}}writeValue(e){this.verifyValue(e),this.value=e,this.cdr.markForCheck()}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)}registerOnValidatorChange(e){this.onValidatorChange=e}activeCellTemplate(){switch(this.activeViewEnum){case yt.month:return this.monthCellTemplateRef||this.cellTemplateRef;case yt.year:return this.yearCellTemplateRef;case yt.decade:return this.decadeCellTemplateRef;case yt.century:return this.centuryCellTemplateRef;default:return null}}handleNavigate(e){this.focusedDate=e.focusedDate,this.activeView=e.activeView,this.emitNavigate(this.focusedDate)}emitNavigate(e){this.navigate.emit({activeView:yt[this.activeViewEnum],focusedDate:e})}emitEvent(e,n){ke(e)&&this.ngZone.run(()=>{e.emit(n)})}handleActiveDateChange(e){this.activeViewDate=e,this.emitEvent(this.activeViewDateChange,e)}handleActiveViewChange(e){this.activeView=e,this.emitEvent(this.activeViewChange,e),"infinite"===this.type&&this.scrollSyncService.configure(this.activeViewEnum),this.detectChanges()}handleCellClick({date:e,modifiers:n}){this.focus(),this.selectionService.lastClicked=e,this.performSelection(e,n)}handleWeekNumberClick(e){"single"!==this.selection&&this.ngZone.run(()=>{this.handleDateChange({selectedDates:e,focusedDate:zv(e)})})}handleBlur(e){this.element.nativeElement.contains(e.relatedTarget)||(this.isActive=!1,!this.pickerService&&W5(this.control)?this.ngZone.run(()=>{this.onControlTouched(),this.emitBlur(e),this.cdr.markForCheck()}):(this.emitBlur(e),this.detectChanges()))}handleFocus(){this.isActive=!0,t.SKi.isInAngularZone()||this.detectChanges(),this.emitFocus()}handleMultiViewCalendarKeydown(e){Ft(this.pickerService)&&e.keyCode===F.Enter&&e.preventDefault()}setClasses(e){this.renderer.addClass(e,"k-widget"),this.renderer.addClass(e,"k-calendar"),this.renderer.addClass(e,`k-calendar-${this.type}`)}verifyChanges(){if((0,t.naY)()){if(this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-max.");if(this.bottomViewEnum>this.topViewEnum)throw new Error("The topView should be greater than bottomView. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-bottomview and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-topview.")}}verifyValue(e){if((0,t.naY)()){if("single"===this.selection&&e&&!(e instanceof Date))throw new Error(`The 'value' should be a valid JavaScript Date instance. Check ${G0e} for possible resolution.`);if("multiple"===this.selection&&e&&Array.isArray(e)&&!e.every(o=>o instanceof Date))throw new Error(`The 'value' should be an array of valid JavaScript Date instances. Check ${G0e} for possible resolution.`)}}bindEvents(){const e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"focus",this.handleFocus.bind(this)),this.renderer.listen(e,"mousedown",zat),this.renderer.listen(e,"click",this.handleComponentClick.bind(this)),this.renderer.listen(e,"keydown",this.handleKeydown.bind(this)))}emitBlur(e){this.pickerService&&this.pickerService.onBlur.emit(e),this.onBlur.emit()}emitFocus(){this.pickerService&&this.pickerService.onFocus.emit(),this.onFocus.emit()}handleComponentClick(){this.isActive||("infinite"===this.type&&this.monthView.isScrolled()&&(this.focusedDate=he(this.focusedDate),this.detectChanges()),this.focus())}handleKeydown(e){if("infinite"===this.type){const n=e.ctrlKey||e.metaKey,o=-1!==[F.ArrowUp,F.ArrowRight,F.ArrowDown,F.ArrowLeft].indexOf(e.keyCode);if(Ft(this.pickerService)&&o&&e.altKey)return;n&&o&&e.preventDefault(),Ft(this.pickerService)&&e.keyCode===F.Enter&&e.preventDefault();const l=og(this.navigator.move(this.focusedDate,this.navigator.action(e),this.activeViewEnum),this.min,this.max);ls(this.focusedDate,l)||(this.focusedDate=l,this.detectChanges(),e.preventDefault()),e.keyCode===F.Enter&&(this.selectionService.lastClicked=this.focusedDate,this.performSelection(this.focusedDate,e)),e.keyCode===F.KeyT&&this.focusToday(),c0e(e)&&(e.anyArrow=!0,this.performSelection(this.focusedDate,e))}}focusToday(){this.focusedDate=Bd(),this.bus.moveToBottom(this.activeViewEnum),this.cdr.detectChanges()}detectChanges(){this.destroyed||this.cdr.detectChanges()}emitSameDate(){this.pickerService&&this.pickerService.sameDateSelected.emit()}setAriaActivedescendant(){const e=this.element.nativeElement?.querySelector(".k-content .k-calendar-table");if(!Ft(e)||"classic"===this.type&&!e.hasAttribute("aria-activedescendant"))return;if("classic"===this.type)return void this.renderer.removeAttribute(e,"aria-activedescendant");const o=this.cellUID+this.focusedDate.getTime();this.renderer.setAttribute(e,"aria-activedescendant",o)}parseSelectionToValue(e){return e=e||[],"single"===this.selection?he(zv(e)):e.map(n=>he(n))}performSelection(e,n){const o=this.selectionService.performSelection({date:e,modifiers:n,selectionMode:this.selection,activeViewEnum:this.activeViewEnum,rangePivot:this.rangePivot,selectedDates:this.selectedDates});this.rangePivot=o.rangePivot,this.handleDateChange({selectedDates:o.selectedDates,focusedDate:e})}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(jd),t.rXU(Hx),t.rXU(t.aKT),t.rXU(zx),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(t.SKi),t.rXU(t.zZn),t.rXU(N0e),t.rXU(Yf),t.rXU(j),t.rXU(sU),t.rXU(ag,8))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-calendar"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,oU,5),t.wni(o,Ux,5),t.wni(o,rU,5),t.wni(o,aU,5),t.wni(o,lU,5),t.wni(o,cU,5),t.wni(o,dU,5),t.wni(o,L0e,5)),2&e){let r;t.mGM(r=t.lsd())&&(n.cellTemplate=r.first),t.mGM(r=t.lsd())&&(n.monthCellTemplate=r.first),t.mGM(r=t.lsd())&&(n.yearCellTemplate=r.first),t.mGM(r=t.lsd())&&(n.decadeCellTemplate=r.first),t.mGM(r=t.lsd())&&(n.centuryCellTemplate=r.first),t.mGM(r=t.lsd())&&(n.weekNumberTemplate=r.first),t.mGM(r=t.lsd())&&(n.headerTitleTemplate=r.first),t.mGM(r=t.lsd())&&(n.navigationItemTemplate=r.first)}},viewQuery:function(e,n){if(1&e&&(t.GBs(A0e,5),t.GBs(R0e,5),t.GBs(Kf,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.navigationView=o.first),t.mGM(o=t.lsd())&&(n.monthView=o.first),t.mGM(o=t.lsd())&&(n.multiViewCalendar=o.first)}},hostVars:6,hostBindings:function(e,n){2&e&&(t.BMQ("id",n.widgetId)("aria-disabled",n.ariaDisabled),t.AVh("k-week-number",n.weekNumber)("k-disabled",n.ariaDisabled))},inputs:{showOtherMonthDays:"showOtherMonthDays",id:"id",focusedDate:"focusedDate",min:"min",max:"max",rangeValidation:"rangeValidation",selection:"selection",value:"value",disabled:"disabled",tabindex:"tabindex",tabIndex:"tabIndex",disabledDates:"disabledDates",navigation:"navigation",activeView:"activeView",bottomView:"bottomView",topView:"topView",type:"type",animateNavigation:"animateNavigation",weekNumber:"weekNumber",cellTemplateRef:[t.Mj6.None,"cellTemplate","cellTemplateRef"],monthCellTemplateRef:[t.Mj6.None,"monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:[t.Mj6.None,"yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:[t.Mj6.None,"decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:[t.Mj6.None,"centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:[t.Mj6.None,"weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:[t.Mj6.None,"headerTitleTemplate","headerTitleTemplateRef"],navigationItemTemplateRef:[t.Mj6.None,"navigationItemTemplate","navigationItemTemplateRef"],size:"size"},outputs:{activeViewChange:"activeViewChange",navigate:"navigate",activeViewDateChange:"activeViewDateChange",onBlur:"blur",onFocus:"focus",valueChange:"valueChange"},exportAs:["kendo-calendar"],features:[t.Jv_([jd,act,lct,cct,j,Yf,{provide:Ve,useValue:"kendo.calendar"},zx,N0e,sU]),t.OA$],decls:3,vars:2,consts:()=>{let i,e,n,o;return i="Oggi",e="Vai alla vista precedente",n="Vai alla vista successiva",o="Vai alla vista genitore",[["multiviewcalendar",""],["kendoCalendarLocalizedMessages","","today",i,"prevButtonTitle",e,"nextButtonTitle",n,"parentViewButtonTitle",o],[4,"ngIf"],[3,"activeView","focusedDate","min","max","templateRef","valueChange","pageChange",4,"ngIf"],[3,"todayButtonClick","cellClick","weekNumberCellClick","activeDateChange","pageChange","focusCalendar","blurCalendar","activeView","showOtherMonthDays","isActive","id","cellTemplateRef","headerTitleTemplateRef","weekNumberTemplateRef","cellUID","min","max","focusedDate","weekNumber","selectedDates","tabIndex","disabled"],[3,"resize"],[3,"valueChange","pageChange","activeView","focusedDate","min","max","templateRef"],[3,"activeViewChange","navigate","valueChange","focusCalendar","blur","blurEvent","keydown","views","min","max","id","disabled","isActive","showOtherMonthDays","tabIndex","activeView","bottomView","topView","weekNumber","animateNavigation","cellTemplate","monthCellTemplate","yearCellTemplate","decadeCellTemplate","centuryCellTemplate","headerTitleTemplate","weekNumberTemplate","focusedDate","selection","value","disabledDates"],[3,"today","prevButtonTitle","nextButtonTitle","parentViewButtonTitle"]]},template:function(e,n){1&e&&(t.eu8(0,1),t.DNE(1,Vrt,4,16,"ng-container",2)(2,zrt,4,28,"ng-container",2)),2&e&&(t.R7$(),t.Y8G("ngIf","infinite"===n.type),t.R7$(),t.Y8G("ngIf","classic"===n.type))},dependencies:[A0e,R0e,Os,Kf,tct,nct,W],encapsulation:2,changeDetection:0}),s})();const gU=()=>(s,i)=>!Ft(s.value)&&i?{incompleteDate:!0}:null;var vU=function(s){return s[s.Up=0]="Up",s[s.Down=1]="Down",s[s.None=2]="None",s}(vU||{});let F0e=(()=>{class s extends Gi{}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275dir=t.FsC({type:s,selectors:[["kendo-dateinput-messages-base"]],inputs:{decrement:"decrement",increment:"increment"},features:[t.Vt3]}),s})(),dct=(()=>{class s extends F0e{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoDateInputLocalizedMessages",""]],features:[t.Jv_([{provide:F0e,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})(),U0e=0;const _ct=/year|month|<day>/,gct=/hour|minute|second|millisecond/;class vct{constructor(i){this.service=i,this.cldr={},this.localeId=i.localeId,this.format=i.format,this.toString=i.toString,this.formatDate=i.formatDate,this.parseDate=i.parseDate,this.parseNumber=i.parseNumber,this.formatNumber=i.formatNumber,this.splitDateFormat=i.splitDateFormat,this.numberSymbols=i.numberSymbols,this.firstDay=i.firstDay,this.weekendRange=i.weekendRange,this.dateFieldName=i.dateFieldName,this.dateFormatNames=(n,o)=>this.service.dateFormatNames(o,n||this.localeId);const e=(0,Gt.fK)(this.localeId);this.cldr[e.name]=e}}let $x=(()=>{class s{constructor(e,n,o,r,a,l,c,u){this.cdr=e,this.intl=n,this.renderer=o,this.wrapper=r,this.ngZone=a,this.injector=l,this.localization=c,this.pickerService=u,this.caretAltUpIcon=Pu,this.caretAltDownIcon=Bo,this.disabled=!1,this.readonly=!1,this.title="",this.tabindex=0,this.role="textbox",this.ariaReadOnly=!1,this.format="d",this.placeholder=null,this.steps={second:1,minute:1,hour:1,day:1,month:1,year:1},this.rangeValidation=!0,this.autoCorrectParts=!0,this.autoSwitchParts=!0,this.autoSwitchKeys=[],this.allowCaretMode=!1,this.autoFill=!1,this.incompleteDateValidation=!1,this.twoDigitYearMax=68,this.enableMouseWheel=!0,this.spinners=!1,this.valueChange=new t.bkB,this.valueUpdate=new t.bkB,this.onFocus=new t.bkB,this.onBlur=new t.bkB,this.arrow=vU,this.arrowDirection=vU.None,this.formatSections={date:!1,time:!1},this.hasMousedown=!1,this.focusedPriorToMousedown=!1,this.isDateIncomplete=!1,this.currentFormat="",this.minValidator=Jt,this.maxValidator=Jt,this.incompleteValidator=Jt,this._value=null,this._active=!1,this._focusableId="dateinput-"+U0e++,this._formatPlaceholder="wide",this.kendoDate=null,this.kendoDateObject=null,this.domEvents=[],this.onControlChange=Jt,this.onControlTouched=Jt,this.onValidatorChange=Jt,this._size=Wf,this._rounded=jv,this._fillMode=Hv,this.subs=new be.yU,(0,mt.$)(Tw),this.pickerService?this.pickerService.input=this:this.ariaReadOnly=null}set focusableId(e){e&&(this._focusableId=e)}get focusableId(){return this._focusableId}set pickerType(e){e&&(this.focusableId=`${e}-${U0e}`)}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set formatPlaceholder(e){this._formatPlaceholder=e||"wide"}get formatPlaceholder(){return this._formatPlaceholder}set value(e){this.verifyValue(e),this._value=he(e),this.valueUpdate.emit(he(e))}get value(){return this._value}set size(e){this.renderer.removeClass(this.wrapper.nativeElement,ro("input",this.size));const n=e||Wf;"none"!==n&&this.renderer.addClass(this.wrapper.nativeElement,ro("input",n)),this._size=n}get size(){return this._size}set rounded(e){this.renderer.removeClass(this.wrapper.nativeElement,zd(this.rounded));const n=e||jv;"none"!==n&&this.renderer.addClass(this.wrapper.nativeElement,zd(n)),this._rounded=n}get rounded(){return this._rounded}set fillMode(e){this.renderer.removeClass(this.wrapper.nativeElement,Sr("input",this.fillMode));const n=e||Hv;"none"!==n&&(this.renderer.addClass(this.wrapper.nativeElement,Sr("input",n)),this.spinners&&this.spinup&&this.spindown&&(this.setSpinnerFill(this.spinup.nativeElement,n,this.fillMode),this.setSpinnerFill(this.spindown.nativeElement,n,this.fillMode))),this._fillMode=n}get fillMode(){return this._fillMode}get wrapperClass(){return!0}get disabledClass(){return this.disabled}get inputElement(){return this.dateInput?this.dateInput.nativeElement:null}get inputValue(){return(this.inputElement||{}).value||""}get isActive(){return this._active}set isActive(e){if(this._active=e,this.wrapper&&!Ft(this.pickerService)){const n=this.wrapper.nativeElement;e?this.renderer.addClass(n,"k-focus"):this.renderer.removeClass(n,"k-focus")}}get formControl(){return this.injector.get(Ri,null)?.control||null}get options(){return{format:this.format,steps:this.steps,readonly:this.readonly,formatPlaceholder:this.formatPlaceholder,placeholder:this.placeholder,autoCorrectParts:this.autoCorrectParts,autoSwitchParts:this.autoSwitchParts,selectPreviousSegmentOnBackspace:!0,autoSwitchKeys:this.autoSwitchKeys,twoDigitYearMax:this.twoDigitYearMax,enableMouseWheel:this.enableMouseWheel,selectNearestSegmentOnFocus:!0,allowCaretMode:this.allowCaretMode,autoFill:this.autoFill,value:this.value,intlService:new vct(this.intl)}}isEmpty(){const e=this.dateInput.nativeElement.value;return!e||!String(e).trim()}handleDragAndDrop(e){e.preventDefault()}containsElement(e){return!!wZ(e,n=>n===this.wrapper.nativeElement)}ngOnInit(){this.kendoDate&&this.kendoDate.destroy(),this.kendoDate=this.initKendoDate(),this.kendoDateObject=this.kendoDate.dateObject,this.updateFormatSections(),this.subs.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.ngControl=this.injector.get(Ri,null),this.wrapper&&this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex")}ngOnChanges(e){if(this.verifyRange(),(e.min||e.max||e.rangeValidation||e.incompleteDateValidation)&&(this.minValidator=this.rangeValidation?Bx(this.min):Jt,this.maxValidator=this.rangeValidation?Vx(this.max):Jt,this.incompleteValidator=this.incompleteDateValidation?gU():Jt,this.onValidatorChange()),!this.kendoDate||!ls(this.value,this.kendoDate.value)){if(!this.kendoDate)return;this.kendoDate.writeValue(this.value)}if(e.format||e.placeholder){if(!this.kendoDate)return;this.kendoDate?.setOptions(this.options,!0),this.updateFormatSections()}}updateFormatSections(){this.formatSections=this.intl.splitDateFormat(this.kendoDate.inputFormat).reduce(({date:e,time:n},o)=>({date:e||_ct.test(o.type),time:n||gct.test(o.type)}),{date:!1,time:!1})}updateIncompleteValidationStatus(){const e=this.isDateIncomplete;this.isDateIncomplete=this.kendoDateObject.hasValue()&&null===this.value,e!==this.isDateIncomplete&&this.incompleteDateValidation&&(Ft(this.ngControl)&&!Ft(this.pickerService)?(this.cdr.markForCheck(),this.ngZone.run(()=>this.onValidatorChange())):Ft(this.pickerService)&&this.pickerService.dateCompletenessChange.emit())}ngAfterViewInit(){this.setComponentClasses();const e=this.injector.get(Ri,null)?.control;this.control=e,this.subs.add(this.formControl?.statusChanges.subscribe(()=>this.setAriaInvalid())),this.setAriaInvalid()}ngOnDestroy(){this.subs.unsubscribe(),this.pickerService&&(this.pickerService.input=null),this.domEvents.forEach(e=>e())}setAriaInvalid(){this.control&&this.renderer.setAttribute(this.inputElement,"aria-invalid",this.control.invalid?"true":"false")}validate(e){return this.minValidator(e)||this.maxValidator(e)||this.incompleteValidator(e,this.isDateIncomplete)}registerOnValidatorChange(e){this.onValidatorChange=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}writeValue(e){this.verifyValue(e),this.value=he(e),this.kendoDate?.setOptions(this.options,!0),this.kendoDateObject?.setValue(this.value),this.kendoDate?.refreshElementValue()}triggerChange(){const e=this.kendoDate.value;+e!=+this.value&&(this.value=he(e),this.notify())}notify(){this.ngZone.run(()=>{this.onControlChange(he(this.value)),this.valueChange.emit(he(this.value))})}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}focus(){this.kendoDate&&this.kendoDate.focus()}blur(){const e=this.inputElement;e&&e.blur()}handleButtonClick(e){this.arrowDirection=vU.None,this.kendoDate.focus(),this.kendoDate.modifyDateSegmentValue(e)}initKendoDate(){return new irt(this.dateInput.nativeElement,{...this.options,events:{valueChange:this.onWidgetValueChange.bind(this),inputEnd:this.onWidgetInputEnd.bind(this),focusEnd:this.onWidgetFocus.bind(this),blurEnd:this.onWidgetBlur.bind(this),keydown:this.onWidgetKeyDown.bind(this)}})}onWidgetValueChange(){this.triggerChange()}onWidgetKeyDown(){this.kendoDateObject=this.kendoDate.dateObject}onWidgetInputEnd(){this.updateIncompleteValidationStatus()}onWidgetFocus({}){this.isActive=!0,ke(this.onFocus)?this.ngZone.run(()=>{this.emitFocus(event)}):this.emitFocus(event)}onWidgetBlur({}){this.isActive=!1,ke(this.onBlur)||W5(this.ngControl)?this.ngZone.run(()=>{this.onControlTouched(),this.emitBlur(event),this.cdr.markForCheck()}):this.emitBlur(event)}verifyRange(){if((0,t.naY)()&&!uZ(this.min,this.max))throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-max.")}verifyValue(e){if((0,t.naY)()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance or null. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/dateinput/#toc-using-with-json for possible resolution.")}intlChange(){this.kendoDate.setOptions(this.options,!0),this.updateFormatSections()}emitFocus(e){this.onFocus.emit(),this.pickerService&&this.pickerService.onFocus.emit(e)}emitBlur(e){this.onBlur.emit(),this.pickerService&&this.pickerService.onBlur.emit(e)}setSpinnerFill(e,n,o){"none"!==o&&(this.renderer.removeClass(e,`k-button-${o}`),this.renderer.removeClass(e,`k-button-${o}-base`)),this.renderer.addClass(e,`k-button-${n}`),this.renderer.addClass(e,`k-button-${n}-base`)}setComponentClasses(){"none"!==this.size&&this.renderer.addClass(this.wrapper.nativeElement,ro("input",this.size)),"none"!==this.rounded&&this.renderer.addClass(this.wrapper.nativeElement,zd(this.rounded)),"none"!==this.fillMode&&this.renderer.addClass(this.wrapper.nativeElement,Sr("input",this.fillMode)),this.spinners&&"none"!==this.fillMode&&(this.setSpinnerFill(this.spinup.nativeElement,this.fillMode),this.setSpinnerFill(this.spindown.nativeElement,this.fillMode))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.gRc),t.rXU(Gt.Bs),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(t.zZn),t.rXU(j),t.rXU(ag,8))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-dateinput"]],viewQuery:function(e,n){if(1&e&&(t.GBs(jrt,7),t.GBs(Hrt,5),t.GBs($rt,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.dateInput=o.first),t.mGM(o=t.lsd())&&(n.spinup=o.first),t.mGM(o=t.lsd())&&(n.spindown=o.first)}},hostVars:8,hostBindings:function(e,n){2&e&&t.AVh("k-readonly",n.readonly)("k-input",n.wrapperClass)("k-dateinput",n.wrapperClass)("k-disabled",n.disabledClass)},inputs:{focusableId:"focusableId",pickerType:"pickerType",disabled:"disabled",readonly:"readonly",title:"title",tabindex:"tabindex",role:"role",ariaReadOnly:"ariaReadOnly",tabIndex:"tabIndex",format:"format",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",steps:"steps",max:"max",min:"min",rangeValidation:"rangeValidation",autoCorrectParts:"autoCorrectParts",autoSwitchParts:"autoSwitchParts",autoSwitchKeys:"autoSwitchKeys",allowCaretMode:"allowCaretMode",autoFill:"autoFill",incompleteDateValidation:"incompleteDateValidation",twoDigitYearMax:"twoDigitYearMax",enableMouseWheel:"enableMouseWheel",value:"value",spinners:"spinners",isPopupOpen:"isPopupOpen",hasPopup:"hasPopup",size:"size",rounded:"rounded",fillMode:"fillMode"},outputs:{valueChange:"valueChange",valueUpdate:"valueUpdate",onFocus:"focus",onBlur:"blur"},exportAs:["kendo-dateinput"],features:[t.Jv_([{provide:Yn,useExisting:(0,t.Rfq)(()=>s),multi:!0},{provide:Ho,useExisting:(0,t.Rfq)(()=>s),multi:!0},{provide:Ve,useValue:"kendo.dateinput"},{provide:as,useExisting:(0,t.Rfq)(()=>s)},j]),t.OA$],decls:4,vars:16,consts:()=>{let i,e;return i="Aumenta",e="Decrementa",[["dateInput",""],["spinup",""],["spindown",""],["kendoDateInputLocalizedMessages","","increment",i,"decrement",e],["autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"k-input-inner",3,"id","title","tabindex","disabled","readonly","placeholder","kendoEventsOutsideAngular","scope"],["class","k-input-spinner k-spin-button",3,"mousedown",4,"ngIf"],[1,"k-input-spinner","k-spin-button",3,"mousedown"],["tabindex","-1",1,"k-spinner-increase","k-button","k-icon-button",3,"mousedown","mouseleave","click","title"],["name","caret-alt-up","innerCssClass","k-button-icon",3,"svgIcon"],["tabindex","-1",1,"k-spinner-decrease","k-button","k-icon-button",3,"click","mousedown","mouseleave","title"],["name","caret-alt-down","innerCssClass","k-button-icon",3,"svgIcon"]]},template:function(e,n){1&e&&(t.eu8(0,3),t.nrm(1,"input",4,0),t.DNE(3,Wrt,7,10,"span",5)),2&e&&(t.R7$(),t.Y8G("id",n.focusableId)("title",n.title)("tabindex",n.tabindex)("disabled",n.disabled)("readonly",n.readonly)("placeholder",n.placeholder)("kendoEventsOutsideAngular",t.l_i(13,Xrt,n.handleDragAndDrop,n.handleDragAndDrop))("scope",n),t.BMQ("role",n.role)("aria-readonly",n.ariaReadOnly)("aria-expanded",n.isPopupOpen)("aria-haspopup",n.hasPopup),t.R7$(2),t.Y8G("ngIf",n.spinners))},dependencies:[Ke,dct,Vo,W],encapsulation:2,changeDetection:0}),s})();class Xx{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}const Rw=new t.nKC("dateinputs-touch-enabled"),V0e=s=>i=>s&&i.value&&s(i.value)?{disabledDate:!0}:null;let IZ=(()=>{class s extends _U{constructor(e){super(),this.service=e}get override(){return!0}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-calendar-messages"]],features:[t.Jv_([{provide:_U,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),SU=(()=>{class s extends Gi{}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275dir=t.FsC({type:s,selectors:[["kendo-datepicker-messages-base"]],inputs:{today:"today",toggle:"toggle",prevButtonTitle:"prevButtonTitle",nextButtonTitle:"nextButtonTitle",parentViewButtonTitle:"parentViewButtonTitle"},features:[t.Vt3]}),s})(),Sct=(()=>{class s extends SU{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoDatePickerLocalizedMessages",""]],features:[t.Jv_([{provide:SU,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})(),rp=(()=>{class s{constructor(e,n,o,r,a,l,c,u,f,_){this.zone=e,this.localization=n,this.cdr=o,this.popupService=r,this.wrapper=a,this.renderer=l,this.injector=c,this.pickerService=u,this.disabledDatesService=f,this.touchEnabled=_,this.calendarIcon=Pk,this.activeView=yt[yt.month],this.bottomView=yt[yt.month],this.topView=yt[yt.century],this.calendarType="infinite",this.animateCalendarNavigation=!1,this.disabled=!1,this.readonly=!1,this.readOnlyInput=!1,this._navigation=!0,this.min=he(Ku),this.max=he(Ju),this.incompleteDateValidation=!1,this.autoCorrectParts=!0,this.autoSwitchParts=!0,this.autoSwitchKeys=[],this.enableMouseWheel=!0,this.allowCaretMode=!1,this.autoFill=!1,this.focusedDate=null,this.format="d",this.twoDigitYearMax=68,this.placeholder=null,this.tabindex=0,this.title="",this.rangeValidation=!0,this.disabledDatesValidation=!0,this.weekNumber=!1,this.adaptiveMode="none",this.valueChange=new t.bkB,this.onFocus=new t.bkB,this.onBlur=new t.bkB,this.open=new t.bkB,this.close=new t.bkB,this.wrapperClasses=!0,this.xIcon=wo,this._popupSettings={animate:!0},this._show=!1,this._value=null,this._active=!1,this.onControlChange=Jt,this.onControlTouched=Jt,this.onValidatorChange=Jt,this.minValidateFn=Jt,this.maxValidateFn=Jt,this.disabledDatesValidateFn=Jt,this.incompleteValidator=Jt,this.resolvedPromise=Promise.resolve(null),this.domEvents=[],this._size=Wf,this._rounded=jv,this._fillMode=Hv,(0,mt.$)(Tw),this.pickerSubscriptions=this.pickerService.onFocus.subscribe(this.handleFocus.bind(this)),this.pickerSubscriptions.add(this.pickerService.onBlur.subscribe(this.handleBlur.bind(this))),this.pickerSubscriptions.add(this.pickerService.sameDateSelected.subscribe(this.handleSameSelection.bind(this))),this.pickerSubscriptions.add(this.pickerService.dateCompletenessChange.subscribe(this.handleDateCompletenessChange.bind(this)))}set cellTemplateRef(e){this.cellTemplate=e}set monthCellTemplateRef(e){this.monthCellTemplate=e}set yearCellTemplateRef(e){this.yearCellTemplate=e}set decadeCellTemplateRef(e){this.decadeCellTemplate=e}set centuryCellTemplateRef(e){this.centuryCellTemplate=e}set weekNumberTemplateRef(e){this.weekNumberTemplate=e}set headerTitleTemplateRef(e){this.headerTitleTemplate=e}set navigationItemTemplateRef(e){this.navigationItemTemplate=e}set popupSettings(e){this._popupSettings=Object.assign({},{animate:!0},e)}get popupSettings(){return this._popupSettings}set navigation(e){this._navigation=e}get navigation(){if(!this.isAdaptive)return this._navigation}set value(e){this.verifyValue(e),this._value=he(e)}get value(){return this._value}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set disabledDates(e){this._disabledDates=e,this.disabledDatesService.initialize(e)}get disabledDates(){return this._disabledDates}set subtitle(e){this._subtitle=e}get subtitle(){return this._subtitle||this.placeholder}set size(e){this.renderer.removeClass(this.wrapper.nativeElement,ro("input",this.size)),this.renderer.removeClass(this.toggleButton.nativeElement,ro("button",this.size));const n=e||Wf;"none"!==n&&(this.renderer.addClass(this.wrapper.nativeElement,ro("input",n)),this.renderer.addClass(this.toggleButton.nativeElement,ro("button",n))),this._size=n}get size(){return this._size}set rounded(e){this.renderer.removeClass(this.wrapper.nativeElement,zd(this.rounded));const n=e||jv;"none"!==n&&this.renderer.addClass(this.wrapper.nativeElement,zd(n)),this._rounded=n}get rounded(){return this._rounded}set fillMode(e){this.renderer.removeClass(this.wrapper.nativeElement,Sr("input",this.fillMode)),this.renderer.removeClass(this.toggleButton.nativeElement,Sr("button",this.fillMode)),this.renderer.removeClass(this.toggleButton.nativeElement,`k-button-${this.fillMode}-base`);const n=e||Hv;"none"!==n&&(this.renderer.addClass(this.toggleButton.nativeElement,Sr("button",n)),this.renderer.addClass(this.toggleButton.nativeElement,`k-button-${n}-base`),this.renderer.addClass(this.wrapper.nativeElement,Sr("input",n))),this._fillMode=n}get fillMode(){return this._fillMode}get disabledClass(){return this.disabled}get popupUID(){return this.calendar?.popupId}get isActive(){return this._active}set isActive(e){if(this._active=e,!this.wrapper)return;const n=this.wrapper.nativeElement;e?this.renderer.addClass(n,"k-focus"):this.renderer.removeClass(n,"k-focus")}get show(){return this._show}set show(e){e&&(this.disabled||this.readonly)||(e||this._show&&(ke(this.close)||ke(this.open))?this.zone.run(()=>{const o=new Xx;!this._show&&e?this.open.emit(o):this._show&&!e&&this.close.emit(o),!o.isDefaultPrevented()&&this.toggleCalendar(e)}):this.toggleCalendar(e))}get inputElement(){return this.wrapper.nativeElement.querySelector("input")}isEmpty(){return!this.value&&this.dateInput.isEmpty()}ngOnInit(){this.localizationChangeSubscription=this.localization.changes.subscribe(()=>this.cdr.markForCheck()),this.control=this.injector.get(Ri,null),this.wrapper&&(this.renderer.removeAttribute(this.wrapper.nativeElement,"tabindex"),this.zone.runOutsideAngular(()=>{this.bindEvents()})),this.focusableId=this.dateInput?.focusableId}ngAfterViewInit(){this.setComponentClasses(),this.actionSheet&&ne()&&(this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-height","60vh"),this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-max-height","none"))}ngOnChanges(e){this.verifySettings(),(e.min||e.max||e.rangeValidation||e.disabledDatesValidation||e.disabledDates||e.incompleteDateValidation)&&(this.minValidateFn=this.rangeValidation?Bx(this.min):Jt,this.maxValidateFn=this.rangeValidation?Vx(this.max):Jt,this.disabledDatesValidateFn=this.disabledDatesValidation?V0e(this.disabledDatesService.isDateDisabled):Jt,this.incompleteValidator=this.incompleteDateValidation?gU():Jt,this.onValidatorChange()),(!this.focusableId||e.focusableId)&&(this.focusableId=this.dateInput?.focusableId)}ngOnDestroy(){this.isActive=!1,this.show=!1,this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.windowBlurSubscription&&this.windowBlurSubscription.unsubscribe(),this.domEvents.forEach(e=>e()),this.pickerSubscriptions.unsubscribe()}get isOpen(){return this.show}writeValue(e){this.verifyValue(e),this.value=he(e),this.cdr.markForCheck(),!e&&this.dateInput&&(this.dateInput.placeholder=this.placeholder,this.dateInput.writeValue(e))}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)||this.disabledDatesValidateFn(e)||this.incompleteValidator(e,this.dateInput&&this.dateInput.isDateIncomplete)}registerOnValidatorChange(e){this.onValidatorChange=e}handleActionSheetCollapse(){this.cdr.markForCheck()}handleActionSheetClick(e){e.preventDefault()}focus(){this.dateInput.focus()}blur(){(this.calendar||this.dateInput).blur()}toggle(e){this.disabled||this.readonly||this.resolvedPromise.then(()=>{this.toggleCalendar(void 0===e?!this.show:e)})}handleIconClick(e){this.disabled||this.readonly||(e.preventDefault(),this.focusInput(),this.handleFocus(),this.show=!this.show,this.cdr.markForCheck())}handleDateInputClick(){this.windowSize=vl(),this.isAdaptive&&(this.show=!0)}handleMousedown(e){e.preventDefault()}handleChange(e){this.cdr.markForCheck(),this.value=e,this.show&&(this.focusInput(),this.show=!1),this.onControlChange(he(e)),this.valueChange.emit(he(e))}handleInputChange(e){this.handleChange(this.dateInput.formatSections.time?e:this.mergeTime(e))}get popupClasses(){return["k-datepicker-popup","k-calendar-container"].concat(this.popupSettings.popupClass||[])}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}get dateInput(){return this.pickerService.input}get calendar(){return this.pickerService.calendar}get isAdaptiveModeEnabled(){return"auto"===this.adaptiveMode}get isAdaptive(){return this.isAdaptiveModeEnabled&&"large"!==this.windowSize}onResize(){!this.isOpen||this.windowSize===vl()||(this.actionSheet.expanded?this.toggleActionSheet(!1):this.togglePopup(!1),this.windowSize=vl())}mergeTime(e){return this.value&&e?sg(e,this.value):e}handleKeydown(e){const{altKey:n,shiftKey:o,keyCode:r,target:a}=e;r===F.Escape&&(this.show=!1),n&&(r===F.ArrowDown&&!this.show&&(this.show=!0),r===F.ArrowUp&&(this.show=!1)),r===F.Tab&&this.show&&this.calendar.isActive&&((s,i,e)=>!!Ft(i)&&("infinite"===s||"classic"===s&&e&&i.classList.contains("k-calendar-table")||!e&&i.classList.contains("k-calendar-table")))(this.calendarType,a,o)&&(this.dateInput.focus(),this.show=!1)}toggleCalendar(e){this.windowSize=vl(),this.isAdaptive?this.toggleActionSheet(e):this.togglePopup(e),this.toggleFocus()}togglePopup(e){if(e!==this._show)if(this._show=e,e){const n=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{vertical:"bottom",horizontal:n},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{vertical:"top",horizontal:n},popupClass:this.popupClasses,positionMode:"absolute"}),this.setAriaActiveDescendant(),this.popupRef.popupElement.setAttribute("id",this.popupUID),this.renderer.setAttribute(this.dateInput?.inputElement,"aria-controls",this.popupUID),this.subscription=this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.show=!1)}else this.popupRef.close(),this.popupRef=null,this.subscription.unsubscribe(),this.ariaActiveDescendantSubscription.unsubscribe(),this.dateInput&&(this.renderer.removeAttribute(this.dateInput.inputElement,"aria-controls"),this.renderer.removeAttribute(this.dateInput.inputElement,"aria-activedescendant")),this.cdr.detectChanges()}toggleActionSheet(e){e!==this._show&&(e&&!this.isOpen?(this.actionSheet.toggle(),this.updateActionSheetAdaptiveAppearance(),this.setAriaActiveDescendant(),this.actionSheet.element.nativeElement.setAttribute("id",this.popupUID),this.renderer.setAttribute(this.dateInput?.inputElement,"aria-controls",this.popupUID)):!e&&this.isOpen&&(this.actionSheet.toggle(),this.ariaActiveDescendantSubscription.unsubscribe(),this.renderer.removeAttribute(this.dateInput?.inputElement,"aria-activedescendant"),this.renderer.removeAttribute(this.dateInput?.inputElement,"aria-controls")),this._show=e)}updateActionSheetAdaptiveAppearance(){let e,n;this.actionSheet&&(e=this.actionSheet.element.nativeElement.querySelector(".k-actionsheet"),n=this.actionSheet.element.nativeElement.querySelector(".k-child-animation-container"),"medium"===this.windowSize?(this.renderer.removeClass(e,"k-actionsheet-fullscreen"),this.renderer.removeStyle(n,"height")):"small"===this.windowSize&&(this.renderer.addClass(e,"k-actionsheet-fullscreen"),this.renderer.setStyle(n,"height","100%")),this.renderer.addClass(e,"k-adaptive-actionsheet"),this.renderer.addClass(e,"k-actionsheet-bottom"),this.renderer.setStyle(n,"bottom","0px"))}setAriaActiveDescendant(){this.ariaActiveDescendantSubscription=("infinite"===this.calendar.type?this.calendar.monthView.focusedCellChange:this.calendar.multiViewCalendar.viewList.focusedCellChange).subscribe(n=>this.renderer.setAttribute(this.dateInput?.inputElement,"aria-activedescendant",n))}focusInput(){this.touchEnabled||this.dateInput.focus()}toggleFocus(){this.isActive&&(this.show?(this.calendar||this.cdr.detectChanges(),this.calendar&&this.calendar.focus()):this.touchEnabled?this.dateInput.isActive||this.handleBlur():this.dateInput.focus())}verifySettings(){if((0,t.naY)()&&!uZ(this.min,this.max))throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-max.")}verifyValue(e){if((0,t.naY)()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance or null. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/datepicker/#toc-using-with-json for possible resolution.")}bindEvents(){this.domEvents.push(this.renderer.listen(this.wrapper.nativeElement,"keydown",this.handleKeydown.bind(this))),Q5()&&(this.windowBlurSubscription=wt(window,"blur").subscribe(this.handleWindowBlur.bind(this)))}handleFocus(){this.isActive||(this.isActive=!0,ke(this.onFocus)&&this.zone.run(()=>{this.onFocus.emit()}))}handleWindowBlur(){!this.isOpen||this.actionSheet.expanded||(this.show=!1)}handleBlur(e){const n=e&&cZ(e),r=this.actionSheet&&(this.actionSheet.element.nativeElement.contains(e&&e.target)||this.actionSheet.element.nativeElement.contains(n));n&&(this.dateInput.containsElement(n)||this.calendar&&this.calendar.containsElement(n)||r)||(ke(this.onBlur)||this.show&&ke(this.close)||W5(this.control)?this.zone.run(()=>{this.blurComponent(),this.cdr.markForCheck()}):this.blurComponent())}blurComponent(){this.isActive=!1,this.show=!1,this.cdr.detectChanges(),this.onControlTouched(),this.onBlur.emit()}handleSameSelection(){this.show&&(this.focusInput(),this.show=!1)}handleDateCompletenessChange(){this.cdr.markForCheck(),this.zone.run(()=>this.onValidatorChange())}setComponentClasses(){this.size&&(this.renderer.addClass(this.wrapper.nativeElement,ro("input",this.size)),this.renderer.addClass(this.toggleButton.nativeElement,ro("button",this.size))),this.rounded&&this.renderer.addClass(this.wrapper.nativeElement,zd(this.rounded)),this.fillMode&&(this.renderer.addClass(this.wrapper.nativeElement,Sr("input",this.fillMode)),this.renderer.addClass(this.toggleButton.nativeElement,Sr("button",this.fillMode)),this.renderer.addClass(this.toggleButton.nativeElement,`k-button-${this.fillMode}-base`))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.SKi),t.rXU(j),t.rXU(t.gRc),t.rXU(es),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.zZn),t.rXU(ag),t.rXU(Yf),t.rXU(Rw,8))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-datepicker"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,oU,5),t.wni(o,Ux,5),t.wni(o,rU,5),t.wni(o,aU,5),t.wni(o,lU,5),t.wni(o,cU,5),t.wni(o,dU,5),t.wni(o,L0e,5)),2&e){let r;t.mGM(r=t.lsd())&&(n.cellTemplate=r.first),t.mGM(r=t.lsd())&&(n.monthCellTemplate=r.first),t.mGM(r=t.lsd())&&(n.yearCellTemplate=r.first),t.mGM(r=t.lsd())&&(n.decadeCellTemplate=r.first),t.mGM(r=t.lsd())&&(n.centuryCellTemplate=r.first),t.mGM(r=t.lsd())&&(n.weekNumberTemplate=r.first),t.mGM(r=t.lsd())&&(n.headerTitleTemplate=r.first),t.mGM(r=t.lsd())&&(n.navigationItemTemplate=r.first)}},viewQuery:function(e,n){if(1&e&&(t.GBs($5,7,t.c1b),t.GBs(aZ,7),t.GBs(lZ,7),t.GBs(X5,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.container=o.first),t.mGM(o=t.lsd())&&(n.popupTemplate=o.first),t.mGM(o=t.lsd())&&(n.toggleButton=o.first),t.mGM(o=t.lsd())&&(n.actionSheet=o.first)}},hostVars:8,hostBindings:function(e,n){2&e&&t.AVh("k-readonly",n.readonly)("k-datepicker",n.wrapperClasses)("k-input",n.wrapperClasses)("k-disabled",n.disabledClass)},inputs:{focusableId:"focusableId",cellTemplateRef:[t.Mj6.None,"cellTemplate","cellTemplateRef"],monthCellTemplateRef:[t.Mj6.None,"monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:[t.Mj6.None,"yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:[t.Mj6.None,"decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:[t.Mj6.None,"centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:[t.Mj6.None,"weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:[t.Mj6.None,"headerTitleTemplate","headerTitleTemplateRef"],navigationItemTemplateRef:[t.Mj6.None,"navigationItemTemplate","navigationItemTemplateRef"],showOtherMonthDays:"showOtherMonthDays",activeView:"activeView",bottomView:"bottomView",topView:"topView",calendarType:"calendarType",animateCalendarNavigation:"animateCalendarNavigation",disabled:"disabled",readonly:"readonly",readOnlyInput:"readOnlyInput",popupSettings:"popupSettings",navigation:"navigation",min:"min",max:"max",incompleteDateValidation:"incompleteDateValidation",autoCorrectParts:"autoCorrectParts",autoSwitchParts:"autoSwitchParts",autoSwitchKeys:"autoSwitchKeys",enableMouseWheel:"enableMouseWheel",allowCaretMode:"allowCaretMode",autoFill:"autoFill",focusedDate:"focusedDate",value:"value",format:"format",twoDigitYearMax:"twoDigitYearMax",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",tabindex:"tabindex",tabIndex:"tabIndex",disabledDates:"disabledDates",title:"title",subtitle:"subtitle",rangeValidation:"rangeValidation",disabledDatesValidation:"disabledDatesValidation",weekNumber:"weekNumber",size:"size",rounded:"rounded",fillMode:"fillMode",adaptiveMode:"adaptiveMode"},outputs:{valueChange:"valueChange",onFocus:"focus",onBlur:"blur",open:"open",close:"close"},exportAs:["kendo-datepicker"],features:[t.Jv_([{provide:Yn,useExisting:(0,t.Rfq)(()=>s),multi:!0},{provide:Ho,useExisting:(0,t.Rfq)(()=>s),multi:!0},{provide:as,useExisting:(0,t.Rfq)(()=>s)},j,ag,Yf,{provide:Ve,useValue:"kendo.datepicker"}]),t.OA$],decls:16,vars:37,consts:()=>{let i,e,n,o,r;return i="Oggi",e="Mostra calendario",n="Vai al precedente",o="Vai al prossimo",r="Navigate to parent view",[["input",""],["toggleButton",""],["container",""],["popupTemplate",""],["actionSheet",""],["calendarTemplate",""],["calendar",""],["kendoDatePickerLocalizedMessages","","today",i,"toggle",e,"prevButtonTitle",n,"nextButtonTitle",o,"parentViewButtonTitle",r],["pickerType","datepicker","hasPopup","grid","fillMode","none","rounded","none","size","none",3,"valueChange","click","role","isPopupOpen","disabled","readonly","ariaReadOnly","tabindex","title","focusableId","format","twoDigitYearMax","formatPlaceholder","placeholder","min","max","incompleteDateValidation","autoCorrectParts","autoSwitchParts","autoSwitchKeys","enableMouseWheel","allowCaretMode","autoFill","value"],["type","button",1,"k-input-button","k-button","k-icon-button",3,"tabindex","kendoEventsOutsideAngular","scope"],["name","calendar","innerCssClass","k-button-icon",3,"svgIcon"],[3,"resize",4,"ngIf"],[3,"overlayClick","collapse","kendoEventsOutsideAngular","scope","titleId"],["kendoActionSheetTemplate",""],[4,"ngTemplateOutlet"],[3,"resize"],[1,"k-actionsheet-titlebar"],[1,"k-actionsheet-titlebar-group","k-hbox"],[1,"k-actionsheet-title"],[1,"k-text-center"],[1,"k-actionsheet-subtitle","k-text-center"],[1,"k-actionsheet-actions"],["kendoButton","","type","button","icon","x","fillMode","flat","aria-hidden","true","size","large","innerCssClass","k-button-icon",3,"click","svgIcon","tabIndex"],[1,"k-actionsheet-content","!k-overflow-hidden"],[3,"valueChange","size","type","min","max","navigation","animateNavigation","activeView","bottomView","showOtherMonthDays","topView","weekNumber","cellTemplate","monthCellTemplate","yearCellTemplate","decadeCellTemplate","centuryCellTemplate","weekNumberTemplate","headerTitleTemplate","navigationItemTemplate","focusedDate","value","kendoEventsOutsideAngular","scope","disabledDates"],[3,"today","prevButtonTitle","nextButtonTitle","parentViewButtonTitle"]]},template:function(e,n){if(1&e){const o=t.RV6();t.eu8(0,7),t.j41(1,"kendo-dateinput",8,0),t.bIt("valueChange",function(a){return t.eBV(o),t.Njj(n.handleInputChange(a))})("click",function(){return t.eBV(o),t.Njj(n.handleDateInputClick())}),t.k0s(),t.j41(3,"button",9,1),t.nrm(5,"kendo-icon-wrapper",10),t.k0s(),t.eu8(6,null,2),t.DNE(8,Krt,1,1,"ng-template",null,3,t.C5r)(10,Jrt,1,0,"kendo-resize-sensor",11),t.j41(11,"kendo-actionsheet",12,4),t.bIt("overlayClick",function(){return t.eBV(o),t.Njj(n.show=!1)})("collapse",function(){return t.eBV(o),t.Njj(n.handleActionSheetCollapse())}),t.DNE(13,Qrt,11,6,"ng-template",13),t.k0s(),t.DNE(14,Zrt,3,30,"ng-template",null,5,t.C5r)}2&e&&(t.R7$(),t.Y8G("role","combobox")("isPopupOpen",n.show)("disabled",n.disabled)("readonly",n.readonly||n.readOnlyInput)("ariaReadOnly",n.readonly)("tabindex",n.tabindex)("title",n.title)("focusableId",n.focusableId)("format",n.format)("twoDigitYearMax",n.twoDigitYearMax)("formatPlaceholder",n.formatPlaceholder)("placeholder",n.placeholder)("min",n.min)("max",n.max)("incompleteDateValidation",n.incompleteDateValidation)("autoCorrectParts",n.autoCorrectParts)("autoSwitchParts",n.autoSwitchParts)("autoSwitchKeys",n.autoSwitchKeys)("enableMouseWheel",n.enableMouseWheel)("allowCaretMode",n.allowCaretMode)("autoFill",n.autoFill)("value",n.value),t.R7$(2),t.Y8G("tabindex",-1)("kendoEventsOutsideAngular",t.l_i(32,s0e,n.handleIconClick,n.handleMousedown))("scope",n),t.BMQ("title",n.localization.get("toggle"))("aria-label",n.localization.get("toggle")),t.R7$(2),t.Y8G("svgIcon",n.calendarIcon),t.R7$(5),t.Y8G("ngIf",n.isAdaptiveModeEnabled),t.R7$(),t.Y8G("kendoEventsOutsideAngular",t.eq3(35,U0,n.handleActionSheetClick))("scope",n)("titleId",null==n.calendar?null:n.calendar.headerId))},dependencies:[$x,Ke,Os,m0,$t,Aw,IZ,Sct,Vo,Je,W,f0],encapsulation:2,changeDetection:0}),s})();const ya=Vd("div"),Dct=Vd("ul"),Oct=Vd("li"),z0e=Vd("span"),j0e=()=>z0e("hour","k-title k-timeselector-title"),H0e=()=>ya([Dct([Oct("<span>02</span>","k-item")],"k-reset")],"k-time-container k-flex k-content k-scrollable"),$0e=s=>[s?ya([ya("button","k-button k-button-lg")],"k-datetime-buttongroup"):null,ya([ya([z0e("title","k-title")],"k-time-header"),ya([j0e(),ya([H0e()],"k-time-list")],"k-time-list-wrapper")],"k-timeselector k-timeselector-lg")],X0e=(s=!1,i,e)=>ne()?s?ya([ya([ya([ya([ya([],"k-i-x k-button-icon k-icon")],"k-icon-wrapper-host")],"k-button k-icon-button k-button-lg")],"k-actionsheet-titlebar"),ya([e?ya([...$0e(e)],"k-datetime-wrap k-time-tab"):$0e(e)[1]],"k-actionsheet-content"),ya([ya("button","k-button k-button-lg")],"k-adaptive-actionsheet k-actionsheet-footer")],"k-actionsheet k-adaptive-actionsheet "+("small"===i?"k-actionsheet-fullscreen":""),{height:"small"===i?"100%":"60vh",left:"-10000px",position:"absolute",top:0}):ya([j0e(),ya([H0e()],"k-time-list")],"k-time-list-wrapper",{left:"-10000px",position:"absolute"}):null;let xZ=(()=>{class s{get windowSize(){return vl()}ensureHeights(){void 0===this.timeListHeight&&this.calculateHeights()}calculateHeights(e){if(!ne())return;let n,o;this.isAdaptiveEnabled&&"large"!==this.windowSize?(o=document.body,n=o.appendChild(X0e(!0,this.windowSize,this.isDateTimePicker))):(o=e&&e.querySelector(".k-time-list-container")||document.body,n=o.appendChild(X0e())),this.timeListHeight=n.querySelector(".k-scrollable").getBoundingClientRect().height,this.itemHeight=n.querySelector("li").getBoundingClientRect().height,o.removeChild(n)}isActive(e){return!(!ne()||!e)&&(e.nativeElement||e)===document.activeElement}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const W0e=i=>i%24,Y0e=(s,i)=>W0e(24+s-i),K0e=s=>(i,e)=>e&&Dn(i).getTime()!==Dn(e).getTime()?Y5(i,s):i,xct=K0e(0),Act=K0e(23);let J0e=(()=>{class s{constructor(e){this.intl=e,this.boundRange=!1,this.insertUndividedMax=!1}apply(e,n){return Y5(e,n.getHours())}configure(e){const{boundRange:n=this.boundRange,insertUndividedMax:o=this.insertUndividedMax,min:r=this.min,max:a=this.max,part:l,step:c=this.step}=e;this.boundRange=n,this.insertUndividedMax=o,this.toListItem=u=>{const f=Y5(Xf,u);return{text:this.intl.formatDate(f,l.pattern),value:f}},this.min=r,this.max=a,this.step=c}data(e){const[n]=this.range(e),o=((s,i)=>e=>W0e(s+e*i))(n,this.step),a=gl(0,this.countFromMin(e)).map(l=>this.toListItem(o(l)));return this.addLast(a),this.addMissing(a,e),a}isRangeChanged(e,n){return!ls(this.min,e)||!ls(this.max,n)}limitRange(e,n,o){return this.boundRange?[xct(e,o),Act(n,o)]:[e,n]}total(e){const n=this.insertUndividedMax&&this.isLastMissing(e)?1:0,o=this.isMissing(e)?1:0;return this.countFromMin(e)+o+n}selectedIndex(e){return Math.ceil(this.divideByStep(e))}valueInList(e){return!e||this.insertUndividedMax&&this.lastHour(e)===e.getHours()||!this.isMissing(e)}addLast(e,n){return this.insertUndividedMax&&this.isLastMissing(n)&&e.push(this.toListItem(this.lastHour(n))),e}addMissing(e,n){if(this.valueInList(n))return e;const o=this.toListItem(n.getHours());return e.splice(this.selectedIndex(n),0,o),e}countFromMin(e){const[n,o]=this.range(e);return Math.floor(Y0e(o,n)/this.step)+1}isMissing(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}isLastMissing(e){return this.isMissing(Y5(this.max,this.lastHour(e)))}divideByStep(e){return Y0e(e.getHours(),this.min.getHours())/this.step}lastHour(e){return this.range(e)[1]}range(e){const[n,o]=this.limitRange(this.min,this.max,e);return[n.getHours(),o.getHours()]}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Gt.Bs))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const q0e=i=>i%60,Q0e=(s,i)=>q0e(60+s-i),Z0e=s=>(i,e)=>e&&i.getHours()!==e.getHours()?K5(i,s):i,Nct=Z0e(0),Lct=Z0e(59);let ebe=(()=>{class s{constructor(e){this.intl=e,this.insertUndividedMax=!1}apply(e,n){return K5(e,n.getMinutes())}configure(e){const{insertUndividedMax:n=this.insertUndividedMax,min:o=this.min,max:r=this.max,part:a,step:l=this.step}=e;this.insertUndividedMax=n,this.toListItem=c=>{const u=K5(Xf,c);return{text:this.intl.formatDate(u,a.pattern),value:u}},this.min=o,this.max=r,this.step=l}data(e){const[n]=this.range(e),o=((s,i)=>e=>q0e(s+e*i))(n,this.step),a=gl(0,this.countFromMin(e)).map(l=>this.toListItem(o(l)));return this.addLast(a),this.addMissing(a,e),a}isRangeChanged(e,n){return!ls(this.min,e)||!ls(this.max,n)}limitRange(e,n,o){return[Nct(e,o),Lct(n,o)]}total(e){const n=this.insertUndividedMax&&this.isLastMissing(e)?1:0,o=this.isMissing(e)?1:0;return this.countFromMin(e)+o+n}selectedIndex(e){return Math.ceil(this.divideByStep(e))}valueInList(e){return!e||this.insertUndividedMax&&this.lastMinute(e)===e.getMinutes()||!this.isMissing(e)}addLast(e,n){return this.insertUndividedMax&&this.isLastMissing(n)&&e.push(this.toListItem(this.lastMinute(n))),e}addMissing(e,n){if(this.valueInList(n))return e;const o=this.toListItem(n.getMinutes());return e.splice(this.selectedIndex(n),0,o),e}countFromMin(e){const[n,o]=this.range(e);return Math.floor(Q0e(o,n)/this.step)+1}isMissing(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}isLastMissing(e){return this.isMissing(K5(this.max,this.lastMinute(e)))}divideByStep(e){return Q0e(e.getMinutes(),this.min.getMinutes())/this.step}lastMinute(e){return this.range(e)[1]}range(e){const[n,o]=this.limitRange(this.min,this.max,e);return[n.getMinutes(),o.getMinutes()]}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Gt.Bs))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const tbe=i=>i%60,nbe=(s,i)=>tbe(60+s-i),ibe=s=>(i,e)=>!e||i.getHours()===e.getHours()&&i.getMinutes()===e.getMinutes()?i:J5(i,s),Pct=ibe(0),Fct=ibe(59);let sbe=(()=>{class s{constructor(e){this.intl=e,this.insertUndividedMax=!1}apply(e,n){return J5(e,n.getSeconds())}configure(e){const{insertUndividedMax:n=this.insertUndividedMax,min:o=this.min,max:r=this.max,part:a,step:l=this.step}=e;this.insertUndividedMax=n,this.toListItem=c=>{const u=J5(Xf,c);return{text:this.intl.formatDate(u,a.pattern),value:u}},this.min=o,this.max=r,this.step=l}data(e){const[n]=this.range(e),o=((s,i)=>e=>tbe(s+e*i))(n,this.step),a=gl(0,this.countFromMin(e)).map(l=>this.toListItem(o(l)));return this.addLast(a),this.addMissing(a,e),a}isRangeChanged(e,n){return!ls(this.min,e)||!ls(this.max,n)}limitRange(e,n,o){return[Pct(e,o),Fct(n,o)]}total(e){const n=this.insertUndividedMax&&this.isLastMissing(e)?1:0,o=this.isMissing(e)?1:0;return this.countFromMin(e)+o+n}selectedIndex(e){return Math.ceil(this.divideByStep(e))}valueInList(e){return!e||this.insertUndividedMax&&this.lastSecond(e)===e.getSeconds()||!this.isMissing(e)}divideByStep(e){return nbe(e.getSeconds(),this.min.getSeconds())/this.step}addLast(e,n){return this.insertUndividedMax&&this.isLastMissing(n)&&e.push(this.toListItem(this.lastSecond(n))),e}addMissing(e,n){if(this.valueInList(n))return e;const o=this.toListItem(n.getSeconds());return e.splice(this.selectedIndex(n),0,o),e}countFromMin(e){const[n,o]=this.range(e);return Math.floor(nbe(o,n)/this.step)+1}isMissing(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}isLastMissing(e){return this.isMissing(J5(this.max,this.lastSecond(e)))}lastSecond(e){return this.range(e)[1]}range(e){const[n,o]=this.limitRange(this.min,this.max,e);return[n.getSeconds(),o.getSeconds()]}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Gt.Bs))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const obe=i=>i%1e3,rbe=(s,i)=>obe(1e3+s-i),abe=s=>(i,e)=>!e||i.getHours()===e.getHours()&&i.getMinutes()===e.getMinutes()&&i.getSeconds()===e.getSeconds()?i:q5(i,s),Bct=abe(0),Vct=abe(999);let lbe=(()=>{class s{constructor(e){this.intl=e,this.insertUndividedMax=!1}apply(e,n){return q5(e,n.getMilliseconds())}configure(e){const{insertUndividedMax:n=this.insertUndividedMax,min:o=this.min,max:r=this.max,step:a=this.step}=e;this.insertUndividedMax=n,this.toListItem=l=>{const c=q5(Xf,l);return{text:this.intl.formatDate(c,"SSS"),value:c}},this.min=o,this.max=r,this.step=a}data(e){const[n]=this.range(e),o=((s,i)=>e=>obe(s+e*i))(n,this.step),a=gl(0,this.countFromMin(e)).map(l=>this.toListItem(o(l)));return this.addLast(a),this.addMissing(a,e),a}isRangeChanged(e,n){return!ls(this.min,e)||!ls(this.max,n)}limitRange(e,n,o){return[Bct(e,o),Vct(n,o)]}total(e){const n=this.insertUndividedMax&&this.isLastMissing(e)?1:0,o=this.isMissing(e)?1:0;return this.countFromMin(e)+o+n}selectedIndex(e){return Math.ceil(this.divideByStep(e))}valueInList(e){return!e||this.insertUndividedMax&&this.lastMillisecond(e)===e.getMilliseconds()||!this.isMissing(e)}divideByStep(e){return rbe(e.getMilliseconds(),this.min.getMilliseconds())/this.step}addLast(e,n){return this.insertUndividedMax&&this.isLastMissing(n)&&e.push(this.toListItem(this.lastMillisecond(n))),e}addMissing(e,n){if(this.valueInList(n))return e;const o=this.toListItem(n.getMilliseconds());return e.splice(this.selectedIndex(n),0,o),e}countFromMin(e){const[n,o]=this.range(e);return Math.floor(rbe(o,n)/this.step)+1}isMissing(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}isLastMissing(e){return this.isMissing(q5(this.max,this.lastMillisecond(e)))}lastMillisecond(e){return this.range(e)[1]}range(e){const[n,o]=this.limitRange(this.min,this.max,e);return[n.getMilliseconds(),o.getMilliseconds()]}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Gt.Bs))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const GZ=(s,i)=>{const e=he(s);return e.setHours(i),e},PZ=s=>null!==s&&s<12,jct=(s,i,e)=>!i&&!e||s>=i&&s<=e,Hct=(s,i,e)=>!i&&!e||s>=i||s<=e;let cbe=(()=>{class s{constructor(e){this.intl=e}apply(e,n){const o=e.getHours(),r=PZ(o),a=PZ(n.getHours());if(r&&a||!r&&!a)return e;const[l,c=24]=this.normalizedRange();return GZ(e,Math.min(Math.max(l,o+(a?-12:12)),c||24))}configure(e){const{min:n=this.min,max:o=this.max,part:r=this.part}=e;this.min=n,this.max=o,this.part=r}data(e){const n=this.part.names;if(!n)return[];const o=[],[r,a]=this.normalizedRange(),l=this.intl.dateFormatNames(n);return PZ(r)&&o.push({text:l.am,value:GZ(this.min,r)}),(s=>null!==s&&(!s||s>11))(a)&&o.push({text:l.pm,value:GZ(this.min,Math.max(12,a))}),this.min.getHours()!==r?o.reverse():o}isRangeChanged(e,n){return!1}limitRange(e,n,o){return[e,n]}total(){const[e,n]=this.normalizedRange();return(e||n)&&(e>11||n<12)?1:2}selectedIndex(e){if(!this.valueInList(e))return-1;const n=Math.floor(e.getHours()/12);return this.min.getHours()===this.normalizedRange()[0]?n:0===n?1:0}valueInList(e){return(this.min.getHours()!==this.normalizedRange()[0]?Hct:jct)(e.getHours(),this.min.getHours(),this.max.getHours())}normalizedRange(){const e=this.min.getHours(),n=this.max.getHours();return[Math.min(e,n),Math.max(e,n)]}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Gt.Bs))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const Xct=()=>null,Wct={35:(s,i)=>s[s.length-1],36:(s,i)=>s[0],38:(s,i)=>s[i-1],40:(s,i)=>s[i+1]},Yct={dayperiod:cbe,hour:J0e,minute:ebe,second:sbe,millisecond:lbe};let FZ=(()=>{class s{constructor(e,n,o,r,a,l){this.element=e,this.injector=n,this.dom=o,this.renderer=r,this.zone=a,this.localization=l,this.min=he(Xf),this.max=he(B0),this.step=1,this.disabled=!1,this.isLast=!1,this.valueChange=new t.bkB,this.tabOutLastPart=new t.bkB,this.componentClass=!0,this.animateToIndex=!0,this.isActive=!1,this.skip=0,this.total=60,this.data=[],this.indexToScroll=-1,this.domEvents=[]}get roleAttribute(){return"listbox"}get ariaLabel(){return this.localization.get(this.part?.type)}get tabIndex(){return this.disabled?void 0:0}get isDayPeriod(){return"dayperiod"===this.part?.type}get currentSelectedIndex(){return this.selectedIndex(this.value)}ngOnChanges(e){e.part&&(this.service=this.injector.get(Yct[this.part.type]),this.service.configure(this.serviceSettings()));const n=this.value,o=e.value||{},[r,a]=this.service.limitRange(this.min,this.max,n);(this.service.isRangeChanged(r,a)||e.min||e.max||e.step)&&(this.data=[],this.service.configure(this.serviceSettings({min:r,max:a}))),(!this.data.length||this.hasMissingValue(o))&&(this.animateToIndex=!1,this.data=this.service.data(n)),this.animateToIndex=this.animateToIndex&&this.textHasChanged(o),this.total=this.service.total(n),this.indexToScroll=this.selectedIndex(n)}ngOnInit(){this.animateToIndex=!0,this.dom.ensureHeights(),this.itemHeight=this.dom.itemHeight,this.listHeight=this.dom.timeListHeight,this.topOffset=(this.listHeight-this.itemHeight)/2,this.bottomOffset=this.listHeight-this.itemHeight,this.topThreshold=.05*this.itemHeight,this.bottomThreshold=.95*this.itemHeight;const e=`translateY(${this.topOffset}px)`;this.style={transform:e,"-ms-transform":e},this.element&&this.zone.runOutsideAngular(()=>{this.bindEvents()})}ngOnDestroy(){this.scrollSubscription.unsubscribe(),this.domEvents.forEach(e=>e())}ngAfterViewInit(){this.scrollOnce(e=>this.virtualization.scrollToIndex(e))}ngAfterViewChecked(){this.scrollOnce(e=>{this.virtualization[this.animateToIndex?"animateToIndex":"scrollToIndex"](e),this.animateToIndex=!0})}getCurrentItem(){return this.indexToScroll>=0?this.data[this.indexToScroll]:null}handleChange(e){const n=this.service.apply(this.value,e.value);this.value.getTime()!==n.getTime()&&(this.indexToScroll=this.data.indexOf(e),this.value=n,this.valueChange.emit(n))}handleItemClick(e){const n=kZ(e.target,o=>o.hasAttribute("data-timelist-item-index"),this.element.nativeElement);if(n){const o=n.getAttribute("data-timelist-item-index");this.handleChange(this.data[o])}}focus(){this.element&&this.element.nativeElement.focus()}blur(){this.element&&this.element.nativeElement.blur()}itemOffset(e){const n=this.selectedIndex(this.value),o=this.virtualization.activeIndex(),r=this.virtualization.itemOffset(o),a=Math.abs(Math.ceil(e)-r);if(n===o&&a<2)return r;const l=n>o;return l&&a>=this.bottomThreshold||!l&&a>this.topThreshold?this.virtualization.itemOffset(o+1):r}hasMissingValue({previousValue:e,currentValue:n}){const o=e&&!this.service.valueInList(e),r=n&&!this.service.valueInList(n);return o||r}scrollOnce(e){-1!==this.indexToScroll&&(e(this.indexToScroll),this.indexToScroll=-1)}serviceSettings(e){const o=Object.assign({},{boundRange:!1,insertUndividedMax:!1,max:this.max,min:this.min,part:this.part,step:this.step},e);return o.boundRange="hour"!==o.part.type,o}selectedIndex(e){return e?this.service.selectedIndex(e):-1}textHasChanged({previousValue:e,currentValue:n}){if(!e||!n)return!1;const o=this.data[this.selectedIndex(e)],r=this.data[this.selectedIndex(n)];return o&&r&&o.text!==r.text}handleKeyDown(e){e.keyCode===F.Tab&&!e.shiftKey&&this.isLast&&(e.preventDefault(),this.tabOutLastPart.emit());const o=(Wct[e.keyCode]||Xct)(this.data,this.service.selectedIndex(this.value));o&&(this.handleChange(o),e.preventDefault())}bindEvents(){this.scrollSubscription=this.virtualization.scroll$().pipe(kv(100),(0,U.T)(n=>n.target.scrollTop),(0,U.T)(n=>this.itemOffset(n)),(0,U.T)(n=>this.virtualization.itemIndex(n))).subscribe(n=>{this.virtualization.scrollToIndex(n),this.handleChange(this.data[n])});const e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"mouseover",()=>!this.isActive&&this.focus()),this.renderer.listen(e,"click",()=>this.focus()),this.renderer.listen(e,"blur",()=>this.isActive=!1),this.renderer.listen(e,"focus",()=>this.isActive=!0),this.renderer.listen(e,"keydown",this.handleKeyDown.bind(this)))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.zZn),t.rXU(xZ),t.rXU(t.sFG),t.rXU(t.SKi),t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-timelist"]],viewQuery:function(e,n){if(1&e&&t.GBs(V0,7),2&e){let o;t.mGM(o=t.lsd())&&(n.virtualization=o.first)}},hostVars:5,hostBindings:function(e,n){2&e&&(t.BMQ("role",n.roleAttribute)("aria-label",n.ariaLabel)("tabindex",n.tabIndex),t.AVh("k-time-list",n.componentClass))},inputs:{min:"min",max:"max",part:"part",step:"step",disabled:"disabled",value:"value",isLast:"isLast"},outputs:{valueChange:"valueChange",tabOutLastPart:"tabOutLastPart"},features:[t.OA$],decls:3,vars:14,consts:[["role","presentation",1,"k-time-container",3,"skip","take","total","itemHeight","maxScrollDifference","topOffset","bottomOffset"],[1,"k-reset",3,"ngStyle","kendoEventsOutsideAngular","scope"],["class","k-item",4,"ngFor","ngForOf"],[1,"k-item"]],template:function(e,n){1&e&&(t.j41(0,"kendo-virtualization",0)(1,"ul",1),t.DNE(2,eat,3,4,"li",2),t.k0s()()),2&e&&(t.Y8G("skip",n.skip)("take",n.total)("total",n.total)("itemHeight",n.itemHeight)("maxScrollDifference",n.listHeight)("topOffset",n.topOffset)("bottomOffset",n.bottomOffset),t.R7$(),t.Y8G("ngStyle",n.style)("kendoEventsOutsideAngular",t.eq3(12,U0,n.handleItemClick))("scope",n),t.BMQ("role","presentation"),t.R7$(),t.Y8G("ngForOf",n.data))},dependencies:[V0,Jn,Vo,st],encapsulation:2}),s})();const ube=(s,i)=>s.getHours()===i.getHours()&&s.getMinutes()===i.getMinutes(),hbe=(s,i)=>ube(s,i)&&s.getSeconds()===i.getSeconds(),pbe=[{type:"hour",getter:s=>s.getHours(),minGetter:(s,i)=>i.getHours()},{type:"minute",getter:s=>s.getMinutes(),minGetter:(s,i)=>ube(s,i)?i.getMinutes():0},{type:"second",getter:s=>s.getSeconds(),minGetter:(s,i)=>hbe(s,i)?i.getSeconds():0},{type:"millisecond",getter:s=>s.getMilliseconds(),minGetter:(s,i)=>((s,i)=>hbe(s,i)&&s.getMilliseconds()===i.getMilliseconds())(s,i)?i.getMilliseconds():0}],fbe=(s=>i=>s.map((s=>i=>s[i.type]?(s=>(i,e)=>s(e))(i.getter):(s=>(i,e)=>s(i))(i.getter))((s=>s.reduce((i,e)=>(i[e.type]=e.type,i),{}))(i))))(pbe),idt=(s=>i=>s.map(e=>{const n=i[e.type];return n?((s,i,e)=>(n,o)=>{const r=s(n),a=i(n,o),l=r-a;if(l<0)return a;const c=l%e;return r-c+(c>e/2?e:0)})(e.getter,e.minGetter,n):e.getter}))(pbe),mbe=s=>(i,e)=>(i.setHours(...s.map(n=>n(i,e))),i);let Xv=(()=>{class s extends Gi{}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275dir=t.FsC({type:s,selectors:[["kendo-timepicker-messages-base"]],inputs:{accept:"accept",acceptLabel:"acceptLabel",cancel:"cancel",cancelLabel:"cancelLabel",now:"now",nowLabel:"nowLabel",toggle:"toggle",hour:"hour",minute:"minute",second:"second",millisecond:"millisecond",dayperiod:"dayperiod"},features:[t.Vt3]}),s})(),_be=(()=>{class s extends Xv{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoTimeSelectorLocalizedMessages",""]],features:[t.Jv_([{provide:Xv,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})();const odt=(s,i,e,n)=>s.length||!i.isActive?s:[{next:n[e+1]||i,prev:n[e-1]||i}];var CU=function(s){return s[s.Left=0]="Left",s[s.Right=1]="Right",s}(CU||{});let UZ=(()=>{class s{constructor(e,n,o,r,a,l,c,u){this.localization=e,this.cdr=n,this.element=o,this.intl=r,this.dom=a,this.zone=l,this.renderer=c,this.pickerService=u,this.format="t",this.min=he(Mw),this.max=he(B0),this.cancelButton=!0,this.setButton=!0,this.nowButton=!0,this.disabled=!1,this.value=null,this.valueChange=new t.bkB,this.valueReject=new t.bkB,this.tabOutLastPart=new t.bkB,this.isActive=!1,this.showNowButton=!0,this._activeListIndex=-1,this._steps={},this.domEvents=[],this.pickerService&&(this.pickerService.timeSelector=this)}get disabledClass(){return this.disabled}set steps(e){this._steps=e||{}}get steps(){return this._steps}set current(e){this._current=((s,i,e)=>{if(!s||!i||!e)return s;const{candidateValue:n,minValue:o,maxValue:r}=h0e(s,i,e);return n<o?sg(s,i):n>r?sg(s,e):s})(this.snapTime(he(e||Xf),this.min),this.min,this.max),t.SKi.isInAngularZone()||this.cdr.detectChanges()}get current(){return this._current}get activeListIndex(){return this._activeListIndex}set activeListIndex(e){if(this._activeListIndex=e,this.timeListWrappers&&this.timeListWrappers.length&&(this.timeListWrappers.forEach(n=>{this.renderer.removeClass(n.nativeElement,"k-focus")}),e>=0)){const n=this.listIndex(e),o=this.timeListWrappers.toArray()[n];o&&this.renderer.addClass(o.nativeElement,"k-focus")}}ngOnInit(){this.subscriptions=this.intl.changes.subscribe(this.intlChange.bind(this)),this.localization&&this.subscriptions.add(this.localization.changes.subscribe(()=>this.cdr.markForCheck())),this.renderer.addClass(this.element.nativeElement,"k-timeselector"),this.dom.isAdaptiveEnabled=this.isAdaptiveEnabled,this.dom.isDateTimePicker=this.isDateTimePicker,this.dom.calculateHeights(this.element.nativeElement),this.init(),this.bindEvents()}ngAfterViewInit(){this.subscriptions.add(wt(this.timeListWrappers.first.nativeElement,"keydown").subscribe(e=>{const{keyCode:n,shiftKey:o}=e;n===F.Tab&&o&&(e.preventDefault(),this.renderer.removeClass(this.timeListWrappers.first.nativeElement,"k-focus"),this.accept.nativeElement.focus())})),this.subscriptions.add(wt(this.timeListWrappers.last.nativeElement,"keydown").subscribe(e=>{const{keyCode:n,shiftKey:o}=e;n===F.Tab&&!o&&this.renderer.removeClass(this.timeListWrappers.last.nativeElement,"k-focus")}))}ngOnChanges(e){this.init()}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),this.pickerService&&(this.pickerService.timeSelector=null),this.domEvents.forEach(e=>e())}focus(){const e=this.timeLists.first;e&&e.focus()}blur(){const e=this.timeLists.first;e&&e.blur()}handleAccept(){this.handleChange(this.mergeValue(he(this.value||Dn(hZ())),this.current))}handleNow(){this.current=hZ(),this.handleChange(this.current),this.cdr.markForCheck()}handleReject(){this.current=this.value,this.valueReject.emit()}handleFocus(e){this.isActive||(this.isActive=!0,this.emitFocus(e))}handleListFocus(e){const n=parseInt(e.target.getAttribute("data-timelist-index"),10);this.activeListIndex=n,this.handleFocus(e)}handleBlur(e){const n=cZ(e);n&&this.containsElement(n)||(this.activeListIndex=-1,this.isActive=!1,this.emitBlur(e))}containsElement(e){return!!wZ(e,n=>n===this.element.nativeElement)}handleTabOut(e){const{keyCode:n,shiftKey:o}=e;n===F.Tab&&!o&&(e.preventDefault(),this.timeLists.first.focus())}partStep(e){return this.steps[e.type]||1}init(e){(!e||rg(e,"format"))&&(this.dateFormatParts=this.intl.splitDateFormat(this.format),this.mergeValue=mbe(fbe(this.dateFormatParts))),(!e||rg(e,"steps"))&&(this.snapTime=(s=>(i,e)=>{const n=he(i);return n.setHours(...s.map(o=>o(n,e))),n})(idt(this.steps))),(!e||rg(e,"value"))&&(this.current=this.value),this.showNowButton=!this.hasSteps()&&this.nowButton&&((s,i,e)=>{if(!s||!i||!e)return!0;const{candidateValue:n,minValue:o,maxValue:r}=h0e(s,i,e);return o<=n&&n<=r})(hZ(),this.min,this.max)}focusList(e){this.timeLists.length&&this.timeLists.reduce(odt,[]).map(n=>e===CU.Right?n.next:n.prev).map(n=>n&&n.focus())}handleChange(e){this.value=e,this.valueChange.emit(he(e))}hasActiveButton(){return!!this.accept&&[this.accept,this.cancel,this.now].reduce((e,n)=>e||this.dom.isActive(n),!1)}hasSteps(){const e=Object.keys(this.steps);return e.length!==e.reduce((n,o)=>n+this.steps[o],0)}intlChange(){this.dateFormatParts=this.intl.splitDateFormat(this.format),this.mergeValue=mbe(fbe(this.dateFormatParts)),this.cdr.markForCheck()}bindEvents(){this.element&&this.zone.runOutsideAngular(()=>{this.domEvents.push(this.renderer.listen(this.element.nativeElement,"keydown",this.handleKeydown.bind(this)))})}handleKeydown(e){const{keyCode:n,altKey:o}=e,r=-1!==[F.ArrowLeft,F.ArrowRight].indexOf(n);Ft(this.pickerService)&&r&&o||(n!==F.Enter||this.hasActiveButton()?(n===F.ArrowLeft||n===F.ArrowRight)&&this.focusList(n===F.ArrowLeft?CU.Left:CU.Right):this.handleAccept())}emitBlur(e){this.pickerService&&this.pickerService.onBlur.emit(e)}emitFocus(e){this.pickerService&&this.pickerService.onFocus.emit(e)}listIndex(e){let n=0,o=0;for(;o<e;)"literal"!==this.dateFormatParts[o].type&&n++,o++;return n}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j),t.rXU(t.gRc),t.rXU(t.aKT),t.rXU(Gt.Bs),t.rXU(xZ),t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(ag,8))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-timeselector"]],viewQuery:function(e,n){if(1&e&&(t.GBs(tat,5),t.GBs(nat,5),t.GBs(iat,5),t.GBs(FZ,5),t.GBs(sat,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.accept=o.first),t.mGM(o=t.lsd())&&(n.cancel=o.first),t.mGM(o=t.lsd())&&(n.now=o.first),t.mGM(o=t.lsd())&&(n.timeLists=o),t.mGM(o=t.lsd())&&(n.timeListWrappers=o)}},hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-disabled",n.disabledClass)},inputs:{format:"format",min:"min",max:"max",cancelButton:"cancelButton",setButton:"setButton",nowButton:"nowButton",disabled:"disabled",isAdaptiveEnabled:"isAdaptiveEnabled",isDateTimePicker:"isDateTimePicker",steps:"steps",value:"value"},outputs:{valueChange:"valueChange",valueReject:"valueReject",tabOutLastPart:"tabOutLastPart"},exportAs:["kendo-timeselector"],features:[t.Jv_([j,{provide:Ve,useValue:"kendo.timeselector"}]),t.OA$],decls:9,vars:4,consts:()=>{let i,e,n,o,r,a;return i="Set",e="Set time",n="Cancel",o="Cancel changes",r="Now",a="Select now",[["now",""],["listWrapper",""],["accept",""],["cancel",""],["kendoTimeSelectorLocalizedMessages","","accept",i,"acceptLabel",e,"cancel",n,"cancelLabel",o,"now",r,"nowLabel",a],[1,"k-time-header"],[1,"k-title","k-timeselector-title"],["type","button","class","k-button k-button-md k-rounded-md k-button-flat k-button-flat-primary k-time-now",3,"kendoEventsOutsideAngular","scope","disabled",4,"ngIf"],[1,"k-time-list-container"],[1,"k-time-highlight"],["ngFor","",3,"ngForOf"],["class","k-time-footer k-actions k-actions-stretched k-actions-horizontal",4,"ngIf"],["type","button",1,"k-button","k-button-md","k-rounded-md","k-button-flat","k-button-flat-primary","k-time-now",3,"kendoEventsOutsideAngular","scope","disabled"],["class","k-time-list-wrapper","role","presentation","tabindex","-1",4,"ngIf"],["class","k-time-separator",4,"ngIf"],["role","presentation","tabindex","-1",1,"k-time-list-wrapper"],[3,"valueChange","tabOutLastPart","isLast","min","max","part","step","disabled","value","kendoEventsOutsideAngular","scope"],[1,"k-time-separator"],[1,"k-time-footer","k-actions","k-actions-stretched","k-actions-horizontal"],["type","button","class","k-button k-time-accept k-button-md k-rounded-md k-button-solid k-button-solid-primary",3,"kendoEventsOutsideAngular","scope","disabled",4,"ngIf"],["class","k-button k-time-cancel k-button-md k-rounded-md k-button-solid k-button-solid-base","type","button",3,"kendoEventsOutsideAngular","scope","disabled",4,"ngIf"],["type","button",1,"k-button","k-time-accept","k-button-md","k-rounded-md","k-button-solid","k-button-solid-primary",3,"kendoEventsOutsideAngular","scope","disabled"],["type","button",1,"k-button","k-time-cancel","k-button-md","k-rounded-md","k-button-solid","k-button-solid-base",3,"kendoEventsOutsideAngular","scope","disabled"]]},template:function(e,n){1&e&&(t.eu8(0,4),t.j41(1,"div",5)(2,"span",6),t.EFF(3),t.k0s(),t.DNE(4,aat,3,10,"button",7),t.k0s(),t.j41(5,"div",8),t.nrm(6,"span",9),t.DNE(7,dat,2,2,"ng-template",10),t.k0s(),t.DNE(8,pat,3,2,"div",11)),2&e&&(t.R7$(3),t.SpI(" ",n.intl.formatDate(n.current,n.format)," "),t.R7$(),t.Y8G("ngIf",n.showNowButton),t.R7$(3),t.Y8G("ngForOf",n.dateFormatParts),t.R7$(),t.Y8G("ngIf",n.setButton||n.cancelButton))},dependencies:[FZ,_be,W,Vo,st],encapsulation:2,changeDetection:0}),s})(),BZ=(()=>{class s extends Xv{constructor(e){super(),this.service=e}get override(){return!0}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-timeselector-messages"]],features:[t.Jv_([{provide:Xv,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})();new RegExp("hour|minute|second|millisecond|dayperiod|literal");let bU=(()=>{class s extends Gi{}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275dir=t.FsC({type:s,selectors:[["kendo-datetimepicker-messages-base"]],inputs:{toggle:"toggle",dateTab:"dateTab",dateTabLabel:"dateTabLabel",timeTab:"timeTab",timeTabLabel:"timeTabLabel",accept:"accept",acceptLabel:"acceptLabel",cancel:"cancel",cancelLabel:"cancelLabel",today:"today",now:"now",nowLabel:"nowLabel",prevButtonTitle:"prevButtonTitle",nextButtonTitle:"nextButtonTitle",parentViewButtonTitle:"parentViewButtonTitle",hour:"hour",minute:"minute",second:"second",millisecond:"millisecond",dayperiod:"dayperiod"},features:[t.Vt3]}),s})(),vbe=(()=>{class s extends bU{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoDateTimePickerLocalizedMessages",""]],features:[t.Jv_([{provide:bU,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})();const Sbe=new RegExp("hour|minute|second|dayperiod|literal"),VZ="date";let zZ=(()=>{class s{constructor(e,n,o,r,a,l,c,u,f,_){this.popupService=e,this.intl=n,this.cdr=o,this.pickerService=r,this.ngZone=a,this.wrapper=l,this.touchEnabled=c,this.localization=u,this.disabledDatesService=f,this.renderer=_,this.calendarIcon=Pk,this.clockIcon=vI,this.hostClasses=!0,this.twoDigitYearMax=68,this.title="",this.disabled=!1,this.readonly=!1,this.readOnlyInput=!1,this.cancelButton=!0,this.steps={second:1,minute:1,hour:1,day:1,month:1,year:1},this.calendarType="infinite",this.animateCalendarNavigation=!1,this.weekNumber=!1,this.rangeValidation=!0,this.disabledDatesValidation=!0,this.incompleteDateValidation=!1,this.autoCorrectParts=!0,this.autoSwitchParts=!0,this.autoSwitchKeys=[],this.enableMouseWheel=!0,this.allowCaretMode=!1,this.autoFill=!1,this.adaptiveMode="none",this.valueChange=new t.bkB,this.open=new t.bkB,this.close=new t.bkB,this.onFocus=new t.bkB,this.onBlur=new t.bkB,this.activeTab=VZ,this.timeSelectorFormat="t",this.timeSelectorMin=he(Mw),this.timeSelectorMax=he(B0),this.calendarValue=null,this.calendarMin=he(Ku),this.calendarMax=v0e(Ju),this.xIcon=wo,this._popupSettings={animate:!0},this._value=null,this._format="g",this._tabindex=0,this._defaultTab=VZ,this._min=fZ(Ku,Mw),this._max=fZ(Ju,B0),this._isActive=!1,this.onControlTouched=Jt,this.onControlChange=Jt,this.onValidatorChange=Jt,this.minValidateFn=Jt,this.maxValidateFn=Jt,this.disabledDatesValidateFn=Jt,this.incompleteValidator=Jt,this.subscriptions=new be.yU,this._size=Wf,this._rounded=jv,this._fillMode=Hv,(0,mt.$)(Tw)}get disabledClass(){return this.disabled}get dateInput(){return this.pickerService.input}get calendar(){return this.pickerService.calendar}get timeSelector(){return this.pickerService.timeSelector}set value(e){this.verifyValue(e),this._value=he(e),this.setCalendarValue(e),this.cdr.markForCheck()}get value(){return this._value}set format(e){this._format=e;const n=this.getDisplayFormat(e);this.timeSelectorFormat=this.getTimeSelectorFormat(n)}get format(){return this._format}set tabindex(e){const n=Number(e);this._tabindex=isNaN(n)?0:n}get tabindex(){return this.disabled?-1:this._tabindex}set disabledDates(e){this._disabledDates=e,this.disabledDatesService.initialize(e)}get disabledDates(){return this._disabledDates}set popupSettings(e){this._popupSettings=Object.assign({},{animate:!0},e)}get popupSettings(){return this._popupSettings}set subtitle(e){this._subtitle=e}get subtitle(){return this._subtitle||this.placeholder}set min(e){this._min=he(e),this.calendarMin=Dn(e||Ku)}get min(){return this._min}set max(e){this._max=he(e),this.calendarMax=v0e(e||Ju)}get max(){return this._max}get isOpen(){return this.isAdaptive?(s=>!!this.actionSheet?.expanded)():Ft(this.popupRef)}get isActive(){return this._isActive}set isActive(e){e?this.renderer.addClass(this.wrapper.nativeElement,"k-focus"):this.renderer.removeClass(this.wrapper.nativeElement,"k-focus"),this._isActive=e}set defaultTab(e){this._defaultTab=e||VZ,this.activeTab=this.defaultTab}get defaultTab(){return this._defaultTab}set size(e){this.renderer.removeClass(this.wrapper.nativeElement,ro("input",this.size)),this.renderer.removeClass(this.toggleButton.nativeElement,ro("button",this.size));const n=e||Wf;"none"!==n&&(this.renderer.addClass(this.wrapper.nativeElement,ro("input",n)),this.renderer.addClass(this.toggleButton.nativeElement,ro("button",n))),this._size=n}get size(){return this._size}set rounded(e){this.renderer.removeClass(this.wrapper.nativeElement,zd(this.rounded));const n=e||jv;"none"!==n&&this.renderer.addClass(this.wrapper.nativeElement,zd(n)),this._rounded=n}get rounded(){return this._rounded}set fillMode(e){this.renderer.removeClass(this.wrapper.nativeElement,Sr("input",this.fillMode)),this.renderer.removeClass(this.toggleButton.nativeElement,Sr("button",this.fillMode)),this.renderer.removeClass(this.toggleButton.nativeElement,`k-button-${this.fillMode}-base`);const n=e||Hv;"none"!==n&&(this.renderer.addClass(this.wrapper.nativeElement,Sr("input",n)),this.renderer.addClass(this.toggleButton.nativeElement,Sr("button",n)),this.renderer.addClass(this.toggleButton.nativeElement,`k-button-${n}-base`)),this._fillMode=n}get fillMode(){return this._fillMode}get tabSwitchTransition(){return this.isOpen?null:"none"}get disableCalendar(){return"date"!==this.activeTab&&!this.calendar.isActive}get disableTimeSelector(){return"time"!==this.activeTab&&!this.timeSelector.isActive}get isAdaptiveModeEnabled(){return"auto"===this.adaptiveMode}get isAdaptive(){return this.isAdaptiveModeEnabled&&"large"!==this.windowSize}onResize(){!this.isOpen||this.windowSize===vl()||(this.actionSheet.expanded?this.toggleActionSheet(!1):this._togglePopup(!1),this.windowSize=vl())}get activeTabComponent(){if(this.isOpen)return Ft(this.calendar)||Ft(this.timeSelector)||this.cdr.detectChanges(),"date"===this.activeTab?this.calendar:this.timeSelector}get appendTo(){const{appendTo:e}=this.popupSettings;if(Ft(e)&&"root"!==e)return"component"===e?this.container:e}get popupUID(){return this.calendar?.popupId}get acceptButton(){return this.popupRef?.popup.instance.container.nativeElement.querySelector(".k-button.k-time-accept")}get cancelButtonElement(){return this.popupRef?.popup.instance.container.nativeElement.querySelector(".k-button.k-time-cancel")}get dateTabButton(){return this.popupRef?.popup.instance.container.nativeElement.querySelector(".k-button.k-date-tab")}ngOnInit(){this.subscriptions.add(this.pickerService.onFocus.pipe(x(this.detectPopupChanges.bind(this))).subscribe(this.handleFocus.bind(this))),this.subscriptions.add(this.pickerService.onBlur.subscribe(this.handleBlur.bind(this))),this.subscriptions.add(this.pickerService.sameDateSelected.subscribe(this.handleCalendarValueChange.bind(this))),this.subscriptions.add(this.localization.changes.subscribe(()=>this.cdr.markForCheck())),this.subscriptions.add(this.pickerService.dateCompletenessChange.subscribe(this.handleDateCompletenessChange.bind(this))),Q5()&&this.subscriptions.add(this.ngZone.runOutsideAngular(()=>wt(window,"blur").subscribe(()=>{this.isAdaptive||this.handleCancel()}))),this.focusableId=this.dateInput?.focusableId}ngAfterViewInit(){this.setComponentClasses(),this.actionSheet&&ne()&&(this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-height","60vh"),this.actionSheet.element.nativeElement.style.setProperty("--kendo-actionsheet-max-height","none"))}ngOnChanges(e){(Ft(e.min)||Ft(e.max))&&this.verifyMinMaxRange(),(e.min||e.max||e.rangeValidation||e.disabledDatesValidation||e.disabledDates||e.incompleteDateValidation)&&(this.minValidateFn=this.rangeValidation?Bx(this.min):Jt,this.maxValidateFn=this.rangeValidation?Vx(this.max):Jt,this.disabledDatesValidateFn=this.disabledDatesValidation?V0e(this.disabledDatesService.isDateDisabled):Jt,this.incompleteValidator=this.incompleteDateValidation?gU():Jt,this.onValidatorChange()),(!this.focusableId||e.focusableId)&&(this.focusableId=this.dateInput?.focusableId)}ngOnDestroy(){this.isOpen&&this.closePopup(),this.subscriptions.unsubscribe()}focus(){this.disabled||(this.isOpen?this.activeTabComponent.focus():this.dateInput.focus())}blur(){this.isOpen&&this.activeTabComponent.isActive?this.activeTabComponent.blur():this.dateInput.blur()}toggle(e){this.disabled||this.readonly||e===this.isOpen||(this.windowSize=vl(),this.isAdaptive?this.toggleActionSheet(e):this._togglePopup(e))}writeValue(e){this.verifyValue(e),this.value=he(e),this.cdr.markForCheck(),!e&&this.dateInput&&(this.dateInput.placeholder=this.placeholder,this.dateInput.writeValue(e))}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)||this.disabledDatesValidateFn(e)||this.incompleteValidator(e,this.dateInput&&this.dateInput.isDateIncomplete)}registerOnValidatorChange(e){this.onValidatorChange=e}isEmpty(){return!Ft(this.value)&&this.dateInput.isEmpty()}handleIconClick(e){if(this.disabled||this.readonly)return;e.preventDefault();const n=!this.isOpen||ke(this.close);this.run(n,()=>{const o=!this.isOpen;this.handleFocus(),this.toggleDateTime(o),this.switchFocus()})}handleFocus(){this.isActive||(this.isActive=!0,ke(this.onFocus)&&this.ngZone.run(()=>this.onFocus.emit()))}handleBlur(e){if(!this.isActive||this.focusTargetInComponent(e))return;this.isActive=!1;const o=this.wrapper.nativeElement.classList.contains("ng-untouched")||ke(this.onBlur)||this.isOpen&&ke(this.close);this.run(o,()=>{this.onBlur.emit(),this.onControlTouched(),this.toggleDateTime(!1),this.cdr.markForCheck()})}changeActiveTab(e){!this.isOpen||this.activeTab===e||(ls(this.timeSelector.value,this.timeSelector.current)||this.timeSelector.handleAccept(),this.activeTab=e,this.cdr.detectChanges(),this.detectPopupChanges())}handleTabChangeTransitionEnd(e,n){n.target===e&&("time"===this.activeTab&&this.renderer.removeAttribute(this.dateInput?.inputElement,"aria-activedescendant"),this.activeTabComponent.focus())}onTabOutLastPart(){this.cancelButton||this.calendarValue?!this.cancelButton&&this.calendarValue?this.acceptButton.focus():this.cancelButton&&this.cancelButtonElement.focus():this.dateTabButton.focus()}handleAccept(){if(!this.isOpen)return;const e=fZ(this.calendar.value,this.timeSelector.current),o=!ls(this.value,e)||ke(this.close);this.run(o,()=>{this.handleValueChange(e),this.toggleDateTime(!1)})}handleCancel(){if(!this.isOpen)return;const e=ke(this.close);this.run(e,()=>this.toggleDateTime(!1))}handleInputValueChange(e){this.handleValueChange(e),this.isOpen&&this.toggleDateTime(!1)}handleDateInputClick(){this.windowSize=vl(),this.isAdaptive&&this.toggleDateTime(!0)}handleCalendarValueChange(){this.setTimeSelectorMinMax(this.calendar.value),this.changeActiveTab("time")}handleKeyDown(e){if(this.disabled||this.readonly)return;const{keyCode:n,altKey:o}=e;switch(n){case o&&F.ArrowUp:case F.Escape:this.handleCancel();break;case!this.isOpen&&o&&F.ArrowDown:this.ngZone.run(()=>this.toggleDateTime(!0));break;case o&&F.ArrowRight:this.changeActiveTab("time");break;case o&&F.ArrowLeft:this.changeActiveTab("date");break;case this.isOpen&&this.timeSelector.isActive&&Ft(this.calendarValue)&&F.Enter:this.handleAccept();break;default:return}e.preventDefault()}handleTab(e){e.preventDefault();const{shiftKey:n}=e;switch(e.target){case this.acceptButton:!n&&this.calendarValue&&this.dateTabButton.focus();break;case this.cancelButtonElement:n||this.calendarValue?!n&&this.calendarValue&&this.acceptButton.focus():this.dateTabButton.focus();break;case this.dateTabButton:this.calendarValue?this.acceptButton.focus():!this.calendarValue&&this.cancelButton?this.cancelButtonElement.focus():!this.calendarValue&&!this.cancelButton&&("date"===this.activeTab?this.calendar.monthView.list.nativeElement.focus():this.timeSelector.focus())}}handleActionSheetCollapse(){this.cdr.markForCheck(),this.resetActiveTab()}popupButtonsClasses(e){const n=e||"base";return`${this.isAdaptive?ro("button","large"):this.size?ro("button",this.size):""} ${this.rounded?zd(this.rounded):""} ${this.fillMode?"k-button-"+this.fillMode+" k-button-"+this.fillMode+"-"+n:""}`}preventMouseDown(e){e.preventDefault()}_togglePopup(e){(Ft(e)?!e:this.isOpen)?(this.closePopup(),this.resetActiveTab()):this.openPopup()}toggleActionSheet(e){Ft(e)&&e&&!this.isOpen?(this.actionSheet.toggle(),this.updateActionSheetAdaptiveAppearance(),this.renderer.setAttribute(this.actionSheet.element.nativeElement,"id",this.popupUID),this.renderer.setAttribute(this.dateInput?.inputElement,"aria-controls",this.popupUID),this.setAriaActiveDescendant()):Ft(e)&&!e&&this.isOpen&&(this.actionSheet.toggle(),this.ariaActiveDescendantSubscription.unsubscribe(),this.dateInput&&(this.renderer.removeAttribute(this.dateInput.inputElement,"aria-activedescendant"),this.renderer.removeAttribute(this.dateInput.inputElement,"aria-controls")))}updateActionSheetAdaptiveAppearance(){let e,n;this.actionSheet&&(e=this.actionSheet.element.nativeElement.querySelector(".k-actionsheet"),n=this.actionSheet.element.nativeElement.querySelector(".k-child-animation-container"),"medium"===this.windowSize?(this.renderer.removeClass(e,"k-actionsheet-fullscreen"),this.renderer.removeStyle(n,"height")):"small"===this.windowSize&&(this.renderer.addClass(e,"k-actionsheet-fullscreen"),this.renderer.setStyle(n,"height","100%")),this.renderer.addClass(e,"k-adaptive-actionsheet"),this.renderer.addClass(e,"k-actionsheet-bottom"),this.renderer.setStyle(n,"bottom","0px"))}resetActiveTab(){this.activeTab!==this.defaultTab&&(this.activeTab=this.defaultTab,this.cdr.detectChanges())}verifyValue(e){if((0,t.naY)()&&Ft(e)&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance or null. Check https://www.telerik.com/kendo-angular-ui/components/dateinputs/datetimepicker/integration-with-json/ for possible resolution.")}verifyMinMaxRange(){if((0,t.naY)()&&!uZ(this.min,this.max))throw new Error("The max value should be bigger than the min. See https://www.telerik.com/kendo-angular-ui/components/dateinputs/datetimepicker/date-time-limits/.")}getTimeSelectorFormat(e){return this.intl.splitDateFormat(e).filter(this.timeFormatPartFilter).reduce((o,r)=>o+r.pattern,"")||"t"}getDisplayFormat(e){return e?"string"==typeof e?e:e.displayFormat:"g"}timeFormatPartFilter(e,n,o){const r=n>=1&&o[n-1];return Sbe.test(r&&"literal"===e.type?r.type:e.type)}toggleDateTime(e){if(e===this.isOpen)return;const n=new Xx;e?this.open.emit(n):this.close.emit(n),!n.isDefaultPrevented()&&(this.toggle(e),this.switchFocus())}switchFocus(){this.isActive&&(this.isOpen?this.activeTabComponent.focus():this.touchEnabled?this.dateInput.isActive||this.handleBlur():this.dateInput.focus())}openPopup(){this.setCalendarValue(this.value),this.setTimeSelectorMinMax(this.value);const e=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,content:this.popupTemplate,positionMode:"absolute",animate:this.popupSettings.animate,appendTo:this.appendTo,popupClass:`k-datetime-container k-datetimepicker-popup ${this.popupSettings.popupClass||""}`,anchorAlign:{vertical:"bottom",horizontal:e},popupAlign:{vertical:"top",horizontal:e}}),this.popupRef.popupElement.setAttribute("id",this.popupUID),this.renderer.setAttribute(this.dateInput?.inputElement,"aria-controls",this.popupUID),this.setAriaActiveDescendant(),this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.handleCancel()),"infinite"===this.calendar.type&&this.subscriptions.add(wt(this.calendar.monthView.list.nativeElement,"keydown").subscribe(n=>{const{keyCode:o,shiftKey:r}=n;o===F.Tab&&!r&&!this.cancelButton&&!this.calendarValue&&(n.preventDefault(),this.dateTabButton.focus())}))}setAriaActiveDescendant(){this.ariaActiveDescendantSubscription=("infinite"===this.calendar.type?this.calendar.monthView.focusedCellChange:this.calendar.multiViewCalendar.viewList.focusedCellChange).subscribe(n=>this.renderer.setAttribute(this.dateInput?.inputElement,"aria-activedescendant",n))}closePopup(){this.isOpen&&(this.ariaActiveDescendantSubscription.unsubscribe(),this.renderer.removeAttribute(this.dateInput?.inputElement,"aria-controls"),this.renderer.removeAttribute(this.dateInput?.inputElement,"aria-activedescendant"),this.popupRef.close(),this.popupRef=null)}handleValueChange(e){ls(this.value,e)||(this.value=he(e),this.onControlChange(he(e)),this.valueChange.emit(he(e)))}focusTargetInComponent(e){if(!Ft(e))return!1;const n=e.relatedTarget||document.activeElement,o=Ft(this.popupRef)&&this.popupRef.popupElement.contains(n),r=this.wrapper.nativeElement.contains(n),a=this.actionSheet&&(this.actionSheet.element.nativeElement.contains(e.target)||this.actionSheet.element.nativeElement.contains(n));return o||r||a}setTimeSelectorMinMax(e){const n=Ft(e)&&Ft(this.min)&&ls(Dn(e),Dn(this.min));this.timeSelectorMin=he(n?this.min:Mw);const o=Ft(e)&&Ft(this.max)&&ls(Dn(e),Dn(this.max));this.timeSelectorMax=he(o?this.max:B0)}setCalendarValue(e){const n=Ft(e)&&Iw(e,this.calendarMin,this.calendarMax);this.calendarValue=n?Dn(e):null}detectPopupChanges(){!this.isOpen||this.isAdaptive||this.popupRef.popup.changeDetectorRef.detectChanges()}run(e,n){e?this.ngZone.run(()=>n()):n()}handleDateCompletenessChange(){this.cdr.markForCheck(),this.ngZone.run(()=>this.onValidatorChange())}setComponentClasses(){this.size&&(this.renderer.addClass(this.wrapper.nativeElement,ro("input",this.size)),this.renderer.addClass(this.toggleButton.nativeElement,ro("button",this.size))),this.rounded&&this.renderer.addClass(this.wrapper.nativeElement,zd(this.rounded)),this.fillMode&&(this.renderer.addClass(this.wrapper.nativeElement,Sr("input",this.fillMode)),this.renderer.addClass(this.toggleButton.nativeElement,Sr("button",this.fillMode)),this.renderer.addClass(this.toggleButton.nativeElement,`k-button-${this.fillMode}-base`))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(es),t.rXU(Gt.Bs),t.rXU(t.gRc),t.rXU(ag),t.rXU(t.SKi),t.rXU(t.aKT),t.rXU(Rw),t.rXU(j),t.rXU(Yf),t.rXU(t.sFG))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-datetimepicker"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,oU,5),t.wni(o,Ux,5),t.wni(o,rU,5),t.wni(o,aU,5),t.wni(o,lU,5),t.wni(o,cU,5),t.wni(o,dU,5)),2&e){let r;t.mGM(r=t.lsd())&&(n.cellTemplate=r.first),t.mGM(r=t.lsd())&&(n.monthCellTemplate=r.first),t.mGM(r=t.lsd())&&(n.yearCellTemplate=r.first),t.mGM(r=t.lsd())&&(n.decadeCellTemplate=r.first),t.mGM(r=t.lsd())&&(n.centuryCellTemplate=r.first),t.mGM(r=t.lsd())&&(n.weekNumberTemplate=r.first),t.mGM(r=t.lsd())&&(n.headerTitleTemplate=r.first)}},viewQuery:function(e,n){if(1&e&&(t.GBs(lZ,7),t.GBs($5,7,t.c1b),t.GBs(aZ,7,t.C4Q),t.GBs(X5,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.toggleButton=o.first),t.mGM(o=t.lsd())&&(n.container=o.first),t.mGM(o=t.lsd())&&(n.popupTemplate=o.first),t.mGM(o=t.lsd())&&(n.actionSheet=o.first)}},hostVars:8,hostBindings:function(e,n){2&e&&t.AVh("k-datetimepicker",n.hostClasses)("k-input",n.hostClasses)("k-disabled",n.disabledClass)("k-readonly",n.readonly)},inputs:{focusableId:"focusableId",showOtherMonthDays:"showOtherMonthDays",value:"value",format:"format",twoDigitYearMax:"twoDigitYearMax",tabindex:"tabindex",disabledDates:"disabledDates",popupSettings:"popupSettings",title:"title",subtitle:"subtitle",disabled:"disabled",readonly:"readonly",readOnlyInput:"readOnlyInput",cancelButton:"cancelButton",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",steps:"steps",focusedDate:"focusedDate",calendarType:"calendarType",animateCalendarNavigation:"animateCalendarNavigation",weekNumber:"weekNumber",min:"min",max:"max",rangeValidation:"rangeValidation",disabledDatesValidation:"disabledDatesValidation",incompleteDateValidation:"incompleteDateValidation",autoCorrectParts:"autoCorrectParts",autoSwitchParts:"autoSwitchParts",autoSwitchKeys:"autoSwitchKeys",enableMouseWheel:"enableMouseWheel",allowCaretMode:"allowCaretMode",autoFill:"autoFill",adaptiveMode:"adaptiveMode",defaultTab:"defaultTab",size:"size",rounded:"rounded",fillMode:"fillMode"},outputs:{valueChange:"valueChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur"},exportAs:["kendo-datetimepicker"],features:[t.Jv_([ag,j,Yf,{provide:Ve,useValue:"kendo.datetimepicker"},{provide:Yn,useExisting:(0,t.Rfq)(()=>s),multi:!0},{provide:Ho,useExisting:(0,t.Rfq)(()=>s),multi:!0},{provide:as,useExisting:(0,t.Rfq)(()=>s)}]),t.OA$],decls:16,vars:42,consts:()=>{let i,e,n,o,r,a,l,c,u,f,_,g,S,b,k,D,O,I,N,P;return i="Data",e="Data",n="Ora",o="Ora",r="Mostra popup",a="Accetta",l="Accetta",c="Cancella",u="Cancella",f="ADESSO",_="Seleziona adesso",g="OGGI",S="Vai al precedente",b="Vai al prossimo",k="Navigate to parent view",D="Hour",O="Minute",I="Second",N="Millisecond",P="Dayperiod",[["toggleButton",""],["container",""],["popupTemplate",""],["actionSheet",""],["dateTimeTemplate",""],["dateTimeSelector",""],["calendar",""],["kendoDateTimePickerLocalizedMessages","","dateTab",i,"dateTabLabel",e,"timeTab",n,"timeTabLabel",o,"toggle",r,"accept",a,"acceptLabel",l,"cancel",c,"cancelLabel",u,"now",f,"nowLabel",_,"today",g,"prevButtonTitle",S,"nextButtonTitle",b,"parentViewButtonTitle",k,"hour",D,"minute",O,"second",I,"millisecond",N,"dayperiod",P],["pickerType","datetimepicker","hasPopup","dialog",3,"valueChange","click","value","format","twoDigitYearMax","min","max","incompleteDateValidation","autoCorrectParts","autoSwitchParts","autoSwitchKeys","enableMouseWheel","allowCaretMode","autoFill","formatPlaceholder","placeholder","disabled","focusableId","readonly","role","ariaReadOnly","steps","tabindex","title","isPopupOpen","kendoEventsOutsideAngular","scope","fillMode","rounded","size"],["type","button",1,"k-input-button","k-button","k-icon-button",3,"tabindex","kendoEventsOutsideAngular","scope"],["name","calendar","innerCssClass","k-button-icon",3,"svgIcon",4,"ngIf"],["name","clock","innerCssClass","k-button-icon",3,"svgIcon",4,"ngIf"],[3,"resize",4,"ngIf"],[3,"overlayClick","collapse","titleId"],["kendoActionSheetTemplate",""],["name","calendar","innerCssClass","k-button-icon",3,"svgIcon"],["name","clock","innerCssClass","k-button-icon",3,"svgIcon"],[4,"ngTemplateOutlet"],[3,"resize"],[1,"k-actionsheet-titlebar"],[1,"k-actionsheet-titlebar-group","k-hbox"],[1,"k-actionsheet-title"],[1,"k-text-center"],[1,"k-actionsheet-subtitle","k-text-center"],[1,"k-actionsheet-actions"],["kendoButton","","type","button","icon","x","fillMode","flat","aria-hidden","true","size","large","innerCssClass","k-button-icon",3,"click","svgIcon","tabIndex"],[1,"k-actionsheet-content","!k-overflow-hidden"],[1,"k-actions","k-actions-stretched","k-actions-horizontal","k-actionsheet-footer"],["kendoButton","","type","button","size","large",3,"click"],["kendoButton","","type","button","size","large","themeColor","primary",3,"click"],[3,"kendoEventsOutsideAngular","scope"],[1,"k-datetime-buttongroup",3,"kendoEventsOutsideAngular","scope"],["role","group",1,"k-button-group","k-button-group-stretched"],["type","button",1,"k-button","k-group-start","k-date-tab",3,"ngClass","kendoEventsOutsideAngular","scope"],["type","button",1,"k-button","k-group-end","k-time-tab",3,"ngClass","kendoEventsOutsideAngular"],[1,"k-datetime-selector",3,"kendoEventsOutsideAngular"],[1,"k-datetime-calendar-wrap"],[3,"valueChange","ngClass","focusedDate","value","type","min","max","weekNumber","navigation","animateNavigation","showOtherMonthDays","cellTemplate","monthCellTemplate","yearCellTemplate","decadeCellTemplate","centuryCellTemplate","weekNumberTemplate","headerTitleTemplate","disabled","disabledDates"],[3,"today","prevButtonTitle","nextButtonTitle","parentViewButtonTitle"],[1,"k-datetime-time-wrap"],[3,"tabOutLastPart","ngClass","value","format","min","max","setButton","cancelButton","steps","disabled","isAdaptiveEnabled","isDateTimePicker"],[3,"acceptLabel","accept","cancelLabel","cancel","nowLabel","now","hour","minute","second","millisecond","dayperiod"],["class","k-datetime-footer k-actions k-actions-stretched k-actions-horizontal",3,"kendoEventsOutsideAngular","scope",4,"ngIf"],[1,"k-datetime-footer","k-actions","k-actions-stretched","k-actions-horizontal",3,"kendoEventsOutsideAngular","scope"],["type","button",1,"k-button","k-time-accept",3,"ngClass","disabled","kendoEventsOutsideAngular","scope"],["type","button","class","k-button k-time-cancel",3,"ngClass","kendoEventsOutsideAngular","scope",4,"ngIf"],["type","button",1,"k-button","k-time-cancel",3,"ngClass","kendoEventsOutsideAngular","scope"]]},template:function(e,n){if(1&e){const o=t.RV6();t.eu8(0,7),t.j41(1,"kendo-dateinput",8),t.bIt("valueChange",function(a){return t.eBV(o),t.Njj(n.handleInputValueChange(a))})("click",function(){return t.eBV(o),t.Njj(n.handleDateInputClick())}),t.k0s(),t.j41(2,"button",9,0),t.DNE(4,Oat,1,1,"kendo-icon-wrapper",10)(5,Tat,1,1,"kendo-icon-wrapper",11),t.k0s(),t.eu8(6,null,1),t.DNE(8,Iat,1,1,"ng-template",null,2,t.C5r)(10,xat,1,0,"kendo-resize-sensor",12),t.j41(11,"kendo-actionsheet",13,3),t.bIt("overlayClick",function(){return t.eBV(o),t.Njj(n.toggleDateTime(!1))})("collapse",function(){return t.eBV(o),t.Njj(n.handleActionSheetCollapse())}),t.DNE(13,Rat,16,12,"ng-template",14),t.k0s(),t.DNE(14,Gat,17,90,"ng-template",null,4,t.C5r)}2&e&&(t.R7$(),t.Y8G("value",n.value)("format",n.format)("twoDigitYearMax",n.twoDigitYearMax)("min",n.min)("max",n.max)("incompleteDateValidation",n.incompleteDateValidation)("autoCorrectParts",n.autoCorrectParts)("autoSwitchParts",n.autoSwitchParts)("autoSwitchKeys",n.autoSwitchKeys)("enableMouseWheel",n.enableMouseWheel)("allowCaretMode",n.allowCaretMode)("autoFill",n.autoFill)("formatPlaceholder",n.formatPlaceholder)("placeholder",n.placeholder)("disabled",n.disabled)("focusableId",n.focusableId)("readonly",n.readonly||n.readOnlyInput)("role","combobox")("ariaReadOnly",n.readonly)("steps",n.steps)("tabindex",n.tabindex)("title",n.title)("isPopupOpen",n.isOpen)("kendoEventsOutsideAngular",t.eq3(37,o0e,n.handleKeyDown))("scope",n)("fillMode",n.fillMode)("rounded",n.rounded)("size",n.size),t.R7$(),t.Y8G("tabindex",-1)("kendoEventsOutsideAngular",t.l_i(39,bat,n.preventMouseDown,n.handleIconClick))("scope",n),t.BMQ("title",n.localization.get("toggle"))("aria-label",n.localization.get("toggle")),t.R7$(2),t.Y8G("ngIf","date"===n.activeTab),t.R7$(),t.Y8G("ngIf","time"===n.activeTab),t.R7$(5),t.Y8G("ngIf",n.isAdaptiveModeEnabled),t.R7$(),t.Y8G("titleId",null==n.calendar?null:n.calendar.headerId))},dependencies:[$x,Ke,Os,m0,$t,Aw,IZ,UZ,BZ,vbe,Vo,W,Je,f0,Pe],encapsulation:2,changeDetection:0}),s})(),yU=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,zo,gr]]}),s})(),Wv=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({}),s})(),kU=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({providers:[zx,_Z,vZ,CZ,EZ,yZ],imports:[[Fe,yU,Gt.W5,Wv,zr,zo],yU,Wv]}),s})(),wbe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe]]}),s})(),Wx=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({providers:[Hx,_Z,vZ,CZ,EZ,yZ],imports:[[Fe,yU,kU,Gt.W5,Wv,wbe,zo,Vr],yU,Wv]}),s})(),XZ=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Wx,kU],Wx,kU]}),s})(),Nw=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,Gt.W5,zo,An]]}),s})(),wU=(()=>{class s extends SU{constructor(e){super(),this.service=e}get override(){return!0}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-datepicker-messages"]],features:[t.Jv_([{provide:SU,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})();const Cdt=[Wq,Vr,gr,y0];let DU=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[...Cdt],Wq,Vr,gr,y0]}),s})(),Yx=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({providers:[{provide:Rw,useValue:UI}],imports:[[Fe,Nw,Wx,Gt.W5,zr,Wv,zo,An,DU],Wv]}),s})();const bdt=[kU,Nw,zr,zo,DU];let Dbe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,bdt]]}),s})();const Edt=[Nw,Gt.W5,zr,wbe,zo,An,DU],ydt=[xZ,J0e,ebe,sbe,lbe,cbe,{provide:Rw,useValue:UI}];let WZ=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({providers:ydt,imports:[[Fe,...Edt]]}),s})(),Obe=(()=>{class s extends bU{constructor(e){super(),this.service=e}get override(){return!0}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-datetimepicker-messages"]],features:[t.Jv_([{provide:bU,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),Tbe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({providers:[{provide:Rw,useValue:UI}],imports:[[Fe,Gt.W5,Nw,Wx,WZ,zr,zo,Wv,An,DU],Wv]}),s})();const kdt=[XZ,Nw,Yx,WZ,Dbe,Tbe];let Mbe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[kdt,XZ,Nw,Yx,WZ,Dbe,Tbe]}),s})();const wdt=["progressStatus"],Ddt=["progressStatusWrap"];function Odt(s,i){if(1&s&&(t.j41(0,"span",7),t.EFF(1),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.JRh(e.formattedLabelValue)}}function Tdt(s,i){if(1&s&&(t.j41(0,"span",7),t.EFF(1),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.JRh(e.formattedLabelValue)}}const Ibe={name:"@progress/kendo-angular-progressbar",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925102,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},xbe=(s,i,e)=>Math.max(Math.min(e,i),s),YZ=(s,i,e)=>Math.max((e-s)/(i-s),1e-4),KZ=(s,i,e)=>s[i]&&void 0!==s[i].currentValue?s[i].currentValue:e;let Rbe=(()=>{class s{constructor(e,n,o){this.elem=e,this.renderer=n,this.localization=o,this.hostClasses=!0,this.roleAttribute="progressbar",this.max=100,this.min=0,this.value=0,this.orientation="horizontal",this.disabled=!1,this.reverse=!1,this.indeterminate=!1,this.displayValue=0,this.previousValue=0,(0,mt.$)(Ibe),this.localizationChangeSubscription=o.changes.subscribe(({rtl:r})=>{this.direction=r?"rtl":"ltr"})}get isHorizontal(){return"horizontal"===this.orientation}get isVertical(){return"vertical"===this.orientation}get disabledClass(){return this.disabled}get reverseClass(){return this.reverse}get indeterminateClass(){return this.indeterminate}get dirAttribute(){return this.direction}get ariaMinAttribute(){return String(this.min)}get ariaMaxAttribute(){return String(this.max)}get ariaValueAttribute(){return this.indeterminate?void 0:String(this.displayValue)}get isCompleted(){return this.value===this.max}get statusWidth(){return"horizontal"===this.orientation?100*this._progressRatio:100}get statusHeight(){return"vertical"===this.orientation?100*this._progressRatio:100}get statusWrapperWidth(){return"horizontal"===this.orientation?100/this._progressRatio:100}get statusWrapperHeight(){return"vertical"===this.orientation?100/this._progressRatio:100}get _progressRatio(){return YZ(this.min,this.max,this.displayValue)}ngAfterViewInit(){const e=this.elem.nativeElement,n=this.localization.get("progressBarLabel");this.renderer.setAttribute(e,"aria-label",n)}ngOnChanges(e){const n=KZ(e,"min",this.min),o=KZ(e,"max",this.max),r=KZ(e,"value",this.value);if(e.min||e.max||e.value){if((e.min||e.max)&&((s,i)=>{if(t.naY&&s>i)throw new Error("The max value should be greater than the min.")})(n,o),e.value){(null==r||Number.isNaN(r))&&(this.value=n);const a=this.displayValue;this.displayValue=xbe(this.min,this.max,r),this.previousValue=a}this.min=n,this.max=o,this.displayValue=xbe(this.min,this.max,r)}}ngOnDestroy(){this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["ng-component"]],hostVars:17,hostBindings:function(e,n){2&e&&(t.BMQ("dir",n.dirAttribute)("role",n.roleAttribute)("aria-valuemin",n.ariaMinAttribute)("aria-valuemax",n.ariaMaxAttribute)("aria-valuenow",n.ariaValueAttribute),t.AVh("k-progressbar",n.hostClasses)("k-progressbar-horizontal",n.isHorizontal)("k-progressbar-vertical",n.isVertical)("k-disabled",n.disabledClass)("k-progressbar-reverse",n.reverseClass)("k-progressbar-indeterminate",n.indeterminateClass))},inputs:{max:"max",min:"min",value:"value",orientation:"orientation",disabled:"disabled",reverse:"reverse",indeterminate:"indeterminate"},features:[t.OA$],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),OU=(()=>{class s extends Gi{}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275dir=t.FsC({type:s,inputs:{progressBarLabel:"progressBarLabel"},features:[t.Vt3]}),s})(),TU=(()=>{class s extends OU{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoProgressBarLocalizedMessages",""]],features:[t.Jv_([{provide:OU,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})(),MU=(()=>{class s extends Rbe{constructor(e,n,o,r){super(n,o,e),this.localization=e,this.elem=n,this.renderer=o,this.zone=r,this.label=!0,this.animation=!1,this.animationEnd=new t.bkB}get showLabel(){return"boolean"==typeof this.label?this.label:(this.label&&!this.label.hasOwnProperty("visible")&&(this.label.visible=!0),this.label.visible)}get labelPosition(){return"boolean"==typeof this.label?"end":(this.label&&!this.label.hasOwnProperty("position")&&(this.label.position="end"),this.label.position)}get isPositionStart(){return"start"===this.labelPosition}get isPositionCenter(){return"center"===this.labelPosition}get isPositionEnd(){return"end"===this.labelPosition}get formattedLabelValue(){return((s,i,e,n)=>{const o=(s=>{const i=s.toString().split(".");return 1===i.length?`${i[0]}`:`${i[0]}.${i[1].substr(0,3)}`})(s);if("boolean"!=typeof n){if("string"!=typeof n.format)return"function"==typeof n.format?n.format(s):o;switch(n.format){case"value":default:return o;case"percent":return`${Math.floor(((s,i,e)=>100*Math.abs((s-i)/(e-i)))(s,i,e))}%`}}return o})(this.displayValue,this.min,this.max,this.label)}ngOnChanges(e){super.ngOnChanges(e),this.isAnimationInProgress&&(s=>{const i=!!s.animation;return i&&!(i&&s.animation.currentValue)})(e)&&(this.cancelCurrentAnimation=!0),((s,i,e,n)=>this.animation&&typeof requestAnimationFrame<"u"&&s.value&&this.previousValue!==this.displayValue)(e)&&!e.value.firstChange&&this.startAnimation(this.previousValue)}ngOnDestroy(){this.animationFrame&&cancelAnimationFrame(this.animationFrame)}startAnimation(e){this.isAnimationInProgress=!0;const n=this.progressStatusElement.nativeElement,o=this.progressStatusWrapperElement.nativeElement,r=this.getAnimationOptions(e);this.zone.runOutsideAngular(()=>{this.animationFrame&&cancelAnimationFrame(this.animationFrame);const a=()=>{const l=(new Date).getTime()-r.startTime,c=Math.min(l/r.duration,1),u=r.startSize+r.deltaSize*c;if(this.renderValueChange(n,o,r.property,u,100/u*100),c<1){if(this.cancelCurrentAnimation)return void this.resetProgress(n,o,r.property);this.animationFrame=requestAnimationFrame(a)}else this.stopAnimation(e)};a()})}get animationDuration(){return"boolean"==typeof this.animation?400:(this.animation&&!this.animation.hasOwnProperty("duration")&&(this.animation.duration=400),this.animation.duration)}stopAnimation(e){ke(this.animationEnd)&&this.zone.run(()=>{this.animationEnd.emit({from:e,to:this.displayValue})}),this.zone.run(()=>{this.isAnimationInProgress=!1})}getAnimationOptions(e){const n="horizontal"===this.orientation,o=YZ(this.min,this.max,e),r=n?100*o:100,a=n?100:100*o,l=n?"width":"height",c=(new Date).getTime(),f=n?this.statusWidth-r:this.statusHeight-a;return{property:l,startTime:c,startSize:n?r:a,deltaSize:f,duration:this.animationDuration*Math.abs(f/100)}}renderValueChange(e,n,o,r,a){this.renderer.setStyle(e,o,r+"%"),this.renderer.setStyle(n,o,a+"%")}resetProgress(e,n,o){const r=YZ(this.min,this.max,this.value);this.renderValueChange(e,n,o,100*r,100/r),this.zone.run(()=>{this.cancelCurrentAnimation=!1,this.isAnimationInProgress=!1})}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.SKi))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-progressbar"]],viewQuery:function(e,n){if(1&e&&(t.GBs(wdt,5),t.GBs(Ddt,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.progressStatusElement=o.first),t.mGM(o=t.lsd())&&(n.progressStatusWrapperElement=o.first)}},inputs:{label:"label",progressCssStyle:"progressCssStyle",progressCssClass:"progressCssClass",emptyCssStyle:"emptyCssStyle",emptyCssClass:"emptyCssClass",animation:"animation"},outputs:{animationEnd:"animationEnd"},exportAs:["kendoProgressBar"],features:[t.Jv_([j,{provide:Ve,useValue:"kendo.progressbar"}]),t.Vt3,t.OA$],decls:8,vars:28,consts:()=>{let i;return i="Progressbar",[["progressStatus",""],["progressStatusWrap",""],["kendoProgressBarLocalizedMessages","","progressBarLabel",i],[1,"k-progress-status-wrap",3,"ngStyle","ngClass"],["class","k-progress-status",4,"ngIf"],[1,"k-selected","k-progressbar-value",3,"ngStyle","ngClass"],[1,"k-progress-status-wrap"],[1,"k-progress-status"]]},template:function(e,n){1&e&&(t.eu8(0,2),t.j41(1,"span",3),t.DNE(2,Odt,2,1,"span",4),t.k0s(),t.j41(3,"div",5,0)(5,"span",6,1),t.DNE(7,Tdt,2,1,"span",4),t.k0s()()),2&e&&(t.R7$(),t.AVh("k-progress-start",n.isPositionStart)("k-progress-center",n.isPositionCenter)("k-progress-end",n.isPositionEnd),t.Y8G("ngStyle",n.emptyCssStyle)("ngClass",n.emptyCssClass),t.R7$(),t.Y8G("ngIf",n.showLabel),t.R7$(),t.xc7("width",n.statusWidth,"%")("height",n.statusHeight,"%"),t.AVh("k-complete",n.isCompleted),t.Y8G("ngStyle",n.progressCssStyle)("ngClass",n.progressCssClass),t.R7$(2),t.xc7("width",n.statusWrapperWidth,"%")("height",n.statusWrapperHeight,"%"),t.AVh("k-progress-start",n.isPositionStart)("k-progress-center",n.isPositionCenter)("k-progress-end",n.isPositionEnd),t.R7$(2),t.Y8G("ngIf",n.showLabel))},dependencies:[TU,Jn,Pe,W],encapsulation:2}),s})();const Wdt=[Fe,Vr];let Lbe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[Wdt]}),s})();const Gbe=["header"],Ydt=["contentWrapper"],Pbe=[[["kendo-panelbar-item"]]],Fbe=["kendo-panelbar-item"],Kdt=(s,i,e,n,o,r,a,l,c,u,f)=>({title:s,id:i,icon:e,iconClass:n,svgIcon:o,imageUrl:r,selected:a,expanded:l,disabled:c,focused:u,content:f}),Jdt=s=>({item:s}),Ube=(s,i,e,n,o,r)=>({title:s,id:i,icon:e,imageUrl:n,disabled:o,content:r}),Bbe=s=>({$implicit:s});function qdt(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",7),2&s){const e=t.XpG();t.Y8G("name",e.iconClasses)("customFontClass",e.customIconClasses)("svgIcon",e.svgIcon)}}function Qdt(s,i){if(1&s&&t.nrm(0,"img",8),2&s){const e=t.XpG();t.Y8G("src",e.imageUrl,t.B4B)}}function Zdt(s,i){if(1&s&&(t.qex(0),t.j41(1,"span",9),t.EFF(2),t.k0s(),t.bVm()),2&s){const e=t.XpG();t.R7$(2),t.JRh(e.title)}}function eut(s,i){}function tut(s,i){if(1&s&&t.DNE(0,eut,0,0,"ng-template",10),2&s){const e=t.XpG();t.Y8G("ngTemplateOutlet",e.titleTemplate)("ngTemplateOutletContext",t.eq3(14,Jdt,t.zJS(2,Kdt,[e.title,e.id,e.icon,e.iconClass,e.svgIcon,e.imageUrl,e.selected,e.expanded,e.disabled,e.focused,e.content])))}}function nut(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",11),2&s){const e=t.XpG();t.Y8G("name",e.expanded?"arrow-chevron-up":"chevron-down")("svgIcon",e.expanderSVGIcon)("innerCssClass",e.dirInnerCssClasses)}}function iut(s,i){if(1&s&&(t.j41(0,"div",14),t.SdG(1),t.k0s()),2&s){const e=t.XpG(2);t.xc7("overflow",e.contentOverflow)("height",e.contentHeight)}}function sut(s,i){}function out(s,i){if(1&s&&(t.j41(0,"div",15),t.DNE(1,sut,0,0,"ng-template",10),t.k0s()),2&s){const e=t.XpG(2);t.xc7("overflow",e.contentOverflow)("height",e.contentHeight),t.R7$(),t.Y8G("ngTemplateOutlet",e.contentTemplate.first.templateRef)("ngTemplateOutletContext",t.eq3(13,Bbe,t.l4e(6,Ube,e.title,e.id,e.icon,e.imageUrl,e.disabled,e.content)))}}function rut(s,i){if(1&s&&t.nrm(0,"kendo-panelbar-item",18),2&s){const e=t.XpG().$implicit,n=t.XpG(3);t.Y8G("title",e.title)("id",e.id)("icon",e.icon)("iconClass",e.iconClass)("svgIcon",e.svgIcon)("imageUrl",e.imageUrl)("selected",!!e.selected)("expanded",!!e.expanded)("disabled",!!e.disabled)("template",n.template)("items",e.children)("content",e.content)}}function aut(s,i){if(1&s&&(t.qex(0),t.DNE(1,rut,1,12,"kendo-panelbar-item",17),t.bVm()),2&s){const e=i.$implicit;t.R7$(),t.Y8G("ngIf",!e.hidden)}}function lut(s,i){if(1&s&&(t.j41(0,"div",14),t.DNE(1,aut,2,1,"ng-container",16),t.k0s()),2&s){const e=t.XpG(2);t.xc7("overflow",e.contentOverflow)("height",e.contentHeight),t.R7$(),t.Y8G("ngForOf",e.items)}}function cut(s,i){}function dut(s,i){if(1&s&&t.EFF(0),2&s){const e=t.XpG(3);t.JRh(e.content)}}function uut(s,i){if(1&s&&(t.j41(0,"div",15),t.DNE(1,cut,0,0,"ng-template",10)(2,dut,1,1,"ng-template",19),t.k0s()),2&s){const e=t.XpG(2);t.xc7("overflow",e.contentOverflow)("height",e.contentHeight),t.R7$(),t.Y8G("ngTemplateOutlet",e.template)("ngTemplateOutletContext",t.eq3(14,Bbe,t.l4e(7,Ube,e.title,e.id,e.icon,e.imageUrl,e.disabled,e.content))),t.R7$(),t.Y8G("ngIf",!e.template)}}function hut(s,i){if(1&s&&(t.j41(0,"div",null,1),t.DNE(2,iut,2,4,"div",12)(3,out,2,15,"div",13)(4,lut,2,5,"div",12)(5,uut,3,16,"div",13),t.k0s()),2&s){const e=t.XpG();t.Y8G("@toggle",e.state),t.BMQ("role","group")("aria-hidden",!e.disabled&&!e.expanded),t.R7$(2),t.Y8G("ngIf",e.hasChildItems&&!(null!=e.items&&e.items.length)),t.R7$(),t.Y8G("ngIf",e.hasContent&&!e.content),t.R7$(),t.Y8G("ngIf",e.hasItems),t.R7$(),t.Y8G("ngIf",e.content)}}function put(s,i){1&s&&t.SdG(0,0,["*ngIf","contentChildItems && !items"])}function fut(s,i){if(1&s&&t.nrm(0,"kendo-panelbar-item",5),2&s){const e=t.XpG().$implicit,n=t.XpG(2);t.Y8G("title",e.title)("id",e.id)("icon",e.icon)("iconClass",e.iconClass)("svgIcon",e.svgIcon)("imageUrl",e.imageUrl)("selected",!!e.selected)("expanded",!!e.expanded)("disabled",!!e.disabled)("template",n.templateRef)("items",e.children)("content",e.content)}}function mut(s,i){if(1&s&&(t.qex(0),t.DNE(1,fut,1,12,"kendo-panelbar-item",4),t.bVm()),2&s){const e=i.$implicit;t.R7$(),t.Y8G("ngIf",!e.hidden)}}function _ut(s,i){if(1&s&&t.DNE(0,mut,2,1,"ng-container",3),2&s){const e=t.XpG();t.Y8G("ngForOf",e.items)}}function gut(s,i){1&s&&t.nrm(0,"div",6)}const Out=["kendoTabStripScrollableButton",""],Tut=["kendoTabStripTab",""];function Mut(s,i){if(1&s&&(t.j41(0,"span",5),t.EFF(1),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.JRh(e.tab.title)}}function Iut(s,i){}function xut(s,i){if(1&s&&(t.j41(0,"span",5),t.DNE(1,Iut,0,0,"ng-template",2),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.Y8G("ngTemplateOutlet",null==e.tab.tabTitle?null:e.tab.tabTitle.templateRef)}}function Aut(s,i){if(1&s&&(t.qex(0),t.DNE(1,Mut,2,1,"span",4)(2,xut,2,1,"span",4),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngIf",!e.tab.tabTitle),t.R7$(),t.Y8G("ngIf",e.tab.tabTitle)}}function Rut(s,i){}function Nut(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",6),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.closeTab(o.index))}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("icon",e.closeButtonClasses)("iconClass",e.customCloseButtonClasses)("svgIcon",e.closeSVGIconClass)("title",e.closeButtonTitle),t.BMQ("aria-label",e.closeButtonTitle)}}const Lut=["tablist"],Gut=["prevScrollButton"],Put=["nextScrollButton"],Fut=["tabHeaderContainer"];function Uut(s,i){1&s&&t.eu8(0)}function But(s,i){1&s&&t.eu8(0)}function Vut(s,i){if(1&s&&(t.qex(0),t.DNE(1,But,1,0,"ng-container",10),t.bVm()),2&s){t.XpG(2);const e=t.sdS(6);t.R7$(),t.Y8G("ngTemplateOutlet",e)}}function zut(s,i){if(1&s&&(t.qex(0),t.DNE(1,Uut,1,0,"ng-container",10)(2,Vut,2,1,"ng-container",7),t.bVm()),2&s){const e=t.XpG(),n=t.sdS(4);t.R7$(),t.Y8G("ngTemplateOutlet",n),t.R7$(),t.Y8G("ngIf",e.showContentArea)}}function jut(s,i){1&s&&t.eu8(0)}function Hut(s,i){if(1&s&&(t.qex(0),t.DNE(1,jut,1,0,"ng-container",10),t.bVm()),2&s){t.XpG(2);const e=t.sdS(6);t.R7$(),t.Y8G("ngTemplateOutlet",e)}}function $ut(s,i){1&s&&t.eu8(0)}function Xut(s,i){if(1&s&&(t.qex(0),t.DNE(1,Hut,2,1,"ng-container",7)(2,$ut,1,0,"ng-container",10),t.bVm()),2&s){const e=t.XpG(),n=t.sdS(4);t.R7$(),t.Y8G("ngIf",e.showContentArea),t.R7$(),t.Y8G("ngTemplateOutlet",n)}}function Wut(s,i){if(1&s){const e=t.RV6();t.j41(0,"span",15,3),t.bIt("tabScroll",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.tabScroll.emit(o))})("onClick",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.onScrollButtonClick(o))}),t.k0s()}if(2&s){const e=t.XpG(2);t.Y8G("scrollable",e.scrollable)("tabPosition",e.tabPosition)("prev",!0)("title",e.localization.get("previousTabButton"))}}function Yut(s,i){if(1&s){const e=t.RV6();t.qex(0),t.j41(1,"li",16,4),t.bIt("tabClose",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.tabClose.emit(o))})("click",function(o){const r=t.eBV(e).index,a=t.XpG(2);return t.Njj(a.onTabClick(o,r))}),t.k0s(),t.bVm()}if(2&s){const e=i.$implicit,n=i.index,o=t.XpG(2);t.R7$(),t.Y8G("ngClass",e.cssClass)("ngStyle",e.cssStyle)("tab",e)("index",n)("tabStripClosable",o.closable)("tabStripCloseIcon",o.closeIcon)("customTabstripCloseIcon",o.closeIconClass)("closeSVGIcon",o.closeSVGIcon)("id",o.getTabId(n)),t.BMQ("aria-controls",o.showContentArea&&e.selected?o.getTabPanelId(n):void 0)}}function Kut(s,i){if(1&s){const e=t.RV6();t.j41(0,"span",15,5),t.bIt("tabScroll",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.tabScroll.emit(o))})("onClick",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.onScrollButtonClick(o))}),t.k0s()}if(2&s){const e=t.XpG(2);t.Y8G("scrollable",e.scrollable)("tabPosition",e.tabPosition)("prev",!1)("title",e.localization.get("nextTabButton"))}}function Jut(s,i){if(1&s&&(t.j41(0,"div",11),t.DNE(1,Wut,2,4,"span",12),t.j41(2,"ul",13,2),t.DNE(4,Yut,3,10,"ng-container",14),t.k0s(),t.DNE(5,Kut,2,4,"span",12),t.k0s()),2&s){const e=t.XpG();t.Y8G("ngClass",e.itemsWrapperClass),t.R7$(),t.Y8G("ngIf",e.hasScrollButtons),t.R7$(),t.xc7("justify-content",e.tabsAlignmentStyles)("width",e.tabListWidth)("height",e.tabListHeight),t.BMQ("aria-orientation","left"===e.tabPosition||"right"===e.tabPosition?"vertical":"horizontal"),t.R7$(2),t.Y8G("ngForOf",e.tabs),t.R7$(),t.Y8G("ngIf",e.hasScrollButtons)}}function qut(s,i){}function Qut(s,i){if(1&s&&(t.j41(0,"div",19),t.DNE(1,qut,0,0,"ng-template",20),t.k0s()),2&s){const e=t.XpG(),n=e.$implicit,o=e.index,r=t.XpG(2);t.Y8G("@state",n.selected&&r.animate?"active":"inactive")("ngClass",!r.keepTabContent||n.selected?"k-tabstrip-content k-active":"k-tabstrip-content")("tabIndex",0)("id",r.getTabPanelId(o)),t.BMQ("aria-hidden",!n.selected)("aria-expanded",n.selected)("aria-labelledby",r.getTabId(o))("aria-disabled",n.disabled),t.R7$(),t.Y8G("ngTemplateOutlet",null==n.tabContent?null:n.tabContent.templateRef)}}function Zut(s,i){if(1&s&&t.DNE(0,Qut,2,9,"div",18),2&s){const e=i.$implicit,n=t.XpG(2);t.Y8G("ngIf",e.selected||n.keepTabContent)}}function eht(s,i){if(1&s&&t.DNE(0,Zut,1,1,"ng-template",17),2&s){const e=t.XpG();t.Y8G("ngForOf",e.tabs)}}function tht(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-resize-sensor",21),t.bIt("resize",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onResize())}),t.k0s()}}function nht(s,i){1&s&&t.nrm(0,"div",22)}const ap={name:"@progress/kendo-angular-layout",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925211,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"};var lg=function(s){return s[s.Single=0]="Single",s[s.Full=1]="Full",s[s.Multiple=2]="Multiple",s[s.Default=2]="Default",s}(lg||{});let fpt=0,QZ=(()=>{class s{constructor(){this.parentSource=new Xe.B,this.keepContentSource=new Fn.t(!1),this.childSource=new Xe.B,this.itemClick=new Xe.B,this.parent$=this.parentSource.asObservable(),this.children$=this.childSource.asObservable(),this.keepContent$=this.keepContentSource.asObservable(),this.pbId=fpt++}onKeepContent(e){this.keepContentSource.next(e)}onSelect(e){this.childSource.next(e)}onFocus(){this.parentSource.next(!0)}onBlur(){this.parentSource.next(!1)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),ZZ=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoPanelBarContent",""]]}),s})(),Vbe=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoPanelBarItemTitle",""]]}),s})(),mpt=0;const Hbe=s=>s.map(i=>($s(i.id)||(i.id="default-"+mpt++),i.children&&(i.children=Hbe(i.children)),i)),$s=s=>null!=s,$be=s=>s===F.ArrowLeft||s===F.ArrowRight,Xbe=s=>s===F.ArrowUp||s===F.ArrowDown,Wbe=s=>s===F.PageUp||s===F.PageDown||s===F.Home||s===F.End,bpt=/^(?:a|input|select|option|textarea|button|object)$/i,Kx=s=>{if(s.tagName){const i=s.tagName.toLowerCase(),e=s.getAttribute("tabIndex"),n="-1"===e;let o=null!==e&&!n;return bpt.test(i)&&(o=!s.disabled&&!n),o}return!1},IU=(s,i)=>!!(s=>String(s).trim().split(" "))(s.className).find(e=>e===i);let kpt=0,Gw=(()=>{class s{constructor(e,n,o,r){this.parent=e,this.eventService=n,this.element=o,this.renderer=r,this.id="default-"+kpt++,this.icon="",this.iconClass="",this.imageUrl="",this.disabled=!1,this.selected=!1,this.keepContent=!1,this.hasChildItems=!1,this.hasItems=!1,this.hasContent=!1,this.state="inactive",this.role="treeitem",this.titleAttribute=null,this.kItemClass=!0,this.focused=!1,this.wrapperFocused=!1,this.subscriptions=new be.yU(()=>{}),this._expanded=!1,this.subscriptions.add(n.parent$.subscribe(a=>this.onWrapperFocusChange(a))),this.subscriptions.add(n.keepContent$.subscribe(a=>this.keepContent=a)),this.wrapperFocused=!!e&&e.focused,this.level=this.parent?this.parent.level+1:0}set svgIcon(e){if((0,t.naY)()&&e&&this.icon&&this.iconClass)throw new Error("Setting both icon/svgIcon and iconClass options at the same time is not supported.");this._svgIcon=e}get svgIcon(){return this._svgIcon}set expanded(e){this.state=e?this.animate?"active":"activeWithoutAnimation":"inactive",this.keepContent||this.toggleExpandedChildAnimations(e),this._expanded=e}get expanded(){return this._expanded}get animate(){return this.eventService.animate}get kStateDefaultClass(){return!this.disabled}get kStateExpandedClass(){return!this.disabled&&this.expanded&&(this.hasChildItems||this.hasContent)}get itemId(){return"k-panelbar-"+this.eventService.pbId+"-item-"+this.id}get ariaExpanded(){return this.hasChildItems||this.hasContent?!this.disabled&&this.expanded:null}get ariaSelected(){return!this.disabled&&this.selected}get ariaDisabled(){return!!this.disabled||null}get headerClass(){return!this.parent||null}get titleTemplate(){return this.titleTemplates.length>0?this.titleTemplates.toArray()[0].templateRef:void 0}headerHeight(){return this.element.nativeElement.offsetHeight-(this.contentWrapper?this.contentWrapper.nativeElement.offsetHeight:0)}ngOnInit(){this.addLevelClass()}ngAfterContentChecked(){this.hasItems=this.items&&this.items.filter(e=>!e.hidden).length>0,this.hasChildItems=this.contentItems.filter(e=>e!==this).length>0||this.hasItems,this.hasContent=void 0!==this.contentTemplate&&this.contentTemplate.length>0||void 0!==this.content,this.validateConfiguration()}ngAfterViewChecked(){this.childrenItems=this.items?this.viewChildItems.toArray():this.contentItems.filter(e=>e!==this)}ngOnDestroy(){this.subscriptions.unsubscribe()}onItemAction(){this.disabled||this.eventService.onSelect(this)}onItemClick(e){Kx(e.target)||(this.eventService.itemClick.next({item:this.serialize(),originalEvent:e}),this.onItemAction())}get iconClasses(){if(this.icon)return`${this.icon}`}get customIconClasses(){if(this.iconClass)return`${this.iconClass}`}get dirInnerCssClasses(){return"k-panelbar-toggle "+(this.expanded?"k-panelbar-collapse":"k-panelbar-expand")}get expanderSVGIcon(){return this.expanded?oI:rI}serialize(){return{content:this.content,disabled:this.disabled,expanded:this.expanded,focused:this.focused,icon:this.icon,iconClass:this.iconClass,svgIcon:this.svgIcon,id:this.id,imageUrl:this.imageUrl,selected:this.selected,title:this.title,children:this.items}}subTreeViewItems(){let e=[];return this.viewChildItems.forEach(n=>{e=e.concat(n.subTreeViewItems()),e.push(n)}),e}validateConfiguration(){if((0,t.naY)()&&this.content&&void 0!==this.contentTemplate&&this.contentTemplate.length>0)throw new Error("Invalid configuration: mixed template components and component property.")}toggleAnimationState(e){this.animate&&(this.state=e&&this.eventService.expandMode!==lg.Single?"active":"activeWithoutAnimation")}toggleExpandedChildAnimations(e){this.childrenItems&&this.childrenItems.forEach(n=>{n.expanded&&(n.toggleAnimationState(e),n.toggleExpandedChildAnimations(e))})}addLevelClass(){this.level>=0&&this.renderer.addClass(this.element.nativeElement,`k-level-${this.level}`)}onWrapperFocusChange(e){this.wrapperFocused=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(s,13),t.rXU(QZ),t.rXU(t.aKT),t.rXU(t.sFG))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-panelbar-item"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,s,4),t.wni(o,ZZ,4),t.wni(o,Vbe,4)),2&e){let r;t.mGM(r=t.lsd())&&(n.contentItems=r),t.mGM(r=t.lsd())&&(n.contentTemplate=r),t.mGM(r=t.lsd())&&(n.titleTemplates=r)}},viewQuery:function(e,n){if(1&e&&(t.GBs(Gbe,5),t.GBs(Ydt,5),t.GBs(s,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.header=o.first),t.mGM(o=t.lsd())&&(n.contentWrapper=o.first),t.mGM(o=t.lsd())&&(n.viewChildItems=o)}},hostVars:14,hostBindings:function(e,n){2&e&&(t.Mr5("id",n.itemId),t.BMQ("role",n.role)("title",n.titleAttribute)("aria-expanded",n.ariaExpanded)("aria-selected",n.ariaSelected)("aria-disabled",n.ariaDisabled),t.AVh("k-panelbar-item",n.kItemClass)("k-state-default",n.kStateDefaultClass)("k-expanded",n.kStateExpandedClass)("k-panelbar-header",n.headerClass))},inputs:{title:"title",id:"id",icon:"icon",iconClass:"iconClass",svgIcon:"svgIcon",imageUrl:"imageUrl",disabled:"disabled",expanded:"expanded",selected:"selected",content:"content",items:"items",template:"template"},exportAs:["kendoPanelbarItem"],ngContentSelectors:Fbe,decls:8,vars:14,consts:[["header",""],["contentWrapper",""],[3,"click"],["innerCssClass","k-panelbar-item-icon",3,"name","customFontClass","svgIcon",4,"ngIf"],["class","k-image k-panelbar-item-icon","alt","",3,"src",4,"ngIf"],[4,"ngIf"],[3,"name","svgIcon","innerCssClass",4,"ngIf"],["innerCssClass","k-panelbar-item-icon",3,"name","customFontClass","svgIcon"],["alt","",1,"k-image","k-panelbar-item-icon",3,"src"],[1,"k-panelbar-item-text"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"name","svgIcon","innerCssClass"],["class","k-panel k-group k-panelbar-group",3,"overflow","height",4,"ngIf"],["class","k-content k-panelbar-content",3,"overflow","height",4,"ngIf"],[1,"k-panel","k-group","k-panelbar-group"],[1,"k-content","k-panelbar-content"],[4,"ngFor","ngForOf"],[3,"title","id","icon","iconClass","svgIcon","imageUrl","selected","expanded","disabled","template","items","content",4,"ngIf"],[3,"title","id","icon","iconClass","svgIcon","imageUrl","selected","expanded","disabled","template","items","content"],[3,"ngIf"]],template:function(e,n){if(1&e){const o=t.RV6();t.NAR(Pbe),t.j41(0,"span",2,0),t.bIt("click",function(a){return t.eBV(o),t.Njj(n.onItemClick(a))}),t.DNE(2,qdt,1,3,"kendo-icon-wrapper",3)(3,Qdt,1,1,"img",4)(4,Zdt,3,1,"ng-container",5)(5,tut,1,16,null,5)(6,nut,1,3,"kendo-icon-wrapper",6),t.k0s(),t.DNE(7,hut,6,7,"div",5)}2&e&&(t.AVh("k-link",!0)("k-selected",!n.disabled&&n.selected)("k-focus",n.focused&&n.wrapperFocused)("k-disabled",n.disabled),t.R7$(2),t.Y8G("ngIf",n.icon||n.iconClass||n.svgIcon),t.R7$(),t.Y8G("ngIf",n.imageUrl),t.R7$(),t.Y8G("ngIf",!n.titleTemplate),t.R7$(),t.Y8G("ngIf",n.titleTemplate),t.R7$(),t.Y8G("ngIf",n.hasChildItems||n.hasContent),t.R7$(),t.Y8G("ngIf",n.keepContent||!n.disabled&&n.expanded&&(n.hasChildItems||n.hasContent)))},dependencies:[Ke,s,W,Je,st],encapsulation:2,data:{animation:[o_("toggle",[Od("inactive",We({display:"none"})),mo("* => active",[We({overflow:"hidden",display:"block",height:0}),hi(200,We({height:xc}))]),mo("active => *",[We({overflow:"hidden",height:xc}),hi(200,We({height:0,display:"none"}))])])]}}),s})(),Jbe=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoPanelBarItemTemplate",""]]}),s})();class tee{constructor(i){this.prevented=!1,Object.assign(this,i)}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class wpt extends tee{}class Dpt extends tee{}class Opt extends tee{}class qbe{}let Qbe=(()=>{class s{constructor(e,n,o){this.localization=o,this.expandMode=lg.Default,this.selectable=!0,this.animate=!0,this.height="400px",this.stateChange=new t.bkB,this.select=new t.bkB,this.expand=new t.bkB,this.collapse=new t.bkB,this.itemClick=new t.bkB,this.hostClasses=!0,this.tabIndex=0,this.role="tree",this.activeDescendant="",this.showLicenseWatermark=!1,this.isViewInit=!0,this.focused=!1,this._keepItemContent=!1,this.subs=new be.yU,this.updateChildrenHeight=()=>{let a=0;const l=this.elementRef.nativeElement.offsetHeight,c=this.expandMode===lg.Full?"auto":"visible";this.childrenItems.forEach(u=>{a+=u.headerHeight()}),this.childrenItems.forEach(u=>{u.contentHeight=lg.Full===this.expandMode?l-a+"px":"auto",u.contentOverflow=c})};const r=(0,mt.$)(ap);this.showLicenseWatermark=V_(r),this.keyBindings=this.computedKeys,this.elementRef=e,this.eventService=n,this.subs.add(this.eventService.children$.subscribe(a=>this.onItemAction(a))),this.subs.add(this.eventService.itemClick.subscribe(a=>this.itemClick.emit(a)))}get keepItemContent(){return this._keepItemContent}set keepItemContent(e){this._keepItemContent=e,this.eventService.onKeepContent(e)}set items(e){e&&(this._items=Hbe(e))}get items(){return this._items}get hostHeight(){return this.expandMode===lg.Full?this.height:"auto"}get overflow(){return this.expandMode===lg.Full?"hidden":"visible"}get dir(){return this.localization.rtl?"rtl":"ltr"}invertKeys(e,n){return this.localization.rtl?n:e}get computedKeys(){return{[F.Space]:()=>this.selectFocusedItem(),[F.Enter]:()=>this.selectFocusedItem(),[F.ArrowUp]:()=>this.focusPreviousItem(),[this.invertKeys(F.ArrowLeft,F.ArrowRight)]:()=>this.collapseItem(),[F.ArrowDown]:()=>this.focusNextItem(),[this.invertKeys(F.ArrowRight,F.ArrowLeft)]:()=>this.expandItem(),[F.End]:()=>this.focusLastItem(),[F.Home]:()=>this.focusFirstItem()}}ngOnDestroy(){this.subs.unsubscribe()}ngOnInit(){this.subs.add(this.localization.changes.subscribe(()=>this.keyBindings=this.computedKeys)),this.eventService.animate=this.animate,this.eventService.expandMode=this.expandMode}ngAfterViewChecked(){this.items?(this.childrenItems=this.viewChildItems.toArray(),this.allItems=this.viewItems):(this.childrenItems=this.contentChildItems.toArray(),this.allItems=this.contentItems.toArray()),this.isViewInit&&this.childrenItems.length&&(this.isViewInit=!1,setTimeout(()=>this.updateChildrenHeight())),this.validateConfiguration()}ngOnChanges(e){(e.height||e.expandMode||e.items)&&this.childrenItems&&setTimeout(this.updateChildrenHeight),e.animate&&(this.eventService.animate=this.animate),e.expandMode&&(this.eventService.expandMode=this.expandMode)}get templateRef(){return this.template?this.template.templateRef:void 0}onComponentClick(e){const n=this.visibleItems().some(o=>o.header.nativeElement.contains(e.target));!Kx(e.target)&&!this.focused&&n&&this.elementRef.nativeElement.focus()}onComponentFocus(){if(this.eventService.onFocus(),this.focused=!0,this.allItems.length>0){const e=this.visibleItems();!e.filter(o=>o.focused).length&&e.length>0&&(e[0].focused=!0,this.activeDescendant=e[0].itemId)}}onComponentBlur(){this.eventService.onBlur(),this.focused=!1,this.activeDescendant=""}onComponentKeyDown(e){if(e.target===this.elementRef.nativeElement){(e.keyCode===F.Space||e.keyCode===F.ArrowUp||e.keyCode===F.ArrowDown||e.keyCode===F.ArrowLeft||e.keyCode===F.ArrowRight||e.keyCode===F.Home||e.keyCode===F.End||e.keyCode===F.PageUp||e.keyCode===F.PageDown)&&e.preventDefault();const n=this.keyBindings[e.keyCode];n&&n()}}emitEvent(e,n){let o;switch(e){case"select":o=new Opt;break;case"collapse":o=new wpt;break;default:o=new Dpt}return o.item=n.serialize(),this[e].emit(o),o}get viewItems(){let e=[];return this.viewChildItems.toArray().forEach(n=>{e.push(n),e=e.concat(n.subTreeViewItems())}),e}validateConfiguration(){if((0,t.naY)()&&this.items&&this.contentItems&&this.contentItems.length>0)throw new Error("Invalid configuration: mixed template components and items property.")}onItemAction(e){if(!e)return;const n=new Array,o=[];if(this.allItems.forEach(r=>{let a=r===e;const l=a;a=this.selectable?a:r.selected,(r.selected!==a||r.focused!==l)&&(a&&this.emitEvent("select",r).isDefaultPrevented()?o.push(r):(r.selected=a,r.focused=l,this.activeDescendant=l?r.itemId:"",n.push(r)))}),this.expandMode===lg.Multiple)(e.hasChildItems||e.hasContent)&&!o.includes(e)&&((e.expanded?this.emitEvent("collapse",e).isDefaultPrevented():this.emitEvent("expand",e).isDefaultPrevented())||(e.expanded=!e.expanded,n.indexOf(e)<0&&n.push(e)));else{const r=e.parent?e.parent.childrenItems:this.childrenItems;let a;const l=[];(e.hasChildItems||e.hasContent)&&!o.includes(e)&&(r.forEach(c=>{const u=c===e;if(c.expanded!==u){const f=c.expanded?this.emitEvent("collapse",c).isDefaultPrevented():this.emitEvent("expand",c).isDefaultPrevented();f?f&&c.expanded&&(a=c):(c.expanded=u,c.expanded&&l.push(c),n.indexOf(c)<0&&n.push(c))}else c.expanded===u&&u&&(this.emitEvent("collapse",c).isDefaultPrevented()||(c.expanded=!c.expanded,n.indexOf(c)<0&&n.push(c)))}),l.forEach(c=>{if(a&&c.id!==a.id&&(c.expanded=!1,(0,t.naY)())){const u=lg[this.expandMode].toLowerCase();console.warn(`\n                            The ${u} expandMode allows the expansion of only one item at a time.\n                            See https://www.telerik.com/kendo-angular-ui-develop/components/layout/panelbar/expand-modes/`)}}))}if(n.length>0){const r=new qbe;r.items=n.map(a=>a.serialize()),this.stateChange.emit(r)}}isVisible(e){return this.visibleItems().some(o=>o===e)}getVisibleParent(e){const n=this.visibleItems();return e.parent?n.some(o=>o===e.parent)?e.parent:this.getVisibleParent(e.parent):e}focusItem(e){const n=this.visibleItems();let a,o=n.findIndex(l=>l.focused),r=n[o];if(-1===o){const l=this.allItems.find(c=>c.focused);l.focused=!1,r=this.getVisibleParent(l),o=n.findIndex(c=>c===r)}switch(e){case"lastItem":a=n[n.length-1];break;case"firstItem":a=n[0];break;case"nextItem":a=n[o<n.length-1?o+1:0];break;case"previousItem":a=n[o>0?o-1:n.length-1]}r&&a&&r!==a&&this.moveFocus(r,a)}moveFocus(e,n){e.focused=!1,n.focused=!0,this.activeDescendant=n.itemId;const o=new Array(e.serialize(),n.serialize()),r=new qbe;r.items=o,this.stateChange.emit(r)}focusLastItem(){this.focusItem("lastItem")}focusFirstItem(){this.focusItem("firstItem")}focusNextItem(){this.focusItem("nextItem")}focusPreviousItem(){this.focusItem("previousItem")}expandItem(){let e=this.allItems.filter(n=>n.focused)[0];if(this.isVisible(e)||(e.focused=!1,e=this.getVisibleParent(e)),e.hasChildItems||e.hasContent)if(e.expanded){if(e.hasChildItems){const n=e.childrenItems.findIndex(o=>!o.disabled);n>-1&&this.moveFocus(e,e.childrenItems[n])}}else this.onItemAction(e)}collapseItem(){const e=this.allItems.filter(n=>n.focused)[0];e.expanded?this.onItemAction(e):e.parent&&this.moveFocus(e,e.parent)}selectFocusedItem(){let e=this.allItems.filter(n=>n.focused)[0];this.isVisible(e)||(e.focused=!1,e=this.getVisibleParent(e)),e&&e.onItemAction()}visibleItems(){return this.flatVisibleItems(this.childrenItems)}flatVisibleItems(e=new Array,n=new Array){return e.forEach(o=>{n.push(o),o.expanded&&o.hasChildItems&&this.flatVisibleItems(o.childrenItems,n)}),n}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(QZ),t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-panelbar"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,Jbe,5),t.wni(o,Gw,5),t.wni(o,Gw,4)),2&e){let r;t.mGM(r=t.lsd())&&(n.template=r.first),t.mGM(r=t.lsd())&&(n.contentItems=r),t.mGM(r=t.lsd())&&(n.contentChildItems=r)}},viewQuery:function(e,n){if(1&e&&t.GBs(Gw,5),2&e){let o;t.mGM(o=t.lsd())&&(n.viewChildItems=o)}},hostVars:12,hostBindings:function(e,n){1&e&&t.bIt("click",function(r){return n.onComponentClick(r)})("focus",function(){return n.onComponentFocus()})("blur",function(){return n.onComponentBlur()})("keydown",function(r){return n.onComponentKeyDown(r)}),2&e&&(t.BMQ("tabIndex",n.tabIndex)("role",n.role)("aria-activedescendant",n.activeDescendant)("dir",n.dir),t.xc7("height",n.hostHeight)("overflow",n.overflow),t.AVh("k-panelbar",n.hostClasses)("k-pos-relative",n.hostClasses))},inputs:{expandMode:"expandMode",selectable:"selectable",animate:"animate",height:"height",keepItemContent:"keepItemContent",items:"items"},outputs:{stateChange:"stateChange",select:"select",expand:"expand",collapse:"collapse",itemClick:"itemClick"},exportAs:["kendoPanelbar"],features:[t.Jv_([QZ,j,{provide:Ve,useValue:"kendo.panelbar"}]),t.OA$],ngContentSelectors:Fbe,decls:3,vars:3,consts:[[4,"ngIf"],[3,"ngIf"],["kendoWatermarkOverlay","",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"title","id","icon","iconClass","svgIcon","imageUrl","selected","expanded","disabled","template","items","content",4,"ngIf"],[3,"title","id","icon","iconClass","svgIcon","imageUrl","selected","expanded","disabled","template","items","content"],["kendoWatermarkOverlay",""]],template:function(e,n){1&e&&(t.NAR(Pbe),t.DNE(0,put,1,0,"ng-content",0)(1,_ut,1,1,"ng-template",1)(2,gut,1,0,"div",2)),2&e&&(t.Y8G("ngIf",n.contentChildItems&&!n.items),t.R7$(),t.Y8G("ngIf",null==n.items?null:n.items.length),t.R7$(),t.Y8G("ngIf",n.showLicenseWatermark))},dependencies:[Gw,U_,W,st],encapsulation:2}),s})(),xU=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoTabContent",""]]}),s})(),AU=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoTabTitle",""]]}),s})(),Zbe=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoTabTemplate",""]]}),s})(),RU=(()=>{class s{constructor(){this.disabled=!1,this._tabDirective=new t.rOR,this._tabContent=new t.rOR,this.focused=!1}get tabContent(){return this._tabContent.first}get tabTitle(){return this._tabTitleDirective.first}get tabTemplate(){return this._tabDirective.first}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-tabstrip-tab"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,Zbe,4),t.wni(o,xU,4),t.wni(o,AU,4)),2&e){let r;t.mGM(r=t.lsd())&&(n._tabDirective=r),t.mGM(r=t.lsd())&&(n._tabContent=r),t.mGM(r=t.lsd())&&(n._tabTitleDirective=r)}},inputs:{title:"title",disabled:"disabled",cssClass:"cssClass",cssStyle:"cssStyle",selected:"selected",closable:"closable",closeIcon:"closeIcon",closeIconClass:"closeIconClass",closeSVGIcon:"closeSVGIcon"},exportAs:["kendoTabStripTab"],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})();class Gpt{constructor(i,e){this.index=i,this.tab=e}}class Ppt extends Wa{constructor(i,e){super(),this.index=i,this.title=e}}const eEe=s=>s.enabled&&s.mouseScroll,ree=s=>{let i,e,n=-1,o=-1;return s.forEach((r,a)=>{r.selected?(e=r,o=a):r.focused&&(i=r,n=a)}),n>=0?{tab:i,index:n}:{tab:e,index:o}},aee=(s,i)=>{const e=s.filter((n,o)=>o===i);return e.length>0?e[0]:null},Sl=s=>"top"===s||"bottom"===s,tEe=(s,i,e)=>`${s}-${i}-${e}`;let nEe=(()=>{class s{constructor(e,n){this.localization=e,this.ngZone=n}onKeyDown(e){if(!(s=>{const i=s.getAttribute("id");return!!($s(i)||i.indexOf("k-tabstrip-tab-")>=0)})(e.target))return;const n=e.keyCode;this.shouldHandleKey(n)&&(e.preventDefault(),Wbe(n)||(s=>$be(s)||Xbe(s))(n)?this.onNavigate(n):n===F.Delete&&this.onDelete())}onTabSelect(e,n){const o=new Ppt(n,e.title);if(this.owner.tabSelect.emit(o),!o.isDefaultPrevented()){if(e.selected)return void this.focusTabHeader(n);this.selectTab(e,n)}}selectTab(e,n){(s=>{this.owner.tabs.forEach(i=>{i.selected=!1})})(),this.focusTabHeader(n),e.selected=!0,this.owner.isScrollable&&this.owner.scrollToSelectedTab()}onNavigate(e){const{tab:n,index:o}=ree(this.owner.tabs);t.SKi.isInAngularZone()||this.ngZone.run(()=>{if(o<0)return void this.owner.selectTab(this.firstNavigatableIndex());n.focused=!1;const r=this.computeNextIndex(o,e);this.activateTab(r)})}onDelete(){const{tab:e,index:n}=ree(this.owner.tabs);((s,i)=>void 0!==s.closable?s.closable:this.owner.closable)(e)&&!e.disabled&&this.ngZone.run(()=>{this.owner.tabClose.emit({tab:e,index:n})})}activateTab(e){const n=aee(this.owner.tabs,e);n.disabled?(this.focusTabHeader(e),n.focused=!0):this.onTabSelect(n,e)}focusTabHeader(e){((s,i)=>{const e=this.owner.tabHeaderContainers.filter((n,o)=>o===i);return e.length>0?e[0]:null})(0,e).nativeElement.focus()}shouldHandleKey(e){return!!(Wbe(e)||Sl(this.owner.tabPosition)&&$be(e)||!Sl(this.owner.tabPosition)&&Xbe(e)||e===F.Delete)}computeNextIndex(e,n){switch(n){case this.invertKeys(F.ArrowLeft,F.ArrowRight):case this.invertKeys(F.ArrowUp,F.ArrowDown):return this.prevNavigatableIndex(e);case this.invertKeys(F.ArrowRight,F.ArrowLeft):case this.invertKeys(F.ArrowDown,F.ArrowUp):return this.nextNavigatableIndex(e);case F.Home:return this.firstNavigatableIndex();case F.End:return this.lastNavigatableIndex();default:return}}invertKeys(e,n){return this.localization.rtl?n:e}firstNavigatableIndex(){return 0}lastNavigatableIndex(){return this.owner.tabs.length-1}prevNavigatableIndex(e){return e-1<0?this.lastNavigatableIndex():e-1}nextNavigatableIndex(e){return e+1>=this.owner.tabs.length?this.firstNavigatableIndex():e+1}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(j),t.KVO(t.SKi))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();let sEe=(()=>{class s{constructor(e){this.ngZone=e,this.position=0,this.scrollButtonActiveStateChange=new Xe.B,this.isDisabled=n=>this.owner[`${n}ScrollButton`].host.nativeElement.classList.contains("k-disabled")}get tablistElement(){return this.owner.tablist.nativeElement}get tabstripSize(){const e=this.owner.wrapper.nativeElement,n=parseFloat(getComputedStyle(e).width),o=parseFloat(getComputedStyle(e).height);return Sl(this.owner.tabPosition)?n:o}get tablistOverflowSize(){if(!ne())return 0;const e=Sl(this.owner.tabPosition),n=Math.floor(this.tablistElement[e?"scrollWidth":"scrollHeight"]-this.tablistElement.getBoundingClientRect()[e?"width":"height"]);return n<0?0:n}get tabsOverflow(){return this.tablistOverflowSize>0}get scrollButtonsSize(){if(!this.owner.hasScrollButtons)return 0;const e=this.owner.prevScrollButton.hostBoundingClientRect,n=Sl(this.owner.tabPosition)?e.width:e.height,o=this.owner.nextScrollButton.hostBoundingClientRect;return n+(Sl(this.owner.tabPosition)?o.width:o.height)}toggleScrollButtonsState(){if(!this.owner.hasScrollButtons)return;const n=!this.isDisabled("prev"),o=!this.isDisabled("next"),r=this.position>0&&this.tablistOverflowSize>0,a=this.position<this.tablistOverflowSize+this.scrollButtonsSize&&this.tablistOverflowSize>0;r!==n&&this.ngZone.run(()=>this.toggleButtonActiveState("prev",r)),a!==o&&this.ngZone.run(()=>this.toggleButtonActiveState("next",a))}scrollToSelectedTab(){if(!this.tabsOverflow)return;const{index:e}=ree(this.owner.tabs);if(-1===e||(this.position+=this.getScrollOffset(e),Sl(this.owner.tabPosition)?this.tablistElement.scrollLeft=this.position:this.tablistElement.scrollTop=this.position,this.toggleScrollButtonsState(),!this.owner.hasScrollButtons))return;const r=e===this.owner.tabs.length-1;0===e&&!this.isDisabled("prev")&&this.ngZone.run(()=>this.toggleButtonActiveState("prev",!1)),r&&!this.isDisabled("next")&&this.ngZone.run(()=>this.toggleButtonActiveState("next",!1))}getScrollOffset(e){if(!ne())return 0;const n=Sl(this.owner.tabPosition);this.tablistElement["scroll"+(n?"Left":"Top")]=this.position;const o=this.tablistElement.children[e].getBoundingClientRect(),r=this.tablistElement.getBoundingClientRect(),a=n?"right":"bottom",l=n?"left":"top",c=o[l],u=o[a],f=r[l],_=r[a],g=u<=_,S=c>=f;return g&&S?0:g?S?void 0:c-f:u-_}onMouseScroll(e){e.preventDefault(),eEe(this.owner.scrollable)&&(this.calculateListPosition(e.deltaY<0?"prev":"next",this.owner.scrollable.mouseScrollSpeed),Sl(this.owner.tabPosition)?this.tablistElement.scrollLeft=this.position:this.tablistElement.scrollTop=this.position,this.toggleScrollButtonsState())}scrollTabs(e){this.calculateListPosition(e,this.owner.scrollable.buttonScrollSpeed),Sl(this.owner.tabPosition)&&this.tablistElement?this.tablistElement.scrollTo({left:this.position,behavior:"smooth"}):this.tablistElement.scrollTo({top:this.position,behavior:"smooth"}),this.toggleScrollButtonsState()}calculateListPosition(e,n){const o=this.tablistOverflowSize+this.scrollButtonsSize;if("prev"===e&&this.position>0)this.position=this.position-n<=0?0:this.position-n;else if("next"===e&&this.position<o){if(this.position+n>o)return void(this.position=o);this.position+=n}}restoreScrollPosition(){Sl(this.owner.tabPosition)?this.tablistElement.scrollLeft=this.position:this.tablistElement.scrollTop=this.position,this.toggleScrollButtonsState()}toggleButtonActiveState(e,n){this.scrollButtonActiveStateChange.next({buttonType:e,active:n})}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(t.SKi))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const oEe=s=>(({enabled:s=!0,scrollButtons:i="auto",mouseScroll:e=!0,buttonScrollSpeed:n=100,mouseScrollSpeed:o=10,prevButtonIcon:r,nextButtonIcon:a,prevSVGButtonIcon:l,nextSVGButtonIcon:c})=>({enabled:s,scrollButtons:i,mouseScroll:e,buttonScrollSpeed:n,mouseScrollSpeed:o,prevButtonIcon:r,nextButtonIcon:a,prevSVGButtonIcon:l,nextSVGButtonIcon:c}))(!1===s?{enabled:!1}:s);class rEe extends Wa{constructor(i){super(),Object.assign(this,i)}}let aEe=(()=>{class s{constructor(e,n,o,r){this.host=e,this.renderer=n,this.ngZone=o,this.localization=r,this.prev=!1,this.tabScroll=new t.bkB,this.onClick=new t.bkB,this.caretAltLeftIcon=Xa,this.caretAltRightIcon=Uo,this.caretAltUpIcon=Pu,this.caretAltDownIcon=Bo,this.subs=new be.yU,this.clickHandler=a=>{this.emitScrollEvent(a).isDefaultPrevented()||this.onClick.emit(this.prev?"prev":"next")}}get prevClass(){return this.prev}get nextClass(){return!this.prev}get hostBoundingClientRect(){return this.host.nativeElement.getBoundingClientRect()}get iconClass(){return this.scrollButtonIconClass}get customIconClass(){return this.customScrollButtonIconClass}get svgIcon(){return this.scrollButtonSVGIcon}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.subs.add(this.renderer.listen(this.host.nativeElement,"click",this.clickHandler))})}ngOnDestroy(){this.subs.unsubscribe()}toggle(e){this.renderer[e?"removeClass":"addClass"](this.host.nativeElement,"k-hidden")}get scrollButtonIconClass(){const e=Sl(this.tabPosition)?this.localization.rtl?"caret-alt-right":"caret-alt-left":"caret-alt-up",n=Sl(this.tabPosition)?this.localization.rtl?"caret-alt-left":"caret-alt-right":"caret-alt-down";if("object"==typeof this.scrollable){const o=typeof this.scrollable.prevButtonIcon>"u"?e:"",r=typeof this.scrollable.nextButtonIcon>"u"?n:"";if(o&&this.prev)return o;if(r&&!this.prev)return r}}get customScrollButtonIconClass(){if("object"==typeof this.scrollable){const e=this.scrollable.prevButtonIcon,n=this.scrollable.nextButtonIcon;if(e&&this.prev)return`k-icon ${e}`;if(n&&!this.prev)return`k-icon ${n}`}}get scrollButtonSVGIcon(){const e=Sl(this.tabPosition)?this.localization.rtl?this.caretAltRightIcon:this.caretAltLeftIcon:this.caretAltUpIcon,n=Sl(this.tabPosition)?this.localization.rtl?this.caretAltLeftIcon:this.caretAltRightIcon:this.caretAltDownIcon;if("object"==typeof this.scrollable){const o=void 0!==this.scrollable.prevSVGButtonIcon?this.scrollable.prevSVGButtonIcon:e,r=void 0!==this.scrollable.nextSVGButtonIcon?this.scrollable.nextSVGButtonIcon:n;if(o||r)return this.prev?o:r}}emitScrollEvent(e){const n=new rEe({originalEvent:e});return this.tabScroll.emit(n),n}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.SKi),t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoTabStripScrollableButton",""]],hostVars:4,hostBindings:function(e,n){2&e&&t.AVh("k-tabstrip-prev",n.prevClass)("k-tabstrip-next",n.nextClass)},inputs:{prev:"prev",tabPosition:"tabPosition",scrollable:"scrollable"},outputs:{tabScroll:"tabScroll",onClick:"onClick"},attrs:Out,decls:1,vars:3,consts:[["innerCssClass","k-button-icon",3,"name","customFontClass","svgIcon"]],template:function(e,n){1&e&&t.nrm(0,"kendo-icon-wrapper",0),2&e&&t.Y8G("name",n.iconClass)("customFontClass",n.customIconClass)("svgIcon",n.svgIcon)},dependencies:[Ke],encapsulation:2}),s})(),lEe=(()=>{class s{constructor(e){this.localization=e,this.tabClose=new t.bkB,this.hostClasses=!0}get activeClass(){return this.tab.selected}get disabledClass(){return this.tab.disabled}get focusedClass(){return this.tab.focused}get tabIndex(){return this.tab.selected||this.tab.focused?0:-1}get tabClosable(){return void 0!==this.tab.closable?this.tab.closable:this.tabStripClosable}get closeSVGIconClass(){if(!this.customCloseButtonClasses)return this.tab.closeSVGIcon?this.tab.closeSVGIcon:this.closeSVGIcon?this.closeSVGIcon:wo}get closeButtonClasses(){if(!this.customTabstripCloseIcon&&this.tabStripCloseIcon&&!this.tab.closeIconClass)return this.tab.closeIcon?this.tab.closeIcon:this.tabStripCloseIcon}get customCloseButtonClasses(){if(this.customTabstripCloseIcon||this.tab.closeIconClass)return this.tab.closeIconClass?this.tab.closeIconClass:this.customTabstripCloseIcon}get closeButtonTitle(){return this.localization.get("closeTitle")}closeTab(e){const n=new Gpt(e,this.tab);this.tabClose.emit(n)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoTabStripTab",""]],hostVars:13,hostBindings:function(e,n){2&e&&(t.BMQ("aria-selected",n.activeClass)("aria-disabled",n.disabledClass)("tabindex",n.tabIndex),t.AVh("k-item",n.hostClasses)("k-tabstrip-item",n.hostClasses)("k-active",n.activeClass)("k-disabled",n.disabledClass)("k-focus",n.focusedClass))},inputs:{tab:"tab",index:"index",tabStripClosable:"tabStripClosable",tabStripCloseIcon:"tabStripCloseIcon",customTabstripCloseIcon:"customTabstripCloseIcon",closeSVGIcon:"closeSVGIcon"},outputs:{tabClose:"tabClose"},attrs:Tut,decls:4,vars:4,consts:[["tabTemplate",""],[4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet"],["kendoButton","","type","button","role","button","fillMode","flat","class","k-remove-tab k-icon-button",3,"icon","iconClass","svgIcon","title","click",4,"ngIf"],["class","k-link",4,"ngIf"],[1,"k-link"],["kendoButton","","type","button","role","button","fillMode","flat",1,"k-remove-tab","k-icon-button",3,"click","icon","iconClass","svgIcon","title"]],template:function(e,n){if(1&e&&t.DNE(0,Aut,3,2,"ng-container",1)(1,Rut,0,0,"ng-template",2,0,t.C5r)(3,Nut,1,5,"button",3),2&e){const o=t.sdS(2);t.Y8G("ngIf",!n.tab.tabTemplate)("ngIfElse",o),t.R7$(),t.Y8G("ngTemplateOutlet",null==n.tab.tabTemplate?null:n.tab.tabTemplate.templateRef),t.R7$(2),t.Y8G("ngIf",n.tabClosable)}},dependencies:[$t,W,Je],encapsulation:2}),s})(),NU=(()=>{class s extends Gi{}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275dir=t.FsC({type:s,selectors:[["kendo-tabstrip-messages-base"]],inputs:{closeTitle:"closeTitle",previousTabButton:"previousTabButton",nextTabButton:"nextTabButton"},features:[t.Vt3]}),s})(),cEe=(()=>{class s extends NU{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoTabStripLocalizedMessages",""]],features:[t.Jv_([{provide:NU,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})(),LU=(()=>{class s{constructor(e,n,o,r,a,l){this.localization=e,this.renderer=n,this.wrapper=o,this.tabstripService=r,this.scrollService=a,this.ngZone=l,this.animate=!0,this.tabPosition="top",this.keepTabContent=!1,this.closable=!1,this.closeIcon="x",this.showContentArea=!0,this.tabSelect=new t.bkB,this.tabClose=new t.bkB,this.tabScroll=new t.bkB,this.hostClasses=!0,this.tabs=new t.rOR,this.showLicenseWatermark=!1,this._scrollableSettings=oEe(!1),this.subscriptions=new be.yU,this.subscriptionsArePresent=!1,this.tabStripId=rn();const c=(0,mt.$)(ap);this.showLicenseWatermark=V_(c),this.tabstripService.owner=this,this.scrollService.owner=this,this.subscriptions.add(this.scrollService.scrollButtonActiveStateChange.subscribe(u=>{this.hasScrollButtons&&this.renderer[(u.active?"remove":"add")+"Class"](this[`${u.buttonType}ScrollButton`].host.nativeElement,"k-disabled")}))}set height(e){this._height=e,this.renderer.setStyle(this.wrapper.nativeElement,"height",e)}get height(){return this._height}set scrollable(e){this._scrollableSettings=oEe(e),this.tablist&&(this.toggleScrollButtons(this.scrollService.tabsOverflow),this.attachWheelHandler(this.tablist.nativeElement))}get scrollable(){return this._scrollableSettings}set closeSVGIcon(e){if((0,t.naY)()&&e&&this.closeIcon&&"x"!==this.closeIcon)throw new Error("Setting both closeIcon and svgIcon options at the same time is not supported.");this._closeSVGIcon=e}get closeSVGIcon(){return this._closeSVGIcon}get tabsAtTop(){return"top"===this.tabPosition}get tabsAtRight(){return"right"===this.tabPosition}get tabsAtBottom(){return"bottom"===this.tabPosition}get tabsAtLeft(){return"left"===this.tabPosition}get dir(){return this.localization.rtl?"rtl":"ltr"}get tabStripScrollable(){return this._scrollableSettings.enabled}ngAfterViewInit(){ne()&&(this.ngZone.runOutsideAngular(()=>{this.toggleScrollButtons(!!this.scrollService.tabsOverflow),setTimeout(()=>{this.scrollToSelectedTab()})}),this.initDomEvents(),this.tabsChangesSub=this.tabs.changes.subscribe(()=>{this.toggleScrollButtons(this.scrollService.tabsOverflow),this.scrollService.toggleScrollButtonsState()}))}ngOnChanges(e){if(!ne())return;const n=e.tabPosition;if(n){const o="bottom"===n.previousValue||"bottom"===n.currentValue;this.ngZone.onStable.pipe(Ye(1)).subscribe(()=>{o&&(this.subscriptionsArePresent&&(this.subscriptions.unsubscribe(),this.subscriptions=new be.yU,this.subscriptionsArePresent=!1,this.activeStateChangeSub=this.scrollService.scrollButtonActiveStateChange.subscribe(r=>{this.hasScrollButtons&&this.renderer[(r.active?"remove":"add")+"Class"](this[`${r.buttonType}ScrollButton`].host.nativeElement,"k-disabled")})),this.initDomEvents()),this.scrollService.restoreScrollPosition()})}}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),this.tabsChangesSub&&this.tabsChangesSub.unsubscribe(),this.activeStateChangeSub&&this.activeStateChangeSub.unsubscribe()}get tabsAlignmentStyles(){return{start:"flex-start",end:"flex-end",center:"center",justify:"space-between"}[this.tabAlignment]}get tabListWidth(){return"top"===this.tabPosition||"bottom"===this.tabPosition?"100%":null}get tabListHeight(){return"left"===this.tabPosition||"right"===this.tabPosition?"100%":null}get isScrollable(){return this._scrollableSettings.enabled}get hasScrollButtons(){return(s=>s.enabled&&"hidden"!==s.scrollButtons)(this._scrollableSettings)}get mouseScrollEnabled(){return eEe(this._scrollableSettings)}get itemsWrapperClass(){return Sl(this.tabPosition)?"k-hstack":"k-vstack"}selectTab(e){const n=aee(this.tabs,e);!n||n.disabled||(this.tabstripService.selectTab(n,e),this.scrollToSelectedTab())}getTabId(e){return tEe("k-tabstrip-tab",this.tabStripId,e)}getTabPanelId(e){return tEe("k-tabstrip-tabpanel",this.tabStripId,e)}onTabClick(e,n){if(Kx(e.target))return;const o=e.target;if(IU(o,"k-remove-tab")||IU(o.parentElement,"k-remove-tab"))return;const a=aee(this.tabs,n);this.tabstripService.onTabSelect(a,n),this.scrollToSelectedTab()}onResize(){this.toggleScrollButtons(!!this.scrollService.tabsOverflow),this.ngZone.runOutsideAngular(()=>{this.scrollService.toggleScrollButtonsState()})}scrollToSelectedTab(){this._scrollableSettings.enabled&&this.scrollService.scrollToSelectedTab()}onScrollButtonClick(e){this.scrollService.scrollTabs(e)}initDomEvents(){if(!this.wrapper||this.subscriptionsArePresent)return;const e=this.tablist.nativeElement;this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(e,"keydown",n=>{this.tabstripService.onKeyDown(n)}))}),this.subscriptions.add(this.renderer.listen(e,"focusout",()=>{(s=>{this.tabs.forEach(i=>{i.focused=!1})})()})),this.isScrollable&&this.mouseScrollEnabled&&this.attachWheelHandler(e),this.subscriptionsArePresent=!0}toggleScrollButtons(e){this.ngZone.onStable.pipe(Ye(1)).subscribe(()=>{const n=this._scrollableSettings.scrollButtons,o=this.prevScrollButton&&this.nextScrollButton,r=o&&e,l="visible"===n;o&&!e&&"visible"!==n?(this.prevScrollButton.toggle(!1),this.nextScrollButton.toggle(!1)):(r||l)&&(this.prevScrollButton.toggle(!0),this.nextScrollButton.toggle(!0)),o&&l&&this.ngZone.runOutsideAngular(()=>{this.scrollService.toggleScrollButtonsState()})})}attachWheelHandler(e){this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(this.renderer.listen(e,"wheel",n=>{const o=new rEe({originalEvent:n});this.tabScroll.emit(o),!o.isDefaultPrevented()&&this.scrollService.tabsOverflow&&this.scrollService.onMouseScroll(n)}))})}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(nEe),t.rXU(sEe),t.rXU(t.SKi))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-tabstrip"]],contentQueries:function(e,n,o){if(1&e&&t.wni(o,RU,4),2&e){let r;t.mGM(r=t.lsd())&&(n.tabs=r)}},viewQuery:function(e,n){if(1&e&&(t.GBs(Lut,5),t.GBs(Gut,5),t.GBs(Put,5),t.GBs(Fut,5,t.aKT)),2&e){let o;t.mGM(o=t.lsd())&&(n.tablist=o.first),t.mGM(o=t.lsd())&&(n.prevScrollButton=o.first),t.mGM(o=t.lsd())&&(n.nextScrollButton=o.first),t.mGM(o=t.lsd())&&(n.tabHeaderContainers=o)}},hostVars:15,hostBindings:function(e,n){2&e&&(t.BMQ("dir",n.dir),t.AVh("k-tabstrip",n.hostClasses)("k-pos-relative",n.hostClasses)("k-tabstrip-top",n.tabsAtTop)("k-tabstrip-right",n.tabsAtRight)("k-tabstrip-bottom",n.tabsAtBottom)("k-tabstrip-left",n.tabsAtLeft)("k-tabstrip-scrollable",n.tabStripScrollable))},inputs:{height:"height",animate:"animate",tabAlignment:"tabAlignment",tabPosition:"tabPosition",keepTabContent:"keepTabContent",closable:"closable",scrollable:"scrollable",closeIcon:"closeIcon",closeIconClass:"closeIconClass",closeSVGIcon:"closeSVGIcon",showContentArea:"showContentArea"},outputs:{tabSelect:"tabSelect",tabClose:"tabClose",tabScroll:"tabScroll"},exportAs:["kendoTabStrip"],features:[t.Jv_([nEe,sEe,j,{provide:Ve,useValue:"kendo.tabstrip"}]),t.OA$],decls:9,vars:4,consts:()=>{let i,e,n;return i="Close",e="Scheda precedente",n="Scheda successiva",[["heading",""],["content",""],["tablist",""],["prevScrollButton",""],["tabHeaderContainer",""],["nextScrollButton",""],["kendoTabStripLocalizedMessages","","closeTitle",i,"previousTabButton",e,"nextTabButton",n],[4,"ngIf"],[3,"resize",4,"ngIf"],["kendoWatermarkOverlay","",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"k-tabstrip-items-wrapper",3,"ngClass"],["role","button","kendoTabStripScrollableButton","","class","k-icon-button k-button k-button-md k-rounded-md k-button-flat k-button-flat-base",3,"scrollable","tabPosition","prev","title","tabScroll","onClick",4,"ngIf"],["role","tablist",1,"k-reset","k-tabstrip-items"],[4,"ngFor","ngForOf"],["role","button","kendoTabStripScrollableButton","",1,"k-icon-button","k-button","k-button-md","k-rounded-md","k-button-flat","k-button-flat-base",3,"tabScroll","onClick","scrollable","tabPosition","prev","title"],["kendoTabStripTab","","role","tab",3,"tabClose","click","ngClass","ngStyle","tab","index","tabStripClosable","tabStripCloseIcon","customTabstripCloseIcon","closeSVGIcon","id"],["ngFor","",3,"ngForOf"],["role","tabpanel",3,"ngClass","tabIndex","id",4,"ngIf"],["role","tabpanel",3,"ngClass","tabIndex","id"],[3,"ngTemplateOutlet"],[3,"resize"],["kendoWatermarkOverlay",""]]},template:function(e,n){1&e&&(t.eu8(0,6),t.DNE(1,zut,3,2,"ng-container",7)(2,Xut,3,2,"ng-container",7)(3,Jut,6,11,"ng-template",null,0,t.C5r)(5,eht,1,1,"ng-template",null,1,t.C5r)(7,tht,1,0,"kendo-resize-sensor",8)(8,nht,1,0,"div",9)),2&e&&(t.R7$(),t.Y8G("ngIf",!n.tabsAtBottom),t.R7$(),t.Y8G("ngIf",n.tabsAtBottom),t.R7$(5),t.Y8G("ngIf",n.isScrollable),t.R7$(),t.Y8G("ngIf",n.showLicenseWatermark))},dependencies:[aEe,lEe,Os,U_,cEe,W,Je,Pe,st,Jn],encapsulation:2,data:{animation:[o_("state",[Od("active",We({opacity:1})),mo("* => active",[We({opacity:0}),hi("400ms ease-in")])])]}}),s})();const qf={};qf[F.ArrowLeft]="left",qf[F.ArrowRight]="right",qf[F.ArrowUp]="up",qf[F.ArrowDown]="down",qf[F.Home]="home",qf[F.End]="end",qf[F.Enter]="enter",qf[F.Space]="enter";const cee=Object.assign({},qf);cee[F.ArrowLeft]="right",cee[F.ArrowRight]="left";let Xft=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,An]]}),s})(),Wft=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe]]}),s})(),Yft=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,An,B_]]}),s})(),Kft=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,zo,An]]}),s})(),Jft=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,An,B_]]}),s})(),qft=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,ew,An]]}),s})(),Qft=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,Lbe,An]]}),s})(),VEe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,Vr,An,gr,B_]]}),s})(),Zft=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,B_]]}),s})(),omt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe]]}),s})(),rmt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe]]}),s})(),amt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[Xft,Wft,Yft,Jft,Kft,qft,Qft,VEe,Zft,omt,rmt]}),s})();const cg=10;function jEe(s,i,e=cg){return 0===Ts(Math.abs(s-i),e)}function vee(s,i,e){return s<i||jEe(s,i,e)}function HEe(s,i,e,n){let o=0,r=0;return n&&(o=Math.atan2(n.c*e,n.a*i),0!==n.b&&(r=Math.atan2(n.d*e,n.b*i))),{x:o,y:r}}const zU=Math.pow,dmt=["radiusX","radiusY","startAngle","endAngle","anticlockwise"];class jU extends(HF(Hu,dmt)){constructor(i=new Ie,e={}){super(),this.setCenter(i),this.radiusX=e.radiusX,this.radiusY=e.radiusY||e.radiusX,this.startAngle=e.startAngle,this.endAngle=e.endAngle,this.anticlockwise=e.anticlockwise||!1,this.xRotation=e.xRotation}clone(){return new jU(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})}setCenter(i){return this._observerField("center",Ie.create(i)),this.geometryChange(),this}getCenter(){return this.center}pointAt(i){const e=this.center,n=Ff(i);return new Ie(e.x+this.radiusX*Math.cos(n),e.y+this.radiusY*Math.sin(n))}curvePoints(){const i=this.startAngle,e=this.anticlockwise?-1:1,n=[this.pointAt(i)],o=this._arcInterval(),r=o.endAngle-o.startAngle,a=Math.ceil(r/45),l=r/a;let u,c=i;this.xRotation&&(u=Ui().rotate(this.xRotation,this.center));for(let f=1;f<=a;f++){const _=c+e*l,g=this._intervalCurvePoints(c,_,u);n.push(g.cp1,g.cp2,g.p2),c=_}return n}bbox(i){const e=this._arcInterval(),n=e.startAngle,o=e.endAngle,r=HEe(0,this.radiusX,this.radiusY,i),a=Av(r.x),l=Av(r.y),c=this.pointAt(o).transformCopy(i);let u=XEe(a,n),f=XEe(l,n),_=this.pointAt(n).transformCopy(i),g=Ie.min(_,c),S=Ie.max(_,c);for(;u<o||f<o;){let b,k;u<o&&(b=this.pointAt(u).transformCopy(i),u+=90),f<o&&(k=this.pointAt(f).transformCopy(i),f+=90),_=new Ie(b.x,k.y),g=Ie.min(g,_),S=Ie.max(S,_)}return On.fromPoints(g,S)}_arcInterval(){let{startAngle:i,endAngle:e,anticlockwise:n}=this;if(n){let o=i;i=e,e=o}return(i>e||n&&i===e)&&(e+=360),{startAngle:i,endAngle:e}}_intervalCurvePoints(i,e,n){const o=this.pointAt(i),r=this.pointAt(e),a=this._derivativeAt(i),l=this._derivativeAt(e),c=(Ff(e)-Ff(i))/3,u=new Ie(o.x+c*a.x,o.y+c*a.y),f=new Ie(r.x-c*l.x,r.y-c*l.y);return n&&(o.transform(n),r.transform(n),u.transform(n),f.transform(n)),{p1:o,cp1:u,cp2:f,p2:r}}_derivativeAt(i){const e=Ff(i);return new Ie(-this.radiusX*Math.sin(e),this.radiusY*Math.cos(e))}containsPoint(i){const e=this._arcInterval(),n=e.endAngle-e.startAngle,{center:o,radiusX:r,radiusY:a}=this,l=o.distanceTo(i),c=Math.atan2(i.y-o.y,i.x-o.x),u=r*a/Math.sqrt(zU(r,2)*zU(Math.sin(c),2)+zU(a,2)*zU(Math.cos(c),2)),f=this.pointAt(this.startAngle).round(cg),_=this.pointAt(this.endAngle).round(cg),g=function lmt(s,i,e,n){const o=i.x-s.x,r=n.x-e.x,a=i.y-s.y,l=n.y-e.y,c=s.x-e.x,u=s.y-e.y,f=o*l-r*a,_=(o*u-a*c)/f,g=(r*u-l*c)/f;if(_>=0&&_<=1&&g>=0&&g<=1)return new Ie(s.x+g*o,s.y+g*a)}(o,i.round(cg),f,_);let S;if(n<180)S=g&&vee(o.distanceTo(g),l)&&vee(l,u);else{let b=$Ee(o.x,o.y,r,a,i.x,i.y);360!==b&&(b=(360+b)%360);let k=e.startAngle<=b&&b<=e.endAngle;S=k&&vee(l,u)||!k&&(!g||g.equals(i))}return S}_isOnPath(i,e){const n=this._arcInterval(),o=this.center;let r=$Ee(o.x,o.y,this.radiusX,this.radiusY,i.x,i.y);return 360!==r&&(r=(360+r)%360),n.startAngle<=r&&r<=n.endAngle&&this.pointAt(r).distanceTo(i)<=e}static fromPoints(i,e,n,o,r,a,l){const c=function umt(s){let{x1:i,y1:e,x2:n,y2:o,rx:r,ry:a,largeArc:l,swipe:c,rotation:u=0}=s;const f=Ff(u),_=Math.cos(f),g=Math.sin(f),S=_*(i-n)/2+g*(e-o)/2,b=-g*(i-n)/2+_*(e-o)/2,k=l!==c?1:-1,D=Math.pow(S,2),O=Math.pow(b,2);let I=Math.pow(r,2),N=Math.pow(a,2),P=D/I+O/N;P>1&&(P=Math.sqrt(D/I+O/N),r*=P,I=Math.pow(r,2),a*=P,N=Math.pow(a,2));let G=k*Math.sqrt((I*N-I*O-N*D)/(I*O+N*D));isNaN(G)&&(G=0);const H=G*(r*b)/a,$=a*S*-G/r,Q=_*H-g*$+(i+n)/2,ie=g*H+_*$+(e+o)/2,ce=(S-H)/r,re=(b-$)/a,Ne=-(S+H)/r,ue=-(b+$)/a,ye=(re>=0?1:-1)*Av(Math.acos(ce/Math.sqrt(ce*ce+re*re))),se=Ts((ce*Ne+re*ue)/(Math.sqrt(ce*ce+re*re)*Math.sqrt(Ne*Ne+ue*ue)),10);let te=(ce*ue-re*Ne>=0?1:-1)*Av(Math.acos(se));!c&&te>0&&(te-=360),c&&te<0&&(te+=360);let le=ye+te;const ve=le>=0?1:-1;return le=Math.abs(le)%360*ve,{center:new Ie(Q,ie),startAngle:ye,endAngle:le,radiusX:r,radiusY:a,xRotation:u}}({x1:i.x,y1:i.y,x2:e.x,y2:e.y,rx:n,ry:o,largeArc:r,swipe:a,rotation:l});return new jU(c.center,{startAngle:c.startAngle,endAngle:c.endAngle,radiusX:c.radiusX,radiusY:c.radiusY,xRotation:c.xRotation,anticlockwise:0===a})}}function $Ee(s,i,e,n,o,r){const a=Ts((o-s)/e,3),l=Ts((r-i)/n,3);return Ts(Av(Math.atan2(l,a)))}function XEe(s,i){let e=s;for(;e<i;)e+=90;return e}const dg=jU,WEe=Math.PI/2;class See extends(HF(Hu,["radius"])){constructor(i=new Ie,e=0){super(),this.setCenter(i),this.setRadius(e)}setCenter(i){return this._observerField("center",Ie.create(i)),this.geometryChange(),this}getCenter(){return this.center}equals(i){return i&&i.center.equals(this.center)&&i.radius===this.radius}clone(){return new See(this.center.clone(),this.radius)}pointAt(i){return this._pointAt(Ff(i))}bbox(i){const e=HEe(0,this.radius,this.radius,i);let n=Ie.maxPoint(),o=Ie.minPoint();for(let r=0;r<4;r++){let a=this._pointAt(e.x+r*WEe).transformCopy(i),l=this._pointAt(e.y+r*WEe).transformCopy(i),c=new Ie(a.x,l.y);n=Ie.min(n,c),o=Ie.max(o,c)}return On.fromPoints(n,o)}_pointAt(i){const{center:e,radius:n}=this;return new Ie(e.x+n*Math.cos(i),e.y+n*Math.sin(i))}containsPoint(i){const{center:e,radius:n}=this;return Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2)<=Math.pow(n,2)}_isOnPath(i,e){const{center:n,radius:o}=this,r=n.distanceTo(i);return o-e<=r&&r<=o+e}}const Cl=See,Kv=typeof Uint8Array<"u"&&tp.browser&&(!tp.browser.msie||tp.browser.version>9),Cee=function(){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{decode:function(i){for(var e=i.replace(/[^A-Za-z0-9\+\/\=]/g,""),n=0,o=e.length,r=[];n<o;){var a=s.indexOf(e.charAt(n++)),l=s.indexOf(e.charAt(n++)),c=s.indexOf(e.charAt(n++)),u=s.indexOf(e.charAt(n++)),_=(15&l)<<4|c>>>2,g=(3&c)<<6|u;r.push(a<<2|l>>>4),64!=c&&r.push(_),64!=u&&r.push(g)}return r},encode:function(i){for(var e=0,n=i.length,o="";e<n;){var r=i[e++],a=i[e++],l=i[e++],u=(3&r)<<4|a>>>4,f=(15&a)<<2|l>>>6,_=63&l;e-n==2?f=_=64:e-n==1&&(_=64),o+=s.charAt(r>>>2)+s.charAt(u)+s.charAt(f)+s.charAt(_)}return o}}}();function ao(s){var i=0,e=0;null==s?s=Kv?new Uint8Array(256):[]:e=s.length;var n=Kv?function(re){if(re>=s.length){var Ne=new Uint8Array(Math.max(re+256,2*s.length));Ne.set(s,0),s=Ne}}:function(){},o=Kv?function(){return new Uint8Array(s.buffer,0,e)}:function(){return s},r=Kv?function(re){if("string"==typeof re)return Q(re);var Ne=re.length;n(i+Ne),s.set(re,i),(i+=Ne)>e&&(e=i)}:function(re){if("string"==typeof re)return Q(re);for(var Ne=0;Ne<re.length;++Ne)u(re[Ne])};function c(){return i<e?s[i++]:0}function u(re){n(i),s[i++]=255&re,i>e&&(e=i)}function f(){return c()<<8|c()}function _(re){u(re>>8),u(re)}function b(){return 65536*f()+f()}function k(re){_(re>>>16&65535),_(65535&re)}function D(){var re=b();return re>=2147483648?re-4294967296:re}function O(re){k(re<0?re+4294967296:re)}function H(re){return ie(re,c)}function Q(re){for(var Ne=0;Ne<re.length;++Ne)u(re.charCodeAt(Ne))}function ie(re,Ne){for(var ue=new Array(re),ye=0;ye<re;++ye)ue[ye]=Ne();return ue}var ce={eof:function l(){return i>=e},readByte:c,writeByte:u,readShort:f,writeShort:_,readLong:b,writeLong:k,readFixed:function I(){return b()/65536},writeFixed:function N(re){k(Math.round(65536*re))},readShort_:function g(){var re=f();return re>=32768?re-65536:re},writeShort_:function S(re){_(re<0?re+65536:re)},readLong_:D,writeLong_:O,readFixed_:function P(){return D()/65536},writeFixed_:function G(re){O(Math.round(65536*re))},read:H,write:r,readString:function $(re){return String.fromCharCode.apply(String,H(re))},writeString:Q,times:ie,get:o,slice:Kv?function(re,Ne){if(s.buffer.slice)return new Uint8Array(s.buffer.slice(re,re+Ne));var ue=new Uint8Array(Ne);return ue.set(new Uint8Array(s.buffer,re,Ne)),ue}:function(re,Ne){return s.slice(re,re+Ne)},offset:function(re){return null!=re?(i=re,ce):i},skip:function(re){i+=re},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(){return e},saveExcursion:function(re){var Ne=i;try{return re()}finally{i=Ne}},writeBase64:function(re){window.atob?Q(window.atob(re)):r(Cee.decode(re))},base64:function(){return Cee.encode(o())}};return ce}class Qf{constructor(i,e){this.definition=e,this.length=e.length,this.offset=e.offset,this.file=i,this.rawData=i.raw,this.parse(i.raw)}raw(){return this.rawData.slice(this.offset,this.length)}parse(){}}!function(){var s=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g)}();var QEe=4,ZEe=0,eye=1,tye=2;function Pmt(s,i){return Object.prototype.hasOwnProperty.call(s,i)}function nye(s){for(var i=Array.prototype.slice.call(arguments,1);i.length;){var e=i.shift();if(e){if("object"!=typeof e)throw new TypeError(e+"must be non-object");for(var n in e)Pmt(e,n)&&(s[n]=e[n])}}return s}function YU(s,i){return s.length===i?s:s.subarray?s.subarray(0,i):(s.length=i,s)}var Qx={arraySet:function(s,i,e,n,o){if(i.subarray&&s.subarray)s.set(i.subarray(e,e+n),o);else for(var r=0;r<n;r++)s[o+r]=i[e+r]},flattenChunks:function(s){var i,e,n,o,r,a;for(n=0,i=0,e=s.length;i<e;i++)n+=s[i].length;for(a=new Uint8Array(n),o=0,i=0,e=s.length;i<e;i++)a.set(r=s[i],o),o+=r.length;return a},Buf8:function(s){return new Uint8Array(s)},Buf16:function(s){return new Uint16Array(s)},Buf32:function(s){return new Int32Array(s)}},Zx={arraySet:function(s,i,e,n,o){for(var r=0;r<n;r++)s[o+r]=i[e+r]},flattenChunks:function(s){return[].concat.apply([],s)},Buf8:function(s){return new Array(s)},Buf16:function(s){return new Array(s)},Buf32:function(s){return new Array(s)}};let Uw=()=>{const s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";return Uw=()=>s,s},Hd=(s,i,e,n,o)=>(Hd=Uw()?Qx.arraySet:Zx.arraySet,Hd(s,i,e,n,o)),KU=s=>(KU=Uw()?Qx.flattenChunks:Zx.flattenChunks,KU(s)),em=s=>(em=Uw()?Qx.Buf8:Zx.Buf8,em(s)),Qc=s=>(Qc=Uw()?Qx.Buf16:Zx.Buf16,Qc(s)),Bw=s=>(Bw=Uw()?Qx.Buf32:Zx.Buf32,Bw(s)),iye=function(){let s=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}return iye=()=>s,s},sye=function(){let s=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s=!1}return sye=()=>s,s},Eee=function(s){for(var i=em(256),e=0;e<256;e++)i[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;return i[254]=i[254]=1,Eee=n=>i[n],i[s]};function JU(s){var i,e,n,o,r,a=s.length,l=0;for(o=0;o<a;o++)55296==(64512&(e=s.charCodeAt(o)))&&o+1<a&&56320==(64512&(n=s.charCodeAt(o+1)))&&(e=65536+(e-55296<<10)+(n-56320),o++),l+=e<128?1:e<2048?2:e<65536?3:4;for(i=new Uint8Array(l),r=0,o=0;r<l;o++)55296==(64512&(e=s.charCodeAt(o)))&&o+1<a&&56320==(64512&(n=s.charCodeAt(o+1)))&&(e=65536+(e-55296<<10)+(n-56320),o++),e<128?i[r++]=e:e<2048?(i[r++]=192|e>>>6,i[r++]=128|63&e):e<65536?(i[r++]=224|e>>>12,i[r++]=128|e>>>6&63,i[r++]=128|63&e):(i[r++]=240|e>>>18,i[r++]=128|e>>>12&63,i[r++]=128|e>>>6&63,i[r++]=128|63&e);return i}function oye(s,i){if(i<65534&&(s.subarray&&sye()||!s.subarray&&iye()))return String.fromCharCode.apply(null,YU(s,i));for(var e="",n=0;n<i;n++)e+=String.fromCharCode(s[n]);return e}function Fmt(s){return oye(s,s.length)}function Bmt(s,i){var e,n,o,r,a=i||s.length,l=new Array(2*a);for(n=0,e=0;e<a;)if((o=s[e++])<128)l[n++]=o;else if((r=Eee(o))>4)l[n++]=65533,e+=r-1;else{for(o&=2===r?31:3===r?15:7;r>1&&e<a;)o=o<<6|63&s[e++],r--;r>1?l[n++]=65533:o<65536?l[n++]=o:(l[n++]=55296|(o-=65536)>>10&1023,l[n++]=56320|1023&o)}return oye(l,n)}function Vmt(s,i){var e;for((i=i||s.length)>s.length&&(i=s.length),e=i-1;e>=0&&128==(192&s[e]);)e--;return e<0||0===e?i:e+Eee(s[e])>i?e:i}function eA(s,i,e,n){for(var o=65535&s,r=s>>>16&65535,a=0;0!==e;){e-=a=e>2e3?2e3:e;do{r=r+(o=o+i[n++]|0)|0}while(--a);o%=65521,r%=65521}return o|r<<16}let rye=function(){const s=function zmt(){for(var s,i=[],e=0;e<256;e++){s=e;for(var n=0;n<8;n++)s=1&s?3988292384^s>>>1:s>>>1;i[e]=s}return i}();return rye=()=>s,s};function ka(s,i,e,n){var o=rye(),r=n+e;s^=-1;for(var a=n;a<r;a++)s=s>>>8^o[255&(s^i[a])];return~s}var qU=30,jmt=12;function Hmt(s,i){var e,n,o,r,a,l,c,u,f,_,g,S,b,k,D,O,I,N,P,G,H,$,Q,ie,ce;ie=s.input,o=(n=s.next_in)+(s.avail_in-5),ce=s.output,a=(r=s.next_out)-(i-s.avail_out),l=r+(s.avail_out-257),c=(e=s.state).dmax,u=e.wsize,f=e.whave,_=e.wnext,g=e.window,S=e.hold,b=e.bits,k=e.lencode,D=e.distcode,O=(1<<e.lenbits)-1,I=(1<<e.distbits)-1;e:do{b<15&&(S+=ie[n++]<<b,S+=ie[n++]<<(b+=8),b+=8),N=k[S&O];t:for(;;){if(S>>>=P=N>>>24,b-=P,0==(P=N>>>16&255))ce[r++]=65535&N;else{if(!(16&P)){if(64&P){if(32&P){e.mode=jmt;break e}s.msg="invalid literal/length code",e.mode=qU;break e}N=k[(65535&N)+(S&(1<<P)-1)];continue t}for(G=65535&N,(P&=15)&&(b<P&&(S+=ie[n++]<<b,b+=8),G+=S&(1<<P)-1,S>>>=P,b-=P),b<15&&(S+=ie[n++]<<b,S+=ie[n++]<<(b+=8),b+=8),N=D[S&I];;){if(S>>>=P=N>>>24,b-=P,16&(P=N>>>16&255)){if(H=65535&N,b<(P&=15)&&(S+=ie[n++]<<b,(b+=8)<P&&(S+=ie[n++]<<b,b+=8)),(H+=S&(1<<P)-1)>c){s.msg="invalid distance too far back",e.mode=qU;break e}if(S>>>=P,b-=P,H>(P=r-a)){if((P=H-P)>f&&e.sane){s.msg="invalid distance too far back",e.mode=qU;break e}if($=0,Q=g,0===_){if($+=u-P,P<G){G-=P;do{ce[r++]=g[$++]}while(--P);$=r-H,Q=ce}}else if(_<P){if($+=u+_-P,(P-=_)<G){G-=P;do{ce[r++]=g[$++]}while(--P);if($=0,_<G){G-=P=_;do{ce[r++]=g[$++]}while(--P);$=r-H,Q=ce}}}else if($+=_-P,P<G){G-=P;do{ce[r++]=g[$++]}while(--P);$=r-H,Q=ce}for(;G>2;)ce[r++]=Q[$++],ce[r++]=Q[$++],ce[r++]=Q[$++],G-=3;G&&(ce[r++]=Q[$++],G>1&&(ce[r++]=Q[$++]))}else{$=r-H;do{ce[r++]=ce[$++],ce[r++]=ce[$++],ce[r++]=ce[$++],G-=3}while(G>2);G&&(ce[r++]=ce[$++],G>1&&(ce[r++]=ce[$++]))}break}if(64&P){s.msg="invalid distance code",e.mode=qU;break e}N=D[(65535&N)+(S&(1<<P)-1)]}}break}}while(n<o&&r<l);S&=(1<<(b-=(G=b>>3)<<3))-1,s.next_in=n-=G,s.next_out=r,s.avail_in=n<o?o-n+5:5-(n-o),s.avail_out=r<l?l-r+257:257-(r-l),e.hold=S,e.bits=b}var Vw=15,aye=852,lye=592,cye=0,yee=1,dye=2,$mt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Xmt=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Wmt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Ymt=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function tA(s,i,e,n,o,r,a,l){var N,P,G,H,$,ce,se,te,le,c=l.bits,u=0,f=0,_=0,g=0,S=0,b=0,k=0,D=0,O=0,I=0,Q=null,ie=0,re=Qc(Vw+1),Ne=Qc(Vw+1),ue=null,ye=0;for(u=0;u<=Vw;u++)re[u]=0;for(f=0;f<n;f++)re[i[e+f]]++;for(S=c,g=Vw;g>=1&&0===re[g];g--);if(S>g&&(S=g),0===g)return o[r++]=20971520,o[r++]=20971520,l.bits=1,0;for(_=1;_<g&&0===re[_];_++);for(S<_&&(S=_),D=1,u=1;u<=Vw;u++)if(D<<=1,(D-=re[u])<0)return-1;if(D>0&&(s===cye||1!==g))return-1;for(Ne[1]=0,u=1;u<Vw;u++)Ne[u+1]=Ne[u]+re[u];for(f=0;f<n;f++)0!==i[e+f]&&(a[Ne[i[e+f]]++]=f);if(s===cye?(Q=ue=a,ce=19):s===yee?(Q=$mt,ie-=257,ue=Xmt,ye-=257,ce=256):(Q=Wmt,ue=Ymt,ce=-1),I=0,f=0,u=_,$=r,b=S,k=0,G=-1,H=(O=1<<S)-1,s===yee&&O>aye||s===dye&&O>lye)return 1;for(;;){se=u-k,a[f]<ce?(te=0,le=a[f]):a[f]>ce?(te=ue[ye+a[f]],le=Q[ie+a[f]]):(te=96,le=0),N=1<<u-k,_=P=1<<b;do{o[$+(I>>k)+(P-=N)]=se<<24|te<<16|le}while(0!==P);for(N=1<<u-1;I&N;)N>>=1;if(0!==N?(I&=N-1,I+=N):I=0,f++,0==--re[u]){if(u===g)break;u=i[e+a[f]]}if(u>S&&(I&H)!==G){for(0===k&&(k=S),$+=_,D=1<<(b=u-k);b+k<g&&!((D-=re[b+k])<=0);)b++,D<<=1;if(O+=1<<b,s===yee&&O>aye||s===dye&&O>lye)return 1;o[G=I&H]=S<<24|b<<16|$-r}}return 0!==I&&(o[$+I]=u-k<<24|64<<16),l.bits=S,0}var uye=1,hye=2,j0=0,Qu=-2,gye=1,t_t=852,n_t=592;function Bye(s){return(s>>>24&255)+(s>>>8&65280)+((65280&s)<<8)+((255&s)<<24)}function i_t(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=Qc(320),this.work=Qc(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a_t(s,i){var e,n;return s?(n=new i_t,s.state=n,n.window=null,e=function r_t(s,i){var e,n;return!s||!s.state||(n=s.state,i<0?(e=0,i=-i):(e=1+(i>>4),i<48&&(i&=15)),i&&(i<8||i>15))?Qu:(null!==n.window&&n.wbits!==i&&(n.window=null),n.wrap=e,n.wbits=i,function o_t(s){var i;return s&&s.state?((i=s.state).wsize=0,i.whave=0,i.wnext=0,function s_t(s){var i;return s&&s.state?(s.total_in=s.total_out=(i=s.state).total=0,s.msg="",i.wrap&&(s.adler=1&i.wrap),i.mode=gye,i.last=0,i.havedict=0,i.dmax=32768,i.head=null,i.hold=0,i.bits=0,i.lencode=i.lendyn=Bw(t_t),i.distcode=i.distdyn=Bw(n_t),i.sane=1,i.back=-1,j0):Qu}(s)):Qu}(s))}(s,i),e!==j0&&(s.state=null),e):Qu}var Oee,Tee,Vye=!0;function l_t(s){if(Vye){var i;for(Oee=Bw(512),Tee=Bw(32),i=0;i<144;)s.lens[i++]=8;for(;i<256;)s.lens[i++]=9;for(;i<280;)s.lens[i++]=7;for(;i<288;)s.lens[i++]=8;for(tA(uye,s.lens,0,288,Oee,0,s.work,{bits:9}),i=0;i<32;)s.lens[i++]=5;tA(hye,s.lens,0,32,Tee,0,s.work,{bits:5}),Vye=!1}s.lencode=Oee,s.lenbits=9,s.distcode=Tee,s.distbits=5}function zye(s,i,e,n){var o,r=s.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=em(r.wsize)),n>=r.wsize?(Hd(r.window,i,e-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):((o=r.wsize-r.wnext)>n&&(o=n),Hd(r.window,i,e-n,o,r.wnext),(n-=o)?(Hd(r.window,i,e-n,n,0),r.wnext=n,r.whave=r.wsize):(r.wnext+=o,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=o))),0}function c_t(s,i){var e,n,o,r,a,l,c,u,f,_,g,S,b,k,O,I,N,P,G,H,$,Q,ce,re,D=0,ie=em(4),Ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!s||!s.state||!s.output||!s.input&&0!==s.avail_in)return Qu;12===(e=s.state).mode&&(e.mode=13),a=s.next_out,o=s.output,r=s.next_in,n=s.input,u=e.hold,f=e.bits,_=l=s.avail_in,g=c=s.avail_out,Q=j0;e:for(;;)switch(e.mode){case gye:if(0===e.wrap){e.mode=13;break}for(;f<16;){if(0===l)break e;l--,u+=n[r++]<<f,f+=8}if(2&e.wrap&&35615===u){e.check=0,ie[0]=255&u,ie[1]=u>>>8&255,e.check=ka(e.check,ie,2,0),u=0,f=0,e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&u)<<8)+(u>>8))%31){s.msg="incorrect header check",e.mode=30;break}if(8!=(15&u)){s.msg="unknown compression method",e.mode=30;break}if(f-=4,$=8+(15&(u>>>=4)),0===e.wbits)e.wbits=$;else if($>e.wbits){s.msg="invalid window size",e.mode=30;break}e.dmax=1<<$,s.adler=e.check=1,e.mode=512&u?10:12,u=0,f=0;break;case 2:for(;f<16;){if(0===l)break e;l--,u+=n[r++]<<f,f+=8}if(e.flags=u,8!=(255&e.flags)){s.msg="unknown compression method",e.mode=30;break}if(57344&e.flags){s.msg="unknown header flags set",e.mode=30;break}e.head&&(e.head.text=u>>8&1),512&e.flags&&(ie[0]=255&u,ie[1]=u>>>8&255,e.check=ka(e.check,ie,2,0)),u=0,f=0,e.mode=3;case 3:for(;f<32;){if(0===l)break e;l--,u+=n[r++]<<f,f+=8}e.head&&(e.head.time=u),512&e.flags&&(ie[0]=255&u,ie[1]=u>>>8&255,ie[2]=u>>>16&255,ie[3]=u>>>24&255,e.check=ka(e.check,ie,4,0)),u=0,f=0,e.mode=4;case 4:for(;f<16;){if(0===l)break e;l--,u+=n[r++]<<f,f+=8}e.head&&(e.head.xflags=255&u,e.head.os=u>>8),512&e.flags&&(ie[0]=255&u,ie[1]=u>>>8&255,e.check=ka(e.check,ie,2,0)),u=0,f=0,e.mode=5;case 5:if(1024&e.flags){for(;f<16;){if(0===l)break e;l--,u+=n[r++]<<f,f+=8}e.length=u,e.head&&(e.head.extra_len=u),512&e.flags&&(ie[0]=255&u,ie[1]=u>>>8&255,e.check=ka(e.check,ie,2,0)),u=0,f=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&((S=e.length)>l&&(S=l),S&&(e.head&&($=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),Hd(e.head.extra,n,r,S,$)),512&e.flags&&(e.check=ka(e.check,n,S,r)),l-=S,r+=S,e.length-=S),e.length))break e;e.length=0,e.mode=7;case 7:if(2048&e.flags){if(0===l)break e;S=0;do{$=n[r+S++],e.head&&$&&e.length<65536&&(e.head.name+=String.fromCharCode($))}while($&&S<l);if(512&e.flags&&(e.check=ka(e.check,n,S,r)),l-=S,r+=S,$)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=8;case 8:if(4096&e.flags){if(0===l)break e;S=0;do{$=n[r+S++],e.head&&$&&e.length<65536&&(e.head.comment+=String.fromCharCode($))}while($&&S<l);if(512&e.flags&&(e.check=ka(e.check,n,S,r)),l-=S,r+=S,$)break e}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;f<16;){if(0===l)break e;l--,u+=n[r++]<<f,f+=8}if(u!==(65535&e.check)){s.msg="header crc mismatch",e.mode=30;break}u=0,f=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),s.adler=e.check=0,e.mode=12;break;case 10:for(;f<32;){if(0===l)break e;l--,u+=n[r++]<<f,f+=8}s.adler=e.check=Bye(u),u=0,f=0,e.mode=11;case 11:if(0===e.havedict)return s.next_out=a,s.avail_out=c,s.next_in=r,s.avail_in=l,e.hold=u,e.bits=f,2;s.adler=e.check=1,e.mode=12;case 12:if(5===i||6===i)break e;case 13:if(e.last){u>>>=7&f,f-=7&f,e.mode=27;break}for(;f<3;){if(0===l)break e;l--,u+=n[r++]<<f,f+=8}switch(e.last=1&u,f-=1,3&(u>>>=1)){case 0:e.mode=14;break;case 1:if(l_t(e),e.mode=20,6===i){u>>>=2,f-=2;break e}break;case 2:e.mode=17;break;case 3:s.msg="invalid block type",e.mode=30}u>>>=2,f-=2;break;case 14:for(u>>>=7&f,f-=7&f;f<32;){if(0===l)break e;l--,u+=n[r++]<<f,f+=8}if((65535&u)!=(u>>>16^65535)){s.msg="invalid stored block lengths",e.mode=30;break}if(e.length=65535&u,u=0,f=0,e.mode=15,6===i)break e;case 15:e.mode=16;case 16:if(S=e.length){if(S>l&&(S=l),S>c&&(S=c),0===S)break e;Hd(o,n,r,S,a),l-=S,r+=S,c-=S,a+=S,e.length-=S;break}e.mode=12;break;case 17:for(;f<14;){if(0===l)break e;l--,u+=n[r++]<<f,f+=8}if(e.nlen=257+(31&u),f-=5,e.ndist=1+(31&(u>>>=5)),f-=5,e.ncode=4+(15&(u>>>=5)),u>>>=4,f-=4,e.nlen>286||e.ndist>30){s.msg="too many length or distance symbols",e.mode=30;break}e.have=0,e.mode=18;case 18:for(;e.have<e.ncode;){for(;f<3;){if(0===l)break e;l--,u+=n[r++]<<f,f+=8}e.lens[Ne[e.have++]]=7&u,u>>>=3,f-=3}for(;e.have<19;)e.lens[Ne[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,Q=tA(0,e.lens,0,19,e.lencode,0,e.work,ce={bits:e.lenbits}),e.lenbits=ce.bits,Q){s.msg="invalid code lengths set",e.mode=30;break}e.have=0,e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;I=(D=e.lencode[u&(1<<e.lenbits)-1])>>>16&255,N=65535&D,!((O=D>>>24)<=f);){if(0===l)break e;l--,u+=n[r++]<<f,f+=8}if(N<16)u>>>=O,f-=O,e.lens[e.have++]=N;else{if(16===N){for(re=O+2;f<re;){if(0===l)break e;l--,u+=n[r++]<<f,f+=8}if(u>>>=O,f-=O,0===e.have){s.msg="invalid bit length repeat",e.mode=30;break}$=e.lens[e.have-1],S=3+(3&u),u>>>=2,f-=2}else if(17===N){for(re=O+3;f<re;){if(0===l)break e;l--,u+=n[r++]<<f,f+=8}f-=O,$=0,S=3+(7&(u>>>=O)),u>>>=3,f-=3}else{for(re=O+7;f<re;){if(0===l)break e;l--,u+=n[r++]<<f,f+=8}f-=O,$=0,S=11+(127&(u>>>=O)),u>>>=7,f-=7}if(e.have+S>e.nlen+e.ndist){s.msg="invalid bit length repeat",e.mode=30;break}for(;S--;)e.lens[e.have++]=$}}if(30===e.mode)break;if(0===e.lens[256]){s.msg="invalid code -- missing end-of-block",e.mode=30;break}if(e.lenbits=9,Q=tA(uye,e.lens,0,e.nlen,e.lencode,0,e.work,ce={bits:e.lenbits}),e.lenbits=ce.bits,Q){s.msg="invalid literal/lengths set",e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,Q=tA(hye,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,ce={bits:e.distbits}),e.distbits=ce.bits,Q){s.msg="invalid distances set",e.mode=30;break}if(e.mode=20,6===i)break e;case 20:e.mode=21;case 21:if(l>=6&&c>=258){s.next_out=a,s.avail_out=c,s.next_in=r,s.avail_in=l,e.hold=u,e.bits=f,Hmt(s,g),a=s.next_out,o=s.output,c=s.avail_out,r=s.next_in,n=s.input,l=s.avail_in,u=e.hold,f=e.bits,12===e.mode&&(e.back=-1);break}for(e.back=0;I=(D=e.lencode[u&(1<<e.lenbits)-1])>>>16&255,N=65535&D,!((O=D>>>24)<=f);){if(0===l)break e;l--,u+=n[r++]<<f,f+=8}if(I&&!(240&I)){for(P=O,G=I,H=N;I=(D=e.lencode[H+((u&(1<<P+G)-1)>>P)])>>>16&255,N=65535&D,!(P+(O=D>>>24)<=f);){if(0===l)break e;l--,u+=n[r++]<<f,f+=8}u>>>=P,f-=P,e.back+=P}if(u>>>=O,f-=O,e.back+=O,e.length=N,0===I){e.mode=26;break}if(32&I){e.back=-1,e.mode=12;break}if(64&I){s.msg="invalid literal/length code",e.mode=30;break}e.extra=15&I,e.mode=22;case 22:if(e.extra){for(re=e.extra;f<re;){if(0===l)break e;l--,u+=n[r++]<<f,f+=8}e.length+=u&(1<<e.extra)-1,u>>>=e.extra,f-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=23;case 23:for(;I=(D=e.distcode[u&(1<<e.distbits)-1])>>>16&255,N=65535&D,!((O=D>>>24)<=f);){if(0===l)break e;l--,u+=n[r++]<<f,f+=8}if(!(240&I)){for(P=O,G=I,H=N;I=(D=e.distcode[H+((u&(1<<P+G)-1)>>P)])>>>16&255,N=65535&D,!(P+(O=D>>>24)<=f);){if(0===l)break e;l--,u+=n[r++]<<f,f+=8}u>>>=P,f-=P,e.back+=P}if(u>>>=O,f-=O,e.back+=O,64&I){s.msg="invalid distance code",e.mode=30;break}e.offset=N,e.extra=15&I,e.mode=24;case 24:if(e.extra){for(re=e.extra;f<re;){if(0===l)break e;l--,u+=n[r++]<<f,f+=8}e.offset+=u&(1<<e.extra)-1,u>>>=e.extra,f-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){s.msg="invalid distance too far back",e.mode=30;break}e.mode=25;case 25:if(0===c)break e;if(e.offset>(S=g-c)){if((S=e.offset-S)>e.whave&&e.sane){s.msg="invalid distance too far back",e.mode=30;break}b=S>e.wnext?e.wsize-(S-=e.wnext):e.wnext-S,S>e.length&&(S=e.length),k=e.window}else k=o,b=a-e.offset,S=e.length;S>c&&(S=c),c-=S,e.length-=S;do{o[a++]=k[b++]}while(--S);0===e.length&&(e.mode=21);break;case 26:if(0===c)break e;o[a++]=e.length,c--,e.mode=21;break;case 27:if(e.wrap){for(;f<32;){if(0===l)break e;l--,u|=n[r++]<<f,f+=8}if(s.total_out+=g-=c,e.total+=g,g&&(s.adler=e.check=e.flags?ka(e.check,o,g,a-g):eA(e.check,o,g,a-g)),g=c,(e.flags?u:Bye(u))!==e.check){s.msg="incorrect data check",e.mode=30;break}u=0,f=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;f<32;){if(0===l)break e;l--,u+=n[r++]<<f,f+=8}if(u!==(4294967295&e.total)){s.msg="incorrect length check",e.mode=30;break}u=0,f=0}e.mode=29;case 29:Q=1;break e;case 30:Q=-3;break e;case 31:return-4;default:return Qu}return s.next_out=a,s.avail_out=c,s.next_in=r,s.avail_in=l,e.hold=u,e.bits=f,(e.wsize||g!==s.avail_out&&e.mode<30&&(e.mode<27||4!==i))&&zye(s,s.output,s.next_out,g-s.avail_out),g-=s.avail_out,s.total_in+=_-=s.avail_in,s.total_out+=g,e.total+=g,e.wrap&&g&&(s.adler=e.check=e.flags?ka(e.check,o,g,s.next_out-g):eA(e.check,o,g,s.next_out-g)),s.data_type=e.bits+(e.last?64:0)+(12===e.mode?128:0)+(20===e.mode||15===e.mode?256:0),(0===_&&0===g||4===i)&&Q===j0&&(Q=-5),Q}function jye(s,i){var n,e=i.length;return s&&s.state&&(0===(n=s.state).wrap||11===n.mode)?11===n.mode&&eA(1,i,e,0)!==n.check?-3:zye(s,i,e,e)?(n.mode=31,-4):(n.havedict=1,j0):Qu}var H0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function Hye(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function h_t(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Mee=Object.prototype.toString;class nA{constructor(i){if(!(this instanceof nA))return new nA(i);this.options=nye({chunkSize:16384,windowBits:0,to:""},i||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(i&&i.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Hye,this.strm.avail_out=0;var n=a_t(this.strm,e.windowBits);if(0!==n)throw new Error(H0[n]);if(this.header=new h_t,function u_t(s,i){var e;s&&s.state&&2&(e=s.state).wrap&&(e.head=i,i.done=!1)}(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=JU(e.dictionary):"[object ArrayBuffer]"===Mee.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&0!==(n=jye(this.strm,e.dictionary))))throw new Error(H0[n])}push(i,e){var a,l,c,u,f,_,n=this.strm,o=this.options.chunkSize,r=this.options.dictionary,g=!1;if(this.ended)return!1;l=e===~~e?e:!0===e?4:0,n.input="string"==typeof i?function Umt(s){for(var i=new Uint8Array(s.length),e=0,n=i.length;e<n;e++)i[e]=s.charCodeAt(e);return i}(i):"[object ArrayBuffer]"===Mee.call(i)?new Uint8Array(i):i,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=em(o),n.next_out=0,n.avail_out=o),2===(a=c_t(n,0))&&r&&(_="string"==typeof r?JU(r):"[object ArrayBuffer]"===Mee.call(r)?new Uint8Array(r):r,a=jye(this.strm,_)),-5===a&&!0===g&&(a=0,g=!1),1!==a&&0!==a)return this.onEnd(a),this.ended=!0,!1;n.next_out&&(0===n.avail_out||1===a||0===n.avail_in&&(4===l||2===l))&&("string"===this.options.to?(c=Vmt(n.output,n.next_out),u=n.next_out-c,f=Bmt(n.output,c),n.next_out=u,n.avail_out=o-u,u&&Hd(n.output,n.output,c,u,0),this.onData(f)):this.onData(YU(n.output,n.next_out))),0===n.avail_in&&0===n.avail_out&&(g=!0)}while((n.avail_in>0||0===n.avail_out)&&1!==a);return 1===a&&(l=4),4===l?(a=function d_t(s){if(!s||!s.state)return Qu;var i=s.state;return i.window&&(i.window=null),s.state=null,j0}(this.strm),this.onEnd(a),this.ended=!0,0===a):(2===l&&(this.onEnd(0),n.avail_out=0),!0)}onData(i){this.chunks.push(i)}onEnd(i){0===i&&(this.result="string"===this.options.to?this.chunks.join(""):KU(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg}}function zw(s){for(var i=s.length;--i>=0;)s[i]=0}var tm,Hw,$w,Xw,i7,oA,qye,Qye,Zye,f_t=0,$ye=1,m_t=2,__t=3,g_t=258,Iee=29,iA=256,sA=iA+1+Iee,jw=30,xee=19,Xye=2*sA+1,$0=15,Aee=16,v_t=7,Ree=256,Wye=16,Yye=17,Kye=18,Nee=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],n7=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],S_t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Jye=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C_t=512;function Lee(s,i,e,n,o){this.static_tree=s,this.extra_bits=i,this.extra_base=e,this.elems=n,this.max_length=o,this.has_stree=s&&s.length}function Gee(s,i){this.dyn_tree=s,this.max_code=0,this.stat_desc=i}function eke(s){return s<256?$w[s]:$w[256+(s>>>7)]}function rA(s,i){s.pending_buf[s.pending++]=255&i,s.pending_buf[s.pending++]=i>>>8&255}function Zc(s,i,e){s.bi_valid>Aee-e?(s.bi_buf|=i<<s.bi_valid&65535,rA(s,s.bi_buf),s.bi_buf=i>>Aee-s.bi_valid,s.bi_valid+=e-Aee):(s.bi_buf|=i<<s.bi_valid&65535,s.bi_valid+=e)}function nm(s,i,e){Zc(s,e[2*i],e[2*i+1])}function tke(s,i){var e=0;do{e|=1&s,s>>>=1,e<<=1}while(--i>0);return e>>>1}function nke(s,i,e){var r,a,n=new Array($0+1),o=0;for(r=1;r<=$0;r++)n[r]=o=o+e[r-1]<<1;for(a=0;a<=i;a++){var l=s[2*a+1];0!==l&&(s[2*a]=tke(n[l]++,l))}}function ike(s){var i;for(i=0;i<sA;i++)s.dyn_ltree[2*i]=0;for(i=0;i<jw;i++)s.dyn_dtree[2*i]=0;for(i=0;i<xee;i++)s.bl_tree[2*i]=0;s.dyn_ltree[2*Ree]=1,s.opt_len=s.static_len=0,s.last_lit=s.matches=0}function ske(s){s.bi_valid>8?rA(s,s.bi_buf):s.bi_valid>0&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0}function oke(s,i,e,n){var o=2*i,r=2*e;return s[o]<s[r]||s[o]===s[r]&&n[i]<=n[e]}function Pee(s,i,e){for(var n=s.heap[e],o=e<<1;o<=s.heap_len&&(o<s.heap_len&&oke(i,s.heap[o+1],s.heap[o],s.depth)&&o++,!oke(i,n,s.heap[o],s.depth));)s.heap[e]=s.heap[o],e=o,o<<=1;s.heap[e]=n}function rke(s,i,e){var n,o,a,l,r=0;if(0!==s.last_lit)do{n=s.pending_buf[s.d_buf+2*r]<<8|s.pending_buf[s.d_buf+2*r+1],o=s.pending_buf[s.l_buf+r],r++,0===n?nm(s,o,i):(nm(s,(a=Xw[o])+iA+1,i),0!==(l=Nee[a])&&Zc(s,o-=i7[a],l),nm(s,a=eke(--n),e),0!==(l=n7[a])&&Zc(s,n-=oA[a],l))}while(r<s.last_lit);nm(s,Ree,i)}function Fee(s,i){var a,l,u,e=i.dyn_tree,n=i.stat_desc.static_tree,o=i.stat_desc.has_stree,r=i.stat_desc.elems,c=-1;for(s.heap_len=0,s.heap_max=Xye,a=0;a<r;a++)0!==e[2*a]?(s.heap[++s.heap_len]=c=a,s.depth[a]=0):e[2*a+1]=0;for(;s.heap_len<2;)e[2*(u=s.heap[++s.heap_len]=c<2?++c:0)]=1,s.depth[u]=0,s.opt_len--,o&&(s.static_len-=n[2*u+1]);for(i.max_code=c,a=s.heap_len>>1;a>=1;a--)Pee(s,e,a);u=r;do{a=s.heap[1],s.heap[1]=s.heap[s.heap_len--],Pee(s,e,1),l=s.heap[1],s.heap[--s.heap_max]=a,s.heap[--s.heap_max]=l,e[2*u]=e[2*a]+e[2*l],s.depth[u]=(s.depth[a]>=s.depth[l]?s.depth[a]:s.depth[l])+1,e[2*a+1]=e[2*l+1]=u,s.heap[1]=u++,Pee(s,e,1)}while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],function E_t(s,i){var u,f,_,g,S,b,e=i.dyn_tree,n=i.max_code,o=i.stat_desc.static_tree,r=i.stat_desc.has_stree,a=i.stat_desc.extra_bits,l=i.stat_desc.extra_base,c=i.stat_desc.max_length,k=0;for(g=0;g<=$0;g++)s.bl_count[g]=0;for(e[2*s.heap[s.heap_max]+1]=0,u=s.heap_max+1;u<Xye;u++)(g=e[2*e[2*(f=s.heap[u])+1]+1]+1)>c&&(g=c,k++),e[2*f+1]=g,!(f>n)&&(s.bl_count[g]++,S=0,f>=l&&(S=a[f-l]),s.opt_len+=(b=e[2*f])*(g+S),r&&(s.static_len+=b*(o[2*f+1]+S)));if(0!==k){do{for(g=c-1;0===s.bl_count[g];)g--;s.bl_count[g]--,s.bl_count[g+1]+=2,s.bl_count[c]--,k-=2}while(k>0);for(g=c;0!==g;g--)for(f=s.bl_count[g];0!==f;)!((_=s.heap[--u])>n)&&(e[2*_+1]!==g&&(s.opt_len+=(g-e[2*_+1])*e[2*_],e[2*_+1]=g),f--)}}(s,i),nke(e,c,s.bl_count)}function ake(s,i,e){var n,r,o=-1,a=i[1],l=0,c=7,u=4;for(0===a&&(c=138,u=3),i[2*(e+1)+1]=65535,n=0;n<=e;n++)r=a,a=i[2*(n+1)+1],!(++l<c&&r===a)&&(l<u?s.bl_tree[2*r]+=l:0!==r?(r!==o&&s.bl_tree[2*r]++,s.bl_tree[2*Wye]++):l<=10?s.bl_tree[2*Yye]++:s.bl_tree[2*Kye]++,l=0,o=r,0===a?(c=138,u=3):r===a?(c=6,u=3):(c=7,u=4))}function lke(s,i,e){var n,r,o=-1,a=i[1],l=0,c=7,u=4;for(0===a&&(c=138,u=3),n=0;n<=e;n++)if(r=a,a=i[2*(n+1)+1],!(++l<c&&r===a)){if(l<u)do{nm(s,r,s.bl_tree)}while(0!=--l);else 0!==r?(r!==o&&(nm(s,r,s.bl_tree),l--),nm(s,Wye,s.bl_tree),Zc(s,l-3,2)):l<=10?(nm(s,Yye,s.bl_tree),Zc(s,l-3,3)):(nm(s,Kye,s.bl_tree),Zc(s,l-11,7));l=0,o=r,0===a?(c=138,u=3):r===a?(c=6,u=3):(c=7,u=4)}}var cke=!1;function dke(s,i,e,n){Zc(s,(f_t<<1)+(n?1:0),3),function k_t(s,i,e,n){ske(s),n&&(rA(s,e),rA(s,~e)),Hd(s.pending_buf,s.window,i,e,s.pending),s.pending+=e}(s,i,e,!0)}function qv(s,i,e){return s.pending_buf[s.d_buf+2*s.last_lit]=i>>>8&255,s.pending_buf[s.d_buf+2*s.last_lit+1]=255&i,s.pending_buf[s.l_buf+s.last_lit]=255&e,s.last_lit++,0===i?s.dyn_ltree[2*e]++:(s.matches++,i--,s.dyn_ltree[2*(Xw[e]+iA+1)]++,s.dyn_dtree[2*eke(i)]++),s.last_lit===s.lit_bufsize-1}var Ni=3,Qv=258,lp=Qv+Ni+1;function Zv(s,i){return s.msg=H0[i],i}function uke(s){return(s<<1)-(s>4?9:0)}function eS(s){for(var i=s.length;--i>=0;)s[i]=0}function tS(s){var i=s.state,e=i.pending;e>s.avail_out&&(e=s.avail_out),0!==e&&(Hd(s.output,i.pending_buf,i.pending_out,e,s.next_out),s.next_out+=e,i.pending_out+=e,s.total_out+=e,s.avail_out-=e,i.pending-=e,0===i.pending&&(i.pending_out=0))}function Ja(s,i){(function I_t(s,i,e,n){var o,r,a=0;s.level>0?(s.strm.data_type===tye&&(s.strm.data_type=function O_t(s){var e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==s.dyn_ltree[2*e])return ZEe;if(0!==s.dyn_ltree[18]||0!==s.dyn_ltree[20]||0!==s.dyn_ltree[26])return eye;for(e=32;e<iA;e++)if(0!==s.dyn_ltree[2*e])return eye;return ZEe}(s)),Fee(s,s.l_desc),Fee(s,s.d_desc),a=function w_t(s){var i;for(ake(s,s.dyn_ltree,s.l_desc.max_code),ake(s,s.dyn_dtree,s.d_desc.max_code),Fee(s,s.bl_desc),i=xee-1;i>=3&&0===s.bl_tree[2*Jye[i]+1];i--);return s.opt_len+=3*(i+1)+5+5+4,i}(s),(r=s.static_len+3+7>>>3)<=(o=s.opt_len+3+7>>>3)&&(o=r)):o=r=e+5,e+4<=o&&-1!==i?dke(s,i,e,n):s.strategy===QEe||r===o?(Zc(s,($ye<<1)+(n?1:0),3),rke(s,tm,Hw)):(Zc(s,(m_t<<1)+(n?1:0),3),function D_t(s,i,e,n){var o;for(Zc(s,i-257,5),Zc(s,e-1,5),Zc(s,n-4,4),o=0;o<n;o++)Zc(s,s.bl_tree[2*Jye[o]+1],3);lke(s,s.dyn_ltree,i-1),lke(s,s.dyn_dtree,e-1)}(s,s.l_desc.max_code+1,s.d_desc.max_code+1,a+1),rke(s,s.dyn_ltree,s.dyn_dtree)),ike(s),n&&ske(s)})(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,i),s.block_start=s.strstart,tS(s.strm)}function ns(s,i){s.pending_buf[s.pending++]=i}function cA(s,i){s.pending_buf[s.pending++]=i>>>8&255,s.pending_buf[s.pending++]=255&i}function B_t(s,i,e,n){var o=s.avail_in;return o>n&&(o=n),0===o?0:(s.avail_in-=o,Hd(i,s.input,s.next_in,o,e),1===s.state.wrap?s.adler=eA(s.adler,i,o,e):2===s.state.wrap&&(s.adler=ka(s.adler,i,o,e)),s.next_in+=o,s.total_in+=o,o)}function hke(s,i){var o,r,e=s.max_chain_length,n=s.strstart,a=s.prev_length,l=s.nice_match,c=s.strstart>s.w_size-lp?s.strstart-(s.w_size-lp):0,u=s.window,f=s.w_mask,_=s.prev,g=s.strstart+Qv,S=u[n+a-1],b=u[n+a];s.prev_length>=s.good_match&&(e>>=2),l>s.lookahead&&(l=s.lookahead);do{if(u[(o=i)+a]===b&&u[o+a-1]===S&&u[o]===u[n]&&u[++o]===u[n+1]){n+=2,o++;do{}while(u[++n]===u[++o]&&u[++n]===u[++o]&&u[++n]===u[++o]&&u[++n]===u[++o]&&u[++n]===u[++o]&&u[++n]===u[++o]&&u[++n]===u[++o]&&u[++n]===u[++o]&&n<g);if(r=Qv-(g-n),n=g-Qv,r>a){if(s.match_start=i,a=r,r>=l)break;S=u[n+a-1],b=u[n+a]}}}while((i=_[i&f])>c&&0!=--e);return a<=s.lookahead?a:s.lookahead}function Y0(s){var e,n,o,r,a,i=s.w_size;do{if(r=s.window_size-s.lookahead-s.strstart,s.strstart>=i+(i-lp)){Hd(s.window,s.window,i,i,0),s.match_start-=i,s.strstart-=i,s.block_start-=i,e=n=s.hash_size;do{o=s.head[--e],s.head[e]=o>=i?o-i:0}while(--n);e=n=i;do{o=s.prev[--e],s.prev[e]=o>=i?o-i:0}while(--n);r+=i}if(0===s.strm.avail_in)break;if(n=B_t(s.strm,s.window,s.strstart+s.lookahead,r),s.lookahead+=n,s.lookahead+s.insert>=Ni)for(s.ins_h=s.window[a=s.strstart-s.insert],s.ins_h=(s.ins_h<<s.hash_shift^s.window[a+1])&s.hash_mask;s.insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[a+Ni-1])&s.hash_mask,s.prev[a&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=a,a++,s.insert--,!(s.lookahead+s.insert<Ni)););}while(s.lookahead<lp&&0!==s.strm.avail_in)}function V_t(s,i){var e=65535;for(e>s.pending_buf_size-5&&(e=s.pending_buf_size-5);;){if(s.lookahead<=1){if(Y0(s),0===s.lookahead&&0===i)return 1;if(0===s.lookahead)break}s.strstart+=s.lookahead,s.lookahead=0;var n=s.block_start+e;if((0===s.strstart||s.strstart>=n)&&(s.lookahead=s.strstart-n,s.strstart=n,Ja(s,!1),0===s.strm.avail_out)||s.strstart-s.block_start>=s.w_size-lp&&(Ja(s,!1),0===s.strm.avail_out))return 1}return s.insert=0,4===i?(Ja(s,!0),0===s.strm.avail_out?3:4):(s.strstart>s.block_start&&Ja(s,!1),1)}function Vee(s,i){for(var e,n;;){if(s.lookahead<lp){if(Y0(s),s.lookahead<lp&&0===i)return 1;if(0===s.lookahead)break}if(e=0,s.lookahead>=Ni&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+Ni-1])&s.hash_mask,e=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),0!==e&&s.strstart-e<=s.w_size-lp&&(s.match_length=hke(s,e)),s.match_length>=Ni)if(n=qv(s,s.strstart-s.match_start,s.match_length-Ni),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=Ni){s.match_length--;do{s.strstart++,s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+Ni-1])&s.hash_mask,e=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart}while(0!=--s.match_length);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask;else n=qv(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(n&&(Ja(s,!1),0===s.strm.avail_out))return 1}return s.insert=s.strstart<Ni-1?s.strstart:Ni-1,4===i?(Ja(s,!0),0===s.strm.avail_out?3:4):s.last_lit&&(Ja(s,!1),0===s.strm.avail_out)?1:2}function Yw(s,i){for(var e,n,o;;){if(s.lookahead<lp){if(Y0(s),s.lookahead<lp&&0===i)return 1;if(0===s.lookahead)break}if(e=0,s.lookahead>=Ni&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+Ni-1])&s.hash_mask,e=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=Ni-1,0!==e&&s.prev_length<s.max_lazy_match&&s.strstart-e<=s.w_size-lp&&(s.match_length=hke(s,e),s.match_length<=5&&(1===s.strategy||s.match_length===Ni&&s.strstart-s.match_start>4096)&&(s.match_length=Ni-1)),s.prev_length>=Ni&&s.match_length<=s.prev_length){o=s.strstart+s.lookahead-Ni,n=qv(s,s.strstart-1-s.prev_match,s.prev_length-Ni),s.lookahead-=s.prev_length-1,s.prev_length-=2;do{++s.strstart<=o&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+Ni-1])&s.hash_mask,e=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart)}while(0!=--s.prev_length);if(s.match_available=0,s.match_length=Ni-1,s.strstart++,n&&(Ja(s,!1),0===s.strm.avail_out))return 1}else if(s.match_available){if((n=qv(s,0,s.window[s.strstart-1]))&&Ja(s,!1),s.strstart++,s.lookahead--,0===s.strm.avail_out)return 1}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(n=qv(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<Ni-1?s.strstart:Ni-1,4===i?(Ja(s,!0),0===s.strm.avail_out?3:4):s.last_lit&&(Ja(s,!1),0===s.strm.avail_out)?1:2}function im(s,i,e,n,o){this.good_length=s,this.max_lazy=i,this.nice_length=e,this.max_chain=n,this.func=o}let zee=function(){const s=[new im(0,0,0,0,V_t),new im(4,4,8,4,Vee),new im(4,5,16,8,Vee),new im(4,6,32,32,Vee),new im(4,4,16,16,Yw),new im(8,16,32,32,Yw),new im(8,16,128,128,Yw),new im(8,32,128,256,Yw),new im(32,128,258,1024,Yw),new im(32,258,258,4096,Yw)];return zee=()=>s,s};function $_t(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=Qc(1146),this.dyn_dtree=Qc(122),this.bl_tree=Qc(78),eS(this.dyn_ltree),eS(this.dyn_dtree),eS(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=Qc(16),this.heap=Qc(573),eS(this.heap),this.heap_len=0,this.heap_max=0,this.depth=Qc(573),eS(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function W_t(s){var i=function X_t(s){var i;return s&&s.state?(s.total_in=s.total_out=0,s.data_type=tye,(i=s.state).pending=0,i.pending_out=0,i.wrap<0&&(i.wrap=-i.wrap),i.status=i.wrap?42:113,s.adler=2===i.wrap?0:1,i.last_flush=0,function T_t(s){cke||(function y_t(){var s,i,e,n,o,r=new Array($0+1);for(zw(tm=new Array(2*(sA+2))),zw(Hw=new Array(2*jw)),zw($w=new Array(C_t)),zw(Xw=new Array(g_t-__t+1)),zw(i7=new Array(Iee)),zw(oA=new Array(jw)),e=0,n=0;n<Iee-1;n++)for(i7[n]=e,s=0;s<1<<Nee[n];s++)Xw[e++]=n;for(Xw[e-1]=n,o=0,n=0;n<16;n++)for(oA[n]=o,s=0;s<1<<n7[n];s++)$w[o++]=n;for(o>>=7;n<jw;n++)for(oA[n]=o<<7,s=0;s<1<<n7[n]-7;s++)$w[256+o++]=n;for(i=0;i<=$0;i++)r[i]=0;for(s=0;s<=143;)tm[2*s+1]=8,s++,r[8]++;for(;s<=255;)tm[2*s+1]=9,s++,r[9]++;for(;s<=279;)tm[2*s+1]=7,s++,r[7]++;for(;s<=287;)tm[2*s+1]=8,s++,r[8]++;for(nke(tm,sA+1,r),s=0;s<jw;s++)Hw[2*s+1]=5,Hw[2*s]=tke(s,5);qye=new Lee(tm,Nee,iA+1,sA,$0),Qye=new Lee(Hw,n7,0,jw,$0),Zye=new Lee(new Array(0),S_t,0,xee,v_t)}(),cke=!0),s.l_desc=new Gee(s.dyn_ltree,qye),s.d_desc=new Gee(s.dyn_dtree,Qye),s.bl_desc=new Gee(s.bl_tree,Zye),s.bi_buf=0,s.bi_valid=0,ike(s)}(i),0):Zv(s,-2)}(s);return 0===i&&function H_t(s){s.window_size=2*s.w_size,eS(s.head);const i=zee();s.max_lazy_match=i[s.level].max_lazy,s.good_match=i[s.level].good_length,s.nice_match=i[s.level].nice_length,s.max_chain_length=i[s.level].max_chain,s.strstart=0,s.block_start=0,s.lookahead=0,s.insert=0,s.match_length=s.prev_length=Ni-1,s.match_available=0,s.ins_h=0}(s.state),i}function J_t(s,i){var e,n,o,r;if(!s||!s.state||i>5||i<0)return s?Zv(s,-2):-2;if(n=s.state,!s.output||!s.input&&0!==s.avail_in||666===n.status&&4!==i)return Zv(s,0===s.avail_out?-5:-2);if(n.strm=s,e=n.last_flush,n.last_flush=i,42===n.status)if(2===n.wrap)s.adler=0,ns(n,31),ns(n,139),ns(n,8),n.gzhead?(ns(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),ns(n,255&n.gzhead.time),ns(n,n.gzhead.time>>8&255),ns(n,n.gzhead.time>>16&255),ns(n,n.gzhead.time>>24&255),ns(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),ns(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(ns(n,255&n.gzhead.extra.length),ns(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(s.adler=ka(s.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(ns(n,0),ns(n,0),ns(n,0),ns(n,0),ns(n,0),ns(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),ns(n,3),n.status=113);else{var a=8+(n.w_bits-8<<4)<<8;a|=(n.strategy>=2||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(a|=32),a+=31-a%31,n.status=113,cA(n,a),0!==n.strstart&&(cA(n,s.adler>>>16),cA(n,65535&s.adler)),s.adler=1}if(69===n.status)if(n.gzhead.extra){for(o=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>o&&(s.adler=ka(s.adler,n.pending_buf,n.pending-o,o)),tS(s),o=n.pending,n.pending!==n.pending_buf_size));)ns(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>o&&(s.adler=ka(s.adler,n.pending_buf,n.pending-o,o)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(s.adler=ka(s.adler,n.pending_buf,n.pending-o,o)),tS(s),o=n.pending,n.pending===n.pending_buf_size)){r=1;break}r=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,ns(n,r)}while(0!==r);n.gzhead.hcrc&&n.pending>o&&(s.adler=ka(s.adler,n.pending_buf,n.pending-o,o)),0===r&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(s.adler=ka(s.adler,n.pending_buf,n.pending-o,o)),tS(s),o=n.pending,n.pending===n.pending_buf_size)){r=1;break}r=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,ns(n,r)}while(0!==r);n.gzhead.hcrc&&n.pending>o&&(s.adler=ka(s.adler,n.pending_buf,n.pending-o,o)),0===r&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&tS(s),n.pending+2<=n.pending_buf_size&&(ns(n,255&s.adler),ns(n,s.adler>>8&255),s.adler=0,n.status=113)):n.status=113),0!==n.pending){if(tS(s),0===s.avail_out)return n.last_flush=-1,0}else if(0===s.avail_in&&uke(i)<=uke(e)&&4!==i)return Zv(s,-5);if(666===n.status&&0!==s.avail_in)return Zv(s,-5);if(0!==s.avail_in||0!==n.lookahead||0!==i&&666!==n.status){var c=2===n.strategy?function j_t(s,i){for(var e;;){if(0===s.lookahead&&(Y0(s),0===s.lookahead)){if(0===i)return 1;break}if(s.match_length=0,e=qv(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++,e&&(Ja(s,!1),0===s.strm.avail_out))return 1}return s.insert=0,4===i?(Ja(s,!0),0===s.strm.avail_out?3:4):s.last_lit&&(Ja(s,!1),0===s.strm.avail_out)?1:2}(n,i):3===n.strategy?function z_t(s,i){for(var e,n,o,r,a=s.window;;){if(s.lookahead<=Qv){if(Y0(s),s.lookahead<=Qv&&0===i)return 1;if(0===s.lookahead)break}if(s.match_length=0,s.lookahead>=Ni&&s.strstart>0&&(n=a[o=s.strstart-1])===a[++o]&&n===a[++o]&&n===a[++o]){r=s.strstart+Qv;do{}while(n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&o<r);s.match_length=Qv-(r-o),s.match_length>s.lookahead&&(s.match_length=s.lookahead)}if(s.match_length>=Ni?(e=qv(s,1,s.match_length-Ni),s.lookahead-=s.match_length,s.strstart+=s.match_length,s.match_length=0):(e=qv(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++),e&&(Ja(s,!1),0===s.strm.avail_out))return 1}return s.insert=0,4===i?(Ja(s,!0),0===s.strm.avail_out?3:4):s.last_lit&&(Ja(s,!1),0===s.strm.avail_out)?1:2}(n,i):zee()[n.level].func(n,i);if((3===c||4===c)&&(n.status=666),1===c||3===c)return 0===s.avail_out&&(n.last_flush=-1),0;if(2===c&&(1===i?function M_t(s){Zc(s,$ye<<1,3),nm(s,Ree,tm),function b_t(s){16===s.bi_valid?(rA(s,s.bi_buf),s.bi_buf=0,s.bi_valid=0):s.bi_valid>=8&&(s.pending_buf[s.pending++]=255&s.bi_buf,s.bi_buf>>=8,s.bi_valid-=8)}(s)}(n):5!==i&&(dke(n,0,0,!1),3===i&&(eS(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),tS(s),0===s.avail_out))return n.last_flush=-1,0}return 4!==i?0:n.wrap<=0?1:(2===n.wrap?(ns(n,255&s.adler),ns(n,s.adler>>8&255),ns(n,s.adler>>16&255),ns(n,s.adler>>24&255),ns(n,255&s.total_in),ns(n,s.total_in>>8&255),ns(n,s.total_in>>16&255),ns(n,s.total_in>>24&255)):(cA(n,s.adler>>>16),cA(n,65535&s.adler)),tS(s),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?0:1)}var pke=Object.prototype.toString;class fke{constructor(i){this.options=nye({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},i||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Hye,this.strm.avail_out=0;var n=function K_t(s,i,e,n,o,r){if(!s)return-2;var a=1;if(-1===i&&(i=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),o<1||o>9||8!==e||n<8||n>15||i<0||i>9||r<0||r>QEe)return Zv(s,-2);8===n&&(n=9);var l=new $_t;return s.state=l,l.strm=s,l.wrap=a,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+Ni-1)/Ni),l.window=em(2*l.w_size),l.head=Qc(l.hash_size),l.prev=Qc(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=em(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=i,l.strategy=r,l.method=e,W_t(s)}(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==n)throw new Error(H0[n]);if(e.header&&function Y_t(s,i){s&&s.state&&2===s.state.wrap&&(s.state.gzhead=i)}(this.strm,e.header),e.dictionary){var o;if(o="string"==typeof e.dictionary?JU(e.dictionary):"[object ArrayBuffer]"===pke.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=function Q_t(s,i){var n,o,r,a,l,c,u,f,e=i.length;if(!s||!s.state||2===(a=(n=s.state).wrap)||1===a&&42!==n.status||n.lookahead)return-2;for(1===a&&(s.adler=eA(s.adler,i,e,0)),n.wrap=0,e>=n.w_size&&(0===a&&(eS(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=em(n.w_size),Hd(f,i,e-n.w_size,n.w_size,0),i=f,e=n.w_size),l=s.avail_in,c=s.next_in,u=s.input,s.avail_in=e,s.next_in=0,s.input=i,Y0(n);n.lookahead>=Ni;){o=n.strstart,r=n.lookahead-(Ni-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[o+Ni-1])&n.hash_mask,n.prev[o&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=o,o++}while(--r);n.strstart=o,n.lookahead=Ni-1,Y0(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Ni-1,n.match_available=0,s.next_in=c,s.input=u,s.avail_in=l,n.wrap=a,0}(this.strm,o),0!==n)throw new Error(H0[n]);this._dict_set=!0}}push(i,e){var r,a,n=this.strm,o=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,n.input="string"==typeof i?JU(i):"[object ArrayBuffer]"===pke.call(i)?new Uint8Array(i):i,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=em(o),n.next_out=0,n.avail_out=o),1!==(r=J_t(n,a))&&0!==r)return this.onEnd(r),this.ended=!0,!1;(0===n.avail_out||0===n.avail_in&&(4===a||2===a))&&this.onData("string"===this.options.to?Fmt(YU(n.output,n.next_out)):YU(n.output,n.next_out))}while((n.avail_in>0||0===n.avail_out)&&1!==r);return 4===a?(r=function q_t(s){var i;return s&&s.state?42!==(i=s.state.status)&&69!==i&&73!==i&&91!==i&&103!==i&&113!==i&&666!==i?Zv(s,-2):(s.state=null,113===i?Zv(s,-3):0):-2}(this.strm),this.onEnd(r),this.ended=!0,0===r):(2===a&&(this.onEnd(0),n.avail_out=0),!0)}onData(i){this.chunks.push(i)}onEnd(i){0===i&&(this.result="string"===this.options.to?this.chunks.join(""):KU(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg}}const Zu=String.fromCharCode,l7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var Wo={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"};function pg(s,i){s=s.toLowerCase(),Wo[s]=function(){return Wo[i]},Wo[s+"|bold"]=function(){return Wo[i+"|bold"]},Wo[s+"|italic"]=function(){return Wo[i+"|italic"]},Wo[s+"|bold|italic"]=function(){return Wo[i+"|bold|italic"]}}function qw(){let s,i;const e=new Promise((n,o)=>{s=r=>(e._state="resolved",n(r),e),i=r=>(e._state="rejected",o(r),e)});return e._state="pending",e.resolve=s,e.reject=i,e.state=()=>e._state,e}pg("Times New Roman","serif"),pg("Courier New","monospace"),pg("Arial","sans-serif"),pg("Helvetica","sans-serif"),pg("Verdana","sans-serif"),pg("Tahoma","sans-serif"),pg("Georgia","sans-serif"),pg("Monaco","monospace"),pg("Andale Mono","monospace");const Ggt=class Lgt extends ft{constructor(i){super(),this._size=i,this._length=0,this._map={}}put(i,e){const n=this._map,o={key:i,value:e};n[i]=o,this._head?(this._tail.newer=o,o.older=this._tail,this._tail=o):this._head=this._tail=o,this._length>=this._size?(n[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++}get(i){const e=this._map[i];if(e)return e===this._head&&e!==this._tail&&(this._head=e.newer,this._head.older=null),e!==this._tail&&(e.older&&(e.older.newer=e.newer,e.newer.older=e.older),e.older=this._tail,e.newer=null,this._tail.newer=e,this._tail=e),e.value}},Pgt={baselineMarkerSize:1};let Jee;typeof document<"u"&&(Jee=document.createElement("div"),Jee.style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");class qee extends ft{constructor(i){super(),this._cache=new Ggt(1e3),this.options=Object.assign({},Pgt,i)}measure(i,e,n={}){if(typeof i>"u"||null===i)return{width:0,height:0,baseline:0};const r=zve(i+Vve(e)),a=this._cache.get(r);if(a)return a;const l={width:0,height:0,baseline:0},c=n.box||Jee,u=this._baselineMarker().cloneNode(!1);for(let _ in e){let g=e[_];typeof g<"u"&&(c.style[_]=g)}const f=!1!==n.normalizeText?Bve(i):String(i);return c.textContent=f,c.appendChild(u),document.body.appendChild(c),f.length&&(l.width=c.offsetWidth-this.options.baselineMarkerSize,l.height=c.offsetHeight,l.baseline=u.offsetTop+this.options.baselineMarkerSize),l.width>0&&l.height>0&&this._cache.put(r,l),c.parentNode.removeChild(c),l}_baselineMarker(){const i=document.createElement("div");return i.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",i}}qee.current=new qee;const Fgt=qee;function c7(s,i,e){return Fgt.current.measure(s,i,e)}const Vgt={}.toString;class uA extends Hu{constructor(i,e=""){super(),this.prefix=e;for(let n in i){let o=i[n];o=this._wrap(o,n),this[n]=o}}get(i){const e=i.split(".");let n=this;for(;e.length&&n;)n=n[e.shift()];return n}set(i,e){this.get(i)!==e&&(this._set(i,this._wrap(e,i)),this.optionsChange({field:this.prefix+i,value:e}))}_set(i,e){const n=i.indexOf(".")>=0;let o=this,r=i;if(n){const a=r.split(".");let l=this.prefix;for(;a.length>1;){r=a.shift(),l+=r+".";let c=o[r];c||(c=new uA({},l),c.addObserver(this),o[r]=c),o=c}r=a[0]}o._clear(r),o[r]=e}_clear(i){const e=this[i];e&&e.removeObserver&&e.removeObserver(this)}_wrap(i,e){const n=Vgt.call(i);let o=i;return null!==o&&Yt(o)&&"[object Object]"===n&&(!(i instanceof uA)&&!(i instanceof ft)&&(o=new uA(o,this.prefix+e+".")),o.addObserver(this)),o}}const Tke=uA;let zgt=1;function ete(){return"kdef"+zgt++}function Qw(s){return""===s||null===s||"none"===s||"transparent"===s||!Yt(s)}const fg=class jgt extends Hu{get nodeType(){return"Rect"}constructor(i){super(),this._initOptions(i)}_initOptions(i={}){const{clip:e,transform:n}=i;n&&(i.transform=Ui(n)),e&&!e.id&&(e.id=ete()),this.options=new Tke(i),this.options.addObserver(this)}transform(i){if(!Yt(i))return this.options.get("transform");this.options.set("transform",Ui(i))}parentTransform(){let e,i=this;for(;i.parent;){i=i.parent;let n=i.transform();n&&(e=n.matrix().multiplyCopy(e||_a.unit()))}if(e)return Ui(e)}currentTransform(i=this.parentTransform()){const n=_0(this.transform());let r,o=_0(i);if(r=n&&o?o.multiplyCopy(n):n||o,r)return Ui(r)}visible(i){return Yt(i)?(this.options.set("visible",i),this):!1!==this.options.get("visible")}clip(i){const e=this.options;return Yt(i)?(i&&!i.id&&(i.id=ete()),e.set("clip",i),this):e.get("clip")}opacity(i){return Yt(i)?(this.options.set("opacity",i),this):XF(this.options.get("opacity"),1)}className(i){return Yt(i)?(this.options.set("className",i),this):this.options.get("className")}clippedBBox(i){const e=this._clippedBBox(i);if(e){const n=this.clip();return n?On.intersect(e,n.bbox(i)):e}}containsPoint(i,e){if(this.visible()){const n=this.currentTransform(e);let o=i;return n&&(o=i.transformCopy(n.matrix().invert())),this._hasFill()&&this._containsPoint(o)||this._isOnPath&&this._hasStroke()&&this._isOnPath(o)}return!1}_hasFill(){const i=this.options.fill;return i&&!Qw(i.color)}_hasStroke(){const i=this.options.stroke;return i&&i.width>0&&!Qw(i.color)}_clippedBBox(i){return this.bbox(i)}},Zw=s=>class extends s{fill(i,e){const n=this.options;if(Yt(i)){if(i&&"Gradient"!==i.nodeType){const o={color:i};Yt(e)&&(o.opacity=e),n.set("fill",o)}else n.set("fill",i);return this}return n.get("fill")}stroke(i,e,n){return Yt(i)?(this.options.set("stroke.color",i),Yt(e)&&this.options.set("stroke.width",e),Yt(n)&&this.options.set("stroke.opacity",n),this):this.options.get("stroke")}};function $gt(s){const i="_"+s;return function(e){return Yt(e)?(this._observerField(i,Ie.create(e)),this.geometryChange(),this):this[i]}}const d7=(s,i)=>{const e=class extends s{};return function Xgt(s,i){for(let e=0;e<i.length;e++)s[i[e]]=$gt(i[e])}(e.prototype,i),e};class Kgt extends(Zw(d7(fg,["position"]))){get nodeType(){return"Text"}constructor(i,e=new Ie,n={}){super(n),this.content(i),this.position(e),this.options.font||(this.options.font="12px sans-serif"),Yt(this.options.fill)||this.fill("#000")}content(i){return Yt(i)?(this.options.set("content",i),this):this.options.get("content")}measure(){return c7(this.content(),{font:this.options.get("font")})}rect(){const i=this.measure(),e=this.position().clone();return new On(e,[i.width,i.height])}bbox(i){const e=_0(this.currentTransform(i));return this.rect().bbox(e)}rawBBox(){return this.rect().bbox()}_containsPoint(i){return this.rect().containsPoint(i)}}const tte=Kgt,nte=(s,i)=>class extends s{traverse(e){const n=this[i];for(let o=0;o<n.length;o++){let r=n[o];r.traverse?r.traverse(e):e(r)}return this}};function u7(s,i,e){let n;for(let o=0;o<s.length;o++){let r=s[o];if(r.visible()){let a=i?r.bbox(e):r.rawBBox();a&&(n=n?On.union(n,a):a)}}return n}function Mke(s,i){let e;for(let n=0;n<s.length;n++){let o=s[n];if(o.visible()){let r=o.clippedBBox(i);r&&(e=e?On.union(e,r):r)}}return e}class Jgt extends(nte(fg,"children")){get nodeType(){return"Group"}constructor(i){super(i),this.children=[]}childrenChange(i,e,n){this.trigger("childrenChange",{action:i,items:e,index:n})}append(){return ux(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this}insert(i,e){return this.children.splice(i,0,e),e.parent=this,this.childrenChange("add",[e],i),this}insertAt(i,e){return this.insert(e,i)}remove(i){const e=this.children.indexOf(i);return e>=0&&(this.children.splice(e,1),i.parent=null,this.childrenChange("remove",[i],e)),this}removeAt(i){if(0<=i&&i<this.children.length){let e=this.children[i];this.children.splice(i,1),e.parent=null,this.childrenChange("remove",[e],i)}return this}clear(){const i=this.children;return this.children=[],this._reparent(i,null),this.childrenChange("remove",i,0),this}bbox(i){return u7(this.children,!0,this.currentTransform(i))}rawBBox(){return u7(this.children,!1)}_clippedBBox(i){return Mke(this.children,this.currentTransform(i))}currentTransform(i){return fg.prototype.currentTransform.call(this,i)||null}containsPoint(i,e){if(this.visible()){const n=this.children,o=this.currentTransform(e);for(let r=0;r<n.length;r++)if(n[r].containsPoint(i,o))return!0}return!1}_reparent(i,e){for(let n=0;n<i.length;n++){const o=i[n],r=o.parent;r&&r!==this&&r.remove&&r.remove(o),o.parent=e}}}const Vn=Jgt,qgt=[].push,Qgt=[].pop,Zgt=[].splice,e1t=[].shift,Ike=[].slice,t1t=[].unshift,xke=class n1t extends Hu{constructor(i=[]){super(),this.length=0,this._splice(0,i.length,i)}elements(i){return i?(this._splice(0,this.length,i),this._change(),this):this.slice(0)}push(){const i=arguments,e=qgt.apply(this,i);return this._add(i),e}slice(){return Ike.call(this)}pop(){const i=this.length,e=Qgt.apply(this);return i&&this._remove([e]),e}splice(i,e){const n=Ike.call(arguments,2),o=this._splice(i,e,n);return this._change(),o}shift(){const i=this.length,e=e1t.apply(this);return i&&this._remove([e]),e}unshift(){const i=arguments,e=t1t.apply(this,i);return this._add(i),e}indexOf(i){const e=this.length;for(let n=0;n<e;n++)if(this[n]===i)return n;return-1}_splice(i,e,n){const o=Zgt.apply(this,[i,e].concat(n));return this._clearObserver(o),this._setObserver(n),o}_add(i){this._setObserver(i),this._change()}_remove(i){this._clearObserver(i),this._change()}_setObserver(i){for(let e=0;e<i.length;e++)i[e].addObserver(this)}_clearObserver(i){for(let e=0;e<i.length;e++)i[e].removeObserver(this)}_change(){}},Ake=class i1t extends xke{_change(){this.geometryChange()}};function Rke(s,i,e){const n=Av(Math.atan2(i.y-s.y,i.x-s.x));return e.transformCopy(Ui().rotate(-n,s)).x<s.x}function h7(s,i,e){const n=1-s;return Math.pow(n,3)*e[0][i]+3*Math.pow(n,2)*s*e[1][i]+3*Math.pow(s,2)*n*e[2][i]+Math.pow(s,3)*e[3][i]}function Nke(s,i){return[3*s[1][i]-s[0][i]-3*s[2][i]+s[3][i],3*(s[0][i]-2*s[1][i]+s[2][i]),3*(-s[0][i]+s[1][i]),s[0][i]]}class nS extends ft{constructor(i=0,e=0){super(),this.real=i,this.img=e}add(i){return new nS(Ts(this.real+i.real,cg),Ts(this.img+i.img,cg))}addConstant(i){return new nS(this.real+i,this.img)}negate(){return new nS(-this.real,-this.img)}multiply(i){return new nS(this.real*i.real-this.img*i.img,this.real*i.img+this.img*i.real)}multiplyConstant(i){return new nS(this.real*i,this.img*i)}nthRoot(i){const e=Math.atan2(this.img,this.real),n=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2)),o=Math.pow(n,1/i);return new nS(o*Math.cos(e/i),o*Math.sin(e/i))}equals(i){return this.real===i.real&&this.img===i.img}isReal(){return 0===this.img}}const hA=nS;function Lke(s){return s<0?-1:1}function Gke(s,i,e,n){if(0===s)return function s1t(s,i,e){const n=Math.sqrt(Math.pow(i,2)-4*s*e);return[(-i+n)/(2*s),(-i-n)/(2*s)]}(i,e,n);const o=(3*s*e-Math.pow(i,2))/(3*Math.pow(s,2)),r=(2*Math.pow(i,3)-9*s*i*e+27*Math.pow(s,2)*n)/(27*Math.pow(s,3)),a=Math.pow(o/3,3)+Math.pow(r/2,2),l=new hA(0,1),c=-i/(3*s);let u,f,_,g,S,b,k;a<0?(u=new hA(-r/2,Math.sqrt(-a)).nthRoot(3),f=new hA(-r/2,-Math.sqrt(-a)).nthRoot(3)):(u=-r/2+Math.sqrt(a),u=new hA(Lke(u)*Math.pow(Math.abs(u),1/3)),f=-r/2-Math.sqrt(a),f=new hA(Lke(f)*Math.pow(Math.abs(f),1/3))),_=u.add(f),b=u.add(f).multiplyConstant(-.5),k=u.add(f.negate()).multiplyConstant(Math.sqrt(3)/2),g=b.add(l.multiply(k)),S=b.add(l.negate().multiply(k));const D=[];return _.isReal()&&D.push(Ts(_.real+c,cg)),g.isReal()&&D.push(Ts(g.real+c,cg)),S.isReal()&&D.push(Ts(S.real+c,cg)),D}function p7(s,i,e,n,o){const r=Nke(s,n),a=Gke(r[0],r[1],r[2],r[3]-i[n]);let l;for(let c=0;c<a.length;c++)if(0<=a[c]&&a[c]<=1&&(l=h7(a[c],e,s),Math.abs(l-i[e])<=o))return!0}function Pke(s,i,e){let n;if(s.x!==i.x){const o=Math.min(s.x,i.x),r=Math.max(s.x,i.x),a=Math.min(s.y,i.y),l=Math.max(s.y,i.y),c=o<=e.x&&e.x<r;n=a===l?e.y<=a&&c:c&&(l-a)*((s.x-i.x)*(s.y-i.y)>0?e.x-o:r-e.x)/(r-o)+a-e.y>=0}return n?1:0}const r1t=["anchor","controlIn","controlOut"];class a1t extends(d7(Hu,r1t)){constructor(i,e,n){super(),this.anchor(i||new Ie),this.controlIn(e),this.controlOut(n)}bboxTo(i,e){const n=this.anchor().transformCopy(e),o=i.anchor().transformCopy(e);let r;return r=this.controlOut()&&i.controlIn()?this._curveBoundingBox(n,this.controlOut().transformCopy(e),i.controlIn().transformCopy(e),o):this._lineBoundingBox(n,o),r}_lineBoundingBox(i,e){return On.fromPoints(i,e)}_curveBoundingBox(i,e,n,o){const r=[i,e,n,o],a=this._curveExtremesFor(r,"x"),l=this._curveExtremesFor(r,"y"),c=Fke([a.min,a.max,i.x,o.x]),u=Fke([l.min,l.max,i.y,o.y]);return On.fromPoints(new Ie(c.min,u.min),new Ie(c.max,u.max))}_curveExtremesFor(i,e){const n=this._curveExtremes(i[0][e],i[1][e],i[2][e],i[3][e]);return{min:h7(n.min,e,i),max:h7(n.max,e,i)}}_curveExtremes(i,e,n,o){const r=i-3*e+3*n-o,a=-2*(i-2*e+n),l=i-e,c=Math.sqrt(a*a-4*r*l);let u=0,f=1;0===r?0!==a&&(u=f=-l/a):isNaN(c)||(u=(-a+c)/(2*r),f=(-a-c)/(2*r));let _=Math.max(Math.min(u,f),0);(_<0||_>1)&&(_=0);let g=Math.min(Math.max(u,f),1);return(g>1||g<0)&&(g=1),{min:_,max:g}}_intersectionsTo(i,e){let n;return n=this.controlOut()&&i.controlIn()?function o1t(s,i,e){const n=Nke(s,"x"),o=Gke(n[0],n[1],n[2],n[3]-i.x);let r,a,l=0;for(let c=0;c<o.length;c++)r=h7(o[c],"y",s),a=jEe(r,i.y)||r>i.y,a&&((0===o[c]||1===o[c])&&e.bottomRight().x>i.x||0<o[c]&&o[c]<1)&&l++;return l}([this.anchor(),this.controlOut(),i.controlIn(),i.anchor()],e,this.bboxTo(i)):Pke(this.anchor(),i.anchor(),e),n}_isOnCurveTo(i,e,n,o){if(this.bboxTo(i).expand(n,n).containsPoint(e)){const a=this.anchor(),l=this.controlOut(),c=i.controlIn(),u=i.anchor();if("start"===o&&a.distanceTo(e)<=n)return!Rke(a,l,e);if("end"===o&&u.distanceTo(e)<=n)return!Rke(u,c,e);const f=[a,l,c,u];if(p7(f,e,"x","y",n)||p7(f,e,"y","x",n))return!0;const _=Ui().rotate(45,e),g=[a.transformCopy(_),l.transformCopy(_),c.transformCopy(_),u.transformCopy(_)];return p7(g,e,"x","y",n)||p7(g,e,"y","x",n)}}_isOnLineTo(i,e,n){const o=this.anchor(),r=i.anchor(),a=Av(Math.atan2(r.y-o.y,r.x-o.x));return new On([o.x,o.y-n/2],[o.distanceTo(r),n]).containsPoint(e.transformCopy(Ui().rotate(-a,o)))}_isOnPathTo(i,e,n,o){let r;return r=this.controlOut()&&i.controlIn()?this._isOnCurveTo(i,e,n/2,o):this._isOnLineTo(i,e,n),r}}function Fke(s){let i=s.length,e=cx,n=dx;for(let o=0;o<i;o++)n=Math.max(n,s[o]),e=Math.min(e,s[o]);return{min:e,max:n}}const qa=a1t,Uke=.333,l1t=.01,eh="x",th="y";function Vke(s,i){for(;i[s+1]&&(i[s].equals(i[s+1])||i[s+1].equals(i[s+2]));)i.splice(s+1,1)}function zke(s,i){const e=(i.y-s.y)/(i.x-s.x);return[s.y-e*s.x,e]}function ite(s,i,e){let l,n=eh,o=th,r=!1,a=!1;if(function d1t(s,i,e){const o=Xke(zke(s,i),e.x);return s.x===i.x&&i.x===e.x||Ts(o,1)===Ts(e.y,1)}(s,i,e))l=pA(s,i,eh,th);else{const f={x:Hke(s,i,e,eh),y:Hke(s,i,e,th)};if(f.x&&f.y)l=pA(s,e,eh,th),r=!0;else if(function c1t(s,i,e){let n=!1;if(s.x===i.x)n=!0;else if(i.x===e.x)(i.y<e.y&&s.y<=i.y||e.y<i.y&&i.y<=s.y)&&(n=!0);else{const r=Xke(zke(s,i),e.x);s.y<=i.y&&e.y<=r||i.y<=s.y&&e.y>=r||(n=!0)}return n}(s,i,e)&&(n=th,o=eh),f[n])l=0;else{let _;_=e[o]<s[o]&&s[o]<=i[o]||s[o]<e[o]&&i[o]<=s[o]?Wke((e[o]-s[o])*(i[n]-s[n])):-Wke((e[n]-s[n])*(i[o]-s[o])),l=l1t*_,a=!0}}const c=ote(l,s,i,n,o);if(a){const f=n;n=o,o=f}const u=ste(l,i,e,n,o);return r&&(jke(s,i,c,l),jke(i,e,u,l)),[c,u]}function jke(s,i,e,n){s.y<i.y?i.y<e.y?(e.x=s.x+(i.y-s.y)/n,e.y=i.y):e.y<s.y&&(e.x=i.x-(i.y-s.y)/n,e.y=s.y):e.y<i.y?(e.x=s.x-(s.y-i.y)/n,e.y=i.y):s.y<e.y&&(e.x=i.x+(s.y-i.y)/n,e.y=s.y)}function pA(s,i,e,n){const o=i[e]-s[e];let a;return a=0===o?0:(i[n]-s[n])/o,a}function Hke(s,i,e,n){return e[n]>i[n]&&i[n]>s[n]||e[n]<i[n]&&i[n]<s[n]}function ste(s,i,e,n,o){const r=i[n],l=(e[n]-r)*Uke;return $ke(r+l,i[o]+l*s,n,o)}function ote(s,i,e,n,o){const a=e[n],l=(a-i[n])*Uke;return $ke(a-l,e[o]-l*s,n,o)}function $ke(s,i,e,n){const o=new Ie;return o[e]=s,o[n]=i,o}function Xke(s,i){const e=s.length;let n=0;for(let o=0;o<e;o++)n+=Math.pow(i,o)*s[o];return n}function Wke(s){return s<=0?-1:1}const u1t=_a.IDENTITY.toString(),fA=s=>class extends s{bbox(i){const e=_0(this.currentTransform(i)),n=e?e.toString():u1t;let o;this._bboxCache&&this._matrixHash===n?o=this._bboxCache.clone():(o=this._bbox(e),this._bboxCache=o?o.clone():null,this._matrixHash=n);const r=this.options.get("stroke.width");return r&&o&&o.expand(r/2),o}geometryChange(){delete this._bboxCache,this.trigger("geometryChange",{element:this})}},h1t={l:function(s,i){const{parameters:e,position:n}=i;for(let o=0;o<e.length;o+=2){let r=new Ie(e[o],e[o+1]);i.isRelative&&r.translateWith(n),s.lineTo(r.x,r.y),n.x=r.x,n.y=r.y}},c:function(s,i){const{parameters:e,position:n}=i;for(let o=0;o<e.length;o+=6){let r=new Ie(e[o],e[o+1]),a=new Ie(e[o+2],e[o+3]),l=new Ie(e[o+4],e[o+5]);i.isRelative&&(a.translateWith(n),r.translateWith(n),l.translateWith(n)),s.curveTo(r,a,l),n.x=l.x,n.y=l.y}},v:function(s,i){Yke(i.parameters,!0,i.isRelative?0:i.position.x),this.l(s,i)},h:function(s,i){Yke(i.parameters,!1,i.isRelative?0:i.position.y),this.l(s,i)},a:function(s,i){const{parameters:e,position:n}=i;for(let o=0;o<e.length;o+=7){const r=e[o],a=e[o+1],l=e[o+2],c=e[o+3],u=e[o+4],f=new Ie(e[o+5],e[o+6]);i.isRelative&&f.translateWith(n),(n.x!==f.x||n.y!==f.y)&&(s.arcTo(f,r,a,c,u,l),n.x=f.x,n.y=f.y)}},s:function(s,i){const{parameters:e,position:n,previousCommand:o}=i;let r;("s"===o||"c"===o)&&(r=ga(ga(s.paths).segments).controlIn());for(let a=0;a<e.length;a+=4){let u,l=new Ie(e[a],e[a+1]),c=new Ie(e[a+2],e[a+3]);i.isRelative&&(l.translateWith(n),c.translateWith(n)),u=r?Kke(r,n):n.clone(),r=l,s.curveTo(u,l,c),n.x=c.x,n.y=c.y}},q:function(s,i){const{parameters:e,position:n}=i;for(let o=0;o<e.length;o+=4){let r=new Ie(e[o],e[o+1]),a=new Ie(e[o+2],e[o+3]);i.isRelative&&(r.translateWith(n),a.translateWith(n));let l=qke(n,r,a);s.curveTo(l.controlOut,l.controlIn,a),n.x=a.x,n.y=a.y}},t:function(s,i){const{parameters:e,position:n,previousCommand:o}=i;let r;("q"===o||"t"===o)&&(r=ga(ga(s.paths).segments).controlIn().clone().translateWith(n.scaleCopy(-1/3)).scale(1.5));for(let a=0;a<e.length;a+=2){let l=new Ie(e[a],e[a+1]);i.isRelative&&l.translateWith(n),r=r?Kke(r,n):n.clone();let c=qke(n,r,l);s.curveTo(c.controlOut,c.controlIn,l),n.x=l.x,n.y=l.y}}};function Yke(s,i,e){const n=i?0:1;for(let o=0;o<s.length;o+=2)s.splice(o+n,0,e)}function Kke(s,i){if(s&&i)return i.scaleCopy(2).translate(-s.x,-s.y)}const Jke=1/3;function qke(s,i,e){const n=i.clone().scale(.6666666666666666);return{controlOut:n.clone().translateWith(s.scaleCopy(Jke)),controlIn:n.translateWith(e.scaleCopy(Jke))}}const Qke=h1t,p1t=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,f1t=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g,C1t=(s,i)=>s.controlOut()&&i.controlIn()?"C":"L";class ct extends(Zw(fA(fg))){get nodeType(){return"Path"}constructor(i){super(i),this.segments=new Ake,this.segments.addObserver(this),Yt(this.options.stroke)||(this.stroke("#000"),Yt(this.options.stroke.lineJoin)||this.options.set("stroke.lineJoin","miter"))}moveTo(i,e){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(i,e),this}lineTo(i,e){const n=Yt(e)?new Ie(i,e):i,o=new qa(n);return this.segments.push(o),this}curveTo(i,e,n){if(this.segments.length>0){const o=ga(this.segments),r=new qa(n,e);this.suspend(),o.controlOut(i),this.resume(),this.segments.push(r)}return this}arc(i,e,n,o,r){if(this.segments.length>0){const l=ga(this.segments).anchor(),c=Ff(i),u=new Ie(l.x-n*Math.cos(c),l.y-o*Math.sin(c)),f=new dg(u,{startAngle:i,endAngle:e,radiusX:n,radiusY:o,anticlockwise:r});this._addArcSegments(f)}return this}arcTo(i,e,n,o,r,a){if(this.segments.length>0){const c=ga(this.segments).anchor(),u=dg.fromPoints(c,Ie.create(i),e,n,o,r,a);this._addArcSegments(u)}return this}_addArcSegments(i){this.suspend();const e=i.curvePoints();for(let n=1;n<e.length;n+=3)this.curveTo(e[n],e[n+1],e[n+2]);this.resume(),this.geometryChange()}close(){return this.options.closed=!0,this.geometryChange(),this}rawBBox(){return this._bbox()}toString(i){let e="";const n=this.segments,o=n.length;if(o>0){const r=[],a=(s=>(...i)=>i.map(e=>e.toString(s)).join(" "))(i);let l;for(let c=1;c<o;c++){let u=C1t(n[c-1],n[c]);u!==l&&(l=u,r.push(u)),r.push("L"===u?a(n[c].anchor()):a(n[c-1].controlOut(),n[c].controlIn(),n[c].anchor()))}e="M"+a(n[0].anchor())+" "+r.join(" "),this.options.closed&&(e+="Z")}return e}_containsPoint(i){const e=this.segments,n=e.length;let r,a,o=0;for(let l=1;l<n;l++)r=e[l-1],a=e[l],o+=r._intersectionsTo(a,i);return(this.options.closed||!e[0].anchor().equals(e[n-1].anchor()))&&(o+=Pke(e[0].anchor(),e[n-1].anchor(),i)),o%2!=0}_isOnPath(i,e){const n=this.segments,o=n.length,r=e||this.options.stroke.width;if(o>1){if(n[0]._isOnPathTo(n[1],i,r,"start"))return!0;for(let a=2;a<=o-2;a++)if(n[a-1]._isOnPathTo(n[a],i,r))return!0;if(n[o-2]._isOnPathTo(n[o-1],i,r,"end"))return!0}return!1}_bbox(i){const e=this.segments,n=e.length;let o;if(1===n){let r=e[0].anchor().transformCopy(i);o=new On(r,v0.ZERO)}else if(n>0)for(let r=1;r<n;r++){let a=e[r-1].bboxTo(e[r],i);o=o?On.union(o,a):a}return o}static parse(i,e){return ed.parse(i,e)}static fromRect(i,e){const n=new ct(e);let[o,r]=i.cornerRadius;if(0===o&&0===r)n.moveTo(i.topLeft()).lineTo(i.topRight()).lineTo(i.bottomRight()).lineTo(i.bottomLeft()).close();else{const a=i.origin,{x:l,y:c}=a,u=i.width(),f=i.height();o=$F(o,0,u/2),r=$F(r,0,f/2),n.moveTo(l+o,c).lineTo(l+u-o,c).arcTo([l+u,c+r],o,r,!1).lineTo(l+u,c+f-r).arcTo([l+u-o,c+f],o,r,!1).lineTo(l+o,c+f).arcTo([l,c+f-r],o,r,!1).lineTo(l,c+r).arcTo([l+o,c],o,r,!1)}return n}static fromPoints(i,e){if(i){const n=new ct(e);for(let o=0;o<i.length;o++){let r=Ie.create(i[o]);r&&(0===o?n.moveTo(r):n.lineTo(r))}return n}}static curveFromPoints(i,e){if(i){const n=function Bke(s,i){const e=s.slice(0),n=[];let o=e.length;if(o>2&&(Vke(0,e),o=e.length),o<2||2===o&&e[0].equals(e[1]))return n;let c,u,r=e[0],a=e[1],l=e[2];for(n.push(new qa(r));r.equals(e[o-1]);)i=!0,e.pop(),o--;if(2===o){const _=pA(r,a,eh,th);return ga(n).controlOut(ste(_,r,a,eh,th)),n.push(new qa(a,ote(_,r,a,eh,th))),n}if(i){r=e[o-1],a=e[0],l=e[1];const _=ite(r,a,l);c=_[1],u=_[0]}else c=ste(pA(r,a,eh,th),r,a,eh,th);let f=c;for(let _=0;_<=o-3;_++)if(Vke(_,e),o=e.length,_+3<=o){r=e[_],a=e[_+1],l=e[_+2];const g=ite(r,a,l);ga(n).controlOut(f),f=g[1],n.push(new qa(a,g[0]))}if(i){r=e[o-2],a=e[o-1],l=e[0];const _=ite(r,a,l);ga(n).controlOut(f),n.push(new qa(a,_[0])),ga(n).controlOut(_[1]),n.push(new qa(l,u))}else{const _=pA(a,l,eh,th);ga(n).controlOut(f),n.push(new qa(l,ote(_,a,l,eh,th)))}return n}(i),o=new ct(e);return o.segments.push.apply(o.segments,n),o}}static fromArc(i,e){const n=new ct(e),o=i.startAngle,r=i.pointAt(o);return n.moveTo(r.x,r.y),n.arc(o,i.endAngle,i.radiusX,i.radiusY,i.anticlockwise),n}}class ed extends(Zw(fA(fg))){static parse(i,e){return function g1t(s,i){const e=new Ie;let n;return i.replace(p1t,(o,r,a,l)=>{let c=r.toLowerCase();const u=c===r,f=function _1t(s){const i=[];return s.replace(f1t,function(e,n){i.push(parseFloat(n))}),i}(a.trim());if("m"===c&&(u?(e.x+=f[0],e.y+=f[1]):(e.x=f[0],e.y=f[1]),s.moveTo(e.x,e.y),f.length>2&&(c="l",f.splice(0,2))),Qke[c])Qke[c](s,{parameters:f,position:e,isRelative:u,previousCommand:n}),l&&"z"===l.toLowerCase()&&s.close();else if("m"!==c)throw new Error("Error while parsing SVG path. Unsupported command: "+c);n=c}),s}(new ed(e),i)}toString(i){const e=this.paths;let n="";if(e.length>0){const o=[];for(let r=0;r<e.length;r++)o.push(e[r].toString(i));n=o.join(" ")}return n}get nodeType(){return"MultiPath"}constructor(i){super(i),this.paths=new Ake,this.paths.addObserver(this),Yt(this.options.stroke)||this.stroke("#000")}moveTo(i,e){const n=new ct;return n.moveTo(i,e),this.paths.push(n),this}lineTo(i,e){return this.paths.length>0&&ga(this.paths).lineTo(i,e),this}curveTo(i,e,n){return this.paths.length>0&&ga(this.paths).curveTo(i,e,n),this}arc(i,e,n,o,r){return this.paths.length>0&&ga(this.paths).arc(i,e,n,o,r),this}arcTo(i,e,n,o,r,a){return this.paths.length>0&&ga(this.paths).arcTo(i,e,n,o,r,a),this}close(){return this.paths.length>0&&ga(this.paths).close(),this}_bbox(i){return u7(this.paths,!0,i)}rawBBox(){return u7(this.paths,!1)}_containsPoint(i){const e=this.paths;for(let n=0;n<e.length;n++)if(e[n]._containsPoint(i))return!0;return!1}_isOnPath(i){const e=this.paths,n=this.options.stroke.width;for(let o=0;o<e.length;o++)if(e[o]._isOnPath(i,n))return!0;return!1}_clippedBBox(i){return Mke(this.paths,this.currentTransform(i))}}function b1t(s){const i="_"+s;return function(e){return Yt(e)?(this._observerField(i,e),this.geometryChange(),this):this[i]}}const m7=(s,i=["geometry"])=>{const e=class extends s{};return function E1t(s,i){for(let e=0;e<i.length;e++)s[i[e]]=b1t(i[e])}(e.prototype,i),e};class y1t extends(m7(fg,["rect"])){get nodeType(){return"Image"}constructor(i,e=new On,n={}){super(n),this.src(i),this.rect(e)}src(i){return Yt(i)?(this.options.set("src",i),this):this.options.get("src")}bbox(i){const e=_0(this.currentTransform(i));return this._rect.bbox(e)}rawBBox(){return this._rect.bbox()}_containsPoint(i){return this._rect.containsPoint(i)}_hasFill(){return this.src()}}const rte=y1t,w1t=class k1t extends xke{_change(){this.optionsChange({field:"stops"})}};function D1t(s){return function(i){return Yt(i)?(this.options.set(s,i),this):this.options.get(s)}}const M1t=["offset","color","opacity"];class mA extends(((s,i)=>{const e=class extends s{};return function O1t(s,i){for(let e=0;e<i.length;e++)s[i[e]]=D1t(i[e])}(e.prototype,i),e})(Hu,M1t)){constructor(i,e,n){super(),this.options=new Tke({offset:i,color:e,opacity:Yt(n)?n:1}),this.options.addObserver(this)}static create(i){if(Yt(i)){let e;return e=i instanceof mA?i:i.length>1?new mA(i[0],i[1],i[2]):new mA(i.offset,i.color,i.opacity),e}}}const ewe=mA,_A=class I1t extends Hu{get nodeType(){return"Gradient"}constructor(i={}){super(),this.stops=new w1t(this._createStops(i.stops)),this.stops.addObserver(this),this._userSpace=i.userSpace,this.id=ete()}userSpace(i){return Yt(i)?(this._userSpace=i,this.optionsChange(),this):this._userSpace}_createStops(i=[]){const e=[];for(let n=0;n<i.length;n++)e.push(ewe.create(i[n]));return e}addStop(i,e,n){this.stops.push(new ewe(i,e,n))}removeStop(i){const e=this.stops.indexOf(i);e>=0&&this.stops.splice(e,1)}optionsChange(i){this.trigger("optionsChange",{field:"gradient"+(i?"."+i.field:""),value:this})}geometryChange(){this.optionsChange()}},x1t=["start","end"];class A1t extends(d7(_A,x1t)){constructor(i={}){super(i),this.start(i.start||new Ie),this.end(i.end||new Ie(1,0))}}const _7=A1t;Zw(fA(m7(fg)));class G1t extends(Zw(fA(m7(fg)))){get nodeType(){return"Circle"}constructor(i=new Cl,e={}){super(e),this.geometry(i),Yt(this.options.stroke)||this.stroke("#000")}rawBBox(){return this._geometry.bbox()}_bbox(i){return this._geometry.bbox(i)}_containsPoint(i){return this.geometry().containsPoint(i)}_isOnPath(i){return this.geometry()._isOnPath(i,this.options.stroke.width/2)}}const Xd=G1t;var Tn={};Tn._root=Tn,typeof Element<"u"&&Element.prototype&&Element,typeof window<"u"&&window.kendo&&window;class lvt extends(d7(_A,["center"])){constructor(i={}){super(i),this.center(i.center||new Ie),this._radius=Yt(i.radius)?i.radius:1,this._fallbackFill=i.fallbackFill}radius(i){return Yt(i)?(this._radius=i,this.geometryChange(),this):this._radius}fallbackFill(i){return Yt(i)?(this._fallbackFill=i,this.optionsChange(),this):this._fallbackFill}}const C7=lvt;function Kd(s,i,e={}){let n=Tvt;if(e.forceProxy&&!e.proxyURL)throw new Error("No proxyURL is set, but forceProxy is true");e.forceProxy||(wvt()&&(n=Ovt),navigator.msSaveBlob&&(n=Dvt)),n(s,i,e)}const Twe=()=>document.createElement("a"),wvt=()=>"download"in Twe();function Dvt(s,i){let e=s;if("string"==typeof s){const n=s.split(";base64,"),o=n[0],r=atob(n[1]),a=new Uint8Array(r.length);for(let l=0;l<r.length;l++)a[l]=r.charCodeAt(l);e=new Blob([a.buffer],{type:o})}navigator.msSaveBlob(e,i)}function Ovt(s,i){let e=s;window.Blob&&s instanceof Blob&&(e=URL.createObjectURL(s));const n=Twe();n.download=i,n.href=e;const o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(o),setTimeout(()=>URL.revokeObjectURL(e))}function Tvt(s,i,e){if(!e.proxyURL)return;const n=document.createElement("form");n.setAttribute("action",e.proxyURL),n.setAttribute("method","POST"),n.setAttribute("target",e.proxyTarget||"_self");const o=e.proxyData||{};o.fileName=i;const r=s.split(";base64,");o.contentType=r[0].replace("data:",""),o.base64=r[1];for(let a in o)if(o.hasOwnProperty(a)){const l=document.createElement("input");l.setAttribute("type","hidden"),l.setAttribute("name",a),l.setAttribute("value",o[a]),n.appendChild(l)}document.body.appendChild(n),n.submit(),document.body.removeChild(n)}let Rvt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({}),s})(),xwe={toString:s=>s};const Awe=class Nvt{static register(i){xwe=i}static toString(i,e){return xwe.toString(i,e)}};function om(s,i){return s.reduce((e,n,o)=>{const r=i(n,o);return null!=r&&e.push(r),e},[])}var rm={Promise};const Za={base64:!0,array:!0,string:!0,nodebuffer:!1,nodestream:!1,get arraybuffer(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"},get uint8array(){return typeof Uint8Array<"u"},get blob(){return Gwe()}};let Gwe=function(){let s;if(typeof ArrayBuffer>"u")s=!1;else{const i=new ArrayBuffer(0);try{s=0===new Blob([i],{type:"application/zip"}).size}catch{s=!1}}return Gwe=()=>s,s};const am="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function y7(s){return s}function Ete(s,i){for(var e=0;e<s.length;++e)i[e]=255&s.charCodeAt(e);return i}function $vt(s,i,e){var n=[],o=0,r=s.length;if(r<=e)return String.fromCharCode.apply(null,s);for(;o<r;)n.push(String.fromCharCode.apply(null,"array"===i?s.slice(o,Math.min(o+e,r)):s.subarray(o,Math.min(o+e,r)))),o+=e;return n.join("")}let Pwe=()=>{let s;try{s=Za.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch{s=!1}return Pwe=()=>s,s};function k7(s){var i=65536,e=Z0(s),n=!0;if("uint8array"===e&&(n=Pwe()),n)for(;i>1;)try{return $vt(s,e,i)}catch{i=Math.floor(i/2)}return function Xvt(s){for(var i="",e=0;e<s.length;e++)i+=String.fromCharCode(s[e]);return i}(s)}const Wvt=k7;function Fwe(s,i){for(var e=0;e<s.length;e++)i[e]=s[e];return i}var Uwe={string:{string:y7,array:function(s){return Ete(s,new Array(s.length))},arraybuffer:function(s){return Uwe.string.uint8array(s).buffer},uint8array:function(s){return Ete(s,new Uint8Array(s.length))}},array:{string:k7,array:y7,arraybuffer:function(s){return new Uint8Array(s).buffer},uint8array:function(s){return new Uint8Array(s)}},arraybuffer:{string:function(s){return k7(new Uint8Array(s))},array:function(s){return Fwe(new Uint8Array(s),new Array(s.byteLength))},arraybuffer:y7,uint8array:function(s){return new Uint8Array(s)}},uint8array:{string:k7,array:function(s){return Fwe(s,new Array(s.length))},arraybuffer:function(s){return s.buffer},uint8array:y7}};const Zr=function(s,i){if(i||(i=""),!s)return i;OA(s);var e=Z0(i);return Uwe[e][s](i)},Z0=function(s){return"string"==typeof s?"string":"[object Array]"===Object.prototype.toString.call(s)?"array":Za.uint8array&&s instanceof Uint8Array?"uint8array":Za.arraybuffer&&s instanceof ArrayBuffer?"arraybuffer":void 0},OA=function(s){if(!Za[s.toLowerCase()])throw new Error(s+" is not supported by this platform")},w7=65535,yte=function(s){var e,n,i="";for(n=0;n<(s||"").length;n++)i+="\\x"+((e=s.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return i},D7=function(s,i,e){setTimeout(function(){s.apply(e||null,i||[])},0)},kte=function(){var i,e,s={};for(i=0;i<arguments.length;i++)for(e in arguments[i])Object.hasOwnProperty.call(arguments[i],e)&&typeof s[e]>"u"&&(s[e]=arguments[i][e]);return s},Bwe=function(s,i,e,n,o){return rm.Promise.resolve(i).then(function(a){return Za.blob&&(a instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(a)))&&typeof FileReader<"u"?new rm.Promise(function(c,u){var f=new FileReader;f.onload=function(_){c(_.target.result)},f.onerror=function(_){u(_.target.error)},f.readAsArrayBuffer(a)}):a}).then(function(a){var l=Z0(a);return l?("arraybuffer"===l?a=Zr("uint8array",a):"string"===l&&(o?a=function(s){let i,e,n,o,r,a,l,c=0,u=0;if("data:"===s.substr(0,5))throw new Error("Invalid base64 input, it looks like a data url.");let g,_=3*(s=s.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(s.charAt(s.length-1)===am.charAt(64)&&_--,s.charAt(s.length-2)===am.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(g=Za.uint8array?new Uint8Array(0|_):new Array(0|_);c<s.length;)o=am.indexOf(s.charAt(c++)),r=am.indexOf(s.charAt(c++)),a=am.indexOf(s.charAt(c++)),l=am.indexOf(s.charAt(c++)),i=o<<2|r>>4,e=(15&r)<<4|a>>2,n=(3&a)<<6|l,g[u++]=i,64!==a&&(g[u++]=e),64!==l&&(g[u++]=n);return g}(a):e&&!0!==n&&(a=function jvt(s){return Ete(s,Za.uint8array?new Uint8Array(s.length):new Array(s.length))}(a))),a):rm.Promise.reject(new Error("Can't read the data of '"+s+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})};class oc{constructor(i){this.name=i||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}push(i){this.emit("data",i)}end(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(i){this.emit("error",i)}return!0}error(i){return!this.isFinished&&(this.isPaused?this.generatedError=i:(this.isFinished=!0,this.emit("error",i),this.previous&&this.previous.error(i),this.cleanUp()),!0)}on(i,e){return this._listeners[i].push(e),this}cleanUp(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]}emit(i,e){if(this._listeners[i])for(var n=0;n<this._listeners[i].length;n++)this._listeners[i][n].call(this,e)}pipe(i){return i.registerPrevious(this)}registerPrevious(i){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=i.streamInfo,this.mergeStreamInfo(),this.previous=i;var e=this;return i.on("data",function(n){e.processChunk(n)}),i.on("end",function(){e.end()}),i.on("error",function(n){e.error(n)}),this}pause(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)}resume(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var i=!1;return this.generatedError&&(this.error(this.generatedError),i=!0),this.previous&&this.previous.resume(),!i}flush(){}processChunk(i){this.push(i)}withStreamInfo(i,e){return this.extraStreamInfo[i]=e,this.mergeStreamInfo(),this}mergeStreamInfo(){for(var i in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(i)&&(this.streamInfo[i]=this.extraStreamInfo[i])}lock(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()}toString(){var i="Worker "+this.name;return this.previous?this.previous+" -> "+i:i}}let wte=function(s){const i=new Array(256);for(let e=0;e<256;e++)i[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;return i[254]=i[254]=1,wte=function(e){return i[e]},i[s]};const TA=function(i){return function(s){var i,e,n,o,r,a=s.length,l=0;for(o=0;o<a;o++)55296==(64512&(e=s.charCodeAt(o)))&&o+1<a&&56320==(64512&(n=s.charCodeAt(o+1)))&&(e=65536+(e-55296<<10)+(n-56320),o++),l+=e<128?1:e<2048?2:e<65536?3:4;for(i=Za.uint8array?new Uint8Array(l):new Array(l),r=0,o=0;r<l;o++)55296==(64512&(e=s.charCodeAt(o)))&&o+1<a&&56320==(64512&(n=s.charCodeAt(o+1)))&&(e=65536+(e-55296<<10)+(n-56320),o++),e<128?i[r++]=e:e<2048?(i[r++]=192|e>>>6,i[r++]=128|63&e):e<65536?(i[r++]=224|e>>>12,i[r++]=128|e>>>6&63,i[r++]=128|63&e):(i[r++]=240|e>>>18,i[r++]=128|e>>>12&63,i[r++]=128|e>>>6&63,i[r++]=128|63&e);return i}(i)},eb=function(i){return function(s){var i,e,n,o,r=s.length,a=new Array(2*r);for(e=0,i=0;i<r;)if((n=s[i++])<128)a[e++]=n;else if((o=wte(n))>4)a[e++]=65533,i+=o-1;else{for(n&=2===o?31:3===o?15:7;o>1&&i<r;)n=n<<6|63&s[i++],o--;o>1?a[e++]=65533:n<65536?a[e++]=n:(a[e++]=55296|(n-=65536)>>10&1023,a[e++]=56320|1023&n)}return a.length!==e&&(a.subarray?a=a.subarray(0,e):a.length=e),Wvt(a)}(i=Zr(Za.uint8array?"uint8array":"array",i))};class qvt extends oc{constructor(){super("utf-8 decode"),this.leftOver=null}processChunk(i){var e=Zr(Za.uint8array?"uint8array":"array",i.data);if(this.leftOver&&this.leftOver.length){if(Za.uint8array){var n=e;(e=new Uint8Array(n.length+this.leftOver.length)).set(this.leftOver,0),e.set(n,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var o=function(s,i){var e;for((i=i||s.length)>s.length&&(i=s.length),e=i-1;e>=0&&128==(192&s[e]);)e--;return e<0||0===e?i:e+wte(s[e])>i?e:i}(e),r=e;o!==e.length&&(Za.uint8array?(r=e.subarray(0,o),this.leftOver=e.subarray(o,e.length)):(r=e.slice(0,o),this.leftOver=e.slice(o,e.length))),this.push({data:eb(r),meta:i.meta})}flush(){this.leftOver&&this.leftOver.length&&(this.push({data:eb(this.leftOver),meta:{}}),this.leftOver=null)}}class Vwe extends oc{constructor(){super("utf-8 encode")}processChunk(i){this.push({data:TA(i.data),meta:i.meta})}}class Qvt extends oc{constructor(i){super("ConvertWorker to "+i),this.destType=i}processChunk(i){this.push({data:Zr(this.destType,i.data),meta:i.meta})}}function tSt(s,i){return new rm.Promise(function(e,n){var o=[],r=s._internalType,a=s._outputType,l=s._mimeType;s.on("data",function(c,u){o.push(c),i&&i(u)}).on("error",function(c){o=[],n(c)}).on("end",function(){try{var c=function Zvt(s,i,e){switch(s){case"blob":return function(s,i){return OA("blob"),new Blob([s],{type:i})}(Zr("arraybuffer",i),e);case"base64":return function(s){let e,n,o,r,a,l,c,i=[],u=0,f=s.length,_=f,g="string"!=typeof s;for(;u<s.length;)_=f-u,g?(e=s[u++],n=u<f?s[u++]:0,o=u<f?s[u++]:0):(e=s.charCodeAt(u++),n=u<f?s.charCodeAt(u++):0,o=u<f?s.charCodeAt(u++):0),r=e>>2,a=(3&e)<<4|n>>4,l=_>1?(15&n)<<2|o>>6:64,c=_>2?63&o:64,i.push(am.charAt(r)+am.charAt(a)+am.charAt(l)+am.charAt(c));return i.join("")}(i);default:return Zr(s,i)}}(a,function eSt(s,i){var e,n=0,o=null,r=0;for(e=0;e<i.length;e++)r+=i[e].length;switch(s){case"string":return i.join("");case"array":return Array.prototype.concat.apply([],i);case"uint8array":for(o=new Uint8Array(r),e=0;e<i.length;e++)o.set(i[e],n),n+=i[e].length;return o;default:throw new Error("concat : unsupported type '"+s+"'")}}(r,o),l);e(c)}catch(u){n(u)}o=[]}).resume()})}class zwe{constructor(i,e,n){var o=e;switch(e){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=e,this._mimeType=n,OA(o),this._worker=i.pipe(new Qvt(o)),i.lock()}catch(r){this._worker=new oc("error"),this._worker.error(r)}}accumulate(i){return tSt(this,i)}on(i,e){var n=this;return this._worker.on(i,"data"===i?function(o){e.call(n,o.data,o.meta)}:function(){D7(e,arguments,n)}),this}resume(){return D7(this._worker.resume,[],this._worker),this}pause(){return this._worker.pause(),this}}var Hwe=Object.freeze({__proto__:null,base64:!1,binary:!1,dir:!1,createFolders:!0,date:null,compression:null,compressionOptions:null,comment:null,unixPermissions:null,dosPermissions:null});class Dte extends oc{constructor(i){super("DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,i.then(function(n){e.dataIsReady=!0,e.data=n,e.max=n&&n.length||0,e.type=Z0(n),e.isPaused||e._tickAndRepeat()},function(n){e.error(n)})}cleanUp(){super.cleanUp(),this.data=null}resume(){return!!super.resume()&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,D7(this._tickAndRepeat,[],this)),!0)}_tickAndRepeat(){this._tickScheduled=!1,!this.isPaused&&!this.isFinished&&(this._tick(),this.isFinished||(D7(this._tickAndRepeat,[],this),this._tickScheduled=!0))}_tick(){if(this.isPaused||this.isFinished)return!1;var e=null,n=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,n);break;case"uint8array":e=this.data.subarray(this.index,n);break;case"array":e=this.data.slice(this.index,n)}return this.index=n,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})}}class Ote extends oc{constructor(i){super("DataLengthProbe for "+i),this.propName=i,this.withStreamInfo(i,0)}processChunk(i){i&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+i.data.length),super.processChunk(i)}}let Tte=function(){const s=[];for(let i=0;i<256;i++){let e=i;for(let n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;s[i]=e}return Tte=function(){return s},s};function MA(s,i){return typeof s>"u"||!s.length?0:"string"!==Z0(s)?function rSt(s,i,e,n){const o=Tte();let r=n+e;s=~s;for(let a=n;a<r;a++)s=s>>>8^o[255&(s^i[a])];return~s}(0|i,s,s.length,0):function aSt(s,i,e,n){const o=Tte();let r=n+e;s=~s;for(let a=n;a<r;a++)s=s>>>8^o[255&(s^i.charCodeAt(a))];return~s}(0|i,s,s.length,0)}class $we extends oc{constructor(){super("Crc32Probe"),this.withStreamInfo("crc32",0)}processChunk(i){this.streamInfo.crc32=MA(i.data,this.streamInfo.crc32||0),this.push(i)}}class sD{constructor(i,e,n,o,r){this.compressedSize=i,this.uncompressedSize=e,this.crc32=n,this.compression=o,this.compressedContent=r}getContentWorker(){var i=new Dte(rm.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new Ote("data_length")),e=this;return i.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),i}getCompressedWorker(){return new Dte(rm.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}static createWorkerFrom(i,e,n){return i.pipe(new $we).pipe(new Ote("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new Ote("compressedSize")).withStreamInfo("compression",e)}}class lSt{constructor(i,e,n){this.name=i,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}internalStream(i){var e=null,n="string";try{if(!i)throw new Error("No output type specified.");var o="string"===(n=i.toLowerCase())||"text"===n;("binarystring"===n||"text"===n)&&(n="string"),e=this._decompressWorker();var r=!this._dataBinary;r&&!o&&(e=e.pipe(new Vwe)),!r&&o&&(e=e.pipe(new qvt))}catch(a){(e=new oc("error")).error(a)}return new zwe(e,n,"")}async(i,e){return this.internalStream(i).accumulate(e)}_compressWorker(i,e){if(this._data instanceof sD&&this._data.compression.magic===i.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new Vwe)),sD.createWorkerFrom(n,i,e)}_decompressWorker(){return this._data instanceof sD?this._data.getContentWorker():this._data instanceof oc?this._data:new Dte(this._data)}}let Xwe=function(){const i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u"?"uint8array":"array";Xwe=function(){return i}};class Wwe extends oc{constructor(i,e){super("FlateWorker/"+i),this._pako=null,this._pakoAction=i,this._pakoOptions=e,this.meta={}}processChunk(i){this.meta=i.meta,null===this._pako&&this._createPako(),this._pako.push(Zr(Xwe(),i.data),!1)}flush(){super.flush(),null===this._pako&&this._createPako(),this._pako.push([],!0)}cleanUp(){super.cleanUp(),this._pako=null}_createPako(){const i={raw:!0,level:this._pakoOptions.level||-1};this._pako="Deflate"===this._pakoAction?new fke(i):new nA(i),this._pako.onData=e=>{this.push({data:e,meta:this.meta})}}}var cSt={magic:"\b\0",compressWorker:function(s){return new Wwe("Deflate",s)},uncompressWorker:function(){return new Wwe("Inflate",{})}},IA={STORE:{magic:"\0\0",compressWorker:function(){return new oc("STORE compression")},uncompressWorker:function(){return new oc("STORE decompression")}},DEFLATE:cSt},lo=function(s,i){var n,e="";for(n=0;n<i;n++)e+=String.fromCharCode(255&s),s>>>=8;return e},Kwe=function(s,i,e,n,o,r){var D,O,a=s.file,l=s.compression,c=r!==TA,u=Zr("string",r(a.name)),f=Zr("string",TA(a.name)),_=a.comment,g=Zr("string",r(_)),S=Zr("string",TA(_)),b=f.length!==a.name.length,k=S.length!==_.length,I="",N="",P="",G=a.dir,H=a.date,$={crc32:0,compressedSize:0,uncompressedSize:0};(!i||e)&&($.crc32=s.crc32,$.compressedSize=s.compressedSize,$.uncompressedSize=s.uncompressedSize);var Q=0;i&&(Q|=8),!c&&(b||k)&&(Q|=2048);var ie=0,ce=0;G&&(ie|=16),"UNIX"===o?(ce=798,ie|=function(s,i){var e=s;return s||(e=i?16893:33204),(65535&e)<<16}(a.unixPermissions,G)):(ce=20,ie|=function(s,i){return 63&(s||0)}(a.dosPermissions)),D=H.getUTCHours(),D<<=6,D|=H.getUTCMinutes(),D<<=5,D|=H.getUTCSeconds()/2,O=H.getUTCFullYear()-1980,O<<=4,O|=H.getUTCMonth()+1,O<<=5,O|=H.getUTCDate(),b&&(N=lo(1,1)+lo(MA(u),4)+f,I+="up"+lo(N.length,2)+N),k&&(P=lo(1,1)+lo(MA(g),4)+S,I+="uc"+lo(P.length,2)+P);var re="";return re+="\n\0",re+=lo(Q,2),re+=l.magic,re+=lo(D,2),re+=lo(O,2),re+=lo($.crc32,4),re+=lo($.compressedSize,4),re+=lo($.uncompressedSize,4),re+=lo(u.length,2),{fileRecord:"PK\x03\x04"+(re+=lo(I.length,2))+u+I,dirRecord:"PK\x01\x02"+lo(ce,2)+re+lo(g.length,2)+"\0\0\0\0"+lo(ie,4)+lo(n,4)+u+I+g}},fSt=function(s){return"PK\x07\b"+lo(s.crc32,4)+lo(s.compressedSize,4)+lo(s.uncompressedSize,4)};class mSt extends oc{constructor(i,e,n,o){super("ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=o,this.streamFiles=i,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}push(i){var e=i.meta.percent||0,n=this.entriesCount,o=this._sources.length;this.accumulate?this.contentBuffer.push(i):(this.bytesWritten+=i.data.length,super.push({data:i.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-o-1))/n:100}}))}openedSource(i){this.currentSourceOffset=this.bytesWritten,this.currentFile=i.file.name;var e=this.streamFiles&&!i.file.dir;if(e){var n=Kwe(i,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0}closedSource(i){this.accumulate=!1;var e=this.streamFiles&&!i.file.dir,n=Kwe(i,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:fSt(i),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null}flush(){for(var i=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var o=function(s,i,e,n,o){var a=Zr("string",o(n));return"PK\x05\x06\0\0\0\0"+lo(s,2)+lo(s,2)+lo(i,4)+lo(e,4)+lo(a.length,2)+a}(this.dirRecords.length,this.bytesWritten-i,i,this.zipComment,this.encodeFileName);this.push({data:o,meta:{percent:100}})}prepareNextSource(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()}registerPrevious(i){this._sources.push(i);var e=this;return i.on("data",function(n){e.processChunk(n)}),i.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),i.on("error",function(n){e.error(n)}),this}resume(){return!!super.resume()&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))}error(i){var e=this._sources;if(!super.error(i))return!1;for(var n=0;n<e.length;n++)try{e[n].error(i)}catch{}return!0}lock(){super.lock();for(var i=this._sources,e=0;e<i.length;e++)i[e].lock()}}class Jwe{constructor(i){this.data=i,this.length=i.length,this.index=0,this.zero=0}checkOffset(i){this.checkIndex(this.index+i)}checkIndex(i){if(this.length<this.zero+i||i<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+i+"). Corrupted zip ?")}setIndex(i){this.checkIndex(i),this.index=i}skip(i){this.setIndex(this.index+i)}byteAt(i){}readInt(i){var n,e=0;for(this.checkOffset(i),n=this.index+i-1;n>=this.index;n--)e=(e<<8)+this.byteAt(n);return this.index+=i,e}readString(i){return Zr("string",this.readData(i))}readData(i){}lastIndexOfSignature(i){}readAndCheckSignature(i){}readDate(){var i=this.readInt(4);return new Date(Date.UTC(1980+(i>>25&127),(i>>21&15)-1,i>>16&31,i>>11&31,i>>5&63,(31&i)<<1))}}class qwe extends Jwe{constructor(i){super(i);for(var e=0;e<this.data.length;e++)i[e]=255&i[e]}byteAt(i){return this.data[this.zero+i]}lastIndexOfSignature(i){for(var e=i.charCodeAt(0),n=i.charCodeAt(1),o=i.charCodeAt(2),r=i.charCodeAt(3),a=this.length-4;a>=0;--a)if(this.data[a]===e&&this.data[a+1]===n&&this.data[a+2]===o&&this.data[a+3]===r)return a-this.zero;return-1}readAndCheckSignature(i){var e=i.charCodeAt(0),n=i.charCodeAt(1),o=i.charCodeAt(2),r=i.charCodeAt(3),a=this.readData(4);return e===a[0]&&n===a[1]&&o===a[2]&&r===a[3]}readData(i){if(this.checkOffset(i),0===i)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,e}}class vSt extends Jwe{constructor(i){super(i)}byteAt(i){return this.data.charCodeAt(this.zero+i)}lastIndexOfSignature(i){return this.data.lastIndexOf(i)-this.zero}readAndCheckSignature(i){return i===this.readData(4)}readData(i){this.checkOffset(i);const e=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,e}}class SSt extends qwe{constructor(i){super(i)}readData(i){if(this.checkOffset(i),0===i)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+i);return this.index+=i,e}}function O7(s){const i=Z0(s);return OA(i),"string"!==i||Za.uint8array?Za.uint8array?new SSt(Zr("uint8array",s)):new qwe(Zr("array",s)):new vSt(s)}class ySt{constructor(i,e){this.options=i,this.loadOptions=e}isEncrypted(){return!(1&~this.bitFlag)}useUTF8(){return!(2048&~this.bitFlag)}readLocalPart(i){var e,n;if(i.skip(22),this.fileNameLength=i.readInt(2),n=i.readInt(2),this.fileName=i.readData(this.fileNameLength),i.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(e=function(s){for(var i in IA)if(IA.hasOwnProperty(i)&&IA[i].magic===s)return IA[i];return null}(this.compressionMethod),null===e)throw new Error("Corrupted zip : compression "+yte(this.compressionMethod)+" unknown (inner file : "+Zr("string",this.fileName)+")");this.decompressed=new sD(this.compressedSize,this.uncompressedSize,this.crc32,e,i.readData(this.compressedSize))}readCentralPart(i){this.versionMadeBy=i.readInt(2),i.skip(2),this.bitFlag=i.readInt(2),this.compressionMethod=i.readString(2),this.date=i.readDate(),this.crc32=i.readInt(4),this.compressedSize=i.readInt(4),this.uncompressedSize=i.readInt(4);var e=i.readInt(2);if(this.extraFieldsLength=i.readInt(2),this.fileCommentLength=i.readInt(2),this.diskNumberStart=i.readInt(2),this.internalFileAttributes=i.readInt(2),this.externalFileAttributes=i.readInt(4),this.localHeaderOffset=i.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");i.skip(e),this.readExtraFields(i),this.parseZIP64ExtraField(i),this.fileComment=i.readData(this.fileCommentLength)}processAttributes(){this.unixPermissions=null,this.dosPermissions=null;var i=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===i&&(this.dosPermissions=63&this.externalFileAttributes),3===i&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&"/"===this.fileNameStr.slice(-1)&&(this.dir=!0)}parseZIP64ExtraField(i){if(this.extraFields[1]){var e=O7(this.extraFields[1].value);-1===this.uncompressedSize&&(this.uncompressedSize=e.readInt(8)),-1===this.compressedSize&&(this.compressedSize=e.readInt(8)),-1===this.localHeaderOffset&&(this.localHeaderOffset=e.readInt(8)),-1===this.diskNumberStart&&(this.diskNumberStart=e.readInt(4))}}readExtraFields(i){var n,o,r,e=i.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});i.index<e;)n=i.readInt(2),o=i.readInt(2),r=i.readData(o),this.extraFields[n]={id:n,length:o,value:r}}handleUTF8(){var i=Za.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=eb(this.fileName),this.fileCommentStr=eb(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=Zr(i,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var o=this.findExtraFieldUnicodeComment();if(null!==o)this.fileCommentStr=o;else{var r=Zr(i,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}}findExtraFieldUnicodePath(){var i=this.extraFields[28789];if(i){var e=O7(i.value);return 1!==e.readInt(1)||MA(this.fileName)!==e.readInt(4)?null:eb(e.readData(i.length-5))}return null}findExtraFieldUnicodeComment(){var i=this.extraFields[25461];if(i){var e=O7(i.value);return 1!==e.readInt(1)||MA(this.fileComment)!==e.readInt(4)?null:eb(e.readData(i.length-5))}return null}}class kSt{constructor(i){this.files=[],this.loadOptions=i}checkSignature(i){if(!this.reader.readAndCheckSignature(i)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+yte(e)+", expected "+yte(i)+")")}}isSignature(i,e){var n=this.reader.index;this.reader.setIndex(i);var r=this.reader.readString(4)===e;return this.reader.setIndex(n),r}readBlockEndOfCentral(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var i=this.reader.readData(this.zipCommentLength),n=Zr(Za.uint8array?"uint8array":"array",i);this.zipComment=this.loadOptions.decodeFileName(n)}readBlockZip64EndOfCentral(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var n,o,r,i=this.zip64EndOfCentralSize-44;0<i;)n=this.reader.readInt(2),o=this.reader.readInt(4),r=this.reader.readData(o),this.zip64ExtensibleData[n]={id:n,length:o,value:r}}readBlockZip64EndOfCentralLocator(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")}readLocalFiles(){var i,e;for(i=0;i<this.files.length;i++)this.reader.setIndex((e=this.files[i]).localHeaderOffset),this.checkSignature("PK\x03\x04"),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()}readCentralDir(){var i;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature("PK\x01\x02");)(i=new ySt({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(i);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)}readEndOfCentral(){var i=this.reader.lastIndexOfSignature("PK\x05\x06");if(i<0)throw this.isSignature(0,"PK\x03\x04")?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(i);var n=i;if(this.checkSignature("PK\x05\x06"),this.readBlockEndOfCentral(),this.diskNumber===w7||this.diskWithCentralDirStart===w7||this.centralDirRecordsOnThisDisk===w7||this.centralDirRecords===w7||-1===this.centralDirSize||-1===this.centralDirOffset){if(this.zip64=!0,(i=this.reader.lastIndexOfSignature("PK\x06\x07"))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(i),this.checkSignature("PK\x06\x07"),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,"PK\x06\x06")&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature("PK\x06\x06"),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature("PK\x06\x06"),this.readBlockZip64EndOfCentral()}var o=this.centralDirOffset+this.centralDirSize;this.zip64&&(o+=20,o+=12+this.zip64EndOfCentralSize);var r=n-o;if(r>0)this.isSignature(n,"PK\x01\x02")||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")}prepareReader(i){this.reader=O7(i)}load(i){this.prepareReader(i),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}}function wSt(s){return new rm.Promise(function(i,e){var n=s.decompressed.getContentWorker().pipe(new $we);n.on("error",function(o){e(o)}).on("end",function(){n.streamInfo.crc32!==s.decompressed.crc32?e(new Error("Corrupted zip : CRC32 mismatch")):i()}).resume()})}function DSt(s,i){var e=this;return i=kte(i||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:eb}),Bwe("the loaded zip file",s,!0,i.optimizedBinaryString,i.base64).then(function(n){var o=new kSt(i);return o.load(n),o}).then(function(o){var r=[rm.Promise.resolve(o)],a=o.files;if(i.checkCRC32)for(var l=0;l<a.length;l++)r.push(wSt(a[l]));return rm.Promise.all(r)}).then(function(o){for(var r=o.shift(),a=r.files,l=0;l<a.length;l++){var c=a[l];e.file(c.fileNameStr,c.decompressed,{binary:!0,optimizedBinaryString:!0,date:c.date,dir:c.dir,comment:c.fileCommentStr.length?c.fileCommentStr:null,unixPermissions:c.unixPermissions,dosPermissions:c.dosPermissions,createFolders:i.createFolders})}return r.zipComment.length&&(e.comment=r.zipComment),e})}var Qwe=function(s,i,e){var o,n=Z0(i),r=kte(e||{},Hwe);r.date=r.date||new Date,null!==r.compression&&(r.compression=r.compression.toUpperCase()),"string"==typeof r.unixPermissions&&(r.unixPermissions=parseInt(r.unixPermissions,8)),r.unixPermissions&&16384&r.unixPermissions&&(r.dir=!0),r.dosPermissions&&16&r.dosPermissions&&(r.dir=!0),r.dir&&(s=Zwe(s)),r.createFolders&&(o=OSt(s))&&eDe.call(this,o,!0),(!e||typeof e.binary>"u")&&(r.binary=!("string"===n&&!1===r.binary&&!1===r.base64)),(i instanceof sD&&0===i.uncompressedSize||r.dir||!i||0===i.length)&&(r.base64=!1,r.binary=!0,i="",r.compression="STORE",n="string");var c;c=i instanceof sD||i instanceof oc?i:Bwe(s,i,r.binary,r.optimizedBinaryString,r.base64);var u=new lSt(s,c,r);this.files[s]=u},OSt=function(s){"/"===s.slice(-1)&&(s=s.substring(0,s.length-1));var i=s.lastIndexOf("/");return i>0?s.substring(0,i):""},Zwe=function(s){return"/"!==s.slice(-1)&&(s+="/"),s},eDe=function(s,i){return i=!(typeof i<"u")||i,s=Zwe(s),this.files[s]||Qwe.call(this,s,null,{dir:!0,createFolders:i}),this.files[s]};function tDe(s){return"[object RegExp]"===Object.prototype.toString.call(s)}class T7{constructor(){if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){const i=new T7;for(const e in this)"function"!=typeof this[e]&&(i[e]=this[e]);return i}}load(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")}forEach(i){var e,n,o;for(e in this.files)o=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&i(n,o)}filter(i){var e=[];return this.forEach(function(n,o){i(n,o)&&e.push(o)}),e}file(i,e,n){if(1===arguments.length){if(tDe(i)){var o=i;return this.filter(function(a,l){return!l.dir&&o.test(a)})}var r=this.files[this.root+i];return r&&!r.dir?r:null}return Qwe.call(this,i=this.root+i,e,n),this}folder(i){if(!i)return this;if(tDe(i))return this.filter(function(r,a){return a.dir&&i.test(r)});var n=eDe.call(this,this.root+i),o=this.clone();return o.root=n.name,o}remove(i){var e=this.files[i=this.root+i];if(e||("/"!==i.slice(-1)&&(i+="/"),e=this.files[i]),e&&!e.dir)delete this.files[i];else for(var n=this.filter(function(r,a){return a.name.slice(0,i.length)===i}),o=0;o<n.length;o++)delete this.files[n[o].name];return this}generate(i){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")}generateInternalStream(i){var e,n={};try{if((n=kte(i||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:TA})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");OA(n.type),("darwin"===n.platform||"freebsd"===n.platform||"linux"===n.platform||"sunos"===n.platform)&&(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS"),e=function(s,i,e){var n=new mSt(i.streamFiles,e,i.platform,i.encodeFileName),o=0;try{s.forEach(function(r,a){o++;var l=function(s,i){var e=s||i,n=IA[e];if(!n)throw new Error(e+" is not a valid compression method !");return n}(a.options.compression,i.compression),u=a.dir,f=a.date;a._compressWorker(l,a.options.compressionOptions||i.compressionOptions||{}).withStreamInfo("file",{name:r,dir:u,date:f,comment:a.comment||"",unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions}).pipe(n)}),n.entriesCount=o}catch(r){n.error(r)}return n}(this,n,n.comment||this.comment||"")}catch(r){(e=new oc("error")).error(r)}return new zwe(e,n.type||"string",n.mimeType)}generateAsync(i,e){return this.generateInternalStream(i).accumulate(e)}loadAsync(i,e){return DSt.apply(this,[i,e])}static loadAsync(i,e){return(new T7).loadAsync(i,e)}static get support(){return Za}static get defaults(){return Hwe}static get version(){return"3.2.2-esm"}static get external(){return rm}}function nDe(s,i,e){return(1461*(s+4800+((i-13)/12|0))/4|0)+(367*(i-1-12*((i-13)/12|0))/12|0)-(3*((s+4900+((i-13)/12|0))/100|0)/4|0)+e-32075}const MSt=nDe(1900,0,-1);const iDe="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",RSt=`data:${iDe};base64,`,sDe={compression:"DEFLATE",type:"base64"},NSt={compression:"DEFLATE",type:"blob"},LSt={compression:"DEFLATE",type:"arraybuffer"};function oDe(s){return RSt+s}function xA(s,i){return i.indexOf(s)}const rDe=JSON.parse.bind(JSON);function xs(s){return String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")}function aDe(s,i){let e="";for(let n=0;n<s;++n)e+=i(n);return e}function co(s,i){let e="";if(null!=s)if(Array.isArray(s))for(let n=0;n<s.length;++n)e+=i(s[n],n);else"object"==typeof s&&Object.keys(s).forEach((n,o)=>{e+=i(s[n],n,o)});return e}const Jd='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r',GSt=`${Jd}\n            <Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n               <Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/>\n               <Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/>\n               <Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/>\n            </Relationships>`,XSt=s=>`${Jd}\n<xdr:wsDr xmlns:xdr="http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"\n          xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"\n          xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">\n  ${co(s,(i,e)=>`\n    <xdr:oneCellAnchor editAs="oneCell">\n      <xdr:from>\n        <xdr:col>${i.col}</xdr:col>\n        <xdr:colOff>${i.colOffset}</xdr:colOff>\n        <xdr:row>${i.row}</xdr:row>\n        <xdr:rowOff>${i.rowOffset}</xdr:rowOff>\n      </xdr:from>\n      <xdr:ext cx="${i.width}" cy="${i.height}" />\n      <xdr:pic>\n        <xdr:nvPicPr>\n          <xdr:cNvPr id="${e+1}" name="Picture ${e+1}"/>\n          <xdr:cNvPicPr/>\n        </xdr:nvPicPr>\n        <xdr:blipFill>\n          <a:blip r:embed="${i.imageId}"/>\n          <a:stretch>\n            <a:fillRect/>\n          </a:stretch>\n        </xdr:blipFill>\n        <xdr:spPr>\n          <a:prstGeom prst="rect">\n            <a:avLst/>\n          </a:prstGeom>\n        </xdr:spPr>\n      </xdr:pic>\n      <xdr:clientData/>\n    </xdr:oneCellAnchor>`)}\n</xdr:wsDr>`,WSt=s=>`${Jd}\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  ${co(s,i=>`\n    <Relationship Id="${i.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image" Target="${i.target}"/>`)}\n</Relationships>`;function Rte(s){const i=Math.floor(s/26)-1;return(i>=0?Rte(i):"")+String.fromCharCode(65+s%26)}function oD(s,i){return Rte(i)+(s+1)}function M7(s,i){return"$"+Rte(i)+"$"+(s+1)}function I7(s){return(s.frozenRows||(s.freezePane||{}).rowSplit||1)-1}function Nte(s){return s/7-Math.floor(128/7)/256}class ZSt{constructor(i,e,n,o){this.options=i,this._strings=e,this._styles=n,this._borders=o,this._validations={},this._comments=[],this._drawings=i.drawings||[],this._hyperlinks=(this.options.hyperlinks||[]).map((r,a)=>Object.assign({},r,{rId:`link${a}`}))}relsToXML(){const i=this._hyperlinks,e=this._comments,n=this._drawings;if(i.length||e.length||n.length)return(({hyperlinks:s,comments:i,sheetIndex:e,drawings:n})=>`${Jd}\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  ${co(s,o=>`\n    <Relationship Id="${o.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Target="${xs(o.target)}" TargetMode="External" />`)}\n  ${i.length?`\n    <Relationship Id="comment${e}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments" Target="../comments${e}.xml"/>\n    <Relationship Id="vml${e}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing" Target="../drawings/vmlDrawing${e}.vml"/>`:""}\n  ${n.length?`\n    <Relationship Id="drw${e}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing" Target="../drawings/drawing${e}.xml"/>`:""}\n</Relationships>`)({hyperlinks:i,comments:e,sheetIndex:this.options.sheetIndex,drawings:n})}toXML(i){const e=this.options.mergedCells||[],o=function o2t(s,i){const e=[],n=[];!function r2t(s,i){for(let e=0;e<s.length;e++){const n=s[e];if(!n)continue;let o=n.index;"number"!=typeof o&&(o=e),i(n,o)}}(s,function(a,l){const c={_source:a,index:l,height:a.height,level:a.level,cells:[]};e.push(c),n[l]=c});const o=dDe(e).slice(0),r={rowData:e,rowsByIndex:n,mergedCells:i};for(let a=0;a<o.length;a++)c2t(o[a],r),delete o[a]._source;return dDe(e)}(this.options.rows||[],e);this._readCells(o);let a,r=this.options.filter;r&&"number"==typeof r.from&&"number"==typeof r.to?r={from:oD(I7(this.options),r.from),to:oD(I7(this.options),r.to)}:r&&r.ref&&r.columns&&(a=r,r=null);const l=[];for(let b in this._validations)Object.prototype.hasOwnProperty.call(this._validations,b)&&l.push(this._validations[b]);let c=null,u=this.options.defaultCellStyle;this._hasDisabledCells&&(u=u?Object.assign({disabled:!1},u):{disabled:!1}),u&&(c=this._lookupStyle(u));const f=this.options.freezePane||{},_=this.options.defaults||{},g=this.options.rows?this._getLastRow():1,S=this.options.rows?this._getLastCol():1;return(({frozenColumns:s,frozenRows:i,columns:e,defaults:n,data:o,index:r,mergeCells:a,autoFilter:l,filter:c,showGridLines:u,hyperlinks:f,validations:_,defaultCellStyleId:g,rtl:S,legacyDrawing:b,drawing:k,lastRow:D,lastCol:O,hasDisabledCells:I})=>`${Jd}\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" mc:Ignorable="x14ac">\n   ${D&&O?`<dimension ref="A1:${oD(D-1,O-1)}" />`:""}\n\n   <sheetViews>\n     <sheetView ${S?'rightToLeft="1"':""} ${0===r?'tabSelected="1"':""} workbookViewId="0" ${!1===u?'showGridLines="0"':""}>\n     ${i||s?`\n       <pane state="frozen"\n         ${s?`xSplit="${s}"`:""}\n         ${i?`ySplit="${i}"`:""}\n         topLeftCell="${String.fromCharCode(65+(s||0))+((i||0)+1)}"\n       />`:""}\n     </sheetView>\n   </sheetViews>\n\n   <sheetFormatPr x14ac:dyDescent="0.25" ${n.skipCustomHeight?"":'customHeight="1"'} defaultRowHeight="${n.rowHeight?.75*n.rowHeight:15}"\n     ${n.columnWidth?`defaultColWidth="${Nte(n.columnWidth)}"`:""} />\n\n   ${null!=g||e&&e.length>0?`\n     <cols>\n       ${e&&e.length?"":`\n         <col min="1" max="16384" style="${g}"\n              ${n.columnWidth?`width="${Nte(n.columnWidth)}"`:""} /> `}\n       ${co(e,(N,P)=>{const G="number"==typeof N.index?N.index+1:P+1;return 0===N.width?`<col ${null!=g?`style="${g}"`:""}\n                        min="${G}" max="${G}" hidden="1" customWidth="1" />`:`<col ${null!=g?`style="${g}"`:""}\n                      min="${G}" max="${G}" customWidth="1"\n                      ${N.autoWidth?`width="${(7*N.width+5)/7*256/256}" bestFit="1"`:`width="${Nte(N.width)}"`} />`})}\n     </cols>`:""}\n\n   <sheetData>\n     ${co(o,(N,P)=>`\n         <row r="${"number"==typeof N.index?N.index+1:P+1}" x14ac:dyDescent="0.25"\n              ${N.level?`outlineLevel="${N.level}"`:""}\n              ${0===N.height?'hidden="1"':N.height?`ht="${function qSt(s){return.75*s}(N.height)}" customHeight="1"`:""}>\n           ${co(N.data,H=>`\n             <c r="${H.ref}" ${H.style?`s="${H.style}"`:""} ${H.type?`t="${H.type}"`:""}>\n               ${null!=H.formula?function JSt(s){return"string"==typeof s?`<f>${xs(s)}</f>`:`<f t="array" ref="${s.ref}">${xs(s.src)}</f>`}(H.formula):""}\n               ${null!=H.value?`<v>${xs(H.value)}</v>`:""}\n             </c>`)}\n         </row>\n       `)}\n   </sheetData>\n\n   ${I?'<sheetProtection sheet="1" objects="1" scenarios="1"/>':""}\n\n   ${l?`<autoFilter ref="${l.from}:${l.to}"/>`:c?tb(c):""}\n\n   ${a.length?`\n     <mergeCells count="${a.length}">\n       ${co(a,N=>`<mergeCell ref="${N}"/>`)}\n     </mergeCells>`:""}\n\n   ${_.length?`\n     <dataValidations>\n       ${co(_,N=>`\n         <dataValidation sqref="${N.sqref.join(" ")}"\n                         showErrorMessage="${N.showErrorMessage}"\n                         type="${xs(N.type)}"\n                         ${"list"!==N.type?`operator="${xs(N.operator)}"`:""}\n                         allowBlank="${N.allowBlank}"\n                         showDropDown="${N.showDropDown}"\n                         ${N.error?`error="${xs(N.error)}"`:""}\n                         ${N.errorTitle?`errorTitle="${xs(N.errorTitle)}"`:""}>\n           ${N.formula1?`<formula1>${xs(N.formula1)}</formula1>`:""}\n           ${N.formula2?`<formula2>${xs(N.formula2)}</formula2>`:""}\n         </dataValidation>`)}\n     </dataValidations>`:""}\n\n   ${f.length?`\n     <hyperlinks>\n       ${co(f,N=>`\n         <hyperlink ref="${N.ref}" r:id="${N.rId}"/>`)}\n     </hyperlinks>`:""}\n\n   <pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" />\n   ${k?`<drawing r:id="${k}"/>`:""}\n   ${b?`<legacyDrawing r:id="${b}"/>`:""}\n</worksheet>`)({frozenColumns:this.options.frozenColumns||f.colSplit,frozenRows:this.options.frozenRows||f.rowSplit,columns:this.options.columns,defaults:_,data:o,index:i,mergeCells:e,autoFilter:r,filter:a,showGridLines:this.options.showGridLines,hyperlinks:this._hyperlinks,validations:l,defaultCellStyleId:c,rtl:void 0!==this.options.rtl?this.options.rtl:_.rtl,legacyDrawing:this._comments.length?`vml${this.options.sheetIndex}`:null,drawing:this._drawings.length?`drw${this.options.sheetIndex}`:null,lastRow:g,lastCol:S,hasDisabledCells:this._hasDisabledCells})}commentsXML(){if(this._comments.length)return(({comments:s})=>`${Jd}\n<comments xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">\n  <authors>\n    <author></author>\n  </authors>\n  <commentList>\n    ${co(s,i=>`\n      <comment ref="${i.ref}" authorId="0">\n        <text>\n          <r>\n            <rPr>\n              <sz val="8"/>\n              <color indexed="81"/>\n              <rFont val="Tahoma"/>\n              <charset val="1"/>\n            </rPr>\n            <t>${xs(i.text)}</t>\n          </r>\n        </text>\n      </comment>`)}\n  </commentList>\n</comments>`)({comments:this._comments})}drawingsXML(i){if(this._drawings.length){let e={},n=this._drawings.map(o=>{let r=RA(o.topLeftCell),a=e[o.image];return a||(a=e[o.image]={rId:`img${o.image}`,target:i[o.image].target}),{col:r.col,colOffset:x7(o.offsetX),row:r.row,rowOffset:x7(o.offsetY),width:x7(o.width),height:x7(o.height),imageId:a.rId}});return{main:XSt(n),rels:WSt(e)}}}legacyDrawing(){if(this._comments.length)return(({comments:s})=>`<xml xmlns:v="urn:schemas-microsoft-com:vml"\n     xmlns:o="urn:schemas-microsoft-com:office:office"\n     xmlns:x="urn:schemas-microsoft-com:office:excel">\n  <v:shapetype coordsize="21600,21600" id="_x0000_t202" path="m,l,21600r21600,l21600,xe">\n    <v:stroke joinstyle="miter"/>\n    <v:path gradientshapeok="t" o:connecttype="rect"/>\n  </v:shapetype>\n  ${co(s,i=>`\n    <v:shape type="#_x0000_t202" style="visibility: hidden" fillcolor="#ffffe1" o:insetmode="auto">\n      <v:shadow on="t" color="black" obscured="t"/>\n      <x:ClientData ObjectType="Note">\n        <x:MoveWithCells/>\n        <x:SizeWithCells/>\n        <x:Anchor>${i.anchor}</x:Anchor>\n        <x:AutoFill>False</x:AutoFill>\n        <x:Row>${i.row}</x:Row>\n        <x:Column>${i.col}</x:Column>\n      </x:ClientData>\n    </v:shape>`)}\n</xml>`)({comments:this._comments})}_lookupString(i){const e="$"+i,n=this._strings.indexes[e];let o;return void 0!==n?o=n:(o=this._strings.indexes[e]=this._strings.uniqueCount,this._strings.uniqueCount++),this._strings.count++,o}_lookupStyle(i){const e=JSON.stringify(i);if("{}"===e)return 0;let n=xA(e,this._styles);return n<0&&(n=this._styles.push(e)-1),n+1}_lookupBorder(i){const e=JSON.stringify(i);if("{}"===e)return;let n=xA(e,this._borders);return n<0&&(n=this._borders.push(e)-1),n+1}_readCells(i){for(let e=0;e<i.length;e++){const n=i[e],o=n.cells;n.data=[];for(let r=0;r<o.length;r++){const a=this._cell(o[r],n.index,r);a&&n.data.push(a)}}}_cell(i,e,n){if(!i||i===cDe)return null;let o=i.value,r={};i.borderLeft&&(r.left=i.borderLeft),i.borderRight&&(r.right=i.borderRight),i.borderTop&&(r.top=i.borderTop),i.borderBottom&&(r.bottom=i.borderBottom),i.dBorders&&(r.diagonal=i.dBorders),r=this._lookupBorder(r);const a=this.options.defaultCellStyle||{};let l={borderId:r};(g=>{g("color"),g("background"),g("bold"),g("italic"),g("underline"),g("fontFamily")||g("fontName","fontFamily"),g("fontSize"),g("format"),g("textAlign")||g("hAlign","textAlign"),g("verticalAlign")||g("vAlign","verticalAlign"),g("wrap"),g("indent"),g("disabled")||g("enable")&&(l.disabled=!l.enable,delete l.enable),l.disabled&&(this._hasDisabledCells=!0)})((g,S)=>{let b=i[g];if(void 0===b&&(b=a[g]),void 0!==b)return l[S||g]=b,!0});const u=(this.options.columns||[])[n];let f=typeof o;if(u&&u.autoWidth&&(!i.colSpan||1===i.colSpan)){let g=o;"number"===f&&(g=Awe.toString(o,i.format)),u.width=Math.max(u.width||0,String(g).length)}"string"===f?(o=function QSt(s){return String(s).replace(/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,"").replace(/\r?\n/g,"\r\n")}(o),o=this._lookupString(o),f="s"):"number"===f?f="n":"boolean"===f?(f="b",o=Number(o)):o&&o.getTime?(f=null,o=function ASt(s){const i=function xSt(s,i,e,n){return(s+(i+(e+n/1e3)/60)/60)/24}(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),e=function ISt(s,i,e){return nDe(s,i,e)-MSt}(s.getFullYear(),s.getMonth(),s.getDate());return e<0?e-1+i:e+i}(o),l.format||(l.format="mm-dd-yy")):(f=null,o=null),l=this._lookupStyle(l);const _=oD(e,n);return i.validation&&this._addValidation(i.validation,_),i.comment&&this._comments.push({ref:_,text:i.comment,row:e,col:n,anchor:[n+1,15,e,10,n+3,15,e+3,4].join(", ")}),{value:o,formula:i.formula,type:f,style:l,ref:_}}_addValidation(i,e){const n={showErrorMessage:"reject"===i.type?1:0,formula1:i.from,formula2:i.to,type:t2t[i.dataType]||i.dataType,operator:e2t[i.comparerType]||i.comparerType,allowBlank:i.allowNulls?1:0,showDropDown:i.showButton?0:1,error:i.messageTemplate,errorTitle:i.titleTemplate},o=JSON.stringify(n);this._validations[o]||(this._validations[o]=n,n.sqref=[]),this._validations[o].sqref.push(e)}_getLastRow(){return lDe(this.options.rows)}_getLastCol(){let i=0;return this.options.rows.forEach(function(e){e.cells&&(i=Math.max(i,lDe(e.cells)))}),i}}function lDe(s){let i=s.length;return s.forEach(function(e){e.index&&e.index>=i&&(i=e.index+1)}),i}const e2t={greaterThanOrEqualTo:"greaterThanOrEqual",lessThanOrEqualTo:"lessThanOrEqual"},t2t={number:"decimal"},Lte={General:0,0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49,"[$-404]e/m/d":27,"m/d/yy":30,t0:59,"t0.00":60,"t#,##0":61,"t#,##0.00":62,"t0%":67,"t0.00%":68,"t# ?/?":69,"t# ??/??":70};function Gte(s){let i=function n2t(s){function i(n){let o=parseInt(n,10).toString(16);return o.length<2?"0"+o:o}let e=/^rgba?\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([0-9.]+)\s*)?\)/i.exec(s.trim());return e?"#"+i(255*(e[4]?parseFloat(e[4]):1)|0)+i(e[1])+i(e[2])+i(e[3]):s}(s);return i.length<6&&(i=i.replace(/(\w)/g,function(e,n){return n+n})),i=i.substring(1).toUpperCase(),i.length<8&&(i="FF"+i),i}class _g{constructor(i){this.options=i||{},this._strings={indexes:{},count:0,uniqueCount:0},this._styles=[],this._borders=[],this._images=this.options.images,this._imgId=0,this._sheets=om(this.options.sheets||[],(e,n)=>(e.defaults=this.options,e.sheetIndex=n+1,new ZSt(e,this._strings,this._styles,this._borders)))}imageFilename(i){const e=++this._imgId;switch(i){case"image/jpg":case"image/jpeg":return`image${e}.jpg`;case"image/png":return`image${e}.png`;case"image/gif":return`image${e}.gif`;default:return`image${e}.bin`}}toZIP(){const i=function TSt(){return new T7}(),e=i.folder("docProps");e.file("core.xml",(({creator:s,lastModifiedBy:i,created:e,modified:n})=>`${Jd}\n <cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties"\n   xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/"\n   xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n   <dc:creator>${xs(s)}</dc:creator>\n   <cp:lastModifiedBy>${xs(i)}</cp:lastModifiedBy>\n   <dcterms:created xsi:type="dcterms:W3CDTF">${xs(e)}</dcterms:created>\n   <dcterms:modified xsi:type="dcterms:W3CDTF">${xs(n)}</dcterms:modified>\n</cp:coreProperties>`)({creator:this.options.creator||"Kendo UI",lastModifiedBy:this.options.creator||"Kendo UI",created:this.options.date||(new Date).toJSON(),modified:this.options.date||(new Date).toJSON()}));const n=this._sheets.length;e.file("app.xml",(({sheets:s})=>`${Jd}\n<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes">\n  <Application>Microsoft Excel</Application>\n  <DocSecurity>0</DocSecurity>\n  <ScaleCrop>false</ScaleCrop>\n  <HeadingPairs>\n    <vt:vector size="2" baseType="variant">\n      <vt:variant>\n        <vt:lpstr>Worksheets</vt:lpstr>\n      </vt:variant>\n      <vt:variant>\n        <vt:i4>${s.length}</vt:i4>\n      </vt:variant>\n    </vt:vector>\n  </HeadingPairs>\n  <TitlesOfParts>\n    <vt:vector size="${s.length}" baseType="lpstr">${co(s,(i,e)=>i.options.title?`<vt:lpstr>${xs(i.options.title)}</vt:lpstr>`:`<vt:lpstr>Sheet${e+1}</vt:lpstr>`)}</vt:vector>\n  </TitlesOfParts>\n  <LinksUpToDate>false</LinksUpToDate>\n  <SharedDoc>false</SharedDoc>\n  <HyperlinksChanged>false</HyperlinksChanged>\n  <AppVersion>14.0300</AppVersion>\n</Properties>`)({sheets:this._sheets})),i.folder("_rels").file(".rels",GSt);const r=i.folder("xl");if(r.folder("_rels").file("workbook.xml.rels",(({count:s})=>`${Jd}\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  ${aDe(s,i=>`\n    <Relationship Id="rId${i+1}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet${i+1}.xml" />`)}\n  <Relationship Id="rId${s+1}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml" />\n  <Relationship Id="rId${s+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" />\n</Relationships>`)({count:n})),this._images){const G=r.folder("media");Object.keys(this._images).forEach(H=>{const $=this._images[H],Q=this.imageFilename($.type);G.file(Q,$.data),$.target=`../media/${Q}`})}const l={};r.file("workbook.xml",(({sheets:s,filterNames:i,userNames:e})=>`${Jd}\n<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">\n  <fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="9303" />\n  <workbookPr defaultThemeVersion="124226" />\n  <bookViews>\n    <workbookView xWindow="240" yWindow="45" windowWidth="18195" windowHeight="7995" />\n  </bookViews>\n  <sheets>\n  ${co(s,({options:n},o)=>{const a=n.state||"visible";return`<sheet name="${xs(n.name||n.title||`Sheet${o+1}`)}" state="${a}" sheetId="${o+1}" r:id="rId${o+1}" />`})}\n  </sheets>\n  ${i.length||e.length?`\n    <definedNames>\n      ${co(i,n=>`\n         <definedName name="_xlnm._FilterDatabase" hidden="1" localSheetId="${n.localSheetId}">${xs(function g2t(s){return/^\'/.test(s)||/^[a-z_][a-z0-9_]*$/i.test(s)?s:"'"+s.replace(/\x27/g,"\\'")+"'"}(n.name))}!${xs(n.from)}:${xs(n.to)}</definedName>`)}\n      ${co(e,n=>`\n         <definedName name="${n.name}" hidden="${n.hidden?1:0}" ${null!=n.localSheetId?`localSheetId="${n.localSheetId}"`:""}>${xs(n.value)}</definedName>`)}\n    </definedNames>`:""}\n  <calcPr fullCalcOnLoad="1" calcId="145621" />\n</workbook>`)({sheets:this._sheets,filterNames:om(this._sheets,function(G,H){const $=G.options,Q=$.name||$.title||"Sheet"+(H+1);l[Q.toLowerCase()]=H;const ie=$.filter;if(ie){if(ie.ref){let ce=ie.ref.split(":"),re=RA(ce[0]),Ne=RA(ce[1]);return{localSheetId:H,name:Q,from:M7(re.row,re.col),to:M7(Ne.row,Ne.col)}}if(typeof ie.from<"u"&&typeof ie.to<"u")return{localSheetId:H,name:Q,from:M7(I7($),ie.from),to:M7(I7($),ie.to)}}}),userNames:om(this.options.names||[],function(G){return{name:G.localName,localSheetId:G.sheet?l[G.sheet.toLowerCase()]:null,value:G.value,hidden:G.hidden}})}));const c=r.folder("worksheets"),u=r.folder("drawings"),f=u.folder("_rels"),_=c.folder("_rels"),g=[],S=[];for(let G=0;G<n;G++){const H=this._sheets[G],$=`sheet${G+1}.xml`,Q=H.toXML(G),ie=H.relsToXML(),ce=H.commentsXML(),re=H.legacyDrawing(),Ne=H.drawingsXML(this._images);if(ie&&_.file($+".rels",ie),ce){let ue=`comments${H.options.sheetIndex}.xml`;r.file(ue,ce),g.push(ue)}if(re&&u.file(`vmlDrawing${H.options.sheetIndex}.vml`,re),Ne){let ue=`drawing${H.options.sheetIndex}.xml`;u.file(ue,Ne.main),f.file(`${ue}.rels`,Ne.rels),S.push(ue)}c.file($,Q)}const b=om(this._borders,rDe),k=om(this._styles,rDe),D=function(G){return G.underline||G.bold||G.italic||G.color||G.fontFamily||G.fontSize},I=om(k,function(G){if(G.fontSize&&(G.fontSize=function(G){let $,H=Number(G);return H&&($=3*H/4),$}(G.fontSize)),G.color&&(G.color=Gte(G.color)),D(G))return G}),N=om(k,function(G){if(G.format&&void 0===Lte[G.format])return G}),P=om(k,function(G){if(G.background)return G.background=Gte(G.background),G});return r.file("styles.xml",(({formats:s,fonts:i,fills:e,borders:n,styles:o})=>`${Jd}\n<styleSheet\n    xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"\n    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"\n    mc:Ignorable="x14ac"\n    xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">\n  <numFmts count="${s.length}">\n  ${co(s,(r,a)=>`\n    <numFmt formatCode="${xs(r.format)}" numFmtId="${165+a}" />`)}\n  </numFmts>\n  <fonts count="${i.length+1}" x14ac:knownFonts="1">\n    <font>\n       <sz val="11" />\n       <color theme="1" />\n       <name val="Calibri" />\n       <family val="2" />\n       <scheme val="minor" />\n    </font>\n    ${co(i,r=>`\n    <font>\n      ${r.bold?"<b/>":""}\n      ${r.italic?"<i/>":""}\n      ${r.underline?"<u/>":""}\n      <sz val="${r.fontSize||11}" />\n      ${r.color?`<color rgb="${xs(r.color)}" />`:'<color theme="1" />'}\n      ${r.fontFamily?`\n        <name val="${xs(r.fontFamily)}" />\n        <family val="2" />\n      `:'\n        <name val="Calibri" />\n        <family val="2" />\n        <scheme val="minor" />\n      '}\n    </font>`)}\n  </fonts>\n  <fills count="${e.length+2}">\n      <fill><patternFill patternType="none"/></fill>\n      <fill><patternFill patternType="gray125"/></fill>\n    ${co(e,r=>"\n      "+(r.background?`\n        <fill>\n          <patternFill patternType="solid">\n              <fgColor rgb="${xs(r.background)}"/>\n          </patternFill>\n        </fill>\n      `:""))}\n  </fills>\n  <borders count="${n.length+1}">\n    <border><left/><right/><top/><bottom/><diagonal/></border>\n    ${co(n,s2t)}\n  </borders>\n  <cellStyleXfs count="1">\n    <xf borderId="0" fillId="0" fontId="0" />\n  </cellStyleXfs>\n  <cellXfs count="${o.length+1}">\n    <xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" />\n    ${co(o,r=>`\n      <xf xfId="0"\n          ${r.fontId?`fontId="${r.fontId}" applyFont="1"`:""}\n          ${r.fillId?`fillId="${r.fillId}" applyFill="1"`:""}\n          ${r.numFmtId?`numFmtId="${r.numFmtId}" applyNumberFormat="1"`:""}\n          ${r.textAlign||r.verticalAlign||r.wrap?'applyAlignment="1"':""}\n          ${r.borderId?`borderId="${r.borderId}" applyBorder="1"`:""}\n          ${null!=r.disabled?'applyProtection="1"':""}>\n        ${r.textAlign||r.verticalAlign||r.wrap?`\n        <alignment\n          ${r.textAlign?`horizontal="${xs(r.textAlign)}"`:""}\n          ${r.verticalAlign?`vertical="${xs(r.verticalAlign)}"`:""}\n          ${r.indent?`indent="${xs(r.indent)}"`:""}\n          ${r.wrap?'wrapText="1"':""} />\n        `:""}\n        ${null!=r.disabled?`\n        <protection locked="${r.disabled?1:0}" />\n        `:""}\n      </xf>\n    `)}\n  </cellXfs>\n  <cellStyles count="1">\n    <cellStyle name="Normal" xfId="0" builtinId="0"/>\n  </cellStyles>\n  <dxfs count="0" />\n  <tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9" />\n</styleSheet>`)({fonts:I,fills:P,formats:N,borders:b,styles:om(k,function(G){const H={};return D(G)&&(H.fontId=xA(G,I)+1),G.background&&(H.fillId=xA(G,P)+2),H.textAlign=G.textAlign,H.indent=G.indent,H.verticalAlign=G.verticalAlign,H.wrap=G.wrap,H.borderId=G.borderId,G.format&&(H.numFmtId=void 0!==Lte[G.format]?Lte[G.format]:165+xA(G,N)),null!=G.disabled&&(H.disabled=G.disabled),H})})),r.file("sharedStrings.xml",(({count:s,uniqueCount:i,indexes:e})=>`${Jd}\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${s}" uniqueCount="${i}">\n  ${co(Object.keys(e),n=>`\n    <si><t xml:space="preserve">${xs(n.substring(1))}</t></si>`)}\n</sst>`)(this._strings)),i.file("[Content_Types].xml",(({sheetCount:s,commentFiles:i,drawingFiles:e})=>`${Jd}\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">\n  <Default Extension="png" ContentType="image/png"/>\n  <Default Extension="gif" ContentType="image/gif"/>\n  <Default Extension="jpg" ContentType="image/jpeg"/>\n  <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" />\n  <Default Extension="xml" ContentType="application/xml" />\n  <Default Extension="vml" ContentType="application/vnd.openxmlformats-officedocument.vmlDrawing"/>\n  <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" />\n  <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>\n  <Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>\n  ${aDe(s,n=>`<Override PartName="/xl/worksheets/sheet${n+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" />`)}\n  ${co(i,n=>`<Override PartName="/xl/${n}" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"/>`)}\n  ${co(e,n=>`<Override PartName="/xl/drawings/${n}" ContentType="application/vnd.openxmlformats-officedocument.drawing+xml"/>`)}\n  <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml" />\n  <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" />\n</Types>`)({sheetCount:n,commentFiles:g,drawingFiles:S})),i}toDataURL(){const i=this.toZIP();return i.generateAsync?i.generateAsync(sDe).then(oDe):oDe(i.generate(sDe))}toBlob(){const i=this.toZIP();return i.generateAsync?i.generateAsync(NSt):new Blob([i.generate(LSt)],{type:iDe})}}function AA(s,i){let e="";return i&&(e+="<"+s+' style="'+function i2t(s){let i="thin";return 2===s?i="medium":3===s&&(i="thick"),i}(i.size)+'">',i.color&&(e+='<color rgb="'+Gte(i.color)+'"/>'),e+="</"+s+">"),e}function s2t(s){let i=s.diagonal?s.diagonal.type:0;return`<border ${2&i?'diagonalUp="true"':""} ${1&i?'diagonalDown="true"':""}>\n      ${AA("left",s.left)}\n      ${AA("right",s.right)}\n      ${AA("top",s.top)}\n      ${AA("bottom",s.bottom)}\n      ${AA("diagonal",s.diagonal)}\n    </border>`}const cDe={};function dDe(s){return s.sort(function(i,e){return i.index-e.index})}function a2t(s,i){s.indexOf(i)<0&&s.push(i)}function l2t(s,i){for(let e=0;e<s.length;++e){const o=s[e].split(":");let r=o[0];if(r===i){let a=o[1];return r=RA(r),a=RA(a),{rowSpan:a.row-r.row+1,colSpan:a.col-r.col+1}}}}function RA(s){const n=/^([a-z]+)(\d+)$/i.exec(s);return{row:function e(o){return parseInt(o,10)-1}(n[2]),col:function i(o){let r=o.toUpperCase(),a=0;for(let l=0;l<r.length;++l)a=26*a+r.charCodeAt(l)-64;return a-1}(n[1])}}function x7(s){return Math.round(9525*s)}function c2t(s,i){const n=s.index,o=s._source.cells,r=s.cells;if(o)for(let a=0;a<o.length;a++){const l=o[a]||cDe;let c=l.rowSpan||1,u=l.colSpan||1;const f=d2t(r,l),_=oD(n,f);if(1===c&&1===u){const g=l2t(i.mergedCells,_);g&&(u=g.colSpan,c=g.rowSpan)}if(hDe(l,r,f,u),(c>1||u>1)&&a2t(i.mergedCells,_+":"+oD(n+c-1,f+u-1)),c>1)for(let g=n+1;g<n+c;g++){let S=i.rowsByIndex[g];S||(S=i.rowsByIndex[g]={index:g,cells:[]},i.rowData.push(S)),hDe(l,S.cells,f-1,u+1)}}}function d2t(s,i){let e;return"number"==typeof i.index?(e=i.index,uDe(s,i,i.index)):e=function u2t(s,i){let e=s.length;for(let n=0;n<s.length+1;n++)if(!s[n]){s[n]=i,e=n;break}return e}(s,i),e}function uDe(s,i,e){s[e]=i}function hDe(s,i,e,n){for(let o=1;o<n;o++)uDe(i,{borderTop:s.borderTop,borderRight:s.borderRight,borderBottom:s.borderBottom,borderLeft:s.borderLeft},e+o)}const h2t=({ref:s,columns:i,generators:e})=>`\n<autoFilter ref="${s}">\n  ${co(i,n=>`\n    <filterColumn colId="${n.index}">\n      ${e[n.filter](n)}\n    </filterColumn>\n  `)}\n</autoFilter>`,p2t=({logic:s,criteria:i})=>`\n<customFilters ${"and"===s?'and="1"':""}>\n${co(i,e=>{let n=tb.customOperator(e);return`<customFilter ${n?`operator="${n}"`:""} val="${tb.customValue(e)}"/>`})}\n</customFilters>`,f2t=({type:s})=>`<dynamicFilter type="${tb.dynamicFilterType(s)}" />`,m2t=({type:s,value:i})=>`<top10 percent="${/percent$/i.test(s)?1:0}"\n       top="${/^top/i.test(s)?1:0}"\n       val="${i}" />`,_2t=({blanks:s,values:i})=>`<filters ${s?'blank="1"':""}>\n    ${co(i,e=>`\n      <filter val="${e}" />`)}\n  </filters>`;function tb(s){return h2t({ref:s.ref,columns:s.columns,generators:{custom:p2t,dynamic:f2t,top:m2t,value:_2t}})}tb.customOperator=function(s){return{eq:"equal",gt:"greaterThan",gte:"greaterThanOrEqual",lt:"lessThan",lte:"lessThanOrEqual",ne:"notEqual",doesnotstartwith:"notEqual",doesnotendwith:"notEqual",doesnotcontain:"notEqual",doesnotmatch:"notEqual"}[s.operator.toLowerCase()]},tb.customValue=function(s){function i(e){return e.replace(/([*?])/g,"~$1")}switch(s.operator.toLowerCase()){case"startswith":case"doesnotstartwith":return i(s.value)+"*";case"endswith":case"doesnotendwith":return"*"+i(s.value);case"contains":case"doesnotcontain":return"*"+i(s.value)+"*";default:return s.value}},tb.dynamicFilterType=function(s){return{quarter1:"Q1",quarter2:"Q2",quarter3:"Q3",quarter4:"Q4",january:"M1",february:"M2",march:"M3",april:"M4",may:"M5",june:"M6",july:"M7",august:"M8",september:"M9",october:"M10",november:"M11",december:"M12"}[s.toLowerCase()]||s};var v2t=_e(910);Awe.register({toString:v2t.dI});let D2t=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({}),s})();function O2t(s,i){}function T2t(s,i){if(1&s&&t.DNE(0,O2t,0,0,"ng-template",1),2&s){const e=t.XpG();t.Y8G("ngTemplateOutlet",e.toolbarTemplateRef)("ngTemplateOutletContext",e.context)}}const M2t=["select"],I2t=["numbers"],x2t=(s,i)=>({"k-picker-sm":s,"k-picker-md":i}),A2t=s=>({"k-selected":s});function R2t(s,i){if(1&s&&(t.j41(0,"option",10),t.EFF(1,"... "),t.k0s()),2&s){const e=t.XpG();t.Y8G("selected",!1),t.BMQ("aria-label",e.pageLabel(e.start-1))}}function N2t(s,i){if(1&s&&(t.j41(0,"option",11),t.EFF(1),t.k0s()),2&s){const e=i.$implicit,n=t.XpG();t.Y8G("value",e.toString())("selected",e===n.currentPage)("ngClass",t.eq3(6,A2t,n.currentPage===e)),t.BMQ("aria-label",n.pageLabel(e))("aria-current",n.currentPage===e?"page":void 0),t.R7$(),t.SpI(" ",e," ")}}function L2t(s,i){if(1&s&&(t.j41(0,"option",12),t.EFF(1,"... "),t.k0s()),2&s){const e=t.XpG();t.Y8G("selected",!1),t.BMQ("aria-label",e.pageLabel(e.end+1))}}function G2t(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",13),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.changePage(o.start-2))}),t.EFF(1,"..."),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("size",e.size),t.BMQ("aria-label",e.pageLabel(e.start-1))("title",e.pageLabel(e.start-1))}}function P2t(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",14),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.changePage(o-1))}),t.EFF(1),t.k0s()}if(2&s){const e=i.$implicit,n=t.XpG();t.Y8G("size",n.size)("selected",n.currentPage===e),t.BMQ("aria-label",n.pageLabel(e))("title",n.pageLabel(e))("aria-current",n.currentPage===e?"page":void 0),t.R7$(),t.SpI(" ",e," ")}}function F2t(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",13),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.changePage(o.end))}),t.EFF(1,"..."),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("size",e.size),t.BMQ("aria-label",e.pageLabel(e.end+1))("title",e.pageLabel(e.end+1))}}const U2t=(s,i)=>({keydown:s,focusout:i});function B2t(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",4),t.bIt("focusin",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onInnerFocusIn(o,"start"))}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("tabindex",e.focusTrapTabIndex),t.BMQ("aria-hidden",!0)}}function V2t(s,i){if(1&s&&t.eu8(0,5),2&s){const e=t.XpG();t.Y8G("ngTemplateOutlet",e.template.templateRef)("ngTemplateOutletContext",e.templateContext)}}function z2t(s,i){if(1&s&&t.nrm(0,"kendo-pager-prev-buttons",10),2&s){const e=t.XpG(2);t.Y8G("size",e.size)}}function j2t(s,i){if(1&s&&t.nrm(0,"kendo-pager-numeric-buttons",11),2&s){const e=t.XpG(2);t.Y8G("size",e.size)("buttonCount",e.settings.buttonCount)}}function H2t(s,i){if(1&s&&t.nrm(0,"kendo-pager-input",10),2&s){const e=t.XpG(2);t.Y8G("size",e.size)}}function $2t(s,i){if(1&s&&t.nrm(0,"kendo-pager-next-buttons",10),2&s){const e=t.XpG(2);t.Y8G("size",e.size)}}function X2t(s,i){1&s&&t.nrm(0,"kendo-pager-info")}function W2t(s,i){if(1&s&&t.nrm(0,"kendo-pager-page-sizes",12),2&s){const e=t.XpG(2);t.Y8G("size",e.size)("pageSizes",e.settings.pageSizes)}}function Y2t(s,i){if(1&s&&(t.qex(0),t.j41(1,"div",6),t.DNE(2,z2t,1,1,"kendo-pager-prev-buttons",7)(3,j2t,1,2,"kendo-pager-numeric-buttons",8)(4,H2t,1,1,"kendo-pager-input",7)(5,$2t,1,1,"kendo-pager-next-buttons",7),t.k0s(),t.DNE(6,X2t,1,0,"kendo-pager-info",2)(7,W2t,1,2,"kendo-pager-page-sizes",9),t.bVm()),2&s){const e=t.XpG();t.R7$(2),t.Y8G("ngIf",e.settings.previousNext),t.R7$(),t.Y8G("ngIf","numeric"===e.settings.type),t.R7$(),t.Y8G("ngIf","input"===e.settings.type),t.R7$(),t.Y8G("ngIf",e.settings.previousNext),t.R7$(),t.Y8G("ngIf",e.settings.info),t.R7$(),t.Y8G("ngIf",e.settings.pageSizes)}}function K2t(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",4),t.bIt("focusin",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onInnerFocusIn(o,"end"))}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("tabindex",e.focusTrapTabIndex),t.BMQ("aria-hidden",!0)}}function J2t(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-resize-sensor",13),t.bIt("resize",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.resizeHandler())}),t.k0s()}}const bDe=["defaultTemplate"],EDe=()=>({lastTarget:!0}),q2t=(s,i,e)=>({field:s,type:"groupIndicator",hint:i,target:e}),Q2t=(s,i)=>({keydown:s,click:i});function Z2t(s,i){if(1&s&&(t.j41(0,"div",4),t.EFF(1),t.k0s()),2&s){const e=t.XpG();t.Y8G("context",t.lJ4(2,EDe)),t.R7$(),t.SpI(" ",e.text," ")}}function eCt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-chip",7,1),t.bIt("contentClick",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.directionChange(o))})("remove",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.remove(o))})("menuToggle",function(){const o=t.eBV(e),r=o.$implicit,a=o.first,l=o.last,c=t.sdS(1),u=t.XpG(2);return t.Njj(u.toggleMenu(c,a,l,r.field))})("keydown.alt.arrowdown",function(o){const r=t.eBV(e),a=r.$implicit,l=r.first,c=r.last,u=t.sdS(1),f=t.XpG(2);return o.preventDefault(),t.Njj(f.toggleMenu(u,l,c,a.field))}),t.k0s()}if(2&s){const e=i.$implicit,n=i.index,o=t.sdS(1),r=t.XpG(2);t.Y8G("title",r.getTitle(e))("enableDrag",!0)("context",t.sMw(11,q2t,e.field,r.groupTitles[n],o))("label",r.groupTitles[n])("removable",!0)("hasMenu",!0)("icon",r.getDirectionIcon(e))("svgIcon",r.getDirectionSvgIcon(e)),t.BMQ("aria-haspopup","menu")("aria-expanded",r.isChipMenuOpen)("aria-controls",r.gridId)}}function tCt(s,i){if(1&s&&(t.j41(0,"kendo-chiplist",5),t.DNE(1,eCt,2,15,"kendo-chip",6),t.k0s()),2&s){const e=t.XpG();t.Y8G("navigable",e.navigable),t.R7$(),t.Y8G("ngForOf",e.groups)}}function nCt(s,i){1&s&&(t.j41(0,"div",4),t.EFF(1,"\xa0"),t.k0s()),2&s&&t.Y8G("context",t.lJ4(1,EDe))}function iCt(s,i){if(1&s&&(t.j41(0,"ul",8)(1,"li",9)(2,"span",10),t.nrm(3,"kendo-icon-wrapper",11),t.j41(4,"span",12),t.EFF(5),t.k0s()()(),t.j41(6,"li",9)(7,"span",10),t.nrm(8,"kendo-icon-wrapper",11),t.j41(9,"span",12),t.EFF(10),t.k0s()()()()),2&s){const e=t.XpG();t.Y8G("kendoEventsOutsideAngular",t.l_i(13,Q2t,e.handleKeyDown,e.handleClick)),t.R7$(),t.BMQ("aria-disabled",e.first),t.R7$(),t.AVh("k-disabled",e.first),t.R7$(),t.Y8G("name",e.rtl?"arrow-right":"arrow-left")("svgIcon",e.rtl?e.arrowRightIcon:e.arrowLeftIcon),t.R7$(2),t.JRh(e.messageFor("groupChipMenuPrevious")),t.R7$(),t.BMQ("aria-disabled",e.last),t.R7$(),t.AVh("k-disabled",e.last),t.R7$(),t.Y8G("name",e.rtl?"arrow-left":"arrow-right")("svgIcon",e.rtl?e.arrowLeftIcon:e.arrowRightIcon),t.R7$(2),t.JRh(e.messageFor("groupChipMenuNext"))}}const sCt=["kendoGridColGroup",""];function oCt(s,i){1&s&&t.nrm(0,"col"),2&s&&t.AVh("k-group-col",!0)}function rCt(s,i){1&s&&t.nrm(0,"col"),2&s&&t.AVh("k-hierarchy-col",!0)}function aCt(s,i){if(1&s&&t.nrm(0,"col"),2&s){const e=i.$implicit,n=t.XpG();t.xc7("width",e.width,"px"),t.AVh("k-sorted",n.isSorted(n.getColumnComponent(e)))}}const lm=["*"];function lCt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-dropdownlist",3),t.bIt("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.logicChange(o))}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("filterMenuDropDownLabel",e.filterMenuDropDownLabel)("data",e.logicOperators)("valuePrimitive",!0)("value",null==e.filter?null:e.filter.logic)}}function cCt(s,i){if(1&s&&t.nrm(0,"kendo-grid-string-filter-menu-input",4),2&s){const e=t.XpG();t.Y8G("operators",e.operators)("currentFilter",e.secondFilter)("filterService",e.filterService)("column",e.column)("filter",e.filter)("menuTabbingService",e.menuTabbingService)}}function dCt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-dropdownlist",3),t.bIt("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.logicChange(o))}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("filterMenuDropDownLabel",e.filterMenuDropDownLabel)("data",e.logicOperators)("valuePrimitive",!0)("value",null==e.filter?null:e.filter.logic)}}function uCt(s,i){if(1&s&&t.nrm(0,"kendo-grid-numeric-filter-menu-input",4),2&s){const e=t.XpG();t.Y8G("operators",e.operators)("currentFilter",e.secondFilter)("filterService",e.filterService)("column",e.column)("filter",e.filter)("format",e.format)("decimals",e.decimals)("spinners",e.spinners)("min",e.min)("max",e.max)("step",e.step)("menuTabbingService",e.menuTabbingService)}}function hCt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-dropdownlist",3),t.bIt("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.logicChange(o))}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("filterMenuDropDownLabel",e.filterMenuDropDownLabel)("data",e.logicOperators)("valuePrimitive",!0)("value",null==e.filter?null:e.filter.logic)}}function pCt(s,i){if(1&s&&t.nrm(0,"kendo-grid-date-filter-menu-input",4),2&s){const e=t.XpG();t.Y8G("operators",e.operators)("currentFilter",e.secondFilter)("filterService",e.filterService)("column",e.column)("filter",e.filter)("activeView",e.activeView)("bottomView",e.bottomView)("topView",e.topView)("format",e.format)("formatPlaceholder",e.formatPlaceholder)("placeholder",e.placeholder)("min",e.min)("max",e.max)("weekNumber",e.weekNumber)("menuTabbingService",e.menuTabbingService)}}function fCt(s,i){if(1&s){const e=t.RV6();t.j41(0,"li")(1,"input",3,0),t.bIt("change",function(){const o=t.eBV(e).$implicit,r=t.sdS(2),a=t.XpG();return t.Njj(a.onChange(o.value,r))})("keydown.shift.tab",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onShiftTab(o))}),t.k0s(),t.j41(3,"label",4),t.EFF(4),t.k0s()()}if(2&s){const e=i.$implicit,n=t.XpG();t.R7$(),t.Y8G("columnLabel",n.columnLabel)("name",n.idPrefix)("checked",n.isSelected(e.value)),t.BMQ("id",n.radioId(e.value)),t.R7$(2),t.BMQ("for",n.radioId(e.value)),t.R7$(),t.JRh(e.text)}}const yDe=["resetButton"],mCt=["filterButton"];function _Ct(s,i){if(1&s&&(t.qex(0),t.eu8(1,9),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.Y8G("filterService",e.childService)("column",e.column)("filter",e.childFilter)("menuTabbingService",e.menuTabbingService)}}function gCt(s,i){}function vCt(s,i){if(1&s&&t.DNE(0,gCt,0,0,"ng-template",11),2&s){const e=t.XpG(2);t.Y8G("ngTemplateOutlet",e.column.filterMenuTemplateRef)("ngTemplateOutletContext",e.templateContext)}}function SCt(s,i){if(1&s&&(t.qex(0),t.DNE(1,vCt,1,2,null,10),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.column.filterMenuTemplateRef)}}const Pte=["anchor"],kDe=["template"];function CCt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-grid-filter-menu-container",4),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())})("keydown.escape",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())})("keydown.enter",function(o){return t.eBV(e),t.Njj(o.stopImmediatePropagation())}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("column",e.column)("filter",e.filter)}}function bCt(s,i){if(1&s&&(t.j41(0,"div",3),t.eu8(1,4),t.nrm(2,"div"),t.k0s()),2&s){const e=t.XpG();t.xc7("overflow","hidden"),t.Y8G("@state",e.contentState),t.BMQ("id",e.contentId),t.R7$(),t.Y8G("ngTemplateOutlet",e.contentTemplate.templateRef)}}function ECt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-grid-columnmenu-lock",3),t.bIt("keydown.tab",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.onTab(o,!r.showStick))}),t.k0s()}if(2&s){const e=t.XpG(2);t.Y8G("service",e.service)}}function yCt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-grid-columnmenu-stick",3),t.bIt("keydown.tab",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.onTab(o,!0))}),t.k0s()}if(2&s){const e=t.XpG(2);t.Y8G("service",e.service)}}function kCt(s,i){if(1&s&&t.DNE(0,ECt,1,1,"kendo-grid-columnmenu-lock",2)(1,yCt,1,1,"kendo-grid-columnmenu-stick",2),2&s){const e=t.XpG();t.Y8G("ngIf",e.showLock),t.R7$(),t.Y8G("ngIf",e.showStick)}}const wCt=["applyButton"];function DCt(s,i){if(1&s&&(t.j41(0,"label",5),t.nrm(1,"input",6),t.j41(2,"span",7),t.EFF(3),t.k0s()()),2&s){const e=i.$implicit,n=i.index,o=t.XpG();t.Y8G("kendoColumnMenuChooserItemChecked",!e.hidden),t.R7$(),t.Y8G("checked",!e.hidden)("disabled",o.isDisabled(e)),t.BMQ("data-index",n)("aria-hidden",!0),t.R7$(2),t.JRh(e.displayTitle)}}function OCt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",8)(1,"button",9,0),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.applyChanges())})("keydown.enter",function(o){t.eBV(e);const r=t.XpG();return o.preventDefault(),t.Njj(r.applyChanges())})("keydown.space",function(o){t.eBV(e);const r=t.XpG();return o.preventDefault(),t.Njj(r.applyChanges())}),t.EFF(3),t.k0s(),t.j41(4,"button",10,1),t.bIt("keydown.tab",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onTab(o))})("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.cancelChanges())})("keydown.enter",function(o){t.eBV(e);const r=t.XpG();return o.preventDefault(),t.Njj(r.cancelChanges())})("keydown.space",function(o){t.eBV(e);const r=t.XpG();return o.preventDefault(),t.Njj(r.cancelChanges())}),t.EFF(6),t.k0s()()}if(2&s){const e=t.XpG();t.Y8G("ngClass",e.actionsClass),t.R7$(3),t.JRh(e.applyText),t.R7$(3),t.JRh(e.resetText)}}function TCt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-grid-columnlist",2),t.bIt("apply",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onApply(o))}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("applyText",e.ctx.localization.get("columnsApply"))("resetText",e.ctx.localization.get("columnsReset"))("ariaLabel",e.ctx.localization.get("columns"))("columns",e.columns)("autoSync",!1)("allowHideAll",!1)("actionsClass",e.actionsClass)("isLast",e.isLast)("isExpanded",e.expanded)("service",e.service)}}function MCt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-grid-filter-menu-container",2),t.bIt("keydown.shift.tab",function(o){return t.eBV(e),t.Njj(o.stopImmediatePropagation())})("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("column",e.service.column)("menuTabbingService",e.service.menuTabbingService)("filter",e.service.filter)("actionsClass",e.actionsClass)("isLast",e.isLast)("isExpanded",e.expanded)}}function ICt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-grid-columnmenu-item",1),t.bIt("itemClick",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.autoSizeColumn())}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("text",e.ctx.localization.get("autosizeThisColumn"))("svgIcon",e.maxWidthIcon)}}function xCt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-grid-columnmenu-item",1),t.bIt("itemClick",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.autoSizeAllColumns())}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("text",e.ctx.localization.get("autosizeAllColumns"))("svgIcon",e.displayInlineFlexIcon)}}const ACt=["tabbedInterfaceTemplate"],RCt=s=>({"k-active":s}),NCt=(s,i)=>({service:s,column:i});function LCt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-grid-columnmenu-container",15),t.bIt("keydown.escape",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close(!0))})("keydown.enter",function(o){return t.eBV(e),t.Njj(o.stopImmediatePropagation())}),t.eu8(1,16),t.k0s()}if(2&s){const e=t.XpG(),n=t.sdS(6),o=t.sdS(8);t.R7$(),t.Y8G("ngTemplateOutlet",e.column.columnMenuTemplateRef||e.columnMenuTemplate||("tabbed"===e.settings.view?o:n))("ngTemplateOutletContext",t.l_i(2,NCt,e.service,e.column))}}function GCt(s,i){if(1&s&&t.nrm(0,"kendo-grid-columnmenu-sort",23,4),2&s){const e=t.sdS(1),n=t.XpG(2);t.Y8G("kendoGridColumnMenuItem",e)("service",n.service)}}function PCt(s,i){if(1&s&&t.nrm(0,"kendo-grid-columnmenu-lock",23,5),2&s){const e=t.sdS(1),n=t.XpG(2);t.Y8G("kendoGridColumnMenuItem",e)("service",n.service)}}function FCt(s,i){if(1&s&&t.nrm(0,"kendo-grid-columnmenu-stick",23,6),2&s){const e=t.sdS(1),n=t.XpG(2);t.Y8G("kendoGridColumnMenuItem",e)("service",n.service)}}function UCt(s,i){if(1&s&&t.nrm(0,"kendo-grid-columnmenu-position",24,7),2&s){const e=t.sdS(1),n=t.XpG(2);t.Y8G("showLock",n.hasLock)("showStick",n.hasStick)("kendoGridColumnMenuItem",e)("service",n.service)("expanded",n.expandedPosition)}}function BCt(s,i){1&s&&t.nrm(0,"span",25),2&s&&t.xc7("border-color","rgba(0, 0, 0, 0.08)")}function VCt(s,i){if(1&s&&t.nrm(0,"kendo-grid-columnmenu-chooser",26,8),2&s){const e=t.sdS(1),n=t.XpG(2);t.Y8G("kendoGridColumnMenuItem",e)("service",n.service)("expanded",n.expandedColumns)}}function zCt(s,i){if(1&s&&t.nrm(0,"kendo-grid-columnmenu-autosize-column",27,9),2&s){const e=t.sdS(1),n=t.XpG(2);t.Y8G("service",n.service)("kendoGridColumnMenuItem",e)("column",n.column)}}function jCt(s,i){if(1&s&&t.nrm(0,"kendo-grid-columnmenu-autosize-all-columns",28,10),2&s){const e=t.sdS(1),n=t.XpG(2);t.Y8G("service",n.service)("kendoGridColumnMenuItem",e)}}function HCt(s,i){1&s&&t.nrm(0,"span",25),2&s&&t.xc7("border-color","rgba(0, 0, 0, 0.08)")}function $Ct(s,i){if(1&s&&t.nrm(0,"kendo-grid-columnmenu-filter",26,11),2&s){const e=t.sdS(1),n=t.XpG(2);t.Y8G("kendoGridColumnMenuItem",e)("service",n.service)("expanded",n.expandedFilter)}}function XCt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-grid-columnmenu-container",15),t.bIt("keydown.escape",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close(!0))})("keydown.enter",function(o){return t.eBV(e),t.Njj(o.stopImmediatePropagation())}),t.DNE(1,GCt,2,2,"kendo-grid-columnmenu-sort",17)(2,PCt,2,2,"kendo-grid-columnmenu-lock",17)(3,FCt,2,2,"kendo-grid-columnmenu-stick",17)(4,UCt,2,5,"kendo-grid-columnmenu-position",18)(5,BCt,1,2,"span",19)(6,VCt,2,3,"kendo-grid-columnmenu-chooser",20)(7,zCt,2,3,"kendo-grid-columnmenu-autosize-column",21)(8,jCt,2,2,"kendo-grid-columnmenu-autosize-all-columns",22)(9,HCt,1,2,"span",19)(10,$Ct,2,3,"kendo-grid-columnmenu-filter",20),t.k0s()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.hasSort),t.R7$(),t.Y8G("ngIf",e.hasLock&&!e.hasPosition),t.R7$(),t.Y8G("ngIf",e.hasStick&&!e.hasPosition),t.R7$(),t.Y8G("ngIf",e.hasPosition),t.R7$(),t.Y8G("ngIf",e.hasColumnChooser||e.hasAutoSizeColumn||e.hasAutoSizeAllColumns),t.R7$(),t.Y8G("ngIf",e.hasColumnChooser),t.R7$(),t.Y8G("ngIf",e.hasAutoSizeColumn),t.R7$(),t.Y8G("ngIf",e.hasAutoSizeAllColumns),t.R7$(),t.Y8G("ngIf",e.hasColumnChooser||e.hasAutoSizeColumn||e.hasAutoSizeAllColumns),t.R7$(),t.Y8G("ngIf",e.hasFilter)}}function WCt(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",33),2&s){const e=t.XpG(3);t.Y8G("svgIcon",e.filterIcon),t.BMQ("title",e.ctx.localization.get("columnMenuFilterTabTitle"))}}function YCt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-grid-filter-menu-container",34),t.bIt("keydown.shift.tab",function(o){return t.eBV(e),t.Njj(o.stopImmediatePropagation())})("close",function(){t.eBV(e);const o=t.XpG(3);return t.Njj(o.close())}),t.k0s()}if(2&s){const e=t.XpG(3);t.Y8G("column",e.service.column)("menuTabbingService",e.service.menuTabbingService)("filter",e.service.filter)("actionsClass",e.actionsClass)}}function KCt(s,i){1&s&&(t.j41(0,"kendo-tabstrip-tab"),t.DNE(1,WCt,1,2,"ng-template",31)(2,YCt,1,4,"ng-template",32),t.k0s())}function JCt(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",35),2&s){const e=t.XpG(3);t.Y8G("svgIcon",e.slidersIcon),t.BMQ("title",e.ctx.localization.get("columnMenuGeneralTabTitle"))}}function qCt(s,i){if(1&s&&t.nrm(0,"kendo-grid-columnmenu-sort",23,4),2&s){const e=t.sdS(1),n=t.XpG(4);t.Y8G("kendoGridColumnMenuItem",e)("service",n.service)}}function QCt(s,i){1&s&&t.nrm(0,"span",25),2&s&&t.xc7("border-color","rgba(0, 0, 0, 0.08)")}function ZCt(s,i){if(1&s&&t.nrm(0,"kendo-grid-columnmenu-lock",23,5),2&s){const e=t.sdS(1),n=t.XpG(4);t.Y8G("kendoGridColumnMenuItem",e)("service",n.service)}}function e0t(s,i){if(1&s&&t.nrm(0,"kendo-grid-columnmenu-stick",23,6),2&s){const e=t.sdS(1),n=t.XpG(4);t.Y8G("kendoGridColumnMenuItem",e)("service",n.service)}}function t0t(s,i){1&s&&t.nrm(0,"span",25),2&s&&t.xc7("border-color","rgba(0, 0, 0, 0.08)")}function n0t(s,i){if(1&s&&t.nrm(0,"kendo-grid-columnmenu-position",24,7),2&s){const e=t.sdS(1),n=t.XpG(4);t.Y8G("showLock",n.hasLock)("showStick",n.hasStick)("kendoGridColumnMenuItem",e)("service",n.service)("expanded",n.expandedPosition)}}function i0t(s,i){1&s&&t.nrm(0,"span",25),2&s&&t.xc7("border-color","rgba(0, 0, 0, 0.08)")}function s0t(s,i){if(1&s&&t.nrm(0,"kendo-grid-columnmenu-autosize-column",27,9),2&s){const e=t.sdS(1),n=t.XpG(4);t.Y8G("service",n.service)("kendoGridColumnMenuItem",e)("column",n.column)}}function o0t(s,i){if(1&s&&t.nrm(0,"kendo-grid-columnmenu-autosize-all-columns",28,10),2&s){const e=t.sdS(1),n=t.XpG(4);t.Y8G("service",n.service)("kendoGridColumnMenuItem",e)}}function r0t(s,i){if(1&s&&t.DNE(0,qCt,2,2,"kendo-grid-columnmenu-sort",17)(1,QCt,1,2,"span",19)(2,ZCt,2,2,"kendo-grid-columnmenu-lock",17)(3,e0t,2,2,"kendo-grid-columnmenu-stick",17)(4,t0t,1,2,"span",19)(5,n0t,2,5,"kendo-grid-columnmenu-position",18)(6,i0t,1,2,"span",19)(7,s0t,2,3,"kendo-grid-columnmenu-autosize-column",21)(8,o0t,2,2,"kendo-grid-columnmenu-autosize-all-columns",22),2&s){const e=t.XpG(3);t.Y8G("ngIf",e.hasSort),t.R7$(),t.Y8G("ngIf",e.hasSort&&(e.hasLock||e.hasStick||e.hasPosition||e.hasAutoSizeColumn||e.hasAutoSizeAllColumns)),t.R7$(),t.Y8G("ngIf",e.hasLock&&!e.hasPosition),t.R7$(),t.Y8G("ngIf",e.hasStick&&!e.hasPosition),t.R7$(),t.Y8G("ngIf",(e.hasLock||e.hasStick)&&!e.hasPosition&&(e.hasAutoSizeColumn||e.hasAutoSizeAllColumns)),t.R7$(),t.Y8G("ngIf",e.hasPosition),t.R7$(),t.Y8G("ngIf",e.hasPosition&&(e.hasAutoSizeColumn||e.hasAutoSizeAllColumns)),t.R7$(),t.Y8G("ngIf",e.hasAutoSizeColumn),t.R7$(),t.Y8G("ngIf",e.hasAutoSizeAllColumns)}}function a0t(s,i){1&s&&(t.j41(0,"kendo-tabstrip-tab"),t.DNE(1,JCt,1,2,"ng-template",31)(2,r0t,9,9,"ng-template",32),t.k0s())}function l0t(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",36),2&s){const e=t.XpG(3);t.Y8G("svgIcon",e.columnsIcon),t.BMQ("title",e.ctx.localization.get("columnMenuColumnsTabTitle"))}}function c0t(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-grid-columnlist",37),t.bIt("apply",function(o){t.eBV(e);const r=t.XpG(3);return t.Njj(r.onApply(o))}),t.k0s()}if(2&s){const e=t.XpG(3);t.Y8G("applyText",e.ctx.localization.get("columnsApply"))("resetText",e.ctx.localization.get("columnsReset"))("columns",e.columns)("autoSync",!1)("allowHideAll",!1)("actionsClass",e.actionsClass)("service",e.service)}}function d0t(s,i){1&s&&(t.j41(0,"kendo-tabstrip-tab"),t.DNE(1,l0t,1,2,"ng-template",31)(2,c0t,1,7,"ng-template",32),t.k0s())}function u0t(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-tabstrip",29,12),t.bIt("keydown.escape",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close(!0))}),t.DNE(2,KCt,3,0,"kendo-tabstrip-tab",30)(3,a0t,3,0,"kendo-tabstrip-tab",30)(4,d0t,3,0,"kendo-tabstrip-tab",30),t.k0s()}if(2&s){const e=t.XpG();t.R7$(2),t.Y8G("ngIf",e.hasFilter),t.R7$(),t.Y8G("ngIf",e.showGeneralTab),t.R7$(),t.Y8G("ngIf",e.hasColumnChooser)}}const h0t=["dropdown"],wDe=()=>({width:"auto"});function p0t(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-dropdownlist",3,0),t.bIt("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onChange(o))})("keydown",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.dropdownKeydown(o))}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("data",e.operators)("value",e.value)("svgIcon",e.filterSVGIcon)("valuePrimitive",!0)("popupSettings",t.lJ4(7,wDe))("size",e.size),t.BMQ("aria-label",e.column&&e.columnLabel)}}function f0t(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",4),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.clearClick())})("keydown",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.clearKeydown(o))}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("svgIcon",e.filterClearIcon)("title",e.clearText)("size",e.size)}}const m0t=["kendoGridFilterCell",""];function _0t(s,i){if(1&s&&(t.qex(0),t.eu8(1,3),t.bVm()),2&s){const e=t.XpG(2);t.R7$(),t.Y8G("column",e.column)("filter",e.filter)}}function g0t(s,i){}function v0t(s,i){if(1&s&&t.DNE(0,g0t,0,0,"ng-template",4),2&s){const e=t.XpG(3);t.Y8G("ngTemplateOutlet",e.column.filterCellTemplateRef)("ngTemplateOutletContext",e.templateContext)}}function S0t(s,i){if(1&s&&(t.qex(0),t.DNE(1,v0t,1,2,null,0),t.bVm()),2&s){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",e.column.filterCellTemplateRef)}}function C0t(s,i){if(1&s&&(t.qex(0)(1,1),t.DNE(2,_0t,2,2,"ng-container",2)(3,S0t,2,1,"ng-container",2),t.bVm()()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngSwitch",e.hasTemplate),t.R7$(),t.Y8G("ngSwitchCase",!1),t.R7$(),t.Y8G("ngSwitchCase",!0)}}const b0t=["kendoGridFilterRow",""];function E0t(s,i){1&s&&t.nrm(0,"td",3),2&s&&t.AVh("k-group-cell",!0)}function y0t(s,i){1&s&&t.nrm(0,"td",3),2&s&&t.AVh("k-hierarchy-cell",!0)}function k0t(s,i){if(1&s&&t.nrm(0,"td",4),2&s){const e=i.$implicit,n=i.index,o=t.XpG();t.AVh("k-grid-header-sticky",e.sticky),t.Y8G("ngStyle",o.addStickyStyles(e))("ngClass",e.filterClass)("column",e)("filter",o.filter)("logicalRowIndex",o.logicalRowIndex)("logicalColIndex",o.getLogicalColIndex(n)),t.BMQ("aria-label",o.filterLabel(e))}}const w0t=["kendoGridHeader",""],D0t=(s,i,e,n)=>({field:s,type:"column",column:i,hint:e,lastColumn:n}),R7=(s,i,e,n)=>({templateRef:s,columnIndex:i,column:e,$implicit:n}),O0t=(s,i,e)=>({type:"columnGroup",column:s,hint:i,lastColumn:e});function T0t(s,i){1&s&&t.nrm(0,"th",7)}function M0t(s,i){1&s&&t.nrm(0,"th",8)}function I0t(s,i){}function x0t(s,i){if(1&s&&(t.qex(0),t.j41(1,"span",19),t.EFF(2),t.k0s(),t.bVm()),2&s){const e=t.XpG(3).$implicit;t.R7$(2),t.JRh(e.displayTitle)}}function A0t(s,i){if(1&s&&t.nrm(0,"kendo-grid-filter-menu",20),2&s){const e=t.XpG(3).$implicit,n=t.XpG(2);t.Y8G("column",n.getColumnComponent(e))("filter",n.filter)("tabIndex",n.tabIndex)}}function R0t(s,i){if(1&s&&t.nrm(0,"kendo-grid-column-menu",21),2&s){const e=t.XpG(3).$implicit,n=t.XpG(2);t.Y8G("standalone",!1)("settings",n.columnMenuSettings)("column",e)("columnMenuTemplate",n.columnMenuTemplate)("sort",n.sort)("filter",n.filter)("sortable",n.sortable)("tabIndex",n.tabIndex)}}function N0t(s,i){if(1&s&&(t.qex(0),t.j41(1,"span",14)(2,"span",15),t.DNE(3,I0t,0,0,"ng-template",16)(4,x0t,3,1,"ng-container",12),t.k0s(),t.DNE(5,A0t,1,3,"kendo-grid-filter-menu",17)(6,R0t,1,8,"kendo-grid-column-menu",18),t.k0s(),t.bVm()),2&s){const e=t.XpG(2).$implicit,n=t.XpG(2);t.R7$(3),t.Y8G("templateContext",t.ziG(4,R7,e.headerTemplateRef,e.leafIndex,e,e)),t.R7$(),t.Y8G("ngIf",!e.headerTemplateRef),t.R7$(),t.Y8G("ngIf",n.showFilterMenu&&n.isFilterable(n.getColumnComponent(e))),t.R7$(),t.Y8G("ngIf",n.showColumnMenu(e))}}function L0t(s,i){}function G0t(s,i){if(1&s&&(t.qex(0),t.j41(1,"span",19),t.EFF(2),t.k0s(),t.bVm()),2&s){const e=t.XpG(3).$implicit;t.R7$(2),t.JRh(e.displayTitle)}}function P0t(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",26),2&s){const e=t.XpG(3).$implicit,n=t.XpG(2);t.Mz_("name","sort-",n.sortDescriptor(n.getColumnComponent(e).field).dir,"-small"),t.Y8G("svgIcon","asc"===n.sortDescriptor(n.getColumnComponent(e).field).dir?n.sortAscSmallIcon:n.sortDescSmallIcon),t.BMQ("aria-label",n.sortableLabel)}}function F0t(s,i){if(1&s&&(t.j41(0,"span",27),t.EFF(1),t.k0s()),2&s){const e=t.XpG(3).$implicit,n=t.XpG(2);t.R7$(),t.JRh(n.sortOrder(n.getColumnComponent(e).field))}}function U0t(s,i){if(1&s&&t.nrm(0,"kendo-grid-filter-menu",20),2&s){const e=t.XpG(3).$implicit,n=t.XpG(2);t.Y8G("column",n.getColumnComponent(e))("filter",n.filter)("tabIndex",n.tabIndex)}}function B0t(s,i){if(1&s&&t.nrm(0,"kendo-grid-column-menu",21),2&s){const e=t.XpG(3).$implicit,n=t.XpG(2);t.Y8G("standalone",!1)("settings",n.columnMenuSettings)("column",e)("columnMenuTemplate",n.columnMenuTemplate)("sort",n.sort)("filter",n.filter)("sortable",n.sortable)("tabIndex",n.tabIndex)}}function V0t(s,i){if(1&s){const e=t.RV6();t.qex(0),t.j41(1,"span",14)(2,"span",22,0),t.bIt("click",function(o){t.eBV(e);const r=t.sdS(3),a=t.XpG(2).$implicit,l=t.XpG(2);return t.Njj(l.onSortClick(l.getColumnComponent(a),o,r))}),t.DNE(4,L0t,0,0,"ng-template",16)(5,G0t,3,1,"ng-container",12),t.j41(6,"span",23),t.DNE(7,P0t,1,4,"kendo-icon-wrapper",24),t.k0s(),t.DNE(8,F0t,2,1,"span",25),t.k0s(),t.DNE(9,U0t,1,3,"kendo-grid-filter-menu",17)(10,B0t,1,8,"kendo-grid-column-menu",18),t.k0s(),t.bVm()}if(2&s){const e=t.XpG(2).$implicit,n=t.XpG(2);t.R7$(4),t.Y8G("templateContext",t.ziG(6,R7,e.headerTemplateRef,e.leafIndex,e,e)),t.R7$(),t.Y8G("ngIf",!e.headerTemplateRef),t.R7$(2),t.Y8G("ngIf",n.sortDescriptor(n.getColumnComponent(e).field).dir),t.R7$(),t.Y8G("ngIf",n.showSortNumbering(n.getColumnComponent(e))),t.R7$(),t.Y8G("ngIf",n.showFilterMenu&&n.isFilterable(n.getColumnComponent(e))),t.R7$(),t.Y8G("ngIf",n.showColumnMenu(e))}}function z0t(s,i){if(1&s&&(t.qex(0),t.j41(1,"span",28),t.nrm(2,"input",29),t.k0s(),t.bVm()),2&s){const e=t.XpG(4);t.R7$(2),t.BMQ("id",e.selectAllCheckboxId())("aria-label",e.selectAllCheckboxLabel)}}function j0t(s,i){if(1&s&&t.nrm(0,"span",30),2&s){const e=t.XpG(2).$implicit,n=t.XpG(2);t.Y8G("column",e)("columns",n.columns)}}function H0t(s,i){if(1&s){const e=t.RV6();t.j41(0,"th",11),t.bIt("keydown",function(o){t.eBV(e);const r=t.XpG().$implicit,a=t.XpG(2);return t.Njj(a.onHeaderKeydown(a.getColumnComponent(r),o))}),t.DNE(1,N0t,7,9,"ng-container",12)(2,V0t,11,11,"ng-container",12)(3,z0t,3,2,"ng-container",12)(4,j0t,1,2,"span",13),t.k0s()}if(2&s){const e=t.XpG(),n=e.$implicit,o=e.index,r=e.last,a=t.XpG().index,l=t.XpG();t.AVh("k-sorted",!!l.sortState(l.getColumnComponent(n)))("k-filterable",l.showFilterMenu&&l.isFilterable(l.getColumnComponent(n))||l.showColumnMenu(n))("k-first",l.isFirstOnRow(l.getColumnComponent(n),o))("k-grid-header-sticky",n.sticky),t.Y8G("logicalRowIndex",a)("logicalColIndex",l.logicalColumnIndex(n))("headerLabelText",n.title||l.getColumnComponent(n).field)("colSpan",n.colspan)("rowSpan",n.rowspan(l.totalColumnLevels))("enableDrag",l.shouldActivate(n))("context",t.ziG(27,D0t,l.getColumnComponent(n).field,n,n.title||l.getColumnComponent(n).field,r&&0===o))("ngClass",n.headerClass)("ngStyle",n.sticky?l.addStickyStyles(n):n.headerStyle),t.BMQ("aria-sort",l.sortState(l.getColumnComponent(n)))("rowspan",n.rowspan(l.totalColumnLevels))("colspan",n.colspan)("aria-haspopup",l.isNavigable&&(l.showFilterMenu||l.showColumnMenu(n))?"dialog":void 0)("aria-expanded",(!l.isNavigable||!l.showFilterMenu&&!l.showColumnMenu(n))&&void 0)("aria-keyshortcuts",l.isNavigable?"Alt + ArrowDown":void 0),t.R7$(),t.Y8G("ngIf",!l.isSortable(l.getColumnComponent(n))),t.R7$(),t.Y8G("ngIf",l.isSortable(l.getColumnComponent(n))),t.R7$(),t.Y8G("ngIf",l.isCheckboxColumn(n)&&!n.headerTemplateRef&&n.showSelectAll),t.R7$(),t.Y8G("ngIf",l.resizable)}}function $0t(s,i){}function X0t(s,i){if(1&s&&(t.qex(0),t.j41(1,"span",19),t.EFF(2),t.k0s(),t.bVm()),2&s){const e=t.XpG(2).$implicit;t.R7$(2),t.JRh(e.displayTitle)}}function W0t(s,i){if(1&s&&t.nrm(0,"kendo-grid-column-menu",33),2&s){const e=t.XpG(2).$implicit,n=t.XpG(2);t.Y8G("standalone",!1)("settings",n.columnMenuSettings)("column",e)("columnMenuTemplate",n.columnMenuTemplate)}}function Y0t(s,i){if(1&s&&t.nrm(0,"span",30),2&s){const e=t.XpG(2).$implicit,n=t.XpG(2);t.Y8G("column",e)("columns",n.columns)}}function K0t(s,i){if(1&s&&(t.j41(0,"th",31)(1,"span",14)(2,"span",15),t.DNE(3,$0t,0,0,"ng-template",16)(4,X0t,3,1,"ng-container",12),t.k0s(),t.DNE(5,W0t,1,4,"kendo-grid-column-menu",32),t.k0s(),t.DNE(6,Y0t,1,2,"span",13),t.k0s()),2&s){const e=t.XpG(),n=e.$implicit,o=e.index,r=e.last,a=t.XpG().index,l=t.XpG();t.AVh("k-first",l.isFirstOnRow(l.getColumnComponent(n),o))("k-filterable",l.showColumnMenu(n))("k-grid-content-sticky",n.sticky),t.Y8G("logicalRowIndex",a)("logicalColIndex",l.logicalColumnIndex(n))("rowSpan",n.rowspan(l.totalColumnLevels))("colSpan",n.colspan)("headerLabelText",n.title||l.getColumnComponent(n).field)("enableDrag",l.shouldActivate(n))("context",t.sMw(21,O0t,n,n.title,r&&0===o))("ngClass",n.headerClass)("ngStyle",n.headerStyle),t.BMQ("rowspan",n.rowspan(l.totalColumnLevels))("colspan",n.colspan),t.R7$(3),t.Y8G("templateContext",t.ziG(25,R7,n.headerTemplateRef,l.lockedColumnsCount+o,n,n)),t.R7$(),t.Y8G("ngIf",!n.headerTemplateRef),t.R7$(),t.Y8G("ngIf",l.showColumnMenu(n)),t.R7$(),t.Y8G("ngIf",l.resizable)}}function J0t(s,i){if(1&s&&(t.qex(0),t.DNE(1,H0t,5,32,"th",9)(2,K0t,7,30,"th",10),t.bVm()),2&s){const e=i.$implicit,n=t.XpG(2);t.R7$(),t.Y8G("ngIf",!n.isColumnGroupComponent(e)),t.R7$(),t.Y8G("ngIf",n.isColumnGroupComponent(e))}}function q0t(s,i){if(1&s&&(t.j41(0,"tr",3),t.DNE(1,T0t,1,0,"th",4)(2,M0t,1,0,"th",5)(3,J0t,3,2,"ng-container",6),t.k0s()),2&s){const e=i.index,n=t.XpG();t.Y8G("logicalRowIndex",e)("logicalSlaveRow",n.lockedColumnsCount>0)("logicalCellsCount",n.columns.length)("logicalSlaveCellsCount",n.unlockedColumnsCount)("totalColumns",n.totalColumns),t.R7$(),t.Y8G("ngForOf",n.groups),t.R7$(),t.Y8G("ngIf",null==n.detailTemplate?null:n.detailTemplate.templateRef),t.R7$(),t.Y8G("ngForOf",n.columnsForLevel(e))("ngForTrackBy",n.trackByIndex)}}function Q0t(s,i){if(1&s&&t.nrm(0,"tr",34),2&s){const e=t.XpG();t.Y8G("columns",e.leafColumns)("filter",e.filter)("groups",e.groups)("detailTemplate",e.detailTemplate)("lockedColumnsCount",e.lockedColumnsCount)("logicalRowIndex",e.totalColumnLevels+1)("logicalSlaveRow",e.lockedColumnsCount>0)("logicalCellsCount",e.columns.length)("logicalSlaveCellsCount",e.unlockedColumnsCount)("totalColumns",e.totalColumns)}}const Z0t=["kendoGridCell",""],ebt=s=>({$implicit:s});function tbt(s,i){}function nbt(s,i){if(1&s&&t.DNE(0,tbt,0,0,"ng-template",5),2&s){const e=t.XpG(3);t.Y8G("ngTemplateOutlet",e.column.templateRef)("ngTemplateOutletContext",e.templateContext)}}function ibt(s,i){if(1&s&&(t.qex(0),t.EFF(1),t.nI1(2,"valueOf"),t.bVm()),2&s){const e=i.$implicit,n=t.XpG(4);t.R7$(),t.SpI(" ",t.brH(2,1,n.dataItem,e.field,e.format)," ")}}function sbt(s,i){if(1&s&&(t.qex(0),t.DNE(1,ibt,3,5,"ng-container",6),t.bVm()),2&s){const e=t.XpG(3);t.R7$(),t.Y8G("ngForOf",e.childColumns)}}function obt(s,i){if(1&s&&(t.qex(0),t.EFF(1),t.nI1(2,"valueOf"),t.bVm()),2&s){const e=t.XpG(3);t.R7$(),t.JRh(t.brH(2,1,e.dataItem,e.column.field,e.column.format))}}function rbt(s,i){if(1&s&&(t.qex(0),t.j41(1,"span",7),t.nrm(2,"input",8),t.k0s(),t.bVm()),2&s){const e=t.XpG(3);t.R7$(2),t.Y8G("kendoGridSelectionCheckbox",e.rowIndex),t.BMQ("id",e.selectionCheckboxId)("aria-label",e.selectionCheckboxLabel)}}function abt(s,i){if(1&s&&(t.qex(0),t.nrm(1,"kendo-icon-wrapper",9),t.bVm()),2&s){const e=t.XpG(3);t.R7$(),t.Y8G("svgIcon",e.reorderIcon)}}function lbt(s,i){if(1&s&&(t.qex(0),t.DNE(1,nbt,1,2,null,4)(2,sbt,2,1,"ng-container",4)(3,obt,3,5,"ng-container",4)(4,rbt,3,3,"ng-container",4)(5,abt,2,1,"ng-container",4),t.bVm()),2&s){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",e.column.templateRef),t.R7$(),t.Y8G("ngIf",e.isSpanColumn),t.R7$(),t.Y8G("ngIf",e.isBoundColumn),t.R7$(),t.Y8G("ngIf",e.isCheckboxColumn&&!e.isNew),t.R7$(),t.Y8G("ngIf",e.isRowReorderColumn&&!e.isNew)}}function cbt(s,i){}function dbt(s,i){if(1&s&&t.DNE(0,cbt,0,0,"ng-template",5),2&s){const e=t.XpG(3);t.Y8G("ngTemplateOutlet",e.loadingTemplate)("ngTemplateOutletContext",t.eq3(2,ebt,e.column))}}function ubt(s,i){1&s&&t.nrm(0,"div",11)}function hbt(s,i){if(1&s&&t.DNE(0,dbt,1,4,null,4)(1,ubt,1,0,"div",10),2&s){const e=t.XpG(2);t.Y8G("ngIf",e.loadingTemplate),t.R7$(),t.Y8G("ngIf",!e.loadingTemplate)}}function pbt(s,i){if(1&s&&(t.qex(0),t.DNE(1,lbt,6,5,"ng-container",3)(2,hbt,2,2,"ng-template",null,0,t.C5r),t.bVm()),2&s){const e=t.sdS(3),n=t.XpG();t.R7$(),t.Y8G("ngIf",!n.showLoading)("ngIfElse",e)}}function fbt(s,i){}function mbt(s,i){if(1&s&&t.DNE(0,fbt,0,0,"ng-template",5),2&s){const e=t.XpG(2);t.Y8G("ngTemplateOutlet",e.column.editTemplateRef)("ngTemplateOutletContext",e.editTemplateContext)}}function _bt(s,i){if(1&s&&t.nrm(0,"kendo-numerictextbox",16),2&s){const e=t.XpG(3);t.Y8G("format",e.format)("formControl",e.formGroup.get(e.column.field))}}function gbt(s,i){if(1&s&&t.nrm(0,"kendo-datepicker",16),2&s){const e=t.XpG(3);t.Y8G("format",e.format)("formControl",e.formGroup.get(e.column.field))}}function vbt(s,i){if(1&s&&t.nrm(0,"input",17),2&s){const e=t.XpG(3);t.Y8G("formControl",e.formGroup.get(e.column.field))}}function Sbt(s,i){if(1&s&&t.nrm(0,"input",18),2&s){const e=t.XpG(3);t.Y8G("formControl",e.formGroup.get(e.column.field))}}function Cbt(s,i){if(1&s&&(t.qex(0,1),t.DNE(1,_bt,1,2,"kendo-numerictextbox",13)(2,gbt,1,2,"kendo-datepicker",13),t.j41(3,"span",7),t.DNE(4,vbt,1,1,"input",14),t.k0s(),t.DNE(5,Sbt,1,1,"input",15),t.bVm()),2&s){const e=t.XpG(2);t.Y8G("ngSwitch",e.column.editor),t.R7$(),t.Y8G("ngSwitchCase","numeric"),t.R7$(),t.Y8G("ngSwitchCase","date"),t.R7$(2),t.Y8G("ngSwitchCase","boolean")}}function bbt(s,i){if(1&s&&(t.qex(0),t.DNE(1,mbt,1,2,null,4)(2,Cbt,6,4,"ng-container",12),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.column.editTemplateRef),t.R7$(),t.Y8G("ngIf",!e.column.editTemplateRef)}}const Ebt=["kendoGridGroupHeader",""],ybt=(s,i,e,n,o,r,a,l)=>({templateRef:s,group:i,aggregates:e,value:n,field:o,index:r,expanded:a,$implicit:l}),kbt=(s,i,e,n,o,r)=>({group:s,aggregates:i,value:e,field:n,index:o,$implicit:r});function wbt(s,i){1&s&&t.nrm(0,"td",3)}function Dbt(s,i){if(1&s&&(t.qex(0),t.DNE(1,wbt,1,0,"td",2),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.prefixGroupCell(e.item))}}function Obt(s,i){if(1&s&&(t.qex(0),t.EFF(1),t.nI1(2,"valueOf"),t.bVm()),2&s){const e=t.XpG(3);t.R7$(),t.Lme(" ",e.groupTitle(e.item),": ",t.brH(2,2,e.item.data,"value",e.formatForGroup(e.item))," ")}}function Tbt(s,i){}function Mbt(s,i){if(1&s){const e=t.RV6();t.qex(0),t.j41(1,"a",6),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.toggleGroup(o.item))}),t.nrm(2,"kendo-icon-wrapper",7),t.k0s(),t.DNE(3,Obt,3,6,"ng-container",0)(4,Tbt,0,0,"ng-template",8),t.bVm()}if(2&s){const e=t.XpG(2);t.R7$(),t.BMQ("title",e.groupButtonTitle)("aria-label",e.groupButtonTitle),t.R7$(),t.Y8G("name",e.arrowIcon)("svgIcon",e.arrowSVGIcon),t.R7$(),t.Y8G("ngIf",!e.groupHeaderTemplate(e.item)),t.R7$(),t.Y8G("templateContext",t.lV(6,ybt,e.groupHeaderTemplate(e.item),e.item.data,null==e.item.data?null:e.item.data.aggregates,null==e.item.data?null:e.item.data.value,null==e.item.data?null:e.item.data.field,e.item.index,e.isExpanded,e.item.data))}}function Ibt(s,i){if(1&s&&(t.j41(0,"td",4)(1,"p",5),t.DNE(2,Mbt,5,15,"ng-container",0),t.k0s()()),2&s){const e=t.XpG();t.Y8G("logicalRowIndex",e.logicalRowIndex)("logicalColIndex",0)("logicalSlaveCell",e.skipGroupDecoration)("groupItem",e.item)("colSpan",e.logicalColSpan()),t.BMQ("colspan",e.groupSpan(e.item))("role",e.ariaRole())("aria-expanded",e.isExpanded),t.R7$(2),t.Y8G("ngIf",!e.skipGroupDecoration)}}function xbt(s,i){}function Abt(s,i){if(1&s&&t.DNE(0,xbt,0,0,"ng-template",11),2&s){const e=t.XpG().$implicit,n=t.XpG(2);t.Y8G("ngTemplateOutlet",e.groupHeaderColumnTemplateRef)("ngTemplateOutletContext",t.l4e(2,kbt,n.item.data,null==n.item.data?null:n.item.data.aggregates,null==n.item.data?null:n.item.data.value,null==n.item.data?null:n.item.data.field,n.item.index,n.item.data))}}function Rbt(s,i){if(1&s&&(t.j41(0,"td",10),t.DNE(1,Abt,1,9,null,0),t.k0s()),2&s){const e=i.$implicit,n=i.index,o=t.XpG(2);t.Y8G("logicalRowIndex",o.logicalRowIndex)("logicalColIndex",n+1)("logicalSlaveCell",!1)("groupItem",o.item)("colSpan",1),t.R7$(),t.Y8G("ngIf",e.groupHeaderColumnTemplateRef)}}function Nbt(s,i){if(1&s&&(t.qex(0),t.DNE(1,Rbt,2,6,"td",9),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.groupHeaderColumns)}}const Lbt=["kendoGridTableBody",""],Gbt=s=>({templateRef:s}),DDe=(s,i)=>({dataItem:s,index:i}),Pbt=(s,i,e)=>({dataItem:s,rowIndex:i,$implicit:e}),Fbt=(s,i,e,n,o,r)=>({templateRef:s,group:i,field:e,column:n,aggregates:o,$implicit:r});function Ubt(s,i){1&s&&t.nrm(0,"td",8)}function Bbt(s,i){if(1&s&&(t.qex(0),t.DNE(1,Ubt,1,0,"td",7),t.bVm()),2&s){const e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.groups)}}function Vbt(s,i){if(1&s&&t.nrm(0,"td",9),2&s){const e=t.XpG(2);t.Y8G("logicalRowIndex",e.addRowLogicalIndex())("logicalColIndex",0)}}function zbt(s,i){if(1&s&&t.nrm(0,"td",10),2&s){const e=i.$implicit,n=i.index,o=t.XpG(2);t.xc7("left",e.sticky?"0":void 0),t.AVh("k-grid-content-sticky",e.sticky),t.Y8G("rowIndex",-1)("columnIndex",o.lockedColumnsCount+n)("isNew",!0)("column",e)("dataItem",o.newDataItem)("ngClass",e.cssClass)("ngStyle",e.sticky?o.addStickyColumnStyles(e):e.style)("logicalRowIndex",o.addRowLogicalIndex())("logicalColIndex",o.logicalColIndex(e))("colSpan",e.colspan),t.BMQ("colspan",e.colspan)("role",e.tableCellsRole)}}function jbt(s,i){if(1&s&&(t.qex(0),t.j41(1,"tr",4),t.DNE(2,Bbt,2,1,"ng-container",0)(3,Vbt,1,2,"td",5)(4,zbt,1,16,"td",6),t.k0s(),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.Y8G("logicalRowIndex",e.addRowLogicalIndex())("logicalSlaveRow",e.lockedColumnsCount>0)("logicalCellsCount",e.columns.length)("logicalSlaveCellsCount",e.unlockedColumnsCount())("totalColumns",e.totalColumns),t.R7$(),t.Y8G("ngIf",!e.skipGroupDecoration),t.R7$(),t.Y8G("ngIf",null==e.detailTemplate?null:e.detailTemplate.templateRef),t.R7$(),t.Y8G("ngForOf",e.columns)("ngForTrackBy",e.trackByColumns)}}function Hbt(s,i){}function $bt(s,i){if(1&s&&t.DNE(0,Hbt,0,0,"ng-template",13),2&s){const e=t.XpG(2);t.Y8G("templateContext",t.eq3(1,Gbt,null==e.noRecordsTemplate?null:e.noRecordsTemplate.templateRef))}}function Xbt(s,i){if(1&s&&(t.qex(0),t.EFF(1),t.bVm()),2&s){const e=t.XpG(2);t.R7$(),t.SpI(" ",e.noRecordsText," ")}}function Wbt(s,i){if(1&s&&(t.j41(0,"tr",11)(1,"td",12),t.DNE(2,$bt,1,3,null,0)(3,Xbt,2,1,"ng-container",0),t.k0s()()),2&s){const e=t.XpG();t.R7$(),t.BMQ("colspan",e.colSpan),t.R7$(),t.Y8G("ngIf",null==e.noRecordsTemplate?null:e.noRecordsTemplate.templateRef),t.R7$(),t.Y8G("ngIf",!(null!=e.noRecordsTemplate&&e.noRecordsTemplate.templateRef))}}function Ybt(s,i){if(1&s&&t.nrm(0,"tr",18),2&s){const e=t.XpG(),n=e.$implicit,o=e.index,r=t.XpG();t.Y8G("columns",r.columns)("groups",r.groups)("item",n)("hasDetails",!(null==r.detailTemplate||!r.detailTemplate.templateRef))("skipGroupDecoration",r.skipGroupDecoration)("hasGroupHeaderColumn",r.hasGroupHeaderColumn)("groupHeaderColumns",r.groupHeaderColumns)("rowIndex",o+1)("totalColumnsCount",r.totalColumnsCount)("logicalRowIndex",r.logicalRowIndex(o))("logicalSlaveRow",r.lockedColumnsCount>0)("totalColumns",r.totalColumns)("logicalCellsCount",r.columns.length)("logicalSlaveCellsCount",r.groupHeaderSlaveCellsCount)}}function Kbt(s,i){1&s&&t.nrm(0,"td",8)}function Jbt(s,i){if(1&s&&(t.qex(0),t.DNE(1,Kbt,1,0,"td",7),t.bVm()),2&s){const e=t.XpG(3);t.R7$(),t.Y8G("ngForOf",e.groups)}}function qbt(s,i){if(1&s){const e=t.RV6();t.j41(0,"a",24),t.bIt("click",function(){t.eBV(e);const o=t.XpG(3).$implicit,r=t.XpG();return t.Njj(r.toggleRow(o.index,o.data))}),t.nrm(1,"kendo-icon-wrapper",25),t.k0s()}if(2&s){const e=t.XpG(3).$implicit,n=t.XpG();t.BMQ("title",n.detailButtonTitle(e))("aria-label",n.detailButtonTitle(e)),t.R7$(),t.Y8G("name",n.detailButtonIconName(e))("svgIcon",n.detailButtonSvgIcon(e))}}function Qbt(s,i){if(1&s&&(t.j41(0,"td",22),t.DNE(1,qbt,2,4,"a",23),t.k0s()),2&s){const e=t.XpG(2),n=e.$implicit,o=e.index,r=t.XpG();t.Y8G("logicalRowIndex",r.logicalRowIndex(o))("logicalColIndex",0)("dataRowIndex",n.index)("dataItem",n.data)("detailExpandCell",!0),t.R7$(),t.Y8G("ngIf",r.detailTemplate.showIf(n.data,n.index))}}function Zbt(s,i){if(1&s&&t.nrm(0,"td",26),2&s){const e=i.$implicit,n=i.index,o=t.XpG(2),r=o.$implicit,a=o.index,l=t.XpG();t.AVh("k-grid-content-sticky",e.sticky)("k-touch-action-none",l.isSelectable()&&l.selectable.drag)("k-touch-action-auto",!(l.isSelectable()&&l.selectable.drag))("k-grid-edit-cell",l.isEditingCell(r.index,e))("k-selected",l.isSelectable&&l.cellSelectionService.isCellSelected(r,e)),t.Y8G("rowIndex",r.index)("columnIndex",l.lockedColumnsCount+n)("column",e)("dataItem",r.data)("isLoading",l.isLoading)("isVirtual",l.isVirtual)("loadingTemplate",l.cellLoadingTemplate)("logicalRowIndex",l.logicalRowIndex(a))("logicalColIndex",l.logicalColIndex(e))("dataRowIndex",r.index)("dataItem",r.data)("colIndex",n)("colSpan",e.colspan)("ngClass",e.cssClass)("ngStyle",e.sticky?l.addStickyColumnStyles(e):e.style),t.BMQ("data-kendo-grid-column-index",l.lockedColumnsCount+n)("role",e.tableCellsRole)("aria-selected",l.lockedColumnsCount<1&&l.isSelectable()?l.isAriaSelected(r,e):void 0)("colspan",e.colspan)}}function eEt(s,i){if(1&s&&(t.j41(0,"tr",19),t.DNE(1,Jbt,2,1,"ng-container",0)(2,Qbt,2,6,"td",20)(3,Zbt,1,29,"td",21),t.k0s()),2&s){const e=t.XpG(),n=e.$implicit,o=e.index,r=t.XpG();t.HbH(r.isOdd(n)?"k-alt k-table-alt-row":""),t.AVh("k-grid-row-sticky",!!r.rowSticky&&r.rowSticky(t.l_i(25,DDe,n.data,n.index)))("k-master-row",!0)("k-grid-edit-row",r.isEditingRow(n.index))("k-selected",r.isSelectable()&&r.isRowSelected(n)),t.Y8G("dataRowIndex",n.index)("dataItem",n.data)("logicalRowIndex",r.logicalRowIndex(o))("logicalSlaveRow",r.lockedColumnsCount>0)("totalColumns",r.totalColumns)("logicalCellsCount",r.columns.length)("logicalSlaveCellsCount",r.unlockedColumnsCount(n))("ngClass",r.rowClass(t.l_i(28,DDe,n.data,n.index))),t.BMQ("aria-selected",r.lockedColumnsCount<1?r.isSelectable()&&r.isRowSelected(n):void 0)("data-kendo-grid-item-index",n.index),t.R7$(),t.Y8G("ngIf",!r.skipGroupDecoration),t.R7$(),t.Y8G("ngIf",null==r.detailTemplate?null:r.detailTemplate.templateRef),t.R7$(),t.Y8G("ngForOf",r.columns)("ngForTrackBy",r.trackByColumns)}}function tEt(s,i){1&s&&t.nrm(0,"td",32)}function nEt(s,i){}function iEt(s,i){if(1&s&&(t.j41(0,"tr",27),t.DNE(1,tEt,1,0,"td",28),t.nrm(2,"td",29),t.j41(3,"td",30),t.DNE(4,nEt,0,0,"ng-template",31),t.k0s()()),2&s){const e=t.XpG(),n=e.$implicit,o=e.index,r=t.XpG();t.AVh("k-alt",r.isOdd(n)),t.Y8G("dataRowIndex",n.index)("dataItem",n.data)("logicalRowIndex",r.logicalRowIndex(o)+1)("logicalSlaveRow",!1)("logicalCellsCount",1),t.R7$(),t.Y8G("ngForOf",r.groups),t.R7$(2),t.Y8G("logicalRowIndex",r.logicalRowIndex(o)+1)("logicalColIndex",0)("dataRowIndex",n.index)("dataItem",n.data)("colIndex",0)("colSpan",r.allColumnsSpan+1),t.BMQ("colspan",r.columnsSpan),t.R7$(),t.Y8G("ngTemplateOutlet",r.detailTemplate.templateRef)("ngTemplateOutletContext",t.sMw(17,Pbt,n.data,n.index,n.data))}}function sEt(s,i){1&s&&t.nrm(0,"td",32)}function oEt(s,i){if(1&s&&(t.qex(0),t.DNE(1,sEt,1,0,"td",28),t.bVm()),2&s){const e=t.XpG(3);t.R7$(),t.Y8G("ngForOf",e.groups)}}function rEt(s,i){if(1&s&&t.nrm(0,"td",9),2&s){const e=t.XpG(2).index,n=t.XpG();t.Y8G("logicalRowIndex",n.logicalRowIndex(e))("logicalColIndex",0)}}function aEt(s,i){}function lEt(s,i){if(1&s&&(t.j41(0,"td",35),t.DNE(1,aEt,0,0,"ng-template",13),t.k0s()),2&s){const e=i.$implicit,n=t.XpG(2),o=n.$implicit,r=n.index,a=t.XpG();t.Y8G("logicalRowIndex",a.logicalRowIndex(r))("logicalColIndex",a.logicalColIndex(e)),t.BMQ("data-skip",a.skipGroupDecoration),t.R7$(),t.Y8G("templateContext",t.l4e(4,Fbt,e.groupFooterTemplateRef,o.data,e.field,e,null==o.data?null:o.data.aggregates,null==o.data?null:o.data.aggregates))}}function cEt(s,i){if(1&s&&(t.j41(0,"tr",33),t.DNE(1,oEt,2,1,"ng-container",0)(2,rEt,1,2,"td",5)(3,lEt,2,11,"td",34),t.k0s()),2&s){const e=t.XpG(),n=e.$implicit,o=e.index,r=t.XpG();t.Y8G("logicalRowIndex",r.logicalRowIndex(o))("logicalSlaveRow",r.lockedColumnsCount>0)("totalColumns",r.totalColumns)("logicalCellsCount",r.columns.length)("logicalSlaveCellsCount",r.unlockedColumnsCount(n)),t.R7$(),t.Y8G("ngIf",!r.skipGroupDecoration),t.R7$(),t.Y8G("ngIf",null==r.detailTemplate?null:r.detailTemplate.templateRef),t.R7$(),t.Y8G("ngForOf",r.footerColumns)("ngForTrackBy",r.trackByColumns)}}function dEt(s,i){if(1&s&&(t.qex(0),t.DNE(1,Ybt,1,14,"tr",14)(2,eEt,4,31,"tr",15)(3,iEt,5,21,"tr",16)(4,cEt,4,9,"tr",17),t.bVm()),2&s){const e=i.$implicit,n=t.XpG();t.R7$(),t.Y8G("ngIf",n.isGroup(e)&&n.isParentGroupExpanded(e)&&n.showGroupHeader(e)),t.R7$(),t.Y8G("ngIf",n.isDataItem(e)&&(!e.group||n.isDataItemInExpandedGroup(e))),t.R7$(),t.Y8G("ngIf",n.isDataItem(e)&&(!e.group||n.isDataItemInExpandedGroup(e))&&(null==n.detailTemplate?null:n.detailTemplate.templateRef)&&n.detailTemplate.showIf(e.data,e.index)&&n.isExpanded(e)),t.R7$(),t.Y8G("ngIf",n.isFooter(e)&&e.group&&(n.isFooterItemInExpandedGroup(e)||n.showGroupFooters&&n.isParentGroupExpanded(e.group))&&!e.data.hideFooter)}}function uEt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-resize-sensor",36),t.bIt("resize",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.resizeHandler())}),t.k0s()}}const hEt=["container"],pEt=["lockedContainer"],fEt=["lockedTable"],mEt=["table"],NA=()=>[],_Et=(s,i,e,n)=>({keydown:s,scroll:i,mousewheel:e,DOMMouseScroll:n});function gEt(s,i){if(1&s&&(t.j41(0,"div",13,2)(2,"div",6)(3,"table",14,3),t.nrm(5,"colgroup",8)(6,"tbody",15),t.k0s(),t.nrm(7,"kendo-resize-sensor"),t.k0s(),t.j41(8,"div",11),t.nrm(9,"div"),t.k0s()()),2&s){const e=t.XpG();t.xc7("width",e.lockedWidth,"px"),t.Y8G("kendoEventsOutsideAngular",t.ziG(31,_Et,e.lockedKeydown,e.lockedScroll,e.lockedMousewheel,e.lockedMousewheel))("scope",e),t.R7$(3),t.xc7("width",e.lockedWidth,"px"),t.Y8G("locked",!0)("size",e.size),t.R7$(2),t.Y8G("groups",e.groups)("columns",e.lockedLeafColumns)("detailTemplate",e.detailTemplate)("sort",e.sort),t.R7$(),t.Y8G("groups",e.groups)("isLocked",!0)("data",e.data)("noRecordsText","")("columns",e.lockedLeafColumns)("totalColumnsCount",e.leafColumns.length)("totalColumns",e.columns)("detailTemplate",e.detailTemplate)("showGroupFooters",e.showFooter)("skip",e.skip)("selectable",e.selectable)("trackBy",e.trackBy)("filterable",e.filterable)("rowClass",e.rowClass)("isLoading",e.loading)("isVirtual",e.isVirtual)("cellLoadingTemplate",e.cellLoadingTemplate),t.R7$(3),t.xc7("height",e.totalHeight,"px")}}function vEt(s,i){1&s&&t.nrm(0,"kendo-resize-sensor")}function SEt(s,i){1&s&&t.nrm(0,"kendo-resize-sensor")}function CEt(s,i){if(1&s&&(t.j41(0,"div",16),t.nrm(1,"div"),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.xc7("width",e.totalWidth,"px")}}const bEt=["kendoGridFooter",""];function EEt(s,i){1&s&&t.nrm(0,"td",4)}function yEt(s,i){1&s&&t.nrm(0,"td",5)}function kEt(s,i){}function wEt(s,i){if(1&s&&(t.j41(0,"td",6),t.DNE(1,kEt,0,0,"ng-template",7),t.k0s()),2&s){const e=i.$implicit,n=i.index,o=t.XpG();t.AVh("k-grid-footer-sticky",e.sticky),t.Y8G("logicalRowIndex",o.logicalRowIndex)("logicalColIndex",o.logicalColumnIndex(e))("ngClass",e.footerClass)("ngStyle",e.sticky?o.addStickyStyles(e):e.footerStyle),t.R7$(),t.Y8G("templateContext",t.ziG(7,R7,e.footerTemplateRef,o.lockedColumnsCount+n,e,e))}}const DEt=["kendoGridLoading",""];function OEt(s,i){if(1&s&&(t.qex(0),t.j41(1,"span",1),t.EFF(2),t.k0s(),t.nrm(3,"div",2)(4,"div",3),t.bVm()),2&s){const e=t.XpG();t.R7$(2),t.JRh(e.loadingText)}}function TEt(s,i){}function MEt(s,i){if(1&s&&t.DNE(0,TEt,0,0,"ng-template",4),2&s){const e=t.XpG();t.Y8G("ngTemplateOutlet",null==e.loadingTemplate?null:e.loadingTemplate.templateRef)}}const IEt=s=>({aggregates:s});function xEt(s,i){}function AEt(s,i){if(1&s&&t.DNE(0,xEt,0,0,"ng-template",1),2&s){const e=t.XpG();t.Y8G("ngTemplateOutlet",null==e.statusBarTemplate?null:e.statusBarTemplate.templateRef)("ngTemplateOutletContext",t.eq3(2,IEt,e.aggregates))}}const REt=["lockedHeader"],NEt=["header"],LEt=["ariaRoot"],GEt=["footer"],PEt=s=>({hintTemplate:s});function FEt(s,i){if(1&s&&t.nrm(0,"kendo-grid-toolbar",17),2&s){const e=t.XpG();t.Y8G("size",e.size)("navigable",e.navigation.toolbarEnabled),t.BMQ("aria-label",e.messageFor("topToolbarLabel"))("aria-controls",e.ariaRootId)}}function UEt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-pager",18),t.bIt("pageChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.notifyPageChange("pager",o))}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("tabindex",e.navigation.pagerEnabled?"0":"-1")("template",e.pagerTemplate)("pageSize",e.pageSize)("total",e.view.total)("skip",e.skip)("size",e.size)("options",e.pageable),t.BMQ("role",e.navigation.pagerEnabled?"application":void 0)}}function BEt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-grid-group-panel",19),t.bIt("change",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.groupChange.emit(o))}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("navigable",e.navigation.toolbarEnabled)("text",e.groupableEmptyText)("groups",e.group),t.BMQ("aria-label",e.messageFor("groupPanelLabel"))("aria-controls",e.ariaRootId)}}function VEt(s,i){if(1&s&&(t.j41(0,"div",30,3)(2,"table",31),t.nrm(3,"colgroup",27)(4,"thead",32),t.k0s()()),2&s){const e=t.XpG(3);t.xc7("width",e.lockedWidth,"px"),t.R7$(2),t.xc7("width",e.lockedWidth,"px"),t.Y8G("locked",!0)("size",e.size),t.R7$(),t.Y8G("columns",e.lockedLeafColumns)("groups",e.group)("detailTemplate",e.detailTemplate),t.R7$(),t.Y8G("resizable",e.resizable)("scrollable",!0)("columns",e.lockedColumns)("totalColumnLevels",e.totalColumnLevels)("sort",e.sort)("groups",e.group)("filter",e.filter)("filterable",e.filterable)("groupable",e.showGroupPanel)("reorderable",e.reorderable)("sortable",e.sortable)("columnMenu",e.columnMenuOptions)("columnMenuTemplate",e.columnMenuTemplate)("totalColumnsCount",e.leafColumns.length)("totalColumns",e.columnsContainer)("detailTemplate",e.detailTemplate)("tabIndex",e.navigation.tableEnabled?"-1":"0")}}function zEt(s,i){if(1&s&&(t.j41(0,"div",33),t.nrm(1,"div"),t.k0s()),2&s){const e=t.XpG(3);t.R7$(),t.xc7("width",e.columnsContainer.unlockedWidth,"px")}}function jEt(s,i){if(1&s&&(t.j41(0,"div",23),t.DNE(1,VEt,5,26,"div",24),t.j41(2,"div",25,2)(4,"table",26),t.nrm(5,"colgroup",27)(6,"thead",28),t.k0s(),t.DNE(7,zEt,2,2,"div",29),t.k0s()()),2&s){const e=t.XpG(2);t.xc7("padding",e.headerPadding),t.R7$(),t.Y8G("ngIf",e.isLocked),t.R7$(),t.Y8G("kendoGridResizableContainer",e.lockedLeafColumns.length>0)("lockedWidth",e.lockedWidth+e.scrollbarWidth+2),t.R7$(2),t.xc7("width",e.nonLockedWidth,"px"),t.Y8G("virtualColumns",e.virtualColumns)("size",e.size),t.R7$(),t.Y8G("columns",e.headerLeafColumns)("groups",e.isLocked?t.lJ4(31,NA):e.group)("detailTemplate",e.detailTemplate),t.R7$(),t.Y8G("resizable",e.resizable)("scrollable",!0)("columns",e.headerColumns)("totalColumnLevels",e.totalColumnLevels)("sort",e.sort)("filter",e.filter)("filterable",e.filterable)("groupable",e.showGroupPanel)("reorderable",e.reorderable)("groups",e.isLocked?t.lJ4(32,NA):e.group)("sortable",e.sortable)("columnMenu",e.columnMenuOptions)("columnMenuTemplate",e.columnMenuTemplate)("lockedColumnsCount",e.lockedLeafColumns.length)("totalColumnsCount",e.leafColumns.length)("totalColumns",e.columnsContainer)("detailTemplate",e.detailTemplate)("tabIndex",e.navigation.tableEnabled?"-1":"0"),t.R7$(),t.Y8G("ngIf",e.virtualColumns)}}function HEt(s,i){if(1&s&&(t.j41(0,"div",39)(1,"table",40),t.nrm(2,"colgroup",27)(3,"tfoot",41),t.k0s()()),2&s){const e=t.XpG(3);t.xc7("width",e.lockedWidth,"px"),t.R7$(),t.xc7("width",e.lockedWidth,"px"),t.Y8G("locked",!0)("size",e.size),t.R7$(),t.Y8G("columns",e.lockedLeafColumns)("groups",e.group)("detailTemplate",e.detailTemplate),t.R7$(),t.Y8G("scrollable",!0)("groups",e.group)("columns",e.lockedLeafColumns)("detailTemplate",e.detailTemplate)("logicalRowIndex",e.ariaRowCount)("totalColumns",e.columnsContainer)}}function $Et(s,i){if(1&s&&(t.j41(0,"div",34),t.DNE(1,HEt,4,15,"div",35),t.j41(2,"div",36,4)(4,"table",37),t.nrm(5,"colgroup",27)(6,"tfoot",38),t.k0s()()()),2&s){const e=t.XpG(2);t.xc7("padding",e.headerPadding),t.R7$(),t.Y8G("ngIf",e.lockedLeafColumns.length),t.R7$(),t.Y8G("kendoGridResizableContainer",e.lockedLeafColumns.length>0)("lockedWidth",e.lockedWidth+e.scrollbarWidth+3),t.R7$(2),t.xc7("width",e.nonLockedWidth,"px"),t.Y8G("size",e.size),t.R7$(),t.Y8G("columns",e.nonLockedLeafColumns)("groups",e.isLocked?t.lJ4(18,NA):e.group)("detailTemplate",e.detailTemplate),t.R7$(),t.Y8G("logicalRowIndex",e.ariaRowCount)("scrollable",!0)("groups",e.isLocked?t.lJ4(19,NA):e.group)("columns",e.nonLockedLeafColumns)("lockedColumnsCount",e.lockedLeafColumns.length)("detailTemplate",e.detailTemplate)("totalColumns",e.columnsContainer)}}function XEt(s,i){if(1&s){const e=t.RV6();t.qex(0),t.DNE(1,jEt,8,33,"div",20),t.j41(2,"kendo-grid-list",21),t.bIt("onPress",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleReorderEvents(o,"press"))})("onDragStart",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleReorderEvents(o,"dragStart"))})("onDrag",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleReorderEvents(o,"drag"))})("onDragEnter",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleReorderEvents(o,"dragEnter"))})("onDragLeave",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleReorderEvents(o,"dragLeave"))})("onDragEnd",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleReorderEvents(o,"dragEnd"))})("onDrop",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleReorderEvents(o,"drop"))})("pageChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.notifyPageChange("list",o))})("scrollBottom",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.notifyScrollBottom())})("contentScroll",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.contentScroll.emit(o))}),t.k0s(),t.DNE(3,$Et,7,20,"div",22),t.bVm()}if(2&s){const e=t.XpG(),n=t.sdS(14);t.R7$(),t.Y8G("ngIf",!e.hideHeader),t.R7$(),t.Y8G("dragDisabled",!e.rowReorderable)("dropDisabled",!e.rowReorderable)("dragTargetFilter",e.getDefaultSelectors("dragTarget"))("dropTargetFilter",e.getDefaultSelectors("dropTarget"))("dragHandle",e.getDefaultSelectors("handle"))("hint",t.eq3(33,PEt,n))("dragData",e.gridData)("data",e.view)("rowHeight",e.rowHeight)("detailRowHeight",e.detailRowHeight)("total",e.totalCount)("take",e.pageSize)("groups",e.group)("groupable",e.groupable)("skip",e.skip)("trackBy",e.trackBy)("columns",e.columnsContainer)("selectable",e.selectable)("filterable",e.filterable)("detailTemplate",e.detailTemplate)("noRecordsTemplate",e.noRecordsTemplate)("size",e.size)("rowClass",e.rowClass)("rowSticky",e.rowSticky)("loading",e.loading)("isVirtual",e.isVirtual)("cellLoadingTemplate",null==e.cellLoadingTemplate?null:e.cellLoadingTemplate.templateRef)("loadingTemplate",null==e.loadingTemplate?null:e.loadingTemplate.templateRef)("virtualColumns",e.virtualColumns)("enableDrag",e.marqueeSelection)("sort",e.sort),t.R7$(),t.Y8G("ngIf",e.showFooter)}}function WEt(s,i){if(1&s&&t.nrm(0,"thead",46),2&s){const e=t.XpG(2);t.Y8G("resizable",e.resizable)("scrollable",!1)("columns",e.visibleColumns)("totalColumnLevels",e.totalColumnLevels)("totalColumns",e.columnsContainer)("groups",e.group)("groupable",e.showGroupPanel)("reorderable",e.reorderable)("sort",e.sort)("sortable",e.sortable)("filter",e.filter)("filterable",e.filterable)("columnMenu",e.columnMenuOptions)("columnMenuTemplate",e.columnMenuTemplate)("detailTemplate",e.detailTemplate)("tabIndex",e.navigation.tableEnabled?"-1":"0")}}function YEt(s,i){if(1&s&&t.nrm(0,"tfoot",47),2&s){const e=t.XpG(2);t.Y8G("scrollable",!1)("logicalRowIndex",e.ariaRowCount)("groups",e.group)("columns",e.leafColumns)("detailTemplate",e.detailTemplate)("totalColumns",e.columnsContainer)}}function KEt(s,i){if(1&s&&(t.qex(0),t.j41(1,"table",42),t.nrm(2,"colgroup",27),t.DNE(3,WEt,1,16,"thead",43),t.nrm(4,"tbody",44),t.DNE(5,YEt,1,6,"tfoot",45),t.k0s(),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.xc7("table-layout",e.resizable?"fixed":null),t.Y8G("size",e.size),t.R7$(),t.Y8G("columns",e.leafColumns)("groups",e.group)("detailTemplate",e.detailTemplate),t.R7$(),t.Y8G("ngIf",!e.hideHeader),t.R7$(),t.Y8G("isLoading",e.loading)("groups",e.group)("data",e.view)("skip",e.skip)("columns",e.leafColumns)("selectable",e.selectable)("filterable",e.filterable)("noRecordsTemplate",e.noRecordsTemplate)("detailTemplate",e.detailTemplate)("showGroupFooters",e.showGroupFooters)("trackBy",e.trackBy)("rowClass",e.rowClass)("enableDrag",e.marqueeSelection),t.R7$(),t.Y8G("ngIf",e.showFooter)}}function JEt(s,i){if(1&s&&t.nrm(0,"div",48),2&s){const e=t.XpG();t.Y8G("loadingTemplate",e.loadingTemplate)}}function qEt(s,i){if(1&s&&t.nrm(0,"kendo-grid-status-bar",49),2&s){const e=t.XpG();t.Y8G("statusBarTemplate",e.statusBarTemplate)}}function QEt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-pager",50),t.bIt("pageChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.notifyPageChange("pager",o))}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("tabindex",e.navigation.pagerEnabled?"0":"-1")("template",e.pagerTemplate)("pageSize",e.pageSize)("total",e.view.total)("skip",e.skip)("size",e.size)("options",e.pageable),t.BMQ("role",e.navigation.pagerEnabled?"application":void 0)}}function ZEt(s,i){if(1&s&&t.nrm(0,"kendo-grid-toolbar",51),2&s){const e=t.XpG();t.Y8G("size",e.size)("navigable",e.navigation.toolbarEnabled),t.BMQ("aria-label",e.messageFor("bottomToolbarLabel"))("aria-controls",e.ariaRootId)}}function eyt(s,i){if(1&s&&(t.nrm(0,"kendo-icon-wrapper",52),t.EFF(1)),2&s){const e=t.XpG();t.Y8G("name",e.getHintSettings("hintIcon"))("svgIcon",e.getHintSettings("hintSVGIcon")),t.R7$(),t.SpI(" ",e.hintText," ")}}function tyt(s,i){1&s&&t.nrm(0,"div",53)}const nyt=["columnList"];function iyt(s,i){if(1&s){const e=t.RV6();t.j41(0,"span",4),t.EFF(1),t.k0s(),t.j41(2,"kendo-grid-columnlist",5,2),t.bIt("apply",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onApply(o))})("columnChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onChange(o))})("keydown.shift.tab",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onShiftTab(o))}),t.k0s()}if(2&s){const e=t.XpG();t.R7$(),t.JRh(e.ctx.localization.get("columns")),t.R7$(),t.Y8G("columns",e.columns)("ariaLabel",e.ctx.localization.get("columns"))("isLast",!0)("applyText",e.ctx.localization.get("columnsApply"))("resetText",e.ctx.localization.get("columnsReset"))("autoSync",e.autoSync)("allowHideAll",e.allowHideAll)}}const syt=["kendoGridEditCommand",""];function oyt(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",4),2&s){const e=t.XpG();t.Y8G("name",e.icon)("svgIcon",e.svgIcon)}}function ryt(s,i){if(1&s&&(t.j41(0,"span",5),t.nrm(1,"img",6),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("src",e.imageUrl,t.B4B)}}function ayt(s,i){if(1&s&&t.nrm(0,"span",7),2&s){const e=t.XpG();t.Y8G("ngClass",e.iconClass)}}const lyt=["kendoGridCancelCommand",""];function cyt(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",4),2&s){const e=t.XpG();t.Y8G("name",e.icon)("svgIcon",e.svgIcon)}}function dyt(s,i){if(1&s&&(t.j41(0,"span",5),t.nrm(1,"img",6),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("src",e.imageUrl,t.B4B)}}function uyt(s,i){if(1&s&&t.nrm(0,"span",7),2&s){const e=t.XpG();t.Y8G("ngClass",e.iconClass)}}const hyt=["kendoGridSaveCommand",""];function pyt(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",4),2&s){const e=t.XpG();t.Y8G("name",e.icon)("svgIcon",e.svgIcon)}}function fyt(s,i){if(1&s&&(t.j41(0,"span",5),t.nrm(1,"img",6),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("src",e.imageUrl,t.B4B)}}function myt(s,i){if(1&s&&t.nrm(0,"span",7),2&s){const e=t.XpG();t.Y8G("ngClass",e.iconClass)}}const _yt=["kendoGridRemoveCommand",""];function gyt(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",4),2&s){const e=t.XpG();t.Y8G("name",e.icon)("svgIcon",e.svgIcon)}}function vyt(s,i){if(1&s&&(t.j41(0,"span",5),t.nrm(1,"img",6),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("src",e.imageUrl,t.B4B)}}function Syt(s,i){if(1&s&&t.nrm(0,"span",7),2&s){const e=t.XpG();t.Y8G("ngClass",e.iconClass)}}const Cyt=["kendoGridAddCommand",""];function byt(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",4),2&s){const e=t.XpG();t.Y8G("name",e.icon)("svgIcon",e.svgIcon)}}function Eyt(s,i){if(1&s&&(t.j41(0,"span",5),t.nrm(1,"img",6),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("src",e.imageUrl,t.B4B)}}function yyt(s,i){if(1&s&&t.nrm(0,"span",7),2&s){const e=t.XpG();t.Y8G("ngClass",e.iconClass)}}const Ayt=/^\s*$/,Re=s=>null!=s,LA=s=>null==s,N7=s=>Array.isArray(s),td=s=>!!s,ar=s=>LA(s)||Ayt.test(s),L7=s=>Ht(pt(s),s.changes),nb=()=>typeof document>"u",Fte=s=>"string"==typeof s,ODe=s=>"number"==typeof s&&!isNaN(s),Ute=s=>Fte(s)&&!ar(s)&&s.startsWith("{0:")?s.slice(3,s.length-1):s,GA=s=>(...i)=>!s(...i),G7=(...s)=>i=>s.reduce((e,n)=>e||n(i),!1),Bte=(...s)=>i=>s.reduce((e,n)=>e&&n(i),!0),cm=(new t.nKC("Skip"),function Nyt(){if("function"==typeof Symbol&&Symbol.iterator)return Symbol.iterator;const s=Object.getOwnPropertyNames(Map.prototype),i=Map.prototype;for(let e=0;e<s.length;++e){const n=s[e];if("entries"!==n&&"size"!==n&&i[n]===i.entries)return n}}()),P7=typeof window<"u"?window:{},Gyt=P7.requestAnimationFrame||P7.msRequestAnimationFrame||(s=>setTimeout(s,16.666666666666668)),Pyt=P7.cancelAnimationFrame||P7.msCancelRequestAnimationFrame||clearTimeout,wa=(s,i,e)=>s.replace(new RegExp(`{\\s*${i}\\s*}`,"g"),e),Vte=s=>Byt(s)?s.items.flatMap(Vte):[{...s}],Byt=s=>"aggregates"in s&&"items"in s&&"field"in s&&"value"in s;let ib=(()=>{class s{constructor(){this.cellClick=new t.bkB,this.cellMousedown=new t.bkB,this.cellMouseup=new t.bkB,this.click=new t.bkB,this.keydown=new t.bkB,this.focus=new t.bkB,this.focusIn=new t.bkB,this.focusOut=new t.bkB,this.windowBlur=new t.bkB,this.paste=new t.bkB}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),dm=(()=>{class s{constructor(){this.changes=new t.bkB}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const zte=new t.nKC("focus-root-initial-active-state");let oS=(()=>{class s{constructor(e=!1){this.active=e,this.groups=new Set}registerGroup(e){this.active&&this.groups.add(e)}unregisterGroup(e){this.active&&this.groups.delete(e)}activate(){this.active&&this.groups.forEach(e=>e.activate())}deactivate(){this.active&&this.groups.forEach(e=>e.deactivate())}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(zte,8))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const Vyt=/^(?:a|input|select|option|textarea|button|object)$/i,jte={},MDe=s=>String(s).trim().split(" "),rD=(s,i)=>{const e=MDe(i);return!!MDe(s.className).find(n=>e.indexOf(n)>=0)},um=s=>i=>rD(i,s),el=s=>(jte[s]||(jte[s]=i=>String(i.nodeName).toLowerCase()===s.toLowerCase()),jte[s]),Da=(s,i)=>{for(;s&&!i(s);)s=s.parentNode;return s},Hte=(s,i,e)=>{for(;s&&s!==e&&!i(s);)s=s.parentNode;if(s!==e)return s},IDe=(s,i,e=!1)=>{if(!Da(i,r=>r===s))return!1;const o=Da(i,r=>r===i);return o&&(e||o!==s)},$te=s=>{if(!ne())return;const i=s.getBoundingClientRect();return(i.width>0&&i.height>0||0!==i.x&&0!==i.y)&&"hidden"!==window.getComputedStyle(s).visibility},xDe=s=>{if(!s.tagName)return!1;const i=s.tagName.toLowerCase(),e=!!s.getAttribute("tabIndex");return!s.disabled&&Vyt.test(i)||e},PA=(s,i=!0)=>{if(!xDe(s))return!1;const e=!i||$te(s),n="true"===s.getAttribute("aria-hidden"),o=s.getAttribute("tabIndex");return e&&!n&&"-1"!==o},dp=(s,i,e=!0)=>{if(s){if(e&&i(s))return s;for(s=s.firstChild;s;){if(1===s.nodeType){const n=dp(s,i);if(n)return n}s=s.nextSibling}}},ADe=(s,i=!0)=>dp(s,e=>PA(e,i),!1),Xyt=el("button"),Wyt=el("input"),Yyt=/(button|checkbox|color|file|radio|reset|submit)/i;class qyt{constructor(i,e){this.renderer=e,this.element=i.nativeElement,this.focusable=((s,i=!0)=>dp(this.element,e=>PA(e,i)))(0,!1)||this.element}get enabled(){return this.focusable&&!this.focusable.disabled}get visible(){return this.focusable&&$te(this.focusable)}isNavigable(){return this.canFocus()&&(s=>!s.disabled&&(Xyt(s)||(s=>Wyt(s)&&Yyt.test(s.type))(s)))(this.element)}toggle(i){this.renderer.setAttribute(this.focusable,"tabIndex",i?"0":"-1")}focus(){this.focusable&&this.focusable.focus()}canFocus(){return this.visible&&this.enabled}hasFocus(){return ne()&&document.activeElement!==this.element&&Da(document.activeElement,i=>i===this.element)}}const gg=new t.nKC("grid-cell-context"),Qyt={};let RDe=(()=>{class s{constructor(e){this.renderer=e,this.navigableElements=[],this.currentActiveIndex=0,this.defaultFocusableSelector="\n        [kendogridtoolbarfocusable],\n        [kendogridaddcommand],\n        [kendogridcancelcommand],\n        [kendogrideditcommand],\n        [kendogridremovecommand],\n        [kendogridsavecommand],\n        [kendogridexcelcommand],\n        [kendogridpdfcommand]\n    "}notify(){this.navigableElements=this.navigableElements.length&&Array.from(this.navigableElements[0].parentElement.querySelectorAll(this.defaultFocusableSelector))||[],this.currentActiveIndex=0,this.updateFocus()}focus(){this.navigableElements[this.currentActiveIndex]?.focus()}updateFocus(){this.navigableElements.length&&(this.navigableElements.forEach(e=>{this.renderer.setAttribute(e,"tabindex","-1")}),this.renderer.setAttribute(this.navigableElements[this.currentActiveIndex],"tabindex","0"),ne()&&document.activeElement.closest(".k-toolbar")&&this.navigableElements[this.currentActiveIndex].focus())}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(t.sFG))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),Be=(()=>{class s{constructor(e,n){this.renderer=e,this.localization=n,this.topToolbarNavigation=new RDe(this.renderer),this.bottomToolbarNavigation=new RDe(this.renderer)}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(t.sFG),t.KVO(j))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),rc=(()=>{class s{constructor(e,n,o,r){this.cellContext=e,this.hostElement=n,this.renderer=o,this.ctx=r,this.active=!0,this._enabled=!0,this.cellContext&&(this.group=this.cellContext.focusGroup),this.group&&this.group.registerElement(this)}set enabled(e){(e=""===e||!!e)!==this.enabled&&(this._enabled=e,this.element&&this.element.toggle(this.active&&e))}get enabled(){return this._enabled}ngAfterViewInit(){!this.element&&this.ctx.navigable&&(this.element=new qyt(this.hostElement,this.renderer)),this.group&&this.element&&this.toggle(this.group.isActive)}ngOnDestroy(){this.group&&this.group.unregisterElement(this)}toggle(e){this.element&&e!==this.active&&(this.element.toggle(this.enabled&&e),this.active=e)}canFocus(){return this.enabled&&this.element&&this.element.canFocus()}isNavigable(){return this.enabled&&this.element&&this.element.isNavigable()}focus(){this.enabled&&this.element&&this.element.focus()}hasFocus(){return this.enabled&&this.element&&this.element.hasFocus()}registerElement(e){this.element=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(gg,12),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(Be))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridFocusable",""],["","kendoGridEditCommand",""],["","kendoGridRemoveCommand",""],["","kendoGridSaveCommand",""],["","kendoGridCancelCommand",""],["","kendoGridSelectionCheckbox",""]],inputs:{enabled:[t.Mj6.None,"kendoGridFocusable","enabled"]}}),s})();class Zyt{constructor(i){this.navigationService=i}focus(){this.navigationService.focusCell()}toggle(i){this.navigationService.toggle(i)}canFocus(){return!0}hasFocus(){return this.navigationService.hasFocus()}isNavigable(){return!1}}class ekt{constructor(i){this.model=i,this.changes=new Xe.B,this.activeRow=0,this.activeCol=0,this.virtualCol=0,this.virtualRow=0}set metadata(i){if(this._metadata=i,Re(i)){const e=i.hasDetailTemplate?1:0;this.activeRow<i.headerRows&&0===this.activeCol&&e!==this.activeCol&&(this.activeCol=e,this.reset())}}get metadata(){return this._metadata}get row(){return this.model.findRow(this.activeRow)}get cell(){const i=this.row;if(i)return this.model.findCell(this.activeCol,i)}get dataRowIndex(){const i=this.row;return i?i.dataRowIndex:-1}reset(i=this.activeRow,e=this.activeCol,n=!0){this.activate(i,e,n)&&(this.virtualRow=i,this.virtualCol=e)}activate(i,e,n){if(!n&&this.isActiveRange(i,e))return!1;const o=this.activeCol,r=this.activeRow;return this.activeCol=e,this.activeRow=i,this.changes.next({colIndex:e,prevColIndex:o,prevRowIndex:r,rowIndex:i}),!0}isActiveRange(i,e){if(this.activeRow!==i)return!1;const n=this.cell,{start:o,end:r}=this.model.cellRange(n);return!n||o<=e&&e<=r}assume(i=this.activeRow,e=this.activeCol){this.virtualRow=i,this.virtualCol=e,this.activeCol=e,this.activeRow=i}announce(){this.changes.next({colIndex:this.activeCol,prevColIndex:this.activeCol,prevRowIndex:this.activeRow,rowIndex:this.activeRow})}activateVirtualCell(i){const e=this.model.rowRange(i),n=this.model.cellRange(i),o=this.activeCol,r=this.activeRow;if(e.start<=r&&r<=e.end&&n.start<=o&&o<=n.end)return this.activeRow=i.rowIndex,this.activeCol=i.colIndex,!0}isActive(i,e){return this.activeCol===e&&this.activeRow===i}moveUp(i=1){return this.offsetRow(-i)}moveDown(i=1){return this.offsetRow(i)}moveLeft(i=1){return this.offsetCol(-i)}moveRight(i=1){return this.offsetCol(i)}lastCellIndex(i){return this.metadata.columns.leafColumnsToRender.length-1+(!this.metadata.hasDetailTemplate||i&&i.groupItem?0:1)}offsetCol(i){const e=this.model.findRow(this.virtualRow),n=this.lastCellIndex(e),o=this.virtualCol;this.virtualCol=Math.max(0,Math.min(o+i,n));let r=this.virtualCol;const a=this.virtualRow;let l=this.model.findCell(this.virtualCol,e);if(!l&&this.metadata.virtualColumns)return this.activate(a,r);if(!l&&this.metadata.hasDetailTemplate)return this.virtualCol+=1,!1;if(l.colSpan>1&&l.colIndex<=o&&o<l.colIndex+l.colSpan){r=i>0?Math.min(l.colIndex+l.colSpan,n):Math.max(0,l.colIndex+i);const c=this.model.findCell(r,e);l!==c?(l=c,this.virtualCol=l.colIndex):this.virtualCol=o}return this.activate(l.rowIndex,l.colIndex)}offsetRow(i){let e=this.virtualCol;if(this.metadata&&this.metadata.isVirtual){const r=this.metadata.maxLogicalRowIndex;let a=Math.max(0,Math.min(this.activeRow+i,r));this.metadata.hasDetailTemplate&&!this.model.findRow(a)&&(a=i>0?a+1:a-1,a=Math.max(0,Math.min(a,r))),this.metadata.hasDetailTemplate&&a===r&&this.model.lastRow.index!==r&&a--;const l=this.model.findRow(a);if(l){let c=this.model.findCell(this.virtualCol,l);if(!c)return;c.rowIndex<=this.virtualRow&&i>0&&c.rowSpan>1&&(c=this.model.findCell(this.virtualCol,this.model.findRow(c.rowIndex+c.rowSpan-1+i))),a=c.rowIndex,e=c.colIndex}return this.virtualRow=a,this.activate(a,e)}const n=this.model.findRow(this.virtualRow+i)||this.model.nextRow(this.virtualRow,i);if(!n)return!1;let o=this.model.findCell(this.virtualCol,n);return o&&o.rowIndex<=this.virtualRow&&i>0&&o.rowSpan>1&&(o=this.model.findCell(this.virtualCol,this.model.findRow(o.rowIndex+o.rowSpan-1+i))),o||!this.metadata.virtualColumns&&!this.metadata.hasDetailTemplate?(this.virtualRow=o.rowIndex,this.activate(this.virtualRow,o.colIndex)):this.activate(this.virtualRow+i,this.virtualCol)}}class NDe{constructor(){this.count=0,this.items={}}get first(){if(this.count>0){let i;return this.forEach(e=>(i=e,!0)),i}}get last(){if(this.count>0){const i=Object.keys(this.items);return this.items[i[i.length-1]]}}removeItem(i){this.items[i]&&(delete this.items[i],this.count--)}setItem(i,e){this.items[i]||this.count++,this.items[i]=e}getItem(i){return this.items[i]}toArray(){const i=[];return this.forEach(e=>{i.push(e)}),i}forEach(i){for(const e in this.items)if(this.items.hasOwnProperty(e)&&i(this.items[e]))return this.items[e]}find(i){return this.forEach(i)}}class tkt{constructor(){this.rows=new NDe}get firstRow(){return this.rows.first}get lastRow(){return this.rows.last}registerCell(i){const e=this.rows.getItem(i.logicalRowIndex);if(!e)return;const n=i.logicalColIndex,o={uid:i.uid,colIndex:n,rowIndex:e.index,colSpan:i.colSpan,rowSpan:i.rowSpan,detailExpandCell:i.detailExpandCell,dataItem:e.dataItem,dataRowIndex:e.dataRowIndex,focusGroup:i.focusGroup};return e.cells.setItem(n,o),i.groupItem&&(e.groupItem=i.groupItem),o}unregisterCell(i,e,n){const o=this.rows.getItem(e);if(o){const r=o.cells.getItem(i);r&&r.uid===n.uid&&o.cells.removeItem(i)}}registerRow(i){const e={uid:i.uid,index:i.logicalRowIndex,dataItem:i.dataItem,dataRowIndex:i.dataRowIndex,cells:new NDe};this.rows.setItem(i.logicalRowIndex,e)}updateRow(i){const e=this.rows.getItem(i.logicalRowIndex);e&&Object.assign(e,{dataItem:i.dataItem,dataRowIndex:i.dataRowIndex})}unregisterRow(i,e){const n=this.rows.getItem(i);n&&n.uid===e.uid&&this.rows.removeItem(i)}cellRange(i){return i?{start:i.colIndex,end:i.colIndex+(i.colSpan||1)-1}:{}}rowRange(i){return i?{start:i.rowIndex,end:i.rowIndex+(i.rowSpan||1)-1}:{}}nextRow(i,e){const n=this.rows.toArray(),o=this.rows.getItem(i),r=n.indexOf(o);return n[r+e]}findRow(i){return this.rows.getItem(i)}findCell(i,e){if(!e)return;const n=e.index;let o=e.cells.getItem(i),r=n;for(;!o&&e;)e=this.rows.getItem(r),o=this.rowCell(i,e),r--;return o&&n<=e.index+(o.rowSpan||1)-1?o:void 0}rowCell(i,e){if(!e||!e.cells.count)return;const n=e.cells.first;let o,r=i;for(;!o&&r>=n.colIndex;)o=e.cells.getItem(r),r--;return o&&i<=o.colIndex+(o.colSpan||1)-1?o:void 0}}class sb{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class nkt extends sb{constructor(i){super(),this.action="cellClose",Object.assign(this,i)}}const ob=s=>-1===s||void 0===s;let up=(()=>{class s{constructor(e){this.ngZone=e,this.changes=new t.bkB,this.editedIndices=[],this.keepEditCell=!1,this.closingCell=!1,this.changedSource=new Xe.B,this.changed=this.changedSource.asObservable().pipe(Y(()=>this.ngZone.onStable.asObservable().pipe(Ye(1))))}editRow(e,n=void 0){this.editedIndices.push({index:e,group:n}),this.onChanged()}addRow(e){this.newItemGroup={group:e},this.onChanged()}editCell(e,n,o){ob(e)||!1===n.editable||!n.editTemplate&&!n.field||(this.preventCellClose(),this.closeCell()||(this.editRow(e,o),this.column=n,this.onChanged()))}isEditing(){return this.editedIndices.length>0}isEditingCell(){return this.isEditing()&&void 0!==this.column}get hasNewItem(){return Re(this.newItemGroup)}get newDataItem(){return this.hasNewItem?this.newItemGroup.group.value:{}}close(e){ob(e)?this.newItemGroup=void 0:(this.editedIndices=this.editedIndices.filter((s=>i=>i.index!==s)(e)),delete this.column,this.onChanged())}closeCell(e){if(this.column&&!this.closingCell)return this.ngZone.run(()=>{const{index:n,group:o}=this.editedIndices[0],r=new nkt({column:this.column,formGroup:o,originalEvent:e,rowIndex:n});return this.closingCell=!0,this.changes.emit(r),this.closingCell=!1,r.isDefaultPrevented()||this.cancelCell(),r.isDefaultPrevented()})}cancelCell(){this.column&&(this.editedIndices=[],delete this.column,this.onChanged())}shouldCloseCell(){return this.column&&!this.keepEditCell}preventCellClose(){this.ngZone.runOutsideAngular(()=>{window.clearTimeout(this.keepCellTimeout),this.keepEditCell=!0,this.keepCellTimeout=window.setTimeout(()=>{this.keepEditCell=!1},0)})}context(e){return ob(e)?this.newItemGroup:this.findByIndex(e)}columnContext(e,n){return ob(e)?this.newItemGroup:this.column&&n!==this.column?void 0:this.findByIndex(e)}isEdited(e){return!(!ob(e)||!Re(this.newItemGroup))||!this.column&&Re(this.findByIndex(e))}hasEdited(e){return Re(this.context(e))}isEditedColumn(e,n){return!(!this.column||this.column!==n)&&Re(this.findByIndex(e))}beginEdit(e){this.changes.emit({action:"edit",rowIndex:e})}beginAdd(){this.changes.emit({action:"add"})}endEdit(e){const{group:n}=this.context(e);this.changes.emit({action:"cancel",rowIndex:e,formGroup:n,isNew:ob(e)})}save(e){const{group:n}=this.context(e);this.changes.emit({action:"save",rowIndex:e,formGroup:n,isNew:ob(e)})}remove(e){this.changes.emit({action:"remove",rowIndex:e})}findByIndex(e){return this.editedIndices.find((s=>i=>i.index===s)(e))}onChanged(){this.ngZone.runOutsideAngular(()=>{this.changedSource.next()})}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(t.SKi))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const F7=s=>Re(s)?{group:s.data,groupIndex:s.index,parentGroup:F7(s.parentGroup)}:null;let rb=(()=>{class s{constructor(){this.changes=new Xe.B,this.rowState=new Set}reset(){this.rowState.clear()}ngOnDestroy(){this.reset()}isExpanded(e){return this.userCallback?this.userCallback(e):!this.rowState.has(e.groupIndex)}isInExpandedGroup(e){let n=!0;for(;e&&n;)n=this.isExpanded({group:e.data,groupIndex:e.index,parentGroup:F7(e.parentGroup)}),e=e.parentGroup;return n}toggleRow(e,n=!0){const o=F7(e.parentGroup),r=!this.isExpanded({group:e.data,groupIndex:e.index,parentGroup:o});this.changes.next({group:e.data,expand:r,groupIndex:e.index,parentGroup:o,emit:n}),!this.userCallback&&(r?this.rowState.delete(e.index):this.rowState.add(e.index))}expandChildren(e){this.rowState.forEach(n=>((s,i)=>{const e=i===s,n=s.lastIndexOf("_"),o=s.substring(0,n)===i;return!e&&o})(n,e)&&this.rowState.delete(n))}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();class hm{constructor(){this.changes=new Xe.B,this.pageChange=new Xe.B}get currentPage(){return this.skip/this.pageSize}notifyChanges(i){this.total=i.total,this.pageSize=i.pageSize,this.skip=i.skip,this.changes.next(i)}changePage(i){this.pageChange.next({skip:i*this.pageSize,take:this.pageSize})}changePageSize(i){this.pageChange.next({skip:0,take:i})}nextPage(){const i=this.currentPage+1;i*this.pageSize<this.total&&this.changePage(i)}prevPage(){const i=this.currentPage-1;i*this.pageSize>=0&&this.changePage(i)}}class rkt extends sb{constructor(i){super(),Object.assign(this,i)}}class akt extends sb{constructor(i){super(),Object.assign(this,i)}}let FA=(()=>{class s{constructor(){this.changes=new Xe.B,this.rowState=new Set}ngOnDestroy(){this.rowState.clear()}isExpanded(e,n){return this.userCallback?this.userCallback({index:e,dataItem:n}):this.rowState.has(e)}toggleRow(e,n){this.isExpanded(e,n)?this.collapseRow(e,n):this.expandRow(e,n)}expandRow(e,n){!this.emitEvent({dataItem:n,index:e,expand:!0})&&!this.userCallback&&this.rowState.add(e)}collapseRow(e,n){!this.emitEvent({dataItem:n,index:e,expand:!1})&&!this.userCallback&&this.rowState.delete(e)}emitEvent(e){const n=new(e.expand?akt:rkt)(e);return this.changes.next(n),n.isDefaultPrevented()}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),U7=(()=>{class s{constructor(){this.requests=new Xe.B}scrollTo(e,n=!0){this.requests.next({request:e,adjustIndex:n})}scrollToItem(e){this.requests.next({request:e})}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const lkt=(s,i)=>Da(s,el("kendo-grid"))===i,ckt=el("th"),dkt=el("td"),ukt=el(".k-grid-footer td"),LDe=s=>dkt(s)||ckt(s)||ukt(s),Xte=(s,i)=>{const e=((s,i)=>{let e=Da(s,LDe);for(;e&&!lkt(e,i);)e=Da(e.parentElement,LDe);return e})(s,i),n=Da(e,el("tr"));if(e&&n){let o=n.getAttribute("aria-rowindex")||n.getAttribute("data-kendo-grid-row-index");o=o?parseInt(o,10)-1:null;let r=e.getAttribute("aria-colindex");if(r=r?parseInt(r,10)-1:null,null!==o&&null!==r)return{colIndex:r,rowIndex:o,element:e}}},GDe=s=>(s=>s===F.ArrowLeft||s===F.ArrowRight||s===F.ArrowUp||s===F.ArrowDown)(s)||s===F.PageUp||s===F.PageDown||s===F.Home||s===F.End,fkt=el("input");class PDe{constructor(i,e){this.firstItemIndex=i,this.lastItemIndex=e}containsRow(i){return i<0||i>=this.firstItemIndex&&i<=this.lastItemIndex}intersects(i,e){return i<=this.firstItemIndex&&this.lastItemIndex<=e||this.firstItemIndex<=i&&i<=this.lastItemIndex||this.firstItemIndex<=e&&e<=this.lastItemIndex}}let tl=(()=>{class s{constructor(e,n,o,r,a,l,c,u,f,_,g){this.zone=e,this.domEvents=n,this.pagerContextService=o,this.scrollRequestService=r,this.groupsService=a,this.detailsService=l,this.focusRoot=c,this.editService=u,this.cd=f,this.ctx=_,this.focusableParent=g,this.cellKeydown=new t.bkB,this.activeRowIndex=0,this.alive=!1,this.active=!0,this.mode=0,this.model=new tkt,this.cursor=new ekt(this.model),this.pagerIsNavigable=!1,this.tableIsNavigable=!1,this.toolbarIsNavigable=!1,this.changes=this.cursor.changes}set metadata(e){this.meta=e,this.cursor.metadata=e}get metadata(){return this.meta}get enabled(){return this.alive}get pagerEnabled(){return this.alive&&this.pagerIsNavigable}get tableEnabled(){return this.alive&&this.tableIsNavigable}get toolbarEnabled(){return this.alive&&this.toolbarIsNavigable}get activeCell(){if(0!==this.mode)return this.cursor.cell}get activeRow(){if(0!==this.mode)return Object.assign({},this.cursor.row,{cells:this.cursor.row.cells.toArray()})}get activeDataRow(){return Math.max(0,this.activeRowIndex-this.meta.headerRows)}init(e,n){this.setActiveSections(n),this.alive=!0,this.focusRoot.active=!0,this.metadata=e;const o=(...a)=>l=>this.zone.isStable?gs([!0]).pipe((0,U.T)(()=>l)):this.zone.onStable.pipe(Ye(1),(0,U.T)(()=>l),...a),r=o();if(this.subs=new be.yU,this.subs.add(this.cursor.changes.subscribe(a=>this.onCursorChanges(a))),this.subs.add(this.domEvents.focus.pipe(Y(r)).subscribe(a=>this.navigateTo(a.target))),this.subs.add(this.domEvents.focusOut.pipe(z(()=>0!==this.mode),Y(o(zs(this.domEvents.focus)))).subscribe(a=>this.onFocusOut(a))),this.subs.add(this.domEvents.windowBlur.pipe(z(()=>0!==this.mode)).subscribe(()=>this.onWindowBlur())),this.subs.add(this.editService.changes.pipe(z(a=>"edit"!==a.action&&2===this.mode),z(a=>"cellClose"===a.action&&!a.prevented),Y(r)).subscribe(()=>this.leaveCell())),this.subs.add(this.pagerContextService.pageChange.subscribe(()=>this.cursor.reset(0,0))),this.subs.add(this.domEvents.keydown.subscribe(a=>this.onKeydown(a))),this.subs.add(this.domEvents.keydown.pipe(z(a=>a.keyCode===F.Tab&&2===this.mode),yF(this.domEvents.focusOut.pipe(zs(l0(0).pipe(Ye(1)))))).subscribe(()=>this.onTabout())),this.focusableParent){const a=new Zyt(this);this.focusableParent.registerElement(a)}this.deactivateElements()}ngOnDestroy(){this.subs&&this.subs.unsubscribe(),this.alive=!1}registerCell(e){if(e.logicalRowIndex!==this.pendingRowIndex){const n=this.model.registerCell(e);this.virtualCell&&this.cursor.activateVirtualCell(n)&&(this.virtualCell=!1)}}registerCellOnCurrentRow(e){e.logicalRowIndex===this.pendingRowIndex&&this.model.registerCell(e)}unregisterCell(e,n,o){this.model.unregisterCell(e,n,o)}registerRow(e){this.model.registerRow(e),this.pendingRowIndex=e.logicalRowIndex}updateRow(e){this.model.updateRow(e)}unregisterRow(e,n){this.model.unregisterRow(e,n);const o=this.model.lastRow;if(o&&0===this.mode){const r=this.needsViewport()&&this.viewport?this.viewport.lastItemIndex:o.index;this.activeRowIndex>r&&this.cursor.reset(0,0)}}isCellFocusable(e){return this.alive&&this.active&&2!==this.mode&&this.cursor.isActive(e.logicalRowIndex,e.logicalColIndex)}isCellFocused(e){return 1===this.mode&&this.isCellFocusable(e)}navigateTo(e){if(!this.alive||!ne())return;const n=Xte(e,this.meta.gridElement.nativeElement);if(!n)return;const o=this.mode,r=IDe(n.element,document.activeElement),a=2===this.mode&&this.activeRowIndex===n.rowIndex&&e!==n.element;if(r)this.mode=2,this.cursor.reset(n.rowIndex,n.colIndex),this.activateRow();else if(!a){this.mode=1,this.deactivateElements();const l=this.cursor.isActive(n.rowIndex,n.colIndex);1===o&&l||this.cursor.reset(n.rowIndex,n.colIndex)}}tryFocus(e){this.activateElements();const n=ADe(e);if(n){const o=Xte(n,this.meta.gridElement.nativeElement);o&&(this.cursor.reset(o.rowIndex,o.colIndex),this.deactivateElements(),this.enterCell()),n.focus()}else this.deactivateElements();return!!n}needsViewport(){return this.meta&&this.meta.isVirtual}setViewport(e,n){if(this.viewport=new PDe(e,n),this.meta&&this.meta.isVirtual&&this.activeDataRow>-1){const o=this.activeDataRow,a=o-n;e-o>0?this.cursor.reset(e+this.meta.headerRows):a>0&&this.cursor.reset(n-this.meta.headerRows)}}setColumnViewport(e,n){this.columnViewport=new PDe(e,n)}focusCell(e=void 0,n=void 0){return this.mode=1,this.cursor.reset(e,n),this.activeCell}focusCellByElement(e){const n=Xte(e,this.meta.gridElement.nativeElement);if(n)return this.focusCell(n.rowIndex,n.colIndex)}focusNextCell(e=!0){return this.focusAdjacentCell(!0,e)}focusPrevCell(e=!0){return this.focusAdjacentCell(!1,e)}toggle(e){this.active=e,this.cursor.announce()}hasFocus(){return 1===this.mode||2===this.mode}autoFocusCell(e,n){return!this.meta.virtualColumns||n<this.meta.columns.lockedLeafColumns.length||this.columnViewport.intersects(e,n)}setActiveSections(e){this.pagerIsNavigable=e.includes("pager"),this.tableIsNavigable=e.includes("table"),this.toolbarIsNavigable=e.includes("toolbar")}focusAdjacentCell(e,n){this.focusCell();let o=e?this.moveCursorFwd():this.moveCursorBwd();if(n&&!o&&(o=e?this.cursor.moveDown(1):this.cursor.moveUp(1),o)){const r=this.cursor.row,a=e?0:this.cursor.lastCellIndex(r);this.cursor.reset(r.index,a)}return o?this.activeCell:(this.mode=0,this.cursor.announce(),null)}enterCell(){const e=this.cursor.cell;if(!e)return;const n=e.focusGroup,o=n&&n.canFocus();this.mode=o?2:1,this.cursor.announce(),o&&(this.activateRow(),n.focus())}leaveCell(){const e=this.cursor.cell;if(!e)return;const n=e.focusGroup;n&&n.canFocus()||this.deactivateElements(),this.mode=1,this.cursor.announce()}activateElements(){this.focusRoot.activate()}deactivateElements(){this.focusRoot.deactivate()}activateRow(){this.cursor.row.cells.forEach(e=>e.focusGroup&&e.focusGroup.activate())}moveCursorFwd(){return this.ctx.localization.rtl?this.cursor.moveLeft():this.cursor.moveRight()}moveCursorBwd(){return this.ctx.localization.rtl?this.cursor.moveRight():this.cursor.moveLeft()}onCursorKeydown(e){let n=!1;const o=e.ctrlKey||e.metaKey,r=o?5:1;if(!this.onCellKeydown(e))return;const a=this.cursor.row;switch(e.keyCode){case F.ArrowDown:n=this.cursor.moveDown(r);break;case F.ArrowUp:n=this.cursor.moveUp(r);break;case F.ArrowRight:n=this.moveCursorFwd();break;case F.ArrowLeft:n=this.moveCursorBwd();break;case F.PageDown:if(this.metadata.isVirtual&&this.viewport){let l=this.meta.headerRows+this.viewport.lastItemIndex+1;this.metadata.hasDetailTemplate&&l++,l=Math.min(this.meta.maxLogicalRowIndex,l),this.cursor.reset(l),n=!0}else this.metadata.hasPager&&(this.zone.run(()=>this.pagerContextService.nextPage()),n=!0);break;case F.PageUp:if(this.metadata.isVirtual&&this.viewport){const u=Math.max(this.meta.headerRows,this.viewport.firstItemIndex-(this.viewport.lastItemIndex-this.viewport.firstItemIndex)-1);this.cursor.reset(u),n=!0}else this.metadata.hasPager&&(this.zone.run(()=>this.pagerContextService.prevPage()),n=!0);break;case F.Home:if(o)this.cursor.reset(this.meta.isVirtual?this.meta.headerRows:this.model.firstRow.index,0,!1);else{let l=0;this.meta.hasDetailTemplate&&a.index<this.meta.headerRows&&(l=1),this.cursor.reset(a.index,l,!1)}n=!0;break;case F.End:if(o)if(this.meta.isVirtual){let l=this.meta.maxLogicalRowIndex;this.meta.hasDetailTemplate&&l--,this.cursor.reset(l,this.cursor.lastCellIndex(),!1)}else this.cursor.reset(this.model.lastRow.index,this.cursor.lastCellIndex(this.model.lastRow),!1);else{const l=this.cursor.lastCellIndex(a),c=this.model.findCell(l,a);c?this.cursor.reset(c.rowIndex,c.colIndex):this.cursor.reset(a.index,l)}n=!0;break;case F.Enter:case F.F2:{const l=a.groupItem;l?this.zone.run(()=>this.groupsService.toggleRow(l)):this.cursor.cell.detailExpandCell?this.zone.run(()=>this.detailsService.toggleRow(a.dataRowIndex,a.dataItem)):(this.enterCell(),this.cursor.cell.focusGroup.isNavigable()||(n=!0));break}default:!e.ctrlKey&&!e.altKey&&(s=>1===s.length&&s.match(/\S/))(e.key)&&this.enterCell()}n&&e.preventDefault()}onContentKeydown(e){if(!this.onCellKeydown(e))return;const n=!e.defaultPrevented&&e.keyCode===F.Enter&&(s=>s&&fkt(s)&&"text"===s.type.toLowerCase())(e.srcElement);e.keyCode===F.Escape||e.keyCode===F.F2||n?(this.leaveCell(),this.cursor.reset(),e.stopPropagation()):GDe(e.keyCode)&&this.cursor.cell.focusGroup.isNavigable()&&(this.onCursorKeydown(e),e.defaultPrevented&&this.leaveCell())}onCellKeydown(e){if(this.editService.isEditingCell()){const n=e.keyCode===F.Enter,o=e.keyCode===F.Escape,r=GDe(e.keyCode);if(n)this.editService.closeCell(e);else if(o)this.editService.closeCell(e),this.cd.detectChanges();else if(r)return!1}return this.cellKeydown.emit(e),!0}onCursorChanges(e){this.activeRowIndex=e.rowIndex;const n=this.activeDataRow;if(this.meta&&this.meta.isVirtual&&e.rowIndex>=this.meta.headerRows&&this.viewport&&!this.viewport.containsRow(n)&&n>-1&&this.scrollRequestService.scrollTo({row:n}),this.meta.virtualColumns&&e.colIndex>=this.meta.columns.lockedLeafColumns.length){const o=this.activeCell,{start:r,end:a}=this.model.cellRange(o);o||(this.virtualCell=!0),(!o&&0!==this.mode||o&&!this.columnViewport.intersects(r,a))&&this.scrollRequestService.scrollTo({column:e.colIndex-(this.metadata.hasDetailTemplate?1:0)})}}onFocusOut(e){this.mode=$te(e.target)?0:1,this.deactivateElements(),this.cursor.announce()}onWindowBlur(){this.mode=0,this.deactivateElements(),this.cursor.announce()}onKeydown(e){1===this.mode?this.onCursorKeydown(e):2===this.mode&&this.onContentKeydown(e)}onTabout(){this.cursor.cell.focusGroup.isNavigable()||(this.leaveCell(),this.cursor.reset())}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(t.SKi),t.KVO(ib),t.KVO(hm),t.KVO(U7),t.KVO(rb),t.KVO(FA),t.KVO(oS),t.KVO(up),t.KVO(t.gRc),t.KVO(Be),t.KVO(rc,8))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),gkt=0,nd=(()=>{class s{constructor(){this.prefix="k-grid"+gkt++}gridId(){return this.prefix}cellId(e,n){return`${this.prefix}-r${e}c${n}`}selectionCheckboxId(e){return`${this.prefix}-checkbox${e}`}selectAllCheckboxId(){return`${this.prefix}-select-all`}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),Wte=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridHeaderTemplate",""]]}),s})(),Yte=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridFooterTemplate",""]]}),s})(),B7=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridColumnMenuTemplate",""]]}),s})();const UA_autoSizeColumn="The auto size column does not work with enabled virtual columns.\n    See https://www.telerik.com/kendo-angular-ui/components/grid/accessories/column-menu/#toc-autosize-column-item.",UA_autoSizeAllColumns="The auto size all columns does not work with enabled virtual columns.\n    See https://www.telerik.com/kendo-angular-ui/components/grid/accessories/column-menu/#toc-autosize-all-columns-item.",UA_serviceInput="The service input of the predefined column menu components is mandatory.\n    See https://www.telerik.com/kendo-angular-ui/components/grid/accessories/column-menu/#toc-customizing-the-content.",qd_requiredWidth=s=>`${s} columns feature requires all columns to have set width.\n    See https://www.telerik.com/kendo-angular-ui/components/grid/columns/${s.toLowerCase()}.`,qd_requiredScroll=s=>`${s} columns are only supported when scrolling is enabled.\n    See https://www.telerik.com/kendo-angular-ui/components/grid/columns/${s.toLowerCase()}/`,qd_nestedInside=(s,i)=>`${s} cannot be nested inside ${i}.`,Yo_functionType=(s,i)=>`${s} must be a function, but received ${JSON.stringify(i)}.`,Yo_incompatibleFeatures=(s,i)=>`'Having both ${s} and ${i} is not supported.'`,Yo_nonLockedColumnPresent="There should be at least one non-locked column. See https://www.telerik.com/kendo-angular-ui/components/grid/columns/locked/#toc-known-limitations",Yo_rowHeightVirtual="The virtual scrolling functionality requires setting the rowHeight (and detailRowHeight when there are detail rows).\n        Row height and detail row height settings should be set only when virtual scrolling mode is enabled.\n        See https://www.telerik.com/kendo-angular-ui/components/grid/scroll-modes/virtual/#toc-getting-started.",Yo_focusNavigable="The Grid should be configured as navigable to control focus. See https://www.telerik.com/kendo-angular-ui/components/grid/keyboard-navigation/.",Yo_expandCollapseMethods=(s,i,e,n)=>`The ${s} and ${i} methods should not be called\n        when using the ${e} directive or the ${n} callback.\n        These methods are provided only for backwards compatibility with legacy versions.`,Yo_requiredModule=(s,i,e)=>`Creating ${s} requires including the ${i} and adding the ${e} component.`,Jte=s=>s.isSpanColumn,FDe=s=>s.isCheckboxColumn,qte=s=>s.isRowReorderColumn;let Ko=(()=>{class s{constructor(e,n){if(this.parent=e,this.matchesMedia=!0,this.orderIndex=0,this.isColumnGroup=!1,this.isSpanColumn=!1,this.resizable=!0,this.reorderable=!0,this.minResizableWidth=10,this._locked=!1,this.sticky=!1,this.lockable=!0,this.stickable=!0,this.columnMenu=!0,this.includeInChooser=!0,this.tableCellsRole="gridcell",this.headerTemplates=new t.rOR,this.columnMenuTemplates=new t.rOR,this.idService=n,e&&n&&e.idService.gridId()===n.gridId()&&!(s=>s.isColumnGroup||Jte(s))(e))throw new Error("Columns can be nested only inside ColumnGroupComponent")}set leafIndex(e){this._leafIndex=e}get leafIndex(){return this._leafIndex}set width(e){if("string"==typeof e){const n=this._width=parseInt(e,10);(0,t.naY)()&&console.warn(((s,i)=>`Expected numeric value for column width, but got a string "${s}". Treating as ${i}px.`)(e,n))}else this._width=e}get width(){return this._width}set locked(e){this._locked=e}get locked(){return this._locked}get level(){return this.parent&&Jte(this.parent)?this.parent.level:this.parent?this.parent.level+1:0}get isLocked(){return this.parent?this.parent.isLocked:this.locked}get colspan(){return 1}rowspan(e){return this.level<e?e-this.level+1:1}get headerTemplateRef(){const e=this.headerTemplates.first;return e?e.templateRef:void 0}get footerTemplateRef(){return this.footerTemplate?this.footerTemplate.templateRef:void 0}get columnMenuTemplateRef(){const e=this.columnMenuTemplates.first;return e?e.templateRef:null}get displayTitle(){return this.title}get isVisible(){return!this.hidden&&this.matchesMedia}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(s),t.rXU(nd))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-column-base"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,Yte,5),t.wni(o,Wte,4),t.wni(o,B7,4)),2&e){let r;t.mGM(r=t.lsd())&&(n.footerTemplate=r.first),t.mGM(r=t.lsd())&&(n.headerTemplates=r),t.mGM(r=t.lsd())&&(n.columnMenuTemplates=r)}},inputs:{resizable:"resizable",reorderable:"reorderable",minResizableWidth:"minResizableWidth",maxResizableWidth:"maxResizableWidth",title:"title",width:"width",autoSize:"autoSize",locked:"locked",sticky:"sticky",hidden:"hidden",media:"media",lockable:"lockable",stickable:"stickable",columnMenu:"columnMenu",includeInChooser:"includeInChooser",tableCellsRole:"tableCellsRole",style:"style",headerStyle:"headerStyle",filterStyle:"filterStyle",footerStyle:"footerStyle",cssClass:[t.Mj6.None,"class","cssClass"],headerClass:"headerClass",filterClass:"filterClass",footerClass:"footerClass"},decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),qn=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridCellTemplate",""]]}),s})(),V7=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridEditTemplate",""]]}),s})(),Qte=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridGroupHeaderTemplate",""]]}),s})(),Zte=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridGroupHeaderColumnTemplate",""]]}),s})(),ene=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridGroupFooterTemplate",""]]}),s})(),tne=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridFilterCellTemplate",""]]}),s})(),ac=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridFilterMenuTemplate",""]]}),s})();function BA(s){return Re(s.field)}let yn=(()=>{class s extends Ko{constructor(e,n){super(e,n),this.sortable=!0,this.groupable=!0,this.editor="text",this.filter="text",this.filterable=!0,this.editable=!0}get templateRef(){return this.template?this.template.templateRef:void 0}get groupHeaderTemplateRef(){return this.groupHeaderTemplate?this.groupHeaderTemplate.templateRef:void 0}get groupHeaderColumnTemplateRef(){return this.groupHeaderColumnTemplate?this.groupHeaderColumnTemplate.templateRef:void 0}get groupFooterTemplateRef(){return this.groupFooterTemplate?this.groupFooterTemplate.templateRef:void 0}get editTemplateRef(){return this.editTemplate?this.editTemplate.templateRef:void 0}get filterCellTemplateRef(){return this.filterCellTemplate?this.filterCellTemplate.templateRef:void 0}get filterMenuTemplateRef(){return this.filterMenuTemplate?this.filterMenuTemplate.templateRef:void 0}get displayTitle(){return void 0===this.title?this.field:this.title}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Ko,13),t.rXU(nd,8))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-column"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,qn,5),t.wni(o,Qte,5),t.wni(o,Zte,5),t.wni(o,ene,5),t.wni(o,V7,5),t.wni(o,tne,5),t.wni(o,ac,5)),2&e){let r;t.mGM(r=t.lsd())&&(n.template=r.first),t.mGM(r=t.lsd())&&(n.groupHeaderTemplate=r.first),t.mGM(r=t.lsd())&&(n.groupHeaderColumnTemplate=r.first),t.mGM(r=t.lsd())&&(n.groupFooterTemplate=r.first),t.mGM(r=t.lsd())&&(n.editTemplate=r.first),t.mGM(r=t.lsd())&&(n.filterCellTemplate=r.first),t.mGM(r=t.lsd())&&(n.filterMenuTemplate=r.first)}},inputs:{field:"field",format:"format",sortable:"sortable",groupable:"groupable",editor:"editor",filter:"filter",filterable:"filterable",editable:"editable"},features:[t.Jv_([{provide:Ko,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})();function z7(s){return s.isSpanColumn}let nne=(()=>{class s extends Ko{constructor(e,n){if(super(e,n),this.isSpanColumn=!0,this.template=new t.rOR,this.editTemplate=new t.rOR,this.childColumns=new t.rOR,this.includeInChooser=!1,this._editable=!0,e&&e.isSpanColumn)throw new Error(qd_nestedInside("SpanColumnComponent","SpanColumnComponent"))}set editable(e){this._editable=e}get editable(){return Re(this.editTemplateRef)&&this._editable}set width(e){}get width(){return this.childColumns.reduce((e,n)=>e+n.width,0)}get leafIndex(){return this.childColumns.first.leafIndex}get templateRef(){const e=this.template.first;return e?e.templateRef:void 0}get editTemplateRef(){const e=this.editTemplate.first;return e?e.templateRef:void 0}get colspan(){return this.childColumns.filter(e=>e.isVisible).length}set locked(e){this._locked=e}get locked(){return this._locked||this.childColumns.some(e=>e.locked)}get childrenArray(){return this.childColumns.toArray()}get hasChildren(){return this.childColumns.length>0}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Ko,13),t.rXU(nd,8))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-span-column"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,qn,4),t.wni(o,V7,4),t.wni(o,yn,4)),2&e){let r;t.mGM(r=t.lsd())&&(n.template=r),t.mGM(r=t.lsd())&&(n.editTemplate=r),t.mGM(r=t.lsd())&&(n.childColumns=r)}},inputs:{editable:"editable",locked:"locked"},features:[t.Jv_([{provide:Ko,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})();const pm=s=>s.reduce((i,e)=>i.concat(z7(e)?e.childrenArray:[e]),[]),UDe=s=>s.reduce((i,e)=>i.concat(z7(e)?[e].concat(e.childrenArray):[e]),[]),vg=s=>pm(s).filter(i=>i.isVisible),BDe=s=>i=>(i||[]).reduce((e,n)=>e+(n[s]||0),0),Skt=BDe("width"),j7=BDe("colspan"),Ckt=new RegExp("^[$A-Z_a-z][$A-Z_a-z0-9\\.]*$"),VA=s=>s.reduce((i,e)=>(e.isColumnGroup?i=i.concat(VA((s=>s.children.filter(i=>i!==s))(e))):e.isSpanColumn?i=i.concat(e.childrenArray):i.push(e),i),[]).filter(i=>i.isVisible),ine=(s,...i)=>VA(i).some(s),ab=s=>Tf(s,[{field:"orderIndex",dir:"asc"}]),VDe=s=>td(s.parent)&&z7(s.parent);function aD(s){return s.isColumnGroup}let sne=(()=>{class s extends Ko{constructor(e,n){if(super(e,n),this.parent=e,this.includeInChooser=!1,this.isColumnGroup=!0,this.minResizableWidth=10,e&&e.isSpanColumn)throw new Error(qd_nestedInside("ColumnGroupComponent","SpanColumnComponent"))}rowspan(){return 1}get colspan(){return this.children?j7(this.children.filter(e=>e!==this&&e.isVisible)):1}get leafIndex(){return this.children?(this.firstChild||{}).leafIndex:-1}get childrenArray(){return this.children.filter(e=>e!==this)}get hasChildren(){return!!this.firstChild}get firstChild(){return this.children.find(e=>e!==this)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Ko,13),t.rXU(nd,8))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-column-group"]],contentQueries:function(e,n,o){if(1&e&&t.wni(o,Ko,4),2&e){let r;t.mGM(r=t.lsd())&&(n.children=r)}},features:[t.Jv_([{provide:Ko,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})();class one{constructor(i){this.columns=i,this.allColumns=new t.rOR,this.leafColumns=new t.rOR,this.lockedColumns=new t.rOR,this.nonLockedColumns=new t.rOR,this.lockedLeafColumns=new t.rOR,this.nonLockedLeafColumns=new t.rOR,this.totalLevels=0,this.changes=new t.bkB,this.leafColumnsToRender=[],this.lockedColumnsToRender=[],this.nonLockedColumnsToRender=[],this.hasGroupHeaderColumn=!1,this.hasGroupFooter=!1,this.hasFooter=!1,this.unlockedWidth=0}refresh(){const i=this.totalLevels,e=new Array,n=new Array,o=new Array,r=new Array,a=new Array,l=new Array,c=new Array,u=new Array,f=new Array;let _=!1,g=!1,S=!1,b=0,k=0;this.totalLevels=0,this.columns().forEach(O=>{const I=!0===O.isLocked?n:o,N=!0===O.isLocked?r:a,P=!0===O.isLocked?u:f;aD(O)||(I.push(O),e.push(O),c.push(...vg([O])),P.push(...vg([O])),_=_||ine(G=>!!G.groupHeaderColumnTemplateRef,O),g=g||ine(G=>!!G.groupFooterTemplateRef,O),S=S||ine(G=>!!G.footerTemplateRef,O),O.isLocked||(b+=O.width||0),O.isSpanColumn?O.childColumns.forEach(G=>{G.leafIndex=k++}):O.leafIndex=k++),N.push(O),l.push(O),this.totalLevels=O.level>this.totalLevels?O.level:this.totalLevels}),this.hasGroupHeaderColumn=_,this.hasGroupFooter=g,this.hasFooter=S,this.leafColumnsToRender=c,this.lockedColumnsToRender=u,this.nonLockedColumnsToRender=f,this.unlockedWidth=b;const D=((...s)=>{let i=!1;for(let e=0;e<s.length;e++){const[n,o]=s[e];i=i||n.length!==o.length,n.reset(o)}return i})([this.leafColumns,e],[this.lockedLeafColumns,n],[this.nonLockedLeafColumns,o],[this.lockedColumns,r],[this.allColumns,l],[this.nonLockedColumns,a])||i!==this.totalLevels;return D&&this.changes.emit(),D}}const wkt={left:"0px",right:"0px"};let lc=(()=>{class s{constructor(){this.visibilityChange=new t.bkB,this.lockedChange=new t.bkB,this.stickyChange=new t.bkB,this.columnRangeChange=new t.bkB,this.columnsContainer=new one(()=>[])}get lockedLeafColumns(){return this.columnsContainer.lockedLeafColumns}get nonLockedLeafColumns(){return this.columnsContainer.nonLockedLeafColumns}get isLocked(){return this.lockedLeafColumns.length>0}get totalLevels(){return this.columnsContainer.totalLevels}get hiddenColumns(){return this.list?this.list().filter(e=>!e.isVisible):[]}get leafNamedColumns(){const e=pm(this.list().filterSort(n=>!n.isColumnGroup)).filter(n=>n.matchesMedia&&n.displayTitle);return Tf(e,[{field:"locked",dir:"desc"}])}get unlockedRootCount(){return this.list().rootColumns().filter(e=>!e.locked&&e.isVisible).length}stickyColumnsStyles(e){if(this.stickyColumns||(this.stickyColumns=this.list().rootColumns().filter(o=>o.sticky&&!o.locked&&o.isVisible)),0===this.stickyColumns.length)return wkt;const n=this.stickyColumns.reduce((o,r)=>(r.leafIndex<e.leafIndex?o.left+=r.width:r.leafIndex>e.leafIndex&&(o.right+=r.width),o),{left:0,right:0});return{left:`${n.left}px`,right:`${n.right}px`}}init(e,n){this.columnsContainer=e,this.list=n,this.stickyColumns=null}changeVisibility(e){this.stickyColumns=null,this.visibilityChange.emit(e)}changeLocked(e){this.stickyColumns=null,this.lockedChange.emit(e)}changeStuck(e){this.stickyColumns=null,this.stickyChange.emit(e)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),zA=(()=>{class s{constructor(e,n,o){this.ctx=e,this.dataChanges=n,this.columnInfoService=o,this.selectedItems=[],this.groupedAggregates={dates:[],numbers:[],booleans:[]},this.aggregates={sum:null,average:null,min:null,max:null,count:null,isTrue:null,isFalse:null,earliest:null,latest:null}}isAggregateIncluded(e){const{cellAggregates:n}=this.ctx.grid.selectable;return"boolean"==typeof n||n?.includes(e)}init(){if(this.ctx.grid.selectable.cellAggregates){this.data=this.dataChanges.data?this.dataChanges.data:this.ctx.grid.data,this.isAggregateIncluded("count")&&(this.aggregates.count=0);const e=this.ctx.grid.selectionDirective;e&&!this.isRowSelection&&(this.selectedItems=e.selectedKeys)}}onSelectionChange(e){return this.handleSelectedItems(e),this.nullifyAggregates(),this.handleAggregateChanges(),this.aggregates}get isRowSelection(){return"boolean"==typeof this.ctx.grid.selectable||!this.ctx.grid.selectable.cell}handleAggregateChanges(){const e=this.columnInfoService.lockedLeafColumns.toArray(),n=this.columnInfoService.nonLockedLeafColumns.toArray(),o=this.selectedItems.length,r=[...e,...n],a=r.map(l=>l.field);this.isAggregateIncluded("count")&&(this.aggregates.count=this.isRowSelection?o*r.length:o),this.selectedItems.forEach(l=>{if(this.isRowSelection)a.forEach(c=>{const u=l.dataItem;u&&u.hasOwnProperty(c)&&this.groupAggregates(l.dataItem[c])});else if(!this.isRowSelection){const c=this.data[l.itemKey];c&&c.hasOwnProperty(a[l.columnKey])&&this.groupAggregates(c[a[l.columnKey]])}}),this.calculateAggregates()}groupAggregates(e){"number"==typeof e?this.groupedAggregates.numbers.push(e):"boolean"==typeof e?this.groupedAggregates.booleans.push(e):e instanceof Date&&this.groupedAggregates.dates.push(e)}calculateAggregates(){if(this.groupedAggregates.numbers.length>0&&(this.isAggregateIncluded("min")&&(this.aggregates.min=Math.min(...this.groupedAggregates.numbers)),this.isAggregateIncluded("max")&&(this.aggregates.max=Math.max(...this.groupedAggregates.numbers)),this.isAggregateIncluded("sum")&&(this.aggregates.sum=this.groupedAggregates.numbers.reduce((e,n)=>e+n,0)),this.isAggregateIncluded("average")&&(this.aggregates.average=this.aggregates.sum/this.groupedAggregates.numbers.length)),this.groupedAggregates.booleans.length>0){if(this.isAggregateIncluded("isTrue")){const e=this.groupedAggregates.booleans.filter(n=>n).length;this.aggregates.isTrue=e>0?e:null}if(this.isAggregateIncluded("isFalse")){const e=this.groupedAggregates.booleans.length-this.aggregates.isTrue;this.aggregates.isFalse=e>0?e:null}}this.groupedAggregates.dates.length>0&&(this.isAggregateIncluded("earliest")&&(this.aggregates.earliest=new Date(Math.min(...this.groupedAggregates.dates))),this.isAggregateIncluded("latest")&&(this.aggregates.latest=new Date(Math.max(...this.groupedAggregates.dates))))}handleSelectedItems(e){const r=e[this.isRowSelection?"selectedRows":"selectedCells"],a=e[this.isRowSelection?"deselectedRows":"deselectedCells"];this.isRowSelection||a.forEach((l,c)=>{c+1<a.length&&l.itemKey===a[c+1].itemKey&&l.columnKey===a[c+1].columnKey&&a.splice(c,1)}),r.length>0&&r.forEach(l=>{this.selectedItems=[...this.selectedItems,l]}),a.length>0&&a.forEach(this.isRowSelection?l=>{this.selectedItems=this.selectedItems.filter(c=>c.dataItem!==l.dataItem)}:l=>{const c=this.selectedItems.findIndex(u=>u.itemKey===l.itemKey&&u.columnKey===l.columnKey);this.selectedItems.splice(c,1)})}nullifyAggregates(){this.groupedAggregates={dates:[],numbers:[],booleans:[]},this.aggregates.count=null,this.aggregates.sum=this.aggregates.average=null,this.aggregates.max=this.aggregates.min=null,this.aggregates.isFalse=this.aggregates.isTrue=null,this.aggregates.earliest=this.aggregates.latest=null}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Be),t.KVO(dm),t.KVO(lc))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),lD=(()=>{class s{constructor(e,n,o,r,a){this.domEvents=e,this.aggregateService=n,this.localDataChangesService=o,this.navigationService=r,this.ctxService=a,this.changes=new t.bkB,this.currentSelection=[],this.selectAllChecked=!1,this.active=!1,this.dragging=!1,this.lastSelectionData={},this.addSubscriptions()}get enableMarquee(){if(!this.settings||this.settings&&"object"==typeof this.settings&&this.settings.checkboxOnly)return!1;const n=this.settings.selectable,o="object"==typeof n&&Re(n)&&"multiple"===n.mode&&!1!==n.enabled&&!n.checkboxOnly&&n.drag;return this.active&&o}init(e){if(this.settings=e,Re(this.lastSelectionStartIndex)||(this.lastSelectionStartIndex=this.ctxService?.grid.selectionDirective?.rangeSelectionStartRow?.index||0,this.lastSelectionData=this.ctxService?.grid.selectionDirective?.rangeSelectionStartRow?.dataItem||{}),this.currentSelection=[],e.selectable&&!1!==e.selectable.enabled){const n=this.getIterator();this._selectAllState=!0;let o=n.next();for(;!o.done;){if(o.value&&"data"===o.value.type){const r={dataItem:o.value.data,index:o.value.index};e.rowSelected(r)?this.currentSelection[o.value.index]=r:this._selectAllState=void 0}o=n.next()}0===this.currentSelection.length&&(this._selectAllState=!1)}}isSelected(e){if(this.settings&&this.active)return this.options.enabled&&Re(this.currentSelection[e])}handleClick(e,n){if(this.dragging)return void(this.dragging=!1);let o;const r=n.ctrlKey||n.metaKey;"single"===this.options.mode&&r&&this.isSelected(e.index)?o=this.toggle(e):"multiple"===this.options.mode&&(r&&!n.shiftKey?o=this.toggle(e):n.shiftKey&&(o=this.addAllTo(e,r))),Re(o)||(o=this.select(e),this.currentSelection[e.index]={dataItem:e.data,index:e.index}),(o.selectedRows.length||o.deselectedRows.length)&&(o.ctrlKey=r,o.shiftKey=n.shiftKey,this.options.cellAggregates&&(o.cellAggregates=this.aggregateService.onSelectionChange(o)),o.shiftKey&&(o.rangeStartRow={dataItem:this.lastSelectionData,index:this.lastSelectionStartIndex},o.rangeEndRow={dataItem:e.data,index:e.index}),this.changes.emit(o))}toggle(e){const n=[],o=[];this.lastSelectionStartIndex=e.index,this.lastSelectionData=e.data;const r={dataItem:e.data,index:e.index};return this.isSelected(e.index)?o.push(r):n.push(r),{deselectedRows:o,selectedRows:n}}toggleByIndex(e){const n=this.getIterator();this.selectAllChecked&&this.isSelected(e)&&(this.selectAllChecked=!1);let o=n.next();for(;!o.done;){if(o.value&&"data"===o.value.type&&o.value.index===e){const r={data:o.value.data,index:o.value.index};return this.isSelected(e)||"multiple"===this.options.mode?this.toggle(r):this.select(r)}o=n.next()}}select(e){const n=[],o=[];return this.lastSelectionStartIndex=e.index,this.lastSelectionData=e.data,this.isSelected(e.index)||o.push({dataItem:e.data,index:e.index}),this.currentSelection.forEach(r=>{r.index!==e.index&&n.push(r)}),{deselectedRows:n,selectedRows:o}}deselect(e){const n=this.getIterator();let o=n.next();for(;!o.done;){if(o.value&&"data"===o.value.type&&o.value.data===e){const r={dataItem:o.value.data,index:o.value.index};this.isSelected(r.index)&&this.changes.emit({ctrlKey:!1,deselectedRows:[r],selectedRows:[]})}o=n.next()}}addAllTo(e,n){const o=[],r=[],a=Math.min(this.lastSelectionStartIndex,e.index),l=Math.max(this.lastSelectionStartIndex,e.index),c=this.getIterator();let u=c.next();for(;!u.done;){if(u.value&&"data"===u.value.type){const f=u.value.index,_={dataItem:u.value.data,index:f};(f<a||f>l)&&this.isSelected(f)&&!n&&r.push(_),f>=a&&f<=l&&!this.isSelected(f)&&o.push(_)}u=c.next()}return{deselectedRows:r,selectedRows:o}}updateAll(e){this.selectAllChecked=e;const n=[],o=[],r=this.getIterator();let a=r.next();for(;!a.done;){if(a.value&&"data"===a.value.type){const c=a.value.index,u={dataItem:a.value.data,index:c};this.isSelected(c)&&!e&&o.push(u),!this.isSelected(c)&&e&&n.push(u)}a=r.next()}if(!n.length&&!o.length)return;const l={ctrlKey:!0,deselectedRows:o,selectedRows:n,shiftKey:!0};this.options.cellAggregates&&(l.cellAggregates=this.aggregateService.onSelectionChange(l)),this.changes.emit(l)}selectRange(e,n){const o=[],r=[],a=Math.min(e,n),l=Math.max(e,n),c=this.getIterator();let f,u=c.next();for(;!u.done;){if(u.value&&"data"===u.value.type){const _=u.value.index,g={dataItem:u.value.data,index:_};(_<a||_>l)&&this.isSelected(_)&&r.push(g),_>=a&&_<=l&&!this.isSelected(_)&&o.push(g)}u=c.next()}return this.options.cellAggregates&&(f=this.aggregateService.onSelectionChange({selectedRows:o,deselectedRows:r})),{deselectedRows:r,selectedRows:o,cellAggregates:f}}get selectAllState(){return this._selectAllState}get selected(){return this.currentSelection.map(e=>e.index).filter(e=>"number"==typeof e)}get options(){const e={cellAggregates:!1,checkboxOnly:!1,enabled:!0,mode:"multiple"};return Re(this.settings)?"boolean"==typeof this.settings.selectable?{cellAggregates:!1,checkboxOnly:!1,enabled:this.settings.selectable,mode:"multiple"}:Object.assign(e,this.settings.selectable):e}ngOnDestroy(){this.removeSubscriptions()}targetArgs(){return{index:this.mouseDownEventArgs.rowIndex,dataItem:this.mouseDownEventArgs.dataItem}}addSubscriptions(){this.cellClickSubscription||(this.cellClickSubscription=this.domEvents.cellClick.subscribe(e=>{this.options.enabled&&!this.options.checkboxOnly&&"contextmenu"!==e.type&&this.active&&this.handleClick({index:e.rowIndex,data:e.dataItem},e.originalEvent)})),this.mousedownSubscription||(this.mousedownSubscription=this.domEvents.cellMousedown.subscribe(e=>{this.mouseDownEventArgs=e,this.options.enabled&&(!this.options.mode||"multiple"===this.options.mode)&&!this.options.checkboxOnly&&e.originalEvent.shiftKey&&this.active&&(e.originalEvent.preventDefault(),this.navigationService.focusCellByElement(e.originalEvent.target))})),this.localDataChangesService&&!this.dataChangedSubscription&&(this.dataChangedSubscription=this.localDataChangesService.changes.subscribe(e=>{this.active&&Re(e.action)&&"remove"===e.action&&this.deselect(e.item)}))}getIterator(){const e=this.settings.view.accessor();if(e)return e[cm]()}removeSubscriptions(){this.cellClickSubscription&&(this.cellClickSubscription.unsubscribe(),this.cellClickSubscription=null),this.mousedownSubscription&&(this.mousedownSubscription.unsubscribe(),this.mousedownSubscription=null),this.dataChangedSubscription&&(this.dataChangedSubscription.unsubscribe(),this.dataChangedSubscription=null)}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(ib),t.KVO(zA),t.KVO(dm),t.KVO(tl),t.KVO(Be))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),H7=(()=>{class s{constructor(e,n,o,r){this.domEvents=e,this.aggregateService=n,this.localDataChangesService=o,this.navigationService=r,this.changes=new t.bkB,this.mouseUpEvent=new t.bkB,this.currentSelection=[],this.active=!1,this.dragging=!1,this.dragSelectDeselect=!1,this.lastSelectionItem={itemKey:0,columnKey:0},this.lastSelectionItemRowIndex=0,this.lastSelectionItemColIndex=0,this.addSubscriptions()}get enableMarquee(){if(!this.settings||this.settings&&"object"==typeof this.settings&&this.settings.checkboxOnly)return!1;const n=this.settings.selectable,o="object"==typeof n&&Re(n)&&"multiple"===n.mode&&n.cell&&!1!==n.enabled&&n.drag;return this.active&&o}init(e){if(this.settings=e,this.currentSelection=[],e.selectable&&!1!==e.selectable.enabled){const n=this.getIterator();let o=n.next();for(;!o.done;){if(o.value&&"data"===o.value.type){const r={dataItem:o.value.data,index:o.value.index};e.columns.forEach(a=>{const l=e.cellSelected(r,a,a.leafIndex);l.selected&&this.currentSelection.push(l.item)})}o=n.next()}}}isCellSelected(e,n){if(this.settings&&this.active){const o=this.settings.cellSelected({dataItem:e.data,index:e.index},n,n.leafIndex);return this.options.enabled&&o.selected}return!1}handleClick(e,n){if(this.dragging)return void(this.dragging=!1);let o;const r=n.ctrlKey||n.metaKey;if("single"===this.options.mode&&r&&this.isCellSelected(e,e.column))o=this.toggle(e);else if("multiple"===this.options.mode)if(r&&!n.shiftKey)o=this.toggle(e);else if(n.shiftKey){const a=Math.min(this.lastSelectionItemRowIndex,e.index),l=Math.min(this.lastSelectionItemColIndex,e.column.leafIndex),c=Math.max(this.lastSelectionItemRowIndex,e.index),u=Math.max(this.lastSelectionItemColIndex,e.column.leafIndex);o=this.selectRange(a,l,c,u)}Re(o)||(o=this.select(e),this.currentSelection=[this.lastSelectionItem]),(o.selectedCells.length||o.deselectedCells.length)&&(o.ctrlKey=r,o.shiftKey=n.shiftKey,this.options.cellAggregates&&!n.shiftKey&&(o.cellAggregates=this.aggregateService.onSelectionChange(o)),o.shiftKey&&(o.rangeStartCell=this.lastSelectionItem,o.rangeEndCell={...this.settings.cellSelected({dataItem:e.data,index:e.index},e.column,e.column.leafIndex).item}),this.changes.emit(o))}toggle(e){const n=[],o=[];return this.lastSelectionItem=this.settings.cellSelected({dataItem:e.data,index:e.index},e.column,e.column.leafIndex).item,this.lastSelectionItemRowIndex=e.index,this.lastSelectionItemColIndex=e.column.leafIndex,this.isCellSelected(e,e.column)?o.push(this.lastSelectionItem):n.push(this.lastSelectionItem),{deselectedCells:o,selectedCells:n}}select(e){const n=[],o=[];return this.lastSelectionItem=this.settings.cellSelected({dataItem:e.data,index:e.index},e.column,e.column.leafIndex).item,this.lastSelectionItemRowIndex=e.index,this.lastSelectionItemColIndex=e.column.leafIndex,this.isCellSelected(e,e.column)||n.push(this.lastSelectionItem),this.currentSelection.forEach(r=>{(r.itemKey!==this.lastSelectionItem.itemKey||r.columnKey!==this.lastSelectionItem.columnKey)&&o.push(r)}),{deselectedCells:o,selectedCells:n}}deselect(e){const n=this.getIterator();let r,o=n.next();for(;!o.done;){if(o.value&&"data"===o.value.type&&o.value.data===e){r={dataItem:o.value.data,index:o.value.index};break}o=n.next()}if(r){const a=this.currentSelection.filter(l=>{const c=this.settings.cellSelected(r,null,null).item;return l.itemKey===c.itemKey});a.length&&this.changes.emit({ctrlKey:!1,deselectedCells:a,selectedCells:[]})}}selectRange(e,n,o,r){const a=[],l=[],c=Math.min(e,o),u=Math.min(n,r),f=Math.max(e,o),_=Math.max(n,r),g=this.getIterator();let b,S=g.next();for(;!S.done;){if(S.value&&"data"===S.value.type){const k=S.value.index,O={dataItem:S.value.data,index:k};this.settings.columns.forEach(I=>{const{item:N}=this.settings.cellSelected(O,I,I.leafIndex),P=this.isCellSelected(S.value,I),$=c<=k&&k<=f&&u<=I.leafIndex&&I.leafIndex<=_;!$&&P&&l.push(N),$&&!P&&a.push(N)})}S=g.next()}return this.options.cellAggregates&&(b=this.aggregateService.onSelectionChange({selectedCells:a,deselectedCells:l})),{deselectedCells:l,selectedCells:a,cellAggregates:b}}get options(){const e={cellAggregates:!1,checkboxOnly:!1,enabled:!0,mode:"multiple"};return Re(this.settings)?"boolean"==typeof this.settings.selectable?{cellAggregates:!1,checkboxOnly:!1,enabled:this.settings.selectable,mode:"multiple"}:Object.assign(e,this.settings.selectable):e}ngOnDestroy(){this.removeSubscriptions()}addSubscriptions(){this.cellClickSubscription||(this.cellClickSubscription=this.domEvents.cellClick.subscribe(e=>{this.options.enabled&&!this.options.checkboxOnly&&"contextmenu"!==e.type&&this.active&&this.handleClick({index:e.rowIndex,data:e.dataItem,column:e.column},e.originalEvent)})),this.mousedownSubscription||(this.mousedownSubscription=this.domEvents.cellMousedown.subscribe(e=>{this.mouseDownEventArgs=e,this.options.enabled&&(!this.options.mode||"multiple"===this.options.mode)&&!this.options.checkboxOnly&&e.originalEvent.shiftKey&&this.active&&(e.originalEvent.preventDefault(),this.navigationService.focusCellByElement(e.originalEvent.target))})),this.localDataChangesService&&!this.dataChangedSubscription&&(this.dataChangedSubscription=this.localDataChangesService.changes.subscribe(e=>{this.active&&Re(e.action)&&"remove"===e.action&&this.deselect(e.item)}))}getIterator(){const e=this.settings.view.accessor();if(e)return e[cm]()}removeSubscriptions(){this.cellClickSubscription&&(this.cellClickSubscription.unsubscribe(),this.cellClickSubscription=null),this.mousedownSubscription&&(this.mousedownSubscription.unsubscribe(),this.mousedownSubscription=null),this.dataChangedSubscription&&(this.dataChangedSubscription.unsubscribe(),this.dataChangedSubscription=null)}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(ib),t.KVO(zA),t.KVO(dm),t.KVO(tl))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const zDe={topLeft:{x:2,y:2},topRight:{x:-2,y:2},bottomLeft:{x:2,y:-2},bottomRight:{x:-2,y:-2}};let jDe=(()=>{class s{constructor(e,n,o,r,a,l){this.draggable=e,this.selection=n,this.cellSelection=o,this.domEvents=r,this.host=a,this.renderer=l,this.selectionStarted=!1}ngOnInit(){this.subscriptions=this.draggable.kendoPress.subscribe(this.start.bind(this)),this.subscriptions.add(this.draggable.kendoDrag.subscribe(this.moveMarquee.bind(this)))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.clean()}start(e){const n=e.originalEvent.target.matches(".k-grid-content, .k-grid-content-locked, .k-grid-aria-root, .k-checkbox"),o=to(e.originalEvent.target.closest(".k-drag-cell"));n||o?this.pressArgs=null:(this.pressArgs=e,this.pressTarget=null)}moveMarquee(e){this.pressTarget||(this.pressTarget=this.cellSelection.active?this.cellSelection.mouseDownEventArgs:this.selection.mouseDownEventArgs);const n=this.pressArgs;if(!n)return;if(!this.selectionStarted){if(!(Math.sqrt((e.pageX-n.pageX)**2+(e.pageY-n.pageY)**2)>5))return;this.selectionStarted=!0,this.renderer.addClass(this.host.nativeElement,"user-select-none"),this.renderer.setStyle(this.host.nativeElement,"user-select","none"),this.dragEndSubscription=Ht(this.domEvents.cellMouseup.pipe(Ye(1)),this.draggable.kendoRelease.pipe(X_(1),Ye(1))).subscribe(this.endSelection.bind(this))}this.initMarquee();const o=this.marqueeElement,r=this.getMarqueeQuadrant(e.pageX,e.pageY,n.pageX,n.pageY);let a=Math.min(e.pageX,n.pageX),l=Math.min(e.pageY,n.pageY);const c=Math.abs(e.pageX-n.pageX),u=Math.abs(e.pageY-n.pageY);r&&(a+=zDe[r].x,l+=zDe[r].y),o.style.left=`${a}px`,o.style.top=`${l}px`,o.style.width=`${c}px`,o.style.height=`${u}px`}endSelection(e){("mouseup"===e.type||"touchend"===e.type)&&(this.cellSelection.active?(this.cellSelection.dragging=!0,this.cellSelection.changes.emit(this.cellSelection.selectRange(this.pressTarget.rowIndex,this.pressTarget.column.leafIndex,e.rowIndex,e.column.leafIndex))):this.selection.active&&(this.selection.dragging=!0,this.selection.changes.emit(this.selection.selectRange(this.pressTarget.rowIndex,e.rowIndex)))),this.clean()}clean(){this.marqueeElement&&(document.body.removeChild(this.marqueeElement),this.marqueeElement=null),this.dragEndSubscription&&this.dragEndSubscription.unsubscribe(),this.renderer.removeClass(this.host.nativeElement,"user-select-none"),this.renderer.removeStyle(this.host.nativeElement,"user-select"),this.dragEndSubscription=null,this.pressTarget=null,this.pressArgs=null,this.selectionStarted=!1,this.cellSelection.active?this.cellSelection.dragging=!1:this.selection.dragging=!1}initMarquee(){ne()&&(this.marqueeElement||(this.marqueeElement=(()=>{if(!ne())return;const s=document.createElement("div");s.className="k-marquee";const i=document.createElement("div");return i.className="k-marquee-color",s.appendChild(i),s})(),document.body.appendChild(this.marqueeElement)))}getMarqueeQuadrant(e,n,o,r){const a=e<o,l=e>o,c=n<r,u=n>r;return a&&c?"topLeft":a&&u?"bottomLeft":l&&c?"topRight":l&&u?"bottomRight":null}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Nd),t.rXU(lD),t.rXU(H7),t.rXU(ib),t.rXU(t.aKT),t.rXU(t.sFG))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridSelectionMarquee",""]]}),s})();class rne extends t.bkB{constructor(i,e=!1){super(e),this.ngZone=i}subscribe(i,e,n){let o,r=l=>null,a=()=>null;return i&&"object"==typeof i?(o=l=>{this.ngZone.run(()=>i.next(l))},i.error&&(r=l=>{this.ngZone.run(()=>i.error(l))}),i.complete&&(a=()=>{this.ngZone.run(()=>i.complete())})):(o=l=>{this.ngZone.run(()=>i(l))},e&&(r=l=>{this.ngZone.run(()=>e(l))}),n&&(a=()=>{this.ngZone.run(()=>n())})),super.subscribe(o,r,a)}}const Tkt={name:"@progress/kendo-angular-grid",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925440,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};let lb=(()=>{class s{constructor(e){this.templateRef=e,this._condition=()=>!0}set showIf(e){if("function"!=typeof e)throw new Error(Yo_functionType("showIf",e));this._condition=e}get showIf(){return this._condition}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridDetailTemplate",""]],inputs:{showIf:[t.Mj6.None,"kendoGridDetailTemplateShowIf","showIf"]}}),s})();const HDe=()=>ne()&&document.createElement;let $De,$7=null,ane=null,lne=(()=>{class s{constructor(e,n){this.zone=e,this.changeDetector=n,this.changes=new t.bkB,!(typeof window>"u")&&this.zone.runOutsideAngular(()=>{this.subscriptions=wt(window,"resize").pipe(e0(100)).subscribe(()=>{$De!==window.devicePixelRatio&&e.run(()=>{$7=null,this.changes.emit(),this.changeDetector.markForCheck()})})})}ngOnDestroy(){this.subscriptions&&(this.subscriptions.unsubscribe(),this.subscriptions=null)}get scrollbarWidth(){return function Mkt(){if(null===$7&&HDe()){$De=window.devicePixelRatio||1;const s=document.createElement("div");s.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",s.innerHTML="&nbsp;",document.body.appendChild(s),$7=s.offsetWidth-s.scrollWidth,document.body.removeChild(s)}return $7}()}get rtlScrollLeft(){return function Ikt(){if(null===ane&&HDe()){const s=document.createElement("div");s.style.direction="rtl",s.style.display="block",s.style.clear="both",s.style.width="100px",s.style.visibility="hidden",s.style.position="absolute",s.style.left="-10000px",s.style.overflow="scroll",s.style.zoom="1";const i=document.createElement("div");i.style.width="200px",i.style.height="1px",s.append(i),document.body.appendChild(s);const e=s.scrollLeft;s.scrollLeft=-1,ane=s.scrollLeft<0?s.scrollLeft:e,document.body.removeChild(s)}return ane}()}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(t.SKi),t.KVO(t.gRc))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const cne=s=>void 0!==s.items&&void 0!==s.field,XDe=s=>s.reduce((i,e)=>cne(e)?i.concat(XDe(e.items)):i.concat([e]),[]),WDe=(s,{footers:i,level:e,dataIndex:n,parentGroupIndex:o,groupIndex:r,parentGroup:a})=>{const l=s[0];return Re(l)&&cne(l)?((s=>void 0!==s.offset&&void 0!==s.skipHeader)(l)&&(r=Re(l.offset)?l.offset:r),new Gkt(s,i,e,n,o,r,a)):new Nkt(s,n,o,a)};class Rkt{constructor(i,e=0){this.arr=i,this.idx=e,this.arr=i||[]}[cm](){return this}next(){return this.idx<this.arr.length?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}}}class YDe{constructor(i,e=0,n=(o=>o)){this.dataIndex=e,this.resultMap=n,this._innerIterator=i[cm]?i[cm]():new Rkt(i)}[cm](){return this}next(){return this.resultMap(this._innerIterator.next(),this.dataIndex++)}}class Nkt extends YDe{constructor(i,e,n,o){super(i,e,(r,a)=>({done:r.done,value:{data:r.value,groupIndex:n,index:a,type:"data",group:o}}))}get index(){return this.dataIndex}}class Gkt{constructor(i,e=!1,n=0,o=0,r="",a=0,l=void 0){this.arr=i,this.outputFooters=e,this.level=n,this.dataIndex=o,this.parentIndex=r,this.groupIndex=a,this.parentGroup=l,this.currentGroupIndex="",this.arr=i||[],this._iterator=new YDe(this.arr,this.dataIndex)}[cm](){return this}nextGroupItem(){return this.current=this._iterator.next().value,this._innerIterator=null,this.current?(this.currentGroupIndex=((s,i)=>`${s&&s+"_"}${this.groupIndex++}`)(this.parentIndex),{done:!1,value:{data:this.current,index:this.currentGroupIndex,level:this.level,type:"group",parentGroup:this.parentGroup}}):(this.current=null,{done:!0,value:void 0})}footerItem(){if(this.current){const i=this.current;return this.current=null,{done:!1,value:{data:i,groupIndex:this.currentGroupIndex,level:this.level,type:"footer",group:{data:i,index:this.currentGroupIndex,level:this.level,type:"group",parentGroup:this.parentGroup}}}}return this.current=null,{done:!0,value:void 0}}innerIterator(i){return this._innerIterator||(this._innerIterator=WDe(i.items,{dataIndex:this.dataIndex,footers:this.outputFooters,level:this.level+1,parentGroupIndex:this.currentGroupIndex,parentGroup:{data:this.current,index:this.currentGroupIndex,level:this.level,type:"group",parentGroup:this.parentGroup}})),this._innerIterator}nextDataItem(i){const n=this.innerIterator(i).next();return Re(n.value)&&!n.done&&"data"===n.value.type&&(this.dataIndex=n.value.index+1),n.done?void 0:n}next(){return Re(this.current)?this.nextDataItem(this.current)||(this.outputFooters?this.footerItem():this.nextGroupItem()):this.nextGroupItem()}get index(){return this.dataIndex+1}}class Pkt{constructor(i,e=0,n=!1){this.source=i,this.skip=e,this.groupFooters=n,this.source=this.source?this.source:[],this.isObject=this.isGridDataResult(this.source)}isGridDataResult(i){return void 0!==i.total&&void 0!==i.data}get total(){return this.isObject?this.source.total:this.source.length}get data(){return this.isObject?this.source.data:this.source}map(i){return this.data.map(i)}filter(i){return this.data.filter(i)}reduce(i,e){return this.data.reduce(i,e)}forEach(i){this.data.forEach(i)}some(i){return this.data.some(i)}[cm](){return WDe(this.data,{dataIndex:this.skip,footers:this.groupFooters,groupIndex:this.skip})}toString(){return this.data.toString()}}class Fkt{constructor(i){this.accessor=i}get total(){return this.accessor().total}get length(){return this.accessor().data.length}get first(){return this.accessor().data[0]}get last(){return this.accessor().data[this.length-1]}at(i){return((s,i)=>{const e=s[0];return Re(e)&&cne(e)?XDe(s)[i]:s[i]})(this.accessor().data,i)}map(i){return this.accessor().map(i)}filter(i){return this.accessor().filter(i)}reduce(i,e){return this.accessor().reduce(i,e)}forEach(i){this.accessor().forEach(i)}some(i){return this.accessor().some(i)}[cm](){return this.accessor()[cm]()}toString(){return this.accessor().toString()}}class KDe{constructor(i,e,n){this.keysX=new Map,this.totalKeysCount=0,i&&e&&n&&i.forEach(o=>this.add(o[e],o[n]))}get size(){return this.totalKeysCount}add(i,e){this.keysX.has(i)||this.keysX.set(i,new Set),this.has(i,e)||(this.keysX.get(i).add(e),this.totalKeysCount+=1)}delete(i,e){this.has(i,e)&&(this.keysX.get(i).delete(e),this.totalKeysCount-=1)}has(i,e){return this.keysX.has(i)&&this.keysX.get(i).has(e)}clear(){this.keysX.clear(),this.totalKeysCount=0}toArray(i,e){return Array.from(this.keysX).reduce((n,o)=>{const[r,a]=o;return Array.from(a).forEach(l=>n.push({[i]:r,[e]:l})),n},[])}}let JDe=(()=>{class s{constructor(e,n){this.ctx=e,this.cd=n,this.selectedKeys=[],this.rangeSelectionStartColumnIndex=0,this.selectedKeysChange=new t.bkB,this.rowSelectionState=new Set,this.cellSelectionState=new KDe,this.init()}get isCellSelectionMode(){return Re(this.ctx.grid.selectable)&&this.ctx.grid.selectable.cell}ngOnChanges(e){Re(e.selectedKeys)&&this.lastSelectionState!==this.selectedKeys&&this.setState(this.selectedKeys)}init(){Re(this.ctx.grid.rowSelected)||(this.ctx.grid.rowSelected=e=>this.rowSelectionState.has(this.getItemKey(e))),Re(this.ctx.grid.cellSelected)||(this.ctx.grid.cellSelected=(e,n,o)=>{const r=this.getSelectionItem(e,n,o);return{selected:this.cellSelectionState.has(r.itemKey,r.columnKey),item:r}}),this.selectionChangeSubscription=this.ctx.grid.selectionChange.subscribe(this.onSelectionChange.bind(this))}destroy(){this.selectionChangeSubscription.unsubscribe()}reset(){this.rowSelectionState.clear(),this.cellSelectionState.clear()}getItemKey(e){if(this.selectionKey){if("string"==typeof this.selectionKey)return e.dataItem[this.selectionKey];if("function"==typeof this.selectionKey)return this.selectionKey(e)}return e.index}stateToArray(){return this.isCellSelectionMode?this.cellSelectionState.toArray("itemKey","columnKey"):Array.from(this.rowSelectionState)}getSelectionItem(e,n,o){const r={};return r.itemKey=this.getItemKey(e),Re(n)||Re(o)?(this.columnKey&&("string"==typeof this.columnKey&&(r.columnKey=e.dataItem[this.columnKey]),"function"==typeof this.columnKey&&(r.columnKey=this.columnKey(n,o))),{itemKey:r.itemKey,columnKey:r.columnKey?r.columnKey:o}):r}onSelectionChange(e){e.selectedRows?(e.deselectedRows.forEach(n=>{const o=this.getItemKey(n);this.rowSelectionState.delete(o)}),"single"===this.ctx.grid.selectableSettings.mode&&this.rowSelectionState.size>0&&this.reset(),e.selectedRows.forEach(n=>{const o=this.getItemKey(n);this.rowSelectionState.add(o)})):(e.deselectedCells.forEach(({itemKey:n,columnKey:o})=>{this.cellSelectionState.delete(n,o)}),"single"===this.ctx.grid.selectableSettings.mode&&this.cellSelectionState.size>0&&this.reset(),e.selectedCells.forEach(({itemKey:n,columnKey:o})=>{this.cellSelectionState.add(n,o)})),this.cd.markForCheck(),this.notifyChange()}notifyChange(){this.lastSelectionState=this.stateToArray(),this.selectedKeysChange.emit(this.lastSelectionState)}setState(e){this.reset(),this.isCellSelectionMode?this.cellSelectionState=new KDe(e,"itemKey","columnKey"):this.rowSelectionState=new Set(e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be),t.rXU(t.gRc))},s.\u0275dir=t.FsC({type:s,selectors:[["kendo-grid-selection-base"]],inputs:{selectedKeys:"selectedKeys",rangeSelectionStartRow:"rangeSelectionStartRow",rangeSelectionStartColumnIndex:"rangeSelectionStartColumnIndex",selectionKey:[t.Mj6.None,"kendoGridSelectBy","selectionKey"],columnKey:"columnKey"},outputs:{selectedKeysChange:"selectedKeysChange"},features:[t.OA$]}),s})();const X7=(s,i)=>{s.forEach(e=>{i(e),e.isColumnGroup&&e.hasChildren&&X7(e.childrenArray,i)})},qDe=(s,i)=>{ab(s).forEach(e=>{i(e),e.isColumnGroup&&e.hasChildren&&qDe(e.childrenArray,i)})},dne=(s,i)=>{const e=[];return ab(s).forEach(n=>{if(i(n))if(n.isColumnGroup){const o=dne(n.childrenArray,i);o.length&&e.push(n,...o)}else(!n.isSpanColumn||dne(n.childrenArray,i).length)&&e.push(n)}),e.sort((n,o)=>Number(o.locked)-Number(n.locked))};class jA{constructor(i){this.columns=i}static empty(){return new jA(new t.rOR)}forEach(i){X7(this.columns,i)}filter(i){const e=[];return X7(this.columns,n=>{i(n)&&e.push(n)}),e}filterHierarchy(i){return dne(this.columns.toArray(),i)}filterSort(i){const e=[];return qDe(this.columns.toArray(),n=>{i(n)&&e.push(n)}),e}toArray(){const i=[];return X7(this.columns,e=>{i.push(e)}),i}rootColumns(){return this.columns.toArray()}totalColumnLevels(){let i=0;return this.forEach(e=>{i=Math.max(e.level,i)}),i}}class W7{constructor(){this._columnList=jA.empty}get columns(){return pm(this._columnList().toArray()).filter(BA)}registerColumnsContainer(i){this._columnList=i}formatForGroup(i){const e=this.columnForGroup(i);return e?e.format:""}isGroupable(i){const[e]=this.columns.filter(n=>n.field===i);return!e||e.groupable}groupTitle(i){const e=this.columnForGroup(i);return e?e.title||e.field:this.groupField(i)}groupHeaderTemplate(i){const e=this.columnForGroup(i);return e?e.groupHeaderTemplateRef||e.groupHeaderColumnTemplateRef:void 0}groupField(i){return i.data?i.data.field:i.field}columnForGroup(i){const e=this.groupField(i),[n]=this.columns.filter(o=>o.field===e);return n}}let Y7=(()=>{class s{constructor(e){this.ngZone=e,this.changes=new t.bkB}notify(){(!this.subscription||this.subscription.closed)&&(this.subscription=this.ngZone.onStable.asObservable().pipe(Ye(1)).subscribe(()=>this.changes.emit()))}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(t.SKi))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),une=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridNoRecordsTemplate",""]]}),s})();const QDe=s=>i=>i.forEach(e=>e.style.height=s),ZDe=(s,i)=>{if(!ne())return;const e=document.activeElement,n=((s,i)=>{const e=[];for(let n=0,o=s.length;n<o&&i[n];n++)e.push([s[n],i[n]]);return e})(s.rows,i.rows);(s=>{s.filter(([i,e])=>i.style.height||e.style.height).forEach(QDe(""))})(n);const o=(s=>s.map(([i,e])=>{const n=i.offsetHeight,o=e.offsetHeight;return n<o?o:n}))(n);[s,i].forEach(r=>r.style.display="none"),n.forEach((s=>(i,e)=>QDe(`${s[e]+1}px`)(i))(o)),[s,i].forEach(r=>r.style.display=""),document.activeElement!==e&&(s.contains(e)||i.contains(e))&&e.focus()};let HA=(()=>{class s{constructor(){this.isColumnMenu=!1,this.isPopupOpen=!1,this.isTabbedInterface=!1}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),Oa=(()=>{class s{constructor(e){this.changes=new Xe.B,this.menuTabbingService=e}filter(e){this.changes.next(e)}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(HA,8))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),hne=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoPagerTemplate",""]]}),s})(),$A=(()=>{class s{constructor(){this.savePDF=new t.bkB,this.drawPDF=new t.bkB,this.exportClick=new t.bkB,this.dataChanged=new t.bkB}save(e){this.emitEvent(this.savePDF,e)}draw(e,n){this.emitEvent(this.drawPDF,{component:e,promise:n})}emitEvent(e,n){if(0===e.observers.length){if((0,t.naY)())throw new Error(Yo_requiredModule("PDF","PDFModule","<kendo-grid-pdf>"))}else e.emit(n)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();class jkt extends sb{constructor(){super()}}let pne=(()=>{class s{constructor(){this.scroll=!1}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const $kt=s=>window.matchMedia(s).matches;let eOe=(()=>{class s{constructor(){this.matchMedia=$kt}matchesMedia(e){return!e||this.matchMedia((s=>({xs:"(max-width: 576px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"}[s]||s))(e))}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),K7=(()=>{class s{constructor(){this.saveToExcel=new t.bkB,this.exportClick=new t.bkB}save(e){if(0===this.saveToExcel.observers.length){if((0,t.naY)())throw new Error(Yo_requiredModule("excel","ExcelModule","<kendo-grid-excel>"))}else this.saveToExcel.emit(e)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),hp=(()=>{class s{constructor(e){this.templateRef=e,this._position="top"}set position(e){this._position=e}get position(){return this._position}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridToolbarTemplate",""]],inputs:{position:"position"}}),s})(),J7=(()=>{class s{constructor(e){this.ngZone=e,this.changes=new Xe.B,this.elements=[],this.subscriptions=new be.yU,this.headerSubscription=new be.yU,this.bodySubscription=new be.yU,this.subscriptions.add(this.changes.subscribe(n=>this.scrollLeft(n)))}registerEmitter(e,n){this.unregister(n),this.elements.push({element:e,sourceType:n}),("body"===n||"header"===n)&&this.ngZone.runOutsideAngular(()=>{const o=wt(e,"scroll").pipe((0,U.T)(({target:{scrollLeft:a}})=>({scrollLeft:a,sourceType:n}))),r=o.pipe(gq((a,l)=>a.scrollLeft===l.scrollLeft),z(a=>!this.source||this.source===a.sourceType),x(a=>this.source=a.sourceType)).subscribe(a=>this.changes.next(a));r.add(o.pipe(z(a=>this.source&&this.source!==a.sourceType)).subscribe(()=>this.source=void 0)),"body"===n?this.bodySubscription.add(r):this.headerSubscription.add(r)})}destroy(){this.subscriptions.unsubscribe(),this.headerSubscription.unsubscribe(),this.bodySubscription.unsubscribe()}scrollLeft({scrollLeft:e,sourceType:n}){this.ngZone.runOutsideAngular(()=>{this.elements.filter(o=>n!==o.sourceType).forEach(({element:o})=>o.scrollLeft=e)})}unregister(e){const n=this.elements.findIndex(o=>o.sourceType===e);n>-1&&("header"===e?(this.headerSubscription.unsubscribe(),this.headerSubscription=new be.yU):"body"===e&&(this.bodySubscription.unsubscribe(),this.bodySubscription=new be.yU),this.elements.splice(n,1))}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(t.SKi))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),fne=(()=>{class s{constructor(){this.resizeSubscription=new be.yU(()=>{}),this.dispatcher=new Xe.B,this.changes=this.dispatcher.asObservable().pipe(vq(100))}connect(e){this.resizeSubscription.add(e.subscribe(this.dispatcher))}destroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const mne=s=>s.parent?mne(s.parent):!!s.locked,tOe=(s,i)=>Object.assign({columns:VA([s]),locked:mne(s)},i);let XA=(()=>{class s{constructor(){this.changes=new t.bkB,this.tables=[],this.batch=null}start(e){this.trackColumns(e);const n=(this.column.isColumnGroup?[e]:[]).concat(VA([e]));this.changes.emit({columns:n,locked:mne(this.column),type:"start"})}resizeColumns(e){const n=tOe(this.column,{deltaPercent:e,type:"resizeColumn"});this.changes.emit(n)}resizeTable(e,n){const o=tOe(e,{delta:n,type:"resizeTable"});this.changes.emit(o)}resizedColumn(e){this.resizedColumns.push(e)}end(){this.changes.emit({columns:[],resizedColumns:this.resizedColumns,type:"end"})}registerTable(e){return this.tables.push(e),()=>{this.tables.splice(this.tables.indexOf(e),1)}}measureColumns(e){null!==this.batch?this.batch.push(...e):this.autoFitBatch(e,()=>this.end())}autoFit(...e){const n=e.filter(o=>!o.isLocked);this.autoFitStart(n),this.autoFitBatch(this.batch,()=>{if(n.length<e.length){const o=e.filter(r=>r.isLocked);this.autoFitStart(o),this.autoFitBatch(this.batch,()=>this.end())}else this.end()})}trackColumns(e){this.resizedColumns=[],this.column=e}autoFitStart(e){if(this.batch=[],this.resizedColumns=[],0===e.length)return;const n=e[0].isLocked;this.changes.emit({type:"start",columns:e,locked:n}),this.changes.emit({type:"triggerAutoFit",columns:e,locked:n})}autoFitBatch(e,n){const o=e.length>0&&e[0].column.isLocked;Wge(...this.tables.filter(a=>a.locked===o).map(a=>a.autoFit(e))).pipe(Ye(1)).subscribe(a=>{this.changes.emit({columns:e.map(l=>l.column),type:"autoFitComplete",widths:a,locked:o}),n&&n()}),this.batch=null}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const WA=s=>!0===s||"string"==typeof s&&s.indexOf("row")>-1;class Ykt extends sb{constructor(i){super(),this.originalEvent=i}}let YA=(()=>{class s{constructor(e,n,o,r,a){this.popupService=e,this.renderer=n,this.ngZone=o,this.ctx=a,this.onClose=new Xe.B,this.pointerEventsSub=new be.yU,this.scrollSubscription=r.changes.subscribe(()=>this.destroy())}open(e,n,o,r="k-grid-filter-popup"){const a=Re(o)&&this.popupRef===o;if(this.destroy(),!a){const c=this.ctx.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchorAlign:{vertical:"bottom",horizontal:c},popupAlign:{vertical:"top",horizontal:c},anchor:e,popupClass:r,content:n,positionMode:"absolute"}),this.renderer.setAttribute(this.popupRef.popupElement,"dir",this.ctx.localization.rtl?"rtl":"ltr"),this.attachClose(e)}const l=this.popupRef?.popupElement;return l&&this.attachMouseListeners(l),this.popupRef}destroy(){this.popupRef&&(this.detachClose(),this.pointerEventsSub.unsubscribe(),this.pointerEventsSub=null,this.popupRef.close(),this.popupRef=null)}ngOnDestroy(){this.destroy(),this.scrollSubscription.unsubscribe()}detachClose(){this.removeClick&&this.removeClick()}attachClose(e){ne()&&(this.detachClose(),this.ngZone.runOutsideAngular(()=>this.removeClick=this.renderer.listen("document","click",n=>{if(!((s,i)=>{for(;s;){if(i(s))return!0;s=s.parentNode}return!1})(n.target,o=>this.popupRef.popupElement===o||o===e)){const o=new Ykt(n);this.onClose.next(o),!o.isDefaultPrevented()&&this.canClosePopup&&this.destroy(),this.canClosePopup=!0}})))}attachMouseListeners(e){this.pointerEventsSub=new be.yU,this.ngZone.runOutsideAngular(()=>{this.pointerEventsSub.add(this.renderer.listen(e,"pointerdown",n=>{n.stopImmediatePropagation(),this.canClosePopup=!1})),this.pointerEventsSub.add(this.renderer.listen(e,"pointerup",()=>{this.canClosePopup=!0}))})}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(es),t.KVO(t.sFG),t.KVO(t.SKi),t.KVO(J7),t.KVO(Be))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const nOe=s=>{if(!ne())return;let i=!1;return()=>(i||(document.body.appendChild(s),i=!0),s)},iOe=s=>{const{clientTop:i,clientLeft:e}=(s=>s.ownerDocument.documentElement)(s),{pageYOffset:n,pageXOffset:o}=(s=>s.ownerDocument.defaultView)(s),{top:r,left:a}=s.getBoundingClientRect();return{top:r+n-i,left:a+o-e}},sOe=(s,i)=>!!(4&i.compareDocumentPosition(s)),Qkt=(s,i)=>s===i||!!(16&i.compareDocumentPosition(s)),oOe=(s,i)=>{const e=iOe(s),{offsetWidth:n,offsetHeight:o}=s;return{left:e.left+(i?0:n),top:e.top,height:o}};let _ne=(()=>{class s{constructor(){this.changes=new t.bkB,this.register=[],this.lastTarget=null}add(e){this.register.push(e)}remove(e){this.register=this.register.filter(n=>n!==e)}notifyDrag(e,n,o){const r=this.targetFor(n);this.lastTarget!==r&&(this.changes.next({draggable:e,mouseEvent:o,target:this.lastTarget,type:"leave"}),r&&this.changes.next({draggable:e,mouseEvent:o,target:r,type:"enter"}),this.lastTarget=r)}notifyDrop(e,n){this.changes.next({draggable:e,mouseEvent:n,target:this.lastTarget,type:"drop"}),this.lastTarget=null}targetFor(e){const n=Qkt.bind(null,e);return this.register.find(({element:{nativeElement:o}})=>n(o))}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const rOe=(s,i,e)=>{const n=s.querySelector(".k-icon");if(e){const o=n.firstElementChild;o.removeChild(o.firstElementChild),n.firstElementChild.innerHTML=(i?Bk.content:Fk.content)+n.firstElementChild.innerHTML}n.setAttribute("class",n.getAttribute("class").replace(/(plus|cancel)/,i?"plus":"cancel"))},aOe=(s,i=null,e)=>{const n=s.querySelectorAll(".k-icon")[1],o=null===i?"":i?`k${e?"-svg":""}-i-lock`:`k${e?"-svg":""}-i-unlock`;e?(n.setAttribute("class",n.getAttribute("class").replace(/(k-svg-i-unlock|k-svg-i-lock)/,"").trim()+` ${o}`),n.firstElementChild.innerHTML=i?QG.content:WW.content):n.setAttribute("class",n.getAttribute("class").replace(/(k-i-unlock|k-i-lock)/,"").trim()+` ${o}`)};let q7=(()=>{class s{constructor(e,n){this.santizer=e,this.iconsService=n,this.cancelIcon=Fk}create(e){if(!ne())return;this.dom=document.createElement("div"),(s=>{s.className="k-header k-drag-clue",s.style.position="absolute",s.style.zIndex="20000"})(this.dom);const n=this.santizer.sanitize(t.WPN.HTML,e),o=this.isSVG?((s,i,e)=>`\n    <span class="k-icon k-svg-icon k-drag-status k-svg-i-cancel">\n        <svg \n            xmlns="http://www.w3.org/2000/svg"\n            xmlns:xlink="http://www.w3.org/1999/xlink"\n            viewBox="${s}"\n            aria-hidden="true">\n            ${this.cancelIcon.content}\n        </svg>\n        <span class="k-icon k-svg-icon k-icon-modifier">\n            <svg\n                xmlns="http://www.w3.org/2000/svg"\n                xmlns:xlink="http://www.w3.org/1999/xlink"\n                viewBox="${s}"\n                aria-hidden="true">\n            </svg>\n        </span>\n    </span>\n    ${e}`)(this.cancelIcon.viewBox,0,n):(s=>`\n    <span class="k-icon k-font-icon k-drag-status k-i-cancel">\n        <span class="k-icon k-font-icon k-icon-modifier"></span>\n    </span>\n    ${s}`)(n);this.dom.innerHTML=o}attach(){return nOe(this.dom)}remove(){var e;this.dom&&this.dom.parentNode&&(e=this.dom,setTimeout(()=>document.body.removeChild(e)),this.dom=null)}show(){this.dom.style.display=""}hide(){this.dom.style.display="none"}enable(){rOe(this.dom,!0,this.isSVG)}disable(){rOe(this.dom,!1,this.isSVG)}removeLock(){aOe(this.dom,!1,this.isSVG)}toggleLock(e){aOe(this.dom,e,this.isSVG)}move(e){this.dom.style.top=e.pageY+"px",this.dom.style.left=e.pageX+"px"}get isSVG(){return"svg"===(this.iconsService.iconSettings?.type||this.iconsService.changes.value.type)}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(I3),t.KVO(HJ))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),Q7=(()=>{class s{create(){ne()&&(this.dom=document.createElement("div"),this.dom.className="k-grouping-dropclue",this.hide())}attach(){return nOe(this.dom)}remove(){this.dom&&this.dom.parentElement&&(document.body.removeChild(this.dom),this.dom=null)}hide(){this.dom.style.display="none"}position({left:e,top:n,height:o}){this.dom.style.display="block",this.dom.style.height=o+"px",this.dom.style.top=n+"px",this.dom.style.left=e-this.dom.offsetWidth/2+"px"}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),gne=(()=>{class s{constructor(){this.changes=new t.bkB}reorder(e){this.changes.emit(e)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();class lOe extends sb{constructor({column:i,newIndex:e,oldIndex:n}){super(),this.column=i,this.newIndex=e,this.oldIndex=n}}class nwt{constructor(i,e,n,o,r,a,l,c){this.dataRows=i,this.headerRows=e,this.isVirtual=n,this.hasPager=o,this.hasDetailTemplate=r,this.gridElement=a,this.virtualColumns=l,this.columns=c}get maxLogicalRowIndex(){return this.headerRows+(this.hasDetailTemplate?2*this.dataRows:this.dataRows)-1}}class Z7{constructor(){this.changes=new Xe.B}sort(i){this.changes.next(i)}}class iwt{constructor(i){this.columns=i}}class cOe{constructor(i){this.columns=i}}function vne(s,i){return"data"===i.type&&i.isEditing?i.data:s}class owt{constructor(i){this.columns=i}}let Sne=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridCellLoadingTemplate",""]]}),s})(),Cne=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridLoadingTemplate",""]]}),s})(),aS=(()=>{class s{constructor(){this.changes=new Xe.B}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const dwt={forbidden:"cancel",before:"insert-middle",after:"insert-middle"},uwt={forbidden:Fk,before:xP,after:xP},uOe={zIndex:"20000",display:"flex",position:"fixed"},hwt=["k-drag-clue","k-reorder-clue"],hOe={zIndex:"19000",position:"absolute"},pwt=["k-drop-hint","k-drop-hint-h"],fwt={handle:".k-table-td.k-drag-cell",dragTarget:".k-master-row",dropTarget:".k-master-row"};let bne=(()=>{class s{constructor(e){this.renderer=e,this.hintElement=null,this.defaultSelectors=fwt,this.hintText="",this.lastDropPosition="forbidden",this.dragTarget=null,this.dropTarget=null,this.rowReorder=new t.bkB}press(e){this.dragTarget=e.dragTarget,this.offsetY=e.dragEvent.offsetY}dragStart(){this.createDropIndicator()}drag(e){to(e.hintElement)&&!to(this.hintElement)&&(this.hintElement=e.hintElement,this.decorateHint());const n_x=e.dragEvent.clientX,n_y=e.dragEvent.clientY-this.offsetY;to(this.hintElement)&&(this.renderer.setStyle(this.hintElement,"left",`${n_x}px`),this.renderer.setStyle(this.hintElement,"top",`${n_y}px`)),this.positionDropIndicator(e)}dragEnter(e){this.dropTarget=e.dropTarget}dragLeave(){this.dropTarget=null,this.hide()}dragEnd(){this.destroyDropIndicator(),this.dragTarget=null,this.dropTarget=null,this.hintElement=null}drop(e){this.destroyDropIndicator();const n=this.rowReorderArgs(this.dragTarget,this.dropTarget,e.dragData);this.rowReorder.emit(n)}reorderRows(e,n){if("forbidden"===this.lastDropPosition)return;const{draggedRows:o,dropTargetRow:r}=e,a=o[0].dataItem,l=r.dataItem,c=n.indexOf(a),u=n.indexOf(l),f=this.calculateIndexToAdd(c,u);n.splice(c,1),n.splice(f,0,a)}get hintIcon(){return dwt[this.lastDropPosition]}get hintSVGIcon(){return uwt[this.lastDropPosition]}getDefaultHintText(e,n){let o="";const r=e.toArray().filter(c=>!c.hidden&&to(c.field)).map(c=>c.field),l=this.getDragRowPerElement(this.dragTarget,n)?.dataItem;return to(l)&&r.forEach(c=>{const u=l[c];to(u)&&(o+=`${u} `)}),o.trim()}rowReorderArgs(e,n,o){return{draggedRows:[this.getDragRowPerElement(e,o)],dropTargetRow:this.getDragRowPerElement(n,o),dropPosition:this.lastDropPosition}}getDragRowPerElement(e,n){let o=e?.getAttribute("data-kendo-grid-item-index");return o=o?parseInt(o,10):-1,{dataItem:-1===o?null:n[o-(this.skip||0)],rowIndex:o,element:e}}createDropIndicator(){ne()&&(this.dropIndicator=document.createElement("div"),this.decorateDropIndicator(),this.dropIndicator.innerHTML='\n            <div class="k-drop-hint-start"></div>\n            <div class="k-drop-hint-line"></div>\n        ',document.body.appendChild(this.dropIndicator),this.hide())}destroyDropIndicator(){ne()&&this.dropIndicator&&this.dropIndicator.parentElement&&(document.body.removeChild(this.dropIndicator),this.dropIndicator=null)}decorateHint(){hwt.forEach(e=>this.renderer.addClass(this.hintElement,e)),Object.keys(uOe).forEach(e=>this.renderer.setStyle(this.hintElement,e,uOe[e]))}positionDropIndicator(e){this.lastDropPosition=this.getDropPosition(e.dragEvent),this.updateDropIndicatorPosition()}calculateIndexToAdd(e,n){return e>n&&"after"===this.lastDropPosition?n+1:e>n&&"before"===this.lastDropPosition||e<n&&"after"===this.lastDropPosition?n:e<n&&"before"===this.lastDropPosition?n-1:void 0}decorateDropIndicator(){pwt.forEach(e=>this.renderer.addClass(this.dropIndicator,e)),Object.keys(hOe).forEach(e=>this.renderer.setStyle(this.dropIndicator,e,hOe[e]))}getDropPosition(e){if(this.dropTarget===this.dragTarget||!to(this.dropTarget)||((s,i)=>s?.parentElement!==i?.parentElement)(this.dropTarget,this.dragTarget))return"forbidden";const n=this.dropTarget.getBoundingClientRect(),r=n.height/2,a=e.clientY,l=n.top;let c=null;return a<l+r?c="before":a>=l+n.height-r&&(c="after"),("before"===c&&((s,i)=>this.dropTarget===this.dragTarget.nextElementSibling)()||"after"===c&&((s,i)=>this.dropTarget===this.dragTarget.previousElementSibling)())&&(c="forbidden"),c}updateDropIndicatorPosition(){if(this.shouldHideDropIndicator()||!this.dropTarget)return void this.hide();this.show();const e=function cwt(s){const{clientTop:i,clientLeft:e}=(s=>s?.ownerDocument.documentElement)(s),{pageYOffset:n,pageXOffset:o}=(s=>s?.ownerDocument.defaultView)(s),{top:r,left:a}=s.getBoundingClientRect();return{top:r+n-i,left:a+o-e}}(this.dropTarget);let n=e.top;"after"===this.lastDropPosition&&(n+=this.dropTarget.offsetHeight),this.renderer.setStyle(this.dropIndicator,"left",`${e.left+this.dropIndicator.offsetWidth/2}px`),this.renderer.setStyle(this.dropIndicator,"top",`${n}px`)}shouldHideDropIndicator(){return"forbidden"===this.lastDropPosition}hide(){to(this.dropIndicator)&&(this.dropIndicator.style.display="none")}show(){to(this.dropIndicator)&&(this.dropIndicator.style.display="")}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(t.sFG))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),Ene=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridStatusBarTemplate",""]]}),s})(),yne=(()=>{class s{constructor(e){this.contextService=e,this.itemToString=(n,o)=>o.length?o.map(r=>n[r.field]).join("\t"):null}createClipboardData(e,n,o){let r={gridItems:[],dataString:""};const a=n.flatMap(u=>u instanceof yn&&to(u.field)?[u]:[]),l={items:[],dataStrings:[]},c=a.map(u=>u.field);if(o.wholeRow)this.targetColField=a[0]?.field,this.targetRowIndex=e[0].dataRowIndex,e.forEach(u=>{l.items.push({dataItem:{...u.dataItem},fields:c}),l.dataStrings.push(this.itemToString(u.dataItem,a))}),r={gridItems:"cut"===o.operationType?l.items.map(u=>(u.fields.forEach(f=>u.dataItem[f]=null),u)):[...l.items],dataString:o.copyHeaders?this.addHeaders(l.dataStrings.join("\r\n"),a):l.dataStrings.join("\n")};else if("selection"===o.target){const{tabular:u,groups:f}=this.groupSelection(),_=this.contextService.grid.selectionDirective,g=_.columnKey;if(u){const S=f[0].items.map(D=>D.columnKey),b=n.flatMap((D,O)=>D instanceof yn&&D.field&&to(S.find(I=>"function"==typeof g?I===g(D,O):I===O))?[D]:[]),k=b.map(D=>D.field);this.targetColField=k[0],r.dataString=e.flatMap(D=>{const O=this.itemToString(D.dataItem,b),I=to(O);return!to(this.targetRowIndex)&&to(O)&&(this.targetRowIndex=D.dataRowIndex),"cut"===o.operationType&&k.forEach(N=>D.dataItem[N]=null),r.gridItems.push({dataItem:D.dataItem,fields:k}),I?[O]:[]}).join("\r\n"),o.copyHeaders&&(r.dataString=this.addHeaders(r.dataString,b))}else{const S=_.selectionKey;r.dataString=e.flatMap(b=>{const k=S?"string"==typeof S?b.dataItem[S]:S({index:b.dataRowIndex,dataItem:b.dataItem}):b.dataRowIndex,D=f.find(G=>G.value===k).items.map(G=>G.columnKey),O=n.flatMap((G,H)=>G instanceof yn&&G.field&&to(D.find($=>"function"==typeof g?$===g(G,H):$===H))?[G]:[]),I=O.map(G=>G.field);this.targetColField||(this.targetColField=I[0]);const N=this.itemToString(b.dataItem,O),P=to(N);return!to(this.targetRowIndex)&&P&&(this.targetRowIndex=b.dataRowIndex),P&&("cut"===o.operationType&&I.forEach(G=>b.dataItem[G]=null),r.gridItems.push({dataItem:b.dataItem,fields:I})),P?o.copyHeaders?[this.addHeaders(N,O)]:[N]:[]}).join("\r\n")}}else{const u=e[0],f=n[u.colIndex],_=f.field,g=f.title,S=u.dataItem[_];this.targetRowIndex=u.dataRowIndex,this.targetColField=_,"cut"===o.operationType&&_&&(u.dataItem[_]=null),r={gridItems:[{dataItem:u.dataItem,fields:_?[_]:[]}],dataString:o.copyHeaders?[g||_,S].join("\r\n"):_?S:""}}return r}getGridData(e,n,o,r,a){const l=e.includes("\r\n")?"\r\n":e.includes("\n")?"\n":null,c=l?e.split(l).filter(f=>f.length):[e];if(this.targetRowIndex=r,"activeCell"===o)if(a.wholeRow)this.targetColField=n.find(f=>f instanceof yn&&f.field)?.field;else{const f=this.contextService.grid.activeCell.colIndex;for(let _=0;_<n.length;_++){const g=n[_];if(g instanceof yn&&g.field&&_>=f){this.targetColField=g.field;break}}}else if(a.wholeRow||!a.isCellSelection)this.targetColField=n.filter(f=>f instanceof yn&&f.field)[0].field;else{const{groups:f}=this.groupSelection(),g=this.contextService.grid.selectionDirective.columnKey,S=n.filter(O=>O.isVisible),b=f[0].items.map(O=>O.columnKey),D=S.flatMap((O,I)=>O instanceof yn&&O.field&&to(b.find(N=>"function"==typeof g?N===g(O,I):N===I))?[O]:[]).map(O=>O.field);this.targetColField=D[0]}return c.map(f=>{const _=f.includes("\t")?f.split("\t"):[f],g=n.flatMap(D=>D instanceof yn&&D.field?[D.field]:[]),S=g.indexOf(this.targetColField),b=g.slice(S,S+_.length),k={};return g.slice(S,S+_.length).forEach((D,O)=>k[D]=_[O]),{dataItem:k,fields:b}})}groupSelection(){const n=Dk(this.contextService.grid.selection,[{field:"itemKey"}]).map(o=>(o.items.sort((r,a)=>r.columnKey-a.columnKey),o));for(let o=1;o<n.length;o++)if(!this.areEqual(n[o].items,n[o-1].items))return{tabular:!1,groups:n};return{tabular:!0,groups:n}}areEqual(e,n){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++)if(e[o].columnKey!==n[o].columnKey)return!1;return!0}addHeaders(e,n){return`${n.map(r=>r.title||r.field).join("\t")}\r\n${e}`}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Be))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),kne=(()=>{class s{constructor(e,n){this.ctx=e,this.wrapper=n,this.context={},this.role="toolbar",this._size="medium",this.navigationService=this.ctx[`${this.wrapper.nativeElement.getAttribute("position")}ToolbarNavigation`]}get sizeSmallClass(){return"small"===this.size}get sizeMediumClass(){return"medium"===this.size||!this.size}set position(e){this.context.position=e}set size(e){this._size=e,"none"===e&&this.wrapper.nativeElement.classList.remove("k-toolbar-sm","k-toolbar-md")}get size(){return this._size}clickHandler(e){if(this.navigable&&ne()){const n=Yl(e.target,b_e),o=this.navigationService.navigableElements.indexOf(n);o>-1&&(this.navigationService.currentActiveIndex=o),this.navigationService.updateFocus(),e.target===this.wrapper.nativeElement&&this.navigationService.focus()}}arrowLeftListener(){this.navigable&&ne()&&this.navigationService.navigableElements.length&&(this.navigationService.currentActiveIndex--,this.navigationService.currentActiveIndex<0&&(this.navigationService.currentActiveIndex=this.navigationService.navigableElements.length-1),this.navigationService.updateFocus())}arrowRightListener(){this.navigable&&ne()&&this.navigationService.navigableElements.length&&(this.navigationService.currentActiveIndex++,this.navigationService.currentActiveIndex>=this.navigationService.navigableElements.length&&(this.navigationService.currentActiveIndex=0),this.navigationService.updateFocus())}homeKeyListener(e){this.navigable&&ne()&&this.navigationService.navigableElements.length&&(e.preventDefault(),this.navigationService.currentActiveIndex=0,this.navigationService.updateFocus())}endKeyListener(e){this.navigable&&ne()&&this.navigationService.navigableElements.length&&(e.preventDefault(),this.navigationService.currentActiveIndex=this.navigationService.navigableElements.length-1,this.navigationService.updateFocus())}get toolbarTemplateRef(){return this.ctx.grid.toolbarTemplate?this.ctx.grid.toolbarTemplate.templateRef:void 0}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be),t.rXU(t.aKT))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-toolbar"]],hostVars:5,hostBindings:function(e,n){1&e&&t.bIt("click",function(r){return n.clickHandler(r)})("keydown.arrowleft",function(r){return n.arrowLeftListener(r)})("keydown.arrowright",function(r){return n.arrowRightListener(r)})("keydown.home",function(r){return n.homeKeyListener(r)})("keydown.end",function(r){return n.endKeyListener(r)}),2&e&&(t.BMQ("role",n.role),t.AVh("k-toolbar-sm",n.sizeSmallClass)("k-toolbar-md",n.sizeMediumClass))},inputs:{position:"position",size:"size",navigable:"navigable"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&t.DNE(0,T2t,1,2,null,0),2&e&&t.Y8G("ngIf",n.toolbarTemplateRef)},dependencies:[W,Je],encapsulation:2}),s})();const pOe=s=>(({buttonCount:s=10,info:i=!0,type:e="numeric",pageSizes:n=!1,previousNext:o=!0,responsive:r=!0,position:a="bottom"})=>({buttonCount:s,info:i,pageSizes:!0===n?[5,10,20]:n,previousNext:o,type:e,responsive:r,position:a}))(!0===s?{}:s);let cD=(()=>{class s{constructor(e){this.root=e,this.active=!0,this.children=[],this.root.registerGroup(this)}get focusableChildren(){return this.children.filter(e=>e.canFocus())}get isActive(){return this.active}ngOnDestroy(){this.root.unregisterGroup(this),this.active=!0}registerElement(e){this.unregisterElement(e),this.children.push(e)}unregisterElement(e){this.children=this.children.filter(n=>n!==e)}isNavigable(){const e=this.focusableChildren;return 1===e.length&&e[0].isNavigable()}canFocus(){return this.focusableChildren.length>0}focus(){this.canFocus()&&!this.hasFocus()&&this.focusableChildren[0].focus()}activate(){this.toggleState(!0)}deactivate(){this.toggleState(!1)}hasFocus(){return this.children.reduce((e,n)=>e||n.hasFocus(),!1)}toggleState(e){this.active!==e&&(this.active=e,this.children.forEach(n=>n.toggle(e)))}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(oS))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),dD=(()=>{class s{constructor(e,n,o){this.ctx=e,this.pagerContext=n,this.cd=o,this.total=this.pagerContext.total,this.skip=this.pagerContext.skip,this.pageSize=this.pagerContext.pageSize,this.caretAltLeftIcon=Xa,this.caretAltToLeftIcon=hW,this.caretAltRightIcon=Uo,this.caretAltToRightIcon=che,this.size="medium"}get currentPage(){return Math.floor((this.skip||0)/this.pageSize)+1}get totalPages(){return Math.ceil((this.total||0)/this.pageSize)}textFor(e){return this.ctx.localization.get(e)}changePage(e){return this.pagerContext.changePage(e),!1}ngOnInit(){this.subscriptions=this.pagerContext.changes.subscribe(this.onChanges.bind(this)),this.subscriptions.add(this.ctx.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}get prevArrowIcons(){return this.ctx.localization.rtl?["caret-alt-to-right","caret-alt-right"]:["caret-alt-to-left","caret-alt-left"]}get prevArrowSVGIcons(){return this.ctx.localization.rtl?[this.caretAltToRightIcon,this.caretAltRightIcon]:[this.caretAltToLeftIcon,this.caretAltLeftIcon]}get nextArrowIcons(){return this.ctx.localization.rtl?["caret-alt-left","caret-alt-to-left"]:["caret-alt-right","caret-alt-to-right"]}get nextArrowSVGIcons(){return this.ctx.localization.rtl?[this.caretAltLeftIcon,this.caretAltToLeftIcon]:[this.caretAltRightIcon,this.caretAltToRightIcon]}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be),t.rXU(hm),t.rXU(t.gRc))},s.\u0275dir=t.FsC({type:s,inputs:{size:"size"}}),s})(),tB=(()=>{class s extends dD{constructor(e,n,o){super(e,o,n),this.pagerContext=o}get maxItems(){return Math.min(this.currentPage*this.pageSize,this.total)}get currentPageText(){return this.total?(this.currentPage-1)*this.pageSize+1:0}get classes(){return!0}onChanges({total:e,skip:n,pageSize:o}){this.total=e,this.skip=n,this.pageSize=o,this.cd.markForCheck()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be),t.rXU(t.gRc),t.rXU(hm))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-pager-info"]],hostVars:4,hostBindings:function(e,n){2&e&&t.AVh("k-pager-info",n.classes)("k-label",n.classes)},features:[t.Vt3],decls:1,vars:5,template:function(e,n){1&e&&t.EFF(0),2&e&&t.SjE("",n.currentPageText," - ",n.maxItems," ",n.textFor("pagerOf")," ",n.total," ",n.textFor("pagerItems"),"")},encapsulation:2,changeDetection:0}),s})(),wne=(()=>{class s{constructor(e){this.host=e,this.keydownHandler=n=>{n.keyCode===F.Escape&&this.host.isOpen&&(n.stopPropagation(),this.host.toggle(!1))}}ngAfterViewInit(){this.host.wrapper.nativeElement.addEventListener("keydown",this.keydownHandler,!0)}ngOnDestroy(){this.host.wrapper.nativeElement.removeEventListener("keydown",this.keydownHandler)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(io))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridPagerDropDown",""]]}),s})(),nB=(()=>{class s extends dD{constructor(e,n,o,r){super(e,o,n),this.pagerContext=o,this.navigationService=r,this._pageSizes=[]}set pageSizes(e){let n=[];e.forEach(o=>{n.push("number"==typeof o?{text:o.toString(),value:o}:o)}),this.pageSize&&!n.some(o=>o.value===this.pageSize)&&(n=[{text:this.pageSize.toString(),value:this.pageSize},...n]),this._pageSizes=n}get pageSizes(){return this._pageSizes}get classes(){return!0}get showInitialPageSize(){return 0===this.pageSizes.filter(e=>"number"==typeof e.value?e.value===Number(this.pageSize):this.total===Number(this.pageSize)).length}pageSizeChange(e){this.pageSize="number"==typeof e?e:this.total,this.pagerContext.changePageSize(this.pageSize)}getValue(e){return"number"==typeof e.value?e.value:this.total}onChanges({total:e,skip:n,pageSize:o}){this.total=e,this.skip=n,this.pageSize="number"==typeof o?o:this.total,this.cd.markForCheck()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be),t.rXU(t.gRc),t.rXU(hm),t.rXU(tl))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-pager-page-sizes"]],hostVars:4,hostBindings:function(e,n){2&e&&t.AVh("k-pager-sizes",n.classes)("k-label",n.classes)},inputs:{pageSizes:"pageSizes"},features:[t.Vt3],decls:3,vars:7,consts:[["dropdownlist",""],["kendoGridPagerDropDown","","kendoGridFocusable","","textField","text","valueField","value",1,"k-dropdown",3,"valueChange","size","tabindex","data","valuePrimitive","value"],[3,"for","text"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"kendo-dropdownlist",1,0),t.bIt("valueChange",function(a){return t.eBV(o),t.Njj(n.pageSizeChange(a))}),t.k0s(),t.nrm(2,"kendo-label",2)}if(2&e){const o=t.sdS(1);t.Y8G("size",n.size)("tabindex",0)("data",n.pageSizes)("valuePrimitive",!0)("value",n.pageSize),t.R7$(2),t.Y8G("for",o)("text",n.textFor("pagerItemsPerPage"))}},dependencies:[io,Hf,wne,rc],encapsulation:2,changeDetection:0}),s})(),iB=(()=>{class s extends dD{constructor(e,n,o){super(e,o,n),this.pagerContext=o}get buttons(){const e=[];for(let n=this.start;n<=this.end;n++)e.push(n);return e}get end(){return Math.min(this.start+this.buttonCount-1,this.totalPages)}get start(){const e=this.currentPage,n=this.buttonCount;if(e>n){const o=e%n;return 0===o?e-n+1:e-o+1}return 1}pageLabel(e){const n=this.textFor("pagerPage");return n?n+" "+e:e.toString()}onSelectChange(e){const n=e.target,o=Number(n.value);Number.isNaN(o)?this.changePage("previousButtons"===n.value?this.start-2:this.end):this.changePage(o-1)}onChanges({total:e,skip:n,pageSize:o}){this.total=e,this.skip=n,this.pageSize=o,this.cd.markForCheck()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be),t.rXU(t.gRc),t.rXU(hm))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-pager-numeric-buttons"]],viewQuery:function(e,n){if(1&e&&(t.GBs(M2t,5,t.aKT),t.GBs(I2t,5,t.aKT)),2&e){let o;t.mGM(o=t.lsd())&&(n.selectElement=o.first),t.mGM(o=t.lsd())&&(n.numbersElement=o.first)}},inputs:{buttonCount:"buttonCount"},features:[t.Vt3],decls:10,vars:14,consts:[["select",""],["numbers",""],["kendoGridFocusable","",1,"k-dropdown-list","k-dropdown","k-picker","k-picker-solid","k-rounded-md",3,"change","ngClass"],["value","previousButtons",3,"selected",4,"ngIf"],[3,"value","selected","ngClass",4,"ngFor","ngForOf"],["value","nextButtons",3,"selected",4,"ngIf"],[1,"k-pager-numbers"],["type","button","kendoGridFocusable","","kendoButton","","fillMode","flat","themeColor","primary","class","k-pager-nav","rounded","none",3,"size","click",4,"ngIf"],["type","button","kendoGridFocusable","","kendoButton","","fillMode","flat","themeColor","primary","class","k-pager-nav","rounded","none",3,"size","selected","click",4,"ngFor","ngForOf"],["type","button","kendoGridFocusable","","kendoButton","","class","k-pager-nav","fillMode","flat","themeColor","primary","rounded","none",3,"size","click",4,"ngIf"],["value","previousButtons",3,"selected"],[3,"value","selected","ngClass"],["value","nextButtons",3,"selected"],["type","button","kendoGridFocusable","","kendoButton","","fillMode","flat","themeColor","primary","rounded","none",1,"k-pager-nav",3,"click","size"],["type","button","kendoGridFocusable","","kendoButton","","fillMode","flat","themeColor","primary","rounded","none",1,"k-pager-nav",3,"click","size","selected"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"select",2,0),t.bIt("change",function(a){return t.eBV(o),t.Njj(n.onSelectChange(a))}),t.DNE(2,R2t,2,2,"option",3)(3,N2t,2,8,"option",4)(4,L2t,2,2,"option",5),t.k0s(),t.j41(5,"div",6,1),t.DNE(7,G2t,2,3,"button",7)(8,P2t,2,6,"button",8)(9,F2t,2,3,"button",9),t.k0s()}2&e&&(t.xc7("display","none"),t.Y8G("ngClass",t.l_i(11,x2t,"small"===n.size,"medium"===n.size||!n.size)),t.BMQ("title",n.textFor("selectPage"))("aria-label",n.textFor("selectPage")),t.R7$(2),t.Y8G("ngIf",n.start>1),t.R7$(),t.Y8G("ngForOf",n.buttons),t.R7$(),t.Y8G("ngIf",n.end<n.totalPages),t.R7$(3),t.Y8G("ngIf",n.start>1),t.R7$(),t.Y8G("ngForOf",n.buttons),t.R7$(),t.Y8G("ngIf",n.end<n.totalPages))},dependencies:[$t,rc,Pe,W,st],encapsulation:2,changeDetection:0}),s})(),Dne=(()=>{class s extends dD{constructor(e,n,o,r){super(e,n,o),this.navigationService=r}get disabled(){return 1===this.currentPage||!this.total}onChanges({total:e,skip:n,pageSize:o}){this.total=e,this.skip=n,this.pageSize=o,this.cd.markForCheck()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be),t.rXU(hm),t.rXU(t.gRc),t.rXU(tl))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-pager-prev-buttons"]],features:[t.Vt3],decls:2,vars:14,consts:[["kendoButton","","type","button","role","button","fillMode","flat","rounded","none",1,"k-pager-nav","k-pager-first",3,"click","kendoGridFocusable","title","icon","svgIcon","disabled","size"],["kendoButton","","type","button","fillMode","flat","rounded","none",1,"k-pager-nav",3,"click","kendoGridFocusable","disabled","icon","svgIcon","size","title"]],template:function(e,n){1&e&&(t.j41(0,"button",0),t.bIt("click",function(){return 1!==n.currentPage&&n.changePage(0)}),t.k0s(),t.j41(1,"button",1),t.bIt("click",function(){return 1!==n.currentPage&&n.changePage(n.currentPage-2)}),t.k0s()),2&e&&(t.Y8G("kendoGridFocusable",!n.disabled)("title",n.textFor("pagerFirstPage"))("icon",n.prevArrowIcons[0])("svgIcon",n.prevArrowSVGIcons[0])("disabled",n.disabled)("size",n.size),t.BMQ("aria-label",n.textFor("pagerFirstPage")),t.R7$(),t.Y8G("kendoGridFocusable",!n.disabled)("disabled",n.disabled)("icon",n.prevArrowIcons[1])("svgIcon",n.prevArrowSVGIcons[1])("size",n.size)("title",n.textFor("pagerPreviousPage")),t.BMQ("aria-label",n.textFor("pagerPreviousPage")))},dependencies:[$t,rc],encapsulation:2,changeDetection:0}),s})(),One=(()=>{class s{constructor(e,n){this.host=e,this.renderer=n}ngAfterViewInit(){this.renderer.addClass(this.host.numericInput.nativeElement,"k-pager-nav")}}return s.\u0275fac=function(e){return new(e||s)(t.rXU($c),t.rXU(t.sFG))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridPagerInput",""]]}),s})(),Tne=(()=>{class s extends dD{constructor(e,n,o,r,a){super(e,n,a),this.pagerContext=n,this.zone=o,this.navigationService=r,this.handleKeyDown=l=>{const c=this.numericInput.value||this.current;l.keyCode===F.Enter&&(l.preventDefault(),c!==this.current&&this.zone.run(()=>{this.changePage(c-1)}))},this.handleBlur=()=>{const l=this.numericInput.value;l?l!==this.current&&this.zone.run(()=>{this.changePage(l-1)}):this.numericInput.writeValue(this.current)}}get current(){return this.hasPages?this.currentPage:0}get hasPages(){return 0!==this.totalPages}onChanges({total:e,skip:n,pageSize:o}){this.total=e,this.skip=n,this.pageSize=o,this.cd.markForCheck()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be),t.rXU(hm),t.rXU(t.SKi),t.rXU(tl),t.rXU(t.gRc))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-pager-input"]],viewQuery:function(e,n){if(1&e&&t.GBs($c,5),2&e){let o;t.mGM(o=t.lsd())&&(n.numericInput=o.first)}},features:[t.Vt3],decls:4,vars:17,consts:[[1,"k-pager-input","k-label"],["kendoGridPagerInput","","format","n0",3,"kendoGridFocusable","spinners","decimals","disabled","value","min","max","size","autoCorrect","title","kendoEventsOutsideAngular"]],template:function(e,n){1&e&&(t.j41(0,"span",0),t.EFF(1),t.nrm(2,"kendo-numerictextbox",1),t.EFF(3),t.k0s()),2&e&&(t.R7$(),t.SpI(" ",n.textFor("pagerPage")," "),t.R7$(),t.Y8G("kendoGridFocusable",n.hasPages)("spinners",!1)("decimals",0)("disabled",!n.hasPages)("value",n.current)("min",n.hasPages?1:0)("max",n.totalPages)("size",n.size)("autoCorrect",!0)("title",n.textFor("pagerPageNumberInputTitle"))("kendoEventsOutsideAngular",t.l_i(14,U2t,n.handleKeyDown,n.handleBlur)),t.R7$(),t.Lme(" ",n.textFor("pagerOf")," ",n.totalPages," "))},dependencies:[$c,One,rc,Vo],encapsulation:2}),s})(),Mne=(()=>{class s extends dD{constructor(e,n,o,r){super(e,n,o),this.navigationService=r}get disabled(){return this.currentPage===this.totalPages||!this.total}onChanges({total:e,skip:n,pageSize:o}){this.total=e,this.skip=n,this.pageSize=o,this.cd.markForCheck()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be),t.rXU(hm),t.rXU(t.gRc),t.rXU(tl))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-pager-next-buttons"]],features:[t.Vt3],decls:2,vars:14,consts:[["kendoButton","","type","button","fillMode","flat","rounded","none",1,"k-pager-nav",3,"click","kendoGridFocusable","size","icon","svgIcon","disabled","title"],["kendoButton","","type","button","fillMode","flat","rounded","none",1,"k-pager-nav","k-pager-last",3,"click","kendoGridFocusable","size","icon","svgIcon","disabled","title"]],template:function(e,n){1&e&&(t.j41(0,"button",0),t.bIt("click",function(){return n.currentPage!==n.totalPages&&n.changePage(n.currentPage)}),t.k0s(),t.j41(1,"button",1),t.bIt("click",function(){return n.currentPage!==n.totalPages&&n.changePage(n.totalPages-1)}),t.k0s()),2&e&&(t.Y8G("kendoGridFocusable",!n.disabled)("size",n.size)("icon",n.nextArrowIcons[0])("svgIcon",n.nextArrowSVGIcons[0])("disabled",n.disabled)("title",n.textFor("pagerNextPage")),t.BMQ("aria-label",n.textFor("pagerNextPage")),t.R7$(),t.Y8G("kendoGridFocusable",!n.disabled)("size",n.size)("icon",n.nextArrowIcons[1])("svgIcon",n.nextArrowSVGIcons[1])("disabled",n.disabled)("title",n.textFor("pagerLastPage")),t.BMQ("aria-label",n.textFor("pagerLastPage")))},dependencies:[$t,rc],encapsulation:2,changeDetection:0}),s})(),Ine=(()=>{class s{constructor(e,n,o,r,a,l,c,u,f){this.pagerContext=e,this.navigationService=n,this.element=o,this.renderer=r,this.zone=a,this.ctx=l,this.cellContext=c,this.focusRoot=u,this.focusGroup=f,this.total=0,this.skip=1,this.pageChange=new t.bkB,this.gridPagerClass=!0,this.settings=pOe({}),this.subscriptions=new be.yU,this._templateContext={},this._isFocused=!1,this._size="medium",this.resizeHandler=()=>{const _=this.element.nativeElement;this.template||!_||this.zone.runOutsideAngular(()=>{setTimeout(()=>{const g=_.offsetWidth;if(this.numericButtons){const S=this.numericButtons.selectElement.nativeElement,b=this.numericButtons.numbersElement.nativeElement;this.renderer.removeStyle(b,"display"),this.renderer.setStyle(S,"display","none"),g<600&&(this.renderer.removeStyle(S,"display"),this.renderer.setStyle(b,"display","none"))}this.pagerInfo&&(this.renderer.removeStyle(this.pagerInfo.nativeElement,"display"),g<768&&this.renderer.setStyle(this.pagerInfo.nativeElement,"display","none")),this.pagerPageSizes&&(this.renderer.removeStyle(this.pagerPageSizes.nativeElement,"display"),g<600&&this.renderer.setStyle(this.pagerPageSizes.nativeElement,"display","none"))})})}}set options(e){this.settings=pOe(e)}set size(e){this._size=e,"none"===e&&this.element.nativeElement.classList.remove("k-pager-sm","k-pager-md")}get size(){return this._size}get sizeSmallClass(){return"small"===this.size}get sizeMediumClass(){return"medium"===this.size||!this.size}get isFocused(){return this._isFocused}get pagerAriaLabel(){return this.navigationService.pagerEnabled?this.pagerLabel:void 0}get pagerLabel(){const e=this.ctx.localization.get("pagerLabel")||"";return wa(wa(e,"currentPage",this.currentPage.toString()),"totalPages",this.totalPages.toString())}get focusTrapTabIndex(){return this.focusGroup.isActive?"0":"-1"}onFocusIn(e){this.navigationService.pagerEnabled&&(e.target===this.element.nativeElement?(this._isFocused=!0,this.focusRoot.deactivate()):this.focusRoot.activate())}onFocusOut(){this.navigationService.pagerEnabled&&(this._isFocused=!1)}onEscape(){this.navigationService.pagerEnabled&&(this.focusRoot.deactivate(),this.element.nativeElement.focus())}onEnter(e){this.navigationService.pagerEnabled&&e.target===this.element.nativeElement&&(e.preventDefault(),this.focusRoot.activate(),this.focusFirstElement())}navigateToPreviousPage(e){e.preventDefault(),this.shouldTriggerPageChange(e.target,this.currentPage>1)&&this.pagerContext.prevPage()}navigateToNextPage(e){e.preventDefault(),this.shouldTriggerPageChange(e.target,this.currentPage<this.totalPages)&&this.pagerContext.nextPage()}navigateToFirstPage(e){e.preventDefault(),this.shouldTriggerPageChange(e.target,this.currentPage>1)&&this.pagerContext.changePage(0)}navigateToLastPage(e){e.preventDefault(),this.shouldTriggerPageChange(e.target,this.currentPage<this.totalPages)&&this.pagerContext.changePage(this.totalPages-1)}get totalPages(){return Math.ceil((this.total||0)/this.pageSize)}get currentPage(){return Math.floor((this.skip||0)/this.pageSize)+1}get templateContext(){const e=this._templateContext;return e.totalPages=this.totalPages,e.total=this.total,e.skip=this.skip,e.pageSize=this.pageSize,e.currentPage=this.currentPage,e}ngOnInit(){this.subscriptions.add(this.pagerContext.pageChange.subscribe(this.changePage.bind(this))),this.navigationService.pagerEnabled&&this.focusRoot.deactivate()}ngDoCheck(){this.updateCellContext()}ngOnChanges(e){Zi(["pageSize","skip","total"],e,!1)&&this.pagerContext.notifyChanges({pageSize:this.pageSize,skip:this.skip,total:this.total});const n=e.template;n&&(n.currentValue?this.clearResponsiveStyling():this.resizeHandler()),e.options&&(this.settings.responsive?this.resizeHandler():this.clearResponsiveStyling())}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}changePage(e){this.pageChange.emit(e)}onInnerFocusIn(e,n){this.zone.onStable.pipe(Ye(1)).subscribe(()=>{"start"===n?e.relatedTarget===this.element.nativeElement?this.focusFirstElement():this.focusLastElement():this.focusFirstElement()})}shouldTriggerPageChange(e,n){return this.navigationService.pagerEnabled&&e===this.element.nativeElement&&n}focusFirstElement(){const e=ADe(this.element.nativeElement,!0);e&&e.focus()}focusLastElement(){const e=((s,i=!0)=>((s,i,e=!0)=>{let n=null;return dp(s,o=>(i(o)&&(n=o),!1),e),n})(s,e=>PA(e,i),!1))(this.element.nativeElement,!0);e&&e.focus()}updateCellContext(){this.cellContext&&(this.cellContext.focusGroup=this.focusGroup)}clearResponsiveStyling(){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.numericButtons&&(this.renderer.removeStyle(this.numericButtons.numbersElement.nativeElement,"display"),this.renderer.setStyle(this.numericButtons.selectElement.nativeElement,"display","none")),this.pagerInfo&&this.renderer.removeStyle(this.pagerInfo.nativeElement,"display"),this.pagerPageSizes&&this.renderer.removeStyle(this.pagerPageSizes.nativeElement,"display")})})}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(hm),t.rXU(tl),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.SKi),t.rXU(Be),t.rXU(gg,8),t.rXU(oS),t.rXU(cD))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-pager"]],viewQuery:function(e,n){if(1&e&&(t.GBs(tB,5,t.aKT),t.GBs(nB,5,t.aKT),t.GBs(iB,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.pagerInfo=o.first),t.mGM(o=t.lsd())&&(n.pagerPageSizes=o.first),t.mGM(o=t.lsd())&&(n.numericButtons=o.first)}},hostVars:9,hostBindings:function(e,n){1&e&&t.bIt("focusin",function(r){return n.onFocusIn(r)})("focusout",function(){return n.onFocusOut()})("keydown.escape",function(){return n.onEscape()})("keydown.enter",function(r){return n.onEnter(r)})("keydown.arrowleft",function(r){return n.navigateToPreviousPage(r)})("keydown.pageup",function(r){return n.navigateToPreviousPage(r)})("keydown.arrowright",function(r){return n.navigateToNextPage(r)})("keydown.pagedown",function(r){return n.navigateToNextPage(r)})("keydown.home",function(r){return n.navigateToFirstPage(r)})("keydown.end",function(r){return n.navigateToLastPage(r)}),2&e&&(t.BMQ("aria-label",n.pagerAriaLabel),t.AVh("k-grid-pager",n.gridPagerClass)("k-pager-sm",n.sizeSmallClass)("k-pager-md",n.sizeMediumClass)("k-focus",n.isFocused))},inputs:{total:"total",skip:"skip",pageSize:"pageSize",options:"options",size:"size",template:"template"},outputs:{pageChange:"pageChange"},features:[t.Jv_([{provide:zte,useValue:!0},{provide:oS,deps:[zte],useClass:oS},{provide:cD,deps:[oS],useClass:cD}]),t.OA$],decls:5,vars:5,consts:[["class","k-sr-only",3,"tabindex","focusin",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngIf"],[3,"resize",4,"ngIf"],[1,"k-sr-only",3,"focusin","tabindex"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-pager-numbers-wrap"],[3,"size",4,"ngIf"],[3,"size","buttonCount",4,"ngIf"],[3,"size","pageSizes",4,"ngIf"],[3,"size"],[3,"size","buttonCount"],[3,"size","pageSizes"],[3,"resize"]],template:function(e,n){1&e&&t.DNE(0,B2t,1,2,"div",0)(1,V2t,1,2,"ng-container",1)(2,Y2t,8,6,"ng-container",2)(3,K2t,1,2,"div",0)(4,J2t,1,0,"kendo-resize-sensor",3),2&e&&(t.Y8G("ngIf",n.navigationService.pagerEnabled),t.R7$(),t.Y8G("ngIf",null==n.template?null:n.template.templateRef),t.R7$(),t.Y8G("ngIf",!(null!=n.template&&n.template.templateRef)),t.R7$(),t.Y8G("ngIf",n.navigationService.pagerEnabled),t.R7$(),t.Y8G("ngIf",n.settings.responsive))},dependencies:[Dne,iB,Tne,Mne,tB,nB,Os,W,Je],encapsulation:2}),s})(),KA=(()=>{class s{constructor(e,n){this.element=e,this.service=n,this.context={},this.enter=new t.bkB,this.leave=new t.bkB,this.drop=new t.bkB,this.subscriptions=new be.yU}ngOnInit(){this.service.add(this);const e=this.service.changes.pipe(z(({target:n})=>n===this));this.subscriptions.add(e.pipe(z(({type:n})=>"leave"===n)).subscribe(n=>{this.leave.next(this.eventArgs(n))})),this.subscriptions.add(e.pipe(z(({type:n})=>"enter"===n)).subscribe(n=>{this.enter.next(this.eventArgs(n))})),this.subscriptions.add(e.pipe(z(({type:n})=>"drop"===n)).subscribe(n=>{this.drop.next(this.eventArgs(n))}))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}eventArgs(e){return{target:this,mouseEvent:e.mouseEvent,draggable:e.draggable}}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(_ne))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoDropTarget",""]],inputs:{context:"context"},outputs:{enter:"enter",leave:"leave",drop:"drop"}}),s})();const cb=s=>i=>new RegExp(`(^| )${s}( |$)`).test(i.className),Swt=G7(cb("k-i-x"),cb("k-svg-i-x"),cb("k-icon-button")),Cwt=G7(cb("k-i-sort-asc-small"),cb("k-i-sort-desc-small"),cb("k-svg-i-sort-asc-small"),cb("k-svg-i-sort-desc-small")),bwt=Bte(GA(Swt),GA(Cwt),GA(PA),GA(el("label"))),fOe=({clientX:s,clientY:i})=>ne()&&document.elementFromPoint(s,i);let xne=(()=>{class s{constructor(e,n,o,r,a,l,c,u){this.draggable=e,this.element=n,this.zone=o,this.service=r,this.hint=a,this.cue=l,this.nav=c,this.renderer=u,this.context={},this.drag=new t.bkB,this.subscriptions=new be.yU}set enableDrag(e){this.enabled=e,this.updateTouchAction()}get hostClass(){return this.enabled}ngOnInit(){this.subscriptions.add(this.zone.runOutsideAngular(()=>this.draggable.kendoPress.pipe(z(e=>this.enabled),z(({originalEvent:{target:e}})=>e===this.element.nativeElement||bwt(e)),x(e=>{const n=e.originalEvent;e.isTouch||n.preventDefault(),this.nav.navigateTo(n.target)}),Y((s=>i=>pt(i).pipe(X_(150),zs(s)))(this.draggable.kendoRelease)),x(e=>{this.hint.create(this.context.hint),this.cue.create()}),Y(e=>this.draggable.kendoDrag.pipe(x(n=>{n.isTouch&&n.originalEvent.preventDefault()}),x(this.hint.attach()),x(this.cue.attach()),zs(this.draggable.kendoRelease),(0,U.T)(n=>({move:n,down:e})))),x(this.performDrag.bind(this)),yF(this.draggable.kendoRelease)).subscribe(this.drop.bind(this))))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}drop(e){this.hint.remove(),this.cue.remove(),this.service.notifyDrop(this,e)}performDrag({move:e}){this.hint.move(e);const n=this.elementUnderCursor(e);n&&this.service.notifyDrag(this,n,e),this.drag.emit({draggable:this,mouseEvent:e})}elementUnderCursor(e){this.hint.hide();let n=fOe(e);return n&&/k-grouping-dropclue/.test(n.className)&&(n=((s,i)=>{s.style.display="none";const e=i();return s.style.display="block",e})(n,fOe.bind(this,e))),this.hint.show(),n}updateTouchAction(){this.element&&(this.enabled?this.renderer.addClass(this.element.nativeElement,"k-touch-action-none"):this.renderer.removeClass(this.element.nativeElement,"k-touch-action-none"))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Nd,1),t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(_ne),t.rXU(q7),t.rXU(Q7),t.rXU(tl),t.rXU(t.sFG))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoDraggableColumn",""]],hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-grid-draggable-header",n.hostClass)},inputs:{context:"context",enableDrag:"enableDrag"},outputs:{drag:"drag"}}),s})();const ywt=({field:s})=>ar(s),kwt=({groups:s,field:i})=>s.some(e=>e.field===i),Iwt=G7(({target:s,field:i})=>s.field===i,Bte(({target:s})=>s.lastTarget,({groups:s,field:i})=>s.map(e=>e.field).indexOf(i)===s.length-1));let mOe=(()=>{class s{constructor(e,n,o,r,a,l,c,u){this.hint=e,this.cue=n,this.groupInfoService=o,this.ctx=r,this.cd=a,this.popupService=l,this.ngZone=c,this.renderer=u,this.change=new t.bkB,this.groups=[],this.dropTargets=new t.rOR,this.groupTitles=[],this.isChipMenuOpen=!1,this.rtl=!1,this.arrowLeftIcon=RG,this.arrowRightIcon=fW,this.handleKeyDown=f=>{if(f.keyCode===F.ArrowDown||f.keyCode===F.ArrowUp){f.preventDefault();const _=f.target.matches(":first-child")?"next":"previous";this.activateMenuItem(f.target,_)}else f.keyCode===F.Escape||f.keyCode===F.Tab?this.destroyMenu(!0):(f.keyCode===F.Space||f.keyCode===F.Enter)&&this.handleMenuClick(f)},this.handleClick=f=>{f.preventDefault();const _=f.target.closest(".k-menu-item");if(!_.matches('[aria-disabled="true"]'))return void this.handleMenuClick(f);if("0"===_.getAttribute("tabindex"))return;const g=_.closest(".k-menu-group").querySelector('[tabindex="0"]'),S=g.matches(":first-child")?"next":"previous";this.activateMenuItem(g,S)}}get groupHeaderClass(){return!0}set text(e){this.emptyText=e}get text(){return this.emptyText?this.emptyText:this.ctx.localization.get("groupPanelEmpty")}get gridId(){return this.ctx.grid?.ariaRootId}ngAfterViewInit(){this.subscription=this.ctx.localization.changes.subscribe(({rtl:e})=>{this.rtl=e,this.cd.markForCheck()}),this.subscription.add(L7(this.dropTargets).subscribe(this.attachTargets.bind(this)))}ngDoCheck(){const e=this.groups.map(n=>this.groupInfoService.groupTitle(n));(e.length!==this.groupTitles.length||e.some((n,o)=>n!==this.groupTitles[o]))&&(this.groupTitles=e,this.cd.markForCheck())}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.targetSubscription&&this.targetSubscription.unsubscribe(),this.destroyMenu()}messageFor(e){return this.ctx.localization.get(e)}getTitle(e){return this.messageFor("desc"===e.dir?"sortedDescending":"sortedAscending")}getDirectionIcon(e){return"desc"===e.dir?"sort-desc-sm":"sort-asc-sm"}getDirectionSvgIcon(e){return"desc"===e.dir?SI:G_}directionChange(e){e.dir=e.dir?e.dir:"asc",e.dir="asc"===e.dir?"desc":"asc";const n=this.groups.findIndex(r=>r.field===e.field),o=[...this.groups.slice(0,n),e,...this.groups.slice(n+1)];this.change.emit(o)}insert(e,n){const o=this.groups.filter(r=>r.field!==e);(o.length||0===this.groups.length)&&this.change.emit([...o.slice(0,n),{field:e},...o.slice(n)])}remove(e){this.change.emit(this.groups.filter(n=>n.field!==e.field))}toggleMenu(e,n,o,r){const a=e.element.nativeElement.querySelector(".k-chip-action");if(this.popupRef){const u=this.popupRef.popup.instance.anchor;if(this.destroyMenu(),a===u)return}this.first=n,this.last=o;const l=this.ctx.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:a,content:this.defaultTemplate,anchorAlign:{vertical:"bottom",horizontal:l},popupAlign:{vertical:"top",horizontal:l},positionMode:"absolute"}),this.activeItem=this.dropTargets.find(u=>u.context.field===r),this.renderer.setAttribute(this.popupRef.popupElement,"dir",this.ctx.localization.rtl?"rtl":"ltr");const c=Array.from(this.popupRef.popupElement.querySelectorAll(".k-menu-item"));this.activateMenuItem(c[1],"previous"),this.popupSubs=this.popupRef.popupAnchorViewportLeave.subscribe(()=>{this.destroyMenu(!0)}),!nb()&&this.ngZone.runOutsideAngular(()=>{this.popupSubs.add(wt(document,"click").pipe(z(u=>!Da(u.target,f=>f===this.popupRef.popupElement||f.matches&&f.matches(".k-chip-action")))).subscribe(()=>{this.destroyMenu()}))})}canDrop(e,n){return!("groupIndicator"===e.type?Iwt:(s=>G7(ywt,kwt,(s=>({field:i})=>!s.isGroupable(i))(this.groupInfoService)))())({field:e.field,groups:this.groups,target:n})}attachTargets(){this.targetSubscription&&this.targetSubscription.unsubscribe(),this.targetSubscription=new be.yU;const e=this.dropTargets.reduce((r,a)=>Ht(r,a.enter),gs([])),n=this.dropTargets.reduce((r,a)=>Ht(r,a.leave),gs([])),o=this.dropTargets.reduce((r,a)=>Ht(r,a.drop),gs([]));this.targetSubscription.add(e.pipe(x(r=>{this.hint.removeLock(),this.destroyMenu()}),z(({draggable:r,target:a})=>this.canDrop(r.context,a.context)),x(this.enter.bind(this)),yF(o.pipe(zs(n.pipe(x(this.leave.bind(this))))))).subscribe(this.drop.bind(this)))}enter({draggable:e,target:n}){this.hint.enable();let o=n.context.lastTarget||sOe(e.element.nativeElement,n.element.nativeElement);this.ctx.localization.rtl&&(o=!o),this.cue.position(oOe(n.element.nativeElement,o))}leave(){this.hint.disable(),this.cue.hide()}drop({target:e,draggable:n}){const o=n.context.field,r=this.dropTargets.toArray().indexOf(e);this.insert(o,r)}destroyMenu(e){this.popupRef&&(this.popupRef.close(),this.popupRef=null,this.popupSubs&&this.popupSubs.unsubscribe(),e&&this.activeItem.context.target.focus())}activateMenuItem(e,n){this.renderer.setAttribute(e,"tabindex","-1"),this.renderer.removeClass(e,"k-focus");const o=e[`${n}ElementSibling`];this.renderer.setAttribute(o,"tabindex","0"),this.renderer.addClass(o,"k-focus"),this.ngZone.runOutsideAngular(()=>setTimeout(()=>o.focus()))}handleMenuClick(e){if(e.preventDefault(),"true"!==e.target.getAttribute("aria-disabled")){const n=this.dropTargets.toArray().slice(0,this.dropTargets.length-1);let o,r;for(let l=0;l<n.length;l++)if(n[l].element.nativeElement===this.popupRef.popup.instance.anchor.closest(".k-chip")){o=n[l],r=l;break}const a=e.target.closest(".k-menu-item").matches(":first-child");a&&r>0?this.insert(o.context.field,r-1):!a&&r<n.length-1&&this.insert(o.context.field,r+1),this.destroyMenu(!0)}}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(q7),t.rXU(Q7),t.rXU(W7),t.rXU(Be),t.rXU(t.gRc),t.rXU(es),t.rXU(t.SKi),t.rXU(t.sFG))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-group-panel"]],viewQuery:function(e,n){if(1&e&&(t.GBs(bDe,7,t.C4Q),t.GBs(KA,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.defaultTemplate=o.first),t.mGM(o=t.lsd())&&(n.dropTargets=o)}},hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-grouping-header",n.groupHeaderClass)},inputs:{text:"text",navigable:"navigable",groups:"groups"},outputs:{change:"change"},decls:5,vars:3,consts:[["defaultTemplate",""],["chip",""],["class","k-grouping-drop-container","kendoDropTarget","",3,"context",4,"ngIf"],["role","none",3,"navigable",4,"ngIf"],["kendoDropTarget","",1,"k-grouping-drop-container",3,"context"],["role","none",3,"navigable"],["kendoDropTarget","","kendoDraggableColumn","","kendoDraggable","",3,"title","enableDrag","context","label","removable","hasMenu","icon","svgIcon","contentClick","remove","menuToggle","keydown.alt.arrowdown",4,"ngFor","ngForOf"],["kendoDropTarget","","kendoDraggableColumn","","kendoDraggable","",3,"contentClick","remove","menuToggle","keydown.alt.arrowdown","title","enableDrag","context","label","removable","hasMenu","icon","svgIcon"],["unselectable","on","role","menu",1,"k-group","k-menu-group","k-reset","k-menu-group-md",3,"kendoEventsOutsideAngular"],["role","menuitem","unselectable","on",1,"k-item","k-menu-item"],[1,"k-link","k-menu-link"],[3,"name","svgIcon"],[1,"k-menu-link-text"]],template:function(e,n){1&e&&t.DNE(0,Z2t,2,3,"div",2)(1,tCt,2,2,"kendo-chiplist",3)(2,nCt,2,2,"div",2)(3,iCt,11,16,"ng-template",null,0,t.C5r),2&e&&(t.Y8G("ngIf",0===n.groups.length),t.R7$(),t.Y8G("ngIf",0!==n.groups.length),t.R7$(),t.Y8G("ngIf",0!==n.groups.length))},dependencies:[Sge,dq,Ke,W,KA,st,xne,Nd,Vo],encapsulation:2,changeDetection:0}),s})(),Ane=(()=>{class s{constructor(){this.columns=[],this.groups=[],this.sort=new Array}get columnsToRender(){return vg(this.columns)}trackBy(e,n){return e}isSorted(e){const n=this.sortDescriptor(e.field);return this.isSortable(e)&&("asc"===n.dir||"desc"===n.dir)}getColumnComponent(e){return e}isSortable(e){return!ar(e.field)&&td(e.sortable)}sortDescriptor(e){return this.sort.find(n=>n.field===e)||{field:e}}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoGridColGroup",""]],inputs:{columns:"columns",groups:"groups",detailTemplate:"detailTemplate",sort:"sort"},attrs:sCt,decls:4,vars:4,consts:[[3,"k-group-col",4,"ngFor","ngForOf"],[3,"k-hierarchy-col",4,"ngIf"],[3,"width","k-sorted",4,"ngFor","ngForOf","ngForTrackBy"]],template:function(e,n){1&e&&(t.qex(0),t.DNE(1,oCt,1,2,"col",0)(2,rCt,1,2,"col",1)(3,aCt,1,4,"col",2),t.bVm()),2&e&&(t.R7$(),t.Y8G("ngForOf",n.groups),t.R7$(),t.Y8G("ngIf",null==n.detailTemplate?null:n.detailTemplate.templateRef),t.R7$(),t.Y8G("ngForOf",n.columnsToRender)("ngForTrackBy",n.trackBy))},dependencies:[st,W],encapsulation:2}),s})();const xwt={allowUnsort:!0,mode:"single",showIndexes:!0,initialDirection:"asc",multiSortKey:"none"},sB=(...s)=>Object.assign({},xwt,...s),_Oe=(s,i)=>!1!==s.filter&&i.field&&i.filterable,gOe=(s,i)=>!1!==s.sort&&i.field&&i.sortable,vOe=(s,i)=>s.lock&&i.lockable&&!(i.parent&&!i.parent.isSpanColumn),SOe=s=>!1!==s.columnChooser,COe=s=>s.autoSizeColumn,bOe=s=>s.autoSizeAllColumns,EOe=(s,i,e)=>{e?s.autoFitColumn(e):s.autoFitColumns(),i.close()},yOe=(s=>i=>Object.keys(s).reduce((e,n)=>(e[s[n]]=i.get(n),e),{}))({filterEqOperator:"eq",filterNotEqOperator:"neq",filterGteOperator:"gte",filterGtOperator:"gt",filterLteOperator:"lte",filterLtOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty",filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterAfterOrEqualOperator:"after-eq",filterAfterOperator:"after",filterBeforeOrEqualOperator:"before-eq",filterBeforeOperator:"before"}),oB=s=>s.map(i=>i.toJSON());let wi=(()=>{class s{constructor(e,n){this.operator=e,this.ctx=n,this.messages=yOe(this.ctx.localization),this._text=this.messages[this.operator],this.subscription=this.ctx.localization.changes.subscribe(this.refreshText.bind(this))}get text(){return this._text}set text(e){this._text=ar(e)?this.messages[this.operator]:e}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}toJSON(){return{text:this.text,value:this.operator}}refreshText(){const e=this._text===this.messages[this.operator];this.messages=yOe(this.ctx.localization),e&&(this._text=this.messages[this.operator])}}return s.\u0275fac=function(e){return new(e||s)(t.rXU("filterOperator"),t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-filter-operator-base"]],inputs:{text:"text"},decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})();const uD=(s,i,e,n)=>Re(i)&&Re(i.filters)&&i.filters.length>s?i.filters[s]:((s,i,e)=>((i=i||{filters:[],logic:"and"}).filters[s]=e,e))(s,i,{field:e,operator:n}),hD=s=>[{text:s.get("filterAndLogic"),value:"and"},{text:s.get("filterOrLogic"),value:"or"}],Rne=s=>Re(s.filters)?s.filters.reduce((i,e)=>i.concat(Nu(e)?Rne(e):[e]),[]):[],kOe=(s,i)=>{Re(s)&&Re(s.filters)&&(s.filters=s.filters.filter(e=>Nu(e)?(kOe(e,i),e.filters.length):e.field!==i))},JA=(s,i)=>Rne(s||{}).filter(e=>e.field===i),Nne=(s,i)=>(kOe(s,i),s),rB=s=>i=>Object.keys(s).map(e=>({text:i.get(e),value:s[e]}));let pD=(()=>{class s{constructor(e){this.filterService=e,this.operatorList=new t.rOR,this.size="medium"}get hostClasses(){return!0}get operators(){return this._operators?.length?this._operators:this.defaultOperators}set operators(e){this._operators=e}ngAfterContentInit(){this.operationListSubscription=L7(this.operatorList).pipe((0,U.T)(e=>e.toArray()),(0,U.T)(oB)).subscribe(e=>{this.operators=e})}ngOnDestroy(){this.operationListSubscription&&this.operationListSubscription.unsubscribe()}filterByField(e){return((s,i)=>{const[e]=JA(s,i);return e})(this.filter,e)}filtersByField(e){return JA(this.filter,e)}removeFilter(e){return Nne(this.filter,e)}updateFilter(e){const n=this.filter||{filters:[],logic:"and"},[o]=Rne(n).filter(r=>r.field===e.field);return Re(o)?Object.assign(o,e):n.filters.push(e),n}applyFilter(e){this.filterService.filter(e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Oa))},s.\u0275dir=t.FsC({type:s,contentQueries:function(e,n,o){if(1&e&&t.wni(o,wi,4),2&e){let r;t.mGM(r=t.lsd())&&(n.operatorList=r)}},hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-filtercell",n.hostClasses)},inputs:{operators:"operators"}}),s})();const qA=s=>{if(s)return Nu(s)?{filters:qA(s.filters),logic:s.logic}:Array.isArray(s)?s.map(qA):(s=>(s=>{const i={};if(Object.assign(i,s),s.constructor!==Object){const e=s.constructor.prototype;Object.getOwnPropertyNames(e).forEach(n=>{"constructor"!==n&&e.hasOwnProperty(n)&&(i[n]=s[n])})}return i})(s))(s)};let DOe=(()=>{class s{constructor(e,n){this.host=e,this.resolver=n}ngOnInit(){this.component=this.host.createComponent(this.resolver.resolveComponentFactory(this.componentType())),this.initComponent({column:this.column,filter:this.filter})}ngOnDestroy(){this.component&&(this.component.destroy(),this.component=null)}ngOnChanges(e){Zi(["column","filter"],e)&&this.initComponent({column:this.column,filter:this.filter})}initComponent({column:e,filter:n}){const o=this.component.instance;o.column=e,o.filter=n}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.c1b),t.rXU(t.OM3))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridFilterHostBase",""]],inputs:{column:"column",filter:"filter"},features:[t.OA$]}),s})();const Vwt=rB({filterEqOperator:"eq",filterNotEqOperator:"neq",filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty"});let OOe=(()=>{class s extends pD{constructor(e,n){super(e),this.ctx=n,this.operator="contains"}get currentFilter(){return this.filterByField((this.column||{}).field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}ngOnInit(){this.subscription=this.ctx.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.defaultOperators=Vwt(this.ctx.localization),this.operatorList.length&&(this.operators=oB(this.operatorList.toArray()))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Oa),t.rXU(Be))},s.\u0275dir=t.FsC({type:s,inputs:{column:"column",filter:"filter",operator:"operator"},features:[t.Vt3]}),s})(),fm=(()=>{class s{constructor(e,n,o,r){this.element=o,this.renderer=r,this.change=new t.bkB,this.composing=!1,this.filterDelay=500,this.changeRequests=new Xe.B,this.accessor=e[0],n.runOutsideAngular(()=>{const a=r.listen(o.nativeElement,"compositionstart",()=>this.composing=!0),l=r.listen(o.nativeElement,"compositionend",()=>this.composing=!1);this.unsubscribeEvents=()=>{a(),l()}})}set value(e){this.accessor.writeValue(e)}set disabled(e){this.accessor.setDisabledState(e)}ngAfterViewInit(){this.addAriaAttributes(),this.accessor.registerOnChange(e=>this.filterDelay>0?this.changeRequests.next(e):this.change.emit(e)),this.subscribeChanges()}ngOnChanges(e){Dt("filterDelay",e)&&(this.unsubscribeChanges(),this.subscribeChanges())}ngOnDestroy(){this.unsubscribeChanges(),this.unsubscribeEvents()}subscribeChanges(){this.changeRequestsSubscription=this.changeRequests.pipe(kv(this.filterDelay),z(()=>!this.composing)).subscribe(e=>this.change.emit(e))}unsubscribeChanges(){this.changeRequestsSubscription&&this.changeRequestsSubscription.unsubscribe()}addAriaAttributes(){const e=this.columnLabel;if(this.kendoInput&&this.kendoInput.focusableId&&ne()){const n=this.element.nativeElement.querySelector(`#${this.kendoInput.focusableId}`)||this.element.nativeElement;this.renderer.setAttribute(n,"aria-label",e)}else{const n=this.element.nativeElement.querySelector(".k-input-inner");e&&this.renderer.setAttribute(n||this.element.nativeElement,"aria-label",e)}}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Yn,2),t.rXU(t.SKi),t.rXU(t.aKT),t.rXU(t.sFG))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoFilterInput",""]],contentQueries:function(e,n,o){if(1&e&&t.wni(o,as,7),2&e){let r;t.mGM(r=t.lsd())&&(n.kendoInput=r.first)}},inputs:{filterDelay:"filterDelay",columnLabel:"columnLabel",value:"value"},features:[t.OA$]}),s})();const zwt=new Set(["isnull","isnotnull","isempty","isnotempty"]),aB=s=>zwt.has(s);let TOe=(()=>{class s extends pD{constructor(e){super(e)}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){const e=this.currentFilter;return this._operator||(this._operator=e?e.operator:this.defaultOperator),this._operator}set currentOperator(e){this._operator=e;const n=aB(e);this.filterInputDisabled=n,n?this.applyNoValueFilter(e):!LA(e)&&Re(this.currentFilter)&&this.onChange(this.currentFilter.value)}get defaultOperator(){return ar(this._defaultOperator)?this.operators&&this.operators.length?this.operators[0].value:"eq":this._defaultOperator}set defaultOperator(e){this._defaultOperator=e}set filterInputDisabled(e){this.input&&(this.input.disabled=e)}ngAfterContentInit(){Re(this.input)&&(this.changeSubscription=this.input.change.subscribe(this.onChange.bind(this)),this.filterInputDisabled=aB(this.currentOperator))}ngOnDestroy(){super.ngOnDestroy(),this.changeSubscription&&this.changeSubscription.unsubscribe()}onChange(e){(!ar(e)||this.filterByField(this.column.field))&&this.filterChange(ar(e)?this.removeFilter(this.column.field):this.updateFilter({field:this.column.field,operator:this.currentOperator,value:e}))}onClear(){this.onChange(null),this.filterInputDisabled=aB(this.defaultOperator)}applyNoValueFilter(e){this.filterChange(this.updateFilter({field:this.column.field,operator:e,value:null}))}ngOnChanges(e){Dt("filter",e,!1)&&(this._operator=null,this.filterInputDisabled=aB(this.currentOperator))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Oa))},s.\u0275dir=t.FsC({type:s,contentQueries:function(e,n,o){if(1&e&&t.wni(o,fm,5),2&e){let r;t.mGM(r=t.lsd())&&(n.input=r.first)}},inputs:{column:"column",filter:"filter",defaultOperator:"defaultOperator"},features:[t.Vt3,t.OA$]}),s})(),fD=(()=>{class s{constructor(e){this.host=e,this.keydownHandler=n=>{n.keyCode===F.Escape&&this.host.isOpen&&(n.stopPropagation(),this.host.toggle(!1))}}ngAfterViewInit(){const e=this.host.wrapper.nativeElement;e.setAttribute("aria-label",this.filterMenuDropDownLabel),e.addEventListener("keydown",this.keydownHandler,!0)}ngOnDestroy(){this.host.wrapper.nativeElement.removeEventListener("keydown",this.keydownHandler)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(io))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoFilterMenuDropDown",""]],inputs:{filterMenuDropDownLabel:"filterMenuDropDownLabel"}}),s})(),lB=(()=>{class s extends TOe{constructor(e){super(null),this.ctx=e}get hostClasses(){return!1}ngAfterViewInit(){const e=this.isFirstDropDown&&this.filterService&&this.filterService.menuTabbingService,n=this.menuTabbingService?.isTabbedInterface;e&&!n&&(this.filterService.menuTabbingService.firstFocusable=this.firstOperatorDropDown,this.firstOperatorDropDown.focus())}operatorChange(e){this.currentOperator=e}filterChange(e){this.applyFilter(e)}get currentFilter(){return this._currentFilter}set currentFilter(e){this._currentFilter=e}updateFilter(e){return Object.assign(this.currentFilter,e),this.filter}onChange(e){this.filterChange(this.updateFilter({field:this.column.field,operator:this.currentOperator,value:e}))}onShiftTab(e){e.stopImmediatePropagation(),(!this.menuTabbingService||!this.menuTabbingService.isColumnMenu)&&this.isFirstDropDown&&this.filterService.menuTabbingService.lastFocusable&&(e.preventDefault(),this.filterService.menuTabbingService.lastFocusable.focus())}get filterMenuDropDownLabel(){const e=this.ctx.localization.get("filterMenuOperatorsDropDownLabel")||"";return wa(e,"columnName",this.column?this.column.title||this.column.field:"")}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-filter-menu-input-wrapper"]],viewQuery:function(e,n){if(1&e&&t.GBs(io,5),2&e){let o;t.mGM(o=t.lsd())&&(n.firstOperatorDropDown=o.first)}},inputs:{filterService:"filterService",isFirstDropDown:"isFirstDropDown",menuTabbingService:"menuTabbingService",currentFilter:"currentFilter"},features:[t.Vt3],ngContentSelectors:lm,decls:2,vars:4,consts:[["kendoFilterMenuDropDown","","textField","text","valueField","value",3,"valueChange","keydown.shift.tab","filterMenuDropDownLabel","data","value","valuePrimitive"]],template:function(e,n){1&e&&(t.NAR(),t.j41(0,"kendo-dropdownlist",0),t.bIt("valueChange",function(r){return n.operatorChange(r)})("keydown.shift.tab",function(r){return n.onShiftTab(r)}),t.k0s(),t.SdG(1)),2&e&&t.Y8G("filterMenuDropDownLabel",n.filterMenuDropDownLabel)("data",n.operators)("value",n.currentOperator)("valuePrimitive",!0)},dependencies:[io,fD],encapsulation:2}),s})(),MOe=(()=>{class s{constructor(e){this.ctx=e,this.operators=[]}get columnLabel(){const e=this.ctx.localization.get("filterInputLabel")||"";return wa(e,"columnName",this.column?this.column.title||this.column.field:"")}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-string-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",isFirstDropDown:"isFirstDropDown",menuTabbingService:"menuTabbingService"},decls:2,vars:11,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService","isFirstDropDown","menuTabbingService"],["kendoTextBox","","kendoFilterInput","",3,"columnLabel","filterDelay","ngModel"]],template:function(e,n){1&e&&(t.j41(0,"kendo-grid-filter-menu-input-wrapper",0),t.nrm(1,"input",1),t.k0s()),2&e&&(t.Y8G("column",n.column)("filter",n.filter)("operators",n.operators)("defaultOperator",n.operator)("currentFilter",n.currentFilter)("filterService",n.filterService)("isFirstDropDown",n.isFirstDropDown)("menuTabbingService",n.menuTabbingService),t.R7$(),t.Y8G("columnLabel",n.columnLabel)("filterDelay",0)("ngModel",null==n.currentFilter?null:n.currentFilter.value))},dependencies:[lB,hSe,jo,fm,Un,mi],encapsulation:2}),s})(),QA=(()=>{class s extends OOe{constructor(e){super(null,e),this.logicOperators=hD(this.ctx.localization),this.filter={filters:[],logic:"and"},this.extra=!0}get hostClasses(){return!1}get firstFilter(){return uD(0,this.filter,(this.column||{}).field,this.operator)}get secondFilter(){return uD(1,this.filter,(this.column||{}).field,this.operator)}logicChange(e){this.filter.logic=e}get filterMenuDropDownLabel(){const e=this.ctx.localization.get("filterMenuLogicDropDownLabel")||"";return wa(e,"columnName",this.column?this.column.title||this.column.field:"")}localizationChange(){this.logicOperators=hD(this.ctx.localization),super.localizationChange()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-string-filter-menu"]],hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-filtercell",n.hostClasses)},inputs:{column:"column",filter:"filter",extra:"extra",filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[t.Vt3],decls:3,vars:9,consts:[[3,"currentFilter","operators","filterService","column","filter","isFirstDropDown","menuTabbingService"],["kendoFilterMenuDropDown","","class","k-filter-and","textField","text","valueField","value",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","menuTabbingService",4,"ngIf"],["kendoFilterMenuDropDown","","textField","text","valueField","value",1,"k-filter-and",3,"valueChange","filterMenuDropDownLabel","data","valuePrimitive","value"],[3,"operators","currentFilter","filterService","column","filter","menuTabbingService"]],template:function(e,n){1&e&&(t.nrm(0,"kendo-grid-string-filter-menu-input",0),t.DNE(1,lCt,1,4,"kendo-dropdownlist",1)(2,cCt,1,6,"kendo-grid-string-filter-menu-input",2)),2&e&&(t.Y8G("currentFilter",n.firstFilter)("operators",n.operators)("filterService",n.filterService)("column",n.column)("filter",n.filter)("isFirstDropDown",!0)("menuTabbingService",n.menuTabbingService),t.R7$(),t.Y8G("ngIf",n.extra),t.R7$(),t.Y8G("ngIf",n.extra))},dependencies:[MOe,io,W,fD],encapsulation:2}),s})();const IOe=rB({filterEqOperator:"eq",filterNotEqOperator:"neq",filterGteOperator:"gte",filterGtOperator:"gt",filterLteOperator:"lte",filterLtOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull"});let xOe=(()=>{class s extends pD{constructor(e,n){super(e),this.ctx=n,this.operator="eq",this.step=1,this.spinners=!0,this.defaultOperators=IOe(this.ctx.localization)}get format(){return ar(this._format)?this.columnFormat:this._format}set format(e){this._format=e}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}get columnFormat(){return this.column&&!ar(this.column.format)?Ute(this.column.format):"n2"}ngOnInit(){this.subscription=this.ctx.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.defaultOperators=IOe(this.ctx.localization),this.operatorList.length&&(this.operators=oB(this.operatorList.toArray()))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Oa),t.rXU(Be))},s.\u0275dir=t.FsC({type:s,inputs:{column:"column",filter:"filter",operator:"operator",step:"step",min:"min",max:"max",spinners:"spinners",decimals:"decimals",format:"format"},features:[t.Vt3]}),s})(),AOe=(()=>{class s{constructor(e){this.ctx=e,this.operators=[],this.step=1,this.spinners=!0}messageFor(e){return this.ctx.localization.get(e)}get columnLabel(){const e=this.ctx.localization.get("filterInputLabel")||"";return wa(e,"columnName",this.column?this.column.title||this.column.field:"")}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-numeric-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",filterDelay:"filterDelay",isFirstDropDown:"isFirstDropDown",menuTabbingService:"menuTabbingService",step:"step",min:"min",max:"max",spinners:"spinners",decimals:"decimals",format:"format"},decls:3,vars:20,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService","isFirstDropDown","menuTabbingService"],["kendoFilterInput","",3,"columnLabel","filterDelay","autoCorrect","value","format","decimals","spinners","min","max","step"],[3,"increment","decrement"]],template:function(e,n){1&e&&(t.j41(0,"kendo-grid-filter-menu-input-wrapper",0)(1,"kendo-numerictextbox",1),t.nrm(2,"kendo-numerictextbox-messages",2),t.k0s()()),2&e&&(t.Y8G("column",n.column)("filter",n.filter)("operators",n.operators)("defaultOperator",n.operator)("currentFilter",n.currentFilter)("filterService",n.filterService)("isFirstDropDown",n.isFirstDropDown)("menuTabbingService",n.menuTabbingService),t.R7$(),t.Y8G("columnLabel",n.columnLabel)("filterDelay",n.filterDelay)("autoCorrect",!0)("value",null==n.currentFilter?null:n.currentFilter.value)("format",n.format)("decimals",n.decimals)("spinners",n.spinners)("min",n.min)("max",n.max)("step",n.step),t.R7$(),t.Y8G("increment",n.messageFor("filterNumericIncrement"))("decrement",n.messageFor("filterNumericDecrement")))},dependencies:[lB,$c,_x,fm],encapsulation:2}),s})(),cB=(()=>{class s extends xOe{constructor(e){super(null,e),this.logicOperators=hD(this.ctx.localization),this.filter={filters:[],logic:"and"},this.extra=!0,this.filterDelay=500}get hostClasses(){return!1}get firstFilter(){return uD(0,this.filter,(this.column||{}).field,this.operator)}get secondFilter(){return uD(1,this.filter,(this.column||{}).field,this.operator)}logicChange(e){this.filter.logic=e}get filterMenuDropDownLabel(){const e=this.ctx.localization.get("filterMenuLogicDropDownLabel")||"";return wa(e,"columnName",this.column?this.column.title||this.column.field:"")}localizationChange(){this.logicOperators=hD(this.ctx.localization),super.localizationChange()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-numeric-filter-menu"]],hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-filtercell",n.hostClasses)},inputs:{column:"column",filter:"filter",extra:"extra",filterService:"filterService",filterDelay:"filterDelay",menuTabbingService:"menuTabbingService"},features:[t.Vt3],decls:3,vars:16,consts:[[3,"currentFilter","operators","filterService","column","filter","filterDelay","format","decimals","spinners","min","max","step","menuTabbingService","isFirstDropDown"],["kendoFilterMenuDropDown","","class","k-filter-and","textField","text","valueField","value",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","format","decimals","spinners","min","max","step","menuTabbingService",4,"ngIf"],["kendoFilterMenuDropDown","","textField","text","valueField","value",1,"k-filter-and",3,"valueChange","filterMenuDropDownLabel","data","valuePrimitive","value"],[3,"operators","currentFilter","filterService","column","filter","format","decimals","spinners","min","max","step","menuTabbingService"]],template:function(e,n){1&e&&(t.nrm(0,"kendo-grid-numeric-filter-menu-input",0),t.DNE(1,dCt,1,4,"kendo-dropdownlist",1)(2,uCt,1,12,"kendo-grid-numeric-filter-menu-input",2)),2&e&&(t.Y8G("currentFilter",n.firstFilter)("operators",n.operators)("filterService",n.filterService)("column",n.column)("filter",n.filter)("filterDelay",n.filterDelay)("format",n.format)("decimals",n.decimals)("spinners",n.spinners)("min",n.min)("max",n.max)("step",n.step)("menuTabbingService",n.menuTabbingService)("isFirstDropDown",!0),t.R7$(),t.Y8G("ngIf",n.extra),t.R7$(),t.Y8G("ngIf",n.extra))},dependencies:[AOe,io,W,fD],encapsulation:2}),s})();const ROe=rB({filterEqOperator:"eq",filterNotEqOperator:"neq",filterAfterOrEqualOperator:"gte",filterAfterOperator:"gt",filterBeforeOrEqualOperator:"lte",filterBeforeOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull"});let NOe=(()=>{class s extends pD{constructor(e,n){super(e),this.ctx=n,this.operator="gte",this.activeView="month",this.bottomView="month",this.topView="century",this.weekNumber=!1,this.defaultOperators=ROe(this.ctx.localization)}get currentFilter(){return this.filterByField(this.column.field)}set format(e){this._format=e}get format(){return ar(this._format)?this.columnFormat:this._format}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}get columnFormat(){return this.column&&!ar(this.column.format)?Ute(this.column.format):"d"}ngOnInit(){this.subscription=this.ctx.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.defaultOperators=ROe(this.ctx.localization),this.operatorList.length&&(this.operators=oB(this.operatorList.toArray()))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Oa),t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-date-filter-base"]],inputs:{column:"column",filter:"filter",operator:"operator",format:"format",min:"min",max:"max",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber"},features:[t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),LOe=(()=>{class s{constructor(e,n){this.popupService=e,this.ctx=n,this.operators=[]}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}open(e){this.subscription=this.popupService.onClose.pipe(z(()=>e.isActive)).subscribe(n=>n.preventDefault())}messageFor(e){return this.ctx.localization.get(e)}get columnLabel(){const e=this.ctx.localization.get("filterInputLabel")||"";return wa(e,"columnName",this.column?this.column.title||this.column.field:"")}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(YA),t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-date-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",menuTabbingService:"menuTabbingService",format:"format",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",min:"min",max:"max",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber",isFirstDropDown:"isFirstDropDown"},decls:4,vars:22,consts:[["picker",""],[3,"column","filter","operators","defaultOperator","currentFilter","filterService","isFirstDropDown","menuTabbingService"],["kendoFilterInput","",3,"open","columnLabel","filterDelay","value","placeholder","formatPlaceholder","format","min","max","activeView","bottomView","topView","weekNumber"],[3,"toggle","today"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"kendo-grid-filter-menu-input-wrapper",1)(1,"kendo-datepicker",2,0),t.bIt("open",function(){t.eBV(o);const a=t.sdS(2);return t.Njj(n.open(a))}),t.nrm(3,"kendo-datepicker-messages",3),t.k0s()()}2&e&&(t.Y8G("column",n.column)("filter",n.filter)("operators",n.operators)("defaultOperator",n.operator)("currentFilter",n.currentFilter)("filterService",n.filterService)("isFirstDropDown",n.isFirstDropDown)("menuTabbingService",n.menuTabbingService),t.R7$(),t.Y8G("columnLabel",n.columnLabel)("filterDelay",0)("value",null==n.currentFilter?null:n.currentFilter.value)("placeholder",n.placeholder)("formatPlaceholder",n.formatPlaceholder)("format",n.format)("min",n.min)("max",n.max)("activeView",n.activeView)("bottomView",n.bottomView)("topView",n.topView)("weekNumber",n.weekNumber),t.R7$(2),t.Y8G("toggle",n.messageFor("filterDateToggle"))("today",n.messageFor("filterDateToday")))},dependencies:[lB,rp,wU,fm],encapsulation:2}),s})(),dB=(()=>{class s extends NOe{constructor(e){super(null,e),this.logicOperators=hD(this.ctx.localization),this.filter={filters:[],logic:"and"},this.extra=!0}get hostClasses(){return!1}get firstFilter(){return uD(0,this.filter,(this.column||{}).field,this.operator)}get secondFilter(){return uD(1,this.filter,(this.column||{}).field,this.operator)}logicChange(e){this.filter.logic=e}get filterMenuDropDownLabel(){const e=this.ctx.localization.get("filterMenuLogicDropDownLabel")||"";return wa(e,"columnName",this.column?this.column.title||this.column.field:"")}localizationChange(){this.logicOperators=hD(this.ctx.localization),super.localizationChange()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-date-filter-menu"]],hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-filtercell",n.hostClasses)},inputs:{column:"column",filter:"filter",extra:"extra",filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[t.Vt3],decls:3,vars:18,consts:[[3,"currentFilter","operators","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber","isFirstDropDown","menuTabbingService"],["kendoFilterMenuDropDown","","class","k-filter-and","textField","text","valueField","value",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber","menuTabbingService",4,"ngIf"],["kendoFilterMenuDropDown","","textField","text","valueField","value",1,"k-filter-and",3,"valueChange","filterMenuDropDownLabel","data","valuePrimitive","value"],[3,"operators","currentFilter","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber","menuTabbingService"]],template:function(e,n){1&e&&(t.nrm(0,"kendo-grid-date-filter-menu-input",0),t.DNE(1,hCt,1,4,"kendo-dropdownlist",1)(2,pCt,1,15,"kendo-grid-date-filter-menu-input",2)),2&e&&(t.Y8G("currentFilter",n.firstFilter)("operators",n.operators)("filterService",n.filterService)("column",n.column)("filter",n.filter)("activeView",n.activeView)("bottomView",n.bottomView)("topView",n.topView)("format",n.format)("formatPlaceholder",n.formatPlaceholder)("placeholder",n.placeholder)("min",n.min)("max",n.max)("weekNumber",n.weekNumber)("isFirstDropDown",!0)("menuTabbingService",n.menuTabbingService),t.R7$(),t.Y8G("ngIf",n.extra),t.R7$(),t.Y8G("ngIf",n.extra))},dependencies:[LOe,io,W,fD],encapsulation:2}),s})(),GOe=(()=>{class s extends pD{constructor(e,n){super(e),this.ctx=n,this.operator="eq",this.items=[{text:this.ctx.localization.get("filterIsTrue"),value:!0},{text:this.ctx.localization.get("filterIsFalse"),value:!1}],this.defaultItem={text:this.ctx.localization.get("filterBooleanAll"),value:null}}get hostClasses(){return!0}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}ngOnInit(){this.subscription=this.ctx.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.items=[{text:this.ctx.localization.get("filterIsTrue"),value:!0},{text:this.ctx.localization.get("filterIsFalse"),value:!1}],this.defaultItem={text:this.ctx.localization.get("filterBooleanAll"),value:null}}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Oa),t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-boolean-filter-base"]],hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-filtercell-boolean",n.hostClasses)},inputs:{column:"column",filter:"filter"},features:[t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),uB=(()=>{class s{constructor(e,n){this.hostElement=e,this.renderer=n}ngAfterViewInit(){this.radioButtonEl=this.hostElement.nativeElement,this.renderer.setAttribute(this.hostElement.nativeElement,"aria-label",this.columnLabel)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoFilterMenuRadioButton",""]],inputs:{columnLabel:"columnLabel"}}),s})(),hB=(()=>{class s extends GOe{constructor(e){super(null,e),this.filter={filters:[],logic:"and"},this.idPrefix=rn()}get hostClasses(){return!1}ngAfterViewInit(){this.filterService.menuTabbingService.firstFocusable=this.radioButtons.first.radioButtonEl,this.menuTabbingService?.isTabbedInterface||this.radioButtons.first.radioButtonEl.focus()}radioId(e){return`${this.idPrefix}_${e}`}onChange(e,n){this.applyFilter(this.updateFilter({field:this.column.field,operator:"eq",value:e})),this.filterService.menuTabbingService.firstFocusable=n}isSelected(e){return this.filtersByField(this.column.field).some(({value:n})=>n===e)}onShiftTab(e){(!this.menuTabbingService||!this.menuTabbingService.isColumnMenu)&&this.filterService.menuTabbingService.lastFocusable&&(e.preventDefault(),this.filterService.menuTabbingService.lastFocusable.focus())}get columnLabel(){const e=this.ctx.localization.get("filterInputLabel")||"";return wa(e,"columnName",this.column.title||this.column.field)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-boolean-filter-menu"]],viewQuery:function(e,n){if(1&e&&t.GBs(uB,5),2&e){let o;t.mGM(o=t.lsd())&&(n.radioButtons=o)}},hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-filtercell",n.hostClasses)},inputs:{filter:"filter",filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[t.Vt3],decls:2,vars:1,consts:[["input",""],[1,"k-radio-list","k-reset"],[4,"ngFor","ngForOf"],["type","radio","kendoFilterMenuRadioButton","","kendoRadioButton","",3,"change","keydown.shift.tab","columnLabel","name","checked"],[1,"k-radio-label"]],template:function(e,n){1&e&&(t.j41(0,"ul",1),t.DNE(1,fCt,5,6,"li",2),t.k0s()),2&e&&(t.R7$(),t.Y8G("ngForOf",n.items))},dependencies:[st,sZe,uB],encapsulation:2}),s})(),POe=(()=>{class s extends DOe{constructor(e,n){super(e,n)}componentType(){return Re(this.column)&&!ar(this.column.filter)?(s=>({boolean:hB,date:dB,numeric:cB,text:QA}[this.column.filter]))():QA}initComponent(e){super.initComponent(e),this.component.instance.filterService=this.filterService,this.component.instance.menuTabbingService=this.menuTabbingService}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.c1b),t.rXU(t.OM3))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoFilterMenuHost",""]],inputs:{filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[t.Vt3]}),s})();const FOe=({value:s,operator:i})=>!ar(s)||(s=>"isnull"===s||"isnotnull"===s||"isempty"===s||"isnotempty"===s)(i),UOe=(s,i,e)=>s.reduce((n,o)=>n||(o.filters?UOe(o.filters,i,o):o.field===i?e:n),void 0),Xwt=(s,i,e="and")=>{const n=UOe((s||{}).filters||[],i);return Re(n)?n.logic:e};let pB=(()=>{class s{constructor(e,n,o,r,a){this.parentService=e,this.childService=n,this.ctx=o,this.cd=r,this.close=new t.bkB,this.actionsClass="k-actions k-actions-stretched k-actions-horizontal",this._templateContext={},this.menuTabbingService=a}set filter(e){this._filter=qA(e)}get filter(){return this._filter}get childFilter(){return Re(this._childFilter)||(this._childFilter={filters:JA(this.filter,(this.column||{}).field),logic:Xwt(this.filter,(this.column||{}).field)}),this._childFilter}ngOnInit(){this.subscription=this.childService.changes.subscribe(e=>this._childFilter=e),this.subscription.add(this.ctx.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngAfterViewChecked(){(!this.menuTabbingService.isColumnMenu||this.isLast&&this.isExpanded)&&(this.menuTabbingService.lastFocusable=this.disabled?this.resetButton.nativeElement:this.filterButton.nativeElement)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.menuTabbingService.lastFocusable=void 0}get disabled(){return!this.childFilter.filters.some(FOe)}get templateContext(){return this._templateContext.column=this.column,this._templateContext.filter=this.childFilter,this._templateContext.filterService=this.childService,this._templateContext.$implicit=this.childFilter,this._templateContext}get hasTemplate(){return Re(this.column)&&Re(this.column.filterMenuTemplateRef)}submit(){const e=(s=>(s.filters=s.filters.filter(FOe),s))(this.childFilter);if(e.filters.length){const n=this.filter||{filters:[],logic:"and"};Nne(n,this.column.field),n.filters.push(e),this.parentService.filter(n)}return this.close.emit(),!1}reset(){const e=this.filter||{filters:[],logic:"and"};Nne(e,this.column.field),this.parentService.filter(e),this.close.emit()}onTab(e,n){this.menuTabbingService.firstFocusable&&(!this.menuTabbingService.isColumnMenu||this.isLast)&&(e.preventDefault(),"reset"===n||this.disabled?this.menuTabbingService.firstFocusable.focus():this.resetButton.nativeElement.focus())}get clearText(){return this.ctx.localization.get("filterClearButton")}get filterText(){return this.ctx.localization.get("filterFilterButton")}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Oa,4),t.rXU(Oa),t.rXU(Be),t.rXU(t.gRc),t.rXU(HA))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-filter-menu-container"]],viewQuery:function(e,n){if(1&e&&(t.GBs(yDe,5),t.GBs(mCt,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.resetButton=o.first),t.mGM(o=t.lsd())&&(n.filterButton=o.first)}},inputs:{column:"column",isLast:"isLast",isExpanded:"isExpanded",menuTabbingService:"menuTabbingService",filter:"filter",actionsClass:"actionsClass"},outputs:{close:"close"},features:[t.Jv_([Oa,HA])],decls:12,vars:7,consts:[["filterButton",""],["resetButton",""],[1,"k-filter-menu",3,"submit","reset"],[1,"k-filter-menu-container"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngClass"],["type","submit",1,"k-button","k-button-solid-primary","k-button-solid","k-button-md","k-rounded-md","k-button-rectangle",3,"keydown.tab","disabled"],["type","reset",1,"k-button","k-button-solid-base","k-button-solid","k-button-md","k-rounded-md","k-button-rectangle",3,"keydown.tab"],["kendoFilterMenuHost","",3,"filterService","column","filter","menuTabbingService"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"form",2),t.bIt("submit",function(){return t.eBV(o),t.Njj(n.submit())})("reset",function(){return t.eBV(o),t.Njj(n.reset())}),t.j41(1,"div",3),t.qex(2,4),t.DNE(3,_Ct,2,4,"ng-container",5)(4,SCt,2,1,"ng-container",5),t.bVm(),t.j41(5,"div",6)(6,"button",7,0),t.bIt("keydown.tab",function(a){return t.eBV(o),t.Njj(n.onTab(a,"filter"))}),t.EFF(8),t.k0s(),t.j41(9,"button",8,1),t.bIt("keydown.tab",function(a){return t.eBV(o),t.Njj(n.onTab(a,"reset"))}),t.EFF(11),t.k0s()()()()}2&e&&(t.R7$(2),t.Y8G("ngSwitch",n.hasTemplate),t.R7$(),t.Y8G("ngSwitchCase",!1),t.R7$(),t.Y8G("ngSwitchCase",!0),t.R7$(),t.Y8G("ngClass",n.actionsClass),t.R7$(),t.Y8G("disabled",n.disabled),t.R7$(2),t.JRh(n.filterText),t.R7$(3),t.JRh(n.clearText))},dependencies:[Fi,Pi,Mi,Fa,yd,POe,W,Je,Pe],encapsulation:2}),s})(),Wwt=0,Lne=(()=>{class s{constructor(e,n,o,r,a,l,c){this.filterService=e,this.popupService=n,this.ctx=o,this.navigationService=r,this.renderer=a,this.cdr=l,this.idService=c,this.filterIcon=KC,this.tabIndex="-1"}get hasFilters(){return JA(this.filter,(this.column||{}).field).length>0}get filterLabel(){const e=this.ctx.localization.get("filterMenuTitle")||"";return wa(e,"columnName",this.column.title||this.column.field)}get isNavigable(){return this.navigationService.tableEnabled}toggle(e,n){this.popupRef=this.popupService.open(e,n,this.popupRef);const o=this.isNavigable?e.closest(".k-table-th"):e;if(this.popupRef){this.popupRef.popup.instance.close.pipe(Ye(1)).subscribe(()=>{this.popupRef=null;const a=this.isNavigable?e.closest(".k-table-th"):e;a&&this.renderer.removeAttribute(a,"aria-controls"),a&&this.renderer.setAttribute(a,"aria-expanded","false")});const r=this.popupRef.popupElement.querySelector(".k-grid-filter-popup");if(r){const a=(s=>`${this.idService?.gridId()}-filter-menu-${Wwt++}`)();this.renderer.setAttribute(r,"id",a),this.renderer.setAttribute(r,"role","dialog"),this.renderer.setAttribute(r,"aria-label",this.filterLabel),o&&this.renderer.setAttribute(o,"aria-controls",a),o&&this.renderer.setAttribute(o,"aria-expanded","true")}}else this.navigationService.tableEnabled?this.navigationService.focusCell(0,this.column.leafIndex):this.anchor.nativeElement.focus();return!1}close(){this.popupService.destroy(),this.popupRef=null,this.cdr.markForCheck(),this.navigationService.tableEnabled?this.navigationService.focusCell(0,this.column.leafIndex):this.anchor.nativeElement.focus()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Oa),t.rXU(YA),t.rXU(Be),t.rXU(tl),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(nd,8))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-filter-menu"]],viewQuery:function(e,n){if(1&e&&(t.GBs(Pte,7),t.GBs(kDe,7,t.C4Q)),2&e){let o;t.mGM(o=t.lsd())&&(n.anchor=o.first),t.mGM(o=t.lsd())&&(n.template=o.first)}},inputs:{column:"column",filter:"filter",tabIndex:"tabIndex"},decls:5,vars:7,consts:[["anchor",""],["template",""],["href","#",1,"k-grid-filter-menu","k-grid-header-menu",3,"click","keydown.enter","tabindex"],["name","filter",3,"svgIcon"],[3,"close","keydown.escape","keydown.enter","column","filter"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"a",2,0),t.bIt("click",function(){t.eBV(o);const a=t.sdS(1),l=t.sdS(4);return t.Njj(n.toggle(a,l))})("keydown.enter",function(a){return t.eBV(o),t.Njj(a.stopImmediatePropagation())}),t.nrm(2,"kendo-icon-wrapper",3),t.k0s(),t.DNE(3,CCt,1,2,"ng-template",null,1,t.C5r)}2&e&&(t.AVh("k-active",n.hasFilters),t.Y8G("tabindex",n.tabIndex),t.BMQ("title",n.filterLabel)("aria-haspopup",n.isNavigable?void 0:"dialog")("aria-expanded",!!n.isNavigable&&void 0),t.R7$(2),t.Y8G("svgIcon",n.filterIcon))},dependencies:[Ke,pB],encapsulation:2}),s})(),Gne=(()=>{class s{constructor(e){this.closeMenu=new t.bkB,this.menuTabbingService=e}close(){this.closeMenu.emit()}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(HA))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),lS=(()=>{class s{constructor(){this.hostClass=!0}ngOnInit(){if((0,t.naY)()&&!this.service)throw new Error(UA_serviceInput)}close(){this.service.close()}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-column-menu-item-base"]],hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-columnmenu-item-wrapper",n.hostClass)},inputs:{service:"service"},decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),mD=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridColumnMenuItemContentTemplate",""]]}),s})(),mm=(()=>{class s{constructor(){this.itemClick=new t.bkB,this.expand=new t.bkB,this.collapse=new t.bkB,this.contentState="collapsed"}ngAfterViewInit(){this.contentTemplate&&(this.contentId=`k-${rn()}`)}ngOnChanges(e){e.expanded&&this.updateContentState()}onClick(e){this.itemClick.emit(e),this.contentTemplate&&(this.expanded=!this.expanded,this.updateContentState(),this.expanded?this.expand.emit():this.collapse.emit())}updateContentState(){this.contentState=this.expanded?"expanded":"collapsed"}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-columnmenu-item"]],contentQueries:function(e,n,o){if(1&e&&t.wni(o,mD,5),2&e){let r;t.mGM(r=t.lsd())&&(n.contentTemplate=r.first)}},inputs:{icon:"icon",svgIcon:"svgIcon",text:"text",selected:"selected",disabled:"disabled",expanded:"expanded",service:"service"},outputs:{itemClick:"itemClick",expand:"expand",collapse:"collapse"},features:[t.OA$],decls:4,vars:10,consts:[["role","button",1,"k-columnmenu-item",3,"click","keydown.enter"],[3,"name","svgIcon"],["class","k-columnmenu-item-content",3,"overflow",4,"ngIf"],[1,"k-columnmenu-item-content"],[3,"ngTemplateOutlet"]],template:function(e,n){1&e&&(t.j41(0,"div",0),t.bIt("click",function(r){return n.onClick(r)})("keydown.enter",function(r){return n.onClick(r)}),t.nrm(1,"kendo-icon-wrapper",1),t.EFF(2),t.k0s(),t.DNE(3,bCt,3,5,"div",2)),2&e&&(t.AVh("k-selected",n.selected)("k-disabled",n.disabled),t.BMQ("aria-expanded",n.expanded)("aria-controls",n.expanded?n.contentId:void 0),t.R7$(),t.Y8G("name",n.icon)("svgIcon",n.svgIcon),t.R7$(),t.SpI(" ",n.text," "),t.R7$(),t.Y8G("ngIf",n.contentTemplate))},dependencies:[Ke,W,Je],encapsulation:2,data:{animation:[o_("state",[Od("collapsed",We({display:"none"})),Od("expanded",We({display:"block"})),mo("collapsed => expanded",[We({height:"0px",display:"block"}),hi("100ms ease-in",We({height:"*"}))]),mo("expanded => collapsed",[We({height:"*"}),hi("100ms ease-in",We({height:"0px"}))])])]}}),s})(),fB=(()=>{class s extends lS{constructor(e,n,o){super(),this.ctx=e,this.columnInfoService=n,this.changeDetector=o,this.unlockIcon=WW,this.lockIcon=QG}get text(){return this.ctx.localization.get(this.locked?"unlock":"lock")}get icon(){return this.locked?"unlock":"lock"}get svgIcon(){return this.locked?this.unlockIcon:this.lockIcon}get disabled(){return!this.locked&&this.columnInfoService.unlockedRootCount<2}toggleColumn(){this.toggleHierarchy(!this.locked),this.close(),this.changeDetector.markForCheck()}toggleHierarchy(e){let n=this.service.column;for(;n.parent;)n=n.parent;const o=[n],r=[];for(;o.length;){const a=o.shift();a.locked=e,r.push(a),a.hasChildren&&o.push(...a.childrenArray)}this.columnInfoService.changeLocked(r)}get locked(){return this.service.column.locked}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be),t.rXU(lc),t.rXU(t.gRc))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-columnmenu-lock"]],features:[t.Vt3],decls:1,vars:4,consts:[[3,"itemClick","text","icon","svgIcon","disabled"]],template:function(e,n){1&e&&(t.j41(0,"kendo-grid-columnmenu-item",0),t.bIt("itemClick",function(){return n.toggleColumn()}),t.k0s()),2&e&&t.Y8G("text",n.text)("icon",n.icon)("svgIcon",n.svgIcon)("disabled",n.disabled)},dependencies:[mm],encapsulation:2}),s})(),mB=(()=>{class s extends lS{constructor(e,n,o){super(),this.ctx=e,this.columnInfoService=n,this.changeDetector=o,this.stickIcon=cP,this.unstickIcon=dP}get text(){return this.ctx.localization.get(this.sticky?"unstick":"stick")}get icon(){return this.sticky?"unstick":"stick"}get svgIcon(){return this.sticky?this.unstickIcon:this.stickIcon}get disabled(){return!this.sticky&&this.columnInfoService.unlockedRootCount<2}toggleColumn(){this.toggleHierarchy(!this.sticky),this.close(),this.changeDetector.markForCheck()}toggleHierarchy(e){let n=this.service.column;for(;n.parent;)n=n.parent;const o=[n],r=[];for(;o.length;){const a=o.shift();a.sticky=e,r.push(a),a.hasChildren&&o.push(...a.childrenArray)}this.columnInfoService.changeStuck(r)}get sticky(){return this.service.column.sticky}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be),t.rXU(lc),t.rXU(t.gRc))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-columnmenu-stick"]],features:[t.Vt3],decls:1,vars:4,consts:[[3,"itemClick","text","icon","svgIcon","disabled"]],template:function(e,n){1&e&&(t.j41(0,"kendo-grid-columnmenu-item",0),t.bIt("itemClick",function(){return n.toggleColumn()}),t.k0s()),2&e&&t.Y8G("text",n.text)("icon",n.icon)("svgIcon",n.svgIcon)("disabled",n.disabled)},dependencies:[mm],encapsulation:2}),s})(),_B=(()=>{class s extends lS{constructor(e,n){super(),this.ctx=e,this.hostElement=n,this.expand=new t.bkB,this.collapse=new t.bkB,this.expanded=!1,this.actionsClass="k-actions",this.setColumnPositionIcon=uP,this._isLast=!1}set isLast(e){this.service.menuTabbingService.lastFocusable=this.getLastFocusableItem(),this._isLast=e}get isLast(){return this._isLast}onTab(e,n){this.isLast&&n&&(e.preventDefault(),e.stopImmediatePropagation(),this.service&&this.service.menuTabbingService.firstFocusable.focus())}onCollapse(){this.expanded=!1,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.getLastFocusableItem()),this.collapse.emit()}onExpand(){this.expanded=!0,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.getLastFocusableItem()),this.expand.emit()}getLastFocusableItem(){const e=this.hostElement.nativeElement.querySelectorAll(".k-columnmenu-item");return e[this.expanded?e.length-1:0]}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be),t.rXU(t.aKT))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-columnmenu-position"]],inputs:{expanded:"expanded",showLock:"showLock",showStick:"showStick",isLast:"isLast"},outputs:{expand:"expand",collapse:"collapse"},features:[t.Vt3],decls:2,vars:3,consts:[["icon","set-column-position",3,"keydown.tab","collapse","expand","text","svgIcon","expanded"],["kendoGridColumnMenuItemContentTemplate",""],[3,"service","keydown.tab",4,"ngIf"],[3,"keydown.tab","service"]],template:function(e,n){1&e&&(t.j41(0,"kendo-grid-columnmenu-item",0),t.bIt("keydown.tab",function(r){return n.onTab(r,!n.expanded)})("collapse",function(){return n.onCollapse()})("expand",function(){return n.onExpand()}),t.DNE(1,kCt,2,2,"ng-template",1),t.k0s()),2&e&&t.Y8G("text",n.ctx.localization.get("setColumnPosition"))("svgIcon",n.setColumnPositionIcon)("expanded",n.expanded)},dependencies:[mm,fB,mB,mD,W],encapsulation:2}),s})(),BOe=(()=>{class s{constructor(e){this.renderer=e,this.activeIndex=0}next(){this.toggle(this.activeIndex,!1),this.activeIndex=Math.min(this.activeIndex+1,this.items.length-1),this.toggle(this.activeIndex,!0)}prev(){this.toggle(this.activeIndex,!1),this.activeIndex=Math.max(this.activeIndex-1,0),this.toggle(this.activeIndex,!0)}toggle(e,n){const o=this.items[e]?.host.nativeElement;o&&this.renderer.setAttribute(this.items[e].host.nativeElement,"tabindex",n?"0":"-1"),n&&o&&o.focus()}toggleCheckedState(){this.items[this.activeIndex].host.nativeElement.firstElementChild.click()}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(t.sFG))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),Pne=(()=>{class s{constructor(e,n){this.host=e,this.renderer=n,this.checkedChangeSub=new be.yU}ngAfterViewInit(){this.checkedChangeSub.add(this.renderer.listen(this.host.nativeElement.firstElementChild,"change",e=>{this.kendoColumnMenuChooserItemChecked=e.target.checked}))}ngOnDestroy(){this.checkedChangeSub.unsubscribe()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoColumnMenuChooserItemChecked",""]],hostVars:1,hostBindings:function(e,n){2&e&&t.BMQ("aria-checked",n.kendoColumnMenuChooserItemChecked)},inputs:{kendoColumnMenuChooserItemChecked:"kendoColumnMenuChooserItemChecked"}}),s})(),gB=(()=>{class s{constructor(e,n,o,r){this.element=e,this.ngZone=n,this.renderer=o,this.listNavigationService=r,this.reset=new t.bkB,this.apply=new t.bkB,this.columnChange=new t.bkB,this.autoSync=!0,this.allowHideAll=!1,this.actionsClass="k-actions k-actions-stretched k-actions-horizontal",this.unlockedCount=0,this.domSubscriptions=new be.yU,this.onKeydown=a=>{a.keyCode!==F.Tab&&a.preventDefault(),a.keyCode===F.ArrowDown?this.listNavigationService.next():a.keyCode===F.ArrowUp?this.listNavigationService.prev():a.keyCode===F.Space&&a.target.classList.contains("k-column-list-item")&&this.listNavigationService.toggleCheckedState()}}get className(){return!0}isChecked(e){return e.checked}set columns(e){this._columns=e.filter(n=>!1!==n.includeInChooser),this.allColumns=e,this.updateColumnState()}get columns(){return this._columns}ngOnInit(){this.element&&this.ngZone.runOutsideAngular(()=>{this.domSubscriptions.add(this.renderer.listen(this.element.nativeElement,"click",e=>{const n=e.target.closest(".k-column-list-item");if(n){const o=n.querySelector(".k-checkbox"),r=parseInt(o.getAttribute("data-index"),10);if(e.target===o?n.focus():(e.preventDefault(),o.checked=!o.checked),this.autoSync){const a=this.columns[r],l=!o.checked;!!a.hidden!==l&&this.ngZone.run(()=>{a.hidden=l,this.columnChange.emit([a])})}else this.updateDisabled();r!==this.listNavigationService.activeIndex&&(this.listNavigationService.toggle(this.listNavigationService.activeIndex,!1),this.listNavigationService.activeIndex=r,this.listNavigationService.toggle(r,!0))}})),this.domSubscriptions.add(this.renderer.listen(this.element.nativeElement,"keydown",this.onKeydown))})}ngAfterViewInit(){this.listNavigationService.items=this.options.toArray(),this.listNavigationService.toggle(0,!0),this.updateDisabled()}ngOnChanges(e){this.service&&(e.isLast&&this.isLast&&(this.service.menuTabbingService.lastFocusable=this.applyButton.nativeElement),e.isExpanded&&this.isExpanded&&this.isLast&&this.applyButton&&(this.service.menuTabbingService.lastFocusable=this.applyButton.nativeElement))}ngOnDestroy(){this.domSubscriptions.unsubscribe()}isDisabled(e){return!(this.allowHideAll||this.hasFiltered||e.hidden||this.columns.find(n=>n!==e&&!n.hidden))||this.hasVisibleLocked&&!this.hasUnlockedFiltered&&1===this.unlockedCount&&!e.locked&&!e.hidden}cancelChanges(){this.forEachCheckBox((e,n)=>{e.checked=!this.columns[n].hidden}),this.updateDisabled(),this.reset.emit()}applyChanges(){const e=[];this.forEachCheckBox((n,o)=>{const r=this.columns[o],a=!n.checked;!!r.hidden!==a&&(r.hidden=a,e.push(r))}),this.updateDisabled(),this.apply.emit(e)}onTab(e){this.isLast&&(e.preventDefault(),this.service?this.service.menuTabbingService.firstFocusable.focus():this.listNavigationService.toggle(this.listNavigationService.activeIndex,!0))}forEachCheckBox(e){const n=this.element.nativeElement.getElementsByClassName("k-checkbox"),o=n.length;for(let r=0;r<o;r++)e(n[r],r)}updateDisabled(){if(this.allowHideAll&&!this.hasLocked)return;const e=[];if(this.forEachCheckBox((n,o)=>{n.checked&&e.push({checkbox:n,index:o}),this.setDisabledState(n,!1)}),this.allowHideAll||1!==e.length||this.hasFiltered){if(this.hasLocked&&!this.hasUnlockedFiltered){const n=this.columns,o=e.filter(r=>!n[r.index].locked);1===o.length&&this.setDisabledState(o[0].checkbox,!0)}}else this.setDisabledState(e[0].checkbox,!0)}updateColumnState(){this.hasLocked=this.allColumns.filter(n=>n.locked&&(!n.hidden||!1!==n.includeInChooser)).length>0,this.hasVisibleLocked=this.allColumns.filter(n=>n.locked&&!n.hidden).length>0,this.unlockedCount=this.columns.filter(n=>!n.locked&&!n.hidden).length;const e=this.allColumns.filter(n=>!1===n.includeInChooser&&!n.hidden);e.length?(this.hasFiltered=e.length>0,this.hasUnlockedFiltered=e.filter(n=>!n.locked).length>0):(this.hasFiltered=!1,this.hasUnlockedFiltered=!1)}setDisabledState(e,n){e.disabled=n;const o=e.parentElement,a=n?"setAttribute":"removeAttribute";this.renderer[n?"addClass":"removeClass"](o,"k-disabled"),this.renderer[a](o,"aria-disabled",n?"true":void 0)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(BOe))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-columnlist"]],viewQuery:function(e,n){if(1&e&&(t.GBs(yDe,5),t.GBs(wCt,5),t.GBs(Pne,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.resetButton=o.first),t.mGM(o=t.lsd())&&(n.applyButton=o.first),t.mGM(o=t.lsd())&&(n.options=o)}},hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-column-list-wrapper",n.className)},inputs:{columns:"columns",autoSync:"autoSync",ariaLabel:"ariaLabel",allowHideAll:"allowHideAll",applyText:"applyText",resetText:"resetText",actionsClass:"actionsClass",isLast:"isLast",isExpanded:"isExpanded",service:"service"},outputs:{reset:"reset",apply:"apply",columnChange:"columnChange"},features:[t.Jv_([BOe]),t.OA$],decls:3,vars:3,consts:[["applyButton",""],["resetButton",""],["role","listbox","aria-multiselectable","true",1,"k-column-list"],["class","k-column-list-item","role","option",3,"kendoColumnMenuChooserItemChecked",4,"ngFor","ngForOf"],[3,"ngClass",4,"ngIf"],["role","option",1,"k-column-list-item",3,"kendoColumnMenuChooserItemChecked"],["type","checkbox","tabindex","-1",1,"k-checkbox","k-checkbox-md","k-rounded-md",3,"checked","disabled"],[1,"k-checkbox-label"],[3,"ngClass"],["type","button",1,"k-button","k-button-solid-primary","k-button-solid","k-button-md","k-rounded-md","k-button-rectangle",3,"click","keydown.enter","keydown.space"],["type","button",1,"k-button","k-button-solid-base","k-button-solid","k-button-md","k-rounded-md","k-button-rectangle",3,"keydown.tab","click","keydown.enter","keydown.space"]],template:function(e,n){1&e&&(t.j41(0,"div",2),t.DNE(1,DCt,4,6,"label",3),t.k0s(),t.DNE(2,OCt,7,3,"div",4)),2&e&&(t.BMQ("aria-label",n.ariaLabel),t.R7$(),t.Y8G("ngForOf",n.columns),t.R7$(),t.Y8G("ngIf",!n.autoSync))},dependencies:[st,Pne,W,Pe],encapsulation:2}),s})(),vB=(()=>{class s extends lS{constructor(e,n,o,r){super(),this.ctx=e,this.columnInfoService=n,this.changeDetector=o,this.hostElement=r,this.expand=new t.bkB,this.collapse=new t.bkB,this.expanded=!1,this.isLast=!1,this.actionsClass="k-actions k-actions-stretched k-actions-horizontal",this.columnsIcon=lI}get columns(){return this.columnInfoService.leafNamedColumns}onApply(e){this.close(),e.length&&(this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e))}onCollapse(){this.expanded=!1,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.hostElement.nativeElement.querySelector(".k-columnmenu-item")),this.collapse.emit()}onExpand(){this.expanded=!0,this.expand.emit()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be),t.rXU(lc),t.rXU(t.gRc),t.rXU(t.aKT))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-columnmenu-chooser"]],inputs:{expanded:"expanded",isLast:"isLast"},outputs:{expand:"expand",collapse:"collapse"},features:[t.Vt3],decls:2,vars:3,consts:[["icon","columns",3,"collapse","expand","text","svgIcon","expanded"],["kendoGridColumnMenuItemContentTemplate",""],[3,"apply","applyText","resetText","ariaLabel","columns","autoSync","allowHideAll","actionsClass","isLast","isExpanded","service"]],template:function(e,n){1&e&&(t.j41(0,"kendo-grid-columnmenu-item",0),t.bIt("collapse",function(){return n.onCollapse()})("expand",function(){return n.onExpand()}),t.DNE(1,TCt,1,10,"ng-template",1),t.k0s()),2&e&&t.Y8G("text",n.ctx.localization.get("columns"))("svgIcon",n.columnsIcon)("expanded",n.expanded)},dependencies:[mm,gB,mD],encapsulation:2}),s})(),ZA=(()=>{class s extends lS{constructor(e,n){super(),this.ctx=e,this.hostElement=n,this.expand=new t.bkB,this.collapse=new t.bkB,this.expanded=!1,this.isLast=!1,this.actionsClass="k-actions k-actions-stretched k-actions-horizontal",this.filterIcon=KC}onCollapse(){this.expanded=!1,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.hostElement.nativeElement.querySelector(".k-columnmenu-item")),this.collapse.emit()}onExpand(){this.expanded=!0,this.expand.emit()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be),t.rXU(t.aKT))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-columnmenu-filter"]],inputs:{expanded:"expanded",isLast:"isLast"},outputs:{expand:"expand",collapse:"collapse"},features:[t.Vt3],decls:2,vars:3,consts:[["icon","filter",3,"collapse","expand","text","svgIcon","expanded"],["kendoGridColumnMenuItemContentTemplate",""],[3,"keydown.shift.tab","close","column","menuTabbingService","filter","actionsClass","isLast","isExpanded"]],template:function(e,n){1&e&&(t.j41(0,"kendo-grid-columnmenu-item",0),t.bIt("collapse",function(){return n.onCollapse()})("expand",function(){return n.onExpand()}),t.DNE(1,MCt,1,6,"ng-template",1),t.k0s()),2&e&&t.Y8G("text",n.ctx.localization.get("filter"))("svgIcon",n.filterIcon)("expanded",n.expanded)},dependencies:[mm,pB,mD],encapsulation:2}),s})(),SB=(()=>{class s{constructor(e,n,o){this.hostElement=e,this.renderer=n,this.ngZone=o,this._isFirst=!1,this._isLast=!1,this.subs=new be.yU,this.onTab=r=>{r.keyCode===F.Tab&&(this.isFirst&&r.shiftKey&&r.target===this.columnMenuItems[0]&&(r.preventDefault(),this.menuItemComponent.service.menuTabbingService.lastFocusable.focus()),this.isLast&&!r.shiftKey)&&this.getLastColumnMenuItem()===r.target&&!this.menuItemComponent.expanded&&(r.preventDefault(),this.menuItemComponent.service.menuTabbingService.firstFocusable.focus())}}set isFirst(e){if(e){const n=this.columnMenuItems[0];this.menuItemComponent.service.menuTabbingService.firstFocusable=n,this.ngZone.runOutsideAngular(()=>{const o=this.renderer.listen(n,"keydown",this.onTab);this.subs.add(o)})}this._isFirst=e}get isFirst(){return this._isFirst}set isLast(e){if(this.columnMenuItems){if(e){const n=this.getLastColumnMenuItem();this.menuItemComponent.service.menuTabbingService.lastFocusable=n,this.ngZone.runOutsideAngular(()=>{const o=this.renderer.listen(n,"keydown",this.onTab);this.subs.add(o)}),this.isExpandableItem()&&(this.menuItemComponent.isLast=!0)}this._isLast=e}}get isLast(){return this._isLast}ngAfterViewInit(){this.columnMenuItems=this.hostElement.nativeElement.querySelectorAll(".k-columnmenu-item"),[].slice.apply(this.columnMenuItems).forEach(e=>this.renderer.setAttribute(e,"tabindex","0")),this.menuItemComponent instanceof ZA&&(this.menuItemComponent.service.menuTabbingService.isColumnMenu=!0),this.menuItemComponent.service?.columnMenuContainer.templateMenuItems.push(this)}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}getLastColumnMenuItem(){return 1===this.columnMenuItems.length?this.columnMenuItems[0]:this.columnMenuItems[1]}isExpandableItem(){return this.menuItemComponent instanceof ZA||this.menuItemComponent instanceof vB||this.menuItemComponent instanceof _B}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.SKi))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridColumnMenuItem",""]],inputs:{menuItemComponent:[t.Mj6.None,"kendoGridColumnMenuItem","menuItemComponent"]}}),s})(),Fne=(()=>{class s{constructor(e,n){this.service=e,this.ngZone=n,this.templateMenuItems=[],e.columnMenuContainer=this}ngAfterViewInit(){if(this.columnMenuItems.length)this.columnMenuItems.first.isFirst=!0,this.columnMenuItems.last.isLast=!0;else{if(!this.templateMenuItems.length)return;this.templateMenuItems[0].isFirst=!0,this.templateMenuItems[this.templateMenuItems.length-1].isLast=!0}this.ngZone.onStable.pipe(Ye(1)).subscribe(()=>this.service.menuTabbingService.firstFocusable.focus())}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Gne),t.rXU(t.SKi))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-columnmenu-container"]],contentQueries:function(e,n,o){if(1&e&&t.wni(o,SB,5),2&e){let r;t.mGM(r=t.lsd())&&(n.columnMenuItems=r)}},ngContentSelectors:lm,decls:1,vars:0,template:function(e,n){1&e&&(t.NAR(),t.SdG(0))},encapsulation:2}),s})(),Une=(()=>{class s extends lS{constructor(e,n,o){super(),this.ctx=e,this.sortService=n,this.renderer=o,this.sortAscSmallIcon=G_,this.sortDescSmallIcon=SI}get sortedAsc(){const e=this.descriptor;return e&&(!e.dir||"asc"===e.dir)}get sortedDesc(){const e=this.descriptor;return e&&"desc"===e.dir}toggleSort(e){const n=this.service.column.field,{mode:o,allowUnsort:r}=sB(this.service.sortable),a=this.descriptor,l="multiple"===o?this.service.sort.filter(c=>c.field!==n):[];if(a&&a.dir===e){if(!r)return}else l.push({field:n,dir:e});this.sortService.sort(l),this.close()}get descriptor(){return[].concat(this.service.sort||[]).find(e=>e.field===this.service.column.field)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be),t.rXU(Z7),t.rXU(t.sFG))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-columnmenu-sort"]],features:[t.Vt3],decls:2,vars:6,consts:[["icon","sort-asc-small",3,"itemClick","text","svgIcon","selected"],["icon","sort-desc-small",3,"itemClick","text","svgIcon","selected"]],template:function(e,n){1&e&&(t.j41(0,"kendo-grid-columnmenu-item",0),t.bIt("itemClick",function(){return n.toggleSort("asc")}),t.k0s(),t.j41(1,"kendo-grid-columnmenu-item",1),t.bIt("itemClick",function(){return n.toggleSort("desc")}),t.k0s()),2&e&&(t.Y8G("text",n.ctx.localization.get("sortAscending"))("svgIcon",n.sortAscSmallIcon)("selected",n.sortedAsc),t.R7$(),t.Y8G("text",n.ctx.localization.get("sortDescending"))("svgIcon",n.sortDescSmallIcon)("selected",n.sortedDesc))},dependencies:[mm],encapsulation:2}),s})(),Bne=(()=>{class s extends lS{constructor(e){super(),this.ctx=e,this.maxWidthIcon=MW}ngOnInit(){this.ctx.grid.columnMenuTemplate&&this.ctx.grid.virtualColumns&&(0,t.naY)()&&console.warn(UA_autoSizeColumn)}autoSizeColumn(){EOe(this.ctx.grid,this.service,this.column)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-columnmenu-autosize-column"]],inputs:{column:"column"},features:[t.Vt3],decls:1,vars:1,consts:[["class","k-grid-columnmenu-autosize-column","icon","max-width",3,"text","svgIcon","itemClick",4,"ngIf"],["icon","max-width",1,"k-grid-columnmenu-autosize-column",3,"itemClick","text","svgIcon"]],template:function(e,n){1&e&&t.DNE(0,ICt,1,2,"kendo-grid-columnmenu-item",0),2&e&&t.Y8G("ngIf",!n.ctx.grid.virtualColumns)},dependencies:[mm,W],encapsulation:2}),s})(),Vne=(()=>{class s extends lS{constructor(e){super(),this.ctx=e,this.displayInlineFlexIcon=VG}ngOnInit(){this.ctx.grid.columnMenuTemplate&&this.ctx.grid.virtualColumns&&(0,t.naY)()&&console.warn(UA_autoSizeAllColumns)}autoSizeAllColumns(){EOe(this.ctx.grid,this.service)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-columnmenu-autosize-all-columns"]],features:[t.Vt3],decls:1,vars:1,consts:[["icon","display-inline-flex",3,"text","svgIcon","itemClick",4,"ngIf"],["icon","display-inline-flex",3,"itemClick","text","svgIcon"]],template:function(e,n){1&e&&t.DNE(0,xCt,1,2,"kendo-grid-columnmenu-item",0),2&e&&t.Y8G("ngIf",!n.ctx.grid.virtualColumns)},dependencies:[mm,W],encapsulation:2}),s})(),Jwt=0,CB=(()=>{class s{constructor(e,n,o,r,a,l,c,u){this.navigationService=e,this.popupService=n,this.service=o,this.ctx=r,this.renderer=a,this.cdr=l,this.columnInfoService=c,this.idService=u,this.standalone=!0,this.settings={},this.sortable=!0,this.tabIndex="-1",this.columnsIcon=lI,this.actionsClass="k-actions",this.slidersIcon=VY,this.filterIcon=KC,this.expandedFilter=!1,this.expandedColumns=!1,this.expandedPosition=!1,this.moreVerticalIcon=Nk,this.closeSubscription=o.closeMenu.subscribe(this.close.bind(this,!0))}get showGeneralTab(){return this.hasSort||this.hasLock||this.hasStick||this.hasPosition||this.hasAutoSizeColumn||this.hasAutoSizeAllColumns}get isActive(){return this.hasFilter&&JA(this.filter,this.column.field).length>0||!this.sortable&&this.hasSort&&this.sort.find(e=>e.field===this.column.field)}get hasFilter(){return _Oe(this.settings,this.column)}get isNavigable(){return this.navigationService.tableEnabled}get hasSort(){return gOe(this.settings,this.column)}get hasColumnChooser(){return SOe(this.settings)}onApply(e){this.close(!0),e.length&&(this.cdr.markForCheck(),this.columnInfoService.changeVisibility(e))}get hasAutoSizeColumn(){return COe(this.settings)}get hasAutoSizeAllColumns(){return bOe(this.settings)}get hasLock(){return vOe(this.settings,this.column)}get hasStick(){return((s,i)=>this.settings.stick&&i.stickable&&!(i.parent&&!i.parent.isSpanColumn))(0,this.column)}get hasPosition(){return((s,i)=>this.settings.setColumnPosition&&(i.stickable||i.lockable)&&!(i.parent&&!i.parent.isSpanColumn))(0,this.column)}get columns(){return this.columnInfoService.leafNamedColumns}ngAfterViewInit(){this.ctx.grid.virtualColumns&&(0,t.naY)()&&(this.settings.autoSizeAllColumns&&(this.settings.autoSizeAllColumns=!1,console.warn(UA_autoSizeAllColumns)),this.settings.autoSizeColumn&&(this.settings.autoSizeColumn=!1,console.warn(UA_autoSizeColumn))),this.service.menuTabbingService.isTabbedInterface="tabbed"===this.settings.view}ngOnChanges(){this.service.column=this.column,this.service.sort=this.sort,this.service.filter=this.filter,this.service.sortable=this.sortable}ngOnDestroy(){this.close(),this.closeSubscription.unsubscribe()}toggle(e,n,o){e&&(e.preventDefault(),e.stopImmediatePropagation()),this.expandedFilter=this.getExpandedState(this.settings.filter),this.expandedColumns=this.getExpandedState(this.settings.columnChooser),this.expandedPosition=this.getExpandedState(this.settings.setColumnPosition),this.popupRef=this.popupService.open(n,o,this.popupRef,"k-grid-columnmenu-popup k-column-menu");const r=this.isNavigable?n.closest(".k-table-th"):n;if(this.popupRef){this.popupRef.popup.instance.close.pipe(Ye(1)).subscribe(()=>{this.popupRef=null;const l=this.isNavigable?n.closest(".k-table-th"):n;l&&this.renderer.removeAttribute(l,"aria-controls"),l&&this.renderer.setAttribute(l,"aria-expanded","false")});const a=this.popupRef.popupElement.querySelector(".k-grid-columnmenu-popup");if(a){const l=(s=>`${this.idService?.gridId()}-column-menu-${Jwt++}`)();this.renderer.setAttribute(a,"id",l),this.renderer.setAttribute(a,"role","dialog"),this.renderer.setAttribute(a,"aria-label",this.columnMenuTitle),r&&this.renderer.setAttribute(r,"aria-controls",l),r&&this.renderer.setAttribute(r,"aria-expanded","true")}"tabbed"===this.settings.view&&(this.renderer.addClass(a,"k-column-menu-tabbed"),this.renderer.addClass(a,"k-column-menu"),this.cdr.detectChanges(),this.tabStrip?.selectTab(0))}else this.navigationService.tableEnabled?this.navigationService.focusCell(0,this.column.leafIndex):this.anchor.nativeElement.focus()}close(e=!1){this.popupService.destroy(),this.popupRef=null,this.cdr.markForCheck(),e&&(this.navigationService.tableEnabled?this.navigationService.focusCell(0,this.column.leafIndex):this.anchor.nativeElement.focus())}get columnMenuTitle(){const e=this.ctx.localization.get("columnMenu")||"";return wa(e,"columnName",this.column.title||this.column.field)}getExpandedState(e){return"object"==typeof e&&e.expanded}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(tl),t.rXU(YA),t.rXU(Gne),t.rXU(Be),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(lc),t.rXU(nd,8))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-column-menu"]],viewQuery:function(e,n){if(1&e&&(t.GBs(Pte,7),t.GBs(kDe,7,t.C4Q),t.GBs(bDe,7,t.C4Q),t.GBs(ACt,7,t.C4Q),t.GBs(LU,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.anchor=o.first),t.mGM(o=t.lsd())&&(n.template=o.first),t.mGM(o=t.lsd())&&(n.defaultTemplate=o.first),t.mGM(o=t.lsd())&&(n.tabbedInterfaceTemplate=o.first),t.mGM(o=t.lsd())&&(n.tabStrip=o.first)}},hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-grid-column-menu-standalone",n.standalone)},inputs:{standalone:"standalone",column:"column",settings:"settings",sort:"sort",filter:"filter",sortable:"sortable",columnMenuTemplate:"columnMenuTemplate",tabIndex:"tabIndex"},features:[t.Jv_([Gne,HA]),t.OA$],decls:9,vars:8,consts:[["anchor",""],["template",""],["defaultTemplate",""],["tabbedInterfaceTemplate",""],["sortItem",""],["lockItem",""],["stickItem",""],["positionItem",""],["chooserItem",""],["autoSizeColumnItem",""],["autoSizeAllColumnsItem",""],["filterItem",""],["tabstrip",""],["href","#",1,"k-grid-header-menu","k-grid-column-menu",3,"click","keydown.enter","ngClass","tabindex"],["name","more-vertical",3,"svgIcon"],[3,"keydown.escape","keydown.enter"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"kendoGridColumnMenuItem","service",4,"ngIf"],[3,"showLock","showStick","kendoGridColumnMenuItem","service","expanded",4,"ngIf"],["class","k-separator",3,"borderColor",4,"ngIf"],[3,"kendoGridColumnMenuItem","service","expanded",4,"ngIf"],[3,"service","kendoGridColumnMenuItem","column",4,"ngIf"],[3,"service","kendoGridColumnMenuItem",4,"ngIf"],[3,"kendoGridColumnMenuItem","service"],[3,"showLock","showStick","kendoGridColumnMenuItem","service","expanded"],[1,"k-separator"],[3,"kendoGridColumnMenuItem","service","expanded"],[3,"service","kendoGridColumnMenuItem","column"],[3,"service","kendoGridColumnMenuItem"],[3,"keydown.escape"],[4,"ngIf"],["kendoTabTitle",""],["kendoTabContent",""],["name","filter",3,"svgIcon"],[3,"keydown.shift.tab","close","column","menuTabbingService","filter","actionsClass"],["name","sliders",3,"svgIcon"],["name","columns",3,"svgIcon"],[3,"apply","applyText","resetText","columns","autoSync","allowHideAll","actionsClass","service"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"a",13,0),t.bIt("click",function(a){t.eBV(o);const l=t.sdS(1),c=t.sdS(4);return t.Njj(n.toggle(a,l,c))})("keydown.enter",function(a){return t.eBV(o),t.Njj(a.stopImmediatePropagation())}),t.nrm(2,"kendo-icon-wrapper",14),t.k0s(),t.DNE(3,LCt,2,5,"ng-template",null,1,t.C5r)(5,XCt,11,10,"ng-template",null,2,t.C5r)(7,u0t,5,3,"ng-template",null,3,t.C5r)}2&e&&(t.Y8G("ngClass",t.eq3(6,RCt,n.isActive))("tabindex",n.tabIndex),t.BMQ("title",n.columnMenuTitle)("aria-expanded",!!n.isNavigable&&void 0)("aria-haspopup",n.isNavigable?void 0:"dialog"),t.R7$(2),t.Y8G("svgIcon",n.moreVerticalIcon))},dependencies:[Ke,Fne,Une,fB,mB,_B,vB,Bne,Vne,ZA,LU,RU,pB,gB,Pe,Je,W,SB,AU,xU],encapsulation:2}),s})(),zne=(()=>{class s{constructor(e,n){this.ctx=e,this.sizing=n,this.clearText="Clear",this.filterClearIcon=qW,this.filterSVGIcon=KC,this.size="medium",this.operators=[],this.showOperators=!0,this.valueChange=new t.bkB,this.clear=new t.bkB}get hostClasses(){return!0}onChange(e){this.valueChange.emit(e)}clearClick(){return this.clear.emit(),!1}clearKeydown(e){(e.keyCode===F.Enter||e.keyCode===F.Space)&&this.clear.emit()}dropdownKeydown(e){e.defaultPrevented||e.keyCode===F.Enter&&!this.dropdown.isOpen&&(this.dropdown.toggle(!0),e.preventDefault())}ngOnInit(){this.subs=this.ctx.localization.changes.subscribe(()=>this.clearText=this.ctx.localization.get("filterClearButton")),this.subs.add(this.sizing.changes.subscribe(e=>this.size=e))}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}get columnLabel(){const e=this.ctx.localization.get("filterCellOperatorLabel")||"";return wa(e,"columnName",this.column.title||this.column.field)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be),t.rXU(aS))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-filter-cell-operators"]],viewQuery:function(e,n){if(1&e&&t.GBs(h0t,5),2&e){let o;t.mGM(o=t.lsd())&&(n.dropdown=o.first)}},hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-filtercell-operator",n.hostClasses)},inputs:{operators:"operators",showButton:"showButton",showOperators:"showOperators",value:"value",column:"column"},outputs:{valueChange:"valueChange",clear:"clear"},decls:2,vars:2,consts:[["dropdown",""],["kendoGridFocusable","","class","k-dropdown-operator","icon","filter","textField","text","valueField","value",3,"data","value","svgIcon","valuePrimitive","popupSettings","size","valueChange","keydown",4,"ngIf"],["type","button","kendoButton","","kendoGridFocusable","","icon","filter-clear",3,"svgIcon","title","size","click","keydown",4,"ngIf"],["kendoGridFocusable","","icon","filter","textField","text","valueField","value",1,"k-dropdown-operator",3,"valueChange","keydown","data","value","svgIcon","valuePrimitive","popupSettings","size"],["type","button","kendoButton","","kendoGridFocusable","","icon","filter-clear",3,"click","keydown","svgIcon","title","size"]],template:function(e,n){1&e&&t.DNE(0,p0t,2,8,"kendo-dropdownlist",1)(1,f0t,1,3,"button",2),2&e&&(t.Y8G("ngIf",n.showOperators),t.R7$(),t.Y8G("ngIf",n.showButton))},dependencies:[io,$t,W,rc],encapsulation:2}),s})();const Qwt=["isnull","isnotnull","isempty","isnotempty"];let _D=(()=>{class s extends TOe{constructor(e){super(e),this.showOperators=!0}get hostClasses(){return!0}get overrideBaseClasses(){return!1}get showButton(){const e=this.currentFilter;return Re(e)&&(!ar(e.value)||Qwt.indexOf(String(e.operator))>=0)}filterChange(e){this.applyFilter(e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Oa))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-filter-wrapper-cell"]],hostVars:4,hostBindings:function(e,n){2&e&&t.AVh("k-filtercell-wrapper",n.hostClasses)("k-filtercell",n.overrideBaseClasses)},inputs:{showOperators:"showOperators"},features:[t.Vt3],ngContentSelectors:lm,decls:2,vars:5,consts:[[3,"clear","valueChange","showOperators","column","operators","showButton","value"]],template:function(e,n){1&e&&(t.NAR(),t.SdG(0),t.j41(1,"kendo-grid-filter-cell-operators",0),t.bIt("clear",function(){return n.onClear()}),t.mxI("valueChange",function(r){return t.DH7(n.currentOperator,r)||(n.currentOperator=r),r}),t.k0s()),2&e&&(t.R7$(),t.Y8G("showOperators",n.showOperators)("column",n.column)("operators",n.operators)("showButton",n.showButton),t.R50("value",n.currentOperator))},dependencies:[zne],encapsulation:2}),s})(),eR=(()=>{class s extends OOe{constructor(e,n,o){super(e,n),this.filterDelay=500,this.showOperators=!0,this.subs=o.changes.subscribe(r=>this.size=r)}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}get columnLabel(){const e=this.ctx.localization.get("filterInputLabel")||"";return wa(e,"columnName",this.column.title||this.column.field)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Oa),t.rXU(Be),t.rXU(aS))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-string-filter-cell"]],inputs:{filterDelay:"filterDelay",showOperators:"showOperators"},features:[t.Vt3],decls:2,vars:9,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoTextBox","","kendoGridFocusable","","kendoFilterInput","",3,"size","columnLabel","filterDelay","ngModel"]],template:function(e,n){1&e&&(t.j41(0,"kendo-grid-filter-wrapper-cell",0),t.nrm(1,"kendo-textbox",1),t.k0s()),2&e&&(t.Y8G("column",n.column)("filter",n.filter)("operators",n.operators)("defaultOperator",n.operator)("showOperators",n.showOperators),t.R7$(),t.Y8G("size",n.size)("columnLabel",n.columnLabel)("filterDelay",n.filterDelay)("ngModel",null==n.currentFilter?null:n.currentFilter.value))},dependencies:[_D,Jl,rc,fm,Un,mi],encapsulation:2}),s})(),bB=(()=>{class s extends xOe{constructor(e,n,o){super(e,n),this.ctx=n,this.filterDelay=500,this.showOperators=!0,this.subs=o.changes.subscribe(r=>this.size=r)}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}messageFor(e){return this.ctx.localization.get(e)}get columnLabel(){const e=this.ctx.localization.get("filterInputLabel")||"";return wa(e,"columnName",this.column.title||this.column.field)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Oa),t.rXU(Be),t.rXU(aS))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-numeric-filter-cell"]],inputs:{filterDelay:"filterDelay",showOperators:"showOperators"},features:[t.Vt3],decls:3,vars:18,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoGridFocusable","","kendoFilterInput","",3,"columnLabel","filterDelay","autoCorrect","value","format","decimals","spinners","min","max","size","step"],[3,"increment","decrement"]],template:function(e,n){1&e&&(t.j41(0,"kendo-grid-filter-wrapper-cell",0)(1,"kendo-numerictextbox",1),t.nrm(2,"kendo-numerictextbox-messages",2),t.k0s()()),2&e&&(t.Y8G("column",n.column)("filter",n.filter)("operators",n.operators)("defaultOperator",n.operator)("showOperators",n.showOperators),t.R7$(),t.Y8G("columnLabel",n.columnLabel)("filterDelay",n.filterDelay)("autoCorrect",!0)("value",null==n.currentFilter?null:n.currentFilter.value)("format",n.format)("decimals",n.decimals)("spinners",n.spinners)("min",n.min)("max",n.max)("size",n.size)("step",n.step),t.R7$(),t.Y8G("increment",n.messageFor("filterNumericIncrement"))("decrement",n.messageFor("filterNumericDecrement")))},dependencies:[_D,$c,_x,rc,fm],encapsulation:2}),s})(),EB=(()=>{class s extends GOe{constructor(e,n,o,r){super(e,n),this.cd=o,this.size="medium",this.subs=r.changes.subscribe(a=>this.size=a)}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}localizationChange(){super.localizationChange(),this.cd.markForCheck()}get columnLabel(){const e=this.ctx.localization.get("booleanFilterCellLabel")||"";return wa(e,"columnName",this.column.title||this.column.field)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Oa),t.rXU(Be),t.rXU(t.gRc),t.rXU(aS))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-boolean-filter-cell"]],features:[t.Vt3],decls:2,vars:12,consts:[[3,"column","filter","showOperators","defaultOperator"],["kendoFilterInput","","kendoGridFocusable","","textField","text","valueField","value",3,"size","columnLabel","defaultItem","data","popupSettings","valuePrimitive","value"]],template:function(e,n){1&e&&(t.j41(0,"kendo-grid-filter-wrapper-cell",0),t.nrm(1,"kendo-dropdownlist",1),t.k0s()),2&e&&(t.Y8G("column",n.column)("filter",n.filter)("showOperators",!1)("defaultOperator",n.operator),t.R7$(),t.Y8G("size",n.size)("columnLabel",n.columnLabel)("defaultItem",n.defaultItem)("data",n.items)("popupSettings",t.lJ4(11,wDe))("valuePrimitive",!0)("value",null==n.currentFilter?null:n.currentFilter.value))},dependencies:[_D,io,fm,rc],encapsulation:2}),s})(),yB=(()=>{class s extends NOe{constructor(e,n,o){super(e,n),this.ctx=n,this.showOperators=!0,this.subs=o.changes.subscribe(r=>this.size=r)}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}messageFor(e){return this.ctx.localization.get(e)}get columnLabel(){const e=this.ctx.localization.get("filterInputLabel")||"";return wa(e,"columnName",this.column.title||this.column.field)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Oa),t.rXU(Be),t.rXU(aS))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-date-filter-cell"]],inputs:{showOperators:"showOperators"},features:[t.Vt3],decls:3,vars:19,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoFilterInput","","kendoGridFocusable","",3,"columnLabel","value","format","size","formatPlaceholder","placeholder","activeView","bottomView","topView","min","max","weekNumber"],[3,"toggle","today"]],template:function(e,n){1&e&&(t.j41(0,"kendo-grid-filter-wrapper-cell",0)(1,"kendo-datepicker",1),t.nrm(2,"kendo-datepicker-messages",2),t.k0s()()),2&e&&(t.Y8G("column",n.column)("filter",n.filter)("operators",n.operators)("defaultOperator",n.operator)("showOperators",n.showOperators),t.R7$(),t.Y8G("columnLabel",n.columnLabel)("value",null==n.currentFilter?null:n.currentFilter.value)("format",n.format)("size",n.size)("formatPlaceholder",n.formatPlaceholder)("placeholder",n.placeholder)("activeView",n.activeView)("bottomView",n.bottomView)("topView",n.topView)("min",n.min)("max",n.max)("weekNumber",n.weekNumber),t.R7$(),t.Y8G("toggle",n.messageFor("filterDateToggle"))("today",n.messageFor("filterDateToday")))},dependencies:[_D,rp,wU,fm,rc],encapsulation:2}),s})(),VOe=(()=>{class s extends DOe{constructor(e,n){super(e,n)}componentType(){return ar(this.column.filter)?eR:(s=>({boolean:EB,date:yB,numeric:bB,text:eR}[this.column.filter]))()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.c1b),t.rXU(t.OM3))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoFilterCellHost",""]],features:[t.Vt3]}),s})(),jne=(()=>{class s{constructor(){this.hostRole="gridcell",this.size="medium",this._templateContext={}}get filter(){return this._filter}set filter(e){this._filter=qA(e)}get templateContext(){return this._templateContext.column=this.column,this._templateContext.filter=this.filter,this._templateContext.$implicit=this.filter,this._templateContext}get hasTemplate(){return Re(this.column.filterCellTemplateRef)}get isFilterable(){return Re(this.column)&&!ar(this.column.field)&&this.column.filterable}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoGridFilterCell",""]],hostVars:1,hostBindings:function(e,n){2&e&&t.BMQ("role",n.hostRole)},inputs:{column:"column",filter:"filter",size:"size"},attrs:m0t,decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["kendoFilterCellHost","",3,"column","filter"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&t.DNE(0,C0t,4,3,"ng-container",0),2&e&&t.Y8G("ngIf",n.isFilterable)},dependencies:[W,Fa,yd,VOe,Je],encapsulation:2}),s})(),eDt=0,gD=(()=>{class s{constructor(e,n,o,r,a,l,c,u){this.focusGroup=e,this.element=n,this.columnInfoService=o,this.idService=r,this.navigationService=a,this.renderer=l,this.zone=c,this.cellContext=u,this.logicalSlaveCell=!1,this.colSpan=1,this.rowSpan=1,this.dataRowIndex=-1,this.detailExpandCell=!1,this.uid=function tDt(){return eDt++}()}get id(){if(!this.logicalSlaveCell&&this.columnInfoService.isLocked)return this.idService.cellId(this.logicalRowIndex,this.logicalColIndex)}get ariaColIndex(){if(!this.logicalSlaveCell&&-1!==this.logicalColIndex)return this.logicalColIndex+1}ngOnInit(){this.navigationService.tableEnabled&&(this.navigationChange=this.navigationService.changes.subscribe(e=>this.onNavigationChange(e)))}ngDoCheck(){!this.navigationService.tableEnabled||-1===this.logicalColIndex||(this.cellContext&&(this.cellContext.focusGroup=this.focusGroup),this.registerNoChanges())}ngOnChanges(e){if(!this.navigationService.tableEnabled)return;const n=Object.keys(e);if(1===n.length&&"groupItem"===n[0]||-1===this.logicalColIndex)return;const o=e.logicalColIndex,r=e.logicalRowIndex,a=o&&!o.isFirstChange()?o.previousValue:this.logicalColIndex,l=r&&!r.isFirstChange()?r.previousValue:this.logicalRowIndex;this.navigationService.unregisterCell(a,l,this),this.registerChanges(),this.updateElement()}ngOnDestroy(){this.navigationChange&&this.navigationChange.unsubscribe(),this.navigationService.unregisterCell(this.logicalColIndex,this.logicalRowIndex,this)}onNavigationChange(e){(this.logicalColIndex===e.colIndex&&this.logicalRowIndex===e.rowIndex||this.logicalColIndex===e.prevColIndex&&this.logicalRowIndex===e.prevRowIndex)&&this.updateElement()}updateElement(){const e=this.element.nativeElement;this.renderer.setAttribute(e,"tabIndex",this.isFocusable()&&!this.logicalSlaveCell?"0":"-1"),this.isFocused()?(this.focusGroup.isNavigable()?this.focusGroup.focus():(!this.logicalSlaveCell&&this.navigationService.autoFocusCell(this.logicalColIndex,this.logicalColIndex+this.colSpan-1)&&this.microtask(()=>this.isFocused()&&e.focus()),this.renderer.addClass(e,"k-focus")),this.headerLabelText&&e.removeAttribute("aria-label")):(this.renderer.removeClass(e,"k-focus"),this.headerLabelText&&e.setAttribute("aria-label",this.headerLabelText))}microtask(e){this.zone.runOutsideAngular(()=>Promise.resolve(null).then(e))}registerChanges(){this.logicalSlaveCell||this.navigationService.registerCell(this)}registerNoChanges(){this.logicalSlaveCell||this.navigationService.registerCellOnCurrentRow(this)}isFocusable(){return this.navigationService.isCellFocusable(this)}isFocused(){return this.navigationService.isCellFocused(this)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(cD),t.rXU(t.aKT),t.rXU(lc),t.rXU(nd),t.rXU(tl),t.rXU(t.sFG),t.rXU(t.SKi),t.rXU(gg,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridLogicalCell",""]],hostVars:2,hostBindings:function(e,n){2&e&&t.BMQ("id",n.id)("aria-colindex",n.ariaColIndex)},inputs:{logicalColIndex:"logicalColIndex",logicalRowIndex:"logicalRowIndex",logicalSlaveCell:"logicalSlaveCell",colIndex:"colIndex",colSpan:"colSpan",rowSpan:"rowSpan",groupItem:"groupItem",dataRowIndex:"dataRowIndex",dataItem:"dataItem",detailExpandCell:"detailExpandCell",headerLabelText:"headerLabelText"},features:[t.Jv_([{provide:cD,deps:[oS],useClass:cD}]),t.OA$]}),s})(),Hne=(()=>{class s{constructor(e,n){this.ctx=e,this.columnInfoService=n,this.columns=[],this.groups=[],this.filterRowClass=!0}addStickyStyles(e){return{...e.sticky?this.columnInfoService.stickyColumnsStyles(e):null,...e.filterStyle}}filterLabel(e){const n=this.ctx.localization.get("filterInputLabel")||"";return wa(n,"columnName",e.title||e.field)}getLogicalColIndex(e){const n=this.lockedColumnsCount+e;return this.detailTemplate?.templateRef?n+1:n}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be),t.rXU(lc))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoGridFilterRow",""]],hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-filter-row",n.filterRowClass)},inputs:{columns:"columns",filter:"filter",groups:"groups",detailTemplate:"detailTemplate",logicalRowIndex:"logicalRowIndex",lockedColumnsCount:"lockedColumnsCount"},attrs:b0t,decls:3,vars:3,consts:[["class","k-table-td","role","presentation",3,"k-group-cell",4,"ngFor","ngForOf"],["class","k-table-td","role","presentation",3,"k-hierarchy-cell",4,"ngIf"],["class","k-table-td","kendoGridFilterCell","","kendoGridLogicalCell","",3,"k-grid-header-sticky","ngStyle","ngClass","column","filter","logicalRowIndex","logicalColIndex",4,"ngFor","ngForOf"],["role","presentation",1,"k-table-td"],["kendoGridFilterCell","","kendoGridLogicalCell","",1,"k-table-td",3,"ngStyle","ngClass","column","filter","logicalRowIndex","logicalColIndex"]],template:function(e,n){1&e&&t.DNE(0,E0t,1,2,"td",0)(1,y0t,1,2,"td",1)(2,k0t,1,9,"td",2),2&e&&(t.Y8G("ngForOf",n.groups),t.R7$(),t.Y8G("ngIf",null==n.detailTemplate?null:n.detailTemplate.templateRef),t.R7$(),t.Y8G("ngForOf",n.columns))},dependencies:[jne,st,W,gD,Jn,Pe],encapsulation:2}),s})(),nDt=0,kB=(()=>{class s{constructor(e,n){this.idService=e,this.navigation=n,this.logicalSlaveRow=!1,this.logicalSlaveCellsCount=0,this.dataRowIndex=-1,this.uid=function iDt(){return nDt++}(),this.tableRowClass=!0}get hostRole(){return this.logicalSlaveRow?"presentation":"row"}get ariaRowIndex(){return this.logicalSlaveRow?null:this.logicalRowIndex+1}get rowIndex(){return this.logicalSlaveRow?this.logicalRowIndex+1:null}get ariaOwns(){if(this.logicalSlaveRow||0===this.logicalSlaveCellsCount)return;const e=[];if(this.dataRowIndex<0){let n=this.logicalCellsCount+this.logicalSlaveCellsCount;this.columnsArray.forEach(o=>{o.isSpanColumn&&(n+=o.colspan-1)});for(let o=this.logicalCellsCount;o<n;o++)e.push(this.idService.cellId(this.logicalRowIndex,o))}else{let n=0;this.columnsArray.forEach(o=>{o.isLocked||e.push(this.idService.cellId(this.logicalRowIndex,n)),n+=o.isSpanColumn?o.colspan:1})}return e.join(" ")}ngOnChanges(e){if(!this.navigation.enabled||this.logicalSlaveRow)return;const n=e.logicalRowIndex;if(n||e.logicalSlaveRow){const r=n&&!n.isFirstChange()?n.previousValue:this.logicalRowIndex;this.navigation.unregisterRow(r,this),this.navigation.registerRow(this)}else Zi(["dataRowIndex","dataItem"],e)&&this.navigation.updateRow(this)}ngOnDestroy(){this.navigation.unregisterRow(this.logicalRowIndex,this)}get columnsArray(){return this.totalColumns?.allColumns.toArray()||[]}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(nd),t.rXU(tl))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridLogicalRow",""]],hostVars:6,hostBindings:function(e,n){2&e&&(t.BMQ("role",n.hostRole)("aria-rowindex",n.ariaRowIndex)("data-kendo-grid-row-index",n.rowIndex)("aria-owns",n.ariaOwns),t.AVh("k-table-row",n.tableRowClass))},inputs:{logicalRowIndex:"logicalRowIndex",logicalSlaveRow:"logicalSlaveRow",logicalCellsCount:"logicalCellsCount",logicalSlaveCellsCount:"logicalSlaveCellsCount",dataRowIndex:"dataRowIndex",dataItem:"dataItem",totalColumns:"totalColumns"},features:[t.OA$]}),s})(),tR=(()=>{class s{constructor(e){this.viewContainerRef=e}set templateContext(e){this.removeView(),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))}ngOnDestroy(){this.removeView()}removeView(){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.c1b))},s.\u0275dir=t.FsC({type:s,selectors:[["","templateContext",""]],inputs:{templateContext:"templateContext"}}),s})(),$ne=(()=>{class s{constructor(e,n,o,r){this.selectionService=e,this.el=n,this.renderer=o,this.ngZone=r,this.selectAllChange=new t.bkB,this.type="checkbox",this.stateSet=!1,this.ngZone.runOutsideAngular(()=>{this.destroyClick=this.renderer.listen(this.el.nativeElement,"click",this.onClick.bind(this))})}ngAfterContentChecked(){this.setState()}ngOnChanges(){this.stateSet=!0}ngOnDestroy(){this.destroyClick&&this.destroyClick()}onClick(){const n=!(!(()=>{if(!ne())return;const s=window.navigator.userAgent,i=s.indexOf("MSIE "),e=s.indexOf("Trident/");return i>0||e>0})()||void 0!==this.selectionService.selectAllState)||this.el.nativeElement.checked,o=this.selectionService.options,r=o.enabled&&"multiple"===o.mode,a=ke(this.selectAllChange);(r||a)&&this.ngZone.run(()=>{r&&this.selectionService.updateAll(n),a&&this.selectAllChange.emit(n?"checked":"unchecked")})}setState(){const e=this.stateSet?this.stateToBool():this.selectionService.selectAllState,n=this.el.nativeElement;this.renderer.setProperty(n,"indeterminate",!Re(e)),this.renderer.setProperty(n,"checked",!!Re(e)&&e)}stateToBool(){switch(this.state){case"checked":return!0;case"unchecked":return!1;default:return}}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(lD),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.SKi))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridSelectAllCheckbox",""]],hostVars:1,hostBindings:function(e,n){2&e&&t.BMQ("type",n.type)},inputs:{state:"state"},outputs:{selectAllChange:"selectAllChange"},features:[t.OA$]}),s})();const Xne=s=>s.nativeElement.parentElement.offsetWidth,zOe=s=>pm(s).filter(i=>!i.isColumnGroup),rDt=({originalEvent:s})=>{s.stopPropagation(),s.preventDefault()},jOe=s=>!(!s.parent||!s.parent.isSpanColumn);let HOe=(()=>{class s{constructor(e,n,o,r,a,l,c){this.draggable=e,this.element=n,this.service=o,this.zone=r,this.cdr=a,this.ctx=l,this.columnInfoService=c,this.columns=[],this.subscriptions=new be.yU,this.rtl=!1}get visible(){return this.column.resizable?"block":"none"}get leftStyle(){return td(this.rtl)?0:null}get rightStyle(){return td(this.rtl)?null:0}autoFit(){const e=zOe(this.columns),n=VA([this.column]).filter(r=>td(r.resizable)),o=n.map(r=>{const a=jOe(r),l=!!a&&r.parent.childColumns.last===r,c=((s,i)=>{let e=0,n=0,o=0;for(;e<i.length;){const r=i[e],a=jOe(r);if(r===s)break;n--<=0&&a&&(n=r.parent.childColumns.length-1,o+=n),e++}return e-o})(r,e);return{column:r,headerIndex:this.columnsForLevel(r.level).indexOf(r),index:c,isLastInSpan:l,isParentSpan:a,level:r.level}});n.forEach(r=>r.width=0),this.service.measureColumns(o)}ngOnInit(){LA(this.column.width)&&(this.column.implicitWidth=Xne(this.element));const e=this.service.changes.pipe(z(()=>this.column.resizable),z(n=>Re(n.columns.find(o=>o===this.column))));this.subscriptions.add(e.pipe(z(n=>"start"===n.type)).subscribe(this.initState.bind(this))),this.subscriptions.add(e.pipe(z(n=>"resizeColumn"===n.type)).subscribe(this.resize.bind(this))),this.subscriptions.add(this.service.changes.pipe(z(n=>"start"===n.type),z(this.shouldUpdate.bind(this)),Ye(1)).subscribe(this.initColumnWidth.bind(this))),this.subscriptions.add(this.zone.runOutsideAngular(()=>this.draggable.kendoPress.pipe(x(rDt),x(()=>this.service.start(this.column)),Y((s=>i=>pt(i).pipe(X_(150),zs(s)))(this.draggable.kendoRelease)),Y(((s,i)=>e=>i.kendoDrag.pipe(zs(i.kendoRelease.pipe(x(()=>s.end()))),(0,U.T)(({pageX:n})=>({originalX:e.pageX,pageX:n}))))(this.service,this.draggable))).subscribe(({pageX:n,originalX:o})=>{const a=((s,i)=>s/(this.column.resizeStartWidth||this.column.width)*100)(n-o);this.service.resizeColumns(a)}))),this.subscriptions.add(e.pipe(z(n=>"autoFitComplete"===n.type)).subscribe(this.sizeToFit.bind(this))),this.subscriptions.add(e.pipe(z(n=>"triggerAutoFit"===n.type)).subscribe(this.autoFit.bind(this))),this.subscriptions.add(this.ctx.localization.changes.subscribe(({rtl:n})=>this.rtl=n))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}shouldUpdate(){return!zOe(this.columns).map(e=>e.width).some(LA)}initColumnWidth(){this.column.width=Xne(this.element)}initState(){this.column.resizeStartWidth=Xne(this.element),this.service.resizedColumn({column:this.column,oldWidth:this.column.resizeStartWidth})}resize({deltaPercent:e}){let n=((s,i)=>{const e=i<0?-1:1;return Math.ceil(Math.abs(i)/100*s)*e})(this.column.resizeStartWidth,e);td(this.rtl)&&(n*=-1);let o=Math.max(this.column.resizeStartWidth+n,this.column.minResizableWidth);Re(this.column.maxResizableWidth)&&(o=Math.min(o,this.column.maxResizableWidth));const r=this.getTableDelta(o,n);this.updateWidth(this.column,o),this.service.resizeTable(this.column,r)}sizeToFit({columns:e,widths:n}){const o=e.indexOf(this.column),r=Math.max(...n.map(l=>l[o]))+1,a=r-this.column.resizeStartWidth;this.updateWidth(this.column,r),this.service.resizeTable(this.column,a)}updateWidth(e,n){e.width=n,this.columnInfoService.hiddenColumns.forEach(o=>{LA(o.width)&&Re(o.implicitWidth)&&(o.width=o.implicitWidth)}),this.cdr.markForCheck()}columnsForLevel(e){return vg(this.columns?this.columns.filter(n=>n.level===e):[])}getTableDelta(e,n){const o=this.column.minResizableWidth,r=this.column.maxResizableWidth,a=this.column.resizeStartWidth,l=e>o,c=e<r;return(Re(r)?l&&c:l)?n:e<=o?o-a:a-r}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Nd,1),t.rXU(t.aKT),t.rXU(XA),t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(Be),t.rXU(lc))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridColumnHandle",""]],hostVars:6,hostBindings:function(e,n){1&e&&t.bIt("dblclick",function(){return n.autoFit()}),2&e&&t.xc7("display",n.visible)("left",n.leftStyle)("right",n.rightStyle)},inputs:{columns:"columns",column:"column"}}),s})();const wB=(...s)=>Object.assign.apply(null,[{}].concat(s)),$Oe=(s,i)=>s.parent===i.parent||VDe(i)&&$Oe(s,i.parent),SDt=Bte(({draggable:s})=>["column","columnGroup"].indexOf(s.context.type)>=0,({draggable:s})=>s.context.column.reorderable,({draggable:s})=>!VDe(s.context.column),({draggable:s,target:i})=>s.element.nativeElement!==i.element.nativeElement,({draggable:s,target:i})=>$Oe(s.context.column,i.context.column),GA(({draggable:s})=>!td(s.context.column.locked)&&(({parent:s})=>!td(s))(s.context.column)&&s.context.lastColumn),({draggable:s,target:i})=>!1!==s.context.column.lockable||s.context.column.isLocked===i.context.column.isLocked),CDt=["alt","ctrl","shift","meta"];let XOe=(()=>{class s{constructor(e,n,o,r,a,l,c,u,f,_){this.popupService=e,this.hint=n,this.cue=o,this.reorderService=r,this.idService=a,this.sortService=l,this.columnInfoService=c,this.cd=u,this.contextService=f,this.navigationService=_,this.columns=[],this.groups=[],this.sort=new Array,this.sortable=!1,this.groupable=!1,this.lockedColumnsCount=0,this.resizable=!1,this.reorderable=!1,this.columnMenu=!1,this.totalColumnsCount=0,this.size="medium",this.sortedFields={},this.hostClass=!0,this.dropTargets=new t.rOR,this.sortAscSmallIcon=G_,this.sortDescSmallIcon=SI,this.subscription=new be.yU}get headerClass(){return!this.scrollable}get sortableLabel(){return this.contextService.localization.get("sortable")}get columnMenuSettings(){return this.columnMenu}get unlockedColumnsCount(){return this.totalColumnsCount-this.lockedColumnsCount-this.columns.length}sortColumn(e){this.sortService.sort(e)}getColumnComponent(e){return e}onSortClick(e,n,o){const r=n.target;if(e.headerTemplateRef&&r!==o&&Hte(r,xDe,o))return;const a=this.matchModifier(n),l=this.toggleSort(e,a);this.sortColumn(l)}onHeaderKeydown(e,n){if(n.keyCode===F.ArrowDown&&n.altKey&&this.showFilterMenu){n.preventDefault(),n.stopImmediatePropagation();const c=this.filterMenus.find(u=>u.column===e);return void c.toggle(c.anchor.nativeElement,c.template)}if(n.keyCode===F.ArrowDown&&n.altKey&&this.showColumnMenu(e)){n.preventDefault(),n.stopImmediatePropagation();const c=this.columnMenus.find(u=>u.column===e);return void c.toggle(null,c.anchor.nativeElement,c.template)}const o=n.ctrlKey||n.metaKey;if((n.keyCode===F.Enter||n.keyCode===F.Space)&&o&&this.isGroupable(e))return n.preventDefault(),n.stopImmediatePropagation(),this.groups.some(u=>u.field===e.field)?this.groups=this.groups.filter(u=>u.field!==e.field):this.groups.push({field:e.field}),void this.contextService.grid.groupChange.emit(this.groups);if((n.keyCode===F.ArrowLeft||n.keyCode===F.ArrowRight)&&o&&this.isReorderable(e)){n.preventDefault();const c=this.columnInfoService.leafNamedColumns.length,_=(n.keyCode===F.ArrowLeft?-1:1)*(this.contextService.localization.rtl?-1:1),S=Math.min(Math.max(0,e.leafIndex+_),c-1),b=this.contextService.grid;return b.reorderColumn(e,S,{before:_<0}),void b.columnReorder.emit(new lOe({column:e,newIndex:S,oldIndex:e.leafIndex}))}if(this.sortable&&!n.defaultPrevented&&!1!==e.sortable&&n.keyCode===F.Enter&&Re(e.field)){const c=this.matchModifier(n);this.sortService.sort(this.toggleSort(e,c))}}showSortNumbering(e){const{showIndexes:n}=sB(this.sortable);return n&&this.sort&&this.sort.filter(({dir:o})=>Re(o)).length>1&&this.sortOrder(e.field)>0}sortOrder(e){return this.sort.filter(({dir:n})=>Re(n)).findIndex(n=>n.field===e)+1}sortState(e){if(!this.isSortable(e))return;const n=this.sortDescriptor(e.field);return"asc"===n.dir?"ascending":"desc"===n.dir?"descending":void 0}get isNavigable(){return this.navigationService.tableEnabled}toggleSort(e,n=!0){const{allowUnsort:o,mode:r,initialDirection:a}=sB(this.sortable,e.sortable),l=this.toggleDirection(e.field,o,a);return"single"!==r&&n?[...this.sort.filter(c=>c.field!==e.field),l]:[l]}matchModifier(e){const{multiSortKey:n}=sB(this.sortable);return"none"===n?CDt.every(o=>!e[`${o}Key`]):"ctrl"===n?e.ctrlKey||e.metaKey:e[`${n}Key`]}ngAfterViewInit(){this.subscription.add(L7(this.dropTargets).subscribe(this.attachTargets.bind(this)))}ngDoCheck(){this._leafColumns=vg(this.columns||[]).filter(e=>!aD(e))}ngOnChanges(e){const n=e.sort;n&&!n.isFirstChange()&&n.currentValue.forEach(o=>{this.sortedFields[o.field]=!0})}ngOnInit(){this.subscription.add(this.contextService.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngOnDestroy(){this.targetSubscription&&this.targetSubscription.unsubscribe(),this.popupService&&this.popupService.destroy(),this.subscription.unsubscribe()}selectAllCheckboxId(){return this.idService.selectAllCheckboxId()}get selectAllCheckboxLabel(){return this.contextService.localization.get("selectAllCheckboxLabel")}isFirstOnRow(e,n){const o=r=>r&&(this.columnsForLevel(r.level).indexOf(r)>0||o(r.parent));return 0===n&&!this.groups.length&&!this.detailTemplate&&o(e.parent)}logicalColumnIndex(e){const n=e.leafIndex;return Re(n)?n+(Re(this.detailTemplate)?1:0):-1}get showFilterMenu(){return!this.columnMenu&&(s=>"string"==typeof s&&s.indexOf("menu")>-1)(this.filterable)}get showFilterRow(){return WA(this.filterable)}showColumnMenu(e){return this.columnMenu&&e.columnMenu&&(this.columnMenuTemplate||e.columnMenuTemplates.length||((s,i)=>bOe(s)||SOe(s)||_Oe(s,i)||COe(s)||vOe(s,i)||gOe(s,i))(this.columnMenu,e))}isFilterable(e){return!ar(e.field)&&!0===e.filterable}canDrop(e,n){return this.reorderable&&SDt({draggable:e,target:n})}shouldActivate(e){const n=this.isReorderable(e);return!(!n&&!BA(e))&&(this.isGroupable(e)||n)}isSortable(e){return!ar(e.field)&&td(this.sortable)&&td(e.sortable)}isCheckboxColumn(e){return FDe(e)&&!e.templateRef}trackByIndex(e,n){return e}addStickyStyles(e){const n=this.columnInfoService.stickyColumnsStyles(e);return{...e.headerStyle,...n}}toggleDirection(e,n,o){const r=this.sortDescriptor(e),[a,l]=(s=>"asc"===s?["asc","desc"]:["desc","asc"])(o);let c=a;return r.dir===a?c=l:r.dir===l&&n&&(c=void 0),{dir:c,field:e}}columnsForLevel(e){const n=this.columns?this.columns.filter(o=>o.level===e):[];return ab(vg(n))}isColumnGroupComponent(e){return aD(e)}sortDescriptor(e){return this.sort.find(n=>n.field===e)||{field:e}}get columnLevels(){return new Array((this.totalColumnLevels||0)+1)}get leafColumns(){return this._leafColumns}isReorderable(e){return this.reorderable&&e.reorderable}isGroupable(e){return this.groupable&&BA(e)&&!1!==e.groupable}attachTargets(){this.targetSubscription&&this.targetSubscription.unsubscribe(),this.targetSubscription=new be.yU;const e=Ht(...this.dropTargets.map(r=>r.enter)),n=Ht(...this.dropTargets.map(r=>r.leave)),o=Ht(...this.dropTargets.map(r=>r.drop));this.targetSubscription.add(e.pipe(x(({target:r,draggable:a})=>{if("groupIndicator"===a.context.type)return;const l=td(r.context.column.isLocked),c=td(a.context.column.isLocked);(this.lockedColumnsCount>0||l||c)&&this.hint.toggleLock(l)}),z(({draggable:r,target:a})=>this.canDrop(r,a)),Y(this.trackMove.bind(this,n,o)),(0,U.T)(r=>wB(r,{before:this.calculateBefore(r),changeContainer:r.changeContainer})),(0,U.T)(this.normalizeTarget.bind(this)),x(this.enter.bind(this)),Y(r=>o.pipe((0,U.T)(()=>r),zs(n.pipe(x(this.leave.bind(this))))))).subscribe(this.drop.bind(this)))}normalizeTarget(e){let n=e.target;const o=n.context.column.parent;if(o&&o.isSpanColumn){const r=this.dropTargets.toArray(),a=r.find(u=>u.context.column.parent===o),l=r.indexOf(a);n=r[l+(e.before?0:o.childColumns.length-1)]}return wB(e,{target:n})}trackMove(e,n,o){const r=o.target.context.column,a=this.columnsForLevel(r.level),l=a.indexOf(r),u=o.draggable.context.column.isLocked!==r.isLocked;return u&&(r.locked?l===a.length-1:0===l)?o.draggable.drag.pipe(zs(e),zs(n),(0,U.T)(({mouseEvent:f})=>wB({changeContainer:!0},o,{mouseEvent:f}))):pt(wB({changeContainer:u},o))}calculateBefore({draggable:e,target:n,mouseEvent:o,changeContainer:r=!1}){const a=n.element.nativeElement;let l=!1;if(r){const{left:c}=iOe(a);l=c+a.offsetWidth/2>o.pageX,this.contextService.localization.rtl&&(l=!l)}else l=sOe(e.element.nativeElement,a);return l}enter({target:e,before:n}){this.hint.enable(),this.contextService.localization.rtl&&(n=!n),this.cue.position(oOe(e.element.nativeElement,n))}leave(){this.hint.disable(),this.cue.hide()}drop({draggable:e,target:n,before:o,changeContainer:r}){this.reorderService.reorder({before:o,changeContainer:r,source:e.context.column,target:n.context.column})}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(YA),t.rXU(q7),t.rXU(Q7),t.rXU(gne),t.rXU(nd),t.rXU(Z7),t.rXU(lc),t.rXU(t.gRc),t.rXU(Be),t.rXU(tl))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoGridHeader",""]],viewQuery:function(e,n){if(1&e&&(t.GBs(KA,5),t.GBs(Lne,5),t.GBs(CB,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.dropTargets=o),t.mGM(o=t.lsd())&&(n.filterMenus=o),t.mGM(o=t.lsd())&&(n.columnMenus=o)}},hostVars:4,hostBindings:function(e,n){2&e&&t.AVh("k-grid-header",n.headerClass)("k-table-thead",n.hostClass)},inputs:{totalColumnLevels:"totalColumnLevels",columns:"columns",groups:"groups",detailTemplate:"detailTemplate",scrollable:"scrollable",filterable:"filterable",sort:"sort",filter:"filter",sortable:"sortable",groupable:"groupable",lockedColumnsCount:"lockedColumnsCount",resizable:"resizable",reorderable:"reorderable",columnMenu:"columnMenu",columnMenuTemplate:"columnMenuTemplate",totalColumnsCount:"totalColumnsCount",totalColumns:"totalColumns",tabIndex:"tabIndex",size:"size"},features:[t.OA$],attrs:w0t,decls:3,vars:2,consts:[["link",""],["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","totalColumns",4,"ngFor","ngForOf"],["kendoGridFilterRow","","kendoGridLogicalRow","",3,"columns","filter","groups","detailTemplate","lockedColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","totalColumns",4,"ngIf"],["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","totalColumns"],["class","k-group-cell k-header k-table-th","role","presentation",4,"ngFor","ngForOf"],["class","k-hierarchy-cell k-header k-table-th","role","presentation",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","presentation",1,"k-group-cell","k-header","k-table-th"],["role","presentation",1,"k-hierarchy-cell","k-header","k-table-th"],["kendoGridLogicalCell","","role","columnheader","aria-selected","false","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","","class","k-header k-table-th",3,"logicalRowIndex","logicalColIndex","headerLabelText","colSpan","rowSpan","k-sorted","enableDrag","context","k-filterable","k-first","k-grid-header-sticky","ngClass","ngStyle","keydown",4,"ngIf"],["kendoGridLogicalCell","","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","","class","k-header k-table-th",3,"logicalRowIndex","logicalColIndex","rowSpan","colSpan","headerLabelText","enableDrag","context","k-first","k-filterable","k-grid-content-sticky","ngClass","ngStyle",4,"ngIf"],["kendoGridLogicalCell","","role","columnheader","aria-selected","false","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","",1,"k-header","k-table-th",3,"keydown","logicalRowIndex","logicalColIndex","headerLabelText","colSpan","rowSpan","enableDrag","context","ngClass","ngStyle"],[4,"ngIf"],["kendoGridColumnHandle","","kendoDraggable","","class","k-column-resizer",3,"column","columns",4,"ngIf"],[1,"k-cell-inner"],[1,"k-link"],[3,"templateContext"],[3,"column","filter","tabIndex",4,"ngIf"],[3,"standalone","settings","column","columnMenuTemplate","sort","filter","sortable","tabIndex",4,"ngIf"],[1,"k-column-title"],[3,"column","filter","tabIndex"],[3,"standalone","settings","column","columnMenuTemplate","sort","filter","sortable","tabIndex"],[1,"k-link",3,"click"],[1,"k-sort-icon"],["role","note",3,"name","svgIcon",4,"ngIf"],["class","k-sort-order",4,"ngIf"],["role","note",3,"name","svgIcon"],[1,"k-sort-order"],[1,"k-checkbox-wrap"],["kendoGridSelectAllCheckbox","","kendoGridFocusable","",1,"k-checkbox","k-checkbox-md","k-rounded-md"],["kendoGridColumnHandle","","kendoDraggable","",1,"k-column-resizer",3,"column","columns"],["kendoGridLogicalCell","","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","",1,"k-header","k-table-th",3,"logicalRowIndex","logicalColIndex","rowSpan","colSpan","headerLabelText","enableDrag","context","ngClass","ngStyle"],[3,"standalone","settings","column","columnMenuTemplate",4,"ngIf"],[3,"standalone","settings","column","columnMenuTemplate"],["kendoGridFilterRow","","kendoGridLogicalRow","",3,"columns","filter","groups","detailTemplate","lockedColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","totalColumns"]],template:function(e,n){1&e&&(t.qex(0),t.DNE(1,q0t,4,9,"tr",1)(2,Q0t,1,10,"tr",2),t.bVm()),2&e&&(t.R7$(),t.Y8G("ngForOf",n.columnLevels),t.R7$(),t.Y8G("ngIf",n.showFilterRow))},dependencies:[Lne,CB,Ke,Hne,st,kB,W,gD,KA,Nd,xne,Pe,Jn,tR,$ne,rc,HOe],encapsulation:2}),s})();class EDt{constructor(i=0,e,n){this.total=i,this.rowHeight=e,this.detailRowHeight=n,this.offsets=[],this.heights=[];let o=0;for(let r=0;r<i;r++)this.offsets.push(o),o+=e,this.heights.push(e)}height(i){return this.heights[i]}expandDetail(i){this.height(i)===this.rowHeight&&this.updateRowHeight(i,this.detailRowHeight)}collapseDetail(i){this.height(i)>this.rowHeight&&this.updateRowHeight(i,-1*this.detailRowHeight)}isExpanded(i){return this.height(i)>this.rowHeight}index(i){if(i<0)return;const e=this.offsets.reduce((n,o,r)=>void 0!==n?n:o===i?r:o>i?r-1:void 0,void 0);return void 0===e?this.total-1:e}offset(i,e=!1){if(e){let n=0,o=0;for(let r=0;r<i;r++)if(n+=this.rowHeight,o++,o===i||this.isExpanded(r)&&(n+=this.detailRowHeight,o++,o===i))return n;return n}return this.offsets[i]}totalHeight(){return this.heights.reduce((i,e)=>i+e,0)}updateRowHeight(i,e){this.total>0&&(this.heights[i]+=e,this.offsets=((s,i,e)=>[...s.slice(0,i+1),...s.slice(i+1).map(n=>n+e)])(this.offsets,i,e))}}class DB{constructor(i){this.offset=i}}class Wne{constructor(i,e){this.skip=i,this.take=e}}class WOe{}class kDt{constructor(i){this.scrollObservable=i,this.firstLoaded=0}create(i,e,n,o){this.rowHeightService=i,this.firstLoaded=e,this.lastLoaded=e+n,this.take=n,this.total=o,this.lastScrollTop=0;const r=new Fn.t(new DB(this.rowHeightService.offset(e)));return this.subscription=_s.c.create(a=>{this.unsubscribe(),this.scrollSubscription=this.scrollObservable.subscribe(l=>this.onScroll(l,a))}).subscribe(a=>r.next(a)),r}destroy(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}onScroll({scrollTop:i,offsetHeight:e,scrollHeight:n,clientHeight:o},r){if(!ne()||this.lastScrollTop===i)return;const a=this.lastScrollTop>=i;this.lastScrollTop=i;let l=this.rowHeightService.index(i),c=this.rowHeightService.offset(l);const u=this.rowHeightService.index(i+e);if(!a)if(u>=this.lastLoaded&&this.lastLoaded<this.total){const f=l+this.take-this.total;f>0&&(l-=f,c=this.rowHeightService.offset(l)),this.firstLoaded=l,r.next(new DB(c));let _=this.firstLoaded+this.take;this.lastLoaded=Math.min(_,this.total),_=_>this.total?this.total-this.firstLoaded:this.take,r.next(new Wne(this.firstLoaded,this.take))}else n-o-i<2&&r.next(new WOe);if(a&&l<this.firstLoaded){const f=Math.floor(.3*this.take);this.firstLoaded=Math.max(l-f,0),r.next(new DB(this.rowHeightService.offset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),r.next(new Wne(this.firstLoaded,this.take))}}unsubscribe(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=void 0)}}const YOe="k-hierarchy-cell k-detail-cell k-group-cell";let Yne=(()=>{class s extends Ko{constructor(e,n){super(e,n),this.parent=e}get templateRef(){return this.template?this.template.templateRef:void 0}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Ko,13),t.rXU(nd,8))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-command-column"]],contentQueries:function(e,n,o){if(1&e&&t.wni(o,qn,5),2&e){let r;t.mGM(r=t.lsd())&&(n.template=r.first)}},features:[t.Jv_([{provide:Ko,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),Kne=(()=>{class s{constructor(e,n,o,r,a){this.selectionService=e,this.aggregateService=n,this.el=o,this.renderer=r,this.ngZone=a,this.type="checkbox",this.ngZone.runOutsideAngular(()=>{this.destroyClick=this.renderer.listen(this.el.nativeElement,"click",this.onClick.bind(this)),this.destroyKeyDown=this.renderer.listen(this.el.nativeElement,"keydown",this.onKeyDown.bind(this))})}ngAfterContentChecked(){this.setCheckedState()}ngOnDestroy(){this.destroyClick&&this.destroyClick(),this.destroyKeyDown&&this.destroyKeyDown()}onClick(){this.selectionService.options.enabled&&this.ngZone.run(()=>{const e=this.selectionService.toggleByIndex(this.itemIndex);e.ctrlKey=!0,e.shiftKey=!1,this.selectionService.options.cellAggregates&&(e.cellAggregates=this.aggregateService.onSelectionChange(e)),this.selectionService.changes.emit(e)})}onKeyDown(e){e.keyCode===F.Enter&&this.onClick()}setCheckedState(){this.renderer.setProperty(this.el.nativeElement,"checked",this.selectionService.isSelected(this.itemIndex))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(lD),t.rXU(zA),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.SKi))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridSelectionCheckbox",""]],hostVars:1,hostBindings:function(e,n){2&e&&t.BMQ("type",n.type)},inputs:{itemIndex:[t.Mj6.None,"kendoGridSelectionCheckbox","itemIndex"]}}),s})();const TDt=/\{\d+:?/;let Jne=(()=>{class s{constructor(e){this.intlService=e}transform(e,n,o){if(!ar(n)){const r=_r(n)(e);return ar(o)?r:this.formatValue(o,r)}return e}formatValue(e,n){const o=this.intlService;return Fte(e)&&e.match(TDt)?o.format(e,n):o.toString(n,e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Gt.Bs,16))},s.\u0275pipe=t.EJ8({name:"valueOf",type:s,pure:!1}),s})(),KOe=(()=>{class s{constructor(e,n,o,r){this.editService=e,this.idService=n,this.ctx=o,this.cellContext=r,this.isNew=!1,this.isLoading=!1,this.isVirtual=!1,this.reorderIcon=jC,this._templateContext={},this._editTemplateContext={}}get commandCellClass(){return this.isCommand(this.column)}get dragHandleCellClass(){return qte(this.column)}get dragRowHandleLabel(){return qte(this.column)?this.ctx.localization.get("dragRowHandleLabel"):void 0}set rowIndex(e){this._rowIndex=e,this.updateCellContext()}get rowIndex(){return this._rowIndex}get isEdited(){if(!this.editService.isEditing()&&!this.isNew||!this.isColumnEditable)return!1;const e=this.editService.columnContext(this.rowIndex,this.column);return this.isFieldEditable(e,this.column)}get showLoading(){return this.isVirtual&&this.isLoading}get formGroup(){return this.editService.context(this.rowIndex).group}get templateContext(){return this._templateContext}get editTemplateContext(){return this._editTemplateContext.$implicit=this.formGroup,this._editTemplateContext.isNew=this.isNew,this._editTemplateContext.column=this.column,this._editTemplateContext.dataItem=this.dataItem,this._editTemplateContext.formGroup=this.formGroup,this._editTemplateContext.rowIndex=this.rowIndex,this._editTemplateContext}get format(){if(BA(this.column)&&!ar(this.column.format))return Ute(this.column.format)}get isBoundColumn(){return this.column.field&&!this.column.templateRef}get isCheckboxColumn(){return FDe(this.column)&&!this.column.templateRef}get selectionCheckboxId(){return this.idService.selectionCheckboxId(this.rowIndex)}get selectionCheckboxLabel(){return this.ctx.localization.get("selectionCheckboxLabel")}get isSpanColumn(){return Jte(this.column)&&!this.column.templateRef}get childColumns(){return vg([this.column])}get isRowReorderColumn(){return qte(this.column)&&!this.column.templateRef}get isColumnEditable(){return!(!this.column||this.isCommand(this.column))&&!1!==this.column.editable}ngDoCheck(){this.updateCellContext()}ngOnChanges(e){this.updateTemplateContext()}ngAfterContentChecked(){this.updateTemplateContext()}isCommand(e){return e instanceof Yne}isFieldEditable(e,n){return!!Re(e)&&(!!Re(n.editTemplate)||Re(e.group)&&Re(e.group.get(n.field)))}updateCellContext(){this.cellContext&&(this.cellContext.rowIndex=this._rowIndex)}updateTemplateContext(){if(!this.column.templateRef)return;const e=this._templateContext;e.isNew=this.isNew,e.column=this.column,e.dataItem=this.dataItem,e.rowIndex=this.rowIndex,e.columnIndex=this.columnIndex,e.$implicit=this.dataItem}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(up),t.rXU(nd),t.rXU(Be),t.rXU(gg,8))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoGridCell",""]],hostVars:7,hostBindings:function(e,n){2&e&&(t.BMQ("aria-label",n.dragRowHandleLabel),t.AVh("k-command-cell",n.commandCellClass)("k-drag-cell",n.dragHandleCellClass)("k-touch-action-none",n.dragHandleCellClass))},inputs:{column:"column",columnIndex:"columnIndex",isNew:"isNew",isLoading:"isLoading",isVirtual:"isVirtual",loadingTemplate:"loadingTemplate",rowIndex:"rowIndex",dataItem:"dataItem"},features:[t.OA$],attrs:Z0t,decls:3,vars:3,consts:[["loading",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngIf","ngIfElse"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[1,"k-checkbox-wrap"],[1,"k-checkbox","k-checkbox-md","k-rounded-md",3,"kendoGridSelectionCheckbox"],["name","reorder",3,"svgIcon"],["class","k-skeleton-text k-skeleton",4,"ngIf"],[1,"k-skeleton-text","k-skeleton"],[3,"ngSwitch",4,"ngIf"],["kendoGridFocusable","",3,"format","formControl",4,"ngSwitchCase"],["type","checkbox","class","k-checkbox k-checkbox-md k-rounded-md","kendoGridFocusable","",3,"formControl",4,"ngSwitchCase"],["type","text","class","k-textbox k-input k-input-md k-input-solid k-rounded-md","kendoGridFocusable","",3,"formControl",4,"ngSwitchDefault"],["kendoGridFocusable","",3,"format","formControl"],["type","checkbox","kendoGridFocusable","",1,"k-checkbox","k-checkbox-md","k-rounded-md",3,"formControl"],["type","text","kendoGridFocusable","",1,"k-textbox","k-input","k-input-md","k-input-solid","k-rounded-md",3,"formControl"]],template:function(e,n){1&e&&(t.qex(0,1),t.DNE(1,pbt,4,2,"ng-container",2)(2,bbt,3,2,"ng-container",2),t.bVm()),2&e&&(t.Y8G("ngSwitch",n.isEdited),t.R7$(),t.Y8G("ngSwitchCase",!1),t.R7$(),t.Y8G("ngSwitchCase",!0))},dependencies:[Ke,$c,rp,Fa,yd,W,Je,st,rc,Kne,Un,u0,aw,Zt,jo,Jne],encapsulation:2}),s})(),JOe=(()=>{class s{constructor(e,n,o){this.groupsService=e,this.groupInfoService=n,this.ctx=o,this.skipGroupDecoration=!1,this.hasDetails=!1,this.totalColumnsCount=0,this.groups=[],this.groupItemClass=!0,this.tableGroupRowClass=!0,this.isExpanded=!1,this.caretAltDownIcon=Bo,this.caretAltRightIcon=Uo,this.caretAltLeftIcon=Xa}ngDoCheck(){const e={group:this.item.data,groupIndex:this.item.index,parentGroup:F7(this.item.parentGroup)};this.isExpanded=this.groupsService.isExpanded(e)}prefixGroupCell(e){return new Array(e.level)}toggleGroup(e){return this.groupsService.toggleRow(e),!1}groupSpan(e){const n=(this.groups||[]).length,o=this.hasDetails?1:0;if(this.hasGroupHeaderColumn)return n+1+o-e.level;const r=j7(this.columns);return this.skipGroupDecoration?r:n+r+o-e.level}logicalColSpan(){return this.skipGroupDecoration?1:this.totalColumnsCount}ariaRole(){return this.skipGroupDecoration?"presentation":"gridcell"}formatForGroup(e){return this.groupInfoService.formatForGroup(e)}groupTitle(e){return this.groupInfoService.groupTitle(e)}groupHeaderTemplate(e){return this.groupInfoService.groupHeaderTemplate(e)}get groupButtonTitle(){return this.ctx.localization.get(this.isExpanded?"groupCollapse":"groupExpand")}get arrowIcon(){return this.isExpanded?"caret-alt-down":this.ctx.localization.rtl?"caret-alt-left":"caret-alt-right"}get arrowSVGIcon(){return this.isExpanded?this.caretAltDownIcon:this.ctx.localization.rtl?this.caretAltLeftIcon:this.caretAltRightIcon}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(rb),t.rXU(W7),t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoGridGroupHeader",""]],hostVars:4,hostBindings:function(e,n){2&e&&t.AVh("k-grouping-row",n.groupItemClass)("k-table-group-row",n.tableGroupRowClass)},inputs:{rowIndex:"rowIndex",logicalRowIndex:"logicalRowIndex",item:"item",skipGroupDecoration:"skipGroupDecoration",hasDetails:"hasDetails",totalColumnsCount:"totalColumnsCount",hasGroupHeaderColumn:"hasGroupHeaderColumn",groupHeaderColumns:"groupHeaderColumns",columns:"columns",groups:"groups"},attrs:Ebt,decls:3,vars:3,consts:[[4,"ngIf"],["aria-selected","false","class","k-table-td","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan",4,"ngIf"],["class","k-group-cell k-table-td","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"k-group-cell","k-table-td"],["aria-selected","false","kendoGridLogicalCell","",1,"k-table-td",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan"],[1,"k-reset"],["href","#","tabindex","-1","role","presentation",3,"click"],[3,"name","svgIcon"],[3,"templateContext"],["role","gridcell","class","k-table-td","aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan",4,"ngFor","ngForOf"],["role","gridcell","aria-selected","false","kendoGridLogicalCell","",1,"k-table-td",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&t.DNE(0,Dbt,2,1,"ng-container",0)(1,Ibt,3,9,"td",1)(2,Nbt,2,1,"ng-container",0),2&e&&(t.Y8G("ngIf",!n.skipGroupDecoration),t.R7$(),t.Y8G("ngIf",!(n.skipGroupDecoration&&n.hasGroupHeaderColumn)),t.R7$(),t.Y8G("ngIf",n.hasGroupHeaderColumn))},dependencies:[Ke,W,st,gD,tR,Je,Jne],encapsulation:2}),s})(),qne=(()=>{class s{constructor(e,n,o,r,a,l,c,u,f,_,g,S,b){this.detailsService=e,this.groupsService=n,this.changeNotification=o,this.editService=r,this.ctx=a,this.ngZone=l,this.renderer=c,this.element=u,this.domEvents=f,this.selectionService=_,this.cellSelectionService=g,this.columnInfoService=S,this.navigationService=b,this.columns=[],this.groups=[],this.skip=0,this.noRecordsText=this.ctx.localization.get("noRecords"),this.isLocked=!1,this.skipGroupDecoration=!1,this.showGroupFooters=!1,this.lockedColumnsCount=0,this.totalColumnsCount=0,this.trackBy=vne,this.hostClass=!0,this.minusIcon=KW,this.plusIcon=Bk,this.rowClass=()=>null,this.cellKeydownSubscription=this.navigationService.cellKeydown.subscribe(k=>this.cellKeydownHandler(k)),this.trackByWrapper=this.trackByWrapper.bind(this),this.trackByColumns=this.trackByColumns.bind(this)}get newDataItem(){return this.editService.newDataItem}unlockedColumnsCount(e){const n=this.allColumns||this.columns;let o=n.length;n.forEach(l=>{l.isSpanColumn&&(o+=l.colspan-1)});const r=this.totalColumnsCount-this.lockedColumnsCount-o,a=this.totalColumnsCount-this.lockedColumnsCount-(this.allColumns||this.columns).length;return e&&this.isDataItem(e)?r:a}isAriaSelected(e,n){return this.cellSelectionService.isCellSelected(e,n)||this.isRowSelected(e)?"true":"false"}toggleRow(e,n){return this.detailsService.toggleRow(e,n),!1}isExpanded(e){return this.detailsService.isExpanded(e.index,e.data)}detailButtonIconName(e){return this.isExpanded(e)?"minus":"plus"}detailButtonSvgIcon(e){return this.isExpanded(e)?this.minusIcon:this.plusIcon}detailButtonTitle(e){const n=this.isExpanded(e)?"detailCollapse":"detailExpand";return this.ctx.localization.get(n)}isGroup(e){return"group"===e.type}isDataItem(e){return!this.isGroup(e)&&!this.isFooter(e)}isFooter(e){return"footer"===e.type}isFooterItemInExpandedGroup(e){return this.isInExpandedGroup({data:e.data,index:e.groupIndex,parentGroup:e.group.parentGroup})}isDataItemInExpandedGroup(e){return this.isInExpandedGroup({data:e.group.data,index:e.groupIndex,parentGroup:e.group.parentGroup})}isInExpandedGroup(e){return this.groupsService.isInExpandedGroup(e)}isParentGroupExpanded(e){return this.groupsService.isInExpandedGroup(e.parentGroup)}isOdd(e){return e.index%2!=0}isSelectable(){return this.selectable&&!1!==this.selectable.enabled}isRowSelected(e){return this.selectionService.isSelected(e.index)}trackByWrapper(e,n){return"data"===n.type&&(n.isEditing=this.editService.hasEdited(n.index)),this.trackBy(e,n)}trackByColumns(e,n){return this.virtualColumns?e:n}ngDoCheck(){this.groupHeaderColumns=this.hasGroupHeaderColumn?vg(this.skipGroupDecoration?this.columns:this.columns.toArray().slice(1)):[],this.groupHeaderSlaveCellsCount=this.isLocked?this.hasGroupHeaderColumn?this.columnsContainer.nonLockedColumnsToRender.length:1:0}ngAfterViewChecked(){this.rowSticky&&this.applyStickyRowsStyling()}ngOnChanges(e){Dt("columns",e,!1)&&this.changeNotification.notify()}logicalRowIndex(e){let n=this.skip+e;this.hasDetailTemplate&&(n*=2);const o=1+n,r=this.editService.hasNewItem?1:0,a=WA(this.filterable)?1:0;return o+(this.columnInfoService.totalLevels+a+r)}addRowLogicalIndex(){return this.columnInfoService.totalLevels+1+(WA(this.filterable)?1:0)}logicalColIndex(e){return Re(e.leafIndex)?e.leafIndex+(this.hasDetailTemplate?1:0):-1}ngOnInit(){this.ngZone.runOutsideAngular(()=>{const n=this.clickHandler.bind(this),o=this.renderer.listen(this.element.nativeElement,"mousedown",n),r=this.renderer.listen(this.element.nativeElement,"mouseup",n),a=this.renderer.listen(this.element.nativeElement,"click",n),l=this.renderer.listen(this.element.nativeElement,"contextmenu",n),c=this.renderer.listen(this.element.nativeElement,"touchstart",n),u=this.renderer.listen(this.element.nativeElement,"touchend",n);this.clickSubscription=()=>{o(),r(),a(),l()},this.touchSubscription=()=>{c(),u()}});let e=this.ctx.localization.get("noRecords");this.l10nSubscription=this.ctx.localization.changes.subscribe(()=>{this.noRecordsText===e&&(this.noRecordsText=this.ctx.localization.get("noRecords"),e=this.noRecordsText)})}ngOnDestroy(){this.clickSubscription&&this.clickSubscription(),this.touchSubscription&&this.touchSubscription(),this.l10nSubscription&&this.l10nSubscription.unsubscribe(),this.cellKeydownSubscription.unsubscribe(),clearTimeout(this.clickTimeout)}isEditingCell(e,n){return this.editService.isEditing()&&this.editService.isEditedColumn(e,n)}isEditingRow(e){return this.editService.isEditing()&&this.editService.hasEdited(e)}get hasGroupHeaderColumn(){return this.columnsContainer.hasGroupHeaderColumn}get columnsContainer(){return this.columnInfoService.columnsContainer}get columnsSpan(){return j7(this.columns)}get allColumnsSpan(){return j7(this.allColumns||this.columns)}get colSpan(){return this.columnsSpan+this.groups.length+(this.hasDetailTemplate?1:0)}get footerColumns(){return Array.from(this.columns).reduce((n,o)=>[...n,...o instanceof nne?Array.from(o.childColumns):[o]],[])}showGroupHeader(e){return!e.data.skipHeader}addStickyColumnStyles(e){const n=this.columnInfoService.stickyColumnsStyles(e);return{...e.style,...n}}resizeHandler(){this.applyStickyRowsStyling()}get hasDetailTemplate(){return Re(this.detailTemplate)}clickHandler(e){const n=this.element.nativeElement,o=this.eventTarget(e);let r,a,l,c,u=o;do{r=Da(u,el("td")),a=Da(r,el("tr")),l=Da(a,el("tbody")),u=l,c=Hte(u,um("k-grid"),n)}while(l&&l!==n&&!c);if(r&&!rD(r,YOe)&&!rD(a,"k-grouping-row k-group-footer k-detail-row k-grid-norecords")&&l===n&&!c&&(this.editService.preventCellClose(),!(o!==r&&PA(o,!1)||el("label")(o)||rD(o,"k-icon k-svg-icon")||Hte(o,um("k-grid k-grid-ignore-click"),r)))){const _=this.cellClickArgs(r,a,e);"mousedown"===e.type||"touchstart"===e.type?this.domEvents.cellMousedown.emit(_):"mouseup"===e.type||"touchend"===e.type?this.domEvents.cellMouseup.emit(_):(_.isEditedColumn||!this.editService.closeCell(e))&&("click"===e.type?this.clickTimeout=setTimeout(()=>{this.emitCellClick(_)},0):this.emitCellClick(_))}}emitCellClick(e){this.domEvents.cellClick.emit(Object.assign(e,{isEdited:e.isEditedRow||e.isEditedColumn}))}cellKeydownHandler(e){e.keyCode===F.Enter&&this.clickHandler(e)}cellClickArgs(e,n,o){const r=((s,i)=>{let e=0;for(let n=0;n<i.length;n++){if(i[n]===s)return e;rD(i[n],"k-hierarchy-cell k-group-cell")||e++}})(e,n.cells),a=this.columns.toArray()[r],l=this.lockedColumnsCount+r;let c=n.getAttribute("data-kendo-grid-item-index");return c=c?parseInt(c,10):-1,{column:a,columnIndex:l,dataItem:-1===c?this.editService.newDataItem:this.data.at(c-this.skip),isEditedColumn:this.editService.isEditedColumn(c,a),isEditedRow:this.editService.isEdited(c),originalEvent:o,rowIndex:c,type:"keydown"===o.type?"click":o.type}}eventTarget(e){if(ne()){if("touchend"===e.type){const n=e.changedTouches[0];return document.elementFromPoint(n.clientX,n.clientY)}return e.target}}applyStickyRowsStyling(){if(!ne())return;const e=(s=>[].slice.call(s))(this.element.nativeElement.querySelectorAll(".k-grid-row-sticky"));if(e.length){let o=0;const r=[];e.forEach(a=>{const l=a.getBoundingClientRect().height;r.push({accumulatedHeight:o,rowHeight:l}),o+=l}),e.forEach((a,l)=>{this.renderer.setStyle(a,"top",`${r[l].accumulatedHeight}px`),this.renderer.setStyle(a,"bottom",o-r[l].accumulatedHeight-r[l].rowHeight+"px")})}}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(FA),t.rXU(rb),t.rXU(Y7),t.rXU(up),t.rXU(Be),t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(ib),t.rXU(lD),t.rXU(H7),t.rXU(lc),t.rXU(tl))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoGridTableBody",""]],hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-table-tbody",n.hostClass)},inputs:{columns:"columns",allColumns:"allColumns",groups:"groups",detailTemplate:"detailTemplate",noRecordsTemplate:"noRecordsTemplate",data:"data",skip:"skip",selectable:"selectable",filterable:"filterable",noRecordsText:"noRecordsText",isLocked:"isLocked",isLoading:"isLoading",isVirtual:"isVirtual",cellLoadingTemplate:"cellLoadingTemplate",skipGroupDecoration:"skipGroupDecoration",showGroupFooters:"showGroupFooters",lockedColumnsCount:"lockedColumnsCount",totalColumnsCount:"totalColumnsCount",virtualColumns:"virtualColumns",trackBy:"trackBy",rowSticky:"rowSticky",totalColumns:"totalColumns",rowClass:"rowClass"},features:[t.OA$],attrs:Lbt,decls:4,vars:5,consts:[[4,"ngIf"],["class","k-grid-norecords","role","row",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"resize",4,"ngIf"],["kendoGridLogicalRow","",1,"k-grid-add-row","k-grid-edit-row","k-master-row",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","totalColumns"],["class","k-hierarchy-cell k-table-td","kendoGridLogicalCell","","aria-selected","false",3,"logicalRowIndex","logicalColIndex",4,"ngIf"],["class","k-table-td","kendoGridCell","","kendoGridLogicalCell","",3,"rowIndex","columnIndex","isNew","column","dataItem","k-grid-content-sticky","ngClass","left","ngStyle","logicalRowIndex","logicalColIndex","colSpan",4,"ngFor","ngForOf","ngForTrackBy"],["class","k-group-cell k-table-td","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"k-group-cell","k-table-td"],["kendoGridLogicalCell","","aria-selected","false",1,"k-hierarchy-cell","k-table-td",3,"logicalRowIndex","logicalColIndex"],["kendoGridCell","","kendoGridLogicalCell","",1,"k-table-td",3,"rowIndex","columnIndex","isNew","column","dataItem","ngClass","ngStyle","logicalRowIndex","logicalColIndex","colSpan"],["role","row",1,"k-grid-norecords"],[1,"k-table-td"],[3,"templateContext"],["kendoGridGroupHeader","","kendoGridLogicalRow","",3,"columns","groups","item","hasDetails","skipGroupDecoration","hasGroupHeaderColumn","groupHeaderColumns","rowIndex","totalColumnsCount","logicalRowIndex","logicalSlaveRow","totalColumns","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridLogicalRow","",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","totalColumns","logicalCellsCount","logicalSlaveCellsCount","class","k-grid-row-sticky","ngClass","k-master-row","k-grid-edit-row","k-selected",4,"ngIf"],["class","k-detail-row","kendoGridLogicalRow","",3,"k-alt","dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount",4,"ngIf"],["class","k-group-footer","kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","totalColumns","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridGroupHeader","","kendoGridLogicalRow","",3,"columns","groups","item","hasDetails","skipGroupDecoration","hasGroupHeaderColumn","groupHeaderColumns","rowIndex","totalColumnsCount","logicalRowIndex","logicalSlaveRow","totalColumns","logicalCellsCount","logicalSlaveCellsCount"],["kendoGridLogicalRow","",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","totalColumns","logicalCellsCount","logicalSlaveCellsCount","ngClass"],["class","k-hierarchy-cell k-table-td","kendoGridLogicalCell","","aria-selected","false","role","gridcell",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","detailExpandCell",4,"ngIf"],["kendoGridCell","","kendoGridLogicalCell","","class","k-table-td",3,"rowIndex","columnIndex","column","dataItem","isLoading","isVirtual","loadingTemplate","logicalRowIndex","logicalColIndex","dataRowIndex","colIndex","colSpan","k-grid-content-sticky","k-touch-action-none","k-touch-action-auto","ngClass","k-grid-edit-cell","ngStyle","k-selected",4,"ngFor","ngForOf","ngForTrackBy"],["kendoGridLogicalCell","","aria-selected","false","role","gridcell",1,"k-hierarchy-cell","k-table-td",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","detailExpandCell"],["href","#","tabindex","-1",3,"click",4,"ngIf"],["href","#","tabindex","-1",3,"click"],[3,"name","svgIcon"],["kendoGridCell","","kendoGridLogicalCell","",1,"k-table-td",3,"rowIndex","columnIndex","column","dataItem","isLoading","isVirtual","loadingTemplate","logicalRowIndex","logicalColIndex","dataRowIndex","colIndex","colSpan","ngClass","ngStyle"],["kendoGridLogicalRow","",1,"k-detail-row",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount"],["class","k-group-cell k-table-td",4,"ngFor","ngForOf"],[1,"k-hierarchy-cell","k-table-td"],["kendoGridLogicalCell","","role","gridcell","aria-selected","false",1,"k-detail-cell","k-table-td",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","colIndex","colSpan"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-group-cell","k-table-td"],["kendoGridLogicalRow","",1,"k-group-footer",3,"logicalRowIndex","logicalSlaveRow","totalColumns","logicalCellsCount","logicalSlaveCellsCount"],["kendoGridLogicalCell","","class","k-table-td",3,"logicalRowIndex","logicalColIndex",4,"ngFor","ngForOf","ngForTrackBy"],["kendoGridLogicalCell","",1,"k-table-td",3,"logicalRowIndex","logicalColIndex"],[3,"resize"]],template:function(e,n){1&e&&t.DNE(0,jbt,5,9,"ng-container",0)(1,Wbt,4,3,"tr",1)(2,dEt,5,4,"ng-container",2)(3,uEt,1,0,"kendo-resize-sensor",3),2&e&&(t.Y8G("ngIf",n.editService.hasNewItem),t.R7$(),t.Y8G("ngIf",0===(null==n.data?null:n.data.length)||null===n.data),t.R7$(),t.Y8G("ngForOf",n.data)("ngForTrackBy",n.trackByWrapper),t.R7$(),t.Y8G("ngIf",n.rowSticky))},dependencies:[KOe,JOe,Ke,Os,W,kB,st,gD,Pe,Jn,tR,Je],encapsulation:2}),s})();const IDt=({columns:s})=>Math.max(1,(s=>s.filter(i=>td(i.resizable)&&i.isVisible))(s).length),qOe=s=>i=>i.querySelector(s),Qne=(s,i="td")=>e=>e.querySelectorAll(`${i}:not(.k-group-cell):not(.k-hierarchy-cell)`)[s],OB=s=>s.offsetWidth,Zne=(...s)=>i=>s.reduce((e,n)=>e?n(e):0,i);let eie=(()=>{class s{constructor(e,n,o,r,a){this.element=e,this.renderer=n,this.service=o,this.zone=r,this.cdr=a,this.locked=!1,this.firstResize=!1}get minWidth(){return this.firstResize?0:null}ngOnInit(){const e=this.service.changes.pipe(z(n=>this.locked===n.locked));this.subscription=e.pipe(z(n=>"start"===n.type),x(this.initState.bind(this)),(0,U.T)(IDt),Y(n=>e.pipe(z(o=>"resizeTable"===o.type),(0,U.T)(o=>o.delta),function P$e(s,i=null){return i=i??s,(0,$i.N)((e,n)=>{let o=[],r=0;e.subscribe((0,Xi._)(n,a=>{let l=null;r++%i==0&&o.push([]);for(const c of o)c.push(a),s<=c.length&&(l=l??[],l.push(c));if(l)for(const c of l)(0,g_e.o)(o,c),n.next(c)},()=>{for(const a of o)n.next(a);n.complete()},void 0,()=>{o=null}))})}(n)))).subscribe(this.resize.bind(this)),this.autoFitSubscription=this.service.registerTable({autoFit:this.autoFitObservable.bind(this),locked:this.locked})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.autoFitSubscription&&(this.autoFitSubscription(),this.autoFitSubscription=null)}initState(){this.firstResize=!0,(!this.virtualColumns||this.locked)&&(this.originalWidth=OB(this.element.nativeElement))}resize(e){if(!this.virtualColumns||this.locked){const n=e.reduce((r,a)=>r+a,0);this.renderer.setStyle(this.element.nativeElement,"width",this.originalWidth+n+"px")}this.cdr.detectChanges()}autoFitObservable(e){return _s.c.create(n=>{this.zone.runOutsideAngular(()=>{this.renderer.addClass(this.element.nativeElement,"k-autofitting"),this.cdr.detectChanges();const o=e.map(this.measureColumn.bind(this));this.renderer.removeClass(this.element.nativeElement,"k-autofitting"),n.next(o)})})}measureColumn(e){const n=this.element.nativeElement,o=Zne((s=>i=>i.querySelectorAll("thead>tr")[s])(e.level),Qne(e.headerIndex,"th"),OB)(n);let r=0;(!e.isParentSpan||e.isParentSpan&&e.isLastInSpan)&&(r=Zne(qOe("tbody>tr:not(.k-grouping-row):not(.k-grid-norecords)"),Qne(e.index),OB)(n));const a=Zne(qOe("tfoot>tr"),Qne(e.index),OB)(n);return Math.max(o,r,a)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(XA),t.rXU(t.SKi),t.rXU(t.gRc))},s.\u0275dir=t.FsC({type:s,selectors:[["table"]],hostVars:2,hostBindings:function(e,n){2&e&&t.xc7("min-width",n.minWidth)},inputs:{locked:"locked",virtualColumns:"virtualColumns"}}),s})(),TB=(()=>{class s{constructor(e){this.wrapper=e,this.hostClass=!0,this._size="medium"}get sizeSmallClass(){return"small"===this.size}get sizeMediumClass(){return"medium"===this.size||!this.size}set size(e){this._size=e,"none"===e&&this.wrapper.nativeElement.classList.remove("k-table-sm","k-table-md")}get size(){return this._size}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridTable",""]],hostVars:6,hostBindings:function(e,n){2&e&&t.AVh("k-table",n.hostClass)("k-table-sm",n.sizeSmallClass)("k-table-md",n.sizeMediumClass)},inputs:{size:"size"}}),s})(),tie=(()=>{class s{constructor(e,n,o,r){this.el=e,this.renderer=n,this.resizeService=o,this.ctx=r,this.enabled=!1}set lockedWidth(e){this._lockedWidth=e,this.enabled&&(this.attachResize(),this.resize())}set kendoGridResizableContainer(e){const n=e!==this.enabled;this.enabled=e,n&&(this.attachResize(),this.resize())}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}attachResize(){this.resizeSubscription&&!this.enabled&&(this.resizeSubscription.unsubscribe(),this.resizeSubscription=null),!this.resizeSubscription&&this.enabled&&(this.resizeSubscription=this.resizeService.changes.subscribe(this.resize.bind(this)))}resize(){if(this.ctx.grid&&this.ctx.grid.wrapper){const n=Math.max(this.ctx.grid.wrapper.nativeElement.clientWidth-this._lockedWidth,0);this.renderer.setStyle(this.el.nativeElement,"width",this.enabled&&n>0?n+"px":"")}}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(fne),t.rXU(Be))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridResizableContainer",""]],inputs:{lockedWidth:"lockedWidth",kendoGridResizableContainer:"kendoGridResizableContainer"}}),s})();const QOe=(s,i,e)=>{for(let n=0,o=0;n<i.length;n++){const r=e(i[n]);if(o<=s&&s<=o+r-1)return i[n];o+=r}},ZOe=(s,i)=>QOe(s,i,()=>1),e3e={},t3e=new t.nKC("grid-scroll-service-factory");function RDt(s){return new kDt(s)}const n3e=s=>{const i=s.wheelDeltaY;return s.wheelDelta&&(void 0===i||i)?s.wheelDelta:s.detail&&s.axis===s.VERTICAL_AXIS?10*-s.detail:0},nie=s=>s?s.nativeElement:null;let s3e=(()=>{class s{constructor(e,n,o,r,a,l,c,u,f,_,g,S,b,k,D,O,I,N){this.changeNotification=o,this.suspendService=r,this.groupsService=a,this.ngZone=l,this.renderer=c,this.scrollSyncService=u,this.resizeService=f,this.editService=_,this.supportService=g,this.navigationService=S,this.ctx=k,this.columnResizingService=D,this.changeDetector=O,this.pdfService=I,this.columnInfo=N,this.hostClass=!0,this.hostRole="presentation",this.groups=[],this.skip=0,this.columns=new one(()=>[]),this.selectable=!1,this.groupable=!1,this.trackBy=vne,this.sort=new Array,this.size="medium",this.contentScroll=new t.bkB,this.pageChange=new t.bkB,this.scrollBottom=new t.bkB,this.columnsStartIdx=0,this.resizeSensors=new t.rOR,this.dispatcher=new Xe.B,this.containerScrollTop=0,this.scrollLeft=0,this.rtl=!1,this.scroller=e(this.dispatcher),this.subscriptions=n.changes.subscribe(P=>this.detailExpand(P)),this.subscriptions.add(b.requests.subscribe(P=>Re(P.adjustIndex)?this.scrollTo(P.request,P.adjustIndex):this.scrollToItem(P.request)))}get showFooter(){return this.groupable&&this.groupable.showFooter}get totalWidth(){if(this.virtualColumns&&this.columns.unlockedWidth)return this.columns.unlockedWidth}get lockedLeafColumns(){return this.columns.lockedLeafColumns}get nonLockedLeafColumns(){return this.columns.nonLockedLeafColumns}get nonLockedColumnsToRender(){return this.virtualColumns&&!this.pdfService.exporting?this.viewportColumns:this.nonLockedLeafColumns}get leafColumns(){return this.columns.leafColumnsToRender}get lockedWidth(){const e=32*this.groups.length;return pm(this.lockedLeafColumns.toArray()).reduce((n,o)=>n+(o.width||0),e)}get nonLockedWidth(){if(!this.rtl&&this.lockedLeafColumns.length||this.virtualColumns)return Skt(pm(this.nonLockedColumnsToRender.toArray()))}get isLocked(){return this.lockedLeafColumns.length>0}ngOnInit(){this.init(),this.subscriptions.add(this.ngZone.runOutsideAngular(this.handleRowSync.bind(this))),this.subscriptions.add(this.ngZone.runOutsideAngular(this.handleRowNavigationLocked.bind(this))),this.subscriptions.add(Ht(this.columns.changes,this.resizeService.changes).subscribe(()=>{this.virtualColumns&&this.ngZone.run(()=>{this.updateViewportColumns(),this.changeDetector.markForCheck()})})),this.subscriptions.add(this.ctx.localization.changes.subscribe(({rtl:e})=>this.rtl=e))}ngOnChanges(e){if(!ne())return;const n=e.skip;n&&n.firstChange&&n.currentValue>0&&this.handleInitialScrollToSkip(),Dt("skip",e)&&!this.rebind&&(this.skipScroll=!0,this.container.nativeElement.scrollTop=this.rowHeightService.offset(this.skip)),Zi(["total","take"],e)&&this.init(),this.rebind=!1}ngDoCheck(){this.virtualColumns&&(!this.viewportColumns||this.viewportWidthChange())&&this.updateViewportColumns()}ngAfterViewInit(){ne()&&(this.skip&&this.isVirtual&&(this.container.nativeElement.scrollTop=this.rowHeightService.offset(this.skip)),this.resetNavigationViewport(),this.attachContainerScroll(),this.initResizeService())}ngAfterViewChecked(){const e=this.isLocked;e&&!this.hasLockedContainer&&this.syncRowsHeight(),this.hasLockedContainer=e}syncRowsHeight(){this.lockedContainer&&ZDe(this.lockedTable.nativeElement,this.table.nativeElement)}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),this.resizeService&&this.resizeService.destroy(),this.cleanupScroller()}init(){this.suspendService.scroll||(this.rowHeightService=new EDt(this.total,this.rowHeight,this.detailRowHeight),this.totalHeight=this.rowHeightService.totalHeight(),nb()||this.ngZone.runOutsideAngular(this.createScroller.bind(this)))}lockedScroll(){if(!this.suspendService.scroll){const e=this.lockedContainer.nativeElement.scrollTop;e!==this.containerScrollTop&&(this.container.nativeElement.scrollTop=this.containerScrollTop=e)}}lockedMousewheel(e){if(!e.ctrlKey){((s,i)=>{const e=n3e(s),n=i.scrollTop;0===n&&0<e||i.scrollHeight<=i.offsetHeight+n&&e<0||event.preventDefault()})(e,this.container.nativeElement);const n=n3e(e);this.container.nativeElement.scrollTop-=n}}lockedKeydown(e){if(e.keyCode===F.PageDown||e.keyCode===F.PageUp){const o=this.container.nativeElement;o.scrollTop+=o.offsetHeight*(e.keyCode===F.PageDown?1:-1)*.8,e.preventDefault()}}detailExpand({index:e,expand:n}){n?this.rowHeightService.expandDetail(e):this.rowHeightService.collapseDetail(e),this.totalHeight=this.rowHeightService.totalHeight(),this.resetNavigationViewport()}attachContainerScroll(){nb()||(this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(wt(this.container.nativeElement,"scroll").pipe((0,U.T)(e=>e.target),z(()=>!this.suspendService.scroll),x(e=>{this.onContainerScroll(e),this.resetNavigationViewport(),this.virtualColumns&&this.handleColumnScroll();const n=this.navigationService.viewport||e3e,o=this.navigationService.columnViewport||e3e;this.contentScroll.emit({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,startRow:n.firstItemIndex,endRow:n.lastItemIndex,startColumn:o.firstItemIndex,endColumn:o.lastItemIndex})})).subscribe(this.dispatcher))}),this.scrollSyncService.registerEmitter(this.container.nativeElement,"body"))}createScroller(){this.cleanupScroller();const e=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total);this.skipScroll=!1,this.scrollerSubscription=e.pipe(z(n=>n instanceof Wne),z(()=>{const n=this.skipScroll;return this.skipScroll=!1,!n}),x(()=>this.rebind=!0)).subscribe(n=>this.ngZone.run(()=>this.pageChange.emit(n))),this.scrollerSubscription.add(e.pipe(z(n=>n instanceof DB)).subscribe(this.scroll.bind(this))),this.scrollerSubscription.add(e.pipe(z(n=>n instanceof WOe)).subscribe(()=>this.scrollBottom.emit()))}scroll({offset:e=0}){this.isVirtual&&[nie(this.table),nie(this.lockedTable)].filter(Re).forEach(((s,i)=>e=>s.setStyle(e,"transform",`translateY(${i}px)`))(this.renderer,e)),this.resetNavigationViewport()}onContainerScroll({scrollTop:e}){this.containerScrollTop=e,this.lockedContainer&&(this.lockedContainer.nativeElement.scrollTop=e)}handleInitialScrollToSkip(){const n=this.changeNotification.changes.pipe(z(()=>this.isVirtual&&this.skip>0&&this.total>0)).subscribe(o=>{this.scrollTo({row:this.skip}),n.unsubscribe()})}handleRowSync(){const e=()=>Re(this.lockedContainer);return Ht(this.changeNotification.changes,this.groupsService.changes.pipe(z(e),yF((()=>this.ngZone.onStable.asObservable().pipe(Ye(1)))())),this.editService.changed,this.resizeService.changes,this.columnResizingService.changes.pipe(z(o=>"end"===o.type)),this.supportService.changes).pipe(x(()=>this.resetNavigationViewport()),z(e)).subscribe(()=>{const o=this.container.nativeElement.scrollTop,r=this.container.nativeElement.scrollLeft;this.syncRowsHeight(),this.syncContainerHeight(),this.lockedContainer.nativeElement.scrollTop=this.container.nativeElement.scrollTop=o,this.container.nativeElement.scrollLeft=r,this.resizeSensors.forEach(a=>a.acceptSize())})}handleRowNavigationLocked(){return this.navigationService.changes.pipe(z(()=>Re(this.lockedContainer)),X_(10)).subscribe(e=>{if(this.lockedLeafColumns.length<=e.prevColIndex&&e.colIndex<this.lockedLeafColumns.length){const n=this.navigationService.activeCell;n&&n.colIndex+n.colSpan<e.prevColIndex&&(this.container.nativeElement.scrollLeft=0)}})}scrollToVirtualRow(e,n=!0){if(!ne())return;Re(this.detailTemplate)&&n&&(e=Math.floor(e/2));const o=this.rowHeightService.offset(e,!n);this.container.nativeElement.scrollTop=o,this.resetNavigationViewport()}scrollTo({row:e,column:n},o=!1){if(ODe(e))if(this.isVirtual)this.scrollToVirtualRow(e,o);else{const r=ZOe(e,this.table.nativeElement.rows);r&&(this.container.nativeElement.scrollTop=r.offsetTop)}if(ODe(n))if(n-=this.lockedLeafColumns.length,this.virtualColumns){const r=this.columns.leafColumnsToRender;let a=0;for(let c=0;c<n;c++)a+=r[c].width||0;this.container.nativeElement.scrollLeft=this.normalizeScrollLeft(a+(this.lockedLeafColumns.length?0:32*this.groups.length+(this.detailTemplate&&n>0?32:0)))}else if(0===n&&this.detailTemplate)this.container.nativeElement.scrollLeft=this.normalizeScrollLeft(0);else{const r=ZOe(0,this.table.nativeElement.rows);if(r){const a=((s,i)=>QOe(s,i,e=>rD(e,YOe)?0:parseInt(e.getAttribute("colSpan"),10)||1))(n,r.cells);a&&(this.container.nativeElement.scrollLeft=this.elementScrollLeft(a))}}}scrollToItem(e){if(!ne())return;const n=this.ctx.grid.data,a=(Array.isArray(n)?n:n.data).flatMap(Vte).findIndex(l=>l[e.idField]===e.id);if(-1!==a){const l=Array.from(this.table.nativeElement.rows).find(c=>{const u=c.getAttribute("data-kendo-grid-item-index");return u&&+u===this.ctx.grid.skip+a});l&&l.scrollIntoView(),this.isVirtual&&this.resetNavigationViewport()}}resetNavigationViewport(){if(!(ne&&this.container&&this.navigationService.tableEnabled&&this.navigationService.needsViewport()&&0!==this.data.length))return;const{scrollTop:e,offsetHeight:n}=this.container.nativeElement,o=e+n,r=this.rowHeightService.index(e),a=this.rowHeightService.index(o),l=this.rowHeightService.offset(a);let c=r,u=a;if(Re(this.detailTemplate)){c*=2,u*=2,this.rowHeightService.offset(r)+this.rowHeight<e&&c++;const _=this.rowHeightService.height(a);this.rowHeightService.isExpanded(a)&&!(l+_>o)&&u++}this.navigationService.setViewport(c,u)}cleanupScroller(){this.scrollerSubscription&&this.scrollerSubscription.unsubscribe(),this.scroller&&this.scroller.destroy()}initResizeService(){this.resizeService.connect(Ht(...this.resizeSensors.map(e=>e.resize)))}syncContainerHeight(){[nie(this.lockedContainer)].filter(Re).map(e=>{e.style.height="";let n=this.container.nativeElement.offsetHeight;return((s,i)=>this.table.nativeElement.offsetWidth>this.container.nativeElement.clientWidth)()&&(n-=this.supportService.scrollbarWidth),{el:e,height:n}}).forEach((s=>({el:i,height:e})=>s.setStyle(i,"height",`${e}px`))(this.renderer))}updateViewportColumns(e){const n=this.columns.nonLockedLeafColumns.toArray();let{startIdx:o,endIdx:r,offset:a}=e||this.calculateViewportColumns();const l=Math.max(0,o-1),c=Math.min(r+1,n.length-1);if(l<o)for(let f=o-1;f>=l;f--)a-=n[f].width;const u=n.slice(l,c+1);if(this.viewportColumnsWidth=u.reduce((f,_)=>f+_.width,0),l>0){const f=new Ko;f.width=a,u.unshift(f)}this.viewportColumns=new t.rOR,this.viewportColumns.reset(u),this.columnsStartIdx=l,this.columnsEndIdx=c,this.columnInfo.columnRangeChange.emit({start:l,end:c,offset:a}),e||this.updateColumnViewport(o,r)}handleColumnScroll(){const n=this.container.nativeElement.scrollLeft;if(this.scrollLeft!==n){this.scrollLeft=n;const o=this.calculateViewportColumns();this.updateColumnViewport(o.startIdx,o.endIdx),(o.startIdx<this.columnsStartIdx||this.columnsEndIdx<o.endIdx)&&(Pyt(this.columnUpdateFrame),this.columnUpdateFrame=Gyt(()=>{this.ngZone.run(()=>{this.updateViewportColumns(o),this.changeDetector.markForCheck()})}))}}updateColumnViewport(e,n){const o=this.lockedLeafColumns.length,r=this.nonLockedLeafColumns.toArray(),a=o+e+(this.detailTemplate&&e>0?1:0);let l=o+n+(this.detailTemplate?1:0);for(let c=0;c<r.length;c++){const u=r[c];u.isSpanColumn&&(l+=u.childColumns.length)}this.navigationService.setColumnViewport(a,l)}calculateViewportColumns(){const{scrollLeft:e,clientWidth:n}=this.container.nativeElement,o=this.columns.nonLockedLeafColumns.toArray(),r=this.normalizeScrollLeft(e),a=r+n;let l,_,c=0,u=0,f=0;for(_=0;_<o.length;_++){const g=o[_];if(u+=g.width||0,void 0===l&&u>r&&(l=_,f=u-(g.width||0)),u>=a){c=_;break}}return!c&&_>0&&(c=o.length-1),{startIdx:l,endIdx:c,offset:f}}viewportWidthChange(){return this.viewportColumns.toArray().reduce((n,o)=>n+o.width,0)!==this.viewportColumnsWidth}normalizeScrollLeft(e){return this.rtl?function $yt(s,i,e){let n=s;return e<0?n=-s:e>0&&(n=i.scrollWidth-i.offsetWidth-s),n}(e,this.container.nativeElement,this.supportService.rtlScrollLeft):e}elementScrollLeft(e){return this.rtl?this.normalizeScrollLeft(this.container.nativeElement.scrollWidth-e.offsetLeft-e.offsetWidth):e.offsetLeft}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t3e),t.rXU(FA),t.rXU(Y7),t.rXU(pne),t.rXU(rb),t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(J7),t.rXU(fne),t.rXU(up),t.rXU(lne),t.rXU(tl),t.rXU(U7),t.rXU(Be),t.rXU(XA),t.rXU(t.gRc),t.rXU($A),t.rXU(lc))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-list"]],viewQuery:function(e,n){if(1&e&&(t.GBs(hEt,7),t.GBs(pEt,5),t.GBs(fEt,5),t.GBs(mEt,7),t.GBs(Os,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.container=o.first),t.mGM(o=t.lsd())&&(n.lockedContainer=o.first),t.mGM(o=t.lsd())&&(n.lockedTable=o.first),t.mGM(o=t.lsd())&&(n.table=o.first),t.mGM(o=t.lsd())&&(n.resizeSensors=o)}},hostVars:3,hostBindings:function(e,n){2&e&&(t.BMQ("role",n.hostRole),t.AVh("k-grid-container",n.hostClass))},inputs:{data:"data",groups:"groups",total:"total",rowHeight:"rowHeight",stickyRowHeight:"stickyRowHeight",detailRowHeight:"detailRowHeight",take:"take",skip:"skip",columns:"columns",detailTemplate:"detailTemplate",noRecordsTemplate:"noRecordsTemplate",selectable:"selectable",groupable:"groupable",filterable:"filterable",rowClass:"rowClass",rowSticky:"rowSticky",loading:"loading",trackBy:"trackBy",virtualColumns:"virtualColumns",isVirtual:"isVirtual",cellLoadingTemplate:"cellLoadingTemplate",loadingTemplate:"loadingTemplate",sort:"sort",size:"size"},outputs:{contentScroll:"contentScroll",pageChange:"pageChange",scrollBottom:"scrollBottom"},features:[t.Jv_([{provide:t3e,useValue:RDt}]),t.OA$],decls:13,vars:38,consts:[["container",""],["table",""],["lockedContainer",""],["lockedTable",""],["class","k-grid-content-locked","role","presentation","tabindex","-1",3,"width","kendoEventsOutsideAngular","scope",4,"ngIf"],[1,"k-grid-content","k-virtual-content",3,"kendoGridResizableContainer","lockedWidth"],["role","presentation",1,"k-grid-table-wrap"],["kendoGridTable","","role","presentation",1,"k-grid-table",3,"virtualColumns","size"],["kendoGridColGroup","",3,"groups","columns","detailTemplate","sort"],["kendoGridTableBody","","role","rowgroup",3,"skipGroupDecoration","data","groups","showGroupFooters","columns","allColumns","detailTemplate","noRecordsTemplate","lockedColumnsCount","totalColumnsCount","totalColumns","skip","selectable","trackBy","filterable","rowClass","rowSticky","virtualColumns","isLoading","isVirtual","cellLoadingTemplate"],[4,"ngIf"],["role","presentation",1,"k-height-container"],["class","k-width-container","role","presentation",4,"ngIf"],["role","presentation","tabindex","-1",1,"k-grid-content-locked",3,"kendoEventsOutsideAngular","scope"],["role","presentation","kendoGridTable","",1,"k-grid-table",3,"locked","size"],["kendoGridTableBody","","role","presentation",3,"groups","isLocked","data","noRecordsText","columns","totalColumnsCount","totalColumns","detailTemplate","showGroupFooters","skip","selectable","trackBy","filterable","rowClass","isLoading","isVirtual","cellLoadingTemplate"],["role","presentation",1,"k-width-container"]],template:function(e,n){1&e&&(t.DNE(0,gEt,10,36,"div",4),t.j41(1,"div",5,0)(3,"div",6)(4,"table",7,1),t.nrm(6,"colgroup",8)(7,"tbody",9),t.k0s(),t.DNE(8,vEt,1,0,"kendo-resize-sensor",10),t.k0s(),t.DNE(9,SEt,1,0,"kendo-resize-sensor",10),t.j41(10,"div",11),t.nrm(11,"div"),t.k0s(),t.DNE(12,CEt,2,2,"div",12),t.k0s()),2&e&&(t.Y8G("ngIf",n.isLocked),t.R7$(),t.Y8G("kendoGridResizableContainer",n.lockedLeafColumns.length>0)("lockedWidth",n.lockedWidth+1),t.R7$(3),t.xc7("width",n.nonLockedWidth,"px"),t.Y8G("virtualColumns",n.virtualColumns)("size",n.size),t.R7$(2),t.Y8G("groups",n.isLocked?t.lJ4(37,NA):n.groups)("columns",n.nonLockedColumnsToRender)("detailTemplate",n.detailTemplate)("sort",n.sort),t.R7$(),t.Y8G("skipGroupDecoration",n.isLocked)("data",n.data)("groups",n.groups)("showGroupFooters",n.showFooter)("columns",n.nonLockedColumnsToRender)("allColumns",n.nonLockedLeafColumns)("detailTemplate",n.detailTemplate)("noRecordsTemplate",n.noRecordsTemplate)("lockedColumnsCount",n.lockedLeafColumns.length)("totalColumnsCount",n.leafColumns.length)("totalColumns",n.columns)("skip",n.skip)("selectable",n.selectable)("trackBy",n.trackBy)("filterable",n.filterable)("rowClass",n.rowClass)("rowSticky",n.rowSticky)("virtualColumns",n.virtualColumns)("isLoading",n.loading)("isVirtual",n.isVirtual)("cellLoadingTemplate",n.cellLoadingTemplate),t.R7$(),t.Y8G("ngIf",n.isLocked),t.R7$(),t.Y8G("ngIf",n.isLocked||n.virtualColumns),t.R7$(2),t.xc7("height",n.totalHeight,"px"),t.R7$(),t.Y8G("ngIf",n.virtualColumns))},dependencies:[Ane,qne,Os,W,Vo,eie,TB,tie],encapsulation:2}),s})(),o3e=(()=>{class s{constructor(e){this.columnInfoService=e,this.columns=[],this.groups=[],this.lockedColumnsCount=0,this.logicalRowIndex=0,this.hostClass=!0,this.hostRole="rowgroup"}get footerClass(){return!this.scrollable}get columnsToRender(){return vg(this.columns||[])}logicalColumnIndex(e){const n=e.leafIndex;return Re(n)?n+(Re(this.detailTemplate)?1:0):-1}addStickyStyles(e){const n=this.columnInfoService.stickyColumnsStyles(e);return{...e.footerStyle,...n}}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(lc))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoGridFooter",""]],hostVars:5,hostBindings:function(e,n){2&e&&(t.BMQ("role",n.hostRole),t.AVh("k-grid-footer",n.footerClass)("k-table-tfoot",n.hostClass))},inputs:{columns:"columns",groups:"groups",detailTemplate:"detailTemplate",scrollable:"scrollable",lockedColumnsCount:"lockedColumnsCount",logicalRowIndex:"logicalRowIndex",totalColumns:"totalColumns"},attrs:bEt,decls:5,vars:10,consts:[["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","totalColumns"],["class","k-table-td k-group-cell","role","presentation",4,"ngFor","ngForOf"],["role","presentation","class","k-table-td k-hierarchy-cell",4,"ngIf"],["kendoGridLogicalCell","","class","k-table-td","role","gridcell","aria-selected","false",3,"logicalRowIndex","logicalColIndex","k-grid-footer-sticky","ngClass","ngStyle",4,"ngFor","ngForOf"],["role","presentation",1,"k-table-td","k-group-cell"],["role","presentation",1,"k-table-td","k-hierarchy-cell"],["kendoGridLogicalCell","","role","gridcell","aria-selected","false",1,"k-table-td",3,"logicalRowIndex","logicalColIndex","ngClass","ngStyle"],[3,"templateContext"]],template:function(e,n){1&e&&(t.qex(0),t.j41(1,"tr",0),t.DNE(2,EEt,1,0,"td",1)(3,yEt,1,0,"td",2)(4,wEt,2,12,"td",3),t.k0s(),t.bVm()),2&e&&(t.R7$(),t.AVh("k-footer-template",!0),t.Y8G("logicalRowIndex",n.logicalRowIndex)("logicalSlaveRow",n.lockedColumnsCount>0)("logicalCellsCount",n.columns.length)("logicalSlaveCellsCount",n.columns.length-n.lockedColumnsCount)("totalColumns",n.totalColumns),t.R7$(),t.Y8G("ngForOf",n.groups),t.R7$(),t.Y8G("ngIf",null==n.detailTemplate?null:n.detailTemplate.templateRef),t.R7$(),t.Y8G("ngForOf",n.columnsToRender))},dependencies:[kB,st,W,gD,Pe,Jn,tR],encapsulation:2}),s})(),r3e=(()=>{class s{constructor(e){this.ctx=e,this.hostClass=!0}get loadingText(){return this.ctx.localization.get("loading")}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoGridLoading",""]],hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-loading-mask",n.hostClass)},inputs:{loadingTemplate:"loadingTemplate"},attrs:DEt,decls:2,vars:2,consts:[[4,"ngIf"],[1,"k-loading-text"],[1,"k-loading-image"],[1,"k-loading-color"],[3,"ngTemplateOutlet"]],template:function(e,n){1&e&&t.DNE(0,OEt,5,1,"ng-container",0)(1,MEt,1,1,null,0),2&e&&(t.Y8G("ngIf",!n.loadingTemplate),t.R7$(),t.Y8G("ngIf",n.loadingTemplate))},dependencies:[W,Je],encapsulation:2}),s})(),a3e=(()=>{class s{constructor(e){this.aggregateService=e,this.hostClasses=!0}get isStatusBarTemplate(){return this.statusBarTemplate?"":"none"}ngOnInit(){this.aggregateService.init()}get aggregates(){return this.aggregateService.aggregates}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(zA))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-status-bar"]],hostVars:6,hostBindings:function(e,n){2&e&&(t.xc7("display",n.isStatusBarTemplate),t.AVh("k-selection-aggregates",n.hostClasses)("k-grid-selection-aggregates",n.hostClasses))},inputs:{statusBarTemplate:"statusBarTemplate"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&t.DNE(0,AEt,1,4,null,0),2&e&&t.Y8G("ngIf",n.statusBarTemplate)},dependencies:[W,Je],encapsulation:2}),s})(),MB=(()=>{class s extends Gi{}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275dir=t.FsC({type:s,selectors:[["kendo-grid-messages-base"]],inputs:{groupPanelEmpty:"groupPanelEmpty",noRecords:"noRecords",pagerLabel:"pagerLabel",pagerFirstPage:"pagerFirstPage",pagerLastPage:"pagerLastPage",pagerPreviousPage:"pagerPreviousPage",pagerNextPage:"pagerNextPage",pagerPage:"pagerPage",pagerItemsPerPage:"pagerItemsPerPage",pagerOf:"pagerOf",pagerItems:"pagerItems",pagerPageNumberInputTitle:"pagerPageNumberInputTitle",selectPage:"selectPage",filter:"filter",filterInputLabel:"filterInputLabel",filterMenuTitle:"filterMenuTitle",filterMenuOperatorsDropDownLabel:"filterMenuOperatorsDropDownLabel",filterMenuLogicDropDownLabel:"filterMenuLogicDropDownLabel",filterCellOperatorLabel:"filterCellOperatorLabel",booleanFilterCellLabel:"booleanFilterCellLabel",filterEqOperator:"filterEqOperator",filterNotEqOperator:"filterNotEqOperator",filterIsNullOperator:"filterIsNullOperator",filterIsNotNullOperator:"filterIsNotNullOperator",filterIsEmptyOperator:"filterIsEmptyOperator",filterIsNotEmptyOperator:"filterIsNotEmptyOperator",filterStartsWithOperator:"filterStartsWithOperator",filterContainsOperator:"filterContainsOperator",filterNotContainsOperator:"filterNotContainsOperator",filterEndsWithOperator:"filterEndsWithOperator",filterGteOperator:"filterGteOperator",filterGtOperator:"filterGtOperator",filterLteOperator:"filterLteOperator",filterLtOperator:"filterLtOperator",filterIsTrue:"filterIsTrue",filterIsFalse:"filterIsFalse",filterBooleanAll:"filterBooleanAll",filterAfterOrEqualOperator:"filterAfterOrEqualOperator",filterAfterOperator:"filterAfterOperator",filterBeforeOperator:"filterBeforeOperator",filterBeforeOrEqualOperator:"filterBeforeOrEqualOperator",filterFilterButton:"filterFilterButton",filterClearButton:"filterClearButton",filterAndLogic:"filterAndLogic",filterOrLogic:"filterOrLogic",loading:"loading",gridLabel:"gridLabel",columnMenu:"columnMenu",setColumnPosition:"setColumnPosition",columns:"columns",lock:"lock",unlock:"unlock",stick:"stick",unstick:"unstick",sortable:"sortable",sortAscending:"sortAscending",sortDescending:"sortDescending",autosizeThisColumn:"autosizeThisColumn",autosizeAllColumns:"autosizeAllColumns",sortedAscending:"sortedAscending",sortedDescending:"sortedDescending",sortedDefault:"sortedDefault",columnsApply:"columnsApply",columnsReset:"columnsReset",detailExpand:"detailExpand",detailCollapse:"detailCollapse",filterDateToday:"filterDateToday",filterDateToggle:"filterDateToggle",filterNumericDecrement:"filterNumericDecrement",filterNumericIncrement:"filterNumericIncrement",selectionCheckboxLabel:"selectionCheckboxLabel",selectAllCheckboxLabel:"selectAllCheckboxLabel",groupCollapse:"groupCollapse",groupExpand:"groupExpand",topToolbarLabel:"topToolbarLabel",bottomToolbarLabel:"bottomToolbarLabel",groupPanelLabel:"groupPanelLabel",dragRowHandleLabel:"dragRowHandleLabel",columnMenuFilterTabTitle:"columnMenuFilterTabTitle",columnMenuGeneralTabTitle:"columnMenuGeneralTabTitle",columnMenuColumnsTabTitle:"columnMenuColumnsTabTitle",groupChipMenuPrevious:"groupChipMenuPrevious",groupChipMenuNext:"groupChipMenuNext"},features:[t.Vt3]}),s})(),l3e=(()=>{class s extends MB{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridLocalizedMessages",""]],features:[t.Jv_([{provide:MB,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})();const c3e=(s,i)=>Da(s,um("k-grid-edit-cell"))&&Da(s,el("kendo-grid"))===i;let Nn=(()=>{class s{constructor(e,n,o,r,a,l,c,u,f,_,g,S,b,k,D,O,I,N,P,G,H,$,Q,ie,ce,re,Ne,ue){this.supportService=e,this.selectionService=n,this.cellSelectionService=o,this.wrapper=r,this.groupInfoService=a,this.groupsService=l,this.changeNotification=c,this.detailsService=u,this.editService=f,this.filterService=_,this.pdfService=g,this.responsiveService=S,this.renderer=b,this.excelService=k,this.ngZone=D,this.scrollSyncService=O,this.domEvents=I,this.columnResizingService=N,this.changeDetectorRef=P,this.columnReorderService=G,this.columnInfoService=H,this.navigationService=$,this.sortService=Q,this.scrollRequestService=ie,this.localization=ce,this.ctx=re,this.sizingService=Ne,this.rowReorderService=ue,this.scrollable="scrollable",this.selectable=!1,this.trackBy=vne,this.virtualColumns=!1,this.gridData=()=>this.flatData,this.filterable=!1,this.sortable=!1,this.pageable=!1,this.groupable=!1,this.autoSize=!1,this.resizable=!1,this.reorderable=!1,this.columnMenu=!1,this.hideHeader=!1,this.filterChange=new t.bkB,this.pageChange=new t.bkB,this.groupChange=new rne(this.ngZone),this.sortChange=new t.bkB,this.selectionChange=new t.bkB,this.rowReorder=new t.bkB,this.dataStateChange=new t.bkB,this.groupExpand=new t.bkB,this.groupCollapse=new t.bkB,this.detailExpand=new t.bkB,this.detailCollapse=new t.bkB,this.edit=new t.bkB,this.cancel=new t.bkB,this.save=new t.bkB,this.remove=new t.bkB,this.add=new t.bkB,this.cellClose=new t.bkB,this.cellClick=new rne(this.ngZone),this.pdfExport=new t.bkB,this.excelExport=new t.bkB,this.columnResize=new rne(this.ngZone),this.columnReorder=new t.bkB,this.columnVisibilityChange=new t.bkB,this.columnLockedChange=new t.bkB,this.columnStickyChange=new t.bkB,this.scrollBottom=new t.bkB,this.contentScroll=new t.bkB,this.columns=new t.rOR,this.hostClass=!0,this.footer=new t.rOR,this.selectionDirective=!1,this.ariaRootId=`k-${rn()}`,this.showLicenseWatermark=!1,this.columnsContainer=new one(()=>this.columnList.filterHierarchy(se=>(nb()||(se.matchesMedia=this.matchesMedia(se)),se.isVisible))),this.view=new Fkt(()=>new Pkt(this.data,this.skip,this.hasGroupFooters)),this.shouldGenerateColumns=!0,this.notifyTimeout=null,this._sort=new Array,this._group=new Array,this._skip=0,this._data=[],this.cachedWindowWidth=0,this._rowSelected=null,this._cellSelected=null,this._rowReorderable=!1,this._navigable=[],this._size="medium",this._loading=!1,this.rtl=!1,this._rowClass=()=>null;const ye=(0,mt.$)(Tkt);this.showLicenseWatermark=V_(ye),this.ctx.grid=this,this.localizationSubscription=this.localization.changes.subscribe(({rtl:se})=>{this.rtl=se,this.direction=this.rtl?"rtl":"ltr"}),this.groupInfoService.registerColumnsContainer(()=>this.columnList),this.columnInfoService.init(this.columnsContainer,()=>this.columnList),this.columnVisibilityChangeSubscription=this.columnInfoService.visibilityChange.subscribe(se=>{this.columnVisibilityChange.emit(new iwt(se))}),this.columnLockedChangeSubscription=this.columnInfoService.lockedChange.subscribe(se=>{this.columnLockedChange.emit(new cOe(se))}),this.columnStickyChangeSubscription=this.columnInfoService.stickyChange.subscribe(se=>{this.columnStickyChange.emit(new owt(se))}),this.groupExpandCollapseSubscription=((s,i,e,n)=>s.changes.pipe(z(({group:o,emit:r})=>r&&Re(o))).subscribe(o=>o.expand?i.emit(n(o)):e.emit(n(o))))(l,this.groupExpand,this.groupCollapse,({group:se,groupIndex:te,parentGroup:le})=>({group:se,groupIndex:te,parentGroup:le})),this.detailsServiceSubscription=((s,i,e,n)=>s.changes.pipe(z(({dataItem:o})=>Re(o))).subscribe(o=>o.expand?i.emit(o):e.emit(o)))(u,this.detailExpand,this.detailCollapse),this.filterSubscription=this.filterService.changes.subscribe(se=>{this.filterChange.emit(se)}),this.sortSubscription=this.sortService.changes.subscribe(se=>{this.sortChange.emit(se)}),this.attachStateChangesEmitter(),this.attachEditHandlers(),this.attachDomEventHandlers(),this.pdfSubscription=this.pdfService.exportClick.subscribe(this.emitPDFExportEvent.bind(this)),this.excelSubscription=this.excelService.exportClick.subscribe(this.saveAsExcel.bind(this)),this.columnsContainerChange(),this.handleColumnResize(),this.columnList=new jA(this.columns),this.columnReorderSubscription=this.columnReorderService.changes.subscribe(this.reorder.bind(this)),this.columnRangeChangeSubscription=this.columnInfoService.columnRangeChange.subscribe(this.onColumnRangeChange.bind(this))}set data(e){this._data=e,this.notifyTimeout&&(clearTimeout(this.notifyTimeout),this.notifyTimeout=null),this.rowReorderable&&this.ngZone.runOutsideAngular(()=>{this.notifyTimeout=setTimeout(()=>{this.notifyReorderContainers()},500)})}get data(){return this._data}get hintText(){return this.rowReorderService.getDefaultHintText(this.columnList,this.flatData)}get skip(){return this._skip}set skip(e){"number"==typeof e&&e>=0&&(this._skip=this.rowReorderService.skip=e)}set sort(e){N7(e)&&(this._sort=e)}get sort(){return this._sort}set size(e){this._size=e,"none"===e&&this.wrapper.nativeElement.classList.remove("k-grid-sm","k-grid-md"),this.sizingService.changes.next(this.size)}get size(){return this._size}set group(e){N7(e)&&(this._group=e)}get group(){return this._group}get showStatusBar(){return!!this.selectable}get showTopToolbar(){return this.toolbarTemplate&&["top","both"].indexOf(this.toolbarTemplate.position)>-1}get showBottomToolbar(){return this.toolbarTemplate&&["bottom","both"].indexOf(this.toolbarTemplate.position)>-1}get isLocked(){return this.lockedLeafColumns.length>0}get showTopPager(){return!this.isVirtual&&!1!==this.pageable&&["top","both"].indexOf(this.pageable.position)>-1}get showBottomPager(){return!this.isVirtual&&!1!==this.pageable&&"top"!==this.pageable.position}get hasPager(){return this.showTopPager||this.showBottomPager}get showGroupPanel(){return this.groupable&&!1!==this.groupable.enabled}get groupableEmptyText(){return this.groupable.emptyText}get marqueeSelection(){return this.selectionService.enableMarquee||this.cellSelectionService.enableMarquee}set rowReorderable(e){this._rowReorderable=e,e?this.rowReorderSubscription=this.rowReorderService.rowReorder.subscribe(n=>{this.ngZone.run(()=>{this.rowReorder.emit(n)})}):this.rowReorderSubscription?.unsubscribe()}get rowReorderable(){return this._rowReorderable}set navigable(e){if("boolean"==typeof e)return this._navigable=e?["table","pager","toolbar"]:[],void(this.ctx.navigable=e);this.ctx.navigable=e.includes("table"),this._navigable=e}get navigable(){return this._navigable}set navigatable(e){this.navigable=e}get navigatable(){return this.navigable}set rowClass(e){if((0,t.naY)()&&"function"!=typeof e)throw new Error(Yo_functionType("rowClass",e));this._rowClass=e}get rowClass(){return this._rowClass}set rowSticky(e){if((0,t.naY)()&&Re(e)&&"function"!=typeof e)throw new Error(Yo_functionType("rowSticky",e));Re(e)&&(this._rowSticky=e)}get rowSticky(){return this._rowSticky}set rowSelected(e){if((0,t.naY)()&&"function"!=typeof e)throw new Error(Yo_functionType("rowSelected",e));this._rowSelected=e}get rowSelected(){return this._rowSelected}set cellSelected(e){if((0,t.naY)()&&"function"!=typeof e)throw new Error(Yo_functionType("cellSelected",e));this._cellSelected=e}get cellSelected(){return this._cellSelected}get activeCell(){return this.navigationService.activeCell}get activeRow(){return this.navigationService.activeRow}get selection(){return this.selectable||this.selectionDirective?this.defaultSelection?this.defaultSelection.stateToArray():this.selectionDirective.stateToArray():[]}set loading(e){this._loading=e,this.rowReorderable&&this.notifyReorderContainers()}get loading(){return this._loading}get dir(){return this.direction}get sizeSmallClass(){return"small"===this.size}get sizeMediumClass(){return"medium"===this.size||!this.size}get lockedClasses(){return this.lockedLeafColumns.length>0}get virtualClasses(){return this.isVirtual}get noScrollbarClass(){return 0===this.scrollbarWidth}get detailTemplate(){return this._customDetailTemplate?this._customDetailTemplate:this.detailTemplateChildren?this.detailTemplateChildren.first:void 0}set detailTemplate(e){this._customDetailTemplate=e}get cellLoadingTemplate(){return this._cellLoadingTemplate?this._customDetailTemplate:this.cellLoadingTemplateChildren?this.cellLoadingTemplateChildren.first:void 0}set cellLoadingTemplate(e){this._cellLoadingTemplate=e}get loadingTemplate(){return this._loadingTemplate?this._loadingTemplate:this.loadingTemplateChildren?this.loadingTemplateChildren.first:void 0}set loadingTemplate(e){this._loadingTemplate=e}get statusBarTemplate(){return this._statusBarTemplate?this._statusBarTemplate:this.statusBarTemplateChildren?this.statusBarTemplateChildren.first:void 0}set statusBarTemplate(e){this._statusBarTemplate=e}get noRecordsTemplate(){return this._customNoRecordsTemplate?this._customNoRecordsTemplate:this.noRecordsTemplateChildren?this.noRecordsTemplateChildren.first:void 0}set noRecordsTemplate(e){this._customNoRecordsTemplate=e}get pagerTemplate(){return this._customPagerTemplate?this._customPagerTemplate:this.pagerTemplateChildren?this.pagerTemplateChildren.first:void 0}set pagerTemplate(e){this._customPagerTemplate=e}get toolbarTemplate(){return this._customToolbarTemplate?this._customToolbarTemplate:this.toolbarTemplateChildren?this.toolbarTemplateChildren.first:void 0}set toolbarTemplate(e){this._customToolbarTemplate=e}get scrollbarWidth(){return this.supportService.scrollbarWidth}get headerPadding(){if(nb())return"";const e=Math.max(0,this.scrollbarWidth)+"px";return`0 ${this.rtl?0:e} 0 ${this.rtl?e:0}`}get hasGroupFooters(){return this.columnsContainer.hasGroupFooter}get showFooter(){return this.columnsContainer.hasFooter}get showGroupFooters(){return this.groupable&&this.groupable.showFooter}get ariaRowCount(){return this.totalColumnLevels+1+this.view.total+(WA(this.filterable)?1:0)}get ariaColCount(){return this.columnsContainer.leafColumnsToRender.length}get navigation(){return this.navigationService}get isVirtual(){return"virtual"===this.scrollable}get isScrollable(){return"none"!==this.scrollable}get visibleColumns(){return this.columnsContainer.allColumns}get lockedColumns(){return this.columnsContainer.lockedColumns}get nonLockedColumns(){return this.columnsContainer.nonLockedColumns}get lockedLeafColumns(){return this.columnsContainer.lockedLeafColumns}get stickyColumns(){return this.columns.filter(e=>e.sticky)}get nonLockedLeafColumns(){return this.columnsContainer.nonLockedLeafColumns}get leafColumns(){return this.columnsContainer.leafColumns}get totalColumnLevels(){return this.columnsContainer.totalLevels}get headerColumns(){return this.virtualColumns&&!this.pdfService.exporting?this.viewportColumns:this.nonLockedColumns}get headerLeafColumns(){return this.virtualColumns&&!this.pdfService.exporting?this.leafViewportColumns:this.nonLockedLeafColumns}get lockedWidth(){const e=32*this.group.length;return pm(this.lockedLeafColumns.toArray()).reduce((n,o)=>n+(o.width||0),e)}get nonLockedWidth(){if(!this.rtl&&this.lockedLeafColumns.length||this.virtualColumns)return this.virtualColumns?this.leafViewportColumns.reduce((e,n)=>e+(n.width||0),0):this.columnsContainer.unlockedWidth}get selectableSettings(){if(this.selectionService)return this.selectionService.options}get columnMenuTemplate(){const e=this.columnMenuTemplates.first;return e?e.templateRef:null}get totalCount(){return this.isVirtual||!Re(this.pageSize)?this.view.total:this.pageSize}getDefaultSelectors(e){return this.rowReorderService.defaultSelectors[e]}getHintSettings(e){return this.rowReorderService[e]}expandRow(e){this.toggleDetailRowLegacy(e,!0)}collapseRow(e){this.toggleDetailRowLegacy(e,!1)}expandGroup(e){this.toggleGroupRowLegacy(e,!0)}collapseGroup(e){this.toggleGroupRowLegacy(e,!1)}resetGroupsState(){this.groupsService.reset()}onDataChange(){this.autoGenerateColumns(),this.changeNotification.notify(),this.pdfService.dataChanged.emit(),Re(this.defaultSelection)&&this.defaultSelection.reset(),this.initSelectionService(),this.updateNavigationMetadata()}ngOnChanges(e){Dt("data",e)&&this.onDataChange(),this.lockedLeafColumns.length&&Zi(["pageSize","skip","sort","group"],e)&&this.changeNotification.notify(),Zi(["pageSize","scrollable","virtualColumns"],e)&&this.updateNavigationMetadata(),Dt("virtualColumns",e)&&(this.viewportColumns=this.leafViewportColumns=null),Dt("height",e,!1)&&this.renderer.setStyle(this.wrapper.nativeElement,"height",`${this.height}px`),Dt("filterable",e)&&this.lockedColumns.length&&this.syncHeaderHeight(this.ngZone.onStable.asObservable().pipe(Ye(1))),Zi(["columnMenu","sortable","filterable"],e,!1)&&(this.columnMenuOptions=this.columnMenu&&Object.assign({filter:!!this.filterable,sort:!!this.sortable},this.columnMenu)),Dt("scrollable",e)&&this.isScrollable&&this.ngZone.onStable.pipe(Ye(1)).subscribe(()=>this.attachScrollSync()),Dt("selectable",e)&&this.shouldResetSelection(e.selectable)&&(this.defaultSelection?this.defaultSelection.reset():this.selectionDirective&&this.selectionDirective.reset()),Dt("groupable",e,!0)&&(this.groupable=e.groupable.currentValue),Dt("navigable",e,!0)&&(this.navigationService.enabled?this.navigationService.setActiveSections(this.navigable):this.navigable.length&&this.navigationService.init(this.navigationMetadata(),this.navigable))}ngAfterViewInit(){this.attachScrollSync(),this.attachElementEventHandlers(),this.updateNavigationMetadata(),this.applyAutoSize()}ngAfterContentChecked(){this.columnsContainer.refresh(),this.verifySettings(),this.initSelectionService()}ngAfterContentInit(){this.shouldGenerateColumns=!this.columns.length,this.autoGenerateColumns(),this.columnList=new jA(this.columns),this.columnsChangeSubscription=this.columns.changes.subscribe(()=>this.verifySettings())}ngOnInit(){this.navigable.length&&this.navigationService.init(this.navigationMetadata(),this.navigable)}ngOnDestroy(){this.selectionSubscription&&this.selectionSubscription.unsubscribe(),this.stateChangeSubscription&&this.stateChangeSubscription.unsubscribe(),this.groupExpandCollapseSubscription&&this.groupExpandCollapseSubscription.unsubscribe(),this.detailsServiceSubscription&&this.detailsServiceSubscription.unsubscribe(),this.editServiceSubscription&&this.editServiceSubscription.unsubscribe(),this.pdfSubscription&&this.pdfSubscription.unsubscribe(),this.filterSubscription&&this.filterSubscription.unsubscribe(),this.sortSubscription&&this.sortSubscription.unsubscribe(),this.columnsChangeSubscription&&this.columnsChangeSubscription.unsubscribe(),this.excelSubscription&&this.excelSubscription.unsubscribe(),this.columnsContainerChangeSubscription&&this.columnsContainerChangeSubscription.unsubscribe(),this.scrollSyncService&&this.scrollSyncService.destroy(),this.detachElementEventHandlers&&this.detachElementEventHandlers(),this.defaultSelection&&this.defaultSelection.destroy(),this.cellClickSubscription&&this.cellClickSubscription.unsubscribe(),this.footerChangeSubscription&&this.footerChangeSubscription.unsubscribe(),this.ngZone=null,this.columnResizingSubscription&&this.columnResizingSubscription.unsubscribe(),this.columnReorderSubscription&&this.columnReorderSubscription.unsubscribe(),this.localizationSubscription&&this.localizationSubscription.unsubscribe(),this.columnVisibilityChangeSubscription&&this.columnVisibilityChangeSubscription.unsubscribe(),this.columnLockedChangeSubscription&&this.columnLockedChangeSubscription.unsubscribe(),this.columnStickyChangeSubscription&&this.columnStickyChangeSubscription.unsubscribe(),this.focusElementSubscription&&this.focusElementSubscription.unsubscribe(),this.rowReorderSubscription&&this.rowReorderSubscription.unsubscribe(),this.columnRangeChangeSubscription.unsubscribe()}attachScrollSync(){nb()||(this.header&&this.scrollSyncService.registerEmitter(this.header.nativeElement,"header"),this.footer&&(this.footerChangeSubscription=L7(this.footer).subscribe(e=>e.map(n=>n.nativeElement).filter(Re).forEach(n=>{this.scrollSyncService.registerEmitter(n,"footer"),n.scrollLeft=this.wrapper.nativeElement.querySelector(".k-grid-content")?.scrollLeft}))))}get ariaLabel(){return this.localization.get("gridLabel")}messageFor(e){return this.localization.get(e)}editRow(e,n,o){if(this.editService.editRow(e,n),Re(o)&&o.skipFocus)return;const r=`tr[data-kendo-grid-item-index="${e}"]`,a=o&&o.columnIndex,l=isNaN(a)?r:`${r} td[data-kendo-grid-column-index="${a}"]`;this.focusEditElement(l)}closeRow(e){this.editService.close(e)}addRow(e){if(!(e instanceof Zh)){const o=Object.keys(e).reduce((s=>(i,e)=>(i[e]=new fl(s[e]),i))(e),{});e=new Zh(o)}this.editService.addRow(e),this.focusEditElement(".k-grid-add-row")}editCell(e,n,o){const r=this.columnInstance(n);this.editService.editCell(e,r,o),this.focusEditElement(".k-grid-edit-cell")}closeCell(){return!this.editService.closeCell()}cancelCell(){this.editService.cancelCell()}isEditing(){return this.editService.isEditing()}isEditingCell(){return this.editService.isEditingCell()}saveAsPDF(){this.pdfService.save(this)}drawPDF(){const e=(()=>{let s,i;const e=new Promise((n,o)=>{s=r=>(n(r),e),i=r=>(o(r),e)});return e.resolve=s,e.reject=i,e})();return this.pdfService.draw(this,e),e}saveAsExcel(){this.excelService.save(this)}autoFitColumn(e){this.columnResizingService.autoFit(e)}autoFitColumns(e=this.columns){let n;n=e instanceof t.rOR?e.toArray():e,this.columnResizingService.autoFit(...n)}notifyPageChange(e,n){"list"===e&&!this.isVirtual||this.pageChange.emit(n)}notifyScrollBottom(){"none"!==this.scrollable&&ke(this.scrollBottom)&&this.ngZone.run(()=>this.scrollBottom.emit({sender:this}))}focusEditElement(e){this.focusElementSubscription&&this.focusElementSubscription.unsubscribe(),this.ngZone.runOutsideAngular(()=>{this.focusElementSubscription=this.ngZone.onStable.asObservable().pipe(Ye(1)).subscribe(()=>{const n=this.wrapper.nativeElement;!this.setEditFocus(n.querySelector(e))&&this.isLocked&&this.setEditFocus(n.querySelector(`.k-grid-content ${e}`)),this.focusElementSubscription=null})})}focus(){return this.assertNavigable(),this.navigationService.focusCell()}focusCell(e,n){return this.assertNavigable(),this.navigationService.focusCell(e,n)}focusNextCell(e=!0){return this.assertNavigable(),this.navigationService.focusNextCell(e)}focusPrevCell(e=!0){return this.assertNavigable(),this.navigationService.focusPrevCell(e)}scrollTo(e){this.scrollRequestService.scrollTo(e,!1)}scrollToItem(e){this.scrollRequestService.scrollToItem(e)}reorderColumn(e,n,o={before:!1}){let a=ab(this.allColumnsForLevel(e.level))[n];!a||a.isLocked&&!e.isLocked&&1===this.columnsContainer.nonLockedColumns.length||(z7(a)&&!o.before&&(a=a.childColumns.last),this.reorder({before:o.before,source:e,target:a}))}set isDetailExpanded(e){this.detailsService.userCallback=e}get isDetailExpanded(){return this.detailsService.userCallback}set isGroupExpanded(e){this.groupsService.userCallback=e,this.groupable=Re(e)}get isGroupExpanded(){return this.groupsService.userCallback}handleReorderEvents(e,n){this.rowReorderService[n](e)}reorder({target:e,source:n,before:o,changeContainer:r}){this.ngZone.run(()=>{const a=ab(this.allColumnsForLevel(n.level));let l=a.indexOf(e);e.parent&&e.parent.isSpanColumn&&(l=a.indexOf(e.parent),o&&(e=e.parent));const c=a.indexOf(n);r&&(o&&0<l&&c<l?l--:!o&&c>l&&l++);const u=new lOe({column:n,oldIndex:c,newIndex:l});this.columnReorder.emit(u),!u.isDefaultPrevented()&&(r&&this.columnLockedChange.emit(new cOe([n])),this.updateColumnIndices({columnsForLevel:a,source:n,target:e,before:o}),n.locked!==e.locked&&(n.locked=e.locked),this.columnsContainer.refresh(),this.changeDetectorRef.markForCheck())})}updateColumnIndices({columnsForLevel:e,source:n,target:o,before:r}){const a=UDe(e),l=a.indexOf(n);let c=0,u=0,f=1;n.isSpanColumn&&(f+=n.childColumns.length);let _=0;for(;_<a.length;){const g=a[_];if(g===o)c=r?u:u+1,u=r?u+f:u,g.orderIndex=u,c===u+1&&(u+=f);else{if(g===n){_+=f;continue}g.orderIndex=u}u++,_++}for(_=l;_<l+f;_++)a[_].orderIndex=c++;this.updateIndicesForLevel(n.level+1)}updateIndicesForLevel(e){const n=this.allColumnsForLevel(e-1),o=[];ab(n).forEach(r=>{r.isColumnGroup&&o.push(...r.childrenArray.sort((a,l)=>a.orderIndex-l.orderIndex))}),UDe(o).map((r,a)=>r.orderIndex=a),e<this.columnList.totalColumnLevels()&&this.updateIndicesForLevel(e+1)}allColumnsForLevel(e){return this.columnList.toArray().filter(n=>n.level===e)}initSelectionService(){if(!this.selectable)return this.selectionService.ngOnDestroy(),void this.cellSelectionService.ngOnDestroy();!this.selectionDirective&&!Re(this.defaultSelection)&&(this.defaultSelection=new JDe(this.ctx,this.changeDetectorRef));const e=this.selectable.cell,n=e?this.cellSelectionService:this.selectionService,o=e?this.selectionService:this.cellSelectionService;o.active&&(o.ngOnDestroy(),n.addSubscriptions(),o.active=!1),n.active=!0,n.init({cellSelected:e?this.cellSelected:void 0,rowSelected:e?void 0:this.rowSelected,selectable:this.selectable,view:this.view,columns:e?this.columnList.toArray():void 0}),!this.selectionDirective&&!this.selectableSettings.enabled&&this.defaultSelection.reset(),this.selectionSubscription&&this.selectionSubscription.unsubscribe(),this.selectionSubscription=e?this.cellSelectionService.changes.subscribe(r=>{this.ngZone.run(()=>this.selectionChange.emit(r))}):this.selectionService.changes.subscribe(r=>{this.ngZone.run(()=>this.selectionChange.emit(r))})}setEditFocus(e){if(e)return this.navigationService.tryFocus(e)}columnInstance(e){let n;if(n="number"==typeof e?this.columnsContainer.lockedLeafColumns.toArray().concat(this.columnsContainer.nonLockedLeafColumns.toArray())[e]:"string"==typeof e?this.columnList.filter(o=>o.field===e)[0]:e,!n&&(0,t.naY)())throw new Error((s=>`Invalid column ${s}.`)(e));return n}verifySettings(){if((0,t.naY)()){const e=this.lockedLeafColumns.length||this.columnMenu&&this.columnMenu.lock,n=this.stickyColumns.length||this.columnMenu&&this.columnMenu.stick;if(e&&this.detailTemplate)throw new Error(Yo_incompatibleFeatures("detail template","locked columns"));if(n&&this.detailTemplate)throw new Error(Yo_incompatibleFeatures("detail template","sticky columns"));if(this.lockedLeafColumns.length&&!this.nonLockedLeafColumns.length&&console.warn(Yo_nonLockedColumnPresent),(e||this.virtualColumns)&&pm(this.columnList.toArray()).filter(o=>!o.width&&!aD(o)).length&&console.warn(qd_requiredWidth(e?"Locked":"Virtual")),e&&!this.isScrollable&&console.warn(qd_requiredScroll("Locked")),n&&!this.isScrollable&&console.warn(qd_requiredScroll("Sticky")),this.virtualColumns&&!this.isScrollable&&console.warn(qd_requiredScroll("Virtual")),this.columnList.filter(aD).filter(o=>!o.hasChildren).length)throw new Error("ColumnGroupComponent should contain ColumnComponent or CommandColumnComponent.");if(this.columnList.filter(o=>o.locked&&o.parent&&!o.parent.isLocked).length)throw new Error("Locked child columns require their parent columns to be locked.");if((this.rowHeight||this.detailRowHeight)&&!this.isVirtual&&console.warn(Yo_rowHeightVirtual),!this.rowHeight&&this.isVirtual&&console.warn(Yo_rowHeightVirtual),!this.detailRowHeight&&this.isVirtual&&this.detailTemplate&&console.warn(Yo_rowHeightVirtual),n&&pm(this.columnList.toArray()).filter(o=>!o.width&&!aD(o)).length&&console.warn(qd_requiredWidth("Sticky")),n&&this.virtualColumns)throw new Error(Yo_incompatibleFeatures("sticky columns","column virtualization"));if(this.rowSticky&&"virtual"===this.scrollable)throw new Error(Yo_incompatibleFeatures("sticky rows",'row virtualization (scrollable="virtual")'));if(this.rowSticky&&this.groupable)throw new Error(Yo_incompatibleFeatures("sticky rows","grouping"));(s=>{pm(s.toArray()).filter(BA).filter(({field:i})=>!(s=>!ar(s)&&Ckt.test(s)&&"."!==s[0]&&"."!==s[s.length-1])(i)).forEach(({field:i})=>console.warn((s=>`Grid column field name '${s}' does not look like a valid JavaScript identifier.\n        Identifiers can contain only alphanumeric characters (including "$" or "_"), and may not start with a digit.\n        Please use only valid identifier names to ensure error-free operation.`)(i)))})(this.columnList)}}autoGenerateColumns(){this.shouldGenerateColumns&&!this.columns.length&&this.view.length&&this.columns.reset(Object.keys(this.view.at(0)).map(e=>{const n=new yn;return n.field=e,n}))}attachStateChangesEmitter(){this.stateChangeSubscription=Ht(this.pageChange.pipe((0,U.T)(e=>({filter:this.filter,group:this.group,skip:e.skip,sort:this.sort,take:e.take}))),this.sortChange.pipe((0,U.T)(e=>({filter:this.filter,group:this.group,skip:this.skip,sort:e,take:this.pageSize}))),this.groupChange.pipe((0,U.T)(e=>({filter:this.filter,group:e,skip:this.skip,sort:this.sort,take:this.pageSize}))),this.filterChange.pipe((0,U.T)(e=>({filter:e,group:this.group,skip:0,sort:this.sort,take:this.pageSize})))).subscribe(e=>{this.closeCell(),this.cancelCell(),this.dataStateChange.emit(e)})}attachEditHandlers(){this.editService&&(this.editServiceSubscription=this.editService.changes.subscribe(this.emitCRUDEvent.bind(this)))}emitCRUDEvent(e){const{action:n,rowIndex:o,formGroup:r}=e;let a=this.view.at(o-this.skip);switch("add"!==n&&!a&&(a=r.value),this.closeCell(),Object.assign(e,{dataItem:a,sender:this}),n){case"add":this.add.emit(e);break;case"cancel":this.cancel.emit(e);break;case"edit":this.edit.emit(e);break;case"remove":this.remove.emit(e);break;case"save":this.save.emit(e);break;case"cellClose":this.cellClose.emit(e)}}attachDomEventHandlers(){this.cellClickSubscription=this.domEvents.cellClick.subscribe(e=>{this.cellClick.emit(Object.assign({sender:this},e))})}attachElementEventHandlers(){if(nb())return;const e=this.wrapper.nativeElement,n=this.ariaRoot.nativeElement;this.ngZone.runOutsideAngular(()=>{const o=this.resizeCheck.bind(this),r=this.renderer.listen("window","resize",o),a=this.renderer.listen("window","orientationchange",o),l=this.renderer.listen("document","click",b=>{const k=document.activeElement;this.editService.shouldCloseCell()&&!Da(b.target,um("k-animation-container k-grid-ignore-click"))&&(!k||!Da(k,um("k-animation-container"))&&!c3e(k,this.wrapper.nativeElement))&&this.editService.closeCell(b)}),c=this.renderer.listen("window","blur",b=>{const k=document.activeElement;k&&!(el("input")(k)&&"file"===k.type&&c3e(k,this.wrapper.nativeElement))&&this.editService.closeCell(b),this.domEvents.windowBlur.emit(b)}),u=this.renderer.listen(e,"click",b=>{this.domEvents.click.emit(b)}),f=this.renderer.listen(e,"keydown",b=>{this.domEvents.keydown.emit(b)});let _=!1;const g=this.renderer.listen(n,"focusin",b=>{this.domEvents.focus.emit(b),_||(this.domEvents.focusIn.emit(b),_=!0)}),S=this.renderer.listen(n,"focusout",b=>{const k=b.relatedTarget||document.activeElement;!Da(k,O=>O===n)&&(this.domEvents.focusOut.emit(b),_=!1)});this.detachElementEventHandlers=()=>{r(),a(),l(),c(),u(),f(),g(),S()}})}matchesMedia(e){return this.responsiveService.matchesMedia(e.media)}resizeCheck(){if(window.innerWidth!==this.cachedWindowWidth){this.cachedWindowWidth=window.innerWidth;let e=!1;this.columnList.filterHierarchy(n=>{const o=this.matchesMedia(n);return n.matchesMedia!==o&&(e=!0,n.matchesMedia=o),n.isVisible}),e&&this.ngZone.run(()=>{this.changeDetectorRef.markForCheck()})}}emitPDFExportEvent(){const e=new jkt;this.pdfExport.emit(e),e.isDefaultPrevented()||this.saveAsPDF()}syncHeaderHeight(e){return e.pipe(z(()=>Re(this.lockedHeader))).subscribe(()=>ZDe(this.lockedHeader.nativeElement.children[0],this.header.nativeElement.children[0]))}columnsContainerChange(){this.columnsContainerChangeSubscription=this.syncHeaderHeight(this.columnsContainer.changes.pipe(z(()=>this.lockedColumns.length>0),Y(()=>this.ngZone.onStable.asObservable().pipe(Ye(1)))))}handleColumnResize(){const e=this.columnResizingService.changes;this.columnResizingSubscription=e.pipe(x(n=>{"start"===n.type?this.renderer.addClass(this.wrapper.nativeElement,"k-grid-column-resizing"):"end"===n.type&&this.renderer.removeClass(this.wrapper.nativeElement,"k-grid-column-resizing")}),z(n=>"start"===n.type),Y(()=>e.pipe(zs(e.pipe(z(n=>"triggerAutoFit"===n.type))),z(n=>"end"===n.type)))).subscribe(this.notifyResize.bind(this))}notifyResize(e){const n=e.resizedColumns.filter(o=>td(o.column.resizable)&&!o.column.isColumnGroup).map(o=>({column:o.column,newWidth:o.column.width,oldWidth:o.oldWidth}));this.columnResize.emit(n)}assertNavigable(){if((0,t.naY)()&&!this.navigationService.enabled)throw new Error(Yo_focusNavigable)}navigationMetadata(){const e=this.isVirtual,o=e?this.view.total:this.pageSize,r=this.editService.hasNewItem?1:0,a=WA(this.filterable)?1:0;return new nwt(o,this.totalColumnLevels+1+a+r,e,this.hasPager,Re(this.detailTemplate),this.wrapper,this.virtualColumns,this.columnsContainer)}updateNavigationMetadata(){this.navigationService.metadata=this.navigationMetadata()}applyAutoSize(){const e=this.columns.filter(n=>this.autoSize?!1!==n.autoSize:n.autoSize);e.length>0&&this.ngZone.onStable.pipe(Ye(1)).subscribe(n=>this.autoFitColumns(e))}onColumnRangeChange(e){const n=this.viewportColumns=[],o=this.columnsContainer.nonLockedLeafColumns.toArray().slice(e.start,e.end+1);for(let r=0;r<o.length;r++){let a=o[r];for(;a.parent;)a=a.parent;const l=[a];for(;l.length;)a=l.shift(),n.push(a),a.isColumnGroup&&l.unshift(...a.childrenArray);const c=n[n.length-1];for(a=o[r];a!==c&&r<o.length;)r++,a=o[r]}if(e.start>0){const r=o[0];let a=e.offset,l=n[0],c=0;for(;l!==r;)a-=l.isColumnGroup?0:l.width,c++,l=n[c];if(a>0){const u=this.columnsContainer.totalLevels;let f;for(let _=0;_<=u;_++){const g=_<u?new sne(f):new Ko(f);f=g,g.title="\xa0",g.width=a,n.unshift(g)}}}this.leafViewportColumns=n.filter(r=>!r.isColumnGroup)}toggleDetailRowLegacy(e,n){const o="function"==typeof this.isDetailExpanded;if((0,t.naY)()&&o)throw new Error(Yo_expandCollapseMethods("expandRow","collapseRow","kendoGridDetailsExpandBy","isDetailExpanded"));!(0,t.naY)()&&o||this.detailsService.isExpanded(e,null)!==n&&this.detailsService.toggleRow(e,null)}toggleGroupRowLegacy(e,n){const o="function"==typeof this.isGroupExpanded;if((0,t.naY)()&&o)throw new Error(Yo_expandCollapseMethods("expandGroup","collapseGroup","kendoGridExpandGroupBy","isGroupExpanded"));!(0,t.naY)()&&o||this.groupsService.isExpanded({groupIndex:e})!==n&&(this.groupsService.toggleRow({index:e},!1),this.ctx.groupBindingDirective&&this.ctx.groupBindingDirective["group"+(n?"Expand":"Collapse")]({groupIndex:e}))}shouldResetSelection(e){const n=e.previousValue;if(!n)return!1;const o=e.currentValue;return!o||!1===o.enabled||n.cell!==o.cell}notifyReorderContainers(){this.dragTargetContainer?.notify(),this.dropTargetContainer?.notify()}get flatData(){return N7(this.data)?this.data:this.data.data}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(lne),t.rXU(lD),t.rXU(H7),t.rXU(t.aKT),t.rXU(W7),t.rXU(rb),t.rXU(Y7),t.rXU(FA),t.rXU(up),t.rXU(Oa),t.rXU($A),t.rXU(eOe),t.rXU(t.sFG),t.rXU(K7),t.rXU(t.SKi),t.rXU(J7),t.rXU(ib),t.rXU(XA),t.rXU(t.gRc),t.rXU(gne),t.rXU(lc),t.rXU(tl),t.rXU(Z7),t.rXU(U7),t.rXU(j),t.rXU(Be),t.rXU(aS),t.rXU(bne))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,Ko,4),t.wni(o,lb,4),t.wni(o,Sne,4),t.wni(o,Cne,4),t.wni(o,Ene,4),t.wni(o,une,4),t.wni(o,hne,4),t.wni(o,hp,4),t.wni(o,B7,4)),2&e){let r;t.mGM(r=t.lsd())&&(n.columns=r),t.mGM(r=t.lsd())&&(n.detailTemplateChildren=r),t.mGM(r=t.lsd())&&(n.cellLoadingTemplateChildren=r),t.mGM(r=t.lsd())&&(n.loadingTemplateChildren=r),t.mGM(r=t.lsd())&&(n.statusBarTemplateChildren=r),t.mGM(r=t.lsd())&&(n.noRecordsTemplateChildren=r),t.mGM(r=t.lsd())&&(n.pagerTemplateChildren=r),t.mGM(r=t.lsd())&&(n.toolbarTemplateChildren=r),t.mGM(r=t.lsd())&&(n.columnMenuTemplates=r)}},viewQuery:function(e,n){if(1&e&&(t.GBs(REt,5),t.GBs(NEt,5),t.GBs(LEt,7),t.GBs(Vq,5),t.GBs(zq,5),t.GBs(GEt,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.lockedHeader=o.first),t.mGM(o=t.lsd())&&(n.header=o.first),t.mGM(o=t.lsd())&&(n.ariaRoot=o.first),t.mGM(o=t.lsd())&&(n.dragTargetContainer=o.first),t.mGM(o=t.lsd())&&(n.dropTargetContainer=o.first),t.mGM(o=t.lsd())&&(n.footer=o)}},hostVars:13,hostBindings:function(e,n){2&e&&(t.BMQ("dir",n.dir),t.AVh("k-grid",n.hostClass)("k-grid-sm",n.sizeSmallClass)("k-grid-md",n.sizeMediumClass)("k-grid-lockedcolumns",n.lockedClasses)("k-grid-virtual",n.virtualClasses)("k-grid-no-scrollbar",n.noScrollbarClass))},inputs:{data:"data",pageSize:"pageSize",height:"height",rowHeight:"rowHeight",detailRowHeight:"detailRowHeight",skip:"skip",scrollable:"scrollable",selectable:"selectable",sort:"sort",size:"size",trackBy:"trackBy",filter:"filter",group:"group",virtualColumns:"virtualColumns",filterable:"filterable",sortable:"sortable",pageable:"pageable",groupable:"groupable",rowReorderable:"rowReorderable",navigable:"navigable",navigatable:"navigatable",autoSize:"autoSize",rowClass:"rowClass",rowSticky:"rowSticky",rowSelected:"rowSelected",cellSelected:"cellSelected",resizable:"resizable",reorderable:"reorderable",loading:"loading",columnMenu:"columnMenu",hideHeader:"hideHeader",isDetailExpanded:"isDetailExpanded",isGroupExpanded:"isGroupExpanded"},outputs:{filterChange:"filterChange",pageChange:"pageChange",groupChange:"groupChange",sortChange:"sortChange",selectionChange:"selectionChange",rowReorder:"rowReorder",dataStateChange:"dataStateChange",groupExpand:"groupExpand",groupCollapse:"groupCollapse",detailExpand:"detailExpand",detailCollapse:"detailCollapse",edit:"edit",cancel:"cancel",save:"save",remove:"remove",add:"add",cellClose:"cellClose",cellClick:"cellClick",pdfExport:"pdfExport",excelExport:"excelExport",columnResize:"columnResize",columnReorder:"columnReorder",columnVisibilityChange:"columnVisibilityChange",columnLockedChange:"columnLockedChange",columnStickyChange:"columnStickyChange",scrollBottom:"scrollBottom",contentScroll:"contentScroll"},exportAs:["kendoGrid"],features:[t.Jv_([lne,j,lc,lD,H7,FA,rb,W7,Y7,up,$A,pne,{provide:gg,useValue:Qyt},{provide:Ve,useValue:"kendo.grid"},Oa,eOe,hm,K7,J7,fne,dm,ib,XA,YA,_ne,q7,Q7,gne,tl,oS,nd,zA,U7,Z7,Be,aS,bne,yne]),t.OA$],decls:16,vars:22,consts:()=>{let i,e,n,o,r,a,l,c,u,f,_,g,S,b,k,D,O,I,N,P,G,H,$,Q,ie,ce,re,Ne,ue,ye,se,te,le,ve,Se,Me,Ut,Le,en,Ce,Tt,Nt,xt,Es,dn,Kn,ei,Co,di,Ps,gd,vd,Sd,Nl,uu,La,bt,Xm,a2,O6,T6,M6,I6,x6,A6,R6,N6,L6,G6,P6,F6,U6,B6,V6,z6,j6,H6,$6,X6,W6,Y6,K6,J6;return i="Trascina l'header di una colonna e rilascialo qui per raggruppare secondo tale colonna",e="Nessun record disponibile.",n="Vai alla prima pagina",o="Vai alla pagina precedente",r="Vai alla prossima pagina",a="Vai all'ultima pagina",l="Pagina",c="di",u="elementi",f="Numero di pagina",_="elementi per pagina",g="Filtro",S="\xC8 uguale a",b="Non \xE8 uguale a",k="\xC8 nullo",D="Non \xE8 nullo",O="\xC8 vuoto",I="Non \xE8 vuoto",N="Inizia con",P="Contiene",G="Non contiene",H="Finisce con",$="\xC8 pi\xF9 grande o uguale a",Q="\xC8 pi\xF9 grande di",ie="\xC8 pi\xF9 piccolo o uguale a",ce="\xC8 pi\xF9 piccolo o uguale a",re="\xC8 vero",Ne="\xC8 falso",ue="(Tutti)",ye="\xC8 dopo o uguale a",se="\xC8 dopo",te="\xC8 prima",le="\xC8 prima o uguale a",ve="Filtro",Se="Rimuovi",Me="E",Ut="O",Le="Caricamento",en="Tabella dati",Ce="Colonne",Tt="Blocca",Nt="Sblocca",xt="Imposta la posizione della colonna",Es="Fissa",dn="Rilascia",Kn="Ordinabile",ei="Ordina crescente",Co="Ordina decrescente",di="Ridimensiona tutte le colonne",Ps="Ridimensiona questa colonna",gd="Non ordinato",vd="Ordinato crescente",Sd="Ordinato decrescente",Nl="Applica",uu="Reset",La="Espandi i dettagli",bt="Riduci i dettagli",Xm="Oggi",a2="Mostra calendario",O6="Decrementa",T6="Aumenta",M6="Seleziona la riga",I6="Seleziona tutte le righe",x6="Riduci il gruppo",A6="Espandi il gruppo",R6="Seleziona la pagina",N6="Top toolbar",L6="Bottom toolbar",G6="Group panel",P6="Drag row",F6="Filter",U6="General",B6="Columns",V6="Move as previous",z6="Move as next",j6="Page navigation, pagina ",H6="Filtro ",$6="Men\xF9 filtro ",X6="Operatori filtro per ",W6="Filter cell operators for ",Y6="Boolean filter cell for ",K6="Filtri logici per ",J6="Men\xF9 colonna ",[["ariaRoot",""],["defaultHint",""],["header",""],["lockedHeader",""],["footer",""],["pagerLabel",j6,"filterInputLabel",H6,"filterMenuTitle",$6,"filterMenuOperatorsDropDownLabel",X6,"filterCellOperatorLabel",W6,"booleanFilterCellLabel",Y6,"filterMenuLogicDropDownLabel",K6,"columnMenu",J6],["kendoGridLocalizedMessages","","groupPanelEmpty",i,"noRecords",e,"pagerFirstPage",n,"pagerPreviousPage",o,"pagerNextPage",r,"pagerLastPage",a,"pagerPage",l,"pagerOf",c,"pagerItems",u,"pagerPageNumberInputTitle",f,"pagerItemsPerPage",_,"filter",g,"filterEqOperator",S,"filterNotEqOperator",b,"filterIsNullOperator",k,"filterIsNotNullOperator",D,"filterIsEmptyOperator",O,"filterIsNotEmptyOperator",I,"filterStartsWithOperator",N,"filterContainsOperator",P,"filterNotContainsOperator",G,"filterEndsWithOperator",H,"filterGteOperator",$,"filterGtOperator",Q,"filterLteOperator",ie,"filterLtOperator",ce,"filterIsTrue",re,"filterIsFalse",Ne,"filterBooleanAll",ue,"filterAfterOrEqualOperator",ye,"filterAfterOperator",se,"filterBeforeOperator",te,"filterBeforeOrEqualOperator",le,"filterFilterButton",ve,"filterClearButton",Se,"filterAndLogic",Me,"filterOrLogic",Ut,"loading",Le,"gridLabel",en,"columns",Ce,"lock",Tt,"unlock",Nt,"setColumnPosition",xt,"stick",Es,"unstick",dn,"sortable",Kn,"sortAscending",ei,"sortDescending",Co,"autosizeAllColumns",di,"autosizeThisColumn",Ps,"sortedDefault",gd,"sortedAscending",vd,"sortedDescending",Sd,"columnsApply",Nl,"columnsReset",uu,"detailExpand",La,"detailCollapse",bt,"filterDateToday",Xm,"filterDateToggle",a2,"filterNumericDecrement",O6,"filterNumericIncrement",T6,"selectionCheckboxLabel",M6,"selectAllCheckboxLabel",I6,"groupCollapse",x6,"groupExpand",A6,"selectPage",R6,"topToolbarLabel",N6,"bottomToolbarLabel",L6,"groupPanelLabel",G6,"dragRowHandleLabel",P6,"columnMenuFilterTabTitle",F6,"columnMenuGeneralTabTitle",U6,"columnMenuColumnsTabTitle",B6,"groupChipMenuPrevious",V6,"groupChipMenuNext",z6,6,"pagerLabel","filterInputLabel","filterMenuTitle","filterMenuOperatorsDropDownLabel","filterCellOperatorLabel","booleanFilterCellLabel","filterMenuLogicDropDownLabel","columnMenu"],["class","k-toolbar k-grid-toolbar","position","top",3,"size","navigable",4,"ngIf"],["class","k-grid-pager-top k-pager",3,"tabindex","template","pageSize","total","skip","size","options","pageChange",4,"ngIf"],["role","toolbar",3,"navigable","text","groups","change",4,"ngIf"],["role","grid",1,"k-grid-aria-root",3,"id"],[4,"ngIf"],["kendoGridLoading","",3,"loadingTemplate",4,"ngIf"],[3,"statusBarTemplate",4,"ngIf"],["class","k-pager",3,"tabindex","template","pageSize","total","skip","size","options","pageChange",4,"ngIf"],["class","k-toolbar k-grid-toolbar k-grid-toolbar-bottom","position","bottom",3,"size","navigable",4,"ngIf"],["kendoWatermarkOverlay","",4,"ngIf"],["position","top",1,"k-toolbar","k-grid-toolbar",3,"size","navigable"],[1,"k-grid-pager-top","k-pager",3,"pageChange","tabindex","template","pageSize","total","skip","size","options"],["role","toolbar",3,"change","navigable","text","groups"],["class","k-grid-header","role","presentation",3,"padding",4,"ngIf"],["kendoDragTargetContainer","","kendoDropTargetContainer","","mode","manual","kendoDraggable","","kendoGridSelectionMarquee","",3,"onPress","onDragStart","onDrag","onDragEnter","onDragLeave","onDragEnd","onDrop","pageChange","scrollBottom","contentScroll","dragDisabled","dropDisabled","dragTargetFilter","dropTargetFilter","dragHandle","hint","dragData","data","rowHeight","detailRowHeight","total","take","groups","groupable","skip","trackBy","columns","selectable","filterable","detailTemplate","noRecordsTemplate","size","rowClass","rowSticky","loading","isVirtual","cellLoadingTemplate","loadingTemplate","virtualColumns","enableDrag","sort"],["class","k-grid-footer",3,"padding",4,"ngIf"],["role","presentation",1,"k-grid-header"],["role","presentation","class","k-grid-header-locked",3,"width",4,"ngIf"],["role","presentation","data-scrollable","",1,"k-grid-header-wrap",3,"kendoGridResizableContainer","lockedWidth"],["role","presentation","kendoGridTable","",1,"k-grid-header-table",3,"virtualColumns","size"],["kendoGridColGroup","",3,"columns","groups","detailTemplate"],["kendoGridHeader","","role","rowgroup",3,"resizable","scrollable","columns","totalColumnLevels","sort","filter","filterable","groupable","reorderable","groups","sortable","columnMenu","columnMenuTemplate","lockedColumnsCount","totalColumnsCount","totalColumns","detailTemplate","tabIndex"],["class","k-width-container","role","presentation",4,"ngIf"],["role","presentation",1,"k-grid-header-locked"],["role","presentation","kendoGridTable","",1,"k-grid-header-table",3,"locked","size"],["kendoGridHeader","","role","rowgroup",3,"resizable","scrollable","columns","totalColumnLevels","sort","groups","filter","filterable","groupable","reorderable","sortable","columnMenu","columnMenuTemplate","totalColumnsCount","totalColumns","detailTemplate","tabIndex"],["role","presentation",1,"k-width-container"],[1,"k-grid-footer"],["class","k-grid-footer-locked",3,"width",4,"ngIf"],["data-scrollable","",1,"k-grid-footer-wrap",3,"kendoGridResizableContainer","lockedWidth"],["role","presentation","kendoGridTable","",1,"k-grid-footer-table",3,"size"],["kendoGridFooter","",3,"logicalRowIndex","scrollable","groups","columns","lockedColumnsCount","detailTemplate","totalColumns"],[1,"k-grid-footer-locked"],["role","presentation","kendoGridTable","",1,"k-grid-footer-table",3,"locked","size"],["kendoGridFooter","",3,"scrollable","groups","columns","detailTemplate","logicalRowIndex","totalColumns"],["kendoGridTable","",3,"size"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","totalColumns","groups","groupable","reorderable","sort","sortable","filter","filterable","columnMenu","columnMenuTemplate","detailTemplate","tabIndex",4,"ngIf"],["kendoGridTableBody","","kendoDraggable","","kendoGridSelectionMarquee","",3,"isLoading","groups","data","skip","columns","selectable","filterable","noRecordsTemplate","detailTemplate","showGroupFooters","trackBy","rowClass","enableDrag"],["kendoGridFooter","",3,"scrollable","logicalRowIndex","groups","columns","detailTemplate","totalColumns",4,"ngIf"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","totalColumns","groups","groupable","reorderable","sort","sortable","filter","filterable","columnMenu","columnMenuTemplate","detailTemplate","tabIndex"],["kendoGridFooter","",3,"scrollable","logicalRowIndex","groups","columns","detailTemplate","totalColumns"],["kendoGridLoading","",3,"loadingTemplate"],[3,"statusBarTemplate"],[1,"k-pager",3,"pageChange","tabindex","template","pageSize","total","skip","size","options"],["position","bottom",1,"k-toolbar","k-grid-toolbar","k-grid-toolbar-bottom",3,"size","navigable"],["innerCssClass","k-drag-status",3,"name","svgIcon"],["kendoWatermarkOverlay",""]]},template:function(e,n){1&e&&(t.qex(0,6),t.ehv(1,5),t.bVm(),t.DNE(2,FEt,1,4,"kendo-grid-toolbar",7)(3,UEt,1,8,"kendo-pager",8)(4,BEt,1,5,"kendo-grid-group-panel",9),t.j41(5,"div",10,0),t.DNE(7,XEt,4,35,"ng-container",11)(8,KEt,6,21,"ng-container",11)(9,JEt,1,1,"div",12),t.k0s(),t.DNE(10,qEt,1,1,"kendo-grid-status-bar",13)(11,QEt,1,8,"kendo-pager",14)(12,ZEt,1,4,"kendo-grid-toolbar",15)(13,eyt,2,3,"ng-template",null,1,t.C5r)(15,tyt,1,0,"div",16)),2&e&&(t.uP7("Page navigation, page {currentPage} of {totalPages}")("{columnName} Filter")("{columnName} Filter Menu")("{columnName} Filter Operators")("Filter cell operators for {columnName}")("Boolean filter cell for {columnName}")("{columnName} Filter Logic")("{columnName} Column Menu"),t.nnv(1),t.R7$(2),t.Y8G("ngIf",n.showTopToolbar),t.R7$(),t.Y8G("ngIf",n.showTopPager),t.R7$(),t.Y8G("ngIf",n.showGroupPanel),t.R7$(),t.Y8G("id",n.ariaRootId),t.BMQ("aria-label",n.ariaLabel)("aria-rowcount",n.ariaRowCount)("aria-colcount",n.ariaColCount),t.R7$(2),t.Y8G("ngIf",n.isScrollable),t.R7$(),t.Y8G("ngIf",!n.isScrollable),t.R7$(),t.Y8G("ngIf",n.loading),t.R7$(),t.Y8G("ngIf",n.showStatusBar),t.R7$(),t.Y8G("ngIf",n.showBottomPager),t.R7$(),t.Y8G("ngIf",n.showBottomToolbar),t.R7$(3),t.Y8G("ngIf",n.showLicenseWatermark))},dependencies:[kne,Ine,mOe,Ane,XOe,s3e,o3e,qne,r3e,a3e,Ke,U_,l3e,W,eie,TB,tie,Vq,zq,Nd,jDe],encapsulation:2}),s})(),IB=(()=>{class s{constructor(e,n,o,r){this.grid=e,this.changeDetector=n,this.localDataChangesService=o,this.rowReorderService=r,this.state={skip:0},this.originalData=[],o&&(this.dataChangedSubscription=this.localDataChangesService.changes.subscribe(this.rebind.bind(this)))}set skip(e){Re(e)||(e=0),this.grid.skip=this.state.skip=e,this.rowReorderService&&(this.rowReorderService.skip=e)}set sort(e){this.grid.sort=this.state.sort=e}set filter(e){this.grid.filter=this.state.filter=e}set pageSize(e){this.grid.pageSize=this.state.take=e}set group(e){this.grid.group=this.state.group=e}set data(e){this.originalData=e||[],this.localDataChangesService&&(this.localDataChangesService.data=e),this.dataChanged=!0}ngOnInit(){this.applyState(this.state),this.stateChangeSubscription=this.grid.dataStateChange.subscribe(this.onStateChange.bind(this)),this.rowReorderService&&(this.rowReorderSubscription=this.grid.rowReorder.subscribe(this.onRowReorder.bind(this)))}ngOnDestroy(){this.stateChangeSubscription&&this.stateChangeSubscription.unsubscribe(),this.dataChangedSubscription&&this.dataChangedSubscription.unsubscribe(),this.rowReorderSubscription&&this.rowReorderSubscription.unsubscribe()}ngOnChanges(e){Zi(["pageSize","skip","sort","group","filter"],e)&&this.rebind()}ngDoCheck(){this.dataChanged&&this.updateGridData()}onStateChange(e){this.applyState(e),this.rebind()}onRowReorder(e){this.rowReorderService.reorderRows(e,this.originalData),this.rebind()}rebind(){this.data=this.originalData,this.updateGridData(),this.notifyDataChange()}notifyDataChange(){this.grid.onDataChange(),this.changeDetector&&this.changeDetector.markForCheck()}process(e){return xC(this.originalData,e)}applyState({skip:e,take:n,sort:o,group:r,filter:a}){this.skip=e,this.pageSize=n,this.sort=o,this.group=r,this.filter=a}updateGridData(){this.grid.data=this.process(this.state),this.dataChanged=!1}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Nn),t.rXU(t.gRc),t.rXU(dm),t.rXU(bne))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridBinding",""]],inputs:{skip:"skip",sort:"sort",filter:"filter",pageSize:"pageSize",group:"group",data:[t.Mj6.None,"kendoGridBinding","data"]},exportAs:["kendoGridBinding"],features:[t.OA$]}),s})(),iie=(()=>{class s extends JDe{constructor(e,n){super(e,n),this.ctx=e}ngOnInit(){!1===this.ctx.grid.selectable&&(this.ctx.grid.selectable=!0),this.ctx.grid.selectionDirective=this}ngOnDestroy(){super.destroy()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be),t.rXU(t.gRc))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridSelectBy",""]],features:[t.Vt3]}),s})(),sie=(()=>{class s{constructor(e){this.grid=e,this.expandedDetailKeysChange=new t.bkB,this.expandedDetailKeys=[],this.initiallyExpanded=!1,this.expandedState=new Set,this.subscriptions=new be.yU,this.grid.isDetailExpanded=this.isExpanded.bind(this),this.subscriptions.add(Ht(this.grid.detailExpand.pipe((0,U.T)(n=>({expand:!0,...n}))),this.grid.detailCollapse.pipe((0,U.T)(n=>({expand:!1,...n})))).subscribe(this.toggleState.bind(this)))}get expandDetailsKey(){return this._expandBy}set expandDetailsKey(e){this._expandBy=Fte(e)?_r(e):e}get expandDetailBy(){return this.expandDetailsKey}set expandDetailBy(e){this.expandDetailsKey=e}ngOnChanges(e){Re(e.expandedDetailKeys)&&this.lastExpandedState!==this.expandedDetailKeys&&(this.expandedState=new Set(this.expandedDetailKeys))}ngOnDestroy(){this.subscriptions.unsubscribe()}get keyGetter(){return this._expandBy||_r(void 0)}isExpanded(e){const n=this.keyGetter(e.dataItem),o=this.expandedState.has(n);return this.initiallyExpanded?!o:o}toggleState(e){const n=this.keyGetter(e.dataItem);!!this.initiallyExpanded!==e.expand?this.expandedState.add(n):this.expandedState.delete(n),this.notifyChange()}notifyChange(){this.lastExpandedState=Array.from(this.expandedState),this.expandedDetailKeysChange.emit(this.lastExpandedState)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Nn))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoGridExpandDetailsBy",""]],inputs:{expandDetailsKey:[t.Mj6.None,"kendoGridExpandDetailsBy","expandDetailsKey"],expandDetailBy:"expandDetailBy",expandedDetailKeys:"expandedDetailKeys",initiallyExpanded:"initiallyExpanded"},outputs:{expandedDetailKeysChange:"expandedDetailKeysChange"},exportAs:["kendoGridExpandDetailsBy"],features:[t.OA$]}),s})();const $Dt=rB({filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterEqOperator:"eq",filterNotEqOperator:"neq",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty"});let h3e=(()=>{class s extends pD{constructor(e,n,o,r){super(e),this.ctx=o,this.showOperators=!0,this.size="medium",this.defaultOperators=$Dt(this.ctx.localization),this.column=n,this.subs=r.changes.subscribe(a=>this.size=a)}set valueField(e){this._valueField=e}get valueField(){return this._valueField?this._valueField:this.column.field}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:"contains"}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Oa),t.rXU(yn),t.rXU(Be),t.rXU(aS))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-autocomplete-filter-cell"]],inputs:{showOperators:"showOperators",column:"column",filter:"filter",data:"data",valueField:"valueField"},features:[t.Vt3],decls:2,vars:8,consts:[[3,"column","filter","operators","showOperators"],["kendoFilterInput","",3,"data","size","valueField","value"]],template:function(e,n){1&e&&(t.j41(0,"kendo-grid-filter-wrapper-cell",0),t.nrm(1,"kendo-autocomplete",1),t.k0s()),2&e&&(t.Y8G("column",n.column)("filter",n.filter)("operators",n.operators)("showOperators",n.showOperators),t.R7$(),t.Y8G("data",n.data)("size",n.size)("valueField",n.valueField)("value",null==n.currentFilter?null:n.currentFilter.value))},dependencies:[_D,zQ,fm],encapsulation:2}),s})(),Sg=(()=>{class s{static exports(){return[yn,nne,sne,Yte,lb,rc,TB]}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,An],ew,zo,An]}),s})();const XDt=[zne,(()=>{class s extends wi{constructor(e){super("contains",e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-filter-contains-operator"]],features:[t.Jv_([{provide:wi,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),(()=>{class s extends wi{constructor(e){super("doesnotcontain",e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-filter-not-contains-operator"]],features:[t.Jv_([{provide:wi,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),(()=>{class s extends wi{constructor(e){super("endswith",e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-filter-endswith-operator"]],features:[t.Jv_([{provide:wi,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),(()=>{class s extends wi{constructor(e){super("eq",e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-filter-eq-operator"]],features:[t.Jv_([{provide:wi,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),(()=>{class s extends wi{constructor(e){super("isempty",e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-filter-isempty-operator"]],features:[t.Jv_([{provide:wi,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),(()=>{class s extends wi{constructor(e){super("isnotempty",e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-filter-isnotempty-operator"]],features:[t.Jv_([{provide:wi,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),(()=>{class s extends wi{constructor(e){super("isnotnull",e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-filter-isnotnull-operator"]],features:[t.Jv_([{provide:wi,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),(()=>{class s extends wi{constructor(e){super("isnull",e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-filter-isnull-operator"]],features:[t.Jv_([{provide:wi,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),(()=>{class s extends wi{constructor(e){super("neq",e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-filter-neq-operator"]],features:[t.Jv_([{provide:wi,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),(()=>{class s extends wi{constructor(e){super("startswith",e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-filter-startswith-operator"]],features:[t.Jv_([{provide:wi,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),(()=>{class s extends wi{constructor(e){super("gt",e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-filter-gt-operator"]],features:[t.Jv_([{provide:wi,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),(()=>{class s extends wi{constructor(e){super("gte",e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-filter-gte-operator"]],features:[t.Jv_([{provide:wi,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),(()=>{class s extends wi{constructor(e){super("lt",e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-filter-lt-operator"]],features:[t.Jv_([{provide:wi,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),(()=>{class s extends wi{constructor(e){super("lte",e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-filter-lte-operator"]],features:[t.Jv_([{provide:wi,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),(()=>{class s extends wi{constructor(e){super("after",e)}toJSON(){return{text:this.text,value:"gt"}}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-filter-after-operator"]],features:[t.Jv_([{provide:wi,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),(()=>{class s extends wi{constructor(e){super("after-eq",e)}toJSON(){return{text:this.text,value:"gte"}}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-filter-after-eq-operator"]],features:[t.Jv_([{provide:wi,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),(()=>{class s extends wi{constructor(e){super("before-eq",e)}toJSON(){return{text:this.text,value:"lte"}}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-filter-before-eq-operator"]],features:[t.Jv_([{provide:wi,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),(()=>{class s extends wi{constructor(e){super("before",e)}toJSON(){return{text:this.text,value:"lt"}}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-filter-before-operator"]],features:[t.Jv_([{provide:wi,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})()],WDt=[Fe,Tv,Ov,JQ,KQ,vx,Yx,zr,Sg,gr];let vD=(()=>{class s{static exports(){return[...XDt]}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[...WDt],Fe,Tv,Ov,JQ,KQ,vx,Yx,zr,Sg,gr]}),s})(),oie=(()=>{class s{static exports(){return[Hne,jne,tne,zne,eR,bB,h3e,EB,yB,vD.exports()]}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[vD],vD]}),s})();const YDt=[Fe,vx,QQ,gr,R5,Vr,Sg];let p3e=(()=>{class s{static exports(){return[Ine,Dne,Mne,iB,Tne,tB,nB,hne,wne,One]}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[...YDt]]}),s})(),f3e=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({}),s})(),xB=(()=>{class s{static exports(){return[Qte,Zte,ene]}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,Sg,f3e,Cge,zr]]}),s})(),AB=(()=>{class s{static exports(){return[QA,ac,cB,dB,hB,fD,uB,vD.exports()]}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[vD],vD]}),s})(),m3e=(()=>{class s{constructor(e,n,o,r,a,l){this.ctx=e,this.columnInfoService=n,this.popupService=o,this.ngZone=r,this.renderer=a,this.changeDetector=l,this.columnsIcon=lI,this.autoSync=!1,this.allowHideAll=!0}get columns(){return this.columnInfoService.leafNamedColumns}ngOnDestroy(){this.close()}toggle(e,n){if(this.popupRef)this.close();else{const o=this.ctx.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:e.element,content:n,positionMode:"absolute",anchorAlign:{vertical:"bottom",horizontal:o},popupAlign:{vertical:"top",horizontal:o}});const r=this.popupRef?.popupElement;if(r){const a=`k-${rn()}`,l=r.querySelector(".k-popup");this.ngZone.runOutsideAngular(()=>{this.escapeListener=this.renderer.listen(l,"keydown",c=>{c.keyCode===F.Escape&&this.close(!0)})}),this.renderer.setAttribute(r,"dir",this.ctx.localization.rtl?"rtl":"ltr"),this.renderer.setAttribute(l,"id",a),this.renderer.setAttribute(l,"role","dialog"),this.popupId=a}if(!ne())return;this.ngZone.runOutsideAngular(()=>this.closeClick=this.renderer.listen("document","click",({target:a})=>{Da(a,l=>l===this.popupRef.popupElement||l===e.element)||this.ngZone.run(()=>{this.close()})}))}}onApply(e){this.close(!0),e.length&&(this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e))}onChange(e){this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e)}onShiftTab(e){e.target.matches(".k-column-list-item")&&(e.preventDefault(),this.columnList.resetButton.nativeElement.focus())}close(e=!1){this.popupRef&&(this.popupRef.close(),this.popupRef=null,this.changeDetector.markForCheck(),this.escapeListener&&this.escapeListener()),this.detachClose(),e&&this.anchor.element.focus()}detachClose(){this.closeClick&&(this.closeClick(),this.closeClick=null)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Be),t.rXU(lc),t.rXU(es),t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(t.gRc))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-column-chooser"]],viewQuery:function(e,n){if(1&e&&(t.GBs(Pte,5),t.GBs(nyt,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.anchor=o.first),t.mGM(o=t.lsd())&&(n.columnList=o.first)}},inputs:{autoSync:"autoSync",allowHideAll:"allowHideAll"},decls:4,vars:5,consts:[["anchor",""],["template",""],["columnList",""],["kendoButton","","type","button","fillMode","flat","icon","columns",3,"click","svgIcon"],[1,"k-column-chooser-title"],[3,"apply","columnChange","keydown.shift.tab","columns","ariaLabel","isLast","applyText","resetText","autoSync","allowHideAll"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"button",3,0),t.bIt("click",function(){t.eBV(o);const a=t.sdS(1),l=t.sdS(3);return t.Njj(n.toggle(a,l))}),t.k0s(),t.DNE(2,iyt,4,8,"ng-template",null,1,t.C5r)}2&e&&(t.Y8G("svgIcon",n.columnsIcon),t.BMQ("title",n.ctx.localization.get("columns"))("aria-haspopup","dialog")("aria-expanded",!!n.popupRef)("aria-controls",n.popupRef?n.popupId:void 0))},dependencies:[$t,gB],encapsulation:2}),s})(),rie=(()=>{class s{static exports(){return[m3e,ZA,mm,mD,Une,fB,mB,_B,vB,B7,Fne,SB,CB,Bne,Vne]}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,AB,gr,VEe]]}),s})();const KDt=[Fe,xB,oie,AB,Sg,f3e,rie];let _3e=(()=>{class s{static exports(){return[Wte,$ne]}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[...KDt]]}),s})(),aie=(()=>{class s extends Ko{constructor(e,n){super(e,n),this.parent=e,this.isCheckboxColumn=!0}get templateRef(){return this.template?this.template.templateRef:void 0}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Ko,13),t.rXU(nd,8))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-checkbox-column"]],contentQueries:function(e,n,o){if(1&e&&t.wni(o,qn,5),2&e){let r;t.mGM(r=t.lsd())&&(n.template=r.first)}},inputs:{showSelectAll:"showSelectAll"},features:[t.Jv_([{provide:Ko,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),g3e=(()=>{class s extends $t{constructor(e,n,o,r,a,l){super(o,r,null,a.localization,l),this.editService=e,this.cellContext=n,this.commandClass=!0}get visible(){return this.isEdited?"none":""}onClick(e){e.preventDefault(),this.editService.beginEdit(this.rowIndex)}ngDoCheck(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(up),t.rXU(gg),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(Be),t.rXU(t.SKi))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoGridEditCommand",""]],hostVars:4,hostBindings:function(e,n){1&e&&t.bIt("click",function(r){return n.onClick(r)}),2&e&&(t.xc7("display",n.visible),t.AVh("k-grid-edit-command",n.commandClass))},features:[t.Vt3],attrs:syt,ngContentSelectors:lm,decls:5,vars:3,consts:[["innerCssClass","k-button-icon",3,"name","svgIcon",4,"ngIf"],["class","k-button-icon k-icon",4,"ngIf"],["class","k-button-icon",3,"ngClass",4,"ngIf"],[1,"k-button-text"],["innerCssClass","k-button-icon",3,"name","svgIcon"],[1,"k-button-icon","k-icon"],["role","presentation",1,"k-image",3,"src"],[1,"k-button-icon",3,"ngClass"]],template:function(e,n){1&e&&(t.NAR(),t.DNE(0,oyt,1,2,"kendo-icon-wrapper",0)(1,ryt,2,1,"span",1)(2,ayt,1,1,"span",2),t.j41(3,"span",3),t.SdG(4),t.k0s()),2&e&&(t.Y8G("ngIf",n.icon||n.svgIcon),t.R7$(),t.Y8G("ngIf",n.imageUrl),t.R7$(),t.Y8G("ngIf",n.iconClass))},dependencies:[Ke,W,Pe],encapsulation:2}),s})(),v3e=(()=>{class s extends $t{constructor(e,n,o,r,a,l){super(o,r,null,a.localization,l),this.editService=e,this.cellContext=n,this.commandClass=!0}get visible(){return this.isEdited?"":"none"}onClick(e){e.preventDefault(),this.isEdited&&this.editService.endEdit(this.rowIndex)}ngDoCheck(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(up),t.rXU(gg),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(Be),t.rXU(t.SKi))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoGridCancelCommand",""]],hostVars:4,hostBindings:function(e,n){1&e&&t.bIt("click",function(r){return n.onClick(r)}),2&e&&(t.xc7("display",n.visible),t.AVh("k-grid-cancel-command",n.commandClass))},features:[t.Vt3],attrs:lyt,ngContentSelectors:lm,decls:5,vars:3,consts:[["innerCssClass","k-button-icon",3,"name","svgIcon",4,"ngIf"],["class","k-button-icon k-icon",4,"ngIf"],["class","k-button-icon",3,"ngClass",4,"ngIf"],[1,"k-button-text"],["innerCssClass","k-button-icon",3,"name","svgIcon"],[1,"k-button-icon","k-icon"],["role","presentation",1,"k-image",3,"src"],[1,"k-button-icon",3,"ngClass"]],template:function(e,n){1&e&&(t.NAR(),t.DNE(0,cyt,1,2,"kendo-icon-wrapper",0)(1,dyt,2,1,"span",1)(2,uyt,1,1,"span",2),t.j41(3,"span",3),t.SdG(4),t.k0s()),2&e&&(t.Y8G("ngIf",n.icon||n.svgIcon),t.R7$(),t.Y8G("ngIf",n.imageUrl),t.R7$(),t.Y8G("ngIf",n.iconClass))},dependencies:[Ke,W,Pe],encapsulation:2}),s})(),S3e=(()=>{class s extends $t{constructor(e,n,o,r,a,l){super(o,r,null,a.localization,l),this.editService=e,this.cellContext=n,this.commandClass=!0}get visible(){return this.isEdited?"":"none"}onClick(e){e.preventDefault(),this.isEdited&&this.editService.save(this.rowIndex)}ngDoCheck(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(up),t.rXU(gg),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(Be),t.rXU(t.SKi))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoGridSaveCommand",""]],hostVars:4,hostBindings:function(e,n){1&e&&t.bIt("click",function(r){return n.onClick(r)}),2&e&&(t.xc7("display",n.visible),t.AVh("k-grid-save-command",n.commandClass))},features:[t.Vt3],attrs:hyt,ngContentSelectors:lm,decls:5,vars:3,consts:[["innerCssClass","k-button-icon",3,"name","svgIcon",4,"ngIf"],["class","k-button-icon k-icon",4,"ngIf"],["class","k-button-icon",3,"ngClass",4,"ngIf"],[1,"k-button-text"],["innerCssClass","k-button-icon",3,"name","svgIcon"],[1,"k-button-icon","k-icon"],["role","presentation",1,"k-image",3,"src"],[1,"k-button-icon",3,"ngClass"]],template:function(e,n){1&e&&(t.NAR(),t.DNE(0,pyt,1,2,"kendo-icon-wrapper",0)(1,fyt,2,1,"span",1)(2,myt,1,1,"span",2),t.j41(3,"span",3),t.SdG(4),t.k0s()),2&e&&(t.Y8G("ngIf",n.icon||n.svgIcon),t.R7$(),t.Y8G("ngIf",n.imageUrl),t.R7$(),t.Y8G("ngIf",n.iconClass))},dependencies:[Ke,W,Pe],encapsulation:2}),s})(),C3e=(()=>{class s extends $t{constructor(e,n,o,r,a,l){super(o,r,null,a.localization,l),this.editService=e,this.cellContext=n,this.commandClass=!0}get visible(){return this.isEdited?"none":""}onClick(e){e.preventDefault(),this.editService.remove(this.rowIndex)}ngDoCheck(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(up),t.rXU(gg),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(Be),t.rXU(t.SKi))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoGridRemoveCommand",""]],hostVars:4,hostBindings:function(e,n){1&e&&t.bIt("click",function(r){return n.onClick(r)}),2&e&&(t.xc7("display",n.visible),t.AVh("k-grid-remove-command",n.commandClass))},features:[t.Vt3],attrs:_yt,ngContentSelectors:lm,decls:5,vars:3,consts:[["innerCssClass","k-button-icon",3,"name","svgIcon",4,"ngIf"],["class","k-button-icon k-icon",4,"ngIf"],["class","k-button-icon",3,"ngClass",4,"ngIf"],[1,"k-button-text"],["innerCssClass","k-button-icon",3,"name","svgIcon"],[1,"k-button-icon","k-icon"],["role","presentation",1,"k-image",3,"src"],[1,"k-button-icon",3,"ngClass"]],template:function(e,n){1&e&&(t.NAR(),t.DNE(0,gyt,1,2,"kendo-icon-wrapper",0)(1,vyt,2,1,"span",1)(2,Syt,1,1,"span",2),t.j41(3,"span",3),t.SdG(4),t.k0s()),2&e&&(t.Y8G("ngIf",n.icon||n.svgIcon),t.R7$(),t.Y8G("ngIf",n.imageUrl),t.R7$(),t.Y8G("ngIf",n.iconClass))},dependencies:[Ke,W,Pe],encapsulation:2}),s})(),b3e=(()=>{class s extends $t{constructor(e,n,o,r,a){super(n,o,null,r.localization,a),this.editService=e}onClick(e){e.preventDefault(),this.editService.beginAdd()}get commandClass(){return!0}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(up),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(Be),t.rXU(t.SKi))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoGridAddCommand",""]],hostVars:2,hostBindings:function(e,n){1&e&&t.bIt("click",function(r){return n.onClick(r)}),2&e&&t.AVh("k-grid-add-command",n.commandClass)},features:[t.Vt3],attrs:Cyt,ngContentSelectors:lm,decls:5,vars:3,consts:[["innerCssClass","k-button-icon",3,"name","svgIcon",4,"ngIf"],["class","k-button-icon k-icon",4,"ngIf"],["class","k-button-icon",3,"ngClass",4,"ngIf"],[1,"k-button-text"],["innerCssClass","k-button-icon",3,"name","svgIcon"],[1,"k-button-icon","k-icon"],["role","presentation",1,"k-image",3,"src"],[1,"k-button-icon",3,"ngClass"]],template:function(e,n){1&e&&(t.NAR(),t.DNE(0,byt,1,2,"kendo-icon-wrapper",0)(1,Eyt,2,1,"span",1)(2,yyt,1,1,"span",2),t.j41(3,"span",3),t.SdG(4),t.k0s()),2&e&&(t.Y8G("ngIf",n.icon||n.svgIcon),t.R7$(),t.Y8G("ngIf",n.imageUrl),t.R7$(),t.Y8G("ngIf",n.iconClass))},dependencies:[Ke,W,Pe],encapsulation:2}),s})(),E3e=(()=>{class s extends Ko{constructor(e,n){super(e,n),this.parent=e,this.isRowReorderColumn=!0}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Ko,13),t.rXU(nd,8))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-grid-rowreorder-column"]],inputs:{dragHandleIcon:"dragHandleIcon",dragHandleSVGIcon:"dragHandleSVGIcon"},features:[t.Jv_([{provide:Ko,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})();const JDt=[Fe,Tv,Ov,Sg,xB,pw,Yx,Vr];let y3e=(()=>{class s{static exports(){return[Yne,aie,Kne,qn,une,V7,g3e,v3e,S3e,C3e,b3e,Sne,Cne,E3e]}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[...JDt]]}),s})();const qDt=[Fe,Sg];let k3e=(()=>{class s{static exports(){return[]}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[...qDt]]}),s})();xB.exports(),Sg.exports(),y3e.exports(),_3e.exports(),k3e.exports(),p3e.exports(),oie.exports(),AB.exports(),rie.exports();let iOt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,xB,Sg,y3e,_3e,k3e,p3e,oie,AB,Vr,rie,sWe,B_]]}),s})();el("KENDO-GRID-LIST"),el("TABLE");let hOt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[An]]}),s})(),gOt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[An],D2t]}),s})();class db extends Error{}class vOt extends db{constructor(i){super(`Invalid DateTime: ${i.toMessage()}`)}}class SOt extends db{constructor(i){super(`Invalid Interval: ${i.toMessage()}`)}}class COt extends db{constructor(i){super(`Invalid Duration: ${i.toMessage()}`)}}class SD extends db{}class Y3e extends db{constructor(i){super(`Invalid unit ${i}`)}}class id extends db{}class cS extends db{constructor(){super("Zone is an abstract class")}}const dt="numeric",pp="short",Qd="long",LB={year:dt,month:dt,day:dt},K3e={year:dt,month:pp,day:dt},bOt={year:dt,month:pp,day:dt,weekday:pp},J3e={year:dt,month:Qd,day:dt},q3e={year:dt,month:Qd,day:dt,weekday:Qd},Q3e={hour:dt,minute:dt},Z3e={hour:dt,minute:dt,second:dt},eTe={hour:dt,minute:dt,second:dt,timeZoneName:pp},tTe={hour:dt,minute:dt,second:dt,timeZoneName:Qd},nTe={hour:dt,minute:dt,hourCycle:"h23"},iTe={hour:dt,minute:dt,second:dt,hourCycle:"h23"},sTe={hour:dt,minute:dt,second:dt,hourCycle:"h23",timeZoneName:pp},oTe={hour:dt,minute:dt,second:dt,hourCycle:"h23",timeZoneName:Qd},rTe={year:dt,month:dt,day:dt,hour:dt,minute:dt},aTe={year:dt,month:dt,day:dt,hour:dt,minute:dt,second:dt},lTe={year:dt,month:pp,day:dt,hour:dt,minute:dt},cTe={year:dt,month:pp,day:dt,hour:dt,minute:dt,second:dt},EOt={year:dt,month:pp,day:dt,weekday:pp,hour:dt,minute:dt},dTe={year:dt,month:Qd,day:dt,hour:dt,minute:dt,timeZoneName:pp},uTe={year:dt,month:Qd,day:dt,hour:dt,minute:dt,second:dt,timeZoneName:pp},hTe={year:dt,month:Qd,day:dt,weekday:Qd,hour:dt,minute:dt,timeZoneName:Qd},pTe={year:dt,month:Qd,day:dt,weekday:Qd,hour:dt,minute:dt,second:dt,timeZoneName:Qd};class nR{get type(){throw new cS}get name(){throw new cS}get ianaName(){return this.name}get isUniversal(){throw new cS}offsetName(i,e){throw new cS}formatOffset(i,e){throw new cS}offset(i){throw new cS}equals(i){throw new cS}get isValid(){throw new cS}}let mie=null;class GB extends nR{static get instance(){return null===mie&&(mie=new GB),mie}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(i,{format:e,locale:n}){return PTe(i,e,n)}formatOffset(i,e){return rR(this.offset(i),e)}offset(i){return-new Date(i).getTimezoneOffset()}equals(i){return"system"===i.type}get isValid(){return!0}}let PB={};const kOt={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let FB={};class Cg extends nR{static create(i){return FB[i]||(FB[i]=new Cg(i)),FB[i]}static resetCache(){FB={},PB={}}static isValidSpecifier(i){return this.isValidZone(i)}static isValidZone(i){if(!i)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:i}).format(),!0}catch{return!1}}constructor(i){super(),this.zoneName=i,this.valid=Cg.isValidZone(i)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(i,{format:e,locale:n}){return PTe(i,e,n,this.name)}formatOffset(i,e){return rR(this.offset(i),e)}offset(i){const e=new Date(i);if(isNaN(e))return NaN;const n=function yOt(s){return PB[s]||(PB[s]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:s,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),PB[s]}(this.name);let[o,r,a,l,c,u,f]=n.formatToParts?function DOt(s,i){const e=s.formatToParts(i),n=[];for(let o=0;o<e.length;o++){const{type:r,value:a}=e[o],l=kOt[r];"era"===r?n[l]=a:zn(l)||(n[l]=parseInt(a,10))}return n}(n,e):function wOt(s,i){const e=s.format(i).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(e),[,o,r,a,l,c,u,f]=n;return[a,o,r,l,c,u,f]}(n,e);"BC"===l&&(o=1-Math.abs(o));let S=+e;const b=S%1e3;return S-=b>=0?b:1e3+b,(jB({year:o,month:r,day:a,hour:24===c?0:c,minute:u,second:f,millisecond:0})-S)/6e4}equals(i){return"iana"===i.type&&i.name===this.name}get isValid(){return this.valid}}let fTe={},_ie={};function gie(s,i={}){const e=JSON.stringify([s,i]);let n=_ie[e];return n||(n=new Intl.DateTimeFormat(s,i),_ie[e]=n),n}let vie={},Sie={},iR=null,mTe={};function UB(s,i,e,n){const o=s.listingMode();return"error"===o?null:"en"===o?e(i):n(i)}class POt{constructor(i,e,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:o,floor:r,...a}=n;if(!e||Object.keys(a).length>0){const l={useGrouping:!1,...n};n.padTo>0&&(l.minimumIntegerDigits=n.padTo),this.inf=function TOt(s,i={}){const e=JSON.stringify([s,i]);let n=vie[e];return n||(n=new Intl.NumberFormat(s,i),vie[e]=n),n}(i,l)}}format(i){if(this.inf){const e=this.floor?Math.floor(i):i;return this.inf.format(e)}return $r(this.floor?Math.floor(i):Die(i,3),this.padTo)}}class FOt{constructor(i,e,n){let o;if(this.opts=n,this.originalZone=void 0,this.opts.timeZone)this.dt=i;else if("fixed"===i.zone.type){const a=i.offset/60*-1,l=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;0!==i.offset&&Cg.create(l).valid?(o=l,this.dt=i):(o="UTC",this.dt=0===i.offset?i:i.setZone("UTC").plus({minutes:i.offset}),this.originalZone=i.zone)}else"system"===i.zone.type?this.dt=i:"iana"===i.zone.type?(this.dt=i,o=i.zone.name):(o="UTC",this.dt=i.setZone("UTC").plus({minutes:i.offset}),this.originalZone=i.zone);const r={...this.opts};r.timeZone=r.timeZone||o,this.dtf=gie(e,r)}format(){return this.originalZone?this.formatToParts().map(({value:i})=>i).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const i=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?i.map(e=>{if("timeZoneName"===e.type){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:n}}return e}):i}resolvedOptions(){return this.dtf.resolvedOptions()}}class UOt{constructor(i,e,n){this.opts={style:"long",...n},!e&&RTe()&&(this.rtf=function MOt(s,i={}){const{base:e,...n}=i,o=JSON.stringify([s,n]);let r=Sie[o];return r||(r=new Intl.RelativeTimeFormat(s,i),Sie[o]=r),r}(i,n))}format(i,e){return this.rtf?this.rtf.format(i,e):function o3t(s,i,e="always",n=!1){const o={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},r=-1===["hours","minutes","seconds"].indexOf(s);if("auto"===e&&r){const _="days"===s;switch(i){case 1:return _?"tomorrow":`next ${o[s][0]}`;case-1:return _?"yesterday":`last ${o[s][0]}`;case 0:return _?"today":`this ${o[s][0]}`}}const a=Object.is(i,-0)||i<0,l=Math.abs(i),c=1===l,u=o[s],f=n?c?u[1]:u[2]||u[1]:c?o[s][0]:s;return a?`${l} ${f} ago`:`in ${l} ${f}`}(e,i,this.opts.numeric,"long"!==this.opts.style)}formatToParts(i,e){return this.rtf?this.rtf.formatToParts(i,e):[]}}const BOt={firstDay:1,minimalDays:4,weekend:[6,7]};class Xs{static fromOpts(i){return Xs.create(i.locale,i.numberingSystem,i.outputCalendar,i.weekSettings,i.defaultToEN)}static create(i,e,n,o,r=!1){const a=i||Cr.defaultLocale,l=a||(r?"en-US":function IOt(){return iR||(iR=(new Intl.DateTimeFormat).resolvedOptions().locale,iR)}()),c=e||Cr.defaultNumberingSystem,u=n||Cr.defaultOutputCalendar,f=kie(o)||Cr.defaultWeekSettings;return new Xs(l,c,u,f,a)}static resetCache(){iR=null,_ie={},vie={},Sie={}}static fromObject({locale:i,numberingSystem:e,outputCalendar:n,weekSettings:o}={}){return Xs.create(i,e,n,o)}constructor(i,e,n,o,r){const[a,l,c]=function AOt(s){const i=s.indexOf("-x-");-1!==i&&(s=s.substring(0,i));const e=s.indexOf("-u-");if(-1===e)return[s];{let n,o;try{n=gie(s).resolvedOptions(),o=s}catch{const c=s.substring(0,e);n=gie(c).resolvedOptions(),o=c}const{numberingSystem:r,calendar:a}=n;return[o,r,a]}}(i);this.locale=a,this.numberingSystem=e||l||null,this.outputCalendar=n||c||null,this.weekSettings=o,this.intl=function ROt(s,i,e){return(e||i)&&(s.includes("-u-")||(s+="-u"),e&&(s+=`-ca-${e}`),i&&(s+=`-nu-${i}`)),s}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function GOt(s){return(!s.numberingSystem||"latn"===s.numberingSystem)&&("latn"===s.numberingSystem||!s.locale||s.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(s.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(i){return i&&0!==Object.getOwnPropertyNames(i).length?Xs.create(i.locale||this.specifiedLocale,i.numberingSystem||this.numberingSystem,i.outputCalendar||this.outputCalendar,kie(i.weekSettings)||this.weekSettings,i.defaultToEN||!1):this}redefaultToEN(i={}){return this.clone({...i,defaultToEN:!0})}redefaultToSystem(i={}){return this.clone({...i,defaultToEN:!1})}months(i,e=!1){return UB(this,i,BTe,()=>{const n=e?{month:i,day:"numeric"}:{month:i},o=e?"format":"standalone";return this.monthsCache[o][i]||(this.monthsCache[o][i]=function NOt(s){const i=[];for(let e=1;e<=12;e++){const n=Ln.utc(2009,e,1);i.push(s(n))}return i}(r=>this.extract(r,n,"month"))),this.monthsCache[o][i]})}weekdays(i,e=!1){return UB(this,i,jTe,()=>{const n=e?{weekday:i,year:"numeric",month:"long",day:"numeric"}:{weekday:i},o=e?"format":"standalone";return this.weekdaysCache[o][i]||(this.weekdaysCache[o][i]=function LOt(s){const i=[];for(let e=1;e<=7;e++){const n=Ln.utc(2016,11,13+e);i.push(s(n))}return i}(r=>this.extract(r,n,"weekday"))),this.weekdaysCache[o][i]})}meridiems(){return UB(this,void 0,()=>HTe,()=>{if(!this.meridiemCache){const i={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Ln.utc(2016,11,13,9),Ln.utc(2016,11,13,19)].map(e=>this.extract(e,i,"dayperiod"))}return this.meridiemCache})}eras(i){return UB(this,i,$Te,()=>{const e={era:i};return this.eraCache[i]||(this.eraCache[i]=[Ln.utc(-40,1,1),Ln.utc(2017,1,1)].map(n=>this.extract(n,e,"era"))),this.eraCache[i]})}extract(i,e,n){const a=this.dtFormatter(i,e).formatToParts().find(l=>l.type.toLowerCase()===n);return a?a.value:null}numberFormatter(i={}){return new POt(this.intl,i.forceSimple||this.fastNumbers,i)}dtFormatter(i,e={}){return new FOt(i,this.intl,e)}relFormatter(i={}){return new UOt(this.intl,this.isEnglish(),i)}listFormatter(i={}){return function OOt(s,i={}){const e=JSON.stringify([s,i]);let n=fTe[e];return n||(n=new Intl.ListFormat(s,i),fTe[e]=n),n}(this.intl,i)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:NTe()?function xOt(s){let i=mTe[s];if(!i){const e=new Intl.Locale(s);i="getWeekInfo"in e?e.getWeekInfo():e.weekInfo,mTe[s]=i}return i}(this.locale):BOt}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(i){return this.locale===i.locale&&this.numberingSystem===i.numberingSystem&&this.outputCalendar===i.outputCalendar}}let Cie=null;class cc extends nR{static get utcInstance(){return null===Cie&&(Cie=new cc(0)),Cie}static instance(i){return 0===i?cc.utcInstance:new cc(i)}static parseSpecifier(i){if(i){const e=i.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(e)return new cc(HB(e[1],e[2]))}return null}constructor(i){super(),this.fixed=i}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${rR(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${rR(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(i,e){return rR(this.fixed,e)}get isUniversal(){return!0}offset(){return this.fixed}equals(i){return"fixed"===i.type&&i.fixed===this.fixed}get isValid(){return!0}}class VOt extends nR{constructor(i){super(),this.zoneName=i}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function dS(s,i){if(zn(s)||null===s)return i;if(s instanceof nR)return s;if(function HOt(s){return"string"==typeof s}(s)){const n=s.toLowerCase();return"default"===n?i:"local"===n||"system"===n?GB.instance:"utc"===n||"gmt"===n?cc.utcInstance:cc.parseSpecifier(n)||Cg.create(s)}return ub(s)?cc.instance(s):"object"==typeof s&&"offset"in s&&"function"==typeof s.offset?s:new VOt(s)}let ETe,_Te=()=>Date.now(),gTe="system",vTe=null,STe=null,CTe=null,bTe=60,yTe=null;class Cr{static get now(){return _Te}static set now(i){_Te=i}static set defaultZone(i){gTe=i}static get defaultZone(){return dS(gTe,GB.instance)}static get defaultLocale(){return vTe}static set defaultLocale(i){vTe=i}static get defaultNumberingSystem(){return STe}static set defaultNumberingSystem(i){STe=i}static get defaultOutputCalendar(){return CTe}static set defaultOutputCalendar(i){CTe=i}static get defaultWeekSettings(){return yTe}static set defaultWeekSettings(i){yTe=kie(i)}static get twoDigitCutoffYear(){return bTe}static set twoDigitCutoffYear(i){bTe=i%100}static get throwOnInvalid(){return ETe}static set throwOnInvalid(i){ETe=i}static resetCaches(){Xs.resetCache(),Cg.resetCache()}}class fp{constructor(i,e){this.reason=i,this.explanation=e}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const kTe=[0,31,59,90,120,151,181,212,243,273,304,334],wTe=[0,31,60,91,121,152,182,213,244,274,305,335];function nh(s,i){return new fp("unit out of range",`you specified ${i} (of type ${typeof i}) as a ${s}, which is invalid`)}function bie(s,i,e){const n=new Date(Date.UTC(s,i-1,e));s<100&&s>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const o=n.getUTCDay();return 0===o?7:o}function DTe(s,i,e){return e+(sR(s)?wTe:kTe)[i-1]}function OTe(s,i){const e=sR(s)?wTe:kTe,n=e.findIndex(r=>r<i);return{month:n+1,day:i-e[n]}}function Eie(s,i){return(s-i+7)%7+1}function BB(s,i=4,e=1){const{year:n,month:o,day:r}=s,a=DTe(n,o,r),l=Eie(bie(n,o,r),e);let u,c=Math.floor((a-l+14-i)/7);return c<1?(u=n-1,c=oR(u,i,e)):c>oR(n,i,e)?(u=n+1,c=1):u=n,{weekYear:u,weekNumber:c,weekday:l,...XB(s)}}function TTe(s,i=4,e=1){const{weekYear:n,weekNumber:o,weekday:r}=s,a=Eie(bie(n,1,i),e),l=bD(n);let u,c=7*o+r-a-7+i;c<1?(u=n-1,c+=bD(u)):c>l?(u=n+1,c-=bD(n)):u=n;const{month:f,day:_}=OTe(u,c);return{year:u,month:f,day:_,...XB(s)}}function yie(s){const{year:i,month:e,day:n}=s;return{year:i,ordinal:DTe(i,e,n),...XB(s)}}function MTe(s){const{year:i,ordinal:e}=s,{month:n,day:o}=OTe(i,e);return{year:i,month:n,day:o,...XB(s)}}function ITe(s,i){if(zn(s.localWeekday)&&zn(s.localWeekNumber)&&zn(s.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!zn(s.weekday)||!zn(s.weekNumber)||!zn(s.weekYear))throw new SD("Cannot mix locale-based week fields with ISO-based week fields");return zn(s.localWeekday)||(s.weekday=s.localWeekday),zn(s.localWeekNumber)||(s.weekNumber=s.localWeekNumber),zn(s.localWeekYear)||(s.weekYear=s.localWeekYear),delete s.localWeekday,delete s.localWeekNumber,delete s.localWeekYear,{minDaysInFirstWeek:i.getMinDaysInFirstWeek(),startOfWeek:i.getStartOfWeek()}}function xTe(s){const i=VB(s.year),e=ih(s.month,1,12),n=ih(s.day,1,zB(s.year,s.month));return i?e?!n&&nh("day",s.day):nh("month",s.month):nh("year",s.year)}function ATe(s){const{hour:i,minute:e,second:n,millisecond:o}=s,r=ih(i,0,23)||24===i&&0===e&&0===n&&0===o,a=ih(e,0,59),l=ih(n,0,59),c=ih(o,0,999);return r?a?l?!c&&nh("millisecond",o):nh("second",n):nh("minute",e):nh("hour",i)}function zn(s){return typeof s>"u"}function ub(s){return"number"==typeof s}function VB(s){return"number"==typeof s&&s%1==0}function RTe(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function NTe(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function LTe(s,i,e){if(0!==s.length)return s.reduce((n,o)=>{const r=[i(o),o];return n&&e(n[0],r[0])===n[0]?n:r},null)[1]}function CD(s,i){return Object.prototype.hasOwnProperty.call(s,i)}function kie(s){if(null==s)return null;if("object"!=typeof s)throw new id("Week settings must be an object");if(!ih(s.firstDay,1,7)||!ih(s.minimalDays,1,7)||!Array.isArray(s.weekend)||s.weekend.some(i=>!ih(i,1,7)))throw new id("Invalid week settings");return{firstDay:s.firstDay,minimalDays:s.minimalDays,weekend:Array.from(s.weekend)}}function ih(s,i,e){return VB(s)&&s>=i&&s<=e}function $r(s,i=2){let n;return n=s<0?"-"+(""+-s).padStart(i,"0"):(""+s).padStart(i,"0"),n}function uS(s){if(!zn(s)&&null!==s&&""!==s)return parseInt(s,10)}function hb(s){if(!zn(s)&&null!==s&&""!==s)return parseFloat(s)}function wie(s){if(!zn(s)&&null!==s&&""!==s){const i=1e3*parseFloat("0."+s);return Math.floor(i)}}function Die(s,i,e=!1){const n=10**i;return(e?Math.trunc:Math.round)(s*n)/n}function sR(s){return s%4==0&&(s%100!=0||s%400==0)}function bD(s){return sR(s)?366:365}function zB(s,i){const e=function YOt(s,i){return s-i*Math.floor(s/i)}(i-1,12)+1;return 2===e?sR(s+(i-e)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][e-1]}function jB(s){let i=Date.UTC(s.year,s.month-1,s.day,s.hour,s.minute,s.second,s.millisecond);return s.year<100&&s.year>=0&&(i=new Date(i),i.setUTCFullYear(s.year,s.month-1,s.day)),+i}function GTe(s,i,e){return-Eie(bie(s,1,i),e)+i-1}function oR(s,i=4,e=1){const n=GTe(s,i,e),o=GTe(s+1,i,e);return(bD(s)-n+o)/7}function Oie(s){return s>99?s:s>Cr.twoDigitCutoffYear?1900+s:2e3+s}function PTe(s,i,e,n=null){const o=new Date(s),r={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(r.timeZone=n);const a={timeZoneName:i,...r},l=new Intl.DateTimeFormat(e,a).formatToParts(o).find(c=>"timezonename"===c.type.toLowerCase());return l?l.value:null}function HB(s,i){let e=parseInt(s,10);Number.isNaN(e)&&(e=0);const n=parseInt(i,10)||0;return 60*e+(e<0||Object.is(e,-0)?-n:n)}function FTe(s){const i=Number(s);if("boolean"==typeof s||""===s||Number.isNaN(i))throw new id(`Invalid unit value ${s}`);return i}function $B(s,i){const e={};for(const n in s)if(CD(s,n)){const o=s[n];if(null==o)continue;e[i(n)]=FTe(o)}return e}function rR(s,i){const e=Math.trunc(Math.abs(s/60)),n=Math.trunc(Math.abs(s%60)),o=s>=0?"+":"-";switch(i){case"short":return`${o}${$r(e,2)}:${$r(n,2)}`;case"narrow":return`${o}${e}${n>0?`:${n}`:""}`;case"techie":return`${o}${$r(e,2)}${$r(n,2)}`;default:throw new RangeError(`Value format ${i} is out of range for property format`)}}function XB(s){return function WOt(s,i){return i.reduce((e,n)=>(e[n]=s[n],e),{})}(s,["hour","minute","second","millisecond"])}const KOt=["January","February","March","April","May","June","July","August","September","October","November","December"],UTe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],JOt=["J","F","M","A","M","J","J","A","S","O","N","D"];function BTe(s){switch(s){case"narrow":return[...JOt];case"short":return[...UTe];case"long":return[...KOt];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const VTe=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],zTe=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],qOt=["M","T","W","T","F","S","S"];function jTe(s){switch(s){case"narrow":return[...qOt];case"short":return[...zTe];case"long":return[...VTe];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const HTe=["AM","PM"],QOt=["Before Christ","Anno Domini"],ZOt=["BC","AD"],e3t=["B","A"];function $Te(s){switch(s){case"narrow":return[...e3t];case"short":return[...ZOt];case"long":return[...QOt];default:return null}}function XTe(s,i){let e="";for(const n of s)e+=n.literal?n.val:i(n.val);return e}const r3t={D:LB,DD:K3e,DDD:J3e,DDDD:q3e,t:Q3e,tt:Z3e,ttt:eTe,tttt:tTe,T:nTe,TT:iTe,TTT:sTe,TTTT:oTe,f:rTe,ff:lTe,fff:dTe,ffff:hTe,F:aTe,FF:cTe,FFF:uTe,FFFF:pTe};class El{static create(i,e={}){return new El(i,e)}static parseFormat(i){let e=null,n="",o=!1;const r=[];for(let a=0;a<i.length;a++){const l=i.charAt(a);"'"===l?(n.length>0&&r.push({literal:o||/^\s+$/.test(n),val:n}),e=null,n="",o=!o):o||l===e?n+=l:(n.length>0&&r.push({literal:/^\s+$/.test(n),val:n}),n=l,e=l)}return n.length>0&&r.push({literal:o||/^\s+$/.test(n),val:n}),r}static macroTokenToFormatOpts(i){return r3t[i]}constructor(i,e){this.opts=e,this.loc=i,this.systemLoc=null}formatWithSystemDefault(i,e){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(i,{...this.opts,...e}).format()}dtFormatter(i,e={}){return this.loc.dtFormatter(i,{...this.opts,...e})}formatDateTime(i,e){return this.dtFormatter(i,e).format()}formatDateTimeParts(i,e){return this.dtFormatter(i,e).formatToParts()}formatInterval(i,e){return this.dtFormatter(i.start,e).dtf.formatRange(i.start.toJSDate(),i.end.toJSDate())}resolvedOptions(i,e){return this.dtFormatter(i,e).resolvedOptions()}num(i,e=0){if(this.opts.forceSimple)return $r(i,e);const n={...this.opts};return e>0&&(n.padTo=e),this.loc.numberFormatter(n).format(i)}formatDateTimeFromString(i,e){const n="en"===this.loc.listingMode(),o=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,r=(S,b)=>this.loc.extract(i,S,b),a=S=>i.isOffsetFixed&&0===i.offset&&S.allowZ?"Z":i.isValid?i.zone.formatOffset(i.ts,S.format):"",c=(S,b)=>n?function i3t(s,i){return BTe(i)[s.month-1]}(i,S):r(b?{month:S}:{month:S,day:"numeric"},"month"),u=(S,b)=>n?function n3t(s,i){return jTe(i)[s.weekday-1]}(i,S):r(b?{weekday:S}:{weekday:S,month:"long",day:"numeric"},"weekday"),f=S=>{const b=El.macroTokenToFormatOpts(S);return b?this.formatWithSystemDefault(i,b):S},_=S=>n?function s3t(s,i){return $Te(i)[s.year<0?0:1]}(i,S):r({era:S},"era");return XTe(El.parseFormat(e),S=>{switch(S){case"S":return this.num(i.millisecond);case"u":case"SSS":return this.num(i.millisecond,3);case"s":return this.num(i.second);case"ss":return this.num(i.second,2);case"uu":return this.num(Math.floor(i.millisecond/10),2);case"uuu":return this.num(Math.floor(i.millisecond/100));case"m":return this.num(i.minute);case"mm":return this.num(i.minute,2);case"h":return this.num(i.hour%12==0?12:i.hour%12);case"hh":return this.num(i.hour%12==0?12:i.hour%12,2);case"H":return this.num(i.hour);case"HH":return this.num(i.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return i.zone.offsetName(i.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return i.zone.offsetName(i.ts,{format:"long",locale:this.loc.locale});case"z":return i.zoneName;case"a":return n?function t3t(s){return HTe[s.hour<12?0:1]}(i):r({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return o?r({day:"numeric"},"day"):this.num(i.day);case"dd":return o?r({day:"2-digit"},"day"):this.num(i.day,2);case"c":case"E":return this.num(i.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return o?r({month:"numeric",day:"numeric"},"month"):this.num(i.month);case"LL":return o?r({month:"2-digit",day:"numeric"},"month"):this.num(i.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return o?r({month:"numeric"},"month"):this.num(i.month);case"MM":return o?r({month:"2-digit"},"month"):this.num(i.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return o?r({year:"numeric"},"year"):this.num(i.year);case"yy":return o?r({year:"2-digit"},"year"):this.num(i.year.toString().slice(-2),2);case"yyyy":return o?r({year:"numeric"},"year"):this.num(i.year,4);case"yyyyyy":return o?r({year:"numeric"},"year"):this.num(i.year,6);case"G":return _("short");case"GG":return _("long");case"GGGGG":return _("narrow");case"kk":return this.num(i.weekYear.toString().slice(-2),2);case"kkkk":return this.num(i.weekYear,4);case"W":return this.num(i.weekNumber);case"WW":return this.num(i.weekNumber,2);case"n":return this.num(i.localWeekNumber);case"nn":return this.num(i.localWeekNumber,2);case"ii":return this.num(i.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(i.localWeekYear,4);case"o":return this.num(i.ordinal);case"ooo":return this.num(i.ordinal,3);case"q":return this.num(i.quarter);case"qq":return this.num(i.quarter,2);case"X":return this.num(Math.floor(i.ts/1e3));case"x":return this.num(i.ts);default:return f(S)}})}formatDurationFromString(i,e){const n=c=>{switch(c[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=El.parseFormat(e),a=r.reduce((c,{literal:u,val:f})=>u?c:c.concat(f),[]);return XTe(r,(c=>u=>{const f=n(u);return f?this.num(c.get(f),u.length):u})(i.shiftTo(...a.map(n).filter(c=>c))))}}const WTe=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function ED(...s){const i=s.reduce((e,n)=>e+n.source,"");return RegExp(`^${i}$`)}function yD(...s){return i=>s.reduce(([e,n,o],r)=>{const[a,l,c]=r(i,o);return[{...e,...a},l||n,c]},[{},null,1]).slice(0,2)}function kD(s,...i){if(null==s)return[null,null];for(const[e,n]of i){const o=e.exec(s);if(o)return n(o)}return[null,null]}function YTe(...s){return(i,e)=>{const n={};let o;for(o=0;o<s.length;o++)n[s[o]]=uS(i[e+o]);return[n,null,e+o]}}const KTe=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Tie=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,JTe=RegExp(`${Tie.source}(?:${KTe.source}?(?:\\[(${WTe.source})\\])?)?`),Mie=RegExp(`(?:T${JTe.source})?`),u3t=YTe("weekYear","weekNumber","weekDay"),h3t=YTe("year","ordinal"),qTe=RegExp(`${Tie.source} ?(?:${KTe.source}|(${WTe.source}))?`),f3t=RegExp(`(?: ${qTe.source})?`);function wD(s,i,e){const n=s[i];return zn(n)?e:uS(n)}function DD(s,i){return[{hours:wD(s,i,0),minutes:wD(s,i+1,0),seconds:wD(s,i+2,0),milliseconds:wie(s[i+3])},null,i+4]}function aR(s,i){const e=!s[i]&&!s[i+1],n=HB(s[i+1],s[i+2]);return[{},e?null:cc.instance(n),i+3]}function lR(s,i){return[{},s[i]?Cg.create(s[i]):null,i+1]}const _3t=RegExp(`^T?${Tie.source}$`),g3t=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function v3t(s){const[i,e,n,o,r,a,l,c,u]=s,f="-"===i[0],_=c&&"-"===c[0],g=(S,b=!1)=>void 0!==S&&(b||S&&f)?-S:S;return[{years:g(hb(e)),months:g(hb(n)),weeks:g(hb(o)),days:g(hb(r)),hours:g(hb(a)),minutes:g(hb(l)),seconds:g(hb(c),"-0"===c),milliseconds:g(wie(u),_)}]}const S3t={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Iie(s,i,e,n,o,r,a){const l={year:2===i.length?Oie(uS(i)):uS(i),month:UTe.indexOf(e)+1,day:uS(n),hour:uS(o),minute:uS(r)};return a&&(l.second=uS(a)),s&&(l.weekday=s.length>3?VTe.indexOf(s)+1:zTe.indexOf(s)+1),l}const C3t=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function b3t(s){const[,i,e,n,o,r,a,l,c,u,f,_]=s,g=Iie(i,o,n,e,r,a,l);let S;return S=c?S3t[c]:u?0:HB(f,_),[g,new cc(S)]}const y3t=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,k3t=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,w3t=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function QTe(s){const[,i,e,n,o,r,a,l]=s;return[Iie(i,o,n,e,r,a,l),cc.utcInstance]}function D3t(s){const[,i,e,n,o,r,a,l]=s;return[Iie(i,l,e,n,o,r,a),cc.utcInstance]}const O3t=ED(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Mie),T3t=ED(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Mie),M3t=ED(/(\d{4})-?(\d{3})/,Mie),I3t=ED(JTe),ZTe=yD(function m3t(s,i){return[{year:wD(s,i),month:wD(s,i+1,1),day:wD(s,i+2,1)},null,i+3]},DD,aR,lR),x3t=yD(u3t,DD,aR,lR),A3t=yD(h3t,DD,aR,lR),R3t=yD(DD,aR,lR),F3t=yD(DD),B3t=ED(/(\d{4})-(\d\d)-(\d\d)/,f3t),V3t=ED(qTe),z3t=yD(DD,aR,lR),eMe="Invalid Duration",tMe={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},H3t={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...tMe},sh=365.2425,OD=30.436875,$3t={years:{quarters:4,months:12,weeks:sh/7,days:sh,hours:24*sh,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:sh/28,days:sh/4,hours:24*sh/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:OD/7,days:OD,hours:24*OD,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...tMe},pb=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],X3t=pb.slice(0).reverse();function hS(s,i,e=!1){const n={values:e?i.values:{...s.values,...i.values||{}},loc:s.loc.clone(i.loc),conversionAccuracy:i.conversionAccuracy||s.conversionAccuracy,matrix:i.matrix||s.matrix};return new Yi(n)}function nMe(s,i){let e=i.milliseconds??0;for(const n of X3t.slice(1))i[n]&&(e+=i[n]*s[n].milliseconds);return e}function iMe(s,i){const e=nMe(s,i)<0?-1:1;pb.reduceRight((n,o)=>{if(zn(i[o]))return n;if(n){const a=s[o][n],l=Math.floor(i[n]*e/a);i[o]+=l*e,i[n]-=l*a*e}return o},null),pb.reduce((n,o)=>{if(zn(i[o]))return n;if(n){const r=i[n]%1;i[n]-=r,i[o]+=r*s[n][o]}return o},null)}class Yi{constructor(i){const e="longterm"===i.conversionAccuracy||!1;let n=e?$3t:H3t;i.matrix&&(n=i.matrix),this.values=i.values,this.loc=i.loc||Xs.create(),this.conversionAccuracy=e?"longterm":"casual",this.invalid=i.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(i,e){return Yi.fromObject({milliseconds:i},e)}static fromObject(i,e={}){if(null==i||"object"!=typeof i)throw new id("Duration.fromObject: argument expected to be an object, got "+(null===i?"null":typeof i));return new Yi({values:$B(i,Yi.normalizeUnit),loc:Xs.fromObject(e),conversionAccuracy:e.conversionAccuracy,matrix:e.matrix})}static fromDurationLike(i){if(ub(i))return Yi.fromMillis(i);if(Yi.isDuration(i))return i;if("object"==typeof i)return Yi.fromObject(i);throw new id(`Unknown duration argument ${i} of type ${typeof i}`)}static fromISO(i,e){const[n]=function P3t(s){return kD(s,[g3t,v3t])}(i);return n?Yi.fromObject(n,e):Yi.invalid("unparsable",`the input "${i}" can't be parsed as ISO 8601`)}static fromISOTime(i,e){const[n]=function U3t(s){return kD(s,[_3t,F3t])}(i);return n?Yi.fromObject(n,e):Yi.invalid("unparsable",`the input "${i}" can't be parsed as ISO 8601`)}static invalid(i,e=null){if(!i)throw new id("need to specify a reason the Duration is invalid");const n=i instanceof fp?i:new fp(i,e);if(Cr.throwOnInvalid)throw new COt(n);return new Yi({invalid:n})}static normalizeUnit(i){const e={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[i&&i.toLowerCase()];if(!e)throw new Y3e(i);return e}static isDuration(i){return i&&i.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(i,e={}){const n={...e,floor:!1!==e.round&&!1!==e.floor};return this.isValid?El.create(this.loc,n).formatDurationFromString(this,i):eMe}toHuman(i={}){if(!this.isValid)return eMe;const e=pb.map(n=>{const o=this.values[n];return zn(o)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...i,unit:n.slice(0,-1)}).format(o)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:i.listStyle||"narrow",...i}).format(e)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let i="P";return 0!==this.years&&(i+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(i+=this.months+3*this.quarters+"M"),0!==this.weeks&&(i+=this.weeks+"W"),0!==this.days&&(i+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(i+="T"),0!==this.hours&&(i+=this.hours+"H"),0!==this.minutes&&(i+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(i+=Die(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===i&&(i+="T0S"),i}toISOTime(i={}){if(!this.isValid)return null;const e=this.toMillis();return e<0||e>=864e5?null:(i={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...i,includeOffset:!1},Ln.fromMillis(e,{zone:"UTC"}).toISOTime(i))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?nMe(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(i){if(!this.isValid)return this;const e=Yi.fromDurationLike(i),n={};for(const o of pb)(CD(e.values,o)||CD(this.values,o))&&(n[o]=e.get(o)+this.get(o));return hS(this,{values:n},!0)}minus(i){if(!this.isValid)return this;const e=Yi.fromDurationLike(i);return this.plus(e.negate())}mapUnits(i){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=FTe(i(this.values[n],n));return hS(this,{values:e},!0)}get(i){return this[Yi.normalizeUnit(i)]}set(i){return this.isValid?hS(this,{values:{...this.values,...$B(i,Yi.normalizeUnit)}}):this}reconfigure({locale:i,numberingSystem:e,conversionAccuracy:n,matrix:o}={}){return hS(this,{loc:this.loc.clone({locale:i,numberingSystem:e}),matrix:o,conversionAccuracy:n})}as(i){return this.isValid?this.shiftTo(i).get(i):NaN}normalize(){if(!this.isValid)return this;const i=this.toObject();return iMe(this.matrix,i),hS(this,{values:i},!0)}rescale(){if(!this.isValid)return this;const i=function W3t(s){const i={};for(const[e,n]of Object.entries(s))0!==n&&(i[e]=n);return i}(this.normalize().shiftToAll().toObject());return hS(this,{values:i},!0)}shiftTo(...i){if(!this.isValid)return this;if(0===i.length)return this;i=i.map(a=>Yi.normalizeUnit(a));const e={},n={},o=this.toObject();let r;for(const a of pb)if(i.indexOf(a)>=0){r=a;let l=0;for(const u in n)l+=this.matrix[u][a]*n[u],n[u]=0;ub(o[a])&&(l+=o[a]);const c=Math.trunc(l);e[a]=c,n[a]=(1e3*l-1e3*c)/1e3}else ub(o[a])&&(n[a]=o[a]);for(const a in n)0!==n[a]&&(e[r]+=a===r?n[a]:n[a]/this.matrix[r][a]);return iMe(this.matrix,e),hS(this,{values:e},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const i={};for(const e of Object.keys(this.values))i[e]=0===this.values[e]?0:-this.values[e];return hS(this,{values:i},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(i){if(!this.isValid||!i.isValid||!this.loc.equals(i.loc))return!1;function e(n,o){return void 0===n||0===n?void 0===o||0===o:n===o}for(const n of pb)if(!e(this.values[n],i.values[n]))return!1;return!0}}const TD="Invalid Interval";class lr{constructor(i){this.s=i.start,this.e=i.end,this.invalid=i.invalid||null,this.isLuxonInterval=!0}static invalid(i,e=null){if(!i)throw new id("need to specify a reason the Interval is invalid");const n=i instanceof fp?i:new fp(i,e);if(Cr.throwOnInvalid)throw new SOt(n);return new lr({invalid:n})}static fromDateTimes(i,e){const n=dR(i),o=dR(e),r=function Y3t(s,i){return s&&s.isValid?i&&i.isValid?i<s?lr.invalid("end before start",`The end of an interval must be after its start, but you had start=${s.toISO()} and end=${i.toISO()}`):null:lr.invalid("missing or invalid end"):lr.invalid("missing or invalid start")}(n,o);return r??new lr({start:n,end:o})}static after(i,e){const n=Yi.fromDurationLike(e),o=dR(i);return lr.fromDateTimes(o,o.plus(n))}static before(i,e){const n=Yi.fromDurationLike(e),o=dR(i);return lr.fromDateTimes(o.minus(n),o)}static fromISO(i,e){const[n,o]=(i||"").split("/",2);if(n&&o){let r,a,l,c;try{r=Ln.fromISO(n,e),a=r.isValid}catch{a=!1}try{l=Ln.fromISO(o,e),c=l.isValid}catch{c=!1}if(a&&c)return lr.fromDateTimes(r,l);if(a){const u=Yi.fromISO(o,e);if(u.isValid)return lr.after(r,u)}else if(c){const u=Yi.fromISO(n,e);if(u.isValid)return lr.before(l,u)}}return lr.invalid("unparsable",`the input "${i}" can't be parsed as ISO 8601`)}static isInterval(i){return i&&i.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(i="milliseconds"){return this.isValid?this.toDuration(i).get(i):NaN}count(i="milliseconds",e){if(!this.isValid)return NaN;const n=this.start.startOf(i,e);let o;return o=e?.useLocaleWeeks?this.end.reconfigure({locale:n.locale}):this.end,o=o.startOf(i,e),Math.floor(o.diff(n,i).get(i))+(o.valueOf()!==this.end.valueOf())}hasSame(i){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,i))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(i){return!!this.isValid&&this.s>i}isBefore(i){return!!this.isValid&&this.e<=i}contains(i){return!!this.isValid&&this.s<=i&&this.e>i}set({start:i,end:e}={}){return this.isValid?lr.fromDateTimes(i||this.s,e||this.e):this}splitAt(...i){if(!this.isValid)return[];const e=i.map(dR).filter(a=>this.contains(a)).sort((a,l)=>a.toMillis()-l.toMillis()),n=[];let{s:o}=this,r=0;for(;o<this.e;){const a=e[r]||this.e,l=+a>+this.e?this.e:a;n.push(lr.fromDateTimes(o,l)),o=l,r+=1}return n}splitBy(i){const e=Yi.fromDurationLike(i);if(!this.isValid||!e.isValid||0===e.as("milliseconds"))return[];let r,{s:n}=this,o=1;const a=[];for(;n<this.e;){const l=this.start.plus(e.mapUnits(c=>c*o));r=+l>+this.e?this.e:l,a.push(lr.fromDateTimes(n,r)),n=r,o+=1}return a}divideEqually(i){return this.isValid?this.splitBy(this.length()/i).slice(0,i):[]}overlaps(i){return this.e>i.s&&this.s<i.e}abutsStart(i){return!!this.isValid&&+this.e==+i.s}abutsEnd(i){return!!this.isValid&&+i.e==+this.s}engulfs(i){return!!this.isValid&&this.s<=i.s&&this.e>=i.e}equals(i){return!(!this.isValid||!i.isValid)&&this.s.equals(i.s)&&this.e.equals(i.e)}intersection(i){if(!this.isValid)return this;const e=this.s>i.s?this.s:i.s,n=this.e<i.e?this.e:i.e;return e>=n?null:lr.fromDateTimes(e,n)}union(i){return this.isValid?lr.fromDateTimes(this.s<i.s?this.s:i.s,this.e>i.e?this.e:i.e):this}static merge(i){const[e,n]=i.sort((o,r)=>o.s-r.s).reduce(([o,r],a)=>r?r.overlaps(a)||r.abutsStart(a)?[o,r.union(a)]:[o.concat([r]),a]:[o,a],[[],null]);return n&&e.push(n),e}static xor(i){let e=null,n=0;const o=[],r=i.map(c=>[{time:c.s,type:"s"},{time:c.e,type:"e"}]),l=Array.prototype.concat(...r).sort((c,u)=>c.time-u.time);for(const c of l)n+="s"===c.type?1:-1,1===n?e=c.time:(e&&+e!=+c.time&&o.push(lr.fromDateTimes(e,c.time)),e=null);return lr.merge(o)}difference(...i){return lr.xor([this].concat(i)).map(e=>this.intersection(e)).filter(e=>e&&!e.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:TD}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(i=LB,e={}){return this.isValid?El.create(this.s.loc.clone(e),i).formatInterval(this):TD}toISO(i){return this.isValid?`${this.s.toISO(i)}/${this.e.toISO(i)}`:TD}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:TD}toISOTime(i){return this.isValid?`${this.s.toISOTime(i)}/${this.e.toISOTime(i)}`:TD}toFormat(i,{separator:e=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(i)}${e}${this.e.toFormat(i)}`:TD}toDuration(i,e){return this.isValid?this.e.diff(this.s,i,e):Yi.invalid(this.invalidReason)}mapEndpoints(i){return lr.fromDateTimes(i(this.s),i(this.e))}}class WB{static hasDST(i=Cr.defaultZone){const e=Ln.now().setZone(i).set({month:12});return!i.isUniversal&&e.offset!==e.set({month:6}).offset}static isValidIANAZone(i){return Cg.isValidZone(i)}static normalizeZone(i){return dS(i,Cr.defaultZone)}static getStartOfWeek({locale:i=null,locObj:e=null}={}){return(e||Xs.create(i)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:i=null,locObj:e=null}={}){return(e||Xs.create(i)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:i=null,locObj:e=null}={}){return(e||Xs.create(i)).getWeekendDays().slice()}static months(i="long",{locale:e=null,numberingSystem:n=null,locObj:o=null,outputCalendar:r="gregory"}={}){return(o||Xs.create(e,n,r)).months(i)}static monthsFormat(i="long",{locale:e=null,numberingSystem:n=null,locObj:o=null,outputCalendar:r="gregory"}={}){return(o||Xs.create(e,n,r)).months(i,!0)}static weekdays(i="long",{locale:e=null,numberingSystem:n=null,locObj:o=null}={}){return(o||Xs.create(e,n,null)).weekdays(i)}static weekdaysFormat(i="long",{locale:e=null,numberingSystem:n=null,locObj:o=null}={}){return(o||Xs.create(e,n,null)).weekdays(i,!0)}static meridiems({locale:i=null}={}){return Xs.create(i).meridiems()}static eras(i="short",{locale:e=null}={}){return Xs.create(e,null,"gregory").eras(i)}static features(){return{relative:RTe(),localeWeek:NTe()}}}function sMe(s,i){const e=o=>o.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=e(i)-e(s);return Math.floor(Yi.fromMillis(n).as("days"))}const xie={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},oMe={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},q3t=xie.hanidec.replace(/[\[|\]]/g,"").split("");function mp({numberingSystem:s},i=""){return new RegExp(`${xie[s||"latn"]}${i}`)}function cs(s,i=(e=>e)){return{regex:s,deser:([e])=>i(function Q3t(s){let i=parseInt(s,10);if(isNaN(i)){i="";for(let e=0;e<s.length;e++){const n=s.charCodeAt(e);if(-1!==s[e].search(xie.hanidec))i+=q3t.indexOf(s[e]);else for(const o in oMe){const[r,a]=oMe[o];n>=r&&n<=a&&(i+=n-r)}}return parseInt(i,10)}return i}(e))}}const rMe="[ \xa0]",aMe=new RegExp(rMe,"g");function eTt(s){return s.replace(/\./g,"\\.?").replace(aMe,rMe)}function lMe(s){return s.replace(/\./g,"").replace(aMe," ").toLowerCase()}function _p(s,i){return null===s?null:{regex:RegExp(s.map(eTt).join("|")),deser:([e])=>s.findIndex(n=>lMe(e)===lMe(n))+i}}function cMe(s,i){return{regex:s,deser:([,e,n])=>HB(e,n),groups:i}}function YB(s){return{regex:s,deser:([i])=>i}}function tTt(s){return s.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const iTt={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Aie=null;function dMe(s,i){return Array.prototype.concat(...s.map(e=>function cTt(s,i){if(s.literal)return s;const n=hMe(El.macroTokenToFormatOpts(s.val),i);return null==n||n.includes(void 0)?s:n}(e,i)))}function uMe(s,i,e){const n=dMe(El.parseFormat(e),s),o=n.map(a=>function nTt(s,i){const e=mp(i),n=mp(i,"{2}"),o=mp(i,"{3}"),r=mp(i,"{4}"),a=mp(i,"{6}"),l=mp(i,"{1,2}"),c=mp(i,"{1,3}"),u=mp(i,"{1,6}"),f=mp(i,"{1,9}"),_=mp(i,"{2,4}"),g=mp(i,"{4,6}"),S=D=>({regex:RegExp(tTt(D.val)),deser:([O])=>O,literal:!0}),k=(D=>{if(s.literal)return S(D);switch(D.val){case"G":return _p(i.eras("short"),0);case"GG":return _p(i.eras("long"),0);case"y":return cs(u);case"yy":case"kk":return cs(_,Oie);case"yyyy":case"kkkk":return cs(r);case"yyyyy":return cs(g);case"yyyyyy":return cs(a);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return cs(l);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return cs(n);case"MMM":return _p(i.months("short",!0),1);case"MMMM":return _p(i.months("long",!0),1);case"LLL":return _p(i.months("short",!1),1);case"LLLL":return _p(i.months("long",!1),1);case"o":case"S":return cs(c);case"ooo":case"SSS":return cs(o);case"u":return YB(f);case"uu":return YB(l);case"uuu":case"E":case"c":return cs(e);case"a":return _p(i.meridiems(),0);case"EEE":return _p(i.weekdays("short",!1),1);case"EEEE":return _p(i.weekdays("long",!1),1);case"ccc":return _p(i.weekdays("short",!0),1);case"cccc":return _p(i.weekdays("long",!0),1);case"Z":case"ZZ":return cMe(new RegExp(`([+-]${l.source})(?::(${n.source}))?`),2);case"ZZZ":return cMe(new RegExp(`([+-]${l.source})(${n.source})?`),2);case"z":return YB(/[a-z_+-/]{1,256}?/i);case" ":return YB(/[^\S\n\r]/);default:return S(D)}})(s)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return k.token=s,k}(a,s)),r=o.find(a=>a.invalidReason);if(r)return{input:i,tokens:n,invalidReason:r.invalidReason};{const[a,l]=function oTt(s){return[`^${s.map(e=>e.regex).reduce((e,n)=>`${e}(${n.source})`,"")}$`,s]}(o),c=RegExp(a,"i"),[u,f]=function rTt(s,i,e){const n=s.match(i);if(n){const o={};let r=1;for(const a in e)if(CD(e,a)){const l=e[a],c=l.groups?l.groups+1:1;!l.literal&&l.token&&(o[l.token.val[0]]=l.deser(n.slice(r,r+c))),r+=c}return[n,o]}return[n,{}]}(i,c,l),[_,g,S]=f?function aTt(s){let n,e=null;return zn(s.z)||(e=Cg.create(s.z)),zn(s.Z)||(e||(e=new cc(s.Z)),n=s.Z),zn(s.q)||(s.M=3*(s.q-1)+1),zn(s.h)||(s.h<12&&1===s.a?s.h+=12:12===s.h&&0===s.a&&(s.h=0)),0===s.G&&s.y&&(s.y=-s.y),zn(s.u)||(s.S=wie(s.u)),[Object.keys(s).reduce((r,a)=>{const l=(r=>{switch(r){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(a);return l&&(r[l]=s[a]),r},{}),e,n]}(f):[null,null,void 0];if(CD(f,"a")&&CD(f,"H"))throw new SD("Can't include meridiem when specifying 24-hour format");return{input:i,tokens:n,regex:c,rawMatches:u,matches:f,result:_,zone:g,specificOffset:S}}}function hMe(s,i){if(!s)return null;const n=El.create(i,s).dtFormatter(function lTt(){return Aie||(Aie=Ln.fromMillis(1555555555555)),Aie}()),o=n.formatToParts(),r=n.resolvedOptions();return o.map(a=>function sTt(s,i,e){const{type:n,value:o}=s;if("literal"===n){const c=/^\s+$/.test(o);return{literal:!c,val:c?" ":o}}let a=n;"hour"===n&&(a=null!=i.hour12?i.hour12?"hour12":"hour24":null!=i.hourCycle?"h11"===i.hourCycle||"h12"===i.hourCycle?"hour12":"hour24":e.hour12?"hour12":"hour24");let l=iTt[a];if("object"==typeof l&&(l=l[i[n]]),l)return{literal:!1,val:l}}(a,s,r))}const Rie="Invalid DateTime",pMe=864e13;function KB(s){return new fp("unsupported zone",`the zone "${s.name}" is not supported`)}function Nie(s){return null===s.weekData&&(s.weekData=BB(s.c)),s.weekData}function Lie(s){return null===s.localWeekData&&(s.localWeekData=BB(s.c,s.loc.getMinDaysInFirstWeek(),s.loc.getStartOfWeek())),s.localWeekData}function fb(s,i){const e={ts:s.ts,zone:s.zone,c:s.c,o:s.o,loc:s.loc,invalid:s.invalid};return new Ln({...e,...i,old:e})}function fMe(s,i,e){let n=s-60*i*1e3;const o=e.offset(n);if(i===o)return[n,i];n-=60*(o-i)*1e3;const r=e.offset(n);return o===r?[n,o]:[s-60*Math.min(o,r)*1e3,Math.max(o,r)]}function JB(s,i){const e=new Date(s+=60*i*1e3);return{year:e.getUTCFullYear(),month:e.getUTCMonth()+1,day:e.getUTCDate(),hour:e.getUTCHours(),minute:e.getUTCMinutes(),second:e.getUTCSeconds(),millisecond:e.getUTCMilliseconds()}}function qB(s,i,e){return fMe(jB(s),i,e)}function mMe(s,i){const e=s.o,n=s.c.year+Math.trunc(i.years),o=s.c.month+Math.trunc(i.months)+3*Math.trunc(i.quarters),r={...s.c,year:n,month:o,day:Math.min(s.c.day,zB(n,o))+Math.trunc(i.days)+7*Math.trunc(i.weeks)},a=Yi.fromObject({years:i.years-Math.trunc(i.years),quarters:i.quarters-Math.trunc(i.quarters),months:i.months-Math.trunc(i.months),weeks:i.weeks-Math.trunc(i.weeks),days:i.days-Math.trunc(i.days),hours:i.hours,minutes:i.minutes,seconds:i.seconds,milliseconds:i.milliseconds}).as("milliseconds"),l=jB(r);let[c,u]=fMe(l,e,s.zone);return 0!==a&&(c+=a,u=s.zone.offset(c)),{ts:c,o:u}}function cR(s,i,e,n,o,r){const{setZone:a,zone:l}=e;if(s&&0!==Object.keys(s).length||i){const c=i||l,u=Ln.fromObject(s,{...e,zone:c,specificOffset:r});return a?u:u.setZone(l)}return Ln.invalid(new fp("unparsable",`the input "${o}" can't be parsed as ${n}`))}function QB(s,i,e=!0){return s.isValid?El.create(Xs.create("en-US"),{allowZ:e,forceSimple:!0}).formatDateTimeFromString(s,i):null}function Gie(s,i){const e=s.c.year>9999||s.c.year<0;let n="";return e&&s.c.year>=0&&(n+="+"),n+=$r(s.c.year,e?6:4),i?(n+="-",n+=$r(s.c.month),n+="-",n+=$r(s.c.day)):(n+=$r(s.c.month),n+=$r(s.c.day)),n}function _Me(s,i,e,n,o,r){let a=$r(s.c.hour);return i?(a+=":",a+=$r(s.c.minute),(0!==s.c.millisecond||0!==s.c.second||!e)&&(a+=":")):a+=$r(s.c.minute),(0!==s.c.millisecond||0!==s.c.second||!e)&&(a+=$r(s.c.second),(0!==s.c.millisecond||!n)&&(a+=".",a+=$r(s.c.millisecond,3))),o&&(s.isOffsetFixed&&0===s.offset&&!r?a+="Z":s.o<0?(a+="-",a+=$r(Math.trunc(-s.o/60)),a+=":",a+=$r(Math.trunc(-s.o%60))):(a+="+",a+=$r(Math.trunc(s.o/60)),a+=":",a+=$r(Math.trunc(s.o%60)))),r&&(a+="["+s.zone.ianaName+"]"),a}const gMe={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},uTt={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},hTt={ordinal:1,hour:0,minute:0,second:0,millisecond:0},vMe=["year","month","day","hour","minute","second","millisecond"],pTt=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],fTt=["year","ordinal","hour","minute","second","millisecond"];function SMe(s){switch(s.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function mTt(s){const i={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[s.toLowerCase()];if(!i)throw new Y3e(s);return i}(s)}}function CMe(s,i){const e=dS(i.zone,Cr.defaultZone),n=Xs.fromObject(i),o=Cr.now();let r,a;if(zn(s.year))r=o;else{for(const u of vMe)zn(s[u])&&(s[u]=gMe[u]);const l=xTe(s)||ATe(s);if(l)return Ln.invalid(l);const c=e.offset(o);[r,a]=qB(s,c,e)}return new Ln({ts:r,zone:e,loc:n,o:a})}function bMe(s,i,e){const n=!!zn(e.round)||e.round,o=(a,l)=>(a=Die(a,n||e.calendary?0:2,!0),i.loc.clone(e).relFormatter(e).format(a,l)),r=a=>e.calendary?i.hasSame(s,a)?0:i.startOf(a).diff(s.startOf(a),a).get(a):i.diff(s,a).get(a);if(e.unit)return o(r(e.unit),e.unit);for(const a of e.units){const l=r(a);if(Math.abs(l)>=1)return o(l,a)}return o(s>i?-0:0,e.units[e.units.length-1])}function EMe(s){let e,i={};return s.length>0&&"object"==typeof s[s.length-1]?(i=s[s.length-1],e=Array.from(s).slice(0,s.length-1)):e=Array.from(s),[i,e]}class Ln{constructor(i){const e=i.zone||Cr.defaultZone;let n=i.invalid||(Number.isNaN(i.ts)?new fp("invalid input"):null)||(e.isValid?null:KB(e));this.ts=zn(i.ts)?Cr.now():i.ts;let o=null,r=null;if(!n)if(i.old&&i.old.ts===this.ts&&i.old.zone.equals(e))[o,r]=[i.old.c,i.old.o];else{const l=e.offset(this.ts);o=JB(this.ts,l),n=Number.isNaN(o.year)?new fp("invalid input"):null,o=n?null:o,r=n?null:l}this._zone=e,this.loc=i.loc||Xs.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=o,this.o=r,this.isLuxonDateTime=!0}static now(){return new Ln({})}static local(){const[i,e]=EMe(arguments),[n,o,r,a,l,c,u]=e;return CMe({year:n,month:o,day:r,hour:a,minute:l,second:c,millisecond:u},i)}static utc(){const[i,e]=EMe(arguments),[n,o,r,a,l,c,u]=e;return i.zone=cc.utcInstance,CMe({year:n,month:o,day:r,hour:a,minute:l,second:c,millisecond:u},i)}static fromJSDate(i,e={}){const n=function $Ot(s){return"[object Date]"===Object.prototype.toString.call(s)}(i)?i.valueOf():NaN;if(Number.isNaN(n))return Ln.invalid("invalid input");const o=dS(e.zone,Cr.defaultZone);return o.isValid?new Ln({ts:n,zone:o,loc:Xs.fromObject(e)}):Ln.invalid(KB(o))}static fromMillis(i,e={}){if(ub(i))return i<-pMe||i>pMe?Ln.invalid("Timestamp out of range"):new Ln({ts:i,zone:dS(e.zone,Cr.defaultZone),loc:Xs.fromObject(e)});throw new id(`fromMillis requires a numerical input, but received a ${typeof i} with value ${i}`)}static fromSeconds(i,e={}){if(ub(i))return new Ln({ts:1e3*i,zone:dS(e.zone,Cr.defaultZone),loc:Xs.fromObject(e)});throw new id("fromSeconds requires a numerical input")}static fromObject(i,e={}){i=i||{};const n=dS(e.zone,Cr.defaultZone);if(!n.isValid)return Ln.invalid(KB(n));const o=Xs.fromObject(e),r=$B(i,SMe),{minDaysInFirstWeek:a,startOfWeek:l}=ITe(r,o),c=Cr.now(),u=zn(e.specificOffset)?n.offset(c):e.specificOffset,f=!zn(r.ordinal),_=!zn(r.year),g=!zn(r.month)||!zn(r.day),S=_||g,b=r.weekYear||r.weekNumber;if((S||f)&&b)throw new SD("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(g&&f)throw new SD("Can't mix ordinal dates with month/day");const k=b||r.weekday&&!S;let D,O,I=JB(c,u);k?(D=pTt,O=uTt,I=BB(I,a,l)):f?(D=fTt,O=hTt,I=yie(I)):(D=vMe,O=gMe);let N=!1;for(const ce of D)zn(r[ce])?r[ce]=N?O[ce]:I[ce]:N=!0;const P=k?function zOt(s,i=4,e=1){const n=VB(s.weekYear),o=ih(s.weekNumber,1,oR(s.weekYear,i,e)),r=ih(s.weekday,1,7);return n?o?!r&&nh("weekday",s.weekday):nh("week",s.weekNumber):nh("weekYear",s.weekYear)}(r,a,l):f?function jOt(s){const i=VB(s.year),e=ih(s.ordinal,1,bD(s.year));return i?!e&&nh("ordinal",s.ordinal):nh("year",s.year)}(r):xTe(r),G=P||ATe(r);if(G)return Ln.invalid(G);const H=k?TTe(r,a,l):f?MTe(r):r,[$,Q]=qB(H,u,n),ie=new Ln({ts:$,zone:n,o:Q,loc:o});return r.weekday&&S&&i.weekday!==ie.weekday?Ln.invalid("mismatched weekday",`you can't specify both a weekday of ${r.weekday} and a date of ${ie.toISO()}`):ie}static fromISO(i,e={}){const[n,o]=function N3t(s){return kD(s,[O3t,ZTe],[T3t,x3t],[M3t,A3t],[I3t,R3t])}(i);return cR(n,o,e,"ISO 8601",i)}static fromRFC2822(i,e={}){const[n,o]=function L3t(s){return kD(function E3t(s){return s.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(s),[C3t,b3t])}(i);return cR(n,o,e,"RFC 2822",i)}static fromHTTP(i,e={}){const[n,o]=function G3t(s){return kD(s,[y3t,QTe],[k3t,QTe],[w3t,D3t])}(i);return cR(n,o,e,"HTTP",e)}static fromFormat(i,e,n={}){if(zn(i)||zn(e))throw new id("fromFormat requires an input string and a format");const{locale:o=null,numberingSystem:r=null}=n,a=Xs.fromOpts({locale:o,numberingSystem:r,defaultToEN:!0}),[l,c,u,f]=function dTt(s,i,e){const{result:n,zone:o,specificOffset:r,invalidReason:a}=uMe(s,i,e);return[n,o,r,a]}(a,i,e);return f?Ln.invalid(f):cR(l,c,n,`format ${e}`,i,u)}static fromString(i,e,n={}){return Ln.fromFormat(i,e,n)}static fromSQL(i,e={}){const[n,o]=function j3t(s){return kD(s,[B3t,ZTe],[V3t,z3t])}(i);return cR(n,o,e,"SQL",i)}static invalid(i,e=null){if(!i)throw new id("need to specify a reason the DateTime is invalid");const n=i instanceof fp?i:new fp(i,e);if(Cr.throwOnInvalid)throw new vOt(n);return new Ln({invalid:n})}static isDateTime(i){return i&&i.isLuxonDateTime||!1}static parseFormatForOpts(i,e={}){const n=hMe(i,Xs.fromObject(e));return n?n.map(o=>o?o.val:null).join(""):null}static expandFormat(i,e={}){return dMe(El.parseFormat(i),Xs.fromObject(e)).map(o=>o.val).join("")}get(i){return this[i]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Nie(this).weekYear:NaN}get weekNumber(){return this.isValid?Nie(this).weekNumber:NaN}get weekday(){return this.isValid?Nie(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Lie(this).weekday:NaN}get localWeekNumber(){return this.isValid?Lie(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Lie(this).weekYear:NaN}get ordinal(){return this.isValid?yie(this.c).ordinal:NaN}get monthShort(){return this.isValid?WB.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?WB.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?WB.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?WB.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const i=864e5,e=6e4,n=jB(this.c),o=this.zone.offset(n-i),r=this.zone.offset(n+i),a=this.zone.offset(n-o*e),l=this.zone.offset(n-r*e);if(a===l)return[this];const c=n-a*e,u=n-l*e,f=JB(c,a),_=JB(u,l);return f.hour===_.hour&&f.minute===_.minute&&f.second===_.second&&f.millisecond===_.millisecond?[fb(this,{ts:c}),fb(this,{ts:u})]:[this]}get isInLeapYear(){return sR(this.year)}get daysInMonth(){return zB(this.year,this.month)}get daysInYear(){return this.isValid?bD(this.year):NaN}get weeksInWeekYear(){return this.isValid?oR(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?oR(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(i={}){const{locale:e,numberingSystem:n,calendar:o}=El.create(this.loc.clone(i),i).resolvedOptions(this);return{locale:e,numberingSystem:n,outputCalendar:o}}toUTC(i=0,e={}){return this.setZone(cc.instance(i),e)}toLocal(){return this.setZone(Cr.defaultZone)}setZone(i,{keepLocalTime:e=!1,keepCalendarTime:n=!1}={}){if((i=dS(i,Cr.defaultZone)).equals(this.zone))return this;if(i.isValid){let o=this.ts;if(e||n){const r=i.offset(this.ts),a=this.toObject();[o]=qB(a,r,i)}return fb(this,{ts:o,zone:i})}return Ln.invalid(KB(i))}reconfigure({locale:i,numberingSystem:e,outputCalendar:n}={}){return fb(this,{loc:this.loc.clone({locale:i,numberingSystem:e,outputCalendar:n})})}setLocale(i){return this.reconfigure({locale:i})}set(i){if(!this.isValid)return this;const e=$B(i,SMe),{minDaysInFirstWeek:n,startOfWeek:o}=ITe(e,this.loc),r=!zn(e.weekYear)||!zn(e.weekNumber)||!zn(e.weekday),a=!zn(e.ordinal),l=!zn(e.year),c=!zn(e.month)||!zn(e.day);if((l||c||a)&&(e.weekYear||e.weekNumber))throw new SD("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&a)throw new SD("Can't mix ordinal dates with month/day");let _;r?_=TTe({...BB(this.c,n,o),...e},n,o):zn(e.ordinal)?(_={...this.toObject(),...e},zn(e.day)&&(_.day=Math.min(zB(_.year,_.month),_.day))):_=MTe({...yie(this.c),...e});const[g,S]=qB(_,this.o,this.zone);return fb(this,{ts:g,o:S})}plus(i){return this.isValid?fb(this,mMe(this,Yi.fromDurationLike(i))):this}minus(i){return this.isValid?fb(this,mMe(this,Yi.fromDurationLike(i).negate())):this}startOf(i,{useLocaleWeeks:e=!1}={}){if(!this.isValid)return this;const n={},o=Yi.normalizeUnit(i);switch(o){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0}if("weeks"===o)if(e){const r=this.loc.getStartOfWeek(),{weekday:a}=this;a<r&&(n.weekNumber=this.weekNumber-1),n.weekday=r}else n.weekday=1;if("quarters"===o){const r=Math.ceil(this.month/3);n.month=3*(r-1)+1}return this.set(n)}endOf(i,e){return this.isValid?this.plus({[i]:1}).startOf(i,e).minus(1):this}toFormat(i,e={}){return this.isValid?El.create(this.loc.redefaultToEN(e)).formatDateTimeFromString(this,i):Rie}toLocaleString(i=LB,e={}){return this.isValid?El.create(this.loc.clone(e),i).formatDateTime(this):Rie}toLocaleParts(i={}){return this.isValid?El.create(this.loc.clone(i),i).formatDateTimeParts(this):[]}toISO({format:i="extended",suppressSeconds:e=!1,suppressMilliseconds:n=!1,includeOffset:o=!0,extendedZone:r=!1}={}){if(!this.isValid)return null;const a="extended"===i;let l=Gie(this,a);return l+="T",l+=_Me(this,a,e,n,o,r),l}toISODate({format:i="extended"}={}){return this.isValid?Gie(this,"extended"===i):null}toISOWeekDate(){return QB(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:i=!1,suppressSeconds:e=!1,includeOffset:n=!0,includePrefix:o=!1,extendedZone:r=!1,format:a="extended"}={}){return this.isValid?(o?"T":"")+_Me(this,"extended"===a,e,i,n,r):null}toRFC2822(){return QB(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return QB(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Gie(this,!0):null}toSQLTime({includeOffset:i=!0,includeZone:e=!1,includeOffsetSpace:n=!0}={}){let o="HH:mm:ss.SSS";return(e||i)&&(n&&(o+=" "),e?o+="z":i&&(o+="ZZ")),QB(this,o,!0)}toSQL(i={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(i)}`:null}toString(){return this.isValid?this.toISO():Rie}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(i={}){if(!this.isValid)return{};const e={...this.c};return i.includeConfig&&(e.outputCalendar=this.outputCalendar,e.numberingSystem=this.loc.numberingSystem,e.locale=this.loc.locale),e}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(i,e="milliseconds",n={}){if(!this.isValid||!i.isValid)return Yi.invalid("created by diffing an invalid DateTime");const o={locale:this.locale,numberingSystem:this.numberingSystem,...n},r=function XOt(s){return Array.isArray(s)?s:[s]}(e).map(Yi.normalizeUnit),a=i.valueOf()>this.valueOf(),u=function J3t(s,i,e,n){let[o,r,a,l]=function K3t(s,i,e){const n=[["years",(c,u)=>u.year-c.year],["quarters",(c,u)=>u.quarter-c.quarter+4*(u.year-c.year)],["months",(c,u)=>u.month-c.month+12*(u.year-c.year)],["weeks",(c,u)=>{const f=sMe(c,u);return(f-f%7)/7}],["days",sMe]],o={},r=s;let a,l;for(const[c,u]of n)e.indexOf(c)>=0&&(a=c,o[c]=u(s,i),l=r.plus(o),l>i?(o[c]--,(s=r.plus(o))>i&&(l=s,o[c]--,s=r.plus(o))):s=l);return[s,o,l,a]}(s,i,e);const c=i-o,u=e.filter(_=>["hours","minutes","seconds","milliseconds"].indexOf(_)>=0);0===u.length&&(a<i&&(a=o.plus({[l]:1})),a!==o&&(r[l]=(r[l]||0)+c/(a-o)));const f=Yi.fromObject(r,n);return u.length>0?Yi.fromMillis(c,n).shiftTo(...u).plus(f):f}(a?this:i,a?i:this,r,o);return a?u.negate():u}diffNow(i="milliseconds",e={}){return this.diff(Ln.now(),i,e)}until(i){return this.isValid?lr.fromDateTimes(this,i):this}hasSame(i,e,n){if(!this.isValid)return!1;const o=i.valueOf(),r=this.setZone(i.zone,{keepLocalTime:!0});return r.startOf(e,n)<=o&&o<=r.endOf(e,n)}equals(i){return this.isValid&&i.isValid&&this.valueOf()===i.valueOf()&&this.zone.equals(i.zone)&&this.loc.equals(i.loc)}toRelative(i={}){if(!this.isValid)return null;const e=i.base||Ln.fromObject({},{zone:this.zone}),n=i.padding?this<e?-i.padding:i.padding:0;let o=["years","months","days","hours","minutes","seconds"],r=i.unit;return Array.isArray(i.unit)&&(o=i.unit,r=void 0),bMe(e,this.plus(n),{...i,numeric:"always",units:o,unit:r})}toRelativeCalendar(i={}){return this.isValid?bMe(i.base||Ln.fromObject({},{zone:this.zone}),this,{...i,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...i){if(!i.every(Ln.isDateTime))throw new id("min requires all arguments be DateTimes");return LTe(i,e=>e.valueOf(),Math.min)}static max(...i){if(!i.every(Ln.isDateTime))throw new id("max requires all arguments be DateTimes");return LTe(i,e=>e.valueOf(),Math.max)}static fromFormatExplain(i,e,n={}){const{locale:o=null,numberingSystem:r=null}=n;return uMe(Xs.fromOpts({locale:o,numberingSystem:r,defaultToEN:!0}),i,e)}static fromStringExplain(i,e,n={}){return Ln.fromFormatExplain(i,e,n)}static get DATE_SHORT(){return LB}static get DATE_MED(){return K3e}static get DATE_MED_WITH_WEEKDAY(){return bOt}static get DATE_FULL(){return J3e}static get DATE_HUGE(){return q3e}static get TIME_SIMPLE(){return Q3e}static get TIME_WITH_SECONDS(){return Z3e}static get TIME_WITH_SHORT_OFFSET(){return eTe}static get TIME_WITH_LONG_OFFSET(){return tTe}static get TIME_24_SIMPLE(){return nTe}static get TIME_24_WITH_SECONDS(){return iTe}static get TIME_24_WITH_SHORT_OFFSET(){return sTe}static get TIME_24_WITH_LONG_OFFSET(){return oTe}static get DATETIME_SHORT(){return rTe}static get DATETIME_SHORT_WITH_SECONDS(){return aTe}static get DATETIME_MED(){return lTe}static get DATETIME_MED_WITH_SECONDS(){return cTe}static get DATETIME_MED_WITH_WEEKDAY(){return EOt}static get DATETIME_FULL(){return dTe}static get DATETIME_FULL_WITH_SECONDS(){return uTe}static get DATETIME_HUGE(){return hTe}static get DATETIME_HUGE_WITH_SECONDS(){return pTe}}function dR(s){if(Ln.isDateTime(s))return s;if(s&&s.valueOf&&ub(s.valueOf()))return Ln.fromJSDate(s);if(s&&"object"==typeof s)return Ln.fromObject(s);throw new id(`Unknown datetime argument: ${s}, of type ${typeof s}`)}function pS(){const s=new Date;return new Date(s.getFullYear(),s.getMonth(),s.getDate())}function Xr(s){s instanceof aXe||s instanceof fl?s.markAsDirty():(s instanceof Mi||s instanceof J$e||s instanceof Zh)&&Object.keys(s.controls).forEach(i=>Xr(s.controls[i]))}function MD(s){return Object.keys(s).map(i=>+i).filter(i=>i>=0)}function _Tt(s,i){return Ln.fromFormat(s,i).toJSDate()}function Ta(s,i,e){let n=ul(i);n=function gTt(s){const i=s.match(/(datetime'.{1,}?')/gi);if(i)for(const e of i){const r=`datetime'${_Tt(e.replace(/datetime|'/gi,""),"yyyy-MM-dd'T'HH-mm-ss").toOffsetString().replace(/\+/gi,"%2B")}'`;s=s.replace(e,r)}return s}(n);const o=!!i.group?.length;return s.get(`${e}?${n}`).pipe((0,U.T)(r=>({data:o?Lr(r.data):r.data,total:r.total})))}const vTt=["form"];let mb=(()=>{class s extends It{constructor(){super(),this.opened=!1,this.openedEvent=new t.bkB}open(e){return this._closeSubject||(this._closeSubject=new Xe.B),this._oveflow=document.body.style.overflow,document.body.style.overflow="hidden",this.opened=!0,this.options=e,this.openedEvent.emit(),this._closeSubject.asObservable()}close(){this._canClose()&&(this._closeSubject.next(!0),this._closeSubject.complete(),this._closeSubject=null,this.opened=!1,document.body.style.overflow=this._oveflow)}dismiss(){this._closeSubject.next(!1),this._closeSubject.complete(),this._closeSubject=null,this.opened=!1,document.body.style.overflow=this._oveflow}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275dir=t.FsC({type:s,features:[t.Vt3]})}return s})(),As=(()=>{class s extends mb{constructor(e){super(),this._messageBox=e}dismiss(){this.form.dirty?this._messageBox.confirm("Sei sicuro di voler chiudere la finestra senza salvare?","Conferma chiusura").pipe(z(e=>e),x(()=>super.dismiss())).subscribe():super.dismiss()}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(_t))};static#t=this.\u0275dir=t.FsC({type:s,viewQuery:function(n,o){if(1&n&&t.GBs(vTt,5),2&n){let r;t.mGM(r=t.lsd())&&(o.form=r.first)}},features:[t.Vt3]})}return s})();function STt(s,i){if(1&s&&(t.qex(0),t.EFF(1),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.SpI(" ",e.error,"\n")}}let cr=(()=>{class s extends It{get error(){const e=this.control.errors;switch(!0){case e.required:return"Campo obbligatorio";case e.minlength:return`Minimo ${e.minlength.requiredLength} caratteri`;case e.maxlength:return`Massimo ${e.maxlength.requiredLength} caratteri`;case e.email:return"Email non valida";case e.minError&&null!=e.minError.minValue:return`Minimo ${this._getText(e.minError.minValue)}`;case e.maxError&&null!=e.maxError.maxValue:return`Massimo ${this._getText(e.maxError.maxValue)}`;case e.custom:return e.custom;default:return""}}constructor(){super(),this._datePipe=new xi("it"),this._numberPipe=new Qp("it")}_getText(e){return e instanceof Date?this._datePipe.transform(e,"dd/MM/yyyy"):"number"==typeof e?this._numberPipe.transform(e,"1.0-2"):e.toString()}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["lacos-validation-message"],["","lacosValidationMessage",""],["",8,"validation-message"]],inputs:{control:"control"},features:[t.Vt3],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(n,o){1&n&&t.DNE(0,STt,2,1,"ng-container",0),2&n&&t.Y8G("ngIf",o.control&&o.control.errors&&o.control.dirty)},dependencies:[W],encapsulation:2})}return s})();function CTt(s,i){1&s&&t.nrm(0,"div",3)}function bTt(s,i){if(1&s){const e=t.RV6();t.j41(0,"form",14,0),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.close())}),t.j41(2,"div",15)(3,"div",16)(4,"label"),t.EFF(5,"Nome utente"),t.k0s(),t.j41(6,"div",17)(7,"input",18),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.userName,o)||(r.options.userName=o),t.Njj(o)}),t.k0s(),t.nrm(8,"div",19),t.k0s()(),t.j41(9,"div",20)(10,"label"),t.EFF(11,"Password"),t.k0s(),t.j41(12,"div",17)(13,"input",21),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.password,o)||(r.options.password=o),t.Njj(o)}),t.k0s(),t.nrm(14,"div",19),t.k0s()(),t.j41(15,"div",22)(16,"label"),t.EFF(17,"Abilitato"),t.k0s(),t.j41(18,"div",17)(19,"kendo-switch",23),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.enabled,o)||(r.options.enabled=o),t.Njj(o)}),t.k0s(),t.nrm(20,"div",19),t.k0s()()(),t.j41(21,"div",24)(22,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.dismiss())}),t.nrm(23,"i",9),t.EFF(24," ANNULLA "),t.k0s(),t.j41(25,"button",25),t.nrm(26,"i",11),t.EFF(27," SALVA "),t.k0s()()()}if(2&s){const e=t.sdS(1),n=t.XpG(2);t.R7$(7),t.R50("ngModel",n.options.userName),t.R7$(),t.Y8G("control",e.controls.field_1),t.R7$(5),t.R50("ngModel",n.options.password),t.R7$(),t.Y8G("control",e.controls.field_2),t.R7$(5),t.R50("ngModel",n.options.enabled),t.R7$(),t.Y8G("control",e.controls.enabled)}}function ETt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",4)(1,"kendo-window",5),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",6),t.EFF(4," Utente "),t.k0s(),t.j41(5,"div",7)(6,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",9),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",11),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",12),t.k0s(),t.DNE(13,bTt,28,6,"form",13),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("top",30),t.R7$(12),t.Y8G("ngIf",e.options)}}let yTt=(()=>{class s extends As{constructor(e){super(e),this.role=Pt}_canClose(){return Xr(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(_t))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["lacos-user-modal"]],features:[t.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowCloseAction",""],["name","updateUserForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateUserForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row"],[1,"col-md-5"],[1,"form-group"],["name","field_1","required","","maxlength","64","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"validation-message",3,"control"],[1,"col-md-4"],["name","field_2","maxlength","16","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3"],["name","enabled","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],[1,"text-right","mt-5"],["type","submit",1,"btn","btn-primary"]],template:function(n,o){1&n&&t.DNE(0,CTt,1,0,"div",1)(1,ETt,14,4,"div",2),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[W,Fi,jo,Un,Pi,ts,Vu,mi,Mi,ni,li,Wn,ip,cr],encapsulation:2})}return s})(),gp=(()=>{class s extends It{transform(e){switch(e){case!0:return"Si";case!1:return"No";default:return e}}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(s)))(o||s)}})();static#t=this.\u0275pipe=t.EJ8({name:"bool",type:s,pure:!0})}return s})(),kTt=(()=>{class s extends It{transform(e){switch(e){case Pt.Administrator:return"Amministratore";case Pt.Operator:return"Operatore";case Pt.Customer:return"Cliente";default:return e}}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(s)))(o||s)}})();static#t=this.\u0275pipe=t.EJ8({name:"role",type:s,pure:!0})}return s})();const wTt=["userModal"];function DTt(s,i){if(1&s&&(t.j41(0,"span",10),t.EFF(1),t.nI1(2,"role"),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.role)," ")}}function OTt(s,i){1&s&&(t.EFF(0),t.nI1(1,"bool")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit.enabled)," ")}function TTt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",11),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.edit(o))}),t.nrm(1,"i",12),t.k0s()}}let MTt=(()=>{class s extends It{constructor(e,n){super(),this._service=e,this._messageBox=n,this.state={skip:0,take:30,group:[],sort:[]}}ngOnInit(){this._read(),this.updateScreenSize()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}dataStateChange(e){this.state=e,this._read()}create(){const e=Pc.empty();this._subscriptions.push(this.userModal.open(e).pipe(z(n=>n),Y(()=>this._service.createUser(e)),x(n=>this._messageBox.success(`Utente ${n.userName} creato`)),x(()=>this._read())).subscribe())}edit(e){this._subscriptions.push(this._service.getUser(e.id).pipe((0,U.T)(n=>Pc.fromUser(n)),Y(n=>this.userModal.open(n)),z(n=>n),(0,U.T)(()=>this.userModal.options),Y(n=>this._service.updateUser(n,e.id)),(0,U.T)(()=>this.userModal.options),x(n=>this._messageBox.success(`Utente ${n.userName} aggiornato`)),x(()=>this._read())).subscribe())}_read(){this._subscriptions.push(this._service.readUsers(this.state).pipe(x(e=>this.data=e)).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(mr),t.rXU(_t))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["lacos-users"]],viewQuery:function(n,o){if(1&n&&t.GBs(wTt,7),2&n){let r;t.mGM(r=t.lsd())&&(o.userModal=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},features:[t.Vt3],decls:15,vars:13,consts:[["userModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","userName","title","Nome utente"],["field","role","title","Ruolo","filter","numeric"],["kendoGridCellTemplate",""],["field","enabled","title","Abilitato","filter","boolean"],["field","id","title"," ",3,"sortable","filterable","width"],[1,"text-nowrap"],["title","Modifica",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-edit"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h4"),t.EFF(3," Utenti "),t.k0s()()(),t.j41(4,"div",3)(5,"kendo-grid",4),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))}),t.nrm(6,"kendo-grid-column",5),t.j41(7,"kendo-grid-column",6),t.DNE(8,DTt,3,3,"ng-template",7),t.k0s(),t.j41(9,"kendo-grid-column",8),t.DNE(10,OTt,2,3,"ng-template",7),t.k0s(),t.j41(11,"kendo-grid-column",9),t.DNE(12,TTt,2,0,"ng-template",7),t.k0s()()(),t.nrm(13,"lacos-user-modal",null,0)}2&n&&(t.R7$(5),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.data)("pageSize",o.state.take)("skip",o.state.skip)("sort",o.state.sort)("filter",o.state.filter)("group",o.state.group)("sortable",!0)("pageable",!0),t.R7$(6),t.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[Nn,yn,qn,yTt,gp,kTt],encapsulation:2})}return s})(),ITt=(()=>{class s extends It{constructor(e,n){super(),this._security=e,this._router=n}ngOnInit(){this._subscriptions.push(this._security.logout().pipe(x(()=>this._router.navigateByUrl("/login"))).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(mr),t.rXU(Qi))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-logout"]],features:[t.Vt3],decls:0,vars:0,template:function(n,o){},encapsulation:2})}return s})(),xTt=(()=>{class s extends It{constructor(e,n){super(),this._security=e,this._router=n,this.credentials=new uX}login(){this._subscriptions.push(this._security.login(this.credentials).pipe(x(()=>this._router.navigateByUrl("/home"))).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(mr),t.rXU(Qi))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["lacos-login"]],features:[t.Vt3],decls:20,vars:3,consts:[["loginForm","ngForm"],["name","loginForm","novalidate","","autocomplete","off",3,"ngSubmit"],[1,"text-center"],[1,"text-muted","text-center","mb-4"],[1,"row"],[1,"col-md-3"],["for","userName"],[1,"form-group"],["type","text","name","userName","novalidate","","autocomplete","off","required","","id","userName",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["type","password","name","password","novalidate","","autocomplete","off","required","","id","password",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"form",1,0),t.bIt("ngSubmit",function(){t.eBV(r);const l=t.sdS(1);return t.Njj(l.valid&&o.login())}),t.j41(2,"h4",2),t.EFF(3,"Accesso Area Riservata"),t.k0s(),t.j41(4,"p",3),t.EFF(5,"Inserisci il tuo nome utente e password per accedere"),t.k0s(),t.j41(6,"div",4)(7,"div",5)(8,"label",6),t.EFF(9,"Nome utente"),t.k0s(),t.j41(10,"div",7)(11,"input",8),t.mxI("ngModelChange",function(l){return t.eBV(r),t.DH7(o.credentials.userName,l)||(o.credentials.userName=l),t.Njj(l)}),t.k0s()()()(),t.j41(12,"div",4)(13,"div",5)(14,"label",9),t.EFF(15,"Password"),t.k0s(),t.j41(16,"div",7)(17,"input",10),t.mxI("ngModelChange",function(l){return t.eBV(r),t.DH7(o.credentials.password,l)||(o.credentials.password=l),t.Njj(l)}),t.k0s()()()(),t.j41(18,"button",11),t.EFF(19,"ACCEDI"),t.k0s()()}if(2&n){const r=t.sdS(1);t.R7$(11),t.R50("ngModel",o.credentials.userName),t.R7$(6),t.R50("ngModel",o.credentials.password),t.R7$(),t.Y8G("disabled",r.invalid)}},dependencies:[Fi,jo,Un,Pi,ts,mi,Mi],encapsulation:2})}return s})();class oh{constructor(i,e,n,o,r,a,l,c,u,f,_,g,S,b){this.id=i,this.note=n,this.operatorId=o,this.operatorName=r,this.jobId=a,this.activityId=l,this.ticketId=c,this.purchaseOrderId=u,this.elementCode=f,this.isRead=_,this.messageNotifications=g,this.isFromApp=S,this.targetOperators=b,this.date=e?new Date(e):null}static build(i,e){const n=i.messageNotifications.map(r=>Pie.build(r)),o=n.isEmpty()||n.some(r=>r.operatorId==e&&r.isRead)||n.every(r=>r.operatorId!=e);return new oh(i.id,i.date,i.note,i.operatorId,i.operatorName,i.jobId,i.activityId,i.ticketId,i.purchaseOrderId,i.elementCode,o,i.messageNotifications,i.isFromApp,i.targetOperators)}}class Zd{constructor(i,e,n,o,r,a,l,c,u){this.id=i,this.note=n,this.operatorId=o,this.jobId=r,this.activityId=a,this.ticketId=l,this.purchaseOrderId=c,this.isFromApp=u,this.date=e?new Date(e):null}static build(i){return new Zd(i.id,i.date,i.note,i.operatorId,i.jobId,i.activityId,i.ticketId,i.purchaseOrderId,i.isFromApp)}}class rh{constructor(i,e,n=!1,o=[]){this.message=i,this.isNewMessage=e,this.replyAll=n,this.targetOperators=o}static build(i){return new Zd(i.id,i.date,i.note,i.operatorId,i.jobId,i.activityId,i.ticketId,i.purchaseOrderId,i.isFromApp)}}class Pie{constructor(i,e,n){this.messageId=i,this.operatorId=e,this.isRead=n}static build(i){return new Pie(i.messageId,i.operatorId,i.isRead)}}class ID{constructor(i,e,n,o){this.id=i,this.displayName=e,this.fileName=n,this.activityId=o}static build(i){return new ID(i.id,i.displayName,i.fileName,i.activityId)}get isImage(){return!!(this.fileName.endsWith(".jpg")||this.fileName.endsWith(".png")||this.fileName.endsWith(".jpeg")||this.fileName.endsWith(".gif"))}}var Vi=function(s){return s[s.Pending=0]="Pending",s[s.InProgress=1]="InProgress",s[s.Ready=2]="Ready",s[s.Completed=3]="Completed",s}(Vi||{});const uR={[Vi.Pending]:"In attesa",[Vi.InProgress]:"In corso",[Vi.Ready]:"Pronto",[Vi.Completed]:"Completata"};class ah{constructor(i,e,n,o,r,a,l,c,u,f,_,g,S,b,k,D,O,I,N,P,G,H){this.id=i,this.status=e,this.number=n,this.shortDescription=o,this.informations=r,this.description=a,this.jobId=l,this.supplierId=c,this.addressId=u,this.typeId=f,this.referentId=_,this.isMandatoryExpiration=b,this.statusLabel0=k,this.statusLabel1=D,this.statusLabel2=O,this.statusLabel3=I,this.isFloorDelivery=N,this.canHaveDependencies=P,this.attachments=G,this.messages=H,this.startDate=g?new Date(g):null,this.expirationDate=S?new Date(S):null}toJSON(){const i={...this};return i.startDate=i.startDate?i.startDate.toOffsetString():null,i.expirationDate=i.expirationDate?i.expirationDate.toOffsetString():null,i}static build(i,e){const n=i.attachments.map(r=>ID.build(r)),o=i.messages.map(r=>oh.build(r,e));return new ah(i.id,i.status,i.number,i.shortDescription,i.informations,i.description,i.jobId,i.supplierId,i.addressId,i.typeId,i.referentId,i.startDate,i.expirationDate,i.isMandatoryExpiration,i.statusLabel0,i.statusLabel1,i.statusLabel2,i.statusLabel3,i.isFloorDelivery,i.canHaveDependencies,n,o)}}class ZB{constructor(i,e,n,o,r,a,l,c,u,f,_,g,S,b,k,D,O,I,N,P,G,H,$,Q,ie,ce,re,Ne,ue,ye,se){this.id=i,this.status=e,this.number=n,this.shortDescription=o,this.informations=r,this.description=a,this.jobId=l,this.job=c,this.customerId=u,this.customer=f,this.supplierId=_,this.addressId=g,this.address=S,this.typeId=b,this.type=k,this.isMandatoryExpiration=I,this.referentId=N,this.referent=P,this.statusLabel0=G,this.statusLabel1=H,this.statusLabel2=$,this.statusLabel3=Q,this.isFloorDelivery=ie,this.canHaveDependencies=ce,this.hasDependencies=re,this.totalDependencies=Ne,this.fulfilledDependencies=ue,this.attachments=ye,this.messages=se,this.startDate=D?new Date(D):null,this.expirationDate=O?new Date(O):null}asActivity(){return new ah(this.id,this.status,this.number,this.shortDescription,this.informations,this.description,this.jobId,this.supplierId,this.addressId,this.typeId,this.referentId,this.startDate,this.expirationDate,this.isMandatoryExpiration,this.statusLabel0,this.statusLabel1,this.statusLabel2,this.statusLabel3,this.isFloorDelivery,this.canHaveDependencies,this.attachments,this.messages)}static build(i,e){const n=i.attachments.map(r=>ID.build(r)),o=i.messages.map(r=>oh.build(r,e));return new ZB(i.id,i.status,i.number,i.shortDescription,i.informations,i.description,i.jobId,i.job,i.customerId,i.customer,i.supplierId,i.addressId,i.address,i.typeId,i.type,i.startDate,i.expirationDate,i.isMandatoryExpiration,i.referentId,i.referent,i.statusLabel0,i.statusLabel1,i.statusLabel2,i.statusLabel3,i.isFloorDelivery,i.canHaveDependencies,i.hasDependencies,i.totalDependencies,i.fulfilledDependencies,n,o)}}class ATt{constructor(){this.id=null,this.colorHex=null,this.name=null,this.active=null,this.expired=null}}class hR{constructor(i){this.newActivities=i}static build(i){return new hR(i.newActivities)}}var dc=function(s){return s[s.Opened=0]="Opened",s[s.InProgress=1]="InProgress",s[s.Resolved=2]="Resolved",s[s.Closed=3]="Closed",s}(dc||{});const yMe={[dc.Opened]:"APERTO",[dc.InProgress]:"IN CORSO",[dc.Resolved]:"EVASO",[dc.Closed]:"CHIUSO"};class xD{get code(){return`${this.year}/${this.number}`}constructor(i,e,n,o,r,a,l,c,u,f,_,g,S,b){this.id=i,this.number=e,this.year=n,this.description=r,this.status=a,this.customerId=l,this.addressId=c,this.jobId=u,this.activityId=f,this.purchaseOrderId=_,this.operatorId=g,this.pictures=S,this.messages=b,this.date=o?new Date(o):null}static build(i,e){const n=i.messages.map(o=>oh.build(o,e));return new xD(i.id,i.number,i.year,i.date,i.description,i.status,i.customerId,i.addressId,i.jobId,i.activityId,i.purchaseOrderId,i.operatorId,i.pictures,n)}}class pR{constructor(i,e){this.openedTickets=i,this.newTickets=e}static build(i){return new pR(i.openedTickets,i.newTickets)}}class RTt{constructor(i,e){this.fileName=i,this.originalFileName=e}}class Fie{constructor(i,e){this.activityDependenciesId=i,this.purchaseOrderDependenciesId=e}static build(i){return new Fie(i.activityDependenciesId,i.purchaseOrderDependenciesId)}}let Ma=(()=>{class s{static#e=this.asActivityDetailResolver=(e,n)=>(0,t.WQX)(s).getDetail(+e.params.activityId);constructor(e,n){this._http=e,this._userService=n,this._baseUrl=`${At.baseApiUrl}/activities`}read(e){return Ta(this._http,e,`${this._baseUrl}/read`)}activitiesFromProduct(e,n){return Ta(this._http,e,`${this._baseUrl}/${n}/activitiesFromProduct`)}get(e){return this._http.get(`${this._baseUrl}/${e}`).pipe((0,U.T)(n=>ah.build(n,this._userService.getUser().operatorId)))}getDetail(e){return this._http.get(`${this._baseUrl}/${e}/detail`).pipe((0,U.T)(n=>ZB.build(n,this._userService.getUser().operatorId)))}create(e){return this._http.post(this._baseUrl,e).pipe((0,U.T)(n=>ah.build(n,this._userService.getUser().operatorId)))}update(e){return this._http.put(`${this._baseUrl}/${e.id}`,e).pipe((0,U.T)(n=>ah.build(n,this._userService.getUser().operatorId)))}save(e){return e.id?this.update(e):this.create(e)}delete(e){return this._http.delete(`${this._baseUrl}/${e}`).pipe((0,U.T)(()=>{}))}assignAllCustomerProducts(e){return this._http.put(`${this._baseUrl}/${e}/assign-all-customer-products`,null).pipe((0,U.T)(()=>{}))}assignAllCustomerProductsMonthlyMaint(e){return this._http.put(`${this._baseUrl}/${e}/assign-all-customer-products-monthlymaint`,null).pipe((0,U.T)(()=>{}))}readActivityTypesCounters(){return this._http.get(`${this._baseUrl}/activities-counters`).pipe((0,U.T)(e=>{const n=[];return e.forEach(o=>{const r=Object.assign(new ATt,o);n.push(r)}),n}))}readJobActivities(e,n){return Ta(this._http,e,`${this._baseUrl}/job-activities-dependencies/${n}`)}readNewActivitiesCounter(){return this._http.get(`${this._baseUrl}/new-activities-counter`).pipe((0,U.T)(e=>hR.build(e)))}updateDependencies(e,n){return this._http.put(`${this._baseUrl}/update-dependencies/${e}`,n).pipe((0,U.T)(()=>{}))}readDependencies(e){return this._http.get(`${this._baseUrl}/read-dependencies/${e}`).pipe((0,U.T)(n=>Fie.build(n)))}createActivityAttachment(e){return this._http.post(`${this._baseUrl}/create-attachment`,e).pipe()}updateActivityAttachment(e,n){return this._http.put(`${this._baseUrl}/update-attachment/${n}`,e).pipe()}getActivityAttachments(e,n){return this._http.get(`${this._baseUrl}/all-attachments/${e}/${n}`).pipe((0,U.T)(o=>o.map(r=>ID.build(r))))}getActivityAttachmentDetail(e){return this._http.get(`${this._baseUrl}/attachment-detail/${e}`).pipe((0,U.T)(n=>ZB.build(n,this._userService.getUser().operatorId)))}uploadActivityAttachmentFile(e){const n=new FormData;n.append(e.name,e);const o=new hl("POST",`${this._baseUrl}/activity-attachment/upload-file`,n,{reportProgress:!1});return this._http.request(o).pipe(z(r=>r.type===Gr.Response),(0,U.T)(r=>r.body),(0,U.T)(r=>new RTt(r.fileName,r.originalFileName)))}deleteActivity(e){return this._http.delete(`${this._baseUrl}/activity/${e}`).pipe((0,U.T)(()=>{}))}copyActivityToJob(e){return this._http.post(`${this._baseUrl}/copy-activity`,e).pipe()}static#t=this.\u0275fac=function(n){return new(n||s)(t.KVO(js),t.KVO(Ci))};static#n=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})(),_m=(()=>{class s{constructor(e,n){this._http=e,this._userService=n,this._baseUrl=`${At.baseApiUrl}/messages`}read(e){return Ta(this._http,e,`${this._baseUrl}/read`)}get(e){return this._http.get(`${this._baseUrl}/${e}`).pipe((0,U.T)(n=>Zd.build(n)))}getMessages(e,n,o,r){return this._http.get(`${this._baseUrl}/get-messages/${e}/${n}/${o}/${r}`).pipe((0,U.T)(a=>a.map(l=>oh.build(l,this._userService.getUser().operatorId))))}getMessagesList(e,n){return Ta(this._http,e,`${this._baseUrl}/${n}/get-messageslist`)}create(e,n){return this._http.put(`${this._baseUrl}/create/${n}`,e).pipe((0,U.T)(o=>Zd.build(o)))}createReply(e,n){return this._http.put(`${this._baseUrl}/create-reply/${n}`,e).pipe((0,U.T)(o=>Zd.build(o)))}update(e){return this._http.put(`${this._baseUrl}/${e.id}`,e).pipe((0,U.T)(n=>Zd.build(n)))}delete(e){return this._http.delete(`${this._baseUrl}/${e}`).pipe((0,U.T)(()=>{}))}markAsRead(e,n){return this._http.get(`${this._baseUrl}/mark-as-read/${e}/${n}`).pipe((0,U.T)(()=>{}))}getReplyTargetOperators(e,n){return this._http.get(`${this._baseUrl}/${e}/${n}/get-target-operators`).pipe((0,U.T)(o=>o))}getMessageTargetOperators(e){return this._http.get(`${this._baseUrl}/${e}/get-message-target-operators`).pipe((0,U.T)(n=>n))}getElementTargetOperators(e,n,o){return this._http.get(`${this._baseUrl}/${e}/${n}/${o}/get-target-operators-by-element`).pipe((0,U.T)(r=>r))}getUnreadCounter(e){return this._http.get(`${this._baseUrl}/unread-counter/${e}`).pipe((0,U.T)(n=>n))}getUnreadCounterFromApp(e){return this._http.get(`${this._baseUrl}/unread-counter-fromApp/${e}`).pipe((0,U.T)(n=>n))}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(js),t.KVO(Ci))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();class eV{constructor(i,e,n,o){this.id=i,this.description=e,this.fileName=n,this.ticketId=o}static build(i){return new eV(i.id,i.description,i.fileName,i.ticketId)}get isImage(){return!!(this.fileName.endsWith(".jpg")||this.fileName.endsWith(".png")||this.fileName.endsWith(".jpeg")||this.fileName.endsWith(".gif"))}}class NTt{constructor(i,e){this.fileName=i,this.originalFileName=e}}let _b=(()=>{class s{constructor(e,n){this._http=e,this._userService=n,this._baseUrl=`${At.baseApiUrl}/tickets`}read(e){return Ta(this._http,e,`${this._baseUrl}/read`)}get(e){return this._http.get(`${this._baseUrl}/${e}`).pipe((0,U.T)(n=>xD.build(n,this._userService.getUser().operatorId)))}create(e){return this._http.post(this._baseUrl,e).pipe((0,U.T)(n=>xD.build(n,this._userService.getUser().operatorId)))}update(e){return this._http.put(`${this._baseUrl}/${e.id}`,e).pipe((0,U.T)(n=>xD.build(n,this._userService.getUser().operatorId)))}delete(e){return this._http.delete(`${this._baseUrl}/${e}`).pipe((0,U.T)(()=>{}))}readTicketsCounters(){return this._http.get(`${this._baseUrl}/tickets-counters`).pipe((0,U.T)(e=>pR.build(e)))}createTicketAttachment(e){return this._http.post(`${this._baseUrl}/create-attachment`,e).pipe()}updateTicketAttachment(e,n){return this._http.put(`${this._baseUrl}/update-attachment/${n}`,e).pipe()}getTicketAttachments(e){return this._http.get(`${this._baseUrl}/${e}/all-attachments`).pipe((0,U.T)(n=>n.map(o=>eV.build(o))))}uploadTicketAttachmentFile(e){const n=new FormData;n.append(e.name,e);const o=new hl("POST",`${this._baseUrl}/ticket-attachment/upload-file`,n,{reportProgress:!1});return this._http.request(o).pipe(z(r=>r.type===Gr.Response),(0,U.T)(r=>r.body),(0,U.T)(r=>new NTt(r.fileName,r.originalFileName)))}sendReport(e,n){return this._http.post(`${this._baseUrl}/send-report/${e}`,{customerEmail:n}).pipe((0,U.T)(()=>{}))}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(js),t.KVO(Ci))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();class vp{get description(){return`${this.name} - ${this.plate}`}constructor(){this.id=0,this.name=null,this.plate=null,this.notes=null}}class gb{constructor(){this.id=null,this.email=null,this.colorHex=null,this.name=null,this.defaultVehicleId=null,this.userName="",this.password="",this.hasUser=!1,this.defaultVehicle=new vp,this.documents=[],this.activityTypes=[],this.signatureFileName=null}}class tV{constructor(){this.id=null,this.operatorId=null,this.originalFileName=null,this.fileName=null}}let br=(()=>{class s{constructor(e){this._http=e,this._baseUrl=`${At.baseApiUrl}/operators`}readOperators(e){const n=ul(e),o=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/operators?${n}`).pipe((0,U.T)(r=>{const a=[];return r.data.forEach(l=>{const c=Object.assign(new gb,l);c.defaultVehicle=Object.assign(new vp,c.defaultVehicle);const u=[];c.documents.forEach(f=>{const _=Object.assign(new tV,f);u.push(_)}),c.documents=u,a.push(c)}),{data:o?Lr(a):a,total:r.total}}))}createOperator(e){return this._http.post(`${this._baseUrl}/operator`,e).pipe((0,U.T)(n=>n))}updateOperator(e,n){return this._http.put(`${this._baseUrl}/operator/${n}`,e).pipe((0,U.T)(()=>{}))}deleteOperator(e){return this._http.delete(`${this._baseUrl}/operator/${e}`).pipe((0,U.T)(()=>{}))}getOperatorDetail(e){return this._http.get(`${this._baseUrl}/operator-detail/${e}`).pipe((0,U.T)(n=>{const o=Object.assign(new gb,n);o.defaultVehicle=Object.assign(new vp,o.defaultVehicle);const r=[];return o.documents.forEach(a=>{const l=Object.assign(new tV,a);r.push(l)}),o.documents=r,o}))}getOperatorByUserId(e){return this._http.get(`${this._baseUrl}/operator-byuserid/${e}`).pipe((0,U.T)(n=>{const o=Object.assign(new gb,n);return o.defaultVehicle=Object.assign(new vp,o.defaultVehicle),o}))}getOperatorDocument(e){return this._http.get(`${this._baseUrl}/operator-document/${e}`).pipe((0,U.T)(n=>Object.assign(new tV,n)))}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(js))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();const nV=()=>({"background-color":"#ffbcbc"}),LTt=()=>["/activities"],GTt=s=>({typeId:s});function PTt(s,i){if(1&s&&(t.j41(0,"div",12)(1,"a",26)(2,"div",0)(3,"div",27),t.EFF(4),t.k0s(),t.j41(5,"div",17)(6,"div",18),t.EFF(7),t.k0s(),t.j41(8,"div",19),t.EFF(9),t.k0s()()()()()),2&s){const e=i.$implicit;t.R7$(),t.xc7("background-color",e.activityColor||"#3485fd"),t.Y8G("routerLink",t.lJ4(7,LTt))("queryParams",t.eq3(8,GTt,e.activityId)),t.R7$(3),t.JRh(e.activityName),t.R7$(3),t.JRh(e.active),t.R7$(2),t.JRh(e.expired)}}function FTt(s,i){1&s&&(t.j41(0,"div",0)(1,"div",12)(2,"a",28)(3,"div",15),t.EFF(4,"Commesse"),t.k0s(),t.j41(5,"span"),t.nrm(6,"i",29),t.k0s()()(),t.j41(7,"div",12)(8,"a",30)(9,"div",15),t.EFF(10,"Commesse Complete"),t.k0s(),t.j41(11,"span"),t.nrm(12,"i",31),t.k0s()()(),t.j41(13,"div",12)(14,"a",32)(15,"div",15),t.EFF(16,"Commesse Sospese"),t.k0s(),t.j41(17,"span"),t.nrm(18,"i",33),t.k0s()()(),t.j41(19,"div",12)(20,"a",34)(21,"div",15),t.EFF(22,"Archivio Storico Commesse"),t.k0s(),t.j41(23,"span"),t.nrm(24,"i",35),t.k0s()()()())}function UTt(s,i){if(1&s&&(t.j41(0,"div",12)(1,"a",36)(2,"div",0)(3,"div",14)(4,"div",15),t.EFF(5,"Attivit\xe0"),t.k0s(),t.j41(6,"span"),t.nrm(7,"i",16),t.k0s()(),t.j41(8,"div",17)(9,"div",19),t.EFF(10),t.k0s()()()()()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngStyle",e.newActivitiesCounter.newActivities>0?t.lJ4(2,nV):""),t.R7$(9),t.JRh(e.newActivitiesCounter.newActivities)}}function BTt(s,i){1&s&&(t.j41(0,"div",12)(1,"a",37)(2,"div",15),t.EFF(3,"Attivit\xe0"),t.k0s(),t.j41(4,"span"),t.nrm(5,"i",16),t.k0s()()())}function VTt(s,i){1&s&&(t.j41(0,"div",12)(1,"a",38)(2,"div",15),t.EFF(3,"Calendario"),t.k0s(),t.j41(4,"span"),t.nrm(5,"i",39),t.k0s()()())}function zTt(s,i){1&s&&(t.j41(0,"div",12)(1,"a",40)(2,"div",15),t.EFF(3,"Interventi KO"),t.k0s(),t.j41(4,"span"),t.nrm(5,"i",41),t.k0s()()())}function jTt(s,i){1&s&&(t.j41(0,"div",12)(1,"a",42)(2,"div",15),t.EFF(3,"Avanzamento Commesse"),t.k0s(),t.j41(4,"span"),t.nrm(5,"i",43),t.k0s()()())}function HTt(s,i){1&s&&(t.j41(0,"div",12)(1,"a",44)(2,"div",15),t.EFF(3,"Attivit\xe0 Prodotto"),t.k0s(),t.j41(4,"span"),t.nrm(5,"i",45),t.k0s()()())}function $Tt(s,i){1&s&&t.nrm(0,"hr",9)}let XTt=(()=>{class s extends It{constructor(e,n,o,r,a,l){super(),this._activityService=n,this._messagesService=o,this._ticketService=r,this._operatorsService=a,this._user=l,this.newActivitiesCounter=new hR(0),this.isAdmin=e.isAuthorized(Pt.Administrator),this.isOperator=e.isAuthorized(Pt.Operator)}ngOnInit(){this.ticketsCounters=new pR(0,0),this.user=this._user.getUser(),this._getCurrentOperator(this.user.id),this._getActivityTypes(),this._getTicketsCounters(),this._getNewActivitiesCounter()}_getActivityTypes(){this._subscriptions.push(this._activityService.readActivityTypesCounters().pipe(x(e=>{this.activitiesCounters=e})).subscribe())}_getTicketsCounters(){this._subscriptions.push(this._ticketService.readTicketsCounters().pipe(x(e=>{this.ticketsCounters=e})).subscribe())}_getNewActivitiesCounter(){this._subscriptions.push(this._activityService.readNewActivitiesCounter().pipe(x(e=>{this.newActivitiesCounter=e})).subscribe())}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(x(n=>this.currentOperator=n),x(()=>{this._getUnreadCounter(),this._getUnreadCounterFromApp()})).subscribe())}_getUnreadCounter(){this._subscriptions.push(this._messagesService.getUnreadCounter(this.currentOperator.id).pipe(x(e=>{this.unreadCounter=e})).subscribe())}_getUnreadCounterFromApp(){this._subscriptions.push(this._messagesService.getUnreadCounterFromApp(this.currentOperator.id).pipe(x(e=>{this.unreadCounterFromApp=e})).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(mr),t.rXU(Ma),t.rXU(_m),t.rXU(_b),t.rXU(br),t.rXU(Ci))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["lacos-home"]],features:[t.Vt3],decls:79,vars:19,consts:[[1,"row"],[1,"col-md-2"],[1,"col-12"],["src","assets/logo_apollo.jpg","width","90%"],[1,"col-12",2,"text-align","center"],["src","assets/logo_lacos.png","width","65%"],[1,"col-md-10"],[1,"title","lacos",2,"margin-bottom","10px"],["class","col-sm-12 col-md-6 col-lg-2",4,"ngFor","ngForOf"],[1,"lacos"],["class","row",4,"ngIf"],["class","col-sm-12 col-md-6 col-lg-2",4,"ngIf"],[1,"col-sm-12","col-md-6","col-lg-2"],["routerLink","/tickets","routerLinkActive","active",1,"btn","btn-light","dashboardBtn",3,"ngStyle"],[1,"col-8"],[1,"title"],[1,"fa","fa-3x","fa-tag"],[1,"col-4"],[1,"green-number","bage-number"],[1,"red-number","bage-number"],["routerLink","/purchase-orders","routerLinkActive","active",1,"btn","btn-light","dashboardBtn"],[1,"fa","fa-3x","fa-shop"],["routerLink","/messages-list","routerLinkActive","active",1,"btn","btn-light","dashboardBtn",3,"ngStyle"],[1,"fa","fa-3x","fa-comments"],["routerLink","/interventionmessages-list","routerLinkActive","active",1,"btn","btn-light","dashboardBtn",3,"ngStyle"],["class","lacos",4,"ngIf"],["routerLinkActive","active",1,"btn","btn-light","dashboardBtn",3,"routerLink","queryParams"],[1,"title","col-8"],["routerLink","/jobs","routerLinkActive","active",1,"btn","btn-light","dashboardBtn"],[1,"fa","fa-3x","fa-door-open"],["routerLink","/jobs-completed","routerLinkActive","active",1,"btn","btn-light","dashboardBtn"],[1,"fa","fa-3x","fa-coins"],["routerLink","/jobs-suspended","routerLinkActive","active",1,"btn","btn-light","dashboardBtn"],[1,"fa","fa-3x","fa-stopwatch"],["routerLink","/jobs-archive","routerLinkActive","active",1,"btn","btn-light","dashboardBtn"],[1,"fa","fa-3x","fa-clock-rotate-left"],["routerLink","/activities","routerLinkActive","active",1,"btn","btn-light","dashboardBtn",3,"ngStyle"],["routerLink","/activities","routerLinkActive","active",1,"btn","btn-light","dashboardBtn"],["routerLink","/interventions","routerLinkActive","active",1,"btn","btn-light","dashboardBtn"],[1,"fa","fa-3x","fa-calendar-days"],["routerLink","/interventions-ko","routerLinkActive","active",1,"btn","btn-light","dashboardBtn"],[1,"fa","fa-3x","fa-qrcode"],["routerLink","/jobs-progress-status","routerLinkActive","active",1,"btn","btn-light","dashboardBtn"],[1,"fa","fa-3x","fa-chart-gantt"],["routerLink","/activities-from-product","routerLinkActive","active",1,"btn","btn-light","dashboardBtn"],[1,"fa","fa-3x","fa-search"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.nrm(3,"img",3),t.k0s(),t.j41(4,"div",4)(5,"strong"),t.EFF(6,"by"),t.k0s(),t.nrm(7,"img",5),t.k0s()(),t.j41(8,"div",6)(9,"div",0)(10,"div",2)(11,"div",7)(12,"i"),t.EFF(13,"Attivit\xe0 in corso"),t.k0s()()()(),t.j41(14,"div",0),t.DNE(15,PTt,10,10,"div",8),t.k0s(),t.nrm(16,"hr",9),t.j41(17,"div",0)(18,"div",2)(19,"div",7)(20,"i"),t.EFF(21,"Gestione Commesse"),t.k0s()()()(),t.DNE(22,FTt,25,0,"div",10),t.j41(23,"div",0),t.DNE(24,UTt,11,3,"div",11)(25,BTt,6,0,"div",11)(26,VTt,6,0,"div",11),t.j41(27,"div",12)(28,"a",13)(29,"div",0)(30,"div",14)(31,"div",15),t.EFF(32,"Tickets"),t.k0s(),t.j41(33,"span"),t.nrm(34,"i",16),t.k0s()(),t.j41(35,"div",17)(36,"div",18),t.EFF(37),t.k0s(),t.j41(38,"div",19),t.EFF(39),t.k0s()()()()(),t.j41(40,"div",12)(41,"a",20)(42,"div",15),t.EFF(43,"Ordini Acquisto"),t.k0s(),t.j41(44,"span"),t.nrm(45,"i",21),t.k0s()()()(),t.nrm(46,"hr",9),t.j41(47,"div",0)(48,"div",2)(49,"div",7)(50,"i"),t.EFF(51,"Utility varie"),t.k0s()()()(),t.j41(52,"div",0),t.DNE(53,zTt,6,0,"div",11)(54,jTt,6,0,"div",11)(55,HTt,6,0,"div",11),t.j41(56,"div",12)(57,"a",22)(58,"div",0)(59,"div",14)(60,"div",15),t.EFF(61,"Commenti"),t.k0s(),t.j41(62,"span"),t.nrm(63,"i",23),t.k0s()(),t.j41(64,"div",17)(65,"div",19),t.EFF(66),t.k0s()()()()(),t.j41(67,"div",12)(68,"a",24)(69,"div",0)(70,"div",14)(71,"div",15),t.EFF(72,"Commenti App"),t.k0s(),t.j41(73,"span"),t.nrm(74,"i",23),t.k0s()(),t.j41(75,"div",17)(76,"div",19),t.EFF(77),t.k0s()()()()()(),t.DNE(78,$Tt,1,0,"hr",25),t.k0s()()),2&n&&(t.R7$(15),t.Y8G("ngForOf",o.activitiesCounters),t.R7$(7),t.Y8G("ngIf",o.isAdmin),t.R7$(2),t.Y8G("ngIf",o.newActivitiesCounter.newActivities>0),t.R7$(),t.Y8G("ngIf",0==o.newActivitiesCounter.newActivities),t.R7$(),t.Y8G("ngIf",o.isAdmin),t.R7$(2),t.Y8G("ngStyle",o.ticketsCounters.newTickets>0?t.lJ4(16,nV):""),t.R7$(9),t.JRh(o.ticketsCounters.openedTickets),t.R7$(2),t.JRh(o.ticketsCounters.newTickets),t.R7$(14),t.Y8G("ngIf",o.isAdmin),t.R7$(),t.Y8G("ngIf",o.isAdmin),t.R7$(),t.Y8G("ngIf",o.isAdmin),t.R7$(2),t.Y8G("ngStyle",o.unreadCounter>0?t.lJ4(17,nV):""),t.R7$(9),t.JRh(o.unreadCounter),t.R7$(2),t.Y8G("ngStyle",o.unreadCounterFromApp>0?t.lJ4(18,nV):""),t.R7$(9),t.JRh(o.unreadCounterFromApp),t.R7$(),t.Y8G("ngIf",o.isAdmin))},dependencies:[st,W,Jn,Hl,mk],styles:[".dashboardBtn[_ngcontent-%COMP%]{width:95%;padding:15px;min-height:100px;margin-bottom:15px}.dashboardBtn[_ngcontent-%COMP%]:hover{background-color:#46a43e;color:#fff}.dashboardBtn[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-bottom:10px}.bage-number[_ngcontent-%COMP%]{float:right;padding:2px 8px;border-radius:5px;margin:2px;color:#fff;font-weight:700;font-size:1.2em}.green-number[_ngcontent-%COMP%]{background-color:#46a43e;color:#fff;border:1px solid #FFF}.red-number[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:1px solid #FFF}"]})}return s})();var vb=function(s){return s[s.PrivatePerson=0]="PrivatePerson",s[s.Company=1]="Company",s[s.PublicAdministration=2]="PublicAdministration",s[s.Foreign=3]="Foreign",s}(vb||{});class To{get fiscalTypeDescription(){return this.fiscalType>=0?vb[this.fiscalType]:""}constructor(){this.id=null,this.name=null,this.fiscalType=null,this.canGenerateTickets=!1,this.telephone=null,this.email=null,this.contact=null,this.contactTelephone=null,this.contactEmail=null,this.sdiCode=null,this.vatNumber=null,this.fiscalCode=null,this.addresses=[],this.mainAddress=null,this.mainFullAddress=null}}const kMe={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let iV;const WTt=new Uint8Array(16);function YTt(){if(!iV&&(iV=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!iV))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return iV(WTt)}const nl=[];for(let s=0;s<256;++s)nl.push((s+256).toString(16).slice(1));const DMe=function KTt(s,i,e){if(kMe.randomUUID&&!i&&!s)return kMe.randomUUID();const n=(s=s||{}).random||(s.rng||YTt)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,i){e=e||0;for(let o=0;o<16;++o)i[e+o]=n[o];return i}return function wMe(s,i=0){return nl[s[i+0]]+nl[s[i+1]]+nl[s[i+2]]+nl[s[i+3]]+"-"+nl[s[i+4]]+nl[s[i+5]]+"-"+nl[s[i+6]]+nl[s[i+7]]+"-"+nl[s[i+8]]+nl[s[i+9]]+"-"+nl[s[i+10]]+nl[s[i+11]]+nl[s[i+12]]+nl[s[i+13]]+nl[s[i+14]]+nl[s[i+15]]}(n)};class ds{get fullAddress(){let i="";return""!==this.description&&(i+=`${this.description} - `),null!==this.streetAddress&&(i+=`${this.streetAddress}, `),null!==this.city&&(i+=`${this.city} `),null!==this.province&&(i+=` (${this.province}) `),null!==this.zipCode&&(i+=`, ${this.zipCode}`),i}constructor(){this.id=null,this.customerId=null,this.supplierId=null,this.description="",this.city=null,this.streetAddress=null,this.province=null,this.zipCode=null,this.isMainAddress=!1,this.notes=null,this.jobReference=null,this.contactName=null,this.contactReference=null,this.tempId=DMe()}}let yl=(()=>{class s{constructor(e){this._http=e,this._baseUrl=`${At.baseApiUrl}/customers`}readCustomers(e){const n=ul(e),o=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/customers?${n}`).pipe((0,U.T)(r=>{const a=[];return r.data.forEach(l=>{const c=Object.assign(new To,l),u=[];c.addresses.forEach(_=>{const g=Object.assign(new ds,_);u.push(g)}),c.addresses=u;let f=u.find(_=>_.isMainAddress);null==f&&(f=new ds),c.mainAddress=f,a.push(c)}),{data:o?Lr(a):a,total:r.total}}))}createCustomer(e){return this.setCustomerTelephoneAndEmailInMainAddress(e),this._http.post(`${this._baseUrl}/customer`,e).pipe((0,U.T)(n=>n))}updateCustomer(e,n){return this.setCustomerTelephoneAndEmailInMainAddress(e),this._http.put(`${this._baseUrl}/customer/${n}`,e).pipe((0,U.T)(()=>{}))}setCustomerTelephoneAndEmailInMainAddress(e){const n=e.addresses.find(o=>1==o.isMainAddress);null!=n&&(n.telephone=e.telephone,n.email=e.email)}deleteCustomer(e){return this._http.delete(`${this._baseUrl}/customer/${e}`).pipe((0,U.T)(()=>{}))}getCustomer(e){return this._http.get(`${this._baseUrl}/customer/${e}`).pipe((0,U.T)(n=>{const o=Object.assign(new To,n),r=[];o.addresses.forEach(l=>{const c=Object.assign(new ds,l);r.push(c)}),o.addresses=r;let a=r.find(l=>l.isMainAddress);return null==a&&(a=new ds),o.mainAddress=a,o.telephone=a.telephone,o.email=a.email,o}))}getCustomersList(){return this._http.get(`${this._baseUrl}/customers-list`).pipe((0,U.T)(e=>{const n=[];return e.forEach(o=>{const r=Object.assign(new To,o),a=[];r.addresses.forEach(c=>{const u=Object.assign(new ds,c);a.push(u)}),r.addresses=a;let l=a.find(c=>c.isMainAddress);null==l&&(l=new ds),r.mainAddress=l,n.push(r)}),n}))}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(js))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})(),lh=(()=>{class s{constructor(e){this._http=e,this._baseUrl=`${At.baseApiUrl}/addresses`}createAddress(e){return this._http.post(`${this._baseUrl}/address`,e)}updateAddress(e,n){return this._http.put(`${this._baseUrl}/address/${n}`,e).pipe((0,U.T)(()=>{}))}deleteAddress(e){return this._http.delete(`${this._baseUrl}/address/${e}`).pipe((0,U.T)(()=>{}))}getAddress(e){return this._http.get(`${this._baseUrl}/address/${e}`).pipe((0,U.T)(n=>Object.assign(new ds,n)))}setAddressAsMain(e){return this._http.put(`${this._baseUrl}/set-address-as-main/${e}`,null).pipe((0,U.T)(()=>{}))}getCustomerAddresses(e){return this._http.get(`${this._baseUrl}/address/customer/${e}`).pipe((0,U.T)(n=>{const o=[];return n.forEach(r=>{const a=Object.assign(new ds,r);o.push(a)}),o}))}getSupplierAddresses(e){return this._http.get(`${this._baseUrl}/address/supplier/${e}`).pipe((0,U.T)(n=>{const o=[];return n.forEach(r=>{const a=Object.assign(new ds,r);o.push(a)}),o}))}getAddresses(){return this._http.get(`${this._baseUrl}/addresses`).pipe((0,U.T)(e=>{const n=[];return e.forEach(o=>{const r=Object.assign(new ds,o);n.push(r)}),n}))}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(js))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();class ch{constructor(){this.id=null,this.name=null,this.telephone=null,this.email=null,this.contact=null,this.contactTelephone=null,this.contactEmail=null,this.addresses=[],this.mainAddress=null}}const JTt=()=>({caseSensitive:!1,operator:"contains"});function qTt(s,i){1&s&&t.nrm(0,"div",3)}function QTt(s,i){if(1&s&&(t.j41(0,"div",27)(1,"label"),t.EFF(2,"Cliente"),t.k0s(),t.j41(3,"div",18),t.nrm(4,"input",32),t.k0s()()),2&s){const e=t.XpG(3);t.R7$(4),t.Y8G("disabled",!0)("value",e.customer.name)}}function ZTt(s,i){if(1&s&&(t.j41(0,"div",27)(1,"label"),t.EFF(2,"Fornitore"),t.k0s(),t.j41(3,"div",18),t.nrm(4,"input",33),t.k0s()()),2&s){const e=t.XpG(3);t.R7$(4),t.Y8G("disabled",!0)("value",e.supplier.name)}}function eMt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",15)(1,"div",27)(2,"label"),t.EFF(3,"Nominativo Committente Cliente"),t.k0s(),t.j41(4,"div",18)(5,"input",34),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(3);return t.DH7(r.options.contactName,o)||(r.options.contactName=o),t.Njj(o)}),t.k0s(),t.nrm(6,"div",20),t.k0s()(),t.j41(7,"div",27)(8,"label"),t.EFF(9,"Contatto Committente Cliente"),t.k0s(),t.j41(10,"div",18)(11,"input",35),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(3);return t.DH7(r.options.contactReference,o)||(r.options.contactReference=o),t.Njj(o)}),t.k0s(),t.nrm(12,"div",20),t.k0s()()()}if(2&s){t.XpG();const e=t.sdS(1),n=t.XpG(2);t.R7$(5),t.R50("ngModel",n.options.contactName),t.R7$(),t.Y8G("control",e.controls.contactName),t.R7$(5),t.R50("ngModel",n.options.contactReference),t.R7$(),t.Y8G("control",e.controls.contactReference)}}function tMt(s,i){if(1&s){const e=t.RV6();t.j41(0,"form",14,0),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.close())}),t.j41(2,"div",15),t.DNE(3,QTt,5,2,"div",16)(4,ZTt,5,2,"div",16),t.k0s(),t.j41(5,"div",15)(6,"div",17)(7,"label"),t.EFF(8,"Tipo indirizzo"),t.k0s(),t.j41(9,"div",18)(10,"kendo-combobox",19),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.description,o)||(r.options.description=o),t.Njj(o)}),t.k0s(),t.nrm(11,"div",20),t.k0s()(),t.j41(12,"div",17)(13,"label"),t.EFF(14,"Citt\xe0"),t.k0s(),t.j41(15,"div",18)(16,"input",21),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.city,o)||(r.options.city=o),t.Njj(o)}),t.k0s(),t.nrm(17,"div",20),t.k0s()(),t.j41(18,"div",17)(19,"label"),t.EFF(20,"Indirizzo"),t.k0s(),t.j41(21,"div",18)(22,"input",22),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.streetAddress,o)||(r.options.streetAddress=o),t.Njj(o)}),t.k0s(),t.nrm(23,"div",20),t.k0s()()(),t.j41(24,"div",15)(25,"div",17)(26,"label"),t.EFF(27,"Provincia"),t.k0s(),t.j41(28,"div",18)(29,"input",23),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.province,o)||(r.options.province=o),t.Njj(o)}),t.k0s(),t.nrm(30,"div",20),t.k0s()(),t.j41(31,"div",17)(32,"label"),t.EFF(33,"Zip Code"),t.k0s(),t.j41(34,"div",18)(35,"input",24),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.zipCode,o)||(r.options.zipCode=o),t.Njj(o)}),t.k0s(),t.nrm(36,"div",20),t.k0s()(),t.j41(37,"div",25)(38,"label"),t.EFF(39,"Indirizzo principale"),t.k0s(),t.j41(40,"div",18)(41,"kendo-switch",26),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.isMainAddress,o)||(r.options.isMainAddress=o),t.Njj(o)}),t.k0s(),t.nrm(42,"div",20),t.k0s()()(),t.j41(43,"div",15)(44,"div",27)(45,"label"),t.EFF(46,"Riferimento Cantiere Cliente"),t.k0s(),t.j41(47,"div",18)(48,"input",28),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.jobReference,o)||(r.options.jobReference=o),t.Njj(o)}),t.k0s(),t.nrm(49,"div",20),t.k0s()()(),t.DNE(50,eMt,13,4,"div",29),t.j41(51,"div",30)(52,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.dismiss())}),t.nrm(53,"i",9),t.EFF(54," ANNULLA "),t.k0s(),t.j41(55,"button",31),t.nrm(56,"i",11),t.EFF(57," SALVA "),t.k0s()()()}if(2&s){const e=t.sdS(1),n=t.XpG(2);t.R7$(3),t.Y8G("ngIf",null!==n.customer.id),t.R7$(),t.Y8G("ngIf",null!==n.supplier.id),t.R7$(6),t.Y8G("data",n.addressesTypes)("kendoDropDownFilter",t.lJ4(21,JTt)),t.R50("ngModel",n.options.description),t.Y8G("suggest",!0)("allowCustom",!0),t.R7$(),t.Y8G("control",e.controls.description),t.R7$(5),t.R50("ngModel",n.options.city),t.R7$(),t.Y8G("control",e.controls.city),t.R7$(5),t.R50("ngModel",n.options.streetAddress),t.R7$(),t.Y8G("control",e.controls.streetAddress),t.R7$(6),t.R50("ngModel",n.options.province),t.R7$(),t.Y8G("control",e.controls.province),t.R7$(5),t.R50("ngModel",n.options.zipCode),t.R7$(),t.Y8G("control",e.controls.zipCode),t.R7$(5),t.R50("ngModel",n.options.isMainAddress),t.R7$(),t.Y8G("control",e.controls.isMainAddress),t.R7$(6),t.R50("ngModel",n.options.jobReference),t.R7$(),t.Y8G("control",e.controls.jobReference),t.R7$(),t.Y8G("ngIf","Cantiere"==n.options.description)}}function nMt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",4)(1,"kendo-window",5),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",6),t.EFF(4," Indirizzo "),t.k0s(),t.j41(5,"div",7)(6,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",9),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",11),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",12),t.k0s(),t.DNE(13,tMt,58,22,"form",13),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("top",100),t.R7$(12),t.Y8G("ngIf",e.options)}}let gm=(()=>{class s extends As{constructor(e){super(e),this.role=Pt,this.addressesTypes=["Abitazione","Cantiere","Consegna","Fornitore","Sede"],this.customer=new To,this.supplier=new ch}_canClose(){return Xr(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(_t))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-address-modal"]],inputs:{customer:"customer",supplier:"supplier"},features:[t.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowCloseAction",""],["name","updateUserForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateUserForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row"],["class","col-md-6",4,"ngIf"],[1,"col-md-4"],[1,"form-group"],["name","description",3,"ngModelChange","data","kendoDropDownFilter","ngModel","suggest","allowCustom"],[1,"validation-message",3,"control"],["name","city","required","","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["name","streetAddress","required","","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["name","province","required","","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["name","zipCode","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3"],["name","isMainAddress","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],[1,"col-md-6"],["name","jobReference","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["class","row",4,"ngIf"],[1,"text-right","mt-5"],["type","submit",1,"btn","btn-primary"],["name","customerId",1,"form-control",3,"disabled","value"],["name","supplierId",1,"form-control",3,"disabled","value"],["name","contactName","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["name","contactReference","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"]],template:function(n,o){1&n&&t.DNE(0,qTt,1,0,"div",1)(1,nMt,14,4,"div",2),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[W,Fi,jo,Un,Pi,ts,Vu,mi,Mi,ni,li,Wn,Wu,go,ip,cr]})}return s})(),Sb=(()=>{class s{constructor(e){this._http=e,this._baseUrl=`${At.baseApiUrl}/suppliers`}readSuppliers(e){const n=ul(e),o=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/suppliers?${n}`).pipe((0,U.T)(r=>{const a=[];return r.data.forEach(l=>{const c=Object.assign(new ch,l),u=[];c.addresses.forEach(_=>{const g=Object.assign(new ds,_);u.push(g)}),c.addresses=u;let f=u.find(_=>_.isMainAddress);null==f&&(f=new ds),c.mainAddress=f,a.push(c)}),{data:o?Lr(a):a,total:r.total}}))}createSupplier(e){return this.setSupplierTelephoneAndEmailInMainAddress(e),this._http.post(`${this._baseUrl}/supplier`,e).pipe((0,U.T)(n=>n))}updateSupplier(e,n){return this.setSupplierTelephoneAndEmailInMainAddress(e),this._http.put(`${this._baseUrl}/supplier/${n}`,e).pipe((0,U.T)(()=>{}))}setSupplierTelephoneAndEmailInMainAddress(e){const n=e.addresses.find(o=>1==o.isMainAddress);null!=n&&(n.telephone=e.telephone,n.email=e.email)}deleteSupplier(e){return this._http.delete(`${this._baseUrl}/supplier/${e}`).pipe((0,U.T)(()=>{}))}getSupplier(e){return this._http.get(`${this._baseUrl}/supplier/${e}`).pipe((0,U.T)(n=>{const o=Object.assign(new ch,n),r=[];o.addresses.forEach(l=>{const c=Object.assign(new ds,l);r.push(c)}),o.addresses=r;let a=r.find(l=>l.isMainAddress);return null==a&&(a=new ds),o.mainAddress=a,o.telephone=a.telephone,o.email=a.email,o}))}getSuppliersList(){return this._http.get(`${this._baseUrl}/suppliers-list`).pipe((0,U.T)(e=>{const n=[];return e.forEach(o=>{const r=Object.assign(new ch,o),a=[];r.addresses.forEach(c=>{const u=Object.assign(new ds,c);a.push(u)}),r.addresses=a;let l=a.find(c=>c.isMainAddress);null==l&&(l=new ds),r.mainAddress=l,n.push(r)}),n}))}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(js))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();const iMt=["addressModal"];function sMt(s,i){1&s&&t.nrm(0,"div",4)}function oMt(s,i){1&s&&(t.EFF(0),t.nI1(1,"bool")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit.isMainAddress)," ")}function rMt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",36),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,r=t.XpG(3);return t.Njj(r.setAddressAsMain(o))}),t.nrm(1,"i",37),t.k0s()}}function aMt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",31),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(3);return t.Njj(r.editAddress(o))}),t.nrm(1,"i",32),t.k0s(),t.DNE(2,rMt,2,0,"button",33),t.j41(3,"button",34),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(3);return t.Njj(r.deleteAddress(o))}),t.nrm(4,"i",35),t.k0s()}if(2&s){const e=i.$implicit;t.R7$(2),t.Y8G("ngIf",!e.isMainAddress)}}function lMt(s,i){if(1&s&&(t.j41(0,"kendo-grid",22),t.nrm(1,"kendo-grid-column",23)(2,"kendo-grid-column",24)(3,"kendo-grid-column",25)(4,"kendo-grid-column",26)(5,"kendo-grid-column",27),t.j41(6,"kendo-grid-column",28),t.DNE(7,oMt,2,3,"ng-template",29),t.k0s(),t.j41(8,"kendo-grid-column",30),t.DNE(9,aMt,5,1,"ng-template",29),t.k0s()()),2&s){const e=t.XpG(2);t.xc7("width",e.screenWidth,"px"),t.Y8G("data",e.customer.addresses)("sortable",!1)("pageable",!1),t.R7$(8),t.Y8G("sortable",!1)("filterable",!1)("width",130)}}function cMt(s,i){1&s&&(t.EFF(0),t.nI1(1,"bool")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit.isMainAddress)," ")}function dMt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",36),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,r=t.XpG(3);return t.Njj(r.setAddressAsMain(o))}),t.nrm(1,"i",37),t.k0s()}}function uMt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",31),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(3);return t.Njj(r.editAddress(o))}),t.nrm(1,"i",32),t.k0s(),t.DNE(2,dMt,2,0,"button",33),t.j41(3,"button",34),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(3);return t.Njj(r.deleteAddress(o))}),t.nrm(4,"i",35),t.k0s()}if(2&s){const e=i.$implicit;t.R7$(2),t.Y8G("ngIf",!e.isMainAddress)}}function hMt(s,i){if(1&s&&(t.j41(0,"kendo-grid",22),t.nrm(1,"kendo-grid-column",24)(2,"kendo-grid-column",25)(3,"kendo-grid-column",26)(4,"kendo-grid-column",38),t.j41(5,"kendo-grid-column",28),t.DNE(6,cMt,2,3,"ng-template",29),t.k0s(),t.j41(7,"kendo-grid-column",30),t.DNE(8,uMt,5,1,"ng-template",29),t.k0s()()),2&s){const e=t.XpG(2);t.xc7("width",e.screenWidth,"px"),t.Y8G("data",e.supplier.addresses)("sortable",!1)("pageable",!1),t.R7$(7),t.Y8G("sortable",!1)("filterable",!1)("width",130)}}function pMt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",5)(1,"kendo-window",6),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",7),t.EFF(4," Gestione indirizzi "),t.k0s(),t.j41(5,"div",8)(6,"button",9),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",10),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",11),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",12),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",13),t.k0s(),t.j41(13,"div",14),t.nrm(14,"div",15),t.j41(15,"div",16)(16,"button",17),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.createAddress())}),t.nrm(17,"i",18),t.EFF(18," NUOVO INDIRIZZO "),t.k0s()()(),t.j41(19,"div",19),t.DNE(20,lMt,10,8,"kendo-grid",20),t.k0s(),t.j41(21,"div",19),t.DNE(22,hMt,9,8,"kendo-grid",20),t.k0s(),t.j41(23,"div",21)(24,"button",9),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.EFF(25," CHIUDI "),t.k0s()()()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("width",1e3)("top",110),t.R7$(19),t.Y8G("ngIf",null!=e.customer.id),t.R7$(2),t.Y8G("ngIf",null!=e.supplier.id)}}let OMe=(()=>{class s extends It{constructor(e,n,o,r){super(),this._messageBox=e,this._addressesService=n,this._customerService=o,this._supplierService=r,this.opened=!1,this.customer=new To,this.supplier=new ch}open(){return this._closeSubject||(this._closeSubject=new Xe.B),this._oveflow=document.body.style.overflow,document.body.style.overflow="hidden",this.opened=!0,this._closeSubject.asObservable()}dismiss(){this._closeSubject.next(!1),this._closeSubject.complete(),this._closeSubject=null,this.opened=!1,document.body.style.overflow=this._oveflow}createAddress(){const e=new ds;null===this.customer.id?this._subscriptions.push(this.addressModal.open(e).pipe(z(n=>n),x(n=>{this.customer.addresses.push(e),e.isMainAddress&&(this.customer.mainAddress=e,this.customer.addresses.forEach(o=>{o.isMainAddress=o.tempId===e.tempId})),this._messageBox.success("Indirizzo creato con successo")})).subscribe()):(e.customerId=this.customer.id,this._subscriptions.push(this.addressModal.open(e).pipe(z(n=>n),Y(()=>this._addressesService.createAddress(e)),x(n=>this._messageBox.success("Indirizzo creato con successo")),x(()=>this.readAddresses())).subscribe())),null===this.supplier.id?this._subscriptions.push(this.addressModal.open(e).pipe(z(n=>n),x(n=>{this.supplier.addresses.push(e),e.isMainAddress&&(this.supplier.mainAddress=e,this.supplier.addresses.forEach(o=>{o.isMainAddress=o.tempId===e.tempId})),this._messageBox.success("Indirizzo creato con successo")})).subscribe()):(e.supplierId=this.supplier.id,this._subscriptions.push(this.addressModal.open(e).pipe(z(n=>n),Y(()=>this._addressesService.createAddress(e)),x(n=>this._messageBox.success("Indirizzo creato con successo")),x(()=>this.readAddresses())).subscribe()))}editAddress(e){if(null!=this.customer.id){const n=Object.assign(new ds,JSON.parse(JSON.stringify(e)));this._subscriptions.push(this.addressModal.open(n).pipe(z(o=>o),x(o=>{const r=this.customer.addresses.findIndex(a=>a.tempId===n.tempId);r>=0&&(this.customer.addresses[r]=n,n.isMainAddress&&this.customer.addresses.forEach(a=>{a.isMainAddress=a.tempId===n.tempId}),this._messageBox.success("Indirizzo modificato con successo"))})).subscribe())}else if(null!=this.supplier.id){const n=Object.assign(new ds,JSON.parse(JSON.stringify(e)));this._subscriptions.push(this.addressModal.open(n).pipe(z(o=>o),x(o=>{const r=this.supplier.addresses.findIndex(a=>a.tempId===n.tempId);r>=0&&(this.supplier.addresses[r]=n,n.isMainAddress&&(this.supplier.mainAddress=n,this.supplier.addresses.forEach(a=>{a.isMainAddress=a.tempId===n.tempId})),this._messageBox.success("Indirizzo modificato con successo"))})).subscribe())}else this._subscriptions.push(this._addressesService.getAddress(e.id).pipe((0,U.T)(n=>Object.assign(new ds,n)),Y(n=>this.addressModal.open(n)),z(n=>n),(0,U.T)(()=>this.addressModal.options),Y(n=>this._addressesService.updateAddress(n,e.id)),(0,U.T)(()=>this.addressModal.options),x(n=>this._messageBox.success("Indirizzo aggiornato con successo")),x(()=>this.readAddresses())).subscribe())}deleteAddress(e){null===this.customer.id?this._messageBox.confirm("Sei sicuro di voler cancellare l'indirizzo?","Conferma l'azione").subscribe(n=>{1==n&&(e.isMainAddress&&(this.customer.mainAddress=null),this.customer.addresses=this.customer.addresses.filter(o=>o.tempId!==e.tempId),this._messageBox.success("L'indirizzo cancellato con successo"))}):null===this.supplier.id?this._messageBox.confirm("Sei sicuro di voler cancellare l'indirizzo?","Conferma l'azione").subscribe(n=>{1==n&&(e.isMainAddress&&(this.supplier.mainAddress=null),this.supplier.addresses=this.supplier.addresses.filter(o=>o.tempId!==e.tempId),this._messageBox.success("L'indirizzo cancellato con successo"))}):this._messageBox.confirm("Sei sicuro di voler cancellare l'indirizzo?","Conferma l'azione").subscribe(n=>{1==n&&this._subscriptions.push(this._addressesService.deleteAddress(e.id).pipe(x(o=>this._messageBox.success("L'indirizzo cancellato con successo")),x(()=>this.readAddresses())).subscribe())})}setAddressAsMain(e){this._messageBox.confirm("Sei sicuro di voler selezionare l'indirizzo come principale?","Conferma l'azione").subscribe(n=>{1==n&&(null===this.customer.id?this.customer.addresses.forEach(o=>{o.isMainAddress=o.tempId===e.tempId}):null===this.supplier.id?this.supplier.addresses.forEach(o=>{o.isMainAddress=o.tempId===e.tempId}):this._subscriptions.push(this._addressesService.setAddressAsMain(e.id).pipe(x(o=>this._messageBox.success("L'indirizzo selezionato come principale con successo")),x(()=>this.readAddresses())).subscribe()))})}readAddresses(){this._subscriptions.push(this._customerService.getCustomer(this.customer.id).pipe((0,U.T)(e=>{const n=Object.assign(new To,e);this.customer.addresses=n.addresses}),x(()=>{})).subscribe()),this._subscriptions.push(this._supplierService.getSupplier(this.supplier.id).pipe((0,U.T)(e=>{const n=Object.assign(new ch,e);this.supplier.addresses=n.addresses}),x(()=>{})).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(_t),t.rXU(lh),t.rXU(yl),t.rXU(Sb))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-addresses-modal"]],viewQuery:function(n,o){if(1&n&&t.GBs(iMt,7),2&n){let r;t.mGM(r=t.lsd())&&(o.addressModal=r.first)}},inputs:{customer:"customer",supplier:"supplier"},features:[t.Vt3],decls:4,vars:3,consts:[["addressModal",""],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[3,"customer"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","width","top"],[1,"k-window-title"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowCloseAction",""],[1,"d-flex","align-items-center","master-detail-grid-header"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],[1,"grid-container"],["scrollable","none",3,"data","sortable","pageable","width",4,"ngIf"],[1,"text-right","mt-5"],["scrollable","none",3,"data","sortable","pageable"],["field","description","title","Tipo"],["field","city","title","Citt\xe0"],["field","streetAddress","title","Indirizzo"],["field","province","title","Provincia"],["field","jobReference","title","Rifer. Comm."],["field","isMainAddress","title","Principale"],["kendoGridCellTemplate",""],["field","id","title"," ",3,"sortable","filterable","width"],["title","Modifica",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["class","btn btn-primary btn-sm grid-action-button","title","Seleziona come principale",3,"click",4,"ngIf"],["title","Elimina",1,"btn","btn-danger","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-trash"],["title","Seleziona come principale",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-check"],["field","jobReference","title","Rif. Indirizzo"]],template:function(n,o){1&n&&(t.DNE(0,sMt,1,0,"div",1)(1,pMt,26,6,"div",2),t.nrm(2,"app-address-modal",3,0)),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("customer",o.customer))},dependencies:[W,Nn,yn,qn,ni,li,Wn,gm,gp]})}return s})(),fMt=(()=>{class s extends It{transform(e){switch(e){case vb.Company:return"Azienda";case vb.PrivatePerson:return"Privato";case vb.PublicAdministration:return"Pubblica Amministrazione";case vb.Foreign:return"Estero";default:return e}}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(s)))(o||s)}})();static#t=this.\u0275pipe=t.EJ8({name:"customerFiscalType",type:s,pure:!0})}return s})();const mMt=["addressModal"],_Mt=["addressesModal"];function gMt(s,i){1&s&&t.nrm(0,"div",6)}function vMt(s,i){1&s&&(t.EFF(0),t.nI1(1,"customerFiscalType")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit)," ")}function SMt(s,i){1&s&&(t.EFF(0),t.nI1(1,"customerFiscalType")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit)," ")}function CMt(s,i){if(1&s){const e=t.RV6();t.j41(0,"form",17,2),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.close())}),t.j41(2,"div",18)(3,"div",19)(4,"label"),t.EFF(5,"Nominativo"),t.k0s(),t.j41(6,"div",20)(7,"input",21),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.name,o)||(r.options.name=o),t.Njj(o)}),t.k0s(),t.nrm(8,"div",22),t.k0s()(),t.j41(9,"div",23)(10,"kendo-formfield",20)(11,"label"),t.EFF(12,"Tipo Cliente"),t.k0s(),t.j41(13,"kendo-dropdownlist",24),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.fiscalType,o)||(r.options.fiscalType=o),t.Njj(o)}),t.DNE(14,vMt,2,3,"ng-template",25)(15,SMt,2,3,"ng-template",26),t.k0s(),t.j41(16,"kendo-formerror"),t.EFF(17,"Tipo \xe8 un campo obbligatorio"),t.k0s()()()(),t.j41(18,"div",18)(19,"div",27)(20,"label"),t.EFF(21,"Telefono"),t.k0s(),t.j41(22,"div",20)(23,"input",28),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.telephone,o)||(r.options.telephone=o),t.Njj(o)}),t.k0s()()(),t.j41(24,"div",23)(25,"label"),t.EFF(26,"Email"),t.k0s(),t.j41(27,"div",20)(28,"input",29),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.email,o)||(r.options.email=o),t.Njj(o)}),t.k0s()()(),t.j41(29,"div",27)(30,"label"),t.EFF(31,"SDI"),t.k0s(),t.j41(32,"div",20)(33,"input",30),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.sdiCode,o)||(r.options.sdiCode=o),t.Njj(o)}),t.k0s()()(),t.j41(34,"div",31)(35,"label"),t.EFF(36,"Pu\xf2 generare tickets"),t.k0s(),t.j41(37,"div",20)(38,"kendo-switch",32),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.canGenerateTickets,o)||(r.options.canGenerateTickets=o),t.Njj(o)}),t.k0s(),t.nrm(39,"div",22),t.k0s()()(),t.j41(40,"div",18)(41,"div",23)(42,"label"),t.EFF(43,"Contatto"),t.k0s(),t.j41(44,"div",20)(45,"input",33),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.contact,o)||(r.options.contact=o),t.Njj(o)}),t.k0s(),t.nrm(46,"div",22),t.k0s()(),t.j41(47,"div",23)(48,"label"),t.EFF(49,"Telefono Contatto"),t.k0s(),t.j41(50,"div",20)(51,"input",34),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.contactTelephone,o)||(r.options.contactTelephone=o),t.Njj(o)}),t.k0s()()(),t.j41(52,"div",23)(53,"label"),t.EFF(54,"Email Contatto"),t.k0s(),t.j41(55,"div",20)(56,"input",35),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.contactEmail,o)||(r.options.contactEmail=o),t.Njj(o)}),t.k0s()()()(),t.j41(57,"div",18)(58,"div",23)(59,"label"),t.EFF(60,"P.IVA"),t.k0s(),t.j41(61,"div",20)(62,"input",36),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.vatNumber,o)||(r.options.vatNumber=o),t.Njj(o)}),t.k0s(),t.nrm(63,"div",22),t.k0s()(),t.j41(64,"div",23)(65,"label"),t.EFF(66,"Codice Fiscale"),t.k0s(),t.j41(67,"div",20)(68,"input",37),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.fiscalCode,o)||(r.options.fiscalCode=o),t.Njj(o)}),t.k0s(),t.nrm(69,"div",22),t.k0s()()(),t.j41(70,"div",18)(71,"div",19)(72,"label"),t.EFF(73,"Indirizzo"),t.k0s(),t.j41(74,"div",20)(75,"kendo-combobox",38),t.mxI("valueChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.mainAddress,o)||(r.options.mainAddress=o),t.Njj(o)}),t.bIt("valueChange",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.mainAddressChanged(o))}),t.k0s(),t.j41(76,"button",39),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.createAddress())}),t.nrm(77,"i",40),t.k0s(),t.j41(78,"input",41),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.mainAddress,o)||(r.options.mainAddress=o),t.Njj(o)}),t.k0s(),t.nrm(79,"div",22),t.k0s()(),t.j41(80,"div",23)(81,"label"),t.EFF(82,"\xa0"),t.k0s(),t.j41(83,"div",20)(84,"button",42),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.editAddresses())}),t.nrm(85,"i",43),t.EFF(86," Gestione indirizzi "),t.k0s()()()(),t.j41(87,"div",44)(88,"button",11),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.dismiss())}),t.nrm(89,"i",12),t.EFF(90," ANNULLA "),t.k0s(),t.j41(91,"button",45),t.nrm(92,"i",14),t.EFF(93," SALVA "),t.k0s()()()}if(2&s){const e=t.sdS(1),n=t.XpG(2);t.R7$(7),t.R50("ngModel",n.options.name),t.R7$(),t.Y8G("control",e.controls.name),t.R7$(5),t.Y8G("data",n.fiscalTypes),t.R50("ngModel",n.options.fiscalType),t.Y8G("valuePrimitive",!0),t.R7$(10),t.R50("ngModel",n.options.telephone),t.R7$(5),t.R50("ngModel",n.options.email),t.R7$(5),t.R50("ngModel",n.options.sdiCode),t.R7$(5),t.R50("ngModel",n.options.canGenerateTickets),t.R7$(),t.Y8G("control",e.controls.canGenerateTickets),t.R7$(6),t.R50("ngModel",n.options.contact),t.R7$(),t.Y8G("control",e.controls.contact),t.R7$(5),t.R50("ngModel",n.options.contactTelephone),t.R7$(5),t.R50("ngModel",n.options.contactEmail),t.R7$(6),t.R50("ngModel",n.options.vatNumber),t.R7$(),t.Y8G("control",e.controls.vatNumber),t.R7$(5),t.R50("ngModel",n.options.fiscalCode),t.R7$(),t.Y8G("control",e.controls.fiscalCode),t.R7$(6),t.AVh("address-validation-error-combobox",n.isAddressInValidationError),t.Y8G("data",n.options.addresses),t.R50("value",n.options.mainAddress),t.Y8G("suggest",!0),t.R7$(3),t.Y8G("hidden",!0),t.R50("ngModel",n.options.mainAddress),t.R7$(),t.Y8G("control",e.controls.address),t.R7$(12),t.Y8G("disabled",n.isOperator)}}function bMt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",7)(1,"kendo-window",8),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",9),t.EFF(4,"Cliente"),t.k0s(),t.j41(5,"div",10)(6,"button",11),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",12),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",13),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",14),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",15),t.k0s(),t.DNE(13,CMt,94,27,"form",16),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("top",30),t.R7$(8),t.Y8G("disabled",e.isOperator),t.R7$(4),t.Y8G("ngIf",e.options)}}let eu=(()=>{class s extends As{get isAddressInValidationError(){return null!=this.form&&this.form.submitted&&!this.form.controls.address.valid}constructor(e,n,o,r){super(n),this._customerService=o,this._addressesService=r,this.role=Pt,this.fiscalTypes=MD(vb),this.isOperator=e.isAuthorized(Pt.Operator)}_canClose(){return Xr(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid}mainAddressChanged(e){void 0!==e&&this.options.addresses.forEach(n=>{n.isMainAddress=n.tempId===e.tempId})}addNewAddress(e){null==this.options.id?(this.options.addresses.push(e),e.isMainAddress&&(this.options.mainAddress=e,this.options.addresses.forEach(n=>{n.isMainAddress=n.tempId===e.tempId}))):this._subscriptions.push(this._addressesService.createAddress(e).pipe((0,U.T)(n=>n),x(n=>this._messageBox.success("Indirizzo creato con successo")),x(()=>this.readAddresses())).subscribe())}readAddresses(){this._subscriptions.push(this._customerService.getCustomer(this.options.id).pipe((0,U.T)(e=>{const n=Object.assign(new To,e);this.options.addresses=n.addresses}),x(()=>{})).subscribe())}createAddress(){const e=new ds;e.customerId=this.options.id,this._subscriptions.push(this.addressModal.open(e).pipe(z(n=>n),x(()=>{this.addNewAddress(e)})).subscribe())}editAddresses(){this._subscriptions.push(this.addressesModal.open().pipe(z(e=>e),x(()=>{console.log("closed edit addresses")})).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(mr),t.rXU(_t),t.rXU(yl),t.rXU(lh))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-customer-modal"]],viewQuery:function(n,o){if(1&n&&(t.GBs(mMt,7),t.GBs(_Mt,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.addressModal=r.first),t.mGM(r=t.lsd())&&(o.addressesModal=r.first)}},features:[t.Vt3],decls:6,vars:4,consts:[["addressModal",""],["addressesModal",""],["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[3,"customer"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowCloseAction",""],["name","updateUserForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateUserForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row"],[1,"col-md-8"],[1,"form-group"],["name","name","required","","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"validation-message",3,"control"],[1,"col-md-4"],["name","fiscalType","required","",3,"ngModelChange","data","ngModel","valuePrimitive"],["kendoDropDownListItemTemplate",""],["kendoDropDownListValueTemplate",""],[1,"col-md-2"],["name","telephone","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","email","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","sdiCode","maxlength","7","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3"],["name","canGenerateTickets","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],["name","contact","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["name","contactTelephone","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","contactEmail","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["name","vatNumber","maxlength","16","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["name","fiscalCode","maxlength","16","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["textField","fullAddress","valueField","tempId",1,"address-combobox",3,"valueChange","data","value","suggest"],["type","button","title","Nuovo indirizzo",1,"btn","btn-primary","add-address-button",3,"click"],[1,"fa","fa-plus"],["name","address","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","hidden","ngModel"],["type","button","title","Gestione indirizza",1,"btn","btn-primary",3,"click"],[1,"fa","fa-edit"],[1,"text-right","mt-5"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(n,o){1&n&&(t.DNE(0,gMt,1,0,"div",3)(1,bMt,14,5,"div",4),t.nrm(2,"app-address-modal",5,0)(4,"app-addresses-modal",5,1)),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("customer",o.options),t.R7$(2),t.Y8G("customer",o.options))},dependencies:[W,Fi,jo,Un,Pi,ts,Vu,mi,Mi,ni,li,Wn,ba,ng,go,io,ip,Xc,vr,cr,gm,OMe,fMt],styles:[".address-validation-error-combobox[_ngcontent-%COMP%]{border:1px solid #dc3545}"]})}return s})();const EMt=["customerModal"],yMt=["addressModal"];function kMt(s,i){1&s&&(t.EFF(0),t.nI1(1,"bool")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit.canGenerateTickets)," ")}function wMt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",21),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.editCustomer(o))}),t.nrm(1,"i",22),t.k0s(),t.j41(2,"button",23),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.deleteCustomer(o))}),t.nrm(3,"i",24),t.k0s()}}function DMt(s,i){1&s&&(t.EFF(0),t.nI1(1,"bool")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit.isMainAddress)," ")}function OMt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",34),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.setAddressAsMain(o))}),t.nrm(1,"i",35),t.k0s()}}function TMt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",23),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.deleteAddress(o))}),t.nrm(1,"i",24),t.k0s()}}function MMt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",21),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG().$implicit,a=t.XpG();return t.Njj(a.editAddress(o,r))}),t.nrm(1,"i",22),t.k0s(),t.DNE(2,OMt,2,0,"button",32)(3,TMt,2,0,"button",33)}if(2&s){const e=i.$implicit;t.R7$(2),t.Y8G("ngIf",!e.isMainAddress),t.R7$(),t.Y8G("ngIf",!e.isMainAddress)}}function IMt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div")(1,"div",25),t.nrm(2,"div",3),t.j41(3,"div",4)(4,"button",5),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.createAddress(o))}),t.nrm(5,"i",6),t.EFF(6," NUOVO INDIRIZZO "),t.k0s()()(),t.j41(7,"div",7)(8,"kendo-grid",26),t.nrm(9,"kendo-grid-column",27)(10,"kendo-grid-column",28)(11,"kendo-grid-column",29)(12,"kendo-grid-column",30),t.j41(13,"kendo-grid-column",31),t.DNE(14,DMt,2,3,"ng-template",17),t.k0s(),t.j41(15,"kendo-grid-column",18),t.DNE(16,MMt,4,2,"ng-template",17),t.k0s()()()()}if(2&s){const e=i.$implicit,n=t.XpG();t.R7$(8),t.xc7("width",n.screenWidth,"px"),t.Y8G("data",e.addresses)("sortable",!1)("pageable",!1),t.R7$(7),t.Y8G("sortable",!1)("filterable",!1)("width",130)}}let xMt=(()=>{class s extends It{constructor(e,n,o,r){super(),this._customerService=e,this._addressesService=n,this._messageBox=o,this._storageService=r,this.stateGridCustomers={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[]},this.customerSelezionato=new To}ngOnInit(){this._resumeState(),this._readCustomers(),this.updateScreenSize()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}dataStateChange(e){this.stateGridCustomers=e,this._saveState(),this._readCustomers()}_resumeState(){const e=this._storageService.get(window.location.hash,!0);null!=e&&(this.stateGridCustomers=e)}_saveState(){this._storageService.save(this.stateGridCustomers,window.location.hash,!0)}_readCustomers(){this._subscriptions.push(this._customerService.readCustomers(this.stateGridCustomers).pipe(x(e=>{this.dataCustomers=e})).subscribe())}createCustomer(){const e=new To;this._subscriptions.push(this.customerModal.open(e).pipe(z(n=>n),Y(()=>this._customerService.createCustomer(e)),x(n=>{this._messageBox.success(`Cliente ${e.name} creato`)}),x(()=>this._readCustomers())).subscribe())}editCustomer(e){this._subscriptions.push(this._customerService.getCustomer(e.id).pipe((0,U.T)(n=>Object.assign(new To,n)),Y(n=>this.customerModal.open(n)),z(n=>n),(0,U.T)(()=>this.customerModal.options),Y(n=>this._customerService.updateCustomer(n,e.id)),(0,U.T)(()=>this.customerModal.options),x(n=>this._messageBox.success(`Cliente ${n.name} aggiornato`)),x(()=>this._readCustomers())).subscribe())}deleteCustomer(e){this._messageBox.confirm(`Sei sicuro di voler cancellare il cliente ${e.name}?`,"Conferma l'azione").subscribe(n=>{1==n&&this._subscriptions.push(this._customerService.deleteCustomer(e.id).pipe(x(o=>this._messageBox.success(`Cliente ${e.name} cancellato con successo`)),x(()=>this._readCustomers())).subscribe())})}createAddress(e){this.customerSelezionato=e;const n=new ds;n.customerId=e.id,this._subscriptions.push(this.addressModal.open(n).pipe(z(o=>o),Y(()=>this._addressesService.createAddress(n)),x(o=>this._messageBox.success("Indirizzo creato con successo")),x(()=>this._readCustomers())).subscribe())}editAddress(e,n){this.customerSelezionato=n,this._subscriptions.push(this._addressesService.getAddress(e.id).pipe((0,U.T)(o=>Object.assign(new ds,o)),Y(o=>this.addressModal.open(o)),z(o=>o),(0,U.T)(()=>this.addressModal.options),Y(o=>this._addressesService.updateAddress(o,e.id)),(0,U.T)(()=>this.addressModal.options),x(o=>this._messageBox.success("Indirizzo aggiornato con successo")),x(()=>this._readCustomers())).subscribe())}deleteAddress(e){this._messageBox.confirm("Sei sicuro di voler cancellare l'indirizzo?","Conferma l'azione").subscribe(n=>{1==n&&this._subscriptions.push(this._addressesService.deleteAddress(e.id).pipe(x(o=>this._messageBox.success("L'indirizzo cancellato con successo")),x(()=>this._readCustomers())).subscribe())})}setAddressAsMain(e){this._messageBox.confirm("Sei sicuro di voler selezionare l'indirizzo come principale?","Conferma l'azione").subscribe(n=>{1==n&&this._subscriptions.push(this._addressesService.setAddressAsMain(e.id).pipe(x(o=>this._messageBox.success("L'indirizzo selezionato come principale con successo")),x(()=>this._readCustomers())).subscribe())})}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(yl),t.rXU(lh),t.rXU(_t),t.rXU(Pr))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-customers"]],viewQuery:function(n,o){if(1&n&&(t.GBs(EMt,7),t.GBs(yMt,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.customerModal=r.first),t.mGM(r=t.lsd())&&(o.addressModal=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},features:[t.Vt3],decls:26,vars:14,consts:[["customerModal",""],["addressModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","name","title","Nominativo"],["field","telephone","title","Telefono"],["field","contact","title","Contatto"],["field","mainFullAddress","title","Indirizzo"],["field","sdiCode","title","SDI"],["field","vatNumber","title","P.IVA"],["field","fiscalCode","title","Cod. Fiscale"],["field","canGenerateTickets","title","Gener. Tickets"],["kendoGridCellTemplate",""],["field","id","title"," ",3,"sortable","filterable","width"],[4,"kendoGridDetailTemplate"],[3,"customer"],["title","Modifica",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["title","Elimina",1,"btn","btn-danger","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-trash"],[1,"d-flex","align-items-center","master-detail-grid-header"],["scrollable","none",3,"data","sortable","pageable"],["field","description","title","Tipo Indirizzo"],["field","city","title","Citt\xe0"],["field","streetAddress","title","Indirizzo"],["field","province","title","Provincia"],["field","isMainAddress","title","Principale"],["class","btn btn-primary btn-sm grid-action-button","title","Seleziona come principale",3,"click",4,"ngIf"],["class","btn btn-danger btn-sm grid-action-button","title","Elimina",3,"click",4,"ngIf"],["title","Seleziona come principale",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-check"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"h4"),t.EFF(3,"Clienti"),t.k0s()(),t.j41(4,"div",4)(5,"button",5),t.bIt("click",function(){return t.eBV(r),t.Njj(o.createCustomer())}),t.nrm(6,"i",6),t.EFF(7," NUOVO "),t.k0s()()(),t.j41(8,"div",7)(9,"kendo-grid",8),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))}),t.nrm(10,"kendo-grid-column",9)(11,"kendo-grid-column",10)(12,"kendo-grid-column",11)(13,"kendo-grid-column",12)(14,"kendo-grid-column",13)(15,"kendo-grid-column",14)(16,"kendo-grid-column",15),t.j41(17,"kendo-grid-column",16),t.DNE(18,kMt,2,3,"ng-template",17),t.k0s(),t.j41(19,"kendo-grid-column",18),t.DNE(20,wMt,4,0,"ng-template",17),t.k0s(),t.DNE(21,IMt,17,8,"div",19),t.k0s()(),t.nrm(22,"app-customer-modal",null,0)(24,"app-address-modal",20,1)}2&n&&(t.R7$(9),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.dataCustomers)("pageSize",o.stateGridCustomers.take)("skip",o.stateGridCustomers.skip)("sort",o.stateGridCustomers.sort)("filter",o.stateGridCustomers.filter)("group",o.stateGridCustomers.group)("sortable",!0)("pageable",!0),t.R7$(10),t.Y8G("sortable",!1)("filterable",!1)("width",95),t.R7$(5),t.Y8G("customer",o.customerSelezionato))},dependencies:[W,Nn,yn,lb,qn,eu,gm,gp]})}return s})(),sV=(()=>{class s{constructor(e){this._http=e,this._baseUrl=`${At.baseApiUrl}/vehicles`}readVehicles(e){const n=ul(e),o=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/vehicles?${n}`).pipe((0,U.T)(r=>{const a=[];return r.data.forEach(l=>{const c=Object.assign(new vp,l);a.push(c)}),{data:o?Lr(a):a,total:r.total}}))}createVehicle(e){return this._http.post(`${this._baseUrl}/vehicle`,e).pipe((0,U.T)(n=>n))}updateVehicle(e,n){return this._http.put(`${this._baseUrl}/vehicle/${n}`,e).pipe((0,U.T)(()=>{}))}deleteVehicle(e){return this._http.delete(`${this._baseUrl}/vehicle/${e}`).pipe((0,U.T)(()=>{}))}getVehicleDetail(e){return this._http.get(`${this._baseUrl}/vehicle-detail/${e}`).pipe((0,U.T)(n=>Object.assign(new vp,n)))}readVehiclesList(){return this._http.get(`${this._baseUrl}/vehicles-list`).pipe((0,U.T)(e=>{const n=[];return e.forEach(o=>{const r=Object.assign(new vp,o);n.push(r)}),n}))}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(js))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();function AMt(s,i){1&s&&t.nrm(0,"div",3)}function RMt(s,i){if(1&s){const e=t.RV6();t.j41(0,"form",14,0),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.close())}),t.j41(2,"div",15)(3,"div",16)(4,"label"),t.EFF(5,"Nome veicolo"),t.k0s(),t.j41(6,"div",17)(7,"input",18),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.name,o)||(r.options.name=o),t.Njj(o)}),t.k0s(),t.nrm(8,"div",19),t.k0s()(),t.j41(9,"div",16)(10,"label"),t.EFF(11,"Targa"),t.k0s(),t.j41(12,"div",17)(13,"input",20),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.plate,o)||(r.options.plate=o),t.Njj(o)}),t.k0s(),t.nrm(14,"div",19),t.k0s()()(),t.j41(15,"div",15)(16,"div",21)(17,"label"),t.EFF(18,"Note"),t.k0s(),t.j41(19,"div",17)(20,"textarea",22),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.notes,o)||(r.options.notes=o),t.Njj(o)}),t.k0s(),t.nrm(21,"div",19),t.k0s()()(),t.j41(22,"div",23)(23,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.dismiss())}),t.nrm(24,"i",9),t.EFF(25," ANNULLA "),t.k0s(),t.j41(26,"button",24),t.nrm(27,"i",11),t.EFF(28," SALVA "),t.k0s()()()}if(2&s){const e=t.sdS(1),n=t.XpG(2);t.R7$(7),t.R50("ngModel",n.options.name),t.R7$(),t.Y8G("control",e.controls.name),t.R7$(5),t.R50("ngModel",n.options.plate),t.R7$(),t.Y8G("control",e.controls.plate),t.R7$(6),t.R50("ngModel",n.options.notes),t.R7$(),t.Y8G("control",e.controls.notes)}}function NMt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",4)(1,"kendo-window",5),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",6),t.EFF(4," Mezzo di Trasporto "),t.k0s(),t.j41(5,"div",7)(6,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",9),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",11),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",12),t.k0s(),t.DNE(13,RMt,29,6,"form",13),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("top",100),t.R7$(12),t.Y8G("ngIf",e.options)}}let LMt=(()=>{class s extends As{constructor(e){super(e),this.role=Pt,this.vehicleModal=new vp}_canClose(){return Xr(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid}loadData(){}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(_t))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-vehicle-modal"]],inputs:{vehicleModal:"vehicleModal"},features:[t.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowCloseAction",""],["name","updateVehicleForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateVehicleForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["name","name","required","","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"validation-message",3,"control"],["name","plate","required","","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-12"],["rows","5","name","notes","maxlength","1024","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-right","mt-5"],["type","submit",1,"btn","btn-primary"]],template:function(n,o){1&n&&t.DNE(0,AMt,1,0,"div",1)(1,NMt,14,4,"div",2),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[W,Fi,jo,Un,Pi,ts,Vu,mi,Mi,ni,li,Wn,cr]})}return s})();const GMt=["vehicleModal"];function PMt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",13),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.editVehicle(o))}),t.nrm(1,"i",14),t.k0s(),t.j41(2,"button",15),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.deleteVehicle(o))}),t.nrm(3,"i",16),t.k0s()}}let FMt=(()=>{class s extends It{constructor(e,n,o){super(),this._vehiclesService=e,this._messageBox=n,this._router=o,this.stateGridVehicles={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[]},this.vehicleSelezionato=new vp}ngOnInit(){this._readVehicles(),this.updateScreenSize()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}dataStateChange(e){this.stateGridVehicles=e,this._readVehicles()}_readVehicles(){this._subscriptions.push(this._vehiclesService.readVehicles(this.stateGridVehicles).pipe(x(e=>{this.dataVehicles=e})).subscribe())}createVehicle(){const e=new vp;this._subscriptions.push(this.vehicleModal.open(e).pipe(z(n=>n),Y(()=>this._vehiclesService.createVehicle(e)),x(n=>{this._messageBox.success(`Veicolo ${e.name} ${e.plate} creato`)}),x(()=>this._readVehicles())).subscribe())}editVehicle(e){this._subscriptions.push(this._vehiclesService.getVehicleDetail(e.id).pipe((0,U.T)(n=>Object.assign(new vp,n)),Y(n=>this.vehicleModal.open(n)),z(n=>n),(0,U.T)(()=>this.vehicleModal.options),Y(n=>this._vehiclesService.updateVehicle(n,e.id)),(0,U.T)(()=>this.vehicleModal.options),x(n=>this._messageBox.success(`Veicolo ${e.name} ${e.plate} aggiornato`)),x(()=>this._readVehicles())).subscribe())}deleteVehicle(e){this._messageBox.info("Eliminazione elemento non attiva")}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(sV),t.rXU(_t),t.rXU(Qi))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-vehicles"]],viewQuery:function(n,o){if(1&n&&t.GBs(GMt,7),2&n){let r;t.mGM(r=t.lsd())&&(o.vehicleModal=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},features:[t.Vt3],decls:17,vars:13,consts:[["vehicleModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","name","title","Nome Veicolo"],["field","plate","title","Targa"],["field","notes","title","Note"],["field","id","title"," ",3,"sortable","filterable","width"],["kendoGridCellTemplate",""],["title","Modifica",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["title","Elimina",1,"btn","btn-danger","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-trash"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h4"),t.EFF(3,"Mezzi di trasporto"),t.k0s()(),t.j41(4,"div",3)(5,"button",4),t.bIt("click",function(){return t.eBV(r),t.Njj(o.createVehicle())}),t.nrm(6,"i",5),t.EFF(7," NUOVO "),t.k0s()()(),t.j41(8,"div",6)(9,"kendo-grid",7),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))}),t.nrm(10,"kendo-grid-column",8)(11,"kendo-grid-column",9)(12,"kendo-grid-column",10),t.j41(13,"kendo-grid-column",11),t.DNE(14,PMt,4,0,"ng-template",12),t.k0s()()(),t.nrm(15,"app-vehicle-modal",null,0)}2&n&&(t.R7$(9),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.dataVehicles)("pageSize",o.stateGridVehicles.take)("skip",o.stateGridVehicles.skip)("sort",o.stateGridVehicles.sort)("filter",o.stateGridVehicles.filter)("group",o.stateGridVehicles.group)("sortable",!0)("pageable",!0),t.R7$(4),t.Y8G("sortable",!1)("filterable",!1)("width",95))},dependencies:[Nn,yn,qn,LMt]})}return s})();class fR{constructor(i,e){this.fileName=i,this.originalFileName=e}}class uc{constructor(){this.id=null,this.name=null,this.pictureRequired=!1,this.isInternal=!1,this.isExternal=!1,this.colorHex=null,this.statusLabel0="In attesa",this.statusLabel1="In corso",this.statusLabel2="Pronto",this.statusLabel3="Completata",this.influenceJobStatus=!1,this.viewInPurchaseOrder=!1,this.hasDependencies=!1}}let Sp=(()=>{class s{constructor(e){this._http=e,this._baseUrl=`${At.baseApiUrl}/activityTypes`}readActivityTypes(e){const n=ul(e),o=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/activityTypes?${n}`).pipe((0,U.T)(r=>{const a=[];return r.data.forEach(l=>{const c=Object.assign(new uc,l);a.push(c)}),{data:o?Lr(a):a,total:r.total}}))}createActivityType(e){return this._http.post(`${this._baseUrl}/activitytype`,e).pipe((0,U.T)(n=>n))}updateActivityType(e,n){return this._http.put(`${this._baseUrl}/activitytype/${n}`,e).pipe((0,U.T)(()=>{}))}deleteActivityType(e){return this._http.delete(`${this._baseUrl}/activitytypes/${e}`).pipe((0,U.T)(()=>{}))}getActivityTypeDetail(e){return this._http.get(`${this._baseUrl}/activitytype-detail/${e}`).pipe((0,U.T)(n=>Object.assign(new uc,n)))}readActivityTypesList(){return this._http.get(`${this._baseUrl}/activitytypes-list`).pipe((0,U.T)(e=>{const n=[];return e.forEach(o=>{const r=Object.assign(new uc,o);n.push(r)}),n}))}readActivityTypesListPO(){return this._http.get(`${this._baseUrl}/activitytypes-list-po`).pipe((0,U.T)(e=>{const n=[];return e.forEach(o=>{const r=Object.assign(new uc,o);n.push(r)}),n}))}readActivityTypesListCalendar(){return this._http.get(`${this._baseUrl}/activitytypes-list-calendar`).pipe((0,U.T)(e=>{const n=[];return e.forEach(o=>{const r=Object.assign(new uc,o);n.push(r)}),n}))}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(js))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();const Uie=s=>({"k-focus":s});function UMt(s,i){if(1&s&&(t.j41(0,"span",4),t.EFF(1),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.SpI("",e.progress,"%")}}function BMt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",5),t.bIt("focus",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onFocus("retry"))})("blur",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onBlur("retry"))})("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onRetryClick())}),t.nrm(1,"kendo-icon-wrapper",6),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("ngClass",t.eq3(6,Uie,e.retryFocused)),t.BMQ("tabIndex",-1)("aria-hidden",!0),t.R7$(),t.Y8G("svgIcon",e.retrySVGIcon),t.BMQ("aria-label",e.retryButtonTitle)("title",e.retryButtonTitle)}}function VMt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",5),t.bIt("focus",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onFocus("pauseResume"))})("blur",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onBlur("pauseResume"))})("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onPauseResumeClick())}),t.nrm(1,"kendo-icon-wrapper",7),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("ngClass",t.eq3(7,Uie,e.pauseResumeFocused)),t.BMQ("tabIndex",-1)("aria-hidden",!0),t.R7$(),t.Y8G("name",e.isPaused?"play-sm":"pause-sm")("svgIcon",e.isPaused?e.playSVGIcon:e.pauseSVGIcon),t.BMQ("aria-label",e.pauseResumeButtonTitle)("title",e.pauseResumeButtonTitle)}}function zMt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",5),t.bIt("focus",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onFocus("action"))})("blur",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onBlur("action"))})("click",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onRemoveCancelClick(o))}),t.nrm(1,"kendo-icon-wrapper",8),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("ngClass",t.eq3(8,Uie,e.actionFocused)),t.BMQ("tabIndex",-1)("aria-hidden",!0),t.R7$(),t.Y8G("name",e.isUploading?"cancel":"x")("svgIcon",e.isUploading?e.cancelSVGIcon:e.deleteSVGIcon)("innerCssClass",e.isUploading?"":"k-delete"),t.BMQ("aria-label",e.actionButtonTitle)("title",e.actionButtonTitle)}}const TMe=()=>({visible:!1}),jMt=(s,i,e)=>({"k-file-validation-message":s,"k-file-size":i,"k-file-summary":e}),HMt=s=>[s],Bie=(s,i,e)=>({templateRef:s,state:i,$implicit:e});function $Mt(s,i){if(1&s&&(t.qex(0),t.j41(1,"span",7),t.EFF(2),t.k0s(),t.j41(3,"span",8),t.EFF(4),t.k0s(),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.Y8G("title",e.file.name),t.R7$(),t.JRh(e.file.name),t.R7$(),t.Y8G("ngClass",t.sMw(5,jMt,e.file.validationErrors,!e.file.validationErrors&&e.isNotYetUploaded,e.isUploadSuccessful||e.isUploadFailed)),t.BMQ("aria-live","polite"),t.R7$(),t.JRh(e.fileStatusText)}}function XMt(s,i){if(1&s&&t.eu8(0,9),2&s){const e=t.XpG();t.Y8G("ngTemplateOutlet",e.fileInfoTemplate.templateRef)("ngTemplateOutletContext",t.sMw(4,Bie,e.fileInfoTemplate.templateRef,e.file.state,t.eq3(2,HMt,e.file)))}}const WMt=(s,i)=>({"k-file-validation-message":s,"k-file-size":i});function YMt(s,i){if(1&s&&(t.j41(0,"span",9)(1,"span",10),t.EFF(2),t.k0s(),t.j41(3,"span",11),t.EFF(4),t.k0s()()),2&s){const e=i.$implicit,n=t.XpG(2);t.R7$(),t.Y8G("title",e.name),t.R7$(),t.SpI(" ",e.name," "),t.R7$(),t.Y8G("ngClass",t.l_i(5,WMt,e.validationErrors,!e.validationErrors)),t.BMQ("aria-live","polite"),t.R7$(),t.JRh(n.fileStatusText(e))}}function KMt(s,i){if(1&s&&(t.qex(0),t.DNE(1,YMt,5,8,"span",7),t.j41(2,"span",8),t.EFF(3),t.k0s(),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.files),t.R7$(2),t.JRh(e.batchStatusText)}}function JMt(s,i){if(1&s&&t.eu8(0,12),2&s){const e=t.XpG();t.Y8G("ngTemplateOutlet",e.fileInfoTemplate.templateRef)("ngTemplateOutletContext",t.sMw(2,Bie,e.fileInfoTemplate.templateRef,e.files[0].state,e.files))}}const qMt=["kendo-upload-file-list",""];function QMt(s,i){if(1&s&&t.nrm(0,"kendo-upload-file-list-single-item",5),2&s){const e=t.XpG().$implicit,n=t.XpG();t.Y8G("disabled",n.disabled)("file",e[0])("fileInfoTemplate",n.fileInfoTemplate)}}function ZMt(s,i){if(1&s&&t.nrm(0,"kendo-upload-file-list-multiple-items",6),2&s){const e=t.XpG().$implicit,n=t.XpG();t.Y8G("disabled",n.disabled)("files",e)("fileInfoTemplate",n.fileInfoTemplate)}}function eIt(s,i){if(1&s&&t.eu8(0,7),2&s){const e=t.XpG().$implicit,n=t.XpG();t.Y8G("ngTemplateOutlet",n.fileTemplate.templateRef)("ngTemplateOutletContext",t.sMw(2,Bie,n.fileTemplate.templateRef,e[0].state,e))}}function tIt(s,i){if(1&s&&(t.j41(0,"li",1),t.DNE(1,QMt,1,3,"kendo-upload-file-list-single-item",2)(2,ZMt,1,3,"kendo-upload-file-list-multiple-items",3)(3,eIt,1,6,"ng-container",4),t.k0s()),2&s){const e=i.$implicit,n=i.index,o=t.XpG();t.Y8G("files",e)("index",n),t.R7$(),t.Y8G("ngIf",1===e.length&&!o.fileTemplate),t.R7$(),t.Y8G("ngIf",e.length>1&&!o.fileTemplate),t.R7$(),t.Y8G("ngIf",o.fileTemplate)}}const MMe=["fileSelectInput"],IMe=["fileSelectButton"];function nIt(s,i){if(1&s&&t.nrm(0,"ul",9),2&s){const e=t.XpG();t.Y8G("disabled",e.disabled)("fileList",e.fileList.files)("fileTemplate",e.fileTemplate)("fileInfoTemplate",e.fileInfoTemplate)}}const iIt=["clearButton"],sIt=["uploadButton"];function oIt(s,i){if(1&s&&t.nrm(0,"kendo-upload-status-total",11),2&s){const e=t.XpG();t.Y8G("fileList",e.fileList)}}function rIt(s,i){if(1&s&&t.nrm(0,"ul",12),2&s){const e=t.XpG();t.Y8G("disabled",e.disabled)("fileList",e.fileList.files)("fileTemplate",e.fileTemplate)("fileInfoTemplate",e.fileInfoTemplate)}}function aIt(s,i){if(1&s&&t.nrm(0,"kendo-upload-action-buttons",13),2&s){const e=t.XpG();t.Y8G("disabled",e.disabled)("actionsLayout",e.actionsLayout)}}var St=function(s){return s[s.Failed=0]="Failed",s[s.Initial=1]="Initial",s[s.Selected=2]="Selected",s[s.Uploaded=3]="Uploaded",s[s.Uploading=4]="Uploading",s[s.Paused=5]="Paused",s}(St||{});class cIt{constructor(){this._files={}}add(i){const e=i.uid;this.has(e)?i.validationErrors&&i.validationErrors.length>0?this._files[e].unshift(i):this._files[e].push(i):this._files[e]=[i]}remove(i){this.has(i)&&(this._files[i]=null,delete this._files[i])}clear(){const i=this._files;for(const e in i)if(i.hasOwnProperty(e)){for(const n of i[e])n.httpSubscription&&n.httpSubscription.unsubscribe();i[e]=null,delete i[e]}}has(i){return i in this._files}get(i){return this._files[i]}setFilesState(i,e){for(const n of i)this.setFilesStateByUid(n.uid,e)}setFilesStateByUid(i,e){this.get(i).forEach(n=>{n.state=e})}get count(){return Object.getOwnPropertyNames(this._files).length}get files(){const i=this._files,e=[];for(const n in i)i.hasOwnProperty(n)&&e.push(i[n]);return e}get filesFlat(){const i=this._files,e=[];for(const n in i)i.hasOwnProperty(n)&&i[n].forEach(r=>{e.push(r)});return e}get filesToUpload(){const i=this._files,e=[];for(const n in i)if(i.hasOwnProperty(n)){const o=i[n];let r=!0;for(const a of o)(a.state!==St.Selected||a.validationErrors&&a.validationErrors.length>0)&&(r=!1);r&&e.push(o)}return e}get firstFileToUpload(){const i=this._files;for(const e in i)if(i.hasOwnProperty(e)){const n=i[e];let o=!0;for(const r of n)(r.state!==St.Selected||r.validationErrors&&r.validationErrors.length>0)&&(o=!1);if(o)return n}return null}getFilesWithState(i){return this.filesFlat.filter(e=>e.state===i)}hasFileWithState(i){const e=this._files;for(const n in e)if(e.hasOwnProperty(n)){const o=e[n];for(const r of o)if(i.indexOf(r.state)>=0)return!0}return!1}}class dIt{constructor(i){this.files=i}}class mR{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class uIt extends mR{constructor(){super()}}class hIt{constructor(i,e,n){this.files=i,this.operation=e,this.response=n}}class pIt{constructor(i){this.file=i}}class fIt extends mR{constructor(i,e){super(),this.files=i,this.headers=e}}class mIt{constructor(i){this.file=i}}class _It extends mR{constructor(i){super(),this.files=i}}class gIt extends mR{constructor(i,e,n){super(),this.files=i,this.operation=e,this.response=n}}class vIt extends mR{constructor(i,e){super(),this.files=i,this.headers=e}}class xMe{constructor(i,e){this.files=i,this.percentComplete=e}}const oV={audio:[".aif",".iff",".m3u",".m4a",".mid",".mp3",".mpa",".wav",".wma",".ogg",".wav",".wma",".wpl"],video:[".3g2",".3gp",".avi",".asf",".flv",".m4u",".rm",".h264",".m4v",".mkv",".mov",".mp4",".mpg",".rm",".swf",".vob",".wmv"],image:[".ai",".dds",".heic",".jpe","jfif",".jif",".jp2",".jps",".eps",".bmp",".gif",".jpeg",".jpg",".png",".ps",".psd",".svg",".svgz",".tif",".tiff"],txt:[".doc",".docx",".log",".pages",".tex",".wpd",".wps",".odt",".rtf",".text",".txt",".wks"],presentation:[".key",".odp",".pps",".ppt",".pptx"],data:[".xlr",".xls",".xlsx"],programming:[".tmp",".bak",".msi",".cab",".cpl",".cur",".dll",".dmp",".drv",".icns",".ico",".link",".sys",".cfg",".ini",".asp",".aspx",".cer",".csr",".css",".dcr",".htm",".html",".js",".php",".rss",".xhtml"],pdf:[".pdf"],config:[".apk",".app",".bat",".cgi",".com",".exe",".gadget",".jar",".wsf"],zip:[".7z",".cbr",".gz",".sitx",".arj",".deb",".pkg",".rar",".rpm",".tar.gz",".z",".zip",".zipx"],discImage:[".dmg",".iso",".toast",".vcd",".bin",".cue",".mdf"]},SIt={audio:{name:"file-audio",content:'<path d="M218 353.8c-5.5-2.9-12.1-4.5-19-4.5-21 0-38 14.8-38 33.2s17 33.2 38 33.2 38-14.8 38-33.2V256.6l96-22.6v87.8c-5.5-2.9-12.1-4.5-19-4.5-21 0-38 14.8-38 33.2s17 33.2 38 33.2 38-14.8 38-33.2V192.2l-134 31.5zM352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96z" />',viewBox:"0 0 512 512"},video:{name:"file-video",content:'<path d="M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96zM304 304.8v-.8c0-8.8-7.2-16-16-16h-10.1c24.2-3.1 42.8-24.3 41.8-49.6-1-24.8-21.2-45-46-46-27.4-1.1-49.9 20.8-49.9 48 0 24.4 18.2 44.6 41.8 47.6h-70.4c17.2-1.7 30.3-16.9 28.7-34.8-1.4-15.5-14.1-27.9-29.6-28.9-18.7-1.3-34.2 13.5-34.2 31.9 0 16.6 12.7 30.2 28.8 31.8H176c-8.8 0-16 7.2-16 16v64c0 8.8 7.2 16 16 16h111.7c8.4 0 15.6-6.3 16.3-14.6.2-3.1-.3-6.1-1.7-8.7l1.8 1.1 44.9 27.1c1.3.8 2.7 1.2 4.1 1.2 1.3 0 2.7-.3 3.9-1 2.5-1.4 4.1-4.1 4.1-7v-95.8c0-2.9-1.5-5.5-4-6.9s-5.5-1.5-8 0zM193.5 272c-.5.1-1 .1-1.5.1s-1 0-1.5-.1h-.2c-8.6-.8-15.1-8.5-14.3-17.2.6-7.9 7.2-14.2 15.1-14.6 9.2-.5 16.8 6.9 16.8 16 .1 8.1-6.1 15-14.4 15.8m82.3-.3c-.3 0-.6.1-.9.1-1 .1-2.1.2-3.1.2s-2.1 0-3.1-.2c-.3 0-.6-.1-.9-.1-15.9-2-27.9-15.7-27.9-31.7 0-17.6 14.4-32 32-32s32 14.4 32 32c-.1 16.1-12.1 29.7-28.1 31.7" />',viewBox:"0 0 512 512"},image:eF,txt:{name:"file-txt",content:'<path d="M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96zm-32-96v32H128v-32zM256 160v32H128v-32m256 64v32H128v-32zm-256 96v-32h224v32z" />',viewBox:"0 0 512 512"},presentation:{name:"file-presentation",content:'<path d="M127.5 214.4c0 9.9 6.1 18.2 14.5 21.2v113.1c0 12.4 9.6 22.4 21.3 22.4H246v11.8l-13.6 14.6c-1.9 2-3 4.8-3 8 0 6.3 4.7 11.3 10.5 11.3 2.8 0 5.5-1.3 7.4-3.3.1-.1.2-.3.4-.4l8.9-9.6 8.9 9.6c.1.1.2.3.4.4 1.9 2 4.5 3.3 7.4 3.3 5.8 0 10.5-5 10.5-11.3 0-3.1-1.2-6-3-8L267 382.8V371h78.8c11.1 0 20.1-9.3 20.9-21h1.3V235.9c9-2.6 15.7-11.3 15.7-21.6 0-12.4-9.5-22.4-21.3-22.4H148.8c-11.8.1-21.3 10.1-21.3 22.5M299 237h43v89h-43zm-64 26h43v63h-43zm-64 18h43v45h-43zM352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96z" />',viewBox:"0 0 512 512"},data:{name:"file-data",content:'<path d="M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96zM128 229.3v149.4c0 20.6 19.1 37.3 42.7 37.3h170.6c23.6 0 42.7-16.7 42.7-37.3V229.3c0-20.6-19.1-37.3-42.7-37.3H170.7c-23.6 0-42.7 16.7-42.7 37.3M247 379h-76v-47h76zm18-112h76v47h-76zm0 65h76v47h-76zm-18-19h-76v-47h76z" />',viewBox:"0 0 512 512"},programming:{name:"file-programming",content:'<path d="m236 256-52.6-.2-48.6 48.6.1.1c-4.1 3.9-6.7 9.4-6.7 15.5 0 5.8 2.3 11 6 14.8l49.1 49.1 46.8-.2-59.7-59.7c.2-.9.3-1.8.3-2.8zm105.2 65.5c.1.9.2 1.9.3 2.8L281.9 384l46.8.2 49.1-49.1c3.7-3.8 6-9.1 6-14.8 0-6.1-2.6-11.6-6.7-15.5l.1-.1-48.6-48.7-52.6.2zM352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96z" />',viewBox:"0 0 512 512"},pdf:{name:"file-pdf",content:'<path d="M240.9 160c-7.6 0-13.8 4-15.4 9.9-4.9 18.6.2 46.3 9.4 82.3l-2.4 5.9c-6.6 16.4-14.8 33-22.1 47.6l-1 1.9c-7.7 15.3-14.6 28.4-21 39.4l-6.5 3.5c-.5.3-11.6 6.3-14.3 7.9-22.2 13.6-36.9 28.9-39.4 41.2-.8 3.9-.2 8.9 3.7 11.2l6.3 3.2c2.7 1.4 5.6 2.1 8.6 2.1 15.8 0 34.2-20.2 59.5-65.3 29.2-9.7 62.5-17.8 91.6-22.3 22.2 12.8 49.5 21.7 66.8 21.7 3.1 0 5.7-.3 7.8-.9 3.3-.9 6.1-2.8 7.8-5.4 3.4-5.2 4-12.2 3.1-19.5-.3-2.1-2-4.8-3.8-6.6-5.1-5.2-16.5-7.9-33.7-8.1-11.7-.1-25.8.9-40.6 3-6.6-3.9-13.5-8.2-18.8-13.3-14.4-13.8-26.5-32.9-34-53.9.5-2 .9-3.7 1.3-5.4 0 0 8.1-47.1 6-63.1-.3-2.2-.5-2.8-1.1-4.5l-.7-1.9c-2.2-5.2-6.5-10.7-13.3-10.4zm2.7 8.4c5.1 0 8 13.1 8.2 25.4.3 12.3-2.6 20.9-6 27.3-2.9-9.4-4.3-24.3-4.3-34-.1-.1-.3-18.7 2.1-18.7m.4 104.1c8.6 16 19.3 29.5 31.9 40.4 1.6 1.3 3.2 2.7 5 4.1-25.6 5.2-47.7 11.5-67.1 19.1 3.6-6.5 7.2-13.3 11-20.6 9.1-17.7 14.9-31.6 19.2-43m102.2 51.6c9.3 0 12 0 21.1 2.3 9.1 2.4 9.2 7.2 7.6 8.2-1.6 1-6 1.6-8.9 1.6-9.2 0-20.7-4.3-36.8-11.4 6.3-.4 11.9-.7 17-.7m-165.4 35.8c-17.7 28.8-29.5 40.3-37.3 43.8 2.9-8.1 14.3-24 31.2-38.1 1.1-.9 3.7-3.4 6.1-5.7M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96z" />',viewBox:"0 0 512 512"},config:{name:"file-config",content:'<path d="M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96zm-41.8-124.6-23.7-17.9c1-5.7 1.6-11.5 1.6-17.4 0-6-.5-11.8-1.6-17.4l23.7-17.9c3.7-2.8 4.7-7.9 2.4-11.9l-19.4-33.5c-2.3-4-7.2-5.6-11.5-3.9L318.4 215c-8.8-7.5-19-13.5-30.2-17.4l-3.7-29.5c-.6-4.6-4.5-8-9.1-8h-38.7c-4.6 0-8.5 3.4-9.1 8l-3.7 29.5c-11.1 4-21.3 9.9-30.2 17.4l-27.4-11.6c-4.2-1.8-9.2-.1-11.5 3.9l-19.4 33.5c-2.3 4-1.3 9.1 2.4 11.9l23.7 17.9c-1 5.7-1.6 11.5-1.6 17.4 0 6 .5 11.8 1.6 17.4l-23.7 17.9c-3.7 2.8-4.7 7.9-2.4 11.9l19.4 33.5c2.3 4 7.2 5.6 11.5 3.9l27.4-11.6c8.8 7.5 19 13.5 30.2 17.4l3.7 29.5c.6 4.6 4.5 8 9.1 8h38.7c4.6 0 8.5-3.4 9.1-8l3.7-29.5c11.1-4 21.3-9.9 30.2-17.4l27.4 11.6c4.2 1.8 9.2.1 11.5-3.9l19.4-33.5c2.2-4 1.2-9-2.5-11.8M256 336c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48" />',viewBox:"0 0 512 512"},zip:{name:"file-zip",content:'<path d="M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h64v32h32v32h-32v32h32v32h-32v32h32v32h-32v32h32v34.7c-18.6 6.6-32 24.4-32 45.3 0 26.5 21.5 48 48 48s48-21.5 48-48c0-20.9-13.4-38.7-32-45.3V256h32v-32h-32v-32h32v-32h-32v-32h32V96h-32V64h96v96h96zm-192-80c0 8.8-7.2 16-16 16s-16-7.2-16-16 7.2-16 16-16 16 7.2 16 16" />',viewBox:"0 0 512 512"},discImage:{name:"file-disc-image",content:'<path d="M256.1 322.7c3.7 0 7.2-1.1 10.1-3s5.2-4.5 6.7-7.6c1.2-2.5 1.9-5.2 1.9-8.1 0-10.3-8.4-18.7-18.7-18.7-2.8 0-5.4.6-7.7 1.7-3.4 1.6-6.3 4.1-8.3 7.3-1.7 2.8-2.7 6.1-2.7 9.7 0 10.4 8.3 18.7 18.7 18.7m-52.5-117.8c-19.1 10.1-34.9 25.5-45.4 44.4-9 16.1-14.1 34.7-14.1 54.4 0 61.7 50 111.7 111.7 111.7 20 0 38.8-5.3 55.1-14.5 18.6-10.6 33.9-26.4 43.9-45.4 8.1-15.5 12.7-33.1 12.7-51.8 0-61.7-50-111.7-111.7-111.7-18.9 0-36.7 4.7-52.2 12.9m89.8 99.2c0 6.1-1.4 11.8-4 16.9l48.7 25.8c-8.3 15.8-20.9 28.9-36.3 37.7l-26.6-48.3c-5.6 3.3-12.1 5.3-19.1 5.3-20.6 0-37.4-16.7-37.4-37.4 0-6.8 1.8-13.2 5-18.7l-49.2-27.1c8.8-15.7 22-28.6 38-37l26.8 49.3c5-2.5 10.7-3.9 16.7-3.9 20.7 0 37.4 16.7 37.4 37.4M352 32H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V128zm64 416H96V64h224v96h96z" />',viewBox:"0 0 512 512"}},bIt=s=>{const i=s.lastIndexOf("\\");return-1!==i?s.substr(i+1):s},Vie=s=>{const e=s.match(/\.([^\.]+)$/);return e?e[0]:""},AMe=s=>!!(s instanceof Object&&s.hasOwnProperty("name")),RMe=s=>(s.extension=s.extension||Vie(s.name),s.name=s.name,s.size=s.size||0,s.hasOwnProperty("state")||(s.state=St.Initial),s.hasOwnProperty("uid")||(s.uid=rn()),s),NMe=s=>{const i=s.name,e=s.size;return{extension:Vie(i),name:i,rawFile:s,size:e,state:St.Selected}},zie=s=>{const i=new Array;let e;for(e=0;e<s.length;e++)i.push(NMe(s[e]));return i},LMe=s=>!!(s.validationErrors&&s.validationErrors.length>0),GMe=s=>{for(const i of s)if(LMe(i))return!0;return!1},rV=(s,i)=>{const e=rn();return s.map(n=>(n.uid=i?rn():e,n))},wIt=/^(?:a|input|select|textarea|button|object)$/i,jie="k-icon k-select k-input k-multiselect-wrap",PMe="k-upload-button k-clear-selected k-upload-selected k-upload-action",FMe=s=>String(s).trim().split(" "),_R=(s,i)=>{const e=FMe(i);return!!FMe(s.className).find(n=>e.indexOf(n)>=0)},Hie=(s,i=!0)=>{if(s.tagName){const e=s.tagName.toLowerCase(),n=s.getAttribute("tabIndex"),o=null!==n&&!isNaN(n)&&n>-1;let r=!1;return r=wIt.test(e)?!s.disabled:o,r&&(!i||(s=>{const i=s.getBoundingClientRect();return!(!i.width||!i.height)&&"hidden"!==window.getComputedStyle(s).visibility})(s))}return!1},$ie=s=>null!=s;class TIt{constructor(){this._files={}}add(i,e){const n={index:0,position:0,retries:0,totalChunks:e};return this._files[i]=n,n}remove(i){this.has(i)&&(this._files[i]=null,delete this._files[i])}has(i){return i in this._files}get(i){return this._files[i]}}let sd=(()=>{class s{constructor(e){this.http=e,this.cancelEvent=new t.bkB,this.clearEvent=new t.bkB,this.completeEvent=new t.bkB,this.errorEvent=new t.bkB,this.pauseEvent=new t.bkB,this.removeEvent=new t.bkB,this.resumeEvent=new t.bkB,this.selectEvent=new t.bkB,this.successEvent=new t.bkB,this.uploadEvent=new t.bkB,this.uploadProgressEvent=new t.bkB,this.changeEvent=new t.bkB,this.async={autoUpload:!0,batch:!1,chunk:!1,concurrent:!0,removeField:"fileNames",removeHeaders:new yo,removeMethod:"POST",removeUrl:"",responseType:"json",saveField:"files",saveHeaders:new yo,saveMethod:"POST",saveUrl:"",withCredentials:!0},this.chunk={autoRetryAfter:100,size:1048576,maxAutoRetries:1,resumable:!0},this.component="Upload",this.chunkMap=new TIt,this.fileList=new cIt}get files(){return this.fileList}setChunkSettings(e){!1!==e&&(this.async.chunk=!0,"object"==typeof e&&(this.chunk=Object.assign({},this.chunk,e)))}onChange(){const e=this.fileList.filesFlat.filter(n=>n.state===St.Initial||n.state===St.Uploaded);this.changeEvent.emit(e.length>0?e:null)}addFiles(e){const n=new _It(e);if(this.selectEvent.emit(n),!n.isDefaultPrevented()){for(const o of e)this.fileList.add(o);this.async.autoUpload&&this.uploadFiles()}if("FileSelect"===this.component){const o=this.fileList.filesFlat;this.changeEvent.emit(o.length>0?o:null)}}addInitialFiles(e){this.fileList.clear(),e.forEach(n=>{const o=RMe(n);this.fileList.add(o)})}addInitialFileSelectFiles(e){this.fileList.clear(),e.forEach(n=>{n instanceof File?this.fileList.add((s=>{const i=NMe(s);return i.uid=rn(),i.state=St.Selected,i})(n)):this.fileList.add(RMe(n))})}resumeFile(e){const n=this.fileList.get(e);this.resumeEvent.emit(new mIt(n[0])),this.fileList.setFilesStateByUid(e,St.Uploading),this._uploadFiles([n])}pauseFile(e){const n=this.fileList.get(e)[0];this.pauseEvent.emit(new pIt(n)),this.fileList.setFilesStateByUid(e,St.Paused)}removeFiles(e){const n=this.fileList.get(e),o=new fIt(n,this.cloneRequestHeaders(this.async.removeHeaders));if(this.removeEvent.emit(o),!o.isDefaultPrevented())if("Upload"!==this.component||n[0].state!==St.Uploaded&&n[0].state!==St.Initial){if(this.fileList.remove(e),"FileSelect"===this.component){const r=this.fileList.filesFlat;this.changeEvent.emit(r.length>0?r:null)}}else this.performRemove(n,o)}cancelFiles(e){const n=this.fileList.get(e),o=new dIt(n);this.cancelEvent.emit(o);for(const r of n)r.httpSubscription&&r.httpSubscription.unsubscribe();this.fileList.remove(e),this.checkAllComplete()}clearFiles(){const e=new uIt;if(this.clearEvent.emit(e),!e.isDefaultPrevented()){const n=this.fileList.hasFileWithState([St.Initial,St.Uploaded]);this.fileList.clear(),n&&this.onChange()}}uploadFiles(){let e=[];this.async.concurrent&&(e=this.fileList.filesToUpload),!this.async.concurrent&&!this.fileList.hasFileWithState([St.Uploading])&&(e=this.fileList.firstFileToUpload?[this.fileList.firstFileToUpload]:[]),e&&e.length>0&&this._uploadFiles(e)}retryFiles(e){const n=[this.fileList.get(e)];n&&this._uploadFiles(n)}_uploadFiles(e){for(const n of e){if(n[0].state===St.Paused)return;const o=new vIt(n,this.cloneRequestHeaders(this.async.saveHeaders));if(this.uploadEvent.emit(o),o.isDefaultPrevented())this.fileList.remove(n[0].uid);else{this.fileList.setFilesState(n,St.Uploading);const r=this.performUpload(n,o);n.forEach(a=>{a.httpSubscription=r})}}}performRemove(e,n){const o=this.async,r=e.map(u=>u.name),a=this.populateRemoveFormData(r,n.data),l=this.populateRequestOptions(n.headers,!1),c=new hl(o.removeMethod,o.removeUrl,a,l);this.http.request(c).subscribe(u=>{this.onSuccess(u,e,"remove")},u=>{this.onError(u,e,"remove")})}performUpload(e,n){const o=this.async,r=this.populateUploadFormData(e,n.data),a=this.populateRequestOptions(n.headers),l=new hl(o.saveMethod,o.saveUrl,r,a);return this.http.request(l).subscribe(u=>{u.type!==Gr.UploadProgress||this.async.chunk?u instanceof Rd&&(this.onSuccess(u,e,"upload"),this.checkAllComplete()):this.onProgress(u,e)},u=>{this.onError(u,e,"upload"),this.checkAllComplete()})}onSuccess(e,n,o){if("upload"===o&&this.async.chunk){if(this.onChunkProgress(n),!this.isChunkUploadComplete(n[0].uid))return this.updateChunkInfo(n[0].uid),void this._uploadFiles([n]);this.removeChunkInfo(n[0].uid)}const r=new gIt(n,o,e);this.successEvent.emit(r),"upload"===o?this.fileList.setFilesState(n,r.isDefaultPrevented()?St.Failed:St.Uploaded):r.isDefaultPrevented()||this.fileList.remove(n[0].uid),r.isDefaultPrevented()||this.onChange()}onError(e,n,o){if("upload"===o&&this.async.chunk){const a=this.chunk.maxAutoRetries,l=this.chunkMap.get(n[0].uid);if(l.retries<a)return l.retries+=1,void setTimeout(()=>{this.retryFiles(n[0].uid)},this.chunk.autoRetryAfter)}const r=new hIt(n,o,e);this.errorEvent.emit(r),"upload"===o&&this.fileList.setFilesState(n,St.Failed)}onProgress(e,n){const o=Math.round(100*e.loaded/e.total),r=new xMe(n,o<100?o:100);this.uploadProgressEvent.emit(r)}onChunkProgress(e){const n=this.chunkMap.get(e[0].uid);let o=0;n&&(o=n.index===n.totalChunks-1?100:Math.round((n.index+1)/n.totalChunks*100));const r=new xMe(e,o<100?o:100);this.uploadProgressEvent.emit(r)}checkAllComplete(){!this.fileList.hasFileWithState([St.Uploading,St.Paused])&&this.areAllSelectedFilesHandled()?this.completeEvent.emit():this.shouldUploadNextFile()&&this.uploadFiles()}shouldUploadNextFile(){return!this.async.concurrent&&this.fileList.hasFileWithState([St.Selected])&&!this.fileList.hasFileWithState([St.Uploading])}areAllSelectedFilesHandled(){return 0===this.fileList.getFilesWithState(St.Selected).filter(n=>!n.validationErrors).length}cloneRequestHeaders(e){const n={};return e&&e.keys().forEach(o=>{n[o]=e.get(o)}),new yo(n)}populateRequestOptions(e,n=!0){return{headers:e,reportProgress:n,responseType:this.async.responseType,withCredentials:this.async.withCredentials}}populateUploadFormData(e,n){const o=this.async.saveField,r=new FormData;if(this.populateClientFormData(r,n),this.async.chunk)r.append(o,this.getNextChunk(e[0])),r.append("metadata",this.getChunkMetadata(e[0]));else for(const a of e)r.append(o,a.rawFile);return r}populateRemoveFormData(e,n){const o=new FormData;this.populateClientFormData(o,n);for(const r of e)o.append(this.async.removeField,r);return o}populateClientFormData(e,n){for(const o in n)n.hasOwnProperty(o)&&e.append(o,n[o])}getNextChunk(e){const n=this.getChunkInfo(e);return e.rawFile.slice(n.position,n.position+this.chunk.size)}getChunkInfo(e){let n=this.chunkMap.get(e.uid);if(!n){const o=e.size>0?Math.ceil(e.size/this.chunk.size):1;n=this.chunkMap.add(e.uid,o)}return n}updateChunkInfo(e){const n=this.chunkMap.get(e);n.index<n.totalChunks-1&&(n.index+=1,n.position+=this.chunk.size,n.retries=0)}removeChunkInfo(e){this.chunkMap.remove(e)}getChunkMetadata(e){const n=this.chunkMap.get(e.uid);return JSON.stringify({chunkIndex:n.index,contentType:e.rawFile.type,fileName:e.name,fileSize:e.size,fileUid:e.uid,totalChunks:n.totalChunks})}isChunkUploadComplete(e){const n=this.chunkMap.get(e);return!!n&&n.index+1===n.totalChunks}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(js))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),bg=(()=>{class s{constructor(e,n){this.uploadService=e,this.zone=n,this.onActionButtonFocus=new t.bkB,this.onFileAction=new t.bkB,this.onFileFocus=new t.bkB,this.onTabOut=new t.bkB,this.onWrapperFocus=new t.bkB,this.onSelectButtonFocus=new t.bkB,this.actionButtonsVisible=!1,this.focused=!1,this._focusedIndex=-1}action(e){return this.keyBindings[e.keyCode]}process(e,n){const o=this.action(e);o&&o(e,n)}computeKeys(){this.keyBindings={[F.Space]:()=>this.handleSpace(),[F.Enter]:()=>this.handleEnter(),[F.Escape]:()=>this.handleEscape(),[F.Delete]:()=>this.handleDelete(),[F.Tab]:(e,n)=>this.handleTab(e.shiftKey,n),[F.ArrowUp]:e=>this.handleUp(e),[F.ArrowDown]:e=>this.handleDown(e)}}focusSelectButton(){this.focused=!0,this._focusedIndex=-1,this.onSelectButtonFocus.emit()}handleEnter(){this.lastIndex>=0&&this.focusedIndex>=0&&this.focusedIndex<=this.lastFileIndex&&this.zone.run(()=>this.onFileAction.emit(F.Enter))}handleSpace(){this.lastIndex>=0&&this.focusedIndex>=0&&this.focusedIndex<=this.lastFileIndex&&this.zone.run(()=>this.onFileAction.emit(F.Space))}handleDelete(){this.focusedIndex>=0&&this.focusedIndex<=this.lastFileIndex&&this.zone.run(()=>this.onFileAction.emit(F.Delete))}handleEscape(){this.focusedIndex>=0&&this.focusedIndex<=this.lastFileIndex&&this.zone.run(()=>this.onFileAction.emit(F.Escape))}handleTab(e,n){if(-1!==this.focusedIndex||!this.actionButtonsVisible||e){if(this.focusedIndex>-1&&this.focusedIndex<=this.lastFileIndex)if(e)this.focusedIndex=-1;else if("fileselect"!==n&&this.actionButtonsVisible)return void(this.focusedIndex=this.lastFileIndex+1);this.focusedIndex!==this.lastFileIndex+1?this.focusedIndex===this.lastIndex&&this.actionButtonsVisible&&e?this.focusedIndex-=1:this.onTabOut.emit():this.focusedIndex=e?-1:this.lastIndex}else this.focusedIndex=this.lastFileIndex+1}handleDown(e){this.lastIndex>=0&&this.focusedIndex<this.lastIndex&&(e.preventDefault(),this.zone.run(()=>{if(this.focusedIndex<this.lastFileIndex)return this.focusedIndex+=1,void this.onFileFocus.emit(this.focusedIndex)}))}handleUp(e){this.lastIndex>=0&&this.focusedIndex>-1&&(e.preventDefault(),this.zone.run(()=>{this.focusedIndex-=1,-1!==this.focusedIndex?this.focusedIndex<=this.lastFileIndex?this.onFileFocus.emit(this.focusedIndex):this.actionButtonsVisible&&this.focusedIndex<=this.lastIndex&&(this.focusedIndex=this.lastFileIndex,this.onFileFocus.emit(this.focusedIndex)):this.onSelectButtonFocus.emit()}))}get focusedIndex(){return this._focusedIndex}set focusedIndex(e){this.focused||this.onWrapperFocus.emit(),this._focusedIndex=e,this.focused=!0,this._focusedIndex>=0&&this._focusedIndex<=this.lastFileIndex&&this.onFileFocus.emit(e)}get lastFileIndex(){return this.actionButtonsVisible?this.lastIndex-2:this.lastIndex}get lastIndex(){const e=this.uploadService.files.count;return this.actionButtonsVisible?e+1:e-1}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(sd),t.KVO(t.SKi))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const aV={};let AD=(()=>{class s{addComponent(e,n){this.has(n)?aV[n].push(e):aV[n]=[e]}getComponents(e){return aV[e]}has(e){return e in aV}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const UMe={name:"@progress/kendo-angular-upload",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925202,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};let Xie=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoUploadFileTemplate",""],["","kendoFileSelectFileTemplate",""]]}),s})(),Eg=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoUploadFileInfoTemplate",""],["","kendoFileSelectFileInfoTemplate",""]]}),s})(),Wie=(()=>{class s{constructor(e,n,o){this.navigationService=n,this.uploadService=o,this.fileClass=!0,this.focused=!1,this.element=e}focus(){this.element.nativeElement.focus()}get uidAttribute(){return this.files[0].uid}get tabIndex(){return"-1"}get kFileError(){return this.files[0].state===St.Failed}get kFileInvalid(){return GMe(this.files)}get kFileProgress(){return this.files[0].state===St.Uploading||this.files[0].state===St.Paused}get kFileSuccess(){return"Upload"===this.uploadService.component&&(this.files[0].state===St.Uploaded||this.files[0].state===St.Initial)}get kStateFocused(){return this.focused}onFocus(){this.focused=!0}onBlur(){this.focused=!1}onClick(e){!Hie(e.target)&&!_R(e.target,jie)&&(this.navigationService.focusedIndex=this.index)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(bg),t.rXU(sd))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoUploadFileListItem",""]],hostVars:14,hostBindings:function(e,n){1&e&&t.bIt("focus",function(){return n.onFocus()})("blur",function(){return n.onBlur()})("click",function(r){return n.onClick(r)}),2&e&&(t.BMQ("data-uid",n.uidAttribute)("tabIndex",n.tabIndex),t.AVh("k-file",n.fileClass)("k-file-error",n.kFileError)("k-file-invalid",n.kFileInvalid)("k-file-progress",n.kFileProgress)("k-file-success",n.kFileSuccess)("k-focus",n.kStateFocused))},inputs:{files:"files",index:"index"}}),s})(),BMe=(()=>{class s{constructor(e){this.uploadService=e,this.progressComplete=0}subscribeUploadProgress(e){this.uploadProgressSubscription=this.uploadService.uploadProgressEvent.subscribe(e)}fileHasValidationErrors(e){return LMe(e)}filesHaveValidationErrors(e){return GMe(e)}ngOnDestroy(){this.uploadProgressSubscription.unsubscribe()}getFileValidationMessage(e){let n;return e.validationErrors&&e.validationErrors.length>0&&(n=this.localization.get(e.validationErrors[0])),n}getTotalFilesSizeMessage(e){return(s=>{let e,i=0;if("number"!=typeof s[0].size)return"";for(e=0;e<s.length;e++)s[e].size&&(i+=s[e].size);return i/=1024,i<1024?i.toFixed(2)+" KB":(i/1024).toFixed(2)+" MB"})(e)}textFor(e){return this.localization.get(e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(sd))},s.\u0275cmp=t.VBU({type:s,selectors:[["ng-component"]],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),Yie=(()=>{class s{constructor(e,n,o){this.uploadService=e,this.localization=n,this.navigation=o,this.actionFocused=!1,this.retryFocused=!1,this.pauseResumeFocused=!1,this.retrySVGIcon=VW,this.playSVGIcon=kY,this.pauseSVGIcon=hP,this.cancelSVGIcon=Fk,this.deleteSVGIcon=wo}onFocus(e){"action"===e&&(this.actionFocused=!0),"retry"===e&&(this.retryFocused=!0),"pauseResume"===e&&(this.pauseResumeFocused=!0)}onBlur(e){"retry"===e&&(this.retryFocused=!1),"action"===e&&(this.actionFocused=!1),"pauseResume"===e&&(this.pauseResumeFocused=!1)}onRetryClick(){this.disabled||this.uploadService.retryFiles(this.file.uid)}onRemoveCancelClick(e){if(this.disabled)return;e.stopImmediatePropagation();const n=this.file.uid;this.file.state===St.Uploading?this.uploadService.cancelFiles(n):this.uploadService.removeFiles(n),this.navigation.focusSelectButton()}onPauseResumeClick(){if(this.disabled)return;const e=this.file.uid;this.file.state===St.Paused?this.uploadService.resumeFile(e):this.uploadService.pauseFile(e)}get actionButtonTitle(){return this.localization.get(this.file.state===St.Uploading?"cancel":"remove")}get retryButtonTitle(){return this.localization.get("retry")}get pauseResumeButtonTitle(){return this.localization.get(this.file.state===St.Uploading?"pause":"resume")}get isUploading(){return this.file.state===St.Uploading}get isFailed(){return this.file.state===St.Failed}get isPaused(){return this.file.state===St.Paused}get isResumable(){const e=this.uploadService;return e.async.chunk&&e.chunk.resumable&&(this.file.state===St.Paused||this.file.state===St.Uploading)}get isActionButtonVisible(){return!((this.file.state===St.Uploaded||this.file.state===St.Initial)&&!this.uploadService.async.removeUrl&&"Upload"===this.uploadService.component)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(sd),t.rXU(j),t.rXU(bg))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-upload-file-list-item-action-button"]],inputs:{file:"file",disabled:"disabled",progress:"progress"},decls:5,vars:4,consts:[[1,"k-upload-actions"],["class","k-upload-pct",4,"ngIf"],["type","button","class","k-button k-icon-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-upload-action",3,"ngClass","focus","blur","click",4,"ngIf"],["class","k-button k-icon-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-upload-action","type","button",3,"ngClass","focus","blur","click",4,"ngIf"],[1,"k-upload-pct"],["type","button",1,"k-button","k-icon-button","k-button-md","k-rounded-md","k-button-flat","k-button-flat-base","k-upload-action",3,"focus","blur","click","ngClass"],["name","refresh-sm","innerCssClass","k-retry",3,"svgIcon"],[3,"name","svgIcon"],[3,"name","svgIcon","innerCssClass"]],template:function(e,n){1&e&&(t.j41(0,"span",0),t.DNE(1,UMt,2,1,"span",1)(2,BMt,2,8,"button",2)(3,VMt,2,9,"button",2)(4,zMt,2,10,"button",3),t.k0s()),2&e&&(t.R7$(),t.Y8G("ngIf",n.isUploading||n.isPaused),t.R7$(),t.Y8G("ngIf",n.isFailed),t.R7$(),t.Y8G("ngIf",n.isResumable),t.R7$(),t.Y8G("ngIf",n.isActionButtonVisible))},dependencies:[Ke,W,Pe],encapsulation:2}),s})(),VMe=(()=>{class s extends BMe{constructor(e,n){super(n),this.localization=e,this.subscribeUploadProgress(o=>{o.files[0].uid===this.file.uid&&(this.progressComplete=o.percentComplete)})}get fileStatusText(){const e=this.file.validationErrors;return this.file.state===St.Uploaded?`${this.textFor("fileStatusUploaded")}`:this.file.state===St.Failed?`${this.textFor("fileStatusFailed")}`:$ie(e)?this.getFileValidationMessage(this.file):this.getTotalFilesSizeMessage([this.file])}get showProgress(){return this.file.state===St.Uploading||this.file.state===St.Paused?"active":"inactive"}get fileGroupClass(){return(s=>{const i="file";for(const e in oV)if(oV[e].indexOf(s)>=0)return"discImage"===e?`${i}-disc-image`:`${i}-${e}`;return i})(this.file.extension?this.file.extension:"")}get fileSVGGroupIcon(){const e=Fme;if(this.file.extension)for(const n in oV)if(oV[n].indexOf(this.file.extension)>=0)return SIt[n];return e}get isUploadSuccessful(){return this.file.state===St.Uploaded}get isUploadFailed(){return this.file.state===St.Failed}get isNotYetUploaded(){return!this.isUploadFailed&&!this.isUploadSuccessful}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j),t.rXU(sd))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-upload-file-list-single-item"]],inputs:{disabled:"disabled",file:"file",fileInfoTemplate:"fileInfoTemplate"},features:[t.Vt3],decls:7,vars:11,consts:[[3,"value","label"],[1,"k-file-icon-wrapper"],["size","xxlarge","innerCssClass","k-file-icon",3,"name","svgIcon"],[1,"k-file-info"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"file","disabled","progress"],[1,"k-file-name",3,"title"],[3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&(t.nrm(0,"kendo-progressbar",0),t.j41(1,"span",1),t.nrm(2,"kendo-icon-wrapper",2),t.k0s(),t.j41(3,"span",3),t.DNE(4,$Mt,5,9,"ng-container",4)(5,XMt,1,8,"ng-container",5),t.k0s(),t.nrm(6,"kendo-upload-file-list-item-action-button",6)),2&e&&(t.Y8G("@progressState",n.showProgress)("value",n.progressComplete)("label",t.lJ4(10,TMe)),t.R7$(2),t.Y8G("name",n.fileGroupClass)("svgIcon",n.fileSVGGroupIcon),t.R7$(2),t.Y8G("ngIf",!n.fileInfoTemplate),t.R7$(),t.Y8G("ngIf",n.fileInfoTemplate),t.R7$(),t.Y8G("file",n.file)("disabled",n.disabled)("progress",n.progressComplete))},dependencies:[MU,Ke,Yie,W,Pe,Je],encapsulation:2,data:{animation:[o_("progressState",[Od("active",We({opacity:1})),Od("inactive",We({opacity:0})),mo("void => active",We({opacity:0})),mo("inactive => active",We({opacity:1})),mo("active => inactive",hi("1s 2s ease-out"))])]}}),s})(),zMe=(()=>{class s extends BMe{constructor(e,n){super(n),this.localization=e,this.copySVGIcon=Zfe,this.subscribeUploadProgress(o=>{o.files[0].uid===this.files[0].uid&&(this.progressComplete=o.percentComplete)})}get showProgress(){return this.files[0].state===St.Uploading||this.files[0].state===St.Paused?"active":"inactive"}ngOnInit(){this.filesHaveErrors=super.filesHaveValidationErrors(this.files)}fileStatusText(e){return $ie(e.validationErrors)?this.getFileValidationMessage(e):this.getTotalFilesSizeMessage([e])}get batchStatusText(){const e=this.files[0].state,n=this.files.length;return e===St.Uploaded?`${n} ${this.textFor("filesBatchStatusUploaded")}`:e===St.Failed?`${n} ${this.textFor("filesBatchStatusFailed")}`:`${n} ${this.textFor("filesBatchStatus")}`}get isUploadSuccessful(){return this.files[0].state===St.Uploaded}get isUploadFailed(){return this.files[0].state===St.Failed}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j),t.rXU(sd))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-upload-file-list-multiple-items"]],inputs:{disabled:"disabled",files:"files",fileInfoTemplate:"fileInfoTemplate"},features:[t.Vt3],decls:7,vars:10,consts:[[3,"value","label"],[1,"k-file-icon-wrapper"],["name","copy","size","xxlarge","innerCssClass","k-file-icon",3,"svgIcon"],[1,"k-multiple-files-wrapper"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"file","disabled","progress"],["class","k-file-info",4,"ngFor","ngForOf"],[1,"k-file-summary"],[1,"k-file-info"],[1,"k-file-name",3,"title"],[3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&(t.nrm(0,"kendo-progressbar",0),t.j41(1,"span",1),t.nrm(2,"kendo-icon-wrapper",2),t.k0s(),t.j41(3,"span",3),t.DNE(4,KMt,4,2,"ng-container",4)(5,JMt,1,6,"ng-container",5),t.k0s(),t.nrm(6,"kendo-upload-file-list-item-action-button",6)),2&e&&(t.Y8G("@progressState",n.showProgress)("value",n.progressComplete)("label",t.lJ4(9,TMe)),t.R7$(2),t.Y8G("svgIcon",n.copySVGIcon),t.R7$(2),t.Y8G("ngIf",!n.fileInfoTemplate),t.R7$(),t.Y8G("ngIf",n.fileInfoTemplate),t.R7$(),t.Y8G("file",n.files[0])("disabled",n.disabled)("progress",n.progressComplete))},dependencies:[MU,Ke,Yie,W,st,Pe,Je],encapsulation:2,data:{animation:[o_("progressState",[Od("active",We({opacity:1})),Od("inactive",We({opacity:0})),mo("void => active",We({opacity:0})),mo("inactive => active",We({opacity:1})),mo("active => inactive",hi("1s 2s ease-out"))])]}}),s})(),Kie=(()=>{class s{constructor(e,n){this.uploadService=e,this.navigation=n,this.onItemFocus(),this.onItemAction()}onItemFocus(){this.focusSubscription=this.navigation.onFileFocus.subscribe(e=>{this.fileListItems.toArray()[e].focus()})}onItemAction(){this.actionSubscription=this.navigation.onFileAction.subscribe(e=>{this.itemActionHandler(e)})}itemActionHandler(e){const n=this.navigation.focusedIndex,o=this.fileListItems.toArray()[n],r=o.uidAttribute,a=this.uploadService.files.get(r);if(e===F.Escape&&a[0].state===St.Uploading)return this.uploadService.cancelFiles(r),void this.navigation.focusSelectButton();e!==F.Enter||a[0].state!==St.Failed?(e===F.Delete&&(a[0].state===St.Uploading?this.uploadService.cancelFiles(r):this.hasDelete(o)&&this.uploadService.removeFiles(r),this.navigation.focusSelectButton()),e===F.Space&&a[0].state!==St.Uploaded&&this.uploadService.async.chunk&&(a[0].state===St.Paused?this.uploadService.resumeFile(r):this.uploadService.pauseFile(r))):this.uploadService.retryFiles(r)}hasDelete(e){return e.element.nativeElement.getElementsByClassName("k-delete").length>0}ngOnDestroy(){this.focusSubscription.unsubscribe(),this.actionSubscription.unsubscribe()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(sd),t.rXU(bg))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendo-upload-file-list",""]],viewQuery:function(e,n){if(1&e&&t.GBs(Wie,5),2&e){let o;t.mGM(o=t.lsd())&&(n.fileListItems=o)}},inputs:{disabled:"disabled",fileList:"fileList",fileTemplate:"fileTemplate",fileInfoTemplate:"fileInfoTemplate"},attrs:qMt,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["kendoUploadFileListItem","",3,"files","index"],["class","k-file-single",3,"disabled","file","fileInfoTemplate",4,"ngIf"],["class","k-file-multiple",3,"disabled","files","fileInfoTemplate",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[1,"k-file-single",3,"disabled","file","fileInfoTemplate"],[1,"k-file-multiple",3,"disabled","files","fileInfoTemplate"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&t.DNE(0,tIt,4,5,"ng-template",0),2&e&&t.Y8G("ngForOf",n.fileList)},dependencies:[VMe,zMe,st,Wie,W,Je],encapsulation:2}),s})(),lV=(()=>{class s extends Gi{}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275dir=t.FsC({type:s,inputs:{cancel:"cancel",clearSelectedFiles:"clearSelectedFiles",dropFilesHere:"dropFilesHere",externalDropFilesHere:"externalDropFilesHere",filesBatchStatus:"filesBatchStatus",filesBatchStatusFailed:"filesBatchStatusFailed",filesBatchStatusUploaded:"filesBatchStatusUploaded",fileStatusFailed:"fileStatusFailed",fileStatusUploaded:"fileStatusUploaded",headerStatusPaused:"headerStatusPaused",headerStatusUploaded:"headerStatusUploaded",headerStatusUploading:"headerStatusUploading",invalidFileExtension:"invalidFileExtension",invalidMaxFileSize:"invalidMaxFileSize",invalidMinFileSize:"invalidMinFileSize",pause:"pause",remove:"remove",resume:"resume",retry:"retry",select:"select",uploadSelectedFiles:"uploadSelectedFiles"},features:[t.Vt3]}),s})(),cV=(()=>{class s extends lV{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoUploadLocalizedMessages",""],["","kendoFileSelectLocalizedMessages",""],["","kendoUploadDropZoneLocalizedMessages",""]],features:[t.Jv_([{provide:lV,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})();const jMe="invalidMaxFileSize",HMe="invalidMinFileSize",$Me="invalidFileExtension",MIt=(s,i)=>{i.length>0&&i.indexOf(s.extension.toLowerCase())<0&&(s.validationErrors=s.validationErrors||[],s.validationErrors.indexOf($Me)<0&&s.validationErrors.push($Me))},IIt=(s,i,e)=>{0!==i&&s.size<i&&(s.validationErrors=s.validationErrors||[],s.validationErrors.indexOf(HMe)<0&&s.validationErrors.push(HMe)),0!==e&&s.size>e&&(s.validationErrors=s.validationErrors||[],s.validationErrors.indexOf(jMe)<0&&s.validationErrors.push(jMe))},Jie=(s,i)=>{const e=(s=>s.map(e=>("."===e.substring(0,1)?e:"."+e).toLowerCase()))(i.allowedExtensions),n=i.maxFileSize,o=i.minFileSize;let r;for(r=0;r<s.length;r++)MIt(s[r],e),IIt(s[r],o,n)};let XMe=(()=>{class s{constructor(e,n,o){this.element=e,this.renderer=n,this.hideIntervalElement=null,this.hoverClass=o}onElementDragEnterListener(){return this.addClass(this.hoverClass),this.lastDragElement=new Date,this.hideIntervalElement||(this.hideIntervalElement=setInterval(()=>{this.calculateTimeDiff(this.lastDragElement)<100||(this.removeClass(this.hoverClass),clearInterval(this.hideIntervalElement),this.hideIntervalElement=null)},100)),!1}onElementDragOverListener(){return this.lastDragElement=new Date,!1}calculateTimeDiff(e){return(new Date).getTime()-e.getTime()}addClass(e){this.renderer.addClass(this.element.nativeElement,e)}removeClass(e){this.renderer.removeClass(this.element.nativeElement,e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU("hoverClass"))},s.\u0275dir=t.FsC({type:s,hostBindings:function(e,n){1&e&&t.bIt("dragenter",function(){return n.onElementDragEnterListener()})("dragover",function(){return n.onElementDragOverListener()})}}),s})(),qie=(()=>{class s extends XMe{constructor(e,n,o,r){super(e,n,"k-hover"),this.ngZone=o,this.uploadService=r,this.initialClassName=!0,this.hideIntervalDocument=null,this.activeClass="k-dropzone-active",this.ngZone.runOutsideAngular(()=>{this.unsubscribeDocumentDragEnter=this.renderer.listen("document","dragenter",()=>this.onDocumentDragEnter()),this.unsubscribeDocumentDragOver=this.renderer.listen("document","dragover",()=>this.onDocumentDragOver())})}ngOnDestroy(){this.ngZone.runOutsideAngular(()=>{this.unsubscribeDocumentDragEnter&&this.unsubscribeDocumentDragEnter(),this.unsubscribeDocumentDragOver&&this.unsubscribeDocumentDragOver()})}onDocumentDragEnter(){return this.addClass(this.activeClass),this.lastDragDocument=new Date,this.hideIntervalDocument||(this.hideIntervalDocument=setInterval(()=>{this.calculateTimeDiff(this.lastDragDocument)<100||(this.removeClass(this.activeClass),clearInterval(this.hideIntervalDocument),this.hideIntervalDocument=null)},100)),!1}onDocumentDragOver(){return this.lastDragDocument=new Date,!1}onDropListener(e){const n=e.dataTransfer.files;if(n.length>0&&!this.disabled){let o=zie(n);o=rV(o,!this.uploadService.async.batch),this.multiple||(o.splice(1,o.length-1),this.uploadService.clearFiles()),Jie(o,this.restrictions),this.uploadService.addFiles(o)}return!1}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.SKi),t.rXU(sd))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoUploadInternalDropZone",""],["","kendoFileSelectInternalDropZone",""]],hostVars:4,hostBindings:function(e,n){1&e&&t.bIt("drop",function(r){return n.onDropListener(r)}),2&e&&t.AVh("k-dropzone",n.initialClassName)("k-upload-dropzone",n.initialClassName)},inputs:{disabled:"disabled",multiple:"multiple",restrictions:"restrictions"},features:[t.Vt3]}),s})(),Qie=(()=>{class s{constructor(e,n,o){this.uploadService=e,this.navigation=n,this.type="file",this.autocomplete="off",this.tabIndex=-1,this.ariaHidden=!0,this.classNames=!0,this.element=o}get nameAttribute(){return this.uploadService.async.saveField}get multipleAttribute(){return this.multiple?"multiple":null}get dirAttribute(){return this.dir}get disabledAttribute(){return this.disabled?"true":null}get acceptAttribute(){return this.accept?this.accept:null}onInputChange(e){const n=navigator.userAgent;let a=(s=>s.files?zie(s.files):s.value.split("|").map((e,n)=>{const o=e.trim();return{extension:Vie(o),name:bIt(o),rawFile:null,size:1e3*(n+1),state:St.Selected}}))(e.target);a=rV(a,!this.uploadService.async.batch),Jie(a,this.restrictions),this.multiple||this.uploadService.clearFiles(),this.uploadService.addFiles(a);const l=this.element.nativeElement;(n.match(/(webkit)[ \/]([\w.]+)/i)||n.match(/(windows)[ \/]([\w.]+)/i))&&(l.type="",l.type="file"),setTimeout(()=>{this.navigation.focusedIndex=-1})}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(sd),t.rXU(bg),t.rXU(t.aKT))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoFileSelect",""]],hostVars:11,hostBindings:function(e,n){1&e&&t.bIt("change",function(r){return n.onInputChange(r)}),2&e&&(t.BMQ("type",n.type)("autocomplete",n.autocomplete)("tabindex",n.tabIndex)("aria-hidden",n.ariaHidden)("name",n.nameAttribute)("multiple",n.multipleAttribute)("dir",n.dirAttribute)("disabled",n.disabledAttribute)("accept",n.acceptAttribute),t.AVh("k-hidden",n.classNames))},inputs:{dir:"dir",disabled:"disabled",multiple:"multiple",restrictions:"restrictions",accept:"accept"}}),s})();const AIt={multi:!0,provide:Yn,useExisting:(0,t.Rfq)(()=>Zie)};let RIt=0,Zie=(()=>{class s{constructor(e,n,o,r,a,l,c,u){this.uploadService=e,this.localization=n,this.navigation=o,this.dropZoneService=r,this.ngZone=a,this.renderer=l,this.cdr=c,this.disabled=!1,this.multiple=!0,this.showFileList=!0,this.tabindex=0,this.focusableId=`k-${rn()}`,this.onBlur=new t.bkB,this.onFocus=new t.bkB,this.select=new t.bkB,this.remove=new t.bkB,this.valueChange=new t.bkB,this.hostDefaultClasses=!0,this._restrictions={allowedExtensions:[],maxFileSize:0,minFileSize:0},this.onTouchedCallback=f=>{},this.onChangeCallback=f=>{},(0,mt.$)(UMe),this.wrapper=u.nativeElement,this.direction=n.rtl?"rtl":"ltr",this.navigation.computeKeys(),this.fileList=this.uploadService.files,this.localizationChangeSubscription=n.changes.subscribe(({rtl:f})=>{this.direction=f?"rtl":"ltr"}),this.subscribeBlur(),this.subscribeFocus(),this.attachEventHandlers(),this.setDefaultSettings()}set name(e){this.uploadService.async.saveField=e}get name(){return this.uploadService.async.saveField}set restrictions(e){const n=Object.assign({},this._restrictions,e);this._restrictions=n}get restrictions(){return this._restrictions}get hostDisabledClass(){return this.disabled}get dir(){return this.direction}get hostRole(){return"application"}ngOnInit(){const{buttonId:e,inputId:n}=this.getIds();this.focusableId=e,this.inputElementId=n,this.zoneId&&this.dropZoneService.addComponent(this,this.zoneId),this.subs.add(this.renderer.listen(this.fileSelectInput.nativeElement,"mouseenter",()=>{this.renderer.addClass(this.fileSelectButton.nativeElement,"k-hover")})),this.subs.add(this.renderer.listen(this.fileSelectInput.nativeElement,"mouseleave",()=>{this.renderer.removeClass(this.fileSelectButton.nativeElement,"k-hover")})),this.ngZone.runOutsideAngular(()=>{this.subs.add(this.renderer.listen(this.wrapper,"keydown",o=>this.handleKeydown(o)))})}textFor(e){return this.localization.get(e)}focus(){setTimeout(()=>{this.fileSelectButton.nativeElement.focus(),this.navigation.focused=!0,this.onFocus.emit()})}ngOnDestroy(){this.fileList.clear(),this.blurSubscription&&this.blurSubscription.unsubscribe(),this.wrapperFocusSubscription&&this.wrapperFocusSubscription.unsubscribe(),this.selectButtonFocusSubscription&&this.selectButtonFocusSubscription.unsubscribe(),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.subs&&this.subs.unsubscribe()}writeValue(e){let n=!0;e instanceof Array&&(e.forEach(o=>{(s=>!!(s instanceof File||AMe(s)))(o)||(n=!1)}),n&&this.uploadService.addInitialFileSelectFiles(e)),null===e&&this.fileList.clear(),this.cdr.markForCheck()}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e}onFileSelectButtonFocus(){this.navigation.focused||(this.navigation.focusedIndex=-1)}removeFileByUid(e){this.uploadService.removeFiles(e)}clearFiles(){this.uploadService.clearFiles()}isEmpty(){return!1}addFiles(e){this.uploadService.addFiles(e)}get selectButtonTabIndex(){return this.disabled?void 0:this.tabindex}getIds(){const e=++RIt;return{buttonId:`k-fileselect-button-${e}`,inputId:`k-fileselect-input-${e}`}}subscribeBlur(){ne()&&this.ngZone.runOutsideAngular(()=>{this.documentClick=wt(document,"click").pipe(z(e=>!(this.wrapper!==e.target&&this.wrapper.contains(e.target)))),this.blurSubscription=Ht(this.documentClick,this.navigation.onTabOut).subscribe(()=>{this.navigation.focused&&this.ngZone.run(()=>{this.navigation.focused=!1,this.onTouchedCallback(),this.onBlur.emit()})})})}subscribeFocus(){this.wrapperFocusSubscription=this.navigation.onWrapperFocus.subscribe(()=>{this.onFocus.emit()}),this.selectButtonFocusSubscription=this.navigation.onSelectButtonFocus.subscribe(()=>{this.fileSelectButton.nativeElement.focus()})}handleKeydown(e){if(!this.disabled){if(e.target===this.fileSelectButton.nativeElement&&(e.keyCode===F.Enter||e.keyCode===F.Space))return e.preventDefault(),void this.fileSelectInput.nativeElement.click();(_R(e.target,PMe)||!Hie(e.target)&&!_R(e.target,jie))&&this.navigation.process(e,"fileselect")}}attachEventHandlers(){this.subs=this.uploadService.changeEvent.subscribe(e=>{let n=[];null!==e&&e.forEach(o=>{o.state===St.Initial&&n.push(o),o.state===St.Selected&&o.rawFile&&!o.validationErrors&&n.push(o.rawFile)}),0===n.length&&(n=null),this.onChangeCallback(n),this.valueChange.emit(n)}),this.subs.add(this.uploadService.removeEvent.subscribe(e=>{this.remove.emit(e)})),this.subs.add(this.uploadService.selectEvent.subscribe(e=>{this.select.emit(e)}))}setDefaultSettings(){this.uploadService.async.autoUpload=!1,this.uploadService.component="FileSelect"}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(sd),t.rXU(j),t.rXU(bg),t.rXU(AD),t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(t.aKT))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-fileselect"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,Xie,5),t.wni(o,Eg,5)),2&e){let r;t.mGM(r=t.lsd())&&(n.fileTemplate=r.first),t.mGM(r=t.lsd())&&(n.fileInfoTemplate=r.first)}},viewQuery:function(e,n){if(1&e&&(t.GBs(MMe,7),t.GBs(IMe,7,t.aKT)),2&e){let o;t.mGM(o=t.lsd())&&(n.fileSelectInput=o.first),t.mGM(o=t.lsd())&&(n.fileSelectButton=o.first)}},hostVars:6,hostBindings:function(e,n){2&e&&(t.BMQ("dir",n.dir)("role",n.hostRole),t.AVh("k-upload",n.hostDefaultClasses)("k-disabled",n.hostDisabledClass))},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",name:"name",showFileList:"showFileList",tabindex:"tabindex",restrictions:"restrictions",zoneId:"zoneId",focusableId:"focusableId"},outputs:{onBlur:"blur",onFocus:"focus",select:"select",remove:"remove",valueChange:"valueChange"},exportAs:["kendoFileSelect"],features:[t.Jv_([j,bg,sd,AD,AIt,{provide:Ve,useValue:"kendo.fileselect"},{provide:as,useExisting:(0,t.Rfq)(()=>s)}])],decls:11,vars:16,consts:()=>{let i,e,n,o,r,a;return i="Rilascia qui i file per l'upload",e="Tipo di file non permesso.",n="Dimensione file troppo larga.",o="Dimensione file troppo piccola.",r="Rimuovi",a="Seleziona...",[["fileSelectButton",""],["fileSelectInput",""],["kendoFileSelectLocalizedMessages","","dropFilesHere",i,"invalidFileExtension",e,"invalidMaxFileSize",n,"invalidMinFileSize",o,"remove",r,"select",a],["kendoFileSelectInternalDropZone","",3,"restrictions","multiple","disabled"],[1,"k-upload-button-wrap"],["kendoButton","","type","button","role","button",1,"k-upload-button",3,"click","focus","id"],["kendoFileSelect","",3,"id","dir","accept","restrictions","multiple","disabled"],[1,"k-dropzone-hint"],["kendo-upload-file-list","","class","k-upload-files k-reset",3,"disabled","fileList","fileTemplate","fileInfoTemplate",4,"ngIf"],["kendo-upload-file-list","",1,"k-upload-files","k-reset",3,"disabled","fileList","fileTemplate","fileInfoTemplate"]]},template:function(e,n){if(1&e){const o=t.RV6();t.eu8(0,2),t.j41(1,"div",3)(2,"div",4)(3,"button",5,0),t.bIt("click",function(){t.eBV(o);const a=t.sdS(7);return t.Njj(a.click())})("focus",function(){return t.eBV(o),t.Njj(n.onFileSelectButtonFocus())}),t.EFF(5),t.k0s(),t.nrm(6,"input",6,1),t.k0s(),t.j41(8,"div",7),t.EFF(9),t.k0s()(),t.DNE(10,nIt,1,4,"ul",8)}2&e&&(t.R7$(),t.Y8G("restrictions",n.restrictions)("multiple",n.multiple)("disabled",n.disabled),t.R7$(2),t.Y8G("id",n.focusableId),t.BMQ("aria-label",n.textFor("select"))("tabindex",n.tabindex)("aria-controls",n.inputElementId),t.R7$(2),t.SpI(" ",n.textFor("select")," "),t.R7$(),t.Y8G("id",n.inputElementId)("dir",n.direction)("accept",n.accept)("restrictions",n.restrictions)("multiple",n.multiple)("disabled",n.disabled),t.R7$(3),t.JRh(n.textFor("dropFilesHere")),t.R7$(),t.Y8G("ngIf",n.showFileList&&n.fileList.count>0))},dependencies:[$t,Kie,cV,qie,Qie,W],encapsulation:2}),s})(),yg=(()=>{class s extends lV{constructor(e){super(),this.service=e}get override(){return!0}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-upload-messages"],["kendo-fileselect-messages"],["kendo-uploaddropzone-messages"]],features:[t.Jv_([{provide:lV,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),WMe=(()=>{class s{constructor(e){this.localization=e,this.checkmarkIcon=YC,this.exceptionSVGIcon=zk,this.uploadSVGIcon=tP,this.pauseSVGIcon=hP}get iconClass(){return this.isUploading||this.isFailed?!this.isUploading&&this.isFailed?"exception":this.isUploading?"upload":this.isPaused?"pause-sm":void 0:"checkmark"}get SVGIconClass(){return this.isUploading||this.isFailed?!this.isUploading&&this.isFailed?this.exceptionSVGIcon:this.isUploading?this.uploadSVGIcon:this.isPaused?this.pauseSVGIcon:void 0:this.checkmarkIcon}ngDoCheck(){this.isPaused=this.fileList.hasFileWithState([St.Paused]),this.isFailed=this.fileList.hasFileWithState([St.Failed]),this.isUploading=this.fileList.hasFileWithState([St.Uploading]),this.statusText=this.localization.get(this.isPaused&&!this.isUploading?"headerStatusPaused":this.isUploading?"headerStatusUploading":"headerStatusUploaded")}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-upload-status-total"]],inputs:{fileList:"fileList"},decls:2,vars:3,consts:[[3,"name","svgIcon"]],template:function(e,n){1&e&&(t.nrm(0,"kendo-icon-wrapper",0),t.EFF(1)),2&e&&(t.Y8G("name",n.iconClass)("svgIcon",n.SVGIconClass),t.R7$(),t.SpI(" ",n.statusText," "))},dependencies:[Ke],encapsulation:2}),s})(),YMe=(()=>{class s{constructor(e,n,o){this.uploadService=e,this.localization=n,this.navigation=o,this.hostDefaultClass=!0}get actionButtonsEndClassName(){return"end"===this.actionsLayout}get actionButtonsStretchedClassName(){return"stretched"===this.actionsLayout}get actionButtonsStartClassName(){return"start"===this.actionsLayout}get actionButtonsCenterClassName(){return"center"===this.actionsLayout}onUploadButtonFocus(){this.navigation.focused||(this.navigation.focusedIndex=this.navigation.lastIndex)}onUploadButtonClick(e){e.stopImmediatePropagation(),this.performUpload()}performUpload(){this.disabled||(this.uploadService.uploadFiles(),this.navigation.focusSelectButton())}onClearButtonClick(e){e.stopImmediatePropagation(),this.clearFiles()}clearFiles(){this.disabled||(this.uploadService.clearFiles(),this.navigation.focusSelectButton())}textFor(e){return this.localization.get(e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(sd),t.rXU(j),t.rXU(bg))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-upload-action-buttons"]],viewQuery:function(e,n){if(1&e&&(t.GBs(iIt,7),t.GBs(sIt,7)),2&e){let o;t.mGM(o=t.lsd())&&(n.clearButton=o.first),t.mGM(o=t.lsd())&&(n.uploadButton=o.first)}},hostVars:10,hostBindings:function(e,n){2&e&&t.AVh("k-actions",n.hostDefaultClass)("k-actions-end",n.actionButtonsEndClassName)("k-actions-stretched",n.actionButtonsStretchedClassName)("k-actions-start",n.actionButtonsStartClassName)("k-actions-center",n.actionButtonsCenterClassName)},inputs:{disabled:"disabled",actionsLayout:"actionsLayout"},decls:6,vars:2,consts:[["clearButton",""],["uploadButton",""],["role","button",1,"k-button","k-button-md","k-rounded-md","k-button-solid","k-button-solid-base","k-clear-selected",3,"click"],["role","button",1,"k-button","k-button-md","k-rounded-md","k-button-solid","k-button-solid-primary","k-upload-selected",3,"focus","click"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"button",2,0),t.bIt("click",function(a){return t.eBV(o),t.Njj(n.onClearButtonClick(a))}),t.EFF(2),t.k0s(),t.j41(3,"button",3,1),t.bIt("focus",function(){return t.eBV(o),t.Njj(n.onUploadButtonFocus())})("click",function(a){return t.eBV(o),t.Njj(n.onUploadButtonClick(a))}),t.EFF(5),t.k0s()}2&e&&(t.R7$(2),t.SpI(" ",n.textFor("clearSelectedFiles")," "),t.R7$(3),t.SpI(" ",n.textFor("uploadSelectedFiles")," "))},encapsulation:2}),s})();const NIt={multi:!0,provide:Yn,useExisting:(0,t.Rfq)(()=>Cp)};let LIt=0,Cp=(()=>{class s{constructor(e,n,o,r,a,l,c,u){this.uploadService=e,this.localization=n,this.navigation=o,this.dropZoneService=r,this.zone=a,this.renderer=l,this.cdr=c,this.chunkable=!1,this.multiple=!0,this.disabled=!1,this.showFileList=!0,this.tabindex=0,this.focusableId=`k-${rn()}`,this.actionsLayout="end",this.onBlur=new t.bkB,this.cancel=new t.bkB,this.clear=new t.bkB,this.complete=new t.bkB,this.error=new t.bkB,this.onFocus=new t.bkB,this.pause=new t.bkB,this.remove=new t.bkB,this.resume=new t.bkB,this.select=new t.bkB,this.success=new t.bkB,this.upload=new t.bkB,this.uploadProgress=new t.bkB,this.valueChange=new t.bkB,this.hostDefaultClasses=!0,this._restrictions={allowedExtensions:[],maxFileSize:0,minFileSize:0},this.onTouchedCallback=f=>{},this.onChangeCallback=f=>{},(0,mt.$)(UMe),this.fileList=this.uploadService.files,this.localizationChangeSubscription=n.changes.subscribe(({rtl:f})=>{this.direction=f?"rtl":"ltr"}),this.direction=n.rtl?"rtl":"ltr",this.navigation.computeKeys(),this.wrapper=u.nativeElement,this.subscribeBlur(),this.subscribeFocus(),this.attachEventHandlers()}set autoUpload(e){this.uploadService.async.autoUpload=e}get autoUpload(){return this.uploadService.async.autoUpload}set batch(e){this.uploadService.async.batch=e}get batch(){return this.uploadService.async.batch}set withCredentials(e){this.uploadService.async.withCredentials=e}get withCredentials(){return this.uploadService.async.withCredentials}set saveField(e){this.uploadService.async.saveField=e}get saveField(){return this.uploadService.async.saveField}set saveHeaders(e){this.uploadService.async.saveHeaders=e}get saveHeaders(){return this.uploadService.async.saveHeaders}set saveMethod(e){this.uploadService.async.saveMethod=e}get saveMethod(){return this.uploadService.async.saveMethod}set saveUrl(e){this.uploadService.async.saveUrl=e}get saveUrl(){return this.uploadService.async.saveUrl}set responseType(e){this.uploadService.async.responseType=e}get responseType(){return this.uploadService.async.responseType}set removeField(e){this.uploadService.async.removeField=e}get removeField(){return this.uploadService.async.removeField}set removeHeaders(e){this.uploadService.async.removeHeaders=e}get removeHeaders(){return this.uploadService.async.removeHeaders}set removeMethod(e){this.uploadService.async.removeMethod=e}get removeMethod(){return this.uploadService.async.removeMethod}set removeUrl(e){this.uploadService.async.removeUrl=e}get removeUrl(){return this.uploadService.async.removeUrl}set concurrent(e){this.uploadService.async.concurrent=e}get concurrent(){return this.uploadService.async.concurrent}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set restrictions(e){const n=Object.assign({},this._restrictions,e);this._restrictions=n}get restrictions(){return this._restrictions}get hostRole(){return"application"}get hostDisabledClass(){return this.disabled}get dir(){return this.direction}ngOnInit(){this.verifySettings();const{buttonId:e}=this.getIds();this.focusableId=e,this.uploadService.setChunkSettings(this.chunkable),this.zoneId&&this.dropZoneService.addComponent(this,this.zoneId),this.zone.runOutsideAngular(()=>{this.subs.add(this.renderer.listen(this.wrapper,"keydown",n=>this.handleKeydown(n)))})}ngOnChanges(e){if(Dt("chunkable",e)){const n=e.chunkable.currentValue;"boolean"==typeof n&&(this.uploadService.async.chunk=n),"object"==typeof n&&null!==n&&(this.uploadService.async.chunk=!0,this.uploadService.chunk=Object.assign({},this.uploadService.chunk,n))}}ngOnDestroy(){this.fileList.clear(),this.blurSubscription&&this.blurSubscription.unsubscribe(),this.wrapperFocusSubscription&&this.wrapperFocusSubscription.unsubscribe(),this.selectButtonFocusSubscription&&this.selectButtonFocusSubscription.unsubscribe(),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.subs&&this.subs.unsubscribe()}writeValue(e){let n=!0;e instanceof Array&&(e.forEach(o=>{AMe(o)||(n=!1)}),n&&this.uploadService.addInitialFiles(e)),null===e&&this.fileList.clear(),this.cdr.markForCheck()}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e}onFileSelectButtonFocus(){this.navigation.focused||(this.navigation.focusedIndex=-1)}get showActionButtons(){let e=!1;if(!this.autoUpload){const n=this.fileList.filesToUpload.length>0,o=this.fileList.hasFileWithState([St.Uploading]);this.concurrent&&n&&(e=!0),!this.concurrent&&n&&!o&&(e=!0)}return this.navigation.actionButtonsVisible=e,e}get showTotalStatus(){return!!this.fileList.hasFileWithState([St.Uploaded,St.Uploading,St.Failed,St.Paused])}textFor(e){return this.localization.get(e)}getIds(){const e=++LIt;return{buttonId:`k-upload-button-${e}`,inputId:`k-upload-input-${e}`}}focus(){setTimeout(()=>{this.fileSelectButton.nativeElement.focus(),this.navigation.focused=!0,this.onFocus.emit()})}focusComponent(){this.focus()}blur(){this.navigation.focused&&(this.navigation.focused=!1,document.activeElement.blur(),this.onBlur.emit())}blurComponent(){this.blur()}pauseFileByUid(e){this.uploadService.pauseFile(e)}resumeFileByUid(e){this.uploadService.resumeFile(e)}removeFilesByUid(e){this.uploadService.removeFiles(e)}retryUploadByUid(e){this.uploadService.retryFiles(e)}cancelUploadByUid(e){this.uploadService.cancelFiles(e)}uploadFiles(){this.fileList.filesToUpload.length&&this.uploadService.uploadFiles()}clearFiles(){this.uploadService.clearFiles()}addFiles(e){this.uploadService.addFiles(e)}isEmpty(){return!1}verifySettings(){if((0,t.naY)()&&this.batch&&!1!==this.chunkable)throw new Error("The file chunking functionality requires the batch setting to be disabled.")}subscribeBlur(){ne()&&this.zone.runOutsideAngular(()=>{this.documentClick=wt(document,"click").pipe(z(e=>!(this.wrapper!==e.target&&this.wrapper.contains(e.target)))),this.blurSubscription=Ht(this.documentClick,this.navigation.onTabOut).subscribe(()=>{this.navigation.focused&&this.zone.run(()=>{this.navigation.focused=!1,this.onTouchedCallback(),this.onBlur.emit()})})})}handleKeydown(e){if(!this.disabled){if(e.target===this.fileSelectButton.nativeElement&&(e.keyCode===F.Enter||e.keyCode===F.Space))return e.preventDefault(),void this.fileSelectInput.nativeElement.click();(_R(e.target,PMe)||!Hie(e.target)&&!_R(e.target,jie))&&this.navigation.process(e)}}subscribeFocus(){this.wrapperFocusSubscription=this.navigation.onWrapperFocus.subscribe(()=>{this.onFocus.emit()}),this.selectButtonFocusSubscription=this.navigation.onSelectButtonFocus.subscribe(()=>{this.fileSelectButton.nativeElement.focus()})}attachEventHandlers(){this.subs=this.uploadService.cancelEvent.subscribe(e=>{this.cancel.emit(e)}),this.subs.add(this.uploadService.changeEvent.subscribe(e=>{this.onChangeCallback(e),this.valueChange.emit(e)})),this.subs.add(this.uploadService.clearEvent.subscribe(e=>{this.clear.emit(e)})),this.subs.add(this.uploadService.completeEvent.subscribe(()=>{this.complete.emit()})),this.subs.add(this.uploadService.errorEvent.subscribe(e=>{this.error.emit(e)})),this.subs.add(this.uploadService.pauseEvent.subscribe(e=>{this.pause.emit(e)})),this.subs.add(this.uploadService.removeEvent.subscribe(e=>{this.remove.emit(e)})),this.subs.add(this.uploadService.resumeEvent.subscribe(e=>{this.resume.emit(e)})),this.subs.add(this.uploadService.selectEvent.subscribe(e=>{this.select.emit(e)})),this.subs.add(this.uploadService.successEvent.subscribe(e=>{this.success.emit(e)})),this.subs.add(this.uploadService.uploadEvent.subscribe(e=>{this.upload.emit(e)})),this.subs.add(this.uploadService.uploadProgressEvent.subscribe(e=>{this.uploadProgress.emit(e)}))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(sd),t.rXU(j),t.rXU(bg),t.rXU(AD),t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(t.aKT))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-upload"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,Xie,5),t.wni(o,Eg,5)),2&e){let r;t.mGM(r=t.lsd())&&(n.fileTemplate=r.first),t.mGM(r=t.lsd())&&(n.fileInfoTemplate=r.first)}},viewQuery:function(e,n){if(1&e&&(t.GBs(MMe,7),t.GBs(IMe,7,t.aKT)),2&e){let o;t.mGM(o=t.lsd())&&(n.fileSelectInput=o.first),t.mGM(o=t.lsd())&&(n.fileSelectButton=o.first)}},hostVars:6,hostBindings:function(e,n){2&e&&(t.BMQ("role",n.hostRole)("dir",n.dir),t.AVh("k-upload",n.hostDefaultClasses)("k-disabled",n.hostDisabledClass))},inputs:{autoUpload:"autoUpload",batch:"batch",withCredentials:"withCredentials",saveField:"saveField",saveHeaders:"saveHeaders",saveMethod:"saveMethod",saveUrl:"saveUrl",responseType:"responseType",removeField:"removeField",removeHeaders:"removeHeaders",removeMethod:"removeMethod",removeUrl:"removeUrl",chunkable:"chunkable",concurrent:"concurrent",multiple:"multiple",disabled:"disabled",showFileList:"showFileList",tabindex:"tabindex",zoneId:"zoneId",tabIndex:"tabIndex",accept:"accept",restrictions:"restrictions",focusableId:"focusableId",actionsLayout:"actionsLayout"},outputs:{onBlur:"blur",cancel:"cancel",clear:"clear",complete:"complete",error:"error",onFocus:"focus",pause:"pause",remove:"remove",resume:"resume",select:"select",success:"success",upload:"upload",uploadProgress:"uploadProgress",valueChange:"valueChange"},exportAs:["kendoUpload"],features:[t.Jv_([j,bg,sd,AD,NIt,{provide:Ve,useValue:"kendo.upload"},{provide:as,useExisting:(0,t.Rfq)(()=>s)}]),t.OA$],decls:13,vars:16,consts:()=>{let i,e,n,o,r,a,l,c,u,f,_,g,S,b,k,D,O,I,N,P;return i="Annulla",e="Cancella",n="rilascia qui i file per l'upload",o="files",r="Upload dei file fallito.",a="Upload dei file completata con successo.",l="Upload dei file fallito.",c="Upload dei file completata con successo.",u="Pausa",f="Fatto",_="Upload in corso...",g="Tipo di file non permesso.",S="Dimensione file troppo larga.",b="Dimensione file troppo piccola.",k="Pause",D="Rimuovi",O="Resume",I="Riprova",N="Seleziona...",P="Upload dei file selezionati",[["fileSelectButton",""],["fileSelectInput",""],["kendoUploadLocalizedMessages","","cancel",i,"clearSelectedFiles",e,"dropFilesHere",n,"filesBatchStatus",o,"filesBatchStatusFailed",r,"filesBatchStatusUploaded",a,"fileStatusFailed",l,"fileStatusUploaded",c,"headerStatusPaused",u,"headerStatusUploaded",f,"headerStatusUploading",_,"invalidFileExtension",g,"invalidMaxFileSize",S,"invalidMinFileSize",b,"pause",k,"remove",D,"resume",O,"retry",I,"select",N,"uploadSelectedFiles",P],["kendoUploadInternalDropZone","",3,"restrictions","multiple","disabled"],[1,"k-upload-button-wrap"],["kendoButton","","type","button","role","button",1,"k-upload-button",3,"click","focus","id"],["kendoFileSelect","",3,"dir","accept","restrictions","multiple","disabled"],["class","k-upload-status",3,"fileList",4,"ngIf"],[1,"k-dropzone-hint"],["kendo-upload-file-list","","class","k-upload-files k-reset",3,"disabled","fileList","fileTemplate","fileInfoTemplate",4,"ngIf"],[3,"disabled","actionsLayout",4,"ngIf"],[1,"k-upload-status",3,"fileList"],["kendo-upload-file-list","",1,"k-upload-files","k-reset",3,"disabled","fileList","fileTemplate","fileInfoTemplate"],[3,"disabled","actionsLayout"]]},template:function(e,n){if(1&e){const o=t.RV6();t.eu8(0,2),t.j41(1,"div",3)(2,"div",4)(3,"button",5,0),t.bIt("click",function(){t.eBV(o);const a=t.sdS(7);return t.Njj(a.click())})("focus",function(){return t.eBV(o),t.Njj(n.onFileSelectButtonFocus())}),t.EFF(5),t.k0s(),t.nrm(6,"input",6,1),t.k0s(),t.DNE(8,oIt,1,1,"kendo-upload-status-total",7),t.j41(9,"div",8),t.EFF(10),t.k0s()(),t.DNE(11,rIt,1,4,"ul",9)(12,aIt,1,2,"kendo-upload-action-buttons",10)}2&e&&(t.R7$(),t.Y8G("restrictions",n.restrictions)("multiple",n.multiple)("disabled",n.disabled),t.R7$(2),t.Y8G("id",n.focusableId),t.BMQ("aria-label",n.textFor("select"))("tabindex",n.tabindex),t.R7$(2),t.SpI(" ",n.textFor("select")," "),t.R7$(),t.Y8G("dir",n.direction)("accept",n.accept)("restrictions",n.restrictions)("multiple",n.multiple)("disabled",n.disabled),t.R7$(2),t.Y8G("ngIf",n.showTotalStatus),t.R7$(2),t.JRh(n.textFor("dropFilesHere")),t.R7$(),t.Y8G("ngIf",n.showFileList&&n.fileList.count>0),t.R7$(),t.Y8G("ngIf",n.showActionButtons))},dependencies:[$t,WMe,Kie,YMe,cV,qie,Qie,W],encapsulation:2}),s})(),JMe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,o0,Lbe,An],Fe,o0]}),s})(),PIt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[JMe,An]]}),s})(),qMe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[JMe,An]]}),s})(),FIt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[PIt,qMe]}),s})();function UIt(s,i){1&s&&t.nrm(0,"div",3)}function BIt(s,i){if(1&s){const e=t.RV6();t.j41(0,"form",14,0),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.close())}),t.j41(2,"div",15)(3,"div",16)(4,"kendo-formfield")(5,"label"),t.EFF(6,"Descrizione certificato"),t.k0s(),t.j41(7,"kendo-textbox",17),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.description,o)||(r.options.description=o),t.Njj(o)}),t.k0s(),t.j41(8,"kendo-formerror"),t.EFF(9,"Descrizione certificato \xe8 il campo obbligatorio"),t.k0s()()(),t.j41(10,"div",16)(11,"kendo-formfield")(12,"label"),t.EFF(13,"Percorso certificato"),t.k0s(),t.j41(14,"kendo-textbox",18),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.fileName,o)||(r.options.fileName=o),t.Njj(o)}),t.k0s()()()(),t.j41(15,"div",15)(16,"div",16)(17,"kendo-formfield")(18,"label"),t.EFF(19,"File"),t.k0s(),t.j41(20,"kendo-fileselect",19),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.files,o)||(r.options.files=o),t.Njj(o)}),t.k0s()()()(),t.j41(21,"div",20)(22,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.dismiss())}),t.nrm(23,"i",9),t.EFF(24," ANNULLA "),t.k0s(),t.j41(25,"button",21),t.nrm(26,"i",11),t.EFF(27," SALVA "),t.k0s()()()}if(2&s){const e=t.XpG(2);t.R7$(7),t.R50("ngModel",e.options.description),t.R7$(7),t.R50("ngModel",e.options.fileName),t.R7$(6),t.R50("ngModel",e.options.files),t.Y8G("multiple",!1)}}function VIt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",4)(1,"kendo-window",5),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",6),t.EFF(4,"Certificato"),t.k0s(),t.j41(5,"div",7)(6,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",9),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",11),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",12),t.k0s(),t.DNE(13,BIt,28,4,"form",13),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("top",80),t.R7$(12),t.Y8G("ngIf",e.options)}}let zIt=(()=>{class s extends As{constructor(e){super(e),this.documents=[]}_canClose(){return Xr(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(_t))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-operator-document-modal"]],features:[t.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowCloseAction",""],["name","updateActivityForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateActivityForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row","riga-form"],[1,"col-md-6"],["name","description","required","",3,"ngModelChange","ngModel"],["name","fileName",3,"ngModelChange","ngModel"],["name","file",3,"ngModelChange","ngModel","multiple"],[1,"text-right","mt-5"],["type","submit",1,"btn","btn-primary"]],template:function(n,o){1&n&&t.DNE(0,UIt,1,0,"div",1)(1,VIt,14,4,"div",2),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[W,Fi,Un,Pi,ts,mi,Mi,ni,li,Wn,Jl,Xc,vr,Zie]})}return s})();const jIt=["operatorDocumentModal"];function HIt(s,i){1&s&&t.nrm(0,"div",3)}function $It(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",21),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.modificaDocumento(o))}),t.nrm(1,"i",22),t.k0s(),t.j41(2,"button",23),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.scaricaDocumento(o))}),t.nrm(3,"i",24),t.k0s()}}function XIt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",4)(1,"kendo-window",5),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",6),t.EFF(4," Certificati "),t.k0s(),t.nrm(5,"button",7),t.k0s(),t.j41(6,"div",8)(7,"div",9)(8,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.aggiungiDocumento())}),t.nrm(9,"i",11),t.EFF(10," NUOVO CERTIFICATO "),t.k0s()()(),t.j41(11,"div",8)(12,"div",12)(13,"div",13)(14,"kendo-grid",14),t.nrm(15,"kendo-grid-column",15)(16,"kendo-grid-column",16),t.j41(17,"kendo-grid-column",17),t.DNE(18,$It,4,0,"ng-template",18),t.k0s()()()()(),t.j41(19,"div",19)(20,"button",20),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.EFF(21," CHIUDI "),t.k0s()()()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("top",100),t.R7$(13),t.Y8G("data",e.documents),t.R7$(3),t.Y8G("sortable",!1)("filterable",!1)("width",100)}}let WIt=(()=>{class s extends mb{constructor(e,n){super(),this._messageBox=e,this._operatorsService=n,this.documents=[]}scaricaDocumento(e){var n=document.createElement("a");n.target="_blank",n.href=e.fileName,n.click()}_readDocuments(){this._subscriptions.push(this._operatorsService.getOperatorDetail(this.operatorId).pipe(x(e=>{this.documents=e.documents})).subscribe())}loadData(){this._readDocuments()}_canClose(){return!0}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(_t),t.rXU(br))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-operator-documents-modal"]],viewQuery:function(n,o){if(1&n&&t.GBs(jIt,7),2&n){let r;t.mGM(r=t.lsd())&&(o.operatorDocumentModal=r.first)}},features:[t.Vt3],decls:4,vars:2,consts:[["operatorDocumentModal",""],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],[1,"row"],[1,"col-md-12","text-right","note-grid-header-buttons"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],[1,"col-md-12"],[1,"grid-container"],[3,"data"],["field","description","title","Descrizione"],["field","fileName","title","Percorso"],["field","id","title"," ",3,"sortable","filterable","width"],["kendoGridCellTemplate",""],[1,"text-right","mt-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],["title","Modifica certificato",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["title","Scarica certificato",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-download"]],template:function(n,o){1&n&&(t.DNE(0,HIt,1,0,"div",1)(1,XIt,22,7,"div",2),t.nrm(2,"app-operator-document-modal",null,0)),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[W,Nn,yn,qn,ni,li,Wn,zIt],styles:[".note-grid-header-buttons[_ngcontent-%COMP%]{margin-bottom:10px}"]})}return s})();const YIt=["operatorDocumentsModal"];function KIt(s,i){1&s&&t.nrm(0,"div",4)}function JIt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",40)(1,"kendo-formfield",18)(2,"label"),t.EFF(3,"Username"),t.k0s(),t.j41(4,"kendo-textbox",41),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(3);return t.DH7(r.options.userName,o)||(r.options.userName=o),t.Njj(o)}),t.k0s(),t.j41(5,"kendo-formerror"),t.EFF(6,"Username \xe8 il campo obbligatorio"),t.k0s()()()}if(2&s){const e=t.XpG(3);t.R7$(4),t.R50("ngModel",e.options.userName)}}function qIt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",40)(1,"kendo-formfield",18)(2,"label"),t.EFF(3,"Password"),t.k0s(),t.j41(4,"kendo-textbox",42),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(3);return t.DH7(r.options.password,o)||(r.options.password=o),t.Njj(o)})("requiredChange",function(o){t.eBV(e);const r=t.XpG(3);return t.DH7(r.notHasUser,o)||(r.notHasUser=o),t.Njj(o)}),t.k0s(),t.j41(5,"kendo-formerror"),t.EFF(6,"Password \xe8 il campo obbligatorio"),t.k0s()()()}if(2&s){const e=t.XpG(3);t.R7$(4),t.R50("ngModel",e.options.password)("required",e.notHasUser)}}function QIt(s,i){if(1&s&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.JRh(e[0].name)}}function ZIt(s,i){if(1&s&&t.DNE(0,QIt,2,1,"span",43),2&s){const e=t.XpG(3);t.Y8G("ngIf",e.signatureUploaded)}}function ext(s,i){if(1&s&&t.nrm(0,"img",44),2&s){const e=t.XpG(3);t.Y8G("src",e.pathImage+e.options.signatureFileName,t.B4B)}}function txt(s,i){if(1&s&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.JRh(e[0].name)}}function nxt(s,i){if(1&s&&(t.j41(0,"a",46),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit,n=t.XpG(3);t.Y8G("href",n.CreateUrl(e[0].name),t.B4B),t.R7$(),t.SpI(" ",e[0].name," ")}}function ixt(s,i){if(1&s&&t.DNE(0,txt,2,1,"span",43)(1,nxt,2,2,"a",45),2&s){const e=t.XpG(3);t.Y8G("ngIf",!e.isUploaded),t.R7$(),t.Y8G("ngIf",e.isUploaded)}}function sxt(s,i){if(1&s){const e=t.RV6();t.j41(0,"form",15,1),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.close())}),t.j41(2,"div",16)(3,"div",17)(4,"kendo-formfield",18)(5,"label"),t.EFF(6,"Nome"),t.k0s(),t.j41(7,"kendo-textbox",19),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.name,o)||(r.options.name=o),t.Njj(o)}),t.k0s(),t.j41(8,"kendo-formerror"),t.EFF(9,"Nome \xe8 un campo obbligatorio"),t.k0s()()(),t.j41(10,"div",17)(11,"kendo-formfield",18)(12,"label"),t.EFF(13,"Email"),t.k0s(),t.j41(14,"kendo-textbox",20),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.email,o)||(r.options.email=o),t.Njj(o)}),t.k0s(),t.j41(15,"kendo-formerror"),t.EFF(16,"Email \xe8 il campo obbligatorio"),t.k0s()()()(),t.j41(17,"div",16)(18,"div",17)(19,"kendo-formfield",18)(20,"label"),t.EFF(21,"Trasporto principale"),t.k0s(),t.j41(22,"kendo-combobox",21),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.defaultVehicleId,o)||(r.options.defaultVehicleId=o),t.Njj(o)}),t.k0s(),t.j41(23,"kendo-formerror"),t.EFF(24,"Trasporto principale \xe8 il campo obbligatorio"),t.k0s()()(),t.j41(25,"div",22)(26,"kendo-formfield",18)(27,"label"),t.EFF(28,"Colore"),t.k0s(),t.j41(29,"kendo-colorpicker",23),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.colorHex,o)||(r.options.colorHex=o),t.Njj(o)}),t.k0s(),t.j41(30,"kendo-formerror"),t.EFF(31,"Colore \xe8 il campo obbligatorio"),t.k0s()()()(),t.j41(32,"div",16)(33,"div",24)(34,"label"),t.EFF(35,"Tipi Attivit\xe0"),t.k0s(),t.j41(36,"div",18)(37,"kendo-multiselect",25),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.activityTypes,o)||(r.options.activityTypes=o),t.Njj(o)}),t.k0s(),t.nrm(38,"div",26),t.k0s()()(),t.j41(39,"div",27)(40,"div",28)(41,"div",18)(42,"kendo-label",29),t.EFF(43,"Assegna Utente?"),t.k0s(),t.j41(44,"kendo-switch",30),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.hasUser,o)||(r.options.hasUser=o),t.Njj(o)}),t.k0s(),t.nrm(45,"div",26),t.k0s()(),t.DNE(46,JIt,7,1,"div",31)(47,qIt,7,2,"div",31),t.k0s(),t.j41(48,"div",27)(49,"div",17)(50,"kendo-formfield",18)(51,"label"),t.EFF(52,"Firma"),t.k0s(),t.j41(53,"kendo-upload",32),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.signatureFileInfo,o)||(r.signatureFileInfo=o),t.Njj(o)}),t.bIt("success",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.SignatureExecutionSuccess(o))}),t.DNE(54,ZIt,1,1,"ng-template",33),t.nrm(55,"kendo-upload-messages",34),t.k0s()()(),t.j41(56,"div",35),t.DNE(57,ext,1,1,"img",36),t.k0s()(),t.j41(58,"div",27)(59,"div",24)(60,"kendo-formfield",18)(61,"label"),t.EFF(62,"Allegati"),t.k0s(),t.j41(63,"kendo-upload",37),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.attachmentsFileInfo,o)||(r.attachmentsFileInfo=o),t.Njj(o)}),t.bIt("select",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.AttachmentSelect(o))})("success",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.AttachmentExecutionSuccess(o))}),t.DNE(64,ixt,2,2,"ng-template",33),t.nrm(65,"kendo-upload-messages",34),t.k0s()()()(),t.j41(66,"div",38)(67,"button",9),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.dismiss())}),t.nrm(68,"i",10),t.EFF(69," ANNULLA "),t.k0s(),t.j41(70,"button",39),t.nrm(71,"i",12),t.EFF(72," SALVA "),t.k0s()()()}if(2&s){const e=t.sdS(1),n=t.XpG(2);t.R7$(7),t.R50("ngModel",n.options.name),t.R7$(7),t.R50("ngModel",n.options.email),t.R7$(8),t.Y8G("data",n.vehicles),t.R50("ngModel",n.options.defaultVehicleId),t.Y8G("valuePrimitive",!0),t.R7$(7),t.R50("ngModel",n.options.colorHex),t.R7$(8),t.Y8G("data",n.activityTypes),t.R50("ngModel",n.options.activityTypes),t.Y8G("allowCustom",!1)("valuePrimitive",!0)("readonly",n.readonly),t.R7$(),t.Y8G("control",e.controls.activitytypes),t.R7$(4),t.Y8G("for",n.notification),t.R7$(2),t.R50("ngModel",n.options.hasUser),t.R7$(),t.Y8G("control",e.controls.pictureRequired),t.R7$(),t.Y8G("ngIf",n.options.hasUser),t.R7$(),t.Y8G("ngIf",n.options.hasUser),t.R7$(6),t.R50("ngModel",n.signatureFileInfo),t.Y8G("saveUrl",n.uploadSaveUrl)("removeUrl",n.uploadRemoveUrl),t.R7$(4),t.Y8G("ngIf",null!=n.options.signatureFileName),t.R7$(6),t.R50("ngModel",n.attachmentsFileInfo),t.Y8G("saveUrl",n.uploadSaveUrl)("removeUrl",n.uploadRemoveUrl)}}function oxt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",5)(1,"kendo-window",6),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",7),t.EFF(4," Operatore "),t.k0s(),t.j41(5,"div",8)(6,"button",9),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",10),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",11),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",12),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",13),t.k0s(),t.DNE(13,sxt,73,24,"form",14),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("top",100),t.R7$(12),t.Y8G("ngIf",e.options)}}let rxt=(()=>{class s extends As{constructor(e,n,o){super(e),this._vehiclesService=n,this._activityTypesService=o,this._baseUrl=`${At.baseApiUrl}/operators`,this.pathImage=`${At.baseUrl}/attachments/`,this.uploadSaveUrl=`${this._baseUrl}/document/upload-file`,this.uploadRemoveUrl=`${this._baseUrl}/document/remove-file`,this.attachmentsFileInfo=[],this.attachmentsUploads=[],this.isUploaded=[],this.vehicles=[],this.roles=[],this.role=Pt,this.operator=new gb}open(e){const n=super.open(e);return this.attachmentsFileInfo=[],this.isUploaded=[],this.attachmentsUploads=[],this.signatureUploaded=!1,this.notHasUser=!this.options.hasUser,this.options.documents.forEach(o=>{if(null!=o.originalFileName&&null!=o.fileName){const r=new fR(o.fileName,o.originalFileName);this.attachmentsUploads.push(r),this.attachmentsFileInfo.push({name:o.originalFileName}),this.isUploaded.push(!0)}}),n}SignatureExecutionSuccess(e){const n=e.response.body;if(null!=n){const o=n;new fR(o.fileName,o.originalFileName),this.options.signatureFileName=o.fileName,this.signatureUploaded=!0}else this.options.signatureFileName=null}AttachmentExecutionSuccess(e){const n=e.response.body;if(null!=n){const o=n,r=new fR(o.fileName,o.originalFileName);this.attachmentsUploads.push(r);let a=new tV;a.fileName=o.fileName,a.originalFileName=o.originalFileName,this.options.documents.push(a),this.isUploaded.push(!0)}else{const o=e.files[0].name,r=this.attachmentsUploads.findIndex(a=>a.originalFileName==o);r>-1&&(this.attachmentsUploads.splice(r,1),this.options.documents.splice(r,1),this.isUploaded.pop())}}AttachmentSelect(e){const n=e.files;let o=!1;n.forEach(r=>{var a=this.attachmentsUploads.findIndex(l=>l.originalFileName==r.name);a>-1&&(n.splice(a,1),o=!0)}),o&&this._messageBox.alert("Sono presenti tra i file caricati alcuni file con lo stesso nome di quelli che si vogliono caricare")}CreateUrl(e){let n="";return this.attachmentsUploads.forEach(o=>{o.originalFileName==e&&(n=`${this._baseUrl}/document/download-file/${o.fileName}/${o.originalFileName}`)}),n}setRoles(){for(var e in this.roles=[],Pt)"number"==typeof Pt[e]&&this.roles.push({id:Pt[e],name:e})}viewDocuments(){this.operatorDocumentsModal.operatorId=this.options.id,this.operatorDocumentsModal.loadData(),this.operatorDocumentsModal.open(null)}loadData(){this._readVehicles(),this._readActivityTypes(),this.setRoles()}_canClose(){return Xr(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid}_readVehicles(){this._subscriptions.push(this._vehiclesService.readVehiclesList().pipe(x(e=>this.vehicles=e)).subscribe())}_readActivityTypes(){this._subscriptions.push(this._activityTypesService.readActivityTypesList().pipe(x(e=>this.activityTypes=e)).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(_t),t.rXU(sV),t.rXU(Sp))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-operator-modal"]],viewQuery:function(n,o){if(1&n&&t.GBs(YIt,7),2&n){let r;t.mGM(r=t.lsd())&&(o.operatorDocumentsModal=r.first)}},inputs:{operator:"operator"},features:[t.Vt3],decls:4,vars:2,consts:[["operatorDocumentsModal",""],["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowCloseAction",""],["name","updateActivityTypeForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateActivityTypeForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row","riga-form"],[1,"col-md-6"],[1,"form-group"],["name","name","required","",3,"ngModelChange","ngModel"],["name","email","type","email","required","",3,"ngModelChange","ngModel"],["name","defaultVehicleId","suggest","true","textField","description","valueField","id",3,"ngModelChange","data","ngModel","valuePrimitive"],[1,"col-md-3"],["name","colorHex","format","hex","required","",3,"ngModelChange","ngModel"],[1,"col-md-12"],["textField","name","valueField","id","name","activitytypes",3,"ngModelChange","data","ngModel","allowCustom","valuePrimitive","readonly"],[1,"validation-message",3,"control"],[1,"row","riga-form","form-group"],[1,"col-md-2"],[1,"k-checkbox-label",3,"for"],["name","hasUser","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],["class","col-md-5",4,"ngIf"],["name","SignatureUpload",3,"ngModelChange","success","ngModel","saveUrl","removeUrl"],["kendoUploadFileInfoTemplate",""],["dropFilesHere"," "],[1,"col-md-6",2,"text-align","center"],["alt","","width","100%",3,"src",4,"ngIf"],["name","myUpload",3,"ngModelChange","select","success","ngModel","saveUrl","removeUrl"],[1,"text-right","mt-5"],["type","submit",1,"btn","btn-primary"],[1,"col-md-5"],["name","userName","required","",3,"ngModelChange","ngModel"],["name","password",3,"ngModelChange","requiredChange","ngModel","required"],[4,"ngIf"],["alt","","width","100%",3,"src"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"]],template:function(n,o){1&n&&(t.DNE(0,KIt,1,0,"div",2)(1,oxt,14,4,"div",3),t.nrm(2,"app-operator-documents-modal",null,0)),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[W,Fi,Un,Pi,ts,mi,Mi,ni,li,Wn,go,ig,ip,Jl,Lv,Xc,vr,Eg,yg,Cp,cr,WIt],encapsulation:2})}return s})();const axt=["operatorModal"];function lxt(s,i){1&s&&t.nrm(0,"div",14),2&s&&t.xc7("background-color",i.$implicit.colorHex)}function cxt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",15),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.editOperator(o))}),t.nrm(1,"i",16),t.k0s(),t.j41(2,"button",17),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.deleteOperator(o))}),t.nrm(3,"i",18),t.k0s()}}let dxt=(()=>{class s extends It{constructor(e,n,o){super(),this._operatorsService=e,this._messageBox=n,this._router=o,this.stateGridOperators={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[]},this.operatorSelezionato=new gb}ngOnInit(){this._readOperators(),this.updateScreenSize()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}dataStateChange(e){this.stateGridOperators=e,this._readOperators()}_readOperators(){this._subscriptions.push(this._operatorsService.readOperators(this.stateGridOperators).pipe(x(e=>{this.dataOperators=e})).subscribe())}createOperator(){this.operatorModal.loadData();const e=new gb;this._subscriptions.push(this.operatorModal.open(e).pipe(z(n=>n),Y(()=>this._operatorsService.createOperator(e)),x(n=>{this._messageBox.success(`Operatore ${e.name} creato`)}),x(()=>this._readOperators())).subscribe())}editOperator(e){this.operatorModal.loadData(),this._subscriptions.push(this._operatorsService.getOperatorDetail(e.id).pipe((0,U.T)(n=>Object.assign(new gb,n)),Y(n=>this.operatorModal.open(n)),z(n=>n),(0,U.T)(()=>this.operatorModal.options),Y(n=>this._operatorsService.updateOperator(n,e.id)),(0,U.T)(()=>this.operatorModal.options),x(n=>this._messageBox.success(`Operatore ${e.name} aggiornato`)),x(()=>this._readOperators())).subscribe())}deleteOperator(e){this._messageBox.confirm(`Sei sicuro di voler cancellare l'operatore ${e.name}?`,"Conferma l'azione").subscribe(n=>{1==n&&this._subscriptions.push(this._operatorsService.deleteOperator(e.id).pipe(x(o=>this._messageBox.success(`Operatore ${e.name} cancellato con successo`)),x(()=>this._readOperators())).subscribe())})}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(br),t.rXU(_t),t.rXU(Qi))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-operators"]],viewQuery:function(n,o){if(1&n&&t.GBs(axt,7),2&n){let r;t.mGM(r=t.lsd())&&(o.operatorModal=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},features:[t.Vt3],decls:19,vars:13,consts:[["operatorModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","name","title","Nome"],["field","email","title","email"],["field","defaultVehicle.description","title","Trasporto"],["field","colorHex","title","Colore"],["kendoGridCellTemplate",""],["field","id","title"," ",3,"sortable","filterable","width"],[1,"operator-color-in-grid"],["title","Modifica",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["title","Elimina",1,"btn","btn-danger","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-trash"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h4"),t.EFF(3,"Operatori"),t.k0s()(),t.j41(4,"div",3)(5,"button",4),t.bIt("click",function(){return t.eBV(r),t.Njj(o.createOperator())}),t.nrm(6,"i",5),t.EFF(7," NUOVO "),t.k0s()()(),t.j41(8,"div",6)(9,"kendo-grid",7),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))}),t.nrm(10,"kendo-grid-column",8)(11,"kendo-grid-column",9)(12,"kendo-grid-column",10),t.j41(13,"kendo-grid-column",11),t.DNE(14,lxt,1,2,"ng-template",12),t.k0s(),t.j41(15,"kendo-grid-column",13),t.DNE(16,cxt,4,0,"ng-template",12),t.k0s()()(),t.nrm(17,"app-operator-modal",null,0)}2&n&&(t.R7$(9),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.dataOperators)("pageSize",o.stateGridOperators.take)("skip",o.stateGridOperators.skip)("sort",o.stateGridOperators.sort)("filter",o.stateGridOperators.filter)("group",o.stateGridOperators.group)("sortable",!0)("pageable",!0),t.R7$(6),t.Y8G("sortable",!1)("filterable",!1)("width",95))},dependencies:[Nn,yn,qn,rxt],styles:[".operator-color-in-grid[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:5px}"]})}return s})();class tu{constructor(){this.id=null,this.code=null,this.name=null,this.description=null,this.isReiDoor=!1,this.isSparePart=!1,this.colorHex=null}}class gR{constructor(){this.id=null,this.pictureFileName=null,this.description=null,this.productTypeId=null,this.productType=new tu,this.activityTypeId=null,this.activityType=new uc,this.items=[]}}class ese{constructor(i,e,n){this.sourceChecklistId=i,this.activityTypeId=e,this.productTypeId=n}static build(i){return new ese(i.sourceChecklistId,i.activityTypeId,i.productTypeId)}}class Cb{constructor(){this.id=null,this.description=null,this.checkListId=0,this.tempId=DMe()}}let tse=(()=>{class s{constructor(e){this._http=e,this._baseUrl=`${At.baseApiUrl}/checklist`}readCheckList(e){const n=ul(e),o=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/checklist?${n}`).pipe((0,U.T)(r=>{const a=[];return r.data.forEach(l=>{const c=Object.assign(new gR,l);c.productType=Object.assign(new tu,c.productType),c.activityType=Object.assign(new uc,c.activityType);const u=[];c.items.forEach(f=>{const _=Object.assign(new Cb,f);u.push(_)}),c.items=u,a.push(c)}),{data:o?Lr(a):a,total:r.total}}))}getCheckListDetail(e){return this._http.get(`${this._baseUrl}/checklist-detail/${e}`).pipe((0,U.T)(n=>{const o=Object.assign(new gR,n);o.productType=Object.assign(new tu,o.productType),o.activityType=Object.assign(new uc,o.activityType);const r=[];return o.items.forEach(a=>{const l=Object.assign(new Cb,a);r.push(l)}),o.items=r,o}))}createCheckList(e){return this._http.post(`${this._baseUrl}/checklist`,e).pipe((0,U.T)(n=>n))}updateCheckList(e,n){return this._http.put(`${this._baseUrl}/checklist/${n}`,e).pipe((0,U.T)(()=>{}))}deleteCheckList(e){return this._http.delete(`${this._baseUrl}/checklist/${e}`).pipe((0,U.T)(()=>{}))}readActivityTypes(){return this._http.get(`${this._baseUrl}/activity-types`).pipe((0,U.T)(e=>{const n=[];return e.forEach(o=>{const r=Object.assign(new uc,o);n.push(r)}),n}))}readCheckListItems(e){return this._http.get(`${this._baseUrl}/checklist-items/${e}`).pipe((0,U.T)(n=>{const o=[];return n.forEach(r=>{const a=Object.assign(new Cb,r);o.push(a)}),o}))}getCheckListItemDetail(e){return this._http.get(`${this._baseUrl}/checklist-item-detail/${e}`).pipe((0,U.T)(n=>Object.assign(new Cb,n)))}createCheckListItem(e){return this._http.post(`${this._baseUrl}/checklist-item`,e).pipe((0,U.T)(n=>n))}updateCheckListItem(e,n){return this._http.put(`${this._baseUrl}/checklist-item/${n}`,e).pipe((0,U.T)(()=>{}))}deleteCheckListItem(e){return this._http.delete(`${this._baseUrl}/checklist-item/${e}`).pipe((0,U.T)(()=>{}))}copyChecklist(e){return this._http.post(`${this._baseUrl}/copy-checklist`,e).pipe()}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(js))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})(),vR=(()=>{class s{constructor(e){this._http=e,this._baseUrl=`${At.baseApiUrl}/productTypes`}readProductTypes(e){const n=ul(e),o=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/productTypes?${n}`).pipe((0,U.T)(r=>{const a=[];return r.data.forEach(l=>{const c=Object.assign(new tu,l);a.push(c)}),{data:o?Lr(a):a,total:r.total}}))}createProductType(e){return this._http.post(`${this._baseUrl}/producttype`,e).pipe((0,U.T)(n=>n))}updateProductType(e,n){return this._http.put(`${this._baseUrl}/producttype/${n}`,e).pipe((0,U.T)(()=>{}))}deleteProductType(e){return this._http.delete(`${this._baseUrl}/producttype/${e}`).pipe((0,U.T)(()=>{}))}getProductTypeDetail(e){return this._http.get(`${this._baseUrl}/producttype-detail/${e}`).pipe((0,U.T)(n=>Object.assign(new tu,n)))}readProductTypesList(){return this._http.get(`${this._baseUrl}/producttypes-list`).pipe((0,U.T)(e=>{const n=[];return e.forEach(o=>{const r=Object.assign(new tu,o);n.push(r)}),n}))}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(js))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();function uxt(s,i){1&s&&t.nrm(0,"div",3)}function hxt(s,i){if(1&s){const e=t.RV6();t.j41(0,"form",14,0),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.close())}),t.j41(2,"div",15)(3,"div",16)(4,"kendo-formfield",17)(5,"label",18),t.EFF(6,"Descrizione voce checklist"),t.k0s(),t.j41(7,"kendo-textbox",19),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.description,o)||(r.options.description=o),t.Njj(o)}),t.k0s(),t.j41(8,"kendo-formerror"),t.EFF(9,"Descrizione voce checklist \xe8 il campo obbligatorio"),t.k0s()()()(),t.j41(10,"div",20)(11,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.dismiss())}),t.nrm(12,"i",9),t.EFF(13," ANNULLA "),t.k0s(),t.j41(14,"button",21),t.nrm(15,"i",11),t.EFF(16," SALVA "),t.k0s()()()}if(2&s){const e=t.XpG(2);t.R7$(7),t.R50("ngModel",e.options.description)}}function pxt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",4)(1,"kendo-window",5),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",6),t.EFF(4," Voce checklist "),t.k0s(),t.j41(5,"div",7)(6,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",9),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",11),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",12),t.k0s(),t.DNE(13,hxt,17,1,"form",13),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("width",600)("top",200),t.R7$(12),t.Y8G("ngIf",e.options)}}let fxt=(()=>{class s extends As{constructor(e){super(e),this.role=Pt}_canClose(){return Xr(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(_t))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-checklist-item-modal"]],features:[t.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","width","top"],[1,"k-window-title"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowCloseAction",""],["name","updateOperatorForm","novalidate","","autocomplete","off",3,"ngSubmit",4,"ngIf"],["name","updateOperatorForm","novalidate","","autocomplete","off",3,"ngSubmit"],[1,"row","riga-form"],[1,"col-md-12"],[1,"form-group"],[1,"custom-form-field-label"],["name","description","required","",3,"ngModelChange","ngModel"],[1,"text-right","mt-5"],["type","submit",1,"btn","btn-primary"]],template:function(n,o){1&n&&t.DNE(0,uxt,1,0,"div",1)(1,pxt,14,5,"div",2),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[W,Fi,Un,Pi,ts,mi,Mi,ni,li,Wn,Jl,Xc,vr]})}return s})();const mxt=["checklistItemModal"];function _xt(s,i){1&s&&t.nrm(0,"div",4)}function gxt(s,i){if(1&s&&t.nrm(0,"img",40),2&s){const e=t.XpG(3);t.Y8G("src",e.pathImage+e.options.pictureFileName,t.B4B)}}function vxt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",41),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(3);return t.Njj(r.editCheckListItem(o))}),t.nrm(1,"i",42),t.k0s(),t.j41(2,"button",43),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(3);return t.Njj(r.deleteOperatorItem(o))}),t.nrm(3,"i",44),t.k0s()}}function Sxt(s,i){if(1&s){const e=t.RV6();t.j41(0,"form",15,1),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.close())}),t.j41(2,"div",16)(3,"div",17)(4,"kendo-formfield",18)(5,"label"),t.EFF(6,"Tipologia impianto"),t.k0s(),t.j41(7,"kendo-combobox",19),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.productTypeId,o)||(r.options.productTypeId=o),t.Njj(o)}),t.k0s(),t.j41(8,"kendo-formerror"),t.EFF(9,"Tipologia impianto \xe8 il campo obbligatorio"),t.k0s()(),t.j41(10,"kendo-formfield",18)(11,"label",20),t.EFF(12,"Tipo attivit\xe0"),t.k0s(),t.j41(13,"kendo-combobox",21),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.activityTypeId,o)||(r.options.activityTypeId=o),t.Njj(o)}),t.k0s(),t.j41(14,"kendo-formerror"),t.EFF(15,"Tipo attivit\xe0 \xe8 il campo obbligatorio"),t.k0s()(),t.j41(16,"kendo-formfield",18)(17,"label",20),t.EFF(18,"Descrizione"),t.k0s(),t.j41(19,"kendo-textarea",22),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.description,o)||(r.options.description=o),t.Njj(o)}),t.k0s(),t.j41(20,"kendo-formerror"),t.EFF(21,"Descrizione \xe8 il campo obbligatorio"),t.k0s()(),t.j41(22,"kendo-formfield",18)(23,"label"),t.EFF(24,"Immagine"),t.k0s(),t.j41(25,"kendo-upload",23),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.attachmentsFileInfo,o)||(r.attachmentsFileInfo=o),t.Njj(o)}),t.bIt("success",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.AttachmentExecutionSuccess(o))}),t.nrm(26,"kendo-upload-messages",24),t.k0s()()(),t.j41(27,"div",25),t.DNE(28,gxt,1,1,"img",26),t.k0s()(),t.j41(29,"div",16)(30,"div",27)(31,"div",28),t.nrm(32,"div",29),t.j41(33,"div",30)(34,"button",31),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.createNewItemCheckList())}),t.nrm(35,"i",32),t.EFF(36," Aggiungi voce "),t.k0s()()(),t.j41(37,"div",33)(38,"kendo-grid",34),t.nrm(39,"kendo-grid-column",35),t.j41(40,"kendo-grid-column",36),t.DNE(41,vxt,4,0,"ng-template",37),t.k0s()()()()(),t.j41(42,"div",38)(43,"button",9),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.dismiss())}),t.nrm(44,"i",10),t.EFF(45," ANNULLA "),t.k0s(),t.j41(46,"button",39),t.nrm(47,"i",12),t.EFF(48," SALVA "),t.k0s()()()}if(2&s){const e=t.XpG(2);t.R7$(7),t.Y8G("data",e.productTypes),t.R50("ngModel",e.options.productTypeId),t.Y8G("valuePrimitive",!0),t.R7$(6),t.Y8G("data",e.activityTypes),t.R50("ngModel",e.options.activityTypeId),t.Y8G("valuePrimitive",!0),t.R7$(6),t.R50("ngModel",e.options.description),t.Y8G("rows",5),t.R7$(6),t.R50("ngModel",e.attachmentsFileInfo),t.Y8G("saveUrl",e.uploadSaveUrl)("removeUrl",e.uploadRemoveUrl),t.R7$(3),t.Y8G("ngIf",null!=e.options.pictureFileName),t.R7$(10),t.xc7("width",e.screenWidth,"px"),t.Y8G("data",e.options.items)("sortable",!1)("pageable",!1),t.R7$(2),t.Y8G("sortable",!1)("filterable",!1)("width",95)}}function Cxt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",5)(1,"kendo-window",6),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",7),t.EFF(4," Checklist "),t.k0s(),t.j41(5,"div",8)(6,"button",9),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",10),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",11),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",12),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",13),t.k0s(),t.DNE(13,Sxt,49,20,"form",14),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("top",50),t.R7$(12),t.Y8G("ngIf",e.options)}}let bxt=(()=>{class s extends As{constructor(e,n,o,r){super(e),this._checkListService=n,this._productTypesService=o,this._activityTypesService=r,this._baseUrl=`${At.baseApiUrl}/operators`,this.uploadSaveUrl=`${this._baseUrl}/document/upload-file`,this.uploadRemoveUrl=`${this._baseUrl}/document/remove-file`,this.productTypes=[],this.activityTypes=[],this.attachmentsUploads=[],this.isUploaded=[],this.pathImage=`${At.baseUrl}/attachments/`,this.role=Pt}open(e){const n=super.open(e);return this.attachmentsFileInfo=null,this.loadData(),n}_canClose(){return Xr(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid}_readProductTypes(){this._subscriptions.push(this._productTypesService.readProductTypesList().pipe(x(e=>{this.productTypes=e})).subscribe())}_readActivityTypes(){this._subscriptions.push(this._activityTypesService.readActivityTypesList().pipe(x(e=>{this.activityTypes=e})).subscribe())}_readCheckListItems(){null!=this.options.id&&this._subscriptions.push(this._checkListService.readCheckListItems(this.options.id).pipe(x(e=>{this.options.items=e})).subscribe())}createNewItemCheckList(){const e=new Cb;null==this.options.id?this.checklistItemModal.open(e).pipe(z(n=>n),x(n=>{this.options.items.push(e),this._messageBox.success("Voce checklist creata")})).subscribe():(e.checkListId=this.options.id,this._subscriptions.push(this.checklistItemModal.open(e).pipe(z(n=>n),Y(()=>this._checkListService.createCheckListItem(e)),x(n=>{this._messageBox.success("Voce checklist creata")}),x(()=>this._readCheckListItems())).subscribe()))}editCheckListItem(e){if(null==this.options.id){const n=Object.assign(new Cb,JSON.parse(JSON.stringify(e)));this.checklistItemModal.open(n).pipe(z(o=>o),x(o=>{const r=this.options.items.findIndex(a=>a.tempId===n.tempId);r>=0&&(this.options.items[r]=n,this._messageBox.success("Voce checklist aggiornata"))})).subscribe()}else this._subscriptions.push(this._checkListService.getCheckListItemDetail(e.id).pipe((0,U.T)(n=>Object.assign(new Cb,n)),Y(n=>this.checklistItemModal.open(n)),z(n=>n),(0,U.T)(()=>this.checklistItemModal.options),Y(n=>this._checkListService.updateCheckListItem(n,e.id)),(0,U.T)(()=>this.checklistItemModal.options),x(n=>this._messageBox.success("Voce checklist aggiornata")),x(()=>this._readCheckListItems())).subscribe())}deleteOperatorItem(e){null==this.options.id?this._messageBox.confirm(`Sei sicuro di voler cancellare la voce "${e.description}"?`,"Conferma l'azione").subscribe(n=>{1==n&&(this.options.items=this.options.items.filter(o=>o.tempId!==e.tempId),this._messageBox.success(`La voce "${e.description}" cancellata con successo`))}):this._messageBox.confirm(`Sei sicuro di voler cancellare la voce "${e.description}"?`,"Conferma l'azione").subscribe(n=>{1==n&&this._subscriptions.push(this._checkListService.deleteCheckListItem(e.id).pipe(x(o=>this._messageBox.success(`La voce "${e.description}" cancellata con successo`)),x(()=>this._readCheckListItems())).subscribe())})}AttachmentExecutionSuccess(e){const n=e.response.body;if(null!=n){const o=n;new fR(o.fileName,o.originalFileName),this.options.pictureFileName=o.fileName,this.isUploaded.push(!0)}else{const o=e.files[0].name,r=this.attachmentsUploads.findIndex(a=>a.originalFileName==o);r>-1&&(this.attachmentsUploads.splice(r,1),this.isUploaded.pop())}}loadData(){this._readProductTypes(),this._readActivityTypes(),this._readCheckListItems()}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(_t),t.rXU(tse),t.rXU(vR),t.rXU(Sp))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-checklist-modal"]],viewQuery:function(n,o){if(1&n&&t.GBs(mxt,7),2&n){let r;t.mGM(r=t.lsd())&&(o.checklistItemModal=r.first)}},features:[t.Vt3],decls:4,vars:2,consts:[["checklistItemModal",""],["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowCloseAction",""],["name","updateOperatorForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateOperatorForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row","riga-form"],[1,"col-md-8"],[1,"form-group"],["name","productTypeId","suggest","true","textField","name","valueField","id","required","",3,"ngModelChange","data","ngModel","valuePrimitive"],[1,"custom-form-field-label"],["name","activityTypeId","suggest","true","textField","name","valueField","id","required","",3,"ngModelChange","data","ngModel","valuePrimitive"],["name","description","required","",3,"ngModelChange","ngModel","rows"],["name","myUpload",3,"ngModelChange","success","ngModel","saveUrl","removeUrl"],["dropFilesHere"," "],[1,"col-md-4"],["alt","","width","100%",3,"src",4,"ngIf"],[1,"col-md-12"],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],["type","button","title","Aggiungi voce",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],[1,"grid-container"],["filterable","none","scrollable","none",1,"GridNoHeader",3,"data","sortable","pageable"],["field","description","title","Descrizione"],["field","id","title"," ",3,"sortable","filterable","width"],["kendoGridCellTemplate",""],[1,"text-right","mt-5"],["type","submit",1,"btn","btn-primary"],["alt","","width","100%",3,"src"],["type","button","title","Modifica",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["type","button","title","Elimina",1,"btn","btn-danger","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-trash"]],template:function(n,o){1&n&&(t.DNE(0,_xt,1,0,"div",2)(1,Cxt,14,4,"div",3),t.nrm(2,"app-checklist-item-modal",null,0)),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[W,Fi,Un,Pi,ts,mi,Mi,Nn,yn,qn,ni,li,Wn,go,uQ,Xc,vr,yg,Cp,fxt],styles:[".custom-form-field-label[_ngcontent-%COMP%]{margin-top:10px}"]})}return s})();function Ext(s,i){1&s&&t.nrm(0,"div",3)}function yxt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",4)(1,"kendo-window",5),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",6),t.EFF(4," Copia Checklist "),t.k0s(),t.nrm(5,"button",7)(6,"button",8)(7,"button",9)(8,"button",10),t.k0s(),t.j41(9,"form",11,0),t.bIt("submit",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.j41(11,"div",12)(12,"kendo-formfield",13)(13,"label"),t.EFF(14,"Tipologia impianto"),t.k0s(),t.j41(15,"kendo-combobox",14),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.productTypeId,o)||(r.options.productTypeId=o),t.Njj(o)}),t.k0s(),t.j41(16,"kendo-formerror"),t.EFF(17,"Tipologia impianto \xe8 il campo obbligatorio"),t.k0s()(),t.j41(18,"kendo-formfield",13)(19,"label",15),t.EFF(20,"Tipo attivit\xe0"),t.k0s(),t.j41(21,"kendo-combobox",16),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.activityTypeId,o)||(r.options.activityTypeId=o),t.Njj(o)}),t.k0s(),t.j41(22,"kendo-formerror"),t.EFF(23,"Tipo attivit\xe0 \xe8 il campo obbligatorio"),t.k0s()()(),t.nrm(24,"hr",17),t.j41(25,"div",18)(26,"button",19),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(27,"i",20),t.EFF(28," ANNULLA "),t.k0s(),t.j41(29,"button",21),t.nrm(30,"i",22),t.EFF(31," COPIA "),t.k0s()()()()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!0)("draggable",!0)("top",30),t.R7$(14),t.Y8G("data",e.productTypes),t.R50("ngModel",e.options.productTypeId),t.Y8G("valuePrimitive",!0),t.R7$(6),t.Y8G("data",e.activityTypes),t.R50("ngModel",e.options.activityTypeId),t.Y8G("valuePrimitive",!0)}}let kxt=(()=>{class s extends As{constructor(e,n,o){super(e),this._productTypesService=n,this._activityTypesService=o,this.productTypes=[],this.activityTypes=[]}ngOnInit(){this._readProductTypes(),this._readActivityTypes()}open(e){return super.open(e)}_canClose(){return this.form.markAsDirty(),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi."),this.form.valid}_readProductTypes(){this._subscriptions.push(this._productTypesService.readProductTypesList().pipe(x(e=>{this.productTypes=e})).subscribe())}_readActivityTypes(){this._subscriptions.push(this._activityTypesService.readActivityTypesList().pipe(x(e=>{this.activityTypes=e})).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(_t),t.rXU(vR),t.rXU(Sp))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-copy-checklist-modal"]],features:[t.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],["kendoWindowMinimizeAction",""],["kendoWindowRestoreAction",""],["kendoWindowMaximizeAction",""],["kendoWindowCloseAction",""],["name","copy-activity-modal-form","novalidate","","autocomplete","off",2,"min-width","600px",3,"submit"],[1,"row"],[1,"form-group"],["name","productTypeId","suggest","true","textField","name","valueField","id","required","",3,"ngModelChange","data","ngModel","valuePrimitive"],[1,"custom-form-field-label"],["name","activityTypeId","suggest","true","textField","name","valueField","id","required","",3,"ngModelChange","data","ngModel","valuePrimitive"],[1,"border-green"],[1,"d-flex","justify-content-end","gap-2","mt-5"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","submit",1,"btn","btn-primary"],[1,"fa","fa-floppy-disk","me-2"]],template:function(n,o){1&n&&t.DNE(0,Ext,1,0,"div",1)(1,yxt,32,9,"div",2),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[W,Fi,Un,Pi,ts,mi,Mi,ni,li,Ld,Gd,Pd,Wn,go,Xc,vr],encapsulation:2})}return s})();const wxt=["checklistModal"],Dxt=["copyChecklistModal"];function Oxt(s,i){if(1&s&&t.nrm(0,"img",16),2&s){const e=t.XpG().$implicit,n=t.XpG();t.Y8G("src",n.pathImage+e.pictureFileName,t.B4B)}}function Txt(s,i){1&s&&t.DNE(0,Oxt,1,1,"img",15),2&s&&t.Y8G("ngIf",null!=i.$implicit.pictureFileName)}function Mxt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",17),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.copyChecklist(o))}),t.nrm(1,"i",18),t.k0s(),t.j41(2,"button",19),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.editCheckList(o))}),t.nrm(3,"i",20),t.k0s(),t.j41(4,"button",21),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.deleteOperator(o))}),t.nrm(5,"i",22),t.k0s()}}let Ixt=(()=>{class s extends It{constructor(e,n,o){super(),this._checkListService=e,this._messageBox=n,this._router=o,this.pathImage=`${At.baseUrl}/attachments/`,this.stateGridChecklists={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[]},this.checklistSelezionato=new gR}ngOnInit(){this._readChecklists(),this.updateScreenSize()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}dataStateChange(e){this.stateGridChecklists=e,this._readChecklists()}_readChecklists(){this._subscriptions.push(this._checkListService.readCheckList(this.stateGridChecklists).pipe(x(e=>{this.checklists=e})).subscribe())}createCheckList(){const e=new gR;this._subscriptions.push(this.checklistModal.open(e).pipe(z(n=>n),Y(()=>this._checkListService.createCheckList(e)),x(n=>{this._messageBox.success("Checklist creato")}),x(()=>this._readChecklists())).subscribe())}editCheckList(e){this._subscriptions.push(this._checkListService.getCheckListDetail(e.id).pipe((0,U.T)(n=>Object.assign(new gR,n)),Y(n=>this.checklistModal.open(n)),z(n=>n),(0,U.T)(()=>this.checklistModal.options),Y(n=>this._checkListService.updateCheckList(n,e.id)),(0,U.T)(()=>this.checklistModal.options),x(n=>this._messageBox.success("Checklist aggiornato")),x(()=>this._readChecklists())).subscribe())}deleteOperator(e){this._messageBox.confirm(`Sei sicuro di voler cancellare checklist "${e.description}"?`,"Conferma l'azione").subscribe(n=>{1==n&&this._subscriptions.push(this._checkListService.deleteCheckList(e.id).pipe(x(o=>this._messageBox.success(`Checklist "${e.description}" cancellato con successo`)),x(()=>this._readChecklists())).subscribe())})}copyChecklist(e){const n=new ese(e.id,e.productTypeId,0);this._subscriptions.push(this.copyChecklistModal.open(n).pipe(z(o=>o),Y(()=>this._checkListService.copyChecklist(n)),x(()=>{this._messageBox.success("Checklist copiata con successo"),this._router.navigate(["/checklist"])})).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(tse),t.rXU(_t),t.rXU(Qi))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-checklist"]],viewQuery:function(n,o){if(1&n&&(t.GBs(wxt,7),t.GBs(Dxt,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.checklistModal=r.first),t.mGM(r=t.lsd())&&(o.copyChecklistModal=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},features:[t.Vt3],decls:21,vars:13,consts:[["checklistModal",""],["copyChecklistModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","productType.name","title","Nome"],["field","pictureFileName","title","Immagine"],["kendoGridCellTemplate",""],["field","activityType.name","title","Tipo attivit\xe0"],["field","description","title","Descrizione"],["field","id","title"," ",3,"sortable","filterable","width"],["alt","","width","100px",3,"src",4,"ngIf"],["alt","","width","100px",3,"src"],["title","Copia checklist",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"fa","fa-copy"],["title","Modifica",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["title","Elimina",1,"btn","btn-danger","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-trash"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"h4"),t.EFF(3,"Checklists"),t.k0s()(),t.j41(4,"div",4)(5,"button",5),t.bIt("click",function(){return t.eBV(r),t.Njj(o.createCheckList())}),t.nrm(6,"i",6),t.EFF(7," NUOVO "),t.k0s()()(),t.j41(8,"div",7)(9,"kendo-grid",8),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))}),t.nrm(10,"kendo-grid-column",9),t.j41(11,"kendo-grid-column",10),t.DNE(12,Txt,1,1,"ng-template",11),t.k0s(),t.nrm(13,"kendo-grid-column",12)(14,"kendo-grid-column",13),t.j41(15,"kendo-grid-column",14),t.DNE(16,Mxt,6,0,"ng-template",11),t.k0s()()(),t.nrm(17,"app-checklist-modal",null,0)(19,"app-copy-checklist-modal",null,1)}2&n&&(t.R7$(9),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.checklists)("pageSize",o.stateGridChecklists.take)("skip",o.stateGridChecklists.skip)("sort",o.stateGridChecklists.sort)("filter",o.stateGridChecklists.filter)("group",o.stateGridChecklists.group)("sortable",!0)("pageable",!0),t.R7$(6),t.Y8G("sortable",!1)("filterable",!1)("width",150))},dependencies:[W,Nn,yn,qn,bxt,kxt]})}return s})();class dV{constructor(){this.id=null,this.code=null,this.name=null,this.description=null,this.note=null,this.pictureFileName=null,this.qrCodePrefix=null,this.qrCodeNumber=null,this.productTypeId=null,this.productType=new tu,this.customerId=null,this.addressId=null,this.location=null,this.serialNumber=null,this.reiType=null,this.constructorName=null,this.hasPushBar=!1,this.year=(new Date).getFullYear(),this.vocType=null,this.numberOfDoors=null,this.monthlyMaintenance=!1,this.isDecommissioned=!1,this.documents=[]}}let SR=(()=>{class s{constructor(e){this._http=e,this._baseUrl=`${At.baseApiUrl}/products`}readProducts(e){const n=ul(e),o=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/products?${n}`).pipe((0,U.T)(r=>({data:o?Lr(r.data):r.data,total:r.total})))}readSpareParts(e){const n=ul(e),o=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/products/spare-parts?${n}`).pipe((0,U.T)(r=>({data:o?Lr(r.data):r.data,total:r.total})))}readProductTypes(){return this._http.get(`${this._baseUrl}/product-types`).pipe((0,U.T)(e=>{const n=[];return e.forEach(o=>{const r=Object.assign(new tu,o);n.push(r)}),n}))}getProductDetail(e){return this._http.get(`${this._baseUrl}/product-detail/${e}`).pipe((0,U.T)(n=>{const o=Object.assign(new dV,n);return o.productType=Object.assign(new tu,o.productType),o}))}createProduct(e){return this._http.post(`${this._baseUrl}/product`,e).pipe((0,U.T)(n=>n))}updateProduct(e,n){return this._http.put(`${this._baseUrl}/product/${n}`,e).pipe((0,U.T)(()=>{}))}deleteProduct(e){return this._http.delete(`${this._baseUrl}/product/${e}`).pipe((0,U.T)(()=>{}))}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(js))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();class nse{constructor(i,e,n,o,r){this.id=i,this.productId=e,this.originalFileName=n,this.fileName=o,this.description=r}static build(i){return new nse(i.id,i.productId,i.originalFileName,i.fileName,i.description)}}const fS="arc",tIe="ArrowRight",nIe="aria-activedescendant",Mo="#000",Di="bottom",Cn="center",od="circle",kg="date",iIe="12px sans-serif",uV="end",oIe=/\{\d+:?/,hV="height",ose="inside",jn="left",qo=Number.MAX_VALUE,Er=-Number.MAX_VALUE,CR="object",pV="outside",Oi="right",aIe="roundedRect",fV="start",ase="string",Qn="top",nu="value",gi="#fff",mV="width",kt="x",Ot="y",lse="pointer",cse="horizontal";function Ia(s){return Array.isArray(s)}function Qo(s,i){const e=Ia(i)?i:[i];for(let n=0;n<e.length;n++){const o=e[n];-1===s.className.indexOf(o)&&(s.className+=" "+o)}}const Vxt=/\s+/g;function dse(s,i){s&&s.className&&(s.className=s.className.replace(i,"").replace(Vxt," "))}function iu(s){let i=.5;s.options.stroke&&Yt(s.options.stroke.width)&&s.options.stroke.width%2==0&&(i=0);for(let e=0;e<s.segments.length;e++)s.segments[e].anchor().round(0).translate(i,i);return s}function cIe(s,i){return-s.x*i.y+s.y*i.x<0}function ii(s){return"number"==typeof s&&!isNaN(s)}function rd(s){return typeof s===ase}function dIe(s){return ii(s)||rd(s)&&isFinite(s)}function uIe(s,i){return(s+1)%i}function hIe(s,i){let e=s-1;return e<0?i-1:e}function _V(s,i){return 1===i||s%i==0?0:s<0?i+s%i:s>=i?s%i:s}function Js(s){return"function"==typeof s}const pIe="object",zxt="undefined";function fIe(s,i){for(let e in i){let r,n=i[e],o=typeof n;if(r=o===pIe&&null!==n?n.constructor:null,r&&r!==Array)if(n instanceof Date)s[e]=new Date(n.getTime());else if(Js(n.clone))s[e]=n.clone();else{let a=s[e];s[e]=typeof a===pIe&&a||{},fIe(s[e],n)}else o!==zxt&&(s[e]=n)}return s}function K(s){const i=arguments.length;for(let e=1;e<i;e++)fIe(s,arguments[e]);return s}function dh(s){return"object"==typeof s}function RD(s){return ii(s)?s+"px":s}const jxt=/width|height|top|left|bottom|right/i;function Hxt(s){return jxt.test(s)}function uo(s,i){const e=rd(i)?[i]:i;if(Ia(e)){const n={},o=window.getComputedStyle(s);for(let r=0;r<e.length;r++){let a=e[r];n[a]=Hxt(a)?parseFloat(o[a]):o[a]}return n}if(dh(i))for(let n in i)s.style[n]=RD(i[n])}function zi(s,i=0){const e={top:0,right:0,bottom:0,left:0};return"number"==typeof s?e[Qn]=e[Oi]=e[Di]=e[jn]=s:(e[Qn]=s[Qn]||i,e[Oi]=s[Oi]||i,e[Di]=s[Di]||i,e[jn]=s[jn]||i),e}let mIe={compile:function(s){return s}};const gV=class $xt{static register(i){mIe=i}static compile(i,e){return mIe.compile(i,e)}};function ta(s={}){let i;return s.template?s.template=i=gV.compile(s.template):Js(s.content)&&(i=s.content),i}function _Ie(s={}){let i;return s.ariaTemplate?s.ariaTemplate=i=gV.compile(s.ariaTemplate):Js(s.ariaContent)&&(i=s.ariaContent),i}const Xxt=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,bR={};function mS(s){if(bR[s])return bR[s];const i=[];return s.replace(Xxt,function(e,n,o,r){i.push(Yt(n)?n:o||r)}),bR[s]=function(e){let n=e;for(let o=0;o<i.length&&n;o++)n=n[i[o]];return n},bR[s]}function su(s,i){const e=s.length,n=[];for(let o=0;o<e;o++)i(s[o])&&n.push(s[o]);return n}function vV(s,i){if(s.className){const e=i.split(" ");for(let n=0;n<e.length;n++)if(s.className.indexOf&&-1!==s.className.indexOf(e[n]))return!0}}bR.undefined=function(s){return s};class Wxt{constructor(){this._map=new Map}get(i){return this._map.get(i)}set(i,e){this._map.set(i,e)}}function Gn(s,i){if(i)return-1!==i.indexOf(s)}function uh(s,i,e){return Ts(s+(i-s)*e,3)}const vIe=class Yxt{constructor(i,e){this.observer=i,this.handlerMap=K({},this.handlerMap,e)}trigger(i,e){const{observer:n,handlerMap:o}=this;let r;return o[i]?r=this.callObserver(o[i],e):n.trigger&&(r=this.callObserver("trigger",i,e)),r}callObserver(i,...e){return this.observer[i].apply(this.observer,e)}requiresHandlers(i){if(this.observer.requiresHandlers)return this.observer.requiresHandlers(i);for(let e=0;e<i.length;e++)if(this.handlerMap[i[e]])return!0}};function SIe(s,i){const e=s.length,n=[];for(let o=0;o<e;o++){let r=i(s[o]);Yt(r)&&n.push(r)}return n}const Jxt=tp.browser||{};function use(s){let i=0;return s.wheelDelta?(i=-s.wheelDelta/120,Jxt.webkit&&(i/=2*Math.max(window.devicePixelRatio,.625))):s.detail&&(i=s.detail/3),i=i>0?Math.ceil(i):Math.floor(i),i}function CIe(s){const i=window.console;typeof i<"u"&&i.log&&i.log(s)}const{append:bb,bindEvents:ER,defined:ge,deg:_S,elementOffset:ND,elementSize:wg,eventCoordinates:bIe,eventElement:bp,hashKey:qxt,last:Zo,limitValue:Vt,objectKey:Qxt,rad:yr,round:qe,unbindEvents:yR,valueOrDefault:ln}=q;class kR{static fetchFonts(i,e,n={depth:0}){!i||n.depth>5||!document.fonts||Object.keys(i).forEach(function(r){const a=i[r];"dataSource"===r||"$"===r[0]||!a||("font"===r?e.push(a):"object"==typeof a&&(n.depth++,kR.fetchFonts(a,e,n),n.depth--))})}static loadFonts(i,e){let n=[];if(i.length>0&&document.fonts){try{n=i.map(function(o){return document.fonts.load(o)})}catch(o){CIe(o)}Promise.all(n).then(e,e)}else e()}static preloadFonts(i,e){const n=[];kR.fetchFonts(i,n),kR.loadFonts(n,e)}}const Zxt=kR;function we(s,i){const e=s.prototype;e.options=e.options?K({},e.options,i):i}class pse{constructor(i,e){this.element=i,this.options=K({},this.options,e),this.wrapper()}wrapper(){this.addClasses()}addClasses(){}html(){return this.element.outerHTML}}we(pse,{name:"",size:"none",themeColor:"none",flip:"default",iconClass:"",stylingOptions:["size","themeColor","fill"]});class yIe extends pse{constructor(i,e){super(i,e)}wrapper(){let i=this.element.className.split(" ").find(n=>n.startsWith("k-i-")),e=this.options.icon?`${this.options.icon.startsWith("k-i-")?"":"k-i-"}${this.options.icon}`:"";this._className=e,Qo(this.element,"k-icon"),dse(this.element,i),Qo(this.element,e),Qo(this.element,this.options.iconClass||""),super.wrapper()}}we(yIe,{name:"HTMLFontIcon",icon:null});class kIe extends pse{constructor(i,e){i.innerHTML="",super(i,e)}wrapper(){let i=this.options.icon,e=this.options.iconClass,n=this.element.className.split(" ").find(r=>r.startsWith("k-svg-i-"));if(!i&&e){let a=e.match(/k-i-(\w+(?:-\w+)*)/);a&&(i=a[1],e=e.replace(a[0],""))}rd(i)&&(i=i.replace("k-i-","").replace(/-./g,r=>r[1].toUpperCase()),i=this.options.svgIcons[i]||this.options.svgIcons[`${i}Icon`]);let o=i&&i.name?`k-svg-i-${i.name}`:"";if(this._className=o,Qo(this.element,"k-svg-icon"),dse(this.element,n),Qo(this.element,o),Qo(this.element,e||""),this.element.setAttribute("aria-hidden","true"),i&&function Kxt(s){return"[object Object]"===Object.prototype.toString.call(s)}(i)){let r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("viewBox",i.viewBox||""),r.setAttribute("focusable","false"),r.innerHTML=i.content||"",this.element.appendChild(r)}super.wrapper()}}we(kIe,{name:"HTMLSvgIcon",icon:null,svgIcons:{}});const wIe={svg:kIe,font:yIe};function LD(s,i){let e=s,n=i;return(!e||dh(e)&&!(e instanceof HTMLElement)||rd(e))&&(n=e,e=document.createElement("span")),rd(n)&&(n={icon:n}),n.type||(n.type="svg"),wIe[n.type]?new wIe[n.type](e,n).html():null}function fse(s){let i=qo,e=Er;for(let n=0,o=s.length;n<o;n++){const r=s[n];null!==r&&isFinite(r)&&(i=Math.min(i,r),e=Math.max(e,r))}return{min:i===qo?void 0:i,max:e===Er?void 0:e}}function DIe(s,i){for(let e=0;e<s.length;e++){const n=s[e];if(i(n,e,s))return n}}const SV=_a,nAt=/matrix\((.*)\)/;function OIe(s){const i=getComputedStyle(s).transform;return"none"===i?SV.unit():function iAt(s){const i=s.match(nAt);if(null===i||2!==i.length)return SV.unit();const e=i[1].split(",").map(n=>parseFloat(n));return new SV(...e)}(i)}const CV=function oAt(s){return new ju(s).isDark()?gi:Mo},TIe={};class rAt{constructor(i){this._index={},this._values=i?i.slice(0):[];for(let e=0;e<this._values.length;e++)this._index[this._values[e]]=e}values(){return this._values.filter(i=>i!==TIe)}has(i){return void 0!==this._index[i]}add(i){this.has(i)||(this._index[i]=this._values.length,this._values.push(i))}delete(i){const e=this._index[i];void 0!==e&&(this._values[e]=TIe,delete this._index[i])}clear(){this._index={},this._values=[]}get size(){return this._values.length}}class aAt{constructor(i){this._set=new Set(i)}values(){return Array.from(this._set)}has(i){return this._set.has(i)}add(i){this._set.add(i)}delete(i){this._set.delete(i)}clear(){this._set.clear()}get size(){return this._set.size}}function MIe(s){return(()=>{let s=!1;return"function"==typeof Set&&(s=new Set([1]).has(1)),s})()?new aAt(s):new rAt(s)}function IIe(s){throw s}function PD(s,i){return Object.prototype.hasOwnProperty.call(s,i)}class gS{constructor(){this.height=0,this.width=0,this.data=[]}clone(){const i=new gS;return i.height=this.height,i.width=this.width,i.data=this.data.map(e=>e.slice()),i}get(i,e){const n=this.data[i];return n?n[e]:null}set(i,e,n){let o=this.data[i];null==o&&(o=this.data[i]=[]),o[e]=n,i>=this.height&&(this.height=i+1),e>=this.width&&(this.width=e+1)}each(i,e){for(let n=0;n<this.height;++n)for(let o=0;o<this.width;++o){let r=this.get(n,o);if((e||null!=r)&&(r=i(r,n,o),void 0!==r))return r}}map(i,e){const n=new gS;return this.each(function(o,r,a){n.set(r,a,i(o,r,a))},e),n}transpose(){const i=new gS;return this.each(function(e,n,o){i.set(o,n,e)}),i}unit(i){this.width=this.height=i;const e=this.data=new Array(i);for(let n=i;--n>=0;){const o=e[n]=new Array(i);for(let r=i;--r>=0;)o[r]=n===r?1:0}return this}multiply(i){const e=this,n=new gS;for(let o=0;o<e.height;++o)for(let r=0;r<i.width;++r){let a=0;for(let l=0;l<e.width;++l){const c=e.get(o,l),u=i.get(l,r);"number"==typeof c&&"number"==typeof u&&(a+=c*u)}n.set(o,r,a)}return n}inverse(){const i=this.width,e=this.augment((new gS).unit(i)),n=e.data;for(let o=0;o<i;++o){const r=cAt(o,i,function(a){return n[a][o]});if(!n[r][o])return null;if(o!==r){let a=n[o];n[o]=n[r],n[r]=a}for(let a=o+1;a<i;++a){for(let l=o+1;l<2*i;++l)n[a][l]-=n[o][l]*n[a][o]/n[o][o];n[a][o]=0}}for(let o=0;o<i;++o)for(let r=n[o][o],a=0;a<2*i;++a)n[o][a]/=r;for(let o=i;--o>=0;)for(let r=o;--r>=0;)if(n[r][o])for(let a=2*i;--a>=i;)n[r][a]-=n[o][a]*n[r][o];return e.slice(0,i,i,i)}augment(i){const e=this.clone(),n=e.width;return i.each(function(o,r,a){e.set(r,a+n,o)}),e}slice(i,e,n,o){const r=new gS;for(let a=0;a<n;++a)for(let l=0;l<o;++l)r.set(a,l,this.get(i+a,e+l));return r}}function cAt(s,i,e){let n=e(s),o=s;for(let r=s+1;r<i;r++){const a=e(s);a>n&&(n=a,o=s)}return o}const xIe=gS;function FD(s,i){let e=qe(i-s,9);if(0===e){if(0===i)return.1;e=Math.abs(i)}const n=Math.pow(10,Math.floor(Math.log(e)/Math.log(10))),o=qe(e/n,10);let r=1;return r=o<1.904762?.2:o<4.761904?.5:o<9.523809?1:2,qe(n*r,10)}class bV extends ft{constructor(i,e){super(),this.x=i||0,this.y=e||0}clone(){return new bV(this.x,this.y)}equals(i){return i&&this.x===i.x&&this.y===i.y}rotate(i,e){const n=yr(e),o=Math.cos(n),r=Math.sin(n),{x:a,y:l}=i,{x:c,y:u}=this;return this.x=qe(a+(c-a)*o+(u-l)*r,3),this.y=qe(l+(u-l)*o-(c-a)*r,3),this}multiply(i){return this.x*=i,this.y*=i,this}distanceTo(i){const e=this.x-i.x,n=this.y-i.y;return Math.sqrt(e*e+n*n)}static onCircle(i,e,n){const o=yr(e);return new bV(i.x-n*Math.cos(o),i.y-n*Math.sin(o))}}const cn=bV;class EV extends ft{constructor(i,e,n,o){super(),this.x1=i||0,this.y1=e||0,this.x2=n||0,this.y2=o||0}equals(i){return this.x1===i.x1&&this.x2===i.x2&&this.y1===i.y1&&this.y2===i.y2}width(){return this.x2-this.x1}height(){return this.y2-this.y1}translate(i,e){return this.x1+=i,this.x2+=i,this.y1+=e,this.y2+=e,this}move(i,e){const n=this.height(),o=this.width();return ge(i)&&(this.x1=i,this.x2=this.x1+o),ge(e)&&(this.y1=e,this.y2=this.y1+n),this}wrap(i){return this.x1=Math.min(this.x1,i.x1),this.y1=Math.min(this.y1,i.y1),this.x2=Math.max(this.x2,i.x2),this.y2=Math.max(this.y2,i.y2),this}wrapPoint(i){const e=Ia(i),n=e?i[0]:i.x,o=e?i[1]:i.y;return this.wrap(new EV(n,o,n,o)),this}snapTo(i,e){return(e===kt||!e)&&(this.x1=i.x1,this.x2=i.x2),(e===Ot||!e)&&(this.y1=i.y1,this.y2=i.y2),this}alignTo(i,e){const n=this.height(),o=this.width(),r=e===Qn||e===Di?Ot:kt,a=r===Ot?n:o;if(e===Cn){const l=i.center(),c=this.center();this.x1+=l.x-c.x,this.y1+=l.y-c.y}else this[r+1]=e===Qn||e===jn?i[r+1]-a:i[r+2];return this.x2=this.x1+o,this.y2=this.y1+n,this}shrink(i,e){return this.x2-=i,this.y2-=e,this}expand(i,e){return this.shrink(-i,-e),this}pad(i){const e=zi(i);return this.x1-=e.left,this.x2+=e.right,this.y1-=e.top,this.y2+=e.bottom,this}unpad(i){const e=zi(i);return e.left=-e.left,e.top=-e.top,e.right=-e.right,e.bottom=-e.bottom,this.pad(e)}clone(){return new EV(this.x1,this.y1,this.x2,this.y2)}center(){return new cn(this.x1+this.width()/2,this.y1+this.height()/2)}containsPoint(i){return i.x>=this.x1&&i.x<=this.x2&&i.y>=this.y1&&i.y<=this.y2}points(){return[new cn(this.x1,this.y1),new cn(this.x2,this.y1),new cn(this.x2,this.y2),new cn(this.x1,this.y2)]}getHash(){return[this.x1,this.y1,this.x2,this.y2].join(",")}overlaps(i){return!(i.y2<this.y1||this.y2<i.y1||i.x2<this.x1||this.x2<i.x1)}rotate(i){let e=this.width(),n=this.height();const{x:o,y:r}=this.center(),a=yV(0,0,o,r,i),l=yV(e,0,o,r,i),c=yV(e,n,o,r,i),u=yV(0,n,o,r,i);return e=Math.max(a.x,l.x,c.x,u.x)-Math.min(a.x,l.x,c.x,u.x),n=Math.max(a.y,l.y,c.y,u.y)-Math.min(a.y,l.y,c.y,u.y),this.x2=this.x1+e,this.y2=this.y1+n,this}toRect(){return new On([this.x1,this.y1],[this.width(),this.height()])}hasSize(){return 0!==this.width()&&0!==this.height()}align(i,e,n){const o=e+1,r=e+2,a=e===kt?mV:hV,l=this[a]();Gn(n,[jn,Qn])?(this[o]=i[o],this[r]=this[o]+l):Gn(n,[Oi,Di])?(this[r]=i[r],this[o]=this[r]-l):n===Cn&&(this[o]=i[o]+(i[a]()-l)/2,this[r]=this[o]+l)}}function yV(s,i,e,n,o){const r=yr(o);return new cn(e+(s-e)*Math.cos(r)+(i-n)*Math.sin(r),n-(s-e)*Math.sin(r)+(i-n)*Math.cos(r))}const ze=EV;class mse extends ft{constructor(i,e,n,o,r){super(),this.center=i,this.innerRadius=e,this.radius=n,this.startAngle=o,this.angle=r}clone(){return new mse(this.center,this.innerRadius,this.radius,this.startAngle,this.angle)}middle(){return this.startAngle+this.angle/2}setRadius(i,e){return e?this.innerRadius=i:this.radius=i,this}point(i,e){const n=yr(i),o=Math.cos(n),r=Math.sin(n),a=e?this.innerRadius:this.radius,l=qe(this.center.x-o*a,3),c=qe(this.center.y-r*a,3);return new cn(l,c)}adjacentBox(i,e,n){const o=this.clone().expand(i),r=o.middle(),a=o.point(r),l=e/2,c=n/2,u=Math.sin(yr(r)),f=Math.cos(yr(r));let _=a.x-l,g=a.y-c;return Math.abs(u)<.9&&(_+=l*-f/Math.abs(f)),Math.abs(f)<.9&&(g+=c*-u/Math.abs(u)),new ze(_,g,_+e,g+n)}containsPoint(i){const e=this.center,n=this.innerRadius,o=this.radius,r=this.startAngle,a=this.startAngle+this.angle,l=i.x-e.x,c=i.y-e.y,u=new cn(l,c),f=this.point(r),_=new cn(f.x-e.x,f.y-e.y),g=this.point(a),S=new cn(g.x-e.x,g.y-e.y),b=qe(l*l+c*c,3);return(_.equals(u)||cIe(_,u))&&!cIe(S,u)&&b>=n*n&&b<=o*o}getBBox(){const i=new ze(qo,qo,Er,Er),e=qe(this.startAngle%360),n=qe((e+this.angle)%360),o=this.innerRadius,r=[0,90,180,270,e,n].sort(dAt),a=r.indexOf(e),l=r.indexOf(n);let c;c=e===n?r:a<l?r.slice(a,l+1):[].concat(r.slice(0,l+1),r.slice(a,r.length));for(let u=0;u<c.length;u++){let f=this.point(c[u]);i.wrapPoint(f),i.wrapPoint(f,o)}return o||i.wrapPoint(this.center),i}expand(i){return this.radius+=i,this}}function dAt(s,i){return s-i}const wR=mse;class _se extends ft{createRing(i,e){const n=i.startAngle+180;let o=i.angle+n;(0===i.angle||i.angle>0&&n===o)&&(o+=.001);const r=new Ie(i.center.x,i.center.y),a=Math.max(i.radius,0),l=Math.max(i.innerRadius,0),c=new dg(r,{startAngle:n,endAngle:o,radiusX:a,radiusY:a}),u=ct.fromArc(c,e).close();if(l){c.radiusX=c.radiusY=l;const f=c.pointAt(o);u.lineTo(f.x,f.y),u.arc(o,n,l,l,!0)}else u.lineTo(r.x,r.y);return u}}_se.current=new _se;const kV=_se;function hAt(s){return.5-Math.cos(s*Math.PI)/2}function pAt(s){return s}function fAt(s,i,e,n){let o=1.70158,r=0,a=n;return 0===s?e:1===s?e+n:(r||(r=.5),a<Math.abs(n)?(a=n,o=r/4):o=r/(2*Math.PI)*Math.asin(n/a),a*Math.pow(2,-10*s)*Math.sin((Number(s)-o)*(1.1*Math.PI)/r)+n+e)}const wV=Date.now||function(){return(new Date).getTime()};let gse=s=>{const i=typeof window<"u"?window:{},e=i.requestAnimationFrame||i.webkitRequestAnimationFrame||i.mozRequestAnimationFrame||i.oRequestAnimationFrame||i.msRequestAnimationFrame||function(n){setTimeout(n,1e3/60)};gse=n=>e.call(i,n),gse(s)};const RIe=gse;let vse;class Sse extends ft{static get current(){return vse||(vse=new Sse),vse}constructor(){super(),this._items=[]}register(i,e){this._items.push({name:i,type:e})}create(i,e){const n=this._items;let o;if(e&&e.type){const r=e.type.toLowerCase();for(let a=0;a<n.length;a++)if(n[a].name.toLowerCase()===r){o=n[a];break}}if(o)return new o.type(i,e)}}const vm=Sse,hh=class mAt extends ft{static create(i,e,n){return vm.current.create(i,e,n)}get options(){return this._options||{duration:500,easing:"swing"}}set options(i){this._options=i}constructor(i,e){super(),this.options=Object.assign({},this.options,e),this.element=i}setup(){}step(){}play(){const i=this.options,{duration:e,delay:n=0}=i,o=je[i.easing],r=wV()+n,a=r+e;0===e?(this.step(1),this.abort()):setTimeout(()=>{const l=()=>{if(this._stopped)return;const c=wV(),u=$F(c-r,0,e),_=o(u/e,u,0,1,e);this.step(_),c<a?RIe(l):this.abort()};l()},n)}abort(){this._stopped=!0}destroy(){this.abort()}};class NIe extends ft{constructor(i){super(),this.children=[],this.options=K({},this.options,this.initUserOptions(i))}initUserOptions(i){return i}reflow(i){const e=this.children;let n;for(let o=0;o<e.length;o++){let r=e[o];r.reflow(i),n=n?n.wrap(r.box):r.box.clone()}this.box=n||i}destroy(){const i=this.children;this.animation&&this.animation.destroy();for(let e=0;e<i.length;e++)i[e].destroy()}getRoot(){const i=this.parent;return i?i.getRoot():null}getSender(){const i=this.getService();if(i)return i.sender}getService(){let i=this;for(;i;){if(i.chartService)return i.chartService;i=i.parent}}translateChildren(i,e){const n=this.children,o=n.length;for(let r=0;r<o;r++)n[r].box.translate(i,e)}append(){for(let i=0;i<arguments.length;i++){let e=arguments[i];this.children.push(e),e.parent=this}}renderVisual(){!1!==this.options.visible&&(this.createVisual(),this.addVisual(),this.renderChildren(),this.createAnimation(),this.renderComplete())}addVisual(){this.visual&&(this.visual.chartElement=this,this.parent&&this.parent.appendVisual(this.visual))}renderChildren(){const i=this.children,e=i.length;for(let n=0;n<e;n++)i[n].renderVisual()}createVisual(){this.visual=new Vn({zIndex:this.options.zIndex,visible:ln(this.options.visible,!0)})}createAnimation(){this.visual&&this.options.animation&&(this.animation=hh.create(this.visual,this.options.animation))}appendVisual(i){i.chartElement||(i.chartElement=this),i.options.noclip?this.clipRoot().visual.append(i):ge(i.options.zIndex)?this.stackRoot().stackVisual(i):this.isStackRoot?this.stackVisual(i):this.visual?this.visual.append(i):this.parent.appendVisual(i)}clipRoot(){return this.parent?this.parent.clipRoot():this}stackRoot(){return this.parent?this.parent.stackRoot():this}stackVisual(i){const e=i.options.zIndex||0,n=this.visual.children,o=n.length;let r;for(r=0;r<o&&!(ln(n[r].options.zIndex,0)>e);r++);this.visual.insert(r,i)}traverse(i){const e=this.children,n=e.length;for(let o=0;o<n;o++){let r=e[o];i(r),r.traverse&&r.traverse(i)}}closest(i){let e=this,n=!1;for(;e&&!n;)n=i(e),n||(e=e.parent);if(n)return e}renderComplete(){}hasHighlight(){const i=(this.options||{}).highlight;return!(!this.createHighlight||i&&!1===i.visible||!1===this.visible)}toggleHighlight(i,e){const n=(this.options||{}).highlight||{},o=n.visual;let r=this._highlight;if(!r){const a={fill:{color:gi,opacity:e||.2},stroke:{color:gi,width:1,opacity:e||.2}};if(o){if(r=this._highlight=o(Object.assign(this.highlightVisualArgs(),{createVisual:()=>this.createHighlight(a),sender:this.getSender(),series:this.series,dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,runningTotal:this.runningTotal,total:this.total})),!r)return}else r=this._highlight=this.createHighlight(a);ge(r.options.zIndex)||(r.options.zIndex=ln(n.zIndex,this.options.zIndex)),this.appendVisual(r)}r.visible(i)}toggleFocusHighlight(i){const e=((this.options||{}).accessibility||{}).highlight||{};let n=this._focusHighlight;if(i||n){if(!n){const o=this.getRoot().options.background,r=CV(o),a={fill:{opacity:e.opacity,color:e.color},stroke:Object.assign({},{color:r},e.border),zIndex:e.zIndex};n=this._focusHighlight=this.createFocusHighlight(a),this.appendVisual(n)}n.visible(i)}}createGradientOverlay(i,e,n){const o=new ct(Object.assign({stroke:{color:"none"},fill:this.createGradient(n),closed:i.options.closed},e));return o.segments.elements(i.segments.elements()),o}createGradient(i){if(this.parent)return this.parent.createGradient(i)}supportsPointInactiveOpacity(){return!0}}NIe.prototype.options={};const Ki=NIe;class LIe extends Ki{constructor(i){super(i),this.options.margin=zi(this.options.margin),this.options.padding=zi(this.options.padding)}reflow(i){const e=this.options,{width:n,height:o,shrinkToFit:r}=e,a=n&&o,l=e.margin,c=e.padding,u=e.border.width;let f;const _=()=>{this.align(i,kt,e.align),this.align(i,Ot,e.vAlign),this.paddingBox=f.clone().unpad(l).unpad(u)};let g=i.clone();a&&(g.x2=g.x1+n,g.y2=g.y1+o),r&&g.unpad(l).unpad(u).unpad(c),super.reflow(g),f=a?this.box=new ze(0,0,n,o):this.box,r&&a?(_(),g=this.contentBox=this.paddingBox.clone().unpad(c)):(g=this.contentBox=f.clone(),f.pad(c).pad(u).pad(l),_()),this.translateChildren(f.x1-g.x1+l.left+u+c.left,f.y1-g.y1+l.top+u+c.top);const S=this.children;for(let b=0;b<S.length;b++){let k=S[b];k.reflow(k.box)}}align(i,e,n){this.box.align(i,e,n)}hasBox(){const i=this.options;return i.border.width||i.background}createVisual(){super.createVisual(),this.options.visible&&this.hasBox()&&this.visual.append(ct.fromRect(this.paddingBox.toRect(),this.visualStyle()))}visualStyle(){const i=this.options,e=i.border||{};return{stroke:{width:e.width,color:e.color,opacity:ln(e.opacity,i.opacity),dashType:e.dashType},fill:{color:i.background,opacity:i.opacity},cursor:i.cursor}}}we(LIe,{align:jn,vAlign:Qn,margin:{},padding:{},border:{color:Mo,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0});const vS=LIe;function Cse(s,i){i&&(s.options.className=i.className,s.options.role=i.role,s.options.ariaLabel=i.ariaLabel,s.options.ariaRoleDescription=i.ariaRoleDescription,s.options.ariaChecked=i.ariaChecked)}class GIe extends vS{constructor(i,e){super(i),this.pointData=e}getElement(){const{options:i,paddingBox:e}=this,{type:n,rotation:o}=i,r=e.center(),a=e.width()/2,l=e.height()/2;if(!i.visible||!this.hasBox())return null;const c=this.visualStyle();let u;if(n===od)u=new Xd(new Cl([qe(e.x1+a,3),qe(e.y1+l,3)],Math.min(a,l)),c);else if("triangle"===n)u=ct.fromPoints([[e.x1+a,e.y1],[e.x1,e.y2],[e.x2,e.y2]],c).close();else if("cross"===n)u=new ed(c),u.moveTo(e.x1,e.y1).lineTo(e.x2,e.y2),u.moveTo(e.x1,e.y2).lineTo(e.x2,e.y1);else{const f=e.toRect();if(n===aIe){const _=ln(i.borderRadius,f.width()/5);f.setCornerRadius(_)}u=ct.fromRect(f,c)}return o&&u.transform(Ui().rotate(-o,[r.x,r.y])),u.options.zIndex=i.zIndex,u}createElement(){const i=this.options.visual,e=this.pointData||{};let n;return n=i?i({value:e.value,dataItem:e.dataItem,sender:this.getSender(),series:e.series,category:e.category,rect:this.paddingBox.toRect(),options:this.visualOptions(),createVisual:()=>this.getElement()}):this.getElement(),n}visualOptions(){const i=this.options;return{background:i.background,border:i.border,margin:i.margin,padding:i.padding,type:i.type,size:i.width,visible:i.visible}}createVisual(){this.visual=this.createElement(),Cse(this.visual,this.options.accessibilityOptions)}}we(GIe,{type:od,align:Cn,vAlign:Cn});const kl=GIe,DR="radial",gAt={glass:{type:"linear",rotation:0,stops:[{offset:0,color:gi,opacity:0},{offset:.25,color:gi,opacity:.3},{offset:1,color:gi,opacity:0}]},sharpBevel:{type:DR,stops:[{offset:0,color:gi,opacity:.55},{offset:.65,color:gi,opacity:0},{offset:.95,color:gi,opacity:.25}]},roundedBevel:{type:DR,stops:[{offset:.33,color:gi,opacity:.06},{offset:.83,color:gi,opacity:.2},{offset:.95,color:gi,opacity:0}]},roundedGlass:{type:DR,supportVML:!1,stops:[{offset:0,color:gi,opacity:0},{offset:.5,color:gi,opacity:.3},{offset:.99,color:gi,opacity:0}]},sharpGlass:{type:DR,supportVML:!1,stops:[{offset:0,color:gi,opacity:.2},{offset:.15,color:gi,opacity:.15},{offset:.17,color:gi,opacity:.35},{offset:.85,color:gi,opacity:.05},{offset:.87,color:gi,opacity:.15},{offset:.99,color:gi,opacity:0}]},bubbleShadow:{type:DR,center:[.5,.5],radius:.5}};function vAt(s,i){if(s.x1===i.x1&&s.y1===i.y1&&s.x2===i.x2&&s.y2===i.y2)return i;const e=Math.min(s.x1,i.x1),n=Math.max(s.x1,i.x1),o=Math.min(s.x2,i.x2),r=Math.max(s.x2,i.x2),a=Math.min(s.y1,i.y1),l=Math.max(s.y1,i.y1),c=Math.min(s.y2,i.y2),u=Math.max(s.y2,i.y2),f=[];return f[0]=new ze(n,a,o,l),f[1]=new ze(e,l,n,c),f[2]=new ze(o,l,r,c),f[3]=new ze(n,c,o,u),s.x1===e&&s.y1===a||i.x1===e&&i.y1===a?(f[4]=new ze(e,a,n,l),f[5]=new ze(o,c,r,u)):(f[4]=new ze(o,a,r,l),f[5]=new ze(e,c,n,u)),su(f,function(_){return _.height()>0&&_.width()>0})[0]}class PIe extends Ki{constructor(i){super(i);const e=this.options;e.width=parseInt(e.width,10),e.height=parseInt(e.height,10),this.gradients={}}reflow(){const{options:i,children:e}=this;let n=new ze(0,0,i.width,i.height);this.box=n.unpad(i.margin);for(let o=0;o<e.length;o++)e[o].reflow(n),n=vAt(n,e[o].box)||new ze}createVisual(){this.visual=new Vn,this.createBackground()}createBackground(){const i=this.options,e=i.border||{},n=this.box.clone().pad(i.margin).unpad(e.width),o=ct.fromRect(n.toRect(),{stroke:{color:e.width?e.color:"",width:e.width,dashType:e.dashType},fill:{color:i.background,opacity:i.opacity},zIndex:-10});this.visual.append(o)}getRoot(){return this}createGradient(i){const e=this.gradients,n=Qxt(i),o=gAt[i.gradient];let r;if(e[n])r=e[n];else{const a=Object.assign({},o,i);"linear"===o.type?r=new _7(a):(i.innerRadius&&(a.stops=function SAt(s){const i=s.stops,e=s.innerRadius/s.radius*100,n=i.length,o=[];for(let r=0;r<n;r++){let a=Object.assign({},i[r]);a.offset=(a.offset*(100-e)+e)/100,o.push(a)}return o}(a)),r=new C7(a),r.supportVML=!1!==o.supportVML),e[n]=r}return r}cleanGradients(){const i=this.gradients;for(let e in i)i[e]._observers=[]}size(){const i=this.options;return new ze(0,0,i.width,i.height)}}we(PIe,{width:600,height:400,background:gi,border:{color:Mo,width:0},margin:zi(5),zIndex:-2});const CAt=PIe;class FIe extends Ki{constructor(i){super(i),this._initDirection()}_initDirection(){const i=this.options;i.vertical?(this.groupAxis=kt,this.elementAxis=Ot,this.groupSizeField=mV,this.elementSizeField=hV,this.groupSpacing=i.spacing,this.elementSpacing=i.vSpacing):(this.groupAxis=Ot,this.elementAxis=kt,this.groupSizeField=hV,this.elementSizeField=mV,this.groupSpacing=i.vSpacing,this.elementSpacing=i.spacing)}reflow(i){this.box=i.clone(),this.reflowChildren()}reflowChildren(){const{box:i,elementAxis:e,groupAxis:n,elementSizeField:o,groupSizeField:r}=this,{groups:a,groupsSize:l,maxGroupElementsSize:c}=this.groupOptions(),u=a.length,f=i[n+1]+this.alignStart(l,i[r]());if(u){let _=f;for(let g=0;g<u;g++){let S=a[g],b=S.groupElements,k=i[e+1],D=b.length;for(let O=0;O<D;O++){let I=b[O],N=this.elementSize(I),P=_+this.alignStart(N[r],S.groupSize),G=new ze;G[n+1]=P,G[n+2]=P+N[r],G[e+1]=k,G[e+2]=k+N[o],I.reflow(G),k+=N[o]+this.elementSpacing}_+=S.groupSize+this.groupSpacing}i[n+1]=f,i[n+2]=f+l,i[e+2]=i[e+1]+c}}alignStart(i,e){let n=0;const o=this.options.align;return o===Oi||o===Di?n=e-i:o===Cn&&(n=(e-i)/2),n}groupOptions(){const{box:i,children:e,elementSizeField:n,groupSizeField:o,elementSpacing:r,groupSpacing:a}=this,l=qe(i[n]()),c=e.length,u=[];let f=0,_=0,g=0,S=0,b=[];for(let k=0;k<c;k++){let D=e[k];D.box||D.reflow(i);let O=this.elementSize(D);this.options.wrap&&qe(_+r+O[n])>l&&(u.push({groupElements:b,groupSize:f,groupElementsSize:_}),S=Math.max(S,_),g+=a+f,f=0,_=0,b=[]),f=Math.max(f,O[o]),_>0&&(_+=r),_+=O[n],b.push(D)}return u.push({groupElements:b,groupSize:f,groupElementsSize:_}),S=Math.max(S,_),g+=f,{groups:u,groupsSize:g,maxGroupElementsSize:S}}elementSize(i){return{width:i.box.width(),height:i.box.height()}}createVisual(){}}we(FIe,{vertical:!0,wrap:!0,vSpacing:0,spacing:0});const bse=FIe,bAt=tte;class UIe extends Ki{constructor(i,e){super(e),this.content=i,this.reflow(new ze)}reflow(i){const e=this.options,n=e.size=c7(this.content,{font:e.font});this.baseline=n.baseline,this.box=new ze(i.x1,i.y1,i.x1+n.width,i.y1+n.height)}createVisual(){const{font:i,color:e,opacity:n,cursor:o}=this.options;this.visual=new bAt(this.content,this.box.toRect().topLeft(),{font:i,fill:{color:e,opacity:n},cursor:o})}}we(UIe,{font:iIe,color:Mo});const EAt=UIe;function UD(s){const i=s.origin,e=s.bottomRight();return new ze(i.x,i.y,e.x,e.y)}const yAt=/\n/m,ad=class kAt extends vS{constructor(i,e,n){super(e),this.content=i,this.data=n,this._initContainer(),!1!==this.options._autoReflow&&this.reflow(new ze)}_initContainer(){const i=this.options,e=String(this.content).split(yAt),n=new bse({vertical:!0,align:i.align,wrap:!1}),o=K({},i,{opacity:1,animation:null});this.container=n,this.append(n);for(let r=0;r<e.length;r++){let a=new EAt(e[r].trim(),o);n.append(a)}}reflow(i){const e=this.options,n=e.visual;if(this.container.options.align=e.align,n&&!this._boxReflow){let o=i;o.hasSize()||(this._boxReflow=!0,this.reflow(o),this._boxReflow=!1,o=this.box);const r=this.visual=n(this.visualContext(o));r&&(o=UD(r.clippedBBox()||new On),r.options.zIndex=e.zIndex),this.box=this.contentBox=this.paddingBox=o}else if(super.reflow(i),e.rotation){const o=zi(e.margin);let r=this.box.unpad(o);this.targetBox=i,this.normalBox=r.clone(),r=this.rotate(),r.translate(o.left-o.right,o.top-o.bottom),this.rotatedBox=r.clone(),r.pad(o)}}createVisual(){const i=this.options;if(this.visual=new Vn({transform:this.rotationTransform(),zIndex:i.zIndex,noclip:i.noclip}),this.hasBox()){const e=ct.fromRect(this.paddingBox.toRect(),this.visualStyle());this.visual.append(e)}}renderVisual(){if(this.options.visible)if(this.options.visual){const i=this.visual;i&&!ge(i.options.noclip)&&(i.options.noclip=this.options.noclip),this.addVisual(),this.createAnimation()}else super.renderVisual()}visualContext(i){const e={text:this.content,rect:i.toRect(),sender:this.getSender(),options:this.options,createVisual:()=>(this._boxReflow=!0,this.reflow(i),this._boxReflow=!1,this.getDefaultVisual())};return this.data&&Object.assign(e,this.data),e}getDefaultVisual(){this.createVisual(),this.renderChildren();const i=this.visual;return delete this.visual,i}rotate(){const i=this.options;return this.box.rotate(i.rotation),this.align(this.targetBox,kt,i.align),this.align(this.targetBox,Ot,i.vAlign),this.box}rotationTransform(){const i=this.options.rotation;if(!i)return null;const{x:e,y:n}=this.normalBox.center(),o=this.rotatedBox.center();return Ui().translate(o.x-e,o.y-n).rotate(i,[e,n])}};class DV extends Ki{constructor(i){super(i),this._textBox=new ad(this.options.text,Object.assign({},this.options,{vAlign:this.options.position})),this.append(this._textBox)}reflow(i){super.reflow(i),this.box.snapTo(i,kt)}static buildTitle(i,e){let o,n=i;return"string"==typeof i&&(n={text:i}),n=Object.assign({visible:!0},e,n),n&&n.visible&&n.text&&(o=new DV(n)),o}static orderTitles(i){const e=[].concat(i),n=e.filter(r=>r&&r.options.position!==Di),o=e.filter(r=>r&&r.options.position===Di);return BIe(n),BIe(o),o.reverse(),n.concat(o)}}function BIe(s){for(let i=1;i<s.length;i++){const e=s[i]._textBox,n=s[i-1]._textBox;n.options.margin=Object.assign(zi(n.options.margin),{bottom:0}),e.options.margin=Object.assign(zi(e.options.margin),{top:0})}}we(DV,{color:Mo,position:Qn,align:Cn,margin:zi(5),padding:zi(5)});const OR=DV;class VIe extends ad{constructor(i,e,n,o,r){super(e,r),this.text=e,this.value=i,this.index=n,this.dataItem=o,this.reflow(new ze)}visualContext(i){const e=super.visualContext(i);return e.value=this.value,e.dataItem=this.dataItem,e.format=this.options.format,e.culture=this.options.culture,e}click(i,e){i.trigger("axisLabelClick",{element:bp(e),value:this.value,text:this.text,index:this.index,dataItem:this.dataItem,axis:this.parent.options})}rotate(){if(this.options.alignRotation!==Cn){const i=this.normalBox.toRect(),e=this.rotationTransform();this.box=UD(i.bbox(e.matrix()))}else super.rotate();return this.box}rotationTransform(){const i=this.options,e=i.rotation;if(!e)return null;if(i.alignRotation===Cn)return super.rotationTransform();const n=Ui().rotate(e).matrix(),o=this.normalBox.toRect(),r=this.targetBox.toRect(),a=i.rotationOrigin||Qn,l=a===Qn||a===Di?kt:Ot,c=a===Qn||a===Di?Ot:kt,u=a===Qn||a===jn?r.origin:r.bottomRight(),f=o.topLeft().transformCopy(n),_=o.topRight().transformCopy(n),g=o.bottomRight().transformCopy(n),S=o.bottomLeft().transformCopy(n),b=On.fromPoints(f,_,g,S),k={[c]:r.origin[c]-b.origin[c]},D=Math.abs(f[c]+k[c]-u[c]),O=Math.abs(_[c]+k[c]-u[c]);let I,N;qe(D,10)===qe(O,10)?(I=f,N=_):O<D?(I=_,N=g):(I=f,N=S);const P=I[l]+(N[l]-I[l])/2;return k[l]=r.center()[l]-P,Ui().translate(k.x,k.y).rotate(e)}}we(VIe,{_autoReflow:!1});const Eb=VIe;class jIe extends vS{constructor(i,e,n){super(e),this.fields=i,this.chartService=n,this.render()}hide(){this.options.visible=!1}show(){this.options.visible=!0}render(){const i=this.options;if(i.visible){const{label:e,icon:n}=i,o=new ze,r=()=>this;let c,u,a=n.size,l=this.fields.text;if(ge(e)&&e.visible){const _=ta(e);_?l=_(this.fields):e.format&&(l=this.chartService.format.auto(e.format,l)),e.color||(e.color=e.position===ose?"#fff":n.background),this.label=new ad(l,K({},e)),this.label.aliasFor=r,e.position===ose&&!ge(a)&&(n.type===od?a=Math.max(this.label.box.width(),this.label.box.height()):(c=this.label.box.width(),u=this.label.box.height()),o.wrap(this.label.box))}n.width=c||a||7,n.height=u||a||7;const f=new kl(K({},n));f.aliasFor=r,this.marker=f,this.append(f),this.label&&this.append(this.label),f.reflow(new ze),this.wrapperBox=o.wrap(f.box)}}reflow(i){const{options:e,label:n,marker:o,wrapperBox:r}=this,a=i.center(),l=e.line.length,c=e.position;if(e.visible){let u,f,_;Gn(c,[jn,Oi])?c===jn?(_=r.alignTo(i,c).translate(-l,i.center().y-r.center().y),e.line.visible&&(u=[i.x1,a.y],this.linePoints=[u,[_.x2,a.y]],f=_.clone().wrapPoint(u))):(_=r.alignTo(i,c).translate(l,i.center().y-r.center().y),e.line.visible&&(u=[i.x2,a.y],this.linePoints=[u,[_.x1,a.y]],f=_.clone().wrapPoint(u))):c===Di?(_=r.alignTo(i,c).translate(i.center().x-r.center().x,l),e.line.visible&&(u=[a.x,i.y2],this.linePoints=[u,[a.x,_.y1]],f=_.clone().wrapPoint(u))):(_=r.alignTo(i,c).translate(i.center().x-r.center().x,-l),e.line.visible&&(u=[a.x,i.y1],this.linePoints=[u,[a.x,_.y2]],f=_.clone().wrapPoint(u))),o&&o.reflow(_),n&&(n.reflow(_),o&&(e.label.position===pV&&n.box.alignTo(o.box,c),n.reflow(n.box))),this.contentBox=_,this.targetBox=i,this.box=f||_}}createVisual(){super.createVisual(),this.visual.options.noclip=this.options.noclip,this.options.visible&&this.createLine()}renderVisual(){const i=this.options,e=i.visual;i.visible&&e?(this.visual=e(Object.assign(this.fields,{sender:this.getSender(),rect:this.targetBox.toRect(),options:{background:i.background,border:i.background,icon:i.icon,label:i.label,line:i.line,position:i.position,visible:i.visible},createVisual:()=>{this.createVisual(),this.renderChildren();const n=this.visual;return delete this.visual,n}})),this.addVisual()):super.renderVisual()}createLine(){const i=this.options.line;if(this.linePoints){const e=ct.fromPoints(this.linePoints,{stroke:{color:i.color,width:i.width,dashType:i.dashType}});iu(e),this.visual.append(e)}}click(i,e){const n=this.eventArgs(e);i.trigger("noteClick",n)||e.preventDefault()}over(i,e){const n=this.eventArgs(e);i.trigger("noteHover",n)||e.preventDefault()}out(i,e){const n=this.eventArgs(e);i.trigger("noteLeave",n)}eventArgs(i){const e=this.options;return Object.assign(this.fields,{element:bp(i),text:ge(e.label)?e.label.text:"",visual:this.visual})}}we(jIe,{icon:{visible:!0,type:od},label:{position:ose,visible:!0,align:Cn,vAlign:Cn},line:{visible:!0},visible:!0,position:Qn,zIndex:2});const HIe=jIe;let $Ie={format:(s,i)=>i,toString:s=>s,parseDate:s=>new Date(s),firstDay:()=>0};const XIe=class DAt{static register(i){$Ie=i}static get implementation(){return $Ie}},OAt=/\{(\d+)(:[^\}]+)?\}/g,MAt=class TAt{constructor(i){this._intlService=i}get intl(){return this._intlService||XIe.implementation}set intl(i){this._intlService=i}auto(i,...e){const n=this.intl;return rd(i)&&i.match(oIe)?n.format(i,...e):n.toString(e[0],i)}localeAuto(i,e,n){const o=this.intl;let r;return r=rd(i)&&i.match(oIe)?i.replace(OAt,function(a,l,c){let u=e[parseInt(l,10)];return o.toString(u,c?c.substring(1):"",n)}):o.toString(e[0],i,n),r}},Ese=class IAt{constructor(i,e={}){this._intlService=e.intlService,this.sender=e.sender||i,this.format=new MAt(e.intlService),this.chart=i,this.rtl=!!e.rtl}get intl(){return this._intlService||XIe.implementation}set intl(i){this._intlService=i,this.format.intl=i}notify(i,e){this.chart&&this.chart.trigger(i,e)}isPannable(i){const e=((this.chart||{}).options||{}).pannable;return e&&e.lock!==i}};let yse;const WIe=class xAt{static register(i){yse=i}static create(i,e){if(yse)return yse.create(i,e)}};function YIe(s,i){const{tickX:e,tickY:n,position:o}=s,r=new ct({stroke:{width:i.width,color:i.color}});return s.vertical?r.moveTo(e,o).lineTo(e+i.size,o):r.moveTo(o,n).lineTo(o,n+i.size),iu(r),r}function KIe(s,i){const{lineStart:e,lineEnd:n,position:o}=s,r=new ct({stroke:{width:i.width,color:i.color,dashType:i.dashType}});return s.vertical?r.moveTo(e,o).lineTo(n,o):r.moveTo(o,e).lineTo(o,n),iu(r),r}class JIe extends Ki{constructor(i,e=new Ese){super(i),this.chartService=e,this.options.visible||(this.options=K({},this.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),this.options.minorTicks=K({},{color:this.options.line.color,width:this.options.line.width,visible:"none"!==this.options.minorTickType},this.options.minorTicks,{size:this.options.minorTickSize,align:this.options.minorTickType}),this.options.majorTicks=K({},{color:this.options.line.color,width:this.options.line.width,visible:"none"!==this.options.majorTickType},this.options.majorTicks,{size:this.options.majorTickSize,align:this.options.majorTickType}),this.initFields(),this.options._deferLabels||this.createLabels(),this.createTitle(),this.createNotes()}initFields(){}labelsRange(){return{min:this.options.labels.skip,max:this.labelsCount()}}normalizeLabelRotation(i){const e=i.rotation;dh(e)&&(i.alignRotation=e.align,i.rotation=e.angle)}createLabels(){const i=this.options,n=K({},i.labels,{align:i.vertical?Oi:Cn,zIndex:i.zIndex}),o=Math.max(1,n.step);if(this.clearLabels(),n.visible){this.normalizeLabelRotation(n),"auto"===n.rotation&&(n.rotation=0,i.autoRotateLabels=!0);const r=this.labelsRange();for(let a=r.min;a<r.max;a+=o){let c=this.createAxisLabel(a,n,{index:a,count:r.max});c&&(this.append(c),this.labels.push(c))}}}clearLabels(){this.children=su(this.children,i=>!(i instanceof Eb)),this.labels=[]}clearTitle(){this.title&&(this.children=su(this.children,i=>i!==this.title),this.title=void 0)}clear(){this.clearLabels(),this.clearTitle()}lineBox(){const{options:i,box:e}=this,o=i.labels.mirror,r=o?e.x1:e.x2,a=o?e.y2:e.y1,l=i.line.width||0;return i.vertical?new ze(r,e.y1,r,e.y2-l):new ze(e.x1,a,e.x2-l,a)}createTitle(){const i=this.options,e=K({rotation:i.vertical?-90:0,text:"",zIndex:1,visualSize:!0},i.title);if(e.visible&&e.text){const n=new ad(e.text,e);this.append(n),this.title=n}}createNotes(){const i=this.options,e=i.notes,n=e.data||[];this.notes=[];for(let o=0;o<n.length;o++){const r=K({},e,n[o]);r.value=this.parseNoteValue(r.value);const a=new HIe({value:r.value,text:r.label.text,dataItem:r},r,this.chartService);a.options.visible&&(ge(a.options.position)?i.vertical&&!Gn(a.options.position,[jn,Oi])?a.options.position=i.reverse?jn:Oi:!i.vertical&&!Gn(a.options.position,[Qn,Di])&&(a.options.position=i.reverse?Di:Qn):a.options.position=i.vertical?i.reverse?jn:Oi:i.reverse?Di:Qn,this.append(a),this.notes.push(a))}}parseNoteValue(i){return i}renderVisual(){super.renderVisual(),this.createPlotBands()}createVisual(){super.createVisual(),this.createBackground(),this.createLine()}gridLinesVisual(){let i=this._gridLines;return i||(i=this._gridLines=new Vn({zIndex:-2}),this.appendVisual(this._gridLines)),i}createTicks(i){const e=this.options,n=this.lineBox(),o=e.labels.mirror,r=e.majorTicks.visible?e.majorUnit:0,a={vertical:e.vertical};function l(c,u,f){const _=c.length,g=Math.max(1,u.step);if(u.visible)for(let S=u.skip;S<_;S+=g)ge(f)&&S%f==0||(a.tickX=o?n.x2:n.x2-u.size,a.tickY=o?n.y1-u.size:n.y1,a.position=c[S],i.append(YIe(a,u)))}l(this.getMajorTickPositions(),e.majorTicks),l(this.getMinorTickPositions(),e.minorTicks,r/e.minorUnit)}createLine(){const i=this.options,e=i.line,n=this.lineBox();if(e.width>0&&e.visible){const o=new ct({stroke:{width:e.width,color:e.color,dashType:e.dashType}});o.moveTo(n.x1,n.y1).lineTo(n.x2,n.y2),i._alignLines&&iu(o);const r=this._lineGroup=new Vn;r.append(o),this.visual.append(r),this.createTicks(r)}}getActualTickSize(){const i=this.options;let e=0;return i.majorTicks.visible&&i.minorTicks.visible?e=Math.max(i.majorTicks.size,i.minorTicks.size):i.majorTicks.visible?e=i.majorTicks.size:i.minorTicks.visible&&(e=i.minorTicks.size),e}createBackground(){const{options:i,box:e}=this,n=i.background;n&&(this._backgroundPath=ct.fromRect(e.toRect(),{fill:{color:n},stroke:null}),this.visual.append(this._backgroundPath))}createPlotBands(){const i=this.options,e=i.plotBands||[],n=i.vertical,o=this.plotArea;if(0===e.length)return;const r=this._plotbandGroup=new Vn({zIndex:-1}),a=su(this.pane.axes,l=>l.options.vertical!==this.options.vertical)[0];for(let l=0;l<e.length;l++){let u,f,g,c=e[l],_=c.label;if(n?(u=(a||o.axisX).lineBox(),f=this.getSlot(c.from,c.to,!0)):(u=this.getSlot(c.from,c.to,!0),f=(a||o.axisY).lineBox()),_&&(_.vAlign=_.position||jn,g=this.createPlotBandLabel(_,c,new ze(u.x1,f.y1,u.x2,f.y2))),0!==u.width()&&0!==f.height()){const S=new On([u.x1,f.y1],[u.width(),f.height()]),b=ct.fromRect(S,{fill:{color:c.color,opacity:c.opacity},stroke:null});r.append(b),g&&r.append(g)}}this.appendVisual(r)}createPlotBandLabel(i,e,n){if(!1===i.visible)return null;let r,o=i.text;if(ge(i)&&i.visible){const a=ta(i);a?o=a({text:o,item:e}):i.format&&(o=this.chartService.format.auto(i.format,o)),i.color||(i.color=this.options.labels.color)}return r=new ad(o,i),r.reflow(n),r.renderVisual(),r.visual}createGridLines(i){const e=this.options,{minorGridLines:n,majorGridLines:o,minorUnit:r,vertical:a}=e,l=i.options.line.visible,c=o.visible?e.majorUnit:0,u=i.lineBox(),f=u[a?"y1":"x1"],_={lineStart:u[a?"x1":"y1"],lineEnd:u[a?"x2":"y2"],vertical:a},g=[],S=this.gridLinesVisual();function b(k,D,O){const I=k.length,N=Math.max(1,D.step);if(D.visible)for(let P=D.skip;P<I;P+=N){let G=qe(k[P]);Gn(G,g)||P%O!=0&&(!l||f!==G)&&(_.position=G,S.append(KIe(_,D)),g.push(G))}}return b(this.getMajorTickPositions(),o),b(this.getMinorTickPositions(),n,c/r),S.children}reflow(i){const{options:e,labels:n,title:o}=this,r=e.vertical,a=n.length,l=r?mV:hV,c=o?o.box[l]():0,u=this.getActualTickSize()+e.margin+c,_=((this.getRoot()||{}).box||i)[l]();let g=0;for(let S=0;S<a;S++){let b=n[S].box[l]();b+u<=_&&(g=Math.max(g,b))}this.box=r?new ze(i.x1,i.y1,i.x1+g+u,i.y2):new ze(i.x1,i.y1,i.x2,i.y1+g+u),this.arrangeTitle(),this.arrangeLabels(),this.arrangeNotes()}getLabelsTickPositions(){return this.getMajorTickPositions()}labelTickIndex(i){return i.index}arrangeLabels(){const{options:i,labels:e}=this,n=this.labelsBetweenTicks(),o=i.vertical,r=i.labels.mirror,a=this.getLabelsTickPositions();for(let l=0;l<e.length;l++){const c=e[l],u=this.labelTickIndex(c),f=o?c.box.height():c.box.width(),_=a[u],g=a[u+1];let S,b;o?(S=n?_+(g-_)/2-f/2:_-f/2,b=S):n?(S=_,b=g):(S=_-f/2,b=S+f),this.positionLabel(c,r,S,b)}}positionLabel(i,e,n,o=n){const r=this.options,a=r.vertical,l=this.lineBox(),c=this.getActualTickSize()+r.margin;let u;if(a){let f=l.x2;e?(f+=c,i.options.rotationOrigin=jn):(f-=c+i.box.width(),i.options.rotationOrigin=Oi),u=i.box.move(f,n)}else{let f=l.y1;e?(f-=c+i.box.height(),i.options.rotationOrigin=Di):(f+=c,i.options.rotationOrigin=Qn),u=new ze(n,f,o,f+i.box.height())}i.reflow(u)}autoRotateLabelAngle(i,e){return i.width()<e?0:i.height()>e?-90:-45}autoRotateLabels(){if(!this.options.autoRotateLabels||this.options.vertical)return!1;const i=this.getMajorTickPositions(),e=this.labels,n=Math.min(e.length,i.length-1);let o=0;for(let r=0;r<n;r++){const a=Math.abs(i[r+1]-i[r]),c=this.autoRotateLabelAngle(e[r].box,a);if(0!==c&&(o=c),-90===o)break}if(0!==o){for(let r=0;r<e.length;r++)e[r].options.rotation=o,e[r].reflow(new ze);return!0}}arrangeTitle(){const{options:i,title:e}=this,n=i.labels.mirror;e&&(i.vertical?(e.options.align=n?Oi:jn,e.options.vAlign=e.options.position):(e.options.align=e.options.position,e.options.vAlign=n?Qn:Di),e.reflow(this.box))}arrangeNotes(){for(let i=0;i<this.notes.length;i++){const e=this.notes[i],n=e.options.value;let o;ge(n)?(this.shouldRenderNote(n)?e.show():e.hide(),o=this.noteSlot(n)):e.hide(),e.reflow(o||this.lineBox())}}noteSlot(i){return this.getSlot(i)}alignTo(i){const e=i.lineBox(),n=this.options.vertical,o=n?Ot:kt;this.box.snapTo(e,o),n?this.box.shrink(0,this.lineBox().height()-e.height()):this.box.shrink(this.lineBox().width()-e.width(),0),this.box[o+1]-=this.lineBox()[o+1]-e[o+1],this.box[o+2]-=this.lineBox()[o+2]-e[o+2]}axisLabelText(i,e,n){let o;const r=ta(e),a=()=>e.format?this.chartService.format.localeAuto(e.format,[i],e.culture):i;return o=r?r(Object.assign({},n,{get text(){return a()},value:i,format:e.format,culture:e.culture})):a(),o}slot(i,e,n){const o=this.getSlot(i,e,n);if(o)return o.toRect()}contentBox(){const i=this.box.clone(),e=this.labels;if(e.length){const n=this.options.vertical?Ot:kt;if(this.chartService.isPannable(n)){const o=this.maxLabelOffset();i[n+1]-=o.start,i[n+2]+=o.end}else{e[0].options.visible&&i.wrap(e[0].box);const o=e[e.length-1];o.options.visible&&i.wrap(o.box)}}return i}maxLabelOffset(){const{vertical:i,reverse:e}=this.options,n=this.labelsBetweenTicks(),o=this.getLabelsTickPositions(),r=i?Ot:kt,a=this.labels,l=e?1:0,c=e?0:1;let u=0,f=0;for(let _=0;_<a.length;_++){const g=a[_],S=this.labelTickIndex(g);let b,k;n?(b=o[S+l],k=o[S+c]):b=k=o[S],u=Math.max(u,b-g.box[r+1]),f=Math.max(f,g.box[r+2]-k)}return{start:u,end:f}}limitRange(i,e,n,o,r){const a=this.options;if(i<n&&r<0&&(!ge(a.min)||a.min<=n)||o<e&&r>0&&(!ge(a.max)||o<=a.max))return null;if(e<n&&r>0||o<i&&r<0)return{min:i,max:e};const l=e-i;let c=i,u=e;return i<n&&r<0?(c=Vt(i,n,o),u=Vt(i+l,n+l,o)):e>o&&r>0&&(u=Vt(e,n,o),c=Vt(e-l,n,o-l)),{min:c,max:u}}valueRange(){return{min:this.seriesMin,max:this.seriesMax}}lineDir(){const{vertical:i,reverse:e}=this.options;return(i?-1:1)*(e?-1:1)}lineInfo(){const{vertical:i}=this.options,e=this.lineBox(),n=i?e.height():e.width(),o=i?Ot:kt,r=this.lineDir(),l=o+(1===r?1:2).toString();return{axis:o,axisOrigin:l,axisDir:r,lineBox:e,lineSize:n,lineStart:e[l]}}pointOffset(i){const{axis:e,axisDir:n,axisOrigin:o,lineBox:r,lineSize:a}=this.lineInfo();return(n>0?i[e]-r[o]:r[o]-i[e])/a}scaleToDelta(i,e){const o=Vt(i,-.999,.999);let r;return r=o>0?e*Math.min(1,o):e-e/(1+o),r}labelsBetweenTicks(){return!this.options.justified}prepareUserOptions(){}}we(JIe,{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:Mo,visible:!0},title:{visible:!0,position:Cn},majorTicks:{align:pV,size:4,skip:0,step:1},minorTicks:{align:pV,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:pV,minorTickType:"none",majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:Mo,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{label:{text:""}},_alignLines:!0,_deferLabels:!1});const TR=JIe,OV="milliseconds",kse="seconds",wse="minutes",MR="hours",Sm="days",IR="weeks",yb="months",Dg="years",Dse=1e3,BD=60*Dse,TV=60*BD,Og=24*TV,Ose=7*Og,Tse=31*Og,Mse=365*Og,Cm={years:Mse,months:Tse,weeks:Ose,days:Og,hours:TV,minutes:BD,seconds:Dse,milliseconds:1};function Ise(s,i){return s.getTime()-i-(s.getTimezoneOffset()-i.getTimezoneOffset())*BD}function na(s,i){return new Date(s.getTime()+i)}function Ss(s){let i;return s instanceof Date?i=s:s&&(i=new Date(s)),i}function MV(s,i){return 0===i&&23===s.getHours()&&(s.setHours(s.getHours()+2),!0)}function il(s,i,e,n){let o=s;if(s){let r=Ss(s);const a=r.getHours();e===Dg?(o=new Date(r.getFullYear()+i,0,1),MV(o,0)):e===yb?(o=new Date(r.getFullYear(),r.getMonth()+i,1),MV(o,a)):e===IR?(o=il(function RAt(s,i=0){let e=0,n=s.getDay();if(!isNaN(n))for(;n!==i;)0===n?n=6:n--,e++;return na(s,-e*Og)}(r,n),7*i,Sm),MV(o,a)):e===Sm?(o=new Date(r.getFullYear(),r.getMonth(),r.getDate()+i),MV(o,a)):e===MR?o=function NAt(s,i){const e=new Date(s);e.setMinutes(0,0,0);const n=(s.getTimezoneOffset()-e.getTimezoneOffset())*BD;return na(e,n+i*TV)}(r,i):e===wse?(o=na(r,i*BD),o.getSeconds()>0&&o.setSeconds(0)):e===kse?o=na(r,i*Dse):e===OV&&(o=na(r,i)),e!==OV&&o.getMilliseconds()>0&&o.setMilliseconds(0)}return o}function xse(s,i,e){return il(Ss(s),0,i,e)}function qIe(s,i,e){const n=Ss(s);return n&&xse(n,i,e).getTime()===n.getTime()?n:il(n,1,i,e)}function IV(s,i){return s&&i?s.getTime()-i.getTime():-1}function bm(s,i){return s.getTime()-i}function Cs(s){if(Ia(s)){let i=[];for(let e=0;e<s.length;e++)i.push(Cs(s[e]));return i}if(s)return Ss(s).getTime()}function xV(s,i){return s&&i?Cs(s)===Cs(i):s===i}function QIe(s,i,e){return Ise(s,i)/Cm[e]}function kb(s,i,e,n){const o=Ss(s),r=Ss(i);let a;return a=e===yb?o.getMonth()-r.getMonth()+12*(o.getFullYear()-r.getFullYear())+QIe(o,new Date(o.getFullYear(),o.getMonth()),Sm)/new Date(o.getFullYear(),o.getMonth()+1,0).getDate():e===Dg?o.getFullYear()-r.getFullYear()+kb(o,new Date(o.getFullYear(),0),yb,1)/12:e===Sm||e===IR?QIe(o,r,e):bm(o,i)/Cm[e],a/n}function Ase(s,i,e){let n;return n=e===Dg?i.getFullYear()-s.getFullYear():e===yb?12*Ase(s,i,Dg)+i.getMonth()-s.getMonth():e===Sm?Math.floor(bm(i,s)/Og):Math.floor(bm(i,s)/Cm[e]),n}function xa(s,i){let e;return e=rd(i)&&s.parseDate(i)||Ss(i),e}function ZIe(s,i){if(Ia(i)){const e=[];for(let n=0;n<i.length;n++)e.push(xa(s,i[n]));return e}return xa(s,i)}function exe(s,i){return ii(s.weekStartDay)?s.weekStartDay:i&&i.firstDay?i.firstDay():0}class AV extends TR{initFields(){this._ticks={}}categoriesHash(){return""}clone(){const i=new AV(Object.assign({},this.options,{categories:this.options.srcCategories}),this.chartService);return i.createLabels(),i}initUserOptions(i){const e=i.categories||[],n=ge(i.min),o=ge(i.max);if(i.srcCategories=i.categories=e,(n||o)&&e.length){const r=n?Math.floor(i.min):0;let a;a=o?i.justified?Math.floor(i.max)+1:Math.ceil(i.max):e.length,i.categories=i.categories.slice(r,a)}return i}rangeIndices(){const i=this.options,e=i.categories.length||1,n=ii(i.min)?i.min%1:0;let o;return o=ii(i.max)&&i.max%1!=0&&i.max<this.totalRange().max?e-(1-i.max%1):e-(i.justified?1:0),{min:n,max:o}}range(){const i=this.options;return{min:ii(i.min)?i.min:0,max:ii(i.max)?i.max:this.totalRange().max}}roundedRange(){return this.range()}totalRange(){const i=this.options;return{min:0,max:Math.max(this._seriesMax||0,i.srcCategories.length)-(i.justified?1:0)}}scaleOptions(){const{min:i,max:e}=this.rangeIndices(),n=this.lineBox();return{scale:(this.options.vertical?n.height():n.width())/(e-i||1)*(this.options.reverse?-1:1),box:n,min:i,max:e}}arrangeLabels(){super.arrangeLabels(),this.hideOutOfRangeLabels()}hideOutOfRangeLabels(){const{box:i,labels:e}=this;if(e.length>0){const n=this.options.vertical?Ot:kt,o=i[n+1],r=i[n+2],a=e[0],l=Zo(e);(a.box[n+1]>r||a.box[n+2]<o)&&(a.options.visible=!1),(l.box[n+1]>r||l.box[n+2]<o)&&(l.options.visible=!1)}}getMajorTickPositions(){return this.getTicks().majorTicks}getMinorTickPositions(){return this.getTicks().minorTicks}getLabelsTickPositions(){return this.getTicks().labelTicks}tickIndices(i){const{min:e,max:n}=this.rangeIndices(),o=Math.ceil(n);let r=Math.floor(e);const a=[];for(;r<=o;)a.push(r),r+=i;return a}getTickPositions(i){const{vertical:e,reverse:n}=this.options,{scale:o,box:r,min:a}=this.scaleOptions(),l=r[(e?Ot:kt)+(n?2:1)],c=this.tickIndices(i),u=[];for(let f=0;f<c.length;f++)u.push(l+qe(o*(c[f]-a),3));return u}getTicks(){const i=this.options,e=this._ticks,n=this.rangeIndices(),o=this.lineBox(),r=o.getHash()+n.min+","+n.max+i.reverse+i.justified;if(e._hash!==r){const a=i.minorTicks.visible||i.minorGridLines.visible;e._hash=r,e.labelTicks=this.getTickPositions(1),e.majorTicks=this.filterOutOfRangePositions(e.labelTicks,o),e.minorTicks=a?this.filterOutOfRangePositions(this.getTickPositions(.5),o):[]}return e}filterOutOfRangePositions(i,e){if(!i.length)return i;const n=this.options.vertical?Ot:kt,o=c=>e[n+1]<=c&&c<=e[n+2],r=i.length-1;let a=0;for(;!o(i[a])&&a<=r;)a++;let l=r;for(;!o(i[l])&&l>=0;)l--;return i.slice(a,l+1)}lineInfo(){const{vertical:i,reverse:e}=this.options,n=this.lineBox(),o=i?n.height():n.width(),r=i?Ot:kt,a=e?-1:1,c=r+(1===a?1:2).toString();return{axis:r,axisOrigin:c,axisDir:a,lineBox:n,lineSize:o,lineStart:n[c]}}lineDir(){const{reverse:i}=this.options;return i?-1:1}getSlot(i,e,n){const o=this.options,{reverse:r,justified:a}=o,{scale:l,box:c,min:u}=this.scaleOptions(),{axis:f,lineStart:_}=this.lineInfo(),g=c.clone(),S=!ge(e),b=ln(i,0);let k=ln(e,b);k=Math.max(k-1,b),k=Math.max(b,k);let D=_+(b-u)*l,O=_+(k+1-u)*l;return S&&a&&(O=D),n&&(D=Vt(D,c[f+1],c[f+2]),O=Vt(O,c[f+1],c[f+2])),g[f+1]=r?O:D,g[f+2]=r?D:O,g}limitSlot(i){const n=this.options.vertical?Ot:kt,o=this.lineBox(),r=i.clone();return r[n+1]=Vt(i[n+1],o[n+1],o[n+2]),r[n+2]=Vt(i[n+2],o[n+1],o[n+2]),r}slot(i,e,n){const o=Math.floor(this.options.min||0);let r=i,a=e;return"string"==typeof r?r=this.categoryIndex(r):ii(r)&&(r-=o),"string"==typeof a?a=this.categoryIndex(a):ii(a)&&(a-=o),super.slot(r,a,n)}pointCategoryIndex(i){const{reverse:e,justified:n,vertical:o}=this.options,r=o?Ot:kt,{scale:a,box:l,min:c,max:u}=this.scaleOptions(),_=l[r+1],S=i[r];if(S<_||S>l[r+2])return null;let b=(e?u:c)+(S-_)/a;const k=b%1;return n?b=Math.round(b):0===k&&b>0&&b--,Math.floor(b)}getCategory(i){const e=this.pointCategoryIndex(i);return null===e?null:this.options.categories[e]}categoryIndex(i){return this.totalIndex(i)-Math.floor(this.options.min||0)}categoryAt(i,e){const n=this.options;return(e?n.srcCategories:n.categories)[i]}categoriesCount(){return(this.options.categories||[]).length}translateRange(i){const e=this.options,n=this.lineBox(),o=e.vertical?n.height():n.width(),r=e.categories.length,l=qe(i/(o/r),10);return{min:l,max:r+l}}scaleRange(i,e){const n=Math.abs(this.pointOffset(e)),o=this.limitedRangeIndices(),a=this.scaleToDelta(i,o.max-o.min),u=o.min+n*a;let f=o.max-(1-n)*a;return f-u<.1&&(f=u+.1),{min:u,max:f}}zoomRange(i,e){const{min:n,max:o}=this.totalRange(),r=this.scaleRange(i,e);return{min:Vt(r.min,n,o),max:Vt(r.max,n,o)}}labelsCount(){const i=this.labelsRange();return i.max-i.min}labelsRange(){const i=this.options,{justified:e,labels:n}=i;let{min:o,max:r}=this.limitedRangeIndices(!0);const a=Math.floor(o);let l;return e?(o=Math.ceil(o),r=Math.floor(r)):(o=Math.floor(o),r=Math.ceil(r)),l=o>n.skip?n.skip+n.step*Math.ceil((o-n.skip)/n.step):n.skip,{min:l-a,max:(i.categories.length?r+(e?1:0):0)-a}}createAxisLabel(i,e,n){const o=this.options,r=o.dataItems?o.dataItems[i]:null,a=ln(o.categories[i],"");n.dataItem=r;const l=this.axisLabelText(a,e,n);return new Eb(a,l,i,r,e)}shouldRenderNote(i){const e=this.limitedRangeIndices();return Math.floor(e.min)<=i&&i<=Math.ceil(e.max)}noteSlot(i){const n=i-Math.floor(this.options.min||0);return this.getSlot(n)}arrangeNotes(){super.arrangeNotes(),this.hideOutOfRangeNotes()}hideOutOfRangeNotes(){const{notes:i,box:e}=this;if(i&&i.length){const n=this.options.vertical?Ot:kt,o=e[n+1],r=e[n+2];for(let a=0;a<i.length;a++){const l=i[a];l.box&&(r<l.box[n+1]||l.box[n+2]<o)&&l.hide()}}}pan(i){const e=this.limitedRangeIndices(!0),{scale:n}=this.scaleOptions(),o=qe(i/n,10),r=this.totalRange();return this.limitRange(e.min+o,e.max+o,0,r.max,o)}pointsRange(i,e){const{reverse:n,vertical:o}=this.options,r=o?Ot:kt,a=this.limitedRangeIndices(!0),{scale:l,box:c}=this.scaleOptions(),u=c[r+(n?2:1)],g=a.min+(i[r]-u)/l,S=a.min+(e[r]-u)/l,b=Math.min(g,S),k=Math.max(g,S);if(k-b>=.01)return{min:b,max:k}}valueRange(){return this.range()}totalIndex(i){const e=this.options;return this._categoriesMap?this._categoriesMap.get(i):function GAt(s,i){if(s instanceof Date){const e=i.length;for(let n=0;n<e;n++)if(xV(i[n],s))return n;return-1}return i.indexOf(s)}(i,e.srcCategories)}currentRangeIndices(){const i=this.options;let n,e=0;return ii(i.min)&&(e=Math.floor(i.min)),n=ii(i.max)?i.justified?Math.floor(i.max):Math.ceil(i.max)-1:this.totalCount()-1,{min:e,max:n}}limitedRangeIndices(i){const e=this.options;let o,n=ii(e.min)?e.min:0;if(o=ii(e.max)?e.max:ii(e.min)?n+e.categories.length:this.totalRange().max||1,i){const r=this.totalRange();n=Vt(n,0,r.max),o=Vt(o,0,r.max)}return{min:n,max:o}}totalRangeIndices(){return{min:0,max:this.totalRange().max||1}}indexCategories(){if(!this._categoriesMap){const i=this._categoriesMap=new Wxt,e=this.options.srcCategories;for(let n=0;n<e.length;n++)i.set(e[n],n)}}totalCount(){return Math.max(this.options.srcCategories.length,this._seriesMax||0)}}we(AV,{type:"category",vertical:!1,majorGridLines:{visible:!1,width:1,color:Mo},labels:{zIndex:1},justified:!1,_deferLabels:!0});const Tg=AV,ixe={milliseconds:"HH:mm:ss.fff",seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},Mg=[OV,kse,wse,MR,Sm,IR,yb,Dg],RV="fit";function NV(s,i){i&&(s._range=void 0);let e=s._range;return e||(e=s._range=fse(s),e.min=Ss(e.min),e.max=Ss(e.max)),e}class FAt{constructor(i){this.options=i}displayIndices(){return{min:0,max:1}}displayRange(){return{}}total(){return{}}valueRange(){return{}}valueIndex(){return-1}values(){return[]}totalIndex(){return-1}valuesCount(){return 0}totalCount(){return 0}dateAt(){return null}}class Rse{constructor(i,e,n){this.options=n,n.baseUnitStep=n.baseUnitStep||1;const{roundToBaseUnit:o,justified:r}=n;this.start=il(i,0,n.baseUnit,n.weekStartDay);const a=this.roundToTotalStep(e),l=!r&&xV(e,a)&&!n.justifyEnd;this.end=this.roundToTotalStep(e,!r,l?1:0);const c=n.min||i;this.valueStart=this.roundToTotalStep(c),this.displayStart=o?this.valueStart:c;const u=n.max;if(u){const f=!r&&xV(u,this.roundToTotalStep(u))?-1:0;this.valueEnd=this.roundToTotalStep(u,!1,f),this.displayEnd=o?this.roundToTotalStep(u,!r):n.max}else this.valueEnd=a,this.displayEnd=o||l?this.end:e;this.valueEnd<this.valueStart&&(this.valueEnd=this.valueStart),this.displayEnd<=this.displayStart&&(this.displayEnd=this.roundToTotalStep(this.displayStart,!1,1))}displayRange(){return{min:this.displayStart,max:this.displayEnd}}displayIndices(){if(!this._indices){const i=this.options,{baseUnit:e,baseUnitStep:n}=i,o=kb(this.displayStart,this.valueStart,e,n),r=kb(this.displayEnd,this.valueStart,e,n);this._indices={min:o,max:r}}return this._indices}total(){return{min:this.start,max:this.end}}totalCount(){return this.totalIndex(this.end)+(this.options.justified?1:0)}valueRange(){return{min:this.valueStart,max:this.valueEnd}}valueIndex(i){const e=this.options;return Math.floor(kb(i,this.valueStart,e.baseUnit,e.baseUnitStep))}totalIndex(i){const e=this.options;return Math.floor(kb(i,this.start,e.baseUnit,e.baseUnitStep))}dateIndex(i){const e=this.options;return kb(i,this.valueStart,e.baseUnit,e.baseUnitStep)}valuesCount(){return this.valueIndex(this.valueEnd)+1}values(){let i=this._values;if(!i){const e=this.options,n=this.valueRange();this._values=i=[];for(let o=n.min;o<=n.max;)i.push(o),o=il(o,e.baseUnitStep,e.baseUnit,e.weekStartDay)}return i}dateAt(i,e){const n=this.options;return il(e?this.start:this.valueStart,n.baseUnitStep*i,n.baseUnit,n.weekStartDay)}roundToTotalStep(i,e,n){const{baseUnit:o,baseUnitStep:r,weekStartDay:a}=this.options,l=this.start,c=kb(i,l,o,r);let u=e?Math.ceil(c):Math.floor(c);return n&&(u+=n),il(l,u*r,o,a)}}function oxe(s,i,e){const n=NV(s.categories),o=(s.max||n.max)-(s.min||n.min),{autoBaseUnitSteps:r,maxDateGroups:a}=s,l=s.baseUnit===RV;let g,S,b,c=i?Mg.indexOf(i):0,u=l?Mg[c++]:s.baseUnit,f=o/Cm[u],_=f;for(;!S||f>=a;){g=g||r[u].slice(0);do{b=g.shift()}while(b&&i===u&&b<e);if(b)S=b,f=_/S;else{if(u===Zo(Mg)){S=Math.ceil(_/a);break}if(!l){f>a&&(S=Math.ceil(_/a));break}u=Mg[c++]||Zo(Mg),_=o/Cm[u],g=null}}s.baseUnitStep=S,s.baseUnit=u}class LV extends Tg{clone(){const i=new LV(Object.assign({},this.options),this.chartService);return i.createLabels(),i}categoriesHash(){const i=this.dataRange.total().min;return this.options.baseUnit+this.options.baseUnitStep+i}initUserOptions(i){return i}initFields(){super.initFields();const i=this.chartService,e=i.intl;let n=this.options,o=n.categories||[];if(o._parsed||(o=ZIe(e,o),o._parsed=!0),n=K({roundToBaseUnit:!0},n,{categories:o,min:xa(e,n.min),max:xa(e,n.max),weekStartDay:exe(n,e)}),i.panning&&i.isPannable(n.vertical?Ot:kt)&&(n.roundToBaseUnit=!1),n.userSetBaseUnit=n.userSetBaseUnit||n.baseUnit,n.userSetBaseUnitStep=n.userSetBaseUnitStep||n.baseUnitStep,this.options=n,n.srcCategories=o,o.length>0){const r=NV(o,!0),a=n.maxDivisions,l=function BAt(s){const i=(s.baseUnit||"").toLowerCase();return i!==RV&&!Gn(i,Mg)&&function UAt(s){const i=s.categories,e=ge(i)?i.length:0;let o,r,n=qo;for(let a=0;a<e;a++){const l=i[a];if(l&&o){let c=Math.abs(Ise(l,o));0!==c&&(n=Math.min(n,c),r=n>=Mse?Dg:n>=Tse-3*Og?yb:n>=Ose?IR:n>=Og?Sm:n>=TV?MR:n>=BD?wse:kse)}o=l}s.baseUnit=r||Sm}(s),(i===RV||"auto"===s.baseUnitStep)&&oxe(s),s}(n),c=n._forecast;if(c&&(c.before>0&&(r.min=il(r.min,-c.before,l.baseUnit,l.weekStartDay)),c.after>0&&(r.max=il(r.max,c.after,l.baseUnit,l.weekStartDay))),this.dataRange=new Rse(r.min,r.max,l),a){const u=this.dataRange.displayRange(),f=Object.assign({},n,{justified:!0,roundToBaseUnit:!1,baseUnit:"fit",min:u.min,max:u.max,maxDateGroups:a}),_=this.dataRange.options;oxe(f,_.baseUnit,_.baseUnitStep),this.divisionRange=new Rse(r.min,r.max,f)}else this.divisionRange=this.dataRange}else n.baseUnit=n.baseUnit||Sm,this.dataRange=this.divisionRange=new FAt(n);this.rangeLabels=[]}tickIndices(i){const{dataRange:e,divisionRange:n}=this,o=n.valuesCount();if(!this.options.maxDivisions||!o)return super.tickIndices(i);const r=[];let a=n.values(),l=0;this.options.justified||(a=a.concat(n.dateAt(o)),l=.5);for(let c=0;c<a.length;c++)if(r.push(e.dateIndex(a[c])+l),1!==i&&c>=1){const u=r.length-1;r.splice(c,0,r[u-1]+(r[u]-r[u-1])*i)}return r}shouldRenderNote(i){const e=this.range(),n=this.options.categories||[];return IV(i,e.min)>=0&&IV(i,e.max)<=0&&n.length}parseNoteValue(i){return xa(this.chartService.intl,i)}noteSlot(i){return this.getSlot(i)}translateRange(i){const e=this.options,{baseUnit:n,weekStartDay:o,vertical:r}=e,a=this.lineBox(),l=r?a.height():a.width();let c=this.range();const f=qe(i/(l/(c.max-c.min)),10);if(c.min&&c.max){const _=na(e.min||c.min,f),g=na(e.max||c.max,f);c={min:il(_,0,n,o),max:il(g,0,n,o)}}return c}labelsRange(){return{min:this.options.labels.skip,max:this.divisionRange.valuesCount()}}pan(i){if(this.isEmpty())return null;const e=this.options,n=this.lineBox(),o=e.vertical?n.height():n.width(),{min:r,max:a}=this.dataRange.displayRange(),l=this.dataRange.total(),u=qe(i/(o/(a-r)),10)*(e.reverse?-1:1),f=na(r,u),_=na(a,u),g=this.limitRange(Cs(f),Cs(_),Cs(l.min),Cs(l.max),u);return g?(g.min=Ss(g.min),g.max=Ss(g.max),g.baseUnit=e.baseUnit,g.baseUnitStep=e.baseUnitStep||1,g.userSetBaseUnit=e.userSetBaseUnit,g.userSetBaseUnitStep=e.userSetBaseUnitStep,g):void 0}pointsRange(i,e){if(this.isEmpty())return null;const n=super.pointsRange(i,e),o=this.dataRange.displayRange(),r=this.dataRange.displayIndices(),a=bm(o.max,o.min)/(r.max-r.min),l=this.options;return{min:na(o.min,n.min*a),max:na(o.min,n.max*a),baseUnit:l.userSetBaseUnit||l.baseUnit,baseUnitStep:l.userSetBaseUnitStep||l.baseUnitStep}}scaleRange(i,e){if(this.isEmpty())return{};const n=this.options,o=n.userSetBaseUnit===RV,r=this.dataRange.total(),{min:a,max:l}=this.dataRange.displayRange(),c=Math.abs(this.pointOffset(e)),f=this.scaleToDelta(i,l-a),_=Math.round(c*f),g=Math.round((1-c)*f);let{baseUnit:S}=this.dataRange.options,b=new Date(a.getTime()+_),k=new Date(l.getTime()-g);if(o){const{autoBaseUnitSteps:D,maxDateGroups:O}=n,I=Zo(D[S])*O*Cm[S],N=bm(l,a),P=bm(k,b);let H,$,G=Mg.indexOf(S);if(P<Cm[S]&&S!==OV)S=Mg[G-1],H=Zo(D[S]),$=(N-(O-1)*H*Cm[S])/2,b=na(a,$),k=na(l,-$);else if(P>I&&S!==Dg){let Q=0;do{G++,S=Mg[G],Q=0,$=2*Cm[S];do{H=D[S][Q],Q++}while(Q<D[S].length&&$*H<N)}while(S!==Dg&&$*H<N);$=($*H-N)/2,$>0&&(b=na(a,-$),k=na(l,$),b=na(b,Vt(k,r.min,r.max)-k),k=na(k,Vt(b,r.min,r.max)-b))}}return b&&k&&bm(k,b)>0?{min:b,max:k,baseUnit:n.userSetBaseUnit||n.baseUnit,baseUnitStep:n.userSetBaseUnitStep||n.baseUnitStep}:void 0}zoomRange(i,e){const n=this.dataRange.total(),o=this.scaleRange(i,e);return o&&(o.min<n.min&&(o.min=n.min),o.max>n.max&&(o.max=n.max)),o}range(){return this.dataRange.displayRange()}createLabels(){super.createLabels(),this.createRangeLabels()}clearLabels(){super.clearLabels(),this.rangeLabels=[]}arrangeLabels(){this.arrangeRangeLabels(),super.arrangeLabels()}arrangeRangeLabels(){const{options:i,rangeLabels:e}=this;if(0===e.length)return;const n=this.lineBox(),o=i.vertical,r=i.rangeLabels.mirror||i.labels.mirror,a=e[0];if(a){const c=o?n.y1-a.box.height()/2:n.x1;this.positionLabel(a,r,c)}const l=e[1];if(l){const c=o?n.y2-l.box.height()/2:n.x2;this.positionLabel(l,r,c)}}autoRotateLabels(){super.autoRotateLabels(),this.autoRotateRangeLabels()}hideOutOfRangeLabels(){super.hideOutOfRangeLabels(),this.hideOverlappingLabels()}hideOverlappingLabels(){const{rangeLabels:i,labels:e}=this;if(0===i.length)return;function n(a,l){return!(l.options.visible&&!l.box.overlaps(a.box)||(l.options.visible=!1,0))}const o=i[0];if(o&&o.options.visible)for(let a=0;a<e.length&&n(o,e[a]);a++);const r=i[1];if(r&&r.options.visible)for(let a=e.length-1;a>0&&n(r,e[a]);--a);}contentBox(){const i=super.contentBox(),e=this.rangeLabels;for(let n=0;n<e.length;n++){const o=e[n];o.options.visible&&i.wrap(o.box)}return i}createAxisLabel(i,e,n={}){const o=this.options,r=o.dataItems&&!o.maxDivisions?o.dataItems[i]:null,a=this.divisionRange.dateAt(i);e.format=e.format||e.dateFormats[this.divisionRange.options.baseUnit],n.dataItem=r;const c=this.axisLabelText(a,e,n);if(c)return new Eb(a,c,i,r,e)}createRangeLabels(){const{displayStart:i,displayEnd:e}=this.divisionRange,n=this.options,o=Object.assign({},n.labels,n.rangeLabels,{align:Cn,zIndex:n.zIndex});if(!0!==o.visible)return;this.normalizeLabelRotation(o),o.alignRotation=Cn,"auto"===o.rotation&&(o.rotation=0,n.autoRotateRangeLabels=!0),o.format=o.format||o.dateFormats[this.divisionRange.options.baseUnit];const a=(u,f,_)=>{if(_){const g=new Eb(f,_,u,null,o);this.append(g),this.rangeLabels.push(g)}};a(0,i,this.axisLabelText(i,o,{index:0,count:2})),a(1,e,this.axisLabelText(e,o,{index:1,count:2}))}autoRotateRangeLabels(){const i=this.rangeLabels;if(!this.options.autoRotateRangeLabels||this.options.vertical||2!==i.length)return;const e=(o,r,a)=>{const l=2*Math.abs(r[a+1]-r[a]),c=this.autoRotateLabelAngle(o.box,l);0!==c&&(o.options.rotation=c,o.reflow(new ze))},n=this.getMajorTickPositions();e(i[0],n,0),e(i[1],n,n.length-2)}categoryIndex(i){return this.dataRange.valueIndex(i)}slot(i,e,n){const o=this.dataRange;let r=i,a=e;r instanceof Date&&(r=o.dateIndex(r)),a instanceof Date&&(a=o.dateIndex(a));const l=this.getSlot(r,a,n);if(l)return l.toRect()}getSlot(i,e,n){let o=i,r=e;return typeof o===CR&&(o=this.categoryIndex(o)),typeof r===CR&&(r=this.categoryIndex(r)),super.getSlot(o,r,n)}valueRange(){const e=NV(this.options.srcCategories);return{min:Ss(e.min),max:Ss(e.max)}}categoryAt(i,e){return this.dataRange.dateAt(i,e)}categoriesCount(){return this.dataRange.valuesCount()}rangeIndices(){return this.dataRange.displayIndices()}labelsBetweenTicks(){return!this.divisionRange.options.justified}prepareUserOptions(){this.isEmpty()||(this.options.categories=this.dataRange.values())}getCategory(i){const e=this.pointCategoryIndex(i);return null===e?null:this.dataRange.dateAt(e)}totalIndex(i){return this.dataRange.totalIndex(i)}currentRangeIndices(){const i=this.dataRange.valueRange();return{min:this.dataRange.totalIndex(i.min),max:this.dataRange.totalIndex(i.max)}}totalRange(){return this.dataRange.total()}totalRangeIndices(){const i=this.dataRange.total();return{min:this.dataRange.totalIndex(i.min),max:this.dataRange.totalIndex(i.max)}}totalCount(){return this.dataRange.totalCount()}isEmpty(){return!this.options.srcCategories.length}roundedRange(){if(!1!==this.options.roundToBaseUnit||this.isEmpty())return this.range();const i=this.options,e=NV(i.srcCategories);return new Rse(e.min,e.max,Object.assign({},i,{justified:!1,roundToBaseUnit:!0,justifyEnd:!1})).displayRange()}}we(LV,{type:kg,labels:{dateFormats:ixe},rangeLabels:{visible:!1},autoBaseUnitSteps:{milliseconds:[1,10,100],seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10});const GV=LV;function rxe(s,i){return qe(Math.floor(s/i)*i,10)}function PV(s,i){return qe(Math.ceil(s/i)*i,10)}function FV(s){return Math.max(Math.min(s,3e5),-3e5)}const Nse=Math.pow(10,-9);class UV extends TR{constructor(i,e,n,o){super(Object.assign({},n,{seriesMin:i,seriesMax:e}),o)}initUserOptions(i){const e=function jAt(s,i,e){const n=e.narrowRange;let o=function VAt(s,i,e){if(!s&&!i)return 0;let n;if(s>=0&&i>=0){const o=s===i?0:s;if(!1===e||!e&&(i-o)/i>.2)return 0;n=Math.max(0,o-(i-o)/2)}else n=s;return n}(s,i,n),r=function zAt(s,i,e){if(!s&&!i)return 1;let n;if(s<=0&&i<=0){const o=s===i?0:i;let r=Math.abs((o-s)/o);if(!1===e||!e&&r>.2)return 0;n=Math.min(0,o-(s-o)/2)}else n=i;return n}(s,i,n);const a=FD(o,r),l={majorUnit:a};return!1!==e.roundToMajorUnit&&(o<0&&axe(o,a,1/3)&&(o-=a),r>0&&axe(r,a,1/3)&&(r+=a)),l.min=rxe(o,a),l.max=PV(r,a),l}(i.seriesMin,i.seriesMax,i);return this.totalOptions=function HAt(s,i){return{min:ge(i.min)?Math.min(s.min,i.min):s.min,max:ge(i.max)?Math.max(s.max,i.max):s.max,majorUnit:s.majorUnit}}(e,i),function XAt(s,i){let n,o,e=i;if(i){(function $At(s,i){for(let e=0;e<i.length;e++){const n=i[e];null===s[n]&&(s[n]=void 0)}})(i,["min","max"]),n=ge(i.min),o=ge(i.max);const a=n||o;a&&i.min===i.max&&(i.min>0?i.min=0:i.max=1),i.majorUnit?(s.min=rxe(s.min,i.majorUnit),s.max=PV(s.max,i.majorUnit)):a&&(e=K(s,i),s.majorUnit=FD(e.min,e.max))}s.minorUnit=(e.majorUnit||s.majorUnit)/5;const r=K(s,e);return r.min>=r.max&&(n&&!o?r.max=r.min+r.majorUnit:!n&&o&&(r.min=r.max-r.majorUnit)),r}(e,i)}initFields(){this.totalMin=this.totalOptions.min,this.totalMax=this.totalOptions.max,this.totalMajorUnit=this.totalOptions.majorUnit,this.seriesMin=this.options.seriesMin,this.seriesMax=this.options.seriesMax}clone(){return new UV(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}startValue(){return 0}range(){const i=this.options;return{min:i.min,max:i.max}}getDivisions(i){if(0===i)return 1;const e=this.options;return Math.floor(qe((e.max-e.min)/i,3))+1}getTickPositions(i,e){const n=this.options,{axisDir:o,axisOrigin:r,lineBox:a,lineSize:l}=this.lineInfo(),f=i*(l/(n.max-n.min)),_=this.getDivisions(i),g=[];let S=a[r],b=0;e&&(b=e/i);for(let k=0;k<_;k++)k%b!=0&&g.push(qe(S,3)),S+=f*o;return g}getMajorTickPositions(){return this.getTickPositions(this.options.majorUnit)}getMinorTickPositions(){return this.getTickPositions(this.options.minorUnit)}getSlot(i,e,n=!1){const o=this.options,{axis:r,axisDir:a,lineBox:l,lineSize:c,lineStart:u}=this.lineInfo(),f=a*(c/(o.max-o.min));let _=ln(i,e||0),g=ln(e,i||0);n&&(_=Vt(_,o.min,o.max),g=Vt(g,o.min,o.max));const S=Math.min(_,g)-o.min,b=Math.max(_,g)-o.min,k=new ze(l.x1,l.y1,l.x1,l.y1);return k[r+1]=FV(u+f*(a>0?S:b)),k[r+2]=FV(u+f*(a>0?b:S)),k}getValue(i){const e=this.options,n=Number(e.max),o=Number(e.min),r=this.pointOffset(i);return r<0||r>1?null:qe(o+r*(n-o),10)}translateRange(i){const e=this.options,{vertical:n,reverse:o,max:r,min:a}=e,{lineSize:l}=this.lineInfo();let f=qe(i/(l/(r-a)),10);return(n||o)&&!(n&&o)&&(f=-f),{min:a+f,max:r+f,offset:f}}labelsCount(){return this.getDivisions(this.options.majorUnit)}createAxisLabel(i,e,n){const o=this.options,r=qe(o.min+i*o.majorUnit,10),a=this.axisLabelText(r,e,n);return new Eb(r,a,i,null,e)}shouldRenderNote(i){const e=this.range();return e.min<=i&&i<=e.max}pan(i){const e=this.translateRange(i);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,e.offset)}pointsRange(i,e){const n=this.getValue(i),o=this.getValue(e),r=Math.min(n,o),a=Math.max(n,o);if(this.isValidRange(r,a))return{min:r,max:a}}scaleRange(i,e){const n=Math.abs(this.pointOffset(e)),r=this.scaleToDelta(i,this.options.max-this.options.min),l=(1-n)*r,c=qe(this.options.min+n*r,10);let u=qe(this.options.max-l,10);return u-c<Nse&&(u=c+Nse),{min:c,max:u}}zoomRange(i,e){const{totalMin:n,totalMax:o}=this,r=this.scaleRange(i,e);return{min:Vt(r.min,n,o),max:Vt(r.max,n,o),narrowRange:!1}}isValidRange(i,e){return e-i>Nse}}function axe(s,i,e){const n=qe(Math.abs(s%i),10);return 0===n||n>i*(1-e)}we(UV,{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:Mo},labels:{format:"#.####################"},zIndex:1});const ph=UV;class BV extends TR{constructor(i,e,n,o){const r=Ss(i),a=Ss(e),l=o.intl;let c=n||{};c=K(c||{},{min:xa(l,c.min),max:xa(l,c.max),axisCrossingValue:ZIe(l,c.axisCrossingValues||c.axisCrossingValue),weekStartDay:exe(c,l)}),c=function YAt(s,i,e){const n=e.min||s,o=e.max||i,r=e.baseUnit||(o&&n?function WAt(s){let i=MR;return s>=Mse?i=Dg:s>=Tse?i=yb:s>=Ose?i=IR:s>=Og&&(i=Sm),i}(Ise(o,n)):MR),a=Cm[r],l=e.weekStartDay||0,c=xse(Cs(n)-1,r,l)||Ss(o),u=qIe(Cs(o)+1,r,l),_=(e.majorUnit?e.majorUnit:void 0)||PV(FD(c.getTime(),u.getTime()),a)/a,g=Ase(c,u,r),b=PV(g,_)-g,k=Math.floor(b/2),D=b-k;return e.baseUnit||delete e.baseUnit,e.baseUnit=e.baseUnit||r,e.min=e.min||il(c,-k,r,l),e.max=e.max||il(u,D,r,l),e.minorUnit=e.minorUnit||_/5,e.majorUnit=_,e}(r,a,c),super(c,o),this.intlService=l,this.seriesMin=r,this.seriesMax=a;const u=c.weekStartDay||0;this.totalMin=Cs(xse(Cs(r)-1,c.baseUnit,u)),this.totalMax=Cs(qIe(Cs(a)+1,c.baseUnit,u))}clone(){return new BV(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}range(){const i=this.options;return{min:i.min,max:i.max}}getDivisions(i){const e=this.options;return Math.floor(Ase(e.min,e.max,e.baseUnit)/i+1)}getTickPositions(i){const e=this.options,{axisDir:n,lineSize:o,lineStart:r}=this.lineInfo(),a=this.getDivisions(i),c=o/bm(e.max,e.min),u=e.weekStartDay||0,f=[r];for(let _=1;_<a;_++){const S=r+bm(il(e.min,_*i,e.baseUnit,u),e.min)*c*n;f.push(qe(S,3))}return f}getMajorTickPositions(){return this.getTickPositions(this.options.majorUnit)}getMinorTickPositions(){return this.getTickPositions(this.options.minorUnit)}getSlot(i,e,n){return ph.prototype.getSlot.call(this,xa(this.intlService,i),xa(this.intlService,e),n)}getValue(i){const e=ph.prototype.getValue.call(this,i);return null!==e?Ss(e):null}labelsCount(){return this.getDivisions(this.options.majorUnit)}createAxisLabel(i,e,n){const o=this.options,r=i*o.majorUnit;let l=o.min;r>0&&(l=il(l,r,o.baseUnit,o.weekStartDay||0)),e.format=e.format||e.dateFormats[o.baseUnit];const u=this.axisLabelText(l,e,n);return new Eb(l,u,i,null,e)}translateRange(i){const e=this.options,n=this.lineBox(),{vertical:o,reverse:r}=e,a=o?n.height():n.width(),l=this.range(),c=a/bm(l.max,l.min);let u=qe(i/c,10);return(o||r)&&(!o||!r)&&(u=-u),{min:na(e.min,u),max:na(e.max,u),offset:u}}shouldRenderNote(i){const e=this.range();return IV(i,e.min)>=0&&IV(i,e.max)<=0}pan(i){const e=this.translateRange(i,!0),n=this.limitRange(Cs(e.min),Cs(e.max),this.totalMin,this.totalMax,e.offset);if(n)return{min:Ss(n.min),max:Ss(n.max)}}pointsRange(i,e){const n=this.getValue(i),o=this.getValue(e),r=Math.min(n,o),a=Math.max(n,o);return{min:Ss(r),max:Ss(a)}}scaleRange(i,e){const n=Math.abs(this.pointOffset(e)),r=this.scaleToDelta(i,this.options.max-this.options.min),a=n*r,l=(1-n)*r,c=Ss(Cs(this.options.min)+a);let u=Ss(Cs(this.options.max)-l);return u-c<1e3&&(u=Ss(Cs(c)+1e3)),{min:c,max:u}}zoomRange(i,e){const n=this.scaleRange(i,e);return{min:Ss(Vt(Cs(n.min),this.totalMin,this.totalMax)),max:Ss(Vt(Cs(n.max),this.totalMin,this.totalMax))}}}we(BV,{type:kg,majorGridLines:{visible:!0,width:1,color:Mo},labels:{dateFormats:ixe}});const KAt=BV;class VV extends TR{constructor(i,e,n,o){const r=K({majorUnit:10,min:i,max:e},n),a=r.majorUnit,l=function QAt(s,i){const e=qe(Ep(s,i),10)%1;let n;return n=s<=0?i:0!==e&&(e<.3||e>.9)?Math.pow(i,Ep(s,i)+.2):Math.pow(i,Math.ceil(Ep(s,i))),n}(e,a),c=function qAt(s,i,e){const n=e.majorUnit;let o=s;return s<=0?o=i<=1?Math.pow(n,-2):1:e.narrowRange||(o=Math.pow(n,Math.floor(Ep(s,n)))),o}(i,e,r),u=function JAt(s,i,e,n){let{min:o,max:r}=e;return ge(e.axisCrossingValue)&&e.axisCrossingValue<=0&&Lse(),ge(n.max)?n.max<=0&&Lse():r=i,ge(n.min)?n.min<=0&&Lse():o=s,{min:o,max:r}}(c,l,r,n);r.max=u.max,r.min=u.min,r.minorUnit=n.minorUnit||qe(a-1,10),super(r,o),this.totalMin=ge(n.min)?Math.min(c,n.min):c,this.totalMax=ge(n.max)?Math.max(l,n.max):l,this.logMin=qe(Ep(u.min,a),10),this.logMax=qe(Ep(u.max,a),10),this.seriesMin=i,this.seriesMax=e,this.createLabels()}clone(){return new VV(this.seriesMin,this.seriesMax,Object.assign({},this.options),this.chartService)}startValue(){return this.options.min}getSlot(i,e,n){const{options:o,logMin:r,logMax:a}=this,{majorUnit:l,min:c,max:u}=o,{axis:f,axisDir:_,lineBox:g,lineSize:S,lineStart:b}=this.lineInfo(),k=_*(S/(a-r));let D=ln(i,e||1),O=ln(e,i||1);if(D<=0||O<=0)return null;n&&(D=Vt(D,c,u),O=Vt(O,c,u)),D=Ep(D,l),O=Ep(O,l);const I=Math.min(D,O)-r,N=Math.max(D,O)-r,P=new ze(g.x1,g.y1,g.x1,g.y1);return P[f+1]=FV(b+k*(_>0?I:N)),P[f+2]=FV(b+k*(_>0?N:I)),P}getValue(i){const{options:e,logMin:n,logMax:o}=this,{majorUnit:r}=e,{axis:a,axisDir:l,lineStart:c,lineSize:u}=this.lineInfo(),_=l*(i[a]-c);return _<0||_>u?null:qe(Math.pow(r,n+_*((o-n)/u)),10)}range(){const i=this.options;return{min:i.min,max:i.max}}translateRange(i){const{options:e,logMin:n,logMax:o}=this,{reverse:r,vertical:a,majorUnit:l}=e,c=this.lineBox(),f=(a?c.height():c.width())/(o-n);let _=qe(i/f,10);return(a||r)&&!(a&&r)&&(_=-_),{min:Math.pow(l,n+_),max:Math.pow(l,o+_),offset:_}}labelsCount(){const i=Math.floor(this.logMax);return Math.floor(i-this.logMin)+1}getMajorTickPositions(){const i=[];return this.traverseMajorTicksPositions(e=>{i.push(e)},{step:1,skip:0}),i}createTicks(i){const e=this.options,{majorTicks:n,minorTicks:o,vertical:r}=e,a=e.labels.mirror,l=this.lineBox(),u={vertical:r};function f(_,g){u.tickX=a?l.x2:l.x2-g.size,u.tickY=a?l.y1-g.size:l.y1,u.position=_,i.append(YIe(u,g))}return n.visible&&this.traverseMajorTicksPositions(f,n),o.visible&&this.traverseMinorTicksPositions(f,o),[]}createGridLines(i){const e=this.options,{minorGridLines:n,majorGridLines:o,vertical:r}=e,a=i.lineBox(),l={lineStart:a[r?"x1":"y1"],lineEnd:a[r?"x2":"y2"],vertical:r},c=[],u=this.gridLinesVisual();function f(_,g){Gn(_,c)||(l.position=_,u.append(KIe(l,g)),c.push(_))}return o.visible&&this.traverseMajorTicksPositions(f,o),n.visible&&this.traverseMinorTicksPositions(f,n),u.children}traverseMajorTicksPositions(i,e){const{lineStart:n,step:o}=this.lineInfo(),{logMin:r,logMax:a}=this;for(let l=Math.ceil(r)+e.skip;l<=a;l+=e.step)i(qe(n+o*(l-r),10),e)}traverseMinorTicksPositions(i,e){const{min:n,max:o,minorUnit:r,majorUnit:a}=this.options,{lineStart:l,step:c}=this.lineInfo(),{logMin:u,logMax:f}=this;for(let g=Math.floor(u);g<f;g++){const S=this._minorIntervalOptions(g);for(let b=e.skip;b<r;b+=e.step){const k=S.value+b*S.minorStep;if(k>o)break;k>=n&&i(qe(l+c*(Ep(k,a)-u),10),e)}}}createAxisLabel(i,e,n){const o=Math.ceil(this.logMin+i),r=Math.pow(this.options.majorUnit,o),a=this.axisLabelText(r,e,n);return new Eb(r,a,i,null,e)}shouldRenderNote(i){const e=this.range();return e.min<=i&&i<=e.max}pan(i){const e=this.translateRange(i);return this.limitRange(e.min,e.max,this.totalMin,this.totalMax,e.offset)}pointsRange(i,e){const n=this.getValue(i),o=this.getValue(e);return{min:Math.min(n,o),max:Math.max(n,o)}}scaleRange(i,e){const{majorUnit:n}=this.options,o=Ep(this.options.min,n),r=Ep(this.options.max,n),a=Math.abs(this.pointOffset(e)),c=this.scaleToDelta(i,r-o),u=Math.pow(n,o+a*c);let f=Math.pow(n,r-(1-a)*c);return f-u<1e-6&&(f=u+1e-6),{min:u,max:f}}zoomRange(i,e){const n=this.scaleRange(i,e),{totalMin:o,totalMax:r}=this;return{min:Vt(n.min,o,r),max:Vt(n.max,o,r)}}_minorIntervalOptions(i){const{minorUnit:e,majorUnit:n}=this.options,o=Math.pow(n,i);return{value:o,minorStep:(Math.pow(n,i+1)-o)/e}}lineInfo(){const i=super.lineInfo();return i.step=i.axisDir*(i.lineSize/(this.logMax-this.logMin)),i}}function Lse(){throw new Error("Non positive values cannot be used for a logarithmic axis")}function Ep(s,i){return Math.log(s)/Math.log(i)}we(VV,{type:"log",majorUnit:10,minorUnit:1,axisCrossingValue:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:Mo},zIndex:1,_deferLabels:!0});const zV=VV,uxe={createGridLines:function(s){const i=this.options,e=Math.abs(this.box.center().y-s.lineBox().y1);let r,a,n=[],o=!1;return i.majorGridLines.visible&&(r=this.majorGridLineAngles(s),o=!0,n=this.renderMajorGridLines(r,e,i.majorGridLines)),i.minorGridLines.visible&&(a=this.minorGridLineAngles(s,o),bb(n,this.renderMinorGridLines(a,e,i.minorGridLines,s,o))),n},renderMajorGridLines:function(s,i,e){return this.renderGridLines(s,i,e)},renderMinorGridLines:function(s,i,e,n,o){const r=this.radiusCallback&&this.radiusCallback(i,n,o);return this.renderGridLines(s,i,e,r)},renderGridLines:function(s,i,e,n){const o={stroke:{width:e.width,color:e.color,dashType:e.dashType}},r=this.box.center(),a=new Cl([r.x,r.y],i),l=this.gridLinesVisual();for(let c=0;c<s.length;c++){const u=new ct(o);n&&(a.radius=n(s[c])),u.moveTo(a.center).lineTo(a.pointAt(s[c]+180)),l.append(u)}return l.children},gridLineAngles:function(s,i,e,n,o){const r=this.intervals(i,e,n,o),a=s.options,l=a.visible&&!1!==(a.line||{}).visible;return SIe(r,c=>{const u=this.intervalAngle(c);if(!l||90!==u)return u})}};class Gse extends Tg{range(){return{min:0,max:this.options.categories.length}}reflow(i){this.box=i,this.reflowLabels()}lineBox(){return this.box}reflowLabels(){const{labels:i,options:{labels:e}}=this,n=e.skip||0,o=e.step||1,r=new ze;for(let a=0;a<i.length;a++){i[a].reflow(r);const l=i[a].box;i[a].reflow(this.getSlot(n+a*o).adjacentBox(0,l.width(),l.height()))}}intervals(i,e,n,o=!1){const r=this.options,l=r.categories.length/i||1,c=360/l,f=n||1,_=[];let g=0;for(let S=e||0;S<l;S+=f)g=r.reverse?360-S*c:S*c,g=qe(g,3)%360,o&&Gn(g,o)||_.push(g);return _}majorIntervals(){return this.intervals(1)}minorIntervals(){return this.intervals(.5)}intervalAngle(i){return(360+i+this.options.startAngle)%360}majorAngles(){return SIe(this.majorIntervals(),i=>this.intervalAngle(i))}createLine(){return[]}majorGridLineAngles(i){const e=this.options.majorGridLines;return this.gridLineAngles(i,1,e.skip,e.step)}minorGridLineAngles(i,e){const{minorGridLines:n,majorGridLines:o}=this.options,r=e?this.intervals(1,o.skip,o.step):null;return this.gridLineAngles(i,.5,n.skip,n.step,r)}radiusCallback(i,e,n){if(e.options.type!==fS){const o=yr(360/(2*this.options.categories.length)),r=Math.cos(o)*i,a=this.majorAngles();return function(c){return!n&&Gn(c,a)?i:r}}}createPlotBands(){const i=this.options.plotBands||[],e=this._plotbandGroup=new Vn({zIndex:-1});for(let n=0;n<i.length;n++){const o=i[n],r=this.plotBandSlot(o),a=this.getSlot(o.from),l=o.from-Math.floor(o.from);r.startAngle+=l*a.angle;const c=Math.ceil(o.to)-o.to;r.angle-=(c+l)*a.angle;const u=kV.current.createRing(r,{fill:{color:o.color,opacity:o.opacity},stroke:{opacity:o.opacity}});e.append(u)}this.appendVisual(e)}plotBandSlot(i){return this.getSlot(i.from,i.to-1)}getSlot(i,e){const n=this.options,o=n.justified,r=this.box,a=this.majorAngles(),l=a.length,c=360/l;let u=i;n.reverse&&!o&&(u=(u+1)%l),u=Vt(Math.floor(u),0,l-1);let f=a[u];o&&(f-=c/2,f<0&&(f+=360));const S=c*(Vt(Math.ceil(e||u),u,l-1)-u+1);return new wR(r.center(),0,r.height()/2,f,S)}slot(i,e){const n=this.getSlot(i,e),o=n.startAngle+180;return new dg([n.center.x,n.center.y],{startAngle:o,endAngle:o+n.angle,radiusX:n.radius,radiusY:n.radius})}pointCategoryIndex(i){const e=this.options.categories.length;let n=null;for(let o=0;o<e;o++)if(this.getSlot(o).containsPoint(i)){n=o;break}return n}}we(Gse,{startAngle:90,labels:{margin:zi(10)},majorGridLines:{visible:!0},justified:!0}),K(Gse.prototype,uxe);const Pse=Gse;class Fse extends TR{constructor(i,e){super(i,e);const n=this.options;n.minorUnit=n.minorUnit||n.majorUnit/2}getDivisions(i){return ph.prototype.getDivisions.call(this,i)-1}reflow(i){this.box=i,this.reflowLabels()}reflowLabels(){const{options:i,labels:e,options:{labels:n}}=this,o=n.skip||0,r=n.step||1,a=new ze,l=this.intervals(i.majorUnit,o,r);for(let c=0;c<e.length;c++){e[c].reflow(a);const u=e[c].box;e[c].reflow(this.getSlot(l[c]).adjacentBox(0,u.width(),u.height()))}}lineBox(){return this.box}intervals(i,e,n,o=!1){const r=this.options.min,a=this.getDivisions(i),l=[],u=n||1;for(let f=e||0;f<a;f+=u){const _=(360+r+f*i)%360;o&&Gn(_,o)||l.push(_)}return l}majorIntervals(){return this.intervals(this.options.majorUnit)}minorIntervals(){return this.intervals(this.options.minorUnit)}intervalAngle(i){return(540-i-this.options.startAngle)%360}createLine(){return[]}majorGridLineAngles(i){const e=this.options.majorGridLines;return this.gridLineAngles(i,this.options.majorUnit,e.skip,e.step)}minorGridLineAngles(i,e){const n=this.options,{minorGridLines:o,majorGridLines:r}=n,a=e?this.intervals(n.majorUnit,r.skip,r.step):null;return this.gridLineAngles(i,n.minorUnit,o.skip,o.step,a)}plotBandSlot(i){return this.getSlot(i.from,i.to)}getSlot(i,e){const{options:n,box:o}=this,r=n.startAngle;let a=Vt(i,n.min,n.max),l=Vt(e||a,a,n.max);if(n.reverse&&(a*=-1,l*=-1),a=(540-a-r)%360,l=(540-l-r)%360,l<a){const c=a;a=l,l=c}return new wR(o.center(),0,o.height()/2,a,l-a)}slot(i,e=i){const n=this.options,o=360-n.startAngle,r=this.getSlot(i,e),a=Math.min(i,e),l=Math.max(i,e);let c,u;return n.reverse?(c=a,u=l):(c=360-l,u=360-a),c=(c+o)%360,u=(u+o)%360,new dg([r.center.x,r.center.y],{startAngle:c,endAngle:u,radiusX:r.radius,radiusY:r.radius})}getValue(i){const e=this.options,n=this.box.center();let a=Math.round(_S(Math.atan2(i.y-n.y,i.x-n.x))),l=e.startAngle;return e.reverse||(a*=-1,l*=-1),(a+l+360)%360}valueRange(){return{min:0,max:2*Math.PI}}}we(Fse,{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:zi(10)},majorGridLines:{color:Mo,visible:!0,width:1},minorGridLines:{color:"#aaa"}}),K(Fse.prototype,uxe,{createPlotBands:Pse.prototype.createPlotBands,majorAngles:Pse.prototype.majorAngles,range:ph.prototype.range,labelsCount:ph.prototype.labelsCount,createAxisLabel:ph.prototype.createAxisLabel});const ZAt=Fse,eRt={options:{majorGridLines:{visible:!0}},createPlotBands:function(){const{majorGridLines:{type:s},plotBands:i=[]}=this.options,e=this.plotArea.polarAxis,n=e.majorAngles(),o=e.box.center(),r=this._plotbandGroup=new Vn({zIndex:-1});for(let a=0;a<i.length;a++){const l=i[a],c={fill:{color:l.color,opacity:l.opacity},stroke:{opacity:l.opacity}},u=this.getSlot(l.from,l.to,!0),f=new wR(o,o.y-u.y2,o.y-u.y1,0,360);let _;_=s===fS?kV.current.createRing(f,c):ct.fromPoints(this.plotBandPoints(f,n),c).close(),r.append(_)}this.appendVisual(r)},plotBandPoints:function(s,i){const e=[],n=[],o=[s.center.x,s.center.y],r=new Cl(o,s.innerRadius),a=new Cl(o,s.radius);for(let l=0;l<i.length;l++)e.push(r.pointAt(i[l]+180)),n.push(a.pointAt(i[l]+180));return e.reverse(),e.push(e[0]),n.push(n[0]),n.concat(e)},createGridLines:function(s){const i=this.options,e=this.radarMajorGridLinePositions(),n=s.majorAngles(),o=s.box.center();let r=[];if(i.majorGridLines.visible&&(r=this.renderGridLines(o,e,n,i.majorGridLines)),i.minorGridLines.visible){const a=this.radarMinorGridLinePositions();bb(r,this.renderGridLines(o,a,n,i.minorGridLines))}return r},renderGridLines:function(s,i,e,n){const o={stroke:{width:n.width,color:n.color,dashType:n.dashType}},{skip:r=0,step:a=0}=n,l=this.gridLinesVisual();for(let c=r;c<i.length;c+=a){const u=s.y-i[c];if(u>0){const f=new Cl([s.x,s.y],u);if(n.type===fS)l.append(new Xd(f,o));else{const _=new ct(o);for(let g=0;g<e.length;g++)_.lineTo(f.pointAt(e[g]+180));_.close(),l.append(_)}}}return l.children},getValue:function(s){const i=this.lineBox(),e=this.plotArea.polarAxis,n=e.majorAngles(),o=e.box.center(),r=s.distanceTo(o);let a=r;if(this.options.majorGridLines.type!==fS&&n.length>1){const u=(_S(Math.atan2(s.y-o.y,s.x-o.x))+540)%360;n.sort(function(b,k){return jV(b,u)-jV(k,u)});const f=jV(n[0],n[1])/2,_=jV(u,n[0]),g=90-f;a=r*(Math.sin(yr(180-_-g))/Math.sin(yr(g)))}return this.axisType().prototype.getValue.call(this,new cn(i.x1,i.y2-a))}};function jV(s,i){return 180-Math.abs(Math.abs(s-i)-180)}const hxe=eRt;class pxe extends ph{radarMajorGridLinePositions(){return this.getTickPositions(this.options.majorUnit)}radarMinorGridLinePositions(){const i=this.options;let e=0;return i.majorGridLines.visible&&(e=i.majorUnit),this.getTickPositions(i.minorUnit,e)}axisType(){return ph}}K(pxe.prototype,hxe);const tRt=pxe;class fxe extends zV{radarMajorGridLinePositions(){const i=[];return this.traverseMajorTicksPositions(function(e){i.push(e)},this.options.majorGridLines),i}radarMinorGridLinePositions(){const i=[];return this.traverseMinorTicksPositions(function(e){i.push(e)},this.options.minorGridLines),i}axisType(){return zV}}K(fxe.prototype,hxe);const nRt=fxe;function _xe(s){return s<=0?-1:1}const HV=class sRt extends ft{constructor(i){super(),this.closed=i}process(i){const e=i.slice(0),n=[];let o=this.closed,r=e.length;if(r>2&&(this.removeDuplicates(0,e),r=e.length),r<2||2===r&&e[0].equals(e[1]))return n;let u,f,a=e[0],l=e[1],c=e[2];for(n.push(new qa(a));a.equals(e[r-1]);)o=!0,e.pop(),r--;if(2===r){const g=this.tangent(a,l,kt,Ot);return Zo(n).controlOut(this.firstControlPoint(g,a,l,kt,Ot)),n.push(new qa(l,this.secondControlPoint(g,a,l,kt,Ot))),n}if(o){a=e[r-1],l=e[0],c=e[1];const g=this.controlPoints(a,l,c);u=g[1],f=g[0]}else{const g=this.tangent(a,l,kt,Ot);u=this.firstControlPoint(g,a,l,kt,Ot)}let _=u;for(let g=0;g<=r-3;g++)if(this.removeDuplicates(g,e),r=e.length,g+3<=r){a=e[g],l=e[g+1],c=e[g+2];const S=this.controlPoints(a,l,c);Zo(n).controlOut(_),_=S[1],n.push(new qa(l,S[0]))}if(o){a=e[r-2],l=e[r-1],c=e[0];const g=this.controlPoints(a,l,c);Zo(n).controlOut(_),n.push(new qa(l,g[0])),Zo(n).controlOut(g[1]),n.push(new qa(c,f))}else{const g=this.tangent(l,c,kt,Ot);Zo(n).controlOut(_),n.push(new qa(c,this.secondControlPoint(g,l,c,kt,Ot)))}return n}removeDuplicates(i,e){for(;e[i+1]&&(e[i].equals(e[i+1])||e[i+1].equals(e[i+2]));)e.splice(i+1,1)}invertAxis(i,e,n){let o=!1;if(i.x===e.x)o=!0;else if(e.x===n.x)(e.y<n.y&&i.y<=e.y||n.y<e.y&&e.y<=i.y)&&(o=!0);else{const r=this.lineFunction(i,e),a=this.calculateFunction(r,n.x);i.y<=e.y&&n.y<=a||e.y<=i.y&&n.y>=a||(o=!0)}return o}isLine(i,e,n){const o=this.lineFunction(i,e),r=this.calculateFunction(o,n.x);return i.x===e.x&&e.x===n.x||qe(r,1)===qe(n.y,1)}lineFunction(i,e){const n=(e.y-i.y)/(e.x-i.x);return[i.y-n*i.x,n]}controlPoints(i,e,n){let c,o=kt,r=Ot,a=!1,l=!1;if(this.isLine(i,e,n))c=this.tangent(i,e,kt,Ot);else{const _={x:this.isMonotonicByField(i,e,n,kt),y:this.isMonotonicByField(i,e,n,Ot)};if(_.x&&_.y)c=this.tangent(i,n,kt,Ot),a=!0;else if(this.invertAxis(i,e,n)&&(o=Ot,r=kt),_[o])c=0;else{let g;g=n[r]<i[r]&&i[r]<=e[r]||i[r]<n[r]&&e[r]<=i[r]?_xe((n[r]-i[r])*(e[o]-i[o])):-_xe((n[o]-i[o])*(e[r]-i[r])),c=.01*g,l=!0}}const u=this.secondControlPoint(c,i,e,o,r);if(l){const _=o;o=r,r=_}const f=this.firstControlPoint(c,e,n,o,r);return a&&(this.restrictControlPoint(i,e,u,c),this.restrictControlPoint(e,n,f,c)),[u,f]}restrictControlPoint(i,e,n,o){i.y<e.y?e.y<n.y?(n.x=i.x+(e.y-i.y)/o,n.y=e.y):n.y<i.y&&(n.x=e.x-(e.y-i.y)/o,n.y=i.y):n.y<e.y?(n.x=i.x-(i.y-e.y)/o,n.y=e.y):i.y<n.y&&(n.x=e.x+(i.y-e.y)/o,n.y=i.y)}tangent(i,e,n,o){const r=e[n]-i[n];let l;return l=0===r?0:(e[o]-i[o])/r,l}isMonotonicByField(i,e,n,o){return n[o]>e[o]&&e[o]>i[o]||n[o]<e[o]&&e[o]<i[o]}firstControlPoint(i,e,n,o,r){const a=e[o],c=.333*(n[o]-a);return this.point(a+c,e[r]+c*i,o,r)}secondControlPoint(i,e,n,o,r){const l=n[o],c=.333*(l-e[o]);return this.point(l-c,n[r]-c*i,o,r)}point(i,e,n,o){const r=new Ie;return r[n]=i,r[o]=e,r}calculateFunction(i,e){const n=i.length;let o=0;for(let r=0;r<n;r++)o+=Math.pow(e,r)*i[r];return o}},rRt=class oRt extends ft{constructor(i){super(),this._axis=i,this.options=i.options}value(i){const e=this._axis;return e.getCategory?e.getCategory(i):e.getValue(i)}slot(i,e,n=!0){return this._axis.slot(i,e,n)}range(){return this._axis.range()}valueRange(){return this._axis.valueRange()}};function gxe(s,i){for(let e=0;e<i.length;e++)if(i[e].options.name===s)return i[e].prepareUserOptions(),new rRt(i[e])}const Use=class aRt{constructor(i){this.visual=i.visual,this.chartsVisual=i.chartContainer.visual,this._pane=i}findAxisByName(i){return gxe(i,this._pane.axes)}},cRt=class lRt extends ft{constructor(i){super(),this._plotArea=i,this.visual=i.visual,this.backgroundVisual=i._bgVisual}};function Bse(s){const i=s.length;let e=0;for(let n=0;n<i;n++)ii(s[n])&&e++;return e}const Vse={min:function(s){const i=s.length;let e=qo;for(let n=0;n<i;n++){const o=s[n];ii(o)&&(e=Math.min(e,o))}return e===qo?s[0]:e},max:function(s){const i=s.length;let e=Er;for(let n=0;n<i;n++){const o=s[n];ii(o)&&(e=Math.max(e,o))}return e===Er?s[0]:e},sum:function(s){const i=s.length;let e=0;for(let n=0;n<i;n++){const o=s[n];ii(o)&&(e+=o)}return e},sumOrNull:function(s){let i=null;return Bse(s)&&(i=Vse.sum(s)),i},count:function(s){const i=s.length;let e=0;for(let n=0;n<i;n++){const o=s[n];null!==o&&ge(o)&&e++}return e},avg:function(s){const i=Bse(s);let e=s[0];return i>0&&(e=Vse.sum(s)/i),e},first:function(s){const i=s.length;for(let e=0;e<i;e++){const n=s[e];if(null!==n&&ge(n))return n}return s[0]}},dRt=Vse;function uRt(s,i){return null===i?i:mS(s)(i)}class zse extends ft{constructor(){super(),this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}}register(i,e=[nu],n={}){for(let o=0;o<i.length;o++){const r=i[o];this._valueFields[r]=e,this._otherFields[r]=n,this._nullValue[r]=this._makeValue(e,null),this._undefinedValue[r]=this._makeValue(e,void 0)}}canonicalFields(i){return this.valueFields(i).concat(this.otherFields(i))}valueFields(i){return this._valueFields[i.type]||[nu]}otherFields(i){return this._otherFields[i.type]||[nu]}bindPoint(i,e,n){const o=i.data,r=ge(n)?n:o[e],a={valueFields:{value:r}},l=this.valueFields(i),c=this._otherFields[i.type];let u,f;if(null===r)f=this._nullValue[i.type];else if(ge(r)){if(Array.isArray(r)){const _=r.slice(l.length);f=this._bindFromArray(r,l),u=this._bindFromArray(_,c)}else if("object"==typeof r){const _=this.sourceFields(i,l),g=this.sourceFields(i,c);f=this._bindFromObject(r,l,_),u=this._bindFromObject(r,c,g)}}else f=this._undefinedValue[i.type];return ge(f)&&(1===l.length?a.valueFields.value=f[l[0]]:a.valueFields=f),a.fields=u||{},a}_makeValue(i,e){const n={},o=i.length;for(let r=0;r<o;r++)n[i[r]]=e;return n}_bindFromArray(i,e){const n={};if(e){const o=Math.min(e.length,i.length);for(let r=0;r<o;r++)n[e[r]]=i[r]}return n}_bindFromObject(i,e,n=e){const o={};if(e){const r=e.length;for(let a=0;a<r;a++){const c=n[a];null!==c&&(o[e[a]]=uRt(c,i))}}return o}sourceFields(i,e){const n=[];if(e){const o=e.length;for(let r=0;r<o;r++){const a=e[r],l=a===nu?"field":a+"Field";n.push(null!==i[l]?i[l]||a:null)}}return n}}zse.current=new zse;const Rs=zse,fRt=/percent(?:\w*)\((\d+)\)/,mRt=new RegExp("^stddev(?:\\((\\d+(?:\\.\\d+)?)\\))?$"),vxe=class _Rt extends ft{constructor(i,e,n){super(),this.initGlobalRanges(i,e,n)}initGlobalRanges(i,e,n){const o=e.data,r=mRt.exec(i);if(r){this.valueGetter=this.createValueGetter(e,n);const a=this.getAverage(o),l=this.getStandardDeviation(o,a,!1),c=r[1]?parseFloat(r[1]):1,u={low:a.value-l*c,high:a.value+l*c};this.globalRange=function(){return u}}else if(i.indexOf&&i.indexOf("stderr")>=0){this.valueGetter=this.createValueGetter(e,n);const a=this.getStandardError(o,this.getAverage(o));this.globalRange=function(l){return{low:l-a,high:l+a}}}}createValueGetter(i,e){const n=i.data,o=Rs.current,r=o.valueFields(i),a=ge(n[0])?n[0]:{};let l;return Ia(a)?l=mS("["+(e?r.indexOf(e):0)+"]"):ii(a)?l=mS():typeof a===CR&&(l=mS(o.sourceFields(i,r)[r.indexOf(e)])),l}getErrorRange(i,e){let n,o,r;if(!ge(e))return null;if(this.globalRange)return this.globalRange(i);if(Ia(e))n=i-e[0],o=i+e[1];else if(ii(r=parseFloat(e)))n=i-r,o=i+r;else{if(!(r=fRt.exec(e)))throw new Error("Invalid ErrorBar value: "+e);{const a=i*(parseFloat(r[1])/100);n=i-Math.abs(a),o=i+Math.abs(a)}}return{low:n,high:o}}getStandardError(i,e){return this.getStandardDeviation(i,e,!0)/Math.sqrt(e.count)}getStandardDeviation(i,e,n){const o=i.length,r=n?e.count-1:e.count;let a=0;for(let l=0;l<o;l++){const c=this.valueGetter(i[l]);ii(c)&&(a+=Math.pow(c-e.value,2))}return Math.sqrt(a/r)}getAverage(i){const e=i.length;let n=0,o=0;for(let r=0;r<e;r++){const a=this.valueGetter(i[r]);ii(a)&&(n+=a,o++)}return{value:n/o,count:o}}},fh=600,SS="fadeIn",xR=(tp.browser||{}).msie?.001:0,Ig="zero",VD="interpolate",WV="above",zD="smooth",AR="step",xg="area",mh="bar",RR="boxPlot",jD="bubble",CS="bullet",HD="candlestick",Em="column",YV="donut",NR="funnel",LR="pyramid",Hse="heatmap",$D="horizontalWaterfall",Ag="line",XD="ohlc",bS="pie",$se="polarArea",KV="polarLine",Xse="polarScatter",GR="radarArea",JV="radarColumn",WD="radarLine",YD="rangeArea",KD="rangeBar",PR="rangeColumn",Wse="scatter",Yse="scatterLine",wb="verticalArea",JD="verticalBoxPlot",FR="verticalBullet",Db="verticalLine",Ob="verticalRangeArea",UR="waterfall",Exe=[mh,Em,XD,HD,RR,JD,CS,PR,KD,UR,$D],Kse="exponentialTrendline",Jse="linearTrendline",qse="logarithmicTrendline",Qse="movingAverageTrendline",Zse="polynomialTrendline",eoe="powerTrendline",qD=[Kse,Jse,qse,Qse,Zse,eoe],yxe="legendItemClick",kxe="seriesClick",wxe="seriesHover",Dxe="seriesOver",Oxe="seriesLeave",Txe="plotAreaHover",toe="plotAreaLeave",BR="drag",VR="dragEnd",noe="dragStart",zR="zoomStart",QD="zoom",ZD="zoomEnd",ioe="selectStart",jR="select",soe="selectEnd",Mxe="showTooltip",Ixe="hideTooltip",ES="graphics-symbol",yS="k-chart-point",kS="Point",qV="log",kp="category",QV="insideEnd",Tb="outsideEnd",ZV="wheel",Rg="drilldown";class Axe extends Ki{constructor(i,e,n,o,r,a){super(a),this.low=i,this.high=e,this.isVertical=n,this.chart=o,this.series=r}reflow(i){const e=this.options.endCaps,n=this.isVertical,r=this.getAxis().getSlot(this.low,this.high),a=i.center(),l=this.getCapsWidth(i,n),c=n?a.x:a.y,u=c-l,f=c+l;let _;n?(_=[new cn(a.x,r.y1),new cn(a.x,r.y2)],e&&_.push(new cn(u,r.y1),new cn(f,r.y1),new cn(u,r.y2),new cn(f,r.y2)),this.box=new ze(u,r.y1,f,r.y2)):(_=[new cn(r.x1,a.y),new cn(r.x2,a.y)],e&&_.push(new cn(r.x1,u),new cn(r.x1,f),new cn(r.x2,u),new cn(r.x2,f)),this.box=new ze(r.x1,u,r.x2,f)),this.linePoints=_}getCapsWidth(i,e){const n=e?i.width():i.height();return Math.min(Math.floor(n/2),4)||4}createVisual(){const i=this.options,e=i.visual;e?this.visual=e({low:this.low,high:this.high,rect:this.box.toRect(),sender:this.getSender(),options:{endCaps:i.endCaps,color:i.color,line:i.line},createVisual:()=>{this.createDefaultVisual();const n=this.visual;return delete this.visual,n}}):this.createDefaultVisual()}createDefaultVisual(){const{options:i,linePoints:e}=this,n={stroke:{color:i.color,width:i.line.width,dashType:i.line.dashType}};super.createVisual();for(let o=0;o<e.length;o+=2){const r=new ct(n).moveTo(e[o].x,e[o].y).lineTo(e[o+1].x,e[o+1].y);iu(r),this.visual.append(r)}}}we(Axe,{animation:{type:SS,delay:fh},endCaps:!0,line:{width:2},zIndex:1});const Rxe=Axe,NRt=class RRt extends Rxe{getAxis(){return this.chart.seriesValueAxis(this.series)}};function Nxe(s){for(let i=0;i<s.length;i++)if(ge(s[i].zIndex))return!0}function e9(s,i){null!==i&&s.push(i)}function Lxe(s){return Bse(s)===s.length}function LRt(s,i,e){const n=i.visible;if(ge(n))return n;const o=s.pointVisibility;return o?o[e]:void 0}function Gxe(s){const i=s.data,e=[];let n=0,o=0;for(let r=0;r<i.length;r++){const a=Rs.current.bindPoint(s,r);let l=a.valueFields.value;rd(l)&&(l=parseFloat(l)),ii(l)?(a.visible=!1!==LRt(s,a.fields,r),a.value=Math.abs(l),e.push(a),a.visible&&(n+=a.value),0!==l&&o++):e.push(null)}return{total:n,points:e,count:o}}function aoe(s){const i=s.length;let e=0;for(let n=0;n<i;n++)e=Math.max(e,s[n].data.length);return e}function Ng(s,i){return s&&i?s.toLowerCase()===i.toLowerCase():s===i}function Lg(s,i,e={},n=!1){const o=e.defaults=e.defaults||{},r=e.depth=e.depth||0;let a=!1;if(e.excluded=e.excluded||[],r>5)return null;for(let l in s)if(!Gn(l,e.excluded)&&PD(s,l)){const c=s[l];Js(c)?(a=!0,n||(s[l]=ln(c(i),o[l]))):dh(c)&&(n||(e.defaults=o[l]),e.depth++,a=Lg(c,i,e,n)||a,e.depth--)}return a}function ho(s,i){const e=[],n=[].concat(i);for(let o=0;o<s.length;o++){const r=s[o];Gn(r.type,n)&&e.push(r)}return e}const Pxe=new WeakMap;function Fxe(s,i,e){if(null===i||"object"!=typeof i)return xa(e,s);let n=Pxe.get(i);return n||(n=xa(e,s),Pxe.set(i,n)),n}function loe(s){const i=s.overlay;return i&&i.gradient&&"none"!==i.gradient}function ld(s){return ge(s)&&null!==s}function Uxe(s,i){const e=s.type,n=i instanceof Date;return!e&&n||Ng(e,kg)}function eO(s){return 1===s.length?s[0]:s}const PRt=/area/i;function coe(s,i){const n=Rs.current.bindPoint(s,null,i).valueFields;for(let o in n)if(dIe(n[o]))return!0}function Bxe({start:s,dir:i,min:e,max:n,getter:o,hasItem:r,series:a}){let l,c,u=s;do{u+=i,r(u)&&(c=o(u),l=coe(a,c.item))}while(e<=u&&u<=n&&!l);if(l)return c}function Vxe(s,i,e,n,o){const{min:r,max:a}=i,l=r>0&&r<e,c=a+1<e;if(l||c){const u=function FRt(s){return s.missingValues?s.missingValues:PRt.test(s.type)||s.stack?Ig:VD}(s);let f,_;if(u!==VD)l&&(f=n(r-1)),c&&(_=n(a+1));else{let g,S;l&&(g=n(r-1),S=coe(s,g.item),f=S?g:Bxe({start:r,dir:-1,min:0,max:e-1,getter:n,hasItem:o,series:s})),c&&(g=n(a+1),S=coe(s,g.item),_=S?g:Bxe({start:a,dir:1,min:0,max:e-1,getter:n,hasItem:o,series:s}))}f&&(s._outOfRangeMinPoint=f),_&&(s._outOfRangeMaxPoint=_)}}class zxe extends Ki{constructor(i,e){super(e),this.plotArea=i,this.chartService=i.chartService,this.categoryAxis=i.seriesCategoryAxis(e.series[0]),this.valueAxisRanges={},this.points=[],this.categoryPoints=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[],this.render()}render(){this.traverseDataPoints(this.addValue.bind(this))}pointOptions(i,e){let n=this.seriesOptions[e];if(!n){const o=this.pointType().prototype.defaults;this.seriesOptions[e]=n=K({},o,{vertical:!this.options.invertAxes},i)}return n}plotValue(i){if(!i)return 0;if(this.options.isStacked100&&ii(i.value)){const n=this.categoryPoints[i.categoryIx],o=[];let r=0;for(let a=0;a<n.length;a++){const l=n[a];if(l){const c=i.series.stack,u=l.series.stack;if(c&&u&&c.group!==u.group)continue;ii(l.value)&&(r+=Math.abs(l.value),o.push(Math.abs(l.value)))}}if(r>0)return i.value/r}return i.value}plotRange(i,e=0){const n=this.categoryPoints[i.categoryIx];if(this.options.isStacked){let l=this.plotValue(i);const c=l>=0;let u=e,f=!1;const _=ge(i.series.stack)?i.series.stack:this.options.defaultStack,g=S=>!0===S||typeof S===CR&&!S.group;if(_)for(let S=0;S<n.length;S++){const b=n[S];if(i===b)break;const k=ge(b.series.stack)?b.series.stack:this.options.defaultStack;if(!k||typeof _===ase&&_!==k||g(_)&&!g(k)||_.group&&_.group!==k.group)continue;const D=this.plotValue(b);(D>=0&&c||D<0&&!c)&&(0===e||0!==D)&&(u+=D,l+=D,f=!0,this.options.isStacked100&&(l=Math.min(l,1)))}return f&&(u-=e),[u,l]}const r=this.seriesValueAxis(i.series),a=this.categoryAxisCrossingValue(r);return[a,dIe(i.value)?i.value:a]}stackLimits(i,e){let n=qo,o=Er;for(let r=0;r<this.categoryPoints.length;r++){const a=this.categoryPoints[r];if(a)for(let l=0;l<a.length;l++){const c=a[l];if(c&&(c.series.stack===e||c.series.axis===i)){const u=this.plotRange(c,0)[1];ge(u)&&isFinite(u)&&(o=Math.max(o,u),n=Math.min(n,u))}}}return{min:n,max:o}}updateStackRange(){const{isStacked:i,series:e}=this.options,n={};if(i)for(let o=0;o<e.length;o++){const r=e[o],a=r.axis,l=a+r.stack;let c=n[l];if(!c){c=this.stackLimits(a,r.stack);const u=this.errorTotals;u&&(u.negative.length&&(c.min=Math.min(c.min,fse(u.negative).min)),u.positive.length&&(c.max=Math.max(c.max,fse(u.positive).max))),c.min!==qo||c.max!==Er?n[l]=c:c=null}c&&(this.valueAxisRanges[a]=c)}}addErrorBar(i,e,n){const{value:o,series:r,seriesIx:a}=i,l=i.options.errorBars,c=e.fields.errorLow,u=e.fields.errorHigh;let f;ii(c)&&ii(u)?f={low:c,high:u}:l&&ge(l.value)&&(this.seriesErrorRanges=this.seriesErrorRanges||[],this.seriesErrorRanges[a]=this.seriesErrorRanges[a]||new vxe(l.value,r,nu),f=this.seriesErrorRanges[a].getErrorRange(o,l.value)),f&&(i.low=f.low,i.high=f.high,this.addPointErrorBar(i,n))}addPointErrorBar(i,e){const n=!this.options.invertAxes,o=i.options.errorBars;let{series:r,low:a,high:l}=i;if(this.options.isStacked){const u=this.stackedErrorRange(i,e);a=u.low,l=u.high}else{const u={categoryIx:e,series:r};this.updateRange({value:a},u),this.updateRange({value:l},u)}const c=new NRt(a,l,n,this,r,o);i.errorBars=[c],i.append(c)}stackedErrorRange(i,e){const n=this.plotRange(i,0)[1]-i.value,o=i.low+n,r=i.high+n;return this.errorTotals=this.errorTotals||{positive:[],negative:[]},o<0&&(this.errorTotals.negative[e]=Math.min(this.errorTotals.negative[e]||0,o)),r>0&&(this.errorTotals.positive[e]=Math.max(this.errorTotals.positive[e]||0,r)),{low:o,high:r}}addValue(i,e){const{categoryIx:n,series:o,seriesIx:r}=e;let a=this.categoryPoints[n];a||(this.categoryPoints[n]=a=[]);let l=this.seriesPoints[r];l||(this.seriesPoints[r]=l=[]);const c=this.createPoint(i,e);c&&(Object.assign(c,e),c.owner=this,c.noteText=i.fields.noteText,ge(c.dataItem)||(c.dataItem=o.data[n]),this.addErrorBar(c,i,n)),this.points.push(c),l.push(c),a.push(c),this.updateRange(i.valueFields,e)}evalPointOptions(i,e,n){const o=n.categoryIx,r=n.category,a=n.series,l=n.seriesIx,c={defaults:a._defaults,excluded:["data","aggregate","_events","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint","drilldownSeriesFactory","ariaTemplate","ariaContent"]};let u=this._evalSeries[l];ge(u)||(this._evalSeries[l]=u=Lg(i,{},c,!0));let f=i;return u&&(f=K({},f),Lg(f,{value:e,category:r,index:o,series:a,dataItem:a.data[o]},c)),f}updateRange(i,e){const n=e.series.axis,o=i.value;let r=this.valueAxisRanges[n];isFinite(o)&&null!==o&&(r=this.valueAxisRanges[n]=r||{min:qo,max:Er},r.min=Math.min(r.min,o),r.max=Math.max(r.max,o))}seriesValueAxis(i){const e=this.plotArea,n=i.axis,o=n?e.namedValueAxes[n]:e.valueAxis;if(!o)throw new Error("Unable to locate value axis with name "+n);return o}reflow(i){const e=this.categorySlots=[],n=this.points,o=this.categoryAxis;let r=0;this.traverseDataPoints((a,l)=>{const{categoryIx:c,series:u}=l,f=this.seriesValueAxis(u),_=n[r++];let g=e[c];if(g||(e[c]=g=this.categorySlot(o,c,f)),_){const S=this.plotRange(_,f.startValue()),b=this.valueSlot(f,S);if(b){const k=this.pointSlot(g,b);_.aboveAxis=this.aboveAxis(_,f),_.stackValue=S[1],this.options.isStacked100&&(_.percentage=this.plotValue(_)),this.reflowPoint(_,k)}else _.visible=!1}}),this.reflowCategories(e),!this.options.clip&&this.options.limitPoints&&this.points.length&&this.limitPoints(),this.box=i}valueSlot(i,e){return i.getSlot(e[0],e[1],!this.options.clip)}limitPoints(){const i=this.categoryPoints,e=i[0].concat(Zo(i));for(let n=0;n<e.length;n++)e[n]&&this.limitPoint(e[n])}limitPoint(i){const e=this.categoryAxis.limitSlot(i.box);e.equals(i.box)||i.reflow(e)}aboveAxis(i,e){const n=this.categoryAxisCrossingValue(e),o=i.value;return e.options.reverse?o<n:o>=n}categoryAxisCrossingValue(i){const e=this.categoryAxis,n=i.options;return[].concat(n.axisCrossingValues||n.axisCrossingValue)[e.axisIndex||0]||0}reflowPoint(i,e){i.reflow(e)}reflowCategories(){}pointSlot(i,e){const o=this.options.invertAxes,r=o?e:i,a=o?i:e;return new ze(r.x1,a.y1,r.x2,a.y2)}categorySlot(i,e){return i.getSlot(e)}traverseDataPoints(i){const e=this.options.series,n=aoe(e),o=e.length;for(let r=0;r<o;r++)this._outOfRangeCallback(e[r],"_outOfRangeMinPoint",r,i);for(let r=0;r<n;r++)for(let a=0;a<o;a++){const l=e[a],c=this.categoryAxis.categoryAt(r);i(this.plotArea.bindPoint(l,r),{category:c,categoryIx:r,categoriesCount:n,series:l,seriesIx:a})}for(let r=0;r<o;r++)this._outOfRangeCallback(e[r],"_outOfRangeMaxPoint",r,i)}_outOfRangeCallback(i,e,n,o){const r=i[e];if(r){const a=r.categoryIx;o(this.plotArea.bindPoint(i,a,r.item),{category:r.category,categoryIx:a,series:i,seriesIx:n,dataItem:r.item})}}formatPointValue(i,e){return null===i.value?"":this.chartService.format.auto(e,i.value)}pointValue(i){return i.valueFields.value}}we(zxe,{series:[],invertAxes:!1,isStacked:!1,clip:!0,limitPoints:!0});const Mb=zxe,wp={click:function(s,i){return s.trigger(kxe,this.eventArgs(i))},hover:function(s,i){return s.trigger(wxe,this.eventArgs(i))},over:function(s,i){return s.trigger(Dxe,this.eventArgs(i))},out:function(s,i){return s.trigger(Oxe,this.eventArgs(i))},eventArgs:function(s){return{value:this.value,percentage:this.percentage,stackValue:this.stackValue,category:this.category,series:this.series,dataItem:this.dataItem,runningTotal:this.runningTotal,total:this.total,element:bp(s),originalEvent:s,point:this}}},tO={createNote:function(){const s=this.options.notes,i=this.noteText||s.label.text;!1!==s.visible&&ge(i)&&null!==i&&(this.note=new HIe({value:this.value,text:i,dataItem:this.dataItem,category:this.category,series:this.series},this.options.notes,this.owner.chartService),this.append(this.note))}};function t9(){let i,e,s="";for(i=0;i<32;i++)e=16*Math.random()|0,(8===i||12===i||16===i||20===i)&&(s+="-"),s+=(12===i?4:16===i?3&e|8:e).toString(16);return s}class n9 extends Ki{constructor(i,e){super(),this.value=i,this.options=e,this.aboveAxis=ln(this.options.aboveAxis,!0),this.tooltipTracking=!0,this._id=t9()}render(){const{markers:i}=this.options;this._rendered||(this._rendered=!0,i.visible&&i.size&&(this.marker=this.createMarker(),this.append(this.marker)),this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))}createLabel(){const e=this.options.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))}createLabelElement(i){return new ad(this.getLabelText(i),K({align:Cn,vAlign:Cn,margin:{left:5,right:5},zIndex:ln(i.zIndex,this.series.zIndex)},i),this.pointData())}getLabelText(i){let e=ta(i);return e?e(this.pointData()):i.format?this.formatValue(i.format):this.value}getAriaLabelText(){const i=this.options.labels,e=_Ie(i);return e?e(this.pointData()):this.getLabelText(i)}markerBorder(){const i=this.options.markers,e=i.background,n=K({color:this.color},i.border);return ge(n.color)||(n.color=new ju(e).brightness(.8).toHex()),n}createVisual(){}createMarker(){const i=this.options.markers;return new kl({type:i.type,width:i.size,height:i.size,rotation:i.rotation,background:i.background,border:this.markerBorder(),opacity:i.opacity,zIndex:ln(i.zIndex,this.series.zIndex),animation:i.animation,visual:i.visual,accessibilityOptions:K({ariaLabel:this.getAriaLabelText(this.options.labels)},this.options.accessibility)},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category})}markerBox(){return this.marker||(this.marker=this.createMarker(),this.marker.reflow(this._childBox)),this.marker.box}reflow(i){const{options:e,aboveAxis:n}=this,o=e.vertical;this.render(),this.box=i;const r=i.clone();if(o?n?r.y1-=r.height():r.y2+=r.height():n?r.x1+=r.width():r.x2-=r.width(),this._childBox=r,this.marker&&this.marker.reflow(r),this.reflowLabel(r),this.errorBars)for(let a=0;a<this.errorBars.length;a++)this.errorBars[a].reflow(r);if(this.note){let a=this.markerBox();if(!e.markers.visible||!e.markers.size){const l=a.center();a=new ze(l.x,l.y,l.x,l.y)}this.note.reflow(a)}}reflowLabel(i){const{options:e,label:n}=this;let o=e.labels.position;n&&(o=o===WV?Qn:o,o="below"===o?Di:o,n.reflow(i),n.box.alignTo(this.markerBox(),o),n.reflow(n.box))}createHighlight(){const i=this.options.highlight.markers,e=this.markerBorder().color,n=this.options.markers,o=n.size+(n.border.width||0)+(i.border.width||0),r=new kl({type:n.type,width:o,height:o,rotation:n.rotation,background:i.color||e,border:{color:i.border.color,width:i.border.width,opacity:ln(i.border.opacity,1)},opacity:ln(i.opacity,1)});return r.reflow(this._childBox),r.getElement()}highlightVisual(){return(this.marker||{}).visual}highlightVisualArgs(){const i=this.marker;let e,n;if(i)n=i.paddingBox.toRect(),e=i.visual;else{const o=this.options.markers.size,r=o/2,a=this.box.center();n=new On([a.x-r,a.y-r],[o,o])}return{options:this.options,rect:n,visual:e}}createFocusHighlight(){const i=this.options.markers,e=this.options.accessibility.highlight,n=i.size+(i.border.width||0),o=new kl({type:i.type,width:n,height:n,rotation:i.rotation,background:e.color,border:e.border,opacity:e.opacity,padding:e.border.width/2,zIndex:e.zIndex});return o.reflow(this._childBox),o.getElement()}tooltipAnchor(){const i=this.markerBox(),e=this.owner.pane.clipBox();if(!e||e.overlaps(i)){const r=jn;let a,l;return this.aboveAxis?(a=i.y1,l=Di):(a=i.y2,l=Qn),{point:new cn(i.x2+5,a),align:{horizontal:r,vertical:l}}}}formatValue(i){return this.owner.formatPointValue(this,i)}overlapsBox(i){return this.markerBox().overlaps(i)}unclipElements(){this.label&&(this.label.options.noclip=!0),this.note&&(this.note.options.noclip=!0)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,series:this.series}}focusVisual(){this.marker&&(this.marker.visual&&this.marker.visual.options.set("id",this._id),this.toggleFocusHighlight(!0))}clearFocusFromVisual(){this.marker&&(this.marker.visual&&this.marker.visual.options.set("id",""),this.toggleFocusHighlight(!1))}getIndex(){return ge(this.categoryIx)?this.categoryIx:this.pointIx}}n9.prototype.defaults={vertical:!0,markers:{visible:!0,background:gi,size:8,type:od,border:{width:2},opacity:1},labels:{visible:!1,position:WV,margin:zi(3),padding:zi(4),animation:{type:SS,delay:fh}},notes:{label:{}},highlight:{markers:{border:{color:"#fff",width:2}},zIndex:100},errorBars:{line:{width:1}},accessibility:{tabIndex:0,role:ES,className:yS,ariaRoleDescription:kS}},K(n9.prototype,wp),K(n9.prototype,tO);const Ib=n9;class jxe extends Ki{constructor(i,e,n){super(),this.linePoints=i,this.series=e,this.seriesIx=n}points(){return this.toGeometryPoints(this.linePoints)}toGeometryPoints(i){const e=[];for(let n=0,o=i.length;n<o;n++)i[n]&&!1!==i[n].visible&&e.push(i[n]._childBox.toRect().center());return e}createVisual(){const i=this.series.visual;i?(this.visual=i({points:this.toGeometryPoints(this.linePoints),series:this.series,sender:this.getSender(),createVisual:()=>(this.segmentVisual(),this.visual)}),this.visual&&!ge(this.visual.options.zIndex)&&(this.visual.options.zIndex=this.series.zIndex)):this.segmentVisual()}segmentVisual(){const{options:i,series:e}=this;let{color:n,_defaults:o}=e;Js(n)&&o&&(n=o.color);const r=ct.fromPoints(this.points(),{stroke:{color:n,width:e.width,opacity:e.opacity,dashType:e.dashType},zIndex:e.zIndex});i.closed&&r.close(),this.visual=r}aliasFor(i,e){return this.parent.getNearestPoint(e.x,e.y,this.seriesIx)}}we(jxe,{closed:!1});const nO=jxe,URt={calculateStepPoints:function(s){const i=this.parent.plotArea.seriesCategoryAxis(this.series),{justified:e,vertical:n,reverse:o}=i.options,r=n?kt:Ot,a=n?Ot:kt,l=o?2:1,c=l;let u=doe(s[0],r,l,a,c);const f=[u];for(let _=1;_<s.length;_++){const g=doe(s[_],r,l,a,c);if(u[r]!==g[r]){const S=new Ie;S[r]=u[r],S[a]=g[a],f.push(S,g)}u=g}return e?u!==Zo(f)&&f.push(u):f.push(doe(Zo(s),r,l,a,o?1:2)),f}};function doe(s,i,e,n,o){const r=s.box,a=new Ie;return a[i]=r[i+e],a[n]=r[n+o],a}const uoe=URt;class Hxe extends nO{points(){return this.calculateStepPoints(this.linePoints)}}K(Hxe.prototype,uoe);const BRt=Hxe,hoe=class VRt extends nO{segmentVisual(){const i=this.series,e=i._defaults;let n=i.color;Js(n)&&e&&(n=e.color);const r=new HV(this.options.closed).process(this.points()),a=new ct({stroke:{color:n,width:i.width,opacity:i.opacity,dashType:i.dashType},zIndex:i.zIndex});a.segments.push.apply(a.segments,r),this.visual=a}},poe={renderSegments:function(){const{options:s,seriesPoints:i}=this,e=s.series,n=i.length;let o;this._segments=[];for(let r=0;r<n;r++){const a=e[r],l=this.sortPoints(i[r]),c=l.length;let u=[];for(let f=0;f<c;f++){const _=l[f];_?u.push(_):this.seriesMissingValues(a)!==VD&&(u.length>1&&(o=this.createSegment(u,a,r,o),this._addSegment(o)),u=[])}u.length>1&&(o=this.createSegment(u,a,r,o),this._addSegment(o))}this.children.unshift.apply(this.children,this._segments)},_addSegment:function(s){this._segments.push(s),s.parent=this},sortPoints:function(s){return s},seriesMissingValues:function(s){const i=s.missingValues;return!i&&this.options.isStacked?Ig:i||VD},getNearestPoint:function(s,i,e){const n=new cn(s,i),o=this.seriesPoints[e];let a,r=qo;for(let l=0;l<o.length;l++){const c=o[l];if(c&&ge(c.value)&&null!==c.value&&!1!==c.visible){const f=c.box.center().distanceTo(n);f<r&&(a=c,r=f)}}return a}};class foe extends hh{setup(){this._setEnd(this.options.box.x1)}step(i){const e=this.options.box;this._setEnd(uh(e.x1,e.x2,i))}_setEnd(i){const e=this.element,n=e.segments,o=n[1].anchor(),r=n[2].anchor();e.suspend(),o.setX(i),e.resume(),r.setX(i)}}we(foe,{duration:fh}),vm.current.register("clip",foe);const zRt=foe,i9={createAnimation:function(){const s=this.getRoot();if(s&&!1!==(s.options||{}).transitions){const i=s.size(),e=ct.fromRect(i.toRect());this.visual.clip(e),this.animation=new zRt(e,{box:i}),Nxe(this.options.series)&&this._setChildrenAnimation(e)}},_setChildrenAnimation:function(s){const i=this.animationPoints();for(let e=0;e<i.length;e++){const n=i[e];n&&n.visual&&ge(n.visual.options.zIndex)&&n.visual.clip(s)}}};class $xe extends Mb{render(){super.render(),this.updateStackRange(),this.renderSegments()}pointType(){return Ib}createPoint(i,e){const{series:n,seriesIx:o}=e,r=this.seriesMissingValues(n);let a=i.valueFields.value;if(!ge(a)||null===a){if(r!==Ig)return null;a=0}let l=this.pointOptions(n,o);l=this.evalPointOptions(l,a,e);let c=i.fields.color||n.color;Js(n.color)&&(c=l.color);const u=new Ib(a,l);return u.color=c,this.append(u),u}plotRange(i){let e=this.plotValue(i);if(this.options.isStacked){const o=this.categoryPoints[i.categoryIx];for(let r=0;r<o.length;r++){const a=o[r];if(i===a)break;e+=this.plotValue(a),this.options.isStacked100&&(e=Math.min(e,1))}}return[e,e]}createSegment(i,e,n){const o=e.style;let r;return r=o===AR?BRt:o===zD?hoe:nO,new r(i,e,n)}animationPoints(){const i=this.points,e=[];for(let n=0;n<i.length;n++)e.push((i[n]||{}).marker);return e.concat(this._segments)}supportsPointInactiveOpacity(){return!1}}K($xe.prototype,poe,i9);const moe=$xe,iO=class jRt extends nO{constructor(i,e,n,o,r){super(i,e,n),this.prevSegment=o,this.stackPoints=r}createVisual(){const i=this.series,e=i._defaults,n=i.line||{};let o=i.color;Js(o)&&e&&(o=e.color),this.visual=new Vn({zIndex:i.zIndex}),this.createFill({fill:{color:o,opacity:i.opacity},stroke:null}),n.width>0&&!1!==n.visible&&this.createStroke({stroke:K({color:o,opacity:i.opacity,lineCap:"butt"},n)})}strokeSegments(){let i=this._strokeSegments;return i||(i=this._strokeSegments=this.createStrokeSegments()),i}createStrokeSegments(){return this.segmentsFromPoints(this.points())}stackSegments(){return this.prevSegment?this.prevSegment.createStackSegments(this.stackPoints):this.createStackSegments(this.stackPoints)}createStackSegments(i){return this.segmentsFromPoints(this.toGeometryPoints(i)).reverse()}segmentsFromPoints(i){return i.map(e=>new qa(e))}createStroke(i){const e=new ct(i);e.segments.push.apply(e.segments,this.strokeSegments()),this.visual.append(e)}hasStackSegment(){return this.prevSegment||this.stackPoints&&this.stackPoints.length}createFill(i){const e=this.strokeSegments(),n=e.slice(0),o=this.hasStackSegment();if(o){const a=this.stackSegments();bb(n,a)}const r=new ct(i);r.segments.push.apply(r.segments,n),!o&&e.length>1&&this.fillToAxes(r),this.visual.append(r)}fillToAxes(i){const e=this.parent,n=e.options.invertAxes,o=e.seriesValueAxis(this.series),r=e.categoryAxisCrossingValue(o),a=o.getSlot(r,r,!0),l=this.strokeSegments(),c=l[0].anchor(),u=Zo(l).anchor();let f=n?a.x1:a.y1;n?i.lineTo(f,u.y).lineTo(f,c.y):i.lineTo(u.x,f).lineTo(c.x,f)}};class Xxe extends iO{createStrokeSegments(){return this.segmentsFromPoints(this.calculateStepPoints(this.linePoints))}createStackSegments(i){return this.segmentsFromPoints(this.calculateStepPoints(i)).reverse()}}K(Xxe.prototype,uoe);const HRt=Xxe,_oe=class $Rt extends iO{createStrokeSegments(){const i=new HV(this.options.closed),e=this.points();return i.process(e)}createStackSegments(){const i=this.strokeSegments(),e=[];for(let n=i.length-1;n>=0;n--){const o=i[n];e.push(new qa(o.anchor(),o.controlOut(),o.controlIn()))}return e}},WRt=class XRt extends moe{createSegment(i,e,n,o){const a=(e.line||{}).style;let l,c,u;return this.options.isStacked&&n>0&&o&&("gap"!==this.seriesMissingValues(e)?(c=o.linePoints,l=o):c=this._gapStackPoints(i,n,a)),u=a===AR?HRt:a===zD?_oe:iO,new u(i,e,n,l,c)}reflow(i){super.reflow(i);const e=this._stackPoints;if(e)for(let n=0;n<e.length;n++){const o=e[n],r=this.categoryAxis.getSlot(o.categoryIx);o.reflow(r)}}_gapStackPoints(i,e,n){const o=this.seriesPoints;let r=i[0].categoryIx,a=i.length;r<0&&(r=0,a--);const l=r+a,c=this.seriesOptions[0]._outOfRangeMinPoint?1:0,u=[];this._stackPoints=this._stackPoints||[];for(let f=r;f<l;f++){const _=f+c;let S,g=e;do{g--,S=o[g][_]}while(g>0&&!S);if(S)n!==AR&&f>r&&!o[g][_-1]&&u.push(this._previousSegmentPoint(f,_,_-1,g)),u.push(S),n!==AR&&f+1<l&&!o[g][_+1]&&u.push(this._previousSegmentPoint(f,_,_+1,g));else{const b=this._createGapStackPoint(f);this._stackPoints.push(b),u.push(b)}}return u}_previousSegmentPoint(i,e,n,o){const r=this.seriesPoints;let l,a=o;for(;a>0&&!l;)a--,l=r[a][n];return l?l=r[a][e]:(l=this._createGapStackPoint(i),this._stackPoints.push(l)),l}_createGapStackPoint(i){const e=this.pointOptions({},0),n=new Ib(0,e);return n.categoryIx=i,n.series={},n}seriesMissingValues(i){return i.missingValues||Ig}supportsPointInactiveOpacity(){return!1}},s9=class YRt extends ft{constructor(){super(),this.axisRanges={}}update(i){const e=this.axisRanges;for(let n in i){const o=i[n];let r=e[n];e[n]=r=r||{min:qo,max:Er},r.min=Math.min(r.min,o.min),r.max=Math.max(r.max,o.max)}}reset(i){this.axisRanges[i]=void 0}query(i){return this.axisRanges[i]}};class Wxe extends Ki{constructor(i,e,n){super(e),this.textBox=new ad(i,this.options,n),this.append(this.textBox)}createVisual(){this.textBox.options.noclip=this.options.noclip}reflow(i){const e=this.options,{vertical:n,aboveAxis:o}=e,r=this.children[0],a=r.options,l=r.box,c=r.options.padding;let u=i;a.align=n?Cn:jn,a.vAlign=n?Qn:Cn,e.position===QV?n?(a.vAlign=Qn,!o&&l.height()<i.height()&&(a.vAlign=Di)):a.align=o?Oi:jn:e.position===Cn?(a.vAlign=Cn,a.align=Cn):"insideBase"===e.position?n?a.vAlign=o?Di:Qn:a.align=o?jn:Oi:e.position===Tb&&(n?u=o?new ze(i.x1,i.y1-l.height(),i.x2,i.y1):new ze(i.x1,i.y2,i.x2,i.y2+l.height()):(a.align=Cn,u=o?new ze(i.x2,i.y1,i.x2+l.width(),i.y2):new ze(i.x1-l.width(),i.y1,i.x1,i.y2))),e.rotation||(n?c.left=c.right=(u.width()-r.contentBox.width())/2:c.top=c.bottom=(u.height()-r.contentBox.height())/2),r.reflow(u)}alignToClipBox(i){const n=this.options.vertical?Ot:kt,o=n+"1",r=n+"2",l=this.parent.box;if(l[o]<i[o]||i[r]<l[r]){const c=this.children[0].paddingBox.clone();c[o]=Math.max(l[o],i[o]),c[r]=Math.min(l[r],i[r]),this.reflow(c)}}}we(Wxe,{position:Tb,margin:zi(3),padding:zi(4),color:Mo,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:SS,delay:fh},zIndex:2});const Yxe=Wxe,sO={addAccessibilityAttributesToVisual:function(){this._id=this._id||t9();const s=K({ariaLabel:this.getAriaLabelText()},this.options.accessibility);Cse(this.visual,s)},getAriaLabelText(){const s=this.options.labels,i=_Ie(s);return i?i(this.pointData()):this.getLabelText(s)},focusVisual(){this.visual.options.set("id",this._id),this.toggleFocusHighlight(!0)},clearFocusFromVisual(){this.visual.options.set("id",""),this.toggleFocusHighlight(!1)}};class HR extends Ki{constructor(i,e){super(),this.options=e,this.color=e.color||gi,this.aboveAxis=ln(this.options.aboveAxis,!0),this.value=i}render(){this._rendered||(this._rendered=!0,this.createLabel(),this.createNote(),this.errorBar&&this.append(this.errorBar))}createLabel(){const e=this.options.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))}createLabelElement(i){return new Yxe(this.getLabelText(i),K({vertical:this.options.vertical},i),this.pointData())}getLabelText(i){let e=ta(i);return e?e(this.pointData()):this.formatValue(i.format)}formatValue(i){return this.owner.formatPointValue(this,i)}reflow(i){this.render();const e=this.label;if(this.box=i,e&&(e.options.aboveAxis=this.aboveAxis,e.reflow(i)),this.note&&this.note.reflow(i),this.errorBars)for(let n=0;n<this.errorBars.length;n++)this.errorBars[n].reflow(i)}createVisual(){const{box:i,options:e}=this,n=e.visual;if(!1!==this.visible)if(super.createVisual(),this.addAccessibilityAttributesToVisual(),n){const o=this.rectVisual=n({category:this.category,dataItem:this.dataItem,value:this.value,sender:this.getSender(),series:this.series,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,rect:i.toRect(),createVisual:()=>{const r=new Vn;return this.createRect(r),r},options:e});o&&this.visual.append(o)}else i.width()>0&&i.height()>0&&this.createRect(this.visual)}createRect(i){const e=this.options,n=e.border,o=ge(n.opacity)?n.opacity:e.opacity,r=this.box.toRect();r.size.width=Math.round(r.size.width);const a=this.rectVisual=ct.fromRect(r,{fill:{color:this.color,opacity:e.opacity},stroke:{color:this.getBorderColor(),width:n.width,opacity:o,dashType:n.dashType}}),l=this.box.width(),c=this.box.height();if((e.vertical?l:c)>6&&(iu(a),(l<1||c<1)&&(a.options.stroke.lineJoin="round")),i.append(a),loe(e)){const f=this.createGradientOverlay(a,{baseColor:this.color},K({end:e.vertical?void 0:[0,1]},e.overlay));i.append(f)}}createHighlight(i){return iu(ct.fromRect(this.box.toRect(),i))}highlightVisual(){return this.rectVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}}createFocusHighlight(i){return iu(ct.fromRect(this.box.pad(this.options.accessibility.highlight.border.width/2).toRect(),i))}getBorderColor(){const i=this.color,e=this.options.border,n=e._brightness||.8;let o=e.color;return ge(o)||(o=new ju(i).brightness(n).toHex()),o}tooltipAnchor(){const{options:i,box:e,aboveAxis:n}=this,o=this.owner.pane.clipBox()||e;let l,c,r=jn,a=Qn;if(i.vertical)l=Math.min(e.x2,o.x2)+5,n?c=Math.max(e.y1,o.y1):(c=Math.min(e.y2,o.y2),a=Di);else{const u=Math.max(e.x1,o.x1),f=Math.min(e.x2,o.x2);i.isStacked?(a=Di,n?(r=Oi,l=f):l=u,c=Math.max(e.y1,o.y1)-5):(n?l=f+5:(l=u-5,r=Oi),c=Math.max(e.y1,o.y1))}return{point:new cn(l,c),align:{horizontal:r,vertical:a}}}overlapsBox(i){return this.box.overlaps(i)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,percentage:this.percentage,stackValue:this.stackValue,runningTotal:this.runningTotal,total:this.total,series:this.series}}getIndex(){return this.categoryIx}}K(HR.prototype,wp),K(HR.prototype,tO),K(HR.prototype,sO),HR.prototype.defaults={border:{width:1},vertical:!0,overlay:{gradient:"glass"},labels:{visible:!1,format:"{0}"},opacity:1,notes:{label:{}},accessibility:{role:ES,className:yS,ariaRoleDescription:kS}};const $R=HR;function Kxe(s,i){s.forEach(i)}function Jxe(s,i){const e=s.length;for(let n=e-1;n>=0;n--)i(s[n],n-e-1)}class qxe extends Ki{constructor(i){super(i),this.forEach=i.rtl?Jxe:Kxe}reflow(i){const{vertical:e,gap:n,spacing:o}=this.options,r=this.children,a=r.length,l=e?Ot:kt,c=a+n+o*(a-1),u=(e?i.height():i.width())/c;let f=i[l+1]+u*(n/2);this.forEach(r,(_,g)=>{const S=(_.box||i).clone();S[l+1]=f,S[l+2]=f+u,_.reflow(S),g<a-1&&(f+=u*o),f+=u})}}we(qxe,{vertical:!1,gap:0,spacing:0});const o9=qxe;class Qxe extends Ki{reflow(i){const e=this.options.vertical?kt:Ot,n=this.children,o=n.length;let r=this.box=new ze;for(let a=0;a<o;a++){const l=n[a];if(!1!==l.visible){const c=l.box.clone();c.snapTo(i,e),0===a&&(r=this.box=c.clone()),l.reflow(c),r.wrap(c)}}}}we(Qxe,{vertical:!0});const JRt=Qxe;class Zxe extends Mb{render(){super.render(),this.updateStackRange()}pointType(){return $R}clusterType(){return o9}stackType(){return JRt}stackLimits(i,e){return super.stackLimits(i,e)}createPoint(i,e){const{categoryIx:n,series:o,seriesIx:r}=e,{options:a,children:l}=this,c=ge(o.stack)?o.stack:a.defaultStack,u=this.pointValue(i);let f=this.pointOptions(o,r);const _=f.labels;c&&_.position===Tb&&(_.position=QV),f.isStacked=c;let g=i.fields.color||o.color;u<0&&f.negativeColor&&(g=f.negativeColor),f=this.evalPointOptions(f,u,e),Js(o.color)&&(g=f.color);const b=new(this.pointType())(u,f);b.color=g;let k=l[n];return k||(k=new(this.clusterType())({vertical:a.invertAxes,gap:a.gap,spacing:a.spacing,rtl:!a.invertAxes&&(this.chartService||{}).rtl}),this.append(k)),a.isStacked?this.getStackWrap(c,k).append(b):k.append(b),b}getStackWrap(i,e){const n=typeof i===CR?i.group||!0:i,o=e.children;let r;if(typeof n===ase||!0===n)for(let a=0;a<o.length;a++)if(o[a]._stackGroup===n){r=o[a];break}return r||(r=new(this.stackType())({vertical:!this.options.invertAxes}),r._stackGroup=n,e.append(r)),r}categorySlot(i,e,n){const o=this.options,r=i.getSlot(e),a=n.startValue();if(o.isStacked){const l=n.getSlot(a,a,!0),c=o.invertAxes?kt:Ot;r[c+1]=r[c+2]=l[c+1]}return r}reflowCategories(i){const e=this.children,n=e.length;for(let o=0;o<n;o++)e[o].reflow(i[o])}createAnimation(){this._setAnimationOptions(),super.createAnimation(),Nxe(this.options.series)&&this._setChildrenAnimation()}_setChildrenAnimation(){const i=this.points;for(let e=0;e<i.length;e++){const n=i[e],o=n.visual;o&&ge(o.options.zIndex)&&(n.options.animation=this.options.animation,n.createAnimation())}}_setAnimationOptions(){const i=this.options,e=i.animation||{};let n;if(i.isStacked){const o=this.seriesValueAxis(i.series[0]);n=o.getSlot(o.startValue())}else n=this.categoryAxis.getSlot(0);e.origin=new Ie(n.x1,n.y1),e.vertical=!i.invertAxes}}we(Zxe,{animation:{type:mh}});const XR=Zxe;class oO extends Ki{constructor(i,e){super(e),this.value=i}getLabelText(i){return this.formatValue(i.format)}reflow(i){const{options:e,value:n,owner:o}=this,r=o.seriesValueAxis(e),a=r.getSlot(n.open,n.close),l=r.getSlot(n.low,n.high);a.x1=l.x1=i.x1,a.x2=l.x2=i.x2,this.realBody=a;const c=l.center().x,u=[];u.push([[c,l.y1],[c,a.y1]]),u.push([[c,a.y2],[c,l.y2]]),this.lines=u,this.box=l.clone().wrap(a),this._rendered||(this._rendered=!0,this.createNote()),this.reflowNote()}reflowNote(){this.note&&this.note.reflow(this.box)}createVisual(){super.createVisual(),this.addAccessibilityAttributesToVisual(),this._mainVisual=this.mainVisual(this.options),this.visual.append(this._mainVisual),this.createOverlay()}mainVisual(i){const e=new Vn;return this.createBody(e,i),this.createLines(e,i),e}createBody(i,e){const n=ct.fromRect(this.realBody.toRect(),{fill:{color:this.color,opacity:e.opacity},stroke:null});e.border.width>0&&n.options.set("stroke",{color:this.getBorderColor(),width:e.border.width,dashType:e.border.dashType,opacity:ln(e.border.opacity,e.opacity)}),iu(n),i.append(n),loe(e)&&i.append(this.createGradientOverlay(n,{baseColor:this.color},K({end:e.vertical?void 0:[0,1]},e.overlay)))}createLines(i,e){this.drawLines(i,e,this.lines,e.line)}drawLines(i,e,n,o){if(!n)return;const r={stroke:{color:o.color||this.color,opacity:ln(o.opacity,e.opacity),width:o.width,dashType:o.dashType,lineCap:"butt"}};for(let a=0;a<n.length;a++){const l=ct.fromPoints(n[a],r);iu(l),i.append(l)}}getBorderColor(){const i=this.options.border;let e=i.color;return ge(e)||(e=new ju(this.color).brightness(i._brightness).toHex()),e}createOverlay(){const i=ct.fromRect(this.box.toRect(),{fill:{color:gi,opacity:0},stroke:null});this.visual.append(i)}createHighlight(){const i=this.options.highlight,e=this.color;this.color=i.color||this.color;const n=this.mainVisual(K({},this.options,{line:{color:this.getBorderColor()}},i));return this.color=e,n}highlightVisual(){return this._mainVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this._mainVisual}}tooltipAnchor(){const i=this.box,e=this.owner.pane.clipBox()||i;return{point:new cn(i.x2+5,Math.max(i.y1,e.y1)+5),align:{horizontal:jn,vertical:Qn}}}formatValue(i){return this.owner.formatPointValue(this,i)}overlapsBox(i){return this.box.overlaps(i)}pointData(){return{dataItem:this.dataItem,value:this.value,meanPoints:this.meanPoints,medianPoints:this.medianPoints,whiskerPoints:this.whiskerPoints,stackValue:this.stackValue,series:this.series}}getIndex(){return this.categoryIx}}oO.prototype.createFocusHighlight=$R.prototype.createFocusHighlight,we(oO,{vertical:!0,border:{_brightness:.8},line:{width:2},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{4:d}</th></tr><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},labels:{format:""},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},accessibility:{role:ES,className:yS,ariaRoleDescription:kS}}),K(oO.prototype,wp),K(oO.prototype,tO),K(oO.prototype,sO);const goe=oO;class eAe extends Mb{reflowCategories(i){const e=this.children,n=e.length;for(let o=0;o<n;o++)e[o].reflow(i[o])}addValue(i,e){const{categoryIx:n,category:o,series:r,seriesIx:a}=e,{children:l,options:c}=this,u=i.valueFields,_=Lxe(this.splitValue(u)),g=r.data[n];let b,S=this.categoryPoints[n];S||(this.categoryPoints[n]=S=[]),_&&(b=this.createPoint(i,e));let k=l[n];k||(k=new o9({vertical:c.invertAxes,gap:c.gap,spacing:c.spacing,rtl:!c.invertAxes&&(this.chartService||{}).rtl}),this.append(k)),b&&(this.updateRange(u,e),k.append(b),b.categoryIx=n,b.category=o,b.series=r,b.seriesIx=a,b.owner=this,b.dataItem=g,b.noteText=i.fields.noteText),this.points.push(b),S.push(b)}pointType(){return goe}createPoint(i,e){const{series:n}=e,o=this.pointType(),r=i.valueFields;let a=K({},n),l=i.fields.color||n.color;a=this.evalPointOptions(a,r,e),(n.type===HD||n.type===XD)&&r.open>r.close&&(l=i.fields.downColor||n.downColor||n.color),Js(n.color)&&(l=a.color),a.vertical=!this.options.invertAxes;const c=new o(r,a);return c.color=l,c}splitValue(i){return[i.low,i.open,i.close,i.high]}updateRange(i,e){const n=e.series.axis,o=this.splitValue(i);let r=this.valueAxisRanges[n]||{min:qo,max:Er};this.valueAxisRanges[n]={min:Math.min.apply(Math,o.concat([r.min])),max:Math.max.apply(Math,o.concat([r.max]))}}formatPointValue(i,e){const n=i.value;return this.chartService.format.auto(e,n.open,n.high,n.low,n.close,i.category)}animationPoints(){return this.points}}K(eAe.prototype,i9);const voe=eAe;class Soe extends goe{constructor(i,e){super(i,e),this.createNote()}reflow(i){const{options:e,value:n,owner:o}=this,r=o.seriesValueAxis(e);let a,l;this.boxSlot=l=r.getSlot(n.q1,n.q3),this.realBody=l,this.reflowBoxSlot(i),this.whiskerSlot=a=r.getSlot(n.lower,n.upper),this.reflowWhiskerSlot(i);const c=r.getSlot(n.median);if(n.mean){const u=r.getSlot(n.mean);this.meanPoints=this.calcMeanPoints(i,u)}this.whiskerPoints=this.calcWhiskerPoints(l,a),this.medianPoints=this.calcMedianPoints(i,c),this.box=a.clone().wrap(l),this.reflowNote()}reflowBoxSlot(i){this.boxSlot.x1=i.x1,this.boxSlot.x2=i.x2}reflowWhiskerSlot(i){this.whiskerSlot.x1=i.x1,this.whiskerSlot.x2=i.x2}calcMeanPoints(i,e){return[[[i.x1,e.y1],[i.x2,e.y1]]]}calcWhiskerPoints(i,e){const n=e.center().x;return[[[n-5,e.y1],[n+5,e.y1],[n,e.y1],[n,i.y1]],[[n-5,e.y2],[n+5,e.y2],[n,e.y2],[n,i.y2]]]}calcMedianPoints(i,e){return[[[i.x1,e.y1],[i.x2,e.y1]]]}renderOutliers(i){const e=this.value,n=e.outliers||[],o=3*Math.abs(e.q3-e.q1),r=[];let a=i.markers||{};for(let l=0;l<n.length;l++){const c=n[l];a=c<e.q3+o&&c>e.q1-o?i.outliers:i.extremes;let u=K({},a.border);ge(u.color)||(u.color=ge(this.color)?this.color:new ju(a.background).brightness(.8).toHex());const f=new kl({type:a.type,width:a.size,height:a.size,rotation:a.rotation,background:a.background,border:u,opacity:a.opacity});f.value=c,r.push(f)}return this.reflowOutliers(r),r}reflowOutliers(i){const e=this.owner.seriesValueAxis(this.options),n=this.box.center();for(let o=0;o<i.length;o++){const a=e.getSlot(i[o].value);this.options.vertical?a.move(n.x):a.move(void 0,n.y),this.box=this.box.wrap(a),i[o].reflow(a)}}mainVisual(i){const e=super.mainVisual(i),n=this.renderOutliers(i);for(let o=0;o<n.length;o++){const r=n[o].getElement();r&&e.append(r)}return e}createLines(i,e){this.drawLines(i,e,this.whiskerPoints,e.whiskers),this.drawLines(i,e,this.medianPoints,e.median),this.drawLines(i,e,this.meanPoints,e.mean)}getBorderColor(){return(this.options.border||{}).color?this.options.border.color:this.color?this.color:super.getBorderColor()}}we(Soe,{border:{_brightness:.8},line:{width:2},median:{color:"#f6f6f6"},mean:{width:2,dashType:"dash",color:"#f6f6f6"},overlay:{gradient:"glass"},tooltip:{format:"<table><tr><th colspan='2'>{6:d}</th></tr><tr><td>Lower:</td><td>{0:C}</td></tr><tr><td>Q1:</td><td>{1:C}</td></tr><tr><td>Median:</td><td>{2:C}</td></tr><tr><td>Mean:</td><td>{5:C}</td></tr><tr><td>Q3:</td><td>{3:C}</td></tr><tr><td>Upper:</td><td>{4:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}},outliers:{visible:!0,size:8,type:"cross",background:gi,border:{width:2,opacity:1},opacity:0},extremes:{visible:!0,size:8,type:od,background:gi,border:{width:2,opacity:1},opacity:0}}),K(Soe.prototype,wp);const tAe=Soe,QRt=class qRt extends tAe{reflowBoxSlot(i){this.boxSlot.y1=i.y1,this.boxSlot.y2=i.y2}reflowWhiskerSlot(i){this.whiskerSlot.y1=i.y1,this.whiskerSlot.y2=i.y2}calcMeanPoints(i,e){return[[[e.x1,i.y1],[e.x1,i.y2]]]}calcWhiskerPoints(i,e){const n=e.center().y;return[[[e.x1,n-5],[e.x1,n+5],[e.x1,n],[i.x1,n]],[[e.x2,n-5],[e.x2,n+5],[e.x2,n],[i.x2,n]]]}calcMedianPoints(i,e){return[[[e.x1,i.y1],[e.x1,i.y2]]]}},e4t=class ZRt extends voe{addValue(i,e){const{categoryIx:n,category:o,series:r,seriesIx:a}=e,{children:l,options:c}=this,u=i.valueFields,_=Lxe(this.splitValue(u)),g=r.data[n];let b,S=this.categoryPoints[n];S||(this.categoryPoints[n]=S=[]),_&&(b=this.createPoint(i,e));let k=l[n];k||(k=new o9({vertical:c.invertAxes,gap:c.gap,spacing:c.spacing,rtl:!c.invertAxes&&(this.chartService||{}).rtl}),this.append(k)),b&&(this.updateRange(u,e),k.append(b),b.categoryIx=n,b.category=o,b.series=r,b.seriesIx=a,b.owner=this,b.dataItem=g),this.points.push(b),S.push(b)}pointType(){return this.options.invertAxes?QRt:tAe}splitValue(i){return[i.lower,i.q1,i.median,i.q3,i.upper]}updateRange(i,e){const n=e.series.axis;let o=this.splitValue(i).concat(this.filterOutliers(i.outliers));ge(i.mean)&&(o=o.concat(i.mean));let r=this.valueAxisRanges[n]||{min:qo,max:Er};this.valueAxisRanges[n]={min:Math.min.apply(Math,o.concat([r.min])),max:Math.max.apply(Math,o.concat([r.max]))}}formatPointValue(i,e){const n=i.value;return this.chartService.format.auto(e,n.lower,n.q1,n.median,n.q3,n.upper,n.mean,i.category)}filterOutliers(i){const e=(i||[]).length,n=[];for(let o=0;o<e;o++){const r=i[o];ge(r)&&null!==r&&n.push(r)}return n}supportsPointInactiveOpacity(){return!1}},n4t=class t4t extends Rxe{getAxis(){const i=this.chart.seriesAxes(this.series);return this.isVertical?i.y:i.x}};class Coe extends Ki{constructor(i,e){super(e),this.plotArea=i,this.chartService=i.chartService,this._initFields(),this.render()}_initFields(){this.xAxisRanges={},this.yAxisRanges={},this.points=[],this.seriesPoints=[],this.seriesOptions=[],this._evalSeries=[]}render(){this.traverseDataPoints(this.addValue.bind(this))}addErrorBar(i,e,n){const o=i.value[e],r=e+"Value",a=e+"ErrorLow",l=e+"ErrorHigh",{seriesIx:c,series:u}=n,f=i.options.errorBars,_=n[a],g=n[l];if(ii(o)){let S;ii(_)&&ii(g)&&(S={low:_,high:g}),f&&ge(f[r])&&(this.seriesErrorRanges=this.seriesErrorRanges||{x:[],y:[]},this.seriesErrorRanges[e][c]=this.seriesErrorRanges[e][c]||new vxe(f[r],u,e),S=this.seriesErrorRanges[e][c].getErrorRange(o,f[r])),S&&this.addPointErrorBar(S,i,e)}}addPointErrorBar(i,e,n){const{low:o,high:r}=i,{series:a,options:{errorBars:l}}=e,c=n===Ot,u={};e[n+"Low"]=o,e[n+"High"]=r,e.errorBars=e.errorBars||[];const f=new n4t(o,r,c,this,a,l);e.errorBars.push(f),e.append(f),u[n]=o,this.updateRange(u,a),u[n]=r,this.updateRange(u,a)}addValue(i,e){const{x:n,y:o}=i,r=e.seriesIx,l=this.seriesMissingValues(this.options.series[r]),c=this.seriesPoints[r];let f,u=i;ld(n)&&ld(o)||(u=this.createMissingValue(u,l)),u&&(f=this.createPoint(u,e),f&&(Object.assign(f,e),this.addErrorBar(f,kt,e),this.addErrorBar(f,Ot,e)),this.updateRange(u,e.series)),this.points.push(f),c.push(f)}seriesMissingValues(i){return i.missingValues}createMissingValue(){}updateRange(i,e){const n=this.chartService.intl,{xAxis:o,yAxis:r}=e;let{x:a,y:l}=i,c=this.xAxisRanges[o],u=this.yAxisRanges[r];ld(a)&&(c=this.xAxisRanges[o]=c||{min:qo,max:Er},rd(a)&&(a=xa(n,a)),c.min=Math.min(c.min,a),c.max=Math.max(c.max,a)),ld(l)&&(u=this.yAxisRanges[r]=u||{min:qo,max:Er},rd(l)&&(l=xa(n,l)),u.min=Math.min(u.min,l),u.max=Math.max(u.max,l))}evalPointOptions(i,e,n){const{series:o,seriesIx:r}=n,a={defaults:o._defaults,excluded:["data","tooltip","content","template","visual","toggle","_outOfRangeMinPoint","_outOfRangeMaxPoint","drilldownSeriesFactory","ariaTemplate","ariaContent"]};let l=this._evalSeries[r];ge(l)||(this._evalSeries[r]=l=Lg(i,{},a,!0));let c=i;return l&&(c=K({},i),Lg(c,{value:e,series:o,dataItem:n.dataItem},a)),c}pointType(){return Ib}pointOptions(i,e){let n=this.seriesOptions[e];if(!n){const o=this.pointType().prototype.defaults;this.seriesOptions[e]=n=K({},o,{markers:{opacity:i.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},i)}return n}createPoint(i,e){const n=e.series;let o=this.pointOptions(n,e.seriesIx),r=e.color||n.color;o=this.evalPointOptions(o,i,e),Js(n.color)&&(r=o.color);const a=new Ib(i,o);return a.color=r,this.append(a),a}seriesAxes(i){const{xAxis:e,yAxis:n}=i,o=this.plotArea,r=e?o.namedXAxes[e]:o.axisX,a=n?o.namedYAxes[n]:o.axisY;if(!r)throw new Error("Unable to locate X axis with name "+e);if(!a)throw new Error("Unable to locate Y axis with name "+n);return{x:r,y:a}}reflow(i){const e=this.points,n=!this.options.clip;let o=0;this.traverseDataPoints((r,a)=>{const l=e[o++],c=this.seriesAxes(a.series),u=c.x.getSlot(r.x,r.x,n),f=c.y.getSlot(r.y,r.y,n);if(l)if(u&&f){const _=this.pointSlot(u,f);l.reflow(_)}else l.visible=!1}),this.box=i}pointSlot(i,e){return new ze(i.x1,e.y1,i.x2,e.y2)}traverseDataPoints(i){const{options:{series:e},seriesPoints:n}=this;for(let o=0;o<e.length;o++){const r=e[o];n[o]||(n[o]=[]);for(let l=0;l<r.data.length;l++){const{valueFields:c,fields:u}=this.plotArea.bindPoint(r,l);i(c,K({pointIx:l,series:r,seriesIx:o,dataItem:r.data[l],owner:this},u))}}}formatPointValue(i,e){const n=i.value;return this.chartService.format.auto(e,n.x,n.y)}animationPoints(){const i=this.points,e=[];for(let n=0;n<i.length;n++)e.push((i[n]||{}).marker);return e}}we(Coe,{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"},clip:!0}),K(Coe.prototype,i9);const r9=Coe;class a9 extends Ib{constructor(i,e){super(i,e),this.category=i.category}createHighlight(){const i=this.options.highlight,e=i.border,n=this.options.markers,o=this.box.center(),r=(n.size+n.border.width+e.width)/2,a=new Vn,l=new Xd(new Cl([o.x,o.y+r/5+e.width/2],r+e.width/2),{stroke:{color:"none"},fill:this.createGradient({gradient:"bubbleShadow",color:n.background,stops:[{offset:0,color:n.background,opacity:.3},{offset:1,color:n.background,opacity:0}]})}),c=new Xd(new Cl([o.x,o.y],r),{stroke:{color:e.color||new ju(n.background).brightness(.8).toHex(),width:e.width,opacity:e.opacity},fill:{color:n.background,opacity:i.opacity}});return a.append(l,c),a}createFocusHighlight(i){const e=this.options.accessibility.highlight,n=this.options.markers,o=this.box.center();return new Xd(new Cl([o.x,o.y],(n.size+n.border.width)/2+e.border.width/2),i)}}a9.prototype.defaults=K({},a9.prototype.defaults,{labels:{position:Cn},highlight:{opacity:1,border:{color:"#fff",width:2,opacity:1}}}),a9.prototype.defaults.highlight.zIndex=void 0;const nAe=a9;class iAe extends r9{_initFields(){this._maxSize=Er,super._initFields()}addValue(i,e){null!==i.size&&(i.size>0||i.size<0&&e.series.negativeValues.visible)?(this._maxSize=Math.max(this._maxSize,Math.abs(i.size)),super.addValue(i,e)):(this.points.push(null),this.seriesPoints[e.seriesIx].push(null))}reflow(i){this.updateBubblesSize(i),super.reflow(i)}pointType(){return nAe}createPoint(i,e){const n=e.series,r=e.pointIx*(fh/n.data.length),a={delay:r,duration:fh-r,type:jD};let l=e.color||n.color;i.size<0&&n.negativeValues.visible&&(l=ln(n.negativeValues.color,l));let c=K({labels:{animation:{delay:r,duration:fh-r}}},this.pointOptions(n,e.seriesIx),{markers:{type:od,border:n.border,opacity:n.opacity,animation:a}});c=this.evalPointOptions(c,i,e),Js(n.color)&&(l=c.color),c.markers.background=l;const u=new nAe(i,c);return u.color=l,this.append(u),u}updateBubblesSize(i){const{options:{series:e}}=this,n=Math.min(i.width(),i.height());for(let o=0;o<e.length;o++){const r=e[o],a=this.seriesPoints[o],u=(r.minSize||Math.max(.02*n,10))/2,f=(r.maxSize||.2*n)/2,_=Math.PI*u*u,b=(Math.PI*f*f-_)/this._maxSize;for(let k=0;k<a.length;k++){const D=a[k];if(D){const O=Math.abs(D.value.size)*b,I=Math.sqrt((_+O)/Math.PI),P=ln(D.options.zIndex,0)+(1-I/f);K(D.options,{zIndex:P,markers:{size:2*I,zIndex:P},labels:{zIndex:P+1}})}}}}formatPointValue(i,e){const n=i.value;return this.chartService.format.auto(e,n.x,n.y,n.size,i.category)}createAnimation(){}createVisual(){}}we(iAe,{tooltip:{format:"{3}"},labels:{format:"{3}"}});const i4t=iAe;class sAe extends kl{}K(sAe.prototype,wp);const s4t=sAe;class xb extends Ki{constructor(i,e){super(e),this.aboveAxis=this.options.aboveAxis,this.color=e.color||gi,this.value=i}render(){const i=this.options;this._rendered||(this._rendered=!0,ge(this.value.target)&&(this.target=new s4t({type:i.target.shape,background:i.target.color||this.color,opacity:i.opacity,zIndex:i.zIndex,border:i.target.border,vAlign:Qn,align:Oi}),this.target.value=this.value,this.target.dataItem=this.dataItem,this.target.series=this.series,this.append(this.target)),this.createLabel(),this.createNote())}createLabel(){const e=this.options.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))}createLabelElement(i){return new Yxe(this.getLabelText(i),i,this.pointData())}getLabelText(i){let e=ta(i);return e?e(this.pointData()):this.formatValue(i.format)}reflow(i){this.render();const{options:e,target:n,owner:o}=this,r=e.invertAxes,a=o.seriesValueAxis(this.options),l=o.categorySlot(o.categoryAxis,e.categoryIx,a),c=a.getSlot(this.value.target),u=r?c:l,f=r?l:c;if(n){const g=new ze(u.x1,f.y1,u.x2,f.y2);n.options.height=r?g.height():e.target.line.width,n.options.width=r?e.target.line.width:g.width(),n.reflow(g)}const _=this.label;_&&(_.options.aboveAxis=this.aboveAxis,_.reflow(i)),this.note&&this.note.reflow(i),this.box=i}createVisual(){super.createVisual(),this.addAccessibilityAttributesToVisual();const i=this.options,e=ct.fromRect(this.box.toRect(),{fill:{color:this.color,opacity:i.opacity},stroke:null});i.border.width>0&&e.options.set("stroke",{color:i.border.color||this.color,width:i.border.width,dashType:i.border.dashType,opacity:ln(i.border.opacity,i.opacity)}),this.bodyVisual=e,iu(e),this.visual.append(e)}createAnimation(){this.bodyVisual&&(this.animation=hh.create(this.bodyVisual,this.options.animation))}createHighlight(i){return ct.fromRect(this.box.toRect(),i)}highlightVisual(){return this.bodyVisual}highlightVisualArgs(){return{rect:this.box.toRect(),visual:this.bodyVisual,options:this.options}}formatValue(i){return this.owner.formatPointValue(this,i)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series}}overlapsBox(i){return this.box.overlaps(i)}getIndex(){return this.categoryIx}}xb.prototype.tooltipAnchor=$R.prototype.tooltipAnchor,xb.prototype.createFocusHighlight=$R.prototype.createFocusHighlight,we(xb,{border:{width:1},vertical:!1,opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},labels:{visible:!1},tooltip:{format:"Current: {0}<br />Target: {1}"},notes:{label:{}},accessibility:{role:ES,className:yS,ariaRoleDescription:kS}}),K(xb.prototype,wp),K(xb.prototype,tO),K(xb.prototype,sO);const o4t=xb;class boe extends Mb{constructor(i,e){(function r4t(s){const i=s.series;for(let e=0;e<i.length;e++){const n=i[e],o=n.data;o&&!Ia(o[0])&&!dh(o[0])&&(n.data=[o])}})(e),super(i,e)}reflowCategories(i){const e=this.children,n=e.length;for(let o=0;o<n;o++)e[o].reflow(i[o])}plotRange(i){const n=this.seriesValueAxis(i.series),o=this.categoryAxisCrossingValue(n);return[o,i.value.current||o]}createPoint(i,e){const{categoryIx:n,series:o}=e,{options:r,children:a}=this,l=i.valueFields;let c=K({vertical:!r.invertAxes,overlay:o.overlay,categoryIx:n,invertAxes:r.invertAxes},o),u=i.fields.color||o.color;c=this.evalPointOptions(c,l,e),Js(o.color)&&(u=c.color);const f=new o4t(l,c);f.color=u;let _=a[n];return _||(_=new o9({vertical:r.invertAxes,gap:r.gap,spacing:r.spacing,rtl:!r.invertAxes&&(this.chartService||{}).rtl}),this.append(_)),_.append(f),f}updateRange(i,e){const{current:n,target:o}=i,r=e.series.axis;let a=this.valueAxisRanges[r];ge(n)&&!isNaN(n)&&ge(o&&!isNaN(o))&&(a=this.valueAxisRanges[r]=a||{min:qo,max:Er},a.min=Math.min(a.min,n,o),a.max=Math.max(a.max,n,o))}formatPointValue(i,e){return this.chartService.format.auto(e,i.value.current,i.value.target)}pointValue(i){return i.valueFields.current}aboveAxis(i){return i.value.current>0}createAnimation(){const i=this.points;this._setAnimationOptions();for(let e=0;e<i.length;e++){const n=i[e];n.options.animation=this.options.animation,n.createAnimation()}}}boe.prototype._setAnimationOptions=XR.prototype._setAnimationOptions,we(boe,{animation:{type:mh}});const a4t=boe;class oAe extends ft{constructor(i,e){super(),this.chartService=i,this.options=K({},this.options,e)}getStyle(i,e){let{background:n,border:{color:o}}=i;if(e){const a=e.color||e.options.color;n=ln(n,a),o=ln(o,a)}const r=zi(i.padding||{},"auto");return{backgroundColor:n,borderColor:o,font:i.font,color:i.color,opacity:i.opacity,borderWidth:RD(i.border.width),paddingTop:RD(r.top),paddingBottom:RD(r.bottom),paddingLeft:RD(r.left),paddingRight:RD(r.right)}}show(i,e,n){i.format=e.format;const o=this.getStyle(e,n);i.style=o;const r=new ju(o.backgroundColor);!ge(e.color)&&!r.isDark()&&(i.className="k-chart-tooltip-inverse"),this.chartService.notify(Mxe,i),this.visible=!0}hide(){this.chartService&&this.chartService.notify(Ixe),this.visible=!1}destroy(){delete this.chartService}}we(oAe,{border:{width:1},opacity:1});const Eoe=oAe;class rAe extends Eoe{constructor(i,e,n){super(i,n),this.crosshair=e,this.formatService=i.format,this.initAxisName()}initAxisName(){const i=this.crosshair.axis;let n;n=i.plotArea.categoryAxis?i.getCategory?"categoryAxis":"valueAxis":i.options.vertical?"yAxis":"xAxis",this.axisName=n}showAt(i){const{crosshair:{axis:e},options:n}=this;let o=e[n.stickyMode?"getCategory":"getValue"](i),r=o;n.format?r=this.formatService.auto(n.format,o):e.options.type===kg&&(r=this.formatService.auto(e.options.labels.dateFormats[e.options.baseUnit],o)),this.show({point:i,anchor:this.getAnchor(),crosshair:this.crosshair,value:r,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex},this.options)}hide(){this.chartService.notify(Ixe,{crosshair:this.crosshair,axisName:this.axisName,axisIndex:this.crosshair.axis.axisIndex})}getAnchor(){const{crosshair:i,options:{position:e,padding:n}}=this,o=!i.axis.options.vertical,r=i.line.bbox();let a,l,c;return o?(a=Cn,e===Di?(l=Qn,c=r.bottomLeft().translate(0,n)):(l=Di,c=r.topLeft().translate(0,-n))):(l=Cn,e===jn?(a=Oi,c=r.topLeft().translate(-n,0)):(a=jn,c=r.topRight().translate(n,0))),{point:c,align:{horizontal:a,vertical:l}}}}we(rAe,{padding:10});const l4t=rAe;class aAe extends Ki{constructor(i,e,n){super(n),this.axis=e,this.stickyMode=e instanceof Tg;const o=this.options.tooltip;o.visible&&(this.tooltip=new l4t(i,this,K({},o,{stickyMode:this.stickyMode})))}showAt(i){this.point=i,this.moveLine(),this.line.visible(!0),this.tooltip&&this.tooltip.showAt(i)}hide(){this.line.visible(!1),this.tooltip&&this.tooltip.hide()}moveLine(){const{axis:i,point:e}=this,n=i.options.vertical,o=this.getBox(),r=n?Ot:kt,a=new Ie(o.x1,o.y1);let l;if(l=n?new Ie(o.x2,o.y1):new Ie(o.x1,o.y2),e)if(this.stickyMode){const c=i.getSlot(i.pointCategoryIndex(e));a[r]=l[r]=c.center()[r]}else a[r]=l[r]=e[r];this.box=o,this.line.moveTo(a).lineTo(l)}getBox(){const i=this.axis,e=i.pane.axes,n=e.length,o=i.options.vertical,r=i.lineBox().clone(),a=o?kt:Ot;let l;for(let c=0;c<n;c++){const u=e[c];u.options.vertical!==o&&(l?l.wrap(u.lineBox()):l=u.lineBox().clone())}return r[a+1]=l[a+1],r[a+2]=l[a+2],r}createVisual(){super.createVisual();const i=this.options;this.line=new ct({stroke:{color:i.color,width:i.width,opacity:i.opacity,dashType:i.dashType},visible:!1}),this.moveLine(),this.visual.append(this.line)}destroy(){this.tooltip&&this.tooltip.destroy(),super.destroy()}}we(aAe,{color:Mo,width:2,zIndex:-1,tooltip:{visible:!1}});const c4t=aAe;class lAe extends Ki{constructor(i,e){super(i),this.pane=e}shouldClip(){const i=this.children,e=i.length;for(let n=0;n<e;n++)if(!0===i[n].options.clip)return!0;return!1}_clipBox(){return this.pane.chartsBox()}createVisual(){if(this.visual=new Vn({zIndex:0}),this.shouldClip()){const e=(this.clipBox=this._clipBox()).toRect(),n=ct.fromRect(e);iu(n),this.visual.clip(n),this.unclipLabels()}}stackRoot(){return this}unclipLabels(){const{children:i,clipBox:e}=this;for(let n=0;n<i.length;n++){const o=i[n].points||{},r=o.length;for(let a=0;a<r;a++){const l=o[a];if(l&&!1!==l.visible&&l.overlapsBox&&l.overlapsBox(e))if(l.unclipElements)l.unclipElements();else{const{label:c,note:u}=l;c&&c.options.visible&&(c.alignToClipBox&&c.alignToClipBox(e),c.options.noclip=!0),u&&u.options.visible&&(u.options.noclip=!0)}}}}destroy(){super.destroy(),delete this.parent}}lAe.prototype.isStackRoot=!0;const d4t=lAe;class WR extends vS{constructor(i){super(i),this.id=function h4t(){return"pane"+u4t++}(),this.createTitle(),this.content=new Ki,this.chartContainer=new d4t({},this),this.append(this.content),this.axes=[],this.charts=[]}createTitle(){let i=this.options.title;dh(i)&&(i=K({},i,{align:i.position,position:Qn})),this.title=OR.buildTitle(i,WR.prototype.options.title),this.title&&this.append(this.title)}appendAxis(i){this.content.append(i),this.axes.push(i),i.pane=this}appendAxisAt(i,e){this.content.append(i),this.axes.splice(e,0,i),i.pane=this}appendChart(i){this.chartContainer.parent!==this.content&&this.content.append(this.chartContainer),this.charts.push(i),this.chartContainer.append(i),i.pane=this}empty(){const i=this.parent;if(i){for(let e=0;e<this.axes.length;e++)i.removeAxis(this.axes[e]);for(let e=0;e<this.charts.length;e++)i.removeChart(this.charts[e])}this.axes=[],this.charts=[],this.content.destroy(),this.content.children=[],this.chartContainer.children=[]}reflow(i){let e;Zo(this.children)===this.content&&(e=this.children.pop()),super.reflow(i),e&&this.children.push(e),this.title&&(this.contentBox.y1+=this.title.box.height())}visualStyle(){const i=super.visualStyle();return i.zIndex=-10,i}renderComplete(){this.options.visible&&this.createGridLines()}stackRoot(){return this}clipRoot(){return this}createGridLines(){const i=this.axes,e=i.concat(this.parent.axes),n=[],o=[];for(let r=0;r<i.length;r++){const a=i[r],l=a.options.vertical,c=l?n:o;for(let u=0;u<e.length;u++)if(0===c.length){const f=e[u];l!==f.options.vertical&&bb(c,a.createGridLines(f))}}}refresh(){this.visual.clear(),this.content.parent=null,this.content.createGradient=this.createGradient.bind(this),this.content.renderVisual(),this.content.parent=this,this.title&&this.visual.append(this.title.visual),this.visual.append(this.content.visual),this.renderComplete(),this.notifyRender()}chartsBox(){const i=this.axes,e=i.length,n=new ze;for(let o=0;o<e;o++){const r=i[o],a=r.options.vertical?Ot:kt,l=r.lineBox();n[a+1]=l[a+1],n[a+2]=l[a+2]}if(0===n.x2){const o=this.parent.axes,r=o.length;for(let a=0;a<r;a++){const l=o[a];if(!l.options.vertical){const c=l.lineBox();n.x1=c.x1,n.x2=c.x2}}}return n}clipBox(){return this.chartContainer.clipBox}notifyRender(){const i=this.getService();i&&i.notify("paneRender",{pane:new Use(this),index:this.paneIndex,name:this.options.name})}}let u4t=1;WR.prototype.isStackRoot=!0,we(WR,{zIndex:-1,shrinkToFit:!0,title:{align:jn},visible:!0});const p4t=WR;class cAe extends Ki{constructor(i,e,n){super(e),this.initFields(i,e),this.series=i,this.initSeries(),this.charts=[],this.options.legend=this.options.legend||{},this.options.legend.data=[],this.axes=[],this.crosshairs=[],this.chartService=n,this.originalOptions=e,this.originalSeries=i,this._bindCache=new WeakMap,this.createPanes(),this.render(),this.createCrosshairs()}initFields(){}initSeries(){const i=this.series;for(let e=0;e<i.length;e++)i[e].index=e}bindPoint(i,e,n){let o=this._bindCache.get(i);o||(o=[],this._bindCache.set(i,o));let r=o[e];return r||(r=o[e]=Rs.current.bindPoint(i,e,n)),r}createPanes(){const i=this.options.title||{},e=this.options.paneDefaults,n=this.options.panes||[],o=Math.max(n.length,1),r=[],a=K({title:{color:i.color}},e);for(let l=0;l<o;l++){const c=K({},a,n[l]);rd(c.title)&&(c.title=K({text:c.title},a.title));const u=new p4t(c);u.paneIndex=l,r.push(u),this.append(u)}this.panes=r}crosshairOptions(i){return i.options.crosshair}createCrosshairs(i=this.panes){for(let e=0;e<i.length;e++){const n=i[e];for(let o=0;o<n.axes.length;o++){const r=n.axes[o],a=this.crosshairOptions(r);if(a&&a.visible){const l=new c4t(this.chartService,r,a);this.crosshairs.push(l),n.content.append(l)}}}}removeCrosshairs(i){const e=this.crosshairs,n=i.axes;for(let o=e.length-1;o>=0;o--)for(let r=0;r<n.length;r++)if(e[o].axis===n[r]){e.splice(o,1);break}}hideCrosshairs(){const i=this.crosshairs;for(let e=0;e<i.length;e++)i[e].hide()}findPane(i){const e=this.panes;let n;for(let o=0;o<e.length;o++)if(e[o].options.name===i){n=e[o];break}return n||e[0]}findPointPane(i){const e=this.panes;let n;for(let o=0;o<e.length;o++)if(e[o].box.containsPoint(i)){n=e[o];break}return n}appendAxis(i){this.findPane(i.options.pane).appendAxis(i),this.axes.push(i),i.plotArea=this}removeAxis(i){const e=[];for(let n=0;n<this.axes.length;n++){const o=this.axes[n];i!==o?e.push(o):o.destroy()}this.axes=e}appendChart(i,e){this.charts.push(i),e?e.appendChart(i):this.append(i)}removeChart(i){const e=[];for(let n=0;n<this.charts.length;n++){const o=this.charts[n];o!==i?e.push(o):o.destroy()}this.charts=e}addToLegend(i){const e=i.length,n=this.options.legend,o=n.labels||{},r=n.inactiveItems||{},a=r.labels||{},l=[];for(let c=0;c<e;c++){const u=i[c],f=!1!==u.visible;if(!1===u.visibleInLegend)continue;let _=u.name;const g=f?ta(o):ta(a)||ta(o);g&&(_=g({text:ld(_)?_:"",series:u}));const S=u._defaults;let k,D,b=u.color;Js(b)&&S&&(b=S.color),f?(k={},D=b):(k={color:a.color,font:a.font},D=r.markers.color),ld(_)&&""!==_&&l.push({text:_,labels:k,markerColor:D,series:u,active:f})}bb(n.data,l)}groupAxes(i){const e=[],n=[];for(let o=0;o<i.length;o++){const r=i[o].axes;for(let a=0;a<r.length;a++){const l=r[a];l.options.vertical?n.push(l):e.push(l)}}return{x:e,y:n,any:e.concat(n)}}groupSeriesByPane(){const i=this.series,e={};for(let n=0;n<i.length;n++){const o=i[n],r=this.seriesPaneName(o);e[r]?e[r].push(o):e[r]=[o]}return e}filterVisibleSeries(i){const e=[];for(let n=0;n<i.length;n++){const o=i[n];!1!==o.visible&&e.push(o)}return e}reflow(i){const n=this.panes,o=zi(this.options.plotArea.margin);this.box=i.clone().unpad(o),this.reflowPanes(),this.detachLabels(),this.reflowAxes(n),this.reflowCharts(n)}redraw(i){const e=[].concat(i);this.initSeries();const n=this.getRoot();n&&n.cleanGradients();for(let o=0;o<e.length;o++)this.removeCrosshairs(e[o]),e[o].empty();this._bindCache=new WeakMap,this.render(e),this.detachLabels(),this.reflowAxes(this.panes),this.reflowCharts(e),this.createCrosshairs(e);for(let o=0;o<e.length;o++)e[o].refresh()}axisCrossingValues(i,e){const n=i.options,o=[].concat(n.axisCrossingValues||n.axisCrossingValue),r=e.length-o.length,a=o[0]||0;for(let l=0;l<r;l++)o.push(a);return o}alignAxisTo(i,e,n,o){const r=i.getSlot(n,n,!0),a=i.options.reverse?2:1,l=e.getSlot(o,o,!0),c=e.options.reverse?2:1,u=i.box.translate(l[kt+c]-r[kt+a],l[Ot+c]-r[Ot+a]);i.pane!==e.pane&&u.translate(0,i.pane.box.y1-e.pane.box.y1),i.reflow(u)}alignAxes(i,e){const n=i[0],o=e[0],r=this.axisCrossingValues(n,e),a=this.axisCrossingValues(o,i),l={},c={},u={},f={};for(let _=0;_<e.length;_++){const g=e[_],S=g.pane,b=S.id,k=!1!==g.options.visible,D=l9(i,S)||n;let O=r;if(D!==n&&(O=this.axisCrossingValues(D,e)),this.alignAxisTo(g,D,a[_],O[_]),g.options._overlap)continue;qe(g.lineBox().x1)===qe(D.lineBox().x1)&&(l[b]&&g.reflow(g.box.alignTo(l[b].box,jn).translate(-g.options.margin,0)),k&&(l[b]=g)),qe(g.lineBox().x2)===qe(D.lineBox().x2)&&(g._mirrored||(g.options.labels.mirror=!g.options.labels.mirror,g._mirrored=!0),this.alignAxisTo(g,D,a[_],O[_]),c[b]&&g.reflow(g.box.alignTo(c[b].box,Oi).translate(g.options.margin,0)),k&&(c[b]=g));const I=l9(e,S)||o;I!==g&&(g.alignTo(I),g.reflow(g.box))}for(let _=0;_<i.length;_++){const g=i[_],S=g.pane,b=S.id,k=!1!==g.options.visible,D=l9(e,S)||o;let O=a;D!==o&&(O=this.axisCrossingValues(D,i)),this.alignAxisTo(g,D,r[_],O[_]),!g.options._overlap&&(qe(g.lineBox().y1)===qe(D.lineBox().y1)&&(g._mirrored||(g.options.labels.mirror=!g.options.labels.mirror,g._mirrored=!0),this.alignAxisTo(g,D,r[_],O[_]),u[b]&&g.reflow(g.box.alignTo(u[b].box,Qn).translate(0,-g.options.margin)),k&&(u[b]=g)),qe(g.lineBox().y2,3)===qe(D.lineBox().y2,3)&&(f[b]&&g.reflow(g.box.alignTo(f[b].box,Di).translate(0,g.options.margin)),k&&(f[b]=g)),0!==_&&(g.alignTo(n),g.reflow(g.box)))}}shrinkAxisWidth(i){const e=this.groupAxes(i).any,n=yoe(e);let o=0;for(let r=0;r<i.length;r++){const a=i[r];a.axes.length>0&&(o=Math.max(o,n.width()-a.contentBox.width()))}if(0!==o)for(let r=0;r<e.length;r++){const a=e[r];a.options.vertical||a.reflow(a.box.shrink(o,0))}}shrinkAxisHeight(i){let e;for(let n=0;n<i.length;n++){const o=i[n],r=o.axes,a=Math.max(0,yoe(r).height()-o.contentBox.height());if(0!==a){for(let l=0;l<r.length;l++){const c=r[l];c.options.vertical&&c.reflow(c.box.shrink(0,a))}e=!0}}return e}fitAxes(i){const e=this.groupAxes(i).any;let n=0;for(let o=0;o<i.length;o++){const r=i[o],a=r.axes,l=r.contentBox;if(a.length>0){const c=yoe(a),u=Math.max(l.y1-c.y1,l.y2-c.y2);n=Math.max(n,l.x1-c.x1);for(let f=0;f<a.length;f++){const _=a[f];_.reflow(_.box.translate(0,u))}}}for(let o=0;o<e.length;o++){const r=e[o];r.reflow(r.box.translate(n,0))}}reflowAxes(i){const e=this.groupAxes(i);for(let n=0;n<i.length;n++)this.reflowPaneAxes(i[n]);e.x.length>0&&e.y.length>0&&(this.alignAxes(e.x,e.y),this.shrinkAxisWidth(i),this.autoRotateAxisLabels(e),this.alignAxes(e.x,e.y),this.shrinkAxisWidth(i)&&this.alignAxes(e.x,e.y),this.shrinkAxisHeight(i),this.alignAxes(e.x,e.y),this.shrinkAxisHeight(i)&&this.alignAxes(e.x,e.y),this.fitAxes(i))}autoRotateAxisLabels(i){const{panes:e}=this,n=_4t(e);let o;for(let r=0;r<n.length;r++)n[r].autoRotateLabels()&&(o=!0);if(o){for(let r=0;r<e.length;r++)this.reflowPaneAxes(e[r]);i.x.length>0&&i.y.length>0&&(this.alignAxes(i.x,i.y),this.shrinkAxisWidth(e))}}reflowPaneAxes(i){const e=i.axes,n=e.length;if(n>0)for(let o=0;o<n;o++)e[o].reflow(i.contentBox)}reflowCharts(i){const e=this.charts,n=e.length,o=this.box;for(let r=0;r<n;r++){const a=e[r].pane;(!a||Gn(a,i))&&e[r].reflow(o)}}reflowPanes(){const{box:i,panes:e}=this,n=e.length;let o=i.height(),r=0,a=i.y1;for(let l=0;l<n;l++){const c=e[l],u=c.options.height;if(c.options.width=i.width(),c.options.height){if(u.indexOf&&u.indexOf("%")){const f=parseInt(u,10)/100;c.options.height=f*i.height()}c.reflow(i.clone()),o-=c.options.height}else r++}for(let l=0;l<n;l++){const c=e[l];c.options.height||(c.options.height=o/r)}for(let l=0;l<n;l++){const c=e[l],u=i.clone().move(i.x1,a);c.reflow(u),a+=c.options.height}}backgroundBox(){const i=this.axes,e=i.length;let n;for(let o=0;o<e;o++){const r=i[o];for(let a=0;a<e;a++){const l=i[a];if(r.options.vertical!==l.options.vertical){const c=r.lineBox().clone().wrap(l.lineBox());n=n?n.wrap(c):c}}}return n||this.box}chartsBoxes(){const i=this.panes,e=[];for(let n=0;n<i.length;n++)e.push(i[n].chartsBox());return e}addBackgroundPaths(i){const e=this.chartsBoxes();for(let n=0;n<e.length;n++)i.paths.push(ct.fromRect(e[n].toRect()))}backgroundContainsPoint(i){const e=this.chartsBoxes();for(let n=0;n<e.length;n++)if(e[n].containsPoint(i))return!0}createVisual(){super.createVisual();const i=this.options.plotArea;let{opacity:e,background:n,border:o={}}=i;(function m4t(s){return""===s||null===s||"none"===s||"transparent"===s||!ge(s)})(n)&&(n=gi,e=0);const r=this._bgVisual=new ed({fill:{color:n,opacity:e},stroke:{color:o.width?o.color:"",width:o.width,dashType:o.dashType},zIndex:-1});this.addBackgroundPaths(r),this.appendVisual(r)}pointsByCategoryIndex(i){const e=this.charts,n=[];if(null!==i)for(let o=0;o<e.length;o++){if("_navigator"===e[o].pane.options.name)continue;const a=e[o].categoryPoints[i];if(a&&a.length)for(let l=0;l<a.length;l++){const c=a[l];c&&ge(c.value)&&null!==c.value&&n.push(c)}}return n}pointsBySeriesIndex(i){return this.filterPoints(function(e){return e.series.index===i})}pointsByPointIndex(i){return this.filterPoints(function(e){return e.getIndex()===i})}pointsBySeriesName(i){return this.filterPoints(function(e){return e.series.name===i})}filterPoints(i){const e=this.charts,n=[];for(let o=0;o<e.length;o++){const a=e[o].points;for(let l=0;l<a.length;l++){const c=a[l];c&&!1!==c.visible&&i(c)&&n.push(c)}}return n}findPoint(i){const e=this.charts;for(let n=0;n<e.length;n++){const r=e[n].points;for(let a=0;a<r.length;a++){const l=r[a];if(l&&!1!==l.visible&&i(l))return l}}}paneByPoint(i){const e=this.panes;for(let n=0;n<e.length;n++){const o=e[n];if(o.box.containsPoint(i))return o}}detachLabels(){const i=this.groupAxes(this.panes),e=i.x,n=i.y;this.detachAxisGroupLabels(n,e),this.detachAxisGroupLabels(e,n)}detachAxisGroupLabels(i,e){let n=0;for(let o=0;o<i.length;o++){const r=i[o],a=r.pane,l=l9(e,a)||e[0],u=this.createLabelAxis(r,o+n,l);if(u){n++;const f=a.axes.indexOf(r)+n;a.appendAxisAt(u,f)}}}createLabelAxis(i,e,n){const o=i.options.labels,r=o.position;if(r!==uV&&r!==fV||!1===o.visible)return null;const c=this.groupAxes(this.panes),f=this.axisCrossingValues(n,n.options.vertical?c.x:c.y),_=r===uV,g=n.range(),S=_?g.max:g.min;if(Vt(f[e],g.min,g.max)-S==0)return null;f.splice(e+1,0,S),n.options.axisCrossingValues=f;const k=i.clone();return i.clear(),k.options.name=void 0,k.options.line.visible=!1,k.options.crosshair=void 0,k.options.notes=void 0,k.options.plotBands=void 0,k}isTrendline(i){return i&&Gn(i.type,qD)}trendlineFactory(){}createTrendlineSeries(){const i=[];return this.series=this.series.map(e=>{if(!this.isTrendline(e))return e;const n=this.seriesByName(e.for);if(!n)throw new Error(`Invalid Configuration: Unable to locate linked series "${e.for}" for trendline "${e.name}".`);const o=Rs.current.valueFields(n),r=Zo(o),a=this.trendlineFactory(Object.assign({},{field:r},e),n);return a&&(!1===n.visible&&(a.visible=!1),"inherit"===a.color&&(a.color=n.color),i.push(a)),a}).filter(e=>null!==e),i}seriesByName(i){return this.series.find(e=>e.name===i)}getFirstPoint(){return this.pointsBySeriesIndex(0)[0]}getPointBelow(i){return this._getNextPoint(i,this._pointsByVertical,1)}getPointAbove(i){return this._getNextPoint(i,this._pointsByVertical,-1)}getPointToTheRight(i){return this._getNextPoint(i,this._pointsByHorizontal,1)}getPointToTheLeft(i){return this._getNextPoint(i,this._pointsByHorizontal,-1)}_getNextPoint(i,e,n){let o=e.call(this,i),a=o.indexOf(i)+n;const l=c=>{let u,f=0;do{f+=c,u=e.call(this,i,f)}while(0===u.length);return u};return a<0?(o=l(-1),o.at(-1)):a>=o.length?(o=l(1),o.at(0)):o[a]}_pointsByVertical(i){return this.pointsByPointIndex(i.getIndex())}_pointsByHorizontal(i,e=0){let n=_V(i.series.index+e,this.series.length);return this.pointsBySeriesIndex(n)}}function f4t(s){return!s.pane.axes.some(i=>i.options.vertical===s.options.vertical&&i!==s&&!1!==i.options.visible)}function yoe(s){const i=s.length;let e;for(let n=0;n<i;n++){const o=s[n],r=!1!==o.options.visible;if(r||f4t(o)){const a=r?o.contentBox():o.lineBox();e?e.wrap(a):e=a.clone()}}return e||new ze}function l9(s,i){for(let e=0;e<s.length;e++){const n=s[e];if(n&&n.pane===i)return n}}const _4t=s=>s.reduce((i,e)=>i.concat(e.axes),[]);we(cAe,{series:[],plotArea:{margin:{}},background:"",border:{color:Mo,width:0},paneDefaults:{title:{}},legend:{inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}}});const wS=cAe,YR={hover:function(s,i){this._dispatchEvent(s,i,Txe)},click:function(s,i){this._dispatchEvent(s,i,"plotAreaClick")}};function v4t(s,i,e){let n=i,o=s;if(s.indexOf(".")>-1){const r=s.split(".");for(;r.length>1;)o=r.shift(),ge(n[o])||(n[o]={}),n=n[o];o=r.shift()}n[o]=e}const S4t=class g4t extends ft{constructor(i,e,n){super();const o=e.canonicalFields(i),r=e.valueFields(i),a=e.sourceFields(i,o),l=this._seriesFields=[],c=n.query(i.type),u=i.aggregate||c;this._series=i,this._binder=e;for(let f=0;f<o.length;f++){const _=o[f];let g;if(dh(u))g=u[_];else{if(0!==f&&!Gn(_,r))break;g=u}g&&l.push({canonicalName:_,name:a[f],transform:Js(g)?g:dRt[g]})}}aggregatePoints(i,e){const{_series:n,_seriesFields:o}=this,r=this._bindPoints(i||[]),a=r.dataItems[0];let l={};if(a&&!ii(a)&&!Ia(a)){const c=function(){};c.prototype=a,l=new c}for(let c=0;c<o.length;c++){const u=o[c],f=this._bindField(r.values,u.canonicalName),_=u.transform(f,n,r.dataItems,e);if(!(null===_||!dh(_)||ge(_.length)||_ instanceof Date)){l=_;break}ge(_)&&v4t(u.name,l,_)}return l}_bindPoints(i){const{_binder:e,_series:n}=this,o=[],r=[];for(let a=0;a<i.length;a++){const l=i[a];o.push(e.bindPoint(n,l)),r.push(n.data[l])}return{values:o,dataItems:r}}_bindField(i,e){const n=[],o=i.length;for(let r=0;r<o;r++){const a=i[r],l=a.valueFields;let c;c=ge(l[e])?l[e]:a.fields[e],n.push(c)}return n}};class koe extends ft{constructor(){super(),this._defaults={}}register(i,e){for(let n=0;n<i.length;n++)this._defaults[i[n]]=e}query(i){return this._defaults[i]}}koe.current=new koe;const Ab=koe;class woe extends $R{createLabel(){const i=this.options.labels,e=K({},i,i.from),n=K({},i,i.to);e.visible&&(this.labelFrom=this.createLabelElement(e),this.append(this.labelFrom)),n.visible&&(this.labelTo=this.createLabelElement(n),this.append(this.labelTo))}reflow(i){this.render();const{labelFrom:e,labelTo:n,value:o}=this;this.box=i,e&&(e.options.aboveAxis=o.from>o.to,e.reflow(i)),n&&(n.options.aboveAxis=o.to>o.from,n.reflow(i)),this.note&&this.note.reflow(i)}}woe.prototype.defaults=K({},woe.prototype.defaults,{labels:{format:"{0} - {1}"},tooltip:{format:"{1}"}});const C4t=woe;class dAe extends XR{pointType(){return C4t}pointValue(i){return i.valueFields}formatPointValue(i,e){return null===i.value.from&&null===i.value.to?"":this.chartService.format.auto(e,i.value.from,i.value.to)}plotRange(i){return i?[i.value.from,i.value.to]:0}updateRange(i,e){const n=e.series.axis,{from:o,to:r}=i;let a=this.valueAxisRanges[n];null!==i&&ii(o)&&ii(r)&&(a=this.valueAxisRanges[n]=a||{min:qo,max:Er},a.min=Math.min(a.min,o),a.max=Math.max(a.max,o),a.min=Math.min(a.min,r),a.max=Math.max(a.max,r))}aboveAxis(i){const e=i.value;return e.from<e.to}}dAe.prototype.plotLimits=Mb.prototype.plotLimits;const b4t=dAe,uAe=class E4t extends Ib{aliasFor(){return this.parent}};class c9 extends Ki{constructor(i,e){super(),this.value=i,this.options=e,this.aboveAxis=ln(this.options.aboveAxis,!0),this.tooltipTracking=!0,this._id=t9(),this.initLabelsFormat()}render(){if(this._rendered)return;this._rendered=!0;const{markers:i,labels:e}=this.options,n=this.value,o=this.fromPoint=new uAe(n,K({},this.options,{labels:e.from,markers:i.from})),r=this.toPoint=new uAe(n,K({},this.options,{labels:e.to,markers:i.to}));this.copyFields(o),this.copyFields(r),this.append(o),this.append(r)}reflow(i){this.render();const{from:e,to:n}=i;this.positionLabels(e,n),this.fromPoint.reflow(e),this.toPoint.reflow(n),this.box=this.fromPoint.markerBox().clone().wrap(this.toPoint.markerBox())}createHighlight(){const i=new Vn;return i.append(this.fromPoint.createHighlight()),i.append(this.toPoint.createHighlight()),i}highlightVisual(){return this.visual}highlightVisualArgs(){return{options:this.options,from:this.fromPoint.highlightVisualArgs(),to:this.toPoint.highlightVisualArgs()}}createFocusHighlight(){const i=new Vn;return i.append(this.fromPoint.createFocusHighlight()),i.append(this.toPoint.createFocusHighlight()),i}tooltipAnchor(){const i=this.owner.pane.clipBox();if(!i||i.overlaps(this.box)){const n=this.box,o=n.center(),r=jn;let a,l,c;return this.options.vertical?(a=o.x,l=n.y1-5,c=Di):(a=n.x2+5,l=o.y,c=Cn),{point:new cn(a,l),align:{horizontal:r,vertical:c}}}}formatValue(i){return this.owner.formatPointValue(this,i)}overlapsBox(i){return this.box.overlaps(i)}unclipElements(){this.fromPoint.unclipElements(),this.toPoint.unclipElements()}initLabelsFormat(){const i=this.options.labels;i.format||((!i.from||!i.from.format)&&(i.from=Object.assign({},i.from,{format:"{0}"})),(!i.to||!i.to.format)&&(i.to=Object.assign({},i.to,{format:"{1}"})))}positionLabels(i,e){const{labels:n,vertical:o}=this.options;if("auto"===n.position){let r,a;o?e.y1<=i.y1?(a=WV,r="below"):(a="below",r=WV):e.x1<=i.x1?(a=jn,r=Oi):(a=Oi,r=jn),(!n.from||!n.from.position)&&(this.fromPoint.options.labels.position=r),(!n.to||!n.to.position)&&(this.toPoint.options.labels.position=a)}}copyFields(i){i.dataItem=this.dataItem,i.category=this.category,i.series=this.series,i.color=this.color,i.owner=this.owner}focusVisual(){this.fromPoint.focusVisual()}clearFocusFromVisual(){this.toPoint.clearFocusFromVisual()}getIndex(){return this.categoryIx}}K(c9.prototype,wp),K(c9.prototype,tO),c9.prototype.defaults={markers:{visible:!1,background:gi,size:8,type:od,border:{width:2},opacity:1},labels:{visible:!1,margin:zi(3),padding:zi(4),animation:{type:SS,delay:fh},position:"auto"},notes:{label:{}},highlight:{markers:{border:{color:gi,width:2}},zIndex:100},tooltip:{format:"{0} - {1}"},accessibility:{role:ES,className:yS,ariaRoleDescription:kS}};const pAe=c9,Doe=class w4t extends iO{createStrokeSegments(){return this.segmentsFromPoints(this.toGeometryPoints(this.toPoints()))}stackSegments(){let i=this.fromSegments;return this.fromSegments||(i=this.fromSegments=this.segmentsFromPoints(this.toGeometryPoints(this.fromPoints().reverse()))),i}createStroke(i){const e=new ct(i),n=new ct(i);e.segments.push.apply(e.segments,this.strokeSegments()),n.segments.push.apply(n.segments,this.stackSegments()),this.visual.append(e),this.visual.append(n)}hasStackSegment(){return!0}fromPoints(){return this.linePoints.map(i=>i.fromPoint)}toPoints(){return this.linePoints.map(i=>i.toPoint)}},O4t=class D4t extends Doe{createStrokeSegments(){return this.createCurveSegments(this.toPoints())}stackSegments(){let i=this.fromSegments;return this.fromSegments||(i=this.fromSegments=this.createCurveSegments(this.fromPoints().reverse())),i}createCurveSegments(i){return(new HV).process(this.toGeometryPoints(i))}};class fAe extends Doe{createStrokeSegments(){return this.segmentsFromPoints(this.calculateStepPoints(this.toPoints()))}stackSegments(){let i=this.fromSegments;return this.fromSegments||(i=this.fromSegments=this.segmentsFromPoints(this.calculateStepPoints(this.fromPoints())),i.reverse()),i}}K(fAe.prototype,uoe);const T4t=fAe;class mAe extends Mb{render(){super.render(),this.renderSegments()}pointType(){return pAe}createPoint(i,e){const{series:n,seriesIx:o}=e;let r=i.valueFields;if(!ld(r.from)&&!ld(r.to)){if(this.seriesMissingValues(n)!==Ig)return null;r={from:0,to:0}}let a=this.pointOptions(n,o);a=this.evalPointOptions(a,r,e);let l=i.fields.color||n.color;Js(n.color)&&(l=a.color);const c=new pAe(r,a);return c.color=l,this.append(c),c}createSegment(i,e,n){const o=(e.line||{}).style;let r;return r="smooth"===o?O4t:"step"===o?T4t:Doe,new r(i,e,n)}plotRange(i,e){return i?[i.value.from,i.value.to]:[e,e]}valueSlot(i,e){const n=i.getSlot(e[0],e[0],!this.options.clip),o=i.getSlot(e[1],e[1],!this.options.clip);if(n&&o)return{from:n,to:o}}pointSlot(i,e){const{from:n,to:o}=e;let r,a;return this.options.invertAxes?(r=new ze(n.x1,i.y1,n.x2,i.y2),a=new ze(o.x1,i.y1,o.x2,i.y2)):(r=new ze(i.x1,n.y1,i.x2,n.y2),a=new ze(i.x1,o.y1,i.x2,o.y2)),{from:r,to:a}}addValue(i,e){const n=i.valueFields;ii(n.from)||(n.from=n.to),ii(n.to)||(n.to=n.from),super.addValue(i,e)}updateRange(i,e){if(null!==i&&ii(i.from)&&ii(i.to)){const n=e.series.axis,o=this.valueAxisRanges[n]=this.valueAxisRanges[n]||{min:qo,max:Er},{from:r,to:a}=i;o.min=Math.min(o.min,r,a),o.max=Math.max(o.max,r,a)}}formatPointValue(i,e){const n=i.value;return this.chartService.format.auto(e,n.from,n.to)}animationPoints(){const i=this.points,e=[];for(let n=0;n<i.length;n++){const o=i[n];o&&(e.push((o.fromPoint||{}).marker),e.push((o.toPoint||{}).marker))}return e.concat(this._segments)}}K(mAe.prototype,poe,i9);const M4t=mAe,x4t=class I4t extends goe{reflow(i){const{options:e,value:n,owner:o}=this,r=o.seriesValueAxis(e),a=[],l=[],c=[],u=r.getSlot(n.low,n.high),f=r.getSlot(n.open,n.open),_=r.getSlot(n.close,n.close);f.x1=_.x1=u.x1=i.x1,f.x2=_.x2=u.x2=i.x2;const g=u.center().x;a.push([f.x1,f.y1]),a.push([g,f.y1]),l.push([g,_.y1]),l.push([_.x2,_.y1]),c.push([g,u.y1]),c.push([g,u.y2]),this.lines=[a,l,c],this.box=u.clone().wrap(f.clone().wrap(_)),this.reflowNote()}createBody(){}},R4t=class A4t extends voe{pointType(){return x4t}};class _Ae extends Ki{constructor(i,e,n){super(),this.from=i,this.to=e,this.series=n}linePoints(){const i=this.from,{from:{box:e},to:{box:n}}=this,o=[];if(i.isVertical){const r=i.aboveAxis?e.y1:e.y2;o.push([e.x1,r],[n.x2,r])}else{const r=i.aboveAxis?e.x2:e.x1;o.push([r,e.y1],[r,n.y2])}return o}createVisual(){super.createVisual();const i=this.series.line||{},e=ct.fromPoints(this.linePoints(),{stroke:{color:i.color,width:i.width,opacity:i.opacity,dashType:i.dashType}});iu(e),this.visual.append(e)}}we(_Ae,{animation:{type:SS,delay:fh}});const N4t=_Ae,G4t=class L4t extends XR{render(){super.render(),this.createSegments()}traverseDataPoints(i){const e=this.options.series,n=aoe(e),o=!this.options.invertAxes;for(let r=0;r<e.length;r++){const a=e[r];let l=0,c=0;for(let u=0;u<n;u++){const f=Rs.current.bindPoint(a,u),_=f.valueFields.value,g=f.fields.summary;let b,S=l;g?"total"===g.toLowerCase()?(f.valueFields.value=l,S=0,b=l):(f.valueFields.value=c,b=S-c,c=0):ii(_)&&(c+=_,l+=_,b=l),i(f,{category:this.categoryAxis.categoryAt(u),categoryIx:u,series:a,seriesIx:r,total:l,runningTotal:c,from:S,to:b,isVertical:o})}}}updateRange(i,e){super.updateRange({value:e.to},e)}aboveAxis(i){return i.value>=0}plotRange(i){return[i.from,i.to]}createSegments(){const i=this.options.series,e=this.seriesPoints,n=this.segments=[];for(let o=0;o<i.length;o++){const r=i[o],a=e[o];if(a){let l;for(let c=0;c<a.length;c++){const u=a[c];if(u&&l){const f=new N4t(l,u,r);n.push(f),this.append(f)}l=u}}}}},gAe=function P4t(s,i,e){const n=s[String(i)];return n?n(e):null},DS=function F4t(s,i){let l,c,e=0,n=0,o=0,r=0,a=0,u=Number.MAX_VALUE,f=Number.MIN_VALUE;for(let _=0;_<s.length;_++){const g=s[_],{xValue:S,yValue:b}=i(g);isFinite(S)&&null!==S&&isFinite(b)&&null!==b&&(u=Math.min(S,u),f=Math.max(S,f),a++,e+=S,n+=b,o+=Math.pow(S,2),r+=S*b)}return a>0&&(l=(a*r-e*n)/(a*o-Math.pow(e,2)),c=(n-l*e)/a),{slope:l,intercept:c,count:a,xMin:u,xMax:f}},KR=(s,i)=>s.every(({valueFields:e})=>!ld(e[i])||e[i]>0),JR=function U4t(s,i){const e=[],n=i.totalRangeIndices(),o=i.currentRangeIndices(),r={min:Math.floor(Math.max(o.min-1,n.min)),max:Math.ceil(Math.min(o.max+2,n.max))};for(let a=r.min;a<r.max;a++){const l=a+1;e[a]={category:i.categoryAt(a,!0),value:s(l)}}return e},vAe=function Q4t(s,i,e){const n=[],o=[],r=Math.max(2,e)-1;let a=0,l=0;for(let c=0;c<s.length;c++){const u=s[c],{xValue:f,yValue:_}=i(u);if(isFinite(_)&&null!==_?(o.push(_),l+=_,a=Math.max(c,a)):o.push(null),c>=r){const g=o.filter(b=>null!==b).length,S=o.shift()||0;if(g>0){n.push([f,l/g]),l-=S;continue}}n.push([f,null])}return n.slice(0,a+1)},CAe=function o6t(s,i,e){let n=Math.min(Math.max(e||1,1),6)+1,o=new xIe,r=new xIe,a=0,l=Number.MAX_VALUE,c=Number.MIN_VALUE,u=_=>_,f=[];for(let _=0;_<s.length;_++){const g=s[_];let{xValue:S,yValue:b}=i(g);if(isFinite(S)&&null!==S&&isFinite(b)&&null!==b){l=Math.min(S,l),c=Math.max(S,c),a++,r.set(_,0,b),o.set(_,0,1),o.set(_,1,S);for(let k=2;k<=n;k++)o.set(_,k,Math.pow(o.get(_,1),k))}else o.set(_,0,0)}return o.width=Math.min(n,a),a>0&&(f=function r6t(s,i){const e=s.transpose(),n=e.multiply(s).inverse().multiply(e).multiply(i),o=[];for(let r=0;r<n.height;r++)o.push(n.get(r,0));return o}(o,r),u=_=>f.reduce((g,S,b)=>g+S*Math.pow(_,b),0)),{coefficients:f,count:a,valueMapper:u,xMin:l,xMax:c}},Rb={};Rb[Kse]=function B4t(s){const{options:i,categoryAxis:e,seriesValues:n}=s,o=function z4t({seriesValues:s,categoryAxis:i,options:e}){const n=s();if(!KR(n,e.field))return null;let{slope:o,intercept:r,count:a}=DS(n,(s=>({categoryIx:i,valueFields:e})=>({xValue:i+1,yValue:Math.log(e[s])}))(e.field));if(a>0){const l=Math.exp(r),c=o;return JR(u=>l*Math.exp(c*u),i)}return null}({seriesValues:n,categoryAxis:e,options:i});return o?Object.assign({},i,{type:"line",data:o,categoryField:"category",field:"value"}):null},Rb[Jse]=function H4t(s){const{options:i,categoryAxis:e,seriesValues:n}=s,o=function X4t({seriesValues:s,categoryAxis:i,options:e}){const{slope:n,intercept:o,count:r}=DS(s(),(s=>({categoryIx:i,valueFields:e})=>({xValue:i+1,yValue:e[s]}))(e.field));return r>0?JR(a=>n*a+o,i):null}({seriesValues:n,categoryAxis:e,options:i});return o?Object.assign({},i,{type:"line",data:o,categoryField:"category",field:"value"}):null},Rb[qse]=function Y4t(s){const{options:i,categoryAxis:e,seriesValues:n}=s,o=function J4t({seriesValues:s,categoryAxis:i,options:e}){let{slope:n,intercept:o,count:r}=DS(s(),(s=>({categoryIx:i,valueFields:e})=>({xValue:Math.log(i+1),yValue:e[s]}))(e.field));if(r>0){const a=n,l=o;return JR(c=>a*Math.log(c)+l,i)}return null}({seriesValues:n,categoryAxis:e,options:i});return o?Object.assign({},i,{type:"line",data:o,categoryField:"category",field:"value"}):null},Rb[Qse]=function Z4t(s){const{options:i}=s,e=function n6t(s){const{categoryAxis:i}=s,e=function t6t({options:s,categoryAxis:i,seriesValues:e}){const n=(s.trendline||{}).period||2,o=i.totalRangeIndices(),r=i.currentRangeIndices(),a={min:Math.floor(Math.max(r.min-n,o.min)),max:Math.ceil(Math.min(r.max+n+2,o.max))};return vAe(e(a),(s=>({categoryIx:i,valueFields:e})=>({xValue:i,yValue:e[s]}))(s.field),n)}(s),n=[];return e.forEach(([o,r])=>{n[o]={category:i.categoryAt(o,!0),value:r}}),n.length>0?n:null}(s);return e?Object.assign({},i,{type:"line",data:e,categoryField:"category",field:"value"}):null},Rb[Zse]=function a6t(s){const{options:i,categoryAxis:e,seriesValues:n}=s,o=function c6t({seriesValues:s,categoryAxis:i,options:e}){const n=(e.trendline||{}).order,{count:o,valueMapper:r}=CAe(s(),(s=>({categoryIx:i,valueFields:e})=>({xValue:i+1,yValue:e[s]}))(e.field),n);return o>0?JR(a=>r(a),i):null}({seriesValues:n,categoryAxis:e,options:i});return o?Object.assign({},i,{type:"line",data:o,categoryField:"category",field:"value"}):null},Rb[eoe]=function u6t(s){const{options:i,categoryAxis:e,seriesValues:n}=s,o=function p6t({seriesValues:s,categoryAxis:i,options:e}){const n=s();if(!KR(n,e.field))return null;let{slope:o,intercept:r,count:a}=DS(n,(s=>({categoryIx:i,valueFields:e})=>({xValue:Math.log(i+1),yValue:Math.log(e[s])}))(e.field));if(a>0){const l=Math.exp(r),c=o;return JR(u=>l*Math.pow(u,c),i)}return null}({seriesValues:n,categoryAxis:e,options:i});return o?Object.assign({},i,{type:"line",data:o,categoryField:"category",field:"value"}):null};const m6t=Rb,Ooe=[xg,wb,YD,Ob],bAe=[Ag,Db].concat(Ooe);class Toe extends wS{initFields(i){if(this.namedCategoryAxes={},this.namedValueAxes={},this.valueAxisRangeTracker=new s9,this._seriesPointsCache={},this._currentPointsCache={},i.length>0){this.invertAxes=Gn(i[0].type,[mh,CS,Db,wb,Ob,KD,$D,JD]);for(let e=0;e<i.length;e++){const n=i[e].stack;if(n&&"100%"===n.type){this.stack100=!0;break}}}}render(i=this.panes){this.series=[...this.originalSeries],this.createCategoryAxes(i),this.aggregateCategories(i),this.createTrendlineSeries(i),this.createCategoryAxesLabels(i),this.createCharts(i),this.createValueAxes(i)}removeAxis(i){const e=i.options.name;super.removeAxis(i),i instanceof Tg?delete this.namedCategoryAxes[e]:(this.valueAxisRangeTracker.reset(e),delete this.namedValueAxes[e]),i===this.categoryAxis&&delete this.categoryAxis,i===this.valueAxis&&delete this.valueAxis}trendlineFactory(i,e){const n=this.seriesCategoryAxis(i),o=this.seriesValues.bind(this,e.index),r=gAe(m6t,i.type,{options:i,categoryAxis:n,seriesValues:o});return r&&(r.categoryAxis=e.categoryAxis,r.valueAxis=e.valueAxis,this.filterSeries(r,n))}trendlineAggregateForecast(){return this.series.map(i=>(i.trendline||{}).forecast).filter(i=>void 0!==i).reduce((i,e)=>({before:Math.max(i.before,e.before||0),after:Math.max(i.after,e.after||0)}),{before:0,after:0})}seriesValues(i,e){const n=[];let o=this.srcSeries[i];const r=this.seriesCategoryAxis(o);Ng(r.options.type,kg)&&(this._seriesPointsCache={},this._currentPointsCache={},r.options.dataItems=[],o=this.aggregateSeries(o,r,r.totalRangeIndices()));const c=e?e.max:o.data.length;for(let u=e?e.min:0;u<c;u++){const f=this.bindPoint(o,u);n.push({categoryIx:u,category:f.fields.category,valueFields:f.valueFields})}return n}createCharts(i){const e=this.groupSeriesByPane();for(let n=0;n<i.length;n++){const o=i[n],r=e[o.options.name||"default"]||[];this.addToLegend(r);const a=this.filterVisibleSeries(r);if(!a)continue;const l=this.groupSeriesByCategoryAxis(a);for(let c=0;c<l.length;c++)this.createChartGroup(l[c],o)}}createChartGroup(i,e){this.createAreaChart(ho(i,[xg,wb]),e),this.createRangeAreaChart(ho(i,[YD,Ob]),e),this.createBarChart(ho(i,[Em,mh]),e),this.createRangeBarChart(ho(i,[PR,KD]),e),this.createBulletChart(ho(i,[CS,FR]),e),this.createCandlestickChart(ho(i,HD),e),this.createBoxPlotChart(ho(i,[RR,JD]),e),this.createOHLCChart(ho(i,XD),e),this.createWaterfallChart(ho(i,[UR,$D]),e),this.createLineChart(ho(i,[Ag,Db]),e)}aggregateCategories(i){const e=[...this.series],n=[];this._currentPointsCache={},this._seriesPointsCache=this._seriesPointsCache||{};for(let o=0;o<e.length;o++){let r=e[o];if(!this.isTrendline(r)){const a=this.seriesCategoryAxis(r),l=this.findPane(a.options.pane);r=(Ng(a.options.type,kg)||r.categoryField)&&Gn(l,i)?this.aggregateSeries(r,a,a.currentRangeIndices()):this.filterSeries(r,a)}n.push(r)}this._seriesPointsCache=this._currentPointsCache,this._currentPointsCache=null,this.srcSeries=e,this.series=n}filterSeries(i,e){const n=(i.data||{}).length;if(e._seriesMax=Math.max(e._seriesMax||0,n),!ge(e.options.min)&&!ge(e.options.max))return i;const o=e.currentRangeIndices(),r=Gn(i.type,bAe),a=K({},i);return a.data=(a.data||[]).slice(o.min,o.max+1),r&&Vxe(a,o,n,l=>({item:i.data[l],category:e.categoryAt(l,!0),categoryIx:l-o.min}),l=>ge(i.data[l])),a}clearSeriesPointsCache(){this._seriesPointsCache={}}seriesSourcePoints(i,e){const n=`${i.index};${e.categoriesHash()}`;if(this._seriesPointsCache&&this._seriesPointsCache[n])return this._currentPointsCache[n]=this._seriesPointsCache[n],this._seriesPointsCache[n];const o=e.options,r=o.srcCategories,a=Ng(o.type,kg),l=i.data,c=[];a||e.indexCategories();for(let u=0;u<l.length;u++){let f=Rs.current.bindPoint(i,u).fields.category;if(a&&(f=Fxe(f,l[u],this.chartService.intl)),ge(f)||(f=r[u]),ge(f)&&null!==f){const _=e.totalIndex(f);c[_]=c[_]||{items:[],category:f},c[_].items.push(u)}}return this._currentPointsCache[n]=c,c}aggregateSeries(i,e,n){if(!i.data.length)return i;const r=this.seriesSourcePoints(i,e),a=K({},i),l=new S4t(K({},i),Rs.current,Ab.current),c=a.data=[],u=e.options.dataItems||[],f=_=>{const g=_-n.min;let S=r[_];if(S||(S=r[_]={}),S.categoryIx=g,!S.item){const b=e.categoryAt(_,!0);S.category=b,S.item=l.aggregatePoints(S.items,b)}return S};for(let _=n.min;_<=n.max;_++){const g=f(_);c[g.categoryIx]=g.item,g.items&&g.items.length&&(u[g.categoryIx]=g.item)}return Gn(a.type,bAe)&&Vxe(a,n,e.totalCount(),f,_=>r[_]),e.options.dataItems=u,a}appendChart(i,e){const n=i.options.series,o=this.seriesCategoryAxis(n[0]);let r=o.options.categories,a=Math.max(0,aoe(n)-r.length);if(a>0)for(r=o.options.categories=o.options.categories.slice(0);a--;)r.push("");this.valueAxisRangeTracker.update(i.valueAxisRanges),super.appendChart(i,e)}seriesPaneName(i){const e=this.options,n=i.axis;return(su([].concat(e.valueAxis),function(u){return u.name===n})[0]||{}).pane||((e.panes||[{}])[0]||{}).name||"default"}seriesCategoryAxis(i){const e=i.categoryAxis,n=e?this.namedCategoryAxes[e]:this.categoryAxis;if(!n)throw new Error("Unable to locate category axis with name "+e);return n}stackableChartOptions(i,e){const n=i.some(a=>a.stack),o=i.some(a=>a.stack&&"100%"===a.stack.type);return{defaultStack:i[0].stack,isStacked:n,isStacked100:o,clip:e.options.clip}}groupSeriesByCategoryAxis(i){const e=[],n={};for(let r=0;r<i.length;r++){const a=i[r].categoryAxis||"$$default$$";PD(n,a)||(n[a]=!0,e.push(a))}const o=[];for(let r=0;r<e.length;r++){const l=_6t(i,e[r],r);0!==l.length&&o.push(l)}return o}createBarChart(i,e){if(0===i.length)return;const n=i[0],o=new XR(this,Object.assign({series:i,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing},this.stackableChartOptions(i,e)));this.appendChart(o,e)}createRangeBarChart(i,e){if(0===i.length)return;const n=i[0],o=new b4t(this,{series:i,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing});this.appendChart(o,e)}createBulletChart(i,e){if(0===i.length)return;const n=i[0],o=new a4t(this,{series:i,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing,clip:e.options.clip});this.appendChart(o,e)}createLineChart(i,e){if(0===i.length)return;const n=new moe(this,Object.assign({invertAxes:this.invertAxes,series:i},this.stackableChartOptions(i,e)));this.appendChart(n,e)}createAreaChart(i,e){if(0===i.length)return;const n=new WRt(this,Object.assign({invertAxes:this.invertAxes,series:i},this.stackableChartOptions(i,e)));this.appendChart(n,e)}createRangeAreaChart(i,e){if(0===i.length)return;const n=new M4t(this,{invertAxes:this.invertAxes,series:i,clip:e.options.clip});this.appendChart(n,e)}createOHLCChart(i,e){if(0===i.length)return;const n=i[0],o=new R4t(this,{invertAxes:this.invertAxes,gap:n.gap,series:i,spacing:n.spacing,clip:e.options.clip});this.appendChart(o,e)}createCandlestickChart(i,e){if(0===i.length)return;const n=i[0],o=new voe(this,{invertAxes:this.invertAxes,gap:n.gap,series:i,spacing:n.spacing,clip:e.options.clip});this.appendChart(o,e)}createBoxPlotChart(i,e){if(0===i.length)return;const n=i[0],o=new e4t(this,{invertAxes:this.invertAxes,gap:n.gap,series:i,spacing:n.spacing,clip:e.options.clip});this.appendChart(o,e)}createWaterfallChart(i,e){if(0===i.length)return;const n=i[0],o=new G4t(this,{series:i,invertAxes:this.invertAxes,gap:n.gap,spacing:n.spacing});this.appendChart(o,e)}axisRequiresRounding(i,e){const n=ho(this.series,Exe);for(let o=0;o<this.series.length;o++){const r=this.series[o];if(Gn(r.type,Ooe)){const a=r.line;a&&a.style===AR&&n.push(r)}}for(let o=0;o<n.length;o++){const r=n[o].categoryAxis||"";if(r===i||!r&&0===e)return!0}}aggregatedAxis(i,e){const n=this.series;for(let o=0;o<n.length;o++){const r=n[o].categoryAxis||"";if((r===i||!r&&0===e)&&n[o].categoryField)return!0}}createCategoryAxesLabels(){const i=this.axes;for(let e=0;e<i.length;e++)i[e]instanceof Tg&&i[e].createLabels()}createCategoryAxes(i){const e=this.invertAxes,n=[].concat(this.options.categoryAxis),o=[];for(let a=0;a<n.length;a++){let l=n[a];if(Gn(this.findPane(l.pane),i)){const{name:u,categories:f=[]}=l;let _;if(l=K({vertical:e,reverse:!e&&this.chartService.rtl,axisCrossingValue:e?qo:0},l),ge(l.justified)||(l.justified=this.isJustified()),this.axisRequiresRounding(u,a)&&(l.justified=!1),Uxe(l,f[0])?(l._forecast=this.trendlineAggregateForecast(),_=new GV(l,this.chartService)):_=new Tg(l,this.chartService),n[a].categories=_.options.srcCategories,u){if(this.namedCategoryAxes[u])throw new Error(`Category axis with name ${u} is already defined`);this.namedCategoryAxes[u]=_}_.axisIndex=a,o.push(_),this.appendAxis(_)}}const r=this.categoryAxis||o[0];this.categoryAxis=r,e?this.axisY=r:this.axisX=r}isJustified(){const i=this.series;for(let e=0;e<i.length;e++)if(!Gn(i[e].type,Ooe))return!1;return!0}createValueAxes(i){const e=this.valueAxisRangeTracker,n=e.query(),o=[].concat(this.options.valueAxis),r=this.invertAxes,a={vertical:!r,reverse:r&&this.chartService.rtl},l=[];this.stack100&&(a.roundToMajorUnit=!1,a.labels={format:"P0"});for(let u=0;u<o.length;u++){const f=o[u];if(Gn(this.findPane(f.pane),i)){const g=f.name,S=Ng(f.type,qV)?{min:.1,max:1}:{min:0,max:1},b=e.query(g)||n||S;let k;0===u&&b&&n&&(b.min=Math.min(b.min,n.min),b.max=Math.max(b.max,n.max)),k=Ng(f.type,qV)?zV:ph;const D=new k(b.min,b.max,K({},a,f),this.chartService);if(g){if(this.namedValueAxes[g])throw new Error(`Value axis with name ${g} is already defined`);this.namedValueAxes[g]=D}D.axisIndex=u,l.push(D),this.appendAxis(D)}}const c=this.valueAxis||l[0];this.valueAxis=c,r?this.axisX=c:this.axisY=c}_dispatchEvent(i,e,n){const o=i._eventCoordinates(e),r=new cn(o.x,o.y),a=this.pointPane(r),l=[],c=[];if(!a)return;const u=a.axes;for(let f=0;f<u.length;f++){const _=u[f];_.getValue?e9(c,_.getValue(r)):e9(l,_.getCategory(r))}0===l.length&&e9(l,this.categoryAxis.getCategory(r)),l.length>0&&c.length>0&&i.trigger(n,{element:bp(e),originalEvent:e,category:eO(l),value:eO(c)})}pointPane(i){const e=this.panes;for(let n=0;n<e.length;n++){const o=e[n];if(o.contentBox.containsPoint(i))return o}}updateAxisOptions(i,e){EAe(this.options,i,e),EAe(this.originalOptions,i,e)}_pointsByVertical(i,e=0){return this.invertAxes?this._siblingsBySeriesIndex(i.series.index,e):this._siblingsByPointIndex(i.getIndex())}_pointsByHorizontal(i,e=0){if(this.invertAxes)return this._siblingsByPointIndex(i.getIndex());const n=this._siblingsBySeriesIndex(i.series.index,e);return this.chartService.rtl?n.reverse():n}_siblingsByPointIndex(i){const e=this.charts,n=[];for(let o=0;o<e.length;o++){let r=e[o];if(r.pane&&"_navigator"===r.pane.options.name)continue;let a=r.points.filter(l=>l&&!1!==l.visible&&l.getIndex()===i);n.push(...a.sort(this._getSeriesCompareFn(a[0])))}return n}_siblingsBySeriesIndex(i,e){const n=_V(i+e,this.series.length);return this.pointsBySeriesIndex(n)}_getSeriesCompareFn(i){const e=this._isInStackedSeries(i);return e&&this.invertAxes||!e&&!this.invertAxes?(n,o)=>n.box.center().x-o.box.center().x:(n,o)=>n.box.center().y-o.box.center().y}_isInStackedSeries(i){const e=Gn(i.series.type,[xg,wb,YD,Ob,Ag,Db,WD,GR]),n=Gn(i.series.type,[Em,mh]);return e||n&&i.options.isStacked}}function EAe(s,i,e){K([].concat(i instanceof Tg?s.categoryAxis:s.valueAxis)[i.axisIndex],e)}function _6t(s,i,e){return su(s,function(n){return 0===e&&!n.categoryAxis||n.categoryAxis===i})}we(Toe,{categoryAxis:{},valueAxis:{}}),K(Toe.prototype,YR);const Gg=Toe;function yAe(s){return"function"==typeof s}function kAe(s){return"string"==typeof s?[s]:s}function v6t(){this._defaultPrevented=!0}function S6t(){return!0===this._defaultPrevented}const C6t=class g6t extends ft{constructor(){super(),this._events={}}bind(i,e,n){const o=kAe(i),r=yAe(e),a=o.length;if(void 0===e){for(let l in i)this.bind(l,i[l]);return this}for(let l=0;l<a;l++){const c=o[l];let u=r?e:e[c];if(u){if(n){const _=u;u=()=>{this.unbind(c,u),_.apply(this,arguments)},u.original=_}(this._events[c]=this._events[c]||[]).push(u)}}return this}one(i,e){return this.bind(i,e,!0)}first(i,e){const n=kAe(i),o=yAe(e);for(let r=0,a=n.length;r<a;r++){const l=n[r],c=o?e:e[l];c&&(this._events[l]=this._events[l]||[]).unshift(c)}return this}trigger(i,e={}){let n=this._events[i];if(n){const o=n.length;e.sender=this,e._defaultPrevented=!1,e.preventDefault=v6t,e.isDefaultPrevented=S6t,n=n.slice();for(let r=0;r<o;r++)n[r].call(this,e);return!0===e._defaultPrevented}return!1}unbind(i,e){const n=this._events[i];if(void 0===i)this._events={};else if(n)if(e)for(let o=n.length-1;o>=0;o--)(n[o]===e||n[o].original===e)&&n.splice(o,1);else this._events[i]=[];return this}},E6t=/matrix\((.*)\)/;function wAe(s){const i=getComputedStyle(s).transform;return"none"===i?_a.unit():function y6t(s){const i=s.match(E6t);if(null===i||2!==i.length)return _a.unit();const e=i[1].split(",").map(n=>parseFloat(n));return new _a(...e)}(i)}const w6t=["click","mouseenter","mouseleave","mousemove","resize"],Moe=class D6t extends C6t{constructor(i,e){super(),this.options=Object.assign({},e),this.element=i,this.element._kendoExportVisual=this.exportVisual.bind(this),this._click=this._handler("click"),this._mouseenter=this._handler("mouseenter"),this._mouseleave=this._handler("mouseleave"),this._mousemove=this._handler("mousemove"),this._visual=new Vn,hx(i,this.options),this.bind(w6t,this.options),this._enableTracking()}draw(i){this._visual.children.push(i)}clear(){this._visual.children=[]}destroy(){this._visual=null,this.element._kendoExportVisual=null,this.unbind()}eventTarget(i){let n,e=Pve(i);for(;!n&&e&&(n=e._kendoNode,e!==this.element);)e=e.parentElement;if(n)return n.srcElement}exportVisual(){return this._visual}getSize(){return hx(this.element)}currentSize(i){if(!i)return this._size;this._size=i}setSize(i){hx(this.element,i),this.currentSize(i),this._resize()}resize(i){const e=this.getSize(),n=this.currentSize();(i||(e.width>0||e.height>0)&&(!n||e.width!==n.width||e.height!==n.height))&&(this.currentSize(e),this._resize(e,i),this.trigger("resize",e))}size(i){if(!i)return this.getSize();this.setSize(i)}suspendTracking(){this._suspendedTracking=!0}resumeTracking(){this._suspendedTracking=!1}_enableTracking(){}_resize(){}_handler(i){return e=>{const n=this.eventTarget(e);n&&!this._suspendedTracking&&this.trigger(i,{element:n,originalEvent:e,type:i})}}_elementOffset(){const i=this.element,e=function b6t(s){const{paddingLeft:i,paddingTop:e}=Qq(s,["paddingLeft","paddingTop"]);return{top:parseFloat(e),left:parseFloat(i)}}(i),{left:n,top:o}=Fve(i);return{left:n+e.left,top:o+e.top}}_surfacePoint(i){const e=this._elementOffset(),n=Gve(i),o=n.x-e.left,r=n.y-e.top,a=function k6t(s){if(!s)return _a.unit();let i=wAe(s),e=s.parentElement;for(;e;){const n=wAe(e);i=i.multiplyCopy(n),e=e.parentElement}return i.b=i.c=i.e=i.f=0,i}(this.element).invert();return new Ie(o,r).transform(a)}},d9=class O6t extends ft{constructor(i){super(),this.childNodes=[],this.parent=null,i&&(this.srcElement=i,this.observe())}destroy(){this.srcElement&&this.srcElement.removeObserver(this);const i=this.childNodes;for(let e=0;e<i.length;e++)this.childNodes[e].destroy();this.parent=null}load(){}observe(){this.srcElement&&this.srcElement.addObserver(this)}append(i){this.childNodes.push(i),i.parent=this}insertAt(i,e){this.childNodes.splice(e,0,i),i.parent=this}remove(i,e){const n=i+e;for(let o=i;o<n;o++)this.childNodes[o].removeSelf();this.childNodes.splice(i,e)}removeSelf(){this.clear(),this.destroy()}clear(){this.remove(0,this.childNodes.length)}invalidate(){this.parent&&this.parent.invalidate()}geometryChange(){this.invalidate()}optionsChange(){this.invalidate()}childrenChange(i){"add"===i.action?this.load(i.items,i.index):"remove"===i.action&&this.remove(i.index,i.items.length),this.invalidate()}};function cd(s,i){return Yt(i)&&null!==i?` ${s}="${i}" `:""}function Nb(s){let i="";for(let e=0;e<s.length;e++)i+=cd(s[e][0],s[e][1]);return i}function DAe(s){let i="";for(let e=0;e<s.length;e++){let n=s[e][1];Yt(n)&&(i+=s[e][0]+":"+n+";")}if(""!==i)return i}const Pg={},qR="http://www.w3.org/2000/svg",u9="none",h9="data-style",OAe=s=>s.replace(/\sstyle=/g," "+h9+"="),TAe=s=>{Array.from(s.querySelectorAll("["+h9+"]")).forEach(i=>{const e=i.getAttribute(h9);i.removeAttribute(h9),((s,i)=>{s.split(";").filter(e=>""!==e).forEach(e=>{const n=e.split(":");i.style[n[0].trim()]=n[1].trim()})})(e,i)})};let MAe=function(s,i){s.innerHTML=OAe(i),TAe(s)};if(typeof document<"u"){const s="<svg xmlns='"+qR+"'></svg>",i=document.createElement("div"),e=typeof DOMParser<"u";i.innerHTML=s,e&&i.firstChild.namespaceURI!==qR&&(MAe=function(n,o){const a=(new DOMParser).parseFromString(OAe(o),"text/xml");TAe(a);const l=document.adoptNode(a.documentElement);n.innerHTML="",n.appendChild(l)})}const IAe=MAe,p9={clip:"clip-path",fill:"fill"};function AAe(s,i){return"clip"===s||"fill"===s&&(!i||"Gradient"===i.nodeType)}const Lb=class I6t extends d9{constructor(i,e){super(i),this.definitions={},this.options=e}destroy(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),super.destroy()}load(i,e){for(let n=0;n<i.length;n++){const o=i[n],r=o.children,a=new Pg[o.nodeType](o,this.options);Yt(e)?this.insertAt(a,e):this.append(a),a.createDefinitions(),r&&r.length>0&&a.load(r);const l=this.element;l&&a.attachTo(l,e)}}root(){let i=this;for(;i.parent;)i=i.parent;return i}attachTo(i,e){const n=document.createElement("div");IAe(n,"<svg xmlns='"+qR+"' version='1.1'>"+this.render()+"</svg>");const o=n.firstChild.firstChild;o&&(Yt(e)?i.insertBefore(o,i.childNodes[e]||null):i.appendChild(o),this.setElement(o))}setElement(i){this.element&&(this.element._kendoNode=null),this.element=i,this.element._kendoNode=this;const e=this.childNodes;for(let n=0;n<e.length;n++)e[n].setElement(i.childNodes[n])}clear(){this.clearDefinitions(),this.element&&(this.element.innerHTML="");const i=this.childNodes;for(let e=0;e<i.length;e++)i[e].destroy();this.childNodes=[]}removeSelf(){if(this.element){const i=this.element.parentNode;i&&i.removeChild(this.element),this.element=null}super.removeSelf()}template(){return this.renderChildren()}render(){return this.template()}renderChildren(){const i=this.childNodes;let e="";for(let n=0;n<i.length;n++)e+=i[n].render();return e}optionsChange(i){const{field:e,value:n}=i;"visible"===e?this.css("display",n?"":u9):p9[e]&&AAe(e,n)?this.updateDefinition(e,n):"opacity"===e?this.attr("opacity",n):"cursor"===e?this.css("cursor",n):"id"===e&&(n?this.attr("id",n):this.removeAttr("id")),super.optionsChange(i)}accessibilityOptionsChange(i){const{field:e,value:n}=i;"role"===e?n?this.attr("role",n):this.removeAttr("role"):"ariaLabel"===e?n?this.attr("aria-label",n):this.removeAttr("aria-label"):"ariaRoleDescription"===e?n?this.attr("aria-roledescription",n):this.removeAttr("aria-roledescription"):"ariaChecked"===e?Yt(n)?this.attr("aria-checked",n):this.removeAttr("aria-checked"):"className"===e&&this.className(n)}attr(i,e){this.element&&this.element.setAttribute(i,e)}allAttr(i){for(let e=0;e<i.length;e++)this.attr(i[e][0],i[e][1])}toggleAttr(i,e){e?this.attr(i,e):this.removeAttr(i)}css(i,e){this.element&&(this.element.style[i]=e)}allCss(i){for(let e=0;e<i.length;e++)this.css(i[e][0],i[e][1])}className(i){this.element&&(this.element.classList.remove(...this.element.classList),i.split(" ").forEach(e=>{this.element.classList.add(e)}))}removeAttr(i){this.element&&this.element.removeAttribute(i)}mapTransform(i){const e=[];return i&&e.push(["transform","matrix("+i.matrix().toString(6)+")"]),e}renderTransform(){return Nb(this.mapTransform(this.srcElement.transform()))}transformChange(i){i?this.allAttr(this.mapTransform(i)):this.removeAttr("transform")}mapStyle(){const i=this.srcElement.options,e=[["cursor",i.cursor]];return!1===i.visible&&e.push(["display",u9]),e}renderStyle(){return cd("style",DAe(this.mapStyle(!0)))}renderOpacity(){return cd("opacity",this.srcElement.options.opacity)}renderId(){return cd("id",this.srcElement.options.id)}renderClassName(){return cd("class",this.srcElement.options.className)}renderRole(){return cd("role",this.srcElement.options.role)}renderAriaLabel(){return cd("aria-label",this.srcElement.options.ariaLabel)}renderAriaRoleDescription(){return cd("aria-roledescription",this.srcElement.options.ariaRoleDescription)}renderAriaChecked(){return cd("aria-checked",this.srcElement.options.ariaChecked)}createDefinitions(){const i=this.srcElement,e=this.definitions;if(i){const n=i.options;let o;for(let r in p9){let a=n.get(r);a&&AAe(r,a)&&(e[r]=a,o=!0)}o&&this.definitionChange({action:"add",definitions:e})}}definitionChange(i){this.parent&&this.parent.definitionChange(i)}updateDefinition(i,e){const n=this.definitions,o=n[i],r=p9[i],a={};o&&(a[i]=o,this.definitionChange({action:"remove",definitions:a}),delete n[i]),e?(a[i]=e,this.definitionChange({action:"add",definitions:a}),n[i]=e,this.attr(r,this.refUrl(e.id))):o&&this.removeAttr(r)}clearDefinitions(){this.definitionChange({action:"remove",definitions:this.definitions}),this.definitions={}}renderDefinitions(){return Nb(this.mapDefinitions())}mapDefinitions(){const i=this.definitions,e=[];for(let n in i)e.push([p9[n],this.refUrl(i[n].id)]);return e}refUrl(i){const e=(this.options||{}).skipBaseHref,n=this.baseUrl().replace(/'/g,"\\'");return`url(${e?"":n}#${i})`}baseUrl(){return function M6t(){const s=document.getElementsByTagName("base")[0];let i=document.location.href,e="";if(s&&!(tp.browser||{}).msie){const n=i.indexOf("#");-1!==n&&(i=i.substring(0,n)),e=i}return e}()}},A6t=class x6t extends Lb{template(){return`<stop ${this.renderOffset()} ${this.renderStyle()} />`}renderOffset(){return cd("offset",this.srcElement.offset())}mapStyle(){const i=this.srcElement;return[["stop-color",i.color()],["stop-opacity",i.opacity()]]}optionsChange(i){"offset"===i.field?this.attr(i.field,i.value):("color"===i.field||"opacity"===i.field)&&this.css("stop-"+i.field,i.value)}},RAe=class R6t extends Lb{constructor(i){super(i),this.id=i.id,this.loadStops()}loadStops(){const i=this.srcElement.stops,e=this.element;for(let n=0;n<i.length;n++){let o=new A6t(i[n]);this.append(o),e&&o.attachTo(e)}}optionsChange(i){"gradient.stops"===i.field?(d9.prototype.clear.call(this),this.loadStops()):"gradient"===i.field&&this.allAttr(this.mapCoordinates())}renderCoordinates(){return Nb(this.mapCoordinates())}mapSpace(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}},L6t=class N6t extends RAe{template(){return`<linearGradient id='${this.id}' ${this.renderCoordinates()}>${this.renderChildren()}</linearGradient>`}mapCoordinates(){const i=this.srcElement,e=i.start(),n=i.end();return[["x1",e.x],["y1",e.y],["x2",n.x],["y2",n.y],this.mapSpace()]}},P6t=class G6t extends RAe{template(){return`<radialGradient id='${this.id}' ${this.renderCoordinates()}>${this.renderChildren()}</radialGradient>`}mapCoordinates(){const i=this.srcElement,e=i.center(),n=i.radius();return[["cx",e.x],["cy",e.y],["r",n],this.mapSpace()]}},U6t=class F6t extends Lb{constructor(i){super(),this.srcElement=i,this.id=i.id,this.load([i])}renderClipRule(){return cd("clip-rule","evenodd")}template(){return`<clipPath ${this.renderClipRule()} id='${this.id}'>${this.renderChildren()}</clipPath>`}},V6t=class B6t extends Lb{constructor(){super(),this.definitionMap={}}attachTo(i){this.element=i}template(){return`<defs>${this.renderChildren()}</defs>`}definitionChange(i){const{definitions:e,action:n}=i;"add"===n?this.addDefinitions(e):"remove"===n&&this.removeDefinitions(e)}createDefinition(i,e){let n;return"clip"===i?n=U6t:"fill"===i&&(e instanceof _7?n=L6t:e instanceof C7&&(n=P6t)),new n(e)}addDefinitions(i){for(let e in i)this.addDefinition(e,i[e])}addDefinition(i,e){const{element:n,definitionMap:o}=this,r=e.id,a=o[r];if(a)a.count++;else{const l=this.createDefinition(i,e);o[r]={element:l,count:1},this.append(l),n&&l.attachTo(this.element)}}removeDefinitions(i){for(let e in i)this.removeDefinition(i[e])}removeDefinition(i){const e=this.definitionMap,n=i.id,o=e[n];o&&(o.count--,0===o.count&&(this.remove(this.childNodes.indexOf(o.element),1),delete e[n]))}},NAe=class z6t extends Lb{constructor(i){super(),this.options=i,this.defs=new V6t}attachTo(i){this.element=i,this.defs.attachTo(i.firstElementChild)}clear(){d9.prototype.clear.call(this)}template(){return this.defs.render()+this.renderChildren()}definitionChange(i){this.defs.definitionChange(i)}},LAe={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},j6t={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},Gb=class H6t extends Lb{geometryChange(){this.attr("d",this.renderData()),this.invalidate()}optionsChange(i){switch(i.field){case"fill":i.value?this.allAttr(this.mapFill(i.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:i.value}));break;case"stroke":i.value?this.allAttr(this.mapStroke(i.value)):this.removeAttr("stroke");break;case"transform":this.transformChange(i.value);break;default:const e=j6t[i.field];e&&this.attr(e,i.value)}this.accessibilityOptionsChange(i),super.optionsChange(i)}content(){this.element&&(this.element.textContent=this.srcElement.content())}renderData(){return this.srcElement.toString(3)||void 0}mapStroke(i){const e=[];return i&&!Qw(i.color)?(e.push(["stroke",i.color]),e.push(["stroke-width",i.width]),e.push(["stroke-linecap",this.renderLinecap(i)]),e.push(["stroke-linejoin",i.lineJoin]),Yt(i.opacity)&&e.push(["stroke-opacity",i.opacity]),Yt(i.dashType)&&e.push(["stroke-dasharray",this.renderDashType(i)])):e.push(["stroke",u9]),e}renderStroke(){return Nb(this.mapStroke(this.srcElement.options.stroke))}renderDashType(i){const{dashType:e,width:n=1}=i;if(e&&"solid"!==e){const o=LAe[e.toLowerCase()],r=[];for(let a=0;a<o.length;a++)r.push(o[a]*n);return r.join(" ")}}renderLinecap(i){const{dashType:e,lineCap:n}=i;return e&&"solid"!==e?"butt":n}mapFill(i){const e=[];return i&&"Gradient"===i.nodeType||(i&&!Qw(i.color)?(e.push(["fill",i.color]),Yt(i.opacity)&&e.push(["fill-opacity",i.opacity])):e.push(["fill",u9])),e}renderFill(){return Nb(this.mapFill(this.srcElement.options.fill))}template(){return`<path ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()} ${cd("d",this.renderData())}${this.renderStroke()}${this.renderFill()}${this.renderDefinitions()}${this.renderTransform()}${this.renderClassName()} ${this.renderRole()}${this.renderAriaLabel()} ${this.renderAriaRoleDescription()}${this.renderAriaChecked()} ></path>`}},q6t=/&/g,Q6t=/</g,Z6t=/"/g,eNt=/'/g,tNt=/>/g;function Aoe(s){return String(s).replace(q6t,"&amp;").replace(Q6t,"&lt;").replace(tNt,"&gt;").replace(Z6t,"&quot;").replace(eNt,"&#39;")}const Roe=/&(?:[a-zA-Z]+|#\d+);/g;function Noe(s){if(!s||"string"!=typeof s||!Roe.test(s))return s;const i=Noe._element;return Roe.lastIndex=0,s.replace(Roe,e=>(i.innerHTML=e,i.textContent||i.innerText))}typeof document<"u"&&(Noe._element=document.createElement("span"));Pg.Arc=class $6t extends Gb{renderData(){return this.srcElement.toPath().toString(3)}},Pg.Circle=class W6t extends Gb{geometryChange(){const i=this.center();this.attr("cx",i.x),this.attr("cy",i.y),this.attr("r",this.radius()),this.invalidate()}center(){return this.srcElement.geometry().center}radius(){return this.srcElement.geometry().radius}template(){return`<circle ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()}cx='${this.center().x}' cy='${this.center().y}' r='${this.radius()}'${this.renderStroke()} ${this.renderFill()} ${this.renderDefinitions()}${this.renderClassName()} ${this.renderRole()}${this.renderAriaLabel()} ${this.renderAriaRoleDescription()}${this.renderAriaChecked()} ${this.renderTransform()} ></circle>`}},Pg.Group=class K6t extends Lb{template(){return`<g${this.renderId()+this.renderTransform()+this.renderClassName()+this.renderStyle()+this.renderOpacity()+this.renderRole()+this.renderAriaLabel()+this.renderAriaRoleDescription()+this.renderAriaChecked()+this.renderDefinitions()}>${this.renderChildren()}</g>`}optionsChange(i){const{field:e,value:n}=i;"transform"===e&&this.transformChange(n),this.accessibilityOptionsChange(i),super.optionsChange(i)}},Pg.Image=class nNt extends Gb{geometryChange(){this.allAttr(this.mapPosition()),this.invalidate()}optionsChange(i){"src"===i.field&&this.allAttr(this.mapSource()),super.optionsChange(i)}mapPosition(){const i=this.srcElement.rect(),e=i.topLeft();return[["x",e.x],["y",e.y],["width",i.width()+"px"],["height",i.height()+"px"]]}renderPosition(){return Nb(this.mapPosition())}mapSource(i){let e=this.srcElement.src();return i&&(e=Aoe(e)),[["xlink:href",e]]}renderSource(){return Nb(this.mapSource(!0))}template(){return`<image preserveAspectRatio='none' ${this.renderId()} ${this.renderStyle()} ${this.renderTransform()} ${this.renderOpacity()}${this.renderPosition()} ${this.renderSource()} ${this.renderDefinitions()}${this.renderClassName()} ${this.renderRole()}${this.renderAriaLabel()} ${this.renderAriaRoleDescription()}${this.renderAriaChecked()} ></image>`}},Pg.MultiPath=class sNt extends Gb{renderData(){return this.srcElement.toString(3)||"undefined"}},Pg.Path=Gb,Pg.Rect=class rNt extends Gb{geometryChange(){const i=this.srcElement.geometry();this.attr("x",i.origin.x),this.attr("y",i.origin.y),this.attr("width",i.size.width),this.attr("height",i.size.height),this.attr("rx",i.cornerRadius[0]),this.attr("ry",i.cornerRadius[1]),this.invalidate()}size(){return this.srcElement.geometry().size}origin(){return this.srcElement.geometry().origin}rx(){return this.srcElement.geometry().cornerRadius[0]}ry(){return this.srcElement.geometry().cornerRadius[1]}template(){return`<rect ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()} x='${this.origin().x}' y='${this.origin().y}' rx='${this.rx()}' ry='${this.ry()}' width='${this.size().width}' height='${this.size().height}' ${this.renderStroke()} ${this.renderFill()} ${this.renderDefinitions()} ${this.renderTransform()}${this.renderClassName()} ${this.renderRole()}${this.renderAriaLabel()} ${this.renderAriaRoleDescription()}${this.renderAriaChecked()} />`}},Pg.Text=class lNt extends Gb{geometryChange(){const i=this.pos();this.attr("x",i.x),this.attr("y",i.y),this.invalidate()}optionsChange(i){"font"===i.field?(this.attr("style",DAe(this.mapStyle())),this.geometryChange()):"content"===i.field&&super.content(this.srcElement.content()),super.optionsChange(i)}mapStyle(i){const e=super.mapStyle(i);let n=this.srcElement.options.font;return i&&(n=Aoe(n)),e.push(["font",n],["white-space","pre"]),e}pos(){const i=this.srcElement.position(),e=this.srcElement.measure();return i.clone().setY(i.y+e.baseline)}renderContent(){let i=this.srcElement.content();return i=Noe(i),i=Aoe(i),Bve(i)}renderTextAnchor(){let i;return(this.options||{}).rtl&&!(tp.browser.msie||tp.browser.edge)&&(i="end"),cd("text-anchor",i)}renderPaintOrder(){const i=this.srcElement.options.paintOrder;return i?cd("paint-order",i):""}template(){return`<text ${this.renderId()} ${this.renderTextAnchor()} ${this.renderStyle()} ${this.renderOpacity()}x='${this.pos().x}' y='${this.pos().y}' ${this.renderStroke()} ${this.renderTransform()} ${this.renderDefinitions()}${this.renderPaintOrder()}${this.renderFill()}${this.renderClassName()} ${this.renderRole()}${this.renderAriaLabel()} ${this.renderAriaRoleDescription()}${this.renderAriaChecked()}>${this.renderContent()}</text>`}};const pNt=class hNt extends Moe{get type(){return"svg"}constructor(i,e){super(i,e),this._root=new NAe(Object.assign({rtl:"rtl"===Qq(i,"direction").direction},this.options)),IAe(this.element,this._template("")),this._rootElement=this.element.firstElementChild,this._rootElement.style.width="100%",this._rootElement.style.height="100%",this._rootElement.style.overflow="hidden",function uNt(s){let i;try{i=s.getScreenCTM?s.getScreenCTM():null}catch{}if(i){const e=-i.e%1,n=-i.f%1,o=s.style;(0!==e||0!==n)&&(o.left=e+"px",o.top=n+"px")}}(this._rootElement),this._root.attachTo(this._rootElement),qq(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove}),this.resize()}destroy(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,Zq(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})),super.destroy()}translate(i){const e=`${Math.round(i.x)} ${Math.round(i.y)} ${this._size.width} ${this._size.height}`;this._offset=i,this._rootElement.setAttribute("viewBox",e)}draw(i){super.draw(i),this._root.load([i])}clear(){super.clear(),this._root.clear()}svg(){return"<?xml version='1.0' ?>"+this._template()}exportVisual(){let{_visual:i,_offset:e}=this;if(e){const n=new Vn;n.children.push(i),n.transform(Ui().translate(-e.x,-e.y)),i=n}return i}_resize(){this._offset&&this.translate(this._offset)}_template(i){return`<svg ${"string"==typeof i?i:"style='width: 100%; height: 100%; overflow: hidden;' "}xmlns='${qR}' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>${this._root.render()}</svg>`}},ym={},PAe=class mNt extends d9{constructor(i){super(i),i&&this.initClip()}initClip(){const i=this.srcElement.clip();i&&(this.clip=i,i.addObserver(this))}clear(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),super.clear()}clearClip(){this.clip&&(this.clip.removeObserver(this),delete this.clip)}setClip(i){this.clip&&(i.beginPath(),new ym[this.clip.nodeType](this.clip).renderPoints(i,this.clip),i.clip("evenodd"))}optionsChange(i){"clip"===i.field&&(this.clearClip(),this.initClip()),super.optionsChange(i)}setTransform(i){if(this.srcElement){const e=this.srcElement.transform();e&&i.transform.apply(i,e.matrix().toArray(6))}}loadElements(i,e,n){for(let o=0;o<i.length;o++){let r=i[o],a=r.children,l=new ym[r.nodeType](r,n);a&&a.length>0&&l.load(a,e,n),Yt(e)?this.insertAt(l,e):this.append(l)}}load(i,e,n){this.loadElements(i,e,n),this.invalidate()}setOpacity(i){if(this.srcElement){const e=this.srcElement.opacity();Yt(e)&&this.globalAlpha(i,e)}}globalAlpha(i,e){let n=e;n&&i.globalAlpha&&(n*=i.globalAlpha),i.globalAlpha=n}visible(){const i=this.srcElement;return!i||i&&!1!==i.options.visible}};class _Nt extends(nte(PAe,"childNodes")){renderTo(i){if(!this.visible())return;i.save(),this.setTransform(i),this.setClip(i),this.setOpacity(i);const e=this.childNodes;for(let n=0;n<e.length;n++){let o=e[n];o.visible()&&o.renderTo(i)}i.restore()}}const FAe=_Nt;function f9(s,i){let n,e=0;if(!i||i<=0)return s;const o=function(){const r=wV()-e,a=arguments,l=function(){s.apply(null,a),e=wV()};if(!e)return l();n&&clearTimeout(n),r>i?l():n=setTimeout(l,i-r)};return o.cancel=function(){clearTimeout(n)},o}class vNt extends(nte(FAe,"childNodes")){constructor(i,e){super(),this.canvas=i,this.size=e,this.ctx=i.getContext("2d");const n=this._invalidate.bind(this);this.invalidate=f9(()=>{RIe(n)},16.666666666666668)}destroy(){super.destroy(),this.canvas=null,this.ctx=null}load(i,e,n){this.loadElements(i,e,n),this._invalidate()}_rescale(i){const{canvas:e,size:n}=this;e.width=n.width*i,e.height=n.height*i,this.ctx.scale(i,i)}_devicePixelRatio(){return"number"==typeof window.devicePixelRatio?window.devicePixelRatio:1}_invalidate(i){if(!this.ctx)return;const n=i&&i.fixedScale?1:this._devicePixelRatio();this._rescale(n),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx)}}const SNt=vNt,UAe=class CNt extends ft{constructor(){super(),this.shapes=[]}_add(i,e){this.shapes.push({bbox:e,shape:i}),i._quadNode=this}pointShapes(i){const e=this.shapes,n=e.length,o=[];for(let r=0;r<n;r++)e[r].bbox.containsPoint(i)&&o.push(e[r].shape);return o}insert(i,e){this._add(i,e)}remove(i){const e=this.shapes,n=e.length;for(let o=0;o<n;o++)if(e[o].shape===i){e.splice(o,1);break}}};class rO extends UAe{constructor(i){super(),this.children=[],this.rect=i}inBounds(i){const e=this.rect,n=e.bottomRight(),o=i.bottomRight();return e.origin.x<=i.origin.x&&e.origin.y<=i.origin.y&&o.x<=n.x&&o.y<=n.y}pointShapes(i){const e=this.children,n=e.length,o=super.pointShapes(i);for(let r=0;r<n;r++)ux(o,e[r].pointShapes(i));return o}insert(i,e){const n=this.children;let o=!1;if(this.inBounds(e)){if(this.shapes.length<4)this._add(i,e);else{n.length||this._initChildren();for(let r=0;r<n.length;r++)if(n[r].insert(i,e)){o=!0;break}o||this._add(i,e)}o=!0}return o}_initChildren(){const{rect:i,children:e}=this,n=i.center(),o=i.width()/2,r=i.height()/2;e.push(new rO(new On([i.origin.x,i.origin.y],[o,r])),new rO(new On([n.x,i.origin.y],[o,r])),new rO(new On([i.origin.x,n.y],[o,r])),new rO(new On([n.x,n.y],[o,r])))}}const bNt=rO,km=3e3;function kNt(s,i){return s._zIndex<i._zIndex?1:s._zIndex>i._zIndex?-1:0}const VAe=class yNt extends ft{constructor(){super(),this.initRoots()}initRoots(){this.rootMap={},this.root=new UAe,this.rootElements=[]}clear(){const i=this.rootElements;for(let e=0;e<i.length;e++)this.remove(i[e]);this.initRoots()}pointShape(i){const e=(this.rootMap[Math.floor(i.x/km)]||{})[Math.floor(i.y/km)];let n=this.root.pointShapes(i);e&&(n=n.concat(e.pointShapes(i))),this.assignZindex(n),n.sort(kNt);for(let o=0;o<n.length;o++)if(n[o].containsPoint(i))return n[o]}assignZindex(i){for(let e=0;e<i.length;e++){let n=i[e],o=0,r=Math.pow(1e4,75),a=[];for(;n;)a.push(n),n=n.parent;for(;a.length;)n=a.pop(),o+=((n.parent?n.parent.children:this.rootElements).indexOf(n)+1)*r,r/=1e4;i[e]._zIndex=o}}optionsChange(i){("transform"===i.field||"stroke.width"===i.field)&&this.bboxChange(i.element)}geometryChange(i){this.bboxChange(i.element)}bboxChange(i){if("Group"===i.nodeType)for(let e=0;e<i.children.length;e++)this.bboxChange(i.children[e]);else i._quadNode&&i._quadNode.remove(i),this._insertShape(i)}add(i){const e=Array.isArray(i)?i.slice(0):[i];ux(this.rootElements,e),this._insert(e)}childrenChange(i){if("remove"===i.action)for(let e=0;e<i.items.length;e++)this.remove(i.items[e]);else this._insert(Array.prototype.slice.call(i.items,0))}_insert(i){let e;for(;i.length>0;)e=i.pop(),e.addObserver(this),"Group"===e.nodeType?ux(i,e.children):this._insertShape(e)}_insertShape(i){const e=i.bbox();if(e){const n=this.getSectors(e),o=n[0][0],r=n[1][0];if(this.inRoot(n))this.root.insert(i,e);else{const a=this.rootMap;a[o]||(a[o]={}),a[o][r]||(a[o][r]=new bNt(new On([o*km,r*km],[km,km]))),a[o][r].insert(i,e)}}}remove(i){if(i.removeObserver(this),"Group"===i.nodeType){const e=i.children;for(let n=0;n<e.length;n++)this.remove(e[n])}else i._quadNode&&(i._quadNode.remove(i),delete i._quadNode)}inRoot(i){return i[0].length>1||i[1].length>1}getSectors(i){const e=i.bottomRight(),n=Math.floor(e.x/km),o=Math.floor(e.y/km),r=[[],[]];for(let a=Math.floor(i.origin.x/km);a<=n;a++)r[0].push(a);for(let a=Math.floor(i.origin.y/km);a<=o;a++)r[1].push(a);return r}},DNt=class wNt{constructor(i){i.bind("mouseenter",this._mouseenter.bind(this)),i.bind("mouseleave",this._mouseleave.bind(this)),this.element=i.element}clear(){this._resetCursor()}destroy(){this._resetCursor(),delete this.element}_mouseenter(i){const e=this._shapeCursor(i);e?(this._current||(this._defaultCursor=this._getCursor()),this._setCursor(e)):this._resetCursor()}_mouseleave(){this._resetCursor()}_shapeCursor(i){let e=i.element;for(;e&&!Yt(e.options.cursor);)e=e.parent;if(e)return e.options.cursor}_getCursor(){if(this.element)return this.element.style.cursor}_setCursor(i){this.element&&(this.element.style.cursor=i,this._current=i)}_resetCursor(){this._current&&(this._setCursor(this._defaultCursor||""),delete this._current)}};function Loe(s,i){const e=i.segments;if(0===e.length)return;let n=e[0],o=n.anchor();s.moveTo(o.x,o.y);for(let r=1;r<e.length;r++){n=e[r],o=n.anchor();let l=e[r-1].controlOut(),c=n.controlIn();l&&c?s.bezierCurveTo(l.x,l.y,c.x,c.y,o.x,o.y):s.lineTo(o.x,o.y)}i.options.closed&&s.closePath()}const Pb=class TNt extends PAe{renderTo(i){i.save(),this.setTransform(i),this.setClip(i),this.setOpacity(i),i.beginPath(),this.renderPoints(i,this.srcElement),this.setLineDash(i),this.setLineCap(i),this.setLineJoin(i),this.setFill(i),this.setStroke(i),i.restore()}setFill(i){const e=this.srcElement.options.fill;let n=!1;return e&&("Gradient"===e.nodeType?(this.setGradientFill(i,e),n=!0):Qw(e.color)||(i.fillStyle=e.color,i.save(),this.globalAlpha(i,e.opacity),i.fill(),i.restore(),n=!0)),n}setGradientFill(i,e){const n=this.srcElement.rawBBox();let o;if(e instanceof _7){let r=e.start(),a=e.end();o=i.createLinearGradient(r.x,r.y,a.x,a.y)}else if(e instanceof C7){let r=e.center();o=i.createRadialGradient(r.x,r.y,0,r.x,r.y,e.radius())}(function ONt(s,i){for(let e=0;e<i.length;e++){let n=i[e],o=zu(n.color());o.a*=n.opacity(),s.addColorStop(n.offset(),o.toCssRgba())}})(o,e.stops),i.save(),e.userSpace()||i.transform(n.width(),0,0,n.height(),n.origin.x,n.origin.y),i.fillStyle=o,i.fill(),i.restore()}setStroke(i){const e=this.srcElement.options.stroke;if(e&&!Qw(e.color)&&e.width>0)return i.strokeStyle=e.color,i.lineWidth=XF(e.width,1),i.lineJoin=XF(e.lineJoin,i.lineJoin),i.save(),this.globalAlpha(i,e.opacity),i.stroke(),i.restore(),!0}dashType(){const i=this.srcElement.options.stroke;if(i&&i.dashType)return i.dashType.toLowerCase()}setLineDash(i){const e=this.dashType();if(e&&"solid"!==e){const n=LAe[e];i.setLineDash?i.setLineDash(n):(i.mozDash=n,i.webkitLineDash=n)}}setLineCap(i){const e=this.dashType(),n=this.srcElement.options.stroke;e&&"solid"!==e?i.lineCap="butt":n&&n.lineCap&&(i.lineCap=n.lineCap)}setLineJoin(i){const e=this.srcElement.options.stroke;e&&e.lineJoin&&(i.lineJoin=e.lineJoin)}renderPoints(i,e){Loe(i,e)}};ym.Arc=class MNt extends Pb{renderPoints(i){Loe(i,this.srcElement.toPath())}},ym.Circle=class xNt extends Pb{renderPoints(i){const{center:e,radius:n}=this.srcElement.geometry();i.arc(e.x,e.y,n,0,2*Math.PI)}},ym.Group=FAe,ym.Image=class RNt extends Pb{constructor(i,e){super(i),this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.loading=qw();const n=this.img=new Image,o=i.src();e&&!/^data:/i.test(o)&&(n.crossOrigin=e),o&&(n.src=o),n.complete?this.onLoad():(n.onload=this.onLoad,n.onerror=this.onError)}renderTo(i){"resolved"===this.loading.state()&&(i.save(),this.setTransform(i),this.setClip(i),this.drawImage(i),i.restore())}optionsChange(i){"src"===i.field?(this.loading=qw(),this.img.src=this.srcElement.src()):super.optionsChange(i)}onLoad(){this.loading.resolve(),this.invalidate()}onError(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))}drawImage(i){const e=this.srcElement.rect(),n=e.topLeft();i.drawImage(this.img,n.x,n.y,e.width(),e.height())}},ym.MultiPath=class LNt extends Pb{renderPoints(i){const e=this.srcElement.paths;for(let n=0;n<e.length;n++)Loe(i,e[n])}},ym.Path=Pb,ym.Rect=class PNt extends Pb{renderPoints(i){const e=this.srcElement.geometry(),[n,o]=e.cornerRadius;if(0===n&&0===o){const{origin:r,size:a}=e;i.rect(r.x,r.y,a.width,a.height)}else super.renderPoints(i,ct.fromRect(e))}},ym.Text=class UNt extends Pb{renderTo(i){const e=this.srcElement,n=e.position(),o=e.measure();i.save(),this.setTransform(i),this.setClip(i),this.setOpacity(i),i.beginPath(),i.font=e.options.font,i.textAlign="left","stroke"===e.options.paintOrder?(this.stroke(i,e,n,o),this.fill(i,e,n,o)):(this.fill(i,e,n,o),this.stroke(i,e,n,o)),i.restore()}stroke(i,e,n,o){this.setStroke(i)&&(this.setLineDash(i),i.strokeText(e.content(),n.x,n.y+o.baseline))}fill(i,e,n,o){this.setFill(i)&&i.fillText(e.content(),n.x,n.y+o.baseline)}};const zAe=class VNt extends Moe{get type(){return"canvas"}constructor(i,e){super(i,e),this.element.innerHTML=this._template(this);const n=this.element.firstElementChild;n.style.width="100%",n.style.height="100%";const o=hx(i);n.width=o.width,n.height=o.height,this._rootElement=n,this._root=new SNt(n,o),this._mouseTrackHandler=this._trackMouse.bind(this),qq(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}destroy(){super.destroy(),this._root&&(this._root.destroy(),this._root=null),this._searchTree&&(this._searchTree.clear(),delete this._searchTree),this._cursor&&(this._cursor.destroy(),delete this._cursor),Zq(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}draw(i){super.draw(i),this._root.load([i],void 0,this.options.cors),this._searchTree&&this._searchTree.add([i])}clear(){super.clear(),this._root.clear(),this._searchTree&&this._searchTree.clear(),this._cursor&&this._cursor.clear()}eventTarget(i){if(this._searchTree){const e=this._surfacePoint(i);return this._searchTree.pointShape(e)}}image(){const{_root:i,_rootElement:e}=this,n=[];i.traverse(a=>{a.loading&&n.push(a.loading)});const o=qw(),r=()=>{i._invalidate({fixedScale:!0});try{const a=e.toDataURL();o.resolve(a)}catch(a){o.reject(a)}};return function fNt(s){return Promise.all(s)}(n).then(r,r),o}suspendTracking(){super.suspendTracking(),this._searchTree&&(this._searchTree.clear(),delete this._searchTree)}resumeTracking(){if(super.resumeTracking(),!this._searchTree){this._searchTree=new VAe;const i=this._root.childNodes,e=[];for(let n=0;n<i.length;n++)e.push(i[n].srcElement);this._searchTree.add(e)}}_resize(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.size=this._size,this._root.invalidate()}_template(){return"<canvas></canvas>"}_enableTracking(){this._searchTree=new VAe,this._cursor=new DNt(this),super._enableTracking()}_trackMouse(i){if(this._suspendedTracking)return;const e=this.eventTarget(i);if("click"!==i.type){const n=this._currentShape;n&&n!==e&&this.trigger("mouseleave",{element:n,originalEvent:i,type:"mouseleave"}),e&&n!==e&&this.trigger("mouseenter",{element:e,originalEvent:i,type:"mouseenter"}),this.trigger("mousemove",{element:e,originalEvent:i,type:"mousemove"}),this._currentShape=e}else e&&this.trigger("click",{element:e,originalEvent:i,type:"click"})}};let Goe,Poe;const jAe=()=>typeof document<"u";class Foe extends ft{static get support(){return Poe||(Poe={canvas:jAe()&&document.createElement("canvas").getContext,svg:jAe()&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}),Poe}static get current(){return Goe||(Goe=new Foe),Goe}constructor(){super(),this._items=[{name:"svg",type:pNt},{name:"canvas",type:zAe}]}create(i,e){const n=this._items;let o=n[0];if(e&&e.type){const r=e.type.toLowerCase();for(let a=0;a<n.length;a++)if(n[a].name===r){o=n[a];break}}if(o)return new o.type(i,e);CIe(`Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n- The browser does not support SVG and Canvas. User agent: ${navigator.userAgent}`)}}const HAe=Foe,aO=class HNt extends Moe{static get support(){return HAe.support}static create(i,e){return HAe.current.create(i,e)}};function XNt(){this._defaultPrevented=!0}const WNt=class $Nt extends ft{constructor(){super(),this._points=[]}destroy(){this._points=[]}show(i,e){const n=[].concat(i);this.hide();for(let o=0;o<n.length;o++){const r=n[o];r&&r.toggleHighlight&&r.hasHighlight()&&(this.togglePointHighlight(r,!0,e),this._points.push(r))}}togglePointHighlight(i,e,n){const o=(i.options.highlight||{}).toggle;if(o){const r={category:i.category,series:i.series,dataItem:i.dataItem,value:i.value,stackValue:i.stackValue,preventDefault:XNt,visual:i.highlightVisual(),show:e};o(r),r._defaultPrevented||i.toggleHighlight(e,n)}else i.toggleHighlight(e,n)}hide(){const i=this._points;for(;i.length;)this.togglePointHighlight(i.pop(),!1)}isHighlighted(i){const e=this._points;for(let n=0;n<e.length;n++)if(i===e[n])return!0;return!1}};function $Ae(s,i){const e=(i||"").toLowerCase(),n=s.event;return"none"===e&&!(n.ctrlKey||n.shiftKey||n.altKey)||n[e+"Key"]}function Uoe(s){const i={};for(let e=0;e<s.length;e++){const n=s[e];n.axis.options.name&&(i[n.axis.options.name]={min:n.range.min,max:n.range.max})}return i}class XAe extends ft{constructor(i,e){super(),this.plotArea=i,this.options=K({},this.options,e)}start(i){return this._active=$Ae(i,this.options.key),this._active}move(i){if(this._active){const e=this.axisRanges=this._panAxes(i,kt).concat(this._panAxes(i,Ot));if(e.length)return this.axisRanges=e,Uoe(e)}}end(){const i=this._active;return this._active=!1,i}pan(){const{plotArea:i,axisRanges:e}=this;if(e.length){for(let n=0;n<e.length;n++){const o=e[n];i.updateAxisOptions(o.axis,o.range)}i.redraw(i.panes)}}destroy(){delete this.plotArea}_panAxes(i,e){const n=this.plotArea,o=-i[e].delta,r=(this.options.lock||"").toLowerCase(),a=[];if(0!==o&&(r||"").toLowerCase()!==e){const l=n.axes;for(let c=0;c<l.length;c++){const u=l[c];if(e===kt&&!u.options.vertical||e===Ot&&u.options.vertical){const f=u.pan(o);f&&(f.limitRange=!0,a.push({axis:u,range:f}))}}}return a}}XAe.prototype.options={key:"none",lock:"none"};const YNt=XAe;class WAe extends ft{constructor(i,e){super(),this.chart=i,this.options=K({},this.options,e),this.createElement()}createElement(){const i=this._marquee=document.createElement("div");i.className="k-marquee";const e=document.createElement("div");e.className="k-marquee-color",i.appendChild(e)}removeElement(){this._marquee.parentNode&&this._marquee.parentNode.removeChild(this._marquee)}setStyles(i){uo(this._marquee,i)}start(i){if($Ae(i,this.options.key)){const e=this.chart,n=e._eventCoordinates(i),o=this._zoomPane=e._plotArea.paneByPoint(n),r=o?o.chartsBox().clone():null;if(o&&r){const a=this._elementOffset();return r.translate(a.left,a.top),this._zoomPaneClipBox=r,document.body.appendChild(this._marquee),this.setStyles({left:i.pageX+1,top:i.pageY+1,width:0,height:0}),!0}}return!1}_elementOffset(){const i=this.chart.element,{paddingLeft:e,paddingTop:n}=uo(i,["paddingLeft","paddingTop"]),o=ND(i);return{left:e+o.left,top:n+o.top}}move(i){this._zoomPane&&this.setStyles(this._selectionPosition(i))}end(i){if(this._zoomPane){const n=this._elementOffset(),o=this._selectionPosition(i);return o.left-=n.left,o.top-=n.top,this._updateAxisRanges({x:o.left,y:o.top},{x:o.left+o.width,y:o.top+o.height}),this.removeElement(),delete this._zoomPane,Uoe(this.axisRanges)}}zoom(){const i=this.axisRanges;if(i&&i.length){const e=this.chart._plotArea;for(let n=0;n<i.length;n++){const o=i[n];e.updateAxisOptions(o.axis,o.range)}e.redraw(e.panes)}}destroy(){this.removeElement(),delete this._marquee,delete this.chart}_updateAxisRanges(i,e){const n=(this.options.lock||"").toLowerCase(),o=[],r=this._zoomPane.axes;for(let a=0;a<r.length;a++){const l=r[a],c=l.options.vertical;if((n!==kt||c)&&(n!==Ot||!c)&&ge(l.axisIndex)){const u=l.pointsRange(i,e);u&&o.push({axis:l,range:u})}}this.axisRanges=o}_selectionPosition(i){const e=this._zoomPaneClipBox,n={x:i.x.startLocation,y:i.y.startLocation},{x:{location:o},y:{location:r}}=i,a=(this.options.lock||"").toLowerCase();let l=Math.min(n.x,o),c=Math.min(n.y,r),u=Math.abs(n.x-o),f=Math.abs(n.y-r);return a===kt&&(l=e.x1,u=e.width()),a===Ot&&(c=e.y1,f=e.height()),o>e.x2&&(u=e.x2-n.x),o<e.x1&&(u=n.x-e.x1),r>e.y2&&(f=e.y2-n.y),r<e.y1&&(f=n.y-e.y1),{left:Math.max(l,e.x1),top:Math.max(c,e.y1),width:u,height:f}}}WAe.prototype.options={key:"shift",lock:"none"};const KNt=WAe,e8t=class ZNt extends ft{constructor(i,e){super(),this.chart=i,this.options=K({rate:.3},this.options,e)}updateRanges(i,e){const n=(this.options.lock||"").toLowerCase(),o=[],r=this.chart._plotArea.axes;for(let a=0;a<r.length;a++){const l=r[a],c=l.options.vertical;if((n!==kt||c)&&(n!==Ot||!c)&&l.zoomRange){const u=Vt(this.options.rate,.01,.9),f=l.zoomRange(-i*u,e);f&&o.push({axis:l,range:f})}}return this.axisRanges=o,Uoe(o)}zoom(){const i=this.axisRanges,e=this.chart._plotArea;if(i&&i.length&&e.updateAxisOptions){for(let n=0;n<i.length;n++){const o=i[n];e.updateAxisOptions(o.axis,o.range)}e.redraw(e.panes)}}destroy(){delete this.chart}};function m9(s,i,e,n,o){let r;return r="start"===e?i.origin[n]:"end"===e?i.origin[n]+i.size[o]-s:i.origin[n]+(i.size[o]-s)/2,r}function n8t(s,i,e,n,o){let r;return r="start"===e?i.origin[n]+i.size[o]-s:"end"===e?i.origin[n]:i.origin[n]+(i.size[o]-s)/2,r}const i8t={alignContent:"start",justifyContent:"start",alignItems:"start",spacing:0,orientation:"horizontal",lineSpacing:0,wrap:!0,revers:!1},s8t=(s,i)=>{s.forEach(i)},o8t=(s,i)=>{for(let n=s.length-1;n>=0;n--)i(s[n],n)},a8t=class r8t extends Vn{constructor(i,e){super(Object.assign({},i8t,e)),this._rect=i,this._fieldMap={}}rect(i){return i?(this._rect=i,this):this._rect}_initMap(){const i=this.options,e=this._fieldMap;"horizontal"===i.orientation?(e.sizeField="width",e.groupsSizeField="height",e.groupAxis="x",e.groupsAxis="y"):(e.sizeField="height",e.groupsSizeField="width",e.groupAxis="y",e.groupsAxis="x"),i.reverse?(this.forEach=o8t,this.justifyAlign=n8t):(this.forEach=s8t,this.justifyAlign=m9)}reflow(){if(!this._rect||0===this.children.length)return;this._initMap(),this.options.transform&&this.transform(null);const i=this.options,e=this._rect,{groups:n,groupsSize:o}=this._initGroups(),{sizeField:r,groupsSizeField:a,groupAxis:l,groupsAxis:c}=this._fieldMap,u=new Ie,f=new Ie,_=new v0;let S,b,k,g=m9(o,e,i.alignContent,c,a);const D=(O,I)=>{const N=b.elements[I];f[l]=S,f[c]=m9(O.size[a],k,i.alignItems,c,a),function t8t(s,i,e){const n=e.transform()||Ui(),o=n.matrix();o.e+=s.x-i.origin.x,o.f+=s.y-i.origin.y,n.matrix(o),e.transform(n)}(f,O,N),S+=O.size[r]+i.spacing};for(let O=0;O<n.length;O++)b=n[O],u[l]=S=this.justifyAlign(b.size,e,i.justifyContent,l,r),u[c]=g,_[r]=b.size,_[a]=b.lineSize,k=new On(u,_),this.forEach(b.bboxes,D),g+=b.lineSize+i.lineSpacing;if(!i.wrap&&b.size>e.size[r]){const O=e.size[r]/k.size[r],I=k.topLeft().scale(O,O),P=m9(k.size[a]*O,e,i.alignContent,c,a),G=Ui();"x"===l?G.translate(e.origin.x-I.x,P-I.y):G.translate(P-I.x,e.origin.y-I.y),G.scale(O,O),this.transform(G)}}_initGroups(){const{options:i,children:e}=this,{lineSpacing:n,wrap:o,spacing:r}=i,a=this._fieldMap.sizeField;let l=this._newGroup();const c=[],u=function(){c.push(l),f+=l.lineSize+n};let f=-n;for(let _=0;_<e.length;_++){let g=e[_],S=e[_].clippedBBox();g.visible()&&S&&(o&&l.size+S.size[a]+r>this._rect.size[a]?0===l.bboxes.length?(this._addToGroup(l,S,g),u(),l=this._newGroup()):(u(),l=this._newGroup(),this._addToGroup(l,S,g)):this._addToGroup(l,S,g))}return l.bboxes.length&&u(),{groups:c,groupsSize:f}}_addToGroup(i,e,n){i.size+=e.size[this._fieldMap.sizeField]+this.options.spacing,i.lineSize=Math.max(e.size[this._fieldMap.groupsSizeField],i.lineSize),i.bboxes.push(e),i.elements.push(n)}_newGroup(){return{lineSize:0,size:-this.options.spacing,bboxes:[],elements:[]}}},c8t=class l8t extends Ki{constructor(i,e){super(i),this.chartService=e}render(){const{children:i,options:e}=this,n=e.vertical;this.visual=new a8t(null,{spacing:n?0:e.spacing,lineSpacing:n?e.spacing:0,orientation:n?"vertical":cse,reverse:e.rtl,alignItems:n?fV:Cn});for(let o=0;o<i.length;o++){let r=i[o];r.reflow(new ze),r.renderVisual()}}reflow(i){this.visual.rect(i.toRect()),this.visual.reflow();const e=this.visual.clippedBBox();this.box=e?UD(e):new ze}renderVisual(){this.addVisual()}createVisual(){}};class YAe extends kl{visualStyle(){const i=this.markerOptions(),e=i.border;return{stroke:{width:e.width,color:e.color,opacity:ln(e.opacity,i.opacity),dashType:e.dashType},fill:{color:i.background,opacity:i.opacity},cursor:i.cursor}}markerOptions(){return this.options}markerHighlightOptions(){const i=this.markerOptions();return K({},i,{background:i.border.color},i.highlight,"cross"===i.type?{background:i.highlight.border.color,border:{color:i.highlight.background,width:i.highlight.border.width/2},width:i.width,height:i.height,margin:{top:0,left:0}}:{})}createHighlight(){const i=new kl(this.markerHighlightOptions()),e=this.paddingBox.clone();return i.reflow(e.pad(i.options.border.width)),this.highlight=[i.getElement()],this.highlight}}we(YAe,{border:{width:2},width:8,height:8,background:gi,margin:{top:-1,left:-1},vAlign:Qn,align:jn,highlight:{width:10,height:10,border:{color:gi,width:2}}});const d8t=YAe;class KAe extends kl{getElement(){const i=new Vn,e=new ed(this.visualStyle()),{paddingBox:n}=this,o=n.height()/2;return e.moveTo(n.x1,n.y1+o).lineTo(n.x1,n.y2).lineTo(n.x2,n.y2),i.append(e),i}}we(KAe,{width:15,height:15,align:Oi,vAlign:Di,margin:{right:-2,bottom:2}});const JAe=KAe;class qAe extends kl{getElement(){const i=new Vn,e=new ed({stroke:{color:this.options.border.color,opacity:this.options.opacity,width:this.options.height,dashType:this.options.dashType}}),n=this.paddingBox,o=n.center().y;return e.moveTo(n.x1,o).lineTo(n.x2,o),i.append(e),i}createHighlight(){return this.highlight=[this.createHighlightLine(),this.createHighlightMarker()],this.highlight}createHighlightLine(){const i=K({},{border:{color:this.options.border.color,opacity:this.options.border.opacity,dashType:this.options.border.dashType}},this.options.highlight),e=new JAe(i);return e.reflow(this.parent.paddingBox.clone()),this.highlightLine=e.getElement(),this.highlightLine}createHighlightMarker(){const i=K({},{background:this.options.background},this.options.highlight.markers),e=new kl(i),n=this.parent.paddingBox,o=i.border.width,r=this.parent.box.clone();return r.pad({left:o-n.x1,top:o-n.y1}),e.reflow(r),this.highlightMarker=e.getElement(),this.highlightMarker}}we(qAe,{border:{width:0},type:"rect",align:jn,vAlign:Cn,highlight:{border:{width:2},markers:{type:od,width:10,height:10,border:{width:2,color:gi},align:jn,vAlign:Qn}}});const u8t=qAe;class QAe extends kl{createHighlight(){const i=K({},{background:this.options.background},this.options.highlight.markers),e=new kl(i),n=this.paddingBox.clone(),o=this.parent.box.clone();return n.align(o,kt,jn),n.align(o,Ot,Qn),e.reflow(n),this.highlight=[e.getElement()],this.highlight}}we(QAe,{highlight:{markers:{type:od,width:10,height:10,border:{width:2,color:gi},margin:{top:-3,left:-3}}}});const h8t=QAe;class ZAe extends vS{constructor(i){super(i),this.createContainer(),i.rtl?(this.createLabel(),this.createMarker()):(this.createMarker(),this.createLabel()),this._id=t9(),this.options.accessibility.ariaChecked=i.active}createContainer(){this.container=new bse({vertical:!1,wrap:!1,align:Cn,spacing:this.options.spacing}),this.append(this.container)}createMarker(){this.markerWrap=new vS({vertical:!1,shrinkToFit:!0,wrap:!1,margin:1,width:22,height:22}),this.container.append(this.markerWrap),this.createMarkerArea(),this.options.markers.visible&&(this._marker=this._createMarker(),this.markerWrap.append(this._marker))}createMarkerArea(){const i=this.options,{markerColor:e,line:n={}}=i,o={border:{color:n.color||e,opacity:n.opacity,dashType:n.dashType}};return this._createLine(o)||this._createMarkerLine(o,n)||this._createSquare()}markerOptions(){const i=this.options,{markers:e={},markerColor:n}=i,{border:o={}}=e;return K({},e,{border:{color:o.color||n},highlight:i.highlight.markers})}_highlightOptions(){const i=this.options;return K({markers:{type:i.markers.type}},i.highlight)}_createLine(i){const e=this.options;return e.type===Ag&&!e.markers.visible&&(this._line=new u8t(K({},{background:e.markerColor,highlight:this._highlightOptions()},i,e.line)),this.markerWrap.append(this._line)),this._line}_createMarkerLine(i,e){return this.options.type===Ag&&(this._markerLineArea=new JAe(K({},{border:{width:e.height}},i)),this.markerWrap.append(this._markerLineArea)),this._markerLineArea}_createSquare(){const i=this.options;return i.type===xg&&(this._square=new h8t(Object.assign({},{border:i.border,vAlign:i.markers.visible?Di:Cn,highlight:this._highlightOptions(),visual:i.visual},i.area,{background:i.area.background||i.markerColor})),this.markerWrap.append(this._square)),this._square}_createMarker(){return new d8t(this.markerOptions())}_highlightMarkers(){this.options.active&&this._toggleHighlight(!0)}_restoreMarkers(){this._toggleHighlight(!1)}_toggleHighlight(i){if(!this.options.highlight.visible)return;const e=this._marker||this._square||this._line;if(e&&e===this._line&&this._line.visual.visible(!i),e){let n=e.highlight;n||(n=e.createHighlight(),n.forEach(o=>o&&this.markerWrap.appendVisual(o))),n.forEach(o=>o&&o.visible(i))}}createLabel(){const i=this.options,e=K({},i.labels);this.container.append(new ad(i.text,e))}getAriaLabelText(){return this.options.text}focusVisual(){this.visual.options.set("id",this._id),this.toggleFocusHighlight(!0),this._highlightMarkers()}clearFocusFromVisual(){this.visual.options.set("id",""),this.toggleFocusHighlight(!1),this._restoreMarkers()}renderComplete(){super.renderComplete();const i=this.options.cursor||{},e=this._itemOverlay=ct.fromRect(this.container.box.toRect(),{fill:{color:gi,opacity:0},stroke:null,cursor:i.style||i});this.appendVisual(e)}click(i,e){const n=this.eventArgs(e);!i.trigger(yxe,n)&&e&&"contextmenu"===e.type&&e.preventDefault()}over(i,e){const n=this.eventArgs(e);return i.trigger("legendItemHover",n)||(i._legendItemHover(n.seriesIndex,n.pointIndex),this._highlightMarkers()),!0}out(i,e){i._unsetActivePoint(),this._restoreMarkers(),i.trigger("legendItemLeave",this.eventArgs(e))}eventArgs(i){const e=this.options;return{element:bp(i),text:e.text,series:e.series,seriesIndex:e.series.index,pointIndex:e.pointIndex}}createVisual(){super.createVisual();const i=this.options;if(this.options.visible){const e=K({ariaLabel:i.text},i.accessibility);Cse(this.visual,e)}}renderVisual(){const i=this.options,e=i.visual;e?(this.visual=e({active:i.active,series:i.series,sender:this.getSender(),pointIndex:i.pointIndex,options:{type:i.type,markers:K({background:this.options.markerColor},this.markerOptions()),labels:i.labels},createVisual:()=>{this.createVisual(),this.renderChildren(),this.renderComplete();const n=this.visual;return delete this.visual,n}}),this._marker=this._markerLineArea=this._square=this._line=null,this.addVisual()):super.renderVisual()}createFocusHighlight(i){return ct.fromRect(this.container.box.pad(i.stroke.width/2).toRect(),i)}}we(ZAe,{accessibility:{role:"checkbox",className:"k-chart-legend-item",ariaRoleDescription:"Legend item"},markers:{},highlight:{visible:!0,markers:{}}});const p8t=ZAe,_9="custom";class eRe extends Ki{constructor(i,e={}){super(i),this.chartService=e,Gn(this.options.position,[Qn,Oi,Di,jn,_9])||(this.options.position=Oi),this.createContainers(),this.createLegendTitle(i.title),this.createItems()}createContainers(){const i=this.options,{position:e,align:n}=i;let o=e,r=Cn;e===_9?o=jn:Gn(e,[Qn,Di])?(o=n===fV?jn:n===uV?Oi:Cn,r=e):n&&(n===fV?r=Qn:n===uV&&(r=Di)),this.container=new vS({margin:i.margin,padding:i.padding,background:i.background,border:i.border,vAlign:r,align:o,zIndex:i.zIndex,shrinkToFit:!0}),this.itemsContainer=this.hasTitle()?new vS({vAlign:r,align:o,zIndex:i.zIndex,shrinkToFit:!0}):this.container,this.append(this.container)}createItems(){const i=this.getService(),e=this.options,n=this.isVertical(),o=new c8t({vertical:n,spacing:e.spacing,rtl:i.rtl},i);let r=e.data;e.reverse&&(r=r.slice(0).reverse());const a=r.length;for(let l=0;l<a;l++){let c=r[l];const{markers:u={},dashType:f,legendItem:_,opacity:g}=c.series||{},S=K({visible:!1!==u.visible,type:od},u);delete S.size;const b=K({},{markers:S,labels:e.labels,rtl:i.rtl,line:Object.assign({},{dashType:f},e.line),area:Object.assign({},{opacity:g},e.area),opacity:g,accessibility:e.accessibility},e.item,_,c,{markers:e.markers});o.append(new p8t(b))}o.render(),this.itemsContainer.append(o)}isVertical(){const{orientation:i,position:e}=this.options;return e===_9&&i!==cse||(ge(i)?i!==cse:Gn(e,[jn,Oi]))}hasItems(){return this.container.children[0].children.length>0}getItems(){return this.itemsContainer.children[0].children}reflow(i){const e=this.options,n=i.clone();this.hasItems()?(e.position===_9?(this.containerCustomReflow(n),this.box=n):this.containerReflow(n),this.hasTitle()&&this.title.reflow(new ze(this.container.box.x1,this.title.box.y1,this.container.box.x2,this.title.box.y2))):this.box=n}containerReflow(i){const{options:e,container:n}=this,{position:o,width:r,height:a}=e,l=o===Qn||o===Di?kt:Ot,c=this.isVertical(),u=i.clone();let f=i.clone();(o===jn||o===Oi)&&(f.y1=u.y1=0),c&&a?(f.y2=f.y1+a,f.align(u,Ot,n.options.vAlign)):!c&&r&&(f.x2=f.x1+r,f.align(u,kt,n.options.align)),n.reflow(f),f=n.box;const _=f.clone();(e.offsetX||e.offsetY)&&(f.translate(e.offsetX,e.offsetY),n.reflow(f)),_[l+1]=i[l+1],_[l+2]=i[l+2],this.box=_}containerCustomReflow(i){const{options:e,container:n}=this,{offsetX:o,offsetY:r,width:a,height:l}=e,c=this.isVertical();let u=i.clone();c&&l?u.y2=u.y1+l:!c&&a&&(u.x2=u.x1+a),n.reflow(u),u=n.box,n.reflow(new ze(o,r,o+u.width(),r+u.height()))}renderVisual(){this.hasItems()&&super.renderVisual()}createLegendTitle(i){let e=K({},{color:Mo,position:Qn,align:Cn},i),n=e.text;if(i&&!1!==i.visible&&i.text){if(ge(e)&&e.visible){const o=ta(e);o?n=o({text:n}):e.format&&(n=this.chartService.format.auto(e.format,n))}this.title=new ad(n,e),this.createTitleLayout(),this.appendTitleLayoutContent()}}createTitleLayout(){this.layout=new bse({vertical:!0,wrap:!1}),this.container.append(this.layout)}hasTitle(){return!(!this.options.title||!1===this.options.title.visible||!this.options.title.text)}appendTitleLayoutContent(){this.options.title.position===Di?(this.layout.append(this.itemsContainer),this.layout.append(this.title)):(this.layout.append(this.title),this.layout.append(this.itemsContainer))}}we(eRe,{position:Oi,data:[],offsetX:0,offsetY:0,margin:zi(2),padding:zi(5),border:{color:Mo,width:0},item:{cursor:lse,spacing:6},spacing:6,background:"",zIndex:1,markers:{},line:{width:20,height:2,cursor:lse,opacity:1},area:{type:"square",align:Oi,width:15,height:15}});const tRe=eRe;class Boe extends ft{constructor(){super(),this._registry=[]}register(i,e){this._registry.push({type:i,seriesTypes:e})}create(i,e,n){const o=this._registry;let a,r=o[0];for(let l=0;l<o.length;l++){const c=o[l];a=ho(i,c.seriesTypes);const u=ho(i,qD);if(a.length-u.length>0){r=c;break}}return new r.type(a,e,n)}}Boe.current=new Boe;const Fg=Boe;function Ug(s){const i=document.createElement("div");return s&&(i.className=s),i}function nRe(s){let i=s;for(;i&&!vV(i,"k-handle");)i=i.parentNode;return i}class iRe extends ft{constructor(i,e,n,o){super();const r=i.element;this.options=K({},this.options,n),this.chart=i,this.observer=o,this.chartElement=r,this.categoryAxis=e,this._dateAxis=this.categoryAxis instanceof GV,this.initOptions(),this.visible=this.options.visible&&r.offsetHeight,this.visible&&(this.createElements(),this.set(this._index(this.options.from),this._index(this.options.to)),this.bindEvents())}onPane(i){return this.categoryAxis.pane===i}createElements(){const i=this.options,e=this.wrapper=Ug("k-selector k-pointer-events-none");uo(e,{top:i.offset.top,left:i.offset.left,width:i.width,height:i.height,direction:"ltr"});const n=this.selection=Ug("k-selection k-pointer-events-none");this.leftMask=Ug("k-mask k-pointer-events-none"),this.rightMask=Ug("k-mask k-pointer-events-none"),e.appendChild(this.leftMask),e.appendChild(this.rightMask),e.appendChild(n);const o=this.body=Ug("k-selection-bg k-pointer-events-none");n.appendChild(o);const r=this.leftHandle=Ug("k-handle k-left-handle k-pointer-events-auto"),a=this.rightHandle=Ug("k-handle k-right-handle k-pointer-events-auto");r.appendChild(Ug()),a.appendChild(Ug()),n.appendChild(r),n.appendChild(a),this.chartElement.appendChild(e);const l=uo(n,["borderLeftWidth","borderRightWidth","height"]),c=uo(r,"height").height,u=uo(a,"height").height;i.selection={border:{left:l.borderLeftWidth,right:l.borderRightWidth}},uo(r,{top:(l.height-c)/2}),uo(a,{top:(l.height-u)/2}),e.style.cssText=e.style.cssText}bindEvents(){!1!==this.options.mousewheel&&(this._mousewheelHandler=this._mousewheel.bind(this),ER(this.chartElement,{[ZV]:this._mousewheelHandler})),this._domEvents=WIe.create(this.chartElement,{stopPropagation:!0,start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),press:this._press.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)})}initOptions(){const{options:i,categoryAxis:e}=this,n=e.pane.chartsBox(),o=this.chart.chartService.intl;this._dateAxis&&K(i,{min:xa(o,i.min),max:xa(o,i.max),from:xa(o,i.from),to:xa(o,i.to)});const{paddingLeft:r,paddingTop:a}=uo(this.chartElement,["paddingLeft","paddingTop"]);this.options=K({},{width:n.width(),height:n.height()+.1,padding:{left:r,top:a},offset:{left:n.x1+r,top:n.y1+a},from:i.min,to:i.max},i)}destroy(){this._domEvents&&(this._domEvents.destroy(),delete this._domEvents),clearTimeout(this._mwTimeout),this._state=null,this.wrapper&&(this._mousewheelHandler&&(yR(this.chartElement,{[ZV]:this._mousewheelHandler}),this._mousewheelHandler=null),this.chartElement.removeChild(this.wrapper),this.wrapper=null)}_rangeEventArgs(i){return{axis:this.categoryAxis.options,from:this._value(i.from),to:this._value(i.to)}}_pointInPane(i,e){const n=this.categoryAxis.pane.box,o=this.chart._toModelCoordinates(i,e);return n.containsPoint(o)}_start(i){const e=this.options,n=bp(i);if(this._state||!n)return;const o=bIe(i);if(!this._pointInPane(o.x,o.y))return;const a=nRe(n),l=this.body.getBoundingClientRect(),c=!a&&o.x>=l.x&&o.x<=l.x+l.width&&o.y>=l.y&&o.y<=l.y+l.height;this.chart._unsetActivePoint(),this._state={moveTarget:a,startLocation:i.x?i.x.location:0,inBody:c,range:{from:this._index(e.from),to:this._index(e.to)}};const u=this._rangeEventArgs({from:this._index(e.from),to:this._index(e.to)});this.trigger(ioe,u)&&(this._state=null)}_press(i){let e;e=this._state?this._state.moveTarget:nRe(bp(i)),e&&Qo(e,"k-handle-active")}_move(i){if(!this._state)return;const{_state:e,options:n,categoryAxis:o}=this,{range:r,moveTarget:a}=e,l=o.options.reverse,c=this._index(n.from),u=this._index(n.to),f=this._index(n.min),_=this._index(n.max),g=e.startLocation-i.x.location,S_from=r.from,S_to=r.to,b=r.to-r.from,k=uo(this.wrapper,"width").width/(o.categoriesCount()-1),D=Math.round(g/k)*(l?-1:1);if(!a&&!e.inBody)return;const O=a&&vV(a,"k-left-handle"),I=a&&vV(a,"k-right-handle");e.inBody?(r.from=Math.min(Math.max(f,c-D),_-b),r.to=Math.min(r.from+b,_)):O&&!l||I&&l?(r.from=Math.min(Math.max(f,c-D),_-1),r.to=Math.max(r.from+1,r.to)):(O&&l||I&&!l)&&(r.to=Math.min(Math.max(f+1,u-D),_),r.from=Math.min(r.to-1,r.from)),(r.from!==S_from||r.to!==S_to)&&(this.move(r.from,r.to),this.trigger(jR,this._rangeEventArgs(r)))}_end(){if(this._state){const i=this._state.moveTarget;i&&dse(i,"k-handle-active");const e=this._state.range;this.set(e.from,e.to),this.trigger(soe,this._rangeEventArgs(e)),delete this._state}}_tap(i){const{options:e,categoryAxis:n}=this,o=this.chart._eventCoordinates(i),r=n.pointCategoryIndex(new cn(o.x,n.box.y1)),a=this._index(e.from),l=this._index(e.to),c=this._index(e.min),u=this._index(e.max),f=l-a,g={},S=3===i.event.which;let b=Math.round(a+f/2-r);this._state||S||(this.chart._unsetActivePoint(),n.options.justified||b--,g.from=Math.min(Math.max(c,a-b),u-f),g.to=Math.min(g.from+f,u),this._start(i),this._state&&(this._state.range=g,this.trigger(jR,this._rangeEventArgs(g)),this._end()))}_mousewheel(i){let e=use(i);if(this._start(i),this._state){const n=this._state.range;i.preventDefault(),i.stopPropagation(),Math.abs(e)>1&&(e*=3),this.options.mousewheel.reverse&&(e*=-1),this.expand(e)&&this.trigger(jR,{axis:this.categoryAxis.options,delta:e,originalEvent:i,from:this._value(n.from),to:this._value(n.to)}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(()=>{this._end()},150)}}_gesturestart(i){const e=this.options,n=i.touches[0];if(!this._pointInPane(n.pageX,n.pageY))return;this._state={range:{from:this._index(e.from),to:this._index(e.to)}};const r=this._rangeEventArgs(this._state.range);this.trigger(ioe,r)?this._state=null:i.preventDefault()}_gestureend(){this._state&&(this.trigger(soe,this._rangeEventArgs(this._state.range)),delete this._state)}_gesturechange(i){if(!this._state)return;const{chart:e,_state:n,options:o,categoryAxis:r}=this,a=n.range,l=e._toModelCoordinates(i.touches[0].x.location).x,c=e._toModelCoordinates(i.touches[1].x.location).x,u=Math.min(l,c),f=Math.max(l,c);i.preventDefault(),a.from=r.pointCategoryIndex(new cn(u))||o.min,a.to=r.pointCategoryIndex(new cn(f))||o.max,this.move(a.from,a.to),this.trigger(jR,this._rangeEventArgs(a))}_index(i){let e=i;return i instanceof Date&&(e=this.categoryAxis.categoryIndex(i)),e}_value(i){let e=i;return this._dateAxis&&(e=this.categoryAxis.categoryAt(i),e>this.options.max&&(e=this.options.max)),e}_slot(i){const e=this.categoryAxis,n=this._index(i);return e.getSlot(n,n,!0)}move(i,e){const n=this.options,o=this.categoryAxis.options.reverse,{offset:r,padding:a,selection:{border:l}}=n,u=o?i:e,f="x"+(o?2:1);let _=this._slot(o?e:i);const g=qe(_[f]-r.left+a.left);uo(this.leftMask,{width:g}),uo(this.selection,{left:g}),_=this._slot(u);const S=qe(n.width-(_[f]-r.left+a.left));uo(this.rightMask,{width:S});let b=n.width-S;b!==n.width&&(b+=l.right),uo(this.rightMask,{left:b}),uo(this.selection,{width:Math.max(n.width-(g+S)-l.right,0)})}set(i,e){const n=this.options,o=this._index(n.min),r=this._index(n.max),a=Vt(this._index(i),o,r),l=Vt(this._index(e),a+1,r);n.visible&&this.move(a,l),n.from=this._value(a),n.to=this._value(l)}expand(i){const e=this.options,n=this._index(e.min),o=this._index(e.max),r=e.mousewheel.zoom,a=this._index(e.from),l=this._index(e.to);let c={from:a,to:l};const u=K({},c);if(this._state&&(c=this._state.range),r!==Oi&&(c.from=Vt(Vt(a-i,0,l-1),n,o)),r!==jn&&(c.to=Vt(Vt(l+i,c.from+1,o),n,o)),c.from!==u.from||c.to!==u.to)return this.set(c.from,c.to),!0}zoom(i,e){const n=this.options,o=this._index(n.min),r=this._index(n.max),a=this._index(n.from),l=this._index(n.to);let c={from:a,to:l};const u=K({},c),{reverse:f}=this.categoryAxis.options,_=kt+(f?"2":"1"),g=this.categoryAxis.lineBox(),S=Math.abs(g[_]-e[kt]),b=g.width(),k=qe(S/b,2),D=qe(k*i),O=qe((1-k)*i);if(this._state&&(c=this._state.range),c.from=Vt(Vt(a-D,0,l-1),o,r),c.to=Vt(Vt(l+O,c.from+1,r),o,r),c.from!==u.from||c.to!==u.to)return this.set(c.from,c.to),!0}trigger(i,e){return(this.observer||this.chart).trigger(i,e)}}we(iRe,{visible:!0,mousewheel:{zoom:"both"},min:Er,max:qo});const sRe=iRe,g8t=class _8t extends Eoe{show(i){if(!i||!i.tooltipAnchor||this._current&&this._current===i)return;const e=K({},this.options,i.options.tooltip),n=i.tooltipAnchor();n?(this._current=i,super.show({point:i,anchor:n},e,i)):this.hide()}hide(){delete this._current,super.hide()}};class oRe extends Eoe{constructor(i,e){super(i.chartService,e),this.plotArea=i,this.formatService=i.chartService.format}showAt(i,e){const n=su(i,function(o){const r=o.series.tooltip;return!(r&&!1===r.visible)});if(n.length>0){const o=n[0],r=this.plotArea.categoryAxis.getSlot(o.categoryIx),a=e?this._slotAnchor(e,r):this._defaultAnchor(o,r);this.show({anchor:a,shared:!0,points:i,category:o.category,categoryText:this.formatService.auto(this.options.categoryFormat,o.category),series:this.plotArea.series},this.options)}}_slotAnchor(i,e){return this.plotArea.categoryAxis.options.vertical||(i.x=e.center().x),{point:i,align:{horizontal:"left",vertical:"center"}}}_defaultAnchor(i,e){const n=i.owner.pane.chartsBox(),o=this.plotArea.categoryAxis.options.vertical,r=n.center(),a=e.center();let c;return c=o?new cn(r.x,a.y):new cn(a.x,r.y),{point:c,align:{horizontal:"center",vertical:"center"}}}}we(oRe,{categoryFormat:"{0:d}"});const rRe=oRe;class aRe extends hh{setup(){const{element:i,options:e}=this;if(i.bbox()){this.origin=e.origin;const o=e.vertical?Ot:kt,r=this.fromScale=new Ie(1,1);r[o]=xR,i.transform(Ui().scale(r.x,r.y))}else this.abort()}step(i){const e=uh(this.fromScale.x,1,i),n=uh(this.fromScale.y,1,i);this.element.transform(Ui().scale(e,n,this.origin))}abort(){super.abort(),this.element.transform(null)}}we(aRe,{duration:fh}),vm.current.register(mh,aRe);class lRe extends hh{setup(){const i=this.center=this.element.bbox().center();this.element.transform(Ui().scale(xR,xR,i))}step(i){this.element.transform(Ui().scale(i,i,this.center))}}we(lRe,{easing:"easeOutElastic"}),vm.current.register(jD,lRe);class cRe extends hh{setup(){this.fadeTo=this.element.opacity(),this.element.opacity(0)}step(i){this.element.opacity(i*this.fadeTo)}}we(cRe,{duration:200,easing:"linear"}),vm.current.register(SS,cRe);class dRe extends hh{setup(){this.element.transform(Ui().scale(xR,xR,this.options.center))}step(i){this.element.transform(Ui().scale(i,i,this.options.center))}}we(dRe,{easing:"easeOutElastic",duration:fh}),vm.current.register(bS,dRe);class uRe extends r9{render(){super.render(),this.renderSegments()}createSegment(i,e,n){let r;return r=e.style===zD?hoe:nO,new r(i,e,n)}animationPoints(){return super.animationPoints().concat(this._segments)}createMissingValue(i,e){if(e===Ig){const n={x:i.x,y:i.y};return ld(n.x)||(n.x=0),ld(n.y)||(n.y=0),n}}}K(uRe.prototype,poe);const hRe=uRe,QR=function v8t(s,i,e){const n=[];let{xMin:o,xMax:r}=i;const a=(e||{}).forecast;a&&(a.before>0&&(o-=a.before),a.after>0&&(r+=a.after));const l=(e||{}).samplingInterval;let c=ln(l,FD(o,r)/10);l<=0&&(c=r-o);for(let u=o;u<=r;u+=c)n.push([u,s(u)]);return n},g9=s=>({valueFields:i})=>({xValue:i.x,yValue:i[s]}),pRe=function D8t(s,i){let e=Number.MAX_VALUE,n=Number.MIN_VALUE;for(let o=0;o<s.length;o++){const r=s[o],{xValue:a,yValue:l}=i(r);isFinite(a)&&null!==a&&isFinite(l)&&null!==l&&(e=Math.min(a,e),n=Math.max(a,n))}return{xMin:e,xMax:n}},Ub={};Ub[Kse]=function S8t(s){const{options:i,seriesValues:e}=s,n=function b8t({seriesValues:s,options:i}){const e=s();if(!KR(e,i.field))return null;let{slope:n,intercept:o,count:r,xMin:a,xMax:l}=DS(e,(s=>({valueFields:i})=>({xValue:i.x,yValue:Math.log(i[s])}))(i.field));const c={xMin:a,xMax:l};if(r>0){const u=Math.exp(o),f=n;return QR(_=>u*Math.exp(f*_),c,i.trendline)}return null}({seriesValues:e,options:i});return n?Object.assign({},i,{type:"scatterLine",data:n}):null},Ub[Jse]=function y8t(s){const{options:i,seriesValues:e}=s,n=function k8t({seriesValues:s,options:i}){let{slope:e,intercept:n,count:o,xMin:r,xMax:a}=DS(s(),g9(i.field));return o>0?QR(c=>e*c+n,{xMin:r,xMax:a},i.trendline):null}({seriesValues:e,options:i});return n?Object.assign({},i,{type:"scatterLine",data:n}):null},Ub[qse]=function O8t(s){const{options:i,seriesValues:e}=s,n=function I8t({seriesValues:s,options:i}){const e=s();if(!KR(e,"x"))return null;let{slope:n,intercept:o,count:r}=DS(e,(s=>({valueFields:i})=>({xValue:Math.log(i.x),yValue:i[s]}))(i.field)),a=pRe(e,(s=>({valueFields:i})=>({xValue:i.x,yValue:i[s]}))(i.field));if(r>0){const l=n,c=o;return QR(u=>l*Math.log(u)+c,a,i.trendline)}return null}({seriesValues:e,options:i});return n?Object.assign({},i,{type:"scatterLine",data:n}):null},Ub[Qse]=function A8t(s){const{options:i}=s,e=function R8t({options:s,seriesValues:i}){const e=(s.trendline||{}).period||2,o=vAe(i({before:e,after:e}),g9(s.field),e);return o.length>0?o:null}(s);return e?Object.assign({},i,{type:"scatterLine",data:e}):null},Ub[Zse]=function L8t(s){const{options:i,seriesValues:e}=s,n=function G8t({seriesValues:s,options:i}){const e=(i.trendline||{}).order,n=g9(i.field),{count:o,valueMapper:r,xMin:a,xMax:l}=CAe(s(),n,e);return o>0?QR(r,{xMin:a,xMax:l},i.trendline):null}({seriesValues:e,options:i});return n?Object.assign({},i,{type:"scatterLine",data:n}):null},Ub[eoe]=function F8t(s){const{options:i,seriesValues:e}=s,n=function B8t({seriesValues:s,options:i}){const e=s();if(!KR(e,"x"))return null;let{slope:n,intercept:o,count:r}=DS(e,(s=>({valueFields:i})=>({xValue:Math.log(i.x),yValue:Math.log(i[s])}))(i.field)),a=pRe(e,g9(i.field));if(r>0){const l=Math.exp(o),c=n;return QR(u=>l*Math.pow(u,c),a,i.trendline)}return null}({seriesValues:e,options:i});return n?Object.assign({},i,{type:"scatterLine",data:n}):null};const z8t=Ub;class Voe extends wS{initFields(){this.namedXAxes={},this.namedYAxes={},this.xAxisRangeTracker=new s9,this.yAxisRangeTracker=new s9}render(i=this.panes){this.series=[...this.originalSeries],this.createTrendlineSeries();const e=this.groupSeriesByPane();for(let n=0;n<i.length;n++){const o=i[n],r=e[o.options.name||"default"]||[];this.addToLegend(r);const a=this.filterVisibleSeries(r);a&&(this.createScatterChart(ho(a,Wse),o),this.createScatterLineChart(ho(a,Yse),o),this.createBubbleChart(ho(a,jD),o))}this.createAxes(i)}appendChart(i,e){this.xAxisRangeTracker.update(i.xAxisRanges),this.yAxisRangeTracker.update(i.yAxisRanges),super.appendChart(i,e)}removeAxis(i){const e=i.options.name;super.removeAxis(i),i.options.vertical?(this.yAxisRangeTracker.reset(e),delete this.namedYAxes[e]):(this.xAxisRangeTracker.reset(e),delete this.namedXAxes[e]),i===this.axisX&&delete this.axisX,i===this.axisY&&delete this.axisY}seriesPaneName(i){const e=this.options,n=i.xAxis,r=su([].concat(e.xAxis),function(g){return g.name===n})[0],a=i.yAxis,c=su([].concat(e.yAxis),function(g){return g.name===a})[0];return(r||{}).pane||(c||{}).pane||(e.panes||[{}])[0].name||"default"}createScatterChart(i,e){i.length>0&&this.appendChart(new r9(this,{series:i,clip:e.options.clip}),e)}createScatterLineChart(i,e){i.length>0&&this.appendChart(new hRe(this,{series:i,clip:e.options.clip}),e)}createBubbleChart(i,e){i.length>0&&this.appendChart(new i4t(this,{series:i,clip:e.options.clip}),e)}createXYAxis(i,e,n){const o=i.name,r=e?this.namedYAxes:this.namedXAxes,a=e?this.yAxisRangeTracker:this.xAxisRangeTracker,l=K({reverse:!e&&this.chartService.rtl},i,{vertical:e}),c=Ng(l.type,qV),u=a.query(),f=c?{min:.1,max:1}:{min:0,max:1},_=a.query(o)||u||f,g=[l.min,l.max],S=this.series;for(let O=0;O<S.length;O++){const I=S[O],N=I[e?"yAxis":"xAxis"];if(N===l.name||0===n&&!N){const P=Rs.current.bindPoint(I,0).valueFields;g.push(P[e?"y":"x"]);break}}let b,k;0===n&&u&&(_.min=Math.min(_.min,u.min),_.max=Math.max(_.max,u.max));for(let O=0;O<g.length;O++)if(g[O]instanceof Date){b=!0;break}k=Ng(l.type,kg)||!l.type&&b?KAt:c?zV:ph;const D=new k(_.min,_.max,l,this.chartService);if(D.axisIndex=n,o){if(r[o])throw new Error(`${e?"Y":"X"} axis with name ${o} is already defined`);r[o]=D}return this.appendAxis(D),D}createAxes(i){const e=this.options,n=[].concat(e.xAxis),o=[],r=[].concat(e.yAxis),a=[];for(let l=0;l<n.length;l++)Gn(this.findPane(n[l].pane),i)&&o.push(this.createXYAxis(n[l],!1,l));for(let l=0;l<r.length;l++)Gn(this.findPane(r[l].pane),i)&&a.push(this.createXYAxis(r[l],!0,l));this.axisX=this.axisX||o[0],this.axisY=this.axisY||a[0]}_dispatchEvent(i,e,n){const o=i._eventCoordinates(e),r=new cn(o.x,o.y),a=this.axes,l=a.length,c=[],u=[];for(let f=0;f<l;f++){const _=a[f],g=_.options.vertical?u:c,S=_.getValue(r);null!==S&&g.push(S)}c.length>0&&u.length>0&&i.trigger(n,{element:bp(e),originalEvent:e,x:eO(c),y:eO(u)})}updateAxisOptions(i,e){const n=i.options.vertical,o=this.groupAxes(this.panes),r=(n?o.y:o.x).indexOf(i);fRe(this.options,r,n,e),fRe(this.originalOptions,r,n,e)}trendlineFactory(i,e){const n=this.seriesValues.bind(this,e.index),o=gAe(z8t,i.type,{options:i,seriesValues:n});return o&&(o.xAxis=e.xAxis,o.yAxis=e.yAxis),o}seriesValues(i){const e=[],n=this.series[i];for(let o=0;o<n.data.length;o++){const r=this.bindPoint(n,o);e.push({pointIx:o,valueFields:r.valueFields})}return e}}function fRe(s,i,e,n){K([].concat(e?s.yAxis:s.xAxis)[i],n)}we(Voe,{xAxis:{},yAxis:{}}),K(Voe.prototype,YR);const zoe=Voe;class v9 extends Ki{constructor(i,e,n){super(n),this.value=i,this.sector=e}render(){this._rendered||!1===this.visible||(this._rendered=!0,this.createLabel())}createLabel(){const i=this.options.labels,e=this.owner.chartService;let n=this.getLabelText(i);if(i.visible&&(n||0===n)){if(i.position===Cn||i.position===QV)i.color||(i.color=CV(this.options.color)),i.background||(i.background=this.options.color);else{const o=e.theme.seriesDefaults.labels;i.color=i.color||o.color,i.background=i.background||o.background}this.label=new ad(n,K({},i,{align:Cn,vAlign:"",animation:{type:SS,delay:this.animationDelay}}),this.pointData()),this.append(this.label)}}getLabelText(i){let e=ta(i);return e?e(this.pointData()):this.owner.chartService.format.auto(i.format,this.value)}reflow(i){this.render(),this.box=i,this.reflowLabel()}reflowLabel(){const{options:{labels:i},label:e}=this,n=this.sector.clone(),o=i.distance,r=n.middle();if(e){const a=e.box.height(),l=e.box.width();let c;if(i.position===Cn)n.radius=Math.abs((n.radius-a)/2)+a,c=n.point(r),e.reflow(new ze(c.x,c.y-a/2,c.x,c.y));else if(i.position===QV)n.radius=n.radius-a/2,c=n.point(r),e.reflow(new ze(c.x,c.y-a/2,c.x,c.y));else{let u;c=n.clone().expand(o).point(r),c.x>=n.center.x?(u=c.x+l,e.orientation=Oi):(u=c.x-l,e.orientation=jn),e.reflow(new ze(u,c.y-a,c.x,c.y))}}}createVisual(){const{sector:i,options:e}=this;if(super.createVisual(),this.addAccessibilityAttributesToVisual(),this.value)if(e.visual){const n=(i.startAngle+180)%360,o=e.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,center:new Ie(i.center.x,i.center.y),radius:i.radius,innerRadius:i.innerRadius,startAngle:n,endAngle:n+i.angle,options:e,sender:this.getSender(),createVisual:()=>{const r=new Vn;return this.createSegmentVisual(r),r}});o&&this.visual.append(o)}else this.createSegmentVisual(this.visual)}createSegmentVisual(i){const{sector:e,options:n}=this,o=n.border||{},a=n.color,l={color:a,opacity:n.opacity},c=this.createSegment(e,K({fill:l,stroke:{opacity:n.opacity},zIndex:n.zIndex},o.width>0?{stroke:{color:o.color,width:o.width,opacity:o.opacity,dashType:o.dashType}}:{}));i.append(c),loe(n)&&i.append(this.createGradientOverlay(c,{baseColor:a,fallbackFill:l},K({center:[e.center.x,e.center.y],innerRadius:e.innerRadius,radius:e.radius,userSpace:!0},n.overlay)))}createSegment(i,e){return e.singleSegment?new Xd(new Cl(new Ie(i.center.x,i.center.y),i.radius),e):kV.current.createRing(i,e)}createAnimation(){const{options:i,sector:{center:e}}=this;K(i,{animation:{center:[e.x,e.y],delay:this.animationDelay}}),super.createAnimation()}createHighlight(i){const e=this.options.highlight||{},n=e.border||{};return this.createSegment(this.sector,K({},i,{fill:{color:e.color,opacity:e.opacity},stroke:{opacity:n.opacity,width:n.width,color:n.color}}))}highlightVisual(){return this.visual.children[0]}highlightVisualArgs(){const i=this.sector;return{options:this.options,radius:i.radius,innerRadius:i.innerRadius,center:new Ie(i.center.x,i.center.y),startAngle:i.startAngle,endAngle:i.angle+i.startAngle,visual:this.visual}}createFocusHighlight(i){const n=this.createSegment(this.sector,K({},i,{stroke:{width:2*this.options.accessibility.highlight.border.width}})),o=new ed;return o.paths.push(ct.fromRect(n.bbox())),o.paths.push(this.createSegment(this.sector,{})),n.clip(o),n}tooltipAnchor(){const i=this.sector.clone().expand(5),e=i.middle();return{point:i.point(e),align:$8t(e+180)}}formatValue(i){return this.owner.formatPointValue(this,i)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}}getIndex(){return this.index}}const j8t=qe(yr(30),10),H8t=qe(yr(60),10);function $8t(s){const i=yr(s),e=qe(Math.sin(i),10),n=qe(Math.cos(i),10);let o,r;return o=Math.abs(e)>H8t?Cn:n<0?Oi:jn,r=Math.abs(e)<j8t?Cn:e<0?Di:Qn,{horizontal:o,vertical:r}}we(v9,{color:gi,overlay:{gradient:"roundedBevel"},border:{width:.5},labels:{visible:!1,distance:35,font:iIe,margin:zi(.5),align:od,zIndex:1,position:Tb},animation:{type:bS},highlight:{visible:!0,border:{width:1}},visible:!0,accessibility:{role:ES,className:yS,ariaRoleDescription:kS}}),K(v9.prototype,wp),K(v9.prototype,sO);const mRe=v9,_Re={createLegendItem:function(s,i,e){const n=this.options.legend||{},o=n.labels||{},r=n.inactiveItems||{},a=r.labels||{};if(e&&!1!==e.visibleInLegend){const l=!1!==e.visible,c=l?ta(o):ta(a)||ta(o);let f,_,u=e.category;c&&(u=c({text:u,series:e.series,dataItem:e.dataItem,percentage:e.percentage,value:s})),l?(f={},_=i.color):(f={color:a.color,font:a.font},_=(r.markers||{}).color),ld(u)&&""!==u&&this.legendItems.push({active:l,pointIndex:e.index,text:u,series:e.series,markerColor:_,labels:f})}}};class S9 extends Ki{constructor(i,e){super(e),this.plotArea=i,this.chartService=i.chartService,this.points=[],this.legendItems=[],this.render()}render(){this.traverseDataPoints(this.addValue.bind(this))}traverseDataPoints(i){const{options:e,plotArea:{options:{seriesColors:n=[]}}}=this,o=n.length,r=e.series,a=r.length;for(let l=0;l<a;l++){const c=r[l],u=c.data,{total:f,points:_,count:g}=Gxe(c),S=360/f;let b,k;isFinite(S)||(b=360/g),k=ge(c.startAngle)?c.startAngle:e.startAngle,l!==a-1&&c.labels.position===Tb&&(c.labels.position=Cn);for(let D=0;D<_.length;D++){const O=_[D];if(!O)continue;const{fields:I,value:N,visible:P}=O,G=0!==N?b||N*S:0,H=1!==u.length&&!!I.explode;Js(c.color)||(c.color=I.color||n[D%o]),i(N,new wR(null,0,0,k,G),{owner:this,category:ge(I.category)?I.category:"",index:D,series:c,seriesIx:l,dataItem:u[D],percentage:0!==f?N/f:0,explode:H,visibleInLegend:I.visibleInLegend,visible:P,zIndex:a-l,animationDelay:this.animationDelay(D,l,a)}),!1!==P&&(k+=G)}}}evalSegmentOptions(i,e,n){const o=n.series;Lg(i,{value:e,series:o,dataItem:n.dataItem,category:n.category,percentage:n.percentage},{defaults:o._defaults,excluded:["data","content","template","visual","toggle","ariaTemplate","ariaContent"]})}addValue(i,e,n){const o=K({},n.series,{index:n.index});if(this.evalSegmentOptions(o,i,n),this.createLegendItem(i,o,n),!1===n.visible)return;const r=new mRe(i,e,o);Object.assign(r,n),this.append(r),this.points.push(r)}reflow(i){const{options:e,points:n,seriesConfigs:o=[]}=this,r=n.length,a=i.clone(),c=Math.min(a.width(),a.height()),u=c/2,f=c-.85*c,_=new ze(a.x1,a.y1,a.x1+c,a.y1+c),g=_.center(),S=a.center(),b=e.series.length,k=[],D=[];let O=ln(e.padding,f);this.targetBox=i,O=O>u-5?u-5:O,_.translate(S.x-g.x,S.y-g.y);const I=u-O,N=new cn(I+_.x1+O,I+_.y1+O);for(let P=0;P<r;P++){const G=n[P],H=G.sector,$=G.seriesIx;if(H.radius=I,H.center=N,o.length){const ie=o[$];H.innerRadius=ie.innerRadius,H.radius=ie.radius}$===b-1&&G.explode&&(H.center=H.clone().setRadius(.15*H.radius).point(H.middle())),G.reflow(_);const Q=G.label;Q&&Q.options.position===Tb&&$===b-1&&(Q.orientation===Oi?D.push(Q):k.push(Q))}k.length>0&&(k.sort(this.labelComparator(!0)),this.leftLabelsReflow(k)),D.length>0&&(D.sort(this.labelComparator(!1)),this.rightLabelsReflow(D)),this.box=_}leftLabelsReflow(i){const e=this.distanceBetweenLabels(i);this.distributeLabels(e,i)}rightLabelsReflow(i){const e=this.distanceBetweenLabels(i);this.distributeLabels(e,i)}distanceBetweenLabels(i){const e=Zo(this.points),n=e.sector,o=i.length-1,r=n.radius+e.options.labels.distance,a=[];let l=i[0].box,c=qe(l.y1-(n.center.y-r-l.height()-l.height()/2));a.push(c);for(let u=0;u<o;u++)l=i[u].box,c=qe(i[u+1].box.y1-l.y2),a.push(c);return c=qe(n.center.y+r-i[o].box.y2-i[o].box.height()/2),a.push(c),a}distributeLabels(i,e){const n=i.length;let o,r,a;for(let l=0;l<n;l++)for(a=-i[l],o=r=l;a>0&&(o>=0||r<n);)a=this._takeDistance(i,l,--o,a),a=this._takeDistance(i,l,++r,a);this.reflowLabels(i,e)}_takeDistance(i,e,n,o){let r=o;if(i[n]>0){const a=Math.min(i[n],r);r-=a,i[n]-=a,i[e]+=a}return r}reflowLabels(i,e){const n=Zo(this.points),o=n.sector,r=n.options.labels,a=e.length,l=r.distance;let u,c=o.center.y-(o.radius+l)-e[0].box.height();i[0]+=2;for(let f=0;f<a;f++){const _=e[f],g=_.box;c+=i[f],u=this.hAlignLabel(g.x2,o.clone().expand(l),c,c+g.height(),_.orientation===Oi),_.orientation===Oi?(r.align!==od&&(u=o.radius+o.center.x+l),_.reflow(new ze(u+g.width(),c,u,c))):(r.align!==od&&(u=o.center.x-o.radius-l),_.reflow(new ze(u-g.width(),c,u,c))),c+=g.height()}}createVisual(){const{options:{connectors:i},points:e}=this,n=e.length;super.createVisual(),this._connectorLines=[];for(let r=0;r<n;r++){const a=e[r],{sector:l,label:c}=a,u=l.middle();if(c){const _=new ct({stroke:{color:(a.options.connectors||{}).color||i.color,width:i.width},animation:{type:SS,delay:a.animationDelay}});if(c.options.position===Tb){const g=c.box,S=l.center;let D,O,I,b=l.point(u),k=new cn(g.x1,g.center().y);b=l.clone().expand(i.padding).point(u),_.moveTo(b.x,b.y),c.orientation===Oi?(O=new cn(g.x1-i.padding,g.center().y),I=gRe(S,b,k,O),k=new cn(O.x-4,O.y),I=I||k,I.x=Math.min(I.x,k.x),this.pointInCircle(I,l.center,l.radius+4)||I.x<l.center.x?(D=l.center.x+l.radius+4,_.lineTo(a.options.labels.align!==Em?D<k.x?D:b.x+8:D,b.y),_.lineTo(k.x,O.y)):(I.y=O.y,_.lineTo(I.x,I.y))):(O=new cn(g.x2+i.padding,g.center().y),I=gRe(S,b,k,O),k=new cn(O.x+4,O.y),I=I||k,I.x=Math.max(I.x,k.x),this.pointInCircle(I,l.center,l.radius+4)||I.x>l.center.x?(D=l.center.x-l.radius-4,_.lineTo(a.options.labels.align!==Em?D>k.x?D:b.x-8:D,b.y),_.lineTo(k.x,O.y)):(I.y=O.y,_.lineTo(I.x,I.y))),_.lineTo(O.x,O.y),this._connectorLines.push(_),this.visual.append(_)}}}}renderVisual(){if(super.renderVisual(),DIe(this.options.series,i=>i.autoFit)){const i=this.targetBox,e=this.box.center(),n=this.visual.bbox();if(!n)return;const o=n.bottomRight(),r=Math.min((e.y-i.y1)/(e.y-n.origin.y),(i.y2-e.y)/(o.y-e.y),(e.x-i.x1)/(e.x-n.origin.x),(i.x2-e.x)/(o.x-e.x));r<1&&this.visual.transform(Ui().scale(r,r,[e.x,e.y]))}}labelComparator(i){const e=i?-1:1;return function(n,o){return((n.parent.sector.middle()+270)%360-(o.parent.sector.middle()+270)%360)*e}}hAlignLabel(i,e,n,o,r){const{radius:a,center:{x:l,y:c}}=e,u=Math.min(Math.abs(c-n),Math.abs(c-o));return u>a?i:l+Math.sqrt(a*a-u*u)*(r?1:-1)}pointInCircle(i,e,n){return Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2)<Math.pow(n,2)}formatPointValue(i,e){return this.chartService.format.auto(e,i.value)}animationDelay(i){return 70*i}stackRoot(){return this}}function gRe(s,i,e,n){const r=(n.y-e.y)*(i.x-s.x)-(n.x-e.x)*(i.y-s.y);let a;if(0!==r){const l=((n.x-e.x)*(s.y-e.y)-(n.y-e.y)*(s.x-e.x))/r;a=new cn(s.x+l*(i.x-s.x),s.y+l*(i.y-s.y))}return a}we(S9,{startAngle:90,connectors:{width:2,color:"#939393",padding:8},inactiveItems:{markers:{},labels:{}}}),K(S9.prototype,_Re),S9.prototype.isStackRoot=!0;const vRe=S9,SRe=class W8t extends wS{render(){this.createPieChart(this.series)}createPieChart(i){const e=i[0],n=new vRe(this,{series:i,padding:e.padding,startAngle:e.startAngle,connectors:e.connectors,legend:this.options.legend});this.appendChart(n)}appendChart(i,e){super.appendChart(i,e),bb(this.options.legend.data,i.legendItems)}getPointBelow(i){return this.getPointToTheRight(i)}getPointAbove(i){return this.getPointToTheLeft(i)}};class joe extends mRe{reflowLabel(){const{options:{labels:i},label:e}=this,n=this.sector.clone(),o=n.middle();if(e){const r=e.box.height();if(i.position===Cn){n.radius-=(n.radius-n.innerRadius)/2;const a=n.point(o);e.reflow(new ze(a.x,a.y-r/2,a.x,a.y))}else super.reflowLabel()}}createSegment(i,e){return kV.current.createRing(i,e)}}we(joe,{overlay:{gradient:"roundedGlass"},labels:{position:Cn},animation:{type:bS}}),K(joe.prototype,wp);const CRe=joe;class bRe extends vRe{addValue(i,e,n){const o=K({},n.series,{index:n.index});if(this.evalSegmentOptions(o,i,n),this.createLegendItem(i,o,n),!1===n.visible)return;const r=new CRe(i,e,o);Object.assign(r,n),this.append(r),this.points.push(r)}reflow(i){const e=this.options,n=i.clone(),r=Math.min(n.width(),n.height()),a=r/2,c=e.series,u=c.length;let f=ln(e.padding,r-.85*r);f=f>a-5?a-5:f;let S,_=a-f,g=0;for(let I=0;I<u;I++){const N=c[I];0===I&&ge(N.holeSize)&&(S=N.holeSize,_-=N.holeSize),ge(N.size)?_-=N.size:g++,ge(N.margin)&&I!==u-1&&(_-=N.margin)}ge(S)||(S=(a-f)/(u+.75)*.75,_-=S);let D,O,b=S,k=0;this.seriesConfigs=[];for(let I=0;I<u;I++){const N=c[I];D=ln(N.size,_/g),b+=k,O=b+D,this.seriesConfigs.push({innerRadius:b,radius:O}),k=N.margin||0,b=O}super.reflow(i)}animationDelay(i,e,n){return 50*i+fh*(e+1)/(n+1)}}we(bRe,{startAngle:90,connectors:{width:2,color:"#939393",padding:8}});const K8t=bRe,ERe=class Z8t extends wS{initFields(){this.valueAxisRangeTracker=new s9}render(){this.addToLegend(this.series),this.createPolarAxis(),this.createCharts(),this.createValueAxis()}alignAxes(){const i=this.valueAxis,e=i.range(),o=i.getSlot(i.options.reverse?e.max:e.min),r=this.polarAxis.getSlot(0).center,a=i.box.translate(r.x-o.x1,r.y-o.y1);i.reflow(a)}createValueAxis(){const i=this.valueAxisRangeTracker,e=i.query(),n=this.valueAxisOptions({roundToMajorUnit:!1,zIndex:-1});let o,r;n.type===qV?(o=nRt,r={min:.1,max:1}):(o=tRt,r={min:0,max:1});const a=i.query(name)||e||r;a&&e&&(a.min=Math.min(a.min,e.min),a.max=Math.max(a.max,e.max));const l=new o(a.min,a.max,n,this.chartService);this.valueAxis=l,this.appendAxis(l)}reflowAxes(){const{options:{plotArea:i},valueAxis:e,polarAxis:n,box:o}=this,r=.15*Math.min(o.width(),o.height()),a=zi(i.padding||{},r),l=o.clone().unpad(a),c=l.clone();c.y2=c.y1+Math.min(c.width(),c.height()),c.align(l,Ot,Cn);const u=c.clone().shrink(0,c.height()/2);n.reflow(c),e.reflow(u);const f=e.lineBox().height()-e.box.height();e.reflow(e.box.unpad({top:f})),this.axisBox=c,this.alignAxes(c)}backgroundBox(){return this.box}detachLabels(){}};class yRe extends r9{pointSlot(i,e){const o=cn.onCircle(i.center,i.startAngle,i.center.y-e.y1);return new ze(o.x,o.y,o.x,o.y)}}we(yRe,{clip:!1});const kRe=yRe;class Hoe extends hRe{}Hoe.prototype.pointSlot=kRe.prototype.pointSlot,we(Hoe,{clip:!1});const wRe=Hoe,tLt=class eLt extends _oe{fillToAxes(i){const e=this._polarAxisCenter();i.lineTo(e.x,e.y)}_polarAxisCenter(){return this.parent.plotArea.polarAxis.box.center()}strokeSegments(){let i=this._strokeSegments;if(!i){const e=this._polarAxisCenter(),n=new HV(!1),o=this.points();o.push(e),i=this._strokeSegments=n.process(o),i.pop()}return i}},iLt=class nLt extends iO{fillToAxes(i){const n=this.parent.plotArea.polarAxis.box.center(),o=new qa([n.x,n.y]);i.segments.unshift(o),i.segments.push(o)}};function oLt(s,i){return s.value.x-i.value.x}const rLt=class sLt extends wRe{createSegment(i,e,n){let r;return r=(e.line||{}).style===zD?new tLt(i,e,n):new iLt(i,e,n),r}createMissingValue(i,e){let n;return ld(i.x)&&e!==VD&&(n={x:i.x,y:i.y},e===Ig&&(n.y=0)),n}seriesMissingValues(i){return i.missingValues||Ig}_hasMissingValuesGap(){const i=this.options.series;for(let e=0;e<i.length;e++)if("gap"===this.seriesMissingValues(i[e]))return!0}sortPoints(i){if(i.sort(oLt),this._hasMissingValuesGap())for(let e=0;e<i.length;e++){const n=i[e];n&&!ld(n.value.y)&&"gap"===this.seriesMissingValues(n.series)&&delete i[e]}return i}};class $oe extends ERe{createPolarAxis(){const i=new ZAt(this.options.xAxis,this.chartService);this.polarAxis=i,this.axisX=i,this.appendAxis(i)}render(){this.series=[...this.originalSeries],this.createTrendlineSeries(),super.render()}valueAxisOptions(i){return K(i,{majorGridLines:{type:fS},minorGridLines:{type:fS}},this.options.yAxis)}createValueAxis(){super.createValueAxis(),this.axisY=this.valueAxis}trendlineFactory(i,e){const n=zoe.prototype.trendlineFactory.call(this,i,e);return n&&(n.type=KV),n}appendChart(i,e){this.valueAxisRangeTracker.update(i.yAxisRanges),wS.prototype.appendChart.call(this,i,e)}createCharts(){const i=this.filterVisibleSeries(this.series),e=this.panes[0];this.createLineChart(ho(i,[KV]),e),this.createScatterChart(ho(i,[Xse]),e),this.createAreaChart(ho(i,[$se]),e)}createLineChart(i,e){if(0===i.length)return;const n=new wRe(this,{series:i});this.appendChart(n,e)}createScatterChart(i,e){if(0===i.length)return;const n=new kRe(this,{series:i});this.appendChart(n,e)}createAreaChart(i,e){if(0===i.length)return;const n=new rLt(this,{series:i});this.appendChart(n,e)}_dispatchEvent(i,e,n){const o=i._eventCoordinates(e),r=new cn(o.x,o.y),a=this.axisX.getValue(r),l=this.axisY.getValue(r);null!==a&&null!==l&&i.trigger(n,{element:bp(e),x:a,y:l})}createCrosshairs(){}}we($oe,{xAxis:{},yAxis:{}}),K($oe.prototype,YR,{seriesValues:zoe.prototype.seriesValues});const aLt=$oe;class DRe extends moe{pointSlot(i,e){const n=i.center.y-e.y1,o=cn.onCircle(i.center,i.middle(),n);return new ze(o.x,o.y,o.x,o.y)}renderSegments(){if(super.renderSegments(),this._segments&&this._segments.length>1){const i=function lLt(s){const i=[];for(let e=0;e<s.length;e++){const n=s[e];i[n.seriesIx]=i[n.seriesIx]||[],i[n.seriesIx].push(n)}return i}(this._segments);for(let e=0;e<i.length;e++){const n=i[e];if(n&&n.length>1){const o=n[0].linePoints[0],r=Zo(n),a=Zo(r.linePoints);0===o.categoryIx&&a.categoryIx===a.categoriesCount-1&&Zo(n).linePoints.push(o)}}}}createSegment(i,e,n){let r;r=e.style===zD?hoe:nO;const a=new r(i,e,n),l=this.seriesMissingValues(e);return(i.length===e.data.length||l===VD)&&(a.options.closed=!0),a}}we(DRe,{clip:!1,limitPoints:!1});const ORe=DRe,dLt=class cLt extends _oe{fillToAxes(){}},hLt=class uLt extends iO{fillToAxes(){}},fLt=class pLt extends ORe{createSegment(i,e,n,o){const a=(e.line||{}).style;let l,c,u;return this.options.isStacked&&n>0&&o&&(c=o.linePoints.slice(0),l=o),a===zD?(u=new dLt(i,e,n,l,c),u.options.closed=!0):(i.push(i[0]),u=new hLt(i,e,n,l,c)),u}seriesMissingValues(i){return i.missingValues||Ig}};class TRe extends CRe{constructor(i,e){super(i,null,e)}getIndex(){return this.categoryIx}}we(TRe,{overlay:{gradient:"none"},labels:{distance:10}});const mLt=TRe;class MRe extends Ki{constructor(i){super(i),this.forEach=i.rtl?Jxe:Kxe}reflow(i){const{options:e,children:n}=this,{gap:o,spacing:r}=e,a=n.length,c=i.angle/(a+o+r*(a-1));let u=i.startAngle+c*(o/2);this.forEach(n,f=>{const _=i.clone();_.startAngle=u,_.angle=c,f.sector&&(_.radius=f.sector.radius),f.reflow(_),f.sector=_,u+=c+c*r})}}we(MRe,{gap:1,spacing:0});const _Lt=MRe,vLt=class gLt extends Ki{reflow(i){const{options:{reverse:e},children:n}=this,o=n.length,r=e?o-1:0,a=e?-1:1;this.box=new ze;for(let l=r;l>=0&&l<o;l+=a){const c=n[l].sector;c.startAngle=i.startAngle,c.angle=i.angle}}};class Xoe extends XR{pointType(){return mLt}clusterType(){return _Lt}stackType(){return vLt}categorySlot(i,e){return i.getSlot(e)}pointSlot(i,e){const n=i.clone(),o=i.center.y;return n.radius=o-e.y1,n.innerRadius=o-e.y2,n}reflowPoint(i,e){i.sector=e,i.reflow()}createAnimation(){this.options.animation.center=this.box.toRect().center(),super.createAnimation()}}Xoe.prototype.reflow=Mb.prototype.reflow,we(Xoe,{clip:!1,limitPoints:!1,animation:{type:"pie"}});const SLt=Xoe;class Woe extends ERe{createPolarAxis(){const i=new Pse(this.options.categoryAxis,this.chartService);this.polarAxis=i,this.categoryAxis=i,this.appendAxis(i),this.aggregateCategories(),this.createTrendlineSeries(),this.createCategoryAxesLabels()}valueAxisOptions(i){return this._hasBarCharts&&K(i,{majorGridLines:{type:fS},minorGridLines:{type:fS}}),this._isStacked100&&K(i,{roundToMajorUnit:!1,labels:{format:"P0"}}),K(i,this.options.valueAxis)}aggregateCategories(){Gg.prototype.aggregateCategories.call(this,this.panes)}createCategoryAxesLabels(){Gg.prototype.createCategoryAxesLabels.call(this,this.panes)}filterSeries(i){return i}trendlineFactory(i,e){const n=Gg.prototype.trendlineFactory.call(this,i,e);return n&&(n.type=WD),n}createCharts(){const i=this.filterVisibleSeries(this.series),e=this.panes[0];this.createAreaChart(ho(i,[GR]),e),this.createLineChart(ho(i,[WD]),e),this.createBarChart(ho(i,[JV]),e)}chartOptions(i){const e={series:i},n=i[0];if(n){const o=this.filterVisibleSeries(i),r=n.stack;e.isStacked=r&&o.length>1,e.isStacked100=r&&"100%"===r.type&&o.length>1,e.isStacked100&&(this._isStacked100=!0)}return e}createAreaChart(i,e){if(0===i.length)return;const n=new fLt(this,this.chartOptions(i));this.appendChart(n,e)}createLineChart(i,e){if(0===i.length)return;const n=new ORe(this,this.chartOptions(i));this.appendChart(n,e)}createBarChart(i,e){if(0===i.length)return;const n=i[0],o=this.chartOptions(i),r=this.filterVisibleSeries(i),a=r.some(u=>u.stack),l=r.some(u=>u.stack&&"100%"===u.stack.type);o.gap=n.gap,o.spacing=n.spacing,o.defaultStack=n.stack&&r.length>1,o.isStacked=a&&r.length>1,o.isStacked100=l&&r.length>1;const c=new SLt(this,o);this.appendChart(c,e),this._hasBarCharts=!0}seriesCategoryAxis(){return this.categoryAxis}_dispatchEvent(i,e,n){const o=i._eventCoordinates(e),r=new cn(o.x,o.y),a=this.categoryAxis.getCategory(r),l=this.valueAxis.getValue(r);null!==a&&null!==l&&i.trigger(n,{element:bp(e),category:a,value:l})}createCrosshairs(){}_pointsByVertical(i){return super._pointsByVertical(i).sort(this._getSeriesCompareFn())}_getSeriesCompareFn(){return(i,e)=>e.value-i.value}}K(Woe.prototype,YR,{appendChart:Gg.prototype.appendChart,aggregateSeries:Gg.prototype.aggregateSeries,seriesSourcePoints:Gg.prototype.seriesSourcePoints,seriesValues:Gg.prototype.seriesValues}),we(Woe,{categoryAxis:{categories:[]},valueAxis:{}});const CLt=Woe;class C9 extends Ki{constructor(i,e,n){super(e),this.value=i,this.options.index=n.index}getLabelText(i){let e=ta(i);return e?e(this.pointData()):i.format?this.formatValue(i.format):this.value}reflow(i){const e=this.points,n=this.children[0],o=Math.min(e[0].x,e[3].x),r=Math.max(e[1].x,e[2].x);this.box=new ze(o,e[0].y,r,e[2].y),n&&n.reflow(new ze(i.x1,e[0].y,i.x2,e[2].y))}createVisual(){const i=this.options;let e;super.createVisual(),this.addAccessibilityAttributesToVisual(),e=i.visual?i.visual({category:this.category,dataItem:this.dataItem,value:this.value,series:this.series,percentage:this.percentage,points:this.points,options:i,sender:this.getSender(),createVisual:()=>this.createPath()}):this.createPath(),e&&this.visual.append(e)}createPath(){const i=this.options,e=i.border;return ct.fromPoints(this.points,{fill:{color:i.color,opacity:i.opacity},stroke:{color:e.color,opacity:e.opacity,width:e.width}}).close()}createHighlight(i){return ct.fromPoints(this.points,i)}highlightVisual(){return this.visual.children[0]}highlightVisualArgs(){const i=ct.fromPoints(this.points).close();return{options:this.options,path:i}}createFocusHighlight(i){const e=this.options.accessibility.highlight.border.width,n=ct.fromPoints(this.points,K({},i,{stroke:{width:2*e}})).close(),o=new ed;return o.paths.push(ct.fromRect(this.box.clone().pad(e).toRect())),o.paths.push(ct.fromPoints(this.points)),n.clip(o),n}tooltipAnchor(){const i=this.box;return{point:new cn(i.center().x,i.y1),align:{horizontal:"center",vertical:"top"}}}formatValue(i){return this.owner.formatPointValue(this,i)}pointData(){return{dataItem:this.dataItem,category:this.category,value:this.value,series:this.series,percentage:this.percentage}}getIndex(){return this.index}}we(C9,{color:gi,border:{width:1},labels:{format:""},accessibility:{role:ES,className:yS,ariaRoleDescription:kS}}),K(C9.prototype,wp),K(C9.prototype,sO);const bLt=C9;class Yoe extends Ki{constructor(i,e){super(e),this.plotArea=i,this.chartService=i.chartService,this.points=[],this.labels=[],this.legendItems=[],this.render()}formatPointValue(i,e){return this.plotArea.chartService.format.auto(e,i.value)}render(){const{options:e,plotArea:{options:{seriesColors:n=[]}}}=this,o=e.series[0],r=o.data;if(!r)return;const{total:a,points:l}=Gxe(o);for(let c=0;c<l.length;c++){const u=l[c];if(!u)continue;let f=u.fields;Js(o.color)||(o.color=f.color||n[c%n.length]),f=K({index:c,owner:this,series:o,seriesIx:0,dataItem:r[c],percentage:u.value/a},f,{visible:u.visible});const _=u.valueFields.value,g=this.createSegment(_,f),S=this.createLabel(_,f);g&&S&&g.append(S)}}evalSegmentOptions(i,e,n){const o=n.series;Lg(i,{value:e,series:o,dataItem:n.dataItem,index:n.index},{defaults:o._defaults,excluded:["data","content","template","toggle","visual","ariaTemplate","ariaContent"]})}createSegment(i,e){const n=K({},e.series);if(this.evalSegmentOptions(n,i,e),this.createLegendItem(i,n,e),!1!==e.visible){const o=new bLt(i,n,e);return Object.assign(o,e),this.append(o),this.points.push(o),o}}createLabel(i,e){const{series:n,dataItem:o}=e,r=K({},this.options.labels,n.labels);let a=i;if(r.visible){const l=ta(r),c={dataItem:o,value:i,percentage:e.percentage,category:e.category,series:n};l?a=l(c):r.format&&(a=this.chartService.format.auto(r.format,a)),r.color||(r.color=CV(n.color),r.background||(r.background=n.color)),this.evalSegmentOptions(r,i,e);const u=new ad(a,K({vAlign:r.position},r),c);return this.labels.push(u),u}}labelPadding(){const i=this.labels,e={left:0,right:0};for(let n=0;n<i.length;n++){const r=i[n].options.align;if(r!==Cn){const a=i[n].box.width();r===jn?e.left=Math.max(e.left,a):e.right=Math.max(e.right,a)}}return e}dynamicSlopeReflow(i,e,n){const{options:o,points:r}=this,a=r.length,l=r[0];let c=l;for(let g=0;g<r.length;g++)r[g].percentage>c.percentage&&(c=r[g]);let u=l.percentage/c.percentage*e,f=(e-u)/2,_=0;for(let g=0;g<a;g++){const S=r[g].percentage,b=r[g+1],k=b?b.percentage:S,D=r[g].points=[],O=o.dynamicHeight?n*S:n/a;let I;I=S?(e-u*(k/S))/2:k?0:e/2,I=Vt(I,0,e),D.push(new Ie(i.x1+f,i.y1+_)),D.push(new Ie(i.x1+e-f,i.y1+_)),D.push(new Ie(i.x1+e-I,i.y1+O+_)),D.push(new Ie(i.x1+I,i.y1+O+_)),f=I,_+=O+o.segmentSpacing,u=Vt(e-2*I,0,e)}}constantSlopeReflow(i,e,n){const{options:o,points:r}=this,a=r.length,l=o.neckRatio<=1;let u=l?0:(e-e/o.neckRatio)/2;const _=((l?e:e-2*u)-(l?o.neckRatio*e:e))/2;let g=0;for(let S=0;S<a;S++){const b=r[S].points=[],k=r[S].percentage,D=o.dynamicHeight?_*k:_/a,O=o.dynamicHeight?n*k:n/a;b.push(new Ie(i.x1+u,i.y1+g)),b.push(new Ie(i.x1+e-u,i.y1+g)),b.push(new Ie(i.x1+e-u-D,i.y1+O+g)),b.push(new Ie(i.x1+u+D,i.y1+O+g)),u+=D,g+=O+o.segmentSpacing}}reflow(i){const e=this.points,n=e.length;if(!n)return;const o=this.options,r=i.clone().unpad(this.labelPadding()),a=r.height()-o.segmentSpacing*(n-1),l=r.width();o.dynamicSlope?this.dynamicSlopeReflow(r,l,a):this.constantSlopeReflow(r,l,a);for(let c=0;c<n;c++)e[c].reflow(i)}}we(Yoe,{neckRatio:.3,width:300,dynamicSlope:!1,dynamicHeight:!0,segmentSpacing:0,labels:{visible:!1,align:Cn,position:Cn,zIndex:1}}),K(Yoe.prototype,_Re);const IRe=Yoe,kLt=class yLt extends IRe{constructor(i,e){e.dynamicSlope=!1,e.neckRatio=1e6,super(i,e)}};class ZR extends Ki{constructor(i,e){super(),this.options=e,this.color=e.color||gi,this.value=i}render(){this._rendered||(this._rendered=!0,this.createMarker(),this.createLabel(),this.createNote())}createLabel(){const e=this.options.labels;e.visible&&(this.label=this.createLabelElement(e),this.append(this.label))}createLabelElement(i){let e=i.color;return e||(e=CV(this.color)),new ad(this.getLabelText(i),K({align:Cn,vAlign:Cn,margin:{left:5,right:5},zIndex:ln(i.zIndex,this.series.zIndex)},i,{color:e}),this.pointData())}getLabelText(i){let e=ta(i);return e?e(this.pointData()):this.formatValue(i.format)}formatValue(i){return this.owner.formatPointValue(this,i)}reflow(i){this.render();const e=this.label;this.box=i,e&&e.reflow(this.markerBox()),this.note&&this.note.reflow(i),this.marker.reflow(this.markerBox())}createVisual(){super.createVisual(),this.addAccessibilityAttributesToVisual()}markerBox(){const e=this.options.markers,n=e.border,o=this.box.toRect(),a=ln(e.type,"rect")===aIe;let l=ln(n.width,a?1:0);const c=Math.round(l/2);if(e.size){const u=o.center();o.size.width=o.size.height=e.size,o.origin.x=Math.round(u.x-o.size.width/2),o.origin.y=Math.round(u.y-o.size.height/2)}return o.size.width-=l,o.size.height-=l,o.origin.y+=c+.5,o.origin.x+=c+.5,UD(o)}markerBorder(){const i=this.options,n=i.markers.border,o=ln(n.opacity,i.opacity);return{color:n.color||this.color,width:n.width,opacity:o,dashType:n.dashType}}createMarker(){const i=this.options,e=i.markers,n=new kl({type:ln(e.type,"rect"),width:e.size,height:e.size,rotation:e.rotation,background:this.color,border:this.markerBorder(),borderRadius:e.borderRadius,opacity:this.series.opacity||i.opacity,zIndex:ln(i.zIndex,this.series.zIndex),animation:i.animation,visual:i.visual},{dataItem:this.dataItem,value:this.value,series:this.series,category:this.category});this.marker=n,this.append(n)}createHighlight(i){const e=this.options,n=this.options.highlight.markers||this.options.markers,o=new kl({type:ln(n.type,"rect"),width:n.size,height:n.size,rotation:n.rotation,background:n.color||this.color,border:this.markerBorder(),borderRadius:n.borderRadius,opacity:this.series.opacity||e.opacity,zIndex:ln(e.zIndex,this.series.zIndex)});o.reflow(this.markerBox());const r=o.getElement();return r.options.fill=i.fill,r.options.stroke=i.stroke,r}highlightVisual(){return this.rectVisual}highlightVisualArgs(){return{options:this.options,rect:this.box.toRect(),visual:this.rectVisual}}createFocusHighlight(){const i=this.options.markers,e=this.options.accessibility.highlight,n=new kl({type:ln(i.type,"rect"),width:i.size,height:i.size,rotation:i.rotation,background:e.color,border:e.border,borderRadius:i.borderRadius,padding:e.border.width/2,zIndex:e.zIndex});return n.reflow(this.markerBox()),n.getElement()}tooltipAnchor(){const i=this.box.center().x;return{point:new cn(i,this.box.y1-5),align:{horizontal:Cn,vertical:Di}}}overlapsBox(i){return this.box.overlaps(i)}unclipElements(){}pointData(){return{x:this.value.x,y:this.value.y,value:this.value.value,dataItem:this.dataItem,series:this.series}}}K(ZR.prototype,wp),K(ZR.prototype,tO),K(ZR.prototype,sO),ZR.prototype.defaults={markers:{type:"rect",borderRadius:4,border:{color:"transparent"}},padding:{top:1},labels:{visible:!1,padding:3},opacity:1,notes:{label:{}},accessibility:{role:ES,className:yS,ariaRoleDescription:kS}};const xRe=ZR;class ARe extends Ki{constructor(i,e){super(e),this.plotArea=i,this.chartService=i.chartService,this._initFields(),this.render()}_initFields(){this.points=[],this.seriesOptions=[],this.valueRange={min:qo,max:Er},this._evalSeries=[]}render(){this.setRange(),this.traverseDataPoints(this.addValue.bind(this))}setRange(){const{options:{series:i}}=this;for(let e=0;e<i.length;e++){const n=i[e];for(let o=0;o<n.data.length;o++){const{valueFields:r}=this.plotArea.bindPoint(n,o);ge(r.value)&&null!==r.value&&(this.valueRange.min=Math.min(this.valueRange.min,r.value),this.valueRange.max=Math.max(this.valueRange.max,r.value))}}}addValue(i,e){let n;i&&ge(i.value)&&null!==i.value&&(n=this.createPoint(i,e),n&&Object.assign(n,e)),this.points.push(n)}evalPointOptions(i,e,n){const{series:o,seriesIx:r}=n,a={defaults:o._defaults,excluded:["data","tooltip","content","template","visual","toggle","drilldownSeriesFactory","ariaTemplate","ariaContent"]};let l=this._evalSeries[r];ge(l)||(this._evalSeries[r]=l=Lg(i,{},a,!0));let c=i;return l&&(c=K({},i),Lg(c,{value:e,series:o,dataItem:n.dataItem,min:this.valueRange.min,max:this.valueRange.max},a)),c}pointType(){return xRe}pointOptions(i,e){let n=this.seriesOptions[e];if(!n){const o=this.pointType().prototype.defaults;this.seriesOptions[e]=n=K({},o,{markers:{opacity:i.opacity},tooltip:{format:this.options.tooltip.format},labels:{format:this.options.labels.format}},i)}return n}createPoint(i,e){const n=e.series;let o=this.pointOptions(n,e.seriesIx),r=e.color||n.color;o=this.evalPointOptions(o,i,e),Js(n.color)?r=o.color:0!==this.valueRange.max&&(r=((s,i=.05)=>{const e=zu(s),n=1-i;return o=>{const r=e.toHSL(),a=100-r.l;return r.l+=Math.min((n-o)*a,a),r.toCss()}})(r)(i.value/this.valueRange.max));const a=new xRe(i,o);return a.color=r,this.append(a),a}seriesAxes(i){const{xAxis:e,yAxis:n}=i,o=this.plotArea,r=e?o.namedXAxes[e]:o.axisX,a=n?o.namedYAxes[n]:o.axisY;if(!r)throw new Error("Unable to locate X axis with name "+e);if(!a)throw new Error("Unable to locate Y axis with name "+n);return{xAxis:r,yAxis:a}}reflow(i){const e=this.points,n=!this.options.clip;let o=0;this.traverseDataPoints((r,a)=>{const l=e[o++],{xAxis:c,yAxis:u}=this.seriesAxes(a.series),f=c.categoryIndex(r.x),_=u.categoryIndex(r.y),g=c.getSlot(f,f,n),S=u.getSlot(_,_,n);if(l)if(g&&S){const b=this.pointSlot(g,S);l.reflow(b)}else l.visible=!1}),this.box=i}pointSlot(i,e){return new ze(i.x1,e.y1,i.x2,e.y2)}traverseDataPoints(i){const{options:{series:e}}=this;for(let n=0;n<e.length;n++){const o=e[n],{xAxis:r,yAxis:a}=this.seriesAxes(o),l=r.currentRangeIndices(),c=a.currentRangeIndices();for(let u=0;u<o.data.length;u++){const{valueFields:f,fields:_}=this.plotArea.bindPoint(o,u),g=r.totalIndex(f.x),S=a.totalIndex(f.y);l.min<=g&&g<=l.max&&c.min<=S&&S<=c.max&&i(f,K({pointIx:u,series:o,seriesIx:n,dataItem:o.data[u],owner:this},_))}}}formatPointValue(i,e){const n=i.value;return this.chartService.format.auto(e,n.x,n.y,n.value)}animationPoints(){const i=this.points,e=[];for(let n=0;n<i.length;n++)e.push((i[n]||{}).marker);return e}}we(ARe,{series:[],tooltip:{format:"{0}, {1}: {2}"},labels:{format:"{2}"},clip:!0});const TLt=ARe;class Koe extends wS{initFields(){this.namedXAxes={},this.namedYAxes={}}render(i=this.panes){this.bindCategories(),this.createAxes(i),this.createCharts(i),this.createAxisLabels()}bindCategories(){const i=this.srcSeries||this.series;for(let e=0;e<i.length;e++){const n=i[e],o=n.data||[],{xAxis:r,yAxis:a}=this.seriesAxes(n),l=MIe(r.categories||[]),c=MIe(a.categories||[]);for(let u=0;u<o.length;u++){const{x:f,y:_}=Rs.current.bindPoint(n,u).valueFields;l.has(f)||l.add(f),c.has(_)||c.add(_)}r.categories=l.values(),a.categories=c.values()}}createCharts(i){const e=this.groupSeriesByPane();for(let n=0;n<i.length;n++){const o=i[n],r=e[o.options.name||"default"]||[];this.addToLegend(r);const a=this.filterVisibleSeries(r);a&&this.createHeatmapChart(ho(a,[Hse]),o)}}createHeatmapChart(i,e){const n=new TLt(this,{series:i});this.appendChart(n,e)}seriesPaneName(i){const e=this.options,n=i.xAxis,r=su([].concat(e.xAxis),function(g){return g.name===n})[0],a=i.yAxis,c=su([].concat(e.yAxis),function(g){return g.name===a})[0];return(r||{}).pane||(c||{}).pane||(e.panes||[{}])[0].name||"default"}seriesAxes(i){let e,n;const o=this.options,r=[].concat(o.xAxis),a=i.xAxis;e=a?r.find(u=>u.name===a):r[0];const l=[].concat(o.yAxis),c=i.yAxis;if(n=c?l.find(u=>u.name===c):l[0],!e)throw new Error("Unable to locate X axis with name "+a);if(!n)throw new Error("Unable to locate Y axis with name "+c);return{xAxis:e,yAxis:n}}createAxisLabels(){const i=this.axes;for(let e=0;e<i.length;e++)i[e].createLabels()}createXYAxis(i,e,n){const o=i.name,r=e?this.namedYAxes:this.namedXAxes,a=Object.assign({axisCrossingValue:0},i,{vertical:e,reverse:e||this.chartService.rtl?!i.reverse:i.reverse,justified:!1}),c=[a.min,a.max,a.categories?a.categories[0]:null],u=this.series;for(let S=0;S<u.length;S++){const b=u[S],k=b[e?"yAxis":"xAxis"];if(k===a.name||0===n&&!k){const D=Rs.current.bindPoint(b,0).valueFields;c.push(D[e?"y":"x"]);break}}let f,_;for(let S=0;S<c.length;S++)if(c[S]instanceof Date){f=!0;break}_=Ng(a.type,kg)||!a.type&&f?GV:Tg;const g=new _(a,this.chartService);if(g.axisIndex=n,o){if(r[o])throw new Error(`${e?"Y":"X"} axis with name ${o} is already defined`);r[o]=g}return this.appendAxis(g),g.indexCategories(),g}createAxes(i){const e=this.options,n=[].concat(e.xAxis),o=[],r=[].concat(e.yAxis),a=[];for(let l=0;l<n.length;l++)Gn(this.findPane(n[l].pane),i)&&o.push(this.createXYAxis(n[l],!1,l));for(let l=0;l<r.length;l++)Gn(this.findPane(r[l].pane),i)&&a.push(this.createXYAxis(r[l],!0,l));this.axisX=this.axisX||o[0],this.axisY=this.axisY||a[0]}removeAxis(i){const e=i.options.name;super.removeAxis(i),i.options.vertical?delete this.namedYAxes[e]:delete this.namedXAxes[e],i===this.axisX&&delete this.axisX,i===this.axisY&&delete this.axisY}_dispatchEvent(i,e,n){const o=i._eventCoordinates(e),r=new cn(o.x,o.y),a=this.axes,l=a.length,c=[],u=[];for(let f=0;f<l;f++){const _=a[f];e9(_.options.vertical?u:c,_.getCategory(r))}c.length>0&&u.length>0&&i.trigger(n,{element:bp(e),originalEvent:e,x:eO(c),y:eO(u)})}updateAxisOptions(i,e){const n=i.options.vertical,o=this.groupAxes(this.panes),r=(n?o.y:o.x).indexOf(i);RRe(this.options,r,n,e),RRe(this.originalOptions,r,n,e)}crosshairOptions(i){return Object.assign({},i.options.crosshair,{zIndex:0})}_pointsByVertical(i,e=0){const n=this.axisX.options.reverse?-1*e:e,o=this.axisX.children;let r=this._getPointAxisXIndex(i)+n;r=_V(r,o.length);const a=o[r].value,l=this.filterPoints(c=>Joe(c.pointData().x,a)).sort((c,u)=>this._getPointAxisYIndex(c)-this._getPointAxisYIndex(u));return this.axisY.options.reverse?l.reverse():l}_pointsByHorizontal(i,e=0){const n=this.axisY.options.reverse?-1*e:e,o=this.axisY.children;let r=this._getPointAxisYIndex(i)+n;r=_V(r,o.length);const a=o[r].value,l=this.filterPoints(c=>Joe(c.pointData().y,a)).sort((c,u)=>this._getPointAxisXIndex(c)-this._getPointAxisXIndex(u));return this.axisX.options.reverse?l.reverse():l}_getPointAxisXIndex(i){return this._getPointAxisIndex(this.axisX,i.pointData().x)}_getPointAxisYIndex(i){return this._getPointAxisIndex(this.axisY,i.pointData().y)}_getPointAxisIndex(i,e){return i.children.findIndex(n=>Joe(e,n.value))}}function Joe(s,i){return s instanceof Date&&i instanceof Date?xV(s,i):s===i}function RRe(s,i,e,n){K([].concat(e?s.yAxis:s.xAxis)[i],n)}we(Koe,{xAxis:{},yAxis:{}}),K(Koe.prototype,YR);const MLt=Koe,ou="color",ru="first",hc="max",Bg="noteText";Fg.current.register(Gg,[mh,Em,Ag,Db,xg,wb,HD,XD,CS,FR,RR,JD,PR,KD,UR,$D,YD,Ob,...qD]),Fg.current.register(zoe,[Wse,Yse,jD,...qD]),Fg.current.register(SRe,[bS]),Fg.current.register(class J8t extends SRe{render(){this.createDonutChart(this.series)}createDonutChart(i){const e=i[0],n=new K8t(this,{series:i,padding:e.padding,connectors:e.connectors,legend:this.options.legend});this.appendChart(n)}getPointBelow(i){return this._getNextPoint(i,this._pointsByVertical,-1)}getPointAbove(i){return this._getNextPoint(i,this._pointsByVertical,1)}},[YV]),Fg.current.register(class wLt extends wS{render(){this.createChart(IRe,ho(this.series,[NR])),this.createChart(kLt,ho(this.series,[LR]))}createChart(i,e){const n=e[0];if(!n)return;const o=new i(this,{series:e,legend:this.options.legend,neckRatio:n.neckRatio,dynamicHeight:n.dynamicHeight,dynamicSlope:n.dynamicSlope,segmentSpacing:n.segmentSpacing,highlight:n.highlight});this.appendChart(o)}appendChart(i,e){super.appendChart(i,e),bb(this.options.legend.data,i.legendItems)}_pointsByVertical(i){return this.pointsBySeriesIndex(i.series.index)}getPointToTheRight(i){return this.getPointBelow(i)}getPointToTheLeft(i){return this.getPointAbove(i)}},[NR,LR]),Fg.current.register(aLt,[$se,KV,Xse,...qD]),Fg.current.register(CLt,[GR,JV,WD,...qD]),Fg.current.register(MLt,[Hse]),Rs.current.register([mh,Em,Ag,Db,xg,wb],[nu],[kp,ou,Bg,"errorLow","errorHigh",Rg]),Rs.current.register([PR,KD,YD,Ob],["from","to"],[kp,ou,Bg,Rg]),Rs.current.register([UR,$D],[nu],[kp,ou,Bg,"summary",Rg]),Rs.current.register([$se,KV,Xse],[kt,Ot],[ou,Rg]),Rs.current.register([GR,JV,WD],[nu],[kp,ou,Rg]),Rs.current.register([NR,LR],[nu],[kp,ou,"visibleInLegend","visible",Rg]),Ab.current.register([mh,Em,Ag,Db,xg,wb,UR,$D],{value:hc,color:ru,noteText:ru,errorLow:"min",errorHigh:hc}),Ab.current.register([PR,KD,YD,Ob],{from:"min",to:hc,color:ru,noteText:ru}),Ab.current.register([GR,JV,WD],{value:hc,color:ru}),Rs.current.register([Wse,Yse,jD],[kt,Ot],[ou,Bg,"xErrorLow","xErrorHigh","yErrorLow","yErrorHigh"]),Rs.current.register([jD],[kt,Ot,"size"],[ou,kp,Bg]),Rs.current.register([Hse],[kt,Ot,nu],[ou,Bg]),Rs.current.register([HD,XD],["open","high","low","close"],[kp,ou,"downColor",Bg]),Ab.current.register([HD,XD],{open:hc,high:hc,low:"min",close:hc,color:ru,downColor:ru,noteText:ru}),Rs.current.register([RR,JD],["lower","q1","median","q3","upper","mean","outliers"],[kp,ou,Bg,Rg]),Ab.current.register([RR,JD],{lower:hc,q1:hc,median:hc,q3:hc,upper:hc,mean:hc,outliers:ru,color:ru,noteText:ru}),Rs.current.register([CS,FR],["current","target"],[kp,ou,"visibleInLegend",Bg,Rg]),Ab.current.register([CS,FR],{current:hc,target:hc,color:ru,noteText:ru}),Rs.current.register([bS,YV],[nu],[kp,ou,"explode","visibleInLegend","visible",Rg]);const Qoe=[kp,nu,kt,Ot],Bb="mousemove",NRe="contextmenu",LRe="mouseleave";class URe extends ft{constructor(i,e,n,o={}){super(),this.observers=[],this.addObserver(o.observer),this.chartService=new Ese(this,o),this.chartService.theme=n,this._initElement(i);const r=K({},this.options,e);this._originalOptions=K({},r),this._theme=n,this._initTheme(r,n),this._focusState={},this._initHandlers(),this._initSurface(),this.bindCategories(),Zxt.preloadFonts(e,()=>{this.fontLoaded=!0,this._destroyed||(this.trigger("init"),this._redraw(),this._attachEvents())})}_initElement(i){for(this._setElementClass(i),i.style.position="relative",i.tabIndex=i.getAttribute("tabindex")?i.getAttribute("tabindex"):0,i.setAttribute("role","graphics-document document");i.firstChild;)i.removeChild(i.firstChild);this.element=i}_setElementClass(i){Qo(i,"k-chart")}_initTheme(i,e){const n=[],o=i.series||[];for(let r=0;r<o.length;r++)n.push(Object.assign({},o[r]));i.series=n,function LLt(s){const i=Qoe;for(let e=0;e<i.length;e++){const n=i[e]+"Axes";s[n]&&(s[i[e]+"Axis"]=s[n],delete s[n])}}(i),this.applyDefaults(i,e),null===i.seriesColors&&delete i.seriesColors,rd(i.title)&&(i.title={text:i.title}),this.options=K({},e,i),this.applySeriesColors()}getSize(){const i=this.options.chartArea||{};return{width:i.width?parseInt(i.width,10):Math.floor(this.element.offsetWidth),height:i.height?parseInt(i.height,10):Math.floor(this.element.offsetHeight)}}resize(i){const e=this.getSize(),n=this._size,o=e.width>0||e.height>0;i||o&&(!n||e.width!==n.width||e.height!==n.height)?(this._size=e,this._resize(e,i),this.trigger("resize",e)):o&&this._selections&&DIe(this._selections,r=>!r.visible)&&(this._destroySelections(),this._setupSelection())}_resize(){this._noTransitionsRedraw()}redraw(i){if(this.applyDefaults(this.options),this.applySeriesColors(),i){const e=this._model._plotArea,n=e.findPane(i);e.redraw(n)}else this._redraw()}getAxis(i){return gxe(i,this._plotArea.axes)}findAxisByName(i){return this.getAxis(i)}findPaneByName(i){const e=this._plotArea.panes;for(let n=0;n<e.length;n++)if(e[n].options.name===i)return new Use(e[n])}findPaneByIndex(i){const e=this._plotArea.panes;if(e[i])return new Use(e[i])}plotArea(){return new cRt(this._plotArea)}toggleHighlight(i,e){const n=this._plotArea,o=(n.srcSeries||n.series||[])[0];let r;if(Js(e))r=n.filterPoints(e);else{let a,l;dh(e)?(a=e.series,l=e.category):a=l=e,r=o.type===YV?BRe(n.pointsBySeriesName(a),l):Gn(o.type,[bS,NR,LR])?BRe((n.charts[0]||{}).points,l):n.pointsBySeriesName(a)}r&&this.togglePointsHighlight(i,r)}togglePointsHighlight(i,e){const n=this._highlight;for(let o=0;o<e.length;o++)n.togglePointHighlight(e[o],i)}showTooltip(i){const e=this._sharedTooltip(),{_tooltip:n,_plotArea:o}=this;let r,a;if(Js(i)?(r=o.findPoint(i),r&&e&&(a=r.categoryIx)):e&&ge(i)&&(a=o.categoryAxis.categoryIndex(i)),e){if(a>=0){const l=this._plotArea.pointsByCategoryIndex(a);n.showAt(l)}}else r&&n.show(r)}hideTooltip(){this._tooltip.hide()}_initSurface(){const i=this.surface,e=this._surfaceWrap(),n=this.options.chartArea||{};n.width&&wg(e,{width:n.width}),n.height&&wg(e,{height:n.height}),i&&i.options.type===this.options.renderAs?(this.surface.clear(),this.surface.resize()):(this._destroySurface(),this.surface=aO.create(e,{type:this.options.renderAs}),this.surface.bind("mouseenter",this._surfaceMouseenterHandler),this.surface.bind("mouseleave",this._surfaceMouseleaveHandler))}_surfaceWrap(){return this.element}_redraw(){const i=this._getModel();this._size={width:i.options.width,height:i.options.height},this._destroyView(),this._setElementAccessibilityAttributes(),this._model=i,this._plotArea=i._plotArea,this._legend=i._legend,i.renderVisual(),!1!==this.options.transitions&&i.traverse(function(e){e.animation&&e.animation.setup()}),this._initSurface(),this.surface.draw(i.visual),!1!==this.options.transitions&&i.traverse(function(e){e.animation&&e.animation.play()}),this._tooltip=this._createTooltip(),this._highlight=new WNt,this._setupSelection(),this._createPannable(),this._createZoomSelection(),this._createMousewheelZoom(),this.trigger("render"),zRe(this._plotArea.panes),this._navState||this._cancelDomEvents()}_setElementAccessibilityAttributes(){let i=this.options.title,e=rd(i)?i:i.description||i.text;e&&this.element.setAttribute("aria-roledescription",e)}exportVisual(i){let e;if(i&&(i.width||i.height||i.options)){const n=this.options,o=K({},i.options,{chartArea:{width:i.width,height:i.height}});Zoe(this._originalOptions,o),this.options=K({},this._originalOptions,o),this._initTheme(this.options,this._theme),this.bindCategories();const r=this._getModel();r.renderVisual(),zRe(r._plotArea.panes),e=r.visual,this.options=n}else e=this.surface.exportVisual();return e}_sharedTooltip(){return this._plotArea instanceof Gg&&this.options.tooltip&&this.options.tooltip.shared}_createPannable(){const i=this.options;!1!==i.pannable&&(this._pannable=new YNt(this._plotArea,i.pannable))}_createZoomSelection(){const i=this.options.zoomable,e=(i||{}).selection;!1!==i&&!1!==e&&(this._zoomSelection=new KNt(this,e))}_createMousewheelZoom(){const i=this.options.zoomable,e=(i||{}).mousewheel;!1!==i&&!1!==e&&(this._mousewheelZoom=new e8t(this,e))}_toggleDragZoomEvents(){const e=this.options.zoomable,o=(e||{}).mousewheel,r=!(this.options.pannable||!1!==e&&!1!==(e||{}).selection||this.requiresHandlers([noe,BR,VR])),a=(!1===e||!1===o)&&!this.requiresHandlers([zR,QD,ZD]),l=this.element;this._dragZoomEnabled&&r&&a?(l.style.touchAction=this._touchAction||"",this._dragZoomEnabled=!1):!this._dragZoomEnabled&&!(r&&a)&&(l.style.touchAction="none",this._dragZoomEnabled=!0),this._toggleDomEvents(!r,!a)}_toggleDomEvents(i,e){const n=this.domEvents;n&&(n.toggleDrag&&n.toggleDrag(i),n.toggleZoom&&n.toggleZoom(e))}_createTooltip(){const{options:{tooltip:i}}=this;let e;return e=this._sharedTooltip()?this._createSharedTooltip(i):new g8t(this.chartService,i),e}_createSharedTooltip(i){return new rRe(this._plotArea,i)}applyDefaults(i,e){(function GLt(s,i){const e=(i||{}).axisDefaults||{};let n,o,r;function a(l){const c=(l||{}).color||o.color,u=K({},e,e[n],o,o[n],{line:{color:c},labels:{color:c},title:{color:c}},l);return delete u[n],u}for(let l=0;l<Qoe.length;l++)n=Qoe[l]+"Axis",o=s.axisDefaults||{},r=[].concat(s[n]),r=r.map(a),s[n]=r.length>1?r:r[0]})(i,e),function PLt(s,i){const e=s.series,n=e.length,o=s.seriesDefaults,r=K({},s.seriesDefaults),a=i?K({},i.seriesDefaults):{},l=K({},a);VRe(r),VRe(l);for(let c=0;c<n;c++){const u=e[c].type||s.seriesDefaults.type,f=K({data:[]},l,a[u],{tooltip:s.tooltip},r,o[u]);e[c]._defaults=f,e[c]=K({},f,e[c]),e[c].data=e[c].data||[]}}(i,e)}applySeriesColors(){const i=this.options,e=i.series,n=i.seriesColors||[];for(let o=0;o<e.length;o++){const r=e[o],a=n[o%n.length],l=r._defaults;r.color=r.color||a,l&&(l.color=l.color||a)}}_getModel(){const i=this.options,e=this._createPlotArea(),n=new CAt(this._modelOptions());n.chart=this,n._plotArea=e;const o=OR.buildTitle(i.title),r=OR.buildTitle(i.subtitle,{align:i.title.align,position:i.title.position});if(n.append.apply(n,OR.orderTitles([o,r])),i.legend&&i.legend.visible){const a=new tRe(e.options.legend,this.chartService);n.append(a),n._legend=a}return n.append(e),n.reflow(),n}_modelOptions(){const i=this.options,e=this.getSize();return K({transitions:i.transitions,width:e.width||600,height:e.height||400},i.chartArea)}_createPlotArea(i){const e=this.options;return Fg.current.create(i?[]:e.series,e,this.chartService)}_setupSelection(){const{_plotArea:{axes:i}}=this,e=this._selections=[];for(let n=0;n<i.length;n++){const o=i[n],r=o.options;if(o instanceof Tg&&r.select&&!r.vertical){const a=o.range(),l=new sRe(this,o,K({min:a.min,max:a.max},r.select));e.push(l)}}}_selectStart(i){return this.trigger(ioe,i)}_select(i){return this.trigger(jR,i)}_selectEnd(i){return this.trigger(soe,i)}_initHandlers(){this._clickHandler=this._click.bind(this),this._keydownHandler=this._keydown.bind(this),this._focusHandler=this._focus.bind(this),this._blurHandler=this._blur.bind(this),this._mousedownHandler=this._mousedown.bind(this),this._mousewheelHandler=this._mousewheel.bind(this),this._mouseleaveHandler=this._mouseleave.bind(this),this._surfaceMouseenterHandler=this._mouseover.bind(this),this._surfaceMouseleaveHandler=this._mouseout.bind(this),this._mousemove=f9(this._mousemove.bind(this),20)}addObserver(i){i&&this.observers.push(i)}removeObserver(i){const e=this.observers.indexOf(i);e>=0&&this.observers.splice(e,1)}requiresHandlers(i){const e=this.observers;for(let n=0;n<e.length;n++)if(e[n].requiresHandlers(i))return!0}trigger(i,e={}){e.sender=this,i===Mxe?e.anchor.point=this._toDocumentCoordinates(e.anchor.point):i===Dxe?this._updateDrilldownPoint(e.point):i===Oxe?this._resetDrilldownPoint():i===kxe?(this._focusPoint(e.point),this._startDrilldown(e.point)):i===yxe&&this._focusLegendItem(e);const n=this.observers;let o=!1;for(let r=0;r<n.length;r++)n[r].trigger(i,e)&&(o=!0);return o}_attachEvents(){const i=this.element;this._touchAction=i.style.touchAction,ER(i,{[NRe]:this._clickHandler,[ZV]:this._mousewheelHandler,[LRe]:this._mouseleaveHandler,keydown:this._keydownHandler,mousedown:this._mousedownHandler,focus:this._focusHandler,blur:this._blurHandler}),this._shouldAttachMouseMove()&&ER(i,{[Bb]:this._mousemove}),this.domEvents=WIe.create(this.element,{start:this._start.bind(this),move:this._move.bind(this),end:this._end.bind(this),tap:this._tap.bind(this),gesturestart:this._gesturestart.bind(this),gesturechange:this._gesturechange.bind(this),gestureend:this._gestureend.bind(this)}),this._toggleDragZoomEvents()}_mouseleave(i){this._hoveredPoint&&(this._hoveredPoint.out(this,i),this._hoveredPoint=null),this._plotAreaHovered&&(this._plotAreaHovered=!1,this.trigger(toe)),this._hasInactiveOpacity()&&this._activeChartInstance&&(this._applySeriesOpacity(this._activeChartInstance.children,null,!0),this._updateSeriesOpacity(null,!0))}_cancelDomEvents(){this.domEvents&&this.domEvents.cancel&&this.domEvents.cancel()}_gesturestart(i){this._mousewheelZoom&&!this._stopChartHandlers(i)&&(this._gestureDistance=i.distance,this._unsetActivePoint(),this._clearFocusedElement(),this.surface.suspendTracking())}_gestureend(i){this._zooming&&!this._stopChartHandlers(i)&&(this.surface&&this.surface.resumeTracking(),this._zooming=!1,this.trigger(ZD,{}))}_gesturechange(i){const e=this._mousewheelZoom;if(e&&!this._stopChartHandlers(i)){i.preventDefault();let o=-i.distance/this._gestureDistance+1;if(Math.abs(o)>=.1){o=Math.round(10*o),this._gestureDistance=i.distance;const r={delta:o,axisRanges:e4(this._plotArea.axes),originalEvent:i};if(this._zooming||!this.trigger(zR,r)){const a=this._eventCoordinates(i);this._zooming||(this._zooming=!0),(r.axisRanges=e.updateRanges(o,a))&&!this.trigger(QD,r)&&e.zoom()}}}}_mouseout(i){if(i.element){const e=this._drawingChartElement(i.element,i);e&&e.leave&&e.leave(this,i.originalEvent)}}_start(i){const e=this._eventCoordinates(i);this._stopChartHandlers(i)||!this._plotArea.backgroundContainsPoint(e)||(this.requiresHandlers([noe,BR,VR])&&this._startNavigation(i,e,noe),this._pannable&&this._pannable.start(i)&&(this.surface.suspendTracking(),this._unsetActivePoint(),this._clearFocusedElement(),this._suppressHover=!0,this.chartService.panning=!0),this._zoomSelection&&this._zoomSelection.start(i)&&this.trigger(zR,{axisRanges:e4(this._plotArea.axes),originalEvent:i}))}_move(i){let{_navState:e,_pannable:n}=this;if(!this._stopChartHandlers(i)){if(n){const o=n.move(i);o&&!this.trigger(BR,{axisRanges:o,originalEvent:i})&&n.pan()}else if(e){const o={},r=e.axes;for(let a=0;a<r.length;a++){const l=r[a];if(l.options.name){const u=l.options.vertical?i.y:i.x,f=u.startLocation-u.location;0!==f&&(o[l.options.name]=l.translateRange(f))}}e.axisRanges=o,this.trigger(BR,{axisRanges:o,originalEvent:i})}this._zoomSelection&&this._zoomSelection.move(i)}}_end(i){if(this._stopChartHandlers(i))return;const e=this._pannable;if(e&&e.end(i)?(this.surface.resumeTracking(),this.trigger(VR,{axisRanges:e4(this._plotArea.axes),originalEvent:i}),this._suppressHover=!1,this.chartService.panning=!1):this._endNavigation(i,VR),this._zoomSelection){const n=this._zoomSelection.end(i);n&&!this.trigger(QD,{axisRanges:n,originalEvent:i})&&(this._zoomSelection.zoom(),this.trigger(ZD,{axisRanges:n,originalEvent:i}))}}_stopChartHandlers(i){const e=this._selections||[];if(!e.length)return!1;const n=this._eventCoordinates(i),o=this._plotArea.paneByPoint(n);if(o)for(let r=0;r<e.length;r++)if(e[r].onPane(o))return!0}_mousewheelZoomRate(){return ln(((this.options.zoomable||{}).mousewheel||{}).rate,.3)}_mousewheel(i){const e=use(i),n=this._mousewheelZoom,o=this._eventCoordinates(i);if(!this._stopChartHandlers(i)&&this._plotArea.backgroundContainsPoint(o))if(n){const r={delta:e,axisRanges:e4(this._plotArea.axes),originalEvent:i};(this._zooming||!this.trigger(zR,r))&&(i.preventDefault(),this._zooming||(this._unsetActivePoint(),this._clearFocusedElement(),this.surface.suspendTracking(),this._zooming=!0),this._mwTimeout&&clearTimeout(this._mwTimeout),r.axisRanges=n.updateRanges(e,o),r.axisRanges&&!this.trigger(QD,r)&&n.zoom(),this._mwTimeout=setTimeout(()=>{this.trigger(ZD,r),this._zooming=!1,this.surface&&this.surface.resumeTracking()},150))}else{let r=this._navState;if(r||this._startNavigation(i,o,zR)||(r=this._navState),r){const a=r.totalDelta||e;r.totalDelta=a+e;const l=this._navState.axes,c={};for(let u=0;u<l.length;u++){const f=l[u],_=f.options.name;_&&(c[_]=f.scaleRange(-a*this._mousewheelZoomRate(),o))}this.trigger(QD,{delta:e,axisRanges:c,originalEvent:i}),this._mwTimeout&&clearTimeout(this._mwTimeout),this._mwTimeout=setTimeout(()=>{this._endNavigation(i,ZD)},150)}}}_startNavigation(i,e,n){const o=this._model._plotArea,r=o.findPointPane(e),a=o.axes.slice(0);if(!r)return;const l=e4(a);this.trigger(n,{axisRanges:l,originalEvent:i})?this._cancelDomEvents():(this._suppressHover=!0,this._unsetActivePoint(),this._clearFocusedElement(),this._navState={axisRanges:l,pane:r,axes:a})}_endNavigation(i,e){this._navState&&(this.trigger(e,{axisRanges:this._navState.axisRanges,originalEvent:i}),this._suppressHover=!1,this._navState=null)}_getChartElement(i,e){const n=this.surface.eventTarget(i);if(n)return this._drawingChartElement(n,i,e)}_drawingChartElement(i,e,n){let r,o=i;for(;o&&!r;)r=o.chartElement,o=o.parent;if(r)return r.aliasFor&&(r=r.aliasFor(e,this._eventCoordinates(e))),n&&(r=r.closest(n),r&&r.aliasFor&&(r=r.aliasFor())),r}_eventCoordinates(i){const e=bIe(i);return this._toModelCoordinates(e.x,e.y)}_elementPadding(){if(!this._padding){const{paddingLeft:i,paddingTop:e}=uo(this.element,["paddingLeft","paddingTop"]);this._padding={top:e,left:i}}return this._padding}_toDocumentCoordinates(i){const e=this._elementPadding(),n=ND(this.element);return{left:qe(i.x+e.left+n.left),top:qe(i.y+e.top+n.top)}}_toModelCoordinates(i,e){const n=this.element,o=ND(n),r=this._elementPadding(),a=function sAt(s){if(!s)return SV.unit();let i=OIe(s),e=s.parentElement;for(;e;){const n=OIe(e);i=i.multiplyCopy(n),e=e.parentElement}return i.b=i.c=i.e=i.f=0,i}(n).invert(),l=new Ie(i-o.left-r.left,e-o.top-r.top).transform(a);return new cn(l.x,l.y)}_tap(i){const e=this.surface.eventTarget(i),n=this._drawingChartElement(e,i),o=this._sharedTooltip();!this._startHover(e,i)&&!o&&this._unsetActivePoint(),o&&this._trackSharedTooltip(this._eventCoordinates(i),i,!0),this._propagateClick(n,i),this.handlingTap=!0,setTimeout(()=>{this.handlingTap=!1},0)}_click(i){const e=this._getChartElement(i);this._propagateClick(e,i)}_propagateClick(i,e){let n=i;for(;n;)n.click&&n.click(this,e),n=n.parent}_isLegendBeforeChart(){const{options:{legend:{position:i}},_legend:e}=this;return e&&e.hasItems()&&(i===Qn||i===jn)}_focus(){this._preventInitialPointFocus||(this._isLegendBeforeChart()?this._focusFirstLegendItem():this._focusFirstPoint()),this._preventInitialPointFocus=!1}_keydown(i){const{_focusState:{legendInFocus:e},_legend:n}=this;if("Tab"===i.key){this._clearFocusedElement();const o=this._isLegendBeforeChart();e&&o!==i.shiftKey?this._navigatePoints(i):!e&&o===i.shiftKey&&n.hasItems()&&this._navigateLegend(i)}else e?this._navigateLegend(i):this._navigatePoints(i)}_navigatePoints(i){const{_focusState:e,_plotArea:n}=this;if(e.legendInFocus=!1,!e.focusedElement)return this._focusFirstPoint(),void i.preventDefault();const o=r=>{e.focusedPoint=r,this._focusElement(e.focusedPoint),i.preventDefault()};switch(i.key){case tIe:o(n.getPointToTheRight(e.focusedPoint));break;case"ArrowLeft":o(n.getPointToTheLeft(e.focusedPoint));break;case"ArrowDown":o(n.getPointBelow(e.focusedPoint));break;case"ArrowUp":o(n.getPointAbove(e.focusedPoint))}}_navigateLegend(i){const{_focusState:e,_legend:n,chartService:{rtl:o}}=this;if(e.legendInFocus=!0,!e.focusedElement)return this._focusFirstLegendItem(),void i.preventDefault();const r=n.getItems().length,a=l=>{e.focusedLegendItemIndex=l(e.focusedLegendItemIndex,r),this._focusElement(this._getFocusedLegendItem()),i.preventDefault()};switch(i.key){case"ArrowUp":case"ArrowLeft":a(o?uIe:hIe);break;case"ArrowDown":case tIe:a(o?hIe:uIe)}}_focusFirstPoint(){const i=this._focusState.focusedPoint=this._plotArea.getFirstPoint();i&&this._focusElement(i)}_hasFocus(){return this.element.ownerDocument.activeElement===this.element}_mousedown(){this._hasFocus()||(this._preventInitialPointFocus=!0)}_focusChart(){this._hasFocus()||(this._preventInitialPointFocus=!0,this.element.focus())}_focusPoint(i){this._focusState.focusedPoint=i,this._focusChart(),this._focusElement(i,!0)}_focusFirstLegendItem(){const{_focusState:i}=this;i.focusedLegendItemIndex=0,this._focusElement(this._getFocusedLegendItem()),i.legendInFocus=!0}_focusLegendItem(i){const{_focusState:e}=this;e.focusedLegendItemIndex=this._legend.getItems().findIndex(n=>n.options.series.index===i.seriesIndex&&n.options.pointIndex===i.pointIndex),e.legendInFocus=!0,this._focusChart(),this._focusElement(this._getFocusedLegendItem(),!0)}_getFocusedLegendItem(){const{_focusState:i,_legend:e}=this;return e.getItems()[i.focusedLegendItemIndex]}_focusElement(i,e){const{_focusState:n}=this;if(this._clearFocusedElement(),i&&(n.focusedElement=i,this._setElementActiveDescendant(i),!e))if(i.focusVisual(),n.legendInFocus){const o=i.options;this._showSeriesInactiveOpacity(o.series.index,o.pointIndex)}else this._showInactiveOpacity(i)}_clearFocusedElement(){const{_focusState:i}=this;i&&(i.focusedElement&&(i.focusedElement.clearFocusFromVisual(),this._clearElementActiveDescendant()),i.focusedElement=null)}_setElementActiveDescendant(i){"canvas"===this.options.renderAs&&(this._pseudoFocusedElement=this._createPseudoFocusedElement(i),this.element.append(this._pseudoFocusedElement)),this.element.setAttribute(nIe,i._id)}_clearElementActiveDescendant(){this._pseudoFocusedElement&&(this._pseudoFocusedElement.remove(),this._pseudoFocusedElement=null),this.element.removeAttribute(nIe)}_createPseudoFocusedElement(i){const e=document.createElement("div"),n=i.options.accessibility;e.id=i._id,e.setAttribute("aria-label",i.getAriaLabelText()),e.setAttribute("role",n.role),e.setAttribute("aria-roledescription",n.ariaRoleDescription);const o=n.ariaChecked;return ge(o)&&e.setAttribute("aria-checked",o),e}_blur(){this._focusState.legendInFocus=!1,this._clearFocusedElement(),this._hideInactiveOpacity()}_startHover(i,e){if(this._suppressHover)return!1;let n=this._drawingChartElement(i,e,function(r){return(r.hover||r.over)&&!(r instanceof wS)});const o=this._activePoint;return this._updateHoveredPoint(n,e),n&&o!==n&&n.hover&&(this._activePoint=n,!this._sharedTooltip()&&!n.hover(this,e)&&(this._displayTooltip(n),this._showInactiveOpacity(n))),n}_displayTooltip(i){K({},this.options.tooltip,i.options.tooltip).visible&&this._tooltip.show(i)}_displayInactiveOpacity(i,e,n){const o=this._activeChartInstance=this._chartInstanceFromPoint(i);if(o)if(e)this._updateSeriesOpacity(i),this._applySeriesOpacity(o.children,null,!0),this._applySeriesOpacity(o.children,i.series),this._highlight.show(n||i);else{let r;if(!o.supportsPointInactiveOpacity())return void this._highlight.show(i);r=this._getInactivePoints(i,o),r&&r.length&&this._highlight.show(r,1-this._getInactiveOpacityForSeries(i.series))}}_getInactivePoints(i,e){return this._getAllPointsOfType(e,i.constructor).filter(o=>o!==i)}_getAllPointsOfType(i,e){let n=[];for(let o=0;o<i.children.length;o++){const r=i.children[o];r.constructor===e?n.push(r):r.children&&r.children.length&&(n=n.concat(this._getAllPointsOfType(r,e)))}return n}_updateHoveredPoint(i,e){const n=this._hoveredPoint;n&&n!==i&&(n.out(this,e),this._hoveredPoint=null),i&&n!==i&&i.over&&(this._hoveredPoint=i,i.over(this,e))}_updateDrilldownPoint(i){if(!i||!i.series)return;const{fields:e}=Rs.current.bindPoint(i.series,null,i.dataItem);e.drilldown&&(this._drilldownState={cursor:this.element.style.cursor},this.element.style.cursor="pointer")}_resetDrilldownPoint(){this._drilldownState&&(this.element.style.cursor=this._drilldownState.cursor,this._drilldownState=null)}_startDrilldown(i){if(!i||!i.series)return;const e=i.series,{fields:n}=Rs.current.bindPoint(e,null,i.dataItem),o=n.drilldown;o&&this.trigger("drilldown",{series:e,point:i,value:o,sender:this})}_updateSeriesOpacity(i,e){const n=this._plotArea,o=n.series.length;for(let r=0;r<o;r++){const a=n.series[r],l=this._getDefaultOpacityForSeries(a),c=this._getInactiveOpacityForSeries(a);e||a===i.series?(a.opacity=l,a.line&&(a.line.opacity=l)):(a.defaultOpacity=l,a.opacity=c,a.line&&(a.line.opacity=c))}}_applySeriesOpacity(i,e,n,o){for(let r=0;r<i.length;r++){const a=i[r],l=a.series||o;l&&(l.highlight||{}).visible&&a.visual&&(l!==e||n)&&a.visual.opacity(n?1:o?o.opacity:a.series.opacity),a.children&&a.children.length&&this._applySeriesOpacity(a.children,e,n,a.series)}}_chartInstanceFromPoint(i){let e=i.parent;for(;e&&!e.plotArea;)e=e.parent;return e}_showInactiveOpacity(i){const e=this._plotArea.series.length>1;this._hasInactiveOpacity()?this._displayInactiveOpacity(i,e):this._highlight.show(i)}_hideInactiveOpacity(i){const e=this._plotArea.series.length>1;this._hasInactiveOpacity()&&(e&&this._activeChartInstance&&(this._updateSeriesOpacity(i,!0),this._applySeriesOpacity(this._activeChartInstance.children,null,!0),this._activeChartInstance=null),this._highlight&&this._highlight.hide(),this._activePoint=null)}_hasInactiveOpacity(){let i=void 0!==this.options.seriesDefaults.highlight.inactiveOpacity,e=this.options.series.filter(n=>void 0!==n.highlight.inactiveOpacity).length>0;return i||e}_getInactiveOpacityForSeries(i){return i.highlight.inactiveOpacity||this.options.seriesDefaults.highlight.inactiveOpacity||i.opacity||1}_getDefaultOpacityForSeries(i){return i.defaultOpacity||i.opacity||1}_mouseover(i){const e=this._startHover(i.element,i.originalEvent);e&&e.tooltipTracking&&!this._mouseMoveTrackHandler&&!this._sharedTooltip()&&(this._mouseMoveTrackHandler=this._mouseMoveTracking.bind(this),ER(document,{[Bb]:this._mouseMoveTrackHandler}))}_mouseMoveTracking(i){const{options:e,_tooltip:n,_highlight:o,_activePoint:r}=this,a=this._eventCoordinates(i);if(this._plotArea.box.containsPoint(a)){if(r&&r.tooltipTracking&&r.series&&r.parent.getNearestPoint){const l=r.parent.getNearestPoint(a.x,a.y,r.seriesIx);l&&l!==r&&(this._activePoint=l,l.hover(this,i)||(K({},e.tooltip,l.options.tooltip).visible&&n.show(l),o.show(l)))}}else yR(document,{[Bb]:this._mouseMoveTrackHandler}),this._unsetActivePoint(),this._clearFocusedElement(),this._mouseMoveTrackHandler=null,this._hideInactiveOpacity(r)}_mousemove(i){const e=this._eventCoordinates(i),n=this._plotArea;if(this._trackCrosshairs(e),n.hover){const o=n.backgroundContainsPoint(e);o?(this._plotAreaHovered=!0,this._plotArea.hover(this,i)):this._plotAreaHovered&&!o&&(this._plotAreaHovered=!1,this.trigger(toe))}this._sharedTooltip()&&this._trackSharedTooltip(e,i)}_trackCrosshairs(i){const e=this._plotArea.crosshairs;for(let n=0;n<e.length;n++){const o=e[n];o.box.containsPoint(i)?o.showAt(i):o.hide()}}_trackSharedTooltip(i,e,n){if(this._suppressHover)return;const{options:{tooltip:o},_plotArea:r,_plotArea:{categoryAxis:a},_tooltip:l,_highlight:c}=this;if(r.backgroundContainsPoint(i)){const u=a.pointCategoryIndex(i);if(u!==this._tooltipCategoryIx||!this._sharedHighlight&&n){const f=r.pointsByCategoryIndex(u),_=f.map(function(S){return S.eventArgs(e)}),g=_[0]||{};g.categoryPoints=_,f.length>0&&!this.trigger(wxe,g)?(o.visible&&l.showAt(f,i),c.show(f),this._sharedHighlight=!0):l.hide(),this._tooltipCategoryIx=u}else n&&this._sharedHighlight&&(c.hide(),l.hide(),this._sharedHighlight=!1)}else this._sharedHighlight&&(c.hide(),l.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1)}hideElements(i){const e=this._plotArea;this._mousemove.cancel(),e.hideCrosshairs(),this._unsetActivePoint(i)}_unsetActivePoint(i){const{_tooltip:e,_highlight:n}=this;this._activePoint=null,this._hoveredPoint=null,e&&!(i&&i.keepTooltipOpen)&&e.hide(),this._tooltipCategoryIx=null,this._sharedHighlight=!1,n&&n.hide()}_deferRedraw(){this._redraw()}_clearRedrawTimeout(){this._redrawTimeout&&(clearInterval(this._redrawTimeout),this._redrawTimeout=null)}bindCategories(){const e=[].concat(this.options.categoryAxis);for(let n=0;n<e.length;n++){const o=e[n];!1!==o.autoBind&&this.bindCategoryAxisFromSeries(o,n)}}bindCategoryAxisFromSeries(i,e){const n=new Set,o=this.options.series.filter(f=>f.categoryAxis===i.name||!f.categoryAxis&&0===e),r=o.some(f=>!!f.categoryField),a=o.filter(f=>f.data&&f.data.length>0),l=a.map(f=>Rs.current.bindPoint(f,0).fields.category),c=l.reduce((f,_)=>f||Uxe(i,_),!1);if(a.filter((f,_)=>f.categoryField||ge(l[_])).forEach(f=>f.data.forEach((_,g)=>{let S=Rs.current.bindPoint(f,g).fields.category;if(c){const b=Fxe(S,_,this.chartService.intl);S=b?b.getTime():void 0}n.add(S)})),n.size>0){let f=Array.from(n.values());c&&(f=f.sort().map(_=>_&&new Date(_))),i.categories=f}else r&&(i.categories=[])}_isBindable(i){const e=Rs.current.valueFields(i);let n=!0;for(let o=0;o<e.length;o++){let r=e[o];if(r===nu?r="field":r+="Field",!ge(i[r])){n=!1;break}}return n}_noTransitionsRedraw(){const i=this.options;let e;!1!==i.transitions&&(i.transitions=!1,e=!0),this._redraw(),e&&(i.transitions=!0)}_legendItemHover(i,e){this._showSeriesInactiveOpacity(i,e)}_showSeriesInactiveOpacity(i,e){const{_plotArea:n,_highlight:o}=this,r=(n.srcSeries||n.series)[i];let a;a=Gn(r.type,[bS,YV,NR,LR])?n.findPoint(function(l){return l.series.index===i&&l.index===e}):n.pointsBySeriesIndex(i),this._hasInactiveOpacity()&&r.visible&&a?this._displayInactiveOpacity(a.length?a[0]:a,n.series.length>1,a):o.show(a)}_shouldAttachMouseMove(){return this._plotArea.crosshairs.length||this._tooltip&&this._sharedTooltip()||this.requiresHandlers([Txe,toe])}updateMouseMoveHandler(){yR(this.element,{[Bb]:this._mousemove}),this._shouldAttachMouseMove()&&ER(this.element,{[Bb]:this._mousemove})}applyOptions(i,e){Zoe(this._originalOptions,i),this._originalOptions=K(this._originalOptions,i),this.options=K({},this._originalOptions),e&&(this._theme=e,this.chartService.theme=e),this._initTheme(this.options,this._theme),this._toggleDragZoomEvents()}setOptions(i,e){this.applyOptions(i,e),this.bindCategories(),this.redraw(),this.updateMouseMoveHandler()}setDirection(i){this.chartService.rtl=!!i,this.surface&&"svg"===this.surface.type&&this._destroySurface()}setIntlService(i){this.chartService.intl=i}noTransitionsRedraw(){this._noTransitionsRedraw()}destroy(){this._destroyed=!0,yR(this.element,{[NRe]:this._clickHandler,[ZV]:this._mousewheelHandler,[Bb]:this._mousemove,[LRe]:this._mouseleaveHandler,keydown:this._keydownHandler,focus:this._focusHandler,blur:this._blurHandler}),this.domEvents&&(this.domEvents.destroy(),delete this.domEvents),this._mouseMoveTrackHandler&&yR(document,{[Bb]:this._mouseMoveTrackHandler}),this._focusState=null,this._destroyView(),this._destroySurface(),this._clearRedrawTimeout()}_destroySurface(){const i=this.surface;i&&(i.unbind("mouseenter",this._surfaceMouseenterHandler),i.unbind("mouseleave",this._surfaceMouseleaveHandler),i.destroy(),this.surface=null)}_destroySelections(){const i=this._selections;if(i)for(;i.length>0;)i.shift().destroy()}_destroyView(){const i=this._model;i&&(i.destroy(),this._model=null),this._unsetActivePoint(),this._clearFocusedElement(),this._resetDrilldownPoint(),this._destroySelections(),this._tooltip&&this._tooltip.destroy(),this._highlight&&this._highlight.destroy(),this._zoomSelection&&(this._zoomSelection.destroy(),delete this._zoomSelection),this._pannable&&(this._pannable.destroy(),delete this._pannable),this._mousewheelZoom&&(this._mousewheelZoom.destroy(),delete this._mousewheelZoom)}}function BRe(s,i){if(s)for(let e=0;e<s.length;e++)if(s[e].category===i)return[s[e]]}function VRe(s){delete s.bar,delete s.column,delete s.rangeColumn,delete s.line,delete s.verticalLine,delete s.pie,delete s.donut,delete s.area,delete s.verticalArea,delete s.scatter,delete s.scatterLine,delete s.bubble,delete s.candlestick,delete s.ohlc,delete s.boxPlot,delete s.bullet,delete s.verticalBullet,delete s.polarArea,delete s.polarLine,delete s.radarArea,delete s.radarLine,delete s.waterfall}function e4(s){const i={};for(let e=0;e<s.length;e++){const n=s[e],o=n.options.name;o&&(i[o]=n.range())}return i}const FLt=["data","categories"];function Zoe(s,i){for(let e in i)if(!Gn(e,FLt)&&PD(i,e)){const n=i[e],o=s[e];if(ge(o)){const r=null===n;r||!ge(n)?(delete s[e],r&&delete i[e]):o&&dh(n)&&dh(o)&&Zoe(o,n)}}}function zRe(s){for(let i=0;i<s.length;i++)s[i].notifyRender()}we(URe,{renderAs:"",chartArea:{},legend:{visible:!0,labels:{},accessibility:{highlight:{border:{opacity:1,color:Mo,width:2}}}},categoryAxis:{},seriesDefaults:{type:Em,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1},accessibility:{highlight:{border:{opacity:1,width:2},zIndex:200}}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{},panes:[{}],pannable:!1,zoomable:!1});const jRe=URe,VLt=class BLt extends rRe{_slotAnchor(i,e){const o=this.plotArea.categoryAxis.options.vertical,r=o?{horizontal:"left",vertical:"center"}:{horizontal:"center",vertical:"bottom"};let a;return a=o?new cn(this.plotArea.box.x2,e.center().y):new cn(e.center().x,-2),{point:a,align:r}}_defaultAnchor(i,e){return this._slotAnchor({},e)}},HRe=[mh,CS];function $Re(s){const i=[];for(let e=0;e<s.length;e++){const n=s[e];i[e]=n.style.display,n.style.display="none"}return i}function XRe(s,i){for(let e=0;e<s.length;e++)s[e].style.display=i[e]}function WRe(s){return ii(s)?[s]:s}we(class HLt extends jRe{_setElementClass(i){Qo(i,"k-sparkline")}_initElement(i){super._initElement(i),this._initialWidth=Math.floor(wg(i).width)}_resize(){const i=this.element,e=$Re(i.childNodes);this._initialWidth=Math.floor(wg(i).width),XRe(i.childNodes,e),super._resize()}_modelOptions(){const i=this.options,e=this._surfaceWrap(),n=$Re(e.childNodes),o=document.createElement("span");o.innerHTML="&nbsp;",e.appendChild(o);const r=K({width:this._autoWidth,height:wg(e).height,transitions:i.transitions},i.chartArea,{inline:!0,align:!1});return wg(e,{width:r.width,height:r.height}),e.removeChild(o),XRe(e.childNodes,n),this.surface&&this.surface.resize(),r}_surfaceWrap(){if(!this.stage){const i=this.stage=document.createElement("span");this.element.appendChild(i)}return this.stage}_createPlotArea(i){const e=super._createPlotArea(i);return this._autoWidth=this._initialWidth||this._calculateWidth(e),e}_calculateWidth(i){const e=this.options,n=zi(e.chartArea.margin),o=i.charts,r=this._surfaceWrap();let a=0;for(let c=0;c<o.length;c++){const u=o[c],f=(u.options.series||[])[0];if(!f)continue;if(f.type===mh)return 150;if(f.type===CS)return 150;if(f.type===bS)return wg(r).height;const _=u.categoryAxis;if(_){const g=_.categoriesCount()*(!u.options.isStacked&&Gn(f.type,[Em,FR])?u.seriesOptions.length:1);a=Math.max(a,g)}}let l=a*e.pointWidth;return l>0&&(l+=n.left+n.right),l}_createSharedTooltip(i){return new VLt(this._plotArea,i)}static normalizeOptions(i){let e=WRe(i);return e=Ia(e)?{seriesDefaults:{data:e}}:K({},e),e.series||(e.series=[{data:WRe(e.data)}]),K(e,{seriesDefaults:{type:e.type}}),(Gn(e.series[0].type,HRe)||Gn(e.seriesDefaults.type,HRe))&&(e=K({},{categoryAxis:{crosshair:{visible:!1}}},e)),e}},{chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},padding:2,width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5,panes:[{clip:!1}]});const XLt=class $Lt extends hh{setup(){this._initialOpacity=parseFloat(uo(this.element,"opacity").opacity)}step(i){uo(this.element,{opacity:String(uh(this._initialOpacity,0,i))})}abort(){super.abort(),uo(this.element,{display:"none",opacity:String(this._initialOpacity)})}cancel(){super.abort(),uo(this.element,{opacity:String(this._initialOpacity)})}};function ere(s,i){const e=document.createElement("div");return e.className=s,i&&(e.style.cssText=i),e}class YRe extends ft{constructor(i,e,n){super(),this.options=K({},this.options,n),this.container=i,this.chartService=e;const o=uo(i,["paddingLeft","paddingTop"]);this.chartPadding={top:o.paddingTop,left:o.paddingLeft},this.createElements(),i.appendChild(this.element)}createElements(){const i=this.element=ere("k-navigator-hint","display: none; position: absolute; top: 1px; left: 1px;"),e=this.tooltip=ere("k-tooltip k-chart-tooltip"),n=this.scroll=ere("k-scroll");e.innerHTML="&nbsp;",i.appendChild(e),i.appendChild(n)}show(i,e,n){const{element:o,options:r,scroll:a,tooltip:l}=this,c=Ss(Cs(i)+Cs(e-i)/2),u=.4*n.width(),f=n.center().x-u,b=(n.center().x-f)/(r.max-r.min),k=c-r.min;let D=this.chartService.intl.format(r.format,i,e);const O=ta(r);this.clearHideTimeout(),this._visible||(uo(o,{visibility:"hidden",display:"block"}),this._visible=!0),O&&(D=O({from:i,to:e})),l.innerHTML=D,uo(l,{left:n.center().x-l.offsetWidth/2,top:n.y1});const I=uo(l,["marginTop","borderTopWidth","height"]);uo(a,{width:u,left:f+k*b,top:n.y1+I.marginTop+I.borderTopWidth+I.height/2}),uo(o,{visibility:"visible"})}clearHideTimeout(){this._hideTimeout&&clearTimeout(this._hideTimeout),this._hideAnimation&&this._hideAnimation.cancel()}hide(){this.clearHideTimeout(),this._hideTimeout=setTimeout(()=>{this._visible=!1,this._hideAnimation=new XLt(this.element),this._hideAnimation.setup(),this._hideAnimation.play()},this.options.hideDelay)}destroy(){this.clearHideTimeout(),this.container&&this.container.removeChild(this.element),delete this.container,delete this.chartService,delete this.element,delete this.tooltip,delete this.scroll}}we(YRe,{format:"{0:d} - {1:d}",hideDelay:500});const WLt=YRe,Vg="_navigator",zg=Vg;class b9 extends ft{constructor(i){super(),this.chart=i;const e=this.options=K({},this.options,i.options.navigator),n=e.select;n&&(n.from=this.parseDate(n.from),n.to=this.parseDate(n.to)),ge(e.hint.visible)||(e.hint.visible=e.visible),this.chartObserver=new vIe(this,{[BR]:"_drag",[VR]:"_dragEnd",[QD]:"_zoom",[ZD]:"_zoomEnd"}),i.addObserver(this.chartObserver)}parseDate(i){return xa(this.chart.chartService.intl,i)}clean(){this.selection&&(this.selection.destroy(),this.selection=null),this.hint&&(this.hint.destroy(),this.hint=null)}destroy(){this.chart&&(this.chart.removeObserver(this.chartObserver),delete this.chart),this.clean()}redraw(){this._redrawSelf(),this.initSelection()}initSelection(){const{chart:i,options:e}=this,n=this.mainAxis(),{min:o,max:r}=n.roundedRange(),{from:a,to:l,mousewheel:c}=e.select,u=function KLt(s){return JRe.prototype=s,new JRe}(n);0!==n.categoriesCount()&&(this.clean(),u.box=n.box,this.selection=new sRe(i,u,{min:o,max:r,from:a||o,to:l||r,mousewheel:ln(c,{zoom:"left"}),visible:e.visible},new vIe(this,{selectStart:"_selectStart",select:"_select",selectEnd:"_selectEnd"})),e.hint.visible&&(this.hint=new WLt(i.element,i.chartService,{min:o,max:r,template:ta(e.hint),format:e.hint.format})))}setRange(){const e=this.chart._createPlotArea(!0).namedCategoryAxes[zg],{min:n,max:o}=e.roundedRange(),r=this.options.select||{};let a=r.from||n;a<n&&(a=n);let l=r.to||o;l>o&&(l=o),this.options.select=K({},r,{from:a,to:l}),this.filterAxes()}_redrawSelf(i){const e=this.chart._plotArea;e&&e.redraw(Zo(e.panes),i)}redrawSlaves(){const i=this.chart,e=i._plotArea,n=e.panes.filter(o=>o.options.name!==Vg);e.srcSeries=i.options.series,e.options.categoryAxis=i.options.categoryAxis,e.clearSeriesPointsCache(),e.redraw(n)}_drag(i){const{chart:e,selection:n}=this,o=e._eventCoordinates(i.originalEvent),r=this.mainAxis(),a=r.roundedRange(),l=r.pane.box.containsPoint(o),u=i.axisRanges[e._plotArea.categoryAxis.options.name],f=this.options.select;let _;if(!u||l||!n)return;_=f.from&&f.to?Cs(f.to)-Cs(f.from):Cs(n.options.to)-Cs(n.options.from);const g=Ss(Vt(Cs(u.min),a.min,Cs(a.max)-_)),S=Ss(Vt(Cs(g)+_,Cs(a.min)+_,a.max));this.options.select={from:g,to:S},this.options.liveDrag&&(this.filterAxes(),this.redrawSlaves()),n.set(g,S),this.showHint(g,S)}_dragEnd(){this.filterAxes(),this.filter(),this.redrawSlaves(),this.hint&&this.hint.hide()}readSelection(){const{selection:{options:{from:i,to:e}},options:{select:n}}=this;n.from=i,n.to=e}filterAxes(){const{options:{select:i={}},chart:e}=this,n=e.options.categoryAxis,{from:o,to:r}=i;for(let a=0;a<n.length;a++){const l=n[a];l.pane!==Vg&&(l.min=o,l.max=r)}}filter(){const{chart:i,options:{select:e}}=this;if(!i.requiresHandlers(["navigatorFilter"]))return;const n=this.mainAxis(),o={from:e.from,to:e.to};if("category"!==n.options.type){const r=new GV(K({baseUnit:"fit"},i.options.categoryAxis[0],{categories:[e.from,e.to]}),i.chartService).options;o.from=il(r.min,-r.baseUnitStep,r.baseUnit),o.to=il(r.max,r.baseUnitStep,r.baseUnit)}this.chart.trigger("navigatorFilter",o)}_zoom(i){const{chart:{_plotArea:{categoryAxis:e}},selection:n,options:{select:o,liveDrag:r}}=this,a=this.mainAxis();let l=i.delta;if(!n)return;const c=a.categoryIndex(n.options.from),u=a.categoryIndex(n.options.to),f=this.chart._eventCoordinates(i.originalEvent);i.originalEvent.preventDefault(),Math.abs(l)>1&&(l*=3),u-c>1?(n.zoom(l,f),this.readSelection()):(e.options.min=o.from,o.from=e.scaleRange(-i.delta*this.chart._mousewheelZoomRate(),f).min),r&&(this.filterAxes(),this.redrawSlaves()),n.set(o.from,o.to),this.showHint(this.options.select.from,this.options.select.to)}_zoomEnd(i){this._dragEnd(i)}showHint(i,e){this.hint&&this.hint.show(i,e,this.chart._plotArea.backgroundBox())}_selectStart(i){return this.chart._selectStart(i)}_select(i){return this.showHint(i.from,i.to),this.chart._select(i)}_selectEnd(i){return this.hint&&this.hint.hide(),this.readSelection(),this.filterAxes(),this.filter(),this.redrawSlaves(),this.chart._selectEnd(i)}mainAxis(){const i=this.chart._plotArea;if(i)return i.namedCategoryAxes[zg]}select(i,e){const n=this.options.select;return i&&e&&(n.from=this.parseDate(i),n.to=this.parseDate(e),this.filterAxes(),this.filter(),this.redrawSlaves(),this.selection.set(i,e)),{from:n.from,to:n.to}}static setup(i={},e={}){if(i.__navi)return;i.__navi=!0;const n=K({},e.navigator,i.navigator),o=i.panes=[].concat(i.panes),r=K({},n.pane,{name:Vg});n.visible||(r.visible=!1,r.height=.1),"top"!==i.navigator.position?o.push(r):o.unshift(r),o.forEach(a=>{a.name=a.name||"_default"}),b9.attachAxes(i,n),b9.attachSeries(i,n,e)}static attachAxes(i,e){const n=e.series||[],o=i.categoryAxis=[].concat(i.categoryAxis),r=i.valueAxis=[].concat(i.valueAxis);o.concat(r).forEach(_=>{_.pane=_.pane||"_default"});const c=0===ho(n,Exe).length,u=K({type:"date",pane:Vg,roundToBaseUnit:!c,justified:c,_collapse:!1,majorTicks:{visible:!0},tooltip:{visible:!1},labels:{step:1},autoBind:e.autoBindElements,autoBaseUnitSteps:{minutes:[1],hours:[1,2],days:[1,2],weeks:[],months:[1],years:[1]}}),f=e.categoryAxis;o.push(K({},u,{maxDateGroups:200},f,{name:zg,title:null,baseUnit:"fit",baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),K({},u,f,{name:zg+"_labels",maxDateGroups:20,baseUnitStep:"auto",labels:{position:""},plotBands:[],autoBaseUnitSteps:{minutes:[]},_overlap:!0}),K({},u,f,{name:zg+"_ticks",maxDateGroups:200,majorTicks:{width:.5},plotBands:[],title:null,labels:{visible:!1,mirror:!0},_overlap:!0})),r.push(K({name:zg,pane:Vg,majorGridLines:{visible:!1},visible:!1},e.valueAxis))}static attachSeries(i,e,n){const o=i.series=i.series||[],r=[].concat(e.series||[]),a=n.seriesColors,l=e.seriesDefaults;for(let c=0;c<r.length;c++)o.push(K({color:a[c%a.length],categoryField:e.dateField,visibleInLegend:!1,tooltip:{visible:!1}},l,r[c],{axis:zg,categoryAxis:zg,autoBind:e.autoBindElements}))}}function JRe(){}const qRe=b9;we(class qLt extends jRe{applyDefaults(i,e){const n=wg(this.element).width||600;let o=e;const r={seriesDefaults:{categoryField:i.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:Math.floor(n/28)}}};o&&(o=K({},o,r)),qRe.setup(i,o),super.applyDefaults(i,o)}_setElementClass(i){Qo(i,"k-chart k-stockchart")}setOptions(i){this.destroyNavigator(),super.setOptions(i)}noTransitionsRedraw(){const i=this.options.transitions;this.options.transitions=!1,this._fullRedraw(),this.options.transitions=i}_resize(){this.noTransitionsRedraw()}_redraw(){const i=this.navigator;!this._dirty()&&i&&i.options.partialRedraw?i.redrawSlaves():this._fullRedraw()}_dirty(){const i=this.options,n=su([].concat(i.series,i.navigator.series),function(r){return r&&r.visible}).length,o=this._seriesCount!==n;return this._seriesCount=n,o}_fullRedraw(){let i=this.navigator;i||(i=this.navigator=new qRe(this),this.trigger("navigatorCreated",{navigator:i})),i.clean(),i.setRange(),super._redraw(),i.initSelection()}_trackSharedTooltip(i){const n=this._plotArea.paneByPoint(i);n&&n.options.name===Vg?this._unsetActivePoint():super._trackSharedTooltip(i)}bindCategories(){super.bindCategories(),this.copyNavigatorCategories()}copyNavigatorCategories(){const i=[].concat(this.options.categoryAxis);let e;for(let n=0;n<i.length;n++){const o=i[n];o.name===zg?e=o.categories:e&&o.pane===Vg&&(o.categories=e)}}destroyNavigator(){this.navigator&&(this.navigator.destroy(),this.navigator=null)}destroy(){this.destroyNavigator(),super.destroy()}_stopChartHandlers(i){const e=this._eventCoordinates(i),n=this._plotArea.paneByPoint(e);return super._stopChartHandlers(i)||n&&n.options.name===Vg}_toggleDragZoomEvents(){this._dragZoomEnabled||(this.element.style.touchAction="none",this._dragZoomEnabled=!0)}},{dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!1},highlight:{visible:!1},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}});class ZLt extends(Zw(fA(m7(fg)))){get nodeType(){return"Arc"}constructor(i=new dg,e={}){super(e),this.geometry(i),Yt(this.options.stroke)||this.stroke("#000")}_bbox(i){return this._geometry.bbox(i)}rawBBox(){return this.geometry().bbox()}toPath(){const i=new ct,e=this.geometry().curvePoints();if(e.length>0){i.moveTo(e[0].x,e[0].y);for(let n=1;n<e.length;n+=3)i.curveTo(e[n],e[n+1],e[n+2])}return i}_containsPoint(i){return this.geometry().containsPoint(i)}_isOnPath(i){return this.geometry()._isOnPath(i,this.options.stroke.width/2)}}const eGt=ZLt,ZRe="arrowPointer",n4="barPointer",n4e=Math.PI/180,TS="inside",E9="linear",tre="outside",i4e="radialPointer",s4e="radialRangePointer";function o4e(s,i){const e=s.getOrigin(),n=s.getSize(),o=zi(i);return s.setOrigin([e.x-o.left,e.y-o.top]),s.setSize([n.width+(o.left+o.right),n.height+(o.top+o.bottom)]),s}const{Group:nGt,Path:r4e,Text:iGt}=rt;function a4e(s,i){const e=s.box,n=s.children[0].box,o=i.border||{},r=i.background||"",a=r4e.fromRect(new On([e.x1,e.y1],[e.width(),e.height()]),{stroke:{}}),l=new iGt(s.text,new Ie(n.x1,n.y1),{font:i.font,fill:{color:i.color}}),c=o4e(l.bbox().clone(),i.padding),u=r4e.fromRect(c,{stroke:{color:o.width?o.color:"",width:o.width,opacity:o.opacity,dashType:o.dashType,lineJoin:"round",lineCap:"round"},fill:{color:r}}),f=new nGt;return f.append(a),f.append(u),f.append(l),f}function l4e(s,i,e){const n=ge(s.from)?s.from:Er,o=ge(s.to)?s.to:qo;return s.from=Math.max(Math.min(o,n),i),s.to=Math.min(Math.max(o,n),e),s}function c4e(s,i){const e=zi(i);return e.left=-e.left,e.top=-e.top,e.right=-e.right,e.bottom=-e.bottom,o4e(s,e)}const{Path:oGt,Surface:rGt}=rt;class d4e extends ft{constructor(i,e,n,o={}){super(),this.element=i,this.theme=n,this.contextService=new Ese(this,o),this._originalOptions=K({},this.options,e),this.options=K({},this._originalOptions),this._initTheme(n),this.redraw()}destroy(){this.surface&&(this.surface.destroy(),this.surface=null),delete this.element,delete this.surfaceElement}value(i){const e=this.pointers[0];if(0===arguments.length)return e.value();e.value(i),this._setValueOptions(i)}_draw(){const i=this.surface;i.clear(),i.draw(this._visuals)}exportVisual(){return this._visuals}allValues(i){const e=this.pointers,n=[];if(0===arguments.length){for(let o=0;o<e.length;o++)n.push(e[o].value());return n}if(Ia(i))for(let o=0;o<i.length;o++)ii(i[o])&&e[o].value(i[o]);this._setValueOptions(i)}_setValueOptions(i){const e=[].concat(this.options.pointer),n=[].concat(i);for(let o=0;o<n.length;o++)e[o].value=n[o]}resize(){this.noTransitionsRedraw()}noTransitionsRedraw(){const i=this.options.transitions;this._toggleTransitions(!1),this.redraw(),this._toggleTransitions(i)}redraw(){const i=this._surfaceSize(),e=new On([0,0],[i.width,i.height]);this._initSurface(),this.gaugeArea=this._createGaugeArea(),this._createModel();const n=c4e(e.bbox(),this._gaugeAreaMargin);this.reflow(n)}setOptions(i,e){this._originalOptions=K(this._originalOptions,i),this.options=K({},this._originalOptions),this._initTheme(e),this.redraw()}setDirection(i){this.contextService.rtl=!!i,this.surface&&"svg"===this.surface.type&&(this.surface.destroy(),this.surface=null)}setIntlService(i){this.contextService.intl=i}_initTheme(i){let e=i||this.theme||{};this.theme=e,this.options=K({},e,this.options);const n=this.options,o=n.pointer;if(Ia(o)){const r=[];for(let a=0;a<o.length;a++)r.push(K({},e.pointer,o[a]));n.pointer=r}}_createGaugeArea(){const i=this.options.gaugeArea,e=this.surface.size(),n=i.border||{};let o=new On([0,0],[e.width,e.height]);return this._gaugeAreaMargin=i.margin||5,n.width>0&&(o=c4e(o,n.width)),oGt.fromRect(o,{stroke:{color:n.width?n.color:"",width:n.width,opacity:n.opacity,dashType:n.dashType,lineJoin:"round",lineCap:"round"},fill:{color:i.background}})}_initSurface(){const{options:i,surface:e}=this,n=this._surfaceElement(),o=this._surfaceSize();wg(n,o),e&&e.options.type===i.renderAs?(this.surface.clear(),this.surface.resize()):(e&&e.destroy(),this.surface=rGt.create(n,{type:i.renderAs}))}_surfaceSize(){const i=this.options,e=this._getSize();return i.gaugeArea&&K(e,i.gaugeArea),e}_surfaceElement(){return this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement)),this.surfaceElement}getSize(){return this._getSize()}_getSize(){const i=this.element,e=this._defaultSize();let n=i.offsetWidth,o=i.offsetHeight;return n||(n=e.width),o||(o=e.height),{width:n,height:o}}_defaultSize(){return{width:200,height:200}}_toggleTransitions(i){this.options.transitions=i;for(let e=0;e<this.pointers.length;e++)this.pointers[e].options.animation.transitions=i}}we(d4e,{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}});const u4e=d4e,{Path:nre,Group:s4}=rt,y9=Ie;function aGt(s,i){const{position:e,tickX:n,tickY:o}=s;let r,a;return s.vertical?(r=new y9(n,e),a=new y9(n+i.size,e)):(r=new y9(e,o),a=new y9(e,o+i.size)),new nre({stroke:{color:i.color,width:i.width}}).moveTo(r).lineTo(a)}function h4e(s,i,e,n){const o=i.length;if(n.visible){const{mirror:r,lineBox:a}=e;for(let l=n.skip;l<o;l+=n.step)l%n.skipUnit!=0&&(e.tickX=r?a.x2:a.x2-n.size,e.tickY=r?a.y1-n.size:a.y1,e.position=i[l],s.append(aGt(e,n)))}}class p4e extends ph{constructor(i,e){let n=i||{};!ge(n.reverse)&&!1===n.vertical&&(e||{}).rtl&&(n=Object.assign({},n,{reverse:!0})),super(0,1,n,e),this.options.minorUnit=this.options.minorUnit||this.options.majorUnit/10}initUserOptions(i){let e=K({},this.options,i);return e=K({},e,{labels:{mirror:e.mirror}}),e.majorUnit=e.majorUnit||FD(e.min,e.max),e}initFields(){}render(){const i=this.elements=new s4,e=this.renderLabels(),n=this.renderLine(),o=this.renderTicks(),r=this.renderRanges();return i.append(n,e,o,r),i}renderRanges(){const i=this.options,{min:e,max:n,vertical:o,labels:{mirror:r}}=i,a=i.ranges||[],l=new s4,c=a.length,u=i.rangeSize||i.minorTicks.size/2;for(let f=0;f<c;f++){const _=l4e(a[f],e,n),g=this.getSlot(_.from,_.to),S=o?this.lineBox():g,b=o?g:this.lineBox();o?S.x1-=u*(r?-1:1):b.y2+=u*(r?-1:1),l.append(nre.fromRect(new On([S.x1,b.y1],[S.x2-S.x1,b.y2-b.y1]),{fill:{color:_.color,opacity:_.opacity},stroke:{}}))}return l}renderLabels(){const{labels:i,options:e}=this,n=new s4;for(let o=0;o<i.length;o++)n.append(a4e(i[o],e.labels));return n}renderLine(){const i=this.options.line,e=this.lineBox(),n=new s4;if(i.width>0&&i.visible){const o=new nre({stroke:{color:i.color,dashType:i.dashType,width:i.width}});o.moveTo(e.x1,e.y1).lineTo(e.x2,e.y2),n.append(o)}return n}renderTicks(){const i=new s4,e=this.options,n=e.majorTicks.visible?e.majorUnit:0,o={vertical:e.vertical,mirror:e.labels.mirror,lineBox:this.lineBox()};return h4e(i,this.getMajorTickPositions(),o,e.majorTicks),h4e(i,this.getMinorTickPositions(),o,K({},{skipUnit:n/e.minorUnit},e.minorTicks)),i}}we(p4e,{min:0,max:50,majorTicks:{size:15,align:TS,color:Mo,width:.5,visible:!0},minorTicks:{size:10,align:TS,color:Mo,width:.5,visible:!0},line:{width:.5},labels:{position:TS,padding:2},mirror:!1,_alignLines:!1});const lGt=p4e;class f4e extends ft{constructor(i,e){super();const{min:n,max:o}=i.options,r=this.options=K({},this.options,e);r.fill=r.color,this.scale=i,r.value=ge(r.value)?Vt(r.value,n,o):n}value(i){const e=this.options;if(0===arguments.length)return e.value;const{min:o,max:r}=this.scale.options;e._oldValue=ge(e._oldValue)?e.value:o,e.value=Vt(i,o,r),this.elements&&this.repaint()}}we(f4e,{color:Mo});const ire=f4e;class m4e extends ire{constructor(i,e){super(i,e),this.options=K({track:{visible:ge(e.track)}},this.options)}reflow(){const{options:i,scale:e}=this,{mirror:n,vertical:o}=e.options,r=e.lineBox(),a=i.track.size||i.size,l=i.size/2,c=zi(i.margin);let f,_,g,u=o?c[n?"left":"right"]:c[n?"bottom":"top"];u=n?-u:u,o?(g=new ze(r.x1+u,r.y1,r.x1+u,r.y2),n?g.x1-=a:g.x2+=a,i.shape!==n4&&(_=new ze(r.x2+u,r.y1-l,r.x2+u,r.y2+l),f=_)):(g=new ze(r.x1,r.y1-u,r.x2,r.y1-u),n?g.y2+=a:g.y1-=a,i.shape!==n4&&(_=new ze(r.x1-l,r.y1-u,r.x2+l,r.y1-u),f=_)),this.trackBox=g,this.pointerRangeBox=_,this.box=f||g.clone().pad(i.border.width)}getElementOptions(){const i=this.options;return{fill:{color:i.color,opacity:i.opacity},stroke:ge(i.border)?{color:i.border.width?i.border.color||i.color:"",width:i.border.width,dashType:i.border.dashType,opacity:i.opacity}:null}}_margin(){const{scale:i,options:e}=this,{mirror:n,vertical:o}=i.options,r=zi(e.margin);return o?r[n?"left":"right"]:r[n?"bottom":"top"]}}we(m4e,{shape:n4,track:{border:{width:1}},color:Mo,border:{width:1},opacity:1,margin:zi(3),animation:{type:n4},visible:!0});const _4e=m4e;class sre extends hh{setup(){const i=this.options,{margin:e,from:n,to:o,vertical:r}=i,a=r?"x1":"y1";i.mirror===r?(n[a]-=e,o[a]-=e):(n[a]+=e,o[a]+=e);const l=this.fromScale=new Ie(n.x1,n.y1),c=this.toScale=new Ie(o.x1,o.y1);0!==i.duration&&(i.duration=Math.max(l.distanceTo(c)/i.duration*1e3,1))}step(i){const e=uh(this.fromScale.x,this.toScale.x,i),n=uh(this.fromScale.y,this.toScale.y,i);this.element.transform(Ui().translate(e,n))}}we(sre,{easing:E9,duration:250}),vm.current.register(ZRe,sre);const cGt=sre,cO=Ie,dGt=ct,hGt=class uGt extends _4e{constructor(i,e){super(i,e),ge(this.options.size)||(this.options.size=.6*this.scale.options.majorTicks.size)}pointerShape(){const{scale:i,options:{size:e}}=this,n=e/2,o=i.options.mirror?-1:1;let r;return r=i.options.vertical?[new cO(0,0-n),new cO(0-o*e,0),new cO(0,0+n)]:[new cO(0-n,0),new cO(0,0+o*e),new cO(0+n,0)],r}repaint(){const{scale:i,options:e}=this,n=new cGt(this.elements,K(e.animation,{vertical:i.options.vertical,mirror:i.options.mirror,margin:this._margin(e.margin),from:i.getSlot(e._oldValue),to:i.getSlot(e.value)}));!1===e.animation.transitions&&(n.options.duration=0),n.setup(),n.play()}render(){const{scale:i,options:e}=this,n=this.getElementOptions(),o=this.pointerShape(e.value);e.animation.type=ZRe;const r=new dGt({stroke:n.stroke,fill:n.fill}).moveTo(o[0]).lineTo(o[1]).lineTo(o[2]).close(),a=i.getSlot(e.value);return r.transform(Ui().translate(a.x1,a.y1)),this.elements=r,r}};class ore extends hh{setup(){const i=this.options,e=this.axis=i.vertical?Ot:kt,n=this.to=i.newPoints[0][e],o=this.from=i.oldPoints[0][e];0!==i.duration&&(i.duration=Math.max(Math.abs(n-o)/i.speed*1e3,1)),this._set(o)}step(i){const e=uh(this.from,this.to,i);this._set(e)}_set(i){const e="set"+this.axis.toUpperCase(),n=this.options.newPoints;n[0][e](i),n[1][e](i)}}we(ore,{easing:E9,speed:250}),vm.current.register(n4,ore);const pGt=ore,{Group:fGt,Path:g4e}=rt,_Gt=class mGt extends _4e{constructor(i,e){super(i,e),ge(this.options.size)||(this.options.size=.3*this.scale.options.majorTicks.size)}pointerShape(i){const{scale:e,options:n}=this,{mirror:o,vertical:r}=e.options,a=o===r?-1:1,l=n.size*a,c=e.getSlot(e.options.min),u=e.getSlot(i),f=r?Ot:kt,_=r?kt:Ot,g=this._margin()*a,S=new Ie;S[f]=c[f+"1"],S[_]=c[_+"1"];const b=new Ie;b[f]=u[f+"1"],b[_]=u[_+"1"],r?(S.translate(g,0),b.translate(g,0)):(S.translate(0,g),b.translate(0,g));const k=b.clone(),D=S.clone();return r?(k.translate(l,0),D.translate(l,0)):(k.translate(0,l),D.translate(0,l)),[S,b,k,D]}repaint(){const{scale:i,options:e}=this,n=this.pointerShape(e.value),o=this.pointerPath,r=this.pointerShape(e._oldValue);o.moveTo(n[0]).lineTo(n[1]).lineTo(n[2]).lineTo(n[3]).close();const a=new pGt(o,K(e.animation,{reverse:i.options.reverse,vertical:i.options.vertical,oldPoints:[r[1],r[2]],newPoints:[n[1],n[2]]}));!1===e.animation.transitions&&(a.options.duration=0),a.setup(),a.play()}render(){const i=new fGt,e=this.getElementOptions();this.options.track.visible&&i.append(this.renderTrack());const n=this.pointerPath=new g4e({stroke:e.stroke,fill:e.fill});return i.append(n),this.elements=i,i}renderTrack(){const i=this.options.track,e=i.border||{},n=this.trackBox.clone().pad(e.width||0);return new g4e.fromRect(n.toRect(),{fill:{color:i.color,opacity:i.opacity},stroke:{color:e.width?e.color||i.color:"",width:e.width,dashType:e.dashType}})}},SGt=Vn;we(class CGt extends u4e{reflow(i){const e=this.pointers,n=i.origin.x,o=i.origin.y,r=new ze(n,o,n+i.width(),o+i.height());this.scale.reflow(r),this._shrinkScaleWidth(r);for(let a=0;a<e.length;a++)e[a].reflow();this.bbox=this._getBox(r),this._alignElements(),this._shrinkElements(),this._buildVisual(),this._draw()}_buildVisual(){const i=new SGt,e=this.scale.render(),n=this.pointers;i.append(this.gaugeArea),i.append(e);for(let o=0;o<n.length;o++){const r=n[o];i.append(r.render()),r.value(r.options.value)}this._visuals=i}_createModel(){const i=this.options,e=this.scale=new lGt(i.scale,this.contextService);this.pointers=[];let n=i.pointer;n=Ia(n)?n:[n];for(let o=0;o<n.length;o++){const r=K({},n[o],{animation:{transitions:i.transitions}});this.pointers.push(new("arrow"===r.shape?hGt:_Gt)(e,r))}}_defaultSize(){const i=this.options.scale.vertical;return{width:i?60:200,height:i?200:60}}_getBox(i){const{scale:e,pointers:n}=this,o=i.center();let a,r=n[0].box.clone().wrap(e.box);for(let l=0;l<n.length;l++)r.wrap(n[l].box.clone());return e.options.vertical?(a=r.width()/2,r=new ze(o.x-a,i.y1,o.x+a,i.y2)):(a=r.height()/2,r=new ze(i.x1,o.y-a,i.x2,o.y+a)),r}_alignElements(){const{scale:i,pointers:e}=this,n=i.box,o=e[0].box.clone().wrap(i.box),r=this.bbox;for(let l=0;l<e.length;l++)o.wrap(e[l].box.clone());let a;i.options.vertical?(a=r.center().x-o.center().x,i.reflow(new ze(n.x1+a,r.y1,n.x2+a,r.y2))):(a=r.center().y-o.center().y,i.reflow(new ze(n.x1,n.y1+a,n.x2,n.y2+a)));for(let l=0;l<e.length;l++)e[l].reflow(this.bbox)}_shrinkScaleWidth(i){const{scale:e}=this;if(!e.options.vertical){const n=e.contentBox().width()-i.width();n>0&&(e.box.shrink(n,0),e.box.alignTo(i,"center"),e.reflow(e.box))}}_shrinkElements(){const{scale:i,pointers:e}=this,n=i.box.clone(),o=i.options.vertical?"y":"x",r=e[0].box;for(let a=0;a<e.length;a++)r.wrap(e[a].box.clone());n[o+1]+=Math.max(n[o+1]-r[o+1],0),n[o+2]-=Math.max(r[o+2]-n[o+2],0),i.reflow(n);for(let a=0;a<e.length;a++)e[a].reflow(this.bbox)}},{transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}});const{Arc:bGt,Path:EGt,Group:w9}=rt;function v4e(s,i,e,n){const o=new w9,r=s.center,a=s.getRadiusX();if(n.visible)for(let l=0;l<i.length;l++){const c=s.pointAt(i[l]),u=new Ie(r.x+a-n.size,r.y).rotate(i[l],r);o.append(new EGt({stroke:{color:n.color,width:n.width}}).moveTo(c).lineTo(u))}return o}function rre(s,i,e,n){return{from:s,to:i,color:e,opacity:n}}class S4e extends ph{constructor(i,e){super(0,1,i,e)}initUserOptions(i){const e=K({},this.options,i);return e.majorUnit=e.majorUnit||FD(e.min,e.max),e.minorUnit=e.minorUnit||e.majorUnit/10,e}initFields(){}render(i,e){const n=this.renderArc(i,e);this.bbox=n.bbox(),this.labelElements=this.renderLabels(),this.ticks=this.renderTicks(),this.ranges=this.renderRanges()}reflow(i){const e=i.center(),n=Math.min(i.height(),i.width())/2;if(!ge(this.bbox))return this.render(e,n);this.bbox=this.arc.bbox(),this.radius(this.arc.getRadiusX()),this.repositionRanges(),this.renderLabels()}slotAngle(i){const{min:e,max:n,reverse:o,startAngle:r,endAngle:a}=this.options,l=a-r;let c;return c=o?a-(i-e)/(n-e)*l:(i-e)/(n-e)*l+r,c+180}hasRanges(){const i=this.options.ranges;return i&&i.length}ticksSize(){const{majorTicks:i,minorTicks:e}=this.options;let n=0;return i.visible&&(n=i.size),e.visible&&(n=Math.max(e.size,n)),n}labelsCount(){let i=super.labelsCount();const e=this.options;return e.endAngle-e.startAngle>=360&&e.max%e.majorUnit==0&&(i-=1),i}renderLabels(){const i=this.options,e=this.arc.clone();let n=e.getRadiusX();const o=this.tickAngles(e,i.majorUnit),r=i.rangeSize=i.rangeSize||.1*n,a=new w9;let l=.05*n;ge(i.rangeDistance)?l=i.rangeDistance:i.rangeDistance=l;const c=i.labels,u=c.position===TS,f=ge(this.labelElements);u&&(n-=this.ticksSize(),this.hasRanges()&&!f&&(n-=r+l),e.setRadiusX(n).setRadiusY(n));const _=this.labels,g=_.length,S=zi(c.padding),b=(S.left+S.right)/2,k=(S.top+S.bottom)/2;for(let D=0;D<g;D++){const O=_[D],I=O.box.width()/2,N=O.box.height()/2,P=o[D],G=(P-180)*n4e,H=e.pointAt(P),$=H.x+Math.cos(G)*(I+b)*(u?1:-1),Q=H.y+Math.sin(G)*(N+k)*(u?1:-1);O.reflow(new ze($-I,Q-N,$+I,Q+N));const ie=new Ie(O.box.x1,O.box.y1);let ce;if(f){ce=this.labelElements.children[D];const re=ce.bbox().origin,Ne=ce.transform()||Ui();Ne.translate(ie.x-re.x,ie.y-re.y),ce.transform(Ne)}else ce=a4e(O,i.labels),a.append(ce);this.bbox=On.union(this.bbox,ce.bbox())}return a}repositionRanges(){const i=this.ranges.children;if(i.length>0){const{rangeDistance:e,rangeSize:n}=this.options;let o=this.getRangeRadius();this.options.labels.position===TS&&(o+=n+e);const r=o+n/2;for(let a=0;a<i.length;a++)i[a]._geometry.setRadiusX(r).setRadiusY(r);this.bbox=On.union(this.bbox,this.ranges.bbox())}}renderRanges(){const i=this.rangeSegments(),e=i.length,n=new w9;if(e){const{rangeSize:o,reverse:r,rangeDistance:a}=this.options,l=this.getRangeRadius();this.radius(this.radius()-o-a);for(let c=0;c<e;c++){const u=i[c],f=this.slotAngle(u[r?"to":"from"]),_=this.slotAngle(u[r?"from":"to"]);_-f!=0&&n.append(this.createRange(f,_,l,u))}}return n}createRange(i,e,n,o){const r=this.options.rangeSize,a=new dg(this.arc.center,{radiusX:n+r/2,radiusY:n+r/2,startAngle:i,endAngle:e});return new bGt(a,{stroke:{width:r,color:o.color,opacity:o.opacity,lineCap:o.lineCap}})}rangeSegments(){const i=this.options,e=i.ranges||[],n=e.length,o=[];if(n){const{min:r,max:a,rangePlaceholderColor:l}=i;o.push(rre(r,a,l));for(let c=0;c<n;c++){const u=l4e(e[c],r,a),f=o.length;for(let _=0;_<f;_++){const g=o[_];if(g.from<=u.from&&u.from<=g.to){o.push(rre(u.from,u.to,u.color,u.opacity)),g.from<=u.to&&u.to<=g.to&&o.push(rre(u.to,g.to,l,u.opacity)),g.to=u.from;break}}}}return o}getRangeRadius(){const{arc:i,options:e}=this,{rangeSize:n,rangeDistance:o,majorTicks:{size:r}}=e;let a;return a=e.labels.position===tre?i.getRadiusX()-r-o-n:i.getRadiusX()-n,a}renderArc(i,e){const n=this.options;return this.arc=new dg(i,{radiusX:e,radiusY:e,startAngle:n.startAngle+180,endAngle:n.endAngle+180})}renderTicks(){const{arc:i,options:e}=this,n=i.clone();this.majorTickAngles=this.tickAngles(i,e.majorUnit),this.majorTicks=v4e(n,this.majorTickAngles,0,e.majorTicks);const o=new w9;o.append(this.majorTicks);const r=e.majorTicks.size,a=e.minorTicks.size;if(this._tickDifference=r-a,e.labels.position===tre){const l=n.getRadiusX();n.setRadiusX(l-r+a).setRadiusY(l-r+a)}return this.minorTickAngles=this.normalizeTickAngles(this.tickAngles(i,e.minorUnit)),this.minorTicks=v4e(n,this.minorTickAngles,0,e.minorTicks),o.append(this.minorTicks),o}normalizeTickAngles(i){const e=this.options,n=e.majorUnit/e.minorUnit;for(let o=i.length-1;o>=0;o--)o%n==0&&i.splice(o,1);return i}tickAngles(i,e){const n=this.options,a=i.endAngle-i.startAngle;let l=(n.max-n.min)/e,c=i.startAngle,u=a/l;n.reverse&&(c+=a,u=-u),a>=360&&n.max%e==0&&(l-=1);const f=[];for(let _=0;_<l;_++)f.push(qe(c,3)),c+=u;return qe(c)<=i.endAngle&&f.push(c),f}radius(i){if(!i)return this.arc.getRadiusX();this.arc.setRadiusX(i).setRadiusY(i),this.repositionTicks(this.majorTicks.children,this.majorTickAngles),this.repositionTicks(this.minorTicks.children,this.minorTickAngles,!0)}repositionTicks(i,e,n){const o=n&&this._tickDifference||0;let r=this.arc;const a=r.getRadiusX();n&&this.options.labels.position===tre&&0!==o&&(r=this.arc.clone(),r.setRadiusX(a-o).setRadiusY(a-o));for(let l=0;l<i.length;l++){const c=r.pointAt(e[l]),u=i[l].segments,f=c.x-u[0].anchor().x,_=c.y-u[0].anchor().y;i[l].transform((new Ui).translate(f,_))}}}we(S4e,{min:0,max:100,majorTicks:{size:15,align:TS,color:Mo,width:.5,visible:!0},minorTicks:{size:10,align:TS,color:Mo,width:.5,visible:!0},startAngle:-30,endAngle:210,labels:{position:TS,padding:2}});const C4e=S4e;class are extends hh{constructor(i,e){super(i,e);const n=this.options;n.duration=Math.max(Math.abs(n.newAngle-n.oldAngle)/n.duration*1e3,1)}step(i){const e=this.options,n=uh(e.oldAngle,e.newAngle,i);this.element.transform(Ui().rotate(n,e.center))}}we(are,{easing:E9,duration:150}),vm.current.register(i4e,are);const yGt=are,{Circle:wGt,Group:DGt,Path:OGt}=rt;class b4e extends ire{setAngle(i){this.elements.transform(Ui().rotate(i,this.center))}repaint(){const{scale:i,options:e}=this,n=i.slotAngle(e._oldValue),o=i.slotAngle(e.value);!1===e.animation.transitions?this.setAngle(o):new yGt(this.elements,K(e.animation,{oldAngle:n,newAngle:o})).play()}render(){const{scale:i,options:e}=this,n=new DGt;return!1!==e.animation&&K(e.animation,{startAngle:0,center:i.arc.center,reverse:i.options.reverse}),n.append(this._renderNeedle(),this._renderCap()),this.elements=n,this.setAngle(n4e),n}reflow(i){const e=this.center=i.center,n=Vt(this.options.length||1,.1,1.5),o=this.radius=i.getRadiusX()*n,r=this.capSize=Math.round(o*this.options.cap.size);this.bbox=On.fromPoints(new Ie(e.x-r,e.y-r),new Ie(e.x+r,e.y+r))}_renderNeedle(){const i=this.scale.options.minorTicks.size,e=this.center,n=this.options.color,o=new OGt({fill:{color:n},stroke:{color:n,width:.5}});return o.moveTo(e.x+this.radius-i,e.y).lineTo(e.x,e.y-this.capSize/2).lineTo(e.x,e.y+this.capSize/2).close(),o}_renderCap(){const i=this.options,e=i.cap.color||i.color,n=new Cl(this.center,this.capSize);return new wGt(n,{fill:{color:e},stroke:{color:e}})}}we(b4e,{cap:{size:.05},arrow:{width:16,height:14},animation:{type:i4e,duration:150}});const TGt=b4e,MGt=Vn;we(class IGt extends u4e{reflow(i){const e=this.pointers;this.scale.reflow(i),this._initialPlotArea=this.scale.bbox;for(let n=0;n<e.length;n++)e[n].reflow(this.scale.arc),this._initialPlotArea=On.union(this._initialPlotArea,e[n].bbox);this.fitScale(i),this.alignScale(i),this._buildVisual(this.gaugeArea,e,this.scale),this._draw()}_buildVisual(i,e,n){const o=this._visuals=new MGt;o.append(i),o.append(n.ticks),o.append(n.ranges),this._buildPointers(e),o.append(n.labelElements)}_buildPointers(i){for(let e=0;e<i.length;e++){const n=i[e];n.render(),this._visuals.append(n.elements),n.value(n.options.value)}}fitScale(i){const e=this.scale.arc,o=Math.abs(this.getDiff(this._initialPlotArea,i));let l,c,u,f,_,r=qe(o,3),a=qe(-o,3),g=0,S=0;for(;S++<100&&(g=_===u?g+1:0,!(g>5||r!==f&&(l=this.getPlotBox(r,i,e),0<=l&&l<=2)||a!==f&&(u=this.getPlotBox(a,i,e),0<=u&&u<=2)||(f=l>0&&u>0?2*r:l<0&&u<0?2*a:qe((r+a)/2||1,3),c=this.getPlotBox(f,i,e),0<=c&&c<=2)));)_=u,c>0?(a=f,u=c):(r=f,l=c)}getPlotBox(i,e,n){const o=this.scale,r=this.pointers,a=n.getRadiusX(),l=n.clone();l.setRadiusX(a+i).setRadiusY(a+i),o.arc=l,o.reflow(e),this.plotBbox=o.bbox;for(let c=0;c<r.length;c++)r[c].reflow(l),this.plotBbox=On.union(this.plotBbox,r[c].bbox);return this.getDiff(this.plotBbox,e)}getDiff(i,e){return Math.min(e.width()-i.width(),e.height()-i.height())}alignScale(i){const e=this.plotBbox.center(),n=i.center(),o=e.x-n.x,r=e.y-n.y,{scale:a,pointers:l}=this;a.arc.center.x-=o,a.arc.center.y-=r,a.reflow(i);for(let c=0;c<l.length;c++)l[c].reflow(a.arc),this.plotBbox=On.union(a.bbox,l[c].bbox)}_createModel(){const i=this.options,e=i.pointer,n=this.scale=new C4e(i.scale,this.contextService);this.pointers=[];const o=Ia(e)?e:[e];for(let r=0;r<o.length;r++){const a=new TGt(n,K({},o[r],{animation:{transitions:i.transitions}}));this.pointers.push(a)}}},{transitions:!0,gaugeArea:{background:""}}),we(class xGt extends C4e{rangeSegments(){const{min:i,max:e,rangePlaceholderColor:n,rangeLineCap:o}=this.options;return[{from:i,to:e,color:n,lineCap:o}]}hasRanges(){return!0}placeholderRangeAngle(i){const e=this.ranges.children[0].geometry();this.options.reverse?e.setEndAngle(i):e.setStartAngle(i)}addRange(i,e,n){const o=this.options.reverse,r=this.slotAngle(o?e:i),a=this.slotAngle(o?i:e),l=this.createRange(r,a,this.getRangeRadius(),n);return this.ranges.append(l),l}},{min:0,max:100,majorTicks:{visible:!1},minorTicks:{visible:!1},labels:{visible:!1},startAngle:0,endAngle:180,rangeLineCap:"round"});class lre extends hh{constructor(i,e){super(i,e);const n=this.options,o=Math.abs(n.newAngle-n.oldAngle)/n.duration*1e3;n.duration=Vt(o,150,800);const r=i.elements.options.get("stroke.color"),a=i.currentColor();r!==a&&(this.startColor=new ju(r),this.color=new ju(a))}step(i){const{options:e,startColor:n,color:o}=this,r=uh(e.oldAngle,e.newAngle,i);if(this.element.angle(r),o){const a=qe(uh(n.r,o.r,i)),l=qe(uh(n.g,o.g,i)),c=qe(uh(n.b,o.b,i));this.element.stroke(new ju(a,l,c).toHex())}}}we(lre,{easing:E9,duration:150}),vm.current.register(s4e,lre);const RGt=lre;we(class NGt extends ire{repaint(){const{scale:i,options:e}=this,n=i.slotAngle(e._oldValue),o=i.slotAngle(e.value);this.animation&&this.animation.abort(),!1===e.animation.transitions?(this.angle(o),this.stroke(this.currentColor())):(this.animation=new RGt(this,K(e.animation,{oldAngle:n,newAngle:o})),this.animation.play())}angle(i){const e=this.elements.geometry();this.scale.options.reverse?e.setStartAngle(i):e.setEndAngle(i),this.scale.placeholderRangeAngle(i)}stroke(i){this.elements.stroke(i)}render(){if(this.elements)return;const{scale:i,options:e}=this;!1!==e.animation&&K(e.animation,{startAngle:0,center:i.arc.center,reverse:i.options.reverse}),this.elements=i.addRange(i.options.min,this.options.value,{color:this.currentColor(),opacity:e.opacity,lineCap:i.options.rangeLineCap})}currentColor(){const{min:i,max:e}=this.scale.options,{colors:n,color:o,value:r}=this.options,a=ii(r)?r:i;if(n)for(let l=0;l<n.length;l++){const{color:c,from:u=i,to:f=e}=n[l];if(u<=a&&a<=f)return c}return o}reflow(){this.render(),this.bbox=this.elements.bbox()}},{animation:{type:s4e,duration:150}});class Vb extends ft{constructor(i){super(),this.setOptions(i),this.initProperties()}initProperties(){}setOptions(i){this.options=Object.assign({},this.options,i),this.quietZoneLength=this.options.addQuietZone?2*this.options.quietZoneLength:0}encode(i,e,n){const o=ge(i)?String(i):i;return this.initValue(o,e,n),this.options.addQuietZone&&this.addQuietZone(),this.addData(),this.options.addQuietZone&&this.addQuietZone(),{baseUnit:this.baseUnit,pattern:this.pattern}}initValue(){}addQuietZone(){this.pattern.push(this.options.quietZoneLength||10)}addData(){}invalidCharacterError(i){throw new Error(`Character "${i}" is not valid for symbology ${this.name}.`)}}we(Vb,{quietZoneLength:10,addQuietZone:!0,addCheckSum:!0});const GGt=Object.assign;class y4e extends Vb{initProperties(){super.initProperties(),GGt(this,{name:"Code 11",characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221"})}initValue(i,e){this.pattern=[],this.value=i,this.width=e,this.totalUnits=0}addData(){const i=this.value;this.addPattern(this.START);for(let e=0;e<i.length;e++)this.addCharacter(i.charAt(e));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()}setBaseUnit(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)}addCheckSum(){const i=this.value;let e=i.length;const n=this.getWeightedSum(i,e,this.cCheckSumTotal)%this.checkSumMod;if(this.checksum=String(n),this.addPattern(this.characterMap[n]),e++,e>=this.kCheckSumMinLength){let o=(n+this.getWeightedSum(i,e,this.kCheckSumTotal))%this.checkSumMod;this.checksum+=o,this.addPattern(this.characterMap[o])}}getWeightedSum(i,e,n){let o=0;for(let r=0;r<i.length;r++)o+=this.weightedValue(this.getValue(i.charAt(r)),e,r,n);return o}weightedValue(i,e,n,o){return((e-n)%o||o)*i}getValue(i){return isNaN(i)?(i!==this.DASH&&this.invalidCharacterError(i),this.DASH_VALUE):parseInt(i,10)}addCharacter(i){const e=this.getValue(i);this.addPattern(this.characterMap[e])}addPattern(i){let e;for(let n=0;n<i.length;n++)e=parseInt(i.charAt(n),10),this.pattern.push(e),this.totalUnits+=e}}we(y4e,{addCheckSum:!0});const k4e=Object.assign;class w4e extends Vb{initProperties(){super.initProperties(),k4e(this,{minBaseUnitLength:.7})}addData(){const i=this.value;this.addStart();for(let e=0;e<i.length;e++)this.addCharacter(i.charAt(e));this.options.addCheckSum&&this.pushCheckSum(),this.addStop(),this.prepareValues()}addCharacter(i){const e=this.characterMap[i];e||this.invalidCharacterError(i),this.addBase(e)}addBase(){}}class cre extends w4e{initProperties(){super.initProperties(),k4e(this,{name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{0:{pattern:"bwbWBwBwb",value:0},1:{pattern:"BwbWbwbwB",value:1},2:{pattern:"bwBWbwbwB",value:2},3:{pattern:"BwBWbwbwb",value:3},4:{pattern:"bwbWBwbwB",value:4},5:{pattern:"BwbWBwbwb",value:5},6:{pattern:"bwBWBwbwb",value:6},7:{pattern:"bwbWbwBwB",value:7},8:{pattern:"BwbWbwBwb",value:8},9:{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}}})}initValue(i,e,n){this.width=e,this.height=n,this.value=i,this.dataLength=i.length,this.pattern=[],this.patternString=""}prepareValues(){const i=this.minBaseUnitLength,e=this.minRatio,n=Math.ceil(Math.max(.15*this.width,24));let o,r=this.maxRatio;if(this.height<n)throw new Error(`Insufficient height for Code39 encoding: the current height is ${this.height}px and the minimum height is ${n}px.`);for(o=this.getBaseUnit(r);o<i&&r>e;)r=parseFloat((r-.1).toFixed(1)),o=this.getBaseUnit(r);if(o<i){let a=Math.ceil(this.getBaseWidth(e)*i);throw new Error(`Insufficient width for Code39 encoding: the current width is ${this.width}px and the minimum width for value "${this.value}" is ${a}px.`)}this.ratio=r,this.baseUnit=o,this.patternString=this.patternString.substring(0,this.patternString.length-1),this.pattern=this.pattern.concat(this.patternString.replace(/ratio/g,r).split(this.splitCharacter))}getBaseUnit(i){return this.width/this.getBaseWidth(i)}getBaseWidth(i){return this.quietZoneLength+3*(i+2)*(this.dataLength+2)+this.gapWidth*(this.dataLength+1)}addStart(){this.addPattern(this.characterMap.START.pattern),this.addCharacterGap()}addBase(i){this.addPattern(i.pattern),this.addCharacterGap()}addStop(){this.addPattern(this.characterMap.START.pattern)}addPattern(i){for(let e=0;e<i.length;e++)this.patternString+=this.patternMappings[i.charAt(e)]}addCharacterGap(){this.patternString+=this.gapWidth+this.splitCharacter}}we(cre,{addCheckSum:!1});const D4e={addCharacter(s){this.characterMap[s]?this.addBase(this.characterMap[s]):s.charCodeAt(0)>127?this.invalidCharacterError(s):this.addExtended(s.charCodeAt(0))},addExtended(s){let i;for(let e=0;e<this.extendedMappings.length;e++)if(i=this.extendedMappings[e].call(this,s),i){for(let n=0;n<i.length;n++)this.addBase(i[n]);return void(this.dataLength+=i.length-1)}},extendedMappings:[function(s){if(97<=s&&s<=122)return[this.characterMap[this.shiftCharacters[0]],this.characterMap[String.fromCharCode(s-32)]]},function(s){if(33<=s&&s<=58)return[this.characterMap[this.shiftCharacters[1]],this.characterMap[String.fromCharCode(s+32)]]},function(s){if(1<=s&&s<=26)return[this.characterMap[this.shiftCharacters[2]],this.characterMap[String.fromCharCode(s+64)]]},function(s){let i,e;if(this.specialAsciiCodes[s]){i=[];for(let n=0;n<this.specialAsciiCodes[s].length;n++)i.push(this.characterMap[this.shiftCharacters[3]]),i.push(this.characterMap[this.specialAsciiCodes[s][n]])}else e=6*Math.floor(s/32)+(s-27)%32+64,i=[this.characterMap[this.shiftCharacters[3]],this.characterMap[String.fromCharCode(e)]];return i}],specialAsciiCodes:{0:["U"],64:["V"],96:["W"],127:["T","X","Y","Z"]},shiftValuesAsciiCodes:{39:36,40:47,41:43,42:37},characterMap:{"+":!1,"/":!1,$:!1,"%":!1},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]},FGt=Object.assign;class O4e extends w4e{initProperties(){super.initProperties(),FGt(this,{name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,characterMap:{0:{pattern:"131112",value:0},1:{pattern:"111213",value:1},2:{pattern:"111312",value:2},3:{pattern:"111411",value:3},4:{pattern:"121113",value:4},5:{pattern:"121212",value:5},6:{pattern:"121311",value:6},7:{pattern:"111114",value:7},8:{pattern:"131211",value:8},9:{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}})}initValue(i,e,n){this.value=i,this.width=e,this.height=n,this.pattern=[],this.values=[],this.dataLength=i.length}prepareValues(){let i=Math.ceil(Math.max(.15*this.width,24));if(this.height<i)throw new Error(`Insufficient height for Code93 encoding: the current height is ${this.height}px, the minimum required height is ${i}px.`);if(this.setBaseUnit(),this.baseUnit<this.minBaseUnitLength){const e=Math.ceil(this.minBaseUnitLength*(this.width/this.baseUnit));throw new Error(`Insufficient width for Code93 encoding: the current width is ${this.width}px and the minimum required width for value "${this.value}" is ${e}px.`)}}setBaseUnit(){this.baseUnit=this.width/(9*(this.dataLength+2+2)+this.quietZoneLength+1)}addStart(){this.addPattern(this.characterMap.START.pattern)}addStop(){this.addStart(),this.pattern.push(this.characterMap.TERMINATION_BAR)}addBase(i){this.addPattern(i.pattern),this.values.push(i.value)}pushCheckSum(){const i=this._getCheckValues();let e;this.checksum=i.join("");for(let n=0;n<i.length;n++)e=this.characterMap[this._findCharacterByValue(i[n])],this.addPattern(e.pattern)}_getCheckValues(){const i=this.values,e=i.length;let o,r,a,n=0;for(a=e-1;a>=0;a--)n+=this.weightedValue(i[a],e-a,this.cCheckSumTotal);for(o=n%this.checkSumMod,n=this.weightedValue(o,1,this.kCheckSumTotal),a=e-1;a>=0;a--)n+=this.weightedValue(i[a],e-a+1,this.kCheckSumTotal);return r=n%this.checkSumMod,[o,r]}_findCharacterByValue(i){for(let e in this.characterMap)if(this.characterMap[e].value===i)return e}weightedValue(i,e,n){return(e%n||n)*i}addPattern(i){let e;for(let n=0;n<i.length;n++)e=parseInt(i.charAt(n),10),this.pattern.push(e)}}const BGt=/^\d+$/,VGt=Object.assign,dre=/^\d+$/,jGt=/^[a-z0-9]+$/i,Dp=Object.assign;class D9 extends ft{constructor(i){super(),this.encoding=i,this.initProperties()}initProperties(){}addStart(){}is(){}isCode(){return!1}move(){}pushState(){}}class T4e extends D9{constructor(i,e){super(i),this.states=e,this._initMoves(e)}initProperties(){super.initProperties(),K(this,{FNC4:"FNC4",SHIFT:98})}addStart(){this.encoding.addPattern(this.START)}is(i,e){let n=i.charCodeAt(e);return this.isCode(n)}move(i){let e=0;for(;!this._moves[e].call(this,i)&&e<this._moves.length;)e++}pushState(i){let r,n=i.value,o=n.length;if(Gn("C",this.states)){let a=n.substr(i.index).match(/\d{4,}/g);a&&(o=n.indexOf(a[0],i.index))}for(;(r=i.value.charCodeAt(i.index))>=0&&this.isCode(r)&&i.index<o;)this.encoding.addPattern(this.getValue(r)),i.index++}_initMoves(i){this._moves=[],Gn(this.FNC4,i)&&this._moves.push(this._moveFNC),Gn(this.shiftKey,i)&&this._moves.push(this._shiftState),this._moves.push(this._moveState)}_moveFNC(i){if(i.fnc)return i.fnc=!1,i.previousState===this.key}_shiftState(i){if(i.previousState===this.shiftKey&&(i.index+1>=i.value.length||this.encoding[this.shiftKey].is(i.value,i.index+1)))return this.encoding.addPattern(this.SHIFT),i.shifted=!0,!0}_moveState(){return this.encoding.addPattern(this.MOVE),!0}}const dO={};dO.A=class extends T4e{initProperties(){super.initProperties(),Dp(this,{key:"A",shiftKey:"B",MOVE:101,START:103})}isCode(i){return 0<=i&&i<96}getValue(i){return i<32?i+64:i-32}},dO.B=class extends T4e{initProperties(){super.initProperties(),Dp(this,{key:"B",shiftKey:"A",MOVE:100,START:104})}isCode(i){return 32<=i&&i<128}getValue(i){return i-32}},dO.C=class extends D9{initProperties(){super.initProperties(),Dp(this,{key:"C",MOVE:99,START:105})}addStart(){this.encoding.addPattern(this.START)}is(i,e){let n=ure(i,e,4);return(e+4<=i.length||2===i.length)&&dre.test(n)}move(){this.encoding.addPattern(this.MOVE)}pushState(i){let e;for(;(e=ure(i.value,i.index,2))&&dre.test(e)&&2===e.length;)this.encoding.addPattern(parseInt(e,10)),i.index+=2}getValue(i){return i}},dO.FNC4=class extends D9{constructor(i,e){super(i),this._initSubStates(e)}initProperties(){super.initProperties(),Dp(this,{key:"FNC4",dependentStates:["A","B"]})}addStart(i){let e=i.value.charCodeAt(0)-128,n=this._getSubState(e);this.encoding[n].addStart()}is(i,e){let n=i.charCodeAt(e);return this.isCode(n)}isCode(i){return 128<=i&&i<256}pushState(i){let r,e=this._initSubState(i),n=this.encoding,o=e.value.length;if(i.index+=o,o<3)for(;e.index<o;e.index++)r=e.value.charCodeAt(e.index),e.state=this._getSubState(r),e.previousState!==e.state&&(e.previousState=e.state,n[e.state].move(e)),n.addPattern(n[e.state].MOVE),n.addPattern(n[e.state].getValue(r));else e.state!==e.previousState&&n[e.state].move(e),this._pushStart(e),n.pushData(e,this.subStates),i.index<i.value.length&&this._pushStart(e);i.fnc=!0,i.state=e.state}_pushStart(i){this.encoding.addPattern(this.encoding[i.state].MOVE),this.encoding.addPattern(this.encoding[i.state].MOVE)}_initSubState(i){const e={value:this._getAll(i.value,i.index),index:0};return e.state=this._getSubState(e.value.charCodeAt(0)),e.previousState=i.previousState===this.key?e.state:i.previousState,e}_initSubStates(i){this.subStates=[];for(let e=0;e<i.length;e++)Gn(i[e],this.dependentStates)&&this.subStates.push(i[e])}_getSubState(i){for(let e=0;e<this.subStates.length;e++)if(this.encoding[this.subStates[e]].isCode(i))return this.subStates[e]}_getAll(i,e){let n,o="",r=e;for(;(n=i.charCodeAt(r++))&&this.isCode(n);)o+=String.fromCharCode(n-128);return o}},dO.FNC1=class extends D9{constructor(i,e){super(i),this.states=e}initProperties(){super.initProperties(),Dp(this,{key:"FNC1",startState:"C",startAI:"(",endAI:")",dependentStates:["C","B"],applicationIdentifiers:{22:{max:29,type:"alphanumeric"},402:{length:17},7004:{max:4,type:"alphanumeric"},242:{max:6,type:"alphanumeric"},8020:{max:25,type:"alphanumeric"},703:{min:3,max:30,type:"alphanumeric"},8008:{min:8,max:12,type:"alphanumeric"},253:{min:13,max:17,type:"alphanumeric"},8003:{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[-9]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102})}addStart(){this.encoding[this.startState].addStart()}is(){return Gn(this.key,this.states)}pushState(i){let l,c,u,e=this.encoding,n=i.value.replace(/\s/g,""),o=new RegExp("["+this.startAI+this.endAI+"]","g"),r=i.index,a={state:this.startState};for(e.addPattern(this.START);;){if(a.index=0,u=n.charAt(r)===this.startAI?2:0,l=u>0?this.getBySeparator(n,r):this.getByLength(n,r),l.ai.length)c=r+u+l.id.length+l.ai.length;else if(c=n.indexOf(this.startAI,r+1),c<0){if(r+l.ai.max+l.id.length+u<n.length)throw new Error("Separators are required after variable length identifiers");c=n.length}if(a.value=n.substring(r,c).replace(o,""),this.validate(l,a.value),e.pushData(a,this.dependentStates),c>=n.length)break;r=c,a.state!==this.startState&&(e[this.startState].move(a),a.state=this.startState),l.ai.length||e.addPattern(this.START)}i.index=i.value.length}validate(i,e){let n=e.substr(i.id.length),o=i.ai;if(!o.type&&!dre.test(n))throw new Error("Application identifier "+i.id+" is numeric only but contains non numeric character(s).");if("alphanumeric"===o.type&&!jGt.test(n))throw new Error("Application identifier "+i.id+" is alphanumeric only but contains non alphanumeric character(s).");if(o.length&&o.length!==n.length)throw new Error("Application identifier "+i.id+" must be "+o.length+" characters long.");if(o.min&&o.min>n.length)throw new Error("Application identifier "+i.id+" must be at least "+o.min+" characters long.");if(o.max&&o.max<n.length)throw new Error("Application identifier "+i.id+" must be at most "+o.max+" characters long.")}getByLength(i,e){let n,o;for(let r=2;r<=4;r++)if(n=ure(i,e,r),o=this.getApplicationIdentifier(n)||this.getApplicationIdentifier(n.substring(0,n.length-1)),o)return{id:n,ai:o};this.unsupportedAIError(n)}unsupportedAIError(i){throw new Error("'"+i+"' is not a supported Application Identifier")}getBySeparator(i,e){let n=i.indexOf(this.startAI,e),o=i.indexOf(this.endAI,n),r=i.substring(n+1,o),a=this.getApplicationIdentifier(r)||this.getApplicationIdentifier(r.substr(r.length-1));return a||this.unsupportedAIError(r),{ai:a,id:r}}getApplicationIdentifier(i){let e=this.applicationIdentifiers,n=e.multiKey;if(e[i])return e[i];for(let o=0;o<n.length;o++){if(n[o].ids&&Gn(i,n[o].ids))return n[o].type;if(n[o].ranges){let r=n[o].ranges;for(let a=0;a<r.length;a++)if(r[a][0]<=i&&i<=r[a][1])return n[o].type}}}};class o4 extends Vb{constructor(i){super(i),this._initStates()}initProperties(){super.initProperties(),Dp(this,{characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106})}_initStates(){for(let i=0;i<this.states.length;i++)this[this.states[i]]=new dO[this.states[i]](this,this.states)}initValue(i,e,n){this.pattern=[],this.value=i,this.width=e,this.height=n,this.checkSum=0,this.totalUnits=0,this.index=0,this.position=1}addData(){let i={value:this.value,index:0,state:""};0!==this.value.length&&(i.state=i.previousState=this.getNextState(i,this.states),this.addStart(i),this.pushData(i,this.states),this.addCheckSum(),this.addStop(),this.setBaseUnit())}pushData(i,e){for(;this[i.state].pushState(i),!(i.index>=i.value.length);)if(i.shifted){let o=i.state;i.state=i.previousState,i.previousState=o,i.shifted=!1}else i.previousState=i.state,i.state=this.getNextState(i,e),this[i.state].move(i)}addStart(i){this[i.state].addStart(i),this.position=1}addCheckSum(){this.checksum=this.checkSum%103,this.addPattern(this.checksum)}addStop(){this.addPattern(this.STOP)}setBaseUnit(){this.baseUnit=this.width/(this.totalUnits+this.quietZoneLength)}addPattern(i){const e=this.characterMap[i].toString();let n;for(let o=0;o<e.length;o++)n=parseInt(e.charAt(o),10),this.pattern.push(n),this.totalUnits+=n;this.checkSum+=i*this.position++}getNextState(i,e){for(let n=0;n<e.length;n++)if(this[e[n]].is(i.value,i.index))return e[n];this.invalidCharacterError(i.value.charAt(i.index))}}function ure(s,i,e){return s.substring(i,i+e)}const r4=Object.assign;class O9 extends Vb{initProperties(){super.initProperties(),r4(this,{characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:"",checkSums:ZGt})}initValue(i,e){this.pattern=[],this.value=i,this.checkSumLength=0,this.width=e}setBaseUnit(){this.baseUnit=this.width/(12*(this.value.length+this.checkSumLength)+this.quietZoneLength+7)}addData(){const i=this.value;this.addPattern(this.START);for(let e=0;e<i.length;e++)this.addCharacter(i.charAt(e));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.STOP),this.setBaseUnit()}addCharacter(i){const e=this.characterMap[i];e||this.invalidCharacterError(i),this.addPattern(e)}addPattern(i){for(let e=0;e<i.length;e++)this.pattern.push(parseInt(i.charAt(e),10))}addCheckSum(){const e=this.checkSums[this.checkSumType].call(this.checkSums,this.value);this.checksum=e.join("");for(let n=0;n<e.length;n++)this.checkSumLength++,this.addPattern(this.characterMap[e[n]])}}const ZGt={Modulo10(s){let n,o,r,i=[0,""],e=s.length%2;for(n=0;n<s.length;n++)i[(n+e)%2]+=parseInt(s.charAt(n),10);for(r=i[0],o=(2*i[1]).toString(),n=0;n<o.length;n++)r+=parseInt(o.charAt(n),10);return[(10-r%10)%10]},Modulo11(s){let o,r,i=0,n=s.length;for(let a=0;a<n;a++)o=((n-a)%6||6)+1,i+=o*s.charAt(a);return r=(11-i%11)%11,10!==r?[r]:[1,0]},Modulo11Modulo10(s){let e,i=this.Modulo11(s);return e=s+i[0],i.concat(this.Modulo10(e))},Modulo10Modulo10(s){let e,i=this.Modulo10(s);return e=s+i[0],i.concat(this.Modulo10(e))}},ePt=Object.assign;class M4e extends Vb{initProperties(){super.initProperties(),ePt(this,{name:"EAN 13",keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}})}initValue(i,e,n){const o=String(i);if(12!==o.length||/\D/.test(o))throw new Error('The value of the "EAN13" encoding should be 12 symbols');this.pattern=[],this.options.height=n,this.baseUnit=e/(95+this.quietZoneLength),this.value=o,this.checksum=this.calculateChecksum(),this.leftKey=o[0],this.leftPart=o.substr(1,6),this.rightPart=o.substr(7)+this.checksum}addData(){this.addPieces(this.characterMap.start),this.addSide(this.leftPart,this.leftKey),this.addPieces(this.characterMap.middle),this.addSide(this.rightPart),this.addPieces(this.characterMap.start)}addSide(i,e){for(let n=0;n<i.length;n++)e&&parseInt(this.keyTable[e].charAt(n),10)?this.addPieces(Array.prototype.slice.call(this.characterMap.digits[i.charAt(n)]).reverse(),!0):this.addPieces(this.characterMap.digits[i.charAt(n)],!0)}addPieces(i,e){for(let n=0;n<i.length;n++)this.pattern.push(e?{y1:0,y2:.95*this.options.height,width:i[n]}:i[n])}calculateChecksum(){let i=0,e=0,n=this.value.split("").reverse().join("");for(let r=0;r<n.length;r++)r%2?e+=parseInt(n.charAt(r),10):i+=parseInt(n.charAt(r),10);return(10-(3*i+e)%10)%10}}const tPt=Object.assign,I4e={code11:y4e,code39:cre,code39extended:class PGt extends cre{initProperties(){super.initProperties(),K(this,D4e,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}})}},code93:O4e,code93extended:class UGt extends O4e{initProperties(){super.initProperties(),K(this,D4e,{name:"Code 93 extended",pushCheckSum:function(){const i=this._getCheckValues();let e;this.checksum=i.join("");for(let n=0;n<i.length;n++)if(e=i[n],this.shiftValuesAsciiCodes[e])this.addExtended(this.shiftValuesAsciiCodes[e]);else{const o=this._findCharacterByValue(e);this.addPattern(this.characterMap[o].pattern)}}})}},code128:class WGt extends o4{initProperties(){super.initProperties(),Dp(this,{name:"Code 128",states:["C","B","A","FNC4"]})}},code128a:class HGt extends o4{initProperties(){super.initProperties(),Dp(this,{name:"Code 128 A",states:["A"]})}},code128b:class $Gt extends o4{initProperties(){super.initProperties(),Dp(this,{name:"Code 128 B",states:["B"]})}},code128c:class XGt extends o4{initProperties(){super.initProperties(),Dp(this,{name:"Code 128 C",states:["C"]})}},"gs1-128":class YGt extends o4{initProperties(){super.initProperties(),Dp(this,{name:"Code GS1-128",states:["FNC1","C","B"]})}},msimod10:class KGt extends O9{initProperties(){super.initProperties(),r4(this,{name:"MSI Modulo10",checkSumType:"Modulo10"})}},msimod11:class JGt extends O9{initProperties(){super.initProperties(),r4(this,{name:"MSI Modulo11",checkSumType:"Modulo11"})}},msimod1010:class qGt extends O9{initProperties(){super.initProperties(),r4(this,{name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"})}},msimod1110:class QGt extends O9{initProperties(){super.initProperties(),r4(this,{name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"})}},postnet:class zGt extends Vb{initProperties(){super.initProperties(),VGt(this,{name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]})}initValue(i,e,n){this.height=n,this.width=e,this.baseHeight=n/2,this.value=i.replace(new RegExp(this.DIGIT_SEPARATOR,"g"),""),this.pattern=[],this.validate(this.value),this.checkSum=0,this.setBaseUnit()}addData(){const i=this.value;this.addPattern(this.START);for(let e=0;e<i.length;e++)this.addCharacter(i.charAt(e));this.options.addCheckSum&&this.addCheckSum(),this.addPattern(this.START),this.pattern.pop()}addCharacter(i){const e=this.characterMap[i];this.checkSum+=parseInt(i,10),this.addPattern(e)}addCheckSum(){this.checksum=(10-this.checkSum%10)%10,this.addCharacter(this.checksum)}setBaseUnit(){this.baseUnit=this.width/(10*(this.value.length+1)+3+this.quietZoneLength)}validate(i){if(BGt.test(i)||this.invalidCharacterError(i.match(/[^0-9]/)[0]),!Gn(i.length,this.VALID_CODE_LENGTHS))throw new Error("Invalid value length. Valid lengths for the Postnet symbology are "+this.VALID_CODE_LENGTHS.join(",")+".")}addPattern(i){let e;for(let n=0;n<i.length;n++)e=this.height-this.baseHeight*i.charAt(n),this.pattern.push({width:1,y1:e,y2:this.height}),this.pattern.push(1)}},ean8:class nPt extends M4e{initProperties(){super.initProperties(),tPt(this,{name:"EAN 8"})}initValue(i,e,n){if(7!==i.length||/\D/.test(i))throw new Error("Invalid value provided");this.value=i,this.options.height=n,this.checksum=this.calculateChecksum(this.value),this.leftPart=this.value.substr(0,4),this.rightPart=this.value.substr(4)+this.checksum,this.pattern=[],this.baseUnit=e/(67+this.quietZoneLength)}},ean13:M4e};function x4e(s,i){const e=s.style.display;"canvas"===i&&(s.style.display="block");const n={width:s.clientWidth,height:s.clientHeight};return s.style.display=e,n}we(class oPt extends ft{constructor(i,e,n=IIe){super(),this.options=K({},this.options,e),this.element=i,this.onError=n,this._initElement(),this._initSurface(),this._setOptions(e),e&&ge(e.value)&&this.redraw()}destroy(){this._destroySurface()}_initElement(){Qo(this.element,"k-barcode")}_initSurface(){const{options:i,surface:e}=this;(!e||e.options.type!==i.renderAs)&&(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())}_createSurface(){return aO.create(this.surfaceElement,{type:this.options.renderAs})}_destroySurface(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())}_initSurfaceElement(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))}_destroySurfaceElement(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)}setOptions(i){this._setOptions(i),this._initSurface(),this.redraw()}redraw(){let i=this._getSize();this.surface.clear(),this.surface.setSize({width:i.width,height:i.height}),this.createVisual(),this.surface.draw(this.visual)}getSize(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}}_resize(){this.redraw()}createVisual(){this.visual=this._render()}_render(){const i=this.options,e=i.value,n=i.text,o=zi(n.margin),r=this._getSize(),a=i.border||{},l=this.encoding,c=new ze(0,0,r.width,r.height).unpad(a.width).unpad(i.padding);let f,_,g,u=c.height();const S=new Vn;this.contentBox=c,S.append(this._getBackground(r)),n.visible&&(g=c7(e,{font:n.font}).height,u-=g+o.top+o.bottom);try{f=l.encode(e,c.width(),u)}catch(b){return this.onError(b),S}return n.visible&&(_=e,i.checksum&&ge(l.checksum)&&(_+=" "+l.checksum),S.append(this._getText(_))),this.barHeight=u,this._bandsGroup=this._getBands(f.pattern,f.baseUnit),S.append(this._bandsGroup),S}exportVisual(){return this._render()}_getSize(){const e=x4e(this.element,this.options.renderAs),n=new v0(300,100);return e.width>0&&(n.width=e.width),e.height>0&&(n.height=e.height),this.options.width&&(n.width=this.options.width),this.options.height&&(n.height=this.options.height),n}value(i){if(!ge(i))return this.options.value;this.options.value=String(i),this.redraw()}_getBands(i,e){const n=this.contentBox;let r,a,o=n.x1;const l=new Vn;for(let c=0;c<i.length;c++){if(a=dh(i[c])?i[c]:{width:i[c],y1:0,y2:this.barHeight},r=a.width*e,c%2){const u=On.fromPoints(new Ie(o,a.y1+n.y1),new Ie(o+r,a.y2+n.y1)),f=ct.fromRect(u,{fill:{color:this.options.color},stroke:null});l.append(f)}o+=r}return l}_getBackground(i){const e=this.options,n=e.border||{},o=new ze(0,0,i.width,i.height).unpad(n.width/2);return ct.fromRect(o.toRect(),{fill:{color:e.background},stroke:{color:n.width?n.color:"",width:n.width,dashType:n.dashType}})}_getText(i){const e=this.options.text,n=this._textbox=new ad(i,{font:e.font,color:e.color,align:"center",vAlign:"bottom",margin:e.margin});return n.reflow(this.contentBox),n.renderVisual(),n.visual}_setOptions(i){if(this.type=(i.type||this.options.type).toLowerCase(),"upca"===this.type&&(this.type="ean13",i.value="0"+i.value),"upce"===this.type&&(this.type="ean8",i.value="0"+i.value),!I4e[this.type])throw new Error(`Encoding '${this.type}' is not supported.`);this.encoding=new I4e[this.type],this.options=K({},this.options,i)}},{name:"Barcode",renderAs:"svg",value:"",type:"code39",checksum:!1,width:0,height:0,color:"black",background:"white",text:{visible:!0,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}});const uO=Object.assign;function A4e(s,i){let e=[],n=0;for(;n<s.length;)e.push(s.substring(n,n+i)),n+=i;return e}function dd(s,i){let e=Number(s).toString(2);return e.length<i&&(e=new Array(i-e.length+1).join(0)+e),e}function T9(s){return parseInt(s,2)}class lPt extends ft{constructor(i){super(),this.matrix=i,this.row=i.length-1,this.column=i.length-1,this.startColumn=this.column,this.dir=-1,this.c=0}move(){this.row+=this.dir*this.c,this.c^=1,this.column=this.startColumn-this.c}getNextCell(){for(;void 0!==this.matrix[this.row][this.column];)this.move(),(this.row<0||this.row>=this.matrix.length)&&(this.dir=-this.dir,this.startColumn-=8!==this.startColumn?2:3,this.column=this.startColumn,this.row=this.dir<0?this.matrix.length-1:0);return{row:this.row,column:this.column}}getNextRemainderCell(){if(this.move(),void 0===this.matrix[this.row][this.column])return{row:this.row,column:this.column}}}class R4e extends ft{constructor(i,e){super(),this.dataString=i,this.version=e}}class cPt extends ft{getEncodingResult(i,e){let n=function XPt(s){let e,i=[],n=0,o=s;for(i.push(B4e(o,xPt,APt,RPt,e)),e=i[0].mode,o=o.substr(i[0].modeString.length);o.length>0;){let r=B4e(o,NPt,LPt,GPt,e);r.mode!==e?(e=r.mode,i.push(r),n++):i[n].modeString+=r.modeString,o=o.substr(r.modeString.length)}return i}(i),o=function WPt(s){let e,i=0;for(let n=0;n<s.length;n++)e=pre[s[n].mode],i+=e.getStringBitsLength(s[n].modeString.length);return Math.ceil(i/8)}(n),r=V4e(o,e),a=function YPt(s,i){let n,e="";for(let o=0;o<s.length;o++)n=pre[s[o].mode],e+=n.encode(s[o].modeString,i);return e}(n,r);return new R4e(a,r)}}class hre extends ft{constructor(){super(),this.initProperties()}initProperties(){uO(this,{modeIndicator:"",bitsInCharacterCount:[]})}getVersionIndex(i){return i<10?0:i>26?2:1}getBitsCharacterCount(i){return this.bitsInCharacterCount[this.getVersionIndex(i||40)]}getModeCountString(i,e){return this.modeIndicator+dd(i,this.getBitsCharacterCount(e))}encode(){}getStringBitsLength(){}getValue(){}}let pre={numeric:new class dPt extends hre{initProperties(){super.initProperties(),uO(this,{bitsInCharacterCount:[10,12,14],modeIndicator:"0001"})}getValue(i){return parseInt(i,10)}encode(i,e){let a,o=A4e(i,3),r=this.getModeCountString(i.length,e);for(a=0;a<o.length-1;a++)r+=dd(o[a],10);return r+dd(o[a],1+3*o[a].length)}getStringBitsLength(i,e){let n=i%3;return 4+this.getBitsCharacterCount(e)+10*Math.floor(i/3)+3*n+(0===n?0:1)}},alphanumeric:new class uPt extends hre{initProperties(){super.initProperties(),uO(this,{characters:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,$:37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44},bitsInCharacterCount:[9,11,13],modeIndicator:"0010"})}getValue(i){return this.characters[i]}encode(i,e){let r,a,n=A4e(i,2),o=this.getModeCountString(i.length,e);for(a=0;a<n.length-1;a++)r=45*this.getValue(n[a].charAt(0))+this.getValue(n[a].charAt(1)),o+=dd(r,11);return r=2===n[a].length?45*this.getValue(n[a].charAt(0))+this.getValue(n[a].charAt(1)):this.getValue(n[a].charAt(0)),o+dd(r,1+5*n[a].length)}getStringBitsLength(i,e){return 4+this.getBitsCharacterCount(e)+11*Math.floor(i/2)+i%2*6}},byte:new class hPt extends hre{initProperties(){super.initProperties(),uO(this,{bitsInCharacterCount:[8,16,16],modeIndicator:"0100"})}getValue(i){let e=i.charCodeAt(0);if(e<=127||160<=e&&e<=255)return e;throw new Error(`Unsupported character in QR Code: "${i}".`)}encode(i,e){let n=this,o=n.getModeCountString(i.length,e);for(let r=0;r<i.length;r++)o+=dd(n.getValue(i.charAt(r)),8);return o}getStringBitsLength(i,e){return 4+this.getBitsCharacterCount(e)+8*i}}};class gPt extends ft{constructor(){super(),this.initProperties(),this.mode=pre[this.encodingMode]}initProperties(){uO(this,{encodingMode:"byte",utfBOM:"111011111011101110111111",initialModeCountStringLength:20,ranges:[128,2048,65536,2097152,67108864]})}getEncodingResult(i,e){let n=this.encode(i),r=V4e(this.getDataCodewordsCount(n),e),a=this.mode.getModeCountString(n.length/8,r)+n;return new R4e(a,r)}getDataCodewordsCount(i){return Math.ceil((this.initialModeCountStringLength+i.length)/8)}encode(i){let e=this.utfBOM;for(let n=0;n<i.length;n++)e+=this.encodeCharacter(i.charCodeAt(n));return e}encodeCharacter(i){let e=this.getBytesCount(i),n=e-1,o="";if(1===e)o=dd(i,8);else{let r=8-e;for(let a=0;a<n;a++)o=dd(i>>6*a&63|128,8)+o;o=(i>>6*n|255>>r<<r).toString(2)+o}return o}getBytesCount(i){let e=this.ranges;for(let n=0;n<e.length;n++)if(i<e[n])return n+1}}const a4=[{L:{groups:[[1,19]],totalDataCodewords:19,errorCodewordsPerBlock:7},M:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:10},Q:{groups:[[1,13]],totalDataCodewords:13,errorCodewordsPerBlock:13},H:{groups:[[1,9]],totalDataCodewords:9,errorCodewordsPerBlock:17}},{L:{groups:[[1,34]],totalDataCodewords:34,errorCodewordsPerBlock:10},M:{groups:[[1,28]],totalDataCodewords:28,errorCodewordsPerBlock:16},Q:{groups:[[1,22]],totalDataCodewords:22,errorCodewordsPerBlock:22},H:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:28}},{L:{groups:[[1,55]],totalDataCodewords:55,errorCodewordsPerBlock:15},M:{groups:[[1,44]],totalDataCodewords:44,errorCodewordsPerBlock:26},Q:{groups:[[2,17]],totalDataCodewords:34,errorCodewordsPerBlock:18},H:{groups:[[2,13]],totalDataCodewords:26,errorCodewordsPerBlock:22}},{L:{groups:[[1,80]],totalDataCodewords:80,errorCodewordsPerBlock:20},M:{groups:[[2,32]],totalDataCodewords:64,errorCodewordsPerBlock:18},Q:{groups:[[2,24]],totalDataCodewords:48,errorCodewordsPerBlock:26},H:{groups:[[4,9]],totalDataCodewords:36,errorCodewordsPerBlock:16}},{L:{groups:[[1,108]],totalDataCodewords:108,errorCodewordsPerBlock:26},M:{groups:[[2,43]],totalDataCodewords:86,errorCodewordsPerBlock:24},Q:{groups:[[2,15],[2,16]],totalDataCodewords:62,errorCodewordsPerBlock:18},H:{groups:[[2,11],[2,12]],totalDataCodewords:46,errorCodewordsPerBlock:22}},{L:{groups:[[2,68]],totalDataCodewords:136,errorCodewordsPerBlock:18},M:{groups:[[4,27]],totalDataCodewords:108,errorCodewordsPerBlock:16},Q:{groups:[[4,19]],totalDataCodewords:76,errorCodewordsPerBlock:24},H:{groups:[[4,15]],totalDataCodewords:60,errorCodewordsPerBlock:28}},{L:{groups:[[2,78]],totalDataCodewords:156,errorCodewordsPerBlock:20},M:{groups:[[4,31]],totalDataCodewords:124,errorCodewordsPerBlock:18},Q:{groups:[[2,14],[4,15]],totalDataCodewords:88,errorCodewordsPerBlock:18},H:{groups:[[4,13],[1,14]],totalDataCodewords:66,errorCodewordsPerBlock:26}},{L:{groups:[[2,97]],totalDataCodewords:194,errorCodewordsPerBlock:24},M:{groups:[[2,38],[2,39]],totalDataCodewords:154,errorCodewordsPerBlock:22},Q:{groups:[[4,18],[2,19]],totalDataCodewords:110,errorCodewordsPerBlock:22},H:{groups:[[4,14],[2,15]],totalDataCodewords:86,errorCodewordsPerBlock:26}},{L:{groups:[[2,116]],totalDataCodewords:232,errorCodewordsPerBlock:30},M:{groups:[[3,36],[2,37]],totalDataCodewords:182,errorCodewordsPerBlock:22},Q:{groups:[[4,16],[4,17]],totalDataCodewords:132,errorCodewordsPerBlock:20},H:{groups:[[4,12],[4,13]],totalDataCodewords:100,errorCodewordsPerBlock:24}},{L:{groups:[[2,68],[2,69]],totalDataCodewords:274,errorCodewordsPerBlock:18},M:{groups:[[4,43],[1,44]],totalDataCodewords:216,errorCodewordsPerBlock:26},Q:{groups:[[6,19],[2,20]],totalDataCodewords:154,errorCodewordsPerBlock:24},H:{groups:[[6,15],[2,16]],totalDataCodewords:122,errorCodewordsPerBlock:28}},{L:{groups:[[4,81]],totalDataCodewords:324,errorCodewordsPerBlock:20},M:{groups:[[1,50],[4,51]],totalDataCodewords:254,errorCodewordsPerBlock:30},Q:{groups:[[4,22],[4,23]],totalDataCodewords:180,errorCodewordsPerBlock:28},H:{groups:[[3,12],[8,13]],totalDataCodewords:140,errorCodewordsPerBlock:24}},{L:{groups:[[2,92],[2,93]],totalDataCodewords:370,errorCodewordsPerBlock:24},M:{groups:[[6,36],[2,37]],totalDataCodewords:290,errorCodewordsPerBlock:22},Q:{groups:[[4,20],[6,21]],totalDataCodewords:206,errorCodewordsPerBlock:26},H:{groups:[[7,14],[4,15]],totalDataCodewords:158,errorCodewordsPerBlock:28}},{L:{groups:[[4,107]],totalDataCodewords:428,errorCodewordsPerBlock:26},M:{groups:[[8,37],[1,38]],totalDataCodewords:334,errorCodewordsPerBlock:22},Q:{groups:[[8,20],[4,21]],totalDataCodewords:244,errorCodewordsPerBlock:24},H:{groups:[[12,11],[4,12]],totalDataCodewords:180,errorCodewordsPerBlock:22}},{L:{groups:[[3,115],[1,116]],totalDataCodewords:461,errorCodewordsPerBlock:30},M:{groups:[[4,40],[5,41]],totalDataCodewords:365,errorCodewordsPerBlock:24},Q:{groups:[[11,16],[5,17]],totalDataCodewords:261,errorCodewordsPerBlock:20},H:{groups:[[11,12],[5,13]],totalDataCodewords:197,errorCodewordsPerBlock:24}},{L:{groups:[[5,87],[1,88]],totalDataCodewords:523,errorCodewordsPerBlock:22},M:{groups:[[5,41],[5,42]],totalDataCodewords:415,errorCodewordsPerBlock:24},Q:{groups:[[5,24],[7,25]],totalDataCodewords:295,errorCodewordsPerBlock:30},H:{groups:[[11,12],[7,13]],totalDataCodewords:223,errorCodewordsPerBlock:24}},{L:{groups:[[5,98],[1,99]],totalDataCodewords:589,errorCodewordsPerBlock:24},M:{groups:[[7,45],[3,46]],totalDataCodewords:453,errorCodewordsPerBlock:28},Q:{groups:[[15,19],[2,20]],totalDataCodewords:325,errorCodewordsPerBlock:24},H:{groups:[[3,15],[13,16]],totalDataCodewords:253,errorCodewordsPerBlock:30}},{L:{groups:[[1,107],[5,108]],totalDataCodewords:647,errorCodewordsPerBlock:28},M:{groups:[[10,46],[1,47]],totalDataCodewords:507,errorCodewordsPerBlock:28},Q:{groups:[[1,22],[15,23]],totalDataCodewords:367,errorCodewordsPerBlock:28},H:{groups:[[2,14],[17,15]],totalDataCodewords:283,errorCodewordsPerBlock:28}},{L:{groups:[[5,120],[1,121]],totalDataCodewords:721,errorCodewordsPerBlock:30},M:{groups:[[9,43],[4,44]],totalDataCodewords:563,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[1,23]],totalDataCodewords:397,errorCodewordsPerBlock:28},H:{groups:[[2,14],[19,15]],totalDataCodewords:313,errorCodewordsPerBlock:28}},{L:{groups:[[3,113],[4,114]],totalDataCodewords:795,errorCodewordsPerBlock:28},M:{groups:[[3,44],[11,45]],totalDataCodewords:627,errorCodewordsPerBlock:26},Q:{groups:[[17,21],[4,22]],totalDataCodewords:445,errorCodewordsPerBlock:26},H:{groups:[[9,13],[16,14]],totalDataCodewords:341,errorCodewordsPerBlock:26}},{L:{groups:[[3,107],[5,108]],totalDataCodewords:861,errorCodewordsPerBlock:28},M:{groups:[[3,41],[13,42]],totalDataCodewords:669,errorCodewordsPerBlock:26},Q:{groups:[[15,24],[5,25]],totalDataCodewords:485,errorCodewordsPerBlock:30},H:{groups:[[15,15],[10,16]],totalDataCodewords:385,errorCodewordsPerBlock:28}},{L:{groups:[[4,116],[4,117]],totalDataCodewords:932,errorCodewordsPerBlock:28},M:{groups:[[17,42]],totalDataCodewords:714,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[6,23]],totalDataCodewords:512,errorCodewordsPerBlock:28},H:{groups:[[19,16],[6,17]],totalDataCodewords:406,errorCodewordsPerBlock:30}},{L:{groups:[[2,111],[7,112]],totalDataCodewords:1006,errorCodewordsPerBlock:28},M:{groups:[[17,46]],totalDataCodewords:782,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[16,25]],totalDataCodewords:568,errorCodewordsPerBlock:30},H:{groups:[[34,13]],totalDataCodewords:442,errorCodewordsPerBlock:24}},{L:{groups:[[4,121],[5,122]],totalDataCodewords:1094,errorCodewordsPerBlock:30},M:{groups:[[4,47],[14,48]],totalDataCodewords:860,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[14,25]],totalDataCodewords:614,errorCodewordsPerBlock:30},H:{groups:[[16,15],[14,16]],totalDataCodewords:464,errorCodewordsPerBlock:30}},{L:{groups:[[6,117],[4,118]],totalDataCodewords:1174,errorCodewordsPerBlock:30},M:{groups:[[6,45],[14,46]],totalDataCodewords:914,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[16,25]],totalDataCodewords:664,errorCodewordsPerBlock:30},H:{groups:[[30,16],[2,17]],totalDataCodewords:514,errorCodewordsPerBlock:30}},{L:{groups:[[8,106],[4,107]],totalDataCodewords:1276,errorCodewordsPerBlock:26},M:{groups:[[8,47],[13,48]],totalDataCodewords:1e3,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[22,25]],totalDataCodewords:718,errorCodewordsPerBlock:30},H:{groups:[[22,15],[13,16]],totalDataCodewords:538,errorCodewordsPerBlock:30}},{L:{groups:[[10,114],[2,115]],totalDataCodewords:1370,errorCodewordsPerBlock:28},M:{groups:[[19,46],[4,47]],totalDataCodewords:1062,errorCodewordsPerBlock:28},Q:{groups:[[28,22],[6,23]],totalDataCodewords:754,errorCodewordsPerBlock:28},H:{groups:[[33,16],[4,17]],totalDataCodewords:596,errorCodewordsPerBlock:30}},{L:{groups:[[8,122],[4,123]],totalDataCodewords:1468,errorCodewordsPerBlock:30},M:{groups:[[22,45],[3,46]],totalDataCodewords:1128,errorCodewordsPerBlock:28},Q:{groups:[[8,23],[26,24]],totalDataCodewords:808,errorCodewordsPerBlock:30},H:{groups:[[12,15],[28,16]],totalDataCodewords:628,errorCodewordsPerBlock:30}},{L:{groups:[[3,117],[10,118]],totalDataCodewords:1531,errorCodewordsPerBlock:30},M:{groups:[[3,45],[23,46]],totalDataCodewords:1193,errorCodewordsPerBlock:28},Q:{groups:[[4,24],[31,25]],totalDataCodewords:871,errorCodewordsPerBlock:30},H:{groups:[[11,15],[31,16]],totalDataCodewords:661,errorCodewordsPerBlock:30}},{L:{groups:[[7,116],[7,117]],totalDataCodewords:1631,errorCodewordsPerBlock:30},M:{groups:[[21,45],[7,46]],totalDataCodewords:1267,errorCodewordsPerBlock:28},Q:{groups:[[1,23],[37,24]],totalDataCodewords:911,errorCodewordsPerBlock:30},H:{groups:[[19,15],[26,16]],totalDataCodewords:701,errorCodewordsPerBlock:30}},{L:{groups:[[5,115],[10,116]],totalDataCodewords:1735,errorCodewordsPerBlock:30},M:{groups:[[19,47],[10,48]],totalDataCodewords:1373,errorCodewordsPerBlock:28},Q:{groups:[[15,24],[25,25]],totalDataCodewords:985,errorCodewordsPerBlock:30},H:{groups:[[23,15],[25,16]],totalDataCodewords:745,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[3,116]],totalDataCodewords:1843,errorCodewordsPerBlock:30},M:{groups:[[2,46],[29,47]],totalDataCodewords:1455,errorCodewordsPerBlock:28},Q:{groups:[[42,24],[1,25]],totalDataCodewords:1033,errorCodewordsPerBlock:30},H:{groups:[[23,15],[28,16]],totalDataCodewords:793,errorCodewordsPerBlock:30}},{L:{groups:[[17,115]],totalDataCodewords:1955,errorCodewordsPerBlock:30},M:{groups:[[10,46],[23,47]],totalDataCodewords:1541,errorCodewordsPerBlock:28},Q:{groups:[[10,24],[35,25]],totalDataCodewords:1115,errorCodewordsPerBlock:30},H:{groups:[[19,15],[35,16]],totalDataCodewords:845,errorCodewordsPerBlock:30}},{L:{groups:[[17,115],[1,116]],totalDataCodewords:2071,errorCodewordsPerBlock:30},M:{groups:[[14,46],[21,47]],totalDataCodewords:1631,errorCodewordsPerBlock:28},Q:{groups:[[29,24],[19,25]],totalDataCodewords:1171,errorCodewordsPerBlock:30},H:{groups:[[11,15],[46,16]],totalDataCodewords:901,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[6,116]],totalDataCodewords:2191,errorCodewordsPerBlock:30},M:{groups:[[14,46],[23,47]],totalDataCodewords:1725,errorCodewordsPerBlock:28},Q:{groups:[[44,24],[7,25]],totalDataCodewords:1231,errorCodewordsPerBlock:30},H:{groups:[[59,16],[1,17]],totalDataCodewords:961,errorCodewordsPerBlock:30}},{L:{groups:[[12,121],[7,122]],totalDataCodewords:2306,errorCodewordsPerBlock:30},M:{groups:[[12,47],[26,48]],totalDataCodewords:1812,errorCodewordsPerBlock:28},Q:{groups:[[39,24],[14,25]],totalDataCodewords:1286,errorCodewordsPerBlock:30},H:{groups:[[22,15],[41,16]],totalDataCodewords:986,errorCodewordsPerBlock:30}},{L:{groups:[[6,121],[14,122]],totalDataCodewords:2434,errorCodewordsPerBlock:30},M:{groups:[[6,47],[34,48]],totalDataCodewords:1914,errorCodewordsPerBlock:28},Q:{groups:[[46,24],[10,25]],totalDataCodewords:1354,errorCodewordsPerBlock:30},H:{groups:[[2,15],[64,16]],totalDataCodewords:1054,errorCodewordsPerBlock:30}},{L:{groups:[[17,122],[4,123]],totalDataCodewords:2566,errorCodewordsPerBlock:30},M:{groups:[[29,46],[14,47]],totalDataCodewords:1992,errorCodewordsPerBlock:28},Q:{groups:[[49,24],[10,25]],totalDataCodewords:1426,errorCodewordsPerBlock:30},H:{groups:[[24,15],[46,16]],totalDataCodewords:1096,errorCodewordsPerBlock:30}},{L:{groups:[[4,122],[18,123]],totalDataCodewords:2702,errorCodewordsPerBlock:30},M:{groups:[[13,46],[32,47]],totalDataCodewords:2102,errorCodewordsPerBlock:28},Q:{groups:[[48,24],[14,25]],totalDataCodewords:1502,errorCodewordsPerBlock:30},H:{groups:[[42,15],[32,16]],totalDataCodewords:1142,errorCodewordsPerBlock:30}},{L:{groups:[[20,117],[4,118]],totalDataCodewords:2812,errorCodewordsPerBlock:30},M:{groups:[[40,47],[7,48]],totalDataCodewords:2216,errorCodewordsPerBlock:28},Q:{groups:[[43,24],[22,25]],totalDataCodewords:1582,errorCodewordsPerBlock:30},H:{groups:[[10,15],[67,16]],totalDataCodewords:1222,errorCodewordsPerBlock:30}},{L:{groups:[[19,118],[6,119]],totalDataCodewords:2956,errorCodewordsPerBlock:30},M:{groups:[[18,47],[31,48]],totalDataCodewords:2334,errorCodewordsPerBlock:28},Q:{groups:[[34,24],[34,25]],totalDataCodewords:1666,errorCodewordsPerBlock:30},H:{groups:[[20,15],[61,16]],totalDataCodewords:1276,errorCodewordsPerBlock:30}}];let vPt="numeric",L4e="alphanumeric",SPt="byte",fre={1:0},MS={0:1},CPt={15:20,16:20,18:24,19:24,22:20,24:22,26:24,28:20,30:20,31:24,32:28,33:24,36:18,37:22,39:20,40:24},mre=[1,0,1,1,1],bPt=[1,0,1],EPt={L:"01",M:"00",Q:"11",H:"10"},DPt=["11101100","00010001"],OPt=93,_re=[(s,i)=>(s+i)%2==0,(s,i)=>s%2==0,(s,i)=>i%3==0,(s,i)=>(s+i)%3==0,(s,i)=>(Math.floor(s/2)+Math.floor(i/3))%2==0,(s,i)=>s*i%2+s*i%3==0,(s,i)=>(s*i%2+s*i%3)%2==0,(s,i)=>((s+i)%2+s*i%3)%2==0],TPt=/^\d+/,G4e="A-Z0-9 $%*+./:-",IPt=new RegExp("^[A-Z $%*+./:-]+"),P4e=new RegExp("^["+G4e+"]+"),F4e=new RegExp("^[^"+G4e+"]+"),xPt=8,APt=5,RPt=8,NPt=17,LPt=9,GPt=16;const gre=[[1,0],[1,25,0]];function pc(s,i,e,n){for(let o=0;o<s.length;o++)s[o][e][n]=i}function U4e(s,i,e,n){for(let o=0;o<_re.length;o++)s[o][e][n]=_re[o](e,n)?1^i:parseInt(i,10)}function BPt(s,i){let e=[];for(let o=s.length-2;o>=0;o--)e[o]=s[o]^i[o];return e}function VPt(s,i){let e=[];for(let n=0;n<s.length;n++)for(let o=0;o<i.length;o++)e[n+o]=void 0===e[n+o]?(s[n]+(i[o]>=0?i[o]:0))%255:fre[MS[e[n+o]]^MS[(s[n]+i[o])%255]];return e}function jPt(s,i){let e=[],n=s.length-1;do{e[n]=MS[(s[n]+i)%255],n--}while(void 0!==s[n]);return e}function HPt(s,i){let l,c,e=gre[i-1],n=new Array(i).concat(s),o=new Array(n.length-e.length).concat(e),r=s.length,a=[];for(c=0;c<r;c++)l=jPt(o,fre[n[n.length-1]]),o.splice(0,1),n=BPt(l,n);for(c=n.length-1;c>=0;c--)a[i-1-c]=dd(n[c],8);return a}function B4e(s,i,e,n,o){let _,g,r=TPt.exec(s),a=r?r[0]:"",l=IPt.exec(s),c=l?l[0]:"",u=P4e.exec(s),f=u?u[0]:"";return a&&(a.length>=i||s.length===a.length||a.length>=e&&!P4e.test(s.charAt(a.length)))?(_=vPt,g=a):f&&(s.length===f.length||f.length>=n||o===L4e)?(_=L4e,g=a||c):(_=SPt,g=f?f+F4e.exec(s.substring(f.length))[0]:F4e.exec(s)[0]),{mode:_,modeString:g}}function V4e(s,i){let e=0,n=a4.length-1,o=Math.floor(a4.length/2);do{s<a4[o][i].totalDataCodewords?n=o:e=o,o=e+Math.floor((n-e)/2)}while(n-e>1);return s<=a4[e][i].totalDataCodewords?o+1:n+1}function z4e(s,i,e){let n=T9(i),o=i.length-1,r=s<<o,l=dd(s,e-o),c=function JPt(s,i){let e=i.toString(2).length,n=s.toString(2).length,o=s;do{o^=i<<n-e,n=o.toString(2).length}while(n>=e);return o}(r,n);return c=l+dd(c,o),c}function l4(s,i){return parseInt(s.charAt(i),10)}function j4e(s,i){let n,o,e=s[0],r=0,a=i.length;for(n=0,o=8;n<=8;n++)6!==n&&pc(s,l4(i,a-1-r++),n,o);for(n=8,o=7;o>=0;o--)6!==o&&pc(s,l4(i,a-1-r++),n,o);for(r=0,o=e.length-1,n=8;o>=e.length-8;o--)pc(s,l4(i,a-1-r++),n,o);for(pc(s,1,e.length-8,8),n=e.length-7,o=8;n<e.length;n++)pc(s,l4(i,a-1-r++),n,o)}function H4e(s,i){let c,u,f,n=s[0].length,r=n-11,a=n-11;for(let _=0;_<i.length;_++)c=Math.floor(_/3),u=_%3,f=l4(i,i.length-_-1),pc(s,f,0+c,r+u),pc(s,f,a+u,0+c)}function M9(s,i,e,n){let a,o=i.length+2,r=i.length+1;for(let l=0;l<i.length;l++)for(let c=l;c<o-l;c++)a=i[l],pc(s,a,e+c,n+l),pc(s,a,e+l,n+c),pc(s,a,e+r-c,n+r-l),pc(s,a,e+r-l,n+r-c)}function vre(s,i,e,n){let o=e,r=n,a=s[0];do{pc(s,0,o,n),pc(s,0,e,r),o+=i[0],r+=i[1]}while(o>=0&&o<a.length)}function $4e(s,i,e,n,o){i[s][n]=(i[s][n]<<1^o)%128,i[s][n]===OPt&&(e[s]+=40)}function X4e(s,i,e,n,o,r){e[s][r]===n?o[s][r]++:(e[s][r]=n,o[s][r]>=5&&(i[s]+=3+o[s][r]-5),o[s][r]=1)}function iFt(s,i){let e=Math.floor(s/i*100),n=e%5,o=Math.abs(e-n-50),r=Math.abs(e+5-n-50);return 10*Math.min(o/5,r/5)}(function UPt(){let s,i;for(i=1;i<255;i++)s=2*MS[i-1],s>255&&(s^=285),MS[i]=s,fre[s]=i;s=2*MS[i-1]^285,MS[i]=s,MS[-1]=0})(),function zPt(){for(let i=2;i<=68;i++)gre[i]=VPt(gre[i-1],[i,0])}();const c4=Math.round,rFt=[[0,1],[1,1],[1,2],[2,2],[2,1],[3,1],[3,0],[2,0],[2,-1],[1,-1],[1,0]],W4e=[[0,1],[1,1],[1,0]];class Y4e extends ft{constructor(i,e,n=IIe){super(),this.options=K({},this.options,e),this.element=i,this.wrapper=this.element,this.onError=n,this._initElement(),this._initSurface(),this.setOptions(e)}destroy(){this._destroySurface()}_initElement(){Qo(this.element,"k-qrcode")}_initSurface(){const{options:i,surface:e}=this;(!e||e.options.type!==i.renderAs)&&(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())}_createSurface(){return aO.create(this.surfaceElement,{type:this.options.renderAs})}_destroySurface(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())}_initSurfaceElement(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.surfaceElement.style.position="relative",this.element.appendChild(this.surfaceElement))}_destroySurfaceElement(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)}redraw(){let i=this._getSize();this.surface.clear(),this.surface.setSize({width:i,height:i}),this.createVisual(),this.surface.draw(this.visual)}getSize(){const i=this.element,e=i.clientWidth,n=i.clientHeight,o={width:0,height:0};return e>0&&(o.width=e),n&&(o.height=n),o}_resize(){this.redraw()}createVisual(){this.visual=this._render()}exportVisual(){return this._render()}_render(){let e,a,l,c,u,f,i=this._value,n=this.options.border||{},o=this.options.padding||0,r=n.width||0;n.width=r;let _=new Vn;try{i&&(l=function oFt(s,i,e){let n=function sFt(s){return s&&s.toLowerCase().indexOf("utf_8")>=0?new gPt:new cPt}(e),o=n.getEncodingResult(s,i),r=o.version,a=a4[r-1][i],l=function FPt(s,i){let e=8*i,n=0,o=0,r=s;for(;r.length<e&&n<4;)r+="0000".charAt(n++);for(r.length%8!=0&&(r+=new Array(9-r.length%8).join("0"));r.length<e;)r+=DPt[o],o^=1;return r}(o.dataString,a.totalDataCodewords),c=function $Pt(s,i){let r,l,c,u,f,e=0,n=[],o=[],a=i.groups;for(let _=0;_<a.length;_++){c=a[_][0];for(let g=0;g<c;g++){l=a[_][1],r=[],u=[];for(let S=1;S<=l;S++)f=s.substring(e,e+8),r.push(f),u[l-S]=T9(f),e+=8;n.push(r),o.push(HPt(u,i.errorCodewordsPerBlock))}}return[n,o]}(l,a),u=function qPt(s){let i=[],e=17+4*s;for(let n=0;n<_re.length;n++){i[n]=new Array(e);for(let o=0;o<e;o++)i[n][o]=new Array(e)}return i}(r);(function ZPt(s){let i=s[0].length;M9(s,mre,0,0),vre(s,[-1,-1],7,7),M9(s,mre,i-7,0),vre(s,[1,-1],i-8,7),M9(s,mre,0,i-7),vre(s,[-1,1],7,i-8)})(u),function eFt(s,i){if(i<2)return;let a,l,e=s[0],n=e.length,o=Math.floor(i/7),r=[6],c=0;for((a=CPt[i])?l=(n-13-a)/o:a=l=(n-13)/(o+1),r.push(r[c++]+a);r[c]+l<n;)r.push(r[c++]+l);for(let u=0;u<r.length;u++)for(let f=0;f<r.length;f++)void 0===e[r[u]][r[f]]&&M9(s,bPt,r[u]-2,r[f]-2)}(u,r),function tFt(s){let n=1,o=s[0].length;for(let r=8;r<o-8;r++)pc(s,n,6,r),pc(s,n,r,6),n^=1}(u),r>=7&&H4e(u,dd(0,18)),j4e(u,dd(0,15)),function PPt(s,i){let n,o,r,e=new lPt(s[0]);for(let a=0;a<i.length;a++)for(n=i[a],o=0;n.length>0;){for(let l=0;l<n.length;l++)for(let c=0;c<8;c++)r=e.getNextCell(),U4e(s,n[l][o].charAt(c),r.row,r.column);for(o++;n[0]&&o===n[0].length;)n.splice(0,1)}for(;r=e.getNextRemainderCell();)U4e(s,0,r.row,r.column)}(u,c);let f=function nFt(s){let a,l,i=[],e=[],n=[],o=[],r=[],f=s[0].length;for(l=0;l<s.length;l++)i[l]=0,n[l]=0,r[l]=[0,0],o[l]=[0,0],e[l]=[];for(let b=0;b<f;b++)for(let k=0;k<f;k++)for(let D=0;D<s.length;D++)a=s[D],n[D]+=parseInt(a[b][k],10),e[D][0]===a[b][k]&&b+1<f&&k-1>=0&&a[b+1][k]===e[D][0]&&a[b+1][k-1]===e[D][0]&&(i[D]+=3),$4e(D,o,i,0,a[b][k]),$4e(D,o,i,1,a[k][b]),X4e(D,i,e,a[b][k],r,0),X4e(D,i,e,a[k][b],r,1);let g,_=f*f,S=Number.MAX_VALUE;for(l=0;l<i.length;l++)i[l]+=iFt(n[l],_),i[l]<S&&(S=i[l],g=l);return g}(u),_=u[f];return r>=7&&H4e([_],function QPt(s){return z4e(s,"1111100100101",18)}(r)),j4e([_],function KPt(s){let e,n="";if(0===T9(s))return"101010000010010";e=z4e(T9(s),"10100110111",15);for(let o=0;o<e.length;o++)n+=e.charAt(o)^"101010000010010".charAt(o);return n}(EPt[i]+dd(f,3))),_}(i,this.options.errorCorrection,this.options.encoding),c=this._getSize(),f=c-2*(r+o),e=this._calculateBaseUnit(f,l.length),u=l.length*e,a=r+o+(f-u)/2,_.append(this._renderBackground(c,n)),_.append(this._renderMatrix(l,e,a)),this._hasCustomLogo()?_.append(this._renderLogo(c,e)):this._isSwiss()&&_.append(this._renderSwissCode(c,e)))}catch(g){this.onError(g)}return _}_renderLogo(i,e){let n,o,r=c4(i/2),a=this._getLogoSize(7*e),l=this.options.overlay.imageUrl,c={x:r-a.width/2,y:r-a.height/2};return o=new On(new Ie(c.x,c.y),new v0(a.width,a.height)),n=new rte(l,o),n}_renderSwissCode(i,e){let n=this._getLogoSize(7*e);n=Math.max(n.width,n.height);let o=n/4,r=o/2,a=i/2,l={},c=new Vn;return l.x=l.y=Math.ceil(a-e-n/2),c.append(this._renderShape(l,Math.ceil(n+2*e),W4e,"#fff")),l.x=l.y=a-n/2,c.append(this._renderShape(l,n,W4e,this.options.color)),l.x=a+r-n/2,l.y=a+r+o-n/2,c.append(this._renderShape(l,o,rFt,"#fff")),c}_renderShape(i,e,n,o){let r=new ed({fill:{color:o},stroke:null});r.moveTo(i.x,i.y);for(let a=0;a<n.length;a++)r.lineTo(i.x+e*n[a][0],i.y+e*n[a][1]);return r.close(),r}_getSize(){let i;if(this.options.size)i=parseInt(this.options.size,10);else{const n=x4e(this.element,this.options.renderAs),o=Math.min(n.width,n.height);i=o>0?o:200}return i}_calculateBaseUnit(i,e){let n=Math.floor(i/e);if(n<1){const o=Math.ceil(1*e);this.onError(new Error(`Insufficient size for QR Code: the current size is ${i}px and the minimum size is ${o}px.`))}else n*e>=i&&n-1>=1&&n--;return n}_renderMatrix(i,e,n){let o=new ed({fill:{color:this.options.color},stroke:null});for(let r=0;r<i.length;r++){let a=n+r*e,l=0;for(;l<i.length;){for(;0===i[r][l]&&l<i.length;)l++;if(l<i.length){let c=l;for(;1===i[r][l];)l++;let u=c4(n+c*e),f=c4(a),_=c4(n+l*e),g=c4(a+e);o.moveTo(u,f).lineTo(u,g).lineTo(_,g).lineTo(_,f).close()}}}return o}_renderBackground(i,e){const n=new ze(0,0,i,i).unpad(e.width/2);return ct.fromRect(n.toRect(),{fill:{color:this.options.background},stroke:{color:e.color,width:e.width}})}setOptions(i){this.options=uO(this.options,i||{}),void 0!==i.value&&(this._value=String(this.options.value)),this._initSurface(),this.redraw()}value(i){if(void 0===i)return this._value;this._value=String(i),this.redraw()}_hasCustomLogo(){return!!this.options.overlay.imageUrl}_isSwiss(){return"swiss"===this.options.overlay.type}_getLogoSize(i){let e=this.options.overlay.width,n=this.options.overlay.height;return e||n?e&&!n?n=e:!e&&n&&(e=n):e=n=i,{width:e,height:n}}}we(Y4e,{name:"QRCode",renderAs:"svg",encoding:"ISO_8859_1",value:"",errorCorrection:"L",background:"#fff",color:"#000",size:"",padding:0,border:{color:"",width:0},overlay:{type:"image",imageUrl:"",width:0,height:0}});const aFt=Y4e,Sre={WGS84:{a:6378137,b:6356752.314245179,f:.0033528106647474805,e:.08181919084262149}};function wm(s){return s*s}let IS=Math,cFt=IS.abs,K4e=IS.atan,I9=IS.atan2,xS=IS.cos,Hg=IS.sin,J4e=IS.tan;class Ns extends ft{constructor(i,e){super(),this.initProperties(),1===arguments.length?(this.lat=i[0],this.lng=i[1]):(this.lat=i,this.lng=e)}initProperties(){K(this,{DISTANCE_ITERATIONS:100,DISTANCE_CONVERGENCE:1e-12,DISTANCE_PRECISION:2,FORMAT:"{0:N6}{1:N6}"})}toArray(){return[this.lat,this.lng]}equals(i){return i&&i.lat===this.lat&&i.lng===this.lng}clone(){return new Ns(this.lat,this.lng)}round(i){return this.lng=qe(this.lng,i),this.lat=qe(this.lat,i),this}wrap(){return this.lng=this.lng%180,this.lat=this.lat%90,this}distanceTo(i,e){return this.greatCircleTo(i,e).distance}destination(i,e,n){let o=yr(e),r=n||Sre.WGS84,a=yr(this.lat),l=yr(this.lng),c=i/r.a,u=IS.asin(Hg(a)*xS(c)+xS(a)*Hg(c)*xS(o)),f=l+I9(Hg(o)*Hg(c)*xS(a),xS(c)-Hg(a)*Hg(u));return new Ns(_S(u),_S(f))}greatCircleTo(i,e){let n=Ns.create(n),o=e||Sre.WGS84;if(!n||this.clone().round(8).equals(n.clone().round(8)))return{distance:0,azimuthFrom:0,azimuthTo:0};let D,N,P,G,H,$,Q,ie,r=o.a,a=o.b,l=o.f,c=yr(n.lng-this.lng),u=K4e((1-l)*J4e(yr(this.lat))),f=Hg(u),_=xS(u),g=K4e((1-l)*J4e(yr(n.lat))),S=Hg(g),b=xS(g),k=c,O=this.DISTANCE_ITERATIONS,I=!1;for(;!I&&O-- >0;){N=Hg(k),P=xS(k),G=IS.sqrt(wm(b*N)+wm(_*S-f*b*P)),$=f*S+_*b*P,ie=I9(G,$);let te=_*b*N/G;H=1-wm(te),Q=0,0!==H&&(Q=$-2*f*S/H),D=k;let le=l/16*H*(4+l*(4-3*H));k=c+(1-le)*l*te*(ie+le*G*(Q+le*$*(2*wm(Q)-1))),I=cFt(k-D)<=this.DISTANCE_CONVERGENCE}let ce=H*(wm(r)-wm(a))/wm(a),re=1+ce/16384*(4096+ce*(ce*(320-175*ce)-768)),Ne=ce/1024*(256+ce*(ce*(74-47*ce)-128)),ue=Ne*G*(Q+Ne/4*($*(2*wm(Q)-1)-Ne/6*Q*(4*wm(G)-3)*(4*wm(Q)-3))),ye=I9(b*N,_*S-f*b*P),se=I9(_*N,-f*b+_*S*P);return{distance:qe(a*re*(ie-ue),this.DISTANCE_PRECISION),azimuthFrom:_S(ye),azimuthTo:_S(se)}}toString(){return String(this.lat)+","+String(this.lng)}static fromLngLat(i){return new Ns(i[1],i[0])}static fromLatLng(i){return new Ns(i[0],i[1])}static create(i,e){if(ge(i))return i instanceof Ns?i.clone():1===arguments.length&&2===i.length?Ns.fromLatLng(i):new Ns(i,e)}}let AS=Math,Cre=AS.atan,q4e=AS.exp,Q4e=AS.pow,Z4e=AS.sin,e6e=AS.log,t6e=AS.tan,n6e=Ie,x9=AS.PI,bre=x9/2,i6e=x9/4,dFt=x9/180,uFt=Sre.WGS84;class Ere extends ft{constructor(i){super(),this.initProperties(),this._initOptions(i)}_initOptions(i){this.options=K({},this.options,i)}initProperties(){K(this,{MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12})}forward(i,e){let n=this,o=n.options,a=o.datum.a,l=o.centralMeridian,c=Vt(i.lat,-n.MAX_LAT,n.MAX_LAT),u=e?Vt(i.lng,-n.MAX_LNG,n.MAX_LNG):i.lng,f=yr(u-l)*a,_=n._projectLat(c);return new n6e(f,_)}_projectLat(i){let e=this.options.datum,n=e.e,o=e.a,r=yr(i),a=t6e(i6e+r/2),l=n*Z4e(r),c=Q4e((1-l)/(1+l),n/2);return o*e6e(a*c)}inverse(i,e){let n=this,o=n.options,c=i.x/(dFt*o.datum.a)+o.centralMeridian,u=Vt(n._inverseY(i.y),-n.MAX_LAT,n.MAX_LAT);return e&&(c=Vt(c,-n.MAX_LNG,n.MAX_LNG)),new Ns(u,c)}_inverseY(i){let u,e=this,n=e.options.datum,r=n.e,a=r/2,l=q4e(-i/n.a),c=bre-2*Cre(l);for(u=0;u<=e.INVERSE_ITERATIONS;u++){let f=r*Z4e(c),_=Q4e((1-f)/(1+f),a),g=bre-2*Cre(l*_)-c;if(c+=g,AS.abs(g)<=e.INVERSE_CONVERGENCE)break}return _S(c)}}we(Ere,{centralMeridian:0,datum:uFt});class hFt extends Ere{initProperties(){super.initProperties(),K(this,{MAX_LAT:85.0511287798})}_projectLat(i){let e=this.options.datum.a,n=yr(i),o=t6e(i6e+n/2);return e*e6e(o)}_inverseY(i){let n=q4e(-i/this.options.datum.a);return _S(bre-2*Cre(n))}}class fFt extends ft{constructor(){super();let e=this._proj=new hFt,n=this.c=2*x9*e.options.datum.a;this._tm=Ui().translate(.5,.5).scale(1/n,-1/n),this._itm=Ui().scale(n,-n).translate(-.5,-.5)}toPoint(i,e,n){return this._proj.forward(i,n).transform(this._tm).scale(e||1)}toLocation(i,e,n){let o=i.clone().scale(1/(e||1)).transform(this._itm);return this._proj.inverse(o,n)}}const s6e=Object.defineProperty;let zb=s=>{const i=document.createElement("div");return i.innerHTML=s,i.firstChild},d4=s=>{for(;s.firstChild;)s.removeChild(s.firstChild)},o6e=(s,i)=>{i.insertBefore(s,i.firstChild)},r6e=s=>s.replace(/([a-z][A-Z])/g,function(e){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()}),a6e=s=>{let i;return i=s&&String(s).endsWith("px")?s:String(s)+"px",i};const l6e=s=>{let e,i=!1,n=[],o={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.?(\d+(\.\d+)?)?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},r={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},a={tablet:/playbook|ipad|fire/i},l={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(let c in o)if(PD(o,c)&&(n=s.match(o[c]),n)){if("windows"===c&&"plugins"in navigator)return!1;i={},i.device=c,i.tablet=yre(c,a,!1),i.browser=yre(s,l,"default"),i.name=yre(c,r),i[i.name]=!0,i.majorVersion=n[2],i.minorVersion=(n[3]||"0").replace("_","."),e=i.minorVersion.replace(".","").substr(0,2),i.flatVersion=i.majorVersion+e+new Array(3-(e.length<3?e.length:2)).join("0");break}return i};function yre(s,i,e){for(let n in i)if(PD(i,n)&&i[n].test(s))return n;return void 0!==e?e:s}let kre=()=>{let s={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};const i=jb();return i.touch&&(i.mobileOS.ios||i.mobileOS.android)?s={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:i.pointers?s={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:i.msPointers&&(s={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),s};const jb=()=>{const s=l6e(navigator.userAgent),i=(s=>{let i=!1,e=[],n={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(let o in n)if(PD(n,o)&&(e=s.match(n[o]),e)){i={},i[o]=!0,i[e[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,i.version=parseInt(document.documentMode||e[2],10);break}return i})(navigator.userAgent);let e=i.chrome,n=i.crios,o=i.mozilla,r=i.safari;const a={};a.mobileOS=s,a.touch="ontouchstart"in window,a.pointers=!e&&!n&&!o&&!r&&window.PointerEvent,a.msPointers=!e&&window.MSPointerEvent,a.mouseAndTouchPresent=a.touch&&!(a.mobileOS.ios||a.mobileOS.android),a.eventCapture=document.documentElement.addEventListener;let l=document.createElement("table"),c=a.transitions=!1,u=a.transforms=!1;const f="string";return["Moz","webkit","O","ms"].forEach(function(_){let g=typeof l.style[_+"Transition"]===f;if(g||typeof l.style[_+"Transform"]===f){let S=_.toLowerCase();return u={css:"ms"!==S?"-"+S+"-":"",prefix:_,event:"o"===S||"webkit"===S?S:""},g&&(c=u,c.event=c.event?c.event+"TransitionEnd":"transitionend"),!1}}),l=null,a.transforms=u,a.transitions=c,a.delayedClick=function(){if(a.touch){if(a.mobileOS.ios)return!0;if(a.mobileOS.android){if(!a.browser.chrome)return!0;if(a.browser.version<32)return!1;const _=document.querySelector("meta[name=viewport]");return!(_?_.getAttribute("content"):"").match(/user-scalable=no/i)}}return!1},a},Ls=(s,i)=>s.bind(i),fc=(s,i,e,n,o)=>{EFt(s,i,e,n,o)},EFt=(s,i,e,n,o)=>{(Ia(i)?i:(i||"").split(" ")).forEach(function(a){yFt(s,a,e,n,o)})},yFt=(s,i,e,n,o)=>{let a,r=n;e&&Js(e)&&!n?r=e:e&&function bFt(s){return"string"==typeof s}(e)&&Js(r)&&(a=e),s.addEventListener(i,function(l){const c=l.target?l.target.closest(a):null;(!a||a&&l.target&&c)&&(s6e(l,"currentTarget",{value:a?c:l.currentTarget}),s6e(l,"delegateTarget",{value:s}),r(l))},!!o)},ud=(s,i,e,n,o)=>{kFt(s,i,e,n,o)},kFt=(s,i,e,n)=>{(Ia(i)?i:(i||"").split(" ")).forEach(function(r){wFt(s,r,e,n)})},wFt=(s,i,e,n)=>{s.removeEventListener(i,e,!!n)},_h=s=>{const i=kre(navigator);return s.replace(/([^ ]+)/g,function e(r){return i[r]||r})},A9=(s,i)=>{const e=s.prototype;e.events?i.forEach(n=>{e.events.indexOf(n)<0&&e.events.push(n)}):e.events=i},$g=()=>Number(new Date),c6e=()=>{},d6e=s=>{let i=[];if(s){let e=r6e(s).split("-");for(let n=0;n<e.length;n++)i.push("k-pos-"+e[n])}return i.join(" ")};let OFt=function(){this._defaultPrevented=!0},TFt=function(){return!0===this._defaultPrevented};class gh extends ft{constructor(){super(),this._events={}}destroy(){this.unbind()}bind(i,e,n){let r,l,c,u,_,o=this,a="string"==typeof i?[i]:i||[],f="function"==typeof e;if(void 0===e){for(r in i)o.bind(r,i[r]);return o}for(r=0,l=a.length;r<l;r++){let g=a[r];u=f?e:e[g],u&&(n&&(c=u,u=function(){o.unbind(g,u),c.apply(o,arguments)},u.original=c),_=o._events[g]=o._events[g]||[],_.push(u))}return o}one(i,e){return this.bind(i,e,!0)}first(i,e){let o,a,l,u,n=this,r="string"==typeof i?[i]:i,c="function"==typeof e;for(o=0,a=r.length;o<a;o++){let f=r[o];l=c?e:e[f],l&&(u=n._events[f]=n._events[f]||[],u.unshift(l))}return n}trigger(i,e){let r,a,n=this,o=n._events[i];if(o){let l=e||{};for(l.sender=n,l._defaultPrevented=!1,l.preventDefault=OFt,l.isDefaultPrevented=TFt,o=o.slice(),r=0,a=o.length;r<a;r++)o[r].call(n,l);return!0===l._defaultPrevented}return!1}unbind(i,e){let r,n=this,o=n._events[i];if(void 0===i)n._events={};else if(o)if(e)for(r=o.length-1;r>=0;r--)(o[r]===e||o[r].original===e)&&o.splice(r,1);else n._events[i]=[];return n}_setEvents(i){const e=(this.events||[]).length;for(let n=0;n<e;n++){let o=this.events[n];this.options[o]&&i[o]&&(this.unbind(o,this.options[o]),this._events&&this._events[o]&&delete this._events[o])}this.bind(this.events,i)}}class p6e extends gh{constructor(i,e){super(),this.element=i,this._initOptions(e),this.items=[],Qo(this.element,"k-widget k-attribution")}_initOptions(i){this.options=K({},this.options,i)}filter(i,e){this._extent=i,this._zoom=e,this._render()}add(i){let e=i;ge(i)&&("string"==typeof i&&(e={text:i}),this.items.push(e),this._render())}remove(i){let e=[];for(let n=0;n<this.items.length;n++){let o=this.items[n];o.text!==i&&e.push(o)}this.items=e,this._render()}clear(){this.items=[],d4(this.element)}_render(){let i=[];for(let e=0;e<this.items.length;e++){let o=this._itemText(this.items[e]);""!==o&&i.push(o)}i.length>0?(d4(this.element),((s,i)=>{const e=document.createElement("div");for(e.innerHTML=s;e.childNodes.length>0;)i.appendChild(e.childNodes[0])})(i.join(this.options.separator),this.element),this.showElement()):this.hideElement()}hideElement(){this.element.style.display="none"}showElement(){this.element.style.display=""}_itemText(i){let e="",n=this._inZoomLevel(i.minZoom,i.maxZoom),o=this._inArea(i.extent);return n&&o&&(e+=i.text),e}_inZoomLevel(i,e){let n=!0,o=ln(i,-Number.MAX_VALUE),r=ln(e,Number.MAX_VALUE);return n=this._zoom>o&&this._zoom<r,n}_inArea(i){let e=!0;return i&&(e=i.contains(this._extent)),e}}we(p6e,{name:"Attribution",separator:"&nbsp;|&nbsp;"});const MFt={up:{className:"k-navigator-n",iconClass:"k-i-caret-alt-up"},down:{className:"k-navigator-s",iconClass:"k-i-caret-alt-down"},right:{className:"k-navigator-e",iconClass:"k-i-caret-alt-right"},left:{className:"k-navigator-w",iconClass:"k-i-caret-alt-left"}};function R9(s,i){const e='<button class="k-button k-button-square k-rounded-full k-button-flat k-button-flat-base k-icon-button '+MFt[s].className+'" aria-label="move '+s+'">'+LD({icon:`caret-alt-${s}`,iconClass:"k-button-icon",svgIcons:i.svgIcons,type:i.type})+"</button>";return zb(e)}class wre extends gh{constructor(i,e){super(),this.element=i,this._initOptions(e);const n=R9("up",e.icons),o=R9("right",e.icons),r=R9("down",e.icons),a=R9("left",e.icons);this.element.appendChild(n),this.element.appendChild(o),this.element.appendChild(r),this.element.appendChild(a),Qo(this.element,"k-widget k-navigator"),fc(this.element,"click",".k-button",Ls(this._click,this));let l=this.element.parentNode.closest("[data-role]");this._keyroot=l||this.element,this._tabindex(this._keyroot),this._keydownHandler=Ls(this._keydown,this),fc(this._keyroot,"keydown",this._keydownHandler)}destroy(){this.dispose()}dispose(){ud(this._keyroot,"keydown",this._keydownHandler)}_tabindex(i){const e=i||this.wrapper||this.element;let n=this.element,o="tabindex",r=e.getAttribute(o)||n.getAttribute(o);n.removeAttribute(o),e.setAttribute(o,isNaN(r)?0:r)}_initOptions(i){this.options=K({},this.options,i)}_pan(i,e){let n=this.options.panStep;this.trigger("pan",{x:i*n,y:e*n})}_click(i){let e=0,n=0,o=i.currentTarget;o.matches(".k-navigator-n")?n=1:o.matches(".k-navigator-s")?n=-1:o.matches(".k-navigator-e")?e=1:o.matches(".k-navigator-w")&&(e=-1),this._pan(e,n),i.preventDefault()}_keydown(i){switch(i.which){case 38:this._pan(0,1),i.preventDefault();break;case 40:this._pan(0,-1),i.preventDefault();break;case 39:this._pan(1,0),i.preventDefault();break;case 37:this._pan(-1,0),i.preventDefault()}}}function m6e(s,i,e){const n='<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-zoom-'+s+'" title="zoom-'+s+'" aria-label="zoom-'+s+'">'+LD({icon:i,iconClass:"k-button-icon",svgIcons:e.svgIcons,type:e.type})+"</button>";return zb(n)}we(wre,{name:"Navigator",panStep:1}),A9(wre,["pan"]);class Dre extends gh{constructor(i,e,n){super(),this.element=i,this._initOptions(e);const o=m6e("in","plus",n),r=m6e("out","minus",n);this.element.appendChild(o),this.element.appendChild(r),this.element.setAttribute("role","group"),Qo(this.element,"k-widget k-zoom-control k-button-group k-group-horizontal"),this._clickHandler=this._click.bind(this),fc(this.element,"click",".k-button",this._clickHandler);let a=this.element.parentNode.closest("[data-role]");this._keyroot=a||this.element,this._tabindex(this._keyroot),this._keydownHandler=this._keydown.bind(this),fc(this._keyroot,"keydown",this._keydownHandler)}destroy(){this.element&&ud(this.element,"click",this._clickHandler),this._keyroot&&ud(this._keyroot,"keydown",this._keydownHandler)}_tabindex(i){const e=i||this.wrapper||this.element;let n=this.element,o="tabindex",r=e.getAttribute(o)||n.getAttribute(o);n.removeAttribute(o),e.setAttribute(o,isNaN(r)?0:r)}_initOptions(i){this.options=K({},this.options,i)}_change(i){this.trigger("change",{delta:i*this.options.zoomStep})}_click(i){let n=1;vV(i.currentTarget,"k-zoom-out")&&(n=-1),this._change(n),i.preventDefault()}_keydown(i){switch(i.which){case 107:case 187:case 61:this._change(1);break;case 109:case 189:case 173:this._change(-1)}}}we(Dre,{name:"ZoomControl",zoomStep:1}),A9(Dre,["change"]);let g6e=Math,v6e=g6e.max,S6e=g6e.min;class Xg extends ft{constructor(i,e){super();let n=Ns.create(i),o=Ns.create(e);n.lng+180>o.lng+180&&n.lat+90<o.lat+90?(this.se=n,this.nw=o):(this.se=o,this.nw=n)}contains(i){let e=this.nw,n=this.se,o=ln(i.lng,i[1]),r=ln(i.lat,i[0]);return i&&o+180>=e.lng+180&&o+180<=n.lng+180&&r+90>=n.lat+90&&r+90<=e.lat+90}center(){let i=this.nw,e=this.se;return new Ns(i.lat+(e.lat-i.lat)/2,i.lng+(e.lng-i.lng)/2)}containsAny(i){let e=!1;for(let n=0;n<i.length;n++)e=e||this.contains(i[n]);return e}include(i){let e=this.nw,n=this.se,o=ln(i.lng,i[1]),r=ln(i.lat,i[0]);e.lng=S6e(e.lng,o),e.lat=v6e(e.lat,r),n.lng=v6e(n.lng,o),n.lat=S6e(n.lat,r)}includeAll(i){for(let e=0;e<i.length;e++)this.include(i[e])}edges(){let i=this.nw,e=this.se;return{nw:this.nw,ne:new Ns(i.lat,e.lng),se:this.se,sw:new Ns(e.lat,i.lng)}}toArray(){let i=this.nw,e=this.se;return[i,new Ns(i.lat,e.lng),e,new Ns(e.lat,i.lng)]}overlaps(i){return this.containsAny(i.toArray())||i.containsAny(this.toArray())}static create(i,e){return i instanceof Xg?i:i&&e?new Xg(i,e):i&&4===i.length&&!e?new Xg([i[0],i[1]],[i[2],i[3]]):void 0}static get World(){return new Xg([90,-180],[-90,180])}}const C6e="centerChange";class b6e extends ft{constructor(i,e){super(),this.widgetService=i,this.options=K({},this.options,e),this.offset={x:0,y:0}}show(i,e){this.location!==e.location&&(this.anchor=i,this.location=e.location,this.widgetService.notify("showTooltip",Object.assign({anchor:this.anchor},e)),this.visible=!0)}hide(){this.widgetService&&this.widgetService.notify("hideTooltip"),this.visible=!1,this.location=null}get anchor(){return this._anchor}set anchor(i){const e=this.widgetService.widget._toDocumentCoordinates({x:i.left-this.offset.x,y:i.top-this.offset.y});this._anchor={left:e.left,top:e.top}}destroy(){this.widgetService=null}}we(b6e,{border:{width:1},opacity:1});class Ore extends ft{constructor(i,e){super(),this.support=jb(),this._initOptions(e),this.map=i;let n=document.createElement("div");Qo(n,"k-layer"),n.style.zIndex=this.options.zIndex,n.style.opacity=this.options.opacity,this.element=n,i.scrollElement.appendChild(this.element),this._beforeReset=this._beforeReset.bind(this),this._reset=this._reset.bind(this),this._resize=this._resize.bind(this),this._panEnd=this._panEnd.bind(this),this._activate(),this._updateAttribution()}destroy(){this._deactivate()}_initOptions(i){this.options=K({},this.options,i)}show(){this.reset(),this._activate(),this._applyExtent(!0)}hide(){this._deactivate(),this._setVisibility(!1)}reset(){this._beforeReset(),this._reset()}_reset(){this._applyExtent()}_beforeReset(){}_resize(){}_panEnd(){this._applyExtent()}_applyExtent(){let i=this.options,e=this.map.zoom(),n=!ge(i.minZoom)||e>=i.minZoom,o=!ge(i.maxZoom)||e<=i.maxZoom,r=Xg.create(i.extent),a=!r||r.overlaps(this.map.extent());this._setVisibility(n&&o&&a)}_setVisibility(i){this.element.style.display=i?"":"none"}_activate(){let i=this.map;this._deactivate(),i.bind("beforeReset",this._beforeReset),i.bind("reset",this._reset),i.bind("resize",this._resize),i.bind("panEnd",this._panEnd)}_deactivate(){let i=this.map;i.unbind("beforeReset",this._beforeReset),i.unbind("reset",this._reset),i.unbind("resize",this._resize),i.unbind("panEnd",this._panEnd)}_updateAttribution(){const i=this.map.attribution;i&&i.add(this.options.attribution)}_readData(){return this.options.data||[]}_hasData(){return this._data&&this._data.length>0}_layerIndex(){return(this.map.layers||[]).indexOf(this)}}let RS=Math,Tre=Ie;function E6e(s){return Js(s)?s:gV.compile(s)}function FFt(s){return new Tre(qe(s.x),qe(s.y))}function y6e(s){let i=s;return"string"!=typeof s&&(i+="px"),i}class k6e extends Ore{constructor(i,e){super(i,e),"string"==typeof this.options.subdomains&&(this.options.subdomains=this.options.subdomains.split(""));let n=this._viewType();this._view=new n(this.element,this.options)}destroy(){super.destroy(),this._view.destroy(),this._view=null}_beforeReset(){let i=this.map,e=i.locationToLayer(i.extent().nw).round();this._view.viewOrigin(e)}_reset(){super._reset(),this._updateView(),this._view.reset()}_viewType(){return UFt}_activate(){super._activate(),this.support.mobileOS||(this._pan||(this._pan=f9(this._render.bind(this),100)),this.map.bind("pan",this._pan))}_deactivate(){super._deactivate(),this._pan&&this.map.unbind("pan",this._pan)}_updateView(){let i=this._view,e=this.map,n=e.extent(),o={nw:e.locationToLayer(n.nw).round(),se:e.locationToLayer(n.se).round()};i.center(e.locationToLayer(e.center())),i.extent(o),i.zoom(e.zoom())}_resize(){this._render()}_panEnd(i){super._panEnd(i),this._render()}_render(){this._updateView(),this._view.render()}}we(k6e,{tileSize:256,subdomains:["a","b","c"],urlTemplate:"",zIndex:1});class UFt extends ft{constructor(i,e){super(),this.element=i,this._initOptions(e),this.pool=new D6e}_initOptions(i){this.options=K({},this.options,i)}center(i){this._center=i}extent(i){this._extent=i}viewOrigin(i){this._viewOrigin=i}zoom(i){this._zoom=i}pointToTileIndex(i){return new Tre(RS.floor(i.x/this.options.tileSize),RS.floor(i.y/this.options.tileSize))}tileCount(){let i=this.size(),e=this.pointToTileIndex(this._extent.nw),n=this._extent.nw,o=this.indexToPoint(e).translate(-n.x,-n.y);return{x:RS.ceil((RS.abs(o.x)+i.width)/this.options.tileSize),y:RS.ceil((RS.abs(o.y)+i.height)/this.options.tileSize)}}size(){let i=this._extent.nw,n=this._extent.se.clone().translate(-i.x,-i.y);return{width:n.x,height:n.y}}indexToPoint(i){return new Tre(i.x*this.options.tileSize,i.y*this.options.tileSize)}subdomainText(){let i=this.options.subdomains;return i[this.subdomainIndex++%i.length]}destroy(){d4(this.element),this.pool.empty()}reset(){this.pool.reset(),this.subdomainIndex=0,this.render()}render(){let n,o,r,i=this.tileCount(),e=this.pointToTileIndex(this._extent.nw);for(o=0;o<i.x;o++)for(r=0;r<i.y;r++)n=this.createTile({x:e.x+o,y:e.y+r}),n.visible||n.show()}createTile(i){let e=this.tileOptions(i),n=this.pool.get(this._center,e);return n.element.parentNode||this.element.append(n.element),n}tileOptions(i){let e=this.wrapIndex(i),n=this.indexToPoint(i),o=this._viewOrigin,r=n.clone().translate(-o.x,-o.y);return{index:e,currentIndex:i,point:n,offset:FFt(r),zoom:this._zoom,size:this.options.tileSize,subdomain:this.subdomainText(),urlTemplate:this.options.urlTemplate,errorUrlTemplate:this.options.errorUrlTemplate}}wrapIndex(i){let e=RS.pow(2,this._zoom);return{x:this.wrapValue(i.x,e),y:Vt(i.y,0,e-1)}}wrapValue(i,e){let n=RS.abs(i)%e,o=i;return o=i>=0?n:e-(0===n?e:n),o}}class w6e extends ft{constructor(i,e){super(),this.id=i,this.visible=!0,this._initOptions(e),this.createElement(),this.show()}destroy(){const i=this.element,e=i?i.parentNode:null;i&&(e&&e.removeChild(i),this.element=null)}_initOptions(i){this.options=K({},this.options,i)}createElement(){let i=document.createElement("img");const e=this.options.size+"px";i.setAttribute("alt",""),i.style.position="absolute",i.style.display="block",i.style.width=i.style.maxWidth=e,i.style.height=i.style.maxHeight=e,this.element=i}show(){let i=this.element;i.style.top=y6e(this.options.offset.y),i.style.left=y6e(this.options.offset.x);let e=this.url();e&&i.setAttribute("src",e),i.style.visibility="visible",this.visible=!0}hide(){this.element.style.visibility="hidden",this.visible=!1}url(){return E6e(this.options.urlTemplate)(this.urlOptions())}errorUrl(){return E6e(this.options.errorUrlTemplate)(this.urlOptions())}urlOptions(){let i=this.options;return{zoom:i.zoom,subdomain:i.subdomain,z:i.zoom,x:i.index.x,y:i.index.y,s:i.subdomain,quadkey:i.quadkey,q:i.quadkey,culture:i.culture,c:i.culture}}}we(w6e,{urlTemplate:"",errorUrlTemplate:""});class D6e extends ft{constructor(){super(),this._items=[]}get(i,e){return this._items.length>=this.options.maxSize&&this._remove(i),this._create(e)}empty(){let i=this._items;for(let e=0;e<i.length;e++)i[e].destroy();this._items=[]}reset(){let i=this._items;for(let e=0;e<i.length;e++)i[e].hide()}_create(i){let n,e=this._items,o=qxt(i.point.toString()+i.offset.toString()+i.zoom+i.urlTemplate);for(let r=0;r<e.length;r++)if(e[r].id===o){n=e[r];break}return n?n.show():(n=new w6e(o,i),this._items.push(n)),n}_remove(i){let e=this._items,n=-1,o=-1;for(let r=0;r<e.length;r++){let a=e[r].options.point.distanceTo(i);a>n&&!e[r].visible&&(o=r,n=a)}-1!==o&&(e[o].destroy(),e.splice(o,1))}}we(D6e,{maxSize:100});const Hb=Object.assign,u4="change";class BFt extends gh{constructor(i,e){super();let n=this,o=i[0]||i;n.capture=!1;const r=kre(navigator);o.addEventListener?(r.down.split(" ").forEach(function(a){o.addEventListener(a,Ls(n._press,n),!0)}),r.up.split(" ").forEach(function(a){o.addEventListener(a,Ls(n._release,n),!0)})):(r.down.split(" ").forEach(function(a){o.attachEvent(a,Ls(n._press,n))}),r.up.split(" ").forEach(function(a){o.attachEvent(a,Ls(n._release,n))})),n.bind(["press","release"],e||{})}captureNext(){this.capture=!0}cancelCapture(){this.capture=!1}_press(i){this.trigger("press"),this.capture&&i.preventDefault()}_release(i){let e=this;e.trigger("release"),e.capture&&(i.preventDefault(),e.cancelCapture())}}class O6e extends gh{constructor(i){super();let e=this;e.forcedEnabled=!1,Hb(e,i),e.scale=1,e.horizontal?(e.measure="offsetWidth",e.scrollSize="scrollWidth",e.axis="x"):(e.measure="offsetHeight",e.scrollSize="scrollHeight",e.axis="y")}makeVirtual(){Hb(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})}virtualSize(i,e){(this._virtualMin!==i||this._virtualMax!==e)&&(this._virtualMin=i,this._virtualMax=e,this.update())}outOfBounds(i){return i>this.max||i<this.min}forceEnabled(){this.forcedEnabled=!0}getSize(){return this.container[this.measure]}getTotal(){return this.element[this.scrollSize]}rescale(i){this.scale=i}update(i){let e=this,n=e.virtual?e._virtualMax:e.getTotal(),o=n*e.scale,r=e.getSize();0===n&&!e.forcedEnabled||(e.max=e.virtual?-e._virtualMin:0,e.size=r,e.total=o,e.min=Math.min(e.max,r-o),e.minScale=r/n,e.centerOffset=(o-r)/2,e.enabled=e.forcedEnabled||o>r,i||e.trigger(u4,e))}}class VFt extends gh{constructor(i){super();let e=this;e.x=new O6e(Hb({horizontal:!0},i)),e.y=new O6e(Hb({horizontal:!1},i)),e.container=i.container,e.forcedMinScale=i.minScale,e.maxScale=i.maxScale||100,e.bind(u4,i)}rescale(i){this.x.rescale(i),this.y.rescale(i),this.refresh()}centerCoordinates(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}}refresh(){let i=this;i.x.update(),i.y.update(),i.enabled=i.x.enabled||i.y.enabled,i.minScale=i.forcedMinScale||Math.min(i.x.minScale,i.y.minScale),i.fitScale=Math.max(i.x.minScale,i.y.minScale),i.trigger(u4)}}class T6e extends gh{constructor(i){super(),Hb(this,i)}outOfBounds(){return this.dimension.outOfBounds(this.movable[this.axis])}dragMove(i){let e=this,n=e.dimension,o=e.axis,r=e.movable,a=r[o]+i;if(!n.enabled)return;let l=i;(a<n.min&&i<0||a>n.max&&i>0)&&(l*=e.resistance),r.translateAxis(o,l),e.trigger(u4,e)}}class zFt extends ft{constructor(i){super();let n,o,r,a,e=this;Hb(e,{elastic:!0},i),r=e.elastic?.5:0,a=e.movable,e.x=n=new T6e({axis:"x",dimension:e.dimensions.x,resistance:r,movable:a}),e.y=o=new T6e({axis:"y",dimension:e.dimensions.y,resistance:r,movable:a}),e.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart(l){e.gesture=l,e.offset=ND(e.dimensions.container)},press(l){const c=l.event.target.closest("a");c&&c.matches("[data-navigate-on-press=true]")&&l.sender.cancel()},gesturechange(l){let b,c=e.gesture,u=c.center,f=l.center,_=l.distance/c.distance,S=e.dimensions.maxScale;a.scale<=e.dimensions.minScale&&_<1&&(_+=.8*(1-_)),a.scale*_>=S&&(_=S/a.scale);let k=a.x+e.offset.left,D=a.y+e.offset.top;b={x:(k-u.x)*_+f.x-k,y:(D-u.y)*_+f.y-D},a.scaleWith(_),n.dragMove(b.x),o.dragMove(b.y),e.dimensions.rescale(a.scale),e.gesture=l,l.preventDefault()},move(l){l.event.target.tagName.match(/textarea|input/i)||(n.dimension.enabled||o.dimension.enabled?(n.dragMove(l.x.delta),o.dragMove(l.y.delta),l.preventDefault()):l.touch.skip())},end(l){l.preventDefault()}})}}let M6e=function(s,i,e){return"translate3d("+s+"px,"+i+"px,0) scale("+e+")"};class Mre extends gh{constructor(i){super();let e=this;e.support=jb(),this.transformStyle=this.support.transitions.prefix+"Transform",e.element=i,e.element.style.webkitTransformOrigin="left top",e.x=0,e.y=0,e.scale=1;const n=M6e(e.x,e.y,e.scale);e.element.style[this.transformStyle]=n,e._saveCoordinates(n)}translateAxis(i,e){this[i]+=e,this.refresh()}scaleTo(i){this.scale=i,this.refresh()}scaleWith(i){this.scale*=i,this.refresh()}translate(i){this.x+=i.x,this.y+=i.y,this.refresh()}moveAxis(i,e){this[i]=e,this.refresh()}moveTo(i){Hb(this,i),this.refresh()}refresh(){let o,i=this,e=i.x,n=i.y;i.round&&(e=Math.round(e),n=Math.round(n)),o=M6e(e,n,i.scale),o!==i.coordinates&&(i.element.style[this.transformStyle]=o,i._saveCoordinates(o),i.trigger(u4))}_saveCoordinates(i){this.coordinates=i}}const Ire=Vn;class xre extends Ore{constructor(i,e){super(i,e),this._pan=Ls(this._pan,this),this.surface=aO.create(this.element,{width:i.scrollElement.clientWidth,height:i.scrollElement.clientHeight}),this._initRoot(),this.movable=new Mre(this.surface.element),this._markers=[],this._click=this._handler("shapeClick"),this.surface.bind("click",this._click),this._mouseleave=this._handler("shapeMouseLeave"),this.surface.bind("mouseleave",this._mouseleave),this.surface.bind("mouseenter",this._mouseenter.bind(this))}destroy(){super.destroy(),this.surface.destroy()}_reset(){super._reset(),this._translateSurface(),this._data=this._readData(),this._hasData()&&this._load(this._data)}_initRoot(){this._root=new Ire,this.surface.draw(this._root)}_beforeReset(){this.surface.clear(),this._initRoot()}_resize(){this.surface.size(this.map.size())}_readData(){const i=super._readData();return"FeatureCollection"===i.type?i.features:"GeometryCollection"===i.type?i.geometries:i}_load(i){this._data=i,this._clearMarkers(),this._loader||(this._loader=new jFt(this.map,this.options.style,this));let e=new Ire;for(let n=0;n<i.length;n++){let o=this._loader.parse(i[n]);o&&e.append(o)}this._root.clear(),this._root.append(e)}shapeCreated(i){let e=!1;return i instanceof Xd&&this.map.options.renderPointsAsMarkers&&(e=ge(this._createMarker(i))),e||(e=this.map.trigger("shapeCreated",{layer:this,shape:i})),e}featureCreated(i){i.layer=this,this.map.trigger("shapeFeatureCreated",i)}_createMarker(i){let e=this.map.markers.bind({location:i.location},i.dataItem);return e&&this._markers.push(e),e}_clearMarkers(){for(let i=0;i<this._markers.length;i++)this.map.markers.remove(this._markers[i]);this._markers=[]}_pan(){this._panning||(this._panning=!0,this.surface.suspendTracking())}_panEnd(i){super._panEnd(i),this._translateSurface(),this.surface.resumeTracking(),this._panning=!1}_translateSurface(){let i=this.map,e=i.locationToView(i.extent().nw);this.surface.translate&&(this.surface.translate(e),this.movable.moveTo({x:e.x,y:e.y}))}_eventArgs(i){return{layer:this,layerIndex:this._layerIndex(),shape:i.element,shapeIndex:(this._data||[]).indexOf(i.element.dataItem),originalEvent:i.originalEvent}}_handler(i){return e=>{e.element&&this.map.trigger(i,this._eventArgs(e))}}_mouseenter(i){if(!i.element)return;this.map.trigger("shapeMouseEnter",this._eventArgs(i));const e=i.element,n=this._tooltipAnchor(i);this.map._tooltip.show(n,this._tooltipContext(e))}_tooltipContext(i){return{type:"shape",layerIndex:this._layerIndex(),className:"k-map-shape-tooltip",dataItem:i.dataItem,location:i.location}}_tooltipAnchor(i){const e=this.map.eventOffset(i.originalEvent);return{top:e.y,left:e.x}}_activate(){super._activate(),this._panHandler=Ls(this._pan,this),this.map.bind("pan",this.panHandler)}_deactivate(){super._deactivate(),this.map.unbind("pan",this._panHandler)}}we(xre,{autoBind:!0,zIndex:100});class jFt extends ft{constructor(i,e,n){super(),this.observer=n,this.locator=i,this.style=e}parse(i){let e=new Ire,n=!0;return"Feature"===i.type?(n=!1,this._loadGeometryTo(e,i.geometry,i),this._featureCreated(e,i)):this._loadGeometryTo(e,i,i),n&&e.children.length<2&&(e=e.children[0]),e}_shapeCreated(i){let e=!1;return this.observer&&this.observer.shapeCreated&&(e=this.observer.shapeCreated(i)),e}_featureCreated(i,e){this.observer&&this.observer.featureCreated&&this.observer.featureCreated({group:i,dataItem:e,properties:e.properties})}_loadGeometryTo(i,e,n){let r,a,o=e.coordinates;switch(e.type){case"LineString":a=this._loadPolygon(i,[o],n),this._setLineFill(a);break;case"MultiLineString":for(r=0;r<o.length;r++)a=this._loadPolygon(i,[o[r]],n),this._setLineFill(a);break;case"Polygon":this._loadPolygon(i,o,n);break;case"MultiPolygon":for(r=0;r<o.length;r++)this._loadPolygon(i,o[r],n);break;case"Point":this._loadPoint(i,o,n);break;case"MultiPoint":for(r=0;r<o.length;r++)this._loadPoint(i,o[r],n)}}_setLineFill(i){let e=i.segments;(e.length<4||!e[0].anchor().equals(Zo(e).anchor()))&&(i.options.fill=null)}_loadShape(i,e){return this._shapeCreated(e)||i.append(e),e}_loadPolygon(i,e,n){let o=this._buildPolygon(e);return o.dataItem=n,o.location=this.locator.viewToLocation(o.bbox().center()),this._loadShape(i,o)}_buildPolygon(i){let n=new(i.length>1?ed:ct)(this.style);for(let o=0;o<i.length;o++)for(let r=0;r<i[o].length;r++){let a=this.locator.locationToView(Ns.fromLngLat(i[o][r]));0===r?n.moveTo(a.x,a.y):n.lineTo(a.x,a.y)}return n}_loadPoint(i,e,n){let o=Ns.fromLngLat(e),r=this.locator.locationToView(o),a=new Cl(r,10),l=new Xd(a,this.style);return l.dataItem=n,l.location=o,this._loadShape(i,l)}}class I6e extends xre{_readData(){return this.options.data||[]}_load(i){if(this._data=i,this.surface.clear(),0===i.length)return;let e=this.options,n=mS(e.valueField),o=i.slice(0);o.sort(function(c,u){return n(u)-n(c)});let a,r=this._scaleType(),l=mS(this.options.locationField);for(let c=0;c<o.length;c++){let u=o[c],f=l(u),_=n(u);if(ge(f)&&ge(_)){a||(a=new r([0,_],[e.minSize,e.maxSize])),f=Ns.create(f);let g=this.map.locationToView(f),S=a.map(_),b=this._createSymbol({center:g,size:S,style:e.style,dataItem:u,location:f});b.dataItem=u,b.location=f,b.value=_,this._drawSymbol(b)}}}_scaleType(){let i=this.options.scale;return Js(i)?i:$Ft[i]}_createSymbol(i){let e=this.options.symbol;return Js(e)||(e=XFt[e]),e(i)}_drawSymbol(i){this.map.trigger("shapeCreated",{layer:this,shape:i})||this.surface.draw(i)}_tooltipContext(i){return{type:"bubble",layerIndex:this._layerIndex(),className:"k-map-bubble-tooltip",dataItem:i.dataItem,location:i.location,value:i.value}}_tooltipAnchor(i){const n=i.element.bbox().center();return{top:n.y,left:n.x}}}we(I6e,{locationField:"location",valueField:"value",minSize:0,maxSize:100,scale:"sqrt",symbol:"circle",zIndex:200});let $Ft={sqrt:class HFt extends ft{constructor(i,e){super(),this._domain=i,this._range=e;let n=Math.sqrt(i[1])-Math.sqrt(i[0]);this._ratio=(e[1]-e[0])/n}map(i){let e=(Math.sqrt(i)-Math.sqrt(this._domain[0]))*this._ratio;return this._range[0]+e}}},XFt={circle:function(s){let i=new Cl(s.center,s.size/2);return new Xd(i,s.style)},square:function(s){let i=new ct(s.style),e=s.size/2,n=s.center;return i.moveTo(n.x-e,n.y-e).lineTo(n.x+e,n.y-e).lineTo(n.x+e,n.y+e).lineTo(n.x-e,n.y+e).close(),i}};const A6e="mouseenter",R6e="mouseleave",WFt=Object.assign,Are=".k-marker";class Rre extends Ore{constructor(i,e){super(i,e),this._markerClickHandler=Ls(this._markerClick,this),fc(this.element,"click",Are,this._markerClickHandler),this.items=[],this._load(this._readData())}destroy(){super.destroy(),ud(this.element,"click",this._markerClickHandler),this.clear()}add(i){if(!Ia(i))return this._addOne(i);for(let e=0;e<i.length;e++)this._addOne(i[e])}remove(i){i.destroy();let e=(this.items||[]).indexOf(i);e>-1&&this.items.splice(e,1)}clear(){for(let i=0;i<this.items.length;i++)this.items[i].destroy();this.items=[]}update(i){let e=i.location();e&&(i.showAt(this.map.locationToView(e)),this.map.trigger("markerActivate",{marker:i,layer:this}))}_reset(){super._reset();let i=this.items;for(let e=0;e<i.length;e++)this.update(i[e])}bind(i,e){let n=h4.create(i,this.options);if(n.dataItem=e,!this.map.trigger("markerCreated",{marker:n,layer:this}))return this.add(n),n}_addOne(i){let e=h4.create(i,this.options);return e.addTo(this),e}_readData(){return this.options.data||[]}_load(i){this._data=i,this.clear();let e=mS(this.options.locationField),n=mS(this.options.titleField);for(let o=0;o<i.length;o++){let r=i[o];this.bind({location:e(r),title:n(r)},r)}}_markerClick(i){const e=i.currentTarget._kendoNode;let n={layer:this,layerIndex:this._layerIndex(),marker:e,markerIndex:(this.items||[]).indexOf(e),originalEvent:i};this.map.trigger("markerClick",n)}_markerMouseEnter(i){const e=this._createMarkerEventArgs(i);this.map.trigger("markerMouseEnter",e)}_markerMouseLeave(i){const e=this._createMarkerEventArgs(i);this.map.trigger("markerMouseLeave",e)}_createMarkerEventArgs(i){const e=i.marker;return WFt({},{layer:this,layerIndex:this._layerIndex(),marker:e,markerIndex:(this.items||[]).indexOf(e)},i)}}we(Rre,{zIndex:1e3,autoBind:!0,locationField:"location",titleField:"title",template:""});class h4 extends ft{constructor(i){super(),this.options=i||{}}destroy(){this.layer=null,this.unbindEvents(),this.hide()}addTo(i){this.layer=i.markers||i,this.layer.items.push(this),this.layer.update(this)}location(i){return i?(this.options.location=Ns.create(i).toArray(),this.layer&&this.layer.update(this),this):Ns.create(this.options.location)}showAt(i){this.render(),this._anchor={left:Math.round(i.x),top:Math.round(i.y)},this.element.style.left=a6e(this._anchor.left),this.element.style.top=a6e(this._anchor.top)}hide(){this.element&&(this.element.remove(),this.element=null)}bindEvents(){this.element&&(this._mouseEnterHandler=Ls(this._mouseEnter,this),fc(this.element,A6e,Are,this._mouseEnterHandler),this._mouseLeaveHandler=Ls(this._mouseLeave,this),fc(this.element,R6e,Are,this._mouseLeaveHandler))}unbindEvents(){this.element&&(ud(this.element,A6e,this._mouseEnterHandler),ud(this.element,R6e,this._mouseLeaveHandler))}render(){if(!this.element){let i=this.options,e=this.layer,n=document.createElement("span");if(Qo(n,"k-marker"),this.options.template){const a=this._compileTemplate(this.options.template)(this.dataItem),l=zb(a);n.appendChild(l)}else if(i.svgIcon)LD(n,{icon:i.svgIcon,iconClass:"k-icon-xxl",svgIcons:this.options.icons.svgIcons,type:"svg"});else{let r={icon:"map-marker",iconClass:"k-icon-xxl",svgIcons:this.options.icons.svgIcons,type:this.options.icons.type};i.shape?"pinTarget"===i.shape?(r.icon="map-marker-target",LD(n,r)):"pin"===i.shape?LD(n,r):Qo(n,"k-icon k-icon-xxl k-i-marker-"+r6e(i.shape||"pin")):LD(n,r)}i.title&&n.setAttribute("title",i.title);const o=i.attributes||{};Object.keys(o).forEach(function(r){n.setAttribute(r,o[r])}),n._kendoNode=this,n.style.zIndex=i.zIndex,this.element=n,e&&e.element.appendChild(this.element),this.bindEvents()}}_mouseEnter(i){const e=this._createEventArgs(i);this.layer._markerMouseEnter(e),this.layer.map._tooltip.show({top:this._anchor.top-this.element.offsetHeight,left:this._anchor.left},this._tooltipContext())}_tooltipContext(){return{type:"marker",layerIndex:this.layer._layerIndex(),className:"k-map-marker-tooltip",dataItem:this.dataItem,title:this.options.title,location:this.location()}}_mouseLeave(i){const e=this._createEventArgs(i);this.layer._markerMouseLeave(e)}_createEventArgs(i){return{marker:this,originalEvent:i}}_compileTemplate(i){return gV.compile(i,{paramName:"dataItem",useWithBlock:!1})}static create(i,e){return i instanceof h4?i:new h4(K({},e,i))}}const YFt=Object.assign;function L6e(s){window.requestAnimationFrame(s)}class N9 extends ft{constructor(){super();let i=this;i._tickProxy=Ls(i._tick,i),i._started=!1}tick(){}done(){}onEnd(){}onCancel(){}start(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,L6e(this._tickProxy)))}enabled(){return!0}cancel(){this._started=!1,this.onCancel()}_tick(){let i=this;i._started&&(i.tick(),i.done()?(i._started=!1,i.onEnd()):L6e(i._tickProxy))}}class G6e extends N9{constructor(i){super(),YFt(this,i)}done(){return this.timePassed()>=this.duration}timePassed(){return Math.min(this.duration,$g()-this.startDate)}moveTo(i){let e=this;e.initial=e.movable[e.axis],e.delta=i.location-e.initial,e.duration="number"==typeof i.duration?i.duration:300,e.tick=e._easeProxy(i.ease),e.startDate=$g(),e.start()}_easeProxy(i){let e=this;return function(){e.movable.moveAxis(e.axis,i(e.timePassed(),e.initial,e.delta,e.duration))}}static easeOutExpo(i,e,n,o){return i===o?e+n:n*(1-Math.pow(2,-10*i/o))+e}}const L9=Object.assign,KFt=s=>{s.preventDefault()};let P6e=800,F6e=0,G9="tap",X6e="gesturechange",W6e="gestureend",Y6e="gesturetap",QFt={api:0,touch:0,mouse:9,pointer:9};function K6e(s){const i=jb();let a,l,c,e=[],n=s.originalEvent||s,o=s.currentTarget,r=0;if(s.api)e.push({id:2,event:s,target:s.target,currentTarget:s.target,location:s,type:"api"});else if(s.type.match(/touch/))for(l=n?n.changedTouches:[],a=l.length;r<a;r++)c=l[r],e.push({location:c,event:s,target:c.target,currentTarget:o,id:c.identifier,type:"touch"});else e.push(i.pointers||i.msPointers?{location:n,event:s,target:s.target,currentTarget:o,id:n.pointerId,type:"pointer"}:{id:1,event:s,target:s.target,currentTarget:o,location:s,type:"mouse"});return e}class J6e extends ft{constructor(i,e){super();let n=this;n.support=jb(),n.invalidZeroEvents=this.support.mobileOS&&this.support.mobileOS.android,n.axis=i,n._updateLocationData(e),n.startLocation=n.location,n.velocity=n.delta=0,n.timeStamp=$g()}move(i){let e=this,n=i["page"+e.axis],o=$g(),r=o-e.timeStamp||1;!n&&this.invalidZeroEvents||(e.delta=n-e.location,e._updateLocationData(i),e.initialDelta=n-e.startLocation,e.velocity=e.delta/r,e.timeStamp=o)}_updateLocationData(i){let e=this,n=e.axis;e.location=i["page"+n],e.client=i["client"+n],e.screen=i["screen"+n]}}class e5t extends ft{constructor(i,e,n){super(),L9(this,{x:new J6e("X",n.location),y:new J6e("Y",n.location),type:n.type,useClickAsTap:i.useClickAsTap,threshold:i.threshold||QFt[n.type],userEvents:i,target:e,currentTarget:n.currentTarget,initialTouch:n.target,id:n.id,pressEvent:n,_clicks:i._clicks,supportDoubleTap:i.supportDoubleTap,_moved:!1,_finished:!1})}press(){this._holdTimeout=setTimeout(Ls(this._hold,this),this.userEvents.minHold),this._trigger("press",this.pressEvent)}_tap(i){let e=this;e.userEvents._clicks++,1===e.userEvents._clicks&&(e._clickTimeout=setTimeout(function(){e._trigger(1===e.userEvents._clicks?G9:"doubleTap",i),e.userEvents._clicks=0},300))}_hold(){this._trigger("hold",this.pressEvent)}move(i){let e=this;if(!(e._finished||"api"!==i.type&&e.userEvents._shouldNotMove)){if(e.x.move(i.location),e.y.move(i.location),!e._moved){if(e._withinIgnoreThreshold())return;if(hO.current&&hO.current!==e.userEvents)return e.dispose();e._start(i)}e._finished||e._trigger("move",i)}}end(i){this.endTime=$g(),!this._finished&&(this._finished=!0,this._trigger("release",i),this._moved?this._trigger("end",i):this.useClickAsTap||(this.supportDoubleTap?this._tap(i):this._trigger(G9,i)),clearTimeout(this._holdTimeout),this.dispose())}dispose(){let e=this.userEvents.touches||[];this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout);const n=e.indexOf(this);e.splice(n,1)}skip(){this.dispose()}cancel(){this.dispose()}isMoved(){return this._moved}_start(i){clearTimeout(this._holdTimeout),this.startTime=$g(),this._moved=!0,this._trigger("start",i)}_trigger(i,e){let n=this,o=e.event;n.userEvents.notify(i,{touch:n,x:n.x,y:n.y,target:n.target,event:o})&&o.preventDefault()}_withinIgnoreThreshold(){let i=this.x.initialDelta,e=this.y.initialDelta;return Math.sqrt(i*i+e*e)<=this.threshold}}function q6e(s){let e=kre(navigator).up.split(" "),n=0,o=e.length;for(;n<o;n++)s(e[n])}class hO extends gh{constructor(i,e){super();let o,n=this;const r=jb();if(this.support=r,this.options=e=e||{},o=n.filter=e.filter,n.threshold=e.threshold||F6e,n.minHold=e.minHold||P6e,n.touches=[],n._maxTouches=e.multiTouch?2:1,n.allowSelection=e.allowSelection,n.captureUpIfMoved=e.captureUpIfMoved,n.useClickAsTap=!e.fastTap&&!r.delayedClick(),n._clicks=0,n.supportDoubleTap=e.supportDoubleTap,L9(n,{element:i,surface:!e.global||r.touch&&!r.mouseAndTouchPresent?e.surface||i:i.ownerDocument.documentElement,stopPropagation:e.stopPropagation,pressed:!1}),this._surfaceMoveHandler=Ls(this._move,this),fc(n.surface,_h("move"),this._surfaceMoveHandler),this._surfaceEndHandler=Ls(this._end,this),fc(n.surface,_h("up cancel"),this._surfaceEndHandler),this._elementStartHandler=Ls(this._start,this),fc(i,_h("down"),o,this._elementStartHandler),n.useClickAsTap&&(this._elementClickHandler=Ls(this._click,this),fc(i,_h("click"),o,this._elementClickHandler)),r.pointers||r.msPointers)if(r.browser.version<11){let l="pinch-zoom double-tap-zoom";i.style["-ms-touch-action"]=e.touchAction&&"none"!==e.touchAction?l+" "+e.touchAction:l}else i.style["touch-action"]=e.touchAction||"none";if(e.preventDragEvent&&(this._elementDragStartHandler=KFt,fc(i,_h("dragstart"),this._elementDragStartHandler)),this._elementSelectHandler=Ls(this._select,this),fc(i,_h("mousedown"),o,this._elementSelectHandler),n.captureUpIfMoved&&r.eventCapture){let l=n.surface,c=Ls(n.preventIfMoving,n);q6e(function(u){l.addEventListener(u,c,!0)})}n.bind(["press","hold",G9,"doubleTap","start","move","end","release","cancel","gesturestart",X6e,W6e,Y6e,"select"],e)}preventIfMoving(i){this._isMoved()&&i.preventDefault()}destroy(){let i=this;const e=this.options,n=this.element;if(!i._destroyed){if(i._destroyed=!0,i.captureUpIfMoved&&this.support.eventCapture){let o=i.surface;q6e(function(r){o.removeEventListener(r,i.preventIfMoving)})}ud(i.surface,_h("move"),this._surfaceMoveHandler),ud(i.surface,_h("up cancel"),this._surfaceEndHandler),ud(n,_h("down"),this._elementStartHandler),i.useClickAsTap&&ud(n,_h("click"),this._elementClickHandler),e.preventDragEvent&&ud(n,_h("dragstart"),this._elementDragStartHandler),ud(n,_h("mousedown"),this._elementSelectHandler),i._disposeAll(),i.unbind(),delete i.surface,delete i.element,delete i.currentTarget}}capture(){hO.current=this}cancel(){this._disposeAll(),this.trigger("cancel")}notify(i,e){let o=this.touches,r=i;if(this._isMultiTouch()){switch(r){case"move":r=X6e;break;case"end":r=W6e;break;case G9:r=Y6e}L9(e,{touches:o},function ZFt(s,i){let e=s.x.location,n=s.y.location,o=i.x.location,r=i.y.location,a=e-o,l=n-r;return{center:{x:(e+o)/2,y:(n+r)/2},distance:Math.sqrt(a*a+l*l)}}(o[0],o[1]))}return this.trigger(r,L9(e,{type:r}))}press(i,e,n){this._apiCall("_start",i,e,n)}move(i,e){this._apiCall("_move",i,e)}end(i,e){this._apiCall("_end",i,e)}_isMultiTouch(){return this.touches.length>1}_maxTouchesReached(){return this.touches.length>=this._maxTouches}_disposeAll(){let i=this.touches;for(;i.length>0;)i.pop().dispose()}_isMoved(){return su(this.touches,function(i){return i.isMoved()}).length}_select(i){(!this.allowSelection||this.trigger("select",{event:i}))&&i.preventDefault()}_start(i){let r,c,e=this,n=0,o=e.filter,a=K6e(i),l=a.length,u=i.which;if(!(u&&u>1||e._maxTouchesReached()))for(hO.current=null,e.currentTarget=i.currentTarget,e.stopPropagation&&i.stopPropagation();n<l&&!e._maxTouchesReached();n++)c=a[n],r=o?c.currentTarget:e.element,(!r||0!==r.length)&&(c=new e5t(e,r,c),e.touches.push(c),c.press(),e._isMultiTouch()&&e.notify("gesturestart",{}))}_move(i){this._eachTouch("move",i)}_end(i){this._eachTouch("end",i)}_click(i){let e={touch:{initialTouch:i.target,target:i.currentTarget,endTime:$g(),x:{location:i.pageX,client:i.clientX},y:{location:i.pageY,client:i.clientY}},x:i.pageX,y:i.pageY,target:i.currentTarget,event:i,type:"tap"};this.trigger("tap",e)&&i.preventDefault()}_eachTouch(i,e){let l,c,u,f,o={},r=K6e(e),a=this.touches;for(l=0;l<a.length;l++)c=a[l],o[c.id]=c;for(l=0;l<r.length;l++)u=r[l],f=o[u.id],f&&f[i](u)}_apiCall(i,e,n,o){this[i]({api:!0,pageX:e,pageY:n,clientX:e,clientY:n,target:o||this.element,stopPropagation:c6e,preventDefault:c6e})}static defaultThreshold(i){F6e=i}static minHold(i){P6e=i}}let pO=Object.assign,$b=Math.abs,P9="change";class c5t extends N9{constructor(i){super(i);let e=this;pO(e,i),e.userEvents.bind("gestureend",e.start.bind(this)),e.tapCapture.bind("press",e.cancel.bind(this))}enabled(){return this.movable.scale<this.dimensions.minScale}done(){return this.dimensions.minScale-this.movable.scale<.01}tick(){let i=this.movable;i.scaleWith(1.1),this.dimensions.rescale(i.scale)}onEnd(){let i=this.movable;i.scaleTo(this.dimensions.minScale),this.dimensions.rescale(i.scale)}}class d5t extends N9{constructor(i){super();let e=this;pO(e,i,{transition:new G6e({axis:i.axis,movable:i.movable,onEnd(){e._end()}})}),e.tapCapture.bind("press",function(){e.cancel()}),e.userEvents.bind("end",Ls(e.start,e)),e.userEvents.bind("gestureend",Ls(e.start,e)),e.userEvents.bind("tap",Ls(e.onEnd,e))}onCancel(){this.transition.cancel()}freeze(i){this.cancel(),this._moveTo(i)}onEnd(){let i=this;i.paneAxis.outOfBounds()?i._snapBack():i._end()}done(){return $b(this.velocity)<1}start(i){let n,e=this;e.dimension.enabled&&(e.paneAxis.outOfBounds()?e.transition._started?(e.transition.cancel(),e.velocity=Math.min(i.touch[e.axis].velocity*e.velocityMultiplier,55),super.start()):e._snapBack():(n=2===i.touch.id?0:i.touch[e.axis].velocity,e.velocity=Math.max(Math.min(n*e.velocityMultiplier,55),-55),e.tapCapture.captureNext(),super.start()))}tick(){let i=this,e=i.dimension,n=i.paneAxis.outOfBounds()?.5:i.friction,o=i.velocity*=n,r=i.movable[i.axis]+o;!i.elastic&&e.outOfBounds(r)&&(r=Math.max(Math.min(r,e.max),e.min),i.velocity=0),i.movable.moveAxis(i.axis,r)}_end(){this.tapCapture.cancelCapture(),this.end()}_snapBack(){let i=this,e=i.dimension;i._moveTo(i.movable[i.axis]>e.max?e.max:e.min)}_moveTo(i){this.transition.moveTo({location:i,duration:500,ease:G6e.easeOutExpo})}}class u5t extends N9{constructor(i){super(i),pO(this,i,{origin:{},destination:{},offset:{}})}tick(){this._updateCoordinates(),this.moveTo(this.origin)}done(){return $b(this.offset.y)<5&&$b(this.offset.x)<5}onEnd(){this.moveTo(this.destination),this.callback&&this.callback.call()}setCoordinates(i,e){this.offset={},this.origin=i,this.destination=e}setCallback(i){i&&Js(i)?this.callback=i:i=void 0}_updateCoordinates(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}class h5t extends ft{constructor(i){super();let e=this,n="x"===i.axis;const r=zb('<div class="km-touch-scrollbar km-'+(n?"horizontal":"vertical")+'-scrollbar" />');pO(e,i,{element:r,elementSize:0,movable:new Mre(r),scrollMovable:i.movable,alwaysVisible:i.alwaysVisible,size:n?"width":"height"}),e.scrollMovable.bind(P9,e.refresh.bind(e)),e.container.appendChild(r),i.alwaysVisible&&e.show()}refresh(){let i=this,e=i.axis,n=i.dimension,o=n.size,a=o/n.total,l=Math.round(-i.scrollMovable[e]*a),c=Math.round(o*a);this.element.style.display=a>=1?"none":"",l+c>o?c=o-l:l<0&&(c+=l,l=0),i.elementSize!==c&&(i.element.style[i.size]=c+"px",i.elementSize=c),i.movable.moveAxis(e,l)}show(){this.element.style.opacity=.7,this.element.style.visibility="visible"}hide(){this.alwaysVisible||(this.element.style.opacity=0)}}class Pre extends gh{constructor(i,e){super();let n=this;this.element=i,this._initOptions(e);const o=(s=>{const i=l6e(s);return i.ios||i.android})(navigator.userAgent);n._native=n.options.useNative&&o;const r=zb('<div class="km-scroll-header"/>');if(n._native)return Qo(i,"km-native-scroller"),o6e(r,i),void pO(n,{scrollElement:i,fixedContainer:i.children[0]});i.style.overflow="hidden",Qo(i,"km-scroll-wrapper"),((s,i)=>{for(s.appendChild(i);s.firstChild!==i;)i.appendChild(s.firstChild)})(i,zb('<div class="km-scroll-container"/>')),o6e(r,i);let l=i.children[1],c=new BFt(i),u=new Mre(l),f=new VFt({element:l,container:i,forcedEnabled:n.options.zoom}),_=this.options.avoidScrolling,g=new hO(i,{touchAction:"pan-y",fastTap:!0,allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:n.options.zoom,supportDoubleTap:n.options.supportDoubleTap,start(D){f.refresh();let O=$b(D.x.velocity),I=$b(D.y.velocity),N=2*O>=I,P=((s,i)=>s===i||((s,i)=>{if(!i)return!1;let e=i.parentNode;for(;null!==e;){if(e===s)return!0;e=e.parentNode}return!1})(s,i))(n.fixedContainer,D.event.target),G=2*I>=O;!P&&!_(D)&&n.enabled&&(f.x.enabled&&N||f.y.enabled&&G)?g.capture():g.cancel()}}),S=new zFt({movable:u,dimensions:f,userEvents:g,elastic:n.options.elastic}),b=new c5t({movable:u,dimensions:f,userEvents:g,tapCapture:c}),k=new u5t({moveTo(D){n.scrollTo(D.x,D.y)}});u.bind(P9,function(){n.scrollTop=-u.y,n.scrollLeft=-u.x,n.trigger("scroll",{scrollTop:n.scrollTop,scrollLeft:n.scrollLeft})}),n.options.mousewheelScrolling&&(this._wheelScrollHandler=this._wheelScroll.bind(this),fc(i,"wheel",this._wheelScrollHandler)),pO(n,{movable:u,dimensions:f,zoomSnapBack:b,animatedScroller:k,userEvents:g,pane:S,tapCapture:c,pulled:!1,enabled:!0,scrollElement:l,scrollTop:0,scrollLeft:0,fixedContainer:i.children[0]}),n._initAxis("x"),n._initAxis("y"),n._wheelEnd=function(){n._wheel=!1,n.userEvents.end(0,n._wheelY)},f.refresh(),n.options.pullToRefresh&&n._initPullToRefresh()}_initOptions(i){this.options=K({},this.options,i)}_wheelScroll(i){if(i.ctrlKey)return;this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);let e=(s=>{const i=s.originalEvent||s,e=i.wheelDeltaY;let n;return i.wheelDelta?(void 0===e||e)&&(n=i.wheelDelta):i.detail&&i.axis===i.VERTICAL_AXIS&&(n=10*-i.detail),n})(i);e&&(this._wheelY+=e,this.userEvents.move(0,this._wheelY)),i.preventDefault()}makeVirtual(){this.dimensions.y.makeVirtual()}virtualSize(i,e){this.dimensions.y.virtualSize(i,e)}height(){return this.dimensions.y.size}scrollHeight(){return this.scrollElement.scrollHeight}scrollWidth(){return this.scrollElement.scrollWidth}_resize(){this._native||this.contentResized()}setOptions(i){this._initOptions(i),i.pullToRefresh&&this._initPullToRefresh()}reset(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))}contentResized(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)}zoomOut(){let i=this.dimensions;i.refresh(),this._scale(i.fitScale),this.movable.moveTo(i.centerCoordinates())}enable(){this.enabled=!0}disable(){this.enabled=!1}scrollTo(i,e){this._native?(this.scrollElement.scrollLeft($b(i)),this.scrollElement.scrollTop($b(e))):(this.dimensions.refresh(),this.movable.moveTo({x:i,y:e}))}animatedScrollTo(i,e,n){let o,r;this._native?this.scrollTo(i,e):(o={x:this.movable.x,y:this.movable.y},r={x:i,y:e},this.animatedScroller.setCoordinates(o,r),this.animatedScroller.setCallback(n),this.animatedScroller.start())}pullHandled(){}destroy(){ud(this.element,"wheel",this._wheelScrollHandler),this.userEvents&&this.userEvents.destroy()}_scale(i){this.dimensions.rescale(i),this.movable.scaleTo(i)}_initPullToRefresh(){}_dragEnd(){}_paneChange(){}_initAxis(i){let e=this,n=e.movable,o=e.dimensions[i],r=e.tapCapture,a=e.pane[i],l=new h5t({axis:i,movable:n,dimension:o,container:e.element,alwaysVisible:e.options.visibleScrollHints});o.bind(P9,function(){l.refresh()}),a.bind(P9,function(){l.show()}),e[i+"inertia"]=new d5t({axis:i,paneAxis:a,movable:n,tapCapture:r,userEvents:e.userEvents,dimension:o,elastic:e.options.elastic,friction:e.options.friction||.96,velocityMultiplier:e.options.velocityMultiplier||10,end(){l.hide(),e.trigger("scrollEnd",{axis:i,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft})}})}}we(Pre,{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:()=>!1,pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}}),A9(Pre,["pull","scroll","resize"]);const f5t=class p5t{constructor(i,e={}){this.sender=e.sender||i,this.widget=i,this.rtl=!!e.rtl}notify(i,e){this.widget&&this.widget.trigger(i,e)}};let NS=Math,eNe=NS.min,Fre=NS.pow,tNe=Ie,F9="marker",U9="location";const C5t={bubble:I6e,shape:xre,tile:k6e,[F9]:Rre};class iNe extends gh{constructor(i,e={},n={},o={}){super(),this._init(i,e,n,o)}destroy(){this.scroller.destroy(),this._tooltip&&this._tooltip.destroy(),this.navigator&&this.navigator.destroy(),this.attribution&&this.attribution.destroy(),this.zoomControl&&this.zoomControl.destroy(),Ia(this.markers)?this.markers.forEach(i=>{i.destroy()}):this.markers.destroy();for(let i=0;i<this.layers.length;i++)this.layers[i].destroy();ud(this.element,"wheel",this._mousewheelHandler),super.destroy()}_init(i,e={},n={},o={}){this.support=jb(),this.context=o,this.initObserver(o),this.initServices(o),this._notifyObserver("init"),this._initOptions(e),this._setEvents(e),this.crs=new fFt,this._initElement(i),this._viewOrigin=this._getOrigin(),this._tooltip=this._createTooltip(),this._initScroller(),this._initMarkers(),this._initControls(),this._initLayers(),this._reset();const r=f9(this._mousewheel.bind(this),50);this._mousewheelHandler=a=>{a.preventDefault(),r(a)},fc(this.element,"wheel",this._mousewheelHandler)}_initOptions(i){this.options=K({},this.options,i)}_initElement(i){this.element=i,Qo(i,"k-map"),i.style.position="relative",i.setAttribute("data-role","map"),d4(i);const e=zb("<div />");this.element.appendChild(e)}initServices(i={}){this.widgetService=new f5t(this,i)}initObserver(i={}){this.observers=[],this.addObserver(i.observer)}addObserver(i){i&&this.observers.push(i)}removeObserver(i){const e=this.observers.indexOf(i);e>=0&&this.observers.splice(e,1)}requiresHandlers(i){const e=this.observers;for(let n=0;n<e.length;n++)if(e[n].requiresHandlers(i))return!0}trigger(i,e={}){e.sender=this;const n=this.observers;let o=!1;for(let r=0;r<n.length;r++)n[r].trigger(i,e)&&(o=!0);return o||super.trigger(i,e),o}_notifyObserver(i,e={}){e.sender=this;const n=this.observers;let o=!1;for(let r=0;r<n.length;r++)n[r].trigger(i,e)&&(o=!0);return o}zoom(i){let n,e=this.options;if(ge(i)){const o=NS.round(Vt(i,e.minZoom,e.maxZoom));e.zoom!==o&&(e.zoom=o,this.widgetService.notify("zoomChange",{zoom:e.zoom}),this._reset()),n=this}else n=e.zoom;return n}center(i){let e;if(i){const n=Ns.create(i),o=Ns.create(this.options.center);n.equals(o)||(this.options.center=n.toArray(),this.widgetService.notify(C6e,{center:this.options.center}),this._reset()),e=this}else e=Ns.create(this.options.center);return e}extent(i){let e;return i?(this._setExtent(i),e=this):e=this._getExtent(),e}setOptions(i={}){const e=this.element;this.destroy(),d4(e),this._init(e,i,{},this.context),this._reset()}locationToLayer(i,e){let n=!this.options.wraparound;const o=Ns.create(i);return this.crs.toPoint(o,this._layerSize(e),n)}layerToLocation(i,e){let n=!this.options.wraparound;const o=tNe.create(i);return this.crs.toLocation(o,this._layerSize(e),n)}locationToView(i){const e=Ns.create(i);let n=this.locationToLayer(this._viewOrigin);return this.locationToLayer(e).translateWith(n.scale(-1))}viewToLocation(i,e){const n=this.locationToLayer(this._getOrigin(),e),r=tNe.create(i).clone().translateWith(n);return this.layerToLocation(r,e)}eventOffset(i){let e,n,o=ND(this.element);if(i.x&&i.x[U9]||i.y&&i.y[U9])e=i.x[U9]-o.left,n=i.y[U9]-o.top;else{let a=i.originalEvent||i;e=ln(a.pageX,a.clientX)-o.left,n=ln(a.pageY,a.clientY)-o.top}return new Ie(e,n)}eventToView(i){let e=this.eventOffset(i);return this.locationToView(this.viewToLocation(e))}eventToLayer(i){return this.locationToLayer(this.eventToLocation(i))}eventToLocation(i){let e=this.eventOffset(i);return this.viewToLocation(e)}viewSize(){let i=this.element,e=this._layerSize(),n=i.clientWidth;return this.options.wraparound||(n=eNe(e,n)),{width:n,height:eNe(e,i.clientHeight)}}exportVisual(){return this._reset(),!1}hideTooltip(){this._tooltip&&this._tooltip.hide()}_setOrigin(i,e){let o,n=this.viewSize();const r=this._origin=Ns.create(i);return o=this.locationToLayer(r,e),o.x+=n.width/2,o.y+=n.height/2,this.options.center=this.layerToLocation(o,e).toArray(),this.widgetService.notify(C6e,{center:this.options.center}),this}_getOrigin(i){let n,e=this.viewSize();return(i||!this._origin)&&(n=this.locationToLayer(this.center()),n.x-=e.width/2,n.y-=e.height/2,this._origin=this.layerToLocation(n)),this._origin}_setExtent(i){let e=Xg.create(i),n=e.se.clone();this.options.wraparound&&n.lng<0&&i.nw.lng>0&&(n.lng=180+(180+n.lng));const o=new Xg(e.nw,n);this.center(o.center());let l,r=this.element.clientWidth,a=this.element.clientHeight;for(l=this.options.maxZoom;l>=this.options.minZoom;l--){let c=this.locationToLayer(o.nw,l),u=this.locationToLayer(o.se,l),f=NS.abs(u.x-c.x),_=NS.abs(u.y-c.y);if(f<=r&&_<=a)break}this.zoom(l)}_getExtent(){let i=this._getOrigin(),e=this.locationToLayer(i),n=this.viewSize();e.x+=n.width,e.y+=n.height;let o=this.layerToLocation(e);return new Xg(i,o)}_zoomAround(i,e){this._setOrigin(this.layerToLocation(i,e),e),this.zoom(e)}_initControls(){let i=this.options.controls;i.attribution&&this._createAttribution(i.attribution),this.support.mobileOS||(i.navigator&&this._createNavigator(i.navigator),i.zoom&&this._createZoomControl(i.zoom))}_createControlElement(i,e){let n=i.position||e,o="."+d6e(n).replace(" ","."),r=this.element.querySelector(".k-map-controls"+o)||[];if(0===r.length){let l=document.createElement("div");Qo(l,"k-map-controls "+d6e(n)),r=l,this.element.appendChild(r)}let a=document.createElement("div");return r.appendChild(a),a}_createAttribution(i){let e=this._createControlElement(i,"bottomRight");this.attribution=new p6e(e,i)}_createNavigator(i){let e=this._createControlElement(i,"topLeft"),n=this.navigator=new wre(e,K({},i,{icons:this.options.icons}));this._navigatorPan=this._navigatorPan.bind(this),n.bind("pan",this._navigatorPan),this._navigatorCenter=this._navigatorCenter.bind(this),n.bind("center",this._navigatorCenter)}_navigatorPan(i){let e=this.scroller,n=e.scrollLeft+i.x,o=e.scrollTop-i.y,r=this._virtualSize,l=this.element.clientHeight;n=Vt(n,r.x.min,r.x.max-this.element.clientWidth),o=Vt(o,r.y.min,r.y.max-l),this.scroller.one("scroll",Ls(this._scrollEnd,this)),this.scroller.scrollTo(-n,-o)}_navigatorCenter(){this.center(this.options.center)}_createZoomControl(i){let e=this._createControlElement(i,"topLeft"),n=this.zoomControl=new Dre(e,i,this.options.icons);this._zoomControlChange=this._zoomControlChange.bind(this),n.bind("change",this._zoomControlChange)}_zoomControlChange(i){this.trigger("zoomStart",{originalEvent:i})||(this.zoom(this.zoom()+i.delta),this.trigger("zoomEnd",{originalEvent:i}))}_initScroller(){let n=this.scroller=new Pre(this.element.children[0],{friction:this.support.mobileOS?.93:.9,velocityMultiplier:5,zoom:!1!==this.options.zoomable,mousewheelScrolling:!1,supportDoubleTap:!0});n.bind("scroll",Ls(this._scroll,this)),n.bind("scrollEnd",Ls(this._scrollEnd,this)),n.userEvents.bind("gesturestart",Ls(this._scaleStart,this)),n.userEvents.bind("gestureend",Ls(this._scale,this)),n.userEvents.bind("doubleTap",Ls(this._doubleTap,this)),n.userEvents.bind("tap",Ls(this._tap,this)),this.scrollElement=n.scrollElement}_initLayers(){let i=this.options.layers,e=this.layers=[];for(let n=0;n<i.length;n++){const r=this._createLayer(i[n]);e.push(r)}}_createLayer(i){let e=i.type||"shape",n=this.options.layerDefaults[e],o=e===F9?K({},this.options.markerDefaults,i,{icons:this.options.icons}):K({},n,i),a=new(0,C5t[e])(this,o);return e===F9&&(this.markers=a),a}_createTooltip(){return new b6e(this.widgetService,this.options.tooltip)}_initMarkers(){(this.options.layers||[]).filter(e=>e&&e.type===F9).length>0||(this.markers=new Rre(this,K({},this.options.markerDefaults,{icons:this.options.icons})),this.markers.add(this.options.markers))}_scroll(i){let e=this.locationToLayer(this._viewOrigin).round(),n=i.sender.movable,o=new Ie(n.x,n.y).scale(-1).scale(1/n.scale);e.x+=o.x,e.y+=o.y,this._scrollOffset=o,this._tooltip.offset=o,this.hideTooltip(),this._setOrigin(this.layerToLocation(e)),this.trigger("pan",{originalEvent:i,origin:this._getOrigin(),center:this.center()})}_scrollEnd(i){!this._scrollOffset||!this._panComplete()||(this._scrollOffset=null,this._panEndTimestamp=$g(),this.trigger("panEnd",{originalEvent:i,origin:this._getOrigin(),center:this.center()}))}_panComplete(){return $g()-(this._panEndTimestamp||0)>50}_scaleStart(i){if(this.trigger("zoomStart",{originalEvent:i})){let e=i.touches[1];e&&e.cancel()}}_scale(i){let n=this._scaleToZoom(this.scroller.movable.scale),o=new Ie(i.center.x,i.center.y),r=this.viewToLocation(o,n),l=this.locationToLayer(r,n).translate(-o.x,-o.y);this._zoomAround(l,n),this.trigger("zoomEnd",{originalEvent:i})}_scaleToZoom(i){let n=this._layerSize()*i/this.options.minSize,o=NS.log(n)/NS.log(2);return NS.round(o)}_reset(){this.attribution&&this.attribution.filter(this.center(),this.zoom()),this._viewOrigin=this._getOrigin(!0),this._resetScroller(),this.hideTooltip(),this.trigger("beforeReset"),this.trigger("reset")}_resetScroller(){let i=this.scroller,e=i.dimensions.x,n=i.dimensions.y,o=this._layerSize(),r=this.extent().nw,a=this.locationToLayer(r).round();i.movable.round=!0,i.reset(),i.userEvents.cancel();let l=this.zoom();i.dimensions.forcedMinScale=Fre(2,this.options.minZoom-l),i.dimensions.maxScale=Fre(2,this.options.maxZoom-l);let c={min:-a.x,max:o-a.x},u={min:-a.y,max:o-a.y};if(this.options.wraparound&&(c.max=20*o,c.min=-c.max),!1===this.options.pannable){let f=this.viewSize();c.min=u.min=0,c.max=f.width,u.max=f.height}e.makeVirtual(),n.makeVirtual(),e.virtualSize(c.min,c.max),n.virtualSize(u.min,u.max),this._virtualSize={x:c,y:u}}_renderLayers(){}_layerSize(i){const e=ln(i,this.options.zoom);return this.options.minSize*Fre(2,e)}_tap(i){if(!this._panComplete())return;let e=this.eventOffset(i);this.hideTooltip(),this.trigger("click",{originalEvent:i,location:this.viewToLocation(e)})}_doubleTap(i){if(!1!==this.options.zoomable&&!this.trigger("zoomStart",{originalEvent:i})){let n=this.zoom()+1,o=this.eventOffset(i),r=this.viewToLocation(o),l=this.locationToLayer(r,n).translate(-o.x,-o.y);this._zoomAround(l,n),this.trigger("zoomEnd",{originalEvent:i})}}_mousewheel(i){let e=use(i)>0?-1:1,n=this.options,o=this.zoom(),r=Vt(o+e,n.minZoom,n.maxZoom);if(!1!==n.zoomable&&r!==o&&!this.trigger("zoomStart",{originalEvent:i})){let a=this.eventOffset(i),l=this.viewToLocation(a),u=this.locationToLayer(l,r).translate(-a.x,-a.y);this._zoomAround(u,r),this.trigger("zoomEnd",{originalEvent:i})}}_toDocumentCoordinates(i){const e=ND(this.element);return{left:qe(i.x+e.left),top:qe(i.y+e.top)}}}we(iNe,{name:"Map",controls:{attribution:!0,navigator:{panStep:100},zoom:!0},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:.5}}},bubble:{style:{fill:{color:"#fff",opacity:.5},stroke:{color:"#aaa",width:.5}}},marker:{shape:"pinTarget",tooltip:{position:"top"}}},center:[0,0],icons:{type:"font",svgIcons:{}},zoom:3,minSize:256,minZoom:1,maxZoom:19,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{position:"top"}},wraparound:!0,renderPointsAsMarkers:!1}),A9(iNe,["beforeReset","click","markerActivate","markerClick","markerCreated","markerMouseEnter","markerMouseLeave","pan","panEnd","reset","shapeClick","shapeCreated","shapeFeatureCreated","shapeMouseEnter","shapeMouseLeave","zoomEnd","zoomStart"]);const Ure=(s,i)=>s.map(i).reduce((e,n)=>e+n,0),sNe=(s,i)=>s.y0-i.y0,y5t=(s,i)=>sNe(s.source,i.source),k5t=(s,i)=>sNe(s.target,i.target),Bre=s=>s.value;function w5t(s){s.forEach(i=>{const{sourceLinks:e,targetLinks:n}=i;e.sort(k5t),n.sort(y5t)})}class D5t{constructor(i){const e=i.nodesOptions.offset||{};this.data={nodes:i.nodes.map(n=>K({},{offset:e},n)),links:i.links.map(n=>K({},n))},this.width=i.width,this.height=i.height,this.offsetX=i.offsetX||0,this.offsetY=i.offsetY||0,this.nodeWidth=i.nodesOptions.width,this.nodePadding=i.nodesOptions.padding}calculate(){const{nodes:i,links:e}=this.data;this.connectLinksToNodes(i,e),this.calculateNodeValues(i),this.calculateNodeDepths(i);const n=this.calculateNodeColumns(i);return this.calculateNodeBreadths(n),this.applyNodesOffset(i),this.calculateLinkBreadths(i),this.data}connectLinksToNodes(i,e){const n=new Map;i.forEach(o=>{o.sourceLinks=[],o.targetLinks=[],o.id=void 0!==o.id?o.id:o.label.text,n.set(o.id,o)}),e.forEach(o=>{o.source=n.get(o.sourceId),o.target=n.get(o.targetId),o.source.sourceLinks.push(o),o.target.targetLinks.push(o)})}calculateNodeValues(i){i.forEach(e=>{e.value=Math.max(Ure(e.sourceLinks,Bre),Ure(e.targetLinks,Bre))})}calculateNodeDepths(i){let e=new Set(i),n=new Set,o=0;for(;e.size;){const r=Array.from(e);for(let a=0;a<r.length;a++){const l=r[a];l.depth=o;for(let c=0;c<l.sourceLinks.length;c++)n.add(l.sourceLinks[c].target)}o++,e=n,n=new Set}}calculateNodeColumns(i){const e=((s,i)=>Math.max.apply(null,s.map(r=>r.depth)))(i),n=(this.width-this.offsetX-this.nodeWidth)/e,o=new Array(e+1);for(let r=0;r<i.length;r++){const a=i[r],l=Math.max(0,Math.min(e,a.sourceLinks.length?a.depth:e));a.x0=this.offsetX+l*n,a.x1=a.x0+this.nodeWidth,o[l]=o[l]||[],o[l].push(a)}return o}calculateNodeBreadths(i){const e=((s,i)=>Math.min.apply(null,s.map(i)))(i,n=>(this.height-this.offsetY-(n.length-1)*this.nodePadding)/Ure(n,Bre));for(let n=0;n<i.length;n++){const o=i[n];let r=this.offsetY;for(let a=0;a<o.length;a++){const l=o[a];l.y0=r,l.y1=r+l.value*e,r=l.y1+this.nodePadding;for(let c=0;c<l.sourceLinks.length;c++){const u=l.sourceLinks[c];u.width=u.value*e}}r=(this.height-r+this.nodePadding)/(o.length+1);for(let a=0;a<o.length;++a){const l=o[a];l.y0+=r*(a+1),l.y1+=r*(a+1)}}for(let n=0;n<i.length;n++)w5t(i[n])}applyNodesOffset(i){i.forEach(e=>{const n=(e.offset?e.offset.left:0)||0,o=(e.offset?e.offset.top:0)||0;e.x0+=n,e.x1+=n,e.y0+=o,e.y1+=o})}calculateLinkBreadths(i){i.forEach(e=>{const{sourceLinks:n,targetLinks:o}=e;let r=e.y0,a=r;n.forEach(l=>{l.y0=r+l.width/2,r+=l.width}),o.forEach(l=>{l.y1=a+l.width/2,a+=l.width})})}}const oNe=s=>new D5t(s).calculate();class p4 extends ft{constructor(i){super(),this.options=K({},this.options,i),this.createVisual()}createVisual(){this.visual=this.createElement()}exportVisual(){return this.visual}createElement(){const i=this.options.visual;let e;return e=i?i({sender:this.getSender(),options:this.visualOptions(),createVisual:()=>this.getElement()}):this.getElement(),e}getSender(){return this}}class rNe extends p4{getElement(){const e=this.options.node,n=new On([e.x0,e.y0],[e.x1-e.x0,e.y1-e.y0]);return ct.fromRect(n,this.visualOptions())}visualOptions(){const i=K({},this.options,this.options.node);return{fill:{color:i.color,opacity:i.opacity},stroke:{width:0}}}}const aNe=(s,i,e)=>s.color||i[e%i.length],lNe=(s,i,e,n)=>{const o=K({},i,i.node);return K({},{color:aNe(s,e,n)},o,{node:s},{visual:s.visual,opacity:s.opacity,offset:s.offset,color:s.color})};class O5t extends p4{getElement(){const i=this.options.link,{source:e,target:n,y0:o,y1:r}=i,a=(e.x0+n.x1)/2;return new ct(this.visualOptions()).moveTo(e.x1,o).curveTo([a,o],[a,r],[n.x0,r])}visualOptions(){const i=this.options,e=this.options.link;return{stroke:{width:i.link.width,color:e.color||i.color,opacity:ge(e.opacity)?e.opacity:i.opacity}}}}const Vre="before";class zre extends p4{getElement(){const i=K({},this.options,this.options.node.label),{node:e,totalWidth:n,position:o,text:r,offset:a}=i;if(!i.visible||!r)return null;const l=new ze(e.x0,e.y0,e.x1,e.y1),c=this.visualOptions(),u=new ad(r,c);u.reflow(new ze);const f=u.box,_=e.x1+f.width()>n,g=l.center().y-f.height()/2,b=[(o===Vre||"inside"===o&&_?Vre:"after")===Vre?e.x0-f.width():e.x1,g],k=new ze(b[0],b[1],b[0]+f.width(),b[1]+f.height());return k.translate(a.left||0,a.top||0),u.reflow(k),u.renderVisual(),u.visual}visualOptions(){const i=K({},this.options,this.options.node.label);return{color:i.color,opacity:i.opacity,font:i.font,border:i.border,margin:i.margin,padding:i.padding,align:i.align}}}we(zre,{position:"inside"});class jre extends p4{getElement(){const i=this.options,{drawingRect:e,text:n}=i;if(!1===i.visible||!n)return null;const o=OR.buildTitle(n,i);return o.reflow(e),o.renderVisual(),o.visual}createElement(){return this.getElement()}}we(jre,{position:Qn,align:Cn,opacity:1,border:{width:0},margin:zi(5),padding:zi(5)});class Hre extends p4{getElement(){const i=this.options,{drawingRect:e,nodes:n=[],colors:o=[]}=i;if(!1===i.visible||!n.length)return null;const r=n.map((l,c)=>({text:l.label&&l.label.text||"",area:{background:aNe(l,o,c),opacity:l.opacity},node:l})),a=new tRe(Object.assign({},i,{data:r}));return a.reflow(e),a.renderVisual(),a.visual}createElement(){return this.getElement()}}we(Hre,{markers:{visible:!1},item:{type:xg,cursor:lse,opacity:1},position:Di,align:Cn,border:{width:0}}),we(class x5t extends gh{constructor(i,e,n){super(),this._initElement(i),this._initTheme(n),this._setOptions(e),this._initSurface(),e&&e.data&&this._redraw(),this._initResizeObserver()}destroy(){this.unbind(),this._destroySurface(),this._destroyResizeObserver()}_initElement(i){this.element=i,Qo(this.element,["k-chart","k-sankey"])}_initSurface(){this.surface||(this._destroySurface(),this._initSurfaceElement(),this.surface=this._createSurface())}_initResizeObserver(){const i=new ResizeObserver(e=>{e.forEach(n=>{const{width:o,height:r}=n.contentRect;n.target!==this.element||this.size.width===o&&this.size.height===r||(this.size={width:o,height:r},this.surface.setSize(this.size),this._redraw())})});this._resizeObserver=i,i.observe(this.element)}_createSurface(){return aO.create(this.surfaceElement,{mouseenter:this._mouseenter.bind(this),mouseleave:this._mouseleave.bind(this)})}_initTheme(i){let e=i||this.theme||{};this.theme=e,this.options=K({},e,this.options)}setLinksOpacity(i){this.linksVisuals.forEach(e=>{this.setOpacity(e,i)})}setOpacity(i,e){i.options.set("stroke",Object.assign({},i.options.stroke,{opacity:e}))}trigger(i,e){return e.type=i,super.trigger(i,e)}_mouseenter(i){const e=i.element,n="link"===e.type,o="node"===e.type,r=!(!e.chartElement||!e.chartElement.options.node);if(n&&this.trigger("linkEnter",i)||o&&this.trigger("nodeEnter",i))return;const{highlight:a}=this.options.links;if(n)this.setLinksOpacity(a.inactiveOpacity),this.setOpacity(e,a.opacity);else if(o)this.highlightLinks(e,a);else if(r){const l=this.nodesVisuals.get(e.chartElement.options.node.id);this.highlightLinks(l,a)}}_mouseleave(i){const e=i.element,n="link"===e.type,o="node"===e.type,r=!(!e.chartElement||!e.chartElement.options.node),a=i.originalEvent.relatedTarget;n&&a&&"text"===a.nodeName||n&&this.trigger("linkLeave",i)||o&&this.trigger("nodeLeave",i)||(n||o||r)&&this.setLinksOpacity(this.options.links.opacity)}highlightLinks(i,e){i&&(this.setLinksOpacity(e.inactiveOpacity),i.links.forEach(n=>{this.setOpacity(n,e.opacity)}))}_destroySurface(){this.surface&&(this.surface.destroy(),this.surface=null,this._destroySurfaceElement())}_destroyResizeObserver(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}_initSurfaceElement(){this.surfaceElement||(this.surfaceElement=document.createElement("div"),this.element.appendChild(this.surfaceElement))}_destroySurfaceElement(){this.surfaceElement&&this.surfaceElement.parentNode&&(this.surfaceElement.parentNode.removeChild(this.surfaceElement),this.surfaceElement=null)}setOptions(i,e){this._setOptions(i),this._initTheme(e),this._initSurface(),this._redraw()}_redraw(){this.surface.clear();const{width:i,height:e}=this._getSize();this.size={width:i,height:e},this.surface.setSize(this.size),this.createVisual(),this.surface.draw(this.visual)}_getSize(){return this.element.getBoundingClientRect()}createVisual(){this.visual=this._render()}titleBox(i,e){return i&&!1!==i.visible&&i.text?new jre(Object.assign({},{drawingRect:e},i)).exportVisual().chartElement.box:null}legendBox(i,e,n){return i&&!1!==i.visible?new Hre(Object.assign({},{nodes:e},i,{drawingRect:n})).exportVisual().chartElement.box:null}calculateSankey(i){const{title:e,legend:n,data:o}=this.options,{nodes:r,labels:a,nodesColors:l}=this.options,c=new ze(0,0,i.width,i.height),u=this.titleBox(e,c);let f=c.clone();if(u){const I=u.height();e.position===Qn?(c.unpad({top:I}),f=new ze(0,I,i.width,i.height)):(c.shrink(0,I),f=new ze(0,0,i.width,i.height-I))}const _=this.legendBox(n,o.nodes,f);_&&(n.position===jn&&c.unpad({left:_.width()}),n.position===Oi&&c.shrink(_.width(),0),n.position===Qn&&c.unpad({top:_.height()}),n.position===Di&&c.shrink(0,_.height()));const g=oNe(Object.assign({},i,{offsetX:c.x1,offsetY:c.y1,width:c.x2,height:c.y2})).nodes,S=new ze;g.forEach((I,N)=>{const P=lNe(I,r,l,N),G=new rNe(P);S.wrap(UD(G.exportVisual().rawBBox()));const $=new zre(K({node:I,totalWidth:i.width},a)).exportVisual();$&&S.wrap(UD($.rawBBox()))});let b=(S.x1<0?-S.x1:0)+c.x1,k=(S.y1<0?-S.y1:0)+c.y1,D=S.width()>c.x2?b+c.x2-(S.width()-c.x2):c.x2,O=S.height()>c.y2?k+c.y2-(S.height()-c.y2):c.y2;return{sankey:oNe(Object.assign({},i,{offsetX:b,offsetY:k,width:D,height:O})),legendBox:_,titleBox:u}}_render(){const{data:i,labels:e,nodes:n,links:o,nodesColors:r,title:a,legend:l}=this.options,{width:c,height:u}=this.size,f=Object.assign({},i,{width:c,height:u,nodesOptions:n,title:a,legend:l}),{sankey:_,titleBox:g,legendBox:S}=this.calculateSankey(f),{nodes:b,links:k}=_,D=new Vn;if(g){const G=new jre(Object.assign({},a,{drawingRect:g})).exportVisual();D.append(G)}if(S){const G=new Hre(Object.assign({},l,{drawingRect:S,nodes:b,colors:r})).exportVisual();D.append(G)}const O=new Map;b.forEach((P,G)=>{const H=lNe(P,n,r,G),Q=new rNe(H).exportVisual();Q.links=[],Q.type="node",O.set(P.id,Q),D.append(Q)});const I=k.slice().sort((P,G)=>G.value-P.value),N=[];return I.forEach(P=>{const{source:G,target:H}=P,$=O.get(G.id),Q=O.get(H.id),ie=((s,i,e,n)=>{const o=K({},i,{link:s,opacity:s.opacity,color:s.color,colorType:s.colorType,visual:s.visual,highlight:s.highlight});return"source"===o.colorType?o.color=e.options.fill.color:"target"===o.colorType&&(o.color=n.options.fill.color),o})(P,o,$,Q),re=new O5t(ie).exportVisual();re.type="link",N.push(re),$.links.push(re),Q.links.push(re),D.append(re)}),this.linksVisuals=N,this.nodesVisuals=O,b.forEach(P=>{const G=((s,i,e)=>K({},i,{node:s,totalWidth:e,visual:s.label.visual,visible:s.label.visible,margin:s.label.margin,padding:s.label.padding,border:s.label.border,align:s.label.align,opacity:s.label.opacity,offset:s.label.offset}))(P,e,c),$=new zre(G).exportVisual();$&&D.append($)}),D}exportVisual(){return this._render()}_setOptions(i){this.options=K({},this.options,i)}},{labels:{visible:!0,margin:{left:8,right:8},padding:0,border:{width:0},align:jn,opacity:1,offset:{left:0,top:0}},nodes:{width:24,padding:16,opacity:1,offset:{left:0,top:0}},links:{colorType:"static",opacity:.4,highlight:{opacity:.8,inactiveOpacity:.2}}});function nUt(s,i){let e=function tUt(s){const i=new NAe({skipBaseHref:!0}),e=s.clippedBBox();let n=s;if(e){const r=e.getOrigin(),a=new Vn;a.transform(Ui().translate(-r.x,-r.y)),a.children.push(s),n=a}i.load([n]);const o=`<?xml version='1.0' ?><svg xmlns='${qR}' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>${i.render()}</svg>`;return i.destroy(),o}(s);return(!i||!i.raw)&&(e="data:image/svg+xml;base64,"+function $ee(s){let i="",e=0;const n=function ngt(s){let i="";for(let e=0;e<s.length;e++){let n=s.charCodeAt(e);if(55296<=n&&n<=56319){const o=n,r=s.charCodeAt(++e);isNaN(r)||(n=1024*(o-55296)+(r-56320)+65536)}n<128?i+=Zu(n):n<2048?(i+=Zu(192|n>>>6),i+=Zu(128|63&n)):n<65536?(i+=Zu(224|n>>>12),i+=Zu(128|n>>>6&63),i+=Zu(128|63&n)):n<1114111&&(i+=Zu(240|n>>>18),i+=Zu(128|n>>>12&63),i+=Zu(128|n>>>6&63),i+=Zu(128|63&n))}return i}(s);for(;e<n.length;){let o=n.charCodeAt(e++),r=n.charCodeAt(e++),a=n.charCodeAt(e++),l=o>>2,c=(3&o)<<4|r>>4,u=(15&r)<<2|a>>6,f=63&a;isNaN(r)?u=f=64:isNaN(a)&&(f=64),i=i+l7.charAt(l)+l7.charAt(c)+l7.charAt(u)+l7.charAt(f)}return i}(e)),qw().resolve(e)}Object.assign({},{type:xg},{markers:{visible:!1},highlight:{visible:!1}});const iUt=["surface"],yNe={name:"@progress/kendo-angular-barcodes",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925027,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};let sUt=(()=>{class s{constructor(e,n,o){this.element=e,this.renderer=n,this.ngZone=o,this.resizeRateLimit=10,(0,mt.$)(yNe)}get autoResize(){return this.resizeRateLimit>0}get canRender(){return ne()&&!!this.element}ngAfterViewInit(){this.refresh()}ngOnChanges(e){e.renderAs&&this.instance&&(this.instance.destroy(),this.instance=null),this.refresh()}resize(){this.instance&&this.instance.redraw()}onResize(){this.autoResize&&this.resize()}exportImage(e={}){return function eUt(s,i){const e={width:"800px",height:"600px",cors:"Anonymous"};let n=s;const o=s.clippedBBox();if(o){const _=o.getOrigin();n=new Vn,n.transform(Ui().translate(-_.x,-_.y)),n.children.push(s);const g=o.getSize();e.width=g.width+"px",e.height=g.height+"px"}const r=Object.assign(e,i),a=document.createElement("div"),l=a.style;l.display="none",l.width=r.width,l.height=r.height,document.body.appendChild(a);const c=new zAe(a,r);c.suspendTracking(),c.draw(n);const u=c.image(),f=()=>{c.destroy(),document.body.removeChild(a)};return u.then(f,f),u}(this.exportVisual(),e)}exportSVG(e={}){return nUt(this.exportVisual(),e)}exportVisual(){return this.instance.exportVisual()}refresh(){this.canRender&&(this.instance?this.instance.setOptions(this.options):this.instance=this.createInstance(this.element.nativeElement,this.options))}isDevMode(){return(0,t.naY)()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.SKi))},s.\u0275dir=t.FsC({type:s,viewQuery:function(e,n){if(1&e&&t.GBs(iUt,7),2&e){let o;t.mGM(o=t.lsd())&&(n.surfaceElement=o.first)}},inputs:{resizeRateLimit:"resizeRateLimit"},features:[t.OA$]}),s})(),kNe=(()=>{class s extends sUt{constructor(e,n,o){super(e,n,o),this.element=e,this.renderer=n,this.ngZone=o,this.resizeRateLimit=10}get options(){return{background:this.background||"#fff",border:this.border,color:this.color||"#000",encoding:this.encoding,errorCorrection:this.errorCorrection||"L",overlay:this.overlay||{},padding:this.padding,renderAs:this.renderAs,size:this.size,value:this.value}}createInstance(e,n){return new aFt(e,n,this.onError.bind(this))}onError(e){if(e.name=yNe.productName+" QRCode",this.isDevMode())throw e;console.warn(e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.SKi))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-qrcode"]],inputs:{background:"background",border:"border",color:"color",encoding:"encoding",errorCorrection:"errorCorrection",overlay:"overlay",padding:"padding",renderAs:"renderAs",size:"size",value:"value",resizeRateLimit:"resizeRateLimit"},exportAs:["kendoQRCode"],features:[t.Vt3],decls:1,vars:1,consts:[[3,"resize","rateLimit"]],template:function(e,n){1&e&&(t.j41(0,"kendo-resize-sensor",0),t.bIt("resize",function(){return n.onResize()}),t.k0s()),2&e&&t.Y8G("rateLimit",n.resizeRateLimit)},dependencies:[Os],encapsulation:2,changeDetection:0}),s})(),lUt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Vr]]}),s})(),cUt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Vr]]}),s})(),dUt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[lUt,cUt]}),s})();const hUt=["customerModal"],pUt=["addressModal"];function fUt(s,i){1&s&&t.nrm(0,"div",6)}function mUt(s,i){if(1&s){const e=t.RV6();t.j41(0,"a",42),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(3);return t.Njj(r.downloadAttachment(o[0].name))}),t.EFF(1),t.k0s()}if(2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",e[0].name," ")}}function _Ut(s,i){if(1&s&&t.nrm(0,"img",43),2&s){const e=t.XpG(3);t.Y8G("src",e.pathImage+e.options.pictureFileName,t.B4B)}}function gUt(s,i){if(1&s&&t.nrm(0,"kendo-qrcode",44),2&s){const e=t.XpG(3);t.Y8G("value",e.qrCode)}}function vUt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",20),t.nrm(1,"hr"),t.j41(2,"div",19)(3,"label")(4,"strong"),t.EFF(5),t.k0s()()(),t.j41(6,"div",45)(7,"div",20)(8,"div",46)(9,"kendo-textbox",47),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(3);return t.DH7(r.options.qrCodePrefix,o)||(r.options.qrCodePrefix=o),t.Njj(o)}),t.k0s()(),t.j41(10,"div",48),t.EFF(11,"/"),t.k0s(),t.j41(12,"div",49)(13,"kendo-textbox",50),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(3);return t.DH7(r.options.qrCodeNumber,o)||(r.options.qrCodeNumber=o),t.Njj(o)}),t.k0s()()()(),t.j41(14,"div",51)(15,"div",20)(16,"div",25)(17,"kendo-formfield",22)(18,"label"),t.EFF(19,"Cliente"),t.k0s(),t.j41(20,"kendo-combobox",52),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(3);return t.DH7(r.options.customerId,o)||(r.options.customerId=o),t.Njj(o)}),t.bIt("valueChange",function(o){t.eBV(e);const r=t.XpG(3);return t.Njj(r.customerChanged(o))}),t.k0s(),t.j41(21,"button",53),t.bIt("click",function(){t.eBV(e);const o=t.XpG(3);return t.Njj(o.createCustomer())}),t.nrm(22,"i",54),t.k0s(),t.j41(23,"kendo-formerror"),t.EFF(24,"Cliente \xe8 il campo obbligatorio"),t.k0s()()(),t.j41(25,"div",25)(26,"kendo-formfield",22)(27,"label"),t.EFF(28,"Indirizzo"),t.k0s(),t.j41(29,"kendo-combobox",55),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(3);return t.DH7(r.options.addressId,o)||(r.options.addressId=o),t.Njj(o)}),t.k0s(),t.j41(30,"button",56),t.bIt("click",function(){t.eBV(e);const o=t.XpG(3);return t.Njj(o.createAddress())}),t.nrm(31,"i",54),t.k0s(),t.j41(32,"kendo-formerror"),t.EFF(33,"Indirizzo \xe8 il campo obbligatorio"),t.k0s()()()(),t.j41(34,"div",20)(35,"div",57)(36,"kendo-formfield",22)(37,"label",23),t.EFF(38,"Ubicazione"),t.k0s(),t.j41(39,"kendo-textbox",58),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(3);return t.DH7(r.options.location,o)||(r.options.location=o),t.Njj(o)}),t.k0s()()(),t.j41(40,"div",57)(41,"kendo-formfield",22)(42,"label",23),t.EFF(43,"Matricola"),t.k0s(),t.j41(44,"kendo-textbox",59),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(3);return t.DH7(r.options.serialNumber,o)||(r.options.serialNumber=o),t.Njj(o)}),t.k0s()()(),t.j41(45,"div",57)(46,"kendo-formfield",22)(47,"label",23),t.EFF(48,"Tipo"),t.k0s(),t.j41(49,"kendo-textbox",60),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(3);return t.DH7(r.options.reiType,o)||(r.options.reiType=o),t.Njj(o)}),t.k0s()()(),t.j41(50,"div",57)(51,"kendo-formfield",22)(52,"label",23),t.EFF(53,"Costruttore"),t.k0s(),t.j41(54,"kendo-textbox",61),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(3);return t.DH7(r.options.constructorName,o)||(r.options.constructorName=o),t.Njj(o)}),t.k0s()()()(),t.j41(55,"div",20)(56,"div",62)(57,"kendo-formfield",22)(58,"label",23),t.EFF(59,"Maniglia Antipanico"),t.k0s(),t.j41(60,"kendo-switch",63),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(3);return t.DH7(r.options.hasPushBar,o)||(r.options.hasPushBar=o),t.Njj(o)}),t.k0s()()(),t.j41(61,"div",62)(62,"kendo-formfield",22)(63,"label",23),t.EFF(64,"Manutenz. Mensile"),t.k0s(),t.j41(65,"kendo-switch",64),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(3);return t.DH7(r.options.monthlyMaintenance,o)||(r.options.monthlyMaintenance=o),t.Njj(o)}),t.k0s()()(),t.j41(66,"div",62)(67,"kendo-formfield",22)(68,"label",23),t.EFF(69,"Anno"),t.k0s(),t.j41(70,"kendo-numerictextbox",65),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(3);return t.DH7(r.options.year,o)||(r.options.year=o),t.Njj(o)}),t.k0s()()(),t.j41(71,"div",57)(72,"kendo-formfield",22)(73,"label",23),t.EFF(74,"Tipologia VOC"),t.k0s(),t.j41(75,"kendo-textbox",66),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(3);return t.DH7(r.options.vocType,o)||(r.options.vocType=o),t.Njj(o)}),t.k0s()()(),t.j41(76,"div",57)(77,"kendo-formfield",22)(78,"label",23),t.EFF(79,"Ante"),t.k0s(),t.j41(80,"kendo-numerictextbox",67),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(3);return t.DH7(r.options.numberOfDoors,o)||(r.options.numberOfDoors=o),t.Njj(o)}),t.k0s()()()()()()}if(2&s){const e=t.XpG(3);t.R7$(5),t.SpI("Dati Avanzati - ",e.qrCode,""),t.R7$(4),t.R50("ngModel",e.options.qrCodePrefix),t.Y8G("maxlength",10),t.R7$(4),t.R50("ngModel",e.options.qrCodeNumber),t.Y8G("maxlength",10),t.R7$(7),t.Y8G("data",e.customers),t.R50("ngModel",e.options.customerId),t.Y8G("valuePrimitive",!0),t.R7$(9),t.Y8G("data",e.customerSelezionato.addresses),t.R50("ngModel",e.options.addressId),t.Y8G("valuePrimitive",!0)("disabled",null==e.options.customerId),t.R7$(),t.Y8G("disabled",null==e.options.customerId),t.R7$(9),t.R50("ngModel",e.options.location),t.R7$(5),t.R50("ngModel",e.options.serialNumber),t.R7$(5),t.R50("ngModel",e.options.reiType),t.R7$(5),t.R50("ngModel",e.options.constructorName),t.R7$(6),t.R50("ngModel",e.options.hasPushBar),t.R7$(5),t.R50("ngModel",e.options.monthlyMaintenance),t.R7$(5),t.R50("ngModel",e.options.year),t.Y8G("decimals",0)("min",1950)("max",2099),t.R7$(5),t.R50("ngModel",e.options.vocType),t.R7$(5),t.R50("ngModel",e.options.numberOfDoors),t.Y8G("decimals",0)}}function SUt(s,i){if(1&s){const e=t.RV6();t.j41(0,"form",17,2),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.close())}),t.j41(2,"div",18)(3,"div",19)(4,"div",20)(5,"div",21)(6,"kendo-formfield",22)(7,"label",23),t.EFF(8,"Codice"),t.k0s(),t.j41(9,"kendo-textbox",24),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.code,o)||(r.options.code=o),t.Njj(o)}),t.k0s(),t.j41(10,"kendo-formerror"),t.EFF(11,"Codice \xe8 il campo obbligatorio"),t.k0s()()(),t.j41(12,"div",25)(13,"kendo-formfield",22)(14,"label",23),t.EFF(15,"Tipologia prodotto"),t.k0s(),t.j41(16,"kendo-combobox",26),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.productTypeId,o)||(r.options.productTypeId=o),t.Njj(o)}),t.bIt("valueChange",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.checkIfImpiantoIsPortaRei())}),t.k0s(),t.j41(17,"kendo-formerror"),t.EFF(18,"Tipologia prodotto \xe8 il campo obbligatorio"),t.k0s()()(),t.j41(19,"div",27)(20,"kendo-formfield",22)(21,"label",23),t.EFF(22,"Dismesso"),t.k0s(),t.j41(23,"kendo-switch",28),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.isDecommissioned,o)||(r.options.isDecommissioned=o),t.Njj(o)}),t.k0s()()()(),t.j41(24,"kendo-formfield",22)(25,"label",23),t.EFF(26,"Nome"),t.k0s(),t.j41(27,"kendo-textbox",29),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.name,o)||(r.options.name=o),t.Njj(o)}),t.k0s(),t.j41(28,"kendo-formerror"),t.EFF(29,"Nome \xe8 un campo obbligatorio"),t.k0s()(),t.j41(30,"kendo-formfield",22)(31,"label",23),t.EFF(32,"Descrizione"),t.k0s(),t.j41(33,"kendo-textarea",30),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.description,o)||(r.options.description=o),t.Njj(o)}),t.k0s(),t.j41(34,"kendo-formerror"),t.EFF(35,"Descrizione \xe8 il campo obbligatorio"),t.k0s()(),t.j41(36,"kendo-formfield",22)(37,"label",23),t.EFF(38,"Note"),t.k0s(),t.j41(39,"kendo-textarea",31),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.note,o)||(r.options.note=o),t.Njj(o)}),t.k0s(),t.j41(40,"kendo-formerror"),t.EFF(41,"Note \xe8 il campo obbligatorio"),t.k0s()(),t.j41(42,"kendo-formfield",22)(43,"label"),t.EFF(44),t.k0s(),t.j41(45,"kendo-upload",32),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.attachmentsFileInfo,o)||(r.attachmentsFileInfo=o),t.Njj(o)}),t.bIt("success",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.ImageExecutionSuccess(o))}),t.k0s(),t.nrm(46,"kendo-upload-messages",33),t.k0s(),t.j41(47,"kendo-formfield",22)(48,"label")(49,"strong"),t.EFF(50,"Documenti"),t.k0s()(),t.j41(51,"kendo-upload",34),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.documents,o)||(r.documents=o),t.Njj(o)}),t.bIt("success",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.DocumentExecutionSuccess(o))}),t.DNE(52,mUt,2,1,"ng-template",35),t.k0s(),t.nrm(53,"kendo-upload-messages",33),t.k0s()(),t.j41(54,"div",36),t.DNE(55,_Ut,1,1,"img",37)(56,gUt,1,1,"kendo-qrcode",38),t.k0s()(),t.DNE(57,vUt,81,26,"div",39),t.j41(58,"div",40)(59,"button",11),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.dismiss())}),t.nrm(60,"i",12),t.EFF(61," ANNULLA "),t.k0s(),t.j41(62,"button",41),t.nrm(63,"i",14),t.EFF(64," SALVA "),t.k0s()()()}if(2&s){const e=t.XpG(2);t.R7$(9),t.R50("ngModel",e.options.code),t.R7$(7),t.Y8G("data",e.productTypes),t.R50("ngModel",e.options.productTypeId),t.Y8G("valuePrimitive",!0),t.R7$(7),t.R50("ngModel",e.options.isDecommissioned),t.R7$(4),t.R50("ngModel",e.options.name),t.R7$(6),t.R50("ngModel",e.options.description),t.Y8G("rows",3),t.R7$(6),t.R50("ngModel",e.options.note),t.Y8G("rows",3),t.R7$(5),t.JRh(e.imageLabel),t.R7$(),t.R50("ngModel",e.attachmentsFileInfo),t.Y8G("saveUrl",e.uploadSaveUrl)("removeUrl",e.uploadRemoveUrl),t.R7$(6),t.R50("ngModel",e.documents),t.Y8G("saveUrl",e.uploadSaveUrl)("removeUrl",e.uploadRemoveUrl),t.R7$(4),t.Y8G("ngIf",null!=e.options.pictureFileName),t.R7$(),t.Y8G("ngIf",null!=e.qrCode&&e.isImpiantoPortaRei),t.R7$(),t.Y8G("ngIf",e.isImpiantoPortaRei)}}function CUt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",7)(1,"kendo-window",8),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",9),t.EFF(4," Prodotto "),t.k0s(),t.j41(5,"div",10)(6,"button",11),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",12),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",13),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",14),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",15),t.k0s(),t.DNE(13,SUt,65,20,"form",16),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("top",50),t.R7$(12),t.Y8G("ngIf",e.options)}}let bUt=(()=>{class s extends As{get qrCode(){return(this.options.qrCodePrefix??"")+(this.options.qrCodeNumber??"")}constructor(e,n,o,r){super(e),this._productsService=n,this._customerService=o,this._addressesService=r,this._baseUrl=`${At.baseApiUrl}/products`,this.uploadSaveUrl=`${this._baseUrl}/document/upload-file`,this.uploadRemoveUrl=`${this._baseUrl}/document/remove-file`,this.productTypes=[],this.customers=[],this.customerSelezionato=new To,this.documents=[],this.attachmentsUploads=[],this.isUploaded=[],this.pathImage=`${At.baseUrl}/attachments/`,this.isImpiantoPortaRei=!1,this.openedEvent.subscribe(a=>{this.loadData()})}_canClose(){return Xr(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid}_readProductTypes(){this._subscriptions.push(this._productsService.readProductTypes().pipe(x(e=>{this.productTypes=e,this.checkIfImpiantoIsPortaRei()})).subscribe())}_readCustomers(e=!1){this._subscriptions.push(this._customerService.getCustomersList().pipe(x(n=>{this.customers=n;const o=this.customers.find(r=>r.id===this.options.customerId);null!=o&&(this.customerSelezionato=o),e&&this.customerChanged(this.options.customerId)})).subscribe())}customerChanged(e){if(this.options.addressId=null,null==e)return void(this.customerSelezionato=new To);const n=this.customers.find(o=>o.id===e);null!=n&&(this.customerSelezionato=n)}createCustomer(){const e=new To;e.fiscalType=0,this._subscriptions.push(this.customerModal.open(e).pipe(z(n=>n),Y(()=>this._customerService.createCustomer(e)),x(n=>{this.options.customerId=n.id,this._messageBox.success(`Cliente ${e.name} creato`)}),x(()=>this._readCustomers(!0))).subscribe())}createAddress(){const e=new ds;e.customerId=this.options.customerId,this._subscriptions.push(this.addressModal.open(e).pipe(z(n=>n),x(()=>{this.addNewAddress(e)})).subscribe())}addNewAddress(e){this._subscriptions.push(this._addressesService.createAddress(e).pipe((0,U.T)(n=>n),x(n=>{this.options.addressId=n.id,e.id=n.id;const o=this.customers.find(r=>r.id===this.options.customerId);o?.addresses.push(e),this._messageBox.success("Indirizzo creato con successo")}),x(()=>{})).subscribe())}checkIfImpiantoIsPortaRei(){if(this.isImpiantoPortaRei=!1,null==this.options.productTypeId||null==this.options.productTypeId)return;const e=this.productTypes.find(n=>n.id===this.options.productTypeId);null!=e&&(this.isImpiantoPortaRei=e.isReiDoor)}ImageExecutionSuccess(e){const n=e.response.body;if(null!=n){const o=n;new fR(o.fileName,o.originalFileName),this.options.pictureFileName=o.fileName,this.isUploaded.push(!0)}else{const o=e.files[0].name,r=this.attachmentsUploads.findIndex(a=>a.originalFileName==o);r>-1&&(this.attachmentsUploads.splice(r,1),this.isUploaded.pop())}}downloadAttachment(e){const n=this.options.documents.find(r=>r.originalFileName===e);window.open(`${this._baseUrl}/product-document/download-file/${n.fileName}/${n.originalFileName}`)}DocumentExecutionSuccess(e){const n=e.response.body;if(null!=n){let o=new nse(0,this.options.id,n.originalFileName,n.fileName,this.options.name);this.options.documents.push(o)}else{const o=e.files[0].name;this.options.documents.findAndRemove(r=>r.originalFileName===o)}}loadData(){this.attachmentsFileInfo=null,null!=this.options?(this.imageLabel=null!=this.options.pictureFileName?"Cambia immagine":"Immagine",this.documents=[],null!=this.options.documents&&this.options.documents.forEach(e=>{null!=e.originalFileName&&null!=e.fileName&&this.documents.push({name:e.originalFileName})})):this.imageLabel="Immagine",this._readProductTypes(),this._readCustomers()}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(_t),t.rXU(SR),t.rXU(yl),t.rXU(lh))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-product-modal"]],viewQuery:function(n,o){if(1&n&&(t.GBs(hUt,7),t.GBs(pUt,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.customerModal=r.first),t.mGM(r=t.lsd())&&(o.addressModal=r.first)}},features:[t.Vt3],decls:6,vars:3,consts:[["customerModal",""],["addressModal",""],["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[3,"customer"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowCloseAction",""],["name","updateOperatorForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateOperatorForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row","riga-form"],[1,"col-md-8"],[1,"row"],[1,"col-md-5"],[1,"form-group"],[1,"custom-form-field-label"],["name","code","required","",3,"ngModelChange","ngModel"],[1,"col-md-6"],["name","productTypeId","suggest","true","textField","name","valueField","id","required","",3,"ngModelChange","valueChange","data","ngModel","valuePrimitive"],[1,"col-md-1"],["name","isDecommissioned","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],["name","name","required","",3,"ngModelChange","ngModel"],["name","description","required","",3,"ngModelChange","ngModel","rows"],["name","note",3,"ngModelChange","ngModel","rows"],["name","myUpload",3,"ngModelChange","success","ngModel","saveUrl","removeUrl"],["dropFilesHere"," "],["name","myUploadDoc",3,"ngModelChange","success","ngModel","saveUrl","removeUrl"],["kendoUploadFileInfoTemplate",""],[1,"col-md-4",2,"text-align","center"],["alt","","width","100%",3,"src",4,"ngIf"],["errorCorrection","M","encoding","UTF_8","style","max-width: 100px;",3,"value",4,"ngIf"],["class","row",4,"ngIf"],[1,"text-right","mt-5"],["type","submit",1,"btn","btn-primary"],[1,"pointer",3,"click"],["alt","","width","100%",3,"src"],["errorCorrection","M","encoding","UTF_8",2,"max-width","100px",3,"value"],[1,"col-md-4"],[1,"col-4"],["name","qrCodePrefix",3,"ngModelChange","ngModel","maxlength"],[1,"col-1"],[1,"col-7"],["name","qrCodeNumber",3,"ngModelChange","ngModel","maxlength"],[1,"col-12"],["name","customerId","suggest","true","textField","name","valueField","id","required","",1,"customer-combobox",3,"ngModelChange","valueChange","data","ngModel","valuePrimitive"],["type","button","title","Nuovo cliente",1,"btn","btn-primary","add-customer-button",3,"click"],[1,"fa","fa-plus"],["name","addressId","suggest","true","textField","fullAddress","valueField","id","required","",1,"customer-combobox",3,"ngModelChange","data","ngModel","valuePrimitive","disabled"],["type","button","title","Nuovo indirizzo",1,"btn","btn-primary","add-address-button",3,"click","disabled"],[1,"col-md-3"],["name","location",3,"ngModelChange","ngModel"],["name","serialNumber",3,"ngModelChange","ngModel"],["name","reiType",3,"ngModelChange","ngModel"],["name","constructorName",3,"ngModelChange","ngModel"],[1,"col-md-2"],["name","hasPushBar","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],["name","monthlyMaintenance","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],["name","year","format","0",3,"ngModelChange","ngModel","decimals","min","max"],["name","vocType",3,"ngModelChange","ngModel"],["name","numberOfDoors","format","0",3,"ngModelChange","ngModel","decimals"]],template:function(n,o){1&n&&(t.DNE(0,fUt,1,0,"div",3)(1,CUt,14,4,"div",4),t.nrm(2,"app-customer-modal",null,0)(4,"app-address-modal",5,1)),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened),t.R7$(3),t.Y8G("customer",o.customerSelezionato))},dependencies:[W,Fi,Un,Pi,ts,Vu,mi,Mi,ni,li,Wn,go,$c,ip,uQ,Jl,Xc,vr,Eg,yg,Cp,kNe,eu,gm],styles:[".custom-form-field-label[_ngcontent-%COMP%]{margin-top:10px}.qr-code-button[_ngcontent-%COMP%]{margin-top:15px}.qr-code-img[_ngcontent-%COMP%]{width:100%;margin-top:10px}"]})}return s})();const EUt=["qrcode"];function yUt(s,i){1&s&&t.nrm(0,"div",3)}function kUt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",4)(1,"kendo-window",5),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",6),t.EFF(4," QR Code "),t.k0s(),t.nrm(5,"button",7),t.k0s(),t.j41(6,"div",8)(7,"div",9)(8,"p")(9,"strong"),t.EFF(10),t.k0s(),t.EFF(11),t.k0s(),t.j41(12,"p"),t.EFF(13),t.k0s(),t.j41(14,"p"),t.EFF(15,"QR Code: "),t.j41(16,"strong"),t.EFF(17),t.k0s()()()(),t.j41(18,"div",8)(19,"div",10),t.nrm(20,"kendo-qrcode",11,0),t.j41(22,"button",12),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.exportQRCode())}),t.EFF(23," Esporta Immagine "),t.k0s()()(),t.j41(24,"div",13)(25,"button",14),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.EFF(26," CHIUDI "),t.k0s()()()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("width",300)("top",50),t.R7$(9),t.JRh(e.options.code),t.R7$(),t.SpI(" - ",e.options.name,""),t.R7$(2),t.JRh(e.options.description),t.R7$(4),t.JRh(e.options.qrCode),t.R7$(3),t.Y8G("value",e.options.qrCode)}}let wUt=(()=>{class s extends mb{_canClose(){return!0}exportQRCode(){this.qrcode.exportImage().then(e=>{Kd(e,this.options.qrCode+".png")})}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(s)))(o||s)}})();static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-product-qr-code-modal"]],viewQuery:function(n,o){if(1&n&&t.GBs(EUt,5),2&n){let r;t.mGM(r=t.lsd())&&(o.qrcode=r.first)}},features:[t.Vt3],decls:2,vars:2,consts:[["qrcode",""],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","width","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],[1,"row"],[1,"col-12"],[1,"col-12",2,"text-align","center"],["errorCorrection","M","encoding","UTF_8",3,"value"],["type","button",1,"btn","btn-primary",3,"click"],[1,"text-right","mt-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"]],template:function(n,o){1&n&&t.DNE(0,yUt,1,0,"div",1)(1,kUt,27,9,"div",2),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[W,ni,li,Wn,kNe]})}return s})();const DUt=["productModal"],OUt=["productQrCodeModal"];function TUt(s,i){if(1&s&&t.nrm(0,"img",20),2&s){const e=t.XpG().$implicit,n=t.XpG();t.Y8G("src",n.pathImage+e.pictureFileName,t.B4B)}}function MUt(s,i){1&s&&t.DNE(0,TUt,1,1,"img",19),2&s&&t.Y8G("ngIf",null!=i.$implicit.pictureFileName)}function IUt(s,i){if(1&s&&(t.j41(0,"span",21),t.EFF(1),t.nI1(2,"bool"),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.JRh(t.bMT(2,1,e.isDecommissioned))}}function xUt(s,i){if(1&s&&(t.EFF(0),t.nI1(1,"bool")),2&s){const e=t.XpG().$implicit;t.SpI(" ",t.bMT(1,1,e.isDecommissioned)," ")}}function AUt(s,i){1&s&&t.DNE(0,IUt,3,3,"span",21)(1,xUt,2,3),2&s&&t.vxM(0,i.$implicit.isDecommissioned?0:1)}function RUt(s,i){if(1&s&&(t.j41(0,"strong"),t.EFF(1),t.nI1(2,"bool"),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.JRh(t.bMT(2,1,e.monthlyMaintenance))}}function NUt(s,i){if(1&s&&(t.EFF(0),t.nI1(1,"bool")),2&s){const e=t.XpG().$implicit;t.SpI(" ",t.bMT(1,1,e.monthlyMaintenance)," ")}}function LUt(s,i){1&s&&t.DNE(0,RUt,3,3,"strong")(1,NUt,2,3),2&s&&t.vxM(0,i.$implicit.monthlyMaintenance?0:1)}function GUt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",27),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,r=t.XpG();return t.Njj(r.viewQrCodeProduct(o))}),t.nrm(1,"i",28),t.k0s()}}function PUt(s,i){if(1&s){const e=t.RV6();t.DNE(0,GUt,2,0,"button",22),t.j41(1,"button",23),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.editProduct(o.id))}),t.nrm(2,"i",24),t.k0s(),t.j41(3,"button",25),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.deleteProduct(o.id))}),t.nrm(4,"i",26),t.k0s()}2&s&&t.Y8G("ngIf","0000"!=i.$implicit.qrCode)}let FUt=(()=>{class s extends It{constructor(e,n){super(),this._productsService=e,this._messageBox=n,this.pathImage=`${At.baseUrl}/attachments/`,this.stateGridProducts={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[]},this.productSelezionato=new dV}ngOnInit(){this._readProducts(),this.updateScreenSize()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}dataStateChange(e){this.stateGridProducts=e,this._readProducts()}_readProducts(){this._subscriptions.push(this._productsService.readProducts(this.stateGridProducts).pipe(x(e=>{this.products=e})).subscribe())}createProduct(){this.productModal.loadData();const e=new dV;this._subscriptions.push(this.productModal.open(e).pipe(z(n=>n),Y(()=>this._productsService.createProduct(e)),x(n=>{this._messageBox.success("Prodotto creato")}),x(()=>this._readProducts())).subscribe())}editProduct(e){this._subscriptions.push(this._productsService.getProductDetail(e).pipe((0,U.T)(n=>Object.assign(new dV,n)),Y(n=>this.productModal.open(n)),z(n=>n),(0,U.T)(()=>this.productModal.options),Y(n=>this._productsService.updateProduct(n,e)),(0,U.T)(()=>this.productModal.options),x(n=>this._messageBox.success("Prodotto aggiornato")),x(()=>this._readProducts())).subscribe())}deleteProduct(e){this._messageBox.confirm(`Sei sicuro di voler cancellare prodotto "${e.description}"?`,"Conferma l'azione").subscribe(n=>{1==n&&this._subscriptions.push(this._productsService.deleteProduct(e.id).pipe(x(o=>this._messageBox.success(`Prodotto "${e.description}" cancellato con successo`)),x(()=>this._readProducts())).subscribe())})}viewQrCodeProduct(e){this._subscriptions.push(this.productQrCodeModal.open(e).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(SR),t.rXU(_t))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-products"]],viewQuery:function(n,o){if(1&n&&(t.GBs(DUt,7),t.GBs(OUt,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.productModal=r.first),t.mGM(r=t.lsd())&&(o.productQrCodeModal=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},features:[t.Vt3],decls:27,vars:15,consts:[["productModal",""],["productQrCodeModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","productType","title","Tipologia impianto"],["field","code","title","Codice"],["field","name","title","Nome"],["field","pictureFileName","title","Immagine"],["kendoGridCellTemplate",""],["field","description","title","Descrizione"],["field","serialNumber","title","Matricola"],["field","isDecommissioned","title","Dismesso",3,"width"],["field","monthlyMaintenance","title","Man. Mens.",3,"width"],["field","id","title"," ",3,"sortable","filterable","width"],["alt","","width","100px",3,"src",4,"ngIf"],["alt","","width","100px",3,"src"],[1,"job-alert"],["class","btn btn-primary btn-sm grid-action-button","title","Visualizza QR",3,"click",4,"ngIf"],["title","Modifica",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["title","Elimina",1,"btn","btn-danger","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-trash"],["title","Visualizza QR",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-qrcode"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"h4"),t.EFF(3,"Prodotti"),t.k0s()(),t.j41(4,"div",4)(5,"button",5),t.bIt("click",function(){return t.eBV(r),t.Njj(o.createProduct())}),t.nrm(6,"i",6),t.EFF(7," NUOVO "),t.k0s()()(),t.j41(8,"div",7)(9,"kendo-grid",8),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))}),t.nrm(10,"kendo-grid-column",9)(11,"kendo-grid-column",10)(12,"kendo-grid-column",11),t.j41(13,"kendo-grid-column",12),t.DNE(14,MUt,1,1,"ng-template",13),t.k0s(),t.nrm(15,"kendo-grid-column",14)(16,"kendo-grid-column",15),t.j41(17,"kendo-grid-column",16),t.DNE(18,AUt,2,1,"ng-template",13),t.k0s(),t.j41(19,"kendo-grid-column",17),t.DNE(20,LUt,2,1,"ng-template",13),t.k0s(),t.j41(21,"kendo-grid-column",18),t.DNE(22,PUt,5,1,"ng-template",13),t.k0s()()(),t.nrm(23,"app-product-modal",null,0)(25,"app-product-qr-code-modal",null,1)}2&n&&(t.R7$(9),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.products)("pageSize",o.stateGridProducts.take)("skip",o.stateGridProducts.skip)("sort",o.stateGridProducts.sort)("filter",o.stateGridProducts.filter)("group",o.stateGridProducts.group)("sortable",!0)("pageable",!0),t.R7$(8),t.Y8G("width",1),t.R7$(2),t.Y8G("width",1),t.R7$(2),t.Y8G("sortable",!1)("filterable",!1)("width",130))},dependencies:[W,Nn,yn,qn,bUt,wUt,gp]})}return s})();function UUt(s,i){1&s&&t.nrm(0,"div",3)}function BUt(s,i){if(1&s){const e=t.RV6();t.j41(0,"form",14,0),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.close())}),t.j41(2,"div",15)(3,"div",16)(4,"kendo-formfield",17)(5,"label"),t.EFF(6,"Nome"),t.k0s(),t.j41(7,"kendo-textbox",18),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.name,o)||(r.options.name=o),t.Njj(o)}),t.k0s(),t.j41(8,"kendo-formerror"),t.EFF(9,"Nome \xe8 un campo obbligatorio"),t.k0s()()(),t.j41(10,"div",16)(11,"kendo-formfield",17)(12,"label"),t.EFF(13,"Colore"),t.k0s(),t.j41(14,"kendo-colorpicker",19),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.colorHex,o)||(r.options.colorHex=o),t.Njj(o)}),t.k0s(),t.j41(15,"kendo-formerror"),t.EFF(16,"Colore \xe8 il campo obbligatorio"),t.k0s()()()(),t.j41(17,"div",15)(18,"div",20)(19,"label"),t.EFF(20,"Immagine obbligatoria"),t.k0s(),t.j41(21,"div",17)(22,"kendo-switch",21),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.pictureRequired,o)||(r.options.pictureRequired=o),t.Njj(o)}),t.k0s(),t.nrm(23,"div",22),t.k0s()(),t.j41(24,"div",20)(25,"label"),t.EFF(26,"Attivit\xe0 Interna"),t.k0s(),t.j41(27,"div",17)(28,"kendo-switch",23),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.isInternal,o)||(r.options.isInternal=o),t.Njj(o)}),t.k0s(),t.nrm(29,"div",22),t.k0s()(),t.j41(30,"div",20)(31,"label"),t.EFF(32,"Attivit\xe0 Fornitore"),t.k0s(),t.j41(33,"div",17)(34,"kendo-switch",24),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.isExternal,o)||(r.options.isExternal=o),t.Njj(o)}),t.k0s(),t.nrm(35,"div",22),t.k0s()()(),t.j41(36,"div",15)(37,"div",20)(38,"label"),t.EFF(39,"Influenza stato commessa"),t.k0s(),t.j41(40,"div",17)(41,"kendo-switch",25),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.influenceJobStatus,o)||(r.options.influenceJobStatus=o),t.Njj(o)}),t.k0s(),t.nrm(42,"div",22),t.k0s()(),t.j41(43,"div",20)(44,"label"),t.EFF(45,"Visibile in Ordini d'acquisto"),t.k0s(),t.j41(46,"div",17)(47,"kendo-switch",26),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.viewInPurchaseOrder,o)||(r.options.viewInPurchaseOrder=o),t.Njj(o)}),t.k0s(),t.nrm(48,"div",22),t.k0s()(),t.j41(49,"div",20)(50,"label"),t.EFF(51,"Pu\xf2 avere dipendenze"),t.k0s(),t.j41(52,"div",17)(53,"kendo-switch",27),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.hasDependencies,o)||(r.options.hasDependencies=o),t.Njj(o)}),t.k0s(),t.nrm(54,"div",22),t.k0s()()(),t.j41(55,"div",15)(56,"div",20)(57,"label"),t.EFF(58,'Etichetta Stato "In attesa"'),t.k0s(),t.j41(59,"div",17)(60,"kendo-textbox",28),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.statusLabel0,o)||(r.options.statusLabel0=o),t.Njj(o)}),t.k0s(),t.nrm(61,"div",22),t.k0s()(),t.j41(62,"div",20)(63,"label"),t.EFF(64,'Etichetta Stato "In corso"'),t.k0s(),t.j41(65,"div",17)(66,"kendo-textbox",29),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.statusLabel1,o)||(r.options.statusLabel1=o),t.Njj(o)}),t.k0s(),t.nrm(67,"div",22),t.k0s()(),t.j41(68,"div",20)(69,"label"),t.EFF(70,'Etichetta Stato "Pronto"'),t.k0s(),t.j41(71,"div",17)(72,"kendo-textbox",30),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.statusLabel2,o)||(r.options.statusLabel2=o),t.Njj(o)}),t.k0s(),t.nrm(73,"div",22),t.k0s()(),t.j41(74,"div",20)(75,"label"),t.EFF(76,'Etichetta Stato "Completata"'),t.k0s(),t.j41(77,"div",17)(78,"kendo-textbox",31),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.statusLabel3,o)||(r.options.statusLabel3=o),t.Njj(o)}),t.k0s(),t.nrm(79,"div",22),t.k0s()()(),t.j41(80,"div",32)(81,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.dismiss())}),t.nrm(82,"i",9),t.EFF(83," ANNULLA "),t.k0s(),t.j41(84,"button",33),t.nrm(85,"i",11),t.EFF(86," SALVA "),t.k0s()()()}if(2&s){const e=t.sdS(1),n=t.XpG(2);t.R7$(7),t.R50("ngModel",n.options.name),t.R7$(7),t.R50("ngModel",n.options.colorHex),t.R7$(8),t.R50("ngModel",n.options.pictureRequired),t.R7$(),t.Y8G("control",e.controls.pictureRequired),t.R7$(5),t.R50("ngModel",n.options.isInternal),t.R7$(),t.Y8G("control",e.controls.isInternal),t.R7$(5),t.R50("ngModel",n.options.isExternal),t.R7$(),t.Y8G("control",e.controls.isExternal),t.R7$(6),t.R50("ngModel",n.options.influenceJobStatus),t.R7$(),t.Y8G("control",e.controls.influenceJobStatus),t.R7$(5),t.R50("ngModel",n.options.viewInPurchaseOrder),t.R7$(),t.Y8G("control",e.controls.viewInPurchaseOrder),t.R7$(5),t.R50("ngModel",n.options.hasDependencies),t.R7$(),t.Y8G("control",e.controls.hasDependencies),t.R7$(6),t.R50("ngModel",n.options.statusLabel0),t.R7$(),t.Y8G("control",e.controls.statusLabel0),t.R7$(5),t.R50("ngModel",n.options.statusLabel1),t.R7$(),t.Y8G("control",e.controls.statusLabel1),t.R7$(5),t.R50("ngModel",n.options.statusLabel2),t.R7$(),t.Y8G("control",e.controls.statusLabel2),t.R7$(5),t.R50("ngModel",n.options.statusLabel3),t.R7$(),t.Y8G("control",e.controls.statusLabel3)}}function VUt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",4)(1,"kendo-window",5),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",6),t.EFF(4," Tipologia Attivit\xe0 "),t.k0s(),t.j41(5,"div",7)(6,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",9),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",11),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",12),t.k0s(),t.DNE(13,BUt,87,22,"form",13),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("top",100),t.R7$(12),t.Y8G("ngIf",e.options)}}let zUt=(()=>{class s extends As{constructor(e){super(e),this.role=Pt,this.activityType=new uc,this.options=new uc,this.options.pictureRequired=!1}_canClose(){return Xr(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid??!1}loadData(){}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(_t))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-activityType-modal"]],inputs:{activityType:"activityType"},features:[t.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowCloseAction",""],["name","updateActivityTypeForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateActivityTypeForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row","riga-form"],[1,"col-md-6"],[1,"form-group"],["name","name","required","",3,"ngModelChange","ngModel"],["name","colorHex","format","hex","required","",3,"ngModelChange","ngModel"],[1,"col-md-3"],["name","pictureRequired","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],[1,"validation-message",3,"control"],["name","isInternal","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],["name","isExternal","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],["name","influenceJobStatus","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],["name","viewInPurchaseOrder","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],["name","hasDependencies","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],["name","statusLabel0","required","",3,"ngModelChange","ngModel"],["name","statusLabel1","required","",3,"ngModelChange","ngModel"],["name","statusLabel2","required","",3,"ngModelChange","ngModel"],["name","statusLabel3","required","",3,"ngModelChange","ngModel"],[1,"text-right","mt-5"],["type","submit",1,"btn","btn-primary"]],template:function(n,o){1&n&&t.DNE(0,UUt,1,0,"div",1)(1,VUt,14,4,"div",2),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[W,Fi,Un,Pi,ts,mi,Mi,ni,li,Wn,ip,Jl,Lv,Xc,vr,cr]})}return s})();const jUt=["activityTypeModal"];function HUt(s,i){1&s&&(t.EFF(0),t.nI1(1,"bool")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit.pictureRequired)," ")}function $Ut(s,i){1&s&&(t.EFF(0),t.nI1(1,"bool")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit.isInternal)," ")}function XUt(s,i){1&s&&(t.EFF(0),t.nI1(1,"bool")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit.isExternal)," ")}function WUt(s,i){1&s&&(t.EFF(0),t.nI1(1,"bool")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit.influenceJobStatus)," ")}function YUt(s,i){1&s&&(t.EFF(0),t.nI1(1,"bool")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit.viewInPurchaseOrder)," ")}function KUt(s,i){1&s&&(t.EFF(0),t.nI1(1,"bool")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit.hasDependencies)," ")}function JUt(s,i){1&s&&t.nrm(0,"div",18),2&s&&t.xc7("background-color",i.$implicit.colorHex)}function qUt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",19),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.editActivityType(o))}),t.nrm(1,"i",20),t.k0s(),t.j41(2,"button",21),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.deleteActivityType(o))}),t.nrm(3,"i",22),t.k0s()}}let QUt=(()=>{class s extends It{constructor(e,n,o){super(),this._activityTypesService=e,this._messageBox=n,this._router=o,this.stateGridActivityTypes={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[]},this.activityType=new uc}ngOnInit(){this._readActivityTypes(),this.updateScreenSize()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}dataStateChange(e){this.stateGridActivityTypes=e,this._readActivityTypes()}_readActivityTypes(){this._subscriptions.push(this._activityTypesService.readActivityTypes(this.stateGridActivityTypes).pipe(x(e=>{this.dataActivityTypes=e})).subscribe())}createActivityType(){const e=new uc;this._subscriptions.push(this.activityTypeModal.open(e).pipe(z(n=>n),Y(()=>this._activityTypesService.createActivityType(e)),x(n=>{this._messageBox.success(`Tipo ${e.name} creato`)}),x(()=>this._readActivityTypes())).subscribe())}editActivityType(e){this._subscriptions.push(this._activityTypesService.getActivityTypeDetail(e.id).pipe((0,U.T)(n=>Object.assign(new uc,n)),Y(n=>this.activityTypeModal.open(n)),z(n=>n),(0,U.T)(()=>this.activityTypeModal.options),Y(n=>this._activityTypesService.updateActivityType(n,n.id)),(0,U.T)(()=>this.activityTypeModal.options),x(n=>this._messageBox.success(`Tipo ${e.name} aggiornato`)),x(()=>this._readActivityTypes())).subscribe())}deleteActivityType(e){this._messageBox.info("Eliminazione elemento non attiva")}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Sp),t.rXU(_t),t.rXU(Qi))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-activityTypes"]],viewQuery:function(n,o){if(1&n&&t.GBs(jUt,7),2&n){let r;t.mGM(r=t.lsd())&&(o.activityTypeModal=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},inputs:{activityType:"activityType"},features:[t.Vt3],decls:29,vars:13,consts:[["activityTypeModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","name","title","Nome"],["field","pictureRequired","title","Immagine Obbligatoria"],["kendoGridCellTemplate",""],["field","isInternal","title","Attivit\xe0 interna"],["field","isExternal","title","Attivit\xe0 fornitore"],["field","influenceJobStatus","title","Influenza stato commesse"],["field","viewInPurchaseOrder","title","Visibile in Ordini Acq"],["field","hasDependencies","title","Pu\xf2 avere dipendenze"],["field","colorHex","title","Colore"],["field","id","title"," ",3,"sortable","filterable","width"],[1,"operator-color-in-grid"],["title","Modifica",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["title","Elimina",1,"btn","btn-danger","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-trash"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h4"),t.EFF(3,"Tipologie Attivit\xe0"),t.k0s()(),t.j41(4,"div",3)(5,"button",4),t.bIt("click",function(){return t.eBV(r),t.Njj(o.createActivityType())}),t.nrm(6,"i",5),t.EFF(7," NUOVO "),t.k0s()()(),t.j41(8,"div",6)(9,"kendo-grid",7),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))}),t.nrm(10,"kendo-grid-column",8),t.j41(11,"kendo-grid-column",9),t.DNE(12,HUt,2,3,"ng-template",10),t.k0s(),t.j41(13,"kendo-grid-column",11),t.DNE(14,$Ut,2,3,"ng-template",10),t.k0s(),t.j41(15,"kendo-grid-column",12),t.DNE(16,XUt,2,3,"ng-template",10),t.k0s(),t.j41(17,"kendo-grid-column",13),t.DNE(18,WUt,2,3,"ng-template",10),t.k0s(),t.j41(19,"kendo-grid-column",14),t.DNE(20,YUt,2,3,"ng-template",10),t.k0s(),t.j41(21,"kendo-grid-column",15),t.DNE(22,KUt,2,3,"ng-template",10),t.k0s(),t.j41(23,"kendo-grid-column",16),t.DNE(24,JUt,1,2,"ng-template",10),t.k0s(),t.j41(25,"kendo-grid-column",17),t.DNE(26,qUt,4,0,"ng-template",10),t.k0s()()(),t.nrm(27,"app-activityType-modal",null,0)}2&n&&(t.R7$(9),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.dataActivityTypes)("pageSize",o.stateGridActivityTypes.take)("skip",o.stateGridActivityTypes.skip)("sort",o.stateGridActivityTypes.sort)("filter",o.stateGridActivityTypes.filter)("group",o.stateGridActivityTypes.group)("sortable",!0)("pageable",!0),t.R7$(16),t.Y8G("sortable",!1)("filterable",!1)("width",95))},dependencies:[Nn,yn,qn,zUt,gp],styles:[".operator-color-in-grid[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:5px}"]})}return s})();function ZUt(s,i){1&s&&t.nrm(0,"div",3)}function e7t(s,i){if(1&s){const e=t.RV6();t.j41(0,"form",14,0),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.close())}),t.j41(2,"div",15)(3,"div",16)(4,"kendo-formfield",17)(5,"label"),t.EFF(6,"Codice"),t.k0s(),t.j41(7,"kendo-textbox",18),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.code,o)||(r.options.code=o),t.Njj(o)}),t.k0s(),t.j41(8,"kendo-formerror"),t.EFF(9,"Codice \xe8 un campo obbligatorio"),t.k0s()()(),t.j41(10,"div",16)(11,"kendo-formfield",17)(12,"label"),t.EFF(13,"Nome"),t.k0s(),t.j41(14,"kendo-textbox",19),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.name,o)||(r.options.name=o),t.Njj(o)}),t.k0s(),t.j41(15,"kendo-formerror"),t.EFF(16,"Nome \xe8 un campo obbligatorio"),t.k0s()()(),t.j41(17,"div",20)(18,"kendo-formfield",17)(19,"label"),t.EFF(20,"Descrizione"),t.k0s(),t.j41(21,"kendo-textbox",21),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.description,o)||(r.options.description=o),t.Njj(o)}),t.k0s()()(),t.j41(22,"div",16)(23,"label"),t.EFF(24,"Gestione QR Code"),t.k0s(),t.j41(25,"div",17)(26,"kendo-switch",22),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.isReiDoor,o)||(r.options.isReiDoor=o),t.Njj(o)}),t.k0s(),t.nrm(27,"div",23),t.k0s()(),t.j41(28,"div",16)(29,"label"),t.EFF(30,"Prodotto d'acquisto"),t.k0s(),t.j41(31,"div",17)(32,"kendo-switch",24),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.isSparePart,o)||(r.options.isSparePart=o),t.Njj(o)}),t.k0s(),t.nrm(33,"div",23),t.k0s()(),t.j41(34,"div",16)(35,"kendo-formfield",17)(36,"label"),t.EFF(37,"Colore"),t.k0s(),t.j41(38,"kendo-colorpicker",25),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.colorHex,o)||(r.options.colorHex=o),t.Njj(o)}),t.k0s(),t.j41(39,"kendo-formerror"),t.EFF(40,"Colore \xe8 il campo obbligatorio"),t.k0s()()()(),t.j41(41,"div",26)(42,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.dismiss())}),t.nrm(43,"i",9),t.EFF(44," ANNULLA "),t.k0s(),t.j41(45,"button",27),t.nrm(46,"i",11),t.EFF(47," SALVA "),t.k0s()()()}if(2&s){const e=t.sdS(1),n=t.XpG(2);t.R7$(7),t.R50("ngModel",n.options.code),t.R7$(7),t.R50("ngModel",n.options.name),t.R7$(7),t.R50("ngModel",n.options.description),t.R7$(5),t.R50("ngModel",n.options.isReiDoor),t.R7$(),t.Y8G("control",e.controls.isReiDoor),t.R7$(5),t.R50("ngModel",n.options.isSparePart),t.R7$(),t.Y8G("control",e.controls.isSparePart),t.R7$(5),t.R50("ngModel",n.options.colorHex)}}function t7t(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",4)(1,"kendo-window",5),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",6),t.EFF(4," Tipo Prodotto "),t.k0s(),t.j41(5,"div",7)(6,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",9),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",11),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",12),t.k0s(),t.DNE(13,e7t,48,8,"form",13),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("top",100),t.R7$(12),t.Y8G("ngIf",e.options)}}let n7t=(()=>{class s extends As{constructor(e){super(e),this.role=Pt,this.productType=new tu}_canClose(){return Xr(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid??!1}loadData(){}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(_t))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-productType-modal"]],inputs:{productType:"productType"},features:[t.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowCloseAction",""],["name","updateActivityTypeForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateActivityTypeForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row","riga-form"],[1,"col-md-4"],[1,"form-group"],["name","code","required","",3,"ngModelChange","ngModel"],["name","name","required","",3,"ngModelChange","ngModel"],[1,"col-md-12"],["name","description",3,"ngModelChange","ngModel"],["name","isReiDoor","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],[1,"validation-message",3,"control"],["name","isSparePart","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],["name","colorHex","format","hex","required","",3,"ngModelChange","ngModel"],[1,"text-right","mt-5"],["type","submit",1,"btn","btn-primary"]],template:function(n,o){1&n&&t.DNE(0,ZUt,1,0,"div",1)(1,t7t,14,4,"div",2),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[W,Fi,Un,Pi,ts,mi,Mi,ni,li,Wn,ip,Jl,Lv,Xc,vr,cr]})}return s})();const i7t=["productTypeModal"];function s7t(s,i){1&s&&(t.EFF(0),t.nI1(1,"bool")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit.isReiDoor)," ")}function o7t(s,i){1&s&&(t.EFF(0),t.nI1(1,"bool")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit.isSparePart)," ")}function r7t(s,i){1&s&&t.nrm(0,"div",16),2&s&&t.xc7("background-color",i.$implicit.colorHex)}function a7t(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",17),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.editProductType(o))}),t.nrm(1,"i",18),t.k0s(),t.j41(2,"button",19),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.deleteProductType(o))}),t.nrm(3,"i",20),t.k0s()}}let l7t=(()=>{class s extends It{constructor(e,n,o){super(),this._productTypesService=e,this._messageBox=n,this._router=o,this.stateGridProductTypes={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[]},this.productType=new tu}ngOnInit(){this._readProductTypes(),this.updateScreenSize()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}dataStateChange(e){this.stateGridProductTypes=e,this._readProductTypes()}_readProductTypes(){this._subscriptions.push(this._productTypesService.readProductTypes(this.stateGridProductTypes).pipe(x(e=>{this.dataProductTypes=e})).subscribe())}createProductType(){const e=new tu;this._subscriptions.push(this.productTypeModal.open(e).pipe(z(n=>n),Y(()=>this._productTypesService.createProductType(e)),x(n=>{this._messageBox.success(`Tipo ${e.name} creato`)}),x(()=>this._readProductTypes())).subscribe())}editProductType(e){this._subscriptions.push(this._productTypesService.getProductTypeDetail(e.id).pipe((0,U.T)(n=>Object.assign(new tu,n)),Y(n=>this.productTypeModal.open(n)),z(n=>n),(0,U.T)(()=>this.productTypeModal.options),Y(n=>this._productTypesService.updateProductType(n,n.id)),(0,U.T)(()=>this.productTypeModal.options),x(n=>this._messageBox.success(`Tipo ${e.name} aggiornato`)),x(()=>this._readProductTypes())).subscribe())}deleteProductType(e){this._messageBox.info("Eliminazione elemento non attiva")}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(vR),t.rXU(_t),t.rXU(Qi))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-producttypes"]],viewQuery:function(n,o){if(1&n&&t.GBs(i7t,7),2&n){let r;t.mGM(r=t.lsd())&&(o.productTypeModal=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},inputs:{productType:"productType"},features:[t.Vt3],decls:23,vars:13,consts:[["productTypeModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","code","title","Codice"],["field","name","title","Nome"],["field","description","title","Descrizione"],["field","isReiDoor","title","QR Code"],["kendoGridCellTemplate",""],["field","isSparePart","title","Prodotto d'acquisto"],["field","colorHex","title","Colore"],["field","id","title"," ",3,"sortable","filterable","width"],[1,"operator-color-in-grid"],["title","Modifica",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["title","Elimina",1,"btn","btn-danger","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-trash"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h4"),t.EFF(3,"Tipi Prodotto"),t.k0s()(),t.j41(4,"div",3)(5,"button",4),t.bIt("click",function(){return t.eBV(r),t.Njj(o.createProductType())}),t.nrm(6,"i",5),t.EFF(7," NUOVO "),t.k0s()()(),t.j41(8,"div",6)(9,"kendo-grid",7),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))}),t.nrm(10,"kendo-grid-column",8)(11,"kendo-grid-column",9)(12,"kendo-grid-column",10),t.j41(13,"kendo-grid-column",11),t.DNE(14,s7t,2,3,"ng-template",12),t.k0s(),t.j41(15,"kendo-grid-column",13),t.DNE(16,o7t,2,3,"ng-template",12),t.k0s(),t.j41(17,"kendo-grid-column",14),t.DNE(18,r7t,1,2,"ng-template",12),t.k0s(),t.j41(19,"kendo-grid-column",15),t.DNE(20,a7t,4,0,"ng-template",12),t.k0s()()(),t.nrm(21,"app-productType-modal",null,0)}2&n&&(t.R7$(9),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.dataProductTypes)("pageSize",o.stateGridProductTypes.take)("skip",o.stateGridProductTypes.skip)("sort",o.stateGridProductTypes.sort)("filter",o.stateGridProductTypes.filter)("group",o.stateGridProductTypes.group)("sortable",!0)("pageable",!0),t.R7$(10),t.Y8G("sortable",!1)("filterable",!1)("width",95))},dependencies:[Nn,yn,qn,n7t,gp],styles:[".operator-color-in-grid[_ngcontent-%COMP%]{width:25px;height:25px;border-radius:5px}"]})}return s})();class m4{constructor(i,e,n,o){this.id=i,this.displayName=e,this.fileName=n,this.jobId=o}static build(i){return new m4(i.id,i.displayName,i.fileName,i.jobId)}get isImage(){return!!(this.fileName.endsWith(".jpg")||this.fileName.endsWith(".png")||this.fileName.endsWith(".jpeg")||this.fileName.endsWith(".gif"))}}var fn=function(s){return s[s.Pending=0]="Pending",s[s.InProgress=1]="InProgress",s[s.Completed=2]="Completed",s[s.Billing=3]="Billing",s[s.Billed=4]="Billed",s[s.Suspended=5]="Suspended",s}(fn||{});const gO={[fn.Pending]:"ATTIVA",[fn.InProgress]:"IN CORSO",[fn.Completed]:"COMPLETATA",[fn.Billing]:"DA FATTURARE",[fn.Billed]:"FATTURATA",[fn.Suspended]:"SOSPESA"};class Dm{get code(){return`${this.number?this.number.toString().padStart(3,"0"):0}/${this.year}`}constructor(i,e,n,o,r,a,l,c,u,f,_,g,S,b,k,D,O){this.id=i,this.number=e,this.year=n,this.description=l,this.reference=c,this.hasHighPriority=u,this.status=f,this.customerId=_,this.addressId=g,this.referentId=S,this.sharepointFolder=b,this.sharepointFolderName=k,this.attachments=D,this.messages=O,this.date=o?new Date(o):null,this.expirationDate=r?new Date(r):null,this.mandatoryDate=a?new Date(a):null}static build(i,e){const n=i.attachments.map(r=>m4.build(r)),o=i.messages.map(r=>oh.build(r,e));return new Dm(i.id,i.number,i.year,i.date,i.expirationDate,i.mandatoryDate,i.description,i.reference,i.hasHighPriority,i.status,i.customerId,i.addressId,i.referentId,i.sharepointFolder,i.sharepointFolderName,n,o)}}class Yre{constructor(i,e,n,o,r,a,l){this.originalId=i,this.description=n,this.reference=o,this.customerId=r,this.addressId=a,this.referentId=l,this.date=e?new Date(e):null}static build(i){return new Yre(i.originalId,i.date,i.description,i.reference,i.customerId,i.addressId,i.referentId)}}function c7t(s,i){1&s&&t.nrm(0,"div",2)}function d7t(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",3)(1,"kendo-window",4),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.mxI("stateChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.windowState,o)||(r.windowState=o),t.Njj(o)}),t.j41(2,"kendo-window-titlebar")(3,"div",5),t.EFF(4," \xa0 "),t.k0s(),t.nrm(5,"button",6)(6,"button",7)(7,"button",8)(8,"button",9),t.k0s(),t.j41(9,"div",10)(10,"div",11)(11,"button",12),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.prev())}),t.EFF(12,"Precedente"),t.k0s(),t.j41(13,"button",13),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.next())}),t.EFF(14,"Successivo"),t.k0s()()(),t.j41(15,"div",10),t.EFF(16,"\xa0"),t.k0s(),t.j41(17,"div",10),t.nrm(18,"img",14),t.k0s()()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!0)("draggable",!0)("top",30),t.R50("state",e.windowState),t.R7$(17),t.Y8G("src",e.options.images[e.currentIndex],t.B4B)("alt",e.options.images[e.currentIndex])}}let _4=(()=>{class s extends mb{open(e){return this.currentIndex=e.selectedImage,super.open(e)}_canClose(){return!0}next(){this.currentIndex=(this.currentIndex+1)%this.options.images.length}prev(){this.currentIndex=(this.currentIndex-1+this.options.images.length)%this.options.images.length}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(s)))(o||s)}})();static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-gallery-modal"]],features:[t.Vt3],decls:2,vars:2,consts:[["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","stateChange","resizable","draggable","top","state"],[1,"k-window-title"],["kendoWindowMinimizeAction",""],["kendoWindowRestoreAction",""],["kendoWindowMaximizeAction",""],["kendoWindowCloseAction",""],[1,"row"],[1,"col-12"],["type","button",1,"btn","btn-secondary",2,"float","left",3,"click"],["type","button",1,"btn","btn-secondary",2,"float","right",3,"click"],[1,"imageGallery",3,"src","alt"]],template:function(n,o){1&n&&t.DNE(0,c7t,1,0,"div",0)(1,d7t,19,6,"div",1),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[W,ni,li,Ld,Gd,Pd,Wn],styles:[".img-fluid[_ngcontent-%COMP%]{max-width:100%;height:auto}"]})}return s})();class g4{constructor(i,e){this.images=i,this.selectedImage=e}}class u7t{constructor(i,e){this.fileName=i,this.originalFileName=e}}let dr=(()=>{class s{constructor(e,n){this._http=e,this._userService=n,this._baseUrl=`${At.baseApiUrl}/jobs`}read(e){return Ta(this._http,e,`${this._baseUrl}/read`)}readCurrentJobs(e){return Ta(this._http,e,`${this._baseUrl}/readcurrentjobs`)}readArchivedJobs(e){return Ta(this._http,e,`${this._baseUrl}/readarchivedjobs`)}get(e){return this._http.get(`${this._baseUrl}/${e}`).pipe((0,U.T)(n=>Dm.build(n,this._userService.getUser().operatorId)))}getTicketJob(e,n,o){return this._http.get(`${this._baseUrl}/getTicketJob/${e}/${n}/${o}`).pipe((0,U.T)(r=>Dm.build(r,this._userService.getUser().operatorId)))}create(e){return this._http.post(this._baseUrl,e).pipe((0,U.T)(n=>Dm.build(n,this._userService.getUser().operatorId)))}update(e){return this._http.put(`${this._baseUrl}/${e.id}`,e).pipe((0,U.T)(n=>Dm.build(n,this._userService.getUser().operatorId)))}copyJob(e){return this._http.post(`${this._baseUrl}/copyJob`,e)}delete(e){return this._http.delete(`${this._baseUrl}/${e}`).pipe((0,U.T)(()=>{}))}createJobAttachment(e){return this._http.post(`${this._baseUrl}/create-attachment`,e).pipe()}updateJobAttachment(e,n){return this._http.put(`${this._baseUrl}/update-attachment/${n}`,e).pipe()}getJobAttachments(e){return this._http.get(`${this._baseUrl}/${e}/all-attachments`).pipe((0,U.T)(n=>n.map(o=>m4.build(o))))}uploadJobAttachmentFile(e){const n=new FormData;n.append(e.name,e);const o=new hl("POST",`${this._baseUrl}/job-attachment/upload-file`,n,{reportProgress:!1});return this._http.request(o).pipe(z(r=>r.type===Gr.Response),(0,U.T)(r=>r.body),(0,U.T)(r=>new u7t(r.fileName,r.originalFileName)))}getJobsProgressStatus(e){return Ta(this._http,e,`${this._baseUrl}/get-jobs-progress-status`)}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(js),t.KVO(Ci))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();function h7t(s,i){}function p7t(s,i){if(1&s&&(t.qex(0),t.DNE(1,h7t,0,0,"ng-template",1),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",e.template)}}function f7t(s,i){}function m7t(s,i){if(1&s&&(t.qex(0),t.DNE(1,f7t,0,0,"ng-template",1),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",e.template)}}const wNe=["overflowButton"],Xb=["popupTemplate"],_7t=["resizeSensor"],g7t=["container"],v7t=["toolbarRenderer"],S7t=["overflowRenderer"];function C7t(s,i){if(1&s){const e=t.RV6();t.qex(0),t.j41(1,"kendo-toolbar-renderer",10,2),t.bIt("rendererClick",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onRendererClick(o))}),t.k0s(),t.bVm()}if(2&s){const e=i.$implicit,n=t.XpG();t.R7$(),t.Y8G("location","toolbar")("resizable",n.overflow)("tool",e)}}function b7t(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",11,3),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.showPopup())}),t.k0s()}if(2&s){const e=t.XpG();t.xc7("visibility","hidden")("position","relative")("margin-inline-start","auto"),t.Y8G("svgIcon",e.moreVerticalIcon)("title",e.moreToolsTitle)("id",e.overflowBtnId)("ngClass",e.overflowClass),t.BMQ("aria-label",e.moreToolsTitle)("aria-expanded",e.popupOpen)}}function E7t(s,i){if(1&s){const e=t.RV6();t.qex(0),t.j41(1,"kendo-toolbar-renderer",10,4),t.bIt("rendererClick",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.onRendererClick(o))}),t.k0s(),t.bVm()}if(2&s){const e=i.$implicit,n=t.XpG(2);t.R7$(),t.Y8G("location","overflow")("resizable",n.overflow)("tool",e)}}function y7t(s,i){if(1&s&&(t.j41(0,"div",12),t.DNE(1,E7t,3,3,"ng-container",7),t.k0s()),2&s){const e=t.XpG();t.Y8G("id",e.popupId),t.BMQ("aria-labelledby",e.overflowBtnId),t.R7$(),t.Y8G("ngForOf",e.allTools)}}function k7t(s,i){1&s&&t.nrm(0,"kendo-resize-sensor",null,5)}const vO=["toolbarTemplate"],w7t=["toolbarButton"];function D7t(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",4,2),t.bIt("click",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.click.emit(o))})("pointerdown",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.pointerdown.emit(o))})("selectedChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.selectedChangeHandler(o))})("blur",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onBlur())}),t.EFF(2),t.k0s()}if(2&s){const e=t.XpG();t.HbH(e.toolbarButtonClass),t.Y8G("tabindex",e.tabIndex)("ngStyle",e.style)("ngClass",e.className)("disabled",e.disabled)("toggleable",e.toggleable)("fillMode",e.fillMode)("themeColor",e.fillMode?e.themeColor:null)("selected",e.selected)("icon",e.toolbarOptions.icon)("iconClass",e.toolbarOptions.iconClass)("svgIcon",e.toolbarOptions.svgIcon)("imageUrl",e.toolbarOptions.imageUrl),t.BMQ("title",e.title),t.R7$(2),t.SpI(" ",e.toolbarOptions.text," ")}}function O7t(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",9),2&s){const e=t.XpG(2);t.Y8G("name",e.overflowOptions.icon)("customFontClass",e.overflowOptions.iconClass)("svgIcon",e.overflowOptions.svgIcon)}}function T7t(s,i){if(1&s&&(t.j41(0,"span",10),t.EFF(1),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.JRh(e.overflowOptions.text)}}function M7t(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",5,3),t.bIt("click",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleClick(o))}),t.j41(2,"span",6),t.DNE(3,O7t,1,3,"kendo-icon-wrapper",7)(4,T7t,2,1,"span",8),t.k0s()()}if(2&s){const e=t.XpG();t.AVh("k-disabled",e.disabled),t.Y8G("ngClass",e.className)("ngStyle",e.style),t.R7$(2),t.AVh("k-selected",e.selected),t.R7$(),t.Y8G("ngIf",e.overflowOptions.icon||e.overflowOptions.iconClass||e.overflowOptions.svgIcon),t.R7$(),t.Y8G("ngIf",e.overflowOptions.text)}}const I7t=["toolbarButtonGroup"],Kre=["listItem"];function x7t(s,i){if(1&s){const e=t.RV6();t.j41(0,"span",6),t.bIt("click",function(o){const r=t.eBV(e).$implicit,a=t.XpG(2);return r.click.emit(o),t.Njj(a.onButtonClick(o))})("pointerdown",function(o){const r=t.eBV(e).$implicit;return t.Njj(r.pointerdown.emit(o))})("selectedChange",function(o){const r=t.eBV(e).$implicit,a=t.XpG(2);return t.Njj(a.selectedChangeHandler(o,r))}),t.EFF(1),t.k0s()}if(2&s){const e=i.$implicit;t.Y8G("ngStyle",e.style)("ngClass",e.className)("disabled",e.disabled)("togglable",e.togglable)("selected",e.selected)("fillMode",e.fillMode)("themeColor",e.fillMode?e.themeColor:null)("icon",e.toolbarOptions.icon)("iconClass",e.toolbarOptions.iconClass)("svgIcon",e.toolbarOptions.svgIcon)("imageUrl",e.toolbarOptions.imageUrl),t.BMQ("title",e.title)("aria-pressed",!!e.selected),t.R7$(),t.SpI(" ",e.toolbarOptions.text," ")}}function A7t(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-buttongroup",4,2),t.bIt("navigate",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onNavigate(o))})("focus",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onFocus())}),t.DNE(2,x7t,2,14,"span",5),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("tabIndex",-1)("selection",e.selection)("disabled",e.disabled)("width",e.width),t.R7$(2),t.Y8G("ngForOf",e.buttonComponents)}}function R7t(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",12),2&s){const e=t.XpG().$implicit;t.Y8G("name",e.overflowOptions.icon)("customFontClass",e.overflowOptions.iconClass)("svgIcon",e.overflowOptions.svgIcon)}}function N7t(s,i){if(1&s&&(t.j41(0,"span",13),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.JRh(e.overflowOptions.text)}}function L7t(s,i){if(1&s){const e=t.RV6();t.qex(0),t.j41(1,"div",8,3),t.bIt("click",function(o){const r=t.eBV(e).$implicit,a=t.XpG(2);return t.Njj(a.handleClick(o,r))}),t.j41(3,"span",9),t.DNE(4,R7t,1,3,"kendo-icon-wrapper",10)(5,N7t,2,1,"span",11),t.k0s()(),t.bVm()}if(2&s){const e=i.$implicit,n=t.XpG(2);t.R7$(),t.AVh("k-disabled",n.disabled||e.disabled),t.Y8G("ngStyle",e.style)("ngClass",e.className),t.R7$(2),t.AVh("k-selected",e.selected),t.R7$(),t.Y8G("ngIf",e.overflowOptions.icon||e.overflowOptions.iconClass||e.overflowOptions.svgIcon),t.R7$(),t.Y8G("ngIf",e.overflowOptions.text)}}function G7t(s,i){if(1&s&&t.DNE(0,L7t,6,8,"ng-container",7),2&s){const e=t.XpG();t.Y8G("ngForOf",e.buttonComponents)}}const aBt={name:"@progress/kendo-angular-toolbar",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925211,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};let Jre=(()=>{class s{constructor(){this.onRefresh=new t.bkB}refresh(e){this.onRefresh.emit(e)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const lBt=/^(?:a|input|select|textarea|button|object)$/i,ONe=(s,i)=>{for(;s&&!i(s);)s=s.parentNode;return s},z9=(s,i,e=!0)=>{if(s){if(e&&i(s))return s;for(s=s.firstChild;s;){if(1===s.nodeType){const n=z9(s,i);if(n)return n}s=s.nextSibling}}},qre=(s,i=!0)=>{if(s.tagName){const e=s.tagName.toLowerCase();let o=null!==s.getAttribute("tabIndex");return lBt.test(e)&&(o=!s.disabled),o&&(!i||(s=>{const i=s.getBoundingClientRect();return(i.width>0&&i.height>0||0!==i.x&&0!==i.y)&&"hidden"!==window.getComputedStyle(s).visibility})(s))}return!1},TNe=(s,i=!0,e)=>{let n=e?s.prevSibling:s.nextSibling;for(;n;){if(1===n.nodeType){const o=z9(n,r=>qre(r,i));if(o)return o}n=e?n.prevSibling:n.nextSibling}},j9=s=>null!=s,Io=(s,i,e)=>{switch(i){case"toolbar":return e?void 0:s;case"overflow":return e?s:void 0;default:return s}},sae={small:"sm",medium:"md",large:"lg"};let MNe=(()=>{class s{constructor(e){this.zone=e,this.focused={renderedTool:null,index:-1},this.renderedTools=[],this.isPopupFocused=!1,this.isOverflowButtonFocused=!1}setRenderedTools(e){this.renderedTools=[...e]}click({context:e,event:n}){this.focused.renderedTool!==e&&n&&this.focus(e,n)}moveFocusToToolBar(){this.isPopupFocused=!1,this.focusOverflowButton()}moveFocusToPopup(){this.isPopupFocused=!0,this.blurOverflowButton(),this.focus()}focusNext(e){if(this.isOverflowButtonFocused){const n=this.getFocusableTools()[0];this.focus(n,e)}else if(!this.isOverflowButtonFocused&&this.focused.renderedTool&&!this.focused.renderedTool.tool.handleKey(e)){const n=this.getFocusableTools().slice(this.focused.index+1)[0];if(n)this.focus(n,e);else if(this.isOverflowButtonVisible()&&!this.isPopupFocused)this.focusOverflowButton();else{const o=this.getFocusableTools()[0];this.focus(o,e)}}}focusPrev(e){if(this.isOverflowButtonFocused){const n=this.getFocusableTools().reverse()[0];this.focus(n,e)}else if(!this.isOverflowButtonFocused&&this.focused.renderedTool&&!this.focused.renderedTool.tool.handleKey(e)){const n=this.getFocusableTools().slice(0,this.focused.index).reverse()[0];if(n)this.focus(n,e);else if(this.isOverflowButtonVisible()&&!this.isPopupFocused)this.focusOverflowButton();else{const o=this.getFocusableTools().reverse()[0];this.focus(o,e)}}}resetNavigation(){this.blurOverflowButton(),this.focused.renderedTool=null,this.focused.index=-1}focusFirst(e){const n=this.getFocusableTools()[0],o=this.overflowButton;n?(this.focused.renderedTool=n,this.focused.index=this.getFocusableTools().findIndex(r=>r===n),this.focus(n,e)):o&&o.nativeElement.focus()}focusLast(e){const n=this.getFocusableTools().reverse()[0],o=this.overflowButton;n?(this.focused.renderedTool=n,this.focused.index=this.getFocusableTools().findIndex(r=>r===n),this.focus(n,e)):o&&o.nativeElement.focus()}getFocusableTools(){return this.renderedTools.filter(e=>e.tool.overflows===this.isPopupFocused&&e.tool.canFocus())}focus(e,n){this.zone.onStable.pipe(Ye(1)).subscribe(()=>{if(e)e.tool.canFocus&&e.tool.canFocus()&&(this.focused.renderedTool=e,this.focused.index=this.getFocusableTools().findIndex(o=>o===e),e.tool.focus(n),this.blurOverflowButton());else{const o=this.getFocusableTools(),r=o.find(a=>a===this.focused.renderedTool)||o[0];r&&(this.focused.renderedTool=r,this.focused.index=this.getFocusableTools().findIndex(a=>a===r),r.tool.focus(n))}})}blurOverflowButton(){this.overflowButton&&(this.isOverflowButtonFocused=!1,this.overflowButton.nativeElement.tabIndex=-1)}focusOverflowButton(){this.isOverflowButtonFocused=!0,this.overflowButton.nativeElement.tabIndex=0,this.overflowButton.nativeElement.focus()}isOverflowButtonVisible(){return j9(this.overflowButton)&&"visible"===window.getComputedStyle(this.overflowButton.nativeElement).getPropertyValue("visibility")}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(t.SKi))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),xo=(()=>{class s{constructor(){this.tabIndex=-1,this.overflows=!0,this.responsive=!0}get toolbarDisplay(){return this.overflows?"none":"inline-block"}get overflowDisplay(){return this.overflows?"block":"none"}canFocus(){return!1}focus(e){}handleKey(e){return!1}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.VBU({type:s,selectors:[["toolbar-tool"]],inputs:{responsive:"responsive"},decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})();class INe{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}let xNe=(()=>{class s{getElement(){return this.element.nativeElement}querySelector(e){return this.element.nativeElement.querySelector(e)}querySelectorAll(e){return this.element.nativeElement.querySelectorAll(e)}findFocusable(){return((s,i=!0)=>z9(this.element.nativeElement,e=>qre(e,i)))(0,!1)}findFocusableChild(e){return e||(e=this.findFocusable()),((s,i=!0)=>z9(s,e=>qre(e,i),!1))(e,!1)}findNextFocusableSibling(e){return e||(e=this.findFocusable()),TNe(e,!1)}findPrevFocusableSibling(e){return e||(e=this.findFocusable()),TNe(e,!1,!0)}setAttribute(e,n,o){this.renderer.setAttribute(e,n,o)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),ANe=(()=>{class s{constructor(e,n,o,r){this.element=e,this.renderer=n,this.rendererService=o,this.refreshService=r,this.rendererClick=new t.bkB,this.hostClass=!0,this.rendererService.element=e,this.rendererService.renderer=this,this.refreshSubscription=this.refreshService.onRefresh.subscribe(a=>{this.tool===a&&this.refresh()})}get spacerClass(){return"toolbar"===this.location&&this.isSpacer}get isSpacer(){return this.tool&&this.tool.__isSpacer}onClick(e){this.rendererClick.emit({context:this,event:e})}ngOnInit(){this.resizable?"toolbar"===this.location?(this.template=this.tool.toolbarTemplate,this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.renderer.setStyle(this.element.nativeElement,"display","none")):(this.template=this.tool.popupTemplate,this.renderer.setStyle(this.element.nativeElement,"display","none")):(this.tool.overflows=!1,this.template=this.tool.toolbarTemplate,this.renderer.setStyle(this.element.nativeElement,"visibility","visible"),this.renderer.setStyle(this.element.nativeElement,"display","inline-block"))}ngOnDestroy(){this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.resizable&&this.refresh()}get width(){return this.isSpacer?18:this.tool.overflows?0:function cBt(s){let i=s.offsetWidth;const e=getComputedStyle(s);return i+=parseFloat(e.marginLeft)||0+parseFloat(e.marginRight)||0,i}(this.element.nativeElement)}isDisplayed(){return"none"!==this.element.nativeElement.style.display}refresh(){this.resizable&&("toolbar"===this.location?(this.renderer.setStyle(this.element.nativeElement,"visibility",this.tool.visibility),this.renderer.setStyle(this.element.nativeElement,"display",this.tool.toolbarDisplay)):this.renderer.setStyle(this.element.nativeElement,"display",this.tool.overflowDisplay))}setAttribute(e,n,o){this.renderer.setAttribute(e,n,o)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(xNe),t.rXU(Jre))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-toolbar-renderer"]],hostVars:4,hostBindings:function(e,n){1&e&&t.bIt("click",function(r){return n.onClick(r)}),2&e&&t.AVh("k-spacer",n.spacerClass)("k-toolbar-renderer",n.hostClass)},inputs:{tool:"tool",location:"location",resizable:"resizable"},outputs:{rendererClick:"rendererClick"},exportAs:["kendoToolBarRenderer"],features:[t.Jv_([xNe])],decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(e,n){1&e&&t.DNE(0,p7t,2,1,"ng-container",0)(1,m7t,2,1,"ng-container",0),2&e&&(t.Y8G("ngIf","toolbar"===n.location),t.R7$(),t.Y8G("ngIf","overflow"===n.location&&n.tool.responsive))},dependencies:[W,Je],encapsulation:2}),s})(),H9=(()=>{class s extends Gi{}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275dir=t.FsC({type:s,selectors:[["kendo-toolbar-messages-base"]],inputs:{moreToolsTitle:"moreToolsTitle"},features:[t.Vt3]}),s})(),RNe=(()=>{class s extends H9{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoToolbarLocalizedMessages",""]],features:[t.Jv_([{provide:H9,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})();const LNe=s=>({animate:!0,anchorAlign:{horizontal:s?"left":"right",vertical:"bottom"},popupAlign:{horizontal:s?"left":"right",vertical:"top"}});let vh=(()=>{class s{constructor(e,n,o,r,a,l,c,u){this.localization=e,this.popupService=n,this.refreshService=o,this.navigationService=r,this.element=a,this.zone=l,this.renderer=c,this._cdr=u,this.overflow=!1,this.tabindex=0,this.open=new t.bkB,this.close=new t.bkB,this.hostClass=!0,this.cancelRenderedToolsSubscription$=new Xe.B,this._size="medium",this.overflowButtonClickedTime=null,this.subscriptions=new be.yU,this.popupSubs=new be.yU,this.role="toolbar",this.moreVerticalIcon=Nk,this.overflowBtnId=rn(),this.popupId=rn(),(0,mt.$)(aBt),this.direction=e.rtl?"rtl":"ltr"}get overflowClass(){return`k-button-${sae[this.size]}`}set resizable(e){this.overflow=e}get resizable(){return this.overflow}set popupSettings(e){this._popupSettings=Object.assign({},LNe(this.localization.rtl),e)}get popupSettings(){return this._popupSettings||LNe(this.localization.rtl)}set size(e){const n=e||"medium";this.handleClasses(n,"size"),this._size=n}get size(){return this._size}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}set popupOpen(e){if(this.popupOpen===e)return;const n=new INe;e?this.open.emit(n):this.close.emit(n),!n.isDefaultPrevented()&&this.toggle(e)}get popupOpen(){return this._open}onFocus(e){this.navigationService.resetNavigation(),this.navigationService.focusFirst(e),this.element.nativeElement.setAttribute("tabindex","-1")}onFocusOut(e){ONe(e.relatedTarget,n=>n===this.element.nativeElement)?this.element.nativeElement.setAttribute("tabindex","-1"):this.element.nativeElement.setAttribute("tabindex",this.tabindex.toString())}get getDir(){return this.direction}get resizableClass(){return this.overflow}ngAfterViewInit(){this.element.nativeElement.getAttribute("tabindex")||this.element.nativeElement.setAttribute("tabindex","0"),this.zone.runOutsideAngular(()=>{this.toolbarKeydownListener=this.renderer.listen(this.element.nativeElement,"keydown",n=>{switch(n.keyCode){case F.ArrowLeft:this.zone.run(()=>{n.preventDefault(),"ltr"===this.direction?this.navigationService.focusPrev(n):this.navigationService.focusNext(n),this.element.nativeElement.setAttribute("tabindex","-1")});break;case F.ArrowRight:this.zone.run(()=>{n.preventDefault(),"ltr"===this.direction?this.navigationService.focusNext(n):this.navigationService.focusPrev(n),this.element.nativeElement.setAttribute("tabindex","-1")});break;case F.Tab:this.zone.run(()=>this.navigationService.resetNavigation());break;case F.Escape:this.zone.run(()=>this.toggle(!1));break;case F.Home:this.zone.run(()=>this.navigationService.focusFirst(n));break;case F.End:this.zone.run(()=>this.navigationService.focusLast(n))}})}),this.overflow&&(this.subscriptions.add(Ht(this.resizeSensor.resize,this.renderedTools.changes).subscribe(()=>this.onResize())),this.navigationService.overflowButton=this.overflowButton,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.onResize()})})})),this.navigationService.setRenderedTools(this.renderedTools.toArray()),this.subscriptions.add(this.renderedTools.changes.subscribe(n=>this.navigationService.setRenderedTools(n.toArray()))),this.handleClasses(this.size,"size")}ngOnInit(){this.subscriptions.add(this.localization.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr")),this.zone.onStable.pipe(Ye(1)).subscribe(()=>this.onResize()),ne()&&this.zone.runOutsideAngular(()=>this.subscriptions.add(wt(document,"click").pipe(z(()=>!!this.popupRef),z(e=>!this.popupRef.popup.instance.container.nativeElement.contains(e.target)),z(e=>!this.overflowButton.nativeElement.contains(e.target))).subscribe(()=>{this.zone.run(()=>{this.popupOpen=!1})})))}ngOnChanges(e){e.tabindex&&this.element.nativeElement.setAttribute("tabindex",e.tabindex.currentValue.toString())}ngOnDestroy(){this.destroyPopup(),this.toolbarKeydownListener&&this.toolbarKeydownListener(),this.cancelRenderedToolsSubscription$.next(),this.subscriptions.unsubscribe()}get moreToolsTitle(){return this.localization.get("moreToolsTitle")}get cdr(){return this._cdr}onRendererClick(e){this.navigationService.click(e),this.element.nativeElement.setAttribute("tabindex","-1")}showPopup(){this.popupOpen=!this.popupOpen,this.navigationService.click({context:void 0,event:void 0}),this.overflowButtonClickedTime=Date.now()}toggle(e){this._open=void 0!==e?e:!this.popupOpen,this.popupRef&&(this.popupRef.close(),this.popupRef=null),this.popupOpen&&(this.popupRef=this.popupService.open({anchor:this.overflowButton,anchorAlign:this.popupSettings.anchorAlign,popupAlign:this.popupSettings.popupAlign,content:this.popupTemplate,appendTo:this.appendTo,animate:this.popupSettings.animate,popupClass:this.normalizePopupClasses(this.popupSettings.popupClass),positionMode:"absolute"}),this.setPopupContentDimensions(),this.popupSubs.add(this.popupRef.popupOpen.subscribe(this.onPopupOpen.bind(this))),this.popupSubs.add(this.popupRef.popupClose.subscribe(this.onPopupClose.bind(this))))}onResize(){if(ne()){const e=function dBt(s){let i=s.offsetWidth;const e=getComputedStyle(s);return i-=parseFloat(e.paddingLeft)||0+parseFloat(e.borderLeftWidth)||0,i-=parseFloat(e.paddingRight)||0+parseFloat(e.borderRightWidth)||0,i}(this.element.nativeElement)-this.overflowAnchorWidth;this.shrink(e,this.childrenWidth),this.stretch(e,this.childrenWidth),this.displayAnchor(),this.resizeSensor?.acceptSize();const n=Date.now()-this.overflowButtonClickedTime<300;this.popupOpen&&!n&&this.toggle()}}onPopupOpen(){this.zone.runOutsideAngular(()=>{this.overflowKeydownListener=this.renderer.listen(this.popupRef.popupElement,"keydown",e=>{const n=this.overflowRenderedTools.toArray().find(o=>ONe(e.target,r=>r===o.element.nativeElement));switch(e.keyCode){case F.ArrowUp:this.zone.run(()=>{e.preventDefault(),this.navigationService.focusPrev(e)});break;case F.ArrowDown:this.zone.run(()=>{e.preventDefault(),this.navigationService.focusNext(e)});break;case F.Escape:this.zone.run(()=>this.toggle(!1));const o=new INe;this.close.emit(o);break;case F.Tab:this.zone.run(()=>{this.toggle(!1),this.navigationService.resetNavigation()});break;case F.Enter:case F.Space:this.zone.run(()=>{n&&(e.preventDefault(),e.target.click(),e.target.focus())})}})}),this.cancelRenderedToolsSubscription$.next(),this.navigationService.moveFocusToPopup(),this.navigationService.setRenderedTools(this.overflowRenderedTools.toArray()),this.overflowRenderedTools.changes.pipe(zs(this.cancelRenderedToolsSubscription$)).subscribe(e=>this.navigationService.setRenderedTools(e.toArray())),this.renderer.setAttribute(this.overflowButton.nativeElement,"aria-controls",this.popupId)}onPopupClose(){this.cancelRenderedToolsSubscription$.next(),this.navigationService.setRenderedTools(this.renderedTools.toArray()),this.renderedTools.changes.pipe(zs(this.cancelRenderedToolsSubscription$)).subscribe(e=>this.navigationService.setRenderedTools(e.toArray())),this.navigationService.moveFocusToToolBar(),this.overflowKeydownListener&&this.overflowKeydownListener(),this.renderer.removeAttribute(this.overflowButton.nativeElement,"aria-controls")}displayAnchor(){const e=this.allTools.filter(n=>n.overflows&&n.responsive).length>0?"visible":"hidden";this.overflowButton&&this.renderer.setStyle(this.overflowButton.nativeElement,"visibility",e)}get popupWidth(){return this.popupSettings&&this.popupSettings.width?isNaN(this.popupSettings.width)?this.popupSettings.width:`${this.popupSettings.width}px`:"auto"}get popupHeight(){if(this.popupSettings&&this.popupSettings.height)return isNaN(this.popupSettings.height)?this.popupSettings.height:`${this.popupSettings.height}px`}get overflowAnchorWidth(){return this.overflow?(this.cachedOverflowAnchorWidth||(this.cachedOverflowAnchorWidth=this.overflowButton.nativeElement.offsetWidth),this.cachedOverflowAnchorWidth):0}get gap(){if(j9(this.cachedGap))return this.cachedGap;const e=getComputedStyle(this.element.nativeElement).gap;return this.cachedGap=j9(e)?parseInt(e,10):0,this.cachedGap}get childrenWidth(){const e=this.renderedTools.reduce((n,o)=>o.width+n+(o.isDisplayed()?this.gap:0),0);return Math.ceil(e)}get visibleTools(){return this.allTools.filter(e=>!1===e.overflows)}get overflowTools(){return this.allTools.filter(e=>!0===e.overflows)}shrink(e,n){let o;if(e<n)for(let r=this.visibleTools.length-1;r>=0&&!(e>n);r--)o=this.hideLastVisibleTool(),n-=o}stretch(e,n){let o;if(e>n)for(let r=this.overflowTools.length-1;r>=0&&(o=this.showFirstHiddenTool(e,n),o);r--)n+=o+this.gap}hideLastVisibleTool(){const e=this.visibleTools[this.visibleTools.length-1],o=this.renderedTools.find(r=>r.tool===e).width;return e.overflows=!0,this.refreshService.refresh(e),o}showFirstHiddenTool(e,n){const o=this.overflowTools[0],r=this.renderedTools.find(a=>a.tool===o);return o.overflows=!1,o.visibility="hidden",this.refreshService.refresh(o),e>n+r.width?(o.visibility="visible",this.refreshService.refresh(o)):(o.overflows=!0,this.refreshService.refresh(o)),r.width}setPopupContentDimensions(){const e=this.popupRef.popup.instance.contentContainer.nativeElement;e.style.width=this.popupWidth,e.style.height=this.popupHeight,e.style.overflow="auto"}destroyPopup(){this.popupRef&&(this.popupSubs.unsubscribe(),this.popupRef.close(),this.popupRef=null)}handleClasses(e,n){const o=this.element.nativeElement,r=((s,i,e,n)=>{if("size"===i)return{toRemove:`k-${s}-${sae[e]}`,toAdd:"none"!==n?`k-${s}-${sae[n]}`:""}})("toolbar",n,this[n],e);r.toRemove&&this.renderer.removeClass(o,r.toRemove),r.toAdd&&this.renderer.addClass(o,r.toAdd)}normalizePopupClasses(e){let n=["k-menu-popup","k-toolbar-popup"];if(!e)return n;if("string"==typeof e)n.push(...e.split(" "));else if(Array.isArray(e))n=[...n,...e];else for(const o in e)n.push(e[o]);return n}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j),t.rXU(es),t.rXU(Jre),t.rXU(MNe),t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(t.gRc))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-toolbar"]],contentQueries:function(e,n,o){if(1&e&&t.wni(o,xo,4),2&e){let r;t.mGM(r=t.lsd())&&(n.allTools=r)}},viewQuery:function(e,n){if(1&e&&(t.GBs(wNe,5,t.aKT),t.GBs(Xb,7),t.GBs(_7t,5),t.GBs(g7t,7,t.c1b),t.GBs(v7t,5),t.GBs(S7t,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.overflowButton=o.first),t.mGM(o=t.lsd())&&(n.popupTemplate=o.first),t.mGM(o=t.lsd())&&(n.resizeSensor=o.first),t.mGM(o=t.lsd())&&(n.container=o.first),t.mGM(o=t.lsd())&&(n.renderedTools=o),t.mGM(o=t.lsd())&&(n.overflowRenderedTools=o)}},hostVars:6,hostBindings:function(e,n){1&e&&t.bIt("focus",function(r){return n.onFocus(r)})("focusout",function(r){return n.onFocusOut(r)}),2&e&&(t.BMQ("role",n.role)("dir",n.getDir),t.AVh("k-toolbar",n.hostClass)("k-toolbar-resizable",n.resizableClass))},inputs:{overflow:"overflow",resizable:"resizable",popupSettings:"popupSettings",tabindex:"tabindex",size:"size",tabIndex:"tabIndex"},outputs:{open:"open",close:"close"},exportAs:["kendoToolBar"],features:[t.Jv_([Jre,MNe,j,{provide:Ve,useValue:"kendo.toolbar"}]),t.OA$],decls:8,vars:3,consts:()=>{let i;return i="Altri strumenti",[["popupTemplate",""],["container",""],["toolbarRenderer",""],["overflowButton",""],["overflowRenderer",""],["resizeSensor",""],["kendoToolbarLocalizedMessages","","moreToolsTitle",i],[4,"ngFor","ngForOf"],["kendoButton","","fillMode","flat","type","button","icon","more-vertical","tabindex","-1","aria-haspopup","menu","class","k-toolbar-overflow-button",3,"svgIcon","title","id","visibility","position","margin-inline-start","ngClass","click",4,"ngIf"],[4,"ngIf"],[3,"rendererClick","location","resizable","tool"],["kendoButton","","fillMode","flat","type","button","icon","more-vertical","tabindex","-1","aria-haspopup","menu",1,"k-toolbar-overflow-button",3,"click","svgIcon","title","id","ngClass"],["role","menu",1,"k-menu-group","k-menu-group-md",3,"id"]]},template:function(e,n){1&e&&(t.eu8(0,6),t.DNE(1,C7t,3,3,"ng-container",7)(2,b7t,2,12,"button",8)(3,y7t,2,3,"ng-template",null,0,t.C5r),t.eu8(5,null,1),t.DNE(7,k7t,2,0,"kendo-resize-sensor",9)),2&e&&(t.R7$(),t.Y8G("ngForOf",n.allTools),t.R7$(),t.Y8G("ngIf",n.overflow),t.R7$(5),t.Y8G("ngIf",n.overflow))},dependencies:[ANe,$t,Os,RNe,st,W,Pe],encapsulation:2}),s})(),Pn=(()=>{class s extends xo{constructor(e,n){super(),this.element=e,this.zone=n,this.showIcon="both",this.toggleable=!1,this.selected=!1,this.fillMode="solid",this.themeColor="base",this.click=new t.bkB,this.pointerdown=new t.bkB,this.selectedChange=new t.bkB,this.toolbarOptions={text:"",icon:"",iconClass:"",svgIcon:null,imageUrl:""},this.overflowOptions={text:"",icon:"",iconClass:"",svgIcon:null,imageUrl:""},this._showText="both"}set showText(e){this._showText=e,this.setTextDisplayMode()}get showText(){return this._showText}set text(e){this._text=e,this.setTextDisplayMode()}get text(){return this._text}set look(e){e&&(this.fillMode="default"===e?"solid":e)}get togglable(){return this.toggleable}set togglable(e){this.toggleable=e}set icon(e){this.toolbarOptions.icon=Io(e,this.showIcon,!1),this.overflowOptions.icon=Io(e,this.showIcon,!0)}set iconClass(e){this.toolbarOptions.iconClass=Io(e,this.showIcon,!1),this.overflowOptions.iconClass=Io(e,this.showIcon,!0)}set svgIcon(e){const n=this.toolbarOptions.icon||this.overflowOptions.icon,o=this.toolbarOptions.iconClass||this.overflowOptions.iconClass;if((0,t.naY)()&&e&&n&&o)throw new Error("Setting both icon/svgIcon and iconClass options at the same time is not supported.");this.toolbarOptions.svgIcon=Io(e,this.showIcon,!1),this.overflowOptions.svgIcon=Io(e,this.showIcon,!0)}set imageUrl(e){this.toolbarOptions.imageUrl=Io(e,this.showIcon,!1),this.overflowOptions.imageUrl=Io(e,this.showIcon,!0)}ngOnInit(){this.setTextDisplayMode()}onBlur(){this.getButton().tabIndex=-1}canFocus(){return!this.disabled}focus(e){(!e||"focus"===e.type||"keydown"===e.type)&&this.getButton().focus(),this.getButton().tabIndex=0}handleKey(){return this.getButton().tabIndex=-1,!1}get toolbarButtonClass(){return this.toggleable?"k-toolbar-toggle-button":"k-toolbar-button"}handleClick(e){this.click.emit(e),this.toggleable&&(this.selected=!this.selected,this.selectedChange.emit(this.selected))}selectedChangeHandler(e){this.selected=e,this.selectedChange.emit(e)}getButton(){return(this.overflowButtonElement||this.toolbarButtonElement).nativeElement}setTextDisplayMode(){this.toolbarOptions.text="overflow"===this.showText?void 0:this.text,this.zone.onStable.pipe(Ye(1)).subscribe(()=>{this.overflowOptions.text="toolbar"===this.showText?void 0:this.text})}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.SKi))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-toolbar-button"]],viewQuery:function(e,n){if(1&e&&(t.GBs(vO,7),t.GBs(Xb,7),t.GBs(w7t,5,t.aKT),t.GBs(wNe,5,t.aKT)),2&e){let o;t.mGM(o=t.lsd())&&(n.toolbarTemplate=o.first),t.mGM(o=t.lsd())&&(n.popupTemplate=o.first),t.mGM(o=t.lsd())&&(n.toolbarButtonElement=o.first),t.mGM(o=t.lsd())&&(n.overflowButtonElement=o.first)}},inputs:{showText:"showText",showIcon:"showIcon",text:"text",style:"style",className:"className",title:"title",disabled:"disabled",toggleable:"toggleable",look:"look",togglable:"togglable",selected:"selected",fillMode:"fillMode",themeColor:"themeColor",icon:"icon",iconClass:"iconClass",svgIcon:"svgIcon",imageUrl:"imageUrl"},outputs:{click:"click",pointerdown:"pointerdown",selectedChange:"selectedChange"},exportAs:["kendoToolBarButton"],features:[t.Jv_([{provide:xo,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:4,vars:0,consts:[["toolbarTemplate",""],["popupTemplate",""],["toolbarButton",""],["overflowButton",""],["type","button","kendoButton","",3,"click","pointerdown","selectedChange","blur","tabindex","ngStyle","ngClass","disabled","toggleable","fillMode","themeColor","selected","icon","iconClass","svgIcon","imageUrl"],["tabindex","-1","role","menuitem",1,"k-item","k-menu-item",3,"click","ngClass","ngStyle"],[1,"k-link","k-menu-link"],[3,"name","customFontClass","svgIcon",4,"ngIf"],["class","k-menu-link-text",4,"ngIf"],[3,"name","customFontClass","svgIcon"],[1,"k-menu-link-text"]],template:function(e,n){1&e&&t.DNE(0,D7t,3,16,"ng-template",null,0,t.C5r)(2,M7t,5,8,"ng-template",null,1,t.C5r)},dependencies:[$t,Ke,Jn,Pe,W],encapsulation:2}),s})(),Om=(()=>{class s extends xo{constructor(e){super(),this.localization=e,this.selection="multiple",this.focusedIndex=-1,this.getNextKey=((s=!1)=>(i=!0)=>i?F.ArrowDown:s?F.ArrowLeft:F.ArrowRight)(this.localization.rtl),this.getPrevKey=((s=!1)=>(i=!0)=>i?F.ArrowUp:s?F.ArrowRight:F.ArrowLeft)(this.localization.rtl)}set look(e){e&&this.buttonComponents.forEach(n=>n.fillMode="default"===e?"solid":e)}get buttonElements(){return this.overflows?[...this.overflowListItems.toArray().filter(e=>!e.nativeElement.classList.contains("k-disabled"))].map(e=>e.nativeElement):this.toolbarButtonGroup.buttons.filter(e=>!e.isDisabled).map(e=>e.element)}onFocus(){this.focusedIndex=0}onNavigate(e){e.preventDefault()}selectedChangeHandler(e,n){n.selected=e,n.selectedChange.emit(e)}overflowSelectedChangeHandler(e){"multiple"===this.selection||this.buttonComponents.filter(o=>o!==e).forEach(o=>o.selected=!1),e.selected=!e.selected,e.selectedChange.emit(e.selected)}onButtonClick(e){this.focusedIndex=this.buttonElements.findIndex(n=>n===e.target||n.contains(e.target)),this.focusButton(this.focusedIndex,e)}canFocus(){return!(this.disabled||0===this.buttonElements.length)}focus(e={}){const n=this.getNextKey(this.overflows),o=this.getPrevKey(this.overflows);this.focusedIndex=((s,i,e)=>n=>{switch(n.type){case"keydown":if(n.keyCode===s)return e.length-1;if(n.keyCode===i)return 0;break;case"click":return e.findIndex(o=>o===n.target||o.contains(n.target));default:return 0}})(o,n,this.buttonElements)(e),this.focusButton(this.focusedIndex,e)}handleKey(e){const n=this.getNextKey(this.overflows),o=this.getPrevKey(this.overflows),r=(s=>i=>j9(s[i]))(this.buttonElements),a=(s=>i=>s===i)(this.focusedIndex);return this.focusedIndex=((s,i,e)=>(n,o)=>{switch(o.keyCode){case s:return e(n-1)?n-1:n;case i:return e(n+1)?n+1:n;default:return n}})(o,n,r)(this.focusedIndex,e),this.focusButton(this.focusedIndex,e),!a(this.focusedIndex)}handleClick(e,n){n.click.emit(e),this.onButtonClick(e),this.overflowSelectedChangeHandler(n)}getIconClasses(e){return e.overflowOptions.icon?`${e.overflowOptions.icon}`:e.overflowOptions.iconClass?e.overflowOptions.iconClass:e.overflowOptions.svgIcon?e.overflowOptions.svgIcon:void 0}focusButton(e,n){(!n.type||"focus"===n.type||"keydown"===n.type)&&this.buttonElements[e]?.focus()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-toolbar-buttongroup"]],contentQueries:function(e,n,o){if(1&e&&t.wni(o,Pn,4),2&e){let r;t.mGM(r=t.lsd())&&(n.buttonComponents=r)}},viewQuery:function(e,n){if(1&e&&(t.GBs(vO,7),t.GBs(Xb,7),t.GBs(I7t,5),t.GBs(Kre,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.toolbarTemplate=o.first),t.mGM(o=t.lsd())&&(n.popupTemplate=o.first),t.mGM(o=t.lsd())&&(n.toolbarButtonGroup=o.first),t.mGM(o=t.lsd())&&(n.overflowListItems=o)}},inputs:{disabled:"disabled",selection:"selection",width:"width",look:"look"},exportAs:["kendoToolBarButtonGroup"],features:[t.Jv_([j,{provide:xo,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:4,vars:0,consts:[["toolbarTemplate",""],["popupTemplate",""],["toolbarButtonGroup",""],["listItem",""],[1,"k-toolbar-button-group",3,"navigate","focus","tabIndex","selection","disabled","width"],["kendoButton","",3,"ngStyle","ngClass","disabled","togglable","selected","fillMode","themeColor","icon","iconClass","svgIcon","imageUrl","click","pointerdown","selectedChange",4,"ngFor","ngForOf"],["kendoButton","",3,"click","pointerdown","selectedChange","ngStyle","ngClass","disabled","togglable","selected","fillMode","themeColor","icon","iconClass","svgIcon","imageUrl"],[4,"ngFor","ngForOf"],["tabindex","-1","role","menuitem",1,"k-item","k-menu-item",3,"click","ngStyle","ngClass"],[1,"k-link","k-menu-link"],[3,"name","customFontClass","svgIcon",4,"ngIf"],["class","k-menu-link-text",4,"ngIf"],[3,"name","customFontClass","svgIcon"],[1,"k-menu-link-text"]],template:function(e,n){1&e&&t.DNE(0,A7t,3,5,"ng-template",null,0,t.C5r)(2,G7t,1,1,"ng-template",null,1,t.C5r)},dependencies:[oq,$t,Ke,st,Jn,Pe,W],encapsulation:2}),s})(),GNe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,o0,zr,Vr,An]]}),s})();function Dl(s){this.content=s}Dl.prototype={constructor:Dl,find:function(s){for(var i=0;i<this.content.length;i+=2)if(this.content[i]===s)return i;return-1},get:function(s){var i=this.find(s);return-1==i?void 0:this.content[i+1]},update:function(s,i,e){var n=e&&e!=s?this.remove(e):this,o=n.find(s),r=n.content.slice();return-1==o?r.push(e||s,i):(r[o+1]=i,e&&(r[o]=e)),new Dl(r)},remove:function(s){var i=this.find(s);if(-1==i)return this;var e=this.content.slice();return e.splice(i,2),new Dl(e)},addToStart:function(s,i){return new Dl([s,i].concat(this.remove(s).content))},addToEnd:function(s,i){var e=this.remove(s).content.slice();return e.push(s,i),new Dl(e)},addBefore:function(s,i,e){var n=this.remove(i),o=n.content.slice(),r=n.find(s);return o.splice(-1==r?o.length:r,0,i,e),new Dl(o)},forEach:function(s){for(var i=0;i<this.content.length;i+=2)s(this.content[i],this.content[i+1])},prepend:function(s){return(s=Dl.from(s)).size?new Dl(s.content.concat(this.subtract(s).content)):this},append:function(s){return(s=Dl.from(s)).size?new Dl(this.subtract(s).content.concat(s.content)):this},subtract:function(s){var i=this;s=Dl.from(s);for(var e=0;e<s.content.length;e+=2)i=i.remove(s.content[e]);return i},toObject:function(){var s={};return this.forEach(function(i,e){s[i]=e}),s},get size(){return this.content.length>>1}},Dl.from=function(s){if(s instanceof Dl)return s;var i=[];if(s)for(var e in s)i.push(e,s[e]);return new Dl(i)};const PNe=Dl;function FNe(s,i,e){for(let n=0;;n++){if(n==s.childCount||n==i.childCount)return s.childCount==i.childCount?null:e;let o=s.child(n),r=i.child(n);if(o!=r){if(!o.sameMarkup(r))return e;if(o.isText&&o.text!=r.text){for(let a=0;o.text[a]==r.text[a];a++)e++;return e}if(o.content.size||r.content.size){let a=FNe(o.content,r.content,e+1);if(null!=a)return a}e+=o.nodeSize}else e+=o.nodeSize}}function UNe(s,i,e,n){for(let o=s.childCount,r=i.childCount;;){if(0==o||0==r)return o==r?null:{a:e,b:n};let a=s.child(--o),l=i.child(--r),c=a.nodeSize;if(a!=l){if(!a.sameMarkup(l))return{a:e,b:n};if(a.isText&&a.text!=l.text){let u=0,f=Math.min(a.text.length,l.text.length);for(;u<f&&a.text[a.text.length-u-1]==l.text[l.text.length-u-1];)u++,e--,n--;return{a:e,b:n}}if(a.content.size||l.content.size){let u=UNe(a.content,l.content,e-1,n-1);if(u)return u}e-=c,n-=c}else e-=c,n-=c}}class Te{constructor(i,e){if(this.content=i,this.size=e||0,null==e)for(let n=0;n<i.length;n++)this.size+=i[n].nodeSize}nodesBetween(i,e,n,o=0,r){for(let a=0,l=0;l<e;a++){let c=this.content[a],u=l+c.nodeSize;if(u>i&&!1!==n(c,o+l,r||null,a)&&c.content.size){let f=l+1;c.nodesBetween(Math.max(0,i-f),Math.min(c.content.size,e-f),n,o+f)}l=u}}descendants(i){this.nodesBetween(0,this.size,i)}textBetween(i,e,n,o){let r="",a=!0;return this.nodesBetween(i,e,(l,c)=>{l.isText?(r+=l.text.slice(Math.max(i,c)-c,e-c),a=!n):l.isLeaf?(o?r+="function"==typeof o?o(l):o:l.type.spec.leafText&&(r+=l.type.spec.leafText(l)),a=!n):!a&&l.isBlock&&(r+=n,a=!0)},0),r}append(i){if(!i.size)return this;if(!this.size)return i;let e=this.lastChild,n=i.firstChild,o=this.content.slice(),r=0;for(e.isText&&e.sameMarkup(n)&&(o[o.length-1]=e.withText(e.text+n.text),r=1);r<i.content.length;r++)o.push(i.content[r]);return new Te(o,this.size+i.size)}cut(i,e=this.size){if(0==i&&e==this.size)return this;let n=[],o=0;if(e>i)for(let r=0,a=0;a<e;r++){let l=this.content[r],c=a+l.nodeSize;c>i&&((a<i||c>e)&&(l=l.isText?l.cut(Math.max(0,i-a),Math.min(l.text.length,e-a)):l.cut(Math.max(0,i-a-1),Math.min(l.content.size,e-a-1))),n.push(l),o+=l.nodeSize),a=c}return new Te(n,o)}cutByIndex(i,e){return i==e?Te.empty:0==i&&e==this.content.length?this:new Te(this.content.slice(i,e))}replaceChild(i,e){let n=this.content[i];if(n==e)return this;let o=this.content.slice(),r=this.size+e.nodeSize-n.nodeSize;return o[i]=e,new Te(o,r)}addToStart(i){return new Te([i].concat(this.content),this.size+i.nodeSize)}addToEnd(i){return new Te(this.content.concat(i),this.size+i.nodeSize)}eq(i){if(this.content.length!=i.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(i.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(i){let e=this.content[i];if(!e)throw new RangeError("Index "+i+" out of range for "+this);return e}maybeChild(i){return this.content[i]||null}forEach(i){for(let e=0,n=0;e<this.content.length;e++){let o=this.content[e];i(o,n,e),n+=o.nodeSize}}findDiffStart(i,e=0){return FNe(this,i,e)}findDiffEnd(i,e=this.size,n=i.size){return UNe(this,i,e,n)}findIndex(i,e=-1){if(0==i)return $9(0,i);if(i==this.size)return $9(this.content.length,i);if(i>this.size||i<0)throw new RangeError(`Position ${i} outside of fragment (${this})`);for(let n=0,o=0;;n++){let a=o+this.child(n).nodeSize;if(a>=i)return a==i||e>0?$9(n+1,a):$9(n,o);o=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(i=>i.toJSON()):null}static fromJSON(i,e){if(!e)return Te.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new Te(e.map(i.nodeFromJSON))}static fromArray(i){if(!i.length)return Te.empty;let e,n=0;for(let o=0;o<i.length;o++){let r=i[o];n+=r.nodeSize,o&&r.isText&&i[o-1].sameMarkup(r)?(e||(e=i.slice(0,o)),e[e.length-1]=r.withText(e[e.length-1].text+r.text)):e&&e.push(r)}return new Te(e||i,n)}static from(i){if(!i)return Te.empty;if(i instanceof Te)return i;if(Array.isArray(i))return this.fromArray(i);if(i.attrs)return new Te([i],i.nodeSize);throw new RangeError("Can not convert "+i+" to a Fragment"+(i.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Te.empty=new Te([],0);const oae={index:0,offset:0};function $9(s,i){return oae.index=s,oae.offset=i,oae}function X9(s,i){if(s===i)return!0;if(!s||"object"!=typeof s||!i||"object"!=typeof i)return!1;let e=Array.isArray(s);if(Array.isArray(i)!=e)return!1;if(e){if(s.length!=i.length)return!1;for(let n=0;n<s.length;n++)if(!X9(s[n],i[n]))return!1}else{for(let n in s)if(!(n in i)||!X9(s[n],i[n]))return!1;for(let n in i)if(!(n in s))return!1}return!0}let qs=(()=>{class s{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,o=!1;for(let r=0;r<e.length;r++){let a=e[r];if(this.eq(a))return e;if(this.type.excludes(a.type))n||(n=e.slice(0,r));else{if(a.type.excludes(this.type))return e;!o&&a.type.rank>this.type.rank&&(n||(n=e.slice(0,r)),n.push(this),o=!0),n&&n.push(a)}}return n||(n=e.slice()),o||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&X9(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let o=e.marks[n.type];if(!o)throw new RangeError(`There is no mark type ${n.type} in this schema`);return o.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let o=0;o<e.length;o++)if(!e[o].eq(n[o]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return s.none;if(e instanceof s)return[e];let n=e.slice();return n.sort((o,r)=>o.type.rank-r.type.rank),n}}return s.none=[],s})();class W9 extends Error{}class tt{constructor(i,e,n){this.content=i,this.openStart=e,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(i,e){let n=VNe(this.content,i+this.openStart,e);return n&&new tt(n,this.openStart,this.openEnd)}removeBetween(i,e){return new tt(BNe(this.content,i+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(i){return this.content.eq(i.content)&&this.openStart==i.openStart&&this.openEnd==i.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let i={content:this.content.toJSON()};return this.openStart>0&&(i.openStart=this.openStart),this.openEnd>0&&(i.openEnd=this.openEnd),i}static fromJSON(i,e){if(!e)return tt.empty;let n=e.openStart||0,o=e.openEnd||0;if("number"!=typeof n||"number"!=typeof o)throw new RangeError("Invalid input for Slice.fromJSON");return new tt(Te.fromJSON(i,e.content),n,o)}static maxOpen(i,e=!0){let n=0,o=0;for(let r=i.firstChild;r&&!r.isLeaf&&(e||!r.type.spec.isolating);r=r.firstChild)n++;for(let r=i.lastChild;r&&!r.isLeaf&&(e||!r.type.spec.isolating);r=r.lastChild)o++;return new tt(i,n,o)}}function BNe(s,i,e){let{index:n,offset:o}=s.findIndex(i),r=s.maybeChild(n),{index:a,offset:l}=s.findIndex(e);if(o==i||r.isText){if(l!=e&&!s.child(a).isText)throw new RangeError("Removing non-flat range");return s.cut(0,i).append(s.cut(e))}if(n!=a)throw new RangeError("Removing non-flat range");return s.replaceChild(n,r.copy(BNe(r.content,i-o-1,e-o-1)))}function VNe(s,i,e,n){let{index:o,offset:r}=s.findIndex(i),a=s.maybeChild(o);if(r==i||a.isText)return n&&!n.canReplace(o,o,e)?null:s.cut(0,i).append(e).append(s.cut(i));let l=VNe(a.content,i-r-1,e);return l&&s.replaceChild(o,a.copy(l))}function yBt(s,i,e){if(e.openStart>s.depth)throw new W9("Inserted content deeper than insertion position");if(s.depth-e.openStart!=i.depth-e.openEnd)throw new W9("Inconsistent open depths");return zNe(s,i,e,0)}function zNe(s,i,e,n){let o=s.index(n),r=s.node(n);if(o==i.index(n)&&n<s.depth-e.openStart){let a=zNe(s,i,e,n+1);return r.copy(r.content.replaceChild(o,a))}if(e.content.size){if(e.openStart||e.openEnd||s.depth!=n||i.depth!=n){let{start:a,end:l}=function kBt(s,i){let e=i.depth-s.openStart,o=i.node(e).copy(s.content);for(let r=e-1;r>=0;r--)o=i.node(r).copy(Te.from(o));return{start:o.resolveNoCache(s.openStart+e),end:o.resolveNoCache(o.content.size-s.openEnd-e)}}(e,s);return Yb(r,HNe(s,a,l,i,n))}{let a=s.parent,l=a.content;return Yb(a,l.cut(0,s.parentOffset).append(e.content).append(l.cut(i.parentOffset)))}}return Yb(r,Y9(s,i,n))}function jNe(s,i){if(!i.type.compatibleContent(s.type))throw new W9("Cannot join "+i.type.name+" onto "+s.type.name)}function rae(s,i,e){let n=s.node(e);return jNe(n,i.node(e)),n}function Wb(s,i){let e=i.length-1;e>=0&&s.isText&&s.sameMarkup(i[e])?i[e]=s.withText(i[e].text+s.text):i.push(s)}function v4(s,i,e,n){let o=(i||s).node(e),r=0,a=i?i.index(e):o.childCount;s&&(r=s.index(e),s.depth>e?r++:s.textOffset&&(Wb(s.nodeAfter,n),r++));for(let l=r;l<a;l++)Wb(o.child(l),n);i&&i.depth==e&&i.textOffset&&Wb(i.nodeBefore,n)}function Yb(s,i){return s.type.checkContent(i),s.copy(i)}function HNe(s,i,e,n,o){let r=s.depth>o&&rae(s,i,o+1),a=n.depth>o&&rae(e,n,o+1),l=[];return v4(null,s,o,l),r&&a&&i.index(o)==e.index(o)?(jNe(r,a),Wb(Yb(r,HNe(s,i,e,n,o+1)),l)):(r&&Wb(Yb(r,Y9(s,i,o+1)),l),v4(i,e,o,l),a&&Wb(Yb(a,Y9(e,n,o+1)),l)),v4(n,null,o,l),new Te(l)}function Y9(s,i,e){let n=[];return v4(null,s,e,n),s.depth>e&&Wb(Yb(rae(s,i,e+1),Y9(s,i,e+1)),n),v4(i,null,e,n),new Te(n)}tt.empty=new tt(Te.empty,0,0);class S4{constructor(i,e,n){this.pos=i,this.path=e,this.parentOffset=n,this.depth=e.length/3-1}resolveDepth(i){return null==i?this.depth:i<0?this.depth+i:i}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(i){return this.path[3*this.resolveDepth(i)]}index(i){return this.path[3*this.resolveDepth(i)+1]}indexAfter(i){return i=this.resolveDepth(i),this.index(i)+(i!=this.depth||this.textOffset?1:0)}start(i){return 0==(i=this.resolveDepth(i))?0:this.path[3*i-1]+1}end(i){return i=this.resolveDepth(i),this.start(i)+this.node(i).content.size}before(i){if(!(i=this.resolveDepth(i)))throw new RangeError("There is no position before the top-level node");return i==this.depth+1?this.pos:this.path[3*i-1]}after(i){if(!(i=this.resolveDepth(i)))throw new RangeError("There is no position after the top-level node");return i==this.depth+1?this.pos:this.path[3*i-1]+this.path[3*i].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let i=this.parent,e=this.index(this.depth);if(e==i.childCount)return null;let n=this.pos-this.path[this.path.length-1],o=i.child(e);return n?i.child(e).cut(n):o}get nodeBefore(){let i=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(i).cut(0,e):0==i?null:this.parent.child(i-1)}posAtIndex(i,e){e=this.resolveDepth(e);let n=this.path[3*e],o=0==e?0:this.path[3*e-1]+1;for(let r=0;r<i;r++)o+=n.child(r).nodeSize;return o}marks(){let i=this.parent,e=this.index();if(0==i.content.size)return qs.none;if(this.textOffset)return i.child(e).marks;let n=i.maybeChild(e-1),o=i.maybeChild(e);if(!n){let l=n;n=o,o=l}let r=n.marks;for(var a=0;a<r.length;a++)!1===r[a].type.spec.inclusive&&(!o||!r[a].isInSet(o.marks))&&(r=r[a--].removeFromSet(r));return r}marksAcross(i){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let n=e.marks,o=i.parent.maybeChild(i.index());for(var r=0;r<n.length;r++)!1===n[r].type.spec.inclusive&&(!o||!n[r].isInSet(o.marks))&&(n=n[r--].removeFromSet(n));return n}sharedDepth(i){for(let e=this.depth;e>0;e--)if(this.start(e)<=i&&this.end(e)>=i)return e;return 0}blockRange(i=this,e){if(i.pos<this.pos)return i.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==i.pos?1:0);n>=0;n--)if(i.pos<=this.end(n)&&(!e||e(this.node(n))))return new C4(this,i,n);return null}sameParent(i){return this.pos-this.parentOffset==i.pos-i.parentOffset}max(i){return i.pos>this.pos?i:this}min(i){return i.pos<this.pos?i:this}toString(){let i="";for(let e=1;e<=this.depth;e++)i+=(i?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return i+":"+this.parentOffset}static resolve(i,e){if(!(e>=0&&e<=i.content.size))throw new RangeError("Position "+e+" out of range");let n=[],o=0,r=e;for(let a=i;;){let{index:l,offset:c}=a.content.findIndex(r),u=r-c;if(n.push(a,l,o+c),!u||(a=a.child(l),a.isText))break;r=u-1,o+=c+1}return new S4(e,n,r)}static resolveCached(i,e){for(let o=0;o<aae.length;o++){let r=aae[o];if(r.pos==e&&r.doc==i)return r}let n=aae[lae]=S4.resolve(i,e);return lae=(lae+1)%wBt,n}}let aae=[],lae=0,wBt=12;class C4{constructor(i,e,n){this.$from=i,this.$to=e,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const DBt=Object.create(null);class Op{constructor(i,e,n,o=qs.none){this.type=i,this.attrs=e,this.marks=o,this.content=n||Te.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(i){return this.content.child(i)}maybeChild(i){return this.content.maybeChild(i)}forEach(i){this.content.forEach(i)}nodesBetween(i,e,n,o=0){this.content.nodesBetween(i,e,n,o,this)}descendants(i){this.nodesBetween(0,this.content.size,i)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(i,e,n,o){return this.content.textBetween(i,e,n,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(i){return this==i||this.sameMarkup(i)&&this.content.eq(i.content)}sameMarkup(i){return this.hasMarkup(i.type,i.attrs,i.marks)}hasMarkup(i,e,n){return this.type==i&&X9(this.attrs,e||i.defaultAttrs||DBt)&&qs.sameSet(this.marks,n||qs.none)}copy(i=null){return i==this.content?this:new Op(this.type,this.attrs,i,this.marks)}mark(i){return i==this.marks?this:new Op(this.type,this.attrs,this.content,i)}cut(i,e=this.content.size){return 0==i&&e==this.content.size?this:this.copy(this.content.cut(i,e))}slice(i,e=this.content.size,n=!1){if(i==e)return tt.empty;let o=this.resolve(i),r=this.resolve(e),a=n?0:o.sharedDepth(e),l=o.start(a),u=o.node(a).content.cut(o.pos-l,r.pos-l);return new tt(u,o.depth-a,r.depth-a)}replace(i,e,n){return yBt(this.resolve(i),this.resolve(e),n)}nodeAt(i){for(let e=this;;){let{index:n,offset:o}=e.content.findIndex(i);if(e=e.maybeChild(n),!e)return null;if(o==i||e.isText)return e;i-=o+1}}childAfter(i){let{index:e,offset:n}=this.content.findIndex(i);return{node:this.content.maybeChild(e),index:e,offset:n}}childBefore(i){if(0==i)return{node:null,index:0,offset:0};let{index:e,offset:n}=this.content.findIndex(i);if(n<i)return{node:this.content.child(e),index:e,offset:n};let o=this.content.child(e-1);return{node:o,index:e-1,offset:n-o.nodeSize}}resolve(i){return S4.resolveCached(this,i)}resolveNoCache(i){return S4.resolve(this,i)}rangeHasMark(i,e,n){let o=!1;return e>i&&this.nodesBetween(i,e,r=>(n.isInSet(r.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let i=this.type.name;return this.content.size&&(i+="("+this.content.toStringInner()+")"),$Ne(this.marks,i)}contentMatchAt(i){let e=this.type.contentMatch.matchFragment(this.content,0,i);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(i,e,n=Te.empty,o=0,r=n.childCount){let a=this.contentMatchAt(i).matchFragment(n,o,r),l=a&&a.matchFragment(this.content,e);if(!l||!l.validEnd)return!1;for(let c=o;c<r;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0}canReplaceWith(i,e,n,o){if(o&&!this.type.allowsMarks(o))return!1;let r=this.contentMatchAt(i).matchType(n),a=r&&r.matchFragment(this.content,e);return!!a&&a.validEnd}canAppend(i){return i.content.size?this.canReplace(this.childCount,this.childCount,i.content):this.type.compatibleContent(i.type)}check(){this.type.checkContent(this.content);let i=qs.none;for(let e=0;e<this.marks.length;e++)i=this.marks[e].addToSet(i);if(!qs.sameSet(i,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let i={type:this.type.name};for(let e in this.attrs){i.attrs=this.attrs;break}return this.content.size&&(i.content=this.content.toJSON()),this.marks.length&&(i.marks=this.marks.map(e=>e.toJSON())),i}static fromJSON(i,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(i.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return i.text(e.text,n)}let o=Te.fromJSON(i,e.content);return i.nodeType(e.type).create(e.attrs,o,n)}}Op.prototype.text=void 0;class K9 extends Op{constructor(i,e,n,o){if(super(i,e,null,o),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):$Ne(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(i,e){return this.text.slice(i,e)}get nodeSize(){return this.text.length}mark(i){return i==this.marks?this:new K9(this.type,this.attrs,this.text,i)}withText(i){return i==this.text?this:new K9(this.type,this.attrs,i,this.marks)}cut(i=0,e=this.text.length){return 0==i&&e==this.text.length?this:this.withText(this.text.slice(i,e))}eq(i){return this.sameMarkup(i)&&this.text==i.text}toJSON(){let i=super.toJSON();return i.text=this.text,i}}function $Ne(s,i){for(let e=s.length-1;e>=0;e--)i=s[e].type.name+"("+i+")";return i}class Kb{constructor(i){this.validEnd=i,this.next=[],this.wrapCache=[]}static parse(i,e){let n=new OBt(i,e);if(null==n.next)return Kb.empty;let o=XNe(n);n.next&&n.err("Unexpected trailing text");let r=function NBt(s){let i=Object.create(null);return function e(n){let o=[];n.forEach(a=>{s[a].forEach(({term:l,to:c})=>{if(!l)return;let u;for(let f=0;f<o.length;f++)o[f][0]==l&&(u=o[f][1]);KNe(s,c).forEach(f=>{u||o.push([l,u=[]]),-1==u.indexOf(f)&&u.push(f)})})});let r=i[n.join(",")]=new Kb(n.indexOf(s.length-1)>-1);for(let a=0;a<o.length;a++){let l=o[a][1].sort(YNe);r.next.push({type:o[a][0],next:i[l.join(",")]||e(l)})}return r}(KNe(s,0))}(function RBt(s){let i=[[]];return o(function r(a,l){if("choice"==a.type)return a.exprs.reduce((c,u)=>c.concat(r(u,l)),[]);if("seq"!=a.type){if("star"==a.type){let c=e();return n(l,c),o(r(a.expr,c),c),[n(c)]}if("plus"==a.type){let c=e();return o(r(a.expr,l),c),o(r(a.expr,c),c),[n(c)]}if("opt"==a.type)return[n(l)].concat(r(a.expr,l));if("range"==a.type){let c=l;for(let u=0;u<a.min;u++){let f=e();o(r(a.expr,c),f),c=f}if(-1==a.max)o(r(a.expr,c),c);else for(let u=a.min;u<a.max;u++){let f=e();n(c,f),o(r(a.expr,c),f),c=f}return[n(c)]}if("name"==a.type)return[n(l,void 0,a.value)];throw new Error("Unknown expr type")}for(let c=0;;c++){let u=r(a.exprs[c],l);if(c==a.exprs.length-1)return u;o(u,l=e())}}(s,0),e()),i;function e(){return i.push([])-1}function n(a,l,c){let u={term:c,to:l};return i[a].push(u),u}function o(a,l){a.forEach(c=>c.to=l)}}(o));return function LBt(s,i){for(let e=0,n=[s];e<n.length;e++){let o=n[e],r=!o.validEnd,a=[];for(let l=0;l<o.next.length;l++){let{type:c,next:u}=o.next[l];a.push(c.name),r&&!(c.isText||c.hasRequiredAttrs())&&(r=!1),-1==n.indexOf(u)&&n.push(u)}r&&i.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(r,n),r}matchType(i){for(let e=0;e<this.next.length;e++)if(this.next[e].type==i)return this.next[e].next;return null}matchFragment(i,e=0,n=i.childCount){let o=this;for(let r=e;o&&r<n;r++)o=o.matchType(i.child(r).type);return o}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let i=0;i<this.next.length;i++){let{type:e}=this.next[i];if(!e.isText&&!e.hasRequiredAttrs())return e}return null}compatible(i){for(let e=0;e<this.next.length;e++)for(let n=0;n<i.next.length;n++)if(this.next[e].type==i.next[n].type)return!0;return!1}fillBefore(i,e=!1,n=0){let o=[this];return function r(a,l){let c=a.matchFragment(i,n);if(c&&(!e||c.validEnd))return Te.from(l.map(u=>u.createAndFill()));for(let u=0;u<a.next.length;u++){let{type:f,next:_}=a.next[u];if(!f.isText&&!f.hasRequiredAttrs()&&-1==o.indexOf(_)){o.push(_);let g=r(_,l.concat(f));if(g)return g}}return null}(this,[])}findWrapping(i){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==i)return this.wrapCache[n+1];let e=this.computeWrapping(i);return this.wrapCache.push(i,e),e}computeWrapping(i){let e=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let o=n.shift(),r=o.match;if(r.matchType(i)){let a=[];for(let l=o;l.type;l=l.via)a.push(l.type);return a.reverse()}for(let a=0;a<r.next.length;a++){let{type:l,next:c}=r.next[a];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in e)&&(!o.type||c.validEnd)&&(n.push({match:l.contentMatch,type:l,via:o}),e[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(i){if(i>=this.next.length)throw new RangeError(`There's no ${i}th edge in this content match`);return this.next[i]}toString(){let i=[];return function e(n){i.push(n);for(let o=0;o<n.next.length;o++)-1==i.indexOf(n.next[o].next)&&e(n.next[o].next)}(this),i.map((n,o)=>{let r=o+(n.validEnd?"*":" ")+" ";for(let a=0;a<n.next.length;a++)r+=(a?", ":"")+n.next[a].type.name+"->"+i.indexOf(n.next[a].next);return r}).join("\n")}}Kb.empty=new Kb(!0);class OBt{constructor(i,e){this.string=i,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=i.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(i){return this.next==i&&(this.pos++||!0)}err(i){throw new SyntaxError(i+" (in content expression '"+this.string+"')")}}function XNe(s){let i=[];do{i.push(TBt(s))}while(s.eat("|"));return 1==i.length?i[0]:{type:"choice",exprs:i}}function TBt(s){let i=[];do{i.push(MBt(s))}while(s.next&&")"!=s.next&&"|"!=s.next);return 1==i.length?i[0]:{type:"seq",exprs:i}}function MBt(s){let i=function ABt(s){if(s.eat("(")){let i=XNe(s);return s.eat(")")||s.err("Missing closing paren"),i}if(!/\W/.test(s.next)){let i=function xBt(s,i){let e=s.nodeTypes,n=e[i];if(n)return[n];let o=[];for(let r in e){let a=e[r];a.groups.indexOf(i)>-1&&o.push(a)}return 0==o.length&&s.err("No node type or group '"+i+"' found"),o}(s,s.next).map(e=>(null==s.inline?s.inline=e.isInline:s.inline!=e.isInline&&s.err("Mixing inline and block content"),{type:"name",value:e}));return s.pos++,1==i.length?i[0]:{type:"choice",exprs:i}}s.err("Unexpected token '"+s.next+"'")}(s);for(;;)if(s.eat("+"))i={type:"plus",expr:i};else if(s.eat("*"))i={type:"star",expr:i};else if(s.eat("?"))i={type:"opt",expr:i};else{if(!s.eat("{"))break;i=IBt(s,i)}return i}function WNe(s){/\D/.test(s.next)&&s.err("Expected number, got '"+s.next+"'");let i=Number(s.next);return s.pos++,i}function IBt(s,i){let e=WNe(s),n=e;return s.eat(",")&&(n="}"!=s.next?WNe(s):-1),s.eat("}")||s.err("Unclosed braced range"),{type:"range",min:e,max:n,expr:i}}function YNe(s,i){return i-s}function KNe(s,i){let e=[];return function n(o){let r=s[o];if(1==r.length&&!r[0].term)return n(r[0].to);e.push(o);for(let a=0;a<r.length;a++){let{term:l,to:c}=r[a];!l&&-1==e.indexOf(c)&&n(c)}}(i),e.sort(YNe)}function JNe(s){let i=Object.create(null);for(let e in s){let n=s[e];if(!n.hasDefault)return null;i[e]=n.default}return i}function qNe(s,i){let e=Object.create(null);for(let n in s){let o=i&&i[n];if(void 0===o){let r=s[n];if(!r.hasDefault)throw new RangeError("No value supplied for attribute "+n);o=r.default}e[n]=o}return e}function QNe(s){let i=Object.create(null);if(s)for(let e in s)i[e]=new GBt(s[e]);return i}class J9{constructor(i,e,n){this.name=i,this.schema=e,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=QNe(n.attrs),this.defaultAttrs=JNe(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==i),this.isText="text"==i}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Kb.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let i in this.attrs)if(this.attrs[i].isRequired)return!0;return!1}compatibleContent(i){return this==i||this.contentMatch.compatible(i.contentMatch)}computeAttrs(i){return!i&&this.defaultAttrs?this.defaultAttrs:qNe(this.attrs,i)}create(i=null,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Op(this,this.computeAttrs(i),Te.from(e),qs.setFrom(n))}createChecked(i=null,e,n){return e=Te.from(e),this.checkContent(e),new Op(this,this.computeAttrs(i),e,qs.setFrom(n))}createAndFill(i=null,e,n){if(i=this.computeAttrs(i),(e=Te.from(e)).size){let a=this.contentMatch.fillBefore(e);if(!a)return null;e=a.append(e)}let o=this.contentMatch.matchFragment(e),r=o&&o.fillBefore(Te.empty,!0);return r?new Op(this,i,e.append(r),qs.setFrom(n)):null}validContent(i){let e=this.contentMatch.matchFragment(i);if(!e||!e.validEnd)return!1;for(let n=0;n<i.childCount;n++)if(!this.allowsMarks(i.child(n).marks))return!1;return!0}checkContent(i){if(!this.validContent(i))throw new RangeError(`Invalid content for node ${this.name}: ${i.toString().slice(0,50)}`)}allowsMarkType(i){return null==this.markSet||this.markSet.indexOf(i)>-1}allowsMarks(i){if(null==this.markSet)return!0;for(let e=0;e<i.length;e++)if(!this.allowsMarkType(i[e].type))return!1;return!0}allowedMarks(i){if(null==this.markSet)return i;let e;for(let n=0;n<i.length;n++)this.allowsMarkType(i[n].type)?e&&e.push(i[n]):e||(e=i.slice(0,n));return e?e.length?e:qs.none:i}static compile(i,e){let n=Object.create(null);i.forEach((r,a)=>n[r]=new J9(r,e,a));let o=e.spec.topNode||"doc";if(!n[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let r in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class GBt{constructor(i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default}get isRequired(){return!this.hasDefault}}class b4{constructor(i,e,n,o){this.name=i,this.rank=e,this.schema=n,this.spec=o,this.attrs=QNe(o.attrs),this.excluded=null;let r=JNe(this.attrs);this.instance=r?new qs(this,r):null}create(i=null){return!i&&this.instance?this.instance:new qs(this,qNe(this.attrs,i))}static compile(i,e){let n=Object.create(null),o=0;return i.forEach((r,a)=>n[r]=new b4(r,o++,e,a)),n}removeFromSet(i){for(var e=0;e<i.length;e++)i[e].type==this&&(i=i.slice(0,e).concat(i.slice(e+1)),e--);return i}isInSet(i){for(let e=0;e<i.length;e++)if(i[e].type==this)return i[e]}excludes(i){return this.excluded.indexOf(i)>-1}}class cae{constructor(i){this.cached=Object.create(null);let e=this.spec={};for(let o in i)e[o]=i[o];e.nodes=PNe.from(i.nodes),e.marks=PNe.from(i.marks||{}),this.nodes=J9.compile(this.spec.nodes,this),this.marks=b4.compile(this.spec.marks,this);let n=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let r=this.nodes[o],a=r.spec.content||"",l=r.spec.marks;r.contentMatch=n[a]||(n[a]=Kb.parse(a,this.nodes)),r.inlineContent=r.contentMatch.inlineContent,r.markSet="_"==l?null:l?ZNe(this,l.split(" ")):""!=l&&r.inlineContent?null:[]}for(let o in this.marks){let r=this.marks[o],a=r.spec.excludes;r.excluded=null==a?[r]:""==a?[]:ZNe(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(i,e=null,n,o){if("string"==typeof i)i=this.nodeType(i);else{if(!(i instanceof J9))throw new RangeError("Invalid node type: "+i);if(i.schema!=this)throw new RangeError("Node type from different schema used ("+i.name+")")}return i.createChecked(e,n,o)}text(i,e){let n=this.nodes.text;return new K9(n,n.defaultAttrs,i,qs.setFrom(e))}mark(i,e){return"string"==typeof i&&(i=this.marks[i]),i.create(e)}nodeFromJSON(i){return Op.fromJSON(this,i)}markFromJSON(i){return qs.fromJSON(this,i)}nodeType(i){let e=this.nodes[i];if(!e)throw new RangeError("Unknown node type: "+i);return e}}function ZNe(s,i){let e=[];for(let n=0;n<i.length;n++){let o=i[n],r=s.marks[o],a=r;if(r)e.push(r);else for(let l in s.marks){let c=s.marks[l];("_"==o||c.spec.group&&c.spec.group.split(" ").indexOf(o)>-1)&&e.push(a=c)}if(!a)throw new SyntaxError("Unknown mark type: '"+i[n]+"'")}return e}class SO{constructor(i,e){this.schema=i,this.rules=e,this.tags=[],this.styles=[],e.forEach(n=>{n.tag?this.tags.push(n):n.style&&this.styles.push(n)}),this.normalizeLists=!this.tags.some(n=>{if(!/^(ul|ol)\b/.test(n.tag)||!n.node)return!1;let o=i.nodes[n.node];return o.contentMatch.matchType(o)})}parse(i,e={}){let n=new i8e(this,e,!1);return n.addAll(i,e.from,e.to),n.finish()}parseSlice(i,e={}){let n=new i8e(this,e,!0);return n.addAll(i,e.from,e.to),tt.maxOpen(n.finish())}matchTag(i,e,n){for(let o=n?this.tags.indexOf(n)+1:0;o<this.tags.length;o++){let r=this.tags[o];if(UBt(i,r.tag)&&(void 0===r.namespace||i.namespaceURI==r.namespace)&&(!r.context||e.matchesContext(r.context))){if(r.getAttrs){let a=r.getAttrs(i);if(!1===a)continue;r.attrs=a||void 0}return r}}}matchStyle(i,e,n,o){for(let r=o?this.styles.indexOf(o)+1:0;r<this.styles.length;r++){let a=this.styles[r],l=a.style;if(!(0!=l.indexOf(i)||a.context&&!n.matchesContext(a.context)||l.length>i.length&&(61!=l.charCodeAt(i.length)||l.slice(i.length+1)!=e))){if(a.getAttrs){let c=a.getAttrs(e);if(!1===c)continue;a.attrs=c||void 0}return a}}}static schemaRules(i){let e=[];function n(o){let r=null==o.priority?50:o.priority,a=0;for(;a<e.length;a++){let l=e[a];if((null==l.priority?50:l.priority)<r)break}e.splice(a,0,o)}for(let o in i.marks){let r=i.marks[o].spec.parseDOM;r&&r.forEach(a=>{n(a=s8e(a)),a.mark||a.ignore||a.clearMark||(a.mark=o)})}for(let o in i.nodes){let r=i.nodes[o].spec.parseDOM;r&&r.forEach(a=>{n(a=s8e(a)),a.node||a.ignore||a.mark||(a.node=o)})}return e}static fromSchema(i){return i.cached.domParser||(i.cached.domParser=new SO(i,SO.schemaRules(i)))}}const e8e={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},PBt={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},t8e={ol:!0,ul:!0};function n8e(s,i,e){return null!=i?(i?1:0)|("full"===i?2:0):s&&"pre"==s.whitespace?3:-5&e}class Z9{constructor(i,e,n,o,r,a,l){this.type=i,this.attrs=e,this.marks=n,this.pendingMarks=o,this.solid=r,this.options=l,this.content=[],this.activeMarks=qs.none,this.stashMarks=[],this.match=a||(4&l?null:i.contentMatch)}findWrapping(i){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(Te.from(i));if(!e){let o,n=this.type.contentMatch;return(o=n.findWrapping(i.type))?(this.match=n,o):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(i.type)}finish(i){if(!(1&this.options)){let o,n=this.content[this.content.length-1];if(n&&n.isText&&(o=/[ \t\r\n\u000c]+$/.exec(n.text))){let r=n;n.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=r.withText(r.text.slice(0,r.text.length-o[0].length))}}let e=Te.from(this.content);return!i&&this.match&&(e=e.append(this.match.fillBefore(Te.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}popFromStashMark(i){for(let e=this.stashMarks.length-1;e>=0;e--)if(i.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]}applyPending(i){for(let e=0,n=this.pendingMarks;e<n.length;e++){let o=n[e];(this.type?this.type.allowsMarkType(o.type):VBt(o.type,i))&&!o.isInSet(this.activeMarks)&&(this.activeMarks=o.addToSet(this.activeMarks),this.pendingMarks=o.removeFromSet(this.pendingMarks))}}inlineContext(i){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:i.parentNode&&!e8e.hasOwnProperty(i.parentNode.nodeName.toLowerCase())}}class i8e{constructor(i,e,n){this.parser=i,this.options=e,this.isOpen=n,this.open=0;let r,o=e.topNode,a=n8e(null,e.preserveWhitespace,0)|(n?4:0);r=o?new Z9(o.type,o.attrs,qs.none,qs.none,!0,e.topMatch||o.type.contentMatch,a):new Z9(n?null:i.schema.topNodeType,null,qs.none,qs.none,!0,null,a),this.nodes=[r],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(i){3==i.nodeType?this.addTextNode(i):1==i.nodeType&&this.addElement(i)}withStyleRules(i,e){let n=i.getAttribute("style");if(!n)return e();let o=this.readStyles(function BBt(s){let e,i=/\s*([\w-]+)\s*:\s*([^;]+)/g,n=[];for(;e=i.exec(s);)n.push(e[1],e[2].trim());return n}(n));if(!o)return;let[r,a]=o,l=this.top;for(let c=0;c<a.length;c++)this.removePendingMark(a[c],l);for(let c=0;c<r.length;c++)this.addPendingMark(r[c]);e();for(let c=0;c<r.length;c++)this.removePendingMark(r[c],l);for(let c=0;c<a.length;c++)this.addPendingMark(a[c])}addTextNode(i){let e=i.nodeValue,n=this.top;if(2&n.options||n.inlineContext(i)||/[^ \t\r\n\u000c]/.test(e)){if(1&n.options)e=2&n.options?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){let o=n.content[n.content.length-1],r=i.previousSibling;(!o||r&&"BR"==r.nodeName||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(i)}else this.findInside(i)}addElement(i,e){let o,n=i.nodeName.toLowerCase();t8e.hasOwnProperty(n)&&this.parser.normalizeLists&&function FBt(s){for(let i=s.firstChild,e=null;i;i=i.nextSibling){let n=1==i.nodeType?i.nodeName.toLowerCase():null;n&&t8e.hasOwnProperty(n)&&e?(e.appendChild(i),i=e):"li"==n?e=i:n&&(e=null)}}(i);let r=this.options.ruleFromNode&&this.options.ruleFromNode(i)||(o=this.parser.matchTag(i,this,e));if(r?r.ignore:PBt.hasOwnProperty(n))this.findInside(i),this.ignoreFallback(i);else if(!r||r.skip||r.closeParent){r&&r.closeParent?this.open=Math.max(0,this.open-1):r&&r.skip.nodeType&&(i=r.skip);let a,l=this.top,c=this.needsBlock;if(e8e.hasOwnProperty(n))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),a=!0,l.type||(this.needsBlock=!0);else if(!i.firstChild)return void this.leafFallback(i);r&&r.skip?this.addAll(i):this.withStyleRules(i,()=>this.addAll(i)),a&&this.sync(l),this.needsBlock=c}else this.withStyleRules(i,()=>{this.addElementByRule(i,r,!1===r.consuming?o:void 0)})}leafFallback(i){"BR"==i.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(i.ownerDocument.createTextNode("\n"))}ignoreFallback(i){"BR"==i.nodeName&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(i){let e=qs.none,n=qs.none;for(let o=0;o<i.length;o+=2)for(let r;;){let a=this.parser.matchStyle(i[o],i[o+1],this,r);if(!a)break;if(a.ignore)return null;if(a.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(l=>{a.clearMark(l)&&(n=l.addToSet(n))}):e=this.parser.schema.marks[a.mark].create(a.attrs).addToSet(e),!1!==a.consuming)break;r=a}return[e,n]}addElementByRule(i,e,n){let o,r,a;e.node?(r=this.parser.schema.nodes[e.node],r.isLeaf?this.insertNode(r.create(e.attrs))||this.leafFallback(i):o=this.enter(r,e.attrs||null,e.preserveWhitespace)):(a=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(a));let l=this.top;if(r&&r.isLeaf)this.findInside(i);else if(n)this.addElement(i,n);else if(e.getContent)this.findInside(i),e.getContent(i,this.parser.schema).forEach(c=>this.insertNode(c));else{let c=i;"string"==typeof e.contentElement?c=i.querySelector(e.contentElement):"function"==typeof e.contentElement?c=e.contentElement(i):e.contentElement&&(c=e.contentElement),this.findAround(i,c,!0),this.addAll(c)}o&&this.sync(l)&&this.open--,a&&this.removePendingMark(a,l)}addAll(i,e,n){let o=e||0;for(let r=e?i.childNodes[e]:i.firstChild,a=null==n?null:i.childNodes[n];r!=a;r=r.nextSibling,++o)this.findAtPoint(i,o),this.addDOM(r);this.findAtPoint(i,o)}findPlace(i){let e,n;for(let o=this.open;o>=0;o--){let r=this.nodes[o],a=r.findWrapping(i);if(a&&(!e||e.length>a.length)&&(e=a,n=r,!a.length)||r.solid)break}if(!e)return!1;this.sync(n);for(let o=0;o<e.length;o++)this.enterInner(e[o],null,!1);return!0}insertNode(i){if(i.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(i)){this.closeExtra();let e=this.top;e.applyPending(i.type),e.match&&(e.match=e.match.matchType(i.type));let n=e.activeMarks;for(let o=0;o<i.marks.length;o++)(!e.type||e.type.allowsMarkType(i.marks[o].type))&&(n=i.marks[o].addToSet(n));return e.content.push(i.mark(n)),!0}return!1}enter(i,e,n){let o=this.findPlace(i.create(e));return o&&this.enterInner(i,e,!0,n),o}enterInner(i,e=null,n=!1,o){this.closeExtra();let r=this.top;r.applyPending(i),r.match=r.match&&r.match.matchType(i);let a=n8e(i,o,r.options);4&r.options&&0==r.content.length&&(a|=4),this.nodes.push(new Z9(i,e,r.activeMarks,r.pendingMarks,n,null,a)),this.open++}closeExtra(i=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(i));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(i){for(let e=this.open;e>=0;e--)if(this.nodes[e]==i)return this.open=e,!0;return!1}get currentPos(){this.closeExtra();let i=0;for(let e=this.open;e>=0;e--){let n=this.nodes[e].content;for(let o=n.length-1;o>=0;o--)i+=n[o].nodeSize;e&&i++}return i}findAtPoint(i,e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==i&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)}findInside(i){if(this.find)for(let e=0;e<this.find.length;e++)null==this.find[e].pos&&1==i.nodeType&&i.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(i,e,n){if(i!=e&&this.find)for(let o=0;o<this.find.length;o++)null==this.find[o].pos&&1==i.nodeType&&i.contains(this.find[o].node)&&e.compareDocumentPosition(this.find[o].node)&(n?2:4)&&(this.find[o].pos=this.currentPos)}findInText(i){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==i&&(this.find[e].pos=this.currentPos-(i.nodeValue.length-this.find[e].offset))}matchesContext(i){if(i.indexOf("|")>-1)return i.split(/\s*\|\s*/).some(this.matchesContext,this);let e=i.split("/"),n=this.options.context,o=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),r=(o?0:1)-(n?n.depth+1:0),a=(l,c)=>{for(;l>=0;l--){let u=e[l];if(""==u){if(l==e.length-1||0==l)continue;for(;c>=r;c--)if(a(l-1,c))return!0;return!1}{let f=c>0||0==c&&o?this.nodes[c].type:n&&c>=r?n.node(c-r).type:null;if(!f||f.name!=u&&-1==f.groups.indexOf(u))return!1;c--}}return!0};return a(e.length-1,this.open)}textblockFromContext(){let i=this.options.context;if(i)for(let e=i.depth;e>=0;e--){let n=i.node(e).contentMatchAt(i.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let n=this.parser.schema.nodes[e];if(n.isTextblock&&n.defaultAttrs)return n}}addPendingMark(i){let e=function zBt(s,i){for(let e=0;e<i.length;e++)if(s.eq(i[e]))return i[e]}(i,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=i.addToSet(this.top.pendingMarks)}removePendingMark(i,e){for(let n=this.open;n>=0;n--){let o=this.nodes[n];if(o.pendingMarks.lastIndexOf(i)>-1)o.pendingMarks=i.removeFromSet(o.pendingMarks);else{o.activeMarks=i.removeFromSet(o.activeMarks);let a=o.popFromStashMark(i);a&&o.type&&o.type.allowsMarkType(a.type)&&(o.activeMarks=a.addToSet(o.activeMarks))}if(o==e)break}}}function UBt(s,i){return(s.matches||s.msMatchesSelector||s.webkitMatchesSelector||s.mozMatchesSelector).call(s,i)}function s8e(s){let i={};for(let e in s)i[e]=s[e];return i}function VBt(s,i){let e=i.schema.nodes;for(let n in e){let o=e[n];if(!o.allowsMarkType(s))continue;let r=[],a=l=>{r.push(l);for(let c=0;c<l.edgeCount;c++){let{type:u,next:f}=l.edge(c);if(u==i||r.indexOf(f)<0&&a(f))return!0}};if(a(o.contentMatch))return!0}}class Wg{constructor(i,e){this.nodes=i,this.marks=e}serializeFragment(i,e={},n){n||(n=dae(e).createDocumentFragment());let o=n,r=[];return i.forEach(a=>{if(r.length||a.marks.length){let l=0,c=0;for(;l<r.length&&c<a.marks.length;){let u=a.marks[c];if(this.marks[u.type.name]){if(!u.eq(r[l][0])||!1===u.type.spec.spanning)break;l++,c++}else c++}for(;l<r.length;)o=r.pop()[1];for(;c<a.marks.length;){let u=a.marks[c++],f=this.serializeMark(u,a.isInline,e);f&&(r.push([u,o]),o.appendChild(f.dom),o=f.contentDOM||f.dom)}}o.appendChild(this.serializeNodeInner(a,e))}),n}serializeNodeInner(i,e){let{dom:n,contentDOM:o}=Wg.renderSpec(dae(e),this.nodes[i.type.name](i));if(o){if(i.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(i.content,e,o)}return n}serializeNode(i,e={}){let n=this.serializeNodeInner(i,e);for(let o=i.marks.length-1;o>=0;o--){let r=this.serializeMark(i.marks[o],i.isInline,e);r&&((r.contentDOM||r.dom).appendChild(n),n=r.dom)}return n}serializeMark(i,e,n={}){let o=this.marks[i.type.name];return o&&Wg.renderSpec(dae(n),o(i,e))}static renderSpec(i,e,n=null){if("string"==typeof e)return{dom:i.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;let o=e[0],r=o.indexOf(" ");r>0&&(n=o.slice(0,r),o=o.slice(r+1));let a,l=n?i.createElementNS(n,o):i.createElement(o),c=e[1],u=1;if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c)){u=2;for(let f in c)if(null!=c[f]){let _=f.indexOf(" ");_>0?l.setAttributeNS(f.slice(0,_),f.slice(_+1),c[f]):l.setAttribute(f,c[f])}}for(let f=u;f<e.length;f++){let _=e[f];if(0===_){if(f<e.length-1||f>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}{let{dom:g,contentDOM:S}=Wg.renderSpec(i,_,n);if(l.appendChild(g),S){if(a)throw new RangeError("Multiple content holes");a=S}}}return{dom:l,contentDOM:a}}static fromSchema(i){return i.cached.domSerializer||(i.cached.domSerializer=new Wg(this.nodesFromSchema(i),this.marksFromSchema(i)))}static nodesFromSchema(i){let e=o8e(i.nodes);return e.text||(e.text=n=>n.text),e}static marksFromSchema(i){return o8e(i.marks)}}function o8e(s){let i={};for(let e in s){let n=s[e].spec.toDOM;n&&(i[e]=n)}return i}function dae(s){return s.document||window.document}const a8e=Math.pow(2,16);function jBt(s,i){return s+i*a8e}function l8e(s){return 65535&s}class uae{constructor(i,e,n){this.pos=i,this.delInfo=e,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class au{constructor(i,e=!1){if(this.ranges=i,this.inverted=e,!i.length&&au.empty)return au.empty}recover(i){let e=0,n=l8e(i);if(!this.inverted)for(let o=0;o<n;o++)e+=this.ranges[3*o+2]-this.ranges[3*o+1];return this.ranges[3*n]+e+function HBt(s){return(s-(65535&s))/a8e}(i)}mapResult(i,e=1){return this._map(i,e,!1)}map(i,e=1){return this._map(i,e,!0)}_map(i,e,n){let o=0,r=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?o:0);if(c>i)break;let u=this.ranges[l+r],f=this.ranges[l+a],_=c+u;if(i<=_){let S=c+o+((u?i==c?-1:i==_?1:e:e)<0?0:f);if(n)return S;let b=i==(e<0?c:_)?null:jBt(l/3,i-c),k=i==c?2:i==_?1:4;return(e<0?i!=c:i!=_)&&(k|=8),new uae(S,k,b)}o+=f-u}return n?i+o:new uae(i+o,0,null)}touches(i,e){let n=0,o=l8e(e),r=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?n:0);if(c>i)break;let u=this.ranges[l+r];if(i<=c+u&&l==3*o)return!0;n+=this.ranges[l+a]-u}return!1}forEach(i){let e=this.inverted?2:1,n=this.inverted?1:2;for(let o=0,r=0;o<this.ranges.length;o+=3){let a=this.ranges[o],l=a-(this.inverted?r:0),c=a+(this.inverted?0:r),u=this.ranges[o+e],f=this.ranges[o+n];i(l,l+u,c,c+f),r+=f-u}}invert(){return new au(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(i){return 0==i?au.empty:new au(i<0?[0,-i,0]:[0,0,i])}}au.empty=new au([]);class CO{constructor(i=[],e,n=0,o=i.length){this.maps=i,this.mirror=e,this.from=n,this.to=o}slice(i=0,e=this.maps.length){return new CO(this.maps,this.mirror,i,e)}copy(){return new CO(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(i,e){this.to=this.maps.push(i),null!=e&&this.setMirror(this.maps.length-1,e)}appendMapping(i){for(let e=0,n=this.maps.length;e<i.maps.length;e++){let o=i.getMirror(e);this.appendMap(i.maps[e],null!=o&&o<e?n+o:void 0)}}getMirror(i){if(this.mirror)for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==i)return this.mirror[e+(e%2?-1:1)]}setMirror(i,e){this.mirror||(this.mirror=[]),this.mirror.push(i,e)}appendMappingInverted(i){for(let e=i.maps.length-1,n=this.maps.length+i.maps.length;e>=0;e--){let o=i.getMirror(e);this.appendMap(i.maps[e].invert(),null!=o&&o>e?n-o-1:void 0)}}invert(){let i=new CO;return i.appendMappingInverted(this),i}map(i,e=1){if(this.mirror)return this._map(i,e,!0);for(let n=this.from;n<this.to;n++)i=this.maps[n].map(i,e);return i}mapResult(i,e=1){return this._map(i,e,!1)}_map(i,e,n){let o=0;for(let r=this.from;r<this.to;r++){let l=this.maps[r].mapResult(i,e);if(null!=l.recover){let c=this.getMirror(r);if(null!=c&&c>r&&c<this.to){r=c,i=this.maps[c].recover(l.recover);continue}}o|=l.delInfo,i=l.pos}return n?i:new uae(i,o,null)}}const hae=Object.create(null);class Ol{getMap(){return au.empty}merge(i){return null}static fromJSON(i,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=hae[e.stepType];if(!n)throw new RangeError(`No step type ${e.stepType} defined`);return n.fromJSON(i,e)}static jsonID(i,e){if(i in hae)throw new RangeError("Duplicate use of step JSON ID "+i);return hae[i]=e,e.prototype.jsonID=i,e}}class Wr{constructor(i,e){this.doc=i,this.failed=e}static ok(i){return new Wr(i,null)}static fail(i){return new Wr(null,i)}static fromReplace(i,e,n,o){try{return Wr.ok(i.replace(e,n,o))}catch(r){if(r instanceof W9)return Wr.fail(r.message);throw r}}}function pae(s,i,e){let n=[];for(let o=0;o<s.childCount;o++){let r=s.child(o);r.content.size&&(r=r.copy(pae(r.content,i,r))),r.isInline&&(r=i(r,e,o)),n.push(r)}return Te.fromArray(n)}class Yg extends Ol{constructor(i,e,n){super(),this.from=i,this.to=e,this.mark=n}apply(i){let e=i.slice(this.from,this.to),n=i.resolve(this.from),o=n.node(n.sharedDepth(this.to)),r=new tt(pae(e.content,(a,l)=>a.isAtom&&l.type.allowsMarkType(this.mark.type)?a.mark(this.mark.addToSet(a.marks)):a,o),e.openStart,e.openEnd);return Wr.fromReplace(i,this.from,this.to,r)}invert(){return new Sh(this.from,this.to,this.mark)}map(i){let e=i.mapResult(this.from,1),n=i.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new Yg(e.pos,n.pos,this.mark)}merge(i){return i instanceof Yg&&i.mark.eq(this.mark)&&this.from<=i.to&&this.to>=i.from?new Yg(Math.min(this.from,i.from),Math.max(this.to,i.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(i,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Yg(e.from,e.to,i.markFromJSON(e.mark))}}Ol.jsonID("addMark",Yg);class Sh extends Ol{constructor(i,e,n){super(),this.from=i,this.to=e,this.mark=n}apply(i){let e=i.slice(this.from,this.to),n=new tt(pae(e.content,o=>o.mark(this.mark.removeFromSet(o.marks)),i),e.openStart,e.openEnd);return Wr.fromReplace(i,this.from,this.to,n)}invert(){return new Yg(this.from,this.to,this.mark)}map(i){let e=i.mapResult(this.from,1),n=i.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new Sh(e.pos,n.pos,this.mark)}merge(i){return i instanceof Sh&&i.mark.eq(this.mark)&&this.from<=i.to&&this.to>=i.from?new Sh(Math.min(this.from,i.from),Math.max(this.to,i.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(i,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Sh(e.from,e.to,i.markFromJSON(e.mark))}}Ol.jsonID("removeMark",Sh);class LS extends Ol{constructor(i,e){super(),this.pos=i,this.mark=e}apply(i){let e=i.nodeAt(this.pos);if(!e)return Wr.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return Wr.fromReplace(i,this.pos,this.pos+1,new tt(Te.from(n),0,e.isLeaf?0:1))}invert(i){let e=i.nodeAt(this.pos);if(e){let n=this.mark.addToSet(e.marks);if(n.length==e.marks.length){for(let o=0;o<e.marks.length;o++)if(!e.marks[o].isInSet(n))return new LS(this.pos,e.marks[o]);return new LS(this.pos,this.mark)}}return new bO(this.pos,this.mark)}map(i){let e=i.mapResult(this.pos,1);return e.deletedAfter?null:new LS(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(i,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new LS(e.pos,i.markFromJSON(e.mark))}}Ol.jsonID("addNodeMark",LS);class bO extends Ol{constructor(i,e){super(),this.pos=i,this.mark=e}apply(i){let e=i.nodeAt(this.pos);if(!e)return Wr.fail("No node at mark step's position");let n=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return Wr.fromReplace(i,this.pos,this.pos+1,new tt(Te.from(n),0,e.isLeaf?0:1))}invert(i){let e=i.nodeAt(this.pos);return e&&this.mark.isInSet(e.marks)?new LS(this.pos,this.mark):this}map(i){let e=i.mapResult(this.pos,1);return e.deletedAfter?null:new bO(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(i,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new bO(e.pos,i.markFromJSON(e.mark))}}Ol.jsonID("removeNodeMark",bO);class Tl extends Ol{constructor(i,e,n,o=!1){super(),this.from=i,this.to=e,this.slice=n,this.structure=o}apply(i){return this.structure&&fae(i,this.from,this.to)?Wr.fail("Structure replace would overwrite content"):Wr.fromReplace(i,this.from,this.to,this.slice)}getMap(){return new au([this.from,this.to-this.from,this.slice.size])}invert(i){return new Tl(this.from,this.from+this.slice.size,i.slice(this.from,this.to))}map(i){let e=i.mapResult(this.from,1),n=i.mapResult(this.to,-1);return e.deletedAcross&&n.deletedAcross?null:new Tl(e.pos,Math.max(e.pos,n.pos),this.slice)}merge(i){if(!(i instanceof Tl)||i.structure||this.structure)return null;if(this.from+this.slice.size!=i.from||this.slice.openEnd||i.slice.openStart){if(i.to!=this.from||this.slice.openStart||i.slice.openEnd)return null;{let e=this.slice.size+i.slice.size==0?tt.empty:new tt(i.slice.content.append(this.slice.content),i.slice.openStart,this.slice.openEnd);return new Tl(i.from,this.to,e,this.structure)}}{let e=this.slice.size+i.slice.size==0?tt.empty:new tt(this.slice.content.append(i.slice.content),this.slice.openStart,i.slice.openEnd);return new Tl(this.from,this.to+(i.to-i.from),e,this.structure)}}toJSON(){let i={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(i.slice=this.slice.toJSON()),this.structure&&(i.structure=!0),i}static fromJSON(i,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Tl(e.from,e.to,tt.fromJSON(i,e.slice),!!e.structure)}}Ol.jsonID("replace",Tl);class ia extends Ol{constructor(i,e,n,o,r,a,l=!1){super(),this.from=i,this.to=e,this.gapFrom=n,this.gapTo=o,this.slice=r,this.insert=a,this.structure=l}apply(i){if(this.structure&&(fae(i,this.from,this.gapFrom)||fae(i,this.gapTo,this.to)))return Wr.fail("Structure gap-replace would overwrite content");let e=i.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return Wr.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,e.content);return n?Wr.fromReplace(i,this.from,this.to,n):Wr.fail("Content does not fit in gap")}getMap(){return new au([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(i){let e=this.gapTo-this.gapFrom;return new ia(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,i.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(i){let e=i.mapResult(this.from,1),n=i.mapResult(this.to,-1),o=i.map(this.gapFrom,-1),r=i.map(this.gapTo,1);return e.deletedAcross&&n.deletedAcross||o<e.pos||r>n.pos?null:new ia(e.pos,n.pos,o,r,this.slice,this.insert,this.structure)}toJSON(){let i={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(i.slice=this.slice.toJSON()),this.structure&&(i.structure=!0),i}static fromJSON(i,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ia(e.from,e.to,e.gapFrom,e.gapTo,tt.fromJSON(i,e.slice),e.insert,!!e.structure)}}function fae(s,i,e){let n=s.resolve(i),o=e-i,r=n.depth;for(;o>0&&r>0&&n.indexAfter(r)==n.node(r).childCount;)r--,o--;if(o>0){let a=n.node(r).maybeChild(n.indexAfter(r));for(;o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}}return!1}function YBt(s,i,e){return(0==i||s.canReplace(i,s.childCount))&&(e==s.childCount||s.canReplace(0,e))}function EO(s){let e=s.parent.content.cutByIndex(s.startIndex,s.endIndex);for(let n=s.depth;;--n){let o=s.$from.node(n),r=s.$from.index(n),a=s.$to.indexAfter(n);if(n<s.depth&&o.canReplace(r,a,e))return n;if(0==n||o.type.spec.isolating||!YBt(o,r,a))break}return null}function h8e(s,i,e=null,n=s){let o=function JBt(s,i){let{parent:e,startIndex:n,endIndex:o}=s,r=e.contentMatchAt(n).findWrapping(i);return r&&e.canReplaceWith(n,o,r.length?r[0]:i)?r:null}(s,i),r=o&&function qBt(s,i){let{parent:e,startIndex:n,endIndex:o}=s,r=e.child(n),a=i.contentMatch.findWrapping(r.type);if(!a)return null;let c=(a.length?a[a.length-1]:i).contentMatch;for(let u=n;c&&u<o;u++)c=c.matchType(e.child(u).type);return c&&c.validEnd?a:null}(n,i);return r?o.map(p8e).concat({type:i,attrs:e}).concat(r.map(p8e)):null}function p8e(s){return{type:s,attrs:null}}function yO(s,i,e=1,n){let o=s.resolve(i),r=o.depth-e,a=n&&n[n.length-1]||o.parent;if(r<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let u=o.depth-1,f=e-2;u>r;u--,f--){let _=o.node(u),g=o.index(u);if(_.type.spec.isolating)return!1;let S=_.content.cutByIndex(g,_.childCount),b=n&&n[f+1];b&&(S=S.replaceChild(0,b.type.create(b.attrs)));let k=n&&n[f]||_;if(!_.canReplace(g+1,_.childCount)||!k.type.validContent(S))return!1}let l=o.indexAfter(r),c=n&&n[0];return o.node(r).canReplaceWith(l,l,c?c.type:o.node(r+1).type)}function tz(s,i){let e=s.resolve(i),n=e.index();return function f8e(s,i){return!(!s||!i||s.isLeaf||!s.canAppend(i))}(e.nodeBefore,e.nodeAfter)&&e.parent.canReplace(n,n+1)}function mae(s,i,e=i,n=tt.empty){if(i==e&&!n.size)return null;let o=s.resolve(i),r=s.resolve(e);return m8e(o,r,n)?new Tl(i,e,n):new rVt(o,r,n).fit()}function m8e(s,i,e){return!e.openStart&&!e.openEnd&&s.start()==i.start()&&s.parent.canReplace(s.index(),i.index(),e.content)}Ol.jsonID("replaceAround",ia);class rVt{constructor(i,e,n){this.$from=i,this.$to=e,this.unplaced=n,this.frontier=[],this.placed=Te.empty;for(let o=0;o<=i.depth;o++){let r=i.node(o);this.frontier.push({type:r.type,match:r.contentMatchAt(i.indexAfter(o))})}for(let o=i.depth;o>0;o--)this.placed=Te.from(i.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let i=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,n=this.$from,o=this.close(i<0?this.$to:n.doc.resolve(i));if(!o)return null;let r=this.placed,a=n.depth,l=o.depth;for(;a&&l&&1==r.childCount;)r=r.firstChild.content,a--,l--;let c=new tt(r,a,l);return i>-1?new ia(n.pos,i,this.$to.pos,this.$to.end(),c,e):c.size||n.pos!=this.$to.pos?new Tl(n.pos,o.pos,c):null}findFittable(){let i=this.unplaced.openStart;for(let e=this.unplaced.content,n=0,o=this.unplaced.openEnd;n<i;n++){let r=e.firstChild;if(e.childCount>1&&(o=0),r.type.spec.isolating&&o<=n){i=n;break}e=r.content}for(let e=1;e<=2;e++)for(let n=1==e?i:this.unplaced.openStart;n>=0;n--){let o,r=null;n?(r=_ae(this.unplaced.content,n-1).firstChild,o=r.content):o=this.unplaced.content;let a=o.firstChild;for(let l=this.depth;l>=0;l--){let f,{type:c,match:u}=this.frontier[l],_=null;if(1==e&&(a?u.matchType(a.type)||(_=u.fillBefore(Te.from(a),!1)):r&&c.compatibleContent(r.type)))return{sliceDepth:n,frontierDepth:l,parent:r,inject:_};if(2==e&&a&&(f=u.findWrapping(a.type)))return{sliceDepth:n,frontierDepth:l,parent:r,wrap:f};if(r&&u.matchType(r.type))break}}}openMore(){let{content:i,openStart:e,openEnd:n}=this.unplaced,o=_ae(i,e);return!(!o.childCount||o.firstChild.isLeaf||(this.unplaced=new tt(i,e+1,Math.max(n,o.size+e>=i.size-n?e+1:0)),0))}dropNode(){let{content:i,openStart:e,openEnd:n}=this.unplaced,o=_ae(i,e);if(o.childCount<=1&&e>0){let r=i.size-e<=e+o.size;this.unplaced=new tt(y4(i,e-1,1),e-1,r?e-1:n)}else this.unplaced=new tt(y4(i,e,1),e,n)}placeNodes({sliceDepth:i,frontierDepth:e,parent:n,inject:o,wrap:r}){for(;this.depth>e;)this.closeFrontierNode();if(r)for(let k=0;k<r.length;k++)this.openFrontierNode(r[k]);let a=this.unplaced,l=n?n.content:a.content,c=a.openStart-i,u=0,f=[],{match:_,type:g}=this.frontier[e];if(o){for(let k=0;k<o.childCount;k++)f.push(o.child(k));_=_.matchFragment(o)}let S=l.size+i-(a.content.size-a.openEnd);for(;u<l.childCount;){let k=l.child(u),D=_.matchType(k.type);if(!D)break;u++,(u>1||0==c||k.content.size)&&(_=D,f.push(_8e(k.mark(g.allowedMarks(k.marks)),1==u?c:0,u==l.childCount?S:-1)))}let b=u==l.childCount;b||(S=-1),this.placed=k4(this.placed,e,Te.from(f)),this.frontier[e].match=_,b&&S<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let k=0,D=l;k<S;k++){let O=D.lastChild;this.frontier.push({type:O.type,match:O.contentMatchAt(O.childCount)}),D=O.content}this.unplaced=b?0==i?tt.empty:new tt(y4(a.content,i-1,1),i-1,S<0?a.openEnd:i-1):new tt(y4(a.content,i,u),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,i=this.frontier[this.depth];if(!i.type.isTextblock||!gae(this.$to,this.$to.depth,i.type,i.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,o=this.$to.after(n);for(;n>1&&o==this.$to.end(--n);)++o;return o}findCloseLevel(i){e:for(let e=Math.min(this.depth,i.depth);e>=0;e--){let{match:n,type:o}=this.frontier[e],r=e<i.depth&&i.end(e+1)==i.pos+(i.depth-(e+1)),a=gae(i,e,o,n,r);if(a){for(let l=e-1;l>=0;l--){let{match:c,type:u}=this.frontier[l],f=gae(i,l,u,c,!0);if(!f||f.childCount)continue e}return{depth:e,fit:a,move:r?i.doc.resolve(i.after(e+1)):i}}}}close(i){let e=this.findCloseLevel(i);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=k4(this.placed,e.depth,e.fit)),i=e.move;for(let n=e.depth+1;n<=i.depth;n++){let o=i.node(n),r=o.type.contentMatch.fillBefore(o.content,!0,i.index(n));this.openFrontierNode(o.type,o.attrs,r)}return i}openFrontierNode(i,e=null,n){let o=this.frontier[this.depth];o.match=o.match.matchType(i),this.placed=k4(this.placed,this.depth,Te.from(i.create(e,n))),this.frontier.push({type:i,match:i.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(Te.empty,!0);e.childCount&&(this.placed=k4(this.placed,this.frontier.length,e))}}function y4(s,i,e){return 0==i?s.cutByIndex(e,s.childCount):s.replaceChild(0,s.firstChild.copy(y4(s.firstChild.content,i-1,e)))}function k4(s,i,e){return 0==i?s.append(e):s.replaceChild(s.childCount-1,s.lastChild.copy(k4(s.lastChild.content,i-1,e)))}function _ae(s,i){for(let e=0;e<i;e++)s=s.firstChild.content;return s}function _8e(s,i,e){if(i<=0)return s;let n=s.content;return i>1&&(n=n.replaceChild(0,_8e(n.firstChild,i-1,1==n.childCount?e-1:0))),i>0&&(n=s.type.contentMatch.fillBefore(n).append(n),e<=0&&(n=n.append(s.type.contentMatch.matchFragment(n).fillBefore(Te.empty,!0)))),s.copy(n)}function gae(s,i,e,n,o){let r=s.node(i),a=o?s.indexAfter(i):s.index(i);if(a==r.childCount&&!e.compatibleContent(r.type))return null;let l=n.fillBefore(r.content,!0,a);return l&&!function aVt(s,i,e){for(let n=e;n<i.childCount;n++)if(!s.allowsMarks(i.child(n).marks))return!0;return!1}(e,r.content,a)?l:null}function lVt(s){return s.spec.defining||s.spec.definingForContent}function g8e(s,i,e,n,o){if(i<e){let r=s.firstChild;s=s.replaceChild(0,r.copy(g8e(r.content,i+1,e,n,r)))}if(i>n){let r=o.contentMatchAt(0),a=r.fillBefore(s).append(s);s=a.append(r.matchFragment(a).fillBefore(Te.empty,!0))}return s}function v8e(s,i){let e=[];for(let o=Math.min(s.depth,i.depth);o>=0;o--){let r=s.start(o);if(r<s.pos-(s.depth-o)||i.end(o)>i.pos+(i.depth-o)||s.node(o).type.spec.isolating||i.node(o).type.spec.isolating)break;(r==i.start(o)||o==s.depth&&o==i.depth&&s.parent.inlineContent&&i.parent.inlineContent&&o&&i.start(o-1)==r-1)&&e.push(o)}return e}class kO extends Ol{constructor(i,e,n){super(),this.pos=i,this.attr=e,this.value=n}apply(i){let e=i.nodeAt(this.pos);if(!e)return Wr.fail("No node at attribute step's position");let n=Object.create(null);for(let r in e.attrs)n[r]=e.attrs[r];n[this.attr]=this.value;let o=e.type.create(n,null,e.marks);return Wr.fromReplace(i,this.pos,this.pos+1,new tt(Te.from(o),0,e.isLeaf?0:1))}getMap(){return au.empty}invert(i){return new kO(this.pos,this.attr,i.nodeAt(this.pos).attrs[this.attr])}map(i){let e=i.mapResult(this.pos,1);return e.deletedAfter?null:new kO(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(i,e){if("number"!=typeof e.pos||"string"!=typeof e.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new kO(e.pos,e.attr,e.value)}}Ol.jsonID("attr",kO);class w4 extends Ol{constructor(i,e){super(),this.attr=i,this.value=e}apply(i){let e=Object.create(null);for(let o in i.attrs)e[o]=i.attrs[o];e[this.attr]=this.value;let n=i.type.create(e,i.content,i.marks);return Wr.ok(n)}getMap(){return au.empty}invert(i){return new w4(this.attr,i.attrs[this.attr])}map(i){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(i,e){if("string"!=typeof e.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new w4(e.attr,e.value)}}Ol.jsonID("docAttr",w4);let wO=class extends Error{};wO=function s(i){let e=Error.call(this,i);return e.__proto__=s.prototype,e},(wO.prototype=Object.create(Error.prototype)).constructor=wO,wO.prototype.name="TransformError";class S8e{constructor(i){this.doc=i,this.steps=[],this.docs=[],this.mapping=new CO}get before(){return this.docs.length?this.docs[0]:this.doc}step(i){let e=this.maybeStep(i);if(e.failed)throw new wO(e.failed);return this}maybeStep(i){let e=i.apply(this.doc);return e.failed||this.addStep(i,e.doc),e}get docChanged(){return this.steps.length>0}addStep(i,e){this.docs.push(this.doc),this.steps.push(i),this.mapping.appendMap(i.getMap()),this.doc=e}replace(i,e=i,n=tt.empty){let o=mae(this.doc,i,e,n);return o&&this.step(o),this}replaceWith(i,e,n){return this.replace(i,e,new tt(Te.from(n),0,0))}delete(i,e){return this.replace(i,e,tt.empty)}insert(i,e){return this.replaceWith(i,i,e)}replaceRange(i,e,n){return function cVt(s,i,e,n){if(!n.size)return s.deleteRange(i,e);let o=s.doc.resolve(i),r=s.doc.resolve(e);if(m8e(o,r,n))return s.step(new Tl(i,e,n));let a=v8e(o,s.doc.resolve(e));0==a[a.length-1]&&a.pop();let l=-(o.depth+1);a.unshift(l);for(let g=o.depth,S=o.pos-1;g>0;g--,S--){let b=o.node(g).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;a.indexOf(g)>-1?l=g:o.before(g)==S&&a.splice(1,0,-g)}let c=a.indexOf(l),u=[],f=n.openStart;for(let g=n.content,S=0;;S++){let b=g.firstChild;if(u.push(b),S==n.openStart)break;g=b.content}for(let g=f-1;g>=0;g--){let S=u[g],b=lVt(S.type);if(b&&!S.sameMarkup(o.node(Math.abs(l)-1)))f=g;else if(b||!S.type.isTextblock)break}for(let g=n.openStart;g>=0;g--){let S=(g+f+1)%(n.openStart+1),b=u[S];if(b)for(let k=0;k<a.length;k++){let D=a[(k+c)%a.length],O=!0;D<0&&(O=!1,D=-D);let I=o.node(D-1),N=o.index(D-1);if(I.canReplaceWith(N,N,b.type,b.marks))return s.replace(o.before(D),O?r.after(D):e,new tt(g8e(n.content,0,n.openStart,S),S,n.openEnd))}}let _=s.steps.length;for(let g=a.length-1;g>=0&&(s.replace(i,e,n),!(s.steps.length>_));g--){let S=a[g];S<0||(i=o.before(S),e=r.after(S))}}(this,i,e,n),this}replaceRangeWith(i,e,n){return function dVt(s,i,e,n){if(!n.isInline&&i==e&&s.doc.resolve(i).parent.content.size){let o=function sVt(s,i,e){let n=s.resolve(i);if(n.parent.canReplaceWith(n.index(),n.index(),e))return i;if(0==n.parentOffset)for(let o=n.depth-1;o>=0;o--){let r=n.index(o);if(n.node(o).canReplaceWith(r,r,e))return n.before(o+1);if(r>0)return null}if(n.parentOffset==n.parent.content.size)for(let o=n.depth-1;o>=0;o--){let r=n.indexAfter(o);if(n.node(o).canReplaceWith(r,r,e))return n.after(o+1);if(r<n.node(o).childCount)return null}return null}(s.doc,i,n.type);null!=o&&(i=e=o)}s.replaceRange(i,e,new tt(Te.from(n),0,0))}(this,i,e,n),this}deleteRange(i,e){return function uVt(s,i,e){let n=s.doc.resolve(i),o=s.doc.resolve(e),r=v8e(n,o);for(let a=0;a<r.length;a++){let l=r[a],c=a==r.length-1;if(c&&0==l||n.node(l).type.contentMatch.validEnd)return s.delete(n.start(l),o.end(l));if(l>0&&(c||n.node(l-1).canReplace(n.index(l-1),o.indexAfter(l-1))))return s.delete(n.before(l),o.after(l))}for(let a=1;a<=n.depth&&a<=o.depth;a++)if(i-n.start(a)==n.depth-a&&e>n.end(a)&&o.end(a)-e!=o.depth-a)return s.delete(n.before(a),e);s.delete(i,e)}(this,i,e),this}lift(i,e){return function KBt(s,i,e){let{$from:n,$to:o,depth:r}=i,a=n.before(r+1),l=o.after(r+1),c=a,u=l,f=Te.empty,_=0;for(let b=r,k=!1;b>e;b--)k||n.index(b)>0?(k=!0,f=Te.from(n.node(b).copy(f)),_++):c--;let g=Te.empty,S=0;for(let b=r,k=!1;b>e;b--)k||o.after(b+1)<o.end(b)?(k=!0,g=Te.from(o.node(b).copy(g)),S++):u++;s.step(new ia(c,u,a,l,new tt(f.append(g),_,S),f.size-_,!0))}(this,i,e),this}join(i,e=1){return function iVt(s,i,e){let n=new Tl(i-e,i+e,tt.empty,!0);s.step(n)}(this,i,e),this}wrap(i,e){return function QBt(s,i,e){let n=Te.empty;for(let a=e.length-1;a>=0;a--){if(n.size){let l=e[a].type.contentMatch.matchFragment(n);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=Te.from(e[a].type.create(e[a].attrs,n))}let o=i.start,r=i.end;s.step(new ia(o,r,o,r,new tt(n,0,0),e.length,!0))}(this,i,e),this}setBlockType(i,e=i,n,o=null){return function ZBt(s,i,e,n,o){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let r=s.steps.length;s.doc.nodesBetween(i,e,(a,l)=>{if(a.isTextblock&&!a.hasMarkup(n,o)&&function eVt(s,i,e){let n=s.resolve(i),o=n.index();return n.parent.canReplaceWith(o,o+1,e)}(s.doc,s.mapping.slice(r).map(l),n)){s.clearIncompatible(s.mapping.slice(r).map(l,1),n);let c=s.mapping.slice(r),u=c.map(l,1),f=c.map(l+a.nodeSize,1);return s.step(new ia(u,f,u+1,f-1,new tt(Te.from(n.create(o,null,a.marks)),0,0),1,!0)),!1}})}(this,i,e,n,o),this}setNodeMarkup(i,e,n=null,o){return function tVt(s,i,e,n,o){let r=s.doc.nodeAt(i);if(!r)throw new RangeError("No node at given position");e||(e=r.type);let a=e.create(n,null,o||r.marks);if(r.isLeaf)return s.replaceWith(i,i+r.nodeSize,a);if(!e.validContent(r.content))throw new RangeError("Invalid content for node type "+e.name);s.step(new ia(i,i+r.nodeSize,i+1,i+r.nodeSize-1,new tt(Te.from(a),0,0),1,!0))}(this,i,e,n,o),this}setNodeAttribute(i,e,n){return this.step(new kO(i,e,n)),this}setDocAttribute(i,e){return this.step(new w4(i,e)),this}addNodeMark(i,e){return this.step(new LS(i,e)),this}removeNodeMark(i,e){if(!(e instanceof qs)){let n=this.doc.nodeAt(i);if(!n)throw new RangeError("No node at position "+i);if(!(e=e.isInSet(n.marks)))return this}return this.step(new bO(i,e)),this}split(i,e=1,n){return function nVt(s,i,e=1,n){let o=s.doc.resolve(i),r=Te.empty,a=Te.empty;for(let l=o.depth,c=o.depth-e,u=e-1;l>c;l--,u--){r=Te.from(o.node(l).copy(r));let f=n&&n[u];a=Te.from(f?f.type.create(f.attrs,a):o.node(l).copy(a))}s.step(new Tl(i,i,new tt(r.append(a),e,e),!0))}(this,i,e,n),this}addMark(i,e,n){return function $Bt(s,i,e,n){let a,l,o=[],r=[];s.doc.nodesBetween(i,e,(c,u,f)=>{if(!c.isInline)return;let _=c.marks;if(!n.isInSet(_)&&f.type.allowsMarkType(n.type)){let g=Math.max(u,i),S=Math.min(u+c.nodeSize,e),b=n.addToSet(_);for(let k=0;k<_.length;k++)_[k].isInSet(b)||(a&&a.to==g&&a.mark.eq(_[k])?a.to=S:o.push(a=new Sh(g,S,_[k])));l&&l.to==g?l.to=S:r.push(l=new Yg(g,S,n))}}),o.forEach(c=>s.step(c)),r.forEach(c=>s.step(c))}(this,i,e,n),this}removeMark(i,e,n){return function XBt(s,i,e,n){let o=[],r=0;s.doc.nodesBetween(i,e,(a,l)=>{if(!a.isInline)return;r++;let c=null;if(n instanceof b4){let f,u=a.marks;for(;f=n.isInSet(u);)(c||(c=[])).push(f),u=f.removeFromSet(u)}else n?n.isInSet(a.marks)&&(c=[n]):c=a.marks;if(c&&c.length){let u=Math.min(l+a.nodeSize,e);for(let f=0;f<c.length;f++){let g,_=c[f];for(let S=0;S<o.length;S++){let b=o[S];b.step==r-1&&_.eq(o[S].style)&&(g=b)}g?(g.to=u,g.step=r):o.push({style:_,from:Math.max(l,i),to:u,step:r})}}}),o.forEach(a=>s.step(new Sh(a.from,a.to,a.style)))}(this,i,e,n),this}clearIncompatible(i,e,n){return function WBt(s,i,e,n=e.contentMatch){let o=s.doc.nodeAt(i),r=[],a=i+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),u=a+c.nodeSize,f=n.matchType(c.type);if(f){n=f;for(let _=0;_<c.marks.length;_++)e.allowsMarkType(c.marks[_].type)||s.step(new Sh(a,u,c.marks[_]));if(c.isText&&!e.spec.code){let _,S,g=/\r?\n|\r/g;for(;_=g.exec(c.text);)S||(S=new tt(Te.from(e.schema.text(" ",e.allowedMarks(c.marks))),0,0)),r.push(new Tl(a+_.index,a+_.index+_[0].length,S))}}else r.push(new Tl(a,u,tt.empty));a=u}if(!n.validEnd){let l=n.fillBefore(Te.empty,!0);s.replace(a,a,new tt(l,0,0))}for(let l=r.length-1;l>=0;l--)s.step(r[l])}(this,i,e,n),this}}const vae=Object.create(null);class Hn{constructor(i,e,n){this.$anchor=i,this.$head=e,this.ranges=n||[new C8e(i.min(e),i.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let i=this.ranges;for(let e=0;e<i.length;e++)if(i[e].$from.pos!=i[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(i,e=tt.empty){let n=e.content.lastChild,o=null;for(let l=0;l<e.openEnd;l++)o=n,n=n.lastChild;let r=i.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:c,$to:u}=a[l],f=i.mapping.slice(r);i.replaceRange(f.map(c.pos),f.map(u.pos),l?tt.empty:e),0==l&&y8e(i,r,(n?n.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(i,e){let n=i.steps.length,o=this.ranges;for(let r=0;r<o.length;r++){let{$from:a,$to:l}=o[r],c=i.mapping.slice(n),u=c.map(a.pos),f=c.map(l.pos);r?i.deleteRange(u,f):(i.replaceRangeWith(u,f,e),y8e(i,n,e.isInline?-1:1))}}static findFrom(i,e,n=!1){let o=i.parent.inlineContent?new si(i):DO(i.node(0),i.parent,i.pos,i.index(),e,n);if(o)return o;for(let r=i.depth-1;r>=0;r--){let a=e<0?DO(i.node(0),i.node(r),i.before(r+1),i.index(r),e,n):DO(i.node(0),i.node(r),i.after(r+1),i.index(r)+1,e,n);if(a)return a}return null}static near(i,e=1){return this.findFrom(i,e)||this.findFrom(i,-e)||new Ml(i.node(0))}static atStart(i){return DO(i,i,0,0,1)||new Ml(i)}static atEnd(i){return DO(i,i,i.content.size,i.childCount,-1)||new Ml(i)}static fromJSON(i,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=vae[e.type];if(!n)throw new RangeError(`No selection type ${e.type} defined`);return n.fromJSON(i,e)}static jsonID(i,e){if(i in vae)throw new RangeError("Duplicate use of selection JSON ID "+i);return vae[i]=e,e.prototype.jsonID=i,e}getBookmark(){return si.between(this.$anchor,this.$head).getBookmark()}}Hn.prototype.visible=!0;class C8e{constructor(i,e){this.$from=i,this.$to=e}}let b8e=!1;function E8e(s){!b8e&&!s.parent.inlineContent&&(b8e=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+s.parent.type.name+")"))}class si extends Hn{constructor(i,e=i){E8e(i),E8e(e),super(i,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(i,e){let n=i.resolve(e.map(this.head));if(!n.parent.inlineContent)return Hn.near(n);let o=i.resolve(e.map(this.anchor));return new si(o.parent.inlineContent?o:n,n)}replace(i,e=tt.empty){if(super.replace(i,e),e==tt.empty){let n=this.$from.marksAcross(this.$to);n&&i.ensureMarks(n)}}eq(i){return i instanceof si&&i.anchor==this.anchor&&i.head==this.head}getBookmark(){return new nz(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(i,e){if("number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new si(i.resolve(e.anchor),i.resolve(e.head))}static create(i,e,n=e){let o=i.resolve(e);return new this(o,n==e?o:i.resolve(n))}static between(i,e,n){let o=i.pos-e.pos;if((!n||o)&&(n=o>=0?1:-1),!e.parent.inlineContent){let r=Hn.findFrom(e,n,!0)||Hn.findFrom(e,-n,!0);if(!r)return Hn.near(e,n);e=r.$head}return i.parent.inlineContent||(0==o||(i=(Hn.findFrom(i,-n,!0)||Hn.findFrom(i,n,!0)).$anchor).pos<e.pos!=o<0)&&(i=e),new si(i,e)}}Hn.jsonID("text",si);class nz{constructor(i,e){this.anchor=i,this.head=e}map(i){return new nz(i.map(this.anchor),i.map(this.head))}resolve(i){return si.between(i.resolve(this.anchor),i.resolve(this.head))}}class Xt extends Hn{constructor(i){let e=i.nodeAfter,n=i.node(0).resolve(i.pos+e.nodeSize);super(i,n),this.node=e}map(i,e){let{deleted:n,pos:o}=e.mapResult(this.anchor),r=i.resolve(o);return n?Hn.near(r):new Xt(r)}content(){return new tt(Te.from(this.node),0,0)}eq(i){return i instanceof Xt&&i.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Sae(this.anchor)}static fromJSON(i,e){if("number"!=typeof e.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Xt(i.resolve(e.anchor))}static create(i,e){return new Xt(i.resolve(e))}static isSelectable(i){return!i.isText&&!1!==i.type.spec.selectable}}Xt.prototype.visible=!1,Hn.jsonID("node",Xt);class Sae{constructor(i){this.anchor=i}map(i){let{deleted:e,pos:n}=i.mapResult(this.anchor);return e?new nz(n,n):new Sae(n)}resolve(i){let e=i.resolve(this.anchor),n=e.nodeAfter;return n&&Xt.isSelectable(n)?new Xt(e):Hn.near(e)}}class Ml extends Hn{constructor(i){super(i.resolve(0),i.resolve(i.content.size))}replace(i,e=tt.empty){if(e==tt.empty){i.delete(0,i.doc.content.size);let n=Hn.atStart(i.doc);n.eq(i.selection)||i.setSelection(n)}else super.replace(i,e)}toJSON(){return{type:"all"}}static fromJSON(i){return new Ml(i)}map(i){return new Ml(i)}eq(i){return i instanceof Ml}getBookmark(){return hVt}}Hn.jsonID("all",Ml);const hVt={map(){return this},resolve:s=>new Ml(s)};function DO(s,i,e,n,o,r=!1){if(i.inlineContent)return si.create(s,e);for(let a=n-(o>0?0:1);o>0?a<i.childCount:a>=0;a+=o){let l=i.child(a);if(l.isAtom){if(!r&&Xt.isSelectable(l))return Xt.create(s,e-(o<0?l.nodeSize:0))}else{let c=DO(s,l,e+o,o<0?l.childCount:0,o,r);if(c)return c}e+=l.nodeSize*o}return null}function y8e(s,i,e){let n=s.steps.length-1;if(n<i)return;let a,o=s.steps[n];(o instanceof Tl||o instanceof ia)&&(s.mapping.maps[n].forEach((l,c,u,f)=>{null==a&&(a=f)}),s.setSelection(Hn.near(s.doc.resolve(a),e)))}class pVt extends S8e{constructor(i){super(i.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=i.selection,this.storedMarks=i.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(i){if(i.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=i,this.curSelectionFor=this.steps.length,this.updated=-3&this.updated|1,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(i){return this.storedMarks=i,this.updated|=2,this}ensureMarks(i){return qs.sameSet(this.storedMarks||this.selection.$from.marks(),i)||this.setStoredMarks(i),this}addStoredMark(i){return this.ensureMarks(i.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(i){return this.ensureMarks(i.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(i,e){super.addStep(i,e),this.updated=-3&this.updated,this.storedMarks=null}setTime(i){return this.time=i,this}replaceSelection(i){return this.selection.replace(this,i),this}replaceSelectionWith(i,e=!0){let n=this.selection;return e&&(i=i.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||qs.none))),n.replaceWith(this,i),this}deleteSelection(){return this.selection.replace(this),this}insertText(i,e,n){let o=this.doc.type.schema;if(null==e)return i?this.replaceSelectionWith(o.text(i),!0):this.deleteSelection();{if(null==n&&(n=e),n=n??e,!i)return this.deleteRange(e,n);let r=this.storedMarks;if(!r){let a=this.doc.resolve(e);r=n==e?a.marks():a.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,o.text(i,r)),this.selection.empty||this.setSelection(Hn.near(this.selection.$to)),this}}setMeta(i,e){return this.meta["string"==typeof i?i:i.key]=e,this}getMeta(i){return this.meta["string"==typeof i?i:i.key]}get isGeneric(){for(let i in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function D8e(s,i){return i&&s?s.bind(i):s}class D4{constructor(i,e,n){this.name=i,this.init=D8e(e.init,n),this.apply=D8e(e.apply,n)}}const fVt=[new D4("doc",{init:s=>s.doc||s.schema.topNodeType.createAndFill(),apply:s=>s.doc}),new D4("selection",{init:(s,i)=>s.selection||Hn.atStart(i.doc),apply:s=>s.selection}),new D4("storedMarks",{init:s=>s.storedMarks||null,apply:(s,i,e,n)=>n.selection.$cursor?s.storedMarks:null}),new D4("scrollToSelection",{init:()=>0,apply:(s,i)=>s.scrolledIntoView?i+1:i})];class Cae{constructor(i,e){this.schema=i,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=fVt.slice(),e&&e.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new D4(n.key,n.spec.state,n))})}}class Jb{constructor(i){this.config=i}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(i){return this.applyTransaction(i).state}filterTransaction(i,e=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=e){let o=this.config.plugins[n];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,i,this))return!1}return!0}applyTransaction(i){if(!this.filterTransaction(i))return{state:this,transactions:[]};let e=[i],n=this.applyInner(i),o=null;for(;;){let r=!1;for(let a=0;a<this.config.plugins.length;a++){let l=this.config.plugins[a];if(l.spec.appendTransaction){let c=o?o[a].n:0,u=o?o[a].state:this,f=c<e.length&&l.spec.appendTransaction.call(l,c?e.slice(c):e,u,n);if(f&&n.filterTransaction(f,a)){if(f.setMeta("appendedTransaction",i),!o){o=[];for(let _=0;_<this.config.plugins.length;_++)o.push(_<a?{state:n,n:e.length}:{state:this,n:0})}e.push(f),n=n.applyInner(f),r=!0}o&&(o[a]={state:n,n:e.length})}}if(!r)return{state:n,transactions:e}}}applyInner(i){if(!i.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let e=new Jb(this.config),n=this.config.fields;for(let o=0;o<n.length;o++){let r=n[o];e[r.name]=r.apply(i,this[r.name],this,e)}return e}get tr(){return new pVt(this)}static create(i){let e=new Cae(i.doc?i.doc.type.schema:i.schema,i.plugins),n=new Jb(e);for(let o=0;o<e.fields.length;o++)n[e.fields[o].name]=e.fields[o].init(i,n);return n}reconfigure(i){let e=new Cae(this.schema,i.plugins),n=e.fields,o=new Jb(e);for(let r=0;r<n.length;r++){let a=n[r].name;o[a]=this.hasOwnProperty(a)?this[a]:n[r].init(i,o)}return o}toJSON(i){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(n=>n.toJSON())),i&&"object"==typeof i)for(let n in i){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=i[n],r=o.spec.state;r&&r.toJSON&&(e[n]=r.toJSON.call(o,this[o.key]))}return e}static fromJSON(i,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!i.schema)throw new RangeError("Required config field 'schema' missing");let o=new Cae(i.schema,i.plugins),r=new Jb(o);return o.fields.forEach(a=>{if("doc"==a.name)r.doc=Op.fromJSON(i.schema,e.doc);else if("selection"==a.name)r.selection=Hn.fromJSON(r.doc,e.selection);else if("storedMarks"==a.name)e.storedMarks&&(r.storedMarks=e.storedMarks.map(i.schema.markFromJSON));else{if(n)for(let l in n){let c=n[l],u=c.spec.state;if(c.key==a.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(e,l))return void(r[a.name]=u.fromJSON.call(c,i,e[l],r))}r[a.name]=a.init(i,r)}}),r}}function O8e(s,i,e){for(let n in s){let o=s[n];o instanceof Function?o=o.bind(i):"handleDOMEvents"==n&&(o=O8e(o,i,{})),e[n]=o}return e}class lu{constructor(i){this.spec=i,this.props={},i.props&&O8e(i.props,this,this.props),this.key=i.key?i.key.key:T8e("plugin")}getState(i){return i[this.key]}}const bae=Object.create(null);function T8e(s){return s in bae?s+"$"+ ++bae[s]:(bae[s]=0,s+"$")}class mc{constructor(i="key"){this.key=T8e(i)}get(i){return i.config.pluginsByKey[this.key]}getState(i){return i[this.key]}}const Tm="k-parent-node",vo="k-colgroup-data",Mm="k-resizable-node",Eae="k-editor-resize-handle",M8e="data-dir-table-resize",I8e="data-dir-image-resize",OO=(s,i)=>{const e=i.style,n=i.value,o=i.newValue;if(!s)return{changed:!1,style:null};const r=s.split(/\s*;\s*/).filter(l=>!!l),a=r.filter(l=>{const c=l.split(/\s*:\s*/);return!(c[0].toLowerCase()===e&&n.test(c[1]))});return o&&a.push(`${e}: ${o}`),{style:a.join("; ")+(a.length?";":""),changed:!!o||a.length!==r.length}},_Vt=/^.+$/;function Tp(s,i,e){let n;if(new RegExp("[^-]?"+i+":").test(s.style||"")){const{style:o}=OO(s.style||"",{style:i,value:_Vt,newValue:e});n=Object.assign(Object.assign({},s),{style:o})}else n=Object.assign(Object.assign({},s),s.style?{style:s.style.replace(/;$/,"")+"; "+i+": "+e+";"}:{style:i+": "+e+";"});return n}const x8e=s=>s instanceof Op?s.type.name:s.name,A8e=(s,i=1)=>e=>((s,i=1)=>e=>{const{$from:n}=e;for(let o=n.depth;o>0;o--){const r=n.node(o);if(s(r)&&0==(i-=1))return{depth:o,node:r}}})(n=>x8e(n)===x8e(s),i)(e);function yae(s,i){for(let e=s.depth;e>0;e--){let n=s.node(e);if(i(n))return{node:n,depth:e}}return null}const R8e=s=>{const i={};for(let e in s)e&&(s[e]||0===s[e])&&(i[e]=s[e]);return i},N8e=(s,i)=>(e,n)=>{const{selection:o,tr:r}=e;o instanceof Xt&&o.node.type.name===s.type.name&&s.isLeaf&&!s.isText&&1===s.nodeSize?(r.setNodeMarkup(o.from,null,Object.assign(Object.assign({},R8e(o.node.attrs)),R8e(s.attrs))),r.setSelection(Xt.create(r.doc,o.from))):r.replaceSelectionWith(s),i&&r.scrollIntoView(),n(r)},O4=s=>{const i=s.selection;if(i instanceof si||i instanceof Ml){const e=i.content().content;return e.textBetween(0,e.size)}return""},CVt={before:/[^ !,?.\[\]{}()]+$/i,after:/^[^ !,?.\[\]{}()]+/i},kae=(s,i,e)=>{if(!e.applyToWord||!s.selection.empty)return{state:s,dispatch:i};const n=!0===e.applyToWord?CVt:e.applyToWord;let o=null;const r=s.tr,a=s.selection,l=a.$head.nodeBefore,c=a.$head.nodeAfter;if(l&&"text"===l.type.name&&l.text&&c&&"text"===c.type.name&&c.text){const u=[];a.$head.parent.descendants((I,N)=>(u.push({node:I,pos:N}),!1));let f=a.$head.parentOffset;const _=u.findIndex(({node:I,pos:N})=>N<=f&&N+I.nodeSize>=f);let g=u[_].node.text,S=!1;for(let I=_-1;I>=0;I--){const N=u[I];!S&&N&&"text"===N.node.type.name?g=N.node.text+g:(S=!0,f-=N.node.nodeSize)}for(let I=_+1;I<u.length;I++){const N=u[I];if(!N||"text"!==N.node.type.name)break;g+=N.node.text}const b=g.substring(0,f),k=g.substring(f),D=n.before.exec(b),O=n.after.exec(k);if(D&&O){const P=o=a.from;return r.setSelection(si.create(s.doc,P-D[0].length,P+O[0].length)),{state:{tr:r,selection:r.selection,doc:r.doc,storedMarks:null,schema:r.doc.type.schema},dispatch:$=>{$.setSelection(si.create($.doc,o)),i($)}}}}return{state:s,dispatch:i}},_c=(s,i)=>(e,n,o)=>{const{state:r,dispatch:a}=kae(e,n,i);return s(i)(r,a)},Ch=s=>(s||"").split(/\s*;\s*/).filter(Boolean).map(e=>{const n=e.split(/\s*:\s*/);return{[n[0]]:n[1]}}).reduce((e,n)=>Object.assign(Object.assign({},e),n),{}),sz=(s,i,e)=>{const n=s.getAttribute(i);void 0!==e&&e!==n?"style"===i?(s.removeAttribute(i),((s,i)=>{const e=Ch(i);for(let n in e)n&&typeof s.style[n]<"u"&&(s.style[n]=e[n])})(s,e)):s.setAttribute(i,e):void 0===e&&s.removeAttribute(i)};class TO{constructor(i,e){this.nodes=i,this.marks=e}static renderSpec(i,e,n=null){if("string"==typeof e)return{dom:i.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;let o=e[0],r=o.indexOf(" ");r>0&&(n=o.slice(0,r),o=o.slice(r+1));let a,l=n?i.createElementNS(n,o):i.createElement(o),c=e[1],u=1;if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c)){u=2;for(let f in c)null!=c[f]&&(r=f.indexOf(" "),r>0?l.setAttributeNS(f.slice(0,r),f.slice(r+1),c[f]):sz(l,f,c[f]))}for(let f=u;f<e.length;f++){let _=e[f];if(0===_){if(f<e.length-1||f>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}{let{dom:g,contentDOM:S}=TO.renderSpec(i,_,n);if(l.appendChild(g),S){if(a)throw new RangeError("Multiple content holes");a=S}}}return{dom:l,contentDOM:a}}static fromSchema(i){return i.cached.domSerializer||(i.cached.domSerializer=new TO(this.nodesFromSchema(i),this.marksFromSchema(i)))}static nodesFromSchema(i){let e=L8e(i.nodes);return e.text||(e.text=n=>n.text),e}static marksFromSchema(i){return L8e(i.marks)}serializeFragment(i,e={},n){n||(n=wae(e).createDocumentFragment());let o=n,r=[];return i.forEach(a=>{if(r.length||a.marks.length){let l=0,c=0;for(;l<r.length&&c<a.marks.length;){let u=a.marks[c];if(this.marks[u.type.name]){if(!u.eq(r[l][0])||!1===u.type.spec.spanning)break;l++,c++}else c++}for(;l<r.length;)o=r.pop()[1];for(;c<a.marks.length;){let u=a.marks[c++],f=this.serializeMark(u,a.isInline,e);f&&(r.push([u,o]),o.appendChild(f.dom),o=f.contentDOM||f.dom)}}o.appendChild(this.serializeNodeInner(a,e))}),n}serializeNode(i,e={}){let n=this.serializeNodeInner(i,e);for(let o=i.marks.length-1;o>=0;o--){let r=this.serializeMark(i.marks[o],i.isInline,e);r&&((r.contentDOM||r.dom).appendChild(n),n=r.dom)}return n}serializeMark(i,e,n={}){let o=this.marks[i.type.name];return o&&TO.renderSpec(wae(n),o(i,e))}serializeNodeInner(i,e){let{dom:n,contentDOM:o}=TO.renderSpec(wae(e),this.nodes[i.type.name](i));if(o){if(i.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(i.content,e,o)}return n}}function L8e(s){let i={};for(let e in s)if(s[e]){let n=s[e].spec.toDOM;n&&(i[e]=n)}return i}function wae(s){return s.document||window.document}const Dae=(s,i)=>{const e=(s.ownerDocument||document).createElement(i);Array.from(s.rows).filter(n=>n.getAttribute(Tm)===i).forEach(n=>{n.removeAttribute(Tm),e.appendChild(n)}),e.children.length&&s.appendChild(e)},Oae=(s,i)=>{const e=i.toUpperCase();s.filter(n=>n.nodeName===e).forEach(n=>{Array.from(n.children).forEach(o=>{o.setAttribute(Tm,i),n.parentNode&&n.parentNode.insertBefore(o,n)}),n.remove()})},oz="data-style",wVt=" "+oz+"=",DVt=/<[^>]+>/gm,OVt=/\sstyle=/gm,TVt=s=>s.replace(OVt,wVt),T4=s=>{const i=document.createElement("template");return i.innerHTML=(s=>s.replace(DVt,TVt))(s),(s=>{Array.from(s.querySelectorAll("["+oz+"]")).forEach(i=>{const e=i.getAttribute(oz);i.removeAttribute(oz),((s,i)=>{s.split(";").filter(e=>""!==e).forEach(e=>{const n=e.split(":");i.style[n[0].trim()]=n[1].trim()})})(e,i)})})(i.content),i.content},Tae=s=>Array.from(s.childNodes).reduce((i,e)=>i+(e.outerHTML||e.textContent||""),""),G8e=s=>{const i=TO.fromSchema(s.type.schema).serializeFragment(s.content);return(s=>{Array.from(s.querySelectorAll("table")).forEach(i=>{Dae(i,"thead"),Dae(i,"tbody"),Dae(i,"tfoot");const e=Array.from(i.children).find(o=>0===o.children.length);e&&e.remove();const n=i.parentNode instanceof HTMLDivElement?i.parentNode:null;if(n&&n.matches("div[table]")){i.style.marginLeft=n.style.marginLeft,i.style.marginRight=n.style.marginRight;const o=Array.from(n.children).find(r=>r.matches("div[caption]"));if(o&&"<img>"!==o.innerHTML){const r=i.createCaption();for(o.id&&(r.id=o.id),o.className&&(r.className=o.className),Array.from(o.style).forEach(a=>{r.style[a]=o.style[a]});o.firstChild;)r.appendChild(o.firstChild)}n.style.width&&!i.style.width&&(i.style.width=n.style.width),n.parentNode.insertBefore(i,n),n.parentNode.removeChild(n)}})})(i),i},P8e=(s,i,e)=>SO.fromSchema(i).parse(s,e),Mae=(s,i,e)=>{const n=T4(s);return(s=>{Array.from(s.querySelectorAll("table")).forEach(i=>{const e=Array.from(i.children);e.some(o=>"THEAD"===o.nodeName||"TFOOT"===o.nodeName)&&(Oae(e,"thead"),Oae(e,"tbody"),Oae(e,"tfoot"));const n=e.find(o=>"COLGROUP"===o.nodeName);if(n&&(i.setAttribute(vo,n.outerHTML),n.remove()),i.caption||i.style.marginLeft||i.style.marginRight){const o=document.createElement("div");if(o.setAttribute("table",""),o.style.display="table",o.style.marginLeft=i.style.marginLeft,o.style.marginRight=i.style.marginRight,i.caption){const r=document.createElement("div");for(r.setAttribute("caption",""),i.caption.id&&(r.id=i.caption.id),i.caption.className&&(r.className=i.caption.className),Array.from(i.caption.style).forEach(a=>{r.style[a]=i.caption.style[a]});i.caption.firstChild;)r.appendChild(i.caption.firstChild);i.removeChild(i.caption),o.appendChild(r)}i.parentNode.insertBefore(o,i),o.appendChild(i),/%/.test(i.style.width)&&(o.style.width=i.style.width,i.style.width="")}})})(n),P8e(n,i,e)},Iae=s=>{const i=G8e(s.doc);return Tae(i)},xae=(s,i,e)=>{let n=o=>{let r=i[o],a=r.$from,l=r.$to,c=0===a.depth&&s.type.allowsMarkType(e);if(s.nodesBetween(a.pos,l.pos,u=>{if(c)return!1;c=u.inlineContent&&u.type.allowsMarkType(e)}),c)return{v:!0}};for(let o=0;o<i.length;o++){let r=n(o);if(r)return r.v}return!1},F8e=(s,i,e)=>(n,o)=>{let{empty:r,$cursor:a,ranges:l}=n.selection;if(r&&!a||!xae(n.doc,l,s))return!1;if(o)if(a)s.isInSet(n.storedMarks||a.marks())?o(e.removeStoredMark(s)):o(e.addStoredMark(s.create(i)));else{let c=!1;for(let u=0;!c&&u<l.length;u++){let{$from:f,$to:_}=l[u];c=n.doc.rangeHasMark(f.pos,_.pos,s)}for(let u=0;u<l.length;u++){let{$from:f,$to:_}=l[u];c?e.removeMark(f.pos,_.pos,s):e.addMark(f.pos,_.pos,s.create(i))}o(e.scrollIntoView())}return!0},U8e=(s,i,e,n)=>{void 0===n&&(n=null);let o=[],r=0;return s.doc.nodesBetween(i,e,(a,l)=>{if(!a.isInline)return;r++;let c=null;if(n instanceof b4){let u=n.isInSet(a.marks);u&&(c=[u])}else n?n.isInSet(a.marks)&&(c=[n]):c=a.marks;if(c&&c.length){let u=Math.min(l+a.nodeSize,e);for(let f=0;f<c.length;f++){let g,_=c[f];for(let S=0;S<o.length;S++){let b=o[S];b.step===r-1&&_.eq(b.style)&&(g=b)}g?(g.to=u,g.step=r):o.push({style:_,from:Math.max(l,i),to:u,step:r})}}}),o.forEach(a=>s.step(new Sh(a.from,a.to,a.style))),s},Kg=(s,i)=>{const e=s.schema.marks,n=(i.altMarks||[]).filter(S=>e[S]),o=i.altStyle;let{from:r,$from:a,to:l,empty:c}=s.selection;const u=e[i.mark],f=s.doc;let g,_=!1;return c?(g=s.storedMarks||a.marks(),_=u&&u.isInSet(g)||n.some(S=>e[S].isInSet(g))):_=u&&f.rangeHasMark(r,l,u)||n.some(S=>f.rangeHasMark(r,l,e[S])),!_&&o&&e.style?rz(s,e.style).some(S=>null!==V8e(S,o)):!!_},V8e=(s,i)=>{const n=(s&&s.attrs.style||"").split(/\s*;\s*/).filter(o=>!!o);for(let o=0;o<n.length;o++){const r=n[o].split(/\s*:\s*/);if(r[0].toLowerCase()===i.name&&i.value.test(r[1]))return r[1]}return null},rz=(s,i)=>{let{from:e,$from:n,to:o,empty:r}=s.selection,a=[];return r?a.push(i.isInSet(s.storedMarks||n.marks())):s.doc.nodesBetween(e,o,l=>{l.isInline&&a.push(i.isInSet(l.marks))}),a},GVt=(s,i)=>{const e=rz(s,i),n=e.filter(r=>!!r);return{hasNodesWithoutMarks:e.length!==n.length,marks:n}},z8e=(s,i)=>{const e=s.find(o=>"style"===o.type.name);return OO(e&&e.attrs.style,i)},PVt=(s,i,e,n,o)=>{const r=o.create({style:n.style});let a=[],l=[],c=null,u=null;return s.doc.nodesBetween(i,e,(f,_,g)=>{if(!f.isInline)return;let S=f.marks;if(!r.isInSet(S)&&g.type.allowsMarkType(r.type)){let b=Math.max(_,i),k=Math.min(_+f.nodeSize,e);const D=z8e(S,n);if(D.changed||n.newValue){const O=D.changed?{style:D.style||null}:{style:`${[n.style]}: ${n.newValue};`},I=o.isInSet(S)?S.find(Q=>"style"===Q.type.name):null,N=I?Object.assign(Object.assign({},I.attrs),O):O,P=o.create(N);let G=P.addToSet(S);for(let Q=0;Q<S.length;Q++)S[Q].isInSet(G)||(c&&c.to===b&&c.mark.eq(S[Q])?c.to=k:(c=new Sh(b,k,S[Q]),a.push(c)));const H=u&&u.to===b;H&&H&&P.attrs.style===u.mark.attrs.style?u.to=k:Object.keys(N).some(Q=>null!==N[Q])&&(u=new Yg(b,k,P),l.push(u))}}}),a.forEach(f=>s.step(f)),l.forEach(f=>s.step(f)),a.length+l.length>0},j8e=(s,i)=>function(e,n,o){const{empty:r,ranges:a}=e.selection,l=e.selection instanceof si&&e.selection.$cursor;if(r&&!l||!xae(e.doc,a,s))return!1;let c=!1;if(n){const u=o||e.tr;if(l){const f=e.storedMarks||l.marks();if(s.isInSet(f)){const _=z8e(f,i),g=f.find(b=>"style"===b.type.name),S=Object.assign(Object.assign({},g?g.attrs:{}),{style:_.style||null});if(((s,i)=>{const e=Object.keys(s),n=Object.keys(i);return e.length===n.length&&e.every(o=>s[o]===i[o])})(g.attrs,S))return!1;n(u.removeStoredMark(s)),Object.keys(S).some(b=>null!==S[b])&&n(u.addStoredMark(s.create(S))),c=!0}}else{for(let f=0;f<a.length;f++){let{$from:_,$to:g}=a[f];c=PVt(u,_.pos,g.pos,i,s)||c}c&&(u.scrollIntoView(),n(u))}}return c},Mp=(s,i,e)=>(n,o)=>{const r=n.schema.marks,{altStyle:a,altMarks:l=[],mark:c}=s,u=i||n.tr;let f=!1,_=!1;const g=()=>_=!0;a&&r.style&&(f=j8e(r.style,{style:a.name,value:a.value})(n,g,u));const b=[c,...l].filter(k=>r[k]).map(k=>Kg(n,{mark:k})&&r[k]).filter(k=>k);return b.length?((s,i,e,n)=>{let{$cursor:o,ranges:r}=i.selection;if(n=n||i.tr,o)s.forEach(a=>{a.isInSet(i.storedMarks||o.marks())&&e(n.removeStoredMark(a))});else{for(let a=0;a<r.length;a++){let{$from:l,$to:c}=r[a];s.forEach(u=>{U8e(n,l.pos,c.pos,u)})}e(n.scrollIntoView())}})(b,n,g,u):f||F8e(r[c],e,u)(n,g),_&&o(u),_},az=(s,i)=>(e,n)=>{const r=e.schema.marks.style,a={style:s.style,value:/^.+$/,newValue:s.value},l=e.tr;i&&l.setMeta("commandName",i),l.setMeta("args",s);let{empty:c,$cursor:u,ranges:f}=e.selection;if(c&&!u||!r||!xae(e.doc,f,r))return!1;if(u){const _=e.storedMarks||u.marks(),g=r.isInSet(_)?_.find(k=>"style"===k.type.name):null,S={style:null};if(g&&g.attrs.style){const k=OO(g.attrs.style,a);k.changed&&k.style&&(S.style=k.style)}else a.newValue&&(S.style=`${[a.style]}: ${a.newValue};`);const b=g?Object.assign(Object.assign({},g.attrs),S):S;return Object.keys(b).some(k=>null!==b[k])?n(l.addStoredMark(r.create(b))):n(l.removeStoredMark(r)),!0}return j8e(r,a)(e,n,l)},H8e=(s,i)=>(e,n)=>{const{$cursor:o}=e.selection;if(o){const r=o.parent,a=o.index(),l=e.schema.marks[s.mark],c=r.child(a).marks.find(b=>b.type===l),u=r.childCount;let g,S,f=o.pos-o.textOffset,_=r.child(a).nodeSize;for(g=a-1;g>=0&&c.isInSet(r.child(g).marks);)S=r.child(g).nodeSize,_+=S,f-=S,g-=1;for(g=a+1;g<u&&c.isInSet(r.child(g).marks);)_+=r.child(g).nodeSize,g+=1;n(U8e(i||e.tr,f,f+_,c))}else Mp(s,i)(e,n)},$8e=({mark:s,attrs:i},e="link")=>(n,o)=>{const r=n.schema.marks,a=n.tr;e&&(a.setMeta("commandName",e),a.setMeta("args",i));let l=!1;const c=()=>l=!0;if(((s,i)=>{const e=rz(s,i);return 1===e.length&&e[0]?e[0]:null})(n,r[s]))((s,i)=>(e,n)=>{const{$cursor:o,from:r,to:a}=e.selection,l=e.schema.marks[s.mark];if(o){const c=o.parent,u=o.index(),f=c.child(u).marks.find(D=>D.type===l),_=c.childCount;let b,k,g=o.pos-o.textOffset,S=c.child(u).nodeSize;for(b=u-1;b>=0&&f.isInSet(c.child(b).marks);)k=c.child(b).nodeSize,S+=k,g-=k,b-=1;for(b=u+1;b<_&&f.isInSet(c.child(b).marks);)S+=c.child(b).nodeSize,b+=1;i.removeMark(g,g+S,l),i.addMark(g,g+S,l.create(s.attrs)),n(i)}else i.doc.nodesBetween(r,a,(c,u)=>{c.isInline&&l.isInSet(c.marks)&&(i.removeMark(u,u+c.nodeSize,l),i.addMark(u,u+c.nodeSize,l.create(s.attrs)),n(i))})})({mark:s,attrs:i},a)(n,c);else{let u=n;Kg(n,{mark:s})&&(H8e({mark:s,attrs:i},a)(n,c),u=Jb.create({doc:a.doc,selection:a.selection})),l?F8e(r[s],i,a)(u,c):Mp({mark:s},a,i)(u,c)}return l&&o(a),l},MO=(s,i,e,n)=>{if(!e.isTextblock)return!1;const{ranges:o}=s.selection;o.forEach(r=>{const a=s.steps.length;s.doc.nodesBetween(r.$from.pos,r.$to.pos,(u,f)=>{if(u.eq(i)&&u.isTextblock&&!u.hasMarkup(e,n)&&((s,i,e)=>{let n=s.resolve(i),o=n.index();return n.parent.canReplaceWith(o,o+1,e)})(s.doc,s.mapping.slice(a).map(f),e)){s.clearIncompatible(s.mapping.slice(a).map(f,1),e);let _=s.mapping.slice(a),g=_.map(f,1),S=_.map(f+u.nodeSize,1),b=new tt(Te.from(e.create(n,null,u.marks)),0,0);return s.step(new ia(g,S,g+1,S-1,b,1,!0)),!1}})})},qb=(s,i={blocksInSelection:!1})=>{const{doc:e,selection:n}=s;let{$from:o,ranges:r}=n;const{blocksInSelection:a}=i,l=[],c=n instanceof Xt?n.node:void 0;return c?c.isBlock?(l.push(c),c.nodesBetween(0,c.content.size,u=>{u.isBlock&&l.push(u)})):!a&&o.parent&&o.parent.isBlock&&l.push(o.parent):r.forEach(u=>{const f=u.$from.pos,_=u.$to.pos;e.nodesBetween(f,_,(g,S,b,k)=>{g.isBlock&&(!a||S>=f&&S+g.content.size+2<=_)&&l.push(g)})}),l},X8e=(s,i)=>{let n,o,e=s.attrs.style;return e&&i.forEach(a=>{o={style:a.name,value:/^.+$/,newValue:a.value},n=OO(e,o),e=n.changed?n.style:e}),e=e||i.reduce((a,l)=>(a&&l.value?a+" ":"")+l.value?`${l.name}: ${l.value};`:"",""),Object.assign({},s.attrs,{style:e||null})},IO=(s,i)=>{let{from:e,to:n}=s.selection,o=!1;return s.doc.nodesBetween(e,n,r=>(o=o||r.type===i,!o)),o},XVt=s=>{const i=(s=>{const i=qb(s),e=s.schema.nodes,n=[];return i.forEach(o=>{o.type===e.paragraph?n.push("p"):o.type===e.heading?n.push(`h${o.attrs.level}`):o.type===e.blockquote&&e.blockquote.isTextblock&&n.push("blockquote")}),n})(s);return 1===new Set(i).size?i[0]:null},WVt=s=>({tag:XVt(s)||""}),M4=(s,i)=>(e,n)=>{const o=qb(e),r=e.tr;r.setMeta("commandName",i),o.forEach(l=>{if(l.type.isTextblock){const c=s.find(u=>u.node===l.type.name);if(c){const u=X8e(l,c.style);MO(r,l,l.type,u)}}});const a=r.docChanged;return a&&n(r.scrollIntoView()),a},GS=(s,i)=>{const e=qb(s);let n=!1;return e.forEach(o=>{if(!n&&o.type.isTextblock&&o.attrs.style){const r=i.find(a=>a.node===o.type.name);r&&(n=r.style.every(a=>!!a.value&&new RegExp(`${a.name}:\\s?${a.value}`,"i").test(o.attrs.style)))}}),n},W8e=(s={blocksInSelection:!0})=>(i,e)=>{const n=i.tr,{blocksInSelection:o,blockNodeType:r,exceptMarks:a}=s;((s,{except:i})=>{const{doc:e,selection:n}=s,o=e.type.schema,{empty:r,ranges:a}=n,l=(i||[]).map(c=>c.name);if(!r){const c=Object.keys(o.marks).map(u=>o.marks[u]).filter(u=>-1===l.indexOf(u.name));a.forEach(({$from:u,$to:f})=>{c.forEach(_=>s.removeMark(u.pos,f.pos,_))})}})(n,{except:(a||[i.schema.marks.link]).filter(Boolean)}),((s,i={blocksInSelection:!0})=>{const{doc:e,selection:n}=s,{blocksInSelection:o,blockNodeType:r}=i;qb({doc:e,selection:n},{blocksInSelection:o}).filter(c=>c.isTextblock).forEach(c=>{const u=c.attrs||{},{style:f="",class:_=""}=u,g=xy(u,["style","class"]),S=r||c.type;(f||_||S!==c.type)&&MO(s,c,S,g)})})(n,{blocksInSelection:o,blockNodeType:r});const c=n.docChanged;return c&&e&&e(n),c};function Y8e(s){return function(i,e){let{$from:n,$to:o}=i.selection,r=n.blockRange(o,a=>a.childCount>0&&a.firstChild.type==s);return!!r&&(!e||(n.node(r.depth-1).type==s?function i9t(s,i,e,n){let o=s.tr,r=n.end,a=n.$to.end(n.depth);r<a&&(o.step(new ia(r-1,a,r,a,new tt(Te.from(e.create(null,n.parent.copy())),1,0),1,!0)),n=new C4(o.doc.resolve(n.$from.pos),o.doc.resolve(a),n.depth));const l=EO(n);if(null==l)return!1;o.lift(n,l);let c=o.mapping.map(r,-1)-1;return tz(o.doc,c)&&o.join(c),i(o.scrollIntoView()),!0}(i,e,s,r):function s9t(s,i,e){let n=s.tr,o=e.parent;for(let S=e.end,b=e.endIndex-1,k=e.startIndex;b>k;b--)S-=o.child(b).nodeSize,n.delete(S-1,S+1);let r=n.doc.resolve(e.start),a=r.nodeAfter;if(n.mapping.map(e.end)!=e.start+r.nodeAfter.nodeSize)return!1;let l=0==e.startIndex,c=e.endIndex==o.childCount,u=r.node(-1),f=r.index(-1);if(!u.canReplace(f+(l?0:1),f+1,a.content.append(c?Te.empty:Te.from(o))))return!1;let _=r.pos,g=_+a.nodeSize;return n.step(new ia(_-(l?1:0),g+(c?1:0),_+1,g-1,new tt((l?Te.empty:Te.from(o.copy(Te.empty))).append(c?Te.empty:Te.from(o.copy(Te.empty))),l?0:1,c?0:1),l?0:1)),i(n.scrollIntoView()),!0}(i,e,r)))}}function K8e(s){return function(i,e){let{$from:n,$to:o}=i.selection,r=n.blockRange(o,u=>u.childCount>0&&u.firstChild.type==s);if(!r)return!1;let a=r.startIndex;if(0==a)return!1;let l=r.parent,c=l.child(a-1);if(c.type!=s)return!1;if(e){let u=c.lastChild&&c.lastChild.type==l.type,f=Te.from(u?s.create():null),_=new tt(Te.from(s.create(null,Te.from(l.type.create(null,f)))),u?3:1,0),g=r.start,S=r.end;e(i.tr.step(new ia(g-(u?3:1),S,g,S,_,1,!0)).scrollIntoView())}return!0}}const xO={orderedList:"ordered_list",bulletList:"bullet_list",listItem:"list_item"},J8e={listType:xO.orderedList,types:Object.assign({},xO)},q8e={listType:xO.bulletList,types:Object.assign({},xO)},AO={nodes:[{node:"paragraph",style:"margin-left",rtlStyle:"margin-right",step:30,unit:"px"},{node:"heading",style:"margin-left",rtlStyle:"margin-right",step:30,unit:"px"}],listsTypes:Object.assign({},xO)},RO={nodes:[{node:"paragraph",style:"margin-left",rtlStyle:"margin-right",step:-30,unit:"px"},{node:"heading",style:"margin-left",rtlStyle:"margin-right",step:-30,unit:"px"}],listsTypes:Object.assign({},xO)},Rae=(s,i)=>!s.selection.empty&&(i&&i(s.tr.deleteSelection().scrollIntoView()),!0);const Z8e=(s,i,e)=>{let n=function Q8e(s,i){let{$cursor:e}=s.selection;return!e||(i?!i.endOfTextblock("backward",s):e.parentOffset>0)?null:e}(s,e);if(!n)return!1;let o=Nae(n);if(!o){let a=n.blockRange(),l=a&&EO(a);return null!=l&&(i&&i(s.tr.lift(a,l).scrollIntoView()),!0)}let r=o.nodeBefore;if(!r.type.spec.isolating&&cLe(s,o,i))return!0;if(0==n.parent.content.size&&(NO(r,"end")||Xt.isSelectable(r))){let a=mae(s.doc,n.before(),n.after(),tt.empty);if(a&&a.slice.size<a.to-a.from){if(i){let l=s.tr.step(a);l.setSelection(NO(r,"end")?Hn.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):Xt.create(l.doc,o.pos-r.nodeSize)),i(l.scrollIntoView())}return!0}}return!(!r.isAtom||o.depth!=n.depth-1||(i&&i(s.tr.delete(o.pos-r.nodeSize,o.pos).scrollIntoView()),0))};function NO(s,i,e=!1){for(let n=s;n;n="start"==i?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(e&&1!=n.childCount)return!1}return!1}const tLe=(s,i,e)=>{let{$head:n,empty:o}=s.selection,r=n;if(!o)return!1;if(n.parent.isTextblock){if(e?!e.endOfTextblock("backward",s):n.parentOffset>0)return!1;r=Nae(n)}let a=r&&r.nodeBefore;return!(!a||!Xt.isSelectable(a)||(i&&i(s.tr.setSelection(Xt.create(s.doc,r.pos-a.nodeSize)).scrollIntoView()),0))};function Nae(s){if(!s.parent.type.spec.isolating)for(let i=s.depth-1;i>=0;i--){if(s.index(i)>0)return s.doc.resolve(s.before(i+1));if(s.node(i).type.spec.isolating)break}return null}function Lae(s){if(!s.parent.type.spec.isolating)for(let i=s.depth-1;i>=0;i--){let e=s.node(i);if(s.index(i)+1<e.childCount)return s.doc.resolve(s.after(i+1));if(e.type.spec.isolating)break}return null}const iLe=(s,i)=>{let{$head:e,$anchor:n}=s.selection;return!(!e.parent.type.spec.code||!e.sameParent(n)||(i&&i(s.tr.insertText("\n").scrollIntoView()),0))};function Gae(s){for(let i=0;i<s.edgeCount;i++){let{type:e}=s.edge(i);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}const sLe=(s,i)=>{let{$head:e,$anchor:n}=s.selection;if(!e.parent.type.spec.code||!e.sameParent(n))return!1;let o=e.node(-1),r=e.indexAfter(-1),a=Gae(o.contentMatchAt(r));if(!a||!o.canReplaceWith(r,r,a))return!1;if(i){let l=e.after(),c=s.tr.replaceWith(l,l,a.createAndFill());c.setSelection(Hn.near(c.doc.resolve(l),1)),i(c.scrollIntoView())}return!0},oLe=(s,i)=>{let e=s.selection,{$from:n,$to:o}=e;if(e instanceof Ml||n.parent.inlineContent||o.parent.inlineContent)return!1;let r=Gae(o.parent.contentMatchAt(o.indexAfter()));if(!r||!r.isTextblock)return!1;if(i){let a=(!n.parentOffset&&o.index()<o.parent.childCount?n:o).pos,l=s.tr.insert(a,r.createAndFill());l.setSelection(si.create(l.doc,a+1)),i(l.scrollIntoView())}return!0},rLe=(s,i)=>{let{$cursor:e}=s.selection;if(!e||e.parent.content.size)return!1;if(e.depth>1&&e.after()!=e.end(-1)){let r=e.before();if(yO(s.doc,r))return i&&i(s.tr.split(r).scrollIntoView()),!0}let n=e.blockRange(),o=n&&EO(n);return null!=o&&(i&&i(s.tr.lift(n,o).scrollIntoView()),!0)},aLe=function a9t(s){return(i,e)=>{let{$from:n,$to:o}=i.selection;if(i.selection instanceof Xt&&i.selection.node.isBlock)return!(!n.parentOffset||!yO(i.doc,n.pos)||(e&&e(i.tr.split(n.pos).scrollIntoView()),0));if(!n.parent.isBlock)return!1;if(e){let r=o.parentOffset==o.parent.content.size,a=i.tr;(i.selection instanceof si||i.selection instanceof Ml)&&a.deleteSelection();let l=0==n.depth?null:Gae(n.node(-1).contentMatchAt(n.indexAfter(-1))),c=s&&s(o.parent,r),u=c?[c]:r&&l?[{type:l}]:void 0,f=yO(a.doc,a.mapping.map(n.pos),1,u);if(!u&&!f&&yO(a.doc,a.mapping.map(n.pos),1,l?[{type:l}]:void 0)&&(l&&(u=[{type:l}]),f=!0),f&&(a.split(a.mapping.map(n.pos),1,u),!r&&!n.parentOffset&&n.parent.type!=l)){let _=a.mapping.map(n.before()),g=a.doc.resolve(_);l&&n.node(-1).canReplaceWith(g.index(),g.index()+1,l)&&a.setNodeMarkup(a.mapping.map(n.before()),l)}e(a.scrollIntoView())}return!0}}(),l9t=(s,i)=>aLe(s,i&&(e=>{let n=s.storedMarks||s.selection.$to.parentOffset&&s.selection.$from.marks();n&&e.ensureMarks(n),i(e)})),lLe=(s,i)=>(i&&i(s.tr.setSelection(new Ml(s.doc))),!0);function cLe(s,i,e){let r,a,n=i.nodeBefore,o=i.nodeAfter;if(n.type.spec.isolating||o.type.spec.isolating)return!1;if(function c9t(s,i,e){let n=i.nodeBefore,o=i.nodeAfter,r=i.index();return!(!(n&&o&&n.type.compatibleContent(o.type))||(!n.content.size&&i.parent.canReplace(r-1,r)?(e&&e(s.tr.delete(i.pos-n.nodeSize,i.pos).scrollIntoView()),0):!i.parent.canReplace(r,r+1)||!o.isTextblock&&!tz(s.doc,i.pos)||(e&&e(s.tr.clearIncompatible(i.pos,n.type,n.contentMatchAt(n.childCount)).join(i.pos).scrollIntoView()),0)))}(s,i,e))return!0;let l=i.parent.canReplace(i.index(),i.index()+1);if(l&&(r=(a=n.contentMatchAt(n.childCount)).findWrapping(o.type))&&a.matchType(r[0]||o.type).validEnd){if(e){let _=i.pos+o.nodeSize,g=Te.empty;for(let k=r.length-1;k>=0;k--)g=Te.from(r[k].create(null,g));g=Te.from(n.copy(g));let S=s.tr.step(new ia(i.pos-1,_,i.pos,_,new tt(g,1,0),r.length,!0)),b=_+2*r.length;tz(S.doc,b)&&S.join(b),e(S.scrollIntoView())}return!0}let c=Hn.findFrom(i,1),u=c&&c.$from.blockRange(c.$to),f=u&&EO(u);if(null!=f&&f>=i.depth)return e&&e(s.tr.lift(u,f).scrollIntoView()),!0;if(l&&NO(o,"start",!0)&&NO(n,"end")){let _=n,g=[];for(;g.push(_),!_.isTextblock;)_=_.lastChild;let S=o,b=1;for(;!S.isTextblock;S=S.firstChild)b++;if(_.canReplace(_.childCount,_.childCount,S.content)){if(e){let k=Te.empty;for(let O=g.length-1;O>=0;O--)k=Te.from(g[O].copy(k));e(s.tr.step(new ia(i.pos-g.length,i.pos+o.nodeSize,i.pos+b,i.pos+o.nodeSize-b,new tt(k,g.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function dLe(s){return function(i,e){let n=i.selection,o=s<0?n.$from:n.$to,r=o.depth;for(;o.node(r).isInline;){if(!r)return!1;r--}return!!o.node(r).isTextblock&&(e&&e(i.tr.setSelection(si.create(i.doc,s<0?o.start(r):o.end(r)))),!0)}}const d9t=dLe(-1),u9t=dLe(1);function LO(...s){return function(i,e,n){for(let o=0;o<s.length;o++)if(s[o](i,e,n))return!0;return!1}}let Pae=LO(Rae,Z8e,tLe),uLe=LO(Rae,(s,i,e)=>{let n=function nLe(s,i){let{$cursor:e}=s.selection;return!e||(i?!i.endOfTextblock("forward",s):e.parentOffset<e.parent.content.size)?null:e}(s,e);if(!n)return!1;let o=Lae(n);if(!o)return!1;let r=o.nodeAfter;if(cLe(s,o,i))return!0;if(0==n.parent.content.size&&(NO(r,"start")||Xt.isSelectable(r))){let a=mae(s.doc,n.before(),n.after(),tt.empty);if(a&&a.slice.size<a.to-a.from){if(i){let l=s.tr.step(a);l.setSelection(NO(r,"start")?Hn.findFrom(l.doc.resolve(l.mapping.map(o.pos)),1):Xt.create(l.doc,l.mapping.map(o.pos))),i(l.scrollIntoView())}return!0}}return!(!r.isAtom||o.depth!=n.depth-1||(i&&i(s.tr.delete(o.pos,o.pos+r.nodeSize).scrollIntoView()),0))},(s,i,e)=>{let{$head:n,empty:o}=s.selection,r=n;if(!o)return!1;if(n.parent.isTextblock){if(e?!e.endOfTextblock("forward",s):n.parentOffset<n.parent.content.size)return!1;r=Lae(n)}let a=r&&r.nodeAfter;return!(!a||!Xt.isSelectable(a)||(i&&i(s.tr.setSelection(Xt.create(s.doc,r.pos)).scrollIntoView()),0))});const Jg={Enter:LO(iLe,oLe,rLe,aLe),"Mod-Enter":sLe,Backspace:Pae,"Mod-Backspace":Pae,"Shift-Backspace":Pae,Delete:uLe,"Mod-Delete":uLe,"Mod-a":lLe},hLe={"Ctrl-h":Jg.Backspace,"Alt-Backspace":Jg["Mod-Backspace"],"Ctrl-d":Jg.Delete,"Ctrl-Alt-Backspace":Jg["Mod-Delete"],"Alt-Delete":Jg["Mod-Delete"],"Alt-d":Jg["Mod-Delete"],"Ctrl-a":d9t,"Ctrl-e":u9t};for(let s in Jg)hLe[s]=Jg[s];const _9t=(typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&"darwin"==os.platform())?hLe:Jg,pLe=(s,i)=>function h9t(s,i=null){return function(e,n){let{$from:o,$to:r}=e.selection,a=o.blockRange(r),l=a&&h8e(a,s,i);return!!l&&(n&&n(e.tr.wrap(a,l).scrollIntoView()),!0)}}(s.schema.nodes.blockquote)(s,i),fLe=(s,i,e)=>(n,o)=>{const r=qb(n),a=n.tr;a.setMeta("commandName",i),r.forEach(c=>{if(c.type.isTextblock){let u;const f=s.find(_=>_.node===c.type.name);if(f){const _="rtl"===e?f.rtlStyle:f.style,g={name:_,value:f.step>0?`${f.step}${f.unit}`:""};if(c.attrs.style){const S=new RegExp(`${_}:\\s?(\\d+)${f.unit}`,"i"),b=c.attrs.style.match(S);if(b){let k=parseFloat(b[1])+f.step;k=k<=0?"":k,g.value=`${k}${k?f.unit:""}`}}u=X8e(c,[g])}u&&MO(a,c,c.type,u)}});const l=a.docChanged;return l&&o(a.scrollIntoView()),l},mLe=(s,i,e)=>{const n=qb(s);let o=!1;return n.forEach(r=>{if(!o&&r.type.isTextblock&&r.attrs.style){const a=i.find(l=>l.node===r.type.name);a&&(o=new RegExp(`${"rtl"===e?a.rtlStyle:a.style}:\\s?\\d+${a.unit}`,"i").test(r.attrs.style))}}),o},_Le=(s,i)=>K8e(i)(s),gLe=(s,i)=>{const e=s.schema.nodes[i.listsTypes.listItem],o=s.schema.nodes[i.listsTypes.bulletList],r=!!A8e(s.schema.nodes[i.listsTypes.orderedList],2)(s.selection),a=!!A8e(o,2)(s.selection);return(r||a)&&Y8e(e)(s)},Fae=(s,i)=>{const e=s.schema.nodes,n=e[AO.listsTypes.listItem];return(mLe(s,i.nodes)||AO.nodes.some(o=>e[o.node]&&IO(s,e[o.node])))&&!IO(s,n)},v9t=(s,i)=>{const e=s.schema.nodes[AO.listsTypes.listItem],n=Fae(s,AO);_Le(s,e)?K8e(e)(s,i):n&&fLe(AO.nodes)(s,i)},S9t=(s,i)=>{const e=s.schema.nodes,n=e[RO.listsTypes.listItem],o=Fae(s,RO);IO(s,e.blockquote)?((s,i)=>{const{$from:e,$to:n}=s.selection,o=s.schema.nodes.blockquote,r=s.doc;let a=-1;const l=e.blockRange(n);l&&r.nodesBetween(l.start,l.end,(u,f,_,g)=>{u.type===o&&(a=f)});i&&-1!==a&&i(s.tr.lift(l,r.resolve(a).depth))})(s,i):gLe(s,RO)?Y8e(n)(s,i):o&&fLe(RO.nodes)(s,i)},b9t=(s,i,e)=>{let n=i.depth;const o=s.nodes[e.bulletList],r=s.nodes[e.orderedList],a=s.nodes[e.listItem];for(let l=i.depth;l>0;l--){const c=i.node(l);if((c.type===o||c.type===r)&&(n=l),c.type!==o&&c.type!==r&&c.type!==a)break}return n-1};function y9t(s){return function(i,e,n){if(!n)return!1;const o=(i=n.state).schema.nodes[s.listType],{$from:r,$to:a}=i.selection,l=r.node(-2),c=r.node(-3),u=function D9t(s,i,e,n){return 0===function O9t(s,i,e){const n=Array(),o=function T9t(s,i){const e=["blockquote","bulletList","orderedList"];if(1===i.depth)return i;let n=i.node(i.depth),o=i;for(;i.depth>=1;)n=(i=s.resolve(i.before(i.depth))).node(i.depth),n&&-1!==e.indexOf(n.type.name)&&(o=i);return o}(s,i).depth;let r=s.resolve(i.start(o));for(;r.pos<=e.start(e.depth);){const a=Math.min(r.depth,o),l=r.node(a);if(l&&n.push(l),0===a)break;let c=s.resolve(r.after(a));if(c.start(a)>=s.nodeSize-2)break;c.depth!==r.depth&&(c=s.resolve(c.pos+2)),r=s.resolve(c.depth?c.start(c.depth):c.end(c.depth))}return n}(s,i,e).filter(o=>o.type!==n).length}(i.doc,r,a,o);return(l&&l.type===o||c&&c.type===o)&&u?vLe(s)(i,e):(u||(vLe(s)(i,e),i=n.state),function M9t(s,i={}){return function m9t(s,i){let e=Array.isArray(i)?n=>i.indexOf(n.type.name)>-1:i;return(n,o,r)=>s(n,o&&function f9t(s,i){return e=>{if(!e.isGeneric)return s(e);let n=[];for(let r=0;r<e.mapping.maps.length;r++){let a=e.mapping.maps[r];for(let l=0;l<n.length;l++)n[l]=a.map(n[l]);a.forEach((l,c,u,f)=>n.push(u,f))}let o=[];for(let r=0;r<n.length;r+=2){let l=n[r+1],c=e.doc.resolve(n[r]),u=c.sharedDepth(l),f=c.node(u);for(let _=c.indexAfter(u),g=c.after(u+1);g<=l;++_){let S=f.maybeChild(_);if(!S)break;if(_&&-1==o.indexOf(g)){let b=f.child(_-1);b.type==S.type&&i(b,S)&&o.push(g)}g+=S.nodeSize}}o.sort((r,a)=>r-a);for(let r=o.length-1;r>=0;r--)tz(e.doc,o[r])&&e.join(o[r]);s(e)}}(o,e),r)}(function e9t(s,i=null){return function(e,n){let{$from:o,$to:r}=e.selection,a=o.blockRange(r),l=!1,c=a;if(!a)return!1;if(a.depth>=2&&o.node(a.depth-1).type.compatibleContent(s)&&0==a.startIndex){if(0==o.index(a.depth-1))return!1;let f=e.doc.resolve(a.start-2);c=new C4(f,f,a.depth),a.endIndex<a.parent.childCount&&(a=new C4(o,e.doc.resolve(r.end(a.depth)),a.depth)),l=!0}let u=h8e(c,s,i,a);return!!u&&(n&&n(function t9t(s,i,e,n,o){let r=Te.empty;for(let f=e.length-1;f>=0;f--)r=Te.from(e[f].type.create(e[f].attrs,r));s.step(new ia(i.start-(n?2:0),i.end,i.start,i.end,new tt(r,0,0),e.length,!0));let a=0;for(let f=0;f<e.length;f++)e[f].type==o&&(a=f+1);let l=e.length-a,c=i.start+e.length-(n?2:0),u=i.parent;for(let f=i.startIndex,_=i.endIndex,g=!0;f<_;f++,g=!1)!g&&yO(s.doc,c,l)&&(s.split(c,l),c+=2*l),c+=u.child(f).nodeSize;return s}(e.tr,a,u,l,s).scrollIntoView()),!0)}}(s,i),(e,n)=>e.type===n.type&&e.type===s)}(o,s.listAttrs)(i,e))}}function k9t(s,i,e,n){const o=n||s.schema.nodes.listItem;let{$from:r,$to:a}=i,l=r.blockRange(a,f=>f.childCount&&f.firstChild.type===o);if(!l||l.depth<2||r.node(l.depth-1).type!==o)return e;let c=l.end,u=a.end(l.depth);return c<u&&(e.step(new ia(c-1,u,c,u,new tt(Te.from(o.create(void 0,l.parent.copy())),1,0),1,!0)),l=new C4(e.doc.resolve(r.pos),e.doc.resolve(u),l.depth)),e.lift(l,EO(l)).scrollIntoView()}function vLe(s){return function(i,e){const{tr:n}=i,{$from:o,$to:r}=i.selection;return n.doc.nodesBetween(o.pos,r.pos,(a,l)=>{if(a.isTextblock||"blockquote"===a.type.name||"div"===a.type.name){const c=new Xt(n.doc.resolve(n.mapping.map(l))),u=c.$from.blockRange(c.$to);if(!u||c.$from.parent.type!==i.schema.nodes[s.listItem])return!1;const f=u&&EO(u);if(null==f)return!1;n.lift(u,f)}}),e&&e(n),!0}}const I9t=/list\-style\-type:\s?([\w-]+)/,lz=s=>{const e=I9t.exec(s.style||"");return e&&e[1]||""},SLe=(s,i,e,n,o)=>{const{listType:r,listAttrs:a={style:null}}=n,{selection:l}=s,c=l.$from.node(l.$from.depth-2),u=l.$to.node(l.$to.depth-2);if(!c||c.type.name!==r||lz(c.attrs)!==lz(a)||!u||u.type.name!==r||lz(u.attrs)!==lz(a))return y9t(n)(s,i,e);{const f=e.state.schema.nodes,_={bulletList:f[n.bulletList],orderedList:f[n.orderedList],listItem:f[n.listItem]},g=((s,i)=>{const{bulletList:e,orderedList:n,listItem:o}=i;let r;for(let a=s.depth-1;a>0;a--){const l=s.node(a);if((l.type===e||l.type===n)&&(r=a),l.type!==e&&l.type!==n&&l.type!==o)break}return r})(l.$to,_);let S=function w9t(s,i,e,n,o,r){r||(r=s.schema.nodes.listItem);let a=!1;return o.doc.nodesBetween(i,e,(l,c)=>{if(!a&&l.type===r&&c>i){a=!0;let u=n+3;for(;u>n+2;){const f=o.doc.resolve(o.mapping.map(c));u=f.depth;const _=o.doc.resolve(o.mapping.map(c+l.textContent.length)),g=new si(f,_);o=k9t(s,g,o,r)}}}),o}(s,l.$to.pos,l.$to.end(g),g,e.state.tr,_.listItem);return S=function E9t(s,i,e){const{from:n,to:o}=s.selection,{paragraph:r,heading:a}=s.schema.nodes,l=[];i.doc.nodesBetween(n,o,(c,u)=>{(c.type===r||c.type===a)&&l.push({node:c,pos:u})});for(let c=l.length-1;c>=0;c--){const u=l[c],f=i.doc.resolve(i.mapping.map(u.pos));if(f.depth>0){let _;_=i.doc.resolve(i.mapping.map(u.node.textContent&&u.node.textContent.length>0?u.pos+u.node.textContent.length:u.pos+1));const g=f.blockRange(_);g&&i.lift(g,b9t(s.schema,f,e))}}return i}(s,S,n),S.setMeta("commandName",o),i(S),!0}};function x9t(s,i,e){return SLe(s,i,e,Object.assign({listType:q8e.listType},q8e.types))}function A9t(s,i,e){return SLe(s,i,e,Object.assign({listType:J8e.listType},J8e.types))}const gc=(s,i)=>({name:s,value:i}),Uae=[{node:"paragraph",style:[gc("text-align","left")]},{node:"heading",style:[gc("text-align","left")]},{node:"table_caption_external",style:[gc("text-align","left")]}],Bae=[{node:"paragraph",style:[gc("text-align","right")]},{node:"heading",style:[gc("text-align","right")]},{node:"table_caption_external",style:[gc("text-align","right")]}],Vae=[{node:"paragraph",style:[gc("text-align","center")]},{node:"heading",style:[gc("text-align","center")]},{node:"table_caption_external",style:[gc("text-align","center")]}],zae=[{node:"paragraph",style:[gc("text-align","justify")]},{node:"heading",style:[gc("text-align","justify")]},{node:"table_caption_external",style:[gc("text-align","justify")]}],N9t=[{node:"paragraph",style:[gc("text-align","")]},{node:"heading",style:[gc("text-align","")]},{node:"table_caption_external",style:[gc("text-align","")]}],vc=function(s){for(var i=0;;i++)if(!(s=s.previousSibling))return i},I4=function(s){let i=s.assignedSlot||s.parentNode;return i&&11==i.nodeType?i.host:i};let CLe=null;const qg=function(s,i,e){let n=CLe||(CLe=document.createRange());return n.setEnd(s,e??s.nodeValue.length),n.setStart(s,i||0),n},Qb=function(s,i,e,n){return e&&(bLe(s,i,e,n,-1)||bLe(s,i,e,n,1))},L9t=/^(img|br|input|textarea|hr)$/i;function bLe(s,i,e,n,o){for(;;){if(s==e&&i==n)return!0;if(i==(o<0?0:Im(s))){let r=s.parentNode;if(!r||1!=r.nodeType||jae(s)||L9t.test(s.nodeName)||"false"==s.contentEditable)return!1;i=vc(s)+(o<0?0:1),s=r}else{if(1!=s.nodeType)return!1;if("false"==(s=s.childNodes[i+(o<0?-1:0)]).contentEditable)return!1;i=o<0?Im(s):0}}}function Im(s){return 3==s.nodeType?s.nodeValue.length:s.childNodes.length}function jae(s){let i;for(let e=s;e&&!(i=e.pmViewDesc);e=e.parentNode);return i&&i.node&&i.node.isBlock&&(i.dom==s||i.contentDOM==s)}const cz=function(s){return s.focusNode&&Qb(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)};function Zb(s,i){let e=document.createEvent("Event");return e.initEvent("keydown",!0,!0),e.keyCode=s,e.key=e.code=i,e}const xm=typeof navigator<"u"?navigator:null,ELe=typeof document<"u"?document:null,PS=xm&&xm.userAgent||"",Hae=/Edge\/(\d+)/.exec(PS),yLe=/MSIE \d/.exec(PS),$ae=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(PS),hd=!!(yLe||$ae||Hae),FS=yLe?document.documentMode:$ae?+$ae[1]:Hae?+Hae[1]:0,Ip=!hd&&/gecko\/(\d+)/i.test(PS);Ip&&/Firefox\/(\d+)/.exec(PS);const Xae=!hd&&/Chrome\/(\d+)/.exec(PS),Il=!!Xae,U9t=Xae?+Xae[1]:0,Sc=!hd&&!!xm&&/Apple Computer/.test(xm.vendor),GO=Sc&&(/Mobile\/\w+/.test(PS)||!!xm&&xm.maxTouchPoints>2),bh=GO||!!xm&&/Mac/.test(xm.platform),B9t=!!xm&&/Win/.test(xm.platform),xp=/Android \d/.test(PS),x4=!!ELe&&"webkitFontSmoothing"in ELe.documentElement.style,V9t=x4?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function z9t(s){return{left:0,right:s.documentElement.clientWidth,top:0,bottom:s.documentElement.clientHeight}}function Qg(s,i){return"number"==typeof s?s:s[i]}function j9t(s){let i=s.getBoundingClientRect();return{left:i.left,right:i.left+s.clientWidth*(i.width/s.offsetWidth||1),top:i.top,bottom:i.top+s.clientHeight*(i.height/s.offsetHeight||1)}}function kLe(s,i,e){let n=s.someProp("scrollThreshold")||0,o=s.someProp("scrollMargin")||5,r=s.dom.ownerDocument;for(let a=e||s.dom;a;a=I4(a)){if(1!=a.nodeType)continue;let l=a,c=l==r.body,u=c?z9t(r):j9t(l),f=0,_=0;if(i.top<u.top+Qg(n,"top")?_=-(u.top-i.top+Qg(o,"top")):i.bottom>u.bottom-Qg(n,"bottom")&&(_=i.bottom-i.top>u.bottom-u.top?i.top+Qg(o,"top")-u.top:i.bottom-u.bottom+Qg(o,"bottom")),i.left<u.left+Qg(n,"left")?f=-(u.left-i.left+Qg(o,"left")):i.right>u.right-Qg(n,"right")&&(f=i.right-u.right+Qg(o,"right")),f||_)if(c)r.defaultView.scrollBy(f,_);else{let g=l.scrollLeft,S=l.scrollTop;_&&(l.scrollTop+=_),f&&(l.scrollLeft+=f);let b=l.scrollLeft-g,k=l.scrollTop-S;i={left:i.left-b,top:i.top-k,right:i.right-b,bottom:i.bottom-k}}if(c||/^(fixed|sticky)$/.test(getComputedStyle(a).position))break}}function wLe(s){let i=[],e=s.ownerDocument;for(let n=s;n&&(i.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),s!=e);n=I4(n));return i}function DLe(s,i){for(let e=0;e<s.length;e++){let{dom:n,top:o,left:r}=s[e];n.scrollTop!=o+i&&(n.scrollTop=o+i),n.scrollLeft!=r&&(n.scrollLeft=r)}}let PO=null;function OLe(s,i){let e,o,c,u,n=2e8,r=0,a=i.top,l=i.top;for(let f=s.firstChild,_=0;f;f=f.nextSibling,_++){let g;if(1==f.nodeType)g=f.getClientRects();else{if(3!=f.nodeType)continue;g=qg(f).getClientRects()}for(let S=0;S<g.length;S++){let b=g[S];if(b.top<=a&&b.bottom>=l){a=Math.max(b.bottom,a),l=Math.min(b.top,l);let k=b.left>i.left?b.left-i.left:b.right<i.left?i.left-b.right:0;if(k<n){e=f,n=k,o=k&&3==e.nodeType?{left:b.right<i.left?b.right:b.left,top:i.top}:i,1==f.nodeType&&k&&(r=_+(i.left>=(b.left+b.right)/2?1:0));continue}}else b.top>i.top&&!c&&b.left<=i.left&&b.right>=i.left&&(c=f,u={left:Math.max(b.left,Math.min(b.right,i.left)),top:b.top});!e&&(i.left>=b.right&&i.top>=b.top||i.left>=b.left&&i.top>=b.bottom)&&(r=_+1)}}return!e&&c&&(e=c,o=u,n=0),e&&3==e.nodeType?function W9t(s,i){let e=s.nodeValue.length,n=document.createRange();for(let o=0;o<e;o++){n.setEnd(s,o+1),n.setStart(s,o);let r=US(n,1);if(r.top!=r.bottom&&Wae(i,r))return{node:s,offset:o+(i.left>=(r.left+r.right)/2?1:0)}}return{node:s,offset:0}}(e,o):!e||n&&1==e.nodeType?{node:s,offset:r}:OLe(e,o)}function Wae(s,i){return s.left>=i.left-1&&s.left<=i.right+1&&s.top>=i.top-1&&s.top<=i.bottom+1}function TLe(s,i,e){let n=s.childNodes.length;if(n&&e.top<e.bottom)for(let o=Math.max(0,Math.min(n-1,Math.floor(n*(i.top-e.top)/(e.bottom-e.top))-2)),r=o;;){let a=s.childNodes[r];if(1==a.nodeType){let l=a.getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(Wae(i,u))return TLe(a,i,u)}}if((r=(r+1)%n)==o)break}return s}function q9t(s,i){let n,e=s.dom.ownerDocument,o=0,r=function F9t(s,i,e){if(s.caretPositionFromPoint)try{let n=s.caretPositionFromPoint(i,e);if(n)return{node:n.offsetNode,offset:n.offset}}catch{}if(s.caretRangeFromPoint){let n=s.caretRangeFromPoint(i,e);if(n)return{node:n.startContainer,offset:n.startOffset}}}(e,i.left,i.top);r&&({node:n,offset:o}=r);let l,a=(s.root.elementFromPoint?s.root:e).elementFromPoint(i.left,i.top);if(!a||!s.dom.contains(1!=a.nodeType?a.parentNode:a)){let u=s.dom.getBoundingClientRect();if(!Wae(i,u)||(a=TLe(s.dom,i,u),!a))return null}if(Sc)for(let u=a;n&&u;u=I4(u))u.draggable&&(n=void 0);if(a=function Y9t(s,i){let e=s.parentNode;return e&&/^li$/i.test(e.nodeName)&&i.left<s.getBoundingClientRect().left?e:s}(a,i),n){if(Ip&&1==n.nodeType&&(o=Math.min(o,n.childNodes.length),o<n.childNodes.length)){let _,f=n.childNodes[o];"IMG"==f.nodeName&&(_=f.getBoundingClientRect()).right<=i.left&&_.bottom>i.top&&o++}let u;x4&&o&&1==n.nodeType&&1==(u=n.childNodes[o-1]).nodeType&&"false"==u.contentEditable&&u.getBoundingClientRect().top>=i.top&&o--,n==s.dom&&o==n.childNodes.length-1&&1==n.lastChild.nodeType&&i.top>n.lastChild.getBoundingClientRect().bottom?l=s.state.doc.content.size:(0==o||1!=n.nodeType||"BR"!=n.childNodes[o-1].nodeName)&&(l=function J9t(s,i,e,n){let o=-1;for(let r=i,a=!1;r!=s.dom;){let l=s.docView.nearestDesc(r,!0);if(!l)return null;if(1==l.dom.nodeType&&(l.node.isBlock&&l.parent&&!a||!l.contentDOM)){let c=l.dom.getBoundingClientRect();if(l.node.isBlock&&l.parent&&!a&&(a=!0,c.left>n.left||c.top>n.top?o=l.posBefore:(c.right<n.left||c.bottom<n.top)&&(o=l.posAfter)),!l.contentDOM&&o<0&&!l.node.isText)return(l.node.isBlock?n.top<(c.top+c.bottom)/2:n.left<(c.left+c.right)/2)?l.posBefore:l.posAfter}r=l.dom.parentNode}return o>-1?o:s.docView.posFromDOM(i,e,-1)}(s,n,o,i))}null==l&&(l=function K9t(s,i,e){let{node:n,offset:o}=OLe(i,e),r=-1;if(1==n.nodeType&&!n.firstChild){let a=n.getBoundingClientRect();r=a.left!=a.right&&e.left>(a.left+a.right)/2?1:-1}return s.docView.posFromDOM(n,o,r)}(s,a,i));let c=s.docView.nearestDesc(a,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function MLe(s){return s.top<s.bottom||s.left<s.right}function US(s,i){let e=s.getClientRects();if(e.length){let n=e[i<0?0:e.length-1];if(MLe(n))return n}return Array.prototype.find.call(e,MLe)||s.getBoundingClientRect()}const Q9t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function ILe(s,i,e){let{node:n,offset:o,atom:r}=s.docView.domFromPos(i,e<0?-1:1),a=x4||Ip;if(3==n.nodeType){if(!a||!Q9t.test(n.nodeValue)&&(e<0?o:o!=n.nodeValue.length)){let c=o,u=o,f=e<0?1:-1;return e<0&&!o?(u++,f=-1):e>=0&&o==n.nodeValue.length?(c--,f=1):e<0?c--:u++,A4(US(qg(n,c,u),f),f<0)}{let c=US(qg(n,o,o),e);if(Ip&&o&&/\s/.test(n.nodeValue[o-1])&&o<n.nodeValue.length){let u=US(qg(n,o-1,o-1),-1);if(u.top==c.top){let f=US(qg(n,o,o+1),-1);if(f.top!=c.top)return A4(f,f.left<u.left)}}return c}}if(!s.state.doc.resolve(i-(r||0)).parent.inlineContent){if(null==r&&o&&(e<0||o==Im(n))){let c=n.childNodes[o-1];if(1==c.nodeType)return Yae(c.getBoundingClientRect(),!1)}if(null==r&&o<Im(n)){let c=n.childNodes[o];if(1==c.nodeType)return Yae(c.getBoundingClientRect(),!0)}return Yae(n.getBoundingClientRect(),e>=0)}if(null==r&&o&&(e<0||o==Im(n))){let c=n.childNodes[o-1],u=3==c.nodeType?qg(c,Im(c)-(a?0:1)):1!=c.nodeType||"BR"==c.nodeName&&c.nextSibling?null:c;if(u)return A4(US(u,1),!1)}if(null==r&&o<Im(n)){let c=n.childNodes[o];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let u=c?3==c.nodeType?qg(c,0,a?0:1):1==c.nodeType?c:null:null;if(u)return A4(US(u,-1),!0)}return A4(US(3==n.nodeType?qg(n):n,-e),e>=0)}function A4(s,i){if(0==s.width)return s;let e=i?s.left:s.right;return{top:s.top,bottom:s.bottom,left:e,right:e}}function Yae(s,i){if(0==s.height)return s;let e=i?s.top:s.bottom;return{top:e,bottom:e,left:s.left,right:s.right}}function xLe(s,i,e){let n=s.state,o=s.root.activeElement;n!=i&&s.updateState(i),o!=s.dom&&s.focus();try{return e()}finally{n!=i&&s.updateState(n),o!=s.dom&&o&&o.focus()}}const ezt=/[\u0590-\u08ac]/;let ALe=null,RLe=null,NLe=!1;class R4{constructor(i,e,n,o){this.parent=i,this.children=e,this.dom=n,this.contentDOM=o,this.dirty=0,n.pmViewDesc=this}matchesWidget(i){return!1}matchesMark(i){return!1}matchesNode(i,e,n){return!1}matchesHack(i){return!1}parseRule(){return null}stopEvent(i){return!1}get size(){let i=0;for(let e=0;e<this.children.length;e++)i+=this.children[e].size;return i}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let i=0;i<this.children.length;i++)this.children[i].destroy()}posBeforeChild(i){for(let e=0,n=this.posAtStart;;e++){let o=this.children[e];if(o==i)return n;n+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(i,e,n){if(this.contentDOM&&this.contentDOM.contains(1==i.nodeType?i:i.parentNode)){if(n<0){let r,a;if(i==this.contentDOM)r=i.childNodes[e-1];else{for(;i.parentNode!=this.contentDOM;)i=i.parentNode;r=i.previousSibling}for(;r&&(!(a=r.pmViewDesc)||a.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(a)+a.size:this.posAtStart}{let r,a;if(i==this.contentDOM)r=i.childNodes[e];else{for(;i.parentNode!=this.contentDOM;)i=i.parentNode;r=i.nextSibling}for(;r&&(!(a=r.pmViewDesc)||a.parent!=this);)r=r.nextSibling;return r?this.posBeforeChild(a):this.posAtEnd}}let o;if(i==this.dom&&this.contentDOM)o=e>vc(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=2&i.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(let r=i;;r=r.parentNode){if(r==this.dom){o=!1;break}if(r.previousSibling)break}if(null==o&&e==i.childNodes.length)for(let r=i;;r=r.parentNode){if(r==this.dom){o=!0;break}if(r.nextSibling)break}}return o??n>0?this.posAtEnd:this.posAtStart}nearestDesc(i,e=!1){for(let n=!0,o=i;o;o=o.parentNode){let a,r=this.getDesc(o);if(r&&(!e||r.node)){if(!n||!(a=r.nodeDOM)||(1==a.nodeType?a.contains(1==i.nodeType?i:i.parentNode):a==i))return r;n=!1}}}getDesc(i){let e=i.pmViewDesc;for(let n=e;n;n=n.parent)if(n==this)return e}posFromDOM(i,e,n){for(let o=i;o;o=o.parentNode){let r=this.getDesc(o);if(r)return r.localPosFromDOM(i,e,n)}return-1}descAt(i){for(let e=0,n=0;e<this.children.length;e++){let o=this.children[e],r=n+o.size;if(n==i&&r!=n){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(i<r)return o.descAt(i-n-o.border);n=r}}domFromPos(i,e){if(!this.contentDOM)return{node:this.dom,offset:0,atom:i+1};let n=0,o=0;for(let r=0;n<this.children.length;n++){let a=this.children[n],l=r+a.size;if(l>i||a instanceof FLe){o=i-r;break}r=l}if(o)return this.children[n].domFromPos(o-this.children[n].border,e);for(let r;n&&!(r=this.children[n-1]).size&&r instanceof GLe&&r.side>=0;n--);if(e<=0){let r,a=!0;for(;r=n?this.children[n-1]:null,r&&r.dom.parentNode!=this.contentDOM;n--,a=!1);return r&&e&&a&&!r.border&&!r.domAtom?r.domFromPos(r.size,e):{node:this.contentDOM,offset:r?vc(r.dom)+1:0}}{let r,a=!0;for(;r=n<this.children.length?this.children[n]:null,r&&r.dom.parentNode!=this.contentDOM;n++,a=!1);return r&&a&&!r.border&&!r.domAtom?r.domFromPos(0,e):{node:this.contentDOM,offset:r?vc(r.dom):this.contentDOM.childNodes.length}}}parseRange(i,e,n=0){if(0==this.children.length)return{node:this.contentDOM,from:i,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,r=-1;for(let a=n,l=0;;l++){let c=this.children[l],u=a+c.size;if(-1==o&&i<=u){let f=a+c.border;if(i>=f&&e<=u-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(i,e,f);i=a;for(let _=l;_>0;_--){let g=this.children[_-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){o=vc(g.dom)+1;break}i-=g.size}-1==o&&(o=0)}if(o>-1&&(u>e||l==this.children.length-1)){e=u;for(let f=l+1;f<this.children.length;f++){let _=this.children[f];if(_.size&&_.dom.parentNode==this.contentDOM&&!_.emptyChildAt(-1)){r=vc(_.dom);break}e+=_.size}-1==r&&(r=this.contentDOM.childNodes.length);break}a=u}return{node:this.contentDOM,from:i,to:e,fromOffset:o,toOffset:r}}emptyChildAt(i){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[i<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(i)}domAfterPos(i){let{node:e,offset:n}=this.domFromPos(i,0);if(1!=e.nodeType||n==e.childNodes.length)throw new RangeError("No node after pos "+i);return e.childNodes[n]}setSelection(i,e,n,o=!1){let r=Math.min(i,e),a=Math.max(i,e);for(let g=0,S=0;g<this.children.length;g++){let b=this.children[g],k=S+b.size;if(r>S&&a<k)return b.setSelection(i-S-b.border,e-S-b.border,n,o);S=k}let l=this.domFromPos(i,i?-1:1),c=e==i?l:this.domFromPos(e,e?-1:1),u=n.getSelection(),f=!1;if((Ip||Sc)&&i==e){let{node:g,offset:S}=l;if(3==g.nodeType){if(f=!(!S||"\n"!=g.nodeValue[S-1]),f&&S==g.nodeValue.length)for(let k,b=g;b;b=b.parentNode){if(k=b.nextSibling){"BR"==k.nodeName&&(l=c={node:k.parentNode,offset:vc(k)+1});break}let D=b.pmViewDesc;if(D&&D.node&&D.node.isBlock)break}}else{let b=g.childNodes[S-1];f=b&&("BR"==b.nodeName||"false"==b.contentEditable)}}if(Ip&&u.focusNode&&u.focusNode!=c.node&&1==u.focusNode.nodeType){let g=u.focusNode.childNodes[u.focusOffset];g&&"false"==g.contentEditable&&(o=!0)}if(!(o||f&&Sc)&&Qb(l.node,l.offset,u.anchorNode,u.anchorOffset)&&Qb(c.node,c.offset,u.focusNode,u.focusOffset))return;let _=!1;if((u.extend||i==e)&&!f){u.collapse(l.node,l.offset);try{i!=e&&u.extend(c.node,c.offset),_=!0}catch{}}if(!_){if(i>e){let S=l;l=c,c=S}let g=document.createRange();g.setEnd(c.node,c.offset),g.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(g)}}ignoreMutation(i){return!this.contentDOM&&"selection"!=i.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(i,e){for(let n=0,o=0;o<this.children.length;o++){let r=this.children[o],a=n+r.size;if(n==a?i<=a&&e>=n:i<a&&e>n){let l=n+r.border,c=a-r.border;if(i>=l&&e<=c)return this.dirty=i==n||e==a?2:1,void(i!=l||e!=c||!r.contentLost&&r.dom.parentNode==this.contentDOM?r.markDirty(i-l,e-l):r.dirty=3);r.dirty=r.dom!=r.contentDOM||r.dom.parentNode!=this.contentDOM||r.children.length?3:2}n=a}this.dirty=2}markParentsDirty(){let i=1;for(let e=this.parent;e;e=e.parent,i++){let n=1==i?2:1;e.dirty<n&&(e.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class GLe extends R4{constructor(i,e,n,o){let r,a=e.type.toDOM;if("function"==typeof a&&(a=a(n,()=>r?r.parent?r.parent.posBeforeChild(r):void 0:o)),!e.type.spec.raw){if(1!=a.nodeType){let l=document.createElement("span");l.appendChild(a),a=l}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(i,[],a,null),this.widget=e,this.widget=e,r=this}matchesWidget(i){return 0==this.dirty&&i.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(i){let e=this.widget.spec.stopEvent;return!!e&&e(i)}ignoreMutation(i){return"selection"!=i.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class izt extends R4{constructor(i,e,n,o){super(i,[],e,null),this.textDOM=n,this.text=o}get size(){return this.text.length}localPosFromDOM(i,e){return i!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(i){return{node:this.textDOM,offset:i}}ignoreMutation(i){return"characterData"===i.type&&i.target.nodeValue==i.oldValue}}class tE extends R4{constructor(i,e,n,o){super(i,[],n,o),this.mark=e}static create(i,e,n,o){let r=o.nodeViews[e.type.name],a=r&&r(e,o,n);return(!a||!a.dom)&&(a=Wg.renderSpec(document,e.type.spec.toDOM(e,n))),new tE(i,e,a.dom,a.contentDOM||a.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(i){return 3!=this.dirty&&this.mark.eq(i)}markDirty(i,e){if(super.markDirty(i,e),0!=this.dirty){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=0}}slice(i,e,n){let o=tE.create(this.parent,this.mark,!0,n),r=this.children,a=this.size;e<a&&(r=qae(r,e,a,n)),i>0&&(r=qae(r,0,i,n));for(let l=0;l<r.length;l++)r[l].parent=o;return o.children=r,o}}class BS extends R4{constructor(i,e,n,o,r,a,l,c,u){super(i,[],r,a),this.node=e,this.outerDeco=n,this.innerDeco=o,this.nodeDOM=l}static create(i,e,n,o,r,a){let c,l=r.nodeViews[e.type.name],u=l&&l(e,r,()=>c?c.parent?c.parent.posBeforeChild(c):void 0:a,n,o),f=u&&u.dom,_=u&&u.contentDOM;if(e.isText)if(f){if(3!=f.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else f=document.createTextNode(e.text);else f||({dom:f,contentDOM:_}=Wg.renderSpec(document,e.type.spec.toDOM(e)));!_&&!e.isText&&"BR"!=f.nodeName&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),e.type.spec.draggable&&(f.draggable=!0));let g=f;return f=VLe(f,n,e),u?c=new szt(i,e,n,o,f,_||null,g,u,r,a+1):e.isText?new dz(i,e,n,o,f,g,r):new BS(i,e,n,o,f,_||null,g,r,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let i={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(i.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let e=this.children.length-1;e>=0;e--){let n=this.children[e];if(this.dom.contains(n.dom.parentNode)){i.contentElement=n.dom.parentNode;break}}i.contentElement||(i.getContent=()=>Te.empty)}else i.contentElement=this.contentDOM;else i.getContent=()=>this.node.content;return i}matchesNode(i,e,n){return 0==this.dirty&&i.eq(this.node)&&Jae(e,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(i,e){let n=this.node.inlineContent,o=e,r=i.composing?this.localCompositionInfo(i,e):null,a=r&&r.pos>-1?r:null,l=r&&r.pos<0,c=new rzt(this,a&&a.node,i);(function czt(s,i,e,n){let o=i.locals(s),r=0;if(0==o.length){for(let u=0;u<s.childCount;u++){let f=s.child(u);n(f,o,i.forChild(r,f),u),r+=f.nodeSize}return}let a=0,l=[],c=null;for(let u=0;;){let f,_,g,S;for(;a<o.length&&o[a].to==r;){let D=o[a++];D.widget&&(f?(_||(_=[f])).push(D):f=D)}if(f)if(_){_.sort(lzt);for(let D=0;D<_.length;D++)e(_[D],u,!!c)}else e(f,u,!!c);if(c)S=-1,g=c,c=null;else{if(!(u<s.childCount))break;S=u,g=s.child(u++)}for(let D=0;D<l.length;D++)l[D].to<=r&&l.splice(D--,1);for(;a<o.length&&o[a].from<=r&&o[a].to>r;)l.push(o[a++]);let b=r+g.nodeSize;if(g.isText){let D=b;a<o.length&&o[a].from<D&&(D=o[a].from);for(let O=0;O<l.length;O++)l[O].to<D&&(D=l[O].to);D<b&&(c=g.cut(D-r),g=g.cut(0,D-r),b=D,S=-1)}else for(;a<o.length&&o[a].to<=b;)a++;n(g,g.isInline&&!g.isLeaf?l.filter(D=>!D.inline):l.slice(),i.forChild(r,g),S),r=b}})(this.node,this.innerDeco,(u,f,_)=>{u.spec.marks?c.syncToMarks(u.spec.marks,n,i):u.type.side>=0&&!_&&c.syncToMarks(f==this.node.childCount?qs.none:this.node.child(f).marks,n,i),c.placeWidget(u,i,o)},(u,f,_,g)=>{let S;c.syncToMarks(u.marks,n,i),c.findNodeMatch(u,f,_,g)||l&&i.state.selection.from>o&&i.state.selection.to<o+u.nodeSize&&(S=c.findIndexWithChild(r.node))>-1&&c.updateNodeAt(u,f,_,S,i)||c.updateNextNode(u,f,_,i,g,o)||c.addNode(u,f,_,i,o),o+=u.nodeSize}),c.syncToMarks([],n,i),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||2==this.dirty)&&(a&&this.protectLocalComposition(i,a),ULe(this.contentDOM,this.children,i),GO&&function dzt(s){if("UL"==s.nodeName||"OL"==s.nodeName){let i=s.style.cssText;s.style.cssText=i+"; list-style: square !important",window.getComputedStyle(s),s.style.cssText=i}}(this.dom))}localCompositionInfo(i,e){let{from:n,to:o}=i.state.selection;if(!(i.state.selection instanceof si)||n<e||o>e+this.node.content.size)return null;let r=i.domSelectionRange(),a=function uzt(s,i){for(;;){if(3==s.nodeType)return s;if(1==s.nodeType&&i>0){if(s.childNodes.length>i&&3==s.childNodes[i].nodeType)return s.childNodes[i];i=Im(s=s.childNodes[i-1])}else{if(!(1==s.nodeType&&i<s.childNodes.length))return null;s=s.childNodes[i],i=0}}}(r.focusNode,r.focusOffset);if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let l=a.nodeValue,c=function hzt(s,i,e,n){for(let o=0,r=0;o<s.childCount&&r<=n;){let a=s.child(o++),l=r;if(r+=a.nodeSize,!a.isText)continue;let c=a.text;for(;o<s.childCount;){let u=s.child(o++);if(r+=u.nodeSize,!u.isText)break;c+=u.text}if(r>=e){if(r>=n&&c.slice(n-i.length-l,n-l)==i)return n-i.length;let u=l<n?c.lastIndexOf(i,n-l-1):-1;if(u>=0&&u+i.length+l>=e)return l+u;if(e==n&&c.length>=n+i.length-l&&c.slice(n-l,n-l+i.length)==i)return n}}return-1}(this.node.content,l,n-e,o-e);return c<0?null:{node:a,pos:c,text:l}}return{node:a,pos:-1,text:""}}protectLocalComposition(i,{node:e,pos:n,text:o}){if(this.getDesc(e))return;let r=e;for(;r.parentNode!=this.contentDOM;r=r.parentNode){for(;r.previousSibling;)r.parentNode.removeChild(r.previousSibling);for(;r.nextSibling;)r.parentNode.removeChild(r.nextSibling);r.pmViewDesc&&(r.pmViewDesc=void 0)}let a=new izt(this,r,e,o);i.input.compositionNodes.push(a),this.children=qae(this.children,n,n+o.length,i,a)}update(i,e,n,o){return!(3==this.dirty||!i.sameMarkup(this.node)||(this.updateInner(i,e,n,o),0))}updateInner(i,e,n,o){this.updateOuterDeco(e),this.node=i,this.innerDeco=n,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=0}updateOuterDeco(i){if(Jae(i,this.outerDeco))return;let e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=BLe(this.dom,this.nodeDOM,Kae(this.outerDeco,this.node,e),Kae(i,this.node,e)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=i}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function PLe(s,i,e,n,o){VLe(n,i,s);let r=new BS(void 0,s,i,e,n,n,n,o,0);return r.contentDOM&&r.updateChildren(o,0),r}class dz extends BS{constructor(i,e,n,o,r,a,l){super(i,e,n,o,r,null,a,l,0)}parseRule(){let i=this.nodeDOM.parentNode;for(;i&&i!=this.dom&&!i.pmIsDeco;)i=i.parentNode;return{skip:i||!0}}update(i,e,n,o){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!i.sameMarkup(this.node)||(this.updateOuterDeco(e),(0!=this.dirty||i.text!=this.node.text)&&i.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=i.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=i,this.dirty=0,0))}inParent(){let i=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==i)return!0;return!1}domFromPos(i){return{node:this.nodeDOM,offset:i}}localPosFromDOM(i,e,n){return i==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(i,e,n)}ignoreMutation(i){return"characterData"!=i.type&&"selection"!=i.type}slice(i,e,n){let o=this.node.cut(i,e),r=document.createTextNode(o.text);return new dz(this.parent,o,this.outerDeco,this.innerDeco,r,r,n)}markDirty(i,e){super.markDirty(i,e),this.dom!=this.nodeDOM&&(0==i||e==this.nodeDOM.nodeValue.length)&&(this.dirty=3)}get domAtom(){return!1}}class FLe extends R4{parseRule(){return{ignore:!0}}matchesHack(i){return 0==this.dirty&&this.dom.nodeName==i}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class szt extends BS{constructor(i,e,n,o,r,a,l,c,u,f){super(i,e,n,o,r,a,l,u,f),this.spec=c}update(i,e,n,o){if(3==this.dirty)return!1;if(this.spec.update){let r=this.spec.update(i,e,n);return r&&this.updateInner(i,e,n,o),r}return!(!this.contentDOM&&!i.isLeaf)&&super.update(i,e,n,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(i,e,n,o){this.spec.setSelection?this.spec.setSelection(i,e,n):super.setSelection(i,e,n,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(i){return!!this.spec.stopEvent&&this.spec.stopEvent(i)}ignoreMutation(i){return this.spec.ignoreMutation?this.spec.ignoreMutation(i):super.ignoreMutation(i)}}function ULe(s,i,e){let n=s.firstChild,o=!1;for(let r=0;r<i.length;r++){let a=i[r],l=a.dom;if(l.parentNode==s){for(;l!=n;)n=zLe(n),o=!0;n=n.nextSibling}else o=!0,s.insertBefore(l,n);if(a instanceof tE){let c=n?n.previousSibling:s.lastChild;ULe(a.contentDOM,a.children,e),n=c?c.nextSibling:s.firstChild}}for(;n;)n=zLe(n),o=!0;o&&e.trackWrites==s&&(e.trackWrites=null)}const N4=function(s){s&&(this.nodeName=s)};N4.prototype=Object.create(null);const nE=[new N4];function Kae(s,i,e){if(0==s.length)return nE;let n=e?nE[0]:new N4,o=[n];for(let r=0;r<s.length;r++){let a=s[r].type.attrs;if(a){a.nodeName&&o.push(n=new N4(a.nodeName));for(let l in a){let c=a[l];null!=c&&(e&&1==o.length&&o.push(n=new N4(i.isInline?"span":"div")),"class"==l?n.class=(n.class?n.class+" ":"")+c:"style"==l?n.style=(n.style?n.style+";":"")+c:"nodeName"!=l&&(n[l]=c))}}}return o}function BLe(s,i,e,n){if(e==nE&&n==nE)return i;let o=i;for(let r=0;r<n.length;r++){let a=n[r],l=e[r];if(r){let c;l&&l.nodeName==a.nodeName&&o!=s&&(c=o.parentNode)&&c.nodeName.toLowerCase()==a.nodeName||(c=document.createElement(a.nodeName),c.pmIsDeco=!0,c.appendChild(o),l=nE[0]),o=c}ozt(o,l||nE[0],a)}return o}function ozt(s,i,e){for(let n in i)"class"!=n&&"style"!=n&&"nodeName"!=n&&!(n in e)&&s.removeAttribute(n);for(let n in e)"class"!=n&&"style"!=n&&"nodeName"!=n&&e[n]!=i[n]&&s.setAttribute(n,e[n]);if(i.class!=e.class){let n=i.class?i.class.split(" ").filter(Boolean):[],o=e.class?e.class.split(" ").filter(Boolean):[];for(let r=0;r<n.length;r++)-1==o.indexOf(n[r])&&s.classList.remove(n[r]);for(let r=0;r<o.length;r++)-1==n.indexOf(o[r])&&s.classList.add(o[r]);0==s.classList.length&&s.removeAttribute("class")}if(i.style!=e.style){if(i.style){let o,n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;o=n.exec(i.style);)s.style.removeProperty(o[1])}e.style&&(s.style.cssText+=e.style)}}function VLe(s,i,e){return BLe(s,s,nE,Kae(i,e,1!=s.nodeType))}function Jae(s,i){if(s.length!=i.length)return!1;for(let e=0;e<s.length;e++)if(!s[e].type.eq(i[e].type))return!1;return!0}function zLe(s){let i=s.nextSibling;return s.parentNode.removeChild(s),i}class rzt{constructor(i,e,n){this.lock=e,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=i,this.preMatch=function azt(s,i){let e=i,n=e.children.length,o=s.childCount,r=new Map,a=[];e:for(;o>0;){let l;for(;;)if(n){let u=e.children[n-1];if(!(u instanceof tE)){l=u,n--;break}e=u,n=u.children.length}else{if(e==i)break e;n=e.parent.children.indexOf(e),e=e.parent}let c=l.node;if(c){if(c!=s.child(o-1))break;--o,r.set(l,o),a.push(l)}}return{index:o,matched:r,matches:a.reverse()}}(i.node.content,i)}destroyBetween(i,e){if(i!=e){for(let n=i;n<e;n++)this.top.children[n].destroy();this.top.children.splice(i,e-i),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(i,e,n){let o=0,r=this.stack.length>>1,a=Math.min(r,i.length);for(;o<a&&(o==r-1?this.top:this.stack[o+1<<1]).matchesMark(i[o])&&!1!==i[o].type.spec.spanning;)o++;for(;o<r;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<i.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let u=this.top.children[c];if(u.matchesMark(i[r])&&!this.isLocked(u.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=tE.create(this.top,i[r],e,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,r++}}findNodeMatch(i,e,n,o){let a,r=-1;if(o>=this.preMatch.index&&(a=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&a.matchesNode(i,e,n))r=this.top.children.indexOf(a,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let u=this.top.children[l];if(u.matchesNode(i,e,n)&&!this.preMatch.matched.has(u)){r=l;break}}return!(r<0||(this.destroyBetween(this.index,r),this.index++,0))}updateNodeAt(i,e,n,o,r){let a=this.top.children[o];return 3==a.dirty&&a.dom==a.contentDOM&&(a.dirty=2),!!a.update(i,e,n,r)&&(this.destroyBetween(this.index,o),this.index++,!0)}findIndexWithChild(i){for(;;){let e=i.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let n=i.pmViewDesc;if(n)for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==n)return o;return-1}i=e}}updateNextNode(i,e,n,o,r,a){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof BS){let u=this.preMatch.matched.get(c);if(null!=u&&u!=r)return!1;let _,f=c.dom,g=this.isLocked(f)&&!(i.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==i.text&&3!=c.dirty&&Jae(e,c.outerDeco));if(!g&&c.update(i,e,n,o))return this.destroyBetween(this.index,l),c.dom!=f&&(this.changed=!0),this.index++,!0;if(!g&&(_=this.recreateWrapper(c,i,e,n,o,a)))return this.top.children[this.index]=_,_.contentDOM&&(_.dirty=2,_.updateChildren(o,a+1),_.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(i,e,n,o,r,a){if(i.dirty||e.isAtom||!i.children.length||!i.node.content.eq(e.content))return null;let l=BS.create(this.top,e,n,o,r,a);if(l.contentDOM){l.children=i.children,i.children=[];for(let c of l.children)c.parent=l}return i.destroy(),l}addNode(i,e,n,o,r){let a=BS.create(this.top,i,e,n,o,r);a.contentDOM&&a.updateChildren(o,r+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(i,e,n){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(!o||!o.matchesWidget(i)||i!=o.widget&&o.widget.type.toDOM.parentNode){let r=new GLe(this.top,i,e,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let i=this.top.children[this.index-1],e=this.top;for(;i instanceof tE;)e=i,i=e.children[e.children.length-1];(!i||!(i instanceof dz)||/\n$/.test(i.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(i.node.text))&&((Sc||Il)&&i&&"false"==i.dom.contentEditable&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(i,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(i))this.index++;else{let n=document.createElement(i);"IMG"==i&&(n.className="ProseMirror-separator",n.alt=""),"BR"==i&&(n.className="ProseMirror-trailingBreak");let o=new FLe(this.top,[],n,null);e!=this.top?e.children.push(o):e.children.splice(this.index++,0,o),this.changed=!0}}isLocked(i){return this.lock&&(i==this.lock||1==i.nodeType&&i.contains(this.lock.parentNode))}}function lzt(s,i){return s.type.side-i.type.side}function qae(s,i,e,n,o){let r=[];for(let a=0,l=0;a<s.length;a++){let c=s[a],u=l,f=l+=c.size;u>=e||f<=i?r.push(c):(u<i&&r.push(c.slice(0,i-u,n)),o&&(r.push(o),o=void 0),f>e&&r.push(c.slice(e-u,c.size,n)))}return r}function Qae(s,i=null){let e=s.domSelectionRange(),n=s.state.doc;if(!e.focusNode)return null;let o=s.docView.nearestDesc(e.focusNode),r=o&&0==o.size,a=s.docView.posFromDOM(e.focusNode,e.focusOffset,1);if(a<0)return null;let c,u,l=n.resolve(a);if(cz(e)){for(c=l;o&&!o.node;)o=o.parent;let f=o.node;if(o&&f.isAtom&&Xt.isSelectable(f)&&o.parent&&(!f.isInline||!function G9t(s,i,e){for(let n=0==i,o=i==Im(s);n||o;){if(s==e)return!0;let r=vc(s);if(!(s=s.parentNode))return!1;n=n&&0==r,o=o&&r==Im(s)}}(e.focusNode,e.focusOffset,o.dom))){let _=o.posBefore;u=new Xt(a==_?l:n.resolve(_))}}else{let f=s.docView.posFromDOM(e.anchorNode,e.anchorOffset,1);if(f<0)return null;c=n.resolve(f)}return u||(u=ele(s,c,l,"pointer"==i||s.state.selection.head<l.pos&&!r?1:-1)),u}function jLe(s){return s.editable?s.hasFocus():JLe(s)&&document.activeElement&&document.activeElement.contains(s.dom)}function Zg(s,i=!1){let e=s.state.selection;if(WLe(s,e),jLe(s)){if(!i&&s.input.mouseDown&&s.input.mouseDown.allowDefault&&Il){let n=s.domSelectionRange(),o=s.domObserver.currentSelection;if(n.anchorNode&&o.anchorNode&&Qb(n.anchorNode,n.anchorOffset,o.anchorNode,o.anchorOffset))return s.input.mouseDown.delayedSelectionSync=!0,void s.domObserver.setCurSelection()}if(s.domObserver.disconnectSelection(),s.cursorWrapper)!function fzt(s){let i=s.domSelection(),e=document.createRange(),n=s.cursorWrapper.dom,o="IMG"==n.nodeName;o?e.setEnd(n.parentNode,vc(n)+1):e.setEnd(n,0),e.collapse(!1),i.removeAllRanges(),i.addRange(e),!o&&!s.state.selection.visible&&hd&&FS<=11&&(n.disabled=!0,n.disabled=!1)}(s);else{let r,a,{anchor:n,head:o}=e;HLe&&!(e instanceof si)&&(e.$from.parent.inlineContent||(r=$Le(s,e.from)),!e.empty&&!e.$from.parent.inlineContent&&(a=$Le(s,e.to))),s.docView.setSelection(n,o,s.root,i),HLe&&(r&&XLe(r),a&&XLe(a)),e.visible?s.dom.classList.remove("ProseMirror-hideselection"):(s.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function pzt(s){let i=s.dom.ownerDocument;i.removeEventListener("selectionchange",s.input.hideSelectionGuard);let e=s.domSelectionRange(),n=e.anchorNode,o=e.anchorOffset;i.addEventListener("selectionchange",s.input.hideSelectionGuard=()=>{(e.anchorNode!=n||e.anchorOffset!=o)&&(i.removeEventListener("selectionchange",s.input.hideSelectionGuard),setTimeout(()=>{(!jLe(s)||s.state.selection.visible)&&s.dom.classList.remove("ProseMirror-hideselection")},20))})}(s))}s.domObserver.setCurSelection(),s.domObserver.connectSelection()}}const HLe=Sc||Il&&U9t<63;function $Le(s,i){let{node:e,offset:n}=s.docView.domFromPos(i,0),o=n<e.childNodes.length?e.childNodes[n]:null,r=n?e.childNodes[n-1]:null;if(Sc&&o&&"false"==o.contentEditable)return Zae(o);if(!(o&&"false"!=o.contentEditable||r&&"false"!=r.contentEditable)){if(o)return Zae(o);if(r)return Zae(r)}}function Zae(s){return s.contentEditable="true",Sc&&s.draggable&&(s.draggable=!1,s.wasDraggable=!0),s}function XLe(s){s.contentEditable="false",s.wasDraggable&&(s.draggable=!0,s.wasDraggable=null)}function WLe(s,i){if(i instanceof Xt){let e=s.docView.descAt(i.from);e!=s.lastSelectedViewDesc&&(YLe(s),e&&e.selectNode(),s.lastSelectedViewDesc=e)}else YLe(s)}function YLe(s){s.lastSelectedViewDesc&&(s.lastSelectedViewDesc.parent&&s.lastSelectedViewDesc.deselectNode(),s.lastSelectedViewDesc=void 0)}function ele(s,i,e,n){return s.someProp("createSelectionBetween",o=>o(s,i,e))||si.between(i,e,n)}function KLe(s){return!(s.editable&&!s.hasFocus())&&JLe(s)}function JLe(s){let i=s.domSelectionRange();if(!i.anchorNode)return!1;try{return s.dom.contains(3==i.anchorNode.nodeType?i.anchorNode.parentNode:i.anchorNode)&&(s.editable||s.dom.contains(3==i.focusNode.nodeType?i.focusNode.parentNode:i.focusNode))}catch{return!1}}function tle(s,i){let{$anchor:e,$head:n}=s.selection,o=i>0?e.max(n):e.min(n),r=o.parent.inlineContent?o.depth?s.doc.resolve(i>0?o.after():o.before()):null:o;return r&&Hn.findFrom(r,i)}function VS(s,i){return s.dispatch(s.state.tr.setSelection(i).scrollIntoView()),!0}function qLe(s,i,e){let n=s.state.selection;if(!(n instanceof si)){if(n instanceof Xt&&n.node.isInline)return VS(s,new si(i>0?n.$to:n.$from));{let o=tle(s.state,i);return!!o&&VS(s,o)}}if(e.indexOf("s")>-1){let{$head:o}=n,r=o.textOffset?null:i<0?o.nodeBefore:o.nodeAfter;if(!r||r.isText||!r.isLeaf)return!1;let a=s.state.doc.resolve(o.pos+r.nodeSize*(i<0?-1:1));return VS(s,new si(n.$anchor,a))}if(!n.empty)return!1;if(s.endOfTextblock(i>0?"forward":"backward")){let o=tle(s.state,i);return!!(o&&o instanceof Xt)&&VS(s,o)}if(!(bh&&e.indexOf("m")>-1)){let a,o=n.$head,r=o.textOffset?null:i<0?o.nodeBefore:o.nodeAfter;if(!r||r.isText)return!1;let l=i<0?o.pos-r.nodeSize:o.pos;return!!(r.isAtom||(a=s.docView.descAt(l))&&!a.contentDOM)&&(Xt.isSelectable(r)?VS(s,new Xt(i<0?s.state.doc.resolve(o.pos-r.nodeSize):o)):!!x4&&VS(s,new si(s.state.doc.resolve(i<0?l:l+r.nodeSize))))}}function uz(s){return 3==s.nodeType?s.nodeValue.length:s.childNodes.length}function L4(s,i){let e=s.pmViewDesc;return e&&0==e.size&&(i<0||s.nextSibling||"BR"!=s.nodeName)}function FO(s,i){return i<0?function _zt(s){let i=s.domSelectionRange(),e=i.focusNode,n=i.focusOffset;if(!e)return;let o,r,a=!1;for(Ip&&1==e.nodeType&&n<uz(e)&&L4(e.childNodes[n],-1)&&(a=!0);;)if(n>0){if(1!=e.nodeType)break;{let l=e.childNodes[n-1];if(L4(l,-1))o=e,r=--n;else{if(3!=l.nodeType)break;e=l,n=e.nodeValue.length}}}else{if(QLe(e))break;{let l=e.previousSibling;for(;l&&L4(l,-1);)o=e.parentNode,r=vc(l),l=l.previousSibling;if(l)e=l,n=uz(e);else{if(e=e.parentNode,e==s.dom)break;n=0}}}a?nle(s,e,n):o&&nle(s,o,r)}(s):function gzt(s){let i=s.domSelectionRange(),e=i.focusNode,n=i.focusOffset;if(!e)return;let r,a,o=uz(e);for(;;)if(n<o){if(1!=e.nodeType)break;if(!L4(e.childNodes[n],1))break;r=e,a=++n}else{if(QLe(e))break;{let l=e.nextSibling;for(;l&&L4(l,1);)r=l.parentNode,a=vc(l)+1,l=l.nextSibling;if(l)e=l,n=0,o=uz(e);else{if(e=e.parentNode,e==s.dom)break;n=o=0}}}r&&nle(s,r,a)}(s)}function QLe(s){let i=s.pmViewDesc;return i&&i.node&&i.node.isBlock}function nle(s,i,e){if(3!=i.nodeType){let r,a;(a=function vzt(s,i){for(;s&&i==s.childNodes.length&&!jae(s);)i=vc(s)+1,s=s.parentNode;for(;s&&i<s.childNodes.length;){let e=s.childNodes[i];if(3==e.nodeType)return e;if(1==e.nodeType&&"false"==e.contentEditable)break;s=e,i=0}}(i,e))?(i=a,e=0):(r=function Szt(s,i){for(;s&&!i&&!jae(s);)i=vc(s),s=s.parentNode;for(;s&&i;){let e=s.childNodes[i-1];if(3==e.nodeType)return e;if(1==e.nodeType&&"false"==e.contentEditable)break;i=(s=e).childNodes.length}}(i,e))&&(i=r,e=r.nodeValue.length)}let n=s.domSelection();if(cz(n)){let r=document.createRange();r.setEnd(i,e),r.setStart(i,e),n.removeAllRanges(),n.addRange(r)}else n.extend&&n.extend(i,e);s.domObserver.setCurSelection();let{state:o}=s;setTimeout(()=>{s.state==o&&Zg(s)},50)}function ZLe(s,i){let e=s.state.doc.resolve(i);if(!Il&&!B9t&&e.parent.inlineContent){let o=s.coordsAtPos(i);if(i>e.start()){let r=s.coordsAtPos(i-1),a=(r.top+r.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(r.left-o.left)>1)return r.left<o.left?"ltr":"rtl"}if(i<e.end()){let r=s.coordsAtPos(i+1),a=(r.top+r.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(r.left-o.left)>1)return r.left>o.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(s.dom).direction?"rtl":"ltr"}function eGe(s,i,e){let n=s.state.selection;if(n instanceof si&&!n.empty||e.indexOf("s")>-1||bh&&e.indexOf("m")>-1)return!1;let{$from:o,$to:r}=n;if(!o.parent.inlineContent||s.endOfTextblock(i<0?"up":"down")){let a=tle(s.state,i);if(a&&a instanceof Xt)return VS(s,a)}if(!o.parent.inlineContent){let a=i<0?o:r,l=n instanceof Ml?Hn.near(a,i):Hn.findFrom(a,i);return!!l&&VS(s,l)}return!1}function tGe(s,i){if(!(s.state.selection instanceof si))return!0;let{$head:e,$anchor:n,empty:o}=s.state.selection;if(!e.sameParent(n))return!0;if(!o)return!1;if(s.endOfTextblock(i>0?"forward":"backward"))return!0;let r=!e.textOffset&&(i<0?e.nodeBefore:e.nodeAfter);if(r&&!r.isText){let a=s.state.tr;return i<0?a.delete(e.pos-r.nodeSize,e.pos):a.delete(e.pos,e.pos+r.nodeSize),s.dispatch(a),!0}return!1}function nGe(s,i,e){s.domObserver.stop(),i.contentEditable=e,s.domObserver.start()}function iGe(s,i){s.someProp("transformCopied",S=>{i=S(i,s)});let e=[],{content:n,openStart:o,openEnd:r}=i;for(;o>1&&r>1&&1==n.childCount&&1==n.firstChild.childCount;){o--,r--;let S=n.firstChild;e.push(S.type.name,S.attrs!=S.type.defaultAttrs?S.attrs:null),n=S.content}let a=s.someProp("clipboardSerializer")||Wg.fromSchema(s.state.schema),l=uGe(),c=l.createElement("div");c.appendChild(a.serializeFragment(n,{document:l}));let f,u=c.firstChild,_=0;for(;u&&1==u.nodeType&&(f=cGe[u.nodeName.toLowerCase()]);){for(let S=f.length-1;S>=0;S--){let b=l.createElement(f[S]);for(;c.firstChild;)b.appendChild(c.firstChild);c.appendChild(b),_++}u=c.firstChild}return u&&1==u.nodeType&&u.setAttribute("data-pm-slice",`${o} ${r}${_?` -${_}`:""} ${JSON.stringify(e)}`),{dom:c,text:s.someProp("clipboardTextSerializer",S=>S(i,s))||i.content.textBetween(0,i.content.size,"\n\n")}}function sGe(s,i,e,n,o){let a,l,r=o.parent.type.spec.code;if(!e&&!i)return null;let c=i&&(n||r||!e);if(c){if(s.someProp("transformPastedText",g=>{i=g(i,r||n,s)}),r)return i?new tt(Te.from(s.state.schema.text(i.replace(/\r\n?/g,"\n"))),0,0):tt.empty;let _=s.someProp("clipboardTextParser",g=>g(i,o,n,s));if(_)l=_;else{let g=o.marks(),{schema:S}=s.state,b=Wg.fromSchema(S);a=document.createElement("div"),i.split(/(?:\r\n?|\n)+/).forEach(k=>{let D=a.appendChild(document.createElement("p"));k&&D.appendChild(b.serializeNode(S.text(k,g)))})}}else s.someProp("transformPastedHTML",_=>{e=_(e,s)}),a=function wzt(s){let i=/^(\s*<meta [^>]*>)*/.exec(s);i&&(s=s.slice(i[0].length));let o,e=uGe().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(s);if((o=n&&cGe[n[1].toLowerCase()])&&(s=o.map(r=>"<"+r+">").join("")+s+o.map(r=>"</"+r+">").reverse().join("")),e.innerHTML=s,o)for(let r=0;r<o.length;r++)e=e.querySelector(o[r])||e;return e}(e),x4&&function Dzt(s){let i=s.querySelectorAll(Il?"span:not([class]):not([style])":"span.Apple-converted-space");for(let e=0;e<i.length;e++){let n=i[e];1==n.childNodes.length&&"\xa0"==n.textContent&&n.parentNode&&n.parentNode.replaceChild(s.ownerDocument.createTextNode(" "),n)}}(a);let u=a&&a.querySelector("[data-pm-slice]"),f=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let _=+f[3];_>0;_--){let g=a.firstChild;for(;g&&1!=g.nodeType;)g=g.nextSibling;if(!g)break;a=g}if(l||(l=(s.someProp("clipboardParser")||s.someProp("domParser")||SO.fromSchema(s.state.schema)).parseSlice(a,{preserveWhitespace:!(!c&&!f),context:o,ruleFromNode:g=>"BR"!=g.nodeName||g.nextSibling||!g.parentNode||yzt.test(g.parentNode.nodeName)?null:{ignore:!0}})),f)l=function Ozt(s,i){if(!s.size)return s;let n,e=s.content.firstChild.type.schema;try{n=JSON.parse(i)}catch{return s}let{content:o,openStart:r,openEnd:a}=s;for(let l=n.length-2;l>=0;l-=2){let c=e.nodes[n[l]];if(!c||c.hasRequiredAttrs())break;o=Te.from(c.create(n[l+1],o)),r++,a++}return new tt(o,r,a)}(lGe(l,+f[1],+f[2]),f[4]);else if(l=tt.maxOpen(function kzt(s,i){if(s.childCount<2)return s;for(let e=i.depth;e>=0;e--){let r,o=i.node(e).contentMatchAt(i.index(e)),a=[];if(s.forEach(l=>{if(!a)return;let u,c=o.findWrapping(l.type);if(!c)return a=null;if(u=a.length&&r.length&&rGe(c,r,l,a[a.length-1],0))a[a.length-1]=u;else{a.length&&(a[a.length-1]=aGe(a[a.length-1],r.length));let f=oGe(l,c);a.push(f),o=o.matchType(f.type),r=c}}),a)return Te.from(a)}return s}(l.content,o),!0),l.openStart||l.openEnd){let _=0,g=0;for(let S=l.content.firstChild;_<l.openStart&&!S.type.spec.isolating;_++,S=S.firstChild);for(let S=l.content.lastChild;g<l.openEnd&&!S.type.spec.isolating;g++,S=S.lastChild);l=lGe(l,_,g)}return s.someProp("transformPasted",_=>{l=_(l,s)}),l}const yzt=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function oGe(s,i,e=0){for(let n=i.length-1;n>=e;n--)s=i[n].create(null,Te.from(s));return s}function rGe(s,i,e,n,o){if(o<s.length&&o<i.length&&s[o]==i[o]){let r=rGe(s,i,e,n.lastChild,o+1);if(r)return n.copy(n.content.replaceChild(n.childCount-1,r));if(n.contentMatchAt(n.childCount).matchType(o==s.length-1?e.type:s[o+1]))return n.copy(n.content.append(Te.from(oGe(e,s,o+1))))}}function aGe(s,i){if(0==i)return s;let e=s.content.replaceChild(s.childCount-1,aGe(s.lastChild,i-1)),n=s.contentMatchAt(s.childCount).fillBefore(Te.empty,!0);return s.copy(e.append(n))}function ile(s,i,e,n,o,r){let a=i<0?s.firstChild:s.lastChild,l=a.content;return s.childCount>1&&(r=0),o<n-1&&(l=ile(l,i,e,n,o+1,r)),o>=e&&(l=i<0?a.contentMatchAt(0).fillBefore(l,r<=o).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(Te.empty,!0))),s.replaceChild(i<0?0:s.childCount-1,a.copy(l))}function lGe(s,i,e){return i<s.openStart&&(s=new tt(ile(s.content,-1,i,s.openStart,0,s.openEnd),i,s.openEnd)),e<s.openEnd&&(s=new tt(ile(s.content,1,e,s.openEnd,0,0),s.openStart,e)),s}const cGe={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let dGe=null;function uGe(){return dGe||(dGe=document.implementation.createHTMLDocument("title"))}const Cc={},bc={},Tzt={touchstart:!0,touchmove:!0};class Mzt{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function zS(s,i){s.input.lastSelectionOrigin=i,s.input.lastSelectionTime=Date.now()}function sle(s){s.someProp("handleDOMEvents",i=>{for(let e in i)s.input.eventHandlers[e]||s.dom.addEventListener(e,s.input.eventHandlers[e]=n=>ole(s,n))})}function ole(s,i){return s.someProp("handleDOMEvents",e=>{let n=e[i.type];return!!n&&(n(s,i)||i.defaultPrevented)})}function Azt(s,i){if(!i.bubbles)return!0;if(i.defaultPrevented)return!1;for(let e=i.target;e!=s.dom;e=e.parentNode)if(!e||11==e.nodeType||e.pmViewDesc&&e.pmViewDesc.stopEvent(i))return!1;return!0}function hz(s){return{left:s.clientX,top:s.clientY}}function rle(s,i,e,n,o){if(-1==n)return!1;let r=s.state.doc.resolve(n);for(let a=r.depth+1;a>0;a--)if(s.someProp(i,l=>a>r.depth?l(s,e,r.nodeAfter,r.before(a),o,!0):l(s,e,r.node(a),r.before(a),o,!1)))return!0;return!1}function UO(s,i,e){s.focused||s.focus();let n=s.state.tr.setSelection(i);"pointer"==e&&n.setMeta("pointer",!0),s.dispatch(n)}function Fzt(s,i,e,n){return rle(s,"handleDoubleClickOn",i,e,n)||s.someProp("handleDoubleClick",o=>o(s,i,n))}function Uzt(s,i,e,n){return rle(s,"handleTripleClickOn",i,e,n)||s.someProp("handleTripleClick",o=>o(s,i,n))||function Bzt(s,i,e){if(0!=e.button)return!1;let n=s.state.doc;if(-1==i)return!!n.inlineContent&&(UO(s,si.create(n,0,n.content.size),"pointer"),!0);let o=n.resolve(i);for(let r=o.depth+1;r>0;r--){let a=r>o.depth?o.nodeAfter:o.node(r),l=o.before(r);if(a.inlineContent)UO(s,si.create(n,l+1,l+1+a.content.size),"pointer");else{if(!Xt.isSelectable(a))continue;UO(s,Xt.create(n,l),"pointer")}return!0}}(s,e,n)}function ale(s){return pz(s)}bc.keydown=(s,i)=>{let e=i;if(s.input.shiftKey=16==e.keyCode||e.shiftKey,!pGe(s,e)&&(s.input.lastKeyCode=e.keyCode,s.input.lastKeyCodeTime=Date.now(),!xp||!Il||13!=e.keyCode))if(229!=e.keyCode&&s.domObserver.forceFlush(),!GO||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey)s.someProp("handleKeyDown",n=>n(s,e))||function Ezt(s,i){let e=i.keyCode,n=function bzt(s){let i="";return s.ctrlKey&&(i+="c"),s.metaKey&&(i+="m"),s.altKey&&(i+="a"),s.shiftKey&&(i+="s"),i}(i);if(8==e||bh&&72==e&&"c"==n)return tGe(s,-1)||FO(s,-1);if(46==e&&!i.shiftKey||bh&&68==e&&"c"==n)return tGe(s,1)||FO(s,1);if(13==e||27==e)return!0;if(37==e||bh&&66==e&&"c"==n){let o=37==e?"ltr"==ZLe(s,s.state.selection.from)?-1:1:-1;return qLe(s,o,n)||FO(s,o)}if(39==e||bh&&70==e&&"c"==n){let o=39==e?"ltr"==ZLe(s,s.state.selection.from)?1:-1:1;return qLe(s,o,n)||FO(s,o)}return 38==e||bh&&80==e&&"c"==n?eGe(s,-1,n)||FO(s,-1):40==e||bh&&78==e&&"c"==n?function Czt(s){if(!Sc||s.state.selection.$head.parentOffset>0)return!1;let{focusNode:i,focusOffset:e}=s.domSelectionRange();if(i&&1==i.nodeType&&0==e&&i.firstChild&&"false"==i.firstChild.contentEditable){let n=i.firstChild;nGe(s,n,"true"),setTimeout(()=>nGe(s,n,"false"),20)}return!1}(s)||eGe(s,1,n)||FO(s,1):n==(bh?"m":"c")&&(66==e||73==e||89==e||90==e)}(s,e)?e.preventDefault():zS(s,"key");else{let n=Date.now();s.input.lastIOSEnter=n,s.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{s.input.lastIOSEnter==n&&(s.someProp("handleKeyDown",o=>o(s,Zb(13,"Enter"))),s.input.lastIOSEnter=0)},200)}},bc.keyup=(s,i)=>{16==i.keyCode&&(s.input.shiftKey=!1)},bc.keypress=(s,i)=>{let e=i;if(pGe(s,e)||!e.charCode||e.ctrlKey&&!e.altKey||bh&&e.metaKey)return;if(s.someProp("handleKeyPress",o=>o(s,e)))return void e.preventDefault();let n=s.state.selection;if(!(n instanceof si&&n.$from.sameParent(n.$to))){let o=String.fromCharCode(e.charCode);!/[\r\n]/.test(o)&&!s.someProp("handleTextInput",r=>r(s,n.$from.pos,n.$to.pos,o))&&s.dispatch(s.state.tr.insertText(o).scrollIntoView()),e.preventDefault()}};const hGe=bh?"metaKey":"ctrlKey";Cc.mousedown=(s,i)=>{let e=i;s.input.shiftKey=e.shiftKey;let n=ale(s),o=Date.now(),r="singleClick";o-s.input.lastClick.time<500&&function Nzt(s,i){let e=i.x-s.clientX,n=i.y-s.clientY;return e*e+n*n<100}(e,s.input.lastClick)&&!e[hGe]&&("singleClick"==s.input.lastClick.type?r="doubleClick":"doubleClick"==s.input.lastClick.type&&(r="tripleClick")),s.input.lastClick={time:o,x:e.clientX,y:e.clientY,type:r};let a=s.posAtCoords(hz(e));a&&("singleClick"==r?(s.input.mouseDown&&s.input.mouseDown.done(),s.input.mouseDown=new Vzt(s,a,e,!!n)):("doubleClick"==r?Fzt:Uzt)(s,a.pos,a.inside,e)?e.preventDefault():zS(s,"pointer"))};class Vzt{constructor(i,e,n,o){let r,a;if(this.view=i,this.pos=e,this.event=n,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=i.state.doc,this.selectNode=!!n[hGe],this.allowDefault=n.shiftKey,e.inside>-1)r=i.state.doc.nodeAt(e.inside),a=e.inside;else{let f=i.state.doc.resolve(e.pos);r=f.parent,a=f.depth?f.before():0}const l=o?null:n.target,c=l?i.docView.nearestDesc(l,!0):null;this.target=c?c.dom:null;let{selection:u}=i.state;(0==n.button&&r.type.spec.draggable&&!1!==r.type.spec.selectable||u instanceof Xt&&u.from<=a&&u.to>a)&&(this.mightDrag={node:r,pos:a,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!Ip||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),i.root.addEventListener("mouseup",this.up=this.up.bind(this)),i.root.addEventListener("mousemove",this.move=this.move.bind(this)),zS(i,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Zg(this.view)),this.view.input.mouseDown=null}up(i){if(this.done(),!this.view.dom.contains(i.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(hz(i))),this.updateAllowDefault(i),this.allowDefault||!e?zS(this.view,"pointer"):function Pzt(s,i,e,n,o){return rle(s,"handleClickOn",i,e,n)||s.someProp("handleClick",r=>r(s,i,n))||(o?function Gzt(s,i){if(-1==i)return!1;let n,o,e=s.state.selection;e instanceof Xt&&(n=e.node);let r=s.state.doc.resolve(i);for(let a=r.depth+1;a>0;a--){let l=a>r.depth?r.nodeAfter:r.node(a);if(Xt.isSelectable(l)){o=n&&e.$from.depth>0&&a>=e.$from.depth&&r.before(e.$from.depth+1)==e.$from.pos?r.before(e.$from.depth):r.before(a);break}}return null!=o&&(UO(s,Xt.create(s.state.doc,o),"pointer"),!0)}(s,e):function Lzt(s,i){if(-1==i)return!1;let e=s.state.doc.resolve(i),n=e.nodeAfter;return!!(n&&n.isAtom&&Xt.isSelectable(n))&&(UO(s,new Xt(e),"pointer"),!0)}(s,e))}(this.view,e.pos,e.inside,i,this.selectNode)?i.preventDefault():0==i.button&&(this.flushed||Sc&&this.mightDrag&&!this.mightDrag.node.isAtom||Il&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(UO(this.view,Hn.near(this.view.state.doc.resolve(e.pos)),"pointer"),i.preventDefault()):zS(this.view,"pointer")}move(i){this.updateAllowDefault(i),zS(this.view,"pointer"),0==i.buttons&&this.done()}updateAllowDefault(i){!this.allowDefault&&(Math.abs(this.event.x-i.clientX)>4||Math.abs(this.event.y-i.clientY)>4)&&(this.allowDefault=!0)}}function pGe(s,i){return!!s.composing||!!(Sc&&Math.abs(i.timeStamp-s.input.compositionEndedAt)<500)&&(s.input.compositionEndedAt=-2e8,!0)}Cc.touchstart=s=>{s.input.lastTouch=Date.now(),ale(s),zS(s,"pointer")},Cc.touchmove=s=>{s.input.lastTouch=Date.now(),zS(s,"pointer")},Cc.contextmenu=s=>ale(s);const zzt=xp?5e3:-1;function fGe(s,i){clearTimeout(s.input.composingTimeout),i>-1&&(s.input.composingTimeout=setTimeout(()=>pz(s),i))}function mGe(s){for(s.composing&&(s.input.composing=!1,s.input.compositionEndedAt=function jzt(){let s=document.createEvent("Event");return s.initEvent("event",!0,!0),s.timeStamp}());s.input.compositionNodes.length>0;)s.input.compositionNodes.pop().markParentsDirty()}function pz(s,i=!1){if(!(xp&&s.domObserver.flushingSoon>=0)){if(s.domObserver.forceFlush(),mGe(s),i||s.docView&&s.docView.dirty){let e=Qae(s);return e&&!e.eq(s.state.selection)?s.dispatch(s.state.tr.setSelection(e)):s.updateState(s.state),!0}return!1}}bc.compositionstart=bc.compositionupdate=s=>{if(!s.composing){s.domObserver.flush();let{state:i}=s,e=i.selection.$from;if(i.selection.empty&&(i.storedMarks||!e.textOffset&&e.parentOffset&&e.nodeBefore.marks.some(n=>!1===n.type.spec.inclusive)))s.markCursor=s.state.storedMarks||e.marks(),pz(s,!0),s.markCursor=null;else if(pz(s),Ip&&i.selection.empty&&e.parentOffset&&!e.textOffset&&e.nodeBefore.marks.length){let n=s.domSelectionRange();for(let o=n.focusNode,r=n.focusOffset;o&&1==o.nodeType&&0!=r;){let a=r<0?o.lastChild:o.childNodes[r-1];if(!a)break;if(3==a.nodeType){s.domSelection().collapse(a,a.nodeValue.length);break}o=a,r=-1}}s.input.composing=!0}fGe(s,zzt)},bc.compositionend=(s,i)=>{s.composing&&(s.input.composing=!1,s.input.compositionEndedAt=i.timeStamp,s.input.compositionPendingChanges=s.domObserver.pendingRecords().length?s.input.compositionID:0,s.input.compositionPendingChanges&&Promise.resolve().then(()=>s.domObserver.flush()),s.input.compositionID++,fGe(s,20))};const G4=hd&&FS<15||GO&&V9t<604;function P4(s,i,e,n,o){let r=sGe(s,i,e,n,s.state.selection.$from);if(s.someProp("handlePaste",c=>c(s,o,r||tt.empty)))return!0;if(!r)return!1;let a=function $zt(s){return 0==s.openStart&&0==s.openEnd&&1==s.content.childCount?s.content.firstChild:null}(r),l=a?s.state.tr.replaceSelectionWith(a,n):s.state.tr.replaceSelection(r);return s.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function _Ge(s){let i=s.getData("text/plain")||s.getData("Text");if(i)return i;let e=s.getData("text/uri-list");return e?e.replace(/\r?\n/g," "):""}Cc.copy=bc.cut=(s,i)=>{let e=i,n=s.state.selection,o="cut"==e.type;if(n.empty)return;let r=G4?null:e.clipboardData,a=n.content(),{dom:l,text:c}=iGe(s,a);r?(e.preventDefault(),r.clearData(),r.setData("text/html",l.innerHTML),r.setData("text/plain",c)):function Hzt(s,i){if(!s.dom.parentNode)return;let e=s.dom.parentNode.appendChild(document.createElement("div"));e.appendChild(i),e.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),o=document.createRange();o.selectNodeContents(i),s.dom.blur(),n.removeAllRanges(),n.addRange(o),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e),s.focus()},50)}(s,l),o&&s.dispatch(s.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},bc.paste=(s,i)=>{let e=i;if(s.composing&&!xp)return;let n=G4?null:e.clipboardData,o=s.input.shiftKey&&45!=s.input.lastKeyCode;n&&P4(s,_Ge(n),n.getData("text/html"),o,e)?e.preventDefault():function Xzt(s,i){if(!s.dom.parentNode)return;let e=s.input.shiftKey||s.state.selection.$from.parent.type.spec.code,n=s.dom.parentNode.appendChild(document.createElement(e?"textarea":"div"));e||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let o=s.input.shiftKey&&45!=s.input.lastKeyCode;setTimeout(()=>{s.focus(),n.parentNode&&n.parentNode.removeChild(n),e?P4(s,n.value,null,o,i):P4(s,n.textContent,n.innerHTML,o,i)},50)}(s,e)};class gGe{constructor(i,e,n){this.slice=i,this.move=e,this.node=n}}const vGe=bh?"altKey":"ctrlKey";Cc.dragstart=(s,i)=>{let e=i,n=s.input.mouseDown;if(n&&n.done(),!e.dataTransfer)return;let a,o=s.state.selection,r=o.empty?null:s.posAtCoords(hz(e));if(!(r&&r.pos>=o.from&&r.pos<=(o instanceof Xt?o.to-1:o.to)))if(n&&n.mightDrag)a=Xt.create(s.state.doc,n.mightDrag.pos);else if(e.target&&1==e.target.nodeType){let f=s.docView.nearestDesc(e.target,!0);f&&f.node.type.spec.draggable&&f!=s.docView&&(a=Xt.create(s.state.doc,f.posBefore))}let l=(a||s.state.selection).content(),{dom:c,text:u}=iGe(s,l);e.dataTransfer.clearData(),e.dataTransfer.setData(G4?"Text":"text/html",c.innerHTML),e.dataTransfer.effectAllowed="copyMove",G4||e.dataTransfer.setData("text/plain",u),s.dragging=new gGe(l,!e[vGe],a)},Cc.dragend=s=>{let i=s.dragging;window.setTimeout(()=>{s.dragging==i&&(s.dragging=null)},50)},bc.dragover=bc.dragenter=(s,i)=>i.preventDefault(),bc.drop=(s,i)=>{let e=i,n=s.dragging;if(s.dragging=null,!e.dataTransfer)return;let o=s.posAtCoords(hz(e));if(!o)return;let r=s.state.doc.resolve(o.pos),a=n&&n.slice;a?s.someProp("transformPasted",b=>{a=b(a,s)}):a=sGe(s,_Ge(e.dataTransfer),G4?null:e.dataTransfer.getData("text/html"),!1,r);let l=!(!n||e[vGe]);if(s.someProp("handleDrop",b=>b(s,e,a||tt.empty,l)))return void e.preventDefault();if(!a)return;e.preventDefault();let c=a?function oVt(s,i,e){let n=s.resolve(i);if(!e.content.size)return i;let o=e.content;for(let r=0;r<e.openStart;r++)o=o.firstChild.content;for(let r=1;r<=(0==e.openStart&&e.size?2:1);r++)for(let a=n.depth;a>=0;a--){let l=a==n.depth?0:n.pos<=(n.start(a+1)+n.end(a+1))/2?-1:1,c=n.index(a)+(l>0?1:0),u=n.node(a),f=!1;if(1==r)f=u.canReplace(c,c,o);else{let _=u.contentMatchAt(c).findWrapping(o.firstChild.type);f=_&&u.canReplaceWith(c,c,_[0])}if(f)return 0==l?n.pos:l<0?n.before(a+1):n.after(a+1)}return null}(s.state.doc,r.pos,a):r.pos;null==c&&(c=r.pos);let u=s.state.tr;if(l){let{node:b}=n;b?b.replace(u):u.deleteSelection()}let f=u.mapping.map(c),_=0==a.openStart&&0==a.openEnd&&1==a.content.childCount,g=u.doc;if(_?u.replaceRangeWith(f,f,a.content.firstChild):u.replaceRange(f,f,a),u.doc.eq(g))return;let S=u.doc.resolve(f);if(_&&Xt.isSelectable(a.content.firstChild)&&S.nodeAfter&&S.nodeAfter.sameMarkup(a.content.firstChild))u.setSelection(new Xt(S));else{let b=u.mapping.map(c);u.mapping.maps[u.mapping.maps.length-1].forEach((k,D,O,I)=>b=I),u.setSelection(ele(s,S,u.doc.resolve(b)))}s.focus(),s.dispatch(u.setMeta("uiEvent","drop"))},Cc.focus=s=>{s.input.lastFocus=Date.now(),s.focused||(s.domObserver.stop(),s.dom.classList.add("ProseMirror-focused"),s.domObserver.start(),s.focused=!0,setTimeout(()=>{s.docView&&s.hasFocus()&&!s.domObserver.currentSelection.eq(s.domSelectionRange())&&Zg(s)},20))},Cc.blur=(s,i)=>{let e=i;s.focused&&(s.domObserver.stop(),s.dom.classList.remove("ProseMirror-focused"),s.domObserver.start(),e.relatedTarget&&s.dom.contains(e.relatedTarget)&&s.domObserver.currentSelection.clear(),s.focused=!1)},Cc.beforeinput=(s,i)=>{if(Il&&xp&&"deleteContentBackward"==i.inputType){s.domObserver.flushSoon();let{domChangeCount:n}=s.input;setTimeout(()=>{if(s.input.domChangeCount!=n||(s.dom.blur(),s.focus(),s.someProp("handleKeyDown",r=>r(s,Zb(8,"Backspace")))))return;let{$cursor:o}=s.state.selection;o&&o.pos>0&&s.dispatch(s.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let s in bc)Cc[s]=bc[s];function F4(s,i){if(s==i)return!0;for(let e in s)if(s[e]!==i[e])return!1;for(let e in i)if(!(e in s))return!1;return!0}class fz{constructor(i,e){this.toDOM=i,this.spec=e||iE,this.side=this.spec.side||0}map(i,e,n,o){let{pos:r,deleted:a}=i.mapResult(e.from+o,this.side<0?-1:1);return a?null:new Aa(r-n,r-n,this)}valid(){return!0}eq(i){return this==i||i instanceof fz&&(this.spec.key&&this.spec.key==i.spec.key||this.toDOM==i.toDOM&&F4(this.spec,i.spec))}destroy(i){this.spec.destroy&&this.spec.destroy(i)}}class jS{constructor(i,e){this.attrs=i,this.spec=e||iE}map(i,e,n,o){let r=i.map(e.from+o,this.spec.inclusiveStart?-1:1)-n,a=i.map(e.to+o,this.spec.inclusiveEnd?1:-1)-n;return r>=a?null:new Aa(r,a,this)}valid(i,e){return e.from<e.to}eq(i){return this==i||i instanceof jS&&F4(this.attrs,i.attrs)&&F4(this.spec,i.spec)}static is(i){return i.type instanceof jS}destroy(){}}class lle{constructor(i,e){this.attrs=i,this.spec=e||iE}map(i,e,n,o){let r=i.mapResult(e.from+o,1);if(r.deleted)return null;let a=i.mapResult(e.to+o,-1);return a.deleted||a.pos<=r.pos?null:new Aa(r.pos-n,a.pos-n,this)}valid(i,e){let r,{index:n,offset:o}=i.content.findIndex(e.from);return o==e.from&&!(r=i.child(n)).isText&&o+r.nodeSize==e.to}eq(i){return this==i||i instanceof lle&&F4(this.attrs,i.attrs)&&F4(this.spec,i.spec)}destroy(){}}class Aa{constructor(i,e,n){this.from=i,this.to=e,this.type=n}copy(i,e){return new Aa(i,e,this.type)}eq(i,e=0){return this.type.eq(i.type)&&this.from+e==i.from&&this.to+e==i.to}map(i,e,n){return this.type.map(i,this,e,n)}static widget(i,e,n){return new Aa(i,i,new fz(e,n))}static inline(i,e,n,o){return new Aa(i,e,new jS(n,o))}static node(i,e,n,o){return new Aa(i,e,new lle(n,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof jS}get widget(){return this.type instanceof fz}}const BO=[],iE={};class is{constructor(i,e){this.local=i.length?i:BO,this.children=e.length?e:BO}static create(i,e){return e.length?mz(e,i,0,iE):xl}find(i,e,n){let o=[];return this.findInner(i??0,e??1e9,o,0,n),o}findInner(i,e,n,o,r){for(let a=0;a<this.local.length;a++){let l=this.local[a];l.from<=e&&l.to>=i&&(!r||r(l.spec))&&n.push(l.copy(l.from+o,l.to+o))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<e&&this.children[a+1]>i){let l=this.children[a]+1;this.children[a+2].findInner(i-l,e-l,n,o+l,r)}}map(i,e,n){return this==xl||0==i.maps.length?this:this.mapInner(i,e,0,0,n||iE)}mapInner(i,e,n,o,r){let a;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(i,n,o);c&&c.type.valid(e,c)?(a||(a=[])).push(c):r.onRemove&&r.onRemove(this.local[l].spec)}return this.children.length?function Wzt(s,i,e,n,o,r,a){let l=s.slice();for(let u=0,f=r;u<e.maps.length;u++){let _=0;e.maps[u].forEach((g,S,b,k)=>{let D=k-b-(S-g);for(let O=0;O<l.length;O+=3){let I=l[O+1];if(I<0||g>I+f-_)continue;let N=l[O]+f-_;S>=N?l[O+1]=g<=N?-2:-1:g>=f&&D&&(l[O]+=D,l[O+1]+=D)}_+=D}),f=e.maps[u].map(f,-1)}let c=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(-2==l[u+1]){c=!0,l[u+1]=-1;continue}let f=e.map(s[u]+r),_=f-o;if(_<0||_>=n.content.size){c=!0;continue}let S=e.map(s[u+1]+r,-1)-o,{index:b,offset:k}=n.content.findIndex(_),D=n.maybeChild(b);if(D&&k==_&&k+D.nodeSize==S){let O=l[u+2].mapInner(e,D,f+1,s[u]+r+1,a);O!=xl?(l[u]=_,l[u+1]=S,l[u+2]=O):(l[u+1]=-2,c=!0)}else c=!0}if(c){let u=function Yzt(s,i,e,n,o,r,a){function l(c,u){for(let f=0;f<c.local.length;f++){let _=c.local[f].map(n,o,u);_?e.push(_):a.onRemove&&a.onRemove(c.local[f].spec)}for(let f=0;f<c.children.length;f+=3)l(c.children[f+2],c.children[f]+u+1)}for(let c=0;c<s.length;c+=3)-1==s[c+1]&&l(s[c+2],i[c]+r+1);return e}(l,s,i,e,o,r,a),f=mz(u,n,0,a);i=f.local;for(let _=0;_<l.length;_+=3)l[_+1]<0&&(l.splice(_,3),_-=3);for(let _=0,g=0;_<f.children.length;_+=3){let S=f.children[_];for(;g<l.length&&l[g]<S;)g+=3;l.splice(g,0,f.children[_],f.children[_+1],f.children[_+2])}}return new is(i.sort(sE),l)}(this.children,a||[],i,e,n,o,r):a?new is(a.sort(sE),BO):xl}add(i,e){return e.length?this==xl?is.create(i,e):this.addInner(i,e,0):this}addInner(i,e,n){let o,r=0;i.forEach((l,c)=>{let f,u=c+n;if(f=CGe(e,l,u)){for(o||(o=this.children.slice());r<o.length&&o[r]<c;)r+=3;o[r]==c?o[r+2]=o[r+2].addInner(l,f,u+1):o.splice(r,0,c,c+l.nodeSize,mz(f,l,u+1,iE)),r+=3}});let a=SGe(r?bGe(e):e,-n);for(let l=0;l<a.length;l++)a[l].type.valid(i,a[l])||a.splice(l--,1);return new is(a.length?this.local.concat(a).sort(sE):this.local,o||this.children)}remove(i){return 0==i.length||this==xl?this:this.removeInner(i,0)}removeInner(i,e){let n=this.children,o=this.local;for(let r=0;r<n.length;r+=3){let a,l=n[r]+e,c=n[r+1]+e;for(let _,f=0;f<i.length;f++)(_=i[f])&&_.from>l&&_.to<c&&(i[f]=null,(a||(a=[])).push(_));if(!a)continue;n==this.children&&(n=this.children.slice());let u=n[r+2].removeInner(a,l+1);u!=xl?n[r+2]=u:(n.splice(r,3),r-=3)}if(o.length)for(let a,r=0;r<i.length;r++)if(a=i[r])for(let l=0;l<o.length;l++)o[l].eq(a,e)&&(o==this.local&&(o=this.local.slice()),o.splice(l--,1));return n==this.children&&o==this.local?this:o.length||n.length?new is(o,n):xl}forChild(i,e){if(this==xl)return this;if(e.isLeaf)return is.empty;let n,o;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=i){this.children[l]==i&&(n=this.children[l+2]);break}let r=i+1,a=r+e.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<a&&c.to>r&&c.type instanceof jS){let u=Math.max(r,c.from)-r,f=Math.min(a,c.to)-r;u<f&&(o||(o=[])).push(c.copy(u,f))}}if(o){let l=new is(o.sort(sE),BO);return n?new HS([l,n]):l}return n||xl}eq(i){if(this==i)return!0;if(!(i instanceof is)||this.local.length!=i.local.length||this.children.length!=i.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(i.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=i.children[e]||this.children[e+1]!=i.children[e+1]||!this.children[e+2].eq(i.children[e+2]))return!1;return!0}locals(i){return cle(this.localsInner(i))}localsInner(i){if(this==xl)return BO;if(i.inlineContent||!this.local.some(jS.is))return this.local;let e=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof jS||e.push(this.local[n]);return e}}is.empty=new is([],[]),is.removeOverlap=cle;const xl=is.empty;class HS{constructor(i){this.members=i}map(i,e){const n=this.members.map(o=>o.map(i,e,iE));return HS.from(n)}forChild(i,e){if(e.isLeaf)return is.empty;let n=[];for(let o=0;o<this.members.length;o++){let r=this.members[o].forChild(i,e);r!=xl&&(r instanceof HS?n=n.concat(r.members):n.push(r))}return HS.from(n)}eq(i){if(!(i instanceof HS)||i.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(i.members[e]))return!1;return!0}locals(i){let e,n=!0;for(let o=0;o<this.members.length;o++){let r=this.members[o].localsInner(i);if(r.length)if(e){n&&(e=e.slice(),n=!1);for(let a=0;a<r.length;a++)e.push(r[a])}else e=r}return e?cle(n?e:e.sort(sE)):BO}static from(i){switch(i.length){case 0:return xl;case 1:return i[0];default:return new HS(i.every(e=>e instanceof is)?i:i.reduce((e,n)=>e.concat(n instanceof is?n:n.members),[]))}}}function SGe(s,i){if(!i||!s.length)return s;let e=[];for(let n=0;n<s.length;n++){let o=s[n];e.push(new Aa(o.from+i,o.to+i,o.type))}return e}function CGe(s,i,e){if(i.isLeaf)return null;let n=e+i.nodeSize,o=null;for(let a,r=0;r<s.length;r++)(a=s[r])&&a.from>e&&a.to<n&&((o||(o=[])).push(a),s[r]=null);return o}function bGe(s){let i=[];for(let e=0;e<s.length;e++)null!=s[e]&&i.push(s[e]);return i}function mz(s,i,e,n){let o=[],r=!1;i.forEach((l,c)=>{let u=CGe(s,l,c+e);if(u){r=!0;let f=mz(u,l,e+c+1,n);f!=xl&&o.push(c,c+l.nodeSize,f)}});let a=SGe(r?bGe(s):s,-e).sort(sE);for(let l=0;l<a.length;l++)a[l].type.valid(i,a[l])||(n.onRemove&&n.onRemove(a[l].spec),a.splice(l--,1));return a.length||o.length?new is(a,o):xl}function sE(s,i){return s.from-i.from||s.to-i.to}function cle(s){let i=s;for(let e=0;e<i.length-1;e++){let n=i[e];if(n.from!=n.to)for(let o=e+1;o<i.length;o++){let r=i[o];if(r.from!=n.from){r.from<n.to&&(i==s&&(i=s.slice()),i[e]=n.copy(n.from,r.from),EGe(i,o,n.copy(r.from,n.to)));break}r.to!=n.to&&(i==s&&(i=s.slice()),i[o]=r.copy(r.from,n.to),EGe(i,o+1,r.copy(n.to,r.to)))}}return i}function EGe(s,i,e){for(;i<s.length&&sE(e,s[i])>0;)i++;s.splice(i,0,e)}function dle(s){let i=[];return s.someProp("decorations",e=>{let n=e(s.state);n&&n!=xl&&i.push(n)}),s.cursorWrapper&&i.push(is.create(s.state.doc,[s.cursorWrapper.deco])),HS.from(i)}const Kzt={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Jzt=hd&&FS<=11;class qzt{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(i){this.anchorNode=i.anchorNode,this.anchorOffset=i.anchorOffset,this.focusNode=i.focusNode,this.focusOffset=i.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(i){return i.anchorNode==this.anchorNode&&i.anchorOffset==this.anchorOffset&&i.focusNode==this.focusNode&&i.focusOffset==this.focusOffset}}class Qzt{constructor(i,e){this.view=i,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new qzt,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let o=0;o<n.length;o++)this.queue.push(n[o]);hd&&FS<=11&&n.some(o=>"childList"==o.type&&o.removedNodes.length||"characterData"==o.type&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),Jzt&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Kzt)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let i=this.observer.takeRecords();if(i.length){for(let e=0;e<i.length;e++)this.queue.push(i[e]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(KLe(this.view)){if(this.suppressingSelectionUpdates)return Zg(this.view);if(hd&&FS<=11&&!this.view.state.selection.empty){let i=this.view.domSelectionRange();if(i.focusNode&&Qb(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(i){if(!i.focusNode)return!0;let n,e=new Set;for(let r=i.focusNode;r;r=I4(r))e.add(r);for(let r=i.anchorNode;r;r=I4(r))if(e.has(r)){n=r;break}let o=n&&this.view.docView.nearestDesc(n);return o&&o.ignoreMutation({type:"selection",target:3==n.nodeType?n.parentNode:n})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let i of this.observer.takeRecords())this.queue.push(i);return this.queue}flush(){let{view:i}=this;if(!i.docView||this.flushingSoon>-1)return;let e=this.pendingRecords();e.length&&(this.queue=[]);let n=i.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&KLe(i)&&!this.ignoreSelectionChange(n),r=-1,a=-1,l=!1,c=[];if(i.editable)for(let f=0;f<e.length;f++){let _=this.registerMutation(e[f],c);_&&(r=r<0?_.from:Math.min(_.from,r),a=a<0?_.to:Math.max(_.to,a),_.typeOver&&(l=!0))}if(Ip&&c.length>1){let f=c.filter(_=>"BR"==_.nodeName);if(2==f.length){let _=f[0],g=f[1];_.parentNode&&_.parentNode.parentNode==g.parentNode?g.remove():_.remove()}}let u=null;r<0&&o&&i.input.lastFocus>Date.now()-200&&Math.max(i.input.lastTouch,i.input.lastClick.time)<Date.now()-300&&cz(n)&&(u=Qae(i))&&u.eq(Hn.near(i.state.doc.resolve(0),1))?(i.input.lastFocus=0,Zg(i),this.currentSelection.set(n),i.scrollToSelection()):(r>-1||o)&&(r>-1&&(i.docView.markDirty(r,a),function Zzt(s){if(!yGe.has(s)&&(yGe.set(s,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(s.dom).whiteSpace))){if(s.requiresGeckoHackNode=Ip,kGe)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),kGe=!0}}(i)),this.handleDOMChange(r,a,l,c),i.docView&&i.docView.dirty?i.updateState(i.state):this.currentSelection.eq(n)||Zg(i),this.currentSelection.set(n))}registerMutation(i,e){if(e.indexOf(i.target)>-1)return null;let n=this.view.docView.nearestDesc(i.target);if("attributes"==i.type&&(n==this.view.docView||"contenteditable"==i.attributeName||"style"==i.attributeName&&!i.oldValue&&!i.target.getAttribute("style"))||!n||n.ignoreMutation(i))return null;if("childList"==i.type){for(let f=0;f<i.addedNodes.length;f++)e.push(i.addedNodes[f]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(i.target))return{from:n.posBefore,to:n.posAfter};let o=i.previousSibling,r=i.nextSibling;if(hd&&FS<=11&&i.addedNodes.length)for(let f=0;f<i.addedNodes.length;f++){let{previousSibling:_,nextSibling:g}=i.addedNodes[f];(!_||Array.prototype.indexOf.call(i.addedNodes,_)<0)&&(o=_),(!g||Array.prototype.indexOf.call(i.addedNodes,g)<0)&&(r=g)}let a=o&&o.parentNode==i.target?vc(o)+1:0,l=n.localPosFromDOM(i.target,a,-1),c=r&&r.parentNode==i.target?vc(r):i.target.childNodes.length;return{from:l,to:n.localPosFromDOM(i.target,c,1)}}return"attributes"==i.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:i.target.nodeValue==i.oldValue}}}let yGe=new WeakMap,kGe=!1;function njt(s){let i=s.pmViewDesc;if(i)return i.parseRule();if("BR"==s.nodeName&&s.parentNode){if(Sc&&/^(ul|ol)$/i.test(s.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(s.parentNode.lastChild==s||Sc&&/^(tr|table)$/i.test(s.parentNode.nodeName))return{ignore:!0}}else if("IMG"==s.nodeName&&s.getAttribute("mark-placeholder"))return{ignore:!0};return null}const ijt=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function wGe(s,i,e){return Math.max(e.anchor,e.head)>i.content.size?null:ele(s,i.resolve(e.anchor),i.resolve(e.head))}function ule(s,i,e){let n=s.depth,o=i?s.end():s.pos;for(;n>0&&(i||s.indexAfter(n)==s.node(n).childCount);)n--,o++,i=!1;if(e){let r=s.node(n).maybeChild(s.indexAfter(n));for(;r&&!r.isLeaf;)r=r.firstChild,o++}return o}function DGe(s){if(2!=s.length)return!1;let i=s.charCodeAt(0),e=s.charCodeAt(1);return i>=56320&&i<=57343&&e>=55296&&e<=56319}class ljt{constructor(i,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Mzt,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(xGe),this.dispatch=this.dispatch.bind(this),this.dom=i&&i.mount||document.createElement("div"),i&&(i.appendChild?i.appendChild(this.dom):"function"==typeof i?i(this.dom):i.mount&&(this.mounted=!0)),this.editable=MGe(this),TGe(this),this.nodeViews=IGe(this),this.docView=PLe(this.state.doc,OGe(this),dle(this),this.dom,this),this.domObserver=new Qzt(this,(n,o,r,a)=>function sjt(s,i,e,n,o){let r=s.input.compositionPendingChanges||(s.composing?s.input.compositionID:0);if(s.input.compositionPendingChanges=0,i<0){let ie=s.input.lastSelectionTime>Date.now()-50?s.input.lastSelectionOrigin:null,ce=Qae(s,ie);if(ce&&!s.state.selection.eq(ce)){if(Il&&xp&&13===s.input.lastKeyCode&&Date.now()-100<s.input.lastKeyCodeTime&&s.someProp("handleKeyDown",Ne=>Ne(s,Zb(13,"Enter"))))return;let re=s.state.tr.setSelection(ce);"pointer"==ie?re.setMeta("pointer",!0):"key"==ie&&re.scrollIntoView(),r&&re.setMeta("composition",r),s.dispatch(re)}return}let a=s.state.doc.resolve(i),l=a.sharedDepth(e);i=a.before(l+1),e=s.state.doc.resolve(e).after(l+1);let g,S,c=s.state.selection,u=function tjt(s,i,e){let u,{node:n,fromOffset:o,toOffset:r,from:a,to:l}=s.docView.parseRange(i,e),c=s.domSelectionRange(),f=c.anchorNode;if(f&&s.dom.contains(1==f.nodeType?f:f.parentNode)&&(u=[{node:f,offset:c.anchorOffset}],cz(c)||u.push({node:c.focusNode,offset:c.focusOffset})),Il&&8===s.input.lastKeyCode)for(let D=r;D>o;D--){let O=n.childNodes[D-1],I=O.pmViewDesc;if("BR"==O.nodeName&&!I){r=D;break}if(!I||I.size)break}let _=s.state.doc,g=s.someProp("domParser")||SO.fromSchema(s.state.schema),S=_.resolve(a),b=null,k=g.parse(n,{topNode:S.parent,topMatch:S.parent.contentMatchAt(S.index()),topOpen:!0,from:o,to:r,preserveWhitespace:"pre"!=S.parent.type.whitespace||"full",findPositions:u,ruleFromNode:njt,context:S});if(u&&null!=u[0].pos){let D=u[0].pos,O=u[1]&&u[1].pos;null==O&&(O=D),b={anchor:D+a,head:O+a}}return{doc:k,sel:b,from:a,to:l}}(s,i,e),f=s.state.doc,_=f.slice(u.from,u.to);8===s.input.lastKeyCode&&Date.now()-100<s.input.lastKeyCodeTime?(g=s.state.selection.to,S="end"):(g=s.state.selection.from,S="start"),s.input.lastKeyCode=null;let b=function ajt(s,i,e,n,o){let r=s.findDiffStart(i,e);if(null==r)return null;let{a,b:l}=s.findDiffEnd(i,e+s.size,e+i.size);if("end"==o&&(n-=a+Math.max(0,r-Math.min(a,l))-r),a<r&&s.size<i.size){let c=n<=r&&n>=a?r-n:0;r-=c,r&&r<i.size&&DGe(i.textBetween(r-1,r+1))&&(r+=c?1:-1),l=r+(l-a),a=r}else if(l<r){let c=n<=r&&n>=l?r-n:0;r-=c,r&&r<s.size&&DGe(s.textBetween(r-1,r+1))&&(r+=c?1:-1),a=r+(a-l),l=r}return{start:r,endA:a,endB:l}}(_.content,u.doc.content,u.from,g,S);if((GO&&s.input.lastIOSEnter>Date.now()-225||xp)&&o.some(ie=>1==ie.nodeType&&!ijt.test(ie.nodeName))&&(!b||b.endA>=b.endB)&&s.someProp("handleKeyDown",ie=>ie(s,Zb(13,"Enter"))))return void(s.input.lastIOSEnter=0);if(!b){if(!(n&&c instanceof si&&!c.empty&&c.$head.sameParent(c.$anchor))||s.composing||u.sel&&u.sel.anchor!=u.sel.head){if(u.sel){let ie=wGe(s,s.state.doc,u.sel);if(ie&&!ie.eq(s.state.selection)){let ce=s.state.tr.setSelection(ie);r&&ce.setMeta("composition",r),s.dispatch(ce)}}return}b={start:c.from,endA:c.to,endB:c.to}}if(Il&&s.cursorWrapper&&u.sel&&u.sel.anchor==s.cursorWrapper.deco.from&&u.sel.head==u.sel.anchor){let ie=b.endB-b.start;u.sel={anchor:u.sel.anchor+ie,head:u.sel.anchor+ie}}s.input.domChangeCount++,s.state.selection.from<s.state.selection.to&&b.start==b.endB&&s.state.selection instanceof si&&(b.start>s.state.selection.from&&b.start<=s.state.selection.from+2&&s.state.selection.from>=u.from?b.start=s.state.selection.from:b.endA<s.state.selection.to&&b.endA>=s.state.selection.to-2&&s.state.selection.to<=u.to&&(b.endB+=s.state.selection.to-b.endA,b.endA=s.state.selection.to)),hd&&FS<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>u.from&&" \xa0"==u.doc.textBetween(b.start-u.from-1,b.start-u.from+1)&&(b.start--,b.endA--,b.endB--);let N,k=u.doc.resolveNoCache(b.start-u.from),D=u.doc.resolveNoCache(b.endB-u.from),O=f.resolve(b.start),I=k.sameParent(D)&&k.parent.inlineContent&&O.end()>=b.endA;if((GO&&s.input.lastIOSEnter>Date.now()-225&&(!I||o.some(ie=>"DIV"==ie.nodeName||"P"==ie.nodeName))||!I&&k.pos<u.doc.content.size&&!k.sameParent(D)&&(N=Hn.findFrom(u.doc.resolve(k.pos+1),1,!0))&&N.head==D.pos)&&s.someProp("handleKeyDown",ie=>ie(s,Zb(13,"Enter"))))return void(s.input.lastIOSEnter=0);if(s.state.selection.anchor>b.start&&function rjt(s,i,e,n,o){if(!n.parent.isTextblock||e-i<=o.pos-n.pos||ule(n,!0,!1)<o.pos)return!1;let r=s.resolve(i);if(r.parentOffset<r.parent.content.size||!r.parent.isTextblock)return!1;let a=s.resolve(ule(r,!0,!0));return!(!a.parent.isTextblock||a.pos>e||ule(a,!0,!1)<e)&&n.parent.content.cut(n.parentOffset).eq(a.parent.content)}(f,b.start,b.endA,k,D)&&s.someProp("handleKeyDown",ie=>ie(s,Zb(8,"Backspace"))))return void(xp&&Il&&s.domObserver.suppressSelectionUpdates());Il&&xp&&b.endB==b.start&&(s.input.lastAndroidDelete=Date.now()),xp&&!I&&k.start()!=D.start()&&0==D.parentOffset&&k.depth==D.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==b.endA&&(b.endB-=2,D=u.doc.resolveNoCache(b.endB-u.from),setTimeout(()=>{s.someProp("handleKeyDown",function(ie){return ie(s,Zb(13,"Enter"))})},20));let H,$,Q,P=b.start,G=b.endA;if(I)if(k.pos==D.pos)hd&&FS<=11&&0==k.parentOffset&&(s.domObserver.suppressSelectionUpdates(),setTimeout(()=>Zg(s),20)),H=s.state.tr.delete(P,G),$=f.resolve(b.start).marksAcross(f.resolve(b.endA));else if(b.endA==b.endB&&(Q=function ojt(s,i){let a,l,c,e=s.firstChild.marks,n=i.firstChild.marks,o=e,r=n;for(let f=0;f<n.length;f++)o=n[f].removeFromSet(o);for(let f=0;f<e.length;f++)r=e[f].removeFromSet(r);if(1==o.length&&0==r.length)l=o[0],a="add",c=f=>f.mark(l.addToSet(f.marks));else{if(0!=o.length||1!=r.length)return null;l=r[0],a="remove",c=f=>f.mark(l.removeFromSet(f.marks))}let u=[];for(let f=0;f<i.childCount;f++)u.push(c(i.child(f)));if(Te.from(u).eq(s))return{mark:l,type:a}}(k.parent.content.cut(k.parentOffset,D.parentOffset),O.parent.content.cut(O.parentOffset,b.endA-O.start()))))H=s.state.tr,"add"==Q.type?H.addMark(P,G,Q.mark):H.removeMark(P,G,Q.mark);else if(k.parent.child(k.index()).isText&&k.index()==D.index()-(D.textOffset?0:1)){let ie=k.parent.textBetween(k.parentOffset,D.parentOffset);if(s.someProp("handleTextInput",ce=>ce(s,P,G,ie)))return;H=s.state.tr.insertText(ie,P,G)}if(H||(H=s.state.tr.replace(P,G,u.doc.slice(b.start-u.from,b.endB-u.from))),u.sel){let ie=wGe(s,H.doc,u.sel);ie&&!(Il&&xp&&s.composing&&ie.empty&&(b.start!=b.endB||s.input.lastAndroidDelete<Date.now()-100)&&(ie.head==P||ie.head==H.mapping.map(G)-1)||hd&&ie.empty&&ie.head==P)&&H.setSelection(ie)}$&&H.ensureMarks($),r&&H.setMeta("composition",r),s.dispatch(H.scrollIntoView())}(this,n,o,r,a)),this.domObserver.start(),function Izt(s){for(let i in Cc){let e=Cc[i];s.dom.addEventListener(i,s.input.eventHandlers[i]=n=>{Azt(s,n)&&!ole(s,n)&&(s.editable||!(n.type in bc))&&e(s,n)},Tzt[i]?{passive:!0}:void 0)}Sc&&s.dom.addEventListener("input",()=>null),sle(s)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let i=this._props;this._props={};for(let e in i)this._props[e]=i[e];this._props.state=this.state}return this._props}update(i){i.handleDOMEvents!=this._props.handleDOMEvents&&sle(this);let e=this._props;this._props=i,i.plugins&&(i.plugins.forEach(xGe),this.directPlugins=i.plugins),this.updateStateInner(i.state,e)}setProps(i){let e={};for(let n in this._props)e[n]=this._props[n];e.state=this.state;for(let n in i)e[n]=i[n];this.update(e)}updateState(i){this.updateStateInner(i,this._props)}updateStateInner(i,e){var n;let o=this.state,r=!1,a=!1;i.storedMarks&&this.composing&&(mGe(this),a=!0),this.state=i;let l=o.plugins!=i.plugins||this._props.plugins!=e.plugins;if(l||this._props.plugins!=e.plugins||this._props.nodeViews!=e.nodeViews){let S=IGe(this);(function djt(s,i){let e=0,n=0;for(let o in s){if(s[o]!=i[o])return!0;e++}for(let o in i)n++;return e!=n})(S,this.nodeViews)&&(this.nodeViews=S,r=!0)}(l||e.handleDOMEvents!=this._props.handleDOMEvents)&&sle(this),this.editable=MGe(this),TGe(this);let c=dle(this),u=OGe(this),f=o.plugins==i.plugins||o.doc.eq(i.doc)?i.scrollToSelection>o.scrollToSelection?"to selection":"preserve":"reset",_=r||!this.docView.matchesNode(i.doc,u,c);(_||!i.selection.eq(o.selection))&&(a=!0);let g="preserve"==f&&a&&null==this.dom.style.overflowAnchor&&function H9t(s){let n,o,i=s.dom.getBoundingClientRect(),e=Math.max(0,i.top);for(let r=(i.left+i.right)/2,a=e+1;a<Math.min(innerHeight,i.bottom);a+=5){let l=s.root.elementFromPoint(r,a);if(!l||l==s.dom||!s.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=e-20){n=l,o=c.top;break}}return{refDOM:n,refTop:o,stack:wLe(s.dom)}}(this);if(a){this.domObserver.stop();let S=_&&(hd||Il)&&!this.composing&&!o.selection.empty&&!i.selection.empty&&function cjt(s,i){let e=Math.min(s.$anchor.sharedDepth(s.head),i.$anchor.sharedDepth(i.head));return s.$anchor.start(e)!=i.$anchor.start(e)}(o.selection,i.selection);if(_){let b=Il?this.trackWrites=this.domSelectionRange().focusNode:null;(r||!this.docView.update(i.doc,u,c,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=PLe(i.doc,u,c,this.dom,this)),b&&!this.trackWrites&&(S=!0)}S||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function mzt(s){let i=s.docView.domFromPos(s.state.selection.anchor,0),e=s.domSelectionRange();return Qb(i.node,i.offset,e.anchorNode,e.anchorOffset)}(this))?Zg(this,S):(WLe(this,i.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!(null===(n=this.dragging)||void 0===n)&&n.node&&!o.doc.eq(i.doc)&&this.updateDraggedNode(this.dragging,o),"reset"==f?this.dom.scrollTop=0:"to selection"==f?this.scrollToSelection():g&&function $9t({refDOM:s,refTop:i,stack:e}){let n=s?s.getBoundingClientRect().top:0;DLe(e,0==n?0:n-i)}(g)}scrollToSelection(){let i=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",e=>e(this)))if(this.state.selection instanceof Xt){let e=this.docView.domAfterPos(this.state.selection.from);1==e.nodeType&&kLe(this,e.getBoundingClientRect(),i)}else kLe(this,this.coordsAtPos(this.state.selection.head,1),i)}destroyPluginViews(){let i;for(;i=this.pluginViews.pop();)i.destroy&&i.destroy()}updatePluginViews(i){if(i&&i.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let e=0;e<this.pluginViews.length;e++){let n=this.pluginViews[e];n.update&&n.update(this,i)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let n=this.directPlugins[e];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let n=this.state.plugins[e];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}}updateDraggedNode(i,e){let n=i.node,o=-1;if(this.state.doc.nodeAt(n.from)==n.node)o=n.from;else{let r=n.from+(this.state.doc.content.size-e.doc.content.size);(r>0&&this.state.doc.nodeAt(r))==n.node&&(o=r)}this.dragging=new gGe(i.slice,i.move,o<0?void 0:Xt.create(this.state.doc,o))}someProp(i,e){let o,n=this._props&&this._props[i];if(null!=n&&(o=e?e(n):n))return o;for(let a=0;a<this.directPlugins.length;a++){let l=this.directPlugins[a].props[i];if(null!=l&&(o=e?e(l):l))return o}let r=this.state.plugins;if(r)for(let a=0;a<r.length;a++){let l=r[a].props[i];if(null!=l&&(o=e?e(l):l))return o}}hasFocus(){if(hd){let i=this.root.activeElement;if(i==this.dom)return!0;if(!i||!this.dom.contains(i))return!1;for(;i&&this.dom!=i&&this.dom.contains(i);){if("false"==i.contentEditable)return!1;i=i.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function X9t(s){if(s.setActive)return s.setActive();if(PO)return s.focus(PO);let i=wLe(s);s.focus(null==PO?{get preventScroll(){return PO={preventScroll:!0},!0}}:void 0),PO||(PO=!1,DLe(i,0))}(this.dom),Zg(this),this.domObserver.start()}get root(){let i=this._root;if(null==i)for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e;return i||document}updateRoot(){this._root=null}posAtCoords(i){return q9t(this,i)}coordsAtPos(i,e=1){return ILe(this,i,e)}domAtPos(i,e=0){return this.docView.domFromPos(i,e)}nodeDOM(i){let e=this.docView.descAt(i);return e?e.nodeDOM:null}posAtDOM(i,e,n=-1){let o=this.docView.posFromDOM(i,e,n);if(null==o)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(i,e){return function nzt(s,i,e){return ALe==i&&RLe==e?NLe:(ALe=i,RLe=e,NLe="up"==e||"down"==e?function Z9t(s,i,e){let n=i.selection,o="up"==e?n.$from:n.$to;return xLe(s,i,()=>{let{node:r}=s.docView.domFromPos(o.pos,"up"==e?-1:1);for(;;){let l=s.docView.nearestDesc(r,!0);if(!l)break;if(l.node.isBlock){r=l.contentDOM||l.dom;break}r=l.dom.parentNode}let a=ILe(s,o.pos,1);for(let l=r.firstChild;l;l=l.nextSibling){let c;if(1==l.nodeType)c=l.getClientRects();else{if(3!=l.nodeType)continue;c=qg(l,0,l.nodeValue.length).getClientRects()}for(let u=0;u<c.length;u++){let f=c[u];if(f.bottom>f.top+1&&("up"==e?a.top-f.top>2*(f.bottom-a.top):f.bottom-a.bottom>2*(a.bottom-f.top)))return!1}}return!0})}(s,i,e):function tzt(s,i,e){let{$head:n}=i.selection;if(!n.parent.isTextblock)return!1;let o=n.parentOffset,r=!o,a=o==n.parent.content.size,l=s.domSelection();return ezt.test(n.parent.textContent)&&l.modify?xLe(s,i,()=>{let{focusNode:c,focusOffset:u,anchorNode:f,anchorOffset:_}=s.domSelectionRange(),g=l.caretBidiLevel;l.modify("move",e,"character");let S=n.depth?s.docView.domAfterPos(n.before()):s.dom,{focusNode:b,focusOffset:k}=s.domSelectionRange(),D=b&&!S.contains(1==b.nodeType?b:b.parentNode)||c==b&&u==k;try{l.collapse(f,_),c&&(c!=f||u!=_)&&l.extend&&l.extend(c,u)}catch{}return null!=g&&(l.caretBidiLevel=g),D}):"left"==e||"backward"==e?r:a}(s,i,e))}(this,e||this.state,i)}pasteHTML(i,e){return P4(this,"",i,!1,e||new ClipboardEvent("paste"))}pasteText(i,e){return P4(this,i,null,!0,e||new ClipboardEvent("paste"))}destroy(){this.docView&&(function xzt(s){s.domObserver.stop();for(let i in s.input.eventHandlers)s.dom.removeEventListener(i,s.input.eventHandlers[i]);clearTimeout(s.input.composingTimeout),clearTimeout(s.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],dle(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(i){return function Rzt(s,i){!ole(s,i)&&Cc[i.type]&&(s.editable||!(i.type in bc))&&Cc[i.type](s,i)}(this,i)}dispatch(i){let e=this._props.dispatchTransaction;e?e.call(this,i):this.updateState(this.state.apply(i))}domSelectionRange(){return Sc&&11===this.root.nodeType&&function P9t(s){let i=s.activeElement;for(;i&&i.shadowRoot;)i=i.shadowRoot.activeElement;return i}(this.dom.ownerDocument)==this.dom?function ejt(s){let i;function e(c){c.preventDefault(),c.stopImmediatePropagation(),i=c.getTargetRanges()[0]}s.dom.addEventListener("beforeinput",e,!0),document.execCommand("indent"),s.dom.removeEventListener("beforeinput",e,!0);let n=i.startContainer,o=i.startOffset,r=i.endContainer,a=i.endOffset,l=s.domAtPos(s.state.selection.anchor);return Qb(l.node,l.offset,r,a)&&([n,o,r,a]=[r,a,n,o]),{anchorNode:n,anchorOffset:o,focusNode:r,focusOffset:a}}(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function OGe(s){let i=Object.create(null);return i.class="ProseMirror",i.contenteditable=String(s.editable),s.someProp("attributes",e=>{if("function"==typeof e&&(e=e(s.state)),e)for(let n in e)"class"==n?i.class+=" "+e[n]:"style"==n?i.style=(i.style?i.style+";":"")+e[n]:!i[n]&&"contenteditable"!=n&&"nodeName"!=n&&(i[n]=String(e[n]))}),i.translate||(i.translate="no"),[Aa.node(0,s.state.doc.content.size,i)]}function TGe(s){if(s.markCursor){let i=document.createElement("img");i.className="ProseMirror-separator",i.setAttribute("mark-placeholder","true"),i.setAttribute("alt",""),s.cursorWrapper={dom:i,deco:Aa.widget(s.state.selection.head,i,{raw:!0,marks:s.markCursor})}}else s.cursorWrapper=null}function MGe(s){return!s.someProp("editable",i=>!1===i(s.state))}function IGe(s){let i=Object.create(null);function e(n){for(let o in n)Object.prototype.hasOwnProperty.call(i,o)||(i[o]=n[o])}return s.someProp("nodeViews",e),s.someProp("markViews",e),i}function xGe(s){if(s.spec.state||s.spec.filterTransaction||s.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}for(var $S={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},_z={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},ujt=typeof navigator<"u"&&/Mac/.test(navigator.platform),hjt=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),sl=0;sl<10;sl++)$S[48+sl]=$S[96+sl]=String(sl);for(sl=1;sl<=24;sl++)$S[sl+111]="F"+sl;for(sl=65;sl<=90;sl++)$S[sl]=String.fromCharCode(sl+32),_z[sl]=String.fromCharCode(sl);for(var hle in $S)_z.hasOwnProperty(hle)||(_z[hle]=$S[hle]);const fjt=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function mjt(s){let n,o,r,a,i=s.split(/-(?!$)/),e=i[i.length-1];"Space"==e&&(e=" ");for(let l=0;l<i.length-1;l++){let c=i[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))r=!0;else{if(!/^mod$/i.test(c))throw new Error("Unrecognized modifier name: "+c);fjt?a=!0:o=!0}}return n&&(e="Alt-"+e),o&&(e="Ctrl-"+e),a&&(e="Meta-"+e),r&&(e="Shift-"+e),e}function ple(s,i,e=!0){return i.altKey&&(s="Alt-"+s),i.ctrlKey&&(s="Ctrl-"+s),i.metaKey&&(s="Meta-"+s),e&&i.shiftKey&&(s="Shift-"+s),s}function fle(s){return new lu({props:{handleKeyDown:mle(s)}})}function mle(s){let i=function _jt(s){let i=Object.create(null);for(let e in s)i[mjt(e)]=s[e];return i}(s);return function(e,n){let r,o=function pjt(s){var e=!(ujt&&s.metaKey&&s.shiftKey&&!s.ctrlKey&&!s.altKey||hjt&&s.shiftKey&&s.key&&1==s.key.length||"Unidentified"==s.key)&&s.key||(s.shiftKey?_z:$S)[s.keyCode]||s.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(n),a=i[ple(o,n)];if(a&&a(e.state,e.dispatch,e))return!0;if(1==o.length&&" "!=o){if(n.shiftKey){let l=i[ple(o,n,!1)];if(l&&l(e.state,e.dispatch,e))return!0}if((n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(r=$S[n.keyCode])&&r!=o){let l=i[ple(r,n)];if(l&&l(e.state,e.dispatch,e))return!0}}return!1}}var _le,gle;if(typeof WeakMap<"u"){let s=new WeakMap;_le=i=>s.get(i),gle=(i,e)=>(s.set(i,e),e)}else{const s=[];let e=0;_le=n=>{for(let o=0;o<s.length;o+=2)if(s[o]==n)return s[o+1]},gle=(n,o)=>(10==e&&(e=0),s[e++]=n,s[e++]=o)}var Gs=class{constructor(s,i,e,n){this.width=s,this.height=i,this.map=e,this.problems=n}findCell(s){for(let i=0;i<this.map.length;i++){const e=this.map[i];if(e!=s)continue;const n=i%this.width,o=i/this.width|0;let r=n+1,a=o+1;for(let l=1;r<this.width&&this.map[i+l]==e;l++)r++;for(let l=1;a<this.height&&this.map[i+this.width*l]==e;l++)a++;return{left:n,top:o,right:r,bottom:a}}throw new RangeError(`No cell with offset ${s} found`)}colCount(s){for(let i=0;i<this.map.length;i++)if(this.map[i]==s)return i%this.width;throw new RangeError(`No cell with offset ${s} found`)}nextCell(s,i,e){const{left:n,right:o,top:r,bottom:a}=this.findCell(s);return"horiz"==i?(e<0?0==n:o==this.width)?null:this.map[r*this.width+(e<0?n-1:o)]:(e<0?0==r:a==this.height)?null:this.map[n+this.width*(e<0?r-1:a)]}rectBetween(s,i){const{left:e,right:n,top:o,bottom:r}=this.findCell(s),{left:a,right:l,top:c,bottom:u}=this.findCell(i);return{left:Math.min(e,a),top:Math.min(o,c),right:Math.max(n,l),bottom:Math.max(r,u)}}cellsInRect(s){const i=[],e={};for(let n=s.top;n<s.bottom;n++)for(let o=s.left;o<s.right;o++){const r=n*this.width+o,a=this.map[r];e[a]||(e[a]=!0,!(o==s.left&&o&&this.map[r-1]==a||n==s.top&&n&&this.map[r-this.width]==a)&&i.push(a))}return i}positionAt(s,i,e){for(let n=0,o=0;;n++){const r=o+e.child(n).nodeSize;if(n==s){let a=i+s*this.width;const l=(s+1)*this.width;for(;a<l&&this.map[a]<o;)a++;return a==l?r-1:this.map[a]}o=r}}static get(s){return _le(s)||gle(s,function gjt(s){if("table"!=s.type.spec.tableRole)throw new RangeError("Not a table node: "+s.type.name);const i=function vjt(s){let i=-1,e=!1;for(let n=0;n<s.childCount;n++){const o=s.child(n);let r=0;if(e)for(let a=0;a<n;a++){const l=s.child(a);for(let c=0;c<l.childCount;c++){const u=l.child(c);a+u.attrs.rowspan>n&&(r+=u.attrs.colspan)}}for(let a=0;a<o.childCount;a++){const l=o.child(a);r+=l.attrs.colspan,l.attrs.rowspan>1&&(e=!0)}-1==i?i=r:i!=r&&(i=Math.max(i,r))}return i}(s),e=s.childCount,n=[];let o=0,r=null;const a=[];for(let u=0,f=i*e;u<f;u++)n[u]=0;for(let u=0,f=0;u<e;u++){const _=s.child(u);f++;for(let b=0;;b++){for(;o<n.length&&0!=n[o];)o++;if(b==_.childCount)break;const k=_.child(b),{colspan:D,rowspan:O,colwidth:I}=k.attrs;for(let N=0;N<O;N++){if(N+u>=e){(r||(r=[])).push({type:"overlong_rowspan",pos:f,n:O-N});break}const P=o+N*i;for(let G=0;G<D;G++){0==n[P+G]?n[P+G]=f:(r||(r=[])).push({type:"collision",row:u,pos:f,n:D-G});const H=I&&I[G];if(H){const $=(P+G)%i*2,Q=a[$];null==Q||Q!=H&&1==a[$+1]?(a[$]=H,a[$+1]=1):Q==H&&a[$+1]++}}}o+=D,f+=k.nodeSize}const g=(u+1)*i;let S=0;for(;o<g;)0==n[o++]&&S++;S&&(r||(r=[])).push({type:"missing",row:u,n:S}),f++}const l=new Gs(i,e,n,r);let c=!1;for(let u=0;!c&&u<a.length;u+=2)null!=a[u]&&a[u+1]<e&&(c=!0);return c&&function Sjt(s,i,e){s.problems||(s.problems=[]);const n={};for(let o=0;o<s.map.length;o++){const r=s.map[o];if(n[r])continue;n[r]=!0;const a=e.nodeAt(r);if(!a)throw new RangeError(`No cell with offset ${r} found`);let l=null;const c=a.attrs;for(let u=0;u<c.colspan;u++){const _=i[(o+u)%s.width*2];null!=_&&(!c.colwidth||c.colwidth[u]!=_)&&((l||(l=Cjt(c)))[u]=_)}l&&s.problems.unshift({type:"colwidth mismatch",pos:r,colwidth:l})}}(l,a,s),l}(s))}};function Cjt(s){if(s.colwidth)return s.colwidth.slice();const i=[];for(let e=0;e<s.colspan;e++)i.push(0);return i}function AGe(s,i){if("string"==typeof s)return{};const e=s.getAttribute("data-colwidth"),n=e&&/^\d+(,\d+)*$/.test(e)?e.split(",").map(a=>Number(a)):null,o=Number(s.getAttribute("colspan")||1),r={colspan:o,rowspan:Number(s.getAttribute("rowspan")||1),colwidth:n&&n.length==o?n:null};for(const a in i){const l=i[a].getFromDOM,c=l&&l(s);null!=c&&(r[a]=c)}return r}function RGe(s,i){const e={};1!=s.attrs.colspan&&(e.colspan=s.attrs.colspan),1!=s.attrs.rowspan&&(e.rowspan=s.attrs.rowspan),s.attrs.colwidth&&(e["data-colwidth"]=s.attrs.colwidth.join(","));for(const n in i){const o=i[n].setDOMAttr;o&&o(s.attrs[n],e)}return e}function ol(s){let i=s.cached.tableNodeTypes;if(!i){i=s.cached.tableNodeTypes={};for(const e in s.nodes){const n=s.nodes[e],o=n.spec.tableRole;o&&(i[o]=n)}}return i}var XS=new mc("selectingCells");function VO(s){for(let i=s.depth-1;i>0;i--)if("row"==s.node(i).type.spec.tableRole)return s.node(0).resolve(s.before(i+1));return null}function Ap(s){const i=s.selection.$head;for(let e=i.depth;e>0;e--)if("row"==i.node(e).type.spec.tableRole)return!0;return!1}function gz(s){const i=s.selection;if("$anchorCell"in i&&i.$anchorCell)return i.$anchorCell.pos>i.$headCell.pos?i.$anchorCell:i.$headCell;if("node"in i&&i.node&&"cell"==i.node.type.spec.tableRole)return i.$anchor;const e=VO(i.$head)||function yjt(s){for(let i=s.nodeAfter,e=s.pos;i;i=i.firstChild,e++){const n=i.type.spec.tableRole;if("cell"==n||"header_cell"==n)return s.doc.resolve(e)}for(let i=s.nodeBefore,e=s.pos;i;i=i.lastChild,e--){const n=i.type.spec.tableRole;if("cell"==n||"header_cell"==n)return s.doc.resolve(e-i.nodeSize)}}(i.$head);if(e)return e;throw new RangeError(`No cell found around position ${i.head}`)}function vle(s){return"row"==s.parent.type.spec.tableRole&&!!s.nodeAfter}function Sle(s,i){return s.depth==i.depth&&s.pos>=i.start(-1)&&s.pos<=i.end(-1)}function NGe(s,i,e){const n=s.node(-1),o=Gs.get(n),r=s.start(-1),a=o.nextCell(s.pos-r,i,e);return null==a?null:s.node(0).resolve(r+a)}function oE(s,i,e=1){const n={...s,colspan:s.colspan-e};return n.colwidth&&(n.colwidth=n.colwidth.slice(),n.colwidth.splice(i,e),n.colwidth.some(o=>o>0)||(n.colwidth=null)),n}function LGe(s,i,e=1){const n={...s,colspan:s.colspan+e};if(n.colwidth){n.colwidth=n.colwidth.slice();for(let o=0;o<e;o++)n.colwidth.splice(i,0,0)}return n}var Ao=class u1 extends Hn{constructor(i,e=i){const n=i.node(-1),o=Gs.get(n),r=i.start(-1),a=o.rectBetween(i.pos-r,e.pos-r),l=i.node(0),c=o.cellsInRect(a).filter(f=>f!=e.pos-r);c.unshift(e.pos-r);const u=c.map(f=>{const _=n.nodeAt(f);if(!_)throw RangeError(`No cell with offset ${f} found`);const g=r+f+1;return new C8e(l.resolve(g),l.resolve(g+_.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=i,this.$headCell=e}map(i,e){const n=i.resolve(e.map(this.$anchorCell.pos)),o=i.resolve(e.map(this.$headCell.pos));if(vle(n)&&vle(o)&&Sle(n,o)){const r=this.$anchorCell.node(-1)!=n.node(-1);return r&&this.isRowSelection()?u1.rowSelection(n,o):r&&this.isColSelection()?u1.colSelection(n,o):new u1(n,o)}return si.between(n,o)}content(){const i=this.$anchorCell.node(-1),e=Gs.get(i),n=this.$anchorCell.start(-1),o=e.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),r={},a=[];for(let c=o.top;c<o.bottom;c++){const u=[];for(let f=c*e.width+o.left,_=o.left;_<o.right;_++,f++){const g=e.map[f];if(r[g])continue;r[g]=!0;const S=e.findCell(g);let b=i.nodeAt(g);if(!b)throw RangeError(`No cell with offset ${g} found`);const k=o.left-S.left,D=S.right-o.right;if(k>0||D>0){let O=b.attrs;if(k>0&&(O=oE(O,0,k)),D>0&&(O=oE(O,O.colspan-D,D)),S.left<o.left){if(b=b.type.createAndFill(O),!b)throw RangeError(`Could not create cell with attrs ${JSON.stringify(O)}`)}else b=b.type.create(O,b.content)}if(S.top<o.top||S.bottom>o.bottom){const O={...b.attrs,rowspan:Math.min(S.bottom,o.bottom)-Math.max(S.top,o.top)};b=S.top<o.top?b.type.createAndFill(O):b.type.create(O,b.content)}u.push(b)}a.push(i.child(c).copy(Te.from(u)))}const l=this.isColSelection()&&this.isRowSelection()?i:a;return new tt(Te.from(l),1,1)}replace(i,e=tt.empty){const n=i.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){const{$from:l,$to:c}=o[a],u=i.mapping.slice(n);i.replace(u.map(l.pos),u.map(c.pos),a?tt.empty:e)}const r=Hn.findFrom(i.doc.resolve(i.mapping.slice(n).map(this.to)),-1);r&&i.setSelection(r)}replaceWith(i,e){this.replace(i,new tt(Te.from(e),0,0))}forEachCell(i){const e=this.$anchorCell.node(-1),n=Gs.get(e),o=this.$anchorCell.start(-1),r=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o));for(let a=0;a<r.length;a++)i(e.nodeAt(r[a]),o+r[a])}isColSelection(){const i=this.$anchorCell.index(-1),e=this.$headCell.index(-1);return!(Math.min(i,e)>0)&&Math.max(i+this.$anchorCell.nodeAfter.attrs.rowspan,e+this.$headCell.nodeAfter.attrs.rowspan)==this.$headCell.node(-1).childCount}static colSelection(i,e=i){const n=i.node(-1),o=Gs.get(n),r=i.start(-1),a=o.findCell(i.pos-r),l=o.findCell(e.pos-r),c=i.node(0);return a.top<=l.top?(a.top>0&&(i=c.resolve(r+o.map[a.left])),l.bottom<o.height&&(e=c.resolve(r+o.map[o.width*(o.height-1)+l.right-1]))):(l.top>0&&(e=c.resolve(r+o.map[l.left])),a.bottom<o.height&&(i=c.resolve(r+o.map[o.width*(o.height-1)+a.right-1]))),new u1(i,e)}isRowSelection(){const i=this.$anchorCell.node(-1),e=Gs.get(i),n=this.$anchorCell.start(-1),o=e.colCount(this.$anchorCell.pos-n),r=e.colCount(this.$headCell.pos-n);return!(Math.min(o,r)>0)&&Math.max(o+this.$anchorCell.nodeAfter.attrs.colspan,r+this.$headCell.nodeAfter.attrs.colspan)==e.width}eq(i){return i instanceof u1&&i.$anchorCell.pos==this.$anchorCell.pos&&i.$headCell.pos==this.$headCell.pos}static rowSelection(i,e=i){const n=i.node(-1),o=Gs.get(n),r=i.start(-1),a=o.findCell(i.pos-r),l=o.findCell(e.pos-r),c=i.node(0);return a.left<=l.left?(a.left>0&&(i=c.resolve(r+o.map[a.top*o.width])),l.right<o.width&&(e=c.resolve(r+o.map[o.width*(l.top+1)-1]))):(l.left>0&&(e=c.resolve(r+o.map[l.top*o.width])),a.right<o.width&&(i=c.resolve(r+o.map[o.width*(a.top+1)-1]))),new u1(i,e)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(i,e){return new u1(i.resolve(e.anchor),i.resolve(e.head))}static create(i,e,n=e){return new u1(i.resolve(e),i.resolve(n))}getBookmark(){return new Djt(this.$anchorCell.pos,this.$headCell.pos)}};Ao.prototype.visible=!1,Hn.jsonID("cell",Ao);var Djt=class _Be{constructor(i,e){this.anchor=i,this.head=e}map(i){return new _Be(i.map(this.anchor),i.map(this.head))}resolve(i){const e=i.resolve(this.anchor),n=i.resolve(this.head);return"row"==e.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&e.index()<e.parent.childCount&&n.index()<n.parent.childCount&&Sle(e,n)?new Ao(e,n):Hn.near(n,1)}};function Ojt(s){if(!(s.selection instanceof Ao))return null;const i=[];return s.selection.forEachCell((e,n)=>{i.push(Aa.node(n,n+e.nodeSize,{class:"selectedCell"}))}),is.create(s.doc,i)}var xjt=new mc("fix-tables");function GGe(s,i,e,n){const o=s.childCount,r=i.childCount;e:for(let a=0,l=0;a<r;a++){const c=i.child(a);for(let u=l,f=Math.min(o,a+3);u<f;u++)if(s.child(u)==c){l=u+1,e+=c.nodeSize;continue e}n(c,e),l<o&&s.child(l).sameMarkup(c)?GGe(s.child(l),c,e+1,n):c.nodesBetween(0,c.content.size,n,e+1),e+=c.nodeSize}}function Ajt(s,i){let e;const n=(o,r)=>{"table"==o.type.spec.tableRole&&(e=function Rjt(s,i,e,n){const o=Gs.get(i);if(!o.problems)return n;n||(n=s.tr);const r=[];for(let c=0;c<o.height;c++)r.push(0);for(let c=0;c<o.problems.length;c++){const u=o.problems[c];if("collision"==u.type){const f=i.nodeAt(u.pos);if(!f)continue;const _=f.attrs;for(let g=0;g<_.rowspan;g++)r[u.row+g]+=u.n;n.setNodeMarkup(n.mapping.map(e+1+u.pos),null,oE(_,_.colspan-u.n,u.n))}else if("missing"==u.type)r[u.row]+=u.n;else if("overlong_rowspan"==u.type){const f=i.nodeAt(u.pos);if(!f)continue;n.setNodeMarkup(n.mapping.map(e+1+u.pos),null,{...f.attrs,rowspan:f.attrs.rowspan-u.n})}else if("colwidth mismatch"==u.type){const f=i.nodeAt(u.pos);if(!f)continue;n.setNodeMarkup(n.mapping.map(e+1+u.pos),null,{...f.attrs,colwidth:u.colwidth})}}let a,l;for(let c=0;c<r.length;c++)r[c]&&(null==a&&(a=c),l=c);for(let c=0,u=e+1;c<o.height;c++){const f=i.child(c),_=u+f.nodeSize,g=r[c];if(g>0){let S="cell";f.firstChild&&(S=f.firstChild.type.spec.tableRole);const b=[];for(let D=0;D<g;D++){const O=ol(s.schema)[S].createAndFill();O&&b.push(O)}n.insert(n.mapping.map(0!=c&&a!=c-1||l!=c?_-1:u+1),b)}u=_}return n.setMeta(xjt,{fixTables:!0})}(s,o,r,e))};return i?i.doc!=s.doc&&GGe(i.doc,s.doc,0,n):s.doc.descendants(n),e}function Cle(s,i){const e=s.createAndFill();return new S8e(e).replace(0,e.content.size,i).doc}function PGe(s,i,e,n,o,r,a,l){if(0==a||a==i.height)return!1;let c=!1;for(let u=o;u<r;u++){const f=a*i.width+u,_=i.map[f];if(i.map[f-i.width]==_){c=!0;const g=e.nodeAt(_),{top:S,left:b}=i.findCell(_);s.setNodeMarkup(s.mapping.slice(l).map(_+n),null,{...g.attrs,rowspan:a-S}),s.insert(s.mapping.slice(l).map(i.positionAt(a,b,e)),g.type.createAndFill({...g.attrs,rowspan:S+g.attrs.rowspan-a})),u+=g.attrs.colspan-1}}return c}function FGe(s,i,e,n,o,r,a,l){if(0==a||a==i.width)return!1;let c=!1;for(let u=o;u<r;u++){const f=u*i.width+a,_=i.map[f];if(i.map[f-1]==_){c=!0;const g=e.nodeAt(_),S=i.colCount(_),b=s.mapping.slice(l).map(_+n);s.setNodeMarkup(b,null,oE(g.attrs,a-S,g.attrs.colspan-(a-S))),s.insert(b+g.nodeSize,g.type.createAndFill(oE(g.attrs,0,a-S))),u+=g.attrs.rowspan-1}}return c}function UGe(s,i,e,n,o){let r=e?s.doc.nodeAt(e-1):s.doc;if(!r)throw new Error("No table found");let a=Gs.get(r);const{top:l,left:c}=n,u=c+o.width,f=l+o.height,_=s.tr;let g=0;function S(){if(r=e?_.doc.nodeAt(e-1):_.doc,!r)throw new Error("No table found");a=Gs.get(r),g=_.mapping.maps.length}(function Pjt(s,i,e,n,o,r,a){const c=ol(s.doc.type.schema);let u,f;if(o>i.width)for(let _=0,g=0;_<i.height;_++){const S=e.child(_);g+=S.nodeSize;const b=[];let k;k=null==S.lastChild||S.lastChild.type==c.cell?u||(u=c.cell.createAndFill()):f||(f=c.header_cell.createAndFill());for(let D=i.width;D<o;D++)b.push(k);s.insert(s.mapping.slice(a).map(g-1+n),b)}if(r>i.height){const _=[];for(let b=0,k=(i.height-1)*i.width;b<Math.max(i.width,o);b++){const D=!(b>=i.width)&&e.nodeAt(i.map[k+b]).type==c.header_cell;_.push(D?f||(f=c.header_cell.createAndFill()):u||(u=c.cell.createAndFill()))}const g=c.row.create(null,Te.from(_)),S=[];for(let b=i.height;b<r;b++)S.push(g);s.insert(s.mapping.slice(a).map(n+e.nodeSize-2),S)}return!(!u&&!f)})(_,a,r,e,u,f,g)&&S(),PGe(_,a,r,e,c,u,l,g)&&S(),PGe(_,a,r,e,c,u,f,g)&&S(),FGe(_,a,r,e,l,f,c,g)&&S(),FGe(_,a,r,e,l,f,u,g)&&S();for(let b=l;b<f;b++){const k=a.positionAt(b,c,r),D=a.positionAt(b,u,r);_.replace(_.mapping.slice(g).map(k+e),_.mapping.slice(g).map(D+e),new tt(o.rows[b-l],0,0))}S(),_.setSelection(new Ao(_.doc.resolve(e+a.positionAt(l,c,r)),_.doc.resolve(e+a.positionAt(f-1,u-1,r)))),i(_)}var Fjt=mle({ArrowLeft:Sz("horiz",-1),ArrowRight:Sz("horiz",1),ArrowUp:Sz("vert",-1),ArrowDown:Sz("vert",1),"Shift-ArrowLeft":Cz("horiz",-1),"Shift-ArrowRight":Cz("horiz",1),"Shift-ArrowUp":Cz("vert",-1),"Shift-ArrowDown":Cz("vert",1),Backspace:bz,"Mod-Backspace":bz,Delete:bz,"Mod-Delete":bz});function vz(s,i,e){return!e.eq(s.selection)&&(i&&i(s.tr.setSelection(e).scrollIntoView()),!0)}function Sz(s,i){return(e,n,o)=>{if(!o)return!1;const r=e.selection;if(r instanceof Ao)return vz(e,n,Hn.near(r.$headCell,i));if("horiz"!=s&&!r.empty)return!1;const a=BGe(o,s,i);if(null==a)return!1;if("horiz"==s)return vz(e,n,Hn.near(e.doc.resolve(r.head+i),i));{const l=e.doc.resolve(a),c=NGe(l,s,i);let u;return u=c?Hn.near(c,1):i<0?Hn.near(e.doc.resolve(l.before(-1)),-1):Hn.near(e.doc.resolve(l.after(-1)),1),vz(e,n,u)}}}function Cz(s,i){return(e,n,o)=>{if(!o)return!1;const r=e.selection;let a;if(r instanceof Ao)a=r;else{const c=BGe(o,s,i);if(null==c)return!1;a=new Ao(e.doc.resolve(c))}const l=NGe(a.$headCell,s,i);return!!l&&vz(e,n,new Ao(a.$anchorCell,l))}}function bz(s,i){const e=s.selection;if(!(e instanceof Ao))return!1;if(i){const n=s.tr,o=ol(s.schema).cell.createAndFill().content;e.forEachCell((r,a)=>{r.content.eq(o)||n.replace(n.mapping.map(a+1),n.mapping.map(a+r.nodeSize-1),new tt(o,0,0))}),n.docChanged&&i(n)}return!0}function Ujt(s,i){const n=VO(s.state.doc.resolve(i));return!!n&&(s.dispatch(s.state.tr.setSelection(new Ao(n))),!0)}function Bjt(s,i,e){if(!Ap(s.state))return!1;let n=function Njt(s){if(!s.size)return null;let{content:i,openStart:e,openEnd:n}=s;for(;1==i.childCount&&(e>0&&n>0||"table"==i.child(0).type.spec.tableRole);)e--,n--,i=i.child(0).content;const o=i.child(0),r=o.type.spec.tableRole,a=o.type.schema,l=[];if("row"==r)for(let c=0;c<i.childCount;c++){let u=i.child(c).content;const f=c?0:Math.max(0,e-1),_=c<i.childCount-1?0:Math.max(0,n-1);(f||_)&&(u=Cle(ol(a).row,new tt(u,f,_)).content),l.push(u)}else{if("cell"!=r&&"header_cell"!=r)return null;l.push(e||n?Cle(ol(a).row,new tt(i,e,n)).content:i)}return function Ljt(s,i){const e=[];for(let o=0;o<i.length;o++){const r=i[o];for(let a=r.childCount-1;a>=0;a--){const{rowspan:l,colspan:c}=r.child(a).attrs;for(let u=o;u<o+l;u++)e[u]=(e[u]||0)+c}}let n=0;for(let o=0;o<e.length;o++)n=Math.max(n,e[o]);for(let o=0;o<e.length;o++)if(o>=i.length&&i.push(Te.empty),e[o]<n){const r=ol(s).cell.createAndFill(),a=[];for(let l=e[o];l<n;l++)a.push(r);i[o]=i[o].append(Te.from(a))}return{height:i.length,width:n,rows:i}}(a,l)}(e);const o=s.state.selection;if(o instanceof Ao){n||(n={width:1,height:1,rows:[Te.from(Cle(ol(s.state.schema).cell,e))]});const r=o.$anchorCell.node(-1),a=o.$anchorCell.start(-1),l=Gs.get(r).rectBetween(o.$anchorCell.pos-a,o.$headCell.pos-a);return n=function Gjt({width:s,height:i,rows:e},n,o){if(s!=n){const r=[],a=[];for(let l=0;l<e.length;l++){const c=e[l],u=[];for(let f=r[l]||0,_=0;f<n;_++){let g=c.child(_%c.childCount);f+g.attrs.colspan>n&&(g=g.type.createChecked(oE(g.attrs,g.attrs.colspan,f+g.attrs.colspan-n),g.content)),u.push(g),f+=g.attrs.colspan;for(let S=1;S<g.attrs.rowspan;S++)r[l+S]=(r[l+S]||0)+g.attrs.colspan}a.push(Te.from(u))}e=a,s=n}if(i!=o){const r=[];for(let a=0,l=0;a<o;a++,l++){const c=[],u=e[l%i];for(let f=0;f<u.childCount;f++){let _=u.child(f);a+_.attrs.rowspan>o&&(_=_.type.create({..._.attrs,rowspan:Math.max(1,o-_.attrs.rowspan)},_.content)),c.push(_)}r.push(Te.from(c))}e=r,i=o}return{width:s,height:i,rows:e}}(n,l.right-l.left,l.bottom-l.top),UGe(s.state,s.dispatch,a,l,n),!0}if(n){const r=gz(s.state),a=r.start(-1);return UGe(s.state,s.dispatch,a,Gs.get(r.node(-1)).findCell(r.pos-a),n),!0}return!1}function Vjt(s,i){var e;if(i.ctrlKey||i.metaKey)return;const n=VGe(s,i.target);let o;if(i.shiftKey&&s.state.selection instanceof Ao)r(s.state.selection.$anchorCell,i),i.preventDefault();else if(i.shiftKey&&n&&null!=(o=VO(s.state.selection.$anchor))&&(null==(e=ble(s,i))?void 0:e.pos)!=o.pos)r(o,i),i.preventDefault();else if(!n)return;function r(c,u){let f=ble(s,u);const _=null==XS.getState(s.state);if(!f||!Sle(c,f)){if(!_)return;f=c}const g=new Ao(c,f);if(_||!s.state.selection.eq(g)){const S=s.state.tr.setSelection(g);_&&S.setMeta(XS,c.pos),s.dispatch(S)}}function a(){s.root.removeEventListener("mouseup",a),s.root.removeEventListener("dragstart",a),s.root.removeEventListener("mousemove",l),null!=XS.getState(s.state)&&s.dispatch(s.state.tr.setMeta(XS,-1))}function l(c){const u=c,f=XS.getState(s.state);let _;if(null!=f)_=s.state.doc.resolve(f);else if(VGe(s,u.target)!=n&&(_=ble(s,i),!_))return a();_&&r(_,u)}s.root.addEventListener("mouseup",a),s.root.addEventListener("dragstart",a),s.root.addEventListener("mousemove",l)}function BGe(s,i,e){if(!(s.state.selection instanceof si))return null;const{$head:n}=s.state.selection;for(let o=n.depth-1;o>=0;o--){const r=n.node(o);if((e<0?n.index(o):n.indexAfter(o))!=(e<0?0:r.childCount))return null;if("cell"==r.type.spec.tableRole||"header_cell"==r.type.spec.tableRole){const l=n.before(o);return s.endOfTextblock("vert"==i?e>0?"down":"up":e>0?"right":"left")?l:null}}return null}function VGe(s,i){for(;i&&i!=s.dom;i=i.parentNode)if("TD"==i.nodeName||"TH"==i.nodeName)return i;return null}function ble(s,i){const e=s.posAtCoords({left:i.clientX,top:i.clientY});return e&&e?VO(s.state.doc.resolve(e.pos)):null}function Rm(s){const i=s.selection,e=gz(s),n=e.node(-1),o=e.start(-1),r=Gs.get(n);return{...i instanceof Ao?r.rectBetween(i.$anchorCell.pos-o,i.$headCell.pos-o):r.findCell(e.pos-o),tableStart:o,map:r,table:n}}function $Ge(s,{map:i,tableStart:e,table:n},o){let r=o>0?-1:0;(function wjt(s,i,e){const n=ol(i.type.schema).header_cell;for(let o=0;o<s.height;o++)if(i.nodeAt(s.map[e+o*s.width]).type!=n)return!1;return!0})(i,n,o+r)&&(r=0==o||o==i.width?null:0);for(let a=0;a<i.height;a++){const l=a*i.width+o;if(o>0&&o<i.width&&i.map[l-1]==i.map[l]){const c=i.map[l],u=n.nodeAt(c);s.setNodeMarkup(s.mapping.map(e+c),null,LGe(u.attrs,o-i.colCount(c))),a+=u.attrs.rowspan-1}else{const c=null==r?ol(n.type.schema).cell:n.nodeAt(i.map[l+r]).type,u=i.positionAt(a,o,n);s.insert(s.mapping.map(e+u),c.createAndFill())}}return s}function tHt(s,{map:i,table:e,tableStart:n},o){const r=s.mapping.maps.length;for(let a=0;a<i.height;){const l=a*i.width+o,c=i.map[l],u=e.nodeAt(c),f=u.attrs;if(o>0&&i.map[l-1]==c||o<i.width-1&&i.map[l+1]==c)s.setNodeMarkup(s.mapping.slice(r).map(n+c),null,oE(f,o-i.colCount(c)));else{const _=s.mapping.slice(r).map(n+c);s.delete(_,_+u.nodeSize)}a+=f.rowspan}}function XGe(s,{map:i,tableStart:e,table:n},o){var r;let a=e;for(let u=0;u<o;u++)a+=n.child(u).nodeSize;const l=[];let c=o>0?-1:0;(function iHt(s,i,e){var n;const o=ol(i.type.schema).header_cell;for(let r=0;r<s.width;r++)if((null==(n=i.nodeAt(s.map[r+e*s.width]))?void 0:n.type)!=o)return!1;return!0})(i,n,o+c)&&(c=0==o||o==i.height?null:0);for(let u=0,f=i.width*o;u<i.width;u++,f++)if(o>0&&o<i.height&&i.map[f]==i.map[f-i.width]){const _=i.map[f],g=n.nodeAt(_).attrs;s.setNodeMarkup(e+_,null,{...g,rowspan:g.rowspan+1}),u+=g.colspan-1}else{const _=null==c?ol(n.type.schema).cell:null==(r=n.nodeAt(i.map[f+c*i.width]))?void 0:r.type,g=_?.createAndFill();g&&l.push(g)}return s.insert(a,ol(n.type.schema).row.create(null,l)),s}function rHt(s,{map:i,table:e,tableStart:n},o){let r=0;for(let u=0;u<o;u++)r+=e.child(u).nodeSize;const a=r+e.child(o).nodeSize,l=s.mapping.maps.length;s.delete(r+n,a+n);const c=new Set;for(let u=0,f=o*i.width;u<i.width;u++,f++){const _=i.map[f];if(!c.has(_))if(c.add(_),o>0&&_==i.map[f-i.width]){const g=e.nodeAt(_).attrs;s.setNodeMarkup(s.mapping.slice(l).map(_+n),null,{...g,rowspan:g.rowspan-1}),u+=g.colspan-1}else if(o<i.height&&_==i.map[f+i.width]){const g=e.nodeAt(_),S=g.attrs,b=g.type.create({...S,rowspan:g.attrs.rowspan-1},g.content),k=i.positionAt(o+1,u,e);s.insert(s.mapping.slice(l).map(n+k),b),u+=S.colspan-1}}}function WGe(s,i){if(!Ap(s))return!1;if(i){const e=Rm(s),n=s.tr;if(0==e.top&&e.bottom==e.map.height)return!1;for(let o=e.bottom-1;rHt(n,e,o),o!=e.top;o--){const r=e.tableStart?n.doc.nodeAt(e.tableStart-1):n.doc;if(!r)throw RangeError("No table found");e.table=r,e.map=Gs.get(e.table)}i(n)}return!0}function YGe(s){const i=s.content;return 1==i.childCount&&i.child(0).isTextblock&&0==i.child(0).childCount}function KGe(s,i){const e=s.selection;if(!(e instanceof Ao)||e.$anchorCell.pos==e.$headCell.pos)return!1;const n=Rm(s),{map:o}=n;if(function aHt({width:s,height:i,map:e},n){let o=n.top*s+n.left,r=o,a=(n.bottom-1)*s+n.left,l=o+(n.right-n.left-1);for(let c=n.top;c<n.bottom;c++){if(n.left>0&&e[r]==e[r-1]||n.right<s&&e[l]==e[l+1])return!0;r+=s,l+=s}for(let c=n.left;c<n.right;c++){if(n.top>0&&e[o]==e[o-s]||n.bottom<i&&e[a]==e[a+s])return!0;o++,a++}return!1}(o,n))return!1;if(i){const r=s.tr,a={};let c,u,l=Te.empty;for(let f=n.top;f<n.bottom;f++)for(let _=n.left;_<n.right;_++){const g=o.map[f*o.width+_],S=n.table.nodeAt(g);if(!a[g]&&S)if(a[g]=!0,null==c)c=g,u=S;else{YGe(S)||(l=l.append(S.content));const b=r.mapping.map(g+n.tableStart);r.delete(b,b+S.nodeSize)}}if(null==c||null==u)return!0;if(r.setNodeMarkup(c+n.tableStart,null,{...LGe(u.attrs,u.attrs.colspan,n.right-n.left-u.attrs.colspan),rowspan:n.bottom-n.top}),l.size){const f=c+1+u.content.size,_=YGe(u)?c+1:f;r.replaceWith(_+n.tableStart,f+n.tableStart,l)}r.setSelection(new Ao(r.doc.resolve(c+n.tableStart))),i(r)}return!0}function JGe(s,i){const e=ol(s.schema);return function lHt(s){return(i,e)=>{var n;const o=i.selection;let r,a;if(o instanceof Ao){if(o.$anchorCell.pos!=o.$headCell.pos)return!1;r=o.$anchorCell.nodeAfter,a=o.$anchorCell.pos}else{if(r=function Ejt(s){for(let i=s.depth;i>0;i--){const e=s.node(i).type.spec.tableRole;if("cell"===e||"header_cell"===e)return s.node(i)}return null}(o.$from),!r)return!1;a=null==(n=VO(o.$from))?void 0:n.pos}if(null==r||null==a||1==r.attrs.colspan&&1==r.attrs.rowspan)return!1;if(e){let l=r.attrs;const c=[],u=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const f=Rm(i),_=i.tr;for(let S=0;S<f.right-f.left;S++)c.push(u?{...l,colwidth:u&&u[S]?[u[S]]:null}:l);let g;for(let S=f.top;S<f.bottom;S++){let b=f.map.positionAt(S,f.left,f.table);S==f.top&&(b+=r.nodeSize);for(let k=f.left,D=0;k<f.right;k++,D++)k==f.left&&S==f.top||_.insert(g=_.mapping.map(b+f.tableStart,1),s({node:r,row:S,col:k}).createAndFill(c[D]))}_.setNodeMarkup(a,s({node:r,row:f.top,col:f.left}),c[0]),o instanceof Ao&&_.setSelection(new Ao(_.doc.resolve(o.$anchorCell.pos),g?_.doc.resolve(g):void 0)),e(_)}return!0}}(({node:n})=>e[n.type.spec.tableRole])(s,i)}function qGe(s,i,e){const n=i.map.cellsInRect({left:0,top:0,right:"row"==s?i.map.width:1,bottom:"column"==s?i.map.height:1});for(let o=0;o<n.length;o++){const r=i.table.nodeAt(n[o]);if(r&&r.type!==e.header_cell)return!1}return!0}function yle(s,i){return(i=i||{useDeprecatedLogic:!1}).useDeprecatedLogic?function cHt(s){return function(i,e){if(!Ap(i))return!1;if(e){const n=ol(i.schema),o=Rm(i),r=i.tr,a=o.map.cellsInRect("column"==s?{left:o.left,top:0,right:o.right,bottom:o.map.height}:"row"==s?{left:0,top:o.top,right:o.map.width,bottom:o.bottom}:o),l=a.map(c=>o.table.nodeAt(c));for(let c=0;c<a.length;c++)l[c].type==n.header_cell&&r.setNodeMarkup(o.tableStart+a[c],n.cell,l[c].attrs);if(0==r.steps.length)for(let c=0;c<a.length;c++)r.setNodeMarkup(o.tableStart+a[c],n.header_cell,l[c].attrs);e(r)}return!0}}(s):function(e,n){if(!Ap(e))return!1;if(n){const o=ol(e.schema),r=Rm(e),a=e.tr,l=qGe("row",r,o),c=qGe("column",r,o),f=("column"===s?l:"row"===s&&c)?1:0,g="column"==s?c?o.cell:o.header_cell:"row"==s?l?o.cell:o.header_cell:o.cell;r.map.cellsInRect("column"==s?{left:0,top:f,right:1,bottom:r.map.height}:"row"==s?{left:f,top:0,right:r.map.width,bottom:1}:r).forEach(S=>{const b=S+r.tableStart,k=a.doc.nodeAt(b);k&&a.setNodeMarkup(b,g,k.attrs)}),n(a)}return!0}}function QGe(s,i){const e=s.selection.$anchor;for(let n=e.depth;n>0;n--)if("table"==e.node(n).type.spec.tableRole)return i&&i(s.tr.delete(e.before(n),e.after(n)).scrollIntoView()),!0;return!1}function uHt({allowTableNodeSelection:s=!1}={}){return new lu({key:XS,state:{init:()=>null,apply(i,e){const n=i.getMeta(XS);if(null!=n)return-1==n?null:n;if(null==e||!i.docChanged)return e;const{deleted:o,pos:r}=i.mapping.mapResult(e);return o?null:r}},props:{decorations:Ojt,handleDOMEvents:{mousedown:Vjt},createSelectionBetween:i=>null!=XS.getState(i.state)?i.state.selection:null,handleTripleClick:Ujt,handleKeyDown:Fjt,handlePaste:Bjt},appendTransaction:(i,e,n)=>function Ijt(s,i,e){const n=(i||s).selection,o=(i||s).doc;let r,a;if(n instanceof Xt&&(a=n.node.type.spec.tableRole)){if("cell"==a||"header_cell"==a)r=Ao.create(o,n.from);else if("row"==a){const l=o.resolve(n.from+1);r=Ao.rowSelection(l,l)}else if(!e){const l=Gs.get(n.node),c=n.from+1;r=Ao.create(o,c+1,c+l.map[l.width*l.height-1])}}else n instanceof si&&function Tjt({$from:s,$to:i}){if(s.pos==i.pos||s.pos<s.pos-6)return!1;let e=s.pos,n=i.pos,o=s.depth;for(;o>=0&&!(s.after(o+1)<s.end(o));o--,e++);for(let r=i.depth;r>=0&&!(i.before(r+1)>i.start(r));r--,n--);return e==n&&/row|table/.test(s.node(o).type.spec.tableRole)}(n)?r=si.create(o,n.from):n instanceof si&&function Mjt({$from:s,$to:i}){let e,n;for(let o=s.depth;o>0;o--){const r=s.node(o);if("cell"===r.type.spec.tableRole||"header_cell"===r.type.spec.tableRole){e=r;break}}for(let o=i.depth;o>0;o--){const r=i.node(o);if("cell"===r.type.spec.tableRole||"header_cell"===r.type.spec.tableRole){n=r;break}}return e!==n&&0===i.parentOffset}(n)&&(r=si.create(o,n.$from.start(),n.$from.end()));return r&&(i||(i=s.tr)).setSelection(r),i}(n,Ajt(n,e),s)})}new mc("tableColumnResizing"),yle("row",{useDeprecatedLogic:!0}),yle("column",{useDeprecatedLogic:!0}),yle("cell",{useDeprecatedLogic:!0});const hHt=["blockquote",0],pHt=["hr"],fHt=["pre",["code",0]],mHt=["ol",0],_Ht=["ul",0],gHt=["li",0],Ro=s=>{const i={};let n,e=s.attributes;for(let o=0;o<e.length;o++)n=e[o],i[n.name]=n.value;return i},U4=s=>{const i={};return s.forEach(e=>{i[e]={default:null}}),i},kh=()=>U4(["style","class","id"]),cu=(s,i)=>{for(let e in s)if(e&&null!==s[e]&&e!==i)return!0;return!1},Al=(s,i=[])=>{const e={};for(let n in s)n&&null!==s[n]&&!i.find(o=>o===n)&&(e[n]=s[n]);return e},e1=s=>({[s]:{name:s,inclusive:!0,parseDOM:[{tag:s}],toDOM:()=>[s,0]}}),vHt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({link:{attrs:Object.assign(Object.assign({},kh()),{href:{default:null},target:{default:null},title:{default:null}}),inclusive:!1,parseDOM:[{tag:"a",getAttrs:Ro}],toDOM:s=>["a",Al(s.attrs),0]}},e1("strong")),e1("b")),e1("em")),e1("i")),e1("del")),e1("sub")),e1("sup")),e1("code")),{style:{attrs:Object.assign({},kh()),parseDOM:[{tag:"span",getAttrs:Ro}],toDOM:s=>cu(s.attrs)?["span",Al(s.attrs),0]:["span",0]}}),e1("u")),B4=s=>({[s]:{default:null,getFromDOM:i=>i.getAttribute(s),setDOMAttr:(i,e)=>{e[s]=i}}}),SHt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},B4("style")),B4("class")),B4("id")),B4("headers")),B4("scope")),CHt={doc:{content:"colgroup*"},col:{attrs:U4(["id","class","style","span"]),parseDOM:[{getAttrs:Ro,tag:"col"}],toDOM:s=>["col",s.attrs]},colgroup:{attrs:U4(["id","class","style","span"]),content:"col*",parseDOM:[{getAttrs:Ro,tag:"colgroup"}],toDOM:s=>["colgroup",s.attrs,0]},text:{inline:!0,group:"inline"}},bHt=new cae({nodes:CHt,marks:{}}),Ez=s=>{const i=P8e(T4(s),bHt,{preserveWhitespace:!1});return G8e(i).firstChild},t1=function bjt(s){const i=s.cellAttributes||{},e={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(const n in i)e[n]={default:i[n].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:s.tableGroup,parseDOM:[{tag:"table"}],toDOM:()=>["table",["tbody",0]]},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:()=>["tr",0]},table_cell:{content:s.cellContent,attrs:e,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:n=>AGe(n,i)}],toDOM:n=>["td",RGe(n,i),0]},table_header:{content:s.cellContent,attrs:e,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:n=>AGe(n,i)}],toDOM:n=>["th",RGe(n,i),0]}}}({tableGroup:"block",cellContent:"block+",cellAttributes:SHt});t1.table_row.attrs=Object.assign(Object.assign({},t1.table_row.attrs),U4([Tm,"style","class","id"])),t1.table_row.toDOM=s=>["tr",Al(s.attrs),0],t1.table_row.parseDOM=[{tag:"tr",getAttrs:Ro}],t1.table.attrs=Object.assign(Object.assign({},t1.table.attrs),U4(["style","class","id",vo,Mm])),t1.table.toDOM=s=>{const i=cu(s.attrs)?Al(s.attrs,[vo,Mm]):{};let e=null;if(s.attrs[vo]&&!(s=>{let i=!1;const e=s.child(0);for(let n=0;n<e.childCount;n++)if(e.child(n).attrs.colwidth){i=!0;break}return i})(s)){const n=Ez(s.attrs[vo]);if(n){const o=Array.from(n.children).map(r=>["col",Ro(r)]);e=["colgroup",Ro(n)].concat(o)}}return e?["table",i,e,["tbody",0]]:["table",i,["tbody",0]]},t1.table.parseDOM=[{tag:"table",getAttrs:s=>{const i=Ro(s),e=Array.from(s.childNodes).find(n=>"COLGROUP"===n.nodeName);return e&&(i[vo]=e.outerHTML),i}}];const yHt=Object.assign({doc:{content:"block+"},paragraph:{content:"inline*",group:"block",attrs:Object.assign({},kh()),parseDOM:[{tag:"p",getAttrs:Ro}],toDOM:s=>cu(s.attrs)?["p",Al(s.attrs),0]:["p",0]},table_wrapper:{content:"(table_caption_external | table)+",group:"block",defining:!0,attrs:{table:{default:null},style:{default:null}},parseDOM:[{tag:"div[table]",getAttrs:Ro}],toDOM:s=>cu(s.attrs)?["div",Al(s.attrs),0]:["div",0]},table_caption_external:{content:"inline+",group:"block",attrs:Object.assign({caption:{default:null}},kh()),parseDOM:[{tag:"div[caption]",getAttrs:Ro}],toDOM:s=>cu(s.attrs)?["div",Al(s.attrs),0]:["div",0]},div:{content:"block*",group:"block",attrs:Object.assign({},kh()),parseDOM:[{tag:"div",getAttrs:Ro}],toDOM:s=>cu(s.attrs)?["div",Al(s.attrs),0]:["div",0]},blockquote:{attrs:Object.assign({},kh()),content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote",getAttrs:Ro}],toDOM:s=>cu(s.attrs)?["blockquote",Al(s.attrs),0]:hHt},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>pHt},heading:{attrs:Object.assign(Object.assign({},kh()),{level:{default:1}}),content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs:s=>Object.assign(Object.assign({},Ro(s)),{level:1})},{tag:"h2",getAttrs:s=>Object.assign(Object.assign({},Ro(s)),{level:2})},{tag:"h3",getAttrs:s=>Object.assign(Object.assign({},Ro(s)),{level:3})},{tag:"h4",getAttrs:s=>Object.assign(Object.assign({},Ro(s)),{level:4})},{tag:"h5",getAttrs:s=>Object.assign(Object.assign({},Ro(s)),{level:5})},{tag:"h6",getAttrs:s=>Object.assign(Object.assign({},Ro(s)),{level:6})}],toDOM:s=>cu(s.attrs,"level")?["h"+s.attrs.level,Al(s.attrs,["level"]),0]:["h"+s.attrs.level,0]},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>fHt},text:{inline:!0,group:"inline"},image:{inline:!0,attrs:Object.assign({src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}},kh()),group:"inline",draggable:!0,parseDOM:[{tag:"img",getAttrs:Ro}],toDOM:s=>cu(s.attrs)?["img",Al(s.attrs)]:["img"]},hard_break:{inline:!0,attrs:Object.assign({},kh()),group:"inline",selectable:!1,parseDOM:[{tag:"br",getAttrs:Ro}],toDOM:s=>cu(s.attrs)?["br",Al(s.attrs)]:["br"]},ordered_list:{content:"list_item+",group:"block",attrs:Object.assign(Object.assign({},kh()),{type:{default:null},order:{default:1}}),parseDOM:[{tag:"ol",getAttrs:s=>Object.assign(Object.assign({},Ro(s)),{order:s.hasAttribute("start")?parseInt(s.getAttribute("start")||"1",10):1})}],toDOM:s=>1===s.attrs.order?cu(s.attrs,"order")?["ol",Al(s.attrs,["order"]),0]:mHt:["ol",Object.assign(Object.assign({},Al(s.attrs,["order"])),{start:s.attrs.order}),0]},bullet_list:{content:"list_item+",group:"block",attrs:Object.assign({},kh()),parseDOM:[{tag:"ul",getAttrs:Ro}],toDOM:s=>cu(s.attrs)?["ul",Al(s.attrs),0]:_Ht},list_item:{content:"(paragraph | heading) block*",attrs:Object.assign({},kh()),parseDOM:[{tag:"li",getAttrs:Ro}],toDOM:s=>cu(s.attrs)?["li",Al(s.attrs),0]:gHt,defining:!0}},t1);var rl=function(){};rl.prototype.append=function(i){return i.length?(i=rl.from(i),!this.length&&i||i.length<200&&this.leafAppend(i)||this.length<200&&i.leafPrepend(this)||this.appendInner(i)):this},rl.prototype.prepend=function(i){return i.length?rl.from(i).append(this):this},rl.prototype.appendInner=function(i){return new kHt(this,i)},rl.prototype.slice=function(i,e){return void 0===i&&(i=0),void 0===e&&(e=this.length),i>=e?rl.empty:this.sliceInner(Math.max(0,i),Math.min(this.length,e))},rl.prototype.get=function(i){if(!(i<0||i>=this.length))return this.getInner(i)},rl.prototype.forEach=function(i,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(i,e,n,0):this.forEachInvertedInner(i,e,n,0)},rl.prototype.map=function(i,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var o=[];return this.forEach(function(r,a){return o.push(i(r,a))},e,n),o},rl.from=function(i){return i instanceof rl?i:i&&i.length?new ZGe(i):rl.empty};var ZGe=function(s){function i(n){s.call(this),this.values=n}s&&(i.__proto__=s),(i.prototype=Object.create(s&&s.prototype)).constructor=i;var e={length:{configurable:!0},depth:{configurable:!0}};return i.prototype.flatten=function(){return this.values},i.prototype.sliceInner=function(o,r){return 0==o&&r==this.length?this:new i(this.values.slice(o,r))},i.prototype.getInner=function(o){return this.values[o]},i.prototype.forEachInner=function(o,r,a,l){for(var c=r;c<a;c++)if(!1===o(this.values[c],l+c))return!1},i.prototype.forEachInvertedInner=function(o,r,a,l){for(var c=r-1;c>=a;c--)if(!1===o(this.values[c],l+c))return!1},i.prototype.leafAppend=function(o){if(this.length+o.length<=200)return new i(this.values.concat(o.flatten()))},i.prototype.leafPrepend=function(o){if(this.length+o.length<=200)return new i(o.flatten().concat(this.values))},e.length.get=function(){return this.values.length},e.depth.get=function(){return 0},Object.defineProperties(i.prototype,e),i}(rl);rl.empty=new ZGe([]);var kHt=function(s){function i(e,n){s.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return s&&(i.__proto__=s),(i.prototype=Object.create(s&&s.prototype)).constructor=i,i.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},i.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},i.prototype.forEachInner=function(n,o,r,a){var l=this.left.length;if(o<l&&!1===this.left.forEachInner(n,o,Math.min(r,l),a)||r>l&&!1===this.right.forEachInner(n,Math.max(o-l,0),Math.min(this.length,r)-l,a+l))return!1},i.prototype.forEachInvertedInner=function(n,o,r,a){var l=this.left.length;if(o>l&&!1===this.right.forEachInvertedInner(n,o-l,Math.max(r,l)-l,a+l)||r<l&&!1===this.left.forEachInvertedInner(n,Math.min(o,l),r,a))return!1},i.prototype.sliceInner=function(n,o){if(0==n&&o==this.length)return this;var r=this.left.length;return o<=r?this.left.slice(n,o):n>=r?this.right.slice(n-r,o-r):this.left.slice(n,r).append(this.right.slice(0,o-r))},i.prototype.leafAppend=function(n){var o=this.right.leafAppend(n);if(o)return new i(this.left,o)},i.prototype.leafPrepend=function(n){var o=this.left.leafPrepend(n);if(o)return new i(o,this.right)},i.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new i(this.left,new i(this.right,n)):new i(this,n)},i}(rl);const ePe=rl;class Rp{constructor(i,e){this.items=i,this.eventCount=e}popEvent(i,e){if(0==this.eventCount)return null;let o,r,n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}e&&(o=this.remapping(n,this.items.length),r=o.maps.length);let l,c,a=i.tr,u=[],f=[];return this.items.forEach((_,g)=>{if(!_.step)return o||(o=this.remapping(n,g+1),r=o.maps.length),r--,void f.push(_);if(o){f.push(new Nm(_.map));let b,S=_.step.map(o.slice(r));S&&a.maybeStep(S).doc&&(b=a.mapping.maps[a.mapping.maps.length-1],u.push(new Nm(b,void 0,void 0,u.length+f.length))),r--,b&&o.appendMap(b,r)}else a.maybeStep(_.step);return _.selection?(l=o?_.selection.map(o.slice(r)):_.selection,c=new Rp(this.items.slice(0,n).append(f.reverse().concat(u)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:c,transform:a,selection:l}}addTransform(i,e,n,o){let r=[],a=this.eventCount,l=this.items,c=!o&&l.length?l.get(l.length-1):null;for(let f=0;f<i.steps.length;f++){let S,_=i.steps[f].invert(i.docs[f]),g=new Nm(i.mapping.maps[f],_,e);(S=c&&c.merge(g))&&(g=S,f?r.pop():l=l.slice(0,l.length-1)),r.push(g),e&&(a++,e=void 0),o||(c=g)}let u=a-n.depth;return u>OHt&&(l=function DHt(s,i){let e;return s.forEach((n,o)=>{if(n.selection&&0==i--)return e=o,!1}),s.slice(e)}(l,u),a-=u),new Rp(l.append(r),a)}remapping(i,e){let n=new CO;return this.items.forEach((o,r)=>{n.appendMap(o.map,null!=o.mirrorOffset&&r-o.mirrorOffset>=i?n.maps.length-o.mirrorOffset:void 0)},i,e),n}addMaps(i){return 0==this.eventCount?this:new Rp(this.items.append(i.map(e=>new Nm(e))),this.eventCount)}rebased(i,e){if(!this.eventCount)return this;let n=[],o=Math.max(0,this.items.length-e),r=i.mapping,a=i.steps.length,l=this.eventCount;this.items.forEach(g=>{g.selection&&l--},o);let c=e;this.items.forEach(g=>{let S=r.getMirror(--c);if(null==S)return;a=Math.min(a,S);let b=r.maps[S];if(g.step){let k=i.steps[S].invert(i.docs[S]),D=g.selection&&g.selection.map(r.slice(c+1,S));D&&l++,n.push(new Nm(b,k,D))}else n.push(new Nm(b))},o);let u=[];for(let g=e;g<a;g++)u.push(new Nm(r.maps[g]));let f=this.items.slice(0,o).append(u).append(n),_=new Rp(f,l);return _.emptyItemCount()>500&&(_=_.compress(this.items.length-n.length)),_}emptyItemCount(){let i=0;return this.items.forEach(e=>{e.step||i++}),i}compress(i=this.items.length){let e=this.remapping(0,i),n=e.maps.length,o=[],r=0;return this.items.forEach((a,l)=>{if(l>=i)o.push(a),a.selection&&r++;else if(a.step){let c=a.step.map(e.slice(n)),u=c&&c.getMap();if(n--,u&&e.appendMap(u,n),c){let f=a.selection&&a.selection.map(e.slice(n));f&&r++;let g,_=new Nm(u.invert(),c,f),S=o.length-1;(g=o.length&&o[S].merge(_))?o[S]=g:o.push(_)}}else a.map&&n--},this.items.length,0),new Rp(ePe.from(o.reverse()),r)}}Rp.empty=new Rp(ePe.empty,0);class Nm{constructor(i,e,n,o){this.map=i,this.step=e,this.selection=n,this.mirrorOffset=o}merge(i){if(this.step&&i.step&&!i.selection){let e=i.step.merge(this.step);if(e)return new Nm(e.getMap().invert(),e,this.selection)}}}class WS{constructor(i,e,n,o,r){this.done=i,this.undone=e,this.prevRanges=n,this.prevTime=o,this.prevComposition=r}}const OHt=20;function tPe(s){let i=[];return s.forEach((e,n,o,r)=>i.push(o,r)),i}function kle(s,i){if(!s)return null;let e=[];for(let n=0;n<s.length;n+=2){let o=i.map(s[n],1),r=i.map(s[n+1],-1);o<=r&&e.push(o,r)}return e}function nPe(s,i,e,n){let o=kz(i),r=Lm.get(i).spec.config,a=(n?s.undone:s.done).popEvent(i,o);if(!a)return;let l=a.selection.resolve(a.transform.doc),c=(n?s.done:s.undone).addTransform(a.transform,i.selection.getBookmark(),r,o),u=new WS(n?c:a.remaining,n?a.remaining:c,null,0,-1);e(a.transform.setSelection(l).setMeta(Lm,{redo:n,historyState:u}).scrollIntoView())}let wle=!1,iPe=null;function kz(s){let i=s.plugins;if(iPe!=i){wle=!1,iPe=i;for(let e=0;e<i.length;e++)if(i[e].spec.historyPreserveItems){wle=!0;break}}return wle}const Lm=new mc("history"),sPe=new mc("closeHistory");function IHt(s={}){return new lu({key:Lm,state:{init:()=>new WS(Rp.empty,Rp.empty,null,0,-1),apply:(i,e,n)=>function THt(s,i,e,n){let r,o=e.getMeta(Lm);if(o)return o.historyState;e.getMeta(sPe)&&(s=new WS(s.done,s.undone,null,0,-1));let a=e.getMeta("appendedTransaction");if(0==e.steps.length)return s;if(a&&a.getMeta(Lm))return a.getMeta(Lm).redo?new WS(s.done.addTransform(e,void 0,n,kz(i)),s.undone,tPe(e.mapping.maps[e.steps.length-1]),s.prevTime,s.prevComposition):new WS(s.done,s.undone.addTransform(e,void 0,n,kz(i)),null,s.prevTime,s.prevComposition);if(!1===e.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(r=e.getMeta("rebased"))?new WS(s.done.rebased(e,r),s.undone.rebased(e,r),kle(s.prevRanges,e.mapping),s.prevTime,s.prevComposition):new WS(s.done.addMaps(e.mapping.maps),s.undone.addMaps(e.mapping.maps),kle(s.prevRanges,e.mapping),s.prevTime,s.prevComposition);{let l=e.getMeta("composition"),c=0==s.prevTime||!a&&s.prevComposition!=l&&(s.prevTime<(e.time||0)-n.newGroupDelay||!function MHt(s,i){if(!i)return!1;if(!s.docChanged)return!0;let e=!1;return s.mapping.maps[0].forEach((n,o)=>{for(let r=0;r<i.length;r+=2)n<=i[r+1]&&o>=i[r]&&(e=!0)}),e}(e,s.prevRanges)),u=a?kle(s.prevRanges,e.mapping):tPe(e.mapping.maps[e.steps.length-1]);return new WS(s.done.addTransform(e,c?i.selection.getBookmark():void 0,n,kz(i)),Rp.empty,u,e.time,l??s.prevComposition)}}(e,n,i,s)},config:s={depth:s.depth||100,newGroupDelay:s.newGroupDelay||500},props:{handleDOMEvents:{beforeinput(i,e){let n=e.inputType,o="historyUndo"==n?wz:"historyRedo"==n?V4:null;return!!o&&(e.preventDefault(),o(i.state,i.dispatch))}}}})}const wz=(s,i)=>{let e=Lm.getState(s);return!(!e||0==e.done.eventCount||(i&&nPe(e,s,i,!1),0))},V4=(s,i)=>{let e=Lm.getState(s);return!(!e||0==e.undone.eventCount||(i&&nPe(e,s,i,!0),0))};class YS{constructor(i,e,n={}){this.match=i,this.match=i,this.handler="string"==typeof e?function xHt(s){return function(i,e,n,o){let r=s;if(e[1]){let a=e[0].lastIndexOf(e[1]);r+=e[0].slice(a+e[1].length);let l=(n+=a)-o;l>0&&(r=e[0].slice(a-l,a)+r,n=o)}return i.tr.insertText(r,n,o)}}(e):e,this.undoable=!1!==n.undoable}}const RHt=(s,i)=>{let e=s.plugins;for(let n=0;n<e.length;n++){let r,o=e[n];if(o.spec.isInputRules&&(r=o.getState(s))){if(i){let a=s.tr,l=r.transform;for(let c=l.steps.length-1;c>=0;c--)a.step(l.steps[c].invert(l.docs[c]));if(r.text){let c=a.doc.resolve(r.from).marks();a.replaceWith(r.from,r.to,s.schema.text(r.text,c))}else a.delete(r.from,r.to);i(a)}return!0}}return!1};new YS(/--$/,"\u2014"),new YS(/\.\.\.$/,"\u2026"),new YS(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201c"),new YS(/"$/,"\u201d"),new YS(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),new YS(/'$/,"\u2019");const Dle={mark:"strong",altMarks:["b"],altStyle:{name:"font-weight",value:/^(bold(er)?|[5-9]\d{2,})$/}},Ole={mark:"em",altMarks:["i"],altStyle:{name:"font-style",value:/^italic$/i}},Tle={mark:"u",altStyle:{name:"text-decoration",value:/^underline$/i}},rPe={mark:"del",altStyle:{name:"text-decoration",value:/^line-through$/i}},aPe={mark:"sub"},lPe={mark:"sup"},cPe={mark:"link"},FHt=typeof navigator<"u"&&/Mac/.test(navigator.platform),UHt=(s,i)=>{const e={},n=i&&i.applyToWord||!1;if(e["Mod-z"]=wz,e["Shift-Mod-z"]=V4,e.Backspace=LO(RHt,Rae,Z8e,tLe),e.Enter=LO(iLe,oLe,rLe,l9t),FHt||(e["Mod-y"]=V4),s.marks.strong&&(e["Mod-b"]=_c(Mp,Object.assign(Object.assign({},Dle),{applyToWord:n}))),s.marks.em&&(e["Mod-i"]=_c(Mp,Object.assign(Object.assign({},Ole),{applyToWord:n}))),s.marks.u&&(e["Mod-u"]=_c(Mp,Object.assign(Object.assign({},Tle),{applyToWord:n}))),s.nodes.hard_break){const o=s.nodes.hard_break,r=LO(sLe,(a,l)=>(l(a.tr.replaceSelectionWith(o.create()).scrollIntoView()),!0));e["Shift-Enter"]=r}return e},BHt=s=>{const i={};return s.nodes.list_item&&(i.Enter=(s=>(i,e)=>function n9t(s,i){return function(e,n){let{$from:o,$to:r,node:a}=e.selection;if(a&&a.isBlock||o.depth<2||!o.sameParent(r))return!1;let l=o.node(-1);if(l.type!=s)return!1;if(0==o.parent.content.size&&o.node(-1).childCount==o.indexAfter(-1)){if(3==o.depth||o.node(-3).type!=s||o.index(-2)!=o.node(-2).childCount-1)return!1;if(n){let _=Te.empty,g=o.index(-1)?1:o.index(-2)?2:3;for(let O=o.depth-g;O>=o.depth-3;O--)_=Te.from(o.node(O).copy(_));let S=o.indexAfter(-1)<o.node(-2).childCount?1:o.indexAfter(-2)<o.node(-3).childCount?2:3;_=_.append(Te.from(s.createAndFill()));let b=o.before(o.depth-(g-1)),k=e.tr.replace(b,o.after(-S),new tt(_,4-g,0)),D=-1;k.doc.nodesBetween(b,k.doc.content.size,(O,I)=>{if(D>-1)return!1;O.isTextblock&&0==O.content.size&&(D=I+1)}),D>-1&&k.setSelection(Hn.near(k.doc.resolve(D))),n(k.scrollIntoView())}return!0}let c=r.pos==o.end()?l.contentMatchAt(0).defaultType:null,u=e.tr.delete(o.pos,r.pos),f=c?[i?{type:s,attrs:i}:null,{type:c}]:void 0;return!!yO(u.doc,o.pos,2,f)&&(n&&n(u.split(o.pos,2,f).scrollIntoView()),!0)}}(s)(i,n=>{let o=i.storedMarks||i.selection.$to.parentOffset&&i.selection.$from.marks();o&&n.ensureMarks(o),e(n)}))(s.nodes.list_item)),i},VHt=/style=['"]?[^'"]*?mso-list:\s*[a-zA-Z]+(\d+)\s[a-zA-Z]+(\d+)\s(\w+)/gi,dPe=s=>/^MsoListParagraph/.test(s.className),Mle=s=>{let i=s.innerHTML;return i=i.replace(/<!--(.|\s)*?-->/gi,""),i=i.replace(/<\/?[^>]+?\/?>/gm,""),i},uPe=(s,i)=>{const e=document.createElement(s);return e.style.listStyleType=i,e},jHt=s=>/^[\u2022\u00b7\u00FC\u00D8\u002dv-]/.test(s)?null:/^o/.test(s)?"circle":"square",HHt=s=>{let i=null;return/^\d/.test(s)||(i=(/^[a-z]/.test(s)?"lower-":"upper-")+(/^[ivxlcdm]/i.test(s)?"roman":"alpha")),i},Ile=(s,i)=>{let e=[];Array.from(s).forEach(n=>{if(n.nodeType!==Node.ELEMENT_NODE)return;let o=n;o.getAttribute("datalist")?(e.push(n),i.add(e)):dPe(o)&&e.length?e.push(n):(e=[],"DIV"===o.nodeName?Ile(o.children,i):"TABLE"===o.nodeName&&Array.from(o.querySelectorAll("td,th")).forEach(r=>{Ile(r.children,i)}))})},$Ht=s=>{let i=s.innerHTML,e=n=>n.replace(/^(?:&nbsp;|[\u00a0\n\r\s])+/,"");return i=i.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g,"\xa0"),/^[\u2022\u00b7\u00a7\u00d8o\xd8\xfcvn][\u00a0 ]+/.test(i)?{tag:"ul",style:jHt(e(Mle(s)))}:/^\s*\w+[\.\)][\u00a0 ]{2,}/.test(i)?{tag:"ol",style:HHt(e(Mle(s)))}:void 0},XHt=s=>{let i,e=s.nodeName.toLowerCase();s.firstChild&&s.firstChild.nodeType===Node.COMMENT_NODE&&s.removeChild(s.firstChild),1===s.childNodes.length?i=s.firstChild.nodeType===Node.TEXT_NODE?Mle(s):s.firstChild.innerHTML.replace(/^\w+[\.\)](&nbsp;)+ /,""):(s.removeChild(s.firstChild),3===s.firstChild.nodeType&&/^[ivxlcdm]+\.$/i.test(s.firstChild.nodeValue)&&s.removeChild(s.firstChild),/^(&nbsp;|\s)+$/i.test(s.firstChild.innerHTML)&&s.removeChild(s.firstChild),i="p"!==e?"<"+e+">"+s.innerHTML+"</"+e+">":s.innerHTML),s.parentNode.removeChild(s);const n=document.createElement("li");return n.appendChild(T4(i)),n},Dz=s=>{s.ownerElement&&s.ownerElement.removeAttribute(s.name)},QHt=s=>{/^Mso/.test(s.value)&&Dz(s)},ZHt=/\s*;\s*/,e$t=/\s*:\s*/,t$t=s=>{const i=s.value.split(ZHt).filter(l=>!!l),n=s.ownerElement.style;let r,a,o="";i.forEach(l=>{[r,a]=l.split(e$t),void 0!==n[r]&&(o+=`${r}: ${a}; `)}),o=o.trim(),o?s.value=o:Dz(s)},s$t=(s,i)=>{let e=s;if(i.convertMsLists&&(e=(s=>{const i=T4((s=>s.replace(VHt,(i,e,n)=>`datalist="${e}" datalevel="${n}" ${i}`))(s)),e=new Set;return Ile(i.children,e),e.forEach(n=>(s=>{let n,o,r,a,l,c,u,f,_,g,S,b,k,i=-1,e={};for(f=0;f<s.length;f++){_=s[f],k={datalist:_.getAttribute("datalist"),datalevel:_.getAttribute("datalevel")};let D=k.datalist,O=$Ht(_);if(g=O&&O.tag,!g){n&&(!l||dPe(_))&&(_.style.marginLeft&&(_.style.marginLeft=""),_.style.marginLeft&&(_.style.margin=""),n.appendChild(_));continue}if(S=k.datalevel||parseFloat(_.style.marginLeft||0),!k.datalevel&&!_.style.marginLeft)continue;let I=g+D;e[S]||(e[S]={}),(!o||o<0)&&(o=S,r=D,u=s.filter(N=>N.getAttribute("datalist")===String(r)),a=u[u.length-1],c=uPe(g,O&&O.style),_.parentNode.insertBefore(c,_),i=S,e[S][I]=c),l=a===_,b=e[S][I],(S>i||!b)&&(b=uPe(g,O&&O.style),e[S][I]=b,n.appendChild(b)),n=XHt(_),b.appendChild(n),l?o=i=-1:i=S}})(n)),Tae(i)})(e)),i.stripTags&&(e=((s,i)=>s.replace(new RegExp("<\\/?("+i+")(?:\\s[^>]*?)?>","gi"),""))(e,i.stripTags)),i.attributes){const n=T4(e);Array.from(n.querySelectorAll("*")).forEach(o=>((s,i)=>{if(s.nodeType===Node.ELEMENT_NODE){for(let e=s.attributes.length-1;e>=0;e--){const n=s.attributes[e];i[n.name]?i[n.name](n):i["*"]&&i["*"](n)}"SPAN"===s.nodeName&&0===s.attributes.length&&(s=>{const i=s.parentNode;if(i){for(;s.firstChild;)i.insertBefore(s.firstChild,s);i.removeChild(s)}})(s)}})(o,i.attributes)),e=Tae(n)}return e};new RegExp("(?:("+/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/.source+"))([\\da-fA-F\\s]+)\\}","g");const mPe=(s,i)=>{for(let e in i)e&&sz(s,e,i[e])};class n1{constructor(i,e,n,o=!1){this.node=i,this.view=e,this.dom=document.createElement(n),mPe(this.dom,i.attrs),this.contentDOM=o?void 0:this.dom}}class u$t{constructor(i,e,n){this.mark=i,this.view=e,this.dom=document.createElement("span"),mPe(this.dom,i.attrs),this.contentDOM=this.dom}}new mc("highlight");const xle={southeast:{x:1,y:1},east:{x:1,y:0},south:{x:0,y:1},north:{x:0,y:-1},west:{x:-1,y:0},southwest:{x:-1,y:1},northwest:{x:-1,y:-1},northeast:{x:1,y:-1}},Oz=Object.keys(xle),Np=new mc("image-resize"),_Pe=(s,i,e)=>{s.style[i]=e+"px"},f$t=/[^\-]width:|[^\-]height:/,gPe=/^.+$/;class Ale{constructor(i,e,n,o){this.activeHandle=i,this.dragging=e,this.rect=n,this.nodePosition=o}apply(i){let n=i.getMeta(Np);return n?new Ale(n.activeHandle,n.setDragging,n.rect,n.nodePosition):this}}const v$t=(s={node:"image",lockRatio:!0})=>new lu({key:Np,view:i=>({resize(){Np.getState(i.state).rect&&i.dispatch(i.state.tr.setMeta("resize",!0))},get window(){return i.dom.ownerDocument&&i.dom.ownerDocument.defaultView},attachResize(){const e=this.window;e&&(e.removeEventListener("resize",this.resize),e.addEventListener("resize",this.resize))},removeResize(){const e=this.window;e&&e.removeEventListener("resize",this.resize)},update(e,n){const o=e.state,r=o.selection,a=o.schema.nodes[s.node],l=Np.getState(o),c=l.rect;if(r instanceof Xt&&a===r.node.type){const u=e.nodeDOM(r.from),f={top:u.offsetTop,left:u.offsetLeft,width:u.offsetWidth,height:u.offsetHeight};if(!n.selection.eq(r)||c&&(c.width!==f.width||c.height!==f.height||c.top!==f.top||c.left!==f.left)){const _=o.tr;_.setMeta(Np,{rect:f,nodePosition:r.from}),e.dispatch(_),this.attachResize()}}else c&&(l.rect=null,l.nodePosition=-1)},destroy(){this.removeResize()}}),state:{init:()=>new Ale("",null,null,-1),apply:(i,e)=>e.apply(i)},props:{handleDOMEvents:{mousedown:(i,e)=>((s,i,e)=>{const o=i.target.getAttribute(I8e);if(!o)return!1;const r=Np.getState(s.state);i.preventDefault();const a=s.state.tr;function l(u){((s,i,e)=>{const n=Np.getState(s.state),{rect:o,dragging:r,nodePosition:a,activeHandle:l}=n;if(!r||!o)return;const c=s.nodeDOM(a),u=xle[l];let g=u.x?(i.clientX-r.startX)*u.x+c.width:o.width,S=u.y?(i.clientY-r.startY)*u.y+c.height:o.height;if(e.lockRatio&&u.x&&u.y){let k=Math.min(g/c.width,S/c.height),D=c.width*k,O=c.height*k;r.startX=i.clientX-(g-D)*u.x,r.startY=i.clientY-(S-O)*u.y,g=D,S=O}else r.startX=u.x?i.clientX:r.startX,r.startY=u.y?i.clientY:r.startY;_Pe(c,"width",g),_Pe(c,"height",S),o.top=c.offsetTop,o.left=c.offsetLeft,o.width=c.offsetWidth,o.height=c.offsetHeight;const b=c.nextElementSibling;b.style.width=o.width+"px",b.style.height=o.height+"px",b.style.top=o.top+"px",b.style.left=o.left+"px"})(s,u,e)}return a.setMeta(Np,{setDragging:{startX:i.clientX,startY:i.clientY},activeHandle:o,rect:r.rect,nodePosition:r.nodePosition}),a.setMeta("addToHistory",!1),s.dispatch(a),i.view.addEventListener("mouseup",function c(u){u.view.removeEventListener("mouseup",c),u.view.removeEventListener("mousemove",l),(s=>{const{rect:i,dragging:e,nodePosition:n}=Np.getState(s.state);if(e&&i){const o=s.state.selection;if(o instanceof Xt){const r=o.node.attrs,a=i.width,l=i.height;let c;if(f$t.test(r.style||"")){const f=OO(r.style,{style:"width",value:gPe,newValue:a+"px"}),{style:_}=OO(f.style||"",{style:"height",value:gPe,newValue:l+"px"});c=Object.assign(Object.assign({},r),{style:_})}else c=Object.assign(Object.assign({},r),{width:a,height:l});const u=o.node.type.createAndFill(c);if(u){const f=s.state.tr;f.replaceWith(n,n+1,u),f.setSelection(Xt.create(f.doc,n)),f.setMeta("commandName","image-resize"),f.setMeta("args",c),f.setMeta(Np,{setDragging:null,activeHandle:null,rect:i,nodePosition:n}),s.dispatch(f)}}}})(s)}),i.view.addEventListener("mousemove",l),!0})(i,e,s)},decorations(i){const e=i.selection,n=i.schema.nodes[s.node],o=Np.getState(i).rect;if(o&&e instanceof Xt&&n===e.node.type){const r=document.createElement("div");r.className="k-editor-resize-handles-wrapper",r.style.width=o.width+"px",r.style.height=o.height+"px",r.style.top=o.top+"px",r.style.left=o.left+"px";for(let a=0;a<Oz.length;a++){let l=document.createElement("div");l.className=Eae+" "+Oz[a],l.setAttribute(I8e,Oz[a]),r.appendChild(l)}return is.create(i.doc,[Aa.widget(i.selection.from+1,r)])}return is.empty}}}),S$t=new mc("caret-color");class b$t{constructor(i,e){this.node=i,this.view=e,this.dom=document.createElement("div"),this.dom.className="k-editor-resize-wrap-element",this.table=this.dom.appendChild(document.createElement("table")),i.attrs[vo]&&this.renderColgroup(i.attrs[vo]);const n=this.table.appendChild(document.createElement("tbody"));this.setAttributes(this.table,i.attrs),this.resizeHandles=Oz.map(o=>{const r=document.createElement("span");return r.className=Eae+" "+o,r.setAttribute(M8e,o),r}),this.contentDOM=n}update(i){if(i.type!==this.node.type)return!1;const e=this.node;return this.node=i,i.attrs[Mm]?this.resizeHandles.forEach(n=>{this.dom.appendChild(n)}):Array.from(this.dom.children).filter(n=>n.classList.contains(Eae)).forEach(n=>n.remove()),this.setAttributes(this.table,i.attrs),e.attrs[vo]!==i.attrs[vo]&&this.renderColgroup(i.attrs[vo]),!0}ignoreMutation(i){return"attributes"===i.type&&(i.target===this.table||i.target.firstChild===this.table||this.colgroup&&this.colgroup.contains(i.target))}destroy(){this.node=void 0,this.view=void 0,this.table=void 0,this.colgroup=void 0,this.resizeHandles=void 0}renderColgroup(i){this.table&&this.table.firstChild&&"COLGROUP"===this.table.firstChild.nodeName&&this.table.removeChild(this.table.firstChild),i&&(this.colgroup=Ez(i),this.table.insertBefore(this.colgroup,this.table.firstChild))}setAttributes(i,e){const n=[vo,Mm];for(let o in e)o&&-1===n.indexOf(o)&&sz(i,o,e[o]);/%$/.test(i.style.width)?(this.dom.style.width=i.style.width,i.style.width=""):this.dom.style.width=""}}class E$t{constructor(i,e){this.node=i,this.view=e,this.dom=document.createElement("div"),this.setAttributes(this.dom,i.attrs),this.contentDOM=this.dom}update(i){return i.type===this.node.type&&(this.node=i,this.setAttributes(this.dom,i.attrs),!0)}ignoreMutation(i){return"attributes"===i.type&&"style"===i.attributeName}destroy(){this.node=void 0,this.view=void 0}setAttributes(i,e){for(let n in e)n&&sz(i,n,e[n]);if(i.setAttribute("table",""),/%/.test(i.style.width)){const n=this.node&&this.node.lastChild,r=(n?Ch(n.attrs.style):{}).width||"";r&&!/%/.test(r)&&(i.style.width="")}}}const pd=new mc("table-resize"),wr=new mc("table-column-resizing"),Dr=new mc("table-row-resizing");function Tz(s,i){let e=!1;return e=e||s!==pd&&!!pd.get(i)&&pd.getState(i).dragging,e=e||s!==wr&&!!wr.get(i)&&wr.getState(i).dragging,e=e||s!==Dr&&!!Dr.get(i)&&Dr.getState(i).dragging,e}function vPe(s,i){let e=!1;return e=e||s!==wr&&!!wr.get(i)&&wr.getState(i).activeHandle>-1,e=e||s!==Dr&&!!Dr.get(i)&&Dr.getState(i).activeHandle>-1,e}function Mz(s){return s&&s.firstChild&&"TABLE"===s.firstChild.nodeName?s.firstChild:s}function SPe(s){for(;s&&"TD"!==s.nodeName&&"TH"!==s.nodeName;)s=s.classList.contains("ProseMirror")?null:s.parentNode;return s}function CPe(s){const i=function y$t(s){const i=Array.from(s&&s.rows||[]),e=Array.from(i&&i[0]&&i[0].cells||[]).map(o=>o.colSpan).reduce((o,r)=>o+r,0),n=i.map(()=>new Array(e));return i.forEach((o,r)=>{let a=0;Array.from(o.cells).forEach(l=>{for(let c=0;c<l.colSpan;c++){for(let u=0;u<l.rowSpan;u++){const f=n[r+u].findIndex((_,g)=>g>=a&&!_);n[r+u][f]=l}a++}})}),n}(s.closest("table"));let e=null;for(let n=0;n<i.length&&(i[n].forEach((r,a)=>{s===r&&(e={rowIndex:n,cellIndex:a})}),!e);n++);return e||{rowIndex:-1,cellIndex:-1}}function Iz(s,i,e){const n=s.posAtCoords({left:i.clientX,top:i.clientY});if(!n)return-1;const o=s.state.doc.resolve(n.pos),r=yae(o,f=>"table"===f.type.spec.tableRole);if(null===r)return-1;const a=o.start(r.depth),c=Gs.get(r.node);return a+c.map[c.width*e.rowIndex+e.cellIndex]}class z4{constructor(i,e){this.activeHandle=i,this.dragging=e}apply(i){let e=this,n=i.getMeta(wr);if(n&&null!=n.setHandle)return new z4(n.setHandle,null);if(n&&void 0!==n.setDragging)return new z4(e.activeHandle,n.setDragging);if(e.activeHandle>-1&&i.docChanged){let o=i.mapping.map(e.activeHandle,-1);(function w$t(s){return!("row"!==s.parent.type.spec.tableRole||!s.nodeAfter)})(i.doc.resolve(o))||(o=-1),e=new z4(o,e.dragging)}return e}}function bPe(s,i,e){return Math.max(e,s.startWidth+(i.clientX-s.startX))}function EPe(s,i){const e=s.state.tr;e.setMeta("addToHistory",!1),e.setMeta(wr,{setHandle:i}),s.dispatch(e)}const yPe={southeast:!0,southwest:!0,northwest:!0,northeast:!0},kPe=Object.assign({east:!0,west:!0},yPe),wPe=Object.assign({south:!0,north:!0},yPe);class Rle{constructor(i,e,n){this.activeHandle=i,this.dragging=e,this.nodePosition=n}apply(i){let n=i.getMeta(pd);return n?new Rle(n.activeHandle,n.setDragging,n.nodePosition):this}}const DPe=s=>{const e=Array.from(s.firstChild.children).map(c=>c.offsetWidth),n=Array.from(s.rows).map(c=>c.offsetHeight);return{width:e.reduce((c,u)=>c+u,0),height:n.reduce((c,u)=>c+u,0),colsWidth:e,rowsHeight:n,offsetWidth:s.offsetWidth,offsetHeight:s.offsetHeight}},G$t=(s,i)=>{const n=i.target.getAttribute(M8e);if(!n)return!1;const o=pd.getState(s.state);i.preventDefault();const r=s.state.tr;r.setMeta(pd,{setDragging:{startX:i.clientX,startY:i.clientY},activeHandle:n,nodePosition:o.nodePosition}),r.setMeta("addToHistory",!1),((s,i,e)=>{const n=s.state.doc.nodeAt(e),o=Mz(s.nodeDOM(e)),{width:r,height:a,colsWidth:l,rowsHeight:c,offsetWidth:u,offsetHeight:f}=DPe(o),_=o.firstChild,g=Array.from(_&&_.children||[]);let S=!1;g.forEach((D,O)=>{D.style.width&&!/%$/.test(D.style.width)&&(D.style.width=100*l[O]/r+"%",S=!0)});let b=!1;n.forEach((D,O,I)=>{const N=Ch(D.attrs.style).height;N&&!/%$/.test(N)&&(i.setNodeMarkup(e+O+1,null,Tp(D.attrs,"height",100*c[I]/a+"%")),b=!0)});let k=n.attrs;Ch(k.style).width!==u+"px"&&(k=Tp(k,"width",u+"px")),S&&(k[vo]=_.outerHTML),b&&(k=Tp(k,"height",f+"px")),(S||b)&&i.setNodeMarkup(e,null,k)})(s,r,o.nodePosition),s.dispatch(r);const a=i.view||window;function l(u){((s,i)=>{var e;const n=pd.getState(s.state),{dragging:o,nodePosition:r,activeHandle:a}=n;if(r<0||!o)return;let l=Mz(s.nodeDOM(r));const c=l.getBoundingClientRect(),u=xle[a],f=(i.clientX-o.startX)*u.x,_=(i.clientY-o.startY)*u.y,S=(l.ownerDocument&&l.ownerDocument.defaultView||window).getComputedStyle(l),b=/px/.test(S.width)?parseFloat(S.width):l.offsetWidth,k=/px/.test(S.height)?parseFloat(S.height):l.offsetHeight,D=u.x?f+b:c.width,O=u.y?_+k:c.height;if(o.startX=u.x?i.clientX:o.startX,o.startY=u.y?i.clientY:o.startY,kPe[a]&&(l.style.width=D+"px"),wPe[a]&&(l.style.height=O+"px"),/px/.test(l.style.width)){const I=null===(e=l.parentNode)||void 0===e?void 0:e.parentNode;I instanceof HTMLDivElement&&I.matches("div[table]")&&/%/.test(I.style.width)&&(I.style.width="")}})(s,u)}return a.addEventListener("mouseup",function c(u){a.removeEventListener("mouseup",c),a.removeEventListener("mousemove",l),(s=>{const{dragging:i,nodePosition:e,activeHandle:n}=pd.getState(s.state);if(i){const o=s.state.doc.nodeAt(e),r=Mz(s.nodeDOM(e)),a=DPe(r);if(o){const l=a.offsetWidth+"px",c=a.offsetHeight+"px",u=s.state.tr;let f=o.attrs;const _=Ch(f.style);if(kPe[n]&&r.style.width&&_.width!==l&&(f=Tp(f,"width",l)),wPe[n]&&r.style.height&&_.height!==c&&(f=Tp(f,"height",c)),f=((s,i,e,n)=>{const o=s.state.doc.nodeAt(e),r=Mz(s.nodeDOM(e)),l=(r.ownerDocument&&r.ownerDocument.defaultView||window).getComputedStyle,c=Array.from(r.rows);o.forEach((S,b,k)=>{const D=Ch(S.attrs.style).height;D&&!/px$/.test(D)&&i.setNodeMarkup(e+b+1,null,Tp(S.attrs,"height",l(c[k]).height))});const u=r.firstChild,f=Array.from(u&&u.children||[]);let _=!1;f.forEach((S,b)=>{S.style.width&&!/px$/.test(S.style.width)&&(S.style.width=l(f[b]).width,_=!0)});let g=Object.assign({},n);return _&&(g[vo]=u.outerHTML),g})(s,u,e,f),u.setNodeMarkup(e,null,f),u.setMeta("commandName","node-resize"),u.setMeta("args",f),u.setMeta(pd,{setDragging:null,activeHandle:null,nodePosition:e}),!/%/.test(Ch(f.style).width||"")){const g=u.doc.resolve(e),S=yae(g,b=>"table_wrapper"===b.type.name);if(S&&/%/.test(Ch(S.node.attrs.style).width||"")){const b=Tp(S.node.attrs,"width",""),k=g.start(S.depth)-1;u.setNodeMarkup(k,null,b)}}s.dispatch(u)}}})(s)}),a.addEventListener("mousemove",l),!0},P$t=(s={node:"table"})=>new lu({key:pd,view:i=>({selectedNode(e,n){const o=e.selection;if(o instanceof Xt&&n===o.node.type&&o instanceof Xt)return{node:o.node,pos:o.from};const a=yae(o.$from,c=>c.type===n),l=a&&a.node;return l?{node:l,pos:o.$from.start(a.depth)-1}:null},update(e,n){const o=e.state,r=o.schema.nodes[s.node],a=this.selectedNode(o,r),l=this.selectedNode(n,r);if((a||!l||n.doc.eq(e.state.doc))&&(a||l)){const c=o.tr;if(c.setMeta("addToHistory",!1),a&&l&&a.pos!==l.pos){c.setMeta(pd,{nodePosition:a.pos});const u=c.doc.nodeAt(l.pos);u&&u.type.name===r.name&&c.setNodeMarkup(l.pos,r,Object.assign(Object.assign({},l.node.attrs),{[Mm]:!1})),c.setNodeMarkup(a.pos,r,Object.assign(Object.assign({},a.node.attrs),{[Mm]:!0})),e.dispatch(c)}else a&&l&&a.pos===l.pos&&!a.node.attrs[Mm]&&!o.selection.eq(n.selection)?(c.setMeta(pd,{nodePosition:a.pos}),e.dispatch(c.setNodeMarkup(a.pos,r,Object.assign(Object.assign({},a.node.attrs),{[Mm]:!0})))):a&&!l?(c.setMeta(pd,{nodePosition:a.pos}),e.dispatch(c.setNodeMarkup(a.pos,r,Object.assign(Object.assign({},a.node.attrs),{[Mm]:!0})))):!a&&l&&(c.setMeta(pd,{nodePosition:-1}),e.dispatch(c.setNodeMarkup(l.pos,r,Object.assign(Object.assign({},l.node.attrs),{[Mm]:!1}))))}}}),state:{init:()=>new Rle("",null,-1),apply:(i,e)=>e.apply(i)},props:{handleDOMEvents:{mousedown:(i,e)=>G$t(i,e)}}});class F$t{ignoreMutation(i){return"attributes"===i.type&&"style"===i.attributeName&&"TR"===i.target.nodeName}}class j4{constructor(i,e){this.activeHandle=i,this.dragging=e}apply(i){let e=this,n=i.getMeta(Dr);if(n&&null!=n.setHandle)return new j4(n.setHandle,null);if(n&&void 0!==n.setDragging)return new j4(e.activeHandle,n.setDragging);if(e.activeHandle>-1){let o=i.mapping.map(e.activeHandle,-1);(function B$t(s){return"row"===s.parent.type.spec.tableRole&&s.nodeAfter})(i.doc.resolve(o))||(o=null),e=new j4(o,e.dragging)}return e}}function OPe(s,i){const e=s.state.tr;e.setMeta("addToHistory",!1),e.setMeta(Dr,{setHandle:i}),s.dispatch(e)}class ur extends Hn{constructor(i){super(i,i)}map(i,e){let n=i.resolve(e.map(this.head));return ur.valid(n)?new ur(n):Hn.near(n)}content(){return tt.empty}eq(i){return i instanceof ur&&i.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(i,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new ur(i.resolve(e.pos))}getBookmark(){return new Nle(this.anchor)}static valid(i){let e=i.parent;if(e.isTextblock||!function Q$t(s){for(let i=s.depth;i>=0;i--){let e=s.index(i),n=s.node(i);if(0!=e)for(let o=n.child(e-1);;o=o.lastChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}else if(n.type.spec.isolating)return!0}return!0}(i)||!function Z$t(s){for(let i=s.depth;i>=0;i--){let e=s.indexAfter(i),n=s.node(i);if(e!=n.childCount)for(let o=n.child(e);;o=o.firstChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}else if(n.type.spec.isolating)return!0}return!0}(i))return!1;let n=e.type.spec.allowGapCursor;if(null!=n)return n;let o=e.contentMatchAt(i.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(i,e,n=!1){e:for(;;){if(!n&&ur.valid(i))return i;let o=i.pos,r=null;for(let a=i.depth;;a--){let l=i.node(a);if(e>0?i.indexAfter(a)<l.childCount:i.index(a)>0){r=l.child(e>0?i.indexAfter(a):i.index(a)-1);break}if(0==a)return null;o+=e;let c=i.doc.resolve(o);if(ur.valid(c))return c}for(;;){let a=e>0?r.firstChild:r.lastChild;if(!a){if(r.isAtom&&!r.isText&&!Xt.isSelectable(r)){i=i.doc.resolve(o+r.nodeSize*e),n=!1;continue e}break}r=a,o+=e;let l=i.doc.resolve(o);if(ur.valid(l))return l}return null}}}ur.prototype.visible=!1,ur.findFrom=ur.findGapCursorFrom,Hn.jsonID("gapcursor",ur);class Nle{constructor(i){this.pos=i}map(i){return new Nle(i.map(this.pos))}resolve(i){let e=i.resolve(this.pos);return ur.valid(e)?new ur(e):Hn.near(e)}}const tXt=mle({ArrowLeft:xz("horiz",-1),ArrowRight:xz("horiz",1),ArrowUp:xz("vert",-1),ArrowDown:xz("vert",1)});function xz(s,i){const e="vert"==s?i>0?"down":"up":i>0?"right":"left";return function(n,o,r){let a=n.selection,l=i>0?a.$to:a.$from,c=a.empty;if(a instanceof si){if(!r.endOfTextblock(e)||0==l.depth)return!1;c=!1,l=n.doc.resolve(i>0?l.after():l.before())}let u=ur.findGapCursorFrom(l,i,c);return!!u&&(o&&o(n.tr.setSelection(new ur(u))),!0)}}function nXt(s,i,e){if(!s||!s.editable)return!1;let n=s.state.doc.resolve(i);if(!ur.valid(n))return!1;let o=s.posAtCoords({left:e.clientX,top:e.clientY});return!(o&&o.inside>-1&&Xt.isSelectable(s.state.doc.nodeAt(o.inside))||(s.dispatch(s.state.tr.setSelection(new ur(n))),0))}function iXt(s,i){if("insertCompositionText"!=i.inputType||!(s.state.selection instanceof ur))return!1;let{$from:e}=s.state.selection,n=e.parent.contentMatchAt(e.index()).findWrapping(s.state.schema.nodes.text);if(!n)return!1;let o=Te.empty;for(let a=n.length-1;a>=0;a--)o=Te.from(n[a].createAndFill(null,o));let r=s.state.tr.replace(e.pos,e.pos,new tt(o,0,0));return r.setSelection(si.near(r.doc.resolve(e.pos+1))),s.dispatch(r),!1}function sXt(s){if(!(s.selection instanceof ur))return null;let i=document.createElement("div");return i.className="ProseMirror-gapcursor",is.create(s.doc,[Aa.widget(s.selection.head,i,{key:"gapcursor"})])}const Az=/^table$/,MPe=/^table_row$/,rXt=/^table_cell|table_header$/,rE=(s,i)=>{const e=s.$head;for(let n=e.depth;n>0;n--){const o=e.node(n);if(i.test(o.type.name))return{pos:e.before(n),node:o}}return null},IPe=(s,i)=>function sHt(s,i){if(!Ap(s))return!1;if(i){const e=Rm(s);i(XGe(s.tr,e,e.top))}return!0}(s,i&&(n=>{const o=rE(n.selection,MPe),r=rE(n.selection,Az);if(o&&r&&o.node.attrs[Tm]){let a=0;for(let u=0;u<r.node.nodeSize;u++)if(r.node.child(u).eq(o.node)){a=u;break}const l=r.node.child(a-1);n.setNodeMarkup(o.pos-l.nodeSize,void 0,{[Tm]:o.node.attrs[Tm]})}return i(n)})),xPe=(s,i)=>function oHt(s,i){if(!Ap(s))return!1;if(i){const e=Rm(s);i(XGe(s.tr,e,e.bottom))}return!0}(s,i&&(n=>{const o=rE(n.selection,MPe);return o&&o.node.attrs[Tm]&&n.setNodeMarkup(o.pos+o.node.nodeSize,void 0,{[Tm]:o.node.attrs[Tm]}),i(n)})),APe=(s,i)=>{if(!s)return-1;const e=Gs.get(s.node),n=rE(i,rXt),o=e.map.indexOf(n.pos-s.pos-1);let r=-1;return-1!==o&&(r=o%e.width),r},RPe=(s,i,e)=>{const n=APe(i,s.selection),o=Ez(i.node.attrs[vo]);o.insertBefore(o.ownerDocument.createElement("col"),o.children[n+e]),s.setNodeMarkup(i.pos,null,Object.assign(Object.assign({},i.node.attrs),{[vo]:o.outerHTML}))},NPe=(s,i)=>function Zjt(s,i){if(!Ap(s))return!1;if(i){const e=Rm(s);i($Ge(s.tr,e,e.left))}return!0}(s,i&&(n=>{const o=rE(n.selection,Az);return o.node.attrs[vo]&&RPe(n,o,-1),i(n)})),LPe=(s,i)=>function eHt(s,i){if(!Ap(s))return!1;if(i){const e=Rm(s);i($Ge(s.tr,e,e.right))}return!0}(s,i&&(n=>{const o=rE(n.selection,Az);return o.node.attrs[vo]&&RPe(n,o,1),i(n)})),GPe=(s,i)=>{const e=rE(s.selection,Az),n=e&&e.node.attrs[vo],o=APe(e,s.selection);return function nHt(s,i){if(!Ap(s))return!1;if(i){const e=Rm(s),n=s.tr;if(0==e.left&&e.right==e.map.width)return!1;for(let o=e.right-1;tHt(n,e,o),o!=e.left;o--){const r=e.tableStart?n.doc.nodeAt(e.tableStart-1):n.doc;if(!r)throw RangeError("No table found");e.table=r,e.map=Gs.get(r)}i(n)}return!0}(s,i&&(a=>{if(!n)return i(a);const l=a.doc.nodeAt(e.pos);return((s,i,e)=>{const n=Ez(i.node.attrs[vo]);n.removeChild(n.children[e]),s.setNodeMarkup(i.pos,null,Object.assign(Object.assign({},i.node.attrs),{[vo]:n.outerHTML}))})(a,{node:l,pos:e.pos},o),i(a)}))},lXt=["textarea"],cXt=["srcInput"],dXt=["hrefInput"];function uXt(s,i){if(1&s&&(t.qex(0),t.j41(1,"kendo-formfield"),t.qex(2),t.j41(3,"span",13),t.nrm(4,"input",14),t.k0s(),t.j41(5,"label",15),t.EFF(6),t.k0s(),t.bVm(),t.k0s(),t.bVm()),2&s){const e=t.XpG();t.R7$(5),t.Y8G("labelClass",!1),t.R7$(),t.JRh(e.textForWithPrefix("OpenInNewWindow"))}}const Lp=["element"];function hXt(s,i){if(1&s&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit;t.Aen("display: block; font-size: 2em; margin-left: 0; font-weight: bold;"),t.R7$(),t.SpI(" ",e.text," ")}}function pXt(s,i){if(1&s&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit;t.Aen("display: block; font-size: 1.5em; margin-left: 0; font-weight: bold;"),t.R7$(),t.SpI(" ",e.text," ")}}function fXt(s,i){if(1&s&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit;t.Aen("display: block; font-size: 1.17em; margin-left: 0; font-weight: bold;"),t.R7$(),t.SpI(" ",e.text," ")}}function mXt(s,i){if(1&s&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit;t.Aen("display: block; font-size: 1em; margin-left: 0; font-weight: bold;"),t.R7$(),t.SpI(" ",e.text," ")}}function _Xt(s,i){if(1&s&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit;t.Aen("display: block; font-size: .83em; margin-left: 0; font-weight: bold;"),t.R7$(),t.SpI(" ",e.text," ")}}function gXt(s,i){if(1&s&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit;t.Aen("display: block; font-size: .67em; margin-left: 0; font-weight: bold;"),t.R7$(),t.SpI(" ",e.text," ")}}function vXt(s,i){if(1&s&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit;t.Aen("display: block; margin-left: 0;"),t.R7$(),t.SpI(" ",e.text," ")}}function SXt(s,i){if(1&s&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.JRh(e.text)}}function CXt(s,i){1&s&&(t.qex(0,3),t.DNE(1,hXt,2,3,"span",4)(2,pXt,2,3,"span",4)(3,fXt,2,3,"span",4)(4,mXt,2,3,"span",4)(5,_Xt,2,3,"span",4)(6,gXt,2,3,"span",4)(7,vXt,2,3,"span",4)(8,SXt,2,1,"span",5),t.bVm()),2&s&&(t.Y8G("ngSwitch",i.$implicit.tag),t.R7$(),t.Y8G("ngSwitchCase","h1"),t.R7$(),t.Y8G("ngSwitchCase","h2"),t.R7$(),t.Y8G("ngSwitchCase","h3"),t.R7$(),t.Y8G("ngSwitchCase","h4"),t.R7$(),t.Y8G("ngSwitchCase","h5"),t.R7$(),t.Y8G("ngSwitchCase","h6"),t.R7$(),t.Y8G("ngSwitchCase","p"))}const PPe=["formatDropDownList"],H4=["toolbarTemplate"],$4=["popupTemplate"],bXt=["formatButton"],EXt=["kendoEditorFormat",""];function yXt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-editor-format-dropdownlist",4,2),t.mxI("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.value,o)||(r.value=o),t.Njj(o)}),t.bIt("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onValueChange(o))}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("defaultItem",e.defaultItem)("data",e.data),t.R50("value",e.value),t.Y8G("itemDisabled",e.itemDisabled)("title",e.title)("disabled",e.disabled)("tabindex",e.tabindex)}}function kXt(s,i){if(1&s&&(t.j41(0,"span",9),t.EFF(1),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.JRh(e.title)}}function wXt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",5,3),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.openDialog())}),t.j41(2,"span",6),t.nrm(3,"kendo-icon-wrapper",7),t.DNE(4,kXt,2,1,"span",8),t.k0s()()}if(2&s){const e=t.XpG();t.AVh("k-disabled",e.disabled),t.Y8G("tabindex",e.tabindex),t.R7$(3),t.Y8G("svgIcon",e.applyFormatSVGIcon),t.R7$(),t.Y8G("ngIf",e.title)}}const DXt=["dialogsContainer"],OXt=["content"],FPe=["defaultToolbar"],TXt=[[["kendo-toolbar"]]],MXt=["kendo-toolbar"];function IXt(s,i){if(1&s&&(t.j41(0,"kendo-toolbar",7,1)(2,"kendo-toolbar-buttongroup"),t.nrm(3,"kendo-toolbar-button",8)(4,"kendo-toolbar-button",9)(5,"kendo-toolbar-button",10),t.k0s(),t.nrm(6,"kendo-toolbar-dropdownlist",11),t.j41(7,"kendo-toolbar-buttongroup"),t.nrm(8,"kendo-toolbar-button",12)(9,"kendo-toolbar-button",13)(10,"kendo-toolbar-button",14)(11,"kendo-toolbar-button",15),t.k0s(),t.j41(12,"kendo-toolbar-buttongroup"),t.nrm(13,"kendo-toolbar-button",16)(14,"kendo-toolbar-button",17)(15,"kendo-toolbar-button",18)(16,"kendo-toolbar-button",19),t.k0s(),t.j41(17,"kendo-toolbar-buttongroup"),t.nrm(18,"kendo-toolbar-button",20)(19,"kendo-toolbar-button",21),t.k0s(),t.nrm(20,"kendo-toolbar-button",22),t.k0s()),2&s){const e=t.XpG();t.Y8G("overflow",!0)("tabindex",e.readonly?-1:0)}}function xXt(s,i){if(1&s&&t.nrm(0,"div",23,2),2&s){const e=t.XpG();t.BMQ("dir",e.direction)}}function AXt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",23)(1,"iframe",24,2),t.bIt("load",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.iframeOnLoad())}),t.k0s()()}2&s&&(t.R7$(),t.xc7("width",100,"%")("height",100,"%")("display","block"))}function RXt(s,i){1&s&&t.nrm(0,"div",25)}const Lle=["colorpicker"],FXt=["fontSizeDropDownList"],UXt=["fontSizeButton"],BXt=["kendoEditorFontSize",""];function VXt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-editor-fontsize-dropdownlist",4,2),t.mxI("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.value,o)||(r.value=o),t.Njj(o)}),t.bIt("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onValueChange(o))}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("defaultItem",e.defaultItem)("data",e.data),t.R50("value",e.value),t.Y8G("itemDisabled",e.itemDisabled)("title",e.title)("disabled",e.disabled)("tabindex",e.tabindex)}}function zXt(s,i){if(1&s&&(t.j41(0,"span",9),t.EFF(1),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.JRh(e.title)}}function jXt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",5,3),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.openDialog())}),t.j41(2,"span",6),t.nrm(3,"kendo-icon-wrapper",7),t.DNE(4,zXt,2,1,"span",8),t.k0s()()}if(2&s){const e=t.XpG();t.AVh("k-disabled",e.disabled),t.Y8G("tabindex",e.tabindex),t.R7$(3),t.Y8G("svgIcon",e.fontSizeSVGIcon),t.R7$(),t.Y8G("ngIf",e.title)}}const KXt=["colorPickerButton"];function JXt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-colorpicker",4,2),t.bIt("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleValueChange(o))})("clearButtonClick",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.handleClearButtonClick())})("activeColorClick",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.handleActiveColorClick(o))})("open",function(){t.eBV(e);const o=t.sdS(1),r=t.XpG();return t.Njj(r.onOpen(o))})("close",function(){t.eBV(e);const o=t.sdS(1),r=t.XpG();return t.Njj(r.onClose(o))})("activeViewChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onActiveViewChange(o))}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("icon",e.icon)("svgIcon",e.svgIcon)("views",e.views)("format","hex")("value",e.value)("paletteSettings",e.paletteSettings)("disabled",e.disabled)("tabindex",e.tabindex),t.BMQ("title",e.title)}}function qXt(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",9),2&s){const e=t.XpG(2);t.Y8G("name",e.icon)("svgIcon",e.svgIcon)}}function QXt(s,i){if(1&s&&(t.j41(0,"span",10),t.EFF(1),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.JRh(e.title)}}function ZXt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",5,3),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.openDialog())}),t.j41(2,"span",6),t.DNE(3,qXt,1,2,"kendo-icon-wrapper",7)(4,QXt,2,1,"span",8),t.k0s()()}if(2&s){const e=t.XpG();t.AVh("k-disabled",e.disabled),t.Y8G("tabindex",e.tabindex),t.R7$(3),t.Y8G("ngIf",e.icon),t.R7$(),t.Y8G("ngIf",e.title)}}const rWt={name:"@progress/kendo-angular-editor",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925378,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},lWt=(s,i)=>{const e={};for(const n in s)n&&null!==s[n]&&n!==i&&(e[n]=s[n]);return e},cWt=s=>{const i={},e=s.attributes;for(let n=0;n<e.length;n++){const o=e[n];i[o.name]=o.value}return i},uWt=(s=[])=>({...s.reduce((i,e)=>({...i,[e]:{default:null}}),{})}),aE=s=>i=>i.type.name===s,hWt=(aE("table"),aE("table_body"),aE("table_head"),aE("table_foot"),aE("table_row"),aE("table_cell"),aE("table_header"),s=>({content:"block*",group:"block",attrs:{...{...uWt(["class","id","style"])}},parseDOM:[{tag:s,getAttrs:cWt}],toDOM:i=>((s,i)=>{for(const e in s)if(e&&null!==s[e]&&undefined!==e)return!0;return!1})(i.attrs)?[s,lWt(i.attrs),0]:[s,0]})),pWt=["article","main","nav","header","footer","aside","section"].reduce((s,i)=>Object.assign(s,{[i]:hWt(i)}),{}),fWt=vHt,mWt=Object.assign(yHt,pWt),_Wt=new cae({marks:fWt,nodes:mWt}),Rz=(s,i)=>M4(N9t)(s,i),vWt=Object.assign({},{bold:s=>_c(Mp,{...Dle,applyToWord:s}),cleanFormatting:s=>W8e(s),createLink:s=>_c($8e,{mark:"link",attrs:s.value,applyToWord:s.applyToWord}),fontFamily:s=>_c(az,{style:"font-family",value:s.value,applyToWord:s.applyToWord}),fontSize:s=>_c(az,{style:"font-size",value:s.value,applyToWord:s.applyToWord}),insertFile:s=>_c($8e,{mark:"link",attrs:s,applyToWord:s.applyToWord}),insertText:s=>(s=>(i,e)=>{e(i.tr.insertText(s.text,s.from,s.to))})(s),italic:s=>_c(Mp,{...Ole,applyToWord:s}),strikethrough:s=>_c(Mp,{...rPe,applyToWord:s}),subscript:s=>_c(Mp,{...aPe,applyToWord:s}),superscript:s=>_c(Mp,{...lPe,applyToWord:s}),underline:s=>_c(Mp,{...Tle,applyToWord:s}),unlink:()=>H8e(cPe),foreColor:s=>_c(az,{style:"color",value:s.value,applyToWord:s.applyToWord}),backColor:s=>_c(az,{style:"background-color",value:s.value,applyToWord:s.applyToWord}),selectAll:()=>(s,i)=>lLe(s,i)},{alignCenter:()=>(s,i)=>GS(s,Vae)?Rz(s,i):M4(Vae)(s,i),alignJustify:()=>(s,i)=>GS(s,zae)?Rz(s,i):M4(zae)(s,i),alignLeft:()=>(s,i)=>GS(s,Uae)?Rz(s,i):M4(Uae)(s,i),alignRight:()=>(s,i)=>GS(s,Bae)?Rz(s,i):M4(Bae)(s,i),format:s=>((s,i)=>(e,n)=>{const o=qb(e),r=e.schema.nodes,a=e.tr;a.setMeta("commandName",undefined),a.setMeta("args",{value:s}),o.forEach(c=>{if(c.type.isTextblock)if("p"===s){const _=xy(c.attrs,["level"]);MO(a,c,r.paragraph,_)}else if(/^h[1-6]$/i.test(s)){const u=parseInt(s.substr(1),10);MO(a,c,r.heading,Object.assign(Object.assign({},c.attrs),{level:u}))}else if("blockquote"===s){const _=xy(c.attrs,["level"]);MO(a,c,r.blockquote,_)}});const l=a.docChanged;return l&&n(a.scrollIntoView()),l})(s.tag),getHTML:()=>Iae,indent:()=>v9t,insertImage:s=>(s=>(i,e)=>{const{image:n}=i.schema.nodes,r=n.createAndFill(s);N8e(r)(i,a=>e(a.setMeta("commandName","insertImage").setMeta("args",s)))})(s),insertOrderedList:()=>A9t,insertUnorderedList:()=>x9t,outdent:()=>S9t,redo:()=>V4,setHTML:({content:s,parseOptions:i})=>((s,i="setHTML",e={preserveWhitespace:"full"})=>(n,o)=>o(n.tr.setSelection(new Ml(n.doc)).replaceSelectionWith(Mae(s,n.schema,e)).setMeta("commandName",i)))(s,"setHTML",i),undo:()=>wz,blockquote:()=>pLe},{insertTable:s=>(s=>(i,e)=>{const n=((s,i,e)=>{const{table:n,table_row:o,table_cell:r}=s,a=[];let l;for(let c=0;c<i+1;c++){l=[];for(let u=0;u<e+1;u++)l.push(r.createAndFill());a.push(o.createAndFill(void 0,l))}return n.createAndFill(void 0,a)})(i.schema.nodes,s.rows,s.cols);n&&N8e(n,!0)(i,e)})(s),addColumnBefore:()=>NPe,addColumnAfter:()=>LPe,addRowBefore:()=>IPe,addRowAfter:()=>xPe,deleteRow:()=>WGe,deleteColumn:()=>GPe,mergeCells:()=>KGe,splitCell:()=>JGe,deleteTable:()=>QGe}),Gle={alignCenter:{selected:!1,disabled:!1},alignJustify:{selected:!1,disabled:!1},alignLeft:{selected:!1,disabled:!1},alignRight:{selected:!1,disabled:!1},bold:{selected:!1,disabled:!1},italic:{selected:!1,disabled:!1},underline:{selected:!1,disabled:!1},strikethrough:{selected:!1,disabled:!1},subscript:{selected:!1,disabled:!1},superscript:{selected:!1,disabled:!1},format:{selected:{text:"Format",tag:null},disabled:!1},style:{selected:{marks:[],hasNodesWithoutMarks:!1},disabled:!1},cleanFormatting:{selected:!1,disabled:!0},blockquote:{selected:!1,disabled:!1},indent:{selected:!1,disabled:!1},outdent:{selected:!1,disabled:!1},insertOrderedList:{selected:!1,disabled:!1},insertUnorderedList:{selected:!1,disabled:!1},unlink:{selected:!1,disabled:!0},redo:{selected:!1,disabled:!0},undo:{selected:!1,disabled:!0},print:{selected:!1,disabled:!1},createLink:{selected:!1,disabled:!0},insertFile:{selected:!1,disabled:!0},insertImage:{selected:!1,disabled:!1},viewSource:{selected:!1,disabled:!1},insertTable:{selected:!1,disabled:!1},addColumnBefore:{selected:!1,disabled:!0},addColumnAfter:{selected:!1,disabled:!0},addRowBefore:{selected:!1,disabled:!0},addRowAfter:{selected:!1,disabled:!0},deleteRow:{selected:!1,disabled:!0},deleteColumn:{selected:!1,disabled:!0},mergeCells:{selected:!1,disabled:!0},splitCell:{selected:!1,disabled:!0},deleteTable:{selected:!1,disabled:!0},selectAll:{selected:!1,disabled:!1}},Ple={alignCenter:{selected:!1,disabled:!0},alignJustify:{selected:!1,disabled:!0},alignLeft:{selected:!1,disabled:!0},alignRight:{selected:!1,disabled:!0},bold:{selected:!1,disabled:!0},italic:{selected:!1,disabled:!0},underline:{selected:!1,disabled:!0},strikethrough:{selected:!1,disabled:!0},subscript:{selected:!1,disabled:!0},superscript:{selected:!1,disabled:!0},format:{selected:{text:"Format",tag:null},disabled:!0},style:{selected:{marks:[],hasNodesWithoutMarks:!1},disabled:!0},cleanFormatting:{selected:!1,disabled:!0},blockquote:{selected:!1,disabled:!0},indent:{selected:!1,disabled:!0},outdent:{selected:!1,disabled:!0},insertOrderedList:{selected:!1,disabled:!0},insertUnorderedList:{selected:!1,disabled:!0},unlink:{selected:!1,disabled:!0},redo:{selected:!1,disabled:!0},undo:{selected:!1,disabled:!0},print:{selected:!1,disabled:!0},createLink:{selected:!1,disabled:!0},insertFile:{selected:!1,disabled:!0},insertImage:{selected:!1,disabled:!0},viewSource:{selected:!1,disabled:!0},insertTable:{selected:!1,disabled:!0},addColumnBefore:{selected:!1,disabled:!0},addColumnAfter:{selected:!1,disabled:!0},addRowBefore:{selected:!1,disabled:!0},addRowAfter:{selected:!1,disabled:!0},deleteRow:{selected:!1,disabled:!0},deleteColumn:{selected:!1,disabled:!0},mergeCells:{selected:!1,disabled:!0},splitCell:{selected:!1,disabled:!0},deleteTable:{selected:!1,disabled:!0},selectAll:{selected:!1,disabled:!0}};function X4(s){let i=s.offsetWidth;const e=getComputedStyle(s);return i+=parseFloat(e.marginLeft)||0+parseFloat(e.marginRight)||0,i}const BPe=s=>null==s,zO=s=>!BPe(s),VPe=s=>BPe(s)?"":s.toString(),yWt=s=>s[0],kWt=s=>s[s.length-1],zPe=s=>i=>i.split(s),wWt=s=>s.trim(),HPe=s=>i=>e=>i?s(e):e;let bn=(()=>{class s extends j{constructor(e,n,o){super(e,n,o)}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Ve),t.KVO(Gu,8),t.KVO(Vc,8))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),$Pe=(()=>{class s extends j_{constructor(e,n){super(e),this.dialog=e,this.localization=n,this.data=""}ngAfterViewInit(){Promise.resolve(null).then(()=>{this.textarea.focus()})}onCancelAction(){this.dialog.close()}onConfirmAction(){this.editor.exec("setHTML",this.getData()),this.dialog.close(),this.editor.view.focus()}getData(){return this.textarea.value}setData(){this.data=this.indent(this.editor.getSource())}textFor(e){return this.localization.get(e)}indent(e){return e.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Gf),t.rXU(bn))},s.\u0275cmp=t.VBU({type:s,selectors:[["ng-component"]],viewQuery:function(e,n){if(1&e&&t.GBs(lXt,7),2&e){let o;t.mGM(o=t.lsd())&&(n.textarea=o.first)}},inputs:{editor:"editor"},features:[t.Vt3],decls:9,vars:7,consts:[["textarea",""],[3,"close"],["flow","horizontal","resizable","none",1,"k-editor-textarea",3,"value"],["layout","start"],["kendoButton","",3,"click","primary"],["kendoButton","",3,"click"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"kendo-dialog-titlebar",1),t.bIt("close",function(){return t.eBV(o),t.Njj(n.onCancelAction())}),t.EFF(1),t.k0s(),t.nrm(2,"kendo-textarea",2,0),t.j41(4,"kendo-dialog-actions",3)(5,"button",4),t.bIt("click",function(){return t.eBV(o),t.Njj(n.onConfirmAction())}),t.EFF(6),t.k0s(),t.j41(7,"button",5),t.bIt("click",function(){return t.eBV(o),t.Njj(n.onCancelAction())}),t.EFF(8),t.k0s()()}2&e&&(t.R7$(),t.SpI(" ",n.textFor("viewSource")," "),t.R7$(),t.xc7("height",100,"%"),t.Y8G("value",n.data),t.R7$(3),t.Y8G("primary",!0),t.R7$(),t.JRh(n.textFor("dialogUpdate")),t.R7$(2),t.JRh(n.textFor("dialogCancel")))},dependencies:[Hc,uQ,jc,$t],encapsulation:2}),s})(),XPe=(()=>{class s extends j_{constructor(e,n){super(e),this.dialog=e,this.localization=n,this.src=new fl("",tx.required),this.alt=new fl(""),this.width=new fl("",tx.min(1)),this.height=new fl("",tx.min(1)),this.data={alt:"",height:"",src:"",width:""},this.imageData=new Zh({alt:this.alt,height:this.height,src:this.src,width:this.width})}ngOnInit(){this.srcInputId=`k-${rn()}`,this.altTextInputId=`k-${rn()}`,this.widthInputId=`k-${rn()}`,this.heightInputId=`k-${rn()}`}ngAfterViewInit(){Promise.resolve(null).then(()=>{this.srcInput.focus()})}onCancelAction(){this.dialog.close()}onConfirmAction(){this.src.value&&(this.editor.exec("insertImage",this.getData()),this.dialog.close(),this.editor.view.focus())}setData(e){const n=(s=>{if(s.selection instanceof Xt)return s.selection.node})(e);n&&(this.src.patchValue(n.attrs.src),this.alt.patchValue(n.attrs.alt),this.width.patchValue(n.attrs.width),this.height.patchValue(n.attrs.height))}textFor(e){return this.localization.get(e)}getData(){return{alt:this.alt.value,height:this.normalizeDimension(this.height.value),src:this.src.value,width:this.normalizeDimension(this.width.value)}}normalizeDimension(e){return Number.isNaN(parseInt(e,10))||parseInt(e,10)<=0?"":VPe(parseInt(e,10))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Gf),t.rXU(bn))},s.\u0275cmp=t.VBU({type:s,selectors:[["ng-component"]],viewQuery:function(e,n){if(1&e&&t.GBs(cXt,5),2&e){let o;t.mGM(o=t.lsd())&&(n.srcInput=o.first)}},inputs:{editor:"editor"},features:[t.Vt3],decls:24,vars:17,consts:[["srcInput",""],["altTextInput",""],["widthInput",""],["heightInput",""],[3,"close"],[1,"k-form","k-form-md"],["labelCssClass","k-form-label",3,"for","text"],[3,"formControl"],["layout","start"],["kendoButton","",3,"click","disabled","primary"],["kendoButton","",3,"click"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"kendo-dialog-titlebar",4),t.bIt("close",function(){return t.eBV(o),t.Njj(n.onCancelAction())}),t.EFF(1),t.k0s(),t.j41(2,"div",5)(3,"kendo-formfield"),t.nrm(4,"kendo-label",6)(5,"kendo-textbox",7,0),t.k0s(),t.j41(7,"kendo-formfield"),t.nrm(8,"kendo-label",6)(9,"kendo-textbox",7,1),t.k0s(),t.j41(11,"kendo-formfield"),t.nrm(12,"kendo-label",6)(13,"kendo-textbox",7,2),t.k0s(),t.j41(15,"kendo-formfield"),t.nrm(16,"kendo-label",6)(17,"kendo-textbox",7,3),t.k0s()(),t.j41(19,"kendo-dialog-actions",8)(20,"button",9),t.bIt("click",function(){return t.eBV(o),t.Njj(n.onConfirmAction())}),t.EFF(21),t.k0s(),t.j41(22,"button",10),t.bIt("click",function(){return t.eBV(o),t.Njj(n.onCancelAction())}),t.EFF(23),t.k0s()()}if(2&e){const o=t.sdS(6),r=t.sdS(10),a=t.sdS(14),l=t.sdS(18);t.R7$(),t.SpI(" ",n.textFor("insertImage")," "),t.R7$(3),t.Y8G("for",o)("text",n.textFor("imageWebAddress")),t.R7$(),t.Y8G("formControl",n.src),t.R7$(3),t.Y8G("for",r)("text",n.textFor("imageAltText")),t.R7$(),t.Y8G("formControl",n.alt),t.R7$(3),t.Y8G("for",a)("text",n.textFor("imageWidth")),t.R7$(),t.Y8G("formControl",n.width),t.R7$(3),t.Y8G("for",l)("text",n.textFor("imageHeight")),t.R7$(),t.Y8G("formControl",n.height),t.R7$(3),t.Y8G("disabled",n.imageData.invalid)("primary",!0),t.R7$(),t.JRh(n.textFor("dialogInsert")),t.R7$(2),t.JRh(n.textFor("dialogCancel"))}},dependencies:[Hc,vr,Hf,Jl,jc,$t,Un,u0],encapsulation:2}),s})(),Fle=(()=>{class s extends j_{constructor(e,n){super(e),this.dialog=e,this.localization=n,this.linkForm=new Zh({href:new fl("",tx.required),text:new fl({value:"",disabled:!0},tx.required),title:new fl("")})}ngAfterViewInit(){Promise.resolve(null).then(()=>{this.hrefInput.focus()})}onCancelAction(){this.dialog.close()}onConfirmAction(){const e=this.getData();this.editor.exec(this.command,e),this.dialog.close(),this.editor.view.focus()}get titleText(){return this.localization.get(this.command)}setData(e,n){"createLink"===this.command&&this.linkForm.addControl("target",new fl);const o=((s,i)=>{const e=rz(s,i),n=e.filter(o=>!!o);return e.length===n.length?e[0]:void 0})(e,e.schema.marks.link);if(o)this.linkForm.reset({href:o.attrs.href,title:o.attrs.title,target:zO(o.attrs.target),text:this.setLinkText(e)});else if(e.selection.empty){const r=n.applyToWord?kae(e,()=>{},n).state:e;r.selection.empty||this.linkForm.patchValue({text:O4(r)})}else this.linkForm.patchValue({text:O4(e)})}textForWithPrefix(e){return this.textFor(("createLink"===this.command?"link":"file")+e)}textFor(e){return this.localization.get(e)}setLinkText(e){const n=e.selection;if(n.empty&&n.$cursor){const o=n.$cursor,r=o.index();return o.parent.child(r).text}return O4(e)}getData(){const e=this.linkForm.value;return zO(this.linkForm.controls.target)&&(e.target=e.target?"_blank":null),e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Gf),t.rXU(bn))},s.\u0275cmp=t.VBU({type:s,selectors:[["ng-component"]],viewQuery:function(e,n){if(1&e&&t.GBs(dXt,5),2&e){let o;t.mGM(o=t.lsd())&&(n.hrefInput=o.first)}},inputs:{editor:"editor",command:"command"},features:[t.Vt3],decls:21,vars:13,consts:[["hrefInput",""],["textInput",""],["titleInput",""],[3,"close"],["novalidate","",1,"k-form","k-form-md",3,"formGroup"],["labelCssClass","k-form-label",3,"for","text"],["formControlName","href"],["formControlName","text"],["formControlName","title"],[4,"ngIf"],["layout","start"],["kendoButton","",3,"click","disabled","primary"],["kendoButton","",3,"click"],[1,"k-checkbox-wrap"],["id","k-target-blank","type","checkbox","kendoCheckBox","","formControlName","target"],["for","k-target-blank",1,"k-checkbox-label",3,"labelClass"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"kendo-dialog-titlebar",3),t.bIt("close",function(){return t.eBV(o),t.Njj(n.onCancelAction())}),t.EFF(1),t.k0s(),t.j41(2,"form",4)(3,"kendo-formfield"),t.nrm(4,"kendo-label",5)(5,"kendo-textbox",6,0),t.k0s(),t.j41(7,"kendo-formfield"),t.nrm(8,"kendo-label",5)(9,"kendo-textbox",7,1),t.k0s(),t.j41(11,"kendo-formfield"),t.nrm(12,"kendo-label",5)(13,"kendo-textbox",8,2),t.k0s(),t.DNE(15,uXt,7,2,"ng-container",9),t.k0s(),t.j41(16,"kendo-dialog-actions",10)(17,"button",11),t.bIt("click",function(){return t.eBV(o),t.Njj(n.onConfirmAction())}),t.EFF(18),t.k0s(),t.j41(19,"button",12),t.bIt("click",function(){return t.eBV(o),t.Njj(n.onCancelAction())}),t.EFF(20),t.k0s()()}if(2&e){const o=t.sdS(6),r=t.sdS(10),a=t.sdS(14);t.R7$(),t.SpI(" ",n.titleText," "),t.R7$(),t.Y8G("formGroup",n.linkForm),t.R7$(2),t.Y8G("for",o)("text",n.textForWithPrefix("WebAddress")),t.R7$(4),t.Y8G("for",r)("text",n.textForWithPrefix("Text")),t.R7$(4),t.Y8G("for",a)("text",n.textForWithPrefix("Title")),t.R7$(3),t.Y8G("ngIf","createLink"===n.command),t.R7$(2),t.Y8G("disabled",n.linkForm.invalid)("primary",!0),t.R7$(),t.JRh(n.textFor("dialogInsert")),t.R7$(2),t.JRh(n.textFor("dialogCancel"))}},dependencies:[Hc,vr,Hf,Jl,jc,$t,Fi,Pi,ax,Un,RF,W,aw,fQ,L0],encapsulation:2}),s})();let Zn=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),ci=(()=>{class s{constructor(e){this.zone=e,this.needsCheck=new Xe.B}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(t.SKi))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();class AWt{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class RWt extends AWt{constructor(i,e,n){super(),this.cleanedHtml=i,this.originalHtml=e,this.originalEvent=n}}let Nz=(()=>{class s{constructor(e,n){this.hostEl=e,this.zone=n,this.preventDefault=o=>{o.preventDefault()}}get hostElement(){return this.hostEl.nativeElement}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{this.hostElement.addEventListener("pointerdown",this.preventDefault)})}ngOnDestroy(){this.hostElement.removeEventListener("pointerdown",this.preventDefault)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.SKi))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoEditorDropDownTool",""]]}),s})(),Lz=(()=>{class s{constructor(){this.valueChange=new t.bkB}onValueChange(e){this.valueChange.emit(e)}focus(){this.dropDownList.focus()}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-editor-format-dropdownlist"]],viewQuery:function(e,n){if(1&e&&(t.GBs(Lp,7),t.GBs(Lp,7,io)),2&e){let o;t.mGM(o=t.lsd())&&(n.element=o.first),t.mGM(o=t.lsd())&&(n.dropDownList=o.first)}},inputs:{data:"data",value:"value",defaultItem:"defaultItem",itemDisabled:"itemDisabled",title:"title",disabled:"disabled",tabindex:"tabindex"},outputs:{valueChange:"valueChange"},decls:3,vars:12,consts:[["element",""],["kendoEditorDropDownTool","",3,"valueChange","defaultItem","textField","valueField","data","value","valuePrimitive","itemDisabled","disabled","tabindex"],["kendoDropDownListItemTemplate",""],[3,"ngSwitch"],[3,"style",4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"kendo-dropdownlist",1,0),t.mxI("valueChange",function(a){return t.eBV(o),t.DH7(n.value,a)||(n.value=a),t.Njj(a)}),t.bIt("valueChange",function(a){return t.eBV(o),t.Njj(n.onValueChange(a))}),t.DNE(2,CXt,9,8,"ng-template",2),t.k0s()}2&e&&(t.xc7("width",13,"em"),t.Y8G("defaultItem",n.defaultItem)("textField","text")("valueField","tag")("data",n.data),t.R50("value",n.value),t.Y8G("valuePrimitive",!0)("itemDisabled",n.itemDisabled)("disabled",n.disabled)("tabindex",n.tabindex),t.BMQ("title",n.title))},dependencies:[io,Nz,ba,Fa,yd,Zt],encapsulation:2}),s})(),WPe=(()=>{class s extends j_{constructor(e,n){super(e),this.dialog=e,this.localization=n,this.data=[]}ngAfterViewInit(){Promise.resolve(null).then(()=>{this.formatDropDownList.dropDownList.focus()})}onCancelAction(){this.dialog.close()}onConfirmAction(){this.value&&this.editor.exec("format",{tag:this.value}),this.dialog.close()}setData(e){this.editor=e.editor,this.data=e.data,this.defaultItem=e.defaultItem,this.value=e.value,this.itemDisabled=e.itemDisabled}textFor(e){return this.localization.get(e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Gf),t.rXU(bn))},s.\u0275cmp=t.VBU({type:s,selectors:[["ng-component"]],viewQuery:function(e,n){if(1&e&&t.GBs(PPe,7,Lz),2&e){let o;t.mGM(o=t.lsd())&&(n.formatDropDownList=o.first)}},inputs:{editor:"editor"},features:[t.Vt3],decls:10,vars:10,consts:[["formatDropDownList",""],[3,"close"],[3,"valueChange","defaultItem","data","value","itemDisabled"],["layout","start"],["kendoButton","",3,"click","primary"],["kendoButton","",3,"click"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"kendo-dialog-titlebar",1),t.bIt("close",function(){return t.eBV(o),t.Njj(n.onCancelAction())}),t.EFF(1),t.k0s(),t.j41(2,"div")(3,"kendo-editor-format-dropdownlist",2,0),t.mxI("valueChange",function(a){return t.eBV(o),t.DH7(n.value,a)||(n.value=a),t.Njj(a)}),t.k0s()(),t.j41(5,"kendo-dialog-actions",3)(6,"button",4),t.bIt("click",function(){return t.eBV(o),t.Njj(n.onConfirmAction())}),t.EFF(7),t.k0s(),t.j41(8,"button",5),t.bIt("click",function(){return t.eBV(o),t.Njj(n.onCancelAction())}),t.EFF(9),t.k0s()()}2&e&&(t.R7$(),t.SpI(" ",n.textFor("format")," "),t.R7$(),t.xc7("text-align","center"),t.R7$(),t.Y8G("defaultItem",n.defaultItem)("data",n.data),t.R50("value",n.value),t.Y8G("itemDisabled",n.itemDisabled),t.R7$(3),t.Y8G("primary",!0),t.R7$(),t.JRh(n.textFor("dialogApply")),t.R7$(2),t.JRh(n.textFor("dialogCancel")))},dependencies:[Hc,Lz,jc,$t],encapsulation:2}),s})(),YPe=(()=>{class s extends xo{constructor(e,n,o,r,a){super(),this.dialogService=e,this.localization=n,this.toolsService=r,this.renderer=a,this.disabled=!1,this.tabindex=-1,this.valueChange=new t.bkB,this._data=[{text:"Paragraph",tag:"p"},{text:"Heading 1",tag:"h1"},{text:"Heading 2",tag:"h2"},{text:"Heading 3",tag:"h3"},{text:"Heading 4",tag:"h4"},{text:"Heading 5",tag:"h5"},{text:"Heading 6",tag:"h6"}],this.applyFormatSVGIcon=jK,this.editor=o.editor}set data(e){this._data=e||this._data}get data(){return this._data}ngOnInit(){this.itemDisabled=e=>!(this.overflows||!this.formatDropDownList||this.formatDropDownList.dropDownList.isOpen)||null===e.dataItem.tag,setTimeout(()=>{this.defaultItem={text:this.title,tag:null},this.toolsService.needsCheck.next()}),this.subs=this.editor.stateChange.subscribe(({format:e})=>{const n=this.data.findIndex(o=>o.tag===e.selected.tag);this.value=-1!==n?e.selected.tag:null,this.disabled=e.disabled})}onValueChange(e){zO(e)&&(this.editor.exec("format",{tag:e}),this.editor.view.focus(),this.valueChange.emit(this.data.find(n=>n.tag===e)))}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}get outerWidth(){const e=this.formatDropDownList.element;if(e)return X4(e.nativeElement)}get title(){return this.localization.get("format")}openDialog(){const e={appendTo:this.editor.dialogContainer,content:WPe,width:400};this.editor.toolbar.toggle(!1);const n=this.dialogService.open(e).content.instance;this.renderer.addClass(n.dialog.dialog.instance.wrapper.nativeElement.querySelector(".k-window"),"k-editor-window"),n.setData({editor:this.editor,data:this.data,defaultItem:this.defaultItem,value:this.value,itemDisabled:this.itemDisabled})}canFocus(){return!this.disabled}focus(){this.tabindex=0,this.overflows?this.formatButton.nativeElement.focus():this.formatDropDownList.focus()}handleKey(){return this.tabindex=-1,!1}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(H_),t.rXU(bn),t.rXU(Zn),t.rXU(ci),t.rXU(t.sFG))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-toolbar-dropdownlist","kendoEditorFormat",""]],viewQuery:function(e,n){if(1&e&&(t.GBs(H4,7),t.GBs($4,7),t.GBs(PPe,5),t.GBs(bXt,5,t.aKT)),2&e){let o;t.mGM(o=t.lsd())&&(n.toolbarTemplate=o.first),t.mGM(o=t.lsd())&&(n.popupTemplate=o.first),t.mGM(o=t.lsd())&&(n.formatDropDownList=o.first),t.mGM(o=t.lsd())&&(n.formatButton=o.first)}},inputs:{data:"data"},outputs:{valueChange:"valueChange"},features:[t.Jv_([{provide:xo,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],attrs:EXt,decls:4,vars:0,consts:[["toolbarTemplate",""],["popupTemplate",""],["formatDropDownList",""],["formatButton",""],[3,"valueChange","defaultItem","data","value","itemDisabled","title","disabled","tabindex"],["role","menuitem",1,"k-item","k-menu-item",3,"click","tabindex"],[1,"k-link","k-menu-link"],["name","apply-format",3,"svgIcon"],["class","k-menu-link-text",4,"ngIf"],[1,"k-menu-link-text"]],template:function(e,n){1&e&&t.DNE(0,yXt,2,7,"ng-template",null,0,t.C5r)(2,wXt,5,5,"ng-template",null,1,t.C5r)},dependencies:[Lz,Ke,W],encapsulation:2}),s})(),Gz=(()=>{class s extends Gi{}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275dir=t.FsC({type:s,selectors:[["","kendoEditorMessages",""]],inputs:{alignCenter:"alignCenter",alignJustify:"alignJustify",alignLeft:"alignLeft",alignRight:"alignRight",backColor:"backColor",blockquote:"blockquote",bold:"bold",cleanFormatting:"cleanFormatting",createLink:"createLink",fontFamily:"fontFamily",fontSize:"fontSize",foreColor:"foreColor",format:"format",indent:"indent",insertFile:"insertFile",insertImage:"insertImage",insertOrderedList:"insertOrderedList",insertUnorderedList:"insertUnorderedList",italic:"italic",outdent:"outdent",print:"print",redo:"redo",selectAll:"selectAll",strikethrough:"strikethrough",subscript:"subscript",superscript:"superscript",underline:"underline",undo:"undo",unlink:"unlink",viewSource:"viewSource",insertTable:"insertTable",insertTableHint:"insertTableHint",addColumnBefore:"addColumnBefore",addColumnAfter:"addColumnAfter",addRowBefore:"addRowBefore",addRowAfter:"addRowAfter",deleteColumn:"deleteColumn",deleteRow:"deleteRow",deleteTable:"deleteTable",mergeCells:"mergeCells",splitCell:"splitCell",dialogApply:"dialogApply",dialogCancel:"dialogCancel",dialogInsert:"dialogInsert",dialogUpdate:"dialogUpdate",fileText:"fileText",fileTitle:"fileTitle",fileWebAddress:"fileWebAddress",imageAltText:"imageAltText",imageHeight:"imageHeight",imageWebAddress:"imageWebAddress",imageWidth:"imageWidth",linkOpenInNewWindow:"linkOpenInNewWindow",linkText:"linkText",linkTitle:"linkTitle",linkWebAddress:"linkWebAddress"},features:[t.Vt3]}),s})(),KPe=(()=>{class s extends Gz{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoEditorLocalizedMessages",""]],features:[t.Jv_([{provide:Gz,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})();const Ule={alignCenter:"align-center",alignJustify:"align-justify",alignLeft:"align-left",alignRight:"align-right",backColor:"droplet",blockquote:"blockquote",bold:"bold",cleanFormatting:"clear-css",createLink:"link",foreColor:"foreground-color",indent:"indent",insertFile:"file-add",insertImage:"image",insertOrderedList:"list-ordered",insertUnorderedList:"list-unordered",italic:"italic",outdent:"outdent",print:"print",redo:"redo",selectAll:"select-all",strikethrough:"strikethrough",subscript:"subscript",superscript:"supscript",underline:"underline",undo:"undo",unlink:"unlink",viewSource:"code",insertTable:"table-add",addColumnBefore:"table-column-insert-left",addColumnAfter:"table-column-insert-right",addRowBefore:"table-row-insert-above",addRowAfter:"table-row-insert-below",deleteRow:"table-row-delete",deleteColumn:"table-column-delete",mergeCells:"cells-merge",splitCell:"cell-split-horizontally",deleteTable:"table-delete"},Ble={alignCenter:{name:"align-center",content:'<path d="M448 96H64V64h384zm-64 64H128v-32h256zm64 64H64v-32h384zm-64 64H128v-32h256zm64 64H64v-32h384zm-64 64H128v-32h256z" />',viewBox:"0 0 512 512"},alignJustify:{name:"align-justify",content:'<path d="M448 160H64v-32h384zm0-96H64v32h384zM64 352h384v-32H64zm0-64h384v-32H64zm0-64h384v-32H64zm0 192h384v-32H64z" />',viewBox:"0 0 512 512"},alignLeft:{name:"align-left",content:'<path d="M448 96H64V64h384zm-96 32H64v32h288zm96 64H64v32h384zm-96 64H64v32h288zm96 64H64v32h384zm-96 64H64v32h288z" />',viewBox:"0 0 512 512"},alignRight:{name:"align-right",content:'<path d="M64 192h384v32H64zm384-96V64H64v32zm-288 64h288v-32H160zM64 320v32h384v-32zm96-32h288v-32H160zm0 96v32h288v-32z" />',viewBox:"0 0 512 512"},backColor:{name:"droplet",content:'<path d="M256 384v32c-53 0-96-43-96-96h32c0 35.3 28.7 64 64 64m160-72c0 92.8-71.6 168-160 168S96 404.8 96 312C96 181.3 256 32 256 32s160 149.3 160 280m-32 0c0-46.3-25.3-104.7-73-169-20-27-40.3-49.8-55-65.4-14.7 15.6-34.9 38.5-55 65.4-47.8 64.3-73 122.8-73 169 0 75 57.4 136 128 136s128-61 128-136" />',viewBox:"0 0 512 512"},blockquote:{name:"right-double-quotes",content:'<path d="M136 100.2c-57.4 0-104 46.6-104 104s46.6 104 104 104c20.1 0 38.9-5.7 54.8-15.6-14.2 30.5-37.4 55.2-69.2 73.7-44 25.6-89.1 29.6-89.6 29.6l1.3 15.9 1.3 15.9c2.1-.2 51.8-4.4 102-33.2 47.1-27 103.3-81.3 103.3-186.1.1-1.4.1-2.8.1-4.3 0-57.3-46.6-103.9-104-103.9m344 104c0-57.4-46.6-104-104-104s-104 46.6-104 104 46.6 104 104 104c20.1 0 38.9-5.7 54.8-15.6-14.2 30.5-37.4 55.2-69.2 73.7-44 25.6-89.1 29.6-89.6 29.6l2.6 31.9c2.1-.2 51.8-4.4 102-33.2 47.1-27 103.3-81.3 103.3-186.1.1-1.4.1-2.8.1-4.3" />',viewBox:"0 0 512 512"},bold:{name:"bold",content:'<path d="M128 96h115.8c25.3 0 44.2 1.1 56.6 3.2 12.4 2.1 23.6 6.5 33.4 13.2 9.8 6.7 18 15.6 24.6 26.7 6.6 11.1 9.8 23.6 9.8 37.4 0 15-4.1 28.7-12.1 41.2-8.1 12.5-19.1 21.9-32.9 28.2 19.5 5.7 34.5 15.4 45 29s15.7 29.8 15.7 48.2c0 14.6-3.4 28.7-10.2 42.4-6.7 13.8-16 24.8-27.7 33s-26.1 13.3-43.3 15.2c-10.8 1.2-36.7 1.9-78 2.2H128zm64 53v74h30.9c25.2 0 40.8-.4 46.9-1.1 11.1-1.3 19.7-5.2 26.1-11.5 6.3-6.3 9.5-14.7 9.5-25 0-9.9-2.7-18-8.2-24.1-5.5-6.2-13.6-10-24.4-11.2-6.4-.7-24.8-1.1-55.2-1.1zm0 127.1V362h48.6c23.4 0 38.1-.7 44.5-2 9.6-1.8 17.5-6 23.6-12.8 6.1-6.8 9-15.9 9-27.3 0-9.6-2.3-17.9-7-24.6-4.7-6.7-11.4-11.6-20.3-14.7-8.8-3.1-28-4.6-57.5-4.6z" />',viewBox:"0 0 512 512"},cleanFormatting:{name:"clear-css",content:'<path d="M402.784 290.235 221.765 109.216l22.627-22.627c12.445-12.445 32.81-12.445 45.255 0l22.627 22.627 67.882-67.882c12.445-12.445 32.81-12.445 45.255 0l45.255 45.255c12.445 12.445 12.445 32.81 0 45.255l-67.882 67.882 22.627 22.627c12.445 12.445 12.445 32.81 0 45.255zm-21.8 23.455-181.02-181.019c-12.346-12.346-32.483-12.437-44.953-.287L54.627 32 32 54.627l100.074 100.074-91.819 89.362S18.585 267.482 0 248.898l221.274 221.76c12.467 12.467 32.81 12.445 45.255 0l91.851-89.651L457.373 480 480 457.373l-98.73-98.73c12.151-12.47 12.06-32.607-.286-44.953" />',viewBox:"0 0 512 512"},createLink:{name:"link",content:'<path d="M384 384c-47.4 0-88.7-25.8-110.8-64H384c35.4 0 64-28.6 64-64s-28.7-64-64-64H273.2c22.1-38.2 63.5-64 110.8-64 70.7 0 128 57.3 128 128s-57.3 128-128 128M96 256c0-17.7 14.3-32 32-32h256c17.7 0 32 14.3 32 32s-14.3 32-32 32H128c-17.7 0-32-14.3-32-32m-32 0c0 35.4 28.6 64 64 64h110.8c-22.1 38.2-63.5 64-110.8 64C57.3 384 0 326.7 0 256s57.3-128 128-128c47.4 0 88.7 25.8 110.8 64H128c-35.4 0-64 28.6-64 64" />',viewBox:"0 0 512 512"},foreColor:{name:"foreground-color",content:'<path d="M299.5 96h-87.1L96 416h64l23.3-64h145.4l23.3 64h64zm-92.9 192L256 152.2 305.4 288z" />',viewBox:"0 0 512 512"},indent:{name:"indent",content:'<path d="M480 64H32V32h448zm0 32H224v32h256zm0 64H224v32h256zm0 64H224v32h256zm0 64H224v32h256zm0 64H224v32h256zm0 64H32v32h448zM160 240 32 128v224z" />',viewBox:"0 0 512 512"},insertFile:{name:"file-add",content:'<path d="M512 416h-64v64h-32v-64h-64v-32h64v-64h32v64h64zM96 448V64h224v96h96v96h32V128l-96-96H96c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h224v-32" />',viewBox:"0 0 512 512"},insertImage:eF,insertOrderedList:{name:"list-ordered",content:'<path d="M192 64h288v32H192zm0 160h288v32H192zm0 160h288v32H192zM96 32v128H64V64c-1.5 1.3-14.9 7.8-22.1 10V50.8c7.2-2.1 13.9-4.8 20.3-8 6.3-3.3 12.1-6.8 17.2-10.7zM66.7 297h61.1v23H32v-9.5c0-6.4 1.2-12.2 3.7-17.3 2.5-5.1 5.6-9.7 9.3-13.8 3.7-4.1 7.8-7.7 12.3-10.8 4.5-3.1 8.7-6 12.7-8.5 4.2-2.6 7.9-5.1 11.1-7.6 3.2-2.4 5.9-4.8 8-7.2 2.2-2.4 3.8-4.8 4.9-7.2s1.6-5 1.6-7.8c0-5.4-1.7-9.5-5.2-12.2-3.5-2.8-8.8-4.1-16-4.1-12.4 0-24.2 4.3-35.5 12.9v-24.4c12.5-7.1 26.6-10.6 42.4-10.6 7.3 0 13.8.8 19.6 2.5 5.8 1.7 10.7 4.1 14.7 7.2 4 3.1 7.1 6.9 9.2 11.3 2.1 4.4 3.2 9.3 3.2 14.8 0 5.8-1 10.9-3.1 15.5-2 4.5-4.8 8.6-8.1 12.3-3.4 3.7-7.3 7.1-11.7 10.1-4.4 3.1-9 6-13.8 8.9-3.2 2-6.3 4-9.3 5.9-3 2-5.6 3.9-7.9 5.8s-4.1 3.8-5.4 5.6c-1.3 1.8-2 3.6-2 5.2M32 473.8V450c10.1 6 21.8 9.1 35.3 9.1 8.5 0 15.1-1.5 19.8-4.5 4.7-3 7.1-7.2 7.1-12.5 0-5.5-2.9-9.8-8.8-12.8-5.8-3-13.9-4.5-24.1-4.5h-14V404h12.9c19.6 0 29.4-5.4 29.4-16.1 0-10.1-7.5-15.1-22.6-15.1-10.1 0-19.9 2.7-29.4 8v-22.3c10.6-4.4 22.9-6.6 37-6.6 15.4 0 27.4 2.8 36 8.5s12.9 13.1 12.9 22.2c0 16.2-10 26.3-29.9 30.4v.4c10.6 1.1 19 4.3 25.2 9.5 6.2 5.3 9.2 11.7 9.2 19.4 0 11.6-5.1 20.7-15.4 27.4S88.1 480 69.9 480c-15.5 0-28.2-2.1-37.9-6.2" />',viewBox:"0 0 512 512"},insertUnorderedList:{name:"list-unordered",content:'<path d="M192 64h288v32H192zm0 160h288v32H192zm0 160h288v32H192zM80 32c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48m0 160c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48m0 160c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48" />',viewBox:"0 0 512 512"},italic:{name:"italic",content:'<path d="m377.2 128 6.8-32H198.8l-6.8 32h59.2l-54.4 256h-62l-6.8 32h185.2l6.8-32h-59.2l54.4-256z" />',viewBox:"0 0 512 512"},outdent:{name:"outdent",content:'<path d="M480 64H32V32h448zm0 32H224v32h256zm0 64H224v32h256zm0 64H224v32h256zm0 64H224v32h256zm0 64H224v32h256zm0 64H32v32h448zm-320-64V128L32 240z" />',viewBox:"0 0 512 512"},print:{name:"print",content:'<path d="M448 160h-32V96l-64-64H128c-17.7 0-32 14.3-32 32v96H64c-17.6 0-32 14.4-32 32v160c0 17.6 14.4 32 32 32h32v64c0 17.6 14.4 32 32 32h256c17.6 0 32-14.4 32-32v-64h32c17.6 0 32-14.4 32-32V192c0-17.6-14.4-32-32-32M128 64h192v64h64v64H128zm320 256h-64v127.9l-.1.1H128.1l-.1-.1V320H64v-32h384zm-288 0h192v32H160zm0 64h160v32H160z" />',viewBox:"0 0 512 512"},redo:{name:"redo",content:'<path d="M256 192V64l224 192-224 192V320c-87.2 0-166.2 39.4-223.9 96C34.5 294.4 133.9 192 256 192" />',viewBox:"0 0 512 512"},selectAll:{name:"select-all",content:'<path d="M448 448h32v32h-32zm0-448h32v32h-32zM0 448h32v32H0zM0 0h32v32H0zm448 384h32v32h-32zm0-64h32v32h-32zm0-64h32v32h-32zm0-64h32v32h-32zm0-64h32v32h-32zm0-64h32v32h-32zM0 384h32v32H0zm0-64h32v32H0zm0-64h32v32H0zm0-64h32v32H0zm0-64h32v32H0zm0-64h32v32H0zm128 384h32v32h-32zm-64 0h32v32H64zm128 0h32v32h-32zm64 0h32v32h-32zm64 0h32v32h-32zm64 0h32v32h-32zM64 0h32v32H64zm64 0h32v32h-32zm64 0h32v32h-32zm64 0h32v32h-32zm64 0h32v32h-32zm64 0h32v32h-32zm-96 64 53.4 53.4L240 218.9 138.6 117.4 192 64H64v128l53.5-53.5L218.9 240 117.5 341.5 64 288v128h128l-53.4-53.4L240 261.1l101.4 101.5L288 416h128V288l-53.5 53.5L261.1 240l101.4-101.5L416 192V64z" />',viewBox:"0 0 512 512"},strikethrough:{name:"strikethrough",content:'<path d="M393.9 320c.1-23.9 4.5-41.4 13.5-52.5 9.1-11.1 20.8-16.7 35.3-16.7 9.6 0 17.7 3.1 24.5 9.3 6.8 6.2 11.4 15.4 14.1 27.7l27.9-4.7c-3.3-18.4-10.8-32.7-22.5-42.7s-26.8-15-45.2-15c-14.5 0-28.1 3.6-40.4 11.1-12.4 7.4-21.6 18.5-27.7 33.2-5.9 14.4-8.9 31.2-9.1 50.4h-25.5v-2.2c0-13.2-1.7-25.6-5.1-37.1-3.4-11.5-8.1-21.4-14.2-29.6-6-8.1-13.7-14.5-23-19s-19.2-6.8-29.6-6.8c-18.9 0-34.3 8.2-46.4 24.6v-90H192v160h-45v-25.8c0-13.7-.5-23.3-1.4-28.5-1.7-8.5-4.7-15.5-9-21.1-4.3-5.5-10.9-10.2-19.9-13.8-9-3.6-20.8-5.5-35.3-5.5-14.6 0-27.4 2.1-38.5 6.4-11.1 4.3-19.5 10.4-25.4 18.4-5.8 8-10 18.4-12.6 31.4l28.1 4.1c3.1-13 7.8-22 14.3-27.1s16.4-7.7 29.9-7.7c14.5 0 25.4 3.5 32.7 10.5 5.4 5.1 8.1 14 8.1 26.6 0 1.1 0 3.8-.2 8.1-11 4.1-28 7.7-51.2 10.7-11.4 1.5-19.9 3-25.5 4.7-6.7 2-12.9 4.9-18.5 8.6H0v32h1.2c-.8 3.8-1.2 7.7-1.2 11.8 0 15.2 5 27.8 15 37.6S39.3 416 57.9 416c11.3 0 21.8-1.9 31.6-6s20.1-10.9 30.7-20.6h.1c.8 8.6 2.7 20.3 5.7 26.7h30c-3.6-7-6-18.4-7.3-26.1-1-6-1.6-18.7-1.8-37.9h45v64h26.6V389c11.4 18 27.1 27 47.1 27 20.1 0 37.3-8.5 51.7-25.6 8.6-10.2 14.6-23 18-38.3h31.8c3.3 16 9.4 29.2 18.3 39.5 14.1 16.3 32.7 24.5 55.9 24.5 18.5 0 34.1-6 46.8-17.8 12.1-11.3 19.8-26.7 23.2-46.2h.5v-32H393.9zm-280.7 42.6c-4.1 9-10.4 16.1-19 21.4-8.6 5.2-18.4 7.8-29.5 7.8-11.2 0-19.6-2.8-25.4-8.2-5.8-5.6-8.7-12.4-8.7-20.7 0-3.9.7-7.5 2.1-10.9h83.6c-.7 4.1-1.8 7.7-3.1 10.6m105.1-43.3c0-22.2 4.6-39.2 13.7-50.9 9.1-11.8 20-17.6 32.5-17.6s23.1 5.6 31.8 17c8.8 11.3 13.1 28.7 13.2 52.3h-91.3c.1-.3.1-.6.1-.8m77.6 53.6c-9.1 11.8-20 17.7-32.5 17.7-15.5 0-27.7-8-36.7-23.9-2.2-3.9-4-8.8-5.3-14.7H306c-2.4 8.3-5.7 15.3-10.1 20.9m173.5 6.6c-7.5 7.5-16.9 11.2-28.2 11.2-14 0-25.4-5.6-34.1-16.7-4.4-5.6-7.7-12.9-9.9-21.9h85.5c-2.6 11.9-7 21.1-13.3 27.4" />',viewBox:"0 0 512 512"},subscript:{name:"subscript",content:'<path d="m198.6 304 89.4 89.4-22.6 22.6-89.4-89.4L86.6 416 64 393.4l89.4-89.4L64 214.6 86.6 192l89.4 89.4 89.4-89.4 22.6 22.6zm167.7 144h81.4v32H320v-11.9c0-8 1.7-15.3 5-21.7 3.3-6.4 7.5-12.1 12.5-17.2s10.5-9.6 16.4-13.5c5.9-3.9 11.6-7.4 16.9-10.6 5.6-3.3 10.6-6.4 14.8-9.4 4.2-3 7.8-6 10.7-8.9 2.9-3 5.1-6 6.5-9 1.4-3 2.1-6.3 2.1-9.7 0-6.7-2.3-11.8-7-15.3-4.6-3.4-11.7-5.2-21.3-5.2-16.5 0-32.3 5.4-47.4 16.1v-30.5c16.7-8.9 35.5-13.3 56.5-13.3 9.7 0 18.5 1 26.2 3.1 7.7 2.1 14.3 5.1 19.6 8.9 5.4 3.9 9.4 8.6 12.3 14.1 2.8 5.5 4.2 11.7 4.2 18.5 0 7.2-1.4 13.7-4.1 19.3-2.7 5.6-6.3 10.8-10.8 15.4-4.5 4.6-9.7 8.8-15.6 12.7-5.9 3.8-12 7.6-18.3 11.1-4.3 2.5-8.4 5-12.4 7.4-4 2.5-7.5 4.9-10.5 7.2-3.1 2.6-7.1 6.6-10 10.4" />',viewBox:"0 0 512 512"},superscript:{name:"supscript",content:'<path d="m198.6 304 89.4 89.4-22.6 22.6-89.4-89.4L86.6 416 64 393.4l89.4-89.4L64 214.6 86.6 192l89.4 89.4 89.4-89.4 22.6 22.6zm167.7-112h81.4v32H320v-11.9c0-8 1.7-15.3 5-21.7s7.5-12.1 12.5-17.2 10.5-9.6 16.4-13.5 11.6-7.4 16.9-10.6c5.6-3.3 10.6-6.4 14.8-9.4 4.2-3 7.8-6 10.7-8.9 2.9-3 5.1-6 6.5-9s2.1-6.3 2.1-9.7c0-6.7-2.3-11.8-7-15.3-4.6-3.4-11.7-5.2-21.3-5.2-16.5 0-32.3 5.4-47.4 16.1V77.3c16.7-8.9 35.5-13.3 56.5-13.3 9.7 0 18.5 1 26.2 3.1s14.3 5.1 19.6 8.9c5.4 3.9 9.4 8.6 12.3 14.1 2.8 5.5 4.2 11.7 4.2 18.5 0 7.2-1.4 13.7-4.1 19.3-2.7 5.6-6.3 10.8-10.8 15.4-4.5 4.6-9.7 8.8-15.6 12.7-5.9 3.8-12 7.6-18.3 11.1-4.3 2.5-8.4 5-12.4 7.4-4 2.5-7.5 4.9-10.5 7.2-3.1 2.5-7.1 6.5-10 10.3" />',viewBox:"0 0 512 512"},underline:{name:"underline",content:'<path d="M128 416h256v32H128zM320 64v224c0 11.6-3.5 16-10.3 20.3-11.8 7.4-31.3 11.7-53.7 11.7s-41.9-4.3-53.7-11.7c-6.8-4.3-10.3-8.7-10.3-20.3V64h-64v224c0 70.4 64.3 96 128 96s128-25.6 128-96V64z" />',viewBox:"0 0 512 512"},undo:{name:"undo",content:'<path d="M479.9 416c-57.7-56.6-136.7-96-223.9-96v128L32 256 256 64v128c122.2 0 221.5 102.4 223.9 224" />',viewBox:"0 0 512 512"},unlink:{name:"unlink",content:'<path d="M384 384c-47.4 0-88.7-25.8-110.8-64H384c35.4 0 64-28.6 64-64s-28.7-64-64-64H273.2c22.1-38.2 63.5-64 110.8-64 70.7 0 128 57.3 128 128s-57.3 128-128 128M64 256c0 35.4 28.6 64 64 64h110.8c-22.1 38.2-63.5 64-110.8 64C57.3 384 0 326.7 0 256s57.3-128 128-128c47.4 0 88.7 25.8 110.8 64H128c-35.3 0-64 28.6-64 64M272 97.6V0h-32v97.6c5.2-1 10.5-1.6 16-1.6s10.8.6 16 1.6m-60.1 11.7-69-69-22.6 22.6 69 69c5.9-9 13.6-16.7 22.6-22.6m110.8 22.6 69-69-22.6-22.6-69 69c9 5.9 16.7 13.6 22.6 22.6M256 416c-5.5 0-10.8-.6-16-1.6V512h32v-97.6c-5.2 1-10.5 1.6-16 1.6m-66.7-35.9-69 69 22.6 22.6 69-69c-9-5.9-16.7-13.6-22.6-22.6m110.8 22.6 69 69 22.6-22.6-69-69c-5.9 9-13.6 16.7-22.6 22.6" />',viewBox:"0 0 512 512"},viewSource:{name:"code-snippet",content:'<path d="M416 32V0h-32v32h-32V0h-32v32h-32V0h-32v32h-32V0h-32v32h-32V0h-32v32H96V0H64v32H32v32H0v32h32v32H0v32h32v32H0v32h32v32H0v32h32v32H0v32h32v32H0v32h32v32h32v32h32v-32h32v32h32v-32h32v32h32v-32h32v32h32v-32h32v32h32v-32h32v32h32v-32h32v-32h32v-32h-32v-32h32v-32h-32v-32h32v-32h-32v-32h32v-32h-32v-32h32v-32h-32V96h32V64h-32V32zm0 256v128H64V64h352zM32 0v32H0V0zM0 448h32v32H0zm198.6-265.4L141.3 240l57.4 57.4L176 320l-80-80 80-80zM304 160l80 80-80 80-22.6-22.6 57.4-57.4-57.4-57.4zM480 32h-32V0h32zm-32 448v-32h32v32z" />',viewBox:"0 0 512 512"},insertTable:{name:"table-add",content:'<path d="M448 320V32H32v416h288V320zm-288 96H64v-96h96zm0-128H64v-96h96zm0-128H64V64h96zm128 256h-96v-96h96zm0-128h-96v-96h96zm0-128h-96V64h96zm32-96h96v96h-96zm0 224v-96h96v96zm192 128v32h-64v64h-32v-64h-64v-32h64v-64h32v64z" />',viewBox:"0 0 512 512"},addColumnBefore:{name:"table-column-insert-left",content:'<path d="M32 480V0h128v480zM480 32v416H192V32zM224 160h96V64h-96zm0 128h96v-96h-96zm0 128h96v-96h-96zm224-96h-96v96h96zm0-32v-96h-96v96zm0-224h-96v96h96z" />',viewBox:"0 0 512 512"},addColumnAfter:{name:"table-column-insert-right",content:'<path d="M352 480V0h128v480zM320 32v416H32V32zm-32 32h-96v96h96zm0 128h-96v96h96zm0 128h-96v96h96zM64 416h96v-96H64zm96-128v-96H64v96zM64 160h96V64H64z" />',viewBox:"0 0 512 512"},addRowBefore:{name:"table-row-insert-above",content:'<path d="M480 160H0V32h480zM32 192h416v288H32zm32 32v96h96v-96zm128 0v96h96v-96zm128 0v96h96v-96zm96 224v-96h-96v96zm-128-96h-96v96h96zm-128 96v-96H64v96z" />',viewBox:"0 0 512 512"},addRowAfter:{name:"table-row-insert-below",content:'<path d="M480 480H0V352h480zM32 32h416v288H32zm128 256v-96H64v96zm128 0v-96h-96v96zm128 0v-96h-96v96zM320 64v96h96V64zm-32 0h-96v96h96zM64 64v96h96V64z" />',viewBox:"0 0 512 512"},deleteRow:{name:"table-row-delete",content:'<path d="M224 192H0v128h224zm288 0h-64v128h64zm-32 160v128H64V352zm-288 96v-64H96v64zm128 0v-64h-96v64zm128 0v-64h-96v64zm32-416v128H64V32zm-288 96V64H96v64zm128 0V64h-96v64zm128 0V64h-96v64zm-89.373 128L416 313.373 393.373 336 336 278.627 278.627 336 256 313.373 313.373 256 256 198.627 278.627 176 336 233.373 393.373 176 416 198.627z" />',viewBox:"0 0 512 512"},deleteColumn:{name:"table-column-delete",content:'<path d="M192 288v224h128V288zm0-288v64h128V0zm160 32h128v416H352zm96 288h-64v96h64zm0-128h-64v96h64zm0-128h-64v96h64zM32 32h128v416H32zm96 288H64v96h64zm0-128H64v96h64zm0-128H64v96h64zm128 89.373L313.373 96 336 118.627 278.627 176 336 233.373 313.373 256 256 198.627 198.627 256 176 233.373 233.373 176 176 118.627 198.627 96z" />',viewBox:"0 0 512 512"},mergeCells:{name:"cells-merge",content:'<path d="M32 32v448h416V32zm160 32h96v64h-96zM64 64h96v64H64zm96 384H64v-64h96zm128 0h-96v-64h96zm128 0h-96v-64h96zm0-96H64V160h352zm0-224h-96V64h96z" />',viewBox:"0 0 512 512"},splitCell:{name:"cell-split-horizontally",content:'<path d="M32 32v416h416V32zm32 32h160v64H64zm160 160h-64v-64h64zM64 160h64v64H64zm0 96h160v64H64zm0 160v-64h160v64zm192-256h64v64h-64zm160 256H256v-64h160zm0-96H256v-64h160zm0-96h-64v-64h64zm0-96H256V64h160z" />',viewBox:"0 0 512 512"},deleteTable:{name:"table-delete",content:'<path d="M32 32v416h416V32zm384 128h-64v32h64v96h-64v32h64v96h-96v-64h-32v64h-96v-64h-32v64H64v-96h64v-32H64v-96h64v-32H64V64h96v64h32V64h96v64h32V64h96zm-153.4 80 57.4 57.4-22.6 22.6-57.4-57.4-57.4 57.4-22.6-22.6 57.4-57.4-57.4-57.4 22.6-22.6 57.4 57.4 57.4-57.4 22.6 22.6z" />',viewBox:"0 0 512 512"}},NWt=new t.nKC("COMMAND_TOKEN");let JPe=(()=>{class s{constructor(e,n,o,r,a){this.command=e,this.button=n,this.localization=o,this.toolsService=a,this.editor=r.editor,this.toolsService.zone.runOutsideAngular(()=>{setTimeout(()=>{const l=this.localization.get(this.command);l&&(this.button.showText="overflow",this.button.showIcon="both",this.button.text=l),this.button.toolbarOptions.icon||(this.button.icon=Ule[this.command]),this.button.toolbarOptions.svgIcon||(this.button.svgIcon=Ble[this.command]),this.button.title=l,this.toolsService.zone.run(()=>{this.toolsService.needsCheck.next()})})})}ngOnInit(){this.subs=this.editor.stateChange.subscribe(this.onStateChange.bind(this)),this.subs.add(this.button.click.subscribe(this.clickHandler.bind(this))),this.subs.add(this.button.pointerdown.subscribe(this.pointerdownHandler.bind(this)))}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}clickHandler(){}pointerdownHandler(e){}onStateChange(e){}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(NWt),t.rXU(Pn),t.rXU(j),t.rXU(Zn),t.rXU(ci))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoEditorCommandBase",""]]}),s})();class bs extends JPe{constructor(i,e,n,o,r){super(i,e,n,o,r),this.command=i,this.button=e,this.localization=n,this.providerService=o,this.toolsService=r}clickHandler(){this.editor.exec(this.command,this.editor.applyToWord),this.editor.focus()}pointerdownHandler(i){i.preventDefault()}onStateChange(i){this.providerService.editor.ngZone.onStable.pipe(Ye(1)).subscribe(()=>{this.button.selected=i[this.command].selected,this.button.disabled=i[this.command].disabled})}}let Gm=(()=>{class s extends bs{constructor(e,n,o,r){super("bold",e,n,o,r)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Pn),t.rXU(bn),t.rXU(Zn),t.rXU(ci))},s.\u0275dir=t.FsC({type:s,selectors:[["kendo-toolbar-button","kendoEditorBoldButton",""]],features:[t.Vt3]}),s})(),Pm=(()=>{class s extends bs{constructor(e,n,o,r){super("italic",e,n,o,r)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Pn),t.rXU(bn),t.rXU(Zn),t.rXU(ci))},s.\u0275dir=t.FsC({type:s,selectors:[["kendo-toolbar-button","kendoEditorItalicButton",""]],features:[t.Vt3]}),s})(),Fm=(()=>{class s extends bs{constructor(e,n,o,r){super("underline",e,n,o,r)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Pn),t.rXU(bn),t.rXU(Zn),t.rXU(ci))},s.\u0275dir=t.FsC({type:s,selectors:[["kendo-toolbar-button","kendoEditorUnderlineButton",""]],features:[t.Vt3]}),s})(),qPe=(()=>{class s extends bs{constructor(e,n,o,r){super("alignLeft",e,n,o,r)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Pn),t.rXU(bn),t.rXU(Zn),t.rXU(ci))},s.\u0275dir=t.FsC({type:s,selectors:[["kendo-toolbar-button","kendoEditorAlignLeftButton",""]],features:[t.Vt3]}),s})(),QPe=(()=>{class s extends bs{constructor(e,n,o,r){super("alignCenter",e,n,o,r)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Pn),t.rXU(bn),t.rXU(Zn),t.rXU(ci))},s.\u0275dir=t.FsC({type:s,selectors:[["kendo-toolbar-button","kendoEditorAlignCenterButton",""]],features:[t.Vt3]}),s})(),ZPe=(()=>{class s extends bs{constructor(e,n,o,r){super("alignRight",e,n,o,r)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Pn),t.rXU(bn),t.rXU(Zn),t.rXU(ci))},s.\u0275dir=t.FsC({type:s,selectors:[["kendo-toolbar-button","kendoEditorAlignRightButton",""]],features:[t.Vt3]}),s})(),eFe=(()=>{class s extends bs{constructor(e,n,o,r){super("alignJustify",e,n,o,r)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Pn),t.rXU(bn),t.rXU(Zn),t.rXU(ci))},s.\u0275dir=t.FsC({type:s,selectors:[["kendo-toolbar-button","kendoEditorAlignJustifyButton",""]],features:[t.Vt3]}),s})(),Um=(()=>{class s extends bs{constructor(e,n,o,r){super("insertUnorderedList",e,n,o,r)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Pn),t.rXU(bn),t.rXU(Zn),t.rXU(ci))},s.\u0275dir=t.FsC({type:s,selectors:[["kendo-toolbar-button","kendoEditorInsertUnorderedListButton",""]],features:[t.Vt3]}),s})(),tFe=(()=>{class s extends bs{constructor(e,n,o,r){super("insertOrderedList",e,n,o,r)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Pn),t.rXU(bn),t.rXU(Zn),t.rXU(ci))},s.\u0275dir=t.FsC({type:s,selectors:[["kendo-toolbar-button","kendoEditorInsertOrderedListButton",""]],features:[t.Vt3]}),s})(),nFe=(()=>{class s extends bs{constructor(e,n,o,r){super("indent",e,n,o,r)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Pn),t.rXU(bn),t.rXU(Zn),t.rXU(ci))},s.\u0275dir=t.FsC({type:s,selectors:[["kendo-toolbar-button","kendoEditorIndentButton",""]],features:[t.Vt3]}),s})(),iFe=(()=>{class s extends bs{constructor(e,n,o,r){super("outdent",e,n,o,r)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Pn),t.rXU(bn),t.rXU(Zn),t.rXU(ci))},s.\u0275dir=t.FsC({type:s,selectors:[["kendo-toolbar-button","kendoEditorOutdentButton",""]],features:[t.Vt3]}),s})();class Pz extends JPe{constructor(i,e,n,o,r){super(i,e,n,o,r),this.dialog=i,this.button=e,this.localization=n,this.providerService=o,this.toolsService=r}clickHandler(){this.editor.openDialog(this.dialog)}onStateChange(i){this.providerService.editor.ngZone.onStable.pipe(Ye(1)).subscribe(()=>{this.button.selected=i[this.command].selected,this.button.disabled=i[this.command].disabled})}}let sFe=(()=>{class s extends Pz{constructor(e,n,o,r){super("createLink",e,n,o,r)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Pn),t.rXU(bn),t.rXU(Zn),t.rXU(ci))},s.\u0275dir=t.FsC({type:s,selectors:[["kendo-toolbar-button","kendoEditorCreateLinkButton",""]],features:[t.Vt3]}),s})(),oFe=(()=>{class s extends bs{constructor(e,n,o,r){super("unlink",e,n,o,r)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Pn),t.rXU(bn),t.rXU(Zn),t.rXU(ci))},s.\u0275dir=t.FsC({type:s,selectors:[["kendo-toolbar-button","kendoEditorUnlinkButton",""]],features:[t.Vt3]}),s})(),rFe=(()=>{class s extends Pz{constructor(e,n,o,r){super("insertImage",e,n,o,r)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Pn),t.rXU(bn),t.rXU(Zn),t.rXU(ci))},s.\u0275dir=t.FsC({type:s,selectors:[["kendo-toolbar-button","kendoEditorInsertImageButton",""]],features:[t.Vt3]}),s})();const LWt={convertMsLists:!1,removeAttributes:[],removeHtmlComments:!1,removeInvalidHTML:!0,removeMsClasses:!1,removeMsStyles:!1,stripTags:[]},GWt=HPe(s=>s.replace(/<!--[\s\S]+?-->/g,"")),PWt=HPe(s=>(s=(s=(s=(s=(s=(s=(s=(s=(s=s.replace(/^[\s\S]+?<!--StartFragment-->\s*([\s\S]*?)\s*<!--EndFragment-->[\s\S]+$/,"$1")).replace(/<\/?[ovw]:[^>]*?>/gi,"")).replace(/<\\?\??xml[^>]*>/gi,"")).replace(/<(?:link|meta) [^>]+?>/gi,"")).replace(/<style[^>]*?>\s*<\/style>/gi,"")).replace(/<\/?st1:.*?>/gi,"")).replace(/<a name="[a-zA-Z0-9_]+">/gim,"")).replace(/v:shapes?="[^"]+"/gi,"")).replace(/<!\[if !supportLists\]>/gi,"")).replace(/<!\[endif\]>/gi,"")),FWt=s=>{if("all"===s.removeAttributes)return{"*":Dz};const i=(s=>((s,i)=>Object.keys(s).filter(e=>i(e)).reduce((e,n)=>Object.assign(e,{[n]:s[n]}),{}))(s,e=>null!=s[e]&&""!==s[e]))({style:s.removeMsStyles?t$t:void 0,class:s.removeMsClasses?QHt:void 0});return s.removeAttributes.reduce((e,n)=>({...e,[n]:Dz}),i)};let KS=(()=>{class s{constructor(e,n,o,r,a,l,c,u){this.dialogService=e,this.localization=n,this.cdr=o,this.ngZone=r,this.element=a,this.providerService=l,this.toolsService=c,this.renderer=u,this.iframe=!0,this.applyToWord=!1,this.preserveWhitespace=!1,this.resizable=!1,this.valueChange=new t.bkB,this.onFocus=new t.bkB,this.paste=new t.bkB,this.onBlur=new t.bkB,this.hostClass=!0,this.stateChange=new Fn.t(Gle),this.showLicenseWatermark=!1,this.valueModified=new Xe.B,this.focusableId=`k-editor-${rn()}`,this._readonly=!1,this._placeholder="",this.inForm=!1,this._iframeCss={keepBuiltInCss:!0},this.afterViewInit=new Xe.B,this.contentAreaLoaded=new Xe.B,this.dispatchTransaction=_=>{const g=_.docChanged;if(!(this.disabled||this.readonly&&g)){if(g){const b=Iae({doc:_.doc});this.trOnChange=_,this.htmlOnChange=b,this.ngZone.run(()=>{this.valueModified.next("<p></p>"===b?"":b)})}(!g||this.inForm)&&(this.view.updateState(this.view.state.apply(_)),this.trOnChange=null)}},this.transformPastedContent=(_,g)=>{if(g)return this.dispatchPasteEvent(_,_);const S={...LWt,...this.pasteCleanupSettings},b=((...s)=>i=>s.reduce((e,n)=>n(e),i))(PWt(S.removeInvalidHTML),GWt(S.removeHtmlComments))(_),k=s$t(b,{convertMsLists:S.convertMsLists,stripTags:S.stripTags.join("|"),attributes:FWt(S)});return this.dispatchPasteEvent(_,k)},this.transformPastedHTML=_=>this.transformPastedContent(_),this.transformPastedText=_=>this.transformPastedContent(_,!0),this.changeValue=_=>{const g=this._value;if(this._value=_,this._view){if(this.htmlOnChange===_&&this.trOnChange)this.view.updateState(this.view.state.apply(this.trOnChange));else if((g||"")!==(_||"")){if(this.iframe&&!this.container.element.nativeElement.contentWindow)return;const b=this.view.state,k=Mae(_||"",b.schema,{preserveWhitespace:this.preserveWhitespace}),D=b.tr.setSelection(new Ml(b.doc)).replaceSelectionWith(k);this.view.updateState(b.apply(D))}this.trOnChange=null,this.htmlOnChange=null}},this.onChangeCallback=_=>{this.changeValue(_)},this.onTouchedCallback=_=>{},this.onPaste=(_,g)=>(this._pasteEvent=g,!1);const f=(0,mt.$)(rWt);this.showLicenseWatermark=V_(f),this.providerService.editor=this,this.direction=n.rtl?"rtl":"ltr",this.subs=Wge(this.afterViewInit.asObservable(),this.contentAreaLoaded.asObservable()).subscribe(()=>this.initialize())}set value(e){this.changeValue(e)}get value(){if(this.trOnChange)return this.htmlOnChange;const e=this._view?this.getSource():this._value;return"<p></p>"===e?this._value?"":this._value:e}set disabled(e){this._disabled=e||!1,this._view&&this._view.updateState(this._view.state),this._disabled&&(this.readonly=!1),this.stateChange.next(this._disabled||this._readonly?Ple:Gle)}get disabled(){return this._disabled}set readonly(e){if(this._readonly=e||!1,this._view){let n;n=this.iframe?this.container.element.nativeElement.contentWindow:window;const o=n.getSelection().focusNode;this._view.dom.contains(o)&&n.getSelection().removeAllRanges();const a=this._view.state.tr.setSelection(si.create(this._view.state.doc,1));this._view.dispatch(a)}this._readonly?(this.toolbar&&(this.toolbar.tabindex=-1),this.stateChange.next(Ple)):(this.toolbar&&(this.toolbar.tabindex=0),this.stateChange.next(Gle))}get readonly(){return this._readonly}set iframeCss(e){this._iframeCss=Object.assign(this._iframeCss,e)}get iframeCss(){return this._iframeCss}set schema(e){if(t.naY){if(!(e instanceof cae))throw new Error("Expected value of type Schema. See http://www.telerik.com/kendo-angular-ui/components/editor/schema/");if(this._view)throw new Error("The Schema cannot be changed dynamically. See http://www.telerik.com/kendo-angular-ui/components/editor/schema/")}this._schema=e}get schema(){return this._schema}set plugins(e){if(t.naY){if("function"!=typeof e)throw new Error((s=>`plugins must be a function, but received ${JSON.stringify(s)}.`)(e));if(this._view)throw new Error("The plugins cannot be changed dynamically. See http://www.telerik.com/kendo-angular-ui/components/editor/plugins/")}this._plugins=e}get plugins(){return this._plugins}set placeholder(e){if(t.naY&&this._view)throw new Error("The placeholder cannot be changed dynamically. See https://www.telerik.com/kendo-angular-ui/components/editor/plugins/#toc-custom-plugins/");this._placeholder=e}get placeholder(){return this._placeholder}get resizableClass(){return!!this.resizable}get isDisabled(){return this.disabled}get isReadonly(){return this.readonly}get isIE(){return this.iframe&&(()=>{if(!ne())return!1;const s=window.navigator.userAgent,i=s.indexOf("MSIE "),e=s.indexOf("Trident/");return i>0||e>0})()}get dir(){return this.direction}get ariaDisabled(){return this.disabled}get minWidth(){const e=this.resizable;return e.minWidth?e.minWidth+"px":void 0}get maxWidth(){const e=this.resizable;return e.maxWidth?e.maxWidth+"px":void 0}get minHeight(){const e=this.resizable;return e.minHeight?e.minHeight+"px":void 0}get maxHeight(){const e=this.resizable;return e.maxHeight?e.maxHeight+"px":void 0}get toolbar(){return this.defaultToolbarComponent||this.userToolBarComponent}get toolbarElement(){return this.defaultToolbar||this.userToolBarElement}get view(){return this._view}get selectionText(){return this._view&&this._view.state?O4(this._view.state):""}ngOnInit(){this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr"})),this.subs.add(this.toolsService.needsCheck.subscribe(()=>this.cdr.markForCheck()))}ngAfterViewInit(){ne()&&(this.afterViewInit.next(),this.iframe||this.contentAreaLoaded.next(),this.resizable&&this.normalizeSize(),this.userToolBarComponent&&this.renderer.addClass(this.userToolBarComponent.element.nativeElement,"k-editor-toolbar"),this.toolbar.overflow&&this.toolbar.onResize())}ngOnChanges(e){e.value&&this.view&&this.changeValue(e.value.currentValue),e.iframe&&!e.iframe.isFirstChange()&&this.ngZone.onStable.pipe(Ye(1)).subscribe(()=>this.initialize()),e.resizable&&!e.resizable.isFirstChange()&&this.normalizeSize()}setDisabledState(e){this.disabled=e}iframeOnLoad(){this.contentAreaLoaded.next()}exec(e,n){"setHTML"===e&&"string"==typeof n?n={content:n,parseOptions:{preserveWhitespace:this.preserveWhitespace}}:["fontFamily","fontSize","foreColor","backColor","createLink"].some(r=>r===e)&&(n={value:n,applyToWord:this.applyToWord}),vWt[e](n)(this._view.state,this._view.dispatch,this._view)}openDialog(e){const o=Object.assign({appendTo:this.dialogContainer},{createLink:{content:Fle,width:400},insertFile:{content:Fle,width:400},insertImage:{content:XPe,width:400},viewSource:{content:$Pe,height:400,width:500}}[e]);this.toolbar.toggle(!1);const r=this.dialogService.open(o).content.instance;this.renderer.addClass(r.dialog.dialog.instance.wrapper.nativeElement.querySelector(".k-window"),"k-editor-window"),("createLink"===e||"insertFile"===e)&&(r.command=e),r.editor=this,r.setData(this._view.state,{applyToWord:this.applyToWord})}focus(){this.focusChangedProgrammatically=!0,this._view.focus(),this.focusChangedProgrammatically=!1}blur(){this.focusChangedProgrammatically=!0,this._view.dom.blur(),this.focusChangedProgrammatically=!1}getSource(){return Iae(this._view.state)}ngOnDestroy(){this.subs&&this.subs.unsubscribe(),this._styleObserver&&this._styleObserver.disconnect()}writeValue(e){this.inForm=!0,this.value=null===e?void 0:e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}isEmpty(){return!1}initialize(){if(!ne())return;const e=this.schema||_Wt,n=this.container.element.nativeElement,o=Mae((this.value||"").trim(),e,{preserveWhitespace:this.preserveWhitespace});if(this.iframe){const l=n.contentDocument,c=l.createElement("meta");c.setAttribute("charset","utf-8"),l.head.appendChild(c);const u=!!this.iframeCss.path,_=`\n                \n    .ProseMirror .tableWrapper {\n        overflow-x: auto;\n        margin: 1em 0;\n    }\n\n    .ProseMirror table {\n        margin: 0;\n        border-collapse: collapse;\n        table-layout: fixed;\n        width: 100%;\n        overflow: hidden;\n    }\n\n    .ProseMirror td, .ProseMirror th {\n        min-width: 1em;\n        border: 1px solid #ddd;\n        padding: 3px 5px;\n        vertical-align: top;\n        box-sizing: border-box;\n        position: relative;\n    }\n\n    .ProseMirror th {\n        font-weight: bold;\n        text-align: left;\n    }\n\n    .ProseMirror .column-resize-handle {\n        position: absolute;\n        right: -2px; top: 0; bottom: 0;\n        width: 4px;\n        z-index: 20;\n        background-color: #adf;\n        pointer-events: none;\n    }\n\n    .ProseMirror.resize-cursor {\n        cursor: ew-resize;\n        cursor: col-resize;\n    }\n\n    /* Give selected cells a blue overlay */\n    .ProseMirror .selectedCell:after {\n        z-index: 2;\n        position: absolute;\n        content: "";\n        left: 0; right: 0; top: 0; bottom: 0;\n        background: rgba(200, 200, 255, 0.4);\n        pointer-events: none;\n    }\n\n    /* Resizing */\n    .k-editor-resize-wrap-element {\n        display: inline-block;\n        position: relative;\n    }\n\n    .ProseMirror .row-resize-handle {\n        position: absolute;\n        right: 0; left: 0; bottom: 0;\n        transform: translate(0, 50%);\n        height: 4px;\n        z-index: 20;\n        background-color: #adf;\n        pointer-events: none;\n    }\n    \n    .ProseMirror.resize-cursor-vertical {\n        cursor: sn-resize;\n        cursor: row-resize;\n    }\n\n    .k-editor-resize-wrap-element table td p,\n    .k-editor-resize-wrap-element table th p {\n        margin: 0 auto;\n    }\n\n    .ProseMirror[contenteditable="false"] .k-editor-resize-handle,\n    .ProseMirror[contenteditable="false"] .k-editor-resize-handles-wrapper,\n    .ProseMirror[contenteditable="false"] .row-resize-handle,\n    .ProseMirror[contenteditable="false"] .column-resize-handle {\n        display: none;\n    }\n    \n    .ProseMirror[contenteditable="false"] table {\n        pointer-events: none;\n    }\n    \n    .ProseMirror[contenteditable="false"] .ProseMirror-selectednode {\n        outline: none;\n    }\n    \n    .ProseMirror[contenteditable="false"] {\n        cursor: unset !important;\n    }\n\n                ${this.iframeCss.keepBuiltInCss?'\n    html, body {\n        margin: 0;\n        height: 100%;\n        padding: 0;\n    }\n\n    html {\n        min-height: 100%;\n    }\n\n    body {\n        box-sizing: border-box;\n        position: relative;\n        word-wrap: break-word;\n        padding: 8px;\n    }\n\n    body > .k-content {\n        outline: 0;\n        height: 100%;\n        white-space: pre-wrap;\n    }\n\n    div.ProseMirror {\n        position: relative;\n        word-wrap: break-word;\n        white-space: pre-wrap;\n        white-space: break-spaces;\n        -webkit-font-variant-ligatures: none;\n        font-variant-ligatures: none;\n        font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n    }\n\n    .ProseMirror pre {\n        white-space: pre-wrap;\n    }\n\n    .k-content > p {\n        margin: 0 0 1em;\n    }\n\n    .k-content table {\n        white-space: pre-wrap;\n    }\n\n    .k-content .k-text-selected, .k-content::selection {\n        color: HighlightText;\n        background-color: Highlight;\n    }\n\n    .k-content .k-text-highlighted {\n        background-color: #bbdefb;\n    }\n\n    .k-content .ProseMirror-selectednode {\n        outline: 2px solid #8cf;\n    }\n\n    .ProseMirror-hideselection *::selection { background: transparent; }\n    .ProseMirror-hideselection *::-moz-selection { background: transparent; }\n    .ProseMirror-hideselection { caret-color: transparent; }\n\n    .ProseMirror-gapcursor {\n        display: none;\n        pointer-events: none;\n        position: absolute;\n    }\n\n    .ProseMirror-gapcursor:after {\n        content: "";\n        display: block;\n        position: absolute;\n        top: -2px;\n        width: 20px;\n        border-top: 1px solid black;\n        animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n    }\n\n    @keyframes ProseMirror-cursor-blink {\n        to {\n            visibility: hidden;\n        }\n    }\n\n    .ProseMirror-focused .ProseMirror-gapcursor {\n        display: block;\n    }\n\n    .k-editor-resize-handles-wrapper {\n        position: absolute;\n        visibility: hidden;\n    }\n\n    .k-editor-resize-handle {\n        position: absolute;\n        visibility: visible;\n        background-color: #fff;\n        border: 1px solid #000;\n        z-index: 100;\n        width: 5px;\n        height: 5px;\n    }\n\n    .k-editor-resize-handle.northwest {\n        top: 0;\n        left: 0;\n        transform: translate(-50%, -50%);\n        cursor: nw-resize;\n    }\n\n    .k-editor-resize-handle.north {\n        top: 0;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        cursor: n-resize;\n    }\n\n    .k-editor-resize-handle.northeast {\n        top: 0;\n        right: 0;\n        transform: translate(50%, -50%);\n        cursor: ne-resize;\n    }\n\n    .k-editor-resize-handle.southwest {\n        left: 0;\n        bottom: 0;\n        transform: translate(-50%, 50%);\n        cursor: sw-resize;\n    }\n\n    .k-editor-resize-handle.south {\n        bottom: 0;\n        left: 50%;\n        transform: translate(-50%, 50%);\n        cursor: s-resize;\n    }\n\n    .k-editor-resize-handle.southeast {\n        right: 0;\n        bottom: 0;\n        transform: translate(50%, 50%);\n        cursor: se-resize;\n    }\n\n    .k-editor-resize-handle.west {\n        top: 50%;\n        left: 0;\n        transform: translate(-50%, -50%);\n        cursor: w-resize;\n    }\n\n    .k-editor-resize-handle.east {\n        top: 50%;\n        right: 0;\n        transform: translate(50%, -50%);\n        cursor: e-resize;\n    }\n\n    .ProseMirror .k-placeholder::before {\n        content: attr(data-placeholder);\n        height: 0;\n        color: #8a8a8a;\n        float: left;\n        opacity: 1;\n        cursor: text;\n        -webkit-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n    }\n\n    .ProseMirror li {\n        position: relative;\n    }\n\n    li.ProseMirror-selectednode {\n        outline: none;\n    }\n\n    li.ProseMirror-selectednode:after {\n        content: "";\n        position: absolute;\n        left: -32px;\n        right: -2px;\n        top: -2px;\n        bottom: -2px;\n        border: 2px solid #8cf;\n        pointer-events: none;\n    }\n\n    .ProseMirror[contenteditable="false"] img {\n        pointer-events: none;\n    }\n':""}\n                ${"rtl"===this.dir?"body { direction: rtl }":""}\n                ${this.iframeCss.content?this.iframeCss.content:""}\n            `,g=l.createElement("style");if(g.appendChild(l.createTextNode(_)),l.head.appendChild(g),u){const b=l.createElement("link");b.rel="stylesheet",b.href=this.iframeCss.path,l.head.appendChild(b)}const S=l.createElement("div");this.renderer.addClass(S,"k-content"),this.renderer.setAttribute(S,"id",this.focusableId),this.renderer.setAttribute(S,"role","textbox"),l.body.appendChild(S)}else{const l=document.createElement("div");this.renderer.setAttribute(l,"id",this.focusableId),this.renderer.setAttribute(l,"role","textbox"),n.appendChild(l)}const r=[new lu({key:new mc("editor-tabindex"),props:{attributes:()=>({tabIndex:this.readonly?"0":""})}}),new lu({key:new mc("toolbar-tools-update"),view:()=>({update:l=>{this.disabled||this.ngZone.run(()=>{this.stateChange.next(this.readonly?Ple:((s,i)=>({alignCenter:{selected:GS(s,Vae),disabled:!1},alignJustify:{selected:GS(s,zae),disabled:!1},alignLeft:{selected:GS(s,Uae),disabled:!1},alignRight:{selected:GS(s,Bae),disabled:!1},bold:{selected:Kg(s,Dle),disabled:!1},cleanFormatting:{selected:!1,disabled:!W8e()(s)},format:{selected:WVt(s),disabled:!1},blockquote:{selected:!1,disabled:!pLe(s)},indent:{selected:!1,disabled:!(_Le(s,s.schema.nodes.list_item)||Fae(s,AO))},insertOrderedList:{selected:IO(s,s.schema.nodes.ordered_list),disabled:!1},insertUnorderedList:{selected:IO(s,s.schema.nodes.bullet_list),disabled:!1},italic:{selected:Kg(s,Ole),disabled:!1},unlink:{selected:!1,disabled:!Kg(s,cPe)},outdent:{selected:!1,get disabled(){return!(IO(s,s.schema.nodes.blockquote)||gLe(s,RO)||mLe(s,RO.nodes))}},redo:{selected:!1,disabled:!V4(s)},selectAll:{selected:!1,disabled:!1},strikethrough:{selected:Kg(s,rPe),disabled:!1},style:{selected:GVt(s,s.schema.marks.style),disabled:!1},subscript:{selected:Kg(s,aPe),disabled:!1},superscript:{selected:Kg(s,lPe),disabled:!1},underline:{selected:Kg(s,Tle),disabled:!1},undo:{selected:!1,disabled:!wz(s)},createLink:{selected:!1,get disabled(){const e=s.selection.empty;return i&&i.applyToWord&&e?kae(s,()=>{},i).state.selection.empty:e}},insertFile:{selected:!1,disabled:s.selection.empty},insertImage:{selected:!1,disabled:!1},viewSource:{selected:!1,disabled:!1},print:{selected:!1,disabled:!1},insertTable:{selected:!1,disabled:!1},addColumnBefore:{selected:!1,disabled:!NPe(s)},addColumnAfter:{selected:!1,disabled:!LPe(s)},addRowBefore:{selected:!1,disabled:!IPe(s)},addRowAfter:{selected:!1,disabled:!xPe(s)},deleteRow:{selected:!1,disabled:!WGe(s)},deleteColumn:{selected:!1,disabled:!GPe(s)},mergeCells:{selected:!1,disabled:!KGe(s)},splitCell:{selected:!1,disabled:!JGe(s)},deleteTable:{selected:!1,disabled:!QGe(s)}}))(l.state,{applyToWord:this.applyToWord}))})}})}),IHt(),fle(BHt(e)),fle(UHt(e,{applyToWord:this.applyToWord})),fle(_9t),new lu({props:{decorations:sXt,createSelectionBetween:(s,i,e)=>i.pos==e.pos&&ur.valid(e)?new ur(e):null,handleClick:nXt,handleKeyDown:tXt,handleDOMEvents:{beforeinput:iXt}}}),v$t(),P$t(),new lu({key:wr,state:{init:(n,o)=>new z4(-1,null),apply:(n,o)=>o.apply(n)},props:{attributes:n=>vPe(wr,n)?null:wr.getState(n).activeHandle>-1?{class:"resize-cursor"}:null,handleDOMEvents:{mousemove:(n,o)=>(Tz(wr,n.state)||function D$t(s,i,e){let n=wr.getState(s.state);if(!n.dragging){let o=SPe(i.target),r=-1;if(o){const a=CPe(o);let{left:l,right:c}=o.getBoundingClientRect();Math.abs(i.clientX-l)<=e&&a.cellIndex>0?(a.cellIndex-=o.colSpan,r=Iz(s,i,a)):c-i.clientX>0&&c-i.clientX<=e&&(r=Iz(s,i,a))}r!==n.activeHandle&&EPe(s,r)}}(n,o,5),!1),mouseleave:n=>(function O$t(s){let i=wr.getState(s.state);i.activeHandle>-1&&!i.dragging&&EPe(s,-1)}(n),!1),mousedown:(n,o)=>function T$t(s,i,e){let n=wr.getState(s.state);if(-1===n.activeHandle||n.dragging)return!1;let o=s.state.doc.resolve(n.activeHandle);const r=o.parent,a=o.index();let l=0;for(let I=0;I<=a;I++)l+=r.child(I).attrs.colspan;const c=o.node(o.depth-1);let g,S,u=s.domAtPos(n.activeHandle),_=u.node.childNodes[u.offset].closest("table");if(c.attrs[vo])g=_.firstChild.children[l-1],g.style.width||(g.style.width=g.offsetWidth+"px");else{let I=0;for(let G=0;G<r.childCount;G++)I+=r.child(G).attrs.colspan;const N=document.createElement("colgroup"),P=new Array(I);for(let G=0;G<I;G++)P[G]=document.createElement("col"),N.appendChild(P[G]);_.insertBefore(N,_.firstChild),g=P[a],g.style.width=g.offsetWidth+"px",S=Object.assign(Object.assign({},c.attrs),{[vo]:"<colgroup>"+P.reduce((G,H)=>G+H.outerHTML,"")+"</colgroup>"})}let b=parseFloat(g.style.width);const k=s.state.tr.setMeta(wr,{setDragging:{startX:i.clientX,startWidth:b}});if(!_.style.width){const I=Array.from(g.parentNode.children).map(N=>N.style.width);if(I.every(Boolean)){const N=I.reduce((P,G)=>P+parseFloat(G),0);S=Tp(S||c.attrs,"width",N+"px")}}if(S){const I=o.posAtIndex(0,o.depth-1)-1;k.setNodeMarkup(I,null,S)}function D(I){I.view.removeEventListener("mouseup",D),I.view.removeEventListener("mousemove",O);let N=wr.getState(s.state);if(N.dragging){const P=s.state.tr;(function M$t(s,i,e,n){let o=s.state.doc.resolve(e),r=o.node(-1),a=o.start(-1);const l=o.posAtIndex(0,o.depth-1)-1,c=s.nodeDOM(a).closest("table");let u=r.attrs;if(r&&u[vo]){const _=c.firstChild;u=Object.assign(Object.assign({},u),{[vo]:_.outerHTML})}const f=c.style.width;c&&f&&Ch(u.style).width!==f&&(u=Tp(u,"width",f)),i.setNodeMarkup(l,null,u)})(s,P,N.activeHandle,bPe(N.dragging,I,e)),s.dispatch(P.setMeta(wr,{setDragging:null}))}}function O(I){if(!I.which)return D(I);let N=wr.getState(s.state),P=bPe(N.dragging,I,e);!function I$t(s,i,e,n){let o=s.state.doc.resolve(i),r=o.node(-1),a=o.start(-1),l=Gs.get(r).colCount(o.pos-a)+o.nodeAfter.attrs.colspan-1,c=s.domAtPos(o.start(-1)).node;"TABLE"!==c.nodeName&&(c=c.closest("table"));const u=c,_=Array.from(u.firstChild.children);if(_[l].style.width=e+"px",u.style.width){const g=_.map(S=>S.style.width);if(g.every(Boolean)){const S=g.reduce((b,k)=>b+parseFloat(k),0);u.style.width=S+"px"}}}(s,N.activeHandle,P)}return s.dispatch(k),i.view.addEventListener("mouseup",D),i.view.addEventListener("mousemove",O),i.preventDefault(),!0}(n,o,25)},decorations(n){if(!Tz(wr,n)){let o=wr.getState(n);if(o.activeHandle>-1)return function x$t(s,i){let e=[],n=s.doc.resolve(i),o=n.node(-1),r=Gs.get(o),a=n.start(-1);const l=[],c=i-a;let u=-1;for(let _=0;_<r.height;_++)l.push(r.map.slice(_*r.width,_*r.width+r.width)),-1===u&&(u=l[_].lastIndexOf(c));const f=[];return l.forEach(_=>{_[u]!==_[u+1]&&f.push(_[u])}),f.forEach(_=>{let g=a+_+o.nodeAt(_).nodeSize-1,S=document.createElement("div");S.className="column-resize-handle",e.push(Aa.widget(g,S))}),is.create(s.doc,e)}(n,o.activeHandle)}return is.empty},nodeViews:{table_wrapper:(n,o)=>new E$t(n,o),table:(n,o)=>new b$t(n,o)}}}),new lu({key:Dr,state:{init(e,n){return this.spec.props.nodeViews[ol(n.schema).row.name]=(o,r)=>new F$t,new j4(-1,null)},apply:(e,n)=>n.apply(e)},props:{attributes:e=>vPe(Dr,e)?null:Dr.getState(e).activeHandle>-1?{class:"resize-cursor-vertical"}:null,handleDOMEvents:{mousemove:(e,n)=>(Tz(Dr,e.state)||function V$t(s,i,e){let n=Dr.getState(s.state);if(!n.dragging){let o=SPe(i.target),r=-1;if(o){const a=CPe(o);let{top:l,bottom:c}=o.getBoundingClientRect();Math.abs(i.clientY-l)<=e&&a.rowIndex>0?(a.rowIndex-=o.rowSpan,r=Iz(s,i,a)):c-i.clientY>0&&c-i.clientY<=e&&(r=Iz(s,i,a))}r!==n.activeHandle&&OPe(s,r)}}(e,n,5),!1),mouseleave:e=>(function z$t(s){let i=Dr.getState(s.state);i.activeHandle>-1&&!i.dragging&&OPe(s,-1)}(e),!1),mousedown:(e,n)=>function j$t(s,i){let e=Dr.getState(s.state);if(-1===e.activeHandle||e.dragging)return!1;let o=s.state.doc.resolve(e.activeHandle),r=o.parent,a=o.node(-1),l=Ch(r.attrs.style).height,c=Ch(a.attrs.style).height,u=l?parseFloat(l):0;function f(g){g.view.removeEventListener("mouseup",f),g.view.removeEventListener("mousemove",_);let S=Dr.getState(s.state);if(S.dragging){const b=s.state.tr.setMeta(Dr,{setDragging:null});(function $$t(s,i,e){const n=s.state.doc,o=n.resolve(e),r=o.parent,a=o.posAtIndex(0)-1,l=s.nodeDOM(a),c=l.ownerDocument&&l.ownerDocument.defaultView||window;l.style.height=c.getComputedStyle(l).height,i.setNodeMarkup(a,null,Tp(r.attrs,"height",l.style.height));const u=l&&l.closest("table"),f=u&&u.style.height;if(f){let _=n.resolve(a),g=_.start(_.depth)-1;i.setNodeMarkup(g,null,Tp(_.parent.attrs,"height",f))}})(s,b,S.activeHandle),s.dispatch(b)}}function _(g){if(!g.which)return f(g);let S=Dr.getState(s.state),b=function H$t(s,i){return s.startHeight.rowHeight+(i.clientY-s.startY)}(S.dragging,g);!function X$t(s,i,e,n,o){const r=s.nodeDOM(i),a=r&&r.parentNode;if(a){a.style.height=e+"px";const l=a.ownerDocument&&a.ownerDocument.defaultView||window;a.style.height=l.getComputedStyle(a).height;const c=a.closest("table"),u=parseFloat(o)+n+"px",f=c&&c.style.height;f&&f!==u&&(c.style.height=parseFloat(o)+n+"px",c.style.height=l.getComputedStyle(c).height)}}(s,S.activeHandle,b,g.clientY-S.dragging.startY,c)}return l||(u=s.nodeDOM(e.activeHandle).offsetHeight),s.dispatch(s.state.tr.setMeta(Dr,{setDragging:{startY:i.clientY,startHeight:{rowHeight:u,tableHeight:c}}})),i.view.addEventListener("mouseup",f),i.view.addEventListener("mousemove",_),i.preventDefault(),!0}(e,n)},decorations(e){if(Tz(Dr,e))return is.empty;let n=Dr.getState(e);return n.activeHandle>-1?function W$t(s,i){const e=[];if("number"!=typeof i)return is.empty;const n=s.doc.resolve(i),o=n.node(-1),r=Gs.get(o),a=n.start(-1),l=[],c=i-a;let u=-1;for(let _=0;_<r.height;_++)l.push(r.map.slice(_*r.width,_*r.width+r.width)),-1!==l[_].indexOf(c)&&(u=_);const f=[];return l[u].forEach((_,g)=>{(!l[u+1]||_!==l[u+1][g])&&f.push(_)}),f.forEach(_=>{const g=o.nodeAt(_);let S=a+_+(g?g.nodeSize:0)-1,b=document.createElement("div");b.className="row-resize-handle",e.push(Aa.widget(S,b))}),is.create(s.doc,e)}(e,n.activeHandle):void 0},nodeViews:{}}}),uHt(),new lu({key:S$t,props:{decorations:s=>{const{doc:i,selection:e,storedMarks:n}=s;if(!e.empty||!n)return is.empty;const o=V8e((n||[]).find(l=>"style"===l.type.name),{name:"color",value:/^.+$/});if(!o)return is.empty;const r=e.$anchor.parent,a=[];return i.descendants((l,c)=>{l.eq(r)&&a.push(Aa.node(c,c+l.nodeSize,{style:"caret-color: "+o}))}),is.create(i,a)}}}),new lu({key:new mc("csp-fix"),props:{nodeViews:{paragraph:(s,i)=>new n1(s,i,"p"),div:(s,i)=>new n1(s,i,"div"),table_wrapper:(s,i)=>new n1(s,i,"div"),table_caption_external:(s,i)=>new n1(s,i,"div"),table:(s,i)=>new n1(s,i,"table"),table_row:(s,i)=>new n1(s,i,"tr"),table_cell:(s,i)=>new n1(s,i,"td"),table_header:(s,i)=>new n1(s,i,"th"),image:(s,i)=>new n1(s,i,"img",!0)},markViews:{style:(s,i,e)=>new u$t(s,i,e)}}})];this.placeholder&&r.push(function d$t(s){const i={class:"k-placeholder","data-placeholder":s};return new lu({key:new mc("placeholder"),props:{decorations:e=>{const{doc:n}=e,o=n.content.firstChild;if(!(0===n.childCount||1===n.childCount&&o.inlineContent&&0===o.childCount))return is.empty;const a=[];return n.descendants((l,c)=>{a.push(Aa.node(c,c+l.nodeSize,i))}),is.create(n,a)}}})}(this.placeholder));const a=Jb.create({schema:e,doc:o,plugins:zO(this.plugins)?this.plugins(r):r});if(this.viewMountElement=this.iframe?n.contentDocument.querySelector("div"):n.querySelector("div"),this.ngZone.runOutsideAngular(()=>{this._view=new ljt({mount:this.viewMountElement},{state:a,editable:()=>!this.readonly,dispatchTransaction:this.dispatchTransaction,transformPastedHTML:this.transformPastedHTML,transformPastedText:this.transformPastedText,handleDOMEvents:{paste:this.onPaste}})}),this._view){let l;const c=this.element.nativeElement.querySelector(".k-editor-content").classList;l=this.iframe?this.container.element.nativeElement.contentDocument:this.container.element.nativeElement,l.querySelector(".ProseMirror").style="'height: 100%; width: 100%; box-sizing: border-box; outline: none; overflow: auto;'",this.subs.add(wt(l,"focusin").subscribe(f=>{if(this.readonly&&c.add("k-focus"),!this.focusChangedProgrammatically||this.shouldEmitFocus){const _=f.relatedTarget;(!(_&&_.classList.contains("k-colorpicker"))||this.shouldEmitFocus)&&this.ngZone.run(()=>this.onFocus.emit()),this.shouldEmitFocus=!1}})),this.subs.add(wt(l,"focusout").subscribe(f=>{if(this.readonly&&c.remove("k-focus"),!this.focusChangedProgrammatically){const _=f.relatedTarget;_&&_.classList.contains("k-colorpicker")||this.ngZone.run(()=>this.onBlur.emit())}}))}this.subs.add(this.stateChange.subscribe(()=>{this.ngZone.onStable.pipe(Ye(1)).subscribe(()=>{this.userToolBarComponent?this.userToolBarComponent.cdr.detectChanges():this.cdr.detectChanges()})})),this.subs.add(this.valueModified.subscribe(l=>{this.onChangeCallback(l),this.valueChange.emit(l),this.cdr.markForCheck()})),this.subs.add(wt(this.viewMountElement,"keyup").pipe((0,U.T)(l=>l.keyCode),z(l=>121===l),(0,U.T)(()=>this.toolbarElement)).subscribe(l=>l.nativeElement.focus())),this.subs.add(wt(this.viewMountElement,"blur").pipe(z(l=>!this.viewMountElement.contains(l.relatedTarget))).subscribe(()=>this.onTouchedCallback()))}normalizeSize(){if("object"==typeof this.resizable&&!this._styleObserver){const e=this.element.nativeElement;this._styleObserver=new MutationObserver(()=>{this.ngZone.runOutsideAngular(()=>this.normalizeProperties(e))}),this._styleObserver.observe(e,{attributeFilter:["style"]})}}normalizeProperties(e){const n=Object.keys(this.resizable),o=parseInt(e.style.width,10),r=parseInt(e.style.height,10),a=this.resizable;n.forEach(l=>{const c=l.startsWith("min"),u=!c,f=l.endsWith("Width");c&&f?o<a.minWidth&&(e.style.width=a.minWidth+"px"):c&&!f?r<a.minHeight&&(e.style.height=a.minHeight+"px"):u&&f?o>a.maxWidth&&(e.style.width=a.maxWidth+"px"):r>a.maxHeight&&(e.style.height=a.maxHeight+"px")})}dispatchPasteEvent(e,n){if(ke(this.paste)){const o=new RWt(n,e,this._pasteEvent);return this.ngZone.run(()=>this.paste.emit(o)),o.isDefaultPrevented()?"":o.cleanedHtml}return n}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(H_),t.rXU(j),t.rXU(t.gRc),t.rXU(t.SKi),t.rXU(t.aKT),t.rXU(Zn),t.rXU(ci),t.rXU(t.sFG))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-editor"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,vh,5),t.wni(o,vh,5,t.aKT)),2&e){let r;t.mGM(r=t.lsd())&&(n.userToolBarComponent=r.first),t.mGM(r=t.lsd())&&(n.userToolBarElement=r.first)}},viewQuery:function(e,n){if(1&e&&(t.GBs(DXt,5,t.c1b),t.GBs(OXt,5,t.c1b),t.GBs(FPe,5,t.aKT),t.GBs(FPe,5,vh)),2&e){let o;t.mGM(o=t.lsd())&&(n.dialogContainer=o.first),t.mGM(o=t.lsd())&&(n.container=o.first),t.mGM(o=t.lsd())&&(n.defaultToolbar=o.first),t.mGM(o=t.lsd())&&(n.defaultToolbarComponent=o.first)}},hostVars:20,hostBindings:function(e,n){2&e&&(t.BMQ("dir",n.dir)("ariaDisabled",n.ariaDisabled),t.xc7("min-width",n.minWidth)("max-width",n.maxWidth)("min-height",n.minHeight)("max-height",n.maxHeight),t.AVh("k-editor",n.hostClass)("k-editor-resizable",n.resizableClass)("k-disabled",n.isDisabled)("k-readonly",n.isReadonly)("k-ie",n.isIE))},inputs:{value:"value",disabled:"disabled",readonly:"readonly",iframe:"iframe",iframeCss:"iframeCss",applyToWord:"applyToWord",schema:"schema",plugins:"plugins",placeholder:"placeholder",preserveWhitespace:"preserveWhitespace",pasteCleanupSettings:"pasteCleanupSettings",resizable:"resizable"},outputs:{valueChange:"valueChange",onFocus:"focus",paste:"paste",onBlur:"blur"},features:[t.Jv_([bn,Zn,ci,{provide:j,useExisting:bn},{provide:Ve,useValue:"kendo.editor"},{provide:Yn,useExisting:(0,t.Rfq)(()=>s),multi:!0},{provide:as,useExisting:(0,t.Rfq)(()=>s)}]),t.OA$],ngContentSelectors:MXt,decls:8,vars:4,consts:()=>{let i,e,n,o,r,a,l,c,u,f,_,g,S,b,k,D,O,I,N,P,G,H,$,Q,ie,ce,re,Ne,ue,ye,se,te,le,ve,Se,Me,Ut,Le,en,Ce,Tt,Nt,xt,Es,dn,Kn,ei,Co,di,Ps,gd,vd,Sd,Nl,uu,La;return i="Centra testo",e="Giustifica testo",n="Allinea a sinistra",o="Allinea a destra",r="Colore di sfondo",a="Quotation",l="Grassetto",c="Annulla formattazione",u="Inserisci link",f="Applica",_="Cancella",g="Inserisci",S="Aggiorna",b="Testo",k="Titolo",D="Indirizzo web",O="Seleziona carattere",I="Seleziona dimensione carattere",N="Colore",P="Formato",G="Testo alternativo",H="Altezza (px)",$="Indirizzo Web",Q="Larghezza (px)",ie="Indenta",ce="Inserisci file",re="Inserisci immagine",Ne="Inserisci lista ordinata",ue="Inserisci lista non ordinata",ye="Italico",se="Apri link in nuova finestra",te="Testo",le="Titolo",ve="Indirizzo web",Se="Elimina rientro",Me="Stampa",Ut="Ripristina",Le="Seleziona tutto",en="Barrato",Ce="Pedice",Tt="Apice",Nt="Sottolinea",xt="Rimuovi Link",Es="Ripristina",dn="Sorgente",Kn="Inserisci Tabella",ei="Create a ",Co="Aggiungi colonna prima",di="Aggiungi colonna dopo",Ps="Aggiungi riga prima",gd="Aggiungi riga dopo",vd="Unisci le celle",Sd="Dividi le celle",Nl="Cancella colonna",uu="Cancella riga",La="Cancella tabella",[["dialogsContainer",""],["defaultToolbar",""],["content",""],["kendoEditorLocalizedMessages","","alignCenter",i,"alignJustify",e,"alignLeft",n,"alignRight",o,"backColor",r,"blockquote",a,"bold",l,"cleanFormatting",c,"createLink",u,"dialogApply",f,"dialogCancel",_,"dialogInsert",g,"dialogUpdate",S,"fileText",b,"fileTitle",k,"fileWebAddress",D,"fontFamily",O,"fontSize",I,"foreColor",N,"format",P,"imageAltText",G,"imageHeight",H,"imageWebAddress",$,"imageWidth",Q,"indent",ie,"insertFile",ce,"insertImage",re,"insertOrderedList",Ne,"insertUnorderedList",ue,"italic",ye,"linkOpenInNewWindow",se,"linkText",te,"linkTitle",le,"linkWebAddress",ve,"outdent",Se,"print",Me,"redo",Ut,"selectAll",Le,"strikethrough",en,"subscript",Ce,"superscript",Tt,"underline",Nt,"unlink",xt,"undo",Es,"viewSource",dn,"insertTable",Kn,"insertTableHint",ei,"addColumnBefore",Co,"addColumnAfter",di,"addRowBefore",Ps,"addRowAfter",gd,"mergeCells",vd,"splitCell",Sd,"deleteColumn",Nl,"deleteRow",uu,"deleteTable",La],["class","k-editor-toolbar",3,"overflow","tabindex",4,"ngIf"],["class","k-editor-content",4,"ngIf"],["kendoWatermarkOverlay","",4,"ngIf"],[1,"k-editor-toolbar",3,"overflow","tabindex"],["kendoEditorBoldButton",""],["kendoEditorItalicButton",""],["kendoEditorUnderlineButton",""],["kendoEditorFormat",""],["kendoEditorAlignLeftButton",""],["kendoEditorAlignCenterButton",""],["kendoEditorAlignRightButton",""],["kendoEditorAlignJustifyButton",""],["kendoEditorInsertUnorderedListButton",""],["kendoEditorInsertOrderedListButton",""],["kendoEditorIndentButton",""],["kendoEditorOutdentButton",""],["kendoEditorCreateLinkButton",""],["kendoEditorUnlinkButton",""],["kendoEditorInsertImageButton",""],[1,"k-editor-content"],["srcdoc",t.OP0`<!DOCTYPE html>`,"role","none","frameborder","0",1,"k-iframe",3,"load"],["kendoWatermarkOverlay",""]]},template:function(e,n){1&e&&(t.NAR(TXt),t.eu8(0,3),t.SdG(1),t.DNE(2,IXt,21,2,"kendo-toolbar",4)(3,xXt,2,1,"div",5)(4,AXt,3,6,"div",5),t.eu8(5,null,0),t.DNE(7,RXt,1,0,"div",6)),2&e&&(t.R7$(2),t.Y8G("ngIf",!n.userToolBarElement),t.R7$(),t.Y8G("ngIf",!n.iframe),t.R7$(),t.Y8G("ngIf",n.iframe),t.R7$(3),t.Y8G("ngIf",n.showLicenseWatermark))},dependencies:[vh,Om,Pn,YPe,U_,KPe,W,Gm,Pm,Fm,qPe,QPe,ZPe,eFe,Um,tFe,nFe,iFe,sFe,oFe,rFe],encapsulation:2}),s})(),lFe=(()=>{class s extends j_{constructor(e,n){super(e),this.dialog=e,this.localization=n}ngAfterViewInit(){Promise.resolve(null).then(()=>{this.colorPicker.focus()})}handleActiveColorClick(e){e.preventOpen(),this.value=e.color}handleClearButtonClick(){this.editor.exec(this.editorCommand,void 0)}onCancelAction(){this.dialog.close()}onConfirmAction(){this.value&&this.editor.exec(this.editorCommand,this.value),this.dialog.close(),this.editor.view.focus()}setData(e){this.editor=e.editor,this.value=e.value,this.svgIcon=e.svgIcon,this.editorCommand=e.editorCommand,this.paletteSettings=e.paletteSettings,this.icon=e.icon,this.views=e.view?[e.view]:e.views}textFor(e){return this.localization.get(e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Gf),t.rXU(bn))},s.\u0275cmp=t.VBU({type:s,selectors:[["ng-component"]],viewQuery:function(e,n){if(1&e&&t.GBs(Lle,7,Lv),2&e){let o;t.mGM(o=t.lsd())&&(n.colorPicker=o.first)}},inputs:{editor:"editor"},features:[t.Vt3],decls:10,vars:13,consts:[["colorpicker",""],[3,"close"],[3,"valueChange","activeColorClick","clearButtonClick","views","format","icon","svgIcon","value","paletteSettings"],["layout","start"],["kendoButton","",3,"click","primary"],["kendoButton","",3,"click"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"kendo-dialog-titlebar",1),t.bIt("close",function(){return t.eBV(o),t.Njj(n.onCancelAction())}),t.EFF(1),t.k0s(),t.j41(2,"div")(3,"kendo-colorpicker",2,0),t.mxI("valueChange",function(a){return t.eBV(o),t.DH7(n.value,a)||(n.value=a),t.Njj(a)}),t.bIt("activeColorClick",function(a){return t.eBV(o),t.Njj(n.handleActiveColorClick(a))})("clearButtonClick",function(){return t.eBV(o),t.Njj(n.handleClearButtonClick())}),t.k0s()(),t.j41(5,"kendo-dialog-actions",3)(6,"button",4),t.bIt("click",function(){return t.eBV(o),t.Njj(n.onConfirmAction())}),t.EFF(7),t.k0s(),t.j41(8,"button",5),t.bIt("click",function(){return t.eBV(o),t.Njj(n.onCancelAction())}),t.EFF(9),t.k0s()()}2&e&&(t.R7$(),t.SpI(" ",n.textFor(n.editorCommand)," "),t.R7$(),t.xc7("text-align","center"),t.R7$(),t.Y8G("views",n.views)("format","hex")("icon",n.icon)("svgIcon",n.svgIcon),t.R50("value",n.value),t.Y8G("paletteSettings",n.paletteSettings),t.BMQ("title",n.title),t.R7$(3),t.Y8G("primary",!0),t.R7$(),t.JRh(n.textFor("dialogApply")),t.R7$(2),t.JRh(n.textFor("dialogCancel")))},dependencies:[Hc,Lv,jc,$t],encapsulation:2}),s})(),Y4=(()=>{class s{constructor(){this.valueChange=new t.bkB}onValueChange(e){this.valueChange.emit(e)}focus(){this.dropDownList.focus()}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-editor-fontsize-dropdownlist"]],viewQuery:function(e,n){if(1&e&&(t.GBs(Lp,7),t.GBs(Lp,7,io)),2&e){let o;t.mGM(o=t.lsd())&&(n.element=o.first),t.mGM(o=t.lsd())&&(n.dropDownList=o.first)}},inputs:{data:"data",value:"value",defaultItem:"defaultItem",itemDisabled:"itemDisabled",title:"title",disabled:"disabled",tabindex:"tabindex"},outputs:{valueChange:"valueChange"},decls:2,vars:12,consts:[["element",""],["kendoEditorDropDownTool","",3,"valueChange","defaultItem","textField","valueField","data","value","valuePrimitive","itemDisabled","disabled","tabindex"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"kendo-dropdownlist",1,0),t.mxI("valueChange",function(a){return t.eBV(o),t.DH7(n.value,a)||(n.value=a),t.Njj(a)}),t.bIt("valueChange",function(a){return t.eBV(o),t.Njj(n.onValueChange(a))}),t.k0s()}2&e&&(t.xc7("width",13,"em"),t.Y8G("defaultItem",n.defaultItem)("textField","text")("valueField","size")("data",n.data),t.R50("value",n.value),t.Y8G("valuePrimitive",!0)("itemDisabled",n.itemDisabled)("disabled",n.disabled)("tabindex",n.tabindex),t.BMQ("title",n.title))},dependencies:[io,Nz],encapsulation:2}),s})(),uFe=(()=>{class s extends j_{constructor(e,n){super(e),this.dialog=e,this.localization=n,this.data=[]}ngAfterViewInit(){Promise.resolve(null).then(()=>{this.fontSizeDropDownList.dropDownList.focus()})}onCancelAction(){this.dialog.close()}onConfirmAction(){this.value&&this.editor.exec("fontSize",this.value),this.dialog.close()}setData(e){this.editor=e.editor,this.data=e.data,this.defaultItem=e.defaultItem,this.value=e.value,this.itemDisabled=e.itemDisabled}textFor(e){return this.localization.get(e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Gf),t.rXU(bn))},s.\u0275cmp=t.VBU({type:s,selectors:[["ng-component"]],viewQuery:function(e,n){if(1&e&&t.GBs(FXt,7,Y4),2&e){let o;t.mGM(o=t.lsd())&&(n.fontSizeDropDownList=o.first)}},inputs:{editor:"editor"},features:[t.Vt3],decls:10,vars:10,consts:[["fontSizeDropDownList",""],[3,"close"],[3,"valueChange","defaultItem","data","value","itemDisabled"],["layout","start"],["kendoButton","",3,"click","primary"],["kendoButton","",3,"click"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"kendo-dialog-titlebar",1),t.bIt("close",function(){return t.eBV(o),t.Njj(n.onCancelAction())}),t.EFF(1),t.k0s(),t.j41(2,"div")(3,"kendo-editor-fontsize-dropdownlist",2,0),t.mxI("valueChange",function(a){return t.eBV(o),t.DH7(n.value,a)||(n.value=a),t.Njj(a)}),t.k0s()(),t.j41(5,"kendo-dialog-actions",3)(6,"button",4),t.bIt("click",function(){return t.eBV(o),t.Njj(n.onConfirmAction())}),t.EFF(7),t.k0s(),t.j41(8,"button",5),t.bIt("click",function(){return t.eBV(o),t.Njj(n.onCancelAction())}),t.EFF(9),t.k0s()()}2&e&&(t.R7$(),t.SpI(" ",n.textFor("fontSize")," "),t.R7$(),t.xc7("text-align","center"),t.R7$(),t.Y8G("defaultItem",n.defaultItem)("data",n.data),t.R50("value",n.value),t.Y8G("itemDisabled",n.itemDisabled),t.R7$(3),t.Y8G("primary",!0),t.R7$(),t.JRh(n.textFor("dialogApply")),t.R7$(2),t.JRh(n.textFor("dialogCancel")))},dependencies:[Hc,Y4,jc,$t],encapsulation:2}),s})(),s1=(()=>{class s extends xo{constructor(e,n,o,r,a){super(),this.dialogService=e,this.localization=n,this.toolsService=r,this.renderer=a,this.disabled=!1,this.tabindex=-1,this.valueChange=new t.bkB,this.fontSizeSVGIcon=nJ,this._data=[{text:"8px",size:"8px"},{text:"10px",size:"10px"},{text:"12px",size:"12px"},{text:"14px",size:"14px"},{text:"18px",size:"18px"},{text:"24px",size:"24px"},{text:"36px",size:"36px"}],this.editor=o.editor}set data(e){let n;e&&(n=e.map(o=>"number"==typeof o.size?{...o,size:`${o.size}px`}:o)),this._data=n||this._data}get data(){return this._data}ngOnInit(){this.itemDisabled=e=>!(this.overflows||!this.fontSizeDropDownList||this.fontSizeDropDownList.dropDownList.isOpen)||null===e.dataItem.size,setTimeout(()=>{this.defaultItem={text:this.title,size:null},this.toolsService.needsCheck.next()}),this.subs=this.editor.stateChange.subscribe(({style:e})=>{this.value=((s,i)=>{if(s.hasNodesWithoutMarks)return"";const e=s.marks.filter(n=>"style"===n.type.name).map(n=>n.attrs.style).map(VPe).map(zPe(";")).map((s=>i=>i.filter(s))(n=>n.includes(i))).map(n=>0!==n.length?n:[`${i}: INVALID`]).map(yWt).map(zPe(":")).map(kWt).map(wWt).reduce((n,o)=>n.indexOf(o)>-1?n:[...n,o],[]);return e.indexOf("INVALID")>-1||1!==e.length?"":e[0]})(e.selected,"font-size")||null,this.disabled=e.disabled})}onValueChange(e){zO(e)&&(this.editor.exec("fontSize",e),this.editor.view.focus(),this.valueChange.emit(this.data.find(n=>n.size===e)))}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}get outerWidth(){if(this.element)return X4(this.element.nativeElement)}get title(){return this.localization.get("fontSize")}openDialog(){const e={appendTo:this.editor.dialogContainer,content:uFe,width:400};this.editor.toolbar.toggle(!1);const n=this.dialogService.open(e).content.instance;this.renderer.addClass(n.dialog.dialog.instance.wrapper.nativeElement.querySelector(".k-window"),"k-editor-window"),n.setData({editor:this.editor,data:this.data,defaultItem:this.defaultItem,value:this.value,itemDisabled:this.itemDisabled})}canFocus(){return!this.disabled}focus(){this.tabindex=0,this.overflows?this.fontSizeButton.nativeElement.focus():this.fontSizeDropDownList.focus()}handleKey(){return this.tabindex=-1,!1}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(H_),t.rXU(bn),t.rXU(Zn),t.rXU(ci),t.rXU(t.sFG))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-toolbar-dropdownlist","kendoEditorFontSize",""]],viewQuery:function(e,n){if(1&e&&(t.GBs(H4,7),t.GBs($4,7),t.GBs(Lp,5),t.GBs(Lp,5,Y4),t.GBs(UXt,5,t.aKT)),2&e){let o;t.mGM(o=t.lsd())&&(n.toolbarTemplate=o.first),t.mGM(o=t.lsd())&&(n.popupTemplate=o.first),t.mGM(o=t.lsd())&&(n.element=o.first),t.mGM(o=t.lsd())&&(n.fontSizeDropDownList=o.first),t.mGM(o=t.lsd())&&(n.fontSizeButton=o.first)}},inputs:{data:"data"},outputs:{valueChange:"valueChange"},features:[t.Jv_([{provide:xo,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],attrs:BXt,decls:4,vars:0,consts:[["toolbarTemplate",""],["popupTemplate",""],["element",""],["fontSizeButton",""],[3,"valueChange","defaultItem","data","value","itemDisabled","title","disabled","tabindex"],["tabindex","-1","role","menuitem",1,"k-item","k-menu-item",3,"click","tabindex"],[1,"k-link","k-menu-link"],["name","font-size",3,"svgIcon"],["class","k-menu-link-text",4,"ngIf"],[1,"k-menu-link-text"]],template:function(e,n){1&e&&t.DNE(0,VXt,2,7,"ng-template",null,0,t.C5r)(2,jXt,5,5,"ng-template",null,1,t.C5r)},dependencies:[Y4,Ke,W],encapsulation:2}),s})(),Gp=(()=>{class s extends xo{constructor(e,n,o,r,a){super(),this.localization=e,this.dialogService=n,this.ngZone=o,this.renderer=a,this.tabindex=-1,this.disabled=!1,this.views=["palette"],this.editor=r.editor}set view(e){this.views=[e]}get view(){return this.views&&this.views.length>0?this.views[0]:null}get title(){return this.localization.get(this.editorCommand)}ngOnInit(){this.subs=this.editor.stateChange.subscribe(({style:e})=>{this.disabled=e.disabled}),this.activeView=this.view}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}handleValueChange(e){this.editor.exec(this.editorCommand,e),"palette"===this.activeView&&this.editor.view.focus()}handleActiveColorClick(e){e.preventOpen(),this.handleValueChange(e.color)}onOpen(e){this.valueCache=e.value,e.reset()}onClose(e){e.value||(e.value=this.valueCache),this.editor.shouldEmitFocus=!0,this.ngZone.onStable.pipe(Ye(1)).subscribe(()=>this.editor.view.focus()),this.activeView=this.view}handleClearButtonClick(){this.editor.exec(this.editorCommand,void 0),"palette"===this.activeView&&this.editor.view.focus()}onActiveViewChange(e){this.activeView=e}get outerWidth(){if(this.element)return X4(this.element.nativeElement)}openDialog(){const e={appendTo:this.editor.dialogContainer,content:lFe,width:400};this.editor.toolbar.toggle(!1);const n=this.dialogService.open(e).content.instance;this.renderer.addClass(n.dialog.dialog.instance.wrapper.nativeElement.querySelector(".k-window"),"k-editor-window"),n.setData({editor:this.editor,value:this.value,title:this.title,editorCommand:this.editorCommand,paletteSettings:this.paletteSettings,icon:this.icon,svgIcon:this.svgIcon,views:this.views})}canFocus(){return!this.disabled}focus(){this.tabindex=0,this.overflows?this.colorPickerButton?.nativeElement.focus():!this.colorPicker.isOpen&&this.colorPicker?.focus()}handleKey(){return this.tabindex=-1,!1}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(bn),t.rXU(H_),t.rXU(t.SKi),t.rXU(Zn),t.rXU(t.sFG))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-toolbar-colorpicker"]],viewQuery:function(e,n){if(1&e&&(t.GBs(H4,7),t.GBs($4,7),t.GBs(Lle,5,t.aKT),t.GBs(Lle,5,Lv),t.GBs(KXt,5,t.aKT)),2&e){let o;t.mGM(o=t.lsd())&&(n.toolbarTemplate=o.first),t.mGM(o=t.lsd())&&(n.popupTemplate=o.first),t.mGM(o=t.lsd())&&(n.element=o.first),t.mGM(o=t.lsd())&&(n.colorPicker=o.first),t.mGM(o=t.lsd())&&(n.colorPickerButton=o.first)}},inputs:{value:"value",icon:"icon",svgIcon:"svgIcon",paletteSettings:"paletteSettings",editorCommand:"editorCommand",disabled:"disabled",views:"views",view:"view"},features:[t.Jv_([{provide:xo,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:4,vars:0,consts:[["toolbarTemplate",""],["popupTemplate",""],["colorpicker",""],["colorPickerButton",""],[3,"valueChange","clearButtonClick","activeColorClick","open","close","activeViewChange","icon","svgIcon","views","format","value","paletteSettings","disabled","tabindex"],["tabindex","-1","role","menuitem",1,"k-item","k-menu-item",3,"click","tabindex"],[1,"k-link","k-menu-link"],[3,"name","svgIcon",4,"ngIf"],["class","k-menu-link-text",4,"ngIf"],[3,"name","svgIcon"],[1,"k-menu-link-text"]],template:function(e,n){1&e&&t.DNE(0,JXt,2,9,"ng-template",null,0,t.C5r)(2,ZXt,5,5,"ng-template",null,1,t.C5r)},dependencies:[Lv,Ke,W],encapsulation:2}),s})(),o1=(()=>{class s{constructor(e){this.colorPicker=e,this.colorPicker.icon=Ule.foreColor,this.colorPicker.svgIcon=Ble.foreColor,this.colorPicker.editorCommand="foreColor"}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Gp))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoEditorForeColor",""]]}),s})(),qWt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,Ov,Tv,gr,ZSe,_q,R5,pw,mQ,An,GNe,y0,hQ,_Q,QQ,B_],GNe,gr,Ov,Tv]}),s})();const QWt=["addressModal"],ZWt=["addressesModal"];function eYt(s,i){1&s&&t.nrm(0,"div",6)}function tYt(s,i){if(1&s){const e=t.RV6();t.j41(0,"form",17,2),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.close())}),t.j41(2,"div",18)(3,"div",19)(4,"label"),t.EFF(5,"Nominativo"),t.k0s(),t.j41(6,"div",20)(7,"input",21),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.name,o)||(r.options.name=o),t.Njj(o)}),t.k0s(),t.nrm(8,"div",22),t.k0s()()(),t.j41(9,"div",18)(10,"div",19)(11,"label"),t.EFF(12,"Telefono"),t.k0s(),t.j41(13,"div",20)(14,"input",23),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.telephone,o)||(r.options.telephone=o),t.Njj(o)}),t.k0s()()(),t.j41(15,"div",19)(16,"label"),t.EFF(17,"Email"),t.k0s(),t.j41(18,"div",20)(19,"input",24),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.email,o)||(r.options.email=o),t.Njj(o)}),t.k0s()()()(),t.j41(20,"div",18)(21,"div",19)(22,"label"),t.EFF(23,"Contatto"),t.k0s(),t.j41(24,"div",20)(25,"input",25),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.contact,o)||(r.options.contact=o),t.Njj(o)}),t.k0s(),t.nrm(26,"div",22),t.k0s()(),t.j41(27,"div",19)(28,"label"),t.EFF(29,"Telefono Contatto"),t.k0s(),t.j41(30,"div",20)(31,"input",26),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.contactTelephone,o)||(r.options.contactTelephone=o),t.Njj(o)}),t.k0s()()(),t.j41(32,"div",19)(33,"label"),t.EFF(34,"Email Contatto"),t.k0s(),t.j41(35,"div",20)(36,"input",27),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.contactEmail,o)||(r.options.contactEmail=o),t.Njj(o)}),t.k0s()()()(),t.j41(37,"div",18)(38,"div",28)(39,"label"),t.EFF(40,"Indirizzo"),t.k0s(),t.j41(41,"div",20)(42,"kendo-combobox",29),t.mxI("valueChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.mainAddress,o)||(r.options.mainAddress=o),t.Njj(o)}),t.bIt("valueChange",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.mainAddressChanged(o))}),t.k0s(),t.j41(43,"button",30),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.createAddress())}),t.nrm(44,"i",31),t.k0s(),t.j41(45,"input",32),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.mainAddress,o)||(r.options.mainAddress=o),t.Njj(o)}),t.k0s(),t.nrm(46,"div",22),t.k0s()(),t.j41(47,"div",19)(48,"label"),t.EFF(49,"\xa0"),t.k0s(),t.j41(50,"div",20)(51,"button",33),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.editAddresses())}),t.nrm(52,"i",34),t.EFF(53," Gestione indirizzi "),t.k0s()()()(),t.j41(54,"div",35)(55,"button",11),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.dismiss())}),t.nrm(56,"i",12),t.EFF(57," ANNULLA "),t.k0s(),t.j41(58,"button",36),t.nrm(59,"i",14),t.EFF(60," SALVA "),t.k0s()()()}if(2&s){const e=t.sdS(1),n=t.XpG(2);t.R7$(7),t.R50("ngModel",n.options.name),t.R7$(),t.Y8G("control",e.controls.name),t.R7$(6),t.R50("ngModel",n.options.telephone),t.R7$(5),t.R50("ngModel",n.options.email),t.R7$(6),t.R50("ngModel",n.options.contact),t.R7$(),t.Y8G("control",e.controls.contact),t.R7$(5),t.R50("ngModel",n.options.contactTelephone),t.R7$(5),t.R50("ngModel",n.options.contactEmail),t.R7$(6),t.AVh("address-validation-error-combobox",n.isAddressInValidationError),t.Y8G("data",n.options.addresses),t.R50("value",n.options.mainAddress),t.R7$(3),t.Y8G("hidden",!0),t.R50("ngModel",n.options.mainAddress),t.R7$(),t.Y8G("control",e.controls.address)}}function nYt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",7)(1,"kendo-window",8),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",9),t.EFF(4,"Fornitore"),t.k0s(),t.j41(5,"div",10)(6,"button",11),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",12),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",13),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",14),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",15),t.k0s(),t.DNE(13,tYt,61,15,"form",16),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("top",30),t.R7$(12),t.Y8G("ngIf",e.options)}}let zle=(()=>{class s extends As{get isAddressInValidationError(){return null!=this.form&&this.form.submitted&&!this.form.controls.address.valid}constructor(e,n,o){super(e),this._supplierService=n,this._addressesService=o,this.role=Pt}_canClose(){return Xr(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid}mainAddressChanged(e){void 0!==e&&this.options.addresses.forEach(n=>{n.isMainAddress=n.tempId===e.tempId})}addNewAddress(e){null==this.options.id?(this.options.addresses.push(e),e.isMainAddress&&(this.options.mainAddress=e,this.options.addresses.forEach(n=>{n.isMainAddress=n.tempId===e.tempId}))):this._subscriptions.push(this._addressesService.createAddress(e).pipe((0,U.T)(n=>n),x(n=>this._messageBox.success("Indirizzo creato con successo")),x(()=>this.readAddresses())).subscribe())}readAddresses(){this._subscriptions.push(this._supplierService.getSupplier(this.options.id).pipe((0,U.T)(e=>{const n=Object.assign(new ch,e);this.options.addresses=n.addresses}),x(()=>{})).subscribe())}createAddress(){const e=new ds;e.supplierId=this.options.id,this._subscriptions.push(this.addressModal.open(e).pipe(z(n=>n),x(()=>{this.addNewAddress(e)})).subscribe())}editAddresses(){this._subscriptions.push(this.addressesModal.open().pipe(z(e=>e),x(()=>{console.log("closed edit addresses")})).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(_t),t.rXU(Sb),t.rXU(lh))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-supplier-modal"]],viewQuery:function(n,o){if(1&n&&(t.GBs(QWt,7),t.GBs(ZWt,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.addressModal=r.first),t.mGM(r=t.lsd())&&(o.addressesModal=r.first)}},features:[t.Vt3],decls:6,vars:4,consts:[["addressModal",""],["addressesModal",""],["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[3,"supplier"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowCloseAction",""],["name","updateUserForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateUserForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row"],[1,"col-md-4"],[1,"form-group"],["name","name","required","","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"validation-message",3,"control"],["name","telephone","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","email","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["name","contact","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["name","contactTelephone","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","contactEmail","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-8"],["textField","fullAddress","suggest","true","valueField","tempId",1,"address-combobox",3,"valueChange","data","value"],["type","button","title","Nuovo indirizzo",1,"btn","btn-primary","add-address-button",3,"click"],[1,"fa","fa-plus"],["name","address","required","","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","hidden","ngModel"],["type","button","title","Gestione indirizza",1,"btn","btn-primary",3,"click"],[1,"fa","fa-edit"],[1,"text-right","mt-5"],["type","submit",1,"btn","btn-primary"]],template:function(n,o){1&n&&(t.DNE(0,eYt,1,0,"div",3)(1,nYt,14,4,"div",4),t.nrm(2,"app-address-modal",5,0)(4,"app-addresses-modal",5,1)),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("supplier",o.options),t.R7$(2),t.Y8G("supplier",o.options))},dependencies:[W,Fi,jo,Un,Pi,ts,Vu,mi,Mi,ni,li,Wn,go,cr,gm,OMe],styles:[".address-validation-error-combobox[_ngcontent-%COMP%]{border:1px solid #dc3545}"]})}return s})(),jle=(()=>{class s extends It{constructor(){super()}ngOnChanges(e){e.options&&this.options&&(this.title=this.options.name,this.content=this._getContent(this.options.name),this.backgroundColor=this._getBackgroundColor(this.options.colorHex),this.color=this._getColor(this.backgroundColor))}_getContent(e){const n=e?.trim().split(" ").filter(o=>o);return n?1===n.length?n[0][0].toUpperCase():n[0][0].toUpperCase()+n[1][0].toUpperCase():""}_getBackgroundColor(e){return e||"#ffffff"}_getColor(e){if(!e)return"black";const n_r=parseInt(e.substring(1,2),16),n_g=parseInt(e.substring(3,2),16),n_b=parseInt(e.substring(5,2),16);return Math.round((299*n_r+587*n_g+114*n_b)/1e3)>125?"black":"white"}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-operator-avatar"]],hostVars:5,hostBindings:function(n,o){2&n&&(t.BMQ("title",o.title),t.xc7("background-color",o.backgroundColor)("color",o.color))},inputs:{options:"options"},features:[t.Vt3,t.OA$],decls:1,vars:1,template:function(n,o){1&n&&t.EFF(0),2&n&&t.JRh(o.content)},encapsulation:2})}return s})();const iYt=()=>["style"],sYt=s=>({convertMsLists:!0,removeAttributes:s,removeHtmlComments:!0,removeMsClasses:!0,removeMsStyles:!0,removeInvalidHTML:!0});function oYt(s,i){1&s&&t.nrm(0,"div",3)}function rYt(s,i){if(1&s&&(t.j41(0,"div",34),t.nrm(1,"app-operator-avatar",35),t.EFF(2),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.Y8G("options",e),t.R7$(),t.SpI(" ",e.name," ")}}function aYt(s,i){if(1&s&&(t.j41(0,"div",34),t.nrm(1,"app-operator-avatar",35),t.EFF(2),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.Y8G("options",e),t.R7$(),t.SpI(" ",e.name," ")}}function lYt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",15)(1,"div",20)(2,"label"),t.EFF(3,"Destinatari commento"),t.k0s(),t.j41(4,"div",17)(5,"kendo-multiselect",31),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(3);return t.DH7(r.options.targetOperators,o)||(r.options.targetOperators=o),t.Njj(o)}),t.DNE(6,rYt,3,2,"ng-template",32)(7,aYt,3,2,"ng-template",33),t.k0s(),t.nrm(8,"div",19),t.k0s()()()}if(2&s){t.XpG();const e=t.sdS(1),n=t.XpG(2);t.R7$(5),t.Y8G("data",n.operators),t.R50("ngModel",n.options.targetOperators),t.Y8G("allowCustom",!1)("valuePrimitive",!0)("readonly",n.readonly),t.R7$(3),t.Y8G("control",e.controls.operators)}}function cYt(s,i){if(1&s&&(t.j41(0,"div",34),t.nrm(1,"app-operator-avatar",35),t.EFF(2),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.Y8G("options",e),t.R7$(),t.SpI(" ",e.name," ")}}function dYt(s,i){if(1&s&&(t.j41(0,"div",34),t.nrm(1,"app-operator-avatar",35),t.EFF(2),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.Y8G("options",e),t.R7$(),t.SpI(" ",e.name," ")}}function uYt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",15)(1,"div",20)(2,"label"),t.EFF(3,"Destinatari commento"),t.k0s(),t.j41(4,"div",17)(5,"kendo-multiselect",31),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(3);return t.DH7(r.targetOperators,o)||(r.targetOperators=o),t.Njj(o)}),t.DNE(6,cYt,3,2,"ng-template",32)(7,dYt,3,2,"ng-template",33),t.k0s(),t.nrm(8,"div",19),t.k0s()()()}if(2&s){t.XpG();const e=t.sdS(1),n=t.XpG(2);t.R7$(5),t.Y8G("data",n.operators),t.R50("ngModel",n.targetOperators),t.Y8G("allowCustom",!1)("valuePrimitive",!0)("readonly",!0),t.R7$(3),t.Y8G("control",e.controls.operators)}}function hYt(s,i){if(1&s){const e=t.RV6();t.j41(0,"form",14,0),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.close())}),t.j41(2,"div",15)(3,"div",16)(4,"label"),t.EFF(5,"Data"),t.k0s(),t.j41(6,"div",17)(7,"kendo-datepicker",18),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.message.date,o)||(r.options.message.date=o),t.Njj(o)}),t.k0s(),t.nrm(8,"div",19),t.k0s()()(),t.j41(9,"div",15)(10,"div",20)(11,"label"),t.EFF(12,"Commento"),t.k0s(),t.j41(13,"div",17)(14,"kendo-editor",21),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.message.note,o)||(r.options.message.note=o),t.Njj(o)}),t.j41(15,"kendo-toolbar")(16,"kendo-toolbar-buttongroup"),t.nrm(17,"kendo-toolbar-button",22)(18,"kendo-toolbar-button",23)(19,"kendo-toolbar-button",24),t.k0s(),t.nrm(20,"kendo-toolbar-dropdownlist",25)(21,"kendo-toolbar-colorpicker",26),t.j41(22,"kendo-toolbar-buttongroup"),t.nrm(23,"kendo-toolbar-button",27),t.k0s()()(),t.nrm(24,"div",19),t.k0s()()(),t.DNE(25,lYt,9,6,"div",28)(26,uYt,9,6,"div",28),t.j41(27,"div",29)(28,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.dismiss())}),t.nrm(29,"i",9),t.EFF(30," ANNULLA "),t.k0s(),t.j41(31,"button",30),t.nrm(32,"i",11),t.EFF(33," SALVA "),t.k0s()()()}if(2&s){const e=t.sdS(1),n=t.XpG(2);t.R7$(7),t.R50("ngModel",n.options.message.date),t.Y8G("min",n.options.date),t.R7$(),t.Y8G("control",e.controls.date),t.R7$(6),t.R50("ngModel",n.options.message.note),t.Y8G("resizable",!0)("iframe",!1)("pasteCleanupSettings",t.eq3(11,sYt,t.lJ4(10,iYt))),t.R7$(10),t.Y8G("control",e.controls.note),t.R7$(),t.Y8G("ngIf",n.options.isNewMessage),t.R7$(),t.Y8G("ngIf",!n.options.isNewMessage)}}function pYt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",4)(1,"kendo-window",5),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",6),t.EFF(4," Commento "),t.k0s(),t.j41(5,"div",7)(6,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",9),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",11),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",12),t.k0s(),t.DNE(13,hYt,34,13,"form",13),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("top",100),t.R7$(12),t.Y8G("ngIf",e.options)}}let HO=(()=>{class s extends As{constructor(e,n,o){super(e),this._operatorsService=n,this._messagesService=o,this.windowState="default"}ngOnInit(){this._getOperators()}open(e){this.targetOperators=[];const n=super.open(e);return e.isNewMessage||this.getTargetOperators(e.message.id),n}getTargetOperators(e){this._subscriptions.push(this._messagesService.getMessageTargetOperators(e).pipe(x(n=>{this.targetOperators=n})).subscribe())}_canClose(){return Xr(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid}_getOperators(){this._subscriptions.push(this._operatorsService.readOperators({sort:[{field:"name",dir:"asc"}]}).pipe(x(n=>this.operators=n.data)).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(_t),t.rXU(br),t.rXU(_m))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-message-modal"]],features:[t.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowCloseAction",""],["name","messageModalForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","messageModalForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row"],[1,"col-md-3"],[1,"form-group"],["format","dd/MM/yyyy","name","date",3,"ngModelChange","ngModel","min"],[1,"validation-message",3,"control"],[1,"col-md-12"],["name","note","required","",2,"height","200px",3,"ngModelChange","ngModel","resizable","iframe","pasteCleanupSettings"],["kendoEditorBoldButton",""],["kendoEditorItalicButton",""],["kendoEditorUnderlineButton",""],["kendoEditorFontSize",""],["kendoEditorForeColor","","view","gradient"],["kendoEditorInsertUnorderedListButton",""],["class","row",4,"ngIf"],[1,"text-right","mt-5"],["type","submit",1,"btn","btn-primary"],["textField","name","valueField","id","name","operators",2,"max-width","1000px",3,"ngModelChange","data","ngModel","allowCustom","valuePrimitive","readonly"],["kendoMultiSelectItemTemplate",""],["kendoMultiSelectTagTemplate",""],[1,"d-flex","gap-1"],[3,"options"]],template:function(n,o){1&n&&t.DNE(0,oYt,1,0,"div",1)(1,pYt,14,4,"div",2),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[W,Fi,Un,Pi,ts,mi,Mi,ni,li,Wn,ba,ww,ig,rp,KS,Um,Gm,Pm,Fm,o1,s1,Gp,vh,Pn,Om,cr,jle],encapsulation:2})}return s})();class r1{constructor(i,e,n,o,r){this.id=i,this.displayName=e,this.fileName=n,this.purchaseOrderId=o,this.isAdminDocument=r}static build(i){return new r1(i.id,i.displayName,i.fileName,i.purchaseOrderId,i.isAdminDocument)}get isImage(){return!!(this.fileName.endsWith(".jpg")||this.fileName.endsWith(".png")||this.fileName.endsWith(".jpeg")||this.fileName.endsWith(".gif"))}}var hs=function(s){return s[s.Pending=0]="Pending",s[s.Ordered=1]="Ordered",s[s.Completed=2]="Completed",s[s.Partial=3]="Partial",s[s.Canceled=4]="Canceled",s}(hs||{});const hFe={[hs.Pending]:"Da ordinare",[hs.Ordered]:"Ordinato",[hs.Completed]:"Consegnato",[hs.Partial]:"Cons. parzialmente",[hs.Canceled]:"Annullato"};class Pp{get code(){return`${this.year}/${this.number}`}constructor(i,e,n,o,r,a,l,c,u,f,_,g,S,b,k,D,O){this.id=i,this.number=e,this.year=n,this.description=a,this.status=l,this.activityTypeId=c,this.supplierId=u,this.supplierName=f,this.operatorId=_,this.jobs=g,this.items=S,this.attachments=b,this.userAttachments=k,this.adminAttachments=D,this.messages=O,this.date=o?new Date(o):null,this.expectedDate=r?new Date(r):null}static build(i,e){const n=i.items.map(c=>K4.build(c)),o=i.attachments.map(c=>r1.build(c)),r=i.attachments.map(c=>r1.build(c)).filter(c=>!c.isAdminDocument),a=i.attachments.map(c=>r1.build(c)).filter(c=>c.isAdminDocument),l=i.messages.map(c=>oh.build(c,e));return new Pp(i.id,i.number,i.year,i.date,i.expectedDate,i.description,i.status,i.activityTypeId,i.supplierId,i.supplierName,i.operatorId,i.jobs,n,o,r,a,l)}}class K4{constructor(i,e,n,o,r,a){this.id=i,this.purchaseOrderId=e,this.productId=n,this.productName=o,this.productImage=r,this.quantity=a}clone(){return new K4(this.id,this.purchaseOrderId,this.productId,this.productName,this.productImage,this.quantity)}static build(i){return new K4(i.id,i.purchaseOrderId,i.productId,i.productName,i.productImage,i.quantity)}}class fYt{constructor(i,e){this.fileName=i,this.originalFileName=e}}let wh=(()=>{class s{constructor(e,n){this._http=e,this._userService=n,this._baseUrl=`${At.baseApiUrl}/purchase-orders`}read(e,n){return Ta(this._http,e,`${this._baseUrl}/read/${n}`)}get(e){return this._http.get(`${this._baseUrl}/${e}`).pipe((0,U.T)(n=>Pp.build(n,this._userService.getUser().operatorId)))}create(e){return this._http.post(this._baseUrl,e).pipe((0,U.T)(n=>Pp.build(n,this._userService.getUser().operatorId)))}update(e){return this._http.put(`${this._baseUrl}/${e.id}`,e).pipe((0,U.T)(n=>Pp.build(n,this._userService.getUser().operatorId)))}delete(e){return this._http.delete(`${this._baseUrl}/${e}`).pipe((0,U.T)(()=>{}))}readJobPurchaseOrders(e,n){return Ta(this._http,e,`${this._baseUrl}/job-purchaseOrders-dependencies/${n}`)}createPurchaseOrderAttachment(e){return this._http.post(`${this._baseUrl}/create-attachment`,e).pipe()}updatePurchaseOrderAttachment(e,n){return this._http.put(`${this._baseUrl}/update-attachment/${n}`,e).pipe()}getPurchaseOrderAttachments(e,n){return this._http.get(`${this._baseUrl}/all-attachments/${e}/${n}`).pipe((0,U.T)(o=>o.map(r=>r1.build(r))))}getPurchaseOrderAdminAttachments(e,n){return this._http.get(`${this._baseUrl}/all-admin-attachments/${e}/${n}`).pipe((0,U.T)(o=>o.map(r=>r1.build(r))))}uploadPurchaseOrderAttachmentFile(e){const n=new FormData;n.append(e.name,e);const o=new hl("POST",`${this._baseUrl}/job-attachment/upload-file`,n,{reportProgress:!1});return this._http.request(o).pipe(z(r=>r.type===Gr.Response),(0,U.T)(r=>r.body),(0,U.T)(r=>new fYt(r.fileName,r.originalFileName)))}copyPurchaseOrderToJob(e){return this._http.post(`${this._baseUrl}/copy-purchase-order`,e).pipe()}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(js),t.KVO(Ci))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();const pFe=(s,i)=>({$implicit:s,anchor:i});function mYt(s,i){}function _Yt(s,i){if(1&s&&(t.j41(0,"div",7),t.DNE(1,mYt,0,0,"ng-template",3),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.titleTemplate)("ngTemplateOutlet",e.titleTemplate)("ngTemplateOutletContext",t.l_i(3,pFe,e.anchor,e.anchor))}}function gYt(s,i){}function vYt(s,i){if(1&s&&t.EFF(0),2&s){const e=t.XpG();t.SpI(" ",e.templateString," ")}}function SYt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",8),t.bIt("click",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onCloseClick(o))}),t.j41(1,"a",9),t.nrm(2,"kendo-icon-wrapper",10),t.k0s()()}if(2&s){const e=t.XpG();t.BMQ("aria-hidden",!0),t.R7$(),t.BMQ("title",e.closeButtonTitle),t.R7$(),t.Y8G("svgIcon",e.xIcon)}}function CYt(s,i){if(1&s&&t.nrm(0,"div",11),2&s){const e=t.XpG();t.Y8G("ngClass",e.calloutPositionClass())}}const fFe={name:"@progress/kendo-angular-tooltip",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925138,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},VYt=new t.nKC("kendo-ui-tooltip-settings");let zYt=(()=>{class s{constructor(){}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),jYt=0,HYt=0,$Yt=0;function XYt(s,i){return s||("top"===i||"bottom"===i?{horizontal:"fit",vertical:"flip"}:{horizontal:"flip",vertical:"fit"})}function _Fe(s){return 9===s.nodeType}function J4(s,i){if(s.closest)return s.closest(i);const e=Element.prototype.matches?(o,r)=>o.matches(r):(o,r)=>o.msMatchesSelector(r);let n=s;for(;n&&!_Fe(n);){if(e(n,i))return n;n=n.parentNode}}function gFe(s,i){return!(!s||_Fe(s))&&(s.contains?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY):void 0)}function vFe(s,i,e){const n=s.getBoundingClientRect();return n[i]+n[e]/2}function $le(s,i){return-1!==s.indexOf(i)}let SFe=(()=>{class s extends Gi{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoTooltipLocalizedMessages",""]],inputs:{closeTitle:"closeTitle"},features:[t.Jv_([{provide:Gi,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})(),CFe=(()=>{class s{constructor(e,n){this.content=e,this.localizationService=n,this.xIcon=wo,this.close=new t.bkB,this.hostRole="tooltip",this.tooltipWidth=null,this.tooltipHeight=null,this.callout=!0,this.calloutStyles=(o,r,a)=>{const l={},c="top"===o||"bottom"===o,u="180deg",f="0deg";return a?("top"===o?l.bottom="unset":"bottom"===o?l.top="unset":"left"===o?l.right="unset":"right"===o&&(l.left="unset"),l[o]=-r+"px",l.transform=c?`rotateX(${u})`:`rotateY(${u})`,l):(l.transform=c?`rotateX(${f})`:`rotateY(${f})`,l)},this.direction=n.rtl?"rtl":"ltr"}get cssClasses(){return"k-tooltip"}get hostId(){return this.tooltipId}get className(){return this.closable}get cssPosition(){return"relative"}ngOnInit(){this.tooltipId=((s,i)=>{switch(i){case"popoverTitle":return`${s}-${++HYt}`;case"popoverBody":return`${s}-${++$Yt}`;default:return`${s}-${++jYt}`}})("tooltip"),this.dynamicRTLSubscription=this.localizationService.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr")}ngOnDestroy(){this.dynamicRTLSubscription&&this.dynamicRTLSubscription.unsubscribe()}get closeButtonTitle(){return this.closeTitle||this.localizationService.get("closeTitle")}calloutPositionClass(){return{top:"k-callout-s",left:"k-callout-e",bottom:"k-callout-n",right:"k-callout-w"}[this.position]}onCloseClick(e){e.preventDefault(),this.close.emit()}updateCalloutPosition(e,n){if(!this.callout)return;const o=this.content.nativeElement.querySelector(".k-callout"),r="top"===e||"bottom"===e,a=r?"width":"height",l=r?"left":"top",c=r?"marginLeft":"marginTop",u=o.getBoundingClientRect()[a],f=vFe(this.anchor.nativeElement,l,a),_=vFe(this.content.nativeElement,l,a),g=Math.abs(_-f);(g>1||0===g||0===Math.round(g))&&(o.style[c]=-(_-f+u/2)+"px");const S=this.calloutStyles(e,u,n);Object.keys(S).forEach(b=>{o.style[b]=S[b]})}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-tooltip"]],hostVars:13,hostBindings:function(e,n){2&e&&(t.BMQ("dir",n.direction)("role",n.hostRole)("id",n.hostId),t.HbH(n.cssClasses),t.xc7("position",n.cssPosition)("width",n.tooltipWidth,"px")("height",n.tooltipHeight,"px"),t.AVh("k-tooltip-closable",n.className))},inputs:{tooltipWidth:"tooltipWidth",tooltipHeight:"tooltipHeight",titleTemplate:"titleTemplate",anchor:"anchor",closable:"closable",templateRef:"templateRef",templateString:"templateString"},outputs:{close:"close"},features:[t.Jv_([j,{provide:Ve,useValue:"kendo.tooltip"}])],decls:7,vars:10,consts:()=>{let i;return i="Chiudi",[["kendoTooltipLocalizedMessages","","closeTitle",i],[1,"k-tooltip-content"],["class","k-tooltip-title",4,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngIf"],["class","k-tooltip-button",3,"click",4,"ngIf"],["class","k-callout",3,"ngClass",4,"ngIf"],[1,"k-tooltip-title"],[1,"k-tooltip-button",3,"click"],["href","#",1,"k-icon"],["name","x",3,"svgIcon"],[1,"k-callout",3,"ngClass"]]},template:function(e,n){1&e&&(t.eu8(0,0),t.j41(1,"div",1),t.DNE(2,_Yt,2,6,"div",2)(3,gYt,0,0,"ng-template",3)(4,vYt,1,1,"ng-template",4),t.k0s(),t.DNE(5,SYt,3,3,"div",5)(6,CYt,1,1,"div",6)),2&e&&(t.R7$(2),t.Y8G("ngIf",n.titleTemplate),t.R7$(),t.Y8G("ngIf",n.templateRef)("ngTemplateOutlet",n.templateRef)("ngTemplateOutletContext",t.l_i(7,pFe,n.anchor,n.anchor)),t.R7$(),t.Y8G("ngIf",n.templateString),t.R7$(),t.Y8G("ngIf",n.closable),t.R7$(),t.Y8G("ngIf",n.callout))},dependencies:[Ke,SFe,W,Je,Pe],encapsulation:2}),s})(),Fp=(()=>{class s{constructor(e,n,o,r,a,l){this.tooltipWrapper=e,this.ngZone=n,this.renderer=o,this.popupService=r,this.filter="[title]",this.position="top",this.showAfter=100,this.callout=!0,this.closable=!1,this.offset=6,this.anchor=null,this.keyboardNavigationSubscription=new be.yU,this.validPositions=["top","bottom","right","left"],this.validShowOptions=["hover","click","none"],(0,mt.$)(fFe),Object.assign(this,a,l),this.ngZone.runOutsideAngular(()=>{const c=this.tooltipWrapper.nativeElement;this.anchorTitleSubscription=wt(c,"mouseover").pipe(z(()=>""!==this.filter)).subscribe(u=>{const f=J4(u.target,this.filter);f&&this.hideElementTitle({nativeElement:f})}),this.mouseOverSubscription=wt(c,"mouseover").pipe(z(()=>""!==this.filter)).subscribe(u=>this.onMouseOver(u)),this.mouseOutSubscription=wt(c,"mouseout").subscribe(u=>this.onMouseOut(u))})}set tooltipTemplate(e){this.template=e}get tooltipTemplate(){return this.template}show(e){if(!this.popupRef)if(e instanceof Element&&(e={nativeElement:e}),this.anchor=e,"hover"===this.showOn){if(this.popupRef)return;clearTimeout(this.showTimeout),this.showTimeout=setTimeout(()=>this.showContent(this.anchor),this.showAfter)}else this.hideElementTitle(this.anchor),this.showContent(this.anchor)}hide(){clearTimeout(this.showTimeout);const e=this.anchor&&this.anchor.nativeElement;e&&e.getAttribute("data-title")&&(!e.getAttribute("title")&&e.hasAttribute("title")&&e.setAttribute("title",e.getAttribute("data-title")),e.setAttribute("data-title","")),this.popupMouseOutSubscription&&this.popupMouseOutSubscription.unsubscribe(),this.closeClickSubscription&&this.closeClickSubscription.unsubscribe(),this.closePopup()}toggle(e,n){const o=this.anchor&&this.anchor.nativeElement;e instanceof Element&&(e={nativeElement:e}),o!==e.nativeElement&&this.hide(),o===e.nativeElement&&"click"===this.showOn&&this.hide(),typeof n>"u"&&(n=!this.popupRef),n?this.show(e):this.hide()}ngOnInit(){void 0===this.showOn&&(this.showOn="hover"),this.keyboardNavigationSubscription.add(this.renderer.listen(this.tooltipWrapper.nativeElement,"keydown",e=>this.onKeyDown(e))),this.verifyProperties()}ngOnChanges(e){e.showOn&&ne()&&this.subscribeClick()}ngAfterViewChecked(){this.popupRef&&this.anchor&&!((s,i)=>{for(;s&&s!==i;)s=s.parentNode;return s})(this.anchor.nativeElement||this.anchor,this.tooltipWrapper.nativeElement)&&(this.anchor=null,this.hide())}ngOnDestroy(){this.hide(),this.template=null,this.anchorTitleSubscription.unsubscribe(),this.mouseOverSubscription.unsubscribe(),this.mouseOutSubscription.unsubscribe(),this.keyboardNavigationSubscription.unsubscribe(),this.mouseClickSubscription&&this.mouseClickSubscription.unsubscribe(),this.popupPositionChangeSubscription&&this.popupPositionChangeSubscription.unsubscribe(),this.popupMouseOutSubscription&&this.popupMouseOutSubscription.unsubscribe()}showContent(e){!e.nativeElement.getAttribute("data-title")&&!this.template||(this.ngZone.run(()=>{this.openPopup(e),this.bindContent(this.popupRef.content,e)}),this.popupRef.popupAnchorViewportLeave.pipe(Ye(1)).subscribe(()=>this.hide()))}bindContent(e,n){const o=e.instance;this.closeClickSubscription=o.close.subscribe(()=>{this.hide()}),this.template?o.templateRef=this.template:o.templateString=this.anchor.nativeElement.getAttribute("data-title"),this.titleTemplate&&(o.titleTemplate=this.titleTemplate),o.closeTitle=this.closeTitle,o.anchor=n,o.callout=this.callout,o.closable=this.closable,o.position=this.position,o.tooltipWidth=this.tooltipWidth,o.tooltipHeight=this.tooltipHeight,this.popupRef.content.changeDetectorRef.detectChanges()}hideElementTitle(e){const n=e.nativeElement;n.getAttribute("title")&&(n.setAttribute("data-title",n.getAttribute("title")),n.setAttribute("title",""))}openPopup(e){const n=function mFe(s,i){let e={},n={},o={};switch(s){case"top":e={horizontal:"center",vertical:"top"},n={horizontal:"center",vertical:"bottom"},o={horizontal:0,vertical:i};break;case"bottom":e={horizontal:"center",vertical:"bottom"},n={horizontal:"center",vertical:"top"},o={horizontal:0,vertical:i};break;case"right":e={horizontal:"right",vertical:"center"},n={horizontal:"left",vertical:"center"},o={horizontal:i,vertical:0};break;case"left":e={horizontal:"left",vertical:"center"},n={horizontal:"right",vertical:"center"},o={horizontal:i,vertical:0}}return{anchorAlign:e,popupAlign:n,popupMargin:o}}(this.position,this.offset),r=n.popupAlign,a=n.popupMargin;this.popupRef=this.popupService.open({anchor:e,anchorAlign:n.anchorAlign,animate:!1,content:CFe,collision:XYt(this.collision,this.position),margin:a,popupAlign:r,popupClass:"k-popup-transparent"}),this.tooltipClass&&this.renderer.addClass(this.popupRef.popupElement,this.tooltipClass),this.tooltipContentClass&&this.renderer.addClass(this.popupRef.content.instance.content.nativeElement,this.tooltipContentClass);const l=this.popupRef.content.instance;e&&this.renderer.setAttribute(e.nativeElement,"aria-labelledby",l.tooltipId),l.callout&&(this.popupPositionChangeSubscription=this.popupRef.popupPositionChange.subscribe(({flip:c})=>{l.updateCalloutPosition(this.position,!0===c.horizontal||!0===c.vertical)})),"hover"===this.showOn&&this.ngZone.runOutsideAngular(()=>{this.popupMouseOutSubscription=wt(this.popupRef.popupElement,"mouseout").subscribe(u=>this.onMouseOut(u))})}closePopup(){this.popupRef&&(this.anchor&&this.renderer.removeAttribute(this.anchor.nativeElement,"aria-labelledby"),this.popupRef.close(),this.popupRef=null),this.popupPositionChangeSubscription&&this.popupPositionChangeSubscription.unsubscribe()}subscribeClick(){this.mouseClickSubscription&&this.mouseClickSubscription.unsubscribe(),"click"===this.showOn&&(this.mouseClickSubscription=wt(document,"click").pipe(z(()=>""!==this.filter)).subscribe(e=>this.onMouseClick(e,this.tooltipWrapper.nativeElement)))}onMouseClick(e,n){const o=e.target,r=J4(o,this.filter),a=this.popupRef&&this.popupRef.popupElement;a&&(a.contains(o)||this.closable)||(n.contains(o)&&r?this.toggle(r,!0):a&&this.hide())}onKeyDown(e){const n=e.keyCode,o=e.target;if(this.popupRef){const r=this.popupRef.content.location.nativeElement.getAttribute("id"),a=o.getAttribute("aria-labelledby");n===F.Escape&&this.canCloseTooltip(o,r,a)&&this.closePopup()}}canCloseTooltip(e,n,o){const r=n===o,a=J4(e,this.filter),l=e===document.activeElement;return this.tooltipWrapper.nativeElement.contains(e)&&a&&l&&r}onMouseOver(e){const n=J4(e.target,this.filter);"hover"===this.showOn&&n&&this.toggle(n,!0)}onMouseOut(e){if("hover"!==this.showOn||this.closable)return;const n=this.popupRef&&this.popupRef.popupElement,o=e.relatedTarget;o&&this.anchor&&gFe(this.anchor.nativeElement,o)||o&&gFe(n,o)||this.hide()}verifyProperties(){if((0,t.naY)()){if(!$le(this.validPositions,this.position))throw new Error("Invalid value provided for position property.The available options are 'top', 'bottom', 'left', or 'right'.");if(!$le(this.validShowOptions,this.showOn))throw new Error("Invalid value provided for showOn property.The available options are 'hover' or 'none'.")}}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(es),t.rXU(zYt,8),t.rXU(VYt,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoTooltip",""]],inputs:{filter:"filter",position:"position",titleTemplate:"titleTemplate",showOn:"showOn",showAfter:"showAfter",callout:"callout",closable:"closable",offset:"offset",tooltipWidth:"tooltipWidth",tooltipHeight:"tooltipHeight",tooltipClass:"tooltipClass",tooltipContentClass:"tooltipContentClass",collision:"collision",closeTitle:"closeTitle",tooltipTemplate:"tooltipTemplate"},exportAs:["kendoTooltip"],features:[t.OA$]}),s})();const nKt=[zr,An];let iKt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,...nKt]]}),s})(),sKt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,zr]]}),s})(),wFe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[iKt,sKt]}),s})();class Wle{constructor(i,e){this.key=i,this.value=e}static fromDictionary(i,e){const n="number"===e,o=new Array;for(const r of Object.keys(i)){const a=n?+r:r,c=new Wle(a,i[a]);o.push(c)}return o}}let Dh=(()=>{class s extends It{constructor(){super()}ngOnChanges(e){if((e.column||e.inputData)&&this.column&&this.inputData){this.data=Wle.fromDictionary(this.inputData,"numeric"===this.column.filter?"number":"string");const o=this.filter.filters.filter(r=>r.field===this.column.field);o.length&&(this.value=o.map(r=>r.value))}}onValueChange(e){this.filterService.filter({filters:e.map(n=>({field:this.column.field,operator:"eq",value:n})),logic:"or"})}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-multiselect-grid-column-filter"]],inputs:{inputData:[t.Mj6.None,"data","inputData"],filterService:"filterService",column:"column",filter:"filter"},features:[t.Vt3,t.OA$],decls:1,vars:3,consts:[["textField","value","valueField","key",3,"valueChange","data","valuePrimitive","value"]],template:function(n,o){1&n&&(t.j41(0,"kendo-multiselect",0),t.bIt("valueChange",function(a){return o.onValueChange(a)}),t.k0s()),2&n&&t.Y8G("data",o.data)("valuePrimitive",!0)("value",o.value)},dependencies:[ig],encapsulation:2})}return s})(),sa=(()=>{class s extends It{constructor(e){super(),this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustHtml(e)}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(I3,16))};static#t=this.\u0275pipe=t.EJ8({name:"domsanitizer",type:s,pure:!0})}return s})(),q4=(()=>{class s extends It{transform(e){return this._getStatusLabel(e)||uR[e.status]}_getStatusLabel(e){switch(e.status){case Vi.Pending:return e.statusLabel0;case Vi.InProgress:return e.statusLabel1;case Vi.Ready:return e.statusLabel2;case Vi.Completed:return e.statusLabel3;default:return null}}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(s)))(o||s)}})();static#t=this.\u0275pipe=t.EJ8({name:"activityStatus",type:s,pure:!0})}return s})(),zz=(()=>{class s extends It{transform(e){return hFe[e]}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(s)))(o||s)}})();static#t=this.\u0275pipe=t.EJ8({name:"purchaseOrderStatus",type:s,pure:!0})}return s})();const DFe=()=>({mode:"multiple",drag:!1,multipleRanges:!0});function oKt(s,i){1&s&&t.nrm(0,"div",2)}function rKt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",25)(1,"button",26),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.dismiss())}),t.nrm(2,"i",27),t.EFF(3," ANNULLA "),t.k0s(),t.j41(4,"button",28),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.saveDepencencies())}),t.EFF(5," SALVA "),t.k0s()()}}function aKt(s,i){if(1&s&&(t.j41(0,"div",36),t.EFF(1,"\xa0"),t.k0s()),2&s){const e=i.$implicit;t.xc7("background-color",e.activityColor),t.FS9("title",e.type)}}function lKt(s,i){if(1&s&&t.nrm(0,"app-multiselect-grid-column-filter",37),2&s){const e=i.column,n=i.filter,o=i.filterService,r=t.XpG(3);t.Y8G("column",e)("filter",n)("filterService",o)("data",r.activityStatusNames)}}function cKt(s,i){if(1&s&&(t.j41(0,"span",38),t.EFF(1),t.nI1(2,"activityStatus"),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e)," ")}}function dKt(s,i){if(1&s&&(t.j41(0,"div",41),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,e.expirationDate,"dd/MM/yyyy")," ")}}function uKt(s,i){if(1&s&&(t.j41(0,"div",38),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,e.expirationDate,"dd/MM/yyyy")," ")}}function hKt(s,i){if(1&s&&t.DNE(0,dKt,3,4,"div",39)(1,uKt,3,4,"div",40),2&s){const e=i.$implicit;t.Y8G("ngIf",e.isExpired),t.R7$(),t.Y8G("ngIf",!e.isExpired)}}function pKt(s,i){if(1&s&&(t.nrm(0,"br"),t.j41(1,"i"),t.EFF(2),t.nI1(3,"date"),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(2),t.SpI("Mod: ",t.i5U(3,1,e.editedOn,"dd/MM/yyyy"),"")}}function fKt(s,i){if(1&s&&(t.j41(0,"div",42)(1,"i"),t.EFF(2),t.nI1(3,"date"),t.k0s(),t.DNE(4,pKt,4,4),t.k0s()),2&s){const e=i.$implicit;t.R7$(2),t.SpI("Ins: ",t.i5U(3,2,e.createdOn,"dd/MM/yyyy"),""),t.R7$(2),t.vxM(4,e.editedOn?4:-1)}}function mKt(s,i){if(1&s){const e=t.RV6();t.j41(0,"p")(1,"strong"),t.EFF(2,"Attivit\xe0"),t.k0s()(),t.j41(3,"kendo-grid",13),t.bIt("dataStateChange",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.dataActivitiesStateChange(o))})("selectionChange",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.onActivitySelectionChange(o))}),t.nrm(4,"kendo-grid-checkbox-column",14),t.j41(5,"kendo-grid-column",29),t.DNE(6,aKt,2,3,"ng-template",16),t.k0s(),t.j41(7,"kendo-grid-column",30),t.DNE(8,lKt,1,4,"ng-template",19)(9,cKt,3,3,"ng-template",16),t.k0s(),t.nrm(10,"kendo-grid-column",31),t.j41(11,"kendo-grid-column",32),t.DNE(12,hKt,2,2,"ng-template",16),t.k0s(),t.nrm(13,"kendo-grid-column",33),t.j41(14,"kendo-grid-column",34),t.DNE(15,fKt,5,5,"ng-template",16),t.k0s(),t.nrm(16,"kendo-grid-column",35),t.k0s()}if(2&s){const e=t.XpG(2);t.R7$(3),t.Y8G("data",e.dataActivities)("pageSize",e.gridActivityState.take)("skip",e.gridActivityState.skip)("sort",e.gridActivityState.sort)("filter",e.gridActivityState.filter)("group",e.gridActivityState.group)("sortable",!0)("pageable",!0)("rowClass",e.rowCallbackActivities)("selectable",t.lJ4(18,DFe))("selectedKeys",e.selectedActivityIds),t.R7$(),t.Y8G("width",40),t.R7$(),t.Y8G("sortable",!0)("filterable",!1),t.R7$(2),t.Y8G("width",1),t.R7$(4),t.Y8G("width",1),t.R7$(3),t.Y8G("width",1),t.R7$(2),t.Y8G("width",1)}}function _Kt(s,i){1&s&&(t.EFF(0),t.nI1(1,"date")),2&s&&t.SpI(" ",t.i5U(1,1,i.$implicit.date,"dd/MM/yyyy")," ")}function gKt(s,i){1&s&&(t.EFF(0),t.nI1(1,"date")),2&s&&t.SpI(" ",t.i5U(1,1,i.$implicit.date,"dd/MM/yyyy")," ")}function vKt(s,i){if(1&s&&t.nrm(0,"app-multiselect-grid-column-filter",37),2&s){const e=i.column,n=i.filter,o=i.filterService,r=t.XpG(2);t.Y8G("column",e)("filter",n)("filterService",o)("data",r.purchaseOrderStatusNames)}}function SKt(s,i){if(1&s&&(t.j41(0,"span",38),t.EFF(1),t.nI1(2,"purchaseOrderStatus"),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.status)," ")}}function CKt(s,i){1&s&&(t.nrm(0,"div",43),t.nI1(1,"domsanitizer")),2&s&&t.Y8G("innerHTML",t.bMT(1,1,i.$implicit.description),t.npT)}function bKt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",44)(1,"button",26),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.dismiss())}),t.nrm(2,"i",27),t.EFF(3," ANNULLA "),t.k0s(),t.j41(4,"button",28),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.saveDepencencies())}),t.EFF(5," SALVA "),t.k0s()()}}function EKt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",3)(1,"kendo-window",4),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",5),t.EFF(4," Dipendenze Attivit\xe0 "),t.k0s(),t.DNE(5,rKt,6,0,"div",6),t.nrm(6,"button",7)(7,"button",8)(8,"button",9)(9,"button",10),t.k0s(),t.j41(10,"div",11),t.DNE(11,mKt,17,19),t.j41(12,"p",12)(13,"strong"),t.EFF(14,"Ordini d'acquisto"),t.k0s()(),t.j41(15,"kendo-grid",13),t.bIt("dataStateChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.dataPurchaseOrdersStateChange(o))})("selectionChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onPurchaseOrderSelectionChange(o))}),t.nrm(16,"kendo-grid-checkbox-column",14),t.j41(17,"kendo-grid-column",15),t.DNE(18,_Kt,2,4,"ng-template",16),t.k0s(),t.j41(19,"kendo-grid-column",17),t.DNE(20,gKt,2,4,"ng-template",16),t.k0s(),t.j41(21,"kendo-grid-column",18),t.DNE(22,vKt,1,4,"ng-template",19)(23,SKt,3,3,"ng-template",16),t.k0s(),t.nrm(24,"kendo-grid-column",20),t.j41(25,"kendo-grid-column",21),t.DNE(26,CKt,2,3,"ng-template",16),t.k0s(),t.nrm(27,"kendo-grid-column",22)(28,"kendo-grid-column",23),t.k0s()(),t.DNE(29,bKt,6,0,"div",24),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("width",1400)("top",110),t.R7$(4),t.Y8G("ngIf",!e.readonly),t.R7$(6),t.vxM(11,e.canHaveDependencies?11:-1),t.R7$(4),t.Y8G("data",e.dataPurchaseOrders)("pageSize",e.gridPurchaseOrderState.take)("skip",e.gridPurchaseOrderState.skip)("sort",e.gridPurchaseOrderState.sort)("filter",e.gridPurchaseOrderState.filter)("group",e.gridPurchaseOrderState.group)("sortable",!0)("pageable",!0)("rowClass",e.rowCallbackPurchaseOrders)("selectable",t.lJ4(22,DFe))("selectedKeys",e.selectedPurchaseOrderIds),t.R7$(),t.Y8G("width",40),t.R7$(),t.Y8G("width",1),t.R7$(2),t.Y8G("width",1),t.R7$(2),t.Y8G("width",1),t.R7$(8),t.Y8G("ngIf",!e.readonly)}}let Yle=(()=>{class s extends It{constructor(e,n,o){super(),this._activitiesService=e,this._purchaseOrdersService=n,this._messageBoxService=o,this.readonly=!1,this.opened=!1,this.gridActivityState={skip:0,take:30,group:[],sort:[{field:"startDate",dir:"asc"},{field:"expirationDate",dir:"asc"}]},this.gridPurchaseOrderState={skip:0,take:30,group:[],sort:[{field:"date",dir:"desc"},{field:"jobCodes",dir:"desc"}]},this.selectedActivityIds=[],this.selectedPurchaseOrderIds=[],this.rowCallbackActivities=r=>{const a=r.dataItem;switch(!0){case a.status===Vi.Completed:return{"activity-completed":!0};case a.status===Vi.Pending:return{"activity-pending":!0};case a.status===Vi.InProgress:return{"activity-in-progress":!0};case a.status===Vi.Ready:return{"activity-ready":!0};case a.status!=Vi.Completed&&!!a.expirationDate&&new Date(a.expirationDate).addDays(1).isPast():return{"activity-expired":!0};default:return{}}},this.rowCallbackPurchaseOrders=r=>{const a=r.dataItem;switch(!0){case a.status===hs.Completed:return{"purchase-order-completed":!0};case a.status===hs.Pending:return{"purchase-order-pending":!0};case a.status===hs.Ordered:return{"purchase-order-ordered":!0};case a.status===hs.Partial:return{"purchase-order-partial":!0};case a.status===hs.Canceled:return{"purchase-order-canceled":!0};default:return{}}}}open(){return this._closeSubject||(this._closeSubject=new Xe.B),this.opened=!0,this._loadDependencies(),this._closeSubject.asObservable()}dismiss(){this._closeSubject.next(!1),this._closeSubject.complete(),this._closeSubject=null,this.opened=!1}_loadDependencies(){this._subscriptions.push(this._activitiesService.readDependencies(this.activityId).pipe(x(e=>{this.selectedActivityIds=e.activityDependenciesId||[],this.selectedPurchaseOrderIds=e.purchaseOrderDependenciesId||[],this._readActivities(),this._readPurchaseOrders()})).subscribe())}dataActivitiesStateChange(e){this.gridActivityState=e,this._readActivities()}_readActivities(){this._subscriptions.push(this._activitiesService.readJobActivities(this.gridActivityState,this.jobId).pipe(x(e=>this.dataActivities=e)).subscribe())}onActivitySelectionChange(e){e.selectedRows.forEach(n=>{const o=n.dataItem.id;this.selectedActivityIds.includes(o)||this.selectedActivityIds.push(o)}),e.deselectedRows.forEach(n=>{const o=n.dataItem.id;this.selectedActivityIds=this.selectedActivityIds.filter(r=>r!==o)})}dataPurchaseOrdersStateChange(e){this.gridPurchaseOrderState=e,this._readPurchaseOrders()}_readPurchaseOrders(){this._subscriptions.push(this._purchaseOrdersService.readJobPurchaseOrders(this.gridPurchaseOrderState,this.jobId).pipe(x(e=>this.dataPurchaseOrders=e)).subscribe())}onPurchaseOrderSelectionChange(e){e.selectedRows.forEach(n=>{const o=n.dataItem.id;this.selectedPurchaseOrderIds.includes(o)||this.selectedPurchaseOrderIds.push(o)}),e.deselectedRows.forEach(n=>{const o=n.dataItem.id;this.selectedPurchaseOrderIds=this.selectedPurchaseOrderIds.filter(r=>r!==o)})}saveDepencencies(){this._subscriptions.push(this._activitiesService.updateDependencies(this.activityId,{activityDependenciesId:this.selectedActivityIds,purchaseOrderDependenciesId:this.selectedPurchaseOrderIds}).pipe(x(()=>{this._messageBoxService.success("Dipendenze associate con successo"),this.dismiss()})).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Ma),t.rXU(wh),t.rXU(_t))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-dependencies-modal"]],inputs:{jobId:"jobId",activityId:"activityId",canHaveDependencies:"canHaveDependencies",readonly:"readonly"},features:[t.Vt3],decls:2,vars:2,consts:[["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","width","top"],[1,"k-window-title"],["class","text-right",4,"ngIf"],["kendoWindowMinimizeAction",""],["kendoWindowRestoreAction",""],["kendoWindowMaximizeAction",""],["kendoWindowCloseAction",""],[1,"grid-container"],[1,"mt-3"],["filterable","menu","scrollable","none","kendoGridSelectBy","id",3,"dataStateChange","selectionChange","data","pageSize","skip","sort","filter","group","sortable","pageable","rowClass","selectable","selectedKeys"],[3,"width"],["field","date","title","Data Ord.","filter","date",3,"width"],["kendoGridCellTemplate",""],["field","expectedDate","title","Prevista Cons.","filter","date",3,"width"],["field","status","title","Stato","filter","numeric",1,"purchase-order-status",3,"width"],["kendoGridFilterMenuTemplate",""],["field","supplierName","title","Fornitore"],["field","description","title","Note"],["field","type","title","Tipologia"],["field","operatorName","title","Inserito da"],["class","d-flex justify-content-end mt-3",4,"ngIf"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["field","activityColor","title"," ","width","1","kendoTooltip","",1,"activity-color",3,"sortable","filterable"],["field","status","title","Stato","filter","numeric",1,"activity-status",3,"width"],["field","shortDescription","title","Descrizione Attivit\xe0"],["field","expirationDate","title","Scadenza","filter","date","format","dd/MM/yyyy",3,"width"],["field","referentName","title","Operatore"],["field","createdOn","title","Ins. / Mod.","filterable","false",3,"width"],["field","lastOperator","title","Inser. Da",3,"width"],[3,"title"],[3,"column","filter","filterService","data"],[1,"text-nowrap"],["class","text-nowrap job-alert",4,"ngIf"],["class","text-nowrap",4,"ngIf"],[1,"text-nowrap","job-alert"],[1,"text-nowrap",2,"font-size","0.8rem"],[3,"innerHTML"],[1,"d-flex","justify-content-end","mt-3"]],template:function(n,o){1&n&&t.DNE(0,oKt,1,0,"div",0)(1,EKt,30,23,"div",1),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[W,Nn,iie,yn,aie,qn,ac,ni,li,Ld,Gd,Pd,Wn,Fp,Dh,xi,sa,q4,zz],encapsulation:2})}return s})();const yKt=["addressModal"],kKt=["supplierModal"],wKt=["messageModal"],DKt=["galleryModal"],OKt=["dependenciesModal"],$O=()=>({caseSensitive:!1,operator:"contains"}),TKt=()=>["style"],MKt=s=>({convertMsLists:!0,removeAttributes:s,removeHtmlComments:!0,removeMsClasses:!0,removeMsStyles:!0,removeInvalidHTML:!0}),IKt=()=>[".jpg",".png",".pdf",".docx"],xKt=s=>({allowedExtensions:s}),AKt=(s,i,e,n,o)=>({status:s,statusLabel0:i,statusLabel1:e,statusLabel2:n,statusLabel3:o}),Kle=s=>({messageUnread:s});function RKt(s,i){1&s&&t.nrm(0,"div",9)}function NKt(s,i){if(1&s&&(t.j41(0,"div",68),t.EFF(1),t.nI1(2,"activityStatus"),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.Lme(" Attivit\xe0 ",e.options.activity.number," \u2022 ",t.bMT(2,2,e.options.activity)," ")}}function LKt(s,i){1&s&&(t.j41(0,"div",68),t.EFF(1," Nuova attivit\xe0 "),t.k0s())}function GKt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",73),t.bIt("click",function(){t.eBV(e);const o=t.XpG(3);return t.Njj(o.createAddress())}),t.nrm(1,"i",54),t.k0s()}}function PKt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",23)(1,"div",62)(2,"label"),t.EFF(3,"Fornitore"),t.k0s(),t.j41(4,"kendo-formfield",25)(5,"kendo-combobox",69),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.activity.supplierId,o)||(r.options.activity.supplierId=o),t.Njj(o)}),t.bIt("valueChange",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.onSupplierChange())}),t.k0s(),t.j41(6,"button",70),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.createSupplier())}),t.nrm(7,"i",54),t.k0s(),t.nrm(8,"div",27),t.k0s()(),t.j41(9,"div",62)(10,"label"),t.EFF(11,"Indirizzo"),t.k0s(),t.j41(12,"div",25)(13,"kendo-combobox",71),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.activity.addressId,o)||(r.options.activity.addressId=o),t.Njj(o)}),t.k0s(),t.nrm(14,"div",27),t.DNE(15,GKt,2,0,"button",72),t.k0s()()()}if(2&s){t.XpG();const e=t.sdS(17),n=t.XpG();t.R7$(5),t.Y8G("data",n.suppliers)("valuePrimitive",!0),t.R50("ngModel",n.options.activity.supplierId),t.Y8G("suggest",!0)("kendoDropDownFilter",t.lJ4(16,$O))("allowCustom",!1)("disabled",!!n.options.id),t.R7$(3),t.Y8G("control",e.controls.supplierId),t.R7$(5),t.Y8G("data",n.addresses)("valuePrimitive",!0)("kendoDropDownFilter",t.lJ4(17,$O)),t.R50("ngModel",n.options.activity.addressId),t.Y8G("suggest",!0)("allowCustom",!1),t.R7$(),t.Y8G("control",e.controls.addressId),t.R7$(),t.Y8G("ngIf",!n.options.activity.supplierId)}}function FKt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",23)(1,"div",62)(2,"label"),t.EFF(3,"Indirizzo"),t.k0s(),t.j41(4,"div",25)(5,"kendo-combobox",74),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.activity.addressId,o)||(r.options.activity.addressId=o),t.Njj(o)}),t.k0s(),t.nrm(6,"div",27),t.j41(7,"button",73),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.createAddress())}),t.nrm(8,"i",54),t.k0s()()(),t.j41(9,"div",34)(10,"label"),t.EFF(11,"Tiro al piano"),t.k0s(),t.j41(12,"div",25)(13,"kendo-switch",75),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.activity.isFloorDelivery,o)||(r.options.activity.isFloorDelivery=o),t.Njj(o)}),t.k0s()()()()}if(2&s){t.XpG();const e=t.sdS(17),n=t.XpG();t.R7$(5),t.Y8G("data",n.addresses)("valuePrimitive",!0),t.R50("ngModel",n.options.activity.addressId),t.Y8G("kendoDropDownFilter",t.lJ4(9,$O))("required",!(null!=n.selectedActivityType&&n.selectedActivityType.isInternal))("suggest",!0)("allowCustom",!1),t.R7$(),t.Y8G("control",e.controls.addressId),t.R7$(7),t.R50("ngModel",n.options.activity.isFloorDelivery)}}function UKt(s,i){if(1&s&&(t.EFF(0),t.nI1(1,"activityStatus")),2&s){const e=t.XpG(2);t.SpI(" ",t.bMT(1,1,e.options.activity)," ")}}function BKt(s,i){if(1&s&&(t.EFF(0),t.nI1(1,"activityStatus")),2&s){const e=i.$implicit,n=t.XpG(2);t.SpI(" ",t.bMT(1,1,t.s1E(3,AKt,e,n.options.activity.statusLabel0,n.options.activity.statusLabel1,n.options.activity.statusLabel2,n.options.activity.statusLabel3))," ")}}function VKt(s,i){if(1&s&&(t.j41(0,"strong",76),t.EFF(1),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.SpI("Da leggere: ",e.unreadMessages,"")}}function zKt(s,i){1&s&&t.nrm(0,"i",89)}function jKt(s,i){1&s&&t.nrm(0,"i",90)}function HKt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",77)(1,"div",78),t.EFF(2),t.nI1(3,"date"),t.k0s(),t.j41(4,"div",78),t.EFF(5),t.nrm(6,"i",79),t.k0s(),t.nrm(7,"div",80),t.nI1(8,"domsanitizer"),t.j41(9,"div",81)(10,"button",82),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.editMessage(o))}),t.nrm(11,"i",83),t.k0s(),t.j41(12,"button",84),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.markAsRead(o))}),t.DNE(13,zKt,1,0,"i",85)(14,jKt,1,0,"i",86),t.k0s(),t.j41(15,"button",87),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.deleteMessage(o))}),t.nrm(16,"i",88),t.k0s()()()}if(2&s){const e=i.$implicit,n=t.XpG(2);t.R7$(),t.Y8G("ngClass",t.eq3(17,Kle,!e.isRead)),t.R7$(),t.SpI(" ",t.i5U(3,12,e.date,"dd/MM/yyyy"),""),t.R7$(2),t.Y8G("ngClass",t.eq3(19,Kle,!e.isRead)),t.R7$(),t.SpI(" ",e.operatorName," | "),t.R7$(),t.Y8G("title","Destinatari: "+e.targetOperators),t.R7$(),t.Y8G("ngClass",t.eq3(21,Kle,!e.isRead))("innerHTML",t.bMT(8,15,e.note),t.npT),t.R7$(3),t.Y8G("disabled",e.operatorId!=n.currentOperator.id),t.R7$(2),t.Y8G("disabled",e.isRead),t.R7$(),t.Y8G("ngIf",e.isRead),t.R7$(),t.Y8G("ngIf",!e.isRead),t.R7$(),t.Y8G("disabled",e.operatorId!=n.currentOperator.id)}}function $Kt(s,i){if(1&s){const e=t.RV6();t.j41(0,"a",91),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.downloadAttachment(o[0].name))}),t.EFF(1),t.k0s()}if(2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",e[0].name," ")}}function XKt(s,i){if(1&s){const e=t.RV6();t.j41(0,"a",95),t.bIt("click",function(){t.eBV(e);const o=t.XpG().index,r=t.XpG(2);return t.Njj(r.openImage(o))}),t.nrm(1,"img",96),t.k0s()}if(2&s){const e=t.XpG().$implicit,n=t.XpG(2);t.R7$(),t.Y8G("src",n.pathImage+e.fileName,t.B4B)("title",e.displayName)}}function WKt(s,i){if(1&s&&(t.j41(0,"a",97),t.nrm(1,"img",98),t.k0s()),2&s){const e=t.XpG().$implicit,n=t.XpG(2);t.Y8G("href",n.pathImage+e.fileName,t.B4B),t.R7$(),t.Y8G("title",e.displayName)}}function YKt(s,i){if(1&s&&(t.j41(0,"div",92),t.DNE(1,XKt,2,2,"a",93)(2,WKt,2,2,"a",94),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.Y8G("ngIf",e.isImage),t.R7$(),t.Y8G("ngIf",!e.isImage)}}function KKt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",10)(1,"kendo-window",11),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar"),t.DNE(3,NKt,3,4,"div",12)(4,LKt,2,0,"div",12),t.j41(5,"div",13)(6,"button",14),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",15),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",16),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",17),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",18)(13,"button",19)(14,"button",20)(15,"button",21),t.k0s(),t.j41(16,"form",22,4),t.bIt("submit",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.j41(18,"div",23)(19,"div",24)(20,"label"),t.EFF(21,"Numero"),t.k0s(),t.j41(22,"div",25),t.nrm(23,"input",26)(24,"div",27),t.k0s()(),t.j41(25,"div",28)(26,"label"),t.EFF(27,"Commessa"),t.k0s(),t.j41(28,"div",25)(29,"kendo-combobox",29),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.activity.jobId,o)||(r.options.activity.jobId=o),t.Njj(o)}),t.bIt("valueChange",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onJobChanged())}),t.k0s(),t.nrm(30,"div",27),t.k0s()(),t.j41(31,"div",30)(32,"label"),t.EFF(33,"Tipologia"),t.k0s(),t.j41(34,"div",25)(35,"kendo-combobox",31),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.activity.typeId,o)||(r.options.activity.typeId=o),t.Njj(o)}),t.bIt("valueChange",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onActivityTypeChange())}),t.k0s(),t.nrm(36,"div",27),t.k0s()()(),t.DNE(37,PKt,16,18,"div",32)(38,FKt,14,10,"div",32),t.j41(39,"div",23)(40,"div",30)(41,"label"),t.EFF(42,"Operatore"),t.k0s(),t.j41(43,"kendo-combobox",33),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.activity.referentId,o)||(r.options.activity.referentId=o),t.Njj(o)}),t.k0s()(),t.j41(44,"div",34)(45,"label"),t.EFF(46,"Scadenza"),t.k0s(),t.j41(47,"div",25)(48,"kendo-datepicker",35),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.activity.expirationDate,o)||(r.options.activity.expirationDate=o),t.Njj(o)}),t.k0s(),t.nrm(49,"div",27),t.k0s()(),t.j41(50,"div",36)(51,"label"),t.EFF(52,"Tassativa"),t.k0s(),t.j41(53,"div",25)(54,"kendo-switch",37),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.activity.isMandatoryExpiration,o)||(r.options.activity.isMandatoryExpiration=o),t.Njj(o)}),t.k0s()()(),t.j41(55,"div",34)(56,"label"),t.EFF(57,"Stato"),t.k0s(),t.j41(58,"div",25)(59,"kendo-dropdownlist",38),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.activity.status,o)||(r.options.activity.status=o),t.Njj(o)}),t.DNE(60,UKt,2,3,"ng-template",39)(61,BKt,2,9,"ng-template",40),t.k0s(),t.nrm(62,"div",27),t.k0s()()(),t.j41(63,"div",23)(64,"div",41)(65,"label"),t.EFF(66,"Attivit\xe0"),t.k0s(),t.j41(67,"div",25)(68,"input",42),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.activity.shortDescription,o)||(r.options.activity.shortDescription=o),t.Njj(o)}),t.k0s(),t.nrm(69,"div",27),t.k0s()()(),t.j41(70,"div",23)(71,"div",41)(72,"div",25)(73,"label"),t.EFF(74,"Descrizione"),t.k0s(),t.j41(75,"kendo-editor",43),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.activity.informations,o)||(r.options.activity.informations=o),t.Njj(o)}),t.j41(76,"kendo-toolbar")(77,"kendo-toolbar-buttongroup"),t.nrm(78,"kendo-toolbar-button",44)(79,"kendo-toolbar-button",45)(80,"kendo-toolbar-button",46),t.k0s(),t.nrm(81,"kendo-toolbar-dropdownlist",47)(82,"kendo-toolbar-colorpicker",48),t.j41(83,"kendo-toolbar-buttongroup"),t.nrm(84,"kendo-toolbar-button",49),t.k0s()()(),t.nrm(85,"div",27),t.k0s()()(),t.nrm(86,"hr",50),t.j41(87,"div",23)(88,"div",41)(89,"div",25)(90,"label"),t.EFF(91),t.DNE(92,VKt,2,1,"strong",51),t.k0s(),t.j41(93,"div",52)(94,"div",24)(95,"button",53),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.initNewMessage())}),t.nrm(96,"i",54),t.k0s()(),t.j41(97,"div",55),t.DNE(98,HKt,17,23,"div",56),t.k0s()()()()(),t.nrm(99,"hr",50),t.j41(100,"div",23)(101,"div",34)(102,"kendo-formfield",25)(103,"label"),t.EFF(104,"Allegati"),t.k0s(),t.j41(105,"kendo-upload",57),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.attachments,o)||(r.attachments=o),t.Njj(o)}),t.bIt("success",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.AttachmentExecutionSuccess(o))}),t.DNE(106,$Kt,2,1,"ng-template",58),t.nrm(107,"kendo-upload-messages",59),t.k0s()()(),t.j41(108,"div",60)(109,"div",23),t.DNE(110,YKt,3,2,"div",61),t.k0s()()(),t.j41(111,"div",23)(112,"div",62)(113,"div",63)(114,"button",16),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onOpenDependecies())}),t.nrm(115,"i",64),t.EFF(116," DIPENDENZE "),t.k0s()()(),t.j41(117,"div",62)(118,"div",65)(119,"button",66),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(120,"i",15),t.EFF(121," ANNULLA "),t.k0s(),t.j41(122,"button",67),t.nrm(123,"i",17),t.EFF(124," SALVA "),t.k0s()()()()()()()}if(2&s){const e=t.sdS(17),n=t.XpG();t.R7$(),t.Y8G("resizable",!0)("draggable",!0)("top",30),t.R7$(2),t.Y8G("ngIf",!!n.options.activity.id),t.R7$(),t.Y8G("ngIf",!n.options.activity.id),t.R7$(19),t.Y8G("ngModel",n.options.activity.number),t.R7$(),t.Y8G("control",e.controls.number),t.R7$(5),t.Y8G("data",n.jobs),t.R50("ngModel",n.options.activity.jobId),t.Y8G("suggest",!0)("allowCustom",!1)("kendoDropDownFilter",t.lJ4(56,$O))("valuePrimitive",!0)("readonly",n.jobReadonly),t.R7$(),t.Y8G("control",e.controls.jobId),t.R7$(5),t.Y8G("data",n.activityTypes)("valuePrimitive",!0),t.R50("ngModel",n.options.activity.typeId),t.Y8G("suggest",!0)("kendoDropDownFilter",t.lJ4(57,$O))("allowCustom",!1)("disabled",n.options.activity.id),t.R7$(),t.Y8G("control",e.controls.typeId),t.R7$(),t.Y8G("ngIf",null==n.selectedActivityType?null:n.selectedActivityType.isExternal),t.R7$(),t.Y8G("ngIf",!(null!=n.selectedActivityType&&n.selectedActivityType.isExternal||null!=n.selectedActivityType&&n.selectedActivityType.isInternal)),t.R7$(5),t.Y8G("data",n.operators)("valuePrimitive",!0),t.R50("ngModel",n.options.activity.referentId),t.Y8G("suggest",!0)("kendoDropDownFilter",t.lJ4(58,$O))("allowCustom",!1)("disabled",!(null!=n.selectedActivityType&&n.selectedActivityType.isExternal||null!=n.selectedActivityType&&n.selectedActivityType.isInternal)),t.R7$(5),t.R50("ngModel",n.options.activity.expirationDate),t.Y8G("disabled",n.isOperator),t.R7$(),t.Y8G("control",e.controls.expirationDate),t.R7$(5),t.R50("ngModel",n.options.activity.isMandatoryExpiration),t.R7$(5),t.Y8G("data",n.states)("valuePrimitive",!0),t.R50("ngModel",n.options.activity.status),t.R7$(3),t.Y8G("control",e.controls.status),t.R7$(6),t.R50("ngModel",n.options.activity.shortDescription),t.R7$(),t.Y8G("control",e.controls.shortDescription),t.R7$(6),t.R50("ngModel",n.options.activity.informations),t.Y8G("resizable",!0)("iframe",!1)("pasteCleanupSettings",t.eq3(60,MKt,t.lJ4(59,TKt))),t.R7$(10),t.Y8G("control",e.controls.informations),t.R7$(6),t.SpI("Commenti (",n.options.activity.messages.length,") "),t.R7$(),t.Y8G("ngIf",n.unreadMessages),t.R7$(6),t.Y8G("ngForOf",n.options.activity.messages),t.R7$(7),t.R50("ngModel",n.attachments),t.Y8G("saveUrl",n.uploadSaveUrl)("removeUrl",n.uploadRemoveUrl)("multiple",!0)("restrictions",t.eq3(63,xKt,t.lJ4(62,IKt))),t.R7$(5),t.Y8G("ngForOf",n.options.activity.attachments)}}function JKt(s,i){if(1&s&&t.nrm(0,"app-dependencies-modal",99,5),2&s){const e=t.XpG();t.Y8G("jobId",e.options.activity.jobId)("activityId",e.options.activity.id)}}let Bm=(()=>{class s extends As{constructor(e,n,o,r,a,l,c,u,f){super(o),this._activityTypesService=n,this._jobsService=r,this._suppliersService=a,this._addressesService=l,this._operatorsService=c,this._user=u,this._messagesService=f,this.attachments=[],this.album=[],this._baseUrl=`${At.baseApiUrl}/activities`,this.pathImage=`${At.baseAttachmentsUrl}/`,this.uploadSaveUrl=`${this._baseUrl}/activity-attachment/upload-file`,this.uploadRemoveUrl=`${this._baseUrl}/activity-attachment/remove-file`,this.states=MD(Vi),this.isOperator=e.isAuthorized(Pt.Operator)}ngOnInit(){this._getActivityTypes(),this._getSuppliers(),this._getOperators(),this.user=this._user.getUser(),this._getCurrentOperator(this.user.id)}onJobChanged(){this.options.activity.addressId=null,this._tryGetAddress()}onActivityTypeChange(){if(this.selectedActivityType=this.activityTypes.find(e=>e.id==this.options.activity.typeId),this.options.activity.shortDescription=this.selectedActivityType.name,this.selectedJob=this.jobs.find(e=>e.id==this.options.activity.jobId),this.selectedActivityType.isInternal){if(this.onSupplierChange(),!this.options.activity.supplierId){this.options.activity.addressId=null;const e=this.jobs.find(n=>n.id===this.options.activity.jobId).customerId;this.readAddresses(e)}}else{const e=this.jobs.find(n=>n.id===this.options.activity.jobId).customerId;this.readAddresses(e)}}createSupplier(){const e=new ch;this._subscriptions.push(this.supplierModal.open(e).pipe(z(n=>n),Y(()=>this._suppliersService.createSupplier(e)),x(n=>{this.options.activity.supplierId=n.id,this._messageBox.success(`Fornitore ${e.name} creato`)}),x(()=>this._getSuppliers())).subscribe())}onSupplierChange(){const e=this.suppliers.find(n=>n.id==this.options.activity.supplierId);if(this.addresses=e?.addresses??[],null!=e){const n=e.addresses.find(o=>1==o.isMainAddress);null!=n&&(this.options.activity.addressId=n.id)}}onOpenDependecies(){this.dependenciesModal.canHaveDependencies=this.options.activity.canHaveDependencies,this.dependenciesModal.open()}open(e){const n=super.open(e);return this.attachments=[],this.album=[],null!=e.activity.attachments&&this.options.activity.attachments.forEach(o=>{null!=o.displayName&&null!=o.fileName&&(this.attachments.push({name:o.displayName}),o.isImage&&this.album.push(this.pathImage+o.fileName),o.isImage||this.album.push("assets/document.jpg"))}),this.options.activity.jobId?this._subscriptions.push(this._jobsService.get(this.options.activity.jobId).pipe(x(o=>{this.job=o,this._getJobs(this.job.customerId)})).subscribe()):this._getJobs(0),this.jobReadonly=!1,this.customer=null,this.status=e.activity.status,this.options.activity.typeId&&(this.selectedActivityType=this.activityTypes.find(o=>o.id==this.options.activity.typeId),this.selectedActivityType.isInternal&&this.options.activity.supplierId&&this.onSupplierChange()),this.updateUnreadCounter(),n}_canClose(){return this.form.markAsDirty(),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi."),this.form.valid}_getActivityTypes(){this._subscriptions.push(this._activityTypesService.readActivityTypesList().pipe(x(e=>this.activityTypes=e)).subscribe())}_getSuppliers(){this._subscriptions.push(this._suppliersService.getSuppliersList().pipe(x(e=>this._setData(e)),x(()=>{this.selectedActivityType&&this.selectedActivityType.isInternal&&this.options.activity.supplierId&&this.onSupplierChange()})).subscribe())}_getOperators(){this._subscriptions.push(this._operatorsService.readOperators({sort:[{field:"name",dir:"asc"}]}).pipe(x(n=>this.operators=n.data)).subscribe())}_setData(e){this.suppliers=e}_getJobs(e){const n={filter:{filters:[],logic:"and"},sort:[{field:"date",dir:"asc"}]};this.options.activity.jobId&&n.filter.filters.push({field:"customerId",operator:"eq",value:e}),this._subscriptions.push(this._jobsService.read(n).pipe(x(o=>this.jobs=o.data.map(r=>new qKt(r))),x(()=>this._tryGetAddress())).subscribe())}_tryGetAddress(){if(!this.options.activity.jobId)return this.addresses=[],void(this.options.activity.addressId=null);const e=this.jobs.find(o=>o.id===this.options.activity.jobId).customerId;this.readAddresses(e);const n=this.jobs.find(o=>o.id===this.options.activity.jobId).addressId;this.options.activity.addressId=n}createAddress(){const e=new ds;this._subscriptions.push(this.addressModal.open(e).pipe(z(n=>n),x(()=>{this.addNewAddress(e)})).subscribe())}addNewAddress(e){null!==this.job.customerId&&(e.customerId=this.job.customerId),this._subscriptions.push(this._addressesService.createAddress(e).pipe((0,U.T)(n=>n),x(n=>{this.readAddresses(this.job.customerId),this.options.activity.addressId=n.id,this._messageBox.success("Indirizzo creato con successo")})).subscribe())}readAddresses(e){this._subscriptions.push(this._addressesService.getCustomerAddresses(e).pipe((0,U.T)(n=>{this.addresses=n}),x(()=>{})).subscribe())}downloadAttachment(e){const n=this.options.activity.attachments.find(r=>r.displayName===e);window.open(`${this._baseUrl}/activity-attachment/download-file/${n.fileName}/${n.displayName}`)}AttachmentExecutionSuccess(e){const n=e.response.body;if(null!=n){let o=new ID(0,n.originalFileName,n.fileName,this.options.activity.id);this.options.activity.attachments.push(o)}else{const o=e.files[0].name;this.options.activity.attachments.findAndRemove(r=>r.displayName===o)}}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(x(n=>this.currentOperator=n)).subscribe())}initNewMessage(){this.targetOperatorsArray=[],0!=this.options.activity.id?this.createMessage():this._messageBox.info("Prima di creare il nuovo commento \xe8 necessario salvare l'elemento corrente")}createMessage(){const n=new Zd(0,new Date,null,this.currentOperator.id,null,this.options.activity.id,null,null,!1),o=new rh(n,!0,!0,this.targetOperatorsArray);this._subscriptions.push(this.messageModal.open(o).pipe(z(r=>r),Y(()=>this._messagesService.create(n,o.targetOperators.join(","))),x(r=>{var a=new oh(r.id,r.date,r.note,r.operatorId,this.currentOperator.name,r.jobId,r.activityId,r.ticketId,r.purchaseOrderId,"",!0,[],!1,null);this.options.activity.messages.push(a)}),x(()=>this._messageBox.success("Commento creato"))).subscribe())}markAsRead(e){this._subscriptions.push(this._messagesService.markAsRead(e.id,this.currentOperator.id).pipe(x(()=>{e.isRead=!0,this._messageBox.success("Commento letto"),this.updateUnreadCounter()})).subscribe())}_afterMessageUpdated(e){this._messageBox.success("Commento aggiornato.");const n=this.options.activity.messages.find(o=>o.id==e.id);n.date=e.date,n.note=e.note,this.updateUnreadCounter()}editMessage(e){this._subscriptions.push(this._messagesService.get(e.id).pipe((0,U.T)(n=>new rh(n,!1)),Y(n=>this.messageModal.open(n)),z(n=>n),Y(()=>this._messagesService.update(this.messageModal.options.message)),x(()=>this._afterMessageUpdated(this.messageModal.options.message))).subscribe())}deleteMessage(e){this._messageBox.confirm("Sei sicuro di voler cancellare il commento?","Conferma l'azione").subscribe(n=>{1==n&&this._subscriptions.push(this._messagesService.delete(e.id).pipe(x(o=>{this.options.activity.messages.remove(e),this.updateUnreadCounter()}),x(o=>this._messageBox.success("Commento cancellato con successo"))).subscribe())})}updateUnreadCounter(){this.unreadMessages=this.options.activity.messages.count(e=>!e.isRead)}openImage(e){const n=new g4(this.album,e);this.galleryModal.open(n).subscribe()}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(mr),t.rXU(Sp),t.rXU(_t),t.rXU(dr),t.rXU(Sb),t.rXU(lh),t.rXU(br),t.rXU(Ci),t.rXU(_m))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-activity-modal"]],viewQuery:function(n,o){if(1&n&&(t.GBs(yKt,7),t.GBs(kKt,7),t.GBs(wKt,7),t.GBs(DKt,7),t.GBs(OKt,5)),2&n){let r;t.mGM(r=t.lsd())&&(o.addressModal=r.first),t.mGM(r=t.lsd())&&(o.supplierModal=r.first),t.mGM(r=t.lsd())&&(o.messageModal=r.first),t.mGM(r=t.lsd())&&(o.galleryModal=r.first),t.mGM(r=t.lsd())&&(o.dependenciesModal=r.first)}},features:[t.Vt3],decls:11,vars:3,consts:[["addressModal",""],["supplierModal",""],["messageModal",""],["galleryModal",""],["form","ngForm"],["dependenciesModal",""],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[3,"jobId","activityId",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],["class","k-window-title",4,"ngIf"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowMinimizeAction",""],["kendoWindowRestoreAction",""],["kendoWindowMaximizeAction",""],["kendoWindowCloseAction",""],["name","activity-modal-form","novalidate","","autocomplete","off",1,"redimensionModal",3,"submit"],[1,"row"],[1,"col-md-1"],[1,"form-group"],["name","number","novalidate","","autocomplete","off","disabled","",1,"form-control",3,"ngModel"],[1,"validation-message",3,"control"],[1,"col-md-7"],["textField","fullName","valueField","id","name","jobId","required","",3,"ngModelChange","valueChange","data","ngModel","suggest","allowCustom","kendoDropDownFilter","valuePrimitive","readonly"],[1,"col-md-4"],["textField","name","valueField","id","name","typeId","required","",3,"ngModelChange","valueChange","data","valuePrimitive","ngModel","suggest","kendoDropDownFilter","allowCustom","disabled"],["class","row",4,"ngIf"],["textField","name","valueField","id","name","referentId","required","",3,"ngModelChange","data","valuePrimitive","ngModel","suggest","kendoDropDownFilter","allowCustom","disabled"],[1,"col-md-3"],["name","expirationDate","format","dd/MM/yyyy",3,"ngModelChange","ngModel","disabled"],[1,"col-md-2"],["name","isMandatoryExpiration","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],["name","status","required","",3,"ngModelChange","data","valuePrimitive","ngModel"],["kendoDropDownListValueTemplate",""],["kendoDropDownListItemTemplate",""],[1,"col-md-12"],["name","shortDescription","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["name","informations",3,"ngModelChange","ngModel","resizable","iframe","pasteCleanupSettings"],["kendoEditorBoldButton",""],["kendoEditorItalicButton",""],["kendoEditorUnderlineButton",""],["kendoEditorFontSize",""],["kendoEditorForeColor","","view","gradient"],["kendoEditorInsertUnorderedListButton",""],[1,"border-green"],["style","padding-left: 15px;",4,"ngIf"],[1,"row",2,"margin-top","5px"],["title","Aggiungi nuovo commento","type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus"],[1,"col-md-11"],["class","row messageTableRow",4,"ngFor","ngForOf"],["name","myUpload",3,"ngModelChange","success","ngModel","saveUrl","removeUrl","multiple","restrictions"],["kendoUploadFileInfoTemplate",""],["dropFilesHere"," "],[1,"col-md-9"],["class","col-2",4,"ngFor","ngForOf"],[1,"col-md-6"],[1,"d-flex","justify-content","gap-2","mt-5"],[1,"fa","fa-link","me-2"],[1,"d-flex","justify-content-end","gap-2","mt-5"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"k-window-title"],["textField","name","valueField","id","name","supplierId",1,"customer-combobox",3,"ngModelChange","valueChange","data","valuePrimitive","ngModel","suggest","kendoDropDownFilter","allowCustom","disabled"],["type","button","title","Nuovo fornitore",1,"btn","btn-primary","add-customer-button",3,"click"],["textField","fullAddress","valueField","id","name","addressId",1,"address-combobox",3,"ngModelChange","data","valuePrimitive","kendoDropDownFilter","ngModel","suggest","allowCustom"],["type","button","class","btn btn-primary add-address-button","title","Nuovo indirizzo",3,"click",4,"ngIf"],["type","button","title","Nuovo indirizzo",1,"btn","btn-primary","add-address-button",3,"click"],["textField","fullAddress","valueField","id","name","addressId",1,"address-combobox",3,"ngModelChange","data","valuePrimitive","ngModel","kendoDropDownFilter","required","suggest","allowCustom"],["name","isFloorDelivery","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],[2,"padding-left","15px"],[1,"row","messageTableRow"],[1,"col-md-2","messageRowPadding",3,"ngClass"],[1,"fas","fa-users",3,"title"],[1,"col-md-6","messageRowPadding",3,"ngClass","innerHTML"],[1,"col-md-2",2,"text-align","right"],["type","button","title","Modifica",1,"btn","btn-outline-primary","btn-sm","me-2",3,"click","disabled"],[1,"fas","fa-edit"],["type","button","title","Segna come letto",1,"btn","btn-outline-primary","btn-sm","me-2",3,"click","disabled"],["class","fa-regular fa-square-check",4,"ngIf"],["class","fa-regular fa-square",4,"ngIf"],["type","button","title","Elimina",1,"btn","btn-outline-danger","btn-sm",3,"click","disabled"],[1,"fas","fa-trash"],[1,"fa-regular","fa-square-check"],[1,"fa-regular","fa-square"],[1,"pointer",3,"click"],[1,"col-2"],["href","javascript:void(0)",3,"click",4,"ngIf"],["target","_blank",3,"href",4,"ngIf"],["href","javascript:void(0)",3,"click"],["width","90%",3,"src","title"],["target","_blank",3,"href"],["src","assets/document.jpg","width","90%",3,"title"],[3,"jobId","activityId"]],template:function(n,o){1&n&&(t.DNE(0,RKt,1,0,"div",6)(1,KKt,125,65,"div",7),t.nrm(2,"app-address-modal",null,0)(4,"app-supplier-modal",null,1)(6,"app-message-modal",null,2)(8,"app-gallery-modal",null,3),t.DNE(10,JKt,2,2,"app-dependencies-modal",8)),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened),t.R7$(9),t.Y8G("ngIf",o.options))},dependencies:[Pe,st,W,Fi,jo,Un,Pi,ts,Vu,mi,Mi,ni,li,Ld,Gd,Pd,Wn,ba,ng,Wu,go,io,rp,ip,vr,Eg,yg,Cp,KS,Um,Gm,Pm,Fm,o1,s1,Gp,vh,Pn,Om,cr,gm,zle,HO,_4,Yle,xi,sa,q4],encapsulation:2})}return s})();class du{constructor(i){this.activity=i}}class qKt{constructor(i){this.id=i.id,this.customer=i.customer,this.code=i.code,this.fullName=`${i.code} - ${i.customer}`+(i.reference?` - ${i.reference}`:""),this.customerId=i.customerId,this.addressId=i.addressId,this.description=i.description}}function QKt(s,i){1&s&&t.nrm(0,"div",3)}function ZKt(s,i){if(1&s&&t.nrm(0,"img",27),2&s){const e=t.XpG().$implicit,n=t.XpG(2);t.Y8G("src",n.imagesUrl+e.pictureFileName,t.B4B)}}function eJt(s,i){if(1&s&&(t.j41(0,"div",25),t.DNE(1,ZKt,1,1,"img",26),t.j41(2,"span"),t.EFF(3),t.k0s()()),2&s){const e=i.$implicit;t.R7$(),t.Y8G("ngIf",e.pictureFileName),t.R7$(2),t.SpI(" ",e.fullName," ")}}function tJt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",4)(1,"kendo-window",5),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",6),t.EFF(4," Aggiungi prodotto "),t.k0s(),t.j41(5,"div",7)(6,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",9),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",11),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",12),t.k0s(),t.j41(13,"form",13,0),t.bIt("submit",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.j41(15,"div",14)(16,"div",15)(17,"label"),t.EFF(18,"Prodotto"),t.k0s(),t.j41(19,"div",16)(20,"kendo-combobox",17),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.productId,o)||(r.options.productId=o),t.Njj(o)}),t.bIt("valueChange",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onProductChange())}),t.DNE(21,eJt,4,2,"ng-template",18),t.k0s(),t.nrm(22,"div",19),t.k0s()(),t.j41(23,"div",20)(24,"label"),t.EFF(25,"Quantit\xe0"),t.k0s(),t.j41(26,"div",16)(27,"kendo-numerictextbox",21),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.quantity,o)||(r.options.quantity=o),t.Njj(o)}),t.k0s(),t.nrm(28,"div",19),t.k0s()()(),t.j41(29,"div",22)(30,"button",23),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(31,"i",9),t.EFF(32," ANNULLA "),t.k0s(),t.j41(33,"button",24),t.EFF(34," Conferma "),t.k0s()()()()()}if(2&s){const e=t.sdS(14),n=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("top",50),t.R7$(19),t.Y8G("data",n.products)("valuePrimitive",!0),t.R50("ngModel",n.options.productId),t.Y8G("suggest",!0)("allowCustom",!1),t.R7$(2),t.Y8G("control",e.controls.productId),t.R7$(5),t.R50("ngModel",n.options.quantity),t.Y8G("min",.01)("decimals",2),t.R7$(),t.Y8G("control",e.controls.quantity)}}let nJt=(()=>{class s extends As{constructor(e,n){super(e),this._productsService=n,this.imagesUrl=`${At.baseAttachmentsUrl}/`}ngOnInit(){this._readSpareParts()}onProductChange(){const e=this.products.find(n=>n.id===this.options.productId);this.options.productName=e?.name,this.options.productImage=e?.pictureFileName}_canClose(){return this.form.markAsDirty(),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi."),this.form.valid}_readSpareParts(){this._subscriptions.push(this._productsService.readSpareParts({sort:[{field:"name",dir:"asc"}]}).pipe(x(n=>this.products=n.data.map(o=>new iJt(o)))).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(_t),t.rXU(SR))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-purchase-order-item-modal"]],features:[t.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowCloseAction",""],["name","purchase-order-item-modal-form","novalidate","","autocomplete","off",1,"redimensionModal",3,"submit"],[1,"row"],[1,"col-md-8"],[1,"form-group"],["textField","fullName","valueField","id","name","product","required","",3,"ngModelChange","valueChange","data","valuePrimitive","ngModel","suggest","allowCustom"],["kendoComboBoxItemTemplate",""],[1,"validation-message",3,"control"],[1,"col-md-2"],["name","quantity","required","","format","0.00",3,"ngModelChange","ngModel","min","decimals"],[1,"d-flex","justify-content-end","gap-2","mt-5"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"d-flex","align-items-center","gap-1"],["class","thumbnail-xs",3,"src",4,"ngIf"],[1,"thumbnail-xs",3,"src"]],template:function(n,o){1&n&&t.DNE(0,QKt,1,0,"div",1)(1,tJt,35,13,"div",2),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[W,Fi,Un,Pi,ts,mi,Mi,ni,li,Wn,ba,go,$c,cr],encapsulation:2})}return s})();class iJt{constructor(i){this.id=i.id,this.code=i.code,this.name=i.name,this.fullName=`${i.code} - ${i.name}`,this.pictureFileName=i.pictureFileName,this.description=i.description}}const sJt=["purchaseOrderItemModal"],oJt=["supplierModal"],rJt=["messageModal"],aJt=["galleryModal"],OFe=()=>({caseSensitive:!1,operator:"contains"}),lJt=()=>({operator:"contains",ignoreCase:!0}),cJt=()=>["style"],dJt=s=>({convertMsLists:!0,removeAttributes:s,removeHtmlComments:!0,removeMsClasses:!0,removeMsStyles:!0,removeInvalidHTML:!0}),Jle=s=>({messageUnread:s});function uJt(s,i){1&s&&t.nrm(0,"div",7)}function hJt(s,i){if(1&s&&(t.j41(0,"div",78),t.EFF(1),t.nI1(2,"purchaseOrderStatus"),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.Lme(" Ordine ",e.options.purchaseOrder.number," \u2022 ",t.bMT(2,2,e.status)," ")}}function pJt(s,i){1&s&&(t.j41(0,"div",78),t.EFF(1," Nuovo Ordine "),t.k0s())}function fJt(s,i){1&s&&(t.EFF(0),t.nI1(1,"purchaseOrderStatus")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit)," ")}function mJt(s,i){1&s&&(t.EFF(0),t.nI1(1,"purchaseOrderStatus")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit)," ")}function _Jt(s,i){if(1&s&&(t.j41(0,"a",80),t.nrm(1,"img",81),t.k0s()),2&s){const e=t.XpG().$implicit,n=t.XpG(2);t.Y8G("href",n.imagesUrl+e.productImage,t.B4B),t.R7$(),t.Y8G("src",n.imagesUrl+e.productImage,t.B4B)}}function gJt(s,i){1&s&&t.DNE(0,_Jt,2,2,"a",79),2&s&&t.Y8G("ngIf",i.$implicit.productImage)}function vJt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",82)(1,"button",83),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.edit(o))}),t.nrm(2,"i",84),t.k0s(),t.j41(3,"button",85),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.askRemove(o))}),t.nrm(4,"i",86),t.k0s()()}}function SJt(s,i){if(1&s&&(t.j41(0,"strong",87),t.EFF(1),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.SpI("Da leggere: ",e.unreadMessages,"")}}function CJt(s,i){1&s&&t.nrm(0,"i",98)}function bJt(s,i){1&s&&t.nrm(0,"i",99)}function EJt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",88)(1,"div",89),t.EFF(2),t.nI1(3,"date"),t.k0s(),t.j41(4,"div",89),t.EFF(5),t.nrm(6,"i",90),t.k0s(),t.nrm(7,"div",91),t.nI1(8,"domsanitizer"),t.j41(9,"div",92)(10,"button",93),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.editMessage(o))}),t.nrm(11,"i",84),t.k0s(),t.j41(12,"button",94),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.markAsRead(o))}),t.DNE(13,CJt,1,0,"i",95)(14,bJt,1,0,"i",96),t.k0s(),t.j41(15,"button",97),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.deleteMessage(o))}),t.nrm(16,"i",86),t.k0s()()()}if(2&s){const e=i.$implicit,n=t.XpG(2);t.R7$(),t.Y8G("ngClass",t.eq3(17,Jle,!e.isRead)),t.R7$(),t.SpI(" ",t.i5U(3,12,e.date,"dd/MM/yyyy"),""),t.R7$(2),t.Y8G("ngClass",t.eq3(19,Jle,!e.isRead)),t.R7$(),t.SpI(" ",e.operatorName," | "),t.R7$(),t.Y8G("title","Destinatari: "+e.targetOperators),t.R7$(),t.Y8G("ngClass",t.eq3(21,Jle,!e.isRead))("innerHTML",t.bMT(8,15,e.note),t.npT),t.R7$(3),t.Y8G("disabled",e.operatorId!=n.currentOperator.id),t.R7$(2),t.Y8G("disabled",e.isRead),t.R7$(),t.Y8G("ngIf",e.isRead),t.R7$(),t.Y8G("ngIf",!e.isRead),t.R7$(),t.Y8G("disabled",e.operatorId!=n.currentOperator.id)}}function yJt(s,i){if(1&s){const e=t.RV6();t.j41(0,"a",100),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.downloadAttachment(o[0].name))}),t.EFF(1),t.k0s()}if(2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",e[0].name," ")}}function kJt(s,i){if(1&s){const e=t.RV6();t.j41(0,"a",103),t.bIt("click",function(){t.eBV(e);const o=t.XpG().index,r=t.XpG(2);return t.Njj(r.openImage(o))}),t.nrm(1,"img",104),t.k0s()}if(2&s){const e=t.XpG().$implicit,n=t.XpG(2);t.R7$(),t.Y8G("src",n.imagesUrl+e.fileName,t.B4B)("title",e.displayName)}}function wJt(s,i){if(1&s&&(t.j41(0,"a",80),t.nrm(1,"img",105),t.k0s()),2&s){const e=t.XpG().$implicit,n=t.XpG(2);t.Y8G("href",n.imagesUrl+e.fileName,t.B4B),t.R7$(),t.Y8G("title",e.displayName)}}function DJt(s,i){if(1&s&&(t.j41(0,"div",101),t.DNE(1,kJt,2,2,"a",102)(2,wJt,2,2,"a",79),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.Y8G("ngIf",e.isImage),t.R7$(),t.Y8G("ngIf",!e.isImage)}}function OJt(s,i){1&s&&t.nrm(0,"hr",61)}function TJt(s,i){if(1&s){const e=t.RV6();t.j41(0,"a",100),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(3);return t.Njj(r.downloadAttachment(o[0].name))}),t.EFF(1),t.k0s()}if(2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",e[0].name," ")}}function MJt(s,i){if(1&s&&t.nrm(0,"img",104),2&s){const e=t.XpG().$implicit,n=t.XpG(3);t.Y8G("src",n.imagesUrl+e.fileName,t.B4B)("title",e.displayName)}}function IJt(s,i){if(1&s&&t.nrm(0,"img",105),2&s){const e=t.XpG().$implicit;t.Y8G("title",e.displayName)}}function xJt(s,i){if(1&s&&(t.j41(0,"div",101)(1,"a",80),t.DNE(2,MJt,1,2,"img",107)(3,IJt,1,1,"img",108),t.k0s()()),2&s){const e=i.$implicit,n=t.XpG(3);t.R7$(),t.Y8G("href",n.imagesUrl+e.fileName,t.B4B),t.R7$(),t.Y8G("ngIf",e.isImage),t.R7$(),t.Y8G("ngIf",!e.isImage)}}function AJt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",21)(1,"div",28)(2,"kendo-formfield",23)(3,"label"),t.EFF(4,"Allegati Amministrazione"),t.k0s(),t.j41(5,"kendo-upload",106),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.adminAttachments,o)||(r.adminAttachments=o),t.Njj(o)}),t.bIt("success",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.AttachmentExecutionSuccessAdmin(o))}),t.DNE(6,TJt,2,1,"ng-template",69),t.nrm(7,"kendo-upload-messages",70),t.k0s()()(),t.j41(8,"div",71)(9,"div",21),t.DNE(10,xJt,4,3,"div",72),t.k0s()()()}if(2&s){const e=t.XpG(2);t.R7$(5),t.R50("ngModel",e.adminAttachments),t.Y8G("saveUrl",e.uploadSaveUrl)("removeUrl",e.uploadRemoveUrl)("multiple",!0),t.R7$(5),t.Y8G("ngForOf",e.options.purchaseOrder.adminAttachments)}}function RJt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",8)(1,"kendo-window",9),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.mxI("stateChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.windowState,o)||(r.windowState=o),t.Njj(o)}),t.j41(2,"kendo-window-titlebar"),t.DNE(3,hJt,3,4,"div",10)(4,pJt,2,0,"div",10),t.j41(5,"div",11)(6,"button",12),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",13),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",14),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",15),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",16)(13,"button",17)(14,"button",18)(15,"button",19),t.k0s(),t.j41(16,"form",20,4),t.bIt("submit",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.j41(18,"div",21)(19,"div",22)(20,"label"),t.EFF(21,"Anno"),t.k0s(),t.j41(22,"div",23)(23,"input",24),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.purchaseOrder.year,o)||(r.options.purchaseOrder.year=o),t.Njj(o)}),t.k0s(),t.nrm(24,"div",25),t.k0s()(),t.j41(25,"div",22)(26,"label"),t.EFF(27,"Numero"),t.k0s(),t.j41(28,"div",23)(29,"input",26),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.purchaseOrder.number,o)||(r.options.purchaseOrder.number=o),t.Njj(o)}),t.k0s(),t.nrm(30,"div",25),t.k0s()(),t.j41(31,"div",22)(32,"label"),t.EFF(33,"Data"),t.k0s(),t.j41(34,"div",23)(35,"kendo-datepicker",27),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.purchaseOrder.date,o)||(r.options.purchaseOrder.date=o),t.Njj(o)}),t.bIt("valueChange",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onDateChange())}),t.k0s(),t.nrm(36,"div",25),t.k0s()(),t.j41(37,"div",28)(38,"label"),t.EFF(39,"Data Prevista Consegna"),t.k0s(),t.j41(40,"div",23)(41,"kendo-datepicker",29),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.purchaseOrder.expectedDate,o)||(r.options.purchaseOrder.expectedDate=o),t.Njj(o)}),t.k0s(),t.nrm(42,"div",25),t.k0s()(),t.j41(43,"div",28)(44,"label"),t.EFF(45,"Tipologia"),t.k0s(),t.j41(46,"div",23)(47,"kendo-combobox",30),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.purchaseOrder.activityTypeId,o)||(r.options.purchaseOrder.activityTypeId=o),t.Njj(o)}),t.k0s(),t.nrm(48,"div",25),t.k0s()()(),t.j41(49,"div",21)(50,"div",31)(51,"label"),t.EFF(52,"Commessa/e"),t.k0s(),t.j41(53,"kendo-multiselect",32),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.purchaseOrder.jobs,o)||(r.options.purchaseOrder.jobs=o),t.Njj(o)}),t.bIt("filterChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onJobsFilterChange(o))}),t.k0s(),t.nrm(54,"div",25),t.k0s(),t.j41(55,"div",33)(56,"label"),t.EFF(57,"Fornitore"),t.k0s(),t.j41(58,"kendo-formfield",23)(59,"kendo-combobox",34),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.purchaseOrder.supplierId,o)||(r.options.purchaseOrder.supplierId=o),t.Njj(o)}),t.bIt("valueChange",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onSupplierChange())}),t.k0s(),t.j41(60,"button",35),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.createSupplier())}),t.nrm(61,"i",36),t.k0s(),t.nrm(62,"div",25),t.k0s()(),t.j41(63,"div",28)(64,"label"),t.EFF(65,"Stato"),t.k0s(),t.j41(66,"div",23)(67,"kendo-dropdownlist",37),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.purchaseOrder.status,o)||(r.options.purchaseOrder.status=o),t.Njj(o)}),t.DNE(68,fJt,2,3,"ng-template",38)(69,mJt,2,3,"ng-template",39),t.k0s(),t.nrm(70,"div",25),t.k0s()()(),t.nrm(71,"div",40),t.j41(72,"div",41)(73,"div",42)(74,"h5",43),t.EFF(75," Prodotti "),t.k0s(),t.j41(76,"button",44),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.addProduct())}),t.nrm(77,"i",45),t.EFF(78," Aggiungi prodotto "),t.k0s()(),t.j41(79,"div")(80,"div",46)(81,"kendo-grid",47),t.bIt("dataStateChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onDataStateChange(o))}),t.j41(82,"kendo-grid-column",48),t.DNE(83,gJt,1,1,"ng-template",49),t.k0s(),t.nrm(84,"kendo-grid-column",50)(85,"kendo-grid-column",51),t.j41(86,"kendo-grid-column",52),t.DNE(87,vJt,5,0,"ng-template",49),t.k0s()()()()(),t.nrm(88,"div",40),t.j41(89,"div",21)(90,"div",53)(91,"label"),t.EFF(92,"Descrizione"),t.k0s(),t.j41(93,"div",23)(94,"kendo-editor",54),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.purchaseOrder.description,o)||(r.options.purchaseOrder.description=o),t.Njj(o)}),t.j41(95,"kendo-toolbar")(96,"kendo-toolbar-buttongroup"),t.nrm(97,"kendo-toolbar-button",55)(98,"kendo-toolbar-button",56)(99,"kendo-toolbar-button",57),t.k0s(),t.nrm(100,"kendo-toolbar-dropdownlist",58)(101,"kendo-toolbar-colorpicker",59),t.j41(102,"kendo-toolbar-buttongroup"),t.nrm(103,"kendo-toolbar-button",60),t.k0s()()(),t.nrm(104,"div",25),t.k0s()()(),t.nrm(105,"hr",61),t.j41(106,"div",21)(107,"div",53)(108,"div",23)(109,"label"),t.EFF(110),t.DNE(111,SJt,2,1,"strong",62),t.k0s(),t.j41(112,"div",63)(113,"div",64)(114,"button",65),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.initNewMessage())}),t.nrm(115,"i",36),t.k0s()(),t.j41(116,"div",66),t.DNE(117,EJt,17,23,"div",67),t.k0s()()()()(),t.nrm(118,"hr",61),t.j41(119,"div",21)(120,"div",28)(121,"kendo-formfield",23)(122,"label"),t.EFF(123,"Allegati"),t.k0s(),t.j41(124,"kendo-upload",68),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.userAttachments,o)||(r.userAttachments=o),t.Njj(o)}),t.bIt("success",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.AttachmentExecutionSuccess(o))}),t.DNE(125,yJt,2,1,"ng-template",69),t.nrm(126,"kendo-upload-messages",70),t.k0s()()(),t.j41(127,"div",71)(128,"div",21),t.DNE(129,DJt,3,2,"div",72),t.k0s()()(),t.DNE(130,OJt,1,0,"hr",73)(131,AJt,11,5,"div",74),t.j41(132,"div",75)(133,"button",76),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(134,"i",13),t.EFF(135," ANNULLA "),t.k0s(),t.j41(136,"button",77),t.nrm(137,"i",15),t.EFF(138," SALVA "),t.k0s()()()()()}if(2&s){const e=t.sdS(17),n=t.XpG();t.R7$(),t.Y8G("resizable",!0)("draggable",!0)("top",30),t.R50("state",n.windowState),t.R7$(2),t.Y8G("ngIf",!!n.options.purchaseOrder.id),t.R7$(),t.Y8G("ngIf",!n.options.purchaseOrder.id),t.R7$(19),t.R50("ngModel",n.options.purchaseOrder.year),t.R7$(),t.Y8G("control",e.controls.year),t.R7$(5),t.R50("ngModel",n.options.purchaseOrder.number),t.R7$(),t.Y8G("control",e.controls.number),t.R7$(5),t.R50("ngModel",n.options.purchaseOrder.date),t.Y8G("disabled",!!n.options.id),t.R7$(),t.Y8G("control",e.controls.date),t.R7$(5),t.R50("ngModel",n.options.purchaseOrder.expectedDate),t.R7$(),t.Y8G("control",e.controls.expectedDate),t.R7$(5),t.Y8G("data",n.activityTypes)("valuePrimitive",!0),t.R50("ngModel",n.options.purchaseOrder.activityTypeId),t.Y8G("suggest",!0)("kendoDropDownFilter",t.lJ4(75,OFe))("allowCustom",!1),t.R7$(),t.Y8G("control",e.controls.typeId),t.R7$(5),t.Y8G("data",n.jobsList),t.R50("ngModel",n.options.purchaseOrder.jobs),t.Y8G("valuePrimitive",!0)("filterable",!0)("filterSettings",t.lJ4(76,lJt))("placeholder","Seleziona commesse")("autoClose",!1)("disabled",n.jobReadonly),t.R7$(),t.Y8G("control",e.controls.jobs),t.R7$(5),t.Y8G("data",n.suppliers)("valuePrimitive",!0),t.R50("ngModel",n.options.purchaseOrder.supplierId),t.Y8G("suggest",!0)("kendoDropDownFilter",t.lJ4(77,OFe))("allowCustom",!1)("disabled",!!n.options.id),t.R7$(3),t.Y8G("control",e.controls.supplierId),t.R7$(5),t.Y8G("data",n.states)("valuePrimitive",!0),t.R50("ngModel",n.options.purchaseOrder.status),t.R7$(3),t.Y8G("control",e.controls.status),t.R7$(11),t.xc7("width",n.screenWidth,"px"),t.Y8G("data",n.gridData)("pageSize",n.gridState.take)("skip",n.gridState.skip)("sort",n.gridState.sort)("filter",n.gridState.filter)("group",n.gridState.group)("sortable",!0)("pageable",!0),t.R7$(),t.Y8G("sortable",!1)("filterable",!1)("width",1),t.R7$(3),t.Y8G("width",1),t.R7$(),t.Y8G("sortable",!1)("filterable",!1)("width",1),t.R7$(8),t.R50("ngModel",n.options.purchaseOrder.description),t.Y8G("resizable",!0)("iframe",!1)("pasteCleanupSettings",t.eq3(79,dJt,t.lJ4(78,cJt))),t.R7$(10),t.Y8G("control",e.controls.description),t.R7$(6),t.SpI("Commenti (",n.options.purchaseOrder.messages.length,") "),t.R7$(),t.Y8G("ngIf",n.unreadMessages),t.R7$(6),t.Y8G("ngForOf",n.options.purchaseOrder.messages),t.R7$(7),t.R50("ngModel",n.userAttachments),t.Y8G("saveUrl",n.uploadSaveUrl)("removeUrl",n.uploadRemoveUrl)("multiple",!0),t.R7$(5),t.Y8G("ngForOf",n.options.purchaseOrder.userAttachments),t.R7$(),t.Y8G("ngIf",n.isAdmin),t.R7$(),t.Y8G("ngIf",n.isAdmin)}}let JS=(()=>{class s extends As{constructor(e,n,o,r,a,l,c,u){super(n),this.security=e,this._jobsService=o,this._suppliersService=r,this._operatorsService=a,this._user=l,this._activityTypesService=c,this._messagesService=u,this.gridState={skip:0,take:30,sort:[{field:"productName",dir:"asc"}]},this.userAttachments=[],this.adminAttachments=[],this.album=[],this.imagesUrl=`${At.baseAttachmentsUrl}/`,this._baseUrl=`${At.baseApiUrl}/purchase-orders`,this.uploadSaveUrl=`${this._baseUrl}/purchase-order-attachment/upload-file`,this.uploadRemoveUrl=`${this._baseUrl}/purchase-order-attachment/remove-file`,this.states=MD(hs),this.isAdmin=e.isAuthorized(Pt.Administrator)}ngOnInit(){this._getActivityTypes(),this._getSuppliers(),this.user=this._user.getUser(),this._getCurrentOperator(this.user.id)}onSupplierChange(){this.options.purchaseOrder.supplierName=this.suppliers.find(e=>e.id==this.options.purchaseOrder.supplierId)?.name??""}addProduct(){const e=new K4(0,this.options.purchaseOrder.id,null,null,null,1);this._subscriptions.push(this.purchaseOrderItemModal.open(e).pipe(z(n=>n),x(()=>this._afterProductAdded(e))).subscribe())}edit(e){const n=e.clone();this._subscriptions.push(this.purchaseOrderItemModal.open(n).pipe(z(o=>o),x(()=>this._afterProductUpdated(e,n))).subscribe())}askRemove(e){this._subscriptions.push(this._messageBox.confirm(`Sei sicuro di voler rimuovere il prodotto ${e.productName}?`).pipe(z(n=>n),x(()=>this._afterProductRemoved(e))).subscribe())}onDataStateChange(e){this.gridState=e,this.console.log(e),this.gridData=xC(this.options.purchaseOrder.items,this.gridState)}open(e){const n=super.open(e);return this._getJobs(),this.userAttachments=[],this.album=[],null!=e.purchaseOrder.attachments&&this.options.purchaseOrder.userAttachments.forEach(o=>{null!=o.displayName&&null!=o.fileName&&(this.userAttachments.push({name:o.displayName}),o.isImage&&this.album.push(this.imagesUrl+o.fileName),o.isImage||this.album.push("assets/document.jpg"))}),this.adminAttachments=[],null!=e.purchaseOrder.adminAttachments&&this.options.purchaseOrder.adminAttachments.forEach(o=>{null!=o.displayName&&null!=o.fileName&&this.adminAttachments.push({name:o.displayName})}),this.jobReadonly=this.user.role!=Pt.Administrator,this.status=e.purchaseOrder.status,this.onDataStateChange(this.gridState),this.updateUnreadCounter(),n}onJobsFilterChange(e){this.jobsList=this.jobsList.filter(n=>n.fullName.toLowerCase().includes(e.toLowerCase()))}_canClose(){return this.form.markAsDirty(),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi."),this.form.valid}_getActivityTypes(){this._subscriptions.push(this._activityTypesService.readActivityTypesListPO().pipe(x(e=>this.activityTypes=e)).subscribe())}_getJob(e){this._subscriptions.push(this._jobsService.get(e).pipe(x(n=>this.job=n)).subscribe())}createSupplier(){const e=new ch;this._subscriptions.push(this.supplierModal.open(e).pipe(z(n=>n),Y(()=>this._suppliersService.createSupplier(e)),x(n=>{this.options.purchaseOrder.supplierId=n.id,this._messageBox.success(`Fornitore ${e.name} creato`)}),x(()=>this._getSuppliers())).subscribe())}_getSuppliers(){this._subscriptions.push(this._suppliersService.getSuppliersList().pipe(x(e=>this._setData(e)),x(()=>{this.options&&this.options.purchaseOrder.supplierId&&this.onSupplierChange()})).subscribe())}_setData(e){this.suppliers=e}_getJobs(){this._subscriptions.push(this._jobsService.read({filter:{filters:[],logic:"and"},sort:[{field:"date",dir:"asc"}]}).pipe(x(n=>this.jobsList=n.data.map(o=>new NJt(o)))).subscribe())}_afterProductAdded(e){this.options.purchaseOrder.items.push(e),this.onDataStateChange(this.gridState),this._messageBox.success("Prodotto aggiunto")}_afterProductUpdated(e,n){this.options.purchaseOrder.items.replace(e,n),this.onDataStateChange(this.gridState),this._messageBox.success("Prodotto aggiornato")}_afterProductRemoved(e){this.options.purchaseOrder.items.remove(e),this.onDataStateChange(this.gridState),this._messageBox.success("Prodotto rimosso")}downloadAttachment(e){const n=this.options.purchaseOrder.attachments.find(r=>r.displayName===e);window.open(`${this._baseUrl}/purchase-order-attachment/download-file/${n.fileName}/${n.displayName}`)}AttachmentExecutionSuccess(e){const n=e.response.body;if(null!=n){let o=new r1(0,n.originalFileName,n.fileName,this.options.purchaseOrder.id,!1);this.options.purchaseOrder.attachments.push(o),this.options.purchaseOrder.userAttachments.push(o)}else{const o=e.files[0].name;this.options.purchaseOrder.attachments.findAndRemove(r=>r.displayName===o),this.options.purchaseOrder.userAttachments.findAndRemove(r=>r.displayName===o)}}AttachmentExecutionSuccessAdmin(e){const n=e.response.body;if(null!=n){let o=new r1(0,n.originalFileName,n.fileName,this.options.purchaseOrder.id,!0);this.options.purchaseOrder.attachments.push(o),this.options.purchaseOrder.adminAttachments.push(o)}else{const o=e.files[0].name;this.options.purchaseOrder.attachments.findAndRemove(r=>r.displayName===o),this.options.purchaseOrder.adminAttachments.findAndRemove(r=>r.displayName===o)}}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(x(n=>this.currentOperator=n)).subscribe())}initNewMessage(){this.targetOperatorsArray=[],0!=this.options.purchaseOrder.id?this.createMessage():this._messageBox.info("Prima di creare il nuovo commento \xe8 necessario salvare l'elemento corrente")}createMessage(){const n=new Zd(0,new Date,null,this.currentOperator.id,null,null,null,this.options.purchaseOrder.id,!1),o=new rh(n,!0,!0,this.targetOperatorsArray);this._subscriptions.push(this.messageModal.open(o).pipe(z(r=>r),Y(()=>this._messagesService.create(n,o.targetOperators.join(","))),x(r=>{var a=new oh(r.id,r.date,r.note,r.operatorId,this.currentOperator.name,r.jobId,r.activityId,r.ticketId,r.purchaseOrderId,"",!0,[],!1,null);this.options.purchaseOrder.messages.push(a)}),x(()=>this._messageBox.success("Commento creato"))).subscribe())}markAsRead(e){this._subscriptions.push(this._messagesService.markAsRead(e.id,this.currentOperator.id).pipe(x(()=>{e.isRead=!0,this._messageBox.success("Commento letto"),this.updateUnreadCounter()})).subscribe())}_afterMessageUpdated(e){this._messageBox.success("Commento aggiornato.");const n=this.options.purchaseOrder.messages.find(o=>o.id==e.id);n.date=e.date,n.note=e.note,this.updateUnreadCounter()}editMessage(e){this.targetOperatorsArray=[],this._subscriptions.push(this._messagesService.get(e.id).pipe((0,U.T)(n=>new rh(n,!1)),Y(n=>this.messageModal.open(n)),z(n=>n),Y(()=>this._messagesService.update(this.messageModal.options.message)),x(()=>this._afterMessageUpdated(this.messageModal.options.message))).subscribe())}deleteMessage(e){this._messageBox.confirm("Sei sicuro di voler cancellare il commento?","Conferma l'azione").subscribe(n=>{1==n&&this._subscriptions.push(this._messagesService.delete(e.id).pipe(x(o=>{this.options.purchaseOrder.messages.remove(e),this.updateUnreadCounter()}),x(o=>this._messageBox.success("Commento cancellato con successo"))).subscribe())})}updateUnreadCounter(){this.unreadMessages=this.options.purchaseOrder.messages.count(e=>!e.isRead)}openImage(e){const n=new g4(this.album,e);this.galleryModal.open(n).subscribe()}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(mr),t.rXU(_t),t.rXU(dr),t.rXU(Sb),t.rXU(br),t.rXU(Ci),t.rXU(Sp),t.rXU(_m))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-purchase-order-modal"]],viewQuery:function(n,o){if(1&n&&(t.GBs(sJt,7),t.GBs(oJt,7),t.GBs(rJt,7),t.GBs(aJt,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.purchaseOrderItemModal=r.first),t.mGM(r=t.lsd())&&(o.supplierModal=r.first),t.mGM(r=t.lsd())&&(o.messageModal=r.first),t.mGM(r=t.lsd())&&(o.galleryModal=r.first)}},features:[t.Vt3],decls:10,vars:2,consts:[["purchaseOrderItemModal",""],["supplierModal",""],["messageModal",""],["galleryModal",""],["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","stateChange","resizable","draggable","top","state"],["class","k-window-title",4,"ngIf"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowMinimizeAction",""],["kendoWindowRestoreAction",""],["kendoWindowMaximizeAction",""],["kendoWindowCloseAction",""],["name","activity-modal-form","novalidate","","autocomplete","off",1,"redimensionModal",3,"submit"],[1,"row"],[1,"col-md-2"],[1,"form-group"],["name","year","novalidate","","autocomplete","off","disabled","",1,"form-control",3,"ngModelChange","ngModel"],[1,"validation-message",3,"control"],["name","number","novalidate","","autocomplete","off","disabled","",1,"form-control",3,"ngModelChange","ngModel"],["format","dd/MM/yyyy","name","date","required","",3,"ngModelChange","valueChange","ngModel","disabled"],[1,"col-md-3"],["format","dd/MM/yyyy","name","expectedDate",3,"ngModelChange","ngModel"],["textField","name","valueField","id","name","typeId",3,"ngModelChange","data","valuePrimitive","ngModel","suggest","kendoDropDownFilter","allowCustom"],[1,"col-md-5"],["name","jobs","textField","fullName","valueField","id",3,"ngModelChange","filterChange","data","ngModel","valuePrimitive","filterable","filterSettings","placeholder","autoClose","disabled"],[1,"col-md-4"],["textField","name","valueField","id","name","supplierId","required","",1,"customer-combobox",3,"ngModelChange","valueChange","data","valuePrimitive","ngModel","suggest","kendoDropDownFilter","allowCustom","disabled"],["type","button","title","Nuovo fornitore",1,"btn","btn-primary","add-customer-button",3,"click"],[1,"fa","fa-plus"],["name","status","required","",3,"ngModelChange","data","valuePrimitive","ngModel"],["kendoDropDownListValueTemplate",""],["kendoDropDownListItemTemplate",""],[1,"border-green","mb-3"],[1,"mb-3"],[1,"d-flex","align-items-center","gap-2","mb-2"],[1,"mb-0"],["type","button","title","Aggiungi prodotto",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","productImage","title","\xa0",3,"sortable","filterable","width"],["kendoGridCellTemplate",""],["field","productName","title","Nome"],["field","quantity","title","Q.ta","filter","numeric","format","0.00",3,"width"],["field","id","title"," ",3,"sortable","filterable","width"],[1,"col-md-12"],["name","description","required","",3,"ngModelChange","ngModel","resizable","iframe","pasteCleanupSettings"],["kendoEditorBoldButton",""],["kendoEditorItalicButton",""],["kendoEditorUnderlineButton",""],["kendoEditorFontSize",""],["kendoEditorForeColor","","view","gradient"],["kendoEditorInsertUnorderedListButton",""],[1,"border-green"],["style","padding-left: 15px;",4,"ngIf"],[1,"row",2,"margin-top","5px"],[1,"col-md-1"],["title","Aggiungi nuovo commento","type","button",1,"btn","btn-primary",3,"click"],[1,"col-md-11"],["class","row messageTableRow",4,"ngFor","ngForOf"],["name","myUpload",3,"ngModelChange","success","ngModel","saveUrl","removeUrl","multiple"],["kendoUploadFileInfoTemplate",""],["dropFilesHere"," "],[1,"col-md-9"],["class","col-2",4,"ngFor","ngForOf"],["class","border-green",4,"ngIf"],["class","row",4,"ngIf"],[1,"d-flex","justify-content-end","gap-2","mt-5"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"k-window-title"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"],[1,"thumbnail-s",3,"src"],[1,"d-flex","text-nowrap","gap-1"],["type","button","title","Modifica",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-edit"],["type","button","title","Rimuovi",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"],[2,"padding-left","15px"],[1,"row","messageTableRow"],[1,"col-md-2","messageRowPadding",3,"ngClass"],[1,"fas","fa-users",3,"title"],[1,"col-md-6","messageRowPadding",3,"ngClass","innerHTML"],[1,"col-md-2",2,"text-align","right"],["type","button","title","Modifica",1,"btn","btn-outline-primary","btn-sm","me-2",3,"click","disabled"],["type","button","title","Segna come letto",1,"btn","btn-outline-primary","btn-sm","me-2",3,"click","disabled"],["class","fa-regular fa-square-check",4,"ngIf"],["class","fa-regular fa-square",4,"ngIf"],["type","button","title","Elimina",1,"btn","btn-outline-danger","btn-sm",3,"click","disabled"],[1,"fa-regular","fa-square-check"],[1,"fa-regular","fa-square"],[1,"pointer",3,"click"],[1,"col-2"],["href","javascript:void(0)",3,"click",4,"ngIf"],["href","javascript:void(0)",3,"click"],["width","90%",3,"src","title"],["src","assets/document.jpg","width","90%",3,"title"],["name","myUpload2",3,"ngModelChange","success","ngModel","saveUrl","removeUrl","multiple"],["width","90%",3,"src","title",4,"ngIf"],["src","assets/document.jpg","width","90%",3,"title",4,"ngIf"]],template:function(n,o){1&n&&(t.DNE(0,uJt,1,0,"div",5)(1,RJt,139,81,"div",6),t.nrm(2,"app-purchase-order-item-modal",null,0)(4,"app-supplier-modal",null,1)(6,"app-message-modal",null,2)(8,"app-gallery-modal",null,3)),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[Pe,st,W,Fi,jo,Un,Pi,ts,mi,Mi,Nn,yn,qn,ni,li,Ld,Gd,Pd,Wn,ba,ng,Wu,go,io,ig,rp,vr,Eg,yg,Cp,KS,Um,Gm,Pm,Fm,o1,s1,Gp,vh,Pn,Om,cr,zle,nJt,HO,_4,xi,sa,zz],encapsulation:2})}return s})();class Vm{constructor(i){this.purchaseOrder=i}}class NJt{constructor(i){this.id=i.id,this.customer=i.customer,this.code=i.code,this.fullName=`${i.code} - ${i.customer}`+(i.reference?` - ${i.reference}`:""),this.customerId=i.customerId,this.addressId=i.addressId,this.description=i.description}}let Up=(()=>{class s extends It{transform(e){return gO[e]}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(s)))(o||s)}})();static#t=this.\u0275pipe=t.EJ8({name:"jobStatus",type:s,pure:!0})}return s})(),Q4=(()=>{class s{get graphApi(){return{url:this._apiUrl,accessToken:this._apiAccessToken}}constructor(e){this._http=e,this.tenantUrl="https://graph.microsoft.com/v1.0",this.siteId="0fdfacc1-fe8c-4646-94d0-47e99014b0e2",this.driveId="daa8fa9e-0baa-4edb-9bbe-31add2837fd4",this.rootItemId="01M6PTOZIUWLYL7KVEUJCLFX2ONYCRAXY2",this._apiUrl=`${this.tenantUrl}/sites/lacosgroup.sharepoint.com,${this.siteId},${this.driveId}/drive/items`,this._apiAccessToken="",this._baseUrl=`${At.baseApiUrl}/sharepoint`,this._tokenEndpoint=`${this._baseUrl}/token`,this._headers=new yo({Authorization:`Bearer ${this._apiAccessToken}`,Accept:"application/json"})}getChildren(e=this.rootItemId){return this._http.get(`${this._apiUrl}/${e}/children`,{headers:this._headers}).pipe((0,U.T)(o=>o.value),(0,U.T)(o=>o.map(r=>r.folder?new TFe(r.name,r.id,r.parentReference.path,r.webUrl):new MFe(r.name,r.id,r.parentReference.path,r.webUrl))))}getParentFolderPath(e){return this._http.get(`${this._apiUrl}/${e}`,{headers:this._headers}).pipe((0,U.T)(o=>o.parentReference.path))}getFileContentUrl(e){return this._http.get(`${this._apiUrl}/${e}/content`,{headers:this._headers,responseType:"blob"}).pipe((0,U.T)(o=>URL.createObjectURL(o)))}downloadFile(e,n){return this.getFileContentUrl(e).pipe(x(o=>{const r=document.createElement("a");r.href=o,r.download=n,r.click(),window.URL.revokeObjectURL(o)}))}updateSharepointApiAccessToken(){return this._http.get(this._tokenEndpoint).pipe((0,U.T)(e=>e.accessToken),x(e=>{this._apiAccessToken=e,this._headers=this._headers.set("Authorization",`Bearer ${e}`)}))}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(js))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class TFe{constructor(i,e,n,o){this.name=i,this.id=e,this.path=n,this.webUrl=o}}class MFe{constructor(i,e,n,o){this.name=i,this.id=e,this.path=n,this.webUrl=o,this.isImg=this._isImg(this.name)}_isImg(i){const n=i.split(".").pop();return["apng","avif","gif","jpg","jpeg","png","svg","webp"].includes(n?.toLowerCase()||"")}}class LJt{constructor(i){this.name=i.name,this.id=i.id,this.path=i.path,this.webUrl=i.webUrl,this.isImg=i instanceof MFe&&i.isImg,this.isFolder=i instanceof TFe}}let GJt=(()=>{class s extends It{constructor(e){super(),this._service=e}ngOnChanges(e){e.url&&this.url&&this._getSrc()}_getSrc(){this._subscriptions.push(this._service.getFileContentUrl(this.url).pipe(x(e=>this.src=e)).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Q4))};static#t=this.\u0275dir=t.FsC({type:s,selectors:[["","sharepointImage",""]],hostVars:1,hostBindings:function(n,o){2&n&&t.BMQ("src",o.src,t.n$t)},inputs:{url:[t.Mj6.None,"src","url"]},features:[t.Vt3,t.OA$]})}return s})();function PJt(s,i){1&s&&t.nrm(0,"div",2)}function FJt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",15),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.resetFolder())}),t.nrm(1,"i",16),t.EFF(2," Reset Cartella "),t.k0s()}}function UJt(s,i){if(1&s&&(t.j41(0,"div",17),t.nrm(1,"i",18),t.j41(2,"p",19),t.EFF(3),t.k0s()()),2&s){const e=i.$implicit;t.R7$(),t.Y8G("ngClass",e.isFolder?"fa-folder":"fa-file"),t.R7$(2),t.JRh(e.name)}}function BJt(s,i){if(1&s&&(t.j41(0,"div",20),t.nrm(1,"img",21),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.Y8G("src",e.id,t.B4B)}}function VJt(s,i){1&s&&t.DNE(0,BJt,2,1,"div",20),2&s&&t.vxM(0,i.$implicit.isImg?0:-1)}function zJt(s,i){1&s&&(t.j41(0,"kendo-grid-column",12),t.DNE(1,VJt,1,1,"ng-template",11),t.k0s()),2&s&&t.Y8G("sortable",!1)("width",250)}function jJt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",15),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.close())}),t.EFF(1," CONFERMA "),t.k0s()}}function HJt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",3)(1,"kendo-window",4),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",5),t.EFF(4," Cartella sharepoint "),t.k0s(),t.nrm(5,"button",6),t.k0s(),t.j41(6,"div"),t.DNE(7,FJt,3,0,"button",7),t.j41(8,"kendo-breadcrumb",8),t.bIt("itemClick",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onPathClick(o))}),t.k0s(),t.j41(9,"kendo-grid",9),t.bIt("cellClick",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onCellClick(o))}),t.j41(10,"kendo-grid-column",10),t.DNE(11,UJt,4,2,"ng-template",11),t.k0s(),t.DNE(12,zJt,2,2,"kendo-grid-column",12),t.k0s()(),t.j41(13,"div",13),t.DNE(14,jJt,2,0,"button",7),t.j41(15,"button",14),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.EFF(16," CHIUDI "),t.k0s()()()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("width",900)("top",110),t.R7$(6),t.vxM(7,e.browseMode?7:-1),t.R7$(),t.Y8G("items",e.navigationMenuItems),t.R7$(),t.Y8G("kendoGridBinding",e.items)("sortable",!0)("height",500),t.R7$(),t.Y8G("sortable",!0),t.R7$(2),t.vxM(12,e.browseMode?-1:12),t.R7$(2),t.vxM(14,e.browseMode?14:-1)}}let $Jt=(()=>{class s extends mb{constructor(e,n){super(),this._sharepointService=e,this._messageBox=n,this.tenantUrl=this._sharepointService.tenantUrl,this.folders=[],this.files=[],this.rootPath=this._sharepointService.rootItemId,this.currentPath=this.rootPath,this._ngUnsubscribe=new Xe.B}ngOnInit(){}resetFolder(){this._navigate(this.rootPath,"COMMESSE")}onCellClick(e){const n=e.dataItem;n.isFolder?this._navigate(n.id,n.name):this._downloadFile(n.id,n.name)}open(e){return this.currentPath=e.path,this.browseMode=e.browseMode,this.navigationMenuItems=[],this._sharepointService.updateSharepointApiAccessToken().pipe(zs(this._ngUnsubscribe),x(()=>this._navigate(this.currentPath,e.folderName))).subscribe(),super.open(e)}_canClose(){return!0}_navigate(e,n){this._getFolderContents(e),this._sharepointService.getParentFolderPath(e).pipe(zs(this._ngUnsubscribe),x(o=>{this.navigationMenuItems=o.replace("/drive/root:","").concat("/",n).split("/").filter(r=>r).map(r=>({text:r,title:e})),this.currentPath=e,this.navFolder=o})).subscribe()}_downloadFile(e,n){this._sharepointService.downloadFile(e,n).pipe(zs(this._ngUnsubscribe),Lc(o=>(this._messageBox.error("Questo file non pu\xf2 essere scaricato"),pt(0)))).subscribe()}_getFolderContents(e){this._sharepointService.getChildren(e).pipe(zs(this._ngUnsubscribe),x(n=>this.items=n.map(o=>new LJt(o)))).subscribe()}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Q4),t.rXU(_t))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-sharepoint-modal"]],inputs:{startPath:"startPath"},features:[t.Vt3],decls:2,vars:2,consts:[["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","width","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],["type","button",1,"btn","btn-primary"],[3,"itemClick","items"],["scrollable","scrollable",3,"cellClick","kendoGridBinding","sortable","height"],["field","name","title","Nome",1,"file",3,"sortable"],["kendoGridCellTemplate",""],["field","isImg","title","Anteprima immagine",1,"file",3,"sortable","width"],[1,"d-flex","flex-row","justify-content-end","gap-2","mt-5"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-delete-left"],[1,"d-flex","align-items-center","gap-2",2,"overflow","hidden"],[1,"fa-regular",3,"ngClass"],[1,"ellipsis","m-0"],[2,"height","150px","width","220px","min-width","220px","min-height","150px"],["loading","lazy","sharepointImage","",2,"height","100%","object-fit","cover","width","100%",3,"src"]],template:function(n,o){1&n&&t.DNE(0,PJt,1,0,"div",0)(1,HJt,17,12,"div",1),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[Pe,W,gve,Nn,IB,yn,qn,ni,li,Wn,GJt],encapsulation:2})}return s})();const XJt=["customerModal"],WJt=["addressModal"],YJt=["messageModal"],KJt=["galleryModal"],JJt=["sharepointModal"],qle=()=>({caseSensitive:!1,operator:"contains"}),qJt=()=>["style"],QJt=s=>({convertMsLists:!0,removeAttributes:s,removeHtmlComments:!0,removeMsClasses:!0,removeMsStyles:!0,removeInvalidHTML:!0}),Qle=s=>({messageUnread:s});function ZJt(s,i){1&s&&t.nrm(0,"div",8)}function eqt(s,i){if(1&s&&(t.j41(0,"div",71),t.EFF(1),t.nI1(2,"jobStatus"),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.Lme(" Commessa ",e.options.code," \u2022 ",t.bMT(2,2,e.options.status)," ")}}function tqt(s,i){1&s&&(t.j41(0,"div",71),t.EFF(1," Nuova commessa "),t.k0s())}function nqt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",72)(1,"button",73),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.dismiss())}),t.nrm(2,"i",74),t.EFF(3," ANNULLA "),t.k0s(),t.j41(4,"button",75),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.close())}),t.nrm(5,"i",76),t.EFF(6," SALVA "),t.k0s()()}if(2&s){const e=t.XpG(2);t.R7$(4),t.Y8G("disabled",e.isOperator)}}function iqt(s,i){1&s&&(t.EFF(0),t.nI1(1,"jobStatus")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit)," ")}function sqt(s,i){1&s&&(t.EFF(0),t.nI1(1,"jobStatus")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit)," ")}function oqt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",18)(1,"div",29)(2,"label"),t.EFF(3,"Nominativo Committente"),t.k0s(),t.j41(4,"div",20)(5,"input",77),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.contactName,o)||(r.contactName=o),t.Njj(o)}),t.k0s()()(),t.j41(6,"div",29)(7,"label"),t.EFF(8,"Contatto Committente"),t.k0s(),t.j41(9,"div",20)(10,"input",78),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.contactReference,o)||(r.contactReference=o),t.Njj(o)}),t.k0s()()()()}if(2&s){const e=t.XpG(2);t.R7$(5),t.R50("ngModel",e.contactName),t.R7$(5),t.R50("ngModel",e.contactReference)}}function rqt(s,i){if(1&s&&(t.j41(0,"strong",79),t.EFF(1),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.SpI("Da leggere: ",e.unreadMessages,"")}}function aqt(s,i){1&s&&t.nrm(0,"i",92)}function lqt(s,i){1&s&&t.nrm(0,"i",93)}function cqt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",80)(1,"div",81),t.EFF(2),t.nI1(3,"date"),t.k0s(),t.j41(4,"div",81),t.EFF(5),t.nrm(6,"i",82),t.k0s(),t.nrm(7,"div",83),t.nI1(8,"domsanitizer"),t.j41(9,"div",84)(10,"button",85),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.editMessage(o))}),t.nrm(11,"i",86),t.k0s(),t.j41(12,"button",87),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.markAsRead(o))}),t.DNE(13,aqt,1,0,"i",88)(14,lqt,1,0,"i",89),t.k0s(),t.j41(15,"button",90),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.deleteMessage(o))}),t.nrm(16,"i",91),t.k0s()()()}if(2&s){const e=i.$implicit,n=t.XpG(2);t.R7$(),t.Y8G("ngClass",t.eq3(17,Qle,!e.isRead)),t.R7$(),t.SpI(" ",t.i5U(3,12,e.date,"dd/MM/yyyy"),""),t.R7$(2),t.Y8G("ngClass",t.eq3(19,Qle,!e.isRead)),t.R7$(),t.SpI(" ",e.operatorName," | "),t.R7$(),t.Y8G("title","Destinatari: "+e.targetOperators),t.R7$(),t.Y8G("ngClass",t.eq3(21,Qle,!e.isRead))("innerHTML",t.bMT(8,15,e.note),t.npT),t.R7$(3),t.Y8G("disabled",e.operatorId!=n.currentOperator.id),t.R7$(2),t.Y8G("disabled",e.isRead),t.R7$(),t.Y8G("ngIf",e.isRead),t.R7$(),t.Y8G("ngIf",!e.isRead),t.R7$(),t.Y8G("disabled",e.operatorId!=n.currentOperator.id)}}function dqt(s,i){if(1&s){const e=t.RV6();t.j41(0,"a",94),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.downloadAttachment(o[0].name))}),t.EFF(1),t.k0s()}if(2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",e[0].name," ")}}function uqt(s,i){if(1&s){const e=t.RV6();t.j41(0,"a",98),t.bIt("click",function(){t.eBV(e);const o=t.XpG().index,r=t.XpG(2);return t.Njj(r.openImage(o))}),t.nrm(1,"img",99),t.k0s()}if(2&s){const e=t.XpG().$implicit,n=t.XpG(2);t.R7$(),t.Y8G("src",n.pathImage+e.fileName,t.B4B)("title",e.displayName)}}function hqt(s,i){if(1&s&&(t.j41(0,"a",100),t.nrm(1,"img",101),t.k0s()),2&s){const e=t.XpG().$implicit,n=t.XpG(2);t.Y8G("href",n.pathImage+e.fileName,t.B4B),t.R7$(),t.Y8G("title",e.displayName)}}function pqt(s,i){if(1&s&&(t.j41(0,"div",95),t.DNE(1,uqt,2,2,"a",96)(2,hqt,2,2,"a",97),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.Y8G("ngIf",e.isImage),t.R7$(),t.Y8G("ngIf",!e.isImage)}}function fqt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",106),t.bIt("click",function(){t.eBV(e);const o=t.XpG(3);return t.Njj(o.deleteJob())}),t.nrm(1,"i",91),t.k0s()}if(2&s){const e=t.XpG(3);t.Y8G("disabled",e.isOperator)}}function mqt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",102)(1,"button",103),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.dismiss())}),t.nrm(2,"i",74),t.EFF(3," ANNULLA "),t.k0s(),t.DNE(4,fqt,2,1,"button",104),t.j41(5,"button",105),t.nrm(6,"i",76),t.EFF(7," SALVA "),t.k0s()()}if(2&s){const e=t.XpG(2);t.R7$(4),t.Y8G("ngIf",null!=e.options.id),t.R7$(),t.Y8G("disabled",e.isOperator)}}function _qt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",9)(1,"kendo-window",10),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.mxI("stateChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.windowState,o)||(r.windowState=o),t.Njj(o)}),t.j41(2,"kendo-window-titlebar"),t.DNE(3,eqt,3,4,"div",11)(4,tqt,2,0,"div",11)(5,nqt,7,1,"div",12),t.nrm(6,"button",13)(7,"button",14)(8,"button",15)(9,"button",16),t.k0s(),t.j41(10,"form",17,5),t.bIt("submit",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.j41(12,"div",18)(13,"div",19)(14,"label"),t.EFF(15,"Codice"),t.k0s(),t.j41(16,"div",20)(17,"strong"),t.EFF(18),t.k0s()()(),t.j41(19,"div",19)(20,"label"),t.EFF(21,"Data"),t.k0s(),t.j41(22,"div",20)(23,"kendo-datepicker",21),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.date,o)||(r.options.date=o),t.Njj(o)}),t.bIt("valueChange",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onDateChange())}),t.k0s(),t.nrm(24,"div",22),t.k0s()(),t.j41(25,"div",19)(26,"label"),t.EFF(27,"Data Scadenza"),t.k0s(),t.j41(28,"div",20)(29,"kendo-datepicker",23),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.expirationDate,o)||(r.options.expirationDate=o),t.Njj(o)}),t.k0s(),t.nrm(30,"div",22),t.k0s()(),t.j41(31,"div",19)(32,"label"),t.EFF(33,"Data Tassativa"),t.k0s(),t.j41(34,"div",20)(35,"kendo-datepicker",24),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.mandatoryDate,o)||(r.options.mandatoryDate=o),t.Njj(o)}),t.k0s(),t.nrm(36,"div",22),t.k0s()(),t.j41(37,"div",19)(38,"label"),t.EFF(39,"Priorit\xe0 Alta"),t.k0s(),t.j41(40,"div",20)(41,"kendo-switch",25),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.hasHighPriority,o)||(r.options.hasHighPriority=o),t.Njj(o)}),t.k0s(),t.nrm(42,"div",22),t.k0s()(),t.j41(43,"div",19)(44,"label"),t.EFF(45,"Stato"),t.k0s(),t.j41(46,"div",20)(47,"kendo-dropdownlist",26),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.status,o)||(r.options.status=o),t.Njj(o)}),t.DNE(48,iqt,2,3,"ng-template",27)(49,sqt,2,3,"ng-template",28),t.k0s(),t.nrm(50,"div",22),t.k0s()()(),t.j41(51,"div",18)(52,"div",29)(53,"label"),t.EFF(54,"Cliente"),t.k0s(),t.j41(55,"kendo-formfield",20)(56,"kendo-combobox",30),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.customerId,o)||(r.options.customerId=o),t.Njj(o)}),t.bIt("valueChange",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onCustomerChange())}),t.k0s(),t.j41(57,"button",31),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.createCustomer())}),t.nrm(58,"i",32),t.k0s(),t.nrm(59,"div",22),t.k0s()(),t.j41(60,"div",29)(61,"label"),t.EFF(62,"Indirizzo"),t.k0s(),t.j41(63,"div",20)(64,"kendo-combobox",33),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.addressId,o)||(r.options.addressId=o),t.Njj(o)}),t.bIt("valueChange",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onAddressChange())}),t.k0s(),t.nrm(65,"div",22),t.j41(66,"button",34),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.createAddress())}),t.nrm(67,"i",32),t.k0s()()()(),t.DNE(68,oqt,11,2,"div",35),t.j41(69,"div",18)(70,"div",36)(71,"label"),t.EFF(72,"Riferimento Commessa"),t.k0s(),t.j41(73,"div",20)(74,"input",37),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.reference,o)||(r.options.reference=o),t.Njj(o)}),t.k0s(),t.nrm(75,"div",22),t.k0s()(),t.j41(76,"div",38)(77,"label"),t.EFF(78,"Responsabile Comm."),t.k0s(),t.j41(79,"kendo-combobox",39),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.referentId,o)||(r.options.referentId=o),t.Njj(o)}),t.k0s()()(),t.j41(80,"div",18)(81,"div",40)(82,"label"),t.EFF(83,"Note"),t.k0s(),t.j41(84,"div",20)(85,"kendo-editor",41),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.description,o)||(r.options.description=o),t.Njj(o)}),t.j41(86,"kendo-toolbar")(87,"kendo-toolbar-buttongroup"),t.nrm(88,"kendo-toolbar-button",42)(89,"kendo-toolbar-button",43)(90,"kendo-toolbar-button",44),t.k0s(),t.nrm(91,"kendo-toolbar-dropdownlist",45)(92,"kendo-toolbar-colorpicker",46),t.j41(93,"kendo-toolbar-buttongroup"),t.nrm(94,"kendo-toolbar-button",47),t.k0s()()(),t.nrm(95,"div",22),t.k0s()()(),t.j41(96,"div",18)(97,"div",48),t.nrm(98,"img",49),t.k0s(),t.j41(99,"div",50)(100,"label")(101,"i"),t.EFF(102,"Cartella sharepoint"),t.k0s()(),t.j41(103,"div",51)(104,"label"),t.EFF(105),t.k0s()()(),t.j41(106,"div",52)(107,"button",53),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.browseSharepointPath(o.options.sharepointFolder,o.options.sharepointFolderName,!0))}),t.nrm(108,"i",54),t.k0s(),t.j41(109,"button",55),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.browseSharepointPath(o.options.sharepointFolder,o.options.sharepointFolderName,!1))}),t.nrm(110,"i",56),t.k0s()()(),t.nrm(111,"hr",57),t.j41(112,"div",18)(113,"div",40)(114,"div",20)(115,"label"),t.EFF(116),t.DNE(117,rqt,2,1,"strong",58),t.k0s(),t.j41(118,"div",59)(119,"div",60)(120,"button",61),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.initNewMessage())}),t.nrm(121,"i",32),t.k0s()(),t.j41(122,"div",62),t.DNE(123,cqt,17,23,"div",63),t.k0s()()()()(),t.nrm(124,"hr",57),t.j41(125,"div",18)(126,"div",64)(127,"kendo-formfield",20)(128,"label"),t.EFF(129,"Allegati"),t.k0s(),t.j41(130,"kendo-upload",65),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.attachments,o)||(r.attachments=o),t.Njj(o)}),t.bIt("success",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.AttachmentExecutionSuccess(o))}),t.DNE(131,dqt,2,1,"ng-template",66),t.nrm(132,"kendo-upload-messages",67),t.k0s()()(),t.j41(133,"div",68)(134,"div",18),t.DNE(135,pqt,3,2,"div",69),t.k0s()()(),t.DNE(136,mqt,8,2,"div",70),t.k0s()()()}if(2&s){const e=t.sdS(11),n=t.XpG();t.R7$(),t.Y8G("resizable",!0)("draggable",!0)("top",30),t.R50("state",n.windowState),t.R7$(2),t.Y8G("ngIf",!!n.options.id),t.R7$(),t.Y8G("ngIf",!n.options.id),t.R7$(),t.Y8G("ngIf",!n.jobReadOnly||!n.isOperator),t.R7$(13),t.JRh(n.options.code?n.options.code:"Nuova commessa"),t.R7$(5),t.R50("ngModel",n.options.date),t.Y8G("disabled",!!n.options.id),t.R7$(),t.Y8G("control",e.controls.date),t.R7$(5),t.R50("ngModel",n.options.expirationDate),t.Y8G("min",n.options.date)("disabled",n.isOperator),t.R7$(),t.Y8G("control",e.controls.expirationDate),t.R7$(5),t.R50("ngModel",n.options.mandatoryDate),t.Y8G("min",n.options.date)("disabled",n.isOperator),t.R7$(),t.Y8G("control",e.controls.mandatoryDate),t.R7$(5),t.R50("ngModel",n.options.hasHighPriority),t.R7$(),t.Y8G("control",e.controls.hasHighPriority),t.R7$(5),t.Y8G("data",n.states)("valuePrimitive",!0),t.R50("ngModel",n.options.status),t.R7$(3),t.Y8G("control",e.controls.status),t.R7$(6),t.Y8G("data",n.customers)("valuePrimitive",!0),t.R50("ngModel",n.options.customerId),t.Y8G("suggest",!0)("kendoDropDownFilter",t.lJ4(66,qle))("allowCustom",!1)("disabled",!!n.options.id),t.R7$(3),t.Y8G("control",e.controls.customerId),t.R7$(5),t.Y8G("data",n.addresses)("valuePrimitive",!0)("kendoDropDownFilter",t.lJ4(67,qle)),t.R50("ngModel",n.options.addressId),t.Y8G("suggest",!0)("allowCustom",!1),t.R7$(),t.Y8G("control",e.controls.addressId),t.R7$(3),t.Y8G("ngIf",n.contactName||n.contactReference),t.R7$(6),t.R50("ngModel",n.options.reference),t.Y8G("disabled",0==n.options.id),t.R7$(),t.Y8G("control",e.controls.reference),t.R7$(4),t.Y8G("data",n.operators)("valuePrimitive",!0),t.R50("ngModel",n.options.referentId),t.Y8G("suggest",!0)("kendoDropDownFilter",t.lJ4(68,qle))("allowCustom",!1),t.R7$(6),t.R50("ngModel",n.options.description),t.Y8G("resizable",!0)("iframe",!1)("pasteCleanupSettings",t.eq3(70,QJt,t.lJ4(69,qJt))),t.R7$(10),t.Y8G("control",e.controls.description),t.R7$(10),t.JRh(n.options.sharepointFolderName),t.R7$(4),t.Y8G("disabled",n.cannotBrowseSharepoint),t.R7$(7),t.SpI("Commenti (",n.options.messages.length,") "),t.R7$(),t.Y8G("ngIf",n.unreadMessages),t.R7$(6),t.Y8G("ngForOf",n.options.messages),t.R7$(7),t.R50("ngModel",n.attachments),t.Y8G("saveUrl",n.uploadSaveUrl)("removeUrl",n.uploadRemoveUrl)("multiple",!0),t.R7$(5),t.Y8G("ngForOf",n.options.attachments),t.R7$(),t.Y8G("ngIf",!n.jobReadOnly||!n.isOperator)}}let Bp=(()=>{class s extends As{constructor(e,n,o,r,a,l,c,u,f){super(r),this._customersService=n,this._service=o,this._addressesService=a,this._operatorsService=l,this._user=c,this._messagesService=u,this._sharepoint=f,this.jobReadOnly=!1,this.windowState="default",this.attachments=[],this.album=[],this.states=MD(fn),this._baseUrl=`${At.baseApiUrl}/jobs`,this.pathImage=`${At.baseAttachmentsUrl}/`,this.uploadSaveUrl=`${this._baseUrl}/job-attachment/upload-file`,this.uploadRemoveUrl=`${this._baseUrl}/job-attachment/remove-file`,this.cannotBrowseSharepoint=!1,this.isOperator=e.isAuthorized(Pt.Operator)}ngOnInit(){this._getData(),this._getOperators(),this.user=this._user.getUser(),this._getCurrentOperator(this.user.id)}onDateChange(){this.options.year=this.options.date?.getFullYear()}open(e){const n=super.open(e);return this.attachments=[],this.album=[],this.contactName=null,this.contactReference=null,null!=e.attachments&&this.options.attachments.forEach(o=>{null!=o.displayName&&null!=o.fileName&&(this.attachments.push({name:o.displayName}),o.isImage&&this.album.push(this.pathImage+o.fileName),o.isImage||this.album.push("assets/document.jpg"))}),null==e.sharepointFolder&&(this.options.sharepointFolder=this._sharepoint.rootItemId),this.cannotBrowseSharepoint=null==e.sharepointFolder||e.sharepointFolder==this._sharepoint.rootItemId,this.updateUnreadCounter(),this.readAddresses(),n}onCustomerChange(){const e=this.customers.find(n=>n.id==this.options.customerId);if(this.addresses=e?.addresses??[],null!=e){const n=e.addresses.find(o=>1==o.isMainAddress);null!=n&&(this.options.addressId=n.id)}}onAddressChange(){const e=this.addresses.find(n=>n.id==this.options.addressId);null!=e&&(this.contactName=e.contactName,this.contactReference=e.contactReference)}_canClose(){return this.form.markAsDirty(),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi."),this.form.valid}_getData(){this._subscriptions.push(this._customersService.getCustomersList().pipe(x(e=>this._setData(e))).subscribe())}_setData(e){this.customers=e}createCustomer(){const e=new To;e.fiscalType=1,this._subscriptions.push(this.customerModal.open(e).pipe(z(n=>n),Y(()=>this._customersService.createCustomer(e)),x(n=>{this.options.customerId=n.id,this.readAddresses(),this._messageBox.success(`Cliente ${e.name} creato`)}),x(()=>this._getData())).subscribe())}createAddress(){const e=new ds;this._subscriptions.push(this.addressModal.open(e).pipe(z(n=>n),x(()=>{this.addNewAddress(e)})).subscribe())}browseSharepointPath(e,n,o){const r={path:e,folderName:n,browseMode:o};this.sharepointModal.startPath=this.options.sharepointFolder,this._subscriptions.push(this.sharepointModal.open(r).pipe(z(a=>a),x(()=>{const a=this.sharepointModal.navigationMenuItems.slice(-1)[0]?.text;this.options.sharepointFolder=this.sharepointModal.currentPath,this.options.sharepointFolderName=a||null,this.cannotBrowseSharepoint=null==this.options.sharepointFolder||this.options.sharepointFolder==this._sharepoint.rootItemId})).subscribe())}addNewAddress(e){null!==this.options.customerId&&(e.customerId=this.options.customerId),this._subscriptions.push(this._addressesService.createAddress(e).pipe(x(n=>{this.readAddresses(),this.options.addressId=n.id,this._messageBox.success("Indirizzo creato con successo")})).subscribe())}readAddresses(){this._subscriptions.push(this._addressesService.getCustomerAddresses(this.options.customerId).pipe((0,U.T)(e=>{this.addresses=e}),x(()=>{this.onAddressChange()})).subscribe())}deleteJob(){this._messageBox.confirm("Sei sicuro di voler cancellare la commessa?","Conferma l'azione").subscribe(e=>{1==e&&this._subscriptions.push(this._service.delete(this.options.id).pipe(x(n=>this._messageBox.success("Commessa cancellata con successo")),x(()=>this.dismiss())).subscribe())})}downloadAttachment(e){const n=this.options.attachments.find(r=>r.displayName===e);window.open(`${this._baseUrl}/job-attachment/download-file/${n.fileName}/${n.displayName}`)}AttachmentExecutionSuccess(e){const n=e.response.body;if(null!=n){let o=new m4(0,n.originalFileName,n.fileName,this.options.id);this.options.attachments.push(o)}else{const o=e.files[0].name;this.options.attachments.findAndRemove(r=>r.displayName===o)}}_getOperators(){this._subscriptions.push(this._operatorsService.readOperators({sort:[{field:"name",dir:"asc"}]}).pipe(x(n=>this.operators=n.data)).subscribe())}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(x(n=>this.currentOperator=n)).subscribe())}initNewMessage(){this.targetOperatorsArray=[],0!=this.options.id?this.createMessage():this._messageBox.info("Prima di creare il nuovo commento \xe8 necessario salvare l'elemento corrente")}createMessage(){const n=new Zd(0,new Date,null,this.currentOperator.id,this.options.id,null,null,null,!1),o=new rh(n,!0,!0,this.targetOperatorsArray);this._subscriptions.push(this.messageModal.open(o).pipe(z(r=>r),Y(()=>this._messagesService.create(n,o.targetOperators.join(","))),x(r=>{var a=new oh(r.id,r.date,r.note,r.operatorId,this.currentOperator.name,r.jobId,r.activityId,r.ticketId,r.purchaseOrderId,"",!0,[],!1,null);this.options.messages.push(a)}),x(()=>this._messageBox.success("Commento creato"))).subscribe())}markAsRead(e){this._subscriptions.push(this._messagesService.markAsRead(e.id,this.currentOperator.id).pipe(x(()=>{e.isRead=!0,this.updateUnreadCounter(),this._messageBox.success("Commento letto")})).subscribe())}_afterMessageUpdated(e){this._messageBox.success("Commento aggiornato.");const n=this.options.messages.find(o=>o.id==e.id);n.date=e.date,n.note=e.note,this.updateUnreadCounter()}editMessage(e){this._subscriptions.push(this._messagesService.get(e.id).pipe((0,U.T)(n=>new rh(n,!1)),Y(n=>this.messageModal.open(n)),z(n=>n),Y(()=>this._messagesService.update(this.messageModal.options.message)),x(()=>this._afterMessageUpdated(this.messageModal.options.message))).subscribe())}deleteMessage(e){this._messageBox.confirm("Sei sicuro di voler cancellare il commento?","Conferma l'azione").subscribe(n=>{1==n&&this._subscriptions.push(this._messagesService.delete(e.id).pipe(x(o=>{this.options.messages.remove(e),this.updateUnreadCounter()}),x(o=>this._messageBox.success("Commento cancellato con successo"))).subscribe())})}updateUnreadCounter(){this.unreadMessages=this.options.messages.count(e=>!e.isRead)}openImage(e){const n=new g4(this.album,e);this.galleryModal.open(n).subscribe()}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(mr),t.rXU(yl),t.rXU(dr),t.rXU(_t),t.rXU(lh),t.rXU(br),t.rXU(Ci),t.rXU(_m),t.rXU(Q4))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-job-modal"]],viewQuery:function(n,o){if(1&n&&(t.GBs(XJt,7),t.GBs(WJt,7),t.GBs(YJt,7),t.GBs(KJt,7),t.GBs(JJt,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.customerModal=r.first),t.mGM(r=t.lsd())&&(o.addressModal=r.first),t.mGM(r=t.lsd())&&(o.messageModal=r.first),t.mGM(r=t.lsd())&&(o.galleryModal=r.first),t.mGM(r=t.lsd())&&(o.sharepointModal=r.first)}},inputs:{jobReadOnly:"jobReadOnly"},features:[t.Vt3],decls:12,vars:2,consts:[["customerModal",""],["addressModal",""],["messageModal",""],["galleryModal",""],["sharepointModal",""],["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","stateChange","resizable","draggable","top","state"],["class","k-window-title",4,"ngIf"],["class","text-right",4,"ngIf"],["kendoWindowMinimizeAction",""],["kendoWindowRestoreAction",""],["kendoWindowMaximizeAction",""],["kendoWindowCloseAction",""],["name","job-modal-form","novalidate","","autocomplete","off",3,"submit"],[1,"row"],[1,"col-md-2"],[1,"form-group"],["format","dd/MM/yyyy","name","date","required","",3,"ngModelChange","valueChange","ngModel","disabled"],[1,"validation-message",3,"control"],["format","dd/MM/yyyy","name","expirationDate",3,"ngModelChange","ngModel","min","disabled"],["format","dd/MM/yyyy","name","mandatoryDate",3,"ngModelChange","ngModel","min","disabled"],["name","hasHighPriority","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],["name","status","required","",3,"ngModelChange","data","valuePrimitive","ngModel"],["kendoDropDownListValueTemplate",""],["kendoDropDownListItemTemplate",""],[1,"col-md-6"],["textField","name","valueField","id","name","customerId","required","",1,"customer-combobox",3,"ngModelChange","valueChange","data","valuePrimitive","ngModel","suggest","kendoDropDownFilter","allowCustom","disabled"],["type","button","title","Nuovo cliente",1,"btn","btn-primary","add-customer-button",3,"click"],[1,"fa","fa-plus"],["textField","fullAddress","valueField","id","name","addressId",1,"address-combobox",3,"ngModelChange","valueChange","data","valuePrimitive","kendoDropDownFilter","ngModel","suggest","allowCustom"],["type","button","title","Nuovo indirizzo",1,"btn","btn-primary","add-address-button",3,"click"],["class","row",4,"ngIf"],[1,"col-md-8"],["name","reference","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"col-md-4"],["textField","name","valueField","id","name","referentId","required","",3,"ngModelChange","data","valuePrimitive","ngModel","suggest","kendoDropDownFilter","allowCustom"],[1,"col-md-12"],["name","description",3,"ngModelChange","ngModel","resizable","iframe","pasteCleanupSettings"],["kendoEditorBoldButton",""],["kendoEditorItalicButton",""],["kendoEditorUnderlineButton",""],["kendoEditorFontSize",""],["kendoEditorForeColor","","view","gradient"],["kendoEditorInsertUnorderedListButton",""],[1,"col-1","d-flex","flex-column"],["src","assets/sharepoint.png","width","48px"],[1,"col-3","d-flex","flex-column"],[1,"d-flex","flex-row"],[1,"col-3"],["type","button",1,"btn","btn-primary","ml-2",3,"click"],[1,"fa-solid","fa-magnifying-glass"],["type","button",1,"btn","btn-primary","ml-2",3,"click","disabled"],[1,"fa-regular","fa-folder"],[1,"border-green"],["style","padding-left: 15px;",4,"ngIf"],[1,"row",2,"margin-top","5px"],[1,"col-md-1"],["title","Aggiungi nuovo commento","type","button",1,"btn","btn-primary",3,"click"],[1,"col-md-11"],["class","row messageTableRow",4,"ngFor","ngForOf"],[1,"col-md-3"],["name","myUpload",3,"ngModelChange","success","ngModel","saveUrl","removeUrl","multiple"],["kendoUploadFileInfoTemplate",""],["dropFilesHere"," "],[1,"col-md-9"],["class","col-2",4,"ngFor","ngForOf"],["class","d-flex justify-content-end gap-2 mt-5",4,"ngIf"],[1,"k-window-title"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"fa","fa-floppy-disk","me-2"],["name","contactName","novalidate","","disabled","",1,"form-control",3,"ngModelChange","ngModel"],["name","contactReference","novalidate","","disabled","",1,"form-control",3,"ngModelChange","ngModel"],[2,"padding-left","15px"],[1,"row","messageTableRow"],[1,"col-md-2","messageRowPadding",3,"ngClass"],[1,"fas","fa-users",3,"title"],[1,"col-md-6","messageRowPadding",3,"ngClass","innerHTML"],[1,"col-md-2",2,"text-align","right"],["type","button","title","Modifica",1,"btn","btn-outline-primary","btn-sm","me-2",3,"click","disabled"],[1,"fas","fa-edit"],["type","button","title","Segna come letto",1,"btn","btn-outline-primary","btn-sm","me-2",3,"click","disabled"],["class","fa-regular fa-square-check",4,"ngIf"],["class","fa-regular fa-square",4,"ngIf"],["type","button","title","Elimina",1,"btn","btn-outline-danger","btn-sm",3,"click","disabled"],[1,"fas","fa-trash"],[1,"fa-regular","fa-square-check"],[1,"fa-regular","fa-square"],[1,"pointer",3,"click"],[1,"col-2"],["href","javascript:void(0)",3,"click",4,"ngIf"],["target","_blank",3,"href",4,"ngIf"],["href","javascript:void(0)",3,"click"],["width","90%",3,"src","title"],["target","_blank",3,"href"],["src","assets/document.jpg","width","90%",3,"title"],[1,"d-flex","justify-content-end","gap-2","mt-5"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button","class","btn btn-danger me-2","title","Elimina",3,"disabled","click",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button","title","Elimina",1,"btn","btn-danger","me-2",3,"click","disabled"]],template:function(n,o){1&n&&(t.DNE(0,ZJt,1,0,"div",6)(1,_qt,137,72,"div",7),t.nrm(2,"app-customer-modal",null,0)(4,"app-address-modal",null,1)(6,"app-message-modal",null,2)(8,"app-gallery-modal",null,3)(10,"app-sharepoint-modal",null,4)),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[Pe,st,W,Fi,jo,Un,Pi,ts,Vu,mi,Mi,ni,li,Ld,Gd,Pd,Wn,ba,ng,Wu,go,io,rp,ip,vr,Eg,yg,Cp,KS,Um,Gm,Pm,Fm,o1,s1,Gp,vh,Pn,Om,cr,eu,gm,HO,_4,$Jt,xi,sa,Up],encapsulation:2})}return s})();const gqt=["customerModal"],vqt=["addressModal"],IFe=()=>({caseSensitive:!1,operator:"contains"}),Sqt=()=>["style"],Cqt=s=>({convertMsLists:!0,removeAttributes:s,removeHtmlComments:!0,removeMsClasses:!0,removeMsStyles:!0,removeInvalidHTML:!0});function bqt(s,i){1&s&&t.nrm(0,"div",5)}function Eqt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",6)(1,"kendo-window",7),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",8),t.EFF(4," Copia commessa "),t.k0s(),t.j41(5,"div",9)(6,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",11),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",12),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",13),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",14),t.k0s(),t.j41(13,"form",15,2),t.bIt("submit",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.j41(15,"div",16)(16,"div",17)(17,"label"),t.EFF(18,"Data"),t.k0s(),t.j41(19,"div",18)(20,"kendo-datepicker",19),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.date,o)||(r.options.date=o),t.Njj(o)}),t.k0s(),t.nrm(21,"div",20),t.k0s()()(),t.j41(22,"div",16)(23,"div",21)(24,"label"),t.EFF(25,"Cliente"),t.k0s(),t.j41(26,"kendo-formfield",18)(27,"kendo-combobox",22),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.customerId,o)||(r.options.customerId=o),t.Njj(o)}),t.bIt("valueChange",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onCustomerChange())}),t.k0s(),t.j41(28,"button",23),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.createCustomer())}),t.nrm(29,"i",24),t.k0s(),t.nrm(30,"div",20),t.k0s()(),t.j41(31,"div",21)(32,"label"),t.EFF(33,"Indirizzo"),t.k0s(),t.j41(34,"div",18)(35,"kendo-combobox",25),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.addressId,o)||(r.options.addressId=o),t.Njj(o)}),t.k0s(),t.nrm(36,"div",20),t.j41(37,"button",26),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.createAddress())}),t.nrm(38,"i",24),t.k0s()()()(),t.j41(39,"div",16)(40,"div",27)(41,"label"),t.EFF(42,"Riferimento Commessa"),t.k0s(),t.j41(43,"div",18)(44,"input",28),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.reference,o)||(r.options.reference=o),t.Njj(o)}),t.k0s(),t.nrm(45,"div",20),t.k0s()()(),t.j41(46,"div",16)(47,"div",27)(48,"label"),t.EFF(49,"Note"),t.k0s(),t.j41(50,"div",18)(51,"kendo-editor",29),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.description,o)||(r.options.description=o),t.Njj(o)}),t.j41(52,"kendo-toolbar")(53,"kendo-toolbar-buttongroup"),t.nrm(54,"kendo-toolbar-button",30)(55,"kendo-toolbar-button",31)(56,"kendo-toolbar-button",32),t.k0s(),t.nrm(57,"kendo-toolbar-dropdownlist",33)(58,"kendo-toolbar-colorpicker",34),t.j41(59,"kendo-toolbar-buttongroup"),t.nrm(60,"kendo-toolbar-button",35),t.k0s()()(),t.nrm(61,"div",20),t.k0s()()(),t.j41(62,"div",36)(63,"button",37),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(64,"i",11),t.EFF(65," ANNULLA "),t.k0s(),t.j41(66,"button",38),t.nrm(67,"i",13),t.EFF(68," SALVA "),t.k0s()()()()()}if(2&s){const e=t.sdS(14),n=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("top",30),t.R7$(19),t.R50("ngModel",n.options.date),t.Y8G("disabled",!!n.options.id),t.R7$(),t.Y8G("control",e.controls.date),t.R7$(6),t.Y8G("data",n.customers)("valuePrimitive",!0),t.R50("ngModel",n.options.customerId),t.Y8G("suggest",!0)("kendoDropDownFilter",t.lJ4(28,IFe))("allowCustom",!1)("disabled",!!n.options.id),t.R7$(3),t.Y8G("control",e.controls.customerId),t.R7$(5),t.Y8G("data",n.addresses)("valuePrimitive",!0)("kendoDropDownFilter",t.lJ4(29,IFe)),t.R50("ngModel",n.options.addressId),t.Y8G("suggest",!0)("allowCustom",!1),t.R7$(),t.Y8G("control",e.controls.addressId),t.R7$(8),t.R50("ngModel",n.options.reference),t.R7$(),t.Y8G("control",e.controls.reference),t.R7$(6),t.R50("ngModel",n.options.description),t.Y8G("resizable",!0)("iframe",!1)("pasteCleanupSettings",t.eq3(31,Cqt,t.lJ4(30,Sqt))),t.R7$(10),t.Y8G("control",e.controls.description)}}let yqt=(()=>{class s extends As{constructor(e,n,o){super(n),this._customersService=e,this._addressesService=o}ngOnInit(){}open(e){null==this.customers&&this._getData();const n=super.open(e);return this.readAddresses(),n}onCustomerChange(){this.addresses=this.customers.find(e=>e.id==this.options.customerId)?.addresses??[]}_canClose(){return this.form.markAsDirty(),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi."),this.form.valid}_getData(){this._subscriptions.push(this._customersService.getCustomersList().pipe(x(e=>this._setData(e))).subscribe())}_setData(e){this.customers=e}createCustomer(){const e=new To;e.fiscalType=1,this._subscriptions.push(this.customerModal.open(e).pipe(z(n=>n),Y(()=>this._customersService.createCustomer(e)),x(n=>{this.options.customerId=n.id,this._messageBox.success(`Cliente ${e.name} creato`)}),x(()=>this._getData())).subscribe())}createAddress(){const e=new ds;this._subscriptions.push(this.addressModal.open(e).pipe(z(n=>n),x(()=>{this.addNewAddress(e)})).subscribe())}addNewAddress(e){null!==this.options.customerId&&(e.customerId=this.options.customerId),this._subscriptions.push(this._addressesService.createAddress(e).pipe(x(n=>{this.readAddresses(),this.options.addressId=n.id,this._messageBox.success("Indirizzo creato con successo")})).subscribe())}readAddresses(){this._subscriptions.push(this._addressesService.getCustomerAddresses(this.options.customerId).pipe((0,U.T)(e=>{this.addresses=e}),x(()=>{})).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(yl),t.rXU(_t),t.rXU(lh))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-job-copy-modal"]],viewQuery:function(n,o){if(1&n&&(t.GBs(gqt,7),t.GBs(vqt,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.customerModal=r.first),t.mGM(r=t.lsd())&&(o.addressModal=r.first)}},features:[t.Vt3],decls:6,vars:2,consts:[["customerModal",""],["addressModal",""],["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowCloseAction",""],["name","job-modal-form","novalidate","","autocomplete","off",1,"redimensionModal",3,"submit"],[1,"row"],[1,"col-md-3"],[1,"form-group"],["format","dd/MM/yyyy","name","date","required","",3,"ngModelChange","ngModel","disabled"],[1,"validation-message",3,"control"],[1,"col-md-6"],["textField","name","valueField","id","name","customerId","required","",1,"customer-combobox",3,"ngModelChange","valueChange","data","valuePrimitive","ngModel","suggest","kendoDropDownFilter","allowCustom","disabled"],["type","button","title","Nuovo cliente",1,"btn","btn-primary","add-customer-button",3,"click"],[1,"fa","fa-plus"],["textField","fullAddress","valueField","id","name","addressId",1,"address-combobox",3,"ngModelChange","data","valuePrimitive","kendoDropDownFilter","ngModel","suggest","allowCustom"],["type","button","title","Nuovo indirizzo",1,"btn","btn-primary","add-address-button",3,"click"],[1,"col-md-12"],["name","reference","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["name","description",3,"ngModelChange","ngModel","resizable","iframe","pasteCleanupSettings"],["kendoEditorBoldButton",""],["kendoEditorItalicButton",""],["kendoEditorUnderlineButton",""],["kendoEditorFontSize",""],["kendoEditorForeColor","","view","gradient"],["kendoEditorInsertUnorderedListButton",""],[1,"d-flex","justify-content-end","gap-2","mt-5"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"]],template:function(n,o){1&n&&(t.DNE(0,bqt,1,0,"div",3)(1,Eqt,69,33,"div",4),t.nrm(2,"app-customer-modal",null,0)(4,"app-address-modal",null,1)),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[W,Fi,jo,Un,Pi,ts,Vu,mi,Mi,ni,li,Wn,Wu,go,rp,vr,KS,Um,Gm,Pm,Fm,o1,s1,Gp,vh,Pn,Om,cr,eu,gm],encapsulation:2})}return s})();var Vp=function(s){return s[s.Scheduled=0]="Scheduled",s[s.CompletedSuccesfully=1]="CompletedSuccesfully",s[s.CompletedUnsuccesfully=2]="CompletedUnsuccesfully",s}(Vp||{});const xFe={[Vp.Scheduled]:"Programmato",[Vp.CompletedSuccesfully]:"Completato OK",[Vp.CompletedUnsuccesfully]:"Completato KO"};class a1{constructor(i,e,n,o,r,a,l,c,u,f,_,g){this.id=i,this.status=o,this.toBeReschedule=r,this.description=a,this.vehicleId=l,this.activityId=c,this.jobId=u,this.operators=f,this.activityProducts=_,this.notes=g,this.start=new Date(e),this.end=new Date(n)}static build(i){const e=i.notes.map(n=>jz.build(n));return new a1(i.id,i.start,i.end,i.status,i.toBeReschedule,i.description,i.vehicleId,i.activityId,i.jobId,i.operators,i.activityProducts,e)}toJSON(){const i={...this};return i.start=i.start.toOffsetString(),i.end=i.end.toOffsetString(),i}}class Zle{constructor(i,e,n,o){this.interventionProductId=i,this.description=e,this.notes=n,this.items=o}static build(i){return new Zle(i.interventionProductId,i.description,i.notes,i.items)}}class jz{constructor(i,e,n,o,r){this.id=i,this.pictureFileName=e,this.notes=n,this.operatorName=o,this.interventionId=r}static build(i){return new jz(i.id,i.pictureFileName,i.notes,i.operatorName,i.interventionId)}}let Oh=(()=>{class s{constructor(e){this._http=e,this._baseUrl=`${At.baseApiUrl}/interventions`}read(e){return Ta(this._http,e,`${this._baseUrl}/read`)}get(e){return this._http.get(`${this._baseUrl}/${e}`).pipe((0,U.T)(n=>a1.build(n)))}create(e){return this._http.post(this._baseUrl,e).pipe((0,U.T)(n=>a1.build(n)))}update(e){return this._http.put(`${this._baseUrl}/${e.id}`,e).pipe((0,U.T)(n=>a1.build(n)))}delete(e){return this._http.delete(`${this._baseUrl}/${e}`).pipe((0,U.T)(()=>{}))}readProductsByIntervention(e,n){const o=ul(e),r=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/intervention-products-by-intervention/${n}?${o}`).pipe((0,U.T)(a=>({data:r?Lr(a.data):a.data,total:a.total})))}readProductCheckListByProductId(e){return this._http.get(`${this._baseUrl}/intervention-checklist-by-product/${e}`).pipe((0,U.T)(n=>Zle.build(n)))}readInterventionsSingleProduct(e,n,o){const r=ul(e),a=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/interventions-singleproduct/${n}/${o}?${r}`).pipe((0,U.T)(l=>({data:a?Lr(l.data):l.data,total:l.total})))}readInterventionsKo(e){return Ta(this._http,e,`${this._baseUrl}/interventions-ko`)}getInterventionAttachments(e,n){return this._http.get(`${this._baseUrl}/all-attachments/${e}/${n}`).pipe((0,U.T)(o=>o.map(r=>jz.build(r))))}sendReport(e,n){return this._http.post(`${this._baseUrl}/send-report/${e}`,{customerEmail:n}).pipe((0,U.T)(()=>{}))}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(js))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();function kqt(s,i){1&s&&t.nrm(0,"div",2)}function wqt(s,i){if(1&s&&(t.j41(0,"div",17)(1,"a",18),t.nrm(2,"i",19),t.k0s()()),2&s){const e=t.XpG().$implicit,n=t.XpG(4);t.R7$(),t.Y8G("href",n.CreateUrl(e.fileName,e.displayName),t.B4B)}}function Dqt(s,i){if(1&s&&(t.j41(0,"div",13)(1,"div",14)(2,"div",15)(3,"p"),t.EFF(4),t.k0s()(),t.DNE(5,wqt,3,1,"div",16),t.k0s()()),2&s){const e=i.$implicit;t.R7$(4),t.JRh(e.displayName),t.R7$(),t.Y8G("ngIf",e.fileName)}}function Oqt(s,i){if(1&s&&t.DNE(0,Dqt,6,2,"div",12),2&s){const e=t.XpG(3);t.Y8G("ngForOf",e.attachments)}}function Tqt(s,i){if(1&s&&(t.j41(0,"kendo-panelbar-item",10),t.DNE(1,Oqt,1,1,"ng-template",11),t.k0s()),2&s){const e=t.XpG(2);t.Mz_("title","Allegati Commesse (",e.attachments.length,")")}}function Mqt(s,i){if(1&s&&(t.j41(0,"div",17)(1,"a",18),t.nrm(2,"i",19),t.k0s()()),2&s){const e=t.XpG().$implicit,n=t.XpG(4);t.R7$(),t.Y8G("href",n.CreateUrl(e.fileName,e.displayName),t.B4B)}}function Iqt(s,i){if(1&s&&(t.j41(0,"div",13)(1,"div",14)(2,"div",15)(3,"p"),t.EFF(4),t.k0s()(),t.DNE(5,Mqt,3,1,"div",16),t.k0s()()),2&s){const e=i.$implicit;t.R7$(4),t.JRh(e.displayName),t.R7$(),t.Y8G("ngIf",e.fileName)}}function xqt(s,i){if(1&s&&t.DNE(0,Iqt,6,2,"div",12),2&s){const e=t.XpG(3);t.Y8G("ngForOf",e.activityAttachments)}}function Aqt(s,i){if(1&s&&(t.j41(0,"kendo-panelbar-item",10),t.DNE(1,xqt,1,1,"ng-template",11),t.k0s()),2&s){const e=t.XpG(2);t.Mz_("title","Allegati Attivit\xe0 (",e.activityAttachments.length,")")}}function Rqt(s,i){if(1&s&&(t.j41(0,"div",17)(1,"a",18),t.nrm(2,"i",19),t.k0s()()),2&s){const e=t.XpG().$implicit,n=t.XpG(4);t.R7$(),t.Y8G("href",n.CreateUrl(e.pictureFileName,e.pictureFileName),t.B4B)}}function Nqt(s,i){if(1&s&&(t.j41(0,"div",13)(1,"div",14)(2,"div",15)(3,"p"),t.EFF(4),t.k0s()(),t.DNE(5,Rqt,3,1,"div",16),t.k0s()()),2&s){const e=i.$implicit;t.R7$(4),t.JRh(e.notes),t.R7$(),t.Y8G("ngIf",e.pictureFileName)}}function Lqt(s,i){if(1&s&&t.DNE(0,Nqt,6,2,"div",12),2&s){const e=t.XpG(3);t.Y8G("ngForOf",e.interventionAttachments)}}function Gqt(s,i){if(1&s&&(t.j41(0,"kendo-panelbar-item",10),t.DNE(1,Lqt,1,1,"ng-template",11),t.k0s()),2&s){const e=t.XpG(2);t.Mz_("title","Allegati Interventi (",e.interventionAttachments.length,")")}}function Pqt(s,i){if(1&s&&(t.j41(0,"div",17)(1,"a",18),t.nrm(2,"i",19),t.k0s()()),2&s){const e=t.XpG().$implicit,n=t.XpG(4);t.R7$(),t.Y8G("href",n.CreateUrl(e.fileName,e.displayName),t.B4B)}}function Fqt(s,i){if(1&s&&(t.j41(0,"div",13)(1,"div",14)(2,"div",15)(3,"p"),t.EFF(4),t.k0s()(),t.DNE(5,Pqt,3,1,"div",16),t.k0s()()),2&s){const e=i.$implicit;t.R7$(4),t.JRh(e.displayName),t.R7$(),t.Y8G("ngIf",e.fileName)}}function Uqt(s,i){if(1&s&&t.DNE(0,Fqt,6,2,"div",12),2&s){const e=t.XpG(3);t.Y8G("ngForOf",e.purchaseOrderAttachments)}}function Bqt(s,i){if(1&s&&(t.j41(0,"kendo-panelbar-item",10),t.DNE(1,Uqt,1,1,"ng-template",11),t.k0s()),2&s){const e=t.XpG(2);t.Mz_("title","Allegati Ordini (",e.purchaseOrderAttachments.length,")")}}function Vqt(s,i){if(1&s&&(t.j41(0,"div",17)(1,"a",18),t.nrm(2,"i",19),t.k0s()()),2&s){const e=t.XpG().$implicit,n=t.XpG(4);t.R7$(),t.Y8G("href",n.CreateUrl(e.fileName,e.displayName),t.B4B)}}function zqt(s,i){if(1&s&&(t.j41(0,"div",13)(1,"div",14)(2,"div",15)(3,"p"),t.EFF(4),t.k0s()(),t.DNE(5,Vqt,3,1,"div",16),t.k0s()()),2&s){const e=i.$implicit;t.R7$(4),t.JRh(e.displayName),t.R7$(),t.Y8G("ngIf",e.fileName)}}function jqt(s,i){if(1&s&&t.DNE(0,zqt,6,2,"div",12),2&s){const e=t.XpG(3);t.Y8G("ngForOf",e.purchaseOrderAdminAttachments)}}function Hqt(s,i){if(1&s&&(t.j41(0,"kendo-panelbar-item",10),t.DNE(1,jqt,1,1,"ng-template",11),t.k0s()),2&s){const e=t.XpG(2);t.Mz_("title","Allegati Ordini Ammin. (",e.purchaseOrderAdminAttachments.length,")")}}function $qt(s,i){if(1&s&&(t.j41(0,"div",17)(1,"a",18),t.nrm(2,"i",19),t.k0s()()),2&s){const e=t.XpG().$implicit,n=t.XpG(4);t.R7$(),t.Y8G("href",n.CreateUrl(e.fileName,e.description),t.B4B)}}function Xqt(s,i){if(1&s&&(t.j41(0,"div",13)(1,"div",14)(2,"div",15)(3,"p"),t.EFF(4),t.k0s()(),t.DNE(5,$qt,3,1,"div",16),t.k0s()()),2&s){const e=i.$implicit;t.R7$(4),t.JRh(e.description),t.R7$(),t.Y8G("ngIf",e.fileName)}}function Wqt(s,i){if(1&s&&t.DNE(0,Xqt,6,2,"div",12),2&s){const e=t.XpG(3);t.Y8G("ngForOf",e.ticketAttachments)}}function Yqt(s,i){if(1&s&&(t.j41(0,"kendo-panelbar-item",10),t.DNE(1,Wqt,1,1,"ng-template",11),t.k0s()),2&s){const e=t.XpG(2);t.Mz_("title","Allegati Ticket (",e.ticketAttachments.length,")")}}function Kqt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",3)(1,"kendo-window",4),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",5),t.EFF(4," Allegati "),t.k0s(),t.nrm(5,"button",6),t.k0s(),t.j41(6,"kendo-panelbar"),t.DNE(7,Tqt,2,2,"kendo-panelbar-item",7)(8,Aqt,2,2,"kendo-panelbar-item",7)(9,Gqt,2,2,"kendo-panelbar-item",7)(10,Bqt,2,2,"kendo-panelbar-item",7)(11,Hqt,2,2,"kendo-panelbar-item",7)(12,Yqt,2,2,"kendo-panelbar-item",7),t.k0s(),t.j41(13,"div",8)(14,"button",9),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.EFF(15," CHIUDI "),t.k0s()()()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("width",600)("top",110),t.R7$(6),t.Y8G("ngIf",e.attachments.length>0),t.R7$(),t.Y8G("ngIf",e.activityAttachments.length>0),t.R7$(),t.Y8G("ngIf",e.interventionAttachments.length>0),t.R7$(),t.Y8G("ngIf",e.purchaseOrderAttachments.length>0),t.R7$(),t.Y8G("ngIf",e.purchaseOrderAdminAttachments.length>0&&e.isAdmin),t.R7$(),t.Y8G("ngIf",e.ticketAttachments.length>0)}}let lE=(()=>{class s extends mb{constructor(e,n,o,r,a,l){super(),this.security=e,this._jobsService=n,this._activitiesService=o,this._purchaseOrdersService=r,this._ticketsService=a,this._interventionService=l,this._baseUrl=`${At.baseApiUrl}/activities`,this.isAdmin=e.isAuthorized(Pt.Administrator)}ngOnInit(){}open(e){const n=super.open(e);return this._activitiesService.getActivityAttachments(e[0],e[1]).pipe(x(o=>this.activityAttachments=o)).subscribe(),this._interventionService.getInterventionAttachments(e[0],e[1]).pipe(x(o=>this.interventionAttachments=o)).subscribe(),this._jobsService.getJobAttachments(e[0]).pipe(x(o=>this.attachments=o)).subscribe(),this._purchaseOrdersService.getPurchaseOrderAttachments(e[0],e[2]).pipe(x(o=>this.purchaseOrderAttachments=o)).subscribe(),this._purchaseOrdersService.getPurchaseOrderAdminAttachments(e[0],e[2]).pipe(x(o=>this.purchaseOrderAdminAttachments=o)).subscribe(),this._ticketsService.getTicketAttachments(e[0]).pipe(x(o=>this.ticketAttachments=o)).subscribe(),n}_canClose(){return!0}CreateUrl(e,n){return`${this._baseUrl}/activity-attachment/download-file/${e}/${n}`}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(mr),t.rXU(dr),t.rXU(Ma),t.rXU(wh),t.rXU(_b),t.rXU(Oh))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-jobs-attachments-modal"]],features:[t.Vt3],decls:2,vars:2,consts:[["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","width","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],[3,"title",4,"ngIf"],[1,"text-right","mt-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[3,"title"],["kendoPanelBarContent",""],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"row","checklist-row"],[1,"col-10"],["class","col-2","style","text-align: right;",4,"ngIf"],[1,"col-2",2,"text-align","right"],["target","_blank",3,"href"],[1,"fas","fa-paperclip"]],template:function(n,o){1&n&&t.DNE(0,kqt,1,0,"div",0)(1,Kqt,16,10,"div",1),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[st,W,ni,li,Wn,Qbe,Gw,ZZ],encapsulation:2})}return s})();class Hz{constructor(i,e){this.sourceId=i,this.jobId=e}static build(i){return new Hz(i.sourceId,i.jobId)}}const Jqt=["kendoMenuList",""];function qqt(s,i){if(1&s&&t.nrm(0,"li",3),2&s){const e=t.XpG(),n=e.$implicit,o=e.index,r=t.XpG();t.AVh("k-first",0===o)("k-last",o===r.items.length-1)("k-disabled",n.disabled),t.Y8G("item",n)("level",r.level)("size",r.size)("vertical",r.vertical)("animate",r.animate)("rtl",r.rtl)("itemTemplate",r.itemTemplate)("itemLinkTemplate",r.itemLinkTemplate)("openOnClick",r.openOnClick)("index",r.hierarchyIndex(o))("siblingIndex",o)("ngClass",n.cssClass)("ngStyle",n.cssStyle),t.BMQ("data-kendo-menu-index",r.hierarchyIndex(o))}}function Qqt(s,i){if(1&s&&(t.j41(0,"li",4),t.EFF(1," \xa0 "),t.k0s()),2&s){const e=t.XpG().$implicit;t.Y8G("ngClass",e.cssClass)("ngStyle",e.cssStyle)}}function Zqt(s,i){if(1&s&&(t.qex(0),t.DNE(1,qqt,1,20,"li",1)(2,Qqt,2,2,"li",2),t.bVm()),2&s){const e=i.$implicit;t.R7$(),t.Y8G("ngIf",!e.separator),t.R7$(),t.Y8G("ngIf",e.separator)}}const eQt=["link"],tQt=["popupTemplate"],nQt=["kendoMenuItem",""],ece=(s,i)=>({item:s,index:i});function iQt(s,i){}function sQt(s,i){if(1&s&&(t.j41(0,"span",7,2),t.DNE(2,iQt,0,0,"ng-template",8),t.k0s()),2&s){const e=t.XpG(),n=t.sdS(7);t.AVh("k-active",e.opened),t.R7$(2),t.Y8G("ngTemplateOutlet",n)}}function oQt(s,i){}function rQt(s,i){if(1&s&&(t.j41(0,"a",9,2),t.DNE(2,oQt,0,0,"ng-template",8),t.k0s()),2&s){const e=t.XpG(),n=t.sdS(7);t.AVh("k-active",e.opened),t.BMQ("href",e.item.url,t.B4B),t.R7$(2),t.Y8G("ngTemplateOutlet",n)}}function aQt(s,i){}function lQt(s,i){if(1&s&&t.DNE(0,aQt,0,0,"ng-template",10),2&s){const e=t.XpG();t.Y8G("ngTemplateOutlet",e.linkTemplate)("ngTemplateOutletContext",t.l_i(2,ece,e.item,e.index))}}function cQt(s,i){}function dQt(s,i){if(1&s&&(t.j41(0,"div",11),t.DNE(1,cQt,0,0,"ng-template",10),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngTemplateOutlet",e.item.content)("ngTemplateOutletContext",t.l_i(2,ece,e.item.owner,e.item.ownerIndex))}}function uQt(s,i){if(1&s&&t.nrm(0,"ul",12),2&s){const e=t.XpG();t.Y8G("animate",e.animate)("rtl",e.rtl)("vertical",e.vertical)("size",e.size)("openOnClick",e.openOnClick)("items",e.children)("level",e.level+1)("index",e.index)("itemTemplate",e.itemTemplate)("itemLinkTemplate",e.itemLinkTemplate)("ngClass",e.menuListClasses),t.BMQ("id",e.childId)}}function hQt(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",15),2&s){const e=t.XpG(2);t.Y8G("name",e.item.icon)("svgIcon",e.item.svgIcon)}}function pQt(s,i){if(1&s&&(t.qex(0),t.j41(1,"span",16),t.EFF(2),t.k0s(),t.bVm()),2&s){const e=t.XpG(2);t.R7$(2),t.JRh(e.item.text)}}function fQt(s,i){}function mQt(s,i){if(1&s&&t.DNE(0,fQt,0,0,"ng-template",10),2&s){const e=t.XpG(2);t.Y8G("ngTemplateOutlet",e.template)("ngTemplateOutletContext",t.l_i(2,ece,e.item,e.index))}}function _Qt(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",17),2&s){const e=t.XpG(2);t.Y8G("name",e.fontIcon(e.horizontal,e.rtl))("svgIcon",e.SVGIcon(e.horizontal,e.rtl))}}function gQt(s,i){if(1&s&&t.DNE(0,hQt,1,2,"kendo-icon-wrapper",13)(1,pQt,3,1,"ng-container",5)(2,mQt,1,5,null,5)(3,_Qt,1,2,"kendo-icon-wrapper",14),2&s){const e=t.XpG();t.Y8G("ngIf",e.item.icon||e.item.svgIcon),t.R7$(),t.Y8G("ngIf",!e.template),t.R7$(),t.Y8G("ngIf",e.template),t.R7$(),t.Y8G("ngIf",e.hasContent)}}const SQt=["default"];function CQt(s,i){if(1&s&&t.nrm(0,"kendo-menu",1),2&s){const e=t.XpG();t.Y8G("items",e.rootItems)("size",e.size)("vertical",e.vertical)("openOnClick",e.openOnClick)("hoverDelay",e.hoverDelay)("animate",e.animate)("menuItemTemplate",null==e.itemTemplate.first?null:e.itemTemplate.first.templateRef)("menuItemLinkTemplate",null==e.itemLinkTemplate.first?null:e.itemLinkTemplate.first.templateRef)}}const bQt={name:"@progress/kendo-angular-menu",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925131,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},EQt=/_?\d+$/;let yQt=0;const kQt=(s,i)=>s.siblingIndex-i.siblingIndex,NFe=(s,i,e)=>{let n=i[s+e];for(;!n;)s<0?s=i.length-1:s>=i.length?s=0:s+=e,n=i[s];return n};let zm=(()=>{class s{constructor(){this.items={},this.lists=[],this.idPrefix="k-menu"+yQt++}get hasItems(){return Object.keys(this.items).length>0}childId(e){return`${this.idPrefix}-child${e}`}itemIndex(e,n){return(e?e+"_":"")+n}get(e){return this.items[e]}add(e){this.items[e.index]=e}remove(e){this.items[e.index]===e&&delete this.items[e.index]}addList(e){this.lists.push(e)}removeList(e){const n=this.lists.indexOf(e);n>=0&&this.lists.splice(n,1)}containsList(e){return!!this.lists.find(n=>n.element.nativeElement===e)}siblings(e){const n=this.parentIndex(e.index);return this.filter(o=>this.parentIndex(o)===n)}otherSiblings(e){const n=this.parentIndex(e.index);return this.filter(o=>this.parentIndex(o)===n&&o!==e.index)}children(e){return this.filter(n=>this.parentIndex(n)===e.index)}parent(e){return this.items[this.parentIndex(e.index)]}root(e){return this.items[this.indices(e.index)[0]]}indices(e){return e.split("_")}filter(e){const n=[],o=this.items;for(const r in o)e(r,o[r])&&n.push(o[r]);return n.sort(kQt)}previous(e){const n=this.siblings(e),o=n.indexOf(e);return NFe(o,n,-1)}next(e){const n=this.siblings(e),o=n.indexOf(e);return NFe(o,n,1)}hasParent(e,n){return e.index.startsWith(n.index)}areSiblings(e,n){return e!==n&&this.parent(e)===this.parent(n)}forEach(e){const n=this.items;for(const o in n)n.hasOwnProperty(o)&&e(n[o])}parentIndex(e){return e.replace(EQt,"")}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const wQt=(s,i)=>!("open"===i&&s.opened||"close"===i&&!s.opened);class DQt extends Wa{constructor(i){super(),Object.assign(this,i)}}let Z4=(()=>{class s{constructor(e,n){this.ngZone=e,this.items=n,this.actions=[]}open(e,n){e.disabled||(e.hasContent&&!e.opened?this.actions.push({name:"open",requiresZone:e.hasContentTemplates(),item:e,finished:n}):n&&n())}close(e){this.closeChildren(e),this.closeItem(e)}closeItem(e){e.opened&&this.actions.push({name:"close",item:e})}closeToRoot(e){this.closeChildren(e);let n=e;do{this.closeItem(n),n=this.items.parent(n)}while(n)}closeOthers(e){this.closeChildren(e);let n=e;for(;n;){const o=this.items.otherSiblings(n);this.closeItems(o),n=this.items.parent(n)}}closeAll(){this.items.forEach(e=>{e.opened&&0===e.level&&this.close(e)})}select(e,n,o,r){this.actions.push({name:"select",item:e,prevented:o,finished:r,domEvent:n})}emit(e,n,o){const r=this.owner,a=new DQt({sender:r,item:n.item,index:n.index,originalEvent:o,hasContent:n.hasContent});return r[e].emit(a),r.contextService&&r.contextService.emit(e,a),a.isDefaultPrevented()}get hasPending(){return this.actions.length>0}execute(e){if(!this.hasPending&&!e)return;const n=e||this.clear();!t.SKi.isInAngularZone()&&this.requiresZone(n)?this.ngZone.run(()=>{this.executeActions(n)}):this.executeActions(n)}clear(){const e=this.actions;return this.actions=[],e}executeActions(e){for(let n=0;n<e.length;n++){const{item:o,name:r,prevented:a,finished:l,domEvent:c}=e[n];wQt(o,r)&&(this.emit(r,o,c)?a&&a():(o[r]&&o[r](),l&&l()))}}requiresZone(e){const n=e||this.actions,o=this.owner,r=o.contextService;for(let a=0;a<n.length;a++){const l=n[a],c=l.name;if(l.requiresZone||c&&(ke(o[c])||r&&r.hasObservers(c)))return!0}return!1}closeChildren(e){if(!e.opened)return;const n=this.items.children(e);this.closeItems(n)}closeItems(e){for(let n=0;n<e.length;n++)this.close(e[n])}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(t.SKi),t.KVO(zm))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const OQt=/\S/,Th={37:"left",39:"right",38:"up",40:"down",36:"home",35:"end",32:"enter",13:"enter",27:"esc",9:"tab"},TQt=Object.assign({},Th,{37:"right",39:"left"}),IQt=Promise.resolve(null);let $z=(()=>{class s{constructor(e,n,o,r){this.items=e,this.actions=n,this.localization=o,this.ngZone=r,this.vertical=!1,this.activeIndex="0"}get focusedItem(){return this.items.get(this.focusedIdx)}get activeItem(){return this.items.get(this.activeIndex)}get handlers(){return this.localization.rtl?TQt:Th}focus(e){e.index!==this.focusedIdx&&((!this.activeItem||!this.items.hasParent(e,this.activeItem))&&this.setActive(e),this.setFocus(e))}setFocus(e){this.focusedIdx=e.index,e.focus()}focusLeave(){const e=this.focusedItem;e&&(this.actions.closeToRoot(e),this.actions.execute()),this.focusedIdx=null}updateActive(){!this.activeItem&&this.items.hasItems&&(this.items.get("0").toggleActive(!0),this.ngZone.runOutsideAngular(()=>{IQt.then(()=>{this.activeIndex="0"})}))}keydown(e){const n=this.focusedItem||this.activeItem,o=this.handlers[e.keyCode];n&&(o?("tab"!==o&&e.preventDefault(),this[o](n,e)):function MQt(s){return 1===s.length&&OQt.test(s)}(e.key)&&this.search(n,e.key),this.actions.execute())}focusIndex(e){if(!e&&this.activeItem)this.setFocus(this.activeItem);else if("first"===e)this.focusFirst();else if("last"===e)this.focusLast();else{const n=this.items.get(e);n&&this.focus(n)}}focusFirst(){const e=this.items.siblings(this.items.get("0"));this.focus(e[0])}focusLast(){const e=this.items.siblings(this.items.get("0"));this.focus(e[e.length-1])}search(e,n){const o=this.items.siblings(e),r=o.indexOf(e),a=o.slice(r+1).concat(o.slice(0,r));for(let l=0;l<a.length;l++){const c=a[l];if((c.item.text||"").toLowerCase().startsWith(n.toLowerCase())){this.focus(c);break}}}down(e){0!==e.level||this.vertical?this.focus(this.items.next(e)):e.hasContent&&this.actions.open(e,this.focusChild(e,0))}up(e){0!==e.level||this.vertical?this.focus(this.items.previous(e)):e.hasContent&&this.actions.open(e,this.focusChild(e,e.children.length-1))}left(e){if(!this.vertical||0!==e.level||!e.disabled)if(e.level>1||this.vertical&&e.level>0){const n=this.items.parent(e);this.focus(n),this.actions.close(n)}else this.vertical&&0===e.level&&!e.disabled?e.hasContent&&this.actions.open(e,this.focusChild(e,e.children.length-1)):this.focus(this.items.previous(this.activeItem))}right(e){this.vertical&&0===e.level&&e.disabled||(e.horizontal&&!e.disabled?e.hasContent?this.actions.open(e,this.focusChild(e,0)):(!this.vertical||e.level>0)&&this.focus(this.items.next(this.activeItem)):this.focus(this.items.next(this.activeItem)))}home(e){const n=this.items.siblings(e);this.focus(n[0])}end(e){const n=this.items.siblings(e);this.focus(n[n.length-1])}enter(e,n){const o=this.actions;e.disabled||(e.hasContent?(o.select(e,n),o.open(e,this.focusChild(e,0))):(o.select(e,n,null,()=>{e.navigate()}),this.focus(this.items.root(e)),o.closeToRoot(e)))}esc(e){if(e.level>0){const n=this.items.parent(e);this.actions.close(n),this.focus(n)}}tab(e){e.level>0&&this.activeItem.focus()}focusChild(e,n){return()=>{const o=this.items.children(e)[n];this.setFocus(o)}}setActive(e){const n=this.focusedItem,o=this.items.root(e);this.activeItem&&this.activeItem.toggleActive(!1),this.activeIndex=o.index,o.toggleActive(!0),n&&(this.actions.closeToRoot(n),n.level>0&&this.actions.open(o))}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(zm),t.KVO(Z4),t.KVO(j),t.KVO(t.SKi))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),nce=(()=>{class s{constructor(e,n){this.actions=e,this.items=n,this.delay=100,this._openOnOver=!0,this.scheduled=[]}get openOnOver(){return this._openOnOver}set openOnOver(e){this.cancelActions(),this._openOnOver=e}get hovered(){return this.items.get(this.hoveredIdx)}set hovered(e){this.hoveredIdx=e?e.index:null}ngOnDestroy(){this.cancelActions()}over(e){this.cancelActions(n=>"openOnOver"===n.name),(!this.hovered||this.hovered!==e)&&(this.actions.closeOthers(e),this.hovered=e,(e.level>0||this.openOnOver)&&!e.disabled&&(this.actions.open(e),this.cancelActions(n=>"close"===n.name&&(e===n.item||this.items.hasParent(e,n.item))||"open"===n.name&&!this.items.hasParent(e,n.item))),this.scheduleActions())}leave(e){const n=this.hovered;n&&(this.actions.closeToRoot(n),this.cancelActions(o=>"open"===o.name),this.scheduleActions()),e&&this._openOnOver&&this.scheduleDisableOpenOnOver(),this.hovered=null}closeCurrent(){const e=this.hovered;e&&(this.actions.closeToRoot(e),this.hovered=null)}scheduleActions(){if(this.actions.hasPending){const e={};e.actions=this.actions.clear(),e.id=setTimeout(()=>{this.actions.execute(e.actions),this.removeScheduled(e)},this.delay),this.scheduled.push(e)}}scheduleDisableOpenOnOver(){const e={actions:[{name:"openOnOver"}]};e.id=setTimeout(()=>{this._openOnOver=!1,this.removeScheduled(e)},Math.max(this.delay,500)),this.scheduled.push(e)}removeScheduled(e){const n=this.scheduled;for(let o=0;o<n.length;o++)if(n[o]===e)return void n.splice(o,1)}cancelActions(e){const n=this.scheduled;for(let o=n.length-1;o>=0;o--){const r=n[o],a=r.actions;if(e)for(let l=a.length-1;l>=0;l--)e(a[l])&&a.splice(l,1);(!e||0===a.length)&&(clearTimeout(r.id),n.splice(o,1))}}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Z4),t.KVO(zm))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const LFe="kendo-matches-container",NQt=/^(?:a|input|select|option|textarea|button|object)$/i,ice=(s,i)=>{for(;s&&!i(s);)s=s.parentNode;return s},GFe=(s,i,e)=>{for(;s&&s!==e&&!i(s);)s=s.parentNode;if(s!==e)return s},PFe=s=>{if(s.tagName){const i=s.tagName.toLowerCase(),e=s.getAttribute("tabIndex"),n="-1"===e;let o=null!==e&&!n;return NQt.test(i)&&(o=!s.disabled&&!n),o}return!1},sce=s=>String(s).trim().split(" "),e6=(s,i)=>sce(s.className).indexOf(i)>=0,FFe=s=>s.getAttribute("data-kendo-menu-index"),Xz=(s,i)=>{if(s===i.lists[0].element.nativeElement)return!1;const e=(s=>{let i=ice(s,(s=>{const i=sce("k-menu-popup k-menu k-menu-group");return e=>{const n=sce(e.className);return!!i.find(o=>n.indexOf(o)>=0)}})());return i&&e6(i,"k-menu-popup")&&(i=i.querySelector(".k-menu-group")),i})(s);return e&&i.containsList(e)};let t6=(()=>{class s{constructor(){this.keydown=new t.bkB}emit(e,n){this.owner.emitMenuEvent(e,n)}hasObservers(e){return this.owner&&ke(this.owner[e])}leaveMenu(e){return!this.items||!Xz(e.target,this.items)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),oce=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoMenuItemTemplate",""]]}),s})(),rce=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoMenuItemLinkTemplate",""]]}),s})(),UFe=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoMenuItemContentTemplate",""]]}),s})(),ace=(()=>{class s{get template(){if(this.itemTemplate&&this.itemTemplate.length)return this.itemTemplate.first.templateRef}get linkTemplate(){if(this.itemLinkTemplate&&this.itemLinkTemplate.length)return this.itemLinkTemplate.first.templateRef}get contentTemplate(){if(this.itemContentTemplate&&this.itemContentTemplate.length)return this.itemContentTemplate.first.templateRef}get items(){if(this.children.length)return this.children.toArray().filter(e=>e!==this)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-menu-item"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,oce,4),t.wni(o,rce,4),t.wni(o,UFe,4),t.wni(o,s,4)),2&e){let r;t.mGM(r=t.lsd())&&(n.itemTemplate=r),t.mGM(r=t.lsd())&&(n.itemLinkTemplate=r),t.mGM(r=t.lsd())&&(n.itemContentTemplate=r),t.mGM(r=t.lsd())&&(n.children=r)}},inputs:{text:"text",url:"url",disabled:"disabled",cssClass:"cssClass",cssStyle:"cssStyle",icon:"icon",svgIcon:"svgIcon",data:"data",separator:"separator"},decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),cE=(()=>{class s{constructor(){this.vertical=!1,this.openOnClick=!1,this.hoverDelay=100,this.animate=!0,this.size="medium"}get rootItems(){return this.items||(this.children?this.children.toArray():[])}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-menu-base"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,oce,4),t.wni(o,rce,4),t.wni(o,ace,4)),2&e){let r;t.mGM(r=t.lsd())&&(n.itemTemplate=r),t.mGM(r=t.lsd())&&(n.itemLinkTemplate=r),t.mGM(r=t.lsd())&&(n.children=r)}},inputs:{items:"items",vertical:"vertical",openOnClick:"openOnClick",hoverDelay:"hoverDelay",animate:"animate",size:"size"},decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})();const lce=s=>typeof s<"u",BFe=()=>{if(ne())return new t.aKT(document.body)},VFe=s=>({small:"k-menu-group-sm",medium:"k-menu-group-md",large:"k-menu-group-lg"}[s]),zFe=(s,i)=>s?i?"caret-alt-left":"caret-alt-right":"caret-alt-down",jFe=(s,i)=>s?i?Xa:Uo:Bo,HFe={vertical:"top",horizontal:"left"},$Fe={vertical:"top",horizontal:"right"},XFe={vertical:"flip",horizontal:"fit"},WFe={vertical:"fit",horizontal:"flip"},BQt={vertical:{anchor:{vertical:"bottom",horizontal:"right"},popup:$Fe,collision:XFe,animate:"down"},horizontal:{anchor:{vertical:"top",horizontal:"left"},popup:$Fe,collision:WFe,animate:"left"}},VQt={vertical:{anchor:{vertical:"bottom",horizontal:"left"},popup:HFe,collision:XFe,animate:"down"},horizontal:{anchor:{vertical:"top",horizontal:"right"},popup:HFe,collision:WFe,animate:"right"}};let cce=(()=>{class s{constructor(e,n,o,r,a,l,c){this.itemsService=e,this.hover=n,this.actions=o,this.navigation=r,this.renderer=a,this.ngZone=l,this.element=c,this.animate=!0,this.size="medium"}hierarchyIndex(e){return this.itemsService.itemIndex(this.index,e)}ngOnInit(){this.itemsService.addList(this),this.initDomEvents()}ngOnDestroy(){this.itemsService.removeList(this),this.domSubscriptions&&this.domSubscriptions()}initDomEvents(){!ne()||!this.element||this.ngZone.runOutsideAngular(()=>{const e=this.element.nativeElement,n=this.level>0?ice(e,f=>e6(f,"k-popup")):e,o=this.renderer.listen(e,"mouseover",f=>{if(f.target===e&&0===this.level)this.onLeave();else{const _=this.nodeItem(f.target)||this.itemsService.get(this.index);_&&(!this.openOnClick||"click"!==this.openOnClick.toggle||0!==_.level||_.hasContent)&&this.hover.over(_)}}),r=this.renderer.listen(n,"mouseleave",f=>{this.leavesMenu(f)&&this.onLeave()}),a=this.renderer.listen(e,"keydown",f=>{e6(f.target,"k-menu-item")&&this.navigation.keydown(f)}),l=this.renderer.listen(e,"focusout",f=>{this.leavesMenu(f)&&this.navigation.focusLeave()}),c=this.renderer.listen(document,"touchstart",f=>{if(Xz(f.target,this.itemsService)){const _=this.nodeItem(f.target);this.navigation.focus(_),_.opened||this.hover.over(_)}else if(this.navigation.focusedIdx){const _=this.itemsService.get(this.navigation.activeIndex);this.onLeave(),_.blur()}}),u=this.renderer.listen(e,"click",this.clickHandler.bind(this));this.domSubscriptions=()=>{o(),r(),a(),l(),u(),c()}})}leavesMenu(e){return!e.relatedTarget||!Xz(e.relatedTarget,this.itemsService)}onLeave(){const e=this.openOnClick;(!e||"click"!==e.toggle)&&this.hover.leave(e&&"leave"===e.toggle)}nodeItem(e){const n=((s,i)=>GFe(s,FFe,this.element.nativeElement))(e);if(n){const o=FFe(n);return this.itemsService.get(o)}}clickHandler(e){if(PFe(e.target)&&!e6(e.target,"k-menu-item"))return;const n=this.nodeItem(e.target);if(n&&!n.isContent&&!n.navigating){if(n.disabled)return void e.preventDefault();if(this.actions.select(n,e,()=>{e.preventDefault()}),this.navigation.focus(n),n.level>0&&!n.hasContent&&this.actions.closeToRoot(n),this.openOnClick){const o=this.hover;n.opened?0===n.level&&(o.openOnOver=!1,this.actions.close(n)):n.hasContent?(o.openOnOver=!0,this.actions.closeOthers(n),this.actions.open(n)):(o.openOnOver=!1,0===n.level&&"click"===this.openOnClick.toggle&&this.hover.closeCurrent())}this.actions.execute()}}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(zm),t.rXU(nce),t.rXU(Z4),t.rXU($z),t.rXU(t.sFG),t.rXU(t.SKi),t.rXU(t.aKT))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoMenuList",""]],inputs:{items:"items",level:"level",index:"index",animate:"animate",size:"size",vertical:"vertical",rtl:"rtl",openOnClick:"openOnClick",itemTemplate:"itemTemplate",itemLinkTemplate:"itemLinkTemplate"},attrs:Jqt,decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["kendoMenuItem","","role","menuitem","class","k-item k-menu-item",3,"item","level","size","vertical","animate","rtl","itemTemplate","itemLinkTemplate","openOnClick","index","siblingIndex","ngClass","ngStyle","k-first","k-last","k-disabled",4,"ngIf"],["class","k-separator k-item","aria-hidden","true",3,"ngClass","ngStyle",4,"ngIf"],["kendoMenuItem","","role","menuitem",1,"k-item","k-menu-item",3,"item","level","size","vertical","animate","rtl","itemTemplate","itemLinkTemplate","openOnClick","index","siblingIndex","ngClass","ngStyle"],["aria-hidden","true",1,"k-separator","k-item",3,"ngClass","ngStyle"]],template:function(e,n){1&e&&t.DNE(0,Zqt,3,2,"ng-container",0),2&e&&t.Y8G("ngForOf",n.items)},dependencies:()=>[YFe,st,W,Pe,Jn],encapsulation:2}),s})(),YFe=(()=>{class s{constructor(e,n,o,r,a,l,c){this.itemsService=e,this.navigation=n,this.changeDetector=o,this.renderer=r,this.popupService=a,this.element=l,this.contextService=c,this.animate=!0,this.size="medium",this.openOnClick=!1,this.fontIcon=zFe,this.SVGIcon=jFe,this.opened=!1,this.navigating=!1,this.destroyed=!1}set index(e){this._index&&this._index!==e?(this.itemsService.remove(this),this._index=e,this.itemsService.add(this)):this._index=e,this.childId=this.itemsService.childId(e)}get index(){return this._index}get disabled(){return this.item.disabled}get hasPopup(){return!!this.hasContent||null}get expanded(){return this.hasContent?this.opened:null}get label(){return this.item.text?this.item.text:null}get activeId(){return this.index===this.navigation.activeIndex?"0":"-1"}get popupSettings(){const e=this.rtl?BQt:VQt;return this.horizontal?e.horizontal:e.vertical}get horizontal(){return this.vertical||this.level>0}get hasLink(){return!!this.item.url}get linkTemplate(){return this.item.linkTemplate||this.itemLinkTemplate}get hasContent(){const e=this.item.items;return e&&e.length||this.item.contentTemplate}get isContent(){return!!this.item.content}get iconClass(){return`k-i-${this.item.icon}`}get isContextMenu(){return!!this.contextService}get menuListClasses(){const e=VFe(this.size);return this.isContextMenu?`k-context-menu k-menu-group ${e}`:`k-menu-group ${e}`}get children(){const e=this.item;return e.contentTemplate?(this.contentItems||(this.contentItems=[{content:e.contentTemplate,owner:e,ownerIndex:this.index}]),this.contentItems):e.items}get template(){return this.item.template||this.itemTemplate}hasContentTemplates(){const e=this.item;return this.itemTemplate||e.contentTemplate||this.itemLinkTemplate||e.items&&e.items.find(n=>n.template||n.linkTemplate)}ngOnInit(){this.itemsService.add(this)}ngOnDestroy(){this.itemsService.remove(this),this.destroyed=!0,this.popupRef&&(this.popupRef.close(),this.popupRef=null)}focus(){this.element.nativeElement.focus()}blur(){this.element.nativeElement.blur()}toggleActive(e){this.setAttribute("tabindex",e?"0":"-1")}open(){if(!this.destroyed&&this.hasContent&&!this.opened){const e=this.popupSettings,n=!!this.animate&&Object.assign({},this.animate,{direction:e.animate});this.opened=!0,this.popupRef=this.popupService.open({popupAlign:e.popup,anchorAlign:e.anchor,collision:e.collision,anchor:this.element,positionMode:"absolute",content:this.popupTemplate,popupClass:{"k-rtl":this.rtl,"k-menu-popup":!0},animate:n}),this.setAttribute("aria-expanded","true"),this.setAttribute("aria-controls",this.childId),this.changeDetector.detectChanges()}}close(){!this.destroyed&&this.opened&&(this.opened=!1,this.popupRef&&(this.popupRef.close(),this.popupRef=null),this.changeDetector.detectChanges(),this.setAttribute("aria-expanded","false"),this.renderer.removeAttribute(this.element.nativeElement,"aria-controls"))}navigate(){let e;this.linkTemplate?e=this.element.nativeElement.querySelector("a.k-menu-link"):this.hasLink&&(e=this.link.nativeElement),e&&(this.navigating=!0,e.click(),this.navigating=!1)}setAttribute(e,n){this.renderer.setAttribute(this.element.nativeElement,e,n)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(zm),t.rXU($z),t.rXU(t.gRc),t.rXU(t.sFG),t.rXU(es),t.rXU(t.aKT),t.rXU(t6,8))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoMenuItem",""]],viewQuery:function(e,n){if(1&e&&(t.GBs(eQt,5),t.GBs(tQt,7)),2&e){let o;t.mGM(o=t.lsd())&&(n.link=o.first),t.mGM(o=t.lsd())&&(n.popupTemplate=o.first)}},hostVars:5,hostBindings:function(e,n){2&e&&t.BMQ("aria-disabled",n.disabled)("aria-haspopup",n.hasPopup)("aria-expanded",n.expanded)("aria-label",n.label)("tabindex",n.activeId)},inputs:{item:"item",level:"level",index:"index",siblingIndex:"siblingIndex",animate:"animate",size:"size",vertical:"vertical",rtl:"rtl",openOnClick:"openOnClick",itemTemplate:"itemTemplate",itemLinkTemplate:"itemLinkTemplate"},features:[t.Jv_([es,{provide:QJ,useFactory:BFe}])],attrs:nQt,decls:8,vars:4,consts:[["popupTemplate",""],["itemcontent",""],["link",""],["class","k-link k-menu-link","role","presentation",3,"k-active",4,"ngIf"],["class","k-link k-menu-link","tabindex","-1","role","presentation",3,"k-active",4,"ngIf"],[4,"ngIf"],["class","k-content","role","presentation",4,"ngIf"],["role","presentation",1,"k-link","k-menu-link"],[3,"ngTemplateOutlet"],["tabindex","-1","role","presentation",1,"k-link","k-menu-link"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","presentation",1,"k-content"],["kendoMenuList","","role","menu",3,"animate","rtl","vertical","size","openOnClick","items","level","index","itemTemplate","itemLinkTemplate","ngClass"],["role","presentation",3,"name","svgIcon",4,"ngIf"],["class","k-menu-expand-arrow","aria-hidden","true",3,"name","svgIcon",4,"ngIf"],["role","presentation",3,"name","svgIcon"],[1,"k-menu-link-text"],["aria-hidden","true",1,"k-menu-expand-arrow",3,"name","svgIcon"]],template:function(e,n){1&e&&t.DNE(0,sQt,3,3,"span",3)(1,rQt,3,4,"a",4)(2,lQt,1,5,null,5)(3,dQt,2,5,"div",6)(4,uQt,1,12,"ng-template",null,0,t.C5r)(6,gQt,4,4,"ng-template",null,1,t.C5r),2&e&&(t.Y8G("ngIf",!n.hasLink&&!n.item.content&&!n.linkTemplate),t.R7$(),t.Y8G("ngIf",n.item.url&&!n.linkTemplate),t.R7$(),t.Y8G("ngIf",n.linkTemplate&&!n.item.content),t.R7$(),t.Y8G("ngIf",n.item.content))},dependencies:[cce,Ke,W,Je,Pe],encapsulation:2}),s})(),KFe=(()=>{class s extends cE{constructor(e,n,o,r,a,l,c,u){super(),this.itemsService=e,this.hover=n,this.actions=o,this.navigation=r,this.localization=a,this.ngZone=l,this.renderer=c,this.contextService=u,this.ariaRole="menubar",this.select=new t.bkB,this.open=new t.bkB,this.close=new t.bkB,(0,mt.$)(bQt),this.actions.owner=this,u&&(u.items=this.itemsService,this.contextKeyDownSubscription=u.keydown.subscribe(this.contextKeyDown.bind(this)))}get ariaOrientation(){if(this.vertical)return"vertical"}get isContextMenu(){return!!this.contextService}get direction(){return this.rtl}get rtl(){return this.localization.rtl}get menuClasses(){const e=VFe(this.size);return this.isContextMenu?`k-context-menu k-menu-group ${e}`:"k-reset k-header k-menu k-menu-"+(this.vertical?"vertical":"horizontal")}toggle(e,...n){for(let o=0;o<n.length;o++){const r=this.itemsService.get(n[o]);r&&!r.disabled&&(e?r.open():r.close())}}focus(e){this.navigation.focusIndex(e)}ngOnChanges(e){if(this.navigation.vertical=this.vertical,this.hover.delay=this.hoverDelay,e.openOnClick){const n=this.openOnClick=(s=>s&&Object.assign({toggle:"select"},s))(this.openOnClick);this.hover.openOnOver=!n,n&&"click"===n.toggle?this.attachCloseClick():this.unsubscribeClick()}}ngAfterViewChecked(){this.navigation.updateActive()}ngOnDestroy(){this.unsubscribeClick(),this.contextService&&(this.contextService.items=null,this.contextKeyDownSubscription.unsubscribe())}attachCloseClick(){!this.closeClickSubscription&&ne()&&this.ngZone.runOutsideAngular(()=>{this.closeClickSubscription=this.renderer.listen("document","click",e=>{Xz(e.target,this.itemsService)||(this.hover.openOnOver=!1,this.actions.closeAll(),this.actions.execute())})})}unsubscribeClick(){this.closeClickSubscription&&this.closeClickSubscription()}contextKeyDown(e){if(!this.itemsService.hasItems)return;const n=e.keyCode,o=this.localization.rtl,r=n===F.ArrowDown||n===F.ArrowRight,a=n===F.ArrowUp||n===F.ArrowLeft;let l;r&&!o||a&&o?l="first":(r&&o||a&&!o)&&(l="last"),l&&(e.preventDefault(),this.focus(l))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(zm),t.rXU(nce),t.rXU(Z4),t.rXU($z),t.rXU(j),t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(t6,8))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-menu"]],hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-rtl",n.direction)},inputs:{menuItemTemplate:"menuItemTemplate",ariaRole:"ariaRole",menuItemLinkTemplate:"menuItemLinkTemplate"},outputs:{select:"select",open:"open",close:"close"},exportAs:["kendoMenu"],features:[t.Jv_([zm,Z4,$z,nce,j,{provide:Ve,useValue:"kendo.menu"},{provide:cE,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3,t.OA$],decls:1,vars:12,consts:[["kendoMenuList","",3,"items","level","size","vertical","rtl","animate","openOnClick","itemTemplate","itemLinkTemplate","ngClass"]],template:function(e,n){1&e&&t.nrm(0,"ul",0),2&e&&(t.Y8G("items",n.rootItems)("level",0)("size",n.size)("vertical",n.vertical)("rtl",n.rtl)("animate",n.animate)("openOnClick",n.openOnClick)("itemTemplate",(null==n.itemTemplate.first?null:n.itemTemplate.first.templateRef)||n.menuItemTemplate)("itemLinkTemplate",(null==n.itemLinkTemplate.first?null:n.itemLinkTemplate.first.templateRef)||n.menuItemLinkTemplate)("ngClass",n.menuClasses),t.BMQ("role",n.ariaRole)("aria-orientation",n.ariaOrientation))},dependencies:[cce,Pe],encapsulation:2}),s})();class HQt{constructor(i){this.prevented=!1,Object.assign(this,i)}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}let ZFe=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[zr,Fe,An]]}),s})();class WQt extends HQt{}let e5e=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoContextMenuTemplate",""]]}),s})(),YQt=(()=>{class s{constructor(e){this.contextService=e}get(e){if(this.contextService.items)return this.contextService.items.get(e)}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(t6))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),dce=(()=>{class s{constructor(){this.targets=[]}add(e){this.targets.push(e)}remove(e){const n=this.targets.indexOf(e);this.targets.splice(n,1)}find(e){return this.targets.find(n=>n.element===e)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),t5e=(()=>{class s{constructor(e,n){this.targetService=n,e&&(this.element=e.nativeElement)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(dce))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoContextMenuTargetContainer",""]],exportAs:["kendoContextMenuTargetContainer"],features:[t.Jv_([dce])]}),s})();const Yz="contextmenu",qQt={horizontal:"left",vertical:"bottom"},QQt={horizontal:"left",vertical:"top"},ZQt={horizontal:"fit",vertical:"flip"},eZt=s=>s.preventDefault();let n5e=(()=>{class s extends cE{constructor(e,n,o,r){super(),this.popupService=e,this.service=n,this.ngZone=o,this.renderer=r,this.showOn=Yz,this.alignToAnchor=!1,this.vertical=!0,this.popupOpen=new t.bkB,this.popupClose=new t.bkB,this.select=new t.bkB,this.open=new t.bkB,this.close=new t.bkB,this.service.owner=this,this.popupKeyDownHandler=this.popupKeyDownHandler.bind(this)}hide(){this.removePopup()}show(e){if(!e)return;const n=e;this.removePopup(),lce(n.left)&&lce(n.top)?this.createPopup({offset:n}):(this.currentTarget=n.nativeElement||n,this.createPopup({anchor:this.currentTarget}))}ngOnChanges(e){(e.target||e.showOn)&&this.bindShowHandler()}ngOnInit(){this.ngZone.runOutsideAngular(()=>{const e=this.renderer.listen("document","mousedown",o=>{this.popupRef&&!ice(o.target,r=>r===this.popupRef.popupElement)&&this.service.leaveMenu(o)&&this.closePopup(o)}),n=this.renderer.listen("window","blur",o=>{this.popupRef&&this.closePopup(o)});this.closeSubscription=()=>{e(),n()}})}ngOnDestroy(){this.closeSubscription&&(this.closeSubscription(),this.closeSubscription=null),this.unbindShowHandler(),this.removePopup()}emitMenuEvent(e,n){n.target=this.currentTarget,n.sender=this,this[e].emit(n),"select"===e&&!n.hasContent&&this.closeAndFocus(n.originalEvent)}bindShowHandler(){this.unbindShowHandler(),this.ngZone.runOutsideAngular(()=>{const e=this.targetElement();if(!e)return;const n=this.showOn||Yz;this.showSubscription=this.renderer.listen(e,this.showOn||Yz,o=>{this.showContextMenu(o,e)}),n===Yz&&(this.keydownSubscription=this.renderer.listen(e,"keydown",o=>{o.shiftKey&&o.keyCode===F.F10&&this.showContextMenu(o,e)}))})}showContextMenu(e,n){const o=this.targetFilter();let r=n;if(o){if(r=((s,i,e)=>{const n=e.getAttribute("id");n||e.setAttribute("id",LFe);const o=`#${n||LFe} ${i}`,r=GFe(s,a=>((s,i)=>(s.matches||s.msMatchesSelector).call(s,i))(a,o),e);return n||e.removeAttribute("id"),r})(e.target,o,n),r&&r!==e.target&&PFe(e.target))return;r&&this.directiveTarget&&(r=this.target.targetService.find(r))}r?this.ngZone.run(()=>{this.closePopup(e)||(this.currentTarget=r,this.openPopup(e))}):this.closePopup(e)}unbindShowHandler(){this.showSubscription&&(this.showSubscription(),this.showSubscription=null),this.keydownSubscription&&(this.keydownSubscription(),this.keydownSubscription=null)}targetElement(){if(!ne())return;this.directiveTarget=!1;let e=this.target;return"string"==typeof e?e=document.querySelector(e):e&&e.nativeElement?e=e.nativeElement:e instanceof t5e&&(e=e.element,this.directiveTarget=!0),e}targetFilter(){return this.directiveTarget?".k-contextmenu-target":this.filter}closePopup(e){if(this.popupRef)return this.popupAction("popupClose",e,()=>{this.removePopup()})}removePopup(){this.popupRef&&(this.popupRef.close(),this.popupRef=null,this.currentTarget=null),this.popupSubscriptions&&(this.popupSubscriptions(),this.popupSubscriptions=null)}openPopup(e){this.popupAction("popupOpen",e,()=>{let n,o;e.preventDefault(),this.alignToAnchor||"keydown"===e.type?n=this.currentTargetElement:o={left:e.pageX,top:e.pageY},this.createPopup({anchor:n,offset:o})})}createPopup(e){this.popupRef=this.popupService.open(Object.assign({animate:!lce(this.popupAnimate)||this.popupAnimate,appendTo:this.appendTo,collision:this.collision||ZQt,popupAlign:this.popupAlign||QQt,anchorAlign:this.anchorAlign||qQt,content:this.contentTemplate?this.contentTemplate.templateRef:this.defaultContentTemplate,popupClass:"k-menu-popup",positionMode:"absolute"},e));const n=this.popupRef.popupElement;this.renderer.addClass(n,"k-context-menu-popup"),this.renderer.setAttribute(n,"tabindex","-1"),this.renderer.setStyle(n,"outline","0"),this.ariaLabel&&this.renderer.setAttribute(n,"aria-label",this.ariaLabel),this.activeTarget=this.currentTargetElement===document.activeElement,this.ngZone.runOutsideAngular(()=>{const o=this.renderer.listen(n,"keydown",this.popupKeyDownHandler),r=this.renderer.listen(n,"contextmenu",eZt);this.popupSubscriptions=()=>{o(),r()}}),n.focus()}closeAndFocus(e){const n=this.currentTargetElement;!this.closePopup(e)&&this.activeTarget&&n.focus()}popupKeyDownHandler(e){const n=this.popupRef.popupElement;e.keyCode!==F.Escape||!e6(e.target,"k-menu-item")&&e.target!==n?e.target===n&&this.service.keydown.emit(e):this.closeAndFocus(e)}popupAction(e,n,o){const r=this[e];let a=!1;return ke(r)?this.ngZone.run(()=>{const l=new WQt({originalEvent:n,sender:this,target:this.currentTarget});r.emit(l),l.isDefaultPrevented()||o(),a=l.isDefaultPrevented()}):o(),a}get currentTargetElement(){return this.directiveTarget&&this.currentTarget?this.currentTarget.element:this.currentTarget}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(es),t.rXU(t6),t.rXU(t.SKi),t.rXU(t.sFG))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-contextmenu"]],contentQueries:function(e,n,o){if(1&e&&t.wni(o,e5e,5),2&e){let r;t.mGM(r=t.lsd())&&(n.contentTemplate=r.first)}},viewQuery:function(e,n){if(1&e&&t.GBs(SQt,5),2&e){let o;t.mGM(o=t.lsd())&&(n.defaultContentTemplate=o.first)}},inputs:{showOn:"showOn",target:"target",filter:"filter",alignToAnchor:"alignToAnchor",vertical:"vertical",popupAnimate:"popupAnimate",popupAlign:"popupAlign",anchorAlign:"anchorAlign",collision:"collision",appendTo:"appendTo",ariaLabel:"ariaLabel"},outputs:{popupOpen:"popupOpen",popupClose:"popupClose",select:"select",open:"open",close:"close"},exportAs:["kendoContextMenu"],features:[t.Jv_([t6,j,{provide:Ve,useValue:"kendo.contextmenu"},{provide:zm,useClass:YQt},{provide:cE,useExisting:(0,t.Rfq)(()=>s)},es,{provide:QJ,useFactory:BFe}]),t.Vt3,t.OA$],decls:2,vars:0,consts:[["default",""],["ariaRole","menu",3,"items","size","vertical","openOnClick","hoverDelay","animate","menuItemTemplate","menuItemLinkTemplate"]],template:function(e,n){1&e&&t.DNE(0,CQt,1,8,"ng-template",null,0,t.C5r)},dependencies:[KFe],encapsulation:2}),s})(),tZt=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[zr,Fe,ZFe],ZFe]}),s})();const nZt=()=>({caseSensitive:!1,operator:"contains"});function iZt(s,i){1&s&&t.nrm(0,"div",3)}function sZt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",4)(1,"kendo-window",5),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",6),t.EFF(4," Copia Elemento "),t.k0s(),t.nrm(5,"button",7)(6,"button",8)(7,"button",9)(8,"button",10),t.k0s(),t.j41(9,"form",11,0),t.bIt("submit",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.j41(11,"div",12)(12,"div",13)(13,"label"),t.EFF(14,"Commessa"),t.k0s(),t.j41(15,"div",14)(16,"kendo-combobox",15),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.jobId,o)||(r.options.jobId=o),t.Njj(o)}),t.k0s(),t.nrm(17,"div",16),t.k0s()()(),t.nrm(18,"hr",17),t.j41(19,"div",18)(20,"button",19),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(21,"i",20),t.EFF(22," ANNULLA "),t.k0s(),t.j41(23,"button",21),t.nrm(24,"i",22),t.EFF(25," COPIA "),t.k0s()()()()()}if(2&s){const e=t.sdS(10),n=t.XpG();t.R7$(),t.Y8G("resizable",!0)("draggable",!0)("top",30),t.R7$(15),t.Y8G("data",n.jobs),t.R50("ngModel",n.options.jobId),t.Y8G("suggest",!0)("allowCustom",!1)("kendoDropDownFilter",t.lJ4(10,nZt))("valuePrimitive",!0),t.R7$(),t.Y8G("control",e.controls.jobId)}}let oZt=(()=>{class s extends As{constructor(e,n){super(e),this._jobsService=n}ngOnInit(){}open(e){return null==this.jobs&&this._getJobs(),super.open(e)}_canClose(){return this.form.markAsDirty(),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi."),this.form.valid}_getJobs(){const e={filter:{filters:[{filters:[fn.Pending,fn.InProgress,fn.Completed].map(n=>({field:"status",operator:"eq",value:n})),logic:"or"}],logic:"and"},sort:[{field:"date",dir:"asc"}]};this._subscriptions.push(this._jobsService.read(e).pipe(x(n=>this.jobs=n.data.map(o=>new rZt(o)))).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(_t),t.rXU(dr))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-copy-to-job-modal"]],features:[t.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],["kendoWindowMinimizeAction",""],["kendoWindowRestoreAction",""],["kendoWindowMaximizeAction",""],["kendoWindowCloseAction",""],["name","copy-activity-modal-form","novalidate","","autocomplete","off",2,"min-width","600px",3,"submit"],[1,"row"],[1,"col-md-12"],[1,"form-group"],["textField","fullName","valueField","id","name","jobId","required","",3,"ngModelChange","data","ngModel","suggest","allowCustom","kendoDropDownFilter","valuePrimitive"],[1,"validation-message",3,"control"],[1,"border-green"],[1,"d-flex","justify-content-end","gap-2","mt-5"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","submit",1,"btn","btn-primary"],[1,"fa","fa-floppy-disk","me-2"]],template:function(n,o){1&n&&t.DNE(0,iZt,1,0,"div",1)(1,sZt,26,11,"div",2),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[W,Fi,Un,Pi,ts,mi,Mi,ni,li,Ld,Gd,Pd,Wn,Wu,go,cr],encapsulation:2})}return s})();class rZt{constructor(i){this.id=i.id,this.customer=i.customer,this.code=i.code,this.fullName=`${i.code} - ${i.customer}`+(i.reference?` - ${i.reference}`:""),this.customerId=i.customerId,this.addressId=i.addressId,this.description=i.description}}function aZt(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-button",4),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.onSelect(o))}),t.EFF(1),t.k0s()}if(2&s){const e=i.$implicit;t.xc7("margin-bottom",8,"px"),t.R7$(),t.SpI(" ",e," ")}}let lZt=(()=>{class s{constructor(){this.jobIds=[],this.select=new t.bkB,this.cancel=new t.bkB}onSelect(e){this.select.emit(e)}onCancel(){this.cancel.emit()}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-jobid-selector-dialog"]],inputs:{jobIds:"jobIds"},outputs:{select:"select",cancel:"cancel"},decls:8,vars:1,consts:[[3,"close"],[1,"jobid-selector-list"],["fillMode","outline",3,"marginBottom","click",4,"ngFor","ngForOf"],[3,"click"],["fillMode","outline",3,"click"]],template:function(n,o){1&n&&(t.j41(0,"kendo-dialog",0),t.bIt("close",function(){return o.onCancel()}),t.j41(1,"kendo-dialog-titlebar"),t.EFF(2," Scegli la commessa da utilizzare "),t.k0s(),t.j41(3,"div",1),t.DNE(4,aZt,2,3,"kendo-button",2),t.k0s(),t.j41(5,"kendo-dialog-actions")(6,"kendo-button",3),t.bIt("click",function(){return o.onCancel()}),t.EFF(7,"Annulla"),t.k0s()()()),2&n&&(t.R7$(4),t.Y8G("ngForOf",o.jobIds))},dependencies:[st,$t,EF,Hc,jc],styles:[".jobid-selector-list[_ngcontent-%COMP%] {\n        display: flex;\n        flex-direction: column;\n        margin: 16px 0;\n    }\n\n    .k-button-outline-base[_ngcontent-%COMP%] {\n        border-color: var(--lacos-color) !important;\n    }\n\n    .k-button-outline-base[_ngcontent-%COMP%]:hover, .k-button-outline-base.k-hover[_ngcontent-%COMP%] {\n        background-color: var(--lacos-color) !important;\n        border-color: var(--lacos-color) !important;\n    }"]})}return s})();const cZt=["gridMenu"],dZt=["jobDetailModal"],uZt=["copyToJobModal"];function hZt(s,i){1&s&&t.nrm(0,"kendo-menu-item",16)}function pZt(s,i){1&s&&t.nrm(0,"kendo-menu-item",17)}function fZt(s,i){1&s&&t.nrm(0,"kendo-menu-item",18)}function mZt(s,i){1&s&&t.nrm(0,"kendo-menu-item",19)}function _Zt(s,i){if(1&s){const e=t.RV6();t.j41(0,"app-jobid-selector-dialog",20),t.bIt("select",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onJobIdSelected(o))})("cancel",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onJobIdDialogCancel())}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("jobIds",e.jobCodesList)}}let fd=(()=>{class s extends It{constructor(e,n,o,r,a,l){super(),this.router=e,this._jobsService=n,this._activityService=o,this._purchaseOrderService=r,this._user=a,this._messageboxService=l,this.showJobIdDialog=!1,this.jobIds=[],this.jobIdResolve=null,this.isActivityGrid=!1,this.isPurchaseOrderGrid=!1,this.isOperator=!1,this.jobCodesList=[],this._currentValueArray=[]}ngOnInit(){this.user=this._user.getUser(),this.isOperator=this.user?.role===Pt.Operator}getSelectedJobId(){const e=this.contextItem.jobCodes,n=this.contextItem[this.key];if(!n)return Promise.resolve(null);if(!e)return n;const o="string"==typeof e?e.split(",").map(a=>a.trim()).filter(Boolean):Array.isArray(e)?e:[e],r="string"==typeof n?n.split(",").map(a=>a.trim()):Array.isArray(n)?n:[n];return o.length>1?(this.jobCodesList=o,this._currentValueArray=r,this.showJobIdDialog=!0,new Promise(a=>{this.jobIdResolve=a})):Promise.resolve(r[0])}onJobIdSelected(e){if(this.showJobIdDialog=!1,this.jobIdResolve){const n=this.jobCodesList.findIndex(r=>r===e);this.jobIdResolve(this._currentValueArray[n]??null),this.jobIdResolve=null}}onJobIdDialogCancel(){this.showJobIdDialog=!1,this.jobIdResolve&&(this.jobIdResolve(null),this.jobIdResolve=null)}onCellClick(e,n=!1,o=!1){if("contextmenu"===e.type){const r=e.originalEvent;r.preventDefault(),this.contextItem=e.dataItem,this.isActivityGrid=n,this.isPurchaseOrderGrid=o,this.gridMenu.show({left:r.pageX,top:r.pageY})}}onSelect(e){var n=this;return(0,Uc.A)(function*(){const o=yield n.getSelectedJobId();if(o){if("Scheda Commessa"===e.item.text&&n._subscriptions.push(n._jobsService.get(o).pipe(Y(r=>n.jobDetailModal.open(r)),z(r=>r),Y(()=>n._jobsService.update(n.jobDetailModal.options)),x(()=>window.location.reload())).subscribe()),"Commessa"===e.item.text&&n.router.navigate(["/job-details"],{queryParams:{jobId:o}}),"Voci Contabili Commessa"===e.item.text&&n.router.navigate(["/job-accountings"],{queryParams:{jobId:o}}),"Attivit\xe0 Commessa"===e.item.text&&n.router.navigate(["/activities"],{queryParams:{jobId:o}}),"Ticket Commessa"===e.item.text&&n.router.navigate(["/tickets"],{queryParams:{jobId:o}}),"Ordini d'acquisto Commessa"===e.item.text&&n.router.navigate(["/purchase-orders"],{queryParams:{jobId:o}}),"Interventi Commessa"===e.item.text&&n.router.navigate(["/interventions-list"],{queryParams:{jobId:o}}),"Copia Attivit\xe0"===e.item.text){const r=new Hz(n.contextItem.id,0);n._subscriptions.push(n.copyToJobModal.open(r).pipe(z(a=>a),Y(()=>n._activityService.copyActivityToJob(r)),x(()=>{n._messageboxService.success("Attivit\xe0 copiata con successo"),n.router.navigate(["/job-details"],{queryParams:{jobId:r.jobId}})})).subscribe())}if("Copia Ordine d'acquisto"===e.item.text){const r=new Hz(n.contextItem.id,0);n._subscriptions.push(n.copyToJobModal.open(r).pipe(z(a=>a),Y(()=>n._purchaseOrderService.copyPurchaseOrderToJob(r)),x(()=>{n._messageboxService.success("Ordine d'acquisto copiato con successo"),n.router.navigate(["/job-details"],{queryParams:{jobId:r.jobId}})})).subscribe())}}})()}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Qi),t.rXU(dr),t.rXU(Ma),t.rXU(wh),t.rXU(Ci),t.rXU(_t))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-grid-context-menu"]],viewQuery:function(n,o){if(1&n&&(t.GBs(cZt,7),t.GBs(dZt,7),t.GBs(uZt,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.gridMenu=r.first),t.mGM(r=t.lsd())&&(o.jobDetailModal=r.first),t.mGM(r=t.lsd())&&(o.copyToJobModal=r.first)}},inputs:{key:"key"},features:[t.Vt3],decls:17,vars:6,consts:[["gridMenu",""],["jobDetailModal",""],["copyToJobModal",""],[3,"select"],["text","Vai a"],["text","Scheda Commessa",4,"ngIf"],["text","Commessa"],["text","Attivit\xe0 Commessa"],["text","Ticket Commessa"],["text","Ordini d'acquisto Commessa"],["text","Interventi Commessa"],["text","Voci Contabili Commessa",4,"ngIf"],["text","Copia Attivit\xe0",4,"ngIf"],["text","Copia Ordine d'acquisto",4,"ngIf"],[3,"jobReadOnly"],[3,"jobIds","select","cancel",4,"ngIf"],["text","Scheda Commessa"],["text","Voci Contabili Commessa"],["text","Copia Attivit\xe0"],["text","Copia Ordine d'acquisto"],[3,"select","cancel","jobIds"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"kendo-contextmenu",3,0),t.bIt("select",function(l){return t.eBV(r),t.Njj(o.onSelect(l))}),t.j41(2,"kendo-menu-item",4),t.DNE(3,hZt,1,0,"kendo-menu-item",5),t.nrm(4,"kendo-menu-item",6)(5,"kendo-menu-item",7)(6,"kendo-menu-item",8)(7,"kendo-menu-item",9)(8,"kendo-menu-item",10),t.DNE(9,pZt,1,0,"kendo-menu-item",11),t.k0s(),t.DNE(10,fZt,1,0,"kendo-menu-item",12)(11,mZt,1,0,"kendo-menu-item",13),t.k0s(),t.nrm(12,"app-job-modal",14,1)(14,"app-copy-to-job-modal",null,2),t.DNE(16,_Zt,1,1,"app-jobid-selector-dialog",15)}2&n&&(t.R7$(3),t.Y8G("ngIf",!o.isOperator),t.R7$(6),t.Y8G("ngIf",!o.isOperator),t.R7$(),t.Y8G("ngIf",o.isActivityGrid),t.R7$(),t.Y8G("ngIf",o.isPurchaseOrderGrid),t.R7$(),t.Y8G("jobReadOnly",!0),t.R7$(4),t.Y8G("ngIf",o.showJobIdDialog))},dependencies:[W,n5e,ace,Bp,oZt,lZt],encapsulation:2})}return s})();const gZt=["jobModal"],vZt=["jobCopyModal"],SZt=["activityModal"],CZt=["purchaseOrderModal"],bZt=["jobsAttachmentsModal"],EZt=["customerModal"],yZt=["grid"],kZt=s=>({"job-alert":s}),wZt=()=>["/job-details"],Kz=s=>({jobId:s}),DZt=()=>["/purchase-orders"],OZt=()=>["/interventions-list"],TZt=()=>["/tickets"];function MZt(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",29),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.exportToExcel())}),t.EFF(1," Esporta in Excel "),t.k0s()}}function IZt(s,i){1&s&&(t.EFF(0),t.nI1(1,"date")),2&s&&t.SpI(" ",t.i5U(1,1,i.$implicit.date,"dd/MM/yyyy")," ")}function xZt(s,i){if(1&s&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.SpI(" Provv: ",t.i5U(2,1,e.expirationDate,"dd/MM/yyyy")," ")}}function AZt(s,i){if(1&s&&(t.j41(0,"span",32),t.EFF(1),t.nI1(2,"date"),t.nrm(3,"i",33),t.k0s()),2&s){const e=t.XpG().$implicit;t.Y8G("ngClass",t.eq3(5,kZt,e.isInLate)),t.R7$(),t.SpI(" Tassativa: ",t.i5U(2,2,e.mandatoryDate,"dd/MM/yyyy")," ")}}function RZt(s,i){if(1&s&&t.DNE(0,xZt,3,4,"span",30)(1,AZt,4,7,"span",31),2&s){const e=i.$implicit;t.Y8G("ngIf",e.expirationDate),t.R7$(),t.Y8G("ngIf",e.mandatoryDate)}}function NZt(s,i){if(1&s){const e=t.RV6();t.j41(0,"a",34),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.openCustomer(o.customerId))}),t.EFF(1),t.k0s(),t.nrm(2,"br")}if(2&s){const e=i.$implicit;t.R7$(),t.JRh(e.customer)}}function LZt(s,i){if(1&s&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.JRh(e.code)}}function GZt(s,i){if(1&s&&(t.j41(0,"div",36),t.EFF(1),t.nrm(2,"i",33),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.code," ")}}function PZt(s,i){if(1&s&&t.DNE(0,LZt,2,1,"div",30)(1,GZt,3,1,"div",35),2&s){const e=i.$implicit;t.Y8G("ngIf",!e.hasHighPriority),t.R7$(),t.Y8G("ngIf",e.hasHighPriority)}}function FZt(s,i){if(1&s&&t.nrm(0,"app-multiselect-grid-column-filter",37),2&s){const e=i.column,n=i.filter,o=i.filterService,r=t.XpG();t.Y8G("column",e)("filter",n)("filterService",o)("data",r.jobStatusNames)}}function UZt(s,i){if(1&s&&(t.j41(0,"span",38),t.EFF(1),t.nI1(2,"jobStatus"),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.status)," ")}}function BZt(s,i){1&s&&(t.nrm(0,"div",39),t.nI1(1,"domsanitizer")),2&s&&t.Y8G("innerHTML",t.bMT(1,1,i.$implicit.description),t.npT)}function VZt(s,i){1&s&&t.nrm(0,"img",40)}function zZt(s,i){1&s&&t.DNE(0,VZt,1,0,"img",40),2&s&&t.vxM(0,i.$implicit.hasSharepoint?0:-1)}function jZt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",42)(1,"a",34),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,r=t.XpG();return t.Njj(r.edit(o))}),t.nrm(2,"i",43),t.j41(3,"span",36),t.EFF(4),t.k0s()()()}if(2&s){const e=t.XpG().$implicit;t.R7$(4),t.SpI(" ",e.unreadMessages,"")}}function HZt(s,i){1&s&&t.DNE(0,jZt,5,1,"div",41),2&s&&t.Y8G("ngIf",i.$implicit.unreadMessages)}function $Zt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",44)(1,"div",45)(2,"button",46),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.edit(o))}),t.nrm(3,"i",47),t.k0s(),t.j41(4,"button",48),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.createActivity(o))}),t.nrm(5,"i",49),t.k0s(),t.j41(6,"button",50),t.nrm(7,"i",51),t.k0s(),t.j41(8,"button",52),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.openAttachments(o))}),t.nrm(9,"i",53),t.k0s()(),t.j41(10,"div",45)(11,"button",54),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.createPurchaseOrder(o))}),t.nrm(12,"i",55),t.k0s(),t.j41(13,"button",56),t.nrm(14,"i",57),t.k0s(),t.j41(15,"button",58),t.nrm(16,"i",59),t.k0s(),t.j41(17,"button",60),t.nrm(18,"i",61),t.k0s()()()}if(2&s){const e=i.$implicit;t.R7$(6),t.Y8G("routerLink",t.lJ4(13,wZt))("disabled",!e.hasActivities)("queryParams",t.eq3(14,Kz,e.id)),t.R7$(2),t.Y8G("disabled",!e.hasAttachments),t.R7$(5),t.Y8G("disabled",!e.hasPurchaseOrders)("routerLink",t.lJ4(16,DZt))("queryParams",t.eq3(17,Kz,e.id)),t.R7$(2),t.Y8G("routerLink",t.lJ4(19,OZt))("disabled",!e.hasInterventions)("queryParams",t.eq3(20,Kz,e.id)),t.R7$(2),t.Y8G("routerLink",t.lJ4(22,TZt))("disabled",!e.hasActivities)("queryParams",t.eq3(23,Kz,e.id))}}let XZt=(()=>{class s extends It{constructor(e,n,o,r,a,l,c,u,f){super(),this._service=e,this._serviceActivity=n,this._purchaseOrdersService=o,this._customerService=r,this._user=a,this._operatorsService=l,this._messageBox=c,this.router=u,this._storageService=f,this.gridState={skip:0,take:30,filter:{filters:[{filters:[fn.Pending,fn.InProgress].map(_=>({field:"status",operator:"eq",value:_})),logic:"or"}],logic:"and"},group:[],sort:[{field:"date",dir:"desc"},{field:"code",dir:"desc"}]},this.jobStatusNames=gO,this.rowCallback=_=>{const g=_.dataItem;switch(!0){case g.status===fn.Completed:return{"job-completed":!0};case g.status===fn.InProgress:return{"job-inprogress":!0};case g.status===fn.Pending:return{"job-pending":!0};case g.status===fn.Billing:return{"job-billing":!0};case g.status===fn.Billed:return{"job-billed":!0};case g.status===fn.Suspended:return{"job-suspended":!0};default:return{}}}}ngOnInit(){this._resumeState(),this._read(),this.user=this._user.getUser(),this._getCurrentOperator(this.user.id),this.updateScreenSize()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}dataStateChange(e){this.gridState=e,this._saveState(),this._read()}_resumeState(){const e=this._storageService.get(window.location.hash,!0);null!=e&&(this.gridState=e)}_saveState(){this._storageService.save(this.gridState,window.location.hash,!0)}create(){const e=pS(),n=new Dm(0,null,e.getFullYear(),e,null,null,null,null,!1,fn.Pending,null,null,null,null,null,[],[]);this._subscriptions.push(this.jobModal.open(n).pipe(z(o=>o),Y(()=>this._service.create(n)),x(o=>this._afterSaved(o))).subscribe())}edit(e){this._subscriptions.push(this._service.get(e.id).pipe(Y(n=>this.jobModal.open(n)),x(n=>!n&&this._read()),z(n=>n),Y(()=>this._service.update(this.jobModal.options)),x(n=>this._afterSaved(n))).subscribe())}onDblClick(){this.cellArgs.isEdited||this.router.navigate(["/job-details"],{queryParams:{jobId:this.cellArgs.dataItem.id}})}cellClickHandler(e){this.cellArgs=e}copyJob(e){const n=new Yre(e.id,e.date,e.description,e.reference,e.customerId,e.addressId,e.referentId);this._subscriptions.push(this.jobCopyModal.open(n).pipe(z(o=>o),Y(()=>this._service.copyJob(this.jobCopyModal.options)),x(o=>this._afterActivityCreated(o))).subscribe())}createActivity(e){const n=new ah(0,Vi.Pending,null,null,null,null,e.id,null,null,null,null,null,null,!1,"In attesa","In corso","Pronto","Completata",!1,!1,[],[]),o=new du(n);this._subscriptions.push(this.activityModal.open(o).pipe(z(r=>r),Y(()=>this._serviceActivity.create(n)),x(()=>this._afterActivityCreated(e.id))).subscribe())}openCustomer(e){this._subscriptions.push(this._customerService.getCustomer(e).pipe((0,U.T)(n=>Object.assign(new To,n)),Y(n=>this.customerModal.open(n)),z(n=>n),(0,U.T)(()=>this.customerModal.options),Y(n=>this._customerService.updateCustomer(n,e)),(0,U.T)(()=>this.customerModal.options),x(n=>this._messageBox.success(`Cliente ${n.name} aggiornato`)),x(()=>this._read())).subscribe())}askRemove(e){this._subscriptions.push(this._messageBox.confirm(`Sei sicuro di voler rimuovere la commessa ${e.code}?`,"Attenzione").pipe(z(o=>o),Y(()=>this._service.delete(e.id)),x(()=>this._afterRemoved(e))).subscribe())}createPurchaseOrder(e){const n=pS(),o=new Pp(0,null,n.getFullYear(),n,null,null,hs.Pending,null,null,null,this.currentOperator.id,[e.id],[],[],[],[],[]),r=new Vm(o);this._subscriptions.push(this.purchaseOrderModal.open(r).pipe(z(a=>a),Y(()=>this._purchaseOrdersService.create(o)),x(()=>this._afterPurchaseOrderCreated(e.id))).subscribe())}openAttachments(e){this._subscriptions.push(this.jobsAttachmentsModal.open([e.id,0,0]).pipe(z(n=>n)).subscribe())}_afterActivityCreated(e){this._messageBox.success("Attivit\xe0 creata."),this.router.navigate(["/activities"],{queryParams:{jobId:e}})}_afterPurchaseOrderCreated(e){this._messageBox.success("Ordine d'acquisto creato"),this.router.navigate(["/purchase-orders"],{queryParams:{jobId:e}})}_read(){this._subscriptions.push(this._service.read(this.gridState).pipe(x(e=>this.data=e)).subscribe())}_afterSaved(e){this._messageBox.success(`Commessa ${e.code} salvata.`),this._read()}_afterRemoved(e){this._messageBox.success(`Commessa ${e.code} rimossa.`),this._read()}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(x(n=>this.currentOperator=n)).subscribe())}exportToExcel(){const e=this.getExportOptions();new _g(e).toDataURL().then(o=>{Kd(o,"commesse.xlsx")})}getExportOptions(){return{sheets:[{columns:[{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0}],title:"Commesse",rows:[{cells:[{value:"Data",bold:!0},{value:"Data Scadenza",bold:!0},{value:"Cliente",bold:!0},{value:"Commessa",bold:!0},{value:"Stato",bold:!0},{value:"Riferimento",bold:!0},{value:"Responsabile Comm",bold:!0},{value:"Note",bold:!0}]},...this.data.data.map(e=>({cells:[{value:e.date,format:"dd/MM/yyyy"},{value:e.expirationDate,format:"dd/MM/yyyy"},{value:e.customer},{value:e.code},{value:(new Up).transform(e.status)},{value:e.reference},{value:e.referentName},{value:e.description}]}))]}]}}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(dr),t.rXU(Ma),t.rXU(wh),t.rXU(yl),t.rXU(Ci),t.rXU(br),t.rXU(_t),t.rXU(Qi),t.rXU(Pr))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-jobs"]],viewQuery:function(n,o){if(1&n&&(t.GBs(gZt,7),t.GBs(vZt,7),t.GBs(SZt,7),t.GBs(CZt,7),t.GBs(bZt,7),t.GBs(EZt,7),t.GBs(yZt,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.jobModal=r.first),t.mGM(r=t.lsd())&&(o.jobCopyModal=r.first),t.mGM(r=t.lsd())&&(o.activityModal=r.first),t.mGM(r=t.lsd())&&(o.purchaseOrderModal=r.first),t.mGM(r=t.lsd())&&(o.jobsAttachmentsModal=r.first),t.mGM(r=t.lsd())&&(o.customerModal=r.first),t.mGM(r=t.lsd())&&(o.grid=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},features:[t.Vt3],decls:48,vars:21,consts:[["gridMenu",""],["jobModal",""],["activityModal",""],["jobCopyModal",""],["purchaseOrderModal",""],["jobsAttachmentsModal",""],["customerModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],["key","id"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","cellClick","dblclick","data","pageSize","skip","sort","filter","group","sortable","pageable","rowClass"],["kendoGridToolbarTemplate",""],["field","date","title","Data","filter","date",3,"width"],["kendoGridCellTemplate",""],["field","expirationDate","title","Data Scadenza","filter","date",3,"width"],["field","customer","title","Cliente"],["field","code","title","Cod.",3,"width"],["field","status","title","Stato","filter","numeric",1,"job-status",3,"width"],["kendoGridFilterMenuTemplate",""],["field","reference","title","Riferimento"],["field","referentName","title","Respons. Comm."],["field","description","title","Note"],["field","hasSharepoint","title","SP",3,"width","filterable"],["field","unreadMessages","title","",3,"filterable"],["field","id","title"," ",3,"sortable","filterable","width"],["type","button",1,"btn","btn-primary",3,"click"],[4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["aria-hidden","true",1,"fa","fa-exclamation-triangle"],[2,"cursor","pointer",3,"click"],["class","job-alert",4,"ngIf"],[1,"job-alert"],[3,"column","filter","filterService","data"],[1,"text-nowrap"],[3,"innerHTML"],["src","assets/sharepoint.png","width","20px"],["style","width: 35px; text-align: center;",4,"ngIf"],[2,"width","35px","text-align","center"],[1,"fa-regular","fa-message","job-alert"],[1,"d-flex","flex-column","gap-2"],[1,"d-flex","text-nowrap","justify-content-center","gap-1"],["title","Modifica",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-edit"],["title","Aggiungi nuova attivit\xe0",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-plus"],["title","Gestisci attivit\xe0",1,"btn","btn-primary","btn-sm",3,"routerLink","disabled","queryParams"],[1,"fas","fa-a"],["title","Visualizza allegati",1,"btn","btn-outline-primary","btn-sm",3,"click","disabled"],[1,"fa","fa-paperclip"],["title","Aggiungi nuovo ordine d'acquisto",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"fa","fa-cart-shopping"],["title","Visualizza ordini d'acquisto",1,"btn","btn-outline-primary","btn-sm",3,"disabled","routerLink","queryParams"],[1,"fa","fa-bag-shopping"],["title","Visualizza Interventi",1,"btn","btn-primary","btn-sm",3,"routerLink","disabled","queryParams"],[1,"fas","fa-i"],["title","Visualizza tickets",1,"btn","btn-outline-primary","btn-sm",3,"routerLink","disabled","queryParams"],[1,"fa","fa-tag"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",7)(1,"div",8)(2,"h4"),t.EFF(3,"Commesse"),t.k0s()(),t.j41(4,"div",9)(5,"button",10),t.bIt("click",function(){return t.eBV(r),t.Njj(o.create())}),t.nrm(6,"i",11),t.EFF(7," NUOVA "),t.k0s()()(),t.nrm(8,"app-grid-context-menu",12,0),t.j41(10,"div",13)(11,"kendo-grid",14),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))})("cellClick",function(l){return t.eBV(r),t.Njj(o.cellClickHandler(l))})("dblclick",function(){return t.eBV(r),t.Njj(o.onDblClick())})("cellClick",function(l){t.eBV(r);const c=t.sdS(9);return t.Njj(c.onCellClick(l))}),t.DNE(12,MZt,2,0,"ng-template",15),t.j41(13,"kendo-grid-column",16),t.DNE(14,IZt,2,4,"ng-template",17),t.k0s(),t.j41(15,"kendo-grid-column",18),t.DNE(16,RZt,2,2,"ng-template",17),t.k0s(),t.j41(17,"kendo-grid-column",19),t.DNE(18,NZt,3,1,"ng-template",17),t.k0s(),t.j41(19,"kendo-grid-column",20),t.DNE(20,PZt,2,2,"ng-template",17),t.k0s(),t.j41(21,"kendo-grid-column",21),t.DNE(22,FZt,1,4,"ng-template",22)(23,UZt,3,3,"ng-template",17),t.k0s(),t.nrm(24,"kendo-grid-column",23)(25,"kendo-grid-column",24),t.j41(26,"kendo-grid-column",25),t.DNE(27,BZt,2,3,"ng-template",17),t.k0s(),t.j41(28,"kendo-grid-column",26),t.DNE(29,zZt,1,1,"ng-template",17),t.k0s(),t.j41(30,"kendo-grid-column",27),t.DNE(31,HZt,1,1,"ng-template",17),t.k0s(),t.j41(32,"kendo-grid-column",28),t.DNE(33,$Zt,19,25,"ng-template",17),t.k0s()()(),t.nrm(34,"app-job-modal",null,1)(36,"app-activity-modal",null,2)(38,"app-job-copy-modal",null,3)(40,"app-purchase-order-modal",null,4)(42,"app-jobs-attachments-modal",null,5)(44,"app-activity-modal",null,2)(46,"app-customer-modal",null,6)}2&n&&(t.R7$(11),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!0)("rowClass",o.rowCallback),t.R7$(2),t.Y8G("width",1),t.R7$(2),t.Y8G("width",1),t.R7$(4),t.Y8G("width",1),t.R7$(2),t.Y8G("width",1),t.R7$(7),t.Y8G("width",1)("filterable",!1),t.R7$(2),t.Y8G("filterable",!1),t.R7$(2),t.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[Pe,W,Hl,Nn,hp,yn,qn,ac,eu,Bp,yqt,Dh,Bm,lE,JS,fd,xi,sa,Up],encapsulation:2})}return s})();const WZt=()=>["style"],YZt=s=>({convertMsLists:!0,removeAttributes:s,removeHtmlComments:!0,removeMsClasses:!0,removeMsStyles:!0,removeInvalidHTML:!0});function KZt(s,i){1&s&&t.nrm(0,"div",3)}function JZt(s,i){if(1&s&&t.nrm(0,"img",36),2&s){const e=t.XpG().$implicit,n=t.XpG(2);t.Y8G("src",n.imagesUrl+e.pictureFileName,t.B4B)}}function qZt(s,i){if(1&s&&(t.j41(0,"div",34),t.DNE(1,JZt,1,1,"img",35),t.j41(2,"span"),t.EFF(3),t.k0s()()),2&s){const e=i.$implicit;t.R7$(),t.Y8G("ngIf",e.pictureFileName),t.R7$(2),t.SpI(" ",e.fullName," ")}}function QZt(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",4)(1,"kendo-window",5),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",6),t.EFF(4," Associa prodotto "),t.k0s(),t.j41(5,"div",7)(6,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",9),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",11),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",12),t.k0s(),t.j41(13,"form",13,0),t.bIt("submit",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.j41(15,"div",14)(16,"div",15)(17,"label"),t.EFF(18,"Tipologia"),t.k0s(),t.j41(19,"div",16)(20,"kendo-combobox",17),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.productType,o)||(r.productType=o),t.Njj(o)}),t.bIt("valueChange",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onProductTypeChanged())}),t.k0s(),t.nrm(21,"div",18),t.k0s()(),t.j41(22,"div",19)(23,"label"),t.EFF(24,"Prodotto"),t.k0s(),t.j41(25,"div",16)(26,"kendo-combobox",20),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.product,o)||(r.product=o),t.Njj(o)}),t.bIt("valueChange",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onProductChange())}),t.DNE(27,qZt,4,2,"ng-template",21),t.k0s(),t.nrm(28,"div",18),t.k0s()(),t.j41(29,"div",15)(30,"label"),t.EFF(31,"Ubicazione"),t.k0s(),t.j41(32,"div",16)(33,"input",22),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.product.location,o)||(r.options.product.location=o),t.Njj(o)}),t.k0s(),t.nrm(34,"div",18),t.k0s()()(),t.j41(35,"div",14)(36,"div",23)(37,"label"),t.EFF(38,"Descrizione"),t.k0s(),t.j41(39,"div",16)(40,"kendo-editor",24),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.product.description,o)||(r.options.product.description=o),t.Njj(o)}),t.j41(41,"kendo-toolbar")(42,"kendo-toolbar-buttongroup"),t.nrm(43,"kendo-toolbar-button",25)(44,"kendo-toolbar-button",26)(45,"kendo-toolbar-button",27),t.k0s(),t.nrm(46,"kendo-toolbar-dropdownlist",28)(47,"kendo-toolbar-colorpicker",29),t.j41(48,"kendo-toolbar-buttongroup"),t.nrm(49,"kendo-toolbar-button",30),t.k0s()()(),t.nrm(50,"div",18),t.k0s()()(),t.j41(51,"div",31)(52,"button",32),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(53,"i",9),t.EFF(54," ANNULLA "),t.k0s(),t.j41(55,"button",33),t.nrm(56,"i",11),t.EFF(57," SALVA "),t.k0s()()()()()}if(2&s){const e=t.sdS(14),n=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("top",30),t.R7$(19),t.Y8G("data",n.productTypes),t.R50("ngModel",n.productType),t.Y8G("suggest",!0)("allowCustom",!1),t.R7$(),t.Y8G("control",e.controls.productType),t.R7$(5),t.Y8G("data",n.products),t.R50("ngModel",n.product),t.Y8G("suggest",!0)("allowCustom",!1),t.R7$(2),t.Y8G("control",e.controls.product),t.R7$(5),t.R50("ngModel",n.options.product.location),t.R7$(),t.Y8G("control",e.controls.location),t.R7$(6),t.R50("ngModel",n.options.product.description),t.Y8G("resizable",!0)("iframe",!1)("pasteCleanupSettings",t.eq3(21,YZt,t.lJ4(20,WZt))),t.R7$(10),t.Y8G("control",e.controls.description)}}let ZZt=(()=>{class s extends As{constructor(e,n,o){super(n),this._productTypesService=e,this._productsService=o,this.imagesUrl=`${At.baseAttachmentsUrl}/`}ngOnInit(){this._getProductTypes()}open(e){this.productType=this.productTypes.find(o=>o.id===e.product.productTypeId),this.products=[],this.product=null;const n=super.open(e);return this.productType&&this.onProductTypeChanged(this.options.product.productId),n}onProductTypeChanged(e=null){this.options.product.productTypeId=this.productType?.id,this.product=null,this.options.product.productId=null,this.productType?this._subscriptions.push(this._productsService.readProducts({filter:{filters:[{field:"productTypeId",operator:"eq",value:this.productType.id}],logic:"and"},sort:[{field:"name",dir:"asc"}]}).pipe(x(o=>this.products=o.data.map(r=>new ten(r))),x(()=>this.options.product.productId=(this.product=this.products.find(o=>o.id===e))?.id)).subscribe()):this.products=[]}onProductChange(){this.options.product.productId=this.product?.id,this.options.product.description=this.product?.description,this.options.product.location=this.product?.location}_canClose(){return this.form.markAsDirty(),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi."),this.form.valid}_getProductTypes(){this._subscriptions.push(this._productTypesService.readProductTypesList().pipe(x(e=>this.productTypes=e.map(n=>new een(n)))).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(vR),t.rXU(_t),t.rXU(SR))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-activity-product-modal"]],features:[t.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowCloseAction",""],["name","activity-product-modal-form","novalidate","","autocomplete","off",1,"redimensionModal",3,"submit"],[1,"row"],[1,"col-md-3"],[1,"form-group"],["textField","fullName","valueField","id","name","productType","required","",3,"ngModelChange","valueChange","data","ngModel","suggest","allowCustom"],[1,"validation-message",3,"control"],[1,"col-md-6"],["textField","fullName","valueField","id","name","product","required","",3,"ngModelChange","valueChange","data","ngModel","suggest","allowCustom"],["kendoComboBoxItemTemplate",""],["name","location","maxlength","255","novalidate","","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-12"],["name","description",3,"ngModelChange","ngModel","resizable","iframe","pasteCleanupSettings"],["kendoEditorBoldButton",""],["kendoEditorItalicButton",""],["kendoEditorUnderlineButton",""],["kendoEditorFontSize",""],["kendoEditorForeColor","","view","gradient"],["kendoEditorInsertUnorderedListButton",""],[1,"d-flex","justify-content-end","gap-2","mt-5"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"d-flex","align-items-center","gap-1"],["class","thumbnail-xs",3,"src",4,"ngIf"],[1,"thumbnail-xs",3,"src"]],template:function(n,o){1&n&&t.DNE(0,KZt,1,0,"div",1)(1,QZt,58,23,"div",2),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[W,Fi,jo,Un,Pi,ts,Vu,mi,Mi,ni,li,Wn,ba,go,KS,Um,Gm,Pm,Fm,o1,s1,Gp,vh,Pn,Om,cr],encapsulation:2})}return s})();class i5e{constructor(i){this.product=i}}class een{constructor(i){this.id=i.id,this.code=i.code,this.name=i.name,this.fullName=`${i.code} - ${i.name}`}}class ten{constructor(i){this.id=i.id,this.code=i.code,this.name=i.name,this.fullName=`${i.code} - ${i.name}`,this.pictureFileName=i.pictureFileName,this.description=i.description,this.location=i.location}}class i6{constructor(i,e,n,o,r,a){this.id=i,this.activityId=e,this.productId=n,this.description=o,this.location=r,this.productTypeId=a}static build(i){return new i6(i.id,i.activityId,i.productId,i.description,i.location,i.productTypeId)}}let Jz=(()=>{class s{constructor(e){this._http=e,this._baseUrl=`${At.baseApiUrl}/activity-products`}read(e){return Ta(this._http,e,`${this._baseUrl}/read`)}create(e){return this._http.post(this._baseUrl,e).pipe((0,U.T)(()=>{}))}get(e){return this._http.get(`${this._baseUrl}/${e}`).pipe((0,U.T)(n=>i6.build(n)))}update(e){return this._http.put(`${this._baseUrl}/${e.id}`,e).pipe((0,U.T)(n=>i6.build(n)))}duplicate(e){return this._http.post(`${this._baseUrl}/${e}/duplicate`,null).pipe((0,U.T)(()=>{}))}delete(e){return this._http.delete(`${this._baseUrl}/${e}`).pipe((0,U.T)(()=>{}))}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(js))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();function nen(s,i){1&s&&(t.j41(0,"div"),t.EFF(1,"\xa0"),t.k0s()),2&s&&t.xc7("background-color",i.$implicit.colorHex)}function ien(s,i){if(1&s&&(t.j41(0,"a",12),t.nrm(1,"img",13),t.k0s()),2&s){const e=t.XpG().$implicit,n=t.XpG();t.Y8G("href",n.imagesUrl+e.pictureFileName,t.B4B),t.R7$(),t.Y8G("src",n.imagesUrl+e.pictureFileName,t.B4B)}}function sen(s,i){1&s&&t.DNE(0,ien,2,2,"a",11),2&s&&t.Y8G("ngIf",i.$implicit.pictureFileName)}function oen(s,i){1&s&&(t.nrm(0,"div",14),t.nI1(1,"domsanitizer")),2&s&&t.Y8G("innerHTML",t.bMT(1,1,i.$implicit.description),t.npT)}function ren(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",21),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,r=t.XpG();return t.Njj(r.askRemove(o))}),t.nrm(1,"i",22),t.k0s()}}function aen(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",15)(1,"button",16),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.editActivityProduct(o))}),t.nrm(2,"i",17),t.k0s(),t.j41(3,"button",18),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.askDuplicate(o))}),t.nrm(4,"i",19),t.k0s(),t.DNE(5,ren,2,0,"button",20),t.k0s()}if(2&s){const e=i.$implicit;t.R7$(5),t.Y8G("ngIf",e.canBeRemoved)}}let len=(()=>{class s extends It{constructor(e,n){super(),this._service=e,this._messageBox=n,this.edit=new t.bkB,this.imagesUrl=`${At.baseAttachmentsUrl}/`,this.gridState={skip:0,take:30,filter:{filters:[this._buildActivityIdFilter()],logic:"and"},group:[],sort:[]}}ngOnChanges(e){e.activityId&&this.activityId&&this._read()}refresh(){this._read()}dataStateChange(e){this.gridState=e,this._read()}_read(){this._subscriptions.push(this._service.read(this.gridState).pipe(x(e=>this.data=e)).subscribe())}editActivityProduct(e){this.edit.emit(e)}askRemove(e){this._subscriptions.push(this._messageBox.confirm(`Sei sicuro di voler rimuovere ${e.name} dall'attivit\xe0?`,"Attenzione").pipe(z(o=>o),Y(()=>this._service.delete(e.id)),x(()=>this._afterRemoved(e))).subscribe())}askDuplicate(e){this._subscriptions.push(this._messageBox.confirm(`Sei sicuro di voler associare un altro ${e.name} all'attivit\xe0?`,"Attenzione").pipe(z(o=>o),Y(()=>this._service.duplicate(e.id)),x(()=>this._afterDuplicated(e))).subscribe())}_afterRemoved(e){this._messageBox.success(`${e.name} rimosso dall'attivit\xe0.`),this._read()}_afterDuplicated(e){this._messageBox.success(`${e.name} associato all'attivit\xe0.`),this._read()}_buildActivityIdFilter(){const e=this;return{field:"activityId",operator:"eq",get value(){return e.activityId}}}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Jz),t.rXU(_t))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-activity-products"]],inputs:{activityId:"activityId"},outputs:{edit:"edit"},features:[t.Vt3,t.OA$],decls:14,vars:19,consts:[[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","colorHex","title"," ",1,"activity-color",3,"sortable","filterable","width"],["kendoGridCellTemplate",""],["field","type","title","Tipologia",3,"width"],["field","code","title","Codice",3,"width"],["field","pictureFileName","title","Immagine",3,"sortable","filterable","width"],["field","name","title","Nome"],["field","description","title","Descrizione"],["field","location","title","Ubicazione"],["field","id","title"," ",3,"sortable","filterable","width"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"],[1,"thumbnail-s",3,"src"],[3,"innerHTML"],[1,"d-flex","text-nowrap","gap-1"],["title","Modifica",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-edit"],["title","Duplica",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-copy"],["class","btn btn-danger btn-sm","title","Rimuovi",3,"click",4,"ngIf"],["title","Rimuovi",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"kendo-grid",1),t.bIt("dataStateChange",function(a){return o.dataStateChange(a)}),t.j41(2,"kendo-grid-column",2),t.DNE(3,nen,2,2,"ng-template",3),t.k0s(),t.nrm(4,"kendo-grid-column",4)(5,"kendo-grid-column",5),t.j41(6,"kendo-grid-column",6),t.DNE(7,sen,1,1,"ng-template",3),t.k0s(),t.nrm(8,"kendo-grid-column",7),t.j41(9,"kendo-grid-column",8),t.DNE(10,oen,2,3,"ng-template",3),t.k0s(),t.nrm(11,"kendo-grid-column",9),t.j41(12,"kendo-grid-column",10),t.DNE(13,aen,6,1,"ng-template",3),t.k0s()()()),2&n&&(t.R7$(),t.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!0),t.R7$(),t.Y8G("sortable",!1)("filterable",!1)("width",1),t.R7$(2),t.Y8G("width",1),t.R7$(),t.Y8G("width",1),t.R7$(),t.Y8G("sortable",!1)("filterable",!1)("width",1),t.R7$(6),t.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[W,Nn,yn,qn,sa],encapsulation:2})}return s})();function cen(s,i){1&s&&t.nrm(0,"div",2)}function den(s,i){if(1&s&&(t.j41(0,"div",16)(1,"a",17),t.nrm(2,"i",18),t.k0s()()),2&s){const e=t.XpG().$implicit,n=t.XpG(2);t.R7$(),t.Y8G("href",n.CreateUrl(e.pictureFileName),t.B4B)}}function uen(s,i){if(1&s&&(t.j41(0,"div",11)(1,"div",12)(2,"div",13)(3,"p"),t.EFF(4),t.k0s()(),t.j41(5,"div",14)(6,"p"),t.EFF(7),t.k0s()(),t.DNE(8,den,3,1,"div",15),t.k0s()()),2&s){const e=i.$implicit;t.R7$(4),t.JRh(e.operatorName),t.R7$(3),t.JRh(e.notes),t.R7$(),t.Y8G("ngIf",e.pictureFileName)}}function hen(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",3)(1,"kendo-window",4),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",5),t.EFF(4," Note Intervento "),t.k0s(),t.nrm(5,"button",6),t.k0s(),t.j41(6,"div",7),t.DNE(7,uen,9,3,"div",8),t.k0s(),t.j41(8,"div",9)(9,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.EFF(10," CHIUDI "),t.k0s()()()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("width",600)("top",110),t.R7$(6),t.Y8G("ngForOf",e.options.notes)}}let pen=(()=>{class s extends mb{constructor(e,n){super(),this._messageBox=e,this._service=n,this._baseUrl=`${At.baseApiUrl}/interventions`}ngOnInit(){}open(e){return super.open(e)}_canClose(){return!0}CreateUrl(e){return`${this._baseUrl}/intervention-note/download-file/${e}`}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(_t),t.rXU(Oh))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-intervention-notes-modal"]],features:[t.Vt3],decls:2,vars:2,consts:[["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","width","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],[1,"row"],["class","col-12",4,"ngFor","ngForOf"],[1,"text-right","mt-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"col-12"],[1,"row","checklist-row"],[1,"col-4"],[1,"col-6"],["class","col-2","style","text-align: right;",4,"ngIf"],[1,"col-2",2,"text-align","right"],["target","_blank",3,"href"],[1,"fas","fa-paperclip"]],template:function(n,o){1&n&&t.DNE(0,cen,1,0,"div",0)(1,hen,11,5,"div",1),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[st,W,ni,li,Wn],encapsulation:2})}return s})(),uce=(()=>{class s extends It{transform(e){return xFe[e]}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(s)))(o||s)}})();static#t=this.\u0275pipe=t.EJ8({name:"interventionStatus",type:s,pure:!0})}return s})();const fen=["interventionNotesModal"],s5e=()=>({minute:15}),men=()=>["style"],_en=s=>({convertMsLists:!0,removeAttributes:s,removeHtmlComments:!0,removeMsClasses:!0,removeMsStyles:!0,removeInvalidHTML:!0});function gen(s,i){1&s&&t.nrm(0,"div",4)}function ven(s,i){1&s&&(t.EFF(0),t.nI1(1,"interventionStatus")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit)," ")}function Sen(s,i){1&s&&(t.EFF(0),t.nI1(1,"interventionStatus")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit)," ")}function Cen(s,i){if(1&s&&(t.j41(0,"div",56),t.nrm(1,"app-operator-avatar",57),t.EFF(2),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.Y8G("options",e),t.R7$(),t.SpI(" ",e.name," ")}}function ben(s,i){if(1&s&&(t.j41(0,"div",56),t.nrm(1,"app-operator-avatar",57),t.EFF(2),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.Y8G("options",e),t.R7$(),t.SpI(" ",e.name," ")}}function Een(s,i){if(1&s){const e=t.RV6();t.qex(0),t.j41(1,"button",58),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.selectAllProducts())}),t.EFF(2," Seleziona tutti "),t.k0s(),t.j41(3,"button",58),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.unselectAllProducts())}),t.EFF(4," Deseleziona tutti "),t.k0s(),t.bVm()}if(2&s){const e=t.XpG(2);t.R7$(),t.Y8G("disabled",e.readonly),t.R7$(2),t.Y8G("disabled",e.readonly)}}function yen(s,i){if(1&s&&t.nrm(0,"img",63),2&s){const e=t.XpG().$implicit,n=t.XpG(2);t.Y8G("src",n.imagesUrl+e.pictureFileName,t.B4B)}}function ken(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",59)(1,"input",60),t.mxI("ngModelChange",function(o){const r=t.eBV(e).$implicit;return t.DH7(r.selected,o)||(r.selected=o),t.Njj(o)}),t.bIt("ngModelChange",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.onProductSelectionChange(o))}),t.k0s(),t.DNE(2,yen,1,1,"img",61),t.j41(3,"span",62),t.EFF(4),t.k0s()()}if(2&s){const e=i.$implicit,n=i.index,o=t.XpG(2);t.AVh("hidden",e.hidden),t.R7$(),t.R50("ngModel",e.selected),t.Y8G("disabled",o.readonly)("name",n+"_productSelected"),t.R7$(),t.Y8G("ngIf",e.pictureFileName),t.R7$(),t.Y8G("title",e.fullName),t.R7$(),t.SpI(" ",e.fullName," ")}}function wen(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",5)(1,"kendo-window",6),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",7),t.EFF(4," Intervento "),t.k0s(),t.j41(5,"div",8)(6,"button",9),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",10),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",11),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.openNotes())}),t.EFF(10," NOTE "),t.k0s(),t.j41(11,"button",12),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(12,"i",13),t.EFF(13," SALVA "),t.k0s()(),t.nrm(14,"button",14)(15,"button",15)(16,"button",16)(17,"button",17),t.k0s(),t.j41(18,"form",18,1),t.bIt("submit",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.trySave())}),t.j41(20,"div",19)(21,"div",20)(22,"label"),t.EFF(23,"Commessa"),t.k0s(),t.j41(24,"div",21)(25,"kendo-combobox",22),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.jobId,o)||(r.options.jobId=o),t.Njj(o)}),t.bIt("valueChange",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onJobChanged())}),t.k0s(),t.nrm(26,"div",23),t.k0s()(),t.j41(27,"div",24)(28,"label"),t.EFF(29,"Attivit\xe0"),t.k0s(),t.j41(30,"div",21)(31,"kendo-combobox",25),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.activityId,o)||(r.options.activityId=o),t.Njj(o)}),t.bIt("valueChange",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onActivityChanged())}),t.k0s(),t.nrm(32,"div",23),t.k0s()()(),t.j41(33,"div",19)(34,"div",26)(35,"label"),t.EFF(36,"Inizio"),t.k0s(),t.j41(37,"div",21)(38,"kendo-datetimepicker",27),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.start,o)||(r.options.start=o),t.Njj(o)}),t.bIt("valueChange",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onStartChange())}),t.k0s(),t.nrm(39,"div",23),t.k0s()(),t.j41(40,"div",26)(41,"label"),t.EFF(42,"Fine"),t.k0s(),t.j41(43,"div",21)(44,"kendo-datetimepicker",28),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.end,o)||(r.options.end=o),t.Njj(o)}),t.k0s(),t.nrm(45,"div",23),t.k0s()(),t.j41(46,"div",26)(47,"label"),t.EFF(48,"Stato"),t.k0s(),t.j41(49,"div",21)(50,"kendo-dropdownlist",29),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.status,o)||(r.options.status=o),t.Njj(o)}),t.DNE(51,ven,2,3,"ng-template",30)(52,Sen,2,3,"ng-template",31),t.k0s(),t.nrm(53,"div",23),t.k0s()()(),t.j41(54,"div",19)(55,"div",32)(56,"label"),t.EFF(57,"Operatori"),t.k0s(),t.j41(58,"div",21)(59,"kendo-multiselect",33),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.operators,o)||(r.options.operators=o),t.Njj(o)}),t.bIt("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onOperatorsChanged(o))}),t.DNE(60,Cen,3,2,"ng-template",34)(61,ben,3,2,"ng-template",35),t.k0s(),t.nrm(62,"div",23),t.k0s()(),t.j41(63,"div",26)(64,"label"),t.EFF(65,"Veicolo"),t.k0s(),t.j41(66,"div",21)(67,"kendo-combobox",36),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.vehicleId,o)||(r.options.vehicleId=o),t.Njj(o)}),t.k0s(),t.nrm(68,"div",23),t.k0s()()(),t.j41(69,"div",19)(70,"div",37)(71,"div",38)(72,"label"),t.EFF(73," Prodotti "),t.k0s(),t.DNE(74,Een,5,2,"ng-container",39),t.k0s(),t.j41(75,"div",40)(76,"span",41),t.nrm(77,"span",42),t.k0s(),t.j41(78,"input",43),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.filterProductsValue,o)||(r.filterProductsValue=o),t.Njj(o)}),t.bIt("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onSearchProductsValueChange(o))}),t.k0s()(),t.j41(79,"div",44),t.DNE(80,ken,5,8,"div",45),t.k0s()()(),t.j41(81,"div",19)(82,"div",37)(83,"label"),t.EFF(84,"Descrizione"),t.k0s(),t.j41(85,"div",21)(86,"kendo-editor",46),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.description,o)||(r.options.description=o),t.Njj(o)}),t.j41(87,"kendo-toolbar")(88,"kendo-toolbar-buttongroup"),t.nrm(89,"kendo-toolbar-button",47)(90,"kendo-toolbar-button",48)(91,"kendo-toolbar-button",49),t.k0s(),t.nrm(92,"kendo-toolbar-dropdownlist",50)(93,"kendo-toolbar-colorpicker",51),t.j41(94,"kendo-toolbar-buttongroup"),t.nrm(95,"kendo-toolbar-button",52),t.k0s()()(),t.nrm(96,"div",23),t.k0s()()(),t.j41(97,"div",53)(98,"button",54),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(99,"i",10),t.EFF(100," ANNULLA "),t.k0s(),t.j41(101,"button",12),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.openNotes())}),t.EFF(102," NOTE "),t.k0s(),t.j41(103,"button",55),t.nrm(104,"i",13),t.EFF(105," SALVA "),t.k0s()()()()()}if(2&s){const e=t.sdS(19),n=t.XpG();t.R7$(),t.Y8G("resizable",!0)("draggable",!0)("top",30),t.R7$(24),t.Y8G("data",n.jobs),t.R50("ngModel",n.options.jobId),t.Y8G("suggest",!0)("allowCustom",!1)("valuePrimitive",!0)("readonly",n.jobReadonly),t.R7$(),t.Y8G("control",e.controls.jobId),t.R7$(5),t.Y8G("data",n.activities),t.R50("ngModel",n.options.activityId),t.Y8G("suggest",!0)("allowCustom",!1)("valuePrimitive",!0)("readonly",n.activityReadonly),t.R7$(),t.Y8G("control",e.controls.activityId),t.R7$(6),t.R50("ngModel",n.options.start),t.Y8G("steps",t.lJ4(51,s5e))("readonly",n.readonly),t.R7$(),t.Y8G("control",e.controls.start),t.R7$(5),t.R50("ngModel",n.options.end),t.Y8G("min",n.options.start)("steps",t.lJ4(52,s5e))("readonly",n.readonly),t.R7$(),t.Y8G("control",e.controls.end),t.R7$(5),t.Y8G("data",n.states)("valuePrimitive",!0),t.R50("ngModel",n.options.status),t.R7$(3),t.Y8G("control",e.controls.status),t.R7$(6),t.Y8G("data",n.operators),t.R50("ngModel",n.options.operators),t.Y8G("allowCustom",!1)("valuePrimitive",!0)("readonly",n.readonly),t.R7$(3),t.Y8G("control",e.controls.operators),t.R7$(5),t.Y8G("data",n.vehicles),t.R50("ngModel",n.options.vehicleId),t.Y8G("suggest",!0)("allowCustom",!1)("valuePrimitive",!0)("readonly",n.readonly),t.R7$(),t.Y8G("control",e.controls.vehicleId),t.R7$(6),t.Y8G("ngIf",!n.readonly),t.R7$(4),t.R50("ngModel",n.filterProductsValue),t.R7$(2),t.Y8G("ngForOf",n.products),t.R7$(6),t.R50("ngModel",n.options.description),t.Y8G("resizable",!0)("iframe",!1)("pasteCleanupSettings",t.eq3(54,_en,t.lJ4(53,men))),t.R7$(10),t.Y8G("control",e.controls.description)}}let hce=(()=>{class s extends As{constructor(e,n,o,r,a,l){super(o),this._jobsService=e,this._activitiesService=n,this._vechiclesService=r,this._operatorsService=a,this._activityProductsService=l,this.imagesUrl=`${At.baseAttachmentsUrl}/`,this._searchProductsValueChange=new Xe.B,this._onSearchProductsValueChange=this._searchProductsValueChange.asObservable(),this.states=MD(Vp)}ngOnInit(){this._getVehicles(),this._getOperators(),this._subscriptions.push(this._onSearchProductsValueChange.pipe(kv(500),gq(),x(e=>this._filterProducts(e))).subscribe())}open(e){const n=super.open(e);return this.activityReadonly=!!this.options.activityId,this.jobReadonly=!!this.options.jobId,this.readonly=this.options.status!==Vp.Scheduled,this.filterProductsValue=null,this._getJobs(),this._tryGetActivities(),this._tryGetProducts(),n}onJobChanged(){this.options.activityId=null,this._tryGetActivities(),this.onActivityChanged()}onActivityChanged(){this.options.activityProducts=[],this._tryGetProducts()}onOperatorsChanged(){const e=this.options.operators[0];e&&!this.options.vehicleId?this.options.vehicleId=this.operators.find(n=>n.id===e)?.defaultVehicleId:!e&&this.options.vehicleId&&(this.options.vehicleId=null)}trySave(){this.close()}onSearchProductsValueChange(e){this._searchProductsValueChange.next(e)}onProductSelectionChange(e){e.selected?this.options.activityProducts.pushIfNotContained(e.id):this.options.activityProducts.filterAndRemove(n=>n===e.id)}onStartChange(){this.options.end<this.options.start&&(this.options.end=this.options.start.addHours(1))}selectAllProducts(){for(const e of this.products)e.selected||(e.selected=!0,this.options.activityProducts.pushIfNotContained(e.id))}unselectAllProducts(){for(const e of this.products)e.selected&&(e.selected=!1,this.options.activityProducts.filterAndRemove(n=>n===e.id))}_canClose(){return!!this.readonly||(this.form.markAsDirty(),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi."),this.form.valid)}_filterProducts(e){e=e?.toLocaleLowerCase().trim()??"",this.products.forEach(n=>n.hidden=!!e&&!n.normalizedCode.includes(e)&&!n.normalizedName.includes(e))}_getJobs(){const e={filter:{filters:[],logic:"and"},sort:[{field:"date",dir:"asc"}]};this.options.jobId&&e.filter.filters.push({field:"id",operator:"eq",value:this.options.jobId}),this._subscriptions.push(this._jobsService.read(e).pipe(x(n=>this.jobs=n.data.map(o=>new Den(o)))).subscribe())}_tryGetActivities(){if(!this.options.jobId)return void(this.activities=[]);const e={filter:{filters:[{field:"jobId",operator:"eq",value:this.options.jobId}],logic:"and"},sort:[{field:"number",dir:"asc"}]};this.options.activityId&&e.filter.filters.push({field:"id",operator:"eq",value:this.options.activityId}),this._subscriptions.push(this._activitiesService.read(e).pipe(x(n=>this.activities=n.data.map(o=>new Oen(o)))).subscribe())}_tryGetProducts(){this.options.activityId?this._subscriptions.push(this._activityProductsService.read({filter:{filters:[{field:"activityId",operator:"eq",value:this.options.activityId}],logic:"and"},sort:[{field:"name",dir:"asc"}]}).pipe(x(n=>this._setProducts(n.data))).subscribe()):this.products=[]}_setProducts(e){this.products=e.leftJoin(this.options.activityProducts,(n,o)=>n.id===o,(n,o)=>new Men(n,null!=o)),this._filterProducts(this.filterProductsValue)}_getVehicles(){this._subscriptions.push(this._vechiclesService.readVehiclesList().pipe(x(e=>this.vehicles=e.map(n=>new Ten(n)))).subscribe())}_getOperators(){this._subscriptions.push(this._operatorsService.readOperators({sort:[{field:"name",dir:"asc"}]}).pipe(x(n=>this.operators=n.data)).subscribe())}openNotes(){this._subscriptions.push(this.interventionNotesModal.open(this.options).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(dr),t.rXU(Ma),t.rXU(_t),t.rXU(sV),t.rXU(br),t.rXU(Jz))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-intervention-modal"]],viewQuery:function(n,o){if(1&n&&t.GBs(fen,7),2&n){let r;t.mGM(r=t.lsd())&&(o.interventionNotesModal=r.first)}},features:[t.Vt3],decls:4,vars:2,consts:[["interventionNotesModal",""],["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowMinimizeAction",""],["kendoWindowRestoreAction",""],["kendoWindowMaximizeAction",""],["kendoWindowCloseAction",""],["name","intervention-modal-form","novalidate","","autocomplete","off",1,"redimensionModal",3,"submit"],[1,"row"],[1,"col-md-5"],[1,"form-group"],["textField","fullName","valueField","id","name","jobId","required","",3,"ngModelChange","valueChange","data","ngModel","suggest","allowCustom","valuePrimitive","readonly"],[1,"validation-message",3,"control"],[1,"col-md-7"],["textField","fullName","valueField","id","name","activityId","required","",3,"ngModelChange","valueChange","data","ngModel","suggest","allowCustom","valuePrimitive","readonly"],[1,"col-md-4"],["name","start","required","",3,"ngModelChange","valueChange","ngModel","steps","readonly"],["name","end","required","",3,"ngModelChange","ngModel","min","steps","readonly"],["name","status","required","",3,"ngModelChange","data","valuePrimitive","ngModel"],["kendoDropDownListValueTemplate",""],["kendoDropDownListItemTemplate",""],[1,"col-md-8"],["textField","name","valueField","id","name","operators","required","",3,"ngModelChange","valueChange","data","ngModel","allowCustom","valuePrimitive","readonly"],["kendoMultiSelectItemTemplate",""],["kendoMultiSelectTagTemplate",""],["textField","fullName","valueField","id","name","vehicleId",3,"ngModelChange","data","ngModel","suggest","allowCustom","valuePrimitive","readonly"],[1,"col-md-12"],[1,"d-flex","gap-2","align-items-center"],[4,"ngIf"],[1,"input-group","mb-1"],[1,"input-group-text"],[1,"fa","fa-search"],["type","text","name","filterProductsValue","placeholder","Cerca tra i prodotti dell'attivit\xe0 per codice o nome...",1,"form-control",3,"ngModelChange","ngModel"],["kendoTooltip","",1,"row",2,"max-height","300px","overflow","auto"],["class","col-6 d-flex gap-1 align-items-center mb-2",3,"hidden",4,"ngFor","ngForOf"],["name","description","required","",3,"ngModelChange","ngModel","resizable","iframe","pasteCleanupSettings"],["kendoEditorBoldButton",""],["kendoEditorItalicButton",""],["kendoEditorUnderlineButton",""],["kendoEditorFontSize",""],["kendoEditorForeColor","","view","gradient"],["kendoEditorInsertUnorderedListButton",""],[1,"d-flex","justify-content-end","gap-2"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"d-flex","gap-1"],[3,"options"],["type","button",1,"btn","btn-sm","btn-link",3,"click","disabled"],[1,"col-6","d-flex","gap-1","align-items-center","mb-2"],["type","checkbox","kendoCheckBox","",3,"ngModelChange","ngModel","disabled","name"],["class","thumbnail-xs",3,"src",4,"ngIf"],[1,"text-ellipsis",3,"title"],[1,"thumbnail-xs",3,"src"]],template:function(n,o){1&n&&(t.DNE(0,gen,1,0,"div",2)(1,wen,106,56,"div",3),t.nrm(2,"app-intervention-notes-modal",null,0)),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[st,W,Fi,jo,aw,Un,Pi,ts,mi,Mi,ni,li,Ld,Gd,Pd,Wn,ba,ng,ww,go,io,ig,zZ,Fp,fQ,KS,Um,Gm,Pm,Fm,o1,s1,Gp,vh,Pn,Om,cr,pen,jle,uce],encapsulation:2})}return s})();class Den{constructor(i){this.id=i.id,this.customer=i.customer,this.code=i.code,this.fullName=`${i.code} - ${i.customer}`}}class Oen{constructor(i){this.id=i.id,this.customerAddress=i.address,this.number=i.number,this.fullName=`${i.number} - ${i.shortDescription}`}}class Ten{constructor(i){this.id=i.id,this.name=i.name,this.plate=i.plate,this.fullName=`${i.plate} - ${i.name}`}}class Men{constructor(i,e){this.selected=e,this.hidden=!1,this.id=i.id,this.code=i.code,this.normalizedCode=i.code?.toLocaleLowerCase().trim()??"",this.name=i.name,this.normalizedName=i.code?.toLocaleLowerCase().trim()??"",this.pictureFileName=i.pictureFileName,this.fullName=`${i.code} - ${i.name}`}}const o5e=(s,i)=>!s&&!i||s&&i&&ls(Dn(s),Dn(i)),pce={rules:{},titles:{},zones:{}},fce={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},r5e={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6},a5e=(s,i,e)=>{const n=i[3],o=i[4],r=i[5];let a;const l="u"===r[3]?6e4*-e:0;if(isNaN(o)){if(0===o.indexOf("last")){a=new Date(Date.UTC(s,fce[n]+1,1,r[0]-24,r[1],r[2])+l);const c=r5e[o.substr(4,3)],u=a.getUTCDay();a.setUTCDate(a.getUTCDate()+c-u-(c>u?7:0))}else if(o.indexOf(">=")>=0){a=new Date(Date.UTC(s,fce[n],o.substr(5),r[0],r[1],r[2],0)+l);const c=r5e[o.substr(0,3)],u=a.getUTCDay();a.setUTCDate(a.getUTCDate()+c-u+(c<u?7:0))}}else a=new Date(Date.UTC(s,fce[n],o,r[0],r[1],r[2])+l);return a},Aen=(new Date).getTime(),Ren=(s,i=Aen,e=0)=>{let n=pce.rules[s];if(!n){const a=s.split(":");let l=0;return a.length>1&&(l=60*a[0]+Number(a[1])),[-1e6,"max","-","Jan",1,[0,0,0],l,"-"]}const o=new Date(i).getUTCFullYear();n=n.filter(a=>{const l=a[0],c=a[1];return l<=o&&(c>=o||l===o&&"only"===c||"max"===c)}),n.push(i),n.sort((a,l)=>("number"!=typeof a&&(a=Number(a5e(o,a,e))),"number"!=typeof l&&(l=Number(a5e(o,l,e))),a-l));const r=n[n.indexOf(i)-1]||n[n.length-1];return isNaN(r)?r:null},mce="The required {0} timezone information is not provided!",Nen=/\{(\d+)}?\}/g,_ce=(s,...i)=>{const e=(s=>s.reduce((i,e)=>i.concat(e),[]))(i);return s.replace(Nen,(n,o)=>e[parseInt(o,10)])},l5e=(s,i)=>{const e=i.getTime(),n=((s,i=(new Date).getTime())=>{if("Etc/UTC"===s||"Etc/GMT"===s)return[0,"-","UTC",null];const e=(s=>{const i=pce.zones;if(!i)throw new Error(_ce(mce,s));const e=i[s],n="string"==typeof e?i[e]:e;if(!n)throw new Error(_ce(mce,s));return n})(s);let n=e.length-1;for(;n>=0;n--){const r=e[n][3];if(r&&i>r)break}const o=e[n+1];if(!o)throw new Error(_ce(mce,s));return o})(s,e);return{rule:Ren(n[1],e,n[0]),zone:n}},qS=(s,i=new Date)=>{if("Etc/UTC"===s||"Etc/GMT"===s)return 0;if(""===s)return i.getTimezoneOffset();const{rule:e,zone:n}=l5e(s,i);return parseFloat(e?n[0]-e[6]:n[0])};function hr(s){return new Date(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds())}const gce=(s,i)=>new Date(s.getTime()+6e4*i),vce=(s,i)=>new Date(s.getTime()+i*Mx),Uen=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ben=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s6=(s,i=2)=>(s<0?"-":"")+new Array(i).concat([Math.abs(s)]).join("0").slice(-i);function c5e(s,i){const e=qS(i,s),n=vce(s,-1);return e<qS(i,n)}function Sce(s,i){const e=c5e(s,i)?1:0;return vce(s,e)}function d5e(s,i,e){if(i===e)return s;const n=qS(i,s),o=qS(e,s),r=n-o,a=gce(s,r),l=qS(e,a);return gce(s,r+(o-l))}class Ji{get cachedLocalDate(){return this._localDate}get cachedUTCDate(){return this._utcDate}static fromLocalDate(i,e=""){const n=d5e(i,"Etc/UTC",e),o=c5e(n,e),r=qS(e,n);let a=0;o&&(a=r>0?-1:1);const l=vce(n,a);return Ji.fromUTCDate(l,e)}static fromUTCDate(i,e=""){return new Ji(i,e)}toLocalDate(){return he(this._localDate)}toUTCDate(){return he(this._utcDate)}toTimezone(i){if(this.timezone===i)return this.clone();const e=qS(this.timezone,this._utcDate),n=gce(this._utcDate,e);return Ji.fromLocalDate(n,i)}clone(){return Ji.fromUTCDate(this._utcDate,this.timezone)}addDays(i){const e=new Date(this._utcDate.getTime());return e.setUTCDate(e.getUTCDate()+i),Ji.fromUTCDate(e,this.timezone)}addTime(i){const n=Sce(new Date(this._utcDate.getTime()),this.timezone);n.setTime(n.getTime()+i);const o=Sce(n,this.timezone);return Ji.fromUTCDate(o,this.timezone)}stripTime(){const i=this._utcDate,e=Date.UTC(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0);return Ji.fromUTCDate(new Date(e),this.timezone)}getTime(){return this._localDate.getTime()}getTimezoneOffset(){return this.timezoneOffset}getFullYear(){return this._utcDate.getUTCFullYear()}getMonth(){return this._utcDate.getUTCMonth()}getDate(){return this._utcDate.getUTCDate()}getDay(){return this._utcDate.getUTCDay()}getHours(){return this._utcDate.getUTCHours()}getMinutes(){return this._utcDate.getUTCMinutes()}getSeconds(){return this._utcDate.getUTCSeconds()}getMilliseconds(){return this._utcDate.getUTCMilliseconds()}getUTCDate(){return this._localDate.getUTCDate()}getUTCDay(){return this._localDate.getUTCDay()}getUTCFullYear(){return this._localDate.getUTCFullYear()}getUTCHours(){return this._localDate.getUTCHours()}getUTCMilliseconds(){return this._localDate.getUTCMilliseconds()}getUTCMinutes(){return this._localDate.getUTCMinutes()}getUTCMonth(){return this._localDate.getUTCMonth()}getUTCSeconds(){return this._localDate.getUTCSeconds()}setTime(i){throw new Error("Method not implemented.")}setMilliseconds(i){throw new Error("Method not implemented.")}setUTCMilliseconds(i){throw new Error("Method not implemented.")}setSeconds(i,e){throw new Error("Method not implemented.")}setUTCSeconds(i,e){throw new Error("Method not implemented.")}setMinutes(i,e,n){throw new Error("Method not implemented.")}setUTCMinutes(i,e,n){throw new Error("Method not implemented.")}setHours(i,e,n,o){throw new Error("Method not implemented.")}setUTCHours(i,e,n,o){throw new Error("Method not implemented.")}setDate(i){throw new Error("Method not implemented.")}setUTCDate(i){throw new Error("Method not implemented.")}setMonth(i,e){throw new Error("Method not implemented.")}setUTCMonth(i,e){throw new Error("Method not implemented.")}setFullYear(i,e,n){throw new Error("Method not implemented.")}setUTCFullYear(i,e,n){throw new Error("Method not implemented.")}toISOString(){return this._localDate.toISOString()}toJSON(){return this._localDate.toJSON()}toString(){const i=(s=>Uen[s.getUTCDay()]+" "+Ben[s.getUTCMonth()])(this._utcDate),e=this.toTimeString();return`${i} ${this.getDate()} ${this.getFullYear()} ${e}`}toDateString(){return hr(this._utcDate).toDateString()}toTimeString(){const o=`${s6(this.getHours())}:${s6(this.getMinutes())}:${s6(this.getSeconds())}`,r=function zen(s){const i=s<=0?"+":"-",e=Math.abs(s);return`GMT${i}${s6(Math.floor(e/60))}${s6(e%60)}`}(this.timezoneOffset);let a=((s,i=new Date)=>{if("Etc/UTC"===s)return"UTC";if("Etc/GMT"===s)return"GMT";if(""===s)return"";const{zone:e,rule:n}=l5e(s,i),o=e[2];return o.indexOf("/")>=0?o.split("/")[n&&+n[6]?1:0]:o.indexOf("%s")>=0?o.replace("%s",n&&"-"!==n[7]?n[7]:""):o})(this.timezone,this._utcDate);return a&&(a=` (${a})`),`${o} ${r}${a}`}toLocaleString(i,e){return this._localDate.toLocaleString(i,e)}toLocaleDateString(i,e){return this._localDate.toLocaleDateString(i,e)}toLocaleTimeString(i,e){return this._localDate.toLocaleTimeString(i,e)}toUTCString(){return this.toTimezone("Etc/UTC").toString()}[Symbol.toPrimitive](i){return"string"===i||"default"===i?this.toString():this._localDate.getTime()}valueOf(){return this.getTime()}getVarDate(){throw new Error("Not implemented.")}format(i){throw new Error("Not implemented.")}formatUTC(i){throw new Error("Not implemented.")}constructor(i,e){this._utcDate=he(i),this.timezone=e;const n=qS(e,i);this.timezoneOffset=n;let o=Sce(i,e);this._localDate=d5e(o,e,"Etc/UTC")}}const qz=(s,i=Jc.Sunday)=>{const e=he(s);for(;e.getDay()!==i;)e.setDate(e.getDate()-1);return e},QS=s=>s instanceof Array&&s.length>0,u5e=s=>QS(s.bySecond)||QS(s.byMinute)||QS(s.byHour)||QS(s.byYearDay)||QS(s.byMonthDay)||QS(s.byWeekDay)||QS(s.byMonth)||QS(s.byWeekNumber),h5e=s=>{const i=s.split(";");let e=[],n=null;for(let o=0;o<i.length;o++){const[r,a=""]=i[o].split(":"),l=r.indexOf("TZID");-1!==l&&(n=r.substring(l).split("=")[1]),e=a.split(",").map(c=>eUe(c,n))}return e.length&&null!==e[0]?e:null},p5e=s=>{const i=h5e(s);return null===i?null:i[0]};function Cce(s){return"string"==typeof s}const Xen=/\{(\d+)}?\}/g;class Wen{constructor({name:i,message:e}){if(!i||!e)throw new Error("{ name: string, message: string } object is required!");this.name=i,this.message=e}formatMessage(...i){const e=Yen(i),n=this.message.replace(Xen,function(o,r){return e[parseInt(r,10)]});return`${this.name}: ${n}`}error(...i){return new Error(this.formatMessage(i))}}const Yen=function(s){return s.reduce((i,e)=>i.concat(e),[])},o6=function(s){return Object.keys(s).reduce(function(e,n){return e[n]=new Wen({name:n,message:s[n]}),e},{})}({NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."}),Mh={en:{name:"en",identity:{version:{_number:"$Revision: 12418 $",_cldrVersion:"29"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},day:{wide:"day",short:"day",narrow:"day"},weekday:{wide:"day of the week"},dayperiod:{wide:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},millisecond:{wide:"millisecond",short:"ms",narrow:"ms"},zone:{wide:"time zone"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}};function Qz(s){let i;return i=Cce(s)?Zz(s):s,i}function Zz(s){if(Mh[s])return Mh[s];if(Mh.supplemental.likelySubtags){const e=s.split("-"),n=e[0],o=e.slice(1),r=function Jen(s,i){const e=Mh.supplemental.likelySubtags;for(let n=0;n<i.length;n++){let o=e[s+"-"+i[n]];if(o)return o}if(e[s])return e[s]}(n,o),a=r?function Ken(s,i){const e=s.split("-"),n=e[0],o=e[1],r=e[2];return Mh[s]||-1!==i.indexOf(r)&&Mh[n+"-"+r]||-1!==i.indexOf(o)&&Mh[n+"-"+o]||Mh[n]}(r,o):null;if(a)return a}throw o6.NoLocale.error(s)}function S5e(s){if(s.territory)return s.territory;const e=s.identity;let n;return n=e&&e.territory?e.territory:function atn(s,i){const e=Mh.supplemental.likelySubtags;let n=s.split("-");if(e){const r=e[s]||e[n[0]];r&&(n=r.split("-"))}if(i)for(let r=n.length-1;r>=1;r--){const a=n[r];(a===i.variant||a===i.script)&&n.splice(r,1)}const o=n.length;if(o>1)return n[o-1].toUpperCase()}(s.name,e),s.territory=n,n}const C5e="decimal",nj="currency",b5e="accounting",r6="percent",E5e="scientific",Ece="$",yce="%",a6="n",ctn=";",dtn=",",l6=".",No="",kce="en";function wce(s){const i=s.split("-"),e=parseInt(i[0],10),n=parseInt(i[1],10)-1,o=parseInt(i[2],10);return new Date(e,n,o)}const{NoCurrency:mtn,NoCurrencyDisplay:_tn,NoSupplementalCurrency:gtn,NoCurrencyRegion:vtn,NoValidCurrency:Stn}=o6,y5e=2,Dce="symbol",Ctn="XXX",k5e={"001":"USD",150:"EUR"};const Otn=["sun","mon","tue","wed","thu","fri","sat"],Ttn="001",{NoWeekData:Mtn,NoFirstDay:Itn}=o6;function D5e(s){return 1/s==-1/0}function O5e(s,i={}){return i.currency||(i.currency=function Dtn(s,i){const e=Qz(s),n=e.numbers;if(!n.localeCurrency){const o=function wtn(s,i=!0){if(k5e[s])return k5e[s];const e=Mh.supplemental.currencyData;if(!e){if(i)throw gtn.error();return}const n=e.region[s];if(n)return function Etn(s){let i,e,n,o;for(let r=0;r<s.length;r++){const a=s[r],l=Object.keys(a)[0],c=a[l];if(l!==Ctn&&"false"!==c._tender&&c._from)if(c._to){if(!n){const u=wce(c._from),f=wce(c._to);(!e||e.to<f||e.from<u)&&(i=l,e={from:u,to:f})}}else{const u=wce(c._from);(!o||o<u)&&(n=l,o=u)}}return n||i}(n);if(i)throw vtn.error(s)}(S5e(e),i);if(!o&&i)throw Stn.error(e.name);n.localeCurrency=o}return n.localeCurrency}(s,!0)),function ytn(s,i){const{value:e,currency:n,currencyDisplay:o=Dce}=i;if("code"===o)return n;const r=function w5e(s,i,e){const o=Qz(s).numbers.currencies;if(!o){if(e)throw mtn.error();return}const r=o[i];if(r)return r;if(e)throw _tn.error()}(s,n,!0);let a;return a=o===Dce?r["symbol-alt-narrow"]||r[Dce]:void 0===typeof e||1!==e?r["displayName-count-other"]:r["displayName-count-one"],a}(s,i)}function T5e(s,i,e,n,o){const r=o.numbers.symbols,a=s.indexOf(r.decimal),l=n.groupSize.slice();let c=l.shift(),u=-1!==a?a:e+1,f=s.substring(i,u),_=s;const g=f.length;if(g>=c){let S=g,b=[];for(;S>-1;){let k=f.substring(S-c,S);k&&b.push(k),S-=c;let D=l.shift();if(c=void 0!==D?D:c,0===c){k=f.substring(0,S),k&&b.push(k);break}}f=b.reverse().join(r.group),_=s.substring(0,i)+f+s.substring(u)}return _}function M5e(s){return s===nj||s===b5e}function Ec(s,i=2,e=!1){const n=i-String(s).length;let o=s;if(n>0){const r=new Array(n+1).join("0");o=e?s+r:r+s}return o}const Rtn=20;function c6(s,i){let e=s,n=i||0;return e=e.toString().split("e"),e=Math.round(+(e[0]+"e"+(e[1]?Number(e[1])+n:n))),e=e.toString().split("e"),e=+(e[0]+"e"+(e[1]?Number(e[1])-n:-n)),e.toFixed(Math.min(n,Rtn))}const Ntn=3,Ltn=0,Gtn=/0+$/;function Btn(s,i,e){const n=e.numbers.symbols,{style:o}=i,r=M5e(o);if(o===E5e)return(void 0!==i.minimumFractionDigits?s.toExponential(i.minimumFractionDigits):s.toExponential()).replace(l6,n.decimal);let l,a=s;r&&(i.value=a,l=O5e(e,i)),o===r6&&(a*=100,l=n.percentSign);const{minimumFractionDigits:c,maximumFractionDigits:u}=function Ptn(s){let{minimumFractionDigits:i,maximumFractionDigits:e,style:n}=s;const o=M5e(n);let r;return o&&(r=function ktn(s){let i=y5e,e=y5e;const n=((Mh.supplemental.currencyData||{}).fractions||{})[s];return n&&n._digits&&(e=i=parseInt(n._digits,10)),{minimumFractionDigits:i,maximumFractionDigits:e}}(s.currency)),void 0===i&&(i=o?r.minimumFractionDigits:0),void 0===e&&(e=n===r6?Math.max(i,Ltn):o?Math.max(i,r.maximumFractionDigits):Math.max(i,Ntn)),{minimumFractionDigits:i,maximumFractionDigits:e}}(i);a=c6(a,u);const f=a<0,_=D5e(s),g=a.split(l6);let S=g[0],b=Ec(g[1]?g[1].replace(Gtn,No):No,c,!0);f&&(S=S.substring(1)),i.minimumIntegerDigits&&(S=Ec(S,i.minimumIntegerDigits));let D,k=!1!==i.useGrouping?T5e(S,0,S.length,i,e):S;if(b&&(k+=n.decimal+b),r&&"name"===i.currencyDisplay)D=function Utn(s,i){const e=s.numbers.currency;let n=1!==i?e["unitPattern-count-other"]:e["unitPattern-count-one"];return i<0&&(n=n.replace(a6,`-${a6}`)),n}(e,s);else{const I=i.patterns;D=f||_?I[1]||"-"+I[0]:I[0]}return D!==a6||f?function Ftn(s,i,e){let n=No;for(let o=0,r=i.length;o<r;o++){let a=i.charAt(o);n+=a===a6?s:a===Ece||a===yce?e:a}return n}(k,D,l):k}const Vtn=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,I5e="__??__",d6="#",u6="0",$tn=/(\.(?:[0-9]*[1-9])?)0+$/g,Xtn=/\.$/,Wtn=/\,/g;function x5e(s,i,e){let n;return n=-1===s&&-1!==i?i:-1!==s&&-1===i?s:e?Math.min(s,i):Math.max(s,i),n}function inn(s,i,e){const n={negative:s<0,number:Math.abs(s),negativeZero:D5e(s),format:i};return function qtn(s){let{number:i,format:e}=s;if(e=e.split(ctn),(s.negative||s.negativeZero)&&e[1])e=e[1],s.hasNegativeFormat=!0;else if(0===i){const n=e[2];e=n||e[0],n&&function Jtn(s){return-1===s.indexOf(d6)&&-1===s.indexOf(u6)}(n)&&(s.constant=n)}else e=e[0];s.format=e}(n),n.constant?n.constant:(function jtn(s){let i=s.format;if(i.indexOf("'")>-1||i.indexOf('"')>-1||i.indexOf("\\")>-1){const e=s.literals=[];s.format=i.replace(Vtn,function(n){const o=n.charAt(0).replace("\\",No),r=n.slice(1).replace(o,No);return e.push(r),I5e})}}(n),function ztn(s,i){const e=s.format;-1!==e.indexOf(yce)&&(s.style=r6,s.symbol=i.numbers.symbols.percentSign,s.number*=100),-1!==e.indexOf(Ece)&&(s.style=nj,s.symbol=O5e(i))}(n,e),function Qtn(s){s.hasGroup=s.format.indexOf(dtn)>-1,s.hasGroup&&(s.format=s.format.replace(Wtn,No))}(n),function Ktn(s){let{number:i,format:e}=s,n=e.indexOf(l6);if(-1!==n){const o=e.lastIndexOf(u6)-n,r=e.lastIndexOf(d6)-n,a=o>-1,l=r>-1;let c=i.toString().split("e");c=c[1]?c6(i,Math.abs(c[1])):c[0],c=c.split(l6)[1]||No;let u=c.length,f=-1;a||l?a&&o>r?u=o:r>o&&(l&&u>r?u=r:a&&u<o&&(u=o),f=a?o:0):(s.format=e.substring(0,n)+e.substring(n+1),n=-1,u=0),u>-1&&(i=c6(i,u),f>-1&&(i=function Ytn(s,i){let e;return e=0===i?$tn:new RegExp(`(\\.[0-9]{${i}}[1-9]*)0+$`,"g"),s.replace(e,"$1").replace(Xtn,No)}(i,f)))}else i=c6(i);s.negative&&-1*i>=0&&!s.negativeZero&&(s.negative=!1),s.number=i,s.decimalIndex=n}(n),function Ztn(s){const i=s.format;let e=i.indexOf(d6),n=i.indexOf(u6),o=x5e(e,n,!0);e=i.lastIndexOf(d6),n=i.lastIndexOf(u6);let r=x5e(e,n);o===i.length&&(r=o),s.start=o,s.end=r,s.lastZeroIndex=n}(n),function nnn(s,i){let e=s.number;return-1!==s.start&&(e=function tnn(s,i){const{start:e,end:n,negative:o,negativeZero:r,format:a,decimalIndex:l,lastZeroIndex:c,hasNegativeFormat:u,hasGroup:f}=s;let _=s.number;const g=_.toString().split(l6),S=a.length,b=g[0],k=g[1]||No,D=b.length;let O=No;_=a.substring(0,e),(o||r)&&!u&&(_+="-");for(let I=e;I<S;I++){let N=a.charAt(I);if(-1===l){if(n-I<D){_+=b;break}}else if(-1!==c&&c<I&&(O=No),l-I<=D&&l-I>-1&&(_+=b,I=l),l===I){_+=(k?i.numbers.symbols.decimal:No)+k,I+=n-l+1;continue}N===u6?(_+=N,O=N):N===d6&&(_+=O)}return f&&(_=T5e(_,e+(o&&!u?1:0),Math.max(n,D+e),i.numbers.decimal,i)),n>=e&&(_+=a.substring(n+1)),_}(s,i),e=function enn(s,i,e){let n=s;if(i===nj||i===r6){n=No;for(let o=0,r=s.length;o<r;o++){let a=s.charAt(o);n+=a===Ece||a===yce?e:a}}return n}(e,s.style,s.symbol),e=function Htn(s,i){let e=s;if(i){const n=i.length;for(let o=0;o<n;o++)e=e.replace(I5e,i[o])}return e}(e,s.literals)),e}(n,e))}const snn=/^(n|c|p|e|a)(\d*)$/i;const unn=/\{(\d+)}/g;function Oce(s){const i=arguments;return s.replace(unn,(e,n)=>i[parseInt(n,10)+1])}const hnn=120,pnn=20,N5e=[2,1,5,3,4],vnn={[(-2).toString()]:8,[(-1).toString()]:6,[2..toString()]:6,[1..toString()]:3},Snn={numeric:1,"2-digit":2,short:3,long:4,narrow:5},Cnn=/[hHmsSzZoOvVxX]/,L5e=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:function bnn(s){return s.hour12?"h":"H"}},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],G5e={e:"c",E:"c",M:"L",Q:"q"},Tce={},XO={};function Mce(s){return Tce[s]||(Tce[s]=new RegExp(s+"+")),Tce[s]}function ij(s){const i=[];let e=s.charAt(0),n=e;for(let o=1;o<s.length;o++){let r=s.charAt(o);r===n?e+=r:(i.push(e),e=n=r)}return i.push(e),i}function Ice(s,i){const e=s.length;let o,r,n=-Number.MAX_VALUE;for(let a in i){const l=[];let c=a.replace("v","z"),u=0;for(let f=0;f<e;f++){const _=s[f];let S=(Mce(_[0]).exec(c)||[])[0];if(S){if(c=c.replace(S,No),S.length!==_.length){let b=Math.max(Math.min(N5e[S.length]-N5e[_.length],2),-2);u-=vnn[b]}}else u-=hnn;if(l.push(S),u<n)break}c.length&&(u-=ij(c).length*pnn),u>n&&(n=u,o=l,r=i[a])}r=r.replace("v","z");for(let a=0;a<e;a++){const l=o[a];if(l&&l!==s[a]){const c=o[a][0];r=r.replace(Mce(c),s[a]),G5e[c]&&(r=r.replace(Mce(G5e[c]),s[a]))}}return r}function P5e(s,i){const e=i.calendar;let n;if(Cce(s))n=e.patterns[s]?e.patterns[s]:s;else if(s){if(s.pattern)return s.pattern;let o=s.skeleton;o||(s.datetime?n=Oce(e.dateTimeFormats[s.datetime],e.timeFormats[s.datetime],e.dateFormats[s.datetime]):s.date?n=e.dateFormats[s.date]:s.time?n=e.timeFormats[s.time]:o=function knn(s){let i=[];for(let e=0;e<L5e.length;e++){let n=L5e[e],r=s[n.key];if(r){let a=n.specifier||n.getSpecifier(s);i.push(a.repeat(Snn[r]))}}return i.join(No)}(s)),o&&(n=function ynn(s,i){const e=i.calendar.dateTimeFormats.availableFormats;if(e[s])return e[s];if(XO[i.name]&&XO[i.name][s])return XO[i.name][s];const n=s.search(Cnn);let o;if(n>0){const r=s.substr(0,n),a=s.substr(n);o=Oce(i.calendar.dateTimeFormats.short,e[a]||Ice(ij(a),e),e[r]||Ice(ij(r),e))}else o=Ice(ij(s),e);return function Enn(s,i,e){XO[e]||(XO[e]={}),XO[e][s]=i}(s,o,i.name),o}(o,i))}return n||(n=e.patterns.d),n}function wnn(s){let i;return s<=3?i="abbreviated":4===s?i="wide":5===s?i="narrow":6===s&&(i="short"),i}function zp(s,i,e,n,o){return function ftn(s,i){const{type:e,nameType:n,standAlone:o,lower:r}=i,a=Qz(s),c=(r?"lower-":No)+n,u=a.calendar[e][o?"stand-alone":"format"];let f=u[c];return!f&&r&&(f=u[c]=function ptn(s){return Array.isArray(s)?function utn(s){const i=[];for(let e=0;e<s.length;e++)i.push(s[e].toLowerCase());return i}(s):function htn(s){const i={};for(let e in s)i[e]=s[e].toLowerCase();return i}(s)}(u[n])),f}(s,{type:i,nameType:wnn(e),standAlone:n,lower:o})}function F5e(s){return"function"==typeof s}function xce(s){return!!s&&F5e(s.getTime)&&F5e(s.getMonth)}const Dnn=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g;function V5e(s,i,e,n){return i<=2?Ec(s+1,i):zp(e,"months",i,n)[s]}function z5e(s,i,e,n){const o=Math.floor(s.getMonth()/3);return i<3?o+1:zp(e,"quarters",i,n)[o]}function rj(s,i,e){const{shortHours:n,optionalMinutes:o,separator:r,localizedName:a,zZeroOffset:l}=e,c=s.getTimezoneOffset()/60;if(0===c&&l)return"Z";const u=c<=0?"+":"-",f=Math.abs(c).toString().split("."),_=f[1]||0;let g=u+(n?f[0]:Ec(f[0],2));return(_||!o)&&(g+=(r?":":No)+Ec(_,2)),a&&(g=Oce(0===c?i.calendar.gmtZeroFormat:i.calendar.gmtFormat,g)),g}function j5e(s,i,e,n){let o;return o=i<3?function Onn(s,i,e){const n=function xtn(s){const i=Qz(s);if(!isNaN(i.firstDay))return i.firstDay;const e=Mh.supplemental.weekData;if(!e)throw Mtn.error();const n=e.firstDay[S5e(i)]||e.firstDay[Ttn];if(!n)throw Itn.error();return i.firstDay=Otn.indexOf(n),i.firstDay}(e);let o;return o=s<n?7-n+s:s-n,o+1}(s.getDay(),0,e):zp(e,"days",i,n)[s.getDay()],o}const er={};function H5e(s,i,e=kce){if(!xce(s))return s??No;const n=Zz(e);return P5e(i,n).replace(Dnn,function(r){let l,a=r.length;return l=r.includes("'")||r.includes('"')?r.slice(1,a-1):er[r[0]](s,a,n),l})}function $5e(s,i,e){const n=s.getTimezoneOffset(),o=new Date(s.getTime()+6e4*(i-e)),r=o.getTimezoneOffset();return new Date(o.getTime()+6e4*(r-n))}er.d=function(s,i){return Ec(s.getDate(),i)},er.E=function(s,i,e){return zp(e,"days",i)[s.getDay()]},er.M=function(s,i,e){return V5e(s.getMonth(),i,e,!1)},er.L=function(s,i,e){return V5e(s.getMonth(),i,e,!0)},er.y=function(s,i){let e=s.getFullYear();return 2===i&&(e%=100),Ec(e,i)},er.h=function(s,i){return Ec(s.getHours()%12||12,i)},er.H=function(s,i){return Ec(s.getHours(),i)},er.k=function(s,i){return Ec(s.getHours()||24,i)},er.K=function(s,i){return Ec(s.getHours()%12,i)},er.m=function(s,i){return Ec(s.getMinutes(),i)},er.s=function(s,i){return Ec(s.getSeconds(),i)},er.S=function(s,i){const e=s.getMilliseconds();let n;return n=0!==e?Ec(String(e/1e3).split(".")[1].substr(0,i),i,!0):Ec(No,i),n},er.a=function(s,i,e){return zp(e,"dayPeriods",i)[s.getHours()<12?"am":"pm"]},er.z=function(s,i,e){return rj(s,e,{shortHours:i<4,optionalMinutes:i<4,separator:!0,localizedName:!0})},er.Z=function(s,i,e){return rj(s,e,{separator:i>3,localizedName:4===i,zZeroOffset:5===i})},er.x=function(s,i,e){return rj(s,e,{optionalMinutes:1===i,separator:3===i||5===i})},er.X=function(s,i,e){return rj(s,e,{optionalMinutes:1===i,separator:3===i||5===i,zZeroOffset:!0})},er.G=function(s,i,e){let n=s.getFullYear()>=0?1:0;return zp(e,"eras",i)[n]},er.e=j5e,er.c=function(s,i,e){return j5e(s,i,e,!0)},er.q=function(s,i,e){return z5e(s,i,e,!0)},er.Q=z5e;const Mnn=/([+|\-]\d{1,2})(:?)(\d{2})?/,Inn=/^\/Date\((.*?)\)\/$/,xnn=/[+-]\d*/,Ann={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},Rnn=/\d+/,Nnn=/^ */,Lnn=/ *$/,Gnn=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],W5e=["G","g","F","Y","y","M","m","D","d","y","T","t"];function Ih(s,i,e){return!(s>=i&&s<=e)}function Ra(s,i){let{format:e,idx:n}=i,o=0;for(;e[n]===s;)o++,n++;return o>0&&(n-=1),i.idx=n,o}function jm(s,i){let e=s?Ann[s]||new RegExp("^\\d{1,"+s+"}"):Rnn,n=i.value.substr(i.valueIdx,s).match(e);return n?(n=n[0],i.valueIdx+=n.length,parseInt(n,10)):null}function dE(s,i,e){let r,a,u,n=0,o=s.length,l=0,c=0;for(;n<o;n++)r=s[n],a=r.length,u=i.value.substr(i.valueIdx,a),e&&(u=u.toLowerCase()),u===r&&a>l&&(l=a,c=n);return l?(i.valueIdx+=l,c+1):null}function Rce(s){let i=!1;return s.value.charAt(s.valueIdx)===s.format[s.idx]&&(s.valueIdx++,i=!0),i}function aj(s,i,e){const{shortHours:n,noSeparator:o,optionalMinutes:r,localizedName:a,zLiteral:l}=e;if(s.UTC=!0,l&&"Z"===s.value.charAt(s.valueIdx))return s.valueIdx++,!1;if(a&&!dE(function Fnn(s){const{gmtFormat:i,gmtZeroFormat:e}=s;if(!i)throw o6.NoGMTInfo.error();return[i.replace("{0}",No).toLowerCase(),e.replace("{0}",No).toLowerCase()]}(i.calendar),s,!0))return!0;const c=Mnn.exec(s.value.substr(s.valueIdx,6));if(!c)return!a;const u=c[1],f=c[3],_=parseInt(u,10),g=c[2];let S=parseInt(f,10);if(isNaN(_)||!n&&3!==u.length||!r&&isNaN(S)||o&&g||(isNaN(S)&&(S=null),Ih(_,-12,13)||S&&Ih(S,0,59)))return!0;s.valueIdx+=c[0].length,s.hoursOffset=_,s.minutesOffset=S}function Y5e(s,i,e){const n=Ra(s,i),o=zp(e,"months",n,"L"===s,!0),r=n<3?jm(2,i):dE(o,i,!0);if(null===r||Ih(r,1,12))return!0;i.month=r-1}function K5e(s,i,e){const n=Ra(s,i),o=zp(e,"days",n,"c"===s,!0);let r=n<3?jm(1,i):dE(o,i,!0);if(!r&&0!==r||Ih(r,1,7))return!0}const pr={};function Bnn(s,i){return`${Nnn.exec(i)[0]}${s}${Lnn.exec(i)[0]}`}function Vnn(s,i,e){let n=P5e(i,e).split(No);const o={format:n,idx:0,value:Bnn(s,i),valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},r=n.length;let a=!1;for(;o.idx<r;o.idx++){let l=n[o.idx];if(a)"'"===l&&(a=!1),Rce(o);else if(pr[l]){if(pr[l](o,e))return null}else if("'"===l)a=!0,Rce(o);else if(!Rce(o))return null}return o.valueIdx<s.length?null:function Unn(s){let{year:i,month:e,day:n,hours:o,minutes:r,seconds:a,milliseconds:l,pmHour:c,UTC:u,hoursOffset:f,minutesOffset:_}=s;const g=null!==o||null!==r||a||null,S=new Date;let b;return null===i&&null===e&&null===n&&g?(i=S.getFullYear(),e=S.getMonth(),n=S.getDate()):(null===i&&(i=S.getFullYear()),null===n&&(n=1)),c&&o<12&&(o+=12),u?(f&&(o+=-f),_&&(r+=-_*(f<0?-1:1)),b=new Date(Date.UTC(i,e,n,o,r,a,l))):(b=new Date(i,e,n,o,r,a,l),function Tnn(s,i){!i&&23===s.getHours()&&s.setHours(s.getHours()+2)}(b,o)),i<100&&b.setFullYear(i),b.getDate()!==n&&void 0===u?null:b}(o)||null}function J5e(s,i,e=kce){if(!s)return null;if(xce(s))return s;let n=String(s).trim(),o=function jnn(s){if(s&&0===s.indexOf("/D")){let i=Inn.exec(s);if(i){i=i[1];let e=xnn.exec(i.substring(1));return i=new Date(parseInt(i,10)),e&&(e=function znn(s){const i="-"===s.substr(0,1)?-1:1;let e=s.substring(1);return e=60*parseInt(e.substr(0,2),10)+parseInt(e.substring(2),10),i*e}(e[0]),i=$5e(i,i.getTimezoneOffset(),0),i=$5e(i,0,-1*e)),i}}}(n);if(o)return o;const r=Zz(e);let a=i||function Hnn(s){const i=[],e=s.patterns,n=W5e.length;for(let o=0;o<n;o++)i.push(e[W5e[o]]);return i.concat(Gnn)}(r.calendar);a=Array.isArray(a)?a:[a];const l=a.length;for(let c=0;c<l;c++)if(o=Vnn(n,a[c],r),o)return o;return o}function Q5e(s,i,e){if(i){if(xce(s))return H5e(s,i,e);if(function Wnn(s){return"number"==typeof s}(s))return function ann(s,i=a6,e=kce){if(null==s)return No;if(!isFinite(s))return String(s);const n=Zz(e),o=function rnn(s){let i;return i=Cce(s)?function onn(s){const i=snn.exec(s);if(i){const e={style:C5e};let n=i[1].toLowerCase();return"c"===n?e.style=nj:"a"===n?e.style=b5e:"p"===n?e.style=r6:"e"===n&&(e.style=E5e),i[2]&&(e.minimumFractionDigits=e.maximumFractionDigits=parseInt(i[2],10)),e}}(s):s,i}(i);let r;return r=o?Btn(s,Object.assign({},n.numbers[o.style||C5e],o),n):inn(s,i,n),r}(s,i,e)}return s??No}pr.d=function(s){Ra("d",s);const i=jm(2,s);if(null===i||Ih(i,1,31))return!0;null===s.day&&(s.day=i)},pr.E=function(s,i){if(null===dE(zp(i,"days",Ra("E",s),!1,!0),s,!0))return!0},pr.M=function(s,i){return Y5e("M",s,i)},pr.L=function(s,i){return Y5e("L",s,i)},pr.y=function(s){const i=Ra("y",s);let e=jm(1===i?void 0:i,s);if(null===e)return!0;if(2===i){const n=(new Date).getFullYear();e=n-n%100+e,e>2029&&(e-=100)}s.year=e},pr.h=function(s){Ra("h",s);let i=jm(2,s);if(12===i&&(i=0),null===i||Ih(i,0,11))return!0;s.hours=i},pr.K=function(s){Ra("K",s);let i=jm(2,s);if(null===i||Ih(i,0,11))return!0;s.hours=i},pr.a=function(s,i){let n=zp(i,"dayPeriods",Ra("a",s),!1,!0);const o=dE([n.pm],s,!0);if(!o&&!dE([n.am],s,!0))return!0;s.pmHour=o},pr.H=function(s){Ra("H",s);const i=jm(2,s);if(null===i||Ih(i,0,23))return!0;s.hours=i},pr.k=function(s){Ra("k",s);let i=jm(2,s);if(null===i||Ih(i,1,24))return!0;s.hours=24===i?0:i},pr.m=function(s){Ra("m",s);const i=jm(2,s);if(null===i||Ih(i,0,59))return!0;s.minutes=i},pr.s=function(s){Ra("s",s);const i=jm(2,s);if(null===i||Ih(i,0,59))return!0;s.seconds=i},pr.S=function(s){const i=Ra("S",s),e=s.value.substr(s.valueIdx,i);let n=null;if(isNaN(parseInt(e,10))||(n=parseFloat("0."+e,10),n=c6(n,3),n*=1e3,s.valueIdx+=i),null===n||Ih(n,0,999))return!0;s.milliseconds=n},pr.z=function(s,i){const n=Ra("z",s)<4,o=aj(s,i,{shortHours:n,optionalMinutes:n,localizedName:!0});if(o)return o},pr.Z=function(s,i){const e=Ra("Z",s),n=aj(s,i,{noSeparator:e<4,zLiteral:5===e,localizedName:4===e});if(n)return n},pr.x=function(s,i){const e=Ra("x",s),n=aj(s,i,{noSeparator:3!==e&&5!==e,optionalMinutes:1===e});if(n)return n},pr.X=function(s,i){const e=Ra("X",s),n=aj(s,i,{noSeparator:3!==e&&5!==e,optionalMinutes:1===e,zLiteral:!0});if(n)return n},pr.G=function(s,i){const n=zp(i,"eras",Ra("G",s),!1,!0);if(null===dE([n[0],n[1]],s,!0))return!0},pr.e=function(s,i){return K5e("e",s,i)},pr.c=function(s,i){return K5e("c",s,i)};const Lce=s=>{if(!s||0===s.length)return"";const i=s[0].timezone,e="Etc/UTC"===i,n=e?"Z":"";return(i&&!e?";TZID="+i:"")+":"+s.map(a=>H5e(a,"yyyyMMddTHHmmss")+n).join(",")+" "},Jnn=(s,i)=>{if(!i)return!1;const{start:e,end:n}=i;return s<e||s>n||0===s&&e<0},qnn=(s,i)=>s-i,ZS=(s,i)=>{const e=[];for(let n=0;n<s.length;n++){const o=parseInt(s[n],10);if(isNaN(o)||Jnn(o,i))return[];e.push(o)}return e.sort(qnn)},Qnn=["yyyyMMddTHHmmssSSSXXX","yyyyMMddTHHmmssXXX","yyyyMMddTHHmmss","yyyyMMddTHHmm","yyyyMMddTHH","yyyyMMdd"];function Z5e(s){return new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()))}const eUe=(s,i)=>{const e=J5e(s)||J5e(s,Qnn);if(!e)return null;const n=i?Z5e(e):e;return Ji.fromUTCDate(n,i||"Etc/UTC")},Znn={SU:Jc.Sunday,MO:Jc.Monday,TU:Jc.Tuesday,WE:Jc.Wednesday,TH:Jc.Thursday,FR:Jc.Friday,SA:Jc.Saturday},tUe=s=>Znn[s],ein=s=>{const i=[];for(let e=0;e<s.length;e++){const n=s[e],o=tUe(n.substring(n.length-2).toUpperCase());if(void 0===o)return[];i.push({offset:parseInt(n.substring(0,n.length-2),10)||0,day:o})}return i},e2=(s,i,e=1)=>{i=(i-s.getUTCDay()+7*e)%7,s.setUTCDate(s.getUTCDate()+i)},uE=(s,i)=>s+(s<i?7:0),Gce=(s,i)=>s-i,WO=(s,i)=>{let n=7-(Z5e(P0(s)).getUTCDay()+7-(i||7))||7;return n<0&&(n+=7),Math.ceil((s.getUTCDate()-n)/7)+1},tin=(s,i)=>{let e=(s=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()))).getUTCFullYear();void 0!==i?(e2(s,i,-1),s.setUTCDate(s.getUTCDate()+4)):s.setUTCDate(s.getUTCDate()+(4-(s.getUTCDay()||7)));let n=Math.floor((s.getTime()-Date.UTC(e,0,1,-6))/864e5);return 1+Math.floor(n/7)},nUe=(s,i,e)=>{let n=i.offset;if(!n)return WO(s,e);const o=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth()+1,0));let r=WO(o,e);const a=uE(i.day,e),l=a<uE(new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),1)).getUTCDay(),e),c=a>uE(o.getUTCDay(),e);return n<0?n=r+(n+1-(c?1:0)):l&&(n+=1),r-=c?1:0,n<(l?1:0)||n>r?null:n},nin=(s,i,e)=>WO(s,e)===nUe(s,i,e),iin=(s,i)=>WO(new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth()+1,0)),i),sin=[0,31,60,91,121,152,182,213,244,274,305,335,366],oin=[0,31,59,90,120,151,181,212,243,273,304,334,365],iUe=s=>(s=s.getUTCFullYear())%4==0&&s%100!=0||s%400==0,rin=s=>{const i=s.getUTCMonth();return(iUe(s)?sin[i]:oin[i])+s.getUTCDate()},ain=[31,28,31,30,31,30,31,31,30,31,30,31],lin=s=>{const i=s.getUTCMonth();return 1===i?1===new Date(Date.UTC(s.getUTCFullYear(),1,29)).getUTCMonth()?29:28:ain[i]},hE=(s,i,e)=>{const n=s.length,o=[];for(let r=0;r<n;r++){let a=s[r];if(e&&(a=e(a)),i===a)return null;i<a&&o.push(a)}return o},din=(s,i,e)=>{const n=e.byMonth,o=hE(n,s.getUTCMonth()+1);let r=!1;return null!==o&&(o.length?s.setUTCMonth(o[0]-1,1):s.setUTCFullYear(s.getUTCFullYear()+1,n[0]-1,1),r=!0),r},uin=(s,i,e)=>{let n,o=!1;function r(a){return a<0&&(a=n+a+1),a}for(;s<=i;){let a=s.getUTCMonth();n=lin(s);let l=hE(e.byMonthDay,s.getUTCDate(),r);if(null===l)return o;if(o=!0,l.length){if(s.setUTCMonth(a,l.sort(Gce)[0]),a===s.getUTCMonth())break}else s.setUTCMonth(a+1,1)}return o},hin=(s,i,e)=>{let n,o=!1;function r(a){return a<0&&(a=n+a),a}for(;s<i;){n=iUe(s)?366:365;let a=hE(e.byYearDay,rin(s),r);if(null===a)return o;if(o=!0,n=s.getUTCFullYear(),a.length){s.setUTCFullYear(n,0,a.sort(Gce)[0]);break}s.setUTCFullYear(n+1,0,1)}return o},pin=(s,i,e)=>{const n=e.weekStart||Jc.Monday;let o=!1;function r(a){return a<0&&(a=53+a),a}for(;s<i;){const a=hE(e.byWeekNumber,tin(s,n),r);if(null===a)return o;o=!0;const l=s.getUTCFullYear();if(a.length){const c=7*a.sort(Gce)[0]-1;s.setUTCFullYear(l,0,c),e2(s,n,-1);break}s.setUTCFullYear(l+1,0,1)}return o},fin=(s,i,e)=>{const n=e.byWeekDay,o=e.weekStart||Jc.Monday;let r=((s,i,e)=>{const n=uE(i.getUTCDay(),e),o=s.length;let r,a,l,c;const u=[];for(let f=0;f<o;f++)if(a=s[f],c=WO(i,e),r=nUe(i,a,e),null!==r)if(c<r)u.push(a);else if(c===r)if(l=uE(a.day,e),n<l)u.push(a);else if(n===l)return null;return u})(n,s,o);if(null===r)return!1;r[0]||(r=n,e2(s,o));const l=r.map(c=>{let u=he(s),f=c.day;if(c.offset)for(;u<=i&&!nin(u,c,o);)WO(u,o)===iin(u,o)?u.setUTCMonth(u.getUTCMonth()+1,1):(u.setUTCDate(u.getUTCDate()+7),e2(u,o,-1));return u.getUTCDay()!==f&&e2(u,f),u}).sort((c,u)=>c.getTime()-u.getTime())[0];return l&&s.setTime(l),!0},min=(s,i,e)=>{let n=e.byHour,o=!1,r=e._startTime;const a=r.getUTCHours();let l=hE(n,a);return null!==l&&(o=!0,s.setUTCHours(a),l.length?(l=l[0],s.setUTCHours(l)):(l=s.getUTCHours(),s.setUTCDate(s.getUTCDate()+1),l=n[0],s.setUTCHours(l)),e.byMinute&&s.setUTCMinutes(0),r.setUTCHours(l,s.getUTCMinutes())),o},_in=(s,i,e)=>{const n=e.byMinute,o=s.getUTCMinutes();let r=hE(n,o),a=e._startTime.getUTCHours(),l=!1;return null!==r&&(l=!0,r.length?r=r[0]:(a+=1,r=n[0]),e.bySecond&&s.setUTCSeconds(0),s.setUTCHours(a,r),a%=24,e._startTime.setUTCHours(a,r,s.getUTCSeconds())),l},gin=(s,i,e)=>{const n=e.bySecond,o=hE(n,s.getUTCSeconds());let r=e._startTime.getUTCHours(),a=s.getUTCMinutes(),l=!1;return null!==o&&(l=!0,o.length?s.setUTCSeconds(o[0]):(a+=1,s.setUTCMinutes(a,n[0]),a>59&&(a%=60,r=(r+1)%24)),e._startTime.setUTCHours(r,a,s.getUTCSeconds())),l},sUe=["byMonth","byWeekNumber","byYearDay","byMonthDay","byWeekDay","byHour","byMinute","bySecond"],oUe=sUe.length,h6=(s,i)=>{let e;return 0!==s&&s<i?e=i-s:(e=s%i,e&&(e=i-e)),e};class pE{next(i,e){const n=e._startTime;let o,r;if(e.bySecond)r=i.getUTCSeconds()+1,i.setUTCSeconds(r),n.setUTCSeconds(r);else{if(!e.byMinute)return!1;o=i.getUTCMinutes()+1,i.setUTCMinutes(o),n.setUTCMinutes(o)}return!0}normalize(i){const e=i.rule;4===i.idx&&e.byHour&&(e._startTime.setUTCHours(0),this._hour(i.date,e))}limit(i,e,n){const o=n.interval||1;let r;for(;i<=e;){let a,l;const c=i.getUTCDate();for(r=0;r<oUe;r++){const u=sUe[r];if(n[u]){if(a=nt[u](i,e,n),void 0!==l&&a)break;l=a}a&&this.normalize({date:i,rule:n,day:c,idx:r})}if((1===o||!this.interval(n,i))&&r===oUe)break}}interval(i,e){const n=i._startPeriod.toUTCDate(),o=e.getUTCHours(),r=i.weekStart,a=i.interval,l=i.freq;let S,b,c=new Date(e),u=!1,f=0,_=0,g=1;return"hourly"===l?(b=i._startTime.getUTCHours(),c=c.getTime(),o!==b&&(c+=(b-o)*Mx),c-=n.getTime(),S=Math.floor(c/Mx),f=h6(S,a),0!==f&&(this._hour(e,i,f),u=!0)):"daily"===l?(((s,i)=>{s.setTime(s.getTime()+i)})(c,-n),S=Math.round(c/eZ),f=h6(S,a),0!==f&&(this._date(e,i,f),u=!0)):"weekly"===l?(f=this.getNumberOfWeeksBetweenDates(n,e),uE(e.getUTCDay(),r)<uE(n.getUTCDay(),r)&&(f+=1),f=h6(f,a),0!==f&&(e2(e,i.weekStart,-1),e.setUTCDate(e.getUTCDate()+7*f),u=!0)):"monthly"===l?(S=e.getUTCFullYear()-n.getUTCFullYear(),S=e.getUTCMonth()-n.getUTCMonth()+12*S,f=h6(S,a),0!==f&&(g=u5e(i)?1:e.getDate(),e.setUTCFullYear(e.getUTCFullYear(),e.getUTCMonth()+f,g),u=!0)):"yearly"===l&&(S=e.getUTCFullYear()-n.getUTCFullYear(),f=h6(S,a),i.byMonth||(_=e.getUTCMonth()),!i.byYearDay&&!i.byMonthDay&&!i.byWeekDay&&(g=e.getUTCDate()),0!==f&&(e.setUTCFullYear(e.getUTCFullYear()+f,_,g),u=!0)),u}_hour(i,e,n){const o=e._startTime;let r=o.getUTCHours();n&&(r+=n),i.setUTCHours(r),r%=24,o.setUTCHours(r)}_date(i,e,n){i.setUTCDate(i.getUTCDate()+n)}getNumberOfWeeksBetweenDates(i,e){const n=(e.getTime()-i.getTime())/6048e5;let o=Math.floor(n);return n-o>.99&&(o=Math.round(n)),o}}class rUe extends pE{next(i,e){return pE.prototype.next.call(this,i,e)||this[e.byHour?"_hour":"_date"](i,e,1),!1}}class aUe extends pE{next(i,e){let n;if(!pE.prototype.next.call(this,i,e))if(e.byHour)this._hour(i,e,1);else if(e.byMonthDay||e.byWeekDay||e.byYearDay||e.byWeekNumber)this._date(i,e,1);else{for(n=i.getUTCDate(),i.setUTCMonth(i.getUTCMonth()+1);i.getUTCDate()!==n;)i.setUTCDate(n);this._hour(i,e)}return!1}normalize(i){const e=i.rule,n=i.date;0!==i.idx||e.byMonthDay||e.byWeekDay?super.normalize(i):n.setUTCDate(i.day)}setup(i,e,n){!i.byMonthDay&&!i.byWeekDay&&n.setUTCDate(e.getUTCDate())}}new class Sin extends pE{next(i,e){return pE.prototype.next.call(this,i,e)||this._hour(i,e,1),!1}normalize(i){const e=i.rule;4===i.idx&&(e._startTime.setUTCHours(0),this._hour(i.date,e))}},new rUe,new class Cin extends rUe{setup(i,e){i.byWeekDay||(i.byWeekDay=[{day:e.getUTCDay(),offset:0}])}},new aUe,new class bin extends aUe{next(i,e){let n;if(!pE.prototype.next.call(this,i,e))if(e.byHour)this._hour(i,e,1);else if(e.byMonthDay||e.byWeekDay||e.byYearDay||e.byWeekNumber)this._date(i,e,1);else if(e.byMonth){for(n=i.getUTCDate(),i.setUTCMonth(i.getUTCMonth()+1);i.getUTCDate()!==n;)i.setUTCDate(n);this._hour(i,e)}else i.setUTCFullYear(i.getUTCFullYear()+1),this._hour(i,e);return!1}setup(){}};const cUe=(s,i)=>s+(s<i?7:0),dUe=s=>{if(!s)return null;const{recurrenceRule:i,weekStart:e=0}=s,n={};let o,r,l,c,u,a=0;if(!i)return null;let f=i.split("\n");for(!f[1]&&(-1!==i.indexOf("DTSTART")||-1!==i.indexOf("DTEND")||-1!==i.indexOf("EXDATE"))&&(f=i.split(" ")),a=0,l=f.length;a<l;a++){let _=(f[a]||"").trim();-1!==_.indexOf("DTSTART")?n.start=p5e(_):-1!==_.indexOf("DTEND")?n.end=p5e(_):-1!==_.indexOf("EXDATE")?n.exceptionDates=h5e(_):-1!==_.indexOf("RRULE")?c=_.substring(6):_.trim()&&(c=_)}for(c=c.split(";"),a=0,l=c.length;a<l;a++)switch(u=c[a],o=u.split("="),r=(o[1]||"").trim().split(","),o[0].trim().toUpperCase()){case"FREQ":n.freq=r[0].toLowerCase();break;case"UNTIL":n.until=eUe(r[0]);break;case"COUNT":n.count=parseInt(r[0],10);break;case"INTERVAL":n.interval=parseInt(r[0],10);break;case"BYSECOND":n.bySecond=ZS(r,{start:0,end:60});break;case"BYMINUTE":n.byMinute=ZS(r,{start:0,end:59});break;case"BYHOUR":n.byHour=ZS(r,{start:0,end:23});break;case"BYMONTHDAY":n.byMonthDay=ZS(r,{start:-31,end:31});break;case"BYYEARDAY":n.byYearDay=ZS(r,{start:-366,end:366});break;case"BYMONTH":n.byMonth=ZS(r,{start:1,end:12});break;case"BYDAY":n.byWeekDay=ein(r);break;case"BYWEEKNO":n.byWeekNumber=ZS(r,{start:-53,end:53});break;case"BYSETPOS":n.bySetPosition=ZS(r,{start:-366,end:366});break;case"WKST":n.weekStart=tUe(r[0])}return void 0===n.freq||void 0!==n.count&&n.until?null:(void 0===n.weekStart&&(n.weekStart=e),n.interval||(n.interval=1),n.bySetPosition&&!u5e(n)&&(n.bySetPosition=[]),(s=>{const{byWeekDay:i,weekStart:e}=s;i&&i.sort((s=>(i,e)=>cUe(i.day,s)-cUe(e.day,s))(e))})(n),n)},uUe={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},xin=["kendoSchedulerLoading",""],Ain=["calendar"],Rin=["kendoSchedulerToolbarNavigation",""];function Nin(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-calendar",8,2),t.nI1(2,"async"),t.bIt("blur",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onBlur())})("keydown.escape",function(){t.eBV(e);const o=t.XpG(),r=t.sdS(6),a=t.sdS(10);return o.toggleSelectedDate({nativeElement:r},a),t.Njj(r.focus())})("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.selectDate(o))}),t.nrm(3,"kendo-calendar-messages",9),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("activeView",e.activeView)("bottomView",e.bottomView)("value",t.bMT(2,6,e.ctx.selectedDate))("min",e.min)("max",e.max),t.R7$(3),t.Y8G("today",e.calendarTodayText)}}const Lin=["kendoSchedulerToolbarViewSelector",""];function Gin(s,i){if(1&s&&(t.j41(0,"option",4),t.EFF(1),t.k0s()),2&s){const e=i.$implicit,n=t.XpG(2);t.Y8G("selected",!0===n.isSelected(e))("value",e.name),t.R7$(),t.SpI(" ",e.title," ")}}function Pin(s,i){if(1&s){const e=t.RV6();t.j41(0,"select",2),t.bIt("change",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onChange(o))}),t.DNE(1,Gin,2,3,"option",3),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("kendoSchedulerFocusIndex",0),t.BMQ("aria-label",e.selectView),t.R7$(),t.Y8G("ngForOf",e.ctx.views)}}function Fin(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",7),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.select(o))}),t.j41(1,"span",8),t.EFF(2),t.k0s()()}if(2&s){const e=i.$implicit,n=t.XpG(2);t.Y8G("selected",n.isSelected(e))("kendoSchedulerFocusIndex",0),t.BMQ("aria-pressed",n.isSelected(e)),t.R7$(2),t.SpI(" ",e.title," ")}}function Uin(s,i){if(1&s&&(t.j41(0,"span",5),t.DNE(1,Fin,3,4,"button",6),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.ctx.views)}}function Bin(s,i){}function Vin(s,i){if(1&s&&t.DNE(0,Bin,0,0,"ng-template",3),2&s){const e=t.XpG();t.Y8G("ngTemplateOutlet",e.template.templateRef)("ngTemplateOutletContext",e.templateContext)}}function zin(s,i){if(1&s&&t.nrm(0,"div",4)(1,"span",5)(2,"div",6),2&s){const e=t.XpG();t.Y8G("min",e.min)("max",e.max)("activeView",e.activeView)("bottomView",e.bottomView),t.R7$(2),t.Y8G("toolbarWidth",e.toolbarWidth)}}const jin=["resourceMultiSelect"];function Hin(s,i){if(1&s&&t.nrm(0,"span",5),2&s){const e=t.XpG().$implicit,n=t.XpG();t.Y8G("ngStyle",n.getResourceStyle(e))}}function $in(s,i){if(1&s&&(t.DNE(0,Hin,1,1,"span",4),t.EFF(1)),2&s){const e=i.$implicit,n=t.XpG();t.Y8G("ngIf",n.resource.colorField),t.R7$(),t.SpI(" ",n.getField(e,n.resource.textField)," ")}}function Xin(s,i){if(1&s&&t.nrm(0,"span",5),2&s){const e=t.XpG().$implicit,n=t.XpG();t.Y8G("ngStyle",n.getTagStyle(e))}}function Win(s,i){if(1&s&&(t.DNE(0,Xin,1,1,"span",4),t.EFF(1)),2&s){const e=i.$implicit,n=t.XpG();t.Y8G("ngIf",n.resource.colorField),t.R7$(),t.SpI(" ",n.getField(e,n.resource.textField)," ")}}const Yin=["resourceDropDown"];function Kin(s,i){if(1&s&&t.nrm(0,"span",4),2&s){const e=t.XpG().$implicit,n=t.XpG();t.Y8G("ngStyle",n.getResourceStyle(e))}}function Jin(s,i){if(1&s&&(t.DNE(0,Kin,1,1,"span",3),t.EFF(1)),2&s){const e=i.$implicit,n=t.XpG();t.Y8G("ngIf",n.resource.colorField),t.R7$(),t.SpI(" ",n.getField(e,n.resource.textField)," ")}}const qin=["datepicker"],Qin=["datetimepicker"];function Zin(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-datepicker",3,0),t.mxI("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.date,o)||(r.date=o),t.Njj(o)}),t.bIt("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onValueChange(o))}),t.nrm(2,"kendo-datepicker-messages",4),t.k0s()}if(2&s){const e=t.XpG();t.R50("value",e.date),t.Y8G("formControl",e.formControl),t.R7$(2),t.Y8G("today",e.textFor("editorDateInputsToday"))("toggle",e.textFor("editorDateInputsToggle"))("parentViewButtonTitle",e.textFor("editorDateInputsParentViewButton"))}}function esn(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-datetimepicker",3,1),t.mxI("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.date,o)||(r.date=o),t.Njj(o)}),t.bIt("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onValueChange(o))}),t.nrm(2,"kendo-datetimepicker-messages",5),t.k0s()}if(2&s){const e=t.XpG();t.R50("value",e.date),t.Y8G("formControl",e.formControl),t.R7$(2),t.Y8G("toggle",e.textFor("editorDateInputsToggle"))("today",e.textFor("editorDateInputsToday"))("accept",e.textFor("editorDateInputsAccept"))("acceptLabel",e.textFor("editorDateInputsAcceptLabel"))("cancelLabel",e.textFor("editorDateInputsCancelLabel"))("cancel",e.textFor("editorDateInputsCancel"))("now",e.textFor("editorDateInputsNow"))("nowLabel",e.textFor("editorDateInputsNowLabel"))("dateTab",e.textFor("editorDateInputsDateTab"))("dateTabLabel",e.textFor("editorDateInputsDateTabLabel"))("timeTab",e.textFor("editorDateInputsTimeTab"))("timeTabLabel",e.textFor("editorDateInputsTimeTabLabel"))("parentViewButtonTitle",e.textFor("editorDateInputsParentViewButton"))}}const tsn=["tzcombobox"],nsn=["tzcomboboxControl"];function isn(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-combobox",4,0),t.bIt("filterChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onTimeZoneFilterChange(o))})("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onTimeZoneChange(o))}),t.k0s()}if(2&s){const e=t.XpG();t.xc7("width",e.width,"px"),t.Y8G("allowCustom",!1)("data",e.tzSource)("filterable",!0)("suggest",!0)("value",e.tz)}}function ssn(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-combobox",5,1),t.bIt("filterChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onTimeZoneFilterChange(o))})("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onTimeZoneChange(o))}),t.k0s()}if(2&s){const e=t.XpG();t.xc7("width",e.width,"px"),t.Y8G("allowCustom",!1)("data",e.tzSource)("filterable",!0)("suggest",!0)("value",e.tz)("formControl",e.formControl)}}function osn(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",5),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.onClick(o))}),t.EFF(1),t.k0s()}if(2&s){const e=i.$implicit,n=t.XpG();t.Y8G("togglable",!0)("selected",e.value===n.selected),t.R7$(),t.JRh(e.text)}}function rsn(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",5),t.bIt("selectedChange",function(o){const r=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.onSelectedChange(o,r.value))}),t.EFF(1),t.k0s()}if(2&s){const e=i.$implicit,n=t.XpG();t.Y8G("toggleable",!0)("selected",n.isSelected(e)),t.R7$(),t.JRh(n.capitalize(e.text))}}function asn(s,i){if(1&s&&t.EFF(0),2&s){const e=t.XpG();t.SpI(" ",e.textFor("monthlyDay")," ")}}function lsn(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-dropdownlist",11),t.bIt("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onMonthChange(o,"monthday"))}),t.k0s()}if(2&s){const e=t.XpG();t.xc7("width",170,"px")("margin","0 .4ex 0 1ex"),t.Y8G("data",e.months)("value",e.currentMonthMonthDay)("valuePrimitive",!0)("disabled",e.isDisabled("monthday"))}}function csn(s,i){if(1&s){const e=t.RV6();t.j41(0,"span"),t.EFF(1),t.k0s(),t.j41(2,"kendo-dropdownlist",11),t.bIt("valueChange",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onMonthChange(o,"weekday"))}),t.k0s()}if(2&s){const e=t.XpG();t.R7$(),t.JRh(e.textFor("yearlyOf")),t.R7$(),t.xc7("margin","0 .4ex 0 1ex"),t.Y8G("data",e.months)("value",e.currentMonthWeekDay)("valuePrimitive",!0)("disabled",e.isDisabled("weekday"))}}function dsn(s,i){if(1&s&&t.nrm(0,"kendo-recurrence-interval-editor",5),2&s){const e=t.XpG();t.Y8G("userNumericOptions",e.repeatEveryOptions)}}function usn(s,i){1&s&&t.nrm(0,"kendo-recurrence-weekday-rule-editor")}function hsn(s,i){if(1&s&&t.nrm(0,"kendo-recurrence-monthly-yearly-editor",5),2&s){const e=t.XpG();t.Y8G("userNumericOptions",e.repeatOnOptions)}}function psn(s,i){if(1&s&&t.nrm(0,"kendo-recurrence-end-rule-editor",6),2&s){const e=t.XpG();t.Y8G("userNumericOptions",e.endAfterOptions)("userDatePickerOptions",e.endOnOptions)}}const fsn=(s,i,e,n,o)=>({$implicit:s,formGroup:i,dataItem:e,editMode:n,isNew:o});function msn(s,i){if(1&s&&(t.j41(0,"kendo-formfield"),t.qex(1),t.j41(2,"span",18),t.nrm(3,"input",19),t.k0s(),t.j41(4,"label",20),t.EFF(5),t.k0s(),t.bVm(),t.k0s()),2&s){const e=t.XpG(3);t.R7$(4),t.Y8G("labelClass",!1),t.R7$(),t.JRh(e.textFor("editorEventTimeZone"))}}function _sn(s,i){if(1&s&&(t.j41(0,"kendo-formfield"),t.nrm(1,"kendo-label",13)(2,"kendo-timezone-editor",21,3),t.k0s()),2&s){const e=t.sdS(3),n=t.XpG(3);t.R7$(),t.Y8G("for",e)("text",n.textFor("editorEventStartTimeZone")),t.R7$(),t.Y8G("width",void 0)("formControl",n.getControl(n.fields.startTimezone))}}function gsn(s,i){if(1&s&&(t.j41(0,"kendo-formfield"),t.qex(1),t.j41(2,"span",18),t.nrm(3,"input",22),t.k0s(),t.j41(4,"label",23),t.EFF(5),t.k0s(),t.bVm(),t.k0s()),2&s){const e=t.XpG(3);t.R7$(4),t.Y8G("labelClass",!1),t.R7$(),t.JRh(e.textFor("editorEventSeparateTimeZones"))}}function vsn(s,i){if(1&s&&(t.j41(0,"kendo-formfield"),t.nrm(1,"kendo-label",13)(2,"kendo-timezone-editor",21,4),t.k0s()),2&s){const e=t.sdS(3),n=t.XpG(3);t.R7$(),t.Y8G("for",e)("text",n.textFor("editorEventEndTimeZone")),t.R7$(),t.Y8G("width",void 0)("formControl",n.getControl(n.fields.endTimezone))}}function Ssn(s,i){if(1&s&&(t.j41(0,"kendo-formfield"),t.qex(1),t.j41(2,"span",18),t.nrm(3,"input",24),t.k0s(),t.j41(4,"label",25),t.EFF(5),t.k0s(),t.bVm(),t.k0s()),2&s){const e=t.XpG(3);t.R7$(3),t.Y8G("formControl",e.getControl(e.fields.isAllDay)),t.R7$(),t.Y8G("labelClass",!1),t.R7$(),t.JRh(e.textFor("editorEventAllDay"))}}function Csn(s,i){if(1&s&&t.nrm(0,"kendo-recurrence-editor",26),2&s){const e=t.XpG(3);t.Y8G("formControl",e.getControl(e.fields.recurrenceRule))("start",e.recurrenceStart)("timezone",e.eventTimezone)("weekStart",e.weekStart)}}function bsn(s,i){if(1&s&&(t.j41(0,"kendo-formfield"),t.nrm(1,"kendo-label",13)(2,"textarea",27,5),t.k0s()),2&s){const e=t.sdS(3),n=t.XpG(3);t.R7$(),t.Y8G("for",e)("text",n.textFor("editorEventDescription")),t.R7$(),t.Y8G("formControl",n.getControl(n.fields.description))}}function Esn(s,i){if(1&s&&t.nrm(0,"kendo-multiple-resource-editor",30),2&s){const e=t.XpG(2).$implicit,n=t.XpG(3);t.Y8G("formControl",n.getControl(e.field))("resource",e)}}function ysn(s,i){if(1&s&&t.nrm(0,"kendo-single-resource-editor",30),2&s){const e=t.XpG(2).$implicit,n=t.XpG(3);t.Y8G("formControl",n.getControl(e.field))("resource",e)}}function ksn(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-formfield")(1,"label",28),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,r=t.XpG(3);return t.Njj(r.onResourceClick(o))}),t.EFF(2),t.k0s(),t.DNE(3,Esn,1,2,"kendo-multiple-resource-editor",29)(4,ysn,1,2,"kendo-single-resource-editor",29),t.k0s()}if(2&s){const e=t.XpG().$implicit;t.R7$(2),t.SpI(" ",e.name?e.name:e.field," "),t.R7$(),t.Y8G("ngIf",e.multiple),t.R7$(),t.Y8G("ngIf",!e.multiple)}}function wsn(s,i){if(1&s&&(t.qex(0),t.DNE(1,ksn,5,3,"kendo-formfield",8),t.bVm()),2&s){const e=i.$implicit,n=t.XpG(3);t.R7$(),t.Y8G("ngIf",n.getFormValue(e.field))}}function Dsn(s,i){if(1&s&&(t.qex(0),t.j41(1,"form",12)(2,"kendo-formfield"),t.nrm(3,"kendo-label",13)(4,"input",14,0),t.k0s(),t.j41(6,"kendo-formfield"),t.nrm(7,"kendo-label",13)(8,"kendo-scheduler-datetime-picker",15,1),t.k0s(),t.DNE(10,msn,6,2,"kendo-formfield",8)(11,_sn,4,4,"kendo-formfield",8),t.j41(12,"kendo-formfield"),t.nrm(13,"kendo-label",13)(14,"kendo-scheduler-datetime-picker",15,2),t.k0s(),t.DNE(16,gsn,6,2,"kendo-formfield",8)(17,vsn,4,4,"kendo-formfield",8)(18,Ssn,6,3,"kendo-formfield",8)(19,Csn,1,4,"kendo-recurrence-editor",16)(20,bsn,4,3,"kendo-formfield",8)(21,wsn,2,1,"ng-container",17),t.k0s(),t.bVm()),2&s){let e,n;const o=t.sdS(5),r=t.sdS(9),a=t.sdS(15),l=t.XpG(2);t.R7$(),t.Y8G("formGroup",l.formGroup),t.R7$(2),t.Y8G("for",o)("text",l.textFor("editorEventTitle")),t.R7$(),t.Y8G("formControl",l.getControl(l.fields.title)),t.R7$(3),t.Y8G("for",r)("text",l.textFor("editorEventStart")),t.R7$(),t.Y8G("formControl",l.getControl(l.fields.start))("isAllDay",null==(e=l.getFormValue(l.fields.isAllDay))?null:e.value),t.R7$(2),t.Y8G("ngIf",l.hasStartTimeZone),t.R7$(),t.Y8G("ngIf",l.isStartTimeZoneVisible),t.R7$(2),t.Y8G("for",a)("text",l.textFor("editorEventEnd")),t.R7$(),t.Y8G("formControl",l.getControl(l.fields.end))("isAllDay",null==(n=l.getFormValue(l.fields.isAllDay))?null:n.value),t.R7$(2),t.Y8G("ngIf",l.isStartTimeZoneVisible&&l.hasEndTimeZone),t.R7$(),t.Y8G("ngIf",l.isEndTimeZoneVisible),t.R7$(),t.Y8G("ngIf",l.hasAllDay),t.R7$(),t.Y8G("ngIf",l.isEditingSeries),t.R7$(),t.Y8G("ngIf",l.getFormValue(l.fields.description)),t.R7$(),t.Y8G("ngForOf",l.resources)}}function Osn(s,i){if(1&s&&(t.qex(0),t.j41(1,"form",31),t.eu8(2,32),t.k0s(),t.bVm()),2&s){const e=t.XpG(2);t.R7$(),t.Y8G("formGroup",e.formGroup),t.R7$(),t.Y8G("ngTemplateOutlet",e.editTemplate.templateRef)("ngTemplateOutletContext",t.s1E(3,fsn,e.formGroup,e.formGroup,e.editedEvent,e.editMode,e.isNew))}}function Tsn(s,i){if(1&s){const e=t.RV6();t.j41(0,"kendo-dialog",7),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onClose())}),t.DNE(1,Dsn,22,20,"ng-container",8)(2,Osn,3,9,"ng-container",8),t.j41(3,"kendo-dialog-actions",9)(4,"button",10),t.bIt("click",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onSave(o))}),t.EFF(5),t.k0s(),t.j41(6,"button",11),t.bIt("click",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onCancel(o))}),t.EFF(7),t.k0s()()()}if(2&s){const e=t.XpG();t.FS9("title",e.textFor("editorTitle")),t.Y8G("minWidth",400)("autoFocusedElement",e.autoFocusedElement),t.R7$(),t.Y8G("ngIf",!e.editTemplate),t.R7$(),t.Y8G("ngIf",e.editTemplate),t.R7$(2),t.Y8G("svgIcon",e.saveIcon)("disabled",!e.formGroup.valid),t.R7$(),t.JRh(e.textFor("save")),t.R7$(),t.Y8G("svgIcon",e.cancelIcon),t.R7$(),t.JRh(e.textFor("cancel"))}}const Msn=["confirmationDialogContainer"];function Isn(s,i){1&s&&t.eu8(0)}function xsn(s,i){1&s&&t.nrm(0,"div",8)}const Uce=["content"],fE=s=>({date:s}),Bce=(s,i,e)=>({$implicit:s,event:i,resources:e}),hUe=["headerWrap"],ton=["monthViewItem",""];function non(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",7),2&s){const e=t.XpG();t.Y8G("name",e.arrowIcons[0])("svgIcon",e.arrowSVGIcons[0])}}function ion(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",8),2&s){const e=t.XpG();t.Y8G("svgIcon",e.arrowRotateCwIcon)}}function son(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",9),2&s){const e=t.XpG();t.Y8G("svgIcon",e.arrowsNoRepeatIcon)}}function oon(s,i){if(1&s&&t.eu8(0,10),2&s){const e=t.XpG();t.Y8G("ngTemplateOutlet",e.eventTemplate)("ngTemplateOutletContext",t.sMw(2,Bce,e.item.event,e.item.event,e.resources))}}function ron(s,i){if(1&s&&(t.j41(0,"div")(1,"div",11),t.EFF(2),t.k0s()()),2&s){const e=t.XpG();t.BMQ("title",e.eventTitle),t.R7$(2),t.JRh(e.item.event.title)}}function aon(s,i){if(1&s&&(t.j41(0,"span",12),t.nrm(1,"kendo-icon-wrapper",13),t.k0s()),2&s){const e=t.XpG();t.BMQ("title",e.deleteMessage),t.R7$(),t.Y8G("svgIcon",e.xIcon)}}function lon(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",7),2&s){const e=t.XpG();t.Y8G("name",e.arrowIcons[1])("svgIcon",e.arrowSVGIcons[1])}}function con(s,i){1&s&&(t.qex(0),t.nrm(1,"span",14)(2,"span",15),t.bVm())}const don=["header"],uon=["contentTable"],hon=["times"],pon=["timesHeader"],fon=["timesTable"],mon=["hintContainer"],_on=["monthSlot",""],p6=(s,i)=>({date:s,resources:i});function gon(s,i){if(1&s&&(t.j41(0,"span",3),t.EFF(1),t.nI1(2,"kendoDate"),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.SpI(" ",t.i5U(2,1,e.day,e.isFirstDayOfMonth(e.day)?"MMM dd":"dd")," ")}}function von(s,i){if(1&s&&t.eu8(0,4),2&s){const e=t.XpG();t.Y8G("ngTemplateOutlet",e.monthDaySlotTemplateRef)("ngTemplateOutletContext",t.l_i(2,p6,e.day,e.resourcesByIndex))}}function Son(s,i){if(1&s&&(t.j41(0,"div",5),t.nrm(1,"kendo-icon-wrapper",6),t.k0s()),2&s){const e=t.XpG();t.Aen(e.style),t.R7$(),t.Y8G("svgIcon",e.moreHorizontalIcon)}}const Con=["kendoResizeHint",""];function bon(s,i){if(1&s&&(t.j41(0,"div",4),t.EFF(1),t.nI1(2,"kendoDate"),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.JRh(t.i5U(2,1,e.start,e.format))}}function Eon(s,i){if(1&s&&(t.j41(0,"div",5),t.EFF(1),t.nI1(2,"kendoDate"),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.JRh(t.i5U(2,1,e.end,e.format))}}const YO=s=>({resource:s}),yon=s=>({"k-last-resource":s}),Vce=(s,i,e)=>({start:s,end:i,isAllDay:!0,resources:e}),zce=(s,i,e)=>({resourceIndex:s,rangeIndex:i,index:e});function kon(s,i){1&s&&(t.j41(0,"div",18,5)(2,"table",13)(3,"tr"),t.nrm(4,"th"),t.k0s()()())}function won(s,i){if(1&s&&(t.qex(0),t.EFF(1),t.bVm()),2&s){const e=t.XpG().$implicit,n=t.XpG().$implicit,o=t.XpG();t.R7$(),t.JRh(o.getField(e,n.textField))}}function Don(s,i){if(1&s&&t.eu8(0,23),2&s){const e=t.XpG().$implicit,n=t.XpG(2);t.Y8G("ngTemplateOutlet",n.groupHeaderTemplateRef)("ngTemplateOutletContext",t.eq3(2,YO,e))}}function Oon(s,i){if(1&s&&(t.j41(0,"th",20),t.DNE(1,won,2,1,"ng-container",21)(2,Don,1,4,"ng-container",22),t.k0s()),2&s){const e=t.XpG().index,n=t.XpG();t.BMQ("colspan",n.horizontalColspan(e)),t.R7$(),t.Y8G("ngIf",!n.groupHeaderTemplateRef),t.R7$(),t.Y8G("ngIf",n.groupHeaderTemplateRef)}}function Ton(s,i){if(1&s&&(t.j41(0,"tr"),t.DNE(1,Oon,3,3,"th",19),t.nI1(2,"resourceIterator"),t.k0s()),2&s){const e=i.index,n=t.XpG();t.R7$(),t.Y8G("ngForOf",t.i5U(2,2,n.horizontalResources,e))("ngForTrackBy",n.itemIndex)}}function Mon(s,i){if(1&s&&(t.j41(0,"th"),t.EFF(1),t.nI1(2,"kendoDate"),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,e,"EEEE")," ")}}function Ion(s,i){if(1&s&&(t.qex(0),t.DNE(1,Mon,3,4,"th",14),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.weeks[0])("ngForTrackBy",e.itemIndex)}}function xon(s,i){if(1&s&&(t.qex(0),t.EFF(1),t.bVm()),2&s){const e=t.XpG(2),n=e.$implicit,o=e.index,r=t.XpG().index,a=t.XpG(2);t.R7$(),t.JRh(a.getField(a.verticalItem(r,o),n.textField))}}function Aon(s,i){if(1&s&&t.eu8(0,23),2&s){const e=t.XpG(2).index,n=t.XpG().index,o=t.XpG(2);t.Y8G("ngTemplateOutlet",o.groupHeaderTemplateRef)("ngTemplateOutletContext",t.eq3(2,YO,o.verticalItem(n,e)))}}function Ron(s,i){if(1&s&&(t.j41(0,"th",27),t.DNE(1,xon,2,1,"ng-container",21)(2,Aon,1,4,"ng-container",22),t.k0s()),2&s){const e=t.XpG().index,n=t.XpG(3);t.Y8G("ngClass",t.eq3(4,yon,e===n.verticalResources.length-1)),t.BMQ("rowspan",n.verticalRowspan(e)),t.R7$(),t.Y8G("ngIf",!n.groupHeaderTemplateRef),t.R7$(),t.Y8G("ngIf",n.groupHeaderTemplateRef)}}function Non(s,i){if(1&s&&(t.qex(0),t.DNE(1,Ron,3,6,"th",26),t.bVm()),2&s){const e=i.index,n=t.XpG().index,o=t.XpG(2);t.R7$(),t.Y8G("ngIf",o.verticalItem(n,e))}}function Lon(s,i){1&s&&(t.j41(0,"tr"),t.nrm(1,"th",25),t.k0s())}function Gon(s,i){if(1&s&&(t.qex(0),t.j41(1,"tr"),t.DNE(2,Non,2,1,"ng-container",14),t.nrm(3,"th",25),t.k0s(),t.DNE(4,Lon,2,0,"tr",14),t.nI1(5,"repeat"),t.bVm()),2&s){const e=t.XpG(2);t.R7$(2),t.Y8G("ngForOf",e.verticalResources)("ngForTrackBy",e.itemIndex),t.R7$(2),t.Y8G("ngForOf",t.bMT(5,4,e.numberOfWeeks-1))("ngForTrackBy",e.itemIndex)}}function Pon(s,i){if(1&s&&(t.j41(0,"div",24,6)(2,"table",13,7),t.DNE(4,Gon,6,6,"ng-container",14),t.nI1(5,"resourceIterator"),t.k0s()()),2&s){const e=t.XpG();t.R7$(4),t.Y8G("ngForOf",t.bMT(5,2,e.verticalResources))("ngForTrackBy",e.itemIndex)}}function Fon(s,i){if(1&s&&t.nrm(0,"td",29),2&s){const e=i.$implicit,n=i.index,o=t.XpG().index,r=t.XpG().index,a=t.XpG().index,l=t.XpG();t.AVh("k-selected",l.isSlotSelected(t.sMw(8,Vce,l.toPlainDate(e),l.addDay(l.toPlainDate(e)),l.resourcesByIndex(l.verticalResources.length?a:o)))),t.Y8G("monthSlot",e)("monthDaySlotTemplateRef",l.monthDaySlotTemplateRef)("resourcesByIndex",l.resourcesByIndex(l.verticalResources.length?a:o))("ngClass",l.daySlotClass(e,l.verticalResources.length?a:o))("id",t.sMw(12,zce,l.verticalResources.length?a:o,r,n))("title",l.cellTitle(e))}}function Uon(s,i){if(1&s&&(t.qex(0),t.DNE(1,Fon,1,16,"td",28),t.bVm()),2&s){const e=t.XpG().$implicit,n=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e)("ngForTrackBy",n.itemIndex)}}function Bon(s,i){if(1&s&&(t.j41(0,"tr"),t.DNE(1,Uon,2,2,"ng-container",14),t.nI1(2,"resourceIterator"),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",t.bMT(2,2,e.horizontalResources))("ngForTrackBy",e.itemIndex)}}function Von(s,i){if(1&s&&(t.qex(0),t.DNE(1,Bon,3,4,"tr",14),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.weeks)("ngForTrackBy",e.itemIndex)}}function zon(s,i){if(1&s&&t.nrm(0,"div",31),2&s){const e=i.$implicit,n=t.XpG().$implicit,o=t.XpG();t.Y8G("ngClass",o.getEventClasses(n,e.resources))("ngStyle",o.getEventStyles(n,e))("kendoSchedulerFocusIndex",e.leafIdx)("id",n.elementId+"_"+e.leafIdx)("editable",o.editable)("item",n)("index",n.index)("rangeIndex",n.rangeIndex)("eventTemplate",o.eventTemplateRef)("resources",e.resources)("resourceIndex",e.leafIdx)}}function jon(s,i){if(1&s&&(t.qex(0),t.DNE(1,zon,1,11,"div",30),t.bVm()),2&s){const e=i.$implicit,n=t.XpG();t.R7$(),t.Y8G("ngForOf",e.resources)("ngForTrackBy",n.itemIndex)}}function Hon(s,i){if(1&s&&t.nrm(0,"div",34),2&s){const e=i.$implicit,n=t.XpG(2);t.Y8G("ngStyle",e.style)("ngClass",e.class)("dragHint",!0)("eventTemplate",n.eventTemplateRef)("item",e.item)("resources",e.resources)}}function $on(s,i){if(1&s&&t.nrm(0,"div",35),2&s){const e=i.$implicit,n=t.XpG(2);t.Y8G("hint",e)("ngClass",e.class)("format",n.resizeHintFormat)}}function Xon(s,i){if(1&s&&t.DNE(0,Hon,1,6,"div",32)(1,$on,1,3,"div",33),2&s){const e=t.XpG();t.Y8G("ngForOf",e.dragHints)("ngForTrackBy",e.itemIndex),t.R7$(),t.Y8G("ngForOf",e.resizeHints)("ngForTrackBy",e.itemIndex)}}function Won(s,i){if(1&s&&t.nrm(0,"month-view",1),2&s){const e=t.XpG();t.Y8G("eventHeight",e.viewEventHeight)("eventTemplate",null==e.eventTemplate?null:e.eventTemplate.templateRef)("slotClass",e.viewSlotClass)("eventClass",e.viewEventClass)("eventStyles",e.viewEventStyles)("groupHeaderTemplate",null==e.groupHeaderTemplate?null:e.groupHeaderTemplate.templateRef)("monthDaySlotTemplate",null==e.monthDaySlotTemplate?null:e.monthDaySlotTemplate.templateRef)("selectedDateFormat",e.selectedDateFormat)("selectedShortDateFormat",e.selectedShortDateFormat)("highlightOngoingEvents",e.viewHighlightOngoingEvents)("weekStart",e.viewWeekStart)("dateRangeFn",e.dateRange)("newRange",e.newRange)}}const Yon=["viewFooter",""];function Kon(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",2),t.bIt("click",function(o){const r=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.onItemClick(o,r))}),t.j41(1,"span",3),t.EFF(2),t.k0s()()}if(2&s){const e=i.$implicit;t.Y8G("icon",e.fontIcon)("svgIcon",e.svgIcon)("ngClass",e.cssClass)("kendoSchedulerFocusIndex",0),t.R7$(2),t.JRh(e.text)}}const Jon=["dayTimeViewItem",""];function qon(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",9),2&s){const e=t.XpG();t.Y8G("name",e.arrowIcons[0])("svgIcon",e.arrowSVGIcons[0])}}function Qon(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",10),2&s){const e=t.XpG();t.Y8G("svgIcon",e.arrowRotateCwIcon)}}function Zon(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",11),2&s){const e=t.XpG();t.Y8G("svgIcon",e.arrowsNoRepeatIcon)}}function ern(s,i){if(1&s&&t.eu8(0,12),2&s){const e=t.XpG();t.Y8G("ngTemplateOutlet",e.eventTemplate)("ngTemplateOutletContext",t.sMw(2,Bce,e.item.event,e.item.event,e.resources))}}function trn(s,i){if(1&s&&(t.j41(0,"div",15),t.EFF(1),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.JRh(e.eventTime)}}function nrn(s,i){if(1&s&&(t.j41(0,"div"),t.DNE(1,trn,2,1,"div",13),t.j41(2,"div",14),t.EFF(3),t.k0s()()),2&s){const e=t.XpG();t.BMQ("title",e.eventTitle),t.R7$(),t.Y8G("ngIf",!e.isAllDay),t.R7$(2),t.JRh(e.item.event.title)}}function irn(s,i){if(1&s&&(t.j41(0,"span",16),t.nrm(1,"kendo-icon-wrapper",17),t.k0s()),2&s){const e=t.XpG();t.BMQ("title",e.deleteMessage),t.R7$(),t.Y8G("svgIcon",e.xIcon)}}function srn(s,i){if(1&s&&t.nrm(0,"kendo-icon-wrapper",9),2&s){const e=t.XpG();t.Y8G("name",e.arrowIcons[1])("svgIcon",e.arrowSVGIcons[1])}}function orn(s,i){if(1&s&&(t.j41(0,"span",18),t.nrm(1,"kendo-icon-wrapper",19),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("svgIcon",e.caretAltUpIcon)}}function rrn(s,i){if(1&s&&(t.j41(0,"span",20),t.nrm(1,"kendo-icon-wrapper",21),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("svgIcon",e.caretAltDownIcon)}}function arn(s,i){1&s&&t.nrm(0,"span",24)}function lrn(s,i){1&s&&t.nrm(0,"span",25)}function crn(s,i){if(1&s&&(t.qex(0),t.DNE(1,arn,1,0,"span",22)(2,lrn,1,0,"span",23),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngIf",!e.item.tail),t.R7$(),t.Y8G("ngIf",!e.item.head)}}function drn(s,i){1&s&&(t.qex(0),t.nrm(1,"span",26)(2,"span",27),t.bVm())}const urn=["currentTimeMarker"],hrn=["currentTimeArrow"],prn=["headerHintContainer"],frn=["allDayCell"],pUe=(s,i)=>({resourceIndex:s,rangeIndex:0,index:i}),fUe=s=>({"k-slot-cell":s}),mUe=(s,i,e)=>({start:s,end:i,isAllDay:!1,resources:e});function mrn(s,i){1&s&&(t.j41(0,"tr"),t.nrm(1,"th"),t.k0s())}function _rn(s,i){if(1&s&&(t.j41(0,"tr")(1,"th",24,8),t.EFF(3),t.k0s()()),2&s){const e=t.XpG();t.R7$(3),t.JRh(e.allDayMessage)}}function grn(s,i){if(1&s&&(t.qex(0),t.EFF(1),t.bVm()),2&s){const e=t.XpG().$implicit,n=t.XpG().$implicit,o=t.XpG();t.R7$(),t.JRh(o.getField(e,n.textField))}}function vrn(s,i){if(1&s&&t.eu8(0,28),2&s){const e=t.XpG().$implicit,n=t.XpG(2);t.Y8G("ngTemplateOutlet",n.groupHeaderTemplateRef)("ngTemplateOutletContext",t.eq3(2,YO,e))}}function Srn(s,i){if(1&s&&(t.j41(0,"th",26),t.DNE(1,grn,2,1,"ng-container",18)(2,vrn,1,4,"ng-container",27),t.k0s()),2&s){const e=t.XpG().index,n=t.XpG();t.BMQ("colspan",n.horizontalColspan(e)),t.R7$(),t.Y8G("ngIf",!n.groupHeaderTemplateRef),t.R7$(),t.Y8G("ngIf",n.groupHeaderTemplateRef)}}function Crn(s,i){if(1&s&&(t.j41(0,"tr"),t.DNE(1,Srn,3,3,"th",25),t.nI1(2,"resourceIterator"),t.k0s()),2&s){const e=i.index,n=t.XpG();t.R7$(),t.Y8G("ngForOf",t.i5U(2,2,n.horizontalResources,e))("ngForTrackBy",n.itemIndex)}}function brn(s,i){if(1&s&&(t.j41(0,"span",30),t.EFF(1),t.nI1(2,"kendoDate"),t.k0s()),2&s){const e=t.XpG(),n=e.$implicit,o=e.index,r=t.XpG(2);t.BMQ("data-dayslot-index",o),t.R7$(),t.JRh(t.i5U(2,2,n.start,r.dateFormat))}}function Ern(s,i){if(1&s&&t.eu8(0,28),2&s){const e=t.XpG().$implicit,n=t.XpG(2);t.Y8G("ngTemplateOutlet",n.dateHeaderTemplateRef)("ngTemplateOutletContext",t.eq3(2,fE,e.start))}}function yrn(s,i){if(1&s&&(t.j41(0,"th"),t.DNE(1,brn,3,5,"span",29)(2,Ern,1,4,"ng-container",27),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.Y8G("ngIf",!e.dateHeaderTemplateRef),t.R7$(),t.Y8G("ngIf",e.dateHeaderTemplateRef)}}function krn(s,i){if(1&s&&(t.qex(0),t.DNE(1,yrn,3,2,"th",17),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.daySlots)("ngForTrackBy",e.itemIndex)}}function wrn(s,i){if(1&s&&t.eu8(0,28),2&s){const e=t.XpG().$implicit,n=t.XpG().index,o=t.XpG(2);t.Y8G("ngTemplateOutlet",o.allDaySlotTemplateRef)("ngTemplateOutletContext",t.l_i(2,p6,e.start,o.resourcesByIndex(n)))}}function Drn(s,i){if(1&s&&(t.j41(0,"td",33),t.DNE(1,wrn,1,5,"ng-container",27),t.k0s()),2&s){const e=i.$implicit,n=i.index,o=t.XpG().index,r=t.XpG(2);t.AVh("k-selected",r.isSlotSelected(t.sMw(7,Vce,r.toPlainDate(e.start),r.toPlainDate(e.end),r.resourcesByIndex(o)))),t.Y8G("start",e.start)("end",e.end)("id",t.l_i(11,pUe,o,n))("ngClass",r.allDaySlotClass(e,o)),t.R7$(),t.Y8G("ngIf",r.allDaySlotTemplateRef)}}function Orn(s,i){if(1&s&&(t.qex(0),t.DNE(1,Drn,2,14,"td",32),t.bVm()),2&s){const e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.daySlots)("ngForTrackBy",e.itemIndex)}}function Trn(s,i){if(1&s&&t.nrm(0,"div",35),2&s){const e=i.$implicit,n=t.XpG().$implicit,o=t.XpG(2);t.Y8G("ngClass",o.getEventClasses(n,e.resources,!0))("ngStyle",o.getEventStyles(n,e,!0))("kendoSchedulerFocusIndex",e.leafIdx)("id",n.elementId+"_"+e.leafIdx)("isAllDay",!0)("editable",o.editable)("eventTemplate",o.allDayEventTemplateRef)("item",n)("index",n.index)("rangeIndex",n.rangeIndex)("resources",e.resources)("resourceIndex",e.leafIdx)}}function Mrn(s,i){if(1&s&&(t.qex(0),t.DNE(1,Trn,1,12,"div",34),t.bVm()),2&s){const e=i.$implicit,n=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.resources)("ngForTrackBy",n.itemIndex)}}function Irn(s,i){if(1&s&&t.nrm(0,"div",38),2&s){const e=t.XpG(3);t.Y8G("isAllDay",!0)("ngStyle",e.dragHints[0].style)("ngClass",e.dragHints[0].class)("dragHint",!0)("eventTemplate",e.eventTemplateRef)("item",e.dragHints[0].item)("resources",e.dragHints[0].resources)}}function xrn(s,i){if(1&s&&t.nrm(0,"div",39),2&s){const e=t.XpG(3);t.Y8G("hint",e.resizeHints[0])("ngClass",e.resizeHints[0].class)("format",e.allDayResizeHintFormat)}}function Arn(s,i){if(1&s&&t.DNE(0,Irn,1,7,"div",36)(1,xrn,1,3,"div",37),2&s){const e=t.XpG(2);t.Y8G("ngIf",e.dragHints.length&&e.allDayDragHint),t.R7$(),t.Y8G("ngIf",e.resizeHints.length&&e.allDayResizeHint)}}function Rrn(s,i){if(1&s&&(t.j41(0,"div")(1,"table",31)(2,"tr"),t.DNE(3,Orn,2,2,"ng-container",17),t.nI1(4,"resourceIterator"),t.k0s()(),t.DNE(5,Mrn,2,2,"ng-container",17),t.nI1(6,"async"),t.j41(7,"kendo-hint-container",null,9),t.DNE(9,Arn,2,2,"ng-template"),t.k0s()()),2&s){const e=t.XpG();t.xc7("position","relative"),t.R7$(3),t.Y8G("ngForOf",t.bMT(4,6,e.horizontalResources))("ngForTrackBy",e.itemIndex),t.R7$(2),t.Y8G("ngForOf",t.bMT(6,8,e.allDayItems))("ngForTrackBy",e.itemIndex)}}function Nrn(s,i){1&s&&t.nrm(0,"div",41,10)}function Lrn(s,i){if(1&s&&(t.qex(0),t.DNE(1,Nrn,2,0,"div",40),t.nI1(2,"resourceIterator"),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",t.bMT(2,2,e.verticalResources))("ngForTrackBy",e.itemIndex)}}function Grn(s,i){if(1&s&&(t.qex(0),t.EFF(1),t.bVm()),2&s){const e=t.XpG(2),n=e.$implicit,o=e.index,r=t.XpG(2).index,a=t.XpG();t.R7$(),t.JRh(a.getField(a.verticalItem(r,o),n.textField))}}function Prn(s,i){if(1&s&&t.eu8(0,28),2&s){const e=t.XpG(2).index,n=t.XpG(2).index,o=t.XpG();t.Y8G("ngTemplateOutlet",o.groupHeaderTemplateRef)("ngTemplateOutletContext",t.eq3(2,YO,o.verticalItem(n,e)))}}function Frn(s,i){if(1&s&&(t.j41(0,"th",26),t.DNE(1,Grn,2,1,"ng-container",18)(2,Prn,1,4,"ng-container",27),t.k0s()),2&s){const e=t.XpG().index,n=t.XpG(3);t.BMQ("rowspan",n.verticalRowspan(e)),t.R7$(),t.Y8G("ngIf",!n.groupHeaderTemplateRef),t.R7$(),t.Y8G("ngIf",n.groupHeaderTemplateRef)}}function Urn(s,i){if(1&s&&(t.qex(0),t.DNE(1,Frn,3,3,"th",43),t.bVm()),2&s){const e=i.index,n=t.XpG(2).index,o=t.XpG();t.R7$(),t.Y8G("ngIf",o.verticalItem(n,e))}}function Brn(s,i){if(1&s&&(t.j41(0,"th",24,8),t.EFF(2),t.k0s()),2&s){const e=t.XpG(3);t.R7$(2),t.JRh(e.allDayMessage)}}function Vrn(s,i){if(1&s&&(t.j41(0,"tr"),t.DNE(1,Urn,2,1,"ng-container",17)(2,Brn,3,1,"th",42),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.verticalResources)("ngForTrackBy",e.itemIndex),t.R7$(),t.Y8G("ngIf",e.allDaySlot)}}function zrn(s,i){if(1&s&&(t.qex(0),t.EFF(1),t.nI1(2,"kendoDate"),t.bVm()),2&s){const e=t.XpG(2).$implicit;t.R7$(),t.JRh(t.i5U(2,1,e.start,"t"))}}function jrn(s,i){if(1&s&&t.eu8(0,28),2&s){const e=t.XpG(2).$implicit,n=t.XpG(2);t.Y8G("ngTemplateOutlet",n.majorTimeHeaderTemplateRef)("ngTemplateOutletContext",t.eq3(2,fE,e.start))}}function Hrn(s,i){if(1&s&&(t.j41(0,"th",45),t.DNE(1,zrn,3,4,"ng-container",18)(2,jrn,1,4,"ng-container",27),t.k0s()),2&s){const e=t.XpG(3);t.Y8G("ngClass",t.eq3(3,fUe,1===e.slotDivisions)),t.R7$(),t.Y8G("ngIf",!e.majorTimeHeaderTemplateRef),t.R7$(),t.Y8G("ngIf",e.majorTimeHeaderTemplateRef)}}function $rn(s,i){if(1&s&&t.eu8(0,28),2&s){const e=t.XpG(2).$implicit,n=t.XpG(2);t.Y8G("ngTemplateOutlet",n.minorTimeHeaderTemplateRef)("ngTemplateOutletContext",t.eq3(2,fE,e.start))}}function Xrn(s,i){if(1&s&&(t.j41(0,"th",45),t.DNE(1,$rn,1,4,"ng-container",27),t.k0s()),2&s){const e=t.XpG().index,n=t.XpG(2);t.Y8G("ngClass",t.eq3(2,fUe,e%n.slotDivisions==n.slotDivisions-1)),t.R7$(),t.Y8G("ngIf",n.minorTimeHeaderTemplateRef)}}function Wrn(s,i){if(1&s&&(t.j41(0,"tr"),t.DNE(1,Hrn,3,5,"th",44)(2,Xrn,2,4,"th",44),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.Y8G("ngIf",e.isMajor),t.R7$(),t.Y8G("ngIf",!e.isMajor)}}function Yrn(s,i){if(1&s&&(t.qex(0),t.DNE(1,Vrn,3,3,"tr",18)(2,Wrn,3,2,"tr",17),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.verticalResources.length),t.R7$(),t.Y8G("ngForOf",e.timeSlots)("ngForTrackBy",e.itemIndex)}}function Krn(s,i){1&s&&t.nrm(0,"div",47,11)}function Jrn(s,i){if(1&s&&(t.qex(0),t.DNE(1,Krn,2,0,"div",46),t.nI1(2,"resourceIterator"),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",t.bMT(2,2,e.verticalResources))("ngForTrackBy",e.itemIndex)}}function qrn(s,i){if(1&s&&t.eu8(0,28),2&s){const e=t.XpG().$implicit,n=t.XpG(2).index,o=t.XpG();t.Y8G("ngTemplateOutlet",o.allDaySlotTemplateRef)("ngTemplateOutletContext",t.l_i(2,p6,e.start,o.resourcesByIndex(n)))}}function Qrn(s,i){if(1&s&&(t.j41(0,"td",52),t.DNE(1,qrn,1,5,"ng-container",27),t.k0s()),2&s){const e=i.$implicit,n=i.index,o=t.XpG(2).index,r=t.XpG();t.AVh("k-selected",r.isSlotSelected(t.sMw(6,Vce,r.toPlainDate(e.start),r.toPlainDate(e.end),r.resourcesByIndex(o)))),t.Y8G("start",e.start)("end",e.end)("id",t.l_i(10,pUe,o,n)),t.R7$(),t.Y8G("ngIf",r.allDaySlotTemplateRef)}}function Zrn(s,i){if(1&s&&(t.j41(0,"tr",50),t.DNE(1,Qrn,2,13,"td",51),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.daySlots)("ngForTrackBy",e.itemIndex)}}function ean(s,i){if(1&s&&t.eu8(0,28),2&s){t.XpG();const e=t.sdS(1),n=t.XpG(4);t.Y8G("ngTemplateOutlet",n.timeSlotTemplateRef)("ngTemplateOutletContext",t.l_i(2,p6,e.startLocalTime,n.resourcesByIndex(e.id.resourceIndex)))}}function tan(s,i){if(1&s&&(t.j41(0,"td",54,12),t.DNE(2,ean,1,5,"ng-container",27),t.k0s()),2&s){const e=i.$implicit,n=i.index,o=t.XpG().index,r=t.XpG(),a=r.$implicit,l=r.index,c=t.XpG().index,u=t.XpG();t.AVh("k-selected",u.isSlotSelected(t.sMw(12,mUe,u.toPlainDateTime(e.start,a.start),u.toPlainDateTime(e.start,a.end),u.resourcesByIndex(u.verticalResources.length?c:o)))),t.Y8G("ngClass",u.timeSlotClass(a,e.start,u.verticalResources.length?c:o))("date",e.start)("invariantStart",a.start)("invariantEnd",a.end)("workDayStart",u.workDayStartTime)("workDayEnd",u.workDayEndTime)("workWeekStart",u.workWeekStart)("workWeekEnd",u.workWeekEnd)("id",t.sMw(16,zce,u.verticalResources.length?c:o,n,l)),t.R7$(2),t.Y8G("ngIf",u.timeSlotTemplateRef)}}function nan(s,i){if(1&s&&(t.qex(0),t.DNE(1,tan,3,20,"td",53),t.bVm()),2&s){const e=t.XpG(3);t.R7$(),t.Y8G("ngForOf",e.daySlots)("ngForTrackBy",e.itemIndex)}}function ian(s,i){if(1&s&&(t.j41(0,"tr"),t.DNE(1,nan,2,2,"ng-container",17),t.nI1(2,"resourceIterator"),t.k0s()),2&s){const e=i.index,n=t.XpG(2);t.AVh("k-middle-row",n.isMiddleSlot(e)),t.R7$(),t.Y8G("ngForOf",t.bMT(2,4,n.horizontalResources))("ngForTrackBy",n.itemIndex)}}function san(s,i){if(1&s&&(t.qex(0),t.DNE(1,Zrn,2,2,"tr",48)(2,ian,3,6,"tr",49),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.allDaySlot&&e.verticalResources.length),t.R7$(),t.Y8G("ngForOf",e.timeSlots)("ngForTrackBy",e.itemIndex)}}function oan(s,i){if(1&s&&t.nrm(0,"div",56),2&s){const e=i.$implicit,n=t.XpG().$implicit,o=t.XpG();t.Y8G("ngClass",o.getEventClasses(n,e.resources))("ngStyle",o.getEventStyles(n,e))("kendoSchedulerFocusIndex",e.leafIdx)("id",n.elementId+"_"+e.leafIdx)("editable",o.editable)("vertical",!0)("eventTemplate",o.eventTemplateRef)("item",n)("index",n.index)("rangeIndex",n.rangeIndex)("resources",e.resources)("resourceIndex",e.leafIdx)}}function ran(s,i){if(1&s&&(t.qex(0),t.DNE(1,oan,1,12,"div",55),t.bVm()),2&s){const e=i.$implicit,n=t.XpG();t.R7$(),t.Y8G("ngForOf",e.resources)("ngForTrackBy",n.itemIndex)}}function aan(s,i){if(1&s&&t.nrm(0,"div",35),2&s){const e=i.$implicit,n=t.XpG().$implicit,o=t.XpG(2);t.Y8G("ngClass",o.getEventClasses(n,e.resources,!0))("ngStyle",o.getEventStyles(n,e,!0))("kendoSchedulerFocusIndex",e.leafIdx)("id",n.elementId+"_"+e.leafIdx)("isAllDay",!0)("editable",o.editable)("eventTemplate",o.allDayEventTemplateRef)("item",n)("index",n.index)("rangeIndex",n.rangeIndex)("resources",e.resources)("resourceIndex",e.leafIdx)}}function lan(s,i){if(1&s&&(t.qex(0),t.DNE(1,aan,1,12,"div",34),t.bVm()),2&s){const e=i.$implicit,n=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.resources)("ngForTrackBy",n.itemIndex)}}function can(s,i){if(1&s&&(t.qex(0),t.DNE(1,lan,2,2,"ng-container",17),t.nI1(2,"async"),t.bVm()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",t.bMT(2,2,e.allDayItems))("ngForTrackBy",e.itemIndex)}}function dan(s,i){if(1&s&&t.nrm(0,"div",58),2&s){const e=t.XpG(2);t.Y8G("isAllDay",e.allDayDragHint)("ngStyle",e.dragHints[0].style)("ngClass",e.dragHints[0].class)("dragHint",!0)("eventTemplate",e.eventTemplateRef)("resources",e.dragHints[0].resources)("item",e.dragHints[0].item)}}function uan(s,i){if(1&s&&t.nrm(0,"div",39),2&s){const e=i.$implicit,n=t.XpG(3);t.Y8G("hint",e)("ngClass",e.class)("format",n.allDayResizeHint?n.allDayResizeHintFormat:n.resizeHintFormat)}}function han(s,i){if(1&s&&(t.qex(0),t.DNE(1,uan,1,3,"div",59),t.bVm()),2&s){const e=t.XpG(2);t.R7$(),t.Y8G("ngForOf",e.resizeHints)("ngForTrackBy",e.itemIndex)}}function pan(s,i){if(1&s&&t.DNE(0,dan,1,7,"div",57)(1,han,2,2,"ng-container",18),2&s){const e=t.XpG();t.Y8G("ngIf",e.dragHints.length&&(!e.allDayDragHint||e.verticalResources.length)),t.R7$(),t.Y8G("ngIf",e.resizeHints.length&&(!e.allDayResizeHint||e.verticalResources.length))}}function fan(s,i){if(1&s){const e=t.RV6();t.nrm(0,"multi-day-view",1),t.j41(1,"div",2),t.bIt("itemClick",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.showWorkHours=!o.shouldShowWorkHours)}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("name",e.name)("allDaySlot",e.viewAllDaySlot)("eventHeight",e.viewEventHeight)("currentTimeMarker",e.viewCurrentTimeMarker)("highlightOngoingEvents",e.viewHighlightOngoingEvents)("showWorkHours",e.shouldShowWorkHours)("scrollTime",e.viewScrollTime)("startTime",e.viewStartTime)("endTime",e.viewEndTime)("workDayStart",e.viewWorkDayStart)("workDayEnd",e.viewWorkDayEnd)("workWeekStart",e.viewWorkWeekStart)("workWeekEnd",e.viewWorkWeekEnd)("slotDuration",e.viewSlotDuration)("slotDivisions",e.viewSlotDivisions)("slotFill",e.viewSlotFill)("slotClass",e.viewSlotClass)("eventClass",e.viewEventClass)("eventStyles",e.viewEventStyles)("allDaySlotTemplate",null==e.allDaySlotTemplate?null:e.allDaySlotTemplate.templateRef)("allDayEventTemplate",null==e.allDayEventTemplate?null:e.allDayEventTemplate.templateRef)("eventTemplate",null==e.eventTemplate?null:e.eventTemplate.templateRef)("groupHeaderTemplate",null==e.groupHeaderTemplate?null:e.groupHeaderTemplate.templateRef)("timeSlotTemplate",null==e.timeSlotTemplate?null:e.timeSlotTemplate.templateRef)("minorTimeHeaderTemplate",null==e.minorTimeHeaderTemplate?null:e.minorTimeHeaderTemplate.templateRef)("majorTimeHeaderTemplate",null==e.majorTimeHeaderTemplate?null:e.majorTimeHeaderTemplate.templateRef)("dateHeaderTemplate",null==e.dateHeaderTemplate?null:e.dateHeaderTemplate.templateRef)("selectedDateFormat",e.selectedDateFormat)("selectedShortDateFormat",e.selectedShortDateFormat),t.R7$(),t.Y8G("showWorkHours",e.shouldShowWorkHours)}}function _an(s,i){if(1&s){const e=t.RV6();t.nrm(0,"multi-day-view",1),t.j41(1,"div",2),t.bIt("itemClick",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.showWorkHours=!o.shouldShowWorkHours)}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("name",e.name)("allDaySlot",e.viewAllDaySlot)("numberOfDays",7)("getStartDate",e.getStartDate)("eventHeight",e.viewEventHeight)("currentTimeMarker",e.viewCurrentTimeMarker)("highlightOngoingEvents",e.viewHighlightOngoingEvents)("showWorkHours",e.shouldShowWorkHours)("scrollTime",e.viewScrollTime)("startTime",e.viewStartTime)("endTime",e.viewEndTime)("workDayStart",e.viewWorkDayStart)("workDayEnd",e.viewWorkDayEnd)("workWeekStart",e.viewWorkWeekStart)("workWeekEnd",e.viewWorkWeekEnd)("weekStart",e.viewWeekStart)("slotDuration",e.viewSlotDuration)("slotDivisions",e.viewSlotDivisions)("slotFill",e.viewSlotFill)("slotClass",e.viewSlotClass)("eventClass",e.viewEventClass)("eventStyles",e.viewEventStyles)("allDaySlotTemplate",null==e.allDaySlotTemplate?null:e.allDaySlotTemplate.templateRef)("allDayEventTemplate",null==e.allDayEventTemplate?null:e.allDayEventTemplate.templateRef)("eventTemplate",null==e.eventTemplate?null:e.eventTemplate.templateRef)("groupHeaderTemplate",null==e.groupHeaderTemplate?null:e.groupHeaderTemplate.templateRef)("timeSlotTemplate",null==e.timeSlotTemplate?null:e.timeSlotTemplate.templateRef)("minorTimeHeaderTemplate",null==e.minorTimeHeaderTemplate?null:e.minorTimeHeaderTemplate.templateRef)("majorTimeHeaderTemplate",null==e.majorTimeHeaderTemplate?null:e.majorTimeHeaderTemplate.templateRef)("dateHeaderTemplate",null==e.dateHeaderTemplate?null:e.dateHeaderTemplate.templateRef)("selectedDateFormat",e.selectedDateFormat)("selectedShortDateFormat",e.selectedShortDateFormat),t.R7$(),t.Y8G("showWorkHours",e.shouldShowWorkHours)}}function gan(s,i){if(1&s){const e=t.RV6();t.nrm(0,"multi-day-view",1),t.j41(1,"div",2),t.bIt("itemClick",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.showWorkHours=!o.shouldShowWorkHours)}),t.k0s()}if(2&s){const e=t.XpG();t.Y8G("allDaySlot",e.viewAllDaySlot)("name",e.name)("numberOfDays",e.numberOfDays)("getStartDate",e.getStartDate)("getNextDate",e.getNextDate)("eventHeight",e.viewEventHeight)("currentTimeMarker",e.viewCurrentTimeMarker)("highlightOngoingEvents",e.viewHighlightOngoingEvents)("showWorkHours",e.shouldShowWorkHours)("scrollTime",e.viewScrollTime)("startTime",e.viewStartTime)("endTime",e.viewEndTime)("workDayStart",e.viewWorkDayStart)("workDayEnd",e.viewWorkDayEnd)("workWeekStart",e.viewWorkWeekStart)("workWeekEnd",e.viewWorkWeekEnd)("slotDuration",e.viewSlotDuration)("slotDivisions",e.viewSlotDivisions)("slotFill",e.viewSlotFill)("slotClass",e.viewSlotClass)("eventClass",e.viewEventClass)("eventStyles",e.viewEventStyles)("allDaySlotTemplate",null==e.allDaySlotTemplate?null:e.allDaySlotTemplate.templateRef)("allDayEventTemplate",null==e.allDayEventTemplate?null:e.allDayEventTemplate.templateRef)("eventTemplate",null==e.eventTemplate?null:e.eventTemplate.templateRef)("groupHeaderTemplate",null==e.groupHeaderTemplate?null:e.groupHeaderTemplate.templateRef)("timeSlotTemplate",null==e.timeSlotTemplate?null:e.timeSlotTemplate.templateRef)("minorTimeHeaderTemplate",null==e.minorTimeHeaderTemplate?null:e.minorTimeHeaderTemplate.templateRef)("majorTimeHeaderTemplate",null==e.majorTimeHeaderTemplate?null:e.majorTimeHeaderTemplate.templateRef)("dateHeaderTemplate",null==e.dateHeaderTemplate?null:e.dateHeaderTemplate.templateRef)("selectedDateFormat",e.selectedDateFormat)("selectedShortDateFormat",e.selectedShortDateFormat),t.R7$(),t.Y8G("showWorkHours",e.shouldShowWorkHours)}}const wln={name:"@progress/kendo-angular-scheduler",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925400,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"};class Dln{constructor(i,e,n){this.sender=i,this.selectedDate=e,this.dateRange=n}}class gUe extends Xx{constructor(i,e){super(),this.sender=i,this.action=e}}class vUe{constructor(i,e){this.sender=i,Object.assign(this,e)}}class SUe{constructor(i,e){this.sender=i,Object.assign(this,e)}}class jp{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}const Gln={slotClick:vUe,slotDblClick:vUe,eventClick:SUe,eventDblClick:SUe,eventKeydown:class Oln{constructor(i,e){this.sender=i,Object.assign(this,e)}},create:class Tln{constructor(i,e){this.sender=i,Object.assign(this,e)}},remove:class Aln extends jp{constructor(i,e){super(),this.sender=i,Object.assign(this,e)}},resizeStart:class Lln extends jp{constructor(i,e){super(),this.sender=i,Object.assign(this,e)}},resize:class Nln extends jp{constructor(i,e){super(),this.sender=i,Object.assign(this,e)}},resizeEnd:class Rln extends jp{constructor(i,e){super(),this.sender=i,Object.assign(this,e)}},dragStart:class xln extends jp{constructor(i,e){super(),this.sender=i,Object.assign(this,e)}},drag:class Iln extends jp{constructor(i,e){super(),this.sender=i,Object.assign(this,e)}},dragEnd:class Mln extends jp{constructor(i,e){super(),this.sender=i,Object.assign(this,e)}}};class Uln extends jp{constructor(i,e){super(),this.sender=i,Object.assign(this,e)}}class CUe{constructor(i,e){this.sender=i,Object.assign(this,e)}}class Bln extends CUe{}let bUe=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoSchedulerToolbarTemplate",""]]}),s})(),cj=(()=>{class s{constructor(){this.actionSource=new Xe.B,this.action=this.actionSource.asObservable()}navigate(e){this.actionSource.next(e)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();class md{}var Rl=function(s){return s[s.Event=0]="Event",s[s.Occurrence=1]="Occurrence",s[s.Series=2]="Series",s}(Rl||{}),l1=function(s){return s[s.Edit=0]="Edit",s[s.Remove=1]="Remove",s}(l1||{}),EUe=function(s){return s.initDragSelect="initDragSelect",s.dragSelect="dragSelect",s.refreshSlotSelection="refreshSlotSelection",s.dragSelectRelease="dragSelectRelease",s}(EUe||{});let jce=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoSchedulerAgendaDateTemplate",""]]}),s})(),Hce=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoSchedulerAgendaTimeTemplate",""]]}),s})(),f6=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoSchedulerAllDayEventTemplate",""]]}),s})(),dj=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoSchedulerAllDaySlotTemplate",""]]}),s})(),$ce=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoSchedulerDateHeaderTemplate",""]]}),s})(),m6=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoSchedulerEventTemplate",""]]}),s})(),Xce=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoSchedulerGroupHeaderTemplate",""]]}),s})(),Wce=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoSchedulerMajorTimeHeaderTemplate",""]]}),s})(),Yce=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoSchedulerMinorTimeHeaderTemplate",""]]}),s})(),Kce=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoSchedulerMonthDaySlotTemplate",""]]}),s})(),yUe=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoSchedulerMultiWeekDaySlotTemplate",""]]}),s})(),Jce=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoSchedulerTimeSlotTemplate",""]]}),s})(),Lo=(()=>{class s{constructor(){this.actionSource=new Xe.B,this.itemsSource=new Fn.t([]),this.selectedDateSource=new Fn.t(null),this.resizeSource=new Xe.B,this.optionsChangeSource=new Fn.t({}),this.executeSource=new Xe.B,this.action=this.actionSource.asObservable(),this.items=this.itemsSource.asObservable(),this.selectedDate=this.selectedDateSource.asObservable(),this.resize=this.resizeSource.asObservable(),this.optionsChange=this.optionsChangeSource.asObservable(),this.execute=this.executeSource.asObservable()}notifyAction(e){this.actionSource.next(e)}notifyItems(e){this.itemsSource.next(e)}notifySelectedDate(e){this.selectedDateSource.next(e)}notifyResize(){this.resizeSource.next()}notifyOptionsChange(e){this.optionsChangeSource.next(e)}executeMethod(e,n){let o;return this.executeSource.next({name:e,args:n,result:r=>{o=r}}),o}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),po=(()=>{class s{constructor(){this.toggleWorkHours=new Xe.B,this.dateRangeSource=new Fn.t({start:new Date(0),end:new Date(0),text:"",shortText:""}),this.nextDateSource=new Xe.B,this.navigateSource=new Xe.B,this.viewEventSource=new Xe.B,this.layoutEndSource=new Xe.B,this.optionsChangeSource=new Xe.B,this.slotSelectionStartSource=new Xe.B,this.slotSelectionStartDragSource=new Xe.B,this.slotSelectionStartEndSource=new Xe.B,this.dateRange=this.dateRangeSource.asObservable(),this.nextDate=this.nextDateSource.asObservable(),this.navigate=this.navigateSource.asObservable(),this.viewEvent=this.viewEventSource.asObservable(),this.layoutEnd=this.layoutEndSource.asObservable(),this.optionsChange=this.optionsChangeSource.asObservable(),this.slotSelectionStart=this.slotSelectionStartSource.asObservable(),this.slotSelectionDrag=this.slotSelectionStartDragSource.asObservable(),this.slotSelectionEnd=this.slotSelectionStartEndSource.asObservable()}notifyNextDate(e){this.nextDateSource.next(e)}notifyDateRange(e){this.dateRangeSource.next(e)}notifyLayoutEnd(){this.layoutEndSource.next()}navigateTo(e){this.navigateSource.next(e)}notifyOptionsChange(){this.optionsChangeSource.next(null)}emitEvent(e,n){this.viewEventSource.next({name:e,args:n})}notifySlotSelectionStart(e){this.slotSelectionStartSource.next(e)}notifySlotSelectionDrag(e){this.slotSelectionStartDragSource.next(e)}notifySlotSelectionEnd(e){this.slotSelectionStartEndSource.next(e)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const zln=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,_6={};function Or(s){if(_6[s])return _6[s];const i=[];return s.replace(zln,function(e,n,o,r){i.push(void 0!==n?n:o||r)}),_6[s]=function(e){let n=e;for(let o=0;o<i.length&&n;o++)n=n[i[o]];return n},_6[s]}_6.undefined=()=>{};const jln=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,g6={};g6.undefined=s=>s;const uj=s=>s.charAt(0).toUpperCase()+s.slice(1),mn=s=>null!=s,mE=s=>"number"==typeof s&&!isNaN(s),OUe=(s,i)=>{if(i)for(let e=0;e<i.length;e++)Qce(s,s.dataItem,i[e].field)};function hj(s,i){const e=[];if(s&&s.resources&&s.resources.length){const n=s.resources;for(let o=0;o<n.length;o++){const r=i.find(a=>a.name===n[o]);r&&e.push(r)}}return e}const Ti=(s,i)=>Or(i)(s),So=(s,i,e)=>function v6(s){if(g6[s])return g6[s];const i=[];return s.replace(jln,function(e,n,o,r){i.push(void 0!==n?n:o||r)}),g6[s]=function(e,n){let o=e;const r=i.length-1;for(let a=0;a<r&&o;a++)o=o[i[a]]=o[i[a]]||{};o[i[r]]=n},g6[s]}(i)(s,e);function Qce(s,i,e){So(s,e,Ti(i,e))}const fj=function Jln(){if("function"==typeof Symbol&&Symbol.iterator)return Symbol.iterator;const s=Object.getOwnPropertyNames(Map.prototype),i=Map.prototype;for(let e=0;e<s.length;++e){const n=s[e];if("entries"!==n&&"size"!==n&&i[n]===i.entries)return n}}();function ede(s){return wt(s,"click")}function TUe(s){const e=ede(s),n=e.pipe(e0(250));return e.pipe(function jen(s){return(0,$i.N)((i,e)=>{let n=[];return i.subscribe((0,Xi._)(e,o=>n.push(o),()=>{e.next(n),e.complete()})),nr(s).subscribe((0,Xi._)(e,()=>{const o=n;n=[],e.next(o)},oC.l)),()=>{n=null}})}(n),z(o=>2===o.length),z(o=>o[1].target===o[0].target),(0,U.T)(o=>o[1]))}function tde(s){return s.sort((i,e)=>i.startTime-e.startTime||e.endTime-i.endTime),s}let nde=(()=>{class s{constructor(e){this.ngZone=e,this.changes=new t.bkB,this.changedSource=new Xe.B,this.changed=this.changedSource.asObservable().pipe(kv(0))}endEdit(){this.changes.emit({action:"cancel",formGroup:this.hasNewEvent?this.newEventGroup.group:this.editedEvent.formGroup})}removeEvent(e){this.changes.emit({action:"remove",dataItem:e})}addEvent(e){this.newEventGroup={formGroup:e},this.onChanged()}editEvent(e,n=void 0,o){this.editedEvent={dataItem:e,formGroup:n,mode:o},this.onChanged()}close(){this.newEventGroup=this.editedEvent=null,this.onChanged()}save(){const{dataItem:e,formGroup:n}=this.context;this.changes.emit({action:"save",dataItem:e,formGroup:n,isNew:this.hasNewEvent,mode:this.occurrenceEditMode})}isEditing(){return mn(this.context)}get occurrenceEditMode(){return this.hasNewEvent?Rl.Series:this.editedEvent.mode||Rl.Event}get hasNewEvent(){return mn(this.newEventGroup)}get newEvent(){return this.hasNewEvent?this.newEventGroup.group.value:{}}get context(){return this.hasNewEvent?this.newEventGroup:this.editedEvent}onChanged(){this.ngZone.runOutsideAngular(()=>{this.changedSource.next()})}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(t.SKi))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),MUe=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.C4Q,8))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoSchedulerEditDialogTemplate",""]],inputs:{autoFocusedElement:"autoFocusedElement"}}),s})(),mj=(()=>{class s{constructor(){this.changes=new t.bkB}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),_j=(()=>{class s{constructor(){this.focus=new t.bkB,this.focusIn=new t.bkB,this.focusOut=new t.bkB,this.click=new t.bkB,this.keydown=new t.bkB,this.windowBlur=new t.bkB}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),Hp=(()=>{class s{constructor(e,n,o,r){this.renderer=e,this.wrapper=n,this.domEvents=o,this.zone=r,this.items=new Set,this.elementMap=new WeakMap,this.subs=new be.yU,this.subs.add(this.domEvents.focus.subscribe(a=>this.onFocusIn(a))),this.subs.add(this.domEvents.focusOut.subscribe(()=>this.onFocusOut()))}get activeElement(){if(this.activeItem)return this.activeItem.element}get focusableItems(){return this.items}ngOnDestroy(){this.subs.unsubscribe()}register(e){this.activeItem||(this.activeItem=e,e.toggle(!0));const n=Array.from(this.focusableItems),o=n.map(r=>r.containerType).lastIndexOf("content")+1;"content"===e.containerType&&o>0?(n.splice(o,0,e),this.items=new Set(n)):this.items.add(e),this.elementMap.set(e.element.nativeElement,e),this.toggleWrapper()}unregister(e){this.items.delete(e),this.elementMap.delete(e.element.nativeElement),e===this.activeItem&&this.activateNext(),this.toggleWrapper()}focus(){this.activeItem?this.activeItem.focus():this.focusContent()}focusContent(){const e=Array.from(this.focusableItems),n=this.activeItem?.containerType,o="content"===n?this.activeItem:e.find(l=>"content"===l.containerType),r="toolbar"===n?this.activeItem:e.find(l=>"toolbar"===l.containerType),a=o||r;a.focus(),this.activeItem=a}focusToolbar(){const n=Array.from(this.focusableItems).find(o=>"toolbar"===o.containerType);n&&n.focus(),this.activeItem=n}focusNext(e){const n=this.activeItem;return this.activateNext(e),this.activeItem&&this.activeItem.focus(),this.activeItem!==n}focusByIndex(e){const n=Array.from(this.items.values())[e];n&&(this.activate(n),this.focus(),this.zone.onStable.pipe(Ye(1)).subscribe(()=>{Array.from(this.items.values())}))}activate(e){this.items.forEach(n=>{n.toggle(n===e)}),this.activeItem=e}activateNext(e){const n=this.findNext(e);this.activeItem=n,this.activeItem?.focus()}findNext(e){const{offset:n,nowrap:o}={nowrap:!1,offset:1,...e},r=Array.from(this.items.values()).filter(c=>c.canFocus()).sort((c,u)=>c.focusIndex-u.focusIndex);if(0===r.length)return null;if(!this.activeItem)return o?null:r[0];let l=r.indexOf(this.activeItem)+n;return o?l=Math.max(0,Math.min(r.length-1,l)):(l%=r.length,l<0&&(l=r.length-1)),r[l]}toggleWrapper(){this.wrapper&&this.renderer.setAttribute(this.wrapper.nativeElement,"tabindex",this.activeItem?"-1":"0")}onFocusIn(e){const n=this.elementMap.get(e.target);!n||n===this.focusedItem||(this.focusedItem&&this.focusedItem.toggleFocus(!1),this.activate(n),n.toggleFocus(!0),this.focusedItem=n)}onFocusOut(){this.focusedItem&&(this.focusedItem.toggleFocus(!1),this.focusedItem=null)}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(t.sFG,8),t.KVO(t.aKT,8),t.KVO(_j),t.KVO(t.SKi))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),C6=(()=>{class s{constructor(e,n,o,r,a){this.dialogService=e,this.localization=n,this.changeDetector=o,this.focusService=r,this.viewState=a,this.isOpen=!1}openRemoveConfirmationDialog(){const e=this.dialogService.open({title:this.textFor("deleteDialogTitle"),content:this.textFor("deleteConfirmation"),actions:[{text:this.textFor("cancel"),value:!1},{text:this.textFor("destroy"),value:!0}],appendTo:this.container,autoFocusedElement:"button:nth-child(2)"});return this.isOpen=!0,this.changeDetector.markForCheck(),e.result.pipe((0,U.T)(n=>(this.isOpen=!1,n instanceof a0?(this.focusService.focus(),!1):(this.viewState.layoutEnd.pipe(Ye(1)).subscribe(()=>this.focusService.focus()),n.value))))}openRecurringConfirmationDialog(e){const n=this.dialogService.open({actions:[{text:this.textFor(e===l1.Edit?"editOccurrence":"deleteOccurrence"),value:Rl.Occurrence},{text:this.textFor(e===l1.Edit?"editSeries":"deleteSeries"),value:Rl.Series}],appendTo:this.container,autoFocusedElement:"button:nth-child(1)",content:this.textFor(e===l1.Edit?"editRecurringConfirmation":"deleteRecurringConfirmation"),title:this.textFor(e===l1.Edit?"editRecurringDialogTitle":"deleteRecurringDialogTitle")});return this.isOpen=!0,this.changeDetector.markForCheck(),n.result.pipe((0,U.T)(o=>(this.isOpen=!1,this.focusService.focus(),o instanceof a0?void 0:o.value)))}textFor(e){return this.localization.get(e)}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(H_),t.KVO(j),t.KVO(t.gRc),t.KVO(Hp),t.KVO(po))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),gj=(()=>{class s extends j{constructor(e,n,o){super(e,n,o)}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Ve),t.KVO(Gu,8),t.KVO(Vc,8))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();const ide={id:"id",start:"start",startTimezone:"startTimezone",end:"end",endTimezone:"endTimezone",isAllDay:"isAllDay",title:"title",description:"description",recurrenceRule:"recurrenceRule",recurrenceId:"recurrenceId",recurrenceExceptions:"recurrenceExceptions"};let $p=(()=>{class s{constructor(){this.createElement=new t.bkB,this.exportClick=new t.bkB,this.done=new t.bkB,this.elementReady=new t.bkB}save(){if(ke(this.elementReady)){if(ke(this.createElement))this.createElement.emit();else if((0,t.naY)())throw new Error("No active Scheduler view to export.")}else if((0,t.naY)())throw new Error("Creating PDF requires including the PDFModule and adding the <kendo-scheduler-pdf> component.")}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})();class qln extends jp{}let sde=(()=>{class s{constructor(e,n){this.element=e,this.renderer=n,this.hostClasses=!0}get display(){return this.loading||this.force?"block":"none"}toggle(e){this.force=e,this.renderer.setStyle(this.element.nativeElement,"display",this.display)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoSchedulerLoading",""]],hostVars:4,hostBindings:function(e,n){2&e&&(t.xc7("display",n.display),t.AVh("k-loading-mask",n.hostClasses))},inputs:{loading:"loading"},attrs:xin,decls:2,vars:0,consts:[[1,"k-loading-image"],[1,"k-loading-color"]],template:function(e,n){1&e&&t.nrm(0,"div",0)(1,"div",1)},encapsulation:2}),s})(),t2=(()=>{class s{constructor(e,n,o){this.element=e,this.renderer=n,this.focusService=o,this.focusIndex=0,this.containerType="content",this.toggle(!1)}get visible(){return"none"!==this.element.nativeElement.style.display}get enabled(){return!this.element.nativeElement.disabled}ngAfterViewChecked(){const e=this.element.nativeElement;!e.closest(".k-scheduler-views-wrapper")||!ne()||(E_e(e)?this.focusService.register(this):this.focusService.unregister(this))}ngOnInit(){this.focusService.register(this)}ngOnDestroy(){this.focusService.unregister(this)}toggle(e){e!==this.active&&(this.renderer.setAttribute(this.element.nativeElement,"tabIndex",e?"0":"-1"),this.active=e)}canFocus(){return this.visible&&this.enabled}focus(){this.element.nativeElement.focus()}toggleFocus(e){const n=this.element.nativeElement,o=n.matches(".k-button-group .k-button")?"k-focus":"k-selected";e?this.renderer.addClass(n,o):this.renderer.removeClass(n,o),n.matches(".k-scheduler-agendaview .k-scheduler-content .k-selected")&&(n.closest(".k-scheduler-agendaview").querySelector('[aria-selected="true"]')?.removeAttribute("aria-selected"),this.renderer.setAttribute(n,"aria-selected",e.toString()))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(Hp))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoSchedulerFocusIndex",""]],inputs:{focusIndex:[t.Mj6.None,"kendoSchedulerFocusIndex","focusIndex"],containerType:"containerType"}}),s})();const IUe=s=>String(s).trim().split(" "),Xp=(s,i)=>{const e=IUe(i);return!!IUe(s.className).find(n=>e.indexOf(n)>=0)},_E=(s,i,e)=>{for(;s&&s!==e&&!i(s);)s=s.parentNode;if(s!==e)return s},xUe=s=>{const i=s.wheelDeltaY;return s.wheelDelta&&(void 0===i||i)?s.wheelDelta:s.detail&&s.axis===s.VERTICAL_AXIS?10*-s.detail:0};function ode(s,i){const e="vertical"===i?"Height":"Width";return s[`scroll${e}`]>s[`client${e}`]&&zJ()>0}const Tr=(s,i,e,n)=>s<e&&i>n||e<=s&&s<n||e<i&&i<=n&&s<i,gE=(s,i,e)=>i.getTime()<=s.getTime()&&s.getTime()<=e.getTime(),AUe=({start:s,end:i})=>{const e=s.stripTime(),n=i.stripTime();return n.getTime()!==i.getTime()||e.getTime()===n.getTime()?n.addDays(1):n};function KO(s){const i=new Date(1980,0,1,0,0,0);return s&&i.setHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),i}const JO=(s,i)=>{const e=new Date(s.getTime());return e.setUTCDate(e.getUTCDate()+i),e};function b6(s,i){return new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()))}function Yr(s){return new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate()))}function qO(s){return new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()))}function vE(s){return new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()))}function Wp(s,i){return new Date(s.getFullYear(),s.getMonth(),s.getDate(),i.getHours(),i.getMinutes())}function RUe(s,i){let e,n;return i.end<=s.end?(n=s.end,e=i.start):(e=s.start,n=i.end),{start:e,end:n}}function NUe(s,i){const e=i.data;for(let n=0;n<e.length;n++)if(Ti(e[n],i.valueField)===s)return n;return-1}function LUe(s,i){const e=NUe(s,i);return e>=0?i.data[e]:{}}function icn(s){const i=[];for(let e=0;e<s.length;e++){const n=Object.assign({},s[e]);n.resources=n.resources.slice(0),i.push(n)}return i}function GUe(s,i){const e=Ti(s,i.field);return Array.isArray(e)?function ncn(s,i){return s.map(e=>LUe(e,i))}(e,i):LUe(e,i)}function PUe(s,{taskResources:i,hasGroups:e,spans:n,allResources:o=[]}){let r=[];for(let a=0;a<i.length;a++){const l=i[a];if(!l.data){r=[{leafIdx:0,resources:[]}];continue}const c=o.indexOf(l);let u=Ti(s,l.field);Array.isArray(u)||(u=[u]);const f=[];for(let _=0;_<u.length;_++){const g=NUe(u[_],l);if(g<0){if(e)continue;return[{leafIdx:0,resources:[]}]}const S=l.data[g];if(0!==a||!e&&0!==_){if(e){let b=r;u.length>1&&(b=icn(r),f.push(...b));for(let k=0;k<b.length;k++)b[k].leafIdx+=g*n[a],b[k].resources[c]=S}else if(_>0)for(let b=0;b<r.length;b++)r[b].resources[c].push(S)}else{const b=[];b[c]=l.multiple&&!e?[S]:S,r.push({leafIdx:e?g*n[a]:0,color:Ti(S,l.colorField),resources:b})}}f.length&&(r=f)}return function scn(s,i,e){for(let n=0;n<i.length;n++){const o=i[n];for(let r=0;r<e.length;r++){const a=e[r];!o.resources[r]&&a.data&&(o.resources[r]=GUe(s,a))}}}(s,r,o),r}function UUe(s,i){if(void 0!==i.rowIndex)return i.rowIndex;for(let e=0;e<s.length;e++)if(!s[e])return e;return s.length}const Hm=(s,i,e)=>s.left<=i&&i<=s.left+s.width&&s.top<=e&&e<=s.top+s.height,zUe=(s,i)=>s.left<=i&&i<=s.left+s.width,xh=s=>`${s}px`,SE=s=>{if(!s)return null;const i=s.getBoundingClientRect(),e=document.documentElement;return{top:i.top+(window.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0),width:i.width,height:i.height}},jUe=s=>"KENDO-RESIZE-SENSOR"===s.nodeName||Xp(s,"k-loading-mask"),HUe=(s,i)=>{for(const e in i)i.hasOwnProperty(e)&&(s.style[e]=xh(i[e]))};function $Ue(s,i,e){const n=s.get(i);return n&&n.value||e}const ccn=()=>!1,dcn={caretAltLeftIcon:Xa,caretAltRightIcon:Uo,calendarIcon:Pk};let XUe=(()=>{class s{constructor(e,n,o,r,a){this.popupService=e,this.toolbarService=n,this.localization=o,this.cd=r,this.viewContext=a,this.hostClass=!0,this.activeView="month",this.bottomView="month",this.dateRangeText={short:"",long:"",current:""},this.isMouseDown=!1,this.subs=this.localization.changes.subscribe(()=>{r.markForCheck()})}set calendar(e){e&&e.focus()}get todayText(){return this.localization.get("today")}get calendarTodayText(){return this.localization.get("calendarToday")}get nextText(){return this.localization.get("nextTitle")}get previousText(){return this.localization.get("previousTitle")}get ctx(){return this.toolbarService.context}svgIcon(e){return dcn[e]}onBlur(){this.isMouseDown||this.closePopup()}onMouseDown(){this.isMouseDown=!0}ngOnInit(){ne()&&(this.subs.add(this.ctx.dateRange.subscribe(e=>{this.dateRangeText.short=e?.shortText,this.dateRangeText.long=e?.text,this.setDateRangeText()})),this.subs.add(this.viewContext.resize.subscribe(()=>{this.setDateRangeText()})))}ngOnDestroy(){this.subs.unsubscribe(),this.closePopup()}toggleSelectedDate(e,n){if(this.popupRef)this.closePopup();else{const o={anchor:e,content:n};this.localization.rtl&&(o.popupClass="k-rtl"),this.popupRef=this.popupService.open(o)}return this.isMouseDown=!1,!1}selectDate(e){this.closePopup(),this.toolbarService.navigate({type:"select-date",date:e})}prevClick(){return this.toolbarService.navigate({type:"prev"}),!1}nextClick(){return this.toolbarService.navigate({type:"next"}),!1}todayClick(){return this.toolbarService.navigate({type:"today"}),!1}closePopup(){this.popupRef&&(this.popupRef.close(),this.popupRef=null)}setDateRangeText(){const e=window.matchMedia("(min-width: 1024px)").matches;this.dateRangeText.current=e?this.dateRangeText.long:this.dateRangeText.short,this.cd.detectChanges()}get arrowIcons(){return this.localization.rtl?["caret-alt-right","caret-alt-left"]:["caret-alt-left","caret-alt-right"]}get arrowSVGIcons(){return this.localization.rtl?["caretAltRightIcon","caretAltLeftIcon"]:["caretAltLeftIcon","caretAltRightIcon"]}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(es),t.rXU(cj),t.rXU(j),t.rXU(t.gRc),t.rXU(Lo))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoSchedulerToolbarNavigation",""]],viewQuery:function(e,n){if(1&e&&t.GBs(Ain,5),2&e){let o;t.mGM(o=t.lsd())&&(n.calendar=o.first)}},hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-toolbar-group",n.hostClass)},inputs:{min:"min",max:"max",activeView:"activeView",bottomView:"bottomView"},features:[t.Jv_([es])],attrs:Rin,decls:11,vars:17,consts:[["anchor",""],["template",""],["calendar",""],["role","group",1,"k-scheduler-navigation","k-button-group","k-button-group-solid"],["kendoButton","","containerType","toolbar",1,"k-nav-today",3,"click","kendoSchedulerFocusIndex"],["kendoButton","","containerType","toolbar",1,"k-nav-prev",3,"click","icon","svgIcon","kendoSchedulerFocusIndex"],["kendoButton","","type","button","containerType","toolbar",1,"k-nav-next",3,"click","icon","svgIcon","kendoSchedulerFocusIndex"],["kendoButton","","type","button","icon","calendar","fillMode","flat","role","button","containerType","toolbar",1,"k-nav-current",3,"mousedown","mouseup","keydown.enter","keydown.alt.arrowdown","svgIcon","kendoSchedulerFocusIndex"],[3,"blur","keydown.escape","valueChange","activeView","bottomView","value","min","max"],[3,"today"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"span",3)(1,"button",4),t.bIt("click",function(){return t.eBV(o),t.Njj(n.todayClick())}),t.EFF(2),t.k0s(),t.j41(3,"button",5),t.bIt("click",function(){return t.eBV(o),t.Njj(n.prevClick())}),t.k0s(),t.j41(4,"button",6),t.bIt("click",function(){return t.eBV(o),t.Njj(n.nextClick())}),t.k0s()(),t.j41(5,"button",7,0),t.bIt("mousedown",function(){return t.eBV(o),t.Njj(n.onMouseDown())})("mouseup",function(){t.eBV(o);const a=t.sdS(6),l=t.sdS(10);return t.Njj(n.toggleSelectedDate({nativeElement:a.element},l))})("keydown.enter",function(){t.eBV(o);const a=t.sdS(6),l=t.sdS(10);return t.Njj(n.toggleSelectedDate({nativeElement:a.element},l))})("keydown.alt.arrowdown",function(){t.eBV(o);const a=t.sdS(6),l=t.sdS(10);return t.Njj(n.toggleSelectedDate({nativeElement:a.element},l))}),t.j41(7,"span"),t.EFF(8),t.k0s()(),t.DNE(9,Nin,4,8,"ng-template",null,1,t.C5r)}2&e&&(t.R7$(),t.Y8G("kendoSchedulerFocusIndex",0),t.BMQ("title",n.todayText),t.R7$(),t.SpI(" ",n.todayText," "),t.R7$(),t.Y8G("icon",n.arrowIcons[0])("svgIcon",n.svgIcon(n.arrowSVGIcons[0]))("kendoSchedulerFocusIndex",0),t.BMQ("title",n.previousText)("aria-label",n.previousText),t.R7$(),t.Y8G("icon",n.arrowIcons[1])("svgIcon",n.svgIcon(n.arrowSVGIcons[1]))("kendoSchedulerFocusIndex",0),t.BMQ("title",n.nextText)("aria-label",n.nextText),t.R7$(),t.Y8G("svgIcon",n.svgIcon("calendarIcon"))("kendoSchedulerFocusIndex",0),t.BMQ("aria-live","polite"),t.R7$(3),t.JRh(null==n.dateRangeText?null:n.dateRangeText.current))},dependencies:[$t,Aw,IZ,t2,qp],encapsulation:2,changeDetection:0}),s})(),WUe=(()=>{class s{constructor(e,n){this.service=e,this.localization=n,this.responsiveBreakpoint=1024}get ctx(){return this.service.context}get selectView(){return this.localization.get("selectView")}ngOnDestroy(){this.detachDomEvents&&this.detachDomEvents()}select(e){this.ctx.selectedView!==e&&this.service.navigate({type:"view-change",view:e})}onChange(e){const n=this.ctx.views.find(o=>o.name===e.target.value);n&&this.select(n)}isSelected(e){return this.ctx.selectedView===e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(cj),t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoSchedulerToolbarViewSelector",""]],inputs:{toolbarWidth:"toolbarWidth",responsiveBreakpoint:"responsiveBreakpoint"},attrs:Lin,decls:2,vars:2,consts:[["class","k-views-dropdown k-picker-md k-rounded-md k-picker-solid k-dropdownlist k-picker","containerType","toolbar",3,"kendoSchedulerFocusIndex","change",4,"ngIf"],["class","k-toolbar-button-group k-scheduler-views k-button-group k-button-group-solid","role","group",4,"ngIf"],["containerType","toolbar",1,"k-views-dropdown","k-picker-md","k-rounded-md","k-picker-solid","k-dropdownlist","k-picker",3,"change","kendoSchedulerFocusIndex"],[3,"selected","value",4,"ngFor","ngForOf"],[3,"selected","value"],["role","group",1,"k-toolbar-button-group","k-scheduler-views","k-button-group","k-button-group-solid"],["kendoButton","","type","button","containerType","toolbar",3,"selected","kendoSchedulerFocusIndex","click",4,"ngFor","ngForOf"],["kendoButton","","type","button","containerType","toolbar",3,"click","selected","kendoSchedulerFocusIndex"],[1,"k-button-text"]],template:function(e,n){1&e&&t.DNE(0,Pin,2,3,"select",0)(1,Uin,2,1,"span",1),2&e&&(t.Y8G("ngIf",(null==n.ctx.views?null:n.ctx.views.length)>1&&n.toolbarWidth<=n.responsiveBreakpoint),t.R7$(),t.Y8G("ngIf",n.toolbarWidth>n.responsiveBreakpoint))},dependencies:[$t,W,t2,st],encapsulation:2}),s})(),ucn=(()=>{class s{constructor(e,n,o){this.service=e,this.element=n,this.zone=o,this.hostClasses=!0,this.toolbarRole="toolbar",this.navigate=new t.bkB,this.toolbarWidthChange=new t.bkB,this.templateContext={},this.subs=new be.yU,this.subs.add(e.action.subscribe(r=>this.navigate.next(r)))}get activeView(){return"year"===this.service.context.selectedView?.name?"decade":"month"}get bottomView(){return"year"===this.service.context.selectedView?.name?"decade":"month"}ngOnInit(){this.subs.add(this.selectedDate.subscribe(e=>this.templateContext.selectedDate=e)),this.subs.add(this.dateRange.subscribe(e=>this.templateContext.dateRange=e)),this.resizeHandler()}ngOnChanges(){this.service.context={dateRange:this.dateRange,selectedDate:this.selectedDate,views:this.views,selectedView:this.selectedView},Object.assign(this.templateContext,{views:this.views,selectedView:this.selectedView})}ngOnDestroy(){this.subs.unsubscribe()}resizeHandler(){const e=this.element.nativeElement;this.zone.run(()=>this.toolbarWidth=e.offsetWidth),this.toolbarWidthChange.emit(this.toolbarWidth)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(cj),t.rXU(t.aKT),t.rXU(t.SKi))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-scheduler-toolbar"]],hostVars:7,hostBindings:function(e,n){2&e&&(t.BMQ("role",n.toolbarRole),t.AVh("k-scheduler-toolbar",n.hostClasses)("k-toolbar",n.hostClasses)("k-toolbar-md",n.hostClasses))},inputs:{selectedView:"selectedView",views:"views",dateRange:"dateRange",selectedDate:"selectedDate",template:"template",min:"min",max:"max"},outputs:{navigate:"navigate",toolbarWidthChange:"toolbarWidthChange"},features:[t.OA$],decls:4,vars:4,consts:[["defaultTemplate",""],[4,"ngIf","ngIfElse"],[3,"resize"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["kendoSchedulerToolbarNavigation","",3,"min","max","activeView","bottomView"],[1,"k-spacer"],["kendoSchedulerToolbarViewSelector","",3,"toolbarWidth"]],template:function(e,n){if(1&e){const o=t.RV6();t.DNE(0,Vin,1,2,null,1)(1,zin,3,5,"ng-template",null,0,t.C5r),t.j41(3,"kendo-resize-sensor",2),t.bIt("resize",function(){return t.eBV(o),t.Njj(n.resizeHandler())}),t.k0s()}if(2&e){const o=t.sdS(2);t.Y8G("ngIf",n.template)("ngIfElse",o),t.R7$(3),t.Aen("display: contents;")}},dependencies:[XUe,WUe,Os,W,Je],encapsulation:2}),s})(),YUe=(()=>{class s{constructor(){this.valueChange=new t.bkB,this.getField=Ti,this.onTouchedCallback=e=>{},this.onChangeCallback=e=>{}}writeValue(e){this.resourceValue=e}getResourceStyle(e){return{"background-color":Ti(e,this.resource.colorField),"margin-right":mn(Ti(e,this.resource.valueField))?"8px":"4px"}}onResourceValueChange(e){this.resourceValue=e,this.emitChange(this.resourceValue)}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}emitChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275dir=t.FsC({type:s,inputs:{resource:"resource"},outputs:{valueChange:"valueChange"}}),s})();const hcn={multi:!0,provide:Yn,useExisting:(0,t.Rfq)(()=>vj)};let vj=(()=>{class s extends YUe{getTagStyle(e){return{"background-color":e[this.resource.colorField]}}focus(){this.resourceMultiSelect.focus()}}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-multiple-resource-editor"]],viewQuery:function(e,n){if(1&e&&t.GBs(jin,7),2&e){let o;t.mGM(o=t.lsd())&&(n.resourceMultiSelect=o.first)}},features:[t.Jv_([hcn]),t.Vt3],decls:4,vars:5,consts:[["resourceMultiSelect",""],[3,"valueChange","data","textField","valueField","valuePrimitive","value"],["kendoDropDownListItemTemplate",""],["kendoMultiSelectTagTemplate",""],["class","k-scheduler-mark",3,"ngStyle",4,"ngIf"],[1,"k-scheduler-mark",3,"ngStyle"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"kendo-multiselect",1,0),t.bIt("valueChange",function(a){return t.eBV(o),t.Njj(n.onResourceValueChange(a))}),t.DNE(2,$in,2,2,"ng-template",2)(3,Win,2,2,"ng-template",3),t.k0s()}2&e&&t.Y8G("data",n.resource.data)("textField",n.resource.textField)("valueField",n.resource.valueField)("valuePrimitive",!0)("value",n.resourceValue)},dependencies:[ig,ba,W,Jn,ww],encapsulation:2}),s})();const pcn={multi:!0,provide:Yn,useExisting:(0,t.Rfq)(()=>Sj)};let Sj=(()=>{class s extends YUe{focus(){this.resourceDropDown.focus()}}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-single-resource-editor"]],viewQuery:function(e,n){if(1&e&&t.GBs(Yin,7),2&e){let o;t.mGM(o=t.lsd())&&(n.resourceDropDown=o.first)}},features:[t.Jv_([pcn]),t.Vt3],decls:3,vars:5,consts:[["resourceDropDown",""],[3,"valueChange","data","textField","valueField","valuePrimitive","value"],["kendoDropDownListItemTemplate",""],["class","k-scheduler-mark",3,"ngStyle",4,"ngIf"],[1,"k-scheduler-mark",3,"ngStyle"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"kendo-dropdownlist",1,0),t.bIt("valueChange",function(a){return t.eBV(o),t.Njj(n.onResourceValueChange(a))}),t.DNE(2,Jin,2,2,"ng-template",2),t.k0s()}2&e&&t.Y8G("data",n.resource.data)("textField",n.resource.textField)("valueField",n.resource.valueField)("valuePrimitive",!0)("value",n.resourceValue)},dependencies:[io,ba,W,Jn],encapsulation:2}),s})();var _d=function(s){return s[s.None=0]="None",s[s.AltKey=1]="AltKey",s[s.CtrlKey=2]="CtrlKey",s[s.ShiftKey=4]="ShiftKey",s[s.MetaKey=8]="MetaKey",s}(_d||{});function E6(s,i){return s.altKey===((i&_d.AltKey)===_d.AltKey)&&s.ctrlKey===((i&_d.CtrlKey)===_d.CtrlKey)&&s.shiftKey===((i&_d.ShiftKey)===_d.ShiftKey)&&s.metaKey===((i&_d.MetaKey)===_d.MetaKey)}function n2(s){return E6(s,_d.None)}const fcn={multi:!0,provide:Yn,useExisting:(0,t.Rfq)(()=>cde)};let cde=(()=>{class s{constructor(e,n){this.injector=e,this.localization=n,this.valueChange=new t.bkB,this.onTouchedCallback=o=>{},this.onChangeCallback=o=>{}}get focusableId(){return this.isAllDay?this.datePicker?.focusableId:this.dateTimePicker?.focusableId}get formControl(){return this.injector.get(Ri,null)?.control||null}textFor(e){return this.localization.get(e)}writeValue(e){e instanceof Date&&(this.date=e)}onValueChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}focus(){this.datePicker?this.datePicker.focus():this.dateTimePicker.focus()}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.zZn),t.rXU(gj))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-scheduler-datetime-picker"]],viewQuery:function(e,n){if(1&e&&(t.GBs(qin,5),t.GBs(Qin,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.datePicker=o.first),t.mGM(o=t.lsd())&&(n.dateTimePicker=o.first)}},inputs:{isAllDay:"isAllDay"},outputs:{valueChange:"valueChange"},features:[t.Jv_([fcn])],decls:2,vars:2,consts:[["datepicker",""],["datetimepicker",""],[3,"value","formControl","valueChange",4,"ngIf"],[3,"valueChange","value","formControl"],[3,"today","toggle","parentViewButtonTitle"],[3,"toggle","today","accept","acceptLabel","cancelLabel","cancel","now","nowLabel","dateTab","dateTabLabel","timeTab","timeTabLabel","parentViewButtonTitle"]],template:function(e,n){1&e&&t.DNE(0,Zin,3,5,"kendo-datepicker",2)(1,esn,3,15,"kendo-datetimepicker",2),2&e&&(t.Y8G("ngIf",n.isAllDay),t.R7$(),t.Y8G("ngIf",!n.isAllDay))},dependencies:[rp,wU,zZ,Obe,W,Un,u0],encapsulation:2}),s})();const mcn={multi:!0,provide:Yn,useExisting:(0,t.Rfq)(()=>dde)};let dde=(()=>{class s{constructor(e){this.injector=e,this.width=260,this.valueChange=new t.bkB,this.onTouchedCallback=n=>{},this.onChangeCallback=n=>{},this.tzNames=Object.keys(pce.zones),this.tzSource=this.tzNames.slice()}get focusableId(){return this.tzComboBox?.focusableId||this.tzComboBoxControl?.focusableId}get formControl(){return this.injector.get(Ri,null)?.control||null}onTimeZoneChange(e){this.tz=e,this.onChangeCallback(this.tz),this.valueChange.emit(e)}onTimeZoneFilterChange(e){this.tzSource=this.tzNames.filter(n=>-1!==n.toLowerCase().indexOf(e.toLowerCase()))}writeValue(e){"string"==typeof e&&this.tzNames.indexOf(e)>=0&&(this.tz=e)}focus(){this.tzComboBox?this.tzComboBox.focus():this.tzComboBoxControl.focus()}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.zZn))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-timezone-editor"]],viewQuery:function(e,n){if(1&e&&(t.GBs(tsn,7),t.GBs(nsn,7)),2&e){let o;t.mGM(o=t.lsd())&&(n.tzComboBox=o.first),t.mGM(o=t.lsd())&&(n.tzComboBoxControl=o.first)}},inputs:{width:"width"},outputs:{valueChange:"valueChange"},features:[t.Jv_([mcn])],decls:2,vars:2,consts:[["tzcombobox",""],["tzcomboboxControl",""],[3,"width","allowCustom","data","filterable","suggest","value","filterChange","valueChange",4,"ngIf"],[3,"width","allowCustom","data","filterable","suggest","value","formControl","filterChange","valueChange",4,"ngIf"],[3,"filterChange","valueChange","allowCustom","data","filterable","suggest","value"],[3,"filterChange","valueChange","allowCustom","data","filterable","suggest","value","formControl"]],template:function(e,n){1&e&&t.DNE(0,isn,2,7,"kendo-combobox",2)(1,ssn,2,8,"kendo-combobox",3),2&e&&(t.Y8G("ngIf",!n.formControl),t.R7$(),t.Y8G("ngIf",n.formControl))},dependencies:[go,W,Un,u0],encapsulation:2}),s})(),_cn=0;const gcn=["first","second","third","fourth","last"],vcn=["never","daily","weekly","monthly","yearly"],Scn=[{day:0,offset:0},{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0},{day:6,offset:0}],Ccn=[{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0}],bcn=[{day:0,offset:0},{day:6,offset:0}];let c1=(()=>{class s{constructor(e,n){this.intl=e,this.localization=n,this.change=new t.bkB,this.endRuleChange=new t.bkB,this.frequencyChange=new t.bkB,this.repeatOnRuleChange=new t.bkB}init(e="",n,o,r){this.start=n,this.timezone=o,this.weekStart=r,this.rrule=dUe({recurrenceRule:e,weekStart:r})}getUniqueId(){return _cn++}get frequencies(){return vcn.map(e=>({value:e,text:this.localization.get("frequencies"+uj(e))}))}get frequency(){return mn(this.rrule)&&!(s=>(s=>null==s)(s)||s.trim&&0===s.trim().length)(this.rrule.freq)?this.rrule.freq:"never"}setFrequency(e){this.rrule={},this.rrule.freq=e,this.rrule.interval=1,"weekly"===e&&(this.rrule.byWeekDay=[{day:this.start.getDay(),offset:0}]),("monthly"===e||"yearly"===e)&&(this.rrule.byMonthDay=[this.start.getDate()]),"yearly"===e&&(this.rrule.byMonth=[this.start.getMonth()+1]),this.frequencyChange.emit(),this.onChange()}set interval(e){this.rrule.interval=e,this.onChange()}set count(e){this.rrule.count=e,this.onChange()}set until(e){this.rrule.until=Ji.fromLocalDate(e,this.timezone),this.onChange()}get until(){if(mn(this.rrule.until))return hr(this.rrule.until)}setWeekDays(e){this.rrule.byWeekDay=e,this.onChange()}set monthDays(e){this.rrule.byMonthDay=e,this.onChange()}set positions(e){this.rrule.bySetPosition=e,this.onChange()}setMonths(e){this.rrule.byMonth=e,this.onChange()}get months(){return this.intl.dateFormatNames({type:"months",nameType:"wide"}).map((e,n)=>({text:e,value:n+1}))}get weekDays(){const e=this.weekStart,n=this.intl.dateFormatNames({type:"days",nameType:"abbreviated"}).map((o,r)=>({text:o,value:r}));return n.slice(e).concat(n.slice(0,e))}get extendedWeekDays(){const e=this.weekStart,n=this.intl.dateFormatNames({type:"days",nameType:"wide"}).map((a,l)=>({text:a,value:l})),o=n.slice(e).concat(n.slice(0,e));return[{text:this.localization.get("weekdaysDay"),value:"day"},{text:this.localization.get("weekdaysWeekday"),value:"weekday"},{text:this.localization.get("weekdaysWeekendday"),value:"weekend"}].concat(o)}get offsetPositions(){const e=[1,2,3,4,-1];return gcn.map((n,o)=>({text:this.localization.get("offsetPositions"+uj(n)),value:e[o]}))}get endRule(){return mn(this.rrule.count)?"count":mn(this.rrule.until)?"until":"never"}set endRule(e){"count"===e?this.rrule.until=null:"until"===e?this.rrule.count=null:(this.rrule.count=null,this.rrule.until=null),this.endRuleChange.emit(e),this.onChange()}get repeatOnRule(){return mn(this.rrule.byWeekDay)?"weekday":mn(this.rrule.byMonthDay)?"monthday":null}set repeatOnRule(e){"monthday"===e?(this.rrule.byWeekDay=null,this.rrule.bySetPosition=null):this.rrule.byMonthDay=null,this.repeatOnRuleChange.emit(e),this.onChange()}onChange(){this.change.emit("never"===this.frequency?null:((s,i)=>{if(!s||!s.freq)return null;let e=s.weekStart,n="FREQ="+s.freq.toUpperCase(),o="",r="",a="",l=s.until;return s.interval>1&&(n+=";INTERVAL="+s.interval),s.count&&(n+=";COUNT="+s.count),l&&(n+=";UNTIL="+Q5e(l.toTimezone("Etc/UTC"),"yyyyMMddTHHmmss")+"Z"),s.byMonth&&(n+=";BYMONTH="+s.byMonth),s.byWeekNumber&&(n+=";BYWEEKNO="+s.byWeekNumber),s.byYearDay&&(n+=";BYYEARDAY="+s.byYearDay),s.byMonthDay&&(n+=";BYMONTHDAY="+s.byMonthDay),s.byWeekDay&&(n+=";BYDAY="+(s=>{const i=s.length,e=[];let n;for(let o=0;o<i;o++){let r=s[o];"string"==typeof r?n=r:(n=""+uUe[r.day],r.offset&&(n=r.offset+n)),e.push(n)}return e.toString()})(s.byWeekDay)),s.byHour&&(n+=";BYHOUR="+s.byHour),s.byMinute&&(n+=";BYMINUTE="+s.byMinute),s.bySecond&&(n+=";BYSECOND="+s.bySecond),s.bySetPosition&&(n+=";BYSETPOS="+s.bySetPosition),void 0!==e&&(n+=";WKST="+uUe[e]),s.start&&(r="DTSTART"+Lce([s.start])),s.end&&(a="DTEND"+Lce([s.end])),s.exceptionDates&&(o="EXDATE"+Lce(s.exceptionDates)),(r||a||o)&&(n=r+a+o+"RRULE:"+n),n})(this.rrule))}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Gt.Bs),t.KVO(j))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),KUe=(()=>{class s extends j{constructor(e,n,o,r){super(e,n,o),this.schedulerLocalization=r}get(e){return this.schedulerLocalization?this.schedulerLocalization.get("recurrenceEditor"+uj(e)):super.get(e)}}return s.\u0275fac=function(e){return new(e||s)(t.KVO(Ve),t.KVO(Gu,8),t.KVO(Vc,8),t.KVO(gj,8))},s.\u0275prov=t.jDH({token:s,factory:s.\u0275fac}),s})(),JUe=(()=>{class s{constructor(e,n){this.recurrence=e,this.localization=n}ngOnInit(){this.frequencies=this.recurrence.frequencies}get selected(){return this.recurrence.frequency}onClick(e){e.value!==this.selected&&this.recurrence.setFrequency(e.value)}textFor(e){return this.localization.get(e)}onFrequencyClick(){const e=this.weekDayButtons.toArray().find(n=>n.selected);e&&e.focus()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(c1),t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-recurrence-frequency-editor"]],viewQuery:function(e,n){if(1&e&&t.GBs($t,5),2&e){let o;t.mGM(o=t.lsd())&&(n.weekDayButtons=o)}},decls:5,vars:2,consts:[[1,"k-form-field"],["labelCssClass","k-form-label",3,"click","text"],[1,"k-form-field-wrap"],["width","100%","selection","single",1,"k-scheduler-recurrence-repeat","k-button-group-solid"],["kendoButton","",3,"togglable","selected","click",4,"ngFor","ngForOf"],["kendoButton","",3,"click","togglable","selected"]],template:function(e,n){1&e&&(t.j41(0,"div",0)(1,"kendo-label",1),t.bIt("click",function(){return n.onFrequencyClick()}),t.k0s(),t.j41(2,"div",2)(3,"kendo-buttongroup",3),t.DNE(4,osn,2,3,"button",4),t.k0s()()()),2&e&&(t.R7$(),t.Y8G("text",n.textFor("repeat")),t.R7$(3),t.Y8G("ngForOf",n.frequencies))},dependencies:[Hf,oq,$t,st],encapsulation:2}),s})(),qUe=(()=>{class s{constructor(e,n){this.recurrence=e,this.localization=n,this.cssClass=!0,this.numericOptions={min:1,format:"#",autoCorrect:!0,step:1,spinners:!0},this.intervalValue=this.recurrence.rrule.interval||1}set userNumericOptions(e){this.numericOptions={...this.numericOptions,...e}}get currentFreq(){return this.recurrence.frequency}onIntervalChange(e){mn(e)&&(this.recurrence.interval=e)}onIntervalBlur(){mn(this.intervalValue)||(this.recurrence.interval=this.intervalValue=1)}textForRepeatEvery(){switch(this.currentFreq){case"daily":return this.textFor("dailyRepeatEvery");case"weekly":return this.textFor("weeklyRepeatEvery");case"monthly":return this.textFor("monthlyRepeatEvery");case"yearly":return this.textFor("yearlyRepeatEvery")}}textForFrequency(){switch(this.currentFreq){case"daily":return this.textFor("dailyInterval");case"weekly":return this.textFor("weeklyInterval");case"monthly":return this.textFor("monthlyInterval");case"yearly":return this.textFor("yearlyInterval")}}textFor(e){return this.localization.get(e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(c1),t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-recurrence-interval-editor"]],hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-scheduler-recurrence-interval-editor",n.cssClass)},inputs:{userNumericOptions:"userNumericOptions"},decls:8,vars:16,consts:[["intervalNumeric",""],[1,"k-form-field"],["labelCssClass","k-form-label",3,"click","for","text"],[1,"k-form-field-wrap"],[1,"k-recur-interval",3,"valueChange","blur","min","max","decimals","format","autoCorrect","readonly","selectOnFocus","spinners","step","title","value"],[3,"increment","decrement"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"div",1)(1,"kendo-label",2),t.bIt("click",function(){t.eBV(o);const a=t.sdS(4);return t.Njj(a.focus())}),t.k0s(),t.j41(2,"div",3)(3,"kendo-numerictextbox",4,0),t.mxI("valueChange",function(a){return t.eBV(o),t.DH7(n.intervalValue,a)||(n.intervalValue=a),t.Njj(a)}),t.bIt("blur",function(){return t.eBV(o),t.Njj(n.onIntervalBlur())})("valueChange",function(a){return t.eBV(o),t.Njj(n.onIntervalChange(a))}),t.nrm(5,"kendo-numerictextbox-messages",5),t.k0s(),t.j41(6,"span"),t.EFF(7),t.k0s()()()}if(2&e){const o=t.sdS(4);t.R7$(),t.Y8G("for",o)("text",n.textForRepeatEvery()),t.R7$(2),t.Y8G("min",n.numericOptions.min)("max",n.numericOptions.max)("decimals",0)("format",n.numericOptions.format)("autoCorrect",n.numericOptions.autoCorrect)("readonly",n.numericOptions.readonly)("selectOnFocus",n.numericOptions.selectOnFocus)("spinners",n.numericOptions.spinners)("step",n.numericOptions.step)("title",n.numericOptions.title),t.R50("value",n.intervalValue),t.R7$(2),t.Y8G("increment",n.textFor("numericIncrement"))("decrement",n.textFor("numericDecrement")),t.R7$(2),t.SpI("\xa0",n.textForFrequency(),"")}},dependencies:[Hf,$c,_x],encapsulation:2}),s})(),QUe=(()=>{class s{constructor(e,n){this.recurrence=e,this.localization=n,this.selected=[],this.weekDays=this.recurrence.weekDays,this.setSelectedDays()}setSelectedDays(){for(let e=0;e<7;e++)this.selected[e]=!1;mn(this.rrule.byWeekDay)&&this.rrule.byWeekDay.forEach(e=>{this.selected[e.day]=!0})}onSelectedChange(e,n){this.selected[n]=e,this.recurrence.setWeekDays(this.serializeToWeekDayRuleArray(this.selected))}isSelected(e){return this.selected[e.value]}serializeToWeekDayRuleArray(e){const n=[];return e.forEach((o,r)=>{o&&n.push({day:r,offset:0})}),n.length>0?n:null}get rrule(){return this.recurrence.rrule}capitalize(e){return uj(e)}textFor(e){return this.localization.get(e)}onWeeklyRepeatOnClick(){const e=this.weekDayButtons.toArray().find(n=>n.selected);e&&e.focus()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(c1),t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-recurrence-weekday-rule-editor"]],viewQuery:function(e,n){if(1&e&&t.GBs($t,5),2&e){let o;t.mGM(o=t.lsd())&&(n.weekDayButtons=o)}},decls:5,vars:2,consts:[[1,"k-form-field"],["labelCssClass","k-form-label",3,"click","text"],[1,"k-form-field-wrap"],["width","100%","selection","multiple",1,"k-button-group-solid"],["kendoButton","",3,"toggleable","selected","selectedChange",4,"ngFor","ngForOf"],["kendoButton","",3,"selectedChange","toggleable","selected"]],template:function(e,n){1&e&&(t.j41(0,"div",0)(1,"kendo-label",1),t.bIt("click",function(){return n.onWeeklyRepeatOnClick()}),t.k0s(),t.j41(2,"div",2)(3,"kendo-buttongroup",3),t.DNE(4,rsn,2,3,"button",4),t.k0s()()()),2&e&&(t.R7$(),t.Y8G("text",n.textFor("weeklyRepeatOn")),t.R7$(3),t.Y8G("ngForOf",n.weekDays))},dependencies:[Hf,oq,$t,st],encapsulation:2}),s})(),ude=(()=>{class s{constructor(e,n,o,r){this.el=e,this.renderer=n,this.recurrence=o,this.changeDetector=r,this.type="radio",this.radioClass=!0,this.radioSizeClass=!0,this.destroyClick=this.renderer.listen(this.elem,"click",this.onClick.bind(this))}set repeatOnRule(e){const n=e.split("-");this._repeatOnRule=n[0],this._uniqueId=n[1]}ngOnInit(){this.renderer.setAttribute(this.elem,"id",`k-repeaton-${this._repeatOnRule}-${this._uniqueId}`),this.renderer.setAttribute(this.elem,"name",`day-${this._uniqueId}`)}ngAfterContentChecked(){this.setCheckedState()}ngOnDestroy(){this.destroyClick&&this.destroyClick()}onClick(){this.elem.checked&&(this.recurrence.repeatOnRule=this._repeatOnRule,this.changeDetector.markForCheck())}setCheckedState(){this.renderer.setProperty(this.elem,"checked",this._repeatOnRule===this.recurrence.repeatOnRule)}get elem(){return this.el.nativeElement}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(c1),t.rXU(t.gRc))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoRecurrenceRepeatOnRadioButton",""]],hostVars:5,hostBindings:function(e,n){2&e&&(t.BMQ("type",n.type),t.AVh("k-radio",n.radioClass)("k-radio-md",n.radioSizeClass))},inputs:{repeatOnRule:[t.Mj6.None,"kendoRecurrenceRepeatOnRadioButton","repeatOnRule"]}}),s})(),ZUe=(()=>{class s{constructor(e,n){this.recurrence=e,this.localization=n,this.uniqueId=this.recurrence.getUniqueId(),this.numericOptions={min:1,max:31,format:"#",autoCorrect:!0,step:1,spinners:!0},this.setInitialValues(),this.subscribeEventHandlers()}set userNumericOptions(e){this.numericOptions={...this.numericOptions,...e}}setInitialValues(){this.extendedWeekDays=this.recurrence.extendedWeekDays,this.offsetPositions=this.recurrence.offsetPositions,this.currentOffset=this.defaultOffset,this.currentWeekDay=this.defaultWeekDay,"yearly"===this.currentFreq&&(this.months=this.recurrence.months,this.currentMonthMonthDay=this.currentMonthWeekDay=this.recurrence.rrule.byMonth[0])}subscribeEventHandlers(){this.subs=this.recurrence.repeatOnRuleChange.subscribe(this.onRepeatOnRuleChange.bind(this)),this.subs.add(this.recurrence.frequencyChange.subscribe(this.onFrequencyChange.bind(this)))}onRepeatOnRuleChange(e){"monthday"===e?(this.recurrence.rrule.byMonthDay=[this.monthDay],"yearly"===this.currentFreq&&(this.recurrence.rrule.byMonth=[this.currentMonthMonthDay])):"weekday"===e&&("string"==typeof this.weekDay?(this.recurrence.rrule.bySetPosition=[this.offset],this.recurrence.rrule.byWeekDay=this.weekDayRuleFromString(this.weekDay)):this.recurrence.rrule.byWeekDay=[{day:this.weekDay,offset:this.offset}],"yearly"===this.currentFreq&&(this.recurrence.rrule.byMonth=[this.currentMonthWeekDay]))}onFrequencyChange(){this.setInitialValues()}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}get monthDay(){const e=this.recurrence.rrule;return mn(e.byMonthDay)&&e.byMonthDay.length>0?e.byMonthDay[0]:mn(this.currentMonthDay)?this.currentMonthDay:this.recurrence.start.getDate()}get weekDay(){const e=this.recurrence.rrule;if(mn(e.byWeekDay))switch(e.byWeekDay.length){case 7:return"day";case 5:return"weekday";case 2:return"weekend";case 1:return e.byWeekDay[0].day}else if(mn(this.currentWeekDay))return this.currentWeekDay;return this.defaultWeekDay}get offset(){const e=this.recurrence.rrule;if(mn(e.byWeekDay))switch(e.byWeekDay.length){case 7:case 5:case 2:return e.bySetPosition[0];case 1:return e.byWeekDay[0].offset}else if(mn(this.currentOffset))return this.currentOffset;return this.defaultOffset}onMonthChange(e,n){"monthday"===n?this.currentMonthMonthDay=e:this.currentMonthWeekDay=e,this.recurrence.setMonths([e])}onMonthDayChange(e){this.currentMonthDay=e,this.recurrence.monthDays=[e]}onOffsetPositionChange(e){const n=this.recurrence.rrule;if(mn(n.byWeekDay))switch(n.byWeekDay.length){case 7:case 5:case 2:this.recurrence.positions=[e];break;case 1:n.byWeekDay[0].offset=e,this.recurrence.onChange()}this.currentOffset=e}onWeekDayChange(e){let n;"string"==typeof e?(n=this.weekDayRuleFromString(e),this.recurrence.positions=[this.offset]):n=[{day:e,offset:this.offset}],this.currentWeekDay=e,this.recurrence.setWeekDays(n)}isDisabled(e){return this.recurrence.repeatOnRule!==e}get currentFreq(){return this.recurrence.frequency}get defaultOffset(){return 1}get defaultWeekDay(){return this.recurrence.start.getDay()}weekDayRuleFromString(e){switch(e){case"day":return Scn;case"weekday":return Ccn;case"weekend":return bcn}return null}textForRepeatOn(){switch(this.currentFreq){case"monthly":return this.textFor("monthlyRepeatOn");case"yearly":return this.textFor("yearlyRepeatOn")}}textFor(e){return this.localization.get(e)}onRepeatOnLabelClick(){const e=this.repeatOnRadioButtons.toArray().find(n=>n.elem.checked);e&&e.elem.focus()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(c1),t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-recurrence-monthly-yearly-editor"]],viewQuery:function(e,n){if(1&e&&t.GBs(ude,5),2&e){let o;t.mGM(o=t.lsd())&&(n.repeatOnRadioButtons=o)}},inputs:{userNumericOptions:"userNumericOptions"},decls:19,vars:40,consts:[[1,"k-form-field"],["labelCssClass","k-form-label",3,"click","text"],[1,"k-form-field-wrap"],[1,"k-radio-list"],[1,"k-radio-list-item"],[1,"k-radio-wrap"],[3,"kendoRecurrenceRepeatOnRadioButton"],[1,"k-radio-label",3,"labelClass","for"],[3,"ngIf"],[1,"k-recur-monthday",3,"valueChange","min","max","decimals","format","autoCorrect","readonly","selectOnFocus","spinners","step","title","value","disabled"],[3,"increment","decrement"],["textField","text","valueField","value",3,"valueChange","data","value","valuePrimitive","disabled"]],template:function(e,n){1&e&&(t.j41(0,"div",0)(1,"kendo-label",1),t.bIt("click",function(){return n.onRepeatOnLabelClick()}),t.k0s(),t.j41(2,"div",2)(3,"ul",3)(4,"li",4)(5,"span",5),t.nrm(6,"input",6),t.k0s(),t.j41(7,"label",7),t.DNE(8,asn,1,1,"ng-template",8),t.k0s(),t.DNE(9,lsn,1,8,"ng-template",8),t.j41(10,"kendo-numerictextbox",9),t.bIt("valueChange",function(r){return n.onMonthDayChange(r)}),t.nrm(11,"kendo-numerictextbox-messages",10),t.k0s()(),t.j41(12,"li",4)(13,"span",5),t.nrm(14,"input",6),t.k0s(),t.nrm(15,"label",7),t.j41(16,"kendo-dropdownlist",11),t.bIt("valueChange",function(r){return n.onOffsetPositionChange(r)}),t.k0s(),t.j41(17,"kendo-dropdownlist",11),t.bIt("valueChange",function(r){return n.onWeekDayChange(r)}),t.k0s(),t.DNE(18,csn,3,7,"ng-template",8),t.k0s()()()()),2&e&&(t.R7$(),t.Y8G("text",n.textForRepeatOn()),t.R7$(5),t.Mz_("kendoRecurrenceRepeatOnRadioButton","monthday-",n.uniqueId,""),t.R7$(),t.Mz_("for","k-repeaton-monthday-",n.uniqueId,""),t.Y8G("labelClass",!1),t.R7$(),t.Y8G("ngIf","monthly"===n.currentFreq),t.R7$(),t.Y8G("ngIf","yearly"===n.currentFreq),t.R7$(),t.Y8G("min",n.numericOptions.min)("max",n.numericOptions.max)("decimals",0)("format",n.numericOptions.format)("autoCorrect",n.numericOptions.autoCorrect)("readonly",n.numericOptions.readonly)("selectOnFocus",n.numericOptions.selectOnFocus)("spinners",n.numericOptions.spinners)("step",n.numericOptions.step)("title",n.numericOptions.title)("value",n.monthDay)("disabled",n.isDisabled("monthday")),t.R7$(),t.Y8G("increment",n.textFor("numericIncrement"))("decrement",n.textFor("numericDecrement")),t.R7$(3),t.Mz_("kendoRecurrenceRepeatOnRadioButton","weekday-",n.uniqueId,""),t.R7$(),t.Mz_("for","k-repeaton-weekday-",n.uniqueId,""),t.Y8G("labelClass",!1),t.R7$(),t.xc7("margin","0 .4ex 0 1ex"),t.Y8G("data",n.offsetPositions)("value",n.offset)("valuePrimitive",!0)("disabled",n.isDisabled("weekday")),t.R7$(),t.xc7("margin","0 .4ex 0 1ex"),t.Y8G("data",n.extendedWeekDays)("value",n.weekDay)("valuePrimitive",!0)("disabled",n.isDisabled("weekday")),t.R7$(),t.Y8G("ngIf","yearly"===n.currentFreq))},dependencies:[Hf,io,$c,_x,ude,L0,W],encapsulation:2}),s})(),hde=(()=>{class s{constructor(e,n,o,r){this.el=e,this.renderer=n,this.recurrence=o,this.changeDetector=r,this.type="radio",this.radioClass=!0,this.radioSizeClass=!0,this.destroyClick=this.renderer.listen(this.elem,"click",this.onClick.bind(this))}ngOnInit(){this.endRule=this.endRuleId.split("-")[2],this.renderer.setAttribute(this.elem,"id",this.endRuleId),this.renderer.setAttribute(this.elem,"name",`end-${this.endRuleId.split("-").pop()}`)}ngAfterContentChecked(){this.setCheckedState()}ngOnDestroy(){this.destroyClick&&this.destroyClick()}onClick(){this.elem.checked&&(this.recurrence.endRule=this.endRule,this.changeDetector.markForCheck())}setCheckedState(){this.renderer.setProperty(this.elem,"checked",this.endRule===this.recurrence.endRule)}get elem(){return this.el.nativeElement}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(c1),t.rXU(t.gRc))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoRecurrenceEndRuleRadioButton",""]],hostVars:5,hostBindings:function(e,n){2&e&&(t.BMQ("type",n.type),t.AVh("k-radio",n.radioClass)("k-radio-md",n.radioSizeClass))},inputs:{endRuleId:[t.Mj6.None,"kendoRecurrenceEndRuleRadioButton","endRuleId"]}}),s})(),e7e=(()=>{class s{constructor(e,n){this.recurrence=e,this.localization=n,this.cssClass=!0,this.numericOptions={min:1,format:"#",autoCorrect:!0,step:1,spinners:!0},this.datePickerOptions={activeView:"month",bottomView:"month",topView:"century",disabledDatesValidation:!0,navigation:!0,format:"d"},this.uniqueId=this.recurrence.getUniqueId(),this.setInitialValues(),this.subscribeChanges()}set userNumericOptions(e){this.numericOptions={...this.numericOptions,...e}}set userDatePickerOptions(e){this.datePickerOptions={...this.datePickerOptions,...e}}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}setEndRule(e){"count"===e?this.recurrence.rrule.count=this.countValue:"until"===e&&(this.recurrence.until=this.untilValue)}get rrule(){return this.recurrence.rrule}get isCountDisabled(){return"count"!==this.recurrence.endRule}get isUntilDisabled(){return"until"!==this.recurrence.endRule}onCountChange(e){mn(e)&&(this.recurrence.count=e)}onCountBlur(){mn(this.countValue)||(this.recurrence.count=this.countValue=1)}onUntilChange(e){mn(e)&&(this.recurrence.until=this.createUntil(e))}onUntilBlur(){mn(this.untilValue)||(this.recurrence.until=this.untilValue=this.createUntil(this.recurrence.start))}textFor(e){return this.localization.get(e)}onEndLabelClick(){const e=this.endRuleRadioButtons.toArray().find(n=>n.elem.checked);e&&e.elem.focus()}setInitialValues(){this.countValue=this.rrule.count||1;const e=this.recurrence.until,n=this.recurrence.start;this.untilValue=mn(e)?e:this.createUntil(n)}subscribeChanges(){this.subscriptions=this.recurrence.endRuleChange.subscribe(e=>{this.setEndRule(e)}),this.subscriptions.add(this.recurrence.frequencyChange.subscribe(()=>{this.setInitialValues()}))}createUntil(e){const n=Yr(e);return n.setUTCDate(n.getUTCDate()+1),Ji.fromUTCDate(n,this.recurrence.timezone).toLocalDate()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(c1),t.rXU(j))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-recurrence-end-rule-editor"]],viewQuery:function(e,n){if(1&e&&t.GBs(hde,5),2&e){let o;t.mGM(o=t.lsd())&&(n.endRuleRadioButtons=o)}},hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-scheduler-recurrence-end-rule-editor",n.cssClass)},inputs:{userNumericOptions:"userNumericOptions",userDatePickerOptions:"userDatePickerOptions"},decls:26,vars:60,consts:[["afterOccurances",""],[1,"k-form-field"],["labelCssClass","k-form-label",3,"click","text"],[1,"k-form-field-wrap"],[1,"k-radio-list"],[1,"k-radio-list-item"],[1,"k-radio-wrap"],[3,"kendoRecurrenceEndRuleRadioButton"],[1,"k-radio-label",3,"labelClass","for"],[1,"k-recur-count",3,"valueChange","blur","autoCorrect","decimals","disabled","format","min","max","readonly","selectOnFocus","spinners","step","title","value"],[3,"increment","decrement"],[1,"k-recur-until",3,"valueChange","blur","disabled","activeView","bottomView","disabledDatesValidation","focusedDate","format","formatPlaceholder","max","min","navigation","placeholder","readOnlyInput","readonly","title","topView","weekNumber","disabledDates","popupSettings","value"],[3,"today","toggle","parentViewButtonTitle"]],template:function(e,n){if(1&e){const o=t.RV6();t.j41(0,"div",1)(1,"kendo-label",2),t.bIt("click",function(){return t.eBV(o),t.Njj(n.onEndLabelClick())}),t.k0s(),t.j41(2,"div",3)(3,"ul",4)(4,"li",5)(5,"span",6),t.nrm(6,"input",7),t.k0s(),t.j41(7,"label",8),t.EFF(8),t.k0s()(),t.j41(9,"li",5)(10,"span",6),t.nrm(11,"input",7),t.k0s(),t.j41(12,"label",8),t.EFF(13),t.k0s(),t.j41(14,"kendo-numerictextbox",9,0),t.mxI("valueChange",function(a){return t.eBV(o),t.DH7(n.countValue,a)||(n.countValue=a),t.Njj(a)}),t.bIt("blur",function(){return t.eBV(o),t.Njj(n.onCountBlur())})("valueChange",function(a){return t.eBV(o),t.Njj(n.onCountChange(a))}),t.nrm(16,"kendo-numerictextbox-messages",10),t.k0s(),t.j41(17,"span"),t.EFF(18),t.k0s()(),t.j41(19,"li",5)(20,"span",6),t.nrm(21,"input",7),t.k0s(),t.j41(22,"label",8),t.EFF(23),t.k0s(),t.j41(24,"kendo-datepicker",11),t.mxI("valueChange",function(a){return t.eBV(o),t.DH7(n.untilValue,a)||(n.untilValue=a),t.Njj(a)}),t.bIt("blur",function(){return t.eBV(o),t.Njj(n.onUntilBlur())})("valueChange",function(a){return t.eBV(o),t.Njj(n.onUntilChange(a))}),t.nrm(25,"kendo-datepicker-messages",12),t.k0s()()()()()}2&e&&(t.R7$(),t.Y8G("text",n.textFor("endLabel")),t.R7$(5),t.Mz_("kendoRecurrenceEndRuleRadioButton","k-endrule-never-",n.uniqueId,""),t.R7$(),t.Mz_("for","k-endrule-never-",n.uniqueId,""),t.Y8G("labelClass",!1),t.R7$(),t.JRh(n.textFor("endNever")),t.R7$(3),t.Mz_("kendoRecurrenceEndRuleRadioButton","k-endrule-count-",n.uniqueId,""),t.R7$(),t.Mz_("for","k-endrule-count-",n.uniqueId,""),t.Y8G("labelClass",!1),t.R7$(),t.JRh(n.textFor("endAfter")),t.R7$(),t.xc7("width",70,"px"),t.Y8G("autoCorrect",n.numericOptions.autoCorrect)("decimals",0)("disabled",n.isCountDisabled)("format",n.numericOptions.format)("min",n.numericOptions.min)("max",n.numericOptions.max)("readonly",n.numericOptions.readonly)("selectOnFocus",n.numericOptions.selectOnFocus)("spinners",n.numericOptions.spinners)("step",n.numericOptions.step)("title",n.numericOptions.title),t.R50("value",n.countValue),t.R7$(2),t.Y8G("increment",n.textFor("numericIncrement"))("decrement",n.textFor("numericDecrement")),t.R7$(2),t.JRh(n.textFor("endOccurrence")),t.R7$(3),t.Mz_("kendoRecurrenceEndRuleRadioButton","k-endrule-until-",n.uniqueId,""),t.R7$(),t.Mz_("for","k-endrule-until-",n.uniqueId,""),t.Y8G("labelClass",!1),t.R7$(),t.JRh(n.textFor("endOn")),t.R7$(),t.xc7("width",150,"px"),t.Y8G("disabled",n.isUntilDisabled)("activeView",n.datePickerOptions.activeView)("bottomView",n.datePickerOptions.bottomView)("disabledDatesValidation",n.datePickerOptions.disabledDatesValidation)("focusedDate",n.datePickerOptions.focusedDate)("format",n.datePickerOptions.format)("formatPlaceholder",n.datePickerOptions.formatPlaceHolder)("max",n.datePickerOptions.max)("min",n.datePickerOptions.min)("navigation",n.datePickerOptions.navigation)("placeholder",n.datePickerOptions.placeholder)("readOnlyInput",n.datePickerOptions.readOnlyInput)("readonly",n.datePickerOptions.readonly)("title",n.datePickerOptions.title)("topView",n.datePickerOptions.topView)("weekNumber",n.datePickerOptions.weekNumber)("disabledDates",n.datePickerOptions.disabledDates)("popupSettings",n.datePickerOptions.popupSettings),t.R50("value",n.untilValue),t.R7$(),t.Y8G("today",n.textFor("dateInputsToday"))("toggle",n.textFor("dateInputsToggle"))("parentViewButtonTitle",n.textFor("dateInputsParentViewButton")))},dependencies:[Hf,$c,_x,rp,wU,hde,L0],encapsulation:2}),s})(),Cj=(()=>{class s extends Gi{}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275dir=t.FsC({type:s,inputs:{repeat:"repeat",dailyInterval:"dailyInterval",dailyRepeatEvery:"dailyRepeatEvery",weeklyInterval:"weeklyInterval",weeklyRepeatEvery:"weeklyRepeatEvery",weeklyRepeatOn:"weeklyRepeatOn",monthlyDay:"monthlyDay",monthlyInterval:"monthlyInterval",monthlyRepeatEvery:"monthlyRepeatEvery",monthlyRepeatOn:"monthlyRepeatOn",yearlyOf:"yearlyOf",yearlyRepeatEvery:"yearlyRepeatEvery",yearlyRepeatOn:"yearlyRepeatOn",yearlyInterval:"yearlyInterval",frequenciesDaily:"frequenciesDaily",frequenciesMonthly:"frequenciesMonthly",frequenciesNever:"frequenciesNever",frequenciesWeekly:"frequenciesWeekly",frequenciesYearly:"frequenciesYearly",offsetPositionsFirst:"offsetPositionsFirst",offsetPositionsSecond:"offsetPositionsSecond",offsetPositionsThird:"offsetPositionsThird",offsetPositionsFourth:"offsetPositionsFourth",offsetPositionsLast:"offsetPositionsLast",weekdaysDay:"weekdaysDay",weekdaysWeekday:"weekdaysWeekday",weekdaysWeekendday:"weekdaysWeekendday",endAfter:"endAfter",endOccurrence:"endOccurrence",endLabel:"endLabel",endNever:"endNever",endOn:"endOn",numericIncrement:"numericIncrement",numericDecrement:"numericDecrement",dateInputsToday:"dateInputsToday",dateInputsToggle:"dateInputsToggle",dateInputsParentViewButton:"dateInputsParentViewButton"},features:[t.Vt3]}),s})(),t7e=(()=>{class s extends Cj{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoRecurrenceEditorLocalizedMessages",""]],features:[t.Jv_([{provide:Cj,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})();const Ecn={multi:!0,provide:Yn,useExisting:(0,t.Rfq)(()=>pde)};let pde=(()=>{class s{constructor(e,n){this.recurrenceService=e,this.intl=n,this.cssClass=!0,this.timezone="Etc/UTC",this.valueChange=new t.bkB,this.onTouchedCallback=o=>{},this.onChangeCallback=o=>{},this.weekStart=this.intl.firstDay(),this.subscriptions=this.recurrenceService.change.subscribe(o=>{this.emitChange(o)})}set start(e){this._start=e}get start(){return mn(this._start)?this._start:Dn(new Date)}get currentFreq(){return this.recurrenceService.frequency}ngOnInit(){this.recurrenceService.init("",this.start,this.timezone,this.weekStart)}ngOnChanges(e){Dt("start",e)&&(this.recurrenceService.start=this.start)}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}writeValue(e){this.recurrenceService.init("string"==typeof e?e:"",this.start,this.timezone,this.weekStart)}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}emitChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(c1),t.rXU(Gt.Bs))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-recurrence-editor"]],hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-recurrence-editor",n.cssClass)},inputs:{start:"start",timezone:"timezone",weekStart:"weekStart",repeatEveryOptions:"repeatEveryOptions",endAfterOptions:"endAfterOptions",repeatOnOptions:"repeatOnOptions",endOnOptions:"endOnOptions"},outputs:{valueChange:"valueChange"},exportAs:["kendoRecurrenceEditor"],features:[t.Jv_([KUe,{provide:j,useExisting:KUe},{provide:Ve,useValue:"kendo.recurrenceeditor"},Ecn,c1]),t.OA$],decls:7,vars:4,consts:()=>{let i,e,n,o,r,a,l,c,u,f,_,g,S,b,k,D,O,I,N,P,G,H,$,Q,ie,ce,re,Ne,ue,ye,se,te,le,ve,Se,Me,Ut;return i="Ripeti",e="giorno(i)",n="Ripeti ogni:",o="settimana(e)",r="Ripeti ogni:",a="Ripeti quando:",l="Giorno",c="mese(i)",u="Ripeti ogni:",f="Repeti quando:",_="di",g="Ripeti ogni:",S="Ripeti quando:",b="anno(i)",k="Ogni giorno",D="Ogni mese",O="Mai",I="Ogni settimana",N="Ogni anno",P="First",G="secondo",H="terzo",$="quarto",Q="ultimo",ie="giorno",ce="giorno della settimana",re="giorno finesettimana",Ne="Dopo",ue="Occorrenza(e)",ye="Fine:",se="Mai",te="Il",le="Increase value",ve="Decrease value",Se="Today",Me="Toggle popup",Ut="Navigate to parent view",[["kendoRecurrenceEditorLocalizedMessages","","repeat",i,"dailyInterval",e,"dailyRepeatEvery",n,"weeklyInterval",o,"weeklyRepeatEvery",r,"weeklyRepeatOn",a,"monthlyDay",l,"monthlyInterval",c,"monthlyRepeatEvery",u,"monthlyRepeatOn",f,"yearlyOf",_,"yearlyRepeatEvery",g,"yearlyRepeatOn",S,"yearlyInterval",b,"frequenciesDaily",k,"frequenciesMonthly",D,"frequenciesNever",O,"frequenciesWeekly",I,"frequenciesYearly",N,"offsetPositionsFirst",P,"offsetPositionsSecond",G,"offsetPositionsThird",H,"offsetPositionsFourth",$,"offsetPositionsLast",Q,"weekdaysDay",ie,"weekdaysWeekday",ce,"weekdaysWeekendday",re,"endAfter",Ne,"endOccurrence",ue,"endLabel",ye,"endNever",se,"endOn",te,"numericIncrement",le,"numericDecrement",ve,"dateInputsToday",Se,"dateInputsToggle",Me,"dateInputsParentViewButton",Ut],[1,"k-recur-view"],[3,"userNumericOptions",4,"ngIf"],[4,"ngIf"],[3,"userNumericOptions","userDatePickerOptions",4,"ngIf"],[3,"userNumericOptions"],[3,"userNumericOptions","userDatePickerOptions"]]},template:function(e,n){1&e&&(t.eu8(0,0),t.nrm(1,"kendo-recurrence-frequency-editor"),t.j41(2,"div",1),t.DNE(3,dsn,1,1,"kendo-recurrence-interval-editor",2)(4,usn,1,0,"kendo-recurrence-weekday-rule-editor",3)(5,hsn,1,1,"kendo-recurrence-monthly-yearly-editor",2)(6,psn,1,2,"kendo-recurrence-end-rule-editor",4),t.k0s()),2&e&&(t.R7$(3),t.Y8G("ngIf","never"!==n.currentFreq),t.R7$(),t.Y8G("ngIf","weekly"===n.currentFreq),t.R7$(),t.Y8G("ngIf","monthly"===n.currentFreq||"yearly"===n.currentFreq),t.R7$(),t.Y8G("ngIf","never"!==n.currentFreq))},dependencies:[JUe,qUe,QUe,ZUe,e7e,t7e,W],encapsulation:2}),s})(),n7e=(()=>{class s{constructor(e,n,o,r,a,l){this.ngZone=e,this.editService=n,this.localization=o,this.changeDetector=r,this.element=a,this.focusService=l,this.resources=[],this.timezone="Etc/UTC",this.setTimeZone=!1,this.setSeparateStartEndTimeZones=!1,this.saveIcon=WC,this.cancelIcon=upe,this.subs=this.editService.changed.subscribe(()=>{this.ngZone.run(()=>{this.onChange()})}),this.subs.add(wt(this.element.nativeElement,"keydown").pipe(z(()=>this.isActive)).subscribe(c=>{c.keyCode===F.Escape&&this.reset(),c.keyCode===F.Enter&&(E6(c,_d.CtrlKey)||E6(c,_d.MetaKey))&&this.onSave(c),c.stopPropagation()}))}get autoFocusedElement(){return this.editTemplate?this.editTemplate.autoFocusedElement:".k-form-field input"}get isEditingSeries(){return this.editMode===Rl.Series&&!!this.formGroup.get(this.fields.recurrenceRule)}get eventTimezone(){return $Ue(this.formGroup,this.fields.startTimezone,this.timezone)}get endTimezone(){return $Ue(this.formGroup,this.fields.endTimezone,this.eventTimezone)}onChange(){if(this.changeDetector.markForCheck(),this.editService.hasNewEvent)this.editMode=Rl.Series,this.formGroup=this.editService.context.formGroup,this.isNew=!0,this.applyLocalTimezone();else{if(!this.editService.isEditing())return void this.reset();{const{dataItem:e,mode:n}=this.editService.context;this.formGroup=this.editService.context.formGroup,this.isNew=!1,this.editedEvent=e,this.editMode=mn(n)?n:Rl.Series,this.applyLocalTimezone()}}this.editTemplate||(this.addTimeZoneCheckboxesToFormGroup(),this.subscribeToFormGroupChanges()),mn(this.formGroup)&&(this.recurrenceStart=this.formGroup.get(this.fields.start).value),this.isActive=!0}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}onCancel(e){e.preventDefault(),this.onClose(),this.changeDetector.markForCheck()}onSave(e){e.preventDefault(),this.applyTimezone(),this.editService.save(),this.changeDetector.markForCheck()}onClose(){this.editService.endEdit(),this.changeDetector.markForCheck(),this.focusService.focus()}get hasAllDay(){return!!this.formGroup.get(this.fields.isAllDay)}get hasStartTimeZone(){return!!this.formGroup.get(this.fields.startTimezone)}get isStartTimeZoneVisible(){return this.formGroup&&this.formGroup.get("startTimezoneCheckbox").value}get hasEndTimeZone(){return!!this.formGroup.get(this.fields.endTimezone)}get isEndTimeZoneVisible(){return this.formGroup&&this.formGroup.get("endTimezoneCheckbox").value}getFormValue(e){if(e)return this.formGroup.get(e)}textFor(e){return this.localization.get(e)}onResourceClick(e){const o=(e.multiple?this.multipleResourceEditors:this.singleResourceEditors).filter(r=>r.resource.field===e.field).pop();o&&o.focus()}getControl(e){return this.formGroup.get(e)}reset(){this.isActive=!1,this.setTimeZone=!1,this.setSeparateStartEndTimeZones=!1,this.removeTimeZoneCheckboxesFromFormGroup(),this.focusService.focus()}addTimeZoneCheckboxesToFormGroup(){if(mn(this.formGroup)){const e=this.fields.startTimezone;this.formGroup.addControl("startTimezoneCheckbox",new fl(this.formGroup.contains(e)&&this.formGroup.get(e).value));const n=this.fields.endTimezone;this.formGroup.addControl("endTimezoneCheckbox",new fl(this.formGroup.contains(n)&&this.formGroup.get(n).value))}}removeTimeZoneCheckboxesFromFormGroup(){mn(this.formGroup)&&(this.formGroup.removeControl("startTimezoneCheckbox"),this.formGroup.removeControl("endTimezoneCheckbox"))}subscribeToFormGroupChanges(){if(mn(this.formGroup)){const e=this.fields;this.formGroup.get("startTimezoneCheckbox").valueChanges.subscribe(n=>{n||(this.formGroup.get(e.startTimezone).setValue(null,{emitEvent:!1}),this.formGroup.get(e.endTimezone).setValue(null,{emitEvent:!1}),this.formGroup.get("endTimezoneCheckbox").setValue(!1,{emitEvent:!1}))}),this.formGroup.get("endTimezoneCheckbox").valueChanges.subscribe(n=>{n||this.formGroup.get(e.endTimezone).setValue(null,{emitEvent:!1})}),this.formGroup.get(e.start).valueChanges.subscribe(n=>{this.recurrenceStart=n})}}applyLocalTimezone(){const e=this.fields,n=this.readDateAsLocal(e.start,this.eventTimezone),o=this.readDateAsLocal(e.end,this.endTimezone);this.formGroup.get(e.start).reset(n),this.formGroup.get(e.end).reset(o)}applyTimezone(){const e=this.fields,n=this.readDateWithTimezone(e.start,this.eventTimezone),o=this.readDateWithTimezone(e.end,this.endTimezone);this.formGroup.get(e.start).reset(n),this.formGroup.get(e.end).reset(o)}readDateWithTimezone(e,n){const o=this.formGroup.get(e).value;return Ji.fromUTCDate(vE(o),n).toLocalDate()}readDateAsLocal(e,n){const o=this.formGroup.get(e).value;return hr(Ji.fromLocalDate(o,n).toUTCDate())}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.SKi),t.rXU(nde),t.rXU(j),t.rXU(t.gRc),t.rXU(t.aKT),t.rXU(Hp))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-scheduler-edit-dialog"]],viewQuery:function(e,n){if(1&e&&(t.GBs(vj,5),t.GBs(Sj,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.multipleResourceEditors=o),t.mGM(o=t.lsd())&&(n.singleResourceEditors=o)}},inputs:{resources:"resources",timezone:"timezone",weekStart:"weekStart",fields:"fields",editTemplate:"editTemplate"},decls:1,vars:1,consts:[["title",""],["startDateTimePicker",""],["endDateTimePicker",""],["startTzPicker",""],["endTzPicker",""],["description",""],["class","k-scheduler-edit-dialog",3,"minWidth","title","autoFocusedElement","close",4,"ngIf"],[1,"k-scheduler-edit-dialog",3,"close","minWidth","title","autoFocusedElement"],[4,"ngIf"],["layout","start"],["kendoButton","","themeColor","primary","icon","save",3,"click","svgIcon","disabled"],["kendoButton","","icon","cancel-outline",3,"click","svgIcon"],["novalidate","",1,"k-scheduler-edit-form","k-form","k-form-md",3,"formGroup"],["labelCssClass","k-form-label",3,"for","text"],["kendoTextBox","","placeholder","Title",3,"formControl"],[3,"formControl","isAllDay"],[3,"formControl","start","timezone","weekStart",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"k-checkbox-wrap"],["id","k-set-timezone","type","checkbox","kendoCheckBox","","formControlName","startTimezoneCheckbox"],["for","k-set-timezone",1,"k-checkbox-label",3,"labelClass"],[3,"width","formControl"],["id","k-use-separate","type","checkbox","kendoCheckBox","","formControlName","endTimezoneCheckbox"],["for","k-use-separate",1,"k-checkbox-label",3,"labelClass"],["id","k-is-allday-chkbox","type","checkbox","kendoCheckBox","",3,"formControl"],["for","k-is-allday-chkbox",1,"k-checkbox-label",3,"labelClass"],[3,"formControl","start","timezone","weekStart"],["kendoTextArea","",3,"formControl"],[1,"k-label","k-form-label",3,"click"],[3,"formControl","resource",4,"ngIf"],[3,"formControl","resource"],["novalidate","",3,"formGroup"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,n){1&e&&t.DNE(0,Tsn,8,10,"kendo-dialog",6),2&e&&t.Y8G("ngIf",n.isActive)},dependencies:[EF,vr,Hf,cde,dde,pde,vj,Sj,jc,$t,W,Fi,Pi,ax,hSe,jo,Un,u0,aw,fQ,RF,L0,pSe,st,Je],encapsulation:2}),s})(),bj=(()=>{class s extends Gi{}return s.\u0275fac=(()=>{let i;return function(n){return(i||(i=t.xGo(s)))(n||s)}})(),s.\u0275dir=t.FsC({type:s,inputs:{allEvents:"allEvents",allDay:"allDay",dateHeader:"dateHeader",timeHeader:"timeHeader",eventHeader:"eventHeader",deleteTitle:"deleteTitle",nextTitle:"nextTitle",previousTitle:"previousTitle",today:"today",calendarToday:"calendarToday",showFullDay:"showFullDay",showWorkDay:"showWorkDay",dayViewTitle:"dayViewTitle",multiDayViewTitle:"multiDayViewTitle",weekViewTitle:"weekViewTitle",workWeekViewTitle:"workWeekViewTitle",monthViewTitle:"monthViewTitle",multiWeekViewTitle:"multiWeekViewTitle",timelineViewTitle:"timelineViewTitle",timelineWeekViewTitle:"timelineWeekViewTitle",timelineMonthViewTitle:"timelineMonthViewTitle",agendaViewTitle:"agendaViewTitle",yearViewTitle:"yearViewTitle",yearViewNoEvents:"yearViewNoEvents",cancel:"cancel",save:"save",editorEventTitle:"editorEventTitle",editorEventStart:"editorEventStart",editorEventStartTimeZone:"editorEventStartTimeZone",editorEventEnd:"editorEventEnd",editorEventEndTimeZone:"editorEventEndTimeZone",editorEventAllDay:"editorEventAllDay",editorEventDescription:"editorEventDescription",editorEventSeparateTimeZones:"editorEventSeparateTimeZones",editorEventTimeZone:"editorEventTimeZone",editorDateInputsToday:"editorDateInputsToday",editorDateInputsToggle:"editorDateInputsToggle",editorDateInputsParentViewButton:"editorDateInputsParentViewButton",editorDateInputsNow:"editorDateInputsNow",editorDateInputsNowLabel:"editorDateInputsNowLabel",editorDateInputsAccept:"editorDateInputsAccept",editorDateInputsAcceptLabel:"editorDateInputsAcceptLabel",editorDateInputsCancel:"editorDateInputsCancel",editorDateInputsCancelLabel:"editorDateInputsCancelLabel",editorDateInputsDateTab:"editorDateInputsDateTab",editorDateInputsDateTabLabel:"editorDateInputsDateTabLabel",editorDateInputsTimeTab:"editorDateInputsTimeTab",editorDateInputsTimeTabLabel:"editorDateInputsTimeTabLabel",recurrenceEditorDateInputsToday:"recurrenceEditorDateInputsToday",recurrenceEditorDateInputsToggle:"recurrenceEditorDateInputsToggle",recurrenceEditorDateInputsParentViewButton:"recurrenceEditorDateInputsParentViewButton",recurrenceEditorNumericIncrement:"recurrenceEditorNumericIncrement",recurrenceEditorNumericDecrement:"recurrenceEditorNumericDecrement",recurrenceEditorRepeat:"recurrenceEditorRepeat",recurrenceEditorDailyInterval:"recurrenceEditorDailyInterval",recurrenceEditorDailyRepeatEvery:"recurrenceEditorDailyRepeatEvery",recurrenceEditorWeeklyInterval:"recurrenceEditorWeeklyInterval",recurrenceEditorWeeklyRepeatEvery:"recurrenceEditorWeeklyRepeatEvery",recurrenceEditorWeeklyRepeatOn:"recurrenceEditorWeeklyRepeatOn",recurrenceEditorMonthlyDay:"recurrenceEditorMonthlyDay",recurrenceEditorMonthlyInterval:"recurrenceEditorMonthlyInterval",recurrenceEditorMonthlyRepeatEvery:"recurrenceEditorMonthlyRepeatEvery",recurrenceEditorMonthlyRepeatOn:"recurrenceEditorMonthlyRepeatOn",recurrenceEditorYearlyOf:"recurrenceEditorYearlyOf",recurrenceEditorYearlyRepeatEvery:"recurrenceEditorYearlyRepeatEvery",recurrenceEditorYearlyRepeatOn:"recurrenceEditorYearlyRepeatOn",recurrenceEditorYearlyInterval:"recurrenceEditorYearlyInterval",recurrenceEditorFrequenciesDaily:"recurrenceEditorFrequenciesDaily",recurrenceEditorFrequenciesMonthly:"recurrenceEditorFrequenciesMonthly",recurrenceEditorFrequenciesNever:"recurrenceEditorFrequenciesNever",recurrenceEditorFrequenciesWeekly:"recurrenceEditorFrequenciesWeekly",recurrenceEditorFrequenciesYearly:"recurrenceEditorFrequenciesYearly",recurrenceEditorOffsetPositionsFirst:"recurrenceEditorOffsetPositionsFirst",recurrenceEditorOffsetPositionsSecond:"recurrenceEditorOffsetPositionsSecond",recurrenceEditorOffsetPositionsThird:"recurrenceEditorOffsetPositionsThird",recurrenceEditorOffsetPositionsFourth:"recurrenceEditorOffsetPositionsFourth",recurrenceEditorOffsetPositionsLast:"recurrenceEditorOffsetPositionsLast",recurrenceEditorWeekdaysDay:"recurrenceEditorWeekdaysDay",recurrenceEditorWeekdaysWeekday:"recurrenceEditorWeekdaysWeekday",recurrenceEditorWeekdaysWeekendday:"recurrenceEditorWeekdaysWeekendday",recurrenceEditorEndAfter:"recurrenceEditorEndAfter",recurrenceEditorEndOccurrence:"recurrenceEditorEndOccurrence",recurrenceEditorEndLabel:"recurrenceEditorEndLabel",recurrenceEditorEndNever:"recurrenceEditorEndNever",recurrenceEditorEndOn:"recurrenceEditorEndOn",editorTitle:"editorTitle",destroy:"destroy",deleteConfirmation:"deleteConfirmation",editRecurringConfirmation:"editRecurringConfirmation",editOccurrence:"editOccurrence",editSeries:"editSeries",deleteRecurringConfirmation:"deleteRecurringConfirmation",deleteOccurrence:"deleteOccurrence",deleteSeries:"deleteSeries",deleteDialogTitle:"deleteDialogTitle",deleteRecurringDialogTitle:"deleteRecurringDialogTitle",editRecurringDialogTitle:"editRecurringDialogTitle",selectView:"selectView"},features:[t.Vt3]}),s})(),i7e=(()=>{class s extends bj{constructor(e){super(),this.service=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoSchedulerLocalizedMessages",""]],features:[t.Jv_([{provide:bj,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3]}),s})(),CE=(()=>{class s{constructor(e,n,o,r,a,l,c,u,f,_,g,S,b){this.wrapper=e,this.viewContext=n,this.viewState=o,this.editService=r,this.dialogsService=a,this.intlService=l,this.changeDetector=c,this.zone=u,this.pdfService=f,this.localization=_,this.domEvents=g,this.renderer=S,this.focusService=b,this.hostClasses=!0,this.ariaRole="application",this.rtl=!1,this.editable=!1,this.selectable=!1,this.eventHeight=25,this.columnWidth=100,this.startTime="00:00",this.endTime="00:00",this.workDayStart="08:00",this.workDayEnd="17:00",this.slotDuration=60,this.slotDivisions=2,this.slotFill=.9,this.allDaySlot=!0,this.scrollTime=this.workDayStart,this.currentTimeMarker=!0,this.highlightOngoingEvents=!0,this.isSlotSelected=ccn,this.selectedViewIndexChange=new t.bkB,this.navigate=new t.bkB,this.dateChange=new t.bkB,this.slotClick=new t.bkB,this.slotDblClick=new t.bkB,this.create=new t.bkB,this.eventClick=new t.bkB,this.eventDblClick=new t.bkB,this.eventKeydown=new t.bkB,this.cancel=new t.bkB,this.save=new t.bkB,this.remove=new t.bkB,this.resizeStart=new t.bkB,this.resize=new t.bkB,this.resizeEnd=new t.bkB,this.dragStart=new t.bkB,this.drag=new t.bkB,this.dragEnd=new t.bkB,this.slotDragStart=new t.bkB,this.slotDrag=new t.bkB,this.slotDragEnd=new t.bkB,this.pdfExport=new t.bkB,this.schedulerResize=new t.bkB,this.dragEndConfirmed=new t.bkB,this.resizeEndConfirmed=new t.bkB,this.removeConfirmed=new t.bkB,this.showLicenseWatermark=!1,this.viewIndex=0,this._timezone="",this._modelFields=ide;const k=(0,mt.$)(wln);this.showLicenseWatermark=V_(k),this.dateRangeStream=o.dateRange,this.selectedDateStream=n.selectedDate}get dir(){return this.direction}set selectedViewIndex(e){this.viewIndex=e,this.onViewIndexChange()}get selectedViewIndex(){return this.viewIndex}set weekStart(e){this._weekStart=e}get weekStart(){return mn(this._weekStart)?this._weekStart:this.intlService.firstDay()}set timezone(e){this._timezone=e,this.events=this.events||[]}get timezone(){return this._timezone}set events(e){this._events=e,this.processEvents(e)}get events(){return this._events}set selectedDate(e){e&&(this._selectedDate=e,this.viewContext.notifySelectedDate(e))}get selectedDate(){return this._selectedDate}set modelFields(e){this._modelFields={...ide,...e}}get modelFields(){return this._modelFields}ngOnInit(){this.selectedDate||(this.selectedDate=Dn(new Date))}ngAfterContentInit(){if((0,t.naY)()&&0===this.views.length)throw new Error("No views declared for <kendo-scheduler>. Please, declare at least one view.");this.subs=this.views.changes.subscribe(()=>this.resetViewIndex()),this.subs.add(this.intlService.changes.subscribe(this.intlChange.bind(this))),this.subs.add(this.viewState.nextDate.subscribe(e=>{this.selectedDate=e})),this.subs.add(this.viewState.dateRange.subscribe(e=>{if(0!==e.start.getTime()){const o=new Dln(this,this.selectedDate,e);this.dateChange.emit(o)}})),this.subs.add(this.viewState.navigate.subscribe(({viewName:e,date:n})=>{const o=this.views.toArray(),r=o.find(l=>l.name===e),a=new gUe(this,{type:"show-date",view:r||{name:e,title:e},date:n});if(this.navigate.next(a),r&&!a.isDefaultPrevented()){const l=o.indexOf(r);this.selectedView=r,this.setViewIndex(l),this.selectedDate=n}})),this.subs.add(this.viewState.viewEvent.subscribe(({name:e,args:n})=>{const o=this[e],r=this[`${e}Confirmed`];(ke(o)||r&&ke(r))&&this.zone.run(()=>{const a=new Gln[e](this,n);o.emit(a),n.prevented=a.prevented,r&&!n.prevented&&r.emit(a)})})),this.subs.add(this.viewState.layoutEnd.subscribe(()=>{this.resizeSensor&&this.resizeSensor.acceptSize()})),this.subs.add(this.viewState.slotSelectionStart.subscribe(e=>{ke(this.slotDragStart)&&this.zone.run(()=>{this.slotDragStart.emit(Object.assign(e,{sender:this}))})})),this.subs.add(this.viewState.slotSelectionDrag.subscribe(e=>{ke(this.slotDrag)&&this.zone.run(()=>{this.slotDrag.emit(new CUe(this,e))})})),this.subs.add(this.viewState.slotSelectionEnd.subscribe(e=>{ke(this.slotDragEnd)&&this.zone.run(()=>{this.slotDragEnd.emit(new Bln(this,e))})})),this.onViewIndexChange(),this.notifyOptionsChange=this.notifyOptionsChange.bind(this),this.subs.add(this.allDayEventTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.eventTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.timeSlotTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.timeSlotTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.minorTimeHeaderTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.majorTimeHeaderTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.monthDaySlotTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.multiWeekDaySlotTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.dateHeaderTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.allDaySlotTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.groupHeaderTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.agendaDateTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.agendaTimeTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.views.changes.subscribe(()=>{this.changeDetector.markForCheck()})),this.attachEditHandlers(),this.dialogsService.container=this.confirmationDialogContainerRef,this.notifyOptionsChange(),this.subs.add(this.pdfService.exportClick.subscribe(()=>{const e=new qln;this.pdfExport.emit(e),e.isDefaultPrevented()||this.saveAsPDF()})),this.subs.add(this.pdfService.done.subscribe(()=>{this.loadingComponent.toggle(!1)})),this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.rtl=e,this.direction=this.rtl?"rtl":"ltr"})),this.subs.add(this.viewState.optionsChange.subscribe(()=>{this.changeDetector.markForCheck()})),this.attachElementEventHandlers()}ngOnChanges(e){Dt("resources",e)&&!Dt("events",e)&&this.viewItems&&this.viewItems.forEach(n=>{OUe(n.event,this.resources)}),Zi(["group","resources","min","max","showWorkHours","startTime","scrollTime","endTime","eventHeight","workDayStart","workDayEnd","workWeekStart","workWeekEnd","weekStart","slotDuration","slotDivisions","editable","timezone","slotClass","slotFill","columnWidth","eventClass","eventStyles","isSlotSelected","selectable","allDaySlot"],e)&&this.notifyOptionsChange(e)}ngOnDestroy(){this.subs&&this.subs.unsubscribe(),this.detachElementEventHandlers&&this.detachElementEventHandlers()}onResize(e){this.viewContext.notifyResize()}onNavigationAction(e){const n=new gUe(this,e);if(this.navigate.next(n),n.isDefaultPrevented())return!0;if("view-change"===e.type){const r=this.views.toArray().indexOf(e.view);this.selectedView=e.view,this.setViewIndex(r)}else if("select-date"===e.type)this.isInRange(e.date)&&(this.selectedDate=e.date);else if("today"===e.type){const o=new Date;this.isInRange(o)&&(this.selectedDate=o)}else"toggle-business-hours"===e.type?this.viewState.toggleWorkHours.next(null):"focus-toolbar"===e.type?this.focusService.focusToolbar():this.viewContext.notifyAction(e)}onToolbarWidthChange(e){this.schedulerResize.emit(e)}addEvent(e){if(!(e instanceof Zh)){const o=a=>(l,c)=>(l[c]=new fl(a[c]),l),r=Object.keys(e).reduce(o(e),{});e=new Zh(r)}this.editService.addEvent(e)}editEvent(e,n={}){const{group:o,mode:r}=n;this.editService.editEvent(e,o,r)}closeEvent(){this.editService.close()}isEditing(){return this.editService.isEditing()}openRecurringConfirmationDialog(e){return this.dialogsService.openRecurringConfirmationDialog(e)}openRemoveConfirmationDialog(){return this.dialogsService.openRemoveConfirmationDialog()}saveAsPDF(){this.loadingComponent.toggle(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.pdfService.save()},0)})}scrollToTime(e){this.viewContext.notifyAction({type:"scroll-time",time:e})}slotByPosition(e,n){return this.viewContext.executeMethod("slotByPosition",{x:e,y:n})}eventFromElement(e){return this.viewContext.executeMethod("eventFromElement",{element:e})}get activeEvent(){const e=this.focusService.activeElement;if(e&&e.nativeElement.matches(".k-event, [data-task-index]"))return this.eventFromElement(e.nativeElement)}focusNext(e){const n=this.focusService.focusNext(e);return this.zone.onStable.pipe(Ye(1)).subscribe(()=>this.focusService.focus()),n}focusPrev(e){const n={offset:-1,...e},o=this.focusService.focusNext(n);return this.zone.onStable.pipe(Ye(1)).subscribe(()=>this.focusService.focus()),o}focus(){this.zone.onStable.pipe(Ye(1)).subscribe(()=>this.focusService.focus())}isInRange(e){return(!this.min||this.min<=e)&&(!this.max||e<=this.max)}notifyOptionsChange(e){const n=this.workWeek;this.viewContext.notifyOptionsChange({group:this.group,resources:this.resources,allDayEventTemplate:this.allDayEventTemplate?this.allDayEventTemplate.first:null,eventTemplate:this.eventTemplate?this.eventTemplate.first:null,timeSlotTemplate:this.timeSlotTemplate?this.timeSlotTemplate.first:null,minorTimeHeaderTemplate:this.minorTimeHeaderTemplate?this.minorTimeHeaderTemplate.first:null,majorTimeHeaderTemplate:this.majorTimeHeaderTemplate?this.majorTimeHeaderTemplate.first:null,monthDaySlotTemplate:this.monthDaySlotTemplate?this.monthDaySlotTemplate.first:null,multiWeekDaySlotTemplate:this.multiWeekDaySlotTemplate?this.multiWeekDaySlotTemplate.first:null,dateHeaderTemplate:this.dateHeaderTemplate?this.dateHeaderTemplate.first:null,allDaySlotTemplate:this.allDaySlotTemplate?this.allDaySlotTemplate.first:null,groupHeaderTemplate:this.groupHeaderTemplate?this.groupHeaderTemplate.first:null,agendaDateTemplate:this.agendaDateTemplate?this.agendaDateTemplate.first:null,agendaTimeTemplate:this.agendaTimeTemplate?this.agendaTimeTemplate.first:null,min:this.min,max:this.max,showWorkHours:this.showWorkHours,startTime:this.startTime,scrollTime:this.scrollTime,endTime:this.endTime,workDayStart:this.workDayStart,workDayEnd:this.workDayEnd,workWeekStart:n.start,workWeekEnd:n.end,weekStart:this.weekStart,allDaySlot:this.allDaySlot,slotDuration:this.slotDuration,slotDivisions:this.slotDivisions,eventHeight:this.eventHeight,editable:this.editable,selectable:this.selectable,timezone:this.timezone,currentTimeMarker:this.currentTimeMarker,highlightOngoingEvents:this.highlightOngoingEvents,slotClass:this.slotClass,slotFill:this.slotFill,columnWidth:this.columnWidth,eventClass:this.eventClass,eventStyles:this.eventStyles,isSlotSelected:this.isSlotSelected,changes:e})}get workWeek(){const{start:e,end:n}=this.intlService.weekendRange(),o=mn(this.workWeekStart)?this.workWeekStart:(n+1)%7,r=e>0?e-1:Jc.Saturday;return{start:o,end:mn(this.workWeekEnd)?this.workWeekEnd:r}}resetViewIndex(){const n=Math.max(0,Math.min(this.selectedViewIndex,this.views.length-1));this.setViewIndex(n),this.onViewIndexChange()}onViewIndexChange(){if(!this.views)return;const n=this.views.toArray()[this.viewIndex];n&&(this.selectedView=n)}setViewIndex(e){const n=this.selectedViewIndex!==e;return n&&(this.selectedViewIndex=e,this.selectedViewIndexChange.emit(e)),n}processEvents(e){const n=this.timezone,o=this.modelFields,r=e.map(a=>((s,i,e)=>{const n={id:Or(i.id)(s),start:Or(i.start)(s),startTimezone:Or(i.startTimezone)(s),end:Or(i.end)(s),endTimezone:Or(i.endTimezone)(s),isAllDay:Or(i.isAllDay)(s),title:Or(i.title)(s),description:Or(i.description)(s),recurrenceRule:Or(i.recurrenceRule)(s),recurrenceExceptions:Or(i.recurrenceExceptions)(s),recurrenceId:Or(i.recurrenceId)(s),dataItem:s};return OUe(n,e),n})(a,o,this.resources)).filter(a=>!(s=>s.recurrenceRule&&!mn(s.recurrenceId))(a)).map(a=>({start:Ji.fromLocalDate(a.start,n),end:Ji.fromLocalDate(a.end,n),event:a}));this.viewItems=r,this.viewContext.notifyItems(r)}attachEditHandlers(){this.editService&&this.subs.add(this.editService.changes.subscribe(this.emitCRUDEvent.bind(this)))}emitCRUDEvent(e){switch(Object.assign(e,{sender:this}),e.action){case"cancel":this.cancel.emit(e);break;case"save":this.save.emit(e)}}intlChange(){const e=this.selectedView;this.selectedView=null,(!mn(this.workWeekStart)||!mn(this.workWeekEnd))&&this.notifyOptionsChange(),this.changeDetector.detectChanges(),this.selectedView=e,t.SKi.isInAngularZone()?this.changeDetector.markForCheck():this.changeDetector.detectChanges()}attachElementEventHandlers(){if(!ne())return;const e=this.wrapper.nativeElement;this.zone.runOutsideAngular(()=>{const n=this.renderer.listen("window","blur",u=>{this.domEvents.windowBlur.emit(u)}),o=this.renderer.listen(e,"click",u=>{this.domEvents.click.emit(u)}),r=this.renderer.listen(e,"keydown",u=>{this.domEvents.keydown.emit(u)});let a=!1;const l=this.renderer.listen(e,"focusin",u=>{this.domEvents.focus.emit(u),a||(this.domEvents.focusIn.emit(u),this.renderer.addClass(this.wrapper.nativeElement,"k-focus"),a=!0)}),c=this.renderer.listen(e,"focusout",u=>{!((s,i)=>{for(;s&&s!==e;)s=s.parentNode;return s})(u.relatedTarget||document.activeElement)&&(this.domEvents.focusOut.emit(u),this.renderer.removeClass(this.wrapper.nativeElement,"k-focus"),a=!1)});this.detachElementEventHandlers=()=>{n(),o(),r(),l(),c()}})}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(Lo),t.rXU(po),t.rXU(nde),t.rXU(C6),t.rXU(Gt.Bs),t.rXU(t.gRc),t.rXU(t.SKi),t.rXU($p),t.rXU(j),t.rXU(_j),t.rXU(t.sFG),t.rXU(Hp))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-scheduler"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,MUe,5),t.wni(o,bUe,5),t.wni(o,md,4),t.wni(o,f6,4),t.wni(o,m6,4),t.wni(o,Jce,4),t.wni(o,Yce,4),t.wni(o,Wce,4),t.wni(o,Kce,4),t.wni(o,yUe,4),t.wni(o,$ce,4),t.wni(o,dj,4),t.wni(o,Xce,4),t.wni(o,jce,4),t.wni(o,Hce,4)),2&e){let r;t.mGM(r=t.lsd())&&(n.editDialogTemplate=r.first),t.mGM(r=t.lsd())&&(n.toolbarTemplate=r.first),t.mGM(r=t.lsd())&&(n.views=r),t.mGM(r=t.lsd())&&(n.allDayEventTemplate=r),t.mGM(r=t.lsd())&&(n.eventTemplate=r),t.mGM(r=t.lsd())&&(n.timeSlotTemplate=r),t.mGM(r=t.lsd())&&(n.minorTimeHeaderTemplate=r),t.mGM(r=t.lsd())&&(n.majorTimeHeaderTemplate=r),t.mGM(r=t.lsd())&&(n.monthDaySlotTemplate=r),t.mGM(r=t.lsd())&&(n.multiWeekDaySlotTemplate=r),t.mGM(r=t.lsd())&&(n.dateHeaderTemplate=r),t.mGM(r=t.lsd())&&(n.allDaySlotTemplate=r),t.mGM(r=t.lsd())&&(n.groupHeaderTemplate=r),t.mGM(r=t.lsd())&&(n.agendaDateTemplate=r),t.mGM(r=t.lsd())&&(n.agendaTimeTemplate=r)}},viewQuery:function(e,n){if(1&e&&(t.GBs(Os,7),t.GBs(Msn,7,t.c1b),t.GBs(sde,7)),2&e){let o;t.mGM(o=t.lsd())&&(n.resizeSensor=o.first),t.mGM(o=t.lsd())&&(n.confirmationDialogContainerRef=o.first),t.mGM(o=t.lsd())&&(n.loadingComponent=o.first)}},hostVars:12,hostBindings:function(e,n){2&e&&(t.BMQ("role",n.ariaRole)("dir",n.dir),t.AVh("k-widget",n.hostClasses)("k-scheduler",n.hostClasses)("k-floatwrap",n.hostClasses)("k-pos-relative",n.hostClasses)("k-rtl",n.rtl))},inputs:{selectedViewIndex:"selectedViewIndex",editable:"editable",selectable:"selectable",min:"min",max:"max",eventHeight:"eventHeight",columnWidth:"columnWidth",showWorkHours:"showWorkHours",startTime:"startTime",endTime:"endTime",workDayStart:"workDayStart",workDayEnd:"workDayEnd",workWeekStart:"workWeekStart",workWeekEnd:"workWeekEnd",weekStart:"weekStart",slotDuration:"slotDuration",slotDivisions:"slotDivisions",slotFill:"slotFill",allDaySlot:"allDaySlot",scrollTime:"scrollTime",group:"group",resources:"resources",loading:"loading",timezone:"timezone",events:"events",selectedDate:"selectedDate",modelFields:"modelFields",currentTimeMarker:"currentTimeMarker",highlightOngoingEvents:"highlightOngoingEvents",slotClass:"slotClass",eventClass:"eventClass",eventStyles:"eventStyles",isSlotSelected:"isSlotSelected"},outputs:{selectedViewIndexChange:"selectedViewIndexChange",navigate:"navigate",dateChange:"dateChange",slotClick:"slotClick",slotDblClick:"slotDblClick",create:"create",eventClick:"eventClick",eventDblClick:"eventDblClick",eventKeydown:"eventKeydown",cancel:"cancel",save:"save",remove:"remove",resizeStart:"resizeStart",resize:"resize",resizeEnd:"resizeEnd",dragStart:"dragStart",drag:"drag",dragEnd:"dragEnd",slotDragStart:"slotDragStart",slotDrag:"slotDrag",slotDragEnd:"slotDragEnd",pdfExport:"pdfExport",schedulerResize:"schedulerResize"},features:[t.Jv_([nde,C6,_j,mj,Hp,gj,{provide:j,useExisting:gj},{provide:Ve,useValue:"kendo.scheduler"},cj,Lo,po,$p]),t.OA$],decls:9,vars:15,consts:()=>{let i,e,n,o,r,a,l,c,u,f,_,g,S,b,k,D,O,I,N,P,G,H,$,Q,ie,ce,re,Ne,ue,ye,se,te,le,ve,Se,Me,Ut,Le,en,Ce,Tt,Nt,xt,Es,dn,Kn,ei,Co,di,Ps,gd,vd,Sd,Nl,uu,La,bt,Xm,a2,O6,T6,M6,I6,x6,A6,R6,N6,L6,G6,P6,F6,U6,B6,V6,z6,j6,H6,$6,X6,W6,Y6,K6,J6,$e,nBe,iBe,sBe,oBe,rBe,aBe,lBe,cBe,dBe,uBe,hBe,pBe,fBe,mBe;return i="All events",e="tutto il giorno",n="Data",o="Tempo",r="Rimuovi evento",a="Evento",l="Prossimo",c="Precedente",u="Mostra il giorno completo",f="Mostra solo le ore lavorative",_="Oggi",g="TODAY",S="Titolo",b="Multi-Giorno",k="Settimana",D="Settimana Lavorativa",O="Mese",I="Multi-Week",N="Timeline",P="Timeline Settimanale",G="Timeline Mensile",H="Agenda",$="Year",Q="No events on this date.",ie="Annulla",ce="Salva",re="Titolo",Ne="Inizio",ue="Fuso Orario di Inizio",ye="Fine",se="Fuso Orario di Fine",te="Giornata intera",le="Descrizione",ve="Usa differenti fusi orari per l'inizio e la fine",Se="Fuso orario finale",Me="Titolo",Ut="Today",Le="Toggle popup",en="Navigate to parent view",Ce="Set",Tt="Set",Nt="Set",xt="Set",Es="Cancel",dn="Cancel",Kn="Date",ei="Date tab",Co="Time",di="Time tab",Ps="Today",gd="Toggle popup",vd="Navigate to parent view",Sd="Increase value",Nl="Decrease value",uu="Ripeti",La="giorno(i)",bt="Ripeti ogni:",Xm="settimana(e)",a2="Ripeti ogni:",O6="Ripeti quando:",T6="Giorno",M6="mese(i)",I6="Ripeti ogni:",x6="Repeti quando::",A6="di",R6="Ripeti ogni:",N6="Ripeti quando:",L6="anno(i)",G6="Ogni giorno",P6="Ogni mese",F6="Mai",U6="Ogni settimana",B6="Ogni anno",V6="primo",z6="secondo",j6="terzo",H6="quarto",$6="ultimo",X6="giorno",W6="giorno della settimana",Y6="Giorno del weekend",K6="Dopo",J6="Occorrenza(e)",$e="Fine",nBe="Mai",iBe="In",sBe="Rimuovi",oBe="Sicuro di voler rimuovere questo evento?",rBe="Vuoi modifcare solo questo evento o la serie completa?",aBe="Modifica l'evento corrente",lBe="Modifica la serie",cBe="Vuoi rimuovere solo questo evento o la serie completa?",dBe="Rimuovi elemento corrente",uBe="Rimuovi la serie",hBe="Rimuovi evento",pBe="Vuoi rimuovere solo questo evento o la serie completa?",fBe="Modifica elemento ricorrente",mBe="Seleziona vista",[["confirmationDialogContainer",""],["kendoSchedulerLocalizedMessages","","allEvents",i,"allDay",e,"dateHeader",n,"timeHeader",o,"deleteTitle",r,"eventHeader",a,"nextTitle",l,"previousTitle",c,"showFullDay",u,"showWorkDay",f,"today",_,"calendarToday",g,"dayViewTitle",S,"multiDayViewTitle",b,"weekViewTitle",k,"workWeekViewTitle",D,"monthViewTitle",O,"multiWeekViewTitle",I,"timelineViewTitle",N,"timelineWeekViewTitle",P,"timelineMonthViewTitle",G,"agendaViewTitle",H,"yearViewTitle",$,"yearViewNoEvents",Q,"cancel",ie,"save",ce,"editorEventTitle",re,"editorEventStart",Ne,"editorEventStartTimeZone",ue,"editorEventEnd",ye,"editorEventEndTimeZone",se,"editorEventAllDay",te,"editorEventDescription",le,"editorEventSeparateTimeZones",ve,"editorEventTimeZone",Se,"editorTitle",Me,"editorDateInputsToday",Ut,"editorDateInputsToggle",Le,"editorDateInputsParentViewButton",en,"editorDateInputsAccept",Ce,"editorDateInputsAcceptLabel",Tt,"editorDateInputsAccept",Nt,"editorDateInputsAcceptLabel",xt,"editorDateInputsCancel",Es,"editorDateInputsCancelLabel",dn,"editorDateInputsDateTab",Kn,"editorDateInputsDateTabLabel",ei,"editorDateInputsTimeTab",Co,"editorDateInputsTimeTabLabel",di,"recurrenceEditorDateInputsToday",Ps,"recurrenceEditorDateInputsToggle",gd,"recurrenceEditorDateInputsParentViewButton",vd,"recurrenceEditorNumericIncrement",Sd,"recurrenceEditorNumericDecrement",Nl,"recurrenceEditorRepeat",uu,"recurrenceEditorDailyInterval",La,"recurrenceEditorDailyRepeatEvery",bt,"recurrenceEditorWeeklyInterval",Xm,"recurrenceEditorWeeklyRepeatEvery",a2,"recurrenceEditorWeeklyRepeatOn",O6,"recurrenceEditorMonthlyDay",T6,"recurrenceEditorMonthlyInterval",M6,"recurrenceEditorMonthlyRepeatEvery",I6,"recurrenceEditorMonthlyRepeatOn",x6,"recurrenceEditorYearlyOf",A6,"recurrenceEditorYearlyRepeatEvery",R6,"recurrenceEditorYearlyRepeatOn",N6,"recurrenceEditorYearlyInterval",L6,"recurrenceEditorFrequenciesDaily",G6,"recurrenceEditorFrequenciesMonthly",P6,"recurrenceEditorFrequenciesNever",F6,"recurrenceEditorFrequenciesWeekly",U6,"recurrenceEditorFrequenciesYearly",B6,"recurrenceEditorOffsetPositionsFirst",V6,"recurrenceEditorOffsetPositionsSecond",z6,"recurrenceEditorOffsetPositionsThird",j6,"recurrenceEditorOffsetPositionsFourth",H6,"recurrenceEditorOffsetPositionsLast",$6,"recurrenceEditorWeekdaysDay",X6,"recurrenceEditorWeekdaysWeekday",W6,"recurrenceEditorWeekdaysWeekendday",Y6,"recurrenceEditorEndAfter",K6,"recurrenceEditorEndOccurrence",J6,"recurrenceEditorEndLabel",$e,"recurrenceEditorEndNever",nBe,"recurrenceEditorEndOn",iBe,"destroy",sBe,"deleteConfirmation",oBe,"editRecurringConfirmation",rBe,"editOccurrence",aBe,"editSeries",lBe,"deleteRecurringConfirmation",cBe,"deleteOccurrence",dBe,"deleteSeries",uBe,"deleteDialogTitle",hBe,"deleteRecurringDialogTitle",pBe,"editRecurringDialogTitle",fBe,"selectView",mBe],[3,"navigate","toolbarWidthChange","dateRange","selectedDate","views","selectedView","template","min","max"],[4,"ngTemplateOutlet"],[3,"resources","editTemplate","timezone","weekStart","fields"],[3,"resize"],["kendoSchedulerLoading","",3,"loading"],["kendoWatermarkOverlay","",4,"ngIf"],["kendoWatermarkOverlay",""]]},template:function(e,n){if(1&e){const o=t.RV6();t.eu8(0,1),t.j41(1,"kendo-scheduler-toolbar",2),t.bIt("navigate",function(a){return t.eBV(o),t.Njj(n.onNavigationAction(a))})("toolbarWidthChange",function(a){return t.eBV(o),t.Njj(n.onToolbarWidthChange(a))}),t.k0s(),t.DNE(2,Isn,1,0,"ng-container",3),t.eu8(3,null,0),t.nrm(5,"kendo-scheduler-edit-dialog",4),t.j41(6,"kendo-resize-sensor",5),t.bIt("resize",function(){return t.eBV(o),t.Njj(n.onResize())}),t.k0s(),t.nrm(7,"div",6),t.DNE(8,xsn,1,0,"div",7)}2&e&&(t.R7$(),t.Y8G("dateRange",n.dateRangeStream)("selectedDate",n.selectedDateStream)("views",n.views)("selectedView",n.selectedView)("template",n.toolbarTemplate)("min",n.min)("max",n.max),t.R7$(),t.Y8G("ngTemplateOutlet",null==n.selectedView?null:n.selectedView.template),t.R7$(3),t.Y8G("resources",n.resources)("editTemplate",n.editDialogTemplate)("timezone",n.timezone)("weekStart",n.weekStart)("fields",n.modelFields),t.R7$(2),t.Y8G("loading",n.loading),t.R7$(),t.Y8G("ngIf",n.showLicenseWatermark))},dependencies:[ucn,n7e,Os,sde,U_,i7e,Je,W],encapsulation:2,changeDetection:0}),s})(),s7e=(()=>{class s{transform(e,...n){return e.sort((o,r)=>o.startTime.getTime()-r.startTime.getTime())}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275pipe=t.EJ8({name:"sort",type:s,pure:!0}),s})(),QO=(()=>{class s{static exports(){return[t2,s7e]}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({}),s})(),Icn=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,o0,Wx,zr,zo,QO,Vr]]}),s})();const xcn=s=>null;let Ej=(()=>{class s extends md{constructor(e,n,o,r){super(),this.localization=e,this.changeDetector=n,this.viewContext=o,this.viewState=r,this.schedulerOptions={},this.subs=this.localization.changes.subscribe(()=>{n.markForCheck()}),this.subs.add(this.viewContext.optionsChange.subscribe(this.optionsChange.bind(this)))}get viewSlotClass(){return mn(this.slotClass)?this.slotClass:this.schedulerOptions.slotClass||xcn}get viewEventClass(){return mn(this.eventClass)?this.eventClass:this.schedulerOptions.eventClass}get viewEventStyles(){return mn(this.eventStyles)?this.eventStyles:this.schedulerOptions.eventStyles}get viewHighlightOngoingEvents(){return mn(this.highlightOngoingEvents)?this.highlightOngoingEvents:this.schedulerOptions.highlightOngoingEvents}get viewWeekStart(){return this.schedulerOptions.weekStart}ngOnChanges(e){this.viewState.notifyOptionsChange()}ngOnDestroy(){this.subs.unsubscribe()}optionsChange(e){this.schedulerOptions=e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j),t.rXU(t.gRc),t.rXU(Lo),t.rXU(po))},s.\u0275dir=t.FsC({type:s,contentQueries:function(e,n,o){if(1&e&&(t.wni(o,m6,5),t.wni(o,Xce,5)),2&e){let r;t.mGM(r=t.lsd())&&(n.eventTemplate=r.first),t.mGM(r=t.lsd())&&(n.groupHeaderTemplate=r.first)}},viewQuery:function(e,n){if(1&e&&t.GBs(Uce,7),2&e){let o;t.mGM(o=t.lsd())&&(n.template=o.first)}},inputs:{slotClass:"slotClass",eventClass:"eventClass",eventStyles:"eventStyles",highlightOngoingEvents:"highlightOngoingEvents"},features:[t.Vt3,t.OA$]}),s})();const o7e=s=>i=>e=>s(e,i),fde=(o7e(Tf),o7e(Dk),(...s)=>i=>s.reduceRight((e,n)=>n(e),i)),l7e=({start:s,end:i,isAllDay:e=!1})=>{const n=e?qO(i):i,o=Math.ceil((n-+qO(s))/eZ);return e&&o>0&&!Ucn(i)?o+1:o},Ucn=s=>0===(s=hr(s)).getHours()&&0===s.getMinutes()&&0===s.getSeconds()&&0===s.getMilliseconds(),c7e=s=>{const i=s.length;return(...e)=>i===e.length?s(...e):c7e(s.bind(null,...e))},Hcn=s=>(s.tail||(s.mid=!0),s),Xcn=(s,i)=>(s=>Array.from(new Array(s).keys()))(l7e(s)-1).reduce(((s,i)=>(e,n,o,r)=>e.concat(fde(Hcn,((s,i)=>e=>({...e,start:qO(s),end:e.tail&&!e.isAllDay?i:JO(s,1),startDate:qO(s)}))(((s,i)=>i.length?i[i.length-1].end:s)(i,e),s.end),(s=>i=>(s&&(i.tail=!0),i))(o===r.length-1))(s)))(s,i),[]);c7e((s,i,e)=>{const n=[];for(let o=0;o<e.length;o++){const r={...e[o]};r.startDate=qO(r.start),r.start>=s&&r.start<=i&&n.push(r),l7e(r)>1&&(r.end=JO(r.startDate,1),r.head=!0,n.push(...Xcn({...e[o]},r.end).filter(a=>qO(a.end)<=i&&a.start>=s)))}return n});let Kcn=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,Gt.W5,QO,An]]}),s})();class yj{constructor(){this.count=0,this.items={}}get first(){if(this.count>0)return this.items[Object.keys(this.items)[0]]}get last(){if(this.count>0){const i=Object.keys(this.items);return this.items[i[i.length-1]]}}addItem(i,e){this.items[i]||this.count++,this.items[i]=e}removeItem(i,e){this.items[i]===e&&(delete this.items[i],this.count--)}toArray(){return Object.keys(this.items).map(i=>this.items[i])}}class kj{constructor(){this.containerSize=0,this.slotsChange=new t.bkB,this.groups=[]}registerItem(i){this.itemGroup(i).registerItem(i)}unregisterItem(i,e){const n=this.groups[(e=e||{index:i.index,resourceIndex:i.resourceIndex,rangeIndex:i.rangeIndex}).resourceIndex];n&&n.unregisterItem(i,e)}registerSlot(i){this.slotGroup(i).registerSlot(i)}unregisterSlot(i){const e=this.groups[i.id.resourceIndex];e&&e.unregisterSlot(i)}invalidate(){this.clearEmptyGroups(),this.cleanRanges(),this.slotsChange.emit(),this.forEachSlot(i=>{i.invalidate()})}cleanRanges(){this.groups.forEach(i=>{i.cleanRanges()})}clearEmptyGroups(){const i=this.groups;let e=this.groups.length-1;for(;e>0&&!i[e].hasSlots;)i.splice(e,1),e--}itemGroup(i){const e=i.resourceIndex;return this.groups[e]||(this.groups[e]=this.createGroup(e)),this.groups[e]}slotGroup(i){const e=i.id.resourceIndex;return this.groups[e]||(this.groups[e]=this.createGroup(e)),this.groups[e]}}const g7e=new Date(1980,0,1),Jcn=new Date(1980,0,2),y6=6e4,C7e="k-event-ongoing";class Zcn{constructor(i){this.index=i,this.slotMap=new yj,this.itemMap=new yj}get slots(){return this.slotMap.toArray()}get items(){return this.itemMap.toArray()}get start(){const i=this.slotMap.first;return i?i.start:null}get end(){const i=this.slotMap.last;return i?JO(i.end,1):null}get hasSlots(){return this.slotMap.count>0}get hasItems(){return this.itemMap.count>0}get firstSlot(){return this.slotMap.first}get lastSlot(){return this.slotMap.last}get rect(){const i=this.firstSlot.rect,e=this.lastSlot.rect;return{left:i.left,top:i.top,width:e.left-i.left+e.width,height:e.top-i.top+e.height}}registerItem(i){this.itemMap.addItem(i.item.index,i)}unregisterItem(i,e){this.itemMap.removeItem(e,i)}registerSlot(i){this.slotMap.addItem(i.id.index,i)}unregisterSlot(i){this.slotMap.removeItem(i.id.index,i)}layout(i){if(!this.hasItems)return;const n=Tf(this.items,[{field:"item.startTime",dir:"asc"},{field:"item.endTime",dir:"desc"}]),o={},r=this.slots;n.forEach(a=>r.filter(l=>Tr(a.item.startTime,a.item.endTime,l.start,l.end)).forEach(l=>{const c=o[l.key]=o[l.key]||{events:[],height:l.linkHeight};c.slot=l;const u=l.rect,f=a.item.data[a.resourceIndex];f.rowIndex=UUe(c.events,f),c.height+i+2+13>u.height||f.hidden?(f.hidden=!0,l.showMore({width:u.width,left:u.left,top:u.top+l.linkHeight+f.rowIndex*(i+2)})):(c.events[f.rowIndex]=a,a.rect||(a.rect={top:u.top+l.linkHeight+f.rowIndex*(i+2),left:u.left,height:i,width:0}),a.rect.width+=u.width+1,c.height+=i+2)})),n.forEach(a=>{a.rect&&(a.rect.width-=1),a.reflow()})}}class edn{constructor(i){this.index=i,this.dayRanges=[]}get hasSlots(){return!!this.dayRanges.find(i=>i&&i.hasSlots)}registerSlot(i){this.slotRange(i).registerSlot(i)}unregisterSlot(i){const e=this.dayRanges[i.id.rangeIndex];e.unregisterSlot(i),e.hasSlots||delete this.dayRanges[i.id.rangeIndex]}registerItem(i){this.dayRanges[i.rangeIndex].registerItem(i)}unregisterItem(i,e){const n=this.dayRanges[e.rangeIndex];n&&n.unregisterItem(i,e.index)}slotRange(i){const e=this.dayRanges,n=i.id.rangeIndex;return e[n]||(e[n]=new Zcn(n)),e[n]}forEachRange(i){for(let e=0;e<this.dayRanges.length;e++)i(this.dayRanges[e])}cleanRanges(){this.dayRanges=this.dayRanges.filter(i=>!!i)}}class ZO extends kj{layout(i){this.groups.forEach(e=>e.forEachRange(n=>n.layout(i)))}slotByIndex(i){const[e,n,o]=i.split(":").map(r=>parseInt(r,10));return this.groups[e].dayRanges[n].slots[o]}forEachSlot(i){this.groups.forEach(e=>{e.dayRanges.forEach(n=>{n.slots.forEach(o=>i(o))})})}forEachItem(i){this.groups.forEach(e=>{e.dayRanges.forEach(n=>{n.items.forEach(o=>i(o))})})}createGroup(i){return new edn(i)}invalidate(){super.invalidate(),this.forEachItem(i=>{const e=i.item.data;Object.keys(e).forEach(n=>{e[n].hidden=!1})})}slotByPosition(i,e){let n;if(this.groups.find(o=>(n=o.dayRanges.find(r=>Hm(r.rect,i,e)),n)),n)return n.slots.find(o=>Hm(o.rect,i,e))}dragRanges(i,e){const n=new Date(i.start.getTime()-e.start),o=new Date(i.start.getTime()+e.end),a=[];return this.groups[i.id.resourceIndex].dayRanges.forEach(l=>{const c=l.slots.filter(u=>Tr(n,o,u.start,u.end));c.length&&a.push(c)}),{start:n,end:o,ranges:a}}groupSlotByPosition(i,e,n){const o=this.groups[i.id.resourceIndex].dayRanges.find(r=>Hm(r.rect,e,n));if(o)return o.slots.find(r=>Hm(r.rect,e,n))}resizeRanges(i,e,n,o){const r=this.groups[e.resources[0].leafIdx],a=[],l=e.start.toUTCDate(),c=e.end.toUTCDate();let u,f;return n?(u=i.start.getTime()+o.start,u>c.getTime()&&(u=new Date(Math.min(Wp(c,l).getTime(),c.getTime()))),f=c):(u=l,f=i.start.getTime()+o.end,f<u.getTime()&&(f=new Date(Math.max(Wp(l,c).getTime(),u.getTime())))),r.dayRanges.forEach(_=>{const g=_.slots.filter(S=>Tr(u,f,S.start,S.end));g.length&&a.push(g)}),{start:new Date(u),end:new Date(f),ranges:a}}}let E7e=(()=>{class s{constructor(e,n,o,r,a,l){this.slotService=e,this.localization=n,this.focusService=o,this.element=r,this.renderer=a,this.localeId=l,this.className=!0,this.caretAltLeftIcon=Xa,this.caretAltRightIcon=Uo,this.subs=new be.yU}get taskIndex(){return this.item.index}get touchAction(){return this.editable&&!1!==this.editable.drag?"none":null}get eventTitle(){return`${function lde(s,i,e,n){const o={skeleton:"yMMMMEEEEdhm"},a=o5e(s,i)?"t":o;return e?`${(0,Gt.Yq)(s,{skeleton:"yMMMMEEEEd"},n)}`:`${(0,Gt.Yq)(s,o,n)}\u2013${(0,Gt.Yq)(i,a,n)}`}(hr(this.item.startTime),hr(this.item.endTime),this.item.isAllDay,this.localeId)}, ${this.item.event.title}`}get deleteMessage(){return this.localization.get("deleteTitle")}get resizable(){return this.editable&&!1!==this.editable.resize}get removable(){return this.editable&&!1!==this.editable.remove}get isRecurrence(){return function BUe(s){return!(!s.event||!s.event.recurrenceRule)}(this.item)}get isRecurrenceException(){return function VUe(s){return s.event&&mn(s.event.recurrenceId)&&!s.event.recurrenceRule}(this.item)}get nativeElement(){if(this.element)return this.element.nativeElement}setStyles(e){const n=this.nativeElement;if(n)for(const o in e)e.hasOwnProperty(o)&&this.renderer.setStyle(n,o,e[o])}toggle(e){this.setStyles({display:e?null:"none"})}reflow(){const e=this.rect;e&&this.setStyles({left:this.localization.rtl?"":`${e.left}px`,right:this.localization.rtl?`${e.left}px`:"",top:`${e.top}px`,width:`${e.width}px`,height:`${e.height}px`})}ngOnInit(){this.dragHint||this.subs.add(this.slotService.slotsChange.subscribe(()=>{this.rect=null,this.setStyles({width:0,left:0,bottom:0}),this.slotService.unregisterItem(this,{index:this.index,resourceIndex:this.resourceIndex,rangeIndex:this.rangeIndex}),this.resourceIndex>=0&&this.slotService.registerItem(this)}))}ngOnChanges(e){if(!this.dragHint&&Zi(["index","resourceIndex","rangeIndex"],e)){const{resourceIndex:n,index:o,rangeIndex:r}=e;this.slotService.unregisterItem(this,{index:o?o.previousValue:this.index,resourceIndex:n?n.previousValue:this.resourceIndex,rangeIndex:r?r.previousValue:this.rangeIndex}),this.resourceIndex>=0?(this.slotService.registerItem(this),this.toggle(!0)):this.toggle(!1)}}ngOnDestroy(){this.dragHint||(this.slotService.unregisterItem(this),this.subs.unsubscribe())}get arrowIcons(){return this.localization.rtl?["caret-alt-right","caret-alt-left"]:["caret-alt-left","caret-alt-right"]}get arrowSVGIcons(){return this.localization.rtl?[this.caretAltRightIcon,this.caretAltLeftIcon]:[this.caretAltLeftIcon,this.caretAltRightIcon]}}return s.\u0275fac=function(e){t.QTQ()},s.\u0275dir=t.FsC({type:s,hostVars:6,hostBindings:function(e,n){2&e&&(t.BMQ("data-task-index",n.taskIndex)("aria-label",n.eventTitle),t.xc7("touch-action",n.touchAction),t.AVh("k-event",n.className))},inputs:{item:"item",resourceIndex:"resourceIndex",rangeIndex:"rangeIndex",index:"index",eventTemplate:"eventTemplate",editable:"editable",dragHint:"dragHint",resources:"resources"},features:[t.OA$]}),s})(),y7e=(()=>{class s extends E7e{constructor(e,n,o,r,a,l){super(e,n,o,r,a,l),this.localeId=l,this.caretAltLeftIcon=Xa,this.caretAltRightIcon=Uo,this.arrowRotateCwIcon=gI,this.arrowsNoRepeatIcon=L_,this.xIcon=wo}reflow(){this.item.data[this.resourceIndex].hidden?this.toggle(!1):(this.toggle(!0),super.reflow())}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(ZO),t.rXU(j),t.rXU(Hp),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.xe9))},s.\u0275cmp=t.VBU({type:s,selectors:[["","monthViewItem",""]],features:[t.Vt3],attrs:ton,decls:10,vars:8,consts:[[1,"k-event-actions"],[3,"name","svgIcon",4,"ngIf"],["name","arrow-rotate-cw",3,"svgIcon",4,"ngIf"],["name","arrows-no-repeat",3,"svgIcon",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngIf"],["class","k-link k-event-delete","aria-hidden","true",4,"ngIf"],[3,"name","svgIcon"],["name","arrow-rotate-cw",3,"svgIcon"],["name","arrows-no-repeat",3,"svgIcon"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-event-template"],["aria-hidden","true",1,"k-link","k-event-delete"],["name","x",3,"svgIcon"],[1,"k-resize-handle","k-resize-w"],[1,"k-resize-handle","k-resize-e"]],template:function(e,n){1&e&&(t.j41(0,"span",0),t.DNE(1,non,1,2,"kendo-icon-wrapper",1)(2,ion,1,1,"kendo-icon-wrapper",2)(3,son,1,1,"kendo-icon-wrapper",3),t.k0s(),t.DNE(4,oon,1,6,"ng-container",4)(5,ron,3,2,"div",5),t.j41(6,"span",0),t.DNE(7,aon,2,2,"span",6)(8,lon,1,2,"kendo-icon-wrapper",1),t.k0s(),t.DNE(9,con,3,0,"ng-container",5)),2&e&&(t.R7$(),t.Y8G("ngIf",n.item.tail),t.R7$(),t.Y8G("ngIf",n.isRecurrence),t.R7$(),t.Y8G("ngIf",n.isRecurrenceException),t.R7$(),t.Y8G("ngIf",n.eventTemplate),t.R7$(),t.Y8G("ngIf",!n.eventTemplate),t.R7$(2),t.Y8G("ngIf",n.removable),t.R7$(),t.Y8G("ngIf",n.item.head),t.R7$(),t.Y8G("ngIf",n.resizable))},dependencies:[Ke,W,Je],encapsulation:2}),s})();const tdn=s=>s[s.length-1];function idn(s){const i=s.data;for(const e in i)i.hasOwnProperty(e)&&delete i[e]}let Dj=(()=>{class s{constructor(e){this.changeDetector=e,this.changeDetector.detach()}detectChanges(){this.changeDetector.detectChanges()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.gRc))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-hint-container"]],contentQueries:function(e,n,o){if(1&e&&t.wni(o,t.C4Q,5),2&e){let r;t.mGM(r=t.lsd())&&(n.hintTemplate=r.first)}},decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(e,n){1&e&&t.eu8(0,0),2&e&&t.Y8G("ngTemplateOutlet",n.hintTemplate)},dependencies:[Je],encapsulation:2}),s})(),_de=(()=>{class s{constructor(e,n,o,r,a,l,c,u,f,_,g){this.viewContext=e,this.viewState=n,this.intl=o,this.slotService=r,this.zone=a,this.renderer=l,this.element=c,this.pdfService=u,this.localization=f,this.cdr=_,this.scrollBarWidthService=g,this.items=new Fn.t(null),this.horizontalResources=[],this.verticalResources=[],this.dragHints=[],this.resizeHints=[],this.getField=Ti,this.changes=new Fn.t(null),this.viewRangeChange=new Fn.t(null),this.subs=new be.yU,this.groupedResources=[],this.spans=[],this.domEvents=[],this.resourcesCache={},this.dragSelecting=null,this.dragSelectOrigin=null,this.autoHeight=!1,this.rtl=!1,this.isSlotSelected=()=>!1,this.setSlotClass=this.setSlotClass.bind(this),this.setHintClass=this.setHintClass.bind(this),this.weekStart=o.firstDay()}get eventTemplateRef(){return this.eventTemplate||(this.schedulerEventTemplate||{}).templateRef}get groupHeaderTemplateRef(){return this.groupHeaderTemplate||(this.schedulerGroupHeaderTemplate||{}).templateRef}matchOwned(e){return e.reduce((o,r)=>[...o,...r.resources.map(a=>`${r.elementId}_${a.leafIdx}`)],[]).join(" ")}ngOnInit(){const e=this.updateView.bind(this);this.resourcesByIndex=this.resourcesByIndex.bind(this),this.subs.add(this.viewContext.selectedDate.subscribe(this.onSelectDate.bind(this))),this.subs.add(this.viewContext.action.subscribe(this.onAction.bind(this))),this.subs.add(this.viewContext.execute.subscribe(this.execute.bind(this))),this.subs.add(this.viewContext.resize.subscribe(()=>{this.toggleElement(!1),this.updateView()})),this.subs.add(this.viewContext.optionsChange.subscribe(this.optionsChange.bind(this))),this.subs.add(this.changes.subscribe(()=>{this.toggleElement(!1)})),this.subs.add(Hh(this.viewContext.items,this.viewState.dateRange,this.viewRangeChange).pipe((0,U.T)(([n,o])=>this.createTasks(n,o))).subscribe(n=>{this.tasks=n.map(o=>({...o,elementId:rn()})),this.assignResources(),this.onTasksChange()})),this.subs.add(Hh(this.items,this.changes,this.localization.changes).pipe(Y(()=>this.onStable())).subscribe(e)),this.subs.add(this.pdfService.createElement.subscribe(this.createPDFElement.bind(this)))}ngOnChanges(e){Zi(["selectedDateFormat","selectedShortDateFormat"],e)&&this.viewState.notifyDateRange(this.dateRange(this.selectedDate)),e.eventHeight&&this.changes.next(null)}ngAfterViewInit(){this.bindEvents(),this.subs.add(this.localization.changes.subscribe(({rtl:e})=>{this.rtl=e}))}ngOnDestroy(){this.subs.unsubscribe(),this.domEvents.forEach(e=>e()),this.domEvents=[],this.draggable&&(this.draggable.destroy(),this.draggable=null)}itemIndex(e,n){return e}resourcesByIndex(e){if(!this.resources)return[];if(!this.group)return this.resources.reduce((n,o)=>n.concat(o.data||[]),[]);if(!this.resourcesCache[e]){const n=this.taskResources,o=[];let r=e;for(let a=0;a<n.length;a++){const l=n[a].data||[],c=Math.floor(r/this.spans[a]);o.push(l[c]),r-=c*this.spans[a]}this.resourcesCache[e]=o}return this.resourcesCache[e]}dragResourcesByIndex(e){const n=this.resources||[],o=[];if(this.groupedResources.length){const r=this.resourcesByIndex(e).slice(0),a=this.taskResources;for(let l=0;l<a.length;l++){const c=this.resources.indexOf(a[l]);c>=0&&(o[c]=r[l])}}for(let r=0;r<n.length;r++)o[r]||(o[r]=GUe(this.dragging.task.event,n[r]));return o}getEventClasses(e,n,o){if(this.eventClass)return this.eventClass({event:e.event,resources:n,isAllDay:o})}getEventStyles(e,n,o){const r={backgroundColor:n.color,borderColor:n.color};return this.eventStyles&&Object.assign(r,this.eventStyles({event:e.event,resources:n.resources,isAllDay:o})),r}toPlainDate(e){return vE(this.convertDate(e))}toPlainDateTime(e,n){return e&&n?this.toPlainDate(Wp(e,n)):null}optionsChange(e){this.schedulerEventTemplate=e.eventTemplate,this.schedulerGroupHeaderTemplate=e.groupHeaderTemplate,this.min=e.min,this.max=e.max,this.editable=e.editable,this.timezone=e.timezone,this.selectable=e.selectable,this.isSlotSelected=e.isSlotSelected,(!e.changes||Zi(["group","resources"],e.changes,!1)||e.group!==this.group||e.resources!==this.resources)&&(this.group=e.group,this.resources=e.resources,this.groupResources(),this.resourcesCache={},this.tasks&&this.tasks.length&&(this.assignResources(),this.onTasksChange()),this.changes.next(null))}toggleElement(e){this.element&&this.renderer.setStyle(this.element.nativeElement,"display",e?"block":"none")}onStable(){return this.zone.onStable.asObservable().pipe(Ye(1))}updateView(){this.slotService.invalidate(),this.toggleElement(!0),this.reflow(),this.viewState.notifyLayoutEnd(),this.viewState.emitEvent(EUe.refreshSlotSelection)}assignResources(){!function ocn(s,i){for(let e=0;e<s.length;e++){const n=s[e];n.resources=PUe(n.event,i)}}(this.tasks,{taskResources:this.taskResources,hasGroups:this.groupedResources.length>0,allResources:this.resources,spans:this.spans})}bindEvents(){const e=this.content.nativeElement,n=this.element.nativeElement;this.zone.runOutsideAngular(()=>{this.times&&this.subs.add(Ht(wt(this.times.nativeElement,"mousewheel"),wt(this.times.nativeElement,"DOMMouseScroll")).pipe(z(o=>!o.ctrlKey),x((s=>i=>{const e=xUe(i),n=s.scrollTop;0===n&&0<e||s.scrollHeight<=s.offsetHeight+n&&e<0||i.preventDefault()})(e)),(0,U.T)(xUe)).subscribe(o=>e.scrollTop-=o)),this.subs.add(Ht(ede(e),wt(e,"contextmenu")).subscribe(o=>this.onClick(o))),this.subs.add(TUe(e).subscribe(o=>this.onClick(o,"dblclick"))),this.subs.add(wt(n,"keydown").subscribe(o=>this.onKeydown(o))),this.domEvents.push(this.renderer.listen(e,"scroll",()=>{this.headerWrap&&(this.headerWrap.nativeElement.scrollLeft=e.scrollLeft),this.times&&(this.times.nativeElement.scrollTop=e.scrollTop)})),this.draggable=new iF({press:this.onPress.bind(this),drag:this.onDrag.bind(this),release:this.onRelease.bind(this)}),this.draggable.bindTo(n)})}onPress(e){const n=this.editable&&!1!==this.editable.resize,o=this.editable&&!1!==this.editable.drag,r=e.originalEvent.target;if(Xp(r,"k-resize-handle")){if(!n)return;this.initResize(e)}else if(o){const l=this.targetTask(r);l&&(e.isTouch||e.originalEvent.preventDefault(),this.pressLocation={x:e.pageX,y:e.pageY},this.pressTarget=l)}!this.pressTarget&&this.selectable&&this.initDragSelect(e),this.dragArgs=e}onDrag(e){this.resizing?(this.resize(e),this.scrollContainer(this.resize,e)):(this.initDrag(e),this.dragging&&(this.drag(e),e.originalEvent.preventDefault(),this.scrollContainer(this.drag,e)),this.dragSelecting&&this.dragSelect(e)),this.dragArgs=e}onRelease(e){clearInterval(this.scrollInterval);const{resizing:n,dragging:o,dragSelecting:r}=this;if(n&&(this.emitEvent("resizeEnd",{event:n.task.event,dataItem:n.task.event.dataItem,start:this.convertDate(n.start),end:this.convertDate(n.end)}),this.resizeHints=[]),o&&(this.emitEvent("dragEnd",{event:o.task.event,dataItem:o.task.event.dataItem,start:o.start?this.convertDate(o.start):o.task.start.toLocalDate(),end:o.end?this.convertDate(o.end):o.task.end.toLocalDate(),resources:o.resources,isAllDay:this.draggedIsAllDay(o.task,o.slot)}),this.dragHints=[]),(n||o)&&(this.removeSlotClass(),this.updateHintContainer(),this.resizing=null,this.dragging=null),r){const{start:a,end:l}=RUe(this.dragSelectOrigin,this.dragSelecting),c={start:this.convertDate(a),end:this.convertDate(l),isAllDay:this.dragSelecting.isDaySlot,resources:this.resourcesByIndex(this.dragSelecting.id.resourceIndex),originalEvent:e.originalEvent};this.viewState.notifySlotSelectionEnd(c),this.dragSelectOrigin=null,this.dragSelecting=null,this.cdr.markForCheck()}this.container=null,this.dragArgs=null,this.pressLocation=null,this.pressTarget=null}setHintClass(e){(this.dragging||this.resizing).hintClass=e}updateHintClass(){const e=this.dragging||this.resizing;let n=!1;this.hints.forEach(o=>{o.class!==e.hintClass&&(o.class=e.hintClass,n=!0)}),n&&this.updateHintContainer()}removeHintClass(){(this.dragging||this.resizing).hintClass=null}setSlotClass(e){const n=this.dragging||this.resizing;n.slotClass=e,this.renderer.addClass(n.slot.nativeElement,n.slotClass)}removeSlotClass(){const e=this.dragging||this.resizing;e.slotClass&&(this.renderer.removeClass(e.slot.nativeElement,e.slotClass),e.slotClass=null)}get hints(){return this.dragging?this.dragHints:this.resizeHints}initDrag(e){if(!this.dragging&&this.pressLocation&&((s,i,e,n)=>Math.sqrt(Math.pow(this.pressLocation.x-e,2)+Math.pow(i-n,2)))(0,this.pressLocation.y,e.pageX,e.pageY)>=10){const n=this.pressTarget,o=n.task;if(this.emitEvent("dragStart",{event:o.event,dataItem:o.event.dataItem}))return this.pressLocation=null,void(this.pressTarget=null);if(this.updateDragContainer(e),void 0===this.containerOffset)return;const{x:r,y:a}=this.coordinatesOffset(this.pressLocation.x,this.pressLocation.y),l=this.slotByPosition(Math.ceil(r),Math.ceil(a),this.container);if(!l)return;this.dragging=n,this.dragging.offset={start:l.start.getTime()-o.start.toUTCDate().getTime(),end:o.end.toUTCDate().getTime()-l.start.getTime()},this.dragging.slot=l,this.dragging.startResources=this.dragging.resourceItems=this.dragResourcesByIndex(l.id.resourceIndex),this.dragging.resources=this.resourceValues(o,this.dragging.startResources)}}updateDragContainer(e){this.container||(this.container=this.content.nativeElement,this.containerOffset=SE(this.container))}drag(e){if(this.updateDragContainer(e),!this.container)return;const{x:n,y:o}=this.coordinatesOffset(e.pageX,e.pageY),r=this.slotByPosition(n,o,this.container);if(r&&(r!==this.dragging.slot||!this.dragHints.length)){const a=this.dragging,{slot:l,task:c}=a,{ranges:u,start:f,end:_,isAllDay:g}=this.dragRanges(r);let S,b;if(l.id.resourceIndex!==r.id.resourceIndex?(S=this.dragResourcesByIndex(r.id.resourceIndex),b=this.resourceValues(c,S)):(S=a.resourceItems,b=a.resources),this.removeSlotClass(),a.start=f,a.end=_,a.slot=r,a.resources=b,a.resourceItems=S,a.hintClass=null,this.emitEvent("drag",{event:c.event,dataItem:c.event.dataItem,start:this.convertDate(f),end:this.convertDate(_),resources:b,isAllDay:g,setHintClass:this.setHintClass,setSlotClass:this.setSlotClass}))return void this.updateHintClass();const k=this.dragResourceColor(c,S),D=this.dragHintClasses();this.dragHints=[];for(let O=0;O<u.length;O++){const I=u[O],N=I[0],G=this.dragHintSize(N,I[I.length-1]),H=N.rect.left,$={top:xh(N.rect.top),left:this.localization.rtl?"":xh(H),right:this.localization.rtl?xh(H):"",width:G.width,height:G.height,backgroundColor:k,borderColor:k};this.eventStyles&&Object.assign($,this.eventStyles(this.dragHintEventStyleArgs())),this.dragHints.push({item:Object.assign({},this.dragging.task,{startTime:f,endTime:_}),resources:S,class:D,style:$})}this.updateHintContainer()}}initDragSelect(e){if(this.updateDragContainer(e),!this.containerOffset)return;const{x:n,y:o}=this.coordinatesOffset(e.pageX,e.pageY),r=this.slotByPosition(n,o,this.container);if(!r)return;const a={start:this.convertDate(r.start),end:this.convertDate(r.end),isAllDay:r.isDaySlot,resources:this.resourcesByIndex(r.id.resourceIndex),originalEvent:e.originalEvent},l=new Uln(null,a);this.viewState.notifySlotSelectionStart(l),l.isDefaultPrevented()||(this.dragSelecting=r,this.dragSelectOrigin=r,this.cdr.markForCheck())}dragSelect(e){const{x:n,y:o}=this.coordinatesOffset(e.pageX,e.pageY),r=this.slotByPosition(n,o,this.container);if(r&&this.dragSelecting!==r){this.dragSelecting=r;const{start:a,end:l}=RUe(this.dragSelectOrigin,this.dragSelecting),c={start:this.convertDate(a),end:this.convertDate(l),isAllDay:r.isDaySlot,resources:this.resourcesByIndex(r.id.resourceIndex),originalEvent:e.originalEvent};this.viewState.notifySlotSelectionDrag(c),this.cdr.markForCheck()}}dragHintClasses(){const e=this.dragging.hintClass;let n=[];if(e&&n.push(e),this.eventClass){const o=this.eventClass(this.dragHintEventStyleArgs());n=n.concat((s=>{const i=[];if((s=>"string"==typeof s)(s))i.push(s);else if((s=>Array.isArray(s))(s))i.push(...s);else if((s=>"object"==typeof s)(s))for(const e in s)s.hasOwnProperty(e)&&s[e]&&i.push(e);return i})(o))}return n}dragHintEventStyleArgs(){return{event:this.dragging.task.event,resources:this.dragging.resourceItems}}draggedIsAllDay(e,n){return!!e.event.isAllDay}dragResourceColor(e,n){if(this.groupedResources.length){const o=this.resources.indexOf(this.groupedResources[0]);return Ti(n[o],this.groupedResources[0].colorField)}return this.resources&&this.resources.length?e.resources[0].color:""}resourceValues(e,n){const o={};for(let r=0;r<n.length;r++){const a=this.resources[r];let c;Array.isArray(n[r])?c=Ti(e.event,a.field):(c=Ti(n[r],a.valueField),a.multiple&&(c=Ti(this.dragging.startResources[r],a.valueField)!==c?[c]:Ti(e.event.dataItem,a.field))),So(o,a.field,c)}return o}initResize(e){e.originalEvent.preventDefault();const n=e.originalEvent.target,o=this.targetTask(n);if(this.emitEvent("resizeStart",{event:o.task.event,dataItem:o.task.event.dataItem}))return;this.resizing=o,o.start=o.task.start.toUTCDate(),o.end=o.task.end.toUTCDate(),o.direction=Xp(n,"k-resize-n")?"n":Xp(n,"k-resize-s")?"s":Xp(n,"k-resize-w")?"w":"e",this.updateDragContainer(e);const{x:r,y:a}=this.coordinatesOffset(e.pageX,e.pageY);o.slot=this.slotByPosition(Math.ceil(r),Math.ceil(a),this.container),o.offset={start:o.task.start.toUTCDate().getTime()-o.slot.start.getTime(),end:o.task.end.toUTCDate().getTime()-o.slot.start.getTime()}}resize(e){const{x:n,y:o}=this.coordinatesOffset(e.pageX,e.pageY),r=this.resizing,{direction:a,task:l,offset:c}=r,u=this.slotService.groupSlotByPosition(r.slot,n,o);if(!u||u===r.slot)return;this.removeSlotClass();const{start:f,end:_,ranges:g}=this.slotService.resizeRanges(u,l,"w"===a||"n"===a,c);r.hintClass=null,r.start=f,r.end=_,r.slot=u,this.emitEvent("resize",{event:l.event,dataItem:l.event.dataItem,start:this.convertDate(f),end:this.convertDate(_),setHintClass:this.setHintClass,setSlotClass:this.setSlotClass})?this.updateHintClass():(this.updateResizeHints(g,f,_),this.updateHintContainer())}updateResizeHints(e,n,o){const r=this.resizing,a=r.direction,l="w"===a||"e"===a,c="w"===a||"n"===a;this.resizeHints=[];for(let u=0;u<e.length;u++){const f=e[u],_=f[0],g=f[f.length-1],S=0===u,b=u===e.length-1;this.resizeHints.push({first:S,last:b,rect:{left:_.rect.left,top:_.top,height:l?_.height:Math.abs(g.rect.top-_.rect.top)+g.rect.height,width:l?Math.abs(g.rect.left-_.rect.left)+g.rect.width:_.width},start:S&&!c?r.start:_.start,end:b&&c?r.end:g.end,class:r.hintClass})}}coordinatesOffset(e,n,o=this.container,r=this.containerOffset){const a=e-r.left+o.scrollLeft;return{x:this.localization.rtl?this.slotService.containerSize-a:a,y:n-r.top+o.scrollTop}}scrollContainer(e,n){clearInterval(this.scrollInterval);const o=this.container;if(!o)return;const r=n.pageY-this.containerOffset.top,a=Math.abs(o.offsetHeight-r),l=n.pageY-this.dragArgs.pageY,c=n.pageX-this.containerOffset.left,u=Math.abs(o.offsetWidth-c),f=n.pageX-this.dragArgs.pageX;let _=!1,g=0,S=0;a<60&&o.scrollTop+o.offsetHeight<o.scrollHeight&&l>0?(_=!0,S=15,this.container.scrollTop+=60-a):r<60&&o.scrollTop>0&&l<0&&(_=!0,S=-15,this.container.scrollTop-=60-r),u<60&&o.scrollLeft+o.offsetWidth<o.scrollWidth&&f>0?(_=!0,g=15,this.container.scrollLeft+=60-u):c<60&&o.scrollLeft>0&&l<0&&(_=!0,g=-15,this.container.scrollLeft-=60-c),_&&(this.scrollInterval=setInterval(()=>{this.container?(this.container.scrollLeft+=g,this.container.scrollTop+=S,e.call(this,n)):clearInterval(this.scrollInterval)},50))}emitEvent(e,n){return this.viewState.emitEvent(e,n),n.prevented}targetTask(e){const n=_E(e,o=>o.hasAttribute("data-task-index"),this.element.nativeElement);if(n){const o=parseInt(n.getAttribute("data-task-index"),10);return{target:n,task:this.tasks.find(r=>r.index===o)}}}updateHintContainer(){this.hintContainer&&this.hintContainer.detectChanges()}convertDate(e){return Ji.fromUTCDate(e,this.timezone).toLocalDate()}onClick(e,n=e.type){this.emitSlotEvent(e,n),this.emitTaskEvent(e,n)}emitSlotEvent(e,n){const o=_E(e.target,r=>r.hasAttribute("data-slot-index"),this.element.nativeElement);if(o){const r=o.getAttribute("data-slot-index"),a="dblclick"===n?"slotDblClick":"slotClick",l=this.slotByIndex(r,e);this.viewState.emitEvent(a,{type:n,slot:l,start:this.convertDate(l.start),end:this.convertDate(l.end),isAllDay:l.isDaySlot,originalEvent:e,resources:this.resources&&this.resources.length?this.resourcesByIndex(l.id.resourceIndex):[]})}}emitTaskEvent(e,n){const o=this.targetTask(e.target);if(o){const r=o.task,l="dblclick"===n;"click"===n&&_E(e.target,c=>Xp(c,"k-event-delete"),o.target)?this.viewState.emitEvent("remove",{event:r.event,dataItem:r.event.dataItem}):(this.viewState.emitEvent(l?"eventDblClick":"eventClick",{type:n,event:r.event,originalEvent:e}),o.target.focus())}}onKeydown(e){const n=this.targetTask(e.target);if(n){const o=n.task;this.viewState.emitEvent("eventKeydown",{event:o.event,dataItem:o.event.dataItem,originalEvent:e})}}syncTables(){if(this.timesTable&&this.renderer.setStyle(this.timesTable.nativeElement,"height",`${this.contentTable.nativeElement.offsetHeight}px`),ode(this.content.nativeElement,"vertical")||this.renderer.setStyle(this.header.nativeElement,this.localization.rtl?"padding-inline-start":"padding-inline-end","0px"),this.renderer.removeStyle(this.header.nativeElement,this.localization.rtl?"padding-inline-end":"padding-inline-start"),this.times){const e=this.times.nativeElement;this.timesHeader.nativeElement.style.width=`${e.offsetWidth}px`,this.renderer.setStyle(e,"height",("auto"===this.contentHeight?this.content.nativeElement.offsetHeight:this.contentHeight)-(ode(this.content.nativeElement,"horizontal")?zJ():0)+"px"),e.scrollTop=this.content.nativeElement.scrollTop}}updateContentHeight(){const e=this.element.nativeElement,n=e.parentNode,o=this.content.nativeElement,r=this.autoHeight||!n?.style.height,a=o.scrollLeft,l=o.scrollTop;if(this.renderer.setStyle(o,"height",""),this.times&&this.renderer.setStyle(this.times.nativeElement,"height",""),r)return void(this.contentHeight="auto");let c=n.clientHeight;for(let u=0;u<n.children.length;u++){const f=n.children[u];f!==e&&!jUe(f)&&(c-=f.offsetHeight)}c-=this.headerWrap?this.headerWrap.nativeElement.offsetHeight:0,this.renderer.setStyle(o,"height",`${c}px`),this.contentHeight=c,o.scrollLeft=a,o.scrollTop=l}groupResources(){const n=this.group||{};this.groupedResources=hj(n,this.resources||[]),"vertical"!==n.orientation?(this.horizontalResources=this.groupedResources,this.verticalResources=[]):(this.verticalResources=this.groupedResources,this.horizontalResources=[]),this.spans=this.resourceSpans()}get taskResources(){return this.groupedResources.length?this.groupedResources:this.resources&&this.resources.length?[this.resources[0]]:[{}]}resourceSpans(){const e=[1],n=this.groupedResources;let o=1;for(let r=n.length-1;r>0;r--)o*=(n[r].data||[]).length||1,e.unshift(o);return e}isInRange(e){const n=this.dateRange(e);return(!this.min||this.min<n.end)&&(!this.max||n.start<=this.max)}createPDFElement(){const e=this.contentHeight,n=this.content.nativeElement.scrollTop;"auto"!==e&&(this.autoHeight=!0,this.updateView());const o=this.element.nativeElement.cloneNode(!0);o.style.width=`${this.pdfWidth()}px`,"auto"!==e&&(this.autoHeight=!1,this.updateView()),this.pdfService.elementReady.emit({element:o}),this.content.nativeElement.scrollTop=n}pdfWidth(){return this.element.nativeElement.offsetWidth}containerByPosition({x:e,y:n}){const o=this.content.nativeElement,r=SE(o);if(r.top<=n&&n<=r.top+r.height&&r.left<=e&&e<=r.left+r.width)return{element:o,offset:r}}execute(e){if("slotByPosition"===e.name){const n=this.containerByPosition(e.args);if(n){const o=this.coordinatesOffset(e.args.x,e.args.y,n.element,n.offset),r=this.slotByPosition(o.x,o.y,n.element);e.result(this.slotFields(r))}}else if("eventFromElement"===e.name){const n=this.targetTask(e.args.element);n&&e.result(n.task.event)}}slotFields(e){return{element:e.element,resources:this.groupedResources.length?this.resourcesByIndex(e.id.resourceIndex):[],start:this.convertDate(e.start),end:this.convertDate(e.end)}}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Lo),t.rXU(po),t.rXU(Gt.Bs),t.rXU(kj),t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU($p),t.rXU(j),t.rXU(t.gRc),t.rXU(t0))},s.\u0275dir=t.FsC({type:s,viewQuery:function(e,n){if(1&e&&(t.GBs(Uce,5),t.GBs(don,5),t.GBs(uon,5),t.GBs(hon,5),t.GBs(pon,5),t.GBs(fon,5),t.GBs(hUe,5),t.GBs(mon,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.content=o.first),t.mGM(o=t.lsd())&&(n.header=o.first),t.mGM(o=t.lsd())&&(n.contentTable=o.first),t.mGM(o=t.lsd())&&(n.times=o.first),t.mGM(o=t.lsd())&&(n.timesHeader=o.first),t.mGM(o=t.lsd())&&(n.timesTable=o.first),t.mGM(o=t.lsd())&&(n.headerWrap=o.first),t.mGM(o=t.lsd())&&(n.hintContainer=o.first)}},inputs:{eventTemplate:"eventTemplate",groupHeaderTemplate:"groupHeaderTemplate",selectedDateFormat:"selectedDateFormat",selectedShortDateFormat:"selectedShortDateFormat",eventHeight:"eventHeight",slotClass:"slotClass",eventClass:"eventClass",eventStyles:"eventStyles",weekStart:"weekStart"},features:[t.OA$]}),s})(),gde=(()=>{class s{constructor(e,n,o){this.element=e,this.slotService=n,this.localization=o,this._rect=null}get slotIndex(){return this.key}get start(){return this._start}set start(e){this._start=e}get end(){return this._end}set end(e){this._end=e}get rect(){if(this._rect)return this._rect;const e=this.nativeElement;return this._rect={left:this.localization.rtl?this.slotService.containerSize-(e.offsetLeft+e.clientWidth):e.offsetLeft,top:e.offsetTop,width:e.clientWidth,height:e.clientHeight},this._rect}get top(){return this.element?this.nativeElement.offsetTop:0}get padding(){return this.element&&ne()?2*parseInt(window.getComputedStyle(this.nativeElement).paddingTop,10):0}get height(){return this.element?this.nativeElement.offsetHeight:0}set height(e){this.element&&(this.nativeElement.style.height=`${e}px`),this._rect&&(this._rect.height=e)}get width(){return this.element?this.nativeElement.offsetWidth:0}get key(){return`${this.id.resourceIndex}:${this.id.rangeIndex}:${this.id.index}`}get nativeElement(){return this.element.nativeElement}ngOnInit(){this.slotService.registerSlot(this)}ngOnDestroy(){this.slotService.unregisterSlot(this)}invalidate(){this._rect=null}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(kj),t.rXU(j))},s.\u0275dir=t.FsC({type:s,hostVars:1,hostBindings:function(e,n){2&e&&t.BMQ("data-slot-index",n.slotIndex)},inputs:{id:"id"}}),s})(),adn=(()=>{class s extends gde{constructor(e,n,o,r){super(e,n,o),this.cdr=r,this.moreHorizontalIcon=SW,this.isDaySlot=!0,this._linkHeight=null}set day(e){this._day=e,this.start=e}get day(){return this._day}set start(e){this.startDate=Yr(e)}get start(){return this.startDate}get end(){return JO(this.start,1)}isFirstDayOfMonth(e){return o5e(e,P0(e))}get linkHeight(){if(null===this._linkHeight){const e=(s=>{const i=this.nativeElement.children,e=i.length;for(let n=0;n<e;n++)if(1===i[n].nodeType)return i[n]})();this._linkHeight=e?e.offsetHeight+e.offsetTop:0}return this._linkHeight}ngOnDestroy(){super.ngOnDestroy(),this.removeShowMore()}showMore(e){this.showMoreButton=!0,this.style=`width: ${e.width}px; left: ${e.left}px; top: ${e.top}px; border-color: inherit;`,this.cdr.detectChanges()}hideMore(){this.showMoreButton=!1,this.removeShowMore()}invalidate(){super.invalidate(),this._linkHeight=null,this.showMoreButton=!1,this.removeShowMore()}removeShowMore(){this.showMoreButton=!1,this.cdr.detectChanges()}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(ZO),t.rXU(j),t.rXU(t.gRc))},s.\u0275cmp=t.VBU({type:s,selectors:[["","monthSlot",""]],inputs:{resourcesByIndex:"resourcesByIndex",monthDaySlotTemplateRef:"monthDaySlotTemplateRef",day:[t.Mj6.None,"monthSlot","day"]},features:[t.Vt3],attrs:_on,decls:3,vars:3,consts:[["aria-hidden","true","class","k-link k-nav-day",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["class","k-more-events k-button",3,"style",4,"ngIf"],["aria-hidden","true",1,"k-link","k-nav-day"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-more-events","k-button"],["name","more-horizontal",3,"svgIcon"]],template:function(e,n){1&e&&t.DNE(0,gon,3,4,"span",0)(1,von,1,5,"ng-container",1)(2,Son,2,3,"div",2),2&e&&(t.Y8G("ngIf",!n.monthDaySlotTemplateRef),t.R7$(),t.Y8G("ngIf",n.monthDaySlotTemplateRef),t.R7$(),t.Y8G("ngIf",n.showMoreButton))},dependencies:[Ke,W,Je,Gt.vh],encapsulation:2}),s})(),Tj=(()=>{class s{constructor(){this.marqueeClasses=!0}get left(){return this.hint.rect.left}get top(){return this.hint.rect.top}get width(){return this.hint.rect.width}get height(){return this.hint.rect.height}get start(){return hr(this.hint.start)}get end(){return hr(this.hint.end)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.VBU({type:s,selectors:[["","kendoResizeHint",""]],hostVars:18,hostBindings:function(e,n){2&e&&(t.xc7("left",n.left,"px")("right",n.left,"px")("top",n.top,"px")("width",n.width,"px")("height",n.height,"px"),t.AVh("k-marquee",n.marqueeClasses)("k-scheduler-marquee",n.marqueeClasses)("k-first",n.marqueeClasses)("k-last",n.marqueeClasses))},inputs:{hint:"hint",format:"format"},attrs:Con,decls:4,vars:2,consts:[[1,"k-marquee-color"],[1,"k-marquee-text"],["class","k-label-top",4,"ngIf"],["class","k-label-bottom",4,"ngIf"],[1,"k-label-top"],[1,"k-label-bottom"]],template:function(e,n){1&e&&(t.nrm(0,"div",0),t.j41(1,"div",1),t.DNE(2,bon,3,4,"div",2)(3,Eon,3,4,"div",3),t.k0s()),2&e&&(t.R7$(2),t.Y8G("ngIf",n.hint.first),t.R7$(),t.Y8G("ngIf",n.hint.last))},dependencies:[W,Gt.vh],encapsulation:2}),s})();class ldn{constructor(i,e=i.length-1){this.resources=i,this.lastIndex=e}*[fj](){let i=this.resources;const e=Math.max(0,this.lastIndex);i&&i.length||(i=[{}]);const n=i[e].data||[],o=n.length;let r=1;for(let a=0;a<=e;a++)r*=(i[a].data||[]).length||1;for(let a=0;a<r;a++)yield n[a%o]}}let Mj=(()=>{class s{transform(e=[],n){return new ldn(e,n)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275pipe=t.EJ8({name:"resourceIterator",type:s,pure:!0}),s})();class cdn{constructor(i){this.count=i}*[fj](){for(let i=0;i<this.count;i++)yield i}}let vde=(()=>{class s{transform(e){return new cdn(e)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275pipe=t.EJ8({name:"repeat",type:s,pure:!0}),s})(),ddn=(()=>{class s extends _de{constructor(e,n,o,r,a,l,c,u,f,_,g){super(e,n,o,r,a,c,l,u,f,_,g),this.numberOfWeeks=6,this.resizeHintFormat={skeleton:"Md"},this.weeks=[],this.updateOngoingEvents=this.updateOngoingEvents.bind(this)}get monthDaySlotTemplateRef(){return this.monthDaySlotTemplate||(this.schedulerMonthDaySlotTemplate||{}).templateRef}ngOnChanges(e){Dt("weekStart",e)&&this.onSelectDate(this.selectedDate),super.ngOnChanges(e)}ngAfterViewInit(){this.updateOngoingEvents(),super.ngAfterViewInit()}ngOnDestroy(){clearTimeout(this.ongoingEventsTimeout),super.ngOnDestroy()}horizontalColspan(e){const n=this.horizontalResources;let o=7;for(let r=e+1;r<n.length;r++)o*=(n[r].data||[]).length||1;return o}verticalRowspan(e){const n=this.verticalResources;let o=this.numberOfWeeks;for(let r=e+1;r<n.length;r++)o*=(n[r].data||[]).length||1;return o}verticalItem(e,n){const o=this.verticalResources[n].data||[],r=this.verticalResources;let a=1;for(let l=n+1;l<r.length;l++)a*=(r[l].data||[]).length||1;return o[e/a%o.length]}daySlotClass(e,n){if(this.slotClass)return this.slotClass({start:e,end:Ms(e,1),resources:this.resourcesByIndex(n),isAllDay:!1})}cellTitle(e){return this.intl.formatDate(e,"D")}addDay(e){return Ms(e,1)}optionsChange(e){this.schedulerMonthDaySlotTemplate=e[`${this.type}DaySlotTemplate`],super.optionsChange(e)}createTasks(e,n){return this.weeks=this.createDaySlots(n),((s,i,e,n)=>{const o=[],r=Yr(s),a=Yr(i);for(let l=0;l<e.length;l++){const c=e[l],u={},f=c.start.toUTCDate(),_=c.end,g=(c.end.getTime()!==_.getTime()?_.addDays(1):_).toUTCDate();if(Tr(f,g,r,a))for(let S=0;S<n.length;S++){const b=n[S],k=Yr(b[0]),D=JO(Yr(tdn(b)),1);if(Tr(f,g,k,D)){const O={index:l,startTime:f,endTime:g,start:c.start,end:c.end,event:c.event,isAllDay:c.event.isAllDay,rangeIndex:S,data:u};o.push(O),O.head=O.endTime>D,O.tail=O.startTime<k}}}return tde(o)})(n.start,n.end,e,this.weeks)}onTasksChange(){(function sdn(s){for(let i=0;i<s.length;i++){const e=s[i],n=e.resources;idn(e);for(let o=0;o<n.length;o++)e.data[n[o].leafIdx]={}}})(this.tasks),this.items.next(this.tasks)}reflow(){this.updateContentHeight();const e=this.content.nativeElement;this.slotService.containerSize=e.scrollWidth,"auto"===this.contentHeight&&(e.style.overflow="visible"),this.slotService.layout(this.eventHeight),"auto"===this.contentHeight&&(e.style.overflow=""),this.syncTables()}onClick(e,n=e.type){if("click"===n){const o=_E(e.target,a=>a.hasAttribute("data-slot-index"),this.element.nativeElement),r=_E(e.target,a=>Xp(a,"k-more-events k-nav-day"),o);if(o&&r){const a=o.getAttribute("data-slot-index"),l=this.slotService.slotByIndex(a);return void this.zone.run(()=>{this.viewState.navigateTo({viewName:"day",date:hr(l.start)})})}}super.onClick(e,n)}slotByIndex(e,n){return this.slotService.slotByIndex(e)}onSelectDate(e){const n=this.dateRange(e);this.selectedDate=e,this.viewState.notifyDateRange(n),this.weeks=this.createDaySlots(n)}onAction(e){const n=Dn(this.selectedDate);if("next"===e.type){const o=this.newRange(n);this.isInRange(o)&&this.viewState.notifyNextDate(o)}if("prev"===e.type){const o=this.newRange(n,-1);this.isInRange(o)&&this.viewState.notifyNextDate(o)}}dateRange(e=this.selectedDate){return this.dateRangeFn(e,this.weekStart)}dragRanges(e){return this.slotService.dragRanges(e,this.dragging.offset)}dragHintSize(e,n){return{width:xh(n.rect.left-e.rect.left+n.rect.width),height:xh(e.height)}}slotByPosition(e,n){return this.slotService.slotByPosition(e,n)}updateOngoingEvents(){const e=!this.highlightOngoingEvents||!1===this.highlightOngoingEvents.enabled;!ne()||e||(clearTimeout(this.ongoingEventsTimeout),this.zone.runOutsideAngular(()=>{this.ongoingEventsTimeout=setTimeout(this.updateOngoingEvents,this.highlightOngoingEvents.updateInterval||y6)}),this.toggleOngoingClass())}currentTime(){return new Date}toggleOngoingClass(){const e=this.currentTime(),n=mn(this.highlightOngoingEvents.cssClass)?this.highlightOngoingEvents.cssClass:C7e;this.eventElements.forEach(o=>{const r=gE(e,o.item.start,o.item.end);this.renderer[r?"addClass":"removeClass"](o.nativeElement,n)})}createDaySlots({start:e}){const n=[];let o=e;for(let r=0;r<this.numberOfWeeks;r++){const a=[];n.push(a);for(let l=0;l<7;l++)a.push(o),o=Ms(o,1)}return n}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Lo),t.rXU(po),t.rXU(Gt.Bs),t.rXU(ZO),t.rXU(t.SKi),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU($p),t.rXU(j),t.rXU(t.gRc),t.rXU(t0))},s.\u0275cmp=t.VBU({type:s,selectors:[["month-view"]],viewQuery:function(e,n){if(1&e&&t.GBs(y7e,5),2&e){let o;t.mGM(o=t.lsd())&&(n.eventElements=o)}},inputs:{monthDaySlotTemplate:"monthDaySlotTemplate",highlightOngoingEvents:"highlightOngoingEvents",type:"type",numberOfWeeks:"numberOfWeeks",newRange:"newRange",dateRangeFn:"dateRangeFn"},features:[t.Jv_([ZO]),t.Vt3,t.OA$],decls:26,vars:19,consts:[["header",""],["headerWrap",""],["content",""],["contentTable",""],["hintContainer",""],["timesHeader",""],["times",""],["timesTable",""],[1,"k-scheduler-layout","k-scheduler-monthview","k-scheduler-flex-layout"],[1,"k-scheduler-pane"],["class","k-scheduler-times",4,"ngIf"],[1,"k-scheduler-header","k-state-default"],[1,"k-scheduler-header-wrap"],["aria-hidden","true",1,"k-scheduler-table"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","k-scheduler-times k-scheduler-resources",4,"ngIf"],["tabindex","0","role","group",1,"k-scheduler-content"],["role","presentation",1,"k-scheduler-table","k-user-select-none"],[1,"k-scheduler-times"],["class","k-slot-cell",4,"ngFor","ngForOf","ngForTrackBy"],[1,"k-slot-cell"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-scheduler-times","k-scheduler-resources"],[1,"k-slot-cell","k-empty-slot"],["class","k-slot-cell",3,"ngClass",4,"ngIf"],[1,"k-slot-cell",3,"ngClass"],[3,"monthSlot","monthDaySlotTemplateRef","resourcesByIndex","ngClass","id","title","k-selected",4,"ngFor","ngForOf","ngForTrackBy"],[3,"monthSlot","monthDaySlotTemplateRef","resourcesByIndex","ngClass","id","title"],["role","button","monthViewItem","",3,"ngClass","ngStyle","kendoSchedulerFocusIndex","id","editable","item","index","rangeIndex","eventTemplate","resources","resourceIndex",4,"ngFor","ngForOf","ngForTrackBy"],["role","button","monthViewItem","",3,"ngClass","ngStyle","kendoSchedulerFocusIndex","id","editable","item","index","rangeIndex","eventTemplate","resources","resourceIndex"],["class","k-event-drag-hint","monthViewItem","",3,"ngStyle","ngClass","dragHint","eventTemplate","item","resources",4,"ngFor","ngForOf","ngForTrackBy"],["kendoResizeHint","",3,"hint","ngClass","format",4,"ngFor","ngForOf","ngForTrackBy"],["monthViewItem","",1,"k-event-drag-hint",3,"ngStyle","ngClass","dragHint","eventTemplate","item","resources"],["kendoResizeHint","",3,"hint","ngClass","format"]],template:function(e,n){1&e&&(t.j41(0,"div",8)(1,"div",9),t.DNE(2,kon,5,0,"div",10),t.j41(3,"div",11,0)(5,"div",12,1)(7,"table",13),t.DNE(8,Ton,3,5,"tr",14),t.j41(9,"tr"),t.DNE(10,Ion,2,2,"ng-container",14),t.nI1(11,"resourceIterator"),t.k0s()()()()(),t.j41(12,"div",9),t.DNE(13,Pon,6,4,"div",15),t.j41(14,"div",16,2),t.nI1(16,"async"),t.j41(17,"table",17,3),t.DNE(19,Von,2,2,"ng-container",14),t.nI1(20,"resourceIterator"),t.k0s(),t.DNE(21,jon,2,2,"ng-container",14),t.nI1(22,"async"),t.j41(23,"kendo-hint-container",null,4),t.DNE(25,Xon,2,4,"ng-template"),t.k0s()()()()),2&e&&(t.R7$(2),t.Y8G("ngIf",n.verticalResources.length),t.R7$(6),t.Y8G("ngForOf",n.horizontalResources)("ngForTrackBy",n.itemIndex),t.R7$(2),t.Y8G("ngForOf",t.bMT(11,11,n.horizontalResources))("ngForTrackBy",n.itemIndex),t.R7$(3),t.Y8G("ngIf",n.verticalResources.length),t.R7$(),t.BMQ("aria-owns",n.matchOwned(t.bMT(16,13,n.items))),t.R7$(5),t.Y8G("ngForOf",t.bMT(20,15,n.verticalResources))("ngForTrackBy",n.itemIndex),t.R7$(2),t.Y8G("ngForOf",t.bMT(22,17,n.items))("ngForTrackBy",n.itemIndex))},dependencies:[adn,y7e,Dj,Tj,W,st,Je,Pe,Jn,t2,Mj,Gt.vh,vde,qp],encapsulation:2}),s})(),udn=(()=>{class s extends Ej{constructor(e,n,o,r,a){super(e,n,o,r),this.intl=a,this.selectedDateFormat="{0:Y}",this.selectedShortDateFormat="{0:y}",this.name="month"}get title(){return this.localization.get("monthViewTitle")}get viewEventHeight(){return mn(this.eventHeight)?this.eventHeight:this.schedulerOptions.eventHeight||25}dateRange(e,n){const o=P0(Dn(e)),r=qz(o,n);return{start:r,end:Ms(r,42),text:this.intl.format(this.selectedDateFormat,o),shortText:this.intl.format(this.selectedShortDateFormat,o)}}newRange(e,n=1){return P0(Do(e,n))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j),t.rXU(t.gRc),t.rXU(Lo),t.rXU(po),t.rXU(Gt.Bs))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-scheduler-month-view"]],contentQueries:function(e,n,o){if(1&e&&t.wni(o,Kce,5),2&e){let r;t.mGM(r=t.lsd())&&(n.monthDaySlotTemplate=r.first)}},inputs:{eventHeight:"eventHeight",selectedDateFormat:"selectedDateFormat",selectedShortDateFormat:"selectedShortDateFormat"},features:[t.Jv_([{provide:md,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:2,vars:0,consts:[["content",""],["type","month",3,"eventHeight","eventTemplate","slotClass","eventClass","eventStyles","groupHeaderTemplate","monthDaySlotTemplate","selectedDateFormat","selectedShortDateFormat","highlightOngoingEvents","weekStart","dateRangeFn","newRange"]],template:function(e,n){1&e&&t.DNE(0,Won,1,13,"ng-template",null,0,t.C5r)},dependencies:[ddn],encapsulation:2,changeDetection:0}),s})(),d1=(()=>{class s{constructor(e){this.hostClasses=!0,this.toolbarRole="toolbar",this.inlineJustifyContentStyle="start",this.itemClick=new t.bkB,this.sub=e.toggleWorkHours.subscribe(()=>this.itemClick.emit())}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}onItemClick(e,n){e.preventDefault(),this.itemClick.emit(n)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(po))},s.\u0275cmp=t.VBU({type:s,selectors:[["","viewFooter",""]],hostVars:9,hostBindings:function(e,n){2&e&&(t.BMQ("role",n.toolbarRole),t.xc7("justify-content",n.inlineJustifyContentStyle),t.AVh("k-scheduler-footer",n.hostClasses)("k-toolbar",n.hostClasses)("k-toolbar-md",n.hostClasses))},inputs:{items:"items"},outputs:{itemClick:"itemClick"},attrs:Yon,decls:2,vars:1,consts:[[1,"k-scheduler-navigation"],["type","button","kendoButton","","containerType","footer",3,"icon","svgIcon","ngClass","kendoSchedulerFocusIndex","click",4,"ngFor","ngForOf"],["type","button","kendoButton","","containerType","footer",3,"click","icon","svgIcon","ngClass","kendoSchedulerFocusIndex"],[1,"k-button-text"]],template:function(e,n){1&e&&(t.j41(0,"span",0),t.DNE(1,Kon,3,5,"button",1),t.k0s()),2&e&&(t.R7$(),t.Y8G("ngForOf",n.items))},dependencies:[$t,st,Pe,t2],encapsulation:2}),s})(),o2=(()=>{class s{constructor(e,n){this.footer=e,this.localization=n,this.showWorkHours=!1,this.footerItems=[{cssClass:"k-scheduler-fullday",fontIcon:"clock",svgIcon:vI,text:""}]}ngOnInit(){this.toggleWorkHours(),this.footer.items=this.footerItems}ngOnChanges(){this.toggleWorkHours()}toggleWorkHours(){this.footerItems[0].text=this.localization.get(this.showWorkHours?"showFullDay":"showWorkDay")}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(d1),t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","kendoWorkHoursFooter",""]],inputs:{showWorkHours:"showWorkHours"},features:[t.OA$]}),s})(),k6=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,Gt.W5,QO,o0,An],Gt.W5,Fe,QO,An]}),s})(),Sde=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[k6,An]]}),s})(),k7e=(()=>{class s extends Ej{constructor(e,n,o,r){super(e,n,o,r)}get viewEventHeight(){return this.optionValue("eventHeight")||25}get shouldShowWorkHours(){return this.optionValue("showWorkHours")}get viewStartTime(){return this.optionValue("startTime")}get viewEndTime(){return this.optionValue("endTime")}get viewWorkDayStart(){return this.optionValue("workDayStart")}get viewWorkDayEnd(){return this.optionValue("workDayEnd")}get viewWorkWeekStart(){return this.optionValue("workWeekStart")}get viewWorkWeekEnd(){return this.optionValue("workWeekEnd")}get viewSlotDuration(){return this.optionValue("slotDuration")}get viewSlotDivisions(){return this.optionValue("slotDivisions")}get viewCurrentTimeMarker(){return this.optionValue("currentTimeMarker")}get viewHighlightOngoingEvents(){return this.optionValue("highlightOngoingEvents")}get viewScrollTime(){return this.optionValue("scrollTime")}optionValue(e){return mn(this[e])?this[e]:this.schedulerOptions[e]}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j),t.rXU(t.gRc),t.rXU(Lo),t.rXU(po))},s.\u0275dir=t.FsC({type:s,contentQueries:function(e,n,o){if(1&e&&(t.wni(o,Jce,5),t.wni(o,$ce,5),t.wni(o,Wce,5),t.wni(o,Yce,5)),2&e){let r;t.mGM(r=t.lsd())&&(n.timeSlotTemplate=r.first),t.mGM(r=t.lsd())&&(n.dateHeaderTemplate=r.first),t.mGM(r=t.lsd())&&(n.majorTimeHeaderTemplate=r.first),t.mGM(r=t.lsd())&&(n.minorTimeHeaderTemplate=r.first)}},inputs:{showWorkHours:"showWorkHours",eventHeight:"eventHeight",startTime:"startTime",scrollTime:"scrollTime",endTime:"endTime",workDayStart:"workDayStart",workDayEnd:"workDayEnd",workWeekStart:"workWeekStart",workWeekEnd:"workWeekEnd",slotDuration:"slotDuration",slotDivisions:"slotDivisions",currentTimeMarker:"currentTimeMarker",highlightOngoingEvents:"highlightOngoingEvents"},features:[t.Vt3]}),s})(),w7e=(()=>{class s extends k7e{constructor(e,n,o,r){super(e,n,o,r)}get viewSlotFill(){return this.optionValue("slotFill")}get viewAllDaySlot(){return this.optionValue("allDaySlot")}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j),t.rXU(t.gRc),t.rXU(Lo),t.rXU(po))},s.\u0275dir=t.FsC({type:s,inputs:{slotFill:"slotFill",allDaySlot:"allDaySlot"},features:[t.Vt3]}),s})();const Tdn=(s,i)=>s<=i&&i<=s+25,Ij=(s,i,e=!0)=>s.start.getTime()<=i.getTime()?(e?s.height:s.width)*((i.getTime()-s.start.getTime())/(s.end.getTime()-s.start.getTime())):0,Mdn=(s,i)=>{const e=mE(s.columnIndex)?s.columnIndex:Number.MAX_VALUE,n=mE(i.columnIndex)?i.columnIndex:Number.MAX_VALUE;return e===n?s.item.startTime.getTime()-i.item.startTime.getTime():e-n};function xdn(s,i){if(void 0!==i.rowIndex)return i.rowIndex;for(let e=0;e<s.length;e++){const n=s[e];if(!n||!Tr(i.item.startTime,i.item.endTime,n.item.startTime,n.item.endTime))return e}return s.length}function D7e(s,i,e,n,o){const r=s[0].padding;if(!i.length)return{height:e-r};i.forEach(f=>{f.rowIndex=void 0,f.rect={height:n,width:0}});const a=Tf(i,[{field:"item.startTime",dir:"asc"},{field:"item.endTime",dir:"desc"}]),l={};a.forEach(f=>s.filter(_=>Tr(f.item.startTime,f.item.endTime,_.start,_.end)).forEach(_=>{const g=l[_.key]=l[_.key]||{rows:[],slot:_,events:[]};f.rowIndex=o(g.rows,f),g.rows[f.rowIndex]=f,g.events.push(f)}));const c=s[0].top;let u=0;return Object.keys(l).forEach(f=>{const _=l[f].events;let g=0;for(let S=0;S<_.length;S++){const b=_[S];b&&(b.rect.top=c+b.rowIndex*(10+b.rect.height),g=Math.max(g,b.rect.top-c+b.rect.height))}u=Math.max(g,u)}),u+=e-r,{height:u,slotItems:l}}function O7e(s,i,e){Object.keys(s).forEach(n=>{const{slot:o,events:r}=s[n],a=o.rect;for(let l=0;l<r.length;l++){const c=r[l];if(c){mE(c.rect.left)||(c.rect.left=o.rect.left+(e?Ij(o,c.item.startTime,!1):0));const u=e&&c.item.endTime.getTime()<o.end.getTime()?Ij(o,c.item.endTime,!1):a.width;c.rect.width=o.rect.left+u-c.rect.left}}}),i.forEach(n=>{n.reflow()})}class Adn{constructor(i){this.index=i,this.slotMap=new yj,this.itemMap=new yj}get slots(){return this.slotMap.toArray()}get firstSlot(){return this.slotMap.first}get lastSlot(){return this.slotMap.last}get items(){return this.itemMap.toArray()}get rect(){const i=this.firstSlot.rect,e=this.lastSlot.rect;return{left:i.left,top:i.top,width:e.left-i.left+e.width,height:e.top-i.top+e.height}}get start(){const i=this.slotMap.first;return i?i.start:null}get end(){const i=this.slotMap.last;return i?i.end:null}get hasSlots(){return this.slotMap.count>0}get hasItems(){return this.itemMap.count>0}registerItem(i){this.itemMap.addItem(i.item.index,i)}unregisterItem(i,e){this.itemMap.removeItem(e.index,i)}registerSlot(i){this.slotMap.addItem(i.id.index,i)}unregisterSlot(i){this.slotMap.removeItem(i.id.index,i)}layout(i){const e=this.items;if(!e.length)return;const n=Math.max(Math.min(i.fill||.9,1),.1),o=Tf(e,[{field:"item.startTime",dir:"asc"},{field:"item.endTime",dir:"desc"}]);e.forEach((c,u)=>{c.rect=null,c.columnIndex=void 0});const r={},a=this.slots;o.forEach(c=>a.filter(u=>Tr(c.item.startTime,c.item.endTime,u.start,u.end)).forEach(u=>{const f=r[u.key]=r[u.key]||{events:[]};f.slot=u,f.events.push(c)}));const l=Object.keys(r);(function Idn(s,i){let e=0,n=[];s.forEach(o=>{const{slot:r,events:a}=i[o],l=a.length;let c=!0;a.sort(Mdn),e=Math.max(l,e),n.push(r);for(let u=0;u<l;u++){const f=a[u];if(c=c&&f.item.endTime.getTime()<=r.end.getTime(),!mE(f.columnIndex)){f.rect={top:r.rect.top+Ij(r,f.item.startTime)},f.columnIndex=u,f.lastColumn=!0;for(let _=0,g=-1;_<u;_++){const S=a[_];if(S.columnIndex>g+1){f.columnIndex=g+1,f.lastColumn=!1,a.splice(u,1),a.splice(f.columnIndex,0,f);break}if(!Tr(f.item.startTime,f.item.endTime,S.item.startTime,S.item.endTime)&&!Tdn(S.rect.top,f.rect.top)){f.columnIndex=_,f.lastColumn=!a.some(b=>b.columnIndex&&_<b.columnIndex&&Tr(f.item.startTime,f.item.endTime,b.item.startTime,b.item.endTime)),a.splice(u,1),a.splice(_,0,f);break}g=S.columnIndex,S.lastColumn=!1}}}c&&(n.forEach(u=>u.columns=e),n=[],e=0)}),n.forEach(o=>o.columns=e)})(l,r),l.forEach(c=>{const{slot:u,events:f}=r[c],S=u.rect,b=S.left,k=u.columns,D=S.width*n-2*(k-1)-2,O=b+2,I=D/k,N=O+D+2*(k-1);f.forEach(P=>{mE(P.rect.left)||(P.rect.left=O+P.columnIndex*(I+2),P.rect.width=P.lastColumn?N-P.rect.left:I,P.origin={left:b,right:b+S.width});const G=u.end.getTime()<=P.item.endTime.getTime()?S.height:Ij(u,P.item.endTime);P.rect.height=S.top+G-P.rect.top})}),o.forEach(c=>c.reflow())}initDaySlots(i,e){const n=this.slots;if(!n.length)return;const{height:o,slotItems:r}=D7e(n,this.items,i,e,UUe);this.setSlotsHeight(o),this.slotItems=r}setDayOffsets(){!this.itemMap.count||!this.slotItems||(O7e(this.slotItems,this.items),this.slotItems=null)}setSlotsHeight(i){this.firstSlot.height=i}}class Rdn{constructor(i){this.index=i,this.dayRanges=[],this.timeRanges=[]}registerSlot(i){this.slotRange(i).registerSlot(i)}unregisterSlot(i){const e=this.slotRange(i);e.unregisterSlot(i),e.hasSlots||delete this.slotRanges(i)[i.id.rangeIndex]}registerItem(i){const e=this.itemRange(i);e?(e.registerItem(i),i.rangeIndex=e.index,i.resourceIndex>=0&&i.toggle(!0)):(i.rangeIndex=void 0,i.toggle(!1))}unregisterItem(i,e){if(void 0!==i.rangeIndex){const n=i.item.isAllDay?this.dayRanges:this.timeRanges;n[e.rangeIndex]&&n[e.rangeIndex].unregisterItem(i,e),i.rangeIndex=void 0}}forEachDateRange(i){for(let e=0;e<this.dayRanges.length;e++)i(this.dayRanges[e])}forEachTimeRange(i){for(let e=0;e<this.timeRanges.length;e++)i(this.timeRanges[e])}slotRange(i){const e=this.slotRanges(i),n=i.id.rangeIndex;return e[n]||(e[n]=new Adn(n)),e[n]}slotRanges(i){return i.isDaySlot?this.dayRanges:this.timeRanges}initTimeSlots(i,e,n){const o=this.slots;if(!o.length)return;const{height:r,slotItems:a}=D7e(o,this.items,i,e,xdn);this.setSlotsHeight(Math.max(r,n)),this.slotItems=a}setTimelineOffsets(){const i=this.items;!this.slotItems||!i.length||(O7e(this.slotItems,i,!0),this.slotItems=null)}setSlotsHeight(i){this.timeRanges[0].setSlotsHeight(i)}get items(){return this.timeRanges.reduce((i,e)=>i.concat(e.items),[])}get slots(){return this.timeRanges.reduce((i,e)=>i.concat(e.slots),[])}get hasSlots(){return!(!this.dayRanges.find(i=>i&&i.hasSlots)&&!this.timeRanges.find(i=>i&&i.hasSlots))}cleanRanges(){this.dayRanges=this.dayRanges.filter(i=>!!i),this.timeRanges=this.timeRanges.filter(i=>!!i)}itemRange(i){const e=i.item,n=e.isAllDay?this.dayRanges:this.timeRanges;return mE(e.rangeIndex)?n[e.rangeIndex]:n.find(o=>Tr(e.startTime,e.endTime,o.start,o.end))}}class r2 extends kj{layoutDays(i=25){this.groups.forEach(n=>n.forEachDateRange(o=>o?.slots.forEach(r=>{r.element.nativeElement.style.height=""})));const e=this.groups[0].dayRanges[0]?.slots[0].height;this.groups.forEach(n=>{n.forEachDateRange(o=>o.initDaySlots(e,i))}),this.groups.forEach(n=>{n.forEachDateRange(o=>o.setDayOffsets())})}layoutTimeline(i,e){this.groups.forEach(o=>o.forEachTimeRange(r=>r?.slots.forEach(a=>{a.element.nativeElement.style.height=""})));const n=this.groups[0].timeRanges[0]?.slots[0].height;this.groups.forEach((o,r)=>{o.initTimeSlots(n,i,e&&e[r]?e[r].nativeElement.children[0]?.children[0].offsetHeight:0)}),this.groups.forEach(o=>o.setTimelineOffsets())}layoutTimes(i){this.groups.forEach(e=>e.forEachTimeRange(n=>n.layout(i)))}forEachDateRange(i){this.groups.forEach((e,n)=>{i(e.dayRanges[0],n)})}syncDateRanges(){let i=0;return this.groups.forEach(e=>{const n=e.dayRanges[0]?.firstSlot;n&&(i=Math.max(n.rect.height-n.padding,i))}),this.groups.forEach(e=>{e.dayRanges[0]?.setSlotsHeight(i)}),i}forEachGroup(i){this.groups.forEach(i)}forEachSlot(i){this.groups.forEach(e=>{e.dayRanges.forEach(n=>{n?.slots.forEach(o=>i(o))}),e.timeRanges.forEach(n=>{n?.slots.forEach(o=>i(o))})})}createGroup(i){return new Rdn(i)}slotByIndex(i,e=!1){const[n,o,r]=i.split(":").map(a=>parseInt(a,10));return this.groups[n][e?"dayRanges":"timeRanges"][o]?.slots[r]}slotByPosition(i,e,n,o){let r;if(n){if(this.groups.find(a=>(r=a.dayRanges.find(l=>zUe(l.rect,i)),r)),r)return r.slots.find(a=>zUe(a.rect,i))}else if(this.groups.find(a=>(o&&(r=a.dayRanges.find(l=>Hm(l.rect,i,e))),r||(r=a.timeRanges.find(l=>Hm(l.rect,i,e))),r)),r)return r.slots.find(a=>Hm(a.rect,i,e))}groupSlotByPosition(i,e,n){const o=this.groups[i.id.resourceIndex];let r;if(r=i.isDaySlot?o.dayRanges.find(a=>Hm(a.rect,e,n)):o.timeRanges.find(a=>Hm(a.rect,e,n)),r)return r.slots.find(a=>Hm(a.rect,e,n))}dragRanges(i,e,n){const o=new Date(i.start.getTime()-e.start),r=new Date(i.start.getTime()+e.end),a=this.groups[i.id.resourceIndex];let l;if(n){const c=[];a.timeRanges.forEach(f=>{const _=f?.slots.filter(g=>Tr(o,r,g.start,g.end));_.length&&c.push(_)});const u=c[c.length-1];l=[c[0][0],u[u.length-1]]}else l=a.slotRange(i)?.slots.filter(c=>Tr(o,r,c.start,c.end));return{start:o,end:r,ranges:[l]}}resizeRanges(i,e,n,o){const r=this.groups[i.id.resourceIndex],a=e.isAllDay?r.dayRanges:r.timeRanges,l=[],c=e.start.toUTCDate(),u=e.end.toUTCDate();let f,_;if(n){const g=i.start.getTime()+o.start;_=c.getTime()===u.getTime()?this.findDateSlot(u,a,!0).end:u,f=g>=u.getTime()?e.isAllDay?new Date(Math.min(Wp(u,c).getTime(),u.getTime())):this.findDateSlot(_,a).start:o.start&&e.isAllDay?new Date(g):new Date(i.start.getTime())}else f=c,_=i.start.getTime()<=f.getTime()?e.isAllDay?new Date(Math.max(Wp(c,u).getTime(),c.getTime())):this.findDateSlot(f,a,!0).end:o.end&&e.isAllDay?new Date(i.start.getTime()+o.end):i.end;return a.forEach(g=>{const S=g.slots.filter(b=>Tr(f,_,b.start,b.end));S.length&&l.push(S)}),{start:f,end:_,ranges:l}}timePosition(i,e,n){const r=this.groups[e].timeRanges.find(l=>gE(i,l.start,l.end));if(!r)return;const a=r.slots.find(l=>gE(i,l.start,l.end));if(a){const l=(n?a.height:a.width)*((i.getTime()-a.start.getTime())/(a.end.getTime()-a.start.getTime()));return n?a.rect.top+l:a.rect.left+l}}findDateSlot(i,e,n){let o;return e.forEach(r=>{const a=r.slots.filter(n?l=>Tr(i,i,l.start,l.end):l=>gE(i,l.start,l.end));a.length&&(o=a[0])}),o}}const T7e=({start:s,end:i})=>{const e=s.stripTime(),n=i.stripTime();return e.getTime()!==n.getTime()&&(n.getTime()!==i.getTime()||e.addDays(1).getTime()!==n.getTime())};let xj=(()=>{class s extends E7e{constructor(e,n,o,r,a,l,c){super(n,o,r,a,l,c),this.intlService=e,this.localeId=c,this.caretAltLeftIcon=Xa,this.caretAltRightIcon=Uo,this.caretAltUpIcon=Pu,this.caretAltDownIcon=Bo,this.arrowRotateCwIcon=gI,this.arrowsNoRepeatIcon=L_,this.xIcon=wo}get eventTime(){return this.intlService.format("{0:t}\u2013{1:t}",hr(this.item.startTime),hr(this.item.endTime))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Gt.Bs),t.rXU(r2),t.rXU(j),t.rXU(Hp),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.xe9))},s.\u0275cmp=t.VBU({type:s,selectors:[["","dayTimeViewItem",""]],inputs:{vertical:"vertical",isAllDay:"isAllDay"},features:[t.Vt3],attrs:Jon,decls:13,vars:11,consts:[[1,"k-event-actions"],[3,"name","svgIcon",4,"ngIf"],["name","arrow-rotate-cw",3,"svgIcon",4,"ngIf"],["name","arrows-no-repeat",3,"svgIcon",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngIf"],["class","k-link k-event-delete","aria-hidden","true",4,"ngIf"],["class","k-event-top-actions",4,"ngIf"],["class","k-event-bottom-actions",4,"ngIf"],[3,"name","svgIcon"],["name","arrow-rotate-cw",3,"svgIcon"],["name","arrows-no-repeat",3,"svgIcon"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","k-event-template k-event-time",4,"ngIf"],["aria-hidden","true",1,"k-event-template"],[1,"k-event-template","k-event-time"],["aria-hidden","true",1,"k-link","k-event-delete"],["name","x",3,"svgIcon"],[1,"k-event-top-actions"],["name","caret-alt-up",3,"svgIcon"],[1,"k-event-bottom-actions"],["name","caret-alt-down",3,"svgIcon"],["class","k-resize-handle k-resize-n",4,"ngIf"],["class","k-resize-handle k-resize-s",4,"ngIf"],[1,"k-resize-handle","k-resize-n"],[1,"k-resize-handle","k-resize-s"],[1,"k-resize-handle","k-resize-w"],[1,"k-resize-handle","k-resize-e"]],template:function(e,n){1&e&&(t.j41(0,"span",0),t.DNE(1,qon,1,2,"kendo-icon-wrapper",1)(2,Qon,1,1,"kendo-icon-wrapper",2)(3,Zon,1,1,"kendo-icon-wrapper",3),t.k0s(),t.DNE(4,ern,1,6,"ng-container",4)(5,nrn,4,3,"div",5),t.j41(6,"span",0),t.DNE(7,irn,2,2,"span",6)(8,srn,1,2,"kendo-icon-wrapper",1),t.k0s(),t.DNE(9,orn,2,1,"span",7)(10,rrn,2,1,"span",8)(11,crn,3,2,"ng-container",5)(12,drn,3,0,"ng-container",5)),2&e&&(t.R7$(),t.Y8G("ngIf",n.item.tail&&!n.vertical),t.R7$(),t.Y8G("ngIf",n.isRecurrence),t.R7$(),t.Y8G("ngIf",n.isRecurrenceException),t.R7$(),t.Y8G("ngIf",n.eventTemplate),t.R7$(),t.Y8G("ngIf",!n.eventTemplate),t.R7$(2),t.Y8G("ngIf",n.removable),t.R7$(),t.Y8G("ngIf",n.item.head&&!n.vertical),t.R7$(),t.Y8G("ngIf",n.item.tail&&n.vertical),t.R7$(),t.Y8G("ngIf",n.item.head&&n.vertical),t.R7$(),t.Y8G("ngIf",n.resizable&&n.vertical),t.R7$(),t.Y8G("ngIf",n.resizable&&!n.vertical))},dependencies:[Ke,W,Je],encapsulation:2}),s})();const Gdn=s=>Dn(s),Pdn=(s,i)=>Dn(Ms(s,i||1)),Fdn=(s,i,e)=>Dn(Ms(s,e*i));let M7e=(()=>{class s extends _de{constructor(e,n,o,r,a,l,c,u,f,_,g){super(n,o,r,a,l,c,u,f,_,e,g),this.changeDetector=e,this.numberOfDays=1,this.startTime="00:00",this.endTime="00:00",this.workDayStart="08:00",this.workDayEnd="17:00",this.workWeekStart=1,this.workWeekEnd=5,this.slotDuration=60,this.slotDivisions=2,this.showWorkHours=!1,this.getStartDate=Gdn,this.getEndDate=Pdn,this.getNextDate=Fdn,this.daySlots=[],this.timeSlots=[],this.resizeHintFormat="t",this.showCurrentTime=!1,this.verticalTime=!0,this.initialUpdate=!0,this.updateCurrentTime=this.updateCurrentTime.bind(this),this.toggleOngoingClass=this.toggleOngoingClass.bind(this),this.updateOngoingEvents=this.updateOngoingEvents.bind(this)}get classNames(){return`k-scheduler-${this.name}view`}get timeSlotTemplateRef(){return this.timeSlotTemplate||(this.schedulerTimeSlotTemplate||{}).templateRef}get dateHeaderTemplateRef(){return this.dateHeaderTemplate||(this.schedulerDateHeaderTemplate||{}).templateRef}get majorTimeHeaderTemplateRef(){return this.majorTimeHeaderTemplate||(this.schedulerMajorTimeHeaderTemplate||{}).templateRef}get minorTimeHeaderTemplateRef(){return this.minorTimeHeaderTemplate||(this.schedulerMinorTimeHeaderTemplate||{}).templateRef}ngOnChanges(e){(e.startTime||e.endTime||e.showWorkHours||e.workDayStart||e.workDayEnd||e.workWeekStart||e.workWeekEnd||e.slotDivisions||e.slotDuration)&&(this.timeSlots=this.createTimeSlots(),this.initWorkDay(),this.changes.next(null)),Dt("currentTimeMarker",e)&&(this.showCurrentTime=this.enableCurrentTime()),Dt("weekStart",e)&&this.onSelectDate(this.selectedDate),super.ngOnChanges(e)}ngOnDestroy(){super.ngOnDestroy(),clearTimeout(this.currentTimeTimeout),clearTimeout(this.ongoingEventsTimeout)}verticalItem(e,n){const o=this.verticalResources[n].data||[],r=this.verticalResources;let a=1;for(let l=n+1;l<r.length;l++)a*=(r[l].data||[]).length||1;return o[e/a%o.length]}timeSlotClass(e,n,o){if(this.slotClass)return this.slotClass({start:Wp(n,e.start),end:Wp(n,e.end),resources:this.resourcesByIndex(o),isAllDay:!1})}toggleOngoingClass(){const e=this.currentTime(),n=mn(this.highlightOngoingEvents.cssClass)?this.highlightOngoingEvents.cssClass:C7e;this.eventElements.forEach(o=>{const r=gE(e,o.item.start,o.item.end);this.renderer[r?"addClass":"removeClass"](o.nativeElement,n)})}scrollToTime(e=this.scrollTime){let n;if("string"==typeof e){const r=this.intl.parseDate(e);if(!r)return;n=b6(this.daySlots[0].start,r)}else n=vE(e);const o=this.slotService.timePosition(n,0,this.verticalTime);if(mE(o)){const r=this.content.nativeElement;r[this.verticalTime?"scrollTop":"scrollLeft"]=this.localization.rtl&&!this.verticalTime?function tcn(s,i){const e=s.scrollLeft;let n=i;return s.scrollLeft=-1,s.scrollLeft<0?n=-i:e>0&&(n=s.scrollWidth-s.offsetWidth-i),n}(r,o):o}}optionsChange(e){this.schedulerTimeSlotTemplate=e.timeSlotTemplate,this.schedulerDateHeaderTemplate=e.dateHeaderTemplate,this.schedulerMajorTimeHeaderTemplate=e.majorTimeHeaderTemplate,this.schedulerMinorTimeHeaderTemplate=e.minorTimeHeaderTemplate,super.optionsChange(e)}updateView(){super.updateView(),this.updateCurrentTime(),this.updateOngoingEvents(),this.initialUpdate&&(this.scrollToTime(),this.initialUpdate=!1)}enableCurrentTime(){if(!this.currentTimeMarker||!1===this.currentTimeMarker.enabled||!this.selectedDate)return!1;const e=this.dateRange();this.currentDate=Ji.fromLocalDate(this.currentTime(),!1!==this.currentTimeMarker.localTimezone?"":this.timezone);const n=this.currentDate.toLocalDate(),o=KO(n),r=this.timeSlots,a=gE(n,e.start,e.end),l=r.length&&gE(o,r[0].start,r[r.length-1].end);return a&&l}currentTime(){return new Date}updateCurrentTime(){if(!ne())return;const e=this.enableCurrentTime();e!==this.showCurrentTime&&(this.showCurrentTime=e,this.changeDetector.detectChanges()),clearTimeout(this.currentTimeTimeout),e&&(this.zone.runOutsideAngular(()=>{this.currentTimeTimeout=setTimeout(this.updateCurrentTime,this.currentTimeMarker.updateInterval||y6)}),this.positionCurrentTime())}updateOngoingEvents(){const e=!this.highlightOngoingEvents||!1===this.highlightOngoingEvents.enabled;!ne()||e||(clearTimeout(this.ongoingEventsTimeout),this.zone.runOutsideAngular(()=>{this.ongoingEventsTimeout=setTimeout(this.updateOngoingEvents,this.highlightOngoingEvents.updateInterval||y6)}),this.toggleOngoingClass())}positionCurrentTime(){if(this.currentTimeElements&&this.currentTimeElements.length){const e=this.currentDate.toUTCDate(),n=this.currentTimeArrows?this.currentTimeArrows.toArray():[],o=n.length?this.currentTimeArrowOffset():0,r=n.length?n[0].nativeElement.offsetHeight/2:4,a=this.contentTable.nativeElement.clientWidth,l=this.contentTable.nativeElement.clientHeight,c=this.verticalTime;this.currentTimeElements.forEach((u,f)=>{const _=this.slotService.timePosition(e,f,c);if(void 0!==_){const g=u.nativeElement;if(n[f]){const k=c?o:_-r;HUe(n[f].nativeElement,{top:c?_-r:o,left:k,right:k})}const S=c?0:_;HUe(g,{top:c?_:0,left:S,right:S,width:c?a:1,height:c?1:l})}})}}bindEvents(){super.bindEvents(),this.zone.runOutsideAngular(()=>{this.subs.add(ede(this.headerWrap.nativeElement).subscribe(e=>this.onHeaderClick(e))),this.subs.add(wt(this.headerWrap.nativeElement,"contextmenu").subscribe(e=>this.onClick(e))),this.subs.add(TUe(this.headerWrap.nativeElement).subscribe(e=>this.onClick(e,"dblclick")))})}onHeaderClick(e){if(this.onClick(e),this.daySlots.length<=1)return;const n=e.target.getAttribute("data-dayslot-index");if(n){const o=this.daySlots[parseInt(n,10)];this.zone.run(()=>{this.viewState.navigateTo({viewName:"day",date:o.start})})}}slotByIndex(e,n){return this.slotService.slotByIndex(e,n.target.hasAttribute("data-day-slot"))}onSelectDate(e){this.selectedDate=e,this.daySlots=this.createDaySlots(),this.showCurrentTime=this.enableCurrentTime(),this.viewState.notifyDateRange(this.dateRange())}onAction(e){const n=Dn(this.selectedDate);if("next"===e.type){const o=this.getNextDate(n,1,this.numberOfDays);this.isInRange(o)&&this.viewState.notifyNextDate(o)}if("prev"===e.type){const o=this.getNextDate(n,-1,this.numberOfDays);this.isInRange(o)&&this.viewState.notifyNextDate(o)}"scroll-time"===e.type&&this.scrollToTime(e.time)}dateRange(e=this.selectedDate){const n=this.getStartDate(e),o=this.getEndDate(n,this.numberOfDays),r=this.getEndDate(n,this.numberOfDays-1);return{start:n,end:o,text:this.intl.format(this.selectedDateFormat,n,r),shortText:this.intl.format(this.selectedShortDateFormat,n,r)}}createDaySlots(){let e=this.getStartDate(this.selectedDate);const n=this.getEndDate(e,this.numberOfDays),o=[];for(;e<n;){const r=Ms(e,1);o.push({start:e,end:r}),e=r}return o}createTimeSlots(){return function Ldn(s,{showWorkHours:i,startTime:e,endTime:n,workDayStart:o,workDayEnd:r,slotDivisions:a,slotDuration:l}){const u=KO(s.parseDate(i?o:e)).getTime();let _=KO(s.parseDate(i?r:n)).getTime();_<=u&&(_=KO(g7e).getTime()+864e5);const g=[],S=Math.round(l/a*y6);let b=u,k=0;for(;b<_;)g.push({start:new Date(b),end:new Date(b+S),isMajor:k%a==0}),k++,b+=S;return g}(this.intl,{showWorkHours:this.showWorkHours,startTime:this.startTime,endTime:this.endTime,workDayStart:this.workDayStart,workDayEnd:this.workDayEnd,slotDivisions:this.slotDivisions,slotDuration:this.slotDuration})}initWorkDay(){const e=this.intl.parseDate(this.workDayStart);this.workDayStartTime=KO(e);const n=this.intl.parseDate(this.workDayEnd);this.workDayEndTime=n<=e?Ms(g7e,1):KO(n)}slotByPosition(e,n,o){const r=o?Xp(o.parentNode,"k-scheduler-header-wrap"):n<0;return this.slotService.slotByPosition(e,n,r,!!this.verticalResources.length)}slotFields(e){const n=super.slotFields(e);return e.isDaySlot?n.isAllDay=!0:(n.start=this.convertDate(e.start),n.end=this.convertDate(e.end)),n}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.gRc),t.rXU(Lo),t.rXU(po),t.rXU(Gt.Bs),t.rXU(r2),t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU($p),t.rXU(j),t.rXU(t0))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-day-time-view"]],viewQuery:function(e,n){if(1&e&&(t.GBs(urn,5),t.GBs(xj,5),t.GBs(hrn,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.currentTimeElements=o),t.mGM(o=t.lsd())&&(n.eventElements=o),t.mGM(o=t.lsd())&&(n.currentTimeArrows=o)}},inputs:{timeSlotTemplate:"timeSlotTemplate",dateHeaderTemplate:"dateHeaderTemplate",majorTimeHeaderTemplate:"majorTimeHeaderTemplate",minorTimeHeaderTemplate:"minorTimeHeaderTemplate",numberOfDays:"numberOfDays",scrollTime:"scrollTime",startTime:"startTime",endTime:"endTime",workDayStart:"workDayStart",workDayEnd:"workDayEnd",workWeekStart:"workWeekStart",workWeekEnd:"workWeekEnd",slotDuration:"slotDuration",slotDivisions:"slotDivisions",showWorkHours:"showWorkHours",getStartDate:"getStartDate",getEndDate:"getEndDate",getNextDate:"getNextDate",currentTimeMarker:"currentTimeMarker",highlightOngoingEvents:"highlightOngoingEvents"},features:[t.Vt3,t.OA$],decls:0,vars:0,template:function(e,n){},encapsulation:2}),s})(),Cde=(()=>{class s extends gde{constructor(e,n,o){super(e,n,o),this.isDaySlot=!1}get nonWorkHour(){const e=this.date.getDay();return this.invariantStart<this.workDayStart||this.workDayEnd<this.invariantEnd||!((s,i,e)=>e<i?s<=e||i<=s:i<=s&&s<=e)(e,this.workWeekStart,this.workWeekEnd)}get startLocalTime(){return this.date&&this.invariantStart?Wp(this.date,this.invariantStart):null}get endLocalTime(){return this.date&&this.invariantEnd?Wp(this.date,this.invariantEnd):null}get start(){return this.date&&this.invariantStart?b6(this.date,this.invariantStart):null}get end(){if(!this.date||!this.invariantEnd)return null;const e=b6(this.date,this.invariantEnd);return Jcn.getTime()<=this.invariantEnd.getTime()?JO(e,1):e}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(r2),t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","timeSlot",""]],hostVars:2,hostBindings:function(e,n){2&e&&t.AVh("k-nonwork-hour",n.nonWorkHour)},inputs:{invariantStart:"invariantStart",invariantEnd:"invariantEnd",workDayStart:"workDayStart",workDayEnd:"workDayEnd",workWeekStart:"workWeekStart",workWeekEnd:"workWeekEnd",date:"date"},exportAs:["timeSlot"],features:[t.Vt3]}),s})(),I7e=(()=>{class s extends gde{constructor(e,n,o){super(e,n,o),this.isDaySlot=!0}set start(e){this.startDate=e}get start(){return this.startDate?Yr(this.startDate):null}set end(e){this.endDate=e}get end(){return this.endDate?Yr(this.endDate):null}get daySlot(){return!0}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(r2),t.rXU(j))},s.\u0275dir=t.FsC({type:s,selectors:[["","daySlot",""]],hostVars:1,hostBindings:function(e,n){2&e&&t.BMQ("data-day-slot",n.daySlot)},inputs:{start:"start",end:"end"},features:[t.Vt3]}),s})(),Aj=(()=>{class s extends M7e{constructor(e,n,o,r,a,l,c,u,f,_,g){super(f,n,o,r,a,l,c,u,_,e,g),this.name="day",this.dateFormat={skeleton:"MEd"},this.allDayResizeHintFormat={skeleton:"Md"},this.allDayItems=new Fn.t(null)}get allDaySlotTemplateRef(){return this.allDaySlotTemplate||(this.schedulerAllDaySlotTemplate||{}).templateRef}get allDayEventTemplateRef(){return this.allDayEventTemplate||(this.schedulerAllDayEventTemplate||{}).templateRef}get allDayMessage(){return this.localization.get("allDay")}get allDayResizeHint(){return this.resizing&&this.resizing.task.isAllDay}get allDayDragHint(){return this.dragging&&this.dragging.slot.isDaySlot}optionsChange(e){this.schedulerAllDaySlotTemplate=e.allDaySlotTemplate,this.schedulerAllDayEventTemplate=e.allDayEventTemplate,super.optionsChange(e)}ngOnChanges(e){super.ngOnChanges(e),e.slotFill&&this.changes.next(null),Zi(["startTime","endTime","showWorkHours","workDayStart","workDayEnd","workWeekStart","workWeekEnd","allDaySlot"],e)&&this.viewRangeChange.next(null),(Dt("numberOfDays",e,!0)||Dt("weekStart",e))&&(this.daySlots=this.createDaySlots(),this.viewState.notifyDateRange(this.dateRange()))}horizontalColspan(e){const n=this.horizontalResources;let o=this.daySlots.length;for(let r=e+1;r<n.length;r++)o*=(n[r].data||[]).length||1;return o}verticalRowspan(e){const n=this.verticalResources;let o=this.timeSlots.length+1;for(let r=e+1;r<n.length;r++)o*=(n[r].data||[]).length||1;return o}allDaySlotClass(e,n){if(this.slotClass)return this.slotClass({start:e.start,end:e.end,resources:this.resourcesByIndex(n),isAllDay:!0})}createTasks(e,n){const o=this.timeSlots[0],r=this.timeSlots[this.timeSlots.length-1].end,a=!(r.getHours()||r.getMinutes()),l=this.daySlots.map(c=>({start:b6(c.start,o.start),end:a?Yr(c.end):b6(c.start,r)}));return((s,i,e,n)=>{const o=[],r=Yr(s),a=Yr(i);for(let l=0;l<e.length;l++){const c=e[l],u=T7e(c),f=u&&!c.event.isAllDay,_="boolean"==typeof c.event.isAllDay?c.event.isAllDay:u&&!f,g=(_?AUe(c):c.end).toUTCDate(),S=(_?c.start.stripTime():c.start).toUTCDate();for(let b=0;b<n.length;b++)if(Tr(S,g,n[b].start,n[b].end)){const O={index:l,isAllDay:_,startTime:S,endTime:g,rangeIndex:_?0:b,start:c.start,end:c.end,event:c.event};if(o.push(O),!f){O.head=a<g,O.tail=S<r;break}{const I=n[b+1],N=n[b-1];O.head=(I?I.start:a)<g,O.tail=S<(N?N.end:r)}}}return tde(o)})(n.start,n.end,e,l)}onTasksChange(){this.items.next(this.tasks.filter(e=>!e.isAllDay)),this.allDayItems.next(this.tasks.filter(e=>e.isAllDay))}reflow(){const e=this.slotService;if(this.verticalResources.length||(this.updateContentHeight(),this.syncTables()),this.slotService.containerSize=this.content.nativeElement.clientWidth,e.layoutDays(this.eventHeight),this.updateContentHeight(),this.syncTables(),this.dayCells.length){const n=this.dayCells.toArray();if(this.verticalResources.length)e.forEachDateRange((o,r)=>{const a=o.firstSlot;n[r].nativeElement.style.height=a.rect.height-a.padding+"px"});else{const o=e.syncDateRanges();n[0].nativeElement.style.height=`${o}px`}}e.layoutTimes({fill:this.slotFill}),this.syncTables()}dragHorizontal(e){return e.isDaySlot}updateHintContainer(){this.headerHintContainer&&this.headerHintContainer.detectChanges(),super.updateHintContainer()}onRelease(e){super.onRelease(e),this.dragContainers=null}updateDragContainer(e){this.dragContainers||(this.dragContainers=this.containers);const n=this.dragContainers.find(o=>{const r=o.offset;return r.top<=e.pageY&&e.pageY<=r.top+r.height})||{};this.container=n.element,this.containerOffset=n.offset}containerByPosition({x:e,y:n}){return this.containers.find(o=>{const r=o.offset;return r.top<=n&&n<=r.top+r.height&&r.left<=e&&e<=r.left+r.width})}get containers(){const e=this.headerWrap.nativeElement.children[1],n=this.content.nativeElement;return[{element:n,offset:SE(n)},{element:e,offset:SE(e)}]}scrollContainer(e,n){clearInterval(this.scrollInterval),this.container&&this.container===this.content.nativeElement&&super.scrollContainer(e,n)}dragRanges(e){const n=this.dragging.task;if(e.isDaySlot&&!n.isAllDay)return{ranges:[[e]],start:Wp(e.start,n.start.toUTCDate()),end:Wp(e.start,n.end.toUTCDate()),isAllDay:!0};const o=n.isAllDay&&!e.isDaySlot,r=this.slotService.dragRanges(e,o?{start:0,end:0}:this.dragging.offset);return o&&(r.end=e.end),r.isAllDay=this.draggedIsAllDay(n,e),r}dragHintEventStyleArgs(){return{event:this.dragging.task.event,resources:this.dragging.resourceItems,isAllDay:!!this.allDayDragHint}}draggedIsAllDay(e,n){return!(!n.isDaySlot||!e.event.isAllDay&&T7e(e))}dragHintSize(e,n){let o,r;return e.isDaySlot?(o=xh(n.rect.left-e.rect.left+n.rect.width),r=xh(e.height)):(o=xh(.9*e.rect.width),r=xh(this.dragging.task.isAllDay?e.rect.height:n.rect.top-e.rect.top+n.rect.height)),{width:o,height:r}}currentTimeArrowOffset(){if(this.verticalResources.length){const e=this.times.nativeElement.querySelector(".k-scheduler-times-all-day");return this.localization.rtl?this.times.nativeElement.offsetWidth-e.offsetWidth:e.offsetLeft}return 0}isMiddleSlot(e){return e+1<this.timeSlots.length&&!this.timeSlots[e+1].isMajor}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j),t.rXU(Lo),t.rXU(po),t.rXU(Gt.Bs),t.rXU(r2),t.rXU(t.SKi),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(t.gRc),t.rXU($p),t.rXU(t0))},s.\u0275cmp=t.VBU({type:s,selectors:[["multi-day-view"]],viewQuery:function(e,n){if(1&e&&(t.GBs(prn,5),t.GBs(frn,5)),2&e){let o;t.mGM(o=t.lsd())&&(n.headerHintContainer=o.first),t.mGM(o=t.lsd())&&(n.dayCells=o)}},inputs:{allDaySlot:"allDaySlot",name:"name",slotFill:"slotFill",allDaySlotTemplate:"allDaySlotTemplate",allDayEventTemplate:"allDayEventTemplate"},features:[t.Jv_([r2]),t.Vt3,t.OA$],decls:41,vars:31,consts:[["timesHeader",""],["header",""],["headerWrap",""],["times",""],["timesTable",""],["content",""],["contentTable",""],["hintContainer",""],["allDayCell",""],["headerHintContainer",""],["currentTimeArrow",""],["currentTimeMarker",""],["timeSlot","timeSlot"],["role","presentation",1,"k-scheduler-layout","k-scheduler-flex-layout",3,"ngClass"],[1,"k-scheduler-pane"],[1,"k-scheduler-times"],["aria-hidden","true",1,"k-scheduler-table"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,"k-scheduler-header","k-state-default"],[1,"k-scheduler-header-wrap"],[3,"position",4,"ngIf"],["role","group","tabindex","0",1,"k-scheduler-content","k-user-select-none"],["role","presentation",1,"k-scheduler-table"],[1,"k-scheduler-times-all-day"],["class","k-slot-cell",4,"ngFor","ngForOf","ngForTrackBy"],[1,"k-slot-cell"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","k-link k-nav-day",4,"ngIf"],[1,"k-link","k-nav-day"],["aria-hidden","true",1,"k-scheduler-table","k-scheduler-header-all-day","k-user-select-none"],["daySlot","",3,"start","end","id","k-selected","ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["daySlot","",3,"start","end","id","ngClass"],["role","button","dayTimeViewItem","",3,"ngClass","ngStyle","kendoSchedulerFocusIndex","id","isAllDay","editable","eventTemplate","item","index","rangeIndex","resources","resourceIndex",4,"ngFor","ngForOf","ngForTrackBy"],["role","button","dayTimeViewItem","",3,"ngClass","ngStyle","kendoSchedulerFocusIndex","id","isAllDay","editable","eventTemplate","item","index","rangeIndex","resources","resourceIndex"],["class","k-event-drag-hint","dayTimeViewItem","",3,"isAllDay","ngStyle","ngClass","dragHint","eventTemplate","item","resources",4,"ngIf"],["kendoResizeHint","",3,"hint","ngClass","format",4,"ngIf"],["dayTimeViewItem","",1,"k-event-drag-hint",3,"isAllDay","ngStyle","ngClass","dragHint","eventTemplate","item","resources"],["kendoResizeHint","",3,"hint","ngClass","format"],["class","k-current-time k-current-time-arrow-right",4,"ngFor","ngForOf","ngForTrackBy"],[1,"k-current-time","k-current-time-arrow-right"],["class","k-scheduler-times-all-day",4,"ngIf"],["class","k-slot-cell",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],["class","k-current-time",4,"ngFor","ngForOf","ngForTrackBy"],[1,"k-current-time"],["class","k-scheduler-header-all-day",4,"ngIf"],[3,"k-middle-row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"k-scheduler-header-all-day"],["daySlot","",3,"start","end","k-selected","id",4,"ngFor","ngForOf","ngForTrackBy"],["daySlot","",3,"start","end","id"],["timeSlot","",3,"ngClass","date","invariantStart","invariantEnd","workDayStart","workDayEnd","workWeekStart","workWeekEnd","id","k-selected",4,"ngFor","ngForOf","ngForTrackBy"],["timeSlot","",3,"ngClass","date","invariantStart","invariantEnd","workDayStart","workDayEnd","workWeekStart","workWeekEnd","id"],["role","button","dayTimeViewItem","",3,"ngClass","ngStyle","kendoSchedulerFocusIndex","id","editable","vertical","eventTemplate","item","index","rangeIndex","resources","resourceIndex",4,"ngFor","ngForOf","ngForTrackBy"],["role","button","dayTimeViewItem","",3,"ngClass","ngStyle","kendoSchedulerFocusIndex","id","editable","vertical","eventTemplate","item","index","rangeIndex","resources","resourceIndex"],["class","k-event-drag-hint","role","button","dayTimeViewItem","",3,"isAllDay","ngStyle","ngClass","dragHint","eventTemplate","resources","item",4,"ngIf"],["role","button","dayTimeViewItem","",1,"k-event-drag-hint",3,"isAllDay","ngStyle","ngClass","dragHint","eventTemplate","resources","item"],["kendoResizeHint","",3,"hint","ngClass","format",4,"ngFor","ngForOf","ngForTrackBy"]],template:function(e,n){1&e&&(t.j41(0,"div",13)(1,"div",14)(2,"div",15,0)(4,"table",16),t.DNE(5,mrn,2,0,"tr",17),t.j41(6,"tr"),t.nrm(7,"th"),t.k0s(),t.DNE(8,_rn,4,1,"tr",18),t.k0s()(),t.j41(9,"div",19,1)(11,"div",20,2)(13,"table",16),t.DNE(14,Crn,3,5,"tr",17),t.j41(15,"tr"),t.DNE(16,krn,2,2,"ng-container",17),t.nI1(17,"resourceIterator"),t.k0s()(),t.DNE(18,Rrn,10,10,"div",21),t.k0s()()(),t.j41(19,"div",14)(20,"div",15,3),t.DNE(22,Lrn,3,4,"ng-container",18),t.j41(23,"table",16,4),t.DNE(25,Yrn,3,3,"ng-container",17),t.nI1(26,"resourceIterator"),t.k0s()(),t.j41(27,"div",22,5),t.nI1(29,"async"),t.DNE(30,Jrn,3,4,"ng-container",18),t.j41(31,"table",23,6),t.DNE(33,san,3,3,"ng-container",17),t.nI1(34,"resourceIterator"),t.k0s(),t.DNE(35,ran,2,2,"ng-container",17),t.nI1(36,"async"),t.DNE(37,can,3,4,"ng-container",18),t.j41(38,"kendo-hint-container",null,7),t.DNE(40,pan,2,2,"ng-template"),t.k0s()()()()),2&e&&(t.Y8G("ngClass",n.classNames),t.R7$(5),t.Y8G("ngForOf",n.horizontalResources)("ngForTrackBy",n.itemIndex),t.R7$(2),t.xc7("height","auto"),t.R7$(),t.Y8G("ngIf",n.allDaySlot&&!n.verticalResources.length),t.R7$(6),t.Y8G("ngForOf",n.horizontalResources)("ngForTrackBy",n.itemIndex),t.R7$(2),t.Y8G("ngForOf",t.bMT(17,21,n.horizontalResources))("ngForTrackBy",n.itemIndex),t.R7$(2),t.Y8G("ngIf",n.allDaySlot&&!n.verticalResources.length),t.R7$(4),t.Y8G("ngIf",n.showCurrentTime),t.R7$(3),t.Y8G("ngForOf",t.bMT(26,23,n.verticalResources))("ngForTrackBy",n.itemIndex),t.R7$(2),t.BMQ("aria-owns",n.matchOwned(t.bMT(29,25,n.items))),t.R7$(3),t.Y8G("ngIf",n.showCurrentTime),t.R7$(3),t.Y8G("ngForOf",t.bMT(34,27,n.verticalResources))("ngForTrackBy",n.itemIndex),t.R7$(2),t.Y8G("ngForOf",t.bMT(36,29,n.items))("ngForTrackBy",n.itemIndex),t.R7$(2),t.Y8G("ngIf",n.verticalResources.length))},dependencies:[xj,Dj,Tj,Pe,st,W,Je,I7e,Jn,t2,Cde,Mj,Gt.vh,qp],encapsulation:2}),s})(),bde=(()=>{class s extends w7e{constructor(e,n,o,r){super(e,n,o,r),this.name="day",this._selectedDateFormat="{0:D}",this._selectedShortDateFormat="{0:d}"}get title(){return this.localization.get("dayViewTitle")}set selectedDateFormat(e){this._selectedDateFormat=e}get selectedDateFormat(){return this._selectedDateFormat}set selectedShortDateFormat(e){this._selectedShortDateFormat=e}get selectedShortDateFormat(){return this._selectedShortDateFormat}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(j),t.rXU(t.gRc),t.rXU(Lo),t.rXU(po))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-scheduler-day-view"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,dj,5),t.wni(o,f6,5)),2&e){let r;t.mGM(r=t.lsd())&&(n.allDaySlotTemplate=r.first),t.mGM(r=t.lsd())&&(n.allDayEventTemplate=r.first)}},inputs:{selectedDateFormat:"selectedDateFormat",selectedShortDateFormat:"selectedShortDateFormat"},features:[t.Jv_([{provide:md,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:2,vars:0,consts:[["content",""],[3,"name","allDaySlot","eventHeight","currentTimeMarker","highlightOngoingEvents","showWorkHours","scrollTime","startTime","endTime","workDayStart","workDayEnd","workWeekStart","workWeekEnd","slotDuration","slotDivisions","slotFill","slotClass","eventClass","eventStyles","allDaySlotTemplate","allDayEventTemplate","eventTemplate","groupHeaderTemplate","timeSlotTemplate","minorTimeHeaderTemplate","majorTimeHeaderTemplate","dateHeaderTemplate","selectedDateFormat","selectedShortDateFormat"],["viewFooter","","kendoWorkHoursFooter","",3,"itemClick","showWorkHours"]],template:function(e,n){1&e&&t.DNE(0,fan,2,30,"ng-template",null,0,t.C5r)},dependencies:[Aj,d1,o2],encapsulation:2,changeDetection:0}),s})(),x7e=(()=>{class s extends w7e{constructor(e,n,o,r,a){super(n,o,r,a),this.intl=e,this.selectedDateFormat="{0:D} - {1:D}",this.selectedShortDateFormat="{0:d} - {1:d}",this.name="week",this.getStartDate=this.getStartDate.bind(this)}get title(){return this.localization.get("weekViewTitle")}getStartDate(e){return qz(Dn(e),this.viewWeekStart)}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Gt.Bs),t.rXU(j),t.rXU(t.gRc),t.rXU(Lo),t.rXU(po))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-scheduler-week-view"]],contentQueries:function(e,n,o){if(1&e&&(t.wni(o,dj,5),t.wni(o,f6,5)),2&e){let r;t.mGM(r=t.lsd())&&(n.allDaySlotTemplate=r.first),t.mGM(r=t.lsd())&&(n.allDayEventTemplate=r.first)}},inputs:{selectedDateFormat:"selectedDateFormat",selectedShortDateFormat:"selectedShortDateFormat"},features:[t.Jv_([{provide:md,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:2,vars:0,consts:[["content",""],[3,"name","allDaySlot","numberOfDays","getStartDate","eventHeight","currentTimeMarker","highlightOngoingEvents","showWorkHours","scrollTime","startTime","endTime","workDayStart","workDayEnd","workWeekStart","workWeekEnd","weekStart","slotDuration","slotDivisions","slotFill","slotClass","eventClass","eventStyles","allDaySlotTemplate","allDayEventTemplate","eventTemplate","groupHeaderTemplate","timeSlotTemplate","minorTimeHeaderTemplate","majorTimeHeaderTemplate","dateHeaderTemplate","selectedDateFormat","selectedShortDateFormat"],["viewFooter","","kendoWorkHoursFooter","",3,"itemClick","showWorkHours"]],template:function(e,n){1&e&&t.DNE(0,_an,2,33,"ng-template",null,0,t.C5r)},dependencies:[Aj,d1,o2],encapsulation:2,changeDetection:0}),s})(),R7e=(()=>{class s extends x7e{constructor(e,n,o,r,a){super(e,n,o,r,a),this.name="workWeek",this.getNextDate=this.getNextDate.bind(this)}get title(){return this.localization.get("workWeekViewTitle")}get numberOfDays(){return this.viewWorkWeekStart>this.viewWorkWeekEnd?7-this.viewWorkWeekStart+this.viewWorkWeekEnd+1:this.viewWorkWeekEnd-this.viewWorkWeekStart+1}getStartDate(e){return qz(Dn(e),this.viewWorkWeekStart)}getNextDate(e,n,o){return Dn(Ms(e,7*n))}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(Gt.Bs),t.rXU(j),t.rXU(t.gRc),t.rXU(Lo),t.rXU(po))},s.\u0275cmp=t.VBU({type:s,selectors:[["kendo-scheduler-work-week-view"]],features:[t.Jv_([{provide:md,useExisting:(0,t.Rfq)(()=>s)}]),t.Vt3],decls:2,vars:0,consts:[["content",""],["viewName","workWeekview",3,"allDaySlot","name","numberOfDays","getStartDate","getNextDate","eventHeight","currentTimeMarker","highlightOngoingEvents","showWorkHours","scrollTime","startTime","endTime","workDayStart","workDayEnd","workWeekStart","workWeekEnd","slotDuration","slotDivisions","slotFill","slotClass","eventClass","eventStyles","allDaySlotTemplate","allDayEventTemplate","eventTemplate","groupHeaderTemplate","timeSlotTemplate","minorTimeHeaderTemplate","majorTimeHeaderTemplate","dateHeaderTemplate","selectedDateFormat","selectedShortDateFormat"],["viewFooter","","kendoWorkHoursFooter","",3,"itemClick","showWorkHours"]],template:function(e,n){1&e&&t.DNE(0,gan,2,33,"ng-template",null,0,t.C5r)},dependencies:[Aj,d1,o2],encapsulation:2,changeDetection:0}),s})(),N7e=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[Fe,QO,k6,An]]}),s})(),Ede=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[k6,N7e]]}),s})(),wde=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[N7e,k6]]}),s})();const F7e=s=>Xp(s,"k-scheduler-content"),U7e="KENDO-CALENDAR-HORIZONTAL";let B7e=(()=>{class s{constructor(e,n,o,r,a,l,c){this.scheduler=e,this.domEvents=n,this.focusService=o,this.zone=r,this.changeDetector=a,this.viewState=l,this.dialogsService=c,this.shortcuts=[{match:u=>u.keyCode===F.KeyC&&n2(u),action:u=>{const f=this.scheduler,_=(new Date).getHours(),g=f.selectedDate,S=new Date(g.getFullYear(),g.getMonth(),g.getDate(),_+1),b=new Date(g.getFullYear(),g.getMonth(),g.getDate(),_+2);let k;if(f.group){const I=hj(f.group||{},f.resources||[]);I.length>0&&(k=I[0].data[0])}f.create.emit({start:Ji.fromLocalDate(S,f.timezone).toLocalDate(),end:Ji.fromLocalDate(b,f.timezone).toLocalDate(),isAllDay:!1,resources:[k],originalEvent:u,sender:f})}},{match:u=>u.keyCode>=F.Digit1&&u.keyCode<=F.Digit9&&E6(u,_d.AltKey),action:u=>{const f=this.scheduler,_=u.keyCode-F.Digit0-1,S=f.views.toArray()[_];S&&this.zone.run(()=>{f.onNavigationAction({type:"view-change",view:S})||(this.changeDetector.markForCheck(),this.focusWait())})}},{match:u=>u.keyCode===F.F10&&n2(u),action:u=>{this.zone.run(()=>{u.preventDefault(),this.scheduler.onNavigationAction({type:"focus-toolbar"}),this.focusWait()})}},{match:u=>u.keyCode===F.KeyT&&n2(u),action:()=>{this.zone.run(()=>{this.scheduler.onNavigationAction({type:"today"}),this.focusWait()})}},{match:u=>u.keyCode===F.KeyB&&n2(u),action:()=>{this.zone.run(()=>{this.scheduler.onNavigationAction({type:"toggle-business-hours"}),this.focusWait()})}},{match:u=>(u.keyCode===F.ArrowLeft||u.keyCode===F.ArrowRight)&&E6(u,_d.ShiftKey),action:u=>{const f=u.keyCode===F.ArrowLeft?"prev":"next";this.zone.run(()=>{this.scheduler.onNavigationAction({type:f}),this.focusWait()})}},{match:u=>(u.keyCode===F.ArrowUp||u.keyCode===F.ArrowLeft)&&n2(u)&&!F7e(u.target),action:u=>{if(u.target.tagName!==U7e&&!this.scheduler.onNavigationAction({type:"focus-prev"})){const _=this.focusService.activeItem;"content"===_.containerType&&_.element.nativeElement.matches(":first-of-type")&&u.keyCode===F.ArrowUp?this.focusService.focusToolbar():this.focusService.focusNext({offset:-1}),u.preventDefault()}}},{match:u=>(u.keyCode===F.ArrowDown||u.keyCode===F.ArrowRight)&&n2(u)&&!F7e(u.target),action:u=>{if(u.target.tagName!==U7e&&!this.scheduler.onNavigationAction({type:"focus-next"})){const g=1;if(u.keyCode===F.ArrowDown&&"toolbar"===this.focusService.activeItem.containerType){const b=Array.from(this.focusService.focusableItems).findIndex(k=>"content"===k.containerType);if(b>-1)return this.focusService.focusByIndex(b),void u.preventDefault()}this.focusService.focusNext({offset:g}),u.preventDefault()}}}],this.taskShortcuts=[{match:u=>(u.keyCode===F.Delete||u.keyCode===F.Backspace)&&n2(u),action:(u,f)=>{this.viewState.emitEvent("remove",{event:f,dataItem:f.dataItem}),u.preventDefault()}},{match:u=>u.keyCode===F.Enter&&n2(u),action:(u,f)=>{this.viewState.emitEvent("eventDblClick",{type:"dblclick",event:f,originalEvent:u}),u.preventDefault()}}],this.subs=new be.yU,this.subs.add(this.domEvents.keydown.subscribe(u=>this.onKeydown(u))),this.subs.add(this.scheduler.eventKeydown.subscribe(u=>this.onEventKeydown(u)))}onKeydown(e){const n=this.shortcuts.find(o=>o.match(e));n&&!this.dialogsService.isOpen&&n.action(e)}onEventKeydown(e){const n=this.taskShortcuts.find(o=>o.match(e.originalEvent));n&&!this.dialogsService.isOpen&&n.action(e.originalEvent,e.event)}focusWait(){this.viewState.layoutEnd.pipe(Ye(1)).subscribe(()=>this.focusService.focus())}}return s.\u0275fac=function(e){return new(e||s)(t.rXU(CE),t.rXU(_j),t.rXU(Hp),t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(po),t.rXU(C6))},s.\u0275dir=t.FsC({type:s,selectors:[["kendo-scheduler"]]}),s})();new Date(Date.now());let qdn=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({imports:[[k6,XZ,wFe,Gt.W5]]}),s})();const Qdn=[o0,mQ,hQ,Mbe,_q,pw,y0,R5,Tv,QO,QQ,_Q];let Zdn=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.$C({type:s}),s.\u0275inj=t.G2t({providers:[{provide:Gt.Bs,useClass:Gt.qr}],imports:[[Fe,Icn,Kcn,Ede,Vr,Sde,wde,B_,qdn,...Qdn],Sde,Ede,wde]}),s})();const nun=["scheduler"];function iun(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",5),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.toggleActivityType(o))}),t.nrm(1,"span",6),t.EFF(2),t.k0s()}if(2&s){const e=i.$implicit;t.Y8G("ngClass",e.selected?"btn-secondary":"btn-outline-secondary"),t.R7$(),t.xc7("background-color",e.colorHex||"#3485fd"),t.R7$(),t.SpI(" ",e.name," ")}}function sun(s,i){1&s&&t.nrm(0,"app-operator-avatar",10),2&s&&t.Y8G("options",i.$implicit)}function oun(s,i){if(1&s&&(t.j41(0,"div")(1,"div",7)(2,"b"),t.EFF(3),t.k0s(),t.j41(4,"div",8),t.DNE(5,sun,1,1,"app-operator-avatar",9),t.k0s()(),t.EFF(6),t.nrm(7,"br"),t.EFF(8),t.k0s()),2&s){const e=i.event;t.R7$(3),t.SpI(" ",e.dataItem.customer," "),t.R7$(2),t.Y8G("ngForOf",e.dataItem.operators),t.R7$(),t.SpI(" ",e.dataItem.customerAddress," "),t.R7$(2),t.SpI(" ",e.dataItem.activityType," ")}}function run(s,i){1&s&&t.nrm(0,"app-operator-avatar",10),2&s&&t.Y8G("options",i.$implicit)}function aun(s,i){if(1&s&&(t.j41(0,"div",7)(1,"span"),t.EFF(2),t.k0s(),t.j41(3,"div",8),t.DNE(4,run,1,1,"app-operator-avatar",9),t.k0s(),t.j41(5,"div"),t.EFF(6),t.k0s()()),2&s){const e=i.event;t.R7$(2),t.SpI(" ",e.dataItem.customer," "),t.R7$(2),t.Y8G("ngForOf",e.dataItem.operators),t.R7$(2),t.Lme(" ",e.dataItem.customerAddress," \u2022 ",e.dataItem.activityType," ")}}function lun(s,i){1&s&&t.nrm(0,"app-operator-avatar",10),2&s&&t.Y8G("options",i.$implicit)}function cun(s,i){if(1&s&&(t.j41(0,"div")(1,"div"),t.EFF(2),t.k0s(),t.j41(3,"div",8),t.DNE(4,lun,1,1,"app-operator-avatar",9),t.k0s()()),2&s){const e=i.event;t.R7$(2),t.SpI(" ",e.dataItem.customer," "),t.R7$(2),t.Y8G("ngForOf",e.dataItem.operators)}}function dun(s,i){1&s&&t.nrm(0,"app-operator-avatar",10),2&s&&t.Y8G("options",i.$implicit)}function uun(s,i){if(1&s&&(t.j41(0,"div",7)(1,"span"),t.EFF(2),t.k0s(),t.j41(3,"div",8),t.DNE(4,dun,1,1,"app-operator-avatar",9),t.k0s()()),2&s){const e=i.event;t.R7$(2),t.SpI(" ",e.dataItem.customer," "),t.R7$(2),t.Y8G("ngForOf",e.dataItem.operators)}}function hun(s,i){1&s&&t.nrm(0,"app-operator-avatar",10),2&s&&t.Y8G("options",i.$implicit)}function pun(s,i){if(1&s&&(t.j41(0,"div",7)(1,"span"),t.EFF(2),t.k0s(),t.j41(3,"div",8),t.DNE(4,hun,1,1,"app-operator-avatar",9),t.k0s()()),2&s){const e=i.event;t.R7$(2),t.SpI(" ",e.dataItem.customer," "),t.R7$(2),t.Y8G("ngForOf",e.dataItem.operators)}}let j7e=(()=>{class s extends It{constructor(e,n,o){super(),this._service=e,this._messageBox=n,this._activityTypesService=o,this.interventionUpdated=new t.bkB,this.interventionCreated=new t.bkB,this.interventionRemoved=new t.bkB,this.interventions=[],this.eventStylesCallback=r=>({"background-color":r.event.dataItem.activityColor})}ngOnInit(){this._getActivityTypes()}onDateChange(e){this._dateRange=e.dateRange,this._read()}onEventDblClick(e){this._editIntervention(e.event.id)}onSlotDblClick(e){this._createIntervention(e.start)}onResizeEnd(e){const n=e.dataItem;n.canBeEdited?this._subscriptions.push(this._service.get(n.id).pipe(x(o=>this._resizeIntervention(o,e.start,e.end,!1)),Y(o=>this._service.update(o)),x(o=>this._afterInterventionUpdated(o))).subscribe()):this._showAlert("Non puoi modificare un intervento gi\xe0 completato.")}onDragEnd(e){const n=e.dataItem;n.canBeEdited?this._subscriptions.push(this._service.get(n.id).pipe(x(o=>this._resizeIntervention(o,e.start,e.end,e.isAllDay)),Y(o=>this._service.update(o)),x(o=>this._afterInterventionUpdated(o))).subscribe()):this._showAlert("Non puoi modificare un intervento gi\xe0 completato.")}onRemove(e){const n=e.dataItem;n.canBeRemoved?this._subscriptions.push(this._messageBox.confirm("Sei sicuro di voler rimuovere l'intervento selezionato?","Attenzione").pipe(z(r=>r),Y(()=>this._service.delete(n.id)),x(()=>this._afterInterventionRemoved(n.id))).subscribe()):this._showAlert("Non puoi eliminare un intervento gi\xe0 completato.")}refresh(){this._read()}toggleActivityType(e){e.selected=!e.selected,this.activityTypes.all(o=>!o.selected)&&this.activityTypes.forEach(o=>o.selected=!0),this._read()}_resizeIntervention(e,n,o,r){r&&(o=(n=n.toDateWithoutTime()).addDays(1)),e.start=n,e.end=o}_read(){const e={filter:{filters:[{filters:[{filters:[{field:"start",operator:"gte",value:this._dateRange.start},{field:"start",operator:"lte",value:this._dateRange.end}],logic:"and"},{filters:[{field:"end",operator:"gte",value:this._dateRange.start},{field:"end",operator:"lte",value:this._dateRange.end}],logic:"and"},{filters:[{field:"start",operator:"lte",value:this._dateRange.start},{field:"end",operator:"gte",value:this._dateRange.end}],logic:"and"}],logic:"or"}],logic:"and"}};this.activityTypes?.any()&&e.filter.filters.push({filters:this.activityTypes.filter(n=>n.selected).map(n=>({field:"activityTypeId",operator:"eq",value:n.id})),logic:"or"}),this._subscriptions.push(this._service.read(e).pipe(x(n=>this.interventions=n.data.map(o=>new fun(o)))).subscribe())}_editIntervention(e){this._subscriptions.push(this._service.get(e).pipe(Y(n=>this.interventionModal.open(n)),z(n=>n),Y(()=>this._service.update(this.interventionModal.options)),x(n=>this._afterInterventionUpdated(n))).subscribe())}_createIntervention(e){const n=new a1(0,new Date(new Date((new Date).setMinutes(0)).setSeconds(0)),new Date(new Date((new Date).setMinutes(0)).setSeconds(0)).addHours(1),Vp.Scheduled,!1,null,null,null,null,[],[],[]);this._subscriptions.push(this.interventionModal.open(n).pipe(z(o=>o),Y(()=>this._service.create(n)),x(o=>this._afterInterventionCreated(o))).subscribe())}_afterInterventionUpdated(e){this._messageBox.success("Intervento aggiornato."),this.interventionUpdated.emit(e),this._read()}_afterInterventionCreated(e){this._messageBox.success("Intervento programmato."),this.interventionCreated.emit(e),this._read()}_afterInterventionRemoved(e){this._messageBox.success("Intervento rimosso."),this.interventionRemoved.emit(e),this._read()}_showAlert(e){this._subscriptions.push(this._messageBox.alert(e,"Attenzione").subscribe())}_getActivityTypes(){this._subscriptions.push(this._activityTypesService.readActivityTypesListCalendar().pipe(x(e=>this._setActivityTypes(e))).subscribe())}_setActivityTypes(e){this.activityTypes=e.map(n=>new mun(n.id,n.colorHex,n.name))}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Oh),t.rXU(_t),t.rXU(Sp))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-interventions-calendar"]],viewQuery:function(n,o){if(1&n&&t.GBs(nun,7),2&n){let r;t.mGM(r=t.lsd())&&(o.scheduler=r.first)}},inputs:{interventionModal:"interventionModal",jobId:"jobId",activityId:"activityId"},outputs:{interventionUpdated:"interventionUpdated",interventionCreated:"interventionCreated",interventionRemoved:"interventionRemoved"},features:[t.Vt3],decls:11,vars:10,consts:[[1,"d-flex","flex-wrap","gap-2","mb-2"],["type","button","class","btn btn-sm btn-group align-items-center gap-1",3,"ngClass","click",4,"ngFor","ngForOf"],["workDayStart","08:00","workDayEnd","19:00",2,"height","800px",3,"dateChange","eventDblClick","slotDblClick","resizeEnd","dragEnd","remove","events","selectedDate","workWeekStart","workWeekEnd","selectedViewIndex","showWorkHours","editable","highlightOngoingEvents","eventStyles"],["kendoSchedulerEventTemplate",""],["kendoSchedulerAllDayEventTemplate",""],["type","button",1,"btn","btn-sm","btn-group","align-items-center","gap-1",3,"click","ngClass"],[1,"bullet"],[1,"d-flex","align-items-center","gap-2"],[1,"d-flex","gap-1","align-items-center"],[3,"options",4,"ngFor","ngForOf"],[3,"options"]],template:function(n,o){1&n&&(t.j41(0,"div",0),t.DNE(1,iun,3,4,"button",1),t.k0s(),t.j41(2,"kendo-scheduler",2),t.bIt("dateChange",function(a){return o.onDateChange(a)})("eventDblClick",function(a){return o.onEventDblClick(a)})("slotDblClick",function(a){return o.onSlotDblClick(a)})("resizeEnd",function(a){return o.onResizeEnd(a)})("dragEnd",function(a){return o.onDragEnd(a)})("remove",function(a){return o.onRemove(a)}),t.j41(3,"kendo-scheduler-day-view"),t.DNE(4,oun,9,4,"ng-template",3)(5,aun,7,4,"ng-template",4),t.k0s(),t.j41(6,"kendo-scheduler-work-week-view"),t.DNE(7,cun,5,2,"ng-template",3)(8,uun,5,2,"ng-template",4),t.k0s(),t.j41(9,"kendo-scheduler-month-view"),t.DNE(10,pun,5,2,"ng-template",3),t.k0s()()),2&n&&(t.R7$(),t.Y8G("ngForOf",o.activityTypes),t.R7$(),t.Y8G("events",o.interventions)("selectedDate",o.date)("workWeekStart",1)("workWeekEnd",6)("selectedViewIndex",1)("showWorkHours",!0)("editable",!0)("highlightOngoingEvents",!1)("eventStyles",o.eventStylesCallback))},dependencies:[Pe,st,udn,bde,R7e,CE,B7e,f6,m6,jle],encapsulation:2})}return s})();class fun{constructor(i){this.id=i.id,this.status=i.status,this.start=new Date(i.start),this.end=new Date(i.end),this.customer=i.customer,this.customerAddress=i.customerAddress,this.description=i.description,this.operators=i.operators,this.activityType=i.activityType,this.activityColor=i.activityColor,this.isAllDay=this.start.addDays(1).hasSameDateAndTime(this.end),this.canBeRemoved=i.canBeRemoved,this.canBeEdited=i.status===Vp.Scheduled}}class mun{constructor(i,e,n){this.id=i,this.colorHex=e,this.name=n,this.selected=!0}}function _un(s,i){1&s&&t.nrm(0,"div",3)}function gun(s,i){if(1&s&&(t.j41(0,"div",11)(1,"b"),t.EFF(2,"Note"),t.k0s(),t.j41(3,"p"),t.EFF(4),t.k0s()()),2&s){const e=t.XpG(3);t.R7$(4),t.JRh(e.interventionProductCheckList.notes)}}function vun(s,i){if(1&s&&(t.j41(0,"p")(1,"i"),t.EFF(2),t.k0s()()),2&s){const e=t.XpG().$implicit;t.R7$(2),t.SpI("(Azioni correttive: ",e.correctiveAction,")")}}function Sun(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",18)(1,"button",25),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,r=t.XpG(3);return t.Njj(r.downloadAttachment(o.attachmentFileName))}),t.nrm(2,"i",26),t.k0s()()}}function Cun(s,i){if(1&s&&(t.j41(0,"div",11)(1,"div",14)(2,"div",15)(3,"p"),t.EFF(4),t.k0s()(),t.j41(5,"div",16),t.nrm(6,"i",22),t.k0s(),t.j41(7,"div",17)(8,"p"),t.EFF(9),t.k0s(),t.DNE(10,vun,3,1,"p",23),t.k0s(),t.DNE(11,Sun,3,0,"div",24),t.k0s()()),2&s){const e=i.$implicit;t.R7$(4),t.JRh(e.description),t.R7$(2),t.ZvI("",e.outcome,"-icon fa fa-2x fa-square-check"),t.FS9("alt",e.outcome),t.R7$(3),t.JRh(e.notes),t.R7$(),t.Y8G("ngIf",e.correctiveAction),t.R7$(),t.Y8G("ngIf",e.attachmentFileName)}}function bun(s,i){if(1&s){const e=t.RV6();t.j41(0,"form",9,0),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.close())}),t.j41(2,"div",10)(3,"div",11)(4,"b"),t.EFF(5,"Checklist"),t.k0s(),t.j41(6,"p"),t.EFF(7),t.k0s()(),t.DNE(8,gun,5,1,"div",12),t.k0s(),t.j41(9,"div",13)(10,"div",14)(11,"div",15)(12,"b"),t.EFF(13,"Voce"),t.k0s()(),t.j41(14,"div",16)(15,"b"),t.EFF(16,"Esito"),t.k0s()(),t.j41(17,"div",17)(18,"b"),t.EFF(19,"Note"),t.k0s()(),t.j41(20,"div",18),t.nrm(21,"b"),t.k0s()(),t.DNE(22,Cun,12,8,"div",19),t.k0s(),t.j41(23,"div",20)(24,"button",21),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.dismiss())}),t.EFF(25," CHIUDI "),t.k0s()()()}if(2&s){const e=t.XpG(2);t.R7$(7),t.JRh(e.interventionProductCheckList.description),t.R7$(),t.Y8G("ngIf",e.interventionProductCheckList.notes),t.R7$(14),t.Y8G("ngForOf",e.interventionProductCheckList.items)}}function Eun(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",4)(1,"kendo-window",5),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",6),t.EFF(4," Voce checklist "),t.k0s(),t.nrm(5,"button",7),t.k0s(),t.DNE(6,bun,26,3,"form",8),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("width",800)("top",150),t.R7$(5),t.Y8G("ngIf",e.options)}}let H7e=(()=>{class s extends As{constructor(e,n){super(n),this._service=e,this.role=Pt,this.imagesUrl=`${At.baseUrl}/attachments`}open(e){const n=super.open(e);return this._service.readProductCheckListByProductId(e).pipe(x(o=>this.interventionProductCheckList=o)).subscribe(),n}downloadAttachment(e){window.open(`${this.imagesUrl}/${e}`,"_blank")}_canClose(){return Xr(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Oh),t.rXU(_t))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-intervention-product-checklist-items-modal"]],features:[t.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","width","top"],[1,"k-window-title"],["kendoWindowCloseAction",""],["name","updateOperatorForm","novalidate","","autocomplete","off",3,"ngSubmit",4,"ngIf"],["name","updateOperatorForm","novalidate","","autocomplete","off",3,"ngSubmit"],[1,"row","riga-form","border-green"],[1,"col-12"],["class","col-12",4,"ngIf"],[1,"row","riga-form"],[1,"row","checklist-row"],[1,"col-5"],[1,"col-2"],[1,"col-4"],[1,"col-1"],["class","col-12",4,"ngFor","ngForOf"],[1,"text-right","mt-5"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[3,"alt"],[4,"ngIf"],["class","col-1",4,"ngIf"],["title","Allegato",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-paperclip"]],template:function(n,o){1&n&&t.DNE(0,_un,1,0,"div",1)(1,Eun,7,5,"div",2),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[st,W,Fi,Pi,Mi,ni,li,Wn],encapsulation:2})}return s})();const yun=["interventionProductModal"];function kun(s,i){1&s&&(t.j41(0,"div"),t.EFF(1,"\xa0"),t.k0s()),2&s&&t.xc7("background-color",i.$implicit.colorHex)}function wun(s,i){if(1&s&&(t.j41(0,"a",10),t.nrm(1,"img",11),t.k0s()),2&s){const e=t.XpG().$implicit,n=t.XpG();t.Y8G("href",n.imagesUrl+e.pictureFileName,t.B4B),t.R7$(),t.Y8G("src",n.imagesUrl+e.pictureFileName,t.B4B)}}function Dun(s,i){1&s&&t.DNE(0,wun,2,2,"a",9),2&s&&t.Y8G("ngIf",i.$implicit.pictureFileName)}function Oun(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",12)(1,"button",13),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.openChecklist(o.interventionProductId))}),t.nrm(2,"i",14),t.k0s()()}}let Tun=(()=>{class s extends It{constructor(e){super(),this._service=e,this.gridState={skip:0,take:30,group:[],sort:[]}}ngOnInit(){this._read(),this.updateScreenSize()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}ngOnChanges(e){e.interventionId&&this.interventionId&&this._read()}refresh(){this._read()}dataStateChange(e){this.gridState=e,this._read()}openChecklist(e){this._subscriptions.push(this.interventionProductModalComponent.open(e).subscribe())}_read(){this._subscriptions.push(this._service.readProductsByIntervention(this.gridState,this.interventionId).pipe(x(e=>this.data=e)).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Oh))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-interventions-products-grid"]],viewQuery:function(n,o){if(1&n&&t.GBs(yun,7),2&n){let r;t.mGM(r=t.lsd())&&(o.interventionProductModalComponent=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},inputs:{interventionId:"interventionId"},features:[t.Vt3,t.OA$],decls:12,vars:19,consts:[["interventionProductModal",""],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","colorHex","title"," ",1,"activity-color",3,"sortable","filterable","width"],["kendoGridCellTemplate",""],["field","productType","title","Tipologia",3,"width"],["field","code","title","Codice",3,"width"],["field","pictureFileName","title","Immagine",3,"sortable","filterable","width"],["field","name","title","Nome"],["field","id","title"," ",3,"sortable","filterable","width"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"],[1,"thumbnail-s",3,"src"],[1,"d-flex","text-nowrap","gap-1"],["title","Visualizza CheckList",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-list-check"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"kendo-grid",1),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))}),t.j41(1,"kendo-grid-column",2),t.DNE(2,kun,2,2,"ng-template",3),t.k0s(),t.nrm(3,"kendo-grid-column",4)(4,"kendo-grid-column",5),t.j41(5,"kendo-grid-column",6),t.DNE(6,Dun,1,1,"ng-template",3),t.k0s(),t.nrm(7,"kendo-grid-column",7),t.j41(8,"kendo-grid-column",8),t.DNE(9,Oun,3,0,"ng-template",3),t.k0s()(),t.nrm(10,"app-intervention-product-checklist-items-modal",null,0)}2&n&&(t.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!0),t.R7$(),t.Y8G("sortable",!1)("filterable",!1)("width",1),t.R7$(2),t.Y8G("width",1),t.R7$(),t.Y8G("width",1),t.R7$(),t.Y8G("sortable",!1)("filterable",!1)("width",1),t.R7$(3),t.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[W,Nn,yn,qn,H7e],encapsulation:2})}return s})();function Mun(s,i){1&s&&(t.j41(0,"div",16)(1,"div",17)(2,"h4"),t.EFF(3,"Interventi"),t.k0s()()())}function Iun(s,i){1&s&&(t.qex(0),t.nrm(1,"kendo-grid-column",18)(2,"kendo-grid-column",19),t.bVm())}function xun(s,i){if(1&s&&t.nrm(0,"app-multiselect-grid-column-filter",20),2&s){const e=i.column,n=i.filter,o=i.filterService,r=t.XpG();t.Y8G("column",e)("filter",n)("filterService",o)("data",r.interventionStatusNames)}}function Aun(s,i){if(1&s&&(t.j41(0,"span",21),t.EFF(1),t.nI1(2,"interventionStatus"),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.status)," ")}}function Run(s,i){if(1&s&&(t.j41(0,"span",21),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,e.start,"dd/MM/yyyy HH:mm")," ")}}function Nun(s,i){if(1&s&&(t.j41(0,"span",21),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,e.end,"dd/MM/yyyy: HH:mm")," ")}}function Lun(s,i){1&s&&(t.nrm(0,"div",22),t.nI1(1,"domsanitizer")),2&s&&t.Y8G("innerHTML",t.bMT(1,1,i.$implicit.description),t.npT)}function Gun(s,i){1&s&&(t.EFF(0),t.nI1(1,"bool")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit.toBeReschedule)," ")}function Pun(s,i){1&s&&(t.j41(0,"span"),t.EFF(1,", "),t.k0s())}function Fun(s,i){if(1&s&&(t.j41(0,"span"),t.EFF(1),t.DNE(2,Pun,2,0,"span",5),t.k0s()),2&s){const e=i.$implicit,n=i.index,o=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",e.name,""),t.R7$(),t.Y8G("ngIf",n!=o.operators.length-1)}}function Uun(s,i){if(1&s&&(t.j41(0,"div"),t.DNE(1,Fun,3,2,"span",23),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",e.operators)}}function Bun(s,i){1&s&&(t.j41(0,"div"),t.EFF(1," Nessun operatore impostato "),t.k0s())}function Vun(s,i){if(1&s&&t.DNE(0,Uun,2,1,"div",5)(1,Bun,2,0,"div",5),2&s){const e=i.$implicit;t.Y8G("ngIf",e.operators),t.R7$(),t.Y8G("ngIf",!e.operators)}}function zun(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",24)(1,"button",25),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.downloadReport(o.id))}),t.nrm(2,"i",26),t.k0s(),t.j41(3,"button",27),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.sendReport(o.id,o.customerEmail))}),t.nrm(4,"i",28),t.k0s(),t.j41(5,"button",29),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.edit(o))}),t.nrm(6,"i",30),t.k0s(),t.j41(7,"button",31),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.askRemove(o))}),t.nrm(8,"i",32),t.k0s()()}if(2&s){const e=i.$implicit;t.R7$(3),t.Y8G("title",e.customerEmail)("disabled",!e.customerEmail),t.R7$(4),t.Y8G("disabled",!e.canBeRemoved)}}function jun(s,i){if(1&s&&(t.j41(0,"div"),t.nrm(1,"app-interventions-products-grid",33),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.Y8G("interventionId",e.id)}}let $7e=(()=>{class s extends It{constructor(e,n,o,r){super(),this._service=e,this._route=n,this._messageBox=o,this._userService=r,this.viewTitle=!1,this.interventionUpdated=new t.bkB,this.interventionRemoved=new t.bkB,this.interventionStatusNames=xFe,this.gridState={skip:0,take:30,filter:{filters:[this._buildActivityIdFilter(),this._buildJobIdFilter()],logic:"and"},group:[],sort:[{field:"start",dir:"desc"}]}}ngOnInit(){this._subscribeRouteParams(),this._read(),this.updateScreenSize()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}ngOnChanges(e){e.activityId&&!e.activityId.isFirstChange&&this.activityId&&this._read()}refresh(){this._read()}dataStateChange(e){this.gridState=e,this._read()}edit(e){this._subscriptions.push(this._service.get(e.id).pipe(Y(n=>this.interventionModal.open(n)),z(n=>n),Y(()=>this._service.update(this.interventionModal.options)),x(n=>this._afterUpdated(n))).subscribe())}askRemove(e){e.canBeRemoved&&this._subscriptions.push(this._messageBox.confirm("Sei sicuro di voler rimuovere l'intervento selezionato?","Attenzione").pipe(z(o=>o),Y(()=>this._service.delete(e.id)),x(()=>this._afterRemoved(e.id))).subscribe())}onDblClick(){this.cellArgs.isEdited||this._subscriptions.push(this._service.get(this.cellArgs.dataItem.id).pipe(Y(e=>this.interventionModal.open(e)),z(e=>e),Y(()=>this._service.update(this.interventionModal.options)),x(e=>this._afterUpdated(e))).subscribe())}cellClickHandler(e){this.cellArgs=e}downloadReport(e){const n=this._userService.getUser();window.open(`${At.baseApiUrl}/interventions/download-report/${e}?access_token=${n.accessToken}`,"_blank")}sendReport(e,n){this._userService.getUser(),this._messageBox.confirm("Vuoi inviare il rapportino alla mail del cliente ("+n+")?","Invio rapportino").pipe(z(a=>a),Y(()=>this._service.sendReport(e,n))).subscribe()}_read(){this._subscriptions.push(this._service.read(this.gridState).pipe(x(e=>this.data=e)).subscribe())}_afterRemoved(e){this._messageBox.success("Intervento rimosso."),this.interventionRemoved.emit(e),this._read()}_afterUpdated(e){this._messageBox.success("Intervento aggiornato."),this.interventionUpdated.emit(e),this._read()}_buildActivityIdFilter(){const e=this;return{field:"activityId",get operator(){return e.activityId?"eq":"isnotnull"},get value(){return e.activityId}}}_buildJobIdFilter(){const e=this;return{field:"jobId",get operator(){return e._jobId?"eq":"neq"},get value(){return e._jobId?e._jobId:0}}}_subscribeRouteParams(){this._route.queryParams.pipe(x(e=>this._setParams(e))).subscribe()}_setParams(e){this._jobId=isNaN(+e.jobId)?null:+e.jobId,this._read()}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Oh),t.rXU(Ha),t.rXU(_t),t.rXU(Ci))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-interventions-grid"]],hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},inputs:{viewTitle:"viewTitle",activityId:"activityId",interventionModal:"interventionModal"},outputs:{interventionUpdated:"interventionUpdated",interventionRemoved:"interventionRemoved"},features:[t.Vt3,t.OA$],decls:22,vars:18,consts:[["gridMenu",""],["key","jobId"],["class","d-flex align-items-center mb-3",4,"ngIf"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","cellClick","dblclick","data","pageSize","skip","sort","filter","group","sortable","pageable"],[4,"ngIf"],["field","status","title","Stato","filter","numeric",3,"width"],["kendoGridFilterMenuTemplate",""],["kendoGridCellTemplate",""],["field","start","title","Inizio","filter","date",3,"width"],["field","end","title","Fine","filter","date",3,"width"],["field","description","title","Descrizione"],["field","toBeReschedule","title","Da Rischedulare"],["field","operators","title","Operatori"],["field","id","title"," ",3,"sortable","filterable","width"],[4,"kendoGridDetailTemplate"],[1,"d-flex","align-items-center","mb-3"],[1,"col"],["field","customer","title","Cliente"],["field","customerAddress","title","Indirizzo"],[3,"column","filter","filterService","data"],[1,"text-nowrap"],[3,"innerHTML"],[4,"ngFor","ngForOf"],[1,"d-flex","text-nowrap","gap-1"],["title","Download Rapportino",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-file"],[1,"btn","btn-primary","btn-sm",3,"click","title","disabled"],[1,"fas","fa-paper-plane"],["title","Modifica",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-edit"],["title","Rimuovi",1,"btn","btn-danger","btn-sm",3,"click","disabled"],[1,"fas","fa-trash"],[3,"interventionId"]],template:function(n,o){if(1&n){const r=t.RV6();t.nrm(0,"app-grid-context-menu",1,0),t.DNE(2,Mun,4,0,"div",2),t.j41(3,"div",3)(4,"kendo-grid",4),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))})("cellClick",function(l){return t.eBV(r),t.Njj(o.cellClickHandler(l))})("dblclick",function(){return t.eBV(r),t.Njj(o.onDblClick())})("cellClick",function(l){t.eBV(r);const c=t.sdS(1);return t.Njj(c.onCellClick(l))}),t.DNE(5,Iun,3,0,"ng-container",5),t.j41(6,"kendo-grid-column",6),t.DNE(7,xun,1,4,"ng-template",7)(8,Aun,3,3,"ng-template",8),t.k0s(),t.j41(9,"kendo-grid-column",9),t.DNE(10,Run,3,4,"ng-template",8),t.k0s(),t.j41(11,"kendo-grid-column",10),t.DNE(12,Nun,3,4,"ng-template",8),t.k0s(),t.j41(13,"kendo-grid-column",11),t.DNE(14,Lun,2,3,"ng-template",8),t.k0s(),t.j41(15,"kendo-grid-column",12),t.DNE(16,Gun,2,3,"ng-template",8),t.k0s(),t.j41(17,"kendo-grid-column",13),t.DNE(18,Vun,2,2,"ng-template",8),t.k0s(),t.j41(19,"kendo-grid-column",14),t.DNE(20,zun,9,3,"ng-template",8),t.k0s(),t.DNE(21,jun,2,1,"div",15),t.k0s()()}2&n&&(t.R7$(2),t.Y8G("ngIf",o.viewTitle),t.R7$(2),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!0),t.R7$(),t.Y8G("ngIf",!o.activityId),t.R7$(),t.Y8G("width",1),t.R7$(3),t.Y8G("width",1),t.R7$(2),t.Y8G("width",1),t.R7$(8),t.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[st,W,Nn,yn,lb,qn,ac,Dh,Tun,fd,xi,gp,sa,uce],encapsulation:2})}return s})();const Hun=["form"],$un=["jobModal"],Xun=["activityModal"],Wun=["activityProductModal"],Yun=["activityProducts"],Kun=["interventionsCalendar"],Jun=["interventionsGrid"],qun=["interventionModal"],Qun=["dependenciesModal"],Zun=()=>["/","job-details"],ehn=s=>({jobId:s}),thn=s=>({"progress-hide":s});function nhn(s,i){if(1&s&&(t.j41(0,"div",19)(1,"b"),t.EFF(2," Scadenza "),t.k0s(),t.j41(3,"p"),t.EFF(4),t.nI1(5,"date"),t.k0s()()),2&s){const e=t.XpG();t.R7$(4),t.SpI(" ",t.i5U(5,1,e.activity.expirationDate,"dd/MM/yyyy")," ")}}function ihn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",20)(1,"b"),t.EFF(2," Dipendenze "),t.j41(3,"button",25),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.openDependencies(o.activity.jobId,o.activity.id))}),t.nrm(4,"i",26),t.k0s()(),t.j41(5,"div",27)(6,"div",28),t.EFF(7),t.k0s()()()}if(2&s){const e=t.XpG();t.R7$(5),t.FCK("title","Dipendenze evase ",e.activity.fulfilledDependencies," / ",e.activity.totalDependencies,""),t.Y8G("ngClass",t.eq3(8,thn,0==e.activity.totalDependencies)),t.R7$(),t.xc7("width",e.activity.totalDependencies?e.activity.fulfilledDependencies/e.activity.totalDependencies*100:0,"%"),t.R7$(),t.Lme(" ",e.activity.fulfilledDependencies," / ",e.activity.totalDependencies," ")}}function shn(s,i){if(1&s&&(t.j41(0,"div",20)(1,"b"),t.EFF(2," Note "),t.k0s(),t.nrm(3,"div",16),t.nI1(4,"domsanitizer"),t.k0s()),2&s){const e=t.XpG();t.R7$(3),t.Y8G("innerHTML",t.bMT(4,1,e.activity.description),t.npT)}}function ohn(s,i){1&s&&(t.j41(0,"strong"),t.EFF(1,"Prodotti"),t.k0s())}function rhn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",9)(1,"a",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.createActivityProduct())}),t.nrm(2,"span",29),t.EFF(3," Associa prodotto "),t.k0s(),t.j41(4,"a",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.assignAllCustomerProducts())}),t.nrm(5,"span",29),t.EFF(6," Associa tutti i prodotti cliente (Tutti) "),t.k0s(),t.j41(7,"a",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.assignAllCustomerProductsMonthlyMaint())}),t.nrm(8,"span",29),t.EFF(9," Associa tutti i prodotti cliente (Manut. Mensile) "),t.k0s()(),t.j41(10,"app-activity-products",30,5),t.bIt("edit",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.editActivityProduct(o))}),t.k0s()}if(2&s){const e=t.XpG();t.R7$(10),t.Y8G("activityId",e.activity.id)}}function ahn(s,i){1&s&&(t.j41(0,"strong"),t.EFF(1,"Pianificazione"),t.k0s())}function lhn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",9)(1,"a",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.createIntervention())}),t.nrm(2,"span",31),t.EFF(3," Programma intervento "),t.k0s()(),t.j41(4,"app-interventions-calendar",32,6),t.bIt("interventionUpdated",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onInterventionsChanged())})("interventionCreated",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onInterventionsChanged())})("interventionRemoved",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onInterventionsChanged())}),t.k0s()}if(2&s){const e=t.XpG(),n=t.sdS(60);t.R7$(4),t.Y8G("interventionModal",n)("jobId",e.activity.jobId)("activityId",e.activity.id)}}function chn(s,i){1&s&&(t.j41(0,"strong"),t.EFF(1,"Interventi"),t.k0s())}function dhn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",9)(1,"a",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.createIntervention())}),t.nrm(2,"span",31),t.EFF(3," Programma intervento "),t.k0s()(),t.j41(4,"app-interventions-grid",33,7),t.bIt("interventionUpdated",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onInterventionsChanged())})("interventionRemoved",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onInterventionsChanged())})("created",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onInterventionsChanged())}),t.k0s()}if(2&s){const e=t.XpG(),n=t.sdS(60);t.R7$(4),t.Y8G("interventionModal",n)("activityId",e.activity.id)}}let uhn=(()=>{class s extends It{constructor(e,n,o,r,a,l){super(),this._route=e,this._service=n,this._jobService=o,this._messageBox=r,this._activityProductsService=a,this._interventionsService=l,this._baseUrl=`${At.baseApiUrl}/activities`}ngOnInit(){this._subscribeRouteParams()}edit(){const e=this.activity.asActivity(),n=new du(e);this._subscriptions.push(this.activityModal.open(n).pipe(z(o=>o),Y(()=>this._service.update(e)),x(()=>this._afterActivityUpdated())).subscribe())}editJob(e){this._subscriptions.push(this._jobService.get(e).pipe(Y(n=>this.jobModal.open(n)),z(n=>n),Y(()=>this._jobService.update(this.jobModal.options)),x(n=>location.reload())).subscribe())}createActivityProduct(){const e=new i6(0,this.activity.id,null,null,null,null),n=new i5e(e);this._subscriptions.push(this.activityProductModal.open(n).pipe(z(o=>o),Y(()=>this._activityProductsService.create(e)),x(()=>this._afterActivityProductCreated(this.activityProductModal.product.name))).subscribe())}editActivityProduct(e){this._subscriptions.push(this._activityProductsService.get(e.id).pipe(Y(n=>this.activityProductModal.open(new i5e(n))),z(n=>n),Y(()=>this._activityProductsService.update(this.activityProductModal.options.product)),x(()=>this.activityProducts.refresh())).subscribe())}createIntervention(){const n=new a1(0,new Date(new Date((new Date).setMinutes(0)).setSeconds(0)),new Date(new Date((new Date).setMinutes(0)).setSeconds(0)).addHours(1),Vp.Scheduled,!1,this.activity.informations,null,this.activity.id,this.activity.jobId,[],[],[]);this._subscriptions.push(this.interventionModal.open(n).pipe(z(o=>o),Y(()=>this._interventionsService.create(n)),x(()=>this._afterInterventionCreated())).subscribe())}onInterventionsChanged(){this._getActivity()}openDependencies(e,n){this.dependenciesModal.jobId=e,this.dependenciesModal.activityId=n,this.dependenciesModal.readonly=!0,this.dependenciesModal.open()}assignAllCustomerProducts(){this._subscriptions.push(this._messageBox.confirm("Sei sicuro di voler associare all'attivit\xe0 tutti i prodotti di "+this.activity.customer+"?").pipe(z(n=>n),Y(()=>this._service.assignAllCustomerProducts(this.activity.id)),x(()=>this._afterAllCustomerProductsAssigned())).subscribe())}assignAllCustomerProductsMonthlyMaint(){this._subscriptions.push(this._messageBox.confirm("Sei sicuro di voler associare all'attivit\xe0 tutti i prodotti di "+this.activity.customer+" con manutenzione mensile?").pipe(z(n=>n),Y(()=>this._service.assignAllCustomerProductsMonthlyMaint(this.activity.id)),x(()=>this._afterAllCustomerProductsAssigned())).subscribe())}_subscribeRouteParams(){this._subscriptions.push(this._route.data.pipe(x(e=>this.activity=e.activity)).subscribe())}_afterActivityUpdated(){this._messageBox.success("Attivit\xe0 aggiornata."),this._subscriptions.push(this._service.getDetail(this.activity.id).pipe(x(e=>this.activity=e)).subscribe())}_afterActivityProductCreated(e){this._messageBox.success(`${e} associato all'attivit\xe0.`),this.activityProducts?.refresh()}_afterAllCustomerProductsAssigned(){this._messageBox.success("Prodotti associati all'attivit\xe0."),this.activityProducts?.refresh()}_afterInterventionCreated(){this._messageBox.success("Intervento programmato."),this._getActivity(),this.interventionsCalendar?.refresh(),this.interventionsGrid?.refresh()}_getActivity(){this._subscriptions.push(this._service.getDetail(this.activity.id).pipe(x(e=>this.activity=e)).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Ha),t.rXU(Ma),t.rXU(dr),t.rXU(_t),t.rXU(Jz),t.rXU(Oh))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-activity"]],viewQuery:function(n,o){if(1&n&&(t.GBs(Hun,5),t.GBs($un,7),t.GBs(Xun,7),t.GBs(Wun,7),t.GBs(Yun,5),t.GBs(Kun,5),t.GBs(Jun,5),t.GBs(qun,7),t.GBs(Qun,5)),2&n){let r;t.mGM(r=t.lsd())&&(o.form=r.first),t.mGM(r=t.lsd())&&(o.jobModal=r.first),t.mGM(r=t.lsd())&&(o.activityModal=r.first),t.mGM(r=t.lsd())&&(o.activityProductModal=r.first),t.mGM(r=t.lsd())&&(o.activityProducts=r.first),t.mGM(r=t.lsd())&&(o.interventionsCalendar=r.first),t.mGM(r=t.lsd())&&(o.interventionsGrid=r.first),t.mGM(r=t.lsd())&&(o.interventionModal=r.first),t.mGM(r=t.lsd())&&(o.dependenciesModal=r.first)}},features:[t.Vt3],decls:63,vars:20,consts:[["jobModal",""],["activityModal",""],["activityProductModal",""],["interventionModal",""],["dependenciesModal",""],["activityProducts",""],["interventionsCalendar",""],["interventionsGrid",""],[1,"d-flex","align-items-center","gap-3","mb-2"],[1,"d-flex","gap-1"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-edit"],[1,"btn","btn-primary","btn-sm",3,"routerLink","queryParams"],[1,"fa","fa-rotate-left"],[1,"row","mb-4","border-green"],[1,"col-2"],[3,"innerHTML"],[1,"col-3"],["class","col-1",4,"ngIf"],[1,"col-1"],[1,"col-12"],["class","col-12",4,"ngIf"],[3,"selected"],["kendoTabTitle",""],["kendoTabContent",""],["title","Visualizza dipendenze",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"fa","fa-link"],["kendoTooltip","",1,"progress-container","mb-2",3,"ngClass","title"],[1,"progress-bar"],[1,"fa","fa-plus"],[3,"edit","activityId"],[1,"fa","fa-calendar-plus"],[3,"interventionUpdated","interventionCreated","interventionRemoved","interventionModal","jobId","activityId"],[3,"interventionUpdated","interventionRemoved","created","interventionModal","activityId"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",8)(1,"h4"),t.EFF(2),t.nI1(3,"activityStatus"),t.k0s(),t.j41(4,"div",9)(5,"a",10),t.bIt("click",function(){return t.eBV(r),t.Njj(o.editJob(o.activity.jobId))}),t.nrm(6,"span",11),t.EFF(7," Modifica commessa "),t.k0s(),t.j41(8,"a",10),t.bIt("click",function(){return t.eBV(r),t.Njj(o.edit())}),t.nrm(9,"span",11),t.EFF(10," Modifica attivit\xe0 "),t.k0s(),t.j41(11,"a",12),t.nrm(12,"span",13),t.EFF(13," Torna alla commessa "),t.k0s()()(),t.j41(14,"div",14)(15,"div",15)(16,"b"),t.EFF(17," Commessa "),t.k0s(),t.nrm(18,"div",16),t.nI1(19,"domsanitizer"),t.k0s(),t.j41(20,"div",17)(21,"b"),t.EFF(22," Cliente "),t.k0s(),t.j41(23,"p"),t.EFF(24),t.k0s()(),t.j41(25,"div",17)(26,"b"),t.EFF(27," Indirizzo "),t.k0s(),t.j41(28,"p"),t.EFF(29),t.k0s()(),t.j41(30,"div",15)(31,"b"),t.EFF(32," Tipologia "),t.k0s(),t.j41(33,"p"),t.EFF(34),t.k0s()(),t.DNE(35,nhn,6,4,"div",18),t.j41(36,"div",19)(37,"b"),t.EFF(38," Operatore "),t.k0s(),t.j41(39,"p"),t.EFF(40),t.k0s()(),t.DNE(41,ihn,8,10,"div",20)(42,shn,5,3,"div",21),t.k0s(),t.j41(43,"kendo-tabstrip")(44,"kendo-tabstrip-tab",22),t.DNE(45,ohn,2,0,"ng-template",23)(46,rhn,12,1,"ng-template",24),t.k0s(),t.j41(47,"kendo-tabstrip-tab"),t.DNE(48,ahn,2,0,"ng-template",23)(49,lhn,6,3,"ng-template",24),t.k0s(),t.j41(50,"kendo-tabstrip-tab"),t.DNE(51,chn,2,0,"ng-template",23)(52,dhn,6,2,"ng-template",24),t.k0s()(),t.nrm(53,"app-job-modal",null,0)(55,"app-activity-modal",null,1)(57,"app-activity-product-modal",null,2)(59,"app-intervention-modal",null,3)(61,"app-dependencies-modal",null,4)}2&n&&(t.R7$(2),t.Lme(" Attivit\xe0 ",o.activity.number," \u2022 ",t.bMT(3,13,o.activity)," "),t.R7$(9),t.Y8G("routerLink",t.lJ4(17,Zun))("queryParams",t.eq3(18,ehn,o.activity.jobId)),t.R7$(7),t.Y8G("innerHTML",t.bMT(19,15,o.activity.job),t.npT),t.R7$(6),t.SpI(" ",o.activity.customer," "),t.R7$(5),t.SpI(" ",o.activity.address," "),t.R7$(5),t.SpI(" ",o.activity.type," "),t.R7$(),t.Y8G("ngIf",o.activity.expirationDate),t.R7$(5),t.SpI(" ",o.activity.referent," "),t.R7$(),t.vxM(41,o.activity.hasDependencies?41:-1),t.R7$(),t.Y8G("ngIf",o.activity.description),t.R7$(2),t.Y8G("selected",!0))},dependencies:[Pe,W,Hl,Fp,LU,RU,xU,AU,Bp,Bm,len,ZZt,hce,j7e,$7e,Yle,xi,sa,q4],encapsulation:2})}return s})();const hhn=["interventionsCalendar"],phn=["interventionModal"];let fhn=(()=>{class s extends It{constructor(e,n){super(),this._service=e,this._messageBox=n}create(){(new Date).addHours(1).setMinutes(0);const n=new a1(0,new Date(new Date((new Date).setMinutes(0)).setSeconds(0)),new Date(new Date((new Date).setMinutes(0)).setSeconds(0)).addHours(1),Vp.Scheduled,!1,null,null,null,null,[],[],[]);this._subscriptions.push(this.interventionModal.open(n).pipe(z(o=>o),Y(()=>this._service.create(n)),x(()=>this._afterCreated())).subscribe())}_afterCreated(){this._messageBox.success("Intervento programmato."),this.interventionsCalendar.refresh()}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Oh),t.rXU(_t))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-interventions"]],viewQuery:function(n,o){if(1&n&&(t.GBs(hhn,7),t.GBs(phn,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.interventionsCalendar=r.first),t.mGM(r=t.lsd())&&(o.interventionModal=r.first)}},features:[t.Vt3],decls:10,vars:1,consts:[["interventionsCalendar",""],["interventionModal",""],[1,"d-flex","align-items-center","gap-3","mb-4"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-calendar-plus"],[3,"interventionModal"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",2)(1,"h4"),t.EFF(2," Calendario Interventi "),t.k0s(),t.j41(3,"a",3),t.bIt("click",function(){return t.eBV(r),t.Njj(o.create())}),t.nrm(4,"span",4),t.EFF(5," Programma intervento "),t.k0s()(),t.nrm(6,"app-interventions-calendar",5,0)(8,"app-intervention-modal",null,1)}if(2&n){const r=t.sdS(9);t.R7$(6),t.Y8G("interventionModal",r)}},dependencies:[hce,j7e],encapsulation:2})}return s})();const mhn=["interventionsGrid"],_hn=["interventionModal"];let X7e=(()=>{class s extends It{constructor(e,n,o){super(),this._service=e,this._route=n,this._messageBox=o,this.viewNewInterventionButton=!0}ngOnInit(){this._jobId=null,this._subscribeRouteParams()}create(){(new Date).addHours(1).setMinutes(0);const n=new a1(0,new Date(new Date((new Date).setMinutes(0)).setSeconds(0)),new Date(new Date((new Date).setMinutes(0)).setSeconds(0)).addHours(1),Vp.Scheduled,!1,null,null,null,this._jobId,[],[],[]);this._subscriptions.push(this.interventionModal.open(n).pipe(z(o=>o),Y(()=>this._service.create(n)),x(()=>this._afterCreated())).subscribe())}_afterCreated(){this._messageBox.success("Intervento programmato."),this.interventionsGrid.refresh()}_subscribeRouteParams(){this._route.queryParams.pipe(x(e=>this._setParams(e))).subscribe()}_setParams(e){this._jobId=isNaN(+e.jobId)?null:+e.jobId}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Oh),t.rXU(Ha),t.rXU(_t))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-interventions-list"]],viewQuery:function(n,o){if(1&n&&(t.GBs(mhn,7),t.GBs(_hn,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.interventionsGrid=r.first),t.mGM(r=t.lsd())&&(o.interventionModal=r.first)}},inputs:{viewNewInterventionButton:"viewNewInterventionButton"},features:[t.Vt3],decls:10,vars:1,consts:[["interventionsGrid",""],["interventionModal",""],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-calendar-plus"],[3,"interventionModal"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",2)(1,"h4"),t.EFF(2," Interventi "),t.k0s(),t.j41(3,"a",3),t.bIt("click",function(){return t.eBV(r),t.Njj(o.create())}),t.nrm(4,"span",4),t.EFF(5," Programma intervento "),t.k0s()(),t.nrm(6,"app-interventions-grid",5,0)(8,"app-intervention-modal",null,1)}if(2&n){const r=t.sdS(9);t.R7$(6),t.Y8G("interventionModal",r)}},dependencies:[hce,$7e],encapsulation:2})}return s})(),W7e=(()=>{class s extends It{transform(e){return yMe[e]}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=t.xGo(s)))(o||s)}})();static#t=this.\u0275pipe=t.EJ8({name:"ticketStatus",type:s,pure:!0})}return s})();const ghn=["customerModal"],vhn=["addressModal"],Shn=["activityModal"],Chn=["purchaseOrderModal"],bhn=["messageModal"],Ehn=["galleryModal"],Y7e=()=>({caseSensitive:!1,operator:"contains"}),yhn=()=>["style"],khn=s=>({convertMsLists:!0,removeAttributes:s,removeHtmlComments:!0,removeMsClasses:!0,removeMsStyles:!0,removeInvalidHTML:!0}),Tde=s=>({messageUnread:s});function whn(s,i){1&s&&t.nrm(0,"div",9)}function Dhn(s,i){if(1&s&&(t.j41(0,"div",67),t.EFF(1),t.nI1(2,"ticketStatus"),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.Lme(" Ticket ",e.options.code," \u2022 ",t.bMT(2,2,e.options.status)," ")}}function Ohn(s,i){1&s&&(t.j41(0,"div",67),t.EFF(1," Nuovo ticket "),t.k0s())}function Thn(s,i){1&s&&(t.EFF(0),t.nI1(1,"ticketStatus")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit)," ")}function Mhn(s,i){1&s&&(t.EFF(0),t.nI1(1,"ticketStatus")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit)," ")}function Ihn(s,i){if(1&s&&(t.j41(0,"strong",68),t.EFF(1),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.SpI("Da leggere: ",e.unreadMessages,"")}}function xhn(s,i){1&s&&t.nrm(0,"i",82)}function Ahn(s,i){1&s&&t.nrm(0,"i",83)}function Rhn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",69)(1,"div",70),t.EFF(2),t.nI1(3,"date"),t.k0s(),t.j41(4,"div",71),t.EFF(5),t.nrm(6,"i",72),t.k0s(),t.nrm(7,"div",73),t.nI1(8,"domsanitizer"),t.j41(9,"div",74)(10,"button",75),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.editMessage(o))}),t.nrm(11,"i",76),t.k0s(),t.j41(12,"button",77),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.markAsRead(o))}),t.DNE(13,xhn,1,0,"i",78)(14,Ahn,1,0,"i",79),t.k0s(),t.j41(15,"button",80),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.deleteMessage(o))}),t.nrm(16,"i",81),t.k0s()()()}if(2&s){const e=i.$implicit,n=t.XpG(2);t.R7$(),t.Y8G("ngClass",t.eq3(17,Tde,!e.isRead)),t.R7$(),t.SpI(" ",t.i5U(3,12,e.date,"dd/MM/yyyy"),""),t.R7$(2),t.Y8G("ngClass",t.eq3(19,Tde,!e.isRead)),t.R7$(),t.SpI(" ",e.operatorName," | "),t.R7$(),t.Y8G("title","Destinatari: "+e.targetOperators),t.R7$(),t.Y8G("ngClass",t.eq3(21,Tde,!e.isRead))("innerHTML",t.bMT(8,15,e.note),t.npT),t.R7$(3),t.Y8G("disabled",e.operatorId!=n.currentOperator.id),t.R7$(2),t.Y8G("disabled",e.isRead),t.R7$(),t.Y8G("ngIf",e.isRead),t.R7$(),t.Y8G("ngIf",!e.isRead),t.R7$(),t.Y8G("disabled",e.operatorId!=n.currentOperator.id)}}function Nhn(s,i){if(1&s){const e=t.RV6();t.j41(0,"a",84),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.downloadAttachment(o[0].name))}),t.EFF(1),t.k0s()}if(2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",e[0].name," ")}}function Lhn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",85)(1,"a",86),t.bIt("click",function(){const o=t.eBV(e).index,r=t.XpG(2);return t.Njj(r.openImage(o))}),t.nrm(2,"img",87),t.k0s()()}if(2&s){const e=i.$implicit,n=t.XpG(2);t.R7$(2),t.Y8G("src",n.pathImage+e.fileName,t.B4B)("title",e.displayName)}}function Ghn(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",88),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.createActivity(o.options))}),t.nrm(1,"i",37),t.EFF(2," Genera Attivit\xe0 "),t.k0s()}}function Phn(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",89),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.createPurchaseOrder(o.options))}),t.nrm(1,"i",37),t.EFF(2," Genera Ordine Acquisto "),t.k0s()}}function Fhn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",10)(1,"kendo-window",11),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.mxI("stateChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.windowState,o)||(r.windowState=o),t.Njj(o)}),t.j41(2,"kendo-window-titlebar"),t.DNE(3,Dhn,3,4,"div",12)(4,Ohn,2,0,"div",12),t.j41(5,"div",13)(6,"button",14),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",15),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",16),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",17),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",18)(13,"button",19)(14,"button",20)(15,"button",21),t.k0s(),t.j41(16,"form",22,6),t.bIt("submit",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.j41(18,"div",23)(19,"div",24)(20,"label"),t.EFF(21,"Anno"),t.k0s(),t.j41(22,"div",25)(23,"input",26),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.year,o)||(r.options.year=o),t.Njj(o)}),t.k0s(),t.nrm(24,"div",27),t.k0s()(),t.j41(25,"div",24)(26,"label"),t.EFF(27,"Numero"),t.k0s(),t.j41(28,"div",25)(29,"input",28),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.number,o)||(r.options.number=o),t.Njj(o)}),t.k0s(),t.nrm(30,"div",27),t.k0s()(),t.j41(31,"div",29)(32,"label"),t.EFF(33,"Data"),t.k0s(),t.j41(34,"div",25)(35,"kendo-datepicker",30),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.date,o)||(r.options.date=o),t.Njj(o)}),t.bIt("valueChange",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onDateChange())}),t.k0s(),t.nrm(36,"div",27),t.k0s()(),t.j41(37,"div",29)(38,"label"),t.EFF(39,"Stato"),t.k0s(),t.j41(40,"div",25)(41,"kendo-dropdownlist",31),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.status,o)||(r.options.status=o),t.Njj(o)}),t.DNE(42,Thn,2,3,"ng-template",32)(43,Mhn,2,3,"ng-template",33),t.k0s(),t.nrm(44,"div",27),t.k0s()()(),t.j41(45,"div",23)(46,"div",34)(47,"label"),t.EFF(48,"Cliente"),t.k0s(),t.j41(49,"div",25)(50,"kendo-combobox",35),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.customerId,o)||(r.options.customerId=o),t.Njj(o)}),t.bIt("valueChange",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onCustomerChange())}),t.k0s(),t.j41(51,"button",36),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.createCustomer())}),t.nrm(52,"i",37),t.k0s(),t.nrm(53,"div",27),t.k0s()(),t.j41(54,"div",34)(55,"label"),t.EFF(56,"Indirizzo"),t.k0s(),t.j41(57,"div",25)(58,"kendo-combobox",38),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.addressId,o)||(r.options.addressId=o),t.Njj(o)}),t.k0s(),t.nrm(59,"div",27),t.j41(60,"button",39),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.createAddress())}),t.nrm(61,"i",37),t.k0s()()(),t.j41(62,"div",34)(63,"label"),t.EFF(64,"Commessa"),t.k0s(),t.j41(65,"div",25)(66,"kendo-combobox",40),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.jobId,o)||(r.options.jobId=o),t.Njj(o)}),t.k0s(),t.j41(67,"button",41),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.createJobTicket())}),t.nrm(68,"i",37),t.k0s(),t.nrm(69,"div",27),t.k0s()()(),t.j41(70,"div",23)(71,"div",42)(72,"label"),t.EFF(73,"Note"),t.k0s(),t.j41(74,"div",25)(75,"kendo-editor",43),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.description,o)||(r.options.description=o),t.Njj(o)}),t.j41(76,"kendo-toolbar")(77,"kendo-toolbar-buttongroup"),t.nrm(78,"kendo-toolbar-button",44)(79,"kendo-toolbar-button",45)(80,"kendo-toolbar-button",46),t.k0s(),t.nrm(81,"kendo-toolbar-dropdownlist",47)(82,"kendo-toolbar-colorpicker",48),t.j41(83,"kendo-toolbar-buttongroup"),t.nrm(84,"kendo-toolbar-button",49),t.k0s()()(),t.nrm(85,"div",27),t.k0s()()(),t.nrm(86,"hr",50),t.j41(87,"div",23)(88,"div",42)(89,"div",25)(90,"label"),t.EFF(91),t.DNE(92,Ihn,2,1,"strong",51),t.k0s(),t.j41(93,"div",52)(94,"div",53)(95,"button",54),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.initNewMessage())}),t.nrm(96,"i",37),t.k0s()(),t.j41(97,"div",55),t.DNE(98,Rhn,17,23,"div",56),t.k0s()()()()(),t.nrm(99,"hr",50),t.j41(100,"div",23)(101,"div",29)(102,"kendo-formfield",25)(103,"label"),t.EFF(104,"Allegati"),t.k0s(),t.j41(105,"kendo-upload",57),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.attachments,o)||(r.attachments=o),t.Njj(o)}),t.bIt("success",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.AttachmentExecutionSuccess(o))}),t.DNE(106,Nhn,2,1,"ng-template",58),t.nrm(107,"kendo-upload-messages",59),t.k0s()()(),t.j41(108,"div",60)(109,"div",23),t.DNE(110,Lhn,3,2,"div",61),t.k0s()()(),t.j41(111,"div",62)(112,"button",63),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(113,"i",15),t.EFF(114," ANNULLA "),t.k0s(),t.DNE(115,Ghn,3,0,"button",64)(116,Phn,3,0,"button",65),t.j41(117,"button",66),t.nrm(118,"i",17),t.EFF(119," SALVA "),t.k0s()()()()()}if(2&s){const e=t.sdS(17),n=t.XpG();t.R7$(),t.Y8G("resizable",!0)("draggable",!0)("top",30),t.R50("state",n.windowState),t.R7$(2),t.Y8G("ngIf",!!n.options.id),t.R7$(),t.Y8G("ngIf",!n.options.id),t.R7$(19),t.R50("ngModel",n.options.year),t.R7$(),t.Y8G("control",e.controls.year),t.R7$(5),t.R50("ngModel",n.options.number),t.R7$(),t.Y8G("control",e.controls.number),t.R7$(5),t.R50("ngModel",n.options.date),t.Y8G("disabled",!!n.options.id),t.R7$(),t.Y8G("control",e.controls.date),t.R7$(5),t.Y8G("data",n.states)("valuePrimitive",!0),t.R50("ngModel",n.options.status),t.R7$(3),t.Y8G("control",e.controls.status),t.R7$(6),t.Y8G("data",n.customers)("valuePrimitive",!0),t.R50("ngModel",n.options.customerId),t.Y8G("suggest",!0)("allowCustom",!1)("disabled",!!n.options.id),t.R7$(3),t.Y8G("control",e.controls.customerId),t.R7$(5),t.Y8G("data",n.addresses)("valuePrimitive",!0)("kendoDropDownFilter",t.lJ4(55,Y7e)),t.R50("ngModel",n.options.addressId),t.Y8G("suggest",!0)("allowCustom",!1),t.R7$(),t.Y8G("control",e.controls.addressId),t.R7$(7),t.Y8G("data",n.jobs),t.R50("ngModel",n.options.jobId),t.Y8G("suggest",!0)("allowCustom",!1)("kendoDropDownFilter",t.lJ4(56,Y7e))("valuePrimitive",!0)("disabled",!n.options.customerId),t.R7$(),t.Y8G("disabled",0==n.options.id),t.R7$(2),t.Y8G("control",e.controls.jobId),t.R7$(6),t.R50("ngModel",n.options.description),t.Y8G("resizable",!0)("iframe",!1)("pasteCleanupSettings",t.eq3(58,khn,t.lJ4(57,yhn))),t.R7$(10),t.Y8G("control",e.controls.description),t.R7$(6),t.SpI("Commenti (",n.options.messages.length,") "),t.R7$(),t.Y8G("ngIf",n.unreadMessages),t.R7$(6),t.Y8G("ngForOf",n.options.messages),t.R7$(7),t.R50("ngModel",n.attachments),t.Y8G("saveUrl",n.uploadSaveUrl)("removeUrl",n.uploadRemoveUrl)("multiple",!0),t.R7$(5),t.Y8G("ngForOf",n.options.pictures),t.R7$(5),t.Y8G("ngIf",n.options.id),t.R7$(),t.Y8G("ngIf",n.options.id)}}let Mde=(()=>{class s extends As{constructor(e,n,o,r,a,l,c,u,f,_){super(a),this._customersService=e,this._serviceJob=n,this._serviceActivity=o,this._servicePurchaseOrder=r,this._operatorsService=l,this._user=c,this._messagesService=u,this._jobsService=f,this._addressService=_,this.attachments=[],this.album=[],this._baseUrl=`${At.baseApiUrl}/tickets`,this.pathImage=`${At.baseAttachmentsUrl}/`,this.uploadSaveUrl=`${this._baseUrl}/ticket-attachment/upload-file`,this.uploadRemoveUrl=`${this._baseUrl}/ticket-attachment/remove-file`,this.states=MD(dc)}ngOnInit(){this._getData(),this.user=this._user.getUser(),this._getCurrentOperator(this.user.id)}open(e){const n=super.open(e);return this.attachments=[],this.album=[],null!=e.pictures&&this.options.pictures.forEach(o=>{null!=o.description&&null!=o.fileName&&(this.attachments.push({name:o.description}),this.album.push(this.pathImage+o.fileName))}),this._getJobs(),this.updateUnreadCounter(),n}onDateChange(){this.options.year=this.options.date?.getFullYear()}onCustomerChange(){this._getJobs(),this._readAddresses(this.options.customerId)}_readAddresses(e){this._subscriptions.push(this._addressService.getCustomerAddresses(e).pipe((0,U.T)(n=>{if(this.addresses=n,this.options.addressId){const o=this.addresses.find(r=>r.id===this.options.addressId);this.options.addressId=o?o.id:null}}),x(()=>{})).subscribe())}_getJobs(){const e={filter:{filters:[],logic:"and"},sort:[{field:"date",dir:"asc"}]};this.options.customerId&&(e.filter.filters.push({field:"customerId",operator:"eq",value:this.options.customerId}),this._readAddresses(this.options.customerId)),this._subscriptions.push(this._jobsService.read(e).pipe(x(n=>this.jobs=n.data.map(o=>new Uhn(o)))).subscribe())}createCustomer(){const e=new To;e.fiscalType=1,this._subscriptions.push(this.customerModal.open(e).pipe(z(n=>n),Y(()=>this._customersService.createCustomer(e)),x(n=>{this.options.customerId=n.id,this._messageBox.success(`Cliente ${e.name} creato`)}),x(()=>this._getData())).subscribe())}createJobTicket(){this._subscriptions.push(this._messageBox.confirm("Vuoi creare una nuova commessa per il ticket corrente?","Nuova commessa").pipe(x(()=>{this._subscriptions.push(this._serviceJob.getTicketJob(this.options.customerId,this.options.addressId,this.options.code.replace("/","-")).pipe(x(n=>this.options.jobId=n.id),x(()=>{this._getJobs()})).subscribe())})).subscribe())}createActivity(e){this.options.jobId?this._newActivity(e):this._messageBox.info("Prima di creare l'attivit\xe0 \xe8 necessario creare una commessa")}createAddress(){const e=new ds;this._subscriptions.push(this.addressModal.open(e).pipe(z(n=>n),x(()=>{this.addNewAddress(e)})).subscribe())}addNewAddress(e){null!==this.options.customerId&&(e.customerId=this.options.customerId),this._subscriptions.push(this._addressService.createAddress(e).pipe(x(n=>{this._readAddresses(this.options.customerId),this.options.addressId=n.id,this._messageBox.success("Indirizzo creato con successo")})).subscribe())}_newActivity(e){const n=new ah(0,Vi.Pending,null,null,`Rif. Ticket: ${e.code}<br/>${e.description}`,null,e.jobId,null,e.addressId,null,null,null,null,!1,"In attesa","In corso","Pronto","Completata",!1,!1,[],[]),o=new du(n);e.status=dc.InProgress,this._subscriptions.push(this.activityModal.open(o).pipe(z(r=>r),Y(()=>this._serviceActivity.create(n)),x(r=>e.activityId=r.id),x(r=>this._messageBox.success("Ticket aggiornato con successo")),x(()=>this.close())).subscribe())}createPurchaseOrder(e){this.options.jobId?this._newPurchaseOrder(e):this._messageBox.info("Prima di creare l'attivit\xe0 \xe8 necessario creare una commessa")}_newPurchaseOrder(e){const n=pS(),o=new Pp(0,null,n.getFullYear(),n,null,`Rif. Ticket: ${e.code}<br/>${e.description}`,hs.Pending,null,null,null,this.currentOperator.id,[e.jobId],[],[],[],[],[]),r=new Vm(o);e.status=dc.InProgress,this._subscriptions.push(this.purchaseOrderModal.open(r).pipe(z(a=>a),Y(()=>this._servicePurchaseOrder.create(o)),x(a=>e.purchaseOrderId=a.id),x(a=>this._messageBox.success("Ticket aggiornato con successo")),x(()=>this.close())).subscribe())}_canClose(){return this.form.markAsDirty(),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi."),this.form.valid}_getData(){this._subscriptions.push(this._customersService.getCustomersList().pipe(x(e=>this._setData(e))).subscribe())}_setData(e){this.customers=e}downloadAttachment(e){const n=this.options.pictures.find(r=>r.description===e);window.open(`${this._baseUrl}/ticket-attachment/download-file/${n.fileName}/${n.description}`)}AttachmentExecutionSuccess(e){const n=e.response.body;if(null!=n){let o=new eV(0,n.originalFileName,n.fileName,this.options.id);this.options.pictures.push(o)}else{const o=e.files[0].name;this.options.pictures.findAndRemove(r=>r.description===o)}}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(x(n=>this.currentOperator=n)).subscribe())}initNewMessage(){this.targetOperatorsArray=[],0!=this.options.id?this.createMessage():this._messageBox.info("Prima di creare il nuovo commento \xe8 necessario salvare l'elemento corrente")}createMessage(){const n=new Zd(0,new Date,null,this.currentOperator.id,null,null,this.options.id,null,!1),o=new rh(n,!0,!0,this.targetOperatorsArray);this._subscriptions.push(this.messageModal.open(o).pipe(z(r=>r),Y(()=>this._messagesService.create(n,o.targetOperators.join(","))),x(r=>{var a=new oh(r.id,r.date,r.note,r.operatorId,this.currentOperator.name,r.jobId,r.activityId,r.ticketId,r.purchaseOrderId,"",!0,[],!1,null);this.options.messages.push(a)}),x(()=>this._messageBox.success("Commento creato"))).subscribe())}markAsRead(e){this._subscriptions.push(this._messagesService.markAsRead(e.id,this.currentOperator.id).pipe(x(()=>{e.isRead=!0,this._messageBox.success("Commento letto"),this.updateUnreadCounter()})).subscribe())}_afterMessageUpdated(e){this._messageBox.success("Commento aggiornato.");const n=this.options.messages.find(o=>o.id==e.id);n.date=e.date,n.note=e.note,this.updateUnreadCounter()}editMessage(e){this._subscriptions.push(this._messagesService.get(e.id).pipe((0,U.T)(n=>new rh(n,!1)),Y(n=>this.messageModal.open(n)),z(n=>n),Y(()=>this._messagesService.update(this.messageModal.options.message)),x(()=>this._afterMessageUpdated(this.messageModal.options.message))).subscribe())}deleteMessage(e){this._messageBox.confirm("Sei sicuro di voler cancellare il commento?","Conferma l'azione").subscribe(n=>{1==n&&this._subscriptions.push(this._messagesService.delete(e.id).pipe(x(o=>{this.options.messages.remove(e),this.updateUnreadCounter()}),x(o=>this._messageBox.success("Commento cancellato con successo"))).subscribe())})}updateUnreadCounter(){this.unreadMessages=this.options.messages.count(e=>!e.isRead)}openImage(e){const n=new g4(this.album,e);this.galleryModal.open(n).subscribe()}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(yl),t.rXU(dr),t.rXU(Ma),t.rXU(wh),t.rXU(_t),t.rXU(br),t.rXU(Ci),t.rXU(_m),t.rXU(dr),t.rXU(lh))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-ticket-modal"]],viewQuery:function(n,o){if(1&n&&(t.GBs(ghn,7),t.GBs(vhn,7),t.GBs(Shn,7),t.GBs(Chn,7),t.GBs(bhn,7),t.GBs(Ehn,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.customerModal=r.first),t.mGM(r=t.lsd())&&(o.addressModal=r.first),t.mGM(r=t.lsd())&&(o.activityModal=r.first),t.mGM(r=t.lsd())&&(o.purchaseOrderModal=r.first),t.mGM(r=t.lsd())&&(o.messageModal=r.first),t.mGM(r=t.lsd())&&(o.galleryModal=r.first)}},features:[t.Vt3],decls:14,vars:2,consts:[["customerModal",""],["addressModal",""],["activityModal",""],["purchaseOrderModal",""],["messageModal",""],["galleryModal",""],["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","stateChange","resizable","draggable","top","state"],["class","k-window-title",4,"ngIf"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowMinimizeAction",""],["kendoWindowRestoreAction",""],["kendoWindowMaximizeAction",""],["kendoWindowCloseAction",""],["name","ticket-modal-form","novalidate","","autocomplete","off",1,"redimensionModal",3,"submit"],[1,"row"],[1,"col-md-2"],[1,"form-group"],["name","year","novalidate","","autocomplete","off","disabled","",1,"form-control",3,"ngModelChange","ngModel"],[1,"validation-message",3,"control"],["name","number","novalidate","","autocomplete","off","disabled","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3"],["format","dd/MM/yyyy","name","date","required","",3,"ngModelChange","valueChange","ngModel","disabled"],["name","status","required","",3,"ngModelChange","data","valuePrimitive","ngModel"],["kendoDropDownListValueTemplate",""],["kendoDropDownListItemTemplate",""],[1,"col-md-6"],["textField","name","valueField","id","name","customerId","required","",1,"customer-combobox",3,"ngModelChange","valueChange","data","valuePrimitive","ngModel","suggest","allowCustom","disabled"],["type","button","title","Nuovo cliente",1,"btn","btn-primary","add-customer-button",3,"click"],[1,"fa","fa-plus"],["textField","fullAddress","valueField","id","name","addressId",1,"address-combobox",3,"ngModelChange","data","valuePrimitive","kendoDropDownFilter","ngModel","suggest","allowCustom"],["type","button","title","Nuovo indirizzo",1,"btn","btn-primary","add-address-button",3,"click"],["textField","fullName","valueField","id","name","jobId",1,"customer-combobox",3,"ngModelChange","data","ngModel","suggest","allowCustom","kendoDropDownFilter","valuePrimitive","disabled"],["type","button","title","Nuovo cliente",1,"btn","btn-primary","add-customer-button",3,"click","disabled"],[1,"col-md-12"],["name","description","required","",3,"ngModelChange","ngModel","resizable","iframe","pasteCleanupSettings"],["kendoEditorBoldButton",""],["kendoEditorItalicButton",""],["kendoEditorUnderlineButton",""],["kendoEditorFontSize",""],["kendoEditorForeColor","","view","gradient"],["kendoEditorInsertUnorderedListButton",""],[1,"border-green"],["style","padding-left: 15px;",4,"ngIf"],[1,"row",2,"margin-top","5px"],[1,"col-md-1"],["title","Aggiungi nuovo commento","type","button",1,"btn","btn-primary",3,"click"],[1,"col-md-11"],["class","row messageTableRow",4,"ngFor","ngForOf"],["name","myUpload",3,"ngModelChange","success","ngModel","saveUrl","removeUrl","multiple"],["kendoUploadFileInfoTemplate",""],["dropFilesHere"," "],[1,"col-md-9"],["class","col-2",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","gap-2","mt-5"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button","class","btn btn-primary","title","Genera Attivit\xe0",3,"click",4,"ngIf"],["type","button","class","btn btn-primary","title","Genera Ordine Acquisto",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-primary"],[1,"k-window-title"],[2,"padding-left","15px"],[1,"row","messageTableRow"],[1,"col-md-2","messageRowPadding",3,"ngClass"],[1,"col-md-3","messageRowPadding",3,"ngClass"],[1,"fas","fa-users",3,"title"],[1,"col-md-5","messageRowPadding",3,"ngClass","innerHTML"],[1,"col-md-2",2,"text-align","right"],["type","button","title","Modifica",1,"btn","btn-outline-primary","btn-sm","me-2",3,"click","disabled"],[1,"fas","fa-edit"],["type","button","title","Segna come letto",1,"btn","btn-outline-primary","btn-sm","me-2",3,"click","disabled"],["class","fa-regular fa-square-check",4,"ngIf"],["class","fa-regular fa-square",4,"ngIf"],["type","button","title","Elimina",1,"btn","btn-outline-danger","btn-sm",3,"click","disabled"],[1,"fas","fa-trash"],[1,"fa-regular","fa-square-check"],[1,"fa-regular","fa-square"],[1,"pointer",3,"click"],[1,"col-2"],["href","javascript:void(0)",3,"click"],["width","90%",3,"src","title"],["type","button","title","Genera Attivit\xe0",1,"btn","btn-primary",3,"click"],["type","button","title","Genera Ordine Acquisto",1,"btn","btn-primary",3,"click"]],template:function(n,o){1&n&&(t.DNE(0,whn,1,0,"div",7)(1,Fhn,120,60,"div",8),t.nrm(2,"app-customer-modal",null,0)(4,"app-address-modal",null,1)(6,"app-activity-modal",null,2)(8,"app-purchase-order-modal",null,3)(10,"app-message-modal",null,4)(12,"app-gallery-modal",null,5)),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[Pe,st,W,Fi,jo,Un,Pi,ts,mi,Mi,ni,li,Ld,Gd,Pd,Wn,ba,ng,Wu,go,io,rp,vr,Eg,yg,Cp,KS,Um,Gm,Pm,Fm,o1,s1,Gp,vh,Pn,Om,cr,eu,gm,Bm,JS,HO,_4,xi,sa,W7e],encapsulation:2})}return s})();class Uhn{constructor(i){this.id=i.id,this.customer=i.customer,this.code=i.code,this.fullName=`${i.code} - ${i.customer}`+(i.reference?` - ${i.reference}`:""),this.customerId=i.customerId,this.addressId=i.addressId,this.description=i.description}}const Bhn=["ticketModal"],Vhn=["grid"],zhn=["customerModal"],jhn=()=>["/activities"],Ide=s=>({jobId:s}),Hhn=()=>["/interventions-list"],$hn=()=>["/purchase-orders"];function Xhn(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",23),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.exportToExcel())}),t.EFF(1," Esporta in Excel "),t.k0s()}}function Whn(s,i){1&s&&t.DNE(0,Xhn,2,0,"ng-template",22)}function Yhn(s,i){1&s&&(t.EFF(0),t.nI1(1,"date")),2&s&&t.SpI(" ",t.i5U(1,1,i.$implicit.date,"dd/MM/yyyy")," ")}function Khn(s,i){if(1&s&&t.nrm(0,"app-multiselect-grid-column-filter",24),2&s){const e=i.column,n=i.filter,o=i.filterService,r=t.XpG();t.Y8G("column",e)("filter",n)("filterService",o)("data",r.ticketStatusNames)}}function Jhn(s,i){if(1&s&&(t.j41(0,"span",25),t.EFF(1),t.nI1(2,"ticketStatus"),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.status)," ")}}function qhn(s,i){if(1&s){const e=t.RV6();t.j41(0,"a",27),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.openCustomer(o.customerId))}),t.EFF(1),t.k0s(),t.nrm(2,"br")}if(2&s){const e=i.$implicit;t.R7$(),t.JRh(e.customerName)}}function Qhn(s,i){1&s&&(t.j41(0,"kendo-grid-column",26),t.DNE(1,qhn,3,1,"ng-template",13),t.k0s())}function Zhn(s,i){1&s&&(t.nrm(0,"div",28),t.nI1(1,"domsanitizer")),2&s&&t.Y8G("innerHTML",t.bMT(1,1,i.$implicit.description),t.npT)}function epn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",30)(1,"a",27),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,r=t.XpG();return t.Njj(r.edit(o))}),t.nrm(2,"i",31),t.j41(3,"span",32),t.EFF(4),t.k0s()()()}if(2&s){const e=t.XpG().$implicit;t.R7$(4),t.SpI(" ",e.unreadMessages,"")}}function tpn(s,i){1&s&&t.DNE(0,epn,5,1,"div",29),2&s&&t.Y8G("ngIf",i.$implicit.unreadMessages)}function npn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",33)(1,"button",34),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.downloadReport(o.id))}),t.nrm(2,"i",35),t.k0s(),t.j41(3,"button",36),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.sendReport(o.id,o.customerEmail))}),t.nrm(4,"i",37),t.k0s(),t.j41(5,"button",38),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.edit(o))}),t.nrm(6,"i",39),t.k0s(),t.j41(7,"button",40),t.nrm(8,"i",41),t.k0s(),t.j41(9,"button",42),t.nrm(10,"i",43),t.k0s(),t.j41(11,"button",44),t.nrm(12,"i",45),t.k0s(),t.j41(13,"button",46),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.askRemove(o))}),t.nrm(14,"i",47),t.k0s()()}if(2&s){const e=i.$implicit;t.R7$(3),t.Y8G("title",e.customerEmail)("disabled",!e.customerEmail),t.R7$(4),t.Y8G("disabled",null==e.activityId)("routerLink",t.lJ4(11,jhn))("queryParams",t.eq3(12,Ide,e.jobId)),t.R7$(2),t.Y8G("routerLink",t.lJ4(14,Hhn))("disabled",!e.hasInterventions)("queryParams",t.eq3(15,Ide,e.jobId)),t.R7$(2),t.Y8G("disabled",null==e.purchaseOrderId)("routerLink",t.lJ4(17,$hn))("queryParams",t.eq3(18,Ide,e.jobId))}}let K7e=(()=>{class s extends It{constructor(e,n,o,r,a,l,c,u,f){super(),this._service=e,this._messageBox=n,this._route=o,this.router=r,this._user=a,this._operatorsService=l,this._customerService=c,this._storageService=u,this._jobsService=f,this.viewExportExcel=!0,this.gridState={skip:0,take:30,filter:{filters:[this._buildStatusFilter(),this._buildJobIdFilter()],logic:"and"},group:[],sort:[{field:"date",dir:"desc"}]},this.expandedDetailKeys=new Array,this.ticketStatusNames=yMe,this.expandDetailsBy=_=>_.id,this.rowCallback=_=>{const g=_.dataItem;switch(!0){case g.status===dc.Closed:return{"ticket-closed":!0};case g.status===dc.InProgress:return{"ticket-inprogress":!0};case g.status===dc.Opened:return{"ticket-opened":!0};case g.status===dc.Resolved:return{"ticket-resolved":!0};default:return{}}}}ngOnInit(){this._resumeState(),this._subscribeRouteParams(),this.user=this._user.getUser(),this._getCurrentOperator(this.user.id),this.updateScreenSize(),this._jobId&&this._subscriptions.push(this._jobsService.get(this._jobId).pipe(x(e=>this.job=e)).subscribe())}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}dataStateChange(e){this.gridState=e,this._saveState(),this._read()}_resumeState(){const e=this._storageService.get(window.location.hash,!0);null!=e&&(this.gridState=e)}_saveState(){this._storageService.save(this.gridState,window.location.hash,!0)}create(){const e=pS(),n=new xD(0,null,e.getFullYear(),e,null,dc.Opened,null,null,this._jobId,null,null,this.currentOperator.id,[],[]);this.job&&(n.customerId=this.job.customerId,n.addressId=this.job.addressId),this._subscriptions.push(this.ticketModal.open(n).pipe(z(o=>o),Y(()=>this._service.create(n)),x(o=>this._afterSaved(o))).subscribe())}edit(e){this._subscriptions.push(this._service.get(e.id).pipe(Y(n=>this.ticketModal.open(n)),z(n=>n),Y(()=>this._service.update(this.ticketModal.options)),x(n=>this._afterSaved(n))).subscribe())}onDblClick(){this.cellArgs.isEdited||this._subscriptions.push(this._service.get(this.cellArgs.dataItem.id).pipe(Y(e=>this.ticketModal.open(e)),z(e=>e),Y(()=>this._service.update(this.ticketModal.options)),x(e=>this._afterSaved(e))).subscribe())}cellClickHandler(e){this.cellArgs=e}askRemove(e){this._subscriptions.push(this._messageBox.confirm(`Sei sicuro di voler rimuovere il ticket ${e.code}?`,"Attenzione").pipe(z(o=>o),Y(()=>this._service.delete(e.id)),x(()=>this._afterRemoved(e))).subscribe())}_read(){this._subscriptions.push(this._service.read(this.gridState).pipe(x(e=>this.data=e)).subscribe())}_afterSaved(e){this._messageBox.success(`Ticket ${e.code} salvata.`),null!=e.activityId&&this.router.navigate(["/activities?jobId="+e.jobId]),this._read()}_afterRemoved(e){this._messageBox.success(`Ticket ${e.code} rimossa.`),this._read()}openCustomer(e){this._subscriptions.push(this._customerService.getCustomer(e).pipe((0,U.T)(n=>Object.assign(new To,n)),Y(n=>this.customerModal.open(n)),z(n=>n),(0,U.T)(()=>this.customerModal.options),Y(n=>this._customerService.updateCustomer(n,e)),(0,U.T)(()=>this.customerModal.options),x(n=>this._messageBox.success(`Cliente ${n.name} aggiornato`)),x(()=>this._read())).subscribe())}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(x(n=>this.currentOperator=n)).subscribe())}_buildJobIdFilter(){const e=this;return{field:"jobId",get operator(){return e._jobId?"eq":"neq"},get value(){return e._jobId?e._jobId:0}}}_buildStatusFilter(){const e=this;return{get field(){return e._jobId?"id":void 0},get operator(){return e._jobId?"isnotnull":void 0},get filters(){return e._jobId?void 0:[dc.Opened,dc.InProgress].map(n=>({field:"status",operator:"eq",value:n}))},logic:"or"}}_subscribeRouteParams(){this._route.queryParams.pipe(x(e=>this._setParams(e))).subscribe()}_setParams(e){this._jobId=isNaN(+e.jobId)?null:+e.jobId,this._read()}downloadReport(e){const n=this._user.getUser();window.open(`${At.baseApiUrl}/tickets/download-report/${e}?access_token=${n.accessToken}`,"_blank")}sendReport(e,n){this._user.getUser(),this._messageBox.confirm("Vuoi inviare il ticket alla mail del cliente ("+n+")?","Invio ticket").pipe(z(a=>a),Y(()=>this._service.sendReport(e,n))).subscribe()}exportToExcel(){const e=this.getExportOptions();new _g(e).toDataURL().then(o=>{Kd(o,"tickets.xlsx")})}getExportOptions(){return{sheets:[{columns:[{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0}],title:"Commesse",rows:[{cells:[{value:"Data",bold:!0},{value:"Codice",bold:!0},{value:"Stato",bold:!0},{value:"Cliente",bold:!0},{value:"Descrizione",bold:!0},{value:"Inserito Da",bold:!0}]},...this.data.data.map(e=>({cells:[{value:e.date,format:"dd/MM/yyyy"},{value:e.code},{value:e.status},{value:e.customerName},{value:e.description},{value:e.operatorName}]}))]}]}}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(_b),t.rXU(_t),t.rXU(Ha),t.rXU(Qi),t.rXU(Ci),t.rXU(br),t.rXU(yl),t.rXU(Pr),t.rXU(dr))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-tickets"]],viewQuery:function(n,o){if(1&n&&(t.GBs(Bhn,7),t.GBs(Vhn,7),t.GBs(zhn,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.ticketModal=r.first),t.mGM(r=t.lsd())&&(o.grid=r.first),t.mGM(r=t.lsd())&&(o.customerModal=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},inputs:{viewExportExcel:"viewExportExcel"},features:[t.Vt3],decls:31,vars:21,consts:[["gridMenu",""],["ticketModal",""],["customerModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],["key","jobId"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"expandedDetailKeysChange","dataStateChange","cellClick","dblclick","data","pageSize","skip","sort","filter","group","sortable","pageable","kendoGridExpandDetailsBy","expandedDetailKeys","rowClass"],[4,"ngIf"],["field","date","title","Data","filter","date",3,"width"],["kendoGridCellTemplate",""],["field","code","title","Codice",3,"width"],["field","status","title","Stato","filter","numeric",1,"ticket-status",3,"width"],["kendoGridFilterMenuTemplate",""],["field","customerName","title","Cliente",4,"ngIf"],["field","description","title","Note"],["field","operatorName","title","Inserito da"],["field","unreadMessages","title","","filterable","false"],["field","id","title"," ",3,"sortable","filterable","width"],["kendoGridToolbarTemplate",""],["type","button",1,"btn","btn-primary",3,"click"],[3,"column","filter","filterService","data"],[1,"text-nowrap"],["field","customerName","title","Cliente"],[2,"cursor","pointer",3,"click"],[3,"innerHTML"],["style","width: 35px; text-align: center;",4,"ngIf"],[2,"width","35px","text-align","center"],[1,"fa-regular","fa-message","job-alert"],[1,"job-alert"],[1,"d-flex","text-nowrap","gap-1"],["title","Download Rapportino",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-file"],[1,"btn","btn-primary","btn-sm",3,"click","title","disabled"],[1,"fas","fa-paper-plane"],["title","Modifica",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-edit"],["title","Apri attivit\xe0",1,"btn","btn-primary","btn-sm",3,"disabled","routerLink","queryParams"],[1,"fas","fa-a"],["title","Visualizza Interventi",1,"btn","btn-primary","btn-sm",3,"routerLink","disabled","queryParams"],[1,"fas","fa-i"],["title","Visualizza ordini d'acquisto",1,"btn","btn-outline-primary","btn-sm",3,"disabled","routerLink","queryParams"],[1,"fa","fa-bag-shopping"],["title","Rimuovi",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"h4"),t.EFF(3,"Ticket"),t.k0s()(),t.j41(4,"div",5)(5,"button",6),t.bIt("click",function(){return t.eBV(r),t.Njj(o.create())}),t.nrm(6,"i",7),t.EFF(7," NUOVO "),t.k0s()()(),t.nrm(8,"app-grid-context-menu",8,0),t.j41(10,"div",9)(11,"kendo-grid",10),t.mxI("expandedDetailKeysChange",function(l){return t.eBV(r),t.DH7(o.expandedDetailKeys,l)||(o.expandedDetailKeys=l),t.Njj(l)}),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))})("cellClick",function(l){return t.eBV(r),t.Njj(o.cellClickHandler(l))})("dblclick",function(){return t.eBV(r),t.Njj(o.onDblClick())})("cellClick",function(l){t.eBV(r);const c=t.sdS(9);return t.Njj(c.onCellClick(l))}),t.DNE(12,Whn,1,0,null,11),t.j41(13,"kendo-grid-column",12),t.DNE(14,Yhn,2,4,"ng-template",13),t.k0s(),t.nrm(15,"kendo-grid-column",14),t.j41(16,"kendo-grid-column",15),t.DNE(17,Khn,1,4,"ng-template",16)(18,Jhn,3,3,"ng-template",13),t.k0s(),t.DNE(19,Qhn,2,0,"kendo-grid-column",17),t.j41(20,"kendo-grid-column",18),t.DNE(21,Zhn,2,3,"ng-template",13),t.k0s(),t.nrm(22,"kendo-grid-column",19),t.j41(23,"kendo-grid-column",20),t.DNE(24,tpn,1,1,"ng-template",13),t.k0s(),t.j41(25,"kendo-grid-column",21),t.DNE(26,npn,15,20,"ng-template",13),t.k0s()()(),t.nrm(27,"app-ticket-modal",null,1)(29,"app-customer-modal",null,2)}2&n&&(t.R7$(11),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!0)("kendoGridExpandDetailsBy",o.expandDetailsBy),t.R50("expandedDetailKeys",o.expandedDetailKeys),t.Y8G("rowClass",o.rowCallback),t.R7$(),t.Y8G("ngIf",o.viewExportExcel),t.R7$(),t.Y8G("width",1),t.R7$(2),t.Y8G("width",1),t.R7$(),t.Y8G("width",1),t.R7$(3),t.Y8G("ngIf",o.viewExportExcel),t.R7$(6),t.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[W,Hl,Nn,hp,sie,yn,qn,ac,eu,Dh,Mde,fd,xi,sa,W7e],encapsulation:2})}return s})(),ipn=(()=>{class s{constructor(){this.closed=new t.bkB}close(){localStorage.setItem(this.getStorageKey(),"closed"),this.closed.emit(this.jobId)}getStorageKey(){return`jobLateClosed_${this.userId}_${this.jobId}`}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-job-late-notification"]],inputs:{jobId:"jobId",jobCode:"jobCode",mandatoryDate:"mandatoryDate",userId:"userId"},outputs:{closed:"closed"},decls:14,vars:5,consts:[["role","alert",1,"job-late-toast","alert","alert-danger","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"strong"),t.EFF(2,"Attenzione!"),t.k0s(),t.EFF(3," La commessa "),t.j41(4,"b"),t.EFF(5),t.k0s(),t.EFF(6," \xe8 in ritardo"),t.nrm(7,"br"),t.EFF(8,"(scadenza tassativa: "),t.j41(9,"strong"),t.EFF(10),t.nI1(11,"date"),t.k0s(),t.EFF(12,") "),t.j41(13,"button",1),t.bIt("click",function(){return o.close()}),t.k0s()()),2&n&&(t.R7$(5),t.JRh(o.jobCode),t.R7$(5),t.JRh(t.i5U(11,2,o.mandatoryDate,"dd/MM/yyyy")))},dependencies:[xi],styles:[".job-late-toast[_ngcontent-%COMP%] {\n        min-width: 320px;\n        max-width: 450px;\n        margin-bottom: 12px;\n        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.13);\n        z-index: 1200;\n        pointer-events: all;\n    }"]})}return s})(),spn=(()=>{class s{constructor(){this.closed=new t.bkB}close(){localStorage.setItem(this.getStorageKey(),"closed"),this.closed.emit(this.id)}getStorageKey(){return`activityLateClosed_${this.userId}_${this.id}`}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-activity-late-notification"]],inputs:{id:"id",jobCode:"jobCode",shortDescription:"shortDescription",expirationDate:"expirationDate",userId:"userId"},outputs:{closed:"closed"},decls:17,vars:6,consts:[["role","alert",1,"job-late-toast","alert","alert-danger","alert-dismissible","fade","show"],["type","button","aria-label","Close",1,"btn-close",3,"click"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"strong"),t.EFF(2,"Attenzione!"),t.k0s(),t.EFF(3," L'attivit\xe0 "),t.j41(4,"b"),t.EFF(5),t.k0s(),t.EFF(6," della commessa "),t.j41(7,"b"),t.EFF(8),t.k0s(),t.EFF(9," \xe8 in ritardo"),t.nrm(10,"br"),t.EFF(11," (scadenza tassativa: "),t.j41(12,"strong"),t.EFF(13),t.nI1(14,"date"),t.k0s(),t.EFF(15,") "),t.j41(16,"button",1),t.bIt("click",function(){return o.close()}),t.k0s()()),2&n&&(t.R7$(5),t.JRh(o.shortDescription),t.R7$(3),t.JRh(o.jobCode),t.R7$(5),t.JRh(t.i5U(14,3,o.expirationDate,"dd/MM/yyyy")))},dependencies:[xi],styles:[".job-late-toast[_ngcontent-%COMP%] {\n        min-width: 320px;\n        max-width: 450px;\n        margin-bottom: 12px;\n        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.13);\n        z-index: 1200;\n        pointer-events: all;\n    }"]})}return s})();const opn=["activityModal"],rpn=["customerModal"],apn=["jobsAttachmentsModal"],lpn=["dependenciesModal"],cpn=s=>({"progress-hide":s}),dpn=s=>({"job-alert":s}),upn=()=>["/purchase-orders"],hpn=s=>({jobId:s}),ppn=s=>["/activities",s];function fpn(s,i){if(1&s){const e=t.RV6();t.qex(0),t.j41(1,"app-job-late-notification",32),t.bIt("closed",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onLateJobNotificationClosed(o))}),t.k0s(),t.bVm()}if(2&s){const e=i.$implicit,n=t.XpG();t.R7$(),t.Y8G("jobId",e.jobId)("jobCode",e.jobCode)("mandatoryDate",e.jobMandatoryDate)("userId",n.user.id)}}function mpn(s,i){if(1&s){const e=t.RV6();t.qex(0),t.j41(1,"app-activity-late-notification",33),t.bIt("closed",function(o){t.eBV(e);const r=t.XpG();return t.Njj(r.onLateActivityNotificationClosed(o))}),t.k0s(),t.bVm()}if(2&s){const e=i.$implicit,n=t.XpG();t.R7$(),t.Y8G("id",e.id)("jobCode",e.jobCode)("shortDescription",e.shortDescription)("expirationDate",e.expirationDate)("userId",n.user.id)}}function _pn(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",35),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.exportToExcel())}),t.EFF(1," Esporta in Excel "),t.k0s()}}function gpn(s,i){1&s&&t.DNE(0,_pn,2,0,"ng-template",34)}function vpn(s,i){if(1&s&&(t.j41(0,"div",36),t.EFF(1,"\xa0"),t.k0s()),2&s){const e=i.$implicit;t.xc7("background-color",e.activityColor),t.FS9("title",e.type)}}function Spn(s,i){if(1&s){const e=t.RV6();t.j41(0,"a",38),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.openCustomer(o.customerId))}),t.EFF(1),t.k0s()}if(2&s){const e=i.$implicit;t.R7$(),t.JRh(e.customer)}}function Cpn(s,i){1&s&&(t.j41(0,"kendo-grid-column",37),t.DNE(1,Spn,2,1,"ng-template",17),t.k0s())}function bpn(s,i){if(1&s&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.JRh(e.jobCode)}}function Epn(s,i){if(1&s&&(t.j41(0,"div",42),t.EFF(1),t.nrm(2,"i",43),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.jobCode," ")}}function ypn(s,i){if(1&s&&(t.j41(0,"div",44),t.EFF(1),t.nI1(2,"date"),t.nrm(3,"i",43),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,e.jobMandatoryDate,"dd/MM/yyyy")," ")}}function kpn(s,i){if(1&s&&t.DNE(0,bpn,2,1,"div",15)(1,Epn,3,1,"div",40)(2,ypn,4,4,"div",41),2&s){const e=i.$implicit;t.Y8G("ngIf",!e.jobHasHighPriority),t.R7$(),t.Y8G("ngIf",e.jobHasHighPriority),t.R7$(),t.Y8G("ngIf",e.jobIsInLate)}}function wpn(s,i){1&s&&(t.j41(0,"kendo-grid-column",39),t.DNE(1,kpn,3,3,"ng-template",17),t.k0s()),2&s&&t.Y8G("width",1)}function Dpn(s,i){if(1&s&&t.nrm(0,"app-multiselect-grid-column-filter",45),2&s){const e=i.column,n=i.filter,o=i.filterService,r=t.XpG();t.Y8G("column",e)("filter",n)("filterService",o)("data",r.activityStatusNames)}}function Opn(s,i){if(1&s&&(t.j41(0,"span",46),t.EFF(1),t.nI1(2,"activityStatus"),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e)," ")}}function Tpn(s,i){1&s&&t.nrm(0,"kendo-grid-column",47)}function Mpn(s,i){if(1&s&&(t.EFF(0),t.nrm(1,"br"),t.j41(2,"div",48)(3,"div",49),t.EFF(4),t.k0s()()),2&s){const e=i.$implicit;t.SpI(" ",e.shortDescription,""),t.R7$(2),t.FCK("title","Dipendenze evase ",e.fulfilledDependencies," / ",e.totalDependencies,""),t.Y8G("ngClass",t.eq3(9,cpn,0==e.totalDependencies)),t.R7$(),t.xc7("width",e.totalDependencies?e.fulfilledDependencies/e.totalDependencies*100:0,"%"),t.R7$(),t.Lme(" ",e.fulfilledDependencies," / ",e.totalDependencies," ")}}function Ipn(s,i){1&s&&t.nrm(0,"i",43)}function xpn(s,i){if(1&s&&(t.j41(0,"div",50),t.EFF(1),t.nI1(2,"date"),t.DNE(3,Ipn,1,0,"i",51),t.k0s()),2&s){const e=i.$implicit;t.Y8G("ngClass",t.eq3(6,dpn,e.isExpired)),t.R7$(),t.SpI(" ",t.i5U(2,3,e.expirationDate,"dd/MM/yyyy")," "),t.R7$(2),t.Y8G("ngIf",e.isMandatoryExpiration)}}function Apn(s,i){if(1&s&&t.nrm(0,"app-multiselect-grid-column-filter",45),2&s){const e=i.column,n=i.filter,o=i.filterService,r=t.XpG();t.Y8G("column",e)("filter",n)("filterService",o)("data",r.purchaseOrderStatusNames)}}function Rpn(s,i){if(1&s&&(t.j41(0,"button",53),t.nrm(1,"i",54),t.k0s()),2&s){const e=t.XpG().$implicit;t.Y8G("routerLink",t.lJ4(2,upn))("queryParams",t.eq3(3,hpn,e.jobId))}}function Npn(s,i){if(1&s&&(t.j41(0,"span",46),t.DNE(1,Rpn,2,5,"button",52),t.EFF(2),t.nI1(3,"purchaseOrderStatus"),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.Y8G("ngIf",e.purchaseOrderStatus),t.R7$(),t.SpI(" ",t.bMT(3,2,e.purchaseOrderStatus)," ")}}function Lpn(s,i){if(1&s&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.referentName,"")}}function Gpn(s,i){if(1&s&&(t.j41(0,"div",42),t.EFF(1),t.nrm(2,"i",55),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.referentName," ")}}function Ppn(s,i){if(1&s&&t.DNE(0,Lpn,2,1,"div",15)(1,Gpn,3,1,"div",40),2&s){const e=i.$implicit,n=t.XpG();t.Y8G("ngIf",!e.isNewReferent||e.referentId!=(null==n.currentOperator?null:n.currentOperator.id)),t.R7$(),t.Y8G("ngIf",e.isNewReferent&&e.referentId==(null==n.currentOperator?null:n.currentOperator.id))}}function Fpn(s,i){if(1&s&&(t.nrm(0,"br"),t.j41(1,"i"),t.EFF(2),t.nI1(3,"date"),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(2),t.SpI("Mod: ",t.i5U(3,1,e.editedOn,"dd/MM/yyyy"),"")}}function Upn(s,i){if(1&s&&(t.j41(0,"div",56)(1,"i"),t.EFF(2),t.nI1(3,"date"),t.k0s(),t.DNE(4,Fpn,4,4),t.k0s()),2&s){const e=i.$implicit;t.R7$(2),t.SpI("Ins: ",t.i5U(3,2,e.createdOn,"dd/MM/yyyy"),""),t.R7$(2),t.vxM(4,e.editedOn?4:-1)}}function Bpn(s,i){if(1&s&&(t.j41(0,"strong"),t.EFF(1),t.nI1(2,"bool"),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.JRh(t.bMT(2,1,e.isFromTicket))}}function Vpn(s,i){if(1&s&&(t.EFF(0),t.nI1(1,"bool")),2&s){const e=t.XpG().$implicit;t.SpI(" ",t.bMT(1,1,e.isFromTicket)," ")}}function zpn(s,i){1&s&&t.DNE(0,Bpn,3,3,"strong")(1,Vpn,2,3),2&s&&t.vxM(0,i.$implicit.isFromTicket?0:1)}function jpn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",58)(1,"a",38),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,r=t.XpG();return t.Njj(r.edit(o))}),t.nrm(2,"i",59),t.j41(3,"span",42),t.EFF(4),t.k0s()()()}if(2&s){const e=t.XpG().$implicit;t.R7$(4),t.SpI(" ",e.unreadMessages,"")}}function Hpn(s,i){1&s&&t.DNE(0,jpn,5,1,"div",57),2&s&&t.Y8G("ngIf",i.$implicit.unreadMessages)}function $pn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",60)(1,"button",61),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.edit(o))}),t.nrm(2,"i",62),t.k0s(),t.j41(3,"button",63),t.nrm(4,"i",64),t.k0s(),t.j41(5,"button",65),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.openAttachments(o.jobId,o.id))}),t.nrm(6,"i",66),t.k0s(),t.j41(7,"button",67),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.openDependencies(o.jobId,o.id,o.canHaveDependencies))}),t.nrm(8,"i",68),t.k0s(),t.j41(9,"button",69),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.askRemove(o))}),t.nrm(10,"i",70),t.k0s()()}if(2&s){const e=i.$implicit;t.R7$(3),t.Y8G("routerLink",t.eq3(5,ppn,e.id))("disabled",e.isInternal),t.R7$(2),t.Y8G("disabled",!e.hasAttachments),t.R7$(2),t.Y8G("disabled",!e.hasDependencies),t.R7$(2),t.Y8G("disabled",!e.canBeRemoved)}}let J7e=(()=>{class s extends It{constructor(e,n,o,r,a,l,c,u,f){super(),this._service=e,this._activityTypeService=n,this._messageBox=o,this._route=r,this._user=a,this._customerService=l,this._operatorsService=c,this._storageService=u,this._jobsService=f,this.viewExportExcel=!0,this.gridState={skip:0,take:30,filter:{filters:[this._buildStatusFilter(),this._buildJobIdFilter(),this._buildTypeIdFilter(),this._buildReferentIdFilter()],logic:"and"},group:[],sort:[{field:"jobIsInLate",dir:"desc"},{field:"startDate",dir:"asc"},{field:"expirationDate",dir:"asc"}]},this.lateJobsToNotify=[],this.lateActivitiesToNotify=[],this.isOperator=!0,this.activityStatusNames=uR,this.rowCallback=_=>{const g=_.dataItem,S={};return g.status===Vi.Completed?S["activity-completed"]=!0:g.status===Vi.Pending?S["activity-pending"]=!0:g.status===Vi.InProgress?S["activity-in-progress"]=!0:g.status===Vi.Ready?S["activity-ready"]=!0:g.status!=Vi.Completed&&g.expirationDate&&new Date(g.expirationDate).addDays(1).isPast()&&(S["activity-expired"]=!0),g.purchaseOrderStatus===hs.Completed?S["purchase-order-completed"]=!0:g.purchaseOrderStatus===hs.Pending?S["purchase-order-pending"]=!0:g.purchaseOrderStatus===hs.Ordered?S["purchase-order-ordered"]=!0:g.purchaseOrderStatus===hs.Partial?S["purchase-order-partial"]=!0:g.purchaseOrderStatus===hs.Canceled&&(S["purchase-order-canceled"]=!0),S}}ngOnInit(){this._resumeState(),this._subscribeRouteParams(),this.user=this._user.getUser(),this._getCurrentOperator(this.user.id),this.isOperator=this.user.role==Pt.Operator,this.updateScreenSize(),this._jobId&&this._subscriptions.push(this._jobsService.get(this._jobId).pipe(x(e=>this.job=e)).subscribe())}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}_resumeState(){const e=this._storageService.get(window.location.hash,!0);null!=e&&(this.gridState=e)}_saveState(){this._storageService.save(this.gridState,window.location.hash,!0)}dataStateChange(e){this.gridState=e,this._saveState(),this._read()}askRemove(e){this._subscriptions.push(this._messageBox.confirm(`Sei sicuro di voler rimuovere l'attivit\xe0 ${e.number}?`,"Attenzione").pipe(z(o=>o),Y(()=>this._service.delete(e.id)),x(()=>this._afterRemoved(e))).subscribe())}create(){const e=new ah(0,Vi.Pending,null,null,null,null,this._jobId,null,null,null,null,null,null,!1,"In attesa","In corso","Pronto","Completata",!1,!1,[],[]);this.job&&(e.addressId=this.job.addressId);const n=new du(e);this._subscriptions.push(this.activityModal.open(n).pipe(z(o=>o),Y(()=>this._service.create(e)),x(()=>this._afterActivityCreated())).subscribe())}edit(e){this._subscriptions.push(this._service.get(e.id).pipe((0,U.T)(n=>new du(n)),Y(n=>this.activityModal.open(n)),z(n=>n),Y(()=>this._service.update(this.activityModal.options.activity)),x(()=>this._afterActivityUpdated())).subscribe())}onDblClick(){this.cellArgs.isEdited||this._subscriptions.push(this._service.get(this.cellArgs.dataItem.id).pipe((0,U.T)(e=>new du(e)),Y(e=>this.activityModal.open(e)),z(e=>e),Y(()=>this._service.update(this.activityModal.options.activity)),x(()=>this._afterActivityUpdated())).subscribe())}openCustomer(e){this._subscriptions.push(this._customerService.getCustomer(e).pipe((0,U.T)(n=>Object.assign(new To,n)),Y(n=>this.customerModal.open(n)),z(n=>n),(0,U.T)(()=>this.customerModal.options),Y(n=>this._customerService.updateCustomer(n,e)),(0,U.T)(()=>this.customerModal.options),x(n=>this._messageBox.success(`Cliente ${n.name} aggiornato`)),x(()=>this._afterActivityUpdated())).subscribe())}openAttachments(e,n){this._subscriptions.push(this.jobsAttachmentsModal.open([0,n,0]).pipe(z(o=>o)).subscribe())}openDependencies(e,n,o){this.dependenciesModal.jobId=e,this.dependenciesModal.activityId=n,this.dependenciesModal.readonly=!0,this.dependenciesModal.canHaveDependencies=o,this.dependenciesModal.open()}cellClickHandler(e){this.cellArgs=e}_read(){this._subscriptions.push(this._service.read(this.gridState).pipe(x(e=>{this.data=e,this.checkLateJobsToNotify()})).subscribe())}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(x(n=>this.currentOperator=n)).subscribe())}_afterActivityCreated(){this._messageBox.success("Attivit\xe0 creata."),this._read()}_afterActivityUpdated(){this._messageBox.success("Attivit\xe0 aggiornata."),this._read()}_subscribeRouteParams(){this._route.queryParams.pipe(x(e=>this._setParams(e))).subscribe()}_afterRemoved(e){this._messageBox.success(`Attivit\xe0 ${e.number} rimossa.`),this._read()}_buildJobIdFilter(){const e=this;return{field:"jobId",get operator(){return e._jobId?"eq":"isnotnull"},get value(){return e._jobId}}}_buildTypeIdFilter(){const e=this;return{field:"typeId",get operator(){return e._typeId?"eq":"isnotnull"},get value(){return e._typeId}}}_buildReferentIdFilter(){const e=this;return{field:"referentId",get operator(){return e._referentId?"eq":"neq"},get value(){return e._referentId?e._referentId:0}}}_buildStatusFilter(){const e=this;return{get field(){return e._jobId?"id":void 0},get operator(){return e._jobId?"isnotnull":void 0},get filters(){return e._jobId?void 0:[Vi.Pending,Vi.InProgress,Vi.Ready].map(n=>({field:"status",operator:"eq",value:n}))},logic:"or"}}_setParams(e){this._jobId=isNaN(+e.jobId)?null:+e.jobId,this._typeId=isNaN(+e.typeId)?null:+e.typeId,this._referentId=isNaN(+e.referentId)?null:+e.referentId,null!=this._typeId&&this._activityTypeService.getActivityTypeDetail(this._typeId).pipe((0,U.T)(n=>{const o=Object.assign(new uc,n);this.console.log(o)})).subscribe(),this._read()}checkLateJobsToNotify(){const e=l=>localStorage.getItem(`jobLateClosed_${this.user.id}_${l}`),n=new Date;n.setHours(0,0,0,0);const o=(this.data.data||[]).filter(l=>{if(e(l.jobId)||!l.jobMandatoryDate)return!1;const c=new Date(l.jobMandatoryDate);c.setHours(0,0,0,0);const u=new Date(c);return u.setDate(c.getDate()-5),n>=u}),r=new Map;o.forEach(l=>{r.has(l.jobId)||r.set(l.jobId,l)}),this.lateJobsToNotify=Array.from(r.values());const a=l=>localStorage.getItem(`activityLateClosed_${this.user.id}_${l}`);this.lateActivitiesToNotify=(this.data.data||[]).filter(l=>!(a(l.id)||!l.isMandatoryExpiration||!l.expirationDate)&&l.isExpired)}onLateJobNotificationClosed(e){this.lateJobsToNotify=this.lateJobsToNotify.filter(n=>n.jobId!==e)}onLateActivityNotificationClosed(e){this.lateActivitiesToNotify=this.lateActivitiesToNotify.filter(n=>n.id!==e)}exportToExcel(){const e=this.getExportOptions();new _g(e).toDataURL().then(o=>{Kd(o,"attivit\xe0.xlsx")})}getExportOptions(){return{sheets:[{columns:[{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0}],title:"Commesse",rows:[{cells:[{value:"Cliente",bold:!0},{value:"Commessa",bold:!0},{value:"Stato",bold:!0},{value:"Data Scadenza",bold:!0},{value:"Riferimento",bold:!0},{value:"Note",bold:!0},{value:"Operatore",bold:!0},{value:"Inserito Da",bold:!0}]},...this.data.data.map(e=>({cells:[{value:e.customer},{value:e.jobCode},{value:e.status},{value:e.expirationDate,format:"dd/MM/yyyy"},{value:e.jobReference},{value:e.shortDescription},{value:e.referentName},{value:e.lastOperator}]}))]}]}}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Ma),t.rXU(Sp),t.rXU(_t),t.rXU(Ha),t.rXU(Ci),t.rXU(yl),t.rXU(br),t.rXU(Pr),t.rXU(dr))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-activities"]],viewQuery:function(n,o){if(1&n&&(t.GBs(opn,7),t.GBs(rpn,7),t.GBs(apn,7),t.GBs(lpn,5)),2&n){let r;t.mGM(r=t.lsd())&&(o.activityModal=r.first),t.mGM(r=t.lsd())&&(o.customerModal=r.first),t.mGM(r=t.lsd())&&(o.jobsAttachmentsModal=r.first),t.mGM(r=t.lsd())&&(o.dependenciesModal=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},inputs:{viewExportExcel:"viewExportExcel"},features:[t.Vt3],decls:50,vars:28,consts:[["gridMenu",""],["activityModal",""],["customerModal",""],["jobsAttachmentsModal",""],["dependenciesModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],["key","jobId"],[1,"job-late-toast-container"],[4,"ngFor","ngForOf"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","cellClick","dblclick","data","pageSize","skip","sort","filter","group","sortable","pageable","rowClass"],[4,"ngIf"],["field","activityColor","title"," ","width","1","kendoTooltip","",1,"activity-color",3,"sortable","filterable"],["kendoGridCellTemplate",""],["field","customer","title","Cliente",4,"ngIf"],["field","jobCode","title","Commessa",3,"width",4,"ngIf"],["field","status","title","Stato","filter","numeric",1,"activity-status",3,"width"],["kendoGridFilterMenuTemplate",""],["field","jobReference","title","Riferimento",4,"ngIf"],["field","shortDescription","title","Descrizione Attivit\xe0"],["field","expirationDate","title","Scadenza","filter","date","format","dd/MM/yyyy",3,"width"],["field","purchaseOrderStatus","title","Stato OA","filter","numeric",1,"purchase-order-status",3,"width"],["field","referentName","title","Operatore"],["field","createdOn","title","Ins. / Mod.","filterable","false",3,"width"],["field","lastOperator","title","Inser. Da",3,"width"],["field","isFromTicket","title","Ticket","filterable","false",3,"width"],["field","unreadMessages","title","","filterable","false"],["field","id","title"," ",3,"sortable","filterable","width"],[3,"closed","jobId","jobCode","mandatoryDate","userId"],[3,"closed","id","jobCode","shortDescription","expirationDate","userId"],["kendoGridToolbarTemplate",""],["type","button",1,"btn","btn-primary",3,"click"],[3,"title"],["field","customer","title","Cliente"],[2,"cursor","pointer",3,"click"],["field","jobCode","title","Commessa",3,"width"],["class","job-alert",4,"ngIf"],["class","job-alert","kendoTooltip","","title","Scadenza Tassativa",4,"ngIf"],[1,"job-alert"],["aria-hidden","true",1,"fa","fa-exclamation-triangle"],["kendoTooltip","","title","Scadenza Tassativa",1,"job-alert"],[3,"column","filter","filterService","data"],[1,"text-nowrap"],["field","jobReference","title","Riferimento"],["kendoTooltip","",1,"progress-container",3,"ngClass","title"],[1,"progress-bar"],[1,"text-nowrap",3,"ngClass"],["class","fa fa-exclamation-triangle","aria-hidden","true",4,"ngIf"],["class","btn btn-outline-primary btn-sm","title","Visualizza ordini d'acquisto",3,"routerLink","queryParams",4,"ngIf"],["title","Visualizza ordini d'acquisto",1,"btn","btn-outline-primary","btn-sm",3,"routerLink","queryParams"],[1,"fa","fa-bag-shopping"],["aria-hidden","true",1,"fa","fa-bell"],[1,"text-nowrap",2,"font-size","0.8rem"],["style","width: 35px; text-align: center;",4,"ngIf"],[2,"width","35px","text-align","center"],[1,"fa-regular","fa-message","job-alert"],[1,"d-flex","text-nowrap","gap-1"],["title","Modifica",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-edit"],["title","Gestisci",1,"btn","btn-primary","btn-sm",3,"routerLink","disabled"],[1,"fas","fa-gear"],["title","Visualizza allegati",1,"btn","btn-outline-primary","btn-sm",3,"click","disabled"],[1,"fa","fa-paperclip"],["title","Visualizza dipendenze",1,"btn","btn-outline-primary","btn-sm",3,"click","disabled"],[1,"fa","fa-link"],["title","Rimuovi",1,"btn","btn-danger","btn-sm",3,"click","disabled"],[1,"fas","fa-trash"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",5)(1,"div",6)(2,"h4"),t.EFF(3,"Attivit\xe0"),t.k0s()(),t.j41(4,"div",7)(5,"button",8),t.bIt("click",function(){return t.eBV(r),t.Njj(o.create())}),t.nrm(6,"i",9),t.EFF(7," NUOVA "),t.k0s()()(),t.nrm(8,"app-grid-context-menu",10,0),t.j41(10,"div",11),t.DNE(11,fpn,2,4,"ng-container",12)(12,mpn,2,5,"ng-container",12),t.k0s(),t.j41(13,"div",13)(14,"kendo-grid",14),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))})("cellClick",function(l){return t.eBV(r),t.Njj(o.cellClickHandler(l))})("dblclick",function(){return t.eBV(r),t.Njj(o.onDblClick())})("cellClick",function(l){t.eBV(r);const c=t.sdS(9);return t.Njj(c.onCellClick(l,!0))}),t.DNE(15,gpn,1,0,null,15),t.j41(16,"kendo-grid-column",16),t.DNE(17,vpn,2,3,"ng-template",17),t.k0s(),t.DNE(18,Cpn,2,0,"kendo-grid-column",18)(19,wpn,2,1,"kendo-grid-column",19),t.j41(20,"kendo-grid-column",20),t.DNE(21,Dpn,1,4,"ng-template",21)(22,Opn,3,3,"ng-template",17),t.k0s(),t.DNE(23,Tpn,1,0,"kendo-grid-column",22),t.j41(24,"kendo-grid-column",23),t.DNE(25,Mpn,5,11,"ng-template",17),t.k0s(),t.j41(26,"kendo-grid-column",24),t.DNE(27,xpn,4,8,"ng-template",17),t.k0s(),t.j41(28,"kendo-grid-column",25),t.DNE(29,Apn,1,4,"ng-template",21)(30,Npn,4,4,"ng-template",17),t.k0s(),t.j41(31,"kendo-grid-column",26),t.DNE(32,Ppn,2,2,"ng-template",17),t.k0s(),t.j41(33,"kendo-grid-column",27),t.DNE(34,Upn,5,5,"ng-template",17),t.k0s(),t.nrm(35,"kendo-grid-column",28),t.j41(36,"kendo-grid-column",29),t.DNE(37,zpn,2,1,"ng-template",17),t.k0s(),t.j41(38,"kendo-grid-column",30),t.DNE(39,Hpn,1,1,"ng-template",17),t.k0s(),t.j41(40,"kendo-grid-column",31),t.DNE(41,$pn,11,7,"ng-template",17),t.k0s()()(),t.nrm(42,"app-activity-modal",null,1)(44,"app-customer-modal",null,2)(46,"app-jobs-attachments-modal",null,3)(48,"app-dependencies-modal",null,4)}2&n&&(t.R7$(11),t.Y8G("ngForOf",o.lateJobsToNotify),t.R7$(),t.Y8G("ngForOf",o.lateActivitiesToNotify),t.R7$(2),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!0)("rowClass",o.rowCallback),t.R7$(),t.Y8G("ngIf",o.viewExportExcel),t.R7$(),t.Y8G("sortable",!0)("filterable",!1),t.R7$(2),t.Y8G("ngIf",o.viewExportExcel),t.R7$(),t.Y8G("ngIf",o.viewExportExcel),t.R7$(),t.Y8G("width",1),t.R7$(3),t.Y8G("ngIf",o.viewExportExcel),t.R7$(3),t.Y8G("width",1),t.R7$(2),t.Y8G("width",1),t.R7$(5),t.Y8G("width",1),t.R7$(2),t.Y8G("width",1),t.R7$(),t.Y8G("width",1),t.R7$(4),t.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[Pe,st,W,Hl,Nn,hp,yn,qn,ac,Fp,eu,Dh,Bm,lE,fd,Yle,ipn,spn,xi,gp,q4,zz],encapsulation:2})}return s})();const Xpn=["supplierModal"],Wpn=["addressModal"];function Ypn(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",17),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.editSupplier(o))}),t.nrm(1,"i",18),t.k0s(),t.j41(2,"button",19),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.deleteSupplier(o))}),t.nrm(3,"i",20),t.k0s()}}function Kpn(s,i){1&s&&(t.EFF(0),t.nI1(1,"bool")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit.isMainAddress)," ")}function Jpn(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",30),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.setAddressAsMain(o))}),t.nrm(1,"i",31),t.k0s()}}function qpn(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",19),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.deleteAddress(o))}),t.nrm(1,"i",20),t.k0s()}}function Qpn(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",17),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG().$implicit,a=t.XpG();return t.Njj(a.editAddress(o,r))}),t.nrm(1,"i",18),t.k0s(),t.DNE(2,Jpn,2,0,"button",28)(3,qpn,2,0,"button",29)}if(2&s){const e=i.$implicit;t.R7$(2),t.Y8G("ngIf",!e.isMainAddress),t.R7$(),t.Y8G("ngIf",!e.isMainAddress)}}function Zpn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div")(1,"div",21),t.nrm(2,"div",3),t.j41(3,"div",4)(4,"button",5),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.createAddress(o))}),t.nrm(5,"i",6),t.EFF(6," NUOVO INDIRIZZO "),t.k0s()()(),t.j41(7,"div",7)(8,"kendo-grid",22),t.nrm(9,"kendo-grid-column",23)(10,"kendo-grid-column",24)(11,"kendo-grid-column",25)(12,"kendo-grid-column",26),t.j41(13,"kendo-grid-column",27),t.DNE(14,Kpn,2,3,"ng-template",14),t.k0s(),t.j41(15,"kendo-grid-column",13),t.DNE(16,Qpn,4,2,"ng-template",14),t.k0s()()()()}if(2&s){const e=i.$implicit,n=t.XpG();t.R7$(8),t.xc7("width",n.screenWidth,"px"),t.Y8G("data",e.addresses)("sortable",!1)("pageable",!1),t.R7$(7),t.Y8G("sortable",!1)("filterable",!1)("width",130)}}let efn=(()=>{class s extends It{constructor(e,n,o){super(),this._supplierService=e,this._addressesService=n,this._messageBox=o,this.stateGridSuppliers={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[]},this.supplierSelezionato=new ch}ngOnInit(){this._readSuppliers(),this.updateScreenSize()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}dataStateChange(e){this.stateGridSuppliers=e,this._readSuppliers()}_readSuppliers(){this._subscriptions.push(this._supplierService.readSuppliers(this.stateGridSuppliers).pipe(x(e=>{this.dataSuppliers=e})).subscribe())}createSupplier(){const e=new ch;this._subscriptions.push(this.supplierModal.open(e).pipe(z(n=>n),Y(()=>this._supplierService.createSupplier(e)),x(n=>{this._messageBox.success(`Cliente ${e.name} creato`)}),x(()=>this._readSuppliers())).subscribe())}editSupplier(e){this._subscriptions.push(this._supplierService.getSupplier(e.id).pipe((0,U.T)(n=>Object.assign(new ch,n)),Y(n=>this.supplierModal.open(n)),z(n=>n),(0,U.T)(()=>this.supplierModal.options),Y(n=>this._supplierService.updateSupplier(n,e.id)),(0,U.T)(()=>this.supplierModal.options),x(n=>this._messageBox.success(`Cliente ${n.name} aggiornato`)),x(()=>this._readSuppliers())).subscribe())}deleteSupplier(e){this._messageBox.confirm(`Sei sicuro di voler cancellare il cliente ${e.name}?`,"Conferma l'azione").subscribe(n=>{1==n&&this._subscriptions.push(this._supplierService.deleteSupplier(e.id).pipe(x(o=>this._messageBox.success(`Cliente ${e.name} cancellato con successo`)),x(()=>this._readSuppliers())).subscribe())})}createAddress(e){this.supplierSelezionato=e;const n=new ds;n.supplierId=e.id,this._subscriptions.push(this.addressModal.open(n).pipe(z(o=>o),Y(()=>this._addressesService.createAddress(n)),x(o=>this._messageBox.success("Indirizzo creato con successo")),x(()=>this._readSuppliers())).subscribe())}editAddress(e,n){this.supplierSelezionato=n,this._subscriptions.push(this._addressesService.getAddress(e.id).pipe((0,U.T)(o=>Object.assign(new ds,o)),Y(o=>this.addressModal.open(o)),z(o=>o),(0,U.T)(()=>this.addressModal.options),Y(o=>this._addressesService.updateAddress(o,e.id)),(0,U.T)(()=>this.addressModal.options),x(o=>this._messageBox.success("Indirizzo aggiornato con successo")),x(()=>this._readSuppliers())).subscribe())}deleteAddress(e){this._messageBox.confirm("Sei sicuro di voler cancellare l'indirizzo?","Conferma l'azione").subscribe(n=>{1==n&&this._subscriptions.push(this._addressesService.deleteAddress(e.id).pipe(x(o=>this._messageBox.success("L'indirizzo cancellato con successo")),x(()=>this._readSuppliers())).subscribe())})}setAddressAsMain(e){this._messageBox.confirm("Sei sicuro di voler selezionare l'indirizzo come principale?","Conferma l'azione").subscribe(n=>{1==n&&this._subscriptions.push(this._addressesService.setAddressAsMain(e.id).pipe(x(o=>this._messageBox.success("L'indirizzo selezionato come principale con successo")),x(()=>this._readSuppliers())).subscribe())})}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Sb),t.rXU(lh),t.rXU(_t))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-suppliers"]],viewQuery:function(n,o){if(1&n&&(t.GBs(Xpn,7),t.GBs(Wpn,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.supplierModal=r.first),t.mGM(r=t.lsd())&&(o.addressModal=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},features:[t.Vt3],decls:21,vars:14,consts:[["supplierModal",""],["addressModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","name","title","Nominativo"],["field","telephone","title","Telefono"],["field","contact","title","Contatto"],["field","mainAddress.fullAddress","title","Indirizzo"],["field","id","title"," ",3,"sortable","filterable","width"],["kendoGridCellTemplate",""],[4,"kendoGridDetailTemplate"],[3,"supplier"],["title","Modifica",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["title","Elimina",1,"btn","btn-danger","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-trash"],[1,"d-flex","align-items-center","master-detail-grid-header"],["scrollable","none",3,"data","sortable","pageable"],["field","city","title","Citt\xe0"],["field","streetAddress","title","Indirizzo"],["field","province","title","Provincia"],["field","zipCode","title","CAP"],["field","isMainAddress","title","Principale"],["class","btn btn-primary btn-sm grid-action-button","title","Seleziona come principale",3,"click",4,"ngIf"],["class","btn btn-danger btn-sm grid-action-button","title","Elimina",3,"click",4,"ngIf"],["title","Seleziona come principale",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-check"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"h4"),t.EFF(3,"Fornitori"),t.k0s()(),t.j41(4,"div",4)(5,"button",5),t.bIt("click",function(){return t.eBV(r),t.Njj(o.createSupplier())}),t.nrm(6,"i",6),t.EFF(7," NUOVO "),t.k0s()()(),t.j41(8,"div",7)(9,"kendo-grid",8),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))}),t.nrm(10,"kendo-grid-column",9)(11,"kendo-grid-column",10)(12,"kendo-grid-column",11)(13,"kendo-grid-column",12),t.j41(14,"kendo-grid-column",13),t.DNE(15,Ypn,4,0,"ng-template",14),t.k0s(),t.DNE(16,Zpn,17,8,"div",15),t.k0s()(),t.nrm(17,"app-supplier-modal",null,0)(19,"app-address-modal",16,1)}2&n&&(t.R7$(9),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.dataSuppliers)("pageSize",o.stateGridSuppliers.take)("skip",o.stateGridSuppliers.skip)("sort",o.stateGridSuppliers.sort)("filter",o.stateGridSuppliers.filter)("group",o.stateGridSuppliers.group)("sortable",!0)("pageable",!0),t.R7$(5),t.Y8G("sortable",!1)("filterable",!1)("width",95),t.R7$(5),t.Y8G("supplier",o.supplierSelezionato))},dependencies:[W,Nn,yn,lb,qn,gm,zle,gp]})}return s})();const tfn=["purchaseOrderModal"],nfn=["customerModal"],ifn=["jobModal"],sfn=["jobsAttachmentsModal"];function ofn(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",28),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.exportToExcel())}),t.EFF(1," Esporta in Excel "),t.k0s()}}function rfn(s,i){1&s&&t.DNE(0,ofn,2,0,"ng-template",27)}function afn(s,i){1&s&&t.nrm(0,"kendo-grid-column",29),2&s&&t.Y8G("width",1)}function lfn(s,i){1&s&&(t.EFF(0),t.nI1(1,"date")),2&s&&t.SpI(" ",t.i5U(1,1,i.$implicit.date,"dd/MM/yyyy")," ")}function cfn(s,i){1&s&&(t.EFF(0),t.nI1(1,"date")),2&s&&t.SpI(" ",t.i5U(1,1,i.$implicit.expectedDate,"dd/MM/yyyy")," ")}function dfn(s,i){if(1&s&&t.nrm(0,"app-multiselect-grid-column-filter",30),2&s){const e=i.column,n=i.filter,o=i.filterService,r=t.XpG();t.Y8G("column",e)("filter",n)("filterService",o)("data",r.purchaseOrderStatusNames)}}function ufn(s,i){if(1&s&&(t.j41(0,"span",31),t.EFF(1),t.nI1(2,"purchaseOrderStatus"),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.status)," ")}}function hfn(s,i){1&s&&(t.nrm(0,"div",33),t.nI1(1,"domsanitizer")),2&s&&t.Y8G("innerHTML",t.bMT(1,1,i.$implicit.jobReferences),t.npT)}function pfn(s,i){1&s&&(t.j41(0,"kendo-grid-column",32),t.DNE(1,hfn,2,3,"ng-template",16),t.k0s()),2&s&&t.Y8G("width",1)}function ffn(s,i){1&s&&(t.nrm(0,"div",33),t.nI1(1,"domsanitizer")),2&s&&t.Y8G("innerHTML",t.bMT(1,1,i.$implicit.description),t.npT)}function mfn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",35)(1,"a",36),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,r=t.XpG();return t.Njj(r.edit(o))}),t.nrm(2,"i",37),t.j41(3,"span",38),t.EFF(4),t.k0s()()()}if(2&s){const e=t.XpG().$implicit;t.R7$(4),t.SpI(" ",e.unreadMessages,"")}}function _fn(s,i){1&s&&t.DNE(0,mfn,5,1,"div",34),2&s&&t.Y8G("ngIf",i.$implicit.unreadMessages)}function gfn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",39)(1,"button",40),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.edit(o))}),t.nrm(2,"i",41),t.k0s(),t.j41(3,"button",42),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.openAttachments(o.id))}),t.nrm(4,"i",43),t.k0s(),t.j41(5,"button",44),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.askRemove(o))}),t.nrm(6,"i",45),t.k0s()()}if(2&s){const e=i.$implicit;t.R7$(3),t.Y8G("disabled",!e.hasAttachments)}}let q7e=(()=>{class s extends It{constructor(e,n,o,r,a,l,c,u){super(),this._service=e,this._messageBox=n,this._route=o,this._user=r,this._operatorsService=a,this._storageService=l,this._customerService=c,this._jobService=u,this.viewExportExcel=!0,this.gridState={skip:0,take:30,filter:{filters:[this._buildStatusFilter()],logic:"and"},group:[],sort:[{field:"date",dir:"desc"},{field:"jobCodes",dir:"desc"}]},this.purchaseOrderStatusNames=hFe,this.rowCallback=f=>{const _=f.dataItem;switch(!0){case _.status===hs.Completed:return{"purchase-order-completed":!0};case _.status===hs.Pending:return{"purchase-order-pending":!0};case _.status===hs.Ordered:return{"purchase-order-ordered":!0};case _.status===hs.Partial:return{"purchase-order-partial":!0};case _.status===hs.Canceled:return{"purchase-order-canceled":!0};default:return{}}}}ngOnInit(){this._resumeState(),this._subscribeRouteParams(),this.user=this._user.getUser(),this._getCurrentOperator(this.user.id),this.updateScreenSize()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}dataStateChange(e){this.gridState=e,this._saveState(),this._read()}_resumeState(){const e=this._storageService.get(window.location.hash,!0);null!=e&&(this.gridState=e)}_saveState(){this._storageService.save(this.gridState,window.location.hash,!0)}askRemove(e){this._subscriptions.push(this._messageBox.confirm("Sei sicuro di voler rimuovere l'ordine?","Attenzione").pipe(z(o=>o),Y(()=>this._service.delete(e.id)),x(()=>this._afterRemoved(e))).subscribe())}create(){const e=pS();var n=[];this._jobId&&n.push(this._jobId);const o=new Pp(0,null,e.getFullYear(),e,null,null,hs.Pending,null,null,null,this.currentOperator.id,n,[],[],[],[],[]),r=new Vm(o);this._subscriptions.push(this.purchaseOrderModal.open(r).pipe(z(a=>a),Y(()=>this._service.create(o)),x(()=>this._afterPurchaseOrderCreated())).subscribe())}edit(e){this._subscriptions.push(this._service.get(e.id).pipe((0,U.T)(n=>new Vm(n)),Y(n=>this.purchaseOrderModal.open(n)),z(n=>n),Y(()=>this._service.update(this.purchaseOrderModal.options.purchaseOrder)),x(()=>this._afterPurchaseOrderUpdated())).subscribe())}onDblClick(){this.cellArgs.isEdited||this._subscriptions.push(this._service.get(this.cellArgs.dataItem.id).pipe((0,U.T)(e=>new Vm(e)),Y(e=>this.purchaseOrderModal.open(e)),z(e=>e),Y(()=>this._service.update(this.purchaseOrderModal.options.purchaseOrder)),x(()=>this._afterPurchaseOrderUpdated())).subscribe())}cellClickHandler(e){this.cellArgs=e}_read(){this._subscriptions.push(this._service.read(this.gridState,this._jobId).pipe(x(e=>this.data=e)).subscribe())}_afterPurchaseOrderCreated(){this._messageBox.success("Ordine creato."),this._read()}_afterPurchaseOrderUpdated(){this._messageBox.success("Ordine aggiornato."),this._read()}_afterRemoved(e){this._messageBox.success(`Ordine con id ${e.id} rimosso.`),this._read()}_buildJobIdFilter(){const e=this;return{field:"jobId",get operator(){return e._jobId?"eq":"isnotnull"},get value(){return e._jobId}}}_buildStatusFilter(){const e=this;return{get field(){return e._jobId?"id":void 0},get operator(){return e._jobId?"isnotnull":void 0},get filters(){return e._jobId?void 0:[hs.Pending,hs.Ordered,hs.Partial].map(n=>({field:"status",operator:"eq",value:n}))},logic:"or"}}_subscribeRouteParams(){this._route.queryParams.pipe(x(e=>this._setParams(e))).subscribe()}_setParams(e){this._jobId=isNaN(+e.jobId)?null:+e.jobId,this._read()}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(x(n=>this.currentOperator=n)).subscribe())}openCustomer(e){this._subscriptions.push(this._customerService.getCustomer(e).pipe((0,U.T)(n=>Object.assign(new To,n)),Y(n=>this.customerModal.open(n)),z(n=>n),(0,U.T)(()=>this.customerModal.options),Y(n=>this._customerService.updateCustomer(n,e)),(0,U.T)(()=>this.customerModal.options),x(n=>this._messageBox.success(`Cliente ${n.name} aggiornato`))).subscribe())}openJob(e){this._subscriptions.push(this._jobService.get(e).pipe(Y(n=>this.jobModal.open(n)),z(n=>n),Y(()=>this._jobService.update(this.jobModal.options)),x(n=>this._read())).subscribe())}openAttachments(e){this._subscriptions.push(this.jobsAttachmentsModal.open([0,0,e]).pipe(z(n=>n)).subscribe())}exportToExcel(){const e=this.getExportOptions();new _g(e).toDataURL().then(o=>{Kd(o,"ordini.xlsx")})}getExportOptions(){return{sheets:[{columns:[{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0}],title:"Commesse",rows:[{cells:[{value:"Cliente",bold:!0},{value:"Commessa",bold:!0},{value:"Data Ord.",bold:!0},{value:"Stato",bold:!0},{value:"Riferimento",bold:!0},{value:"Fornitore",bold:!0},{value:"Descrizione",bold:!0},{value:"Inserito Da",bold:!0}]},...this.data.data.map(e=>({cells:[{value:e.customerName},{value:e.jobCodes},{value:e.date,format:"dd/MM/yyyy"},{value:e.status},{value:e.jobReferences},{value:e.supplierName},{value:e.description},{value:e.operatorName}]}))]}]}}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(wh),t.rXU(_t),t.rXU(Ha),t.rXU(Ci),t.rXU(br),t.rXU(Pr),t.rXU(yl),t.rXU(dr))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-purchase-orders"]],viewQuery:function(n,o){if(1&n&&(t.GBs(tfn,7),t.GBs(nfn,7),t.GBs(ifn,7),t.GBs(sfn,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.purchaseOrderModal=r.first),t.mGM(r=t.lsd())&&(o.customerModal=r.first),t.mGM(r=t.lsd())&&(o.jobModal=r.first),t.mGM(r=t.lsd())&&(o.jobsAttachmentsModal=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},inputs:{viewExportExcel:"viewExportExcel"},features:[t.Vt3],decls:39,vars:20,consts:[["gridMenu",""],["purchaseOrderModal",""],["customerModal",""],["jobModal",""],["jobsAttachmentsModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],["key","jobIds"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","cellClick","dblclick","data","pageSize","skip","sort","filter","group","sortable","pageable","rowClass"],[4,"ngIf"],["field","jobCodes","title","Comm.",3,"width",4,"ngIf"],["field","date","title","Dt Ord.","filter","date",3,"width"],["kendoGridCellTemplate",""],["field","expectedDate","title","Prevista Cons.","filter","date",3,"width"],["field","status","title","Stato","filter","numeric",1,"purchase-order-status",3,"width"],["kendoGridFilterMenuTemplate",""],["field","jobReferences","title","Riferimenti Comm.",3,"width",4,"ngIf"],["field","supplierName","title","Fornitore"],["field","description","title","Note"],["field","activityTypeName","title","Tipologia"],["field","operatorName","title","Inserito da"],["field","unreadMessages","title","","filterable","false"],["field","id","title"," ",3,"sortable","filterable","width"],["kendoGridToolbarTemplate",""],["type","button",1,"btn","btn-primary",3,"click"],["field","jobCodes","title","Comm.",3,"width"],[3,"column","filter","filterService","data"],[1,"text-nowrap"],["field","jobReferences","title","Riferimenti Comm.",3,"width"],[3,"innerHTML"],["style","width: 35px; text-align: center;",4,"ngIf"],[2,"width","35px","text-align","center"],[2,"cursor","pointer",3,"click"],[1,"fa-regular","fa-message","job-alert"],[1,"job-alert"],[1,"d-flex","text-nowrap","gap-1"],["title","Modifica",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-edit"],["title","Visualizza allegati",1,"btn","btn-outline-primary","btn-sm",3,"click","disabled"],[1,"fa","fa-paperclip"],["title","Rimuovi",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",5)(1,"div",6)(2,"h4"),t.EFF(3,"Ordini Acquisto"),t.k0s()(),t.j41(4,"div",7)(5,"button",8),t.bIt("click",function(){return t.eBV(r),t.Njj(o.create())}),t.nrm(6,"i",9),t.EFF(7," NUOVO "),t.k0s()()(),t.nrm(8,"app-grid-context-menu",10,0),t.j41(10,"div",11)(11,"kendo-grid",12),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))})("cellClick",function(l){return t.eBV(r),t.Njj(o.cellClickHandler(l))})("dblclick",function(){return t.eBV(r),t.Njj(o.onDblClick())})("cellClick",function(l){t.eBV(r);const c=t.sdS(9);return t.Njj(c.onCellClick(l,!1,!0))}),t.DNE(12,rfn,1,0,null,13)(13,afn,1,1,"kendo-grid-column",14),t.j41(14,"kendo-grid-column",15),t.DNE(15,lfn,2,4,"ng-template",16),t.k0s(),t.j41(16,"kendo-grid-column",17),t.DNE(17,cfn,2,4,"ng-template",16),t.k0s(),t.j41(18,"kendo-grid-column",18),t.DNE(19,dfn,1,4,"ng-template",19)(20,ufn,3,3,"ng-template",16),t.k0s(),t.DNE(21,pfn,2,1,"kendo-grid-column",20),t.nrm(22,"kendo-grid-column",21),t.j41(23,"kendo-grid-column",22),t.DNE(24,ffn,2,3,"ng-template",16),t.k0s(),t.nrm(25,"kendo-grid-column",23)(26,"kendo-grid-column",24),t.j41(27,"kendo-grid-column",25),t.DNE(28,_fn,1,1,"ng-template",16),t.k0s(),t.j41(29,"kendo-grid-column",26),t.DNE(30,gfn,7,1,"ng-template",16),t.k0s()()(),t.nrm(31,"app-purchase-order-modal",null,1)(33,"app-customer-modal",null,2)(35,"app-job-modal",null,3)(37,"app-jobs-attachments-modal",null,4)}2&n&&(t.R7$(11),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!0)("rowClass",o.rowCallback),t.R7$(),t.Y8G("ngIf",o.viewExportExcel),t.R7$(),t.Y8G("ngIf",o.viewExportExcel),t.R7$(),t.Y8G("width",1),t.R7$(2),t.Y8G("width",1),t.R7$(2),t.Y8G("width",1),t.R7$(3),t.Y8G("ngIf",o.viewExportExcel),t.R7$(8),t.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[W,Nn,hp,yn,qn,ac,eu,Bp,Dh,lE,JS,fd,xi,sa,zz],encapsulation:2})}return s})();const vfn=["jobModal"],Sfn=["activityModal"],Cfn=["purchaseOrderModal"],bfn=["grid"],Efn=["jobsAttachmentsModal"],yfn=["customerModal"],kfn=()=>["/job-details"],Lj=s=>({jobId:s}),wfn=()=>["/purchase-orders"],Dfn=()=>["/interventions-list"],Ofn=()=>["/tickets"];function Tfn(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",24),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.exportToExcel())}),t.EFF(1," Esporta in Excel "),t.k0s()}}function Mfn(s,i){1&s&&(t.EFF(0),t.nI1(1,"date")),2&s&&t.SpI(" ",t.i5U(1,1,i.$implicit.date,"dd/MM/yyyy")," ")}function Ifn(s,i){1&s&&(t.EFF(0),t.nI1(1,"date")),2&s&&t.SpI(" ",t.i5U(1,1,i.$implicit.expirationDate,"dd/MM/yyyy")," ")}function xfn(s,i){if(1&s){const e=t.RV6();t.j41(0,"a",25),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.openCustomer(o.customerId))}),t.EFF(1),t.k0s(),t.nrm(2,"br")}if(2&s){const e=i.$implicit;t.R7$(),t.JRh(e.customer)}}function Afn(s,i){if(1&s&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.JRh(e.code)}}function Rfn(s,i){if(1&s&&(t.j41(0,"div",28),t.EFF(1),t.nrm(2,"i",29),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.code," ")}}function Nfn(s,i){if(1&s&&t.DNE(0,Afn,2,1,"div",26)(1,Rfn,3,1,"div",27),2&s){const e=i.$implicit;t.Y8G("ngIf",!e.hasHighPriority),t.R7$(),t.Y8G("ngIf",e.hasHighPriority)}}function Lfn(s,i){if(1&s&&t.nrm(0,"app-multiselect-grid-column-filter",30),2&s){const e=i.column,n=i.filter,o=i.filterService,r=t.XpG();t.Y8G("column",e)("filter",n)("filterService",o)("data",r.jobStatusNames)}}function Gfn(s,i){if(1&s&&(t.j41(0,"span",31),t.EFF(1),t.nI1(2,"jobStatus"),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.status)," ")}}function Pfn(s,i){1&s&&(t.nrm(0,"div",32),t.nI1(1,"domsanitizer")),2&s&&t.Y8G("innerHTML",t.bMT(1,1,i.$implicit.description),t.npT)}function Ffn(s,i){1&s&&t.nrm(0,"img",33)}function Ufn(s,i){1&s&&t.DNE(0,Ffn,1,0,"img",33),2&s&&t.vxM(0,i.$implicit.hasSharepoint?0:-1)}function Bfn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",35)(1,"a",25),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,r=t.XpG();return t.Njj(r.edit(o))}),t.nrm(2,"i",36),t.j41(3,"span",28),t.EFF(4),t.k0s()()()}if(2&s){const e=t.XpG().$implicit;t.R7$(4),t.SpI(" ",e.unreadMessages,"")}}function Vfn(s,i){1&s&&t.DNE(0,Bfn,5,1,"div",34),2&s&&t.Y8G("ngIf",i.$implicit.unreadMessages)}function zfn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",37)(1,"div",38)(2,"button",39),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.edit(o))}),t.nrm(3,"i",40),t.k0s(),t.j41(4,"button",41),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.createActivity(o))}),t.nrm(5,"i",42),t.k0s(),t.j41(6,"button",43),t.nrm(7,"i",44),t.k0s(),t.j41(8,"button",45),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.openAttachments(o))}),t.nrm(9,"i",46),t.k0s()(),t.j41(10,"div",38)(11,"button",47),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.createPurchaseOrder(o))}),t.nrm(12,"i",48),t.k0s(),t.j41(13,"button",49),t.nrm(14,"i",50),t.k0s(),t.j41(15,"button",51),t.nrm(16,"i",52),t.k0s(),t.j41(17,"button",53),t.nrm(18,"i",54),t.k0s()()()}if(2&s){const e=i.$implicit;t.R7$(6),t.Y8G("routerLink",t.lJ4(13,kfn))("disabled",!e.hasActivities)("queryParams",t.eq3(14,Lj,e.id)),t.R7$(2),t.Y8G("disabled",!e.hasAttachments),t.R7$(5),t.Y8G("disabled",!e.hasPurchaseOrders)("routerLink",t.lJ4(16,wfn))("queryParams",t.eq3(17,Lj,e.id)),t.R7$(2),t.Y8G("routerLink",t.lJ4(19,Dfn))("disabled",!e.hasInterventions)("queryParams",t.eq3(20,Lj,e.id)),t.R7$(2),t.Y8G("routerLink",t.lJ4(22,Ofn))("disabled",!e.hasActivities)("queryParams",t.eq3(23,Lj,e.id))}}let jfn=(()=>{class s extends It{constructor(e,n,o,r,a,l,c,u,f){super(),this._service=e,this._serviceActivity=n,this._purchaseOrdersService=o,this._customerService=r,this._user=a,this._operatorsService=l,this._messageBox=c,this.router=u,this._storageService=f,this.gridState={skip:0,take:30,filter:{filters:[{filters:[fn.Billing,fn.Completed].map(_=>({field:"status",operator:"eq",value:_})),logic:"or"}],logic:"and"},group:[],sort:[{field:"date",dir:"desc"},{field:"code",dir:"desc"}]},this.jobStatusNames=gO,this.rowCallback=_=>{const g=_.dataItem;switch(!0){case g.status===fn.Completed:return{"job-completed":!0};case g.status===fn.InProgress:return{"job-inprogress":!0};case g.status===fn.Pending:return{"job-pending":!0};case g.status===fn.Billing:return{"job-billing":!0};case g.status===fn.Billed:return{"job-billed":!0};case g.status===fn.Suspended:return{"job-suspended":!0};default:return{}}}}ngOnInit(){this._resumeState(),this._read(),this.user=this._user.getUser(),this._getCurrentOperator(this.user.id),this.updateScreenSize()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}dataStateChange(e){this.gridState=e,this._saveState(),this._read()}_resumeState(){const e=this._storageService.get(window.location.hash,!0);null!=e&&(this.gridState=e)}_saveState(){this._storageService.save(this.gridState,window.location.hash,!0)}create(){const e=new Date,n=new Dm(0,null,e.getFullYear(),e,null,null,null,null,!1,fn.Pending,null,null,null,null,null,[],[]);this._subscriptions.push(this.jobModal.open(n).pipe(z(o=>o),Y(()=>this._service.create(n)),x(o=>this._afterSaved(o))).subscribe())}edit(e){this._subscriptions.push(this._service.get(e.id).pipe(Y(n=>this.jobModal.open(n)),x(n=>!n&&this._read()),z(n=>n),Y(()=>this._service.update(this.jobModal.options)),x(n=>this._afterSaved(n))).subscribe())}onDblClick(){this.cellArgs.isEdited||this.router.navigate(["/job-details"],{queryParams:{jobId:this.cellArgs.dataItem.id}})}cellClickHandler(e){this.cellArgs=e}createActivity(e){const n=new ah(0,Vi.Pending,null,null,null,null,e.id,null,null,null,null,null,null,!1,"In attesa","In corso","Pronto","Completata",!1,!1,[],[]),o=new du(n);this._subscriptions.push(this.activityModal.open(o).pipe(z(r=>r),Y(()=>this._serviceActivity.create(n)),x(()=>this._afterActivityCreated(e.id))).subscribe())}openCustomer(e){this._subscriptions.push(this._customerService.getCustomer(e).pipe((0,U.T)(n=>Object.assign(new To,n)),Y(n=>this.customerModal.open(n)),z(n=>n),(0,U.T)(()=>this.customerModal.options),Y(n=>this._customerService.updateCustomer(n,e)),(0,U.T)(()=>this.customerModal.options),x(n=>this._messageBox.success(`Cliente ${n.name} aggiornato`)),x(()=>this._read())).subscribe())}askRemove(e){this._subscriptions.push(this._messageBox.confirm(`Sei sicuro di voler rimuovere la commessa ${e.code}?`,"Attenzione").pipe(z(o=>o),Y(()=>this._service.delete(e.id)),x(()=>this._afterRemoved(e))).subscribe())}createPurchaseOrder(e){const n=pS(),o=new Pp(0,null,n.getFullYear(),n,null,null,hs.Pending,null,null,null,this.currentOperator.id,[e.id],[],[],[],[],[]),r=new Vm(o);this._subscriptions.push(this.purchaseOrderModal.open(r).pipe(z(a=>a),Y(()=>this._purchaseOrdersService.create(o)),x(()=>this._afterPurchaseOrderCreated(e.id))).subscribe())}openAttachments(e){this._subscriptions.push(this.jobsAttachmentsModal.open([e.id,0,0]).pipe(z(n=>n)).subscribe())}_afterActivityCreated(e){this._messageBox.success("Attivit\xe0 creata."),this.router.navigate(["/activities"],{queryParams:{jobId:e}})}_afterPurchaseOrderCreated(e){this._messageBox.success("Ordine d'acquisto creato"),this.router.navigate(["/purchase-orders"],{queryParams:{jobId:e}})}_read(){this._subscriptions.push(this._service.readCurrentJobs(this.gridState).pipe(x(e=>this.data=e)).subscribe())}_afterSaved(e){this._messageBox.success(`Commessa ${e.code} salvata.`),this._read()}_afterRemoved(e){this._messageBox.success(`Commessa ${e.code} rimossa.`),this._read()}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(x(n=>this.currentOperator=n)).subscribe())}exportToExcel(){const e=this.getExportOptions();new _g(e).toDataURL().then(o=>{Kd(o,"commesse_completate.xlsx")})}getExportOptions(){return{sheets:[{columns:[{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0}],title:"Commesse",rows:[{cells:[{value:"Data",bold:!0},{value:"Data Scadenza",bold:!0},{value:"Cliente",bold:!0},{value:"Commessa",bold:!0},{value:"Stato",bold:!0},{value:"Riferimento",bold:!0},{value:"Responsabile Comm",bold:!0},{value:"Note",bold:!0}]},...this.data.data.map(e=>({cells:[{value:e.date,format:"dd/MM/yyyy"},{value:e.expirationDate,format:"dd/MM/yyyy"},{value:e.customer},{value:e.code},{value:(new Up).transform(e.status)},{value:e.reference},{value:e.referentName},{value:e.description}]}))]}]}}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(dr),t.rXU(Ma),t.rXU(wh),t.rXU(yl),t.rXU(Ci),t.rXU(br),t.rXU(_t),t.rXU(Qi),t.rXU(Pr))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-jobs-completed"]],viewQuery:function(n,o){if(1&n&&(t.GBs(vfn,7),t.GBs(Sfn,7),t.GBs(Cfn,7),t.GBs(bfn,7),t.GBs(Efn,7),t.GBs(yfn,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.jobModal=r.first),t.mGM(r=t.lsd())&&(o.activityModal=r.first),t.mGM(r=t.lsd())&&(o.purchaseOrderModal=r.first),t.mGM(r=t.lsd())&&(o.grid=r.first),t.mGM(r=t.lsd())&&(o.jobsAttachmentsModal=r.first),t.mGM(r=t.lsd())&&(o.customerModal=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},features:[t.Vt3],decls:41,vars:21,consts:[["gridMenu",""],["jobModal",""],["activityModal",""],["purchaseOrderModal",""],["jobsAttachmentsModal",""],["customerModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],["key","id"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","cellClick","dblclick","data","pageSize","skip","sort","filter","group","sortable","pageable","rowClass"],["kendoGridToolbarTemplate",""],["field","date","title","Data","filter","date",3,"width"],["kendoGridCellTemplate",""],["field","expirationDate","title","Data Scad.","filter","date",3,"width"],["field","customer","title","Cliente"],["field","code","title","Cod.",3,"width"],["field","status","title","Stato","filter","numeric",1,"job-status",3,"width"],["kendoGridFilterMenuTemplate",""],["field","reference","title","Riferimento"],["field","description","title","Note"],["field","hasSharepoint","title","SP",3,"width","filterable"],["field","unreadMessages","title","",3,"filterable"],["field","id","title"," ",3,"sortable","filterable","width"],["type","button",1,"btn","btn-primary",3,"click"],[2,"cursor","pointer",3,"click"],[4,"ngIf"],["class","job-alert",4,"ngIf"],[1,"job-alert"],["aria-hidden","true",1,"fa","fa-exclamation-triangle"],[3,"column","filter","filterService","data"],[1,"text-nowrap"],[3,"innerHTML"],["src","assets/sharepoint.png","width","20px"],["style","width: 35px; text-align: center;",4,"ngIf"],[2,"width","35px","text-align","center"],[1,"fa-regular","fa-message","job-alert"],[1,"d-flex","flex-column","gap-2"],[1,"d-flex","text-nowrap","justify-content-center","gap-1"],["title","Modifica",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-edit"],["title","Aggiungi nuova attivit\xe0",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-plus"],["title","Gestisci attivit\xe0",1,"btn","btn-primary","btn-sm",3,"routerLink","disabled","queryParams"],[1,"fas","fa-a"],["title","Visualizza allegati",1,"btn","btn-outline-primary","btn-sm",3,"click","disabled"],[1,"fa","fa-paperclip"],["title","Aggiungi nuovo ordine d'acquisto",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"fa","fa-cart-shopping"],["title","Visualizza ordini d'acquisto",1,"btn","btn-outline-primary","btn-sm",3,"disabled","routerLink","queryParams"],[1,"fa","fa-bag-shopping"],["title","Visualizza Interventi",1,"btn","btn-primary","btn-sm",3,"routerLink","disabled","queryParams"],[1,"fas","fa-i"],["title","Visualizza tickets",1,"btn","btn-outline-primary","btn-sm",3,"routerLink","disabled","queryParams"],[1,"fa","fa-tag"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"h4"),t.EFF(3,"Commesse Completate"),t.k0s()()(),t.nrm(4,"app-grid-context-menu",8,0),t.j41(6,"div",9)(7,"kendo-grid",10),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))})("cellClick",function(l){return t.eBV(r),t.Njj(o.cellClickHandler(l))})("dblclick",function(){return t.eBV(r),t.Njj(o.onDblClick())})("cellClick",function(l){t.eBV(r);const c=t.sdS(5);return t.Njj(c.onCellClick(l))}),t.DNE(8,Tfn,2,0,"ng-template",11),t.j41(9,"kendo-grid-column",12),t.DNE(10,Mfn,2,4,"ng-template",13),t.k0s(),t.j41(11,"kendo-grid-column",14),t.DNE(12,Ifn,2,4,"ng-template",13),t.k0s(),t.j41(13,"kendo-grid-column",15),t.DNE(14,xfn,3,1,"ng-template",13),t.k0s(),t.j41(15,"kendo-grid-column",16),t.DNE(16,Nfn,2,2,"ng-template",13),t.k0s(),t.j41(17,"kendo-grid-column",17),t.DNE(18,Lfn,1,4,"ng-template",18)(19,Gfn,3,3,"ng-template",13),t.k0s(),t.nrm(20,"kendo-grid-column",19),t.j41(21,"kendo-grid-column",20),t.DNE(22,Pfn,2,3,"ng-template",13),t.k0s(),t.j41(23,"kendo-grid-column",21),t.DNE(24,Ufn,1,1,"ng-template",13),t.k0s(),t.j41(25,"kendo-grid-column",22),t.DNE(26,Vfn,1,1,"ng-template",13),t.k0s(),t.j41(27,"kendo-grid-column",23),t.DNE(28,zfn,19,25,"ng-template",13),t.k0s()()(),t.nrm(29,"app-job-modal",null,1)(31,"app-activity-modal",null,2)(33,"app-purchase-order-modal",null,3)(35,"app-jobs-attachments-modal",null,4)(37,"app-activity-modal",null,2)(39,"app-customer-modal",null,5)}2&n&&(t.R7$(7),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!0)("rowClass",o.rowCallback),t.R7$(2),t.Y8G("width",1),t.R7$(2),t.Y8G("width",1),t.R7$(4),t.Y8G("width",1),t.R7$(2),t.Y8G("width",1),t.R7$(6),t.Y8G("width",1)("filterable",!1),t.R7$(2),t.Y8G("filterable",!1),t.R7$(2),t.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[W,Hl,Nn,hp,yn,qn,ac,eu,Bp,Dh,Bm,lE,JS,fd,xi,sa,Up],encapsulation:2})}return s})();class e3{constructor(i,e,n,o,r,a){this.id=i,this.jobId=e,this.accountingTypeId=n,this.amount=o,this.note=r,this.isPaid=a}static build(i){return new e3(i.id,i.jobId,i.accountingTypeId,i.amount,i.note,i.isPaid)}}let Q7e=(()=>{class s{constructor(e){this._http=e,this._baseUrl=`${At.baseApiUrl}/jobaccountings`}readJobAccountings(e,n){const o=ul(e),r=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/read/${n}?${o}`).pipe((0,U.T)(a=>{const l=[];return a.data.forEach(c=>{const u=Object.assign(new e3(c.id,c.jobId,c.accountingTypeId,c.amount,c.note,c.isPaid),c);l.push(u)}),{data:r?Lr(l):l,total:a.total}}))}createJobAccounting(e){return this._http.post(`${this._baseUrl}`,e).pipe((0,U.T)(n=>n))}updateJobAccounting(e,n){return this._http.put(`${this._baseUrl}/${n}`,e).pipe((0,U.T)(()=>{}))}deleteJobAccounting(e){return this._http.delete(`${this._baseUrl}/${e}`).pipe((0,U.T)(()=>{}))}getJobAccountingDetail(e){return this._http.get(`${this._baseUrl}/${e}`).pipe((0,U.T)(n=>Object.assign(new e3(n.id,n.jobId,n.accountingTypeId,n.amount,n.note,n.isPaid),n)))}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(js))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();class $m{constructor(){this.id=null,this.name=null,this.description=null,this.generateAlert=!1}}let xde=(()=>{class s{constructor(e){this._http=e,this._baseUrl=`${At.baseApiUrl}/accountingtypes`}readAccountingTypes(e){const n=ul(e),o=e.group&&e.group.length;return this._http.get(`${this._baseUrl}/accountingtypes?${n}`).pipe((0,U.T)(r=>{const a=[];return r.data.forEach(l=>{const c=Object.assign(new $m,l);a.push(c)}),{data:o?Lr(a):a,total:r.total}}))}createAccountingType(e){return this._http.post(`${this._baseUrl}/accountingtype`,e).pipe((0,U.T)(n=>n))}updateAccountingType(e,n){return this._http.put(`${this._baseUrl}/accountingtype/${n}`,e).pipe((0,U.T)(()=>{}))}deleteAccountingType(e){return this._http.delete(`${this._baseUrl}/accountingtypes/${e}`).pipe((0,U.T)(()=>{}))}getAccountingTypeDetail(e){return this._http.get(`${this._baseUrl}/accountingtype-detail/${e}`).pipe((0,U.T)(n=>Object.assign(new $m,n)))}readAccountingTypesList(){return this._http.get(`${this._baseUrl}/accountingtypes-list`).pipe((0,U.T)(e=>{const n=[];return e.forEach(o=>{const r=Object.assign(new $m,o);n.push(r)}),n}))}readAccountingTypesListPO(){return this._http.get(`${this._baseUrl}/accountingtypes-list-po`).pipe((0,U.T)(e=>{const n=[];return e.forEach(o=>{const r=Object.assign(new $m,o);n.push(r)}),n}))}readAccountingTypesListCalendar(){return this._http.get(`${this._baseUrl}/accountingtypes-list-calendar`).pipe((0,U.T)(e=>{const n=[];return e.forEach(o=>{const r=Object.assign(new $m,o);n.push(r)}),n}))}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(js))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();const Hfn=()=>({caseSensitive:!1,operator:"contains"});function $fn(s,i){1&s&&t.nrm(0,"div",3)}function Xfn(s,i){if(1&s){const e=t.RV6();t.j41(0,"form",14,0),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.close())}),t.j41(2,"div",15)(3,"div",16)(4,"kendo-formfield",17)(5,"label"),t.EFF(6,"Tipo"),t.k0s(),t.j41(7,"kendo-combobox",18),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.accountingTypeId,o)||(r.options.accountingTypeId=o),t.Njj(o)}),t.k0s(),t.j41(8,"kendo-formerror"),t.EFF(9,"Tipo \xe8 un campo obbligatorio"),t.k0s()()(),t.j41(10,"div",19)(11,"kendo-formfield",17)(12,"label"),t.EFF(13,"Importo"),t.k0s(),t.j41(14,"kendo-numerictextbox",20),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.amount,o)||(r.options.amount=o),t.Njj(o)}),t.k0s(),t.j41(15,"kendo-formerror"),t.EFF(16,"Importo \xe8 un campo obbligatorio"),t.k0s()()(),t.j41(17,"div",19)(18,"label"),t.EFF(19,"Pagato"),t.k0s(),t.j41(20,"div",17)(21,"kendo-switch",21),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.isPaid,o)||(r.options.isPaid=o),t.Njj(o)}),t.k0s(),t.nrm(22,"div",22),t.k0s()()(),t.j41(23,"div",15)(24,"div",23)(25,"kendo-formfield",17)(26,"label"),t.EFF(27,"Note"),t.k0s(),t.j41(28,"kendo-textbox",24),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.note,o)||(r.options.note=o),t.Njj(o)}),t.k0s()()()(),t.j41(29,"div",25)(30,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.dismiss())}),t.nrm(31,"i",9),t.EFF(32," ANNULLA "),t.k0s(),t.j41(33,"button",26),t.nrm(34,"i",11),t.EFF(35," SALVA "),t.k0s()()()}if(2&s){const e=t.sdS(1),n=t.XpG(2);t.R7$(7),t.Y8G("data",n.accountingTypes)("valuePrimitive",!0),t.R50("ngModel",n.options.accountingTypeId),t.Y8G("suggest",!0)("kendoDropDownFilter",t.lJ4(13,Hfn))("allowCustom",!1),t.R7$(7),t.R50("ngModel",n.options.amount),t.Y8G("format","c2")("decimals",2)("min",0),t.R7$(7),t.R50("ngModel",n.options.isPaid),t.R7$(),t.Y8G("control",e.controls.isPaid),t.R7$(6),t.R50("ngModel",n.options.note)}}function Wfn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",4)(1,"kendo-window",5),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",6),t.EFF(4," Voce contabile commessa "),t.k0s(),t.j41(5,"div",7)(6,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",9),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",11),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",12),t.k0s(),t.DNE(13,Xfn,36,14,"form",13),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("top",100),t.R7$(12),t.Y8G("ngIf",e.options)}}let Yfn=(()=>{class s extends As{constructor(e,n){super(e),this.messageBox=e,this._accountingTypesService=n}ngOnInit(){this._getAccountingTypes()}_canClose(){return Xr(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid??!1}_getAccountingTypes(){this._subscriptions.push(this._accountingTypesService.readAccountingTypes({sort:[{field:"name",dir:"asc"}]}).pipe(x(n=>this.accountingTypes=n.data)).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(_t),t.rXU(xde))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-jobaccounting-modal"]],features:[t.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowCloseAction",""],["name","updateJobAccountingForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateJobAccountingForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row","riga-form"],[1,"col-md-6"],[1,"form-group"],["textField","name","valueField","id","name","accountingTypeId","required","",3,"ngModelChange","data","valuePrimitive","ngModel","suggest","kendoDropDownFilter","allowCustom"],[1,"col-md-3"],["name","amount","required","",3,"ngModelChange","ngModel","format","decimals","min"],["name","isPaid","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],[1,"validation-message",3,"control"],[1,"col-md-12"],["name","note",3,"ngModelChange","ngModel"],[1,"text-right","mt-5"],["type","submit",1,"btn","btn-primary"]],template:function(n,o){1&n&&t.DNE(0,$fn,1,0,"div",1)(1,Wfn,14,4,"div",2),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[W,Fi,Un,Pi,ts,mi,Mi,ni,li,Wn,Wu,go,$c,ip,Jl,Xc,vr,cr],encapsulation:2})}return s})();const Kfn=["jobAccountingModal"];function Jfn(s,i){1&s&&(t.EFF(0),t.nI1(1,"bool")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit.isPaid)," ")}function qfn(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",14),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.editJobAccounting(o))}),t.nrm(1,"i",15),t.k0s(),t.j41(2,"button",16),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.deleteJobAccounting(o))}),t.nrm(3,"i",17),t.k0s()}}let Z7e=(()=>{class s extends It{constructor(e,n,o){super(),this._jobAccountingsService=e,this._messageBox=n,this._route=o,this.stateGridJobAccountings={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[]}}ngOnInit(){this._read(),this.updateScreenSize(),this._subscribeRouteParams()}_subscribeRouteParams(){this._route.queryParams.pipe(x(e=>this._setParams(e))).subscribe()}_setParams(e){this._jobId=isNaN(+e.jobId)?null:+e.jobId,this._read()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}dataStateChange(e){this.stateGridJobAccountings=e,this._read()}_read(){this._subscriptions.push(this._jobAccountingsService.readJobAccountings(this.stateGridJobAccountings,this._jobId).pipe(x(e=>{this.dataJobAccountings=e})).subscribe())}createJobAccounting(){const e=new e3(0,this._jobId,null,null,null,!1);this._subscriptions.push(this.jobAccountingModal.open(e).pipe(z(n=>n),Y(()=>this._jobAccountingsService.createJobAccounting(e)),x(n=>{this._messageBox.success(`Voce ${e.note} creata`)}),x(()=>this._read())).subscribe())}editJobAccounting(e){this._subscriptions.push(this._jobAccountingsService.getJobAccountingDetail(e.id).pipe((0,U.T)(n=>Object.assign(new e3(n.id,n.jobId,n.accountingTypeId,n.amount,n.note,n.isPaid),n)),Y(n=>this.jobAccountingModal.open(n)),z(n=>n),(0,U.T)(()=>this.jobAccountingModal.options),Y(n=>this._jobAccountingsService.updateJobAccounting(n,n.id)),(0,U.T)(()=>this.jobAccountingModal.options),x(n=>this._messageBox.success(`Voce ${e.note} aggiornata`)),x(()=>this._read())).subscribe())}deleteJobAccounting(e){this._messageBox.confirm("Sei sicuro di voler cancellare la voce selezionata?","Conferma l'azione").subscribe(n=>{1==n&&this._subscriptions.push(this._jobAccountingsService.deleteJobAccounting(e.id).pipe(x(o=>this._messageBox.success(`Voce ${e.note} cancellata con successo`)),x(()=>this._read())).subscribe())})}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Q7e),t.rXU(_t),t.rXU(Ha))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-jobaccountings"]],viewQuery:function(n,o){if(1&n&&t.GBs(Kfn,7),2&n){let r;t.mGM(r=t.lsd())&&(o.jobAccountingModal=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},features:[t.Vt3],decls:19,vars:14,consts:[["jobAccountingModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","accountingTypeName","title","Tipo Voce"],["field","amount","title","Importo",3,"format"],["field","note","title","Note"],["field","isPaid","title","Pagato"],["kendoGridCellTemplate",""],["field","id","title"," ",3,"sortable","filterable","width"],["title","Modifica",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["title","Elimina",1,"btn","btn-danger","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-trash"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h4"),t.EFF(3,"Voci Contabili Commessa"),t.k0s()(),t.j41(4,"div",3)(5,"button",4),t.bIt("click",function(){return t.eBV(r),t.Njj(o.createJobAccounting())}),t.nrm(6,"i",5),t.EFF(7," NUOVO "),t.k0s()()(),t.j41(8,"div",6)(9,"kendo-grid",7),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))}),t.nrm(10,"kendo-grid-column",8)(11,"kendo-grid-column",9)(12,"kendo-grid-column",10),t.j41(13,"kendo-grid-column",11),t.DNE(14,Jfn,2,3,"ng-template",12),t.k0s(),t.j41(15,"kendo-grid-column",13),t.DNE(16,qfn,4,0,"ng-template",12),t.k0s()()(),t.nrm(17,"app-jobaccounting-modal",null,0)}2&n&&(t.R7$(9),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.dataJobAccountings)("pageSize",o.stateGridJobAccountings.take)("skip",o.stateGridJobAccountings.skip)("sort",o.stateGridJobAccountings.sort)("filter",o.stateGridJobAccountings.filter)("group",o.stateGridJobAccountings.group)("sortable",!0)("pageable",!0),t.R7$(2),t.Y8G("format","c2"),t.R7$(4),t.Y8G("sortable",!1)("filterable",!1)("width",95))},dependencies:[Nn,yn,qn,Yfn,gp],encapsulation:2})}return s})();const Qfn=["jobDetailModal"];function Zfn(s,i){if(1&s&&(t.j41(0,"p"),t.EFF(1),t.nrm(2,"br"),t.EFF(3),t.k0s()),2&s){const e=t.XpG(2);t.R7$(),t.JRh(e.address.fullAddress),t.R7$(2),t.SpI(" Tel: ",e.address.telephone,"")}}function emn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",1)(1,"div",5)(2,"div",6)(3,"h4"),t.EFF(4),t.k0s()(),t.j41(5,"div",7)(6,"a",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.edit())}),t.nrm(7,"span",9),t.EFF(8," Scheda commessa "),t.k0s()()(),t.j41(9,"div",10)(10,"h6"),t.EFF(11,"Riferimento"),t.k0s(),t.j41(12,"p"),t.EFF(13),t.k0s()(),t.j41(14,"div",11)(15,"h6"),t.EFF(16,"Contatti"),t.k0s(),t.DNE(17,Zfn,4,2,"p"),t.k0s(),t.j41(18,"div",12)(19,"h6"),t.EFF(20,"Data"),t.k0s(),t.j41(21,"p"),t.EFF(22),t.nI1(23,"date"),t.k0s()(),t.j41(24,"div",12)(25,"h6"),t.EFF(26,"Stato"),t.k0s(),t.j41(27,"p"),t.EFF(28),t.nI1(29,"jobStatus"),t.k0s()(),t.j41(30,"div",13)(31,"h6")(32,"button",14),t.EFF(33," Note "),t.nrm(34,"i",15),t.k0s()(),t.j41(35,"div",16),t.nrm(36,"div",17),t.nI1(37,"domsanitizer"),t.k0s()()()}if(2&s){const e=t.XpG();t.R7$(4),t.SpI("Dettaglio commessa ",e.job.code,""),t.R7$(9),t.JRh(e.job.reference),t.R7$(4),t.vxM(17,e.address?17:-1),t.R7$(5),t.JRh(t.i5U(23,6,e.job.date,"dd/MM/yyyy")),t.R7$(6),t.JRh(t.bMT(29,9,e.job.status)),t.R7$(8),t.Y8G("innerHTML",t.bMT(37,11,e.job.description),t.npT)}}function tmn(s,i){1&s&&t.nrm(0,"app-jobaccountings")}let nmn=(()=>{class s extends It{constructor(e,n,o,r){super(),this._service=e,this._addressService=n,this._user=o,this._route=r,this.isOperator=!0}ngOnInit(){this._subscribeRouteParams(),this.user=this._user.getUser(),this.isOperator=this.user.role==Pt.Operator}_subscribeRouteParams(){this._route.queryParams.pipe(x(e=>this._setParams(e))).subscribe()}_setParams(e){this._jobId=isNaN(+e.jobId)?null:+e.jobId,this._read()}_read(){this._subscriptions.push(this._service.get(this._jobId).pipe(x(e=>{this.job=e,this._readAddress()})).subscribe())}_readAddress(){this._subscriptions.push(this._addressService.getAddress(this.job.addressId).pipe(x(e=>this.address=e)).subscribe())}edit(){this._subscriptions.push(this._service.get(this._jobId).pipe(Y(e=>this.jobModal.open(e)),x(e=>!e&&this._read()),z(e=>e),Y(()=>this._service.update(this.jobModal.options)),x(()=>this._read())).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(dr),t.rXU(lh),t.rXU(Ci),t.rXU(Ha))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-job-details"]],viewQuery:function(n,o){if(1&n&&t.GBs(Qfn,7),2&n){let r;t.mGM(r=t.lsd())&&(o.jobModal=r.first)}},features:[t.Vt3],decls:16,vars:6,consts:[["jobDetailModal",""],[1,"row","border-bottom","mb-3"],[3,"viewExportExcel"],[3,"viewNewInterventionButton"],[4,"ngIf"],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-edit"],[1,"col-md-2","col-sm-6"],[1,"col-md-3","col-sm-6"],[1,"col-md-1","col-sm-6"],[1,"col-md-5","col-sm-6"],["type","button","data-bs-toggle","collapse","data-bs-target","#noteAccordion","aria-expanded","false","aria-controls","noteAccordion",1,"btn","btn-link","p-0",2,"margin-top","-5px"],[1,"fa","fa-chevron-down"],["id","noteAccordion"],[3,"innerHTML"]],template:function(n,o){1&n&&(t.DNE(0,emn,38,13,"div",1),t.nrm(1,"app-activities",2),t.j41(2,"div"),t.nrm(3,"hr"),t.k0s(),t.nrm(4,"app-purchase-orders",2),t.j41(5,"div"),t.nrm(6,"hr"),t.k0s(),t.nrm(7,"app-tickets",2),t.j41(8,"div"),t.nrm(9,"hr"),t.k0s(),t.nrm(10,"app-interventions-list",3),t.j41(11,"div"),t.nrm(12,"hr"),t.k0s(),t.DNE(13,tmn,1,0,"app-jobaccountings",4),t.nrm(14,"app-job-modal",null,0)),2&n&&(t.vxM(0,o.job?0:-1),t.R7$(),t.Y8G("viewExportExcel",!1),t.R7$(3),t.Y8G("viewExportExcel",!1),t.R7$(3),t.Y8G("viewExportExcel",!1),t.R7$(3),t.Y8G("viewNewInterventionButton",!1),t.R7$(3),t.Y8G("ngIf",!o.isOperator))},dependencies:[W,Bp,J7e,X7e,K7e,q7e,Z7e,xi,sa,Up],encapsulation:2})}return s})();const imn=["galleryModal"];function smn(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",18),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.exportToExcel())}),t.EFF(1," Esporta in Excel "),t.k0s()}}function omn(s,i){if(1&s&&(t.j41(0,"div",19),t.EFF(1,"\xa0"),t.k0s()),2&s){const e=i.$implicit;t.xc7("background-color",e.activityTypeColor),t.Y8G("title",e.activityType)}}function rmn(s,i){if(1&s&&(t.j41(0,"span",20),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,e.start,"dd/MM/yyyy HH:mm")," ")}}function amn(s,i){1&s&&(t.nrm(0,"div",21),t.nI1(1,"domsanitizer")),2&s&&t.Y8G("innerHTML",t.bMT(1,1,i.$implicit.interventionDescription),t.npT)}function lmn(s,i){if(1&s){const e=t.RV6();t.j41(0,"a",25),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,r=t.XpG();return t.Njj(r.openImage(o.attachmentFileName))}),t.nrm(1,"i",26),t.k0s()}}function cmn(s,i){if(1&s&&(t.j41(0,"div",22)(1,"div",23),t.DNE(2,lmn,2,0,"a",24),t.k0s()()),2&s){const e=i.$implicit;t.R7$(2),t.Y8G("ngIf",e.attachmentFileName)}}let dmn=(()=>{class s extends It{constructor(e,n,o){super(),this._service=e,this._messageBox=n,this._userService=o,this.gridState={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[{field:"start",dir:"desc"},{field:"jobCode",dir:"desc"}]},this.pathImage=`${At.baseAttachmentsUrl}/`,this.album=[]}ngOnInit(){this._read(),this.updateScreenSize()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}refresh(){this._read()}dataStateChange(e){this.gridState=e,this._read()}cellClickHandler(e){this.cellArgs=e}_read(){this._subscriptions.push(this._service.readInterventionsKo(this.gridState).pipe(x(e=>this.data=e)).subscribe())}openImage(e){this.album=[],this.album.push(this.pathImage+e);const n=new g4(this.album,0);this.galleryModal.open(n).subscribe()}exportToExcel(){const e=this.getExportOptions();new _g(e).toDataURL().then(o=>{Kd(o,"interventi_ko.xlsx")})}getExportOptions(){return{sheets:[{columns:[{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0}],title:"Interventi KO",rows:[{cells:[{value:"Data Interv.",bold:!0},{value:"Commessa",bold:!0},{value:"Cliente",bold:!0},{value:"Nome Prod",bold:!0},{value:"Prodotto",bold:!0},{value:"Descrizione intervento",bold:!0},{value:"Voce Checklist",bold:!0},{value:"Note KO",bold:!0},{value:"Azioni Correttive",bold:!0}]},...this.data.data.map(e=>({cells:[{value:e.start,format:"dd/MM/yyyy HH:mm"},{value:e.jobCode},{value:e.customer},{value:e.productName},{value:e.productDescription},{value:e.interventionDescription},{value:e.checklistItem},{value:e.outcomeNotes},{value:e.outcomeCorrectiveAction}]}))]}]}}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Oh),t.rXU(_t),t.rXU(Ci))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-interventions-ko"]],viewQuery:function(n,o){if(1&n&&t.GBs(imn,7),2&n){let r;t.mGM(r=t.lsd())&&(o.galleryModal=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},features:[t.Vt3],decls:22,vars:16,consts:[["gridMenu",""],["galleryModal",""],["key","jobId"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","cellClick","data","pageSize","skip","sort","filter","group","sortable","pageable"],["kendoGridToolbarTemplate",""],["field","activityTypeColor","title"," ",1,"activity-color",3,"sortable","filterable"],["kendoGridCellTemplate",""],["field","start","title","Data Interv.","filter","date",3,"width"],["field","jobCode","title","Commessa"],["field","customer","title","Cliente"],["field","productName","title","Nome Prod."],["field","productDescription","title","Prodotto"],["field","interventionDescription","title","Descrizione Intervento"],["field","checklistItem","title","Voce Checklist"],["field","outcomeNotes","title","Note KO"],["field","outcomeCorrectiveAction","title","Azioni Correttive"],["field","id","title"," ",3,"sortable","filterable","width"],["type","button",1,"btn","btn-primary",3,"click"],[3,"title"],[1,"text-nowrap"],[3,"innerHTML"],[1,"d-flex","flex-column","gap-2"],[1,"d-flex","text-nowrap","justify-content-center","gap-1"],["href","javascript:void(0)",3,"click",4,"ngIf"],["href","javascript:void(0)",3,"click"],[1,"fa","fa-paperclip"]],template:function(n,o){if(1&n){const r=t.RV6();t.nrm(0,"app-grid-context-menu",2,0),t.j41(2,"div",3)(3,"kendo-grid",4),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))})("cellClick",function(l){return t.eBV(r),t.Njj(o.cellClickHandler(l))})("cellClick",function(l){t.eBV(r);const c=t.sdS(1);return t.Njj(c.onCellClick(l))}),t.DNE(4,smn,2,0,"ng-template",5),t.j41(5,"kendo-grid-column",6),t.DNE(6,omn,2,3,"ng-template",7),t.k0s(),t.j41(7,"kendo-grid-column",8),t.DNE(8,rmn,3,4,"ng-template",7),t.k0s(),t.nrm(9,"kendo-grid-column",9)(10,"kendo-grid-column",10)(11,"kendo-grid-column",11)(12,"kendo-grid-column",12),t.j41(13,"kendo-grid-column",13),t.DNE(14,amn,2,3,"ng-template",7),t.k0s(),t.nrm(15,"kendo-grid-column",14)(16,"kendo-grid-column",15)(17,"kendo-grid-column",16),t.j41(18,"kendo-grid-column",17),t.DNE(19,cmn,3,1,"ng-template",7),t.k0s()()(),t.nrm(20,"app-gallery-modal",null,1)}2&n&&(t.R7$(3),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!0),t.R7$(2),t.Y8G("sortable",!1)("filterable",!1),t.R7$(2),t.Y8G("width",1),t.R7$(11),t.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[W,Nn,hp,yn,qn,_4,fd,xi,sa],encapsulation:2})}return s})();const umn=["interventionProductModal"];function hmn(s,i){if(1&s&&t.nrm(0,"app-multiselect-grid-column-filter",11),2&s){const e=i.column,n=i.filter,o=i.filterService,r=t.XpG();t.Y8G("column",e)("filter",n)("filterService",o)("data",r.interventionStatusNames)}}function pmn(s,i){if(1&s&&(t.j41(0,"span",12),t.EFF(1),t.nI1(2,"interventionStatus"),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.status)," ")}}function fmn(s,i){if(1&s&&(t.j41(0,"span",12),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,e.start,"dd/MM/yyyy HH:mm")," ")}}function mmn(s,i){if(1&s&&(t.j41(0,"span",12),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,e.end,"dd/MM/yyyy: HH:mm")," ")}}function _mn(s,i){1&s&&(t.nrm(0,"div",13),t.nI1(1,"domsanitizer")),2&s&&t.Y8G("innerHTML",t.bMT(1,1,i.$implicit.description),t.npT)}function gmn(s,i){1&s&&(t.j41(0,"span"),t.EFF(1,", "),t.k0s())}function vmn(s,i){if(1&s&&(t.j41(0,"span"),t.EFF(1),t.DNE(2,gmn,2,0,"span",14),t.k0s()),2&s){const e=i.$implicit,n=i.index,o=t.XpG(2).$implicit;t.R7$(),t.SpI(" ",e,""),t.R7$(),t.Y8G("ngIf",n!=o.operators.length-1)}}function Smn(s,i){if(1&s&&(t.j41(0,"div"),t.DNE(1,vmn,3,2,"span",15),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.Y8G("ngForOf",e.operators)}}function Cmn(s,i){1&s&&(t.j41(0,"div"),t.EFF(1," Nessun operatore impostato "),t.k0s())}function bmn(s,i){if(1&s&&t.DNE(0,Smn,2,1,"div",14)(1,Cmn,2,0,"div",14),2&s){const e=i.$implicit;t.Y8G("ngIf",e.operators),t.R7$(),t.Y8G("ngIf",!e.operators)}}function Emn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",16)(1,"button",17),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.openChecklist(o.interventionProductId))}),t.nrm(2,"i",18),t.k0s()()}}let ymn=(()=>{class s extends It{constructor(e){super(),this._service=e,this.gridState={skip:0,take:50,group:[],sort:[]}}ngOnInit(){this._read(),this.updateScreenSize()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}ngOnChanges(e){e.activityId&&this.activityId&&e.product&&this.product&&this._read()}refresh(){this._read()}dataStateChange(e){this.gridState=e,this._read()}openChecklist(e){this._subscriptions.push(this.interventionProductModalComponent.open(e).subscribe())}_read(){this._subscriptions.push(this._service.readInterventionsSingleProduct(this.gridState,this.activityId,this.product).pipe(x(e=>this.data=e)).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Oh))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-interventions-singleproduct-grid"]],viewQuery:function(n,o){if(1&n&&t.GBs(umn,7),2&n){let r;t.mGM(r=t.lsd())&&(o.interventionProductModalComponent=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},inputs:{activityId:"activityId",product:"product"},features:[t.Vt3,t.OA$],decls:17,vars:16,consts:[["interventionProductModal",""],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","status","title","Stato","filter","numeric",3,"width"],["kendoGridFilterMenuTemplate",""],["kendoGridCellTemplate",""],["field","start","title","Inizio","filter","date",3,"width"],["field","end","title","Fine","filter","date",3,"width"],["field","description","title","Descrizione"],["field","operators","title","Operatori"],["field","id","title"," ",3,"sortable","filterable","width"],[3,"column","filter","filterService","data"],[1,"text-nowrap"],[3,"innerHTML"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"d-flex","text-nowrap","gap-1"],["title","Visualizza CheckList",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-list-check"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",1)(1,"kendo-grid",2),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))}),t.j41(2,"kendo-grid-column",3),t.DNE(3,hmn,1,4,"ng-template",4)(4,pmn,3,3,"ng-template",5),t.k0s(),t.j41(5,"kendo-grid-column",6),t.DNE(6,fmn,3,4,"ng-template",5),t.k0s(),t.j41(7,"kendo-grid-column",7),t.DNE(8,mmn,3,4,"ng-template",5),t.k0s(),t.j41(9,"kendo-grid-column",8),t.DNE(10,_mn,2,3,"ng-template",5),t.k0s(),t.j41(11,"kendo-grid-column",9),t.DNE(12,bmn,2,2,"ng-template",5),t.k0s(),t.j41(13,"kendo-grid-column",10),t.DNE(14,Emn,3,0,"ng-template",5),t.k0s()()(),t.nrm(15,"app-intervention-product-checklist-items-modal",null,0)}2&n&&(t.R7$(),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!1),t.R7$(),t.Y8G("width",1),t.R7$(3),t.Y8G("width",1),t.R7$(2),t.Y8G("width",1),t.R7$(6),t.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[st,W,Nn,yn,qn,ac,Dh,H7e,xi,sa,uce],encapsulation:2})}return s})();const kmn=["activityModal"],wmn=["customerModal"],Dmn=["jobsAttachmentsModal"],Omn=s=>["/activities",s];function Tmn(s,i){if(1&s&&(t.j41(0,"div",29),t.EFF(1,"\xa0"),t.k0s()),2&s){const e=i.$implicit;t.xc7("background-color",e.activityColor),t.FS9("title",e.type)}}function Mmn(s,i){if(1&s){const e=t.RV6();t.j41(0,"a",30),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.openCustomer(o.customerId))}),t.EFF(1),t.k0s()}if(2&s){const e=i.$implicit;t.R7$(),t.JRh(e.customer)}}function Imn(s,i){if(1&s&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.JRh(e.jobCode)}}function xmn(s,i){if(1&s&&(t.j41(0,"div",33),t.EFF(1),t.nrm(2,"i",34),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.jobCode," ")}}function Amn(s,i){if(1&s&&t.DNE(0,Imn,2,1,"div",31)(1,xmn,3,1,"div",32),2&s){const e=i.$implicit;t.Y8G("ngIf",!e.jobHasHighPriority),t.R7$(),t.Y8G("ngIf",e.jobHasHighPriority)}}function Rmn(s,i){if(1&s&&t.nrm(0,"app-multiselect-grid-column-filter",35),2&s){const e=i.column,n=i.filter,o=i.filterService,r=t.XpG();t.Y8G("column",e)("filter",n)("filterService",o)("data",r.activityStatusNames)}}function Nmn(s,i){if(1&s&&(t.j41(0,"span",36),t.EFF(1),t.nI1(2,"activityStatus"),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e)," ")}}function Lmn(s,i){if(1&s&&(t.j41(0,"div",39),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,e.expirationDate,"dd/MM/yyyy")," ")}}function Gmn(s,i){if(1&s&&(t.j41(0,"div",36),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,e.expirationDate,"dd/MM/yyyy")," ")}}function Pmn(s,i){if(1&s&&t.DNE(0,Lmn,3,4,"div",37)(1,Gmn,3,4,"div",38),2&s){const e=i.$implicit;t.Y8G("ngIf",e.isExpired),t.R7$(),t.Y8G("ngIf",!e.isExpired)}}function Fmn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",41)(1,"a",30),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,r=t.XpG();return t.Njj(r.edit(o))}),t.nrm(2,"i",42),t.j41(3,"span",33),t.EFF(4),t.k0s()()()}if(2&s){const e=t.XpG().$implicit;t.R7$(4),t.SpI(" ",e.unreadMessages,"")}}function Umn(s,i){1&s&&t.DNE(0,Fmn,5,1,"div",40),2&s&&t.Y8G("ngIf",i.$implicit.unreadMessages)}function Bmn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",43)(1,"button",44),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.edit(o))}),t.nrm(2,"i",45),t.k0s(),t.j41(3,"button",46),t.nrm(4,"i",47),t.k0s(),t.j41(5,"button",48),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.openAttachments(o.jobId,o.id))}),t.nrm(6,"i",49),t.k0s()()}if(2&s){const e=i.$implicit;t.R7$(3),t.Y8G("routerLink",t.eq3(3,Omn,e.id))("disabled",e.isInternal),t.R7$(2),t.Y8G("disabled",!e.hasAttachments)}}function Vmn(s,i){if(1&s&&(t.j41(0,"div"),t.nrm(1,"app-interventions-singleproduct-grid",50),t.k0s()),2&s){const e=i.$implicit,n=t.XpG();t.R7$(),t.Y8G("activityId",e.id)("product",n.productSearchField)}}let zmn=(()=>{class s extends It{constructor(e,n,o,r){super(),this._service=e,this._messageBox=n,this._route=o,this._customerService=r,this.gridState={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[{field:"startDate",dir:"asc"},{field:"expirationDate",dir:"asc"}]},this.activityStatusNames=uR,this.rowCallback=a=>{const l=a.dataItem;switch(!0){case l.status===Vi.Completed:return{"activity-completed":!0};case l.status===Vi.Pending:return{"activity-pending":!0};case l.status===Vi.InProgress:return{"activity-in-progress":!0};case l.status===Vi.Ready:return{"activity-ready":!0};case l.status!=Vi.Completed&&!!l.expirationDate&&new Date(l.expirationDate).addDays(1).isPast():return{"activity-expired":!0};default:return{}}}}filterProduct(){this._search()}dataStateChange(e){this.gridState=e,this._search()}edit(e){this._subscriptions.push(this._service.get(e.id).pipe((0,U.T)(n=>new du(n)),Y(n=>this.activityModal.open(n)),z(n=>n),Y(()=>this._service.update(this.activityModal.options.activity)),x(()=>this._afterActivityUpdated())).subscribe())}onDblClick(){this.cellArgs.isEdited||this._subscriptions.push(this._service.get(this.cellArgs.dataItem.id).pipe((0,U.T)(e=>new du(e)),Y(e=>this.activityModal.open(e)),z(e=>e),Y(()=>this._service.update(this.activityModal.options.activity)),x(()=>this._afterActivityUpdated())).subscribe())}openCustomer(e){this._subscriptions.push(this._customerService.getCustomer(e).pipe((0,U.T)(n=>Object.assign(new To,n)),Y(n=>this.customerModal.open(n)),z(n=>n),(0,U.T)(()=>this.customerModal.options),Y(n=>this._customerService.updateCustomer(n,e)),(0,U.T)(()=>this.customerModal.options),x(n=>this._messageBox.success(`Cliente ${n.name} aggiornato`)),x(()=>this._afterActivityUpdated())).subscribe())}openAttachments(e,n){this._subscriptions.push(this.jobsAttachmentsModal.open([0,n,0]).pipe(z(o=>o)).subscribe())}cellClickHandler(e){this.cellArgs=e}_search(){this._subscriptions.push(this._service.activitiesFromProduct(this.gridState,this.productSearchField).pipe(x(e=>this.data=e)).subscribe())}_afterActivityUpdated(){this._messageBox.success("Attivit\xe0 aggiornata."),this._search()}_afterRemoved(e){this._messageBox.success(`Attivit\xe0 ${e.number} rimossa.`),this._search()}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Ma),t.rXU(_t),t.rXU(Ha),t.rXU(yl))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-activities-from-product"]],viewQuery:function(n,o){if(1&n&&(t.GBs(kmn,7),t.GBs(wmn,7),t.GBs(Dmn,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.activityModal=r.first),t.mGM(r=t.lsd())&&(o.customerModal=r.first),t.mGM(r=t.lsd())&&(o.jobsAttachmentsModal=r.first)}},features:[t.Vt3],decls:47,vars:19,consts:[["gridMenu",""],["activityModal",""],["customerModal",""],["jobsAttachmentsModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"row"],[1,"col-md-3"],[1,"form-group"],["name","productSearchField","autocomplete","off",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-search"],["key","jobId"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","cellClick","dblclick","data","pageSize","skip","sort","filter","group","sortable","pageable","rowClass"],["field","activityColor","title"," ","kendoTooltip","",1,"activity-color",3,"sortable","filterable"],["kendoGridCellTemplate",""],["field","customer","title","Cliente"],["field","jobCode","title","Comm.",3,"width"],["field","status","title","Stato","filter","numeric",1,"activity-status",3,"width"],["kendoGridFilterMenuTemplate",""],["field","jobReference","title","Riferimento"],["field","shortDescription","title","Descrizione Attivit\xe0"],["field","expirationDate","title","Scadenza","filter","date","format","dd/MM/yyyy",3,"width"],["field","referentName","title","Operatore"],["field","lastOperator","title","Inser. Da",3,"width"],["field","unreadMessages","title","","filterable","false"],["field","id","title"," ",3,"sortable","filterable","width"],[4,"kendoGridDetailTemplate"],[3,"title"],[2,"cursor","pointer",3,"click"],[4,"ngIf"],["class","job-alert",4,"ngIf"],[1,"job-alert"],["aria-hidden","true",1,"fa","fa-exclamation-triangle"],[3,"column","filter","filterService","data"],[1,"text-nowrap"],["class","text-nowrap job-alert",4,"ngIf"],["class","text-nowrap",4,"ngIf"],[1,"text-nowrap","job-alert"],["style","width: 35px; text-align: center;",4,"ngIf"],[2,"width","35px","text-align","center"],[1,"fa-regular","fa-message","job-alert"],[1,"d-flex","text-nowrap","gap-1"],["title","Modifica",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-edit"],["title","Gestisci",1,"btn","btn-primary","btn-sm",3,"routerLink","disabled"],[1,"fas","fa-gear"],["title","Visualizza allegati",1,"btn","btn-outline-primary","btn-sm",3,"click","disabled"],[1,"fa","fa-paperclip"],[3,"activityId","product"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"h4"),t.EFF(3,"Ricerca Attivit\xe0 Prodotto"),t.k0s()()(),t.j41(4,"div",6)(5,"div",7)(6,"label"),t.EFF(7,"QRCode o Codice Prodotto"),t.k0s(),t.j41(8,"div",8)(9,"input",9),t.mxI("ngModelChange",function(l){return t.eBV(r),t.DH7(o.productSearchField,l)||(o.productSearchField=l),t.Njj(l)}),t.k0s()()(),t.j41(10,"div",7)(11,"label"),t.EFF(12,"\xa0"),t.k0s(),t.j41(13,"div",8)(14,"button",10),t.bIt("click",function(){return t.eBV(r),t.Njj(o.filterProduct())}),t.nrm(15,"i",11),t.EFF(16," RICERCA "),t.k0s()()()(),t.nrm(17,"app-grid-context-menu",12,0),t.j41(19,"div",13)(20,"kendo-grid",14),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))})("cellClick",function(l){return t.eBV(r),t.Njj(o.cellClickHandler(l))})("dblclick",function(){return t.eBV(r),t.Njj(o.onDblClick())})("cellClick",function(l){t.eBV(r);const c=t.sdS(18);return t.Njj(c.onCellClick(l))}),t.j41(21,"kendo-grid-column",15),t.DNE(22,Tmn,2,3,"ng-template",16),t.k0s(),t.j41(23,"kendo-grid-column",17),t.DNE(24,Mmn,2,1,"ng-template",16),t.k0s(),t.j41(25,"kendo-grid-column",18),t.DNE(26,Amn,2,2,"ng-template",16),t.k0s(),t.j41(27,"kendo-grid-column",19),t.DNE(28,Rmn,1,4,"ng-template",20)(29,Nmn,3,3,"ng-template",16),t.k0s(),t.nrm(30,"kendo-grid-column",21)(31,"kendo-grid-column",22),t.j41(32,"kendo-grid-column",23),t.DNE(33,Pmn,2,2,"ng-template",16),t.k0s(),t.nrm(34,"kendo-grid-column",24)(35,"kendo-grid-column",25),t.j41(36,"kendo-grid-column",26),t.DNE(37,Umn,1,1,"ng-template",16),t.k0s(),t.j41(38,"kendo-grid-column",27),t.DNE(39,Bmn,7,5,"ng-template",16),t.k0s(),t.DNE(40,Vmn,2,2,"div",28),t.k0s()(),t.nrm(41,"app-activity-modal",null,1)(43,"app-customer-modal",null,2)(45,"app-jobs-attachments-modal",null,3)}2&n&&(t.R7$(9),t.R50("ngModel",o.productSearchField),t.R7$(11),t.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!0)("rowClass",o.rowCallback),t.R7$(),t.Y8G("sortable",!1)("filterable",!1),t.R7$(4),t.Y8G("width",1),t.R7$(2),t.Y8G("width",1),t.R7$(5),t.Y8G("width",1),t.R7$(3),t.Y8G("width",1),t.R7$(3),t.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[W,jo,Un,mi,Hl,Nn,yn,lb,qn,ac,Fp,eu,Dh,Bm,lE,ymn,fd,xi,q4],encapsulation:2})}return s})();const jmn=["messageModal"],Hmn=["jobModal"],$mn=["activityModal"],Xmn=["purchaseOrderModal"],Wmn=["ticketModal"],Ymn=()=>({caseSensitive:!1,operator:"contains"});function Kmn(s,i){1&s&&t.nrm(0,"i",34)}function Jmn(s,i){1&s&&t.nrm(0,"i",35)}function qmn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",30)(1,"button",31),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.markAsRead(o))}),t.DNE(2,Kmn,1,0,"i",32)(3,Jmn,1,0,"i",33),t.k0s()()}if(2&s){const e=i.$implicit,n=t.XpG();t.R7$(),t.Y8G("disabled",e.isRead||e.senderOperatorId==n.currentOperator.id),t.R7$(),t.Y8G("ngIf",e.isRead),t.R7$(),t.Y8G("ngIf",!e.isRead)}}function Qmn(s,i){if(1&s&&(t.j41(0,"div",36),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,e.date,"dd/MM/yyyy HH:mm")," ")}}function Zmn(s,i){if(1&s&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.JRh(e.jobCode)}}function e_n(s,i){if(1&s&&(t.j41(0,"div",39),t.EFF(1),t.nrm(2,"i",40),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.jobCode," ")}}function t_n(s,i){if(1&s&&t.DNE(0,Zmn,2,1,"div",37)(1,e_n,3,1,"div",38),2&s){const e=i.$implicit;t.Y8G("ngIf",!e.jobHasHighPriority),t.R7$(),t.Y8G("ngIf",e.jobHasHighPriority)}}function n_n(s,i){if(1&s&&(t.j41(0,"div",41),t.EFF(1,"\xa0"),t.k0s()),2&s){const e=i.$implicit;t.xc7("background-color",e.activityColor),t.FS9("title",e.activityType)}}function i_n(s,i){1&s&&(t.nrm(0,"div",42),t.nI1(1,"domsanitizer")),2&s&&t.Y8G("innerHTML",t.bMT(1,1,i.$implicit.note),t.npT)}function s_n(s,i){if(1&s&&(t.j41(0,"div",43)(1,"span",44),t.EFF(2),t.k0s(),t.nrm(3,"i",45),t.k0s()),2&s){const e=i.$implicit;t.R7$(2),t.JRh(e.elementType),t.R7$(),t.Y8G("title","Destinatari: "+e.targetOperators)}}function o_n(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",30)(1,"button",46),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.editMessage(o))}),t.nrm(2,"i",47),t.k0s(),t.j41(3,"button",48),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.replyMessage(o,!1))}),t.nrm(4,"i",49),t.k0s(),t.j41(5,"button",50),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.replyMessage(o,!0))}),t.nrm(6,"i",51),t.k0s()()}if(2&s){const e=i.$implicit,n=t.XpG();t.R7$(),t.Y8G("disabled",e.senderOperatorId!=n.currentOperator.id)}}let r_n=(()=>{class s extends It{constructor(e,n,o,r,a,l,c,u,f,_){super(),this._activityTypesService=e,this._service=n,this._messageBox=o,this._user=r,this._operatorsService=a,this._jobsService=l,this._activityService=c,this._ticketsService=u,this._purchaseOrdersService=f,this._storageService=_,this.gridState={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[{field:"date",dir:"desc"}]},this.activityStatusNames=uR,this.rowCallback=g=>g.dataItem.isRead||g.dataItem.senderOperatorId==this.currentOperator.id?{read:!0}:{unread:!0}}ngOnInit(){this.hasFilterUnread=!0,this._getActivityTypes(),this._resumeState(),this.user=this._user.getUser(),this._getCurrentOperator(this.user.id),this.updateScreenSize()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}_resumeState(){const e=this._storageService.get(window.location.hash,!0);null!=e&&(this.gridState=e)}_saveState(){this._storageService.save(this.gridState,window.location.hash,!0),this.hasFilter=this.gridState.filter.filters.any()}dataStateChange(e){this.gridState=e,this._saveState(),this._read()}onDblClick(){this.cellArgs.dataItem.ticketId?this._subscriptions.push(this._ticketsService.get(this.cellArgs.dataItem.ticketId).pipe(Y(e=>this.ticketModal.open(e)),z(e=>e),Y(()=>this._ticketsService.update(this.ticketModal.options)),x(e=>this._read())).subscribe()):this.cellArgs.dataItem.purchaseOrderId?this._subscriptions.push(this._purchaseOrdersService.get(this.cellArgs.dataItem.purchaseOrderId).pipe((0,U.T)(e=>new Vm(e)),Y(e=>this.purchaseOrderModal.open(e)),z(e=>e),Y(()=>this._purchaseOrdersService.update(this.purchaseOrderModal.options.purchaseOrder)),x(()=>this._read())).subscribe()):this.cellArgs.dataItem.activityId?this._subscriptions.push(this._activityService.get(this.cellArgs.dataItem.activityId).pipe((0,U.T)(e=>new du(e)),Y(e=>this.activityModal.open(e)),z(e=>e),Y(()=>this._activityService.update(this.activityModal.options.activity)),x(()=>this._read())).subscribe()):this.cellArgs.dataItem.jobId&&this._subscriptions.push(this._jobsService.get(this.cellArgs.dataItem.jobId).pipe(Y(e=>this.jobModal.open(e)),z(e=>e),Y(()=>this._jobsService.update(this.jobModal.options)),x(e=>this._read())).subscribe())}cellClickHandler(e){this.cellArgs=e}_read(){this._subscriptions.push(this._service.getMessagesList(this.gridState,this.currentOperator.id).pipe(x(e=>{this.data=e,this._getUnreadCounter()})).subscribe())}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(x(n=>this.currentOperator=n),x(()=>{this.filterUnread()})).subscribe())}markAsRead(e){this._subscriptions.push(this._service.markAsRead(e.id,this.currentOperator.id).pipe(x(()=>{e.isRead=!0,this._messageBox.success("Commento letto"),this._read()})).subscribe())}editMessage(e){this._subscriptions.push(this._service.get(e.id).pipe((0,U.T)(n=>new rh(n,!0)),Y(n=>this.messageModal.open(n)),z(n=>n),Y(()=>this._service.update(this.messageModal.options.message))).subscribe())}replyMessage(e,n){this.targetOperatorsArray=[],this._subscriptions.push(this._service.getReplyTargetOperators(e.id,n).pipe(x(o=>{this.targetOperatorsArray=o,this.createMessage(e,n)})).subscribe())}createMessage(e,n){const r=new Zd(e.id,new Date,null,this.currentOperator.id,e.jobId,e.activityId,e.ticketId,e.purchaseOrderId,!1),a=new rh(r,!0,n,this.targetOperatorsArray);this._subscriptions.push(this.messageModal.open(a).pipe(z(l=>l),Y(()=>this._service.createReply(r,a.targetOperators.join(","))),x(()=>this._read()),x(()=>this._messageBox.success("Commento creato"))).subscribe())}resetFilter(){this.hasFilterUnread=!1,this.selectedActivityTypeId=null,this.gridState.filter.filters=[],this._saveState(),this._read()}filterUnread(){this.hasFilterUnread=!0,this.gridState.filter.filters=[{field:"senderOperatorId",operator:"neq",value:this.currentOperator.id},{field:"isRead",operator:"eq",value:!1}],this._saveState(),this._read()}onActivityTypeChange(){this.gridState.filter.filters=this.hasFilterUnread?[{field:"activityTypeId",operator:"eq",value:this.selectedActivityTypeId},{field:"isRead",operator:"eq",value:!1}]:[{field:"activityTypeId",operator:"eq",value:this.selectedActivityTypeId}],this._saveState(),this._read()}_getUnreadCounter(){this._subscriptions.push(this._service.getUnreadCounter(this.currentOperator.id).pipe(x(e=>{this.unreadCounter=e})).subscribe())}_getActivityTypes(){this._subscriptions.push(this._activityTypesService.readActivityTypesList().pipe(x(e=>this.activityTypes=e)).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Sp),t.rXU(_m),t.rXU(_t),t.rXU(Ci),t.rXU(br),t.rXU(dr),t.rXU(Ma),t.rXU(_b),t.rXU(wh),t.rXU(Pr))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-messages-list"]],viewQuery:function(n,o){if(1&n&&(t.GBs(jmn,7),t.GBs(Hmn,7),t.GBs($mn,7),t.GBs(Xmn,7),t.GBs(Wmn,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.messageModal=r.first),t.mGM(r=t.lsd())&&(o.jobModal=r.first),t.mGM(r=t.lsd())&&(o.activityModal=r.first),t.mGM(r=t.lsd())&&(o.purchaseOrderModal=r.first),t.mGM(r=t.lsd())&&(o.ticketModal=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},features:[t.Vt3],decls:50,vars:37,consts:[["gridMenu",""],["messageModal",""],["jobModal",""],["activityModal",""],["purchaseOrderModal",""],["ticketModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"row"],[1,"col-md-3"],[1,"form-group"],["textField","name","valueField","id","name","typeId",3,"valueChange","ngModelChange","data","valuePrimitive","suggest","ngModel","kendoDropDownFilter","allowCustom"],[1,"col-6"],[1,"btn","btn-primary","me-2",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"],["key","jobId"],[1,"grid-container"],["id","messages-grid","filterable","menu","scrollable","none",3,"dataStateChange","cellClick","dblclick","data","pageSize","skip","sort","filter","group","sortable","pageable","rowClass"],["field","isRead","title"," ",3,"sortable","filterable","width"],["kendoGridCellTemplate",""],["field","date","title","Data Messaggio","filter","date","format","dd/MM/yyyy",3,"width"],["field","senderOperator","title","Mittente"],["field","customerName","title","Cliente",3,"width"],["field","jobCode","title","Comm.",3,"width"],["field","jobReference","title","Riferimento",3,"width"],["field","activityColor","title"," ","kendoTooltip","",1,"activity-color",3,"sortable","filterable"],["field","activityDescription","title","Attivit\xe0",3,"width"],["field","note","title","Messaggio"],["field","targetOperators","title"," ",3,"sortable","filterable","width"],["field","id","title"," ",3,"sortable","filterable","width"],[1,"d-flex","text-nowrap","gap-1"],["type","button","title","Segna come letto",1,"btn","btn-outline-primary","btn-sm","me-2",3,"click","disabled"],["class","fa-regular fa-square-check",4,"ngIf"],["class","fa-regular fa-square",4,"ngIf"],[1,"fa-regular","fa-square-check"],[1,"fa-regular","fa-square"],[1,"text-nowrap"],[4,"ngIf"],["class","job-alert",4,"ngIf"],[1,"job-alert"],["aria-hidden","true",1,"fa","fa-exclamation-triangle"],[3,"title"],[3,"innerHTML"],[2,"text-align","center"],["title","Sorgente commento"],[1,"fas","fa-users",3,"title"],["type","button","title","Modifica",1,"btn","btn-outline-primary","btn-sm","me-2",3,"click","disabled"],[1,"fas","fa-edit"],["title","Rispondi",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"fas","fa-reply"],["title","Rispondi a tutti",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"fas","fa-reply-all"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"h4"),t.EFF(3,"Commenti"),t.k0s()()(),t.j41(4,"div",8)(5,"div",9)(6,"label"),t.EFF(7,"Tipo Attivit\xe0"),t.k0s(),t.j41(8,"div",10)(9,"kendo-combobox",11),t.bIt("valueChange",function(){return t.eBV(r),t.Njj(o.onActivityTypeChange())}),t.mxI("ngModelChange",function(l){return t.eBV(r),t.DH7(o.selectedActivityTypeId,l)||(o.selectedActivityTypeId=l),t.Njj(l)}),t.k0s()()(),t.j41(10,"div",12)(11,"label"),t.EFF(12,"Filtri"),t.k0s(),t.j41(13,"div",10)(14,"button",13),t.bIt("click",function(){return t.eBV(r),t.Njj(o.filterUnread())}),t.EFF(15),t.k0s(),t.j41(16,"button",14),t.bIt("click",function(){return t.eBV(r),t.Njj(o.resetFilter())}),t.EFF(17,"Visualizza Tutti"),t.k0s()()()(),t.nrm(18,"app-grid-context-menu",15,0),t.j41(20,"div",16)(21,"kendo-grid",17),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))})("cellClick",function(l){return t.eBV(r),t.Njj(o.cellClickHandler(l))})("dblclick",function(){return t.eBV(r),t.Njj(o.onDblClick())})("cellClick",function(l){t.eBV(r);const c=t.sdS(19);return t.Njj(c.onCellClick(l))}),t.j41(22,"kendo-grid-column",18),t.DNE(23,qmn,4,3,"ng-template",19),t.k0s(),t.j41(24,"kendo-grid-column",20),t.DNE(25,Qmn,3,4,"ng-template",19),t.k0s(),t.nrm(26,"kendo-grid-column",21)(27,"kendo-grid-column",22),t.j41(28,"kendo-grid-column",23),t.DNE(29,t_n,2,2,"ng-template",19),t.k0s(),t.nrm(30,"kendo-grid-column",24),t.j41(31,"kendo-grid-column",25),t.DNE(32,n_n,2,3,"ng-template",19),t.k0s(),t.nrm(33,"kendo-grid-column",26),t.j41(34,"kendo-grid-column",27),t.DNE(35,i_n,2,3,"ng-template",19),t.k0s(),t.j41(36,"kendo-grid-column",28),t.DNE(37,s_n,4,2,"ng-template",19),t.k0s(),t.j41(38,"kendo-grid-column",29),t.DNE(39,o_n,7,1,"ng-template",19),t.k0s()()(),t.nrm(40,"app-message-modal",null,1)(42,"app-job-modal",null,2)(44,"app-activity-modal",null,3)(46,"app-purchase-order-modal",null,4)(48,"app-ticket-modal",null,5)}2&n&&(t.R7$(9),t.Y8G("data",o.activityTypes)("valuePrimitive",!0)("suggest",!0),t.R50("ngModel",o.selectedActivityTypeId),t.Y8G("kendoDropDownFilter",t.lJ4(36,Ymn))("allowCustom",!1),t.R7$(5),t.Y8G("disabled",o.hasFilterUnread),t.R7$(),t.SpI("Da leggere (",o.unreadCounter,")"),t.R7$(),t.Y8G("disabled",!o.hasFilter),t.R7$(5),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!0)("rowClass",o.rowCallback),t.R7$(),t.Y8G("sortable",!1)("filterable",!1)("width",1),t.R7$(2),t.Y8G("width",1),t.R7$(3),t.Y8G("width",100),t.R7$(),t.Y8G("width",1),t.R7$(2),t.Y8G("width",250),t.R7$(),t.Y8G("sortable",!1)("filterable",!1),t.R7$(2),t.Y8G("width",250),t.R7$(3),t.Y8G("sortable",!1)("filterable",!1)("width",1),t.R7$(2),t.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[W,Un,mi,Nn,yn,qn,Wu,go,Fp,Bp,Bm,Mde,JS,HO,fd,xi,sa],encapsulation:2})}return s})();const a_n=["jobModal"],l_n=["grid"],Ade=s=>({"progress-hide":s});function c_n(s,i){1&s&&(t.EFF(0),t.nI1(1,"date")),2&s&&t.SpI(" ",t.i5U(1,1,i.$implicit.jobDate,"dd/MM/yyyy")," ")}function d_n(s,i){if(1&s&&t.nrm(0,"app-multiselect-grid-column-filter",17),2&s){const e=i.column,n=i.filter,o=i.filterService,r=t.XpG();t.Y8G("column",e)("filter",n)("filterService",o)("data",r.jobStatusNames)}}function u_n(s,i){if(1&s&&(t.j41(0,"span",18),t.EFF(1),t.nI1(2,"jobStatus"),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.jobStatus)," ")}}function h_n(s,i){if(1&s&&(t.j41(0,"div",19)(1,"div",20),t.EFF(2),t.k0s()()),2&s){const e=i.$implicit;t.FCK("title","Attivit\xe0 evase ",e.activities_completed," / ",e.activities_list,""),t.Y8G("ngClass",t.eq3(7,Ade,-1==e.activities_progress)),t.R7$(),t.xc7("width",e.activities_progress,"%"),t.R7$(),t.SpI("",e.activities_progress,"%")}}function p_n(s,i){if(1&s&&(t.j41(0,"div",19)(1,"div",20),t.EFF(2),t.k0s()()),2&s){const e=i.$implicit;t.FCK("title","Interventi evasi ",e.interventions_completed," / ",e.interventions_list,""),t.Y8G("ngClass",t.eq3(7,Ade,-1==e.interventions_progress)),t.R7$(),t.xc7("width",e.interventions_progress,"%"),t.R7$(),t.SpI("",e.interventions_progress,"%")}}function f_n(s,i){if(1&s&&(t.j41(0,"div",19)(1,"div",20),t.EFF(2),t.k0s()()),2&s){const e=i.$implicit;t.FCK("title","Ordini evasi ",e.purchaseOrders_completed," / ",e.purchaseOrders_list,""),t.Y8G("ngClass",t.eq3(7,Ade,-1==e.purchaseOrders_progress)),t.R7$(),t.xc7("width",e.purchaseOrders_progress,"%"),t.R7$(),t.SpI("",e.purchaseOrders_progress,"%")}}let m_n=(()=>{class s extends It{constructor(e,n,o){super(),this._service=e,this.router=n,this._storageService=o,this.gridState={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[{field:"jobDate",dir:"desc"},{field:"jobCode",dir:"desc"}]},this.jobStatusNames=gO,this.rowCallback=r=>{const a=r.dataItem;switch(!0){case a.jobStatus===fn.Completed:return{"job-completed":!0};case a.jobStatus===fn.InProgress:return{"job-inprogress":!0};case a.jobStatus===fn.Pending:return{"job-pending":!0};case a.jobStatus===fn.Billing:return{"job-billing":!0};case a.jobStatus===fn.Billed:return{"job-billed":!0};case a.jobStatus===fn.Suspended:return{"job-suspended":!0};default:return{}}}}ngOnInit(){this._resumeState(),this._read(),this.updateScreenSize()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}dataStateChange(e){this.gridState=e,this._saveState(),this._read()}_resumeState(){const e=this._storageService.get(window.location.hash,!0);null!=e&&(this.gridState=e)}_saveState(){this._storageService.save(this.gridState,window.location.hash,!0)}_read(){this._subscriptions.push(this._service.getJobsProgressStatus(this.gridState).pipe(x(e=>this.data=e)).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(dr),t.rXU(Qi),t.rXU(Pr))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-jobs-progress-status"]],viewQuery:function(n,o){if(1&n&&(t.GBs(a_n,7),t.GBs(l_n,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.jobModal=r.first),t.mGM(r=t.lsd())&&(o.grid=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},features:[t.Vt3],decls:24,vars:14,consts:[["gridMenu",""],["jobModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],["key","jobId"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","cellClick","data","pageSize","skip","sort","filter","group","sortable","pageable","rowClass"],["field","jobDate","title","Data","filter","date",3,"width"],["kendoGridCellTemplate",""],["field","jobCode","title","Cod.",3,"width"],["field","customerName","title","Cliente"],["field","jobReference","title","Riferimento"],["field","jobStatus","title","Stato","filter","numeric",1,"job-status",3,"width"],["kendoGridFilterMenuTemplate",""],["field","activities_progress","title","Attivit\xe0","width","250"],["field","interventions_progress","title","Interventi","width","250"],["field","purchaseOrders_progress","title","Ordini Acquisto","width","250"],[3,"column","filter","filterService","data"],[1,"text-nowrap"],["kendoTooltip","",1,"progress-container",3,"ngClass","title"],[1,"progress-bar"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"h4"),t.EFF(3,"Stato Avanzamento Commesse"),t.k0s()()(),t.nrm(4,"app-grid-context-menu",4,0),t.j41(6,"div",5)(7,"kendo-grid",6),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))})("cellClick",function(l){t.eBV(r);const c=t.sdS(5);return t.Njj(c.onCellClick(l))}),t.j41(8,"kendo-grid-column",7),t.DNE(9,c_n,2,4,"ng-template",8),t.k0s(),t.nrm(10,"kendo-grid-column",9)(11,"kendo-grid-column",10)(12,"kendo-grid-column",11),t.j41(13,"kendo-grid-column",12),t.DNE(14,d_n,1,4,"ng-template",13)(15,u_n,3,3,"ng-template",8),t.k0s(),t.j41(16,"kendo-grid-column",14),t.DNE(17,h_n,3,9,"ng-template",8),t.k0s(),t.j41(18,"kendo-grid-column",15),t.DNE(19,p_n,3,9,"ng-template",8),t.k0s(),t.j41(20,"kendo-grid-column",16),t.DNE(21,f_n,3,9,"ng-template",8),t.k0s()()(),t.nrm(22,"app-job-modal",null,1)}2&n&&(t.R7$(7),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!0)("rowClass",o.rowCallback),t.R7$(),t.Y8G("width",1),t.R7$(2),t.Y8G("width",1),t.R7$(3),t.Y8G("width",1))},dependencies:[Pe,Nn,yn,qn,ac,Fp,Bp,Dh,fd,xi,Up],encapsulation:2})}return s})();class __n{constructor(){this.id=null,this.operatorId=null}}let eBe=(()=>{class s{constructor(e){this._http=e,this._baseUrl=`${At.baseApiUrl}/notificationOperators`}read(e){return Ta(this._http,e,`${this._baseUrl}`)}get(e){return this._http.get(`${this._baseUrl}/${e}`).pipe((0,U.T)(n=>n))}create(e){return this._http.post(this._baseUrl,e).pipe((0,U.T)(n=>n))}update(e){return this._http.put(`${this._baseUrl}/${e.id}`,e).pipe((0,U.T)(n=>n))}delete(e){return this._http.delete(`${this._baseUrl}/${e}`).pipe((0,U.T)(()=>{}))}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(js))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();function g_n(s,i){1&s&&t.nrm(0,"div",3)}function v_n(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",4)(1,"kendo-window",5),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.mxI("stateChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.windowState,o)||(r.windowState=o),t.Njj(o)}),t.j41(2,"kendo-window-titlebar")(3,"div",6),t.EFF(4," Operatore Notifica "),t.k0s(),t.j41(5,"div",7)(6,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",9),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",11),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",12)(13,"button",13)(14,"button",14)(15,"button",15),t.k0s(),t.j41(16,"form",16,0),t.bIt("submit",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.j41(18,"div",17)(19,"div",18)(20,"label"),t.EFF(21,"Operatore"),t.k0s(),t.j41(22,"div",19)(23,"kendo-combobox",20),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG();return t.DH7(r.options.operatorId,o)||(r.options.operatorId=o),t.Njj(o)}),t.k0s(),t.nrm(24,"div",21),t.k0s()()(),t.j41(25,"div",22)(26,"button",23),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(27,"i",9),t.EFF(28," ANNULLA "),t.k0s(),t.j41(29,"button",24),t.nrm(30,"i",11),t.EFF(31," SALVA "),t.k0s()()()()()}if(2&s){const e=t.sdS(17),n=t.XpG();t.R7$(),t.Y8G("resizable",!0)("draggable",!0)("top",30),t.R50("state",n.windowState),t.R7$(22),t.Y8G("data",n.operators)("valuePrimitive",!0),t.R50("ngModel",n.options.operatorId),t.Y8G("suggest",!0)("allowCustom",!1),t.R7$(),t.Y8G("control",e.controls.operatorId)}}let S_n=(()=>{class s extends As{constructor(e,n){super(e),this._operatorsService=n,this._baseUrl=`${At.baseApiUrl}/notificationOperators`}ngOnInit(){this._getOperators()}open(e){return super.open(e)}_canClose(){return this.form.markAsDirty(),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi."),this.form.valid}_getOperators(){this._subscriptions.push(this._operatorsService.readOperators({sort:[{field:"name",dir:"asc"}]}).pipe(x(n=>this.operators=n.data)).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(_t),t.rXU(br))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-notificationOperator-modal"]],features:[t.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","stateChange","resizable","draggable","top","state"],[1,"k-window-title"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowMinimizeAction",""],["kendoWindowRestoreAction",""],["kendoWindowMaximizeAction",""],["kendoWindowCloseAction",""],["name","ticket-modal-form","novalidate","","autocomplete","off",1,"redimensionModal",3,"submit"],[1,"row"],[1,"col-md-7"],[1,"form-group"],["textField","name","valueField","id","name","operatorId","required","",3,"ngModelChange","data","valuePrimitive","ngModel","suggest","allowCustom"],[1,"validation-message",3,"control"],[1,"d-flex","justify-content-end","gap-2","mt-5"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary"]],template:function(n,o){1&n&&t.DNE(0,g_n,1,0,"div",1)(1,v_n,32,10,"div",2),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[W,Fi,Un,Pi,ts,mi,Mi,ni,li,Ld,Gd,Pd,Wn,go,cr],encapsulation:2})}return s})();const C_n=["notificationOperatorModal"],b_n=["grid"];function E_n(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",13)(1,"button",14),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.edit(o))}),t.nrm(2,"i",15),t.k0s(),t.j41(3,"button",16),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.askRemove(o))}),t.nrm(4,"i",17),t.k0s()()}}let y_n=(()=>{class s extends It{constructor(e,n){super(),this._service=e,this._messageBox=n,this.gridState={skip:0,take:30,group:[]},this.expandedDetailKeys=new Array}ngOnInit(){this.updateScreenSize(),this._read()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}dataStateChange(e){this.gridState=e,this._read()}create(){const e=new __n;this._subscriptions.push(this.notificationOperatorModal.open(e).pipe(z(n=>n),Y(()=>this._service.create(e)),x(n=>this._read())).subscribe())}edit(e){this._subscriptions.push(this._service.get(e.id).pipe(Y(n=>this.notificationOperatorModal.open(n)),z(n=>n),Y(()=>this._service.update(this.notificationOperatorModal.options)),x(n=>this._read())).subscribe())}onDblClick(){this.cellArgs.isEdited||this._subscriptions.push(this._service.get(this.cellArgs.dataItem.id).pipe(Y(e=>this.notificationOperatorModal.open(e)),Y(()=>this._service.update(this.notificationOperatorModal.options)),x(e=>this._read())).subscribe())}cellClickHandler(e){this.cellArgs=e}askRemove(e){this._subscriptions.push(this._messageBox.confirm(`Sei sicuro di voler rimuovere l'operatore ${e.operatorName}?`,"Attenzione").pipe(z(o=>o),Y(()=>this._service.delete(e.id)),x(()=>this._read())).subscribe())}_read(){this._subscriptions.push(this._service.read(this.gridState).pipe(x(e=>this.data=e)).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(eBe),t.rXU(_t))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-notificationOperators"]],viewQuery:function(n,o){if(1&n&&(t.GBs(C_n,7),t.GBs(b_n,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.notificationOperatorModal=r.first),t.mGM(r=t.lsd())&&(o.grid=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},features:[t.Vt3],decls:17,vars:13,consts:[["gridMenu",""],["notificationOperatorModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],["key","jobId"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","cellClick","dblclick","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","operatorName","title","Operatore"],["field","id","title"," ",3,"sortable","filterable","width"],["kendoGridCellTemplate",""],[1,"d-flex","text-nowrap","gap-1"],["title","Modifica",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-edit"],["title","Rimuovi",1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"h4"),t.EFF(3,"Operatori Notifica"),t.k0s()(),t.j41(4,"div",4)(5,"button",5),t.bIt("click",function(){return t.eBV(r),t.Njj(o.create())}),t.nrm(6,"i",6),t.EFF(7," NUOVO "),t.k0s()()(),t.nrm(8,"app-grid-context-menu",7,0),t.j41(10,"div",8)(11,"kendo-grid",9),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))})("cellClick",function(l){return t.eBV(r),t.Njj(o.cellClickHandler(l))})("dblclick",function(){return t.eBV(r),t.Njj(o.onDblClick())})("cellClick",function(l){t.eBV(r);const c=t.sdS(9);return t.Njj(c.onCellClick(l))}),t.nrm(12,"kendo-grid-column",10),t.j41(13,"kendo-grid-column",11),t.DNE(14,E_n,5,0,"ng-template",12),t.k0s()()(),t.nrm(15,"app-notificationOperator-modal",null,1)}2&n&&(t.R7$(11),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!0),t.R7$(2),t.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[Nn,yn,qn,fd,S_n],encapsulation:2})}return s})();class EE{constructor(i,e){this.id=i,this.type=e}static build(i){return new EE(i.id,i.type)}}class D6{constructor(){this.id=0,this.helperTypeId=null,this.description=null,this.fileName=null}}let Rde=(()=>{class s{constructor(e){this._http=e,this._baseUrl=`${At.baseApiUrl}/helperTypes`}read(e){return Ta(this._http,e,`${this._baseUrl}`)}get(e){return this._http.get(`${this._baseUrl}/${e}`).pipe((0,U.T)(n=>EE.build(n)))}create(e){return this._http.post(this._baseUrl,e).pipe((0,U.T)(n=>EE.build(n)))}update(e){return this._http.put(`${this._baseUrl}/${e.id}`,e).pipe((0,U.T)(n=>EE.build(n)))}delete(e){return this._http.delete(`${this._baseUrl}/${e}`).pipe((0,U.T)(()=>{}))}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(js))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();function k_n(s,i){1&s&&t.nrm(0,"div",3)}function w_n(s,i){if(1&s){const e=t.RV6();t.j41(0,"form",14,0),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.close())}),t.j41(2,"div",15)(3,"div",16)(4,"kendo-formfield",17)(5,"label"),t.EFF(6,"Tipo"),t.k0s(),t.j41(7,"kendo-textbox",18),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.type,o)||(r.options.type=o),t.Njj(o)}),t.k0s(),t.j41(8,"kendo-formerror"),t.EFF(9,"Tipo \xe8 un campo obbligatorio"),t.k0s()()()(),t.j41(10,"div",19)(11,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.dismiss())}),t.nrm(12,"i",9),t.EFF(13," ANNULLA "),t.k0s(),t.j41(14,"button",20),t.nrm(15,"i",11),t.EFF(16," SALVA "),t.k0s()()()}if(2&s){const e=t.XpG(2);t.R7$(7),t.R50("ngModel",e.options.type)}}function D_n(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",4)(1,"kendo-window",5),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",6),t.EFF(4," Tipologia Guida "),t.k0s(),t.j41(5,"div",7)(6,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",9),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",11),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",12),t.k0s(),t.DNE(13,w_n,17,1,"form",13),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("top",100),t.R7$(12),t.Y8G("ngIf",e.options)}}let O_n=(()=>{class s extends As{constructor(e){super(e),this.role=Pt}_canClose(){return Xr(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid??!1}loadData(){}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(_t))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-helperType-modal"]],features:[t.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowCloseAction",""],["name","updateActivityTypeForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateActivityTypeForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row","riga-form"],[1,"col-md-12"],[1,"form-group"],["name","type","required","",3,"ngModelChange","ngModel"],[1,"text-right","mt-5"],["type","submit",1,"btn","btn-primary"]],template:function(n,o){1&n&&t.DNE(0,k_n,1,0,"div",1)(1,D_n,14,4,"div",2),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[W,Fi,Un,Pi,ts,mi,Mi,ni,li,Wn,Jl,Xc,vr],encapsulation:2})}return s})();const T_n=["helperTypeModal"];function M_n(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",11),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.editHelperType(o))}),t.nrm(1,"i",12),t.k0s(),t.j41(2,"button",13),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.deleteHelperType(o))}),t.nrm(3,"i",14),t.k0s()}}let I_n=(()=>{class s extends It{constructor(e,n){super(),this._service=e,this._messageBox=n,this.stateGridHelperTypes={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[]}}ngOnInit(){this._readHelperTypes(),this.updateScreenSize()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}dataStateChange(e){this.stateGridHelperTypes=e,this._readHelperTypes()}_readHelperTypes(){this._subscriptions.push(this._service.read(this.stateGridHelperTypes).pipe(x(e=>{this.dataHelperTypes=e})).subscribe())}createHelperType(){const e=new EE(0,null);this._subscriptions.push(this.helperTypeModal.open(e).pipe(z(n=>n),Y(()=>this._service.create(e)),x(n=>{this._messageBox.success(`Tipo ${e.type} creato`)}),x(()=>this._readHelperTypes())).subscribe())}editHelperType(e){this._subscriptions.push(this._service.get(e.id).pipe((0,U.T)(n=>Object.assign(new EE(n.id,n.type),n)),Y(n=>this.helperTypeModal.open(n)),z(n=>n),(0,U.T)(()=>this.helperTypeModal.options),Y(n=>this._service.update(n)),x(n=>this._messageBox.success(`Tipo ${n.type} aggiornato`)),x(()=>this._readHelperTypes())).subscribe())}deleteHelperType(e){this._messageBox.info("Eliminazione elemento non attiva"),this._messageBox.confirm(`Sei sicuro di voler cancellare il tipo ${e.type}?`,"Conferma l'azione").subscribe(n=>{1==n&&this._subscriptions.push(this._service.delete(e.id).pipe(x(o=>this._messageBox.success(`Tipo ${e.type} cancellato con successo`)),x(()=>this._readHelperTypes())).subscribe())})}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Rde),t.rXU(_t))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-helpertypes"]],viewQuery:function(n,o){if(1&n&&t.GBs(T_n,7),2&n){let r;t.mGM(r=t.lsd())&&(o.helperTypeModal=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},features:[t.Vt3],decls:15,vars:13,consts:[["helperTypeModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","type","title","Tipo"],["field","id","title"," ",3,"sortable","filterable","width"],["kendoGridCellTemplate",""],["title","Modifica",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["title","Elimina",1,"btn","btn-danger","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-trash"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h4"),t.EFF(3,"Tipologie Guide"),t.k0s()(),t.j41(4,"div",3)(5,"button",4),t.bIt("click",function(){return t.eBV(r),t.Njj(o.createHelperType())}),t.nrm(6,"i",5),t.EFF(7," NUOVO "),t.k0s()()(),t.j41(8,"div",6)(9,"kendo-grid",7),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))}),t.nrm(10,"kendo-grid-column",8),t.j41(11,"kendo-grid-column",9),t.DNE(12,M_n,4,0,"ng-template",10),t.k0s()()(),t.nrm(13,"app-helperType-modal",null,0)}2&n&&(t.R7$(9),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.dataHelperTypes)("pageSize",o.stateGridHelperTypes.take)("skip",o.stateGridHelperTypes.skip)("sort",o.stateGridHelperTypes.sort)("filter",o.stateGridHelperTypes.filter)("group",o.stateGridHelperTypes.group)("sortable",!0)("pageable",!0),t.R7$(2),t.Y8G("sortable",!1)("filterable",!1)("width",95))},dependencies:[Nn,yn,qn,O_n],encapsulation:2})}return s})(),tBe=(()=>{class s{constructor(e){this._http=e,this._baseUrl=`${At.baseApiUrl}/helperDocuments`}read(e){return Ta(this._http,e,`${this._baseUrl}`)}get(e){return this._http.get(`${this._baseUrl}/${e}`).pipe((0,U.T)(n=>Object.assign(new D6,n)))}create(e){return this._http.post(this._baseUrl,e).pipe((0,U.T)(n=>Object.assign(new D6,n)))}update(e){return this._http.put(`${this._baseUrl}/${e.id}`,e).pipe((0,U.T)(n=>Object.assign(new D6,n)))}delete(e){return this._http.delete(`${this._baseUrl}/${e}`).pipe((0,U.T)(()=>{}))}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(js))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();const x_n=()=>({caseSensitive:!1,operator:"contains"});function A_n(s,i){1&s&&t.nrm(0,"div",3)}function R_n(s,i){if(1&s){const e=t.RV6();t.j41(0,"form",14,0),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.close())}),t.j41(2,"div",15)(3,"div",16)(4,"kendo-formfield",17)(5,"label"),t.EFF(6,"Tipo"),t.k0s(),t.j41(7,"kendo-combobox",18),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.helperTypeId,o)||(r.options.helperTypeId=o),t.Njj(o)}),t.bIt("valueChange",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.onActivityTypeChange())}),t.k0s(),t.nrm(8,"div",19),t.k0s()(),t.j41(9,"div",20)(10,"kendo-formfield",17)(11,"label"),t.EFF(12,"Descrizione"),t.k0s(),t.j41(13,"kendo-textbox",21),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.description,o)||(r.options.description=o),t.Njj(o)}),t.k0s(),t.j41(14,"kendo-formerror"),t.EFF(15,"Descrizione \xe8 un campo obbligatorio"),t.k0s()()()(),t.j41(16,"div",15)(17,"div",22)(18,"kendo-formfield",17)(19,"label"),t.EFF(20),t.k0s(),t.j41(21,"kendo-upload",23),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.attachmentsFileInfo,o)||(r.attachmentsFileInfo=o),t.Njj(o)}),t.bIt("success",function(o){t.eBV(e);const r=t.XpG(2);return t.Njj(r.ImageExecutionSuccess(o))}),t.k0s(),t.nrm(22,"kendo-upload-messages",24),t.k0s()()(),t.j41(23,"div",25)(24,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.dismiss())}),t.nrm(25,"i",9),t.EFF(26," ANNULLA "),t.k0s(),t.j41(27,"button",26),t.nrm(28,"i",11),t.EFF(29," SALVA "),t.k0s()()()}if(2&s){const e=t.sdS(1),n=t.XpG(2);t.R7$(7),t.Y8G("data",n.helperTypes)("valuePrimitive",!0),t.R50("ngModel",n.options.helperTypeId),t.Y8G("suggest",!0)("kendoDropDownFilter",t.lJ4(12,x_n))("allowCustom",!1),t.R7$(),t.Y8G("control",e.controls.helperTypeId),t.R7$(5),t.R50("ngModel",n.options.description),t.R7$(7),t.JRh(n.imageLabel),t.R7$(),t.R50("ngModel",n.attachmentsFileInfo),t.Y8G("saveUrl",n.uploadSaveUrl)("removeUrl",n.uploadRemoveUrl)}}function N_n(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",4)(1,"kendo-window",5),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",6),t.EFF(4," Guide utili "),t.k0s(),t.j41(5,"div",7)(6,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",9),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",11),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",12),t.k0s(),t.DNE(13,R_n,30,13,"form",13),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("top",100),t.R7$(12),t.Y8G("ngIf",e.options)}}let L_n=(()=>{class s extends As{constructor(e,n){super(n),this._helperTypesService=e,this.role=Pt,this._baseUrl=`${At.baseApiUrl}/helperDocuments`,this.uploadSaveUrl=`${this._baseUrl}/document/upload-file`,this.uploadRemoveUrl=`${this._baseUrl}/document/remove-file`,this.pathDocument=`${At.baseUrl}/attachments/`,this.attachmentsUploads=[],this.isUploaded=[]}ngOnInit(){this._getHelperTypes()}_canClose(){return Xr(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid??!1}_getHelperTypes(){this._subscriptions.push(this._helperTypesService.read({sort:[{field:"type",dir:"asc"}]}).pipe(x(n=>this.helperTypes=n.data)).subscribe())}ImageExecutionSuccess(e){const n=e.response.body;if(null!=n)this.options.fileName=n.fileName,this.isUploaded.push(!0);else{const o=e.files[0].name,r=this.attachmentsUploads.findIndex(a=>a.originalFileName==o);r>-1&&(this.attachmentsUploads.splice(r,1),this.isUploaded.pop())}}loadData(){this.attachmentsFileInfo=null,this.imageLabel=null!=this.options&&null!=this.options.fileName?"Cambia documento":"Documento"}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Rde),t.rXU(_t))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-helperDocument-modal"]],features:[t.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowCloseAction",""],["name","updateActivityTypeForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateActivityTypeForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row","riga-form"],[1,"col-md-4"],[1,"form-group"],["textField","type","valueField","id","name","helperTypeId","required","",3,"ngModelChange","valueChange","data","valuePrimitive","ngModel","suggest","kendoDropDownFilter","allowCustom"],[1,"validation-message",3,"control"],[1,"col-md-8"],["name","description","required","",3,"ngModelChange","ngModel"],[1,"col-md-6"],["name","myUpload",3,"ngModelChange","success","ngModel","saveUrl","removeUrl"],["dropFilesHere"," "],[1,"text-right","mt-5"],["type","submit",1,"btn","btn-primary"]],template:function(n,o){1&n&&t.DNE(0,A_n,1,0,"div",1)(1,N_n,14,4,"div",2),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[W,Fi,Un,Pi,ts,mi,Mi,ni,li,Wn,Wu,go,Jl,Xc,vr,yg,Cp,cr],encapsulation:2})}return s})();const G_n=["helperDocumentModal"];function P_n(s,i){if(1&s&&(t.j41(0,"a",13),t.nrm(1,"i",14),t.EFF(2," Visualizza"),t.k0s()),2&s){const e=i.$implicit,n=t.XpG();t.Y8G("href",n.pathDocument+e.fileName,t.B4B)}}function F_n(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",16),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.editHelperDocument(o))}),t.nrm(1,"i",17),t.k0s(),t.j41(2,"button",18),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.deleteHelperDocument(o))}),t.nrm(3,"i",19),t.k0s()}}function U_n(s,i){1&s&&(t.j41(0,"kendo-grid-column",15),t.DNE(1,F_n,4,0,"ng-template",11),t.k0s()),2&s&&t.Y8G("sortable",!1)("filterable",!1)("width",95)}let B_n=(()=>{class s extends It{constructor(e,n,o){super(),this.security=e,this._service=n,this._messageBox=o,this.stateGridHelperDocuments={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[{field:"helperTypeName",dir:"asc"}]},this.isAdmin=!1,this.pathDocument=`${At.baseUrl}/attachments/`}ngOnInit(){this._readHelperDocuments(),this.updateScreenSize(),this.isAdmin=this.security.isAuthorized(Pt.Administrator)}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}dataStateChange(e){this.stateGridHelperDocuments=e,this._readHelperDocuments()}_readHelperDocuments(){this._subscriptions.push(this._service.read(this.stateGridHelperDocuments).pipe(x(e=>{this.dataHelperDocuments=e})).subscribe())}createHelperDocument(){const e=new D6;this._subscriptions.push(this.helperDocumentModal.open(e).pipe(z(n=>n),Y(()=>this._service.create(e)),x(n=>{this._messageBox.success("Guida creata")}),x(()=>this._readHelperDocuments())).subscribe())}editHelperDocument(e){this._subscriptions.push(this._service.get(e.id).pipe((0,U.T)(n=>Object.assign(new D6,n)),Y(n=>this.helperDocumentModal.open(n)),z(n=>n),(0,U.T)(()=>this.helperDocumentModal.options),Y(n=>this._service.update(n)),x(n=>this._messageBox.success("Guida aggiornata")),x(()=>this._readHelperDocuments())).subscribe())}deleteHelperDocument(e){this._messageBox.info("Eliminazione elemento non attiva"),this._messageBox.confirm("Sei sicuro di voler cancellare la guida selezionata?","Conferma l'azione").subscribe(n=>{1==n&&this._subscriptions.push(this._service.delete(e.id).pipe(x(o=>this._messageBox.success("Guida cancellato con successo")),x(()=>this._readHelperDocuments())).subscribe())})}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(mr),t.rXU(tBe),t.rXU(_t))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-helperdocuments"]],viewQuery:function(n,o){if(1&n&&t.GBs(G_n,7),2&n){let r;t.mGM(r=t.lsd())&&(o.helperDocumentModal=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},features:[t.Vt3],decls:17,vars:11,consts:[["helperDocumentModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","helperTypeName","title","Tipo"],["field","description","title","Descrizione"],["field","fileName","title","Guida"],["kendoGridCellTemplate",""],["field","id","title"," ",3,"sortable","filterable","width",4,"ngIf"],["target","_blank",3,"href"],[1,"fas","fa-file"],["field","id","title"," ",3,"sortable","filterable","width"],["title","Modifica",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["title","Elimina",1,"btn","btn-danger","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-trash"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h4"),t.EFF(3,"Guide Utili"),t.k0s()(),t.j41(4,"div",3)(5,"button",4),t.bIt("click",function(){return t.eBV(r),t.Njj(o.createHelperDocument())}),t.nrm(6,"i",5),t.EFF(7," NUOVO "),t.k0s()()(),t.j41(8,"div",6)(9,"kendo-grid",7),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))}),t.nrm(10,"kendo-grid-column",8)(11,"kendo-grid-column",9),t.j41(12,"kendo-grid-column",10),t.DNE(13,P_n,3,1,"ng-template",11),t.k0s(),t.DNE(14,U_n,2,3,"kendo-grid-column",12),t.k0s()(),t.nrm(15,"app-helperDocument-modal",null,0)}2&n&&(t.R7$(9),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.dataHelperDocuments)("pageSize",o.stateGridHelperDocuments.take)("skip",o.stateGridHelperDocuments.skip)("sort",o.stateGridHelperDocuments.sort)("filter",o.stateGridHelperDocuments.filter)("group",o.stateGridHelperDocuments.group)("sortable",!0)("pageable",!0),t.R7$(5),t.Y8G("ngIf",o.isAdmin))},dependencies:[W,Nn,yn,qn,L_n],encapsulation:2})}return s})();const V_n=["jobModal"],z_n=["activityModal"],j_n=["purchaseOrderModal"],H_n=["grid"],$_n=["jobsAttachmentsModal"],X_n=["customerModal"],W_n=()=>["/job-details"],Gj=s=>({jobId:s}),Y_n=()=>["/purchase-orders"],K_n=()=>["/interventions-list"],J_n=()=>["/tickets"];function q_n(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",27),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.exportToExcel())}),t.EFF(1," Esporta in Excel "),t.k0s()}}function Q_n(s,i){1&s&&(t.EFF(0),t.nI1(1,"date")),2&s&&t.SpI(" ",t.i5U(1,1,i.$implicit.date,"dd/MM/yyyy")," ")}function Z_n(s,i){1&s&&(t.EFF(0),t.nI1(1,"date")),2&s&&t.SpI(" ",t.i5U(1,1,i.$implicit.expirationDate,"dd/MM/yyyy")," ")}function egn(s,i){if(1&s){const e=t.RV6();t.j41(0,"a",28),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.openCustomer(o.customerId))}),t.EFF(1),t.k0s(),t.nrm(2,"br")}if(2&s){const e=i.$implicit;t.R7$(),t.JRh(e.customer)}}function tgn(s,i){if(1&s&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.JRh(e.code)}}function ngn(s,i){if(1&s&&(t.j41(0,"div",31),t.EFF(1),t.nrm(2,"i",32),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.code," ")}}function ign(s,i){if(1&s&&t.DNE(0,tgn,2,1,"div",29)(1,ngn,3,1,"div",30),2&s){const e=i.$implicit;t.Y8G("ngIf",!e.hasHighPriority),t.R7$(),t.Y8G("ngIf",e.hasHighPriority)}}function sgn(s,i){if(1&s&&t.nrm(0,"app-multiselect-grid-column-filter",33),2&s){const e=i.column,n=i.filter,o=i.filterService,r=t.XpG();t.Y8G("column",e)("filter",n)("filterService",o)("data",r.jobStatusNames)}}function ogn(s,i){if(1&s&&(t.j41(0,"span",34),t.EFF(1),t.nI1(2,"jobStatus"),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.status)," ")}}function rgn(s,i){1&s&&(t.nrm(0,"div",35),t.nI1(1,"domsanitizer")),2&s&&t.Y8G("innerHTML",t.bMT(1,1,i.$implicit.description),t.npT)}function agn(s,i){1&s&&t.nrm(0,"img",36)}function lgn(s,i){1&s&&t.DNE(0,agn,1,0,"img",36),2&s&&t.vxM(0,i.$implicit.hasSharepoint?0:-1)}function cgn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",38)(1,"a",28),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,r=t.XpG();return t.Njj(r.edit(o))}),t.nrm(2,"i",39),t.j41(3,"span",31),t.EFF(4),t.k0s()()()}if(2&s){const e=t.XpG().$implicit;t.R7$(4),t.SpI(" ",e.unreadMessages,"")}}function dgn(s,i){1&s&&t.DNE(0,cgn,5,1,"div",37),2&s&&t.Y8G("ngIf",i.$implicit.unreadMessages)}function ugn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",40)(1,"div",41)(2,"button",42),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.edit(o))}),t.nrm(3,"i",43),t.k0s(),t.j41(4,"button",44),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.createActivity(o))}),t.nrm(5,"i",45),t.k0s(),t.j41(6,"a",46),t.nrm(7,"i",47),t.k0s(),t.j41(8,"button",48),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.openAttachments(o))}),t.nrm(9,"i",49),t.k0s()(),t.j41(10,"div",41)(11,"button",50),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.createPurchaseOrder(o))}),t.nrm(12,"i",51),t.k0s(),t.j41(13,"button",52),t.nrm(14,"i",53),t.k0s(),t.j41(15,"button",54),t.nrm(16,"i",55),t.k0s(),t.j41(17,"button",56),t.nrm(18,"i",57),t.k0s()()()}if(2&s){const e=i.$implicit;t.R7$(6),t.Y8G("routerLink",t.lJ4(13,W_n))("disabled",!e.hasActivities)("queryParams",t.eq3(14,Gj,e.id)),t.R7$(2),t.Y8G("disabled",!e.hasAttachments),t.R7$(5),t.Y8G("disabled",!e.hasPurchaseOrders)("routerLink",t.lJ4(16,Y_n))("queryParams",t.eq3(17,Gj,e.id)),t.R7$(2),t.Y8G("routerLink",t.lJ4(19,K_n))("disabled",!e.hasInterventions)("queryParams",t.eq3(20,Gj,e.id)),t.R7$(2),t.Y8G("routerLink",t.lJ4(22,J_n))("disabled",!e.hasActivities)("queryParams",t.eq3(23,Gj,e.id))}}let hgn=(()=>{class s extends It{constructor(e,n,o,r,a,l,c,u,f){super(),this._service=e,this._serviceActivity=n,this._purchaseOrdersService=o,this._customerService=r,this._user=a,this._operatorsService=l,this._messageBox=c,this.router=u,this._storageService=f,this.gridState={skip:0,take:30,filter:{filters:[{filters:[fn.Suspended].map(_=>({field:"status",operator:"eq",value:_})),logic:"or"}],logic:"and"},group:[],sort:[{field:"date",dir:"desc"},{field:"code",dir:"desc"}]},this.jobStatusNames=gO,this.rowCallback=_=>{const g=_.dataItem;switch(!0){case g.status===fn.Completed:return{"job-completed":!0};case g.status===fn.InProgress:return{"job-inprogress":!0};case g.status===fn.Pending:return{"job-pending":!0};case g.status===fn.Billing:return{"job-billing":!0};case g.status===fn.Billed:return{"job-billed":!0};case g.status===fn.Suspended:return{"job-suspended":!0};default:return{}}}}ngOnInit(){this._resumeState(),this._read(),this.user=this._user.getUser(),this._getCurrentOperator(this.user.id),this.updateScreenSize()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}dataStateChange(e){this.gridState=e,this._saveState(),this._read()}_resumeState(){const e=this._storageService.get(window.location.hash,!0);null!=e&&(this.gridState=e)}_saveState(){this._storageService.save(this.gridState,window.location.hash,!0)}create(){const e=new Date,n=new Dm(0,null,e.getFullYear(),e,null,null,null,null,!1,fn.Pending,null,null,null,null,null,[],[]);this._subscriptions.push(this.jobModal.open(n).pipe(z(o=>o),Y(()=>this._service.create(n)),x(o=>this._afterSaved(o))).subscribe())}edit(e){this._subscriptions.push(this._service.get(e.id).pipe(Y(n=>this.jobModal.open(n)),x(n=>!n&&this._read()),z(n=>n),Y(()=>this._service.update(this.jobModal.options)),x(n=>this._afterSaved(n))).subscribe())}onDblClick(){this.cellArgs.isEdited||this.router.navigate(["/job-details"],{queryParams:{jobId:this.cellArgs.dataItem.id}})}cellClickHandler(e){this.cellArgs=e}createActivity(e){const n=new ah(0,Vi.Pending,null,null,null,null,e.id,null,null,null,null,null,null,!1,"In attesa","In corso","Pronto","Completata",!1,!1,[],[]),o=new du(n);this._subscriptions.push(this.activityModal.open(o).pipe(z(r=>r),Y(()=>this._serviceActivity.create(n)),x(()=>this._afterActivityCreated(e.id))).subscribe())}openCustomer(e){this._subscriptions.push(this._customerService.getCustomer(e).pipe((0,U.T)(n=>Object.assign(new To,n)),Y(n=>this.customerModal.open(n)),z(n=>n),(0,U.T)(()=>this.customerModal.options),Y(n=>this._customerService.updateCustomer(n,e)),(0,U.T)(()=>this.customerModal.options),x(n=>this._messageBox.success(`Cliente ${n.name} aggiornato`)),x(()=>this._read())).subscribe())}askRemove(e){this._subscriptions.push(this._messageBox.confirm(`Sei sicuro di voler rimuovere la commessa ${e.code}?`,"Attenzione").pipe(z(o=>o),Y(()=>this._service.delete(e.id)),x(()=>this._afterRemoved(e))).subscribe())}createPurchaseOrder(e){const n=pS(),o=new Pp(0,null,n.getFullYear(),n,null,null,hs.Pending,null,null,null,this.currentOperator.id,[e.id],[],[],[],[],[]),r=new Vm(o);this._subscriptions.push(this.purchaseOrderModal.open(r).pipe(z(a=>a),Y(()=>this._purchaseOrdersService.create(o)),x(()=>this._afterPurchaseOrderCreated(e.id))).subscribe())}openAttachments(e){this._subscriptions.push(this.jobsAttachmentsModal.open([e.id,0,0]).pipe(z(n=>n)).subscribe())}_afterActivityCreated(e){this._messageBox.success("Attivit\xe0 creata."),this.router.navigate(["/activities"],{queryParams:{jobId:e}})}_afterPurchaseOrderCreated(e){this._messageBox.success("Ordine d'acquisto creato"),this.router.navigate(["/purchase-orders"],{queryParams:{jobId:e}})}_read(){this._subscriptions.push(this._service.read(this.gridState).pipe(x(e=>this.data=e)).subscribe())}_afterSaved(e){this._messageBox.success(`Commessa ${e.code} salvata.`),this._read()}_afterRemoved(e){this._messageBox.success(`Commessa ${e.code} rimossa.`),this._read()}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(x(n=>this.currentOperator=n)).subscribe())}exportToExcel(){const e=this.getExportOptions();new _g(e).toDataURL().then(o=>{Kd(o,"commesse_sospese.xlsx")})}getExportOptions(){return{sheets:[{columns:[{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0}],title:"Commesse",rows:[{cells:[{value:"Data",bold:!0},{value:"Data Scadenza",bold:!0},{value:"Cliente",bold:!0},{value:"Commessa",bold:!0},{value:"Stato",bold:!0},{value:"Riferimento",bold:!0},{value:"Responsabile Comm",bold:!0},{value:"Note",bold:!0}]},...this.data.data.map(e=>({cells:[{value:e.date,format:"dd/MM/yyyy"},{value:e.expirationDate,format:"dd/MM/yyyy"},{value:e.customer},{value:e.code},{value:(new Up).transform(e.status)},{value:e.reference},{value:e.referentName},{value:e.description}]}))]}]}}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(dr),t.rXU(Ma),t.rXU(wh),t.rXU(yl),t.rXU(Ci),t.rXU(br),t.rXU(_t),t.rXU(Qi),t.rXU(Pr))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-jobs-suspended"]],viewQuery:function(n,o){if(1&n&&(t.GBs(V_n,7),t.GBs(z_n,7),t.GBs(j_n,7),t.GBs(H_n,7),t.GBs($_n,7),t.GBs(X_n,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.jobModal=r.first),t.mGM(r=t.lsd())&&(o.activityModal=r.first),t.mGM(r=t.lsd())&&(o.purchaseOrderModal=r.first),t.mGM(r=t.lsd())&&(o.grid=r.first),t.mGM(r=t.lsd())&&(o.jobsAttachmentsModal=r.first),t.mGM(r=t.lsd())&&(o.customerModal=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},features:[t.Vt3],decls:45,vars:20,consts:[["gridMenu",""],["jobModal",""],["activityModal",""],["purchaseOrderModal",""],["jobsAttachmentsModal",""],["customerModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],["key","id"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","cellClick","dblclick","data","pageSize","skip","sort","filter","group","sortable","pageable","rowClass"],["kendoGridToolbarTemplate",""],["field","date","title","Data","filter","date",3,"width"],["kendoGridCellTemplate",""],["field","expirationDate","title","Data Scad.","filter","expirationDate",3,"width"],["field","customer","title","Cliente"],["field","code","title","Cod.",3,"width"],["field","status","title","Stato","filter","numeric",1,"job-status",3,"width"],["kendoGridFilterMenuTemplate",""],["field","reference","title","Riferimento"],["field","description","title","Note"],["field","hasSharepoint","title","SP",3,"width","filterable"],["field","unreadMessages","title","","filterable","false"],["field","id","title"," ",3,"sortable","filterable","width"],["type","button",1,"btn","btn-primary",3,"click"],[2,"cursor","pointer",3,"click"],[4,"ngIf"],["class","job-alert",4,"ngIf"],[1,"job-alert"],["aria-hidden","true",1,"fa","fa-exclamation-triangle"],[3,"column","filter","filterService","data"],[1,"text-nowrap"],[3,"innerHTML"],["src","assets/sharepoint.png","width","20px"],["style","width: 35px; text-align: center;",4,"ngIf"],[2,"width","35px","text-align","center"],[1,"fa-regular","fa-message","job-alert"],[1,"d-flex","flex-column","gap-2"],[1,"d-flex","text-nowrap","justify-content-center","gap-1"],["title","Modifica",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-edit"],["title","Aggiungi nuova attivit\xe0",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-plus"],["title","Gestisci attivit\xe0",1,"btn","btn-primary","btn-sm",3,"routerLink","disabled","queryParams"],[1,"fas","fa-a"],["title","Visualizza allegati",1,"btn","btn-outline-primary","btn-sm",3,"click","disabled"],[1,"fa","fa-paperclip"],["title","Aggiungi nuovo ordine d'acquisto",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"fa","fa-cart-shopping"],["title","Visualizza ordini d'acquisto",1,"btn","btn-outline-primary","btn-sm",3,"disabled","routerLink","queryParams"],[1,"fa","fa-bag-shopping"],["title","Visualizza Interventi",1,"btn","btn-primary","btn-sm",3,"routerLink","disabled","queryParams"],[1,"fas","fa-i"],["title","Visualizza tickets",1,"btn","btn-outline-primary","btn-sm",3,"routerLink","disabled","queryParams"],[1,"fa","fa-tag"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"h4"),t.EFF(3,"Commesse Sospese"),t.k0s()(),t.j41(4,"div",8)(5,"button",9),t.bIt("click",function(){return t.eBV(r),t.Njj(o.create())}),t.nrm(6,"i",10),t.EFF(7," NUOVA "),t.k0s()()(),t.nrm(8,"app-grid-context-menu",11,0),t.j41(10,"div",12)(11,"kendo-grid",13),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))})("cellClick",function(l){return t.eBV(r),t.Njj(o.cellClickHandler(l))})("dblclick",function(){return t.eBV(r),t.Njj(o.onDblClick())})("cellClick",function(l){t.eBV(r);const c=t.sdS(9);return t.Njj(c.onCellClick(l))}),t.DNE(12,q_n,2,0,"ng-template",14),t.j41(13,"kendo-grid-column",15),t.DNE(14,Q_n,2,4,"ng-template",16),t.k0s(),t.j41(15,"kendo-grid-column",17),t.DNE(16,Z_n,2,4,"ng-template",16),t.k0s(),t.j41(17,"kendo-grid-column",18),t.DNE(18,egn,3,1,"ng-template",16),t.k0s(),t.j41(19,"kendo-grid-column",19),t.DNE(20,ign,2,2,"ng-template",16),t.k0s(),t.j41(21,"kendo-grid-column",20),t.DNE(22,sgn,1,4,"ng-template",21)(23,ogn,3,3,"ng-template",16),t.k0s(),t.nrm(24,"kendo-grid-column",22),t.j41(25,"kendo-grid-column",23),t.DNE(26,rgn,2,3,"ng-template",16),t.k0s(),t.j41(27,"kendo-grid-column",24),t.DNE(28,lgn,1,1,"ng-template",16),t.k0s(),t.j41(29,"kendo-grid-column",25),t.DNE(30,dgn,1,1,"ng-template",16),t.k0s(),t.j41(31,"kendo-grid-column",26),t.DNE(32,ugn,19,25,"ng-template",16),t.k0s()()(),t.nrm(33,"app-job-modal",null,1)(35,"app-activity-modal",null,2)(37,"app-purchase-order-modal",null,3)(39,"app-jobs-attachments-modal",null,4)(41,"app-activity-modal",null,2)(43,"app-customer-modal",null,5)}2&n&&(t.R7$(11),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!0)("rowClass",o.rowCallback),t.R7$(2),t.Y8G("width",1),t.R7$(2),t.Y8G("width",1),t.R7$(4),t.Y8G("width",1),t.R7$(2),t.Y8G("width",1),t.R7$(6),t.Y8G("width",1)("filterable",!1),t.R7$(4),t.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[W,Hl,Nn,hp,yn,qn,ac,eu,Bp,Dh,Bm,lE,JS,fd,xi,sa,Up],encapsulation:2})}return s})();const pgn=["messageModal"],fgn=["jobModal"],mgn=["activityModal"],_gn=["purchaseOrderModal"],ggn=["ticketModal"],vgn=()=>({caseSensitive:!1,operator:"contains"});function Sgn(s,i){1&s&&t.nrm(0,"i",34)}function Cgn(s,i){1&s&&t.nrm(0,"i",35)}function bgn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",30)(1,"button",31),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.markAsRead(o))}),t.DNE(2,Sgn,1,0,"i",32)(3,Cgn,1,0,"i",33),t.k0s()()}if(2&s){const e=i.$implicit,n=t.XpG();t.R7$(),t.Y8G("disabled",e.isRead||e.senderOperatorId==n.currentOperator.id),t.R7$(),t.Y8G("ngIf",e.isRead),t.R7$(),t.Y8G("ngIf",!e.isRead)}}function Egn(s,i){if(1&s&&(t.j41(0,"div",36),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,e.date,"dd/MM/yyyy HH:mm")," ")}}function ygn(s,i){if(1&s&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.JRh(e.jobCode)}}function kgn(s,i){if(1&s&&(t.j41(0,"div",39),t.EFF(1),t.nrm(2,"i",40),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.jobCode," ")}}function wgn(s,i){if(1&s&&t.DNE(0,ygn,2,1,"div",37)(1,kgn,3,1,"div",38),2&s){const e=i.$implicit;t.Y8G("ngIf",!e.jobHasHighPriority),t.R7$(),t.Y8G("ngIf",e.jobHasHighPriority)}}function Dgn(s,i){if(1&s&&(t.j41(0,"div",41),t.EFF(1,"\xa0"),t.k0s()),2&s){const e=i.$implicit;t.xc7("background-color",e.activityColor),t.FS9("title",e.activityType)}}function Ogn(s,i){1&s&&(t.nrm(0,"div",42),t.nI1(1,"domsanitizer")),2&s&&t.Y8G("innerHTML",t.bMT(1,1,i.$implicit.note),t.npT)}function Tgn(s,i){if(1&s&&(t.j41(0,"div",43)(1,"span",44),t.EFF(2),t.k0s(),t.nrm(3,"i",45),t.k0s()),2&s){const e=i.$implicit;t.R7$(2),t.JRh(e.elementType),t.R7$(),t.Y8G("title","Destinatari: "+e.targetOperators)}}function Mgn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",30)(1,"button",46),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.editMessage(o))}),t.nrm(2,"i",47),t.k0s(),t.j41(3,"button",48),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.replyMessage(o,!1))}),t.nrm(4,"i",49),t.k0s(),t.j41(5,"button",50),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.replyMessage(o,!0))}),t.nrm(6,"i",51),t.k0s()()}if(2&s){const e=i.$implicit,n=t.XpG();t.R7$(),t.Y8G("disabled",e.senderOperatorId!=n.currentOperator.id)}}let Ign=(()=>{class s extends It{constructor(e,n,o,r,a,l,c,u,f,_){super(),this._activityTypesService=e,this._service=n,this._messageBox=o,this._user=r,this._operatorsService=a,this._jobsService=l,this._activityService=c,this._ticketsService=u,this._purchaseOrdersService=f,this._storageService=_,this.gridState={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[{field:"date",dir:"desc"}]},this.activityStatusNames=uR,this.rowCallback=g=>g.dataItem.isRead||g.dataItem.senderOperatorId==this.currentOperator.id?{read:!0}:{unread:!0}}ngOnInit(){this.hasFilterUnread=!0,this._getActivityTypes(),this._resumeState(),this.user=this._user.getUser(),this._getCurrentOperator(this.user.id),this.updateScreenSize()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}_resumeState(){const e=this._storageService.get(window.location.hash,!0);null!=e&&(this.gridState=e)}_saveState(){this._storageService.save(this.gridState,window.location.hash,!0),this.hasFilter=this.gridState.filter.filters.any()}dataStateChange(e){this.gridState=e,this._saveState(),this._read()}onDblClick(){this.cellArgs.dataItem.ticketId?this._subscriptions.push(this._ticketsService.get(this.cellArgs.dataItem.ticketId).pipe(Y(e=>this.ticketModal.open(e)),z(e=>e),Y(()=>this._ticketsService.update(this.ticketModal.options)),x(e=>this._read())).subscribe()):this.cellArgs.dataItem.purchaseOrderId?this._subscriptions.push(this._purchaseOrdersService.get(this.cellArgs.dataItem.purchaseOrderId).pipe((0,U.T)(e=>new Vm(e)),Y(e=>this.purchaseOrderModal.open(e)),z(e=>e),Y(()=>this._purchaseOrdersService.update(this.purchaseOrderModal.options.purchaseOrder)),x(()=>this._read())).subscribe()):this.cellArgs.dataItem.activityId?this._subscriptions.push(this._activityService.get(this.cellArgs.dataItem.activityId).pipe((0,U.T)(e=>new du(e)),Y(e=>this.activityModal.open(e)),z(e=>e),Y(()=>this._activityService.update(this.activityModal.options.activity)),x(()=>this._read())).subscribe()):this.cellArgs.dataItem.jobId&&this._subscriptions.push(this._jobsService.get(this.cellArgs.dataItem.jobId).pipe(Y(e=>this.jobModal.open(e)),z(e=>e),Y(()=>this._jobsService.update(this.jobModal.options)),x(e=>this._read())).subscribe())}cellClickHandler(e){this.cellArgs=e}_read(){this._subscriptions.push(this._service.getMessagesList(this.gridState,this.currentOperator.id).pipe(x(e=>{this.data=e,this._getUnreadCounter()})).subscribe())}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(x(n=>this.currentOperator=n),x(()=>{this.filterUnread()})).subscribe())}markAsRead(e){this._subscriptions.push(this._service.markAsRead(e.id,this.currentOperator.id).pipe(x(()=>{e.isRead=!0,this._messageBox.success("Commento letto"),this._read()})).subscribe())}editMessage(e){this._subscriptions.push(this._service.get(e.id).pipe((0,U.T)(n=>new rh(n,!0)),Y(n=>this.messageModal.open(n)),z(n=>n),Y(()=>this._service.update(this.messageModal.options.message))).subscribe())}replyMessage(e,n){this.targetOperatorsArray=[],this._subscriptions.push(this._service.getReplyTargetOperators(e.id,n).pipe(x(o=>{this.targetOperatorsArray=o,this.createMessage(e,n)})).subscribe())}createMessage(e,n){const r=new Zd(e.id,new Date,null,this.currentOperator.id,e.jobId,e.activityId,e.ticketId,e.purchaseOrderId,!1),a=new rh(r,!0,n,this.targetOperatorsArray);this._subscriptions.push(this.messageModal.open(a).pipe(z(l=>l),Y(()=>this._service.createReply(r,a.targetOperators.join(","))),x(()=>this._read()),x(()=>this._messageBox.success("Commento creato"))).subscribe())}resetFilter(){this.hasFilterUnread=!1,this.selectedActivityTypeId=null,this.gridState.filter.filters=[],this._saveState(),this._read()}filterUnread(){this.hasFilterUnread=!0,this.gridState.filter.filters=[{field:"senderOperatorId",operator:"neq",value:this.currentOperator.id},{field:"isRead",operator:"eq",value:!1},{field:"isFromApp",operator:"eq",value:!0}],this._saveState(),this._read()}onActivityTypeChange(){this.gridState.filter.filters=this.hasFilterUnread?[{field:"activityTypeId",operator:"eq",value:this.selectedActivityTypeId},{field:"isRead",operator:"eq",value:!1},{field:"isFromApp",operator:"eq",value:!0}]:[{field:"activityTypeId",operator:"eq",value:this.selectedActivityTypeId},{field:"isFromApp",operator:"eq",value:!0}],this._saveState(),this._read()}_getUnreadCounter(){this._subscriptions.push(this._service.getUnreadCounter(this.currentOperator.id).pipe(x(e=>{this.unreadCounter=e})).subscribe())}_getActivityTypes(){this._subscriptions.push(this._activityTypesService.readActivityTypesList().pipe(x(e=>this.activityTypes=e)).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Sp),t.rXU(_m),t.rXU(_t),t.rXU(Ci),t.rXU(br),t.rXU(dr),t.rXU(Ma),t.rXU(_b),t.rXU(wh),t.rXU(Pr))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-interventionmessages-list"]],viewQuery:function(n,o){if(1&n&&(t.GBs(pgn,7),t.GBs(fgn,7),t.GBs(mgn,7),t.GBs(_gn,7),t.GBs(ggn,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.messageModal=r.first),t.mGM(r=t.lsd())&&(o.jobModal=r.first),t.mGM(r=t.lsd())&&(o.activityModal=r.first),t.mGM(r=t.lsd())&&(o.purchaseOrderModal=r.first),t.mGM(r=t.lsd())&&(o.ticketModal=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},features:[t.Vt3],decls:50,vars:37,consts:[["gridMenu",""],["messageModal",""],["jobModal",""],["activityModal",""],["purchaseOrderModal",""],["ticketModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"row"],[1,"col-md-3"],[1,"form-group"],["textField","name","valueField","id","name","typeId",3,"valueChange","ngModelChange","data","valuePrimitive","suggest","ngModel","kendoDropDownFilter","allowCustom"],[1,"col-6"],[1,"btn","btn-primary","me-2",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"],["key","jobId"],[1,"grid-container"],["id","messages-grid","filterable","menu","scrollable","none",3,"dataStateChange","cellClick","dblclick","data","pageSize","skip","sort","filter","group","sortable","pageable","rowClass"],["field","isRead","title"," ",3,"sortable","filterable","width"],["kendoGridCellTemplate",""],["field","date","title","Data Messaggio","filter","date","format","dd/MM/yyyy",3,"width"],["field","senderOperator","title","Mittente"],["field","customerName","title","Cliente",3,"width"],["field","jobCode","title","Comm.",3,"width"],["field","jobReference","title","Riferimento",3,"width"],["field","activityColor","title"," ","kendoTooltip","",1,"activity-color",3,"sortable","filterable"],["field","activityDescription","title","Attivit\xe0",3,"width"],["field","note","title","Messaggio"],["field","targetOperators","title"," ",3,"sortable","filterable","width"],["field","id","title"," ",3,"sortable","filterable","width"],[1,"d-flex","text-nowrap","gap-1"],["type","button","title","Segna come letto",1,"btn","btn-outline-primary","btn-sm","me-2",3,"click","disabled"],["class","fa-regular fa-square-check",4,"ngIf"],["class","fa-regular fa-square",4,"ngIf"],[1,"fa-regular","fa-square-check"],[1,"fa-regular","fa-square"],[1,"text-nowrap"],[4,"ngIf"],["class","job-alert",4,"ngIf"],[1,"job-alert"],["aria-hidden","true",1,"fa","fa-exclamation-triangle"],[3,"title"],[3,"innerHTML"],[2,"text-align","center"],["title","Sorgente commento"],[1,"fas","fa-users",3,"title"],["type","button","title","Modifica",1,"btn","btn-outline-primary","btn-sm","me-2",3,"click","disabled"],[1,"fas","fa-edit"],["title","Rispondi",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"fas","fa-reply"],["title","Rispondi a tutti",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"fas","fa-reply-all"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"h4"),t.EFF(3,"Commenti interventi da APP"),t.k0s()()(),t.j41(4,"div",8)(5,"div",9)(6,"label"),t.EFF(7,"Tipo Attivit\xe0"),t.k0s(),t.j41(8,"div",10)(9,"kendo-combobox",11),t.bIt("valueChange",function(){return t.eBV(r),t.Njj(o.onActivityTypeChange())}),t.mxI("ngModelChange",function(l){return t.eBV(r),t.DH7(o.selectedActivityTypeId,l)||(o.selectedActivityTypeId=l),t.Njj(l)}),t.k0s()()(),t.j41(10,"div",12)(11,"label"),t.EFF(12,"Filtri"),t.k0s(),t.j41(13,"div",10)(14,"button",13),t.bIt("click",function(){return t.eBV(r),t.Njj(o.filterUnread())}),t.EFF(15),t.k0s(),t.j41(16,"button",14),t.bIt("click",function(){return t.eBV(r),t.Njj(o.resetFilter())}),t.EFF(17,"Visualizza Tutti"),t.k0s()()()(),t.nrm(18,"app-grid-context-menu",15,0),t.j41(20,"div",16)(21,"kendo-grid",17),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))})("cellClick",function(l){return t.eBV(r),t.Njj(o.cellClickHandler(l))})("dblclick",function(){return t.eBV(r),t.Njj(o.onDblClick())})("cellClick",function(l){t.eBV(r);const c=t.sdS(19);return t.Njj(c.onCellClick(l))}),t.j41(22,"kendo-grid-column",18),t.DNE(23,bgn,4,3,"ng-template",19),t.k0s(),t.j41(24,"kendo-grid-column",20),t.DNE(25,Egn,3,4,"ng-template",19),t.k0s(),t.nrm(26,"kendo-grid-column",21)(27,"kendo-grid-column",22),t.j41(28,"kendo-grid-column",23),t.DNE(29,wgn,2,2,"ng-template",19),t.k0s(),t.nrm(30,"kendo-grid-column",24),t.j41(31,"kendo-grid-column",25),t.DNE(32,Dgn,2,3,"ng-template",19),t.k0s(),t.nrm(33,"kendo-grid-column",26),t.j41(34,"kendo-grid-column",27),t.DNE(35,Ogn,2,3,"ng-template",19),t.k0s(),t.j41(36,"kendo-grid-column",28),t.DNE(37,Tgn,4,2,"ng-template",19),t.k0s(),t.j41(38,"kendo-grid-column",29),t.DNE(39,Mgn,7,1,"ng-template",19),t.k0s()()(),t.nrm(40,"app-message-modal",null,1)(42,"app-job-modal",null,2)(44,"app-activity-modal",null,3)(46,"app-purchase-order-modal",null,4)(48,"app-ticket-modal",null,5)}2&n&&(t.R7$(9),t.Y8G("data",o.activityTypes)("valuePrimitive",!0)("suggest",!0),t.R50("ngModel",o.selectedActivityTypeId),t.Y8G("kendoDropDownFilter",t.lJ4(36,vgn))("allowCustom",!1),t.R7$(5),t.Y8G("disabled",o.hasFilterUnread),t.R7$(),t.SpI("Da leggere (",o.unreadCounter,")"),t.R7$(),t.Y8G("disabled",!o.hasFilter),t.R7$(5),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!0)("rowClass",o.rowCallback),t.R7$(),t.Y8G("sortable",!1)("filterable",!1)("width",1),t.R7$(2),t.Y8G("width",1),t.R7$(3),t.Y8G("width",100),t.R7$(),t.Y8G("width",1),t.R7$(2),t.Y8G("width",250),t.R7$(),t.Y8G("sortable",!1)("filterable",!1),t.R7$(2),t.Y8G("width",250),t.R7$(3),t.Y8G("sortable",!1)("filterable",!1)("width",1),t.R7$(2),t.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[W,Un,mi,Nn,yn,qn,Wu,go,Fp,Bp,Bm,Mde,JS,HO,fd,xi,sa],encapsulation:2})}return s})();const xgn=["jobModal"],Agn=["activityModal"],Rgn=["purchaseOrderModal"],Ngn=["grid"],Lgn=["jobsAttachmentsModal"],Ggn=["customerModal"],Pgn=()=>["/job-details"],Pj=s=>({jobId:s}),Fgn=()=>["/purchase-orders"],Ugn=()=>["/interventions-list"],Bgn=()=>["/tickets"];function Vgn(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",24),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.exportToExcel())}),t.EFF(1," Esporta in Excel "),t.k0s()}}function zgn(s,i){1&s&&(t.EFF(0),t.nI1(1,"date")),2&s&&t.SpI(" ",t.i5U(1,1,i.$implicit.date,"dd/MM/yyyy")," ")}function jgn(s,i){1&s&&(t.EFF(0),t.nI1(1,"date")),2&s&&t.SpI(" ",t.i5U(1,1,i.$implicit.expirationDate,"dd/MM/yyyy")," ")}function Hgn(s,i){if(1&s){const e=t.RV6();t.j41(0,"a",25),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.openCustomer(o.customerId))}),t.EFF(1),t.k0s(),t.nrm(2,"br")}if(2&s){const e=i.$implicit;t.R7$(),t.JRh(e.customer)}}function $gn(s,i){if(1&s&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.JRh(e.code)}}function Xgn(s,i){if(1&s&&(t.j41(0,"div",28),t.EFF(1),t.nrm(2,"i",29),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.code," ")}}function Wgn(s,i){if(1&s&&t.DNE(0,$gn,2,1,"div",26)(1,Xgn,3,1,"div",27),2&s){const e=i.$implicit;t.Y8G("ngIf",!e.hasHighPriority),t.R7$(),t.Y8G("ngIf",e.hasHighPriority)}}function Ygn(s,i){if(1&s&&t.nrm(0,"app-multiselect-grid-column-filter",30),2&s){const e=i.column,n=i.filter,o=i.filterService,r=t.XpG();t.Y8G("column",e)("filter",n)("filterService",o)("data",r.jobStatusNames)}}function Kgn(s,i){if(1&s&&(t.j41(0,"span",31),t.EFF(1),t.nI1(2,"jobStatus"),t.k0s()),2&s){const e=i.$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e.status)," ")}}function Jgn(s,i){1&s&&(t.nrm(0,"div",32),t.nI1(1,"domsanitizer")),2&s&&t.Y8G("innerHTML",t.bMT(1,1,i.$implicit.description),t.npT)}function qgn(s,i){1&s&&t.nrm(0,"img",33)}function Qgn(s,i){1&s&&t.DNE(0,qgn,1,0,"img",33),2&s&&t.vxM(0,i.$implicit.hasSharepoint?0:-1)}function Zgn(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",35)(1,"a",25),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,r=t.XpG();return t.Njj(r.edit(o))}),t.nrm(2,"i",36),t.j41(3,"span",28),t.EFF(4),t.k0s()()()}if(2&s){const e=t.XpG().$implicit;t.R7$(4),t.SpI(" ",e.unreadMessages,"")}}function e1n(s,i){1&s&&t.DNE(0,Zgn,5,1,"div",34),2&s&&t.Y8G("ngIf",i.$implicit.unreadMessages)}function t1n(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",37)(1,"div",38)(2,"button",39),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.edit(o))}),t.nrm(3,"i",40),t.k0s(),t.j41(4,"button",41),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.createActivity(o))}),t.nrm(5,"i",42),t.k0s(),t.j41(6,"button",43),t.nrm(7,"i",44),t.k0s(),t.j41(8,"button",45),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.openAttachments(o))}),t.nrm(9,"i",46),t.k0s()(),t.j41(10,"div",38)(11,"button",47),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.createPurchaseOrder(o))}),t.nrm(12,"i",48),t.k0s(),t.j41(13,"button",49),t.nrm(14,"i",50),t.k0s(),t.j41(15,"button",51),t.nrm(16,"i",52),t.k0s(),t.j41(17,"button",53),t.nrm(18,"i",54),t.k0s()()()}if(2&s){const e=i.$implicit;t.R7$(6),t.Y8G("routerLink",t.lJ4(13,Pgn))("disabled",!e.hasActivities)("queryParams",t.eq3(14,Pj,e.id)),t.R7$(2),t.Y8G("disabled",!e.hasAttachments),t.R7$(5),t.Y8G("disabled",!e.hasPurchaseOrders)("routerLink",t.lJ4(16,Fgn))("queryParams",t.eq3(17,Pj,e.id)),t.R7$(2),t.Y8G("routerLink",t.lJ4(19,Ugn))("disabled",!e.hasInterventions)("queryParams",t.eq3(20,Pj,e.id)),t.R7$(2),t.Y8G("routerLink",t.lJ4(22,Bgn))("disabled",!e.hasActivities)("queryParams",t.eq3(23,Pj,e.id))}}let n1n=(()=>{class s extends It{constructor(e,n,o,r,a,l,c,u,f){super(),this._service=e,this._serviceActivity=n,this._purchaseOrdersService=o,this._customerService=r,this._user=a,this._operatorsService=l,this._messageBox=c,this.router=u,this._storageService=f,this.gridState={skip:0,take:30,filter:{filters:[{filters:[fn.Billed].map(_=>({field:"status",operator:"eq",value:_})),logic:"and"}],logic:"and"},group:[],sort:[{field:"date",dir:"desc"},{field:"code",dir:"desc"}]},this.jobStatusNames=gO,this.rowCallback=_=>{const g=_.dataItem;switch(!0){case g.status===fn.Completed:return{"job-completed":!0};case g.status===fn.InProgress:return{"job-inprogress":!0};case g.status===fn.Pending:return{"job-pending":!0};case g.status===fn.Billing:return{"job-billing":!0};case g.status===fn.Billed:return{"job-billed":!0};case g.status===fn.Suspended:return{"job-suspended":!0};default:return{}}}}ngOnInit(){this._resumeState(),this._read(),this.user=this._user.getUser(),this._getCurrentOperator(this.user.id),this.updateScreenSize()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}dataStateChange(e){this.gridState=e,this._saveState(),this._read()}_resumeState(){const e=this._storageService.get(window.location.hash,!0);null!=e&&(this.gridState=e)}_saveState(){this._storageService.save(this.gridState,window.location.hash,!0)}create(){const e=new Date,n=new Dm(0,null,e.getFullYear(),e,null,null,null,null,!1,fn.Pending,null,null,null,null,null,[],[]);this._subscriptions.push(this.jobModal.open(n).pipe(z(o=>o),Y(()=>this._service.create(n)),x(o=>this._afterSaved(o))).subscribe())}edit(e){this._subscriptions.push(this._service.get(e.id).pipe(Y(n=>this.jobModal.open(n)),x(n=>!n&&this._read()),z(n=>n),Y(()=>this._service.update(this.jobModal.options)),x(n=>this._afterSaved(n))).subscribe())}onDblClick(){this.cellArgs.isEdited||this.router.navigate(["/job-details"],{queryParams:{jobId:this.cellArgs.dataItem.id}})}cellClickHandler(e){this.cellArgs=e}createActivity(e){const n=new ah(0,Vi.Pending,null,null,null,null,e.id,null,null,null,null,null,null,!1,"In attesa","In corso","Pronto","Completata",!1,!1,[],[]),o=new du(n);this._subscriptions.push(this.activityModal.open(o).pipe(z(r=>r),Y(()=>this._serviceActivity.create(n)),x(()=>this._afterActivityCreated(e.id))).subscribe())}openCustomer(e){this._subscriptions.push(this._customerService.getCustomer(e).pipe((0,U.T)(n=>Object.assign(new To,n)),Y(n=>this.customerModal.open(n)),z(n=>n),(0,U.T)(()=>this.customerModal.options),Y(n=>this._customerService.updateCustomer(n,e)),(0,U.T)(()=>this.customerModal.options),x(n=>this._messageBox.success(`Cliente ${n.name} aggiornato`)),x(()=>this._read())).subscribe())}askRemove(e){this._subscriptions.push(this._messageBox.confirm(`Sei sicuro di voler rimuovere la commessa ${e.code}?`,"Attenzione").pipe(z(o=>o),Y(()=>this._service.delete(e.id)),x(()=>this._afterRemoved(e))).subscribe())}createPurchaseOrder(e){const n=pS(),o=new Pp(0,null,n.getFullYear(),n,null,null,hs.Pending,null,null,null,this.currentOperator.id,[e.id],[],[],[],[],[]),r=new Vm(o);this._subscriptions.push(this.purchaseOrderModal.open(r).pipe(z(a=>a),Y(()=>this._purchaseOrdersService.create(o)),x(()=>this._afterPurchaseOrderCreated(e.id))).subscribe())}openAttachments(e){this._subscriptions.push(this.jobsAttachmentsModal.open([e.id,0,0]).pipe(z(n=>n)).subscribe())}_afterActivityCreated(e){this._messageBox.success("Attivit\xe0 creata."),this.router.navigate(["/activities"],{queryParams:{jobId:e}})}_afterPurchaseOrderCreated(e){this._messageBox.success("Ordine d'acquisto creato"),this.router.navigate(["/purchase-orders"],{queryParams:{jobId:e}})}_read(){this._subscriptions.push(this._service.readArchivedJobs(this.gridState).pipe(x(e=>this.data=e)).subscribe())}_afterSaved(e){this._messageBox.success(`Commessa ${e.code} salvata.`),this._read()}_afterRemoved(e){this._messageBox.success(`Commessa ${e.code} rimossa.`),this._read()}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(x(n=>this.currentOperator=n)).subscribe())}exportToExcel(){const e=this.getExportOptions();new _g(e).toDataURL().then(o=>{Kd(o,"commesse_completate.xlsx")})}getExportOptions(){return{sheets:[{columns:[{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0},{autoWidth:!0}],title:"Commesse",rows:[{cells:[{value:"Data",bold:!0},{value:"Data Scadenza",bold:!0},{value:"Cliente",bold:!0},{value:"Commessa",bold:!0},{value:"Stato",bold:!0},{value:"Riferimento",bold:!0},{value:"Responsabile Comm",bold:!0},{value:"Note",bold:!0}]},...this.data.data.map(e=>({cells:[{value:e.date,format:"dd/MM/yyyy"},{value:e.expirationDate,format:"dd/MM/yyyy"},{value:e.customer},{value:e.code},{value:(new Up).transform(e.status)},{value:e.reference},{value:e.referentName},{value:e.description}]}))]}]}}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(dr),t.rXU(Ma),t.rXU(wh),t.rXU(yl),t.rXU(Ci),t.rXU(br),t.rXU(_t),t.rXU(Qi),t.rXU(Pr))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-jobs-archive"]],viewQuery:function(n,o){if(1&n&&(t.GBs(xgn,7),t.GBs(Agn,7),t.GBs(Rgn,7),t.GBs(Ngn,7),t.GBs(Lgn,7),t.GBs(Ggn,7)),2&n){let r;t.mGM(r=t.lsd())&&(o.jobModal=r.first),t.mGM(r=t.lsd())&&(o.activityModal=r.first),t.mGM(r=t.lsd())&&(o.purchaseOrderModal=r.first),t.mGM(r=t.lsd())&&(o.grid=r.first),t.mGM(r=t.lsd())&&(o.jobsAttachmentsModal=r.first),t.mGM(r=t.lsd())&&(o.customerModal=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},features:[t.Vt3],decls:41,vars:21,consts:[["gridMenu",""],["jobModal",""],["activityModal",""],["purchaseOrderModal",""],["jobsAttachmentsModal",""],["customerModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],["key","id"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","cellClick","dblclick","data","pageSize","skip","sort","filter","group","sortable","pageable","rowClass"],["kendoGridToolbarTemplate",""],["field","date","title","Data","filter","date",3,"width"],["kendoGridCellTemplate",""],["field","expirationDate","title","Data Scad.","filter","date",3,"width"],["field","customer","title","Cliente"],["field","code","title","Cod.",3,"width"],["field","status","title","Stato","filter","numeric",1,"job-status",3,"width"],["kendoGridFilterMenuTemplate",""],["field","reference","title","Riferimento"],["field","description","title","Note"],["field","hasSharepoint","title","SP",3,"width","filterable"],["field","unreadMessages","title","",3,"filterable"],["field","id","title"," ",3,"sortable","filterable","width"],["type","button",1,"btn","btn-primary",3,"click"],[2,"cursor","pointer",3,"click"],[4,"ngIf"],["class","job-alert",4,"ngIf"],[1,"job-alert"],["aria-hidden","true",1,"fa","fa-exclamation-triangle"],[3,"column","filter","filterService","data"],[1,"text-nowrap"],[3,"innerHTML"],["src","assets/sharepoint.png","width","20px"],["style","width: 35px; text-align: center;",4,"ngIf"],[2,"width","35px","text-align","center"],[1,"fa-regular","fa-message","job-alert"],[1,"d-flex","flex-column","gap-2"],[1,"d-flex","text-nowrap","justify-content-center","gap-1"],["title","Modifica",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-edit"],["title","Aggiungi nuova attivit\xe0",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-plus"],["title","Gestisci attivit\xe0",1,"btn","btn-primary","btn-sm",3,"routerLink","disabled","queryParams"],[1,"fas","fa-a"],["title","Visualizza allegati",1,"btn","btn-outline-primary","btn-sm",3,"click","disabled"],[1,"fa","fa-paperclip"],["title","Aggiungi nuovo ordine d'acquisto",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"fa","fa-cart-shopping"],["title","Visualizza ordini d'acquisto",1,"btn","btn-outline-primary","btn-sm",3,"disabled","routerLink","queryParams"],[1,"fa","fa-bag-shopping"],["title","Visualizza Interventi",1,"btn","btn-primary","btn-sm",3,"routerLink","disabled","queryParams"],[1,"fas","fa-i"],["title","Visualizza tickets",1,"btn","btn-outline-primary","btn-sm",3,"routerLink","disabled","queryParams"],[1,"fa","fa-tag"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"h4"),t.EFF(3,"Archivio Storico Commesse (anni precedenti)"),t.k0s()()(),t.nrm(4,"app-grid-context-menu",8,0),t.j41(6,"div",9)(7,"kendo-grid",10),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))})("cellClick",function(l){return t.eBV(r),t.Njj(o.cellClickHandler(l))})("dblclick",function(){return t.eBV(r),t.Njj(o.onDblClick())})("cellClick",function(l){t.eBV(r);const c=t.sdS(5);return t.Njj(c.onCellClick(l))}),t.DNE(8,Vgn,2,0,"ng-template",11),t.j41(9,"kendo-grid-column",12),t.DNE(10,zgn,2,4,"ng-template",13),t.k0s(),t.j41(11,"kendo-grid-column",14),t.DNE(12,jgn,2,4,"ng-template",13),t.k0s(),t.j41(13,"kendo-grid-column",15),t.DNE(14,Hgn,3,1,"ng-template",13),t.k0s(),t.j41(15,"kendo-grid-column",16),t.DNE(16,Wgn,2,2,"ng-template",13),t.k0s(),t.j41(17,"kendo-grid-column",17),t.DNE(18,Ygn,1,4,"ng-template",18)(19,Kgn,3,3,"ng-template",13),t.k0s(),t.nrm(20,"kendo-grid-column",19),t.j41(21,"kendo-grid-column",20),t.DNE(22,Jgn,2,3,"ng-template",13),t.k0s(),t.j41(23,"kendo-grid-column",21),t.DNE(24,Qgn,1,1,"ng-template",13),t.k0s(),t.j41(25,"kendo-grid-column",22),t.DNE(26,e1n,1,1,"ng-template",13),t.k0s(),t.j41(27,"kendo-grid-column",23),t.DNE(28,t1n,19,25,"ng-template",13),t.k0s()()(),t.nrm(29,"app-job-modal",null,1)(31,"app-activity-modal",null,2)(33,"app-purchase-order-modal",null,3)(35,"app-jobs-attachments-modal",null,4)(37,"app-activity-modal",null,2)(39,"app-customer-modal",null,5)}2&n&&(t.R7$(7),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.data)("pageSize",o.gridState.take)("skip",o.gridState.skip)("sort",o.gridState.sort)("filter",o.gridState.filter)("group",o.gridState.group)("sortable",!0)("pageable",!0)("rowClass",o.rowCallback),t.R7$(2),t.Y8G("width",1),t.R7$(2),t.Y8G("width",1),t.R7$(4),t.Y8G("width",1),t.R7$(2),t.Y8G("width",1),t.R7$(6),t.Y8G("width",1)("filterable",!1),t.R7$(2),t.Y8G("filterable",!1),t.R7$(2),t.Y8G("sortable",!1)("filterable",!1)("width",1))},dependencies:[W,Hl,Nn,hp,yn,qn,ac,eu,Bp,Dh,Bm,lE,JS,fd,xi,sa,Up],encapsulation:2})}return s})();function i1n(s,i){1&s&&t.nrm(0,"div",3)}function s1n(s,i){if(1&s){const e=t.RV6();t.j41(0,"form",14,0),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.close())}),t.j41(2,"div",15)(3,"div",16)(4,"kendo-formfield",17)(5,"label"),t.EFF(6,"Nome"),t.k0s(),t.j41(7,"kendo-textbox",18),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.name,o)||(r.options.name=o),t.Njj(o)}),t.k0s(),t.j41(8,"kendo-formerror"),t.EFF(9,"Nome \xe8 un campo obbligatorio"),t.k0s()()()(),t.j41(10,"div",15)(11,"div",19)(12,"kendo-formfield",17)(13,"label"),t.EFF(14,"Descrizione"),t.k0s(),t.j41(15,"kendo-textbox",20),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.description,o)||(r.options.description=o),t.Njj(o)}),t.k0s()()()(),t.j41(16,"div",15)(17,"div",21)(18,"label"),t.EFF(19,"Genera Alert"),t.k0s(),t.j41(20,"div",17)(21,"kendo-switch",22),t.mxI("ngModelChange",function(o){t.eBV(e);const r=t.XpG(2);return t.DH7(r.options.generateAlert,o)||(r.options.generateAlert=o),t.Njj(o)}),t.k0s(),t.nrm(22,"div",23),t.k0s()()(),t.j41(23,"div",24)(24,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.dismiss())}),t.nrm(25,"i",9),t.EFF(26," ANNULLA "),t.k0s(),t.j41(27,"button",25),t.nrm(28,"i",11),t.EFF(29," SALVA "),t.k0s()()()}if(2&s){const e=t.sdS(1),n=t.XpG(2);t.R7$(7),t.R50("ngModel",n.options.name),t.R7$(8),t.R50("ngModel",n.options.description),t.R7$(6),t.R50("ngModel",n.options.generateAlert),t.R7$(),t.Y8G("control",e.controls.generateAlert)}}function o1n(s,i){if(1&s){const e=t.RV6();t.j41(0,"div",4)(1,"kendo-window",5),t.bIt("close",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.j41(2,"kendo-window-titlebar")(3,"div",6),t.EFF(4," Tipologia Attivit\xe0 "),t.k0s(),t.j41(5,"div",7)(6,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.dismiss())}),t.nrm(7,"i",9),t.EFF(8," ANNULLA "),t.k0s(),t.j41(9,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.close())}),t.nrm(10,"i",11),t.EFF(11," SALVA "),t.k0s()(),t.nrm(12,"button",12),t.k0s(),t.DNE(13,s1n,30,4,"form",13),t.k0s()()}if(2&s){const e=t.XpG();t.R7$(),t.Y8G("resizable",!1)("draggable",!1)("top",100),t.R7$(12),t.Y8G("ngIf",e.options)}}let r1n=(()=>{class s extends As{constructor(e){super(e),this.role=Pt,this.accountingType=new $m,this.options=new $m}_canClose(){return Xr(this.form),this.form.invalid&&this._messageBox.error("Compilare correttamente tutti i campi"),this.form.valid??!1}loadData(){}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(_t))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-accountingType-modal"]],inputs:{accountingType:"accountingType"},features:[t.Vt3],decls:2,vars:2,consts:[["form","ngForm"],["class","k-overlay",4,"ngIf"],["class","k-window-wrapper",4,"ngIf"],[1,"k-overlay"],[1,"k-window-wrapper"],[3,"close","resizable","draggable","top"],[1,"k-window-title"],[1,"text-right"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fa","fa-rotate-left","me-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-floppy-disk","me-2"],["kendoWindowCloseAction",""],["name","updateAccountingTypeForm","novalidate","","autocomplete","off","class","redimensionModal",3,"ngSubmit",4,"ngIf"],["name","updateAccountingTypeForm","novalidate","","autocomplete","off",1,"redimensionModal",3,"ngSubmit"],[1,"row","riga-form"],[1,"col-md-6"],[1,"form-group"],["name","name","required","",3,"ngModelChange","ngModel"],[1,"col-md-12"],["name","description",3,"ngModelChange","ngModel"],[1,"col-md-3"],["name","generateAlert","onLabel","Si","offLabel","No",3,"ngModelChange","ngModel"],[1,"validation-message",3,"control"],[1,"text-right","mt-5"],["type","submit",1,"btn","btn-primary"]],template:function(n,o){1&n&&t.DNE(0,i1n,1,0,"div",1)(1,o1n,14,4,"div",2),2&n&&(t.Y8G("ngIf",o.opened),t.R7$(),t.Y8G("ngIf",o.opened))},dependencies:[W,Fi,Un,Pi,ts,mi,Mi,ni,li,Wn,ip,Jl,Xc,vr,cr],encapsulation:2})}return s})();const a1n=["accountingTypeModal"];function l1n(s,i){1&s&&(t.EFF(0),t.nI1(1,"bool")),2&s&&t.SpI(" ",t.bMT(1,1,i.$implicit.generateAlert)," ")}function c1n(s,i){if(1&s){const e=t.RV6();t.j41(0,"button",13),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.editAccountingType(o))}),t.nrm(1,"i",14),t.k0s(),t.j41(2,"button",15),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.deleteAccountingType(o))}),t.nrm(3,"i",16),t.k0s()}}let d1n=(()=>{class s extends It{constructor(e,n,o){super(),this._accountingTypesService=e,this._messageBox=n,this._router=o,this.stateGridAccountingTypes={skip:0,take:30,filter:{filters:[],logic:"and"},group:[],sort:[]},this.accountingType=new $m}ngOnInit(){this._readAccountingTypes(),this.updateScreenSize()}onResize(e){this.updateScreenSize()}updateScreenSize(){this.screenWidth=window.innerWidth-44,this.screenWidth>1876&&(this.screenWidth=1876),this.screenWidth<1400&&(this.screenWidth=1400)}dataStateChange(e){this.stateGridAccountingTypes=e,this._readAccountingTypes()}_readAccountingTypes(){this._subscriptions.push(this._accountingTypesService.readAccountingTypes(this.stateGridAccountingTypes).pipe(x(e=>{this.dataAccountingTypes=e})).subscribe())}createAccountingType(){const e=new $m;this._subscriptions.push(this.accountingTypeModal.open(e).pipe(z(n=>n),Y(()=>this._accountingTypesService.createAccountingType(e)),x(n=>{this._messageBox.success(`Tipo ${e.name} creato`)}),x(()=>this._readAccountingTypes())).subscribe())}editAccountingType(e){this._subscriptions.push(this._accountingTypesService.getAccountingTypeDetail(e.id).pipe((0,U.T)(n=>Object.assign(new $m,n)),Y(n=>this.accountingTypeModal.open(n)),z(n=>n),(0,U.T)(()=>this.accountingTypeModal.options),Y(n=>this._accountingTypesService.updateAccountingType(n,n.id)),(0,U.T)(()=>this.accountingTypeModal.options),x(n=>this._messageBox.success(`Tipo ${e.name} aggiornato`)),x(()=>this._readAccountingTypes())).subscribe())}deleteAccountingType(e){this._messageBox.confirm(`Sei sicuro di voler cancellare il tipo ${e.name}?`,"Conferma l'azione").subscribe(n=>{1==n&&this._subscriptions.push(this._accountingTypesService.deleteAccountingType(e.id).pipe(x(o=>this._messageBox.success(`Tipo ${e.name} cancellato con successo`)),x(()=>this._readAccountingTypes())).subscribe())})}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(xde),t.rXU(_t),t.rXU(Qi))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["app-accountingTypes"]],viewQuery:function(n,o){if(1&n&&t.GBs(a1n,7),2&n){let r;t.mGM(r=t.lsd())&&(o.accountingTypeModal=r.first)}},hostBindings:function(n,o){1&n&&t.bIt("resize",function(a){return o.onResize(a)},!1,t.tSv)},inputs:{accountingType:"accountingType"},features:[t.Vt3],decls:18,vars:13,consts:[["accountingTypeModal",""],[1,"d-flex","align-items-center","mb-3"],[1,"col"],[1,"col-auto"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fas","fa-plus"],[1,"grid-container"],["filterable","menu","scrollable","none",3,"dataStateChange","data","pageSize","skip","sort","filter","group","sortable","pageable"],["field","name","title","Nome"],["field","description","title","Descrizione"],["field","generateAlert","title","Genera Alert"],["kendoGridCellTemplate",""],["field","id","title"," ",3,"sortable","filterable","width"],["title","Modifica",1,"btn","btn-primary","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-edit"],["title","Elimina",1,"btn","btn-danger","btn-sm","grid-action-button",3,"click"],[1,"fas","fa-trash"]],template:function(n,o){if(1&n){const r=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"h4"),t.EFF(3,"Tipologie Voci Contabili"),t.k0s()(),t.j41(4,"div",3)(5,"button",4),t.bIt("click",function(){return t.eBV(r),t.Njj(o.createAccountingType())}),t.nrm(6,"i",5),t.EFF(7," NUOVO "),t.k0s()()(),t.j41(8,"div",6)(9,"kendo-grid",7),t.bIt("dataStateChange",function(l){return t.eBV(r),t.Njj(o.dataStateChange(l))}),t.nrm(10,"kendo-grid-column",8)(11,"kendo-grid-column",9),t.j41(12,"kendo-grid-column",10),t.DNE(13,l1n,2,3,"ng-template",11),t.k0s(),t.j41(14,"kendo-grid-column",12),t.DNE(15,c1n,4,0,"ng-template",11),t.k0s()()(),t.nrm(16,"app-accountingType-modal",null,0)}2&n&&(t.R7$(9),t.xc7("width",o.screenWidth,"px"),t.Y8G("data",o.dataAccountingTypes)("pageSize",o.stateGridAccountingTypes.take)("skip",o.stateGridAccountingTypes.skip)("sort",o.stateGridAccountingTypes.sort)("filter",o.stateGridAccountingTypes.filter)("group",o.stateGridAccountingTypes.group)("sortable",!0)("pageable",!0),t.R7$(5),t.Y8G("sortable",!1)("filterable",!1)("width",95))},dependencies:[Nn,yn,qn,r1n,gp],encapsulation:2})}return s})();const u1n=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:XTt,canActivate:[fi.asInjectableGuard]},{path:"login",component:xTt},{path:"logout",component:ITt},{path:"users",component:MTt,canActivate:[fi.asInjectableGuard]},{path:"vehicles",component:FMt,canActivate:[fi.asInjectableGuard]},{path:"customers",component:xMt,canActivate:[fi.asInjectableGuard]},{path:"suppliers",component:efn,canActivate:[fi.asInjectableGuard]},{path:"operators",component:dxt,canActivate:[fi.asInjectableGuard]},{path:"checklist",component:Ixt,canActivate:[fi.asInjectableGuard]},{path:"products",component:FUt,canActivate:[fi.asInjectableGuard]},{path:"activitytypes",component:QUt,canActivate:[fi.asInjectableGuard]},{path:"producttypes",component:l7t,canActivate:[fi.asInjectableGuard]},{path:"jobs",component:XZt,canActivate:[fi.asInjectableGuard]},{path:"jobs-completed",component:jfn,canActivate:[fi.asInjectableGuard]},{path:"jobs-suspended",component:hgn,canActivate:[fi.asInjectableGuard]},{path:"jobs-archive",component:n1n,canActivate:[fi.asInjectableGuard]},{path:"tickets",component:K7e,canActivate:[fi.asInjectableGuard]},{path:"activities",component:J7e,canActivate:[fi.asInjectableGuard]},{path:"activities-from-product",component:zmn,canActivate:[fi.asInjectableGuard]},{path:"activities/:activityId",component:uhn,canActivate:[fi.asInjectableGuard],resolve:{activity:Ma.asActivityDetailResolver}},{path:"interventions-list",component:X7e,canActivate:[fi.asInjectableGuard]},{path:"interventions",component:fhn,canActivate:[fi.asInjectableGuard]},{path:"interventions-ko",component:dmn,canActivate:[fi.asInjectableGuard]},{path:"purchase-orders",component:q7e,canActivate:[fi.asInjectableGuard]},{path:"job-details",component:nmn,canActivate:[fi.asInjectableGuard]},{path:"jobs-progress-status",component:m_n,canActivate:[fi.asInjectableGuard]},{path:"messages-list",component:r_n,canActivate:[fi.asInjectableGuard]},{path:"interventionmessages-list",component:Ign,canActivate:[fi.asInjectableGuard]},{path:"notification-operators",component:y_n,canActivate:[fi.asInjectableGuard]},{path:"helpertypes",component:I_n,canActivate:[fi.asInjectableGuard]},{path:"helperdocuments",component:B_n,canActivate:[fi.asInjectableGuard]},{path:"accountingtypes",component:d1n,canActivate:[fi.asInjectableGuard]},{path:"job-accountings",component:Z7e,canActivate:[fi.asInjectableGuard]}];let h1n=(()=>{class s{static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275mod=t.$C({type:s});static#n=this.\u0275inj=t.G2t({imports:[CM.forRoot(u1n,{useHash:!0,onSameUrlNavigation:"reload"}),CM]})}return s})(),Fj=(()=>{class s{constructor(){this._pendingRequests=0,this._onNewRequest=new Xe.B,this._onRequestsCompleted=new Xe.B,this.onNewRequest=this._onNewRequest.asObservable(),this.onRequestsCompleted=this._onRequestsCompleted.asObservable()}newRequest(){this._pendingRequests++,this._onNewRequest.next()}requestCompleted(){this._pendingRequests>0?this._pendingRequests--:this._pendingRequests=0,this._pendingRequests||this._onRequestsCompleted.next()}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})(),p1n=(()=>{class s extends It{constructor(e){super(),this._loader=e,this.hidden=!0}ngOnInit(){this._subscribeLoaderEvents()}_subscribeLoaderEvents(){this._subscriptions.push(this._loader.onNewRequest.pipe(x(()=>this.hidden=!1)).subscribe(),this._loader.onRequestsCompleted.pipe(x(()=>this.hidden=!0)).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Fj))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["lacos-loader"],["","lacosLoader",""]],hostVars:2,hostBindings:function(n,o){2&n&&t.AVh("hidden",o.hidden)},features:[t.Vt3],decls:4,vars:0,consts:[[1,"loader"],["role","status",1,"spinner-grow","text-light"],[1,"sr-only"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"span",2),t.EFF(3,"Loading..."),t.k0s()()())},encapsulation:2})}return s})();const f1n=()=>["/activities"],m1n=s=>({referentId:s}),_1n=()=>["/messages-list"];function g1n(s,i){if(1&s&&(t.j41(0,"div",16),t.EFF(1),t.k0s()),2&s){const e=t.XpG(3);t.R7$(),t.JRh(e.ticketsCounters.newTickets)}}function v1n(s,i){1&s&&t.nrm(0,"i",17)}function S1n(s,i){if(1&s&&(t.j41(0,"a",21),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit;t.AVh("active",e.active),t.Y8G("routerLink",e.urlCommands),t.R7$(),t.SpI(" ",e.name," ")}}function C1n(s,i){1&s&&t.nrm(0,"div",22)}function b1n(s,i){if(1&s&&(t.qex(0),t.DNE(1,S1n,2,4,"a",19)(2,C1n,1,0,"div",20),t.bVm()),2&s){const e=i.$implicit;t.R7$(),t.Y8G("ngIf",e.enabled),t.R7$(),t.Y8G("ngIf",e.divider)}}function E1n(s,i){if(1&s&&(t.j41(0,"div",18),t.DNE(1,b1n,3,2,"ng-container",9),t.k0s()),2&s){const e=t.XpG(2).$implicit;t.AVh("show",e.isOpen),t.R7$(),t.Y8G("ngForOf",e.entries)}}function y1n(s,i){if(1&s){const e=t.RV6();t.j41(0,"li",6)(1,"a",12),t.bIt("click",function(){t.eBV(e);const o=t.XpG().$implicit,r=t.XpG();return t.Njj(o.isDropDown&&r.toggle(o))}),t.EFF(2),t.DNE(3,g1n,2,1,"div",13)(4,v1n,1,0,"i",14),t.k0s(),t.DNE(5,E1n,2,3,"div",15),t.k0s()}if(2&s){const e=t.XpG().$implicit,n=t.XpG();t.AVh("dropdown",e.isDropDown)("active",e.active)("show",e.isOpen),t.R7$(),t.AVh("dropdown-toggle",e.isDropDown),t.Y8G("routerLink",e.urlCommands),t.R7$(),t.SpI(" ",e.name," "),t.R7$(),t.Y8G("ngIf","Tickets"==e.name&&n.ticketsCounters.newTickets>0),t.R7$(),t.Y8G("ngIf","Help"==e.name),t.R7$(),t.Y8G("ngIf",e.isDropDown)}}function k1n(s,i){if(1&s&&(t.qex(0),t.DNE(1,y1n,6,13,"li",11),t.bVm()),2&s){const e=i.$implicit;t.R7$(),t.Y8G("ngIf",e.enabled)}}function w1n(s,i){if(1&s&&(t.j41(0,"a",26),t.EFF(1),t.k0s()),2&s){const e=t.XpG(2);t.Y8G("routerLink",t.lJ4(3,f1n))("queryParams",t.eq3(4,m1n,null==e.currentOperator?null:e.currentOperator.id)),t.R7$(),t.JRh(e.newActivitiesCounter.newActivities)}}function D1n(s,i){if(1&s&&(t.j41(0,"a",27),t.nrm(1,"i",28),t.EFF(2),t.k0s()),2&s){const e=t.XpG(2);t.Y8G("routerLink",t.lJ4(2,_1n)),t.R7$(2),t.SpI(" ",e.unreadCounter,"")}}function O1n(s,i){if(1&s&&(t.j41(0,"span",23),t.EFF(1," Benvenuto, "),t.j41(2,"b"),t.EFF(3),t.k0s(),t.EFF(4,"! "),t.DNE(5,w1n,2,6,"a",24)(6,D1n,3,3,"a",25),t.k0s()),2&s){const e=t.XpG();t.R7$(3),t.JRh(e.user.userName),t.R7$(2),t.Y8G("ngIf",e.newActivitiesCounter.newActivities>0),t.R7$(),t.Y8G("ngIf",e.unreadCounter>0)}}let T1n=(()=>{class s extends It{constructor(e,n,o,r,a,l,c){super(),this._router=e,this._security=n,this._user=o,this._activityService=r,this._ticketService=a,this._messagesService=l,this._operatorsService=c,this.dropDownMenuEntry=yE,this.menu=new M1n([new yE("Anagrafiche",[new ps(["/customers"],"Clienti",u=>u.startsWith("/customers"),u=>u.isAuthorized(Pt.Administrator)),new ps(["/suppliers"],"Fornitori",u=>u.startsWith("/suppliers"),u=>u.isAuthorized(Pt.Administrator)),new ps(["/checklist"],"Checklist",u=>u.startsWith("/checklist"),u=>u.isAuthorized(Pt.Administrator)),new ps(["/products"],"Prodotti",u=>u.startsWith("/products"),u=>u.isAuthorized(Pt.Administrator)),new ps(["/vehicles"],"Mezzi di trasporto",u=>u.startsWith("/vehicles"),u=>u.isAuthorized(Pt.Administrator)),new ps(["/activitytypes"],"Tipologie Attivit\xe0",u=>u.startsWith("/activitytypes"),u=>u.isAuthorized(Pt.Administrator)),new ps(["/producttypes"],"Tipi Prodotto",u=>u.startsWith("/producttypes"),u=>u.isAuthorized(Pt.Administrator)),new ps(["/accountingtypes"],"Voci Contabili",u=>u.startsWith("/accountingtypes"),u=>u.isAuthorized(Pt.Administrator))]),new ps(["/tickets"],"Tickets",u=>u.startsWith("/tickets"),u=>u.isAuthenticated()),new yE("Commesse",[new ps(["/jobs"],"Commesse",u=>u.startsWith("/jobs"),u=>u.isAuthorized(Pt.Administrator)),new ps(["/jobs-completed"],"Commesse Completate",u=>u.startsWith("/jobs-completed"),u=>u.isAuthorized(Pt.Administrator)),new ps(["/jobs-suspended"],"Commesse Sospese",u=>u.startsWith("/jobs-suspended"),u=>u.isAuthorized(Pt.Administrator)),new ps(["/jobs-archive"],"Archivio Storico Commesse",u=>u.startsWith("/jobs-archive"),u=>u.isAuthorized(Pt.Administrator))]),new yE("Pianificazione",[new ps(["/jobs"],"Commesse",u=>u.startsWith("/jobs"),u=>u.isAuthorized(Pt.Administrator)),new ps(["/activities"],"Attivit\xe0",u=>u.startsWith("/activities"),u=>u.isAuthenticated()),new ps(["/interventions"],"Calendario",u=>"/interventions"===u,u=>u.isAuthorized(Pt.Administrator)),new ps(["/interventions-list"],"Elenco Interventi",u=>u.startsWith("/interventions-list"),u=>u.isAuthorized(Pt.Administrator))]),new ps(["/purchase-orders"],"Ordini Acquisto",u=>u.startsWith("/purchase-orders"),u=>u.isAuthenticated()),new yE("Utility Varie",[new ps(["/interventions-ko"],"Interventi KO",u=>u.startsWith("/interventions-ko"),u=>u.isAuthorized(Pt.Administrator)),new ps(["/jobs-progress-status"],"Avanzamento Commesse",u=>u.startsWith("/jobs-progress-status"),u=>u.isAuthorized(Pt.Administrator)),new ps(["/activities-from-product"],"Ricerca Attivit\xe0 Prodotto",u=>u.startsWith("/activities-from-product"),u=>u.isAuthorized(Pt.Administrator)),new ps(["/messages-list"],"Commenti",u=>u.startsWith("/messages-list"),u=>u.isAuthenticated()),new ps(["/interventionmessages-list"],"Commenti Interventi da App",u=>u.startsWith("/interventionmessages-list"),u=>u.isAuthenticated())]),new yE("Gestione",[new ps(["/operators"],"Operatori",u=>u.startsWith("/operators"),u=>u.isAuthorized(Pt.Administrator)),new ps(["/users"],"Utenti",u=>u.startsWith("/users"),u=>u.isAuthorized(Pt.Administrator)),new ps(["/notification-operators"],"Operatori Notifica",u=>u.startsWith("/notification-operators"),u=>u.isAuthorized(Pt.Administrator))]),new yE("Help",[new ps(["/helperdocuments"],"Guide utili",u=>u.startsWith("/helperdocuments"),u=>u.isAuthenticated()),new ps(["/helpertypes"],"Tipologie Guide",u=>u.startsWith("/helpertypes"),u=>u.isAuthorized(Pt.Administrator))]),new ps(["/logout"],"Logout",()=>!1,u=>u.isAuthenticated()),new ps(["/login"],"Login",u=>u.startsWith("/login"),u=>!u.isAuthenticated())]),this.newActivitiesCounter=new hR(0)}ngOnInit(){this.ticketsCounters=new pR(0,0),this.user=this._user.getUser(),this._subscribeRouterEvents(),this._subscribeSecurityEvents(),this.intervalId=window.setInterval(()=>{this._getTicketsCounters(),this._getNewActivitiesCounter()},3e5),this._getTicketsCounters(),this._getNewActivitiesCounter(),this._getCurrentOperator(this.user.id)}ngOnDestroy(){this.intervalId&&clearInterval(this.intervalId)}toggle(e){e.isOpen?e.close():(e.open(),setTimeout(()=>this._subscriptions.push(wt(document,"click").pipe(Ye(1),x(()=>e.close())).subscribe())))}_subscribeRouterEvents(){this._subscriptions.push(this._router.events.pipe(z(e=>e instanceof Ad),x(e=>this.menu.refresh(e.url,this._security))).subscribe())}_subscribeSecurityEvents(){this._subscriptions.push(this._user.userChanged.pipe(x(e=>this.user=e),x(()=>this.menu.refresh(this._router.url,this._security))).subscribe())}_getTicketsCounters(){this._subscriptions.push(this._ticketService.readTicketsCounters().pipe(x(e=>{this.ticketsCounters=e})).subscribe())}_getNewActivitiesCounter(){this._subscriptions.push(this._activityService.readNewActivitiesCounter().pipe(x(e=>{this.newActivitiesCounter=e})).subscribe())}_getCurrentOperator(e){this._subscriptions.push(this._operatorsService.getOperatorByUserId(e).pipe(x(n=>{this.currentOperator=n,this._getUnreadCounter()})).subscribe())}_getUnreadCounter(){this._subscriptions.push(this._messagesService.getUnreadCounter(this.currentOperator.id).pipe(x(e=>{this.unreadCounter=e})).subscribe())}static#e=this.\u0275fac=function(n){return new(n||s)(t.rXU(Qi),t.rXU(mr),t.rXU(Ci),t.rXU(Ma),t.rXU(_b),t.rXU(_m),t.rXU(br))};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["lacos-menu"]],features:[t.Vt3],decls:12,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light","mb-4","navbar-border"],[1,"container"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto"],[1,"nav-item"],["routerLink","home",1,"nav-link"],["src","assets/icons/favicon-32x32.png","width","24px"],[4,"ngFor","ngForOf"],["class","navbar-text",4,"ngIf"],["class","nav-item",3,"dropdown","active","show",4,"ngIf"],[1,"nav-link",3,"click","routerLink"],["class","red-number bage-number",4,"ngIf"],["class","fas fa-circle-question",4,"ngIf"],["class","dropdown-menu",3,"show",4,"ngIf"],[1,"red-number","bage-number"],[1,"fas","fa-circle-question"],[1,"dropdown-menu"],["class","dropdown-item",3,"routerLink","active",4,"ngIf"],["class","dropdown-divider",4,"ngIf"],[1,"dropdown-item",3,"routerLink"],[1,"dropdown-divider"],[1,"navbar-text"],["routerLinkActive","active","class","red-number bage-number",3,"routerLink","queryParams",4,"ngIf"],["routerLinkActive","active","class","red-number bage-number",3,"routerLink",4,"ngIf"],["routerLinkActive","active",1,"red-number","bage-number",3,"routerLink","queryParams"],["routerLinkActive","active",1,"red-number","bage-number",3,"routerLink"],[1,"fa","fa-comments"]],template:function(n,o){1&n&&(t.j41(0,"nav",0)(1,"div",1)(2,"button",2),t.nrm(3,"span",3),t.k0s(),t.j41(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),t.nrm(8,"img",8),t.EFF(9," Home "),t.k0s()(),t.DNE(10,k1n,2,1,"ng-container",9),t.k0s(),t.DNE(11,O1n,7,3,"span",10),t.k0s()()()),2&n&&(t.R7$(10),t.Y8G("ngForOf",o.menu.entries),t.R7$(),t.Y8G("ngIf",o.user))},dependencies:[st,W,Hl,mk],styles:[".bage-number[_ngcontent-%COMP%]{float:right;padding:2px 8px;border-radius:5px;margin-left:5px;color:#fff;font-weight:700;font-size:.8em}.red-number[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:1px solid #FFF;text-decoration:none}"]})}return s})();class M1n{constructor(i){this.entries=i}refresh(i,e){this.entries.forEach(n=>n.refresh(i,e))}}class ps{constructor(i,e,n,o,r){this.urlCommands=i,this.name=e,this._isActive=n,this._isEnabled=o,this.divider=r}refresh(i,e){this.enabled=this._isEnabled(e),this.active=this._isActive(i)}}class yE extends ps{constructor(i,e){super([],i,()=>e.some(n=>n.active),()=>e.some(n=>n.enabled)),this.entries=e,this.isDropDown=!0,this.isOpen=!1}refresh(i,e){this.entries.forEach(n=>n.refresh(i,e)),super.refresh(i,e)}open(){this.isOpen=!0}close(){this.isOpen=!1}}let I1n=(()=>{class s{static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275cmp=t.VBU({type:s,selectors:[["lacos-app"],["","lacosApp",""]],decls:5,vars:0,consts:[[1,"container"],["kendoDialogContainer",""]],template:function(n,o){1&n&&(t.nrm(0,"lacos-menu"),t.j41(1,"div",0),t.nrm(2,"router-outlet"),t.k0s(),t.nrm(3,"div",1)(4,"lacos-loader"))},dependencies:[tk,m$e,p1n,T1n],encapsulation:2})}return s})();const Na=void 0,A1n=["it",[["m.","p."],["AM","PM"],Na],Na,[["D","L","M","M","G","V","S"],["dom","lun","mar","mer","gio","ven","sab"],["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"],["dom","lun","mar","mer","gio","ven","sab"]],Na,[["G","F","M","A","M","G","L","A","S","O","N","D"],["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]],Na,[["aC","dC"],["a.C.","d.C."],["avanti Cristo","dopo Cristo"]],1,[6,0],["dd/MM/yy","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",Na,"{1} {0}",Na],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{BRL:[Na,"R$"],BYN:[Na,"Br"],EGP:[Na,"\xa3E"],HKD:[Na,"$"],INR:[Na,"\u20b9"],JPY:[Na,"\xa5"],KRW:[Na,"\u20a9"],MXN:[Na,"$"],NOK:[Na,"NKr"],THB:["\u0e3f"],TWD:[Na,"NT$"],USD:[Na,"$"],VND:[Na,"\u20ab"]},"ltr",function x1n(s){const e=Math.floor(Math.abs(s)),n=s.toString().replace(/^[^.]*\.?/,"").length,o=parseInt(s.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===e&&0===n?1:0===o&&0!==e&&e%1e6==0&&0===n||!(o>=0&&o<=5)?4:5}];_e(815),function(s){s.ng??={},s.ng.common??={},s.ng.common.locales??={};const i=void 0;s.ng.common.locales.it=["it",[["m.","p."],["AM","PM"],i],i,[["D","L","M","M","G","V","S"],["dom","lun","mar","mer","gio","ven","sab"],["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"],["dom","lun","mar","mer","gio","ven","sab"]],i,[["G","F","M","A","M","G","L","A","S","O","N","D"],["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]],i,[["aC","dC"],["a.C.","d.C."],["avanti Cristo","dopo Cristo"]],1,[6,0],["dd/MM/yy","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",i,"{1} {0}",i],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{BRL:[i,"R$"],BYN:[i,"Br"],EGP:[i,"\xa3E"],HKD:[i,"$"],INR:[i,"\u20b9"],JPY:[i,"\xa5"],KRW:[i,"\u20a9"],MXN:[i,"$"],NOK:[i,"NKr"],THB:["\u0e3f"],TWD:[i,"NT$"],USD:[i,"$"],VND:[i,"\u20ab"]},"ltr",function e(n){const r=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length,l=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===r&&0===a?1:0===l&&0!==r&&r%1e6==0&&0===a||!(l>=0&&l<=5)?4:5},[[["mezzanotte","mezzogiorno","di mattina","di pomeriggio","di sera","di notte"],i,["mezzanotte","mezzogiorno","di mattina","del pomeriggio","di sera","di notte"]],[["mezzanotte","mezzogiorno","mattina","pomeriggio","sera","notte"],i,i],["00:00","12:00",["06:00","12:00"],["12:00","18:00"],["18:00","24:00"],["00:00","06:00"]]]]}(globalThis);let N1n=(()=>{class s{constructor(e,n){this._userService=e,this._sharepointService=n}intercept(e,n){const o=this._userService.getUser(),r=e.url.includes("sharepoint"),a=e.url.includes("token");let l=e.headers;r&&!a?(l=l.set("Authorization","Bearer "+this._sharepointService.graphApi.accessToken),l=l.set("Content-Type","application/json;odata=verbose")):(o&&o.accessToken&&(l=l.set("Authorization","Bearer "+o.accessToken)),e.body instanceof FormData||(l=l.set("Content-Type","application/json")));const c=e.clone({headers:l});return n.handle(c)}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(Ci),t.KVO(Q4))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})(),L1n=(()=>{class s{constructor(e,n,o){this._router=e,this._userService=n,this._messageBox=o}intercept(e,n){return n.handle(e).pipe(Lc(o=>this._catchError(o,e)),$h(()=>{}))}_catchError(e,n){const o=n.url.includes("token");return e instanceof xf&&this._manageHttpError(e)&&!o?pt():Vl(()=>e)}_manageHttpError(e){switch(e.status){case 401:return this._userService.hasUser&&this._userService.removeUser(),this._router.navigateByUrl("/login"),!0;case 500:case 400:return this._messageBox.error(e.error),!0}return!1}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(Qi),t.KVO(Ci),t.KVO(_t))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})(),G1n=(()=>{class s{constructor(e){this._loaderService=e}intercept(e,n){const o=e.headers.has("avoid-loader");return o?e.headers.delete("avoid-loader"):this._loaderService.newRequest(),n.handle(e).pipe($h(()=>!o&&this._loaderService.requestCompleted()))}static#e=this.\u0275fac=function(n){return new(n||s)(t.KVO(Fj))};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})(),P1n=(()=>{class s{intercept(e,n){if("saveUrl"===e.url){const o=[0,30,60,100].map(a=>pt({type:Gr.UploadProgress,loaded:a,total:100}).pipe(X_(1e3))),r=pt(new Rd({status:200})).pipe(X_(1e3));return o.push(r),nC(...o)}return"removeUrl"===e.url?pt(new Rd({status:200})):n.handle(e)}static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275prov=t.jDH({token:s,factory:s.\u0275fac})}return s})();!function f2(s,i,e){(0,t.XSP)(s,i,e)}(A1n,"it",[[["mezzanotte","mezzogiorno","di mattina","di pomeriggio","di sera","di notte"],void 0,["mezzanotte","mezzogiorno","di mattina","del pomeriggio","di sera","di notte"]],[["mezzanotte","mezzogiorno","mattina","pomeriggio","sera","notte"],void 0,void 0],["00:00","12:00",["06:00","12:00"],["12:00","18:00"],["18:00","24:00"],["00:00","06:00"]]]);let F1n=(()=>{class s{static#e=this.\u0275fac=function(n){return new(n||s)};static#t=this.\u0275mod=t.$C({type:s,bootstrap:[I1n]});static#n=this.\u0275inj=t.G2t({providers:[{provide:t.xe9,useValue:"it"},Pr,Ci,sV,mr,{provide:t.hnV,useFactory:Cv,multi:!0,deps:[mr,Ci]},{provide:Tk,useClass:N1n,multi:!0,deps:[Ci,Q4]},_t,{provide:Tk,useClass:L1n,multi:!0,deps:[Qi,Ci,_t]},Fj,{provide:Tk,useClass:G1n,multi:!0,deps:[Fj]},{provide:Tk,useClass:P1n,multi:!0},fi,yl,Sb,lh,br,tse,SR,Sp,vR,dr,Ma,Jz,Oh,_b,Sb,wh,_m,eBe,Rde,tBe,xde,Q7e],imports:[M2,Wq,o0,d8,Ov,Gt.W5,h1n,x$e,iOt,tZt,Hge,R5,pw,Mbe,wFe,vge,ySe,Rvt,gOt,vx,hOt,FIt,Zdn,amt,dUt,qWt,qMe,dW]})}return s})();class U1n extends Array{constructor(i){super(),this.key=i}}(function B1n(){Array.prototype.remove=function(n){const o=this.indexOf(n);return o<0?null:this.splice(o,1)[0]},Array.prototype.removeLast=function(){return this.isEmpty()?null:this.splice(this.length-1,1)[0]},Array.prototype.findAndRemove=function(n){const o=this.findIndex(n);return o<0?null:this.splice(o,1)[0]},Array.prototype.filterAndRemove=function(n){return this.filter(o=>n(o)).map(o=>this.remove(o))},Array.prototype.toggle=function(n){const o=this.indexOf(n);o<0?this.push(n):this.splice(o,1)},Array.prototype.distinct=function(n){const o=[];return this.forEach(n?r=>o.some(a=>n(r,a))||o.push(r):r=>o.indexOf(r)<0&&o.push(r)),o},Array.prototype.first=function(){return this[0]},Array.prototype.last=function(){return this[this.length-1]},Array.prototype.replace=function(n,o){const r=this.indexOf(n);r<0||this.splice(r,1,o)},Array.prototype.clear=function(){this.splice(0,this.length)},Array.prototype.all=function(n){for(let o=0;o<this.length;o++)if(!n(this[o],o))return!1;return!0},Array.prototype.sum=function(n){let o=0;return this.forEach((r,a)=>o+=n(r,a)),o},Array.prototype.average=function(n){return this.length?this.sum(n)/this.length:0},Array.prototype.max=function(n,o=null){let r;return this.forEach(a=>r=s(a,n,r)),null==r&&null!=o?o:r};const s=(n,o,r)=>{const a=o(n);return null==r||a>r?a:r};Array.prototype.min=function(n,o=null){let r;return this.forEach(a=>r=i(a,n,r)),null==r&&null!=o?o:r};const i=(n,o,r)=>{const a=o(n);return null==r||a<r?a:r};Array.prototype.skip=function(n){const o=n-1;return this.filter((r,a)=>a>o)},Array.prototype.take=function(n){return this.filter((o,r)=>r<n)},Array.prototype.contains=function(...n){return n.all(o=>this.indexOf(o)>=0)},Array.prototype.containsAny=function(...n){return n.some(o=>this.indexOf(o)>=0)},Array.prototype.any=function(){return this.length>0},Array.prototype.groupBy=function(n,o,r){const a=[];for(const l of this){const c=n(l);let u=a.find(r?_=>r(_.key,c):_=>_.key===c);null==u&&(u=new U1n(c),a.push(u));const f=o?o(l):l;u.push(f)}return a},Array.prototype.orderBy=function(...n){return this.sort((o,r)=>e(o,r,n))},Array.prototype.orderByDescending=function(...n){return this.sort((o,r)=>-1*e(o,r,n))};const e=(n,o,r,a=0)=>{const l=r[a];if(!l)return 0;const c=l(n),u=l(o),f=c<u?-1:c>u?1:0;return 0==f?e(n,o,r,a+1):f};Array.prototype.orderByReference=function(n,o){return this.orderBy(r=>n.findIndex(a=>o(r,a)))},Array.prototype.findLast=function(n){return this.clone().reverse().find(n)},Array.prototype.findLastIndex=function(n){const o=this.findLast(n);return this.lastIndexOf(o)},Array.prototype.as=function(){return this},Array.prototype.clone=function(){return this.concat([])},Array.prototype.isEmpty=function(){return 0===this.length},Array.prototype.pushIfNotContained=function(...n){for(const o of n)this.contains(o)||this.push(o)},Array.prototype.reload=function(n){this.splice(0,this.length,...n)},Array.prototype.except=function(...n){return this.filter(o=>!n.contains(o))},Array.prototype.isFirst=function(n){return 0===this.indexOf(n)},Array.prototype.getPrevious=function(n){return this[this.indexOf(n)-1]},Array.prototype.getNext=function(n){return this[this.indexOf(n)+1]},Array.prototype.multiply=function(n){const o=[];for(let r=0;r<n;r++)o.push(...this);return o},Array.prototype.fillProgressively=function(n,o,r){return l0(r).pipe(PCe(()=>this.length!==n.length),x(a=>this.push(...n.skip(a*o).take(o)))).subscribe()},Array.prototype.excludingLast=function(){return this.splice(this.length-1,1),this},Array.prototype.count=function(n){return this.filter(o=>n(o)).length},Array.prototype.atLeast=function(n,o){if(o>this.length)return!1;let r=0;for(const a of this)if(n(a)&&(r++,r===o))return!0;return!1},Array.prototype.atMost=function(n,o){let r=0;for(const a of this)if(n(a)&&(r++,r>o))return!1;return!0},Array.prototype.isEquivalentTo=function(n){return null!=n&&n.length===this.length&&this.contains(...n)},Array.prototype.equals=function(n){if(null==n)return!1;if(n===this)return!0;if(n.length!==this.length)return!1;for(let o=0;o<this.length;o++){const r=this[o],a=n[o];if(null!=r||null!=a){if(null!=r&&null==a||null==r&&null!=a)return!1;if("function"==typeof r.equals&&"function"==typeof a.equals){if(r.equals(a))continue;return!1}if("function"==typeof r.valueOf&&"function"==typeof a.valueOf){if(r.valueOf()===a.valueOf())continue;return!1}if(r!==a)return!1}}return!0},Array.prototype.batched=function(n){let o;const r=[];for(let a=0;a<this.length;a++){const c=this[a];a%n||(o=[],r.push(o)),o.push(c)}return r},Array.prototype.insertAt=function(n,o){this.splice(o,0,n)},Array.prototype.insertBefore=function(n,o){const r=this.indexOf(o);this.splice(r,0,n)},Array.prototype.insertAfter=function(n,o){const r=this.indexOf(o)+1;this.splice(r,0,n)},Array.prototype.changePosition=function(n,o){const r=this[n];return o===n||(n<o?(this.splice(n,1),this.splice(o,0,r)):(this.splice(o,0,r),this.splice(n+1,1))),r},Array.prototype.innerJoin=function(n,o,r){const a=new Array;for(const l of this)for(const c of n)if(o(l,c)){const u=r(l,c);a.push(u)}return a},Array.prototype.leftJoin=function(n,o,r){const a=new Array;for(const l of this){let c=!1;for(const u of n){if(!o(l,u))continue;c=!0;const f=r(l,u);a.push(f)}if(!c){const u=r(l,null);a.push(u)}}return a},Array.prototype.takeFrom=function(n){const o=this.indexOf(n);return o<0?[]:this.filter((r,a)=>a>=o)}})(),function V1n(){Date.prototype.toDateWithoutTime=function(){return new Date(this.getFullYear(),this.getMonth(),this.getDate())},Date.prototype.toOffsetString=function(){return Ln.fromJSDate(this).toISO()},Date.prototype.addYears=function(s){return this.add({years:s})},Date.prototype.addMonths=function(s){return this.add({months:s})},Date.prototype.addDays=function(s){return this.add({days:s})},Date.prototype.addMinutes=function(s){return this.add({minutes:s})},Date.prototype.addHours=function(s){return this.add({hours:s})},Date.prototype.getDifferenceInMinutes=function(s){return(this.getTime()-s.getTime())/1e3/60},Date.prototype.add=function(s){return Ln.fromJSDate(this).plus(s).toJSDate()},Date.prototype.subtract=function(s){return Ln.fromJSDate(this).minus(s).toJSDate()},Date.prototype.isToday=function(){return this.hasSameDate(new Date)},Date.prototype.isAfter=function(s){return this.getTime()>s.getTime()},Date.prototype.isAfterOrEquals=function(s){return this.getTime()>=s.getTime()},Date.prototype.isBefore=function(s){return this.getTime()<s.getTime()},Date.prototype.isBeforeOrEquals=function(s){return this.getTime()<=s.getTime()},Date.prototype.isFuture=function(){return this.isAfter(new Date)},Date.prototype.isPast=function(){return this.isBefore(new Date)},Date.prototype.hasSameDate=function(s){return null!=s&&this.getFullYear()===s.getFullYear()&&this.getMonth()===s.getMonth()&&this.getDate()===s.getDate()},Date.prototype.hasSameDateAndTime=function(s){return null!=s&&this.getTime()===s.getTime()},Date.prototype.hasSameMonth=function(s){return null!=s&&this.getMonth()===s.getMonth()&&this.getFullYear()===s.getFullYear()},Date.prototype.getFirstDateOfMonth=function(){return new Date(this.getFullYear(),this.getMonth(),1)},Date.prototype.getAge=function(){const i=-Ln.fromJSDate(this).diffNow("years").years;return Math.floor(i)},Date.prototype.isUnderage=function(){return this.getAge()<15},Date.prototype.isAdult=function(){return this.getAge()>=18},Date.prototype.clone=function(){return new Date(this)}}(),function j1n(){String.prototype.capitalize=function(){return this.split(" ").map(s=>s.length>1?s[0].toUpperCase()+s.substring(1):1===s.length?s.toUpperCase():s).join(" ")},String.prototype.removeSpaces=function(){return this.replace(/ /gi,"")}}(),function z1n(){Number.prototype.subtract=function(s){return(this-s).round()},Number.prototype.add=function(s){return(this+s).round()},Number.prototype.multiply=function(s){return(this*s).round()},Number.prototype.divide=function(s){return(this/s).round()},Number.prototype.round=function(){return Math.round(100*this)/100},Number.prototype.percent=function(s){return this.multiply(s).divide(100)},Number.prototype.percentRemaining=function(s){return this.subtract(this.percent(s))}}(),function H1n(){Mi.prototype.markAsDirty=function(){Xr(this)}}(),ua().bootstrapModule(F1n).catch(s=>console.error(s))},815:(Fs,un,_e)=>{(0,_e(446).XO)({name:"it",identity:{language:"it"},territory:"IT",numbers:{symbols:{decimal:",",group:".",list:";",percentSign:"%",plusSign:"+",minusSign:"-",approximatelySign:"~",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["n\xa0$"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},accounting:{patterns:["n\xa0$"],groupSize:[3]},currencies:{ADP:{displayName:"peseta andorrana",symbol:"ADP"},AED:{displayName:"dirham degli Emirati Arabi Uniti","displayName-count-one":"dirham degli EAU","displayName-count-other":"dirham degli EAU",symbol:"AED"},AFA:{displayName:"afgani (1927\u20132002)",symbol:"AFA"},AFN:{displayName:"afghani","displayName-count-one":"afghani","displayName-count-other":"afghani",symbol:"AFN","symbol-alt-narrow":"\u060b"},ALK:{displayName:"ALK",symbol:"ALK"},ALL:{displayName:"lek albanese","displayName-count-one":"lek albanese","displayName-count-other":"lek\xeb albanesi",symbol:"ALL"},AMD:{displayName:"dram armeno","displayName-count-one":"dram armeno","displayName-count-other":"dram armeni",symbol:"AMD","symbol-alt-narrow":"\u058f"},ANG:{displayName:"fiorino delle Antille olandesi","displayName-count-one":"fiorino delle Antille olandesi","displayName-count-other":"fiorini delle Antille olandesi",symbol:"ANG"},AOA:{displayName:"kwanza angolano","displayName-count-one":"kwanza angolano","displayName-count-other":"kwanzas angolani",symbol:"AOA","symbol-alt-narrow":"Kz"},AOK:{displayName:"kwanza angolano (1977\u20131990)",symbol:"AOK"},AON:{displayName:"nuovo kwanza angolano (1990\u20132000)",symbol:"AON"},AOR:{displayName:"kwanza reajustado angolano (1995\u20131999)",symbol:"AOR"},ARA:{displayName:"austral argentino",symbol:"ARA"},ARL:{displayName:"ARL",symbol:"ARL"},ARM:{displayName:"ARM",symbol:"ARM"},ARP:{displayName:"peso argentino (vecchio Cod.)",symbol:"ARP"},ARS:{displayName:"peso argentino","displayName-count-one":"peso argentino","displayName-count-other":"pesos argentini",symbol:"ARS","symbol-alt-narrow":"$"},ATS:{displayName:"scellino austriaco",symbol:"ATS"},AUD:{displayName:"dollaro australiano","displayName-count-one":"dollaro australiano","displayName-count-other":"dollari australiani",symbol:"A$","symbol-alt-narrow":"$"},AWG:{displayName:"fiorino di Aruba","displayName-count-one":"fiorino di Aruba","displayName-count-other":"fiorini di Aruba",symbol:"AWG"},AZM:{displayName:"manat azero (1993\u20132006)",symbol:"AZM"},AZN:{displayName:"manat azero","displayName-count-one":"manat azero","displayName-count-other":"manat azeri",symbol:"AZN","symbol-alt-narrow":"\u20bc"},BAD:{displayName:"dinar Bosnia-Herzegovina",symbol:"BAD"},BAM:{displayName:"marco convertibile della Bosnia-Herzegovina","displayName-count-one":"marco convertibile della Bosnia-Herzegovina","displayName-count-other":"marchi convertibili della Bosnia-Herzegovina",symbol:"BAM","symbol-alt-narrow":"KM"},BAN:{displayName:"BAN",symbol:"BAN"},BBD:{displayName:"dollaro di Barbados","displayName-count-one":"dollaro di Barbados","displayName-count-other":"dollari di Barbados",symbol:"BBD","symbol-alt-narrow":"$"},BDT:{displayName:"taka bangladese","displayName-count-one":"taka bengalese","displayName-count-other":"taka bengalesi",symbol:"BDT","symbol-alt-narrow":"\u09f3"},BEC:{displayName:"franco belga (convertibile)",symbol:"BEC"},BEF:{displayName:"franco belga",symbol:"BEF"},BEL:{displayName:"franco belga (finanziario)",symbol:"BEL"},BGL:{displayName:"lev bulgaro (1962\u20131999)","displayName-count-one":"lev bulgaro (1962\u20131999)","displayName-count-other":"leva bulgari (1962\u20131999)",symbol:"BGL"},BGM:{displayName:"BGM",symbol:"BGM"},BGN:{displayName:"lev bulgaro","displayName-count-one":"lev bulgaro","displayName-count-other":"leva bulgari",symbol:"BGN"},BGO:{displayName:"BGO",symbol:"BGO"},BHD:{displayName:"dinaro del Bahrein","displayName-count-one":"dinaro del Bahrein","displayName-count-other":"dinari del Bahrein",symbol:"BHD"},BIF:{displayName:"franco del Burundi","displayName-count-one":"franco del Burundi","displayName-count-other":"franchi del Burundi",symbol:"BIF"},BMD:{displayName:"dollaro delle Bermuda","displayName-count-one":"dollaro delle Bermuda","displayName-count-other":"dollari delle Bermuda",symbol:"BMD","symbol-alt-narrow":"$"},BND:{displayName:"dollaro del Brunei","displayName-count-one":"dollaro del Brunei","displayName-count-other":"dollari del Brunei",symbol:"BND","symbol-alt-narrow":"$"},BOB:{displayName:"boliviano","displayName-count-one":"boliviano","displayName-count-other":"boliviani",symbol:"BOB","symbol-alt-narrow":"Bs"},BOL:{displayName:"BOL",symbol:"BOL"},BOP:{displayName:"peso boliviano",symbol:"BOP"},BOV:{displayName:"mvdol boliviano",symbol:"BOV"},BRB:{displayName:"cruzeiro novo brasiliano (1967\u20131986)",symbol:"BRB"},BRC:{displayName:"cruzado brasiliano",symbol:"BRC"},BRE:{displayName:"cruzeiro brasiliano (1990\u20131993)",symbol:"BRE"},BRL:{displayName:"real brasiliano","displayName-count-one":"real brasiliano","displayName-count-other":"real brasiliani",symbol:"BRL","symbol-alt-narrow":"R$"},BRN:{displayName:"cruzado novo brasiliano",symbol:"BRN"},BRR:{displayName:"cruzeiro brasiliano",symbol:"BRR"},BRZ:{displayName:"BRZ",symbol:"BRZ"},BSD:{displayName:"dollaro delle Bahamas","displayName-count-one":"dollaro delle Bahamas","displayName-count-other":"dollari delle Bahamas",symbol:"BSD","symbol-alt-narrow":"$"},BTN:{displayName:"ngultrum bhutanese","displayName-count-one":"ngultrum bhutanese","displayName-count-other":"ngultrum bhutanesi",symbol:"BTN"},BUK:{displayName:"kyat birmano",symbol:"BUK"},BWP:{displayName:"pula del Botswana","displayName-count-one":"pula del Botswana","displayName-count-other":"pula del Botswana",symbol:"BWP","symbol-alt-narrow":"P"},BYB:{displayName:"nuovo rublo bielorusso (1994\u20131999)",symbol:"BYB"},BYN:{displayName:"rublo bielorusso","displayName-count-one":"rublo bielorusso","displayName-count-other":"rubli bielorussi",symbol:"BYN","symbol-alt-narrow":"Br"},BYR:{displayName:"rublo bielorusso (2000\u20132016)","displayName-count-one":"rublo bielorusso (2000\u20132016)","displayName-count-other":"rubli bielorussi (2000\u20132016)",symbol:"BYR"},BZD:{displayName:"dollaro del Belize","displayName-count-one":"dollaro del Belize","displayName-count-other":"dollari del Belize",symbol:"BZD","symbol-alt-narrow":"$"},CAD:{displayName:"dollaro canadese","displayName-count-one":"dollaro canadese","displayName-count-other":"dollari canadesi",symbol:"CA$","symbol-alt-narrow":"$"},CDF:{displayName:"franco congolese","displayName-count-one":"franco congolese","displayName-count-other":"franchi congolesi",symbol:"CDF"},CHE:{displayName:"CHE",symbol:"CHE"},CHF:{displayName:"franco svizzero","displayName-count-one":"franco svizzero","displayName-count-other":"franchi svizzeri",symbol:"CHF"},CHW:{displayName:"CHW",symbol:"CHW"},CLE:{displayName:"CLE",symbol:"CLE"},CLF:{displayName:"unidades de fomento chilene",symbol:"CLF"},CLP:{displayName:"peso cileno","displayName-count-one":"peso cileno","displayName-count-other":"pesos cileni",symbol:"CLP","symbol-alt-narrow":"$"},CNH:{displayName:"renmimbi cinese offshore","displayName-count-one":"renmimbi cinese offshore","displayName-count-other":"renmimbi cinesi offshore",symbol:"CNH"},CNX:{displayName:"CNX",symbol:"CNX"},CNY:{displayName:"renminbi cinese","displayName-count-one":"renmimbi cinese","displayName-count-other":"renmimbi cinesi",symbol:"CN\xa5","symbol-alt-narrow":"\xa5"},COP:{displayName:"peso colombiano","displayName-count-one":"peso colombiano","displayName-count-other":"pesos colombiani",symbol:"COP","symbol-alt-narrow":"$"},COU:{displayName:"COU",symbol:"COU"},CRC:{displayName:"col\xf3n costaricano","displayName-count-one":"col\xf3n costaricano","displayName-count-other":"col\xf3n costaricani",symbol:"CRC","symbol-alt-narrow":"\u20a1"},CSD:{displayName:"antico dinaro serbo",symbol:"CSD"},CSK:{displayName:"corona forte cecoslovacca",symbol:"CSK"},CUC:{displayName:"peso cubano convertibile","displayName-count-one":"peso cubano convertibile","displayName-count-other":"pesos cubani convertibili",symbol:"CUC","symbol-alt-narrow":"$"},CUP:{displayName:"peso cubano","displayName-count-one":"peso cubano","displayName-count-other":"pesos cubani",symbol:"CUP","symbol-alt-narrow":"$"},CVE:{displayName:"escudo capoverdiano","displayName-count-one":"escudo capoverdiano","displayName-count-other":"escudos capoverdiani",symbol:"CVE"},CYP:{displayName:"sterlina cipriota",symbol:"CYP"},CZK:{displayName:"corona ceca","displayName-count-one":"corona ceca","displayName-count-other":"corone ceche",symbol:"CZK","symbol-alt-narrow":"K\u010d"},DDM:{displayName:"ostmark della Germania Orientale",symbol:"DDM"},DEM:{displayName:"marco tedesco",symbol:"DEM"},DJF:{displayName:"franco di Gibuti","displayName-count-one":"franco di Gibuti","displayName-count-other":"franchi di Gibuti",symbol:"DJF"},DKK:{displayName:"corona danese","displayName-count-one":"corona danese","displayName-count-other":"corone danesi",symbol:"DKK","symbol-alt-narrow":"kr"},DOP:{displayName:"peso dominicano","displayName-count-one":"peso dominicano","displayName-count-other":"pesos dominicani",symbol:"DOP","symbol-alt-narrow":"$"},DZD:{displayName:"dinaro algerino","displayName-count-one":"dinaro algerino","displayName-count-other":"dinari algerini",symbol:"DZD"},ECS:{displayName:"sucre dell\u2019Ecuador",symbol:"ECS"},ECV:{displayName:"unidad de valor constante (UVC) dell\u2019Ecuador",symbol:"ECV"},EEK:{displayName:"corona dell\u2019Estonia",symbol:"EEK"},EGP:{displayName:"sterlina egiziana","displayName-count-one":"sterlina egiziana","displayName-count-other":"sterline egiziane",symbol:"EGP","symbol-alt-narrow":"\xa3E"},ERN:{displayName:"nakfa eritreo","displayName-count-one":"nakfa eritreo","displayName-count-other":"nakfa eritrei",symbol:"ERN"},ESA:{displayName:"peseta spagnola account",symbol:"ESA"},ESB:{displayName:"peseta spagnola account convertibile",symbol:"ESB"},ESP:{displayName:"peseta spagnola",symbol:"ESP","symbol-alt-narrow":"\u20a7"},ETB:{displayName:"birr etiope","displayName-count-one":"birr etiope","displayName-count-other":"birr etiopi",symbol:"ETB"},EUR:{displayName:"euro","displayName-count-one":"euro","displayName-count-other":"euro",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},FIM:{displayName:"markka finlandese",symbol:"FIM"},FJD:{displayName:"dollaro delle Figi","displayName-count-one":"dollaro delle Figi","displayName-count-other":"dollari delle Figi",symbol:"FJD","symbol-alt-narrow":"$"},FKP:{displayName:"sterlina delle Falkland","displayName-count-one":"sterlina delle Falkland","displayName-count-other":"sterline delle Falkland",symbol:"FKP","symbol-alt-narrow":"\xa3"},FRF:{displayName:"franco francese",symbol:"FRF"},GBP:{displayName:"sterlina britannica","displayName-count-one":"sterlina britannica","displayName-count-other":"sterline britanniche",symbol:"\xa3","symbol-alt-narrow":"\xa3"},GEK:{displayName:"kupon larit georgiano",symbol:"GEK"},GEL:{displayName:"lari georgiano","displayName-count-one":"lari georgiano","displayName-count-other":"lari georgiani",symbol:"GEL","symbol-alt-narrow":"\u20be"},GHC:{displayName:"cedi del Ghana",symbol:"GHC"},GHS:{displayName:"cedi ghanese","displayName-count-one":"cedi ghanese","displayName-count-other":"cedi ghanesi",symbol:"GHS","symbol-alt-narrow":"GH\u20b5"},GIP:{displayName:"sterlina di Gibilterra","displayName-count-one":"sterlina di Gibilterra","displayName-count-other":"sterline di Gibilterra",symbol:"GIP","symbol-alt-narrow":"\xa3"},GMD:{displayName:"dalasi gambiano","displayName-count-one":"dalasi gambiano","displayName-count-other":"dalasi gambiani",symbol:"GMD"},GNF:{displayName:"franco della Guinea","displayName-count-one":"franco della Guinea","displayName-count-other":"franchi della Guinea",symbol:"GNF","symbol-alt-narrow":"FG"},GNS:{displayName:"syli della Guinea",symbol:"GNS"},GQE:{displayName:"ekwele della Guinea Equatoriale",symbol:"GQE"},GRD:{displayName:"dracma greca",symbol:"GRD"},GTQ:{displayName:"quetzal guatemalteco","displayName-count-one":"quetzal guatemalteco","displayName-count-other":"quetzal guatemaltechi",symbol:"GTQ","symbol-alt-narrow":"Q"},GWE:{displayName:"escudo della Guinea portoghese",symbol:"GWE"},GWP:{displayName:"peso della Guinea-Bissau",symbol:"GWP"},GYD:{displayName:"dollaro della Guyana","displayName-count-one":"dollaro della Guyana","displayName-count-other":"dollari della Guyana",symbol:"GYD","symbol-alt-narrow":"$"},HKD:{displayName:"dollaro di Hong Kong","displayName-count-one":"dollaro di Hong Kong","displayName-count-other":"dollari di Hong Kong",symbol:"HKD","symbol-alt-narrow":"$"},HNL:{displayName:"lempira honduregna","displayName-count-one":"lempira honduregna","displayName-count-other":"lempire honduregne",symbol:"HNL","symbol-alt-narrow":"L"},HRD:{displayName:"dinaro croato",symbol:"HRD"},HRK:{displayName:"kuna croata","displayName-count-one":"kuna croata","displayName-count-other":"kune croate",symbol:"HRK","symbol-alt-narrow":"kn"},HTG:{displayName:"gourde haitiano","displayName-count-one":"gourde haitiano","displayName-count-other":"gourde haitiani",symbol:"HTG"},HUF:{displayName:"fiorino ungherese","displayName-count-one":"fiorino ungherese","displayName-count-other":"fiorini ungheresi",symbol:"HUF","symbol-alt-narrow":"Ft"},IDR:{displayName:"rupia indonesiana","displayName-count-one":"rupia indonesiana","displayName-count-other":"rupie indonesiane",symbol:"IDR","symbol-alt-narrow":"Rp"},IEP:{displayName:"sterlina irlandese",symbol:"IEP"},ILP:{displayName:"sterlina israeliana",symbol:"ILP"},ILR:{displayName:"ILR",symbol:"ILR"},ILS:{displayName:"nuovo siclo israeliano","displayName-count-one":"nuovo siclo israeliano","displayName-count-other":"nuovi sicli israeliani",symbol:"\u20aa","symbol-alt-narrow":"\u20aa"},INR:{displayName:"rupia indiana","displayName-count-one":"rupia indiana","displayName-count-other":"rupie indiane",symbol:"INR","symbol-alt-narrow":"\u20b9"},IQD:{displayName:"dinaro iracheno","displayName-count-one":"dinaro iracheno","displayName-count-other":"dinari iracheni",symbol:"IQD"},IRR:{displayName:"rial iraniano","displayName-count-one":"rial iraniano","displayName-count-other":"rial iraniani",symbol:"IRR"},ISJ:{displayName:"ISJ",symbol:"ISJ"},ISK:{displayName:"corona islandese","displayName-count-one":"corona islandese","displayName-count-other":"corone islandesi",symbol:"ISK","symbol-alt-narrow":"kr"},ITL:{pattern:"\xa4\xa0#,##0.00",displayName:"lira italiana","displayName-count-one":"lire italiane","displayName-count-other":"lire italiane",symbol:"ITL",decimal:",",group:"."},JMD:{displayName:"dollaro giamaicano","displayName-count-one":"dollaro giamaicano","displayName-count-other":"dollari giamaicani",symbol:"JMD","symbol-alt-narrow":"$"},JOD:{displayName:"dinaro giordano","displayName-count-one":"dinaro giordano","displayName-count-other":"dinari giordani",symbol:"JOD"},JPY:{displayName:"yen giapponese","displayName-count-one":"yen giapponese","displayName-count-other":"yen giapponesi",symbol:"JPY","symbol-alt-narrow":"\xa5"},KES:{displayName:"scellino keniota","displayName-count-one":"scellino keniota","displayName-count-other":"scellini kenioti",symbol:"KES"},KGS:{displayName:"som kirghiso","displayName-count-one":"som kirghiso","displayName-count-other":"som kirghisi",symbol:"KGS"},KHR:{displayName:"riel cambogiano","displayName-count-one":"riel cambogiano","displayName-count-other":"riel cambogiani",symbol:"KHR","symbol-alt-narrow":"\u17db"},KMF:{displayName:"franco comoriano","displayName-count-one":"franco comoriano","displayName-count-other":"franchi comoriani",symbol:"KMF","symbol-alt-narrow":"CF"},KPW:{displayName:"won nordcoreano","displayName-count-one":"won nordcoreano","displayName-count-other":"won nordcoreani",symbol:"KPW","symbol-alt-narrow":"\u20a9"},KRH:{displayName:"KRH",symbol:"KRH"},KRO:{displayName:"KRO",symbol:"KRO"},KRW:{displayName:"won sudcoreano","displayName-count-one":"won sudcoreano","displayName-count-other":"won sudcoreani",symbol:"KRW","symbol-alt-narrow":"\u20a9"},KWD:{displayName:"dinaro kuwaitiano","displayName-count-one":"dinaro kuwaitiano","displayName-count-other":"dinari kuwaitiani",symbol:"KWD"},KYD:{displayName:"dollaro delle Isole Cayman","displayName-count-one":"dollaro delle Isole Cayman","displayName-count-other":"dollari delle Isole Cayman",symbol:"KYD","symbol-alt-narrow":"$"},KZT:{displayName:"tenge kazako","displayName-count-one":"tenge kazako","displayName-count-other":"tenge kazaki",symbol:"KZT","symbol-alt-narrow":"\u20b8"},LAK:{displayName:"kip laotiano","displayName-count-one":"kip laotiano","displayName-count-other":"kip laotiani",symbol:"LAK","symbol-alt-narrow":"\u20ad"},LBP:{displayName:"lira libanese","displayName-count-one":"lira libanese","displayName-count-other":"lire libanesi",symbol:"LBP","symbol-alt-narrow":"L\xa3"},LKR:{displayName:"rupia di Sri Lanka","displayName-count-one":"rupia di Sri Lanka","displayName-count-other":"rupie di Sri Lanka",symbol:"LKR","symbol-alt-narrow":"Rs"},LRD:{displayName:"dollaro liberiano","displayName-count-one":"dollaro liberiano","displayName-count-other":"dollari liberiani",symbol:"LRD","symbol-alt-narrow":"$"},LSL:{displayName:"loti del Lesotho","displayName-count-one":"loti del Lesotho","displayName-count-other":"maloti del Lesotho",symbol:"LSL"},LTL:{displayName:"litas lituano","displayName-count-one":"litas lituano","displayName-count-other":"litas lituani",symbol:"LTL","symbol-alt-narrow":"Lt"},LTT:{displayName:"talonas lituani",symbol:"LTT"},LUC:{displayName:"franco convertibile del Lussemburgo",symbol:"LUC"},LUF:{displayName:"franco del Lussemburgo",symbol:"LUF"},LUL:{displayName:"franco finanziario del Lussemburgo",symbol:"LUL"},LVL:{displayName:"lats lettone","displayName-count-one":"lats lettone","displayName-count-other":"lati lettoni",symbol:"LVL","symbol-alt-narrow":"Ls"},LVR:{displayName:"rublo lettone",symbol:"LVR"},LYD:{displayName:"dinaro libico","displayName-count-one":"dinaro libico","displayName-count-other":"dinari libici",symbol:"LYD"},MAD:{displayName:"dirham marocchino","displayName-count-one":"dirham marocchino","displayName-count-other":"dirham marocchini",symbol:"MAD"},MAF:{displayName:"franco marocchino",symbol:"MAF"},MCF:{displayName:"MCF",symbol:"MCF"},MDC:{displayName:"MDC",symbol:"MDC"},MDL:{displayName:"leu moldavo","displayName-count-one":"leu moldavo","displayName-count-other":"lei moldavi",symbol:"MDL"},MGA:{displayName:"ariary malgascio","displayName-count-one":"ariary malgascio","displayName-count-other":"ariary malgasci",symbol:"MGA","symbol-alt-narrow":"Ar"},MGF:{displayName:"franco malgascio",symbol:"MGF"},MKD:{displayName:"dinaro macedone","displayName-count-one":"dinaro macedone","displayName-count-other":"dinari macedoni",symbol:"MKD"},MKN:{displayName:"dinaro macedone (1992\u20131993)","displayName-count-one":"dinaro macedone (1992\u20131993)","displayName-count-other":"dinari macedoni (1992\u20131993)",symbol:"MKN"},MLF:{displayName:"franco di Mali",symbol:"MLF"},MMK:{displayName:"kyat di Myanmar","displayName-count-one":"kyat di Myanmar","displayName-count-other":"kyat di Myanmar",symbol:"MMK","symbol-alt-narrow":"K"},MNT:{displayName:"tugrik mongolo","displayName-count-one":"tugrik mongolo","displayName-count-other":"tugrik mongoli",symbol:"MNT","symbol-alt-narrow":"\u20ae"},MOP:{displayName:"pataca di Macao","displayName-count-one":"pataca di Macao","displayName-count-other":"patacas di Macao",symbol:"MOP"},MRO:{displayName:"ouguiya della Mauritania (1973\u20132017)","displayName-count-one":"ouguiya della Mauritania (1973\u20132017)","displayName-count-other":"ouguiya della Mauritania (1973\u20132017)",symbol:"MRO"},MRU:{displayName:"ouguiya della Mauritania","displayName-count-one":"ouguiya della Mauritania","displayName-count-other":"ouguiya della Mauritania",symbol:"MRU"},MTL:{displayName:"lira maltese",symbol:"MTL"},MTP:{displayName:"sterlina maltese",symbol:"MTP"},MUR:{displayName:"rupia mauriziana","displayName-count-one":"rupia mauriziana","displayName-count-other":"rupie mauriziane",symbol:"MUR","symbol-alt-narrow":"Rs"},MVP:{displayName:"MVP",symbol:"MVP"},MVR:{displayName:"rufiyaa delle Maldive","displayName-count-one":"rufiyaa delle Maldive","displayName-count-other":"rufiyaa delle Maldive",symbol:"MVR"},MWK:{displayName:"kwacha malawiano","displayName-count-one":"kwacha malawiano","displayName-count-other":"kwacha malawiani",symbol:"MWK"},MXN:{displayName:"peso messicano","displayName-count-one":"peso messicano","displayName-count-other":"pesos messicani",symbol:"MXN","symbol-alt-narrow":"$"},MXP:{displayName:"peso messicano d\u2019argento (1861\u20131992)",symbol:"MXP"},MXV:{displayName:"unidad de inversion (UDI) messicana",symbol:"MXV"},MYR:{displayName:"ringgit malese","displayName-count-one":"ringgit malese","displayName-count-other":"ringgit malesi",symbol:"MYR","symbol-alt-narrow":"RM"},MZE:{displayName:"escudo del Mozambico",symbol:"MZE"},MZM:{displayName:"MZM",symbol:"MZM"},MZN:{displayName:"metical mozambicano","displayName-count-one":"metical mozambicano","displayName-count-other":"metical mozambicani",symbol:"MZN"},NAD:{displayName:"dollaro namibiano","displayName-count-one":"dollaro namibiano","displayName-count-other":"dollari namibiani",symbol:"NAD","symbol-alt-narrow":"$"},NGN:{displayName:"naira nigeriana","displayName-count-one":"naira nigeriana","displayName-count-other":"naire nigeriane",symbol:"NGN","symbol-alt-narrow":"\u20a6"},NIC:{displayName:"cordoba nicaraguense","displayName-count-one":"cordoba nicaraguense","displayName-count-other":"cordoba nicaraguense",symbol:"NIC"},NIO:{displayName:"c\xf3rdoba nicaraguense","displayName-count-one":"c\xf3rdoba nicaraguense","displayName-count-other":"c\xf3rdoba nicaraguensi",symbol:"NIO","symbol-alt-narrow":"C$"},NLG:{displayName:"fiorino olandese",symbol:"NLG"},NOK:{displayName:"corona norvegese","displayName-count-one":"corona norvegese","displayName-count-other":"corone norvegesi",symbol:"NOK","symbol-alt-narrow":"NKr"},NPR:{displayName:"rupia nepalese","displayName-count-one":"rupia nepalese","displayName-count-other":"rupie nepalesi",symbol:"NPR","symbol-alt-narrow":"Rs"},NZD:{displayName:"dollaro neozelandese","displayName-count-one":"dollaro neozelandese","displayName-count-other":"dollari neozelandesi",symbol:"NZ$","symbol-alt-narrow":"$"},OMR:{displayName:"rial omanita","displayName-count-one":"rial omanita","displayName-count-other":"rial omaniti",symbol:"OMR"},PAB:{displayName:"balboa panamense","displayName-count-one":"balboa panamense","displayName-count-other":"balboa panamensi",symbol:"PAB"},PEI:{displayName:"inti peruviano",symbol:"PEI"},PEN:{displayName:"sol peruviano","displayName-count-one":"sol peruviano","displayName-count-other":"sol peruviani",symbol:"PEN"},PES:{displayName:"sol peruviano (1863\u20131965)",symbol:"PES"},PGK:{displayName:"kina papuana","displayName-count-one":"kina papuana","displayName-count-other":"kina papuane",symbol:"PGK"},PHP:{displayName:"peso filippino","displayName-count-one":"peso filippino","displayName-count-other":"pesos filippini",symbol:"\u20b1","symbol-alt-narrow":"\u20b1"},PKR:{displayName:"rupia pakistana","displayName-count-one":"rupia pakistana","displayName-count-other":"rupie pakistane",symbol:"PKR","symbol-alt-narrow":"Rs"},PLN:{displayName:"z\u0142oty polacco","displayName-count-one":"z\u0142oty polacco","displayName-count-other":"z\u0142oty polacchi",symbol:"PLN","symbol-alt-narrow":"z\u0142"},PLZ:{displayName:"z\u0142oty Polacco (1950\u20131995)","displayName-count-one":"z\u0142oty polacco (1950\u20131995)","displayName-count-other":"z\u0142oty polacchi (1950\u20131995)",symbol:"PLZ"},PTE:{displayName:"escudo portoghese",symbol:"PTE"},PYG:{displayName:"guaran\xed paraguayano","displayName-count-one":"guaran\xed paraguayano","displayName-count-other":"guaran\xed paraguayani",symbol:"PYG","symbol-alt-narrow":"\u20b2"},QAR:{displayName:"rial qatariano","displayName-count-one":"rial qatariano","displayName-count-other":"rial qatariani",symbol:"QAR"},RHD:{displayName:"dollaro della Rhodesia",symbol:"RHD"},ROL:{displayName:"leu della Romania",symbol:"ROL"},RON:{displayName:"leu rumeno","displayName-count-one":"leu rumeno","displayName-count-other":"lei rumeni",symbol:"RON","symbol-alt-narrow":"lei"},RSD:{displayName:"dinaro serbo","displayName-count-one":"dinaro serbo","displayName-count-other":"dinara serbi",symbol:"RSD"},RUB:{displayName:"rublo russo","displayName-count-one":"rublo russo","displayName-count-other":"rubli russi",symbol:"RUB","symbol-alt-narrow":"\u20bd"},RUR:{displayName:"rublo della CSI",symbol:"RUR"},RWF:{displayName:"franco ruandese","displayName-count-one":"franco ruandese","displayName-count-other":"franchi ruandesi",symbol:"RWF","symbol-alt-narrow":"RF"},SAR:{displayName:"riyal saudita","displayName-count-one":"riyal saudita","displayName-count-other":"riyal sauditi",symbol:"SAR"},SBD:{displayName:"dollaro delle Isole Salomone","displayName-count-one":"dollaro delle Isole Salomone","displayName-count-other":"dollari delle Isole Salomone",symbol:"SBD","symbol-alt-narrow":"$"},SCR:{displayName:"rupia delle Seychelles","displayName-count-one":"rupia delle Seychelles","displayName-count-other":"rupie delle Seychelles",symbol:"SCR"},SDD:{displayName:"dinaro sudanese",symbol:"SDD"},SDG:{displayName:"sterlina sudanese","displayName-count-one":"sterlina sudanese","displayName-count-other":"sterline sudanesi",symbol:"SDG"},SDP:{displayName:"SDP",symbol:"SDP"},SEK:{displayName:"corona svedese","displayName-count-one":"corona svedese","displayName-count-other":"corone svedesi",symbol:"SEK","symbol-alt-narrow":"kr"},SGD:{displayName:"dollaro di Singapore","displayName-count-one":"dollaro di Singapore","displayName-count-other":"dollari di Singapore",symbol:"SGD","symbol-alt-narrow":"$"},SHP:{displayName:"sterlina di Sant\u2019Elena","displayName-count-one":"sterlina di Sant\u2019Elena","displayName-count-other":"sterline di Sant\u2019Elena",symbol:"SHP","symbol-alt-narrow":"\xa3"},SIT:{displayName:"tallero sloveno",symbol:"SIT"},SKK:{displayName:"corona slovacca",symbol:"SKK"},SLE:{displayName:"SLE",symbol:"SLE"},SLL:{displayName:"leone della Sierra Leone","displayName-count-one":"leone della Sierra Leone","displayName-count-other":"leoni della Sierra Leone",symbol:"SLL"},SOS:{displayName:"scellino somalo","displayName-count-one":"scellino somalo","displayName-count-other":"scellini somali",symbol:"SOS"},SRD:{displayName:"dollaro del Suriname","displayName-count-one":"dollaro del Suriname","displayName-count-other":"dollari del Suriname",symbol:"SRD","symbol-alt-narrow":"$"},SRG:{displayName:"fiorino del Suriname",symbol:"SRG"},SSP:{displayName:"sterlina sud-sudanese","displayName-count-one":"sterlina sud-sudanese","displayName-count-other":"sterline sud-sudanesi",symbol:"SSP","symbol-alt-narrow":"\xa3"},STD:{displayName:"dobra di Sao Tom\xe9 e Principe (1977\u20132017)","displayName-count-one":"dobra di Sao Tom\xe9 e Principe (1977\u20132017)","displayName-count-other":"dobra di Sao Tom\xe9 e Principe (1977\u20132017)",symbol:"STD"},STN:{displayName:"dobra di Sao Tom\xe9 e Pr\xedncipe","displayName-count-one":"dobra di Sao Tom\xe9 e Pr\xedncipe","displayName-count-other":"dobra di Sao Tom\xe9 e Pr\xedncipe",symbol:"STN","symbol-alt-narrow":"Db"},SUR:{displayName:"rublo sovietico",symbol:"SUR"},SVC:{displayName:"col\xf3n salvadoregno",symbol:"SVC"},SYP:{displayName:"lira siriana","displayName-count-one":"lira siriana","displayName-count-other":"lire siriane",symbol:"SYP","symbol-alt-narrow":"\xa3"},SZL:{displayName:"lilangeni dello Swaziland","displayName-count-one":"lilangeni dello Swaziland","displayName-count-other":"lilangeni dello Swaziland",symbol:"SZL"},THB:{displayName:"baht thailandese","displayName-count-one":"baht thailandese","displayName-count-other":"baht thailandesi",symbol:"\u0e3f","symbol-alt-narrow":"\u0e3f"},TJR:{displayName:"rublo del Tajikistan",symbol:"TJR"},TJS:{displayName:"somoni tagiko","displayName-count-one":"somoni tagiko","displayName-count-other":"somoni tagiki",symbol:"TJS"},TMM:{displayName:"manat turkmeno (1993\u20132009)",symbol:"TMM"},TMT:{displayName:"manat turkmeno","displayName-count-one":"manat turkmeno","displayName-count-other":"manat turkmeni",symbol:"TMT"},TND:{displayName:"dinaro tunisino","displayName-count-one":"dinaro tunisino","displayName-count-other":"dinari tunisini",symbol:"TND"},TOP:{displayName:"pa\u02bbanga tongano","displayName-count-one":"pa\u02bbanga tongano","displayName-count-other":"pa\u02bbanga tongani",symbol:"TOP","symbol-alt-narrow":"T$"},TPE:{displayName:"escudo di Timor",symbol:"TPE"},TRL:{displayName:"lira turca (1922\u20132005)","displayName-count-one":"lira turca (1922\u20132005)","displayName-count-other":"lire turche (1922\u20132005)",symbol:"TRL"},TRY:{displayName:"lira turca","displayName-count-one":"lira turca","displayName-count-other":"lire turche",symbol:"TRY","symbol-alt-narrow":"\u20ba","symbol-alt-variant":"TL"},TTD:{displayName:"dollaro di Trinidad e Tobago","displayName-count-one":"dollaro di Trinidad e Tobago","displayName-count-other":"dollari di Trinidad e Tobago",symbol:"TTD","symbol-alt-narrow":"$"},TWD:{displayName:"nuovo dollaro taiwanese","displayName-count-one":"nuovo dollaro taiwanese","displayName-count-other":"nuovi dollari taiwanesi",symbol:"TWD","symbol-alt-narrow":"NT$"},TZS:{displayName:"scellino della Tanzania","displayName-count-one":"scellino della Tanzania","displayName-count-other":"scellini della Tanzania",symbol:"TZS"},UAH:{displayName:"grivnia ucraina","displayName-count-one":"grivnia ucraina","displayName-count-other":"grivnie ucraine",symbol:"UAH","symbol-alt-narrow":"\u20b4"},UAK:{displayName:"karbovanetz ucraino",symbol:"UAK"},UGS:{displayName:"scellino ugandese (1966\u20131987)",symbol:"UGS"},UGX:{displayName:"scellino ugandese","displayName-count-one":"scellino ugandese","displayName-count-other":"scellini ugandesi",symbol:"UGX"},USD:{displayName:"dollaro statunitense","displayName-count-one":"dollaro statunitense","displayName-count-other":"dollari statunitensi",symbol:"USD","symbol-alt-narrow":"$"},USN:{displayName:"dollaro statunitense (next day)",symbol:"USN"},USS:{displayName:"dollaro statunitense (same day)",symbol:"USS"},UYI:{displayName:"peso uruguaiano in unit\xe0 indicizzate",symbol:"UYI"},UYP:{displayName:"peso uruguaiano (1975\u20131993)",symbol:"UYP"},UYU:{displayName:"peso uruguayano","displayName-count-one":"peso uruguayano","displayName-count-other":"pesos uruguayani",symbol:"UYU","symbol-alt-narrow":"$"},UYW:{displayName:"UYW",symbol:"UYW"},UZS:{displayName:"sum uzbeco","displayName-count-one":"sum uzbeco","displayName-count-other":"sum uzbechi",symbol:"UZS"},VEB:{displayName:"bolivar venezuelano (1871\u20132008)","displayName-count-one":"bolivar venezuelano (1871\u20132008)","displayName-count-other":"bolivares venezuelani (1871\u20132008)",symbol:"VEB"},VED:{displayName:"VED",symbol:"VED"},VEF:{displayName:"bol\xedvar venezuelano (2008\u20132018)","displayName-count-one":"bol\xedvar venezuelano (2008\u20132018)","displayName-count-other":"bol\xedvares venezuelani (2008\u20132018)",symbol:"VEF","symbol-alt-narrow":"Bs"},VES:{displayName:"bol\xedvar venezuelano","displayName-count-one":"bol\xedvar venezuelano","displayName-count-other":"bol\xedvares venezuelani",symbol:"VES"},VND:{displayName:"dong vietnamita","displayName-count-one":"dong vietnamita","displayName-count-other":"dong vietnamiti",symbol:"VND","symbol-alt-narrow":"\u20ab"},VNN:{displayName:"VNN",symbol:"VNN"},VUV:{displayName:"vatu di Vanuatu","displayName-count-one":"vatu di Vanuatu","displayName-count-other":"vatu di Vanuatu",symbol:"VUV"},WST:{displayName:"tala samoano","displayName-count-one":"tala samoano","displayName-count-other":"tala samoani",symbol:"WST"},XAF:{displayName:"franco CFA BEAC","displayName-count-one":"franco CFA BEAC","displayName-count-other":"franchi CFA BEAC",symbol:"FCFA"},XAG:{displayName:"argento",symbol:"XAG"},XAU:{displayName:"oro",symbol:"XAU"},XBA:{displayName:"unit\xe0 composita europea",symbol:"XBA"},XBB:{displayName:"unit\xe0 monetaria europea",symbol:"XBB"},XBC:{displayName:"unit\xe0 di acconto europea (XBC)",symbol:"XBC"},XBD:{displayName:"unit\xe0 di acconto europea (XBD)",symbol:"XBD"},XCD:{displayName:"dollaro dei Caraibi orientali","displayName-count-one":"dollaro dei Caraibi orientali","displayName-count-other":"dollari dei Caraibi orientali",symbol:"EC$","symbol-alt-narrow":"$"},XDR:{displayName:"diritti speciali di incasso",symbol:"XDR"},XEU:{displayName:"XEU",symbol:"XEU"},XFO:{displayName:"franco oro francese",symbol:"XFO"},XFU:{displayName:"franco UIC francese",symbol:"XFU"},XOF:{displayName:"franco CFA BCEAO","displayName-count-one":"franco CFA BCEAO","displayName-count-other":"franchi CFA BCEAO",symbol:"F\u202fCFA"},XPD:{displayName:"palladio",symbol:"XPD"},XPF:{displayName:"franco CFP","displayName-count-one":"franco CFP","displayName-count-other":"franchi CFP",symbol:"CFPF"},XPT:{displayName:"platino",symbol:"XPT"},XRE:{displayName:"fondi RINET",symbol:"XRE"},XSU:{displayName:"XSU",symbol:"XSU"},XTS:{displayName:"codice di verifica della valuta",symbol:"XTS"},XUA:{displayName:"XUA",symbol:"XUA"},XXX:{displayName:"valuta sconosciuta","displayName-count-one":"(valuta sconosciuta)","displayName-count-other":"(valute sconosciute)",symbol:"\xa4"},YDD:{displayName:"dinaro dello Yemen",symbol:"YDD"},YER:{displayName:"riyal yemenita","displayName-count-one":"rial yemenita","displayName-count-other":"rial yemeniti",symbol:"YER"},YUD:{displayName:"dinaro forte yugoslavo",symbol:"YUD"},YUM:{displayName:"dinaro noviy yugoslavo",symbol:"YUM"},YUN:{displayName:"dinaro convertibile yugoslavo",symbol:"YUN"},YUR:{displayName:"YUR",symbol:"YUR"},ZAL:{displayName:"rand sudafricano (finanziario)",symbol:"ZAL"},ZAR:{displayName:"rand sudafricano","displayName-count-one":"rand sudafricano","displayName-count-other":"rand sudafricani",symbol:"ZAR","symbol-alt-narrow":"R"},ZMK:{displayName:"kwacha dello Zambia (1968\u20132012)","displayName-count-one":"kwacha zambiano (1968\u20132012)","displayName-count-other":"kwacha zambiani (1968\u20132012)",symbol:"ZMK"},ZMW:{displayName:"kwacha zambiano","displayName-count-one":"kwacha zambiano","displayName-count-other":"kwacha zambiani",symbol:"ZMW","symbol-alt-narrow":"ZK"},ZRN:{displayName:"nuovo zaire dello Zaire",symbol:"ZRN"},ZRZ:{displayName:"zaire dello Zaire",symbol:"ZRZ"},ZWD:{displayName:"dollaro dello Zimbabwe",symbol:"ZWD"},ZWL:{displayName:"dollaro zimbabwiano (2009)",symbol:"ZWL"},ZWR:{displayName:"ZWR",symbol:"ZWR"}},localeCurrency:"EUR"},calendar:{patterns:{d:"dd/MM/y",D:"EEEE d MMMM y",m:"d MMM",M:"d MMMM",y:"MMM y",Y:"MMMM y",F:"EEEE d MMMM y HH:mm:ss",g:"d/M/y HH:mm",G:"d/M/y HH:mm:ss",t:"HH:mm",T:"HH:mm:ss",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} {0}",long:"{1} {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"E d",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMd:"d/M/y GGGGG",GyMMM:"MMM y G",GyMMMd:"d MMM y G",GyMMMEd:"E d MMM y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"d/M",MEd:"E d/M",MMM:"LLL",MMMd:"d MMM",MMMEd:"E d MMM",MMMMd:"d MMMM","MMMMW-count-one":"'settimana' W 'di' MMMM","MMMMW-count-other":"'settimana' W 'di' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"d/M/y",yMEd:"E d/M/y",yMMM:"MMM y",yMMMd:"d MMM y",yMMMEd:"E d MMM y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'settimana' w 'del' Y","yw-count-other":"'settimana' w 'del' Y"}},timeFormats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},dateFormats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/yy"},days:{format:{abbreviated:["dom","lun","mar","mer","gio","ven","sab"],narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"]},"stand-alone":{abbreviated:["dom","lun","mar","mer","gio","ven","sab"],narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"]}},months:{format:{abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},"stand-alone":{abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]}},quarters:{format:{abbreviated:["T1","T2","T3","T4"],narrow:["1","2","3","4"],wide:["1\xba trimestre","2\xba trimestre","3\xba trimestre","4\xba trimestre"]},"stand-alone":{abbreviated:["T1","T2","T3","T4"],narrow:["1","2","3","4"],wide:["1\xba trimestre","2\xba trimestre","3\xba trimestre","4\xba trimestre"]}},dayPeriods:{format:{abbreviated:{midnight:"mezzanotte",am:"AM",noon:"mezzogiorno",pm:"PM",morning1:"di mattina",afternoon1:"di pomeriggio",evening1:"di sera",night1:"di notte"},narrow:{midnight:"mezzanotte",am:"m.",noon:"mezzogiorno",pm:"p.",morning1:"di mattina",afternoon1:"di pomeriggio",evening1:"di sera",night1:"di notte"},wide:{midnight:"mezzanotte",am:"AM",noon:"mezzogiorno",pm:"PM",morning1:"di mattina",afternoon1:"del pomeriggio",evening1:"di sera",night1:"di notte"}},"stand-alone":{abbreviated:{midnight:"mezzanotte",am:"AM",noon:"mezzogiorno",pm:"PM",morning1:"mattina",afternoon1:"pomeriggio",evening1:"sera",night1:"notte"},narrow:{midnight:"mezzanotte",am:"m.",noon:"mezzogiorno",pm:"p.",morning1:"mattina",afternoon1:"pomeriggio",evening1:"sera",night1:"notte"},wide:{midnight:"mezzanotte",am:"AM",noon:"mezzogiorno",pm:"PM",morning1:"mattina",afternoon1:"pomeriggio",evening1:"sera",night1:"notte"}}},eras:{format:{wide:{0:"avanti Cristo",1:"dopo Cristo","0-alt-variant":"avanti Era Volgare","1-alt-variant":"Era Volgare"},abbreviated:{0:"a.C.",1:"d.C.","0-alt-variant":"a.E.V.","1-alt-variant":"E.V."},narrow:{0:"aC",1:"dC","0-alt-variant":"a.E.V.","1-alt-variant":"E.V."}}},gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",dateFields:{era:{wide:"era",short:"era",narrow:"era"},year:{wide:"anno",short:"anno",narrow:"anno"},quarter:{wide:"trimestre",short:"trim.",narrow:"trim."},month:{wide:"mese",short:"mese",narrow:"mese"},week:{wide:"settimana",short:"sett.",narrow:"sett."},weekOfMonth:{wide:"settimana del mese",short:"sett. mese",narrow:"sett. mese"},day:{wide:"giorno",short:"g.",narrow:"g."},dayOfYear:{wide:"giorno dell\u2019anno",short:"giorno anno",narrow:"giorno anno"},weekday:{wide:"giorno della settimana",short:"giorno settimana",narrow:"giorno sett."},weekdayOfMonth:{wide:"giorno del mese",short:"giorno mese",narrow:"giorno mese"},dayperiod:{short:"AM/PM",wide:"AM/PM",narrow:"AM/PM"},hour:{wide:"ora",short:"h",narrow:"h"},minute:{wide:"minuto",short:"min",narrow:"min"},second:{wide:"secondo",short:"s",narrow:"s"},zone:{wide:"fuso orario",short:"fuso",narrow:"fuso"},millisecond:{narrow:"ms",short:"ms",wide:"millisecondo"}}},firstDay:1,weekendRange:{start:6,end:0},likelySubtags:{it:"it-Latn-IT"}})},910:(Fs,un,_e)=>{"use strict";function je(T){return"string"==typeof T}_e.d(un,{MR:()=>eN,WX:()=>kc,$r:()=>r3,GP:()=>b3,Yq:()=>t_,ZV:()=>_2,Hh:()=>Ga,DA:()=>it,pG:()=>iN,_U:()=>Ll,$J:()=>h3,XO:()=>TE,mM:()=>C3,dI:()=>M1,ve:()=>nN});const nt=/\{(\d+)}?\}/g;class t{constructor({name:A,message:L}){if(!A||!L)throw new Error("{ name: string, message: string } object is required!");this.name=A,this.message=L}formatMessage(...A){const L=at(A),B=this.message.replace(nt,function(X,Z){return L[parseInt(Z,10)]});return`${this.name}: ${B}`}error(...A){return new Error(this.formatMessage(A))}}const at=function(T){return T.reduce((A,L)=>A.concat(L),[])},Wt=(T={NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."},Object.keys(T).reduce(function(L,B){return L[B]=new t({name:B,message:T[B]}),L},{}));var T;const de={en:{name:"en",identity:{version:{_unicodeVersion:"14.0.0",_cldrVersion:"41"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":",approximatelySign:"~"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMd:"M/d/y GGGGG",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era",short:"era",narrow:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},weekOfMonth:{wide:"week of month",short:"wk. of mo.",narrow:"wk. of mo."},day:{wide:"day",short:"day",narrow:"day"},dayOfYear:{wide:"day of year",short:"day of yr.",narrow:"day of yr."},weekday:{wide:"day of the week",short:"day of wk.",narrow:"day of wk."},weekdayOfMonth:{wide:"weekday of the month",short:"wkday. of mo.",narrow:"wkday. of mo."},dayperiod:{short:"AM/PM",wide:"AM/PM",narrow:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},zone:{wide:"time zone",short:"zone",narrow:"zone"},millisecond:{narrow:"ms",short:"ms",wide:"millisecond"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}};function kn(T){let A;return A=je(T)?it(T):T,A}function it(T){if(de[T])return de[T];if(de.supplemental.likelySubtags){const L=T.split("-"),B=L[0],X=L.slice(1),Z=function De(T,A){const L=de.supplemental.likelySubtags;for(let B=0;B<A.length;B++){let X=L[T+"-"+A[B]];if(X)return X}if(L[T])return L[T]}(B,X),me=Z?function ut(T,A){const L=T.split("-"),B=L[0],X=L[1],Z=L[2];return de[T]||-1!==A.indexOf(Z)&&de[B+"-"+Z]||-1!==A.indexOf(X)&&de[B+"-"+X]||de[B]}(Z,X):null;if(me)return me}throw Wt.NoLocale.error(T)}const _n="decimal",bi="currency",oi="accounting",Mn="percent",Ei="scientific",ys="$",vi="%",gt="n",tn=";",Ws=",",Us=".",hn="",hu="en",Wm="Formats-numberSystem-latn",Yp="symbols-numberSystem-latn",yc=/([#,0.]+)/g,Mr=/\xa4/g;function ji(T){return yc.lastIndex=0,T.replace(Mr,ys).replace(yc,gt).split(tn)}function Mt(T){return yc.lastIndex=0,yc.exec(T.split(tn)[0])[0].split(Us)[0].split(Ws).slice(1).map(function(X){return X.length}).reverse()}function In(T,A){for(let L in A)L.startsWith("unitPattern")&&(T[L]=A[L].replace("{0}",gt).replace("{1}",ys))}function Qe(T,A){const L=de[T],B=L.numbers=L.numbers||{};B.symbols=B.symbols||{};for(let X in A)if(X===Yp)Object.assign(B.symbols,A[X]);else if(X.includes(Wm)){const Z=X.substr(0,X.indexOf(Wm)),me=A[X].standard;B[Z]={patterns:ji(me)},Z===bi?(B[Z].groupSize=Mt((A[_n+Wm]||A[X]).standard),In(B[Z],A[X]),B[oi]={patterns:ji(A[X][oi]),groupSize:B[Z].groupSize}):B[Z].groupSize=Mt(me)}else"currencies"===X&&(B.currencies=A[X])}const ui={s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},oa=/y+/g,q6=[["dateFormats","short"]],t3={D:[["dateFormats","full"]],m:[["dateTimeFormats","availableFormats","MMMd"]],M:[["dateTimeFormats","availableFormats","MMMMd"]],y:[["dateTimeFormats","availableFormats","yMMM"]],Y:[["dateTimeFormats","availableFormats","yMMMM"]],F:[["dateFormats","full"],["timeFormats","medium"]],g:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","short"]],G:[["dateTimeFormats","availableFormats","yMd"],["timeFormats","medium"]],t:[["timeFormats","short"]],T:[["timeFormats","medium"]]};function n3(T){let A=[],L=Object.getOwnPropertyNames(T);for(let B=0;B<L.length;B++)A.push(T[L[B]]);return A}function kE(T,A){const L={};for(let B in T){let X=L[B]={};for(let Z in T[B]){let me=T[B][Z];X[Z]=A?me:n3(me)}}return L}function h1(T,A){const L=de[T].calendar;L.days=kE(A.days),L.months=kE(A.months),L.quarters=kE(A.quarters),L.dayPeriods=kE(A.dayPeriods,!0),L.eras=function Q6(T){const A={},L=A.format={},B={eraAbbr:"abbreviated",eraNames:"wide",eraNarrow:"narrow"};for(let X in T)L[B[X]]=T[X];return A}(A.eras)}function l2(T,A){const L=de[T].calendar,B={};for(let X in A){const[Z,me="wide"]=X.split("-"),ht=B[Z]||{},et=A[X].displayName;et&&(ht[me]=et,B[Z]=ht)}L.dateFields=B}function Kp(T,A){const L=[];for(let B=0;B<T.length;B++){let X=T[B],Z=A;for(let me=0;me<X.length;me++)Z=Z[X[me]];L.push(Z)}return L.join(" ")}function al(T,A){const L=de[T].calendar,B=L.patterns={};B.d=Kp(q6,A).replace(oa,"y");for(let Z in t3)B[Z]=Kp(t3[Z],A);for(let Z in ui)B[Z]=ui[Z];const X=A.dateTimeFormats;L.dateTimeFormats={full:X.full,long:X.long,medium:X.medium,short:X.short,availableFormats:X.availableFormats},L.timeFormats=A.timeFormats,L.dateFormats=A.dateFormats}function wE(T,A){const L=de[T].calendar=de[T].calendar||{};for(let B in A)"timeZoneNames"===B?(L.gmtFormat=A[B].gmtFormat,L.gmtZeroFormat=A[B].gmtZeroFormat):"calendars"===B&&A[B].gregorian?(al(T,A[B].gregorian),h1(T,A[B].gregorian)):"fields"===B&&l2(T,A.fields)}function p1(T){if(T.territory)return T.territory;const L=T.identity;let B;return B=L&&L.territory?L.territory:function DE(T,A){const L=de.supplemental.likelySubtags;let B=T.split("-");if(L){const Z=L[T]||L[B[0]];Z&&(B=Z.split("-"))}if(A)for(let Z=B.length-1;Z>=1;Z--){const me=B[Z];(me===A.variant||me===A.script)&&B.splice(Z,1)}const X=B.length;if(X>1)return B[X-1].toUpperCase()}(T.name,L),T.territory=B,B}const OE="duration-millisecond",s3="unitPattern-count-one",Z6="unitPattern-count-other",f1=/\{0\}\s?/;function lt(T){return(T[s3]||T[Z6]).replace(f1,"")}function Ah(T,A){T.calendar.dateFields.millisecond={narrow:lt(A.narrow[OE]),short:lt(A.short[OE]),wide:lt(A.long[OE])}}function c2(T,A){for(let L in A)"numbers"===L?Qe(T,A[L]):"dates"===L&&wE(T,A[L])}function Ga(){const T=arguments.length;for(let A=0;A<T;A++){let L=arguments[A];if(L.main){let B=Object.keys(L.main)[0],X=L.main[B],Z=de[B]=de[B]||{};X.units?Ah(Z,X.units):(Z.name=Z.name||B,Z.identity=Z.identity||X.identity,p1(Z),c2(B,X))}else if(L.supplemental)if(L.supplemental.weekData)de.supplemental.weekData={firstDay:L.supplemental.weekData.firstDay,weekendStart:L.supplemental.weekData.weekendStart,weekendEnd:L.supplemental.weekData.weekendEnd};else if(L.supplemental.likelySubtags)de.supplemental.likelySubtags=Object.assign(de.supplemental.likelySubtags,L.supplemental.likelySubtags);else if(L.supplemental.currencyData){const B=de.supplemental.currencyData;B.region=Object.assign(B.region||{},L.supplemental.currencyData.region),B.fractions=Object.assign(B.fractions||{},L.supplemental.currencyData.fractions)}}}function TE(T){const A=T.name,L=de[A]=de[A]||{},B=de.supplemental=de.supplemental||{};T.likelySubtags&&(B.likelySubtags=Object.assign(B.likelySubtags||{},T.likelySubtags)),T.currencyData&&(B.currencyData=B.currencyData||{},B.currencyData.fractions=Object.assign(B.currencyData.fractions||{},T.currencyData));const X=L.numbers;Object.assign(L,T),X&&T.numbers&&(L.numbers=Object.assign({},X,T.numbers))}function eN(T,A=hu){const B=it(A).calendar.dateFields;if(!B)throw Wt.NoDateFieldNames.error();const X=B[T.type]||{};return X[T.nameType]||X.wide}function kc(T,A){const{type:L,nameType:B,standAlone:X,lower:Z}=A,me=kn(T),et=(Z?"lower-":hn)+B,xe=me.calendar[L][X?"stand-alone":"format"];let Et=xe[et];return!Et&&Z&&(Et=xe[et]=function Jp(T){return Array.isArray(T)?function ME(T){const A=[];for(let L=0;L<T.length;L++)A.push(T[L].toLowerCase());return A}(T):function Cd(T){const A={};for(let L in T)A[L]=T[L].toLowerCase();return A}(T)}(xe[B])),Et}function pu(T){const A=T.split("-"),L=parseInt(A[0],10),B=parseInt(A[1],10)-1,X=parseInt(A[2],10);return new Date(L,B,X)}const{NoCurrency:wc,NoCurrencyDisplay:yi,NoSupplementalCurrency:ri,NoCurrencyRegion:tN,NoValidCurrency:ss}=Wt,bd=2,Ym="symbol",$n="XXX",IE={"001":"USD",150:"EUR"};function Xn(T,A,L){const X=kn(T).numbers.currencies;if(!X){if(L)throw wc.error();return}const Z=X[A];if(Z)return Z;if(L)throw yi.error()}function d2(T,A){return A.length-T.length}function ra(T,A){const L=kn(T),B=L.numbers;if(!B.localeCurrency){const X=function Nh(T,A=!0){if(IE[T])return IE[T];const L=de.supplemental.currencyData;if(!L){if(A)throw ri.error();return}const B=L.region[T];if(B)return function ks(T){let A,L,B,X;for(let Z=0;Z<T.length;Z++){const me=T[Z],ht=Object.keys(me)[0],et=me[ht];if(ht!==$n&&"false"!==et._tender&&et._from)if(et._to){if(!B){const xe=pu(et._from),Et=pu(et._to);(!L||L.to<Et||L.from<xe)&&(A=ht,L={from:xe,to:Et})}}else{const xe=pu(et._from);(!X||X<xe)&&(B=ht,X=xe)}}return B||A}(B);if(A)throw tN.error(T)}(p1(L),A);if(!X&&A)throw ss.error(L.name);B.localeCurrency=X}return B.localeCurrency}const u2=["sun","mon","tue","wed","thu","fri","sat"],Km="001",{NoWeekData:h2,NoFirstDay:Dc}=Wt;function r3(T){const A=kn(T);if(!isNaN(A.firstDay))return A.firstDay;const L=de.supplemental.weekData;if(!L)throw h2.error();const B=L.firstDay[p1(A)]||L.firstDay[Km];if(!B)throw Dc.error();return A.firstDay=u2.indexOf(B),A.firstDay}const{NoWeekData:a3}=Wt;function nN(T){const A=kn(T);if(A.weekendRange)return A.weekendRange;const L=de.supplemental.weekData;if(!L)throw a3.error();const B=p1(A),Z=L.weekendEnd[B]||L.weekendEnd[Km];return A.weekendRange={start:u2.indexOf(L.weekendStart[B]||L.weekendStart[Km]),end:u2.indexOf(Z)},A.weekendRange}function iN(T){return kn(T).numbers.symbols}function xE(T){return 1/T==-1/0}function l3(T,A={}){return A.currency||(A.currency=ra(T,!0)),function Rh(T,A){const{value:L,currency:B,currencyDisplay:X=Ym}=A;if("code"===X)return B;const Z=Xn(T,B,!0);let me;return me=X===Ym?Z["symbol-alt-narrow"]||Z[Ym]:typeof L>"u"||1!==L?Z["displayName-count-other"]:Z["displayName-count-one"],me}(T,A)}function p2(T,A,L,B,X){const Z=X.numbers.symbols,me=T.indexOf(Z.decimal),ht=B.groupSize.slice();let et=ht.shift(),xe=-1!==me?me:L+1,Et=T.substring(A,xe),Rt=T;const Hi=Et.length;if(Hi>=et){let jt=Hi,bo=[];for(;jt>-1;){let Kr=Et.substring(jt-et,jt);Kr&&bo.push(Kr),jt-=et;let tr=ht.shift();if(et=void 0!==tr?tr:et,0===et){Kr=Et.substring(0,jt),Kr&&bo.push(Kr);break}}Et=bo.reverse().join(Z.group),Rt=T.substring(0,A)+Et+T.substring(xe)}return Rt}function AE(T){return T===bi||T===oi}function qi(T,A=2,L=!1){const B=A-String(T).length;let X=T;if(B>0){const Z=new Array(B+1).join("0");X=L?T+Z:Z+T}return X}const zt=20;function fu(T,A){let L=T,B=A||0;return L=L.toString().split("e"),L=Math.round(+(L[0]+"e"+(L[1]?Number(L[1])+B:B))),L=L.toString().split("e"),L=+(L[0]+"e"+(L[1]?Number(L[1])-B:-B)),L.toFixed(Math.min(B,zt))}const sN=3,oN=0,RE=/0+$/;function m1(T,A,L){const B=L.numbers.symbols,{style:X}=A,Z=AE(X);if(X===Ei)return(void 0!==A.minimumFractionDigits?T.toExponential(A.minimumFractionDigits):T.toExponential()).replace(Us,B.decimal);let ht,me=T;Z&&(A.value=me,ht=l3(L,A)),X===Mn&&(me*=100,ht=B.percentSign);const{minimumFractionDigits:et,maximumFractionDigits:xe}=function c3(T){let{minimumFractionDigits:A,maximumFractionDigits:L,style:B}=T;const X=AE(B);let Z;return X&&(Z=function Qt(T){let A=bd,L=bd;const B=((de.supplemental.currencyData||{}).fractions||{})[T];return B&&B._digits&&(L=A=parseInt(B._digits,10)),{minimumFractionDigits:A,maximumFractionDigits:L}}(T.currency)),void 0===A&&(A=X?Z.minimumFractionDigits:0),void 0===L&&(L=B===Mn?Math.max(A,oN):X?Math.max(A,Z.maximumFractionDigits):Math.max(A,sN)),{minimumFractionDigits:A,maximumFractionDigits:L}}(A);me=fu(me,xe);const Et=me<0,Rt=xE(T),Hi=me.split(Us);let jt=Hi[0],bo=qi(Hi[1]?Hi[1].replace(RE,hn):hn,et,!0);Et&&(jt=jt.substring(1)),A.minimumIntegerDigits&&(jt=qi(jt,A.minimumIntegerDigits));let tr,Kr=!1!==A.useGrouping?p2(jt,0,jt.length,A,L):jt;if(bo&&(Kr+=B.decimal+bo),Z&&"name"===A.currencyDisplay)tr=function NE(T,A){const L=T.numbers.currency;let B=1!==A?L["unitPattern-count-other"]:L["unitPattern-count-one"];return A<0&&(B=B.replace(gt,`-${gt}`)),B}(L,T);else{const ca=A.patterns;tr=Et||Rt?ca[1]||"-"+ca[0]:ca[0]}return tr!==gt||Et?function fs(T,A,L){let B=hn;for(let X=0,Z=A.length;X<Z;X++){let me=A.charAt(X);B+=me===gt?T:me===ys||me===vi?L:me}return B}(Kr,tr,ht):Kr}const _1=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,LE="__??__";function Jm(T,A){const L=T.format;-1!==L.indexOf(vi)&&(T.style=Mn,T.symbol=A.numbers.symbols.percentSign,T.number*=100),-1!==L.indexOf(ys)&&(T.style=bi,T.symbol=l3(A))}function GE(T){let A=T.format;if(A.indexOf("'")>-1||A.indexOf('"')>-1||A.indexOf("\\")>-1){const L=T.literals=[];T.format=A.replace(_1,function(B){const X=B.charAt(0).replace("\\",hn),Z=B.slice(1).replace(X,hn);return L.push(Z),LE})}}const mu="#",Ed="0",v1=/(\.(?:[0-9]*[1-9])?)0+$/g,PE=/\.$/,ai=/,/g;function E1(T,A,L){let B;return B=-1===T&&-1!==A?A:-1!==T&&-1===A?T:L?Math.min(T,A):Math.max(T,A),B}function FE(T,A,L){const B={negative:T<0,number:Math.abs(T),negativeZero:xE(T),format:A};return function b1(T){let{number:A,format:L}=T;if(L=L.split(tn),(T.negative||T.negativeZero)&&L[1])L=L[1],T.hasNegativeFormat=!0;else if(0===A){const B=L[2];L=B||L[0],B&&function C1(T){return-1===T.indexOf(mu)&&-1===T.indexOf(Ed)}(B)&&(T.constant=B)}else L=L[0];T.format=L}(B),B.constant?B.constant:(GE(B),Jm(B,L),function Pe(T){T.hasGroup=T.format.indexOf(Ws)>-1,T.hasGroup&&(T.format=T.format.replace(ai,hn))}(B),function S1(T){let{number:A,format:L}=T,B=L.indexOf(Us);if(-1!==B){const X=L.lastIndexOf(Ed)-B,Z=L.lastIndexOf(mu)-B,me=X>-1,ht=Z>-1;let et=A.toString().split("e");et=et[1]?fu(A,Math.abs(et[1])):et[0],et=et.split(Us)[1]||hn;let xe=et.length,Et=-1;me||ht?me&&X>Z?xe=X:Z>X&&(ht&&xe>Z?xe=Z:me&&xe<X&&(xe=X),Et=me?X:0):(T.format=L.substring(0,B)+L.substring(B+1),B=-1,xe=0),xe>-1&&(A=fu(A,xe),Et>-1&&(A=function f2(T,A){let L;return L=0===A?v1:new RegExp(`(\\.[0-9]{${A}}[1-9]*)0+$`,"g"),T.replace(L,"$1").replace(PE,hn)}(A,Et)))}else A=fu(A);T.negative&&-1*A>=0&&!T.negativeZero&&(T.negative=!1),T.number=A,T.decimalIndex=B}(B),function d3(T){const A=T.format;let L=A.indexOf(mu),B=A.indexOf(Ed),X=E1(L,B,!0);L=A.lastIndexOf(mu),B=A.lastIndexOf(Ed);let Z=E1(L,B);X===A.length&&(Z=X),T.start=X,T.end=Z,T.lastZeroIndex=B}(B),function u3(T,A){let L=T.number;return-1!==T.start&&(L=function st(T,A){const{start:L,end:B,negative:X,negativeZero:Z,format:me,decimalIndex:ht,lastZeroIndex:et,hasNegativeFormat:xe,hasGroup:Et}=T;let Rt=T.number;const Hi=Rt.toString().split(Us),jt=me.length,bo=Hi[0],Kr=Hi[1]||hn,tr=bo.length;let y2=hn;Rt=me.substring(0,L),(X||Z)&&!xe&&(Rt+="-");for(let ca=L;ca<jt;ca++){let wd=me.charAt(ca);if(-1===ht){if(B-ca<tr){Rt+=bo;break}}else if(-1!==et&&et<ca&&(y2=hn),ht-ca<=tr&&ht-ca>-1&&(Rt+=bo,ca=ht),ht===ca){Rt+=(Kr?A.numbers.symbols.decimal:hn)+Kr,ca+=B-ht+1;continue}wd===Ed?(Rt+=wd,y2=wd):wd===mu&&(Rt+=y2)}return Et&&(Rt=p2(Rt,L+(X&&!xe?1:0),Math.max(B,tr+L),A.numbers.decimal,A)),B>=L&&(Rt+=me.substring(B+1)),Rt}(T,A),L=function rN(T,A,L){let B=T;if(A===bi||A===Mn){B=hn;for(let X=0,Z=T.length;X<Z;X++){let me=T.charAt(X);B+=me===ys||me===vi?L:me}}return B}(L,T.style,T.symbol),L=function g1(T,A){let L=T;if(A){const B=A.length;for(let X=0;X<B;X++)L=L.replace(LE,A[X])}return L}(L,T.literals)),L}(B,L))}const W=/^(n|c|p|e|a)(\d*)$/i;function qm(T){let A;return A=je(T)?function m2(T){const A=W.exec(T);if(A){const L={style:_n};let B=A[1].toLowerCase();return"c"===B?L.style=bi:"a"===B?L.style=oi:"p"===B?L.style=Mn:"e"===B&&(L.style=Ei),A[2]&&(L.minimumFractionDigits=L.maximumFractionDigits=parseInt(A[2],10)),L}}(T):T,A}function _2(T,A=gt,L=hu){if(null==T)return hn;if(!isFinite(T))return String(T);const B=it(L),X=qm(A);let Z;return Z=X?m1(T,Object.assign({},B.numbers[X.style||_n],X),B):FE(T,A,B),Z}function Pa(T){return"number"==typeof T}const Fa=/[eE][-+]?[0-9]+/,yd=/\u00A0/g;function Zt(T,A){if(A.length>1){const L=(A[1]||hn).replace(ys,hn).split(gt);if(T.indexOf(L[0])>-1&&T.indexOf(L[1])>-1)return T.replace(L[0],hn).replace(L[1],hn)}}function h3(T,A=hu,L={}){if(!T&&0!==T)return null;if(Pa(T))return T;const B=it(A),X=B.numbers.symbols;let ht,Z=T.toString(),me=L||{};if(je(L)&&(me={format:L},GE(me),Z=function Bj(T,A){const L=A.literals;let B=T;if(L)for(let X=0;X<L.length;X++)B=B.replace(L[X],hn);return B}(Z,me),Jm(me,B)),(me.style===Mn||Z.indexOf(X.percentSign)>-1)&&(Z=Z.replace(X.percentSign,hn),ht=!0),Fa.test(Z))return Z=parseFloat(Z.replace(X.decimal,Us)),isNaN(Z)?null:Z;const{negative:et,number:xe}=function Li(T,A,L){const B=qm(L)||{};let me,X=AE(B.style),Z=T;const ht=B.currency||ra(A,X);if(ht){const et=function o3(T,A,L=!0){const B=Xn(T,A,L);if(B){if(!B.displays){const X=[A];for(let Z in B)X.push(B[Z]);X.sort(d2),B.displays=X}return B.displays}}(A,ht,X);if(et)for(let xe=0;xe<et.length;xe++){let Et=et[xe];if(Z.includes(Et)){Z=Z.replace(Et,hn),X=!0;break}}if(X){const xe=Zt(Z,A.numbers.currency.patterns)||Zt(Z,A.numbers.accounting.patterns);xe&&(me=!0,Z=xe)}}return{number:Z,negative:me}}(Z,B,me);Z=String(xe).trim();const Et=Z.indexOf("-");if(Et>0)return null;let Rt=Et>-1;return Rt=void 0!==et?et:Rt,Z=Z.replace("-",hn).replace(yd," ").split(X.group.replace(yd," ")).join(hn).replace(X.decimal,Us),Z=parseFloat(Z),isNaN(Z)?Z=null:Rt&&(Z*=-1),Z&&ht&&(Z=function UE(T){const A=String(T),L=A.indexOf(Us);let X=T/Math.pow(10,2);return-1===L||String(X).length<=A.length+2?X:parseFloat(X.toFixed(A.length-L+1+2))}(Z)),Z}const Jn=/\{(\d+)}/g;function Je(T){const A=arguments;return T.replace(Jn,(L,B)=>A[parseInt(B,10)+1])}const BE=120,gn=20,y1=[2,1,5,3,4],aN={[(-2).toString()]:8,[(-1).toString()]:6,[2..toString()]:6,[1..toString()]:3},Qm={numeric:1,"2-digit":2,short:3,long:4,narrow:5},g2=/[hHmsSzZoOvVxX]/,jE=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:function k1(T){return T.hour12?"h":"H"}},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],HE={e:"c",E:"c",M:"L",Q:"q"},v2={},xi={};function _u(T){return v2[T]||(v2[T]=new RegExp(T+"+")),v2[T]}function w1(T){const A=[];let L=T.charAt(0),B=L;for(let X=1;X<T.length;X++){let Z=T.charAt(X);Z===B?L+=Z:(A.push(L),L=B=Z)}return A.push(L),A}function Oc(T,A){const L=T.length;let X,Z,B=-Number.MAX_VALUE;for(let me in A){const ht=[];let et=me.replace("v","z"),xe=0;for(let Et=0;Et<L;Et++){const Rt=T[Et];let jt=(_u(Rt[0]).exec(et)||[])[0];if(jt){if(et=et.replace(jt,hn),jt.length!==Rt.length){let bo=Math.max(Math.min(y1[jt.length]-y1[Rt.length],2),-2);xe-=aN[bo]}}else xe-=BE;if(ht.push(jt),xe<B)break}et.length&&(xe-=w1(et).length*gn),xe>B&&(B=xe,X=ht,Z=A[me])}Z=Z.replace("v","z");for(let me=0;me<L;me++){const ht=X[me];if(ht&&ht!==T[me]){const et=X[me][0];Z=Z.replace(_u(et),T[me]),HE[et]&&(Z=Z.replace(_u(HE[et]),T[me]))}}return Z}function pn(T,A){const L=A.calendar;let B;if(je(T))B=L.patterns[T]?L.patterns[T]:T;else if(T){if(T.pattern)return T.pattern;let X=T.skeleton;X||(T.datetime?B=Je(L.dateTimeFormats[T.datetime],L.timeFormats[T.datetime],L.dateFormats[T.datetime]):T.date?B=L.dateFormats[T.date]:T.time?B=L.timeFormats[T.time]:X=function $E(T){let A=[];for(let L=0;L<jE.length;L++){let B=jE[L],Z=T[B.key];if(Z){let me=B.specifier||B.getSpecifier(T);A.push(me.repeat(Qm[Z]))}}return A.join(hn)}(T)),X&&(B=function Ir(T,A){const L=A.calendar.dateTimeFormats.availableFormats;if(L[T])return L[T];if(xi[A.name]&&xi[A.name][T])return xi[A.name][T];const B=T.search(g2);let X;if(B>0){const Z=T.substr(0,B),me=T.substr(B);X=Je(A.calendar.dateTimeFormats.short,L[me]||Oc(w1(me),L),L[Z]||Oc(w1(Z),L))}else X=Oc(w1(T),L);return function p3(T,A,L){xi[L]||(xi[L]={}),xi[L][T]=A}(T,X,A.name),X}(X,A))}return B||(B=L.patterns.d),B}function Qp(T){let A;return T<=3?A="abbreviated":4===T?A="wide":5===T?A="narrow":6===T&&(A="short"),A}function Ua(T,A,L,B,X){return kc(T,{type:A,nameType:Qp(L),standAlone:B,lower:X})}function Zp(T){return"function"==typeof T}function Zm(T){return!!T&&Zp(T.getTime)&&Zp(T.getMonth)}const S2="hour",C2="zone",Fe="weekday",b2="quarter",O1={G:"era",y:"year",q:b2,Q:b2,M:"month",L:"month",d:"day",E:Fe,c:Fe,e:Fe,h:S2,H:S2,k:S2,K:S2,m:"minute",s:"second",S:"millisecond",a:"dayperiod",x:C2,X:C2,z:C2,Z:C2},e_=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g;function XE(T,A,L,B){return A<=2?qi(T+1,A):Ua(L,"months",A,B)[T]}function xr(T,A,L,B){const X=Math.floor(T.getMonth()/3);return A<3?X+1:Ua(L,"quarters",A,B)[X]}function gu(T,A,L){const{shortHours:B,optionalMinutes:X,separator:Z,localizedName:me,zZeroOffset:ht}=L,et=T.getTimezoneOffset()/60;if(0===et&&ht)return"Z";const xe=et<=0?"+":"-",Et=Math.abs(et).toString().split("."),Rt=Et[1]||0;let Hi=xe+(B?Et[0]:qi(Et[0],2));return(Rt||!X)&&(Hi+=(Z?":":hn)+qi(Rt,2)),me&&(Hi=Je(0===et?A.calendar.gmtZeroFormat:A.calendar.gmtFormat,Hi)),Hi}function WE(T,A,L,B){let X;return X=A<3?function Lh(T,A,L){const B=r3(L);let X;return X=T<B?7-B+T:T-B,X+1}(T.getDay(),0,L):Ua(L,"days",A,B)[T.getDay()],X}const ws={};function t_(T,A,L=hu){if(!Zm(T))return T??hn;const B=it(L);return pn(A,B).replace(e_,function(Z){let ht,me=Z.length;return ht=Z.includes("'")||Z.includes('"')?Z.slice(1,me-1):ws[Z[0]](T,me,B),ht})}function T1(T,A,L){const B=T.getTimezoneOffset(),X=new Date(T.getTime()+6e4*(A-L)),Z=X.getTimezoneOffset();return new Date(X.getTime()+6e4*(Z-B))}ws.d=function(T,A){return qi(T.getDate(),A)},ws.E=function(T,A,L){return Ua(L,"days",A)[T.getDay()]},ws.M=function(T,A,L){return XE(T.getMonth(),A,L,!1)},ws.L=function(T,A,L){return XE(T.getMonth(),A,L,!0)},ws.y=function(T,A){let L=T.getFullYear();return 2===A&&(L%=100),qi(L,A)},ws.h=function(T,A){return qi(T.getHours()%12||12,A)},ws.H=function(T,A){return qi(T.getHours(),A)},ws.k=function(T,A){return qi(T.getHours()||24,A)},ws.K=function(T,A){return qi(T.getHours()%12,A)},ws.m=function(T,A){return qi(T.getMinutes(),A)},ws.s=function(T,A){return qi(T.getSeconds(),A)},ws.S=function(T,A){const L=T.getMilliseconds();let B;return B=0!==L?qi(String(L/1e3).split(".")[1].substr(0,A),A,!0):qi(hn,A),B},ws.a=function(T,A,L){return Ua(L,"dayPeriods",A)[T.getHours()<12?"am":"pm"]},ws.z=function(T,A,L){return gu(T,L,{shortHours:A<4,optionalMinutes:A<4,separator:!0,localizedName:!0})},ws.Z=function(T,A,L){return gu(T,L,{separator:A>3,localizedName:4===A,zZeroOffset:5===A})},ws.x=function(T,A,L){return gu(T,L,{optionalMinutes:1===A,separator:3===A||5===A})},ws.X=function(T,A,L){return gu(T,L,{optionalMinutes:1===A,separator:3===A||5===A,zZeroOffset:!0})},ws.G=function(T,A,L){let B=T.getFullYear()>=0?1:0;return Ua(L,"eras",A)[B]},ws.e=WE,ws.c=function(T,A,L){return WE(T,A,L,!0)},ws.q=function(T,A,L){return xr(T,A,L,!0)},ws.Q=xr;const YE=/([+|-]\d{1,2})(:?)(\d{2})?/,f3=/^\/Date\((.*?)\)\/$/,ll=/[+-]\d*/,ef={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},n_=/\d+/,JE=/^ */,Tc=/ *$/,ti=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],kd=["G","g","F","Y","y","M","m","D","d","y","T","t"];function la(T,A,L){return!(T>=A&&T<=L)}function fo(T,A){let{format:L,idx:B}=A,X=0;for(;L[B]===T;)X++,B++;return X>0&&(B-=1),A.idx=B,X}function cl(T,A){let L=T?ef[T]||new RegExp("^\\d{1,"+T+"}"):n_,B=A.value.substr(A.valueIdx,T).match(L);return B?(B=B[0],A.valueIdx+=B.length,parseInt(B,10)):null}function Ba(T,A,L){let Z,me,xe,B=0,X=T.length,ht=0,et=0;for(;B<X;B++)Z=T[B],me=Z.length,xe=A.value.substr(A.valueIdx,me),L&&(xe=xe.toLowerCase()),xe===Z&&me>ht&&(ht=me,et=B);return ht?(A.valueIdx+=ht,et+1):null}function Mc(T){let A=!1;return T.value.charAt(T.valueIdx)===T.format[T.idx]&&(T.valueIdx++,A=!0),A}function tf(T,A,L){const{shortHours:B,noSeparator:X,optionalMinutes:Z,localizedName:me,zLiteral:ht}=L;if(T.UTC=!0,ht&&"Z"===T.value.charAt(T.valueIdx))return T.valueIdx++,!1;if(me&&!Ba(function _3(T){const{gmtFormat:A,gmtZeroFormat:L}=T;if(!A)throw Wt.NoGMTInfo.error();return[A.replace("{0}",hn).toLowerCase(),L.replace("{0}",hn).toLowerCase()]}(A.calendar),T,!0))return!0;const et=YE.exec(T.value.substr(T.valueIdx,6));if(!et)return!me;const xe=et[1],Et=et[3],Rt=parseInt(xe,10),Hi=et[2];let jt=parseInt(Et,10);if(isNaN(Rt)||!B&&3!==xe.length||!Z&&isNaN(jt)||X&&Hi||(isNaN(jt)&&(jt=null),la(Rt,-12,13)||jt&&la(jt,0,59)))return!0;T.valueIdx+=et[0].length,T.hoursOffset=Rt,T.minutesOffset=jt}function qE(T,A,L){const B=fo(T,A),X=Ua(L,"months",B,"L"===T,!0),Z=B<3?cl(2,A):Ba(X,A,!0);if(null===Z||la(Z,1,12))return!0;A.month=Z-1}function QE(T,A,L){const B=fo(T,A),X=Ua(L,"days",B,"c"===T,!0);let Z=B<3?cl(1,A):Ba(X,A,!0);if(!Z&&0!==Z||la(Z,1,7))return!0}const ms={};function ey(T,A){return`${JE.exec(A)[0]}${T}${Tc.exec(A)[0]}`}function cN(T,A,L){let B=pn(A,L).split(hn);const X={format:B,idx:0,value:ey(T,A),valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},Z=B.length;let me=!1;for(;X.idx<Z;X.idx++){let ht=B[X.idx];if(me)"'"===ht&&(me=!1),Mc(X);else if(ms[ht]){if(ms[ht](X,L))return null}else if("'"===ht)me=!0,Mc(X);else if(!Mc(X))return null}return X.valueIdx<T.length?null:function ZE(T){let{year:A,month:L,day:B,hours:X,minutes:Z,seconds:me,milliseconds:ht,pmHour:et,UTC:xe,hoursOffset:Et,minutesOffset:Rt}=T;const Hi=null!==X||null!==Z||me||null,jt=new Date;let bo;return null===A&&null===L&&null===B&&Hi?(A=jt.getFullYear(),L=jt.getMonth(),B=jt.getDate()):(null===A&&(A=jt.getFullYear()),null===B&&(B=1)),et&&X<12&&(X+=12),xe?(Et&&(X+=-Et),Rt&&(Z+=-Rt*(Et<0?-1:1)),bo=new Date(Date.UTC(A,L,B,X,Z,me,ht))):(bo=new Date(A,L,B,X,Z,me,ht),function lN(T,A){!A&&23===T.getHours()&&T.setHours(T.getHours()+2)}(bo,X)),A<100&&bo.setFullYear(A),bo.getDate()!==B&&void 0===xe?null:bo}(X)||null}function Ll(T,A,L=hu){if(!T)return null;if(Zm(T))return T;let B=String(T).trim(),X=function g3(T){if(T&&0===T.indexOf("/D")){let A=f3.exec(T);if(A){A=A[1];let L=ll.exec(A.substring(1));return A=new Date(parseInt(A,10)),L&&(L=function ty(T){const A="-"===T.substr(0,1)?-1:1;let L=T.substring(1);return L=60*parseInt(L.substr(0,2),10)+parseInt(L.substring(2),10),A*L}(L[0]),A=T1(A,A.getTimezoneOffset(),0),A=T1(A,0,-1*L)),A}}}(B);if(X)return X;const Z=it(L);let me=A||function v3(T){const A=[],L=T.patterns,B=kd.length;for(let X=0;X<B;X++)A.push(L[kd[X]]);return A.concat(ti)}(Z.calendar);me=Array.isArray(me)?me:[me];const ht=me.length;for(let et=0;et<ht;et++)if(X=cN(B,me[et],Z),X)return X;return X}ms.d=function(T){fo("d",T);const A=cl(2,T);if(null===A||la(A,1,31))return!0;null===T.day&&(T.day=A)},ms.E=function(T,A){if(null===Ba(Ua(A,"days",fo("E",T),!1,!0),T,!0))return!0},ms.M=function(T,A){return qE("M",T,A)},ms.L=function(T,A){return qE("L",T,A)},ms.y=function(T){const A=fo("y",T);let L=cl(1===A?void 0:A,T);if(null===L)return!0;if(2===A){const B=(new Date).getFullYear();L=B-B%100+L,L>2029&&(L-=100)}T.year=L},ms.h=function(T){fo("h",T);let A=cl(2,T);if(12===A&&(A=0),null===A||la(A,0,11))return!0;T.hours=A},ms.K=function(T){fo("K",T);let A=cl(2,T);if(null===A||la(A,0,11))return!0;T.hours=A},ms.a=function(T,A){let B=Ua(A,"dayPeriods",fo("a",T),!1,!0);const X=Ba([B.pm],T,!0);if(!X&&!Ba([B.am],T,!0))return!0;T.pmHour=X},ms.H=function(T){fo("H",T);const A=cl(2,T);if(null===A||la(A,0,23))return!0;T.hours=A},ms.k=function(T){fo("k",T);let A=cl(2,T);if(null===A||la(A,1,24))return!0;T.hours=24===A?0:A},ms.m=function(T){fo("m",T);const A=cl(2,T);if(null===A||la(A,0,59))return!0;T.minutes=A},ms.s=function(T){fo("s",T);const A=cl(2,T);if(null===A||la(A,0,59))return!0;T.seconds=A},ms.S=function(T){const A=fo("S",T),L=T.value.substr(T.valueIdx,A);let B=null;if(isNaN(parseInt(L,10))||(B=parseFloat("0."+L,10),B=fu(B,3),B*=1e3,T.valueIdx+=A),null===B||la(B,0,999))return!0;T.milliseconds=B},ms.z=function(T,A){const B=fo("z",T)<4,X=tf(T,A,{shortHours:B,optionalMinutes:B,localizedName:!0});if(X)return X},ms.Z=function(T,A){const L=fo("Z",T),B=tf(T,A,{noSeparator:L<4,zLiteral:5===L,localizedName:4===L});if(B)return B},ms.x=function(T,A){const L=fo("x",T),B=tf(T,A,{noSeparator:3!==L&&5!==L,optionalMinutes:1===L});if(B)return B},ms.X=function(T,A){const L=fo("X",T),B=tf(T,A,{noSeparator:3!==L&&5!==L,optionalMinutes:1===L,zLiteral:!0});if(B)return B},ms.G=function(T,A){const B=Ua(A,"eras",fo("G",T),!1,!0);if(null===Ba([B[0],B[1]],T,!0))return!0},ms.e=function(T,A){return QE("e",T,A)},ms.c=function(T,A){return QE("c",T,A)};const dN={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}},ny="literal";function E2(T,A){const L=T[T.length-1];L&&L.type===ny?L.pattern+=A:T.push({type:ny,pattern:A})}function S3(T){return"h"===T||"K"===T}function C3(T,A=hu){const B=pn(T,it(A)),X=[];let Z=e_.lastIndex=0,me=e_.exec(B);for(;me;){let ht=me[0];if(Z<me.index&&E2(X,B.substring(Z,me.index)),ht.startsWith('"')||ht.startsWith("'"))E2(X,ht);else{const et=ht[0],xe=O1[et],Et={type:xe,pattern:ht};"hour"===xe&&(Et.hour12=S3(ht));const Rt=dN[xe];if(Rt){const Hi=Pa(Rt.minLength)?Rt.minLength:Rt.minLength[et],jt=ht.length;jt>=Hi&&(Et.names={type:Rt.type,nameType:Qp(jt),standAlone:Rt.standAlone===et})}X.push(Et)}Z=e_.lastIndex,me=e_.exec(B)}return Z<B.length&&E2(X,B.substring(Z)),X}const uN=/\{(\d+)(:[^}]+)?\}/g;function M1(T,A,L){if(A){if(Zm(T))return t_(T,A,L);if(Pa(T))return _2(T,A,L)}return T??hn}function b3(T,A,L){return T.replace(uN,function(B,X,Z){return M1(A[parseInt(X,10)],Z?Z.substring(1):hn,L)})}},412:(Fs,un,_e)=>{"use strict";_e.d(un,{t:()=>q});var ot=_e(413);class q extends ot.B{constructor(rt){super(),this._value=rt}get value(){return this.getValue()}_subscribe(rt){const nt=super._subscribe(rt);return!nt.closed&&rt.next(this._value),nt}getValue(){const{hasError:rt,thrownError:nt,_value:t}=this;if(rt)throw nt;return this._throwIfClosed(),t}next(rt){super.next(this._value=rt)}}},985:(Fs,un,_e)=>{"use strict";_e.d(un,{c:()=>qt});var ot=_e(707),q=_e(359),je=_e(494),rt=_e(203),nt=_e(26),t=_e(71),at=_e(786);let qt=(()=>{class de{constructor(it){it&&(this._subscribe=it)}lift(it){const _n=new de;return _n.source=this,_n.operator=it,_n}subscribe(it,_n,bi){const oi=function De(de){return de&&de instanceof ot.vU||function ut(de){return de&&(0,t.T)(de.next)&&(0,t.T)(de.error)&&(0,t.T)(de.complete)}(de)&&(0,q.Uv)(de)}(it)?it:new ot.Ms(it,_n,bi);return(0,at.Y)(()=>{const{operator:Mn,source:Ei}=this;oi.add(Mn?Mn.call(oi,Ei):Ei?this._subscribe(oi):this._trySubscribe(oi))}),oi}_trySubscribe(it){try{return this._subscribe(it)}catch(_n){it.error(_n)}}forEach(it,_n){return new(_n=Wt(_n))((bi,oi)=>{const Mn=new ot.Ms({next:Ei=>{try{it(Ei)}catch(ys){oi(ys),Mn.unsubscribe()}},error:oi,complete:bi});this.subscribe(Mn)})}_subscribe(it){var _n;return null===(_n=this.source)||void 0===_n?void 0:_n.subscribe(it)}[je.s](){return this}pipe(...it){return(0,rt.m)(it)(this)}toPromise(it){return new(it=Wt(it))((_n,bi)=>{let oi;this.subscribe(Mn=>oi=Mn,Mn=>bi(Mn),()=>_n(oi))})}}return de.create=kn=>new de(kn),de})();function Wt(de){var kn;return null!==(kn=de??nt.$.Promise)&&void 0!==kn?kn:Promise}},413:(Fs,un,_e)=>{"use strict";_e.d(un,{B:()=>at});var ot=_e(985),q=_e(359);const rt=(0,_e(853).L)(Wt=>function(){Wt(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var nt=_e(908),t=_e(786);let at=(()=>{class Wt extends ot.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(De){const de=new qt(this,this);return de.operator=De,de}_throwIfClosed(){if(this.closed)throw new rt}next(De){(0,t.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const de of this.currentObservers)de.next(De)}})}error(De){(0,t.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=De;const{observers:de}=this;for(;de.length;)de.shift().error(De)}})}complete(){(0,t.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:De}=this;for(;De.length;)De.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var De;return(null===(De=this.observers)||void 0===De?void 0:De.length)>0}_trySubscribe(De){return this._throwIfClosed(),super._trySubscribe(De)}_subscribe(De){return this._throwIfClosed(),this._checkFinalizedStatuses(De),this._innerSubscribe(De)}_innerSubscribe(De){const{hasError:de,isStopped:kn,observers:it}=this;return de||kn?q.Kn:(this.currentObservers=null,it.push(De),new q.yU(()=>{this.currentObservers=null,(0,nt.o)(it,De)}))}_checkFinalizedStatuses(De){const{hasError:de,thrownError:kn,isStopped:it}=this;de?De.error(kn):it&&De.complete()}asObservable(){const De=new ot.c;return De.source=this,De}}return Wt.create=(ut,De)=>new qt(ut,De),Wt})();class qt extends at{constructor(ut,De){super(),this.destination=ut,this.source=De}next(ut){var De,de;null===(de=null===(De=this.destination)||void 0===De?void 0:De.next)||void 0===de||de.call(De,ut)}error(ut){var De,de;null===(de=null===(De=this.destination)||void 0===De?void 0:De.error)||void 0===de||de.call(De,ut)}complete(){var ut,De;null===(De=null===(ut=this.destination)||void 0===ut?void 0:ut.complete)||void 0===De||De.call(ut)}_subscribe(ut){var De,de;return null!==(de=null===(De=this.source)||void 0===De?void 0:De.subscribe(ut))&&void 0!==de?de:q.Kn}}},707:(Fs,un,_e)=>{"use strict";_e.d(un,{Ms:()=>bi,vU:()=>de});var ot=_e(71),q=_e(359),je=_e(26),rt=_e(334),nt=_e(343);const t=Wt("C",void 0,void 0);function Wt(vi,gt,tn){return{kind:vi,value:gt,error:tn}}var ut=_e(270),De=_e(786);class de extends q.yU{constructor(gt){super(),this.isStopped=!1,gt?(this.destination=gt,(0,q.Uv)(gt)&&gt.add(this)):this.destination=ys}static create(gt,tn,Ws){return new bi(gt,tn,Ws)}next(gt){this.isStopped?Ei(function qt(vi){return Wt("N",vi,void 0)}(gt),this):this._next(gt)}error(gt){this.isStopped?Ei(function at(vi){return Wt("E",void 0,vi)}(gt),this):(this.isStopped=!0,this._error(gt))}complete(){this.isStopped?Ei(t,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(gt){this.destination.next(gt)}_error(gt){try{this.destination.error(gt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const kn=Function.prototype.bind;function it(vi,gt){return kn.call(vi,gt)}class _n{constructor(gt){this.partialObserver=gt}next(gt){const{partialObserver:tn}=this;if(tn.next)try{tn.next(gt)}catch(Ws){oi(Ws)}}error(gt){const{partialObserver:tn}=this;if(tn.error)try{tn.error(gt)}catch(Ws){oi(Ws)}else oi(gt)}complete(){const{partialObserver:gt}=this;if(gt.complete)try{gt.complete()}catch(tn){oi(tn)}}}class bi extends de{constructor(gt,tn,Ws){let Us;if(super(),(0,ot.T)(gt)||!gt)Us={next:gt??void 0,error:tn??void 0,complete:Ws??void 0};else{let hn;this&&je.$.useDeprecatedNextContext?(hn=Object.create(gt),hn.unsubscribe=()=>this.unsubscribe(),Us={next:gt.next&&it(gt.next,hn),error:gt.error&&it(gt.error,hn),complete:gt.complete&&it(gt.complete,hn)}):Us=gt}this.destination=new _n(Us)}}function oi(vi){je.$.useDeprecatedSynchronousErrorHandling?(0,De.l)(vi):(0,rt.m)(vi)}function Ei(vi,gt){const{onStoppedNotification:tn}=je.$;tn&&ut.f.setTimeout(()=>tn(vi,gt))}const ys={closed:!0,next:nt.l,error:function Mn(vi){throw vi},complete:nt.l}},359:(Fs,un,_e)=>{"use strict";_e.d(un,{Kn:()=>t,yU:()=>nt,Uv:()=>at});var ot=_e(71);const je=(0,_e(853).L)(Wt=>function(De){Wt(this),this.message=De?`${De.length} errors occurred during unsubscription:\n${De.map((de,kn)=>`${kn+1}) ${de.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=De});var rt=_e(908);class nt{constructor(ut){this.initialTeardown=ut,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ut;if(!this.closed){this.closed=!0;const{_parentage:De}=this;if(De)if(this._parentage=null,Array.isArray(De))for(const it of De)it.remove(this);else De.remove(this);const{initialTeardown:de}=this;if((0,ot.T)(de))try{de()}catch(it){ut=it instanceof je?it.errors:[it]}const{_finalizers:kn}=this;if(kn){this._finalizers=null;for(const it of kn)try{qt(it)}catch(_n){ut=ut??[],_n instanceof je?ut=[...ut,..._n.errors]:ut.push(_n)}}if(ut)throw new je(ut)}}add(ut){var De;if(ut&&ut!==this)if(this.closed)qt(ut);else{if(ut instanceof nt){if(ut.closed||ut._hasParent(this))return;ut._addParent(this)}(this._finalizers=null!==(De=this._finalizers)&&void 0!==De?De:[]).push(ut)}}_hasParent(ut){const{_parentage:De}=this;return De===ut||Array.isArray(De)&&De.includes(ut)}_addParent(ut){const{_parentage:De}=this;this._parentage=Array.isArray(De)?(De.push(ut),De):De?[De,ut]:ut}_removeParent(ut){const{_parentage:De}=this;De===ut?this._parentage=null:Array.isArray(De)&&(0,rt.o)(De,ut)}remove(ut){const{_finalizers:De}=this;De&&(0,rt.o)(De,ut),ut instanceof nt&&ut._removeParent(this)}}nt.EMPTY=(()=>{const Wt=new nt;return Wt.closed=!0,Wt})();const t=nt.EMPTY;function at(Wt){return Wt instanceof nt||Wt&&"closed"in Wt&&(0,ot.T)(Wt.remove)&&(0,ot.T)(Wt.add)&&(0,ot.T)(Wt.unsubscribe)}function qt(Wt){(0,ot.T)(Wt)?Wt():Wt.unsubscribe()}},26:(Fs,un,_e)=>{"use strict";_e.d(un,{$:()=>ot});const ot={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},360:(Fs,un,_e)=>{"use strict";_e.d(un,{_:()=>q});var ot=_e(707);function q(rt,nt,t,at,qt){return new je(rt,nt,t,at,qt)}class je extends ot.vU{constructor(nt,t,at,qt,Wt,ut){super(nt),this.onFinalize=Wt,this.shouldUnsubscribe=ut,this._next=t?function(De){try{t(De)}catch(de){nt.error(de)}}:super._next,this._error=qt?function(De){try{qt(De)}catch(de){nt.error(de)}finally{this.unsubscribe()}}:super._error,this._complete=at?function(){try{at()}catch(De){nt.error(De)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var nt;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(nt=this.onFinalize)||void 0===nt||nt.call(this))}}}},354:(Fs,un,_e)=>{"use strict";_e.d(un,{T:()=>je});var ot=_e(974),q=_e(360);function je(rt,nt){return(0,ot.N)((t,at)=>{let qt=0;t.subscribe((0,q._)(at,Wt=>{at.next(rt.call(nt,Wt,qt++))}))})}},270:(Fs,un,_e)=>{"use strict";_e.d(un,{f:()=>ot});const ot={setTimeout(q,je,...rt){const{delegate:nt}=ot;return nt?.setTimeout?nt.setTimeout(q,je,...rt):setTimeout(q,je,...rt)},clearTimeout(q){const{delegate:je}=ot;return(je?.clearTimeout||clearTimeout)(q)},delegate:void 0}},494:(Fs,un,_e)=>{"use strict";_e.d(un,{s:()=>ot});const ot="function"==typeof Symbol&&Symbol.observable||"@@observable"},908:(Fs,un,_e)=>{"use strict";function ot(q,je){if(q){const rt=q.indexOf(je);0<=rt&&q.splice(rt,1)}}_e.d(un,{o:()=>ot})},853:(Fs,un,_e)=>{"use strict";function ot(q){const rt=q(nt=>{Error.call(nt),nt.stack=(new Error).stack});return rt.prototype=Object.create(Error.prototype),rt.prototype.constructor=rt,rt}_e.d(un,{L:()=>ot})},786:(Fs,un,_e)=>{"use strict";_e.d(un,{Y:()=>je,l:()=>rt});var ot=_e(26);let q=null;function je(nt){if(ot.$.useDeprecatedSynchronousErrorHandling){const t=!q;if(t&&(q={errorThrown:!1,error:null}),nt(),t){const{errorThrown:at,error:qt}=q;if(q=null,at)throw qt}}else nt()}function rt(nt){ot.$.useDeprecatedSynchronousErrorHandling&&q&&(q.errorThrown=!0,q.error=nt)}},669:(Fs,un,_e)=>{"use strict";function ot(q){return q}_e.d(un,{D:()=>ot})},71:(Fs,un,_e)=>{"use strict";function ot(q){return"function"==typeof q}_e.d(un,{T:()=>ot})},974:(Fs,un,_e)=>{"use strict";_e.d(un,{N:()=>je,S:()=>q});var ot=_e(71);function q(rt){return(0,ot.T)(rt?.lift)}function je(rt){return nt=>{if(q(nt))return nt.lift(function(t){try{return rt(t,this)}catch(at){this.error(at)}});throw new TypeError("Unable to lift unknown Observable type")}}},343:(Fs,un,_e)=>{"use strict";function ot(){}_e.d(un,{l:()=>ot})},203:(Fs,un,_e)=>{"use strict";_e.d(un,{F:()=>q,m:()=>je});var ot=_e(669);function q(...rt){return je(rt)}function je(rt){return 0===rt.length?ot.D:1===rt.length?rt[0]:function(t){return rt.reduce((at,qt)=>qt(at),t)}}},334:(Fs,un,_e)=>{"use strict";_e.d(un,{m:()=>je});var ot=_e(26),q=_e(270);function je(rt){q.f.setTimeout(()=>{const{onUnhandledError:nt}=ot.$;if(!nt)throw rt;nt(rt)})}},438:(Fs,un,_e)=>{"use strict";_e.d(un,{bc$:()=>uf,iLQ:()=>FP,sZ2:()=>Ay,hnV:()=>GK,Hbi:()=>wme,o8S:()=>P_,BIS:()=>m8,gRc:()=>jP,Ql9:()=>qfe,OM3:()=>OC,Ocv:()=>sme,Z63:()=>kd,aKT:()=>H2,uvJ:()=>vu,zcH:()=>ku,bkB:()=>Du,$GK:()=>gn,nKC:()=>ai,zZn:()=>Ul,_q3:()=>JP,MKu:()=>qP,xe9:()=>II,Co$:()=>vG,Vns:()=>Of,SKi:()=>ir,Xx1:()=>Fe,Agw:()=>wT,PLl:()=>f8,rOR:()=>Oy,sFG:()=>Eue,_9s:()=>iX,czy:()=>Xh,WPN:()=>En,kdw:()=>O1,C4Q:()=>EC,NYb:()=>Hfe,giA:()=>NK,RxE:()=>AP,c1b:()=>Ck,gXe:()=>Ba,mal:()=>FL,L39:()=>t_e,Ol2:()=>wk,w6W:()=>UX,oH4:()=>WK,Rfq:()=>Rh,WQX:()=>pn,naY:()=>cme,QuC:()=>Hi,EmA:()=>wd,fpN:()=>kme,HJs:()=>eF,N4e:()=>vN,O8t:()=>i_e,An2:()=>vM,H3F:()=>RP,H8p:()=>mN,KH2:()=>$C,TgB:()=>hv,wOt:()=>lt,WHO:()=>AK,e01:()=>RK,lNU:()=>f1,h9k:()=>$h,$MX:()=>Vy,ZF7:()=>p_,Kcf:()=>s$,e5t:()=>r$,UyX:()=>o$,cWb:()=>O8,osQ:()=>By,H5H:()=>YG,Zy3:()=>Ah,mq5:()=>AW,JZv:()=>ss,LfX:()=>LE,plB:()=>D_,jNT:()=>GP,zjR:()=>LK,XSP:()=>Khe,TL$:()=>kT,Tbb:()=>Xn,rcV:()=>Id,Vt3:()=>GM,Mj6:()=>Mc,GFd:()=>gG,OA$:()=>sn,Jv_:()=>zY,aNF:()=>jY,R7$:()=>Gc,BMQ:()=>tI,HbH:()=>_W,ZvI:()=>yW,AVh:()=>PG,vxM:()=>VG,wni:()=>SY,VBU:()=>L,FsC:()=>ht,jDH:()=>fs,G2t:()=>m1,$C:()=>Z,EJ8:()=>et,rXU:()=>S_,nrm:()=>HG,eu8:()=>$G,bVm:()=>pI,qex:()=>hI,k0s:()=>uI,j41:()=>dI,RV6:()=>xW,xGo:()=>XN,Mr5:()=>XG,nnv:()=>lY,ehv:()=>aY,uP7:()=>sP,KVO:()=>Ir,kS0:()=>wy,QTQ:()=>ZT,bIt:()=>oP,lsd:()=>EY,joV:()=>my,qSk:()=>X3,XpG:()=>hY,nI1:()=>oK,bMT:()=>rK,i5U:()=>aK,brH:()=>lK,SdG:()=>fY,NAR:()=>pY,Y8G:()=>NG,FS9:()=>aP,Mz_:()=>CI,FCK:()=>lP,lJ4:()=>$Y,eq3:()=>XY,l_i:()=>WY,sMw:()=>YY,ziG:()=>KY,s1E:()=>JY,l4e:()=>qY,sGs:()=>QY,lV:()=>ZY,zJS:()=>eK,mGM:()=>bY,sdS:()=>yY,Njj:()=>NN,tSv:()=>H8,eBV:()=>RN,npT:()=>Y1,B4B:()=>_f,n$t:()=>PT,Aen:()=>Fu,xc7:()=>GG,zvX:()=>WG,DNE:()=>pv,C5r:()=>cK,EFF:()=>AY,JRh:()=>_P,SpI:()=>bI,Lme:()=>gP,SjE:()=>vP,OP0:()=>xd,DH7:()=>UY,mxI:()=>CP,R50:()=>SP,GBs:()=>CY}),_e(467);let je=null,nt=1;const t=Symbol("SIGNAL");function at(d){const h=je;return je=d,h}function it(d){if((!Ws(d)||d.dirty)&&(d.dirty||d.lastCleanEpoch!==nt)){if(!d.producerMustRecompute(d)&&!ys(d))return d.dirty=!1,void(d.lastCleanEpoch=nt);d.producerRecomputeValue(d),d.dirty=!1,d.lastCleanEpoch=nt}}function ys(d){Us(d);for(let h=0;h<d.producerNode.length;h++){const p=d.producerNode[h],m=d.producerLastReadVersion[h];if(m!==p.version||(it(p),m!==p.version))return!0}return!1}function tn(d,h){if(function hn(d){d.liveConsumerNode??=[],d.liveConsumerIndexOfThis??=[]}(d),Us(d),1===d.liveConsumerNode.length)for(let m=0;m<d.producerNode.length;m++)tn(d.producerNode[m],d.producerIndexOfThis[m]);const p=d.liveConsumerNode.length-1;if(d.liveConsumerNode[h]=d.liveConsumerNode[p],d.liveConsumerIndexOfThis[h]=d.liveConsumerIndexOfThis[p],d.liveConsumerNode.length--,d.liveConsumerIndexOfThis.length--,h<d.liveConsumerNode.length){const m=d.liveConsumerIndexOfThis[h],v=d.liveConsumerNode[h];Us(v),v.producerIndexOfThis[m]=h}}function Ws(d){return d.consumerIsAlwaysLive||(d?.liveConsumerNode?.length??0)>0}function Us(d){d.producerNode??=[],d.producerIndexOfThis??=[],d.producerLastReadVersion??=[]}let Mt=null;var DE=_e(413),p1=_e(359),OE=_e(412),s3=_e(354);const f1="https://g.co/ng/security#xss";class lt extends Error{constructor(h,p){super(Ah(h,p)),this.code=h}}function Ah(d,h){return`NG0${Math.abs(d)}${h?": "+h:""}`}function Cd(d){return{toString:d}.toString()}const kc="__parameters__";function ri(d,h,p){return Cd(()=>{const m=function yi(d){return function(...p){if(d){const m=d(...p);for(const v in m)this[v]=m[v]}}}(h);function v(...C){if(this instanceof v)return m.apply(this,C),this;const E=new v(...C);return y.annotation=E,y;function y(w,M,R){const V=w.hasOwnProperty(kc)?w[kc]:Object.defineProperty(w,kc,{value:[]})[kc];for(;V.length<=R;)V.push(null);return(V[R]=V[R]||[]).push(E),w}}return p&&(v.prototype=Object.create(p.prototype)),v.prototype.ngMetadataName=d,v.annotationCls=v,v})}const ss=globalThis;function $n(d){for(let h in d)if(d[h]===$n)return h;throw Error("Could not find renamed property on target object.")}function IE(d,h){for(const p in h)h.hasOwnProperty(p)&&!d.hasOwnProperty(p)&&(d[p]=h[p])}function Xn(d){if("string"==typeof d)return d;if(Array.isArray(d))return"["+d.map(Xn).join(", ")+"]";if(null==d)return""+d;if(d.overriddenName)return`${d.overriddenName}`;if(d.name)return`${d.name}`;const h=d.toString();if(null==h)return""+h;const p=h.indexOf("\n");return-1===p?h:h.substring(0,p)}function d2(d,h){return null==d||""===d?null===h?"":h:null==h||""===h?d:d+" "+h}const o3=$n({__forward_ref__:$n});function Rh(d){return d.__forward_ref__=Rh,d.toString=function(){return Xn(this())},d}function Qt(d){return Nh(d)?d():d}function Nh(d){return"function"==typeof d&&d.hasOwnProperty(o3)&&d.__forward_ref__===Rh}function fs(d){return{token:d.token,providedIn:d.providedIn||null,factory:d.factory,value:void 0}}function m1(d){return{providers:d.providers||[],imports:d.imports||[]}}function _1(d){return Jm(d,mu)||Jm(d,v1)}function LE(d){return null!==_1(d)}function Jm(d,h){return d.hasOwnProperty(h)?d[h]:null}function g1(d){return d&&(d.hasOwnProperty(Ed)||d.hasOwnProperty(PE))?d[Ed]:null}const mu=$n({\u0275prov:$n}),Ed=$n({\u0275inj:$n}),v1=$n({ngInjectableDef:$n}),PE=$n({ngInjectorDef:$n});class ai{constructor(h,p){this._desc=h,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof p?this.__NG_ELEMENT_ID__=p:void 0!==p&&(this.\u0275prov=fs({token:this,providedIn:p.providedIn||"root",factory:p.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function FE(d){return d&&!!d.\u0275providers}const W=$n({\u0275cmp:$n}),m2=$n({\u0275dir:$n}),qm=$n({\u0275pipe:$n}),_2=$n({\u0275mod:$n}),Pa=$n({\u0275fac:$n}),Fa=$n({__NG_ELEMENT_ID__:$n}),yd=$n({__NG_ENV_ID__:$n});function Zt(d){return"string"==typeof d?d:null==d?"":String(d)}function BE(d,h){throw new lt(-201,!1)}var gn=function(d){return d[d.Default=0]="Default",d[d.Host=1]="Host",d[d.Self=2]="Self",d[d.SkipSelf=4]="SkipSelf",d[d.Optional=8]="Optional",d}(gn||{});let y1;function VE(){return y1}function aa(d){const h=y1;return y1=d,h}function zE(d,h,p){const m=_1(d);return m&&"root"==m.providedIn?void 0===m.value?m.value=m.factory():m.value:p&gn.Optional?null:void 0!==h?h:void BE()}const Qm={},g2="__NG_DI_FLAG__",k1="ngTempTokenPath",HE=/\n/gm,xi="__source";let _u;function Oc(d){const h=_u;return _u=d,h}function p3(d,h=gn.Default){if(void 0===_u)throw new lt(-203,!1);return null===_u?zE(d,void 0,h):_u.get(d,h&gn.Optional?null:void 0,h)}function Ir(d,h=gn.Default){return(VE()||p3)(Qt(d),h)}function pn(d,h=gn.Default){return Ir(d,Qp(h))}function Qp(d){return typeof d>"u"||"number"==typeof d?d:(d.optional&&8)|(d.host&&1)|(d.self&&2)|(d.skipSelf&&4)}function Ua(d){const h=[];for(let p=0;p<d.length;p++){const m=Qt(d[p]);if(Array.isArray(m)){if(0===m.length)throw new lt(900,!1);let v,C=gn.Default;for(let E=0;E<m.length;E++){const y=m[E],w=Zm(y);"number"==typeof w?-1===w?v=y.token:C|=w:v=y}h.push(Ir(v,C))}else h.push(Ir(m))}return h}function Zp(d,h){return d[g2]=h,d.prototype[g2]=h,d}function Zm(d){return d[g2]}const Fe=Zp(ri("Optional"),8),O1=Zp(ri("SkipSelf"),4);function Lh(d,h){return d.hasOwnProperty(Pa)?d[Pa]:null}function gu(d,h){d.forEach(p=>Array.isArray(p)?gu(p,h):h(p))}function WE(d,h,p){h>=d.length?d.push(p):d.splice(h,0,p)}function ws(d,h){return h>=d.length-1?d.pop():d.splice(h,1)[0]}function ll(d,h,p){let m=n_(d,h);return m>=0?d[1|m]=p:(m=~m,function YE(d,h,p,m){let v=d.length;if(v==h)d.push(p,m);else if(1===v)d.push(m,d[0]),d[0]=p;else{for(v--,d.push(d[v-1],d[v]);v>h;)d[v]=d[v-2],v--;d[h]=p,d[h+1]=m}}(d,m,h,p)),m}function ef(d,h){const p=n_(d,h);if(p>=0)return d[1|p]}function n_(d,h){return function JE(d,h,p){let m=0,v=d.length>>p;for(;v!==m;){const C=m+(v-m>>1),E=d[C<<p];if(h===E)return C<<p;E>h?v=C:m=C+1}return~(v<<p)}(d,h,1)}const Tc={},ti=[],kd=new ai(""),m3=new ai("",-1),la=new ai("");class fo{get(h,p=Qm){if(p===Qm){const m=new Error(`NullInjectorError: No provider for ${Xn(h)}!`);throw m.name="NullInjectorError",m}return p}}var cl=function(d){return d[d.OnPush=0]="OnPush",d[d.Default=1]="Default",d}(cl||{}),Ba=function(d){return d[d.Emulated=0]="Emulated",d[d.None=2]="None",d[d.ShadowDom=3]="ShadowDom",d}(Ba||{}),Mc=function(d){return d[d.None=0]="None",d[d.SignalBased=1]="SignalBased",d[d.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",d}(Mc||{});function _3(d,h,p){let m=d.length;for(;;){const v=d.indexOf(h,p);if(-1===v)return v;if(0===v||d.charCodeAt(v-1)<=32){const C=h.length;if(v+C===m||d.charCodeAt(v+C)<=32)return v}p=v+1}}function tf(d,h,p){let m=0;for(;m<p.length;){const v=p[m];if("number"==typeof v){if(0!==v)break;m++;const C=p[m++],E=p[m++],y=p[m++];d.setAttribute(h,E,y,C)}else{const C=v,E=p[++m];QE(C)?d.setProperty(h,C,E):d.setAttribute(h,C,E),m++}}return m}function qE(d){return 3===d||4===d||6===d}function QE(d){return 64===d.charCodeAt(0)}function ms(d,h){if(null!==h&&0!==h.length)if(null===d||0===d.length)d=h.slice();else{let p=-1;for(let m=0;m<h.length;m++){const v=h[m];"number"==typeof v?p=v:0===p||ZE(d,p,v,null,-1===p||2===p?h[++m]:null)}}return d}function ZE(d,h,p,m,v){let C=0,E=d.length;if(-1===h)E=-1;else for(;C<d.length;){const y=d[C++];if("number"==typeof y){if(y===h){E=-1;break}if(y>h){E=C-1;break}}}for(;C<d.length;){const y=d[C];if("number"==typeof y)break;if(y===p){if(null===m)return void(null!==v&&(d[C+1]=v));if(m===d[C+1])return void(d[C+2]=v)}C++,null!==m&&C++,null!==v&&C++}-1!==E&&(d.splice(E,0,h),C=E+1),d.splice(C++,0,p),null!==m&&d.splice(C++,0,m),null!==v&&d.splice(C++,0,v)}const ey="ng-template";function cN(d,h,p,m){let v=0;if(m){for(;v<h.length&&"string"==typeof h[v];v+=2)if("class"===h[v]&&-1!==_3(h[v+1].toLowerCase(),p,0))return!0}else if(ty(d))return!1;if(v=h.indexOf(1,v),v>-1){let C;for(;++v<h.length&&"string"==typeof(C=h[v]);)if(C.toLowerCase()===p)return!0}return!1}function ty(d){return 4===d.type&&d.value!==ey}function g3(d,h,p){return h===(4!==d.type||p?d.value:ey)}function v3(d,h,p){let m=4;const v=d.attrs,C=null!==v?function S3(d){for(let h=0;h<d.length;h++)if(qE(d[h]))return h;return d.length}(v):0;let E=!1;for(let y=0;y<h.length;y++){const w=h[y];if("number"!=typeof w){if(!E)if(4&m){if(m=2|1&m,""!==w&&!g3(d,w,p)||""===w&&1===h.length){if(Ll(m))return!1;E=!0}}else if(8&m){if(null===v||!cN(d,v,w,p)){if(Ll(m))return!1;E=!0}}else{const M=h[++y],R=dN(w,v,ty(d),p);if(-1===R){if(Ll(m))return!1;E=!0;continue}if(""!==M){let V;if(V=R>C?"":v[R+1].toLowerCase(),2&m&&M!==V){if(Ll(m))return!1;E=!0}}}}else{if(!E&&!Ll(m)&&!Ll(w))return!1;if(E&&Ll(w))continue;E=!1,m=w|1&m}}return Ll(m)||E}function Ll(d){return!(1&d)}function dN(d,h,p,m){if(null===h)return-1;let v=0;if(m||!p){let C=!1;for(;v<h.length;){const E=h[v];if(E===d)return v;if(3===E||6===E)C=!0;else{if(1===E||2===E){let y=h[++v];for(;"string"==typeof y;)y=h[++v];continue}if(4===E)break;if(0===E){v+=4;continue}}v+=C?1:2}return-1}return function C3(d,h){let p=d.indexOf(4);if(p>-1)for(p++;p<d.length;){const m=d[p];if("number"==typeof m)return-1;if(m===h)return p;p++}return-1}(h,d)}function ny(d,h,p=!1){for(let m=0;m<h.length;m++)if(v3(d,h[m],p))return!0;return!1}function uN(d,h){e:for(let p=0;p<h.length;p++){const m=h[p];if(d.length===m.length){for(let v=0;v<d.length;v++)if(d[v]!==m[v])continue e;return!0}}return!1}function M1(d,h){return d?":not("+h.trim()+")":h}function b3(d){let h=d[0],p=1,m=2,v="",C=!1;for(;p<d.length;){let E=d[p];if("string"==typeof E)if(2&m){const y=d[++p];v+="["+E+(y.length>0?'="'+y+'"':"")+"]"}else 8&m?v+="."+E:4&m&&(v+=" "+E);else""!==v&&!Ll(E)&&(h+=M1(C,v),v=""),m=E,C=C||!Ll(m);p++}return""!==v&&(h+=M1(C,v)),h}function L(d){return Cd(()=>{const h=bo(d),p={...h,decls:d.decls,vars:d.vars,template:d.template,consts:d.consts||null,ngContentSelectors:d.ngContentSelectors,onPush:d.changeDetection===cl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:h.standalone&&d.dependencies||null,getStandaloneInjector:null,signals:d.signals??!1,data:d.data||{},encapsulation:d.encapsulation||Ba.Emulated,styles:d.styles||ti,_:null,schemas:d.schemas||null,tView:null,id:""};Kr(p);const m=d.dependencies;return p.directiveDefs=tr(m,!1),p.pipeDefs=tr(m,!0),p.id=function ca(d){let h=0;const p=[d.selectors,d.ngContentSelectors,d.hostVars,d.hostAttrs,d.consts,d.vars,d.decls,d.encapsulation,d.standalone,d.signals,d.exportAs,JSON.stringify(d.inputs),JSON.stringify(d.outputs),Object.getOwnPropertyNames(d.type.prototype),!!d.contentQueries,!!d.viewQuery].join("|");for(const v of p)h=Math.imul(31,h)+v.charCodeAt(0)|0;return h+=2147483648,"c"+h}(p),p})}function B(d){return xe(d)||Et(d)}function X(d){return null!==d}function Z(d){return Cd(()=>({type:d.type,bootstrap:d.bootstrap||ti,declarations:d.declarations||ti,imports:d.imports||ti,exports:d.exports||ti,transitiveCompileScopes:null,schemas:d.schemas||null,id:d.id||null}))}function me(d,h){if(null==d)return Tc;const p={};for(const m in d)if(d.hasOwnProperty(m)){const v=d[m];let C,E,y=Mc.None;Array.isArray(v)?(y=v[0],C=v[1],E=v[2]??C):(C=v,E=v),h?(p[C]=y!==Mc.None?[m,y]:m,h[C]=E):p[C]=m}return p}function ht(d){return Cd(()=>{const h=bo(d);return Kr(h),h})}function et(d){return{type:d.type,name:d.name,factory:null,pure:!1!==d.pure,standalone:!0===d.standalone,onDestroy:d.type.prototype.ngOnDestroy||null}}function xe(d){return d[W]||null}function Et(d){return d[m2]||null}function Rt(d){return d[qm]||null}function Hi(d){const h=xe(d)||Et(d)||Rt(d);return null!==h&&h.standalone}function jt(d,h){const p=d[_2]||null;if(!p&&!0===h)throw new Error(`Type ${Xn(d)} does not have '\u0275mod' property.`);return p}function bo(d){const h={};return{type:d.type,providersResolver:null,factory:null,hostBindings:d.hostBindings||null,hostVars:d.hostVars||0,hostAttrs:d.hostAttrs||null,contentQueries:d.contentQueries||null,declaredInputs:h,inputTransforms:null,inputConfig:d.inputs||Tc,exportAs:d.exportAs||null,standalone:!0===d.standalone,signals:!0===d.signals,selectors:d.selectors||ti,viewQuery:d.viewQuery||null,features:d.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:me(d.inputs,h),outputs:me(d.outputs),debugInfo:null}}function Kr(d){d.features?.forEach(h=>h(d))}function tr(d,h){if(!d)return null;const p=h?Rt:B;return()=>("function"==typeof d?d():d).map(m=>p(m)).filter(X)}function wd(d){return{\u0275providers:d}}function hN(...d){return{\u0275providers:pN(0,d),\u0275fromNgModule:!0}}function pN(d,...h){const p=[],m=new Set;let v;const C=E=>{p.push(E)};return gu(h,E=>{const y=E;E3(y,C,[],m)&&(v||=[],v.push(y))}),void 0!==v&&Vj(v,C),p}function Vj(d,h){for(let p=0;p<d.length;p++){const{ngModule:m,providers:v}=d[p];iy(v,C=>{h(C,m)})}}function E3(d,h,p,m){if(!(d=Qt(d)))return!1;let v=null,C=g1(d);const E=!C&&xe(d);if(C||E){if(E&&!E.standalone)return!1;v=d}else{const w=d.ngModule;if(C=g1(w),!C)return!1;v=w}const y=m.has(v);if(E){if(y)return!1;if(m.add(v),E.dependencies){const w="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const M of w)E3(M,h,p,m)}}else{if(!C)return!1;{if(null!=C.imports&&!y){let M;m.add(v);try{gu(C.imports,R=>{E3(R,h,p,m)&&(M||=[],M.push(R))})}finally{}void 0!==M&&Vj(M,h)}if(!y){const M=Lh(v)||(()=>new v);h({provide:v,useFactory:M,deps:ti},v),h({provide:la,useValue:v,multi:!0},v),h({provide:kd,useValue:()=>Ir(v),multi:!0},v)}const w=C.providers;if(null!=w&&!y){const M=d;iy(w,R=>{h(R,M)})}}}return v!==d&&void 0!==d.providers}function iy(d,h){for(let p of d)FE(p)&&(p=p.\u0275providers),Array.isArray(p)?iy(p,h):h(p)}const jj=$n({provide:String,useValue:$n});function fN(d){return null!==d&&"object"==typeof d&&jj in d}function I1(d){return"function"==typeof d}const mN=new ai(""),y3={},Xj={};let k3;function sy(){return void 0===k3&&(k3=new fo),k3}class vu{}class x1 extends vu{get destroyed(){return this._destroyed}constructor(h,p,m,v){super(),this.parent=p,this.source=m,this.scopes=v,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gN(h,E=>this.processProvider(E)),this.records.set(m3,k2(void 0,this)),v.has("environment")&&this.records.set(vu,k2(void 0,this));const C=this.records.get(mN);null!=C&&"string"==typeof C.value&&this.scopes.add(C.value),this.injectorDefTypes=new Set(this.get(la,ti,gn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const h=at(null);try{for(const m of this._ngOnDestroyHooks)m.ngOnDestroy();const p=this._onDestroyHooks;this._onDestroyHooks=[];for(const m of p)m()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),at(h)}}onDestroy(h){return this.assertNotDestroyed(),this._onDestroyHooks.push(h),()=>this.removeOnDestroy(h)}runInContext(h){this.assertNotDestroyed();const p=Oc(this),m=aa(void 0);try{return h()}finally{Oc(p),aa(m)}}get(h,p=Qm,m=gn.Default){if(this.assertNotDestroyed(),h.hasOwnProperty(yd))return h[yd](this);m=Qp(m);const C=Oc(this),E=aa(void 0);try{if(!(m&gn.SkipSelf)){let w=this.records.get(h);if(void 0===w){const M=function Fde(d){return"function"==typeof d||"object"==typeof d&&d instanceof ai}(h)&&_1(h);w=M&&this.injectableDefInScope(M)?k2(_N(h),y3):null,this.records.set(h,w)}if(null!=w)return this.hydrate(h,w)}return(m&gn.Self?sy():this.parent).get(h,p=m&gn.Optional&&p===Qm?null:p)}catch(y){if("NullInjectorError"===y.name){if((y[k1]=y[k1]||[]).unshift(Xn(h)),C)throw y;return function D1(d,h,p,m){const v=d[k1];throw h[xi]&&v.unshift(h[xi]),d.message=function S2(d,h,p,m=null){d=d&&"\n"===d.charAt(0)&&"\u0275"==d.charAt(1)?d.slice(2):d;let v=Xn(h);if(Array.isArray(h))v=h.map(Xn).join(" -> ");else if("object"==typeof h){let C=[];for(let E in h)if(h.hasOwnProperty(E)){let y=h[E];C.push(E+":"+("string"==typeof y?JSON.stringify(y):Xn(y)))}v=`{${C.join(", ")}}`}return`${p}${m?"("+m+")":""}[${v}]: ${d.replace(HE,"\n  ")}`}("\n"+d.message,v,p,m),d.ngTokenPath=v,d[k1]=null,d}(y,h,"R3InjectorError",this.source)}throw y}finally{aa(E),Oc(C)}}resolveInjectorInitializers(){const h=at(null),p=Oc(this),m=aa(void 0);try{const C=this.get(kd,ti,gn.Self);for(const E of C)E()}finally{Oc(p),aa(m),at(h)}}toString(){const h=[],p=this.records;for(const m of p.keys())h.push(Xn(m));return`R3Injector[${h.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new lt(205,!1)}processProvider(h){let p=I1(h=Qt(h))?h:Qt(h&&h.provide);const m=function Yj(d){return fN(d)?k2(void 0,d.useValue):k2(Kj(d),y3)}(h);if(!I1(h)&&!0===h.multi){let v=this.records.get(p);v||(v=k2(void 0,y3,!0),v.factory=()=>Ua(v.multi),this.records.set(p,v)),p=h,v.multi.push(h)}this.records.set(p,m)}hydrate(h,p){const m=at(null);try{return p.value===y3&&(p.value=Xj,p.value=p.factory()),"object"==typeof p.value&&p.value&&function Pde(d){return null!==d&&"object"==typeof d&&"function"==typeof d.ngOnDestroy}(p.value)&&this._ngOnDestroyHooks.add(p.value),p.value}finally{at(m)}}injectableDefInScope(h){if(!h.providedIn)return!1;const p=Qt(h.providedIn);return"string"==typeof p?"any"===p||this.scopes.has(p):this.injectorDefTypes.has(p)}removeOnDestroy(h){const p=this._onDestroyHooks.indexOf(h);-1!==p&&this._onDestroyHooks.splice(p,1)}}function _N(d){const h=_1(d),p=null!==h?h.factory:Lh(d);if(null!==p)return p;if(d instanceof ai)throw new lt(204,!1);if(d instanceof Function)return function Wj(d){if(d.length>0)throw new lt(204,!1);const p=function GE(d){return d&&(d[mu]||d[v1])||null}(d);return null!==p?()=>p.factory(d):()=>new d}(d);throw new lt(204,!1)}function Kj(d,h,p){let m;if(I1(d)){const v=Qt(d);return Lh(v)||_N(v)}if(fN(d))m=()=>Qt(d.useValue);else if(function $j(d){return!(!d||!d.useFactory)}(d))m=()=>d.useFactory(...Ua(d.deps||[]));else if(function Hj(d){return!(!d||!d.useExisting)}(d))m=()=>Ir(Qt(d.useExisting));else{const v=Qt(d&&(d.useClass||d.provide));if(!function Gde(d){return!!d.deps}(d))return Lh(v)||_N(v);m=()=>new v(...Ua(d.deps))}return m}function k2(d,h,p=!1){return{factory:d,value:h,multi:p?[]:void 0}}function gN(d,h){for(const p of d)Array.isArray(p)?gN(p,h):p&&FE(p)?gN(p.\u0275providers,h):h(p)}function vN(d,h){d instanceof x1&&d.assertNotDestroyed();const m=Oc(d),v=aa(void 0);try{return h()}finally{Oc(m),aa(v)}}function Jj(){return void 0!==VE()||null!=function w1(){return _u}()}const Ys=0,Ue=1,Lt=2,Eo=3,Dd=4,da=5,Gl=6,R1=7,Bs=8,Jr=9,Ic=10,nn=11,i_=12,bN=13,D2=14,Qs=15,O2=16,nf=17,Su=18,T2=19,T3=20,sf=21,ay=22,s_=23,xn=25,EN=1,Ph=7,L1=9,Go=10;var cy=function(d){return d[d.None=0]="None",d[d.HasTransplantedViews=2]="HasTransplantedViews",d}(cy||{});function ua(d){return Array.isArray(d)&&"object"==typeof d[EN]}function ha(d){return Array.isArray(d)&&!0===d[EN]}function dy(d){return!!(4&d.flags)}function rf(d){return d.componentOffset>-1}function M2(d){return!(1&~d.flags)}function Cu(d){return!!d.template}function yN(d){return!!(512&d[Lt])}class zde{constructor(h,p,m){this.previousValue=h,this.currentValue=p,this.firstChange=m}isFirstChange(){return this.firstChange}}function iH(d,h,p,m){null!==h?h.applyValueToInputSignal(h,m):d[p]=m}function sn(){return xc}function xc(d){return d.type.prototype.ngOnChanges&&(d.setInput=hi),o_}function o_(){const d=I2(this),h=d?.current;if(h){const p=d.previous;if(p===Tc)d.previous=h;else for(let m in h)p[m]=h[m];d.current=null,this.ngOnChanges(h)}}function hi(d,h,p,m,v){const C=this.declaredInputs[m],E=I2(d)||function We(d,h){return d[sH]=h}(d,{previous:Tc,current:null}),y=E.current||(E.current={}),w=E.previous,M=w[C];y[C]=new zde(M&&M.currentValue,p,w===Tc),iH(d,h,v,p)}sn.ngInherit=!0;const sH="__ngSimpleChanges__";function I2(d){return d[sH]||null}const mo=function(d,h,p){},oH="svg";let aH=!1;function ki(d){for(;Array.isArray(d);)d=d[Ys];return d}function x2(d,h){return ki(h[d])}function Va(d,h){return ki(h[d.index])}function G1(d,h){return d.data[h]}function P1(d,h){return d[h]}function Pl(d,h){const p=h[d];return ua(p)?p:p[Ys]}function hy(d){return!(128&~d[Lt])}function Fh(d,h){return null==h?null:d[h]}function N3(d){d[nf]=0}function dH(d){1024&d[Lt]||(d[Lt]|=1024,hy(d)&&R2(d))}function L3(d){return!!(9216&d[Lt]||d[s_]?.dirty)}function G3(d){d[Ic].changeDetectionScheduler?.notify(1),L3(d)?R2(d):64&d[Lt]&&(function MN(){return aH}()?(d[Lt]|=1024,R2(d)):d[Ic].changeDetectionScheduler?.notify())}function R2(d){d[Ic].changeDetectionScheduler?.notify();let h=r_(d);for(;null!==h&&!(8192&h[Lt])&&(h[Lt]|=8192,hy(h));)h=r_(h)}function py(d,h){if(!(256&~d[Lt]))throw new lt(911,!1);null===d[sf]&&(d[sf]=[]),d[sf].push(h)}function r_(d){const h=d[Eo];return ha(h)?h[Eo]:h}const vn={lFrame:j3(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function AN(){return vn.bindingsEnabled}function F1(){return null!==vn.skipHydrationRootTNode}function pe(){return vn.lFrame.lView}function pi(){return vn.lFrame.tView}function RN(d){return vn.lFrame.contextLView=d,d[Bs]}function NN(d){return vn.lFrame.contextLView=null,d}function rs(){let d=LN();for(;null!==d&&64===d.type;)d=d.parent;return d}function LN(){return vn.lFrame.currentTNode}function bu(d,h){const p=vn.lFrame;p.currentTNode=d,p.isParent=h}function F3(){return vn.lFrame.isParent}function U3(){vn.lFrame.isParent=!1}function za(){const d=vn.lFrame;let h=d.bindingRootIndex;return-1===h&&(h=d.bindingRootIndex=d.tView.bindingStartIndex),h}function Uh(){return vn.lFrame.bindingIndex}function Ac(){return vn.lFrame.bindingIndex++}function Td(d){const h=vn.lFrame,p=h.bindingIndex;return h.bindingIndex=h.bindingIndex+d,p}function Fl(d,h){const p=vn.lFrame;p.bindingIndex=p.bindingRootIndex=d,V3(h)}function V3(d){vn.lFrame.currentDirectiveIndex=d}function L2(d){const h=vn.lFrame.currentDirectiveIndex;return-1===h?null:d[h]}function z3(){return vn.lFrame.currentQueryIndex}function Eu(d){vn.lFrame.currentQueryIndex=d}function PN(d){const h=d[Ue];return 2===h.type?h.declTNode:1===h.type?d[da]:null}function FN(d,h,p){if(p&gn.SkipSelf){let v=h,C=d;for(;!(v=v.parent,null!==v||p&gn.Host||(v=PN(C),null===v||(C=C[D2],10&v.type))););if(null===v)return!1;h=v,d=C}const m=vn.lFrame=BN();return m.currentTNode=h,m.lView=d,!0}function UN(d){const h=BN(),p=d[Ue];vn.lFrame=h,h.currentTNode=p.firstChild,h.lView=d,h.tView=p,h.contextLView=d,h.bindingIndex=p.bindingStartIndex,h.inI18n=!1}function BN(){const d=vn.lFrame,h=null===d?null:d.child;return null===h?j3(d):h}function j3(d){const h={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:d,child:null,inI18n:!1};return null!==d&&(d.child=h),h}function H3(){const d=vn.lFrame;return vn.lFrame=d.parent,d.currentTNode=null,d.lView=null,d}const bH=H3;function G2(){const d=H3();d.isParent=!0,d.tView=null,d.selectedIndex=-1,d.contextLView=null,d.elementDepthCount=0,d.currentDirectiveIndex=-1,d.currentNamespace=null,d.bindingRootIndex=-1,d.bindingIndex=-1,d.currentQueryIndex=0}function Rr(){return vn.lFrame.selectedIndex}function a_(d){vn.lFrame.selectedIndex=d}function Vs(){const d=vn.lFrame;return G1(d.tView,d.selectedIndex)}function X3(){vn.lFrame.currentNamespace=oH}function my(){!function _y(){vn.lFrame.currentNamespace=null}()}let F2=!0;function U1(){return F2}function Rc(d){F2=d}function B1(d,h){for(let p=h.directiveStart,m=h.directiveEnd;p<m;p++){const C=d.data[p].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:y,ngAfterViewInit:w,ngAfterViewChecked:M,ngOnDestroy:R}=C;E&&(d.contentHooks??=[]).push(-p,E),y&&((d.contentHooks??=[]).push(p,y),(d.contentCheckHooks??=[]).push(p,y)),w&&(d.viewHooks??=[]).push(-p,w),M&&((d.viewHooks??=[]).push(p,M),(d.viewCheckHooks??=[]).push(p,M)),null!=R&&(d.destroyHooks??=[]).push(p,R)}}function l_(d,h,p){Y3(d,h,3,p)}function gy(d,h,p,m){(3&d[Lt])===p&&Y3(d,h,p,m)}function W3(d,h){let p=d[Lt];(3&p)===h&&(p&=16383,p+=1,d[Lt]=p)}function Y3(d,h,p,m){const C=m??-1,E=h.length-1;let y=0;for(let w=void 0!==m?65535&d[nf]:0;w<E;w++)if("number"==typeof h[w+1]){if(y=h[w],null!=m&&y>=m)break}else h[w]<0&&(d[nf]+=65536),(y<C||-1==C)&&(c_(d,p,h,w),d[nf]=(4294901760&d[nf])+w+2),w++}function Md(d,h){mo(4,d,h);const p=at(null);try{h.call(d)}finally{at(p),mo(5,d,h)}}function c_(d,h,p,m){const v=p[m]<0,C=p[m+1],y=d[v?-p[m]:p[m]];v?d[Lt]>>14<d[nf]>>16&&(3&d[Lt])===h&&(d[Lt]+=16384,Md(y,C)):Md(y,C)}const yu=-1;class U2{constructor(h,p,m){this.factory=h,this.resolving=!1,this.canSeeViewProviders=p,this.injectImpl=m}}function q3(d){return d!==yu}function qr(d){return 32767&d}function V2(d,h){let p=function Q3(d){return d>>16}(d),m=h;for(;p>0;)m=m[D2],p--;return m}let Sy=!0;function Z3(d){const h=Sy;return Sy=d,h}const kH=255,wH=5;let $de=0;const zh={};function by(d,h){const p=VN(d,h);if(-1!==p)return p;const m=h[Ue];m.firstCreatePass&&(d.injectorIndex=h.length,eT(m.data,d),eT(h,null),eT(m.blueprint,null));const v=d_(d,h),C=d.injectorIndex;if(q3(v)){const E=qr(v),y=V2(v,h),w=y[Ue].data;for(let M=0;M<8;M++)h[C+M]=y[E+M]|w[E+M]}return h[C+8]=v,C}function eT(d,h){d.push(0,0,0,0,0,0,0,0,h)}function VN(d,h){return-1===d.injectorIndex||d.parent&&d.parent.injectorIndex===d.injectorIndex||null===h[d.injectorIndex+8]?-1:d.injectorIndex}function d_(d,h){if(d.parent&&-1!==d.parent.injectorIndex)return d.parent.injectorIndex;let p=0,m=null,v=h;for(;null!==v;){if(m=WN(v),null===m)return yu;if(p++,v=v[D2],-1!==m.injectorIndex)return m.injectorIndex|p<<16}return yu}function V1(d,h,p){!function Cy(d,h,p){let m;"string"==typeof p?m=p.charCodeAt(0)||0:p.hasOwnProperty(Fa)&&(m=p[Fa]),null==m&&(m=p[Fa]=$de++);const v=m&kH;h.data[d+(v>>wH)]|=1<<v}(d,h,p)}function tT(d,h,p){if(p&gn.Optional||void 0!==d)return d;BE()}function jN(d,h,p,m){if(p&gn.Optional&&void 0===m&&(m=null),!(p&(gn.Self|gn.Host))){const v=d[Jr],C=aa(void 0);try{return v?v.get(h,m,p&gn.Optional):zE(h,m,p&gn.Optional)}finally{aa(C)}}return tT(m,0,p)}function Ey(d,h,p,m=gn.Default,v){if(null!==d){if(2048&h[Lt]&&!(m&gn.Self)){const E=function TH(d,h,p,m,v){let C=d,E=h;for(;null!==C&&null!==E&&2048&E[Lt]&&!(512&E[Lt]);){const y=nT(C,E,p,m|gn.Self,zh);if(y!==zh)return y;let w=C.parent;if(!w){const M=E[T3];if(M){const R=M.get(p,zh,m);if(R!==zh)return R}w=WN(E),E=E[D2]}C=w}return v}(d,h,p,m,zh);if(E!==zh)return E}const C=nT(d,h,p,m,zh);if(C!==zh)return C}return jN(h,p,m,v)}function nT(d,h,p,m,v){const C=function OH(d){if("string"==typeof d)return d.charCodeAt(0)||0;const h=d.hasOwnProperty(Fa)?d[Fa]:void 0;return"number"==typeof h?h>=0?h&kH:ky:h}(p);if("function"==typeof C){if(!FN(h,d,m))return m&gn.Host?tT(v,0,m):jN(h,p,m,v);try{let E;if(E=C(m),null!=E||m&gn.Optional)return E;BE()}finally{bH()}}else if("number"==typeof C){let E=null,y=VN(d,h),w=yu,M=m&gn.Host?h[Qs][da]:null;for((-1===y||m&gn.SkipSelf)&&(w=-1===y?d_(d,h):h[y+8],w!==yu&&$N(m,!1)?(E=h[Ue],y=qr(w),h=V2(w,h)):y=-1);-1!==y;){const R=h[Ue];if(HN(C,y,R.data)){const V=DH(y,h,p,E,m,M);if(V!==zh)return V}w=h[y+8],w!==yu&&$N(m,h[Ue].data[y+8]===M)&&HN(C,y,h)?(E=R,y=qr(w),h=V2(w,h)):y=-1}}return v}function DH(d,h,p,m,v,C){const E=h[Ue],y=E.data[d+8],R=yy(y,E,p,null==m?rf(y)&&Sy:m!=E&&!!(3&y.type),v&gn.Host&&C===y);return null!==R?u_(h,E,R,y):zh}function yy(d,h,p,m,v){const C=d.providerIndexes,E=h.data,y=1048575&C,w=d.directiveStart,R=C>>20,J=v?y+R:d.directiveEnd;for(let ee=m?y:y+R;ee<J;ee++){const ae=E[ee];if(ee<w&&p===ae||ee>=w&&ae.type===p)return ee}if(v){const ee=E[w];if(ee&&Cu(ee)&&ee.type===p)return w}return null}function u_(d,h,p,m){let v=d[p];const C=h.data;if(function K3(d){return d instanceof U2}(v)){const E=v;E.resolving&&function h3(d,h){throw h&&h.join(" > "),new lt(-200,d)}(function Li(d){return"function"==typeof d?d.name||d.toString():"object"==typeof d&&null!=d&&"function"==typeof d.type?d.type.name||d.type.toString():Zt(d)}(C[p]));const y=Z3(E.canSeeViewProviders);E.resolving=!0;const M=E.injectImpl?aa(E.injectImpl):null;FN(d,m,gn.Default);try{v=d[p]=E.factory(void 0,C,d,m),h.firstCreatePass&&p>=m.directiveStart&&function Vh(d,h,p){const{ngOnChanges:m,ngOnInit:v,ngDoCheck:C}=h.type.prototype;if(m){const E=xc(h);(p.preOrderHooks??=[]).push(d,E),(p.preOrderCheckHooks??=[]).push(d,E)}v&&(p.preOrderHooks??=[]).push(0-d,v),C&&((p.preOrderHooks??=[]).push(d,C),(p.preOrderCheckHooks??=[]).push(d,C))}(p,C[p],h)}finally{null!==M&&aa(M),Z3(y),E.resolving=!1,bH()}}return v}function HN(d,h,p){return!!(p[h+(d>>wH)]&1<<d)}function $N(d,h){return!(d&gn.Self||d&gn.Host&&h)}class Po{constructor(h,p){this._tNode=h,this._lView=p}get(h,p,m){return Ey(this._tNode,this._lView,h,Qp(m),p)}}function ky(){return new Po(rs(),pe())}function XN(d){return Cd(()=>{const h=d.prototype.constructor,p=h[Pa]||iT(h),m=Object.prototype;let v=Object.getPrototypeOf(d.prototype).constructor;for(;v&&v!==m;){const C=v[Pa]||iT(v);if(C&&C!==p)return C;v=Object.getPrototypeOf(v)}return C=>new C})}function iT(d){return Nh(d)?()=>{const h=iT(Qt(d));return h&&h()}:Lh(d)}function WN(d){const h=d[Ue],p=h.type;return 2===p?h.declTNode:1===p?d[da]:null}function wy(d){return function zN(d,h){if("class"===h)return d.classes;if("style"===h)return d.styles;const p=d.attrs;if(p){const m=p.length;let v=0;for(;v<m;){const C=p[v];if(qE(C))break;if(0===C)v+=2;else if("number"==typeof C)for(v++;v<m&&"string"==typeof p[v];)v++;else{if(C===h)return p[v+1];v+=2}}}return null}(rs(),d)}function JN(d,h=null,p=null,m){const v=qN(d,h,p,m);return v.resolveInjectorInitializers(),v}function qN(d,h=null,p=null,m,v=new Set){const C=[p||ti,hN(d)];return m=m||("object"==typeof d?void 0:Xn(d)),new x1(C,h||sy(),m||null,v)}let Ul=(()=>{class d{static#e=this.THROW_IF_NOT_FOUND=Qm;static#t=this.NULL=new fo;static create(p,m){if(Array.isArray(p))return JN({name:""},m,p,"");{const v=p.name??"";return JN({name:v},p.parent,p.providers,v)}}static#n=this.\u0275prov=fs({token:d,providedIn:"any",factory:()=>Ir(m3)});static#i=this.__NG_ELEMENT_ID__=-1}return d})();function cT(d){return d.ngOriginalError}class ku{constructor(){this._console=console}handleError(h){const p=this._findOriginalError(h);this._console.error("ERROR",h),p&&this._console.error("ORIGINAL ERROR",p)}_findOriginalError(h){let p=h&&cT(h);for(;p&&cT(p);)p=cT(p);return p||null}}const QN=new ai("",{providedIn:"root",factory:()=>pn(ku).handleError.bind(void 0)});let lf=(()=>{class d{static#e=this.__NG_ELEMENT_ID__=NH;static#t=this.__NG_ENV_ID__=p=>p}return d})();class RH extends lf{constructor(h){super(),this._lView=h}onDestroy(h){return py(this._lView,h),()=>function P3(d,h){if(null===d[sf])return;const p=d[sf].indexOf(h);-1!==p&&d[sf].splice(p,1)}(this._lView,h)}}function NH(){return new RH(pe())}function j2(){return cf(rs(),pe())}function cf(d,h){return new H2(Va(d,h))}let H2=(()=>{class d{constructor(p){this.nativeElement=p}static#e=this.__NG_ELEMENT_ID__=j2}return d})();function t8(d){return d instanceof H2?d.nativeElement:d}function uT(d){return h=>{setTimeout(d,void 0,h)}}const Du=class dT extends DE.B{constructor(h=!1){super(),this.destroyRef=void 0,this.__isAsync=h,Jj()&&(this.destroyRef=pn(lf,{optional:!0})??void 0)}emit(h){const p=at(null);try{super.next(h)}finally{at(p)}}subscribe(h,p,m){let v=h,C=p||(()=>null),E=m;if(h&&"object"==typeof h){const w=h;v=w.next?.bind(w),C=w.error?.bind(w),E=w.complete?.bind(w)}this.__isAsync&&(C=uT(C),v&&(v=uT(v)),E&&(E=uT(E)));const y=super.subscribe({next:v,error:C,complete:E});return h instanceof p1.yU&&h.add(y),y}};function Dy(){return this._results[Symbol.iterator]()}class Oy{static#e=Symbol.iterator;get changes(){return this._changes??=new Du}constructor(h=!1){this._emitDistinctChangesOnly=h,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const p=Oy.prototype;p[Symbol.iterator]||(p[Symbol.iterator]=Dy)}get(h){return this._results[h]}map(h){return this._results.map(h)}filter(h){return this._results.filter(h)}find(h){return this._results.find(h)}reduce(h,p){return this._results.reduce(h,p)}forEach(h){this._results.forEach(h)}some(h){return this._results.some(h)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(h,p){this.dirty=!1;const m=function xr(d){return d.flat(Number.POSITIVE_INFINITY)}(h);(this._changesDetected=!function XE(d,h,p){if(d.length!==h.length)return!1;for(let m=0;m<d.length;m++){let v=d[m],C=h[m];if(p&&(v=p(v),C=p(C)),C!==v)return!1}return!0}(this._results,m,p))&&(this._results=m,this.length=m.length,this.last=m[this.length-1],this.first=m[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(h){this._onDirty=h}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function jh(d){return!(128&~d.flags)}const pT=new Map;let i8=0;const My="__ngContext__";function ja(d,h){ua(h)?(d[My]=h[T2],function s8(d){pT.set(d[T2],d)}(h)):d[My]=h}function vT(d){return zH(d[i_])}function d8(d){return zH(d[Dd])}function zH(d){for(;null!==d&&!ha(d);)d=d[Dd];return d}let yT;function kT(d){yT=d}function df(){if(void 0!==yT)return yT;if(typeof document<"u")return document;throw new lt(210,!1)}const Ay=new ai("",{providedIn:"root",factory:()=>p8}),p8="ng",f8=new ai(""),wT=new ai("",{providedIn:"platform",factory:()=>"unknown"}),uf=new ai(""),m8=new ai("",{providedIn:"root",factory:()=>df().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let xT=()=>null;function AT(d,h,p=!1){return xT(d,h,p)}const y8=new ai("",{providedIn:"root",factory:()=>!1});let Z2,Fn;function ff(d){return function eC(){if(void 0===Z2&&(Z2=null,ss.trustedTypes))try{Z2=ss.trustedTypes.createPolicy("angular",{createHTML:d=>d,createScript:d=>d,createScriptURL:d=>d})}catch{}return Z2}()?.createHTML(d)||d}function NT(){if(void 0===Fn&&(Fn=null,ss.trustedTypes))try{Fn=ss.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:d=>d,createScript:d=>d,createScriptURL:d=>d})}catch{}return Fn}function k8(d){return NT()?.createHTML(d)||d}function D8(d){return NT()?.createScriptURL(d)||d}class mf{constructor(h){this.changingThisBreaksApplicationSecurity=h}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${f1})`}}class t$ extends mf{getTypeName(){return"HTML"}}class h_ extends mf{getTypeName(){return"Style"}}class U extends mf{getTypeName(){return"Script"}}class n$ extends mf{getTypeName(){return"URL"}}class i$ extends mf{getTypeName(){return"ResourceURL"}}function Id(d){return d instanceof mf?d.changingThisBreaksApplicationSecurity:d}function p_(d,h){const p=function Hh(d){return d instanceof mf&&d.getTypeName()||null}(d);if(null!=p&&p!==h){if("ResourceURL"===p&&"URL"===h)return!0;throw new Error(`Required a safe ${h}, got a ${p} (see ${f1})`)}return p===h}function s$(d){return new t$(d)}function O8(d){return new h_(d)}function o$(d){return new U(d)}function By(d){return new n$(d)}function r$(d){return new i$(d)}class W1{constructor(h){this.inertDocumentHelper=h}getInertBodyElement(h){h="<body><remove></remove>"+h;try{const p=(new window.DOMParser).parseFromString(ff(h),"text/html").body;return null===p?this.inertDocumentHelper.getInertBodyElement(h):(p.removeChild(p.firstChild),p)}catch{return null}}}class a${constructor(h){this.defaultDoc=h,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(h){const p=this.inertDocument.createElement("template");return p.innerHTML=ff(h),p}}const T8=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Vy(d){return(d=String(d)).match(T8)?d:"unsafe:"+d}function Vl(d){const h={};for(const p of d.split(","))h[p]=!0;return h}function Nr(...d){const h={};for(const p of d)for(const m in p)p.hasOwnProperty(m)&&(h[m]=!0);return h}const l$=Vl("area,br,col,hr,img,wbr"),M8=Vl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),be=Vl("rp,rt"),Y=Nr(l$,Nr(M8,Vl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Nr(be,Vl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Nr(be,M8)),Ye=Vl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),iC=Nr(Ye,Vl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),A8=Vl("script,style,template");class d${constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(h){let p=h.firstChild,m=!0,v=[];for(;p;)if(p.nodeType===Node.ELEMENT_NODE?m=this.startElement(p):p.nodeType===Node.TEXT_NODE?this.chars(p.nodeValue):this.sanitizedSomething=!0,m&&p.firstChild)v.push(p),p=x(p);else for(;p;){p.nodeType===Node.ELEMENT_NODE&&this.endElement(p);let C=Ou(p);if(C){p=C;break}p=v.pop()}return this.buf.join("")}startElement(h){const p=Lc(h).toLowerCase();if(!Y.hasOwnProperty(p))return this.sanitizedSomething=!0,!A8.hasOwnProperty(p);this.buf.push("<"),this.buf.push(p);const m=h.attributes;for(let v=0;v<m.length;v++){const C=m.item(v),E=C.name,y=E.toLowerCase();if(!iC.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let w=C.value;Ye[y]&&(w=Vy(w)),this.buf.push(" ",E,'="',L8(w),'"')}return this.buf.push(">"),!0}endElement(h){const p=Lc(h).toLowerCase();Y.hasOwnProperty(p)&&!l$.hasOwnProperty(p)&&(this.buf.push("</"),this.buf.push(p),this.buf.push(">"))}chars(h){this.buf.push(L8(h))}}function Ou(d){const h=d.nextSibling;if(h&&d!==h.previousSibling)throw R8(h);return h}function x(d){const h=d.firstChild;if(h&&function f_(d,h){return(d.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(d,h))throw R8(h);return h}function Lc(d){const h=d.nodeName;return"string"==typeof h?h:"FORM"}function R8(d){return new Error(`Failed to sanitize html because the element is clobbered: ${d.outerHTML}`)}const N8=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,LT=/([^\#-~ |!])/g;function L8(d){return d.replace(/&/g,"&amp;").replace(N8,function(h){return"&#"+(1024*(h.charCodeAt(0)-55296)+(h.charCodeAt(1)-56320)+65536)+";"}).replace(LT,function(h){return"&#"+h.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sC;function $h(d,h){let p=null;try{sC=sC||function fr(d){const h=new a$(d);return function nC(){try{return!!(new window.DOMParser).parseFromString(ff(""),"text/html")}catch{return!1}}()?new W1(h):h}(d);let m=h?String(h):"";p=sC.getInertBodyElement(m);let v=5,C=m;do{if(0===v)throw new Error("Failed to sanitize html because the input is unstable");v--,m=C,C=p.innerHTML,p=sC.getInertBodyElement(m)}while(m!==C);return ff((new d$).sanitizeChildren(oC(p)||p))}finally{if(p){const m=oC(p)||p;for(;m.firstChild;)m.removeChild(m.firstChild)}}}function oC(d){return"content"in d&&function zs(d){return d.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===d.nodeName}(d)?d.content:null}var En=function(d){return d[d.NONE=0]="NONE",d[d.HTML=1]="HTML",d[d.STYLE=2]="STYLE",d[d.SCRIPT=3]="SCRIPT",d[d.URL=4]="URL",d[d.RESOURCE_URL=5]="RESOURCE_URL",d}(En||{});function Y1(d){const h=K1();return h?k8(h.sanitize(En.HTML,d)||""):p_(d,"HTML")?k8(Id(d)):$h(df(),Zt(d))}function _f(d){const h=K1();return h?h.sanitize(En.URL,d)||"":p_(d,"URL")?Id(d):Vy(Zt(d))}function G8(d){const h=K1();if(h)return D8(h.sanitize(En.RESOURCE_URL,d)||"");if(p_(d,"ResourceURL"))return D8(Id(d));throw new lt(904,!1)}function xd(d){return ff(d[0])}function PT(d,h,p){return function P8(d,h){return"src"===h&&("embed"===d||"frame"===d||"iframe"===d||"media"===d||"script"===d)||"href"===h&&("base"===d||"link"===d)?G8:_f}(h,p)(d)}function K1(){const d=pe();return d&&d[Ic].sanitizer}const F8=/^>|^->|<!--|-->|--!>|<!-$/g,p$=/(<|>)/g,U8="\u200b$1\u200b";function H8(d){return d.ownerDocument.defaultView}function zl(d){return d instanceof Function?d():d}var Xh=function(d){return d[d.Important=1]="Important",d[d.DashCase=2]="DashCase",d}(Xh||{});let HT;function Xy(d,h){return HT(d,h)}function Wh(d,h,p,m,v){if(null!=m){let C,E=!1;ha(m)?C=m:ua(m)&&(E=!0,m=m[Ys]);const y=ki(m);0===d&&null!==p?null==v?cC(h,p,y):fa(h,p,y,v||null,!0):1===d&&null!==p?fa(h,p,y,v||null,!0):2===d?hC(h,y,E):3===d&&h.destroyNode(y),null!=C&&function uue(d,h,p,m,v){const C=p[Ph];C!==ki(p)&&Wh(h,d,m,C,v);for(let y=Go;y<p.length;y++){const w=p[y];pC(w[Ue],w,d,h,m,C)}}(h,d,C,p,v)}}function __(d,h){return d.createText(h)}function Wy(d,h,p){d.setValue(h,p)}function Yy(d,h){return d.createComment(function B8(d){return d.replace(F8,h=>h.replace(p$,U8))}(h))}function aC(d,h,p){return d.createElement(h,p)}function Y8(d,h){h[Ic].changeDetectionScheduler?.notify(1),pC(d,h,h[nn],2,null,null)}function ev(d,h){const p=d[L1],m=p.indexOf(h);p.splice(m,1)}function lC(d,h){if(d.length<=Go)return;const p=Go+h,m=d[p];if(m){const v=m[O2];null!==v&&v!==d&&ev(v,m),h>0&&(d[p-1][Dd]=m[Dd]);const C=ws(d,Go+h);!function g$(d,h){Y8(d,h),h[Ys]=null,h[da]=null}(m[Ue],m);const E=C[Su];null!==E&&E.detachView(C[Ue]),m[Eo]=null,m[Dd]=null,m[Lt]&=-129}return m}function tv(d,h){if(!(256&h[Lt])){const p=h[nn];p.destroyNode&&pC(d,h,p,3,null,null),function v$(d){let h=d[i_];if(!h)return $T(d[Ue],d);for(;h;){let p=null;if(ua(h))p=h[i_];else{const m=h[Go];m&&(p=m)}if(!p){for(;h&&!h[Dd]&&h!==d;)ua(h)&&$T(h[Ue],h),h=h[Eo];null===h&&(h=d),ua(h)&&$T(h[Ue],h),p=h&&h[Dd]}h=p}}(h)}}function $T(d,h){if(256&h[Lt])return;const p=at(null);try{h[Lt]&=-129,h[Lt]|=256,h[s_]&&function vi(d){if(Us(d),Ws(d))for(let h=0;h<d.producerNode.length;h++)tn(d.producerNode[h],d.producerIndexOfThis[h]);d.producerNode.length=d.producerLastReadVersion.length=d.producerIndexOfThis.length=0,d.liveConsumerNode&&(d.liveConsumerNode.length=d.liveConsumerIndexOfThis.length=0)}(h[s_]),function q8(d,h){let p;if(null!=d&&null!=(p=d.destroyHooks))for(let m=0;m<p.length;m+=2){const v=h[p[m]];if(!(v instanceof U2)){const C=p[m+1];if(Array.isArray(C))for(let E=0;E<C.length;E+=2){const y=v[C[E]],w=C[E+1];mo(4,y,w);try{w.call(y)}finally{mo(5,y,w)}}else{mo(4,v,C);try{C.call(v)}finally{mo(5,v,C)}}}}}(d,h),function J8(d,h){const p=d.cleanup,m=h[R1];if(null!==p)for(let C=0;C<p.length-1;C+=2)if("string"==typeof p[C]){const E=p[C+3];E>=0?m[E]():m[-E].unsubscribe(),C+=2}else p[C].call(m[p[C+1]]);null!==m&&(h[R1]=null);const v=h[sf];if(null!==v){h[sf]=null;for(let C=0;C<v.length;C++)(0,v[C])()}}(d,h),1===h[Ue].type&&h[nn].destroy();const m=h[O2];if(null!==m&&ha(h[Eo])){m!==h[Eo]&&ev(m,h);const v=h[Su];null!==v&&v.detachView(d)}!function PH(d){pT.delete(d[T2])}(h)}finally{at(p)}}function g_(d,h,p){return function Si(d,h,p){let m=h;for(;null!==m&&40&m.type;)m=(h=m).parent;if(null===m)return p[Ys];{const{componentOffset:v}=m;if(v>-1){const{encapsulation:C}=d.data[m.directiveStart+v];if(C===Ba.None||C===Ba.Emulated)return null}return Va(m,p)}}(d,h.parent,p)}function fa(d,h,p,m,v){d.insertBefore(h,p,m,v)}function cC(d,h,p){d.appendChild(h,p)}function Ad(d,h,p,m,v){null!==m?fa(d,h,p,m,v):cC(d,h,p)}function Yh(d,h){return d.parentNode(h)}function dC(d,h,p){return Q8(d,h,p)}let YT,Q8=function WT(d,h,p){return 40&d.type?Va(d,p):null};function Jy(d,h,p,m){const v=g_(d,m,h),C=h[nn],y=dC(m.parent||h[da],m,h);if(null!=v)if(Array.isArray(p))for(let w=0;w<p.length;w++)Ad(C,v,p[w],y,!1);else Ad(C,v,p,y,!1);void 0!==YT&&YT(C,m,h,p,v)}function uC(d,h){if(null!==h){const p=h.type;if(3&p)return Va(h,d);if(4&p)return KT(-1,d[h.index]);if(8&p){const m=h.child;if(null!==m)return uC(d,m);{const v=d[h.index];return ha(v)?KT(-1,v):ki(v)}}if(32&p)return Xy(h,d)()||ki(d[h.index]);{const m=eL(d,h);return null!==m?Array.isArray(m)?m[0]:uC(r_(d[Qs]),m):uC(d,h.next)}}return null}function eL(d,h){return null!==h?d[Qs][da].projection[h.projection]:null}function KT(d,h){const p=Go+d+1;if(p<h.length){const m=h[p],v=m[Ue].firstChild;if(null!==v)return uC(m,v)}return h[Ph]}function hC(d,h,p){const m=Yh(d,h);m&&function jl(d,h,p,m){d.removeChild(h,p,m)}(d,m,h,p)}function JT(d,h,p,m,v,C,E){for(;null!=p;){const y=m[p.index],w=p.type;if(E&&0===h&&(y&&ja(ki(y),m),p.flags|=2),32&~p.flags)if(8&w)JT(d,h,p.child,m,v,C,!1),Wh(h,d,v,y,C);else if(32&w){const M=Xy(p,m);let R;for(;R=M();)Wh(h,d,v,R,C);Wh(h,d,v,y,C)}else 16&w?qy(d,h,m,p,v,C):Wh(h,d,v,y,C);p=E?p.projectionNext:p.next}}function pC(d,h,p,m,v,C){JT(p,m,d.firstChild,h,v,C,!1)}function qy(d,h,p,m,v,C){const E=p[Qs],w=E[da].projection[m.projection];if(Array.isArray(w))for(let M=0;M<w.length;M++)Wh(h,d,v,w[M],C);else{let M=w;const R=E[Eo];jh(m)&&(M.flags|=128),JT(d,h,M,R,v,C,!0)}}function QT(d,h,p){""===p?d.removeAttribute(h,"class"):d.setAttribute(h,"class",p)}function Qy(d,h,p){const{mergedAttrs:m,classes:v,styles:C}=p;null!==m&&tf(d,h,m),null!==v&&QT(d,h,v),null!==C&&function fC(d,h,p){d.setAttribute(h,"style",p)}(d,h,C)}const wn={};function Gc(d=1){v_(pi(),pe(),Rr()+d,!1)}function v_(d,h,p,m){if(!m)if(3&~h[Lt]){const C=d.preOrderHooks;null!==C&&gy(h,C,0,p)}else{const C=d.preOrderCheckHooks;null!==C&&l_(h,C,p)}a_(p)}function S_(d,h=gn.Default){const p=pe();return null===p?Ir(d,h):Ey(rs(),p,Qt(d),h)}function ZT(){throw new Error("invalid")}function nL(d,h,p,m,v,C){const E=at(null);try{let y=null;v&Mc.SignalBased&&(y=h[m][t]),null!==y&&void 0!==y.transformFn&&(C=y.transformFn(C)),v&Mc.HasDecoratorInputTransform&&(C=d.inputTransforms[m].call(h,C)),null!==d.setInput?d.setInput(h,y,C,p,m):iH(h,y,m,C)}finally{at(E)}}function iv(d,h,p,m,v,C,E,y,w,M,R){const V=h.blueprint.slice();return V[Ys]=v,V[Lt]=204|m,(null!==M||d&&2048&d[Lt])&&(V[Lt]|=2048),N3(V),V[Eo]=V[D2]=d,V[Bs]=p,V[Ic]=E||d&&d[Ic],V[nn]=y||d&&d[nn],V[Jr]=w||d&&d[Jr]||null,V[da]=C,V[T2]=function GH(){return i8++}(),V[Gl]=R,V[T3]=M,V[Qs]=2==h.type?d[Qs]:V,V}function Cf(d,h,p,m,v){let C=d.data[h];if(null===C)C=function Zy(d,h,p,m,v){const C=LN(),E=F3(),w=d.data[h]=function oL(d,h,p,m,v,C){let E=h?h.injectorIndex:-1,y=0;return F1()&&(y|=128),{type:p,index:m,insertBeforeIndex:null,injectorIndex:E,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:v,attrs:C,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:h,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?C:C&&C.parent,p,h,m,v);return null===d.firstChild&&(d.firstChild=w),null!==C&&(E?null==C.child&&null!==w.parent&&(C.child=w):null===C.next&&(C.next=w,w.prev=C)),w}(d,h,p,m,v),function B3(){return vn.lFrame.inI18n}()&&(C.flags|=32);else if(64&C.type){C.type=p,C.value=m,C.attrs=v;const E=function N2(){const d=vn.lFrame,h=d.currentTNode;return d.isParent?h:h.parent}();C.injectorIndex=null===E?-1:E.injectorIndex}return bu(C,!0),C}function C_(d,h,p,m){if(0===p)return-1;const v=h.length;for(let C=0;C<p;C++)h.push(m),d.blueprint.push(m),d.data.push(null);return v}function eM(d,h,p,m,v){const C=Rr(),E=2&m;try{a_(-1),E&&h.length>xn&&v_(d,h,xn,!1),mo(E?2:0,v),p(m,v)}finally{a_(C),mo(E?3:1,v)}}function mC(d,h,p){if(dy(h)){const m=at(null);try{const C=h.directiveEnd;for(let E=h.directiveStart;E<C;E++){const y=d.data[E];y.contentQueries&&y.contentQueries(1,p[E],E)}}finally{at(m)}}}function _C(d,h,p){AN()&&(function w$(d,h,p,m){const v=p.directiveStart,C=p.directiveEnd;rf(p)&&function sk(d,h,p){const m=Va(h,d),v=tk(p);let E=16;p.signals?E=4096:p.onPush&&(E=64);const y=bf(d,iv(d,v,null,E,m,h,null,d[Ic].rendererFactory.createRenderer(m,p),null,null,null));d[h.index]=y}(h,p,d.data[v+p.componentOffset]),d.firstCreatePass||by(p,h),ja(m,h);const E=p.initialInputs;for(let y=v;y<C;y++){const w=d.data[y],M=u_(h,d,y,p);ja(M,h),null!==E&&ov(0,y-v,M,w,0,E),Cu(w)&&(Pl(p.index,h)[Bs]=u_(h,d,y,p))}}(d,h,p,Va(p,h)),!(64&~p.flags)&&ik(d,h,p))}function ek(d,h,p=Va){const m=h.localNames;if(null!==m){let v=h.index+1;for(let C=0;C<m.length;C+=2){const E=m[C+1],y=-1===E?p(h,d):d[E];d[v++]=y}}}function tk(d){const h=d.tView;return null===h||h.incompleteFirstPass?d.tView=tM(1,null,d.template,d.decls,d.vars,d.directiveDefs,d.pipeDefs,d.viewQuery,d.schemas,d.consts,d.id):h}function tM(d,h,p,m,v,C,E,y,w,M,R){const V=xn+m,J=V+v,ee=function nk(d,h){const p=[];for(let m=0;m<h;m++)p.push(m<d?null:wn);return p}(V,J),ae="function"==typeof M?M():M;return ee[Ue]={type:d,blueprint:ee,template:p,queries:null,viewQuery:y,declTNode:h,data:ee.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:J,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof C?C():C,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:w,consts:ae,incompleteFirstPass:!1,ssrId:R}}let sv=()=>null;function nM(d,h,p,m,v){for(let C in h){if(!h.hasOwnProperty(C))continue;const E=h[C];if(void 0===E)continue;m??={};let y,w=Mc.None;Array.isArray(E)?(y=E[0],w=E[1]):y=E;let M=C;if(null!==v){if(!v.hasOwnProperty(C))continue;M=v[C]}0===d?rL(m,p,M,y,w):rL(m,p,M,y)}return m}function rL(d,h,p,m,v){let C;d.hasOwnProperty(p)?(C=d[p]).push(h,m):C=d[p]=[h,m],void 0!==v&&C.push(v)}function dl(d,h,p,m,v,C,E,y){const w=Va(h,p);let R,M=h.inputs;!y&&null!=M&&(R=M[m])?(sM(d,p,R,m,v),rf(h)&&function hue(d,h){const p=Pl(h,d);16&p[Lt]||(p[Lt]|=64)}(p,h.index)):3&h.type&&(m=function lL(d){return"class"===d?"className":"for"===d?"htmlFor":"formaction"===d?"formAction":"innerHtml"===d?"innerHTML":"readonly"===d?"readOnly":"tabindex"===d?"tabIndex":d}(m),v=null!=E?E(v,h.value||"",m):v,C.setProperty(w,m,v))}function cL(d,h,p,m){if(AN()){const v=null===m?null:{"":-1},C=function D$(d,h){const p=d.directiveRegistry;let m=null,v=null;if(p)for(let C=0;C<p.length;C++){const E=p[C];if(ny(h,E.selectors,!1))if(m||(m=[]),Cu(E))if(null!==E.findHostDirectiveDefs){const y=[];v=v||new Map,E.findHostDirectiveDefs(E,y,v),m.unshift(...y,E),b_(d,h,y.length)}else m.unshift(E),b_(d,h,0);else v=v||new Map,E.findHostDirectiveDefs?.(E,m,v),m.push(E)}return null===m?null:[m,v]}(d,p);let E,y;null===C?E=y=null:[E,y]=C,null!==E&&dL(d,h,p,E,v,y),v&&function mue(d,h,p){if(h){const m=d.localNames=[];for(let v=0;v<h.length;v+=2){const C=p[h[v+1]];if(null==C)throw new lt(-301,!1);m.push(h[v],C)}}}(p,m,v)}p.mergedAttrs=ms(p.mergedAttrs,p.attrs)}function dL(d,h,p,m,v,C){for(let M=0;M<m.length;M++)V1(by(p,h),d,m[M].type);!function T$(d,h,p){d.flags|=1,d.directiveStart=h,d.directiveEnd=h+p,d.providerIndexes=h}(p,d.data.length,m.length);for(let M=0;M<m.length;M++){const R=m[M];R.providersResolver&&R.providersResolver(R)}let E=!1,y=!1,w=C_(d,h,m.length,null);for(let M=0;M<m.length;M++){const R=m[M];p.mergedAttrs=ms(p.mergedAttrs,R.hostAttrs),uL(d,p,h,w,R),O$(w,R,v),null!==R.contentQueries&&(p.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(p.flags|=64);const V=R.type.prototype;!E&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((d.preOrderHooks??=[]).push(p.index),E=!0),!y&&(V.ngOnChanges||V.ngDoCheck)&&((d.preOrderCheckHooks??=[]).push(p.index),y=!0),w++}!function aL(d,h,p){const v=h.directiveEnd,C=d.data,E=h.attrs,y=[];let w=null,M=null;for(let R=h.directiveStart;R<v;R++){const V=C[R],J=p?p.get(V):null,ae=J?J.outputs:null;w=nM(0,V.inputs,R,w,J?J.inputs:null),M=nM(1,V.outputs,R,M,ae);const fe=null===w||null===E||ty(h)?null:gC(w,R,E);y.push(fe)}null!==w&&(w.hasOwnProperty("class")&&(h.flags|=8),w.hasOwnProperty("style")&&(h.flags|=16)),h.initialInputs=y,h.inputs=w,h.outputs=M}(d,p,C)}function ik(d,h,p){const m=p.directiveStart,v=p.directiveEnd,C=p.index,E=function GN(){return vn.lFrame.currentDirectiveIndex}();try{a_(C);for(let y=m;y<v;y++){const w=d.data[y],M=h[y];V3(y),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&Tu(w,M)}}finally{a_(-1),V3(E)}}function Tu(d,h){null!==d.hostBindings&&d.hostBindings(1,h)}function b_(d,h,p){h.componentOffset=p,(d.components??=[]).push(h.index)}function O$(d,h,p){if(p){if(h.exportAs)for(let m=0;m<h.exportAs.length;m++)p[h.exportAs[m]]=d;Cu(h)&&(p[""]=d)}}function uL(d,h,p,m,v){d.data[m]=v;const C=v.factory||(v.factory=Lh(v.type)),E=new U2(C,Cu(v),S_);d.blueprint[m]=E,p[m]=E,function fue(d,h,p,m,v){const C=v.hostBindings;if(C){let E=d.hostBindingOpCodes;null===E&&(E=d.hostBindingOpCodes=[]);const y=~h.index;(function k$(d){let h=d.length;for(;h>0;){const p=d[--h];if("number"==typeof p&&p<0)return p}return 0})(E)!=y&&E.push(y),E.push(p,m,C)}}(d,h,m,C_(d,p,v.hostVars,wn),v)}function iM(d,h,p,m,v,C,E){if(null==C)d.removeAttribute(h,v,p);else{const y=null==E?Zt(C):E(C,m||"",v);d.setAttribute(h,v,y,p)}}function ov(d,h,p,m,v,C){const E=C[h];if(null!==E)for(let y=0;y<E.length;)nL(m,p,E[y++],E[y++],E[y++],E[y++])}function gC(d,h,p){let m=null,v=0;for(;v<p.length;){const C=p[v];if(0!==C)if(5!==C){if("number"==typeof C)break;if(d.hasOwnProperty(C)){null===m&&(m=[]);const E=d[C];for(let y=0;y<E.length;y+=3)if(E[y]===h){m.push(C,E[y+1],E[y+2],p[v+1]);break}}v+=2}else v+=2;else v+=4}return m}function hL(d,h,p,m){return[d,!0,0,h,null,m,null,p,null,null]}function pL(d,h){const p=d.contentQueries;if(null!==p){const m=at(null);try{for(let v=0;v<p.length;v+=2){const E=p[v+1];if(-1!==E){const y=d.data[E];Eu(p[v]),y.contentQueries(2,h[E],E)}}}finally{at(m)}}}function bf(d,h){return d[i_]?d[bN][Dd]=h:d[i_]=h,d[bN]=h,h}function E_(d,h,p){Eu(0);const m=at(null);try{h(d,p)}finally{at(m)}}function fL(d){return d[R1]||(d[R1]=[])}function mL(d){return d.cleanup||(d.cleanup=[])}function _L(d,h,p){return(null===d||Cu(d))&&(p=function A3(d){for(;Array.isArray(d);){if("object"==typeof d[EN])return d;d=d[Ys]}return null}(p[h.index])),p[nn]}function ok(d,h){const p=d[Jr],m=p?p.get(ku,null):null;m&&m.handleError(h)}function sM(d,h,p,m,v){for(let C=0;C<p.length;){const E=p[C++],y=p[C++],w=p[C++];nL(d.data[E],h[E],m,y,w,v)}}function Iu(d,h,p){const m=x2(h,d);Wy(d[nn],m,p)}function rk(d,h){const p=Pl(h,d),m=p[Ue];!function rv(d,h){for(let p=h.length;p<d.blueprint.length;p++)h.push(d.blueprint[p])}(m,p);const v=p[Ys];null!==v&&null===p[Gl]&&(p[Gl]=AT(v,p[Jr])),oM(m,p,p[Bs])}function oM(d,h,p){UN(h);try{const m=d.viewQuery;null!==m&&E_(1,m,p);const v=d.template;null!==v&&eM(d,h,v,1,p),d.firstCreatePass&&(d.firstCreatePass=!1),h[Su]?.finishViewCreation(d),d.staticContentQueries&&pL(d,h),d.staticViewQueries&&E_(2,d.viewQuery,p);const C=d.components;null!==C&&function M$(d,h){for(let p=0;p<h.length;p++)rk(d,h[p])}(h,C)}catch(m){throw d.firstCreatePass&&(d.incompleteFirstPass=!0,d.firstCreatePass=!1),m}finally{h[Lt]&=-5,G2()}}function vC(d,h,p,m){const v=at(null);try{const C=h.tView,w=iv(d,C,p,4096&d[Lt]?4096:16,null,h,null,null,m?.injector??null,m?.embeddedViewInjector??null,m?.dehydratedView??null);w[O2]=d[h.index];const R=d[Su];return null!==R&&(w[Su]=R.createEmbeddedView(C)),oM(C,w,p),w}finally{at(v)}}function av(d,h){return!h||null===h.firstChild||jh(d)}function SC(d,h,p,m=!0){const v=h[Ue];if(function S$(d,h,p,m){const v=Go+m,C=p.length;m>0&&(p[v-1][Dd]=h),m<C-Go?(h[Dd]=p[v],WE(p,Go+m,h)):(p.push(h),h[Dd]=null),h[Eo]=p;const E=h[O2];null!==E&&p!==E&&function K8(d,h){const p=d[L1];h[Qs]!==h[Eo][Eo][Qs]&&(d[Lt]|=cy.HasTransplantedViews),null===p?d[L1]=[h]:p.push(h)}(E,h);const y=h[Su];null!==y&&y.insertView(d),G3(h),h[Lt]|=128}(v,h,d,p),m){const E=KT(p,d),y=h[nn],w=Yh(y,d[Ph]);null!==w&&function Ky(d,h,p,m,v,C){m[Ys]=v,m[da]=h,pC(d,m,p,1,v,C)}(v,d[da],y,h,w,E)}const C=h[Gl];null!==C&&null!==C.firstChild&&(C.firstChild=null)}function CC(d,h,p,m,v=!1){for(;null!==p;){const C=h[p.index];null!==C&&m.push(ki(C)),ha(C)&&vL(C,m);const E=p.type;if(8&E)CC(d,h,p.child,m);else if(32&E){const y=Xy(p,h);let w;for(;w=y();)m.push(w)}else if(16&E){const y=eL(h,p);if(Array.isArray(y))m.push(...y);else{const w=r_(h[Qs]);CC(w[Ue],w,y,m,!0)}}p=v?p.projectionNext:p.next}return m}function vL(d,h){for(let p=Go;p<d.length;p++){const m=d[p],v=m[Ue].firstChild;null!==v&&CC(m[Ue],m,v,h)}d[Ph]!==d[Ys]&&h.push(d[Ph])}let aM=[];const lv={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:d=>{R2(d.lView)},consumerOnSignalRead(){this.lView[s_]=this}},x$=100;function ak(d,h=!0,p=0){const m=d[Ic],v=m.rendererFactory;v.begin?.();try{!function A$(d,h){uM(d,h);let p=0;for(;L3(d);){if(p===x$)throw new lt(103,!1);p++,uM(d,1)}}(d,p)}catch(E){throw h&&ok(d,E),E}finally{v.end?.(),m.inlineEffectRunner?.flush()}}function dM(d,h,p,m){const v=h[Lt];if(!(256&~v))return;h[Ic].inlineEffectRunner?.flush(),UN(h);let E=null,y=null;(function R$(d){return 2!==d.type})(d)&&(y=function I$(d){return d[s_]??function lM(d){const h=aM.pop()??Object.create(lv);return h.lView=d,h}(d)}(h),E=function Mn(d){return d&&(d.nextProducerIndex=0),at(d)}(y));try{N3(h),function Bh(d){return vn.lFrame.bindingIndex=d}(d.bindingStartIndex),null!==p&&eM(d,h,p,2,m);const w=!(3&~v);if(w){const V=d.preOrderCheckHooks;null!==V&&l_(h,V,null)}else{const V=d.preOrderHooks;null!==V&&gy(h,V,0,null),W3(h,0)}if(function N$(d){for(let h=vT(d);null!==h;h=d8(h)){if(!(h[Lt]&cy.HasTransplantedViews))continue;const p=h[L1];for(let m=0;m<p.length;m++){dH(p[m])}}}(h),lk(h,0),null!==d.contentQueries&&pL(d,h),w){const V=d.contentCheckHooks;null!==V&&l_(h,V)}else{const V=d.contentHooks;null!==V&&gy(h,V,1),W3(h,1)}!function Ha(d,h){const p=d.hostBindingOpCodes;if(null!==p)try{for(let m=0;m<p.length;m++){const v=p[m];if(v<0)a_(~v);else{const C=v,E=p[++m],y=p[++m];Fl(E,C),y(2,h[C])}}}finally{a_(-1)}}(d,h);const M=d.components;null!==M&&bL(h,M,0);const R=d.viewQuery;if(null!==R&&E_(2,R,m),w){const V=d.viewCheckHooks;null!==V&&l_(h,V)}else{const V=d.viewHooks;null!==V&&gy(h,V,2),W3(h,2)}if(!0===d.firstUpdatePass&&(d.firstUpdatePass=!1),h[ay]){for(const V of h[ay])V();h[ay]=null}h[Lt]&=-73}catch(w){throw R2(h),w}finally{null!==y&&(function Ei(d,h){if(at(h),d&&void 0!==d.producerNode&&void 0!==d.producerIndexOfThis&&void 0!==d.producerLastReadVersion){if(Ws(d))for(let p=d.nextProducerIndex;p<d.producerNode.length;p++)tn(d.producerNode[p],d.producerIndexOfThis[p]);for(;d.producerNode.length>d.nextProducerIndex;)d.producerNode.pop(),d.producerLastReadVersion.pop(),d.producerIndexOfThis.pop()}}(y,E),function cM(d){d.lView[s_]!==d&&(d.lView=null,aM.push(d))}(y)),G2()}}function lk(d,h){for(let p=vT(d);null!==p;p=d8(p))for(let m=Go;m<p.length;m++)CL(p[m],h)}function SL(d,h,p){CL(Pl(h,d),p)}function CL(d,h){hy(d)&&uM(d,h)}function uM(d,h){const m=d[Ue],v=d[Lt],C=d[s_];let E=!!(0===h&&16&v);if(E||=!!(64&v&&0===h),E||=!!(1024&v),E||=!(!C?.dirty||!ys(C)),C&&(C.dirty=!1),d[Lt]&=-9217,E)dM(m,d,m.template,d[Bs]);else if(8192&v){lk(d,1);const y=m.components;null!==y&&bL(d,y,1)}}function bL(d,h,p){for(let m=0;m<h.length;m++)SL(d,h[m],p)}function bC(d){for(d[Ic].changeDetectionScheduler?.notify();d;){d[Lt]|=64;const h=r_(d);if(yN(d)&&!h)return d;d=h}return null}class Ef{get rootNodes(){const h=this._lView,p=h[Ue];return CC(p,h,p.firstChild,[])}constructor(h,p,m=!0){this._lView=h,this._cdRefInjectingView=p,this.notifyErrorHandler=m,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Bs]}set context(h){this._lView[Bs]=h}get destroyed(){return!(256&~this._lView[Lt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const h=this._lView[Eo];if(ha(h)){const p=h[8],m=p?p.indexOf(this):-1;m>-1&&(lC(h,m),ws(p,m))}this._attachedToViewContainer=!1}tv(this._lView[Ue],this._lView)}onDestroy(h){py(this._lView,h)}markForCheck(){bC(this._cdRefInjectingView||this._lView)}detach(){this._lView[Lt]&=-129}reattach(){G3(this._lView),this._lView[Lt]|=128}detectChanges(){this._lView[Lt]|=1024,ak(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new lt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Y8(this._lView[Ue],this._lView)}attachToAppRef(h){if(this._attachedToViewContainer)throw new lt(902,!1);this._appRef=h,G3(this._lView)}}let EC=(()=>{class d{static#e=this.__NG_ELEMENT_ID__=P$}return d})();const L$=EC,G$=class extends L${constructor(h,p,m){super(),this._declarationLView=h,this._declarationTContainer=p,this.elementRef=m}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(h,p){return this.createEmbeddedViewImpl(h,p)}createEmbeddedViewImpl(h,p,m){const v=vC(this._declarationLView,this._declarationTContainer,h,{embeddedViewInjector:p,dehydratedView:m});return new Ef(v)}};function P$(){return ck(rs(),pe())}function ck(d,h){return 4&d.type?new G$(h,d,cf(d,h)):null}let mk=()=>null;function DC(d,h){return mk(d,h)}class vM{}class eX{}class _k{}class Au{resolveComponentFactory(h){throw function TL(d){const h=Error(`No component factory found for ${Xn(d)}.`);return h.ngComponent=d,h}(h)}}let OC=(()=>{class d{static#e=this.NULL=new Au}return d})();class iX{}let Eue=(()=>{class d{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function yue(){const d=pe(),p=Pl(rs().index,d);return(ua(p)?p:d)[nn]}()}return d})(),ML=(()=>{class d{static#e=this.\u0275prov=fs({token:d,providedIn:"root",factory:()=>null})}return d})();const gk={},xL=new Set;function Ru(d){xL.has(d)||(xL.add(d),performance?.mark?.("mark_feature_usage",{detail:{feature:d}}))}function sX(...d){}class ir{constructor({enableLongStackTrace:h=!1,shouldCoalesceEventChangeDetection:p=!1,shouldCoalesceRunChangeDetection:m=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Du(!1),this.onMicrotaskEmpty=new Du(!1),this.onStable=new Du(!1),this.onError=new Du(!1),typeof Zone>"u")throw new lt(908,!1);Zone.assertZonePatched();const v=this;v._nesting=0,v._outer=v._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(v._inner=v._inner.fork(new Zone.TaskTrackingZoneSpec)),h&&Zone.longStackTraceZoneSpec&&(v._inner=v._inner.fork(Zone.longStackTraceZoneSpec)),v.shouldCoalesceEventChangeDetection=!m&&p,v.shouldCoalesceRunChangeDetection=m,v.lastRequestAnimationFrameId=-1,v.nativeRequestAnimationFrame=function AL(){const d="function"==typeof ss.requestAnimationFrame;let h=ss[d?"requestAnimationFrame":"setTimeout"],p=ss[d?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&h&&p){const m=h[Zone.__symbol__("OriginalDelegate")];m&&(h=m);const v=p[Zone.__symbol__("OriginalDelegate")];v&&(p=v)}return{nativeRequestAnimationFrame:h,nativeCancelAnimationFrame:p}}().nativeRequestAnimationFrame,function rX(d){const h=()=>{!function oX(d){d.isCheckStableRunning||-1!==d.lastRequestAnimationFrameId||(d.lastRequestAnimationFrameId=d.nativeRequestAnimationFrame.call(ss,()=>{d.fakeTopEventTask||(d.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{d.lastRequestAnimationFrameId=-1,NL(d),d.isCheckStableRunning=!0,RL(d),d.isCheckStableRunning=!1},void 0,()=>{},()=>{})),d.fakeTopEventTask.invoke()}),NL(d))}(d)};d._inner=d._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(p,m,v,C,E,y)=>{if(function aX(d){return!(!Array.isArray(d)||1!==d.length)&&!0===d[0].data?.__ignore_ng_zone__}(y))return p.invokeTask(v,C,E,y);try{return SM(d),p.invokeTask(v,C,E,y)}finally{(d.shouldCoalesceEventChangeDetection&&"eventTask"===C.type||d.shouldCoalesceRunChangeDetection)&&h(),LL(d)}},onInvoke:(p,m,v,C,E,y,w)=>{try{return SM(d),p.invoke(v,C,E,y,w)}finally{d.shouldCoalesceRunChangeDetection&&h(),LL(d)}},onHasTask:(p,m,v,C)=>{p.hasTask(v,C),m===v&&("microTask"==C.change?(d._hasPendingMicrotasks=C.microTask,NL(d),RL(d)):"macroTask"==C.change&&(d.hasPendingMacrotasks=C.macroTask))},onHandleError:(p,m,v,C)=>(p.handleError(v,C),d.runOutsideAngular(()=>d.onError.emit(C)),!1)})}(v)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ir.isInAngularZone())throw new lt(909,!1)}static assertNotInAngularZone(){if(ir.isInAngularZone())throw new lt(909,!1)}run(h,p,m){return this._inner.run(h,p,m)}runTask(h,p,m,v){const C=this._inner,E=C.scheduleEventTask("NgZoneEvent: "+v,h,wue,sX,sX);try{return C.runTask(E,p,m)}finally{C.cancelTask(E)}}runGuarded(h,p,m){return this._inner.runGuarded(h,p,m)}runOutsideAngular(h){return this._outer.run(h)}}const wue={};function RL(d){if(0==d._nesting&&!d.hasPendingMicrotasks&&!d.isStable)try{d._nesting++,d.onMicrotaskEmpty.emit(null)}finally{if(d._nesting--,!d.hasPendingMicrotasks)try{d.runOutsideAngular(()=>d.onStable.emit(null))}finally{d.isStable=!0}}}function NL(d){d.hasPendingMicrotasks=!!(d._hasPendingMicrotasks||(d.shouldCoalesceEventChangeDetection||d.shouldCoalesceRunChangeDetection)&&-1!==d.lastRequestAnimationFrameId)}function SM(d){d._nesting++,d.isStable&&(d.isStable=!1,d.onUnstable.emit(null))}function LL(d){d._nesting--,RL(d)}class CM{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Du,this.onMicrotaskEmpty=new Du,this.onStable=new Du,this.onError=new Du}run(h,p,m){return h.apply(p,m)}runGuarded(h,p,m){return h.apply(p,m)}runOutsideAngular(h){return h()}runTask(h,p,m,v){return h.apply(p,m)}}var w_=function(d){return d[d.EarlyRead=0]="EarlyRead",d[d.Write=1]="Write",d[d.MixedReadWrite=2]="MixedReadWrite",d[d.Read=3]="Read",d}(w_||{});const GL={destroy(){}};function FL(d,h){!h&&function w3(d){if(!Jj())throw new lt(-203,!1)}();const p=h?.injector??pn(Ul);if(!function Sf(d){return"browser"===(d??pn(Ul)).get(wT)}(p))return GL;Ru("NgAfterNextRender");const m=p.get(vk),v=m.handler??=new dX,C=h?.phase??w_.MixedReadWrite,E=()=>{v.unregister(w),y()},y=p.get(lf).onDestroy(E),w=vN(p,()=>new cX(C,()=>{E(),d()}));return v.register(w),{destroy:E}}class cX{constructor(h,p){this.phase=h,this.callbackFn=p,this.zone=pn(ir),this.errorHandler=pn(ku,{optional:!0}),pn(vM,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(h){this.errorHandler?.handleError(h)}}}class dX{constructor(){this.executingCallbacks=!1,this.buckets={[w_.EarlyRead]:new Set,[w_.Write]:new Set,[w_.MixedReadWrite]:new Set,[w_.Read]:new Set},this.deferredCallbacks=new Set}register(h){(this.executingCallbacks?this.deferredCallbacks:this.buckets[h.phase]).add(h)}unregister(h){this.buckets[h.phase].delete(h),this.deferredCallbacks.delete(h)}execute(){this.executingCallbacks=!0;for(const h of Object.values(this.buckets))for(const p of h)p.invoke();this.executingCallbacks=!1;for(const h of this.deferredCallbacks)this.buckets[h.phase].add(h);this.deferredCallbacks.clear()}destroy(){for(const h of Object.values(this.buckets))h.clear();this.deferredCallbacks.clear()}}let vk=(()=>{class d{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const p=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const m of p)m()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=fs({token:d,providedIn:"root",factory:()=>new d})}return d})();function D_(d){return!!jt(d)}function cv(d,h,p){let m=p?d.styles:null,v=p?d.classes:null,C=0;if(null!==h)for(let E=0;E<h.length;E++){const y=h[E];"number"==typeof y?C=y:1==C?v=d2(v,y):2==C&&(m=d2(m,y+": "+h[++E]+";"))}p?d.styles=m:d.stylesWithoutHost=m,p?d.classes=v:d.classesWithoutHost=v}class kM extends OC{constructor(h){super(),this.ngModule=h}resolveComponentFactory(h){const p=xe(h);return new dv(p,this.ngModule)}}function TC(d){const h=[];for(const p in d){if(!d.hasOwnProperty(p))continue;const m=d[p];void 0!==m&&h.push({propName:Array.isArray(m)?m[0]:m,templateName:p})}return h}class hX{constructor(h,p){this.injector=h,this.parentInjector=p}get(h,p,m){m=Qp(m);const v=this.injector.get(h,gk,m);return v!==gk||p===gk?v:this.parentInjector.get(h,p,m)}}class dv extends _k{get inputs(){const h=this.componentDef,p=h.inputTransforms,m=TC(h.inputs);if(null!==p)for(const v of m)p.hasOwnProperty(v.propName)&&(v.transform=p[v.propName]);return m}get outputs(){return TC(this.componentDef.outputs)}constructor(h,p){super(),this.componentDef=h,this.ngModule=p,this.componentType=h.type,this.selector=function T(d){return d.map(b3).join(",")}(h.selectors),this.ngContentSelectors=h.ngContentSelectors?h.ngContentSelectors:[],this.isBoundToModule=!!p}create(h,p,m,v){const C=at(null);try{let E=(v=v||this.ngModule)instanceof vu?v:v?.injector;E&&null!==this.componentDef.getStandaloneInjector&&(E=this.componentDef.getStandaloneInjector(E)||E);const y=E?new hX(h,E):h,w=y.get(iX,null);if(null===w)throw new lt(407,!1);const M=y.get(ML,null),J={rendererFactory:w,sanitizer:M,inlineEffectRunner:null,afterRenderEventManager:y.get(vk,null),changeDetectionScheduler:y.get(vM,null)},ee=w.createRenderer(null,this.componentDef),ae=this.componentDef.selectors[0][0]||"div",fe=m?function iL(d,h,p,m){const C=m.get(y8,!1)||p===Ba.ShadowDom,E=d.selectRootElement(h,C);return function b$(d){sv(d)}(E),E}(ee,m,this.componentDef.encapsulation,y):aC(ee,ae,function Oue(d){const h=d.toLowerCase();return"svg"===h?oH:"math"===h?"math":null}(ae));let Ae=512;this.componentDef.signals?Ae|=4096:this.componentDef.onPush||(Ae|=16);let He=null;null!==fe&&(He=AT(fe,y,!0));const Ee=tM(0,null,null,1,0,null,null,null,null,null,null),on=iv(null,Ee,null,Ae,null,null,J,ee,y,null,He);let Ai,Ds;UN(on);try{const Br=this.componentDef;let Xl,ZC=null;Br.findHostDirectiveDefs?(Xl=[],ZC=new Map,Br.findHostDirectiveDefs(Br,Xl,ZC),Xl.push(Br)):Xl=[Br];const IJ=function wf(d,h){const p=d[Ue],m=xn;return d[m]=h,Cf(p,m,2,"#host",null)}(on,fe),d_e=function Nu(d,h,p,m,v,C,E){const y=v[Ue];!function Sk(d,h,p,m){for(const v of d)h.mergedAttrs=ms(h.mergedAttrs,v.hostAttrs);null!==h.mergedAttrs&&(cv(h,h.mergedAttrs,!0),null!==p&&Qy(m,p,h))}(m,d,h,E);let w=null;null!==h&&(w=AT(h,v[Jr]));const M=C.rendererFactory.createRenderer(h,p);let R=16;p.signals?R=4096:p.onPush&&(R=64);const V=iv(v,tk(p),null,R,v[d.index],d,C,M,null,null,w);return y.firstCreatePass&&b_(y,d,m.length-1),bf(v,V),v[d.index]=V}(IJ,fe,Br,Xl,on,J,ee);Ds=G1(Ee,xn),fe&&function pX(d,h,p,m){if(m)tf(d,p,["ng-version","17.3.1"]);else{const{attrs:v,classes:C}=function A(d){const h=[],p=[];let m=1,v=2;for(;m<d.length;){let C=d[m];if("string"==typeof C)2===v?""!==C&&h.push(C,d[++m]):8===v&&p.push(C);else{if(!Ll(v))break;v=C}m++}return{attrs:h,classes:p}}(h.selectors[0]);v&&tf(d,p,v),C&&C.length>0&&QT(d,p,C.join(" "))}}(ee,Br,fe,m),void 0!==p&&function fX(d,h,p){const m=d.projection=[];for(let v=0;v<h.length;v++){const C=p[v];m.push(null!=C?Array.from(C):null)}}(Ds,this.ngContentSelectors,p),Ai=function Fc(d,h,p,m,v,C){const E=rs(),y=v[Ue],w=Va(E,v);dL(y,v,E,p,null,m);for(let R=0;R<p.length;R++)ja(u_(v,y,E.directiveStart+R,E),v);ik(y,v,E),w&&ja(w,v);const M=u_(v,y,E.directiveStart+E.componentOffset,E);if(d[Bs]=v[Bs]=M,null!==C)for(const R of C)R(M,h);return mC(y,E,v),M}(d_e,Br,Xl,ZC,on,[mX]),oM(Ee,on,null)}finally{G2()}return new O_(this.componentType,Ai,cf(Ds,on),on,Ds)}finally{at(C)}}}class O_ extends eX{constructor(h,p,m,v,C){super(),this.location=m,this._rootLView=v,this._tNode=C,this.previousInputValues=null,this.instance=p,this.hostView=this.changeDetectorRef=new Ef(v,void 0,!1),this.componentType=h}setInput(h,p){const m=this._tNode.inputs;let v;if(null!==m&&(v=m[h])){if(this.previousInputValues??=new Map,this.previousInputValues.has(h)&&Object.is(this.previousInputValues.get(h),p))return;const C=this._rootLView;sM(C[Ue],C,v,h,p),this.previousInputValues.set(h,p),bC(Pl(this._tNode.index,C))}}get injector(){return new Po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(h){this.hostView.onDestroy(h)}}function mX(){const d=rs();B1(pe()[Ue],d)}let Ck=(()=>{class d{static#e=this.__NG_ELEMENT_ID__=_X}return d})();function _X(){return jL(rs(),pe())}const VL=Ck,zL=class extends VL{constructor(h,p,m){super(),this._lContainer=h,this._hostTNode=p,this._hostLView=m}get element(){return cf(this._hostTNode,this._hostLView)}get injector(){return new Po(this._hostTNode,this._hostLView)}get parentInjector(){const h=d_(this._hostTNode,this._hostLView);if(q3(h)){const p=V2(h,this._hostLView),m=qr(h);return new Po(p[Ue].data[m+8],p)}return new Po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(h){const p=gX(this._lContainer);return null!==p&&p[h]||null}get length(){return this._lContainer.length-Go}createEmbeddedView(h,p,m){let v,C;"number"==typeof m?v=m:null!=m&&(v=m.index,C=m.injector);const E=DC(this._lContainer,h.ssrId),y=h.createEmbeddedViewImpl(p||{},C,E);return this.insertImpl(y,v,av(this._hostTNode,E)),y}createComponent(h,p,m,v,C){const E=h&&!function Gh(d){return"function"==typeof d}(h);let y;if(E)y=p;else{const ae=p||{};y=ae.index,m=ae.injector,v=ae.projectableNodes,C=ae.environmentInjector||ae.ngModuleRef}const w=E?h:new dv(xe(h)),M=m||this.parentInjector;if(!C&&null==w.ngModule){const fe=(E?M:this.parentInjector).get(vu,null);fe&&(C=fe)}const R=xe(w.componentType??{}),V=DC(this._lContainer,R?.id??null),ee=w.create(M,v,V?.firstChild??null,C);return this.insertImpl(ee.hostView,y,av(this._hostTNode,V)),ee}insert(h,p){return this.insertImpl(h,p,!0)}insertImpl(h,p,m){const v=h._lView;if(function R3(d){return ha(d[Eo])}(v)){const y=this.indexOf(h);if(-1!==y)this.detach(y);else{const w=v[Eo],M=new zL(w,w[da],w[Eo]);M.detach(M.indexOf(h))}}const C=this._adjustIndex(p),E=this._lContainer;return SC(E,v,C,m),h.attachToViewContainerRef(),WE(T_(E),C,h),h}move(h,p){return this.insert(h,p)}indexOf(h){const p=gX(this._lContainer);return null!==p?p.indexOf(h):-1}remove(h){const p=this._adjustIndex(h,-1),m=lC(this._lContainer,p);m&&(ws(T_(this._lContainer),p),tv(m[Ue],m))}detach(h){const p=this._adjustIndex(h,-1),m=lC(this._lContainer,p);return m&&null!=ws(T_(this._lContainer),p)?new Ef(m):null}_adjustIndex(h,p=0){return h??this.length+p}};function gX(d){return d[8]}function T_(d){return d[8]||(d[8]=[])}function jL(d,h){let p;const m=h[d.index];return ha(m)?p=m:(p=hL(m,h,null,d),h[d.index]=p,bf(h,p)),wM(p,h,d,m),new zL(p,d,h)}let wM=function $L(d,h,p,m){if(d[Ph])return;let v;v=8&p.type?ki(m):function Lu(d,h){const p=d[nn],m=p.createComment(""),v=Va(h,d);return fa(p,Yh(p,v),m,function nv(d,h){return d.nextSibling(h)}(p,v),!1),m}(h,p),d[Ph]=v},DM=()=>!1;class OM{constructor(h){this.queryList=h,this.matches=null}clone(){return new OM(this.queryList)}setDirty(){this.queryList.setDirty()}}class TM{constructor(h=[]){this.queries=h}createEmbeddedView(h){const p=h.queries;if(null!==p){const m=null!==h.contentQueries?h.contentQueries[0]:p.length,v=[];for(let C=0;C<m;C++){const E=p.getByIndex(C);v.push(this.queries[E.indexInDeclarationView].clone())}return new TM(v)}return null}insertView(h){this.dirtyQueriesWithMatches(h)}detachView(h){this.dirtyQueriesWithMatches(h)}finishViewCreation(h){this.dirtyQueriesWithMatches(h)}dirtyQueriesWithMatches(h){for(let p=0;p<this.queries.length;p++)null!==bk(h,p).matches&&this.queries[p].setDirty()}}class XL{constructor(h,p,m=null){this.flags=p,this.read=m,this.predicate="string"==typeof h?function EX(d){return d.split(",").map(h=>h.trim())}(h):h}}class MM{constructor(h=[]){this.queries=h}elementStart(h,p){for(let m=0;m<this.queries.length;m++)this.queries[m].elementStart(h,p)}elementEnd(h){for(let p=0;p<this.queries.length;p++)this.queries[p].elementEnd(h)}embeddedTView(h){let p=null;for(let m=0;m<this.length;m++){const v=null!==p?p.length:0,C=this.getByIndex(m).embeddedTView(h,v);C&&(C.indexInDeclarationView=m,null!==p?p.push(C):p=[C])}return null!==p?new MM(p):null}template(h,p){for(let m=0;m<this.queries.length;m++)this.queries[m].template(h,p)}getByIndex(h){return this.queries[h]}get length(){return this.queries.length}track(h){this.queries.push(h)}}class M_{constructor(h,p=-1){this.metadata=h,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=p}elementStart(h,p){this.isApplyingToNode(p)&&this.matchTNode(h,p)}elementEnd(h){this._declarationNodeIndex===h.index&&(this._appliesToNextNode=!1)}template(h,p){this.elementStart(h,p)}embeddedTView(h,p){return this.isApplyingToNode(h)?(this.crossesNgTemplate=!0,this.addMatch(-h.index,p),new M_(this.metadata)):null}isApplyingToNode(h){if(this._appliesToNextNode&&1&~this.metadata.flags){const p=this._declarationNodeIndex;let m=h.parent;for(;null!==m&&8&m.type&&m.index!==p;)m=m.parent;return p===(null!==m?m.index:-1)}return this._appliesToNextNode}matchTNode(h,p){const m=this.metadata.predicate;if(Array.isArray(m))for(let v=0;v<m.length;v++){const C=m[v];this.matchTNodeWithReadOption(h,p,SX(p,C)),this.matchTNodeWithReadOption(h,p,yy(p,h,C,!1,!1))}else m===EC?4&p.type&&this.matchTNodeWithReadOption(h,p,-1):this.matchTNodeWithReadOption(h,p,yy(p,h,m,!1,!1))}matchTNodeWithReadOption(h,p,m){if(null!==m){const v=this.metadata.read;if(null!==v)if(v===H2||v===Ck||v===EC&&4&p.type)this.addMatch(p.index,-2);else{const C=yy(p,h,v,!1,!1);null!==C&&this.addMatch(p.index,C)}else this.addMatch(p.index,m)}}addMatch(h,p){null===this.matches?this.matches=[h,p]:this.matches.push(h,p)}}function SX(d,h){const p=d.localNames;if(null!==p)for(let m=0;m<p.length;m+=2)if(p[m]===h)return p[m+1];return null}function IM(d,h,p,m){return-1===p?function CX(d,h){return 11&d.type?cf(d,h):4&d.type?ck(d,h):null}(h,d):-2===p?function WL(d,h,p){return p===H2?cf(h,d):p===EC?ck(h,d):p===Ck?jL(h,d):void 0}(d,h,m):u_(d,d[Ue],p,h)}function I_(d,h,p,m){const v=h[Su].queries[m];if(null===v.matches){const C=d.data,E=p.matches,y=[];for(let w=0;null!==E&&w<E.length;w+=2){const M=E[w];y.push(M<0?null:IM(h,C[M],E[w+1],p.metadata.read))}v.matches=y}return v.matches}function xM(d,h,p,m){const v=d.queries.getByIndex(p),C=v.matches;if(null!==C){const E=I_(d,h,v,p);for(let y=0;y<C.length;y+=2){const w=C[y];if(w>0)m.push(E[y/2]);else{const M=C[y+1],R=h[-w];for(let V=Go;V<R.length;V++){const J=R[V];J[O2]===J[Eo]&&xM(J[Ue],J,M,m)}if(null!==R[L1]){const V=R[L1];for(let J=0;J<V.length;J++){const ee=V[J];xM(ee[Ue],ee,M,m)}}}}}return m}function YL(d,h,p){const m=new Oy(!(4&~p));return function sL(d,h,p,m){const v=fL(h);v.push(p),d.firstCreatePass&&mL(d).push(m,v.length-1)}(d,h,m,m.destroy),(h[Su]??=new TM).queries.push(new OM(m))-1}function AM(d,h,p){null===d.queries&&(d.queries=new MM),d.queries.track(new M_(h,p))}function bk(d,h){return d.queries.getByIndex(h)}function RM(d,h){const p=d[Ue],m=bk(p,h);return m.crossesNgTemplate?xM(p,d,h,[]):I_(p,d,m,h)}function ZL(d){return function JL(d){return"function"==typeof d&&void 0!==d[t]}(d)&&"function"==typeof d.set}function GM(d){let h=function uG(d){return Object.getPrototypeOf(d.prototype).constructor}(d.type),p=!0;const m=[d];for(;h;){let v;if(Cu(d))v=h.\u0275cmp||h.\u0275dir;else{if(h.\u0275cmp)throw new lt(903,!1);v=h.\u0275dir}if(v){if(p){m.push(v);const E=d;E.inputs=yk(d.inputs),E.inputTransforms=yk(d.inputTransforms),E.declaredInputs=yk(d.declaredInputs),E.outputs=yk(d.outputs);const y=v.hostBindings;y&&fG(d,y);const w=v.viewQuery,M=v.contentQueries;if(w&&hG(d,w),M&&pG(d,M),NX(d,v),IE(d.outputs,v.outputs),Cu(v)&&v.data.animation){const R=d.data;R.animation=(R.animation||[]).concat(v.data.animation)}}const C=v.features;if(C)for(let E=0;E<C.length;E++){const y=C[E];y&&y.ngInherit&&y(d),y===GM&&(p=!1)}}h=Object.getPrototypeOf(h)}!function LX(d){let h=0,p=null;for(let m=d.length-1;m>=0;m--){const v=d[m];v.hostVars=h+=v.hostVars,v.hostAttrs=ms(v.hostAttrs,p=ms(p,v.hostAttrs))}}(m)}function NX(d,h){for(const p in h.inputs){if(!h.inputs.hasOwnProperty(p)||d.inputs.hasOwnProperty(p))continue;const m=h.inputs[p];if(void 0!==m&&(d.inputs[p]=m,d.declaredInputs[p]=h.declaredInputs[p],null!==h.inputTransforms)){const v=Array.isArray(m)?m[0]:m;if(!h.inputTransforms.hasOwnProperty(v))continue;d.inputTransforms??={},d.inputTransforms[v]=h.inputTransforms[v]}}}function yk(d){return d===Tc?{}:d===ti?[]:d}function hG(d,h){const p=d.viewQuery;d.viewQuery=p?(m,v)=>{h(m,v),p(m,v)}:h}function pG(d,h){const p=d.contentQueries;d.contentQueries=p?(m,v,C)=>{h(m,v,C),p(m,v,C)}:h}function fG(d,h){const p=d.hostBindings;d.hostBindings=p?(m,v)=>{h(m,v),p(m,v)}:h}function gG(d){const h=d.inputConfig,p={};for(const m in h)if(h.hasOwnProperty(m)){const v=h[m];Array.isArray(v)&&v[3]&&(p[m]=v[3])}d.inputTransforms=p}class Of{}class vG{}function UX(d,h){return new FM(d,h??null,[])}class FM extends Of{constructor(h,p,m){super(),this._parent=p,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kM(this);const v=jt(h);this._bootstrapComponents=zl(v.bootstrap),this._r3Injector=qN(h,p,[{provide:Of,useValue:this},{provide:OC,useValue:this.componentFactoryResolver},...m],Xn(h),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(h)}get injector(){return this._r3Injector}destroy(){const h=this._r3Injector;!h.destroyed&&h.destroy(),this.destroyCbs.forEach(p=>p()),this.destroyCbs=null}onDestroy(h){this.destroyCbs.push(h)}}class UM extends vG{constructor(h){super(),this.moduleType=h}create(h){return new FM(this.moduleType,h,[])}}class BM extends Of{constructor(h){super(),this.componentFactoryResolver=new kM(this),this.instance=null;const p=new x1([...h.providers,{provide:Of,useValue:this},{provide:OC,useValue:this.componentFactoryResolver}],h.parent||sy(),h.debugName,new Set(["environment"]));this.injector=p,h.runEnvironmentInitializers&&p.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(h){this.injector.onDestroy(h)}}function wk(d,h,p=null){return new BM({providers:d,parent:h,debugName:p,runEnvironmentInitializers:!0}).injector}let hv=(()=>{class d{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new OE.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const p=this.taskId++;return this.pendingTasks.add(p),p}remove(p){this.pendingTasks.delete(p),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(m){return new(m||d)};static#t=this.\u0275prov=fs({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();function VM(d){return!!xC(d)&&(Array.isArray(d)||!(d instanceof Map)&&Symbol.iterator in d)}function xC(d){return null!==d&&("function"==typeof d||"object"==typeof d)}function Uc(d,h,p){return d[h]=p}function Mf(d,h){return d[h]}function eo(d,h,p){return!Object.is(d[h],p)&&(d[h]=p,!0)}function yo(d,h,p,m){const v=eo(d,h,p);return eo(d,h+1,m)||v}function zM(d,h,p,m,v){const C=yo(d,h,p,m);return eo(d,h+2,v)||C}function Bc(d,h,p,m,v,C){const E=yo(d,h,p,m);return yo(d,h+2,v,C)||E}function pv(d,h,p,m,v,C,E,y){const w=pe(),M=pi(),R=d+xn,V=M.firstCreatePass?function XX(d,h,p,m,v,C,E,y,w){const M=h.consts,R=Cf(h,d,4,E||null,Fh(M,y));cL(h,p,R,Fh(M,w)),B1(h,R);const V=R.tView=tM(2,R,m,v,C,h.directiveRegistry,h.pipeRegistry,null,h.schemas,M,null);return null!==h.queries&&(h.queries.template(h,R),V.queries=h.queries.embeddedTView(R)),R}(R,M,w,h,p,m,v,C,E):M.data[R];bu(V,!1);const J=jM(M,w,V,d);U1()&&Jy(M,w,J,V),ja(J,w);const ee=hL(J,w,J,V);return w[R]=ee,bf(w,ee),function HL(d,h,p){return DM(d,h,p)}(ee,V,w),M2(V)&&_C(M,w,V),null!=E&&ek(w,V,y),pv}let jM=function RC(d,h,p,m){return Rc(!0),h[nn].createComment("")};function tI(d,h,p,m){const v=pe();return eo(v,Ac(),h)&&(pi(),function Mu(d,h,p,m,v,C){const E=Va(d,h);iM(h[nn],E,C,d.value,p,m,v)}(Vs(),v,d,h,p,m)),tI}function BC(d,h,p,m){return eo(d,Ac(),p)?h+Zt(p)+m:wn}function Pr(d,h,p,m,v,C){const y=yo(d,Uh(),p,v);return Td(2),y?h+Zt(p)+m+Zt(v)+C:wn}function sI(d,h){return d<<17|h<<2}function N_(d){return d>>17&32767}function Pu(d){return 2|d}function Uo(d){return(131068&d)>>2}function Bo(d,h){return-131069&d|h<<2}function IG(d){return 1|d}function pW(d,h,p,m){const v=d[p+1],C=null===h;let E=m?N_(v):Uo(v),y=!1;for(;0!==E&&(!1===y||C);){const M=d[E+1];uhe(d[E],h)&&(y=!0,d[E+1]=m?IG(M):Pu(M)),E=m?N_(M):Uo(M)}y&&(d[p+1]=m?Pu(v):IG(v))}function uhe(d,h){return null===d||null==h||(Array.isArray(d)?d[1]:d)===h||!(!Array.isArray(d)||"string"!=typeof h)&&n_(d,h)>=0}const Fr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xG(d){return d.substring(Fr.key,Fr.keyEnd)}function hhe(d){return d.substring(Fr.value,Fr.valueEnd)}function oI(d,h){const p=Fr.textEnd;return p===h?-1:(h=Fr.keyEnd=function fW(d,h,p){for(;h<p&&d.charCodeAt(h)>32;)h++;return h}(d,Fr.key=h,p),zC(d,h,p))}function rI(d,h){const p=Fr.textEnd;let m=Fr.key=zC(d,h,p);return p===m?-1:(m=Fr.keyEnd=function fhe(d,h,p){let m;for(;h<p&&(45===(m=d.charCodeAt(h))||95===m||(-33&m)>=65&&(-33&m)<=90||m>=48&&m<=57);)h++;return h}(d,m,p),m=RG(d,m,p),m=Fr.value=zC(d,m,p),m=Fr.valueEnd=function mhe(d,h,p){let m=-1,v=-1,C=-1,E=h,y=E;for(;E<p;){const w=d.charCodeAt(E++);if(59===w)return y;34===w||39===w?y=E=mW(d,w,E,p):h===E-4&&85===C&&82===v&&76===m&&40===w?y=E=mW(d,41,E,p):w>32&&(y=E),C=v,v=m,m=-33&w}return y}(d,m,p),RG(d,m,p))}function aI(d){Fr.key=0,Fr.keyEnd=0,Fr.value=0,Fr.valueEnd=0,Fr.textEnd=d.length}function zC(d,h,p){for(;h<p&&d.charCodeAt(h)<=32;)h++;return h}function RG(d,h,p,m){return(h=zC(d,h,p))<p&&h++,h}function mW(d,h,p,m){let v=-1,C=p;for(;C<m;){const E=d.charCodeAt(C++);if(E==h&&92!==v)return C;v=92==E&&92===v?0:E}throw new Error}function NG(d,h,p){const m=pe();return eo(m,Ac(),h)&&dl(pi(),Vs(),m,d,h,m[nn],p,!1),NG}function LG(d,h,p,m,v){const E=v?"class":"style";sM(d,p,h.inputs[E],E,m)}function GG(d,h,p){return Uu(d,h,p,!1),GG}function PG(d,h){return Uu(d,h,null,!0),PG}function Fu(d){Bu(Nk,_he,d,!1)}function _he(d,h){for(let p=function AG(d){return aI(d),rI(d,zC(d,0,Fr.textEnd))}(h);p>=0;p=rI(h,p))Nk(d,xG(h),hhe(h))}function _W(d){Bu(SW,Jh,d,!0)}function Jh(d,h){for(let p=function phe(d){return aI(d),oI(d,zC(d,0,Fr.textEnd))}(h);p>=0;p=oI(h,p))ll(d,xG(h),!0)}function Uu(d,h,p,m){const v=pe(),C=pi(),E=Td(2);C.firstUpdatePass&&vW(C,d,E,m),h!==wn&&eo(v,E,h)&&CW(C,C.data[Rr()],v,v[nn],d,v[E+1]=function Ehe(d,h){return null==d||""===d||("string"==typeof h?d+=h:"object"==typeof d&&(d=Xn(Id(d)))),d}(h,p),m,E)}function Bu(d,h,p,m){const v=pi(),C=Td(2);v.firstUpdatePass&&vW(v,null,C,m);const E=pe();if(p!==wn&&eo(E,C,p)){const y=v.data[Rr()];if(EW(y,m)&&!gW(v,C)){let w=m?y.classesWithoutHost:y.stylesWithoutHost;null!==w&&(p=d2(w,p||"")),LG(v,y,E,p,m)}else!function bhe(d,h,p,m,v,C,E,y){v===wn&&(v=ti);let w=0,M=0,R=0<v.length?v[0]:null,V=0<C.length?C[0]:null;for(;null!==R||null!==V;){const J=w<v.length?v[w+1]:void 0,ee=M<C.length?C[M+1]:void 0;let fe,ae=null;R===V?(w+=2,M+=2,J!==ee&&(ae=V,fe=ee)):null===V||null!==R&&R<V?(w+=2,ae=R):(M+=2,ae=V,fe=ee),null!==ae&&CW(d,h,p,m,ae,fe,E,y),R=w<v.length?v[w]:null,V=M<C.length?C[M]:null}}(v,y,E,E[nn],E[C+1],E[C+1]=function Che(d,h,p){if(null==p||""===p)return ti;const m=[],v=Id(p);if(Array.isArray(v))for(let C=0;C<v.length;C++)d(m,v[C],!0);else if("object"==typeof v)for(const C in v)v.hasOwnProperty(C)&&d(m,C,v[C]);else"string"==typeof v&&h(m,v);return m}(d,h,p),m,C)}}function gW(d,h){return h>=d.expandoStartIndex}function vW(d,h,p,m){const v=d.data;if(null===v[p+1]){const C=v[Rr()],E=gW(d,p);EW(C,m)&&null===h&&!E&&(h=!1),h=function ghe(d,h,p,m){const v=L2(d);let C=m?h.residualClasses:h.residualStyles;if(null===v)0===(m?h.classBindings:h.styleBindings)&&(p=jC(p=FG(null,d,h,p,m),h.attrs,m),C=null);else{const E=h.directiveStylingLast;if(-1===E||d[E]!==v)if(p=FG(v,d,h,p,m),null===C){let w=function vhe(d,h,p){const m=p?h.classBindings:h.styleBindings;if(0!==Uo(m))return d[N_(m)]}(d,h,m);void 0!==w&&Array.isArray(w)&&(w=FG(null,d,h,w[1],m),w=jC(w,h.attrs,m),function She(d,h,p,m){d[N_(p?h.classBindings:h.styleBindings)]=m}(d,h,m,w))}else C=function lI(d,h,p){let m;const v=h.directiveEnd;for(let C=1+h.directiveStylingLast;C<v;C++)m=jC(m,d[C].hostAttrs,p);return jC(m,h.attrs,p)}(d,h,m)}return void 0!==C&&(m?h.residualClasses=C:h.residualStyles=C),p}(v,C,h,m),function hW(d,h,p,m,v,C){let E=C?h.classBindings:h.styleBindings,y=N_(E),w=Uo(E);d[m]=p;let R,M=!1;if(Array.isArray(p)?(R=p[1],(null===R||n_(p,R)>0)&&(M=!0)):R=p,v)if(0!==w){const J=N_(d[y+1]);d[m+1]=sI(J,y),0!==J&&(d[J+1]=Bo(d[J+1],m)),d[y+1]=function lhe(d,h){return 131071&d|h<<17}(d[y+1],m)}else d[m+1]=sI(y,0),0!==y&&(d[y+1]=Bo(d[y+1],m)),y=m;else d[m+1]=sI(w,0),0===y?y=m:d[w+1]=Bo(d[w+1],m),w=m;M&&(d[m+1]=Pu(d[m+1])),pW(d,R,m,!0),pW(d,R,m,!1),function dhe(d,h,p,m,v){const C=v?d.residualClasses:d.residualStyles;null!=C&&"string"==typeof h&&n_(C,h)>=0&&(p[m+1]=IG(p[m+1]))}(h,R,d,m,C),E=sI(y,w),C?h.classBindings=E:h.styleBindings=E}(v,C,h,p,E,m)}}function FG(d,h,p,m,v){let C=null;const E=p.directiveEnd;let y=p.directiveStylingLast;for(-1===y?y=p.directiveStart:y++;y<E&&(C=h[y],m=jC(m,C.hostAttrs,v),C!==d);)y++;return null!==d&&(p.directiveStylingLast=y),m}function jC(d,h,p){const m=p?1:2;let v=-1;if(null!==h)for(let C=0;C<h.length;C++){const E=h[C];"number"==typeof E?v=E:v===m&&(Array.isArray(d)||(d=void 0===d?[]:["",d]),ll(d,E,!!p||h[++C]))}return void 0===d?null:d}function Nk(d,h,p){ll(d,h,Id(p))}function SW(d,h,p){const m=String(h);""!==m&&!m.includes(" ")&&ll(d,m,p)}function CW(d,h,p,m,v,C,E,y){if(!(3&h.type))return;const w=d.data,M=w[y+1],R=function Xa(d){return!(1&~d)}(M)?bW(w,h,p,v,Uo(M),E):void 0;cI(R)||(cI(C)||function ahe(d){return!(2&~d)}(M)&&(C=bW(w,null,p,v,y,E)),function C$(d,h,p,m,v){if(h)v?d.addClass(p,m):d.removeClass(p,m);else{let C=-1===m.indexOf("-")?void 0:Xh.DashCase;null==v?d.removeStyle(p,m,C):("string"==typeof v&&v.endsWith("!important")&&(v=v.slice(0,-10),C|=Xh.Important),d.setStyle(p,m,v,C))}}(m,E,x2(Rr(),p),v,C))}function bW(d,h,p,m,v,C){const E=null===h;let y;for(;v>0;){const w=d[v],M=Array.isArray(w),R=M?w[1]:w,V=null===R;let J=p[v+1];J===wn&&(J=V?ti:void 0);let ee=V?ef(J,m):R===m?J:void 0;if(M&&!cI(ee)&&(ee=ef(w,m)),cI(ee)&&(y=ee,E))return y;const ae=d[v+1];v=E?N_(ae):Uo(ae)}if(null!==h){let w=C?h.residualClasses:h.residualStyles;null!=w&&(y=ef(w,m))}return y}function cI(d){return void 0!==d}function EW(d,h){return!!(d.flags&(h?8:16))}function yW(d,h,p){Bu(ll,Jh,BC(pe(),d,h,p),!0)}function VG(d,h,p){Ru("NgControlFlow");const m=pe(),v=Ac(),C=function zG(d,h){return d[h]}(m,xn+d);if(eo(m,v,h)){const y=at(null);try{if(function rM(d,h){const p=lC(d,h);return void 0!==p&&tv(p[Ue],p),p}(C,0),-1!==h){const w=function jG(d,h){return G1(d,h)}(m[Ue],xn+h),M=DC(C,w.tView.ssrId);SC(C,vC(m,w,p,{dehydratedView:M}),0,av(w,M))}}finally{at(y)}}else{const y=function gL(d,h){const p=Go+h;if(p<d.length)return d[p]}(C,0);void 0!==y&&(y[Bs]=p)}}function dI(d,h,p,m){const v=pe(),C=pi(),E=xn+d,y=v[nn],w=C.firstCreatePass?function zhe(d,h,p,m,v,C){const E=h.consts,w=Cf(h,d,2,m,Fh(E,v));return cL(h,p,w,Fh(E,C)),null!==w.attrs&&cv(w,w.attrs,!1),null!==w.mergedAttrs&&cv(w,w.mergedAttrs,!0),null!==h.queries&&h.queries.elementStart(h,w),w}(E,C,v,h,p,m):C.data[E],M=TW(C,v,w,y,h,d);v[E]=M;const R=M2(w);return bu(w,!0),Qy(y,M,w),!function AC(d){return!(32&~d.flags)}(w)&&U1()&&Jy(C,v,M,w),0===function uH(){return vn.lFrame.elementDepthCount}()&&ja(M,v),function hH(){vn.lFrame.elementDepthCount++}(),R&&(_C(C,v,w),mC(C,w,v)),null!==m&&ek(v,w),dI}function uI(){let d=rs();F3()?U3():(d=d.parent,bu(d,!1));const h=d;(function fH(d){return vn.skipHydrationRootTNode===d})(h)&&function vH(){vn.skipHydrationRootTNode=null}(),function pH(){vn.lFrame.elementDepthCount--}();const p=pi();return p.firstCreatePass&&(B1(p,d),dy(d)&&p.queries.elementEnd(d)),null!=h.classesWithoutHost&&function yH(d){return!!(8&d.flags)}(h)&&LG(p,h,pe(),h.classesWithoutHost,!0),null!=h.stylesWithoutHost&&function J3(d){return!!(16&d.flags)}(h)&&LG(p,h,pe(),h.stylesWithoutHost,!1),uI}function HG(d,h,p,m){return dI(d,h,p,m),uI(),HG}let TW=(d,h,p,m,v,C)=>(Rc(!0),aC(m,v,function P2(){return vn.lFrame.currentNamespace}()));function hI(d,h,p){const m=pe(),v=pi(),C=d+xn,E=v.firstCreatePass?function Hhe(d,h,p,m,v){const C=h.consts,E=Fh(C,m),y=Cf(h,d,8,"ng-container",E);return null!==E&&cv(y,E,!0),cL(h,p,y,Fh(C,v)),null!==h.queries&&h.queries.elementStart(h,y),y}(C,v,m,h,p):v.data[C];bu(E,!0);const y=IW(v,m,E,d);return m[C]=y,U1()&&Jy(v,m,y,E),ja(y,m),M2(E)&&(_C(v,m,E),mC(v,E,m)),null!=p&&ek(m,E),hI}function pI(){let d=rs();const h=pi();return F3()?U3():(d=d.parent,bu(d,!1)),h.firstCreatePass&&(B1(h,d),dy(d)&&h.queries.elementEnd(d)),pI}function $G(d,h,p){return hI(d,h,p),pI(),$G}let IW=(d,h,p,m)=>(Rc(!0),Yy(h[nn],""));function xW(){return pe()}function XG(d,h,p){const m=pe();return eo(m,Ac(),h)&&dl(pi(),Vs(),m,d,h,m[nn],p,!0),XG}function WG(d,h,p){const m=pe();if(eo(m,Ac(),h)){const C=pi(),E=Vs();dl(C,E,m,d,h,_L(L2(C.data),E,m),p,!0)}return WG}const bv=void 0;var Yhe=["en",[["a","p"],["AM","PM"],bv],[["AM","PM"],bv,bv],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bv,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bv,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bv,"{1} 'at' {0}",bv],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Whe(d){const p=Math.floor(Math.abs(d)),m=d.toString().replace(/^[^.]*\.?/,"").length;return 1===p&&0===m?1:5}];let HC={};function Khe(d,h,p){"string"!=typeof h&&(p=h,h=d[$C.LocaleId]),h=h.toLowerCase().replace(/_/g,"-"),HC[h]=d,p&&(HC[h][$C.ExtraData]=p)}function YG(d){const h=function qhe(d){return d.toLowerCase().replace(/_/g,"-")}(d);let p=RW(h);if(p)return p;const m=h.split("-")[0];if(p=RW(m),p)return p;if("en"===m)return Yhe;throw new lt(701,!1)}function AW(d){return YG(d)[$C.PluralCase]}function RW(d){return d in HC||(HC[d]=ss.ng&&ss.ng.common&&ss.ng.common.locales&&ss.ng.common.locales[d]),HC[d]}var $C=function(d){return d[d.LocaleId=0]="LocaleId",d[d.DayPeriodsFormat=1]="DayPeriodsFormat",d[d.DayPeriodsStandalone=2]="DayPeriodsStandalone",d[d.DaysFormat=3]="DaysFormat",d[d.DaysStandalone=4]="DaysStandalone",d[d.MonthsFormat=5]="MonthsFormat",d[d.MonthsStandalone=6]="MonthsStandalone",d[d.Eras=7]="Eras",d[d.FirstDayOfWeek=8]="FirstDayOfWeek",d[d.WeekendRange=9]="WeekendRange",d[d.DateFormat=10]="DateFormat",d[d.TimeFormat=11]="TimeFormat",d[d.DateTimeFormat=12]="DateTimeFormat",d[d.NumberSymbols=13]="NumberSymbols",d[d.NumberFormats=14]="NumberFormats",d[d.CurrencyCode=15]="CurrencyCode",d[d.CurrencySymbol=16]="CurrencySymbol",d[d.CurrencyName=17]="CurrencyName",d[d.Currencies=18]="Currencies",d[d.Directionality=19]="Directionality",d[d.PluralCase=20]="PluralCase",d[d.ExtraData=21]="ExtraData",d}($C||{});const Qhe=["zero","one","two","few","many"],XC="en-US",fI={marker:"element"},mI={marker:"ICU"};let NW=XC;function Lk(d,h){const p=d.data[h];return null===p||"string"==typeof p?null:p.hasOwnProperty("currentCaseLViewIndex")?p:p.value}function _I(d,h){const p=h[d.currentCaseLViewIndex];return null===p?p:p<0?~p:p}function KG(d){return d>>>17}function JG(d){return(131070&d)>>>1}let L_=0,Gk=0;let WC=(d,h,p,m)=>(Rc(!0),function Pk(d,h,p){const m=d[nn];switch(p){case Node.COMMENT_NODE:return Yy(m,h);case Node.TEXT_NODE:return __(m,h);case Node.ELEMENT_NODE:return aC(m,h,null)}}(d,p,m));function jW(d,h,p,m){const v=p[nn];let E,C=null;for(let y=0;y<h.length;y++){const w=h[y];if("string"==typeof w){const M=h[++y];null===p[M]&&(p[M]=WC(p,M,w,Node.TEXT_NODE))}else if("number"==typeof w)switch(1&w){case 0:const M=KG(w);let R,V;if(null===C&&(C=M,E=Yh(v,m)),M===C?(R=m,V=E):(R=null,V=ki(p[M])),null!==V){const fe=JG(w);fa(v,V,p[fe],R,!1);const He=Lk(d,fe);if(null!==He&&"object"==typeof He){const Ee=_I(He,p);null!==Ee&&jW(d,He.create[Ee],p,p[He.anchorIdx])}}break;case 1:const ee=h[++y],ae=h[++y];iM(v,x2(w>>>1,p),null,null,ee,ae,null)}else switch(w){case mI:const M=h[++y],R=h[++y];null===p[R]&&ja(p[R]=WC(p,R,M,Node.COMMENT_NODE),p);break;case fI:const V=h[++y],J=h[++y];null===p[J]&&ja(p[J]=WC(p,J,V,Node.ELEMENT_NODE),p)}}}function HW(d,h,p,m,v){for(let C=0;C<p.length;C++){const E=p[C],y=p[++C];if(E&v){let w="";for(let M=C+1;M<=C+y;M++){const R=p[M];if("string"==typeof R)w+=R;else if("number"==typeof R)if(R<0)w+=Zt(h[m-R]);else{const V=R>>>2;switch(3&R){case 1:const J=p[++M],ee=p[++M],ae=d.data[V];"string"==typeof ae?iM(h[nn],h[V],null,ae,J,w,ee):dl(d,ae,h,J,w,h[nn],ee,!1);break;case 0:const fe=h[V];null!==fe&&Wy(h[nn],fe,w);break;case 2:$W(d,Lk(d,V),h,w);break;case 3:qG(d,Lk(d,V),m,h)}}}}else{const w=p[C+1];if(w>0&&!(3&~w)){const R=Lk(d,w>>>2);h[R.currentCaseLViewIndex]<0&&qG(d,R,m,h)}}C+=y}}function qG(d,h,p,m){let v=m[h.currentCaseLViewIndex];if(null!==v){let C=L_;v<0&&(v=m[h.currentCaseLViewIndex]=~v,C=-1),HW(d,m,h.update[v],p,C)}}function $W(d,h,p,m){const v=function dpe(d,h){let p=d.cases.indexOf(h);if(-1===p)switch(d.type){case 1:{const m=function Zhe(d,h){const p=AW(h)(parseInt(d,10)),m=Qhe[p];return void 0!==m?m:"other"}(h,function tpe(){return NW}());p=d.cases.indexOf(m),-1===p&&"other"!==m&&(p=d.cases.indexOf("other"));break}case 0:p=d.cases.indexOf("other")}return-1===p?null:p}(h,m);if(_I(h,p)!==v&&(XW(d,h,p),p[h.currentCaseLViewIndex]=null===v?null:~v,null!==v)){const E=p[h.anchorIdx];E&&jW(d,h.create[v],p,E)}}function XW(d,h,p){let m=_I(h,p);if(null!==m){const v=h.remove[m];for(let C=0;C<v.length;C++){const E=v[C];if(E>0){const y=x2(E,p);null!==y&&hC(p[nn],y)}else XW(d,Lk(d,~E),p)}}}const Uk=/\ufffd(\d+):?\d*\ufffd/gi,YW=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi;function G_(d,h,p,m,v,C){const E=d.length,y=E+1;d.push(null,null);const w=E+2,M=h.split(Uk);let R=0;for(let V=0;V<M.length;V++){const J=M[V];if(1&V){const ee=v+parseInt(J,10);d.push(-1-ee),R|=KC(ee)}else""!==J&&d.push(J)}return d.push(p<<2|(m?1:0)),m&&d.push(m,C),d[E]=R,d[y]=d.length-w,R}function SI(d){let h=0;for(let p=0;p<d.length;p++){const m=d[p];"number"==typeof m&&m<0&&h++}return h}function KC(d){return 1<<Math.min(d,31)}function aY(d,h){const p=pi(),m=Fh(p.consts,h);!function _pe(d,h,p){const v=rs().index,C=[];if(d.firstCreatePass&&null===d.data[h]){for(let E=0;E<p.length;E+=2){const y=p[E],w=p[E+1];if(""!==w){if(YW.test(w))throw new Error(`ICU expressions are not supported in attributes. Message: "${w}".`);G_(C,w,v,y,SI(C),null)}}d.data[h]=C}}(p,d+xn,m)}function sP(d){return function VW(d){d&&(L_|=1<<Math.min(Gk,31)),Gk++}(eo(pe(),Ac(),d)),sP}function lY(d){!function vI(d,h,p){if(Gk>0){const m=d.data[p];HW(d,h,Array.isArray(m)?m:m.update,Uh()-Gk-1,L_)}L_=0,Gk=0}(pi(),pe(),d+xn)}function oP(d,h,p,m){const v=pe(),C=pi(),E=rs();return rP(C,v,v[nn],E,d,h,m),oP}function rP(d,h,p,m,v,C,E){const y=M2(m),M=d.firstCreatePass&&mL(d),R=h[Bs],V=fL(h);let J=!0;if(3&m.type||E){const fe=Va(m,h),Ae=E?E(fe):fe,He=V.length,Ee=E?Ai=>E(ki(Ai[m.index])):m.index;let on=null;if(!E&&y&&(on=function Mpe(d,h,p,m){const v=d.cleanup;if(null!=v)for(let C=0;C<v.length-1;C+=2){const E=v[C];if(E===p&&v[C+1]===m){const y=h[R1],w=v[C+2];return y.length>w?y[w]:null}"string"==typeof E&&(C+=2)}return null}(d,h,v,m.index)),null!==on)(on.__ngLastListenerFn__||on).__ngNextListenerFn__=C,on.__ngLastListenerFn__=C,J=!1;else{C=uY(m,h,R,C,!1);const Ai=p.listen(Ae,v,C);V.push(C,Ai),M&&M.push(v,Ee,He,He+1)}}else C=uY(m,h,R,C,!1);const ee=m.outputs;let ae;if(J&&null!==ee&&(ae=ee[v])){const fe=ae.length;if(fe)for(let Ae=0;Ae<fe;Ae+=2){const Ds=h[ae[Ae]][ae[Ae+1]].subscribe(C),Br=V.length;V.push(C,Ds),M&&M.push(v,m.index,Br,-(Br+1))}}}function dY(d,h,p,m){const v=at(null);try{return mo(6,h,p),!1!==p(m)}catch(C){return ok(d,C),!1}finally{mo(7,h,p),at(v)}}function uY(d,h,p,m,v){return function C(E){if(E===Function)return m;bC(d.componentOffset>-1?Pl(d.index,h):h);let w=dY(h,p,m,E),M=C.__ngNextListenerFn__;for(;M;)w=dY(h,p,M,E)&&w,M=M.__ngNextListenerFn__;return v&&!1===w&&E.preventDefault(),w}}function hY(d=1){return function $3(d){return(vn.lFrame.contextLView=function IN(d,h){for(;d>0;)h=h[D2],d--;return h}(d,vn.lFrame.contextLView))[Bs]}(d)}function Ipe(d,h){let p=null;const m=function E2(d){const h=d.attrs;if(null!=h){const p=h.indexOf(5);if(!(1&p))return h[p+1]}return null}(d);for(let v=0;v<h.length;v++){const C=h[v];if("*"!==C){if(null===m?ny(d,C,!0):uN(m,C))return v}else p=v}return p}function pY(d){const h=pe()[Qs][da];if(!h.projection){const m=h.projection=function t_(d,h){const p=[];for(let m=0;m<d;m++)p.push(h);return p}(d?d.length:1,null),v=m.slice();let C=h.child;for(;null!==C;){const E=d?Ipe(C,d):0;null!==E&&(v[E]?v[E].projectionNext=C:m[E]=C,v[E]=C),C=C.next}}}function fY(d,h=0,p){const m=pe(),v=pi(),C=Cf(v,xn+d,16,null,p||null);null===C.projection&&(C.projection=h),U3(),(!m[Gl]||F1())&&32&~C.flags&&function qT(d,h,p){qy(h[nn],0,h,p,g_(d,p,h),dC(p.parent||h[da],p,h))}(v,m,C)}function aP(d,h,p){return CI(d,"",h,"",p),aP}function CI(d,h,p,m,v){const C=pe(),E=BC(C,h,p,m);return E!==wn&&dl(pi(),Vs(),C,d,E,C[nn],v,!1),CI}function lP(d,h,p,m,v,C,E){const y=pe(),w=Pr(y,h,p,m,v,C);return w!==wn&&dl(pi(),Vs(),y,d,w,y[nn],E,!1),lP}function SY(d,h,p,m){!function KL(d,h,p,m){const v=pi();if(v.firstCreatePass){const C=rs();AM(v,new XL(h,p,m),C.index),function yX(d,h){const p=d.contentQueries||(d.contentQueries=[]);h!==(p.length?p[p.length-1]:-1)&&p.push(d.queries.length-1,h)}(v,d),!(2&~p)&&(v.staticContentQueries=!0)}return YL(v,pe(),p)}(d,h,p,m)}function CY(d,h,p){!function bX(d,h,p){const m=pi();return m.firstCreatePass&&(AM(m,new XL(d,h,p),-1),!(2&~h)&&(m.staticViewQueries=!0)),YL(m,pe(),h)}(d,h,p)}function bY(d){const h=pe(),p=pi(),m=z3();Eu(m+1);const v=bk(p,m);if(d.dirty&&function A2(d){return!(4&~d[Lt])}(h)===!(2&~v.metadata.flags)){if(null===v.matches)d.reset([]);else{const C=RM(h,m);d.reset(C,t8),d.notifyOnChanges()}return!0}return!1}function EY(){return function MC(d,h){return d[Su].queries[h].queryList}(pe(),z3())}function yY(d){return P1(function SH(){return vn.lFrame.contextLView}(),xn+d)}function AY(d,h=""){const p=pe(),m=pi(),v=d+xn,C=m.firstCreatePass?Cf(m,v,1,h,null):m.data[v],E=mP(m,p,C,h,d);p[v]=E,U1()&&Jy(m,p,E,C),bu(C,!1)}let mP=(d,h,p,m,v)=>(Rc(!0),__(h[nn],m));function _P(d){return bI("",d,""),_P}function bI(d,h,p){const m=pe(),v=BC(m,d,h,p);return v!==wn&&Iu(m,Rr(),v),bI}function gP(d,h,p,m,v){const C=pe(),E=Pr(C,d,h,p,m,v);return E!==wn&&Iu(C,Rr(),E),gP}function vP(d,h,p,m,v,C,E,y,w,M,R){const V=pe(),J=function Cv(d,h,p,m,v,C,E,y,w,M,R,V){const J=Uh();let ee=Bc(d,J,p,v,E,w);return ee=eo(d,J+4,R)||ee,Td(5),ee?h+Zt(p)+m+Zt(v)+C+Zt(E)+y+Zt(w)+M+Zt(R)+V:wn}(V,d,h,p,m,v,C,E,y,w,M,R);return J!==wn&&Iu(V,Rr(),J),vP}function SP(d,h,p){ZL(h)&&(h=h());const m=pe();return eo(m,Ac(),h)&&dl(pi(),Vs(),m,d,h,m[nn],p,!1),SP}function UY(d,h){const p=ZL(d);return p&&d.set(h),p}function CP(d,h){const p=pe(),m=pi(),v=rs();return rP(m,p,p[nn],v,d,h),CP}function EI(d,h,p,m,v){if(d=Qt(d),Array.isArray(d))for(let C=0;C<d.length;C++)EI(d[C],h,p,m,v);else{const C=pi(),E=pe(),y=rs();let w=I1(d)?d:Qt(d.provide);const M=Kj(d),R=1048575&y.providerIndexes,V=y.directiveStart,J=y.providerIndexes>>20;if(I1(d)||!d.multi){const ee=new U2(M,v,S_),ae=bP(w,h,v?R:R+J,V);-1===ae?(V1(by(y,E),C,w),yI(C,d,h.length),h.push(w),y.directiveStart++,y.directiveEnd++,v&&(y.providerIndexes+=1048576),p.push(ee),E.push(ee)):(p[ae]=ee,E[ae]=ee)}else{const ee=bP(w,h,R+J,V),ae=bP(w,h,R,R+J),Ae=ae>=0&&p[ae];if(v&&!Ae||!v&&!(ee>=0&&p[ee])){V1(by(y,E),C,w);const He=function $pe(d,h,p,m,v){const C=new U2(d,p,S_);return C.multi=[],C.index=h,C.componentProviders=0,BY(C,v,m&&!p),C}(v?Hpe:VY,p.length,v,m,M);!v&&Ae&&(p[ae].providerFactory=He),yI(C,d,h.length,0),h.push(w),y.directiveStart++,y.directiveEnd++,v&&(y.providerIndexes+=1048576),p.push(He),E.push(He)}else yI(C,d,ee>-1?ee:ae,BY(p[v?ae:ee],M,!v&&m));!v&&m&&Ae&&p[ae].componentProviders++}}}function yI(d,h,p,m){const v=I1(h),C=function Lde(d){return!!d.useClass}(h);if(v||C){const w=(C?Qt(h.useClass):h).prototype.ngOnDestroy;if(w){const M=d.destroyHooks||(d.destroyHooks=[]);if(!v&&h.multi){const R=M.indexOf(p);-1===R?M.push(p,[m,w]):M[R+1].push(m,w)}else M.push(p,w)}}}function BY(d,h,p){return p&&d.componentProviders++,d.multi.push(h)-1}function bP(d,h,p,m){for(let v=p;v<m;v++)if(h[v]===d)return v;return-1}function VY(d,h,p,m){return EP(this.multi,[])}function Hpe(d,h,p,m){const v=this.multi;let C;if(this.providerFactory){const E=this.providerFactory.componentProviders,y=u_(p,p[Ue],this.providerFactory.index,m);C=y.slice(0,E),EP(v,C);for(let w=E;w<y.length;w++)C.push(y[w])}else C=[],EP(v,C);return C}function EP(d,h){for(let p=0;p<d.length;p++)h.push((0,d[p])());return h}function zY(d,h=[]){return p=>{p.providersResolver=(m,v)=>function jpe(d,h,p){const m=pi();if(m.firstCreatePass){const v=Cu(d);EI(p,m.data,m.blueprint,v,!0),EI(h,m.data,m.blueprint,v,!1)}}(m,v?v(d):d,h)}}let Xpe=(()=>{class d{constructor(p){this._injector=p,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(p){if(!p.standalone)return null;if(!this.cachedInjectors.has(p)){const m=pN(0,p.type),v=m.length>0?wk([m],this._injector,`Standalone[${p.type.name}]`):null;this.cachedInjectors.set(p,v)}return this.cachedInjectors.get(p)}ngOnDestroy(){try{for(const p of this.cachedInjectors.values())null!==p&&p.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=fs({token:d,providedIn:"environment",factory:()=>new d(Ir(vu))})}return d})();function jY(d){Ru("NgStandalone"),d.getStandaloneInjector=h=>h.get(Xpe).getOrCreateStandaloneInjector(d)}function $Y(d,h,p){const m=za()+d,v=pe();return v[m]===wn?Uc(v,m,p?h.call(p):h()):Mf(v,m)}function XY(d,h,p,m){return tK(pe(),za(),d,h,p,m)}function WY(d,h,p,m,v){return nK(pe(),za(),d,h,p,m,v)}function YY(d,h,p,m,v,C){return wI(pe(),za(),d,h,p,m,v,C)}function KY(d,h,p,m,v,C,E){return function iK(d,h,p,m,v,C,E,y,w){const M=h+p;return Bc(d,M,v,C,E,y)?Uc(d,M+4,w?m.call(w,v,C,E,y):m(v,C,E,y)):jk(d,M+4)}(pe(),za(),d,h,p,m,v,C,E)}function JY(d,h,p,m,v,C,E,y){const w=za()+d,M=pe(),R=Bc(M,w,p,m,v,C);return eo(M,w+4,E)||R?Uc(M,w+5,y?h.call(y,p,m,v,C,E):h(p,m,v,C,E)):Mf(M,w+5)}function qY(d,h,p,m,v,C,E,y,w){const M=za()+d,R=pe(),V=Bc(R,M,p,m,v,C);return yo(R,M+4,E,y)||V?Uc(R,M+6,w?h.call(w,p,m,v,C,E,y):h(p,m,v,C,E,y)):Mf(R,M+6)}function QY(d,h,p,m,v,C,E,y,w,M){const R=za()+d,V=pe();let J=Bc(V,R,p,m,v,C);return zM(V,R+4,E,y,w)||J?Uc(V,R+7,M?h.call(M,p,m,v,C,E,y,w):h(p,m,v,C,E,y,w)):Mf(V,R+7)}function ZY(d,h,p,m,v,C,E,y,w,M,R){const V=za()+d,J=pe(),ee=Bc(J,V,p,m,v,C);return Bc(J,V+4,E,y,w,M)||ee?Uc(J,V+8,R?h.call(R,p,m,v,C,E,y,w,M):h(p,m,v,C,E,y,w,M)):Mf(J,V+8)}function eK(d,h,p,m){return function sK(d,h,p,m,v,C){let E=h+p,y=!1;for(let w=0;w<v.length;w++)eo(d,E++,v[w])&&(y=!0);return y?Uc(d,E,m.apply(C,v)):jk(d,E)}(pe(),za(),d,h,p,m)}function jk(d,h){const p=d[h];return p===wn?void 0:p}function tK(d,h,p,m,v,C){const E=h+p;return eo(d,E,v)?Uc(d,E+1,C?m.call(C,v):m(v)):jk(d,E+1)}function nK(d,h,p,m,v,C,E){const y=h+p;return yo(d,y,v,C)?Uc(d,y+2,E?m.call(E,v,C):m(v,C)):jk(d,y+2)}function wI(d,h,p,m,v,C,E,y){const w=h+p;return zM(d,w,v,C,E)?Uc(d,w+3,y?m.call(y,v,C,E):m(v,C,E)):jk(d,w+3)}function oK(d,h){const p=pi();let m;const v=d+xn;p.firstCreatePass?(m=function Kpe(d,h){if(h)for(let p=h.length-1;p>=0;p--){const m=h[p];if(d===m.name)return m}}(h,p.pipeRegistry),p.data[v]=m,m.onDestroy&&(p.destroyHooks??=[]).push(v,m.onDestroy)):m=p.data[v];const C=m.factory||(m.factory=Lh(m.type)),y=aa(S_);try{const w=Z3(!1),M=C();return Z3(w),function Npe(d,h,p,m){p>=d.data.length&&(d.data[p]=null,d.blueprint[p]=null),h[p]=m}(p,pe(),v,M),M}finally{aa(y)}}function rK(d,h,p){const m=d+xn,v=pe(),C=P1(v,m);return Hk(v,m)?tK(v,za(),h,C.transform,p,C):C.transform(p)}function aK(d,h,p,m){const v=d+xn,C=pe(),E=P1(C,v);return Hk(C,v)?nK(C,za(),h,E.transform,p,m,E):E.transform(p,m)}function lK(d,h,p,m,v){const C=d+xn,E=pe(),y=P1(E,C);return Hk(E,C)?wI(E,za(),h,y.transform,p,m,v,y):y.transform(p,m,v)}function Hk(d,h){return d[Ue].data[h].pure}function cK(d,h){return ck(d,h)}class AP{constructor(h){this.full=h;const p=h.split(".");this.major=p[0],this.minor=p[1],this.patch=p.slice(2).join(".")}}let RP=(()=>{class d{log(p){console.log(p)}warn(p){console.warn(p)}static#e=this.\u0275fac=function(m){return new(m||d)};static#t=this.\u0275prov=fs({token:d,factory:d.\u0275fac,providedIn:"platform"})}return d})();const AK=new ai(""),RK=new ai("");let LP,Hfe=(()=>{class d{constructor(p,m,v){this._ngZone=p,this.registry=m,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,LP||(function $fe(d){LP=d}(v),v.addToWindow(m)),this._watchAngularEvents(),p.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ir.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let p=this._callbacks.pop();clearTimeout(p.timeoutId),p.doneCb()}});else{let p=this.getPendingTasks();this._callbacks=this._callbacks.filter(m=>!m.updateCb||!m.updateCb(p)||(clearTimeout(m.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(p=>({source:p.source,creationLocation:p.creationLocation,data:p.data})):[]}addCallback(p,m,v){let C=-1;m&&m>0&&(C=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==C),p()},m)),this._callbacks.push({doneCb:p,timeoutId:C,updateCb:v})}whenStable(p,m,v){if(v&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(p,m,v),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(p){this.registry.registerApplication(p,this)}unregisterApplication(p){this.registry.unregisterApplication(p)}findProviders(p,m,v){return[]}static#e=this.\u0275fac=function(m){return new(m||d)(Ir(ir),Ir(NK),Ir(RK))};static#t=this.\u0275prov=fs({token:d,factory:d.\u0275fac})}return d})(),NK=(()=>{class d{constructor(){this._applications=new Map}registerApplication(p,m){this._applications.set(p,m)}unregisterApplication(p){this._applications.delete(p)}unregisterAllApplications(){this._applications.clear()}getTestability(p){return this._applications.get(p)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(p,m=!0){return LP?.findTestabilityInTree(this,p,m)??null}static#e=this.\u0275fac=function(m){return new(m||d)};static#t=this.\u0275prov=fs({token:d,factory:d.\u0275fac,providedIn:"platform"})}return d})();function GP(d){return!!d&&"function"==typeof d.then}function LK(d){return!!d&&"function"==typeof d.subscribe}const GK=new ai("");let PP=(()=>{class d{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((p,m)=>{this.resolve=p,this.reject=m}),this.appInits=pn(GK,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const p=[];for(const v of this.appInits){const C=v();if(GP(C))p.push(C);else if(LK(C)){const E=new Promise((y,w)=>{C.subscribe({complete:y,error:w})});p.push(E)}}const m=()=>{this.done=!0,this.resolve()};Promise.all(p).then(()=>{m()}).catch(v=>{this.reject(v)}),0===p.length&&m(),this.initialized=!0}static#e=this.\u0275fac=function(m){return new(m||d)};static#t=this.\u0275prov=fs({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();const FP=new ai("");function UK(d,h){return Array.isArray(h)?h.reduce(UK,d):{...d,...h}}let P_=(()=>{class d{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=pn(QN),this.afterRenderEffectManager=pn(vk),this.externalTestViews=new Set,this.beforeRender=new DE.B,this.afterTick=new DE.B,this.componentTypes=[],this.components=[],this.isStable=pn(hv).hasPendingTasks.pipe((0,s3.T)(p=>!p)),this._injector=pn(vu)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(p,m){const v=p instanceof _k;if(!this._injector.get(PP).done)throw!v&&Hi(p),new lt(405,!1);let E;E=v?p:this._injector.get(OC).resolveComponentFactory(p),this.componentTypes.push(E.componentType);const y=function Xfe(d){return d.isBoundToModule}(E)?void 0:this._injector.get(Of),M=E.create(Ul.NULL,[],m||E.selector,y),R=M.location.nativeElement,V=M.injector.get(AK,null);return V?.registerApplication(R),M.onDestroy(()=>{this.detachView(M.hostView),TI(this.components,M),V?.unregisterApplication(R)}),this._loadComponent(M),M}tick(){this._tick(!0)}_tick(p){if(this._runningTick)throw new lt(101,!1);const m=at(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(p)}catch(v){this.internalErrorHandler(v)}finally{this.afterTick.next(),this._runningTick=!1,at(m)}}detectChangesInAttachedViews(p){let m=0;const v=this.afterRenderEffectManager;for(;;){if(m===x$)throw new lt(103,!1);if(p){const C=0===m;this.beforeRender.next(C);for(let{_lView:E,notifyErrorHandler:y}of this._views)Yfe(E,C,y)}if(m++,v.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:C})=>UP(C))&&(v.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:C})=>UP(C))))break}}attachView(p){const m=p;this._views.push(m),m.attachToAppRef(this)}detachView(p){const m=p;TI(this._views,m),m.detachFromAppRef()}_loadComponent(p){this.attachView(p.hostView),this.tick(),this.components.push(p);const m=this._injector.get(FP,[]);[...this._bootstrapListeners,...m].forEach(v=>v(p))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(p=>p()),this._views.slice().forEach(p=>p.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(p){return this._destroyListeners.push(p),()=>TI(this._destroyListeners,p)}destroy(){if(this._destroyed)throw new lt(406,!1);const p=this._injector;p.destroy&&!p.destroyed&&p.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(m){return new(m||d)};static#t=this.\u0275prov=fs({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();function TI(d,h){const p=d.indexOf(h);p>-1&&d.splice(p,1)}function Yfe(d,h,p){!h&&!UP(d)||function Kfe(d,h,p){let m;p?(m=0,d[Lt]|=1024):m=64&d[Lt]?0:1,ak(d,h,m)}(d,p,h)}function UP(d){return L3(d)}class Jfe{constructor(h,p){this.ngModuleFactory=h,this.componentFactories=p}}let qfe=(()=>{class d{compileModuleSync(p){return new UM(p)}compileModuleAsync(p){return Promise.resolve(this.compileModuleSync(p))}compileModuleAndAllComponentsSync(p){const m=this.compileModuleSync(p),C=zl(jt(p).declarations).reduce((E,y)=>{const w=xe(y);return w&&E.push(new dv(w)),E},[]);return new Jfe(m,C)}compileModuleAndAllComponentsAsync(p){return Promise.resolve(this.compileModuleAndAllComponentsSync(p))}clearCache(){}clearCacheFor(p){}getModuleId(p){}static#e=this.\u0275fac=function(m){return new(m||d)};static#t=this.\u0275prov=fs({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})(),tme=(()=>{class d{constructor(){this.zone=pn(ir),this.applicationRef=pn(P_)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(m){return new(m||d)};static#t=this.\u0275prov=fs({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();function nme(){const d=pn(ir),h=pn(ku);return p=>d.runOutsideAngular(()=>h.handleError(p))}let jK=(()=>{class d{constructor(){this.subscription=new p1.yU,this.initialized=!1,this.zone=pn(ir),this.pendingTasks=pn(hv)}initialize(){if(this.initialized)return;this.initialized=!0;let p=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(p=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ir.assertNotInAngularZone(),queueMicrotask(()=>{null!==p&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(p),p=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ir.assertInAngularZone(),p??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(m){return new(m||d)};static#t=this.\u0275prov=fs({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();const II=new ai("",{providedIn:"root",factory:()=>pn(II,gn.Optional|gn.SkipSelf)||function HK(){return typeof $localize<"u"&&$localize.locale||XC}()}),sme=new ai("",{providedIn:"root",factory:()=>"USD"}),BP=new ai("");let $K=(()=>{class d{constructor(p){this._injector=p,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(p,m){const v=function lX(d="zone.js",h){return"noop"===d?new CM:"zone.js"===d?new ir(h):d}(m?.ngZone,function zK(d){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:d?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:d?.runCoalescing??!1}}({eventCoalescing:m?.ngZoneEventCoalescing,runCoalescing:m?.ngZoneRunCoalescing}));return v.run(()=>{const C=function VX(d,h,p){return new FM(d,h,p)}(p.moduleType,this.injector,function VK(d){return[{provide:ir,useFactory:d},{provide:kd,multi:!0,useFactory:()=>{const h=pn(tme,{optional:!0});return()=>h.initialize()}},{provide:kd,multi:!0,useFactory:()=>{const h=pn(jK);return()=>{h.initialize()}}},{provide:QN,useFactory:nme}]}(()=>v)),E=C.injector.get(ku,null);return v.runOutsideAngular(()=>{const y=v.onError.subscribe({next:w=>{E.handleError(w)}});C.onDestroy(()=>{TI(this._modules,C),y.unsubscribe()})}),function FK(d,h,p){try{const m=p();return GP(m)?m.catch(v=>{throw h.runOutsideAngular(()=>d.handleError(v)),v}):m}catch(m){throw h.runOutsideAngular(()=>d.handleError(m)),m}}(E,v,()=>{const y=C.injector.get(PP);return y.runInitializers(),y.donePromise.then(()=>(function LW(d){"string"==typeof d&&(NW=d.toLowerCase().replace(/_/g,"-"))}(C.injector.get(II,XC)||XC),this._moduleDoBootstrap(C),C))})})}bootstrapModule(p,m=[]){const v=UK({},m);return function eme(d,h,p){const m=new UM(p);return Promise.resolve(m)}(0,0,p).then(C=>this.bootstrapModuleFactory(C,v))}_moduleDoBootstrap(p){const m=p.injector.get(P_);if(p._bootstrapComponents.length>0)p._bootstrapComponents.forEach(v=>m.bootstrap(v));else{if(!p.instance.ngDoBootstrap)throw new lt(-403,!1);p.instance.ngDoBootstrap(m)}this._modules.push(p)}onDestroy(p){this._destroyListeners.push(p)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new lt(404,!1);this._modules.slice().forEach(m=>m.destroy()),this._destroyListeners.forEach(m=>m());const p=this._injector.get(BP,null);p&&(p.forEach(m=>m()),p.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(m){return new(m||d)(Ir(Ul))};static#t=this.\u0275prov=fs({token:d,factory:d.\u0275fac,providedIn:"platform"})}return d})(),F_=null;const XK=new ai("");function WK(d,h,p=[]){const m=`Platform: ${h}`,v=new ai(m);return(C=[])=>{let E=VP();if(!E||E.injector.get(XK,!1)){const y=[...p,...C,{provide:v,useValue:!0}];d?d(y):function rme(d){if(F_&&!F_.get(XK,!1))throw new lt(400,!1);(function PK(){!function Qe(d){Mt=d}(()=>{throw new lt(600,!1)})})(),F_=d;const h=d.get($K);(function JK(d){d.get(f8,null)?.forEach(p=>p())})(d)}(function YK(d=[],h){return Ul.create({name:h,providers:[{provide:mN,useValue:"platform"},{provide:BP,useValue:new Set([()=>F_=null])},...d]})}(y,m))}return function ame(d){const h=VP();if(!h)throw new lt(401,!1);return h}()}}function VP(){return F_?.get($K)??null}function cme(){return!1}let jP=(()=>{class d{static#e=this.__NG_ELEMENT_ID__=qK}return d})();function qK(d){return function QK(d,h,p){if(rf(d)&&!p){const m=Pl(d.index,h);return new Ef(m,m)}return 47&d.type?new Ef(h[Qs],h):null}(rs(),pe(),!(16&~d))}class tJ{constructor(){}supports(h){return VM(h)}create(h){return new vme(h)}}const gme=(d,h)=>h;class vme{constructor(h){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=h||gme}forEachItem(h){let p;for(p=this._itHead;null!==p;p=p._next)h(p)}forEachOperation(h){let p=this._itHead,m=this._removalsHead,v=0,C=null;for(;p||m;){const E=!m||p&&p.currentIndex<iJ(m,v,C)?p:m,y=iJ(E,v,C),w=E.currentIndex;if(E===m)v--,m=m._nextRemoved;else if(p=p._next,null==E.previousIndex)v++;else{C||(C=[]);const M=y-v,R=w-v;if(M!=R){for(let J=0;J<M;J++){const ee=J<C.length?C[J]:C[J]=0,ae=ee+J;R<=ae&&ae<M&&(C[J]=ee+1)}C[E.previousIndex]=R-M}}y!==w&&h(E,y,w)}}forEachPreviousItem(h){let p;for(p=this._previousItHead;null!==p;p=p._nextPrevious)h(p)}forEachAddedItem(h){let p;for(p=this._additionsHead;null!==p;p=p._nextAdded)h(p)}forEachMovedItem(h){let p;for(p=this._movesHead;null!==p;p=p._nextMoved)h(p)}forEachRemovedItem(h){let p;for(p=this._removalsHead;null!==p;p=p._nextRemoved)h(p)}forEachIdentityChange(h){let p;for(p=this._identityChangesHead;null!==p;p=p._nextIdentityChange)h(p)}diff(h){if(null==h&&(h=[]),!VM(h))throw new lt(900,!1);return this.check(h)?this:null}onDestroy(){}check(h){this._reset();let v,C,E,p=this._itHead,m=!1;if(Array.isArray(h)){this.length=h.length;for(let y=0;y<this.length;y++)C=h[y],E=this._trackByFn(y,C),null!==p&&Object.is(p.trackById,E)?(m&&(p=this._verifyReinsertion(p,C,E,y)),Object.is(p.item,C)||this._addIdentityChange(p,C)):(p=this._mismatch(p,C,E,y),m=!0),p=p._next}else v=0,function HX(d,h){if(Array.isArray(d))for(let p=0;p<d.length;p++)h(d[p]);else{const p=d[Symbol.iterator]();let m;for(;!(m=p.next()).done;)h(m.value)}}(h,y=>{E=this._trackByFn(v,y),null!==p&&Object.is(p.trackById,E)?(m&&(p=this._verifyReinsertion(p,y,E,v)),Object.is(p.item,y)||this._addIdentityChange(p,y)):(p=this._mismatch(p,y,E,v),m=!0),p=p._next,v++}),this.length=v;return this._truncate(p),this.collection=h,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let h;for(h=this._previousItHead=this._itHead;null!==h;h=h._next)h._nextPrevious=h._next;for(h=this._additionsHead;null!==h;h=h._nextAdded)h.previousIndex=h.currentIndex;for(this._additionsHead=this._additionsTail=null,h=this._movesHead;null!==h;h=h._nextMoved)h.previousIndex=h.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(h,p,m,v){let C;return null===h?C=this._itTail:(C=h._prev,this._remove(h)),null!==(h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(m,null))?(Object.is(h.item,p)||this._addIdentityChange(h,p),this._reinsertAfter(h,C,v)):null!==(h=null===this._linkedRecords?null:this._linkedRecords.get(m,v))?(Object.is(h.item,p)||this._addIdentityChange(h,p),this._moveAfter(h,C,v)):h=this._addAfter(new nJ(p,m),C,v),h}_verifyReinsertion(h,p,m,v){let C=null===this._unlinkedRecords?null:this._unlinkedRecords.get(m,null);return null!==C?h=this._reinsertAfter(C,h._prev,v):h.currentIndex!=v&&(h.currentIndex=v,this._addToMoves(h,v)),h}_truncate(h){for(;null!==h;){const p=h._next;this._addToRemovals(this._unlink(h)),h=p}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(h,p,m){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(h);const v=h._prevRemoved,C=h._nextRemoved;return null===v?this._removalsHead=C:v._nextRemoved=C,null===C?this._removalsTail=v:C._prevRemoved=v,this._insertAfter(h,p,m),this._addToMoves(h,m),h}_moveAfter(h,p,m){return this._unlink(h),this._insertAfter(h,p,m),this._addToMoves(h,m),h}_addAfter(h,p,m){return this._insertAfter(h,p,m),this._additionsTail=null===this._additionsTail?this._additionsHead=h:this._additionsTail._nextAdded=h,h}_insertAfter(h,p,m){const v=null===p?this._itHead:p._next;return h._next=v,h._prev=p,null===v?this._itTail=h:v._prev=h,null===p?this._itHead=h:p._next=h,null===this._linkedRecords&&(this._linkedRecords=new KP),this._linkedRecords.put(h),h.currentIndex=m,h}_remove(h){return this._addToRemovals(this._unlink(h))}_unlink(h){null!==this._linkedRecords&&this._linkedRecords.remove(h);const p=h._prev,m=h._next;return null===p?this._itHead=m:p._next=m,null===m?this._itTail=p:m._prev=p,h}_addToMoves(h,p){return h.previousIndex===p||(this._movesTail=null===this._movesTail?this._movesHead=h:this._movesTail._nextMoved=h),h}_addToRemovals(h){return null===this._unlinkedRecords&&(this._unlinkedRecords=new KP),this._unlinkedRecords.put(h),h.currentIndex=null,h._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=h,h._prevRemoved=null):(h._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=h),h}_addIdentityChange(h,p){return h.item=p,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=h:this._identityChangesTail._nextIdentityChange=h,h}}class nJ{constructor(h,p){this.item=h,this.trackById=p,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Sme{constructor(){this._head=null,this._tail=null}add(h){null===this._head?(this._head=this._tail=h,h._nextDup=null,h._prevDup=null):(this._tail._nextDup=h,h._prevDup=this._tail,h._nextDup=null,this._tail=h)}get(h,p){let m;for(m=this._head;null!==m;m=m._nextDup)if((null===p||p<=m.currentIndex)&&Object.is(m.trackById,h))return m;return null}remove(h){const p=h._prevDup,m=h._nextDup;return null===p?this._head=m:p._nextDup=m,null===m?this._tail=p:m._prevDup=p,null===this._head}}class KP{constructor(){this.map=new Map}put(h){const p=h.trackById;let m=this.map.get(p);m||(m=new Sme,this.map.set(p,m)),m.add(h)}get(h,p){const v=this.map.get(h);return v?v.get(h,p):null}remove(h){const p=h.trackById;return this.map.get(p).remove(h)&&this.map.delete(p),h}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iJ(d,h,p){const m=d.previousIndex;if(null===m)return m;let v=0;return p&&m<p.length&&(v=p[m]),m+h+v}class sJ{constructor(){}supports(h){return h instanceof Map||xC(h)}create(){return new Cme}}class Cme{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(h){let p;for(p=this._mapHead;null!==p;p=p._next)h(p)}forEachPreviousItem(h){let p;for(p=this._previousMapHead;null!==p;p=p._nextPrevious)h(p)}forEachChangedItem(h){let p;for(p=this._changesHead;null!==p;p=p._nextChanged)h(p)}forEachAddedItem(h){let p;for(p=this._additionsHead;null!==p;p=p._nextAdded)h(p)}forEachRemovedItem(h){let p;for(p=this._removalsHead;null!==p;p=p._nextRemoved)h(p)}diff(h){if(h){if(!(h instanceof Map||xC(h)))throw new lt(900,!1)}else h=new Map;return this.check(h)?this:null}onDestroy(){}check(h){this._reset();let p=this._mapHead;if(this._appendAfter=null,this._forEach(h,(m,v)=>{if(p&&p.key===v)this._maybeAddToChanges(p,m),this._appendAfter=p,p=p._next;else{const C=this._getOrCreateRecordForKey(v,m);p=this._insertBeforeOrAppend(p,C)}}),p){p._prev&&(p._prev._next=null),this._removalsHead=p;for(let m=p;null!==m;m=m._nextRemoved)m===this._mapHead&&(this._mapHead=null),this._records.delete(m.key),m._nextRemoved=m._next,m.previousValue=m.currentValue,m.currentValue=null,m._prev=null,m._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(h,p){if(h){const m=h._prev;return p._next=h,p._prev=m,h._prev=p,m&&(m._next=p),h===this._mapHead&&(this._mapHead=p),this._appendAfter=h,h}return this._appendAfter?(this._appendAfter._next=p,p._prev=this._appendAfter):this._mapHead=p,this._appendAfter=p,null}_getOrCreateRecordForKey(h,p){if(this._records.has(h)){const v=this._records.get(h);this._maybeAddToChanges(v,p);const C=v._prev,E=v._next;return C&&(C._next=E),E&&(E._prev=C),v._next=null,v._prev=null,v}const m=new bme(h);return this._records.set(h,m),m.currentValue=p,this._addToAdditions(m),m}_reset(){if(this.isDirty){let h;for(this._previousMapHead=this._mapHead,h=this._previousMapHead;null!==h;h=h._next)h._nextPrevious=h._next;for(h=this._changesHead;null!==h;h=h._nextChanged)h.previousValue=h.currentValue;for(h=this._additionsHead;null!=h;h=h._nextAdded)h.previousValue=h.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(h,p){Object.is(p,h.currentValue)||(h.previousValue=h.currentValue,h.currentValue=p,this._addToChanges(h))}_addToAdditions(h){null===this._additionsHead?this._additionsHead=this._additionsTail=h:(this._additionsTail._nextAdded=h,this._additionsTail=h)}_addToChanges(h){null===this._changesHead?this._changesHead=this._changesTail=h:(this._changesTail._nextChanged=h,this._changesTail=h)}_forEach(h,p){h instanceof Map?h.forEach(p):Object.keys(h).forEach(m=>p(h[m],m))}}class bme{constructor(h){this.key=h,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function oJ(){return new JP([new tJ])}let JP=(()=>{class d{static#e=this.\u0275prov=fs({token:d,providedIn:"root",factory:oJ});constructor(p){this.factories=p}static create(p,m){if(null!=m){const v=m.factories.slice();p=p.concat(v)}return new d(p)}static extend(p){return{provide:d,useFactory:m=>d.create(p,m||oJ()),deps:[[d,new O1,new Fe]]}}find(p){const m=this.factories.find(v=>v.supports(p));if(null!=m)return m;throw new lt(901,!1)}}return d})();function rJ(){return new qP([new sJ])}let qP=(()=>{class d{static#e=this.\u0275prov=fs({token:d,providedIn:"root",factory:rJ});constructor(p){this.factories=p}static create(p,m){if(m){const v=m.factories.slice();p=p.concat(v)}return new d(p)}static extend(p){return{provide:d,useFactory:m=>d.create(p,m||rJ()),deps:[[d,new O1,new Fe]]}}find(p){const m=this.factories.find(v=>v.supports(p));if(m)return m;throw new lt(901,!1)}}return d})();const kme=WK(null,"core",[]);let wme=(()=>{class d{constructor(p){}static#e=this.\u0275fac=function(m){return new(m||d)(Ir(P_))};static#t=this.\u0275mod=Z({type:d});static#n=this.\u0275inj=m1({})}return d})();function t_e(d){return"boolean"==typeof d?d:null!=d&&"false"!==d}function i_e(d){const h=at(null);try{return d()}finally{at(h)}}function eF(d){const h=xe(d);if(!h)return null;const p=new dv(h);return{get selector(){return p.selector},get type(){return p.componentType},get inputs(){return p.inputs},get outputs(){return p.outputs},get ngContentSelectors(){return p.ngContentSelectors},get isStandalone(){return h.standalone},get isSignal(){return h.signals}}}},446:(Fs,un,_e)=>{"use strict";_e.d(un,{Bs:()=>hn,W5:()=>ji,XO:()=>gt,Yq:()=>kn,fK:()=>tn,qr:()=>hu,vh:()=>Yp});var ot=_e(438),q=_e(987),je=_e(910);const rt={name:"@progress/kendo-angular-intl",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1710925027,version:"15.3.0",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/"},nt="http://www.telerik.com/kendo-angular-ui/components/internationalization/troubleshooting/",t={NoCurrency:`Solution: ${nt}#toc-no-currency`,NoCurrencyDisplay:`Solution: ${nt}#toc-no-currency-display`,NoCurrencyRegion:`Solution: ${nt}#toc-no-currency-region`,NoDateFieldNames:`Solution: ${nt}#toc-no-date-filed-names`,NoFirstDay:`Solution: ${nt}#toc-no-first-day`,NoGMTInfo:`Solution: ${nt}#toc-no-gmt-info`,NoLocale:`Solution: ${nt}#toc-no-locale`,NoValidCurrency:`Solution: ${nt}#toc-no-valid-currency`,NoWeekData:`Solution: ${nt}#toc-no-week-data`};function at(Mt){const In=Mt.message,Qe=t[Object.keys(t).filter(ui=>0===In.indexOf(ui))[0]];return Qe?`${In} ${Qe}`:In}function qt(Mt){return function(...In){try{return Mt(...In)}catch(Qe){throw Qe.message=at(Qe),Qe}}}const Wt=qt(je.WX),ut=qt(je.MR),De=qt(je.$r),de=qt(je.GP),kn=qt(je.Yq),it=qt(je.ZV),bi=(qt(je.Hh),qt(je.pG)),oi=qt(je._U),Mn=qt(je.$J),Ei=qt(je.mM),ys=qt(je.dI),vi=qt(je.ve),gt=Mt=>je.XO(Mt),tn=Mt=>{try{return je.DA(Mt)}catch(In){throw In.message=at(In),In}},Ws=/_/g;let hn=(()=>{class Mt{constructor(){this.changes=new ot.bkB,(0,q.$)(rt)}notify(){this.changes.emit()}}return Mt.\u0275fac=function(Qe){return new(Qe||Mt)},Mt.\u0275prov=ot.jDH({token:Mt,factory:function(Qe){let ui=null;return ui=Qe?new Qe:function Us(Mt){return new hu(Mt)}(ot.KVO(ot.xe9)),ui},providedIn:"root"}),Mt})(),hu=(()=>{class Mt extends hn{constructor(Qe){super(),this.localeId=Qe}get localeId(){return this.locale}set localeId(Qe){const ui=Qe.replace(Ws,"-");ui!==this.locale&&(this.locale=ui,this.notify())}format(Qe,...ui){return de(Qe,ui,this.localeId)}toString(Qe,ui,oa){return ys(Qe,ui,oa||this.localeId)}formatDate(Qe,ui,oa){return kn(Qe,ui,oa||this.localeId)}parseDate(Qe,ui,oa){return oi(Qe,ui,oa||this.localeId)}parseNumber(Qe,ui,oa){return Mn(Qe,oa||this.localeId,ui)}formatNumber(Qe,ui,oa){return it(Qe,ui,oa||this.localeId)}dateFieldName(Qe,ui){return ut(Qe,ui||this.localeId)}dateFormatNames(Qe,ui){return Wt(ui||this.localeId,Qe)}splitDateFormat(Qe,ui){return Ei(Qe,ui||this.localeId)}numberSymbols(Qe){return bi(Qe||this.localeId)}firstDay(Qe){return De(Qe||this.localeId)}weekendRange(Qe){return vi(Qe||this.localeId)}}return Mt.\u0275fac=function(Qe){return new(Qe||Mt)(ot.KVO(ot.xe9))},Mt.\u0275prov=ot.jDH({token:Mt,factory:Mt.\u0275fac}),Mt})(),Yp=(()=>{class Mt{constructor(Qe){this.intlService=Qe}transform(Qe,ui="",oa){return(Qe=this.normalize(Qe))&&this.intlService.formatDate(Qe,ui,oa)}normalize(Qe){return Qe&&"string"==typeof Qe?Qe=this.intlService.parseDate(Qe):Qe&&(Mt=>!isNaN(Mt-parseFloat(Mt)))(Qe)&&(Qe=new Date(parseFloat(Qe))),Qe}}return Mt.\u0275fac=function(Qe){return new(Qe||Mt)(ot.rXU(hn,16))},Mt.\u0275pipe=ot.EJ8({name:"kendoDate",type:Mt,pure:!0}),Mt})(),ji=(()=>{class Mt{}return Mt.\u0275fac=function(Qe){return new(Qe||Mt)},Mt.\u0275mod=ot.$C({type:Mt}),Mt.\u0275inj=ot.G2t({}),Mt})()},987:(Fs,un,_e)=>{"use strict";_e.d(un,{$:()=>t});var de,kn,ot=["z2v0vgLTzq==","ww91CIbSAwnLBNnLigv4CgLYzwqGB24G","zgf0yq==","uhjVz3jLC3mG","AgvmshG=","u2vLia==","ChjVzhvJDenVzgvZ","C2nYAxb0s2v5","D3rmuhm=","rKjcwKG=","tM8GBgLJzw5ZzsbMB3vUzc4k","CgfJA2fNzu5HBwu=","qvfYAMq=","CgfYC2u=","ChjVzhvJDhm=","igzVCIbTB3jLigLUzM9YBwf0Aw9UlGO=","sgr5sMW=","rg9iAwe=","zxDJr2C=","Du9wCuK=","z2v0rNvSBfLLyxi=","lcb0AguGCgfJA2fNzsb3yxmGChvIBgLZAgvKig9Uia==","C2v0","zxrNsxC=","C29YDa==","EeXMBLu=","AgfZ","s0XeCe8=","rM1Ttxy=","tNvstvG=","ww91CIb0CMLHBcbSAwnLBNnLigv4CgLYzwqGB24G","z2v0rgf0zq==","BgvUz3rO","txPHwe8=","BgLJzw5Zzuv4CgLYyxrPB25eyxrL","DhjPywW=","vejxq3K=","r2Ltv1q=","uhPWBva=","z2v0","vgHLihbYB2r1y3qGAxmGBM90igLUy2X1zgvKigLUihrOzsbSAwnLBNnLlGO=","z2v0tw9UDgG=","s2DnDfK=","DMvYC2LVBG==","rKj6sum=","DgLTzxn0yw1W","B2jQzwn0","DhLWzq==","BgLJzw5ZAw5Nrg9JC1vYBa==","BMfTzq==","DwTXAeq=","zg9JC1vYBa==","z3jVDxbfBMq=","z3jVDxa=","yuDyzhy=","zMLUza==","D2fYBG==","zNvUy3rPB24=","Dw5KzwzPBMvK","ChjVzhvJDe5HBwu=","y29Uy2f0","ChvIBgLZAerHDgu=","zxHWAxj5rgf0zq==","CeDhAfu=","y29Kzq==","Dg9mB2nHBgvtDhjPBMC=","tgLJzw5ZzsbHy3rPDMf0Aw9UigzHAwXLzcbMB3iG"];de=ot,kn=439,function(_n){for(;--_n;)de.push(de.shift())}(++kn);var q=function(de,kn){var it=ot[de-=0];void 0===q.aWziBr&&(q.XjGMHe=function(oi){for(var Mn=function(oi){for(var gt,tn,Ei=String(oi).replace(/=+$/,""),ys="",vi=0,Ws=0;tn=Ei.charAt(Ws++);~tn&&(gt=vi%4?64*gt+tn:tn,vi++%4)?ys+=String.fromCharCode(255&gt>>(-2*vi&6)):0)tn="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(tn);return ys}(oi),Ei=[],ys=0,vi=Mn.length;ys<vi;ys++)Ei+="%"+("00"+Mn.charCodeAt(ys).toString(16)).slice(-2);return decodeURIComponent(Ei)},q.XQgCdR={},q.aWziBr=!0);var bi=q.XQgCdR[de];return void 0===bi?(it=q.XjGMHe(it),q.XQgCdR[de]=it):it=bi,it},je={data:'  {"timestamp":1692719844,"products":[{"trial":false,"code":"KENDOUIREACT","licenseExpirationDate":1760754317},{"trial":false,"code":"KENDOUICOMPLETE","licenseExpirationDate":1760754317},{"trial":false,"code":"KENDOUIVUE","licenseExpirationDate":1760754317},{"trial":false,"code":"KENDOUIANGULAR","licenseExpirationDate":1760754317}],"integrity":"zyPtD1/IxnHO2qGZFJGgqD0iFkY="}  '},rt=new Map;function t(de){if(rt[q("0x38")](de[q("0xc")])&&q("0x3a")==q("0x3a"))return rt[q("0x2")](de[q("0xc")]);var Ei,kn=de[q("0x6")]?" v"+de[q("0x6")]:"",it=de[q("0xc")]+kn,_n=JSON[q("0x2b")](je[q("0x20")]),bi=!_n[q("0x25")]&&!_n[q("0x8")],oi=_n[q("0x25")]&&typeof KendoLicensing===q("0x15"),Mn=function qt(de,kn){var it=de[q("0x2c")];if(!(it&&it[q("0x3e")]||q("0x27")===q("0x37")))return null;var _n=new Set(kn);return it[q("0x36")](function(bi,oi){if(q("0x42")!==q("0x31"))return oi[q("0x40")]-bi[q("0x40")]})[q("0x12")](function(bi){if(q("0x3b")==q("0x3b"))return _n[q("0x38")](bi[q("0x1b")])})}(_n,de[q("0x24")]);if(bi||oi?q("0x2a")===q("0x2f")||(Ei={type:0,packageName:it,docsUrl:de[q("0xb")]}):q("0x39")==q("0x39")&&(Mn?!0===Mn[q("0x41")]&&De(function ut(){return(new Date)[q("0x1e")]()/1e3}(),Mn[q("0x40")])?q("0x0")==q("0x0")&&(Ei={type:3,packageName:it,expiryDate:Wt(Mn[q("0x40")]),docsUrl:de[q("0xb")]}):De(de[q("0x18")],Mn[q("0x40")])&&(q("0x22")!=q("0x22")||(Ei={type:2,packageName:it,publishDate:Wt(de[q("0x18")]),expiryDate:Wt(Mn[q("0x40")]),docsUrl:de[q("0xb")]})):q("0x1a")!=q("0x1a")||(Ei={type:1,packageName:it,docsUrl:de[q("0xb")]})),Ei&&typeof console===q("0x9"))if(q("0x5")!=q("0x5"));else{var ys=q("0x21")[q("0x17")](de[q("0x16")]),vi=typeof console[q("0x10")]===q("0x14");vi?q("0x2e")==q("0x2e")&&console[q("0x10")](ys):q("0x30")!==q("0x7")&&console[q("0x13")](ys),console[q("0x13")](function at(de){var kn=q("0x1d")[q("0x17")](de[q("0x29")],"\n");return 2===de[q("0xa")]&&q("0x3f")!==q("0x1")&&(kn+=q("0x1f")[q("0x17")](de[q("0x19")][q("0x1c")](),q("0x33"))[q("0x17")](de[q("0x18")][q("0x1c")](),".\n")),3===de[q("0xa")]?q("0x11")==q("0x11")&&(kn+=q("0x3c")[q("0x17")](de[q("0x19")][q("0x1c")](),".\n")):0===de[q("0xa")]?q("0x35")==q("0x35")&&(kn+=q("0x28")):1===de[q("0xa")]&&(q("0x26")!=q("0x26")||(kn+=q("0x3"))),kn+=q("0x23")[q("0x17")](de[q("0xe")],q("0x2d"))}(Ei)),vi&&(q("0xd")!=q("0xd")||console[q("0xf")]())}var gt=!Ei;return rt[q("0x34")](de[q("0xc")],gt),gt}function Wt(de){return new Date(1e3*de)}function De(de,kn){var it=Wt(kn);return de>new Date(it[q("0x32")](),it[q("0x4")](),it[q("0x3d")]()+1)[q("0x1e")]()/1e3}},467:(Fs,un,_e)=>{"use strict";function ot(je,rt,nt,t,at,qt,Wt){try{var ut=je[qt](Wt),De=ut.value}catch(de){return void nt(de)}ut.done?rt(De):Promise.resolve(De).then(t,at)}function q(je){return function(){var rt=this,nt=arguments;return new Promise(function(t,at){var qt=je.apply(rt,nt);function Wt(De){ot(qt,t,at,Wt,ut,"next",De)}function ut(De){ot(qt,t,at,Wt,ut,"throw",De)}Wt(void 0)})}}_e.d(un,{A:()=>q})}},Fs=>{Fs(Fs.s=174)}]);